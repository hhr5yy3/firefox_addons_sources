var Kr=Object.defineProperty;var Yr=(j,V,be)=>V in j?Kr(j,V,{enumerable:!0,configurable:!0,writable:!0,value:be}):j[V]=be;var Mt=(j,V,be)=>(Yr(j,typeof V!="symbol"?V+"":V,be),be),fi=(j,V,be)=>{if(!V.has(j))throw TypeError("Cannot "+be)};var Ce=(j,V,be)=>(fi(j,V,"read from private field"),be?be.call(j):V.get(j)),je=(j,V,be)=>{if(V.has(j))throw TypeError("Cannot add the same private member more than once");V instanceof WeakSet?V.add(j):V.set(j,be)},Ye=(j,V,be,J)=>(fi(j,V,"write to private field"),J?J.call(j,be):V.set(j,be),be);var wn=(j,V,be,J)=>({set _(ve){Ye(j,V,ve,be)},get _(){return Ce(j,V,J)}}),qe=(j,V,be)=>(fi(j,V,"access private method"),be);(function(){"use strict";function _mergeNamespaces(j,V){for(var be=0;be<V.length;be++){const J=V[be];if(typeof J!="string"&&!Array.isArray(J)){for(const ve in J)if(ve!=="default"&&!(ve in j)){const we=Object.getOwnPropertyDescriptor(J,ve);we&&Object.defineProperty(j,ve,we.get?we:{enumerable:!0,get:()=>J[ve]})}}}return Object.freeze(Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}))}function defineBackground(j){return typeof j=="function"?{main:j}:j}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}function getAugmentedNamespace(j){if(j.__esModule)return j;var V=j.default;if(typeof V=="function"){var be=function J(){return this instanceof J?Reflect.construct(V,arguments,this.constructor):V.apply(this,arguments)};be.prototype=V.prototype}else be={};return Object.defineProperty(be,"__esModule",{value:!0}),Object.keys(j).forEach(function(J){var ve=Object.getOwnPropertyDescriptor(j,J);Object.defineProperty(be,J,ve.get?ve:{enumerable:!0,get:function(){return j[J]}})}),be}var browserPolyfill={exports:{}};(function(j,V){(function(be,J){J(j)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:commonjsGlobal,function(be){var J,ve;if(!((ve=(J=globalThis.chrome)==null?void 0:J.runtime)!=null&&ve.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const we="The message port closed before a response was received.",fe=f=>{const $={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys($).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(b,N=void 0){super(N),this.createItem=b}get(b){return this.has(b)||this.set(b,this.createItem(b)),super.get(b)}}const d=v=>v&&typeof v=="object"&&typeof v.then=="function",T=(v,b)=>(...N)=>{f.runtime.lastError?v.reject(new Error(f.runtime.lastError.message)):b.singleCallbackArg||N.length<=1&&b.singleCallbackArg!==!1?v.resolve(N[0]):v.resolve(N)},e=v=>v==1?"argument":"arguments",t=(v,b)=>function(U,...D){if(D.length<b.minArgs)throw new Error(`Expected at least ${b.minArgs} ${e(b.minArgs)} for ${v}(), got ${D.length}`);if(D.length>b.maxArgs)throw new Error(`Expected at most ${b.maxArgs} ${e(b.maxArgs)} for ${v}(), got ${D.length}`);return new Promise((I,B)=>{if(b.fallbackToNoCallback)try{U[v](...D,T({resolve:I,reject:B},b))}catch(_){console.warn(`${v} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,_),U[v](...D),b.fallbackToNoCallback=!1,b.noCallback=!0,I()}else b.noCallback?(U[v](...D),I()):U[v](...D,T({resolve:I,reject:B},b))})},l=(v,b,N)=>new Proxy(b,{apply(U,D,I){return N.call(D,v,...I)}});let L=Function.call.bind(Object.prototype.hasOwnProperty);const F=(v,b={},N={})=>{let U=Object.create(null),D={has(B,_){return _ in v||_ in U},get(B,_,P){if(_ in U)return U[_];if(!(_ in v))return;let X=v[_];if(typeof X=="function")if(typeof b[_]=="function")X=l(v,v[_],b[_]);else if(L(N,_)){let m=t(_,N[_]);X=l(v,v[_],m)}else X=X.bind(v);else if(typeof X=="object"&&X!==null&&(L(b,_)||L(N,_)))X=F(X,b[_],N[_]);else if(L(N,"*"))X=F(X,b[_],N["*"]);else return Object.defineProperty(U,_,{configurable:!0,enumerable:!0,get(){return v[_]},set(m){v[_]=m}}),X;return U[_]=X,X},set(B,_,P,X){return _ in U?U[_]=P:v[_]=P,!0},defineProperty(B,_,P){return Reflect.defineProperty(U,_,P)},deleteProperty(B,_){return Reflect.deleteProperty(U,_)}},I=Object.create(v);return new Proxy(I,D)},g=v=>({addListener(b,N,...U){b.addListener(v.get(N),...U)},hasListener(b,N){return b.hasListener(v.get(N))},removeListener(b,N){b.removeListener(v.get(N))}}),w=new n(v=>typeof v!="function"?v:function(N){const U=F(N,{},{getContent:{minArgs:0,maxArgs:0}});v(U)}),u=new n(v=>typeof v!="function"?v:function(N,U,D){let I=!1,B,_=new Promise(S=>{B=function(R){I=!0,S(R)}}),P;try{P=v(N,U,B)}catch(S){P=Promise.reject(S)}const X=P!==!0&&d(P);if(P!==!0&&!X&&!I)return!1;const m=S=>{S.then(R=>{D(R)},R=>{let z;R&&(R instanceof Error||typeof R.message=="string")?z=R.message:z="An unexpected error occurred",D({__mozWebExtensionPolyfillReject__:!0,message:z})}).catch(R=>{console.error("Failed to send onMessage rejected reply",R)})};return m(X?P:_),!0}),h=({reject:v,resolve:b},N)=>{f.runtime.lastError?f.runtime.lastError.message===we?b():v(new Error(f.runtime.lastError.message)):N&&N.__mozWebExtensionPolyfillReject__?v(new Error(N.message)):b(N)},i=(v,b,N,...U)=>{if(U.length<b.minArgs)throw new Error(`Expected at least ${b.minArgs} ${e(b.minArgs)} for ${v}(), got ${U.length}`);if(U.length>b.maxArgs)throw new Error(`Expected at most ${b.maxArgs} ${e(b.maxArgs)} for ${v}(), got ${U.length}`);return new Promise((D,I)=>{const B=h.bind(null,{resolve:D,reject:I});U.push(B),N.sendMessage(...U)})},x={devtools:{network:{onRequestFinished:g(w)}},runtime:{onMessage:g(u),onMessageExternal:g(u),sendMessage:i.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:i.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return $.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},F(f,x,$)};be.exports=fe(chrome)}else be.exports=globalThis.browser})})(browserPolyfill);var browserPolyfillExports=browserPolyfill.exports;const originalBrowser=getDefaultExportFromCjs$1(browserPolyfillExports);var browser$4=originalBrowser,has=Object.prototype.hasOwnProperty;function dequal(j,V){var be,J;if(j===V)return!0;if(j&&V&&(be=j.constructor)===V.constructor){if(be===Date)return j.getTime()===V.getTime();if(be===RegExp)return j.toString()===V.toString();if(be===Array){if((J=j.length)===V.length)for(;J--&&dequal(j[J],V[J]););return J===-1}if(!be||typeof j=="object"){J=0;for(be in j)if(has.call(j,be)&&++J&&!has.call(V,be)||!(be in V)||!dequal(j[be],V[be]))return!1;return Object.keys(V).length===J}}return j!==j&&V!==V}var browser$3=originalBrowser;function print$1(j,...V){}var logger$1={debug:(...j)=>print$1(console.debug,...j),log:(...j)=>print$1(console.log,...j),warn:(...j)=>print$1(console.warn,...j),error:(...j)=>print$1(console.error,...j)},storage=createStorage();function createStorage(){const j={local:createDriver("local"),session:createDriver("session"),sync:createDriver("sync"),managed:createDriver("managed")},V=l=>{const L=j[l];if(L==null){const F=Object.keys(j).join(", ");throw Error(`Invalid area "${l}". Options: ${F}`)}return L},be=l=>{const L=l.indexOf(":"),F=l.substring(0,L),g=l.substring(L+1);if(g==null)throw Error(`Storage key should be in the form of "area:key", but received "${l}"`);return{driverArea:F,driverKey:g,driver:V(F)}},J=l=>l+"$",ve=(l,L)=>l??L??null,we=l=>typeof l=="object"&&!Array.isArray(l)?l:{},fe=async(l,L,F)=>{const g=await l.getItem(L);return ve(g,F==null?void 0:F.defaultValue)},f=async(l,L)=>{const F=J(L),g=await l.getItem(F);return we(g)},$=async(l,L,F)=>{await l.setItem(L,F??null)},n=async(l,L,F)=>{const g=J(L),u={...we(await l.getItem(g))};Object.entries(F).forEach(([h,i])=>{i==null?delete u[h]:u[h]=i}),await l.setItem(g,u)},d=async(l,L,F)=>{if(await l.removeItem(L),F!=null&&F.removeMeta){const g=J(L);await l.removeItem(g)}},T=async(l,L,F)=>{const g=J(L);if(F==null)await l.removeItem(g);else{const w=we(await l.getItem(g));[F].flat().forEach(u=>delete w[u]),await l.setItem(g,w)}},e=(l,L,F)=>l.watch(L,F);return{getItem:async(l,L)=>{const{driver:F,driverKey:g}=be(l);return await fe(F,g,L)},getItems:async l=>{const L=new Map,F=new Map;return l.forEach(w=>{let u,h;typeof w=="string"?u=w:(u=w.key,h=w.options);const{driverArea:i,driverKey:x}=be(u),p=L.get(i)??[];L.set(i,p.concat(x)),F.set(u,h)}),(await Promise.all(Array.from(L.entries()).map(async([w,u])=>(await j[w].getItems(u)).map(i=>{var v;const x=`${w}:${i.key}`,p=ve(i.value,(v=F.get(x))==null?void 0:v.defaultValue);return{key:x,value:p}})))).flat()},getMeta:async l=>{const{driver:L,driverKey:F}=be(l);return await f(L,F)},setItem:async(l,L)=>{const{driver:F,driverKey:g}=be(l);await $(F,g,L)},setItems:async l=>{const L=new Map;l.forEach(({key:F,value:g})=>{const{driverArea:w,driverKey:u}=be(F),h=L.get(w)??[];L.set(w,h.concat({key:u,value:g}))}),await Promise.all(Array.from(L.entries()).map(async([F,g])=>{await V(F).setItems(g)}))},setMeta:async(l,L)=>{const{driver:F,driverKey:g}=be(l);await n(F,g,L)},removeItem:async(l,L)=>{const{driver:F,driverKey:g}=be(l);await d(F,g,L)},removeItems:async l=>{const L=new Map;l.forEach(F=>{let g,w;typeof F=="string"?g=F:(g=F.key,w=F.options);const{driverArea:u,driverKey:h}=be(g),i=L.get(u)??[];i.push(h),w!=null&&w.removeMeta&&i.push(J(h)),L.set(u,i)}),await Promise.all(Array.from(L.entries()).map(async([F,g])=>{await V(F).removeItems(g)}))},removeMeta:async(l,L)=>{const{driver:F,driverKey:g}=be(l);await T(F,g,L)},snapshot:async(l,L)=>{var w;const g=await V(l).snapshot();return(w=L==null?void 0:L.excludeKeys)==null||w.forEach(u=>{delete g[u],delete g[J(u)]}),g},restoreSnapshot:async(l,L)=>{await V(l).restoreSnapshot(L)},watch:(l,L)=>{const{driver:F,driverKey:g}=be(l);return e(F,g,L)},unwatch(){Object.values(j).forEach(l=>{l.unwatch()})},defineItem:(l,L)=>{const{driver:F,driverKey:g}=be(l),{version:w=1,migrations:u={}}=L??{};if(w<1)throw Error("Storage item version cannot be less than 1. Initial versions should be set to 1, not 0.");const h=async()=>{var I;const p=J(g),[{value:v},{value:b}]=await F.getItems([g,p]);if(v==null)return;const N=(b==null?void 0:b.v)??1;if(N>w)throw Error(`Version downgrade detected (v${N} -> v${w}) for "${l}"`);logger$1.debug(`Running storage migration for ${l}: v${N} -> v${w}`);const U=Array.from({length:w-N},(B,_)=>N+_+1);let D=v;for(const B of U)D=await((I=u==null?void 0:u[B])==null?void 0:I.call(u,D))??D;await F.setItems([{key:g,value:D},{key:p,value:{...b,v:w}}]),logger$1.debug(`Storage migration completed for ${l} v${w}`,{migratedValue:D})},i=(L==null?void 0:L.migrations)==null?Promise.resolve():h().catch(p=>{logger$1.error(`Migration failed for ${l}`,p)}),x=()=>(L==null?void 0:L.defaultValue)??null;return{get defaultValue(){return x()},getValue:async()=>(await i,await fe(F,g,L)),getMeta:async()=>(await i,await f(F,g)),setValue:async p=>(await i,await $(F,g,p)),setMeta:async p=>(await i,await n(F,g,p)),removeValue:async p=>(await i,await d(F,g,p)),removeMeta:async p=>(await i,await T(F,g,p)),watch:p=>e(F,g,(v,b)=>p(v??x(),b??x())),migrate:h}}}}function createDriver(j){const V=()=>{if(browser$3.runtime==null)throw Error(["'wxt/storage' must be loaded in a web extension environment",`
 - If thrown during a build, see https://github.com/wxt-dev/wxt/issues/371`,` - If thrown during tests, mock 'wxt/browser' correctly. See https://wxt.dev/guide/testing.html
`].join(`
`));if(browser$3.storage==null)throw Error("You must add the 'storage' permission to your manifest to use 'wxt/storage'");const J=browser$3.storage[j];if(J==null)throw Error(`"browser.storage.${j}" is undefined`);return J},be=new Set;return{getItem:async J=>(await V().get(J))[J],getItems:async J=>{const ve=await V().get(J);return J.map(we=>({key:we,value:ve[we]??null}))},setItem:async(J,ve)=>{ve==null?await V().remove(J):await V().set({[J]:ve})},setItems:async J=>{const ve=J.reduce((we,{key:fe,value:f})=>(we[fe]=f,we),{});await V().set(ve)},removeItem:async J=>{await V().remove(J)},removeItems:async J=>{await V().remove(J)},snapshot:async()=>await V().get(),restoreSnapshot:async J=>{await V().set(J)},watch(J,ve){const we=fe=>{const f=fe[J];f!=null&&(dequal(f.newValue,f.oldValue)||ve(f.newValue??null,f.oldValue??null))};return V().onChanged.addListener(we),be.add(we),()=>{V().onChanged.removeListener(we),be.delete(we)}},unwatch(){be.forEach(J=>{V().onChanged.removeListener(J)}),be.clear()}}}const global$1=globalThis||void 0||self;var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof global$1<"u"?ws=global$1.WebSocket||global$1.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;function getDefaultExportFromCjs(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var browser$2={exports:{}},process=browser$2.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(j){if(cachedSetTimeout===setTimeout)return setTimeout(j,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(j,0);try{return cachedSetTimeout(j,0)}catch{try{return cachedSetTimeout.call(null,j,0)}catch{return cachedSetTimeout.call(this,j,0)}}}function runClearTimeout(j){if(cachedClearTimeout===clearTimeout)return clearTimeout(j);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(j);try{return cachedClearTimeout(j)}catch{try{return cachedClearTimeout.call(null,j)}catch{return cachedClearTimeout.call(this,j)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var j=runTimeout(cleanUpNextTick);draining=!0;for(var V=queue.length;V;){for(currentQueue=queue,queue=[];++queueIndex<V;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,V=queue.length}currentQueue=null,draining=!1,runClearTimeout(j)}}process.nextTick=function(j){var V=new Array(arguments.length-1);if(arguments.length>1)for(var be=1;be<arguments.length;be++)V[be-1]=arguments[be];queue.push(new Item(j,V)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(j,V){this.fun=j,this.array=V}Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={};function noop(){}process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(j){return[]},process.binding=function(j){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(j){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};var browserExports=browser$2.exports;const process$1=getDefaultExportFromCjs(browserExports);var dist={},hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,function(j){Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var V={},be={};be.byteLength=d,be.toByteArray=e,be.fromByteArray=L;for(var J=[],ve=[],we=typeof Uint8Array<"u"?Uint8Array:Array,fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,$=fe.length;f<$;++f)J[f]=fe[f],ve[fe.charCodeAt(f)]=f;ve[45]=62,ve[95]=63;function n(w){var u=w.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=w.indexOf("=");h===-1&&(h=u);var i=h===u?0:4-h%4;return[h,i]}function d(w){var u=n(w),h=u[0],i=u[1];return(h+i)*3/4-i}function T(w,u,h){return(u+h)*3/4-h}function e(w){var u,h=n(w),i=h[0],x=h[1],p=new we(T(w,i,x)),v=0,b=x>0?i-4:i,N;for(N=0;N<b;N+=4)u=ve[w.charCodeAt(N)]<<18|ve[w.charCodeAt(N+1)]<<12|ve[w.charCodeAt(N+2)]<<6|ve[w.charCodeAt(N+3)],p[v++]=u>>16&255,p[v++]=u>>8&255,p[v++]=u&255;return x===2&&(u=ve[w.charCodeAt(N)]<<2|ve[w.charCodeAt(N+1)]>>4,p[v++]=u&255),x===1&&(u=ve[w.charCodeAt(N)]<<10|ve[w.charCodeAt(N+1)]<<4|ve[w.charCodeAt(N+2)]>>2,p[v++]=u>>8&255,p[v++]=u&255),p}function t(w){return J[w>>18&63]+J[w>>12&63]+J[w>>6&63]+J[w&63]}function l(w,u,h){for(var i,x=[],p=u;p<h;p+=3)i=(w[p]<<16&16711680)+(w[p+1]<<8&65280)+(w[p+2]&255),x.push(t(i));return x.join("")}function L(w){for(var u,h=w.length,i=h%3,x=[],p=16383,v=0,b=h-i;v<b;v+=p)x.push(l(w,v,v+p>b?b:v+p));return i===1?(u=w[h-1],x.push(J[u>>2]+J[u<<4&63]+"==")):i===2&&(u=(w[h-2]<<8)+w[h-1],x.push(J[u>>10]+J[u>>4&63]+J[u<<2&63]+"=")),x.join("")}var F={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */F.read=function(w,u,h,i,x){var p,v,b=x*8-i-1,N=(1<<b)-1,U=N>>1,D=-7,I=h?x-1:0,B=h?-1:1,_=w[u+I];for(I+=B,p=_&(1<<-D)-1,_>>=-D,D+=b;D>0;p=p*256+w[u+I],I+=B,D-=8);for(v=p&(1<<-D)-1,p>>=-D,D+=i;D>0;v=v*256+w[u+I],I+=B,D-=8);if(p===0)p=1-U;else{if(p===N)return v?NaN:(_?-1:1)*(1/0);v=v+Math.pow(2,i),p=p-U}return(_?-1:1)*v*Math.pow(2,p-i)},F.write=function(w,u,h,i,x,p){var v,b,N,U=p*8-x-1,D=(1<<U)-1,I=D>>1,B=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=i?0:p-1,P=i?1:-1,X=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(b=isNaN(u)?1:0,v=D):(v=Math.floor(Math.log(u)/Math.LN2),u*(N=Math.pow(2,-v))<1&&(v--,N*=2),v+I>=1?u+=B/N:u+=B*Math.pow(2,1-I),u*N>=2&&(v++,N/=2),v+I>=D?(b=0,v=D):v+I>=1?(b=(u*N-1)*Math.pow(2,x),v=v+I):(b=u*Math.pow(2,I-1)*Math.pow(2,x),v=0));x>=8;w[h+_]=b&255,_+=P,b/=256,x-=8);for(v=v<<x|b,U+=x;U>0;w[h+_]=v&255,_+=P,v/=256,U-=8);w[h+_-P]|=X*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(w){const u=be,h=F,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=D,w.SlowBuffer=E,w.INSPECT_MAX_BYTES=50;const x=2147483647;w.kMaxLength=x;const{Uint8Array:p,ArrayBuffer:v,SharedArrayBuffer:b}=globalThis;D.TYPED_ARRAY_SUPPORT=N(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{const Fe=new p(1),ae={foo:function(){return 42}};return Object.setPrototypeOf(ae,p.prototype),Object.setPrototypeOf(Fe,ae),Fe.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function U(Fe){if(Fe>x)throw new RangeError('The value "'+Fe+'" is invalid for option "size"');const ae=new p(Fe);return Object.setPrototypeOf(ae,D.prototype),ae}function D(Fe,ae,Ae){if(typeof Fe=="number"){if(typeof ae=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(Fe)}return I(Fe,ae,Ae)}D.poolSize=8192;function I(Fe,ae,Ae){if(typeof Fe=="string")return X(Fe,ae);if(v.isView(Fe))return S(Fe);if(Fe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Fe);if(me(Fe,v)||Fe&&me(Fe.buffer,v)||typeof b<"u"&&(me(Fe,b)||Fe&&me(Fe.buffer,b)))return R(Fe,ae,Ae);if(typeof Fe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Le=Fe.valueOf&&Fe.valueOf();if(Le!=null&&Le!==Fe)return D.from(Le,ae,Ae);const Ee=z(Fe);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Fe[Symbol.toPrimitive]=="function")return D.from(Fe[Symbol.toPrimitive]("string"),ae,Ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Fe)}D.from=function(Fe,ae,Ae){return I(Fe,ae,Ae)},Object.setPrototypeOf(D.prototype,p.prototype),Object.setPrototypeOf(D,p);function B(Fe){if(typeof Fe!="number")throw new TypeError('"size" argument must be of type number');if(Fe<0)throw new RangeError('The value "'+Fe+'" is invalid for option "size"')}function _(Fe,ae,Ae){return B(Fe),Fe<=0?U(Fe):ae!==void 0?typeof Ae=="string"?U(Fe).fill(ae,Ae):U(Fe).fill(ae):U(Fe)}D.alloc=function(Fe,ae,Ae){return _(Fe,ae,Ae)};function P(Fe){return B(Fe),U(Fe<0?0:O(Fe)|0)}D.allocUnsafe=function(Fe){return P(Fe)},D.allocUnsafeSlow=function(Fe){return P(Fe)};function X(Fe,ae){if((typeof ae!="string"||ae==="")&&(ae="utf8"),!D.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);const Ae=k(Fe,ae)|0;let Le=U(Ae);const Ee=Le.write(Fe,ae);return Ee!==Ae&&(Le=Le.slice(0,Ee)),Le}function m(Fe){const ae=Fe.length<0?0:O(Fe.length)|0,Ae=U(ae);for(let Le=0;Le<ae;Le+=1)Ae[Le]=Fe[Le]&255;return Ae}function S(Fe){if(me(Fe,p)){const ae=new p(Fe);return R(ae.buffer,ae.byteOffset,ae.byteLength)}return m(Fe)}function R(Fe,ae,Ae){if(ae<0||Fe.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(Fe.byteLength<ae+(Ae||0))throw new RangeError('"length" is outside of buffer bounds');let Le;return ae===void 0&&Ae===void 0?Le=new p(Fe):Ae===void 0?Le=new p(Fe,ae):Le=new p(Fe,ae,Ae),Object.setPrototypeOf(Le,D.prototype),Le}function z(Fe){if(D.isBuffer(Fe)){const ae=O(Fe.length)|0,Ae=U(ae);return Ae.length===0||Fe.copy(Ae,0,0,ae),Ae}if(Fe.length!==void 0)return typeof Fe.length!="number"||Pe(Fe.length)?U(0):m(Fe);if(Fe.type==="Buffer"&&Array.isArray(Fe.data))return m(Fe.data)}function O(Fe){if(Fe>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return Fe|0}function E(Fe){return+Fe!=Fe&&(Fe=0),D.alloc(+Fe)}D.isBuffer=function(ae){return ae!=null&&ae._isBuffer===!0&&ae!==D.prototype},D.compare=function(ae,Ae){if(me(ae,p)&&(ae=D.from(ae,ae.offset,ae.byteLength)),me(Ae,p)&&(Ae=D.from(Ae,Ae.offset,Ae.byteLength)),!D.isBuffer(ae)||!D.isBuffer(Ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ae===Ae)return 0;let Le=ae.length,Ee=Ae.length;for(let xe=0,Te=Math.min(Le,Ee);xe<Te;++xe)if(ae[xe]!==Ae[xe]){Le=ae[xe],Ee=Ae[xe];break}return Le<Ee?-1:Ee<Le?1:0},D.isEncoding=function(ae){switch(String(ae).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(ae,Ae){if(!Array.isArray(ae))throw new TypeError('"list" argument must be an Array of Buffers');if(ae.length===0)return D.alloc(0);let Le;if(Ae===void 0)for(Ae=0,Le=0;Le<ae.length;++Le)Ae+=ae[Le].length;const Ee=D.allocUnsafe(Ae);let xe=0;for(Le=0;Le<ae.length;++Le){let Te=ae[Le];if(me(Te,p))xe+Te.length>Ee.length?(D.isBuffer(Te)||(Te=D.from(Te)),Te.copy(Ee,xe)):p.prototype.set.call(Ee,Te,xe);else if(D.isBuffer(Te))Te.copy(Ee,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=Te.length}return Ee};function k(Fe,ae){if(D.isBuffer(Fe))return Fe.length;if(v.isView(Fe)||me(Fe,v))return Fe.byteLength;if(typeof Fe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Fe);const Ae=Fe.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&Ae===0)return 0;let Ee=!1;for(;;)switch(ae){case"ascii":case"latin1":case"binary":return Ae;case"utf8":case"utf-8":return Ie(Fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae*2;case"hex":return Ae>>>1;case"base64":return De(Fe).length;default:if(Ee)return Le?-1:Ie(Fe).length;ae=(""+ae).toLowerCase(),Ee=!0}}D.byteLength=k;function M(Fe,ae,Ae){let Le=!1;if((ae===void 0||ae<0)&&(ae=0),ae>this.length||((Ae===void 0||Ae>this.length)&&(Ae=this.length),Ae<=0)||(Ae>>>=0,ae>>>=0,Ae<=ae))return"";for(Fe||(Fe="utf8");;)switch(Fe){case"hex":return Z(this,ae,Ae);case"utf8":case"utf-8":return Q(this,ae,Ae);case"ascii":return ue(this,ae,Ae);case"latin1":case"binary":return W(this,ae,Ae);case"base64":return re(this,ae,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,ae,Ae);default:if(Le)throw new TypeError("Unknown encoding: "+Fe);Fe=(Fe+"").toLowerCase(),Le=!0}}D.prototype._isBuffer=!0;function a(Fe,ae,Ae){const Le=Fe[ae];Fe[ae]=Fe[Ae],Fe[Ae]=Le}D.prototype.swap16=function(){const ae=this.length;if(ae%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ae=0;Ae<ae;Ae+=2)a(this,Ae,Ae+1);return this},D.prototype.swap32=function(){const ae=this.length;if(ae%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ae=0;Ae<ae;Ae+=4)a(this,Ae,Ae+3),a(this,Ae+1,Ae+2);return this},D.prototype.swap64=function(){const ae=this.length;if(ae%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ae=0;Ae<ae;Ae+=8)a(this,Ae,Ae+7),a(this,Ae+1,Ae+6),a(this,Ae+2,Ae+5),a(this,Ae+3,Ae+4);return this},D.prototype.toString=function(){const ae=this.length;return ae===0?"":arguments.length===0?Q(this,0,ae):M.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(ae){if(!D.isBuffer(ae))throw new TypeError("Argument must be a Buffer");return this===ae?!0:D.compare(this,ae)===0},D.prototype.inspect=function(){let ae="";const Ae=w.INSPECT_MAX_BYTES;return ae=this.toString("hex",0,Ae).replace(/(.{2})/g,"$1 ").trim(),this.length>Ae&&(ae+=" ... "),"<Buffer "+ae+">"},i&&(D.prototype[i]=D.prototype.inspect),D.prototype.compare=function(ae,Ae,Le,Ee,xe){if(me(ae,p)&&(ae=D.from(ae,ae.offset,ae.byteLength)),!D.isBuffer(ae))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ae);if(Ae===void 0&&(Ae=0),Le===void 0&&(Le=ae?ae.length:0),Ee===void 0&&(Ee=0),xe===void 0&&(xe=this.length),Ae<0||Le>ae.length||Ee<0||xe>this.length)throw new RangeError("out of range index");if(Ee>=xe&&Ae>=Le)return 0;if(Ee>=xe)return-1;if(Ae>=Le)return 1;if(Ae>>>=0,Le>>>=0,Ee>>>=0,xe>>>=0,this===ae)return 0;let Te=xe-Ee,Ne=Le-Ae;const $e=Math.min(Te,Ne),Ue=this.slice(Ee,xe),ze=ae.slice(Ae,Le);for(let Ge=0;Ge<$e;++Ge)if(Ue[Ge]!==ze[Ge]){Te=Ue[Ge],Ne=ze[Ge];break}return Te<Ne?-1:Ne<Te?1:0};function o(Fe,ae,Ae,Le,Ee){if(Fe.length===0)return-1;if(typeof Ae=="string"?(Le=Ae,Ae=0):Ae>2147483647?Ae=2147483647:Ae<-2147483648&&(Ae=-2147483648),Ae=+Ae,Pe(Ae)&&(Ae=Ee?0:Fe.length-1),Ae<0&&(Ae=Fe.length+Ae),Ae>=Fe.length){if(Ee)return-1;Ae=Fe.length-1}else if(Ae<0)if(Ee)Ae=0;else return-1;if(typeof ae=="string"&&(ae=D.from(ae,Le)),D.isBuffer(ae))return ae.length===0?-1:r(Fe,ae,Ae,Le,Ee);if(typeof ae=="number")return ae=ae&255,typeof p.prototype.indexOf=="function"?Ee?p.prototype.indexOf.call(Fe,ae,Ae):p.prototype.lastIndexOf.call(Fe,ae,Ae):r(Fe,[ae],Ae,Le,Ee);throw new TypeError("val must be string, number or Buffer")}function r(Fe,ae,Ae,Le,Ee){let xe=1,Te=Fe.length,Ne=ae.length;if(Le!==void 0&&(Le=String(Le).toLowerCase(),Le==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(Fe.length<2||ae.length<2)return-1;xe=2,Te/=2,Ne/=2,Ae/=2}function $e(ze,Ge){return xe===1?ze[Ge]:ze.readUInt16BE(Ge*xe)}let Ue;if(Ee){let ze=-1;for(Ue=Ae;Ue<Te;Ue++)if($e(Fe,Ue)===$e(ae,ze===-1?0:Ue-ze)){if(ze===-1&&(ze=Ue),Ue-ze+1===Ne)return ze*xe}else ze!==-1&&(Ue-=Ue-ze),ze=-1}else for(Ae+Ne>Te&&(Ae=Te-Ne),Ue=Ae;Ue>=0;Ue--){let ze=!0;for(let Ge=0;Ge<Ne;Ge++)if($e(Fe,Ue+Ge)!==$e(ae,Ge)){ze=!1;break}if(ze)return Ue}return-1}D.prototype.includes=function(ae,Ae,Le){return this.indexOf(ae,Ae,Le)!==-1},D.prototype.indexOf=function(ae,Ae,Le){return o(this,ae,Ae,Le,!0)},D.prototype.lastIndexOf=function(ae,Ae,Le){return o(this,ae,Ae,Le,!1)};function s(Fe,ae,Ae,Le){Ae=Number(Ae)||0;const Ee=Fe.length-Ae;Le?(Le=Number(Le),Le>Ee&&(Le=Ee)):Le=Ee;const xe=ae.length;Le>xe/2&&(Le=xe/2);let Te;for(Te=0;Te<Le;++Te){const Ne=parseInt(ae.substr(Te*2,2),16);if(Pe(Ne))return Te;Fe[Ae+Te]=Ne}return Te}function A(Fe,ae,Ae,Le){return ye(Ie(ae,Fe.length-Ae),Fe,Ae,Le)}function c(Fe,ae,Ae,Le){return ye(Be(ae),Fe,Ae,Le)}function y(Fe,ae,Ae,Le){return ye(De(ae),Fe,Ae,Le)}function q(Fe,ae,Ae,Le){return ye(he(ae,Fe.length-Ae),Fe,Ae,Le)}D.prototype.write=function(ae,Ae,Le,Ee){if(Ae===void 0)Ee="utf8",Le=this.length,Ae=0;else if(Le===void 0&&typeof Ae=="string")Ee=Ae,Le=this.length,Ae=0;else if(isFinite(Ae))Ae=Ae>>>0,isFinite(Le)?(Le=Le>>>0,Ee===void 0&&(Ee="utf8")):(Ee=Le,Le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const xe=this.length-Ae;if((Le===void 0||Le>xe)&&(Le=xe),ae.length>0&&(Le<0||Ae<0)||Ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Te=!1;for(;;)switch(Ee){case"hex":return s(this,ae,Ae,Le);case"utf8":case"utf-8":return A(this,ae,Ae,Le);case"ascii":case"latin1":case"binary":return c(this,ae,Ae,Le);case"base64":return y(this,ae,Ae,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,ae,Ae,Le);default:if(Te)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Te=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(Fe,ae,Ae){return ae===0&&Ae===Fe.length?u.fromByteArray(Fe):u.fromByteArray(Fe.slice(ae,Ae))}function Q(Fe,ae,Ae){Ae=Math.min(Fe.length,Ae);const Le=[];let Ee=ae;for(;Ee<Ae;){const xe=Fe[Ee];let Te=null,Ne=xe>239?4:xe>223?3:xe>191?2:1;if(Ee+Ne<=Ae){let $e,Ue,ze,Ge;switch(Ne){case 1:xe<128&&(Te=xe);break;case 2:$e=Fe[Ee+1],($e&192)===128&&(Ge=(xe&31)<<6|$e&63,Ge>127&&(Te=Ge));break;case 3:$e=Fe[Ee+1],Ue=Fe[Ee+2],($e&192)===128&&(Ue&192)===128&&(Ge=(xe&15)<<12|($e&63)<<6|Ue&63,Ge>2047&&(Ge<55296||Ge>57343)&&(Te=Ge));break;case 4:$e=Fe[Ee+1],Ue=Fe[Ee+2],ze=Fe[Ee+3],($e&192)===128&&(Ue&192)===128&&(ze&192)===128&&(Ge=(xe&15)<<18|($e&63)<<12|(Ue&63)<<6|ze&63,Ge>65535&&Ge<1114112&&(Te=Ge))}}Te===null?(Te=65533,Ne=1):Te>65535&&(Te-=65536,Le.push(Te>>>10&1023|55296),Te=56320|Te&1023),Le.push(Te),Ee+=Ne}return ee(Le)}const de=4096;function ee(Fe){const ae=Fe.length;if(ae<=de)return String.fromCharCode.apply(String,Fe);let Ae="",Le=0;for(;Le<ae;)Ae+=String.fromCharCode.apply(String,Fe.slice(Le,Le+=de));return Ae}function ue(Fe,ae,Ae){let Le="";Ae=Math.min(Fe.length,Ae);for(let Ee=ae;Ee<Ae;++Ee)Le+=String.fromCharCode(Fe[Ee]&127);return Le}function W(Fe,ae,Ae){let Le="";Ae=Math.min(Fe.length,Ae);for(let Ee=ae;Ee<Ae;++Ee)Le+=String.fromCharCode(Fe[Ee]);return Le}function Z(Fe,ae,Ae){const Le=Fe.length;(!ae||ae<0)&&(ae=0),(!Ae||Ae<0||Ae>Le)&&(Ae=Le);let Ee="";for(let xe=ae;xe<Ae;++xe)Ee+=Re[Fe[xe]];return Ee}function se(Fe,ae,Ae){const Le=Fe.slice(ae,Ae);let Ee="";for(let xe=0;xe<Le.length-1;xe+=2)Ee+=String.fromCharCode(Le[xe]+Le[xe+1]*256);return Ee}D.prototype.slice=function(ae,Ae){const Le=this.length;ae=~~ae,Ae=Ae===void 0?Le:~~Ae,ae<0?(ae+=Le,ae<0&&(ae=0)):ae>Le&&(ae=Le),Ae<0?(Ae+=Le,Ae<0&&(Ae=0)):Ae>Le&&(Ae=Le),Ae<ae&&(Ae=ae);const Ee=this.subarray(ae,Ae);return Object.setPrototypeOf(Ee,D.prototype),Ee};function ne(Fe,ae,Ae){if(Fe%1!==0||Fe<0)throw new RangeError("offset is not uint");if(Fe+ae>Ae)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(ae,Ae,Le){ae=ae>>>0,Ae=Ae>>>0,Le||ne(ae,Ae,this.length);let Ee=this[ae],xe=1,Te=0;for(;++Te<Ae&&(xe*=256);)Ee+=this[ae+Te]*xe;return Ee},D.prototype.readUintBE=D.prototype.readUIntBE=function(ae,Ae,Le){ae=ae>>>0,Ae=Ae>>>0,Le||ne(ae,Ae,this.length);let Ee=this[ae+--Ae],xe=1;for(;Ae>0&&(xe*=256);)Ee+=this[ae+--Ae]*xe;return Ee},D.prototype.readUint8=D.prototype.readUInt8=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,1,this.length),this[ae]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,2,this.length),this[ae]|this[ae+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,2,this.length),this[ae]<<8|this[ae+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),(this[ae]|this[ae+1]<<8|this[ae+2]<<16)+this[ae+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),this[ae]*16777216+(this[ae+1]<<16|this[ae+2]<<8|this[ae+3])},D.prototype.readBigUInt64LE=He(function(ae){ae=ae>>>0,Me(ae,"offset");const Ae=this[ae],Le=this[ae+7];(Ae===void 0||Le===void 0)&&_e(ae,this.length-8);const Ee=Ae+this[++ae]*2**8+this[++ae]*2**16+this[++ae]*2**24,xe=this[++ae]+this[++ae]*2**8+this[++ae]*2**16+Le*2**24;return BigInt(Ee)+(BigInt(xe)<<BigInt(32))}),D.prototype.readBigUInt64BE=He(function(ae){ae=ae>>>0,Me(ae,"offset");const Ae=this[ae],Le=this[ae+7];(Ae===void 0||Le===void 0)&&_e(ae,this.length-8);const Ee=Ae*2**24+this[++ae]*2**16+this[++ae]*2**8+this[++ae],xe=this[++ae]*2**24+this[++ae]*2**16+this[++ae]*2**8+Le;return(BigInt(Ee)<<BigInt(32))+BigInt(xe)}),D.prototype.readIntLE=function(ae,Ae,Le){ae=ae>>>0,Ae=Ae>>>0,Le||ne(ae,Ae,this.length);let Ee=this[ae],xe=1,Te=0;for(;++Te<Ae&&(xe*=256);)Ee+=this[ae+Te]*xe;return xe*=128,Ee>=xe&&(Ee-=Math.pow(2,8*Ae)),Ee},D.prototype.readIntBE=function(ae,Ae,Le){ae=ae>>>0,Ae=Ae>>>0,Le||ne(ae,Ae,this.length);let Ee=Ae,xe=1,Te=this[ae+--Ee];for(;Ee>0&&(xe*=256);)Te+=this[ae+--Ee]*xe;return xe*=128,Te>=xe&&(Te-=Math.pow(2,8*Ae)),Te},D.prototype.readInt8=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,1,this.length),this[ae]&128?(255-this[ae]+1)*-1:this[ae]},D.prototype.readInt16LE=function(ae,Ae){ae=ae>>>0,Ae||ne(ae,2,this.length);const Le=this[ae]|this[ae+1]<<8;return Le&32768?Le|4294901760:Le},D.prototype.readInt16BE=function(ae,Ae){ae=ae>>>0,Ae||ne(ae,2,this.length);const Le=this[ae+1]|this[ae]<<8;return Le&32768?Le|4294901760:Le},D.prototype.readInt32LE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),this[ae]|this[ae+1]<<8|this[ae+2]<<16|this[ae+3]<<24},D.prototype.readInt32BE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),this[ae]<<24|this[ae+1]<<16|this[ae+2]<<8|this[ae+3]},D.prototype.readBigInt64LE=He(function(ae){ae=ae>>>0,Me(ae,"offset");const Ae=this[ae],Le=this[ae+7];(Ae===void 0||Le===void 0)&&_e(ae,this.length-8);const Ee=this[ae+4]+this[ae+5]*2**8+this[ae+6]*2**16+(Le<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(Ae+this[++ae]*2**8+this[++ae]*2**16+this[++ae]*2**24)}),D.prototype.readBigInt64BE=He(function(ae){ae=ae>>>0,Me(ae,"offset");const Ae=this[ae],Le=this[ae+7];(Ae===void 0||Le===void 0)&&_e(ae,this.length-8);const Ee=(Ae<<24)+this[++ae]*2**16+this[++ae]*2**8+this[++ae];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++ae]*2**24+this[++ae]*2**16+this[++ae]*2**8+Le)}),D.prototype.readFloatLE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),h.read(this,ae,!0,23,4)},D.prototype.readFloatBE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,4,this.length),h.read(this,ae,!1,23,4)},D.prototype.readDoubleLE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,8,this.length),h.read(this,ae,!0,52,8)},D.prototype.readDoubleBE=function(ae,Ae){return ae=ae>>>0,Ae||ne(ae,8,this.length),h.read(this,ae,!1,52,8)};function ie(Fe,ae,Ae,Le,Ee,xe){if(!D.isBuffer(Fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>Ee||ae<xe)throw new RangeError('"value" argument is out of bounds');if(Ae+Le>Fe.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(ae,Ae,Le,Ee){if(ae=+ae,Ae=Ae>>>0,Le=Le>>>0,!Ee){const Ne=Math.pow(2,8*Le)-1;ie(this,ae,Ae,Le,Ne,0)}let xe=1,Te=0;for(this[Ae]=ae&255;++Te<Le&&(xe*=256);)this[Ae+Te]=ae/xe&255;return Ae+Le},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(ae,Ae,Le,Ee){if(ae=+ae,Ae=Ae>>>0,Le=Le>>>0,!Ee){const Ne=Math.pow(2,8*Le)-1;ie(this,ae,Ae,Le,Ne,0)}let xe=Le-1,Te=1;for(this[Ae+xe]=ae&255;--xe>=0&&(Te*=256);)this[Ae+xe]=ae/Te&255;return Ae+Le},D.prototype.writeUint8=D.prototype.writeUInt8=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,1,255,0),this[Ae]=ae&255,Ae+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,2,65535,0),this[Ae]=ae&255,this[Ae+1]=ae>>>8,Ae+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,2,65535,0),this[Ae]=ae>>>8,this[Ae+1]=ae&255,Ae+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,4,4294967295,0),this[Ae+3]=ae>>>24,this[Ae+2]=ae>>>16,this[Ae+1]=ae>>>8,this[Ae]=ae&255,Ae+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,4,4294967295,0),this[Ae]=ae>>>24,this[Ae+1]=ae>>>16,this[Ae+2]=ae>>>8,this[Ae+3]=ae&255,Ae+4};function H(Fe,ae,Ae,Le,Ee){Oe(ae,Le,Ee,Fe,Ae,7);let xe=Number(ae&BigInt(4294967295));Fe[Ae++]=xe,xe=xe>>8,Fe[Ae++]=xe,xe=xe>>8,Fe[Ae++]=xe,xe=xe>>8,Fe[Ae++]=xe;let Te=Number(ae>>BigInt(32)&BigInt(4294967295));return Fe[Ae++]=Te,Te=Te>>8,Fe[Ae++]=Te,Te=Te>>8,Fe[Ae++]=Te,Te=Te>>8,Fe[Ae++]=Te,Ae}function Y(Fe,ae,Ae,Le,Ee){Oe(ae,Le,Ee,Fe,Ae,7);let xe=Number(ae&BigInt(4294967295));Fe[Ae+7]=xe,xe=xe>>8,Fe[Ae+6]=xe,xe=xe>>8,Fe[Ae+5]=xe,xe=xe>>8,Fe[Ae+4]=xe;let Te=Number(ae>>BigInt(32)&BigInt(4294967295));return Fe[Ae+3]=Te,Te=Te>>8,Fe[Ae+2]=Te,Te=Te>>8,Fe[Ae+1]=Te,Te=Te>>8,Fe[Ae]=Te,Ae+8}D.prototype.writeBigUInt64LE=He(function(ae,Ae=0){return H(this,ae,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=He(function(ae,Ae=0){return Y(this,ae,Ae,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(ae,Ae,Le,Ee){if(ae=+ae,Ae=Ae>>>0,!Ee){const $e=Math.pow(2,8*Le-1);ie(this,ae,Ae,Le,$e-1,-$e)}let xe=0,Te=1,Ne=0;for(this[Ae]=ae&255;++xe<Le&&(Te*=256);)ae<0&&Ne===0&&this[Ae+xe-1]!==0&&(Ne=1),this[Ae+xe]=(ae/Te>>0)-Ne&255;return Ae+Le},D.prototype.writeIntBE=function(ae,Ae,Le,Ee){if(ae=+ae,Ae=Ae>>>0,!Ee){const $e=Math.pow(2,8*Le-1);ie(this,ae,Ae,Le,$e-1,-$e)}let xe=Le-1,Te=1,Ne=0;for(this[Ae+xe]=ae&255;--xe>=0&&(Te*=256);)ae<0&&Ne===0&&this[Ae+xe+1]!==0&&(Ne=1),this[Ae+xe]=(ae/Te>>0)-Ne&255;return Ae+Le},D.prototype.writeInt8=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,1,127,-128),ae<0&&(ae=255+ae+1),this[Ae]=ae&255,Ae+1},D.prototype.writeInt16LE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,2,32767,-32768),this[Ae]=ae&255,this[Ae+1]=ae>>>8,Ae+2},D.prototype.writeInt16BE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,2,32767,-32768),this[Ae]=ae>>>8,this[Ae+1]=ae&255,Ae+2},D.prototype.writeInt32LE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,4,2147483647,-2147483648),this[Ae]=ae&255,this[Ae+1]=ae>>>8,this[Ae+2]=ae>>>16,this[Ae+3]=ae>>>24,Ae+4},D.prototype.writeInt32BE=function(ae,Ae,Le){return ae=+ae,Ae=Ae>>>0,Le||ie(this,ae,Ae,4,2147483647,-2147483648),ae<0&&(ae=4294967295+ae+1),this[Ae]=ae>>>24,this[Ae+1]=ae>>>16,this[Ae+2]=ae>>>8,this[Ae+3]=ae&255,Ae+4},D.prototype.writeBigInt64LE=He(function(ae,Ae=0){return H(this,ae,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=He(function(ae,Ae=0){return Y(this,ae,Ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function G(Fe,ae,Ae,Le,Ee,xe){if(Ae+Le>Fe.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("Index out of range")}function le(Fe,ae,Ae,Le,Ee){return ae=+ae,Ae=Ae>>>0,Ee||G(Fe,ae,Ae,4),h.write(Fe,ae,Ae,Le,23,4),Ae+4}D.prototype.writeFloatLE=function(ae,Ae,Le){return le(this,ae,Ae,!0,Le)},D.prototype.writeFloatBE=function(ae,Ae,Le){return le(this,ae,Ae,!1,Le)};function ce(Fe,ae,Ae,Le,Ee){return ae=+ae,Ae=Ae>>>0,Ee||G(Fe,ae,Ae,8),h.write(Fe,ae,Ae,Le,52,8),Ae+8}D.prototype.writeDoubleLE=function(ae,Ae,Le){return ce(this,ae,Ae,!0,Le)},D.prototype.writeDoubleBE=function(ae,Ae,Le){return ce(this,ae,Ae,!1,Le)},D.prototype.copy=function(ae,Ae,Le,Ee){if(!D.isBuffer(ae))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!Ee&&Ee!==0&&(Ee=this.length),Ae>=ae.length&&(Ae=ae.length),Ae||(Ae=0),Ee>0&&Ee<Le&&(Ee=Le),Ee===Le||ae.length===0||this.length===0)return 0;if(Ae<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),ae.length-Ae<Ee-Le&&(Ee=ae.length-Ae+Le);const xe=Ee-Le;return this===ae&&typeof p.prototype.copyWithin=="function"?this.copyWithin(Ae,Le,Ee):p.prototype.set.call(ae,this.subarray(Le,Ee),Ae),xe},D.prototype.fill=function(ae,Ae,Le,Ee){if(typeof ae=="string"){if(typeof Ae=="string"?(Ee=Ae,Ae=0,Le=this.length):typeof Le=="string"&&(Ee=Le,Le=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!D.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(ae.length===1){const Te=ae.charCodeAt(0);(Ee==="utf8"&&Te<128||Ee==="latin1")&&(ae=Te)}}else typeof ae=="number"?ae=ae&255:typeof ae=="boolean"&&(ae=Number(ae));if(Ae<0||this.length<Ae||this.length<Le)throw new RangeError("Out of range index");if(Le<=Ae)return this;Ae=Ae>>>0,Le=Le===void 0?this.length:Le>>>0,ae||(ae=0);let xe;if(typeof ae=="number")for(xe=Ae;xe<Le;++xe)this[xe]=ae;else{const Te=D.isBuffer(ae)?ae:D.from(ae,Ee),Ne=Te.length;if(Ne===0)throw new TypeError('The value "'+ae+'" is invalid for argument "value"');for(xe=0;xe<Le-Ae;++xe)this[xe+Ae]=Te[xe%Ne]}return this};const te={};function ge(Fe,ae,Ae){te[Fe]=class extends Ae{constructor(){super(),Object.defineProperty(this,"message",{value:ae.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Fe}]`,this.stack,delete this.name}get code(){return Fe}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${Fe}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(Fe){return Fe?`${Fe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(Fe,ae){return`The "${Fe}" argument must be of type number. Received type ${typeof ae}`},TypeError),ge("ERR_OUT_OF_RANGE",function(Fe,ae,Ae){let Le=`The value of "${Fe}" is out of range.`,Ee=Ae;return Number.isInteger(Ae)&&Math.abs(Ae)>2**32?Ee=K(String(Ae)):typeof Ae=="bigint"&&(Ee=String(Ae),(Ae>BigInt(2)**BigInt(32)||Ae<-(BigInt(2)**BigInt(32)))&&(Ee=K(Ee)),Ee+="n"),Le+=` It must be ${ae}. Received ${Ee}`,Le},RangeError);function K(Fe){let ae="",Ae=Fe.length;const Le=Fe[0]==="-"?1:0;for(;Ae>=Le+4;Ae-=3)ae=`_${Fe.slice(Ae-3,Ae)}${ae}`;return`${Fe.slice(0,Ae)}${ae}`}function Se(Fe,ae,Ae){Me(ae,"offset"),(Fe[ae]===void 0||Fe[ae+Ae]===void 0)&&_e(ae,Fe.length-(Ae+1))}function Oe(Fe,ae,Ae,Le,Ee,xe){if(Fe>Ae||Fe<ae){const Te=typeof ae=="bigint"?"n":"";let Ne;throw xe>3?ae===0||ae===BigInt(0)?Ne=`>= 0${Te} and < 2${Te} ** ${(xe+1)*8}${Te}`:Ne=`>= -(2${Te} ** ${(xe+1)*8-1}${Te}) and < 2 ** ${(xe+1)*8-1}${Te}`:Ne=`>= ${ae}${Te} and <= ${Ae}${Te}`,new te.ERR_OUT_OF_RANGE("value",Ne,Fe)}Se(Le,Ee,xe)}function Me(Fe,ae){if(typeof Fe!="number")throw new te.ERR_INVALID_ARG_TYPE(ae,"number",Fe)}function _e(Fe,ae,Ae){throw Math.floor(Fe)!==Fe?(Me(Fe,Ae),new te.ERR_OUT_OF_RANGE(Ae||"offset","an integer",Fe)):ae<0?new te.ERR_BUFFER_OUT_OF_BOUNDS:new te.ERR_OUT_OF_RANGE(Ae||"offset",`>= ${Ae?1:0} and <= ${ae}`,Fe)}const ke=/[^+/0-9A-Za-z-_]/g;function oe(Fe){if(Fe=Fe.split("=")[0],Fe=Fe.trim().replace(ke,""),Fe.length<2)return"";for(;Fe.length%4!==0;)Fe=Fe+"=";return Fe}function Ie(Fe,ae){ae=ae||1/0;let Ae;const Le=Fe.length;let Ee=null;const xe=[];for(let Te=0;Te<Le;++Te){if(Ae=Fe.charCodeAt(Te),Ae>55295&&Ae<57344){if(!Ee){if(Ae>56319){(ae-=3)>-1&&xe.push(239,191,189);continue}else if(Te+1===Le){(ae-=3)>-1&&xe.push(239,191,189);continue}Ee=Ae;continue}if(Ae<56320){(ae-=3)>-1&&xe.push(239,191,189),Ee=Ae;continue}Ae=(Ee-55296<<10|Ae-56320)+65536}else Ee&&(ae-=3)>-1&&xe.push(239,191,189);if(Ee=null,Ae<128){if((ae-=1)<0)break;xe.push(Ae)}else if(Ae<2048){if((ae-=2)<0)break;xe.push(Ae>>6|192,Ae&63|128)}else if(Ae<65536){if((ae-=3)<0)break;xe.push(Ae>>12|224,Ae>>6&63|128,Ae&63|128)}else if(Ae<1114112){if((ae-=4)<0)break;xe.push(Ae>>18|240,Ae>>12&63|128,Ae>>6&63|128,Ae&63|128)}else throw new Error("Invalid code point")}return xe}function Be(Fe){const ae=[];for(let Ae=0;Ae<Fe.length;++Ae)ae.push(Fe.charCodeAt(Ae)&255);return ae}function he(Fe,ae){let Ae,Le,Ee;const xe=[];for(let Te=0;Te<Fe.length&&!((ae-=2)<0);++Te)Ae=Fe.charCodeAt(Te),Le=Ae>>8,Ee=Ae%256,xe.push(Ee),xe.push(Le);return xe}function De(Fe){return u.toByteArray(oe(Fe))}function ye(Fe,ae,Ae,Le){let Ee;for(Ee=0;Ee<Le&&!(Ee+Ae>=ae.length||Ee>=Fe.length);++Ee)ae[Ee+Ae]=Fe[Ee];return Ee}function me(Fe,ae){return Fe instanceof ae||Fe!=null&&Fe.constructor!=null&&Fe.constructor.name!=null&&Fe.constructor.name===ae.name}function Pe(Fe){return Fe!==Fe}const Re=function(){const Fe="0123456789abcdef",ae=new Array(256);for(let Ae=0;Ae<16;++Ae){const Le=Ae*16;for(let Ee=0;Ee<16;++Ee)ae[Le+Ee]=Fe[Ae]+Fe[Ee]}return ae}();function He(Fe){return typeof BigInt>"u"?Xe:Fe}function Xe(){throw new Error("BigInt not supported")}})(V);const g=V.Buffer;j.Blob=V.Blob,j.BlobOptions=V.BlobOptions,j.Buffer=V.Buffer,j.File=V.File,j.FileOptions=V.FileOptions,j.INSPECT_MAX_BYTES=V.INSPECT_MAX_BYTES,j.SlowBuffer=V.SlowBuffer,j.TranscodeEncoding=V.TranscodeEncoding,j.atob=V.atob,j.btoa=V.btoa,j.constants=V.constants,j.default=g,j.isAscii=V.isAscii,j.isUtf8=V.isUtf8,j.kMaxLength=V.kMaxLength,j.kStringMaxLength=V.kStringMaxLength,j.resolveObjectURL=V.resolveObjectURL,j.transcode=V.transcode}(dist)),dist}var distExports=requireDist();const Buffer=getDefaultExportFromCjs$1(distExports);function commonjsRequire(j){throw new Error('Could not dynamically require "'+j+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},empty_1,hasRequiredEmpty;function requireEmpty(){if(hasRequiredEmpty)return empty_1;hasRequiredEmpty=1;var j=null;return empty_1=j,empty_1}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);var url={exports:{}},punycode={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode.exports;var hasRequiredPunycode;function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(j,V){(function(be){var J=V&&!V.nodeType&&V,ve=j&&!j.nodeType&&j,we=typeof commonjsGlobal=="object"&&commonjsGlobal;(we.global===we||we.window===we||we.self===we)&&(be=we);var fe,f=2147483647,$=36,n=1,d=26,T=38,e=700,t=72,l=128,L="-",F=/^xn--/,g=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=$-n,i=Math.floor,x=String.fromCharCode,p;function v(R){throw new RangeError(u[R])}function b(R,z){for(var O=R.length,E=[];O--;)E[O]=z(R[O]);return E}function N(R,z){var O=R.split("@"),E="";O.length>1&&(E=O[0]+"@",R=O[1]),R=R.replace(w,".");var k=R.split("."),M=b(k,z).join(".");return E+M}function U(R){for(var z=[],O=0,E=R.length,k,M;O<E;)k=R.charCodeAt(O++),k>=55296&&k<=56319&&O<E?(M=R.charCodeAt(O++),(M&64512)==56320?z.push(((k&1023)<<10)+(M&1023)+65536):(z.push(k),O--)):z.push(k);return z}function D(R){return b(R,function(z){var O="";return z>65535&&(z-=65536,O+=x(z>>>10&1023|55296),z=56320|z&1023),O+=x(z),O}).join("")}function I(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:$}function B(R,z){return R+22+75*(R<26)-((z!=0)<<5)}function _(R,z,O){var E=0;for(R=O?i(R/e):R>>1,R+=i(R/z);R>h*d>>1;E+=$)R=i(R/h);return i(E+(h+1)*R/(R+T))}function P(R){var z=[],O=R.length,E,k=0,M=l,a=t,o,r,s,A,c,y,q,re,Q;for(o=R.lastIndexOf(L),o<0&&(o=0),r=0;r<o;++r)R.charCodeAt(r)>=128&&v("not-basic"),z.push(R.charCodeAt(r));for(s=o>0?o+1:0;s<O;){for(A=k,c=1,y=$;s>=O&&v("invalid-input"),q=I(R.charCodeAt(s++)),(q>=$||q>i((f-k)/c))&&v("overflow"),k+=q*c,re=y<=a?n:y>=a+d?d:y-a,!(q<re);y+=$)Q=$-re,c>i(f/Q)&&v("overflow"),c*=Q;E=z.length+1,a=_(k-A,E,A==0),i(k/E)>f-M&&v("overflow"),M+=i(k/E),k%=E,z.splice(k++,0,M)}return D(z)}function X(R){var z,O,E,k,M,a,o,r,s,A,c,y=[],q,re,Q,de;for(R=U(R),q=R.length,z=l,O=0,M=t,a=0;a<q;++a)c=R[a],c<128&&y.push(x(c));for(E=k=y.length,k&&y.push(L);E<q;){for(o=f,a=0;a<q;++a)c=R[a],c>=z&&c<o&&(o=c);for(re=E+1,o-z>i((f-O)/re)&&v("overflow"),O+=(o-z)*re,z=o,a=0;a<q;++a)if(c=R[a],c<z&&++O>f&&v("overflow"),c==z){for(r=O,s=$;A=s<=M?n:s>=M+d?d:s-M,!(r<A);s+=$)de=r-A,Q=$-A,y.push(x(B(A+de%Q,0))),r=i(de/Q);y.push(x(B(r,0))),M=_(O,re,E==k),O=0,++E}++O,++z}return y.join("")}function m(R){return N(R,function(z){return F.test(z)?P(z.slice(4).toLowerCase()):z})}function S(R){return N(R,function(z){return g.test(z)?"xn--"+X(z):z})}if(fe={version:"1.4.1",ucs2:{decode:U,encode:D},decode:P,encode:X,toASCII:S,toUnicode:m},J&&ve)if(j.exports==J)ve.exports=fe;else for(p in fe)fe.hasOwnProperty(p)&&(J[p]=fe[p]);else be.punycode=fe})(commonjsGlobal)}(punycode,punycode.exports)),punycode.exports}var querystring={exports:{}},querystringEs3={},decode,hasRequiredDecode;function requireDecode(){if(hasRequiredDecode)return decode;hasRequiredDecode=1;function j(be,J){return Object.prototype.hasOwnProperty.call(be,J)}decode=function(be,J,ve,we){J=J||"&",ve=ve||"=";var fe={};if(typeof be!="string"||be.length===0)return fe;var f=/\+/g;be=be.split(J);var $=1e3;we&&typeof we.maxKeys=="number"&&($=we.maxKeys);var n=be.length;$>0&&n>$&&(n=$);for(var d=0;d<n;++d){var T=be[d].replace(f,"%20"),e=T.indexOf(ve),t,l,L,F;e>=0?(t=T.substr(0,e),l=T.substr(e+1)):(t=T,l=""),L=decodeURIComponent(t),F=decodeURIComponent(l),j(fe,L)?V(fe[L])?fe[L].push(F):fe[L]=[fe[L],F]:fe[L]=F}return fe};var V=Array.isArray||function(be){return Object.prototype.toString.call(be)==="[object Array]"};return decode}var encode,hasRequiredEncode;function requireEncode(){if(hasRequiredEncode)return encode;hasRequiredEncode=1;var j=function(ve){switch(typeof ve){case"string":return ve;case"boolean":return ve?"true":"false";case"number":return isFinite(ve)?ve:"";default:return""}};encode=function(ve,we,fe,f){return we=we||"&",fe=fe||"=",ve===null&&(ve=void 0),typeof ve=="object"?be(J(ve),function($){var n=encodeURIComponent(j($))+fe;return V(ve[$])?be(ve[$],function(d){return n+encodeURIComponent(j(d))}).join(we):n+encodeURIComponent(j(ve[$]))}).join(we):f?encodeURIComponent(j(f))+fe+encodeURIComponent(j(ve)):""};var V=Array.isArray||function(ve){return Object.prototype.toString.call(ve)==="[object Array]"};function be(ve,we){if(ve.map)return ve.map(we);for(var fe=[],f=0;f<ve.length;f++)fe.push(we(ve[f],f));return fe}var J=Object.keys||function(ve){var we=[];for(var fe in ve)Object.prototype.hasOwnProperty.call(ve,fe)&&we.push(fe);return we};return encode}var hasRequiredQuerystringEs3;function requireQuerystringEs3(){return hasRequiredQuerystringEs3||(hasRequiredQuerystringEs3=1,querystringEs3.decode=querystringEs3.parse=requireDecode(),querystringEs3.encode=querystringEs3.stringify=requireEncode()),querystringEs3}var hasRequiredQuerystring;function requireQuerystring(){return hasRequiredQuerystring||(hasRequiredQuerystring=1,function(j,V){Object.defineProperty(V,"__esModule",{value:!0});var be=requireQuerystringEs3();function J(fe){return encodeURIComponent(fe)}function ve(fe){return decodeURIComponent(fe)}var we={decode:be.decode,encode:be.encode,parse:be.parse,stringify:be.stringify,escape:J,unescape:ve};Object.defineProperty(V,"decode",{enumerable:!0,get:function(){return be.decode}}),Object.defineProperty(V,"encode",{enumerable:!0,get:function(){return be.encode}}),Object.defineProperty(V,"parse",{enumerable:!0,get:function(){return be.parse}}),Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return be.stringify}}),V.default=we,V.escape=J,V.unescape=ve,V=j.exports=we}(querystring,querystring.exports)),querystring.exports}var hasRequiredUrl;function requireUrl(){return hasRequiredUrl||(hasRequiredUrl=1,function(j,V){Object.defineProperty(V,"__esModule",{value:!0});var be=requirePunycode(),J=requireQuerystring();function ve(H){return H&&typeof H=="object"&&"default"in H?H:{default:H}}var we=ve(be),fe=ve(J),f={isString:function(H){return typeof H=="string"},isObject:function(H){return typeof H=="object"&&H!==null},isNull:function(H){return H===null},isNullOrUndefined:function(H){return H==null}},$=we.default,n=f,d=_,T=X,e=m,t=P,l=L;function L(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var F=/^([a-z0-9.+-]+:)/i,g=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(u),i=["'"].concat(h),x=["%","/","?",";","#"].concat(i),p=["/","?","#"],v=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,U={javascript:!0,"javascript:":!0},D={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=fe.default;function _(H,Y,G){if(H&&n.isObject(H)&&H instanceof L)return H;var le=new L;return le.parse(H,Y,G),le}L.prototype.parse=function(H,Y,G){if(!n.isString(H))throw new TypeError("Parameter 'url' must be a string, not "+typeof H);var le=H.indexOf("?"),ce=le!==-1&&le<H.indexOf("#")?"?":"#",te=H.split(ce),ge=/\\/g;te[0]=te[0].replace(ge,"/"),H=te.join(ce);var K=H;if(K=K.trim(),!G&&H.split("#").length===1){var Se=w.exec(K);if(Se)return this.path=K,this.href=K,this.pathname=Se[1],Se[2]?(this.search=Se[2],Y?this.query=B.parse(this.search.substr(1)):this.query=this.search.substr(1)):Y&&(this.search="",this.query={}),this}var Oe=F.exec(K);if(Oe){Oe=Oe[0];var Me=Oe.toLowerCase();this.protocol=Me,K=K.substr(Oe.length)}if(G||Oe||K.match(/^\/\/[^@\/]+@[^@\/]+/)){var _e=K.substr(0,2)==="//";_e&&!(Oe&&D[Oe])&&(K=K.substr(2),this.slashes=!0)}if(!D[Oe]&&(_e||Oe&&!I[Oe])){for(var ke=-1,oe=0;oe<p.length;oe++){var Ie=K.indexOf(p[oe]);Ie!==-1&&(ke===-1||Ie<ke)&&(ke=Ie)}var Be,he;ke===-1?he=K.lastIndexOf("@"):he=K.lastIndexOf("@",ke),he!==-1&&(Be=K.slice(0,he),K=K.slice(he+1),this.auth=decodeURIComponent(Be)),ke=-1;for(var oe=0;oe<x.length;oe++){var Ie=K.indexOf(x[oe]);Ie!==-1&&(ke===-1||Ie<ke)&&(ke=Ie)}ke===-1&&(ke=K.length),this.host=K.slice(0,ke),K=K.slice(ke),this.parseHost(),this.hostname=this.hostname||"";var De=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!De)for(var ye=this.hostname.split(/\./),oe=0,me=ye.length;oe<me;oe++){var Pe=ye[oe];if(Pe&&!Pe.match(b)){for(var Re="",He=0,Xe=Pe.length;He<Xe;He++)Pe.charCodeAt(He)>127?Re+="x":Re+=Pe[He];if(!Re.match(b)){var Fe=ye.slice(0,oe),ae=ye.slice(oe+1),Ae=Pe.match(N);Ae&&(Fe.push(Ae[1]),ae.unshift(Ae[2])),ae.length&&(K="/"+ae.join(".")+K),this.hostname=Fe.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),De||(this.hostname=$.toASCII(this.hostname));var Le=this.port?":"+this.port:"",Ee=this.hostname||"";this.host=Ee+Le,this.href+=this.host,De&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),K[0]!=="/"&&(K="/"+K))}if(!U[Me])for(var oe=0,me=i.length;oe<me;oe++){var xe=i[oe];if(K.indexOf(xe)!==-1){var Te=encodeURIComponent(xe);Te===xe&&(Te=escape(xe)),K=K.split(xe).join(Te)}}var Ne=K.indexOf("#");Ne!==-1&&(this.hash=K.substr(Ne),K=K.slice(0,Ne));var $e=K.indexOf("?");if($e!==-1?(this.search=K.substr($e),this.query=K.substr($e+1),Y&&(this.query=B.parse(this.query)),K=K.slice(0,$e)):Y&&(this.search="",this.query={}),K&&(this.pathname=K),I[Me]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Le=this.pathname||"",Ue=this.search||"";this.path=Le+Ue}return this.href=this.format(),this};function P(H){return n.isString(H)&&(H=_(H)),H instanceof L?H.format():L.prototype.format.call(H)}L.prototype.format=function(){var H=this.auth||"";H&&(H=encodeURIComponent(H),H=H.replace(/%3A/i,":"),H+="@");var Y=this.protocol||"",G=this.pathname||"",le=this.hash||"",ce=!1,te="";this.host?ce=H+this.host:this.hostname&&(ce=H+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ce+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(te=B.stringify(this.query));var ge=this.search||te&&"?"+te||"";return Y&&Y.substr(-1)!==":"&&(Y+=":"),this.slashes||(!Y||I[Y])&&ce!==!1?(ce="//"+(ce||""),G&&G.charAt(0)!=="/"&&(G="/"+G)):ce||(ce=""),le&&le.charAt(0)!=="#"&&(le="#"+le),ge&&ge.charAt(0)!=="?"&&(ge="?"+ge),G=G.replace(/[?#]/g,function(K){return encodeURIComponent(K)}),ge=ge.replace("#","%23"),Y+ce+G+ge+le};function X(H,Y){return _(H,!1,!0).resolve(Y)}L.prototype.resolve=function(H){return this.resolveObject(_(H,!1,!0)).format()};function m(H,Y){return H?_(H,!1,!0).resolveObject(Y):Y}L.prototype.resolveObject=function(H){if(n.isString(H)){var Y=new L;Y.parse(H,!1,!0),H=Y}for(var G=new L,le=Object.keys(this),ce=0;ce<le.length;ce++){var te=le[ce];G[te]=this[te]}if(G.hash=H.hash,H.href==="")return G.href=G.format(),G;if(H.slashes&&!H.protocol){for(var ge=Object.keys(H),K=0;K<ge.length;K++){var Se=ge[K];Se!=="protocol"&&(G[Se]=H[Se])}return I[G.protocol]&&G.hostname&&!G.pathname&&(G.path=G.pathname="/"),G.href=G.format(),G}if(H.protocol&&H.protocol!==G.protocol){if(!I[H.protocol]){for(var Oe=Object.keys(H),Me=0;Me<Oe.length;Me++){var _e=Oe[Me];G[_e]=H[_e]}return G.href=G.format(),G}if(G.protocol=H.protocol,!H.host&&!D[H.protocol]){for(var me=(H.pathname||"").split("/");me.length&&!(H.host=me.shift()););H.host||(H.host=""),H.hostname||(H.hostname=""),me[0]!==""&&me.unshift(""),me.length<2&&me.unshift(""),G.pathname=me.join("/")}else G.pathname=H.pathname;if(G.search=H.search,G.query=H.query,G.host=H.host||"",G.auth=H.auth,G.hostname=H.hostname||H.host,G.port=H.port,G.pathname||G.search){var ke=G.pathname||"",oe=G.search||"";G.path=ke+oe}return G.slashes=G.slashes||H.slashes,G.href=G.format(),G}var Ie=G.pathname&&G.pathname.charAt(0)==="/",Be=H.host||H.pathname&&H.pathname.charAt(0)==="/",he=Be||Ie||G.host&&H.pathname,De=he,ye=G.pathname&&G.pathname.split("/")||[],me=H.pathname&&H.pathname.split("/")||[],Pe=G.protocol&&!I[G.protocol];if(Pe&&(G.hostname="",G.port=null,G.host&&(ye[0]===""?ye[0]=G.host:ye.unshift(G.host)),G.host="",H.protocol&&(H.hostname=null,H.port=null,H.host&&(me[0]===""?me[0]=H.host:me.unshift(H.host)),H.host=null),he=he&&(me[0]===""||ye[0]==="")),Be)G.host=H.host||H.host===""?H.host:G.host,G.hostname=H.hostname||H.hostname===""?H.hostname:G.hostname,G.search=H.search,G.query=H.query,ye=me;else if(me.length)ye||(ye=[]),ye.pop(),ye=ye.concat(me),G.search=H.search,G.query=H.query;else if(!n.isNullOrUndefined(H.search)){if(Pe){G.hostname=G.host=ye.shift();var Re=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;Re&&(G.auth=Re.shift(),G.host=G.hostname=Re.shift())}return G.search=H.search,G.query=H.query,(!n.isNull(G.pathname)||!n.isNull(G.search))&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.href=G.format(),G}if(!ye.length)return G.pathname=null,G.search?G.path="/"+G.search:G.path=null,G.href=G.format(),G;for(var He=ye.slice(-1)[0],Xe=(G.host||H.host||ye.length>1)&&(He==="."||He==="..")||He==="",Fe=0,ae=ye.length;ae>=0;ae--)He=ye[ae],He==="."?ye.splice(ae,1):He===".."?(ye.splice(ae,1),Fe++):Fe&&(ye.splice(ae,1),Fe--);if(!he&&!De)for(;Fe--;Fe)ye.unshift("..");he&&ye[0]!==""&&(!ye[0]||ye[0].charAt(0)!=="/")&&ye.unshift(""),Xe&&ye.join("/").substr(-1)!=="/"&&ye.push("");var Ae=ye[0]===""||ye[0]&&ye[0].charAt(0)==="/";if(Pe){G.hostname=G.host=Ae?"":ye.length?ye.shift():"";var Re=G.host&&G.host.indexOf("@")>0?G.host.split("@"):!1;Re&&(G.auth=Re.shift(),G.host=G.hostname=Re.shift())}return he=he||G.host&&ye.length,he&&!Ae&&ye.unshift(""),ye.length?G.pathname=ye.join("/"):(G.pathname=null,G.path=null),(!n.isNull(G.pathname)||!n.isNull(G.search))&&(G.path=(G.pathname?G.pathname:"")+(G.search?G.search:"")),G.auth=H.auth||G.auth,G.slashes=G.slashes||H.slashes,G.href=G.format(),G},L.prototype.parseHost=function(){var H=this.host,Y=g.exec(H);Y&&(Y=Y[0],Y!==":"&&(this.port=Y.substr(1)),H=H.substr(0,H.length-Y.length)),H&&(this.hostname=H)};function S(H,Y){for(var G=0,le=H.length-1;le>=0;le--){var ce=H[le];ce==="."?H.splice(le,1):ce===".."?(H.splice(le,1),G++):G&&(H.splice(le,1),G--)}if(Y)for(;G--;G)H.unshift("..");return H}function R(){for(var H="",Y=!1,G=arguments.length-1;G>=-1&&!Y;G--){var le=G>=0?arguments[G]:"/";if(typeof le!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!le)continue;H=le+"/"+H,Y=le.charAt(0)==="/"}return H=S(z(H.split("/"),function(ce){return!!ce}),!Y).join("/"),(Y?"/":"")+H||"."}function z(H,Y){if(H.filter)return H.filter(Y);for(var G=[],le=0;le<H.length;le++)Y(H[le],le,H)&&G.push(H[le]);return G}var O=function(H){function Y(){var le=this||self;return delete H.prototype.__magic__,le}if(typeof globalThis=="object")return globalThis;if(this)return Y();H.defineProperty(H.prototype,"__magic__",{configurable:!0,get:Y});var G=__magic__;return G}(Object),E=t,k=d,M=T,a=l,o=O.URL,r=O.URLSearchParams,s=/%/g,A=/\\/g,c=/\n/g,y=/\r/g,q=/\t/g,re=47;function Q(H){var Y=H??null;return!!(Y!==null&&(Y!=null&&Y.href)&&(Y!=null&&Y.origin))}function de(H){if(H.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var Y=H.pathname,G=0;G<Y.length;G++)if(Y[G]==="%"){var le=Y.codePointAt(G+2)|32;if(Y[G+1]==="2"&&le===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(Y)}function ee(H){return H.includes("%")&&(H=H.replace(s,"%25")),H.includes("\\")&&(H=H.replace(A,"%5C")),H.includes(`
`)&&(H=H.replace(c,"%0A")),H.includes("\r")&&(H=H.replace(y,"%0D")),H.includes("	")&&(H=H.replace(q,"%09")),H}var ue=function(Y){if(typeof Y>"u")throw new TypeError('The "domain" argument must be specified');return new o("http://"+Y).hostname},W=function(Y){if(typeof Y>"u")throw new TypeError('The "domain" argument must be specified');return new o("http://"+Y).hostname},Z=function(Y){var G=new o("file://"),le=R(Y),ce=Y.charCodeAt(Y.length-1);return ce===re&&le[le.length-1]!=="/"&&(le+="/"),G.pathname=ee(le),G},se=function(Y){if(!Q(Y)&&typeof Y!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof Y+" ("+Y+")");var G=new o(Y);if(G.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return de(G)},ne=function(Y,G){var le,ce,te;if(G===void 0&&(G={}),!(Y instanceof o))return E(Y);if(typeof G!="object"||G===null)throw new TypeError('The "options" argument must be of type object.');var ge=(le=G.auth)!=null?le:!0,K=(ce=G.fragment)!=null?ce:!0,Se=(te=G.search)!=null?te:!0,Oe=new o(Y.toString());return ge||(Oe.username="",Oe.password=""),K||(Oe.hash=""),Se||(Oe.search=""),Oe.toString()},ie={format:ne,parse:k,resolve:M,resolveObject:e,Url:a,URL:o,URLSearchParams:r,domainToASCII:ue,domainToUnicode:W,pathToFileURL:Z,fileURLToPath:se};V.URL=o,V.URLSearchParams=r,V.Url=a,V.default=ie,V.domainToASCII=ue,V.domainToUnicode=W,V.fileURLToPath=se,V.format=ne,V.parse=k,V.pathToFileURL=Z,V.resolve=M,V.resolveObject=e,V=j.exports=ie}(url,url.exports)),url.exports}var streamHttp={},request={exports:{}},capability={},hasRequiredCapability;function requireCapability(){return hasRequiredCapability||(hasRequiredCapability=1,function(j){j.fetch=ve(commonjsGlobal.fetch)&&ve(commonjsGlobal.ReadableStream),j.writableStream=ve(commonjsGlobal.WritableStream),j.abortController=ve(commonjsGlobal.AbortController);var V;function be(){if(V!==void 0)return V;if(commonjsGlobal.XMLHttpRequest){V=new commonjsGlobal.XMLHttpRequest;try{V.open("GET",commonjsGlobal.XDomainRequest?"/":"https://example.com")}catch{V=null}}else V=null;return V}function J(we){var fe=be();if(!fe)return!1;try{return fe.responseType=we,fe.responseType===we}catch{}return!1}j.arraybuffer=j.fetch||J("arraybuffer"),j.msstream=!j.fetch&&J("ms-stream"),j.mozchunkedarraybuffer=!j.fetch&&J("moz-chunked-arraybuffer"),j.overrideMimeType=j.fetch||(be()?ve(be().overrideMimeType):!1);function ve(we){return typeof we=="function"}V=null}(capability)),capability}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(V,be){be&&(V.super_=be,V.prototype=Object.create(be.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(V,be){if(be){V.super_=be;var J=function(){};J.prototype=be.prototype,V.prototype=new J,V.prototype.constructor=V}}),inherits_browser.exports}var response={},readableBrowser={exports:{}},events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var j=typeof Reflect=="object"?Reflect:null,V=j&&typeof j.apply=="function"?j.apply:function(i,x,p){return Function.prototype.apply.call(i,x,p)},be;j&&typeof j.ownKeys=="function"?be=j.ownKeys:Object.getOwnPropertySymbols?be=function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:be=function(i){return Object.getOwnPropertyNames(i)};function J(h){console&&console.warn&&console.warn(h)}var ve=Number.isNaN||function(i){return i!==i};function we(){we.init.call(this)}events.exports=we,events.exports.once=g,we.EventEmitter=we,we.prototype._events=void 0,we.prototype._eventsCount=0,we.prototype._maxListeners=void 0;var fe=10;function f(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}Object.defineProperty(we,"defaultMaxListeners",{enumerable:!0,get:function(){return fe},set:function(h){if(typeof h!="number"||h<0||ve(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");fe=h}}),we.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},we.prototype.setMaxListeners=function(i){if(typeof i!="number"||i<0||ve(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this};function $(h){return h._maxListeners===void 0?we.defaultMaxListeners:h._maxListeners}we.prototype.getMaxListeners=function(){return $(this)},we.prototype.emit=function(i){for(var x=[],p=1;p<arguments.length;p++)x.push(arguments[p]);var v=i==="error",b=this._events;if(b!==void 0)v=v&&b.error===void 0;else if(!v)return!1;if(v){var N;if(x.length>0&&(N=x[0]),N instanceof Error)throw N;var U=new Error("Unhandled error."+(N?" ("+N.message+")":""));throw U.context=N,U}var D=b[i];if(D===void 0)return!1;if(typeof D=="function")V(D,this,x);else for(var I=D.length,B=l(D,I),p=0;p<I;++p)V(B[p],this,x);return!0};function n(h,i,x,p){var v,b,N;if(f(x),b=h._events,b===void 0?(b=h._events=Object.create(null),h._eventsCount=0):(b.newListener!==void 0&&(h.emit("newListener",i,x.listener?x.listener:x),b=h._events),N=b[i]),N===void 0)N=b[i]=x,++h._eventsCount;else if(typeof N=="function"?N=b[i]=p?[x,N]:[N,x]:p?N.unshift(x):N.push(x),v=$(h),v>0&&N.length>v&&!N.warned){N.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+N.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=h,U.type=i,U.count=N.length,J(U)}return h}we.prototype.addListener=function(i,x){return n(this,i,x,!1)},we.prototype.on=we.prototype.addListener,we.prototype.prependListener=function(i,x){return n(this,i,x,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T(h,i,x){var p={fired:!1,wrapFn:void 0,target:h,type:i,listener:x},v=d.bind(p);return v.listener=x,p.wrapFn=v,v}we.prototype.once=function(i,x){return f(x),this.on(i,T(this,i,x)),this},we.prototype.prependOnceListener=function(i,x){return f(x),this.prependListener(i,T(this,i,x)),this},we.prototype.removeListener=function(i,x){var p,v,b,N,U;if(f(x),v=this._events,v===void 0)return this;if(p=v[i],p===void 0)return this;if(p===x||p.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete v[i],v.removeListener&&this.emit("removeListener",i,p.listener||x));else if(typeof p!="function"){for(b=-1,N=p.length-1;N>=0;N--)if(p[N]===x||p[N].listener===x){U=p[N].listener,b=N;break}if(b<0)return this;b===0?p.shift():L(p,b),p.length===1&&(v[i]=p[0]),v.removeListener!==void 0&&this.emit("removeListener",i,U||x)}return this},we.prototype.off=we.prototype.removeListener,we.prototype.removeAllListeners=function(i){var x,p,v;if(p=this._events,p===void 0)return this;if(p.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):p[i]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete p[i]),this;if(arguments.length===0){var b=Object.keys(p),N;for(v=0;v<b.length;++v)N=b[v],N!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=p[i],typeof x=="function")this.removeListener(i,x);else if(x!==void 0)for(v=x.length-1;v>=0;v--)this.removeListener(i,x[v]);return this};function e(h,i,x){var p=h._events;if(p===void 0)return[];var v=p[i];return v===void 0?[]:typeof v=="function"?x?[v.listener||v]:[v]:x?F(v):l(v,v.length)}we.prototype.listeners=function(i){return e(this,i,!0)},we.prototype.rawListeners=function(i){return e(this,i,!1)},we.listenerCount=function(h,i){return typeof h.listenerCount=="function"?h.listenerCount(i):t.call(h,i)},we.prototype.listenerCount=t;function t(h){var i=this._events;if(i!==void 0){var x=i[h];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}we.prototype.eventNames=function(){return this._eventsCount>0?be(this._events):[]};function l(h,i){for(var x=new Array(i),p=0;p<i;++p)x[p]=h[p];return x}function L(h,i){for(;i+1<h.length;i++)h[i]=h[i+1];h.pop()}function F(h){for(var i=new Array(h.length),x=0;x<i.length;++x)i[x]=h[x].listener||h[x];return i}function g(h,i){return new Promise(function(x,p){function v(N){h.removeListener(i,b),p(N)}function b(){typeof h.removeListener=="function"&&h.removeListener("error",v),x([].slice.call(arguments))}u(h,i,b,{once:!0}),i!=="error"&&w(h,v,{once:!0})})}function w(h,i,x){typeof h.on=="function"&&u(h,"error",i,x)}function u(h,i,x,p){if(typeof h.on=="function")p.once?h.once(i,x):h.on(i,x);else if(typeof h.addEventListener=="function")h.addEventListener(i,function v(b){p.once&&h.removeEventListener(i,v),x(b)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var V={},be=Symbol("test"),J=Object(be);if(typeof be=="string"||Object.prototype.toString.call(be)!=="[object Symbol]"||Object.prototype.toString.call(J)!=="[object Symbol]")return!1;var ve=42;V[be]=ve;for(be in V)return!1;if(typeof Object.keys=="function"&&Object.keys(V).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(V).length!==0)return!1;var we=Object.getOwnPropertySymbols(V);if(we.length!==1||we[0]!==be||!Object.prototype.propertyIsEnumerable.call(V,be))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var fe=Object.getOwnPropertyDescriptor(V,be);if(fe.value!==ve||fe.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var j=requireShams$1();return shams=function(){return j()&&!!Symbol.toStringTag},shams}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var j=typeof Symbol<"u"&&Symbol,V=requireShams$1();return hasSymbols=function(){return typeof j!="function"||typeof Symbol!="function"||typeof j("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:V()},hasSymbols}var hasProto,hasRequiredHasProto;function requireHasProto(){if(hasRequiredHasProto)return hasProto;hasRequiredHasProto=1;var j={__proto__:null,foo:{}},V=Object;return hasProto=function(){return{__proto__:j}.foo===j.foo&&!(j instanceof V)},hasProto}var implementation$4,hasRequiredImplementation$4;function requireImplementation$4(){if(hasRequiredImplementation$4)return implementation$4;hasRequiredImplementation$4=1;var j="Function.prototype.bind called on incompatible ",V=Object.prototype.toString,be=Math.max,J="[object Function]",ve=function($,n){for(var d=[],T=0;T<$.length;T+=1)d[T]=$[T];for(var e=0;e<n.length;e+=1)d[e+$.length]=n[e];return d},we=function($,n){for(var d=[],T=n||0,e=0;T<$.length;T+=1,e+=1)d[e]=$[T];return d},fe=function(f,$){for(var n="",d=0;d<f.length;d+=1)n+=f[d],d+1<f.length&&(n+=$);return n};return implementation$4=function($){var n=this;if(typeof n!="function"||V.apply(n)!==J)throw new TypeError(j+n);for(var d=we(arguments,1),T,e=function(){if(this instanceof T){var g=n.apply(this,ve(d,arguments));return Object(g)===g?g:this}return n.apply($,ve(d,arguments))},t=be(0,n.length-d.length),l=[],L=0;L<t;L++)l[L]="$"+L;if(T=Function("binder","return function ("+fe(l,",")+"){ return binder.apply(this,arguments); }")(e),n.prototype){var F=function(){};F.prototype=n.prototype,T.prototype=new F,F.prototype=null}return T},implementation$4}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var j=requireImplementation$4();return functionBind=Function.prototype.bind||j,functionBind}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var j=Function.prototype.call,V=Object.prototype.hasOwnProperty,be=requireFunctionBind();return hasown=be.call(j,V),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var j,V=requireEsErrors(),be=require_eval(),J=requireRange(),ve=requireRef(),we=requireSyntax(),fe=requireType(),f=requireUri(),$=Function,n=function(X){try{return $('"use strict"; return ('+X+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var T=function(){throw new fe},e=d?function(){try{return arguments.callee,T}catch{try{return d(arguments,"callee").get}catch{return T}}}():T,t=requireHasSymbols()(),l=requireHasProto()(),L=Object.getPrototypeOf||(l?function(X){return X.__proto__}:null),F={},g=typeof Uint8Array>"u"||!L?j:L(Uint8Array),w={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?j:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?j:ArrayBuffer,"%ArrayIteratorPrototype%":t&&L?L([][Symbol.iterator]()):j,"%AsyncFromSyncIteratorPrototype%":j,"%AsyncFunction%":F,"%AsyncGenerator%":F,"%AsyncGeneratorFunction%":F,"%AsyncIteratorPrototype%":F,"%Atomics%":typeof Atomics>"u"?j:Atomics,"%BigInt%":typeof BigInt>"u"?j:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?j:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?j:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?j:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":V,"%eval%":eval,"%EvalError%":be,"%Float32Array%":typeof Float32Array>"u"?j:Float32Array,"%Float64Array%":typeof Float64Array>"u"?j:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?j:FinalizationRegistry,"%Function%":$,"%GeneratorFunction%":F,"%Int8Array%":typeof Int8Array>"u"?j:Int8Array,"%Int16Array%":typeof Int16Array>"u"?j:Int16Array,"%Int32Array%":typeof Int32Array>"u"?j:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t&&L?L(L([][Symbol.iterator]())):j,"%JSON%":typeof JSON=="object"?JSON:j,"%Map%":typeof Map>"u"?j:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t||!L?j:L(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?j:Promise,"%Proxy%":typeof Proxy>"u"?j:Proxy,"%RangeError%":J,"%ReferenceError%":ve,"%Reflect%":typeof Reflect>"u"?j:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?j:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t||!L?j:L(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?j:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t&&L?L(""[Symbol.iterator]()):j,"%Symbol%":t?Symbol:j,"%SyntaxError%":we,"%ThrowTypeError%":e,"%TypedArray%":g,"%TypeError%":fe,"%Uint8Array%":typeof Uint8Array>"u"?j:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?j:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?j:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?j:Uint32Array,"%URIError%":f,"%WeakMap%":typeof WeakMap>"u"?j:WeakMap,"%WeakRef%":typeof WeakRef>"u"?j:WeakRef,"%WeakSet%":typeof WeakSet>"u"?j:WeakSet};if(L)try{null.error}catch(X){var u=L(L(X));w["%Error.prototype%"]=u}var h=function X(m){var S;if(m==="%AsyncFunction%")S=n("async function () {}");else if(m==="%GeneratorFunction%")S=n("function* () {}");else if(m==="%AsyncGeneratorFunction%")S=n("async function* () {}");else if(m==="%AsyncGenerator%"){var R=X("%AsyncGeneratorFunction%");R&&(S=R.prototype)}else if(m==="%AsyncIteratorPrototype%"){var z=X("%AsyncGenerator%");z&&L&&(S=L(z.prototype))}return w[m]=S,S},i={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=requireFunctionBind(),p=requireHasown(),v=x.call(Function.call,Array.prototype.concat),b=x.call(Function.apply,Array.prototype.splice),N=x.call(Function.call,String.prototype.replace),U=x.call(Function.call,String.prototype.slice),D=x.call(Function.call,RegExp.prototype.exec),I=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,_=function(m){var S=U(m,0,1),R=U(m,-1);if(S==="%"&&R!=="%")throw new we("invalid intrinsic syntax, expected closing `%`");if(R==="%"&&S!=="%")throw new we("invalid intrinsic syntax, expected opening `%`");var z=[];return N(m,I,function(O,E,k,M){z[z.length]=k?N(M,B,"$1"):E||O}),z},P=function(m,S){var R=m,z;if(p(i,R)&&(z=i[R],R="%"+z[0]+"%"),p(w,R)){var O=w[R];if(O===F&&(O=h(R)),typeof O>"u"&&!S)throw new fe("intrinsic "+m+" exists, but is not available. Please file an issue!");return{alias:z,name:R,value:O}}throw new we("intrinsic "+m+" does not exist!")};return getIntrinsic=function(m,S){if(typeof m!="string"||m.length===0)throw new fe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof S!="boolean")throw new fe('"allowMissing" argument must be a boolean');if(D(/^%?[^%]*%?$/,m)===null)throw new we("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var R=_(m),z=R.length>0?R[0]:"",O=P("%"+z+"%",S),E=O.name,k=O.value,M=!1,a=O.alias;a&&(z=a[0],b(R,v([0,1],a)));for(var o=1,r=!0;o<R.length;o+=1){var s=R[o],A=U(s,0,1),c=U(s,-1);if((A==='"'||A==="'"||A==="`"||c==='"'||c==="'"||c==="`")&&A!==c)throw new we("property names with quotes must have matching quotes");if((s==="constructor"||!r)&&(M=!0),z+="."+s,E="%"+z+"%",p(w,E))k=w[E];else if(k!=null){if(!(s in k)){if(!S)throw new fe("base intrinsic for "+m+" exists, but the property is not available.");return}if(d&&o+1>=R.length){var y=d(k,s);r=!!y,r&&"get"in y&&!("originalValue"in y.get)?k=y.get:k=k[s]}else r=p(k,s),k=k[s];r&&!M&&(w[E]=k)}}return k},getIntrinsic}var callBind={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var j=requireGetIntrinsic(),V=j("%Object.defineProperty%",!0)||!1;if(V)try{V({},"a",{value:1})}catch{V=!1}return esDefineProperty=V,esDefineProperty}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var j=requireGetIntrinsic(),V=j("%Object.getOwnPropertyDescriptor%",!0);if(V)try{V([],"length")}catch{V=null}return gopd=V,gopd}var defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var j=requireEsDefineProperty(),V=requireSyntax(),be=requireType(),J=requireGopd();return defineDataProperty=function(we,fe,f){if(!we||typeof we!="object"&&typeof we!="function")throw new be("`obj` must be an object or a function`");if(typeof fe!="string"&&typeof fe!="symbol")throw new be("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new be("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new be("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new be("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new be("`loose`, if provided, must be a boolean");var $=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,T=arguments.length>6?arguments[6]:!1,e=!!J&&J(we,fe);if(j)j(we,fe,{configurable:d===null&&e?e.configurable:!d,enumerable:$===null&&e?e.enumerable:!$,value:f,writable:n===null&&e?e.writable:!n});else if(T||!$&&!n&&!d)we[fe]=f;else throw new V("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var j=requireEsDefineProperty(),V=function(){return!!j};return V.hasArrayLengthDefineBug=function(){if(!j)return null;try{return j([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=V,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var j=requireGetIntrinsic(),V=requireDefineDataProperty(),be=requireHasPropertyDescriptors()(),J=requireGopd(),ve=requireType(),we=j("%Math.floor%");return setFunctionLength=function(f,$){if(typeof f!="function")throw new ve("`fn` is not a function");if(typeof $!="number"||$<0||$>4294967295||we($)!==$)throw new ve("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],d=!0,T=!0;if("length"in f&&J){var e=J(f,"length");e&&!e.configurable&&(d=!1),e&&!e.writable&&(T=!1)}return(d||T||!n)&&(be?V(f,"length",$,!0,!0):V(f,"length",$)),f},setFunctionLength}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(j){var V=requireFunctionBind(),be=requireGetIntrinsic(),J=requireSetFunctionLength(),ve=requireType(),we=be("%Function.prototype.apply%"),fe=be("%Function.prototype.call%"),f=be("%Reflect.apply%",!0)||V.call(fe,we),$=requireEsDefineProperty(),n=be("%Math.max%");j.exports=function(e){if(typeof e!="function")throw new ve("a function is required");var t=f(V,fe,arguments);return J(t,1+n(0,e.length-(arguments.length-1)),!0)};var d=function(){return f(V,we,arguments)};$?$(j.exports,"apply",{value:d}):j.exports.apply=d}(callBind)),callBind.exports}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var j=requireGetIntrinsic(),V=requireCallBind(),be=V(j("String.prototype.indexOf"));return callBound=function(ve,we){var fe=j(ve,!!we);return typeof fe=="function"&&be(ve,".prototype.")>-1?V(fe):fe},callBound}var isArguments$1,hasRequiredIsArguments$1;function requireIsArguments$1(){if(hasRequiredIsArguments$1)return isArguments$1;hasRequiredIsArguments$1=1;var j=requireShams()(),V=requireCallBound(),be=V("Object.prototype.toString"),J=function(f){return j&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:be(f)==="[object Arguments]"},ve=function(f){return J(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&be(f)!=="[object Array]"&&be(f.callee)==="[object Function]"},we=function(){return J(arguments)}();return J.isLegacyArguments=ve,isArguments$1=we?J:ve,isArguments$1}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var j=Object.prototype.toString,V=Function.prototype.toString,be=/^\s*(?:function)?\*/,J=requireShams()(),ve=Object.getPrototypeOf,we=function(){if(!J)return!1;try{return Function("return function*() {}")()}catch{}},fe;return isGeneratorFunction=function($){if(typeof $!="function")return!1;if(be.test(V.call($)))return!0;if(!J){var n=j.call($);return n==="[object GeneratorFunction]"}if(!ve)return!1;if(typeof fe>"u"){var d=we();fe=d?ve(d):!1}return ve($)===fe},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var j=Function.prototype.toString,V=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,be,J;if(typeof V=="function"&&typeof Object.defineProperty=="function")try{be=Object.defineProperty({},"length",{get:function(){throw J}}),J={},V(function(){throw 42},null,be)}catch(w){w!==J&&(V=null)}else V=null;var ve=/^\s*class\b/,we=function(u){try{var h=j.call(u);return ve.test(h)}catch{return!1}},fe=function(u){try{return we(u)?!1:(j.call(u),!0)}catch{return!1}},f=Object.prototype.toString,$="[object Object]",n="[object Function]",d="[object GeneratorFunction]",T="[object HTMLAllCollection]",e="[object HTML document.all class]",t="[object HTMLCollection]",l=typeof Symbol=="function"&&!!Symbol.toStringTag,L=!(0 in[,]),F=function(){return!1};if(typeof document=="object"){var g=document.all;f.call(g)===f.call(document.all)&&(F=function(u){if((L||!u)&&(typeof u>"u"||typeof u=="object"))try{var h=f.call(u);return(h===T||h===e||h===t||h===$)&&u("")==null}catch{}return!1})}return isCallable=V?function(u){if(F(u))return!0;if(!u||typeof u!="function"&&typeof u!="object")return!1;try{V(u,null,be)}catch(h){if(h!==J)return!1}return!we(u)&&fe(u)}:function(u){if(F(u))return!0;if(!u||typeof u!="function"&&typeof u!="object")return!1;if(l)return fe(u);if(we(u))return!1;var h=f.call(u);return h!==n&&h!==d&&!/^\[object HTML/.test(h)?!1:fe(u)},isCallable}var forEach_1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var j=requireIsCallable(),V=Object.prototype.toString,be=Object.prototype.hasOwnProperty,J=function($,n,d){for(var T=0,e=$.length;T<e;T++)be.call($,T)&&(d==null?n($[T],T,$):n.call(d,$[T],T,$))},ve=function($,n,d){for(var T=0,e=$.length;T<e;T++)d==null?n($.charAt(T),T,$):n.call(d,$.charAt(T),T,$)},we=function($,n,d){for(var T in $)be.call($,T)&&(d==null?n($[T],T,$):n.call(d,$[T],T,$))},fe=function($,n,d){if(!j(n))throw new TypeError("iterator must be a function");var T;arguments.length>=3&&(T=d),V.call($)==="[object Array]"?J($,n,T):typeof $=="string"?ve($,n,T):we($,n,T)};return forEach_1=fe,forEach_1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var j=requirePossibleTypedArrayNames(),V=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var J=[],ve=0;ve<j.length;ve++)typeof V[j[ve]]=="function"&&(J[J.length]=j[ve]);return J},availableTypedArrays}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var j=requireForEach(),V=requireAvailableTypedArrays(),be=requireCallBind(),J=requireCallBound(),ve=requireGopd(),we=J("Object.prototype.toString"),fe=requireShams()(),f=typeof globalThis>"u"?commonjsGlobal:globalThis,$=V(),n=J("String.prototype.slice"),d=Object.getPrototypeOf,T=J("Array.prototype.indexOf",!0)||function(F,g){for(var w=0;w<F.length;w+=1)if(F[w]===g)return w;return-1},e={__proto__:null};fe&&ve&&d?j($,function(L){var F=new f[L];if(Symbol.toStringTag in F){var g=d(F),w=ve(g,Symbol.toStringTag);if(!w){var u=d(g);w=ve(u,Symbol.toStringTag)}e["$"+L]=be(w.get)}}):j($,function(L){var F=new f[L],g=F.slice||F.set;g&&(e["$"+L]=be(g))});var t=function(F){var g=!1;return j(e,function(w,u){if(!g)try{"$"+w(F)===u&&(g=n(u,1))}catch{}}),g},l=function(F){var g=!1;return j(e,function(w,u){if(!g)try{w(F),g=n(u,1)}catch{}}),g};return whichTypedArray=function(F){if(!F||typeof F!="object")return!1;if(!fe){var g=n(we(F),8,-1);return T($,g)>-1?g:g!=="Object"?!1:l(F)}return ve?t(F):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var j=requireWhichTypedArray();return isTypedArray=function(be){return!!j(be)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(j){var V=requireIsArguments$1(),be=requireIsGeneratorFunction(),J=requireWhichTypedArray(),ve=requireIsTypedArray();function we(W){return W.call.bind(W)}var fe=typeof BigInt<"u",f=typeof Symbol<"u",$=we(Object.prototype.toString),n=we(Number.prototype.valueOf),d=we(String.prototype.valueOf),T=we(Boolean.prototype.valueOf);if(fe)var e=we(BigInt.prototype.valueOf);if(f)var t=we(Symbol.prototype.valueOf);function l(W,Z){if(typeof W!="object")return!1;try{return Z(W),!0}catch{return!1}}j.isArgumentsObject=V,j.isGeneratorFunction=be,j.isTypedArray=ve;function L(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&typeof W=="object"&&typeof W.then=="function"&&typeof W.catch=="function"}j.isPromise=L;function F(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):ve(W)||E(W)}j.isArrayBufferView=F;function g(W){return J(W)==="Uint8Array"}j.isUint8Array=g;function w(W){return J(W)==="Uint8ClampedArray"}j.isUint8ClampedArray=w;function u(W){return J(W)==="Uint16Array"}j.isUint16Array=u;function h(W){return J(W)==="Uint32Array"}j.isUint32Array=h;function i(W){return J(W)==="Int8Array"}j.isInt8Array=i;function x(W){return J(W)==="Int16Array"}j.isInt16Array=x;function p(W){return J(W)==="Int32Array"}j.isInt32Array=p;function v(W){return J(W)==="Float32Array"}j.isFloat32Array=v;function b(W){return J(W)==="Float64Array"}j.isFloat64Array=b;function N(W){return J(W)==="BigInt64Array"}j.isBigInt64Array=N;function U(W){return J(W)==="BigUint64Array"}j.isBigUint64Array=U;function D(W){return $(W)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function I(W){return typeof Map>"u"?!1:D.working?D(W):W instanceof Map}j.isMap=I;function B(W){return $(W)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function _(W){return typeof Set>"u"?!1:B.working?B(W):W instanceof Set}j.isSet=_;function P(W){return $(W)==="[object WeakMap]"}P.working=typeof WeakMap<"u"&&P(new WeakMap);function X(W){return typeof WeakMap>"u"?!1:P.working?P(W):W instanceof WeakMap}j.isWeakMap=X;function m(W){return $(W)==="[object WeakSet]"}m.working=typeof WeakSet<"u"&&m(new WeakSet);function S(W){return m(W)}j.isWeakSet=S;function R(W){return $(W)==="[object ArrayBuffer]"}R.working=typeof ArrayBuffer<"u"&&R(new ArrayBuffer);function z(W){return typeof ArrayBuffer>"u"?!1:R.working?R(W):W instanceof ArrayBuffer}j.isArrayBuffer=z;function O(W){return $(W)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function E(W){return typeof DataView>"u"?!1:O.working?O(W):W instanceof DataView}j.isDataView=E;var k=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function M(W){return $(W)==="[object SharedArrayBuffer]"}function a(W){return typeof k>"u"?!1:(typeof M.working>"u"&&(M.working=M(new k)),M.working?M(W):W instanceof k)}j.isSharedArrayBuffer=a;function o(W){return $(W)==="[object AsyncFunction]"}j.isAsyncFunction=o;function r(W){return $(W)==="[object Map Iterator]"}j.isMapIterator=r;function s(W){return $(W)==="[object Set Iterator]"}j.isSetIterator=s;function A(W){return $(W)==="[object Generator]"}j.isGeneratorObject=A;function c(W){return $(W)==="[object WebAssembly.Module]"}j.isWebAssemblyCompiledModule=c;function y(W){return l(W,n)}j.isNumberObject=y;function q(W){return l(W,d)}j.isStringObject=q;function re(W){return l(W,T)}j.isBooleanObject=re;function Q(W){return fe&&l(W,e)}j.isBigIntObject=Q;function de(W){return f&&l(W,t)}j.isSymbolObject=de;function ee(W){return y(W)||q(W)||re(W)||Q(W)||de(W)}j.isBoxedPrimitive=ee;function ue(W){return typeof Uint8Array<"u"&&(z(W)||a(W))}j.isAnyArrayBuffer=ue,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(j,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(V){return V&&typeof V=="object"&&typeof V.copy=="function"&&typeof V.fill=="function"&&typeof V.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,function(j){var V=Object.getOwnPropertyDescriptors||function(E){for(var k=Object.keys(E),M={},a=0;a<k.length;a++)M[k[a]]=Object.getOwnPropertyDescriptor(E,k[a]);return M},be=/%[sdj%]/g;j.format=function(O){if(!i(O)){for(var E=[],k=0;k<arguments.length;k++)E.push(fe(arguments[k]));return E.join(" ")}for(var k=1,M=arguments,a=M.length,o=String(O).replace(be,function(s){if(s==="%%")return"%";if(k>=a)return s;switch(s){case"%s":return String(M[k++]);case"%d":return Number(M[k++]);case"%j":try{return JSON.stringify(M[k++])}catch{return"[Circular]"}default:return s}}),r=M[k];k<a;r=M[++k])w(r)||!b(r)?o+=" "+r:o+=" "+fe(r);return o},j.deprecate=function(O,E){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return O;if(typeof process$1>"u")return function(){return j.deprecate(O,E).apply(this,arguments)};var k=!1;function M(){if(!k){if(process$1.throwDeprecation)throw new Error(E);process$1.traceDeprecation?console.trace(E):console.error(E),k=!0}return O.apply(this,arguments)}return M};var J={},ve=/^$/;if(process$1.env.NODE_DEBUG){var we=process$1.env.NODE_DEBUG;we=we.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ve=new RegExp("^"+we+"$","i")}j.debuglog=function(O){if(O=O.toUpperCase(),!J[O])if(ve.test(O)){var E=process$1.pid;J[O]=function(){var k=j.format.apply(j,arguments);console.error("%s %d: %s",O,E,k)}}else J[O]=function(){};return J[O]};function fe(O,E){var k={seen:[],stylize:$};return arguments.length>=3&&(k.depth=arguments[2]),arguments.length>=4&&(k.colors=arguments[3]),g(E)?k.showHidden=E:E&&j._extend(k,E),p(k.showHidden)&&(k.showHidden=!1),p(k.depth)&&(k.depth=2),p(k.colors)&&(k.colors=!1),p(k.customInspect)&&(k.customInspect=!0),k.colors&&(k.stylize=f),d(k,O,k.depth)}j.inspect=fe,fe.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},fe.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function f(O,E){var k=fe.styles[E];return k?"\x1B["+fe.colors[k][0]+"m"+O+"\x1B["+fe.colors[k][1]+"m":O}function $(O,E){return O}function n(O){var E={};return O.forEach(function(k,M){E[k]=!0}),E}function d(O,E,k){if(O.customInspect&&E&&D(E.inspect)&&E.inspect!==j.inspect&&!(E.constructor&&E.constructor.prototype===E)){var M=E.inspect(k,O);return i(M)||(M=d(O,M,k)),M}var a=T(O,E);if(a)return a;var o=Object.keys(E),r=n(o);if(O.showHidden&&(o=Object.getOwnPropertyNames(E)),U(E)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return e(E);if(o.length===0){if(D(E)){var s=E.name?": "+E.name:"";return O.stylize("[Function"+s+"]","special")}if(v(E))return O.stylize(RegExp.prototype.toString.call(E),"regexp");if(N(E))return O.stylize(Date.prototype.toString.call(E),"date");if(U(E))return e(E)}var A="",c=!1,y=["{","}"];if(F(E)&&(c=!0,y=["[","]"]),D(E)){var q=E.name?": "+E.name:"";A=" [Function"+q+"]"}if(v(E)&&(A=" "+RegExp.prototype.toString.call(E)),N(E)&&(A=" "+Date.prototype.toUTCString.call(E)),U(E)&&(A=" "+e(E)),o.length===0&&(!c||E.length==0))return y[0]+A+y[1];if(k<0)return v(E)?O.stylize(RegExp.prototype.toString.call(E),"regexp"):O.stylize("[Object]","special");O.seen.push(E);var re;return c?re=t(O,E,k,r,o):re=o.map(function(Q){return l(O,E,k,r,Q,c)}),O.seen.pop(),L(re,A,y)}function T(O,E){if(p(E))return O.stylize("undefined","undefined");if(i(E)){var k="'"+JSON.stringify(E).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(k,"string")}if(h(E))return O.stylize(""+E,"number");if(g(E))return O.stylize(""+E,"boolean");if(w(E))return O.stylize("null","null")}function e(O){return"["+Error.prototype.toString.call(O)+"]"}function t(O,E,k,M,a){for(var o=[],r=0,s=E.length;r<s;++r)m(E,String(r))?o.push(l(O,E,k,M,String(r),!0)):o.push("");return a.forEach(function(A){A.match(/^\d+$/)||o.push(l(O,E,k,M,A,!0))}),o}function l(O,E,k,M,a,o){var r,s,A;if(A=Object.getOwnPropertyDescriptor(E,a)||{value:E[a]},A.get?A.set?s=O.stylize("[Getter/Setter]","special"):s=O.stylize("[Getter]","special"):A.set&&(s=O.stylize("[Setter]","special")),m(M,a)||(r="["+a+"]"),s||(O.seen.indexOf(A.value)<0?(w(k)?s=d(O,A.value,null):s=d(O,A.value,k-1),s.indexOf(`
`)>-1&&(o?s=s.split(`
`).map(function(c){return"  "+c}).join(`
`).slice(2):s=`
`+s.split(`
`).map(function(c){return"   "+c}).join(`
`))):s=O.stylize("[Circular]","special")),p(r)){if(o&&a.match(/^\d+$/))return s;r=JSON.stringify(""+a),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.slice(1,-1),r=O.stylize(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=O.stylize(r,"string"))}return r+": "+s}function L(O,E,k){var M=O.reduce(function(a,o){return o.indexOf(`
`)>=0,a+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return M>60?k[0]+(E===""?"":E+`
 `)+" "+O.join(`,
  `)+" "+k[1]:k[0]+E+" "+O.join(", ")+" "+k[1]}j.types=requireTypes();function F(O){return Array.isArray(O)}j.isArray=F;function g(O){return typeof O=="boolean"}j.isBoolean=g;function w(O){return O===null}j.isNull=w;function u(O){return O==null}j.isNullOrUndefined=u;function h(O){return typeof O=="number"}j.isNumber=h;function i(O){return typeof O=="string"}j.isString=i;function x(O){return typeof O=="symbol"}j.isSymbol=x;function p(O){return O===void 0}j.isUndefined=p;function v(O){return b(O)&&B(O)==="[object RegExp]"}j.isRegExp=v,j.types.isRegExp=v;function b(O){return typeof O=="object"&&O!==null}j.isObject=b;function N(O){return b(O)&&B(O)==="[object Date]"}j.isDate=N,j.types.isDate=N;function U(O){return b(O)&&(B(O)==="[object Error]"||O instanceof Error)}j.isError=U,j.types.isNativeError=U;function D(O){return typeof O=="function"}j.isFunction=D;function I(O){return O===null||typeof O=="boolean"||typeof O=="number"||typeof O=="string"||typeof O=="symbol"||typeof O>"u"}j.isPrimitive=I,j.isBuffer=requireIsBufferBrowser();function B(O){return Object.prototype.toString.call(O)}function _(O){return O<10?"0"+O.toString(10):O.toString(10)}var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var O=new Date,E=[_(O.getHours()),_(O.getMinutes()),_(O.getSeconds())].join(":");return[O.getDate(),P[O.getMonth()],E].join(" ")}j.log=function(){console.log("%s - %s",X(),j.format.apply(j,arguments))},j.inherits=requireInherits_browser(),j._extend=function(O,E){if(!E||!b(E))return O;for(var k=Object.keys(E),M=k.length;M--;)O[k[M]]=E[k[M]];return O};function m(O,E){return Object.prototype.hasOwnProperty.call(O,E)}var S=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;j.promisify=function(E){if(typeof E!="function")throw new TypeError('The "original" argument must be of type Function');if(S&&E[S]){var k=E[S];if(typeof k!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(k,S,{value:k,enumerable:!1,writable:!1,configurable:!0}),k}function k(){for(var M,a,o=new Promise(function(A,c){M=A,a=c}),r=[],s=0;s<arguments.length;s++)r.push(arguments[s]);r.push(function(A,c){A?a(A):M(c)});try{E.apply(this,r)}catch(A){a(A)}return o}return Object.setPrototypeOf(k,Object.getPrototypeOf(E)),S&&Object.defineProperty(k,S,{value:k,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(k,V(E))},j.promisify.custom=S;function R(O,E){if(!O){var k=new Error("Promise was rejected with a falsy value");k.reason=O,O=k}return E(O)}function z(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');function E(){for(var k=[],M=0;M<arguments.length;M++)k.push(arguments[M]);var a=k.pop();if(typeof a!="function")throw new TypeError("The last argument must be of type Function");var o=this,r=function(){return a.apply(o,arguments)};O.apply(this,k).then(function(s){process$1.nextTick(r.bind(null,null,s))},function(s){process$1.nextTick(R.bind(null,s,r))})}return Object.setPrototypeOf(E,Object.getPrototypeOf(O)),Object.defineProperties(E,V(O)),E}j.callbackify=z}(util)),util}var buffer_list$1,hasRequiredBuffer_list$1;function requireBuffer_list$1(){if(hasRequiredBuffer_list$1)return buffer_list$1;hasRequiredBuffer_list$1=1;function j(l,L){var F=Object.keys(l);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);L&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),F.push.apply(F,g)}return F}function V(l){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?j(Object(F),!0).forEach(function(g){be(l,g,F[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(F)):j(Object(F)).forEach(function(g){Object.defineProperty(l,g,Object.getOwnPropertyDescriptor(F,g))})}return l}function be(l,L,F){return L=fe(L),L in l?Object.defineProperty(l,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):l[L]=F,l}function J(l,L){if(!(l instanceof L))throw new TypeError("Cannot call a class as a function")}function ve(l,L){for(var F=0;F<L.length;F++){var g=L[F];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,fe(g.key),g)}}function we(l,L,F){return L&&ve(l.prototype,L),F&&ve(l,F),Object.defineProperty(l,"prototype",{writable:!1}),l}function fe(l){var L=f(l,"string");return typeof L=="symbol"?L:String(L)}function f(l,L){if(typeof l!="object"||l===null)return l;var F=l[Symbol.toPrimitive];if(F!==void 0){var g=F.call(l,L||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(l)}var $=requireDist(),n=$.Buffer,d=requireUtil(),T=d.inspect,e=T&&T.custom||"inspect";function t(l,L,F){n.prototype.copy.call(l,L,F)}return buffer_list$1=function(){function l(){J(this,l),this.head=null,this.tail=null,this.length=0}return we(l,[{key:"push",value:function(F){var g={data:F,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(F){var g={data:F,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var F=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,F}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(F){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=F+g.data;return w}},{key:"concat",value:function(F){if(this.length===0)return n.alloc(0);for(var g=n.allocUnsafe(F>>>0),w=this.head,u=0;w;)t(w.data,g,u),u+=w.data.length,w=w.next;return g}},{key:"consume",value:function(F,g){var w;return F<this.head.data.length?(w=this.head.data.slice(0,F),this.head.data=this.head.data.slice(F)):F===this.head.data.length?w=this.shift():w=g?this._getString(F):this._getBuffer(F),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(F){var g=this.head,w=1,u=g.data;for(F-=u.length;g=g.next;){var h=g.data,i=F>h.length?h.length:F;if(i===h.length?u+=h:u+=h.slice(0,F),F-=i,F===0){i===h.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=h.slice(i));break}++w}return this.length-=w,u}},{key:"_getBuffer",value:function(F){var g=n.allocUnsafe(F),w=this.head,u=1;for(w.data.copy(g),F-=w.data.length;w=w.next;){var h=w.data,i=F>h.length?h.length:F;if(h.copy(g,g.length-F,0,i),F-=i,F===0){i===h.length?(++u,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=h.slice(i));break}++u}return this.length-=u,g}},{key:e,value:function(F,g){return T(this,V(V({},g),{},{depth:0,customInspect:!1}))}}]),l}(),buffer_list$1}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function j(fe,f){var $=this,n=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return n||d?(f?f(fe):fe&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(ve,this,fe)):process$1.nextTick(ve,this,fe)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(fe||null,function(T){!f&&T?$._writableState?$._writableState.errorEmitted?process$1.nextTick(be,$):($._writableState.errorEmitted=!0,process$1.nextTick(V,$,T)):process$1.nextTick(V,$,T):f?(process$1.nextTick(be,$),f(T)):process$1.nextTick(be,$)}),this)}function V(fe,f){ve(fe,f),be(fe)}function be(fe){fe._writableState&&!fe._writableState.emitClose||fe._readableState&&!fe._readableState.emitClose||fe.emit("close")}function J(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ve(fe,f){fe.emit("error",f)}function we(fe,f){var $=fe._readableState,n=fe._writableState;$&&$.autoDestroy||n&&n.autoDestroy?fe.destroy(f):fe.emit("error",f)}return destroy_1$1={destroy:j,undestroy:J,errorOrDestroy:we},destroy_1$1}var errorsBrowser$1={},hasRequiredErrorsBrowser$1;function requireErrorsBrowser$1(){if(hasRequiredErrorsBrowser$1)return errorsBrowser$1;hasRequiredErrorsBrowser$1=1;function j(f,$){f.prototype=Object.create($.prototype),f.prototype.constructor=f,f.__proto__=$}var V={};function be(f,$,n){n||(n=Error);function d(e,t,l){return typeof $=="string"?$:$(e,t,l)}var T=function(e){j(t,e);function t(l,L,F){return e.call(this,d(l,L,F))||this}return t}(n);T.prototype.name=n.name,T.prototype.code=f,V[f]=T}function J(f,$){if(Array.isArray(f)){var n=f.length;return f=f.map(function(d){return String(d)}),n>2?"one of ".concat($," ").concat(f.slice(0,n-1).join(", "),", or ")+f[n-1]:n===2?"one of ".concat($," ").concat(f[0]," or ").concat(f[1]):"of ".concat($," ").concat(f[0])}else return"of ".concat($," ").concat(String(f))}function ve(f,$,n){return f.substr(!n||n<0?0:+n,$.length)===$}function we(f,$,n){return(n===void 0||n>f.length)&&(n=f.length),f.substring(n-$.length,n)===$}function fe(f,$,n){return typeof n!="number"&&(n=0),n+$.length>f.length?!1:f.indexOf($,n)!==-1}return be("ERR_INVALID_OPT_VALUE",function(f,$){return'The value "'+$+'" is invalid for option "'+f+'"'},TypeError),be("ERR_INVALID_ARG_TYPE",function(f,$,n){var d;typeof $=="string"&&ve($,"not ")?(d="must not be",$=$.replace(/^not /,"")):d="must be";var T;if(we(f," argument"))T="The ".concat(f," ").concat(d," ").concat(J($,"type"));else{var e=fe(f,".")?"property":"argument";T='The "'.concat(f,'" ').concat(e," ").concat(d," ").concat(J($,"type"))}return T+=". Received type ".concat(typeof n),T},TypeError),be("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),be("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),be("ERR_STREAM_PREMATURE_CLOSE","Premature close"),be("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),be("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),be("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),be("ERR_STREAM_WRITE_AFTER_END","write after end"),be("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),be("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),be("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser$1.codes=V,errorsBrowser$1}var state$1,hasRequiredState$1;function requireState$1(){if(hasRequiredState$1)return state$1;hasRequiredState$1=1;var j=requireErrorsBrowser$1().codes.ERR_INVALID_OPT_VALUE;function V(J,ve,we){return J.highWaterMark!=null?J.highWaterMark:ve?J[we]:null}function be(J,ve,we,fe){var f=V(ve,fe,we);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var $=fe?we:"highWaterMark";throw new j($,f)}return Math.floor(f)}return J.objectMode?16:16*1024}return state$1={getHighWaterMark:be},state$1}var browser$1,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$1;hasRequiredBrowser$1=1,browser$1=j;function j(be,J){if(V("noDeprecation"))return be;var ve=!1;function we(){if(!ve){if(V("throwDeprecation"))throw new Error(J);V("traceDeprecation")?console.trace(J):console.warn(J),ve=!0}return be.apply(this,arguments)}return we}function V(be){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var J=commonjsGlobal.localStorage[be];return J==null?!1:String(J).toLowerCase()==="true"}return browser$1}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=v;function j(a){var o=this;this.next=null,this.entry=null,this.finish=function(){M(o,a)}}var V;v.WritableState=x;var be={deprecate:requireBrowser$1()},J=requireStreamBrowser$1(),ve=requireDist().Buffer,we=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function fe(a){return ve.from(a)}function f(a){return ve.isBuffer(a)||a instanceof we}var $=requireDestroy$1(),n=requireState$1(),d=n.getHighWaterMark,T=requireErrorsBrowser$1().codes,e=T.ERR_INVALID_ARG_TYPE,t=T.ERR_METHOD_NOT_IMPLEMENTED,l=T.ERR_MULTIPLE_CALLBACK,L=T.ERR_STREAM_CANNOT_PIPE,F=T.ERR_STREAM_DESTROYED,g=T.ERR_STREAM_NULL_VALUES,w=T.ERR_STREAM_WRITE_AFTER_END,u=T.ERR_UNKNOWN_ENCODING,h=$.errorOrDestroy;requireInherits_browser()(v,J);function i(){}function x(a,o,r){V=V||require_stream_duplex$1(),a=a||{},typeof r!="boolean"&&(r=o instanceof V),this.objectMode=!!a.objectMode,r&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=d(this,a,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=a.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A){P(o,A)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=a.emitClose!==!1,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}x.prototype.getBuffer=function(){for(var o=this.bufferedRequest,r=[];o;)r.push(o),o=o.next;return r},function(){try{Object.defineProperty(x.prototype,"buffer",{get:be.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var p;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(o){return p.call(this,o)?!0:this!==v?!1:o&&o._writableState instanceof x}})):p=function(o){return o instanceof this};function v(a){V=V||require_stream_duplex$1();var o=this instanceof V;if(!o&&!p.call(v,this))return new v(a);this._writableState=new x(a,this,o),this.writable=!0,a&&(typeof a.write=="function"&&(this._write=a.write),typeof a.writev=="function"&&(this._writev=a.writev),typeof a.destroy=="function"&&(this._destroy=a.destroy),typeof a.final=="function"&&(this._final=a.final)),J.call(this)}v.prototype.pipe=function(){h(this,new L)};function b(a,o){var r=new w;h(a,r),process$1.nextTick(o,r)}function N(a,o,r,s){var A;return r===null?A=new g:typeof r!="string"&&!o.objectMode&&(A=new e("chunk",["string","Buffer"],r)),A?(h(a,A),process$1.nextTick(s,A),!1):!0}v.prototype.write=function(a,o,r){var s=this._writableState,A=!1,c=!s.objectMode&&f(a);return c&&!ve.isBuffer(a)&&(a=fe(a)),typeof o=="function"&&(r=o,o=null),c?o="buffer":o||(o=s.defaultEncoding),typeof r!="function"&&(r=i),s.ending?b(this,r):(c||N(this,s,a,r))&&(s.pendingcb++,A=D(this,s,c,a,o,r)),A},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&S(this,a))},v.prototype.setDefaultEncoding=function(o){if(typeof o=="string"&&(o=o.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o+"").toLowerCase())>-1))throw new u(o);return this._writableState.defaultEncoding=o,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(a,o,r){return!a.objectMode&&a.decodeStrings!==!1&&typeof o=="string"&&(o=ve.from(o,r)),o}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(a,o,r,s,A,c){if(!r){var y=U(o,s,A);s!==y&&(r=!0,A="buffer",s=y)}var q=o.objectMode?1:s.length;o.length+=q;var re=o.length<o.highWaterMark;if(re||(o.needDrain=!0),o.writing||o.corked){var Q=o.lastBufferedRequest;o.lastBufferedRequest={chunk:s,encoding:A,isBuf:r,callback:c,next:null},Q?Q.next=o.lastBufferedRequest:o.bufferedRequest=o.lastBufferedRequest,o.bufferedRequestCount+=1}else I(a,o,!1,q,s,A,c);return re}function I(a,o,r,s,A,c,y){o.writelen=s,o.writecb=y,o.writing=!0,o.sync=!0,o.destroyed?o.onwrite(new F("write")):r?a._writev(A,o.onwrite):a._write(A,c,o.onwrite),o.sync=!1}function B(a,o,r,s,A){--o.pendingcb,r?(process$1.nextTick(A,s),process$1.nextTick(E,a,o),a._writableState.errorEmitted=!0,h(a,s)):(A(s),a._writableState.errorEmitted=!0,h(a,s),E(a,o))}function _(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function P(a,o){var r=a._writableState,s=r.sync,A=r.writecb;if(typeof A!="function")throw new l;if(_(r),o)B(a,r,s,o,A);else{var c=R(r)||a.destroyed;!c&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&S(a,r),s?process$1.nextTick(X,a,r,c,A):X(a,r,c,A)}}function X(a,o,r,s){r||m(a,o),o.pendingcb--,s(),E(a,o)}function m(a,o){o.length===0&&o.needDrain&&(o.needDrain=!1,a.emit("drain"))}function S(a,o){o.bufferProcessing=!0;var r=o.bufferedRequest;if(a._writev&&r&&r.next){var s=o.bufferedRequestCount,A=new Array(s),c=o.corkedRequestsFree;c.entry=r;for(var y=0,q=!0;r;)A[y]=r,r.isBuf||(q=!1),r=r.next,y+=1;A.allBuffers=q,I(a,o,!0,o.length,A,"",c.finish),o.pendingcb++,o.lastBufferedRequest=null,c.next?(o.corkedRequestsFree=c.next,c.next=null):o.corkedRequestsFree=new j(o),o.bufferedRequestCount=0}else{for(;r;){var re=r.chunk,Q=r.encoding,de=r.callback,ee=o.objectMode?1:re.length;if(I(a,o,!1,ee,re,Q,de),r=r.next,o.bufferedRequestCount--,o.writing)break}r===null&&(o.lastBufferedRequest=null)}o.bufferedRequest=r,o.bufferProcessing=!1}v.prototype._write=function(a,o,r){r(new t("_write()"))},v.prototype._writev=null,v.prototype.end=function(a,o,r){var s=this._writableState;return typeof a=="function"?(r=a,a=null,o=null):typeof o=="function"&&(r=o,o=null),a!=null&&this.write(a,o),s.corked&&(s.corked=1,this.uncork()),s.ending||k(this,s,r),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function R(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function z(a,o){a._final(function(r){o.pendingcb--,r&&h(a,r),o.prefinished=!0,a.emit("prefinish"),E(a,o)})}function O(a,o){!o.prefinished&&!o.finalCalled&&(typeof a._final=="function"&&!o.destroyed?(o.pendingcb++,o.finalCalled=!0,process$1.nextTick(z,a,o)):(o.prefinished=!0,a.emit("prefinish")))}function E(a,o){var r=R(o);if(r&&(O(a,o),o.pendingcb===0&&(o.finished=!0,a.emit("finish"),o.autoDestroy))){var s=a._readableState;(!s||s.autoDestroy&&s.endEmitted)&&a.destroy()}return r}function k(a,o,r){o.ending=!0,E(a,o),r&&(o.finished?process$1.nextTick(r):a.once("finish",r)),o.ended=!0,a.writable=!1}function M(a,o,r){var s=a.entry;for(a.entry=null;s;){var A=s.callback;o.pendingcb--,A(r),s=s.next}o.corkedRequestsFree.next=a}return Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(o){this._writableState&&(this._writableState.destroyed=o)}}),v.prototype.destroy=$.destroy,v.prototype._undestroy=$.undestroy,v.prototype._destroy=function(a,o){o(a)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var j=Object.keys||function(n){var d=[];for(var T in n)d.push(T);return d};_stream_duplex$1=fe;var V=require_stream_readable$1(),be=require_stream_writable$1();requireInherits_browser()(fe,V);for(var J=j(be.prototype),ve=0;ve<J.length;ve++){var we=J[ve];fe.prototype[we]||(fe.prototype[we]=be.prototype[we])}function fe(n){if(!(this instanceof fe))return new fe(n);V.call(this,n),be.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(fe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(fe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(fe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process$1.nextTick($,this)}function $(n){n.end()}return Object.defineProperty(fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),_stream_duplex$1}var string_decoder={},safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(j,V){var be=requireDist(),J=be.Buffer;function ve(fe,f){for(var $ in fe)f[$]=fe[$]}J.from&&J.alloc&&J.allocUnsafe&&J.allocUnsafeSlow?j.exports=be:(ve(be,V),V.Buffer=we);function we(fe,f,$){return J(fe,f,$)}ve(J,we),we.from=function(fe,f,$){if(typeof fe=="number")throw new TypeError("Argument must not be a number");return J(fe,f,$)},we.alloc=function(fe,f,$){if(typeof fe!="number")throw new TypeError("Argument must be a number");var n=J(fe);return f!==void 0?typeof $=="string"?n.fill(f,$):n.fill(f):n.fill(0),n},we.allocUnsafe=function(fe){if(typeof fe!="number")throw new TypeError("Argument must be a number");return J(fe)},we.allocUnsafeSlow=function(fe){if(typeof fe!="number")throw new TypeError("Argument must be a number");return be.SlowBuffer(fe)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var j=requireSafeBuffer().Buffer,V=j.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function be(g){if(!g)return"utf8";for(var w;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(w)return;g=(""+g).toLowerCase(),w=!0}}function J(g){var w=be(g);if(typeof w!="string"&&(j.isEncoding===V||!V(g)))throw new Error("Unknown encoding: "+g);return w||g}string_decoder.StringDecoder=ve;function ve(g){this.encoding=J(g);var w;switch(this.encoding){case"utf16le":this.text=T,this.end=e,w=4;break;case"utf8":this.fillLast=$,w=4;break;case"base64":this.text=t,this.end=l,w=3;break;default:this.write=L,this.end=F;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=j.allocUnsafe(w)}ve.prototype.write=function(g){if(g.length===0)return"";var w,u;if(this.lastNeed){if(w=this.fillLast(g),w===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<g.length?w?w+this.text(g,u):this.text(g,u):w||""},ve.prototype.end=d,ve.prototype.text=n,ve.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function we(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function fe(g,w,u){var h=w.length-1;if(h<u)return 0;var i=we(w[h]);return i>=0?(i>0&&(g.lastNeed=i-1),i):--h<u||i===-2?0:(i=we(w[h]),i>=0?(i>0&&(g.lastNeed=i-2),i):--h<u||i===-2?0:(i=we(w[h]),i>=0?(i>0&&(i===2?i=0:g.lastNeed=i-3),i):0))}function f(g,w,u){if((w[0]&192)!==128)return g.lastNeed=0,"";if(g.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return g.lastNeed=1,"";if(g.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return g.lastNeed=2,""}}function $(g){var w=this.lastTotal-this.lastNeed,u=f(this,g);if(u!==void 0)return u;if(this.lastNeed<=g.length)return g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,w,0,g.length),this.lastNeed-=g.length}function n(g,w){var u=fe(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=u;var h=g.length-(u-this.lastNeed);return g.copy(this.lastChar,0,h),g.toString("utf8",w,h)}function d(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"":w}function T(g,w){if((g.length-w)%2===0){var u=g.toString("utf16le",w);if(u){var h=u.charCodeAt(u.length-1);if(h>=55296&&h<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function e(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,u)}return w}function t(g,w){var u=(g.length-w)%3;return u===0?g.toString("base64",w):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-u))}function l(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function L(g){return g.toString(this.encoding)}function F(g){return g&&g.length?this.write(g):""}return string_decoder}var endOfStream$1,hasRequiredEndOfStream$1;function requireEndOfStream$1(){if(hasRequiredEndOfStream$1)return endOfStream$1;hasRequiredEndOfStream$1=1;var j=requireErrorsBrowser$1().codes.ERR_STREAM_PREMATURE_CLOSE;function V(we){var fe=!1;return function(){if(!fe){fe=!0;for(var f=arguments.length,$=new Array(f),n=0;n<f;n++)$[n]=arguments[n];we.apply(this,$)}}}function be(){}function J(we){return we.setHeader&&typeof we.abort=="function"}function ve(we,fe,f){if(typeof fe=="function")return ve(we,null,fe);fe||(fe={}),f=V(f||be);var $=fe.readable||fe.readable!==!1&&we.readable,n=fe.writable||fe.writable!==!1&&we.writable,d=function(){we.writable||e()},T=we._writableState&&we._writableState.finished,e=function(){n=!1,T=!0,$||f.call(we)},t=we._readableState&&we._readableState.endEmitted,l=function(){$=!1,t=!0,n||f.call(we)},L=function(u){f.call(we,u)},F=function(){var u;if($&&!t)return(!we._readableState||!we._readableState.ended)&&(u=new j),f.call(we,u);if(n&&!T)return(!we._writableState||!we._writableState.ended)&&(u=new j),f.call(we,u)},g=function(){we.req.on("finish",e)};return J(we)?(we.on("complete",e),we.on("abort",F),we.req?g():we.on("request",g)):n&&!we._writableState&&(we.on("end",d),we.on("close",d)),we.on("end",l),we.on("finish",e),fe.error!==!1&&we.on("error",L),we.on("close",F),function(){we.removeListener("complete",e),we.removeListener("abort",F),we.removeListener("request",g),we.req&&we.req.removeListener("finish",e),we.removeListener("end",d),we.removeListener("close",d),we.removeListener("finish",e),we.removeListener("end",l),we.removeListener("error",L),we.removeListener("close",F)}}return endOfStream$1=ve,endOfStream$1}var async_iterator$1,hasRequiredAsync_iterator$1;function requireAsync_iterator$1(){if(hasRequiredAsync_iterator$1)return async_iterator$1;hasRequiredAsync_iterator$1=1;var j;function V(u,h,i){return h=be(h),h in u?Object.defineProperty(u,h,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[h]=i,u}function be(u){var h=J(u,"string");return typeof h=="symbol"?h:String(h)}function J(u,h){if(typeof u!="object"||u===null)return u;var i=u[Symbol.toPrimitive];if(i!==void 0){var x=i.call(u,h||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(u)}var ve=requireEndOfStream$1(),we=Symbol("lastResolve"),fe=Symbol("lastReject"),f=Symbol("error"),$=Symbol("ended"),n=Symbol("lastPromise"),d=Symbol("handlePromise"),T=Symbol("stream");function e(u,h){return{value:u,done:h}}function t(u){var h=u[we];if(h!==null){var i=u[T].read();i!==null&&(u[n]=null,u[we]=null,u[fe]=null,h(e(i,!1)))}}function l(u){process$1.nextTick(t,u)}function L(u,h){return function(i,x){u.then(function(){if(h[$]){i(e(void 0,!0));return}h[d](i,x)},x)}}var F=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((j={get stream(){return this[T]},next:function(){var h=this,i=this[f];if(i!==null)return Promise.reject(i);if(this[$])return Promise.resolve(e(void 0,!0));if(this[T].destroyed)return new Promise(function(b,N){process$1.nextTick(function(){h[f]?N(h[f]):b(e(void 0,!0))})});var x=this[n],p;if(x)p=new Promise(L(x,this));else{var v=this[T].read();if(v!==null)return Promise.resolve(e(v,!1));p=new Promise(this[d])}return this[n]=p,p}},V(j,Symbol.asyncIterator,function(){return this}),V(j,"return",function(){var h=this;return new Promise(function(i,x){h[T].destroy(null,function(p){if(p){x(p);return}i(e(void 0,!0))})})}),j),F),w=function(h){var i,x=Object.create(g,(i={},V(i,T,{value:h,writable:!0}),V(i,we,{value:null,writable:!0}),V(i,fe,{value:null,writable:!0}),V(i,f,{value:null,writable:!0}),V(i,$,{value:h._readableState.endEmitted,writable:!0}),V(i,d,{value:function(v,b){var N=x[T].read();N?(x[n]=null,x[we]=null,x[fe]=null,v(e(N,!1))):(x[we]=v,x[fe]=b)},writable:!0}),i));return x[n]=null,ve(h,function(p){if(p&&p.code!=="ERR_STREAM_PREMATURE_CLOSE"){var v=x[fe];v!==null&&(x[n]=null,x[we]=null,x[fe]=null,v(p)),x[f]=p;return}var b=x[we];b!==null&&(x[n]=null,x[we]=null,x[fe]=null,b(e(void 0,!0))),x[$]=!0}),h.on("readable",l.bind(null,x)),x};return async_iterator$1=w,async_iterator$1}var fromBrowser$1,hasRequiredFromBrowser$1;function requireFromBrowser$1(){return hasRequiredFromBrowser$1||(hasRequiredFromBrowser$1=1,fromBrowser$1=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser$1}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=b;var j;b.ReadableState=v,requireEvents().EventEmitter;var V=function(y,q){return y.listeners(q).length},be=requireStreamBrowser$1(),J=requireDist().Buffer,ve=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function we(c){return J.from(c)}function fe(c){return J.isBuffer(c)||c instanceof ve}var f=requireUtil(),$;f&&f.debuglog?$=f.debuglog("stream"):$=function(){};var n=requireBuffer_list$1(),d=requireDestroy$1(),T=requireState$1(),e=T.getHighWaterMark,t=requireErrorsBrowser$1().codes,l=t.ERR_INVALID_ARG_TYPE,L=t.ERR_STREAM_PUSH_AFTER_EOF,F=t.ERR_METHOD_NOT_IMPLEMENTED,g=t.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,u,h;requireInherits_browser()(b,be);var i=d.errorOrDestroy,x=["error","close","destroy","pause","resume"];function p(c,y,q){if(typeof c.prependListener=="function")return c.prependListener(y,q);!c._events||!c._events[y]?c.on(y,q):Array.isArray(c._events[y])?c._events[y].unshift(q):c._events[y]=[q,c._events[y]]}function v(c,y,q){j=j||require_stream_duplex$1(),c=c||{},typeof q!="boolean"&&(q=y instanceof j),this.objectMode=!!c.objectMode,q&&(this.objectMode=this.objectMode||!!c.readableObjectMode),this.highWaterMark=e(this,c,"readableHighWaterMark",q),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=c.emitClose!==!1,this.autoDestroy=!!c.autoDestroy,this.destroyed=!1,this.defaultEncoding=c.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,c.encoding&&(w||(w=requireString_decoder().StringDecoder),this.decoder=new w(c.encoding),this.encoding=c.encoding)}function b(c){if(j=j||require_stream_duplex$1(),!(this instanceof b))return new b(c);var y=this instanceof j;this._readableState=new v(c,this,y),this.readable=!0,c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy)),be.call(this)}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(y){this._readableState&&(this._readableState.destroyed=y)}}),b.prototype.destroy=d.destroy,b.prototype._undestroy=d.undestroy,b.prototype._destroy=function(c,y){y(c)},b.prototype.push=function(c,y){var q=this._readableState,re;return q.objectMode?re=!0:typeof c=="string"&&(y=y||q.defaultEncoding,y!==q.encoding&&(c=J.from(c,y),y=""),re=!0),N(this,c,y,!1,re)},b.prototype.unshift=function(c){return N(this,c,null,!0,!1)};function N(c,y,q,re,Q){$("readableAddChunk",y);var de=c._readableState;if(y===null)de.reading=!1,P(c,de);else{var ee;if(Q||(ee=D(de,y)),ee)i(c,ee);else if(de.objectMode||y&&y.length>0)if(typeof y!="string"&&!de.objectMode&&Object.getPrototypeOf(y)!==J.prototype&&(y=we(y)),re)de.endEmitted?i(c,new g):U(c,de,y,!0);else if(de.ended)i(c,new L);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!q?(y=de.decoder.write(y),de.objectMode||y.length!==0?U(c,de,y,!1):S(c,de)):U(c,de,y,!1)}else re||(de.reading=!1,S(c,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function U(c,y,q,re){y.flowing&&y.length===0&&!y.sync?(y.awaitDrain=0,c.emit("data",q)):(y.length+=y.objectMode?1:q.length,re?y.buffer.unshift(q):y.buffer.push(q),y.needReadable&&X(c)),S(c,y)}function D(c,y){var q;return!fe(y)&&typeof y!="string"&&y!==void 0&&!c.objectMode&&(q=new l("chunk",["string","Buffer","Uint8Array"],y)),q}b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(c){w||(w=requireString_decoder().StringDecoder);var y=new w(c);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,re="";q!==null;)re+=y.write(q.data),q=q.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};var I=1073741824;function B(c){return c>=I?c=I:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),c}function _(c,y){return c<=0||y.length===0&&y.ended?0:y.objectMode?1:c!==c?y.flowing&&y.length?y.buffer.head.data.length:y.length:(c>y.highWaterMark&&(y.highWaterMark=B(c)),c<=y.length?c:y.ended?y.length:(y.needReadable=!0,0))}b.prototype.read=function(c){$("read",c),c=parseInt(c,10);var y=this._readableState,q=c;if(c!==0&&(y.emittedReadable=!1),c===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended))return $("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?r(this):X(this),null;if(c=_(c,y),c===0&&y.ended)return y.length===0&&r(this),null;var re=y.needReadable;$("need readable",re),(y.length===0||y.length-c<y.highWaterMark)&&(re=!0,$("length less than watermark",re)),y.ended||y.reading?(re=!1,$("reading or ended",re)):re&&($("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(c=_(q,y)));var Q;return c>0?Q=o(c,y):Q=null,Q===null?(y.needReadable=y.length<=y.highWaterMark,c=0):(y.length-=c,y.awaitDrain=0),y.length===0&&(y.ended||(y.needReadable=!0),q!==c&&y.ended&&r(this)),Q!==null&&this.emit("data",Q),Q};function P(c,y){if($("onEofChunk"),!y.ended){if(y.decoder){var q=y.decoder.end();q&&q.length&&(y.buffer.push(q),y.length+=y.objectMode?1:q.length)}y.ended=!0,y.sync?X(c):(y.needReadable=!1,y.emittedReadable||(y.emittedReadable=!0,m(c)))}}function X(c){var y=c._readableState;$("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,y.emittedReadable||($("emitReadable",y.flowing),y.emittedReadable=!0,process$1.nextTick(m,c))}function m(c){var y=c._readableState;$("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&(y.length||y.ended)&&(c.emit("readable"),y.emittedReadable=!1),y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,a(c)}function S(c,y){y.readingMore||(y.readingMore=!0,process$1.nextTick(R,c,y))}function R(c,y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0);){var q=y.length;if($("maybeReadMore read 0"),c.read(0),q===y.length)break}y.readingMore=!1}b.prototype._read=function(c){i(this,new F("_read()"))},b.prototype.pipe=function(c,y){var q=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=c;break;case 1:re.pipes=[re.pipes,c];break;default:re.pipes.push(c);break}re.pipesCount+=1,$("pipe count=%d opts=%j",re.pipesCount,y);var Q=(!y||y.end!==!1)&&c!==process$1.stdout&&c!==process$1.stderr,de=Q?ue:G;re.endEmitted?process$1.nextTick(de):q.once("end",de),c.on("unpipe",ee);function ee(le,ce){$("onunpipe"),le===q&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,se())}function ue(){$("onend"),c.end()}var W=z(q);c.on("drain",W);var Z=!1;function se(){$("cleanup"),c.removeListener("close",H),c.removeListener("finish",Y),c.removeListener("drain",W),c.removeListener("error",ie),c.removeListener("unpipe",ee),q.removeListener("end",ue),q.removeListener("end",G),q.removeListener("data",ne),Z=!0,re.awaitDrain&&(!c._writableState||c._writableState.needDrain)&&W()}q.on("data",ne);function ne(le){$("ondata");var ce=c.write(le);$("dest.write",ce),ce===!1&&((re.pipesCount===1&&re.pipes===c||re.pipesCount>1&&A(re.pipes,c)!==-1)&&!Z&&($("false write response, pause",re.awaitDrain),re.awaitDrain++),q.pause())}function ie(le){$("onerror",le),G(),c.removeListener("error",ie),V(c,"error")===0&&i(c,le)}p(c,"error",ie);function H(){c.removeListener("finish",Y),G()}c.once("close",H);function Y(){$("onfinish"),c.removeListener("close",H),G()}c.once("finish",Y);function G(){$("unpipe"),q.unpipe(c)}return c.emit("pipe",q),re.flowing||($("pipe resume"),q.resume()),c};function z(c){return function(){var q=c._readableState;$("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&V(c,"data")&&(q.flowing=!0,a(c))}}b.prototype.unpipe=function(c){var y=this._readableState,q={hasUnpiped:!1};if(y.pipesCount===0)return this;if(y.pipesCount===1)return c&&c!==y.pipes?this:(c||(c=y.pipes),y.pipes=null,y.pipesCount=0,y.flowing=!1,c&&c.emit("unpipe",this,q),this);if(!c){var re=y.pipes,Q=y.pipesCount;y.pipes=null,y.pipesCount=0,y.flowing=!1;for(var de=0;de<Q;de++)re[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=A(y.pipes,c);return ee===-1?this:(y.pipes.splice(ee,1),y.pipesCount-=1,y.pipesCount===1&&(y.pipes=y.pipes[0]),c.emit("unpipe",this,q),this)},b.prototype.on=function(c,y){var q=be.prototype.on.call(this,c,y),re=this._readableState;return c==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):c==="readable"&&!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,$("on readable",re.length,re.reading),re.length?X(this):re.reading||process$1.nextTick(E,this)),q},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(c,y){var q=be.prototype.removeListener.call(this,c,y);return c==="readable"&&process$1.nextTick(O,this),q},b.prototype.removeAllListeners=function(c){var y=be.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&process$1.nextTick(O,this),y};function O(c){var y=c._readableState;y.readableListening=c.listenerCount("readable")>0,y.resumeScheduled&&!y.paused?y.flowing=!0:c.listenerCount("data")>0&&c.resume()}function E(c){$("readable nexttick read 0"),c.read(0)}b.prototype.resume=function(){var c=this._readableState;return c.flowing||($("resume"),c.flowing=!c.readableListening,k(this,c)),c.paused=!1,this};function k(c,y){y.resumeScheduled||(y.resumeScheduled=!0,process$1.nextTick(M,c,y))}function M(c,y){$("resume",y.reading),y.reading||c.read(0),y.resumeScheduled=!1,c.emit("resume"),a(c),y.flowing&&!y.reading&&c.read(0)}b.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function a(c){var y=c._readableState;for($("flow",y.flowing);y.flowing&&c.read()!==null;);}b.prototype.wrap=function(c){var y=this,q=this._readableState,re=!1;c.on("end",function(){if($("wrapped end"),q.decoder&&!q.ended){var ee=q.decoder.end();ee&&ee.length&&y.push(ee)}y.push(null)}),c.on("data",function(ee){if($("wrapped data"),q.decoder&&(ee=q.decoder.write(ee)),!(q.objectMode&&ee==null)&&!(!q.objectMode&&(!ee||!ee.length))){var ue=y.push(ee);ue||(re=!0,c.pause())}});for(var Q in c)this[Q]===void 0&&typeof c[Q]=="function"&&(this[Q]=function(ue){return function(){return c[ue].apply(c,arguments)}}(Q));for(var de=0;de<x.length;de++)c.on(x[de],this.emit.bind(this,x[de]));return this._read=function(ee){$("wrapped _read",ee),re&&(re=!1,c.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=requireAsync_iterator$1()),u(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(y){this._readableState&&(this._readableState.flowing=y)}}),b._fromList=o,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function o(c,y){if(y.length===0)return null;var q;return y.objectMode?q=y.buffer.shift():!c||c>=y.length?(y.decoder?q=y.buffer.join(""):y.buffer.length===1?q=y.buffer.first():q=y.buffer.concat(y.length),y.buffer.clear()):q=y.buffer.consume(c,y.decoder),q}function r(c){var y=c._readableState;$("endReadable",y.endEmitted),y.endEmitted||(y.ended=!0,process$1.nextTick(s,y,c))}function s(c,y){if($("endReadableNT",c.endEmitted,c.length),!c.endEmitted&&c.length===0&&(c.endEmitted=!0,y.readable=!1,y.emit("end"),c.autoDestroy)){var q=y._writableState;(!q||q.autoDestroy&&q.finished)&&y.destroy()}}typeof Symbol=="function"&&(b.from=function(c,y){return h===void 0&&(h=requireFromBrowser$1()),h(b,c,y)});function A(c,y){for(var q=0,re=c.length;q<re;q++)if(c[q]===y)return q;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=f;var j=requireErrorsBrowser$1().codes,V=j.ERR_METHOD_NOT_IMPLEMENTED,be=j.ERR_MULTIPLE_CALLBACK,J=j.ERR_TRANSFORM_ALREADY_TRANSFORMING,ve=j.ERR_TRANSFORM_WITH_LENGTH_0,we=require_stream_duplex$1();requireInherits_browser()(f,we);function fe(d,T){var e=this._transformState;e.transforming=!1;var t=e.writecb;if(t===null)return this.emit("error",new be);e.writechunk=null,e.writecb=null,T!=null&&this.push(T),t(d);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);we.call(this,d),this._transformState={afterTransform:fe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",$)}function $(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,e){n(d,T,e)}):n(this,null,null)}f.prototype.push=function(d,T){return this._transformState.needTransform=!1,we.prototype.push.call(this,d,T)},f.prototype._transform=function(d,T,e){e(new V("_transform()"))},f.prototype._write=function(d,T,e){var t=this._transformState;if(t.writecb=e,t.writechunk=d,t.writeencoding=T,!t.transforming){var l=this._readableState;(t.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},f.prototype._read=function(d){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},f.prototype._destroy=function(d,T){we.prototype._destroy.call(this,d,function(e){T(e)})};function n(d,T,e){if(T)return d.emit("error",T);if(e!=null&&d.push(e),d._writableState.length)throw new ve;if(d._transformState.transforming)throw new J;return d.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=V;var j=require_stream_transform$1();requireInherits_browser()(V,j);function V(be){if(!(this instanceof V))return new V(be);j.call(this,be)}return V.prototype._transform=function(be,J,ve){ve(null,be)},_stream_passthrough$1}var pipeline_1$1,hasRequiredPipeline$1;function requirePipeline$1(){if(hasRequiredPipeline$1)return pipeline_1$1;hasRequiredPipeline$1=1;var j;function V(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var be=requireErrorsBrowser$1().codes,J=be.ERR_MISSING_ARGS,ve=be.ERR_STREAM_DESTROYED;function we(e){if(e)throw e}function fe(e){return e.setHeader&&typeof e.abort=="function"}function f(e,t,l,L){L=V(L);var F=!1;e.on("close",function(){F=!0}),j===void 0&&(j=requireEndOfStream$1()),j(e,{readable:t,writable:l},function(w){if(w)return L(w);F=!0,L()});var g=!1;return function(w){if(!F&&!g){if(g=!0,fe(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();L(w||new ve("pipe"))}}}function $(e){e()}function n(e,t){return e.pipe(t)}function d(e){return!e.length||typeof e[e.length-1]!="function"?we:e.pop()}function T(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];var L=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new J("streams");var F,g=t.map(function(w,u){var h=u<t.length-1,i=u>0;return f(w,h,i,function(x){F||(F=x),x&&g.forEach($),!h&&(g.forEach($),L(F))})});return t.reduce(n)}return pipeline_1$1=T,pipeline_1$1}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(j,V){V=j.exports=require_stream_readable$1(),V.Stream=V,V.Readable=V,V.Writable=require_stream_writable$1(),V.Duplex=require_stream_duplex$1(),V.Transform=require_stream_transform$1(),V.PassThrough=require_stream_passthrough$1(),V.finished=requireEndOfStream$1(),V.pipeline=requirePipeline$1()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var hasRequiredResponse;function requireResponse(){if(hasRequiredResponse)return response;hasRequiredResponse=1;var j=requireCapability(),V=requireInherits_browser(),be=requireReadableBrowser(),J=response.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ve=response.IncomingMessage=function(we,fe,f,$){var n=this;if(be.Readable.call(n),n._mode=f,n.headers={},n.rawHeaders=[],n.trailers={},n.rawTrailers=[],n.on("end",function(){process$1.nextTick(function(){n.emit("close")})}),f==="fetch"){let L=function(){T.read().then(function(F){if(!n._destroyed){if($(F.done),F.done){n.push(null);return}n.push(Buffer.from(F.value)),L()}}).catch(function(F){$(!0),n._destroyed||n.emit("error",F)})};if(n._fetchResponse=fe,n.url=fe.url,n.statusCode=fe.status,n.statusMessage=fe.statusText,fe.headers.forEach(function(F,g){n.headers[g.toLowerCase()]=F,n.rawHeaders.push(g,F)}),j.writableStream){var d=new WritableStream({write:function(F){return $(!1),new Promise(function(g,w){n._destroyed?w():n.push(Buffer.from(F))?g():n._resumeFetch=g})},close:function(){$(!0),n._destroyed||n.push(null)},abort:function(F){$(!0),n._destroyed||n.emit("error",F)}});try{fe.body.pipeTo(d).catch(function(F){$(!0),n._destroyed||n.emit("error",F)});return}catch{}}var T=fe.body.getReader();L()}else{n._xhr=we,n._pos=0,n.url=we.responseURL,n.statusCode=we.status,n.statusMessage=we.statusText;var e=we.getAllResponseHeaders().split(/\r?\n/);if(e.forEach(function(L){var F=L.match(/^([^:]+):\s*(.*)/);if(F){var g=F[1].toLowerCase();g==="set-cookie"?(n.headers[g]===void 0&&(n.headers[g]=[]),n.headers[g].push(F[2])):n.headers[g]!==void 0?n.headers[g]+=", "+F[2]:n.headers[g]=F[2],n.rawHeaders.push(F[1],F[2])}}),n._charset="x-user-defined",!j.overrideMimeType){var t=n.rawHeaders["mime-type"];if(t){var l=t.match(/;\s*charset=([^;])(;|$)/);l&&(n._charset=l[1].toLowerCase())}n._charset||(n._charset="utf-8")}}};return V(ve,be.Readable),ve.prototype._read=function(){var we=this,fe=we._resumeFetch;fe&&(we._resumeFetch=null,fe())},ve.prototype._onXHRProgress=function(we){var fe=this,f=fe._xhr,$=null;switch(fe._mode){case"text":if($=f.responseText,$.length>fe._pos){var n=$.substr(fe._pos);if(fe._charset==="x-user-defined"){for(var d=Buffer.alloc(n.length),T=0;T<n.length;T++)d[T]=n.charCodeAt(T)&255;fe.push(d)}else fe.push(n,fe._charset);fe._pos=$.length}break;case"arraybuffer":if(f.readyState!==J.DONE||!f.response)break;$=f.response,fe.push(Buffer.from(new Uint8Array($)));break;case"moz-chunked-arraybuffer":if($=f.response,f.readyState!==J.LOADING||!$)break;fe.push(Buffer.from(new Uint8Array($)));break;case"ms-stream":if($=f.response,f.readyState!==J.LOADING)break;var e=new commonjsGlobal.MSStreamReader;e.onprogress=function(){e.result.byteLength>fe._pos&&(fe.push(Buffer.from(new Uint8Array(e.result.slice(fe._pos)))),fe._pos=e.result.byteLength)},e.onload=function(){we(!0),fe.push(null)},e.readAsArrayBuffer($);break}fe._xhr.readyState===J.DONE&&fe._mode!=="ms-stream"&&(we(!0),fe.push(null))},response}var hasRequiredRequest;function requireRequest(){if(hasRequiredRequest)return request.exports;hasRequiredRequest=1;var j=requireCapability(),V=requireInherits_browser(),be=requireResponse(),J=requireReadableBrowser(),ve=be.IncomingMessage,we=be.readyStates;function fe(d,T){return j.fetch&&T?"fetch":j.mozchunkedarraybuffer?"moz-chunked-arraybuffer":j.msstream?"ms-stream":j.arraybuffer&&d?"arraybuffer":"text"}var f=request.exports=function(d){var T=this;J.Writable.call(T),T._opts=d,T._body=[],T._headers={},d.auth&&T.setHeader("Authorization","Basic "+Buffer.from(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(l){T.setHeader(l,d.headers[l])});var e,t=!0;if(d.mode==="disable-fetch"||"requestTimeout"in d&&!j.abortController)t=!1,e=!0;else if(d.mode==="prefer-streaming")e=!1;else if(d.mode==="allow-wrong-content-type")e=!j.overrideMimeType;else if(!d.mode||d.mode==="default"||d.mode==="prefer-fast")e=!0;else throw new Error("Invalid value for opts.mode");T._mode=fe(e,t),T._fetchTimer=null,T._socketTimeout=null,T._socketTimer=null,T.on("finish",function(){T._onFinish()})};V(f,J.Writable),f.prototype.setHeader=function(d,T){var e=this,t=d.toLowerCase();n.indexOf(t)===-1&&(e._headers[t]={name:d,value:T})},f.prototype.getHeader=function(d){var T=this._headers[d.toLowerCase()];return T?T.value:null},f.prototype.removeHeader=function(d){var T=this;delete T._headers[d.toLowerCase()]},f.prototype._onFinish=function(){var d=this;if(!d._destroyed){var T=d._opts;"timeout"in T&&T.timeout!==0&&d.setTimeout(T.timeout);var e=d._headers,t=null;T.method!=="GET"&&T.method!=="HEAD"&&(t=new Blob(d._body,{type:(e["content-type"]||{}).value||""}));var l=[];if(Object.keys(e).forEach(function(w){var u=e[w].name,h=e[w].value;Array.isArray(h)?h.forEach(function(i){l.push([u,i])}):l.push([u,h])}),d._mode==="fetch"){var L=null;if(j.abortController){var F=new AbortController;L=F.signal,d._fetchAbortController=F,"requestTimeout"in T&&T.requestTimeout!==0&&(d._fetchTimer=commonjsGlobal.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},T.requestTimeout))}commonjsGlobal.fetch(d._opts.url,{method:d._opts.method,headers:l,body:t||void 0,mode:"cors",credentials:T.withCredentials?"include":"same-origin",signal:L}).then(function(w){d._fetchResponse=w,d._resetTimers(!1),d._connect()},function(w){d._resetTimers(!0),d._destroyed||d.emit("error",w)})}else{var g=d._xhr=new commonjsGlobal.XMLHttpRequest;try{g.open(d._opts.method,d._opts.url,!0)}catch(w){process$1.nextTick(function(){d.emit("error",w)});return}"responseType"in g&&(g.responseType=d._mode),"withCredentials"in g&&(g.withCredentials=!!T.withCredentials),d._mode==="text"&&"overrideMimeType"in g&&g.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in T&&(g.timeout=T.requestTimeout,g.ontimeout=function(){d.emit("requestTimeout")}),l.forEach(function(w){g.setRequestHeader(w[0],w[1])}),d._response=null,g.onreadystatechange=function(){switch(g.readyState){case we.LOADING:case we.DONE:d._onXHRProgress();break}},d._mode==="moz-chunked-arraybuffer"&&(g.onprogress=function(){d._onXHRProgress()}),g.onerror=function(){d._destroyed||(d._resetTimers(!0),d.emit("error",new Error("XHR error")))};try{g.send(t)}catch(w){process$1.nextTick(function(){d.emit("error",w)});return}}}};function $(d){try{var T=d.status;return T!==null&&T!==0}catch{return!1}}f.prototype._onXHRProgress=function(){var d=this;d._resetTimers(!1),!(!$(d._xhr)||d._destroyed)&&(d._response||d._connect(),d._response._onXHRProgress(d._resetTimers.bind(d)))},f.prototype._connect=function(){var d=this;d._destroyed||(d._response=new ve(d._xhr,d._fetchResponse,d._mode,d._resetTimers.bind(d)),d._response.on("error",function(T){d.emit("error",T)}),d.emit("response",d._response))},f.prototype._write=function(d,T,e){var t=this;t._body.push(d),e()},f.prototype._resetTimers=function(d){var T=this;commonjsGlobal.clearTimeout(T._socketTimer),T._socketTimer=null,d?(commonjsGlobal.clearTimeout(T._fetchTimer),T._fetchTimer=null):T._socketTimeout&&(T._socketTimer=commonjsGlobal.setTimeout(function(){T.emit("timeout")},T._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(d){var T=this;T._destroyed=!0,T._resetTimers(!0),T._response&&(T._response._destroyed=!0),T._xhr?T._xhr.abort():T._fetchAbortController&&T._fetchAbortController.abort(),d&&T.emit("error",d)},f.prototype.end=function(d,T,e){var t=this;typeof d=="function"&&(e=d,d=void 0),J.Writable.prototype.end.call(t,d,T,e)},f.prototype.setTimeout=function(d,T){var e=this;T&&e.once("timeout",T),e._socketTimeout=d,e._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var n=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return request.exports}var immutable,hasRequiredImmutable;function requireImmutable(){if(hasRequiredImmutable)return immutable;hasRequiredImmutable=1,immutable=V;var j=Object.prototype.hasOwnProperty;function V(){for(var be={},J=0;J<arguments.length;J++){var ve=arguments[J];for(var we in ve)j.call(ve,we)&&(be[we]=ve[we])}return be}return immutable}var browser,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}),browser}var hasRequiredStreamHttp;function requireStreamHttp(){return hasRequiredStreamHttp||(hasRequiredStreamHttp=1,function(j){var V=requireRequest(),be=requireResponse(),J=requireImmutable(),ve=requireBrowser(),we=requireUrl(),fe=j;fe.request=function(f,$){typeof f=="string"?f=we.parse(f):f=J(f);var n=commonjsGlobal.location.protocol.search(/^https?:$/)===-1?"http:":"",d=f.protocol||n,T=f.hostname||f.host,e=f.port,t=f.path||"/";T&&T.indexOf(":")!==-1&&(T="["+T+"]"),f.url=(T?d+"//"+T:"")+(e?":"+e:"")+t,f.method=(f.method||"GET").toUpperCase(),f.headers=f.headers||{};var l=new V(f);return $&&l.on("response",$),l},fe.get=function($,n){var d=fe.request($,n);return d.end(),d},fe.ClientRequest=V,fe.IncomingMessage=be.IncomingMessage,fe.Agent=function(){},fe.Agent.defaultMaxSockets=4,fe.globalAgent=new fe.Agent,fe.STATUS_CODES=ve,fe.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}(streamHttp)),streamHttp}var httpsBrowserify={exports:{}},hasRequiredHttpsBrowserify;function requireHttpsBrowserify(){return hasRequiredHttpsBrowserify||(hasRequiredHttpsBrowserify=1,function(j){var V=requireStreamHttp(),be=requireUrl(),J=j.exports;for(var ve in V)V.hasOwnProperty(ve)&&(J[ve]=V[ve]);J.request=function(fe,f){return fe=we(fe),V.request.call(this,fe,f)},J.get=function(fe,f){return fe=we(fe),V.get.call(this,fe,f)};function we(fe){if(typeof fe=="string"&&(fe=be.parse(fe)),fe.protocol||(fe.protocol="https:"),fe.protocol!=="https:")throw new Error('Protocol "'+fe.protocol+'" not supported. Expected "https:"');return fe}}(httpsBrowserify)),httpsBrowserify.exports}var lib={},streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function j(l,L){var F=Object.keys(l);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(l);L&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),F.push.apply(F,g)}return F}function V(l){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?j(Object(F),!0).forEach(function(g){be(l,g,F[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(F)):j(Object(F)).forEach(function(g){Object.defineProperty(l,g,Object.getOwnPropertyDescriptor(F,g))})}return l}function be(l,L,F){return L=fe(L),L in l?Object.defineProperty(l,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):l[L]=F,l}function J(l,L){if(!(l instanceof L))throw new TypeError("Cannot call a class as a function")}function ve(l,L){for(var F=0;F<L.length;F++){var g=L[F];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,fe(g.key),g)}}function we(l,L,F){return L&&ve(l.prototype,L),F&&ve(l,F),Object.defineProperty(l,"prototype",{writable:!1}),l}function fe(l){var L=f(l,"string");return typeof L=="symbol"?L:String(L)}function f(l,L){if(typeof l!="object"||l===null)return l;var F=l[Symbol.toPrimitive];if(F!==void 0){var g=F.call(l,L||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(l)}var $=requireDist(),n=$.Buffer,d=requireUtil(),T=d.inspect,e=T&&T.custom||"inspect";function t(l,L,F){n.prototype.copy.call(l,L,F)}return buffer_list=function(){function l(){J(this,l),this.head=null,this.tail=null,this.length=0}return we(l,[{key:"push",value:function(F){var g={data:F,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(F){var g={data:F,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var F=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,F}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(F){if(this.length===0)return"";for(var g=this.head,w=""+g.data;g=g.next;)w+=F+g.data;return w}},{key:"concat",value:function(F){if(this.length===0)return n.alloc(0);for(var g=n.allocUnsafe(F>>>0),w=this.head,u=0;w;)t(w.data,g,u),u+=w.data.length,w=w.next;return g}},{key:"consume",value:function(F,g){var w;return F<this.head.data.length?(w=this.head.data.slice(0,F),this.head.data=this.head.data.slice(F)):F===this.head.data.length?w=this.shift():w=g?this._getString(F):this._getBuffer(F),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(F){var g=this.head,w=1,u=g.data;for(F-=u.length;g=g.next;){var h=g.data,i=F>h.length?h.length:F;if(i===h.length?u+=h:u+=h.slice(0,F),F-=i,F===0){i===h.length?(++w,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=h.slice(i));break}++w}return this.length-=w,u}},{key:"_getBuffer",value:function(F){var g=n.allocUnsafe(F),w=this.head,u=1;for(w.data.copy(g),F-=w.data.length;w=w.next;){var h=w.data,i=F>h.length?h.length:F;if(h.copy(g,g.length-F,0,i),F-=i,F===0){i===h.length?(++u,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=h.slice(i));break}++u}return this.length-=u,g}},{key:e,value:function(F,g){return T(this,V(V({},g),{},{depth:0,customInspect:!1}))}}]),l}(),buffer_list}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;function j(fe,f){var $=this,n=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return n||d?(f?f(fe):fe&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(ve,this,fe)):process$1.nextTick(ve,this,fe)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(fe||null,function(T){!f&&T?$._writableState?$._writableState.errorEmitted?process$1.nextTick(be,$):($._writableState.errorEmitted=!0,process$1.nextTick(V,$,T)):process$1.nextTick(V,$,T):f?(process$1.nextTick(be,$),f(T)):process$1.nextTick(be,$)}),this)}function V(fe,f){ve(fe,f),be(fe)}function be(fe){fe._writableState&&!fe._writableState.emitClose||fe._readableState&&!fe._readableState.emitClose||fe.emit("close")}function J(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ve(fe,f){fe.emit("error",f)}function we(fe,f){var $=fe._readableState,n=fe._writableState;$&&$.autoDestroy||n&&n.autoDestroy?fe.destroy(f):fe.emit("error",f)}return destroy_1={destroy:j,undestroy:J,errorOrDestroy:we},destroy_1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function j(f,$){f.prototype=Object.create($.prototype),f.prototype.constructor=f,f.__proto__=$}var V={};function be(f,$,n){n||(n=Error);function d(e,t,l){return typeof $=="string"?$:$(e,t,l)}var T=function(e){j(t,e);function t(l,L,F){return e.call(this,d(l,L,F))||this}return t}(n);T.prototype.name=n.name,T.prototype.code=f,V[f]=T}function J(f,$){if(Array.isArray(f)){var n=f.length;return f=f.map(function(d){return String(d)}),n>2?"one of ".concat($," ").concat(f.slice(0,n-1).join(", "),", or ")+f[n-1]:n===2?"one of ".concat($," ").concat(f[0]," or ").concat(f[1]):"of ".concat($," ").concat(f[0])}else return"of ".concat($," ").concat(String(f))}function ve(f,$,n){return f.substr(!n||n<0?0:+n,$.length)===$}function we(f,$,n){return(n===void 0||n>f.length)&&(n=f.length),f.substring(n-$.length,n)===$}function fe(f,$,n){return typeof n!="number"&&(n=0),n+$.length>f.length?!1:f.indexOf($,n)!==-1}return be("ERR_INVALID_OPT_VALUE",function(f,$){return'The value "'+$+'" is invalid for option "'+f+'"'},TypeError),be("ERR_INVALID_ARG_TYPE",function(f,$,n){var d;typeof $=="string"&&ve($,"not ")?(d="must not be",$=$.replace(/^not /,"")):d="must be";var T;if(we(f," argument"))T="The ".concat(f," ").concat(d," ").concat(J($,"type"));else{var e=fe(f,".")?"property":"argument";T='The "'.concat(f,'" ').concat(e," ").concat(d," ").concat(J($,"type"))}return T+=". Received type ".concat(typeof n),T},TypeError),be("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),be("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),be("ERR_STREAM_PREMATURE_CLOSE","Premature close"),be("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),be("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),be("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),be("ERR_STREAM_WRITE_AFTER_END","write after end"),be("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),be("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),be("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=V,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var j=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function V(J,ve,we){return J.highWaterMark!=null?J.highWaterMark:ve?J[we]:null}function be(J,ve,we,fe){var f=V(ve,fe,we);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var $=fe?we:"highWaterMark";throw new j($,f)}return Math.floor(f)}return J.objectMode?16:16*1024}return state={getHighWaterMark:be},state}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=v;function j(a){var o=this;this.next=null,this.entry=null,this.finish=function(){M(o,a)}}var V;v.WritableState=x;var be={deprecate:requireBrowser$1()},J=requireStreamBrowser(),ve=requireDist().Buffer,we=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function fe(a){return ve.from(a)}function f(a){return ve.isBuffer(a)||a instanceof we}var $=requireDestroy(),n=requireState(),d=n.getHighWaterMark,T=requireErrorsBrowser().codes,e=T.ERR_INVALID_ARG_TYPE,t=T.ERR_METHOD_NOT_IMPLEMENTED,l=T.ERR_MULTIPLE_CALLBACK,L=T.ERR_STREAM_CANNOT_PIPE,F=T.ERR_STREAM_DESTROYED,g=T.ERR_STREAM_NULL_VALUES,w=T.ERR_STREAM_WRITE_AFTER_END,u=T.ERR_UNKNOWN_ENCODING,h=$.errorOrDestroy;requireInherits_browser()(v,J);function i(){}function x(a,o,r){V=V||require_stream_duplex(),a=a||{},typeof r!="boolean"&&(r=o instanceof V),this.objectMode=!!a.objectMode,r&&(this.objectMode=this.objectMode||!!a.writableObjectMode),this.highWaterMark=d(this,a,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=a.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=a.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A){P(o,A)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=a.emitClose!==!1,this.autoDestroy=!!a.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}x.prototype.getBuffer=function(){for(var o=this.bufferedRequest,r=[];o;)r.push(o),o=o.next;return r},function(){try{Object.defineProperty(x.prototype,"buffer",{get:be.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var p;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(o){return p.call(this,o)?!0:this!==v?!1:o&&o._writableState instanceof x}})):p=function(o){return o instanceof this};function v(a){V=V||require_stream_duplex();var o=this instanceof V;if(!o&&!p.call(v,this))return new v(a);this._writableState=new x(a,this,o),this.writable=!0,a&&(typeof a.write=="function"&&(this._write=a.write),typeof a.writev=="function"&&(this._writev=a.writev),typeof a.destroy=="function"&&(this._destroy=a.destroy),typeof a.final=="function"&&(this._final=a.final)),J.call(this)}v.prototype.pipe=function(){h(this,new L)};function b(a,o){var r=new w;h(a,r),process$1.nextTick(o,r)}function N(a,o,r,s){var A;return r===null?A=new g:typeof r!="string"&&!o.objectMode&&(A=new e("chunk",["string","Buffer"],r)),A?(h(a,A),process$1.nextTick(s,A),!1):!0}v.prototype.write=function(a,o,r){var s=this._writableState,A=!1,c=!s.objectMode&&f(a);return c&&!ve.isBuffer(a)&&(a=fe(a)),typeof o=="function"&&(r=o,o=null),c?o="buffer":o||(o=s.defaultEncoding),typeof r!="function"&&(r=i),s.ending?b(this,r):(c||N(this,s,a,r))&&(s.pendingcb++,A=D(this,s,c,a,o,r)),A},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,!a.writing&&!a.corked&&!a.bufferProcessing&&a.bufferedRequest&&S(this,a))},v.prototype.setDefaultEncoding=function(o){if(typeof o=="string"&&(o=o.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((o+"").toLowerCase())>-1))throw new u(o);return this._writableState.defaultEncoding=o,this},Object.defineProperty(v.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(a,o,r){return!a.objectMode&&a.decodeStrings!==!1&&typeof o=="string"&&(o=ve.from(o,r)),o}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(a,o,r,s,A,c){if(!r){var y=U(o,s,A);s!==y&&(r=!0,A="buffer",s=y)}var q=o.objectMode?1:s.length;o.length+=q;var re=o.length<o.highWaterMark;if(re||(o.needDrain=!0),o.writing||o.corked){var Q=o.lastBufferedRequest;o.lastBufferedRequest={chunk:s,encoding:A,isBuf:r,callback:c,next:null},Q?Q.next=o.lastBufferedRequest:o.bufferedRequest=o.lastBufferedRequest,o.bufferedRequestCount+=1}else I(a,o,!1,q,s,A,c);return re}function I(a,o,r,s,A,c,y){o.writelen=s,o.writecb=y,o.writing=!0,o.sync=!0,o.destroyed?o.onwrite(new F("write")):r?a._writev(A,o.onwrite):a._write(A,c,o.onwrite),o.sync=!1}function B(a,o,r,s,A){--o.pendingcb,r?(process$1.nextTick(A,s),process$1.nextTick(E,a,o),a._writableState.errorEmitted=!0,h(a,s)):(A(s),a._writableState.errorEmitted=!0,h(a,s),E(a,o))}function _(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function P(a,o){var r=a._writableState,s=r.sync,A=r.writecb;if(typeof A!="function")throw new l;if(_(r),o)B(a,r,s,o,A);else{var c=R(r)||a.destroyed;!c&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&S(a,r),s?process$1.nextTick(X,a,r,c,A):X(a,r,c,A)}}function X(a,o,r,s){r||m(a,o),o.pendingcb--,s(),E(a,o)}function m(a,o){o.length===0&&o.needDrain&&(o.needDrain=!1,a.emit("drain"))}function S(a,o){o.bufferProcessing=!0;var r=o.bufferedRequest;if(a._writev&&r&&r.next){var s=o.bufferedRequestCount,A=new Array(s),c=o.corkedRequestsFree;c.entry=r;for(var y=0,q=!0;r;)A[y]=r,r.isBuf||(q=!1),r=r.next,y+=1;A.allBuffers=q,I(a,o,!0,o.length,A,"",c.finish),o.pendingcb++,o.lastBufferedRequest=null,c.next?(o.corkedRequestsFree=c.next,c.next=null):o.corkedRequestsFree=new j(o),o.bufferedRequestCount=0}else{for(;r;){var re=r.chunk,Q=r.encoding,de=r.callback,ee=o.objectMode?1:re.length;if(I(a,o,!1,ee,re,Q,de),r=r.next,o.bufferedRequestCount--,o.writing)break}r===null&&(o.lastBufferedRequest=null)}o.bufferedRequest=r,o.bufferProcessing=!1}v.prototype._write=function(a,o,r){r(new t("_write()"))},v.prototype._writev=null,v.prototype.end=function(a,o,r){var s=this._writableState;return typeof a=="function"?(r=a,a=null,o=null):typeof o=="function"&&(r=o,o=null),a!=null&&this.write(a,o),s.corked&&(s.corked=1,this.uncork()),s.ending||k(this,s,r),this},Object.defineProperty(v.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function R(a){return a.ending&&a.length===0&&a.bufferedRequest===null&&!a.finished&&!a.writing}function z(a,o){a._final(function(r){o.pendingcb--,r&&h(a,r),o.prefinished=!0,a.emit("prefinish"),E(a,o)})}function O(a,o){!o.prefinished&&!o.finalCalled&&(typeof a._final=="function"&&!o.destroyed?(o.pendingcb++,o.finalCalled=!0,process$1.nextTick(z,a,o)):(o.prefinished=!0,a.emit("prefinish")))}function E(a,o){var r=R(o);if(r&&(O(a,o),o.pendingcb===0&&(o.finished=!0,a.emit("finish"),o.autoDestroy))){var s=a._readableState;(!s||s.autoDestroy&&s.endEmitted)&&a.destroy()}return r}function k(a,o,r){o.ending=!0,E(a,o),r&&(o.finished?process$1.nextTick(r):a.once("finish",r)),o.ended=!0,a.writable=!1}function M(a,o,r){var s=a.entry;for(a.entry=null;s;){var A=s.callback;o.pendingcb--,A(r),s=s.next}o.corkedRequestsFree.next=a}return Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(o){this._writableState&&(this._writableState.destroyed=o)}}),v.prototype.destroy=$.destroy,v.prototype._undestroy=$.undestroy,v.prototype._destroy=function(a,o){o(a)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var j=Object.keys||function(n){var d=[];for(var T in n)d.push(T);return d};_stream_duplex=fe;var V=require_stream_readable(),be=require_stream_writable();requireInherits_browser()(fe,V);for(var J=j(be.prototype),ve=0;ve<J.length;ve++){var we=J[ve];fe.prototype[we]||(fe.prototype[we]=be.prototype[we])}function fe(n){if(!(this instanceof fe))return new fe(n);V.call(this,n),be.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(fe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(fe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(fe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process$1.nextTick($,this)}function $(n){n.end()}return Object.defineProperty(fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),_stream_duplex}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var j=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function V(we){var fe=!1;return function(){if(!fe){fe=!0;for(var f=arguments.length,$=new Array(f),n=0;n<f;n++)$[n]=arguments[n];we.apply(this,$)}}}function be(){}function J(we){return we.setHeader&&typeof we.abort=="function"}function ve(we,fe,f){if(typeof fe=="function")return ve(we,null,fe);fe||(fe={}),f=V(f||be);var $=fe.readable||fe.readable!==!1&&we.readable,n=fe.writable||fe.writable!==!1&&we.writable,d=function(){we.writable||e()},T=we._writableState&&we._writableState.finished,e=function(){n=!1,T=!0,$||f.call(we)},t=we._readableState&&we._readableState.endEmitted,l=function(){$=!1,t=!0,n||f.call(we)},L=function(u){f.call(we,u)},F=function(){var u;if($&&!t)return(!we._readableState||!we._readableState.ended)&&(u=new j),f.call(we,u);if(n&&!T)return(!we._writableState||!we._writableState.ended)&&(u=new j),f.call(we,u)},g=function(){we.req.on("finish",e)};return J(we)?(we.on("complete",e),we.on("abort",F),we.req?g():we.on("request",g)):n&&!we._writableState&&(we.on("end",d),we.on("close",d)),we.on("end",l),we.on("finish",e),fe.error!==!1&&we.on("error",L),we.on("close",F),function(){we.removeListener("complete",e),we.removeListener("abort",F),we.removeListener("request",g),we.req&&we.req.removeListener("finish",e),we.removeListener("end",d),we.removeListener("close",d),we.removeListener("finish",e),we.removeListener("end",l),we.removeListener("error",L),we.removeListener("close",F)}}return endOfStream=ve,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var j;function V(u,h,i){return h=be(h),h in u?Object.defineProperty(u,h,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[h]=i,u}function be(u){var h=J(u,"string");return typeof h=="symbol"?h:String(h)}function J(u,h){if(typeof u!="object"||u===null)return u;var i=u[Symbol.toPrimitive];if(i!==void 0){var x=i.call(u,h||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(u)}var ve=requireEndOfStream(),we=Symbol("lastResolve"),fe=Symbol("lastReject"),f=Symbol("error"),$=Symbol("ended"),n=Symbol("lastPromise"),d=Symbol("handlePromise"),T=Symbol("stream");function e(u,h){return{value:u,done:h}}function t(u){var h=u[we];if(h!==null){var i=u[T].read();i!==null&&(u[n]=null,u[we]=null,u[fe]=null,h(e(i,!1)))}}function l(u){process$1.nextTick(t,u)}function L(u,h){return function(i,x){u.then(function(){if(h[$]){i(e(void 0,!0));return}h[d](i,x)},x)}}var F=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((j={get stream(){return this[T]},next:function(){var h=this,i=this[f];if(i!==null)return Promise.reject(i);if(this[$])return Promise.resolve(e(void 0,!0));if(this[T].destroyed)return new Promise(function(b,N){process$1.nextTick(function(){h[f]?N(h[f]):b(e(void 0,!0))})});var x=this[n],p;if(x)p=new Promise(L(x,this));else{var v=this[T].read();if(v!==null)return Promise.resolve(e(v,!1));p=new Promise(this[d])}return this[n]=p,p}},V(j,Symbol.asyncIterator,function(){return this}),V(j,"return",function(){var h=this;return new Promise(function(i,x){h[T].destroy(null,function(p){if(p){x(p);return}i(e(void 0,!0))})})}),j),F),w=function(h){var i,x=Object.create(g,(i={},V(i,T,{value:h,writable:!0}),V(i,we,{value:null,writable:!0}),V(i,fe,{value:null,writable:!0}),V(i,f,{value:null,writable:!0}),V(i,$,{value:h._readableState.endEmitted,writable:!0}),V(i,d,{value:function(v,b){var N=x[T].read();N?(x[n]=null,x[we]=null,x[fe]=null,v(e(N,!1))):(x[we]=v,x[fe]=b)},writable:!0}),i));return x[n]=null,ve(h,function(p){if(p&&p.code!=="ERR_STREAM_PREMATURE_CLOSE"){var v=x[fe];v!==null&&(x[n]=null,x[we]=null,x[fe]=null,v(p)),x[f]=p;return}var b=x[we];b!==null&&(x[n]=null,x[we]=null,x[fe]=null,b(e(void 0,!0))),x[$]=!0}),h.on("readable",l.bind(null,x)),x};return async_iterator=w,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=b;var j;b.ReadableState=v,requireEvents().EventEmitter;var V=function(y,q){return y.listeners(q).length},be=requireStreamBrowser(),J=requireDist().Buffer,ve=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function we(c){return J.from(c)}function fe(c){return J.isBuffer(c)||c instanceof ve}var f=requireUtil(),$;f&&f.debuglog?$=f.debuglog("stream"):$=function(){};var n=requireBuffer_list(),d=requireDestroy(),T=requireState(),e=T.getHighWaterMark,t=requireErrorsBrowser().codes,l=t.ERR_INVALID_ARG_TYPE,L=t.ERR_STREAM_PUSH_AFTER_EOF,F=t.ERR_METHOD_NOT_IMPLEMENTED,g=t.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,u,h;requireInherits_browser()(b,be);var i=d.errorOrDestroy,x=["error","close","destroy","pause","resume"];function p(c,y,q){if(typeof c.prependListener=="function")return c.prependListener(y,q);!c._events||!c._events[y]?c.on(y,q):Array.isArray(c._events[y])?c._events[y].unshift(q):c._events[y]=[q,c._events[y]]}function v(c,y,q){j=j||require_stream_duplex(),c=c||{},typeof q!="boolean"&&(q=y instanceof j),this.objectMode=!!c.objectMode,q&&(this.objectMode=this.objectMode||!!c.readableObjectMode),this.highWaterMark=e(this,c,"readableHighWaterMark",q),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=c.emitClose!==!1,this.autoDestroy=!!c.autoDestroy,this.destroyed=!1,this.defaultEncoding=c.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,c.encoding&&(w||(w=requireString_decoder().StringDecoder),this.decoder=new w(c.encoding),this.encoding=c.encoding)}function b(c){if(j=j||require_stream_duplex(),!(this instanceof b))return new b(c);var y=this instanceof j;this._readableState=new v(c,this,y),this.readable=!0,c&&(typeof c.read=="function"&&(this._read=c.read),typeof c.destroy=="function"&&(this._destroy=c.destroy)),be.call(this)}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(y){this._readableState&&(this._readableState.destroyed=y)}}),b.prototype.destroy=d.destroy,b.prototype._undestroy=d.undestroy,b.prototype._destroy=function(c,y){y(c)},b.prototype.push=function(c,y){var q=this._readableState,re;return q.objectMode?re=!0:typeof c=="string"&&(y=y||q.defaultEncoding,y!==q.encoding&&(c=J.from(c,y),y=""),re=!0),N(this,c,y,!1,re)},b.prototype.unshift=function(c){return N(this,c,null,!0,!1)};function N(c,y,q,re,Q){$("readableAddChunk",y);var de=c._readableState;if(y===null)de.reading=!1,P(c,de);else{var ee;if(Q||(ee=D(de,y)),ee)i(c,ee);else if(de.objectMode||y&&y.length>0)if(typeof y!="string"&&!de.objectMode&&Object.getPrototypeOf(y)!==J.prototype&&(y=we(y)),re)de.endEmitted?i(c,new g):U(c,de,y,!0);else if(de.ended)i(c,new L);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!q?(y=de.decoder.write(y),de.objectMode||y.length!==0?U(c,de,y,!1):S(c,de)):U(c,de,y,!1)}else re||(de.reading=!1,S(c,de))}return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function U(c,y,q,re){y.flowing&&y.length===0&&!y.sync?(y.awaitDrain=0,c.emit("data",q)):(y.length+=y.objectMode?1:q.length,re?y.buffer.unshift(q):y.buffer.push(q),y.needReadable&&X(c)),S(c,y)}function D(c,y){var q;return!fe(y)&&typeof y!="string"&&y!==void 0&&!c.objectMode&&(q=new l("chunk",["string","Buffer","Uint8Array"],y)),q}b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(c){w||(w=requireString_decoder().StringDecoder);var y=new w(c);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;for(var q=this._readableState.buffer.head,re="";q!==null;)re+=y.write(q.data),q=q.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};var I=1073741824;function B(c){return c>=I?c=I:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++),c}function _(c,y){return c<=0||y.length===0&&y.ended?0:y.objectMode?1:c!==c?y.flowing&&y.length?y.buffer.head.data.length:y.length:(c>y.highWaterMark&&(y.highWaterMark=B(c)),c<=y.length?c:y.ended?y.length:(y.needReadable=!0,0))}b.prototype.read=function(c){$("read",c),c=parseInt(c,10);var y=this._readableState,q=c;if(c!==0&&(y.emittedReadable=!1),c===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended))return $("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?r(this):X(this),null;if(c=_(c,y),c===0&&y.ended)return y.length===0&&r(this),null;var re=y.needReadable;$("need readable",re),(y.length===0||y.length-c<y.highWaterMark)&&(re=!0,$("length less than watermark",re)),y.ended||y.reading?(re=!1,$("reading or ended",re)):re&&($("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(c=_(q,y)));var Q;return c>0?Q=o(c,y):Q=null,Q===null?(y.needReadable=y.length<=y.highWaterMark,c=0):(y.length-=c,y.awaitDrain=0),y.length===0&&(y.ended||(y.needReadable=!0),q!==c&&y.ended&&r(this)),Q!==null&&this.emit("data",Q),Q};function P(c,y){if($("onEofChunk"),!y.ended){if(y.decoder){var q=y.decoder.end();q&&q.length&&(y.buffer.push(q),y.length+=y.objectMode?1:q.length)}y.ended=!0,y.sync?X(c):(y.needReadable=!1,y.emittedReadable||(y.emittedReadable=!0,m(c)))}}function X(c){var y=c._readableState;$("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,y.emittedReadable||($("emitReadable",y.flowing),y.emittedReadable=!0,process$1.nextTick(m,c))}function m(c){var y=c._readableState;$("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&(y.length||y.ended)&&(c.emit("readable"),y.emittedReadable=!1),y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,a(c)}function S(c,y){y.readingMore||(y.readingMore=!0,process$1.nextTick(R,c,y))}function R(c,y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0);){var q=y.length;if($("maybeReadMore read 0"),c.read(0),q===y.length)break}y.readingMore=!1}b.prototype._read=function(c){i(this,new F("_read()"))},b.prototype.pipe=function(c,y){var q=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=c;break;case 1:re.pipes=[re.pipes,c];break;default:re.pipes.push(c);break}re.pipesCount+=1,$("pipe count=%d opts=%j",re.pipesCount,y);var Q=(!y||y.end!==!1)&&c!==process$1.stdout&&c!==process$1.stderr,de=Q?ue:G;re.endEmitted?process$1.nextTick(de):q.once("end",de),c.on("unpipe",ee);function ee(le,ce){$("onunpipe"),le===q&&ce&&ce.hasUnpiped===!1&&(ce.hasUnpiped=!0,se())}function ue(){$("onend"),c.end()}var W=z(q);c.on("drain",W);var Z=!1;function se(){$("cleanup"),c.removeListener("close",H),c.removeListener("finish",Y),c.removeListener("drain",W),c.removeListener("error",ie),c.removeListener("unpipe",ee),q.removeListener("end",ue),q.removeListener("end",G),q.removeListener("data",ne),Z=!0,re.awaitDrain&&(!c._writableState||c._writableState.needDrain)&&W()}q.on("data",ne);function ne(le){$("ondata");var ce=c.write(le);$("dest.write",ce),ce===!1&&((re.pipesCount===1&&re.pipes===c||re.pipesCount>1&&A(re.pipes,c)!==-1)&&!Z&&($("false write response, pause",re.awaitDrain),re.awaitDrain++),q.pause())}function ie(le){$("onerror",le),G(),c.removeListener("error",ie),V(c,"error")===0&&i(c,le)}p(c,"error",ie);function H(){c.removeListener("finish",Y),G()}c.once("close",H);function Y(){$("onfinish"),c.removeListener("close",H),G()}c.once("finish",Y);function G(){$("unpipe"),q.unpipe(c)}return c.emit("pipe",q),re.flowing||($("pipe resume"),q.resume()),c};function z(c){return function(){var q=c._readableState;$("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&V(c,"data")&&(q.flowing=!0,a(c))}}b.prototype.unpipe=function(c){var y=this._readableState,q={hasUnpiped:!1};if(y.pipesCount===0)return this;if(y.pipesCount===1)return c&&c!==y.pipes?this:(c||(c=y.pipes),y.pipes=null,y.pipesCount=0,y.flowing=!1,c&&c.emit("unpipe",this,q),this);if(!c){var re=y.pipes,Q=y.pipesCount;y.pipes=null,y.pipesCount=0,y.flowing=!1;for(var de=0;de<Q;de++)re[de].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=A(y.pipes,c);return ee===-1?this:(y.pipes.splice(ee,1),y.pipesCount-=1,y.pipesCount===1&&(y.pipes=y.pipes[0]),c.emit("unpipe",this,q),this)},b.prototype.on=function(c,y){var q=be.prototype.on.call(this,c,y),re=this._readableState;return c==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):c==="readable"&&!re.endEmitted&&!re.readableListening&&(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,$("on readable",re.length,re.reading),re.length?X(this):re.reading||process$1.nextTick(E,this)),q},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(c,y){var q=be.prototype.removeListener.call(this,c,y);return c==="readable"&&process$1.nextTick(O,this),q},b.prototype.removeAllListeners=function(c){var y=be.prototype.removeAllListeners.apply(this,arguments);return(c==="readable"||c===void 0)&&process$1.nextTick(O,this),y};function O(c){var y=c._readableState;y.readableListening=c.listenerCount("readable")>0,y.resumeScheduled&&!y.paused?y.flowing=!0:c.listenerCount("data")>0&&c.resume()}function E(c){$("readable nexttick read 0"),c.read(0)}b.prototype.resume=function(){var c=this._readableState;return c.flowing||($("resume"),c.flowing=!c.readableListening,k(this,c)),c.paused=!1,this};function k(c,y){y.resumeScheduled||(y.resumeScheduled=!0,process$1.nextTick(M,c,y))}function M(c,y){$("resume",y.reading),y.reading||c.read(0),y.resumeScheduled=!1,c.emit("resume"),a(c),y.flowing&&!y.reading&&c.read(0)}b.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function a(c){var y=c._readableState;for($("flow",y.flowing);y.flowing&&c.read()!==null;);}b.prototype.wrap=function(c){var y=this,q=this._readableState,re=!1;c.on("end",function(){if($("wrapped end"),q.decoder&&!q.ended){var ee=q.decoder.end();ee&&ee.length&&y.push(ee)}y.push(null)}),c.on("data",function(ee){if($("wrapped data"),q.decoder&&(ee=q.decoder.write(ee)),!(q.objectMode&&ee==null)&&!(!q.objectMode&&(!ee||!ee.length))){var ue=y.push(ee);ue||(re=!0,c.pause())}});for(var Q in c)this[Q]===void 0&&typeof c[Q]=="function"&&(this[Q]=function(ue){return function(){return c[ue].apply(c,arguments)}}(Q));for(var de=0;de<x.length;de++)c.on(x[de],this.emit.bind(this,x[de]));return this._read=function(ee){$("wrapped _read",ee),re&&(re=!1,c.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=requireAsync_iterator()),u(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(y){this._readableState&&(this._readableState.flowing=y)}}),b._fromList=o,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function o(c,y){if(y.length===0)return null;var q;return y.objectMode?q=y.buffer.shift():!c||c>=y.length?(y.decoder?q=y.buffer.join(""):y.buffer.length===1?q=y.buffer.first():q=y.buffer.concat(y.length),y.buffer.clear()):q=y.buffer.consume(c,y.decoder),q}function r(c){var y=c._readableState;$("endReadable",y.endEmitted),y.endEmitted||(y.ended=!0,process$1.nextTick(s,y,c))}function s(c,y){if($("endReadableNT",c.endEmitted,c.length),!c.endEmitted&&c.length===0&&(c.endEmitted=!0,y.readable=!1,y.emit("end"),c.autoDestroy)){var q=y._writableState;(!q||q.autoDestroy&&q.finished)&&y.destroy()}}typeof Symbol=="function"&&(b.from=function(c,y){return h===void 0&&(h=requireFromBrowser()),h(b,c,y)});function A(c,y){for(var q=0,re=c.length;q<re;q++)if(c[q]===y)return q;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=f;var j=requireErrorsBrowser().codes,V=j.ERR_METHOD_NOT_IMPLEMENTED,be=j.ERR_MULTIPLE_CALLBACK,J=j.ERR_TRANSFORM_ALREADY_TRANSFORMING,ve=j.ERR_TRANSFORM_WITH_LENGTH_0,we=require_stream_duplex();requireInherits_browser()(f,we);function fe(d,T){var e=this._transformState;e.transforming=!1;var t=e.writecb;if(t===null)return this.emit("error",new be);e.writechunk=null,e.writecb=null,T!=null&&this.push(T),t(d);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function f(d){if(!(this instanceof f))return new f(d);we.call(this,d),this._transformState={afterTransform:fe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",$)}function $(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,e){n(d,T,e)}):n(this,null,null)}f.prototype.push=function(d,T){return this._transformState.needTransform=!1,we.prototype.push.call(this,d,T)},f.prototype._transform=function(d,T,e){e(new V("_transform()"))},f.prototype._write=function(d,T,e){var t=this._transformState;if(t.writecb=e,t.writechunk=d,t.writeencoding=T,!t.transforming){var l=this._readableState;(t.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},f.prototype._read=function(d){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},f.prototype._destroy=function(d,T){we.prototype._destroy.call(this,d,function(e){T(e)})};function n(d,T,e){if(T)return d.emit("error",T);if(e!=null&&d.push(e),d._writableState.length)throw new ve;if(d._transformState.transforming)throw new J;return d.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=V;var j=require_stream_transform();requireInherits_browser()(V,j);function V(be){if(!(this instanceof V))return new V(be);j.call(this,be)}return V.prototype._transform=function(be,J,ve){ve(null,be)},_stream_passthrough}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var j;function V(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var be=requireErrorsBrowser().codes,J=be.ERR_MISSING_ARGS,ve=be.ERR_STREAM_DESTROYED;function we(e){if(e)throw e}function fe(e){return e.setHeader&&typeof e.abort=="function"}function f(e,t,l,L){L=V(L);var F=!1;e.on("close",function(){F=!0}),j===void 0&&(j=requireEndOfStream()),j(e,{readable:t,writable:l},function(w){if(w)return L(w);F=!0,L()});var g=!1;return function(w){if(!F&&!g){if(g=!0,fe(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();L(w||new ve("pipe"))}}}function $(e){e()}function n(e,t){return e.pipe(t)}function d(e){return!e.length||typeof e[e.length-1]!="function"?we:e.pop()}function T(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];var L=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new J("streams");var F,g=t.map(function(w,u){var h=u<t.length-1,i=u>0;return f(w,h,i,function(x){F||(F=x),x&&g.forEach($),!h&&(g.forEach($),L(F))})});return t.reduce(n)}return pipeline_1=T,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=be;var j=requireEvents().EventEmitter,V=requireInherits_browser();V(be,j),be.Readable=require_stream_readable(),be.Writable=require_stream_writable(),be.Duplex=require_stream_duplex(),be.Transform=require_stream_transform(),be.PassThrough=require_stream_passthrough(),be.finished=requireEndOfStream(),be.pipeline=requirePipeline(),be.Stream=be;function be(){j.call(this)}return be.prototype.pipe=function(J,ve){var we=this;function fe(t){J.writable&&J.write(t)===!1&&we.pause&&we.pause()}we.on("data",fe);function f(){we.readable&&we.resume&&we.resume()}J.on("drain",f),!J._isStdio&&(!ve||ve.end!==!1)&&(we.on("end",n),we.on("close",d));var $=!1;function n(){$||($=!0,J.end())}function d(){$||($=!0,typeof J.destroy=="function"&&J.destroy())}function T(t){if(e(),j.listenerCount(this,"error")===0)throw t}we.on("error",T),J.on("error",T);function e(){we.removeListener("data",fe),J.removeListener("drain",f),we.removeListener("end",n),we.removeListener("close",d),we.removeListener("error",T),J.removeListener("error",T),we.removeListener("end",e),we.removeListener("close",e),J.removeListener("close",e)}return we.on("end",e),we.on("close",e),J.on("close",e),J.emit("pipe",we),J},streamBrowserify}var binding={},assert={exports:{}},errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function j(i){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},j(i)}function V(i,x){for(var p=0;p<x.length;p++){var v=x[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,J(v.key),v)}}function be(i,x,p){return x&&V(i.prototype,x),p&&V(i,p),Object.defineProperty(i,"prototype",{writable:!1}),i}function J(i){var x=ve(i,"string");return j(x)==="symbol"?x:String(x)}function ve(i,x){if(j(i)!=="object"||i===null)return i;var p=i[Symbol.toPrimitive];if(p!==void 0){var v=p.call(i,x||"default");if(j(v)!=="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(i)}function we(i,x){if(!(i instanceof x))throw new TypeError("Cannot call a class as a function")}function fe(i,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(x&&x.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),x&&f(i,x)}function f(i,x){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,b){return v.__proto__=b,v},f(i,x)}function $(i){var x=T();return function(){var v=e(i),b;if(x){var N=e(this).constructor;b=Reflect.construct(v,arguments,N)}else b=v.apply(this,arguments);return n(this,b)}}function n(i,x){if(x&&(j(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(i)}function d(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function e(i){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},e(i)}var t={},l,L;function F(i,x,p){p||(p=Error);function v(N,U,D){return typeof x=="string"?x:x(N,U,D)}var b=function(N){fe(D,N);var U=$(D);function D(I,B,_){var P;return we(this,D),P=U.call(this,v(I,B,_)),P.code=i,P}return be(D)}(p);t[i]=b}function g(i,x){if(Array.isArray(i)){var p=i.length;return i=i.map(function(v){return String(v)}),p>2?"one of ".concat(x," ").concat(i.slice(0,p-1).join(", "),", or ")+i[p-1]:p===2?"one of ".concat(x," ").concat(i[0]," or ").concat(i[1]):"of ".concat(x," ").concat(i[0])}else return"of ".concat(x," ").concat(String(i))}function w(i,x,p){return i.substr(!p||p<0?0:+p,x.length)===x}function u(i,x,p){return(p===void 0||p>i.length)&&(p=i.length),i.substring(p-x.length,p)===x}function h(i,x,p){return typeof p!="number"&&(p=0),p+x.length>i.length?!1:i.indexOf(x,p)!==-1}return F("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),F("ERR_INVALID_ARG_TYPE",function(i,x,p){l===void 0&&(l=requireAssert()),l(typeof i=="string","'name' must be a string");var v;typeof x=="string"&&w(x,"not ")?(v="must not be",x=x.replace(/^not /,"")):v="must be";var b;if(u(i," argument"))b="The ".concat(i," ").concat(v," ").concat(g(x,"type"));else{var N=h(i,".")?"property":"argument";b='The "'.concat(i,'" ').concat(N," ").concat(v," ").concat(g(x,"type"))}return b+=". Received type ".concat(j(p)),b},TypeError),F("ERR_INVALID_ARG_VALUE",function(i,x){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";L===void 0&&(L=requireUtil());var v=L.inspect(x);return v.length>128&&(v="".concat(v.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(p,". Received ").concat(v)},TypeError),F("ERR_INVALID_RETURN_VALUE",function(i,x,p){var v;return p&&p.constructor&&p.constructor.name?v="instance of ".concat(p.constructor.name):v="type ".concat(j(p)),"Expected ".concat(i,' to be returned from the "').concat(x,'"')+" function but got ".concat(v,".")},TypeError),F("ERR_MISSING_ARGS",function(){for(var i=arguments.length,x=new Array(i),p=0;p<i;p++)x[p]=arguments[p];l===void 0&&(l=requireAssert()),l(x.length>0,"At least one arg needs to be specified");var v="The ",b=x.length;switch(x=x.map(function(N){return'"'.concat(N,'"')}),b){case 1:v+="".concat(x[0]," argument");break;case 2:v+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:v+=x.slice(0,b-1).join(", "),v+=", and ".concat(x[b-1]," arguments");break}return"".concat(v," must be specified")},TypeError),errors.codes=t,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function j(S,R){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(S);R&&(O=O.filter(function(E){return Object.getOwnPropertyDescriptor(S,E).enumerable})),z.push.apply(z,O)}return z}function V(S){for(var R=1;R<arguments.length;R++){var z=arguments[R]!=null?arguments[R]:{};R%2?j(Object(z),!0).forEach(function(O){be(S,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):j(Object(z)).forEach(function(O){Object.defineProperty(S,O,Object.getOwnPropertyDescriptor(z,O))})}return S}function be(S,R,z){return R=fe(R),R in S?Object.defineProperty(S,R,{value:z,enumerable:!0,configurable:!0,writable:!0}):S[R]=z,S}function J(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function ve(S,R){for(var z=0;z<R.length;z++){var O=R[z];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,fe(O.key),O)}}function we(S,R,z){return R&&ve(S.prototype,R),z&&ve(S,z),Object.defineProperty(S,"prototype",{writable:!1}),S}function fe(S){var R=f(S,"string");return w(R)==="symbol"?R:String(R)}function f(S,R){if(w(S)!=="object"||S===null)return S;var z=S[Symbol.toPrimitive];if(z!==void 0){var O=z.call(S,R||"default");if(w(O)!=="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(S)}function $(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&F(S,R)}function n(S){var R=l();return function(){var O=g(S),E;if(R){var k=g(this).constructor;E=Reflect.construct(O,arguments,k)}else E=O.apply(this,arguments);return d(this,E)}}function d(S,R){if(R&&(w(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(S)}function T(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function e(S){var R=typeof Map=="function"?new Map:void 0;return e=function(O){if(O===null||!L(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R<"u"){if(R.has(O))return R.get(O);R.set(O,E)}function E(){return t(O,arguments,g(this).constructor)}return E.prototype=Object.create(O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),F(E,O)},e(S)}function t(S,R,z){return l()?t=Reflect.construct.bind():t=function(E,k,M){var a=[null];a.push.apply(a,k);var o=Function.bind.apply(E,a),r=new o;return M&&F(r,M.prototype),r},t.apply(null,arguments)}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L(S){return Function.toString.call(S).indexOf("[native code]")!==-1}function F(S,R){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,E){return O.__proto__=E,O},F(S,R)}function g(S){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},g(S)}function w(S){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},w(S)}var u=requireUtil(),h=u.inspect,i=requireErrors(),x=i.codes.ERR_INVALID_ARG_TYPE;function p(S,R,z){return(z===void 0||z>S.length)&&(z=S.length),S.substring(z-R.length,z)===R}function v(S,R){if(R=Math.floor(R),S.length==0||R==0)return"";var z=S.length*R;for(R=Math.floor(Math.log(R)/Math.log(2));R;)S+=S,R--;return S+=S.substring(0,z-S.length),S}var b="",N="",U="",D="",I={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},B=10;function _(S){var R=Object.keys(S),z=Object.create(Object.getPrototypeOf(S));return R.forEach(function(O){z[O]=S[O]}),Object.defineProperty(z,"message",{value:S.message}),z}function P(S){return h(S,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function X(S,R,z){var O="",E="",k=0,M="",a=!1,o=P(S),r=o.split(`
`),s=P(R).split(`
`),A=0,c="";if(z==="strictEqual"&&w(S)==="object"&&w(R)==="object"&&S!==null&&R!==null&&(z="strictEqualObject"),r.length===1&&s.length===1&&r[0]!==s[0]){var y=r[0].length+s[0].length;if(y<=B){if((w(S)!=="object"||S===null)&&(w(R)!=="object"||R===null)&&(S!==0||R!==0))return"".concat(I[z],`

`)+"".concat(r[0]," !== ").concat(s[0],`
`)}else if(z!=="strictEqualObject"){var q=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(y<q){for(;r[0][A]===s[0][A];)A++;A>2&&(c=`
  `.concat(v(" ",A),"^"),A=0)}}}for(var re=r[r.length-1],Q=s[s.length-1];re===Q&&(A++<2?M=`
  `.concat(re).concat(M):O=re,r.pop(),s.pop(),!(r.length===0||s.length===0));)re=r[r.length-1],Q=s[s.length-1];var de=Math.max(r.length,s.length);if(de===0){var ee=o.split(`
`);if(ee.length>30)for(ee[26]="".concat(b,"...").concat(D);ee.length>27;)ee.pop();return"".concat(I.notIdentical,`

`).concat(ee.join(`
`),`
`)}A>3&&(M=`
`.concat(b,"...").concat(D).concat(M),a=!0),O!==""&&(M=`
  `.concat(O).concat(M),O="");var ue=0,W=I[z]+`
`.concat(N,"+ actual").concat(D," ").concat(U,"- expected").concat(D),Z=" ".concat(b,"...").concat(D," Lines skipped");for(A=0;A<de;A++){var se=A-k;if(r.length<A+1)se>1&&A>2&&(se>4?(E+=`
`.concat(b,"...").concat(D),a=!0):se>3&&(E+=`
  `.concat(s[A-2]),ue++),E+=`
  `.concat(s[A-1]),ue++),k=A,O+=`
`.concat(U,"-").concat(D," ").concat(s[A]),ue++;else if(s.length<A+1)se>1&&A>2&&(se>4?(E+=`
`.concat(b,"...").concat(D),a=!0):se>3&&(E+=`
  `.concat(r[A-2]),ue++),E+=`
  `.concat(r[A-1]),ue++),k=A,E+=`
`.concat(N,"+").concat(D," ").concat(r[A]),ue++;else{var ne=s[A],ie=r[A],H=ie!==ne&&(!p(ie,",")||ie.slice(0,-1)!==ne);H&&p(ne,",")&&ne.slice(0,-1)===ie&&(H=!1,ie+=","),H?(se>1&&A>2&&(se>4?(E+=`
`.concat(b,"...").concat(D),a=!0):se>3&&(E+=`
  `.concat(r[A-2]),ue++),E+=`
  `.concat(r[A-1]),ue++),k=A,E+=`
`.concat(N,"+").concat(D," ").concat(ie),O+=`
`.concat(U,"-").concat(D," ").concat(ne),ue+=2):(E+=O,O="",(se===1||A===0)&&(E+=`
  `.concat(ie),ue++))}if(ue>20&&A<de-2)return"".concat(W).concat(Z,`
`).concat(E,`
`).concat(b,"...").concat(D).concat(O,`
`)+"".concat(b,"...").concat(D)}return"".concat(W).concat(a?Z:"",`
`).concat(E).concat(O).concat(M).concat(c)}var m=function(S,R){$(O,S);var z=n(O);function O(E){var k;if(J(this,O),w(E)!=="object"||E===null)throw new x("options","Object",E);var M=E.message,a=E.operator,o=E.stackStartFn,r=E.actual,s=E.expected,A=Error.stackTraceLimit;if(Error.stackTraceLimit=0,M!=null)k=z.call(this,String(M));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(b="\x1B[34m",N="\x1B[32m",D="\x1B[39m",U="\x1B[31m"):(b="",N="",D="",U="")),w(r)==="object"&&r!==null&&w(s)==="object"&&s!==null&&"stack"in r&&r instanceof Error&&"stack"in s&&s instanceof Error&&(r=_(r),s=_(s)),a==="deepStrictEqual"||a==="strictEqual")k=z.call(this,X(r,s,a));else if(a==="notDeepStrictEqual"||a==="notStrictEqual"){var c=I[a],y=P(r).split(`
`);if(a==="notStrictEqual"&&w(r)==="object"&&r!==null&&(c=I.notStrictEqualObject),y.length>30)for(y[26]="".concat(b,"...").concat(D);y.length>27;)y.pop();y.length===1?k=z.call(this,"".concat(c," ").concat(y[0])):k=z.call(this,"".concat(c,`

`).concat(y.join(`
`),`
`))}else{var q=P(r),re="",Q=I[a];a==="notDeepEqual"||a==="notEqual"?(q="".concat(I[a],`

`).concat(q),q.length>1024&&(q="".concat(q.slice(0,1021),"..."))):(re="".concat(P(s)),q.length>512&&(q="".concat(q.slice(0,509),"...")),re.length>512&&(re="".concat(re.slice(0,509),"...")),a==="deepEqual"||a==="equal"?q="".concat(Q,`

`).concat(q,`

should equal

`):re=" ".concat(a," ").concat(re)),k=z.call(this,"".concat(q).concat(re))}return Error.stackTraceLimit=A,k.generatedMessage=!M,Object.defineProperty(T(k),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),k.code="ERR_ASSERTION",k.actual=r,k.expected=s,k.operator=a,Error.captureStackTrace&&Error.captureStackTrace(T(k),o),k.stack,k.name="AssertionError",d(k)}return we(O,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:R,value:function(k,M){return h(this,V(V({},M),{},{customInspect:!1,depth:0}))}}]),O}(e(Error),h.custom);return assertion_error=m,assertion_error}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var j=Object.prototype.toString;return isArguments=function(be){var J=j.call(be),ve=J==="[object Arguments]";return ve||(ve=J!=="[object Array]"&&be!==null&&typeof be=="object"&&typeof be.length=="number"&&be.length>=0&&j.call(be.callee)==="[object Function]"),ve},isArguments}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var j;if(!Object.keys){var V=Object.prototype.hasOwnProperty,be=Object.prototype.toString,J=requireIsArguments(),ve=Object.prototype.propertyIsEnumerable,we=!ve.call({toString:null},"toString"),fe=ve.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$=function(e){var t=e.constructor;return t&&t.prototype===e},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!n["$"+e]&&V.call(window,e)&&window[e]!==null&&typeof window[e]=="object")try{$(window[e])}catch{return!0}}catch{return!0}return!1}(),T=function(e){if(typeof window>"u"||!d)return $(e);try{return $(e)}catch{return!1}};j=function(t){var l=t!==null&&typeof t=="object",L=be.call(t)==="[object Function]",F=J(t),g=l&&be.call(t)==="[object String]",w=[];if(!l&&!L&&!F)throw new TypeError("Object.keys called on a non-object");var u=fe&&L;if(g&&t.length>0&&!V.call(t,0))for(var h=0;h<t.length;++h)w.push(String(h));if(F&&t.length>0)for(var i=0;i<t.length;++i)w.push(String(i));else for(var x in t)!(u&&x==="prototype")&&V.call(t,x)&&w.push(String(x));if(we)for(var p=T(t),v=0;v<f.length;++v)!(p&&f[v]==="constructor")&&V.call(t,f[v])&&w.push(f[v]);return w}}return implementation$3=j,implementation$3}var objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var j=Array.prototype.slice,V=requireIsArguments(),be=Object.keys,J=be?function(fe){return be(fe)}:requireImplementation$3(),ve=Object.keys;return J.shim=function(){if(Object.keys){var fe=function(){var f=Object.keys(arguments);return f&&f.length===arguments.length}(1,2);fe||(Object.keys=function($){return V($)?ve(j.call($)):ve($)})}else Object.keys=J;return Object.keys||J},objectKeys=J,objectKeys}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var j=requireObjectKeys(),V=requireShams$1()(),be=requireCallBound(),J=Object,ve=be("Array.prototype.push"),we=be("Object.prototype.propertyIsEnumerable"),fe=V?Object.getOwnPropertySymbols:null;return implementation$2=function($,n){if($==null)throw new TypeError("target must be an object");var d=J($);if(arguments.length===1)return d;for(var T=1;T<arguments.length;++T){var e=J(arguments[T]),t=j(e),l=V&&(Object.getOwnPropertySymbols||fe);if(l)for(var L=l(e),F=0;F<L.length;++F){var g=L[F];we(e,g)&&ve(t,g)}for(var w=0;w<t.length;++w){var u=t[w];if(we(e,u)){var h=e[u];d[u]=h}}}return d},implementation$2}var polyfill$2,hasRequiredPolyfill$2;function requirePolyfill$2(){if(hasRequiredPolyfill$2)return polyfill$2;hasRequiredPolyfill$2=1;var j=requireImplementation$2(),V=function(){if(!Object.assign)return!1;for(var J="abcdefghijklmnopqrst",ve=J.split(""),we={},fe=0;fe<ve.length;++fe)we[ve[fe]]=ve[fe];var f=Object.assign({},we),$="";for(var n in f)$+=n;return J!==$},be=function(){if(!Object.assign||!Object.preventExtensions)return!1;var J=Object.preventExtensions({1:2});try{Object.assign(J,"xy")}catch{return J[1]==="y"}return!1};return polyfill$2=function(){return!Object.assign||V()||be()?j:Object.assign},polyfill$2}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var j=function(V){return V!==V};return implementation$1=function(be,J){return be===0&&J===0?1/be===1/J:!!(be===J||j(be)&&j(J))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var j=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:j},polyfill$1}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var j=requireObjectKeys(),V=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",be=Object.prototype.toString,J=Array.prototype.concat,ve=requireDefineDataProperty(),we=function(n){return typeof n=="function"&&be.call(n)==="[object Function]"},fe=requireHasPropertyDescriptors()(),f=function(n,d,T,e){if(d in n){if(e===!0){if(n[d]===T)return}else if(!we(e)||!e())return}fe?ve(n,d,T,!0):ve(n,d,T)},$=function(n,d){var T=arguments.length>2?arguments[2]:{},e=j(d);V&&(e=J.call(e,Object.getOwnPropertySymbols(d)));for(var t=0;t<e.length;t+=1)f(n,e[t],d[e[t]],T[e[t]])};return $.supportsDescriptors=!!fe,defineProperties_1=$,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var j=requirePolyfill$1(),V=requireDefineProperties();return shim$1=function(){var J=j();return V(Object,{is:J},{is:function(){return Object.is!==J}}),J},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var j=requireDefineProperties(),V=requireCallBind(),be=requireImplementation$1(),J=requirePolyfill$1(),ve=requireShim$1(),we=V(J(),Object);return j(we,{getPolyfill:J,implementation:be,shim:ve}),objectIs=we,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(V){return V!==V}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var j=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:j},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var j=requireDefineProperties(),V=requirePolyfill();return shim=function(){var J=V();return j(Number,{isNaN:J},{isNaN:function(){return Number.isNaN!==J}}),J},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var j=requireCallBind(),V=requireDefineProperties(),be=requireImplementation(),J=requirePolyfill(),ve=requireShim(),we=j(J(),Number);return V(we,{getPolyfill:J,implementation:be,shim:ve}),isNan=we,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function j(H,Y){return we(H)||ve(H,Y)||be(H,Y)||V()}function V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function be(H,Y){if(H){if(typeof H=="string")return J(H,Y);var G=Object.prototype.toString.call(H).slice(8,-1);if(G==="Object"&&H.constructor&&(G=H.constructor.name),G==="Map"||G==="Set")return Array.from(H);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return J(H,Y)}}function J(H,Y){(Y==null||Y>H.length)&&(Y=H.length);for(var G=0,le=new Array(Y);G<Y;G++)le[G]=H[G];return le}function ve(H,Y){var G=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(G!=null){var le,ce,te,ge,K=[],Se=!0,Oe=!1;try{if(te=(G=G.call(H)).next,Y===0){if(Object(G)!==G)return;Se=!1}else for(;!(Se=(le=te.call(G)).done)&&(K.push(le.value),K.length!==Y);Se=!0);}catch(Me){Oe=!0,ce=Me}finally{try{if(!Se&&G.return!=null&&(ge=G.return(),Object(ge)!==ge))return}finally{if(Oe)throw ce}}return K}}function we(H){if(Array.isArray(H))return H}function fe(H){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},fe(H)}var f=/a/g.flags!==void 0,$=function(Y){var G=[];return Y.forEach(function(le){return G.push(le)}),G},n=function(Y){var G=[];return Y.forEach(function(le,ce){return G.push([ce,le])}),G},d=Object.is?Object.is:requireObjectIs(),T=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},e=Number.isNaN?Number.isNaN:requireIsNan();function t(H){return H.call.bind(H)}var l=t(Object.prototype.hasOwnProperty),L=t(Object.prototype.propertyIsEnumerable),F=t(Object.prototype.toString),g=requireUtil().types,w=g.isAnyArrayBuffer,u=g.isArrayBufferView,h=g.isDate,i=g.isMap,x=g.isRegExp,p=g.isSet,v=g.isNativeError,b=g.isBoxedPrimitive,N=g.isNumberObject,U=g.isStringObject,D=g.isBooleanObject,I=g.isBigIntObject,B=g.isSymbolObject,_=g.isFloat32Array,P=g.isFloat64Array;function X(H){if(H.length===0||H.length>10)return!0;for(var Y=0;Y<H.length;Y++){var G=H.charCodeAt(Y);if(G<48||G>57)return!0}return H.length===10&&H>=Math.pow(2,32)}function m(H){return Object.keys(H).filter(X).concat(T(H).filter(Object.prototype.propertyIsEnumerable.bind(H)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function S(H,Y){if(H===Y)return 0;for(var G=H.length,le=Y.length,ce=0,te=Math.min(G,le);ce<te;++ce)if(H[ce]!==Y[ce]){G=H[ce],le=Y[ce];break}return G<le?-1:le<G?1:0}var R=!0,z=!1,O=0,E=1,k=2,M=3;function a(H,Y){return f?H.source===Y.source&&H.flags===Y.flags:RegExp.prototype.toString.call(H)===RegExp.prototype.toString.call(Y)}function o(H,Y){if(H.byteLength!==Y.byteLength)return!1;for(var G=0;G<H.byteLength;G++)if(H[G]!==Y[G])return!1;return!0}function r(H,Y){return H.byteLength!==Y.byteLength?!1:S(new Uint8Array(H.buffer,H.byteOffset,H.byteLength),new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength))===0}function s(H,Y){return H.byteLength===Y.byteLength&&S(new Uint8Array(H),new Uint8Array(Y))===0}function A(H,Y){return N(H)?N(Y)&&d(Number.prototype.valueOf.call(H),Number.prototype.valueOf.call(Y)):U(H)?U(Y)&&String.prototype.valueOf.call(H)===String.prototype.valueOf.call(Y):D(H)?D(Y)&&Boolean.prototype.valueOf.call(H)===Boolean.prototype.valueOf.call(Y):I(H)?I(Y)&&BigInt.prototype.valueOf.call(H)===BigInt.prototype.valueOf.call(Y):B(Y)&&Symbol.prototype.valueOf.call(H)===Symbol.prototype.valueOf.call(Y)}function c(H,Y,G,le){if(H===Y)return H!==0?!0:G?d(H,Y):!0;if(G){if(fe(H)!=="object")return typeof H=="number"&&e(H)&&e(Y);if(fe(Y)!=="object"||H===null||Y===null||Object.getPrototypeOf(H)!==Object.getPrototypeOf(Y))return!1}else{if(H===null||fe(H)!=="object")return Y===null||fe(Y)!=="object"?H==Y:!1;if(Y===null||fe(Y)!=="object")return!1}var ce=F(H),te=F(Y);if(ce!==te)return!1;if(Array.isArray(H)){if(H.length!==Y.length)return!1;var ge=m(H),K=m(Y);return ge.length!==K.length?!1:q(H,Y,G,le,E,ge)}if(ce==="[object Object]"&&(!i(H)&&i(Y)||!p(H)&&p(Y)))return!1;if(h(H)){if(!h(Y)||Date.prototype.getTime.call(H)!==Date.prototype.getTime.call(Y))return!1}else if(x(H)){if(!x(Y)||!a(H,Y))return!1}else if(v(H)||H instanceof Error){if(H.message!==Y.message||H.name!==Y.name)return!1}else if(u(H)){if(!G&&(_(H)||P(H))){if(!o(H,Y))return!1}else if(!r(H,Y))return!1;var Se=m(H),Oe=m(Y);return Se.length!==Oe.length?!1:q(H,Y,G,le,O,Se)}else{if(p(H))return!p(Y)||H.size!==Y.size?!1:q(H,Y,G,le,k);if(i(H))return!i(Y)||H.size!==Y.size?!1:q(H,Y,G,le,M);if(w(H)){if(!s(H,Y))return!1}else if(b(H)&&!A(H,Y))return!1}return q(H,Y,G,le,O)}function y(H,Y){return Y.filter(function(G){return L(H,G)})}function q(H,Y,G,le,ce,te){if(arguments.length===5){te=Object.keys(H);var ge=Object.keys(Y);if(te.length!==ge.length)return!1}for(var K=0;K<te.length;K++)if(!l(Y,te[K]))return!1;if(G&&arguments.length===5){var Se=T(H);if(Se.length!==0){var Oe=0;for(K=0;K<Se.length;K++){var Me=Se[K];if(L(H,Me)){if(!L(Y,Me))return!1;te.push(Me),Oe++}else if(L(Y,Me))return!1}var _e=T(Y);if(Se.length!==_e.length&&y(Y,_e).length!==Oe)return!1}else{var ke=T(Y);if(ke.length!==0&&y(Y,ke).length!==0)return!1}}if(te.length===0&&(ce===O||ce===E&&H.length===0||H.size===0))return!0;if(le===void 0)le={val1:new Map,val2:new Map,position:0};else{var oe=le.val1.get(H);if(oe!==void 0){var Ie=le.val2.get(Y);if(Ie!==void 0)return oe===Ie}le.position++}le.val1.set(H,le.position),le.val2.set(Y,le.position);var Be=se(H,Y,G,te,le,ce);return le.val1.delete(H),le.val2.delete(Y),Be}function re(H,Y,G,le){for(var ce=$(H),te=0;te<ce.length;te++){var ge=ce[te];if(c(Y,ge,G,le))return H.delete(ge),!0}return!1}function Q(H){switch(fe(H)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":H=+H;case"number":if(e(H))return!1}return!0}function de(H,Y,G){var le=Q(G);return le??(Y.has(le)&&!H.has(le))}function ee(H,Y,G,le,ce){var te=Q(G);if(te!=null)return te;var ge=Y.get(te);return ge===void 0&&!Y.has(te)||!c(le,ge,!1,ce)?!1:!H.has(te)&&c(le,ge,!1,ce)}function ue(H,Y,G,le){for(var ce=null,te=$(H),ge=0;ge<te.length;ge++){var K=te[ge];if(fe(K)==="object"&&K!==null)ce===null&&(ce=new Set),ce.add(K);else if(!Y.has(K)){if(G||!de(H,Y,K))return!1;ce===null&&(ce=new Set),ce.add(K)}}if(ce!==null){for(var Se=$(Y),Oe=0;Oe<Se.length;Oe++){var Me=Se[Oe];if(fe(Me)==="object"&&Me!==null){if(!re(ce,Me,G,le))return!1}else if(!G&&!H.has(Me)&&!re(ce,Me,G,le))return!1}return ce.size===0}return!0}function W(H,Y,G,le,ce,te){for(var ge=$(H),K=0;K<ge.length;K++){var Se=ge[K];if(c(G,Se,ce,te)&&c(le,Y.get(Se),ce,te))return H.delete(Se),!0}return!1}function Z(H,Y,G,le){for(var ce=null,te=n(H),ge=0;ge<te.length;ge++){var K=j(te[ge],2),Se=K[0],Oe=K[1];if(fe(Se)==="object"&&Se!==null)ce===null&&(ce=new Set),ce.add(Se);else{var Me=Y.get(Se);if(Me===void 0&&!Y.has(Se)||!c(Oe,Me,G,le)){if(G||!ee(H,Y,Se,Oe,le))return!1;ce===null&&(ce=new Set),ce.add(Se)}}}if(ce!==null){for(var _e=n(Y),ke=0;ke<_e.length;ke++){var oe=j(_e[ke],2),Ie=oe[0],Be=oe[1];if(fe(Ie)==="object"&&Ie!==null){if(!W(ce,H,Ie,Be,G,le))return!1}else if(!G&&(!H.has(Ie)||!c(H.get(Ie),Be,!1,le))&&!W(ce,H,Ie,Be,!1,le))return!1}return ce.size===0}return!0}function se(H,Y,G,le,ce,te){var ge=0;if(te===k){if(!ue(H,Y,G,ce))return!1}else if(te===M){if(!Z(H,Y,G,ce))return!1}else if(te===E)for(;ge<H.length;ge++)if(l(H,ge)){if(!l(Y,ge)||!c(H[ge],Y[ge],G,ce))return!1}else{if(l(Y,ge))return!1;for(var K=Object.keys(H);ge<K.length;ge++){var Se=K[ge];if(!l(Y,Se)||!c(H[Se],Y[Se],G,ce))return!1}return K.length===Object.keys(Y).length}for(ge=0;ge<le.length;ge++){var Oe=le[ge];if(!c(H[Oe],Y[Oe],G,ce))return!1}return!0}function ne(H,Y){return c(H,Y,z)}function ie(H,Y){return c(H,Y,R)}return comparisons={isDeepEqual:ne,isDeepStrictEqual:ie},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert.exports;hasRequiredAssert=1;function j(o){"@babel/helpers - typeof";return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j(o)}function V(o,r){for(var s=0;s<r.length;s++){var A=r[s];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(o,J(A.key),A)}}function be(o,r,s){return r&&V(o.prototype,r),s&&V(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o}function J(o){var r=ve(o,"string");return j(r)==="symbol"?r:String(r)}function ve(o,r){if(j(o)!=="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var A=s.call(o,r||"default");if(j(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(o)}function we(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}var fe=requireErrors(),f=fe.codes,$=f.ERR_AMBIGUOUS_ARGUMENT,n=f.ERR_INVALID_ARG_TYPE,d=f.ERR_INVALID_ARG_VALUE,T=f.ERR_INVALID_RETURN_VALUE,e=f.ERR_MISSING_ARGS,t=requireAssertion_error(),l=requireUtil(),L=l.inspect,F=requireUtil().types,g=F.isPromise,w=F.isRegExp,u=requirePolyfill$2()(),h=requirePolyfill$1()(),i=requireCallBound()("RegExp.prototype.test"),x,p;function v(){var o=requireComparisons();x=o.isDeepEqual,p=o.isDeepStrictEqual}var b=!1,N=assert.exports=_,U={};function D(o){throw o.message instanceof Error?o.message:new t(o)}function I(o,r,s,A,c){var y=arguments.length,q;if(y===0)q="Failed";else if(y===1)s=o,o=void 0;else{if(b===!1){b=!0;var re=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);re("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}y===2&&(A="!=")}if(s instanceof Error)throw s;var Q={actual:o,expected:r,operator:A===void 0?"fail":A,stackStartFn:c||I};s!==void 0&&(Q.message=s);var de=new t(Q);throw q&&(de.message=q,de.generatedMessage=!0),de}N.fail=I,N.AssertionError=t;function B(o,r,s,A){if(!s){var c=!1;if(r===0)c=!0,A="No value argument passed to `assert.ok()`";else if(A instanceof Error)throw A;var y=new t({actual:s,expected:!0,message:A,operator:"==",stackStartFn:o});throw y.generatedMessage=c,y}}function _(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];B.apply(void 0,[_,r.length].concat(r))}N.ok=_,N.equal=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");r!=s&&D({actual:r,expected:s,message:A,operator:"==",stackStartFn:o})},N.notEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");r==s&&D({actual:r,expected:s,message:A,operator:"!=",stackStartFn:o})},N.deepEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");x===void 0&&v(),x(r,s)||D({actual:r,expected:s,message:A,operator:"deepEqual",stackStartFn:o})},N.notDeepEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");x===void 0&&v(),x(r,s)&&D({actual:r,expected:s,message:A,operator:"notDeepEqual",stackStartFn:o})},N.deepStrictEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");x===void 0&&v(),p(r,s)||D({actual:r,expected:s,message:A,operator:"deepStrictEqual",stackStartFn:o})},N.notDeepStrictEqual=P;function P(o,r,s){if(arguments.length<2)throw new e("actual","expected");x===void 0&&v(),p(o,r)&&D({actual:o,expected:r,message:s,operator:"notDeepStrictEqual",stackStartFn:P})}N.strictEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");h(r,s)||D({actual:r,expected:s,message:A,operator:"strictEqual",stackStartFn:o})},N.notStrictEqual=function o(r,s,A){if(arguments.length<2)throw new e("actual","expected");h(r,s)&&D({actual:r,expected:s,message:A,operator:"notStrictEqual",stackStartFn:o})};var X=be(function o(r,s,A){var c=this;we(this,o),s.forEach(function(y){y in r&&(A!==void 0&&typeof A[y]=="string"&&w(r[y])&&i(r[y],A[y])?c[y]=A[y]:c[y]=r[y])})});function m(o,r,s,A,c,y){if(!(s in o)||!p(o[s],r[s])){if(!A){var q=new X(o,c),re=new X(r,c,o),Q=new t({actual:q,expected:re,operator:"deepStrictEqual",stackStartFn:y});throw Q.actual=o,Q.expected=r,Q.operator=y.name,Q}D({actual:o,expected:r,message:A,operator:y.name,stackStartFn:y})}}function S(o,r,s,A){if(typeof r!="function"){if(w(r))return i(r,o);if(arguments.length===2)throw new n("expected",["Function","RegExp"],r);if(j(o)!=="object"||o===null){var c=new t({actual:o,expected:r,message:s,operator:"deepStrictEqual",stackStartFn:A});throw c.operator=A.name,c}var y=Object.keys(r);if(r instanceof Error)y.push("name","message");else if(y.length===0)throw new d("error",r,"may not be an empty object");return x===void 0&&v(),y.forEach(function(q){typeof o[q]=="string"&&w(r[q])&&i(r[q],o[q])||m(o,r,q,s,y,A)}),!0}return r.prototype!==void 0&&o instanceof r?!0:Error.isPrototypeOf(r)?!1:r.call({},o)===!0}function R(o){if(typeof o!="function")throw new n("fn","Function",o);try{o()}catch(r){return r}return U}function z(o){return g(o)||o!==null&&j(o)==="object"&&typeof o.then=="function"&&typeof o.catch=="function"}function O(o){return Promise.resolve().then(function(){var r;if(typeof o=="function"){if(r=o(),!z(r))throw new T("instance of Promise","promiseFn",r)}else if(z(o))r=o;else throw new n("promiseFn",["Function","Promise"],o);return Promise.resolve().then(function(){return r}).then(function(){return U}).catch(function(s){return s})})}function E(o,r,s,A){if(typeof s=="string"){if(arguments.length===4)throw new n("error",["Object","Error","Function","RegExp"],s);if(j(r)==="object"&&r!==null){if(r.message===s)throw new $("error/message",'The error message "'.concat(r.message,'" is identical to the message.'))}else if(r===s)throw new $("error/message",'The error "'.concat(r,'" is identical to the message.'));A=s,s=void 0}else if(s!=null&&j(s)!=="object"&&typeof s!="function")throw new n("error",["Object","Error","Function","RegExp"],s);if(r===U){var c="";s&&s.name&&(c+=" (".concat(s.name,")")),c+=A?": ".concat(A):".";var y=o.name==="rejects"?"rejection":"exception";D({actual:void 0,expected:s,operator:o.name,message:"Missing expected ".concat(y).concat(c),stackStartFn:o})}if(s&&!S(r,s,A,o))throw r}function k(o,r,s,A){if(r!==U){if(typeof s=="string"&&(A=s,s=void 0),!s||S(r,s)){var c=A?": ".concat(A):".",y=o.name==="doesNotReject"?"rejection":"exception";D({actual:r,expected:s,operator:o.name,message:"Got unwanted ".concat(y).concat(c,`
`)+'Actual message: "'.concat(r&&r.message,'"'),stackStartFn:o})}throw r}}N.throws=function o(r){for(var s=arguments.length,A=new Array(s>1?s-1:0),c=1;c<s;c++)A[c-1]=arguments[c];E.apply(void 0,[o,R(r)].concat(A))},N.rejects=function o(r){for(var s=arguments.length,A=new Array(s>1?s-1:0),c=1;c<s;c++)A[c-1]=arguments[c];return O(r).then(function(y){return E.apply(void 0,[o,y].concat(A))})},N.doesNotThrow=function o(r){for(var s=arguments.length,A=new Array(s>1?s-1:0),c=1;c<s;c++)A[c-1]=arguments[c];k.apply(void 0,[o,R(r)].concat(A))},N.doesNotReject=function o(r){for(var s=arguments.length,A=new Array(s>1?s-1:0),c=1;c<s;c++)A[c-1]=arguments[c];return O(r).then(function(y){return k.apply(void 0,[o,y].concat(A))})},N.ifError=function o(r){if(r!=null){var s="ifError got unwanted exception: ";j(r)==="object"&&typeof r.message=="string"?r.message.length===0&&r.constructor?s+=r.constructor.name:s+=r.message:s+=L(r);var A=new t({actual:r,expected:null,operator:"ifError",message:s,stackStartFn:o}),c=r.stack;if(typeof c=="string"){var y=c.split(`
`);y.shift();for(var q=A.stack.split(`
`),re=0;re<y.length;re++){var Q=q.indexOf(y[re]);if(Q!==-1){q=q.slice(0,Q);break}}A.stack="".concat(q.join(`
`),`
`).concat(y.join(`
`))}throw A}};function M(o,r,s,A,c){if(!w(r))throw new n("regexp","RegExp",r);var y=c==="match";if(typeof o!="string"||i(r,o)!==y){if(s instanceof Error)throw s;var q=!s;s=s||(typeof o!="string"?'The "string" argument must be of type string. Received type '+"".concat(j(o)," (").concat(L(o),")"):(y?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(L(r),`. Input:

`).concat(L(o),`
`));var re=new t({actual:o,expected:r,message:s,operator:c,stackStartFn:A});throw re.generatedMessage=q,re}}N.match=function o(r,s,A){M(r,s,A,o,"match")},N.doesNotMatch=function o(r,s,A){M(r,s,A,o,"doesNotMatch")};function a(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];B.apply(void 0,[a,r.length].concat(r))}return N.strict=u(a,N,{equal:N.strictEqual,deepEqual:N.deepStrictEqual,notEqual:N.notStrictEqual,notDeepEqual:N.notDeepStrictEqual}),N.strict.strict=N.strict,assert.exports}var zstream,hasRequiredZstream;function requireZstream(){if(hasRequiredZstream)return zstream;hasRequiredZstream=1;function j(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return zstream=j,zstream}var deflate={},common={},hasRequiredCommon;function requireCommon(){return hasRequiredCommon||(hasRequiredCommon=1,function(j){var V=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function be(we,fe){return Object.prototype.hasOwnProperty.call(we,fe)}j.assign=function(we){for(var fe=Array.prototype.slice.call(arguments,1);fe.length;){var f=fe.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var $ in f)be(f,$)&&(we[$]=f[$])}}return we},j.shrinkBuf=function(we,fe){return we.length===fe?we:we.subarray?we.subarray(0,fe):(we.length=fe,we)};var J={arraySet:function(we,fe,f,$,n){if(fe.subarray&&we.subarray){we.set(fe.subarray(f,f+$),n);return}for(var d=0;d<$;d++)we[n+d]=fe[f+d]},flattenChunks:function(we){var fe,f,$,n,d,T;for($=0,fe=0,f=we.length;fe<f;fe++)$+=we[fe].length;for(T=new Uint8Array($),n=0,fe=0,f=we.length;fe<f;fe++)d=we[fe],T.set(d,n),n+=d.length;return T}},ve={arraySet:function(we,fe,f,$,n){for(var d=0;d<$;d++)we[n+d]=fe[f+d]},flattenChunks:function(we){return[].concat.apply([],we)}};j.setTyped=function(we){we?(j.Buf8=Uint8Array,j.Buf16=Uint16Array,j.Buf32=Int32Array,j.assign(j,J)):(j.Buf8=Array,j.Buf16=Array,j.Buf32=Array,j.assign(j,ve))},j.setTyped(V)}(common)),common}var trees={},hasRequiredTrees;function requireTrees(){if(hasRequiredTrees)return trees;hasRequiredTrees=1;var j=requireCommon(),V=4,be=0,J=1,ve=2;function we(K){for(var Se=K.length;--Se>=0;)K[Se]=0}var fe=0,f=1,$=2,n=3,d=258,T=29,e=256,t=e+1+T,l=30,L=19,F=2*t+1,g=15,w=16,u=7,h=256,i=16,x=17,p=18,v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=512,I=new Array((t+2)*2);we(I);var B=new Array(l*2);we(B);var _=new Array(D);we(_);var P=new Array(d-n+1);we(P);var X=new Array(T);we(X);var m=new Array(l);we(m);function S(K,Se,Oe,Me,_e){this.static_tree=K,this.extra_bits=Se,this.extra_base=Oe,this.elems=Me,this.max_length=_e,this.has_stree=K&&K.length}var R,z,O;function E(K,Se){this.dyn_tree=K,this.max_code=0,this.stat_desc=Se}function k(K){return K<256?_[K]:_[256+(K>>>7)]}function M(K,Se){K.pending_buf[K.pending++]=Se&255,K.pending_buf[K.pending++]=Se>>>8&255}function a(K,Se,Oe){K.bi_valid>w-Oe?(K.bi_buf|=Se<<K.bi_valid&65535,M(K,K.bi_buf),K.bi_buf=Se>>w-K.bi_valid,K.bi_valid+=Oe-w):(K.bi_buf|=Se<<K.bi_valid&65535,K.bi_valid+=Oe)}function o(K,Se,Oe){a(K,Oe[Se*2],Oe[Se*2+1])}function r(K,Se){var Oe=0;do Oe|=K&1,K>>>=1,Oe<<=1;while(--Se>0);return Oe>>>1}function s(K){K.bi_valid===16?(M(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):K.bi_valid>=8&&(K.pending_buf[K.pending++]=K.bi_buf&255,K.bi_buf>>=8,K.bi_valid-=8)}function A(K,Se){var Oe=Se.dyn_tree,Me=Se.max_code,_e=Se.stat_desc.static_tree,ke=Se.stat_desc.has_stree,oe=Se.stat_desc.extra_bits,Ie=Se.stat_desc.extra_base,Be=Se.stat_desc.max_length,he,De,ye,me,Pe,Re,He=0;for(me=0;me<=g;me++)K.bl_count[me]=0;for(Oe[K.heap[K.heap_max]*2+1]=0,he=K.heap_max+1;he<F;he++)De=K.heap[he],me=Oe[Oe[De*2+1]*2+1]+1,me>Be&&(me=Be,He++),Oe[De*2+1]=me,!(De>Me)&&(K.bl_count[me]++,Pe=0,De>=Ie&&(Pe=oe[De-Ie]),Re=Oe[De*2],K.opt_len+=Re*(me+Pe),ke&&(K.static_len+=Re*(_e[De*2+1]+Pe)));if(He!==0){do{for(me=Be-1;K.bl_count[me]===0;)me--;K.bl_count[me]--,K.bl_count[me+1]+=2,K.bl_count[Be]--,He-=2}while(He>0);for(me=Be;me!==0;me--)for(De=K.bl_count[me];De!==0;)ye=K.heap[--he],!(ye>Me)&&(Oe[ye*2+1]!==me&&(K.opt_len+=(me-Oe[ye*2+1])*Oe[ye*2],Oe[ye*2+1]=me),De--)}}function c(K,Se,Oe){var Me=new Array(g+1),_e=0,ke,oe;for(ke=1;ke<=g;ke++)Me[ke]=_e=_e+Oe[ke-1]<<1;for(oe=0;oe<=Se;oe++){var Ie=K[oe*2+1];Ie!==0&&(K[oe*2]=r(Me[Ie]++,Ie))}}function y(){var K,Se,Oe,Me,_e,ke=new Array(g+1);for(Oe=0,Me=0;Me<T-1;Me++)for(X[Me]=Oe,K=0;K<1<<v[Me];K++)P[Oe++]=Me;for(P[Oe-1]=Me,_e=0,Me=0;Me<16;Me++)for(m[Me]=_e,K=0;K<1<<b[Me];K++)_[_e++]=Me;for(_e>>=7;Me<l;Me++)for(m[Me]=_e<<7,K=0;K<1<<b[Me]-7;K++)_[256+_e++]=Me;for(Se=0;Se<=g;Se++)ke[Se]=0;for(K=0;K<=143;)I[K*2+1]=8,K++,ke[8]++;for(;K<=255;)I[K*2+1]=9,K++,ke[9]++;for(;K<=279;)I[K*2+1]=7,K++,ke[7]++;for(;K<=287;)I[K*2+1]=8,K++,ke[8]++;for(c(I,t+1,ke),K=0;K<l;K++)B[K*2+1]=5,B[K*2]=r(K,5);R=new S(I,v,e+1,t,g),z=new S(B,b,0,l,g),O=new S(new Array(0),N,0,L,u)}function q(K){var Se;for(Se=0;Se<t;Se++)K.dyn_ltree[Se*2]=0;for(Se=0;Se<l;Se++)K.dyn_dtree[Se*2]=0;for(Se=0;Se<L;Se++)K.bl_tree[Se*2]=0;K.dyn_ltree[h*2]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function re(K){K.bi_valid>8?M(K,K.bi_buf):K.bi_valid>0&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function Q(K,Se,Oe,Me){re(K),Me&&(M(K,Oe),M(K,~Oe)),j.arraySet(K.pending_buf,K.window,Se,Oe,K.pending),K.pending+=Oe}function de(K,Se,Oe,Me){var _e=Se*2,ke=Oe*2;return K[_e]<K[ke]||K[_e]===K[ke]&&Me[Se]<=Me[Oe]}function ee(K,Se,Oe){for(var Me=K.heap[Oe],_e=Oe<<1;_e<=K.heap_len&&(_e<K.heap_len&&de(Se,K.heap[_e+1],K.heap[_e],K.depth)&&_e++,!de(Se,Me,K.heap[_e],K.depth));)K.heap[Oe]=K.heap[_e],Oe=_e,_e<<=1;K.heap[Oe]=Me}function ue(K,Se,Oe){var Me,_e,ke=0,oe,Ie;if(K.last_lit!==0)do Me=K.pending_buf[K.d_buf+ke*2]<<8|K.pending_buf[K.d_buf+ke*2+1],_e=K.pending_buf[K.l_buf+ke],ke++,Me===0?o(K,_e,Se):(oe=P[_e],o(K,oe+e+1,Se),Ie=v[oe],Ie!==0&&(_e-=X[oe],a(K,_e,Ie)),Me--,oe=k(Me),o(K,oe,Oe),Ie=b[oe],Ie!==0&&(Me-=m[oe],a(K,Me,Ie)));while(ke<K.last_lit);o(K,h,Se)}function W(K,Se){var Oe=Se.dyn_tree,Me=Se.stat_desc.static_tree,_e=Se.stat_desc.has_stree,ke=Se.stat_desc.elems,oe,Ie,Be=-1,he;for(K.heap_len=0,K.heap_max=F,oe=0;oe<ke;oe++)Oe[oe*2]!==0?(K.heap[++K.heap_len]=Be=oe,K.depth[oe]=0):Oe[oe*2+1]=0;for(;K.heap_len<2;)he=K.heap[++K.heap_len]=Be<2?++Be:0,Oe[he*2]=1,K.depth[he]=0,K.opt_len--,_e&&(K.static_len-=Me[he*2+1]);for(Se.max_code=Be,oe=K.heap_len>>1;oe>=1;oe--)ee(K,Oe,oe);he=ke;do oe=K.heap[1],K.heap[1]=K.heap[K.heap_len--],ee(K,Oe,1),Ie=K.heap[1],K.heap[--K.heap_max]=oe,K.heap[--K.heap_max]=Ie,Oe[he*2]=Oe[oe*2]+Oe[Ie*2],K.depth[he]=(K.depth[oe]>=K.depth[Ie]?K.depth[oe]:K.depth[Ie])+1,Oe[oe*2+1]=Oe[Ie*2+1]=he,K.heap[1]=he++,ee(K,Oe,1);while(K.heap_len>=2);K.heap[--K.heap_max]=K.heap[1],A(K,Se),c(Oe,Be,K.bl_count)}function Z(K,Se,Oe){var Me,_e=-1,ke,oe=Se[0*2+1],Ie=0,Be=7,he=4;for(oe===0&&(Be=138,he=3),Se[(Oe+1)*2+1]=65535,Me=0;Me<=Oe;Me++)ke=oe,oe=Se[(Me+1)*2+1],!(++Ie<Be&&ke===oe)&&(Ie<he?K.bl_tree[ke*2]+=Ie:ke!==0?(ke!==_e&&K.bl_tree[ke*2]++,K.bl_tree[i*2]++):Ie<=10?K.bl_tree[x*2]++:K.bl_tree[p*2]++,Ie=0,_e=ke,oe===0?(Be=138,he=3):ke===oe?(Be=6,he=3):(Be=7,he=4))}function se(K,Se,Oe){var Me,_e=-1,ke,oe=Se[0*2+1],Ie=0,Be=7,he=4;for(oe===0&&(Be=138,he=3),Me=0;Me<=Oe;Me++)if(ke=oe,oe=Se[(Me+1)*2+1],!(++Ie<Be&&ke===oe)){if(Ie<he)do o(K,ke,K.bl_tree);while(--Ie!==0);else ke!==0?(ke!==_e&&(o(K,ke,K.bl_tree),Ie--),o(K,i,K.bl_tree),a(K,Ie-3,2)):Ie<=10?(o(K,x,K.bl_tree),a(K,Ie-3,3)):(o(K,p,K.bl_tree),a(K,Ie-11,7));Ie=0,_e=ke,oe===0?(Be=138,he=3):ke===oe?(Be=6,he=3):(Be=7,he=4)}}function ne(K){var Se;for(Z(K,K.dyn_ltree,K.l_desc.max_code),Z(K,K.dyn_dtree,K.d_desc.max_code),W(K,K.bl_desc),Se=L-1;Se>=3&&K.bl_tree[U[Se]*2+1]===0;Se--);return K.opt_len+=3*(Se+1)+5+5+4,Se}function ie(K,Se,Oe,Me){var _e;for(a(K,Se-257,5),a(K,Oe-1,5),a(K,Me-4,4),_e=0;_e<Me;_e++)a(K,K.bl_tree[U[_e]*2+1],3);se(K,K.dyn_ltree,Se-1),se(K,K.dyn_dtree,Oe-1)}function H(K){var Se=4093624447,Oe;for(Oe=0;Oe<=31;Oe++,Se>>>=1)if(Se&1&&K.dyn_ltree[Oe*2]!==0)return be;if(K.dyn_ltree[9*2]!==0||K.dyn_ltree[10*2]!==0||K.dyn_ltree[13*2]!==0)return J;for(Oe=32;Oe<e;Oe++)if(K.dyn_ltree[Oe*2]!==0)return J;return be}var Y=!1;function G(K){Y||(y(),Y=!0),K.l_desc=new E(K.dyn_ltree,R),K.d_desc=new E(K.dyn_dtree,z),K.bl_desc=new E(K.bl_tree,O),K.bi_buf=0,K.bi_valid=0,q(K)}function le(K,Se,Oe,Me){a(K,(fe<<1)+(Me?1:0),3),Q(K,Se,Oe,!0)}function ce(K){a(K,f<<1,3),o(K,h,I),s(K)}function te(K,Se,Oe,Me){var _e,ke,oe=0;K.level>0?(K.strm.data_type===ve&&(K.strm.data_type=H(K)),W(K,K.l_desc),W(K,K.d_desc),oe=ne(K),_e=K.opt_len+3+7>>>3,ke=K.static_len+3+7>>>3,ke<=_e&&(_e=ke)):_e=ke=Oe+5,Oe+4<=_e&&Se!==-1?le(K,Se,Oe,Me):K.strategy===V||ke===_e?(a(K,(f<<1)+(Me?1:0),3),ue(K,I,B)):(a(K,($<<1)+(Me?1:0),3),ie(K,K.l_desc.max_code+1,K.d_desc.max_code+1,oe+1),ue(K,K.dyn_ltree,K.dyn_dtree)),q(K),Me&&re(K)}function ge(K,Se,Oe){return K.pending_buf[K.d_buf+K.last_lit*2]=Se>>>8&255,K.pending_buf[K.d_buf+K.last_lit*2+1]=Se&255,K.pending_buf[K.l_buf+K.last_lit]=Oe&255,K.last_lit++,Se===0?K.dyn_ltree[Oe*2]++:(K.matches++,Se--,K.dyn_ltree[(P[Oe]+e+1)*2]++,K.dyn_dtree[k(Se)*2]++),K.last_lit===K.lit_bufsize-1}return trees._tr_init=G,trees._tr_stored_block=le,trees._tr_flush_block=te,trees._tr_tally=ge,trees._tr_align=ce,trees}var adler32_1,hasRequiredAdler32;function requireAdler32(){if(hasRequiredAdler32)return adler32_1;hasRequiredAdler32=1;function j(V,be,J,ve){for(var we=V&65535|0,fe=V>>>16&65535|0,f=0;J!==0;){f=J>2e3?2e3:J,J-=f;do we=we+be[ve++]|0,fe=fe+we|0;while(--f);we%=65521,fe%=65521}return we|fe<<16|0}return adler32_1=j,adler32_1}var crc32_1,hasRequiredCrc32;function requireCrc32(){if(hasRequiredCrc32)return crc32_1;hasRequiredCrc32=1;function j(){for(var J,ve=[],we=0;we<256;we++){J=we;for(var fe=0;fe<8;fe++)J=J&1?3988292384^J>>>1:J>>>1;ve[we]=J}return ve}var V=j();function be(J,ve,we,fe){var f=V,$=fe+we;J^=-1;for(var n=fe;n<$;n++)J=J>>>8^f[(J^ve[n])&255];return J^-1}return crc32_1=be,crc32_1}var messages,hasRequiredMessages;function requireMessages(){return hasRequiredMessages||(hasRequiredMessages=1,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),messages}var hasRequiredDeflate;function requireDeflate(){if(hasRequiredDeflate)return deflate;hasRequiredDeflate=1;var j=requireCommon(),V=requireTrees(),be=requireAdler32(),J=requireCrc32(),ve=requireMessages(),we=0,fe=1,f=3,$=4,n=5,d=0,T=1,e=-2,t=-3,l=-5,L=-1,F=1,g=2,w=3,u=4,h=0,i=2,x=8,p=9,v=15,b=8,N=29,U=256,D=U+1+N,I=30,B=19,_=2*D+1,P=15,X=3,m=258,S=m+X+1,R=32,z=42,O=69,E=73,k=91,M=103,a=113,o=666,r=1,s=2,A=3,c=4,y=3;function q(he,De){return he.msg=ve[De],De}function re(he){return(he<<1)-(he>4?9:0)}function Q(he){for(var De=he.length;--De>=0;)he[De]=0}function de(he){var De=he.state,ye=De.pending;ye>he.avail_out&&(ye=he.avail_out),ye!==0&&(j.arraySet(he.output,De.pending_buf,De.pending_out,ye,he.next_out),he.next_out+=ye,De.pending_out+=ye,he.total_out+=ye,he.avail_out-=ye,De.pending-=ye,De.pending===0&&(De.pending_out=0))}function ee(he,De){V._tr_flush_block(he,he.block_start>=0?he.block_start:-1,he.strstart-he.block_start,De),he.block_start=he.strstart,de(he.strm)}function ue(he,De){he.pending_buf[he.pending++]=De}function W(he,De){he.pending_buf[he.pending++]=De>>>8&255,he.pending_buf[he.pending++]=De&255}function Z(he,De,ye,me){var Pe=he.avail_in;return Pe>me&&(Pe=me),Pe===0?0:(he.avail_in-=Pe,j.arraySet(De,he.input,he.next_in,Pe,ye),he.state.wrap===1?he.adler=be(he.adler,De,Pe,ye):he.state.wrap===2&&(he.adler=J(he.adler,De,Pe,ye)),he.next_in+=Pe,he.total_in+=Pe,Pe)}function se(he,De){var ye=he.max_chain_length,me=he.strstart,Pe,Re,He=he.prev_length,Xe=he.nice_match,Fe=he.strstart>he.w_size-S?he.strstart-(he.w_size-S):0,ae=he.window,Ae=he.w_mask,Le=he.prev,Ee=he.strstart+m,xe=ae[me+He-1],Te=ae[me+He];he.prev_length>=he.good_match&&(ye>>=2),Xe>he.lookahead&&(Xe=he.lookahead);do if(Pe=De,!(ae[Pe+He]!==Te||ae[Pe+He-1]!==xe||ae[Pe]!==ae[me]||ae[++Pe]!==ae[me+1])){me+=2,Pe++;do;while(ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&ae[++me]===ae[++Pe]&&me<Ee);if(Re=m-(Ee-me),me=Ee-m,Re>He){if(he.match_start=De,He=Re,Re>=Xe)break;xe=ae[me+He-1],Te=ae[me+He]}}while((De=Le[De&Ae])>Fe&&--ye!==0);return He<=he.lookahead?He:he.lookahead}function ne(he){var De=he.w_size,ye,me,Pe,Re,He;do{if(Re=he.window_size-he.lookahead-he.strstart,he.strstart>=De+(De-S)){j.arraySet(he.window,he.window,De,De,0),he.match_start-=De,he.strstart-=De,he.block_start-=De,me=he.hash_size,ye=me;do Pe=he.head[--ye],he.head[ye]=Pe>=De?Pe-De:0;while(--me);me=De,ye=me;do Pe=he.prev[--ye],he.prev[ye]=Pe>=De?Pe-De:0;while(--me);Re+=De}if(he.strm.avail_in===0)break;if(me=Z(he.strm,he.window,he.strstart+he.lookahead,Re),he.lookahead+=me,he.lookahead+he.insert>=X)for(He=he.strstart-he.insert,he.ins_h=he.window[He],he.ins_h=(he.ins_h<<he.hash_shift^he.window[He+1])&he.hash_mask;he.insert&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[He+X-1])&he.hash_mask,he.prev[He&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=He,He++,he.insert--,!(he.lookahead+he.insert<X)););}while(he.lookahead<S&&he.strm.avail_in!==0)}function ie(he,De){var ye=65535;for(ye>he.pending_buf_size-5&&(ye=he.pending_buf_size-5);;){if(he.lookahead<=1){if(ne(he),he.lookahead===0&&De===we)return r;if(he.lookahead===0)break}he.strstart+=he.lookahead,he.lookahead=0;var me=he.block_start+ye;if((he.strstart===0||he.strstart>=me)&&(he.lookahead=he.strstart-me,he.strstart=me,ee(he,!1),he.strm.avail_out===0)||he.strstart-he.block_start>=he.w_size-S&&(ee(he,!1),he.strm.avail_out===0))return r}return he.insert=0,De===$?(ee(he,!0),he.strm.avail_out===0?A:c):(he.strstart>he.block_start&&(ee(he,!1),he.strm.avail_out===0),r)}function H(he,De){for(var ye,me;;){if(he.lookahead<S){if(ne(he),he.lookahead<S&&De===we)return r;if(he.lookahead===0)break}if(ye=0,he.lookahead>=X&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+X-1])&he.hash_mask,ye=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),ye!==0&&he.strstart-ye<=he.w_size-S&&(he.match_length=se(he,ye)),he.match_length>=X)if(me=V._tr_tally(he,he.strstart-he.match_start,he.match_length-X),he.lookahead-=he.match_length,he.match_length<=he.max_lazy_match&&he.lookahead>=X){he.match_length--;do he.strstart++,he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+X-1])&he.hash_mask,ye=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart;while(--he.match_length!==0);he.strstart++}else he.strstart+=he.match_length,he.match_length=0,he.ins_h=he.window[he.strstart],he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+1])&he.hash_mask;else me=V._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++;if(me&&(ee(he,!1),he.strm.avail_out===0))return r}return he.insert=he.strstart<X-1?he.strstart:X-1,De===$?(ee(he,!0),he.strm.avail_out===0?A:c):he.last_lit&&(ee(he,!1),he.strm.avail_out===0)?r:s}function Y(he,De){for(var ye,me,Pe;;){if(he.lookahead<S){if(ne(he),he.lookahead<S&&De===we)return r;if(he.lookahead===0)break}if(ye=0,he.lookahead>=X&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+X-1])&he.hash_mask,ye=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart),he.prev_length=he.match_length,he.prev_match=he.match_start,he.match_length=X-1,ye!==0&&he.prev_length<he.max_lazy_match&&he.strstart-ye<=he.w_size-S&&(he.match_length=se(he,ye),he.match_length<=5&&(he.strategy===F||he.match_length===X&&he.strstart-he.match_start>4096)&&(he.match_length=X-1)),he.prev_length>=X&&he.match_length<=he.prev_length){Pe=he.strstart+he.lookahead-X,me=V._tr_tally(he,he.strstart-1-he.prev_match,he.prev_length-X),he.lookahead-=he.prev_length-1,he.prev_length-=2;do++he.strstart<=Pe&&(he.ins_h=(he.ins_h<<he.hash_shift^he.window[he.strstart+X-1])&he.hash_mask,ye=he.prev[he.strstart&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=he.strstart);while(--he.prev_length!==0);if(he.match_available=0,he.match_length=X-1,he.strstart++,me&&(ee(he,!1),he.strm.avail_out===0))return r}else if(he.match_available){if(me=V._tr_tally(he,0,he.window[he.strstart-1]),me&&ee(he,!1),he.strstart++,he.lookahead--,he.strm.avail_out===0)return r}else he.match_available=1,he.strstart++,he.lookahead--}return he.match_available&&(me=V._tr_tally(he,0,he.window[he.strstart-1]),he.match_available=0),he.insert=he.strstart<X-1?he.strstart:X-1,De===$?(ee(he,!0),he.strm.avail_out===0?A:c):he.last_lit&&(ee(he,!1),he.strm.avail_out===0)?r:s}function G(he,De){for(var ye,me,Pe,Re,He=he.window;;){if(he.lookahead<=m){if(ne(he),he.lookahead<=m&&De===we)return r;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=X&&he.strstart>0&&(Pe=he.strstart-1,me=He[Pe],me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe])){Re=he.strstart+m;do;while(me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&me===He[++Pe]&&Pe<Re);he.match_length=m-(Re-Pe),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=X?(ye=V._tr_tally(he,1,he.match_length-X),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(ye=V._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),ye&&(ee(he,!1),he.strm.avail_out===0))return r}return he.insert=0,De===$?(ee(he,!0),he.strm.avail_out===0?A:c):he.last_lit&&(ee(he,!1),he.strm.avail_out===0)?r:s}function le(he,De){for(var ye;;){if(he.lookahead===0&&(ne(he),he.lookahead===0)){if(De===we)return r;break}if(he.match_length=0,ye=V._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,ye&&(ee(he,!1),he.strm.avail_out===0))return r}return he.insert=0,De===$?(ee(he,!0),he.strm.avail_out===0?A:c):he.last_lit&&(ee(he,!1),he.strm.avail_out===0)?r:s}function ce(he,De,ye,me,Pe){this.good_length=he,this.max_lazy=De,this.nice_length=ye,this.max_chain=me,this.func=Pe}var te;te=[new ce(0,0,0,0,ie),new ce(4,4,8,4,H),new ce(4,5,16,8,H),new ce(4,6,32,32,H),new ce(4,4,16,16,Y),new ce(8,16,32,32,Y),new ce(8,16,128,128,Y),new ce(8,32,128,256,Y),new ce(32,128,258,1024,Y),new ce(32,258,258,4096,Y)];function ge(he){he.window_size=2*he.w_size,Q(he.head),he.max_lazy_match=te[he.level].max_lazy,he.good_match=te[he.level].good_length,he.nice_match=te[he.level].nice_length,he.max_chain_length=te[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=X-1,he.match_available=0,he.ins_h=0}function K(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j.Buf16(_*2),this.dyn_dtree=new j.Buf16((2*I+1)*2),this.bl_tree=new j.Buf16((2*B+1)*2),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j.Buf16(P+1),this.heap=new j.Buf16(2*D+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j.Buf16(2*D+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(he){var De;return!he||!he.state?q(he,e):(he.total_in=he.total_out=0,he.data_type=i,De=he.state,De.pending=0,De.pending_out=0,De.wrap<0&&(De.wrap=-De.wrap),De.status=De.wrap?z:a,he.adler=De.wrap===2?0:1,De.last_flush=we,V._tr_init(De),d)}function Oe(he){var De=Se(he);return De===d&&ge(he.state),De}function Me(he,De){return!he||!he.state||he.state.wrap!==2?e:(he.state.gzhead=De,d)}function _e(he,De,ye,me,Pe,Re){if(!he)return e;var He=1;if(De===L&&(De=6),me<0?(He=0,me=-me):me>15&&(He=2,me-=16),Pe<1||Pe>p||ye!==x||me<8||me>15||De<0||De>9||Re<0||Re>u)return q(he,e);me===8&&(me=9);var Xe=new K;return he.state=Xe,Xe.strm=he,Xe.wrap=He,Xe.gzhead=null,Xe.w_bits=me,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=Pe+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+X-1)/X),Xe.window=new j.Buf8(Xe.w_size*2),Xe.head=new j.Buf16(Xe.hash_size),Xe.prev=new j.Buf16(Xe.w_size),Xe.lit_bufsize=1<<Pe+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new j.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=De,Xe.strategy=Re,Xe.method=ye,Oe(he)}function ke(he,De){return _e(he,De,x,v,b,h)}function oe(he,De){var ye,me,Pe,Re;if(!he||!he.state||De>n||De<0)return he?q(he,e):e;if(me=he.state,!he.output||!he.input&&he.avail_in!==0||me.status===o&&De!==$)return q(he,he.avail_out===0?l:e);if(me.strm=he,ye=me.last_flush,me.last_flush=De,me.status===z)if(me.wrap===2)he.adler=0,ue(me,31),ue(me,139),ue(me,8),me.gzhead?(ue(me,(me.gzhead.text?1:0)+(me.gzhead.hcrc?2:0)+(me.gzhead.extra?4:0)+(me.gzhead.name?8:0)+(me.gzhead.comment?16:0)),ue(me,me.gzhead.time&255),ue(me,me.gzhead.time>>8&255),ue(me,me.gzhead.time>>16&255),ue(me,me.gzhead.time>>24&255),ue(me,me.level===9?2:me.strategy>=g||me.level<2?4:0),ue(me,me.gzhead.os&255),me.gzhead.extra&&me.gzhead.extra.length&&(ue(me,me.gzhead.extra.length&255),ue(me,me.gzhead.extra.length>>8&255)),me.gzhead.hcrc&&(he.adler=J(he.adler,me.pending_buf,me.pending,0)),me.gzindex=0,me.status=O):(ue(me,0),ue(me,0),ue(me,0),ue(me,0),ue(me,0),ue(me,me.level===9?2:me.strategy>=g||me.level<2?4:0),ue(me,y),me.status=a);else{var He=x+(me.w_bits-8<<4)<<8,Xe=-1;me.strategy>=g||me.level<2?Xe=0:me.level<6?Xe=1:me.level===6?Xe=2:Xe=3,He|=Xe<<6,me.strstart!==0&&(He|=R),He+=31-He%31,me.status=a,W(me,He),me.strstart!==0&&(W(me,he.adler>>>16),W(me,he.adler&65535)),he.adler=1}if(me.status===O)if(me.gzhead.extra){for(Pe=me.pending;me.gzindex<(me.gzhead.extra.length&65535)&&!(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),de(he),Pe=me.pending,me.pending===me.pending_buf_size));)ue(me,me.gzhead.extra[me.gzindex]&255),me.gzindex++;me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),me.gzindex===me.gzhead.extra.length&&(me.gzindex=0,me.status=E)}else me.status=E;if(me.status===E)if(me.gzhead.name){Pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),de(he),Pe=me.pending,me.pending===me.pending_buf_size)){Re=1;break}me.gzindex<me.gzhead.name.length?Re=me.gzhead.name.charCodeAt(me.gzindex++)&255:Re=0,ue(me,Re)}while(Re!==0);me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),Re===0&&(me.gzindex=0,me.status=k)}else me.status=k;if(me.status===k)if(me.gzhead.comment){Pe=me.pending;do{if(me.pending===me.pending_buf_size&&(me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),de(he),Pe=me.pending,me.pending===me.pending_buf_size)){Re=1;break}me.gzindex<me.gzhead.comment.length?Re=me.gzhead.comment.charCodeAt(me.gzindex++)&255:Re=0,ue(me,Re)}while(Re!==0);me.gzhead.hcrc&&me.pending>Pe&&(he.adler=J(he.adler,me.pending_buf,me.pending-Pe,Pe)),Re===0&&(me.status=M)}else me.status=M;if(me.status===M&&(me.gzhead.hcrc?(me.pending+2>me.pending_buf_size&&de(he),me.pending+2<=me.pending_buf_size&&(ue(me,he.adler&255),ue(me,he.adler>>8&255),he.adler=0,me.status=a)):me.status=a),me.pending!==0){if(de(he),he.avail_out===0)return me.last_flush=-1,d}else if(he.avail_in===0&&re(De)<=re(ye)&&De!==$)return q(he,l);if(me.status===o&&he.avail_in!==0)return q(he,l);if(he.avail_in!==0||me.lookahead!==0||De!==we&&me.status!==o){var Fe=me.strategy===g?le(me,De):me.strategy===w?G(me,De):te[me.level].func(me,De);if((Fe===A||Fe===c)&&(me.status=o),Fe===r||Fe===A)return he.avail_out===0&&(me.last_flush=-1),d;if(Fe===s&&(De===fe?V._tr_align(me):De!==n&&(V._tr_stored_block(me,0,0,!1),De===f&&(Q(me.head),me.lookahead===0&&(me.strstart=0,me.block_start=0,me.insert=0))),de(he),he.avail_out===0))return me.last_flush=-1,d}return De!==$?d:me.wrap<=0?T:(me.wrap===2?(ue(me,he.adler&255),ue(me,he.adler>>8&255),ue(me,he.adler>>16&255),ue(me,he.adler>>24&255),ue(me,he.total_in&255),ue(me,he.total_in>>8&255),ue(me,he.total_in>>16&255),ue(me,he.total_in>>24&255)):(W(me,he.adler>>>16),W(me,he.adler&65535)),de(he),me.wrap>0&&(me.wrap=-me.wrap),me.pending!==0?d:T)}function Ie(he){var De;return!he||!he.state?e:(De=he.state.status,De!==z&&De!==O&&De!==E&&De!==k&&De!==M&&De!==a&&De!==o?q(he,e):(he.state=null,De===a?q(he,t):d))}function Be(he,De){var ye=De.length,me,Pe,Re,He,Xe,Fe,ae,Ae;if(!he||!he.state||(me=he.state,He=me.wrap,He===2||He===1&&me.status!==z||me.lookahead))return e;for(He===1&&(he.adler=be(he.adler,De,ye,0)),me.wrap=0,ye>=me.w_size&&(He===0&&(Q(me.head),me.strstart=0,me.block_start=0,me.insert=0),Ae=new j.Buf8(me.w_size),j.arraySet(Ae,De,ye-me.w_size,me.w_size,0),De=Ae,ye=me.w_size),Xe=he.avail_in,Fe=he.next_in,ae=he.input,he.avail_in=ye,he.next_in=0,he.input=De,ne(me);me.lookahead>=X;){Pe=me.strstart,Re=me.lookahead-(X-1);do me.ins_h=(me.ins_h<<me.hash_shift^me.window[Pe+X-1])&me.hash_mask,me.prev[Pe&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=Pe,Pe++;while(--Re);me.strstart=Pe,me.lookahead=X-1,ne(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=X-1,me.match_available=0,he.next_in=Fe,he.input=ae,he.avail_in=Xe,me.wrap=He,d}return deflate.deflateInit=ke,deflate.deflateInit2=_e,deflate.deflateReset=Oe,deflate.deflateResetKeep=Se,deflate.deflateSetHeader=Me,deflate.deflate=oe,deflate.deflateEnd=Ie,deflate.deflateSetDictionary=Be,deflate.deflateInfo="pako deflate (from Nodeca project)",deflate}var inflate={},inffast,hasRequiredInffast;function requireInffast(){if(hasRequiredInffast)return inffast;hasRequiredInffast=1;var j=30,V=12;return inffast=function(J,ve){var we,fe,f,$,n,d,T,e,t,l,L,F,g,w,u,h,i,x,p,v,b,N,U,D,I;we=J.state,fe=J.next_in,D=J.input,f=fe+(J.avail_in-5),$=J.next_out,I=J.output,n=$-(ve-J.avail_out),d=$+(J.avail_out-257),T=we.dmax,e=we.wsize,t=we.whave,l=we.wnext,L=we.window,F=we.hold,g=we.bits,w=we.lencode,u=we.distcode,h=(1<<we.lenbits)-1,i=(1<<we.distbits)-1;e:do{g<15&&(F+=D[fe++]<<g,g+=8,F+=D[fe++]<<g,g+=8),x=w[F&h];t:for(;;){if(p=x>>>24,F>>>=p,g-=p,p=x>>>16&255,p===0)I[$++]=x&65535;else if(p&16){v=x&65535,p&=15,p&&(g<p&&(F+=D[fe++]<<g,g+=8),v+=F&(1<<p)-1,F>>>=p,g-=p),g<15&&(F+=D[fe++]<<g,g+=8,F+=D[fe++]<<g,g+=8),x=u[F&i];n:for(;;){if(p=x>>>24,F>>>=p,g-=p,p=x>>>16&255,p&16){if(b=x&65535,p&=15,g<p&&(F+=D[fe++]<<g,g+=8,g<p&&(F+=D[fe++]<<g,g+=8)),b+=F&(1<<p)-1,b>T){J.msg="invalid distance too far back",we.mode=j;break e}if(F>>>=p,g-=p,p=$-n,b>p){if(p=b-p,p>t&&we.sane){J.msg="invalid distance too far back",we.mode=j;break e}if(N=0,U=L,l===0){if(N+=e-p,p<v){v-=p;do I[$++]=L[N++];while(--p);N=$-b,U=I}}else if(l<p){if(N+=e+l-p,p-=l,p<v){v-=p;do I[$++]=L[N++];while(--p);if(N=0,l<v){p=l,v-=p;do I[$++]=L[N++];while(--p);N=$-b,U=I}}}else if(N+=l-p,p<v){v-=p;do I[$++]=L[N++];while(--p);N=$-b,U=I}for(;v>2;)I[$++]=U[N++],I[$++]=U[N++],I[$++]=U[N++],v-=3;v&&(I[$++]=U[N++],v>1&&(I[$++]=U[N++]))}else{N=$-b;do I[$++]=I[N++],I[$++]=I[N++],I[$++]=I[N++],v-=3;while(v>2);v&&(I[$++]=I[N++],v>1&&(I[$++]=I[N++]))}}else if(p&64){J.msg="invalid distance code",we.mode=j;break e}else{x=u[(x&65535)+(F&(1<<p)-1)];continue n}break}}else if(p&64)if(p&32){we.mode=V;break e}else{J.msg="invalid literal/length code",we.mode=j;break e}else{x=w[(x&65535)+(F&(1<<p)-1)];continue t}break}}while(fe<f&&$<d);v=g>>3,fe-=v,g-=v<<3,F&=(1<<g)-1,J.next_in=fe,J.next_out=$,J.avail_in=fe<f?5+(f-fe):5-(fe-f),J.avail_out=$<d?257+(d-$):257-($-d),we.hold=F,we.bits=g},inffast}var inftrees,hasRequiredInftrees;function requireInftrees(){if(hasRequiredInftrees)return inftrees;hasRequiredInftrees=1;var j=requireCommon(),V=15,be=852,J=592,ve=0,we=1,fe=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],$=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return inftrees=function(e,t,l,L,F,g,w,u){var h=u.bits,i=0,x=0,p=0,v=0,b=0,N=0,U=0,D=0,I=0,B=0,_,P,X,m,S,R=null,z=0,O,E=new j.Buf16(V+1),k=new j.Buf16(V+1),M=null,a=0,o,r,s;for(i=0;i<=V;i++)E[i]=0;for(x=0;x<L;x++)E[t[l+x]]++;for(b=h,v=V;v>=1&&E[v]===0;v--);if(b>v&&(b=v),v===0)return F[g++]=1<<24|64<<16|0,F[g++]=1<<24|64<<16|0,u.bits=1,0;for(p=1;p<v&&E[p]===0;p++);for(b<p&&(b=p),D=1,i=1;i<=V;i++)if(D<<=1,D-=E[i],D<0)return-1;if(D>0&&(e===ve||v!==1))return-1;for(k[1]=0,i=1;i<V;i++)k[i+1]=k[i]+E[i];for(x=0;x<L;x++)t[l+x]!==0&&(w[k[t[l+x]]++]=x);if(e===ve?(R=M=w,O=19):e===we?(R=f,z-=257,M=$,a-=257,O=256):(R=n,M=d,O=-1),B=0,x=0,i=p,S=g,N=b,U=0,X=-1,I=1<<b,m=I-1,e===we&&I>be||e===fe&&I>J)return 1;for(;;){o=i-U,w[x]<O?(r=0,s=w[x]):w[x]>O?(r=M[a+w[x]],s=R[z+w[x]]):(r=96,s=0),_=1<<i-U,P=1<<N,p=P;do P-=_,F[S+(B>>U)+P]=o<<24|r<<16|s|0;while(P!==0);for(_=1<<i-1;B&_;)_>>=1;if(_!==0?(B&=_-1,B+=_):B=0,x++,--E[i]===0){if(i===v)break;i=t[l+w[x]]}if(i>b&&(B&m)!==X){for(U===0&&(U=b),S+=p,N=i-U,D=1<<N;N+U<v&&(D-=E[N+U],!(D<=0));)N++,D<<=1;if(I+=1<<N,e===we&&I>be||e===fe&&I>J)return 1;X=B&m,F[X]=b<<24|N<<16|S-g|0}}return B!==0&&(F[S+B]=i-U<<24|64<<16|0),u.bits=b,0},inftrees}var hasRequiredInflate;function requireInflate(){if(hasRequiredInflate)return inflate;hasRequiredInflate=1;var j=requireCommon(),V=requireAdler32(),be=requireCrc32(),J=requireInffast(),ve=requireInftrees(),we=0,fe=1,f=2,$=4,n=5,d=6,T=0,e=1,t=2,l=-2,L=-3,F=-4,g=-5,w=8,u=1,h=2,i=3,x=4,p=5,v=6,b=7,N=8,U=9,D=10,I=11,B=12,_=13,P=14,X=15,m=16,S=17,R=18,z=19,O=20,E=21,k=22,M=23,a=24,o=25,r=26,s=27,A=28,c=29,y=30,q=31,re=32,Q=852,de=592,ee=15,ue=ee;function W(_e){return(_e>>>24&255)+(_e>>>8&65280)+((_e&65280)<<8)+((_e&255)<<24)}function Z(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new j.Buf16(320),this.work=new j.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(_e){var ke;return!_e||!_e.state?l:(ke=_e.state,_e.total_in=_e.total_out=ke.total=0,_e.msg="",ke.wrap&&(_e.adler=ke.wrap&1),ke.mode=u,ke.last=0,ke.havedict=0,ke.dmax=32768,ke.head=null,ke.hold=0,ke.bits=0,ke.lencode=ke.lendyn=new j.Buf32(Q),ke.distcode=ke.distdyn=new j.Buf32(de),ke.sane=1,ke.back=-1,T)}function ne(_e){var ke;return!_e||!_e.state?l:(ke=_e.state,ke.wsize=0,ke.whave=0,ke.wnext=0,se(_e))}function ie(_e,ke){var oe,Ie;return!_e||!_e.state||(Ie=_e.state,ke<0?(oe=0,ke=-ke):(oe=(ke>>4)+1,ke<48&&(ke&=15)),ke&&(ke<8||ke>15))?l:(Ie.window!==null&&Ie.wbits!==ke&&(Ie.window=null),Ie.wrap=oe,Ie.wbits=ke,ne(_e))}function H(_e,ke){var oe,Ie;return _e?(Ie=new Z,_e.state=Ie,Ie.window=null,oe=ie(_e,ke),oe!==T&&(_e.state=null),oe):l}function Y(_e){return H(_e,ue)}var G=!0,le,ce;function te(_e){if(G){var ke;for(le=new j.Buf32(512),ce=new j.Buf32(32),ke=0;ke<144;)_e.lens[ke++]=8;for(;ke<256;)_e.lens[ke++]=9;for(;ke<280;)_e.lens[ke++]=7;for(;ke<288;)_e.lens[ke++]=8;for(ve(fe,_e.lens,0,288,le,0,_e.work,{bits:9}),ke=0;ke<32;)_e.lens[ke++]=5;ve(f,_e.lens,0,32,ce,0,_e.work,{bits:5}),G=!1}_e.lencode=le,_e.lenbits=9,_e.distcode=ce,_e.distbits=5}function ge(_e,ke,oe,Ie){var Be,he=_e.state;return he.window===null&&(he.wsize=1<<he.wbits,he.wnext=0,he.whave=0,he.window=new j.Buf8(he.wsize)),Ie>=he.wsize?(j.arraySet(he.window,ke,oe-he.wsize,he.wsize,0),he.wnext=0,he.whave=he.wsize):(Be=he.wsize-he.wnext,Be>Ie&&(Be=Ie),j.arraySet(he.window,ke,oe-Ie,Be,he.wnext),Ie-=Be,Ie?(j.arraySet(he.window,ke,oe-Ie,Ie,0),he.wnext=Ie,he.whave=he.wsize):(he.wnext+=Be,he.wnext===he.wsize&&(he.wnext=0),he.whave<he.wsize&&(he.whave+=Be))),0}function K(_e,ke){var oe,Ie,Be,he,De,ye,me,Pe,Re,He,Xe,Fe,ae,Ae,Le=0,Ee,xe,Te,Ne,$e,Ue,ze,Ge,Ve=new j.Buf8(4),Ke,et,rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_e||!_e.state||!_e.output||!_e.input&&_e.avail_in!==0)return l;oe=_e.state,oe.mode===B&&(oe.mode=_),De=_e.next_out,Be=_e.output,me=_e.avail_out,he=_e.next_in,Ie=_e.input,ye=_e.avail_in,Pe=oe.hold,Re=oe.bits,He=ye,Xe=me,Ge=T;e:for(;;)switch(oe.mode){case u:if(oe.wrap===0){oe.mode=_;break}for(;Re<16;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(oe.wrap&2&&Pe===35615){oe.check=0,Ve[0]=Pe&255,Ve[1]=Pe>>>8&255,oe.check=be(oe.check,Ve,2,0),Pe=0,Re=0,oe.mode=h;break}if(oe.flags=0,oe.head&&(oe.head.done=!1),!(oe.wrap&1)||(((Pe&255)<<8)+(Pe>>8))%31){_e.msg="incorrect header check",oe.mode=y;break}if((Pe&15)!==w){_e.msg="unknown compression method",oe.mode=y;break}if(Pe>>>=4,Re-=4,ze=(Pe&15)+8,oe.wbits===0)oe.wbits=ze;else if(ze>oe.wbits){_e.msg="invalid window size",oe.mode=y;break}oe.dmax=1<<ze,_e.adler=oe.check=1,oe.mode=Pe&512?D:B,Pe=0,Re=0;break;case h:for(;Re<16;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(oe.flags=Pe,(oe.flags&255)!==w){_e.msg="unknown compression method",oe.mode=y;break}if(oe.flags&57344){_e.msg="unknown header flags set",oe.mode=y;break}oe.head&&(oe.head.text=Pe>>8&1),oe.flags&512&&(Ve[0]=Pe&255,Ve[1]=Pe>>>8&255,oe.check=be(oe.check,Ve,2,0)),Pe=0,Re=0,oe.mode=i;case i:for(;Re<32;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.head&&(oe.head.time=Pe),oe.flags&512&&(Ve[0]=Pe&255,Ve[1]=Pe>>>8&255,Ve[2]=Pe>>>16&255,Ve[3]=Pe>>>24&255,oe.check=be(oe.check,Ve,4,0)),Pe=0,Re=0,oe.mode=x;case x:for(;Re<16;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.head&&(oe.head.xflags=Pe&255,oe.head.os=Pe>>8),oe.flags&512&&(Ve[0]=Pe&255,Ve[1]=Pe>>>8&255,oe.check=be(oe.check,Ve,2,0)),Pe=0,Re=0,oe.mode=p;case p:if(oe.flags&1024){for(;Re<16;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.length=Pe,oe.head&&(oe.head.extra_len=Pe),oe.flags&512&&(Ve[0]=Pe&255,Ve[1]=Pe>>>8&255,oe.check=be(oe.check,Ve,2,0)),Pe=0,Re=0}else oe.head&&(oe.head.extra=null);oe.mode=v;case v:if(oe.flags&1024&&(Fe=oe.length,Fe>ye&&(Fe=ye),Fe&&(oe.head&&(ze=oe.head.extra_len-oe.length,oe.head.extra||(oe.head.extra=new Array(oe.head.extra_len)),j.arraySet(oe.head.extra,Ie,he,Fe,ze)),oe.flags&512&&(oe.check=be(oe.check,Ie,Fe,he)),ye-=Fe,he+=Fe,oe.length-=Fe),oe.length))break e;oe.length=0,oe.mode=b;case b:if(oe.flags&2048){if(ye===0)break e;Fe=0;do ze=Ie[he+Fe++],oe.head&&ze&&oe.length<65536&&(oe.head.name+=String.fromCharCode(ze));while(ze&&Fe<ye);if(oe.flags&512&&(oe.check=be(oe.check,Ie,Fe,he)),ye-=Fe,he+=Fe,ze)break e}else oe.head&&(oe.head.name=null);oe.length=0,oe.mode=N;case N:if(oe.flags&4096){if(ye===0)break e;Fe=0;do ze=Ie[he+Fe++],oe.head&&ze&&oe.length<65536&&(oe.head.comment+=String.fromCharCode(ze));while(ze&&Fe<ye);if(oe.flags&512&&(oe.check=be(oe.check,Ie,Fe,he)),ye-=Fe,he+=Fe,ze)break e}else oe.head&&(oe.head.comment=null);oe.mode=U;case U:if(oe.flags&512){for(;Re<16;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(Pe!==(oe.check&65535)){_e.msg="header crc mismatch",oe.mode=y;break}Pe=0,Re=0}oe.head&&(oe.head.hcrc=oe.flags>>9&1,oe.head.done=!0),_e.adler=oe.check=0,oe.mode=B;break;case D:for(;Re<32;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}_e.adler=oe.check=W(Pe),Pe=0,Re=0,oe.mode=I;case I:if(oe.havedict===0)return _e.next_out=De,_e.avail_out=me,_e.next_in=he,_e.avail_in=ye,oe.hold=Pe,oe.bits=Re,t;_e.adler=oe.check=1,oe.mode=B;case B:if(ke===n||ke===d)break e;case _:if(oe.last){Pe>>>=Re&7,Re-=Re&7,oe.mode=s;break}for(;Re<3;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}switch(oe.last=Pe&1,Pe>>>=1,Re-=1,Pe&3){case 0:oe.mode=P;break;case 1:if(te(oe),oe.mode=O,ke===d){Pe>>>=2,Re-=2;break e}break;case 2:oe.mode=S;break;case 3:_e.msg="invalid block type",oe.mode=y}Pe>>>=2,Re-=2;break;case P:for(Pe>>>=Re&7,Re-=Re&7;Re<32;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if((Pe&65535)!==(Pe>>>16^65535)){_e.msg="invalid stored block lengths",oe.mode=y;break}if(oe.length=Pe&65535,Pe=0,Re=0,oe.mode=X,ke===d)break e;case X:oe.mode=m;case m:if(Fe=oe.length,Fe){if(Fe>ye&&(Fe=ye),Fe>me&&(Fe=me),Fe===0)break e;j.arraySet(Be,Ie,he,Fe,De),ye-=Fe,he+=Fe,me-=Fe,De+=Fe,oe.length-=Fe;break}oe.mode=B;break;case S:for(;Re<14;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(oe.nlen=(Pe&31)+257,Pe>>>=5,Re-=5,oe.ndist=(Pe&31)+1,Pe>>>=5,Re-=5,oe.ncode=(Pe&15)+4,Pe>>>=4,Re-=4,oe.nlen>286||oe.ndist>30){_e.msg="too many length or distance symbols",oe.mode=y;break}oe.have=0,oe.mode=R;case R:for(;oe.have<oe.ncode;){for(;Re<3;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.lens[rt[oe.have++]]=Pe&7,Pe>>>=3,Re-=3}for(;oe.have<19;)oe.lens[rt[oe.have++]]=0;if(oe.lencode=oe.lendyn,oe.lenbits=7,Ke={bits:oe.lenbits},Ge=ve(we,oe.lens,0,19,oe.lencode,0,oe.work,Ke),oe.lenbits=Ke.bits,Ge){_e.msg="invalid code lengths set",oe.mode=y;break}oe.have=0,oe.mode=z;case z:for(;oe.have<oe.nlen+oe.ndist;){for(;Le=oe.lencode[Pe&(1<<oe.lenbits)-1],Ee=Le>>>24,xe=Le>>>16&255,Te=Le&65535,!(Ee<=Re);){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(Te<16)Pe>>>=Ee,Re-=Ee,oe.lens[oe.have++]=Te;else{if(Te===16){for(et=Ee+2;Re<et;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(Pe>>>=Ee,Re-=Ee,oe.have===0){_e.msg="invalid bit length repeat",oe.mode=y;break}ze=oe.lens[oe.have-1],Fe=3+(Pe&3),Pe>>>=2,Re-=2}else if(Te===17){for(et=Ee+3;Re<et;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}Pe>>>=Ee,Re-=Ee,ze=0,Fe=3+(Pe&7),Pe>>>=3,Re-=3}else{for(et=Ee+7;Re<et;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}Pe>>>=Ee,Re-=Ee,ze=0,Fe=11+(Pe&127),Pe>>>=7,Re-=7}if(oe.have+Fe>oe.nlen+oe.ndist){_e.msg="invalid bit length repeat",oe.mode=y;break}for(;Fe--;)oe.lens[oe.have++]=ze}}if(oe.mode===y)break;if(oe.lens[256]===0){_e.msg="invalid code -- missing end-of-block",oe.mode=y;break}if(oe.lenbits=9,Ke={bits:oe.lenbits},Ge=ve(fe,oe.lens,0,oe.nlen,oe.lencode,0,oe.work,Ke),oe.lenbits=Ke.bits,Ge){_e.msg="invalid literal/lengths set",oe.mode=y;break}if(oe.distbits=6,oe.distcode=oe.distdyn,Ke={bits:oe.distbits},Ge=ve(f,oe.lens,oe.nlen,oe.ndist,oe.distcode,0,oe.work,Ke),oe.distbits=Ke.bits,Ge){_e.msg="invalid distances set",oe.mode=y;break}if(oe.mode=O,ke===d)break e;case O:oe.mode=E;case E:if(ye>=6&&me>=258){_e.next_out=De,_e.avail_out=me,_e.next_in=he,_e.avail_in=ye,oe.hold=Pe,oe.bits=Re,J(_e,Xe),De=_e.next_out,Be=_e.output,me=_e.avail_out,he=_e.next_in,Ie=_e.input,ye=_e.avail_in,Pe=oe.hold,Re=oe.bits,oe.mode===B&&(oe.back=-1);break}for(oe.back=0;Le=oe.lencode[Pe&(1<<oe.lenbits)-1],Ee=Le>>>24,xe=Le>>>16&255,Te=Le&65535,!(Ee<=Re);){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(xe&&!(xe&240)){for(Ne=Ee,$e=xe,Ue=Te;Le=oe.lencode[Ue+((Pe&(1<<Ne+$e)-1)>>Ne)],Ee=Le>>>24,xe=Le>>>16&255,Te=Le&65535,!(Ne+Ee<=Re);){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}Pe>>>=Ne,Re-=Ne,oe.back+=Ne}if(Pe>>>=Ee,Re-=Ee,oe.back+=Ee,oe.length=Te,xe===0){oe.mode=r;break}if(xe&32){oe.back=-1,oe.mode=B;break}if(xe&64){_e.msg="invalid literal/length code",oe.mode=y;break}oe.extra=xe&15,oe.mode=k;case k:if(oe.extra){for(et=oe.extra;Re<et;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.length+=Pe&(1<<oe.extra)-1,Pe>>>=oe.extra,Re-=oe.extra,oe.back+=oe.extra}oe.was=oe.length,oe.mode=M;case M:for(;Le=oe.distcode[Pe&(1<<oe.distbits)-1],Ee=Le>>>24,xe=Le>>>16&255,Te=Le&65535,!(Ee<=Re);){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(!(xe&240)){for(Ne=Ee,$e=xe,Ue=Te;Le=oe.distcode[Ue+((Pe&(1<<Ne+$e)-1)>>Ne)],Ee=Le>>>24,xe=Le>>>16&255,Te=Le&65535,!(Ne+Ee<=Re);){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}Pe>>>=Ne,Re-=Ne,oe.back+=Ne}if(Pe>>>=Ee,Re-=Ee,oe.back+=Ee,xe&64){_e.msg="invalid distance code",oe.mode=y;break}oe.offset=Te,oe.extra=xe&15,oe.mode=a;case a:if(oe.extra){for(et=oe.extra;Re<et;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}oe.offset+=Pe&(1<<oe.extra)-1,Pe>>>=oe.extra,Re-=oe.extra,oe.back+=oe.extra}if(oe.offset>oe.dmax){_e.msg="invalid distance too far back",oe.mode=y;break}oe.mode=o;case o:if(me===0)break e;if(Fe=Xe-me,oe.offset>Fe){if(Fe=oe.offset-Fe,Fe>oe.whave&&oe.sane){_e.msg="invalid distance too far back",oe.mode=y;break}Fe>oe.wnext?(Fe-=oe.wnext,ae=oe.wsize-Fe):ae=oe.wnext-Fe,Fe>oe.length&&(Fe=oe.length),Ae=oe.window}else Ae=Be,ae=De-oe.offset,Fe=oe.length;Fe>me&&(Fe=me),me-=Fe,oe.length-=Fe;do Be[De++]=Ae[ae++];while(--Fe);oe.length===0&&(oe.mode=E);break;case r:if(me===0)break e;Be[De++]=oe.length,me--,oe.mode=E;break;case s:if(oe.wrap){for(;Re<32;){if(ye===0)break e;ye--,Pe|=Ie[he++]<<Re,Re+=8}if(Xe-=me,_e.total_out+=Xe,oe.total+=Xe,Xe&&(_e.adler=oe.check=oe.flags?be(oe.check,Be,Xe,De-Xe):V(oe.check,Be,Xe,De-Xe)),Xe=me,(oe.flags?Pe:W(Pe))!==oe.check){_e.msg="incorrect data check",oe.mode=y;break}Pe=0,Re=0}oe.mode=A;case A:if(oe.wrap&&oe.flags){for(;Re<32;){if(ye===0)break e;ye--,Pe+=Ie[he++]<<Re,Re+=8}if(Pe!==(oe.total&4294967295)){_e.msg="incorrect length check",oe.mode=y;break}Pe=0,Re=0}oe.mode=c;case c:Ge=e;break e;case y:Ge=L;break e;case q:return F;case re:default:return l}return _e.next_out=De,_e.avail_out=me,_e.next_in=he,_e.avail_in=ye,oe.hold=Pe,oe.bits=Re,(oe.wsize||Xe!==_e.avail_out&&oe.mode<y&&(oe.mode<s||ke!==$))&&ge(_e,_e.output,_e.next_out,Xe-_e.avail_out),He-=_e.avail_in,Xe-=_e.avail_out,_e.total_in+=He,_e.total_out+=Xe,oe.total+=Xe,oe.wrap&&Xe&&(_e.adler=oe.check=oe.flags?be(oe.check,Be,Xe,_e.next_out-Xe):V(oe.check,Be,Xe,_e.next_out-Xe)),_e.data_type=oe.bits+(oe.last?64:0)+(oe.mode===B?128:0)+(oe.mode===O||oe.mode===X?256:0),(He===0&&Xe===0||ke===$)&&Ge===T&&(Ge=g),Ge}function Se(_e){if(!_e||!_e.state)return l;var ke=_e.state;return ke.window&&(ke.window=null),_e.state=null,T}function Oe(_e,ke){var oe;return!_e||!_e.state||(oe=_e.state,!(oe.wrap&2))?l:(oe.head=ke,ke.done=!1,T)}function Me(_e,ke){var oe=ke.length,Ie,Be,he;return!_e||!_e.state||(Ie=_e.state,Ie.wrap!==0&&Ie.mode!==I)?l:Ie.mode===I&&(Be=1,Be=V(Be,ke,oe,0),Be!==Ie.check)?L:(he=ge(_e,ke,oe,oe),he?(Ie.mode=q,F):(Ie.havedict=1,T))}return inflate.inflateReset=ne,inflate.inflateReset2=ie,inflate.inflateResetKeep=se,inflate.inflateInit=Y,inflate.inflateInit2=H,inflate.inflate=K,inflate.inflateEnd=Se,inflate.inflateGetHeader=Oe,inflate.inflateSetDictionary=Me,inflate.inflateInfo="pako inflate (from Nodeca project)",inflate}var constants,hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),constants}var hasRequiredBinding;function requireBinding(){return hasRequiredBinding||(hasRequiredBinding=1,function(j){var V=requireAssert(),be=requireZstream(),J=requireDeflate(),ve=requireInflate(),we=requireConstants();for(var fe in we)j[fe]=we[fe];j.NONE=0,j.DEFLATE=1,j.INFLATE=2,j.GZIP=3,j.GUNZIP=4,j.DEFLATERAW=5,j.INFLATERAW=6,j.UNZIP=7;var f=31,$=139;function n(d){if(typeof d!="number"||d<j.DEFLATE||d>j.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=d,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}n.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,V(this.init_done,"close before init"),V(this.mode<=j.UNZIP),this.mode===j.DEFLATE||this.mode===j.GZIP||this.mode===j.DEFLATERAW?J.deflateEnd(this.strm):(this.mode===j.INFLATE||this.mode===j.GUNZIP||this.mode===j.INFLATERAW||this.mode===j.UNZIP)&&ve.inflateEnd(this.strm),this.mode=j.NONE,this.dictionary=null},n.prototype.write=function(d,T,e,t,l,L,F){return this._write(!0,d,T,e,t,l,L,F)},n.prototype.writeSync=function(d,T,e,t,l,L,F){return this._write(!1,d,T,e,t,l,L,F)},n.prototype._write=function(d,T,e,t,l,L,F,g){if(V.equal(arguments.length,8),V(this.init_done,"write before init"),V(this.mode!==j.NONE,"already finalized"),V.equal(!1,this.write_in_progress,"write already in progress"),V.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,V.equal(!1,T===void 0,"must provide flush value"),this.write_in_progress=!0,T!==j.Z_NO_FLUSH&&T!==j.Z_PARTIAL_FLUSH&&T!==j.Z_SYNC_FLUSH&&T!==j.Z_FULL_FLUSH&&T!==j.Z_FINISH&&T!==j.Z_BLOCK)throw new Error("Invalid flush value");if(e==null&&(e=Buffer.alloc(0),l=0,t=0),this.strm.avail_in=l,this.strm.input=e,this.strm.next_in=t,this.strm.avail_out=g,this.strm.output=L,this.strm.next_out=F,this.flush=T,!d)return this._process(),this._checkError()?this._afterSync():void 0;var w=this;return process$1.nextTick(function(){w._process(),w._after()}),this},n.prototype._afterSync=function(){var d=this.strm.avail_out,T=this.strm.avail_in;return this.write_in_progress=!1,[T,d]},n.prototype._process=function(){var d=null;switch(this.mode){case j.DEFLATE:case j.GZIP:case j.DEFLATERAW:this.err=J.deflate(this.strm,this.flush);break;case j.UNZIP:switch(this.strm.avail_in>0&&(d=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(d===null)break;if(this.strm.input[d]===f){if(this.gzip_id_bytes_read=1,d++,this.strm.avail_in===1)break}else{this.mode=j.INFLATE;break}case 1:if(d===null)break;this.strm.input[d]===$?(this.gzip_id_bytes_read=2,this.mode=j.GUNZIP):this.mode=j.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case j.INFLATE:case j.GUNZIP:case j.INFLATERAW:for(this.err=ve.inflate(this.strm,this.flush),this.err===j.Z_NEED_DICT&&this.dictionary&&(this.err=ve.inflateSetDictionary(this.strm,this.dictionary),this.err===j.Z_OK?this.err=ve.inflate(this.strm,this.flush):this.err===j.Z_DATA_ERROR&&(this.err=j.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===j.GUNZIP&&this.err===j.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=ve.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},n.prototype._checkError=function(){switch(this.err){case j.Z_OK:case j.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===j.Z_FINISH)return this._error("unexpected end of file"),!1;break;case j.Z_STREAM_END:break;case j.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},n.prototype._after=function(){if(this._checkError()){var d=this.strm.avail_out,T=this.strm.avail_in;this.write_in_progress=!1,this.callback(T,d),this.pending_close&&this.close()}},n.prototype._error=function(d){this.strm.msg&&(d=this.strm.msg),this.onerror(d,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},n.prototype.init=function(d,T,e,t,l){V(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),V(d>=8&&d<=15,"invalid windowBits"),V(T>=-1&&T<=9,"invalid compression level"),V(e>=1&&e<=9,"invalid memlevel"),V(t===j.Z_FILTERED||t===j.Z_HUFFMAN_ONLY||t===j.Z_RLE||t===j.Z_FIXED||t===j.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(T,d,e,t,l),this._setDictionary()},n.prototype.params=function(){throw new Error("deflateParams Not supported")},n.prototype.reset=function(){this._reset(),this._setDictionary()},n.prototype._init=function(d,T,e,t,l){switch(this.level=d,this.windowBits=T,this.memLevel=e,this.strategy=t,this.flush=j.Z_NO_FLUSH,this.err=j.Z_OK,(this.mode===j.GZIP||this.mode===j.GUNZIP)&&(this.windowBits+=16),this.mode===j.UNZIP&&(this.windowBits+=32),(this.mode===j.DEFLATERAW||this.mode===j.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new be,this.mode){case j.DEFLATE:case j.GZIP:case j.DEFLATERAW:this.err=J.deflateInit2(this.strm,this.level,j.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case j.INFLATE:case j.GUNZIP:case j.INFLATERAW:case j.UNZIP:this.err=ve.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==j.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},n.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=j.Z_OK,this.mode){case j.DEFLATE:case j.DEFLATERAW:this.err=J.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==j.Z_OK&&this._error("Failed to set dictionary")}},n.prototype._reset=function(){switch(this.err=j.Z_OK,this.mode){case j.DEFLATE:case j.DEFLATERAW:case j.GZIP:this.err=J.deflateReset(this.strm);break;case j.INFLATE:case j.INFLATERAW:case j.GUNZIP:this.err=ve.inflateReset(this.strm);break}this.err!==j.Z_OK&&this._error("Failed to reset stream")},j.Zlib=n}(binding)),binding}var hasRequiredLib;function requireLib(){return hasRequiredLib||(hasRequiredLib=1,function(j){var V=requireDist().Buffer,be=requireStreamBrowserify().Transform,J=requireBinding(),ve=requireUtil(),we=requireAssert().ok,fe=requireDist().kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+fe.toString(16)+" bytes";J.Z_MIN_WINDOWBITS=8,J.Z_MAX_WINDOWBITS=15,J.Z_DEFAULT_WINDOWBITS=15,J.Z_MIN_CHUNK=64,J.Z_MAX_CHUNK=1/0,J.Z_DEFAULT_CHUNK=16*1024,J.Z_MIN_MEMLEVEL=1,J.Z_MAX_MEMLEVEL=9,J.Z_DEFAULT_MEMLEVEL=8,J.Z_MIN_LEVEL=-1,J.Z_MAX_LEVEL=9,J.Z_DEFAULT_LEVEL=J.Z_DEFAULT_COMPRESSION;for(var $=Object.keys(J),n=0;n<$.length;n++){var d=$[n];d.match(/^Z/)&&Object.defineProperty(j,d,{enumerable:!0,value:J[d],writable:!1})}for(var T={Z_OK:J.Z_OK,Z_STREAM_END:J.Z_STREAM_END,Z_NEED_DICT:J.Z_NEED_DICT,Z_ERRNO:J.Z_ERRNO,Z_STREAM_ERROR:J.Z_STREAM_ERROR,Z_DATA_ERROR:J.Z_DATA_ERROR,Z_MEM_ERROR:J.Z_MEM_ERROR,Z_BUF_ERROR:J.Z_BUF_ERROR,Z_VERSION_ERROR:J.Z_VERSION_ERROR},e=Object.keys(T),t=0;t<e.length;t++){var l=e[t];T[T[l]]=l}Object.defineProperty(j,"codes",{enumerable:!0,value:Object.freeze(T),writable:!1}),j.Deflate=g,j.Inflate=w,j.Gzip=u,j.Gunzip=h,j.DeflateRaw=i,j.InflateRaw=x,j.Unzip=p,j.createDeflate=function(D){return new g(D)},j.createInflate=function(D){return new w(D)},j.createDeflateRaw=function(D){return new i(D)},j.createInflateRaw=function(D){return new x(D)},j.createGzip=function(D){return new u(D)},j.createGunzip=function(D){return new h(D)},j.createUnzip=function(D){return new p(D)},j.deflate=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new g(I),D,B)},j.deflateSync=function(D,I){return F(new g(I),D)},j.gzip=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new u(I),D,B)},j.gzipSync=function(D,I){return F(new u(I),D)},j.deflateRaw=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new i(I),D,B)},j.deflateRawSync=function(D,I){return F(new i(I),D)},j.unzip=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new p(I),D,B)},j.unzipSync=function(D,I){return F(new p(I),D)},j.inflate=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new w(I),D,B)},j.inflateSync=function(D,I){return F(new w(I),D)},j.gunzip=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new h(I),D,B)},j.gunzipSync=function(D,I){return F(new h(I),D)},j.inflateRaw=function(D,I,B){return typeof I=="function"&&(B=I,I={}),L(new x(I),D,B)},j.inflateRawSync=function(D,I){return F(new x(I),D)};function L(D,I,B){var _=[],P=0;D.on("error",m),D.on("end",S),D.end(I),X();function X(){for(var R;(R=D.read())!==null;)_.push(R),P+=R.length;D.once("readable",X)}function m(R){D.removeListener("end",S),D.removeListener("readable",X),B(R)}function S(){var R,z=null;P>=fe?z=new RangeError(f):R=V.concat(_,P),_=[],D.close(),B(z,R)}}function F(D,I){if(typeof I=="string"&&(I=V.from(I)),!V.isBuffer(I))throw new TypeError("Not a string or buffer");var B=D._finishFlushFlag;return D._processChunk(I,B)}function g(D){if(!(this instanceof g))return new g(D);b.call(this,D,J.DEFLATE)}function w(D){if(!(this instanceof w))return new w(D);b.call(this,D,J.INFLATE)}function u(D){if(!(this instanceof u))return new u(D);b.call(this,D,J.GZIP)}function h(D){if(!(this instanceof h))return new h(D);b.call(this,D,J.GUNZIP)}function i(D){if(!(this instanceof i))return new i(D);b.call(this,D,J.DEFLATERAW)}function x(D){if(!(this instanceof x))return new x(D);b.call(this,D,J.INFLATERAW)}function p(D){if(!(this instanceof p))return new p(D);b.call(this,D,J.UNZIP)}function v(D){return D===J.Z_NO_FLUSH||D===J.Z_PARTIAL_FLUSH||D===J.Z_SYNC_FLUSH||D===J.Z_FULL_FLUSH||D===J.Z_FINISH||D===J.Z_BLOCK}function b(D,I){var B=this;if(this._opts=D=D||{},this._chunkSize=D.chunkSize||j.Z_DEFAULT_CHUNK,be.call(this,D),D.flush&&!v(D.flush))throw new Error("Invalid flush flag: "+D.flush);if(D.finishFlush&&!v(D.finishFlush))throw new Error("Invalid flush flag: "+D.finishFlush);if(this._flushFlag=D.flush||J.Z_NO_FLUSH,this._finishFlushFlag=typeof D.finishFlush<"u"?D.finishFlush:J.Z_FINISH,D.chunkSize&&(D.chunkSize<j.Z_MIN_CHUNK||D.chunkSize>j.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+D.chunkSize);if(D.windowBits&&(D.windowBits<j.Z_MIN_WINDOWBITS||D.windowBits>j.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+D.windowBits);if(D.level&&(D.level<j.Z_MIN_LEVEL||D.level>j.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+D.level);if(D.memLevel&&(D.memLevel<j.Z_MIN_MEMLEVEL||D.memLevel>j.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+D.memLevel);if(D.strategy&&D.strategy!=j.Z_FILTERED&&D.strategy!=j.Z_HUFFMAN_ONLY&&D.strategy!=j.Z_RLE&&D.strategy!=j.Z_FIXED&&D.strategy!=j.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+D.strategy);if(D.dictionary&&!V.isBuffer(D.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new J.Zlib(I);var _=this;this._hadError=!1,this._handle.onerror=function(m,S){N(_),_._hadError=!0;var R=new Error(m);R.errno=S,R.code=j.codes[S],_.emit("error",R)};var P=j.Z_DEFAULT_COMPRESSION;typeof D.level=="number"&&(P=D.level);var X=j.Z_DEFAULT_STRATEGY;typeof D.strategy=="number"&&(X=D.strategy),this._handle.init(D.windowBits||j.Z_DEFAULT_WINDOWBITS,P,D.memLevel||j.Z_DEFAULT_MEMLEVEL,X,D.dictionary),this._buffer=V.allocUnsafe(this._chunkSize),this._offset=0,this._level=P,this._strategy=X,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!B._handle},configurable:!0,enumerable:!0})}ve.inherits(b,be),b.prototype.params=function(D,I,B){if(D<j.Z_MIN_LEVEL||D>j.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+D);if(I!=j.Z_FILTERED&&I!=j.Z_HUFFMAN_ONLY&&I!=j.Z_RLE&&I!=j.Z_FIXED&&I!=j.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+I);if(this._level!==D||this._strategy!==I){var _=this;this.flush(J.Z_SYNC_FLUSH,function(){we(_._handle,"zlib binding closed"),_._handle.params(D,I),_._hadError||(_._level=D,_._strategy=I,B&&B())})}else process$1.nextTick(B)},b.prototype.reset=function(){return we(this._handle,"zlib binding closed"),this._handle.reset()},b.prototype._flush=function(D){this._transform(V.alloc(0),"",D)},b.prototype.flush=function(D,I){var B=this,_=this._writableState;(typeof D=="function"||D===void 0&&!I)&&(I=D,D=J.Z_FULL_FLUSH),_.ended?I&&process$1.nextTick(I):_.ending?I&&this.once("end",I):_.needDrain?I&&this.once("drain",function(){return B.flush(D,I)}):(this._flushFlag=D,this.write(V.alloc(0),"",I))},b.prototype.close=function(D){N(this,D),process$1.nextTick(U,this)};function N(D,I){I&&process$1.nextTick(I),D._handle&&(D._handle.close(),D._handle=null)}function U(D){D.emit("close")}b.prototype._transform=function(D,I,B){var _,P=this._writableState,X=P.ending||P.ended,m=X&&(!D||P.length===D.length);if(D!==null&&!V.isBuffer(D))return B(new Error("invalid input"));if(!this._handle)return B(new Error("zlib binding closed"));m?_=this._finishFlushFlag:(_=this._flushFlag,D.length>=P.length&&(this._flushFlag=this._opts.flush||J.Z_NO_FLUSH)),this._processChunk(D,_,B)},b.prototype._processChunk=function(D,I,B){var _=D&&D.length,P=this._chunkSize-this._offset,X=0,m=this,S=typeof B=="function";if(!S){var R=[],z=0,O;this.on("error",function(o){O=o}),we(this._handle,"zlib binding closed");do var E=this._handle.writeSync(I,D,X,_,this._buffer,this._offset,P);while(!this._hadError&&a(E[0],E[1]));if(this._hadError)throw O;if(z>=fe)throw N(this),new RangeError(f);var k=V.concat(R,z);return N(this),k}we(this._handle,"zlib binding closed");var M=this._handle.write(I,D,X,_,this._buffer,this._offset,P);M.buffer=D,M.callback=a;function a(o,r){if(this&&(this.buffer=null,this.callback=null),!m._hadError){var s=P-r;if(we(s>=0,"have should not go down"),s>0){var A=m._buffer.slice(m._offset,m._offset+s);m._offset+=s,S?m.push(A):(R.push(A),z+=A.length)}if((r===0||m._offset>=m._chunkSize)&&(P=m._chunkSize,m._offset=0,m._buffer=V.allocUnsafe(m._chunkSize)),r===0){if(X+=_-o,_=o,!S)return!0;var c=m._handle.write(I,D,X,_,m._buffer,m._offset,m._chunkSize);c.callback=a,c.buffer=D;return}if(!S)return!1;B()}}},ve.inherits(g,b),ve.inherits(w,b),ve.inherits(u,b),ve.inherits(h,b),ve.inherits(i,b),ve.inherits(x,b),ve.inherits(p,b)}(lib)),lib}(function(module,exports){(function(V,be){module.exports=V.pdfjsLib=be()})(globalThis,()=>(()=>{var __webpack_modules__=[,(j,V)=>{var Me;Object.defineProperty(V,"__esModule",{value:!0}),V.VerbosityLevel=V.Util=V.UnknownErrorException=V.UnexpectedResponseException=V.TextRenderingMode=V.RenderingIntentFlag=V.PromiseCapability=V.PermissionFlag=V.PasswordResponses=V.PasswordException=V.PageActionEventType=V.OPS=V.MissingPDFException=V.MAX_IMAGE_SIZE_TO_CACHE=V.LINE_FACTOR=V.LINE_DESCENT_FACTOR=V.InvalidPDFException=V.ImageKind=V.IDENTITY_MATRIX=V.FormatError=V.FeatureTest=V.FONT_IDENTITY_MATRIX=V.DocumentActionEventType=V.CMapCompressionType=V.BaseException=V.BASELINE_FACTOR=V.AnnotationType=V.AnnotationReplyType=V.AnnotationPrefix=V.AnnotationMode=V.AnnotationFlag=V.AnnotationFieldFlag=V.AnnotationEditorType=V.AnnotationEditorPrefix=V.AnnotationEditorParamsType=V.AnnotationBorderStyleType=V.AnnotationActionEventType=V.AbortException=void 0,V.assert=S,V.bytesToString=c,V.createValidAbsoluteUrl=z,V.getModificationDate=le,V.getUuid=Se,V.getVerbosityLevel=_,V.info=P,V.isArrayBuffer=Y,V.isArrayEqual=G,V.isNodeJS=void 0,V.normalizeUnicode=K,V.objectFromMap=Q,V.objectSize=re,V.setVerbosityLevel=B,V.shadow=O,V.string32=q,V.stringToBytes=y,V.stringToPDFString=ne,V.stringToUTF8String=ie,V.unreachable=m,V.utf8StringToString=H,V.warn=X;const be=typeof process$1=="object"&&process$1+""=="[object process]"&&!process$1.versions.nw&&!(process$1.versions.electron&&process$1.type&&process$1.type!=="browser");V.isNodeJS=be;const J=[1,0,0,1,0,0];V.IDENTITY_MATRIX=J;const ve=[.001,0,0,.001,0,0];V.FONT_IDENTITY_MATRIX=ve;const we=1e7;V.MAX_IMAGE_SIZE_TO_CACHE=we;const fe=1.35;V.LINE_FACTOR=fe;const f=.35;V.LINE_DESCENT_FACTOR=f;const $=f/fe;V.BASELINE_FACTOR=$;const n={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};V.RenderingIntentFlag=n;const d={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};V.AnnotationMode=d;const T="pdfjs_internal_editor_";V.AnnotationEditorPrefix=T;const e={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};V.AnnotationEditorType=e;const t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};V.AnnotationEditorParamsType=t;const l={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};V.PermissionFlag=l;const L={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};V.TextRenderingMode=L;const F={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};V.ImageKind=F;const g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};V.AnnotationType=g;const w={GROUP:"Group",REPLY:"R"};V.AnnotationReplyType=w;const u={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};V.AnnotationFlag=u;const h={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};V.AnnotationFieldFlag=h;const i={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};V.AnnotationBorderStyleType=i;const x={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};V.AnnotationActionEventType=x;const p={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};V.DocumentActionEventType=p;const v={O:"PageOpen",C:"PageClose"};V.PageActionEventType=v;const b={ERRORS:0,WARNINGS:1,INFOS:5};V.VerbosityLevel=b;const N={NONE:0,BINARY:1};V.CMapCompressionType=N;const U={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};V.OPS=U;const D={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};V.PasswordResponses=D;let I=b.WARNINGS;function B(_e){Number.isInteger(_e)&&(I=_e)}function _(){return I}function P(_e){I>=b.INFOS&&console.log(`Info: ${_e}`)}function X(_e){I>=b.WARNINGS&&console.log(`Warning: ${_e}`)}function m(_e){throw new Error(_e)}function S(_e,ke){_e||m(ke)}function R(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function z(_e,ke=null,oe=null){if(!_e)return null;try{if(oe&&typeof _e=="string"){if(oe.addDefaultProtocol&&_e.startsWith("www.")){const Be=_e.match(/\./g);(Be==null?void 0:Be.length)>=2&&(_e=`http://${_e}`)}if(oe.tryConvertEncoding)try{_e=ie(_e)}catch{}}const Ie=ke?new URL(_e,ke):new URL(_e);if(R(Ie))return Ie}catch{}return null}function O(_e,ke,oe,Ie=!1){return Object.defineProperty(_e,ke,{value:oe,enumerable:!Ie,configurable:!0,writable:!1}),oe}const E=function(){function ke(oe,Ie){this.constructor===ke&&m("Cannot initialize BaseException."),this.message=oe,this.name=Ie}return ke.prototype=new Error,ke.constructor=ke,ke}();V.BaseException=E;class k extends E{constructor(ke,oe){super(ke,"PasswordException"),this.code=oe}}V.PasswordException=k;class M extends E{constructor(ke,oe){super(ke,"UnknownErrorException"),this.details=oe}}V.UnknownErrorException=M;class a extends E{constructor(ke){super(ke,"InvalidPDFException")}}V.InvalidPDFException=a;class o extends E{constructor(ke){super(ke,"MissingPDFException")}}V.MissingPDFException=o;class r extends E{constructor(ke,oe){super(ke,"UnexpectedResponseException"),this.status=oe}}V.UnexpectedResponseException=r;class s extends E{constructor(ke){super(ke,"FormatError")}}V.FormatError=s;class A extends E{constructor(ke){super(ke,"AbortException")}}V.AbortException=A;function c(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&m("Invalid argument for bytesToString");const ke=_e.length,oe=8192;if(ke<oe)return String.fromCharCode.apply(null,_e);const Ie=[];for(let Be=0;Be<ke;Be+=oe){const he=Math.min(Be+oe,ke),De=_e.subarray(Be,he);Ie.push(String.fromCharCode.apply(null,De))}return Ie.join("")}function y(_e){typeof _e!="string"&&m("Invalid argument for stringToBytes");const ke=_e.length,oe=new Uint8Array(ke);for(let Ie=0;Ie<ke;++Ie)oe[Ie]=_e.charCodeAt(Ie)&255;return oe}function q(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function re(_e){return Object.keys(_e).length}function Q(_e){const ke=Object.create(null);for(const[oe,Ie]of _e)ke[oe]=Ie;return ke}function de(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function ee(){try{return new Function(""),!0}catch{return!1}}class ue{static get isLittleEndian(){return O(this,"isLittleEndian",de())}static get isEvalSupported(){return O(this,"isEvalSupported",ee())}static get isOffscreenCanvasSupported(){return O(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?O(this,"platform",{isWin:!1,isMac:!1}):O(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ke,oe;return O(this,"isCSSRoundSupported",(oe=(ke=globalThis.CSS)==null?void 0:ke.supports)==null?void 0:oe.call(ke,"width: round(1.5px, 1px)"))}}V.FeatureTest=ue;const W=[...Array(256).keys()].map(_e=>_e.toString(16).padStart(2,"0"));class Z{static makeHexColor(ke,oe,Ie){return`#${W[ke]}${W[oe]}${W[Ie]}`}static scaleMinMax(ke,oe){let Ie;ke[0]?(ke[0]<0&&(Ie=oe[0],oe[0]=oe[1],oe[1]=Ie),oe[0]*=ke[0],oe[1]*=ke[0],ke[3]<0&&(Ie=oe[2],oe[2]=oe[3],oe[3]=Ie),oe[2]*=ke[3],oe[3]*=ke[3]):(Ie=oe[0],oe[0]=oe[2],oe[2]=Ie,Ie=oe[1],oe[1]=oe[3],oe[3]=Ie,ke[1]<0&&(Ie=oe[2],oe[2]=oe[3],oe[3]=Ie),oe[2]*=ke[1],oe[3]*=ke[1],ke[2]<0&&(Ie=oe[0],oe[0]=oe[1],oe[1]=Ie),oe[0]*=ke[2],oe[1]*=ke[2]),oe[0]+=ke[4],oe[1]+=ke[4],oe[2]+=ke[5],oe[3]+=ke[5]}static transform(ke,oe){return[ke[0]*oe[0]+ke[2]*oe[1],ke[1]*oe[0]+ke[3]*oe[1],ke[0]*oe[2]+ke[2]*oe[3],ke[1]*oe[2]+ke[3]*oe[3],ke[0]*oe[4]+ke[2]*oe[5]+ke[4],ke[1]*oe[4]+ke[3]*oe[5]+ke[5]]}static applyTransform(ke,oe){const Ie=ke[0]*oe[0]+ke[1]*oe[2]+oe[4],Be=ke[0]*oe[1]+ke[1]*oe[3]+oe[5];return[Ie,Be]}static applyInverseTransform(ke,oe){const Ie=oe[0]*oe[3]-oe[1]*oe[2],Be=(ke[0]*oe[3]-ke[1]*oe[2]+oe[2]*oe[5]-oe[4]*oe[3])/Ie,he=(-ke[0]*oe[1]+ke[1]*oe[0]+oe[4]*oe[1]-oe[5]*oe[0])/Ie;return[Be,he]}static getAxialAlignedBoundingBox(ke,oe){const Ie=this.applyTransform(ke,oe),Be=this.applyTransform(ke.slice(2,4),oe),he=this.applyTransform([ke[0],ke[3]],oe),De=this.applyTransform([ke[2],ke[1]],oe);return[Math.min(Ie[0],Be[0],he[0],De[0]),Math.min(Ie[1],Be[1],he[1],De[1]),Math.max(Ie[0],Be[0],he[0],De[0]),Math.max(Ie[1],Be[1],he[1],De[1])]}static inverseTransform(ke){const oe=ke[0]*ke[3]-ke[1]*ke[2];return[ke[3]/oe,-ke[1]/oe,-ke[2]/oe,ke[0]/oe,(ke[2]*ke[5]-ke[4]*ke[3])/oe,(ke[4]*ke[1]-ke[5]*ke[0])/oe]}static singularValueDecompose2dScale(ke){const oe=[ke[0],ke[2],ke[1],ke[3]],Ie=ke[0]*oe[0]+ke[1]*oe[2],Be=ke[0]*oe[1]+ke[1]*oe[3],he=ke[2]*oe[0]+ke[3]*oe[2],De=ke[2]*oe[1]+ke[3]*oe[3],ye=(Ie+De)/2,me=Math.sqrt((Ie+De)**2-4*(Ie*De-he*Be))/2,Pe=ye+me||1,Re=ye-me||1;return[Math.sqrt(Pe),Math.sqrt(Re)]}static normalizeRect(ke){const oe=ke.slice(0);return ke[0]>ke[2]&&(oe[0]=ke[2],oe[2]=ke[0]),ke[1]>ke[3]&&(oe[1]=ke[3],oe[3]=ke[1]),oe}static intersect(ke,oe){const Ie=Math.max(Math.min(ke[0],ke[2]),Math.min(oe[0],oe[2])),Be=Math.min(Math.max(ke[0],ke[2]),Math.max(oe[0],oe[2]));if(Ie>Be)return null;const he=Math.max(Math.min(ke[1],ke[3]),Math.min(oe[1],oe[3])),De=Math.min(Math.max(ke[1],ke[3]),Math.max(oe[1],oe[3]));return he>De?null:[Ie,he,Be,De]}static bezierBoundingBox(ke,oe,Ie,Be,he,De,ye,me){const Pe=[],Re=[[],[]];let He,Xe,Fe,ae,Ae,Le,Ee,xe;for(let Ue=0;Ue<2;++Ue){if(Ue===0?(Xe=6*ke-12*Ie+6*he,He=-3*ke+9*Ie-9*he+3*ye,Fe=3*Ie-3*ke):(Xe=6*oe-12*Be+6*De,He=-3*oe+9*Be-9*De+3*me,Fe=3*Be-3*oe),Math.abs(He)<1e-12){if(Math.abs(Xe)<1e-12)continue;ae=-Fe/Xe,0<ae&&ae<1&&Pe.push(ae);continue}Ee=Xe*Xe-4*Fe*He,xe=Math.sqrt(Ee),!(Ee<0)&&(Ae=(-Xe+xe)/(2*He),0<Ae&&Ae<1&&Pe.push(Ae),Le=(-Xe-xe)/(2*He),0<Le&&Le<1&&Pe.push(Le))}let Te=Pe.length,Ne;const $e=Te;for(;Te--;)ae=Pe[Te],Ne=1-ae,Re[0][Te]=Ne*Ne*Ne*ke+3*Ne*Ne*ae*Ie+3*Ne*ae*ae*he+ae*ae*ae*ye,Re[1][Te]=Ne*Ne*Ne*oe+3*Ne*Ne*ae*Be+3*Ne*ae*ae*De+ae*ae*ae*me;return Re[0][$e]=ke,Re[1][$e]=oe,Re[0][$e+1]=ye,Re[1][$e+1]=me,Re[0].length=Re[1].length=$e+2,[Math.min(...Re[0]),Math.min(...Re[1]),Math.max(...Re[0]),Math.max(...Re[1])]}}V.Util=Z;const se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ne(_e){if(_e[0]>=""){let oe;if(_e[0]===""&&_e[1]===""?oe="utf-16be":_e[0]===""&&_e[1]===""?oe="utf-16le":_e[0]===""&&_e[1]===""&&_e[2]===""&&(oe="utf-8"),oe)try{const Ie=new TextDecoder(oe,{fatal:!0}),Be=y(_e);return Ie.decode(Be)}catch(Ie){X(`stringToPDFString: "${Ie}".`)}}const ke=[];for(let oe=0,Ie=_e.length;oe<Ie;oe++){const Be=se[_e.charCodeAt(oe)];ke.push(Be?String.fromCharCode(Be):_e.charAt(oe))}return ke.join("")}function ie(_e){return decodeURIComponent(escape(_e))}function H(_e){return unescape(encodeURIComponent(_e))}function Y(_e){return typeof _e=="object"&&(_e==null?void 0:_e.byteLength)!==void 0}function G(_e,ke){if(_e.length!==ke.length)return!1;for(let oe=0,Ie=_e.length;oe<Ie;oe++)if(_e[oe]!==ke[oe])return!1;return!0}function le(_e=new Date){return[_e.getUTCFullYear().toString(),(_e.getUTCMonth()+1).toString().padStart(2,"0"),_e.getUTCDate().toString().padStart(2,"0"),_e.getUTCHours().toString().padStart(2,"0"),_e.getUTCMinutes().toString().padStart(2,"0"),_e.getUTCSeconds().toString().padStart(2,"0")].join("")}class ce{constructor(){je(this,Me,!1);this.promise=new Promise((ke,oe)=>{this.resolve=Ie=>{Ye(this,Me,!0),ke(Ie)},this.reject=Ie=>{Ye(this,Me,!0),oe(Ie)}})}get settled(){return Ce(this,Me)}}Me=new WeakMap,V.PromiseCapability=ce;let te=null,ge=null;function K(_e){return te||(te=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ge=new Map([["","t"]])),_e.replaceAll(te,(ke,oe,Ie)=>oe?oe.normalize("NFKC"):ge.get(Ie))}function Se(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let ke=0;ke<32;ke++)_e[ke]=Math.floor(Math.random()*255);return c(_e)}const Oe="pdfjs_internal_id_";V.AnnotationPrefix=Oe},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var j,be,J,ve,ln,fe,Rn,$,n,d,T,e,t,l,L,F,Pn,w,u,di,i,x;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(v){if(typeof v=="string"||v instanceof URL?v={url:v}:(0,_util.isArrayBuffer)(v)&&(v={data:v}),typeof v!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!v.url&&!v.data&&!v.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const b=new PDFDocumentLoadingTask,{docId:N}=b,U=v.url?getUrlProp(v.url):null,D=v.data?getDataProp(v.data):null,I=v.httpHeaders||null,B=v.withCredentials===!0,_=v.password??null,P=v.range instanceof PDFDataRangeTransport?v.range:null,X=Number.isInteger(v.rangeChunkSize)&&v.rangeChunkSize>0?v.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let m=v.worker instanceof PDFWorker?v.worker:null;const S=v.verbosity,R=typeof v.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(v.docBaseUrl)?v.docBaseUrl:null,z=typeof v.cMapUrl=="string"?v.cMapUrl:null,O=v.cMapPacked!==!1,E=v.CMapReaderFactory||DefaultCMapReaderFactory,k=typeof v.standardFontDataUrl=="string"?v.standardFontDataUrl:null,M=v.StandardFontDataFactory||DefaultStandardFontDataFactory,a=v.stopAtErrors!==!0,o=Number.isInteger(v.maxImageSize)&&v.maxImageSize>-1?v.maxImageSize:-1,r=v.isEvalSupported!==!1,s=typeof v.isOffscreenCanvasSupported=="boolean"?v.isOffscreenCanvasSupported:!_util.isNodeJS,A=Number.isInteger(v.canvasMaxAreaInBytes)?v.canvasMaxAreaInBytes:-1,c=typeof v.disableFontFace=="boolean"?v.disableFontFace:_util.isNodeJS,y=v.fontExtraProperties===!0,q=v.enableXfa===!0,re=v.ownerDocument||globalThis.document,Q=v.disableRange===!0,de=v.disableStream===!0,ee=v.disableAutoFetch===!0,ue=v.pdfBug===!0,W=P?P.length:v.length??NaN,Z=typeof v.useSystemFonts=="boolean"?v.useSystemFonts:!_util.isNodeJS&&!c,se=typeof v.useWorkerFetch=="boolean"?v.useWorkerFetch:E===_display_utils.DOMCMapReaderFactory&&M===_display_utils.DOMStandardFontDataFactory&&z&&k&&(0,_display_utils.isValidFetchUrl)(z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(k,document.baseURI),ne=v.canvasFactory||new DefaultCanvasFactory({ownerDocument:re}),ie=v.filterFactory||new DefaultFilterFactory({docId:N,ownerDocument:re}),H=null;(0,_util.setVerbosityLevel)(S);const Y={canvasFactory:ne,filterFactory:ie};if(se||(Y.cMapReaderFactory=new E({baseUrl:z,isCompressed:O}),Y.standardFontDataFactory=new M({baseUrl:k})),!m){const ce={verbosity:S,port:_worker_options.GlobalWorkerOptions.workerPort};m=ce.port?PDFWorker.fromPort(ce):new PDFWorker(ce),b._worker=m}const G={docId:N,apiVersion:"3.11.174",data:D,password:_,disableAutoFetch:ee,rangeChunkSize:X,length:W,docBaseUrl:R,enableXfa:q,evaluatorOptions:{maxImageSize:o,disableFontFace:c,ignoreErrors:a,isEvalSupported:r,isOffscreenCanvasSupported:s,canvasMaxAreaInBytes:A,fontExtraProperties:y,useSystemFonts:Z,cMapUrl:se?z:null,standardFontDataUrl:se?k:null}},le={ignoreErrors:a,isEvalSupported:r,disableFontFace:c,fontExtraProperties:y,enableXfa:q,ownerDocument:re,disableAutoFetch:ee,pdfBug:ue,styleElement:H};return m.promise.then(function(){if(b.destroyed)throw new Error("Loading aborted");const ce=_fetchDocument(m,G),te=new Promise(function(ge){let K;P?K=new _transport_stream.PDFDataTransportStream({length:W,initialData:P.initialData,progressiveDone:P.progressiveDone,contentDispositionFilename:P.contentDispositionFilename,disableRange:Q,disableStream:de},P):D||(K=(Oe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Oe):(0,_display_utils.isValidFetchUrl)(Oe.url)?new _displayFetch_stream.PDFFetchStream(Oe):new _displayNetwork.PDFNetworkStream(Oe))({url:U,length:W,httpHeaders:I,withCredentials:B,rangeChunkSize:X,disableRange:Q,disableStream:de})),ge(K)});return Promise.all([ce,te]).then(function([ge,K]){if(b.destroyed)throw new Error("Loading aborted");const Se=new _message_handler.MessageHandler(N,ge,m.port),Oe=new WorkerTransport(Se,b,K,le,Y);b._transport=Oe,Se.send("Ready",null)})}).catch(b._capability.reject),b}async function _fetchDocument(v,b){if(v.destroyed)throw new Error("Worker was destroyed");const N=await v.messageHandler.sendWithPromise("GetDocRequest",b,b.data?[b.data.buffer]:null);if(v.destroyed)throw new Error("Worker was destroyed");return N}function getUrlProp(v){if(v instanceof URL)return v.href;try{return new URL(v,window.location).href}catch{if(_util.isNodeJS&&typeof v=="string")return v}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(v){if(_util.isNodeJS&&typeof Buffer<"u"&&v instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(v instanceof Uint8Array&&v.byteLength===v.buffer.byteLength)return v;if(typeof v=="string")return(0,_util.stringToBytes)(v);if(typeof v=="object"&&!isNaN(v==null?void 0:v.length)||(0,_util.isArrayBuffer)(v))return new Uint8Array(v);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const V=class V{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${wn(V,j)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var b,N,U;this.destroyed=!0;try{(b=this._worker)!=null&&b.port&&(this._worker._pendingDestroy=!0),await((N=this._transport)==null?void 0:N.destroy())}catch(D){throw(U=this._worker)!=null&&U.port&&delete this._worker._pendingDestroy,D}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};j=new WeakMap,je(V,j,0);let PDFDocumentLoadingTask=V;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(b,N,U=!1,D=null){this.length=b,this.initialData=N,this.progressiveDone=U,this.contentDispositionFilename=D,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(b){this._rangeListeners.push(b)}addProgressListener(b){this._progressListeners.push(b)}addProgressiveReadListener(b){this._progressiveReadListeners.push(b)}addProgressiveDoneListener(b){this._progressiveDoneListeners.push(b)}onDataRange(b,N){for(const U of this._rangeListeners)U(b,N)}onDataProgress(b,N){this._readyCapability.promise.then(()=>{for(const U of this._progressListeners)U(b,N)})}onDataProgressiveRead(b){this._readyCapability.promise.then(()=>{for(const N of this._progressiveReadListeners)N(b)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const b of this._progressiveDoneListeners)b()})}transportReady(){this._readyCapability.resolve()}requestDataRange(b,N){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(b,N){this._pdfInfo=b,this._transport=N,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(U=>{if(!U)return U;const D=[];for(const I in U)D.push(...U[I]);return D}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(b){return this._transport.getPage(b)}getPageIndex(b){return this._transport.getPageIndex(b)}getDestinations(){return this._transport.getDestinations()}getDestination(b){return this._transport.getDestination(b)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(b=!1){return this._transport.startCleanup(b||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(b,N,U,D=!1){je(this,ve);je(this,fe);je(this,be,null);je(this,J,!1);this._pageIndex=b,this._pageInfo=N,this._transport=U,this._stats=D?new _display_utils.StatTimer:null,this._pdfBug=D,this.commonObjs=U.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:b,rotation:N=this.rotate,offsetX:U=0,offsetY:D=0,dontFlip:I=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:b,rotation:N,offsetX:U,offsetY:D,dontFlip:I})}getAnnotations({intent:b="display"}={}){const N=this._transport.getRenderingIntent(b);return this._transport.getAnnotations(this._pageIndex,N.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var b;return((b=this._transport._htmlForXfa)==null?void 0:b.children[this._pageIndex])||null}render({canvasContext:b,viewport:N,intent:U="display",annotationMode:D=_util.AnnotationMode.ENABLE,transform:I=null,background:B=null,optionalContentConfigPromise:_=null,annotationCanvasMap:P=null,pageColors:X=null,printAnnotationStorage:m=null}){var M,a;(M=this._stats)==null||M.time("Overall");const S=this._transport.getRenderingIntent(U,D,m);Ye(this,J,!1),qe(this,fe,Rn).call(this),_||(_=this._transport.getOptionalContentConfig());let R=this._intentStates.get(S.cacheKey);R||(R=Object.create(null),this._intentStates.set(S.cacheKey,R)),R.streamReaderCancelTimeout&&(clearTimeout(R.streamReaderCancelTimeout),R.streamReaderCancelTimeout=null);const z=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);R.displayReadyCapability||(R.displayReadyCapability=new _util.PromiseCapability,R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(a=this._stats)==null||a.time("Page Request"),this._pumpOperatorList(S));const O=o=>{var r,s;R.renderTasks.delete(E),(this._maybeCleanupAfterRender||z)&&Ye(this,J,!0),qe(this,ve,ln).call(this,!z),o?(E.capability.reject(o),this._abortOperatorList({intentState:R,reason:o instanceof Error?o:new Error(o)})):E.capability.resolve(),(r=this._stats)==null||r.timeEnd("Rendering"),(s=this._stats)==null||s.timeEnd("Overall")},E=new InternalRenderTask({callback:O,params:{canvasContext:b,viewport:N,transform:I,background:B},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:P,operatorList:R.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!z,pdfBug:this._pdfBug,pageColors:X});(R.renderTasks||(R.renderTasks=new Set)).add(E);const k=E.task;return Promise.all([R.displayReadyCapability.promise,_]).then(([o,r])=>{var s;if(this.destroyed){O();return}(s=this._stats)==null||s.time("Rendering"),E.initializeGraphics({transparency:o,optionalContentConfig:r}),E.operatorListChanged()}).catch(O),k}getOperatorList({intent:b="display",annotationMode:N=_util.AnnotationMode.ENABLE,printAnnotationStorage:U=null}={}){var P;function D(){B.operatorList.lastChunk&&(B.opListReadCapability.resolve(B.operatorList),B.renderTasks.delete(_))}const I=this._transport.getRenderingIntent(b,N,U,!0);let B=this._intentStates.get(I.cacheKey);B||(B=Object.create(null),this._intentStates.set(I.cacheKey,B));let _;return B.opListReadCapability||(_=Object.create(null),_.operatorListChanged=D,B.opListReadCapability=new _util.PromiseCapability,(B.renderTasks||(B.renderTasks=new Set)).add(_),B.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(I)),B.opListReadCapability.promise}streamTextContent({includeMarkedContent:b=!1,disableNormalization:N=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:b===!0,disableNormalization:N===!0},{highWaterMark:100,size(D){return D.items.length}})}getTextContent(b={}){if(this._transport._htmlForXfa)return this.getXfa().then(U=>_xfa_text.XfaText.textContent(U));const N=this.streamTextContent(b);return new Promise(function(U,D){function I(){B.read().then(function({value:P,done:X}){if(X){U(_);return}Object.assign(_.styles,P.styles),_.items.push(...P.items),I()},D)}const B=N.getReader(),_={items:[],styles:Object.create(null)};I()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const b=[];for(const N of this._intentStates.values())if(this._abortOperatorList({intentState:N,reason:new Error("Page was destroyed."),force:!0}),!N.opListReadCapability)for(const U of N.renderTasks)b.push(U.completed),U.cancel();return this.objs.clear(),Ye(this,J,!1),qe(this,fe,Rn).call(this),Promise.all(b)}cleanup(b=!1){Ye(this,J,!0);const N=qe(this,ve,ln).call(this,!1);return b&&N&&this._stats&&(this._stats=new _display_utils.StatTimer),N}_startRenderPage(b,N){var D,I;const U=this._intentStates.get(N);U&&((D=this._stats)==null||D.timeEnd("Page Request"),(I=U.displayReadyCapability)==null||I.resolve(b))}_renderPageChunk(b,N){for(let U=0,D=b.length;U<D;U++)N.operatorList.fnArray.push(b.fnArray[U]),N.operatorList.argsArray.push(b.argsArray[U]);N.operatorList.lastChunk=b.lastChunk,N.operatorList.separateAnnots=b.separateAnnots;for(const U of N.renderTasks)U.operatorListChanged();b.lastChunk&&qe(this,ve,ln).call(this,!0)}_pumpOperatorList({renderingIntent:b,cacheKey:N,annotationStorageSerializable:U}){const{map:D,transfers:I}=U,_=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:b,cacheKey:N,annotationStorage:D},I).getReader(),P=this._intentStates.get(N);P.streamReader=_;const X=()=>{_.read().then(({value:m,done:S})=>{if(S){P.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,P),X())},m=>{if(P.streamReader=null,!this._transport.destroyed){if(P.operatorList){P.operatorList.lastChunk=!0;for(const S of P.renderTasks)S.operatorListChanged();qe(this,ve,ln).call(this,!0)}if(P.displayReadyCapability)P.displayReadyCapability.reject(m);else if(P.opListReadCapability)P.opListReadCapability.reject(m);else throw m}})};X()}_abortOperatorList({intentState:b,reason:N,force:U=!1}){if(b.streamReader){if(b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null),!U){if(b.renderTasks.size>0)return;if(N instanceof _display_utils.RenderingCancelledException){let D=RENDERING_CANCELLED_TIMEOUT;N.extraDelay>0&&N.extraDelay<1e3&&(D+=N.extraDelay),b.streamReaderCancelTimeout=setTimeout(()=>{b.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:b,reason:N,force:!0})},D);return}}if(b.streamReader.cancel(new _util.AbortException(N.message)).catch(()=>{}),b.streamReader=null,!this._transport.destroyed){for(const[D,I]of this._intentStates)if(I===b){this._intentStates.delete(D);break}this.cleanup()}}}get stats(){return this._stats}}be=new WeakMap,J=new WeakMap,ve=new WeakSet,ln=function(b=!1){if(qe(this,fe,Rn).call(this),!Ce(this,J)||this.destroyed)return!1;if(b)return Ye(this,be,setTimeout(()=>{Ye(this,be,null),qe(this,ve,ln).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:N,operatorList:U}of this._intentStates.values())if(N.size>0||!U.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ye(this,J,!1),!0},fe=new WeakSet,Rn=function(){Ce(this,be)&&(clearTimeout(Ce(this,be)),Ye(this,be,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){je(this,$,new Set);je(this,n,Promise.resolve())}postMessage(b,N){const U={data:structuredClone(b,N?{transfer:N}:null)};Ce(this,n).then(()=>{for(const D of Ce(this,$))D.call(this,U)})}addEventListener(b,N){Ce(this,$).add(N)}removeEventListener(b,N){Ce(this,$).delete(N)}terminate(){Ce(this,$).clear()}}$=new WeakMap,n=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const v=(d=document==null?void 0:document.currentScript)==null?void 0:d.src;v&&(PDFWorkerUtil.fallbackWorkerSrc=v.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(v,b){let N;try{if(N=new URL(v),!N.origin||N.origin==="null")return!1}catch{return!1}const U=new URL(b,N);return N.origin===U.origin},PDFWorkerUtil.createCDNWrapper=function(v){const b=`importScripts("${v}");`;return URL.createObjectURL(new Blob([b]))}}const _PDFWorker=class _PDFWorker{constructor({name:v=null,port:b=null,verbosity:N=(0,_util.getVerbosityLevel)()}={}){var U;if(this.name=v,this.destroyed=!1,this.verbosity=N,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,b){if((U=Ce(_PDFWorker,T))!=null&&U.has(b))throw new Error("Cannot use more than one PDFWorker per port.");(Ce(_PDFWorker,T)||Ye(_PDFWorker,T,new WeakMap)).set(b,this),this._initializeFromPort(b);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(v){this._port=v,this._messageHandler=new _message_handler.MessageHandler("main","worker",v),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:v}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,v)||(v=PDFWorkerUtil.createCDNWrapper(new URL(v,window.location).href));const b=new Worker(v),N=new _message_handler.MessageHandler("main","worker",b),U=()=>{b.removeEventListener("error",D),N.destroy(),b.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},D=()=>{this._webWorker||U()};b.addEventListener("error",D),N.on("test",B=>{if(b.removeEventListener("error",D),this.destroyed){U();return}B?(this._messageHandler=N,this._port=b,this._webWorker=b,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),N.destroy(),b.terminate())}),N.on("ready",B=>{if(b.removeEventListener("error",D),this.destroyed){U();return}try{I()}catch{this._setupFakeWorker()}});const I=()=>{const B=new Uint8Array;N.send("test",B,[B.buffer])};I();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(v=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const b=new LoopbackPort;this._port=b;const N=`fake${PDFWorkerUtil.fakeWorkerId++}`,U=new _message_handler.MessageHandler(N+"_worker",N,b);v.setup(U,b);const D=new _message_handler.MessageHandler(N,N+"_worker",b);this._messageHandler=D,this._readyCapability.resolve(),D.send("configure",{verbosity:this.verbosity})}).catch(v=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${v.message}".`))})}destroy(){var v;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(v=Ce(_PDFWorker,T))==null||v.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(v){var N;if(!(v!=null&&v.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const b=(N=Ce(this,T))==null?void 0:N.get(v.port);if(b){if(b._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return b}return new _PDFWorker(v)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var v;try{return((v=globalThis.pdfjsWorker)==null?void 0:v.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};T=new WeakMap,je(_PDFWorker,T,void 0);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(b,N,U,D,I){je(this,F);je(this,e,new Map);je(this,t,new Map);je(this,l,new Map);je(this,L,null);this.messageHandler=b,this.loadingTask=N,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:D.ownerDocument,styleElement:D.styleElement}),this._params=D,this.canvasFactory=I.canvasFactory,this.filterFactory=I.filterFactory,this.cMapReaderFactory=I.cMapReaderFactory,this.standardFontDataFactory=I.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=U,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(b,N=_util.AnnotationMode.ENABLE,U=null,D=!1){let I=_util.RenderingIntentFlag.DISPLAY,B=_annotation_storage.SerializableEmpty;switch(b){case"any":I=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":I=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${b}`)}switch(N){case _util.AnnotationMode.DISABLE:I+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:I+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:I+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,B=(I&_util.RenderingIntentFlag.PRINT&&U instanceof _annotation_storage.PrintAnnotationStorage?U:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${N}`)}return D&&(I+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:I,cacheKey:`${I}_${B.hash}`,annotationStorageSerializable:B}}destroy(){var U;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(U=Ce(this,L))==null||U.reject(new Error("Worker was destroyed during onPassword callback"));const b=[];for(const D of Ce(this,t).values())b.push(D._destroy());Ce(this,t).clear(),Ce(this,l).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const N=this.messageHandler.sendWithPromise("Terminate",null);return b.push(N),Promise.all(b).then(()=>{var D;this.commonObjs.clear(),this.fontLoader.clear(),Ce(this,e).clear(),this.filterFactory.destroy(),(D=this._networkStream)==null||D.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:b,loadingTask:N}=this;b.on("GetReader",(U,D)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=I=>{this._lastProgress={loaded:I.loaded,total:I.total}},D.onPull=()=>{this._fullReader.read().then(function({value:I,done:B}){if(B){D.close();return}(0,_util.assert)(I instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),D.enqueue(new Uint8Array(I),1,[I])}).catch(I=>{D.error(I)})},D.onCancel=I=>{this._fullReader.cancel(I),D.ready.catch(B=>{if(!this.destroyed)throw B})}}),b.on("ReaderHeadersReady",U=>{const D=new _util.PromiseCapability,I=this._fullReader;return I.headersReady.then(()=>{var B;(!I.isStreamingSupported||!I.isRangeSupported)&&(this._lastProgress&&((B=N.onProgress)==null||B.call(N,this._lastProgress)),I.onProgress=_=>{var P;(P=N.onProgress)==null||P.call(N,{loaded:_.loaded,total:_.total})}),D.resolve({isStreamingSupported:I.isStreamingSupported,isRangeSupported:I.isRangeSupported,contentLength:I.contentLength})},D.reject),D.promise}),b.on("GetRangeReader",(U,D)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const I=this._networkStream.getRangeReader(U.begin,U.end);if(!I){D.close();return}D.onPull=()=>{I.read().then(function({value:B,done:_}){if(_){D.close();return}(0,_util.assert)(B instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),D.enqueue(new Uint8Array(B),1,[B])}).catch(B=>{D.error(B)})},D.onCancel=B=>{I.cancel(B),D.ready.catch(_=>{if(!this.destroyed)throw _})}}),b.on("GetDoc",({pdfInfo:U})=>{this._numPages=U.numPages,this._htmlForXfa=U.htmlForXfa,delete U.htmlForXfa,N._capability.resolve(new PDFDocumentProxy(U,this))}),b.on("DocException",function(U){let D;switch(U.name){case"PasswordException":D=new _util.PasswordException(U.message,U.code);break;case"InvalidPDFException":D=new _util.InvalidPDFException(U.message);break;case"MissingPDFException":D=new _util.MissingPDFException(U.message);break;case"UnexpectedResponseException":D=new _util.UnexpectedResponseException(U.message,U.status);break;case"UnknownErrorException":D=new _util.UnknownErrorException(U.message,U.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}N._capability.reject(D)}),b.on("PasswordRequest",U=>{if(Ye(this,L,new _util.PromiseCapability),N.onPassword){const D=I=>{I instanceof Error?Ce(this,L).reject(I):Ce(this,L).resolve({password:I})};try{N.onPassword(D,U.code)}catch(I){Ce(this,L).reject(I)}}else Ce(this,L).reject(new _util.PasswordException(U.message,U.code));return Ce(this,L).promise}),b.on("DataLoaded",U=>{var D;(D=N.onProgress)==null||D.call(N,{loaded:U.length,total:U.length}),this.downloadInfoCapability.resolve(U)}),b.on("StartRenderPage",U=>{if(this.destroyed)return;Ce(this,t).get(U.pageIndex)._startRenderPage(U.transparency,U.cacheKey)}),b.on("commonobj",([U,D,I])=>{var B;if(!this.destroyed&&!this.commonObjs.has(U))switch(D){case"Font":const _=this._params;if("error"in I){const m=I.error;(0,_util.warn)(`Error during font loading: ${m}`),this.commonObjs.resolve(U,m);break}const P=_.pdfBug&&((B=globalThis.FontInspector)!=null&&B.enabled)?(m,S)=>globalThis.FontInspector.fontAdded(m,S):null,X=new _font_loader.FontFaceObject(I,{isEvalSupported:_.isEvalSupported,disableFontFace:_.disableFontFace,ignoreErrors:_.ignoreErrors,inspectFont:P});this.fontLoader.bind(X).catch(m=>b.sendWithPromise("FontFallback",{id:U})).finally(()=>{!_.fontExtraProperties&&X.data&&(X.data=null),this.commonObjs.resolve(U,X)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(U,I);break;default:throw new Error(`Got unknown common object type ${D}`)}}),b.on("obj",([U,D,I,B])=>{var P;if(this.destroyed)return;const _=Ce(this,t).get(D);if(!_.objs.has(U))switch(I){case"Image":if(_.objs.resolve(U,B),B){let X;if(B.bitmap){const{width:m,height:S}=B;X=m*S*4}else X=((P=B.data)==null?void 0:P.length)||0;X>_util.MAX_IMAGE_SIZE_TO_CACHE&&(_._maybeCleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(U,B);break;default:throw new Error(`Got unknown object type ${I}`)}}),b.on("DocProgress",U=>{var D;this.destroyed||(D=N.onProgress)==null||D.call(N,{loaded:U.loaded,total:U.total})}),b.on("FetchBuiltInCMap",U=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(U):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),b.on("FetchStandardFontData",U=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(U):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var U;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:b,transfers:N}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:b,filename:((U=this._fullReader)==null?void 0:U.filename)??null},N).finally(()=>{this.annotationStorage.resetModified()})}getPage(b){if(!Number.isInteger(b)||b<=0||b>this._numPages)return Promise.reject(new Error("Invalid page request."));const N=b-1,U=Ce(this,l).get(N);if(U)return U;const D=this.messageHandler.sendWithPromise("GetPage",{pageIndex:N}).then(I=>{if(this.destroyed)throw new Error("Transport destroyed");const B=new PDFPageProxy(N,I,this,this._params.pdfBug);return Ce(this,t).set(N,B),B});return Ce(this,l).set(N,D),D}getPageIndex(b){return typeof b!="object"||b===null||!Number.isInteger(b.num)||b.num<0||!Number.isInteger(b.gen)||b.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:b.num,gen:b.gen})}getAnnotations(b,N){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:b,intent:N})}getFieldObjects(){return qe(this,F,Pn).call(this,"GetFieldObjects")}hasJSActions(){return qe(this,F,Pn).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(b){return typeof b!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:b})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return qe(this,F,Pn).call(this,"GetDocJSActions")}getPageJSActions(b){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:b})}getStructTree(b){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:b})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(b=>new _optional_content_config.OptionalContentConfig(b))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const b="GetMetadata",N=Ce(this,e).get(b);if(N)return N;const U=this.messageHandler.sendWithPromise(b,null).then(D=>{var I,B;return{info:D[0],metadata:D[1]?new _metadata.Metadata(D[1]):null,contentDispositionFilename:((I=this._fullReader)==null?void 0:I.filename)??null,contentLength:((B=this._fullReader)==null?void 0:B.contentLength)??null}});return Ce(this,e).set(b,U),U}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(b=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const N of Ce(this,t).values())if(!N.cleanup())throw new Error(`startCleanup: Page ${N.pageNumber} is currently rendering.`);this.commonObjs.clear(),b||this.fontLoader.clear(),Ce(this,e).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:b,enableXfa:N}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:b,enableXfa:N})}}e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakSet,Pn=function(b,N=null){const U=Ce(this,e).get(b);if(U)return U;const D=this.messageHandler.sendWithPromise(b,N);return Ce(this,e).set(b,D),D};class PDFObjects{constructor(){je(this,u);je(this,w,Object.create(null))}get(b,N=null){if(N){const D=qe(this,u,di).call(this,b);return D.capability.promise.then(()=>N(D.data)),null}const U=Ce(this,w)[b];if(!(U!=null&&U.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${b}.`);return U.data}has(b){const N=Ce(this,w)[b];return(N==null?void 0:N.capability.settled)||!1}resolve(b,N=null){const U=qe(this,u,di).call(this,b);U.data=N,U.capability.resolve()}clear(){var b;for(const N in Ce(this,w)){const{data:U}=Ce(this,w)[N];(b=U==null?void 0:U.bitmap)==null||b.close()}Ye(this,w,Object.create(null))}}w=new WeakMap,u=new WeakSet,di=function(b){var N;return(N=Ce(this,w))[b]||(N[b]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(b){je(this,i,null);Ye(this,i,b),this.onContinue=null}get promise(){return Ce(this,i).capability.promise}cancel(b=0){Ce(this,i).cancel(null,b)}get separateAnnots(){const{separateAnnots:b}=Ce(this,i).operatorList;if(!b)return!1;const{annotationCanvasMap:N}=Ce(this,i);return b.form||b.canvas&&(N==null?void 0:N.size)>0}}i=new WeakMap,exports.RenderTask=RenderTask;const p=class p{constructor({callback:b,params:N,objs:U,commonObjs:D,annotationCanvasMap:I,operatorList:B,pageIndex:_,canvasFactory:P,filterFactory:X,useRequestAnimationFrame:m=!1,pdfBug:S=!1,pageColors:R=null}){this.callback=b,this.params=N,this.objs=U,this.commonObjs=D,this.annotationCanvasMap=I,this.operatorListIdx=null,this.operatorList=B,this._pageIndex=_,this.canvasFactory=P,this.filterFactory=X,this._pdfBug=S,this.pageColors=R,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=N.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:b=!1,optionalContentConfig:N}){var _,P;if(this.cancelled)return;if(this._canvas){if(Ce(p,x).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ce(p,x).add(this._canvas)}this._pdfBug&&((_=globalThis.StepperManager)!=null&&_.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:U,viewport:D,transform:I,background:B}=this.params;this.gfx=new _canvas.CanvasGraphics(U,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:N},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:I,viewport:D,transparency:b,background:B}),this.operatorListIdx=0,this.graphicsReady=!0,(P=this.graphicsReadyCallback)==null||P.call(this)}cancel(b=null,N=0){var U;this.running=!1,this.cancelled=!0,(U=this.gfx)==null||U.endDrawing(),Ce(p,x).delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,N))}operatorListChanged(){var b;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(b=this.stepper)==null||b.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ce(p,x).delete(this._canvas),this.callback())))}};x=new WeakMap,je(p,x,new WeakSet);let InternalRenderTask=p;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(j,V,be)=>{var n,d,T,nr,t;Object.defineProperty(V,"__esModule",{value:!0}),V.SerializableEmpty=V.PrintAnnotationStorage=V.AnnotationStorage=void 0;var J=be(1),ve=be(4),we=be(8);const fe=Object.freeze({map:null,hash:"",transfers:void 0});V.SerializableEmpty=fe;class f{constructor(){je(this,T);je(this,n,!1);je(this,d,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(L,F){const g=Ce(this,d).get(L);return g===void 0?F:Object.assign(F,g)}getRawValue(L){return Ce(this,d).get(L)}remove(L){if(Ce(this,d).delete(L),Ce(this,d).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const F of Ce(this,d).values())if(F instanceof ve.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(L,F){const g=Ce(this,d).get(L);let w=!1;if(g!==void 0)for(const[u,h]of Object.entries(F))g[u]!==h&&(w=!0,g[u]=h);else w=!0,Ce(this,d).set(L,F);w&&qe(this,T,nr).call(this),F instanceof ve.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(F.constructor._type)}has(L){return Ce(this,d).has(L)}getAll(){return Ce(this,d).size>0?(0,J.objectFromMap)(Ce(this,d)):null}setAll(L){for(const[F,g]of Object.entries(L))this.setValue(F,g)}get size(){return Ce(this,d).size}resetModified(){Ce(this,n)&&(Ye(this,n,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new $(this)}get serializable(){if(Ce(this,d).size===0)return fe;const L=new Map,F=new we.MurmurHash3_64,g=[],w=Object.create(null);let u=!1;for(const[h,i]of Ce(this,d)){const x=i instanceof ve.AnnotationEditor?i.serialize(!1,w):i;x&&(L.set(h,x),F.update(`${h}:${JSON.stringify(x)}`),u||(u=!!x.bitmap))}if(u)for(const h of L.values())h.bitmap&&g.push(h.bitmap);return L.size>0?{map:L,hash:F.hexdigest(),transfers:g}:fe}}n=new WeakMap,d=new WeakMap,T=new WeakSet,nr=function(){Ce(this,n)||(Ye(this,n,!0),typeof this.onSetModified=="function"&&this.onSetModified())},V.AnnotationStorage=f;class $ extends f{constructor(F){super();je(this,t,void 0);const{map:g,hash:w,transfers:u}=F.serializable,h=structuredClone(g,u?{transfer:u}:null);Ye(this,t,{map:h,hash:w,transfers:u})}get print(){(0,J.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ce(this,t)}}t=new WeakMap,V.PrintAnnotationStorage=$},(j,V,be)=>{var $,n,d,T,e,t,l,L,F,g,w,u,h,i,x,gi,v,pi,N,mi,D,xi,B,ir,P,rr,m,ar,R,bi,O,sr;Object.defineProperty(V,"__esModule",{value:!0}),V.AnnotationEditor=void 0;var J=be(5),ve=be(1),we=be(6);const k=class k{constructor(a){je(this,x);je(this,v);je(this,D);je(this,B);je(this,P);je(this,m);je(this,R);je(this,O);je(this,$,"");je(this,n,!1);je(this,d,null);je(this,T,null);je(this,e,null);je(this,t,!1);je(this,l,null);je(this,L,this.focusin.bind(this));je(this,F,this.focusout.bind(this));je(this,g,!1);je(this,w,!1);je(this,u,!1);Mt(this,"_initialOptions",Object.create(null));Mt(this,"_uiManager",null);Mt(this,"_focusEventsAllowed",!0);Mt(this,"_l10nPromise",null);je(this,h,!1);je(this,i,k._zIndex++);this.constructor===k&&(0,ve.unreachable)("Cannot initialize AnnotationEditor."),this.parent=a.parent,this.id=a.id,this.width=this.height=null,this.pageIndex=a.parent.pageIndex,this.name=a.name,this.div=null,this._uiManager=a.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=a.isCentered,this._structTreeParentId=null;const{rotation:o,rawDims:{pageWidth:r,pageHeight:s,pageX:A,pageY:c}}=this.parent.viewport;this.rotation=o,this.pageRotation=(360+o-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[A,c];const[y,q]=this.parentDimensions;this.x=a.x/y,this.y=a.y/q,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,ve.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(a){const o=new f({id:a.parent.getNextId(),parent:a.parent,uiManager:a._uiManager});o.annotationElementId=a.annotationElementId,o.deleted=!0,o._uiManager.addToAnnotationStorage(o)}static initialize(a,o=null){if(k._l10nPromise||(k._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(s=>[s,a.get(s)]))),o!=null&&o.strings)for(const s of o.strings)k._l10nPromise.set(s,a.get(s));if(k._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);k._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(a,o){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(a){return!1}static paste(a,o){(0,ve.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ce(this,h)}set _isDraggable(a){var o;Ye(this,h,a),(o=this.div)==null||o.classList.toggle("draggable",a)}center(){const[a,o]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*o/(a*2),this.y+=this.width*a/(o*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*o/(a*2),this.y-=this.width*a/(o*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(a){this._uiManager.addCommands(a)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ce(this,i)}setParent(a){a!==null&&(this.pageIndex=a.pageIndex,this.pageDimensions=a.pageDimensions),this.parent=a}focusin(a){this._focusEventsAllowed&&(Ce(this,g)?Ye(this,g,!1):this.parent.setSelected(this))}focusout(a){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const o=a.relatedTarget;o!=null&&o.closest(`#${this.id}`)||(a.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(a,o,r,s){const[A,c]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(a+r)/A,this.y=(o+s)/c,this.fixAndSetPosition()}translate(a,o){qe(this,x,gi).call(this,this.parentDimensions,a,o)}translateInPage(a,o){qe(this,x,gi).call(this,this.pageDimensions,a,o),this.div.scrollIntoView({block:"nearest"})}drag(a,o){const[r,s]=this.parentDimensions;if(this.x+=a/r,this.y+=o/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:re,y:Q}=this.div.getBoundingClientRect();this.parent.findNewParent(this,re,Q)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:A,y:c}=this;const[y,q]=qe(this,v,pi).call(this);A+=y,c+=q,this.div.style.left=`${(100*A).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[a,o]=this.pageDimensions;let{x:r,y:s,width:A,height:c}=this;switch(A*=a,c*=o,r*=a,s*=o,this.rotation){case 0:r=Math.max(0,Math.min(a-A,r)),s=Math.max(0,Math.min(o-c,s));break;case 90:r=Math.max(0,Math.min(a-c,r)),s=Math.min(o,Math.max(A,s));break;case 180:r=Math.min(a,Math.max(A,r)),s=Math.min(o,Math.max(c,s));break;case 270:r=Math.min(a,Math.max(c,r)),s=Math.max(0,Math.min(o-A,s));break}this.x=r/=a,this.y=s/=o;const[y,q]=qe(this,v,pi).call(this);r+=y,s+=q;const{style:re}=this.div;re.left=`${(100*r).toFixed(2)}%`,re.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(a,o){var r;return qe(r=k,N,mi).call(r,a,o,this.parentRotation)}pageTranslationToScreen(a,o){var r;return qe(r=k,N,mi).call(r,a,o,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:a,pageDimensions:[o,r]}=this,s=o*a,A=r*a;return ve.FeatureTest.isCSSRoundSupported?[Math.round(s),Math.round(A)]:[s,A]}setDims(a,o){var A;const[r,s]=this.parentDimensions;this.div.style.width=`${(100*a/r).toFixed(2)}%`,Ce(this,t)||(this.div.style.height=`${(100*o/s).toFixed(2)}%`),(A=Ce(this,d))==null||A.classList.toggle("small",a<k.SMALL_EDITOR_SIZE||o<k.SMALL_EDITOR_SIZE)}fixDims(){const{style:a}=this.div,{height:o,width:r}=a,s=r.endsWith("%"),A=!Ce(this,t)&&o.endsWith("%");if(s&&A)return;const[c,y]=this.parentDimensions;s||(a.width=`${(100*parseFloat(r)/c).toFixed(2)}%`),!Ce(this,t)&&!A&&(a.height=`${(100*parseFloat(o)/y).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ce(this,d))return;const a=Ye(this,d,document.createElement("button"));a.className="altText";const o=await k._l10nPromise.get("editor_alt_text_button_label");a.textContent=o,a.setAttribute("aria-label",o),a.tabIndex="0",a.addEventListener("contextmenu",we.noContextMenu),a.addEventListener("pointerdown",r=>r.stopPropagation()),a.addEventListener("click",r=>{r.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),a.addEventListener("keydown",r=>{r.target===a&&r.key==="Enter"&&(r.preventDefault(),this._uiManager.editAltText(this))}),qe(this,R,bi).call(this),this.div.append(a),k.SMALL_EDITOR_SIZE||(k.SMALL_EDITOR_SIZE=Math.min(128,Math.round(a.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ce(this,$),decorative:Ce(this,n)}}set altTextData({altText:a,decorative:o}){Ce(this,$)===a&&Ce(this,n)===o||(Ye(this,$,a),Ye(this,n,o),qe(this,R,bi).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ce(this,L)),this.div.addEventListener("focusout",Ce(this,F));const[a,o]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*o/a).toFixed(2)}%`,this.div.style.maxHeight=`${(100*a/o).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),(0,J.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(a){const{isMac:o}=ve.FeatureTest.platform;if(a.button!==0||a.ctrlKey&&o){a.preventDefault();return}Ye(this,g,!0),qe(this,O,sr).call(this,a)}moveInDOM(){var a;(a=this.parent)==null||a.moveEditorInDOM(this)}_setParentAndPosition(a,o,r){a.changeParent(this),this.x=o,this.y=r,this.fixAndSetPosition()}getRect(a,o){const r=this.parentScale,[s,A]=this.pageDimensions,[c,y]=this.pageTranslation,q=a/r,re=o/r,Q=this.x*s,de=this.y*A,ee=this.width*s,ue=this.height*A;switch(this.rotation){case 0:return[Q+q+c,A-de-re-ue+y,Q+q+ee+c,A-de-re+y];case 90:return[Q+re+c,A-de+q+y,Q+re+ue+c,A-de+q+ee+y];case 180:return[Q-q-ee+c,A-de+re+y,Q-q+c,A-de+re+ue+y];case 270:return[Q-re-ue+c,A-de-q-ee+y,Q-re+c,A-de-q+y];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(a,o){const[r,s,A,c]=a,y=A-r,q=c-s;switch(this.rotation){case 0:return[r,o-c,y,q];case 90:return[r,o-s,q,y];case 180:return[A,o-s,y,q];case 270:return[A,o-c,q,y];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ye(this,u,!0)}disableEditMode(){Ye(this,u,!1)}isInEditMode(){return Ce(this,u)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var a,o;(a=this.div)==null||a.addEventListener("focusin",Ce(this,L)),(o=this.div)==null||o.addEventListener("focusout",Ce(this,F))}serialize(a=!1,o=null){(0,ve.unreachable)("An editor must be serializable")}static deserialize(a,o,r){const s=new this.prototype.constructor({parent:o,id:o.getNextId(),uiManager:r});s.rotation=a.rotation;const[A,c]=s.pageDimensions,[y,q,re,Q]=s.getRectInCurrentCoords(a.rect,c);return s.x=y/A,s.y=q/c,s.width=re/A,s.height=Q/c,s}remove(){var a;this.div.removeEventListener("focusin",Ce(this,L)),this.div.removeEventListener("focusout",Ce(this,F)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(a=Ce(this,d))==null||a.remove(),Ye(this,d,null),Ye(this,T,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(qe(this,B,ir).call(this),Ce(this,l).classList.remove("hidden"))}select(){var a;this.makeResizable(),(a=this.div)==null||a.classList.add("selectedEditor")}unselect(){var a,o,r;(a=Ce(this,l))==null||a.classList.add("hidden"),(o=this.div)==null||o.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(a,o){}disableEditing(){Ce(this,d)&&(Ce(this,d).hidden=!0)}enableEditing(){Ce(this,d)&&(Ce(this,d).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ce(this,w)}set isEditing(a){Ye(this,w,a),this.parent&&(a?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(a,o){Ye(this,t,!0);const r=a/o,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}};$=new WeakMap,n=new WeakMap,d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakMap,w=new WeakMap,u=new WeakMap,h=new WeakMap,i=new WeakMap,x=new WeakSet,gi=function([a,o],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/a,this.y+=s/o,this.fixAndSetPosition()},v=new WeakSet,pi=function(){const[a,o]=this.parentDimensions,{_borderLineWidth:r}=k,s=r/a,A=r/o;switch(this.rotation){case 90:return[-s,A];case 180:return[s,A];case 270:return[s,-A];default:return[-s,-A]}},N=new WeakSet,mi=function(a,o,r){switch(r){case 90:return[o,-a];case 180:return[-a,-o];case 270:return[-o,a];default:return[a,o]}},D=new WeakSet,xi=function(a){switch(a){case 90:{const[o,r]=this.pageDimensions;return[0,-o/r,r/o,0]}case 180:return[-1,0,0,-1];case 270:{const[o,r]=this.pageDimensions;return[0,o/r,-r/o,0]}default:return[1,0,0,1]}},B=new WeakSet,ir=function(){if(Ce(this,l))return;Ye(this,l,document.createElement("div")),Ce(this,l).classList.add("resizers");const a=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||a.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const o of a){const r=document.createElement("div");Ce(this,l).append(r),r.classList.add("resizer",o),r.addEventListener("pointerdown",qe(this,P,rr).bind(this,o)),r.addEventListener("contextmenu",we.noContextMenu)}this.div.prepend(Ce(this,l))},P=new WeakSet,rr=function(a,o){o.preventDefault();const{isMac:r}=ve.FeatureTest.platform;if(o.button!==0||o.ctrlKey&&r)return;const s=qe(this,m,ar).bind(this,a),A=this._isDraggable;this._isDraggable=!1;const c={passive:!0,capture:!0};window.addEventListener("pointermove",s,c);const y=this.x,q=this.y,re=this.width,Q=this.height,de=this.parent.div.style.cursor,ee=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(o.target).cursor;const ue=()=>{this._isDraggable=A,window.removeEventListener("pointerup",ue),window.removeEventListener("blur",ue),window.removeEventListener("pointermove",s,c),this.parent.div.style.cursor=de,this.div.style.cursor=ee;const W=this.x,Z=this.y,se=this.width,ne=this.height;W===y&&Z===q&&se===re&&ne===Q||this.addCommands({cmd:()=>{this.width=se,this.height=ne,this.x=W,this.y=Z;const[ie,H]=this.parentDimensions;this.setDims(ie*se,H*ne),this.fixAndSetPosition()},undo:()=>{this.width=re,this.height=Q,this.x=y,this.y=q;const[ie,H]=this.parentDimensions;this.setDims(ie*re,H*Q),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ue),window.addEventListener("blur",ue)},m=new WeakSet,ar=function(a,o){const[r,s]=this.parentDimensions,A=this.x,c=this.y,y=this.width,q=this.height,re=k.MIN_SIZE/r,Q=k.MIN_SIZE/s,de=Ie=>Math.round(Ie*1e4)/1e4,ee=qe(this,D,xi).call(this,this.rotation),ue=(Ie,Be)=>[ee[0]*Ie+ee[2]*Be,ee[1]*Ie+ee[3]*Be],W=qe(this,D,xi).call(this,360-this.rotation),Z=(Ie,Be)=>[W[0]*Ie+W[2]*Be,W[1]*Ie+W[3]*Be];let se,ne,ie=!1,H=!1;switch(a){case"topLeft":ie=!0,se=(Ie,Be)=>[0,0],ne=(Ie,Be)=>[Ie,Be];break;case"topMiddle":se=(Ie,Be)=>[Ie/2,0],ne=(Ie,Be)=>[Ie/2,Be];break;case"topRight":ie=!0,se=(Ie,Be)=>[Ie,0],ne=(Ie,Be)=>[0,Be];break;case"middleRight":H=!0,se=(Ie,Be)=>[Ie,Be/2],ne=(Ie,Be)=>[0,Be/2];break;case"bottomRight":ie=!0,se=(Ie,Be)=>[Ie,Be],ne=(Ie,Be)=>[0,0];break;case"bottomMiddle":se=(Ie,Be)=>[Ie/2,Be],ne=(Ie,Be)=>[Ie/2,0];break;case"bottomLeft":ie=!0,se=(Ie,Be)=>[0,Be],ne=(Ie,Be)=>[Ie,0];break;case"middleLeft":H=!0,se=(Ie,Be)=>[0,Be/2],ne=(Ie,Be)=>[Ie,Be/2];break}const Y=se(y,q),G=ne(y,q);let le=ue(...G);const ce=de(A+le[0]),te=de(c+le[1]);let ge=1,K=1,[Se,Oe]=this.screenToPageTranslation(o.movementX,o.movementY);if([Se,Oe]=Z(Se/r,Oe/s),ie){const Ie=Math.hypot(y,q);ge=K=Math.max(Math.min(Math.hypot(G[0]-Y[0]-Se,G[1]-Y[1]-Oe)/Ie,1/y,1/q),re/y,Q/q)}else H?ge=Math.max(re,Math.min(1,Math.abs(G[0]-Y[0]-Se)))/y:K=Math.max(Q,Math.min(1,Math.abs(G[1]-Y[1]-Oe)))/q;const Me=de(y*ge),_e=de(q*K);le=ue(...ne(Me,_e));const ke=ce-le[0],oe=te-le[1];this.width=Me,this.height=_e,this.x=ke,this.y=oe,this.setDims(r*Me,s*_e),this.fixAndSetPosition()},R=new WeakSet,bi=async function(){var r;const a=Ce(this,d);if(!a)return;if(!Ce(this,$)&&!Ce(this,n)){a.classList.remove("done"),(r=Ce(this,T))==null||r.remove();return}k._l10nPromise.get("editor_alt_text_edit_button_label").then(s=>{a.setAttribute("aria-label",s)});let o=Ce(this,T);if(!o){Ye(this,T,o=document.createElement("span")),o.className="tooltip",o.setAttribute("role","tooltip");const s=o.id=`alt-text-tooltip-${this.id}`;a.setAttribute("aria-describedby",s);const A=100;a.addEventListener("mouseenter",()=>{Ye(this,e,setTimeout(()=>{Ye(this,e,null),Ce(this,T).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},A))}),a.addEventListener("mouseleave",()=>{var c;clearTimeout(Ce(this,e)),Ye(this,e,null),(c=Ce(this,T))==null||c.classList.remove("show")})}a.classList.add("done"),o.innerText=Ce(this,n)?await k._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ce(this,$),o.parentNode||a.append(o)},O=new WeakSet,sr=function(a){if(!this._isDraggable)return;const o=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,s;o&&(r={passive:!0,capture:!0},s=c=>{const[y,q]=this.screenToPageTranslation(c.movementX,c.movementY);this._uiManager.dragSelectedEditors(y,q)},window.addEventListener("pointermove",s,r));const A=()=>{if(window.removeEventListener("pointerup",A),window.removeEventListener("blur",A),o&&window.removeEventListener("pointermove",s,r),Ye(this,g,!1),!this._uiManager.endDragSession()){const{isMac:c}=ve.FeatureTest.platform;a.ctrlKey&&!c||a.shiftKey||a.metaKey&&c?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",A),window.addEventListener("blur",A)},je(k,N),Mt(k,"_borderLineWidth",-1),Mt(k,"_colorManager",new J.ColorManager),Mt(k,"_zIndex",1),Mt(k,"SMALL_EDITOR_SIZE",0);let fe=k;V.AnnotationEditor=fe;class f extends fe{constructor(a){super(a),this.annotationElementId=a.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(j,V,be)=>{var t,l,L,F,g,yi,h,i,x,p,v,or,U,D,I,B,_,P,X,m,S,R,z,O,E,k,M,a,o,r,s,A,c,y,q,re,Q,de,ee,ue,W,Z,se,ne,ie,H,Y,lr,le,wi,te,vi,K,Mn,Oe,Si,_e,Ai,oe,Zt,Be,vn,De,cr,me,ur,Re,_i,Xe,Sn,ae,Ei;Object.defineProperty(V,"__esModule",{value:!0}),V.KeyboardManager=V.CommandManager=V.ColorManager=V.AnnotationEditorUIManager=void 0,V.bindEvents=we,V.opacityToHex=fe;var J=be(1),ve=be(6);function we(Ee,xe,Te){for(const Ne of Te)xe.addEventListener(Ne,Ee[Ne].bind(Ee))}function fe(Ee){return Math.round(Math.min(255,Math.max(1,255*Ee))).toString(16).padStart(2,"0")}class f{constructor(){je(this,t,0)}getId(){return`${J.AnnotationEditorPrefix}${wn(this,t)._++}`}}t=new WeakMap;const u=class u{constructor(){je(this,g);je(this,l,(0,J.getUuid)());je(this,L,0);je(this,F,null)}static get _isSVGFittingCanvas(){const xe='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ne=new OffscreenCanvas(1,3).getContext("2d"),$e=new Image;$e.src=xe;const Ue=$e.decode().then(()=>(Ne.drawImage($e,0,0,1,1,0,0,1,3),new Uint32Array(Ne.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,J.shadow)(this,"_isSVGFittingCanvas",Ue)}async getFromFile(xe){const{lastModified:Te,name:Ne,size:$e,type:Ue}=xe;return qe(this,g,yi).call(this,`${Te}_${Ne}_${$e}_${Ue}`,xe)}async getFromUrl(xe){return qe(this,g,yi).call(this,xe,xe)}async getFromId(xe){Ce(this,F)||Ye(this,F,new Map);const Te=Ce(this,F).get(xe);return Te?Te.bitmap?(Te.refCounter+=1,Te):Te.file?this.getFromFile(Te.file):this.getFromUrl(Te.url):null}getSvgUrl(xe){const Te=Ce(this,F).get(xe);return Te!=null&&Te.isSvg?Te.svgUrl:null}deleteId(xe){Ce(this,F)||Ye(this,F,new Map);const Te=Ce(this,F).get(xe);Te&&(Te.refCounter-=1,Te.refCounter===0&&(Te.bitmap=null))}isValidId(xe){return xe.startsWith(`image_${Ce(this,l)}_`)}};l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakSet,yi=async function(xe,Te){Ce(this,F)||Ye(this,F,new Map);let Ne=Ce(this,F).get(xe);if(Ne===null)return null;if(Ne!=null&&Ne.bitmap)return Ne.refCounter+=1,Ne;try{Ne||(Ne={bitmap:null,id:`image_${Ce(this,l)}_${wn(this,L)._++}`,refCounter:0,isSvg:!1});let $e;if(typeof Te=="string"){Ne.url=Te;const Ue=await fetch(Te);if(!Ue.ok)throw new Error(Ue.statusText);$e=await Ue.blob()}else $e=Ne.file=Te;if($e.type==="image/svg+xml"){const Ue=u._isSVGFittingCanvas,ze=new FileReader,Ge=new Image,Ve=new Promise((Ke,et)=>{Ge.onload=()=>{Ne.bitmap=Ge,Ne.isSvg=!0,Ke()},ze.onload=async()=>{const rt=Ne.svgUrl=ze.result;Ge.src=await Ue?`${rt}#svgView(preserveAspectRatio(none))`:rt},Ge.onerror=ze.onerror=et});ze.readAsDataURL($e),await Ve}else Ne.bitmap=await createImageBitmap($e);Ne.refCounter=1}catch($e){console.error($e),Ne=null}return Ce(this,F).set(xe,Ne),Ne&&Ce(this,F).set(Ne.id,Ne),Ne};let $=u;class n{constructor(xe=128){je(this,h,[]);je(this,i,!1);je(this,x,void 0);je(this,p,-1);Ye(this,x,xe)}add({cmd:xe,undo:Te,mustExec:Ne,type:$e=NaN,overwriteIfSameType:Ue=!1,keepUndo:ze=!1}){if(Ne&&xe(),Ce(this,i))return;const Ge={cmd:xe,undo:Te,type:$e};if(Ce(this,p)===-1){Ce(this,h).length>0&&(Ce(this,h).length=0),Ye(this,p,0),Ce(this,h).push(Ge);return}if(Ue&&Ce(this,h)[Ce(this,p)].type===$e){ze&&(Ge.undo=Ce(this,h)[Ce(this,p)].undo),Ce(this,h)[Ce(this,p)]=Ge;return}const Ve=Ce(this,p)+1;Ve===Ce(this,x)?Ce(this,h).splice(0,1):(Ye(this,p,Ve),Ve<Ce(this,h).length&&Ce(this,h).splice(Ve)),Ce(this,h).push(Ge)}undo(){Ce(this,p)!==-1&&(Ye(this,i,!0),Ce(this,h)[Ce(this,p)].undo(),Ye(this,i,!1),Ye(this,p,Ce(this,p)-1))}redo(){Ce(this,p)<Ce(this,h).length-1&&(Ye(this,p,Ce(this,p)+1),Ye(this,i,!0),Ce(this,h)[Ce(this,p)].cmd(),Ye(this,i,!1))}hasSomethingToUndo(){return Ce(this,p)!==-1}hasSomethingToRedo(){return Ce(this,p)<Ce(this,h).length-1}destroy(){Ye(this,h,null)}}h=new WeakMap,i=new WeakMap,x=new WeakMap,p=new WeakMap,V.CommandManager=n;class d{constructor(xe){je(this,v);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Te}=J.FeatureTest.platform;for(const[Ne,$e,Ue={}]of xe)for(const ze of Ne){const Ge=ze.startsWith("mac+");Te&&Ge?(this.callbacks.set(ze.slice(4),{callback:$e,options:Ue}),this.allKeys.add(ze.split("+").at(-1))):!Te&&!Ge&&(this.callbacks.set(ze,{callback:$e,options:Ue}),this.allKeys.add(ze.split("+").at(-1)))}}exec(xe,Te){if(!this.allKeys.has(Te.key))return;const Ne=this.callbacks.get(qe(this,v,or).call(this,Te));if(!Ne)return;const{callback:$e,options:{bubbles:Ue=!1,args:ze=[],checker:Ge=null}}=Ne;Ge&&!Ge(xe,Te)||($e.bind(xe,...ze)(),Ue||(Te.stopPropagation(),Te.preventDefault()))}}v=new WeakSet,or=function(xe){xe.altKey&&this.buffer.push("alt"),xe.ctrlKey&&this.buffer.push("ctrl"),xe.metaKey&&this.buffer.push("meta"),xe.shiftKey&&this.buffer.push("shift"),this.buffer.push(xe.key);const Te=this.buffer.join("+");return this.buffer.length=0,Te},V.KeyboardManager=d;const N=class N{get _colors(){const xe=new Map([["CanvasText",null],["Canvas",null]]);return(0,ve.getColorValues)(xe),(0,J.shadow)(this,"_colors",xe)}convert(xe){const Te=(0,ve.getRGB)(xe);if(!window.matchMedia("(forced-colors: active)").matches)return Te;for(const[Ne,$e]of this._colors)if($e.every((Ue,ze)=>Ue===Te[ze]))return N._colorsMapping.get(Ne);return Te}getHexCode(xe){const Te=this._colors.get(xe);return Te?J.Util.makeHexColor(...Te):xe}};Mt(N,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let T=N;V.ColorManager=T;const Le=class Le{constructor(xe,Te,Ne,$e,Ue,ze){je(this,Y);je(this,le);je(this,te);je(this,K);je(this,Oe);je(this,_e);je(this,oe);je(this,Be);je(this,De);je(this,me);je(this,Re);je(this,Xe);je(this,ae);je(this,U,null);je(this,D,new Map);je(this,I,new Map);je(this,B,null);je(this,_,null);je(this,P,new n);je(this,X,0);je(this,m,new Set);je(this,S,null);je(this,R,null);je(this,z,new Set);je(this,O,null);je(this,E,new f);je(this,k,!1);je(this,M,!1);je(this,a,null);je(this,o,J.AnnotationEditorType.NONE);je(this,r,new Set);je(this,s,null);je(this,A,this.blur.bind(this));je(this,c,this.focus.bind(this));je(this,y,this.copy.bind(this));je(this,q,this.cut.bind(this));je(this,re,this.paste.bind(this));je(this,Q,this.keydown.bind(this));je(this,de,this.onEditingAction.bind(this));je(this,ee,this.onPageChanging.bind(this));je(this,ue,this.onScaleChanging.bind(this));je(this,W,this.onRotationChanging.bind(this));je(this,Z,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});je(this,se,[0,0]);je(this,ne,null);je(this,ie,null);je(this,H,null);Ye(this,ie,xe),Ye(this,H,Te),Ye(this,B,Ne),this._eventBus=$e,this._eventBus._on("editingaction",Ce(this,de)),this._eventBus._on("pagechanging",Ce(this,ee)),this._eventBus._on("scalechanging",Ce(this,ue)),this._eventBus._on("rotationchanging",Ce(this,W)),Ye(this,_,Ue.annotationStorage),Ye(this,O,Ue.filterFactory),Ye(this,s,ze),this.viewParameters={realScale:ve.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const xe=Le.prototype,Te=Ue=>{const{activeElement:ze}=document;return ze&&Ce(Ue,ie).contains(ze)&&Ue.hasSomethingToControl()},Ne=this.TRANSLATE_SMALL,$e=this.TRANSLATE_BIG;return(0,J.shadow)(this,"_keyboardManager",new d([[["ctrl+a","mac+meta+a"],xe.selectAll],[["ctrl+z","mac+meta+z"],xe.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],xe.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],xe.delete],[["Escape","mac+Escape"],xe.unselectAll],[["ArrowLeft","mac+ArrowLeft"],xe.translateSelectedEditors,{args:[-Ne,0],checker:Te}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],xe.translateSelectedEditors,{args:[-$e,0],checker:Te}],[["ArrowRight","mac+ArrowRight"],xe.translateSelectedEditors,{args:[Ne,0],checker:Te}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],xe.translateSelectedEditors,{args:[$e,0],checker:Te}],[["ArrowUp","mac+ArrowUp"],xe.translateSelectedEditors,{args:[0,-Ne],checker:Te}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],xe.translateSelectedEditors,{args:[0,-$e],checker:Te}],[["ArrowDown","mac+ArrowDown"],xe.translateSelectedEditors,{args:[0,Ne],checker:Te}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],xe.translateSelectedEditors,{args:[0,$e],checker:Te}]]))}destroy(){qe(this,K,Mn).call(this),qe(this,le,wi).call(this),this._eventBus._off("editingaction",Ce(this,de)),this._eventBus._off("pagechanging",Ce(this,ee)),this._eventBus._off("scalechanging",Ce(this,ue)),this._eventBus._off("rotationchanging",Ce(this,W));for(const xe of Ce(this,I).values())xe.destroy();Ce(this,I).clear(),Ce(this,D).clear(),Ce(this,z).clear(),Ye(this,U,null),Ce(this,r).clear(),Ce(this,P).destroy(),Ce(this,B).destroy()}get hcmFilter(){return(0,J.shadow)(this,"hcmFilter",Ce(this,s)?Ce(this,O).addHCMFilter(Ce(this,s).foreground,Ce(this,s).background):"none")}get direction(){return(0,J.shadow)(this,"direction",getComputedStyle(Ce(this,ie)).direction)}editAltText(xe){var Te;(Te=Ce(this,B))==null||Te.editAltText(this,xe)}onPageChanging({pageNumber:xe}){Ye(this,X,xe-1)}focusMainContainer(){Ce(this,ie).focus()}findParent(xe,Te){for(const Ne of Ce(this,I).values()){const{x:$e,y:Ue,width:ze,height:Ge}=Ne.div.getBoundingClientRect();if(xe>=$e&&xe<=$e+ze&&Te>=Ue&&Te<=Ue+Ge)return Ne}return null}disableUserSelect(xe=!1){Ce(this,H).classList.toggle("noUserSelect",xe)}addShouldRescale(xe){Ce(this,z).add(xe)}removeShouldRescale(xe){Ce(this,z).delete(xe)}onScaleChanging({scale:xe}){this.commitOrRemove(),this.viewParameters.realScale=xe*ve.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Te of Ce(this,z))Te.onScaleChanging()}onRotationChanging({pagesRotation:xe}){this.commitOrRemove(),this.viewParameters.rotation=xe}addToAnnotationStorage(xe){!xe.isEmpty()&&Ce(this,_)&&!Ce(this,_).has(xe.id)&&Ce(this,_).setValue(xe.id,xe)}blur(){if(!this.hasSelection)return;const{activeElement:xe}=document;for(const Te of Ce(this,r))if(Te.div.contains(xe)){Ye(this,a,[Te,xe]),Te._focusEventsAllowed=!1;break}}focus(){if(!Ce(this,a))return;const[xe,Te]=Ce(this,a);Ye(this,a,null),Te.addEventListener("focusin",()=>{xe._focusEventsAllowed=!0},{once:!0}),Te.focus()}addEditListeners(){qe(this,te,vi).call(this),qe(this,Oe,Si).call(this)}removeEditListeners(){qe(this,K,Mn).call(this),qe(this,_e,Ai).call(this)}copy(xe){var Ne;if(xe.preventDefault(),(Ne=Ce(this,U))==null||Ne.commitOrRemove(),!this.hasSelection)return;const Te=[];for(const $e of Ce(this,r)){const Ue=$e.serialize(!0);Ue&&Te.push(Ue)}Te.length!==0&&xe.clipboardData.setData("application/pdfjs",JSON.stringify(Te))}cut(xe){this.copy(xe),this.delete()}paste(xe){xe.preventDefault();const{clipboardData:Te}=xe;for(const Ue of Te.items)for(const ze of Ce(this,R))if(ze.isHandlingMimeForPasting(Ue.type)){ze.paste(Ue,this.currentLayer);return}let Ne=Te.getData("application/pdfjs");if(!Ne)return;try{Ne=JSON.parse(Ne)}catch(Ue){(0,J.warn)(`paste: "${Ue.message}".`);return}if(!Array.isArray(Ne))return;this.unselectAll();const $e=this.currentLayer;try{const Ue=[];for(const Ve of Ne){const Ke=$e.deserialize(Ve);if(!Ke)return;Ue.push(Ke)}const ze=()=>{for(const Ve of Ue)qe(this,Re,_i).call(this,Ve);qe(this,ae,Ei).call(this,Ue)},Ge=()=>{for(const Ve of Ue)Ve.remove()};this.addCommands({cmd:ze,undo:Ge,mustExec:!0})}catch(Ue){(0,J.warn)(`paste: "${Ue.message}".`)}}keydown(xe){var Te;(Te=this.getActive())!=null&&Te.shouldGetKeyboardEvents()||Le._keyboardManager.exec(this,xe)}onEditingAction(xe){["undo","redo","delete","selectAll"].includes(xe.name)&&this[xe.name]()}setEditingState(xe){xe?(qe(this,Y,lr).call(this),qe(this,te,vi).call(this),qe(this,Oe,Si).call(this),qe(this,oe,Zt).call(this,{isEditing:Ce(this,o)!==J.AnnotationEditorType.NONE,isEmpty:qe(this,Xe,Sn).call(this),hasSomethingToUndo:Ce(this,P).hasSomethingToUndo(),hasSomethingToRedo:Ce(this,P).hasSomethingToRedo(),hasSelectedEditor:!1})):(qe(this,le,wi).call(this),qe(this,K,Mn).call(this),qe(this,_e,Ai).call(this),qe(this,oe,Zt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(xe){if(!Ce(this,R)){Ye(this,R,xe);for(const Te of Ce(this,R))qe(this,Be,vn).call(this,Te.defaultPropertiesToUpdate)}}getId(){return Ce(this,E).getId()}get currentLayer(){return Ce(this,I).get(Ce(this,X))}getLayer(xe){return Ce(this,I).get(xe)}get currentPageIndex(){return Ce(this,X)}addLayer(xe){Ce(this,I).set(xe.pageIndex,xe),Ce(this,k)?xe.enable():xe.disable()}removeLayer(xe){Ce(this,I).delete(xe.pageIndex)}updateMode(xe,Te=null){if(Ce(this,o)!==xe){if(Ye(this,o,xe),xe===J.AnnotationEditorType.NONE){this.setEditingState(!1),qe(this,me,ur).call(this);return}this.setEditingState(!0),qe(this,De,cr).call(this),this.unselectAll();for(const Ne of Ce(this,I).values())Ne.updateMode(xe);if(Te){for(const Ne of Ce(this,D).values())if(Ne.annotationElementId===Te){this.setSelected(Ne),Ne.enterInEditMode();break}}}}updateToolbar(xe){xe!==Ce(this,o)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:xe})}updateParams(xe,Te){if(Ce(this,R)){if(xe===J.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(xe);return}for(const Ne of Ce(this,r))Ne.updateParams(xe,Te);for(const Ne of Ce(this,R))Ne.updateDefaultParams(xe,Te)}}enableWaiting(xe=!1){if(Ce(this,M)!==xe){Ye(this,M,xe);for(const Te of Ce(this,I).values())xe?Te.disableClick():Te.enableClick(),Te.div.classList.toggle("waiting",xe)}}getEditors(xe){const Te=[];for(const Ne of Ce(this,D).values())Ne.pageIndex===xe&&Te.push(Ne);return Te}getEditor(xe){return Ce(this,D).get(xe)}addEditor(xe){Ce(this,D).set(xe.id,xe)}removeEditor(xe){var Te;Ce(this,D).delete(xe.id),this.unselect(xe),(!xe.annotationElementId||!Ce(this,m).has(xe.annotationElementId))&&((Te=Ce(this,_))==null||Te.remove(xe.id))}addDeletedAnnotationElement(xe){Ce(this,m).add(xe.annotationElementId),xe.deleted=!0}isDeletedAnnotationElement(xe){return Ce(this,m).has(xe)}removeDeletedAnnotationElement(xe){Ce(this,m).delete(xe.annotationElementId),xe.deleted=!1}setActiveEditor(xe){Ce(this,U)!==xe&&(Ye(this,U,xe),xe&&qe(this,Be,vn).call(this,xe.propertiesToUpdate))}toggleSelected(xe){if(Ce(this,r).has(xe)){Ce(this,r).delete(xe),xe.unselect(),qe(this,oe,Zt).call(this,{hasSelectedEditor:this.hasSelection});return}Ce(this,r).add(xe),xe.select(),qe(this,Be,vn).call(this,xe.propertiesToUpdate),qe(this,oe,Zt).call(this,{hasSelectedEditor:!0})}setSelected(xe){for(const Te of Ce(this,r))Te!==xe&&Te.unselect();Ce(this,r).clear(),Ce(this,r).add(xe),xe.select(),qe(this,Be,vn).call(this,xe.propertiesToUpdate),qe(this,oe,Zt).call(this,{hasSelectedEditor:!0})}isSelected(xe){return Ce(this,r).has(xe)}unselect(xe){xe.unselect(),Ce(this,r).delete(xe),qe(this,oe,Zt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ce(this,r).size!==0}undo(){Ce(this,P).undo(),qe(this,oe,Zt).call(this,{hasSomethingToUndo:Ce(this,P).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:qe(this,Xe,Sn).call(this)})}redo(){Ce(this,P).redo(),qe(this,oe,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ce(this,P).hasSomethingToRedo(),isEmpty:qe(this,Xe,Sn).call(this)})}addCommands(xe){Ce(this,P).add(xe),qe(this,oe,Zt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:qe(this,Xe,Sn).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const xe=[...Ce(this,r)],Te=()=>{for(const $e of xe)$e.remove()},Ne=()=>{for(const $e of xe)qe(this,Re,_i).call(this,$e)};this.addCommands({cmd:Te,undo:Ne,mustExec:!0})}commitOrRemove(){var xe;(xe=Ce(this,U))==null||xe.commitOrRemove()}hasSomethingToControl(){return Ce(this,U)||this.hasSelection}selectAll(){for(const xe of Ce(this,r))xe.commit();qe(this,ae,Ei).call(this,Ce(this,D).values())}unselectAll(){if(Ce(this,U)){Ce(this,U).commitOrRemove();return}if(this.hasSelection){for(const xe of Ce(this,r))xe.unselect();Ce(this,r).clear(),qe(this,oe,Zt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(xe,Te,Ne=!1){if(Ne||this.commitOrRemove(),!this.hasSelection)return;Ce(this,se)[0]+=xe,Ce(this,se)[1]+=Te;const[$e,Ue]=Ce(this,se),ze=[...Ce(this,r)],Ge=1e3;Ce(this,ne)&&clearTimeout(Ce(this,ne)),Ye(this,ne,setTimeout(()=>{Ye(this,ne,null),Ce(this,se)[0]=Ce(this,se)[1]=0,this.addCommands({cmd:()=>{for(const Ve of ze)Ce(this,D).has(Ve.id)&&Ve.translateInPage($e,Ue)},undo:()=>{for(const Ve of ze)Ce(this,D).has(Ve.id)&&Ve.translateInPage(-$e,-Ue)},mustExec:!1})},Ge));for(const Ve of ze)Ve.translateInPage(xe,Te)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ye(this,S,new Map);for(const xe of Ce(this,r))Ce(this,S).set(xe,{savedX:xe.x,savedY:xe.y,savedPageIndex:xe.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ce(this,S))return!1;this.disableUserSelect(!1);const xe=Ce(this,S);Ye(this,S,null);let Te=!1;for(const[{x:$e,y:Ue,pageIndex:ze},Ge]of xe)Ge.newX=$e,Ge.newY=Ue,Ge.newPageIndex=ze,Te||(Te=$e!==Ge.savedX||Ue!==Ge.savedY||ze!==Ge.savedPageIndex);if(!Te)return!1;const Ne=($e,Ue,ze,Ge)=>{if(Ce(this,D).has($e.id)){const Ve=Ce(this,I).get(Ge);Ve?$e._setParentAndPosition(Ve,Ue,ze):($e.pageIndex=Ge,$e.x=Ue,$e.y=ze)}};return this.addCommands({cmd:()=>{for(const[$e,{newX:Ue,newY:ze,newPageIndex:Ge}]of xe)Ne($e,Ue,ze,Ge)},undo:()=>{for(const[$e,{savedX:Ue,savedY:ze,savedPageIndex:Ge}]of xe)Ne($e,Ue,ze,Ge)},mustExec:!0}),!0}dragSelectedEditors(xe,Te){if(Ce(this,S))for(const Ne of Ce(this,S).keys())Ne.drag(xe,Te)}rebuild(xe){if(xe.parent===null){const Te=this.getLayer(xe.pageIndex);Te?(Te.changeParent(xe),Te.addOrRebuild(xe)):(this.addEditor(xe),this.addToAnnotationStorage(xe),xe.rebuild())}else xe.parent.addOrRebuild(xe)}isActive(xe){return Ce(this,U)===xe}getActive(){return Ce(this,U)}getMode(){return Ce(this,o)}get imageManager(){return(0,J.shadow)(this,"imageManager",new $)}};U=new WeakMap,D=new WeakMap,I=new WeakMap,B=new WeakMap,_=new WeakMap,P=new WeakMap,X=new WeakMap,m=new WeakMap,S=new WeakMap,R=new WeakMap,z=new WeakMap,O=new WeakMap,E=new WeakMap,k=new WeakMap,M=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakMap,s=new WeakMap,A=new WeakMap,c=new WeakMap,y=new WeakMap,q=new WeakMap,re=new WeakMap,Q=new WeakMap,de=new WeakMap,ee=new WeakMap,ue=new WeakMap,W=new WeakMap,Z=new WeakMap,se=new WeakMap,ne=new WeakMap,ie=new WeakMap,H=new WeakMap,Y=new WeakSet,lr=function(){window.addEventListener("focus",Ce(this,c)),window.addEventListener("blur",Ce(this,A))},le=new WeakSet,wi=function(){window.removeEventListener("focus",Ce(this,c)),window.removeEventListener("blur",Ce(this,A))},te=new WeakSet,vi=function(){window.addEventListener("keydown",Ce(this,Q),{capture:!0})},K=new WeakSet,Mn=function(){window.removeEventListener("keydown",Ce(this,Q),{capture:!0})},Oe=new WeakSet,Si=function(){document.addEventListener("copy",Ce(this,y)),document.addEventListener("cut",Ce(this,q)),document.addEventListener("paste",Ce(this,re))},_e=new WeakSet,Ai=function(){document.removeEventListener("copy",Ce(this,y)),document.removeEventListener("cut",Ce(this,q)),document.removeEventListener("paste",Ce(this,re))},oe=new WeakSet,Zt=function(xe){Object.entries(xe).some(([Ne,$e])=>Ce(this,Z)[Ne]!==$e)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ce(this,Z),xe)})},Be=new WeakSet,vn=function(xe){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:xe})},De=new WeakSet,cr=function(){if(!Ce(this,k)){Ye(this,k,!0);for(const xe of Ce(this,I).values())xe.enable()}},me=new WeakSet,ur=function(){if(this.unselectAll(),Ce(this,k)){Ye(this,k,!1);for(const xe of Ce(this,I).values())xe.disable()}},Re=new WeakSet,_i=function(xe){const Te=Ce(this,I).get(xe.pageIndex);Te?Te.addOrRebuild(xe):this.addEditor(xe)},Xe=new WeakSet,Sn=function(){if(Ce(this,D).size===0)return!0;if(Ce(this,D).size===1)for(const xe of Ce(this,D).values())return xe.isEmpty();return!1},ae=new WeakSet,Ei=function(xe){Ce(this,r).clear();for(const Te of xe)Te.isEmpty()||(Ce(this,r).add(Te),Te.select());qe(this,oe,Zt).call(this,{hasSelectedEditor:!0})},Mt(Le,"TRANSLATE_SMALL",1),Mt(Le,"TRANSLATE_BIG",10);let e=Le;V.AnnotationEditorUIManager=e},(j,V,be)=>{var X,m,S,R,z,O,E,k,M,a,o,r,cn,A,un,y,Ci,re,Dn,de,Ln,ue,An,Z,_n;Object.defineProperty(V,"__esModule",{value:!0}),V.StatTimer=V.RenderingCancelledException=V.PixelsPerInch=V.PageViewport=V.PDFDateString=V.DOMStandardFontDataFactory=V.DOMSVGFactory=V.DOMFilterFactory=V.DOMCanvasFactory=V.DOMCMapReaderFactory=void 0,V.deprecated=p,V.getColorValues=D,V.getCurrentTransform=I,V.getCurrentTransformInverse=B,V.getFilenameFromUrl=g,V.getPdfFilenameFromUrl=w,V.getRGB=U,V.getXfaPageViewport=N,V.isDataScheme=L,V.isPdfFile=F,V.isValidFetchUrl=h,V.loadScript=x,V.noContextMenu=i,V.setLayerDimensions=_;var J=be(7),ve=be(1);const we="http://www.w3.org/2000/svg",P=class P{};Mt(P,"CSS",96),Mt(P,"PDF",72),Mt(P,"PDF_TO_CSS_UNITS",P.CSS/P.PDF);let fe=P;V.PixelsPerInch=fe;class f extends J.BaseFilterFactory{constructor({docId:H,ownerDocument:Y=globalThis.document}={}){super();je(this,r);je(this,A);je(this,y);je(this,re);je(this,de);je(this,ue);je(this,Z);je(this,X,void 0);je(this,m,void 0);je(this,S,void 0);je(this,R,void 0);je(this,z,void 0);je(this,O,void 0);je(this,E,void 0);je(this,k,void 0);je(this,M,void 0);je(this,a,void 0);je(this,o,0);Ye(this,S,H),Ye(this,R,Y)}addFilter(H){if(!H)return"none";let Y=Ce(this,r,cn).get(H);if(Y)return Y;let G,le,ce,te;if(H.length===1){const Oe=H[0],Me=new Array(256);for(let _e=0;_e<256;_e++)Me[_e]=Oe[_e]/255;te=G=le=ce=Me.join(",")}else{const[Oe,Me,_e]=H,ke=new Array(256),oe=new Array(256),Ie=new Array(256);for(let Be=0;Be<256;Be++)ke[Be]=Oe[Be]/255,oe[Be]=Me[Be]/255,Ie[Be]=_e[Be]/255;G=ke.join(","),le=oe.join(","),ce=Ie.join(","),te=`${G}${le}${ce}`}if(Y=Ce(this,r,cn).get(te),Y)return Ce(this,r,cn).set(H,Y),Y;const ge=`g_${Ce(this,S)}_transfer_map_${wn(this,o)._++}`,K=`url(#${ge})`;Ce(this,r,cn).set(H,K),Ce(this,r,cn).set(te,K);const Se=qe(this,re,Dn).call(this,ge);return qe(this,ue,An).call(this,G,le,ce,Se),K}addHCMFilter(H,Y){var Me;const G=`${H}-${Y}`;if(Ce(this,O)===G)return Ce(this,E);if(Ye(this,O,G),Ye(this,E,"none"),(Me=Ce(this,z))==null||Me.remove(),!H||!Y)return Ce(this,E);const le=qe(this,Z,_n).call(this,H);H=ve.Util.makeHexColor(...le);const ce=qe(this,Z,_n).call(this,Y);if(Y=ve.Util.makeHexColor(...ce),Ce(this,A,un).style.color="",H==="#000000"&&Y==="#ffffff"||H===Y)return Ce(this,E);const te=new Array(256);for(let _e=0;_e<=255;_e++){const ke=_e/255;te[_e]=ke<=.03928?ke/12.92:((ke+.055)/1.055)**2.4}const ge=te.join(","),K=`g_${Ce(this,S)}_hcm_filter`,Se=Ye(this,k,qe(this,re,Dn).call(this,K));qe(this,ue,An).call(this,ge,ge,ge,Se),qe(this,y,Ci).call(this,Se);const Oe=(_e,ke)=>{const oe=le[_e]/255,Ie=ce[_e]/255,Be=new Array(ke+1);for(let he=0;he<=ke;he++)Be[he]=oe+he/ke*(Ie-oe);return Be.join(",")};return qe(this,ue,An).call(this,Oe(0,5),Oe(1,5),Oe(2,5),Se),Ye(this,E,`url(#${K})`),Ce(this,E)}addHighlightHCMFilter(H,Y,G,le){var Ie;const ce=`${H}-${Y}-${G}-${le}`;if(Ce(this,M)===ce)return Ce(this,a);if(Ye(this,M,ce),Ye(this,a,"none"),(Ie=Ce(this,k))==null||Ie.remove(),!H||!Y)return Ce(this,a);const[te,ge]=[H,Y].map(qe(this,Z,_n).bind(this));let K=Math.round(.2126*te[0]+.7152*te[1]+.0722*te[2]),Se=Math.round(.2126*ge[0]+.7152*ge[1]+.0722*ge[2]),[Oe,Me]=[G,le].map(qe(this,Z,_n).bind(this));Se<K&&([K,Se,Oe,Me]=[Se,K,Me,Oe]),Ce(this,A,un).style.color="";const _e=(Be,he,De)=>{const ye=new Array(256),me=(Se-K)/De,Pe=Be/255,Re=(he-Be)/(255*De);let He=0;for(let Xe=0;Xe<=De;Xe++){const Fe=Math.round(K+Xe*me),ae=Pe+Xe*Re;for(let Ae=He;Ae<=Fe;Ae++)ye[Ae]=ae;He=Fe+1}for(let Xe=He;Xe<256;Xe++)ye[Xe]=ye[He-1];return ye.join(",")},ke=`g_${Ce(this,S)}_hcm_highlight_filter`,oe=Ye(this,k,qe(this,re,Dn).call(this,ke));return qe(this,y,Ci).call(this,oe),qe(this,ue,An).call(this,_e(Oe[0],Me[0],5),_e(Oe[1],Me[1],5),_e(Oe[2],Me[2],5),oe),Ye(this,a,`url(#${ke})`),Ce(this,a)}destroy(H=!1){H&&(Ce(this,E)||Ce(this,a))||(Ce(this,m)&&(Ce(this,m).parentNode.parentNode.remove(),Ye(this,m,null)),Ce(this,X)&&(Ce(this,X).clear(),Ye(this,X,null)),Ye(this,o,0))}}X=new WeakMap,m=new WeakMap,S=new WeakMap,R=new WeakMap,z=new WeakMap,O=new WeakMap,E=new WeakMap,k=new WeakMap,M=new WeakMap,a=new WeakMap,o=new WeakMap,r=new WeakSet,cn=function(){return Ce(this,X)||Ye(this,X,new Map)},A=new WeakSet,un=function(){if(!Ce(this,m)){const H=Ce(this,R).createElement("div"),{style:Y}=H;Y.visibility="hidden",Y.contain="strict",Y.width=Y.height=0,Y.position="absolute",Y.top=Y.left=0,Y.zIndex=-1;const G=Ce(this,R).createElementNS(we,"svg");G.setAttribute("width",0),G.setAttribute("height",0),Ye(this,m,Ce(this,R).createElementNS(we,"defs")),H.append(G),G.append(Ce(this,m)),Ce(this,R).body.append(H)}return Ce(this,m)},y=new WeakSet,Ci=function(H){const Y=Ce(this,R).createElementNS(we,"feColorMatrix");Y.setAttribute("type","matrix"),Y.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),H.append(Y)},re=new WeakSet,Dn=function(H){const Y=Ce(this,R).createElementNS(we,"filter");return Y.setAttribute("color-interpolation-filters","sRGB"),Y.setAttribute("id",H),Ce(this,A,un).append(Y),Y},de=new WeakSet,Ln=function(H,Y,G){const le=Ce(this,R).createElementNS(we,Y);le.setAttribute("type","discrete"),le.setAttribute("tableValues",G),H.append(le)},ue=new WeakSet,An=function(H,Y,G,le){const ce=Ce(this,R).createElementNS(we,"feComponentTransfer");le.append(ce),qe(this,de,Ln).call(this,ce,"feFuncR",H),qe(this,de,Ln).call(this,ce,"feFuncG",Y),qe(this,de,Ln).call(this,ce,"feFuncB",G)},Z=new WeakSet,_n=function(H){return Ce(this,A,un).style.color=H,U(getComputedStyle(Ce(this,A,un)).getPropertyValue("color"))},V.DOMFilterFactory=f;class $ extends J.BaseCanvasFactory{constructor({ownerDocument:ie=globalThis.document}={}){super(),this._document=ie}_createCanvas(ie,H){const Y=this._document.createElement("canvas");return Y.width=ie,Y.height=H,Y}}V.DOMCanvasFactory=$;async function n(ne,ie=!1){if(h(ne,document.baseURI)){const H=await fetch(ne);if(!H.ok)throw new Error(H.statusText);return ie?new Uint8Array(await H.arrayBuffer()):(0,ve.stringToBytes)(await H.text())}return new Promise((H,Y)=>{const G=new XMLHttpRequest;G.open("GET",ne,!0),ie&&(G.responseType="arraybuffer"),G.onreadystatechange=()=>{if(G.readyState===XMLHttpRequest.DONE){if(G.status===200||G.status===0){let le;if(ie&&G.response?le=new Uint8Array(G.response):!ie&&G.responseText&&(le=(0,ve.stringToBytes)(G.responseText)),le){H(le);return}}Y(new Error(G.statusText))}},G.send(null)})}class d extends J.BaseCMapReaderFactory{_fetchData(ie,H){return n(ie,this.isCompressed).then(Y=>({cMapData:Y,compressionType:H}))}}V.DOMCMapReaderFactory=d;class T extends J.BaseStandardFontDataFactory{_fetchData(ie){return n(ie,!0)}}V.DOMStandardFontDataFactory=T;class e extends J.BaseSVGFactory{_createSVG(ie){return document.createElementNS(we,ie)}}V.DOMSVGFactory=e;class t{constructor({viewBox:ie,scale:H,rotation:Y,offsetX:G=0,offsetY:le=0,dontFlip:ce=!1}){this.viewBox=ie,this.scale=H,this.rotation=Y,this.offsetX=G,this.offsetY=le;const te=(ie[2]+ie[0])/2,ge=(ie[3]+ie[1])/2;let K,Se,Oe,Me;switch(Y%=360,Y<0&&(Y+=360),Y){case 180:K=-1,Se=0,Oe=0,Me=1;break;case 90:K=0,Se=1,Oe=1,Me=0;break;case 270:K=0,Se=-1,Oe=-1,Me=0;break;case 0:K=1,Se=0,Oe=0,Me=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ce&&(Oe=-Oe,Me=-Me);let _e,ke,oe,Ie;K===0?(_e=Math.abs(ge-ie[1])*H+G,ke=Math.abs(te-ie[0])*H+le,oe=(ie[3]-ie[1])*H,Ie=(ie[2]-ie[0])*H):(_e=Math.abs(te-ie[0])*H+G,ke=Math.abs(ge-ie[1])*H+le,oe=(ie[2]-ie[0])*H,Ie=(ie[3]-ie[1])*H),this.transform=[K*H,Se*H,Oe*H,Me*H,_e-K*H*te-Oe*H*ge,ke-Se*H*te-Me*H*ge],this.width=oe,this.height=Ie}get rawDims(){const{viewBox:ie}=this;return(0,ve.shadow)(this,"rawDims",{pageWidth:ie[2]-ie[0],pageHeight:ie[3]-ie[1],pageX:ie[0],pageY:ie[1]})}clone({scale:ie=this.scale,rotation:H=this.rotation,offsetX:Y=this.offsetX,offsetY:G=this.offsetY,dontFlip:le=!1}={}){return new t({viewBox:this.viewBox.slice(),scale:ie,rotation:H,offsetX:Y,offsetY:G,dontFlip:le})}convertToViewportPoint(ie,H){return ve.Util.applyTransform([ie,H],this.transform)}convertToViewportRectangle(ie){const H=ve.Util.applyTransform([ie[0],ie[1]],this.transform),Y=ve.Util.applyTransform([ie[2],ie[3]],this.transform);return[H[0],H[1],Y[0],Y[1]]}convertToPdfPoint(ie,H){return ve.Util.applyInverseTransform([ie,H],this.transform)}}V.PageViewport=t;class l extends ve.BaseException{constructor(ie,H=0){super(ie,"RenderingCancelledException"),this.extraDelay=H}}V.RenderingCancelledException=l;function L(ne){const ie=ne.length;let H=0;for(;H<ie&&ne[H].trim()==="";)H++;return ne.substring(H,H+5).toLowerCase()==="data:"}function F(ne){return typeof ne=="string"&&/\.pdf$/i.test(ne)}function g(ne,ie=!1){return ie||([ne]=ne.split(/[#?]/,1)),ne.substring(ne.lastIndexOf("/")+1)}function w(ne,ie="document.pdf"){if(typeof ne!="string")return ie;if(L(ne))return(0,ve.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ie;const H=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Y=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,G=H.exec(ne);let le=Y.exec(G[1])||Y.exec(G[2])||Y.exec(G[3]);if(le&&(le=le[0],le.includes("%")))try{le=Y.exec(decodeURIComponent(le))[0]}catch{}return le||ie}class u{constructor(){Mt(this,"started",Object.create(null));Mt(this,"times",[])}time(ie){ie in this.started&&(0,ve.warn)(`Timer is already running for ${ie}`),this.started[ie]=Date.now()}timeEnd(ie){ie in this.started||(0,ve.warn)(`Timer has not been started for ${ie}`),this.times.push({name:ie,start:this.started[ie],end:Date.now()}),delete this.started[ie]}toString(){const ie=[];let H=0;for(const{name:Y}of this.times)H=Math.max(Y.length,H);for(const{name:Y,start:G,end:le}of this.times)ie.push(`${Y.padEnd(H)} ${le-G}ms
`);return ie.join("")}}V.StatTimer=u;function h(ne,ie){try{const{protocol:H}=ie?new URL(ne,ie):new URL(ne);return H==="http:"||H==="https:"}catch{return!1}}function i(ne){ne.preventDefault()}function x(ne,ie=!1){return new Promise((H,Y)=>{const G=document.createElement("script");G.src=ne,G.onload=function(le){ie&&G.remove(),H(le)},G.onerror=function(){Y(new Error(`Cannot load script at: ${G.src}`))},(document.head||document.documentElement).append(G)})}function p(ne){console.log("Deprecated API usage: "+ne)}let v;class b{static toDateObject(ie){if(!ie||typeof ie!="string")return null;v||(v=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const H=v.exec(ie);if(!H)return null;const Y=parseInt(H[1],10);let G=parseInt(H[2],10);G=G>=1&&G<=12?G-1:0;let le=parseInt(H[3],10);le=le>=1&&le<=31?le:1;let ce=parseInt(H[4],10);ce=ce>=0&&ce<=23?ce:0;let te=parseInt(H[5],10);te=te>=0&&te<=59?te:0;let ge=parseInt(H[6],10);ge=ge>=0&&ge<=59?ge:0;const K=H[7]||"Z";let Se=parseInt(H[8],10);Se=Se>=0&&Se<=23?Se:0;let Oe=parseInt(H[9],10)||0;return Oe=Oe>=0&&Oe<=59?Oe:0,K==="-"?(ce+=Se,te+=Oe):K==="+"&&(ce-=Se,te-=Oe),new Date(Date.UTC(Y,G,le,ce,te,ge))}}V.PDFDateString=b;function N(ne,{scale:ie=1,rotation:H=0}){const{width:Y,height:G}=ne.attributes.style,le=[0,0,parseInt(Y),parseInt(G)];return new t({viewBox:le,scale:ie,rotation:H})}function U(ne){if(ne.startsWith("#")){const ie=parseInt(ne.slice(1),16);return[(ie&16711680)>>16,(ie&65280)>>8,ie&255]}return ne.startsWith("rgb(")?ne.slice(4,-1).split(",").map(ie=>parseInt(ie)):ne.startsWith("rgba(")?ne.slice(5,-1).split(",").map(ie=>parseInt(ie)).slice(0,3):((0,ve.warn)(`Not a valid color format: "${ne}"`),[0,0,0])}function D(ne){const ie=document.createElement("span");ie.style.visibility="hidden",document.body.append(ie);for(const H of ne.keys()){ie.style.color=H;const Y=window.getComputedStyle(ie).color;ne.set(H,U(Y))}ie.remove()}function I(ne){const{a:ie,b:H,c:Y,d:G,e:le,f:ce}=ne.getTransform();return[ie,H,Y,G,le,ce]}function B(ne){const{a:ie,b:H,c:Y,d:G,e:le,f:ce}=ne.getTransform().invertSelf();return[ie,H,Y,G,le,ce]}function _(ne,ie,H=!1,Y=!0){if(ie instanceof t){const{pageWidth:G,pageHeight:le}=ie.rawDims,{style:ce}=ne,te=ve.FeatureTest.isCSSRoundSupported,ge=`var(--scale-factor) * ${G}px`,K=`var(--scale-factor) * ${le}px`,Se=te?`round(${ge}, 1px)`:`calc(${ge})`,Oe=te?`round(${K}, 1px)`:`calc(${K})`;!H||ie.rotation%180===0?(ce.width=Se,ce.height=Oe):(ce.width=Oe,ce.height=Se)}Y&&ne.setAttribute("data-main-rotation",ie.rotation)}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.BaseStandardFontDataFactory=V.BaseSVGFactory=V.BaseFilterFactory=V.BaseCanvasFactory=V.BaseCMapReaderFactory=void 0;var J=be(1);class ve{constructor(){this.constructor===ve&&(0,J.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(d){return"none"}addHCMFilter(d,T){return"none"}addHighlightHCMFilter(d,T,e,t){return"none"}destroy(d=!1){}}V.BaseFilterFactory=ve;class we{constructor(){this.constructor===we&&(0,J.unreachable)("Cannot initialize BaseCanvasFactory.")}create(d,T){if(d<=0||T<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(d,T);return{canvas:e,context:e.getContext("2d")}}reset(d,T,e){if(!d.canvas)throw new Error("Canvas is not specified");if(T<=0||e<=0)throw new Error("Invalid canvas size");d.canvas.width=T,d.canvas.height=e}destroy(d){if(!d.canvas)throw new Error("Canvas is not specified");d.canvas.width=0,d.canvas.height=0,d.canvas=null,d.context=null}_createCanvas(d,T){(0,J.unreachable)("Abstract method `_createCanvas` called.")}}V.BaseCanvasFactory=we;class fe{constructor({baseUrl:d=null,isCompressed:T=!0}){this.constructor===fe&&(0,J.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=d,this.isCompressed=T}async fetch({name:d}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!d)throw new Error("CMap name must be specified.");const T=this.baseUrl+d+(this.isCompressed?".bcmap":""),e=this.isCompressed?J.CMapCompressionType.BINARY:J.CMapCompressionType.NONE;return this._fetchData(T,e).catch(t=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${T}`)})}_fetchData(d,T){(0,J.unreachable)("Abstract method `_fetchData` called.")}}V.BaseCMapReaderFactory=fe;class f{constructor({baseUrl:d=null}){this.constructor===f&&(0,J.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=d}async fetch({filename:d}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!d)throw new Error("Font filename must be specified.");const T=`${this.baseUrl}${d}`;return this._fetchData(T).catch(e=>{throw new Error(`Unable to load font data at: ${T}`)})}_fetchData(d){(0,J.unreachable)("Abstract method `_fetchData` called.")}}V.BaseStandardFontDataFactory=f;class ${constructor(){this.constructor===$&&(0,J.unreachable)("Cannot initialize BaseSVGFactory.")}create(d,T,e=!1){if(d<=0||T<=0)throw new Error("Invalid SVG dimensions");const t=this._createSVG("svg:svg");return t.setAttribute("version","1.1"),e||(t.setAttribute("width",`${d}px`),t.setAttribute("height",`${T}px`)),t.setAttribute("preserveAspectRatio","none"),t.setAttribute("viewBox",`0 0 ${d} ${T}`),t}createElement(d){if(typeof d!="string")throw new Error("Invalid SVG element type");return this._createSVG(d)}_createSVG(d){(0,J.unreachable)("Abstract method `_createSVG` called.")}}V.BaseSVGFactory=$},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.MurmurHash3_64=void 0;var J=be(1);const ve=3285377520,we=4294901760,fe=65535;class f{constructor(n){this.h1=n?n&4294967295:ve,this.h2=n?n&4294967295:ve}update(n){let d,T;if(typeof n=="string"){d=new Uint8Array(n.length*2),T=0;for(let p=0,v=n.length;p<v;p++){const b=n.charCodeAt(p);b<=255?d[T++]=b:(d[T++]=b>>>8,d[T++]=b&255)}}else if((0,J.isArrayBuffer)(n))d=n.slice(),T=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const e=T>>2,t=T-e*4,l=new Uint32Array(d.buffer,0,e);let L=0,F=0,g=this.h1,w=this.h2;const u=3432918353,h=461845907,i=u&fe,x=h&fe;for(let p=0;p<e;p++)p&1?(L=l[p],L=L*u&we|L*i&fe,L=L<<15|L>>>17,L=L*h&we|L*x&fe,g^=L,g=g<<13|g>>>19,g=g*5+3864292196):(F=l[p],F=F*u&we|F*i&fe,F=F<<15|F>>>17,F=F*h&we|F*x&fe,w^=F,w=w<<13|w>>>19,w=w*5+3864292196);switch(L=0,t){case 3:L^=d[e*4+2]<<16;case 2:L^=d[e*4+1]<<8;case 1:L^=d[e*4],L=L*u&we|L*i&fe,L=L<<15|L>>>17,L=L*h&we|L*x&fe,e&1?g^=L:w^=L}this.h1=g,this.h2=w}hexdigest(){let n=this.h1,d=this.h2;return n^=d>>>1,n=n*3981806797&we|n*36045&fe,d=d*4283543511&we|((d<<16|n>>>16)*2950163797&we)>>>16,n^=d>>>1,n=n*444984403&we|n*60499&fe,d=d*3301882366&we|((d<<16|n>>>16)*3120437893&we)>>>16,n^=d>>>1,(n>>>0).toString(16).padStart(8,"0")+(d>>>0).toString(16).padStart(8,"0")}}V.MurmurHash3_64=f},(j,V,be)=>{var fe;Object.defineProperty(V,"__esModule",{value:!0}),V.FontLoader=V.FontFaceObject=void 0;var J=be(1);class ve{constructor({ownerDocument:$=globalThis.document,styleElement:n=null}){je(this,fe,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule($,n.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),Ce(this,fe).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont($){if(!(!$||Ce(this,fe).has($.loadedName))){if((0,J.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:d,style:T}=$,e=new FontFace(n,d,T);this.addNativeFontFace(e);try{await e.load(),Ce(this,fe).add(n)}catch{(0,J.warn)(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(e)}return}(0,J.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($.systemFontInfo);return}if(this.isFontLoadingAPISupported){const d=$.createNativeFontFace();if(d){this.addNativeFontFace(d);try{await d.loaded}catch(T){throw(0,J.warn)(`Failed to load font '${d.family}': '${T}'.`),$.disableFontFace=!0,T}}return}const n=$.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(d=>{const T=this._queueLoadingCallback(d);this._prepareFontLoadEvent($,T)})}}get isFontLoadingAPISupported(){var n;const $=!!((n=this._document)!=null&&n.fonts);return(0,J.shadow)(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(J.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),(0,J.shadow)(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function n(){for((0,J.assert)(!T.done,"completeRequest() cannot be called twice."),T.done=!0;d.length>0&&d[0].done;){const e=d.shift();setTimeout(e.callback,0)}}const{loadingRequests:d}=this,T={done:!1,complete:n,callback:$};return d.push(T),T}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,J.shadow)(this,"_loadTestFont",$)}_prepareFontLoadEvent($,n){function d(U,D){return U.charCodeAt(D)<<24|U.charCodeAt(D+1)<<16|U.charCodeAt(D+2)<<8|U.charCodeAt(D+3)&255}function T(U,D,I,B){const _=U.substring(0,D),P=U.substring(D+I);return _+B+P}let e,t;const l=this._document.createElement("canvas");l.width=1,l.height=1;const L=l.getContext("2d");let F=0;function g(U,D){if(++F>30){(0,J.warn)("Load test font never loaded."),D();return}if(L.font="30px "+U,L.fillText(".",0,20),L.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(g.bind(null,U,D))}const w=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=T(u,976,w.length,w);const i=16,x=1482184792;let p=d(u,i);for(e=0,t=w.length-3;e<t;e+=4)p=p-x+d(w,e)|0;e<w.length&&(p=p-x+d(w+"XXX",e)|0),u=T(u,i,4,(0,J.string32)(p));const v=`url(data:font/opentype;base64,${btoa(u)});`,b=`@font-face {font-family:"${w}";src:${v}}`;this.insertRule(b);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const U of[$.loadedName,w]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=U,N.append(D)}this._document.body.append(N),g(w,()=>{N.remove(),n.complete()})}}fe=new WeakMap,V.FontLoader=ve;class we{constructor($,{isEvalSupported:n=!0,disableFontFace:d=!1,ignoreErrors:T=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const t in $)this[t]=$[t];this.isEvalSupported=n!==!1,this.disableFontFace=d===!0,this.ignoreErrors=T===!0,this._inspectFont=e}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const d={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(d.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,d)}return(n=this._inspectFont)==null||n.call(this,this),$}createFontFaceRule(){var T;if(!this.data||this.disableFontFace)return null;const $=(0,J.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa($)});`;let d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${n}}`}return(T=this._inspectFont)==null||T.call(this,this,n),d}getPathGenerator($,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let d;try{d=$.get(this.loadedName+"_path_"+n)}catch(T){if(!this.ignoreErrors)throw T;return(0,J.warn)(`getPathGenerator - ignoring character: "${T}".`),this.compiledGlyphs[n]=function(e,t){}}if(this.isEvalSupported&&J.FeatureTest.isEvalSupported){const T=[];for(const e of d){const t=e.args!==void 0?e.args.join(","):"";T.push("c.",e.cmd,"(",t,`);
`)}return this.compiledGlyphs[n]=new Function("c","size",T.join(""))}return this.compiledGlyphs[n]=function(T,e){for(const t of d)t.cmd==="scale"&&(t.args=[e,-e]),T[t.cmd].apply(T,t.args)}}}V.FontFaceObject=we},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.NodeStandardFontDataFactory=V.NodeFilterFactory=V.NodeCanvasFactory=V.NodeCMapReaderFactory=void 0;var J=be(7);be(1);const ve=function(n){return new Promise((d,T)=>{requireEmpty().readFile(n,(t,l)=>{if(t||!l){T(new Error(t));return}d(new Uint8Array(l))})})};class we extends J.BaseFilterFactory{}V.NodeFilterFactory=we;class fe extends J.BaseCanvasFactory{_createCanvas(d,T){return require$$1.createCanvas(d,T)}}V.NodeCanvasFactory=fe;class f extends J.BaseCMapReaderFactory{_fetchData(d,T){return ve(d).then(e=>({cMapData:e,compressionType:T}))}}V.NodeCMapReaderFactory=f;class $ extends J.BaseStandardFontDataFactory{_fetchData(d){return ve(d)}}V.NodeStandardFontDataFactory=$},(j,V,be)=>{var m,ki,R,Ti;Object.defineProperty(V,"__esModule",{value:!0}),V.CanvasGraphics=void 0;var J=be(1),ve=be(6),we=be(12),fe=be(13);const f=16,$=100,n=4096,d=15,T=10,e=1e3,t=16;function l(E,k){if(E._removeMirroring)throw new Error("Context is already forwarding operations.");E.__originalSave=E.save,E.__originalRestore=E.restore,E.__originalRotate=E.rotate,E.__originalScale=E.scale,E.__originalTranslate=E.translate,E.__originalTransform=E.transform,E.__originalSetTransform=E.setTransform,E.__originalResetTransform=E.resetTransform,E.__originalClip=E.clip,E.__originalMoveTo=E.moveTo,E.__originalLineTo=E.lineTo,E.__originalBezierCurveTo=E.bezierCurveTo,E.__originalRect=E.rect,E.__originalClosePath=E.closePath,E.__originalBeginPath=E.beginPath,E._removeMirroring=()=>{E.save=E.__originalSave,E.restore=E.__originalRestore,E.rotate=E.__originalRotate,E.scale=E.__originalScale,E.translate=E.__originalTranslate,E.transform=E.__originalTransform,E.setTransform=E.__originalSetTransform,E.resetTransform=E.__originalResetTransform,E.clip=E.__originalClip,E.moveTo=E.__originalMoveTo,E.lineTo=E.__originalLineTo,E.bezierCurveTo=E.__originalBezierCurveTo,E.rect=E.__originalRect,E.closePath=E.__originalClosePath,E.beginPath=E.__originalBeginPath,delete E._removeMirroring},E.save=function(){k.save(),this.__originalSave()},E.restore=function(){k.restore(),this.__originalRestore()},E.translate=function(a,o){k.translate(a,o),this.__originalTranslate(a,o)},E.scale=function(a,o){k.scale(a,o),this.__originalScale(a,o)},E.transform=function(a,o,r,s,A,c){k.transform(a,o,r,s,A,c),this.__originalTransform(a,o,r,s,A,c)},E.setTransform=function(a,o,r,s,A,c){k.setTransform(a,o,r,s,A,c),this.__originalSetTransform(a,o,r,s,A,c)},E.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},E.rotate=function(a){k.rotate(a),this.__originalRotate(a)},E.clip=function(a){k.clip(a),this.__originalClip(a)},E.moveTo=function(M,a){k.moveTo(M,a),this.__originalMoveTo(M,a)},E.lineTo=function(M,a){k.lineTo(M,a),this.__originalLineTo(M,a)},E.bezierCurveTo=function(M,a,o,r,s,A){k.bezierCurveTo(M,a,o,r,s,A),this.__originalBezierCurveTo(M,a,o,r,s,A)},E.rect=function(M,a,o,r){k.rect(M,a,o,r),this.__originalRect(M,a,o,r)},E.closePath=function(){k.closePath(),this.__originalClosePath()},E.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}class L{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,M,a){let o;return this.cache[k]!==void 0?(o=this.cache[k],this.canvasFactory.reset(o,M,a)):(o=this.canvasFactory.create(M,a),this.cache[k]=o),o}delete(k){delete this.cache[k]}clear(){for(const k in this.cache){const M=this.cache[k];this.canvasFactory.destroy(M),delete this.cache[k]}}}function F(E,k,M,a,o,r,s,A,c,y){const[q,re,Q,de,ee,ue]=(0,ve.getCurrentTransform)(E);if(re===0&&Q===0){const se=s*q+ee,ne=Math.round(se),ie=A*de+ue,H=Math.round(ie),Y=(s+c)*q+ee,G=Math.abs(Math.round(Y)-ne)||1,le=(A+y)*de+ue,ce=Math.abs(Math.round(le)-H)||1;return E.setTransform(Math.sign(q),0,0,Math.sign(de),ne,H),E.drawImage(k,M,a,o,r,0,0,G,ce),E.setTransform(q,re,Q,de,ee,ue),[G,ce]}if(q===0&&de===0){const se=A*Q+ee,ne=Math.round(se),ie=s*re+ue,H=Math.round(ie),Y=(A+y)*Q+ee,G=Math.abs(Math.round(Y)-ne)||1,le=(s+c)*re+ue,ce=Math.abs(Math.round(le)-H)||1;return E.setTransform(0,Math.sign(re),Math.sign(Q),0,ne,H),E.drawImage(k,M,a,o,r,0,0,ce,G),E.setTransform(q,re,Q,de,ee,ue),[ce,G]}E.drawImage(k,M,a,o,r,s,A,c,y);const W=Math.hypot(q,re),Z=Math.hypot(Q,de);return[W*c,Z*y]}function g(E){const{width:k,height:M}=E;if(k>e||M>e)return null;const a=1e3,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=k+1;let s=new Uint8Array(r*(M+1)),A,c,y;const q=k+7&-8;let re=new Uint8Array(q*M),Q=0;for(const Z of E.data){let se=128;for(;se>0;)re[Q++]=Z&se?0:255,se>>=1}let de=0;for(Q=0,re[Q]!==0&&(s[0]=1,++de),c=1;c<k;c++)re[Q]!==re[Q+1]&&(s[c]=re[Q]?2:1,++de),Q++;for(re[Q]!==0&&(s[c]=2,++de),A=1;A<M;A++){Q=A*q,y=A*r,re[Q-q]!==re[Q]&&(s[y]=re[Q]?1:8,++de);let Z=(re[Q]?4:0)+(re[Q-q]?8:0);for(c=1;c<k;c++)Z=(Z>>2)+(re[Q+1]?4:0)+(re[Q-q+1]?8:0),o[Z]&&(s[y+c]=o[Z],++de),Q++;if(re[Q-q]!==re[Q]&&(s[y+c]=re[Q]?2:4,++de),de>a)return null}for(Q=q*(M-1),y=A*r,re[Q]!==0&&(s[y]=8,++de),c=1;c<k;c++)re[Q]!==re[Q+1]&&(s[y+c]=re[Q]?4:8,++de),Q++;if(re[Q]!==0&&(s[y+c]=4,++de),de>a)return null;const ee=new Int32Array([0,r,-1,0,-r,0,0,0,1]),ue=new Path2D;for(A=0;de&&A<=M;A++){let Z=A*r;const se=Z+k;for(;Z<se&&!s[Z];)Z++;if(Z===se)continue;ue.moveTo(Z%r,A);const ne=Z;let ie=s[Z];do{const H=ee[ie];do Z+=H;while(!s[Z]);const Y=s[Z];Y!==5&&Y!==10?(ie=Y,s[Z]=0):(ie=Y&51*ie>>4,s[Z]&=ie>>2|ie<<2),ue.lineTo(Z%r,Z/r|0),s[Z]||--de}while(ne!==Z);--A}return re=null,s=null,function(Z){Z.save(),Z.scale(1/k,-1/M),Z.translate(0,-M),Z.fill(ue),Z.beginPath(),Z.restore()}}class w{constructor(k,M){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=J.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=J.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=J.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,k,M])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,M){this.x=k,this.y=M}updatePathMinMax(k,M,a){[M,a]=J.Util.applyTransform([M,a],k),this.minX=Math.min(this.minX,M),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,M),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(k,M){const a=J.Util.applyTransform(M,k),o=J.Util.applyTransform(M.slice(2),k);this.minX=Math.min(this.minX,a[0],o[0]),this.minY=Math.min(this.minY,a[1],o[1]),this.maxX=Math.max(this.maxX,a[0],o[0]),this.maxY=Math.max(this.maxY,a[1],o[1])}updateScalingPathMinMax(k,M){J.Util.scaleMinMax(k,M),this.minX=Math.min(this.minX,M[0]),this.maxX=Math.max(this.maxX,M[1]),this.minY=Math.min(this.minY,M[2]),this.maxY=Math.max(this.maxY,M[3])}updateCurvePathMinMax(k,M,a,o,r,s,A,c,y,q){const re=J.Util.bezierBoundingBox(M,a,o,r,s,A,c,y);if(q){q[0]=Math.min(q[0],re[0],re[2]),q[1]=Math.max(q[1],re[0],re[2]),q[2]=Math.min(q[2],re[1],re[3]),q[3]=Math.max(q[3],re[1],re[3]);return}this.updateRectMinMax(k,re)}getPathBoundingBox(k=we.PathType.FILL,M=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(k===we.PathType.STROKE){M||(0,J.unreachable)("Stroke bounding box must include transform.");const o=J.Util.singularValueDecompose2dScale(M),r=o[0]*this.lineWidth/2,s=o[1]*this.lineWidth/2;a[0]-=r,a[1]-=s,a[2]+=r,a[3]+=s}return a}updateClipFromPath(){const k=J.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(k=we.PathType.FILL,M=null){return J.Util.intersect(this.clipBox,this.getPathBoundingBox(k,M))}}function u(E,k){if(typeof ImageData<"u"&&k instanceof ImageData){E.putImageData(k,0,0);return}const M=k.height,a=k.width,o=M%t,r=(M-o)/t,s=o===0?r:r+1,A=E.createImageData(a,t);let c=0,y;const q=k.data,re=A.data;let Q,de,ee,ue;if(k.kind===J.ImageKind.GRAYSCALE_1BPP){const W=q.byteLength,Z=new Uint32Array(re.buffer,0,re.byteLength>>2),se=Z.length,ne=a+7>>3,ie=4294967295,H=J.FeatureTest.isLittleEndian?4278190080:255;for(Q=0;Q<s;Q++){for(ee=Q<r?t:o,y=0,de=0;de<ee;de++){const Y=W-c;let G=0;const le=Y>ne?a:Y*8-7,ce=le&-8;let te=0,ge=0;for(;G<ce;G+=8)ge=q[c++],Z[y++]=ge&128?ie:H,Z[y++]=ge&64?ie:H,Z[y++]=ge&32?ie:H,Z[y++]=ge&16?ie:H,Z[y++]=ge&8?ie:H,Z[y++]=ge&4?ie:H,Z[y++]=ge&2?ie:H,Z[y++]=ge&1?ie:H;for(;G<le;G++)te===0&&(ge=q[c++],te=128),Z[y++]=ge&te?ie:H,te>>=1}for(;y<se;)Z[y++]=0;E.putImageData(A,0,Q*t)}}else if(k.kind===J.ImageKind.RGBA_32BPP){for(de=0,ue=a*t*4,Q=0;Q<r;Q++)re.set(q.subarray(c,c+ue)),c+=ue,E.putImageData(A,0,de),de+=t;Q<s&&(ue=a*o*4,re.set(q.subarray(c,c+ue)),E.putImageData(A,0,de))}else if(k.kind===J.ImageKind.RGB_24BPP)for(ee=t,ue=a*ee,Q=0;Q<s;Q++){for(Q>=r&&(ee=o,ue=a*ee),y=0,de=ue;de--;)re[y++]=q[c++],re[y++]=q[c++],re[y++]=q[c++],re[y++]=255;E.putImageData(A,0,Q*t)}else throw new Error(`bad image kind: ${k.kind}`)}function h(E,k){if(k.bitmap){E.drawImage(k.bitmap,0,0);return}const M=k.height,a=k.width,o=M%t,r=(M-o)/t,s=o===0?r:r+1,A=E.createImageData(a,t);let c=0;const y=k.data,q=A.data;for(let re=0;re<s;re++){const Q=re<r?t:o;({srcPos:c}=(0,fe.convertBlackAndWhiteToRGBA)({src:y,srcPos:c,dest:q,width:a,height:Q,nonBlackColor:0})),E.putImageData(A,0,re*t)}}function i(E,k){const M=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of M)E[a]!==void 0&&(k[a]=E[a]);E.setLineDash!==void 0&&(k.setLineDash(E.getLineDash()),k.lineDashOffset=E.lineDashOffset)}function x(E){if(E.strokeStyle=E.fillStyle="#000000",E.fillRule="nonzero",E.globalAlpha=1,E.lineWidth=1,E.lineCap="butt",E.lineJoin="miter",E.miterLimit=10,E.globalCompositeOperation="source-over",E.font="10px sans-serif",E.setLineDash!==void 0&&(E.setLineDash([]),E.lineDashOffset=0),!J.isNodeJS){const{filter:k}=E;k!=="none"&&k!==""&&(E.filter="none")}}function p(E,k,M,a){const o=E.length;for(let r=3;r<o;r+=4){const s=E[r];if(s===0)E[r-3]=k,E[r-2]=M,E[r-1]=a;else if(s<255){const A=255-s;E[r-3]=E[r-3]*s+k*A>>8,E[r-2]=E[r-2]*s+M*A>>8,E[r-1]=E[r-1]*s+a*A>>8}}}function v(E,k,M){const a=E.length,o=1/255;for(let r=3;r<a;r+=4){const s=M?M[E[r]]:E[r];k[r]=k[r]*s*o|0}}function b(E,k,M){const a=E.length;for(let o=3;o<a;o+=4){const r=E[o-3]*77+E[o-2]*152+E[o-1]*28;k[o]=M?k[o]*M[r>>8]>>8:k[o]*r>>16}}function N(E,k,M,a,o,r,s,A,c,y,q){const re=!!r,Q=re?r[0]:0,de=re?r[1]:0,ee=re?r[2]:0,ue=o==="Luminosity"?b:v,Z=Math.min(a,Math.ceil(1048576/M));for(let se=0;se<a;se+=Z){const ne=Math.min(Z,a-se),ie=E.getImageData(A-y,se+(c-q),M,ne),H=k.getImageData(A,se+c,M,ne);re&&p(ie.data,Q,de,ee),ue(ie.data,H.data,s),k.putImageData(H,A,se+c)}}function U(E,k,M,a){const o=a[0],r=a[1],s=a[2]-o,A=a[3]-r;s===0||A===0||(N(k.context,M,s,A,k.subtype,k.backdrop,k.transferMap,o,r,k.offsetX,k.offsetY),E.save(),E.globalAlpha=1,E.globalCompositeOperation="source-over",E.setTransform(1,0,0,1,0,0),E.drawImage(M.canvas,0,0),E.restore())}function D(E,k){const M=J.Util.singularValueDecompose2dScale(E);M[0]=Math.fround(M[0]),M[1]=Math.fround(M[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*ve.PixelsPerInch.PDF_TO_CSS_UNITS);return k!==void 0?k:M[0]<=a||M[1]<=a}const I=["butt","round","square"],B=["miter","round","bevel"],_={},P={},O=class O{constructor(k,M,a,o,r,{optionalContentConfig:s,markedContentStack:A=null},c,y){je(this,m);je(this,R);this.ctx=k,this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=M,this.objs=a,this.canvasFactory=o,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=A||[],this.optionalContentConfig=s,this.cachedCanvases=new L(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=y,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k,M=null){return typeof k=="string"?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):M}beginDrawing({transform:k,viewport:M,transparency:a=!1,background:o=null}){const r=this.ctx.canvas.width,s=this.ctx.canvas.height,A=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,r,s),this.ctx.fillStyle=A,a){const c=this.cachedCanvases.getCanvas("transparent",r,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...(0,ve.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),x(this.ctx),k&&(this.ctx.transform(...k),this.outputScaleX=k[0],this.outputScaleY=k[0]),this.ctx.transform(...M.transform),this.viewportScale=M.scale,this.baseTransform=(0,ve.getCurrentTransform)(this.ctx)}executeOperatorList(k,M,a,o){const r=k.argsArray,s=k.fnArray;let A=M||0;const c=r.length;if(c===A)return A;const y=c-A>T&&typeof a=="function",q=y?Date.now()+d:0;let re=0;const Q=this.commonObjs,de=this.objs;let ee;for(;;){if(o!==void 0&&A===o.nextBreakPoint)return o.breakIt(A,a),A;if(ee=s[A],ee!==J.OPS.dependency)this[ee].apply(this,r[A]);else for(const ue of r[A]){const W=ue.startsWith("g_")?Q:de;if(!W.has(ue))return W.get(ue,a),A}if(A++,A===c)return A;if(y&&++re>T){if(Date.now()>q)return a(),A;re=0}}}endDrawing(){qe(this,m,ki).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const M of k.values())typeof HTMLCanvasElement<"u"&&M instanceof HTMLCanvasElement&&(M.width=M.height=0);k.clear()}this._cachedBitmapsMap.clear(),qe(this,R,Ti).call(this)}_scaleImage(k,M){const a=k.width,o=k.height;let r=Math.max(Math.hypot(M[0],M[1]),1),s=Math.max(Math.hypot(M[2],M[3]),1),A=a,c=o,y="prescale1",q,re;for(;r>2&&A>1||s>2&&c>1;){let Q=A,de=c;r>2&&A>1&&(Q=A>=16384?Math.floor(A/2)-1||1:Math.ceil(A/2),r/=A/Q),s>2&&c>1&&(de=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/de),q=this.cachedCanvases.getCanvas(y,Q,de),re=q.context,re.clearRect(0,0,Q,de),re.drawImage(k,0,0,A,c,0,0,Q,de),k=q.canvas,A=Q,c=de,y=y==="prescale1"?"prescale2":"prescale1"}return{img:k,paintWidth:A,paintHeight:c}}_createMaskCanvas(k){const M=this.ctx,{width:a,height:o}=k,r=this.current.fillColor,s=this.current.patternFill,A=(0,ve.getCurrentTransform)(M);let c,y,q,re;if((k.bitmap||k.data)&&k.count>1){const G=k.bitmap||k.data.buffer;y=JSON.stringify(s?A:[A.slice(0,4),r]),c=this._cachedBitmapsMap.get(G),c||(c=new Map,this._cachedBitmapsMap.set(G,c));const le=c.get(y);if(le&&!s){const ce=Math.round(Math.min(A[0],A[2])+A[4]),te=Math.round(Math.min(A[1],A[3])+A[5]);return{canvas:le,offsetX:ce,offsetY:te}}q=le}q||(re=this.cachedCanvases.getCanvas("maskCanvas",a,o),h(re.context,k));let Q=J.Util.transform(A,[1/a,0,0,-1/o,0,0]);Q=J.Util.transform(Q,[1,0,0,1,0,-o]);const de=J.Util.applyTransform([0,0],Q),ee=J.Util.applyTransform([a,o],Q),ue=J.Util.normalizeRect([de[0],de[1],ee[0],ee[1]]),W=Math.round(ue[2]-ue[0])||1,Z=Math.round(ue[3]-ue[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",W,Z),ne=se.context,ie=Math.min(de[0],ee[0]),H=Math.min(de[1],ee[1]);ne.translate(-ie,-H),ne.transform(...Q),q||(q=this._scaleImage(re.canvas,(0,ve.getCurrentTransformInverse)(ne)),q=q.img,c&&s&&c.set(y,q)),ne.imageSmoothingEnabled=D((0,ve.getCurrentTransform)(ne),k.interpolate),F(ne,q,0,0,q.width,q.height,0,0,a,o),ne.globalCompositeOperation="source-in";const Y=J.Util.transform((0,ve.getCurrentTransformInverse)(ne),[1,0,0,1,-ie,-H]);return ne.fillStyle=s?r.getPattern(M,this,Y,we.PathType.FILL):r,ne.fillRect(0,0,a,o),c&&!s&&(this.cachedCanvases.delete("fillCanvas"),c.set(y,se.canvas)),{canvas:se.canvas,offsetX:Math.round(ie),offsetY:Math.round(H)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=I[k]}setLineJoin(k){this.ctx.lineJoin=B[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,M){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(k),a.lineDashOffset=M)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(const[M,a]of k)switch(M){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.ctx.canvas.width,M=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(a,k,M);this.suspendedCtx=this.ctx,this.ctx=o.context;const r=this.ctx;r.setTransform(...(0,ve.getCurrentTransform)(this.suspendedCtx)),i(this.suspendedCtx,r),l(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){if(!this.current.activeSMask)return;k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const M=this.current.activeSMask,a=this.suspendedCtx;U(a,M,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(k,M,a,o,r,s){this.ctx.transform(k,M,a,o,r,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(k,M,a){const o=this.ctx,r=this.current;let s=r.x,A=r.y,c,y;const q=(0,ve.getCurrentTransform)(o),re=q[0]===0&&q[3]===0||q[1]===0&&q[2]===0,Q=re?a.slice(0):null;for(let de=0,ee=0,ue=k.length;de<ue;de++)switch(k[de]|0){case J.OPS.rectangle:s=M[ee++],A=M[ee++];const W=M[ee++],Z=M[ee++],se=s+W,ne=A+Z;o.moveTo(s,A),W===0||Z===0?o.lineTo(se,ne):(o.lineTo(se,A),o.lineTo(se,ne),o.lineTo(s,ne)),re||r.updateRectMinMax(q,[s,A,se,ne]),o.closePath();break;case J.OPS.moveTo:s=M[ee++],A=M[ee++],o.moveTo(s,A),re||r.updatePathMinMax(q,s,A);break;case J.OPS.lineTo:s=M[ee++],A=M[ee++],o.lineTo(s,A),re||r.updatePathMinMax(q,s,A);break;case J.OPS.curveTo:c=s,y=A,s=M[ee+4],A=M[ee+5],o.bezierCurveTo(M[ee],M[ee+1],M[ee+2],M[ee+3],s,A),r.updateCurvePathMinMax(q,c,y,M[ee],M[ee+1],M[ee+2],M[ee+3],s,A,Q),ee+=6;break;case J.OPS.curveTo2:c=s,y=A,o.bezierCurveTo(s,A,M[ee],M[ee+1],M[ee+2],M[ee+3]),r.updateCurvePathMinMax(q,c,y,s,A,M[ee],M[ee+1],M[ee+2],M[ee+3],Q),s=M[ee+2],A=M[ee+3],ee+=4;break;case J.OPS.curveTo3:c=s,y=A,s=M[ee+2],A=M[ee+3],o.bezierCurveTo(M[ee],M[ee+1],s,A,s,A),r.updateCurvePathMinMax(q,c,y,M[ee],M[ee+1],s,A,s,A,Q),ee+=4;break;case J.OPS.closePath:o.closePath();break}re&&r.updateScalingPathMinMax(q,Q),r.setCurrentPoint(s,A)}closePath(){this.ctx.closePath()}stroke(k=!0){const M=this.ctx,a=this.current.strokeColor;M.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(M.save(),M.strokeStyle=a.getPattern(M,this,(0,ve.getCurrentTransformInverse)(M),we.PathType.STROKE),this.rescaleAndStroke(!1),M.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),M.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(k=!0){const M=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let r=!1;o&&(M.save(),M.fillStyle=a.getPattern(M,this,(0,ve.getCurrentTransformInverse)(M),we.PathType.FILL),r=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(M.fill("evenodd"),this.pendingEOFill=!1):M.fill()),r&&M.restore(),k&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_}eoClip(){this.pendingClip=P}beginText(){this.current.textMatrix=J.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,M=this.ctx;if(k===void 0){M.beginPath();return}M.save(),M.beginPath();for(const a of k)M.setTransform(...a.transform),M.translate(a.x,a.y),a.addToPath(M,a.fontSize);M.restore(),M.clip(),M.beginPath(),delete this.pendingTextPaths}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,M){var q;const a=this.commonObjs.get(k),o=this.current;if(!a)throw new Error(`Can't find font for ${k}`);if(o.fontMatrix=a.fontMatrix||J.FONT_IDENTITY_MATRIX,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&(0,J.warn)("Invalid font matrix for font "+k),M<0?(M=-M,o.fontDirection=-1):o.fontDirection=1,this.current.font=a,this.current.fontSize=M,a.isType3Font)return;const r=a.loadedName||"sans-serif",s=((q=a.systemFontInfo)==null?void 0:q.css)||`"${r}", ${a.fallbackName}`;let A="normal";a.black?A="900":a.bold&&(A="bold");const c=a.italic?"italic":"normal";let y=M;M<f?y=f:M>$&&(y=$),this.current.fontSizeScale=M/y,this.ctx.font=`${c} ${A} ${y}px ${s}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,M){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=M}setLeadingMoveText(k,M){this.setLeading(-M),this.moveText(k,M)}setTextMatrix(k,M,a,o,r,s){this.current.textMatrix=[k,M,a,o,r,s],this.current.textMatrixScale=Math.hypot(k,M),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,M,a,o){const r=this.ctx,s=this.current,A=s.font,c=s.textRenderingMode,y=s.fontSize/s.fontSizeScale,q=c&J.TextRenderingMode.FILL_STROKE_MASK,re=!!(c&J.TextRenderingMode.ADD_TO_PATH_FLAG),Q=s.patternFill&&!A.missingFile;let de;(A.disableFontFace||re||Q)&&(de=A.getPathGenerator(this.commonObjs,k)),A.disableFontFace||Q?(r.save(),r.translate(M,a),r.beginPath(),de(r,y),o&&r.setTransform(...o),(q===J.TextRenderingMode.FILL||q===J.TextRenderingMode.FILL_STROKE)&&r.fill(),(q===J.TextRenderingMode.STROKE||q===J.TextRenderingMode.FILL_STROKE)&&r.stroke(),r.restore()):((q===J.TextRenderingMode.FILL||q===J.TextRenderingMode.FILL_STROKE)&&r.fillText(k,M,a),(q===J.TextRenderingMode.STROKE||q===J.TextRenderingMode.FILL_STROKE)&&r.strokeText(k,M,a)),re&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ve.getCurrentTransform)(r),x:M,y:a,fontSize:y,addToPath:de})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);k.scale(1.5,1),k.fillText("I",0,10);const M=k.getImageData(0,0,10,10).data;let a=!1;for(let o=3;o<M.length;o+=4)if(M[o]>0&&M[o]<255){a=!0;break}return(0,J.shadow)(this,"isFontSubpixelAAEnabled",a)}showText(k){const M=this.current,a=M.font;if(a.isType3Font)return this.showType3Text(k);const o=M.fontSize;if(o===0)return;const r=this.ctx,s=M.fontSizeScale,A=M.charSpacing,c=M.wordSpacing,y=M.fontDirection,q=M.textHScale*y,re=k.length,Q=a.vertical,de=Q?1:-1,ee=a.defaultVMetrics,ue=o*M.fontMatrix[0],W=M.textRenderingMode===J.TextRenderingMode.FILL&&!a.disableFontFace&&!M.patternFill;r.save(),r.transform(...M.textMatrix),r.translate(M.x,M.y+M.textRise),y>0?r.scale(q,-1):r.scale(q,1);let Z;if(M.patternFill){r.save();const Y=M.fillColor.getPattern(r,this,(0,ve.getCurrentTransformInverse)(r),we.PathType.FILL);Z=(0,ve.getCurrentTransform)(r),r.restore(),r.fillStyle=Y}let se=M.lineWidth;const ne=M.textMatrixScale;if(ne===0||se===0){const Y=M.textRenderingMode&J.TextRenderingMode.FILL_STROKE_MASK;(Y===J.TextRenderingMode.STROKE||Y===J.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=ne;if(s!==1&&(r.scale(s,s),se/=s),r.lineWidth=se,a.isInvalidPDFjsFont){const Y=[];let G=0;for(const le of k)Y.push(le.unicode),G+=le.width;r.fillText(Y.join(""),0,0),M.x+=G*ue*q,r.restore(),this.compose();return}let ie=0,H;for(H=0;H<re;++H){const Y=k[H];if(typeof Y=="number"){ie+=de*Y*o/1e3;continue}let G=!1;const le=(Y.isSpace?c:0)+A,ce=Y.fontChar,te=Y.accent;let ge,K,Se=Y.width;if(Q){const Me=Y.vmetric||ee,_e=-(Y.vmetric?Me[1]:Se*.5)*ue,ke=Me[2]*ue;Se=Me?-Me[0]:Se,ge=_e/s,K=(ie+ke)/s}else ge=ie/s,K=0;if(a.remeasure&&Se>0){const Me=r.measureText(ce).width*1e3/o*s;if(Se<Me&&this.isFontSubpixelAAEnabled){const _e=Se/Me;G=!0,r.save(),r.scale(_e,1),ge/=_e}else Se!==Me&&(ge+=(Se-Me)/2e3*o/s)}if(this.contentVisible&&(Y.isInFont||a.missingFile)){if(W&&!te)r.fillText(ce,ge,K);else if(this.paintChar(ce,ge,K,Z),te){const Me=ge+o*te.offset.x/s,_e=K-o*te.offset.y/s;this.paintChar(te.fontChar,Me,_e,Z)}}const Oe=Q?Se*ue-le*y:Se*ue+le*y;ie+=Oe,G&&r.restore()}Q?M.y-=ie:M.x+=ie*q,r.restore(),this.compose()}showType3Text(k){const M=this.ctx,a=this.current,o=a.font,r=a.fontSize,s=a.fontDirection,A=o.vertical?1:-1,c=a.charSpacing,y=a.wordSpacing,q=a.textHScale*s,re=a.fontMatrix||J.FONT_IDENTITY_MATRIX,Q=k.length,de=a.textRenderingMode===J.TextRenderingMode.INVISIBLE;let ee,ue,W,Z;if(!(de||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,M.save(),M.transform(...a.textMatrix),M.translate(a.x,a.y),M.scale(q,s),ee=0;ee<Q;++ee){if(ue=k[ee],typeof ue=="number"){Z=A*ue*r/1e3,this.ctx.translate(Z,0),a.x+=Z*q;continue}const se=(ue.isSpace?y:0)+c,ne=o.charProcOperatorList[ue.operatorListId];if(!ne){(0,J.warn)(`Type3 character "${ue.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ue,this.save(),M.scale(r,r),M.transform(...re),this.executeOperatorList(ne),this.restore()),W=J.Util.applyTransform([ue.width,0],re)[0]*r+se,M.translate(W,0),a.x+=W*q}M.restore(),this.processingType3=null}}setCharWidth(k,M){}setCharWidthAndBounds(k,M,a,o,r,s){this.ctx.rect(a,o,r-a,s-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let M;if(k[0]==="TilingPattern"){const a=k[1],o=this.baseTransform||(0,ve.getCurrentTransform)(this.ctx),r={createCanvasGraphics:s=>new O(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};M=new we.TilingPattern(k,a,this.ctx,r,o)}else M=this._getPattern(k[1],k[2]);return M}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,M,a){const o=J.Util.makeHexColor(k,M,a);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(k,M,a){const o=J.Util.makeHexColor(k,M,a);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(k,M=null){let a;return this.cachedPatterns.has(k)?a=this.cachedPatterns.get(k):(a=(0,we.getShadingPattern)(this.getObject(k)),this.cachedPatterns.set(k,a)),M&&(a.matrix=M),a}shadingFill(k){if(!this.contentVisible)return;const M=this.ctx;this.save();const a=this._getPattern(k);M.fillStyle=a.getPattern(M,this,(0,ve.getCurrentTransformInverse)(M),we.PathType.SHADING);const o=(0,ve.getCurrentTransformInverse)(M);if(o){const{width:r,height:s}=M.canvas,[A,c,y,q]=J.Util.getAxialAlignedBoundingBox([0,0,r,s],o);this.ctx.fillRect(A,c,y-A,q-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,J.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,J.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,M){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&k.length===6&&this.transform(...k),this.baseTransform=(0,ve.getCurrentTransform)(this.ctx),M)){const a=M[2]-M[0],o=M[3]-M[1];this.ctx.rect(M[0],M[1],a,o),this.current.updateRectMinMax((0,ve.getCurrentTransform)(this.ctx),M),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const M=this.ctx;k.isolated||(0,J.info)("TODO: Support non-isolated groups."),k.knockout&&(0,J.warn)("Knockout groups not supported.");const a=(0,ve.getCurrentTransform)(M);if(k.matrix&&M.transform(...k.matrix),!k.bbox)throw new Error("Bounding box is required.");let o=J.Util.getAxialAlignedBoundingBox(k.bbox,(0,ve.getCurrentTransform)(M));const r=[0,0,M.canvas.width,M.canvas.height];o=J.Util.intersect(o,r)||[0,0,0,0];const s=Math.floor(o[0]),A=Math.floor(o[1]);let c=Math.max(Math.ceil(o[2])-s,1),y=Math.max(Math.ceil(o[3])-A,1),q=1,re=1;c>n&&(q=c/n,c=n),y>n&&(re=y/n,y=n),this.current.startNewPathAndClipBox([0,0,c,y]);let Q="groupAt"+this.groupLevel;k.smask&&(Q+="_smask_"+this.smaskCounter++%2);const de=this.cachedCanvases.getCanvas(Q,c,y),ee=de.context;ee.scale(1/q,1/re),ee.translate(-s,-A),ee.transform(...a),k.smask?this.smaskStack.push({canvas:de.canvas,context:ee,offsetX:s,offsetY:A,scaleX:q,scaleY:re,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(M.setTransform(1,0,0,1,0,0),M.translate(s,A),M.scale(q,re),M.save()),i(M,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(M),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const M=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=(0,ve.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const r=J.Util.getAxialAlignedBoundingBox([0,0,M.canvas.width,M.canvas.height],o);this.ctx.drawImage(M.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(k,M,a,o,r){if(qe(this,m,ki).call(this),x(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(M)&&M.length===4){const s=M[2]-M[0],A=M[3]-M[1];if(r&&this.annotationCanvasMap){a=a.slice(),a[4]-=M[0],a[5]-=M[1],M=M.slice(),M[0]=M[1]=0,M[2]=s,M[3]=A;const[c,y]=J.Util.singularValueDecompose2dScale((0,ve.getCurrentTransform)(this.ctx)),{viewportScale:q}=this,re=Math.ceil(s*this.outputScaleX*q),Q=Math.ceil(A*this.outputScaleY*q);this.annotationCanvas=this.canvasFactory.create(re,Q);const{canvas:de,context:ee}=this.annotationCanvas;this.annotationCanvasMap.set(k,de),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.save(),this.ctx.setTransform(c,0,0,-y,0,A*y),x(this.ctx)}else x(this.ctx),this.ctx.rect(M[0],M[1],s,A),this.ctx.clip(),this.endPath()}this.current=new w(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),qe(this,R,Ti).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(k){if(!this.contentVisible)return;const M=k.count;k=this.getObject(k.data,k),k.count=M;const a=this.ctx,o=this.processingType3;if(o&&(o.compiled===void 0&&(o.compiled=g(k)),o.compiled)){o.compiled(a);return}const r=this._createMaskCanvas(k),s=r.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(s,r.offsetX,r.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(k,M,a=0,o=0,r,s){if(!this.contentVisible)return;k=this.getObject(k.data,k);const A=this.ctx;A.save();const c=(0,ve.getCurrentTransform)(A);A.transform(M,a,o,r,0,0);const y=this._createMaskCanvas(k);A.setTransform(1,0,0,1,y.offsetX-c[4],y.offsetY-c[5]);for(let q=0,re=s.length;q<re;q+=2){const Q=J.Util.transform(c,[M,a,o,r,s[q],s[q+1]]),[de,ee]=J.Util.applyTransform([0,0],Q);A.drawImage(y.canvas,de,ee)}A.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const M=this.ctx,a=this.current.fillColor,o=this.current.patternFill;for(const r of k){const{data:s,width:A,height:c,transform:y}=r,q=this.cachedCanvases.getCanvas("maskCanvas",A,c),re=q.context;re.save();const Q=this.getObject(s,r);h(re,Q),re.globalCompositeOperation="source-in",re.fillStyle=o?a.getPattern(re,this,(0,ve.getCurrentTransformInverse)(M),we.PathType.FILL):a,re.fillRect(0,0,A,c),re.restore(),M.save(),M.transform(...y),M.scale(1,-1),F(M,q.canvas,0,0,A,c,0,-1,1,1),M.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const M=this.getObject(k);if(!M){(0,J.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(M)}paintImageXObjectRepeat(k,M,a,o){if(!this.contentVisible)return;const r=this.getObject(k);if(!r){(0,J.warn)("Dependent image isn't ready yet");return}const s=r.width,A=r.height,c=[];for(let y=0,q=o.length;y<q;y+=2)c.push({transform:[M,0,0,a,o[y],o[y+1]],x:0,y:0,w:s,h:A});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(k){return this.current.transferMaps!=="none"&&(k.filter=this.current.transferMaps,k.drawImage(k.canvas,0,0),k.filter="none"),k.canvas}applyTransferMapsToBitmap(k){if(this.current.transferMaps==="none")return k.bitmap;const{bitmap:M,width:a,height:o}=k,r=this.cachedCanvases.getCanvas("inlineImage",a,o),s=r.context;return s.filter=this.current.transferMaps,s.drawImage(M,0,0),s.filter="none",r.canvas}paintInlineImageXObject(k){if(!this.contentVisible)return;const M=k.width,a=k.height,o=this.ctx;if(this.save(),!J.isNodeJS){const{filter:A}=o;A!=="none"&&A!==""&&(o.filter="none")}o.scale(1/M,-1/a);let r;if(k.bitmap)r=this.applyTransferMapsToBitmap(k);else if(typeof HTMLElement=="function"&&k instanceof HTMLElement||!k.data)r=k;else{const c=this.cachedCanvases.getCanvas("inlineImage",M,a).context;u(c,k),r=this.applyTransferMapsToCanvas(c)}const s=this._scaleImage(r,(0,ve.getCurrentTransformInverse)(o));o.imageSmoothingEnabled=D((0,ve.getCurrentTransform)(o),k.interpolate),F(o,s.img,0,0,s.paintWidth,s.paintHeight,0,-a,M,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(k,M){if(!this.contentVisible)return;const a=this.ctx;let o;if(k.bitmap)o=k.bitmap;else{const r=k.width,s=k.height,c=this.cachedCanvases.getCanvas("inlineImage",r,s).context;u(c,k),o=this.applyTransferMapsToCanvas(c)}for(const r of M)a.save(),a.transform(...r.transform),a.scale(1,-1),F(a,o,r.x,r.y,r.w,r.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,M){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,M){k==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(M)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const M=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const a=this.ctx;this.pendingClip&&(M||(this.pendingClip===P?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=(0,ve.getCurrentTransform)(this.ctx);if(k[1]===0&&k[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const M=Math.abs(k[0]*k[3]-k[2]*k[1]),a=Math.hypot(k[0],k[2]),o=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(a,o)/M}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:k}=this.current,{a:M,b:a,c:o,d:r}=this.ctx.getTransform();let s,A;if(a===0&&o===0){const c=Math.abs(M),y=Math.abs(r);if(c===y)if(k===0)s=A=1/c;else{const q=c*k;s=A=q<1?1/q:1}else if(k===0)s=1/c,A=1/y;else{const q=c*k,re=y*k;s=q<1?1/q:1,A=re<1?1/re:1}}else{const c=Math.abs(M*r-a*o),y=Math.hypot(M,a),q=Math.hypot(o,r);if(k===0)s=q/c,A=y/c;else{const re=k*c;s=q>re?q/re:1,A=y>re?y/re:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=A}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:M}=this,{lineWidth:a}=this.current,[o,r]=this.getScaleForStroking();if(M.lineWidth=a||1,o===1&&r===1){M.stroke();return}const s=M.getLineDash();if(k&&M.save(),M.scale(o,r),s.length>0){const A=Math.max(o,r);M.setLineDash(s.map(c=>c/A)),M.lineDashOffset/=A}M.stroke(),k&&M.restore()}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}};m=new WeakSet,ki=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},R=new WeakSet,Ti=function(){if(this.pageColors){const k=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(k!=="none"){const M=this.ctx.filter;this.ctx.filter=k,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=M}}};let X=O;V.CanvasGraphics=X;for(const E in J.OPS)X.prototype[E]!==void 0&&(X.prototype[J.OPS[E]]=X.prototype[E])},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.TilingPattern=V.PathType=void 0,V.getShadingPattern=t;var J=be(1),ve=be(6);const we={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};V.PathType=we;function fe(g,w){if(!w)return;const u=w[2]-w[0],h=w[3]-w[1],i=new Path2D;i.rect(w[0],w[1],u,h),g.clip(i)}class f{constructor(){this.constructor===f&&(0,J.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,J.unreachable)("Abstract method `getPattern` called.")}}class $ extends f{constructor(w){super(),this._type=w[1],this._bbox=w[2],this._colorStops=w[3],this._p0=w[4],this._p1=w[5],this._r0=w[6],this._r1=w[7],this.matrix=null}_createGradient(w){let u;this._type==="axial"?u=w.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(u=w.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const h of this._colorStops)u.addColorStop(h[0],h[1]);return u}getPattern(w,u,h,i){let x;if(i===we.STROKE||i===we.FILL){const p=u.current.getClippedPathBoundingBox(i,(0,ve.getCurrentTransform)(w))||[0,0,0,0],v=Math.ceil(p[2]-p[0])||1,b=Math.ceil(p[3]-p[1])||1,N=u.cachedCanvases.getCanvas("pattern",v,b,!0),U=N.context;U.clearRect(0,0,U.canvas.width,U.canvas.height),U.beginPath(),U.rect(0,0,U.canvas.width,U.canvas.height),U.translate(-p[0],-p[1]),h=J.Util.transform(h,[1,0,0,1,p[0],p[1]]),U.transform(...u.baseTransform),this.matrix&&U.transform(...this.matrix),fe(U,this._bbox),U.fillStyle=this._createGradient(U),U.fill(),x=w.createPattern(N.canvas,"no-repeat");const D=new DOMMatrix(h);x.setTransform(D)}else fe(w,this._bbox),x=this._createGradient(w);return x}}function n(g,w,u,h,i,x,p,v){const b=w.coords,N=w.colors,U=g.data,D=g.width*4;let I;b[u+1]>b[h+1]&&(I=u,u=h,h=I,I=x,x=p,p=I),b[h+1]>b[i+1]&&(I=h,h=i,i=I,I=p,p=v,v=I),b[u+1]>b[h+1]&&(I=u,u=h,h=I,I=x,x=p,p=I);const B=(b[u]+w.offsetX)*w.scaleX,_=(b[u+1]+w.offsetY)*w.scaleY,P=(b[h]+w.offsetX)*w.scaleX,X=(b[h+1]+w.offsetY)*w.scaleY,m=(b[i]+w.offsetX)*w.scaleX,S=(b[i+1]+w.offsetY)*w.scaleY;if(_>=S)return;const R=N[x],z=N[x+1],O=N[x+2],E=N[p],k=N[p+1],M=N[p+2],a=N[v],o=N[v+1],r=N[v+2],s=Math.round(_),A=Math.round(S);let c,y,q,re,Q,de,ee,ue;for(let W=s;W<=A;W++){if(W<X){const H=W<_?0:(_-W)/(_-X);c=B-(B-P)*H,y=R-(R-E)*H,q=z-(z-k)*H,re=O-(O-M)*H}else{let H;W>S?H=1:X===S?H=0:H=(X-W)/(X-S),c=P-(P-m)*H,y=E-(E-a)*H,q=k-(k-o)*H,re=M-(M-r)*H}let Z;W<_?Z=0:W>S?Z=1:Z=(_-W)/(_-S),Q=B-(B-m)*Z,de=R-(R-a)*Z,ee=z-(z-o)*Z,ue=O-(O-r)*Z;const se=Math.round(Math.min(c,Q)),ne=Math.round(Math.max(c,Q));let ie=D*W+se*4;for(let H=se;H<=ne;H++)Z=(c-H)/(c-Q),Z<0?Z=0:Z>1&&(Z=1),U[ie++]=y-(y-de)*Z|0,U[ie++]=q-(q-ee)*Z|0,U[ie++]=re-(re-ue)*Z|0,U[ie++]=255}}function d(g,w,u){const h=w.coords,i=w.colors;let x,p;switch(w.type){case"lattice":const v=w.verticesPerRow,b=Math.floor(h.length/v)-1,N=v-1;for(x=0;x<b;x++){let U=x*v;for(let D=0;D<N;D++,U++)n(g,u,h[U],h[U+1],h[U+v],i[U],i[U+1],i[U+v]),n(g,u,h[U+v+1],h[U+1],h[U+v],i[U+v+1],i[U+1],i[U+v])}break;case"triangles":for(x=0,p=h.length;x<p;x+=3)n(g,u,h[x],h[x+1],h[x+2],i[x],i[x+1],i[x+2]);break;default:throw new Error("illegal figure")}}class T extends f{constructor(w){super(),this._coords=w[2],this._colors=w[3],this._figures=w[4],this._bounds=w[5],this._bbox=w[7],this._background=w[8],this.matrix=null}_createMeshCanvas(w,u,h){const v=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-v,U=Math.ceil(this._bounds[3])-b,D=Math.min(Math.ceil(Math.abs(N*w[0]*1.1)),3e3),I=Math.min(Math.ceil(Math.abs(U*w[1]*1.1)),3e3),B=N/D,_=U/I,P={coords:this._coords,colors:this._colors,offsetX:-v,offsetY:-b,scaleX:1/B,scaleY:1/_},X=D+2*2,m=I+2*2,S=h.getCanvas("mesh",X,m,!1),R=S.context,z=R.createImageData(D,I);if(u){const E=z.data;for(let k=0,M=E.length;k<M;k+=4)E[k]=u[0],E[k+1]=u[1],E[k+2]=u[2],E[k+3]=255}for(const E of this._figures)d(z,E,P);return R.putImageData(z,2,2),{canvas:S.canvas,offsetX:v-2*B,offsetY:b-2*_,scaleX:B,scaleY:_}}getPattern(w,u,h,i){fe(w,this._bbox);let x;if(i===we.SHADING)x=J.Util.singularValueDecompose2dScale((0,ve.getCurrentTransform)(w));else if(x=J.Util.singularValueDecompose2dScale(u.baseTransform),this.matrix){const v=J.Util.singularValueDecompose2dScale(this.matrix);x=[x[0]*v[0],x[1]*v[1]]}const p=this._createMeshCanvas(x,i===we.SHADING?null:this._background,u.cachedCanvases);return i!==we.SHADING&&(w.setTransform(...u.baseTransform),this.matrix&&w.transform(...this.matrix)),w.translate(p.offsetX,p.offsetY),w.scale(p.scaleX,p.scaleY),w.createPattern(p.canvas,"no-repeat")}}class e extends f{getPattern(){return"hotpink"}}function t(g){switch(g[0]){case"RadialAxial":return new $(g);case"Mesh":return new T(g);case"Dummy":return new e}throw new Error(`Unknown IR type: ${g[0]}`)}const l={COLORED:1,UNCOLORED:2},F=class F{constructor(w,u,h,i,x){this.operatorList=w[2],this.matrix=w[3]||[1,0,0,1,0,0],this.bbox=w[4],this.xstep=w[5],this.ystep=w[6],this.paintType=w[7],this.tilingType=w[8],this.color=u,this.ctx=h,this.canvasGraphicsFactory=i,this.baseTransform=x}createPatternCanvas(w){const u=this.operatorList,h=this.bbox,i=this.xstep,x=this.ystep,p=this.paintType,v=this.tilingType,b=this.color,N=this.canvasGraphicsFactory;(0,J.info)("TilingType: "+v);const U=h[0],D=h[1],I=h[2],B=h[3],_=J.Util.singularValueDecompose2dScale(this.matrix),P=J.Util.singularValueDecompose2dScale(this.baseTransform),X=[_[0]*P[0],_[1]*P[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,X[0]),S=this.getSizeAndScale(x,this.ctx.canvas.height,X[1]),R=w.cachedCanvases.getCanvas("pattern",m.size,S.size,!0),z=R.context,O=N.createCanvasGraphics(z);O.groupLevel=w.groupLevel,this.setFillAndStrokeStyleToContext(O,p,b);let E=U,k=D,M=I,a=B;return U<0&&(E=0,M+=Math.abs(U)),D<0&&(k=0,a+=Math.abs(D)),z.translate(-(m.scale*E),-(S.scale*k)),O.transform(m.scale,0,0,S.scale,0,0),z.save(),this.clipBbox(O,E,k,M,a),O.baseTransform=(0,ve.getCurrentTransform)(O.ctx),O.executeOperatorList(u),O.endDrawing(),{canvas:R.canvas,scaleX:m.scale,scaleY:S.scale,offsetX:E,offsetY:k}}getSizeAndScale(w,u,h){w=Math.abs(w);const i=Math.max(F.MAX_PATTERN_SIZE,u);let x=Math.ceil(w*h);return x>=i?x=i:h=x/w,{scale:h,size:x}}clipBbox(w,u,h,i,x){const p=i-u,v=x-h;w.ctx.rect(u,h,p,v),w.current.updateRectMinMax((0,ve.getCurrentTransform)(w.ctx),[u,h,i,x]),w.clip(),w.endPath()}setFillAndStrokeStyleToContext(w,u,h){const i=w.ctx,x=w.current;switch(u){case l.COLORED:const p=this.ctx;i.fillStyle=p.fillStyle,i.strokeStyle=p.strokeStyle,x.fillColor=p.fillStyle,x.strokeColor=p.strokeStyle;break;case l.UNCOLORED:const v=J.Util.makeHexColor(h[0],h[1],h[2]);i.fillStyle=v,i.strokeStyle=v,x.fillColor=v,x.strokeColor=v;break;default:throw new J.FormatError(`Unsupported paint type: ${u}`)}}getPattern(w,u,h,i){let x=h;i!==we.SHADING&&(x=J.Util.transform(x,u.baseTransform),this.matrix&&(x=J.Util.transform(x,this.matrix)));const p=this.createPatternCanvas(u);let v=new DOMMatrix(x);v=v.translate(p.offsetX,p.offsetY),v=v.scale(1/p.scaleX,1/p.scaleY);const b=w.createPattern(p.canvas,"repeat");return b.setTransform(v),b}};Mt(F,"MAX_PATTERN_SIZE",3e3);let L=F;V.TilingPattern=L},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.convertBlackAndWhiteToRGBA=we,V.convertToRGBA=ve,V.grayToRGBA=f;var J=be(1);function ve($){switch($.kind){case J.ImageKind.GRAYSCALE_1BPP:return we($);case J.ImageKind.RGB_24BPP:return fe($)}return null}function we({src:$,srcPos:n=0,dest:d,width:T,height:e,nonBlackColor:t=4294967295,inverseDecode:l=!1}){const L=J.FeatureTest.isLittleEndian?4278190080:255,[F,g]=l?[t,L]:[L,t],w=T>>3,u=T&7,h=$.length;d=new Uint32Array(d.buffer);let i=0;for(let x=0;x<e;x++){for(const v=n+w;n<v;n++){const b=n<h?$[n]:255;d[i++]=b&128?g:F,d[i++]=b&64?g:F,d[i++]=b&32?g:F,d[i++]=b&16?g:F,d[i++]=b&8?g:F,d[i++]=b&4?g:F,d[i++]=b&2?g:F,d[i++]=b&1?g:F}if(u===0)continue;const p=n<h?$[n++]:255;for(let v=0;v<u;v++)d[i++]=p&1<<7-v?g:F}return{srcPos:n,destPos:i}}function fe({src:$,srcPos:n=0,dest:d,destPos:T=0,width:e,height:t}){let l=0;const L=$.length>>2,F=new Uint32Array($.buffer,n,L);if(J.FeatureTest.isLittleEndian){for(;l<L-2;l+=3,T+=4){const g=F[l],w=F[l+1],u=F[l+2];d[T]=g|4278190080,d[T+1]=g>>>24|w<<8|4278190080,d[T+2]=w>>>16|u<<16|4278190080,d[T+3]=u>>>8|4278190080}for(let g=l*4,w=$.length;g<w;g+=3)d[T++]=$[g]|$[g+1]<<8|$[g+2]<<16|4278190080}else{for(;l<L-2;l+=3,T+=4){const g=F[l],w=F[l+1],u=F[l+2];d[T]=g|255,d[T+1]=g<<24|w>>>8|255,d[T+2]=w<<16|u>>>16|255,d[T+3]=u<<8|255}for(let g=l*4,w=$.length;g<w;g+=3)d[T++]=$[g]<<24|$[g+1]<<16|$[g+2]<<8|255}return{srcPos:n,destPos:T}}function f($,n){if(J.FeatureTest.isLittleEndian)for(let d=0,T=$.length;d<T;d++)n[d]=$[d]*65793|4278190080;else for(let d=0,T=$.length;d<T;d++)n[d]=$[d]*16843008|255}},(j,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.GlobalWorkerOptions=void 0;const be=Object.create(null);V.GlobalWorkerOptions=be,be.workerPort=null,be.workerSrc=""},(j,V,be)=>{var $,hr,d,fr,e,Nn;Object.defineProperty(V,"__esModule",{value:!0}),V.MessageHandler=void 0;var J=be(1);const ve={UNKNOWN:0,DATA:1,ERROR:2},we={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fe(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,J.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new J.AbortException(l.message);case"MissingPDFException":return new J.MissingPDFException(l.message);case"PasswordException":return new J.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new J.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new J.UnknownErrorException(l.message,l.details);default:return new J.UnknownErrorException(l.message,l.toString())}}class f{constructor(L,F,g){je(this,$);je(this,d);je(this,e);this.sourceName=L,this.targetName=F,this.comObj=g,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{const u=w.data;if(u.targetName!==this.sourceName)return;if(u.stream){qe(this,d,fr).call(this,u);return}if(u.callback){const i=u.callbackId,x=this.callbackCapabilities[i];if(!x)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],u.callback===ve.DATA)x.resolve(u.data);else if(u.callback===ve.ERROR)x.reject(fe(u.reason));else throw new Error("Unexpected callback case");return}const h=this.actionHandler[u.action];if(!h)throw new Error(`Unknown action from worker: ${u.action}`);if(u.callbackId){const i=this.sourceName,x=u.sourceName;new Promise(function(p){p(h(u.data))}).then(function(p){g.postMessage({sourceName:i,targetName:x,callback:ve.DATA,callbackId:u.callbackId,data:p})},function(p){g.postMessage({sourceName:i,targetName:x,callback:ve.ERROR,callbackId:u.callbackId,reason:fe(p)})});return}if(u.streamId){qe(this,$,hr).call(this,u);return}h(u.data)},g.addEventListener("message",this._onComObjOnMessage)}on(L,F){const g=this.actionHandler;if(g[L])throw new Error(`There is already an actionName called "${L}"`);g[L]=F}send(L,F,g){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:L,data:F},g)}sendWithPromise(L,F,g){const w=this.callbackId++,u=new J.PromiseCapability;this.callbackCapabilities[w]=u;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:L,callbackId:w,data:F},g)}catch(h){u.reject(h)}return u.promise}sendWithStream(L,F,g,w){const u=this.streamId++,h=this.sourceName,i=this.targetName,x=this.comObj;return new ReadableStream({start:p=>{const v=new J.PromiseCapability;return this.streamControllers[u]={controller:p,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:h,targetName:i,action:L,streamId:u,data:F,desiredSize:p.desiredSize},w),v.promise},pull:p=>{const v=new J.PromiseCapability;return this.streamControllers[u].pullCall=v,x.postMessage({sourceName:h,targetName:i,stream:we.PULL,streamId:u,desiredSize:p.desiredSize}),v.promise},cancel:p=>{(0,J.assert)(p instanceof Error,"cancel must have a valid reason");const v=new J.PromiseCapability;return this.streamControllers[u].cancelCall=v,this.streamControllers[u].isClosed=!0,x.postMessage({sourceName:h,targetName:i,stream:we.CANCEL,streamId:u,reason:fe(p)}),v.promise}},g)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$=new WeakSet,hr=function(L){const F=L.streamId,g=this.sourceName,w=L.sourceName,u=this.comObj,h=this,i=this.actionHandler[L.action],x={enqueue(p,v=1,b){if(this.isCancelled)return;const N=this.desiredSize;this.desiredSize-=v,N>0&&this.desiredSize<=0&&(this.sinkCapability=new J.PromiseCapability,this.ready=this.sinkCapability.promise),u.postMessage({sourceName:g,targetName:w,stream:we.ENQUEUE,streamId:F,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:g,targetName:w,stream:we.CLOSE,streamId:F}),delete h.streamSinks[F])},error(p){(0,J.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,u.postMessage({sourceName:g,targetName:w,stream:we.ERROR,streamId:F,reason:fe(p)}))},sinkCapability:new J.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:L.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[F]=x,new Promise(function(p){p(i(L.data,x))}).then(function(){u.postMessage({sourceName:g,targetName:w,stream:we.START_COMPLETE,streamId:F,success:!0})},function(p){u.postMessage({sourceName:g,targetName:w,stream:we.START_COMPLETE,streamId:F,reason:fe(p)})})},d=new WeakSet,fr=function(L){const F=L.streamId,g=this.sourceName,w=L.sourceName,u=this.comObj,h=this.streamControllers[F],i=this.streamSinks[F];switch(L.stream){case we.START_COMPLETE:L.success?h.startCall.resolve():h.startCall.reject(fe(L.reason));break;case we.PULL_COMPLETE:L.success?h.pullCall.resolve():h.pullCall.reject(fe(L.reason));break;case we.PULL:if(!i){u.postMessage({sourceName:g,targetName:w,stream:we.PULL_COMPLETE,streamId:F,success:!0});break}i.desiredSize<=0&&L.desiredSize>0&&i.sinkCapability.resolve(),i.desiredSize=L.desiredSize,new Promise(function(x){var p;x((p=i.onPull)==null?void 0:p.call(i))}).then(function(){u.postMessage({sourceName:g,targetName:w,stream:we.PULL_COMPLETE,streamId:F,success:!0})},function(x){u.postMessage({sourceName:g,targetName:w,stream:we.PULL_COMPLETE,streamId:F,reason:fe(x)})});break;case we.ENQUEUE:if((0,J.assert)(h,"enqueue should have stream controller"),h.isClosed)break;h.controller.enqueue(L.chunk);break;case we.CLOSE:if((0,J.assert)(h,"close should have stream controller"),h.isClosed)break;h.isClosed=!0,h.controller.close(),qe(this,e,Nn).call(this,h,F);break;case we.ERROR:(0,J.assert)(h,"error should have stream controller"),h.controller.error(fe(L.reason)),qe(this,e,Nn).call(this,h,F);break;case we.CANCEL_COMPLETE:L.success?h.cancelCall.resolve():h.cancelCall.reject(fe(L.reason)),qe(this,e,Nn).call(this,h,F);break;case we.CANCEL:if(!i)break;new Promise(function(x){var p;x((p=i.onCancel)==null?void 0:p.call(i,fe(L.reason)))}).then(function(){u.postMessage({sourceName:g,targetName:w,stream:we.CANCEL_COMPLETE,streamId:F,success:!0})},function(x){u.postMessage({sourceName:g,targetName:w,stream:we.CANCEL_COMPLETE,streamId:F,reason:fe(x)})}),i.sinkCapability.reject(fe(L.reason)),i.isCancelled=!0,delete this.streamSinks[F];break;default:throw new Error("Unexpected stream case")}},e=new WeakSet,Nn=async function(L,F){var g,w,u;await Promise.allSettled([(g=L.startCall)==null?void 0:g.promise,(w=L.pullCall)==null?void 0:w.promise,(u=L.cancelCall)==null?void 0:u.promise]),delete this.streamControllers[F]},V.MessageHandler=f},(j,V,be)=>{var we,fe;Object.defineProperty(V,"__esModule",{value:!0}),V.Metadata=void 0;var J=be(1);class ve{constructor({parsedData:$,rawData:n}){je(this,we,void 0);je(this,fe,void 0);Ye(this,we,$),Ye(this,fe,n)}getRaw(){return Ce(this,fe)}get($){return Ce(this,we).get($)??null}getAll(){return(0,J.objectFromMap)(Ce(this,we))}has($){return Ce(this,we).has($)}}we=new WeakMap,fe=new WeakMap,V.Metadata=ve},(j,V,be)=>{var $,n,d,T,e,t,Ii;Object.defineProperty(V,"__esModule",{value:!0}),V.OptionalContentConfig=void 0;var J=be(1),ve=be(8);const we=Symbol("INTERNAL");class fe{constructor(F,g){je(this,$,!0);this.name=F,this.intent=g}get visible(){return Ce(this,$)}_setVisible(F,g){F!==we&&(0,J.unreachable)("Internal method `_setVisible` called."),Ye(this,$,g)}}$=new WeakMap;class f{constructor(F){je(this,t);je(this,n,null);je(this,d,new Map);je(this,T,null);je(this,e,null);if(this.name=null,this.creator=null,F!==null){this.name=F.name,this.creator=F.creator,Ye(this,e,F.order);for(const g of F.groups)Ce(this,d).set(g.id,new fe(g.name,g.intent));if(F.baseState==="OFF")for(const g of Ce(this,d).values())g._setVisible(we,!1);for(const g of F.on)Ce(this,d).get(g)._setVisible(we,!0);for(const g of F.off)Ce(this,d).get(g)._setVisible(we,!1);Ye(this,T,this.getHash())}}isVisible(F){if(Ce(this,d).size===0)return!0;if(!F)return(0,J.warn)("Optional content group not defined."),!0;if(F.type==="OCG")return Ce(this,d).has(F.id)?Ce(this,d).get(F.id).visible:((0,J.warn)(`Optional content group not found: ${F.id}`),!0);if(F.type==="OCMD"){if(F.expression)return qe(this,t,Ii).call(this,F.expression);if(!F.policy||F.policy==="AnyOn"){for(const g of F.ids){if(!Ce(this,d).has(g))return(0,J.warn)(`Optional content group not found: ${g}`),!0;if(Ce(this,d).get(g).visible)return!0}return!1}else if(F.policy==="AllOn"){for(const g of F.ids){if(!Ce(this,d).has(g))return(0,J.warn)(`Optional content group not found: ${g}`),!0;if(!Ce(this,d).get(g).visible)return!1}return!0}else if(F.policy==="AnyOff"){for(const g of F.ids){if(!Ce(this,d).has(g))return(0,J.warn)(`Optional content group not found: ${g}`),!0;if(!Ce(this,d).get(g).visible)return!0}return!1}else if(F.policy==="AllOff"){for(const g of F.ids){if(!Ce(this,d).has(g))return(0,J.warn)(`Optional content group not found: ${g}`),!0;if(Ce(this,d).get(g).visible)return!1}return!0}return(0,J.warn)(`Unknown optional content policy ${F.policy}.`),!0}return(0,J.warn)(`Unknown group type ${F.type}.`),!0}setVisibility(F,g=!0){if(!Ce(this,d).has(F)){(0,J.warn)(`Optional content group not found: ${F}`);return}Ce(this,d).get(F)._setVisible(we,!!g),Ye(this,n,null)}get hasInitialVisibility(){return Ce(this,T)===null||this.getHash()===Ce(this,T)}getOrder(){return Ce(this,d).size?Ce(this,e)?Ce(this,e).slice():[...Ce(this,d).keys()]:null}getGroups(){return Ce(this,d).size>0?(0,J.objectFromMap)(Ce(this,d)):null}getGroup(F){return Ce(this,d).get(F)||null}getHash(){if(Ce(this,n)!==null)return Ce(this,n);const F=new ve.MurmurHash3_64;for(const[g,w]of Ce(this,d))F.update(`${g}:${w.visible}`);return Ye(this,n,F.hexdigest())}}n=new WeakMap,d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakSet,Ii=function(F){const g=F.length;if(g<2)return!0;const w=F[0];for(let u=1;u<g;u++){const h=F[u];let i;if(Array.isArray(h))i=qe(this,t,Ii).call(this,h);else if(Ce(this,d).has(h))i=Ce(this,d).get(h).visible;else return(0,J.warn)(`Optional content group not found: ${h}`),!0;switch(w){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return w==="And"},V.OptionalContentConfig=f},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFDataTransportStream=void 0;var J=be(1),ve=be(6);class we{constructor({length:n,initialData:d,progressiveDone:T=!1,contentDispositionFilename:e=null,disableRange:t=!1,disableStream:l=!1},L){if((0,J.assert)(L,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=T,this._contentDispositionFilename=e,(d==null?void 0:d.length)>0){const F=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;this._queuedChunks.push(F)}this._pdfDataRangeTransport=L,this._isStreamingSupported=!l,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((F,g)=>{this._onReceiveData({begin:F,chunk:g})}),this._pdfDataRangeTransport.addProgressListener((F,g)=>{this._onProgress({loaded:F,total:g})}),this._pdfDataRangeTransport.addProgressiveReadListener(F=>{this._onReceiveData({chunk:F})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:n,chunk:d}){const T=d instanceof Uint8Array&&d.byteLength===d.buffer.byteLength?d.buffer:new Uint8Array(d).buffer;if(n===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{const e=this._rangeReaders.some(function(t){return t._begin!==n?!1:(t._enqueue(T),!0)});(0,J.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n;return((n=this._fullRequestReader)==null?void 0:n._loaded)??0}_onProgress(n){var d,T,e,t;n.total===void 0?(T=(d=this._rangeReaders[0])==null?void 0:d.onProgress)==null||T.call(d,{loaded:n.loaded}):(t=(e=this._fullRequestReader)==null?void 0:e.onProgress)==null||t.call(e,{loaded:n.loaded,total:n.total})}_onProgressiveDone(){var n;(n=this._fullRequestReader)==null||n.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const d=this._rangeReaders.indexOf(n);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,J.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new fe(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,d){if(d<=this._progressiveDataLength)return null;const T=new f(this,n,d);return this._pdfDataRangeTransport.requestDataRange(n,d),this._rangeReaders.push(T),T}cancelAllRequests(n){var d;(d=this._fullRequestReader)==null||d.cancel(n);for(const T of this._rangeReaders.slice(0))T.cancel(n);this._pdfDataRangeTransport.abort()}}V.PDFDataTransportStream=we;class fe{constructor(n,d,T=!1,e=null){this._stream=n,this._done=T||!1,this._filename=(0,ve.isPdfFile)(e)?e:null,this._queuedChunks=d||[],this._loaded=0;for(const t of this._queuedChunks)this._loaded+=t.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=new J.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class f{constructor(n,d,T){this._stream=n,this._begin=d,this._end=T,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const n=new J.PromiseCapability;return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFFetchStream=void 0;var J=be(1),ve=be(20);function we(T,e,t){return{method:"GET",headers:T,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function fe(T){const e=new Headers;for(const t in T){const l=T[t];l!==void 0&&e.append(t,l)}return e}function f(T){return T instanceof Uint8Array?T.buffer:T instanceof ArrayBuffer?T:((0,J.warn)(`getArrayBuffer - unexpected data format: ${T}`),new Uint8Array(T).buffer)}class ${constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return(0,J.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new n(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const l=new d(this,e,t);return this._rangeRequestReaders.push(l),l}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const l of this._rangeRequestReaders.slice(0))l.cancel(e)}}V.PDFFetchStream=$;class n{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new J.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=fe(this._stream.httpHeaders);const l=t.url;fetch(l,we(this._headers,this._withCredentials,this._abortController)).then(L=>{if(!(0,ve.validateResponseStatus)(L.status))throw(0,ve.createResponseStatusError)(L.status,l);this._reader=L.body.getReader(),this._headersCapability.resolve();const F=u=>L.headers.get(u),{allowRangeRequests:g,suggestedLength:w}=(0,ve.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=w||this._contentLength,this._filename=(0,ve.extractFilenameFromHeader)(F),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new J.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var l;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(l=this.onProgress)==null||l.call(this,{loaded:this._loaded,total:this._contentLength}),{value:f(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class d{constructor(e,t,l){this._stream=e,this._reader=null,this._loaded=0;const L=e.source;this._withCredentials=L.withCredentials||!1,this._readCapability=new J.PromiseCapability,this._isStreamingSupported=!L.disableStream,this._abortController=new AbortController,this._headers=fe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${l-1}`);const F=L.url;fetch(F,we(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,ve.validateResponseStatus)(g.status))throw(0,ve.createResponseStatusError)(g.status,F);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var l;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(l=this.onProgress)==null||l.call(this,{loaded:this._loaded}),{value:f(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.createResponseStatusError=$,V.extractFilenameFromHeader=f,V.validateRangeRequestCapabilities=fe,V.validateResponseStatus=n;var J=be(1),ve=be(21),we=be(6);function fe({getResponseHeader:d,isHttp:T,rangeChunkSize:e,disableRange:t}){const l={allowRangeRequests:!1,suggestedLength:void 0},L=parseInt(d("Content-Length"),10);return!Number.isInteger(L)||(l.suggestedLength=L,L<=2*e)||t||!T||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(l.allowRangeRequests=!0),l}function f(d){const T=d("Content-Disposition");if(T){let e=(0,ve.getFilenameFromContentDispositionHeader)(T);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,we.isPdfFile)(e))return e}return null}function $(d,T){return d===404||d===0&&T.startsWith("file:")?new J.MissingPDFException('Missing PDF "'+T+'".'):new J.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${T}".`,d)}function n(d){return d===200||d===206}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.getFilenameFromContentDispositionHeader=ve;var J=be(1);function ve(we){let fe=!0,f=$("filename\\*","i").exec(we);if(f){f=f[1];let L=e(f);return L=unescape(L),L=t(L),L=l(L),d(L)}if(f=T(we),f){const L=l(f);return d(L)}if(f=$("filename","i").exec(we),f){f=f[1];let L=e(f);return L=l(L),d(L)}function $(L,F){return new RegExp("(?:^|;)\\s*"+L+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',F)}function n(L,F){if(L){if(!/^[\x00-\xFF]+$/.test(F))return F;try{const g=new TextDecoder(L,{fatal:!0}),w=(0,J.stringToBytes)(F);F=g.decode(w),fe=!1}catch{}}return F}function d(L){return fe&&/[\x80-\xff]/.test(L)&&(L=n("utf-8",L),fe&&(L=n("iso-8859-1",L))),L}function T(L){const F=[];let g;const w=$("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=w.exec(L))!==null;){let[,h,i,x]=g;if(h=parseInt(h,10),h in F){if(h===0)break;continue}F[h]=[i,x]}const u=[];for(let h=0;h<F.length&&h in F;++h){let[i,x]=F[h];x=e(x),i&&(x=unescape(x),h===0&&(x=t(x))),u.push(x)}return u.join("")}function e(L){if(L.startsWith('"')){const F=L.slice(1).split('\\"');for(let g=0;g<F.length;++g){const w=F[g].indexOf('"');w!==-1&&(F[g]=F[g].slice(0,w),F.length=g+1),F[g]=F[g].replaceAll(/\\(.)/g,"$1")}L=F.join('"')}return L}function t(L){const F=L.indexOf("'");if(F===-1)return L;const g=L.slice(0,F),u=L.slice(F+1).replace(/^[^']*'/,"");return n(g,u)}function l(L){return!L.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(L)?L:L.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(F,g,w,u){if(w==="q"||w==="Q")return u=u.replaceAll("_"," "),u=u.replaceAll(/=([0-9a-fA-F]{2})/g,function(h,i){return String.fromCharCode(parseInt(i,16))}),n(g,u);try{u=atob(u)}catch{}return n(g,u)})}return""}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFNetworkStream=void 0;var J=be(1),ve=be(20);const we=200,fe=206;function f(e){const t=e.response;return typeof t!="string"?t:(0,J.stringToBytes)(t).buffer}class ${constructor(t,l={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&l.httpHeaders||Object.create(null),this.withCredentials=l.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,l,L){const F={begin:t,end:l};for(const g in L)F[g]=L[g];return this.request(F)}requestFull(t){return this.request(t)}request(t){const l=new XMLHttpRequest,L=this.currXhrId++,F=this.pendingRequests[L]={xhr:l};l.open("GET",this.url),l.withCredentials=this.withCredentials;for(const g in this.httpHeaders){const w=this.httpHeaders[g];w!==void 0&&l.setRequestHeader(g,w)}return this.isHttp&&"begin"in t&&"end"in t?(l.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),F.expectedStatus=fe):F.expectedStatus=we,l.responseType="arraybuffer",t.onError&&(l.onerror=function(g){t.onError(l.status)}),l.onreadystatechange=this.onStateChange.bind(this,L),l.onprogress=this.onProgress.bind(this,L),F.onHeadersReceived=t.onHeadersReceived,F.onDone=t.onDone,F.onError=t.onError,F.onProgress=t.onProgress,l.send(null),L}onProgress(t,l){var F;const L=this.pendingRequests[t];L&&((F=L.onProgress)==null||F.call(L,l))}onStateChange(t,l){var h,i,x;const L=this.pendingRequests[t];if(!L)return;const F=L.xhr;if(F.readyState>=2&&L.onHeadersReceived&&(L.onHeadersReceived(),delete L.onHeadersReceived),F.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],F.status===0&&this.isHttp){(h=L.onError)==null||h.call(L,F.status);return}const g=F.status||we;if(!(g===we&&L.expectedStatus===fe)&&g!==L.expectedStatus){(i=L.onError)==null||i.call(L,F.status);return}const u=f(F);if(g===fe){const p=F.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(p);L.onDone({begin:parseInt(v[1],10),chunk:u})}else u?L.onDone({begin:0,chunk:u}):(x=L.onError)==null||x.call(L,F.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const l=this.pendingRequests[t].xhr;delete this.pendingRequests[t],l.abort()}}class n{constructor(t){this._source=t,this._manager=new $(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const l=this._rangeRequestReaders.indexOf(t);l>=0&&this._rangeRequestReaders.splice(l,1)}getFullReader(){return(0,J.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(t,l){const L=new T(this._manager,t,l);return L.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(L),L}cancelAllRequests(t){var l;(l=this._fullRequestReader)==null||l.cancel(t);for(const L of this._rangeRequestReaders.slice(0))L.cancel(t)}}V.PDFNetworkStream=n;class d{constructor(t,l){this._manager=t;const L={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=l.url,this._fullRequestId=t.requestFull(L),this._headersReceivedCapability=new J.PromiseCapability,this._disableRange=l.disableRange||!1,this._contentLength=l.length,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,l=this._manager.getRequestXhr(t),L=w=>l.getResponseHeader(w),{allowRangeRequests:F,suggestedLength:g}=(0,ve.validateRangeRequestCapabilities)({getResponseHeader:L,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});F&&(this._isRangeSupported=!0),this._contentLength=g||this._contentLength,this._filename=(0,ve.extractFilenameFromHeader)(L),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=(0,ve.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var l;(l=this.onProgress)==null||l.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=new J.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class T{constructor(t,l,L){this._manager=t;const F={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(l,L,F),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const l=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:l,done:!1}):this._queuedChunk=l,this._done=!0;for(const L of this._requests)L.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=(0,ve.createResponseStatusError)(t,this._url);for(const l of this._requests)l.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var l;this.isStreamingSupported||(l=this.onProgress)==null||l.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const t=new J.PromiseCapability;return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFNodeStream=void 0;var J=be(1),ve=be(20);const we=/^file:\/\/\/[a-zA-Z]:\//;function fe(L){const F=requireUrl(),g=F.parse(L);return g.protocol==="file:"||g.host?g:/^[a-z]:[/\\]/i.test(L)?F.parse(`file:///${L}`):(g.host||(g.protocol="file:"),g)}class f{constructor(F){this.source=F,this.url=fe(F.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&F.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var F;return((F=this._fullRequestReader)==null?void 0:F._loaded)??0}getFullReader(){return(0,J.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new t(this):new T(this),this._fullRequestReader}getRangeReader(F,g){if(g<=this._progressiveDataLength)return null;const w=this.isFsUrl?new l(this,F,g):new e(this,F,g);return this._rangeRequestReaders.push(w),w}cancelAllRequests(F){var g;(g=this._fullRequestReader)==null||g.cancel(F);for(const w of this._rangeRequestReaders.slice(0))w.cancel(F)}}V.PDFNodeStream=f;class ${constructor(F){this._url=F.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=F.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new J.PromiseCapability,this._headersCapability=new J.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const F=this._readableStream.read();return F===null?(this._readCapability=new J.PromiseCapability,this.read()):(this._loaded+=F.length,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(F).buffer,done:!1})}cancel(F){if(!this._readableStream){this._error(F);return}this._readableStream.destroy(F)}_error(F){this._storedError=F,this._readCapability.resolve()}_setReadableStream(F){this._readableStream=F,F.on("readable",()=>{this._readCapability.resolve()}),F.on("end",()=>{F.destroy(),this._done=!0,this._readCapability.resolve()}),F.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new J.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n{constructor(F){this._url=F.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new J.PromiseCapability;const g=F.source;this._isStreamingSupported=!g.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var w;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const F=this._readableStream.read();return F===null?(this._readCapability=new J.PromiseCapability,this.read()):(this._loaded+=F.length,(w=this.onProgress)==null||w.call(this,{loaded:this._loaded}),{value:new Uint8Array(F).buffer,done:!1})}cancel(F){if(!this._readableStream){this._error(F);return}this._readableStream.destroy(F)}_error(F){this._storedError=F,this._readCapability.resolve()}_setReadableStream(F){this._readableStream=F,F.on("readable",()=>{this._readCapability.resolve()}),F.on("end",()=>{F.destroy(),this._done=!0,this._readCapability.resolve()}),F.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(L,F){return{protocol:L.protocol,auth:L.auth,host:L.hostname,port:L.port,path:L.path,method:"GET",headers:F}}class T extends ${constructor(F){super(F);const g=w=>{if(w.statusCode===404){const x=new J.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x,this._headersCapability.reject(x);return}this._headersCapability.resolve(),this._setReadableStream(w);const u=x=>this._readableStream.headers[x.toLowerCase()],{allowRangeRequests:h,suggestedLength:i}=(0,ve.validateRangeRequestCapabilities)({getResponseHeader:u,isHttp:F.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=i||this._contentLength,this._filename=(0,ve.extractFilenameFromHeader)(u)};if(this._request=null,this._url.protocol==="http:"){const w=requireStreamHttp();this._request=w.request(d(this._url,F.httpHeaders),g)}else{const w=requireHttpsBrowserify();this._request=w.request(d(this._url,F.httpHeaders),g)}this._request.on("error",w=>{this._storedError=w,this._headersCapability.reject(w)}),this._request.end()}}class e extends n{constructor(F,g,w){super(F),this._httpHeaders={};for(const h in F.httpHeaders){const i=F.httpHeaders[h];i!==void 0&&(this._httpHeaders[h]=i)}this._httpHeaders.Range=`bytes=${g}-${w-1}`;const u=h=>{if(h.statusCode===404){const i=new J.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(h)};if(this._request=null,this._url.protocol==="http:"){const h=requireStreamHttp();this._request=h.request(d(this._url,this._httpHeaders),u)}else{const h=requireHttpsBrowserify();this._request=h.request(d(this._url,this._httpHeaders),u)}this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class t extends ${constructor(F){super(F);let g=decodeURIComponent(this._url.path);we.test(this._url.href)&&(g=g.replace(/^\//,""));const w=requireEmpty();w.lstat(g,(u,h)=>{if(u){u.code==="ENOENT"&&(u=new J.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=u,this._headersCapability.reject(u);return}this._contentLength=h.size,this._setReadableStream(w.createReadStream(g)),this._headersCapability.resolve()})}}class l extends n{constructor(F,g,w){super(F);let u=decodeURIComponent(this._url.path);we.test(this._url.href)&&(u=u.replace(/^\//,""));const h=requireEmpty();this._setReadableStream(h.createReadStream(u,{start:g,end:w-1}))}}},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.SVGGraphics=void 0;var J=be(6),ve=be(1);const we={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},fe="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/1999/xlink",$=["butt","round","square"],n=["miter","round","bevel"],d=function(h,i="",x=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!x)return URL.createObjectURL(new Blob([h],{type:i}));const p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let v=`data:${i};base64,`;for(let b=0,N=h.length;b<N;b+=3){const U=h[b]&255,D=h[b+1]&255,I=h[b+2]&255,B=U>>2,_=(U&3)<<4|D>>4,P=b+1<N?(D&15)<<2|I>>6:64,X=b+2<N?I&63:64;v+=p[B]+p[_]+p[P]+p[X]}return v},T=function(){const h=new Uint8Array([137,80,78,71,13,10,26,10]),i=12,x=new Int32Array(256);for(let I=0;I<256;I++){let B=I;for(let _=0;_<8;_++)B=B&1?3988292384^B>>1&2147483647:B>>1&2147483647;x[I]=B}function p(I,B,_){let P=-1;for(let X=B;X<_;X++){const m=(P^I[X])&255,S=x[m];P=P>>>8^S}return P^-1}function v(I,B,_,P){let X=P;const m=B.length;_[X]=m>>24&255,_[X+1]=m>>16&255,_[X+2]=m>>8&255,_[X+3]=m&255,X+=4,_[X]=I.charCodeAt(0)&255,_[X+1]=I.charCodeAt(1)&255,_[X+2]=I.charCodeAt(2)&255,_[X+3]=I.charCodeAt(3)&255,X+=4,_.set(B,X),X+=B.length;const S=p(_,P+4,X);_[X]=S>>24&255,_[X+1]=S>>16&255,_[X+2]=S>>8&255,_[X+3]=S&255}function b(I,B,_){let P=1,X=0;for(let m=B;m<_;++m)P=(P+(I[m]&255))%65521,X=(X+P)%65521;return X<<16|P}function N(I){if(!ve.isNodeJS)return U(I);try{const B=parseInt(process$1.versions.node)>=8?I:Buffer.from(I),_=requireLib().deflateSync(B,{level:9});return _ instanceof Uint8Array?_:new Uint8Array(_)}catch(B){(0,ve.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+B)}return U(I)}function U(I){let B=I.length;const _=65535,P=Math.ceil(B/_),X=new Uint8Array(2+B+P*5+4);let m=0;X[m++]=120,X[m++]=156;let S=0;for(;B>_;)X[m++]=0,X[m++]=255,X[m++]=255,X[m++]=0,X[m++]=0,X.set(I.subarray(S,S+_),m),m+=_,S+=_,B-=_;X[m++]=1,X[m++]=B&255,X[m++]=B>>8&255,X[m++]=~B&65535&255,X[m++]=(~B&65535)>>8&255,X.set(I.subarray(S),m),m+=I.length-S;const R=b(I,0,I.length);return X[m++]=R>>24&255,X[m++]=R>>16&255,X[m++]=R>>8&255,X[m++]=R&255,X}function D(I,B,_,P){const X=I.width,m=I.height;let S,R,z;const O=I.data;switch(B){case ve.ImageKind.GRAYSCALE_1BPP:R=0,S=1,z=X+7>>3;break;case ve.ImageKind.RGB_24BPP:R=2,S=8,z=X*3;break;case ve.ImageKind.RGBA_32BPP:R=6,S=8,z=X*4;break;default:throw new Error("invalid format")}const E=new Uint8Array((1+z)*m);let k=0,M=0;for(let c=0;c<m;++c)E[k++]=0,E.set(O.subarray(M,M+z),k),M+=z,k+=z;if(B===ve.ImageKind.GRAYSCALE_1BPP&&P){k=0;for(let c=0;c<m;c++){k++;for(let y=0;y<z;y++)E[k++]^=255}}const a=new Uint8Array([X>>24&255,X>>16&255,X>>8&255,X&255,m>>24&255,m>>16&255,m>>8&255,m&255,S,R,0,0,0]),o=N(E),r=h.length+i*3+a.length+o.length,s=new Uint8Array(r);let A=0;return s.set(h,A),A+=h.length,v("IHDR",a,s,A),A+=i+a.length,v("IDATA",o,s,A),A+=i+o.length,v("IEND",new Uint8Array(0),s,A),d(s,"image/png",_)}return function(B,_,P){const X=B.kind===void 0?ve.ImageKind.GRAYSCALE_1BPP:B.kind;return D(B,X,_,P)}}();class e{constructor(){this.fontSizeScale=1,this.fontWeight=we.fontWeight,this.fontSize=0,this.textMatrix=ve.IDENTITY_MATRIX,this.fontMatrix=ve.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ve.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=we.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(i,x){this.x=i,this.y=x}}function t(h){let i=[];const x=[];for(const p of h){if(p.fn==="save"){i.push({fnId:92,fn:"group",items:[]}),x.push(i),i=i.at(-1).items;continue}p.fn==="restore"?i=x.pop():i.push(p)}return i}function l(h){if(Number.isInteger(h))return h.toString();const i=h.toFixed(10);let x=i.length-1;if(i[x]!=="0")return i;do x--;while(i[x]==="0");return i.substring(0,i[x]==="."?x:x+1)}function L(h){if(h[4]===0&&h[5]===0){if(h[1]===0&&h[2]===0)return h[0]===1&&h[3]===1?"":`scale(${l(h[0])} ${l(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2]){const i=Math.acos(h[0])*180/Math.PI;return`rotate(${l(i)})`}}else if(h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1)return`translate(${l(h[4])} ${l(h[5])})`;return`matrix(${l(h[0])} ${l(h[1])} ${l(h[2])} ${l(h[3])} ${l(h[4])} ${l(h[5])})`}let F=0,g=0,w=0;class u{constructor(i,x,p=!1){(0,J.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new J.DOMSVGFactory,this.current=new e,this.transformMatrix=ve.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=x,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const v in ve.OPS)this._operatorIdMapping[ve.OPS[v]]=v}getObject(i,x=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):x}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const x=i.fnArray,p=i.argsArray;for(let v=0,b=x.length;v<b;v++)if(x[v]===ve.OPS.dependency)for(const N of p[v]){const U=N.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(I=>{U.get(N,I)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(i,x,p,v,b,N){const U=[i,x,p,v,b,N];this.transformMatrix=ve.Util.transform(this.transformMatrix,U),this.tgrp=null}getSVG(i,x){this.viewport=x;const p=this._initialize(x);return this.loadDependencies(i).then(()=>(this.transformMatrix=ve.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),p))}convertOpList(i){const x=this._operatorIdMapping,p=i.argsArray,v=i.fnArray,b=[];for(let N=0,U=v.length;N<U;N++){const D=v[N];b.push({fnId:D,fn:x[D],args:p[N]})}return t(b)}executeOpTree(i){for(const x of i){const p=x.fn,v=x.fnId,b=x.args;switch(v|0){case ve.OPS.beginText:this.beginText();break;case ve.OPS.dependency:break;case ve.OPS.setLeading:this.setLeading(b);break;case ve.OPS.setLeadingMoveText:this.setLeadingMoveText(b[0],b[1]);break;case ve.OPS.setFont:this.setFont(b);break;case ve.OPS.showText:this.showText(b[0]);break;case ve.OPS.showSpacedText:this.showText(b[0]);break;case ve.OPS.endText:this.endText();break;case ve.OPS.moveText:this.moveText(b[0],b[1]);break;case ve.OPS.setCharSpacing:this.setCharSpacing(b[0]);break;case ve.OPS.setWordSpacing:this.setWordSpacing(b[0]);break;case ve.OPS.setHScale:this.setHScale(b[0]);break;case ve.OPS.setTextMatrix:this.setTextMatrix(b[0],b[1],b[2],b[3],b[4],b[5]);break;case ve.OPS.setTextRise:this.setTextRise(b[0]);break;case ve.OPS.setTextRenderingMode:this.setTextRenderingMode(b[0]);break;case ve.OPS.setLineWidth:this.setLineWidth(b[0]);break;case ve.OPS.setLineJoin:this.setLineJoin(b[0]);break;case ve.OPS.setLineCap:this.setLineCap(b[0]);break;case ve.OPS.setMiterLimit:this.setMiterLimit(b[0]);break;case ve.OPS.setFillRGBColor:this.setFillRGBColor(b[0],b[1],b[2]);break;case ve.OPS.setStrokeRGBColor:this.setStrokeRGBColor(b[0],b[1],b[2]);break;case ve.OPS.setStrokeColorN:this.setStrokeColorN(b);break;case ve.OPS.setFillColorN:this.setFillColorN(b);break;case ve.OPS.shadingFill:this.shadingFill(b[0]);break;case ve.OPS.setDash:this.setDash(b[0],b[1]);break;case ve.OPS.setRenderingIntent:this.setRenderingIntent(b[0]);break;case ve.OPS.setFlatness:this.setFlatness(b[0]);break;case ve.OPS.setGState:this.setGState(b[0]);break;case ve.OPS.fill:this.fill();break;case ve.OPS.eoFill:this.eoFill();break;case ve.OPS.stroke:this.stroke();break;case ve.OPS.fillStroke:this.fillStroke();break;case ve.OPS.eoFillStroke:this.eoFillStroke();break;case ve.OPS.clip:this.clip("nonzero");break;case ve.OPS.eoClip:this.clip("evenodd");break;case ve.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ve.OPS.paintImageXObject:this.paintImageXObject(b[0]);break;case ve.OPS.paintInlineImageXObject:this.paintInlineImageXObject(b[0]);break;case ve.OPS.paintImageMaskXObject:this.paintImageMaskXObject(b[0]);break;case ve.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(b[0],b[1]);break;case ve.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ve.OPS.closePath:this.closePath();break;case ve.OPS.closeStroke:this.closeStroke();break;case ve.OPS.closeFillStroke:this.closeFillStroke();break;case ve.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ve.OPS.nextLine:this.nextLine();break;case ve.OPS.transform:this.transform(b[0],b[1],b[2],b[3],b[4],b[5]);break;case ve.OPS.constructPath:this.constructPath(b[0],b[1]);break;case ve.OPS.endPath:this.endPath();break;case 92:this.group(x.items);break;default:(0,ve.warn)(`Unimplemented operator ${p}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,x,p,v,b,N){const U=this.current;U.textMatrix=U.lineMatrix=[i,x,p,v,b,N],U.textMatrixScale=Math.hypot(i,x),U.x=U.lineX=0,U.y=U.lineY=0,U.xcoords=[],U.ycoords=[],U.tspan=this.svgFactory.createElement("svg:tspan"),U.tspan.setAttributeNS(null,"font-family",U.fontFamily),U.tspan.setAttributeNS(null,"font-size",`${l(U.fontSize)}px`),U.tspan.setAttributeNS(null,"y",l(-U.y)),U.txtElement=this.svgFactory.createElement("svg:text"),U.txtElement.append(U.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=ve.IDENTITY_MATRIX,i.lineMatrix=ve.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,x){const p=this.current;p.x=p.lineX+=i,p.y=p.lineY+=x,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${l(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",l(-p.y))}showText(i){const x=this.current,p=x.font,v=x.fontSize;if(v===0)return;const b=x.fontSizeScale,N=x.charSpacing,U=x.wordSpacing,D=x.fontDirection,I=x.textHScale*D,B=p.vertical,_=B?1:-1,P=p.defaultVMetrics,X=v*x.fontMatrix[0];let m=0;for(const z of i){if(z===null){m+=D*U;continue}else if(typeof z=="number"){m+=_*z*v/1e3;continue}const O=(z.isSpace?U:0)+N,E=z.fontChar;let k,M,a=z.width;if(B){let r;const s=z.vmetric||P;r=z.vmetric?s[1]:a*.5,r=-r*X;const A=s[2]*X;a=s?-s[0]:a,k=r/b,M=(m+A)/b}else k=m/b,M=0;(z.isInFont||p.missingFile)&&(x.xcoords.push(x.x+k),B&&x.ycoords.push(-x.y+M),x.tspan.textContent+=E);const o=B?a*X-O*D:a*X+O*D;m+=o}x.tspan.setAttributeNS(null,"x",x.xcoords.map(l).join(" ")),B?x.tspan.setAttributeNS(null,"y",x.ycoords.map(l).join(" ")):x.tspan.setAttributeNS(null,"y",l(-x.y)),B?x.y-=m:x.x+=m*I,x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${l(x.fontSize)}px`),x.fontStyle!==we.fontStyle&&x.tspan.setAttributeNS(null,"font-style",x.fontStyle),x.fontWeight!==we.fontWeight&&x.tspan.setAttributeNS(null,"font-weight",x.fontWeight);const S=x.textRenderingMode&ve.TextRenderingMode.FILL_STROKE_MASK;if(S===ve.TextRenderingMode.FILL||S===ve.TextRenderingMode.FILL_STROKE?(x.fillColor!==we.fillColor&&x.tspan.setAttributeNS(null,"fill",x.fillColor),x.fillAlpha<1&&x.tspan.setAttributeNS(null,"fill-opacity",x.fillAlpha)):x.textRenderingMode===ve.TextRenderingMode.ADD_TO_PATH?x.tspan.setAttributeNS(null,"fill","transparent"):x.tspan.setAttributeNS(null,"fill","none"),S===ve.TextRenderingMode.STROKE||S===ve.TextRenderingMode.FILL_STROKE){const z=1/(x.textMatrixScale||1);this._setStrokeAttributes(x.tspan,z)}let R=x.textMatrix;x.textRise!==0&&(R=R.slice(),R[5]+=x.textRise),x.txtElement.setAttributeNS(null,"transform",`${L(R)} scale(${l(I)}, -1)`),x.txtElement.setAttributeNS(fe,"xml:space","preserve"),x.txtElement.append(x.tspan),x.txtgrp.append(x.txtElement),this._ensureTransformGroup().append(x.txtElement)}setLeadingMoveText(i,x){this.setLeading(-x),this.moveText(i,x)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const x=d(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${x}); }
`}setFont(i){const x=this.current,p=this.commonObjs.get(i[0]);let v=i[1];x.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),x.fontMatrix=p.fontMatrix||ve.FONT_IDENTITY_MATRIX;let b="normal";p.black?b="900":p.bold&&(b="bold");const N=p.italic?"italic":"normal";v<0?(v=-v,x.fontDirection=-1):x.fontDirection=1,x.fontSize=v,x.fontFamily=p.loadedName,x.fontWeight=b,x.fontStyle=N,x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"y",l(-x.y)),x.xcoords=[],x.ycoords=[]}endText(){var x;const i=this.current;i.textRenderingMode&ve.TextRenderingMode.ADD_TO_PATH_FLAG&&((x=i.txtElement)!=null&&x.hasChildNodes())&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=$[i]}setLineJoin(i){this.current.lineJoin=n[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,x,p){this.current.strokeColor=ve.Util.makeHexColor(i,x,p)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,x,p){this.current.fillColor=ve.Util.makeHexColor(i,x,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const{width:x,height:p}=this.viewport,v=ve.Util.inverseTransform(this.transformMatrix),[b,N,U,D]=ve.Util.getAxialAlignedBoundingBox([0,0,x,p],v),I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",b),I.setAttributeNS(null,"y",N),I.setAttributeNS(null,"width",U-b),I.setAttributeNS(null,"height",D-N),I.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&I.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(I)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const x=i[1],p=i[2],v=i[3]||ve.IDENTITY_MATRIX,[b,N,U,D]=i[4],I=i[5],B=i[6],_=i[7],P=`shading${w++}`,[X,m,S,R]=ve.Util.normalizeRect([...ve.Util.applyTransform([b,N],v),...ve.Util.applyTransform([U,D],v)]),[z,O]=ve.Util.singularValueDecompose2dScale(v),E=I*z,k=B*O,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",P),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",E),M.setAttributeNS(null,"height",k),M.setAttributeNS(null,"x",`${X}`),M.setAttributeNS(null,"y",`${m}`);const a=this.svg,o=this.transformMatrix,r=this.current.fillColor,s=this.current.strokeColor,A=this.svgFactory.create(S-X,R-m);if(this.svg=A,this.transformMatrix=v,_===2){const c=ve.Util.makeHexColor(...x);this.current.fillColor=c,this.current.strokeColor=c}return this.executeOpTree(this.convertOpList(p)),this.svg=a,this.transformMatrix=o,this.current.fillColor=r,this.current.strokeColor=s,M.append(A.childNodes[0]),this.defs.append(M),`url(#${P})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const x=`shading${w++}`,p=i[3];let v;switch(i[1]){case"axial":const b=i[4],N=i[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",x),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",b[0]),v.setAttributeNS(null,"y1",b[1]),v.setAttributeNS(null,"x2",N[0]),v.setAttributeNS(null,"y2",N[1]);break;case"radial":const U=i[4],D=i[5],I=i[6],B=i[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",x),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",D[0]),v.setAttributeNS(null,"cy",D[1]),v.setAttributeNS(null,"r",B),v.setAttributeNS(null,"fx",U[0]),v.setAttributeNS(null,"fy",U[1]),v.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const b of p){const N=this.svgFactory.createElement("svg:stop");N.setAttributeNS(null,"offset",b[0]),N.setAttributeNS(null,"stop-color",b[1]),v.append(N)}return this.defs.append(v),`url(#${x})`;case"Mesh":return(0,ve.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,x){this.current.dashArray=i,this.current.dashPhase=x}constructPath(i,x){const p=this.current;let v=p.x,b=p.y,N=[],U=0;for(const D of i)switch(D|0){case ve.OPS.rectangle:v=x[U++],b=x[U++];const I=x[U++],B=x[U++],_=v+I,P=b+B;N.push("M",l(v),l(b),"L",l(_),l(b),"L",l(_),l(P),"L",l(v),l(P),"Z");break;case ve.OPS.moveTo:v=x[U++],b=x[U++],N.push("M",l(v),l(b));break;case ve.OPS.lineTo:v=x[U++],b=x[U++],N.push("L",l(v),l(b));break;case ve.OPS.curveTo:v=x[U+4],b=x[U+5],N.push("C",l(x[U]),l(x[U+1]),l(x[U+2]),l(x[U+3]),l(v),l(b)),U+=6;break;case ve.OPS.curveTo2:N.push("C",l(v),l(b),l(x[U]),l(x[U+1]),l(x[U+2]),l(x[U+3])),v=x[U+2],b=x[U+3],U+=4;break;case ve.OPS.curveTo3:v=x[U+2],b=x[U+3],N.push("C",l(x[U]),l(x[U+1]),l(v),l(b),l(v),l(b)),U+=4;break;case ve.OPS.closePath:N.push("Z");break}N=N.join(" "),p.path&&i.length>0&&i[0]!==ve.OPS.rectangle&&i[0]!==ve.OPS.moveTo?N=p.path.getAttributeNS(null,"d")+N:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(p.path)),p.path.setAttributeNS(null,"d",N),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(v,b)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const x=`clippath${F++}`,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",x),p.setAttributeNS(null,"transform",L(this.transformMatrix));const v=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?v.setAttributeNS(null,"clip-rule","evenodd"):v.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,p.append(v),this.defs.append(p),i.activeClipUrl){i.clipGroup=null;for(const b of this.extraStack)b.clipGroup=null;p.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${x})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const x=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",x)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[x,p]of i)switch(x){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,ve.warn)(`Unimplemented graphic state operator ${x}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,x=1){const p=this.current;let v=p.dashArray;x!==1&&v.length>0&&(v=v.map(function(b){return x*b})),i.setAttributeNS(null,"stroke",p.strokeColor),i.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",l(p.miterLimit)),i.setAttributeNS(null,"stroke-linecap",p.lineCap),i.setAttributeNS(null,"stroke-linejoin",p.lineJoin),i.setAttributeNS(null,"stroke-width",l(x*p.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",v.map(l).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",l(x*p.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const x=this.getObject(i);if(!x){(0,ve.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(x)}paintInlineImageXObject(i,x){const p=i.width,v=i.height,b=T(i,this.forceDataSchema,!!x),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",l(p)),N.setAttributeNS(null,"height",l(v)),this.current.element=N,this.clip("nonzero");const U=this.svgFactory.createElement("svg:image");U.setAttributeNS(f,"xlink:href",b),U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y",l(-v)),U.setAttributeNS(null,"width",l(p)+"px"),U.setAttributeNS(null,"height",l(v)+"px"),U.setAttributeNS(null,"transform",`scale(${l(1/p)} ${l(-1/v)})`),x?x.append(U):this._ensureTransformGroup().append(U)}paintImageMaskXObject(i){const x=this.getObject(i.data,i);if(x.bitmap){(0,ve.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const p=this.current,v=x.width,b=x.height,N=p.fillColor;p.maskId=`mask${g++}`;const U=this.svgFactory.createElement("svg:mask");U.setAttributeNS(null,"id",p.maskId);const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",l(v)),D.setAttributeNS(null,"height",l(b)),D.setAttributeNS(null,"fill",N),D.setAttributeNS(null,"mask",`url(#${p.maskId})`),this.defs.append(U),this._ensureTransformGroup().append(D),this.paintInlineImageXObject(x,U)}paintFormXObjectBegin(i,x){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),x){const p=x[2]-x[0],v=x[3]-x[1],b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x",x[0]),b.setAttributeNS(null,"y",x[1]),b.setAttributeNS(null,"width",l(p)),b.setAttributeNS(null,"height",l(v)),this.current.element=b,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const x=this.svgFactory.create(i.width,i.height),p=this.svgFactory.createElement("svg:defs");x.append(p),this.defs=p;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",L(i.transform)),x.append(v),this.svg=v,x}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}V.SVGGraphics=u},(j,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.XfaText=void 0;class be{static textContent(ve){const we=[],fe={items:we,styles:Object.create(null)};function f($){var T;if(!$)return;let n=null;const d=$.name;if(d==="#text")n=$.value;else if(be.shouldBuildText(d))(T=$==null?void 0:$.attributes)!=null&&T.textContent?n=$.attributes.textContent:$.value&&(n=$.value);else return;if(n!==null&&we.push({str:n}),!!$.children)for(const e of $.children)f(e)}return f(ve),fe}static shouldBuildText(ve){return!(ve==="textarea"||ve==="input"||ve==="option"||ve==="select")}}V.XfaText=be},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.TextLayerRenderTask=void 0,V.renderTextLayer=L,V.updateTextLayer=F;var J=be(1),ve=be(6);const we=1e5,fe=30,f=.8,$=new Map;function n(g,w){let u;if(w&&J.FeatureTest.isOffscreenCanvasSupported)u=new OffscreenCanvas(g,g).getContext("2d",{alpha:!1});else{const h=document.createElement("canvas");h.width=h.height=g,u=h.getContext("2d",{alpha:!1})}return u}function d(g,w){const u=$.get(g);if(u)return u;const h=n(fe,w);h.font=`${fe}px ${g}`;const i=h.measureText("");let x=i.fontBoundingBoxAscent,p=Math.abs(i.fontBoundingBoxDescent);if(x){const b=x/(x+p);return $.set(g,b),h.canvas.width=h.canvas.height=0,b}h.strokeStyle="red",h.clearRect(0,0,fe,fe),h.strokeText("g",0,0);let v=h.getImageData(0,0,fe,fe).data;p=0;for(let b=v.length-1-3;b>=0;b-=4)if(v[b]>0){p=Math.ceil(b/4/fe);break}h.clearRect(0,0,fe,fe),h.strokeText("A",0,fe),v=h.getImageData(0,0,fe,fe).data,x=0;for(let b=0,N=v.length;b<N;b+=4)if(v[b]>0){x=fe-Math.floor(b/4/fe);break}if(h.canvas.width=h.canvas.height=0,x){const b=x/(x+p);return $.set(g,b),b}return $.set(g,f),f}function T(g,w,u){const h=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:w.str!=="",hasEOL:w.hasEOL,fontSize:0};g._textDivs.push(h);const x=J.Util.transform(g._transform,w.transform);let p=Math.atan2(x[1],x[0]);const v=u[w.fontName];v.vertical&&(p+=Math.PI/2);const b=Math.hypot(x[2],x[3]),N=b*d(v.fontFamily,g._isOffscreenCanvasSupported);let U,D;p===0?(U=x[4],D=x[5]-N):(U=x[4]+N*Math.sin(p),D=x[5]-N*Math.cos(p));const I="calc(var(--scale-factor)*",B=h.style;g._container===g._rootContainer?(B.left=`${(100*U/g._pageWidth).toFixed(2)}%`,B.top=`${(100*D/g._pageHeight).toFixed(2)}%`):(B.left=`${I}${U.toFixed(2)}px)`,B.top=`${I}${D.toFixed(2)}px)`),B.fontSize=`${I}${b.toFixed(2)}px)`,B.fontFamily=v.fontFamily,i.fontSize=b,h.setAttribute("role","presentation"),h.textContent=w.str,h.dir=w.dir,g._fontInspectorEnabled&&(h.dataset.fontName=w.fontName),p!==0&&(i.angle=p*(180/Math.PI));let _=!1;if(w.str.length>1)_=!0;else if(w.str!==" "&&w.transform[0]!==w.transform[3]){const P=Math.abs(w.transform[0]),X=Math.abs(w.transform[3]);P!==X&&Math.max(P,X)/Math.min(P,X)>1.5&&(_=!0)}_&&(i.canvasWidth=v.vertical?w.height:w.width),g._textDivProperties.set(h,i),g._isReadableStream&&g._layoutText(h)}function e(g){const{div:w,scale:u,properties:h,ctx:i,prevFontSize:x,prevFontFamily:p}=g,{style:v}=w;let b="";if(h.canvasWidth!==0&&h.hasText){const{fontFamily:N}=v,{canvasWidth:U,fontSize:D}=h;(x!==D||p!==N)&&(i.font=`${D*u}px ${N}`,g.prevFontSize=D,g.prevFontFamily=N);const{width:I}=i.measureText(w.textContent);I>0&&(b=`scaleX(${U*u/I})`)}h.angle!==0&&(b=`rotate(${h.angle}deg) ${b}`),b.length>0&&(v.transform=b)}function t(g){if(g._canceled)return;const w=g._textDivs,u=g._capability;if(w.length>we){u.resolve();return}if(!g._isReadableStream)for(const i of w)g._layoutText(i);u.resolve()}class l{constructor({textContentSource:w,container:u,viewport:h,textDivs:i,textDivProperties:x,textContentItemsStr:p,isOffscreenCanvasSupported:v}){var I;this._textContentSource=w,this._isReadableStream=w instanceof ReadableStream,this._container=this._rootContainer=u,this._textDivs=i||[],this._textContentItemsStr=p||[],this._isOffscreenCanvasSupported=v,this._fontInspectorEnabled=!!((I=globalThis.FontInspector)!=null&&I.enabled),this._reader=null,this._textDivProperties=x||new WeakMap,this._canceled=!1,this._capability=new J.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:h.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:n(0,v)};const{pageWidth:b,pageHeight:N,pageX:U,pageY:D}=h.rawDims;this._transform=[1,0,0,-1,-U,D+N],this._pageWidth=b,this._pageHeight=N,(0,ve.setLayerDimensions)(u,h),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new J.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new J.AbortException("TextLayer task cancelled."))}_processItems(w,u){for(const h of w){if(h.str===void 0){if(h.type==="beginMarkedContentProps"||h.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),h.id!==null&&this._container.setAttribute("id",`${h.id}`),i.append(this._container)}else h.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(h.str),T(this,h,u)}}_layoutText(w){const u=this._layoutTextParams.properties=this._textDivProperties.get(w);if(this._layoutTextParams.div=w,e(this._layoutTextParams),u.hasText&&this._container.append(w),u.hasEOL){const h=document.createElement("br");h.setAttribute("role","presentation"),this._container.append(h)}}_render(){const w=new J.PromiseCapability;let u=Object.create(null);if(this._isReadableStream){const h=()=>{this._reader.read().then(({value:i,done:x})=>{if(x){w.resolve();return}Object.assign(u,i.styles),this._processItems(i.items,u),h()},w.reject)};this._reader=this._textContentSource.getReader(),h()}else if(this._textContentSource){const{items:h,styles:i}=this._textContentSource;this._processItems(h,i),w.resolve()}else throw new Error('No "textContentSource" parameter specified.');w.promise.then(()=>{u=null,t(this)},this._capability.reject)}}V.TextLayerRenderTask=l;function L(g){!g.textContentSource&&(g.textContent||g.textContentStream)&&((0,ve.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),g.textContentSource=g.textContent||g.textContentStream);const{container:w,viewport:u}=g,h=getComputedStyle(w),i=h.getPropertyValue("visibility"),x=parseFloat(h.getPropertyValue("--scale-factor"));i==="visible"&&(!x||Math.abs(x-u.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const p=new l(g);return p._render(),p}function F({container:g,viewport:w,textDivs:u,textDivProperties:h,isOffscreenCanvasSupported:i,mustRotate:x=!0,mustRescale:p=!0}){if(x&&(0,ve.setLayerDimensions)(g,{rotation:w.rotation}),p){const v=n(0,i),N={prevFontSize:null,prevFontFamily:null,div:null,scale:w.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:v};for(const U of u)N.properties=h.get(U),N.div=U,e(N)}}},(j,V,be)=>{var d,T,e,t,l,L,F,g,w,u,h,Fi,x,Bn,v,Oi,N,Ri;Object.defineProperty(V,"__esModule",{value:!0}),V.AnnotationEditorLayer=void 0;var J=be(1),ve=be(4),we=be(28),fe=be(33),f=be(6),$=be(34);const D=class D{constructor({uiManager:B,pageIndex:_,div:P,accessibilityManager:X,annotationLayer:m,viewport:S,l10n:R}){je(this,h);je(this,x);je(this,v);je(this,N);je(this,d,void 0);je(this,T,!1);je(this,e,null);je(this,t,this.pointerup.bind(this));je(this,l,this.pointerdown.bind(this));je(this,L,new Map);je(this,F,!1);je(this,g,!1);je(this,w,!1);je(this,u,void 0);const z=[we.FreeTextEditor,fe.InkEditor,$.StampEditor];if(!D._initialized){D._initialized=!0;for(const O of z)O.initialize(R)}B.registerEditorTypes(z),Ye(this,u,B),this.pageIndex=_,this.div=P,Ye(this,d,X),Ye(this,e,m),this.viewport=S,Ce(this,u).addLayer(this)}get isEmpty(){return Ce(this,L).size===0}updateToolbar(B){Ce(this,u).updateToolbar(B)}updateMode(B=Ce(this,u).getMode()){qe(this,N,Ri).call(this),B===J.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),B!==J.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",B===J.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",B===J.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",B===J.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(B){if(!B&&Ce(this,u).getMode()!==J.AnnotationEditorType.INK)return;if(!B){for(const P of Ce(this,L).values())if(P.isEmpty()){P.setInBackground();return}}qe(this,x,Bn).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(B){Ce(this,u).setEditingState(B)}addCommands(B){Ce(this,u).addCommands(B)}enable(){this.div.style.pointerEvents="auto";const B=new Set;for(const P of Ce(this,L).values())P.enableEditing(),P.annotationElementId&&B.add(P.annotationElementId);if(!Ce(this,e))return;const _=Ce(this,e).getEditableAnnotations();for(const P of _){if(P.hide(),Ce(this,u).isDeletedAnnotationElement(P.data.id)||B.has(P.data.id))continue;const X=this.deserialize(P);X&&(this.addOrRebuild(X),X.enableEditing())}}disable(){var _;Ye(this,w,!0),this.div.style.pointerEvents="none";const B=new Set;for(const P of Ce(this,L).values()){if(P.disableEditing(),!P.annotationElementId||P.serialize()!==null){B.add(P.annotationElementId);continue}(_=this.getEditableAnnotation(P.annotationElementId))==null||_.show(),P.remove()}if(Ce(this,e)){const P=Ce(this,e).getEditableAnnotations();for(const X of P){const{id:m}=X.data;B.has(m)||Ce(this,u).isDeletedAnnotationElement(m)||X.show()}}qe(this,N,Ri).call(this),this.isEmpty&&(this.div.hidden=!0),Ye(this,w,!1)}getEditableAnnotation(B){var _;return((_=Ce(this,e))==null?void 0:_.getEditableAnnotation(B))||null}setActiveEditor(B){Ce(this,u).getActive()!==B&&Ce(this,u).setActiveEditor(B)}enableClick(){this.div.addEventListener("pointerdown",Ce(this,l)),this.div.addEventListener("pointerup",Ce(this,t))}disableClick(){this.div.removeEventListener("pointerdown",Ce(this,l)),this.div.removeEventListener("pointerup",Ce(this,t))}attach(B){Ce(this,L).set(B.id,B);const{annotationElementId:_}=B;_&&Ce(this,u).isDeletedAnnotationElement(_)&&Ce(this,u).removeDeletedAnnotationElement(B)}detach(B){var _;Ce(this,L).delete(B.id),(_=Ce(this,d))==null||_.removePointerInTextLayer(B.contentDiv),!Ce(this,w)&&B.annotationElementId&&Ce(this,u).addDeletedAnnotationElement(B)}remove(B){this.detach(B),Ce(this,u).removeEditor(B),B.div.contains(document.activeElement)&&setTimeout(()=>{Ce(this,u).focusMainContainer()},0),B.div.remove(),B.isAttachedToDOM=!1,Ce(this,g)||this.addInkEditorIfNeeded(!1)}changeParent(B){var _;B.parent!==this&&(B.annotationElementId&&(Ce(this,u).addDeletedAnnotationElement(B.annotationElementId),ve.AnnotationEditor.deleteAnnotationElement(B),B.annotationElementId=null),this.attach(B),(_=B.parent)==null||_.detach(B),B.setParent(this),B.div&&B.isAttachedToDOM&&(B.div.remove(),this.div.append(B.div)))}add(B){if(this.changeParent(B),Ce(this,u).addEditor(B),this.attach(B),!B.isAttachedToDOM){const _=B.render();this.div.append(_),B.isAttachedToDOM=!0}B.fixAndSetPosition(),B.onceAdded(),Ce(this,u).addToAnnotationStorage(B)}moveEditorInDOM(B){var P;if(!B.isAttachedToDOM)return;const{activeElement:_}=document;B.div.contains(_)&&(B._focusEventsAllowed=!1,setTimeout(()=>{B.div.contains(document.activeElement)?B._focusEventsAllowed=!0:(B.div.addEventListener("focusin",()=>{B._focusEventsAllowed=!0},{once:!0}),_.focus())},0)),B._structTreeParentId=(P=Ce(this,d))==null?void 0:P.moveElementInDOM(this.div,B.div,B.contentDiv,!0)}addOrRebuild(B){B.needsToBeRebuilt()?B.rebuild():this.add(B)}addUndoableEditor(B){const _=()=>B._uiManager.rebuild(B),P=()=>{B.remove()};this.addCommands({cmd:_,undo:P,mustExec:!1})}getNextId(){return Ce(this,u).getId()}pasteEditor(B,_){Ce(this,u).updateToolbar(B),Ce(this,u).updateMode(B);const{offsetX:P,offsetY:X}=qe(this,v,Oi).call(this),m=this.getNextId(),S=qe(this,h,Fi).call(this,{parent:this,id:m,x:P,y:X,uiManager:Ce(this,u),isCentered:!0,..._});S&&this.add(S)}deserialize(B){switch(B.annotationType??B.annotationEditorType){case J.AnnotationEditorType.FREETEXT:return we.FreeTextEditor.deserialize(B,this,Ce(this,u));case J.AnnotationEditorType.INK:return fe.InkEditor.deserialize(B,this,Ce(this,u));case J.AnnotationEditorType.STAMP:return $.StampEditor.deserialize(B,this,Ce(this,u))}return null}addNewEditor(){qe(this,x,Bn).call(this,qe(this,v,Oi).call(this),!0)}setSelected(B){Ce(this,u).setSelected(B)}toggleSelected(B){Ce(this,u).toggleSelected(B)}isSelected(B){return Ce(this,u).isSelected(B)}unselect(B){Ce(this,u).unselect(B)}pointerup(B){const{isMac:_}=J.FeatureTest.platform;if(!(B.button!==0||B.ctrlKey&&_)&&B.target===this.div&&Ce(this,F)){if(Ye(this,F,!1),!Ce(this,T)){Ye(this,T,!0);return}if(Ce(this,u).getMode()===J.AnnotationEditorType.STAMP){Ce(this,u).unselectAll();return}qe(this,x,Bn).call(this,B,!1)}}pointerdown(B){if(Ce(this,F)){Ye(this,F,!1);return}const{isMac:_}=J.FeatureTest.platform;if(B.button!==0||B.ctrlKey&&_||B.target!==this.div)return;Ye(this,F,!0);const P=Ce(this,u).getActive();Ye(this,T,!P||P.isEmpty())}findNewParent(B,_,P){const X=Ce(this,u).findParent(_,P);return X===null||X===this?!1:(X.changeParent(B),!0)}destroy(){var B,_;((B=Ce(this,u).getActive())==null?void 0:B.parent)===this&&(Ce(this,u).commitOrRemove(),Ce(this,u).setActiveEditor(null));for(const P of Ce(this,L).values())(_=Ce(this,d))==null||_.removePointerInTextLayer(P.contentDiv),P.setParent(null),P.isAttachedToDOM=!1,P.div.remove();this.div=null,Ce(this,L).clear(),Ce(this,u).removeLayer(this)}render({viewport:B}){this.viewport=B,(0,f.setLayerDimensions)(this.div,B);for(const _ of Ce(this,u).getEditors(this.pageIndex))this.add(_);this.updateMode()}update({viewport:B}){Ce(this,u).commitOrRemove(),this.viewport=B,(0,f.setLayerDimensions)(this.div,{rotation:B.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:B,pageHeight:_}=this.viewport.rawDims;return[B,_]}};d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakMap,w=new WeakMap,u=new WeakMap,h=new WeakSet,Fi=function(B){switch(Ce(this,u).getMode()){case J.AnnotationEditorType.FREETEXT:return new we.FreeTextEditor(B);case J.AnnotationEditorType.INK:return new fe.InkEditor(B);case J.AnnotationEditorType.STAMP:return new $.StampEditor(B)}return null},x=new WeakSet,Bn=function(B,_){const P=this.getNextId(),X=qe(this,h,Fi).call(this,{parent:this,id:P,x:B.offsetX,y:B.offsetY,uiManager:Ce(this,u),isCentered:_});return X&&this.add(X),X},v=new WeakSet,Oi=function(){const{x:B,y:_,width:P,height:X}=this.div.getBoundingClientRect(),m=Math.max(0,B),S=Math.max(0,_),R=Math.min(window.innerWidth,B+P),z=Math.min(window.innerHeight,_+X),O=(m+R)/2-B,E=(S+z)/2-_,[k,M]=this.viewport.rotation%180===0?[O,E]:[E,O];return{offsetX:k,offsetY:M}},N=new WeakSet,Ri=function(){Ye(this,g,!0);for(const B of Ce(this,L).values())B.isEmpty()&&B.remove();Ye(this,g,!1)},Mt(D,"_initialized",!1);let n=D;V.AnnotationEditorLayer=n},(j,V,be)=>{var $,n,d,T,e,t,l,L,F,g,dr,u,gr,i,pr,p,En,b,Pi,U,mr,I,Mi;Object.defineProperty(V,"__esModule",{value:!0}),V.FreeTextEditor=void 0;var J=be(1),ve=be(5),we=be(4),fe=be(29);const _=class _ extends we.AnnotationEditor{constructor(m){super({...m,name:"freeTextEditor"});je(this,g);je(this,u);je(this,i);je(this,p);je(this,b);je(this,U);je(this,I);je(this,$,this.editorDivBlur.bind(this));je(this,n,this.editorDivFocus.bind(this));je(this,d,this.editorDivInput.bind(this));je(this,T,this.editorDivKeydown.bind(this));je(this,e,void 0);je(this,t,"");je(this,l,`${this.id}-editor`);je(this,L,void 0);je(this,F,null);Ye(this,e,m.color||_._defaultColor||we.AnnotationEditor._defaultLineColor),Ye(this,L,m.fontSize||_._defaultFontSize)}static get _keyboardManager(){const m=_.prototype,S=O=>O.isEmpty(),R=ve.AnnotationEditorUIManager.TRANSLATE_SMALL,z=ve.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,J.shadow)(this,"_keyboardManager",new ve.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],m.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],m.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],m._translateEmpty,{args:[-R,0],checker:S}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],m._translateEmpty,{args:[-z,0],checker:S}],[["ArrowRight","mac+ArrowRight"],m._translateEmpty,{args:[R,0],checker:S}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],m._translateEmpty,{args:[z,0],checker:S}],[["ArrowUp","mac+ArrowUp"],m._translateEmpty,{args:[0,-R],checker:S}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],m._translateEmpty,{args:[0,-z],checker:S}],[["ArrowDown","mac+ArrowDown"],m._translateEmpty,{args:[0,R],checker:S}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],m._translateEmpty,{args:[0,z],checker:S}]]))}static initialize(m){we.AnnotationEditor.initialize(m,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const S=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(S.getPropertyValue("--freetext-padding"))}static updateDefaultParams(m,S){switch(m){case J.AnnotationEditorParamsType.FREETEXT_SIZE:_._defaultFontSize=S;break;case J.AnnotationEditorParamsType.FREETEXT_COLOR:_._defaultColor=S;break}}updateParams(m,S){switch(m){case J.AnnotationEditorParamsType.FREETEXT_SIZE:qe(this,g,dr).call(this,S);break;case J.AnnotationEditorParamsType.FREETEXT_COLOR:qe(this,u,gr).call(this,S);break}}static get defaultPropertiesToUpdate(){return[[J.AnnotationEditorParamsType.FREETEXT_SIZE,_._defaultFontSize],[J.AnnotationEditorParamsType.FREETEXT_COLOR,_._defaultColor||we.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[J.AnnotationEditorParamsType.FREETEXT_SIZE,Ce(this,L)],[J.AnnotationEditorParamsType.FREETEXT_COLOR,Ce(this,e)]]}_translateEmpty(m,S){this._uiManager.translateSelectedEditors(m,S,!0)}getInitialTranslation(){const m=this.parentScale;return[-_._internalPadding*m,-(_._internalPadding+Ce(this,L))*m]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(J.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ce(this,T)),this.editorDiv.addEventListener("focus",Ce(this,n)),this.editorDiv.addEventListener("blur",Ce(this,$)),this.editorDiv.addEventListener("input",Ce(this,d)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ce(this,l)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ce(this,T)),this.editorDiv.removeEventListener("focus",Ce(this,n)),this.editorDiv.removeEventListener("blur",Ce(this,$)),this.editorDiv.removeEventListener("input",Ce(this,d)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(m){this._focusEventsAllowed&&(super.focusin(m),m.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var m;if(this.width){qe(this,I,Mi).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(m=this._initialOptions)!=null&&m.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const m=Ce(this,t),S=Ye(this,t,qe(this,i,pr).call(this).trimEnd());if(m===S)return;const R=z=>{if(Ye(this,t,z),!z){this.remove();return}qe(this,b,Pi).call(this),this._uiManager.rebuild(this),qe(this,p,En).call(this)};this.addCommands({cmd:()=>{R(S)},undo:()=>{R(m)},mustExec:!1}),qe(this,p,En).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(m){this.enterInEditMode()}keydown(m){m.target===this.div&&m.key==="Enter"&&(this.enterInEditMode(),m.preventDefault())}editorDivKeydown(m){_._keyboardManager.exec(this,m)}editorDivFocus(m){this.isEditing=!0}editorDivBlur(m){this.isEditing=!1}editorDivInput(m){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let m,S;this.width&&(m=this.x,S=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ce(this,l)),this.enableEditing(),we.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(z=>{var O;return(O=this.editorDiv)==null?void 0:O.setAttribute("aria-label",z)}),we.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(z=>{var O;return(O=this.editorDiv)==null?void 0:O.setAttribute("default-content",z)}),this.editorDiv.contentEditable=!0;const{style:R}=this.editorDiv;if(R.fontSize=`calc(${Ce(this,L)}px * var(--scale-factor))`,R.color=Ce(this,e),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ve.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[z,O]=this.parentDimensions;if(this.annotationElementId){const{position:E}=Ce(this,F);let[k,M]=this.getInitialTranslation();[k,M]=this.pageTranslationToScreen(k,M);const[a,o]=this.pageDimensions,[r,s]=this.pageTranslation;let A,c;switch(this.rotation){case 0:A=m+(E[0]-r)/a,c=S+this.height-(E[1]-s)/o;break;case 90:A=m+(E[0]-r)/a,c=S-(E[1]-s)/o,[k,M]=[M,-k];break;case 180:A=m-this.width+(E[0]-r)/a,c=S-(E[1]-s)/o,[k,M]=[-k,-M];break;case 270:A=m+(E[0]-r-this.height*o)/a,c=S+(E[1]-s-this.width*a)/o,[k,M]=[-M,k];break}this.setAt(A*z,c*O,k,M)}else this.setAt(m*z,S*O,this.width*z,this.height*O);qe(this,b,Pi).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(m,S,R){let z=null;if(m instanceof fe.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:E,fontColor:k},rect:M,rotation:a,id:o},textContent:r,textPosition:s,parent:{page:{pageNumber:A}}}=m;if(!r||r.length===0)return null;z=m={annotationType:J.AnnotationEditorType.FREETEXT,color:Array.from(k),fontSize:E,value:r.join(`
`),position:s,pageIndex:A-1,rect:M,rotation:a,id:o,deleted:!1}}const O=super.deserialize(m,S,R);return Ye(O,L,m.fontSize),Ye(O,e,J.Util.makeHexColor(...m.color)),Ye(O,t,m.value),O.annotationElementId=m.id||null,Ye(O,F,z),O}serialize(m=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const S=_._internalPadding*this.parentScale,R=this.getRect(S,S),z=we.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ce(this,e)),O={annotationType:J.AnnotationEditorType.FREETEXT,color:z,fontSize:Ce(this,L),value:Ce(this,t),pageIndex:this.pageIndex,rect:R,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return m?O:this.annotationElementId&&!qe(this,U,mr).call(this,O)?null:(O.id=this.annotationElementId,O)}};$=new WeakMap,n=new WeakMap,d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakSet,dr=function(m){const S=z=>{this.editorDiv.style.fontSize=`calc(${z}px * var(--scale-factor))`,this.translate(0,-(z-Ce(this,L))*this.parentScale),Ye(this,L,z),qe(this,p,En).call(this)},R=Ce(this,L);this.addCommands({cmd:()=>{S(m)},undo:()=>{S(R)},mustExec:!0,type:J.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},u=new WeakSet,gr=function(m){const S=Ce(this,e);this.addCommands({cmd:()=>{Ye(this,e,this.editorDiv.style.color=m)},undo:()=>{Ye(this,e,this.editorDiv.style.color=S)},mustExec:!0,type:J.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i=new WeakSet,pr=function(){const m=this.editorDiv.getElementsByTagName("div");if(m.length===0)return this.editorDiv.innerText;const S=[];for(const R of m)S.push(R.innerText.replace(/\r\n?|\n/,""));return S.join(`
`)},p=new WeakSet,En=function(){const[m,S]=this.parentDimensions;let R;if(this.isAttachedToDOM)R=this.div.getBoundingClientRect();else{const{currentLayer:z,div:O}=this,E=O.style.display;O.style.display="hidden",z.div.append(this.div),R=O.getBoundingClientRect(),O.remove(),O.style.display=E}this.rotation%180===this.parentRotation%180?(this.width=R.width/m,this.height=R.height/S):(this.width=R.height/m,this.height=R.width/S),this.fixAndSetPosition()},b=new WeakSet,Pi=function(){if(this.editorDiv.replaceChildren(),!!Ce(this,t))for(const m of Ce(this,t).split(`
`)){const S=document.createElement("div");S.append(m?document.createTextNode(m):document.createElement("br")),this.editorDiv.append(S)}},U=new WeakSet,mr=function(m){const{value:S,fontSize:R,color:z,rect:O,pageIndex:E}=Ce(this,F);return m.value!==S||m.fontSize!==R||m.rect.some((k,M)=>Math.abs(k-O[M])>=1)||m.color.some((k,M)=>k!==z[M])||m.pageIndex!==E},I=new WeakSet,Mi=function(m=!1){if(!this.annotationElementId)return;if(qe(this,p,En).call(this),!m&&(this.width===0||this.height===0)){setTimeout(()=>qe(this,I,Mi).call(this,!0),0);return}const S=_._internalPadding*this.parentScale;Ce(this,F).rect=this.getRect(S,S)},Mt(_,"_freeTextDefaultContent",""),Mt(_,"_internalPadding",0),Mt(_,"_defaultColor",null),Mt(_,"_defaultFontSize",10),Mt(_,"_type","freetext");let f=_;V.FreeTextEditor=f},(j,V,be)=>{var M,o,rn,s,xr,c,y,q,re,Q,de,ee,ue,W,Z,se,ne,ie,H,Y,G,le,ce,br,ge,$n,Se,Di,Me,Li,ke,oe,Ie,Be,he,De,ye,Ni,Pe,Re,He,Xe,yr,ae,Bi;Object.defineProperty(V,"__esModule",{value:!0}),V.StampAnnotationElement=V.InkAnnotationElement=V.FreeTextAnnotationElement=V.AnnotationLayer=void 0;var J=be(1),ve=be(6),we=be(3),fe=be(30),f=be(31),$=be(32);const n=1e3,d=9,T=new WeakSet;function e(Le){return{width:Le[2]-Le[0],height:Le[3]-Le[1]}}class t{static create(Ee){switch(Ee.data.annotationType){case J.AnnotationType.LINK:return new L(Ee);case J.AnnotationType.TEXT:return new F(Ee);case J.AnnotationType.WIDGET:switch(Ee.data.fieldType){case"Tx":return new w(Ee);case"Btn":return Ee.data.radioButton?new i(Ee):Ee.data.checkBox?new h(Ee):new x(Ee);case"Ch":return new p(Ee);case"Sig":return new u(Ee)}return new g(Ee);case J.AnnotationType.POPUP:return new v(Ee);case J.AnnotationType.FREETEXT:return new N(Ee);case J.AnnotationType.LINE:return new U(Ee);case J.AnnotationType.SQUARE:return new D(Ee);case J.AnnotationType.CIRCLE:return new I(Ee);case J.AnnotationType.POLYLINE:return new B(Ee);case J.AnnotationType.CARET:return new P(Ee);case J.AnnotationType.INK:return new X(Ee);case J.AnnotationType.POLYGON:return new _(Ee);case J.AnnotationType.HIGHLIGHT:return new m(Ee);case J.AnnotationType.UNDERLINE:return new S(Ee);case J.AnnotationType.SQUIGGLY:return new R(Ee);case J.AnnotationType.STRIKEOUT:return new z(Ee);case J.AnnotationType.STAMP:return new O(Ee);case J.AnnotationType.FILEATTACHMENT:return new E(Ee);default:return new l(Ee)}}}const a=class a{constructor(Ee,{isRenderable:xe=!1,ignoreBorder:Te=!1,createQuadrilaterals:Ne=!1}={}){je(this,M,!1);this.isRenderable=xe,this.data=Ee.data,this.layer=Ee.layer,this.linkService=Ee.linkService,this.downloadManager=Ee.downloadManager,this.imageResourcesPath=Ee.imageResourcesPath,this.renderForms=Ee.renderForms,this.svgFactory=Ee.svgFactory,this.annotationStorage=Ee.annotationStorage,this.enableScripting=Ee.enableScripting,this.hasJSActions=Ee.hasJSActions,this._fieldObjects=Ee.fieldObjects,this.parent=Ee.parent,xe&&(this.container=this._createContainer(Te)),Ne&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Ee,contentsObj:xe,richText:Te}){return!!(Ee!=null&&Ee.str||xe!=null&&xe.str||Te!=null&&Te.str)}get hasPopupData(){return a._hasPopupData(this.data)}_createContainer(Ee){const{data:xe,parent:{page:Te,viewport:Ne}}=this,$e=document.createElement("section");$e.setAttribute("data-annotation-id",xe.id),this instanceof g||($e.tabIndex=n),$e.style.zIndex=this.parent.zIndex++,this.data.popupRef&&$e.setAttribute("aria-haspopup","dialog"),xe.noRotate&&$e.classList.add("norotate");const{pageWidth:Ue,pageHeight:ze,pageX:Ge,pageY:Ve}=Ne.rawDims;if(!xe.rect||this instanceof v){const{rotation:ht}=xe;return!xe.hasOwnCanvas&&ht!==0&&this.setRotation(ht,$e),$e}const{width:Ke,height:et}=e(xe.rect),rt=J.Util.normalizeRect([xe.rect[0],Te.view[3]-xe.rect[1]+Te.view[1],xe.rect[2],Te.view[3]-xe.rect[3]+Te.view[1]]);if(!Ee&&xe.borderStyle.width>0){$e.style.borderWidth=`${xe.borderStyle.width}px`;const ht=xe.borderStyle.horizontalCornerRadius,lt=xe.borderStyle.verticalCornerRadius;if(ht>0||lt>0){const Tt=`calc(${ht}px * var(--scale-factor)) / calc(${lt}px * var(--scale-factor))`;$e.style.borderRadius=Tt}else if(this instanceof i){const Tt=`calc(${Ke}px * var(--scale-factor)) / calc(${et}px * var(--scale-factor))`;$e.style.borderRadius=Tt}switch(xe.borderStyle.style){case J.AnnotationBorderStyleType.SOLID:$e.style.borderStyle="solid";break;case J.AnnotationBorderStyleType.DASHED:$e.style.borderStyle="dashed";break;case J.AnnotationBorderStyleType.BEVELED:(0,J.warn)("Unimplemented border style: beveled");break;case J.AnnotationBorderStyleType.INSET:(0,J.warn)("Unimplemented border style: inset");break;case J.AnnotationBorderStyleType.UNDERLINE:$e.style.borderBottomStyle="solid";break}const yt=xe.borderColor||null;yt?(Ye(this,M,!0),$e.style.borderColor=J.Util.makeHexColor(yt[0]|0,yt[1]|0,yt[2]|0)):$e.style.borderWidth=0}$e.style.left=`${100*(rt[0]-Ge)/Ue}%`,$e.style.top=`${100*(rt[1]-Ve)/ze}%`;const{rotation:ot}=xe;return xe.hasOwnCanvas||ot===0?($e.style.width=`${100*Ke/Ue}%`,$e.style.height=`${100*et/ze}%`):this.setRotation(ot,$e),$e}setRotation(Ee,xe=this.container){if(!this.data.rect)return;const{pageWidth:Te,pageHeight:Ne}=this.parent.viewport.rawDims,{width:$e,height:Ue}=e(this.data.rect);let ze,Ge;Ee%180===0?(ze=100*$e/Te,Ge=100*Ue/Ne):(ze=100*Ue/Te,Ge=100*$e/Ne),xe.style.width=`${ze}%`,xe.style.height=`${Ge}%`,xe.setAttribute("data-main-rotation",(360-Ee)%360)}get _commonActions(){const Ee=(xe,Te,Ne)=>{const $e=Ne.detail[xe],Ue=$e[0],ze=$e.slice(1);Ne.target.style[Te]=fe.ColorConverters[`${Ue}_HTML`](ze),this.annotationStorage.setValue(this.data.id,{[Te]:fe.ColorConverters[`${Ue}_rgb`](ze)})};return(0,J.shadow)(this,"_commonActions",{display:xe=>{const{display:Te}=xe.detail,Ne=Te%2===1;this.container.style.visibility=Ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ne,noPrint:Te===1||Te===2})},print:xe=>{this.annotationStorage.setValue(this.data.id,{noPrint:!xe.detail.print})},hidden:xe=>{const{hidden:Te}=xe.detail;this.container.style.visibility=Te?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Te,noView:Te})},focus:xe=>{setTimeout(()=>xe.target.focus({preventScroll:!1}),0)},userName:xe=>{xe.target.title=xe.detail.userName},readonly:xe=>{xe.target.disabled=xe.detail.readonly},required:xe=>{this._setRequired(xe.target,xe.detail.required)},bgColor:xe=>{Ee("bgColor","backgroundColor",xe)},fillColor:xe=>{Ee("fillColor","backgroundColor",xe)},fgColor:xe=>{Ee("fgColor","color",xe)},textColor:xe=>{Ee("textColor","color",xe)},borderColor:xe=>{Ee("borderColor","borderColor",xe)},strokeColor:xe=>{Ee("strokeColor","borderColor",xe)},rotation:xe=>{const Te=xe.detail.rotation;this.setRotation(Te),this.annotationStorage.setValue(this.data.id,{rotation:Te})}})}_dispatchEventFromSandbox(Ee,xe){const Te=this._commonActions;for(const Ne of Object.keys(xe.detail)){const $e=Ee[Ne]||Te[Ne];$e==null||$e(xe)}}_setDefaultPropertiesFromJS(Ee){if(!this.enableScripting)return;const xe=this.annotationStorage.getRawValue(this.data.id);if(!xe)return;const Te=this._commonActions;for(const[Ne,$e]of Object.entries(xe)){const Ue=Te[Ne];if(Ue){const ze={detail:{[Ne]:$e},target:Ee};Ue(ze),delete xe[Ne]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Ee}=this.data;if(!Ee)return;const[xe,Te,Ne,$e]=this.data.rect;if(Ee.length===1){const[,{x:lt,y:yt},{x:Tt,y:Qe}]=Ee[0];if(Ne===lt&&$e===yt&&xe===Tt&&Te===Qe)return}const{style:Ue}=this.container;let ze;if(Ce(this,M)){const{borderColor:lt,borderWidth:yt}=Ue;Ue.borderWidth=0,ze=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${lt}" stroke-width="${yt}">`],this.container.classList.add("hasBorder")}const Ge=Ne-xe,Ve=$e-Te,{svgFactory:Ke}=this,et=Ke.createElement("svg");et.classList.add("quadrilateralsContainer"),et.setAttribute("width",0),et.setAttribute("height",0);const rt=Ke.createElement("defs");et.append(rt);const ot=Ke.createElement("clipPath"),ht=`clippath_${this.data.id}`;ot.setAttribute("id",ht),ot.setAttribute("clipPathUnits","objectBoundingBox"),rt.append(ot);for(const[,{x:lt,y:yt},{x:Tt,y:Qe}]of Ee){const Je=Ke.createElement("rect"),nt=(Tt-xe)/Ge,st=($e-yt)/Ve,ct=(lt-Tt)/Ge,xt=(yt-Qe)/Ve;Je.setAttribute("x",nt),Je.setAttribute("y",st),Je.setAttribute("width",ct),Je.setAttribute("height",xt),ot.append(Je),ze==null||ze.push(`<rect vector-effect="non-scaling-stroke" x="${nt}" y="${st}" width="${ct}" height="${xt}"/>`)}Ce(this,M)&&(ze.push("</g></svg>')"),Ue.backgroundImage=ze.join("")),this.container.append(et),this.container.style.clipPath=`url(#${ht})`}_createPopup(){const{container:Ee,data:xe}=this;Ee.setAttribute("aria-haspopup","dialog");const Te=new v({data:{color:xe.color,titleObj:xe.titleObj,modificationDate:xe.modificationDate,contentsObj:xe.contentsObj,richText:xe.richText,parentRect:xe.rect,borderStyle:0,id:`popup_${xe.id}`,rotation:xe.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Te.render())}render(){(0,J.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Ee,xe=null){const Te=[];if(this._fieldObjects){const Ne=this._fieldObjects[Ee];if(Ne)for(const{page:$e,id:Ue,exportValues:ze}of Ne){if($e===-1||Ue===xe)continue;const Ge=typeof ze=="string"?ze:null,Ve=document.querySelector(`[data-element-id="${Ue}"]`);if(Ve&&!T.has(Ve)){(0,J.warn)(`_getElementsByName - element not allowed: ${Ue}`);continue}Te.push({id:Ue,exportValue:Ge,domElement:Ve})}return Te}for(const Ne of document.getElementsByName(Ee)){const{exportValue:$e}=Ne,Ue=Ne.getAttribute("data-element-id");Ue!==xe&&T.has(Ne)&&Te.push({id:Ue,exportValue:$e,domElement:Ne})}return Te}show(){var Ee;this.container&&(this.container.hidden=!1),(Ee=this.popup)==null||Ee.maybeShow()}hide(){var Ee;this.container&&(this.container.hidden=!0),(Ee=this.popup)==null||Ee.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Ee=this.getElementsToTriggerPopup();if(Array.isArray(Ee))for(const xe of Ee)xe.classList.add("highlightArea");else Ee.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Ee,data:{id:xe}}=this;this.container.addEventListener("dblclick",()=>{var Te;(Te=this.linkService.eventBus)==null||Te.dispatch("switchannotationeditormode",{source:this,mode:Ee,editId:xe})})}};M=new WeakMap;let l=a;class L extends l{constructor(xe,Te=null){super(xe,{isRenderable:!0,ignoreBorder:!!(Te!=null&&Te.ignoreBorder),createQuadrilaterals:!0});je(this,o);je(this,s);this.isTooltipOnly=xe.data.isTooltipOnly}render(){const{data:xe,linkService:Te}=this,Ne=document.createElement("a");Ne.setAttribute("data-element-id",xe.id);let $e=!1;return xe.url?(Te.addLinkAttributes(Ne,xe.url,xe.newWindow),$e=!0):xe.action?(this._bindNamedAction(Ne,xe.action),$e=!0):xe.attachment?(this._bindAttachment(Ne,xe.attachment),$e=!0):xe.setOCGState?(qe(this,s,xr).call(this,Ne,xe.setOCGState),$e=!0):xe.dest?(this._bindLink(Ne,xe.dest),$e=!0):(xe.actions&&(xe.actions.Action||xe.actions["Mouse Up"]||xe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ne,xe),$e=!0),xe.resetForm?(this._bindResetFormAction(Ne,xe.resetForm),$e=!0):this.isTooltipOnly&&!$e&&(this._bindLink(Ne,""),$e=!0)),this.container.classList.add("linkAnnotation"),$e&&this.container.append(Ne),this.container}_bindLink(xe,Te){xe.href=this.linkService.getDestinationHash(Te),xe.onclick=()=>(Te&&this.linkService.goToDestination(Te),!1),(Te||Te==="")&&qe(this,o,rn).call(this)}_bindNamedAction(xe,Te){xe.href=this.linkService.getAnchorUrl(""),xe.onclick=()=>(this.linkService.executeNamedAction(Te),!1),qe(this,o,rn).call(this)}_bindAttachment(xe,Te){xe.href=this.linkService.getAnchorUrl(""),xe.onclick=()=>{var Ne;return(Ne=this.downloadManager)==null||Ne.openOrDownloadData(this.container,Te.content,Te.filename),!1},qe(this,o,rn).call(this)}_bindJSAction(xe,Te){xe.href=this.linkService.getAnchorUrl("");const Ne=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $e of Object.keys(Te.actions)){const Ue=Ne.get($e);Ue&&(xe[Ue]=()=>{var ze;return(ze=this.linkService.eventBus)==null||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Te.id,name:$e}}),!1})}xe.onclick||(xe.onclick=()=>!1),qe(this,o,rn).call(this)}_bindResetFormAction(xe,Te){const Ne=xe.onclick;if(Ne||(xe.href=this.linkService.getAnchorUrl("")),qe(this,o,rn).call(this),!this._fieldObjects){(0,J.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ne||(xe.onclick=()=>!1);return}xe.onclick=()=>{var et;Ne==null||Ne();const{fields:$e,refs:Ue,include:ze}=Te,Ge=[];if($e.length!==0||Ue.length!==0){const rt=new Set(Ue);for(const ot of $e){const ht=this._fieldObjects[ot]||[];for(const{id:lt}of ht)rt.add(lt)}for(const ot of Object.values(this._fieldObjects))for(const ht of ot)rt.has(ht.id)===ze&&Ge.push(ht)}else for(const rt of Object.values(this._fieldObjects))Ge.push(...rt);const Ve=this.annotationStorage,Ke=[];for(const rt of Ge){const{id:ot}=rt;switch(Ke.push(ot),rt.type){case"text":{const lt=rt.defaultValue||"";Ve.setValue(ot,{value:lt});break}case"checkbox":case"radiobutton":{const lt=rt.defaultValue===rt.exportValues;Ve.setValue(ot,{value:lt});break}case"combobox":case"listbox":{const lt=rt.defaultValue||"";Ve.setValue(ot,{value:lt});break}default:continue}const ht=document.querySelector(`[data-element-id="${ot}"]`);if(ht){if(!T.has(ht)){(0,J.warn)(`_bindResetFormAction - element not allowed: ${ot}`);continue}}else continue;ht.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((et=this.linkService.eventBus)==null||et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ke,name:"ResetForm"}})),!1}}}o=new WeakSet,rn=function(){this.container.setAttribute("data-internal-link","")},s=new WeakSet,xr=function(xe,Te){xe.href=this.linkService.getAnchorUrl(""),xe.onclick=()=>(this.linkService.executeSetOCGState(Te),!1),qe(this,o,rn).call(this)};class F extends l{constructor(Ee){super(Ee,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Ee=document.createElement("img");return Ee.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Ee.alt="[{{type}} Annotation]",Ee.dataset.l10nId="text_annotation_type",Ee.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Ee),this.container}}class g extends l{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Ee){var xe;this.data.hasOwnCanvas&&(((xe=Ee.previousSibling)==null?void 0:xe.nodeName)==="CANVAS"&&(Ee.previousSibling.hidden=!0),Ee.hidden=!1)}_getKeyModifier(Ee){const{isWin:xe,isMac:Te}=J.FeatureTest.platform;return xe&&Ee.ctrlKey||Te&&Ee.metaKey}_setEventListener(Ee,xe,Te,Ne,$e){Te.includes("mouse")?Ee.addEventListener(Te,Ue=>{var ze;(ze=this.linkService.eventBus)==null||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ne,value:$e(Ue),shift:Ue.shiftKey,modifier:this._getKeyModifier(Ue)}})}):Ee.addEventListener(Te,Ue=>{var ze;if(Te==="blur"){if(!xe.focused||!Ue.relatedTarget)return;xe.focused=!1}else if(Te==="focus"){if(xe.focused)return;xe.focused=!0}$e&&((ze=this.linkService.eventBus)==null||ze.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ne,value:$e(Ue)}}))})}_setEventListeners(Ee,xe,Te,Ne){var $e,Ue,ze;for(const[Ge,Ve]of Te)(Ve==="Action"||($e=this.data.actions)!=null&&$e[Ve])&&((Ve==="Focus"||Ve==="Blur")&&(xe||(xe={focused:!1})),this._setEventListener(Ee,xe,Ge,Ve,Ne),Ve==="Focus"&&!((Ue=this.data.actions)!=null&&Ue.Blur)?this._setEventListener(Ee,xe,"blur","Blur",null):Ve==="Blur"&&!((ze=this.data.actions)!=null&&ze.Focus)&&this._setEventListener(Ee,xe,"focus","Focus",null))}_setBackgroundColor(Ee){const xe=this.data.backgroundColor||null;Ee.style.backgroundColor=xe===null?"transparent":J.Util.makeHexColor(xe[0],xe[1],xe[2])}_setTextStyle(Ee){const xe=["left","center","right"],{fontColor:Te}=this.data.defaultAppearanceData,Ne=this.data.defaultAppearanceData.fontSize||d,$e=Ee.style;let Ue;const ze=2,Ge=Ve=>Math.round(10*Ve)/10;if(this.data.multiLine){const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-ze),Ke=Math.round(Ve/(J.LINE_FACTOR*Ne))||1,et=Ve/Ke;Ue=Math.min(Ne,Ge(et/J.LINE_FACTOR))}else{const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-ze);Ue=Math.min(Ne,Ge(Ve/J.LINE_FACTOR))}$e.fontSize=`calc(${Ue}px * var(--scale-factor))`,$e.color=J.Util.makeHexColor(Te[0],Te[1],Te[2]),this.data.textAlignment!==null&&($e.textAlign=xe[this.data.textAlignment])}_setRequired(Ee,xe){xe?Ee.setAttribute("required",!0):Ee.removeAttribute("required"),Ee.setAttribute("aria-required",xe)}}class w extends g{constructor(Ee){const xe=Ee.renderForms||!Ee.data.hasAppearance&&!!Ee.data.fieldValue;super(Ee,{isRenderable:xe})}setPropertyOnSiblings(Ee,xe,Te,Ne){const $e=this.annotationStorage;for(const Ue of this._getElementsByName(Ee.name,Ee.id))Ue.domElement&&(Ue.domElement[xe]=Te),$e.setValue(Ue.id,{[Ne]:Te})}render(){var Ne,$e;const Ee=this.annotationStorage,xe=this.data.id;this.container.classList.add("textWidgetAnnotation");let Te=null;if(this.renderForms){const Ue=Ee.getValue(xe,{value:this.data.fieldValue});let ze=Ue.value||"";const Ge=Ee.getValue(xe,{charLimit:this.data.maxLen}).charLimit;Ge&&ze.length>Ge&&(ze=ze.slice(0,Ge));let Ve=Ue.formattedValue||((Ne=this.data.textContent)==null?void 0:Ne.join(`
`))||null;Ve&&this.data.comb&&(Ve=Ve.replaceAll(/\s+/g,""));const Ke={userValue:ze,formattedValue:Ve,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Te=document.createElement("textarea"),Te.textContent=Ve??ze,this.data.doNotScroll&&(Te.style.overflowY="hidden")):(Te=document.createElement("input"),Te.type="text",Te.setAttribute("value",Ve??ze),this.data.doNotScroll&&(Te.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Te.hidden=!0),T.add(Te),Te.setAttribute("data-element-id",xe),Te.disabled=this.data.readOnly,Te.name=this.data.fieldName,Te.tabIndex=n,this._setRequired(Te,this.data.required),Ge&&(Te.maxLength=Ge),Te.addEventListener("input",rt=>{Ee.setValue(xe,{value:rt.target.value}),this.setPropertyOnSiblings(Te,"value",rt.target.value,"value"),Ke.formattedValue=null}),Te.addEventListener("resetform",rt=>{const ot=this.data.defaultFieldValue??"";Te.value=Ke.userValue=ot,Ke.formattedValue=null});let et=rt=>{const{formattedValue:ot}=Ke;ot!=null&&(rt.target.value=ot),rt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Te.addEventListener("focus",ot=>{if(Ke.focused)return;const{target:ht}=ot;Ke.userValue&&(ht.value=Ke.userValue),Ke.lastCommittedValue=ht.value,Ke.commitKey=1,Ke.focused=!0}),Te.addEventListener("updatefromsandbox",ot=>{this.showElementAndHideCanvas(ot.target);const ht={value(lt){Ke.userValue=lt.detail.value??"",Ee.setValue(xe,{value:Ke.userValue.toString()}),lt.target.value=Ke.userValue},formattedValue(lt){const{formattedValue:yt}=lt.detail;Ke.formattedValue=yt,yt!=null&&lt.target!==document.activeElement&&(lt.target.value=yt),Ee.setValue(xe,{formattedValue:yt})},selRange(lt){lt.target.setSelectionRange(...lt.detail.selRange)},charLimit:lt=>{var Je;const{charLimit:yt}=lt.detail,{target:Tt}=lt;if(yt===0){Tt.removeAttribute("maxLength");return}Tt.setAttribute("maxLength",yt);let Qe=Ke.userValue;!Qe||Qe.length<=yt||(Qe=Qe.slice(0,yt),Tt.value=Ke.userValue=Qe,Ee.setValue(xe,{value:Qe}),(Je=this.linkService.eventBus)==null||Je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe,name:"Keystroke",value:Qe,willCommit:!0,commitKey:1,selStart:Tt.selectionStart,selEnd:Tt.selectionEnd}}))}};this._dispatchEventFromSandbox(ht,ot)}),Te.addEventListener("keydown",ot=>{var yt;Ke.commitKey=1;let ht=-1;if(ot.key==="Escape"?ht=0:ot.key==="Enter"&&!this.data.multiLine?ht=2:ot.key==="Tab"&&(Ke.commitKey=3),ht===-1)return;const{value:lt}=ot.target;Ke.lastCommittedValue!==lt&&(Ke.lastCommittedValue=lt,Ke.userValue=lt,(yt=this.linkService.eventBus)==null||yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe,name:"Keystroke",value:lt,willCommit:!0,commitKey:ht,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}}))});const rt=et;et=null,Te.addEventListener("blur",ot=>{var lt;if(!Ke.focused||!ot.relatedTarget)return;Ke.focused=!1;const{value:ht}=ot.target;Ke.userValue=ht,Ke.lastCommittedValue!==ht&&((lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe,name:"Keystroke",value:ht,willCommit:!0,commitKey:Ke.commitKey,selStart:ot.target.selectionStart,selEnd:ot.target.selectionEnd}})),rt(ot)}),($e=this.data.actions)!=null&&$e.Keystroke&&Te.addEventListener("beforeinput",ot=>{var st;Ke.lastCommittedValue=null;const{data:ht,target:lt}=ot,{value:yt,selectionStart:Tt,selectionEnd:Qe}=lt;let Je=Tt,nt=Qe;switch(ot.inputType){case"deleteWordBackward":{const ct=yt.substring(0,Tt).match(/\w*[^\w]*$/);ct&&(Je-=ct[0].length);break}case"deleteWordForward":{const ct=yt.substring(Tt).match(/^[^\w]*\w*/);ct&&(nt+=ct[0].length);break}case"deleteContentBackward":Tt===Qe&&(Je-=1);break;case"deleteContentForward":Tt===Qe&&(nt+=1);break}ot.preventDefault(),(st=this.linkService.eventBus)==null||st.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe,name:"Keystroke",value:yt,change:ht||"",willCommit:!1,selStart:Je,selEnd:nt}})}),this._setEventListeners(Te,Ke,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ot=>ot.target.value)}if(et&&Te.addEventListener("blur",et),this.data.comb){const ot=(this.data.rect[2]-this.data.rect[0])/Ge;Te.classList.add("comb"),Te.style.letterSpacing=`calc(${ot}px * var(--scale-factor) - 1ch)`}}else Te=document.createElement("div"),Te.textContent=this.data.fieldValue,Te.style.verticalAlign="middle",Te.style.display="table-cell";return this._setTextStyle(Te),this._setBackgroundColor(Te),this._setDefaultPropertiesFromJS(Te),this.container.append(Te),this.container}}class u extends g{constructor(Ee){super(Ee,{isRenderable:!!Ee.data.hasOwnCanvas})}}class h extends g{constructor(Ee){super(Ee,{isRenderable:Ee.renderForms})}render(){const Ee=this.annotationStorage,xe=this.data,Te=xe.id;let Ne=Ee.getValue(Te,{value:xe.exportValue===xe.fieldValue}).value;typeof Ne=="string"&&(Ne=Ne!=="Off",Ee.setValue(Te,{value:Ne})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const $e=document.createElement("input");return T.add($e),$e.setAttribute("data-element-id",Te),$e.disabled=xe.readOnly,this._setRequired($e,this.data.required),$e.type="checkbox",$e.name=xe.fieldName,Ne&&$e.setAttribute("checked",!0),$e.setAttribute("exportValue",xe.exportValue),$e.tabIndex=n,$e.addEventListener("change",Ue=>{const{name:ze,checked:Ge}=Ue.target;for(const Ve of this._getElementsByName(ze,Te)){const Ke=Ge&&Ve.exportValue===xe.exportValue;Ve.domElement&&(Ve.domElement.checked=Ke),Ee.setValue(Ve.id,{value:Ke})}Ee.setValue(Te,{value:Ge})}),$e.addEventListener("resetform",Ue=>{const ze=xe.defaultFieldValue||"Off";Ue.target.checked=ze===xe.exportValue}),this.enableScripting&&this.hasJSActions&&($e.addEventListener("updatefromsandbox",Ue=>{const ze={value(Ge){Ge.target.checked=Ge.detail.value!=="Off",Ee.setValue(Te,{value:Ge.target.checked})}};this._dispatchEventFromSandbox(ze,Ue)}),this._setEventListeners($e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ue=>Ue.target.checked)),this._setBackgroundColor($e),this._setDefaultPropertiesFromJS($e),this.container.append($e),this.container}}class i extends g{constructor(Ee){super(Ee,{isRenderable:Ee.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Ee=this.annotationStorage,xe=this.data,Te=xe.id;let Ne=Ee.getValue(Te,{value:xe.fieldValue===xe.buttonValue}).value;typeof Ne=="string"&&(Ne=Ne!==xe.buttonValue,Ee.setValue(Te,{value:Ne}));const $e=document.createElement("input");if(T.add($e),$e.setAttribute("data-element-id",Te),$e.disabled=xe.readOnly,this._setRequired($e,this.data.required),$e.type="radio",$e.name=xe.fieldName,Ne&&$e.setAttribute("checked",!0),$e.tabIndex=n,$e.addEventListener("change",Ue=>{const{name:ze,checked:Ge}=Ue.target;for(const Ve of this._getElementsByName(ze,Te))Ee.setValue(Ve.id,{value:!1});Ee.setValue(Te,{value:Ge})}),$e.addEventListener("resetform",Ue=>{const ze=xe.defaultFieldValue;Ue.target.checked=ze!=null&&ze===xe.buttonValue}),this.enableScripting&&this.hasJSActions){const Ue=xe.buttonValue;$e.addEventListener("updatefromsandbox",ze=>{const Ge={value:Ve=>{const Ke=Ue===Ve.detail.value;for(const et of this._getElementsByName(Ve.target.name)){const rt=Ke&&et.id===Te;et.domElement&&(et.domElement.checked=rt),Ee.setValue(et.id,{value:rt})}}};this._dispatchEventFromSandbox(Ge,ze)}),this._setEventListeners($e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ze=>ze.target.checked)}return this._setBackgroundColor($e),this._setDefaultPropertiesFromJS($e),this.container.append($e),this.container}}class x extends L{constructor(Ee){super(Ee,{ignoreBorder:Ee.data.hasAppearance})}render(){const Ee=super.render();Ee.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Ee.title=this.data.alternativeText);const xe=Ee.lastChild;return this.enableScripting&&this.hasJSActions&&xe&&(this._setDefaultPropertiesFromJS(xe),xe.addEventListener("updatefromsandbox",Te=>{this._dispatchEventFromSandbox({},Te)})),Ee}}class p extends g{constructor(Ee){super(Ee,{isRenderable:Ee.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Ee=this.annotationStorage,xe=this.data.id,Te=Ee.getValue(xe,{value:this.data.fieldValue}),Ne=document.createElement("select");T.add(Ne),Ne.setAttribute("data-element-id",xe),Ne.disabled=this.data.readOnly,this._setRequired(Ne,this.data.required),Ne.name=this.data.fieldName,Ne.tabIndex=n;let $e=this.data.combo&&this.data.options.length>0;this.data.combo||(Ne.size=this.data.options.length,this.data.multiSelect&&(Ne.multiple=!0)),Ne.addEventListener("resetform",Ke=>{const et=this.data.defaultFieldValue;for(const rt of Ne.options)rt.selected=rt.value===et});for(const Ke of this.data.options){const et=document.createElement("option");et.textContent=Ke.displayValue,et.value=Ke.exportValue,Te.value.includes(Ke.exportValue)&&(et.setAttribute("selected",!0),$e=!1),Ne.append(et)}let Ue=null;if($e){const Ke=document.createElement("option");Ke.value=" ",Ke.setAttribute("hidden",!0),Ke.setAttribute("selected",!0),Ne.prepend(Ke),Ue=()=>{Ke.remove(),Ne.removeEventListener("input",Ue),Ue=null},Ne.addEventListener("input",Ue)}const ze=Ke=>{const et=Ke?"value":"textContent",{options:rt,multiple:ot}=Ne;return ot?Array.prototype.filter.call(rt,ht=>ht.selected).map(ht=>ht[et]):rt.selectedIndex===-1?null:rt[rt.selectedIndex][et]};let Ge=ze(!1);const Ve=Ke=>{const et=Ke.target.options;return Array.prototype.map.call(et,rt=>({displayValue:rt.textContent,exportValue:rt.value}))};return this.enableScripting&&this.hasJSActions?(Ne.addEventListener("updatefromsandbox",Ke=>{const et={value(rt){Ue==null||Ue();const ot=rt.detail.value,ht=new Set(Array.isArray(ot)?ot:[ot]);for(const lt of Ne.options)lt.selected=ht.has(lt.value);Ee.setValue(xe,{value:ze(!0)}),Ge=ze(!1)},multipleSelection(rt){Ne.multiple=!0},remove(rt){const ot=Ne.options,ht=rt.detail.remove;ot[ht].selected=!1,Ne.remove(ht),ot.length>0&&Array.prototype.findIndex.call(ot,yt=>yt.selected)===-1&&(ot[0].selected=!0),Ee.setValue(xe,{value:ze(!0),items:Ve(rt)}),Ge=ze(!1)},clear(rt){for(;Ne.length!==0;)Ne.remove(0);Ee.setValue(xe,{value:null,items:[]}),Ge=ze(!1)},insert(rt){const{index:ot,displayValue:ht,exportValue:lt}=rt.detail.insert,yt=Ne.children[ot],Tt=document.createElement("option");Tt.textContent=ht,Tt.value=lt,yt?yt.before(Tt):Ne.append(Tt),Ee.setValue(xe,{value:ze(!0),items:Ve(rt)}),Ge=ze(!1)},items(rt){const{items:ot}=rt.detail;for(;Ne.length!==0;)Ne.remove(0);for(const ht of ot){const{displayValue:lt,exportValue:yt}=ht,Tt=document.createElement("option");Tt.textContent=lt,Tt.value=yt,Ne.append(Tt)}Ne.options.length>0&&(Ne.options[0].selected=!0),Ee.setValue(xe,{value:ze(!0),items:Ve(rt)}),Ge=ze(!1)},indices(rt){const ot=new Set(rt.detail.indices);for(const ht of rt.target.options)ht.selected=ot.has(ht.index);Ee.setValue(xe,{value:ze(!0)}),Ge=ze(!1)},editable(rt){rt.target.disabled=!rt.detail.editable}};this._dispatchEventFromSandbox(et,Ke)}),Ne.addEventListener("input",Ke=>{var rt;const et=ze(!0);Ee.setValue(xe,{value:et}),Ke.preventDefault(),(rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe,name:"Keystroke",value:Ge,changeEx:et,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ne,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ke=>Ke.target.value)):Ne.addEventListener("input",function(Ke){Ee.setValue(xe,{value:ze(!0)})}),this.data.combo&&this._setTextStyle(Ne),this._setBackgroundColor(Ne),this._setDefaultPropertiesFromJS(Ne),this.container.append(Ne),this.container}}class v extends l{constructor(Ee){const{data:xe,elements:Te}=Ee;super(Ee,{isRenderable:l._hasPopupData(xe)}),this.elements=Te}render(){this.container.classList.add("popupAnnotation");const Ee=new b({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),xe=[];for(const Te of this.elements)Te.popup=Ee,xe.push(Te.data.id),Te.addHighlightArea();return this.container.setAttribute("aria-controls",xe.map(Te=>`${J.AnnotationPrefix}${Te}`).join(",")),this.container}}class b{constructor({container:Ee,color:xe,elements:Te,titleObj:Ne,modificationDate:$e,contentsObj:Ue,richText:ze,parent:Ge,rect:Ve,parentRect:Ke,open:et}){je(this,ce);je(this,ge);je(this,Se);je(this,Me);je(this,c,null);je(this,y,qe(this,ce,br).bind(this));je(this,q,qe(this,Me,Li).bind(this));je(this,re,qe(this,Se,Di).bind(this));je(this,Q,qe(this,ge,$n).bind(this));je(this,de,null);je(this,ee,null);je(this,ue,null);je(this,W,null);je(this,Z,null);je(this,se,null);je(this,ne,!1);je(this,ie,null);je(this,H,null);je(this,Y,null);je(this,G,null);je(this,le,!1);var ot;Ye(this,ee,Ee),Ye(this,G,Ne),Ye(this,ue,Ue),Ye(this,Y,ze),Ye(this,Z,Ge),Ye(this,de,xe),Ye(this,H,Ve),Ye(this,se,Ke),Ye(this,W,Te);const rt=ve.PDFDateString.toDateObject($e);rt&&Ye(this,c,Ge.l10n.get("annotation_date_string",{date:rt.toLocaleDateString(),time:rt.toLocaleTimeString()})),this.trigger=Te.flatMap(ht=>ht.getElementsToTriggerPopup());for(const ht of this.trigger)ht.addEventListener("click",Ce(this,Q)),ht.addEventListener("mouseenter",Ce(this,re)),ht.addEventListener("mouseleave",Ce(this,q)),ht.classList.add("popupTriggerArea");for(const ht of Te)(ot=ht.container)==null||ot.addEventListener("keydown",Ce(this,y));Ce(this,ee).hidden=!0,et&&qe(this,ge,$n).call(this)}render(){if(Ce(this,ie))return;const{page:{view:Ee},viewport:{rawDims:{pageWidth:xe,pageHeight:Te,pageX:Ne,pageY:$e}}}=Ce(this,Z),Ue=Ye(this,ie,document.createElement("div"));if(Ue.className="popup",Ce(this,de)){const Je=Ue.style.outlineColor=J.Util.makeHexColor(...Ce(this,de));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Ue.style.backgroundColor=`color-mix(in srgb, ${Je} 30%, white)`:Ue.style.backgroundColor=J.Util.makeHexColor(...Ce(this,de).map(st=>Math.floor(.7*(255-st)+st)))}const ze=document.createElement("span");ze.className="header";const Ge=document.createElement("h1");if(ze.append(Ge),{dir:Ge.dir,str:Ge.textContent}=Ce(this,G),Ue.append(ze),Ce(this,c)){const Je=document.createElement("span");Je.classList.add("popupDate"),Ce(this,c).then(nt=>{Je.textContent=nt}),ze.append(Je)}const Ve=Ce(this,ue),Ke=Ce(this,Y);if(Ke!=null&&Ke.str&&(!(Ve!=null&&Ve.str)||Ve.str===Ke.str))$.XfaLayer.render({xfaHtml:Ke.html,intent:"richText",div:Ue}),Ue.lastChild.classList.add("richText","popupContent");else{const Je=this._formatContents(Ve);Ue.append(Je)}let et=!!Ce(this,se),rt=et?Ce(this,se):Ce(this,H);for(const Je of Ce(this,W))if(!rt||J.Util.intersect(Je.data.rect,rt)!==null){rt=Je.data.rect,et=!0;break}const ot=J.Util.normalizeRect([rt[0],Ee[3]-rt[1]+Ee[1],rt[2],Ee[3]-rt[3]+Ee[1]]),lt=et?rt[2]-rt[0]+5:0,yt=ot[0]+lt,Tt=ot[1],{style:Qe}=Ce(this,ee);Qe.left=`${100*(yt-Ne)/xe}%`,Qe.top=`${100*(Tt-$e)/Te}%`,Ce(this,ee).append(Ue)}_formatContents({str:Ee,dir:xe}){const Te=document.createElement("p");Te.classList.add("popupContent"),Te.dir=xe;const Ne=Ee.split(/(?:\r\n?|\n)/);for(let $e=0,Ue=Ne.length;$e<Ue;++$e){const ze=Ne[$e];Te.append(document.createTextNode(ze)),$e<Ue-1&&Te.append(document.createElement("br"))}return Te}forceHide(){Ye(this,le,this.isVisible),Ce(this,le)&&(Ce(this,ee).hidden=!0)}maybeShow(){Ce(this,le)&&(Ye(this,le,!1),Ce(this,ee).hidden=!1)}get isVisible(){return Ce(this,ee).hidden===!1}}c=new WeakMap,y=new WeakMap,q=new WeakMap,re=new WeakMap,Q=new WeakMap,de=new WeakMap,ee=new WeakMap,ue=new WeakMap,W=new WeakMap,Z=new WeakMap,se=new WeakMap,ne=new WeakMap,ie=new WeakMap,H=new WeakMap,Y=new WeakMap,G=new WeakMap,le=new WeakMap,ce=new WeakSet,br=function(Ee){Ee.altKey||Ee.shiftKey||Ee.ctrlKey||Ee.metaKey||(Ee.key==="Enter"||Ee.key==="Escape"&&Ce(this,ne))&&qe(this,ge,$n).call(this)},ge=new WeakSet,$n=function(){Ye(this,ne,!Ce(this,ne)),Ce(this,ne)?(qe(this,Se,Di).call(this),Ce(this,ee).addEventListener("click",Ce(this,Q)),Ce(this,ee).addEventListener("keydown",Ce(this,y))):(qe(this,Me,Li).call(this),Ce(this,ee).removeEventListener("click",Ce(this,Q)),Ce(this,ee).removeEventListener("keydown",Ce(this,y)))},Se=new WeakSet,Di=function(){Ce(this,ie)||this.render(),this.isVisible?Ce(this,ne)&&Ce(this,ee).classList.add("focused"):(Ce(this,ee).hidden=!1,Ce(this,ee).style.zIndex=parseInt(Ce(this,ee).style.zIndex)+1e3)},Me=new WeakSet,Li=function(){Ce(this,ee).classList.remove("focused"),!(Ce(this,ne)||!this.isVisible)&&(Ce(this,ee).hidden=!0,Ce(this,ee).style.zIndex=parseInt(Ce(this,ee).style.zIndex)-1e3)};class N extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Ee.data.textContent,this.textPosition=Ee.data.textPosition,this.annotationEditorType=J.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Ee=document.createElement("div");Ee.classList.add("annotationTextContent"),Ee.setAttribute("role","comment");for(const xe of this.textContent){const Te=document.createElement("span");Te.textContent=xe,Ee.append(Te)}this.container.append(Ee)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}V.FreeTextAnnotationElement=N;class U extends l{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0});je(this,ke,null)}render(){this.container.classList.add("lineAnnotation");const xe=this.data,{width:Te,height:Ne}=e(xe.rect),$e=this.svgFactory.create(Te,Ne,!0),Ue=Ye(this,ke,this.svgFactory.createElement("svg:line"));return Ue.setAttribute("x1",xe.rect[2]-xe.lineCoordinates[0]),Ue.setAttribute("y1",xe.rect[3]-xe.lineCoordinates[1]),Ue.setAttribute("x2",xe.rect[2]-xe.lineCoordinates[2]),Ue.setAttribute("y2",xe.rect[3]-xe.lineCoordinates[3]),Ue.setAttribute("stroke-width",xe.borderStyle.width||1),Ue.setAttribute("stroke","transparent"),Ue.setAttribute("fill","transparent"),$e.append(Ue),this.container.append($e),!xe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ce(this,ke)}addHighlightArea(){this.container.classList.add("highlightArea")}}ke=new WeakMap;class D extends l{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0});je(this,oe,null)}render(){this.container.classList.add("squareAnnotation");const xe=this.data,{width:Te,height:Ne}=e(xe.rect),$e=this.svgFactory.create(Te,Ne,!0),Ue=xe.borderStyle.width,ze=Ye(this,oe,this.svgFactory.createElement("svg:rect"));return ze.setAttribute("x",Ue/2),ze.setAttribute("y",Ue/2),ze.setAttribute("width",Te-Ue),ze.setAttribute("height",Ne-Ue),ze.setAttribute("stroke-width",Ue||1),ze.setAttribute("stroke","transparent"),ze.setAttribute("fill","transparent"),$e.append(ze),this.container.append($e),!xe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ce(this,oe)}addHighlightArea(){this.container.classList.add("highlightArea")}}oe=new WeakMap;class I extends l{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0});je(this,Ie,null)}render(){this.container.classList.add("circleAnnotation");const xe=this.data,{width:Te,height:Ne}=e(xe.rect),$e=this.svgFactory.create(Te,Ne,!0),Ue=xe.borderStyle.width,ze=Ye(this,Ie,this.svgFactory.createElement("svg:ellipse"));return ze.setAttribute("cx",Te/2),ze.setAttribute("cy",Ne/2),ze.setAttribute("rx",Te/2-Ue/2),ze.setAttribute("ry",Ne/2-Ue/2),ze.setAttribute("stroke-width",Ue||1),ze.setAttribute("stroke","transparent"),ze.setAttribute("fill","transparent"),$e.append(ze),this.container.append($e),!xe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ce(this,Ie)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ie=new WeakMap;class B extends l{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0});je(this,Be,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const xe=this.data,{width:Te,height:Ne}=e(xe.rect),$e=this.svgFactory.create(Te,Ne,!0);let Ue=[];for(const Ge of xe.vertices){const Ve=Ge.x-xe.rect[0],Ke=xe.rect[3]-Ge.y;Ue.push(Ve+","+Ke)}Ue=Ue.join(" ");const ze=Ye(this,Be,this.svgFactory.createElement(this.svgElementName));return ze.setAttribute("points",Ue),ze.setAttribute("stroke-width",xe.borderStyle.width||1),ze.setAttribute("stroke","transparent"),ze.setAttribute("fill","transparent"),$e.append(ze),this.container.append($e),!xe.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ce(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap;class _ extends B{constructor(Ee){super(Ee),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class X extends l{constructor(xe){super(xe,{isRenderable:!0,ignoreBorder:!0});je(this,he,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=J.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const xe=this.data,{width:Te,height:Ne}=e(xe.rect),$e=this.svgFactory.create(Te,Ne,!0);for(const Ue of xe.inkLists){let ze=[];for(const Ve of Ue){const Ke=Ve.x-xe.rect[0],et=xe.rect[3]-Ve.y;ze.push(`${Ke},${et}`)}ze=ze.join(" ");const Ge=this.svgFactory.createElement(this.svgElementName);Ce(this,he).push(Ge),Ge.setAttribute("points",ze),Ge.setAttribute("stroke-width",xe.borderStyle.width||1),Ge.setAttribute("stroke","transparent"),Ge.setAttribute("fill","transparent"),!xe.popupRef&&this.hasPopupData&&this._createPopup(),$e.append(Ge)}return this.container.append($e),this.container}getElementsToTriggerPopup(){return Ce(this,he)}addHighlightArea(){this.container.classList.add("highlightArea")}}he=new WeakMap,V.InkAnnotationElement=X;class m extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class S extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class R extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class z extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class O extends l{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}V.StampAnnotationElement=O;class E extends l{constructor(xe){var $e;super(xe,{isRenderable:!0});je(this,ye);je(this,De,null);const{filename:Te,content:Ne}=this.data.file;this.filename=(0,ve.getFilenameFromUrl)(Te,!0),this.content=Ne,($e=this.linkService.eventBus)==null||$e.dispatch("fileattachmentannotation",{source:this,filename:Te,content:Ne})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:xe,data:Te}=this;let Ne;Te.hasAppearance||Te.fillAlpha===0?Ne=document.createElement("div"):(Ne=document.createElement("img"),Ne.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Te.name)?"paperclip":"pushpin"}.svg`,Te.fillAlpha&&Te.fillAlpha<1&&(Ne.style=`filter: opacity(${Math.round(Te.fillAlpha*100)}%);`)),Ne.addEventListener("dblclick",qe(this,ye,Ni).bind(this)),Ye(this,De,Ne);const{isMac:$e}=J.FeatureTest.platform;return xe.addEventListener("keydown",Ue=>{Ue.key==="Enter"&&($e?Ue.metaKey:Ue.ctrlKey)&&qe(this,ye,Ni).call(this)}),!Te.popupRef&&this.hasPopupData?this._createPopup():Ne.classList.add("popupTriggerArea"),xe.append(Ne),xe}getElementsToTriggerPopup(){return Ce(this,De)}addHighlightArea(){this.container.classList.add("highlightArea")}}De=new WeakMap,ye=new WeakSet,Ni=function(){var xe;(xe=this.downloadManager)==null||xe.openOrDownloadData(this.container,this.content,this.filename)};class k{constructor({div:Ee,accessibilityManager:xe,annotationCanvasMap:Te,l10n:Ne,page:$e,viewport:Ue}){je(this,Xe);je(this,ae);je(this,Pe,null);je(this,Re,null);je(this,He,new Map);this.div=Ee,Ye(this,Pe,xe),Ye(this,Re,Te),this.l10n=Ne,this.page=$e,this.viewport=Ue,this.zIndex=0,this.l10n||(this.l10n=f.NullL10n)}async render(Ee){const{annotations:xe}=Ee,Te=this.div;(0,ve.setLayerDimensions)(Te,this.viewport);const Ne=new Map,$e={data:null,layer:Te,linkService:Ee.linkService,downloadManager:Ee.downloadManager,imageResourcesPath:Ee.imageResourcesPath||"",renderForms:Ee.renderForms!==!1,svgFactory:new ve.DOMSVGFactory,annotationStorage:Ee.annotationStorage||new we.AnnotationStorage,enableScripting:Ee.enableScripting===!0,hasJSActions:Ee.hasJSActions,fieldObjects:Ee.fieldObjects,parent:this,elements:null};for(const Ue of xe){if(Ue.noHTML)continue;const ze=Ue.annotationType===J.AnnotationType.POPUP;if(ze){const Ke=Ne.get(Ue.id);if(!Ke)continue;$e.elements=Ke}else{const{width:Ke,height:et}=e(Ue.rect);if(Ke<=0||et<=0)continue}$e.data=Ue;const Ge=t.create($e);if(!Ge.isRenderable)continue;if(!ze&&Ue.popupRef){const Ke=Ne.get(Ue.popupRef);Ke?Ke.push(Ge):Ne.set(Ue.popupRef,[Ge])}Ge.annotationEditorType>0&&Ce(this,He).set(Ge.data.id,Ge);const Ve=Ge.render();Ue.hidden&&(Ve.style.visibility="hidden"),qe(this,Xe,yr).call(this,Ve,Ue.id)}qe(this,ae,Bi).call(this),await this.l10n.translate(Te)}update({viewport:Ee}){const xe=this.div;this.viewport=Ee,(0,ve.setLayerDimensions)(xe,{rotation:Ee.rotation}),qe(this,ae,Bi).call(this),xe.hidden=!1}getEditableAnnotations(){return Array.from(Ce(this,He).values())}getEditableAnnotation(Ee){return Ce(this,He).get(Ee)}}Pe=new WeakMap,Re=new WeakMap,He=new WeakMap,Xe=new WeakSet,yr=function(Ee,xe){var Ne;const Te=Ee.firstChild||Ee;Te.id=`${J.AnnotationPrefix}${xe}`,this.div.append(Ee),(Ne=Ce(this,Pe))==null||Ne.moveElementInDOM(this.div,Ee,Te,!1)},ae=new WeakSet,Bi=function(){if(!Ce(this,Re))return;const Ee=this.div;for(const[xe,Te]of Ce(this,Re)){const Ne=Ee.querySelector(`[data-annotation-id="${xe}"]`);if(!Ne)continue;const{firstChild:$e}=Ne;$e?$e.nodeName==="CANVAS"?$e.replaceWith(Te):$e.before(Te):Ne.append(Te)}Ce(this,Re).clear()},V.AnnotationLayer=k},(j,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.ColorConverters=void 0;function be(we){return Math.floor(Math.max(0,Math.min(1,we))*255).toString(16).padStart(2,"0")}function J(we){return Math.max(0,Math.min(255,255*we))}class ve{static CMYK_G([fe,f,$,n]){return["G",1-Math.min(1,.3*fe+.59*$+.11*f+n)]}static G_CMYK([fe]){return["CMYK",0,0,0,1-fe]}static G_RGB([fe]){return["RGB",fe,fe,fe]}static G_rgb([fe]){return fe=J(fe),[fe,fe,fe]}static G_HTML([fe]){const f=be(fe);return`#${f}${f}${f}`}static RGB_G([fe,f,$]){return["G",.3*fe+.59*f+.11*$]}static RGB_rgb(fe){return fe.map(J)}static RGB_HTML(fe){return`#${fe.map(be).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([fe,f,$,n]){return["RGB",1-Math.min(1,fe+n),1-Math.min(1,$+n),1-Math.min(1,f+n)]}static CMYK_rgb([fe,f,$,n]){return[J(1-Math.min(1,fe+n)),J(1-Math.min(1,$+n)),J(1-Math.min(1,f+n))]}static CMYK_HTML(fe){const f=this.CMYK_RGB(fe).slice(1);return this.RGB_HTML(f)}static RGB_CMYK([fe,f,$]){const n=1-fe,d=1-f,T=1-$,e=Math.min(n,d,T);return["CMYK",n,d,T,e]}}V.ColorConverters=ve},(j,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.NullL10n=void 0,V.getL10nFallback=J;const be={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};be.print_progress_percent="{{progress}}%";function J(fe,f){switch(fe){case"find_match_count":fe=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":fe=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return be[fe]||""}function ve(fe,f){return f?fe.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,($,n)=>n in f?f[n]:"{{"+n+"}}"):fe}const we={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(fe,f=null,$=J(fe,f)){return ve($,f)},async translate(fe){}};V.NullL10n=we},(j,V,be)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.XfaLayer=void 0;var J=be(25);class ve{static setupStorage(fe,f,$,n,d){const T=n.getValue(f,{value:null});switch($.name){case"textarea":if(T.value!==null&&(fe.textContent=T.value),d==="print")break;fe.addEventListener("input",e=>{n.setValue(f,{value:e.target.value})});break;case"input":if($.attributes.type==="radio"||$.attributes.type==="checkbox"){if(T.value===$.attributes.xfaOn?fe.setAttribute("checked",!0):T.value===$.attributes.xfaOff&&fe.removeAttribute("checked"),d==="print")break;fe.addEventListener("change",e=>{n.setValue(f,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(T.value!==null&&fe.setAttribute("value",T.value),d==="print")break;fe.addEventListener("input",e=>{n.setValue(f,{value:e.target.value})})}break;case"select":if(T.value!==null){fe.setAttribute("value",T.value);for(const e of $.children)e.attributes.value===T.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}fe.addEventListener("input",e=>{const t=e.target.options,l=t.selectedIndex===-1?"":t[t.selectedIndex].value;n.setValue(f,{value:l})});break}}static setAttributes({html:fe,element:f,storage:$=null,intent:n,linkService:d}){const{attributes:T}=f,e=fe instanceof HTMLAnchorElement;T.type==="radio"&&(T.name=`${T.name}-${n}`);for(const[t,l]of Object.entries(T))if(l!=null)switch(t){case"class":l.length&&fe.setAttribute(t,l.join(" "));break;case"dataId":break;case"id":fe.setAttribute("data-element-id",l);break;case"style":Object.assign(fe.style,l);break;case"textContent":fe.textContent=l;break;default:(!e||t!=="href"&&t!=="newWindow")&&fe.setAttribute(t,l)}e&&d.addLinkAttributes(fe,T.href,T.newWindow),$&&T.dataId&&this.setupStorage(fe,T.dataId,f,$)}static render(fe){var L;const f=fe.annotationStorage,$=fe.linkService,n=fe.xfaHtml,d=fe.intent||"display",T=document.createElement(n.name);n.attributes&&this.setAttributes({html:T,element:n,intent:d,linkService:$});const e=[[n,-1,T]],t=fe.div;if(t.append(T),fe.viewport){const F=`matrix(${fe.viewport.transform.join(",")})`;t.style.transform=F}d!=="richText"&&t.setAttribute("class","xfaLayer xfaFont");const l=[];for(;e.length>0;){const[F,g,w]=e.at(-1);if(g+1===F.children.length){e.pop();continue}const u=F.children[++e.at(-1)[1]];if(u===null)continue;const{name:h}=u;if(h==="#text"){const x=document.createTextNode(u.value);l.push(x),w.append(x);continue}const i=(L=u==null?void 0:u.attributes)!=null&&L.xmlns?document.createElementNS(u.attributes.xmlns,h):document.createElement(h);if(w.append(i),u.attributes&&this.setAttributes({html:i,element:u,storage:f,intent:d,linkService:$}),u.children&&u.children.length>0)e.push([u,-1,i]);else if(u.value){const x=document.createTextNode(u.value);J.XfaText.shouldBuildText(h)&&l.push(x),i.append(x)}}for(const F of t.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))F.setAttribute("readOnly",!0);return{textDivs:l}}static update(fe){const f=`matrix(${fe.viewport.transform.join(",")})`;fe.div.style.transform=f,fe.div.hidden=!1}}V.XfaLayer=ve},(j,V,be)=>{var n,d,T,e,t,l,L,F,g,w,u,h,i,x,p,wr,b,vr,U,Sr,I,Ar,_,$i,X,_r,S,ji,z,Er,E,Cr,M,kr,o,Tr,s,Ir,c,en,q,Ui,Q,jn,ee,Un,W,hn,se,qi,ie,qn,Y,Fr,le,Hi,te,Or,K,Rr,Oe,Xi,_e,Hn,oe,fn;Object.defineProperty(V,"__esModule",{value:!0}),V.InkEditor=void 0;var J=be(1),ve=be(4),we=be(29),fe=be(6),f=be(5);const Be=class Be extends ve.AnnotationEditor{constructor(ye){super({...ye,name:"inkEditor"});je(this,p);je(this,b);je(this,U);je(this,I);je(this,_);je(this,X);je(this,S);je(this,z);je(this,E);je(this,M);je(this,o);je(this,s);je(this,c);je(this,q);je(this,Q);je(this,ee);je(this,W);je(this,se);je(this,ie);je(this,K);je(this,Oe);je(this,_e);je(this,oe);je(this,n,0);je(this,d,0);je(this,T,this.canvasPointermove.bind(this));je(this,e,this.canvasPointerleave.bind(this));je(this,t,this.canvasPointerup.bind(this));je(this,l,this.canvasPointerdown.bind(this));je(this,L,new Path2D);je(this,F,!1);je(this,g,!1);je(this,w,!1);je(this,u,null);je(this,h,0);je(this,i,0);je(this,x,null);this.color=ye.color||null,this.thickness=ye.thickness||null,this.opacity=ye.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ye){ve.AnnotationEditor.initialize(ye,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(ye,me){switch(ye){case J.AnnotationEditorParamsType.INK_THICKNESS:Be._defaultThickness=me;break;case J.AnnotationEditorParamsType.INK_COLOR:Be._defaultColor=me;break;case J.AnnotationEditorParamsType.INK_OPACITY:Be._defaultOpacity=me/100;break}}updateParams(ye,me){switch(ye){case J.AnnotationEditorParamsType.INK_THICKNESS:qe(this,p,wr).call(this,me);break;case J.AnnotationEditorParamsType.INK_COLOR:qe(this,b,vr).call(this,me);break;case J.AnnotationEditorParamsType.INK_OPACITY:qe(this,U,Sr).call(this,me);break}}static get defaultPropertiesToUpdate(){return[[J.AnnotationEditorParamsType.INK_THICKNESS,Be._defaultThickness],[J.AnnotationEditorParamsType.INK_COLOR,Be._defaultColor||ve.AnnotationEditor._defaultLineColor],[J.AnnotationEditorParamsType.INK_OPACITY,Math.round(Be._defaultOpacity*100)]]}get propertiesToUpdate(){return[[J.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Be._defaultThickness],[J.AnnotationEditorParamsType.INK_COLOR,this.color||Be._defaultColor||ve.AnnotationEditor._defaultLineColor],[J.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Be._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(qe(this,Q,jn).call(this),qe(this,ee,Un).call(this)),this.isAttachedToDOM||(this.parent.add(this),qe(this,W,hn).call(this)),qe(this,oe,fn).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ce(this,u).disconnect(),Ye(this,u,null),super.remove())}setParent(ye){!this.parent&&ye?this._uiManager.removeShouldRescale(this):this.parent&&ye===null&&this._uiManager.addShouldRescale(this),super.setParent(ye)}onScaleChanging(){const[ye,me]=this.parentDimensions,Pe=this.width*ye,Re=this.height*me;this.setDimensions(Pe,Re)}enableEditMode(){Ce(this,F)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ce(this,l)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ce(this,l)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ce(this,F)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ye(this,F,!0),this.div.classList.add("disabled"),qe(this,oe,fn).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ye){this._focusEventsAllowed&&(super.focusin(ye),this.enableEditMode())}canvasPointerdown(ye){ye.button!==0||!this.isInEditMode()||Ce(this,F)||(this.setInForeground(),ye.preventDefault(),ye.type!=="mouse"&&this.div.focus(),qe(this,X,_r).call(this,ye.offsetX,ye.offsetY))}canvasPointermove(ye){ye.preventDefault(),qe(this,S,ji).call(this,ye.offsetX,ye.offsetY)}canvasPointerup(ye){ye.preventDefault(),qe(this,q,Ui).call(this,ye)}canvasPointerleave(ye){qe(this,q,Ui).call(this,ye)}get isResizable(){return!this.isEmpty()&&Ce(this,F)}render(){if(this.div)return this.div;let ye,me;this.width&&(ye=this.x,me=this.y),super.render(),ve.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Fe=>{var ae;return(ae=this.div)==null?void 0:ae.setAttribute("aria-label",Fe)});const[Pe,Re,He,Xe]=qe(this,I,Ar).call(this);if(this.setAt(Pe,Re,0,0),this.setDims(He,Xe),qe(this,Q,jn).call(this),this.width){const[Fe,ae]=this.parentDimensions;this.setAspectRatio(this.width*Fe,this.height*ae),this.setAt(ye*Fe,me*ae,this.width*Fe,this.height*ae),Ye(this,w,!0),qe(this,W,hn).call(this),this.setDims(this.width*Fe,this.height*ae),qe(this,c,en).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return qe(this,ee,Un).call(this),this.div}setDimensions(ye,me){const Pe=Math.round(ye),Re=Math.round(me);if(Ce(this,h)===Pe&&Ce(this,i)===Re)return;Ye(this,h,Pe),Ye(this,i,Re),this.canvas.style.visibility="hidden";const[He,Xe]=this.parentDimensions;this.width=ye/He,this.height=me/Xe,this.fixAndSetPosition(),Ce(this,F)&&qe(this,se,qi).call(this,ye,me),qe(this,W,hn).call(this),qe(this,c,en).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ye,me,Pe){var $e,Ue,ze;if(ye instanceof we.InkAnnotationElement)return null;const Re=super.deserialize(ye,me,Pe);Re.thickness=ye.thickness,Re.color=J.Util.makeHexColor(...ye.color),Re.opacity=ye.opacity;const[He,Xe]=Re.pageDimensions,Fe=Re.width*He,ae=Re.height*Xe,Ae=Re.parentScale,Le=ye.thickness/2;Ye(Re,F,!0),Ye(Re,h,Math.round(Fe)),Ye(Re,i,Math.round(ae));const{paths:Ee,rect:xe,rotation:Te}=ye;for(let{bezier:Ge}of Ee){Ge=qe($e=Be,te,Or).call($e,Ge,xe,Te);const Ve=[];Re.paths.push(Ve);let Ke=Ae*(Ge[0]-Le),et=Ae*(Ge[1]-Le);for(let ot=2,ht=Ge.length;ot<ht;ot+=6){const lt=Ae*(Ge[ot]-Le),yt=Ae*(Ge[ot+1]-Le),Tt=Ae*(Ge[ot+2]-Le),Qe=Ae*(Ge[ot+3]-Le),Je=Ae*(Ge[ot+4]-Le),nt=Ae*(Ge[ot+5]-Le);Ve.push([[Ke,et],[lt,yt],[Tt,Qe],[Je,nt]]),Ke=Je,et=nt}const rt=qe(this,Y,Fr).call(this,Ve);Re.bezierPath2D.push(rt)}const Ne=qe(Ue=Re,Oe,Xi).call(Ue);return Ye(Re,d,Math.max(ve.AnnotationEditor.MIN_SIZE,Ne[2]-Ne[0])),Ye(Re,n,Math.max(ve.AnnotationEditor.MIN_SIZE,Ne[3]-Ne[1])),qe(ze=Re,se,qi).call(ze,Fe,ae),Re}serialize(){if(this.isEmpty())return null;const ye=this.getRect(0,0),me=ve.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:J.AnnotationEditorType.INK,color:me,thickness:this.thickness,opacity:this.opacity,paths:qe(this,K,Rr).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ye),pageIndex:this.pageIndex,rect:ye,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};n=new WeakMap,d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakMap,w=new WeakMap,u=new WeakMap,h=new WeakMap,i=new WeakMap,x=new WeakMap,p=new WeakSet,wr=function(ye){const me=this.thickness;this.addCommands({cmd:()=>{this.thickness=ye,qe(this,oe,fn).call(this)},undo:()=>{this.thickness=me,qe(this,oe,fn).call(this)},mustExec:!0,type:J.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},b=new WeakSet,vr=function(ye){const me=this.color;this.addCommands({cmd:()=>{this.color=ye,qe(this,c,en).call(this)},undo:()=>{this.color=me,qe(this,c,en).call(this)},mustExec:!0,type:J.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},U=new WeakSet,Sr=function(ye){ye/=100;const me=this.opacity;this.addCommands({cmd:()=>{this.opacity=ye,qe(this,c,en).call(this)},undo:()=>{this.opacity=me,qe(this,c,en).call(this)},mustExec:!0,type:J.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},I=new WeakSet,Ar=function(){const{parentRotation:ye,parentDimensions:[me,Pe]}=this;switch(ye){case 90:return[0,Pe,Pe,me];case 180:return[me,Pe,me,Pe];case 270:return[me,0,Pe,me];default:return[0,0,me,Pe]}},_=new WeakSet,$i=function(){const{ctx:ye,color:me,opacity:Pe,thickness:Re,parentScale:He,scaleFactor:Xe}=this;ye.lineWidth=Re*He/Xe,ye.lineCap="round",ye.lineJoin="round",ye.miterLimit=10,ye.strokeStyle=`${me}${(0,f.opacityToHex)(Pe)}`},X=new WeakSet,_r=function(ye,me){this.canvas.addEventListener("contextmenu",fe.noContextMenu),this.canvas.addEventListener("pointerleave",Ce(this,e)),this.canvas.addEventListener("pointermove",Ce(this,T)),this.canvas.addEventListener("pointerup",Ce(this,t)),this.canvas.removeEventListener("pointerdown",Ce(this,l)),this.isEditing=!0,Ce(this,w)||(Ye(this,w,!0),qe(this,W,hn).call(this),this.thickness||(this.thickness=Be._defaultThickness),this.color||(this.color=Be._defaultColor||ve.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Be._defaultOpacity)),this.currentPath.push([ye,me]),Ye(this,g,!1),qe(this,_,$i).call(this),Ye(this,x,()=>{qe(this,M,kr).call(this),Ce(this,x)&&window.requestAnimationFrame(Ce(this,x))}),window.requestAnimationFrame(Ce(this,x))},S=new WeakSet,ji=function(ye,me){const[Pe,Re]=this.currentPath.at(-1);if(this.currentPath.length>1&&ye===Pe&&me===Re)return;const He=this.currentPath;let Xe=Ce(this,L);if(He.push([ye,me]),Ye(this,g,!0),He.length<=2){Xe.moveTo(...He[0]),Xe.lineTo(ye,me);return}He.length===3&&(Ye(this,L,Xe=new Path2D),Xe.moveTo(...He[0])),qe(this,o,Tr).call(this,Xe,...He.at(-3),...He.at(-2),ye,me)},z=new WeakSet,Er=function(){if(this.currentPath.length===0)return;const ye=this.currentPath.at(-1);Ce(this,L).lineTo(...ye)},E=new WeakSet,Cr=function(ye,me){Ye(this,x,null),ye=Math.min(Math.max(ye,0),this.canvas.width),me=Math.min(Math.max(me,0),this.canvas.height),qe(this,S,ji).call(this,ye,me),qe(this,z,Er).call(this);let Pe;if(this.currentPath.length!==1)Pe=qe(this,s,Ir).call(this);else{const ae=[ye,me];Pe=[[ae,ae.slice(),ae.slice(),ae]]}const Re=Ce(this,L),He=this.currentPath;this.currentPath=[],Ye(this,L,new Path2D);const Xe=()=>{this.allRawPaths.push(He),this.paths.push(Pe),this.bezierPath2D.push(Re),this.rebuild()},Fe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(qe(this,Q,jn).call(this),qe(this,ee,Un).call(this)),qe(this,oe,fn).call(this))};this.addCommands({cmd:Xe,undo:Fe,mustExec:!0})},M=new WeakSet,kr=function(){if(!Ce(this,g))return;Ye(this,g,!1);const ye=Math.ceil(this.thickness*this.parentScale),me=this.currentPath.slice(-3),Pe=me.map(Xe=>Xe[0]),Re=me.map(Xe=>Xe[1]);Math.min(...Pe)-ye,Math.max(...Pe)+ye,Math.min(...Re)-ye,Math.max(...Re)+ye;const{ctx:He}=this;He.save(),He.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Xe of this.bezierPath2D)He.stroke(Xe);He.stroke(Ce(this,L)),He.restore()},o=new WeakSet,Tr=function(ye,me,Pe,Re,He,Xe,Fe){const ae=(me+Re)/2,Ae=(Pe+He)/2,Le=(Re+Xe)/2,Ee=(He+Fe)/2;ye.bezierCurveTo(ae+2*(Re-ae)/3,Ae+2*(He-Ae)/3,Le+2*(Re-Le)/3,Ee+2*(He-Ee)/3,Le,Ee)},s=new WeakSet,Ir=function(){const ye=this.currentPath;if(ye.length<=2)return[[ye[0],ye[0],ye.at(-1),ye.at(-1)]];const me=[];let Pe,[Re,He]=ye[0];for(Pe=1;Pe<ye.length-2;Pe++){const[xe,Te]=ye[Pe],[Ne,$e]=ye[Pe+1],Ue=(xe+Ne)/2,ze=(Te+$e)/2,Ge=[Re+2*(xe-Re)/3,He+2*(Te-He)/3],Ve=[Ue+2*(xe-Ue)/3,ze+2*(Te-ze)/3];me.push([[Re,He],Ge,Ve,[Ue,ze]]),[Re,He]=[Ue,ze]}const[Xe,Fe]=ye[Pe],[ae,Ae]=ye[Pe+1],Le=[Re+2*(Xe-Re)/3,He+2*(Fe-He)/3],Ee=[ae+2*(Xe-ae)/3,Ae+2*(Fe-Ae)/3];return me.push([[Re,He],Le,Ee,[ae,Ae]]),me},c=new WeakSet,en=function(){if(this.isEmpty()){qe(this,ie,qn).call(this);return}qe(this,_,$i).call(this);const{canvas:ye,ctx:me}=this;me.setTransform(1,0,0,1,0,0),me.clearRect(0,0,ye.width,ye.height),qe(this,ie,qn).call(this);for(const Pe of this.bezierPath2D)me.stroke(Pe)},q=new WeakSet,Ui=function(ye){this.canvas.removeEventListener("pointerleave",Ce(this,e)),this.canvas.removeEventListener("pointermove",Ce(this,T)),this.canvas.removeEventListener("pointerup",Ce(this,t)),this.canvas.addEventListener("pointerdown",Ce(this,l)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",fe.noContextMenu)},10),qe(this,E,Cr).call(this,ye.offsetX,ye.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Q=new WeakSet,jn=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ve.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(ye=>{var me;return(me=this.canvas)==null?void 0:me.setAttribute("aria-label",ye)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ee=new WeakSet,Un=function(){Ye(this,u,new ResizeObserver(ye=>{const me=ye[0].contentRect;me.width&&me.height&&this.setDimensions(me.width,me.height)})),Ce(this,u).observe(this.div)},W=new WeakSet,hn=function(){if(!Ce(this,w))return;const[ye,me]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ye),this.canvas.height=Math.ceil(this.height*me),qe(this,ie,qn).call(this)},se=new WeakSet,qi=function(ye,me){const Pe=qe(this,_e,Hn).call(this),Re=(ye-Pe)/Ce(this,d),He=(me-Pe)/Ce(this,n);this.scaleFactor=Math.min(Re,He)},ie=new WeakSet,qn=function(){const ye=qe(this,_e,Hn).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ye,this.translationY*this.scaleFactor+ye)},Y=new WeakSet,Fr=function(ye){const me=new Path2D;for(let Pe=0,Re=ye.length;Pe<Re;Pe++){const[He,Xe,Fe,ae]=ye[Pe];Pe===0&&me.moveTo(...He),me.bezierCurveTo(Xe[0],Xe[1],Fe[0],Fe[1],ae[0],ae[1])}return me},le=new WeakSet,Hi=function(ye,me,Pe){const[Re,He,Xe,Fe]=me;switch(Pe){case 0:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2)ye[ae]+=Re,ye[ae+1]=Fe-ye[ae+1];break;case 90:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2){const Le=ye[ae];ye[ae]=ye[ae+1]+Re,ye[ae+1]=Le+He}break;case 180:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2)ye[ae]=Xe-ye[ae],ye[ae+1]+=He;break;case 270:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2){const Le=ye[ae];ye[ae]=Xe-ye[ae+1],ye[ae+1]=Fe-Le}break;default:throw new Error("Invalid rotation")}return ye},te=new WeakSet,Or=function(ye,me,Pe){const[Re,He,Xe,Fe]=me;switch(Pe){case 0:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2)ye[ae]-=Re,ye[ae+1]=Fe-ye[ae+1];break;case 90:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2){const Le=ye[ae];ye[ae]=ye[ae+1]-He,ye[ae+1]=Le-Re}break;case 180:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2)ye[ae]=Xe-ye[ae],ye[ae+1]-=He;break;case 270:for(let ae=0,Ae=ye.length;ae<Ae;ae+=2){const Le=ye[ae];ye[ae]=Fe-ye[ae+1],ye[ae+1]=Xe-Le}break;default:throw new Error("Invalid rotation")}return ye},K=new WeakSet,Rr=function(ye,me,Pe,Re){var Ae,Le;const He=[],Xe=this.thickness/2,Fe=ye*me+Xe,ae=ye*Pe+Xe;for(const Ee of this.paths){const xe=[],Te=[];for(let Ne=0,$e=Ee.length;Ne<$e;Ne++){const[Ue,ze,Ge,Ve]=Ee[Ne],Ke=ye*Ue[0]+Fe,et=ye*Ue[1]+ae,rt=ye*ze[0]+Fe,ot=ye*ze[1]+ae,ht=ye*Ge[0]+Fe,lt=ye*Ge[1]+ae,yt=ye*Ve[0]+Fe,Tt=ye*Ve[1]+ae;Ne===0&&(xe.push(Ke,et),Te.push(Ke,et)),xe.push(rt,ot,ht,lt,yt,Tt),Te.push(rt,ot),Ne===$e-1&&Te.push(yt,Tt)}He.push({bezier:qe(Ae=Be,le,Hi).call(Ae,xe,Re,this.rotation),points:qe(Le=Be,le,Hi).call(Le,Te,Re,this.rotation)})}return He},Oe=new WeakSet,Xi=function(){let ye=1/0,me=-1/0,Pe=1/0,Re=-1/0;for(const He of this.paths)for(const[Xe,Fe,ae,Ae]of He){const Le=J.Util.bezierBoundingBox(...Xe,...Fe,...ae,...Ae);ye=Math.min(ye,Le[0]),Pe=Math.min(Pe,Le[1]),me=Math.max(me,Le[2]),Re=Math.max(Re,Le[3])}return[ye,Pe,me,Re]},_e=new WeakSet,Hn=function(){return Ce(this,F)?Math.ceil(this.thickness*this.parentScale):0},oe=new WeakSet,fn=function(ye=!1){if(this.isEmpty())return;if(!Ce(this,F)){qe(this,c,en).call(this);return}const me=qe(this,Oe,Xi).call(this),Pe=qe(this,_e,Hn).call(this);Ye(this,d,Math.max(ve.AnnotationEditor.MIN_SIZE,me[2]-me[0])),Ye(this,n,Math.max(ve.AnnotationEditor.MIN_SIZE,me[3]-me[1]));const Re=Math.ceil(Pe+Ce(this,d)*this.scaleFactor),He=Math.ceil(Pe+Ce(this,n)*this.scaleFactor),[Xe,Fe]=this.parentDimensions;this.width=Re/Xe,this.height=He/Fe,this.setAspectRatio(Re,He);const ae=this.translationX,Ae=this.translationY;this.translationX=-me[0],this.translationY=-me[1],qe(this,W,hn).call(this),qe(this,c,en).call(this),Ye(this,h,Re),Ye(this,i,He),this.setDims(Re,He);const Le=ye?Pe/this.scaleFactor/2:0;this.translate(ae-this.translationX-Le,Ae-this.translationY-Le)},je(Be,Y),je(Be,le),je(Be,te),Mt(Be,"_defaultColor",null),Mt(Be,"_defaultOpacity",1),Mt(Be,"_defaultThickness",1),Mt(Be,"_type","ink");let $=Be;V.InkEditor=$},(j,V,be)=>{var $,n,d,T,e,t,l,L,F,g,w,Cn,h,kn,x,Xn,v,zi,N,Pr,D,Mr,B,Wi,P,zn,m,Dr;Object.defineProperty(V,"__esModule",{value:!0}),V.StampEditor=void 0;var J=be(1),ve=be(4),we=be(6),fe=be(29);const R=class R extends ve.AnnotationEditor{constructor(E){super({...E,name:"stampEditor"});je(this,w);je(this,h);je(this,x);je(this,v);je(this,N);je(this,D);je(this,B);je(this,P);je(this,m);je(this,$,null);je(this,n,null);je(this,d,null);je(this,T,null);je(this,e,null);je(this,t,null);je(this,l,null);je(this,L,null);je(this,F,!1);je(this,g,!1);Ye(this,T,E.bitmapUrl),Ye(this,e,E.bitmapFile)}static initialize(E){ve.AnnotationEditor.initialize(E)}static get supportedTypes(){const E=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,J.shadow)(this,"supportedTypes",E.map(k=>`image/${k}`))}static get supportedTypesStr(){return(0,J.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(E){return this.supportedTypes.includes(E)}static paste(E,k){k.pasteEditor(J.AnnotationEditorType.STAMP,{bitmapFile:E.getAsFile()})}remove(){var E,k;Ce(this,n)&&(Ye(this,$,null),this._uiManager.imageManager.deleteId(Ce(this,n)),(E=Ce(this,t))==null||E.remove(),Ye(this,t,null),(k=Ce(this,l))==null||k.disconnect(),Ye(this,l,null)),super.remove()}rebuild(){if(!this.parent){Ce(this,n)&&qe(this,x,Xn).call(this);return}super.rebuild(),this.div!==null&&(Ce(this,n)&&qe(this,x,Xn).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ce(this,d)||Ce(this,$)||Ce(this,T)||Ce(this,e))}get isResizable(){return!0}render(){if(this.div)return this.div;let E,k;if(this.width&&(E=this.x,k=this.y),super.render(),this.div.hidden=!0,Ce(this,$)?qe(this,v,zi).call(this):qe(this,x,Xn).call(this),this.width){const[M,a]=this.parentDimensions;this.setAt(E*M,k*a,this.width*M,this.height*a)}return this.div}static deserialize(E,k,M){if(E instanceof fe.StampAnnotationElement)return null;const a=super.deserialize(E,k,M),{rect:o,bitmapUrl:r,bitmapId:s,isSvg:A,accessibilityData:c}=E;s&&M.imageManager.isValidId(s)?Ye(a,n,s):Ye(a,T,r),Ye(a,F,A);const[y,q]=a.pageDimensions;return a.width=(o[2]-o[0])/y,a.height=(o[3]-o[1])/q,c&&(a.altTextData=c),a}serialize(E=!1,k=null){if(this.isEmpty())return null;const M={annotationType:J.AnnotationEditorType.STAMP,bitmapId:Ce(this,n),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ce(this,F),structTreeParentId:this._structTreeParentId};if(E)return M.bitmapUrl=qe(this,P,zn).call(this,!0),M.accessibilityData=this.altTextData,M;const{decorative:a,altText:o}=this.altTextData;if(!a&&o&&(M.accessibilityData={type:"Figure",alt:o}),k===null)return M;k.stamps||(k.stamps=new Map);const r=Ce(this,F)?(M.rect[2]-M.rect[0])*(M.rect[3]-M.rect[1]):null;if(!k.stamps.has(Ce(this,n)))k.stamps.set(Ce(this,n),{area:r,serialized:M}),M.bitmap=qe(this,P,zn).call(this,!1);else if(Ce(this,F)){const s=k.stamps.get(Ce(this,n));r>s.area&&(s.area=r,s.serialized.bitmap.close(),s.serialized.bitmap=qe(this,P,zn).call(this,!1))}return M}};$=new WeakMap,n=new WeakMap,d=new WeakMap,T=new WeakMap,e=new WeakMap,t=new WeakMap,l=new WeakMap,L=new WeakMap,F=new WeakMap,g=new WeakMap,w=new WeakSet,Cn=function(E,k=!1){if(!E){this.remove();return}Ye(this,$,E.bitmap),k||(Ye(this,n,E.id),Ye(this,F,E.isSvg)),qe(this,v,zi).call(this)},h=new WeakSet,kn=function(){Ye(this,d,null),this._uiManager.enableWaiting(!1),Ce(this,t)&&this.div.focus()},x=new WeakSet,Xn=function(){if(Ce(this,n)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ce(this,n)).then(k=>qe(this,w,Cn).call(this,k,!0)).finally(()=>qe(this,h,kn).call(this));return}if(Ce(this,T)){const k=Ce(this,T);Ye(this,T,null),this._uiManager.enableWaiting(!0),Ye(this,d,this._uiManager.imageManager.getFromUrl(k).then(M=>qe(this,w,Cn).call(this,M)).finally(()=>qe(this,h,kn).call(this)));return}if(Ce(this,e)){const k=Ce(this,e);Ye(this,e,null),this._uiManager.enableWaiting(!0),Ye(this,d,this._uiManager.imageManager.getFromFile(k).then(M=>qe(this,w,Cn).call(this,M)).finally(()=>qe(this,h,kn).call(this)));return}const E=document.createElement("input");E.type="file",E.accept=R.supportedTypesStr,Ye(this,d,new Promise(k=>{E.addEventListener("change",async()=>{if(!E.files||E.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const M=await this._uiManager.imageManager.getFromFile(E.files[0]);qe(this,w,Cn).call(this,M)}k()}),E.addEventListener("cancel",()=>{this.remove(),k()})}).finally(()=>qe(this,h,kn).call(this))),E.click()},v=new WeakSet,zi=function(){const{div:E}=this;let{width:k,height:M}=Ce(this,$);const[a,o]=this.pageDimensions,r=.75;if(this.width)k=this.width*a,M=this.height*o;else if(k>r*a||M>r*o){const y=Math.min(r*a/k,r*o/M);k*=y,M*=y}const[s,A]=this.parentDimensions;this.setDims(k*s/a,M*A/o),this._uiManager.enableWaiting(!1);const c=Ye(this,t,document.createElement("canvas"));E.append(c),E.hidden=!1,qe(this,B,Wi).call(this,k,M),qe(this,m,Dr).call(this),Ce(this,g)||(this.parent.addUndoableEditor(this),Ye(this,g,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},N=new WeakSet,Pr=function(E,k){var r;const[M,a]=this.parentDimensions;this.width=E/M,this.height=k/a,this.setDims(E,k),(r=this._initialOptions)!=null&&r.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ce(this,L)!==null&&clearTimeout(Ce(this,L)),Ye(this,L,setTimeout(()=>{Ye(this,L,null),qe(this,B,Wi).call(this,E,k)},200))},D=new WeakSet,Mr=function(E,k){const{width:M,height:a}=Ce(this,$);let o=M,r=a,s=Ce(this,$);for(;o>2*E||r>2*k;){const A=o,c=r;o>2*E&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),r>2*k&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const y=new OffscreenCanvas(o,r);y.getContext("2d").drawImage(s,0,0,A,c,0,0,o,r),s=y.transferToImageBitmap()}return s},B=new WeakSet,Wi=function(E,k){E=Math.ceil(E),k=Math.ceil(k);const M=Ce(this,t);if(!M||M.width===E&&M.height===k)return;M.width=E,M.height=k;const a=Ce(this,F)?Ce(this,$):qe(this,D,Mr).call(this,E,k),o=M.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(a,0,0,a.width,a.height,0,0,E,k)},P=new WeakSet,zn=function(E){if(E){if(Ce(this,F)){const a=this._uiManager.imageManager.getSvgUrl(Ce(this,n));if(a)return a}const k=document.createElement("canvas");return{width:k.width,height:k.height}=Ce(this,$),k.getContext("2d").drawImage(Ce(this,$),0,0),k.toDataURL()}if(Ce(this,F)){const[k,M]=this.pageDimensions,a=Math.round(this.width*k*we.PixelsPerInch.PDF_TO_CSS_UNITS),o=Math.round(this.height*M*we.PixelsPerInch.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(a,o);return r.getContext("2d").drawImage(Ce(this,$),0,0,Ce(this,$).width,Ce(this,$).height,0,0,a,o),r.transferToImageBitmap()}return structuredClone(Ce(this,$))},m=new WeakSet,Dr=function(){Ye(this,l,new ResizeObserver(E=>{const k=E[0].contentRect;k.width&&k.height&&qe(this,N,Pr).call(this,k.width,k.height)})),Ce(this,l).observe(this.div)},Mt(R,"_type","stamp");let f=R;V.StampEditor=f}],__webpack_module_cache__={};function __w_pdfjs_require__(j){var V=__webpack_module_cache__[j];if(V!==void 0)return V.exports;var be=__webpack_module_cache__[j]={exports:{}};return __webpack_modules__[j](be,be.exports,__w_pdfjs_require__),be.exports}var __webpack_exports__={};return(()=>{var j=__webpack_exports__;Object.defineProperty(j,"__esModule",{value:!0}),Object.defineProperty(j,"AbortException",{enumerable:!0,get:function(){return V.AbortException}}),Object.defineProperty(j,"AnnotationEditorLayer",{enumerable:!0,get:function(){return we.AnnotationEditorLayer}}),Object.defineProperty(j,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return V.AnnotationEditorParamsType}}),Object.defineProperty(j,"AnnotationEditorType",{enumerable:!0,get:function(){return V.AnnotationEditorType}}),Object.defineProperty(j,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return fe.AnnotationEditorUIManager}}),Object.defineProperty(j,"AnnotationLayer",{enumerable:!0,get:function(){return f.AnnotationLayer}}),Object.defineProperty(j,"AnnotationMode",{enumerable:!0,get:function(){return V.AnnotationMode}}),Object.defineProperty(j,"CMapCompressionType",{enumerable:!0,get:function(){return V.CMapCompressionType}}),Object.defineProperty(j,"DOMSVGFactory",{enumerable:!0,get:function(){return J.DOMSVGFactory}}),Object.defineProperty(j,"FeatureTest",{enumerable:!0,get:function(){return V.FeatureTest}}),Object.defineProperty(j,"GlobalWorkerOptions",{enumerable:!0,get:function(){return $.GlobalWorkerOptions}}),Object.defineProperty(j,"ImageKind",{enumerable:!0,get:function(){return V.ImageKind}}),Object.defineProperty(j,"InvalidPDFException",{enumerable:!0,get:function(){return V.InvalidPDFException}}),Object.defineProperty(j,"MissingPDFException",{enumerable:!0,get:function(){return V.MissingPDFException}}),Object.defineProperty(j,"OPS",{enumerable:!0,get:function(){return V.OPS}}),Object.defineProperty(j,"PDFDataRangeTransport",{enumerable:!0,get:function(){return be.PDFDataRangeTransport}}),Object.defineProperty(j,"PDFDateString",{enumerable:!0,get:function(){return J.PDFDateString}}),Object.defineProperty(j,"PDFWorker",{enumerable:!0,get:function(){return be.PDFWorker}}),Object.defineProperty(j,"PasswordResponses",{enumerable:!0,get:function(){return V.PasswordResponses}}),Object.defineProperty(j,"PermissionFlag",{enumerable:!0,get:function(){return V.PermissionFlag}}),Object.defineProperty(j,"PixelsPerInch",{enumerable:!0,get:function(){return J.PixelsPerInch}}),Object.defineProperty(j,"PromiseCapability",{enumerable:!0,get:function(){return V.PromiseCapability}}),Object.defineProperty(j,"RenderingCancelledException",{enumerable:!0,get:function(){return J.RenderingCancelledException}}),Object.defineProperty(j,"SVGGraphics",{enumerable:!0,get:function(){return be.SVGGraphics}}),Object.defineProperty(j,"UnexpectedResponseException",{enumerable:!0,get:function(){return V.UnexpectedResponseException}}),Object.defineProperty(j,"Util",{enumerable:!0,get:function(){return V.Util}}),Object.defineProperty(j,"VerbosityLevel",{enumerable:!0,get:function(){return V.VerbosityLevel}}),Object.defineProperty(j,"XfaLayer",{enumerable:!0,get:function(){return n.XfaLayer}}),Object.defineProperty(j,"build",{enumerable:!0,get:function(){return be.build}}),Object.defineProperty(j,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return V.createValidAbsoluteUrl}}),Object.defineProperty(j,"getDocument",{enumerable:!0,get:function(){return be.getDocument}}),Object.defineProperty(j,"getFilenameFromUrl",{enumerable:!0,get:function(){return J.getFilenameFromUrl}}),Object.defineProperty(j,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return J.getPdfFilenameFromUrl}}),Object.defineProperty(j,"getXfaPageViewport",{enumerable:!0,get:function(){return J.getXfaPageViewport}}),Object.defineProperty(j,"isDataScheme",{enumerable:!0,get:function(){return J.isDataScheme}}),Object.defineProperty(j,"isPdfFile",{enumerable:!0,get:function(){return J.isPdfFile}}),Object.defineProperty(j,"loadScript",{enumerable:!0,get:function(){return J.loadScript}}),Object.defineProperty(j,"noContextMenu",{enumerable:!0,get:function(){return J.noContextMenu}}),Object.defineProperty(j,"normalizeUnicode",{enumerable:!0,get:function(){return V.normalizeUnicode}}),Object.defineProperty(j,"renderTextLayer",{enumerable:!0,get:function(){return ve.renderTextLayer}}),Object.defineProperty(j,"setLayerDimensions",{enumerable:!0,get:function(){return J.setLayerDimensions}}),Object.defineProperty(j,"shadow",{enumerable:!0,get:function(){return V.shadow}}),Object.defineProperty(j,"updateTextLayer",{enumerable:!0,get:function(){return ve.updateTextLayer}}),Object.defineProperty(j,"version",{enumerable:!0,get:function(){return be.version}});var V=__w_pdfjs_require__(1),be=__w_pdfjs_require__(2),J=__w_pdfjs_require__(6),ve=__w_pdfjs_require__(26),we=__w_pdfjs_require__(27),fe=__w_pdfjs_require__(5),f=__w_pdfjs_require__(29),$=__w_pdfjs_require__(14),n=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker$1={exports:{}};(function(j,V){(function(J,ve){j.exports=J.pdfjsWorker=ve()})(globalThis,()=>(()=>{var be=[,(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.WorkerTask=f.WorkerMessageHandler=void 0;var n=$(2),d=$(3),T=$(4),e=$(6),t=$(10),l=$(68),L=$(73),F=$(104),g=$(105),w=$(72);class u{constructor(p){this.name=p,this.terminated=!1,this._capability=new n.PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}f.WorkerTask=u;class h{static setup(p,v){let b=!1;p.on("test",function(N){b||(b=!0,p.send("test",N instanceof Uint8Array))}),p.on("configure",function(N){(0,n.setVerbosityLevel)(N.verbosity)}),p.on("GetDocRequest",function(N){return h.createDocumentHandler(N,v)})}static createDocumentHandler(p,v){let b,N=!1,U=null;const D=new Set,I=(0,n.getVerbosityLevel)(),{docId:B,apiVersion:_}=p,P="3.11.174";if(_!==P)throw new Error(`The API version "${_}" does not match the Worker version "${P}".`);const X=[];for(const a in[])X.push(a);if(X.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+X.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const m=B+"_worker";let S=new F.MessageHandler(m,B,v);function R(){if(N)throw new Error("Worker was terminated")}function z(a){D.add(a)}function O(a){a.finish(),D.delete(a)}async function E(a){await b.ensureDoc("checkHeader"),await b.ensureDoc("parseStartXRef"),await b.ensureDoc("parse",[a]),await b.ensureDoc("checkFirstPage",[a]),await b.ensureDoc("checkLastPage",[a]);const o=await b.ensureDoc("isPureXfa");if(o){const c=new u("loadXfaFonts");z(c),await Promise.all([b.loadXfaFonts(S,c).catch(y=>{}).then(()=>O(c)),b.loadXfaImages()])}const[r,s]=await Promise.all([b.ensureDoc("numPages"),b.ensureDoc("fingerprints")]),A=o?await b.ensureDoc("htmlForXfa"):null;return{numPages:r,fingerprints:s,htmlForXfa:A}}function k({data:a,password:o,disableAutoFetch:r,rangeChunkSize:s,length:A,docBaseUrl:c,enableXfa:y,evaluatorOptions:q}){const re={source:null,disableAutoFetch:r,docBaseUrl:c,docId:B,enableXfa:y,evaluatorOptions:q,handler:S,length:A,password:o,rangeChunkSize:s},Q=new n.PromiseCapability;let de;if(a){try{re.source=a,de=new e.LocalPdfManager(re),Q.resolve(de)}catch(ne){Q.reject(ne)}return Q.promise}let ee,ue=[];try{ee=new g.PDFWorkerStream(S)}catch(ne){return Q.reject(ne),Q.promise}const W=ee.getFullReader();W.headersReady.then(function(){if(W.isRangeSupported){re.source=ee,re.length=W.contentLength,re.disableAutoFetch||(re.disableAutoFetch=W.isStreamingSupported),de=new e.NetworkPdfManager(re);for(const ne of ue)de.sendProgressiveData(ne);ue=[],Q.resolve(de),U=null}}).catch(function(ne){Q.reject(ne),U=null});let Z=0;const se=function(){const ne=(0,d.arrayBuffersToBytes)(ue);A&&ne.length!==A&&(0,n.warn)("reported HTTP length is different from actual");try{re.source=ne,de=new e.LocalPdfManager(re),Q.resolve(de)}catch(ie){Q.reject(ie)}ue=[]};return new Promise(function(ne,ie){const H=function({value:Y,done:G}){try{if(R(),G){de||se(),U=null;return}Z+=Y.byteLength,W.isStreamingSupported||S.send("DocProgress",{loaded:Z,total:Math.max(Z,W.contentLength||0)}),de?de.sendProgressiveData(Y):ue.push(Y),W.read().then(H,ie)}catch(le){ie(le)}};W.read().then(H,ie)}).catch(function(ne){Q.reject(ne),U=null}),U=function(ne){ee.cancelAllRequests(ne)},Q.promise}function M(a){function o(A){R(),S.send("GetDoc",{pdfInfo:A})}function r(A){if(R(),A instanceof n.PasswordException){const c=new u(`PasswordException: response ${A.code}`);z(c),S.sendWithPromise("PasswordRequest",A).then(function({password:y}){O(c),b.updatePassword(y),s()}).catch(function(){O(c),S.send("DocException",A)})}else A instanceof n.InvalidPDFException||A instanceof n.MissingPDFException||A instanceof n.UnexpectedResponseException||A instanceof n.UnknownErrorException?S.send("DocException",A):S.send("DocException",new n.UnknownErrorException(A.message,A.toString()))}function s(){R(),E(!1).then(o,function(A){if(R(),!(A instanceof d.XRefParseException)){r(A);return}b.requestLoadedStream().then(function(){R(),E(!0).then(o,r)})})}R(),k(a).then(function(A){if(N)throw A.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");b=A,b.requestLoadedStream(!0).then(c=>{S.send("DataLoaded",{length:c.bytes.byteLength})})}).then(s,r)}return S.on("GetPage",function(a){return b.getPage(a.pageIndex).then(function(o){return Promise.all([b.ensure(o,"rotate"),b.ensure(o,"ref"),b.ensure(o,"userUnit"),b.ensure(o,"view")]).then(function([r,s,A,c]){return{rotate:r,ref:s,userUnit:A,view:c}})})}),S.on("GetPageIndex",function(a){const o=T.Ref.get(a.num,a.gen);return b.ensureCatalog("getPageIndex",[o])}),S.on("GetDestinations",function(a){return b.ensureCatalog("destinations")}),S.on("GetDestination",function(a){return b.ensureCatalog("getDestination",[a.id])}),S.on("GetPageLabels",function(a){return b.ensureCatalog("pageLabels")}),S.on("GetPageLayout",function(a){return b.ensureCatalog("pageLayout")}),S.on("GetPageMode",function(a){return b.ensureCatalog("pageMode")}),S.on("GetViewerPreferences",function(a){return b.ensureCatalog("viewerPreferences")}),S.on("GetOpenAction",function(a){return b.ensureCatalog("openAction")}),S.on("GetAttachments",function(a){return b.ensureCatalog("attachments")}),S.on("GetDocJSActions",function(a){return b.ensureCatalog("jsActions")}),S.on("GetPageJSActions",function({pageIndex:a}){return b.getPage(a).then(function(o){return b.ensure(o,"jsActions")})}),S.on("GetOutline",function(a){return b.ensureCatalog("documentOutline")}),S.on("GetOptionalContentConfig",function(a){return b.ensureCatalog("optionalContentConfig")}),S.on("GetPermissions",function(a){return b.ensureCatalog("permissions")}),S.on("GetMetadata",function(a){return Promise.all([b.ensureDoc("documentInfo"),b.ensureCatalog("metadata")])}),S.on("GetMarkInfo",function(a){return b.ensureCatalog("markInfo")}),S.on("GetData",function(a){return b.requestLoadedStream().then(function(o){return o.bytes})}),S.on("GetAnnotations",function({pageIndex:a,intent:o}){return b.getPage(a).then(function(r){const s=new u(`GetAnnotations: page ${a}`);return z(s),r.getAnnotationsData(S,s,o).then(A=>(O(s),A),A=>{throw O(s),A})})}),S.on("GetFieldObjects",function(a){return b.ensureDoc("fieldObjects")}),S.on("HasJSActions",function(a){return b.ensureDoc("hasJSActions")}),S.on("GetCalculationOrderIds",function(a){return b.ensureDoc("calculationOrderIds")}),S.on("SaveDocument",async function({isPureXfa:a,numPages:o,annotationStorage:r,filename:s}){const A=[b.requestLoadedStream(),b.ensureCatalog("acroForm"),b.ensureCatalog("acroFormRef"),b.ensureDoc("startXRef"),b.ensureDoc("xref"),b.ensureDoc("linearization"),b.ensureCatalog("structTreeRoot")],c=[],y=a?null:(0,d.getNewAnnotationsMap)(r),[q,re,Q,de,ee,ue,W]=await Promise.all(A),Z=ee.trailer.getRaw("Root")||null;let se;if(y){W?await W.canUpdateStructTree({pdfManager:b,newAnnotationsByPage:y})&&(se=W):await w.StructTreeRoot.canCreateStructureTree({catalogRef:Z,pdfManager:b,newAnnotationsByPage:y})&&(se=null);const ge=t.AnnotationFactory.generateImages(r.values(),ee,b.evaluatorOptions.isOffscreenCanvasSupported),K=se===void 0?c:[];for(const[Se,Oe]of y)K.push(b.getPage(Se).then(Me=>{const _e=new u(`Save (editor): page ${Se}`);return Me.saveNewAnnotations(S,_e,Oe,ge).finally(function(){O(_e)})}));se===null?c.push(Promise.all(K).then(async Se=>(await w.StructTreeRoot.createStructureTree({newAnnotationsByPage:y,xref:ee,catalogRef:Z,pdfManager:b,newRefs:Se}),Se))):se&&c.push(Promise.all(K).then(async Se=>(await se.updateStructureTree({newAnnotationsByPage:y,pdfManager:b,newRefs:Se}),Se)))}if(a)c.push(b.serializeXfaData(r));else for(let ge=0;ge<o;ge++)c.push(b.getPage(ge).then(function(K){const Se=new u(`Save: page ${ge}`);return K.save(S,Se,r).finally(function(){O(Se)})}));const ne=await Promise.all(c);let ie=[],H=null;if(a){if(H=ne[0],!H)return q.bytes}else if(ie=ne.flat(2),ie.length===0)return q.bytes;const Y=Q&&re instanceof T.Dict&&ie.some(ge=>ge.needAppearances),G=re instanceof T.Dict&&re.get("XFA")||null;let le=null,ce=!1;if(Array.isArray(G)){for(let ge=0,K=G.length;ge<K;ge+=2)G[ge]==="datasets"&&(le=G[ge+1],ce=!0);le===null&&(le=ee.getNewTemporaryRef())}else G&&(0,n.warn)("Unsupported XFA type.");let te=Object.create(null);if(ee.trailer){const ge=Object.create(null),K=ee.trailer.get("Info")||null;K instanceof T.Dict&&K.forEach((Se,Oe)=>{typeof Oe=="string"&&(ge[Se]=(0,n.stringToPDFString)(Oe))}),te={rootRef:Z,encryptRef:ee.trailer.getRaw("Encrypt")||null,newRef:ee.getNewTemporaryRef(),infoRef:ee.trailer.getRaw("Info")||null,info:ge,fileIds:ee.trailer.get("ID")||null,startXRef:ue?de:ee.lastXRefStreamPos??de,filename:s}}return(0,L.incrementalUpdate)({originalData:q.bytes,xrefInfo:te,newRefs:ie,xref:ee,hasXfa:!!G,xfaDatasetsRef:le,hasXfaDatasetsEntry:ce,needAppearances:Y,acroFormRef:Q,acroForm:re,xfaData:H}).finally(()=>{ee.resetNewTemporaryRef()})}),S.on("GetOperatorList",function(a,o){const r=a.pageIndex;b.getPage(r).then(function(s){const A=new u(`GetOperatorList: page ${r}`);z(A);const c=I>=n.VerbosityLevel.INFOS?Date.now():0;s.getOperatorList({handler:S,sink:o,task:A,intent:a.intent,cacheKey:a.cacheKey,annotationStorage:a.annotationStorage}).then(function(y){O(A),c&&(0,n.info)(`page=${r+1} - getOperatorList: time=${Date.now()-c}ms, len=${y.length}`),o.close()},function(y){O(A),!A.terminated&&o.error(y)})})}),S.on("GetTextContent",function(a,o){const{pageIndex:r,includeMarkedContent:s,disableNormalization:A}=a;b.getPage(r).then(function(c){const y=new u("GetTextContent: page "+r);z(y);const q=I>=n.VerbosityLevel.INFOS?Date.now():0;c.extractTextContent({handler:S,task:y,sink:o,includeMarkedContent:s,disableNormalization:A}).then(function(){O(y),q&&(0,n.info)(`page=${r+1} - getTextContent: time=${Date.now()-q}ms`),o.close()},function(re){O(y),!y.terminated&&o.error(re)})})}),S.on("GetStructTree",function(a){return b.getPage(a.pageIndex).then(function(o){return b.ensure(o,"getStructTree")})}),S.on("FontFallback",function(a){return b.fontFallback(a.id,S)}),S.on("Cleanup",function(a){return b.cleanup(!0)}),S.on("Terminate",function(a){N=!0;const o=[];if(b){b.terminate(new n.AbortException("Worker was terminated."));const r=b.cleanup();o.push(r),b=null}else(0,l.clearGlobalCaches)();U&&U(new n.AbortException("Worker was terminated."));for(const r of D)o.push(r.finished),r.terminate();return Promise.all(o).then(function(){S.destroy(),S=null})}),S.on("Ready",function(a){M(p),p=null}),m}static initializeFromPort(p){const v=new F.MessageHandler("worker","main",p);h.setup(v,p),v.send("ready",null)}}f.WorkerMessageHandler=h;function i(x){return typeof x.postMessage=="function"&&"onmessage"in x}typeof window>"u"&&!n.isNodeJS&&typeof self<"u"&&i(self)&&h.initializeFromPort(self)},(fe,f)=>{var he;Object.defineProperty(f,"__esModule",{value:!0}),f.VerbosityLevel=f.Util=f.UnknownErrorException=f.UnexpectedResponseException=f.TextRenderingMode=f.RenderingIntentFlag=f.PromiseCapability=f.PermissionFlag=f.PasswordResponses=f.PasswordException=f.PageActionEventType=f.OPS=f.MissingPDFException=f.MAX_IMAGE_SIZE_TO_CACHE=f.LINE_FACTOR=f.LINE_DESCENT_FACTOR=f.InvalidPDFException=f.ImageKind=f.IDENTITY_MATRIX=f.FormatError=f.FeatureTest=f.FONT_IDENTITY_MATRIX=f.DocumentActionEventType=f.CMapCompressionType=f.BaseException=f.BASELINE_FACTOR=f.AnnotationType=f.AnnotationReplyType=f.AnnotationPrefix=f.AnnotationMode=f.AnnotationFlag=f.AnnotationFieldFlag=f.AnnotationEditorType=f.AnnotationEditorPrefix=f.AnnotationEditorParamsType=f.AnnotationBorderStyleType=f.AnnotationActionEventType=f.AbortException=void 0,f.assert=M,f.bytesToString=ee,f.createValidAbsoluteUrl=o,f.getModificationDate=Oe,f.getUuid=Ie,f.getVerbosityLevel=z,f.info=O,f.isArrayBuffer=K,f.isArrayEqual=Se,f.isNodeJS=void 0,f.normalizeUnicode=oe,f.objectFromMap=se,f.objectSize=Z,f.setVerbosityLevel=R,f.shadow=r,f.string32=W,f.stringToBytes=ue,f.stringToPDFString=ce,f.stringToUTF8String=te,f.unreachable=k,f.utf8StringToString=ge,f.warn=E;const $=typeof process$1=="object"&&process$1+""=="[object process]"&&!process$1.versions.nw&&!(process$1.versions.electron&&process$1.type&&process$1.type!=="browser");f.isNodeJS=$;const n=[1,0,0,1,0,0];f.IDENTITY_MATRIX=n;const d=[.001,0,0,.001,0,0];f.FONT_IDENTITY_MATRIX=d;const T=1e7;f.MAX_IMAGE_SIZE_TO_CACHE=T;const e=1.35;f.LINE_FACTOR=e;const t=.35;f.LINE_DESCENT_FACTOR=t;const l=t/e;f.BASELINE_FACTOR=l;const L={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};f.RenderingIntentFlag=L;const F={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};f.AnnotationMode=F;const g="pdfjs_internal_editor_";f.AnnotationEditorPrefix=g;const w={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};f.AnnotationEditorType=w;const u={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};f.AnnotationEditorParamsType=u;const h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};f.PermissionFlag=h;const i={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};f.TextRenderingMode=i;const x={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};f.ImageKind=x;const p={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};f.AnnotationType=p;const v={GROUP:"Group",REPLY:"R"};f.AnnotationReplyType=v;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};f.AnnotationFlag=b;const N={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};f.AnnotationFieldFlag=N;const U={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};f.AnnotationBorderStyleType=U;const D={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};f.AnnotationActionEventType=D;const I={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};f.DocumentActionEventType=I;const B={O:"PageOpen",C:"PageClose"};f.PageActionEventType=B;const _={ERRORS:0,WARNINGS:1,INFOS:5};f.VerbosityLevel=_;const P={NONE:0,BINARY:1};f.CMapCompressionType=P;const X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};f.OPS=X;const m={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};f.PasswordResponses=m;let S=_.WARNINGS;function R(De){Number.isInteger(De)&&(S=De)}function z(){return S}function O(De){S>=_.INFOS&&console.log(`Info: ${De}`)}function E(De){S>=_.WARNINGS&&console.log(`Warning: ${De}`)}function k(De){throw new Error(De)}function M(De,ye){De||k(ye)}function a(De){switch(De==null?void 0:De.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function o(De,ye=null,me=null){if(!De)return null;try{if(me&&typeof De=="string"){if(me.addDefaultProtocol&&De.startsWith("www.")){const Re=De.match(/\./g);(Re==null?void 0:Re.length)>=2&&(De=`http://${De}`)}if(me.tryConvertEncoding)try{De=te(De)}catch{}}const Pe=ye?new URL(De,ye):new URL(De);if(a(Pe))return Pe}catch{}return null}function r(De,ye,me,Pe=!1){return Object.defineProperty(De,ye,{value:me,enumerable:!Pe,configurable:!0,writable:!1}),me}const s=function(){function ye(me,Pe){this.constructor===ye&&k("Cannot initialize BaseException."),this.message=me,this.name=Pe}return ye.prototype=new Error,ye.constructor=ye,ye}();f.BaseException=s;class A extends s{constructor(ye,me){super(ye,"PasswordException"),this.code=me}}f.PasswordException=A;class c extends s{constructor(ye,me){super(ye,"UnknownErrorException"),this.details=me}}f.UnknownErrorException=c;class y extends s{constructor(ye){super(ye,"InvalidPDFException")}}f.InvalidPDFException=y;class q extends s{constructor(ye){super(ye,"MissingPDFException")}}f.MissingPDFException=q;class re extends s{constructor(ye,me){super(ye,"UnexpectedResponseException"),this.status=me}}f.UnexpectedResponseException=re;class Q extends s{constructor(ye){super(ye,"FormatError")}}f.FormatError=Q;class de extends s{constructor(ye){super(ye,"AbortException")}}f.AbortException=de;function ee(De){(typeof De!="object"||(De==null?void 0:De.length)===void 0)&&k("Invalid argument for bytesToString");const ye=De.length,me=8192;if(ye<me)return String.fromCharCode.apply(null,De);const Pe=[];for(let Re=0;Re<ye;Re+=me){const He=Math.min(Re+me,ye),Xe=De.subarray(Re,He);Pe.push(String.fromCharCode.apply(null,Xe))}return Pe.join("")}function ue(De){typeof De!="string"&&k("Invalid argument for stringToBytes");const ye=De.length,me=new Uint8Array(ye);for(let Pe=0;Pe<ye;++Pe)me[Pe]=De.charCodeAt(Pe)&255;return me}function W(De){return String.fromCharCode(De>>24&255,De>>16&255,De>>8&255,De&255)}function Z(De){return Object.keys(De).length}function se(De){const ye=Object.create(null);for(const[me,Pe]of De)ye[me]=Pe;return ye}function ne(){const De=new Uint8Array(4);return De[0]=1,new Uint32Array(De.buffer,0,1)[0]===1}function ie(){try{return new Function(""),!0}catch{return!1}}class H{static get isLittleEndian(){return r(this,"isLittleEndian",ne())}static get isEvalSupported(){return r(this,"isEvalSupported",ie())}static get isOffscreenCanvasSupported(){return r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?r(this,"platform",{isWin:!1,isMac:!1}):r(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var ye,me;return r(this,"isCSSRoundSupported",(me=(ye=globalThis.CSS)==null?void 0:ye.supports)==null?void 0:me.call(ye,"width: round(1.5px, 1px)"))}}f.FeatureTest=H;const Y=[...Array(256).keys()].map(De=>De.toString(16).padStart(2,"0"));class G{static makeHexColor(ye,me,Pe){return`#${Y[ye]}${Y[me]}${Y[Pe]}`}static scaleMinMax(ye,me){let Pe;ye[0]?(ye[0]<0&&(Pe=me[0],me[0]=me[1],me[1]=Pe),me[0]*=ye[0],me[1]*=ye[0],ye[3]<0&&(Pe=me[2],me[2]=me[3],me[3]=Pe),me[2]*=ye[3],me[3]*=ye[3]):(Pe=me[0],me[0]=me[2],me[2]=Pe,Pe=me[1],me[1]=me[3],me[3]=Pe,ye[1]<0&&(Pe=me[2],me[2]=me[3],me[3]=Pe),me[2]*=ye[1],me[3]*=ye[1],ye[2]<0&&(Pe=me[0],me[0]=me[1],me[1]=Pe),me[0]*=ye[2],me[1]*=ye[2]),me[0]+=ye[4],me[1]+=ye[4],me[2]+=ye[5],me[3]+=ye[5]}static transform(ye,me){return[ye[0]*me[0]+ye[2]*me[1],ye[1]*me[0]+ye[3]*me[1],ye[0]*me[2]+ye[2]*me[3],ye[1]*me[2]+ye[3]*me[3],ye[0]*me[4]+ye[2]*me[5]+ye[4],ye[1]*me[4]+ye[3]*me[5]+ye[5]]}static applyTransform(ye,me){const Pe=ye[0]*me[0]+ye[1]*me[2]+me[4],Re=ye[0]*me[1]+ye[1]*me[3]+me[5];return[Pe,Re]}static applyInverseTransform(ye,me){const Pe=me[0]*me[3]-me[1]*me[2],Re=(ye[0]*me[3]-ye[1]*me[2]+me[2]*me[5]-me[4]*me[3])/Pe,He=(-ye[0]*me[1]+ye[1]*me[0]+me[4]*me[1]-me[5]*me[0])/Pe;return[Re,He]}static getAxialAlignedBoundingBox(ye,me){const Pe=this.applyTransform(ye,me),Re=this.applyTransform(ye.slice(2,4),me),He=this.applyTransform([ye[0],ye[3]],me),Xe=this.applyTransform([ye[2],ye[1]],me);return[Math.min(Pe[0],Re[0],He[0],Xe[0]),Math.min(Pe[1],Re[1],He[1],Xe[1]),Math.max(Pe[0],Re[0],He[0],Xe[0]),Math.max(Pe[1],Re[1],He[1],Xe[1])]}static inverseTransform(ye){const me=ye[0]*ye[3]-ye[1]*ye[2];return[ye[3]/me,-ye[1]/me,-ye[2]/me,ye[0]/me,(ye[2]*ye[5]-ye[4]*ye[3])/me,(ye[4]*ye[1]-ye[5]*ye[0])/me]}static singularValueDecompose2dScale(ye){const me=[ye[0],ye[2],ye[1],ye[3]],Pe=ye[0]*me[0]+ye[1]*me[2],Re=ye[0]*me[1]+ye[1]*me[3],He=ye[2]*me[0]+ye[3]*me[2],Xe=ye[2]*me[1]+ye[3]*me[3],Fe=(Pe+Xe)/2,ae=Math.sqrt((Pe+Xe)**2-4*(Pe*Xe-He*Re))/2,Ae=Fe+ae||1,Le=Fe-ae||1;return[Math.sqrt(Ae),Math.sqrt(Le)]}static normalizeRect(ye){const me=ye.slice(0);return ye[0]>ye[2]&&(me[0]=ye[2],me[2]=ye[0]),ye[1]>ye[3]&&(me[1]=ye[3],me[3]=ye[1]),me}static intersect(ye,me){const Pe=Math.max(Math.min(ye[0],ye[2]),Math.min(me[0],me[2])),Re=Math.min(Math.max(ye[0],ye[2]),Math.max(me[0],me[2]));if(Pe>Re)return null;const He=Math.max(Math.min(ye[1],ye[3]),Math.min(me[1],me[3])),Xe=Math.min(Math.max(ye[1],ye[3]),Math.max(me[1],me[3]));return He>Xe?null:[Pe,He,Re,Xe]}static bezierBoundingBox(ye,me,Pe,Re,He,Xe,Fe,ae){const Ae=[],Le=[[],[]];let Ee,xe,Te,Ne,$e,Ue,ze,Ge;for(let rt=0;rt<2;++rt){if(rt===0?(xe=6*ye-12*Pe+6*He,Ee=-3*ye+9*Pe-9*He+3*Fe,Te=3*Pe-3*ye):(xe=6*me-12*Re+6*Xe,Ee=-3*me+9*Re-9*Xe+3*ae,Te=3*Re-3*me),Math.abs(Ee)<1e-12){if(Math.abs(xe)<1e-12)continue;Ne=-Te/xe,0<Ne&&Ne<1&&Ae.push(Ne);continue}ze=xe*xe-4*Te*Ee,Ge=Math.sqrt(ze),!(ze<0)&&($e=(-xe+Ge)/(2*Ee),0<$e&&$e<1&&Ae.push($e),Ue=(-xe-Ge)/(2*Ee),0<Ue&&Ue<1&&Ae.push(Ue))}let Ve=Ae.length,Ke;const et=Ve;for(;Ve--;)Ne=Ae[Ve],Ke=1-Ne,Le[0][Ve]=Ke*Ke*Ke*ye+3*Ke*Ke*Ne*Pe+3*Ke*Ne*Ne*He+Ne*Ne*Ne*Fe,Le[1][Ve]=Ke*Ke*Ke*me+3*Ke*Ke*Ne*Re+3*Ke*Ne*Ne*Xe+Ne*Ne*Ne*ae;return Le[0][et]=ye,Le[1][et]=me,Le[0][et+1]=Fe,Le[1][et+1]=ae,Le[0].length=Le[1].length=et+2,[Math.min(...Le[0]),Math.min(...Le[1]),Math.max(...Le[0]),Math.max(...Le[1])]}}f.Util=G;const le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ce(De){if(De[0]>=""){let me;if(De[0]===""&&De[1]===""?me="utf-16be":De[0]===""&&De[1]===""?me="utf-16le":De[0]===""&&De[1]===""&&De[2]===""&&(me="utf-8"),me)try{const Pe=new TextDecoder(me,{fatal:!0}),Re=ue(De);return Pe.decode(Re)}catch(Pe){E(`stringToPDFString: "${Pe}".`)}}const ye=[];for(let me=0,Pe=De.length;me<Pe;me++){const Re=le[De.charCodeAt(me)];ye.push(Re?String.fromCharCode(Re):De.charAt(me))}return ye.join("")}function te(De){return decodeURIComponent(escape(De))}function ge(De){return unescape(encodeURIComponent(De))}function K(De){return typeof De=="object"&&(De==null?void 0:De.byteLength)!==void 0}function Se(De,ye){if(De.length!==ye.length)return!1;for(let me=0,Pe=De.length;me<Pe;me++)if(De[me]!==ye[me])return!1;return!0}function Oe(De=new Date){return[De.getUTCFullYear().toString(),(De.getUTCMonth()+1).toString().padStart(2,"0"),De.getUTCDate().toString().padStart(2,"0"),De.getUTCHours().toString().padStart(2,"0"),De.getUTCMinutes().toString().padStart(2,"0"),De.getUTCSeconds().toString().padStart(2,"0")].join("")}class Me{constructor(){je(this,he,!1);this.promise=new Promise((ye,me)=>{this.resolve=Pe=>{Ye(this,he,!0),ye(Pe)},this.reject=Pe=>{Ye(this,he,!0),me(Pe)}})}get settled(){return Ce(this,he)}}he=new WeakMap,f.PromiseCapability=Me;let _e=null,ke=null;function oe(De){return _e||(_e=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ke=new Map([["","t"]])),De.replaceAll(_e,(ye,me,Pe)=>me?me.normalize("NFKC"):ke.get(Pe))}function Ie(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const De=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(De);else for(let ye=0;ye<32;ye++)De[ye]=Math.floor(Math.random()*255);return ee(De)}const Be="pdfjs_internal_id_";f.AnnotationPrefix=Be},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XRefParseException=f.XRefEntryException=f.ParserEOFException=f.PDF_VERSION_REGEXP=f.MissingDataException=void 0,f.arrayBuffersToBytes=w,f.collectActions=_,f.encodeToXmlString=X,f.escapePDFName=D,f.escapeString=I,f.getInheritableProperty=u,f.getLookupTableFactory=t,f.getNewAnnotationsMap=O,f.getRotationMatrix=a,f.isAscii=E,f.isWhiteSpace=N,f.log2=x,f.numberToString=z,f.parseXFAPath=U,f.readInt8=p,f.readUint16=v,f.readUint32=b,f.recoverJsURL=R,f.stringToUTF16HexString=k,f.stringToUTF16String=M,f.toRomanNumerals=i,f.validateCSSFont=S,f.validateFontName=m;var n=$(2),d=$(4),T=$(5);const e=/^[1-9]\.\d$/;f.PDF_VERSION_REGEXP=e;function t(o){let r;return function(){return o&&(r=Object.create(null),o(r),o=null),r}}class l extends n.BaseException{constructor(r,s){super(`Missing data [${r}, ${s})`,"MissingDataException"),this.begin=r,this.end=s}}f.MissingDataException=l;class L extends n.BaseException{constructor(r){super(r,"ParserEOFException")}}f.ParserEOFException=L;class F extends n.BaseException{constructor(r){super(r,"XRefEntryException")}}f.XRefEntryException=F;class g extends n.BaseException{constructor(r){super(r,"XRefParseException")}}f.XRefParseException=g;function w(o){const r=o.length;if(r===0)return new Uint8Array(0);if(r===1)return new Uint8Array(o[0]);let s=0;for(let y=0;y<r;y++)s+=o[y].byteLength;const A=new Uint8Array(s);let c=0;for(let y=0;y<r;y++){const q=new Uint8Array(o[y]);A.set(q,c),c+=q.byteLength}return A}function u({dict:o,key:r,getArray:s=!1,stopWhenFound:A=!0}){let c;const y=new d.RefSet;for(;o instanceof d.Dict&&!(o.objId&&y.has(o.objId));){o.objId&&y.put(o.objId);const q=s?o.getArray(r):o.get(r);if(q!==void 0){if(A)return q;(c||(c=[])).push(q)}o=o.get("Parent")}return c}const h=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function i(o,r=!1){(0,n.assert)(Number.isInteger(o)&&o>0,"The number should be a positive integer.");const s=[];let A;for(;o>=1e3;)o-=1e3,s.push("M");A=o/100|0,o%=100,s.push(h[A]),A=o/10|0,o%=10,s.push(h[10+A]),s.push(h[20+o]);const c=s.join("");return r?c.toLowerCase():c}function x(o){return o<=0?0:Math.ceil(Math.log2(o))}function p(o,r){return o[r]<<24>>24}function v(o,r){return o[r]<<8|o[r+1]}function b(o,r){return(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3])>>>0}function N(o){return o===32||o===9||o===13||o===10}function U(o){const r=/(.+)\[(\d+)\]$/;return o.split(".").map(s=>{const A=s.match(r);return A?{name:A[1],pos:parseInt(A[2],10)}:{name:s,pos:0}})}function D(o){const r=[];let s=0;for(let A=0,c=o.length;A<c;A++){const y=o.charCodeAt(A);(y<33||y>126||y===35||y===40||y===41||y===60||y===62||y===91||y===93||y===123||y===125||y===47||y===37)&&(s<A&&r.push(o.substring(s,A)),r.push(`#${y.toString(16)}`),s=A+1)}return r.length===0?o:(s<o.length&&r.push(o.substring(s,o.length)),r.join(""))}function I(o){return o.replaceAll(/([()\\\n\r])/g,r=>r===`
`?"\\n":r==="\r"?"\\r":`\\${r}`)}function B(o,r,s,A){if(!o)return;let c=null;if(o instanceof d.Ref){if(A.has(o))return;c=o,A.put(c),o=r.fetch(o)}if(Array.isArray(o))for(const y of o)B(y,r,s,A);else if(o instanceof d.Dict){if((0,d.isName)(o.get("S"),"JavaScript")){const y=o.get("JS");let q;y instanceof T.BaseStream?q=y.getString():typeof y=="string"&&(q=y),q&&(q=(0,n.stringToPDFString)(q).replaceAll("\0","")),q&&s.push(q)}B(o.getRaw("Next"),r,s,A)}c&&A.remove(c)}function _(o,r,s){const A=Object.create(null),c=u({dict:r,key:"AA",stopWhenFound:!1});if(c)for(let y=c.length-1;y>=0;y--){const q=c[y];if(q instanceof d.Dict)for(const re of q.getKeys()){const Q=s[re];if(!Q)continue;const de=q.getRaw(re),ee=new d.RefSet,ue=[];B(de,o,ue,ee),ue.length>0&&(A[Q]=ue)}}if(r.has("A")){const y=r.get("A"),q=new d.RefSet,re=[];B(y,o,re,q),re.length>0&&(A.Action=re)}return(0,n.objectSize)(A)>0?A:null}const P={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function X(o){const r=[];let s=0;for(let A=0,c=o.length;A<c;A++){const y=o.codePointAt(A);if(32<=y&&y<=126){const q=P[y];q&&(s<A&&r.push(o.substring(s,A)),r.push(q),s=A+1)}else s<A&&r.push(o.substring(s,A)),r.push(`&#x${y.toString(16).toUpperCase()};`),y>55295&&(y<57344||y>65533)&&A++,s=A+1}return r.length===0?o:(s<o.length&&r.push(o.substring(s,o.length)),r.join(""))}function m(o,r=!1){const s=/^("|').*("|')$/.exec(o);if(s&&s[1]===s[2]){if(new RegExp(`[^\\\\]${s[1]}`).test(o.slice(1,-1)))return r&&(0,n.warn)(`FontFamily contains unescaped ${s[1]}: ${o}.`),!1}else for(const A of o.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(A)||!/^[\w-\\]+$/.test(A))return r&&(0,n.warn)(`FontFamily contains invalid <custom-ident>: ${o}.`),!1;return!0}function S(o){const r="14",s="400",A=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:c,fontWeight:y,italicAngle:q}=o;if(!m(c,!0))return!1;const re=y?y.toString():"";o.fontWeight=A.has(re)?re:s;const Q=parseFloat(q);return o.italicAngle=isNaN(Q)||Q<-90||Q>90?r:q.toString(),!0}function R(o){const r=["app.launchURL","window.open","xfa.host.gotoURL"],A=new RegExp("^\\s*("+r.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(o);if(A!=null&&A[2]){const c=A[2];let y=!1;return A[3]==="true"&&A[1]==="app.launchURL"&&(y=!0),{url:c,newWindow:y}}return null}function z(o){if(Number.isInteger(o))return o.toString();const r=Math.round(o*100);return r%100===0?(r/100).toString():r%10===0?o.toFixed(1):o.toFixed(2)}function O(o){if(!o)return null;const r=new Map;for(const[s,A]of o){if(!s.startsWith(n.AnnotationEditorPrefix))continue;let c=r.get(A.pageIndex);c||(c=[],r.set(A.pageIndex,c)),c.push(A)}return r.size>0?r:null}function E(o){return/^[\x00-\x7F]*$/.test(o)}function k(o){const r=[];for(let s=0,A=o.length;s<A;s++){const c=o.charCodeAt(s);r.push((c>>8&255).toString(16).padStart(2,"0"),(c&255).toString(16).padStart(2,"0"))}return r.join("")}function M(o,r=!1){const s=[];r&&s.push("");for(let A=0,c=o.length;A<c;A++){const y=o.charCodeAt(A);s.push(String.fromCharCode(y>>8&255),String.fromCharCode(y&255))}return s.join("")}function a(o,r,s){switch(o){case 90:return[0,1,-1,0,r,0];case 180:return[-1,0,0,-1,r,s];case 270:return[0,-1,1,0,0,s];default:throw new Error("Invalid rotation")}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RefSetCache=f.RefSet=f.Ref=f.Name=f.EOF=f.Dict=f.Cmd=f.CIRCULAR_REF=void 0,f.clearPrimitiveCaches=L,f.isCmd=v,f.isDict=b,f.isName=p,f.isRefsEqual=N;var n=$(2);const d=Symbol("CIRCULAR_REF");f.CIRCULAR_REF=d;const T=Symbol("EOF");f.EOF=T;let e=Object.create(null),t=Object.create(null),l=Object.create(null);function L(){e=Object.create(null),t=Object.create(null),l=Object.create(null)}class F{constructor(D){this.name=D}static get(D){return t[D]||(t[D]=new F(D))}}f.Name=F;class g{constructor(D){this.cmd=D}static get(D){return e[D]||(e[D]=new g(D))}}f.Cmd=g;const w=function(){return w};class u{constructor(D=null){this._map=Object.create(null),this.xref=D,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=w}assignXref(D){this.xref=D}get size(){return Object.keys(this._map).length}get(D,I,B){let _=this._map[D];return _===void 0&&I!==void 0&&(_=this._map[I],_===void 0&&B!==void 0&&(_=this._map[B])),_ instanceof h&&this.xref?this.xref.fetch(_,this.suppressEncryption):_}async getAsync(D,I,B){let _=this._map[D];return _===void 0&&I!==void 0&&(_=this._map[I],_===void 0&&B!==void 0&&(_=this._map[B])),_ instanceof h&&this.xref?this.xref.fetchAsync(_,this.suppressEncryption):_}getArray(D,I,B){let _=this._map[D];if(_===void 0&&I!==void 0&&(_=this._map[I],_===void 0&&B!==void 0&&(_=this._map[B])),_ instanceof h&&this.xref&&(_=this.xref.fetch(_,this.suppressEncryption)),Array.isArray(_)){_=_.slice();for(let P=0,X=_.length;P<X;P++)_[P]instanceof h&&this.xref&&(_[P]=this.xref.fetch(_[P],this.suppressEncryption))}return _}getRaw(D){return this._map[D]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(D,I){this._map[D]=I}has(D){return this._map[D]!==void 0}forEach(D){for(const I in this._map)D(I,this.get(I))}static get empty(){const D=new u(null);return D.set=(I,B)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",D)}static merge({xref:D,dictArray:I,mergeSubDicts:B=!1}){const _=new u(D),P=new Map;for(const X of I)if(X instanceof u)for(const[m,S]of Object.entries(X._map)){let R=P.get(m);if(R===void 0)R=[],P.set(m,R);else if(!B||!(S instanceof u))continue;R.push(S)}for(const[X,m]of P){if(m.length===1||!(m[0]instanceof u)){_._map[X]=m[0];continue}const S=new u(D);for(const R of m)for(const[z,O]of Object.entries(R._map))S._map[z]===void 0&&(S._map[z]=O);S.size>0&&(_._map[X]=S)}return P.clear(),_.size>0?_:u.empty}clone(){const D=new u(this.xref);for(const I of this.getKeys())D.set(I,this.getRaw(I));return D}}f.Dict=u;class h{constructor(D,I){this.num=D,this.gen=I}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(D){const I=l[D];if(I)return I;const B=/^(\d+)R(\d*)$/.exec(D);return!B||B[1]==="0"?null:l[D]=new h(parseInt(B[1]),B[2]?parseInt(B[2]):0)}static get(D,I){const B=I===0?`${D}R`:`${D}R${I}`;return l[B]||(l[B]=new h(D,I))}}f.Ref=h;class i{constructor(D=null){this._set=new Set(D==null?void 0:D._set)}has(D){return this._set.has(D.toString())}put(D){this._set.add(D.toString())}remove(D){this._set.delete(D.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}f.RefSet=i;class x{constructor(){this._map=new Map}get size(){return this._map.size}get(D){return this._map.get(D.toString())}has(D){return this._map.has(D.toString())}put(D,I){this._map.set(D.toString(),I)}putAlias(D,I){this._map.set(D.toString(),this.get(I))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}f.RefSetCache=x;function p(U,D){return U instanceof F&&(D===void 0||U.name===D)}function v(U,D){return U instanceof g&&(D===void 0||U.cmd===D)}function b(U,D){return U instanceof u&&(D===void 0||p(U.get("Type"),D))}function N(U,D){return U.num===D.num&&U.gen===D.gen}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BaseStream=void 0;var n=$(2);class d{constructor(){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(e){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const t=this.getBytes(e);return this.pos-=t.length,t}getUint16(){const e=this.getByte(),t=this.getByte();return e===-1||t===-1?-1:(e<<8)+t}getInt32(){const e=this.getByte(),t=this.getByte(),l=this.getByte(),L=this.getByte();return(e<<24)+(t<<16)+(l<<8)+L}getByteRange(e,t){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,n.bytesToString)(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,t,l=null){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}f.BaseStream=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NetworkPdfManager=f.LocalPdfManager=void 0;var n=$(2),d=$(7),T=$(3),e=$(9),t=$(8);function l(w){if(w){const u=(0,n.createValidAbsoluteUrl)(w);if(u)return u.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${w}".`)}return null}class L{constructor(u){var h;this.constructor===L&&(0,n.unreachable)("Cannot initialize BasePdfManager."),this._docBaseUrl=l(u.docBaseUrl),this._docId=u.docId,this._password=u.password,this.enableXfa=u.enableXfa,(h=u.evaluatorOptions).isOffscreenCanvasSupported&&(h.isOffscreenCanvasSupported=n.FeatureTest.isOffscreenCanvasSupported),this.evaluatorOptions=u.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(u,h){return this.ensure(this.pdfDocument,u,h)}ensureXRef(u,h){return this.ensure(this.pdfDocument.xref,u,h)}ensureCatalog(u,h){return this.ensure(this.pdfDocument.catalog,u,h)}getPage(u){return this.pdfDocument.getPage(u)}fontFallback(u,h){return this.pdfDocument.fontFallback(u,h)}loadXfaFonts(u,h){return this.pdfDocument.loadXfaFonts(u,h)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(u){return this.pdfDocument.serializeXfaData(u)}cleanup(u=!1){return this.pdfDocument.cleanup(u)}async ensure(u,h,i){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(u,h){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(u=!1){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(u){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(u){this._password=u}terminate(u){(0,n.unreachable)("Abstract method `terminate` called")}}class F extends L{constructor(u){super(u);const h=new t.Stream(u.source);this.pdfDocument=new e.PDFDocument(this,h),this._loadedStreamPromise=Promise.resolve(h)}async ensure(u,h,i){const x=u[h];return typeof x=="function"?x.apply(u,i):x}requestRange(u,h){return Promise.resolve()}requestLoadedStream(u=!1){return this._loadedStreamPromise}terminate(u){}}f.LocalPdfManager=F;class g extends L{constructor(u){super(u),this.streamManager=new d.ChunkedStreamManager(u.source,{msgHandler:u.handler,length:u.length,disableAutoFetch:u.disableAutoFetch,rangeChunkSize:u.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(u,h,i){try{const x=u[h];return typeof x=="function"?x.apply(u,i):x}catch(x){if(!(x instanceof T.MissingDataException))throw x;return await this.requestRange(x.begin,x.end),this.ensure(u,h,i)}}requestRange(u,h){return this.streamManager.requestRange(u,h)}requestLoadedStream(u=!1){return this.streamManager.requestAllChunks(u)}sendProgressiveData(u){this.streamManager.onReceiveData({chunk:u})}terminate(u){this.streamManager.abort(u)}}f.NetworkPdfManager=g},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ChunkedStreamManager=f.ChunkedStream=void 0;var n=$(3),d=$(2),T=$(8);class e extends T.Stream{constructor(L,F,g){super(new Uint8Array(L),0,L,null),this.chunkSize=F,this._loadedChunks=new Set,this.numChunks=Math.ceil(L/F),this.manager=g,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const L=[];for(let F=0,g=this.numChunks;F<g;++F)this._loadedChunks.has(F)||L.push(F);return L}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(L,F){const g=this.chunkSize;if(L%g!==0)throw new Error(`Bad begin offset: ${L}`);const w=L+F.byteLength;if(w%g!==0&&w!==this.bytes.length)throw new Error(`Bad end offset: ${w}`);this.bytes.set(new Uint8Array(F),L);const u=Math.floor(L/g),h=Math.floor((w-1)/g)+1;for(let i=u;i<h;++i)this._loadedChunks.add(i)}onReceiveProgressiveData(L){let F=this.progressiveDataLength;const g=Math.floor(F/this.chunkSize);this.bytes.set(new Uint8Array(L),F),F+=L.byteLength,this.progressiveDataLength=F;const w=F>=this.end?this.numChunks:Math.floor(F/this.chunkSize);for(let u=g;u<w;++u)this._loadedChunks.add(u)}ensureByte(L){if(L<this.progressiveDataLength)return;const F=Math.floor(L/this.chunkSize);if(!(F>this.numChunks)&&F!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(F))throw new n.MissingDataException(L,L+1);this.lastSuccessfulEnsureByteChunk=F}}ensureRange(L,F){if(L>=F||F<=this.progressiveDataLength)return;const g=Math.floor(L/this.chunkSize);if(g>this.numChunks)return;const w=Math.min(Math.floor((F-1)/this.chunkSize)+1,this.numChunks);for(let u=g;u<w;++u)if(!this._loadedChunks.has(u))throw new n.MissingDataException(L,F)}nextEmptyChunk(L){const F=this.numChunks;for(let g=0;g<F;++g){const w=(L+g)%F;if(!this._loadedChunks.has(w))return w}return null}hasChunk(L){return this._loadedChunks.has(L)}getByte(){const L=this.pos;return L>=this.end?-1:(L>=this.progressiveDataLength&&this.ensureByte(L),this.bytes[this.pos++])}getBytes(L){const F=this.bytes,g=this.pos,w=this.end;if(!L)return w>this.progressiveDataLength&&this.ensureRange(g,w),F.subarray(g,w);let u=g+L;return u>w&&(u=w),u>this.progressiveDataLength&&this.ensureRange(g,u),this.pos=u,F.subarray(g,u)}getByteRange(L,F){return L<0&&(L=0),F>this.end&&(F=this.end),F>this.progressiveDataLength&&this.ensureRange(L,F),this.bytes.subarray(L,F)}makeSubStream(L,F,g=null){F?L+F>this.progressiveDataLength&&this.ensureRange(L,L+F):L>=this.progressiveDataLength&&this.ensureByte(L);function w(){}w.prototype=Object.create(this),w.prototype.getMissingChunks=function(){const h=this.chunkSize,i=Math.floor(this.start/h),x=Math.floor((this.end-1)/h)+1,p=[];for(let v=i;v<x;++v)this._loadedChunks.has(v)||p.push(v);return p},Object.defineProperty(w.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const u=new w;return u.pos=u.start=L,u.end=L+F||this.end,u.dict=g,u}getBaseStreams(){return[this]}}f.ChunkedStream=e;class t{constructor(L,F){this.length=F.length,this.chunkSize=F.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=L,this.disableAutoFetch=F.disableAutoFetch,this.msgHandler=F.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new d.PromiseCapability}sendRequest(L,F){const g=this.pdfNetworkStream.getRangeReader(L,F);g.isStreamingSupported||(g.onProgress=this.onProgress.bind(this));let w=[],u=0;return new Promise((h,i)=>{const x=({value:p,done:v})=>{try{if(v){const b=(0,n.arrayBuffersToBytes)(w);w=null,h(b);return}u+=p.byteLength,g.isStreamingSupported&&this.onProgress({loaded:u}),w.push(p),g.read().then(x,i)}catch(b){i(b)}};g.read().then(x,i)}).then(h=>{this.aborted||this.onReceiveData({chunk:h,begin:L})})}requestAllChunks(L=!1){if(!L){const F=this.stream.getMissingChunks();this._requestChunks(F)}return this._loadedStreamCapability.promise}_requestChunks(L){const F=this.currRequestId++,g=new Set;this._chunksNeededByRequest.set(F,g);for(const h of L)this.stream.hasChunk(h)||g.add(h);if(g.size===0)return Promise.resolve();const w=new d.PromiseCapability;this._promisesByRequest.set(F,w);const u=[];for(const h of g){let i=this._requestsByChunk.get(h);i||(i=[],this._requestsByChunk.set(h,i),u.push(h)),i.push(F)}if(u.length>0){const h=this.groupChunks(u);for(const i of h){const x=i.beginChunk*this.chunkSize,p=Math.min(i.endChunk*this.chunkSize,this.length);this.sendRequest(x,p).catch(w.reject)}}return w.promise.catch(h=>{if(!this.aborted)throw h})}getStream(){return this.stream}requestRange(L,F){F=Math.min(F,this.length);const g=this.getBeginChunk(L),w=this.getEndChunk(F),u=[];for(let h=g;h<w;++h)u.push(h);return this._requestChunks(u)}requestRanges(L=[]){const F=[];for(const g of L){const w=this.getBeginChunk(g.begin),u=this.getEndChunk(g.end);for(let h=w;h<u;++h)F.includes(h)||F.push(h)}return F.sort(function(g,w){return g-w}),this._requestChunks(F)}groupChunks(L){const F=[];let g=-1,w=-1;for(let u=0,h=L.length;u<h;++u){const i=L[u];g<0&&(g=i),w>=0&&w+1!==i&&(F.push({beginChunk:g,endChunk:w+1}),g=i),u+1===L.length&&F.push({beginChunk:g,endChunk:i+1}),w=i}return F}onProgress(L){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+L.loaded,total:this.length})}onReceiveData(L){const F=L.chunk,g=L.begin===void 0,w=g?this.progressiveDataLength:L.begin,u=w+F.byteLength,h=Math.floor(w/this.chunkSize),i=u<this.length?Math.floor(u/this.chunkSize):Math.ceil(u/this.chunkSize);g?(this.stream.onReceiveProgressiveData(F),this.progressiveDataLength=u):this.stream.onReceiveData(w,F),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const x=[];for(let p=h;p<i;++p){const v=this._requestsByChunk.get(p);if(v){this._requestsByChunk.delete(p);for(const b of v){const N=this._chunksNeededByRequest.get(b);N.has(p)&&N.delete(p),!(N.size>0)&&x.push(b)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let p;if(this.stream.numChunksLoaded===1){const v=this.stream.numChunks-1;this.stream.hasChunk(v)||(p=v)}else p=this.stream.nextEmptyChunk(i);Number.isInteger(p)&&this._requestChunks([p])}for(const p of x){const v=this._promisesByRequest.get(p);this._promisesByRequest.delete(p),v.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(L){this._loadedStreamCapability.reject(L)}getBeginChunk(L){return Math.floor(L/this.chunkSize)}getEndChunk(L){return Math.floor((L-1)/this.chunkSize)+1}abort(L){var F;this.aborted=!0,(F=this.pdfNetworkStream)==null||F.cancelAllRequests(L);for(const g of this._promisesByRequest.values())g.reject(L)}}f.ChunkedStreamManager=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StringStream=f.Stream=f.NullStream=void 0;var n=$(5),d=$(2);class T extends n.BaseStream{constructor(L,F,g,w){super(),this.bytes=L instanceof Uint8Array?L:new Uint8Array(L),this.start=F||0,this.pos=this.start,this.end=F+g||this.bytes.length,this.dict=w}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(L){const F=this.bytes,g=this.pos,w=this.end;if(!L)return F.subarray(g,w);let u=g+L;return u>w&&(u=w),this.pos=u,F.subarray(g,u)}getByteRange(L,F){return L<0&&(L=0),F>this.end&&(F=this.end),this.bytes.subarray(L,F)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(L,F,g=null){return new T(this.bytes.buffer,L,F,g)}}f.Stream=T;class e extends T{constructor(L){super((0,d.stringToBytes)(L))}}f.StringStream=e;class t extends T{constructor(){super(new Uint8Array(0))}}f.NullStream=t},(fe,f,$)=>{var E,Gi,M,Vi;Object.defineProperty(f,"__esModule",{value:!0}),f.Page=f.PDFDocument=void 0;var n=$(2),d=$(10),T=$(3),e=$(4),t=$(51),l=$(5),L=$(74),F=$(66),g=$(68),w=$(102),u=$(16),h=$(8),i=$(76),x=$(64),p=$(13),v=$(18),b=$(72),N=$(73),U=$(77),D=$(103);const I=1,B=[0,0,612,792];class _{constructor({pdfManager:r,xref:s,pageIndex:A,pageDict:c,ref:y,globalIdFactory:q,fontCache:re,builtInCMapCache:Q,standardFontDataCache:de,globalImageCache:ee,systemFontCache:ue,nonBlendModesSet:W,xfaFactory:Z}){je(this,E);this.pdfManager=r,this.pageIndex=A,this.pageDict=c,this.xref=s,this.ref=y,this.fontCache=re,this.builtInCMapCache=Q,this.standardFontDataCache=de,this.globalImageCache=ee,this.systemFontCache=ue,this.nonBlendModesSet=W,this.evaluatorOptions=r.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=Z;const se={obj:0};this._localIdFactory=class extends q{static createObjId(){return`p${A}_${++se.obj}`}static getPageObjId(){return`p${y.toString()}`}}}_getInheritableProperty(r,s=!1){const A=(0,T.getInheritableProperty)({dict:this.pageDict,key:r,getArray:s,stopWhenFound:!1});return Array.isArray(A)?A.length===1||!(A[0]instanceof e.Dict)?A[0]:e.Dict.merge({xref:this.xref,dictArray:A}):A}get content(){return this.pageDict.getArray("Contents")}get resources(){const r=this._getInheritableProperty("Resources");return(0,n.shadow)(this,"resources",r instanceof e.Dict?r:e.Dict.empty)}_getBoundingBox(r){if(this.xfaData)return this.xfaData.bbox;let s=this._getInheritableProperty(r,!0);if(Array.isArray(s)&&s.length===4){if(s=n.Util.normalizeRect(s),s[2]-s[0]>0&&s[3]-s[1]>0)return s;(0,n.warn)(`Empty, or invalid, /${r} entry.`)}return null}get mediaBox(){return(0,n.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||B)}get cropBox(){return(0,n.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let r=this.pageDict.get("UserUnit");return(typeof r!="number"||r<=0)&&(r=I),(0,n.shadow)(this,"userUnit",r)}get view(){const{cropBox:r,mediaBox:s}=this;if(r!==s&&!(0,n.isArrayEqual)(r,s)){const A=n.Util.intersect(r,s);if(A&&A[2]-A[0]>0&&A[3]-A[1]>0)return(0,n.shadow)(this,"view",A);(0,n.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,n.shadow)(this,"view",s)}get rotate(){let r=this._getInheritableProperty("Rotate")||0;return r%90!==0?r=0:r>=360?r%=360:r<0&&(r=(r%360+360)%360),(0,n.shadow)(this,"rotate",r)}_onSubStreamError(r,s){if(this.evaluatorOptions.ignoreErrors){(0,n.warn)(`getContentStream - ignoring sub-stream (${s}): "${r}".`);return}throw r}getContentStream(){return this.pdfManager.ensure(this,"content").then(r=>r instanceof l.BaseStream?r:Array.isArray(r)?new v.StreamsSequenceStream(r,this._onSubStreamError.bind(this)):new h.NullStream)}get xfaData(){return(0,n.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(r,s,A,c){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const y=new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),q=new e.RefSet,re=new e.RefSet;qe(this,E,Gi).call(this,A,q,re);const Q=this.pageDict,de=this.annotations.filter(se=>!(se instanceof e.Ref&&q.has(se))),ee=await d.AnnotationFactory.saveNewAnnotations(y,s,A,c);for(const{ref:se}of ee.annotations)se instanceof e.Ref&&!re.has(se)&&de.push(se);const ue=Q.get("Annots");Q.set("Annots",de);const W=[];await(0,N.writeObject)(this.ref,Q,W,this.xref),ue&&Q.set("Annots",ue);const Z=ee.dependencies;return Z.push({ref:this.ref,data:W.join("")},...ee.annotations),Z}save(r,s,A){const c=new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(y){const q=[];for(const re of y)re.mustBePrinted(A)&&q.push(re.save(c,s,A).catch(function(Q){return(0,n.warn)(`save - ignoring annotation data during "${s.name}" task: "${Q}".`),null}));return Promise.all(q).then(function(re){return re.filter(Q=>!!Q)})})}loadResources(r){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new i.ObjectLoader(this.resources,r,this.xref).load())}getOperatorList({handler:r,sink:s,task:A,intent:c,cacheKey:y,annotationStorage:q=null}){const re=this.getContentStream(),Q=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),de=new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),ee=this.xfaFactory?null:(0,T.getNewAnnotationsMap)(q);let ue=null,W=Promise.resolve(null);if(ee){const ne=ee.get(this.pageIndex);if(ne){const ie=this.pdfManager.ensureDoc("annotationGlobals");let H;const Y=new Set;for(const{bitmapId:le,bitmap:ce}of ne)le&&!ce&&!Y.has(le)&&Y.add(le);const{isOffscreenCanvasSupported:G}=this.evaluatorOptions;if(Y.size>0){const le=ne.slice();for(const[ce,te]of q)ce.startsWith(n.AnnotationEditorPrefix)&&te.bitmap&&Y.has(te.bitmapId)&&le.push(te);H=d.AnnotationFactory.generateImages(le,this.xref,G)}else H=d.AnnotationFactory.generateImages(ne,this.xref,G);ue=new e.RefSet,qe(this,E,Gi).call(this,ne,ue,null),W=ie.then(le=>le?d.AnnotationFactory.printNewAnnotations(le,de,A,ne,H):null)}}const se=Promise.all([re,Q]).then(([ne])=>{const ie=new x.OperatorList(c,s);return r.send("StartRenderPage",{transparency:de.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:y}),de.getOperatorList({stream:ne,task:A,resources:this.resources,operatorList:ie}).then(function(){return ie})});return Promise.all([se,this._parsedAnnotations,W]).then(function([ne,ie,H]){if(H){ie=ie.filter(ge=>!(ge.ref&&ue.has(ge.ref)));for(let ge=0,K=H.length;ge<K;ge++){const Se=H[ge];if(Se.refToReplace){const Oe=ie.findIndex(Me=>Me.ref&&(0,e.isRefsEqual)(Me.ref,Se.refToReplace));Oe>=0&&(ie.splice(Oe,1,Se),H.splice(ge--,1),K--)}}ie=ie.concat(H)}if(ie.length===0||c&n.RenderingIntentFlag.ANNOTATIONS_DISABLE)return ne.flush(!0),{length:ne.totalLength};const Y=!!(c&n.RenderingIntentFlag.ANNOTATIONS_FORMS),G=!!(c&n.RenderingIntentFlag.ANY),le=!!(c&n.RenderingIntentFlag.DISPLAY),ce=!!(c&n.RenderingIntentFlag.PRINT),te=[];for(const ge of ie)(G||le&&ge.mustBeViewed(q,Y)||ce&&ge.mustBePrinted(q))&&te.push(ge.getOperatorList(de,A,c,Y,q).catch(function(K){return(0,n.warn)(`getOperatorList - ignoring annotation data during "${A.name}" task: "${K}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(te).then(function(ge){let K=!1,Se=!1;for(const{opList:Oe,separateForm:Me,separateCanvas:_e}of ge)ne.addOpList(Oe),K||(K=Me),Se||(Se=_e);return ne.flush(!0,{form:K,canvas:Se}),{length:ne.totalLength}})})}extractTextContent({handler:r,task:s,includeMarkedContent:A,disableNormalization:c,sink:y}){const q=this.getContentStream(),re=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([q,re]).then(([de])=>new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:de,task:s,resources:this.resources,includeMarkedContent:A,disableNormalization:c,sink:y,viewBox:this.view}))}async getStructTree(){const r=await this.pdfManager.ensureCatalog("structTreeRoot");return r?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[r])).serializable):null}_parseStructTree(r){const s=new b.StructTreePage(r,this.pageDict);return s.parse(this.ref),s}async getAnnotationsData(r,s,A){const c=await this._parsedAnnotations;if(c.length===0)return c;const y=[],q=[];let re;const Q=!!(A&n.RenderingIntentFlag.ANY),de=!!(A&n.RenderingIntentFlag.DISPLAY),ee=!!(A&n.RenderingIntentFlag.PRINT);for(const ue of c){const W=Q||de&&ue.viewable;(W||ee&&ue.printable)&&y.push(ue.data),ue.hasTextContent&&W&&(re||(re=new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),q.push(ue.extractTextContent(re,s,[-1/0,-1/0,1/0,1/0]).catch(function(Z){(0,n.warn)(`getAnnotationsData - ignoring textContent during "${s.name}" task: "${Z}".`)})))}return await Promise.all(q),y}get annotations(){const r=this._getInheritableProperty("Annots");return(0,n.shadow)(this,"annotations",Array.isArray(r)?r:[])}get _parsedAnnotations(){const r=this.pdfManager.ensure(this,"annotations").then(async s=>{if(s.length===0)return s;const A=await this.pdfManager.ensureDoc("annotationGlobals");if(!A)return[];const c=[];for(const re of s)c.push(d.AnnotationFactory.create(this.xref,re,A,this._localIdFactory,!1,this.ref).catch(function(Q){return(0,n.warn)(`_parsedAnnotations: "${Q}".`),null}));const y=[];let q;for(const re of await Promise.all(c))if(re){if(re instanceof d.PopupAnnotation){(q||(q=[])).push(re);continue}y.push(re)}return q&&y.push(...q),y});return(0,n.shadow)(this,"_parsedAnnotations",r)}get jsActions(){const r=(0,T.collectActions)(this.xref,this.pageDict,n.PageActionEventType);return(0,n.shadow)(this,"jsActions",r)}}E=new WeakSet,Gi=function(r,s,A){for(const c of r)if(c.id){const y=e.Ref.fromString(c.id);if(!y){(0,n.warn)(`A non-linked annotation cannot be modified: ${c.id}`);continue}if(c.deleted){s.put(y);continue}A==null||A.put(y),c.ref=y,delete c.id}},f.Page=_;const P=new Uint8Array([37,80,68,70,45]),X=new Uint8Array([115,116,97,114,116,120,114,101,102]),m=new Uint8Array([101,110,100,111,98,106]),S=1024,R="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function z(o,r,s=1024,A=!1){const c=r.length,y=o.peekBytes(s),q=y.length-c;if(q<=0)return!1;if(A){const re=c-1;let Q=y.length-1;for(;Q>=re;){let de=0;for(;de<c&&y[Q-de]===r[re-de];)de++;if(de>=c)return o.pos+=Q-re,!0;Q--}}else{let re=0;for(;re<=q;){let Q=0;for(;Q<c&&y[re+Q]===r[Q];)Q++;if(Q>=c)return o.pos+=re,!0;re++}}return!1}class O{constructor(r,s){je(this,M);if(s.length<=0)throw new n.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=r,this.stream=s,this.xref=new D.XRef(s,r),this._pagePromises=new Map,this._version=null;const A={font:0};this._globalIdFactory=class{static getDocId(){return`g_${r.docId}`}static createFontId(){return`f${++A.font}`}static createObjId(){(0,n.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,n.unreachable)("Abstract method `getPageObjId` called.")}}}parse(r){this.xref.parse(r),this.catalog=new F.Catalog(this.pdfManager,this.xref)}get linearization(){let r=null;try{r=u.Linearization.create(this.stream)}catch(s){if(s instanceof T.MissingDataException)throw s;(0,n.info)(s)}return(0,n.shadow)(this,"linearization",r)}get startXRef(){const r=this.stream;let s=0;if(this.linearization)r.reset(),z(r,m)&&(s=r.pos+6-r.start);else{const c=X.length;let y=!1,q=r.end;for(;!y&&q>0;)q-=1024-c,q<0&&(q=0),r.pos=q,y=z(r,X,1024,!0);if(y){r.skip(9);let re;do re=r.getByte();while((0,T.isWhiteSpace)(re));let Q="";for(;re>=32&&re<=57;)Q+=String.fromCharCode(re),re=r.getByte();s=parseInt(Q,10),isNaN(s)&&(s=0)}}return(0,n.shadow)(this,"startXRef",s)}checkHeader(){const r=this.stream;if(r.reset(),!z(r,P))return;r.moveStart(),r.skip(P.length);let s="",A;for(;(A=r.getByte())>32&&s.length<7;)s+=String.fromCharCode(A);T.PDF_VERSION_REGEXP.test(s)?this._version=s:(0,n.warn)(`Invalid PDF header version: ${s}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let r=0;return this.catalog.hasActualNumPages?r=this.catalog.numPages:this.xfaFactory?r=this.xfaFactory.getNumPages():this.linearization?r=this.linearization.numPages:r=this.catalog.numPages,(0,n.shadow)(this,"numPages",r)}_hasOnlyDocumentSignatures(r,s=0){return Array.isArray(r)?r.every(c=>{if(c=this.xref.fetchIfRef(c),!(c instanceof e.Dict))return!1;if(c.has("Kids"))return++s>10?((0,n.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(c.get("Kids"),s);const y=(0,e.isName)(c.get("FT"),"Sig"),q=c.get("Rect"),re=Array.isArray(q)&&q.every(Q=>Q===0);return y&&re}):!1}get _xfaStreams(){const r=this.catalog.acroForm;if(!r)return null;const s=r.get("XFA"),A={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(s instanceof l.BaseStream&&!s.isEmpty)return A["xdp:xdp"]=s,A;if(!Array.isArray(s)||s.length===0)return null;for(let c=0,y=s.length;c<y;c+=2){let q;if(c===0?q="xdp:xdp":c===y-2?q="/xdp:xdp":q=s[c],!A.hasOwnProperty(q))continue;const re=this.xref.fetchIfRef(s[c+1]);!(re instanceof l.BaseStream)||re.isEmpty||(A[q]=re)}return A}get xfaDatasets(){const r=this._xfaStreams;if(!r)return(0,n.shadow)(this,"xfaDatasets",null);for(const s of["datasets","xdp:xdp"]){const A=r[s];if(A)try{const c=(0,n.stringToUTF8String)(A.getString()),y={[s]:c};return(0,n.shadow)(this,"xfaDatasets",new w.DatasetReader(y))}catch{(0,n.warn)("XFA - Invalid utf-8 string.");break}}return(0,n.shadow)(this,"xfaDatasets",null)}get xfaData(){const r=this._xfaStreams;if(!r)return null;const s=Object.create(null);for(const[A,c]of Object.entries(r))if(c)try{s[A]=(0,n.stringToUTF8String)(c.getString())}catch{return(0,n.warn)("XFA - Invalid utf-8 string."),null}return s}get xfaFactory(){let r;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(r=this.xfaData),(0,n.shadow)(this,"xfaFactory",r?new U.XFAFactory(r):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const r=await this.pdfManager.ensureCatalog("xfaImages");if(!r)return;const s=r.getKeys();await new i.ObjectLoader(r,s,this.xref).load();const c=new Map;for(const y of s){const q=r.get(y);q instanceof l.BaseStream&&c.set(y,q.getBytes())}this.xfaFactory.setImages(c)}async loadXfaFonts(r,s){const A=await this.pdfManager.ensureCatalog("acroForm");if(!A)return;const c=await A.getAsync("DR");if(!(c instanceof e.Dict))return;await new i.ObjectLoader(c,["Font"],this.xref).load();const q=c.get("Font");if(!(q instanceof e.Dict))return;const re=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);re.useSystemFonts=!1;const Q=new p.PartialEvaluator({xref:this.xref,handler:r,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:re}),de=new x.OperatorList,ee=[],ue={get font(){return ee.at(-1)},set font(ie){ee.push(ie)},clone(){return this}},W=new Map;q.forEach((ie,H)=>{W.set(ie,H)});const Z=[];for(const[ie,H]of W){const Y=H.get("FontDescriptor");if(!(Y instanceof e.Dict))continue;let G=Y.get("FontFamily");G=G.replaceAll(/[ ]+(\d)/g,"$1");const le=Y.get("FontWeight"),ce=-Y.get("ItalicAngle"),te={fontFamily:G,fontWeight:le,italicAngle:ce};(0,T.validateCSSFont)(te)&&Z.push(Q.handleSetFont(c,[e.Name.get(ie),1],null,de,s,ue,null,te).catch(function(ge){return(0,n.warn)(`loadXfaFonts: "${ge}".`),null}))}await Promise.all(Z);const se=this.xfaFactory.setFonts(ee);if(!se)return;re.ignoreErrors=!0,Z.length=0,ee.length=0;const ne=new Set;for(const ie of se)(0,t.getXfaFontName)(`${ie}-Regular`)||ne.add(ie);ne.size&&se.push("PdfJS-Fallback");for(const ie of se)if(!ne.has(ie))for(const H of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Y=`${ie}-${H.name}`,G=(0,t.getXfaFontDict)(Y);Z.push(Q.handleSetFont(c,[e.Name.get(Y),1],null,de,s,ue,G,{fontFamily:ie,fontWeight:H.fontWeight,italicAngle:H.italicAngle}).catch(function(le){return(0,n.warn)(`loadXfaFonts: "${le}".`),null}))}await Promise.all(Z),this.xfaFactory.appendFonts(ee,ne)}async serializeXfaData(r){return this.xfaFactory?this.xfaFactory.serializeData(r):null}get version(){return this.catalog.version||this._version}get formInfo(){const r={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},s=this.catalog.acroForm;if(!s)return(0,n.shadow)(this,"formInfo",r);try{const A=s.get("Fields"),c=Array.isArray(A)&&A.length>0;r.hasFields=c;const y=s.get("XFA");r.hasXfa=Array.isArray(y)&&y.length>0||y instanceof l.BaseStream&&!y.isEmpty;const re=!!(s.get("SigFlags")&1),Q=re&&this._hasOnlyDocumentSignatures(A);r.hasAcroForm=c&&!Q,r.hasSignatures=re}catch(A){if(A instanceof T.MissingDataException)throw A;(0,n.warn)(`Cannot fetch form information: "${A}".`)}return(0,n.shadow)(this,"formInfo",r)}get documentInfo(){const r={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let s;try{s=this.xref.trailer.get("Info")}catch(A){if(A instanceof T.MissingDataException)throw A;(0,n.info)("The document information dictionary is invalid.")}if(!(s instanceof e.Dict))return(0,n.shadow)(this,"documentInfo",r);for(const A of s.getKeys()){const c=s.get(A);switch(A){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof c=="string"){r[A]=(0,n.stringToPDFString)(c);continue}break;case"Trapped":if(c instanceof e.Name){r[A]=c;continue}break;default:let y;switch(typeof c){case"string":y=(0,n.stringToPDFString)(c);break;case"number":case"boolean":y=c;break;default:c instanceof e.Name&&(y=c);break}if(y===void 0){(0,n.warn)(`Bad value, for custom key "${A}", in Info: ${c}.`);continue}r.Custom||(r.Custom=Object.create(null)),r.Custom[A]=y;continue}(0,n.warn)(`Bad value, for key "${A}", in Info: ${c}.`)}return(0,n.shadow)(this,"documentInfo",r)}get fingerprints(){function r(q){return typeof q=="string"&&q.length>0&&q!==R}function s(q){const re=[];for(const Q of q){const de=Q.toString(16);re.push(de.padStart(2,"0"))}return re.join("")}const A=this.xref.trailer.get("ID");let c,y;return Array.isArray(A)&&r(A[0])?(c=(0,n.stringToBytes)(A[0]),A[1]!==A[0]&&r(A[1])&&(y=(0,n.stringToBytes)(A[1]))):c=(0,L.calculateMD5)(this.stream.getByteRange(0,S),0,S),(0,n.shadow)(this,"fingerprints",[s(c),y?s(y):null])}async _getLinearizationPage(r){const{catalog:s,linearization:A,xref:c}=this,y=e.Ref.get(A.objectNumberFirst,0);try{const q=await c.fetchAsync(y);if(q instanceof e.Dict){let re=q.getRaw("Type");if(re instanceof e.Ref&&(re=await c.fetchAsync(re)),(0,e.isName)(re,"Page")||!q.has("Type")&&!q.has("Kids"))return s.pageKidsCountCache.has(y)||s.pageKidsCountCache.put(y,1),s.pageIndexCache.has(y)||s.pageIndexCache.put(y,0),[q,y]}throw new n.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(q){return(0,n.warn)(`_getLinearizationPage: "${q.message}".`),s.getPageDict(r)}}getPage(r){const s=this._pagePromises.get(r);if(s)return s;const{catalog:A,linearization:c,xfaFactory:y}=this;let q;return y?q=Promise.resolve([e.Dict.empty,null]):(c==null?void 0:c.pageFirst)===r?q=this._getLinearizationPage(r):q=A.getPageDict(r),q=q.then(([re,Q])=>new _({pdfManager:this.pdfManager,xref:this.xref,pageIndex:r,pageDict:re,ref:Q,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,standardFontDataCache:A.standardFontDataCache,globalImageCache:A.globalImageCache,systemFontCache:A.systemFontCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:y})),this._pagePromises.set(r,q),q}async checkFirstPage(r=!1){if(!r)try{await this.getPage(0)}catch(s){if(s instanceof T.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new T.XRefParseException}}async checkLastPage(r=!1){const{catalog:s,pdfManager:A}=this;s.setActualNumPages();let c;try{if(await Promise.all([A.ensureDoc("xfaFactory"),A.ensureDoc("linearization"),A.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?c=this.linearization.numPages:c=s.numPages,Number.isInteger(c)){if(c<=1)return}else throw new n.FormatError("Page count is not an integer.");await this.getPage(c-1)}catch(y){if(this._pagePromises.delete(c-1),await this.cleanup(),y instanceof T.XRefEntryException&&!r)throw new T.XRefParseException;(0,n.warn)(`checkLastPage - invalid /Pages tree /Count: ${c}.`);let q;try{q=await s.getAllPageDicts(r)}catch(re){if(re instanceof T.XRefEntryException&&!r)throw new T.XRefParseException;s.setActualNumPages(1);return}for(const[re,[Q,de]]of q){let ee;Q instanceof Error?(ee=Promise.reject(Q),ee.catch(()=>{})):ee=Promise.resolve(new _({pdfManager:A,xref:this.xref,pageIndex:re,pageDict:Q,ref:de,globalIdFactory:this._globalIdFactory,fontCache:s.fontCache,builtInCMapCache:s.builtInCMapCache,standardFontDataCache:s.standardFontDataCache,globalImageCache:s.globalImageCache,systemFontCache:s.systemFontCache,nonBlendModesSet:s.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(re,ee)}s.setActualNumPages(q.size)}}fontFallback(r,s){return this.catalog.fontFallback(r,s)}async cleanup(r=!1){return this.catalog?this.catalog.cleanup(r):(0,g.clearGlobalCaches)()}get fieldObjects(){if(!this.formInfo.hasFields)return(0,n.shadow)(this,"fieldObjects",Promise.resolve(null));const r=this.pdfManager.ensureDoc("annotationGlobals").then(async s=>{if(!s)return null;const A=Object.create(null),c=new Map;for(const q of this.catalog.acroForm.get("Fields"))qe(this,M,Vi).call(this,"",q,c,s);const y=[];for(const[q,re]of c)y.push(Promise.all(re).then(Q=>{Q=Q.filter(de=>!!de),Q.length>0&&(A[q]=Q)}));return await Promise.all(y),A});return(0,n.shadow)(this,"fieldObjects",r)}get hasJSActions(){const r=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,n.shadow)(this,"hasJSActions",r)}async _parseHasJSActions(){const[r,s]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return r?!0:s?Object.values(s).some(A=>A.some(c=>c.actions!==null)):!1}get calculationOrderIds(){const r=this.catalog.acroForm;if(!(r!=null&&r.has("CO")))return(0,n.shadow)(this,"calculationOrderIds",null);const s=r.get("CO");if(!Array.isArray(s)||s.length===0)return(0,n.shadow)(this,"calculationOrderIds",null);const A=[];for(const c of s)c instanceof e.Ref&&A.push(c.toString());return A.length===0?(0,n.shadow)(this,"calculationOrderIds",null):(0,n.shadow)(this,"calculationOrderIds",A)}get annotationGlobals(){return(0,n.shadow)(this,"annotationGlobals",d.AnnotationFactory.createGlobals(this.pdfManager))}}M=new WeakSet,Vi=function(r,s,A,c){const y=this.xref.fetchIfRef(s);if(y.has("T")){const q=(0,n.stringToPDFString)(y.get("T"));r=r===""?q:`${r}.${q}`}if(A.has(r)||A.set(r,[]),A.get(r).push(d.AnnotationFactory.create(this.xref,s,c,this._localIdFactory,!0,null).then(q=>q==null?void 0:q.getFieldObject()).catch(function(q){return(0,n.warn)(`#collectFieldObjects: "${q}".`),null})),y.has("Kids"))for(const q of y.get("Kids"))qe(this,M,Vi).call(this,r,q,A,c)},f.PDFDocument=O},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PopupAnnotation=f.MarkupAnnotation=f.AnnotationFactory=f.AnnotationBorderStyle=f.Annotation=void 0,f.getQuadPoints=U;var n=$(2),d=$(3),T=$(11),e=$(4),t=$(8),l=$(5),L=$(60),F=$(66),g=$(12),w=$(69),u=$(26),h=$(76),i=$(64),x=$(73),p=$(77);class v{static createGlobals(W){return Promise.all([W.ensureCatalog("acroForm"),W.ensureDoc("xfaDatasets"),W.ensureCatalog("structTreeRoot"),W.ensureCatalog("baseUrl"),W.ensureCatalog("attachments")]).then(([Z,se,ne,ie,H])=>({pdfManager:W,acroForm:Z instanceof e.Dict?Z:e.Dict.empty,xfaDatasets:se,structTreeRoot:ne,baseUrl:ie,attachments:H}),Z=>((0,n.warn)(`createGlobals: "${Z}".`),null))}static async create(W,Z,se,ne,ie,H){const Y=ie?await this._getPageIndex(W,Z,se.pdfManager):null;return se.pdfManager.ensure(this,"_create",[W,Z,se,ne,ie,Y,H])}static _create(W,Z,se,ne,ie=!1,H=null,Y=null){const G=W.fetchIfRef(Z);if(!(G instanceof e.Dict))return;const{acroForm:le,pdfManager:ce}=se,te=Z instanceof e.Ref?Z.toString():`annot_${ne.createObjId()}`;let ge=G.get("Subtype");ge=ge instanceof e.Name?ge.name:null;const K={xref:W,ref:Z,dict:G,subtype:ge,id:te,annotationGlobals:se,collectFields:ie,needAppearances:!ie&&le.get("NeedAppearances")===!0,pageIndex:H,evaluatorOptions:ce.evaluatorOptions,pageRef:Y};switch(ge){case"Link":return new O(K);case"Text":return new z(K);case"Widget":let Se=(0,d.getInheritableProperty)({dict:G,key:"FT"});switch(Se=Se instanceof e.Name?Se.name:null,Se){case"Tx":return new X(K);case"Btn":return new m(K);case"Ch":return new S(K);case"Sig":return new R(K)}return(0,n.warn)(`Unimplemented widget field type "${Se}", falling back to base field type.`),new P(K);case"Popup":return new E(K);case"FreeText":return new k(K);case"Line":return new M(K);case"Square":return new a(K);case"Circle":return new o(K);case"PolyLine":return new r(K);case"Polygon":return new s(K);case"Caret":return new A(K);case"Ink":return new c(K);case"Highlight":return new y(K);case"Underline":return new q(K);case"Squiggly":return new re(K);case"StrikeOut":return new Q(K);case"Stamp":return new de(K);case"FileAttachment":return new ee(K);default:return ie||(ge?(0,n.warn)(`Unimplemented annotation type "${ge}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new I(K)}}static async _getPageIndex(W,Z,se){try{const ne=await W.fetchIfRefAsync(Z);if(!(ne instanceof e.Dict))return-1;const ie=ne.getRaw("P");if(ie instanceof e.Ref)try{return await se.ensureCatalog("getPageIndex",[ie])}catch(Y){(0,n.info)(`_getPageIndex -- not a valid page reference: "${Y}".`)}if(ne.has("Kids"))return-1;const H=await se.ensureDoc("numPages");for(let Y=0;Y<H;Y++){const G=await se.getPage(Y),le=await se.ensure(G,"annotations");for(const ce of le)if(ce instanceof e.Ref&&(0,e.isRefsEqual)(ce,Z))return Y}}catch(ne){(0,n.warn)(`_getPageIndex: "${ne}".`)}return-1}static generateImages(W,Z,se){if(!se)return(0,n.warn)("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let ne;for(const{bitmapId:ie,bitmap:H}of W)H&&(ne||(ne=new Map),ne.set(ie,de.createImage(H,Z)));return ne}static async saveNewAnnotations(W,Z,se,ne){const ie=W.xref;let H;const Y=[],G=[],{isOffscreenCanvasSupported:le}=W.options;for(const ce of se)if(!ce.deleted)switch(ce.annotationType){case n.AnnotationEditorType.FREETEXT:if(!H){const ge=new e.Dict(ie);ge.set("BaseFont",e.Name.get("Helvetica")),ge.set("Type",e.Name.get("Font")),ge.set("Subtype",e.Name.get("Type1")),ge.set("Encoding",e.Name.get("WinAnsiEncoding"));const K=[];H=ie.getNewTemporaryRef(),await(0,x.writeObject)(H,ge,K,ie),Y.push({ref:H,data:K.join("")})}G.push(k.createNewAnnotation(ie,ce,Y,{evaluator:W,task:Z,baseFontRef:H}));break;case n.AnnotationEditorType.INK:G.push(c.createNewAnnotation(ie,ce,Y));break;case n.AnnotationEditorType.STAMP:if(!le)break;const te=await ne.get(ce.bitmapId);if(te.imageStream){const{imageStream:ge,smaskStream:K}=te,Se=[];if(K){const Me=ie.getNewTemporaryRef();await(0,x.writeObject)(Me,K,Se,ie),Y.push({ref:Me,data:Se.join("")}),ge.dict.set("SMask",Me),Se.length=0}const Oe=te.imageRef=ie.getNewTemporaryRef();await(0,x.writeObject)(Oe,ge,Se,ie),Y.push({ref:Oe,data:Se.join("")}),te.imageStream=te.smaskStream=null}G.push(de.createNewAnnotation(ie,ce,Y,{image:te}));break}return{annotations:await Promise.all(G),dependencies:Y}}static async printNewAnnotations(W,Z,se,ne,ie){if(!ne)return null;const{options:H,xref:Y}=Z,G=[];for(const le of ne)if(!le.deleted)switch(le.annotationType){case n.AnnotationEditorType.FREETEXT:G.push(k.createNewPrintAnnotation(W,Y,le,{evaluator:Z,task:se,evaluatorOptions:H}));break;case n.AnnotationEditorType.INK:G.push(c.createNewPrintAnnotation(W,Y,le,{evaluatorOptions:H}));break;case n.AnnotationEditorType.STAMP:if(!H.isOffscreenCanvasSupported)break;const ce=await ie.get(le.bitmapId);if(ce.imageStream){const{imageStream:te,smaskStream:ge}=ce;ge&&te.dict.set("SMask",ge),ce.imageRef=new u.JpegStream(te,te.length),ce.imageStream=ce.smaskStream=null}G.push(de.createNewPrintAnnotation(W,Y,le,{image:ce,evaluatorOptions:H}));break}return Promise.all(G)}}f.AnnotationFactory=v;function b(ue,W=new Uint8ClampedArray(3)){if(!Array.isArray(ue))return W;const Z=W||new Uint8ClampedArray(3);switch(ue.length){case 0:return null;case 1:return g.ColorSpace.singletons.gray.getRgbItem(ue,0,Z,0),Z;case 3:return g.ColorSpace.singletons.rgb.getRgbItem(ue,0,Z,0),Z;case 4:return g.ColorSpace.singletons.cmyk.getRgbItem(ue,0,Z,0),Z;default:return W}}function N(ue){return Array.from(ue,W=>W/255)}function U(ue,W){const Z=ue.getArray("QuadPoints");if(!Array.isArray(Z)||Z.length===0||Z.length%8>0)return null;const se=[];for(let ne=0,ie=Z.length/8;ne<ie;ne++){let H=1/0,Y=-1/0,G=1/0,le=-1/0;for(let ce=ne*8,te=ne*8+8;ce<te;ce+=2){const ge=Z[ce],K=Z[ce+1];H=Math.min(ge,H),Y=Math.max(ge,Y),G=Math.min(K,G),le=Math.max(K,le)}if(W!==null&&(H<W[0]||Y>W[2]||G<W[1]||le>W[3]))return null;se.push([{x:H,y:le},{x:Y,y:le},{x:H,y:G},{x:Y,y:G}])}return se}function D(ue,W,Z){const[se,ne,ie,H]=n.Util.getAxialAlignedBoundingBox(W,Z);if(se===ie||ne===H)return[1,0,0,1,ue[0],ue[1]];const Y=(ue[2]-ue[0])/(ie-se),G=(ue[3]-ue[1])/(H-ne);return[Y,0,0,G,ue[0]-se*Y,ue[1]-ne*G]}class I{constructor(W){const{dict:Z,xref:se,annotationGlobals:ne}=W;this.setTitle(Z.get("T")),this.setContents(Z.get("Contents")),this.setModificationDate(Z.get("M")),this.setFlags(Z.get("F")),this.setRectangle(Z.getArray("Rect")),this.setColor(Z.getArray("C")),this.setBorderStyle(Z),this.setAppearance(Z),this.setOptionalContent(Z);const ie=Z.get("MK");this.setBorderAndBackgroundColors(ie),this.setRotation(ie,Z),this.ref=W.ref instanceof e.Ref?W.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const H=!!(this.flags&n.AnnotationFlag.LOCKED),Y=!!(this.flags&n.AnnotationFlag.LOCKEDCONTENTS);if(ne.structTreeRoot){let G=Z.get("StructParent");G=Number.isInteger(G)&&G>=0?G:-1,ne.structTreeRoot.addAnnotationIdToPage(W.pageRef,G)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:W.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:W.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&n.AnnotationFlag.NOROTATE),noHTML:H&&Y},W.collectFields){const G=Z.get("Kids");if(Array.isArray(G)){const le=[];for(const ce of G)ce instanceof e.Ref&&le.push(ce.toString());le.length!==0&&(this.data.kidIds=le)}this.data.actions=(0,d.collectActions)(se,Z,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(Z),this.data.pageIndex=W.pageIndex}this._isOffscreenCanvasSupported=W.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(W,Z){return!!(W&Z)}_isViewable(W){return!this._hasFlag(W,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(W,n.AnnotationFlag.NOVIEW)}_isPrintable(W){return this._hasFlag(W,n.AnnotationFlag.PRINT)&&!this._hasFlag(W,n.AnnotationFlag.HIDDEN)&&!this._hasFlag(W,n.AnnotationFlag.INVISIBLE)}mustBeViewed(W,Z){var ne;const se=(ne=W==null?void 0:W.get(this.data.id))==null?void 0:ne.noView;return se!==void 0?!se:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(W){var se;const Z=(se=W==null?void 0:W.get(this.data.id))==null?void 0:se.noPrint;return Z!==void 0?!Z:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(W){const Z=typeof W=="string"?(0,n.stringToPDFString)(W):"",se=Z&&(0,L.bidi)(Z).dir==="rtl"?"rtl":"ltr";return{str:Z,dir:se}}setDefaultAppearance(W){const{dict:Z,annotationGlobals:se}=W,ne=(0,d.getInheritableProperty)({dict:Z,key:"DA"})||se.acroForm.get("DA");this._defaultAppearance=typeof ne=="string"?ne:"",this.data.defaultAppearanceData=(0,T.parseDefaultAppearance)(this._defaultAppearance)}setTitle(W){this._title=this._parseStringHelper(W)}setContents(W){this._contents=this._parseStringHelper(W)}setModificationDate(W){this.modificationDate=typeof W=="string"?W:null}setFlags(W){this.flags=Number.isInteger(W)&&W>0?W:0}hasFlag(W){return this._hasFlag(this.flags,W)}setRectangle(W){this.rectangle=Array.isArray(W)&&W.length===4?n.Util.normalizeRect(W):[0,0,0,0]}setColor(W){this.color=b(W)}setLineEndings(W){if(this.lineEndings=["None","None"],Array.isArray(W)&&W.length===2)for(let Z=0;Z<2;Z++){const se=W[Z];if(se instanceof e.Name)switch(se.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[Z]=se.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${se}`)}}setRotation(W,Z){this.rotation=0;let se=W instanceof e.Dict?W.get("R")||0:Z.get("Rotate")||0;Number.isInteger(se)&&se!==0&&(se%=360,se<0&&(se+=360),se%90===0&&(this.rotation=se))}setBorderAndBackgroundColors(W){W instanceof e.Dict?(this.borderColor=b(W.getArray("BC"),null),this.backgroundColor=b(W.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(W){if(this.borderStyle=new B,W instanceof e.Dict)if(W.has("BS")){const Z=W.get("BS"),se=Z.get("Type");(!se||(0,e.isName)(se,"Border"))&&(this.borderStyle.setWidth(Z.get("W"),this.rectangle),this.borderStyle.setStyle(Z.get("S")),this.borderStyle.setDashArray(Z.getArray("D")))}else if(W.has("Border")){const Z=W.getArray("Border");Array.isArray(Z)&&Z.length>=3&&(this.borderStyle.setHorizontalCornerRadius(Z[0]),this.borderStyle.setVerticalCornerRadius(Z[1]),this.borderStyle.setWidth(Z[2],this.rectangle),Z.length===4&&this.borderStyle.setDashArray(Z[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(W){this.appearance=null;const Z=W.get("AP");if(!(Z instanceof e.Dict))return;const se=Z.get("N");if(se instanceof l.BaseStream){this.appearance=se;return}if(!(se instanceof e.Dict))return;const ne=W.get("AS");if(!(ne instanceof e.Name)||!se.has(ne.name))return;const ie=se.get(ne.name);ie instanceof l.BaseStream&&(this.appearance=ie)}setOptionalContent(W){this.oc=null;const Z=W.get("OC");Z instanceof e.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):Z instanceof e.Dict&&(this.oc=Z)}loadResources(W,Z){return Z.dict.getAsync("Resources").then(se=>se?new h.ObjectLoader(se,W,se.xref).load().then(function(){return se}):void 0)}async getOperatorList(W,Z,se,ne,ie){const H=this.data;let Y=this.appearance;const G=!!(this.data.hasOwnCanvas&&se&n.RenderingIntentFlag.DISPLAY);if(!Y){if(!G)return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1};Y=new t.StringStream(""),Y.dict=new e.Dict}const le=Y.dict,ce=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],Y),te=le.getArray("BBox")||[0,0,1,1],ge=le.getArray("Matrix")||[1,0,0,1,0,0],K=D(H.rect,te,ge),Se=new i.OperatorList;let Oe;return this.oc&&(Oe=await W.parseMarkedContentProps(this.oc,null)),Oe!==void 0&&Se.addOp(n.OPS.beginMarkedContentProps,["OC",Oe]),Se.addOp(n.OPS.beginAnnotation,[H.id,H.rect,K,ge,G]),await W.getOperatorList({stream:Y,task:Z,resources:ce,operatorList:Se,fallbackFontDict:this._fallbackFontDict}),Se.addOp(n.OPS.endAnnotation,[]),Oe!==void 0&&Se.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:Se,separateForm:!1,separateCanvas:G}}async save(W,Z,se){return null}get hasTextContent(){return!1}async extractTextContent(W,Z,se){if(!this.appearance)return;const ne=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),ie=[],H=[];let Y=null;const G={desiredSize:Math.Infinity,ready:!0,enqueue(le,ce){for(const te of le.items)te.str!==void 0&&(Y||(Y=te.transform.slice(-2)),H.push(te.str),te.hasEOL&&(ie.push(H.join("")),H.length=0))}};if(await W.getTextContent({stream:this.appearance,task:Z,resources:ne,includeMarkedContent:!0,sink:G,viewBox:se}),this.reset(),H.length&&ie.push(H.join("")),ie.length>1||ie[0]){const le=this.appearance.dict,ce=le.getArray("BBox")||[0,0,1,1],te=le.getArray("Matrix")||[1,0,0,1,0,0],ge=this.data.rect,K=D(ge,ce,te);K[4]-=ge[0],K[5]-=ge[1],Y=n.Util.applyTransform(Y,K),Y=n.Util.applyTransform(Y,te),this.data.textPosition=Y,this.data.textContent=ie}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const W of this._streams)W.reset()}_constructFieldName(W){if(!W.has("T")&&!W.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!W.has("Parent"))return(0,n.stringToPDFString)(W.get("T"));const Z=[];W.has("T")&&Z.unshift((0,n.stringToPDFString)(W.get("T")));let se=W;const ne=new e.RefSet;for(W.objId&&ne.put(W.objId);se.has("Parent")&&(se=se.get("Parent"),!(!(se instanceof e.Dict)||se.objId&&ne.has(se.objId)));)se.objId&&ne.put(se.objId),se.has("T")&&Z.unshift((0,n.stringToPDFString)(se.get("T")));return Z.join(".")}}f.Annotation=I;class B{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(W,Z=[0,0,0,0]){if(W instanceof e.Name){this.width=0;return}if(typeof W=="number"){if(W>0){const se=(Z[2]-Z[0])/2,ne=(Z[3]-Z[1])/2;se>0&&ne>0&&(W>se||W>ne)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${W}`),W=1)}this.width=W}}setStyle(W){if(W instanceof e.Name)switch(W.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(W,Z=!1){if(Array.isArray(W)&&W.length>0){let se=!0,ne=!0;for(const ie of W)if(+ie>=0)ie>0&&(ne=!1);else{se=!1;break}se&&!ne?(this.dashArray=W,Z&&this.setStyle(e.Name.get("D"))):this.width=0}else W&&(this.width=0)}setHorizontalCornerRadius(W){Number.isInteger(W)&&(this.horizontalCornerRadius=W)}setVerticalCornerRadius(W){Number.isInteger(W)&&(this.verticalCornerRadius=W)}}f.AnnotationBorderStyle=B;class _ extends I{constructor(W){super(W);const{dict:Z}=W;if(Z.has("IRT")){const ne=Z.getRaw("IRT");this.data.inReplyTo=ne instanceof e.Ref?ne.toString():null;const ie=Z.get("RT");this.data.replyType=ie instanceof e.Name?ie.name:n.AnnotationReplyType.REPLY}let se=null;if(this.data.replyType===n.AnnotationReplyType.GROUP){const ne=Z.get("IRT");this.setTitle(ne.get("T")),this.data.titleObj=this._title,this.setContents(ne.get("Contents")),this.data.contentsObj=this._contents,ne.has("CreationDate")?(this.setCreationDate(ne.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,ne.has("M")?(this.setModificationDate(ne.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,se=ne.getRaw("Popup"),ne.has("C")?(this.setColor(ne.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(Z.get("CreationDate")),this.data.creationDate=this.creationDate,se=Z.getRaw("Popup"),Z.has("C")||(this.data.color=null);this.data.popupRef=se instanceof e.Ref?se.toString():null,Z.has("RC")&&(this.data.richText=p.XFAFactory.getRichTextAsHtml(Z.get("RC")))}setCreationDate(W){this.creationDate=typeof W=="string"?W:null}_setDefaultAppearance({xref:W,extra:Z,strokeColor:se,fillColor:ne,blendMode:ie,strokeAlpha:H,fillAlpha:Y,pointsCallback:G}){let le=Number.MAX_VALUE,ce=Number.MAX_VALUE,te=Number.MIN_VALUE,ge=Number.MIN_VALUE;const K=["q"];Z&&K.push(Z),se&&K.push(`${se[0]} ${se[1]} ${se[2]} RG`),ne&&K.push(`${ne[0]} ${ne[1]} ${ne[2]} rg`);let Se=this.data.quadPoints;Se||(Se=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const De of Se){const[ye,me,Pe,Re]=G(K,De);le=Math.min(le,ye),te=Math.max(te,me),ce=Math.min(ce,Pe),ge=Math.max(ge,Re)}K.push("Q");const Oe=new e.Dict(W),Me=new e.Dict(W);Me.set("Subtype",e.Name.get("Form"));const _e=new t.StringStream(K.join(" "));_e.dict=Me,Oe.set("Fm0",_e);const ke=new e.Dict(W);ie&&ke.set("BM",e.Name.get(ie)),typeof H=="number"&&ke.set("CA",H),typeof Y=="number"&&ke.set("ca",Y);const oe=new e.Dict(W);oe.set("GS0",ke);const Ie=new e.Dict(W);Ie.set("ExtGState",oe),Ie.set("XObject",Oe);const Be=new e.Dict(W);Be.set("Resources",Ie);const he=this.data.rect=[le,ce,te,ge];Be.set("BBox",he),this.appearance=new t.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Be,this._streams.push(this.appearance,_e)}static async createNewAnnotation(W,Z,se,ne){const ie=Z.ref||(Z.ref=W.getNewTemporaryRef()),H=await this.createNewAppearanceStream(Z,W,ne),Y=[];let G;if(H){const le=W.getNewTemporaryRef();G=this.createNewDict(Z,W,{apRef:le}),await(0,x.writeObject)(le,H,Y,W),se.push({ref:le,data:Y.join("")})}else G=this.createNewDict(Z,W,{});return Number.isInteger(Z.parentTreeId)&&G.set("StructParent",Z.parentTreeId),Y.length=0,await(0,x.writeObject)(ie,G,Y,W),{ref:ie,data:Y.join("")}}static async createNewPrintAnnotation(W,Z,se,ne){const ie=await this.createNewAppearanceStream(se,Z,ne),H=this.createNewDict(se,Z,{ap:ie}),Y=new this.prototype.constructor({dict:H,xref:Z,annotationGlobals:W,evaluatorOptions:ne.evaluatorOptions});return se.ref&&(Y.ref=Y.refToReplace=se.ref),Y}}f.MarkupAnnotation=_;class P extends I{constructor(W){var ge;super(W);const{dict:Z,xref:se,annotationGlobals:ne}=W,ie=this.data;this._needAppearances=W.needAppearances,ie.annotationType=n.AnnotationType.WIDGET,ie.fieldName===void 0&&(ie.fieldName=this._constructFieldName(Z)),ie.actions===void 0&&(ie.actions=(0,d.collectActions)(se,Z,n.AnnotationActionEventType));let H=(0,d.getInheritableProperty)({dict:Z,key:"V",getArray:!0});ie.fieldValue=this._decodeFormValue(H);const Y=(0,d.getInheritableProperty)({dict:Z,key:"DV",getArray:!0});if(ie.defaultFieldValue=this._decodeFormValue(Y),H===void 0&&ne.xfaDatasets){const K=this._title.str;K&&(this._hasValueFromXFA=!0,ie.fieldValue=H=ne.xfaDatasets.getValue(K))}H===void 0&&ie.defaultFieldValue!==null&&(ie.fieldValue=ie.defaultFieldValue),ie.alternativeText=(0,n.stringToPDFString)(Z.get("TU")||""),this.setDefaultAppearance(W),ie.hasAppearance||(ie.hasAppearance=this._needAppearances&&ie.fieldValue!==void 0&&ie.fieldValue!==null);const G=(0,d.getInheritableProperty)({dict:Z,key:"FT"});ie.fieldType=G instanceof e.Name?G.name:null;const le=(0,d.getInheritableProperty)({dict:Z,key:"DR"}),ce=ne.acroForm.get("DR"),te=(ge=this.appearance)==null?void 0:ge.dict.get("Resources");this._fieldResources={localResources:le,acroFormResources:ce,appearanceResources:te,mergedResources:e.Dict.merge({xref:se,dictArray:[le,te,ce],mergeSubDicts:!0})},ie.fieldFlags=(0,d.getInheritableProperty)({dict:Z,key:"Ff"}),(!Number.isInteger(ie.fieldFlags)||ie.fieldFlags<0)&&(ie.fieldFlags=0),ie.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),ie.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),ie.hidden=this._hasFlag(ie.annotationFlags,n.AnnotationFlag.HIDDEN)||this._hasFlag(ie.annotationFlags,n.AnnotationFlag.NOVIEW)}_decodeFormValue(W){return Array.isArray(W)?W.filter(Z=>typeof Z=="string").map(Z=>(0,n.stringToPDFString)(Z)):W instanceof e.Name?(0,n.stringToPDFString)(W.name):typeof W=="string"?(0,n.stringToPDFString)(W):null}hasFieldFlag(W){return!!(this.data.fieldFlags&W)}_isViewable(W){return!this._hasFlag(W,n.AnnotationFlag.INVISIBLE)}mustBeViewed(W,Z){return Z?this.viewable:super.mustBeViewed(W,Z)&&!this._hasFlag(this.flags,n.AnnotationFlag.NOVIEW)}getRotationMatrix(W){var ie;let Z=(ie=W==null?void 0:W.get(this.data.id))==null?void 0:ie.rotation;if(Z===void 0&&(Z=this.rotation),Z===0)return n.IDENTITY_MATRIX;const se=this.data.rect[2]-this.data.rect[0],ne=this.data.rect[3]-this.data.rect[1];return(0,d.getRotationMatrix)(Z,se,ne)}getBorderAndBackgroundAppearances(W){var Y;let Z=(Y=W==null?void 0:W.get(this.data.id))==null?void 0:Y.rotation;if(Z===void 0&&(Z=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const se=this.data.rect[2]-this.data.rect[0],ne=this.data.rect[3]-this.data.rect[1],ie=Z===0||Z===180?`0 0 ${se} ${ne} re`:`0 0 ${ne} ${se} re`;let H="";if(this.backgroundColor&&(H=`${(0,T.getPdfColor)(this.backgroundColor,!0)} ${ie} f `),this.borderColor){const G=this.borderStyle.width||1;H+=`${G} w ${(0,T.getPdfColor)(this.borderColor,!1)} ${ie} S `}return H}async getOperatorList(W,Z,se,ne,ie){if(ne&&!(this instanceof R)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new i.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(W,Z,se,ne,ie);const H=await this._getAppearance(W,Z,se,ie);if(this.appearance&&H===null)return super.getOperatorList(W,Z,se,ne,ie);const Y=new i.OperatorList;if(!this._defaultAppearance||H===null)return{opList:Y,separateForm:!1,separateCanvas:!1};const G=!!(this.data.hasOwnCanvas&&se&n.RenderingIntentFlag.DISPLAY),le=[1,0,0,1,0,0],ce=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],te=D(this.data.rect,ce,le);let ge;this.oc&&(ge=await W.parseMarkedContentProps(this.oc,null)),ge!==void 0&&Y.addOp(n.OPS.beginMarkedContentProps,["OC",ge]),Y.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,te,this.getRotationMatrix(ie),G]);const K=new t.StringStream(H);return await W.getOperatorList({stream:K,task:Z,resources:this._fieldResources.mergedResources,operatorList:Y}),Y.addOp(n.OPS.endAnnotation,[]),ge!==void 0&&Y.addOp(n.OPS.endMarkedContent,[]),{opList:Y,separateForm:!1,separateCanvas:G}}_getMKDict(W){const Z=new e.Dict(null);return W&&Z.set("R",W),this.borderColor&&Z.set("BC",N(this.borderColor)),this.backgroundColor&&Z.set("BG",N(this.backgroundColor)),Z.size>0?Z:null}amendSavedDict(W,Z){}async save(W,Z,se){const ne=se==null?void 0:se.get(this.data.id);let ie=ne==null?void 0:ne.value,H=ne==null?void 0:ne.rotation;if(ie===this.data.fieldValue||ie===void 0){if(!this._hasValueFromXFA&&H===void 0)return null;ie||(ie=this.data.fieldValue)}if(H===void 0&&!this._hasValueFromXFA&&Array.isArray(ie)&&Array.isArray(this.data.fieldValue)&&ie.length===this.data.fieldValue.length&&ie.every((_e,ke)=>_e===this.data.fieldValue[ke]))return null;H===void 0&&(H=this.rotation);let Y=null;if(!this._needAppearances&&(Y=await this._getAppearance(W,Z,n.RenderingIntentFlag.SAVE,se),Y===null))return null;let G=!1;Y!=null&&Y.needAppearances&&(G=!0,Y=null);const{xref:le}=W,ce=le.fetchIfRef(this.ref);if(!(ce instanceof e.Dict))return null;const te=new e.Dict(le);for(const _e of ce.getKeys())_e!=="AP"&&te.set(_e,ce.getRaw(_e));const ge={path:this.data.fieldName,value:ie},K=_e=>(0,d.isAscii)(_e)?_e:(0,d.stringToUTF16String)(_e,!0);te.set("V",Array.isArray(ie)?ie.map(K):K(ie)),this.amendSavedDict(se,te);const Se=this._getMKDict(H);Se&&te.set("MK",Se);const Oe=[],Me=[{ref:this.ref,data:"",xfa:ge,needAppearances:G}];if(Y!==null){const _e=le.getNewTemporaryRef(),ke=new e.Dict(le);te.set("AP",ke),ke.set("N",_e);const oe=this._getSaveFieldResources(le),Ie=new t.StringStream(Y),Be=Ie.dict=new e.Dict(le);Be.set("Subtype",e.Name.get("Form")),Be.set("Resources",oe),Be.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const he=this.getRotationMatrix(se);he!==n.IDENTITY_MATRIX&&Be.set("Matrix",he),await(0,x.writeObject)(_e,Ie,Oe,le),Me.push({ref:_e,data:Oe.join(""),xfa:null,needAppearances:!1}),Oe.length=0}return te.set("M",`D:${(0,n.getModificationDate)()}`),await(0,x.writeObject)(this.ref,te,Oe,le),Me[0].data=Oe.join(""),Me}async _getAppearance(W,Z,se,ne){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const H=ne==null?void 0:ne.get(this.data.id);let Y,G;if(H&&(Y=H.formattedValue||H.value,G=H.rotation),G===void 0&&Y===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const le=this.getBorderAndBackgroundAppearances(ne);if(Y===void 0&&(Y=this.data.fieldValue,!Y))return`/Tx BMC q ${le}Q EMC`;if(Array.isArray(Y)&&Y.length===1&&(Y=Y[0]),(0,n.assert)(typeof Y=="string","Expected `value` to be a string."),Y=Y.trim(),this.data.combo){const He=this.data.options.find(({exportValue:Xe})=>Y===Xe);Y=(He==null?void 0:He.displayValue)||Y}if(Y==="")return`/Tx BMC q ${le}Q EMC`;G===void 0&&(G=this.rotation);let ce=-1,te;this.data.multiLine?(te=Y.split(/\r\n?|\n/).map(He=>He.normalize("NFC")),ce=te.length):te=[Y.replace(/\r\n?|\n/,"").normalize("NFC")];const ge=1,K=2;let Se=this.data.rect[3]-this.data.rect[1],Oe=this.data.rect[2]-this.data.rect[0];(G===90||G===270)&&([Oe,Se]=[Se,Oe]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,T.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let Me=await P._getFontData(W,Z,this.data.defaultAppearanceData,this._fieldResources.mergedResources),_e,ke,oe;const Ie=[];let Be=!1;for(const He of te){const Xe=Me.encodeString(He);Xe.length>1&&(Be=!0),Ie.push(Xe.join(""))}if(Be&&se&n.RenderingIntentFlag.SAVE)return{needAppearances:!0};if(Be&&this._isOffscreenCanvasSupported){const He=this.data.comb?"monospace":"sans-serif",Xe=new T.FakeUnicodeFont(W.xref,He),Fe=Xe.createFontResources(te.join("")),ae=Fe.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const Ee=this._fieldResources.mergedResources.get("Font");for(const xe of ae.getKeys())Ee.set(xe,ae.getRaw(xe))}else this._fieldResources.mergedResources.set("Font",ae);const Ae=Xe.fontName.name;Me=await P._getFontData(W,Z,{fontName:Ae,fontSize:0},Fe);for(let Ee=0,xe=Ie.length;Ee<xe;Ee++)Ie[Ee]=(0,d.stringToUTF16String)(te[Ee]);const Le=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Ae,[_e,ke,oe]=this._computeFontSize(Se-2*ge,Oe-2*K,Y,Me,ce),this.data.defaultAppearanceData=Le}else this._isOffscreenCanvasSupported||(0,n.warn)("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[_e,ke,oe]=this._computeFontSize(Se-2*ge,Oe-2*K,Y,Me,ce);let he=Me.descent;isNaN(he)?he=n.BASELINE_FACTOR*oe:he=Math.max(n.BASELINE_FACTOR*oe,Math.abs(he)*ke);const De=Math.min(Math.floor((Se-ke)/2),ge),ye=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(_e,Ie,Me,ke,Oe,Se,ye,K,De,he,oe,ne);if(this.data.comb)return this._getCombAppearance(_e,Me,Ie[0],ke,Oe,Se,K,De,he,oe,ne);const me=De+he;if(ye===0||ye>2)return`/Tx BMC q ${le}BT `+_e+` 1 0 0 1 ${(0,d.numberToString)(K)} ${(0,d.numberToString)(me)} Tm (${(0,d.escapeString)(Ie[0])}) Tj ET Q EMC`;const Pe={shift:0},Re=this._renderText(Ie[0],Me,ke,Oe,ye,Pe,K,me);return`/Tx BMC q ${le}BT `+_e+` 1 0 0 1 0 0 Tm ${Re} ET Q EMC`}static async _getFontData(W,Z,se,ne){const ie=new i.OperatorList,H={font:null,clone(){return this}},{fontName:Y,fontSize:G}=se;return await W.handleSetFont(ne,[Y&&e.Name.get(Y),G],null,ie,Z,H,null),H.font}_getTextWidth(W,Z){return Z.charsToGlyphs(W).reduce((se,ne)=>se+ne.width,0)/1e3}_computeFontSize(W,Z,se,ne,ie){let{fontSize:H}=this.data.defaultAppearanceData,Y=(H||12)*n.LINE_FACTOR,G=Math.round(W/Y);if(!H){const le=ge=>Math.floor(ge*100)/100;if(ie===-1){const ge=this._getTextWidth(se,ne);H=le(Math.min(W/n.LINE_FACTOR,ge>Z?Z/ge:1/0)),G=1}else{const ge=se.split(/\r\n?|\n/),K=[];for(const Oe of ge){const Me=ne.encodeString(Oe).join(""),_e=ne.charsToGlyphs(Me),ke=ne.getCharPositions(Me);K.push({line:Me,glyphs:_e,positions:ke})}const Se=Oe=>{let Me=0;for(const _e of K){const ke=this._splitLine(null,ne,Oe,Z,_e);if(Me+=ke.length*Oe,Me>W)return!0}return!1};for(G=Math.max(G,ie);;){if(Y=W/G,H=le(Y/n.LINE_FACTOR),Se(H)){G++;continue}break}}const{fontName:ce,fontColor:te}=this.data.defaultAppearanceData;this._defaultAppearance=(0,T.createDefaultAppearance)({fontSize:H,fontName:ce,fontColor:te})}return[this._defaultAppearance,H,W/G]}_renderText(W,Z,se,ne,ie,H,Y,G){let le;if(ie===1){const te=this._getTextWidth(W,Z)*se;le=(ne-te)/2}else if(ie===2){const te=this._getTextWidth(W,Z)*se;le=ne-te-Y}else le=Y;const ce=(0,d.numberToString)(le-H.shift);return H.shift=le,G=(0,d.numberToString)(G),`${ce} ${G} Td (${(0,d.escapeString)(W)}) Tj`}_getSaveFieldResources(W){var H;const{localResources:Z,appearanceResources:se,acroFormResources:ne}=this._fieldResources,ie=(H=this.data.defaultAppearanceData)==null?void 0:H.fontName;if(!ie)return Z||e.Dict.empty;for(const Y of[Z,se])if(Y instanceof e.Dict){const G=Y.get("Font");if(G instanceof e.Dict&&G.has(ie))return Y}if(ne instanceof e.Dict){const Y=ne.get("Font");if(Y instanceof e.Dict&&Y.has(ie)){const G=new e.Dict(W);G.set(ie,Y.getRaw(ie));const le=new e.Dict(W);return le.set("Font",G),e.Dict.merge({xref:W,dictArray:[le,Z],mergeSubDicts:!0})}}return Z||e.Dict.empty}getFieldObject(){return null}}class X extends P{constructor(W){super(W),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const Z=W.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let se=(0,d.getInheritableProperty)({dict:Z,key:"Q"});(!Number.isInteger(se)||se<0||se>2)&&(se=null),this.data.textAlignment=se;let ne=(0,d.getInheritableProperty)({dict:Z,key:"MaxLen"});(!Number.isInteger(ne)||ne<0)&&(ne=0),this.data.maxLen=ne,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(W,Z,se,ne,ie,H,Y,G,le,ce,te){const ge=ie/this.data.maxLen,K=this.getBorderAndBackgroundAppearances(te),Se=[],Oe=Z.getCharPositions(se);for(const[_e,ke]of Oe)Se.push(`(${(0,d.escapeString)(se.substring(_e,ke))}) Tj`);const Me=Se.join(` ${(0,d.numberToString)(ge)} 0 Td `);return`/Tx BMC q ${K}BT `+W+` 1 0 0 1 ${(0,d.numberToString)(Y)} ${(0,d.numberToString)(G+le)} Tm ${Me} ET Q EMC`}_getMultilineAppearance(W,Z,se,ne,ie,H,Y,G,le,ce,te,ge){const K=[],Se=ie-2*G,Oe={shift:0};for(let ke=0,oe=Z.length;ke<oe;ke++){const Ie=Z[ke],Be=this._splitLine(Ie,se,ne,Se);for(let he=0,De=Be.length;he<De;he++){const ye=Be[he],me=ke===0&&he===0?-le-(te-ce):-te;K.push(this._renderText(ye,se,ne,ie,Y,Oe,G,me))}}const Me=this.getBorderAndBackgroundAppearances(ge),_e=K.join(`
`);return`/Tx BMC q ${Me}BT `+W+` 1 0 0 1 0 ${(0,d.numberToString)(H)} Tm ${_e} ET Q EMC`}_splitLine(W,Z,se,ne,ie={}){W=ie.line||W;const H=ie.glyphs||Z.charsToGlyphs(W);if(H.length<=1)return[W];const Y=ie.positions||Z.getCharPositions(W),G=se/1e3,le=[];let ce=-1,te=-1,ge=-1,K=0,Se=0;for(let Oe=0,Me=H.length;Oe<Me;Oe++){const[_e,ke]=Y[Oe],oe=H[Oe],Ie=oe.width*G;oe.unicode===" "?Se+Ie>ne?(le.push(W.substring(K,_e)),K=_e,Se=Ie,ce=-1,ge=-1):(Se+=Ie,ce=_e,te=ke,ge=Oe):Se+Ie>ne?ce!==-1?(le.push(W.substring(K,te)),K=te,Oe=ge+1,ce=-1,Se=0):(le.push(W.substring(K,_e)),K=_e,Se=Ie):Se+=Ie}return K<W.length&&le.push(W.substring(K,W.length)),le}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class m extends P{constructor(W){super(W),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(W):this.data.radioButton?this._processRadioButton(W):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(W)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(W,Z,se,ne,ie){if(this.data.pushButton)return super.getOperatorList(W,Z,se,!1,ie);let H=null,Y=null;if(ie){const le=ie.get(this.data.id);H=le?le.value:null,Y=le?le.rotation:null}if(H===null&&this.appearance)return super.getOperatorList(W,Z,se,ne,ie);H==null&&(H=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const G=H?this.checkedAppearance:this.uncheckedAppearance;if(G){const le=this.appearance,ce=G.dict.getArray("Matrix")||n.IDENTITY_MATRIX;Y&&G.dict.set("Matrix",this.getRotationMatrix(ie)),this.appearance=G;const te=super.getOperatorList(W,Z,se,ne,ie);return this.appearance=le,G.dict.set("Matrix",ce),te}return{opList:new i.OperatorList,separateForm:!1,separateCanvas:!1}}async save(W,Z,se){return this.data.checkBox?this._saveCheckbox(W,Z,se):this.data.radioButton?this._saveRadioButton(W,Z,se):null}async _saveCheckbox(W,Z,se){if(!se)return null;const ne=se.get(this.data.id);let ie=ne==null?void 0:ne.rotation,H=ne==null?void 0:ne.value;if(ie===void 0&&(H===void 0||this.data.fieldValue===this.data.exportValue===H))return null;const Y=W.xref.fetchIfRef(this.ref);if(!(Y instanceof e.Dict))return null;ie===void 0&&(ie=this.rotation),H===void 0&&(H=this.data.fieldValue===this.data.exportValue);const G={path:this.data.fieldName,value:H?this.data.exportValue:""},le=e.Name.get(H?this.data.exportValue:"Off");Y.set("V",le),Y.set("AS",le),Y.set("M",`D:${(0,n.getModificationDate)()}`);const ce=this._getMKDict(ie);ce&&Y.set("MK",ce);const te=[];return await(0,x.writeObject)(this.ref,Y,te,W.xref),[{ref:this.ref,data:te.join(""),xfa:G}]}async _saveRadioButton(W,Z,se){if(!se)return null;const ne=se.get(this.data.id);let ie=ne==null?void 0:ne.rotation,H=ne==null?void 0:ne.value;if(ie===void 0&&(H===void 0||this.data.fieldValue===this.data.buttonValue===H))return null;const Y=W.xref.fetchIfRef(this.ref);if(!(Y instanceof e.Dict))return null;H===void 0&&(H=this.data.fieldValue===this.data.buttonValue),ie===void 0&&(ie=this.rotation);const G={path:this.data.fieldName,value:H?this.data.buttonValue:""},le=e.Name.get(H?this.data.buttonValue:"Off"),ce=[];let te=null;if(H)if(this.parent instanceof e.Ref){const Se=W.xref.fetch(this.parent);Se.set("V",le),await(0,x.writeObject)(this.parent,Se,ce,W.xref),te=ce.join(""),ce.length=0}else this.parent instanceof e.Dict&&this.parent.set("V",le);Y.set("AS",le),Y.set("M",`D:${(0,n.getModificationDate)()}`);const ge=this._getMKDict(ie);ge&&Y.set("MK",ge),await(0,x.writeObject)(this.ref,Y,ce,W.xref);const K=[{ref:this.ref,data:ce.join(""),xfa:G}];return te&&K.push({ref:this.parent,data:te,xfa:null}),K}_getDefaultCheckedAppearance(W,Z){const se=this.data.rect[2]-this.data.rect[0],ne=this.data.rect[3]-this.data.rect[1],ie=[0,0,se,ne],Y=Math.min(se,ne)*.8;let G,le;Z==="check"?(G={width:.755*Y,height:.705*Y},le="3"):Z==="disc"?(G={width:.791*Y,height:.705*Y},le="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${Z}`);const ce=(0,d.numberToString)((se-G.width)/2),te=(0,d.numberToString)((ne-G.height)/2),ge=`q BT /PdfJsZaDb ${Y} Tf 0 g ${ce} ${te} Td (${le}) Tj ET Q`,K=new e.Dict(W.xref);K.set("FormType",1),K.set("Subtype",e.Name.get("Form")),K.set("Type",e.Name.get("XObject")),K.set("BBox",ie),K.set("Matrix",[1,0,0,1,0,0]),K.set("Length",ge.length);const Se=new e.Dict(W.xref),Oe=new e.Dict(W.xref);Oe.set("PdfJsZaDb",this.fallbackFontDict),Se.set("Font",Oe),K.set("Resources",Se),this.checkedAppearance=new t.StringStream(ge),this.checkedAppearance.dict=K,this._streams.push(this.checkedAppearance)}_processCheckBox(W){const Z=W.dict.get("AP");if(!(Z instanceof e.Dict))return;const se=Z.get("N");if(!(se instanceof e.Dict))return;const ne=this._decodeFormValue(W.dict.get("AS"));typeof ne=="string"&&(this.data.fieldValue=ne);const ie=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",H=se.getKeys();if(H.length===0)H.push("Off",ie);else if(H.length===1)H[0]==="Off"?H.push(ie):H.unshift("Off");else if(H.includes(ie))H.length=0,H.push("Off",ie);else{const le=H.find(ce=>ce!=="Off");H.length=0,H.push("Off",le)}H.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=H[1];const Y=se.get(this.data.exportValue);this.checkedAppearance=Y instanceof l.BaseStream?Y:null;const G=se.get("Off");this.uncheckedAppearance=G instanceof l.BaseStream?G:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(W,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(W){this.data.fieldValue=this.data.buttonValue=null;const Z=W.dict.get("Parent");if(Z instanceof e.Dict){this.parent=W.dict.getRaw("Parent");const Y=Z.get("V");Y instanceof e.Name&&(this.data.fieldValue=this._decodeFormValue(Y))}const se=W.dict.get("AP");if(!(se instanceof e.Dict))return;const ne=se.get("N");if(!(ne instanceof e.Dict))return;for(const Y of ne.getKeys())if(Y!=="Off"){this.data.buttonValue=this._decodeFormValue(Y);break}const ie=ne.get(this.data.buttonValue);this.checkedAppearance=ie instanceof l.BaseStream?ie:null;const H=ne.get("Off");this.uncheckedAppearance=H instanceof l.BaseStream?H:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(W,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(W){const{dict:Z,annotationGlobals:se}=W;if(!Z.has("A")&&!Z.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!Z.has("A")&&!Z.has("AA"),F.Catalog.parseDestDictionary({destDict:Z,resultObj:this.data,docBaseUrl:se.baseUrl,docAttachments:se.attachments})}getFieldObject(){let W="button",Z;return this.data.checkBox?(W="checkbox",Z=this.data.exportValue):this.data.radioButton&&(W="radiobutton",Z=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:Z,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:W}}get fallbackFontDict(){const W=new e.Dict;return W.set("BaseFont",e.Name.get("ZapfDingbats")),W.set("Type",e.Name.get("FallbackType")),W.set("Subtype",e.Name.get("FallbackType")),W.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",W)}}class S extends P{constructor(W){super(W);const{dict:Z,xref:se}=W;this.indices=Z.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const ne=(0,d.getInheritableProperty)({dict:Z,key:"Opt"});if(Array.isArray(ne))for(let ie=0,H=ne.length;ie<H;ie++){const Y=se.fetchIfRef(ne[ie]),G=Array.isArray(Y);this.data.options[ie]={exportValue:this._decodeFormValue(G?se.fetchIfRef(Y[0]):Y),displayValue:this._decodeFormValue(G?se.fetchIfRef(Y[1]):Y)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const ie=this.data.options.length;for(const H of this.indices)Number.isInteger(H)&&H>=0&&H<ie&&this.data.fieldValue.push(this.data.options[H].exportValue)}this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const W=this.data.combo?"combobox":"listbox",Z=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:Z,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:W}}amendSavedDict(W,Z){var H;if(!this.hasIndices)return;let se=(H=W==null?void 0:W.get(this.data.id))==null?void 0:H.value;Array.isArray(se)||(se=[se]);const ne=[],{options:ie}=this.data;for(let Y=0,G=0,le=ie.length;Y<le;Y++)ie[Y].exportValue===se[G]&&(ne.push(Y),G+=1);Z.set("I",ne)}async _getAppearance(W,Z,se,ne){if(this.data.combo)return super._getAppearance(W,Z,se,ne);let ie,H;const Y=ne==null?void 0:ne.get(this.data.id);if(Y&&(H=Y.rotation,ie=Y.value),H===void 0&&ie===void 0&&!this._needAppearances)return null;ie===void 0?ie=this.data.fieldValue:Array.isArray(ie)||(ie=[ie]);const G=1,le=2;let ce=this.data.rect[3]-this.data.rect[1],te=this.data.rect[2]-this.data.rect[0];(H===90||H===270)&&([te,ce]=[ce,te]);const ge=this.data.options.length,K=[];for(let ye=0;ye<ge;ye++){const{exportValue:me}=this.data.options[ye];ie.includes(me)&&K.push(ye)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,T.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const Se=await P._getFontData(W,Z,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let Oe,{fontSize:Me}=this.data.defaultAppearanceData;if(Me)Oe=this._defaultAppearance;else{const ye=(ce-G)/ge;let me=-1,Pe;for(const{displayValue:Re}of this.data.options){const He=this._getTextWidth(Re,Se);He>me&&(me=He,Pe=Re)}[Oe,Me]=this._computeFontSize(ye,te-2*le,Pe,Se,-1)}const _e=Me*n.LINE_FACTOR,ke=(_e-Me)/2,oe=Math.floor(ce/_e);let Ie=0;if(K.length>0){const ye=Math.min(...K),me=Math.max(...K);Ie=Math.max(0,me-oe+1),Ie>ye&&(Ie=ye)}const Be=Math.min(Ie+oe+1,ge),he=["/Tx BMC q",`1 1 ${te} ${ce} re W n`];if(K.length){he.push("0.600006 0.756866 0.854904 rg");for(const ye of K)Ie<=ye&&ye<Be&&he.push(`1 ${ce-(ye-Ie+1)*_e} ${te} ${_e} re f`)}he.push("BT",Oe,`1 0 0 1 0 ${ce} Tm`);const De={shift:0};for(let ye=Ie;ye<Be;ye++){const{displayValue:me}=this.data.options[ye],Pe=ye===Ie?ke:0;he.push(this._renderText(me,Se,Me,te,0,De,le,-_e+Pe))}return he.push("ET Q EMC"),he.join(`
`)}}class R extends P{constructor(W){super(W),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class z extends _{constructor(W){super(W),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate;const{dict:se}=W;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=se.has("Name")?se.get("Name").name:"Note"),se.has("State")?(this.data.state=se.get("State")||null,this.data.stateModel=se.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class O extends I{constructor(W){var ie;super(W);const{dict:Z,annotationGlobals:se}=W;this.data.annotationType=n.AnnotationType.LINK;const ne=U(Z,this.rectangle);ne&&(this.data.quadPoints=ne),(ie=this.data).borderColor||(ie.borderColor=this.data.color),F.Catalog.parseDestDictionary({destDict:Z,resultObj:this.data,docBaseUrl:se.baseUrl,docAttachments:se.attachments})}}class E extends I{constructor(W){super(W);const{dict:Z}=W;this.data.annotationType=n.AnnotationType.POPUP,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let se=Z.get("Parent");if(!se){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const ne=se.getArray("Rect");this.data.parentRect=Array.isArray(ne)&&ne.length===4?n.Util.normalizeRect(ne):null;const ie=se.get("RT");if((0,e.isName)(ie,n.AnnotationReplyType.GROUP)&&(se=se.get("IRT")),se.has("M")?(this.setModificationDate(se.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,se.has("C")?(this.setColor(se.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const H=se.get("F");this._isViewable(H)&&this.setFlags(H)}this.setTitle(se.get("T")),this.data.titleObj=this._title,this.setContents(se.get("Contents")),this.data.contentsObj=this._contents,se.has("RC")&&(this.data.richText=p.XFAFactory.getRichTextAsHtml(se.get("RC"))),this.data.open=!!Z.get("Open")}}f.PopupAnnotation=E;class k extends _{constructor(W){var ne;super(W),this.data.hasOwnCanvas=!0;const{evaluatorOptions:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.FREETEXT,this.setDefaultAppearance(W),this.appearance){const{fontColor:ie,fontSize:H}=(0,T.parseAppearanceStream)(this.appearance,Z,se);this.data.defaultAppearanceData.fontColor=ie,this.data.defaultAppearanceData.fontSize=H||10}else if(this._isOffscreenCanvasSupported){const ie=W.dict.get("CA"),H=new T.FakeUnicodeFont(se,"sans-serif");(ne=this.data.defaultAppearanceData).fontSize||(ne.fontSize=10);const{fontColor:Y,fontSize:G}=this.data.defaultAppearanceData;this.appearance=H.createAppearance(this._contents.str,this.rectangle,this.rotation,G,Y,ie),this._streams.push(this.appearance,T.FakeUnicodeFont.toUnicodeStream)}else(0,n.warn)("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(W,Z,{apRef:se,ap:ne}){const{color:ie,fontSize:H,rect:Y,rotation:G,user:le,value:ce}=W,te=new e.Dict(Z);te.set("Type",e.Name.get("Annot")),te.set("Subtype",e.Name.get("FreeText")),te.set("CreationDate",`D:${(0,n.getModificationDate)()}`),te.set("Rect",Y);const ge=`/Helv ${H} Tf ${(0,T.getPdfColor)(ie,!0)}`;if(te.set("DA",ge),te.set("Contents",(0,d.isAscii)(ce)?ce:(0,d.stringToUTF16String)(ce,!0)),te.set("F",4),te.set("Border",[0,0,0]),te.set("Rotate",G),le&&te.set("T",(0,d.isAscii)(le)?le:(0,d.stringToUTF16String)(le,!0)),se||ne){const K=new e.Dict(Z);te.set("AP",K),se?K.set("N",se):K.set("N",ne)}return te}static async createNewAppearanceStream(W,Z,se){const{baseFontRef:ne,evaluator:ie,task:H}=se,{color:Y,fontSize:G,rect:le,rotation:ce,value:te}=W,ge=new e.Dict(Z),K=new e.Dict(Z);if(ne)K.set("Helv",ne);else{const ze=new e.Dict(Z);ze.set("BaseFont",e.Name.get("Helvetica")),ze.set("Type",e.Name.get("Font")),ze.set("Subtype",e.Name.get("Type1")),ze.set("Encoding",e.Name.get("WinAnsiEncoding")),K.set("Helv",ze)}ge.set("Font",K);const Se=await P._getFontData(ie,H,{fontName:"Helv",fontSize:G},ge),[Oe,Me,_e,ke]=le;let oe=_e-Oe,Ie=ke-Me;ce%180!==0&&([oe,Ie]=[Ie,oe]);const Be=te.split(`
`),he=G/1e3;let De=-1/0;const ye=[];for(let ze of Be){const Ge=Se.encodeString(ze);if(Ge.length>1)return null;ze=Ge.join(""),ye.push(ze);let Ve=0;const Ke=Se.charsToGlyphs(ze);for(const et of Ke)Ve+=et.width*he;De=Math.max(De,Ve)}let me=1;De>oe&&(me=oe/De);let Pe=1;const Re=n.LINE_FACTOR*G,He=(n.LINE_FACTOR-n.LINE_DESCENT_FACTOR)*G,Xe=Re*Be.length;Xe>Ie&&(Pe=Ie/Xe);const Fe=Math.min(me,Pe),ae=G*Fe;let Ae,Le,Ee;switch(ce){case 0:Ee=[1,0,0,1],Le=[le[0],le[1],oe,Ie],Ae=[le[0],le[3]-He];break;case 90:Ee=[0,1,-1,0],Le=[le[1],-le[2],oe,Ie],Ae=[le[1],-le[0]-He];break;case 180:Ee=[-1,0,0,-1],Le=[-le[2],-le[3],oe,Ie],Ae=[-le[2],-le[1]-He];break;case 270:Ee=[0,-1,1,0],Le=[-le[3],le[0],oe,Ie],Ae=[-le[3],le[2]-He];break}const xe=["q",`${Ee.join(" ")} 0 0 cm`,`${Le.join(" ")} re W n`,"BT",`${(0,T.getPdfColor)(Y,!0)}`,`0 Tc /Helv ${(0,d.numberToString)(ae)} Tf`];xe.push(`${Ae.join(" ")} Td (${(0,d.escapeString)(ye[0])}) Tj`);const Te=(0,d.numberToString)(Re);for(let ze=1,Ge=ye.length;ze<Ge;ze++){const Ve=ye[ze];xe.push(`0 -${Te} Td (${(0,d.escapeString)(Ve)}) Tj`)}xe.push("ET","Q");const Ne=xe.join(`
`),$e=new e.Dict(Z);$e.set("FormType",1),$e.set("Subtype",e.Name.get("Form")),$e.set("Type",e.Name.get("XObject")),$e.set("BBox",le),$e.set("Resources",ge),$e.set("Matrix",[1,0,0,1,-le[0],-le[1]]);const Ue=new t.StringStream(Ne);return Ue.dict=$e,Ue}}class M extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;this.data.annotationType=n.AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate;const ne=Z.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(ne),this.setLineEndings(Z.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA"),Y=b(Z.getArray("IC"),null),G=Y?N(Y):null,le=G?H:null,ce=this.borderStyle.width||1,te=2*ce,ge=[this.data.lineCoordinates[0]-te,this.data.lineCoordinates[1]-te,this.data.lineCoordinates[2]+te,this.data.lineCoordinates[3]+te];n.Util.intersect(this.rectangle,ge)||(this.rectangle=ge),this._setDefaultAppearance({xref:se,extra:`${ce} w`,strokeColor:ie,fillColor:G,strokeAlpha:H,fillAlpha:le,pointsCallback:(K,Se)=>(K.push(`${ne[0]} ${ne[1]} m`,`${ne[2]} ${ne[3]} l`,"S"),[Se[0].x-ce,Se[1].x+ce,Se[3].y-ce,Se[1].y+ce])})}}}class a extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,!this.appearance){const ne=this.color?N(this.color):[0,0,0],ie=Z.get("CA"),H=b(Z.getArray("IC"),null),Y=H?N(H):null,G=Y?ie:null;if(this.borderStyle.width===0&&!Y)return;this._setDefaultAppearance({xref:se,extra:`${this.borderStyle.width} w`,strokeColor:ne,fillColor:Y,strokeAlpha:ie,fillAlpha:G,pointsCallback:(le,ce)=>{const te=ce[2].x+this.borderStyle.width/2,ge=ce[2].y+this.borderStyle.width/2,K=ce[3].x-ce[2].x-this.borderStyle.width,Se=ce[1].y-ce[3].y-this.borderStyle.width;return le.push(`${te} ${ge} ${K} ${Se} re`),Y?le.push("B"):le.push("S"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y]}})}}}class o extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const ne=this.color?N(this.color):[0,0,0],ie=Z.get("CA"),H=b(Z.getArray("IC"),null),Y=H?N(H):null,G=Y?ie:null;if(this.borderStyle.width===0&&!Y)return;const le=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:se,extra:`${this.borderStyle.width} w`,strokeColor:ne,fillColor:Y,strokeAlpha:ie,fillAlpha:G,pointsCallback:(ce,te)=>{const ge=te[0].x+this.borderStyle.width/2,K=te[0].y-this.borderStyle.width/2,Se=te[3].x-this.borderStyle.width/2,Oe=te[3].y+this.borderStyle.width/2,Me=ge+(Se-ge)/2,_e=K+(Oe-K)/2,ke=(Se-ge)/2*le,oe=(Oe-K)/2*le;return ce.push(`${Me} ${Oe} m`,`${Me+ke} ${Oe} ${Se} ${_e+oe} ${Se} ${_e} c`,`${Se} ${_e-oe} ${Me+ke} ${K} ${Me} ${K} c`,`${Me-ke} ${K} ${ge} ${_e-oe} ${ge} ${_e} c`,`${ge} ${_e+oe} ${Me-ke} ${Oe} ${Me} ${Oe} c`,"h"),Y?ce.push("B"):ce.push("S"),[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}class r extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.vertices=[],this instanceof s||(this.setLineEndings(Z.getArray("LE")),this.data.lineEndings=this.lineEndings);const ne=Z.getArray("Vertices");if(Array.isArray(ne)){for(let ie=0,H=ne.length;ie<H;ie+=2)this.data.vertices.push({x:ne[ie],y:ne[ie+1]});if(!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA"),Y=this.borderStyle.width||1,G=2*Y,le=[1/0,1/0,-1/0,-1/0];for(const ce of this.data.vertices)le[0]=Math.min(le[0],ce.x-G),le[1]=Math.min(le[1],ce.y-G),le[2]=Math.max(le[2],ce.x+G),le[3]=Math.max(le[3],ce.y+G);n.Util.intersect(this.rectangle,le)||(this.rectangle=le),this._setDefaultAppearance({xref:se,extra:`${Y} w`,strokeColor:ie,strokeAlpha:H,pointsCallback:(ce,te)=>{const ge=this.data.vertices;for(let K=0,Se=ge.length;K<Se;K++)ce.push(`${ge[K].x} ${ge[K].y} ${K===0?"m":"l"}`);return ce.push("S"),[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}}class s extends r{constructor(W){super(W),this.data.annotationType=n.AnnotationType.POLYGON}}class A extends _{constructor(W){super(W),this.data.annotationType=n.AnnotationType.CARET}}class c extends _{constructor(W){super(W),this.data.hasOwnCanvas=this.data.noRotate;const{dict:Z,xref:se}=W;this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const ne=Z.getArray("InkList");if(Array.isArray(ne)){for(let ie=0,H=ne.length;ie<H;++ie){this.data.inkLists.push([]);for(let Y=0,G=ne[ie].length;Y<G;Y+=2)this.data.inkLists[ie].push({x:se.fetchIfRef(ne[ie][Y]),y:se.fetchIfRef(ne[ie][Y+1])})}if(!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA"),Y=this.borderStyle.width||1,G=2*Y,le=[1/0,1/0,-1/0,-1/0];for(const ce of this.data.inkLists)for(const te of ce)le[0]=Math.min(le[0],te.x-G),le[1]=Math.min(le[1],te.y-G),le[2]=Math.max(le[2],te.x+G),le[3]=Math.max(le[3],te.y+G);n.Util.intersect(this.rectangle,le)||(this.rectangle=le),this._setDefaultAppearance({xref:se,extra:`${Y} w`,strokeColor:ie,strokeAlpha:H,pointsCallback:(ce,te)=>{for(const ge of this.data.inkLists){for(let K=0,Se=ge.length;K<Se;K++)ce.push(`${ge[K].x} ${ge[K].y} ${K===0?"m":"l"}`);ce.push("S")}return[te[0].x,te[1].x,te[3].y,te[1].y]}})}}}static createNewDict(W,Z,{apRef:se,ap:ne}){const{color:ie,opacity:H,paths:Y,rect:G,rotation:le,thickness:ce}=W,te=new e.Dict(Z);te.set("Type",e.Name.get("Annot")),te.set("Subtype",e.Name.get("Ink")),te.set("CreationDate",`D:${(0,n.getModificationDate)()}`),te.set("Rect",G),te.set("InkList",Y.map(Se=>Se.points)),te.set("F",4),te.set("Rotate",le);const ge=new e.Dict(Z);te.set("BS",ge),ge.set("W",ce),te.set("C",Array.from(ie,Se=>Se/255)),te.set("CA",H);const K=new e.Dict(Z);return te.set("AP",K),se?K.set("N",se):K.set("N",ne),te}static async createNewAppearanceStream(W,Z,se){const{color:ne,rect:ie,paths:H,thickness:Y,opacity:G}=W,le=[`${Y} w 1 J 1 j`,`${(0,T.getPdfColor)(ne,!1)}`];G!==1&&le.push("/R0 gs");const ce=[];for(const{bezier:Se}of H){ce.length=0,ce.push(`${(0,d.numberToString)(Se[0])} ${(0,d.numberToString)(Se[1])} m`);for(let Oe=2,Me=Se.length;Oe<Me;Oe+=6){const _e=Se.slice(Oe,Oe+6).map(d.numberToString).join(" ");ce.push(`${_e} c`)}ce.push("S"),le.push(ce.join(`
`))}const te=le.join(`
`),ge=new e.Dict(Z);if(ge.set("FormType",1),ge.set("Subtype",e.Name.get("Form")),ge.set("Type",e.Name.get("XObject")),ge.set("BBox",ie),ge.set("Length",te.length),G!==1){const Se=new e.Dict(Z),Oe=new e.Dict(Z),Me=new e.Dict(Z);Me.set("CA",G),Me.set("Type",e.Name.get("ExtGState")),Oe.set("R0",Me),Se.set("ExtGState",Oe),ge.set("Resources",Se)}const K=new t.StringStream(te);return K.dict=ge,K}}class y extends _{constructor(W){var ie;super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=U(Z,null)){const H=(ie=this.appearance)==null?void 0:ie.dict.get("Resources");if(!this.appearance||!(H!=null&&H.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const Y=this.color?N(this.color):[1,1,0],G=Z.get("CA");this._setDefaultAppearance({xref:se,fillColor:Y,blendMode:"Multiply",fillAlpha:G,pointsCallback:(le,ce)=>(le.push(`${ce[0].x} ${ce[0].y} m`,`${ce[1].x} ${ce[1].y} l`,`${ce[3].x} ${ce[3].y} l`,`${ce[2].x} ${ce[2].y} l`,"f"),[ce[0].x,ce[1].x,ce[3].y,ce[1].y])})}}else this.data.popupRef=null}}class q extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=U(Z,null)){if(!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 0.571 w",strokeColor:ie,strokeAlpha:H,pointsCallback:(Y,G)=>(Y.push(`${G[2].x} ${G[2].y+1.3} m`,`${G[3].x} ${G[3].y+1.3} l`,"S"),[G[0].x,G[1].x,G[3].y,G[1].y])})}}else this.data.popupRef=null}}class re extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=U(Z,null)){if(!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 1 w",strokeColor:ie,strokeAlpha:H,pointsCallback:(Y,G)=>{const le=(G[0].y-G[2].y)/6;let ce=le,te=G[2].x;const ge=G[2].y,K=G[3].x;Y.push(`${te} ${ge+ce} m`);do te+=2,ce=ce===0?le:0,Y.push(`${te} ${ge+ce} l`);while(te<K);return Y.push("S"),[G[2].x,K,ge-2*le,ge+2*le]}})}}else this.data.popupRef=null}}class Q extends _{constructor(W){super(W);const{dict:Z,xref:se}=W;if(this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=U(Z,null)){if(!this.appearance){const ie=this.color?N(this.color):[0,0,0],H=Z.get("CA");this._setDefaultAppearance({xref:se,extra:"[] 0 d 1 w",strokeColor:ie,strokeAlpha:H,pointsCallback:(Y,G)=>(Y.push(`${(G[0].x+G[2].x)/2} ${(G[0].y+G[2].y)/2} m`,`${(G[1].x+G[3].x)/2} ${(G[1].y+G[3].y)/2} l`,"S"),[G[0].x,G[1].x,G[3].y,G[1].y])})}}else this.data.popupRef=null}}class de extends _{constructor(W){super(W),this.data.annotationType=n.AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate}static async createImage(W,Z){const{width:se,height:ne}=W,ie=new OffscreenCanvas(se,ne),H=ie.getContext("2d",{alpha:!0});H.drawImage(W,0,0);const Y=H.getImageData(0,0,se,ne).data,G=new Uint32Array(Y.buffer),le=G.some(n.FeatureTest.isLittleEndian?Me=>Me>>>24!==255:Me=>(Me&255)!==255);le&&(H.fillStyle="white",H.fillRect(0,0,se,ne),H.drawImage(W,0,0));const ce=ie.convertToBlob({type:"image/jpeg",quality:1}).then(Me=>Me.arrayBuffer()),te=e.Name.get("XObject"),ge=e.Name.get("Image"),K=new e.Dict(Z);K.set("Type",te),K.set("Subtype",ge),K.set("BitsPerComponent",8),K.set("ColorSpace",e.Name.get("DeviceRGB")),K.set("Filter",e.Name.get("DCTDecode")),K.set("BBox",[0,0,se,ne]),K.set("Width",se),K.set("Height",ne);let Se=null;if(le){const Me=new Uint8Array(G.length);if(n.FeatureTest.isLittleEndian)for(let ke=0,oe=G.length;ke<oe;ke++)Me[ke]=G[ke]>>>24;else for(let ke=0,oe=G.length;ke<oe;ke++)Me[ke]=G[ke]&255;const _e=new e.Dict(Z);_e.set("Type",te),_e.set("Subtype",ge),_e.set("BitsPerComponent",8),_e.set("ColorSpace",e.Name.get("DeviceGray")),_e.set("Width",se),_e.set("Height",ne),Se=new t.Stream(Me,0,0,_e)}return{imageStream:new t.Stream(await ce,0,0,K),smaskStream:Se,width:se,height:ne}}static createNewDict(W,Z,{apRef:se,ap:ne}){const{rect:ie,rotation:H,user:Y}=W,G=new e.Dict(Z);if(G.set("Type",e.Name.get("Annot")),G.set("Subtype",e.Name.get("Stamp")),G.set("CreationDate",`D:${(0,n.getModificationDate)()}`),G.set("Rect",ie),G.set("F",4),G.set("Border",[0,0,0]),G.set("Rotate",H),Y&&G.set("T",(0,d.isAscii)(Y)?Y:(0,d.stringToUTF16String)(Y,!0)),se||ne){const le=new e.Dict(Z);G.set("AP",le),se?le.set("N",se):le.set("N",ne)}return G}static async createNewAppearanceStream(W,Z,se){const{rotation:ne}=W,{imageRef:ie,width:H,height:Y}=se.image,G=new e.Dict(Z),le=new e.Dict(Z);G.set("XObject",le),le.set("Im0",ie);const ce=`q ${H} 0 0 ${Y} 0 0 cm /Im0 Do Q`,te=new e.Dict(Z);if(te.set("FormType",1),te.set("Subtype",e.Name.get("Form")),te.set("Type",e.Name.get("XObject")),te.set("BBox",[0,0,H,Y]),te.set("Resources",G),ne){const K=(0,d.getRotationMatrix)(ne,H,Y);te.set("Matrix",K)}const ge=new t.StringStream(ce);return ge.dict=te,ge}}class ee extends _{constructor(W){super(W);const{dict:Z,xref:se}=W,ne=new w.FileSpec(Z.get("FS"),se);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.file=ne.serializable;const ie=Z.get("Name");this.data.name=ie instanceof e.Name?(0,n.stringToPDFString)(ie.name):"PushPin";const H=Z.get("ca");this.data.fillAlpha=typeof H=="number"&&H>=0&&H<=1?H:null}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FakeUnicodeFont=void 0,f.createDefaultAppearance=x,f.getPdfColor=i,f.parseAppearanceStream=h,f.parseDefaultAppearance=w;var n=$(4),d=$(3),T=$(2),e=$(12),t=$(13),l=$(59),L=$(57),F=$(8);class g extends t.EvaluatorPreprocessor{constructor(b){super(new F.StringStream(b))}parse(){const b={fn:0,args:[]},N={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;b.args.length=0,!!this.read(b);){if(this.savedStatesDepth!==0)continue;const{fn:U,args:D}=b;switch(U|0){case T.OPS.setFont:const[I,B]=D;I instanceof n.Name&&(N.fontName=I.name),typeof B=="number"&&B>0&&(N.fontSize=B);break;case T.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(D,0,N.fontColor,0);break;case T.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(D,0,N.fontColor,0);break;case T.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(D,0,N.fontColor,0);break}}}catch(U){(0,T.warn)(`parseDefaultAppearance - ignoring errors: "${U}".`)}return N}}function w(v){return new g(v).parse()}class u extends t.EvaluatorPreprocessor{constructor(b,N,U){var D;super(b),this.stream=b,this.evaluatorOptions=N,this.xref=U,this.resources=(D=b.dict)==null?void 0:D.get("Resources")}parse(){const b={fn:0,args:[]};let N={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:e.ColorSpace.singletons.gray},U=!1;const D=[];try{for(;b.args.length=0,!(U||!this.read(b));){const{fn:I,args:B}=b;switch(I|0){case T.OPS.save:D.push({scaleFactor:N.scaleFactor,fontSize:N.fontSize,fontName:N.fontName,fontColor:N.fontColor.slice(),fillColorSpace:N.fillColorSpace});break;case T.OPS.restore:N=D.pop()||N;break;case T.OPS.setTextMatrix:N.scaleFactor*=Math.hypot(B[0],B[1]);break;case T.OPS.setFont:const[_,P]=B;_ instanceof n.Name&&(N.fontName=_.name),typeof P=="number"&&P>0&&(N.fontSize=P*N.scaleFactor);break;case T.OPS.setFillColorSpace:N.fillColorSpace=e.ColorSpace.parse({cs:B[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case T.OPS.setFillColor:N.fillColorSpace.getRgbItem(B,0,N.fontColor,0);break;case T.OPS.setFillRGBColor:e.ColorSpace.singletons.rgb.getRgbItem(B,0,N.fontColor,0);break;case T.OPS.setFillGray:e.ColorSpace.singletons.gray.getRgbItem(B,0,N.fontColor,0);break;case T.OPS.setFillCMYKColor:e.ColorSpace.singletons.cmyk.getRgbItem(B,0,N.fontColor,0);break;case T.OPS.showText:case T.OPS.showSpacedText:case T.OPS.nextLineShowText:case T.OPS.nextLineSetSpacingShowText:U=!0;break}}}catch(I){(0,T.warn)(`parseAppearanceStream - ignoring errors: "${I}".`)}return this.stream.reset(),delete N.scaleFactor,delete N.fillColorSpace,N}get _localColorSpaceCache(){return(0,T.shadow)(this,"_localColorSpaceCache",new l.LocalColorSpaceCache)}get _pdfFunctionFactory(){const b=new L.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return(0,T.shadow)(this,"_pdfFunctionFactory",b)}}function h(v,b,N){return new u(v,b,N).parse()}function i(v,b){if(v[0]===v[1]&&v[1]===v[2]){const N=v[0]/255;return`${(0,d.numberToString)(N)} ${b?"g":"G"}`}return Array.from(v,N=>(0,d.numberToString)(N/255)).join(" ")+` ${b?"rg":"RG"}`}function x({fontSize:v,fontName:b,fontColor:N}){return`/${(0,d.escapePDFName)(b)} ${v} Tf ${i(N,!0)}`}class p{constructor(b,N){this.xref=b,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=N;const U=new OffscreenCanvas(1,1);this.ctxMeasure=U.getContext("2d"),p._fontNameId||(p._fontNameId=1),this.fontName=n.Name.get(`InvalidPDFjsFont_${N}_${p._fontNameId++}`)}get toUnicodeRef(){if(!p._toUnicodeRef){const b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,N=p.toUnicodeStream=new F.StringStream(b),U=new n.Dict(this.xref);N.dict=U,U.set("Length",b.length),p._toUnicodeRef=this.xref.getNewPersistentRef(N)}return p._toUnicodeRef}get fontDescriptorRef(){if(!p._fontDescriptorRef){const b=new n.Dict(this.xref);b.set("Type",n.Name.get("FontDescriptor")),b.set("FontName",this.fontName),b.set("FontFamily","MyriadPro Regular"),b.set("FontBBox",[0,0,0,0]),b.set("FontStretch",n.Name.get("Normal")),b.set("FontWeight",400),b.set("ItalicAngle",0),p._fontDescriptorRef=this.xref.getNewPersistentRef(b)}return p._fontDescriptorRef}get descendantFontRef(){const b=new n.Dict(this.xref);b.set("BaseFont",this.fontName),b.set("Type",n.Name.get("Font")),b.set("Subtype",n.Name.get("CIDFontType0")),b.set("CIDToGIDMap",n.Name.get("Identity")),b.set("FirstChar",this.firstChar),b.set("LastChar",this.lastChar),b.set("FontDescriptor",this.fontDescriptorRef),b.set("DW",1e3);const N=[],U=[...this.widths.entries()].sort();let D=null,I=null;for(const[_,P]of U){if(!D){D=_,I=[P];continue}_===D+I.length?I.push(P):(N.push(D,I),D=_,I=[P])}D&&N.push(D,I),b.set("W",N);const B=new n.Dict(this.xref);return B.set("Ordering","Identity"),B.set("Registry","Adobe"),B.set("Supplement",0),b.set("CIDSystemInfo",B),this.xref.getNewPersistentRef(b)}get baseFontRef(){const b=new n.Dict(this.xref);return b.set("BaseFont",this.fontName),b.set("Type",n.Name.get("Font")),b.set("Subtype",n.Name.get("Type0")),b.set("Encoding",n.Name.get("Identity-H")),b.set("DescendantFonts",[this.descendantFontRef]),b.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(b)}get resources(){const b=new n.Dict(this.xref),N=new n.Dict(this.xref);return N.set(this.fontName.name,this.baseFontRef),b.set("Font",N),b}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(b){const N=this._createContext();for(const U of b.split(/\r\n?|\n/))for(const D of U.split("")){const I=D.charCodeAt(0);if(this.widths.has(I))continue;const B=N.measureText(D),_=Math.ceil(B.width);this.widths.set(I,_),this.firstChar=Math.min(I,this.firstChar),this.lastChar=Math.max(I,this.lastChar)}return this.resources}createAppearance(b,N,U,D,I,B){const _=this._createContext(),P=[];let X=-1/0;for(const ee of b.split(/\r\n?|\n/)){P.push(ee);const ue=_.measureText(ee).width;X=Math.max(X,ue);for(const W of ee.split("")){const Z=W.charCodeAt(0);let se=this.widths.get(Z);if(se===void 0){const ne=_.measureText(W);se=Math.ceil(ne.width),this.widths.set(Z,se),this.firstChar=Math.min(Z,this.firstChar),this.lastChar=Math.max(Z,this.lastChar)}}}X*=D/1e3;const[m,S,R,z]=N;let O=R-m,E=z-S;U%180!==0&&([O,E]=[E,O]);let k=1;X>O&&(k=O/X);let M=1;const a=T.LINE_FACTOR*D,o=T.LINE_DESCENT_FACTOR*D,r=a*P.length;r>E&&(M=E/r);const s=Math.min(k,M),A=D*s,c=["q",`0 0 ${(0,d.numberToString)(O)} ${(0,d.numberToString)(E)} re W n`,"BT",`1 0 0 1 0 ${(0,d.numberToString)(E+o)} Tm 0 Tc ${i(I,!0)}`,`/${this.fontName.name} ${(0,d.numberToString)(A)} Tf`],{resources:y}=this;if(B=typeof B=="number"&&B>=0&&B<=1?B:1,B!==1){c.push("/R0 gs");const ee=new n.Dict(this.xref),ue=new n.Dict(this.xref);ue.set("ca",B),ue.set("CA",B),ue.set("Type",n.Name.get("ExtGState")),ee.set("R0",ue),y.set("ExtGState",ee)}const q=(0,d.numberToString)(a);for(const ee of P)c.push(`0 -${q} Td <${(0,d.stringToUTF16HexString)(ee)}> Tj`);c.push("ET","Q");const re=c.join(`
`),Q=new n.Dict(this.xref);if(Q.set("Subtype",n.Name.get("Form")),Q.set("Type",n.Name.get("XObject")),Q.set("BBox",[0,0,O,E]),Q.set("Length",re.length),Q.set("Resources",y),U){const ee=(0,d.getRotationMatrix)(U,O,E);Q.set("Matrix",ee)}const de=new F.StringStream(re);return de.dict=Q,de}}f.FakeUnicodeFont=p},(fe,f,$)=>{var v,Ki,N,Yi,D,I,B,_,P,X,m,S,R,dn,O,Lr,k,Nr,a,Wn,r,gn,A,pn,y,Br,re,$r,de,jr,ue,Zi,se,Gn,ie,Vn,Y,Ji;Object.defineProperty(f,"__esModule",{value:!0}),f.ColorSpace=void 0;var n=$(2),d=$(4),T=$(5),e=$(3);function t(le,ce,te,ge,K,Se,Oe){Oe=Oe!==1?0:Oe;const _e=te/K,ke=ge/Se;let oe=0,Ie;const Be=new Uint16Array(K),he=te*3;for(let De=0;De<K;De++)Be[De]=Math.floor(De*_e)*3;for(let De=0;De<Se;De++){const ye=Math.floor(De*ke)*he;for(let me=0;me<K;me++)Ie=ye+Be[me],ce[oe++]=le[Ie++],ce[oe++]=le[Ie++],ce[oe++]=le[Ie++],oe+=Oe}}class l{constructor(ce,te){this.constructor===l&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=ce,this.numComps=te}getRgb(ce,te){const ge=new Uint8ClampedArray(3);return this.getRgbItem(ce,te,ge,0),ge}getRgbItem(ce,te,ge,K){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(ce,te,ge,K,Se,Oe,Me){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(ce,te){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(ce){return!1}isDefaultDecode(ce,te){return l.isDefaultDecode(ce,this.numComps)}fillRgb(ce,te,ge,K,Se,Oe,Me,_e,ke){const oe=te*ge;let Ie=null;const Be=1<<Me,he=ge!==Se||te!==K;if(this.isPassthrough(Me))Ie=_e;else if(this.numComps===1&&oe>Be&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const De=Me<=8?new Uint8Array(Be):new Uint16Array(Be);for(let me=0;me<Be;me++)De[me]=me;const ye=new Uint8ClampedArray(Be*3);if(this.getRgbBuffer(De,0,Be,ye,0,Me,0),he){Ie=new Uint8Array(oe*3);let me=0;for(let Pe=0;Pe<oe;++Pe){const Re=_e[Pe]*3;Ie[me++]=ye[Re],Ie[me++]=ye[Re+1],Ie[me++]=ye[Re+2]}}else{let me=0;for(let Pe=0;Pe<oe;++Pe){const Re=_e[Pe]*3;ce[me++]=ye[Re],ce[me++]=ye[Re+1],ce[me++]=ye[Re+2],me+=ke}}}else he?(Ie=new Uint8ClampedArray(oe*3),this.getRgbBuffer(_e,0,oe,Ie,0,Me,0)):this.getRgbBuffer(_e,0,K*Oe,ce,0,Me,ke);if(Ie)if(he)t(Ie,ce,te,ge,K,Se,ke);else{let De=0,ye=0;for(let me=0,Pe=K*Oe;me<Pe;me++)ce[De++]=Ie[ye++],ce[De++]=Ie[ye++],ce[De++]=Ie[ye++],De+=ke}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(ce,te,ge,K){if(!ge)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!K)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let Se,Oe;ce instanceof d.Ref&&(Oe=ce,ce=te.fetch(ce)),ce instanceof d.Name&&(Se=ce.name),(Se||Oe)&&ge.set(Se,Oe,K)}static getCached(ce,te,ge){if(!ge)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(ce instanceof d.Ref){const K=ge.getByRef(ce);if(K)return K;try{ce=te.fetch(ce)}catch(Se){if(Se instanceof e.MissingDataException)throw Se}}if(ce instanceof d.Name){const K=ge.getByName(ce.name);if(K)return K}return null}static async parseAsync({cs:ce,xref:te,resources:ge=null,pdfFunctionFactory:K,localColorSpaceCache:Se}){const Oe=this._parse(ce,te,ge,K);return this._cache(ce,te,Se,Oe),Oe}static parse({cs:ce,xref:te,resources:ge=null,pdfFunctionFactory:K,localColorSpaceCache:Se}){const Oe=this.getCached(ce,te,Se);if(Oe)return Oe;const Me=this._parse(ce,te,ge,K);return this._cache(ce,te,Se,Me),Me}static _parse(ce,te,ge=null,K){if(ce=te.fetchIfRef(ce),ce instanceof d.Name)switch(ce.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new F(null);default:if(ge instanceof d.Dict){const Se=ge.get("ColorSpace");if(Se instanceof d.Dict){const Oe=Se.get(ce.name);if(Oe){if(Oe instanceof d.Name)return this._parse(Oe,te,ge,K);ce=Oe;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${ce.name}`)}if(Array.isArray(ce)){const Se=te.fetchIfRef(ce[0]).name;let Oe,Me,_e,ke,oe,Ie;switch(Se){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return Oe=te.fetchIfRef(ce[1]),ke=Oe.getArray("WhitePoint"),oe=Oe.getArray("BlackPoint"),Ie=Oe.get("Gamma"),new i(ke,oe,Ie);case"CalRGB":Oe=te.fetchIfRef(ce[1]),ke=Oe.getArray("WhitePoint"),oe=Oe.getArray("BlackPoint"),Ie=Oe.getArray("Gamma");const Be=Oe.getArray("Matrix");return new x(ke,oe,Ie,Be);case"ICCBased":const De=te.fetchIfRef(ce[1]).dict;Me=De.get("N");const ye=De.get("Alternate");if(ye){const Fe=this._parse(ye,te,ge,K);if(Fe.numComps===Me)return Fe;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Me===1)return this.singletons.gray;if(Me===3)return this.singletons.rgb;if(Me===4)return this.singletons.cmyk;break;case"Pattern":return _e=ce[1]||null,_e&&(_e=this._parse(_e,te,ge,K)),new F(_e);case"I":case"Indexed":_e=this._parse(ce[1],te,ge,K);const me=te.fetchIfRef(ce[2])+1,Pe=te.fetchIfRef(ce[3]);return new g(_e,me,Pe);case"Separation":case"DeviceN":const Re=te.fetchIfRef(ce[1]);Me=Array.isArray(Re)?Re.length:1,_e=this._parse(ce[2],te,ge,K);const He=K.create(ce[3]);return new L(Me,_e,He);case"Lab":Oe=te.fetchIfRef(ce[1]),ke=Oe.getArray("WhitePoint"),oe=Oe.getArray("BlackPoint");const Xe=Oe.getArray("Range");return new p(ke,oe,Xe);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${Se}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${ce}`)}static isDefaultDecode(ce,te){if(!Array.isArray(ce))return!0;if(te*2!==ce.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let ge=0,K=ce.length;ge<K;ge+=2)if(ce[ge]!==0||ce[ge+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new w)},get rgb(){return(0,n.shadow)(this,"rgb",new u)},get cmyk(){return(0,n.shadow)(this,"cmyk",new h)}})}}f.ColorSpace=l;class L extends l{constructor(ce,te,ge){super("Alternate",ce),this.base=te,this.tintFn=ge,this.tmpBuf=new Float32Array(te.numComps)}getRgbItem(ce,te,ge,K){const Se=this.tmpBuf;this.tintFn(ce,te,Se,0),this.base.getRgbItem(Se,0,ge,K)}getRgbBuffer(ce,te,ge,K,Se,Oe,Me){const _e=this.tintFn,ke=this.base,oe=1/((1<<Oe)-1),Ie=ke.numComps,Be=ke.usesZeroToOneRange,he=(ke.isPassthrough(8)||!Be)&&Me===0;let De=he?Se:0;const ye=he?K:new Uint8ClampedArray(Ie*ge),me=this.numComps,Pe=new Float32Array(me),Re=new Float32Array(Ie);let He,Xe;for(He=0;He<ge;He++){for(Xe=0;Xe<me;Xe++)Pe[Xe]=ce[te++]*oe;if(_e(Pe,0,Re,0),Be)for(Xe=0;Xe<Ie;Xe++)ye[De++]=Re[Xe]*255;else ke.getRgbItem(Re,0,ye,De),De+=Ie}he||ke.getRgbBuffer(ye,0,ge,K,Se,8,Me)}getOutputLength(ce,te){return this.base.getOutputLength(ce*this.base.numComps/this.numComps,te)}}class F extends l{constructor(ce){super("Pattern",null),this.base=ce}isDefaultDecode(ce,te){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class g extends l{constructor(ce,te,ge){super("Indexed",1),this.base=ce,this.highVal=te;const K=ce.numComps*te;if(this.lookup=new Uint8Array(K),ge instanceof T.BaseStream){const Se=ge.getBytes(K);this.lookup.set(Se)}else if(typeof ge=="string")for(let Se=0;Se<K;++Se)this.lookup[Se]=ge.charCodeAt(Se)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${ge}`)}getRgbItem(ce,te,ge,K){const Se=this.base.numComps,Oe=ce[te]*Se;this.base.getRgbBuffer(this.lookup,Oe,1,ge,K,8,0)}getRgbBuffer(ce,te,ge,K,Se,Oe,Me){const _e=this.base,ke=_e.numComps,oe=_e.getOutputLength(ke,Me),Ie=this.lookup;for(let Be=0;Be<ge;++Be){const he=ce[te++]*ke;_e.getRgbBuffer(Ie,he,1,K,Se,8,Me),Se+=oe}}getOutputLength(ce,te){return this.base.getOutputLength(ce*this.base.numComps,te)}isDefaultDecode(ce,te){return Array.isArray(ce)?ce.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(te)||te<1?((0,n.warn)("Bits per component is not correct"),!0):ce[0]===0&&ce[1]===(1<<te)-1:!0}}class w extends l{constructor(){super("DeviceGray",1)}getRgbItem(ce,te,ge,K){const Se=ce[te]*255;ge[K]=ge[K+1]=ge[K+2]=Se}getRgbBuffer(ce,te,ge,K,Se,Oe,Me){const _e=255/((1<<Oe)-1);let ke=te,oe=Se;for(let Ie=0;Ie<ge;++Ie){const Be=_e*ce[ke++];K[oe++]=Be,K[oe++]=Be,K[oe++]=Be,oe+=Me}}getOutputLength(ce,te){return ce*(3+te)}}class u extends l{constructor(){super("DeviceRGB",3)}getRgbItem(ce,te,ge,K){ge[K]=ce[te]*255,ge[K+1]=ce[te+1]*255,ge[K+2]=ce[te+2]*255}getRgbBuffer(ce,te,ge,K,Se,Oe,Me){if(Oe===8&&Me===0){K.set(ce.subarray(te,te+ge*3),Se);return}const _e=255/((1<<Oe)-1);let ke=te,oe=Se;for(let Ie=0;Ie<ge;++Ie)K[oe++]=_e*ce[ke++],K[oe++]=_e*ce[ke++],K[oe++]=_e*ce[ke++],oe+=Me}getOutputLength(ce,te){return ce*(3+te)/3|0}isPassthrough(ce){return ce===8}}class h extends l{constructor(){super("DeviceCMYK",4);je(this,v)}getRgbItem(te,ge,K,Se){qe(this,v,Ki).call(this,te,ge,1,K,Se)}getRgbBuffer(te,ge,K,Se,Oe,Me,_e){const ke=1/((1<<Me)-1);for(let oe=0;oe<K;oe++)qe(this,v,Ki).call(this,te,ge,ke,Se,Oe),ge+=4,Oe+=3+_e}getOutputLength(te,ge){return te/4*(3+ge)|0}}v=new WeakSet,Ki=function(te,ge,K,Se,Oe){const Me=te[ge]*K,_e=te[ge+1]*K,ke=te[ge+2]*K,oe=te[ge+3]*K;Se[Oe]=255+Me*(-4.387332384609988*Me+54.48615194189176*_e+18.82290502165302*ke+212.25662451639585*oe+-285.2331026137004)+_e*(1.7149763477362134*_e-5.6096736904047315*ke+-17.873870861415444*oe-5.497006427196366)+ke*(-2.5217340131683033*ke-21.248923337353073*oe+17.5119270841813)+oe*(-21.86122147463605*oe-189.48180835922747),Se[Oe+1]=255+Me*(8.841041422036149*Me+60.118027045597366*_e+6.871425592049007*ke+31.159100130055922*oe+-79.2970844816548)+_e*(-15.310361306967817*_e+17.575251261109482*ke+131.35250912493976*oe-190.9453302588951)+ke*(4.444339102852739*ke+9.8632861493405*oe-24.86741582555878)+oe*(-20.737325471181034*oe-187.80453709719578),Se[Oe+2]=255+Me*(.8842522430003296*Me+8.078677503112928*_e+30.89978309703729*ke-.23883238689178934*oe+-14.183576799673286)+_e*(10.49593273432072*_e+63.02378494754052*ke+50.606957656360734*oe-112.23884253719248)+ke*(.03296041114873217*ke+115.60384449646641*oe+-193.58209356861505)+oe*(-22.33816807309886*oe-180.12613974708367)};class i extends l{constructor(te,ge,K){super("CalGray",1);je(this,N);if(!te)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=te,[this.XB,this.YB,this.ZB]=ge||[0,0,0],this.G=K||1,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(te,ge,K,Se){qe(this,N,Yi).call(this,te,ge,K,Se,1)}getRgbBuffer(te,ge,K,Se,Oe,Me,_e){const ke=1/((1<<Me)-1);for(let oe=0;oe<K;++oe)qe(this,N,Yi).call(this,te,ge,Se,Oe,ke),ge+=1,Oe+=3+_e}getOutputLength(te,ge){return te*(3+ge)}}N=new WeakSet,Yi=function(te,ge,K,Se,Oe){const _e=(te[ge]*Oe)**this.G,ke=this.YW*_e,oe=Math.max(295.8*ke**.3333333333333333-40.8,0);K[Se]=oe,K[Se+1]=oe,K[Se+2]=oe};const Z=class Z extends l{constructor(te,ge,K,Se){super("CalRGB",3);je(this,R);je(this,O);je(this,k);je(this,a);je(this,r);je(this,A);je(this,y);je(this,re);je(this,de);je(this,ue);if(!te)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");const[Oe,Me,_e]=this.whitePoint=te,[ke,oe,Ie]=this.blackPoint=ge||new Float32Array(3);if([this.GR,this.GG,this.GB]=K||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=Se||new Float32Array([1,0,0,0,1,0,0,0,1]),Oe<0||_e<0||Me!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(ke<0||oe<0||Ie<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${ke}, ${oe}, ${Ie}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(te,ge,K,Se){qe(this,ue,Zi).call(this,te,ge,K,Se,1)}getRgbBuffer(te,ge,K,Se,Oe,Me,_e){const ke=1/((1<<Me)-1);for(let oe=0;oe<K;++oe)qe(this,ue,Zi).call(this,te,ge,Se,Oe,ke),ge+=3,Oe+=3+_e}getOutputLength(te,ge){return te*(3+ge)/3|0}};D=new WeakMap,I=new WeakMap,B=new WeakMap,_=new WeakMap,P=new WeakMap,X=new WeakMap,m=new WeakMap,S=new WeakMap,R=new WeakSet,dn=function(te,ge,K){K[0]=te[0]*ge[0]+te[1]*ge[1]+te[2]*ge[2],K[1]=te[3]*ge[0]+te[4]*ge[1]+te[5]*ge[2],K[2]=te[6]*ge[0]+te[7]*ge[1]+te[8]*ge[2]},O=new WeakSet,Lr=function(te,ge,K){K[0]=ge[0]*1/te[0],K[1]=ge[1]*1/te[1],K[2]=ge[2]*1/te[2]},k=new WeakSet,Nr=function(te,ge,K){K[0]=ge[0]*.95047/te[0],K[1]=ge[1]*1/te[1],K[2]=ge[2]*1.08883/te[2]},a=new WeakSet,Wn=function(te){return te<=.0031308?qe(this,r,gn).call(this,0,1,12.92*te):te>=.99554525?1:qe(this,r,gn).call(this,0,1,1.055*te**.4166666666666667-.055)},r=new WeakSet,gn=function(te,ge,K){return Math.max(te,Math.min(ge,K))},A=new WeakSet,pn=function(te){return te<0?-qe(this,A,pn).call(this,-te):te>8?((te+16)/116)**3:te*Ce(Z,S)},y=new WeakSet,Br=function(te,ge,K){if(te[0]===0&&te[1]===0&&te[2]===0){K[0]=ge[0],K[1]=ge[1],K[2]=ge[2];return}const Se=qe(this,A,pn).call(this,0),Oe=Se,Me=qe(this,A,pn).call(this,te[0]),_e=Se,ke=qe(this,A,pn).call(this,te[1]),oe=Se,Ie=qe(this,A,pn).call(this,te[2]),Be=(1-Oe)/(1-Me),he=1-Be,De=(1-_e)/(1-ke),ye=1-De,me=(1-oe)/(1-Ie),Pe=1-me;K[0]=ge[0]*Be+he,K[1]=ge[1]*De+ye,K[2]=ge[2]*me+Pe},re=new WeakSet,$r=function(te,ge,K){if(te[0]===1&&te[2]===1){K[0]=ge[0],K[1]=ge[1],K[2]=ge[2];return}const Se=K;qe(this,R,dn).call(this,Ce(Z,D),ge,Se);const Oe=Ce(Z,P);qe(this,O,Lr).call(this,te,Se,Oe),qe(this,R,dn).call(this,Ce(Z,I),Oe,K)},de=new WeakSet,jr=function(te,ge,K){const Se=K;qe(this,R,dn).call(this,Ce(Z,D),ge,Se);const Oe=Ce(Z,P);qe(this,k,Nr).call(this,te,Se,Oe),qe(this,R,dn).call(this,Ce(Z,I),Oe,K)},ue=new WeakSet,Zi=function(te,ge,K,Se,Oe){const Me=qe(this,r,gn).call(this,0,1,te[ge]*Oe),_e=qe(this,r,gn).call(this,0,1,te[ge+1]*Oe),ke=qe(this,r,gn).call(this,0,1,te[ge+2]*Oe),oe=Me===1?1:Me**this.GR,Ie=_e===1?1:_e**this.GG,Be=ke===1?1:ke**this.GB,he=this.MXA*oe+this.MXB*Ie+this.MXC*Be,De=this.MYA*oe+this.MYB*Ie+this.MYC*Be,ye=this.MZA*oe+this.MZB*Ie+this.MZC*Be,me=Ce(Z,X);me[0]=he,me[1]=De,me[2]=ye;const Pe=Ce(Z,m);qe(this,re,$r).call(this,this.whitePoint,me,Pe);const Re=Ce(Z,X);qe(this,y,Br).call(this,this.blackPoint,Pe,Re);const He=Ce(Z,m);qe(this,de,jr).call(this,Ce(Z,_),Re,He);const Xe=Ce(Z,X);qe(this,R,dn).call(this,Ce(Z,B),He,Xe),K[Se]=qe(this,a,Wn).call(this,Xe[0])*255,K[Se+1]=qe(this,a,Wn).call(this,Xe[1])*255,K[Se+2]=qe(this,a,Wn).call(this,Xe[2])*255},je(Z,D,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),je(Z,I,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),je(Z,B,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),je(Z,_,new Float32Array([1,1,1])),je(Z,P,new Float32Array(3)),je(Z,X,new Float32Array(3)),je(Z,m,new Float32Array(3)),je(Z,S,.0011070564598794539);let x=Z;class p extends l{constructor(te,ge,K){super("Lab",3);je(this,se);je(this,ie);je(this,Y);if(!te)throw new n.FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=te,[this.amin,this.amax,this.bmin,this.bmax]=K||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=ge||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(te,ge,K,Se){qe(this,Y,Ji).call(this,te,ge,!1,K,Se)}getRgbBuffer(te,ge,K,Se,Oe,Me,_e){const ke=(1<<Me)-1;for(let oe=0;oe<K;oe++)qe(this,Y,Ji).call(this,te,ge,ke,Se,Oe),ge+=3,Oe+=3+_e}getOutputLength(te,ge){return te*(3+ge)/3|0}isDefaultDecode(te,ge){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}se=new WeakSet,Gn=function(te){return te>=.20689655172413793?te**3:.12841854934601665*(te-.13793103448275862)},ie=new WeakSet,Vn=function(te,ge,K,Se){return K+te*(Se-K)/ge},Y=new WeakSet,Ji=function(te,ge,K,Se,Oe){let Me=te[ge],_e=te[ge+1],ke=te[ge+2];K!==!1&&(Me=qe(this,ie,Vn).call(this,Me,K,0,100),_e=qe(this,ie,Vn).call(this,_e,K,this.amin,this.amax),ke=qe(this,ie,Vn).call(this,ke,K,this.bmin,this.bmax)),_e>this.amax?_e=this.amax:_e<this.amin&&(_e=this.amin),ke>this.bmax?ke=this.bmax:ke<this.bmin&&(ke=this.bmin);const oe=(Me+16)/116,Ie=oe+_e/500,Be=oe-ke/200,he=this.XW*qe(this,se,Gn).call(this,Ie),De=this.YW*qe(this,se,Gn).call(this,oe),ye=this.ZW*qe(this,se,Gn).call(this,Be);let me,Pe,Re;this.ZW<1?(me=he*3.1339+De*-1.617+ye*-.4906,Pe=he*-.9785+De*1.916+ye*.0333,Re=he*.072+De*-.229+ye*1.4057):(me=he*3.2406+De*-1.5372+ye*-.4986,Pe=he*-.9689+De*1.8758+ye*.0415,Re=he*.0557+De*-.204+ye*1.057),Se[Oe]=Math.sqrt(me)*255,Se[Oe+1]=Math.sqrt(Pe)*255,Se[Oe+2]=Math.sqrt(Re)*255}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PartialEvaluator=f.EvaluatorPreprocessor=void 0;var n=$(2),d=$(14),T=$(4),e=$(34),t=$(37),l=$(41),L=$(50),F=$(51),g=$(42),w=$(57),u=$(16),h=$(59),i=$(8),x=$(5),p=$(60),v=$(12),b=$(18),N=$(38),U=$(61),D=$(39),I=$(45),B=$(40),_=$(62),P=$(63),X=$(64),m=$(65);const S=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),R={TILING:1,SHADING:2},z=10,O=Promise.resolve();function E(re,Q=!1){if(Array.isArray(re)){for(const de of re){const ee=E(de,!0);if(ee)return ee}return(0,n.warn)(`Unsupported blend mode Array: ${re}`),"source-over"}if(!(re instanceof T.Name))return Q?null:"source-over";switch(re.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Q?null:((0,n.warn)(`Unsupported blend mode: ${re.name}`),"source-over")}function k(re){var Q;re.fn===n.OPS.paintImageMaskXObject&&((Q=re.args[0])==null?void 0:Q.count)>0&&re.args[0].count++}const y=class y{constructor(){this.reset()}check(){return++this.checked<y.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+y.TIME_SLOT_DURATION_MS,this.checked=0}};Mt(y,"TIME_SLOT_DURATION_MS",20),Mt(y,"CHECK_TIME_EVERY",100);let M=y;class a{constructor({xref:Q,handler:de,pageIndex:ee,idFactory:ue,fontCache:W,builtInCMapCache:Z,standardFontDataCache:se,globalImageCache:ne,systemFontCache:ie,options:H=null}){this.xref=Q,this.handler=de,this.pageIndex=ee,this.idFactory=ue,this.fontCache=W,this.builtInCMapCache=Z,this.standardFontDataCache=se,this.globalImageCache=ne,this.systemFontCache=ie,this.options=H||S,this.parsingType3Font=!1,this._regionalImageCache=new h.RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),_.ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const Q=new w.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",Q)}clone(Q=null){const de=Object.create(this);return de.options=Object.assign(Object.create(null),this.options,Q),de}hasBlendModes(Q,de){if(!(Q instanceof T.Dict)||Q.objId&&de.has(Q.objId))return!1;const ee=new T.RefSet(de);Q.objId&&ee.put(Q.objId);const ue=[Q],W=this.xref;for(;ue.length;){const Z=ue.shift(),se=Z.get("ExtGState");if(se instanceof T.Dict)for(let ie of se.getRawValues()){if(ie instanceof T.Ref){if(ee.has(ie))continue;try{ie=W.fetch(ie)}catch(Y){ee.put(ie),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${Y}".`);continue}}if(!(ie instanceof T.Dict))continue;ie.objId&&ee.put(ie.objId);const H=ie.get("BM");if(H instanceof T.Name){if(H.name!=="Normal")return!0;continue}if(H!==void 0&&Array.isArray(H)){for(const Y of H)if(Y instanceof T.Name&&Y.name!=="Normal")return!0}}const ne=Z.get("XObject");if(ne instanceof T.Dict)for(let ie of ne.getRawValues()){if(ie instanceof T.Ref){if(ee.has(ie))continue;try{ie=W.fetch(ie)}catch(Y){ee.put(ie),(0,n.info)(`hasBlendModes - ignoring XObject: "${Y}".`);continue}}if(!(ie instanceof x.BaseStream))continue;ie.dict.objId&&ee.put(ie.dict.objId);const H=ie.dict.get("Resources");H instanceof T.Dict&&(H.objId&&ee.has(H.objId)||(ue.push(H),H.objId&&ee.put(H.objId)))}}for(const Z of ee)de.put(Z);return!1}async fetchBuiltInCMap(Q){const de=this.builtInCMapCache.get(Q);if(de)return de;let ee;if(this.options.cMapUrl!==null){const ue=`${this.options.cMapUrl}${Q}.bcmap`,W=await fetch(ue);if(!W.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${ue}" with "${W.statusText}".`);ee={cMapData:new Uint8Array(await W.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else ee=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Q});return ee.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set(Q,ee),ee}async fetchStandardFontData(Q){const de=this.standardFontDataCache.get(Q);if(de)return new i.Stream(de);if(this.options.useSystemFonts&&Q!=="Symbol"&&Q!=="ZapfDingbats")return null;const ee=(0,l.getFontNameToFileMap)(),ue=ee[Q];let W;if(this.options.standardFontDataUrl!==null){const Z=`${this.options.standardFontDataUrl}${ue}`,se=await fetch(Z);se.ok?W=await se.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${Z}" with "${se.statusText}".`)}else try{W=await this.handler.sendWithPromise("FetchStandardFontData",{filename:ue})}catch(Z){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${ue}" with "${Z}".`)}return W?(this.standardFontDataCache.set(Q,W),new i.Stream(W)):null}async buildFormXObject(Q,de,ee,ue,W,Z,se){const ne=de.dict,ie=ne.getArray("Matrix");let H=ne.getArray("BBox");H=Array.isArray(H)&&H.length===4?n.Util.normalizeRect(H):null;let Y,G;ne.has("OC")&&(Y=await this.parseMarkedContentProps(ne.get("OC"),Q)),Y!==void 0&&ue.addOp(n.OPS.beginMarkedContentProps,["OC",Y]);const le=ne.get("Group");if(le){G={matrix:ie,bbox:H,smask:ee,isolated:!1,knockout:!1};const te=le.get("S");let ge=null;if((0,T.isName)(te,"Transparency")&&(G.isolated=le.get("I")||!1,G.knockout=le.get("K")||!1,le.has("CS"))){const K=le.getRaw("CS"),Se=v.ColorSpace.getCached(K,this.xref,se);Se?ge=Se:ge=await this.parseColorSpace({cs:K,resources:Q,localColorSpaceCache:se})}ee!=null&&ee.backdrop&&(ge||(ge=v.ColorSpace.singletons.rgb),ee.backdrop=ge.getRgb(ee.backdrop,0)),ue.addOp(n.OPS.beginGroup,[G])}const ce=le?[ie,null]:[ie,H];return ue.addOp(n.OPS.paintFormXObjectBegin,ce),this.getOperatorList({stream:de,task:W,resources:ne.get("Resources")||Q,operatorList:ue,initialState:Z}).then(function(){ue.addOp(n.OPS.paintFormXObjectEnd,[]),le&&ue.addOp(n.OPS.endGroup,[G]),Y!==void 0&&ue.addOp(n.OPS.endMarkedContent,[])})}_sendImgData(Q,de,ee=!1){const ue=de?[de.bitmap||de.data.buffer]:null;return this.parsingType3Font||ee?this.handler.send("commonobj",[Q,"Image",de],ue):this.handler.send("obj",[Q,this.pageIndex,"Image",de],ue)}async buildPaintImageXObject({resources:Q,image:de,isInline:ee=!1,operatorList:ue,cacheKey:W,localImageCache:Z,localColorSpaceCache:se}){const ne=de.dict,ie=ne.objId,H=ne.get("W","Width"),Y=ne.get("H","Height");if(!(H&&typeof H=="number")||!(Y&&typeof Y=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const G=this.options.maxImageSize;if(G!==-1&&H*Y>G){const Me="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(Me);return}throw new Error(Me)}let le;ne.has("OC")&&(le=await this.parseMarkedContentProps(ne.get("OC"),Q));const ce=ne.get("IM","ImageMask")||!1;let te,ge;if(ce){const Me=ne.get("I","Interpolate"),_e=H+7>>3,ke=de.getBytes(_e*Y),oe=ne.getArray("D","Decode");if(this.parsingType3Font){if(te=m.PDFImage.createRawMask({imgArray:ke,width:H,height:Y,imageIsFromDecodeStream:de instanceof b.DecodeStream,inverseDecode:(oe==null?void 0:oe[0])>0,interpolate:Me}),te.cached=!!W,ge=[te],ue.addImageOps(n.OPS.paintImageMaskXObject,ge,le),W){const Be={fn:n.OPS.paintImageMaskXObject,args:ge,optionalContent:le};Z.set(W,ie,Be),ie&&this._regionalImageCache.set(null,ie,Be)}return}if(te=await m.PDFImage.createMask({imgArray:ke,width:H,height:Y,imageIsFromDecodeStream:de instanceof b.DecodeStream,inverseDecode:(oe==null?void 0:oe[0])>0,interpolate:Me,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),te.isSingleOpaquePixel){if(ue.addImageOps(n.OPS.paintSolidColorImageMask,[],le),W){const Be={fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:le};Z.set(W,ie,Be),ie&&this._regionalImageCache.set(null,ie,Be)}return}const Ie=`mask_${this.idFactory.createObjId()}`;if(ue.addDependency(Ie),this._sendImgData(Ie,te),ge=[{data:Ie,width:te.width,height:te.height,interpolate:te.interpolate,count:1}],ue.addImageOps(n.OPS.paintImageMaskXObject,ge,le),W){const Be={fn:n.OPS.paintImageMaskXObject,args:ge,optionalContent:le};Z.set(W,ie,Be),ie&&this._regionalImageCache.set(null,ie,Be)}return}if(ee&&!ne.has("SMask")&&!ne.has("Mask")&&H+Y<200){te=await new m.PDFImage({xref:this.xref,res:Q,image:de,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:se}).createImageData(!0,!1),ue.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,ue.addImageOps(n.OPS.paintInlineImageXObject,[te],le);return}let Se=`img_${this.idFactory.createObjId()}`,Oe=!1;if(this.parsingType3Font?Se=`${this.idFactory.getDocId()}_type3_${Se}`:ie&&(Oe=this.globalImageCache.shouldCache(ie,this.pageIndex),Oe&&(Se=`${this.idFactory.getDocId()}_${Se}`)),ue.addDependency(Se),ge=[Se,H,Y],m.PDFImage.buildImage({xref:this.xref,res:Q,image:de,isInline:ee,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:se}).then(async Me=>{if(te=await Me.createImageData(!1,this.options.isOffscreenCanvasSupported),W&&ie&&Oe){const _e=te.bitmap?te.width*te.height*4:te.data.length;this.globalImageCache.addByteSize(ie,_e)}return this._sendImgData(Se,te,Oe)}).catch(Me=>((0,n.warn)(`Unable to decode image "${Se}": "${Me}".`),this._sendImgData(Se,null,Oe))),ue.addImageOps(n.OPS.paintImageXObject,ge,le),W){const Me={fn:n.OPS.paintImageXObject,args:ge,optionalContent:le};Z.set(W,ie,Me),ie&&(this._regionalImageCache.set(null,ie,Me),Oe&&((0,n.assert)(!ee,"Cannot cache an inline image globally."),this.globalImageCache.setData(ie,{objId:Se,fn:n.OPS.paintImageXObject,args:ge,optionalContent:le,byteSize:0})))}}handleSMask(Q,de,ee,ue,W,Z){const se=Q.get("G"),ne={subtype:Q.get("S").name,backdrop:Q.get("BC")},ie=Q.get("TR");if((0,w.isPDFFunction)(ie)){const H=this._pdfFunctionFactory.create(ie),Y=new Uint8Array(256),G=new Float32Array(1);for(let le=0;le<256;le++)G[0]=le/255,H(G,0,G,0),Y[le]=G[0]*255|0;ne.transferMap=Y}return this.buildFormXObject(de,se,ne,ee,ue,W.state.clone(),Z)}handleTransferFunction(Q){let de;if(Array.isArray(Q))de=Q;else if((0,w.isPDFFunction)(Q))de=[Q];else return null;const ee=[];let ue=0,W=0;for(const Z of de){const se=this.xref.fetchIfRef(Z);if(ue++,(0,T.isName)(se,"Identity")){ee.push(null);continue}else if(!(0,w.isPDFFunction)(se))return null;const ne=this._pdfFunctionFactory.create(se),ie=new Uint8Array(256),H=new Float32Array(1);for(let Y=0;Y<256;Y++)H[0]=Y/255,ne(H,0,H,0),ie[Y]=H[0]*255|0;ee.push(ie),W++}return!(ue===1||ue===4)||W===0?null:ee}handleTilingType(Q,de,ee,ue,W,Z,se,ne){const ie=new X.OperatorList,H=T.Dict.merge({xref:this.xref,dictArray:[W.get("Resources"),ee]});return this.getOperatorList({stream:ue,task:se,resources:H,operatorList:ie}).then(function(){const Y=ie.getIR(),G=(0,L.getTilingPatternIR)(Y,W,de);Z.addDependencies(ie.dependencies),Z.addOp(Q,G),W.objId&&ne.set(null,W.objId,{operatorListIR:Y,dict:W})}).catch(Y=>{if(!(Y instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`handleTilingType - ignoring pattern: "${Y}".`);return}throw Y}})}handleSetFont(Q,de,ee,ue,W,Z,se=null,ne=null){const ie=(de==null?void 0:de[0])instanceof T.Name?de[0].name:null;return this.loadFont(ie,ee,Q,se,ne).then(H=>H.font.isType3Font?H.loadType3Data(this,Q,W).then(function(){return ue.addDependencies(H.type3Dependencies),H}).catch(Y=>new o({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Y}`),dict:H.font,evaluatorOptions:this.options})):H).then(H=>(Z.font=H.font,H.send(this.handler),H.loadedName))}handleText(Q,de){const ee=de.font,ue=ee.charsToGlyphs(Q);return ee.data&&(de.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG||de.fillColorSpace.name==="Pattern"||ee.disableFontFace||this.options.disableFontFace)&&a.buildFontPaths(ee,ue,this.handler,this.options),ue}ensureStateFont(Q){if(Q.font)return;const de=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){(0,n.warn)(`ensureStateFont: "${de}".`);return}throw de}async setGState({resources:Q,gState:de,operatorList:ee,cacheKey:ue,task:W,stateManager:Z,localGStateCache:se,localColorSpaceCache:ne}){const ie=de.objId;let H=!0;const Y=[];let G=Promise.resolve();for(const le of de.getKeys()){const ce=de.get(le);switch(le){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Y.push([le,ce]);break;case"Font":H=!1,G=G.then(()=>this.handleSetFont(Q,null,ce[0],ee,W,Z.state).then(function(ge){ee.addDependency(ge),Y.push([le,[ge,ce[1]]])}));break;case"BM":Y.push([le,E(ce)]);break;case"SMask":if((0,T.isName)(ce,"None")){Y.push([le,!1]);break}ce instanceof T.Dict?(H=!1,G=G.then(()=>this.handleSMask(ce,Q,ee,W,Z,ne)),Y.push([le,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const te=this.handleTransferFunction(ce);Y.push([le,te]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+le);break;default:(0,n.info)("Unknown graphic state operator "+le);break}}return G.then(function(){Y.length>0&&ee.addOp(n.OPS.setGState,[Y]),H&&se.set(ue,ie,Y)})}loadFont(Q,de,ee,ue=null,W=null){const Z=async()=>new o({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${Q}" is not available.`),dict:de,evaluatorOptions:this.options});let se;if(de)de instanceof T.Ref&&(se=de);else{const ce=ee.get("Font");ce&&(se=ce.getRaw(Q))}if(se){if(this.parsingType3Font&&this.type3FontRefs.has(se))return Z();if(this.fontCache.has(se))return this.fontCache.get(se);de=this.xref.fetchIfRef(se)}if(!(de instanceof T.Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`Font "${Q}" is not available.`),Z();(0,n.warn)(`Font "${Q}" is not available -- attempting to fallback to a default font.`),de=ue||a.fallbackFontDict}if(de.cacheKey&&this.fontCache.has(de.cacheKey))return this.fontCache.get(de.cacheKey);const ne=new n.PromiseCapability;let ie;try{ie=this.preEvaluateFont(de),ie.cssFontInfo=W}catch(ce){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${ce}".`),Z()}const{descriptor:H,hash:Y}=ie,G=se instanceof T.Ref;let le;if(Y&&H instanceof T.Dict){const ce=H.fontAliases||(H.fontAliases=Object.create(null));if(ce[Y]){const te=ce[Y].aliasRef;if(G&&te&&this.fontCache.has(te))return this.fontCache.putAlias(se,te),this.fontCache.get(se)}else ce[Y]={fontID:this.idFactory.createFontId()};G&&(ce[Y].aliasRef=se),le=ce[Y].fontID}else le=this.idFactory.createFontId();return(0,n.assert)(le==null?void 0:le.startsWith("f"),'The "fontID" must be (correctly) defined.'),G?this.fontCache.put(se,ne.promise):(de.cacheKey=`cacheKey_${le}`,this.fontCache.put(de.cacheKey,ne.promise)),de.loadedName=`${this.idFactory.getDocId()}_${le}`,this.translateFont(ie).then(ce=>{ne.resolve(new o({loadedName:de.loadedName,font:ce,dict:de,evaluatorOptions:this.options}))}).catch(ce=>{(0,n.warn)(`loadFont - translateFont failed: "${ce}".`),ne.resolve(new o({loadedName:de.loadedName,font:new e.ErrorFont(ce instanceof Error?ce.message:ce),dict:de,evaluatorOptions:this.options}))}),ne.promise}buildPath(Q,de,ee,ue=!1){const W=Q.length-1;if(ee||(ee=[]),W<0||Q.fnArray[W]!==n.OPS.constructPath){ue&&((0,n.warn)(`Encountered path operator "${de}" inside of a text object.`),Q.addOp(n.OPS.save,null));let Z;switch(de){case n.OPS.rectangle:const se=ee[0]+ee[2],ne=ee[1]+ee[3];Z=[Math.min(ee[0],se),Math.max(ee[0],se),Math.min(ee[1],ne),Math.max(ee[1],ne)];break;case n.OPS.moveTo:case n.OPS.lineTo:Z=[ee[0],ee[0],ee[1],ee[1]];break;default:Z=[1/0,-1/0,1/0,-1/0];break}Q.addOp(n.OPS.constructPath,[[de],ee,Z]),ue&&Q.addOp(n.OPS.restore,null)}else{const Z=Q.argsArray[W];Z[0].push(de),Z[1].push(...ee);const se=Z[2];switch(de){case n.OPS.rectangle:const ne=ee[0]+ee[2],ie=ee[1]+ee[3];se[0]=Math.min(se[0],ee[0],ne),se[1]=Math.max(se[1],ee[0],ne),se[2]=Math.min(se[2],ee[1],ie),se[3]=Math.max(se[3],ee[1],ie);break;case n.OPS.moveTo:case n.OPS.lineTo:se[0]=Math.min(se[0],ee[0]),se[1]=Math.max(se[1],ee[0]),se[2]=Math.min(se[2],ee[1]),se[3]=Math.max(se[3],ee[1]);break}}}parseColorSpace({cs:Q,resources:de,localColorSpaceCache:ee}){return v.ColorSpace.parseAsync({cs:Q,xref:this.xref,resources:de,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ee}).catch(ue=>{if(ue instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${ue}".`),null;throw ue})}parseShading({shading:Q,resources:de,localColorSpaceCache:ee,localShadingPatternCache:ue}){let W=ue.get(Q);if(!W){var Z=L.Pattern.parseShading(Q,this.xref,de,this._pdfFunctionFactory,ee);const se=Z.getIR();W=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(W=`${this.idFactory.getDocId()}_type3_${W}`),ue.set(Q,W),this.parsingType3Font?this.handler.send("commonobj",[W,"Pattern",se]):this.handler.send("obj",[W,this.pageIndex,"Pattern",se])}return W}handleColorN(Q,de,ee,ue,W,Z,se,ne,ie,H){const Y=ee.pop();if(Y instanceof T.Name){const G=W.getRaw(Y.name),le=G instanceof T.Ref&&ie.getByRef(G);if(le)try{const te=ue.base?ue.base.getRgb(ee,0):null,ge=(0,L.getTilingPatternIR)(le.operatorListIR,le.dict,te);Q.addOp(de,ge);return}catch{}const ce=this.xref.fetchIfRef(G);if(ce){const te=ce instanceof x.BaseStream?ce.dict:ce,ge=te.get("PatternType");if(ge===R.TILING){const K=ue.base?ue.base.getRgb(ee,0):null;return this.handleTilingType(de,K,Z,ce,te,Q,se,ie)}else if(ge===R.SHADING){const K=te.get("Shading"),Se=te.getArray("Matrix"),Oe=this.parseShading({shading:K,resources:Z,localColorSpaceCache:ne,localShadingPatternCache:H});Q.addOp(de,["Shading",Oe,Se]);return}throw new n.FormatError(`Unknown PatternType: ${ge}`)}}throw new n.FormatError(`Unknown PatternName: ${Y}`)}_parseVisibilityExpression(Q,de,ee){if(++de>10){(0,n.warn)("Visibility expression is too deeply nested");return}const W=Q.length,Z=this.xref.fetchIfRef(Q[0]);if(W<2||!(Z instanceof T.Name)){(0,n.warn)("Invalid visibility expression");return}switch(Z.name){case"And":case"Or":case"Not":ee.push(Z.name);break;default:(0,n.warn)(`Invalid operator ${Z.name} in visibility expression`);return}for(let se=1;se<W;se++){const ne=Q[se],ie=this.xref.fetchIfRef(ne);if(Array.isArray(ie)){const H=[];ee.push(H),this._parseVisibilityExpression(ie,de,H)}else ne instanceof T.Ref&&ee.push(ne.toString())}}async parseMarkedContentProps(Q,de){var W;let ee;if(Q instanceof T.Name)ee=de.get("Properties").get(Q.name);else if(Q instanceof T.Dict)ee=Q;else throw new n.FormatError("Optional content properties malformed.");const ue=(W=ee.get("Type"))==null?void 0:W.name;if(ue==="OCG")return{type:ue,id:ee.objId};if(ue==="OCMD"){const Z=ee.get("VE");if(Array.isArray(Z)){const ne=[];if(this._parseVisibilityExpression(Z,0,ne),ne.length>0)return{type:"OCMD",expression:ne}}const se=ee.get("OCGs");if(Array.isArray(se)||se instanceof T.Dict){const ne=[];if(Array.isArray(se))for(const ie of se)ne.push(ie.toString());else ne.push(se.objId);return{type:ue,ids:ne,policy:ee.get("P")instanceof T.Name?ee.get("P").name:null,expression:null}}else if(se instanceof T.Ref)return{type:ue,id:se.toString()}}return null}getOperatorList({stream:Q,task:de,resources:ee,operatorList:ue,initialState:W=null,fallbackFontDict:Z=null}){if(ee||(ee=T.Dict.empty),W||(W=new A),!ue)throw new Error('getOperatorList: missing "operatorList" parameter');const se=this,ne=this.xref;let ie=!1;const H=new h.LocalImageCache,Y=new h.LocalColorSpaceCache,G=new h.LocalGStateCache,le=new h.LocalTilingPatternCache,ce=new Map,te=ee.get("XObject")||T.Dict.empty,ge=ee.get("Pattern")||T.Dict.empty,K=new r(W),Se=new c(Q,ne,K),Oe=new M;function Me(_e){for(let ke=0,oe=Se.savedStatesDepth;ke<oe;ke++)ue.addOp(n.OPS.restore,[])}return new Promise(function _e(ke,oe){const Ie=function(Ee){Promise.all([Ee,ue.ready]).then(function(){try{_e(ke,oe)}catch(xe){oe(xe)}},oe)};de.ensureNotTerminated(),Oe.reset();const Be={};let he,De,ye,me,Pe,Re;for(;!(he=Oe.check())&&(Be.args=null,!!Se.read(Be));){let Ee=Be.args,xe=Be.fn;switch(xe|0){case n.OPS.paintXObject:if(Re=Ee[0]instanceof T.Name,Pe=Ee[0].name,Re){const Ne=H.getByName(Pe);if(Ne){ue.addImageOps(Ne.fn,Ne.args,Ne.optionalContent),k(Ne),Ee=null;continue}}Ie(new Promise(function(Ne,$e){if(!Re)throw new n.FormatError("XObject must be referred to by name.");let Ue=te.getRaw(Pe);if(Ue instanceof T.Ref){const Ge=H.getByRef(Ue)||se._regionalImageCache.getByRef(Ue);if(Ge){ue.addImageOps(Ge.fn,Ge.args,Ge.optionalContent),k(Ge),Ne();return}const Ve=se.globalImageCache.getData(Ue,se.pageIndex);if(Ve){ue.addDependency(Ve.objId),ue.addImageOps(Ve.fn,Ve.args,Ve.optionalContent),Ne();return}Ue=ne.fetch(Ue)}if(!(Ue instanceof x.BaseStream))throw new n.FormatError("XObject should be a stream");const ze=Ue.dict.get("Subtype");if(!(ze instanceof T.Name))throw new n.FormatError("XObject should have a Name subtype");if(ze.name==="Form"){K.save(),se.buildFormXObject(ee,Ue,null,ue,de,K.state.clone(),Y).then(function(){K.restore(),Ne()},$e);return}else if(ze.name==="Image"){se.buildPaintImageXObject({resources:ee,image:Ue,operatorList:ue,cacheKey:Pe,localImageCache:H,localColorSpaceCache:Y}).then(Ne,$e);return}else if(ze.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${ze.name}`);Ne()}).catch(function(Ne){if(!(Ne instanceof n.AbortException)){if(se.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring XObject: "${Ne}".`);return}throw Ne}}));return;case n.OPS.setFont:var He=Ee[1];Ie(se.handleSetFont(ee,Ee,null,ue,de,K.state,Z).then(function(Ne){ue.addDependency(Ne),ue.addOp(n.OPS.setFont,[Ne,He])}));return;case n.OPS.beginText:ie=!0;break;case n.OPS.endText:ie=!1;break;case n.OPS.endInlineImage:var Xe=Ee[0].cacheKey;if(Xe){const Ne=H.getByName(Xe);if(Ne){ue.addImageOps(Ne.fn,Ne.args,Ne.optionalContent),k(Ne),Ee=null;continue}}Ie(se.buildPaintImageXObject({resources:ee,image:Ee[0],isInline:!0,operatorList:ue,cacheKey:Xe,localImageCache:H,localColorSpaceCache:Y}));return;case n.OPS.showText:if(!K.state.font){se.ensureStateFont(K.state);continue}Ee[0]=se.handleText(Ee[0],K.state);break;case n.OPS.showSpacedText:if(!K.state.font){se.ensureStateFont(K.state);continue}var Fe=[],ae=K.state;for(const Ne of Ee[0])typeof Ne=="string"?Fe.push(...se.handleText(Ne,ae)):typeof Ne=="number"&&Fe.push(Ne);Ee[0]=Fe,xe=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!K.state.font){se.ensureStateFont(K.state);continue}ue.addOp(n.OPS.nextLine),Ee[0]=se.handleText(Ee[0],K.state),xe=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!K.state.font){se.ensureStateFont(K.state);continue}ue.addOp(n.OPS.nextLine),ue.addOp(n.OPS.setWordSpacing,[Ee.shift()]),ue.addOp(n.OPS.setCharSpacing,[Ee.shift()]),Ee[0]=se.handleText(Ee[0],K.state),xe=n.OPS.showText;break;case n.OPS.setTextRenderingMode:K.state.textRenderingMode=Ee[0];break;case n.OPS.setFillColorSpace:{const Ne=v.ColorSpace.getCached(Ee[0],ne,Y);if(Ne){K.state.fillColorSpace=Ne;continue}Ie(se.parseColorSpace({cs:Ee[0],resources:ee,localColorSpaceCache:Y}).then(function($e){$e&&(K.state.fillColorSpace=$e)}));return}case n.OPS.setStrokeColorSpace:{const Ne=v.ColorSpace.getCached(Ee[0],ne,Y);if(Ne){K.state.strokeColorSpace=Ne;continue}Ie(se.parseColorSpace({cs:Ee[0],resources:ee,localColorSpaceCache:Y}).then(function($e){$e&&(K.state.strokeColorSpace=$e)}));return}case n.OPS.setFillColor:me=K.state.fillColorSpace,Ee=me.getRgb(Ee,0),xe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:me=K.state.strokeColorSpace,Ee=me.getRgb(Ee,0),xe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:K.state.fillColorSpace=v.ColorSpace.singletons.gray,Ee=v.ColorSpace.singletons.gray.getRgb(Ee,0),xe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:K.state.strokeColorSpace=v.ColorSpace.singletons.gray,Ee=v.ColorSpace.singletons.gray.getRgb(Ee,0),xe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:K.state.fillColorSpace=v.ColorSpace.singletons.cmyk,Ee=v.ColorSpace.singletons.cmyk.getRgb(Ee,0),xe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:K.state.strokeColorSpace=v.ColorSpace.singletons.cmyk,Ee=v.ColorSpace.singletons.cmyk.getRgb(Ee,0),xe=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:K.state.fillColorSpace=v.ColorSpace.singletons.rgb,Ee=v.ColorSpace.singletons.rgb.getRgb(Ee,0);break;case n.OPS.setStrokeRGBColor:K.state.strokeColorSpace=v.ColorSpace.singletons.rgb,Ee=v.ColorSpace.singletons.rgb.getRgb(Ee,0);break;case n.OPS.setFillColorN:if(me=K.state.fillColorSpace,me.name==="Pattern"){Ie(se.handleColorN(ue,n.OPS.setFillColorN,Ee,me,ge,ee,de,Y,le,ce));return}Ee=me.getRgb(Ee,0),xe=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(me=K.state.strokeColorSpace,me.name==="Pattern"){Ie(se.handleColorN(ue,n.OPS.setStrokeColorN,Ee,me,ge,ee,de,Y,le,ce));return}Ee=me.getRgb(Ee,0),xe=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var Ae=ee.get("Shading");if(!Ae)throw new n.FormatError("No shading resource found");var Le=Ae.get(Ee[0].name);if(!Le)throw new n.FormatError("No shading object found");Ee=[se.parseShading({shading:Le,resources:ee,localColorSpaceCache:Y,localShadingPatternCache:ce})],xe=n.OPS.shadingFill;break;case n.OPS.setGState:if(Re=Ee[0]instanceof T.Name,Pe=Ee[0].name,Re){const Ne=G.getByName(Pe);if(Ne){Ne.length>0&&ue.addOp(n.OPS.setGState,[Ne]),Ee=null;continue}}Ie(new Promise(function(Ne,$e){if(!Re)throw new n.FormatError("GState must be referred to by name.");const Ue=ee.get("ExtGState");if(!(Ue instanceof T.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const ze=Ue.get(Pe);if(!(ze instanceof T.Dict))throw new n.FormatError("GState should be a dictionary.");se.setGState({resources:ee,gState:ze,operatorList:ue,cacheKey:Pe,task:de,stateManager:K,localGStateCache:G,localColorSpaceCache:Y}).then(Ne,$e)}).catch(function(Ne){if(!(Ne instanceof n.AbortException)){if(se.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring ExtGState: "${Ne}".`);return}throw Ne}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:se.buildPath(ue,xe,Ee,ie);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(Ee[0]instanceof T.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${Ee[0]}`);continue}if(Ee[0].name==="OC"){Ie(se.parseMarkedContentProps(Ee[1],ee).then(Ne=>{ue.addOp(n.OPS.beginMarkedContentProps,["OC",Ne])}).catch(Ne=>{if(!(Ne instanceof n.AbortException)){if(se.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${Ne}".`);return}throw Ne}}));return}Ee=[Ee[0].name,Ee[1]instanceof T.Dict?Ee[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(Ee!==null){for(De=0,ye=Ee.length;De<ye&&!(Ee[De]instanceof T.Dict);De++);if(De<ye){(0,n.warn)("getOperatorList - ignoring operator: "+xe);continue}}}ue.addOp(xe,Ee)}if(he){Ie(O);return}Me(),ke()}).catch(_e=>{if(!(_e instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getOperatorList - ignoring errors during "${de.name}" task: "${_e}".`),Me();return}throw _e}})}getTextContent({stream:Q,task:de,resources:ee,stateManager:ue=null,includeMarkedContent:W=!1,sink:Z,seenStyles:se=new Set,viewBox:ne,markedContentData:ie=null,disableNormalization:H=!1}){ee||(ee=T.Dict.empty),ue||(ue=new r(new s)),W&&(ie||(ie={level:0}));const Y={items:[],styles:Object.create(null)},G={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},le=[" "," "];let ce=0;function te(Ve){const Ke=(ce+1)%2,et=le[ce]!==" "&&le[Ke]===" ";return le[ce]=Ve,ce=Ke,et}function ge(){return le[ce]!==" "&&le[(ce+1)%2]===" "}function K(){le[0]=le[1]=" ",ce=0}const Se=.102,Oe=.03,Me=-.2,_e=.102,ke=.6,oe=.25,Ie=this,Be=this.xref,he=[];let De=null;const ye=new h.LocalImageCache,me=new h.LocalGStateCache,Pe=new c(Q,Be,ue);let Re;function He({width:Ve=0,height:Ke=0,transform:et=G.prevTransform,fontName:rt=G.fontName}){Y.items.push({str:" ",dir:"ltr",width:Ve,height:Ke,transform:et,fontName:rt,hasEOL:!1})}function Xe(){const Ve=Re.font,Ke=[Re.fontSize*Re.textHScale,0,0,Re.fontSize,0,Re.textRise];if(Ve.isType3Font&&(Re.fontSize<=1||Ve.isCharBBox)&&!(0,n.isArrayEqual)(Re.fontMatrix,n.FONT_IDENTITY_MATRIX)){const et=Ve.bbox[3]-Ve.bbox[1];et>0&&(Ke[3]*=et*Re.fontMatrix[3])}return n.Util.transform(Re.ctm,n.Util.transform(Re.textMatrix,Ke))}function Fe(){if(G.initialized)return G;const{font:Ve,loadedName:Ke}=Re;se.has(Ke)||(se.add(Ke),Y.styles[Ke]={fontFamily:Ve.fallbackName,ascent:Ve.ascent,descent:Ve.descent,vertical:Ve.vertical}),G.fontName=Ke;const et=G.transform=Xe();Ve.vertical?(G.width=G.totalWidth=Math.hypot(et[0],et[1]),G.height=G.totalHeight=0,G.vertical=!0):(G.width=G.totalWidth=0,G.height=G.totalHeight=Math.hypot(et[2],et[3]),G.vertical=!1);const rt=Math.hypot(Re.textLineMatrix[0],Re.textLineMatrix[1]),ot=Math.hypot(Re.ctm[0],Re.ctm[1]);G.textAdvanceScale=ot*rt;const{fontSize:ht}=Re;return G.trackingSpaceMin=ht*Se,G.notASpace=ht*Oe,G.negativeSpaceMax=ht*Me,G.spaceInFlowMin=ht*_e,G.spaceInFlowMax=ht*ke,G.hasEOL=!1,G.initialized=!0,G}function ae(){if(!G.initialized)return;const Ve=Math.hypot(Re.textLineMatrix[0],Re.textLineMatrix[1]),et=Math.hypot(Re.ctm[0],Re.ctm[1])*Ve;et!==G.textAdvanceScale&&(G.vertical?(G.totalHeight+=G.height*G.textAdvanceScale,G.height=0):(G.totalWidth+=G.width*G.textAdvanceScale,G.width=0),G.textAdvanceScale=et)}function Ae(Ve){let Ke=Ve.str.join("");H||(Ke=(0,n.normalizeUnicode)(Ke));const et=(0,p.bidi)(Ke,-1,Ve.vertical);return{str:et.str,dir:et.dir,width:Math.abs(Ve.totalWidth),height:Math.abs(Ve.totalHeight),transform:Ve.transform,fontName:Ve.fontName,hasEOL:Ve.hasEOL}}function Le(Ve,Ke){return Ie.loadFont(Ve,Ke,ee).then(function(et){return et.font.isType3Font?et.loadType3Data(Ie,ee,de).catch(function(){}).then(function(){return et}):et}).then(function(et){Re.loadedName=et.loadedName,Re.font=et.font,Re.fontMatrix=et.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function Ee(Ve,Ke,et){const rt=Math.hypot(et[0],et[1]);return[(et[0]*Ve+et[1]*Ke)/rt,(et[2]*Ve+et[3]*Ke)/rt]}function xe(Ve){var Je;const Ke=Xe();let et=Ke[4],rt=Ke[5];if((Je=Re.font)!=null&&Je.vertical){if(et<ne[0]||et>ne[2]||rt+Ve<ne[1]||rt>ne[3])return!1}else if(et+Ve<ne[0]||et>ne[2]||rt<ne[1]||rt>ne[3])return!1;if(!Re.font||!G.prevTransform)return!0;let ot=G.prevTransform[4],ht=G.prevTransform[5];if(ot===et&&ht===rt)return!0;let lt=-1;switch(Ke[0]&&Ke[1]===0&&Ke[2]===0?lt=Ke[0]>0?0:180:Ke[1]&&Ke[0]===0&&Ke[3]===0&&(lt=Ke[1]>0?90:270),lt){case 0:break;case 90:[et,rt]=[rt,et],[ot,ht]=[ht,ot];break;case 180:[et,rt,ot,ht]=[-et,-rt,-ot,-ht];break;case 270:[et,rt]=[-rt,-et],[ot,ht]=[-ht,-ot];break;default:[et,rt]=Ee(et,rt,Ke),[ot,ht]=Ee(ot,ht,G.prevTransform)}if(Re.font.vertical){const nt=(ht-rt)/G.textAdvanceScale,st=et-ot,ct=Math.sign(G.height);return nt<ct*G.negativeSpaceMax?Math.abs(st)>.5*G.width?(Ne(),!0):(K(),Ue(),!0):Math.abs(st)>G.width?(Ne(),!0):(nt<=ct*G.notASpace&&K(),nt<=ct*G.trackingSpaceMin?ge()?(K(),Ue(),He({height:Math.abs(nt)})):G.height+=nt:$e(nt,G.prevTransform,ct)||(G.str.length===0?(K(),He({height:Math.abs(nt)})):G.height+=nt),Math.abs(st)>G.width*oe&&Ue(),!0)}const yt=(et-ot)/G.textAdvanceScale,Tt=rt-ht,Qe=Math.sign(G.width);return yt<Qe*G.negativeSpaceMax?Math.abs(Tt)>.5*G.height?(Ne(),!0):(K(),Ue(),!0):Math.abs(Tt)>G.height?(Ne(),!0):(yt<=Qe*G.notASpace&&K(),yt<=Qe*G.trackingSpaceMin?ge()?(K(),Ue(),He({width:Math.abs(yt)})):G.width+=yt:$e(yt,G.prevTransform,Qe)||(G.str.length===0?(K(),He({width:Math.abs(yt)})):G.width+=yt),Math.abs(Tt)>G.height*oe&&Ue(),!0)}function Te({chars:Ve,extraSpacing:Ke}){const et=Re.font;if(!Ve){const ht=Re.charSpacing+Ke;ht&&(et.vertical?Re.translateTextMatrix(0,-ht):Re.translateTextMatrix(ht*Re.textHScale,0));return}const rt=et.charsToGlyphs(Ve),ot=Re.fontMatrix[0]*Re.fontSize;for(let ht=0,lt=rt.length;ht<lt;ht++){const yt=rt[ht],{category:Tt}=yt;if(Tt.isInvisibleFormatMark)continue;let Qe=Re.charSpacing+(ht+1===lt?Ke:0),Je=yt.width;et.vertical&&(Je=yt.vmetric?yt.vmetric[0]:-Je);let nt=Je*ot;if(Tt.isWhitespace){et.vertical?(Qe+=-nt+Re.wordSpacing,Re.translateTextMatrix(0,-Qe)):(Qe+=nt+Re.wordSpacing,Re.translateTextMatrix(Qe*Re.textHScale,0)),te(" ");continue}if(!Tt.isZeroWidthDiacritic&&!xe(nt)){et.vertical?Re.translateTextMatrix(0,nt):Re.translateTextMatrix(nt*Re.textHScale,0);continue}const st=Fe();Tt.isZeroWidthDiacritic&&(nt=0),et.vertical?(Re.translateTextMatrix(0,nt),nt=Math.abs(nt),st.height+=nt):(nt*=Re.textHScale,Re.translateTextMatrix(nt,0),st.width+=nt),nt&&(st.prevTransform=Xe());const ct=yt.unicode;te(ct)&&st.str.push(" "),st.str.push(ct),Qe&&(et.vertical?Re.translateTextMatrix(0,-Qe):Re.translateTextMatrix(Qe*Re.textHScale,0))}}function Ne(){K(),G.initialized?(G.hasEOL=!0,Ue()):Y.items.push({str:"",dir:"ltr",width:0,height:0,transform:Xe(),fontName:Re.loadedName,hasEOL:!0})}function $e(Ve,Ke,et){if(et*G.spaceInFlowMin<=Ve&&Ve<=et*G.spaceInFlowMax)return G.initialized&&(K(),G.str.push(" ")),!1;const rt=G.fontName;let ot=0;return G.vertical&&(ot=Ve,Ve=0),Ue(),K(),He({width:Math.abs(Ve),height:Math.abs(ot),transform:Ke||Xe(),fontName:rt}),!0}function Ue(){!G.initialized||!G.str||(G.vertical?G.totalHeight+=G.height*G.textAdvanceScale:G.totalWidth+=G.width*G.textAdvanceScale,Y.items.push(Ae(G)),G.initialized=!1,G.str.length=0)}function ze(Ve=!1){const Ke=Y.items.length;Ke!==0&&(Ve&&Ke<z||(Z.enqueue(Y,Ke),Y.items=[],Y.styles=Object.create(null)))}const Ge=new M;return new Promise(function Ve(Ke,et){const rt=function(nt){ze(!0),Promise.all([nt,Z.ready]).then(function(){try{Ve(Ke,et)}catch(st){et(st)}},et)};de.ensureNotTerminated(),Ge.reset();const ot={};let ht,lt=[];for(;!(ht=Ge.check())&&(lt.length=0,ot.args=lt,!!Pe.read(ot));){const nt=Re;Re=ue.state;const st=ot.fn;switch(lt=ot.args,st|0){case n.OPS.setFont:var yt=lt[0].name,Tt=lt[1];if(Re.font&&yt===Re.fontName&&Tt===Re.fontSize)break;Ue(),Re.fontName=yt,Re.fontSize=Tt,rt(Le(yt,null));return;case n.OPS.setTextRise:Re.textRise=lt[0];break;case n.OPS.setHScale:Re.textHScale=lt[0]/100;break;case n.OPS.setLeading:Re.leading=lt[0];break;case n.OPS.moveText:Re.translateTextLineMatrix(lt[0],lt[1]),Re.textMatrix=Re.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:Re.leading=-lt[1],Re.translateTextLineMatrix(lt[0],lt[1]),Re.textMatrix=Re.textLineMatrix.slice();break;case n.OPS.nextLine:Re.carriageReturn();break;case n.OPS.setTextMatrix:Re.setTextMatrix(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]),Re.setTextLineMatrix(lt[0],lt[1],lt[2],lt[3],lt[4],lt[5]),ae();break;case n.OPS.setCharSpacing:Re.charSpacing=lt[0];break;case n.OPS.setWordSpacing:Re.wordSpacing=lt[0];break;case n.OPS.beginText:Re.textMatrix=n.IDENTITY_MATRIX.slice(),Re.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!ue.state.font){Ie.ensureStateFont(ue.state);continue}const ct=(Re.font.vertical?1:-1)*Re.fontSize/1e3,xt=lt[0];for(let ut=0,at=xt.length;ut<at;ut++){const gt=xt[ut];if(typeof gt=="string")he.push(gt);else if(typeof gt=="number"&&gt!==0){const At=he.join("");he.length=0,Te({chars:At,extraSpacing:gt*ct})}}if(he.length>0){const ut=he.join("");he.length=0,Te({chars:ut,extraSpacing:0})}break;case n.OPS.showText:if(!ue.state.font){Ie.ensureStateFont(ue.state);continue}Te({chars:lt[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!ue.state.font){Ie.ensureStateFont(ue.state);continue}Re.carriageReturn(),Te({chars:lt[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!ue.state.font){Ie.ensureStateFont(ue.state);continue}Re.wordSpacing=lt[0],Re.charSpacing=lt[1],Re.carriageReturn(),Te({chars:lt[2],extraSpacing:0});break;case n.OPS.paintXObject:Ue(),De||(De=ee.get("XObject")||T.Dict.empty);var Qe=lt[0]instanceof T.Name,Je=lt[0].name;if(Qe&&ye.getByName(Je))break;rt(new Promise(function(ut,at){if(!Qe)throw new n.FormatError("XObject must be referred to by name.");let gt=De.getRaw(Je);if(gt instanceof T.Ref){if(ye.getByRef(gt)){ut();return}if(Ie.globalImageCache.getData(gt,Ie.pageIndex)){ut();return}gt=Be.fetch(gt)}if(!(gt instanceof x.BaseStream))throw new n.FormatError("XObject should be a stream");const At=gt.dict.get("Subtype");if(!(At instanceof T.Name))throw new n.FormatError("XObject should have a Name subtype");if(At.name!=="Form"){ye.set(Je,gt.dict.objId,!0),ut();return}const Rt=ue.state.clone(),vt=new r(Rt),St=gt.dict.getArray("Matrix");Array.isArray(St)&&St.length===6&&vt.transform(St),ze();const It={enqueueInvoked:!1,enqueue(pt,_t){this.enqueueInvoked=!0,Z.enqueue(pt,_t)},get desiredSize(){return Z.desiredSize},get ready(){return Z.ready}};Ie.getTextContent({stream:gt,task:de,resources:gt.dict.get("Resources")||ee,stateManager:vt,includeMarkedContent:W,sink:It,seenStyles:se,viewBox:ne,markedContentData:ie,disableNormalization:H}).then(function(){It.enqueueInvoked||ye.set(Je,gt.dict.objId,!0),ut()},at)}).catch(function(ut){if(!(ut instanceof n.AbortException)){if(Ie.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${ut}".`);return}throw ut}}));return;case n.OPS.setGState:if(Qe=lt[0]instanceof T.Name,Je=lt[0].name,Qe&&me.getByName(Je))break;rt(new Promise(function(ut,at){if(!Qe)throw new n.FormatError("GState must be referred to by name.");const gt=ee.get("ExtGState");if(!(gt instanceof T.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const At=gt.get(Je);if(!(At instanceof T.Dict))throw new n.FormatError("GState should be a dictionary.");const Rt=At.get("Font");if(!Rt){me.set(Je,At.objId,!0),ut();return}Ue(),Re.fontName=null,Re.fontSize=Rt[1],Le(null,Rt[0]).then(ut,at)}).catch(function(ut){if(!(ut instanceof n.AbortException)){if(Ie.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${ut}".`);return}throw ut}}));return;case n.OPS.beginMarkedContent:Ue(),W&&(ie.level++,Y.items.push({type:"beginMarkedContent",tag:lt[0]instanceof T.Name?lt[0].name:null}));break;case n.OPS.beginMarkedContentProps:if(Ue(),W){ie.level++;let ut=null;lt[1]instanceof T.Dict&&(ut=lt[1].get("MCID")),Y.items.push({type:"beginMarkedContentProps",id:Number.isInteger(ut)?`${Ie.idFactory.getPageObjId()}_mc${ut}`:null,tag:lt[0]instanceof T.Name?lt[0].name:null})}break;case n.OPS.endMarkedContent:if(Ue(),W){if(ie.level===0)break;ie.level--,Y.items.push({type:"endMarkedContent"})}break;case n.OPS.restore:nt&&(nt.font!==Re.font||nt.fontSize!==Re.fontSize||nt.fontName!==Re.fontName)&&Ue();break}if(Y.items.length>=Z.desiredSize){ht=!0;break}}if(ht){rt(O);return}Ue(),ze(),Ke()}).catch(Ve=>{if(!(Ve instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${de.name}" task: "${Ve}".`),Ue(),ze();return}throw Ve}})}extractDataStructures(Q,de,ee){const ue=this.xref;let W;const Z=this.readToUnicode(ee.toUnicode||Q.get("ToUnicode")||de.get("ToUnicode"));if(ee.composite){const G=Q.get("CIDSystemInfo");G instanceof T.Dict&&(ee.cidSystemInfo={registry:(0,n.stringToPDFString)(G.get("Registry")),ordering:(0,n.stringToPDFString)(G.get("Ordering")),supplement:G.get("Supplement")});try{const le=Q.get("CIDToGIDMap");le instanceof x.BaseStream&&(W=le.getBytes())}catch(le){if(!this.options.ignoreErrors)throw le;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${le}".`)}}const se=[];let ne=null,ie;if(Q.has("Encoding")){if(ie=Q.get("Encoding"),ie instanceof T.Dict){if(ne=ie.get("BaseEncoding"),ne=ne instanceof T.Name?ne.name:null,ie.has("Differences")){const G=ie.get("Differences");let le=0;for(const ce of G){const te=ue.fetchIfRef(ce);if(typeof te=="number")le=te;else if(te instanceof T.Name)se[le++]=te.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${te}`)}}}else if(ie instanceof T.Name)ne=ie.name;else{const G="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(G);(0,n.warn)(G)}ne!=="MacRomanEncoding"&&ne!=="MacExpertEncoding"&&ne!=="WinAnsiEncoding"&&(ne=null)}const H=!ee.file||ee.isInternalFont,Y=(0,l.getSymbolsFonts)()[ee.name];if(ne&&H&&Y&&(ne=null),ne)ee.defaultEncoding=(0,t.getEncoding)(ne);else{const G=!!(ee.flags&N.FontFlags.Symbolic),le=!!(ee.flags&N.FontFlags.Nonsymbolic);ie=t.StandardEncoding,ee.type==="TrueType"&&!le&&(ie=t.WinAnsiEncoding),(G||Y)&&(ie=t.MacRomanEncoding,H&&(/Symbol/i.test(ee.name)?ie=t.SymbolSetEncoding:/Dingbats/i.test(ee.name)?ie=t.ZapfDingbatsEncoding:/Wingdings/i.test(ee.name)&&(ie=t.WinAnsiEncoding))),ee.defaultEncoding=ie}return ee.differences=se,ee.baseEncodingName=ne,ee.hasEncoding=!!ne||se.length>0,ee.dict=Q,Z.then(G=>(ee.toUnicode=G,this.buildToUnicode(ee))).then(G=>(ee.toUnicode=G,W&&(ee.cidToGidMap=this.readCidToGidMap(W,G)),ee))}_simpleFontToUnicode(Q,de=!1){(0,n.assert)(!Q.composite,"Must be a simple font.");const ee=[],ue=Q.defaultEncoding.slice(),W=Q.baseEncodingName,Z=Q.differences;for(const ne in Z){const ie=Z[ne];ie!==".notdef"&&(ue[ne]=ie)}const se=(0,D.getGlyphsUnicode)();for(const ne in ue){let ie=ue[ne];if(ie==="")continue;let H=se[ie];if(H!==void 0){ee[ne]=String.fromCharCode(H);continue}let Y=0;switch(ie[0]){case"G":ie.length===3&&(Y=parseInt(ie.substring(1),16));break;case"g":ie.length===5&&(Y=parseInt(ie.substring(1),16));break;case"C":case"c":if(ie.length>=3&&ie.length<=4){const G=ie.substring(1);if(de){Y=parseInt(G,16);break}if(Y=+G,Number.isNaN(Y)&&Number.isInteger(parseInt(G,16)))return this._simpleFontToUnicode(Q,!0)}break;case"u":H=(0,B.getUnicodeForGlyph)(ie,se),H!==-1&&(Y=H);break;default:switch(ie){case"f_h":case"f_t":case"T_h":ee[ne]=ie.replaceAll("_","");continue}break}if(Y>0&&Y<=1114111&&Number.isInteger(Y)){if(W&&Y===+ne){const G=(0,t.getEncoding)(W);if(G&&(ie=G[ne])){ee[ne]=String.fromCharCode(se[ie]);continue}}ee[ne]=String.fromCodePoint(Y)}}return ee}async buildToUnicode(Q){var de;if(Q.hasIncludedToUnicodeMap=((de=Q.toUnicode)==null?void 0:de.length)>0,Q.hasIncludedToUnicodeMap)return!Q.composite&&Q.hasEncoding&&(Q.fallbackToUnicode=this._simpleFontToUnicode(Q)),Q.toUnicode;if(!Q.composite)return new g.ToUnicodeMap(this._simpleFontToUnicode(Q));if(Q.composite&&(Q.cMap.builtInCMap&&!(Q.cMap instanceof d.IdentityCMap)||Q.cidSystemInfo.registry==="Adobe"&&(Q.cidSystemInfo.ordering==="GB1"||Q.cidSystemInfo.ordering==="CNS1"||Q.cidSystemInfo.ordering==="Japan1"||Q.cidSystemInfo.ordering==="Korea1"))){const{registry:ee,ordering:ue}=Q.cidSystemInfo,W=T.Name.get(`${ee}-${ue}-UCS2`),Z=await d.CMapFactory.create({encoding:W,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),se=[],ne=[];return Q.cMap.forEach(function(ie,H){if(H>65535)throw new n.FormatError("Max size of CID is 65,535");const Y=Z.lookup(H);if(Y){ne.length=0;for(let G=0,le=Y.length;G<le;G+=2)ne.push((Y.charCodeAt(G)<<8)+Y.charCodeAt(G+1));se[ie]=String.fromCharCode(...ne)}}),new g.ToUnicodeMap(se)}return new g.IdentityToUnicodeMap(Q.firstChar,Q.lastChar)}readToUnicode(Q){return Q?Q instanceof T.Name?d.CMapFactory.create({encoding:Q,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(de){return de instanceof d.IdentityCMap?new g.IdentityToUnicodeMap(0,65535):new g.ToUnicodeMap(de.getMap())}):Q instanceof x.BaseStream?d.CMapFactory.create({encoding:Q,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(de){if(de instanceof d.IdentityCMap)return new g.IdentityToUnicodeMap(0,65535);const ee=new Array(de.length);return de.forEach(function(ue,W){if(typeof W=="number"){ee[ue]=String.fromCodePoint(W);return}const Z=[];for(let se=0;se<W.length;se+=2){const ne=W.charCodeAt(se)<<8|W.charCodeAt(se+1);if((ne&63488)!==55296){Z.push(ne);continue}se+=2;const ie=W.charCodeAt(se)<<8|W.charCodeAt(se+1);Z.push(((ne&1023)<<10)+(ie&1023)+65536)}ee[ue]=String.fromCodePoint(...Z)}),new g.ToUnicodeMap(ee)},de=>{if(de instanceof n.AbortException)return null;if(this.options.ignoreErrors)return(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${de}".`),null;throw de}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Q,de){const ee=[];for(let ue=0,W=Q.length;ue<W;ue++){const Z=Q[ue++]<<8|Q[ue],se=ue>>1;Z===0&&!de.has(se)||(ee[se]=Z)}return ee}extractWidths(Q,de,ee){const ue=this.xref;let W=[],Z=0;const se=[];let ne,ie,H,Y,G,le,ce,te;if(ee.composite){if(Z=Q.has("DW")?Q.get("DW"):1e3,te=Q.get("W"),te)for(ie=0,H=te.length;ie<H;ie++)if(le=ue.fetchIfRef(te[ie++]),ce=ue.fetchIfRef(te[ie]),Array.isArray(ce))for(Y=0,G=ce.length;Y<G;Y++)W[le++]=ue.fetchIfRef(ce[Y]);else{const Se=ue.fetchIfRef(te[++ie]);for(Y=le;Y<=ce;Y++)W[Y]=Se}if(ee.vertical){let Se=Q.getArray("DW2")||[880,-1e3];if(ne=[Se[1],Z*.5,Se[0]],Se=Q.get("W2"),Se)for(ie=0,H=Se.length;ie<H;ie++)if(le=ue.fetchIfRef(Se[ie++]),ce=ue.fetchIfRef(Se[ie]),Array.isArray(ce))for(Y=0,G=ce.length;Y<G;Y++)se[le++]=[ue.fetchIfRef(ce[Y++]),ue.fetchIfRef(ce[Y++]),ue.fetchIfRef(ce[Y])];else{const Oe=[ue.fetchIfRef(Se[++ie]),ue.fetchIfRef(Se[++ie]),ue.fetchIfRef(Se[++ie])];for(Y=le;Y<=ce;Y++)se[Y]=Oe}}}else{const Se=ee.firstChar;if(te=Q.get("Widths"),te){for(Y=Se,ie=0,H=te.length;ie<H;ie++)W[Y++]=ue.fetchIfRef(te[ie]);Z=parseFloat(de.get("MissingWidth"))||0}else{const Oe=Q.get("BaseFont");if(Oe instanceof T.Name){const Me=this.getBaseFontMetrics(Oe.name);W=this.buildCharCodeToWidth(Me.widths,ee),Z=Me.defaultWidth}}}let ge=!0,K=Z;for(const Se in W){const Oe=W[Se];if(Oe){if(!K){K=Oe;continue}if(K!==Oe){ge=!1;break}}}ge?ee.flags|=N.FontFlags.FixedPitch:ee.flags&=~N.FontFlags.FixedPitch,ee.defaultWidth=Z,ee.widths=W,ee.defaultVMetrics=ne,ee.vmetrics=se}isSerifFont(Q){const de=Q.split("-")[0];return de in(0,l.getSerifFonts)()||/serif/gi.test(de)}getBaseFontMetrics(Q){let de=0,ee=Object.create(null),ue=!1,Z=(0,l.getStdFontMap)()[Q]||Q;const se=(0,I.getMetrics)();Z in se||(Z=this.isSerifFont(Q)?"Times-Roman":"Helvetica");const ne=se[Z];return typeof ne=="number"?(de=ne,ue=!0):ee=ne(),{defaultWidth:de,monospace:ue,widths:ee}}buildCharCodeToWidth(Q,de){const ee=Object.create(null),ue=de.differences,W=de.defaultEncoding;for(let Z=0;Z<256;Z++){if(Z in ue&&Q[ue[Z]]){ee[Z]=Q[ue[Z]];continue}if(Z in W&&Q[W[Z]]){ee[Z]=Q[W[Z]];continue}}return ee}preEvaluateFont(Q){const de=Q;let ee=Q.get("Subtype");if(!(ee instanceof T.Name))throw new n.FormatError("invalid font Subtype");let ue=!1,W,Z;if(ee.name==="Type0"){const H=Q.get("DescendantFonts");if(!H)throw new n.FormatError("Descendant fonts are not specified");if(Q=Array.isArray(H)?this.xref.fetchIfRef(H[0]):H,!(Q instanceof T.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(ee=Q.get("Subtype"),!(ee instanceof T.Name))throw new n.FormatError("invalid font Subtype");ue=!0}const se=Q.get("FirstChar")||0,ne=Q.get("LastChar")||(ue?65535:255),ie=Q.get("FontDescriptor");if(ie){W=new P.MurmurHash3_64;const H=de.getRaw("Encoding");if(H instanceof T.Name)W.update(H.name);else if(H instanceof T.Ref)W.update(H.toString());else if(H instanceof T.Dict){for(const G of H.getRawValues())if(G instanceof T.Name)W.update(G.name);else if(G instanceof T.Ref)W.update(G.toString());else if(Array.isArray(G)){const le=G.length,ce=new Array(le);for(let te=0;te<le;te++){const ge=G[te];ge instanceof T.Name?ce[te]=ge.name:(typeof ge=="number"||ge instanceof T.Ref)&&(ce[te]=ge.toString())}W.update(ce.join())}}if(W.update(`${se}-${ne}`),Z=Q.get("ToUnicode")||de.get("ToUnicode"),Z instanceof x.BaseStream){const G=Z.str||Z,le=G.buffer?new Uint8Array(G.buffer.buffer,0,G.bufferLength):new Uint8Array(G.bytes.buffer,G.start,G.end-G.start);W.update(le)}else Z instanceof T.Name&&W.update(Z.name);const Y=Q.get("Widths")||de.get("Widths");if(Array.isArray(Y)){const G=[];for(const le of Y)(typeof le=="number"||le instanceof T.Ref)&&G.push(le.toString());W.update(G.join())}if(ue){W.update("compositeFont");const G=Q.get("W")||de.get("W");if(Array.isArray(G)){const ce=[];for(const te of G)if(typeof te=="number"||te instanceof T.Ref)ce.push(te.toString());else if(Array.isArray(te)){const ge=[];for(const K of te)(typeof K=="number"||K instanceof T.Ref)&&ge.push(K.toString());ce.push(`[${ge.join()}]`)}W.update(ce.join())}const le=Q.getRaw("CIDToGIDMap")||de.getRaw("CIDToGIDMap");le instanceof T.Name?W.update(le.name):le instanceof T.Ref?W.update(le.toString()):le instanceof x.BaseStream&&W.update(le.peekBytes())}}return{descriptor:ie,dict:Q,baseDict:de,composite:ue,type:ee.name,firstChar:se,lastChar:ne,toUnicode:Z,hash:W?W.hexdigest():""}}async translateFont({descriptor:Q,dict:de,baseDict:ee,composite:ue,type:W,firstChar:Z,lastChar:se,toUnicode:ne,cssFontInfo:ie}){const H=W==="Type3";let Y;if(!Q)if(H)Q=new T.Dict(null),Q.set("FontName",T.Name.get(W)),Q.set("FontBBox",de.getArray("FontBBox")||[0,0,0,0]);else{let Ie=de.get("BaseFont");if(!(Ie instanceof T.Name))throw new n.FormatError("Base font is not specified");Ie=Ie.name.replaceAll(/[,_]/g,"-");const Be=this.getBaseFontMetrics(Ie),he=Ie.split("-")[0],De=(this.isSerifFont(he)?N.FontFlags.Serif:0)|(Be.monospace?N.FontFlags.FixedPitch:0)|((0,l.getSymbolsFonts)()[he]?N.FontFlags.Symbolic:N.FontFlags.Nonsymbolic);Y={type:W,name:Ie,loadedName:ee.loadedName,systemFontInfo:null,widths:Be.widths,defaultWidth:Be.defaultWidth,isSimulatedFlags:!0,flags:De,firstChar:Z,lastChar:se,toUnicode:ne,xHeight:0,capHeight:0,italicAngle:0,isType3Font:H};const ye=de.get("Widths"),me=(0,l.getStandardFontName)(Ie);let Pe=null;return me&&(Pe=await this.fetchStandardFontData(me),Y.isInternalFont=!!Pe),!Y.isInternalFont&&this.options.useSystemFonts&&(Y.systemFontInfo=(0,U.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,Ie,me)),this.extractDataStructures(de,de,Y).then(Re=>{if(ye){const He=[];let Xe=Z;for(const Fe of ye)He[Xe++]=this.xref.fetchIfRef(Fe);Re.widths=He}else Re.widths=this.buildCharCodeToWidth(Be.widths,Re);return new e.Font(Ie,Pe,Re)})}let G=Q.get("FontName"),le=de.get("BaseFont");typeof G=="string"&&(G=T.Name.get(G)),typeof le=="string"&&(le=T.Name.get(le));const ce=G==null?void 0:G.name,te=le==null?void 0:le.name;if(!H&&ce!==te&&((0,n.info)(`The FontDescriptor's FontName is "${ce}" but should be the same as the Font's BaseFont "${te}".`),ce&&te&&(te.startsWith(ce)||!(0,l.isKnownFontName)(ce)&&(0,l.isKnownFontName)(te))&&(G=null)),G||(G=le),!(G instanceof T.Name))throw new n.FormatError("invalid font name");let ge,K,Se,Oe,Me;try{ge=Q.get("FontFile","FontFile2","FontFile3")}catch(Ie){if(!this.options.ignoreErrors)throw Ie;(0,n.warn)(`translateFont - fetching "${G.name}" font file: "${Ie}".`),ge=new i.NullStream}let _e=!1,ke=null,oe=null;if(ge){if(ge.dict){const Ie=ge.dict.get("Subtype");Ie instanceof T.Name&&(K=Ie.name),Se=ge.dict.get("Length1"),Oe=ge.dict.get("Length2"),Me=ge.dict.get("Length3")}}else if(ie){const Ie=(0,F.getXfaFontName)(G.name);Ie&&(ie.fontFamily=`${ie.fontFamily}-PdfJS-XFA`,ie.metrics=Ie.metrics||null,ke=Ie.factors||null,ge=await this.fetchStandardFontData(Ie.name),_e=!!ge,ee=de=(0,F.getXfaFontDict)(G.name),ue=!0)}else if(!H){const Ie=(0,l.getStandardFontName)(G.name);Ie&&(ge=await this.fetchStandardFontData(Ie),_e=!!ge),!_e&&this.options.useSystemFonts&&(oe=(0,U.getFontSubstitution)(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,G.name,Ie))}if(Y={type:W,name:G.name,subtype:K,file:ge,length1:Se,length2:Oe,length3:Me,isInternalFont:_e,loadedName:ee.loadedName,composite:ue,fixedPitch:!1,fontMatrix:de.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:Z,lastChar:se,toUnicode:ne,bbox:Q.getArray("FontBBox")||de.getArray("FontBBox"),ascent:Q.get("Ascent"),descent:Q.get("Descent"),xHeight:Q.get("XHeight")||0,capHeight:Q.get("CapHeight")||0,flags:Q.get("Flags"),italicAngle:Q.get("ItalicAngle")||0,isType3Font:H,cssFontInfo:ie,scaleFactors:ke,systemFontInfo:oe},ue){const Ie=ee.get("Encoding");Ie instanceof T.Name&&(Y.cidEncoding=Ie.name);const Be=await d.CMapFactory.create({encoding:Ie,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Y.cMap=Be,Y.vertical=Y.cMap.vertical}return this.extractDataStructures(de,ee,Y).then(Ie=>(this.extractWidths(de,Q,Ie),new e.Font(G.name,ge,Ie)))}static buildFontPaths(Q,de,ee,ue){function W(Z){const se=`${Q.loadedName}_path_${Z}`;try{if(Q.renderer.hasBuiltPath(Z))return;ee.send("commonobj",[se,"FontPath",Q.renderer.getPathJs(Z)])}catch(ne){if(ue.ignoreErrors){(0,n.warn)(`buildFontPaths - ignoring ${se} glyph: "${ne}".`);return}throw ne}}for(const Z of de){W(Z.fontChar);const se=Z.accent;se!=null&&se.fontChar&&W(se.fontChar)}}static get fallbackFontDict(){const Q=new T.Dict;return Q.set("BaseFont",T.Name.get("Helvetica")),Q.set("Type",T.Name.get("FallbackType")),Q.set("Subtype",T.Name.get("FallbackType")),Q.set("Encoding",T.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",Q)}}f.PartialEvaluator=a;class o{constructor({loadedName:Q,font:de,dict:ee,evaluatorOptions:ue}){this.loadedName=Q,this.font=de,this.dict=ee,this._evaluatorOptions=ue||S,this.type3Loaded=null,this.type3Dependencies=de.isType3Font?new Set:null,this.sent=!1}send(Q){this.sent||(this.sent=!0,Q.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Q){this.font.data&&(this.font.disableFontFace=!0,a.buildFontPaths(this.font,this.font.glyphCacheValues,Q,this._evaluatorOptions))}loadType3Data(Q,de,ee){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const ue=Q.clone({ignoreErrors:!1});ue.parsingType3Font=!0;const W=new T.RefSet(Q.type3FontRefs);this.dict.objId&&!W.has(this.dict.objId)&&W.put(this.dict.objId),ue.type3FontRefs=W;const Z=this.font,se=this.type3Dependencies;let ne=Promise.resolve();const ie=this.dict.get("CharProcs"),H=this.dict.get("Resources")||de,Y=Object.create(null),G=n.Util.normalizeRect(Z.bbox||[0,0,0,0]),le=G[2]-G[0],ce=G[3]-G[1],te=Math.hypot(le,ce);for(const ge of ie.getKeys())ne=ne.then(()=>{const K=ie.get(ge),Se=new X.OperatorList;return ue.getOperatorList({stream:K,task:ee,resources:H,operatorList:Se}).then(()=>{Se.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(Se,te),Y[ge]=Se.getIR();for(const Oe of Se.dependencies)se.add(Oe)}).catch(function(Oe){(0,n.warn)(`Type3 font resource "${ge}" is not available.`);const Me=new X.OperatorList;Y[ge]=Me.getIR()})});return this.type3Loaded=ne.then(()=>{Z.charProcOperatorList=Y,this._bbox&&(Z.isCharBBox=!0,Z.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Q,de=NaN){const ee=n.Util.normalizeRect(Q.argsArray[0].slice(2)),ue=ee[2]-ee[0],W=ee[3]-ee[1],Z=Math.hypot(ue,W);ue===0||W===0?(Q.fnArray.splice(0,1),Q.argsArray.splice(0,1)):(de===0||Math.round(Z/de)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],ee[0]),this._bbox[1]=Math.min(this._bbox[1],ee[1]),this._bbox[2]=Math.max(this._bbox[2],ee[2]),this._bbox[3]=Math.max(this._bbox[3],ee[3]));let se=0,ne=Q.length;for(;se<ne;){switch(Q.fnArray[se]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:Q.fnArray.splice(se,1),Q.argsArray.splice(se,1),ne--;continue;case n.OPS.setGState:const[ie]=Q.argsArray[se];let H=0,Y=ie.length;for(;H<Y;){const[G]=ie[H];switch(G){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":ie.splice(H,1),Y--;continue}H++}break}se++}}}class r{constructor(Q=new A){this.state=Q,this.stateStack=[]}save(){const Q=this.state;this.stateStack.push(this.state),this.state=Q.clone()}restore(){const Q=this.stateStack.pop();Q&&(this.state=Q)}transform(Q){this.state.ctm=n.Util.transform(this.state.ctm,Q)}}class s{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Q,de,ee,ue,W,Z){const se=this.textMatrix;se[0]=Q,se[1]=de,se[2]=ee,se[3]=ue,se[4]=W,se[5]=Z}setTextLineMatrix(Q,de,ee,ue,W,Z){const se=this.textLineMatrix;se[0]=Q,se[1]=de,se[2]=ee,se[3]=ue,se[4]=W,se[5]=Z}translateTextMatrix(Q,de){const ee=this.textMatrix;ee[4]=ee[0]*Q+ee[2]*de+ee[4],ee[5]=ee[1]*Q+ee[3]*de+ee[5]}translateTextLineMatrix(Q,de){const ee=this.textLineMatrix;ee[4]=ee[0]*Q+ee[2]*de+ee[4],ee[5]=ee[1]*Q+ee[3]*de+ee[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Q=Object.create(this);return Q.textMatrix=this.textMatrix.slice(),Q.textLineMatrix=this.textLineMatrix.slice(),Q.fontMatrix=this.fontMatrix.slice(),Q}}class A{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=v.ColorSpace.singletons.gray,this.strokeColorSpace=v.ColorSpace.singletons.gray}clone(){return Object.create(this)}}const q=class q{static get opMap(){return(0,n.shadow)(this,"opMap",{w:{id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:n.OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:n.OPS.setGState,numArgs:1,variableArgs:!1},q:{id:n.OPS.save,numArgs:0,variableArgs:!1},Q:{id:n.OPS.restore,numArgs:0,variableArgs:!1},cm:{id:n.OPS.transform,numArgs:6,variableArgs:!1},m:{id:n.OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:n.OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:n.OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:n.OPS.closePath,numArgs:0,variableArgs:!1},re:{id:n.OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:n.OPS.stroke,numArgs:0,variableArgs:!1},s:{id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:n.OPS.fill,numArgs:0,variableArgs:!1},F:{id:n.OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:n.OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:n.OPS.endPath,numArgs:0,variableArgs:!1},W:{id:n.OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:n.OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:n.OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:n.OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:n.OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:n.OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:n.OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:n.OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:n.OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:n.OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:n.OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:n.OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}constructor(Q,de,ee=new r){this.parser=new u.Parser({lexer:new u.Lexer(Q,q.opMap),xref:de}),this.stateManager=ee,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Q){let de=Q.args;for(;;){const ee=this.parser.getObj();if(ee instanceof T.Cmd){const ue=ee.cmd,W=q.opMap[ue];if(!W){(0,n.warn)(`Unknown command "${ue}".`);continue}const Z=W.id,se=W.numArgs;let ne=de!==null?de.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=Z>=n.OPS.moveTo&&Z<=n.OPS.endPath,W.variableArgs)ne>se&&(0,n.info)(`Command ${ue}: expected [0, ${se}] args, but received ${ne} args.`);else{if(ne!==se){const ie=this.nonProcessedArgs;for(;ne>se;)ie.push(de.shift()),ne--;for(;ne<se&&ie.length!==0;)de===null&&(de=[]),de.unshift(ie.pop()),ne++}if(ne<se){const ie=`command ${ue}: expected ${se} args, but received ${ne} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>q.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${ie}`);(0,n.warn)(`Skipping ${ie}`),de!==null&&(de.length=0);continue}}return this.preprocessCommand(Z,de),Q.fn=Z,Q.args=de,!0}if(ee===T.EOF)return!1;if(ee!==null&&(de===null&&(de=[]),de.push(ee),de.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand(Q,de){switch(Q|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(de);break}}};Mt(q,"MAX_INVALID_PATH_OPS",10);let c=q;f.EvaluatorPreprocessor=c},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.IdentityCMap=f.CMapFactory=f.CMap=void 0;var n=$(2),d=$(4),T=$(5),e=$(15),t=$(16),l=$(3),L=$(8);const F=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],g=2**24-1;class w{constructor(S=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=S}addCodespaceRange(S,R,z){this.codespaceRanges[S-1].push(R,z),this.numCodespaceRanges++}mapCidRange(S,R,z){if(R-S>g)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;S<=R;)this._map[S++]=z++}mapBfRange(S,R,z){if(R-S>g)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const O=z.length-1;for(;S<=R;){this._map[S++]=z;const E=z.charCodeAt(O)+1;if(E>255){z=z.substring(0,O-1)+String.fromCharCode(z.charCodeAt(O-1)+1)+"\0";continue}z=z.substring(0,O)+String.fromCharCode(E)}}mapBfRangeToArray(S,R,z){if(R-S>g)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const O=z.length;let E=0;for(;S<=R&&E<O;)this._map[S]=z[E++],++S}mapOne(S,R){this._map[S]=R}lookup(S){return this._map[S]}contains(S){return this._map[S]!==void 0}forEach(S){const R=this._map,z=R.length;if(z<=65536)for(let O=0;O<z;O++)R[O]!==void 0&&S(O,R[O]);else for(const O in R)S(O,R[O])}charCodeOf(S){const R=this._map;if(R.length<=65536)return R.indexOf(S);for(const z in R)if(R[z]===S)return z|0;return-1}getMap(){return this._map}readCharCode(S,R,z){let O=0;const E=this.codespaceRanges;for(let k=0,M=E.length;k<M;k++){O=(O<<8|S.charCodeAt(R+k))>>>0;const a=E[k];for(let o=0,r=a.length;o<r;){const s=a[o++],A=a[o++];if(O>=s&&O<=A){z.charcode=O,z.length=k+1;return}}}z.charcode=0,z.length=1}getCharCodeLength(S){const R=this.codespaceRanges;for(let z=0,O=R.length;z<O;z++){const E=R[z];for(let k=0,M=E.length;k<M;){const a=E[k++],o=E[k++];if(S>=a&&S<=o)return z+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let S=0;S<65536;S++)if(this._map[S]!==S)return!1;return!0}}f.CMap=w;class u extends w{constructor(S,R){super(),this.vertical=S,this.addCodespaceRange(R,0,65535)}mapCidRange(S,R,z){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(S,R,z){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(S,R,z){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(S,R){(0,n.unreachable)("should not call mapCidOne")}lookup(S){return Number.isInteger(S)&&S<=65535?S:void 0}contains(S){return Number.isInteger(S)&&S<=65535}forEach(S){for(let R=0;R<=65535;R++)S(R,R)}charCodeOf(S){return Number.isInteger(S)&&S<=65535?S:-1}getMap(){const S=new Array(65536);for(let R=0;R<=65535;R++)S[R]=R;return S}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}f.IdentityCMap=u;function h(m){let S=0;for(let R=0;R<m.length;R++)S=S<<8|m.charCodeAt(R);return S>>>0}function i(m){if(typeof m!="string")throw new n.FormatError("Malformed CMap: expected string.")}function x(m){if(!Number.isInteger(m))throw new n.FormatError("Malformed CMap: expected int.")}function p(m,S){for(;;){let R=S.getObj();if(R===d.EOF)break;if((0,d.isCmd)(R,"endbfchar"))return;i(R);const z=h(R);R=S.getObj(),i(R);const O=R;m.mapOne(z,O)}}function v(m,S){for(;;){let R=S.getObj();if(R===d.EOF)break;if((0,d.isCmd)(R,"endbfrange"))return;i(R);const z=h(R);R=S.getObj(),i(R);const O=h(R);if(R=S.getObj(),Number.isInteger(R)||typeof R=="string"){const E=Number.isInteger(R)?String.fromCharCode(R):R;m.mapBfRange(z,O,E)}else if((0,d.isCmd)(R,"[")){R=S.getObj();const E=[];for(;!(0,d.isCmd)(R,"]")&&R!==d.EOF;)E.push(R),R=S.getObj();m.mapBfRangeToArray(z,O,E)}else break}throw new n.FormatError("Invalid bf range.")}function b(m,S){for(;;){let R=S.getObj();if(R===d.EOF)break;if((0,d.isCmd)(R,"endcidchar"))return;i(R);const z=h(R);R=S.getObj(),x(R);const O=R;m.mapOne(z,O)}}function N(m,S){for(;;){let R=S.getObj();if(R===d.EOF)break;if((0,d.isCmd)(R,"endcidrange"))return;i(R);const z=h(R);R=S.getObj(),i(R);const O=h(R);R=S.getObj(),x(R);const E=R;m.mapCidRange(z,O,E)}}function U(m,S){for(;;){let R=S.getObj();if(R===d.EOF)break;if((0,d.isCmd)(R,"endcodespacerange"))return;if(typeof R!="string")break;const z=h(R);if(R=S.getObj(),typeof R!="string")break;const O=h(R);m.addCodespaceRange(R.length,z,O)}throw new n.FormatError("Invalid codespace range.")}function D(m,S){const R=S.getObj();Number.isInteger(R)&&(m.vertical=!!R)}function I(m,S){const R=S.getObj();R instanceof d.Name&&(m.name=R.name)}async function B(m,S,R,z){let O,E;e:for(;;)try{const k=S.getObj();if(k===d.EOF)break;if(k instanceof d.Name)k.name==="WMode"?D(m,S):k.name==="CMapName"&&I(m,S),O=k;else if(k instanceof d.Cmd)switch(k.cmd){case"endcmap":break e;case"usecmap":O instanceof d.Name&&(E=O.name);break;case"begincodespacerange":U(m,S);break;case"beginbfchar":p(m,S);break;case"begincidchar":b(m,S);break;case"beginbfrange":v(m,S);break;case"begincidrange":N(m,S);break}}catch(k){if(k instanceof l.MissingDataException)throw k;(0,n.warn)("Invalid cMap data: "+k);continue}return!z&&E&&(z=E),z?_(m,R,z):m}async function _(m,S,R){if(m.useCMap=await P(R,S),m.numCodespaceRanges===0){const z=m.useCMap.codespaceRanges;for(let O=0;O<z.length;O++)m.codespaceRanges[O]=z[O].slice();m.numCodespaceRanges=m.useCMap.numCodespaceRanges}return m.useCMap.forEach(function(z,O){m.contains(z)||m.mapOne(z,m.useCMap.lookup(z))}),m}async function P(m,S){if(m==="Identity-H")return new u(!1,2);if(m==="Identity-V")return new u(!0,2);if(!F.includes(m))throw new Error("Unknown CMap name: "+m);if(!S)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:R,compressionType:z}=await S(m),O=new w(!0);if(z===n.CMapCompressionType.BINARY)return new e.BinaryCMapReader().process(R,O,E=>_(O,S,E));if(z===n.CMapCompressionType.NONE){const E=new t.Lexer(new L.Stream(R));return B(O,E,S,null)}throw new Error(`Invalid CMap "compressionType" value: ${z}`)}class X{static async create({encoding:S,fetchBuiltInCMap:R,useCMap:z}){if(S instanceof d.Name)return P(S.name,R);if(S instanceof T.BaseStream){const O=await B(new w,new t.Lexer(S),R,z);return O.isIdentityCMap?P(O.name,R):O}throw new Error("Encoding required.")}}f.CMapFactory=X},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.BinaryCMapReader=void 0;var n=$(2);function d(w,u){let h=0;for(let i=0;i<=u;i++)h=h<<8|w[i];return h>>>0}function T(w,u){return u===1?String.fromCharCode(w[0],w[1]):u===3?String.fromCharCode(w[0],w[1],w[2],w[3]):String.fromCharCode(...w.subarray(0,u+1))}function e(w,u,h){let i=0;for(let x=h;x>=0;x--)i+=w[x]+u[x],w[x]=i&255,i>>=8}function t(w,u){let h=1;for(let i=u;i>=0&&h>0;i--)h+=w[i],w[i]=h&255,h>>=8}const l=16,L=19;class F{constructor(u){this.buffer=u,this.pos=0,this.end=u.length,this.tmpBuf=new Uint8Array(L)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let u=0,h;do{const i=this.readByte();if(i<0)throw new n.FormatError("unexpected EOF in bcmap");h=!(i&128),u=u<<7|i&127}while(!h);return u}readSigned(){const u=this.readNumber();return u&1?~(u>>>1):u>>>1}readHex(u,h){u.set(this.buffer.subarray(this.pos,this.pos+h+1)),this.pos+=h+1}readHexNumber(u,h){let i;const x=this.tmpBuf;let p=0;do{const U=this.readByte();if(U<0)throw new n.FormatError("unexpected EOF in bcmap");i=!(U&128),x[p++]=U&127}while(!i);let v=h,b=0,N=0;for(;v>=0;){for(;N<8&&x.length>0;)b|=x[--p]<<N,N+=7;u[v]=b&255,v--,b>>=8,N-=8}}readHexSigned(u,h){this.readHexNumber(u,h);const i=u[h]&1?255:0;let x=0;for(let p=0;p<=h;p++)x=(x&1)<<8|u[p],u[p]=x>>1^i}readString(){const u=this.readNumber(),h=new Array(u);for(let i=0;i<u;i++)h[i]=this.readNumber();return String.fromCharCode(...h)}}class g{async process(u,h,i){const x=new F(u),p=x.readByte();h.vertical=!!(p&1);let v=null;const b=new Uint8Array(l),N=new Uint8Array(l),U=new Uint8Array(l),D=new Uint8Array(l),I=new Uint8Array(l);let B,_;for(;(_=x.readByte())>=0;){const P=_>>5;if(P===7){switch(_&31){case 0:x.readString();break;case 1:v=x.readString();break}continue}const X=!!(_&16),m=_&15;if(m+1>l)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const S=1,R=x.readNumber();switch(P){case 0:x.readHex(b,m),x.readHexNumber(N,m),e(N,b,m),h.addCodespaceRange(m+1,d(b,m),d(N,m));for(let z=1;z<R;z++)t(N,m),x.readHexNumber(b,m),e(b,N,m),x.readHexNumber(N,m),e(N,b,m),h.addCodespaceRange(m+1,d(b,m),d(N,m));break;case 1:x.readHex(b,m),x.readHexNumber(N,m),e(N,b,m),x.readNumber();for(let z=1;z<R;z++)t(N,m),x.readHexNumber(b,m),e(b,N,m),x.readHexNumber(N,m),e(N,b,m),x.readNumber();break;case 2:x.readHex(U,m),B=x.readNumber(),h.mapOne(d(U,m),B);for(let z=1;z<R;z++)t(U,m),X||(x.readHexNumber(I,m),e(U,I,m)),B=x.readSigned()+(B+1),h.mapOne(d(U,m),B);break;case 3:x.readHex(b,m),x.readHexNumber(N,m),e(N,b,m),B=x.readNumber(),h.mapCidRange(d(b,m),d(N,m),B);for(let z=1;z<R;z++)t(N,m),X?b.set(N):(x.readHexNumber(b,m),e(b,N,m)),x.readHexNumber(N,m),e(N,b,m),B=x.readNumber(),h.mapCidRange(d(b,m),d(N,m),B);break;case 4:x.readHex(U,S),x.readHex(D,m),h.mapOne(d(U,S),T(D,m));for(let z=1;z<R;z++)t(U,S),X||(x.readHexNumber(I,S),e(U,I,S)),t(D,m),x.readHexSigned(I,m),e(D,I,m),h.mapOne(d(U,S),T(D,m));break;case 5:x.readHex(b,S),x.readHexNumber(N,S),e(N,b,S),x.readHex(D,m),h.mapBfRange(d(b,S),d(N,S),T(D,m));for(let z=1;z<R;z++)t(N,S),X?b.set(N):(x.readHexNumber(b,S),e(b,N,S)),x.readHexNumber(N,S),e(N,b,S),x.readHex(D,m),h.mapBfRange(d(b,S),d(N,S),T(D,m));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${P}`)}}return v?i(v):h}}f.BinaryCMapReader=g},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Parser=f.Linearization=f.Lexer=void 0;var n=$(2),d=$(4),T=$(3),e=$(8),t=$(17),l=$(19),L=$(20),F=$(22),g=$(23),w=$(26),u=$(29),h=$(31),i=$(32),x=$(33);const p=1e3;function v(B){const _=[],P=B.length;let X=0;for(;X<P-1;)_.push(B[X++]<<8|B[X++]);return X<P&&_.push(B[X]),P+"_"+String.fromCharCode.apply(null,_)}class b{constructor({lexer:_,xref:P,allowStreams:X=!1,recoveryMode:m=!1}){this.lexer=_,this.xref=P,this.allowStreams=X,this.recoveryMode=m,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof d.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(_){if(_ instanceof T.MissingDataException)throw _;return!1}}getObj(_=null){const P=this.buf1;if(this.shift(),P instanceof d.Cmd)switch(P.cmd){case"BI":return this.makeInlineImage(_);case"[":const X=[];for(;!(0,d.isCmd)(this.buf1,"]")&&this.buf1!==d.EOF;)X.push(this.getObj(_));if(this.buf1===d.EOF){if(this.recoveryMode)return X;throw new T.ParserEOFException("End of file inside array.")}return this.shift(),X;case"<<":const m=new d.Dict(this.xref);for(;!(0,d.isCmd)(this.buf1,">>")&&this.buf1!==d.EOF;){if(!(this.buf1 instanceof d.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const S=this.buf1.name;if(this.shift(),this.buf1===d.EOF)break;m.set(S,this.getObj(_))}if(this.buf1===d.EOF){if(this.recoveryMode)return m;throw new T.ParserEOFException("End of file inside dictionary.")}return(0,d.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(m,_):m:(this.shift(),m);default:return P}if(Number.isInteger(P)){if(Number.isInteger(this.buf1)&&(0,d.isCmd)(this.buf2,"R")){const X=d.Ref.get(P,this.buf1);return this.shift(),this.shift(),X}return P}return typeof P=="string"&&_?_.decryptString(P):P}findDefaultInlineStreamEnd(_){const{knownCommands:O}=this.lexer,E=_.pos,k=15;let M=0,a,o;for(;(a=_.getByte())!==-1;)if(M===0)M=a===69?1:0;else if(M===1)M=a===73?2:0;else if(a===32||a===10||a===13){o=_.pos;const s=_.peekBytes(k),A=s.length;if(A===0)break;for(let q=0;q<A;q++)if(a=s[q],!(a===0&&s[q+1]!==0)&&a!==10&&a!==13&&(a<32||a>127)){M=0;break}if(M!==2)continue;if(!O){(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const c=new D(new e.Stream(s.slice()),O);c._hexStringWarn=()=>{};let y=0;for(;;){const q=c.getObj();if(q===d.EOF){M=0;break}if(q instanceof d.Cmd){const re=O[q.cmd];if(re){if(re.variableArgs?y<=re.numArgs:y===re.numArgs)break}else{M=0;break}y=0;continue}y++}if(M===2)break}else M=0;a===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),o&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),_.skip(-(_.pos-o))));let r=4;return _.skip(-r),a=_.peekByte(),_.skip(r),(0,T.isWhiteSpace)(a)||r--,_.pos-r-E}findDCTDecodeInlineStreamEnd(_){const P=_.pos;let X=!1,m,S;for(;(m=_.getByte())!==-1;)if(m===255){switch(_.getByte()){case 0:break;case 255:_.skip(-1);break;case 217:X=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:S=_.getUint16(),S>2?_.skip(S-2):_.skip(-2);break}if(X)break}const R=_.pos-P;return m===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),_.skip(-R),this.findDefaultInlineStreamEnd(_)):(this.inlineStreamSkipEI(_),R)}findASCII85DecodeInlineStreamEnd(_){const m=_.pos;let S;for(;(S=_.getByte())!==-1;)if(S===126){const z=_.pos;for(S=_.peekByte();(0,T.isWhiteSpace)(S);)_.skip(),S=_.peekByte();if(S===62){_.skip();break}if(_.pos>z){const O=_.peekBytes(2);if(O[0]===69&&O[1]===73)break}}const R=_.pos-m;return S===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),_.skip(-R),this.findDefaultInlineStreamEnd(_)):(this.inlineStreamSkipEI(_),R)}findASCIIHexDecodeInlineStreamEnd(_){const X=_.pos;let m;for(;(m=_.getByte())!==-1&&m!==62;);const S=_.pos-X;return m===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),_.skip(-S),this.findDefaultInlineStreamEnd(_)):(this.inlineStreamSkipEI(_),S)}inlineStreamSkipEI(_){let m=0,S;for(;(S=_.getByte())!==-1;)if(m===0)m=S===69?1:0;else if(m===1)m=S===73?2:0;else if(m===2)break}makeInlineImage(_){const P=this.lexer,X=P.stream,m=Object.create(null);let S;for(;!(0,d.isCmd)(this.buf1,"ID")&&this.buf1!==d.EOF;){if(!(this.buf1 instanceof d.Name))throw new n.FormatError("Dictionary key must be a name object");const o=this.buf1.name;if(this.shift(),this.buf1===d.EOF)break;m[o]=this.getObj(_)}P.beginInlineImagePos!==-1&&(S=X.pos-P.beginInlineImagePos);const R=this.xref.fetchIfRef(m.F||m.Filter);let z;if(R instanceof d.Name)z=R.name;else if(Array.isArray(R)){const o=this.xref.fetchIfRef(R[0]);o instanceof d.Name&&(z=o.name)}const O=X.pos;let E;switch(z){case"DCT":case"DCTDecode":E=this.findDCTDecodeInlineStreamEnd(X);break;case"A85":case"ASCII85Decode":E=this.findASCII85DecodeInlineStreamEnd(X);break;case"AHx":case"ASCIIHexDecode":E=this.findASCIIHexDecodeInlineStreamEnd(X);break;default:E=this.findDefaultInlineStreamEnd(X)}let k;if(E<p&&S>0){const o=X.pos;X.pos=P.beginInlineImagePos,k=v(X.getBytes(S+E)),X.pos=o;const r=this.imageCache[k];if(r!==void 0)return this.buf2=d.Cmd.get("EI"),this.shift(),r.reset(),r}const M=new d.Dict(this.xref);for(const o in m)M.set(o,m[o]);let a=X.makeSubStream(O,E,M);return _&&(a=_.createStream(a,E)),a=this.filter(a,M,E),a.dict=M,k!==void 0&&(a.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[k]=a),this.buf2=d.Cmd.get("EI"),this.shift(),a}_findStreamLength(_,P){const{stream:X}=this.lexer;X.pos=_;const m=2048,S=P.length;for(;X.pos<X.end;){const R=X.peekBytes(m),z=R.length-S;if(z<=0)break;let O=0;for(;O<z;){let E=0;for(;E<S&&R[O+E]===P[E];)E++;if(E>=S)return X.pos+=O,X.pos-_;O++}X.pos+=z}return-1}makeStream(_,P){const X=this.lexer;let m=X.stream;X.skipToNextLine();const S=m.pos-1;let R=_.get("Length");if(Number.isInteger(R)||((0,n.info)(`Bad length "${R&&R.toString()}" in stream.`),R=0),m.pos=S+R,X.nextChar(),this.tryShift()&&(0,d.isCmd)(this.buf2,"endstream"))this.shift();else{const z=new Uint8Array([101,110,100,115,116,114,101,97,109]);let O=this._findStreamLength(S,z);if(O<0){for(let k=1;k<=1;k++){const M=z.length-k,a=z.slice(0,M),o=this._findStreamLength(S,a);if(o>=0){const r=m.peekBytes(M+1)[M];if(!(0,T.isWhiteSpace)(r))break;(0,n.info)(`Found "${(0,n.bytesToString)(a)}" when searching for endstream command.`),O=o;break}}if(O<0)throw new n.FormatError("Missing endstream command.")}R=O,X.nextChar(),this.shift(),this.shift()}return this.shift(),m=m.makeSubStream(S,R,_),P&&(m=P.createStream(m,R)),m=this.filter(m,_,R),m.dict=_,m}filter(_,P,X){let m=P.get("F","Filter"),S=P.get("DP","DecodeParms");if(m instanceof d.Name)return Array.isArray(S)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(_,m.name,X,S);let R=X;if(Array.isArray(m)){const z=m,O=S;for(let E=0,k=z.length;E<k;++E){if(m=this.xref.fetchIfRef(z[E]),!(m instanceof d.Name))throw new n.FormatError(`Bad filter name "${m}"`);S=null,Array.isArray(O)&&E in O&&(S=this.xref.fetchIfRef(O[E])),_=this.makeFilter(_,m.name,R,S),R=null}}return _}makeFilter(_,P,X,m){if(X===0)return(0,n.warn)(`Empty "${P}" stream.`),new e.NullStream;try{switch(P){case"Fl":case"FlateDecode":return m?new i.PredictorStream(new F.FlateStream(_,X),X,m):new F.FlateStream(_,X);case"LZW":case"LZWDecode":let S=1;return m?(m.has("EarlyChange")&&(S=m.get("EarlyChange")),new i.PredictorStream(new h.LZWStream(_,X,S),X,m)):new h.LZWStream(_,X,S);case"DCT":case"DCTDecode":return new w.JpegStream(_,X,m);case"JPX":case"JPXDecode":return new u.JpxStream(_,X,m);case"A85":case"ASCII85Decode":return new t.Ascii85Stream(_,X);case"AHx":case"ASCIIHexDecode":return new l.AsciiHexStream(_,X);case"CCF":case"CCITTFaxDecode":return new L.CCITTFaxStream(_,X,m);case"RL":case"RunLengthDecode":return new x.RunLengthStream(_,X);case"JBIG2Decode":return new g.Jbig2Stream(_,X,m)}return(0,n.warn)(`Filter "${P}" is not supported.`),_}catch(S){if(S instanceof T.MissingDataException)throw S;return(0,n.warn)(`Invalid stream: "${S}"`),new e.NullStream}}}f.Parser=b;const N=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function U(B){return B>=48&&B<=57?B&15:B>=65&&B<=70||B>=97&&B<=102?(B&15)+9:-1}class D{constructor(_,P=null){this.stream=_,this.nextChar(),this.strBuf=[],this.knownCommands=P,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let _=this.currentChar,P=!1,X=0,m=1;if(_===45?(m=-1,_=this.nextChar(),_===45&&(_=this.nextChar())):_===43&&(_=this.nextChar()),_===10||_===13)do _=this.nextChar();while(_===10||_===13);if(_===46&&(X=10,_=this.nextChar()),_<48||_>57){const O=`Invalid number: ${String.fromCharCode(_)} (charCode ${_})`;if((0,T.isWhiteSpace)(_)||_===-1)return(0,n.info)(`Lexer.getNumber - "${O}".`),0;throw new n.FormatError(O)}let S=_-48,R=0,z=1;for(;(_=this.nextChar())>=0;)if(_>=48&&_<=57){const O=_-48;P?R=R*10+O:(X!==0&&(X*=10),S=S*10+O)}else if(_===46)if(X===0)X=1;else break;else if(_===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(_===69||_===101){if(_=this.peekChar(),_===43||_===45)z=_===45?-1:1,this.nextChar();else if(_<48||_>57)break;P=!0}else break;return X!==0&&(S/=X),P&&(S*=10**(z*R)),m*S}getString(){let _=1,P=!1;const X=this.strBuf;X.length=0;let m=this.nextChar();for(;;){let S=!1;switch(m|0){case-1:(0,n.warn)("Unterminated string"),P=!0;break;case 40:++_,X.push("(");break;case 41:--_===0?(this.nextChar(),P=!0):X.push(")");break;case 92:switch(m=this.nextChar(),m){case-1:(0,n.warn)("Unterminated string"),P=!0;break;case 110:X.push(`
`);break;case 114:X.push("\r");break;case 116:X.push("	");break;case 98:X.push("\b");break;case 102:X.push("\f");break;case 92:case 40:case 41:X.push(String.fromCharCode(m));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let R=m&15;m=this.nextChar(),S=!0,m>=48&&m<=55&&(R=(R<<3)+(m&15),m=this.nextChar(),m>=48&&m<=55&&(S=!1,R=(R<<3)+(m&15))),X.push(String.fromCharCode(R));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:X.push(String.fromCharCode(m));break}break;default:X.push(String.fromCharCode(m));break}if(P)break;S||(m=this.nextChar())}return X.join("")}getName(){let _,P;const X=this.strBuf;for(X.length=0;(_=this.nextChar())>=0&&!N[_];)if(_===35){if(_=this.nextChar(),N[_]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),X.push("#");break}const m=U(_);if(m!==-1){P=_,_=this.nextChar();const S=U(_);if(S===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(_)}) in hexadecimal number.`),X.push("#",String.fromCharCode(P)),N[_])break;X.push(String.fromCharCode(_));continue}X.push(String.fromCharCode(m<<4|S))}else X.push("#",String.fromCharCode(_))}else X.push(String.fromCharCode(_));return X.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${X.length}`),d.Name.get(X.join(""))}_hexStringWarn(_){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${_}`)}getHexString(){const _=this.strBuf;_.length=0;let P=this.currentChar,X=!0,m,S;for(this._hexStringNumWarn=0;;)if(P<0){(0,n.warn)("Unterminated hex string");break}else if(P===62){this.nextChar();break}else if(N[P]===1){P=this.nextChar();continue}else{if(X){if(m=U(P),m===-1){this._hexStringWarn(P),P=this.nextChar();continue}}else{if(S=U(P),S===-1){this._hexStringWarn(P),P=this.nextChar();continue}_.push(String.fromCharCode(m<<4|S))}X=!X,P=this.nextChar()}return _.join("")}getObj(){let _=!1,P=this.currentChar;for(;;){if(P<0)return d.EOF;if(_)(P===10||P===13)&&(_=!1);else if(P===37)_=!0;else if(N[P]!==1)break;P=this.nextChar()}switch(P|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),d.Cmd.get("[");case 93:return this.nextChar(),d.Cmd.get("]");case 60:return P=this.nextChar(),P===60?(this.nextChar(),d.Cmd.get("<<")):this.getHexString();case 62:return P=this.nextChar(),P===62?(this.nextChar(),d.Cmd.get(">>")):d.Cmd.get(">");case 123:return this.nextChar(),d.Cmd.get("{");case 125:return this.nextChar(),d.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${P}`)}let X=String.fromCharCode(P);if(P<32||P>127){const R=this.peekChar();if(R>=32&&R<=127)return this.nextChar(),d.Cmd.get(X)}const m=this.knownCommands;let S=(m==null?void 0:m[X])!==void 0;for(;(P=this.nextChar())>=0&&!N[P];){const R=X+String.fromCharCode(P);if(S&&m[R]===void 0)break;if(X.length===128)throw new n.FormatError(`Command token too long: ${X.length}`);X=R,S=(m==null?void 0:m[X])!==void 0}return X==="true"?!0:X==="false"?!1:X==="null"?null:(X==="BI"&&(this.beginInlineImagePos=this.stream.pos),d.Cmd.get(X))}skipToNextLine(){let _=this.currentChar;for(;_>=0;){if(_===13){_=this.nextChar(),_===10&&this.nextChar();break}else if(_===10){this.nextChar();break}_=this.nextChar()}}}f.Lexer=D;class I{static create(_){function P(M,a,o=!1){const r=M.get(a);if(Number.isInteger(r)&&(o?r>=0:r>0))return r;throw new Error(`The "${a}" parameter in the linearization dictionary is invalid.`)}function X(M){const a=M.get("H");let o;if(Array.isArray(a)&&((o=a.length)===2||o===4)){for(let r=0;r<o;r++){const s=a[r];if(!(Number.isInteger(s)&&s>0))throw new Error(`Hint (${r}) in the linearization dictionary is invalid.`)}return a}throw new Error("Hint array in the linearization dictionary is invalid.")}const m=new b({lexer:new D(_),xref:null}),S=m.getObj(),R=m.getObj(),z=m.getObj(),O=m.getObj();let E,k;if(Number.isInteger(S)&&Number.isInteger(R)&&(0,d.isCmd)(z,"obj")&&O instanceof d.Dict&&typeof(E=O.get("Linearized"))=="number"&&E>0){if((k=P(O,"L"))!==_.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:k,hints:X(O),objectNumberFirst:P(O,"O"),endFirst:P(O,"E"),numPages:P(O,"N"),mainXRefEntriesOffset:P(O,"T"),pageFirst:O.has("P")?P(O,"P",!0):0}}}f.Linearization=I},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Ascii85Stream=void 0;var n=$(18),d=$(3);class T extends n.DecodeStream{constructor(t,l){l&&(l*=.8),super(l),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const F=this.str;let g=F.getByte();for(;(0,d.isWhiteSpace)(g);)g=F.getByte();if(g===-1||g===126){this.eof=!0;return}const w=this.bufferLength;let u,h;if(g===122){for(u=this.ensureBuffer(w+4),h=0;h<4;++h)u[w+h]=0;this.bufferLength+=4}else{const i=this.input;for(i[0]=g,h=1;h<5;++h){for(g=F.getByte();(0,d.isWhiteSpace)(g);)g=F.getByte();if(i[h]=g,g===-1||g===126)break}if(u=this.ensureBuffer(w+h-1),this.bufferLength+=h-1,h<5){for(;h<5;++h)i[h]=117;this.eof=!0}let x=0;for(h=0;h<5;++h)x=x*85+(i[h]-33);for(h=3;h>=0;--h)u[w+h]=x&255,x>>=8}}}f.Ascii85Stream=T},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StreamsSequenceStream=f.DecodeStream=void 0;var n=$(5),d=$(8);const T=new Uint8Array(0);class e extends n.BaseStream{constructor(L){if(super(),this._rawMinBufferLength=L||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=T,this.minBufferLength=512,L)for(;this.minBufferLength<L;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(L){const F=this.buffer;if(L<=F.byteLength)return F;let g=this.minBufferLength;for(;g<L;)g*=2;const w=new Uint8Array(g);return w.set(F),this.buffer=w}getByte(){const L=this.pos;for(;this.bufferLength<=L;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(L){const F=this.pos;let g;if(L){for(this.ensureBuffer(F+L),g=F+L;!this.eof&&this.bufferLength<g;)this.readBlock();const w=this.bufferLength;g>w&&(g=w)}else{for(;!this.eof;)this.readBlock();g=this.bufferLength}return this.pos=g,this.buffer.subarray(F,g)}reset(){this.pos=0}makeSubStream(L,F,g=null){if(F===void 0)for(;!this.eof;)this.readBlock();else{const w=L+F;for(;this.bufferLength<=w&&!this.eof;)this.readBlock()}return new d.Stream(this.buffer,L,F,g)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}f.DecodeStream=e;class t extends e{constructor(L,F=null){let g=0;for(const w of L)g+=w instanceof e?w._rawMinBufferLength:w.length;super(g),this.streams=L,this._onError=F}readBlock(){var i;const L=this.streams;if(L.length===0){this.eof=!0;return}const F=L.shift();let g;try{g=F.getBytes()}catch(x){if(this._onError){this._onError(x,(i=F.dict)==null?void 0:i.objId);return}throw x}const w=this.bufferLength,u=w+g.length;this.ensureBuffer(u).set(g,w),this.bufferLength=u}getBaseStreams(){const L=[];for(const F of this.streams){const g=F.getBaseStreams();g&&L.push(...g)}return L.length>0?L:null}}f.StreamsSequenceStream=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.AsciiHexStream=void 0;var n=$(18);class d extends n.DecodeStream{constructor(e,t){t&&(t*=.5),super(t),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const t=this.str.getBytes(8e3);if(!t.length){this.eof=!0;return}const l=t.length+1>>1,L=this.ensureBuffer(this.bufferLength+l);let F=this.bufferLength,g=this.firstDigit;for(const w of t){let u;if(w>=48&&w<=57)u=w&15;else if(w>=65&&w<=70||w>=97&&w<=102)u=(w&15)+9;else if(w===62){this.eof=!0;break}else continue;g<0?g=u:(L[F++]=g<<4|u,g=-1)}g>=0&&this.eof&&(L[F++]=g<<4,g=-1),this.firstDigit=g,this.bufferLength=F}}f.AsciiHexStream=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CCITTFaxStream=void 0;var n=$(21),d=$(18),T=$(4);class e extends d.DecodeStream{constructor(l,L,F){super(L),this.str=l,this.dict=l.dict,F instanceof T.Dict||(F=T.Dict.empty);const g={next(){return l.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(g,{K:F.get("K"),EndOfLine:F.get("EndOfLine"),EncodedByteAlign:F.get("EncodedByteAlign"),Columns:F.get("Columns"),Rows:F.get("Rows"),EndOfBlock:F.get("EndOfBlock"),BlackIs1:F.get("BlackIs1")})}readBlock(){for(;!this.eof;){const l=this.ccittFaxDecoder.readNextChar();if(l===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=l}}}f.CCITTFaxStream=e},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CCITTFaxDecoder=void 0;var n=$(2);const d=-2,T=-1,e=0,t=1,l=2,L=3,F=4,g=5,w=6,u=7,h=8,i=[[-1,-1],[-1,-1],[7,h],[7,u],[6,w],[6,w],[6,g],[6,g],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[4,e],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,t],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,F],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[3,L],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l],[1,l]],x=[[-1,-1],[12,d],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],p=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],v=[[-1,-1],[-1,-1],[12,d],[12,d],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],b=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],N=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class U{constructor(I,B={}){if(!I||typeof I.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=I,this.eof=!1,this.encoding=B.K||0,this.eoline=B.EndOfLine||!1,this.byteAlign=B.EncodedByteAlign||!1,this.columns=B.Columns||1728,this.rows=B.Rows||0,this.eoblock=B.EndOfBlock??!0,this.black=B.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let _;for(;(_=this._lookBits(12))===0;)this._eatBits(1);_===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const I=this.refLine,B=this.codingLine,_=this.columns;let P,X,m,S;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let z,O,E;if(this.nextLine2D){for(S=0;B[S]<_;++S)I[S]=B[S];for(I[S++]=_,I[S]=_,B[0]=0,this.codingPos=0,P=0,X=0;B[this.codingPos]<_;)switch(z=this._getTwoDimCode(),z){case e:this._addPixels(I[P+1],X),I[P+1]<_&&(P+=2);break;case t:if(z=O=0,X){do z+=E=this._getBlackCode();while(E>=64);do O+=E=this._getWhiteCode();while(E>=64)}else{do z+=E=this._getWhiteCode();while(E>=64);do O+=E=this._getBlackCode();while(E>=64)}for(this._addPixels(B[this.codingPos]+z,X),B[this.codingPos]<_&&this._addPixels(B[this.codingPos]+O,X^1);I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case u:if(this._addPixels(I[P]+3,X),X^=1,B[this.codingPos]<_)for(++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case g:if(this._addPixels(I[P]+2,X),X^=1,B[this.codingPos]<_)for(++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case L:if(this._addPixels(I[P]+1,X),X^=1,B[this.codingPos]<_)for(++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case l:if(this._addPixels(I[P],X),X^=1,B[this.codingPos]<_)for(++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case h:if(this._addPixelsNeg(I[P]-3,X),X^=1,B[this.codingPos]<_)for(P>0?--P:++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case w:if(this._addPixelsNeg(I[P]-2,X),X^=1,B[this.codingPos]<_)for(P>0?--P:++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case F:if(this._addPixelsNeg(I[P]-1,X),X^=1,B[this.codingPos]<_)for(P>0?--P:++P;I[P]<=B[this.codingPos]&&I[P]<_;)P+=2;break;case T:this._addPixels(_,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(_,0),this.err=!0}}else for(B[0]=0,this.codingPos=0,X=0;B[this.codingPos]<_;){if(z=0,X)do z+=E=this._getBlackCode();while(E>=64);else do z+=E=this._getWhiteCode();while(E>=64);this._addPixels(B[this.codingPos]+z,X),X^=1}let k=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(z=this._lookBits(12),this.eoline)for(;z!==T&&z!==1;)this._eatBits(1),z=this._lookBits(12);else for(;z===0;)this._eatBits(1),z=this._lookBits(12);z===1?(this._eatBits(12),k=!0):z===T&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&k&&this.byteAlign){if(z=this._lookBits(12),z===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(S=0;S<4;++S)z=this._lookBits(12),z!==1&&(0,n.info)("bad rtc code: "+z),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(z=this._lookBits(13),z===T)return this.eof=!0,-1;if(z>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(z&1))}this.outputBits=B[0]>0?B[this.codingPos=0]:B[this.codingPos=1],this.row++}let R;if(this.outputBits>=8)R=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&B[this.codingPos]<_&&(this.codingPos++,this.outputBits=B[this.codingPos]-B[this.codingPos-1]);else{m=8,R=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>m?(R<<=m,this.codingPos&1||(R|=255>>8-m),this.outputBits-=m,m=0):(R<<=this.outputBits,this.codingPos&1||(R|=255>>8-this.outputBits),m-=this.outputBits,this.outputBits=0,B[this.codingPos]<_?(this.codingPos++,this.outputBits=B[this.codingPos]-B[this.codingPos-1]):m>0&&(R<<=m,m=0))}while(m)}return this.black&&(R^=255),R}_addPixels(I,B){const _=this.codingLine;let P=this.codingPos;I>_[P]&&(I>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,I=this.columns),P&1^B&&++P,_[P]=I),this.codingPos=P}_addPixelsNeg(I,B){const _=this.codingLine;let P=this.codingPos;if(I>_[P])I>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,I=this.columns),P&1^B&&++P,_[P]=I;else if(I<_[P]){for(I<0&&((0,n.info)("invalid code"),this.err=!0,I=0);P>0&&I<_[P-1];)--P;_[P]=I}this.codingPos=P}_findTableCode(I,B,_,P){const X=P||0;for(let m=I;m<=B;++m){let S=this._lookBits(m);if(S===T)return[!0,1,!1];if(m<B&&(S<<=B-m),!X||S>=X){const R=_[S-X];if(R[0]===m)return this._eatBits(m),[!0,R[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let I=0,B;if(this.eoblock){if(I=this._lookBits(7),B=i[I],(B==null?void 0:B[0])>0)return this._eatBits(B[0]),B[1]}else{const _=this._findTableCode(1,7,i);if(_[0]&&_[2])return _[1]}return(0,n.info)("Bad two dim code"),T}_getWhiteCode(){let I=0,B;if(this.eoblock){if(I=this._lookBits(12),I===T)return 1;if(B=I>>5?p[I>>3]:x[I],B[0]>0)return this._eatBits(B[0]),B[1]}else{let _=this._findTableCode(1,9,p);if(_[0]||(_=this._findTableCode(11,12,x),_[0]))return _[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let I,B;if(this.eoblock){if(I=this._lookBits(13),I===T)return 1;if(I>>7?!(I>>9)&&I>>7?B=b[(I>>1)-64]:B=N[I>>7]:B=v[I],B[0]>0)return this._eatBits(B[0]),B[1]}else{let _=this._findTableCode(2,6,N);if(_[0]||(_=this._findTableCode(7,12,b,64),_[0])||(_=this._findTableCode(10,13,v),_[0]))return _[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(I){let B;for(;this.inputBits<I;){if((B=this.source.next())===-1)return this.inputBits===0?T:this.inputBuf<<I-this.inputBits&65535>>16-I;this.inputBuf=this.inputBuf<<8|B,this.inputBits+=8}return this.inputBuf>>this.inputBits-I&65535>>16-I}_eatBits(I){(this.inputBits-=I)<0&&(this.inputBits=0)}}f.CCITTFaxDecoder=U},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FlateStream=void 0;var n=$(18),d=$(2);const T=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),t=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),l=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],L=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class F extends n.DecodeStream{constructor(w,u){super(u),this.str=w,this.dict=w.dict;const h=w.getByte(),i=w.getByte();if(h===-1||i===-1)throw new d.FormatError(`Invalid header in flate stream: ${h}, ${i}`);if((h&15)!==8)throw new d.FormatError(`Unknown compression method in flate stream: ${h}, ${i}`);if(((h<<8)+i)%31!==0)throw new d.FormatError(`Bad FCHECK in flate stream: ${h}, ${i}`);if(i&32)throw new d.FormatError(`FDICT bit set in flate stream: ${h}, ${i}`);this.codeSize=0,this.codeBuf=0}getBits(w){const u=this.str;let h=this.codeSize,i=this.codeBuf,x;for(;h<w;){if((x=u.getByte())===-1)throw new d.FormatError("Bad encoding in flate stream");i|=x<<h,h+=8}return x=i&(1<<w)-1,this.codeBuf=i>>w,this.codeSize=h-=w,x}getCode(w){const u=this.str,h=w[0],i=w[1];let x=this.codeSize,p=this.codeBuf,v;for(;x<i&&(v=u.getByte())!==-1;)p|=v<<x,x+=8;const b=h[p&(1<<i)-1],N=b>>16,U=b&65535;if(N<1||x<N)throw new d.FormatError("Bad encoding in flate stream");return this.codeBuf=p>>N,this.codeSize=x-N,U}generateHuffmanTable(w){const u=w.length;let h=0,i;for(i=0;i<u;++i)w[i]>h&&(h=w[i]);const x=1<<h,p=new Int32Array(x);for(let v=1,b=0,N=2;v<=h;++v,b<<=1,N<<=1)for(let U=0;U<u;++U)if(w[U]===v){let D=0,I=b;for(i=0;i<v;++i)D=D<<1|I&1,I>>=1;for(i=D;i<x;i+=N)p[i]=v<<16|U;++b}return[p,h]}readBlock(){let w,u;const h=this.str;let i=this.getBits(3);if(i&1&&(this.eof=!0),i>>=1,i===0){let N;if((N=h.getByte())===-1)throw new d.FormatError("Bad block header in flate stream");let U=N;if((N=h.getByte())===-1)throw new d.FormatError("Bad block header in flate stream");if(U|=N<<8,(N=h.getByte())===-1)throw new d.FormatError("Bad block header in flate stream");let D=N;if((N=h.getByte())===-1)throw new d.FormatError("Bad block header in flate stream");if(D|=N<<8,D!==(~U&65535)&&(U!==0||D!==0))throw new d.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const I=this.bufferLength,B=I+U;if(w=this.ensureBuffer(B),this.bufferLength=B,U===0)h.peekByte()===-1&&(this.eof=!0);else{const _=h.getBytes(U);w.set(_,I),_.length<U&&(this.eof=!0)}return}let x,p;if(i===1)x=l,p=L;else if(i===2){const N=this.getBits(5)+257,U=this.getBits(5)+1,D=this.getBits(4)+4,I=new Uint8Array(T.length);let B;for(B=0;B<D;++B)I[T[B]]=this.getBits(3);const _=this.generateHuffmanTable(I);u=0,B=0;const P=N+U,X=new Uint8Array(P);let m,S,R;for(;B<P;){const z=this.getCode(_);if(z===16)m=2,S=3,R=u;else if(z===17)m=3,S=3,R=u=0;else if(z===18)m=7,S=11,R=u=0;else{X[B++]=u=z;continue}let O=this.getBits(m)+S;for(;O-- >0;)X[B++]=R}x=this.generateHuffmanTable(X.subarray(0,N)),p=this.generateHuffmanTable(X.subarray(N,P))}else throw new d.FormatError("Unknown block type in flate stream");w=this.buffer;let v=w?w.length:0,b=this.bufferLength;for(;;){let N=this.getCode(x);if(N<256){b+1>=v&&(w=this.ensureBuffer(b+1),v=w.length),w[b++]=N;continue}if(N===256){this.bufferLength=b;return}N-=257,N=e[N];let U=N>>16;U>0&&(U=this.getBits(U)),u=(N&65535)+U,N=this.getCode(p),N=t[N],U=N>>16,U>0&&(U=this.getBits(U));const D=(N&65535)+U;b+u>=v&&(w=this.ensureBuffer(b+u),v=w.length);for(let I=0;I<u;++I,++b)w[b]=w[b-D]}}}f.FlateStream=F},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Jbig2Stream=void 0;var n=$(5),d=$(18),T=$(4),e=$(24),t=$(2);class l extends d.DecodeStream{constructor(F,g,w){super(g),this.stream=F,this.dict=F.dict,this.maybeLength=g,this.params=w}get bytes(){return(0,t.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(F){}readBlock(){if(this.eof)return;const F=new e.Jbig2Image,g=[];if(this.params instanceof T.Dict){const h=this.params.get("JBIG2Globals");if(h instanceof n.BaseStream){const i=h.getBytes();g.push({data:i,start:0,end:i.length})}}g.push({data:this.bytes,start:0,end:this.bytes.length});const w=F.parseChunks(g),u=w.length;for(let h=0;h<u;h++)w[h]^=255;this.buffer=w,this.bufferLength=u,this.eof=!0}}f.Jbig2Stream=l},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Jbig2Image=void 0;var n=$(2),d=$(3),T=$(25),e=$(21);class t extends n.BaseException{constructor(ue){super(`JBIG2 error: ${ue}`,"Jbig2Error")}}class l{getContexts(ue){return ue in this?this[ue]:this[ue]=new Int8Array(65536)}}class L{constructor(ue,W,Z){this.data=ue,this.start=W,this.end=Z}get decoder(){const ue=new T.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",ue)}get contextCache(){const ue=new l;return(0,n.shadow)(this,"contextCache",ue)}}const F=2**31-1,g=-(2**31);function w(ee,ue,W){const Z=ee.getContexts(ue);let se=1;function ne(G){let le=0;for(let ce=0;ce<G;ce++){const te=W.readBit(Z,se);se=se<256?se<<1|te:(se<<1|te)&511|256,le=le<<1|te}return le>>>0}const ie=ne(1),H=ne(1)?ne(1)?ne(1)?ne(1)?ne(1)?ne(32)+4436:ne(12)+340:ne(8)+84:ne(6)+20:ne(4)+4:ne(2);let Y;return ie===0?Y=H:H>0&&(Y=-H),Y>=g&&Y<=F?Y:null}function u(ee,ue,W){const Z=ee.getContexts("IAID");let se=1;for(let ne=0;ne<W;ne++){const ie=ue.readBit(Z,se);se=se<<1|ie}return W<31?se&(1<<W)-1:se&2147483647}const h=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],i=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],x=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],p=[39717,1941,229,405],v=[32,8];function b(ee,ue,W){const Z=W.decoder,se=W.contextCache.getContexts("GB"),ne=[];let ie,H,Y,G,le,ce,te;const ge=31735;for(H=0;H<ue;H++)for(le=ne[H]=new Uint8Array(ee),ce=H<1?le:ne[H-1],te=H<2?le:ne[H-2],ie=te[0]<<13|te[1]<<12|te[2]<<11|ce[0]<<7|ce[1]<<6|ce[2]<<5|ce[3]<<4,Y=0;Y<ee;Y++)le[Y]=G=Z.readBit(se,ie),ie=(ie&ge)<<1|(Y+3<ee?te[Y+3]<<11:0)|(Y+4<ee?ce[Y+4]<<4:0)|G;return ne}function N(ee,ue,W,Z,se,ne,ie,H){if(ee){const $e=new A(H.data,H.start,H.end);return Q($e,ue,W,!1)}if(Z===0&&!ne&&!se&&ie.length===4&&ie[0].x===3&&ie[0].y===-1&&ie[1].x===-3&&ie[1].y===-1&&ie[2].x===2&&ie[2].y===-2&&ie[3].x===-2&&ie[3].y===-2)return b(ue,W,H);const Y=!!ne,G=i[Z].concat(ie);G.sort(function($e,Ue){return $e.y-Ue.y||$e.x-Ue.x});const le=G.length,ce=new Int8Array(le),te=new Int8Array(le),ge=[];let K=0,Se=0,Oe=0,Me=0,_e,ke;for(ke=0;ke<le;ke++)ce[ke]=G[ke].x,te[ke]=G[ke].y,Se=Math.min(Se,G[ke].x),Oe=Math.max(Oe,G[ke].x),Me=Math.min(Me,G[ke].y),ke<le-1&&G[ke].y===G[ke+1].y&&G[ke].x===G[ke+1].x-1?K|=1<<le-1-ke:ge.push(ke);const oe=ge.length,Ie=new Int8Array(oe),Be=new Int8Array(oe),he=new Uint16Array(oe);for(_e=0;_e<oe;_e++)ke=ge[_e],Ie[_e]=G[ke].x,Be[_e]=G[ke].y,he[_e]=1<<le-1-ke;const De=-Se,ye=-Me,me=ue-Oe,Pe=p[Z];let Re=new Uint8Array(ue);const He=[],Xe=H.decoder,Fe=H.contextCache.getContexts("GB");let ae=0,Ae,Le,Ee,xe=0,Te,Ne;for(let $e=0;$e<W;$e++){if(se){const Ue=Xe.readBit(Fe,Pe);if(ae^=Ue,ae){He.push(Re);continue}}for(Re=new Uint8Array(Re),He.push(Re),Ae=0;Ae<ue;Ae++){if(Y&&ne[$e][Ae]){Re[Ae]=0;continue}if(Ae>=De&&Ae<me&&$e>=ye)for(xe=xe<<1&K,ke=0;ke<oe;ke++)Le=$e+Be[ke],Ee=Ae+Ie[ke],Te=He[Le][Ee],Te&&(Te=he[ke],xe|=Te);else for(xe=0,Ne=le-1,ke=0;ke<le;ke++,Ne--)Ee=Ae+ce[ke],Ee>=0&&Ee<ue&&(Le=$e+te[ke],Le>=0&&(Te=He[Le][Ee],Te&&(xe|=Te<<Ne)));const Ue=Xe.readBit(Fe,xe);Re[Ae]=Ue}}return He}function U(ee,ue,W,Z,se,ne,ie,H,Y){let G=x[W].coding;W===0&&(G=G.concat([H[0]]));const le=G.length,ce=new Int32Array(le),te=new Int32Array(le);let ge;for(ge=0;ge<le;ge++)ce[ge]=G[ge].x,te[ge]=G[ge].y;let K=x[W].reference;W===0&&(K=K.concat([H[1]]));const Se=K.length,Oe=new Int32Array(Se),Me=new Int32Array(Se);for(ge=0;ge<Se;ge++)Oe[ge]=K[ge].x,Me[ge]=K[ge].y;const _e=Z[0].length,ke=Z.length,oe=v[W],Ie=[],Be=Y.decoder,he=Y.contextCache.getContexts("GR");let De=0;for(let ye=0;ye<ue;ye++){if(ie){const Pe=Be.readBit(he,oe);if(De^=Pe,De)throw new t("prediction is not supported")}const me=new Uint8Array(ee);Ie.push(me);for(let Pe=0;Pe<ee;Pe++){let Re,He,Xe=0;for(ge=0;ge<le;ge++)Re=ye+te[ge],He=Pe+ce[ge],Re<0||He<0||He>=ee?Xe<<=1:Xe=Xe<<1|Ie[Re][He];for(ge=0;ge<Se;ge++)Re=ye+Me[ge]-ne,He=Pe+Oe[ge]-se,Re<0||Re>=ke||He<0||He>=_e?Xe<<=1:Xe=Xe<<1|Z[Re][He];const Fe=Be.readBit(he,Xe);me[Pe]=Fe}}return Ie}function D(ee,ue,W,Z,se,ne,ie,H,Y,G,le,ce){if(ee&&ue)throw new t("symbol refinement with Huffman is not supported");const te=[];let ge=0,K=(0,d.log2)(W.length+Z);const Se=le.decoder,Oe=le.contextCache;let Me,_e;for(ee&&(Me=s(1),_e=[],K=Math.max(K,1));te.length<Z;){const ye=ee?ne.tableDeltaHeight.decode(ce):w(Oe,"IADH",Se);ge+=ye;let me=0,Pe=0;const Re=ee?_e.length:0;for(;;){const He=ee?ne.tableDeltaWidth.decode(ce):w(Oe,"IADW",Se);if(He===null)break;me+=He,Pe+=me;let Xe;if(ue){const Fe=w(Oe,"IAAI",Se);if(Fe>1)Xe=I(ee,ue,me,ge,0,Fe,1,W.concat(te),K,0,0,1,0,ne,Y,G,le,0,ce);else{const ae=u(Oe,Se,K),Ae=w(Oe,"IARDX",Se),Le=w(Oe,"IARDY",Se),Ee=ae<W.length?W[ae]:te[ae-W.length];Xe=U(me,ge,Y,Ee,Ae,Le,!1,G,le)}te.push(Xe)}else ee?_e.push(me):(Xe=N(!1,me,ge,ie,!1,null,H,le),te.push(Xe))}if(ee&&!ue){const He=ne.tableBitmapSize.decode(ce);ce.byteAlign();let Xe;if(He===0)Xe=re(ce,Pe,ge);else{const ae=ce.end,Ae=ce.position+He;ce.end=Ae,Xe=Q(ce,Pe,ge,!1),ce.end=ae,ce.position=Ae}const Fe=_e.length;if(Re===Fe-1)te.push(Xe);else{let ae,Ae,Le=0,Ee,xe,Te;for(ae=Re;ae<Fe;ae++){for(xe=_e[ae],Ee=Le+xe,Te=[],Ae=0;Ae<ge;Ae++)Te.push(Xe[Ae].subarray(Le,Ee));te.push(Te),Le=Ee}}}}const ke=[],oe=[];let Ie=!1,Be,he;const De=W.length+Z;for(;oe.length<De;){let ye=ee?Me.decode(ce):w(Oe,"IAEX",Se);for(;ye--;)oe.push(Ie);Ie=!Ie}for(Be=0,he=W.length;Be<he;Be++)oe[Be]&&ke.push(W[Be]);for(let ye=0;ye<Z;Be++,ye++)oe[Be]&&ke.push(te[ye]);return ke}function I(ee,ue,W,Z,se,ne,ie,H,Y,G,le,ce,te,ge,K,Se,Oe,Me,_e){if(ee&&ue)throw new t("refinement with Huffman is not supported");const ke=[];let oe,Ie;for(oe=0;oe<Z;oe++){if(Ie=new Uint8Array(W),se)for(let me=0;me<W;me++)Ie[me]=se;ke.push(Ie)}const Be=Oe.decoder,he=Oe.contextCache;let De=ee?-ge.tableDeltaT.decode(_e):-w(he,"IADT",Be),ye=0;for(oe=0;oe<ne;){const me=ee?ge.tableDeltaT.decode(_e):w(he,"IADT",Be);De+=me;const Pe=ee?ge.tableFirstS.decode(_e):w(he,"IAFS",Be);ye+=Pe;let Re=ye;do{let He=0;ie>1&&(He=ee?_e.readBits(Me):w(he,"IAIT",Be));const Xe=ie*De+He,Fe=ee?ge.symbolIDTable.decode(_e):u(he,Be,Y),ae=ue&&(ee?_e.readBit():w(he,"IARI",Be));let Ae=H[Fe],Le=Ae[0].length,Ee=Ae.length;if(ae){const Ge=w(he,"IARDW",Be),Ve=w(he,"IARDH",Be),Ke=w(he,"IARDX",Be),et=w(he,"IARDY",Be);Le+=Ge,Ee+=Ve,Ae=U(Le,Ee,K,Ae,(Ge>>1)+Ke,(Ve>>1)+et,!1,Se,Oe)}const xe=Xe-(ce&1?0:Ee-1),Te=Re-(ce&2?Le-1:0);let Ne,$e,Ue;if(G){for(Ne=0;Ne<Ee;Ne++){if(Ie=ke[Te+Ne],!Ie)continue;Ue=Ae[Ne];const Ge=Math.min(W-xe,Le);switch(te){case 0:for($e=0;$e<Ge;$e++)Ie[xe+$e]|=Ue[$e];break;case 2:for($e=0;$e<Ge;$e++)Ie[xe+$e]^=Ue[$e];break;default:throw new t(`operator ${te} is not supported`)}}Re+=Ee-1}else{for($e=0;$e<Ee;$e++)if(Ie=ke[xe+$e],!!Ie)switch(Ue=Ae[$e],te){case 0:for(Ne=0;Ne<Le;Ne++)Ie[Te+Ne]|=Ue[Ne];break;case 2:for(Ne=0;Ne<Le;Ne++)Ie[Te+Ne]^=Ue[Ne];break;default:throw new t(`operator ${te} is not supported`)}Re+=Le-1}oe++;const ze=ee?ge.tableDeltaS.decode(_e):w(he,"IADS",Be);if(ze===null)break;Re+=ze+le}while(!0)}return ke}function B(ee,ue,W,Z,se,ne){const ie=[];ee||(ie.push({x:-ue,y:0}),se===0&&ie.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const H=(Z+1)*ue,Y=N(ee,H,W,se,!1,null,ie,ne),G=[];for(let le=0;le<=Z;le++){const ce=[],te=ue*le,ge=te+ue;for(let K=0;K<W;K++)ce.push(Y[K].subarray(te,ge));G.push(ce)}return G}function _(ee,ue,W,Z,se,ne,ie,H,Y,G,le,ce,te,ge,K){if(ie)throw new t("skip is not supported");if(H!==0)throw new t(`operator "${H}" is not supported in halftone region`);const Oe=[];let Me,_e,ke;for(Me=0;Me<se;Me++){if(ke=new Uint8Array(Z),ne)for(_e=0;_e<Z;_e++)ke[_e]=ne;Oe.push(ke)}const oe=ue.length,Ie=ue[0],Be=Ie[0].length,he=Ie.length,De=(0,d.log2)(oe),ye=[];ee||(ye.push({x:W<=1?3:2,y:-1}),W===0&&ye.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const me=[];let Pe,Re;for(ee&&(Pe=new A(K.data,K.start,K.end)),Me=De-1;Me>=0;Me--)ee?Re=Q(Pe,Y,G,!0):Re=N(!1,Y,G,W,!1,null,ye,K),me[Me]=Re;let He,Xe,Fe,ae,Ae,Le,Ee,xe,Te;for(He=0;He<G;He++)for(Xe=0;Xe<Y;Xe++){for(Fe=0,ae=0,_e=De-1;_e>=0;_e--)Fe^=me[_e][He][Xe],ae|=Fe<<_e;if(Ae=ue[ae],Le=le+He*ge+Xe*te>>8,Ee=ce+He*te-Xe*ge>>8,Le>=0&&Le+Be<=Z&&Ee>=0&&Ee+he<=se)for(Me=0;Me<he;Me++)for(Te=Oe[Ee+Me],xe=Ae[Me],_e=0;_e<Be;_e++)Te[Le+_e]|=xe[_e];else{let Ne,$e;for(Me=0;Me<he;Me++)if($e=Ee+Me,!($e<0||$e>=se))for(Te=Oe[$e],xe=Ae[Me],_e=0;_e<Be;_e++)Ne=Le+_e,Ne>=0&&Ne<Z&&(Te[Ne]|=xe[_e])}}return Oe}function P(ee,ue){const W={};W.number=(0,d.readUint32)(ee,ue);const Z=ee[ue+4],se=Z&63;if(!h[se])throw new t("invalid segment type: "+se);W.type=se,W.typeName=h[se],W.deferredNonRetain=!!(Z&128);const ne=!!(Z&64),ie=ee[ue+5];let H=ie>>5&7;const Y=[ie&31];let G=ue+6;if(ie===7){H=(0,d.readUint32)(ee,G-1)&536870911,G+=3;let K=H+7>>3;for(Y[0]=ee[G++];--K>0;)Y.push(ee[G++])}else if(ie===5||ie===6)throw new t("invalid referred-to flags");W.retainBits=Y;let le=4;W.number<=256?le=1:W.number<=65536&&(le=2);const ce=[];let te,ge;for(te=0;te<H;te++){let K;le===1?K=ee[G]:le===2?K=(0,d.readUint16)(ee,G):K=(0,d.readUint32)(ee,G),ce.push(K),G+=le}if(W.referredTo=ce,ne?(W.pageAssociation=(0,d.readUint32)(ee,G),G+=4):W.pageAssociation=ee[G++],W.length=(0,d.readUint32)(ee,G),G+=4,W.length===4294967295)if(se===38){const K=m(ee,G),Oe=!!(ee[G+S]&1),Me=6,_e=new Uint8Array(Me);for(Oe||(_e[0]=255,_e[1]=172),_e[2]=K.height>>>24&255,_e[3]=K.height>>16&255,_e[4]=K.height>>8&255,_e[5]=K.height&255,te=G,ge=ee.length;te<ge;te++){let ke=0;for(;ke<Me&&_e[ke]===ee[te+ke];)ke++;if(ke===Me){W.length=te+Me;break}}if(W.length===4294967295)throw new t("segment end was not found")}else throw new t("invalid unknown segment length");return W.headerEnd=G,W}function X(ee,ue,W,Z){const se=[];let ne=W;for(;ne<Z;){const ie=P(ue,ne);ne=ie.headerEnd;const H={header:ie,data:ue};if(ee.randomAccess||(H.start=ne,ne+=ie.length,H.end=ne),se.push(H),ie.type===51)break}if(ee.randomAccess)for(let ie=0,H=se.length;ie<H;ie++)se[ie].start=ne,ne+=se[ie].header.length,se[ie].end=ne;return se}function m(ee,ue){return{width:(0,d.readUint32)(ee,ue),height:(0,d.readUint32)(ee,ue+4),x:(0,d.readUint32)(ee,ue+8),y:(0,d.readUint32)(ee,ue+12),combinationOperator:ee[ue+16]&7}}const S=17;function R(ee,ue){const W=ee.header,Z=ee.data,se=ee.end;let ne=ee.start,ie,H,Y,G;switch(W.type){case 0:const ce={},te=(0,d.readUint16)(Z,ne);if(ce.huffman=!!(te&1),ce.refinement=!!(te&2),ce.huffmanDHSelector=te>>2&3,ce.huffmanDWSelector=te>>4&3,ce.bitmapSizeSelector=te>>6&1,ce.aggregationInstancesSelector=te>>7&1,ce.bitmapCodingContextUsed=!!(te&256),ce.bitmapCodingContextRetained=!!(te&512),ce.template=te>>10&3,ce.refinementTemplate=te>>12&1,ne+=2,!ce.huffman){for(G=ce.template===0?4:1,H=[],Y=0;Y<G;Y++)H.push({x:(0,d.readInt8)(Z,ne),y:(0,d.readInt8)(Z,ne+1)}),ne+=2;ce.at=H}if(ce.refinement&&!ce.refinementTemplate){for(H=[],Y=0;Y<2;Y++)H.push({x:(0,d.readInt8)(Z,ne),y:(0,d.readInt8)(Z,ne+1)}),ne+=2;ce.refinementAt=H}ce.numberOfExportedSymbols=(0,d.readUint32)(Z,ne),ne+=4,ce.numberOfNewSymbols=(0,d.readUint32)(Z,ne),ne+=4,ie=[ce,W.number,W.referredTo,Z,ne,se];break;case 6:case 7:const ge={};ge.info=m(Z,ne),ne+=S;const K=(0,d.readUint16)(Z,ne);if(ne+=2,ge.huffman=!!(K&1),ge.refinement=!!(K&2),ge.logStripSize=K>>2&3,ge.stripSize=1<<ge.logStripSize,ge.referenceCorner=K>>4&3,ge.transposed=!!(K&64),ge.combinationOperator=K>>7&3,ge.defaultPixelValue=K>>9&1,ge.dsOffset=K<<17>>27,ge.refinementTemplate=K>>15&1,ge.huffman){const he=(0,d.readUint16)(Z,ne);ne+=2,ge.huffmanFS=he&3,ge.huffmanDS=he>>2&3,ge.huffmanDT=he>>4&3,ge.huffmanRefinementDW=he>>6&3,ge.huffmanRefinementDH=he>>8&3,ge.huffmanRefinementDX=he>>10&3,ge.huffmanRefinementDY=he>>12&3,ge.huffmanRefinementSizeSelector=!!(he&16384)}if(ge.refinement&&!ge.refinementTemplate){for(H=[],Y=0;Y<2;Y++)H.push({x:(0,d.readInt8)(Z,ne),y:(0,d.readInt8)(Z,ne+1)}),ne+=2;ge.refinementAt=H}ge.numberOfSymbolInstances=(0,d.readUint32)(Z,ne),ne+=4,ie=[ge,W.referredTo,Z,ne,se];break;case 16:const Se={},Oe=Z[ne++];Se.mmr=!!(Oe&1),Se.template=Oe>>1&3,Se.patternWidth=Z[ne++],Se.patternHeight=Z[ne++],Se.maxPatternIndex=(0,d.readUint32)(Z,ne),ne+=4,ie=[Se,W.number,Z,ne,se];break;case 22:case 23:const Me={};Me.info=m(Z,ne),ne+=S;const _e=Z[ne++];Me.mmr=!!(_e&1),Me.template=_e>>1&3,Me.enableSkip=!!(_e&8),Me.combinationOperator=_e>>4&7,Me.defaultPixelValue=_e>>7&1,Me.gridWidth=(0,d.readUint32)(Z,ne),ne+=4,Me.gridHeight=(0,d.readUint32)(Z,ne),ne+=4,Me.gridOffsetX=(0,d.readUint32)(Z,ne)&4294967295,ne+=4,Me.gridOffsetY=(0,d.readUint32)(Z,ne)&4294967295,ne+=4,Me.gridVectorX=(0,d.readUint16)(Z,ne),ne+=2,Me.gridVectorY=(0,d.readUint16)(Z,ne),ne+=2,ie=[Me,W.referredTo,Z,ne,se];break;case 38:case 39:const ke={};ke.info=m(Z,ne),ne+=S;const oe=Z[ne++];if(ke.mmr=!!(oe&1),ke.template=oe>>1&3,ke.prediction=!!(oe&8),!ke.mmr){for(G=ke.template===0?4:1,H=[],Y=0;Y<G;Y++)H.push({x:(0,d.readInt8)(Z,ne),y:(0,d.readInt8)(Z,ne+1)}),ne+=2;ke.at=H}ie=[ke,Z,ne,se];break;case 48:const Ie={width:(0,d.readUint32)(Z,ne),height:(0,d.readUint32)(Z,ne+4),resolutionX:(0,d.readUint32)(Z,ne+8),resolutionY:(0,d.readUint32)(Z,ne+12)};Ie.height===4294967295&&delete Ie.height;const Be=Z[ne+16];(0,d.readUint16)(Z,ne+17),Ie.lossless=!!(Be&1),Ie.refinement=!!(Be&2),Ie.defaultPixelValue=Be>>2&1,Ie.combinationOperator=Be>>3&3,Ie.requiresBuffer=!!(Be&32),Ie.combinationOperatorOverride=!!(Be&64),ie=[Ie];break;case 49:break;case 50:break;case 51:break;case 53:ie=[W.number,Z,ne,se];break;case 62:break;default:throw new t(`segment type ${W.typeName}(${W.type}) is not implemented`)}const le="on"+W.typeName;le in ue&&ue[le].apply(ue,ie)}function z(ee,ue){for(let W=0,Z=ee.length;W<Z;W++)R(ee[W],ue)}function O(ee){const ue=new E;for(let W=0,Z=ee.length;W<Z;W++){const se=ee[W],ne=X({},se.data,se.start,se.end);z(ne,ue)}return ue.buffer}class E{onPageInformation(ue){this.currentPageInfo=ue;const W=ue.width+7>>3,Z=new Uint8ClampedArray(W*ue.height);ue.defaultPixelValue&&Z.fill(255),this.buffer=Z}drawBitmap(ue,W){const Z=this.currentPageInfo,se=ue.width,ne=ue.height,ie=Z.width+7>>3,H=Z.combinationOperatorOverride?ue.combinationOperator:Z.combinationOperator,Y=this.buffer,G=128>>(ue.x&7);let le=ue.y*ie+(ue.x>>3),ce,te,ge,K;switch(H){case 0:for(ce=0;ce<ne;ce++){for(ge=G,K=le,te=0;te<se;te++)W[ce][te]&&(Y[K]|=ge),ge>>=1,ge||(ge=128,K++);le+=ie}break;case 2:for(ce=0;ce<ne;ce++){for(ge=G,K=le,te=0;te<se;te++)W[ce][te]&&(Y[K]^=ge),ge>>=1,ge||(ge=128,K++);le+=ie}break;default:throw new t(`operator ${H} is not supported`)}}onImmediateGenericRegion(ue,W,Z,se){const ne=ue.info,ie=new L(W,Z,se),H=N(ue.mmr,ne.width,ne.height,ue.template,ue.prediction,null,ue.at,ie);this.drawBitmap(ne,H)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(ue,W,Z,se,ne,ie){let H,Y;ue.huffman&&(H=q(ue,Z,this.customTables),Y=new A(se,ne,ie));let G=this.symbols;G||(this.symbols=G={});const le=[];for(const te of Z){const ge=G[te];ge&&le.push(...ge)}const ce=new L(se,ne,ie);G[W]=D(ue.huffman,ue.refinement,le,ue.numberOfNewSymbols,ue.numberOfExportedSymbols,H,ue.template,ue.at,ue.refinementTemplate,ue.refinementAt,ce,Y)}onImmediateTextRegion(ue,W,Z,se,ne){const ie=ue.info;let H,Y;const G=this.symbols,le=[];for(const K of W){const Se=G[K];Se&&le.push(...Se)}const ce=(0,d.log2)(le.length);ue.huffman&&(Y=new A(Z,se,ne),H=y(ue,W,this.customTables,le.length,Y));const te=new L(Z,se,ne),ge=I(ue.huffman,ue.refinement,ie.width,ie.height,ue.defaultPixelValue,ue.numberOfSymbolInstances,ue.stripSize,le,ce,ue.transposed,ue.dsOffset,ue.referenceCorner,ue.combinationOperator,H,ue.refinementTemplate,ue.refinementAt,te,ue.logStripSize,Y);this.drawBitmap(ie,ge)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(ue,W,Z,se,ne){let ie=this.patterns;ie||(this.patterns=ie={});const H=new L(Z,se,ne);ie[W]=B(ue.mmr,ue.patternWidth,ue.patternHeight,ue.maxPatternIndex,ue.template,H)}onImmediateHalftoneRegion(ue,W,Z,se,ne){const ie=this.patterns[W[0]],H=ue.info,Y=new L(Z,se,ne),G=_(ue.mmr,ie,ue.template,H.width,H.height,ue.defaultPixelValue,ue.enableSkip,ue.combinationOperator,ue.gridWidth,ue.gridHeight,ue.gridOffsetX,ue.gridOffsetY,ue.gridVectorX,ue.gridVectorY,Y);this.drawBitmap(H,G)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(ue,W,Z,se){let ne=this.customTables;ne||(this.customTables=ne={}),ne[ue]=o(W,Z,se)}}class k{constructor(ue){ue.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=ue[0],this.rangeLength=0,this.prefixCode=ue[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=ue[0],this.prefixLength=ue[1],this.rangeLength=ue[2],this.prefixCode=ue[3],this.isLowerRange=ue[4]==="lower")}}class M{constructor(ue){this.children=[],ue?(this.isLeaf=!0,this.rangeLength=ue.rangeLength,this.rangeLow=ue.rangeLow,this.isLowerRange=ue.isLowerRange,this.isOOB=ue.isOOB):this.isLeaf=!1}buildTree(ue,W){const Z=ue.prefixCode>>W&1;if(W<=0)this.children[Z]=new M(ue);else{let se=this.children[Z];se||(this.children[Z]=se=new M(null)),se.buildTree(ue,W-1)}}decodeNode(ue){if(this.isLeaf){if(this.isOOB)return null;const Z=ue.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-Z:Z)}const W=this.children[ue.readBit()];if(!W)throw new t("invalid Huffman data");return W.decodeNode(ue)}}class a{constructor(ue,W){W||this.assignPrefixCodes(ue),this.rootNode=new M(null);for(let Z=0,se=ue.length;Z<se;Z++){const ne=ue[Z];ne.prefixLength>0&&this.rootNode.buildTree(ne,ne.prefixLength-1)}}decode(ue){return this.rootNode.decodeNode(ue)}assignPrefixCodes(ue){const W=ue.length;let Z=0;for(let le=0;le<W;le++)Z=Math.max(Z,ue[le].prefixLength);const se=new Uint32Array(Z+1);for(let le=0;le<W;le++)se[ue[le].prefixLength]++;let ne=1,ie=0,H,Y,G;for(se[0]=0;ne<=Z;){for(ie=ie+se[ne-1]<<1,H=ie,Y=0;Y<W;)G=ue[Y],G.prefixLength===ne&&(G.prefixCode=H,H++),Y++;ne++}}}function o(ee,ue,W){const Z=ee[ue],se=(0,d.readUint32)(ee,ue+1)&4294967295,ne=(0,d.readUint32)(ee,ue+5)&4294967295,ie=new A(ee,ue+9,W),H=(Z>>1&7)+1,Y=(Z>>4&7)+1,G=[];let le,ce,te=se;do le=ie.readBits(H),ce=ie.readBits(Y),G.push(new k([te,le,ce,0])),te+=1<<ce;while(te<ne);return le=ie.readBits(H),G.push(new k([se-1,le,32,0,"lower"])),le=ie.readBits(H),G.push(new k([ne,le,32,0])),Z&1&&(le=ie.readBits(H),G.push(new k([le,0]))),new a(G,!1)}const r={};function s(ee){let ue=r[ee];if(ue)return ue;let W;switch(ee){case 1:W=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:W=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:W=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:W=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:W=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:W=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:W=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:W=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:W=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:W=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:W=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:W=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:W=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:W=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:W=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new t(`standard table B.${ee} does not exist`)}for(let Z=0,se=W.length;Z<se;Z++)W[Z]=new k(W[Z]);return ue=new a(W,!0),r[ee]=ue,ue}class A{constructor(ue,W,Z){this.data=ue,this.start=W,this.end=Z,this.position=W,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new t("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const ue=this.currentByte>>this.shift&1;return this.shift--,ue}readBits(ue){let W=0,Z;for(Z=ue-1;Z>=0;Z--)W|=this.readBit()<<Z;return W}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function c(ee,ue,W){let Z=0;for(let se=0,ne=ue.length;se<ne;se++){const ie=W[ue[se]];if(ie){if(ee===Z)return ie;Z++}}throw new t("can't find custom Huffman table")}function y(ee,ue,W,Z,se){const ne=[];for(let te=0;te<=34;te++){const ge=se.readBits(4);ne.push(new k([te,ge,0,0]))}const ie=new a(ne,!1);ne.length=0;for(let te=0;te<Z;){const ge=ie.decode(se);if(ge>=32){let K,Se,Oe;switch(ge){case 32:if(te===0)throw new t("no previous value in symbol ID table");Se=se.readBits(2)+3,K=ne[te-1].prefixLength;break;case 33:Se=se.readBits(3)+3,K=0;break;case 34:Se=se.readBits(7)+11,K=0;break;default:throw new t("invalid code length in symbol ID table")}for(Oe=0;Oe<Se;Oe++)ne.push(new k([te,K,0,0])),te++}else ne.push(new k([te,ge,0,0])),te++}se.byteAlign();const H=new a(ne,!1);let Y=0,G,le,ce;switch(ee.huffmanFS){case 0:case 1:G=s(ee.huffmanFS+6);break;case 3:G=c(Y,ue,W),Y++;break;default:throw new t("invalid Huffman FS selector")}switch(ee.huffmanDS){case 0:case 1:case 2:le=s(ee.huffmanDS+8);break;case 3:le=c(Y,ue,W),Y++;break;default:throw new t("invalid Huffman DS selector")}switch(ee.huffmanDT){case 0:case 1:case 2:ce=s(ee.huffmanDT+11);break;case 3:ce=c(Y,ue,W),Y++;break;default:throw new t("invalid Huffman DT selector")}if(ee.refinement)throw new t("refinement with Huffman is not supported");return{symbolIDTable:H,tableFirstS:G,tableDeltaS:le,tableDeltaT:ce}}function q(ee,ue,W){let Z=0,se,ne;switch(ee.huffmanDHSelector){case 0:case 1:se=s(ee.huffmanDHSelector+4);break;case 3:se=c(Z,ue,W),Z++;break;default:throw new t("invalid Huffman DH selector")}switch(ee.huffmanDWSelector){case 0:case 1:ne=s(ee.huffmanDWSelector+2);break;case 3:ne=c(Z,ue,W),Z++;break;default:throw new t("invalid Huffman DW selector")}let ie,H;return ee.bitmapSizeSelector?(ie=c(Z,ue,W),Z++):ie=s(1),ee.aggregationInstancesSelector?H=c(Z,ue,W):H=s(1),{tableDeltaHeight:se,tableDeltaWidth:ne,tableBitmapSize:ie,tableAggregateInstances:H}}function re(ee,ue,W){const Z=[];for(let se=0;se<W;se++){const ne=new Uint8Array(ue);Z.push(ne);for(let ie=0;ie<ue;ie++)ne[ie]=ee.readBit();ee.byteAlign()}return Z}function Q(ee,ue,W,Z){const se={K:-1,Columns:ue,Rows:W,BlackIs1:!0,EndOfBlock:Z},ne=new e.CCITTFaxDecoder(ee,se),ie=[];let H,Y=!1;for(let G=0;G<W;G++){const le=new Uint8Array(ue);ie.push(le);let ce=-1;for(let te=0;te<ue;te++)ce<0&&(H=ne.readNextChar(),H===-1&&(H=0,Y=!0),ce=7),le[te]=H>>ce&1,ce--}if(Z&&!Y)for(let le=0;le<5&&ne.readNextChar()!==-1;le++);return ie}class de{parseChunks(ue){return O(ue)}parse(ue){throw new Error("Not implemented: Jbig2Image.parse")}}f.Jbig2Image=de},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ArithmeticDecoder=void 0;const $=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(T,e,t){this.data=T,this.bp=e,this.dataEnd=t,this.chigh=T[e],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const T=this.data;let e=this.bp;T[e]===255?T[e+1]>143?(this.clow+=65280,this.ct=8):(e++,this.clow+=T[e]<<9,this.ct=7,this.bp=e):(e++,this.clow+=e<this.dataEnd?T[e]<<8:65280,this.ct=8,this.bp=e),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(T,e){let t=T[e]>>1,l=T[e]&1;const L=$[t],F=L.qe;let g,w=this.a-F;if(this.chigh<F)w<F?(w=F,g=l,t=L.nmps):(w=F,g=1^l,L.switchFlag===1&&(l=g),t=L.nlps);else{if(this.chigh-=F,w&32768)return this.a=w,l;w<F?(g=1^l,L.switchFlag===1&&(l=g),t=L.nlps):(g=l,t=L.nmps)}do this.ct===0&&this.byteIn(),w<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(w&32768));return this.a=w,T[e]=t<<1|l,g}}f.ArithmeticDecoder=n},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.JpegStream=void 0;var n=$(18),d=$(4),T=$(27),e=$(2);class t extends n.DecodeStream{constructor(L,F,g){let w;for(;(w=L.getByte())!==-1;)if(w===255){L.skip(-1);break}super(F),this.stream=L,this.dict=L.dict,this.maybeLength=F,this.params=g}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(L){}readBlock(){if(this.eof)return;const L={decodeTransform:void 0,colorTransform:void 0},F=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(F)){const u=this.dict.get("BPC","BitsPerComponent")||8,h=F.length,i=new Int32Array(h);let x=!1;const p=(1<<u)-1;for(let v=0;v<h;v+=2)i[v]=(F[v+1]-F[v])*256|0,i[v+1]=F[v]*p|0,(i[v]!==256||i[v+1]!==0)&&(x=!0);x&&(L.decodeTransform=i)}if(this.params instanceof d.Dict){const u=this.params.get("ColorTransform");Number.isInteger(u)&&(L.colorTransform=u)}const g=new T.JpegImage(L);g.parse(this.bytes);const w=g.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=w,this.bufferLength=w.length,this.eof=!0}}f.JpegStream=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.JpegImage=void 0;var n=$(2),d=$(28),T=$(3);class e extends n.BaseException{constructor(P){super(`JPEG error: ${P}`,"JpegError")}}class t extends n.BaseException{constructor(P,X){super(P,"DNLMarkerError"),this.scanLines=X}}class l extends n.BaseException{constructor(P){super(P,"EOIMarkerError")}}const L=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),F=4017,g=799,w=3406,u=2276,h=1567,i=3784,x=5793,p=2896;function v(_,P){let X=0,m,S,R=16;for(;R>0&&!_[R-1];)R--;const z=[{children:[],index:0}];let O=z[0],E;for(m=0;m<R;m++){for(S=0;S<_[m];S++){for(O=z.pop(),O.children[O.index]=P[X];O.index>0;)O=z.pop();for(O.index++,z.push(O);z.length<=m;)z.push(E={children:[],index:0}),O.children[O.index]=E.children,O=E;X++}m+1<R&&(z.push(E={children:[],index:0}),O.children[O.index]=E.children,O=E)}return z[0].children}function b(_,P,X){return 64*((_.blocksPerLine+1)*P+X)}function N(_,P,X,m,S,R,z,O,E,k=!1){const M=X.mcusPerLine,a=X.progressive,o=P;let r=0,s=0;function A(){if(s>0)return s--,r>>s&1;if(r=_[P++],r===255){const oe=_[P++];if(oe){if(oe===220&&k){P+=2;const Ie=(0,T.readUint16)(_,P);if(P+=2,Ie>0&&Ie!==X.scanLines)throw new t("Found DNL marker (0xFFDC) while parsing scan data",Ie)}else if(oe===217){if(k){const Ie=ne*(X.precision===8?8:0);if(Ie>0&&Math.round(X.scanLines/Ie)>=5)throw new t("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ie)}throw new l("Found EOI marker (0xFFD9) while parsing scan data")}throw new e(`unexpected marker ${(r<<8|oe).toString(16)}`)}}return s=7,r>>>7}function c(oe){let Ie=oe;for(;;){switch(Ie=Ie[A()],typeof Ie){case"number":return Ie;case"object":continue}throw new e("invalid huffman sequence")}}function y(oe){let Ie=0;for(;oe>0;)Ie=Ie<<1|A(),oe--;return Ie}function q(oe){if(oe===1)return A()===1?1:-1;const Ie=y(oe);return Ie>=1<<oe-1?Ie:Ie+(-1<<oe)+1}function re(oe,Ie){const Be=c(oe.huffmanTableDC),he=Be===0?0:q(Be);oe.blockData[Ie]=oe.pred+=he;let De=1;for(;De<64;){const ye=c(oe.huffmanTableAC),me=ye&15,Pe=ye>>4;if(me===0){if(Pe<15)break;De+=16;continue}De+=Pe;const Re=L[De];oe.blockData[Ie+Re]=q(me),De++}}function Q(oe,Ie){const Be=c(oe.huffmanTableDC),he=Be===0?0:q(Be)<<E;oe.blockData[Ie]=oe.pred+=he}function de(oe,Ie){oe.blockData[Ie]|=A()<<E}let ee=0;function ue(oe,Ie){if(ee>0){ee--;return}let Be=R;const he=z;for(;Be<=he;){const De=c(oe.huffmanTableAC),ye=De&15,me=De>>4;if(ye===0){if(me<15){ee=y(me)+(1<<me)-1;break}Be+=16;continue}Be+=me;const Pe=L[Be];oe.blockData[Ie+Pe]=q(ye)*(1<<E),Be++}}let W=0,Z;function se(oe,Ie){let Be=R;const he=z;let De=0,ye,me;for(;Be<=he;){const Pe=Ie+L[Be],Re=oe.blockData[Pe]<0?-1:1;switch(W){case 0:if(me=c(oe.huffmanTableAC),ye=me&15,De=me>>4,ye===0)De<15?(ee=y(De)+(1<<De),W=4):(De=16,W=1);else{if(ye!==1)throw new e("invalid ACn encoding");Z=q(ye),W=De?2:3}continue;case 1:case 2:oe.blockData[Pe]?oe.blockData[Pe]+=Re*(A()<<E):(De--,De===0&&(W=W===2?3:0));break;case 3:oe.blockData[Pe]?oe.blockData[Pe]+=Re*(A()<<E):(oe.blockData[Pe]=Z<<E,W=0);break;case 4:oe.blockData[Pe]&&(oe.blockData[Pe]+=Re*(A()<<E));break}Be++}W===4&&(ee--,ee===0&&(W=0))}let ne=0;function ie(oe,Ie,Be,he,De){const ye=Be/M|0,me=Be%M;ne=ye*oe.v+he;const Pe=me*oe.h+De,Re=b(oe,ne,Pe);Ie(oe,Re)}function H(oe,Ie,Be){ne=Be/oe.blocksPerLine|0;const he=Be%oe.blocksPerLine,De=b(oe,ne,he);Ie(oe,De)}const Y=m.length;let G,le,ce,te,ge,K;a?R===0?K=O===0?Q:de:K=O===0?ue:se:K=re;let Se=0,Oe;const Me=Y===1?m[0].blocksPerLine*m[0].blocksPerColumn:M*X.mcusPerColumn;let _e,ke;for(;Se<=Me;){const oe=S?Math.min(Me-Se,S):Me;if(oe>0){for(le=0;le<Y;le++)m[le].pred=0;if(ee=0,Y===1)for(G=m[0],ge=0;ge<oe;ge++)H(G,K,Se),Se++;else for(ge=0;ge<oe;ge++){for(le=0;le<Y;le++)for(G=m[le],_e=G.h,ke=G.v,ce=0;ce<ke;ce++)for(te=0;te<_e;te++)ie(G,K,Se,ce,te);Se++}}if(s=0,Oe=I(_,P),!Oe)break;if(Oe.invalid){const Ie=oe>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${Ie} MCU data, current marker is: ${Oe.invalid}`),P=Oe.offset}if(Oe.marker>=65488&&Oe.marker<=65495)P+=2;else break}return P-o}function U(_,P,X){const m=_.quantizationTable,S=_.blockData;let R,z,O,E,k,M,a,o,r,s,A,c,y,q,re,Q,de;if(!m)throw new e("missing required Quantization Table.");for(let ee=0;ee<64;ee+=8){if(r=S[P+ee],s=S[P+ee+1],A=S[P+ee+2],c=S[P+ee+3],y=S[P+ee+4],q=S[P+ee+5],re=S[P+ee+6],Q=S[P+ee+7],r*=m[ee],!(s|A|c|y|q|re|Q)){de=x*r+512>>10,X[ee]=de,X[ee+1]=de,X[ee+2]=de,X[ee+3]=de,X[ee+4]=de,X[ee+5]=de,X[ee+6]=de,X[ee+7]=de;continue}s*=m[ee+1],A*=m[ee+2],c*=m[ee+3],y*=m[ee+4],q*=m[ee+5],re*=m[ee+6],Q*=m[ee+7],R=x*r+128>>8,z=x*y+128>>8,O=A,E=re,k=p*(s-Q)+128>>8,o=p*(s+Q)+128>>8,M=c<<4,a=q<<4,R=R+z+1>>1,z=R-z,de=O*i+E*h+128>>8,O=O*h-E*i+128>>8,E=de,k=k+a+1>>1,a=k-a,o=o+M+1>>1,M=o-M,R=R+E+1>>1,E=R-E,z=z+O+1>>1,O=z-O,de=k*u+o*w+2048>>12,k=k*w-o*u+2048>>12,o=de,de=M*g+a*F+2048>>12,M=M*F-a*g+2048>>12,a=de,X[ee]=R+o,X[ee+7]=R-o,X[ee+1]=z+a,X[ee+6]=z-a,X[ee+2]=O+M,X[ee+5]=O-M,X[ee+3]=E+k,X[ee+4]=E-k}for(let ee=0;ee<8;++ee){if(r=X[ee],s=X[ee+8],A=X[ee+16],c=X[ee+24],y=X[ee+32],q=X[ee+40],re=X[ee+48],Q=X[ee+56],!(s|A|c|y|q|re|Q)){de=x*r+8192>>14,de<-2040?de=0:de>=2024?de=255:de=de+2056>>4,S[P+ee]=de,S[P+ee+8]=de,S[P+ee+16]=de,S[P+ee+24]=de,S[P+ee+32]=de,S[P+ee+40]=de,S[P+ee+48]=de,S[P+ee+56]=de;continue}R=x*r+2048>>12,z=x*y+2048>>12,O=A,E=re,k=p*(s-Q)+2048>>12,o=p*(s+Q)+2048>>12,M=c,a=q,R=(R+z+1>>1)+4112,z=R-z,de=O*i+E*h+2048>>12,O=O*h-E*i+2048>>12,E=de,k=k+a+1>>1,a=k-a,o=o+M+1>>1,M=o-M,R=R+E+1>>1,E=R-E,z=z+O+1>>1,O=z-O,de=k*u+o*w+2048>>12,k=k*w-o*u+2048>>12,o=de,de=M*g+a*F+2048>>12,M=M*F-a*g+2048>>12,a=de,r=R+o,Q=R-o,s=z+a,re=z-a,A=O+M,q=O-M,c=E+k,y=E-k,r<16?r=0:r>=4080?r=255:r>>=4,s<16?s=0:s>=4080?s=255:s>>=4,A<16?A=0:A>=4080?A=255:A>>=4,c<16?c=0:c>=4080?c=255:c>>=4,y<16?y=0:y>=4080?y=255:y>>=4,q<16?q=0:q>=4080?q=255:q>>=4,re<16?re=0:re>=4080?re=255:re>>=4,Q<16?Q=0:Q>=4080?Q=255:Q>>=4,S[P+ee]=r,S[P+ee+8]=s,S[P+ee+16]=A,S[P+ee+24]=c,S[P+ee+32]=y,S[P+ee+40]=q,S[P+ee+48]=re,S[P+ee+56]=Q}}function D(_,P){const X=P.blocksPerLine,m=P.blocksPerColumn,S=new Int16Array(64);for(let R=0;R<m;R++)for(let z=0;z<X;z++){const O=b(P,R,z);U(P,O,S)}return P.blockData}function I(_,P,X=P){const m=_.length-1;let S=X<P?X:P;if(P>=m)return null;const R=(0,T.readUint16)(_,P);if(R>=65472&&R<=65534)return{invalid:null,marker:R,offset:P};let z=(0,T.readUint16)(_,S);for(;!(z>=65472&&z<=65534);){if(++S>=m)return null;z=(0,T.readUint16)(_,S)}return{invalid:R.toString(16),marker:z,offset:S}}class B{constructor({decodeTransform:P=null,colorTransform:X=-1}={}){this._decodeTransform=P,this._colorTransform=X}parse(P,{dnlScanLines:X=null}={}){function m(){const A=(0,T.readUint16)(P,R);R+=2;let c=R+A-2;const y=I(P,c,R);y!=null&&y.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+y.invalid),c=y.offset);const q=P.subarray(R,c);return R+=q.length,q}function S(A){const c=Math.ceil(A.samplesPerLine/8/A.maxH),y=Math.ceil(A.scanLines/8/A.maxV);for(const q of A.components){const re=Math.ceil(Math.ceil(A.samplesPerLine/8)*q.h/A.maxH),Q=Math.ceil(Math.ceil(A.scanLines/8)*q.v/A.maxV),de=c*q.h,ue=64*(y*q.v)*(de+1);q.blockData=new Int16Array(ue),q.blocksPerLine=re,q.blocksPerColumn=Q}A.mcusPerLine=c,A.mcusPerColumn=y}let R=0,z=null,O=null,E,k,M=0;const a=[],o=[],r=[];let s=(0,T.readUint16)(P,R);if(R+=2,s!==65496)throw new e("SOI not found");s=(0,T.readUint16)(P,R),R+=2;e:for(;s!==65497;){let A,c,y;switch(s){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const q=m();s===65504&&q[0]===74&&q[1]===70&&q[2]===73&&q[3]===70&&q[4]===0&&(z={version:{major:q[5],minor:q[6]},densityUnits:q[7],xDensity:q[8]<<8|q[9],yDensity:q[10]<<8|q[11],thumbWidth:q[12],thumbHeight:q[13],thumbData:q.subarray(14,14+3*q[12]*q[13])}),s===65518&&q[0]===65&&q[1]===100&&q[2]===111&&q[3]===98&&q[4]===101&&(O={version:q[5]<<8|q[6],flags0:q[7]<<8|q[8],flags1:q[9]<<8|q[10],transformCode:q[11]});break;case 65499:const re=(0,T.readUint16)(P,R);R+=2;const Q=re+R-2;let de;for(;R<Q;){const te=P[R++],ge=new Uint16Array(64);if(te>>4)if(te>>4===1)for(c=0;c<64;c++)de=L[c],ge[de]=(0,T.readUint16)(P,R),R+=2;else throw new e("DQT - invalid table spec");else for(c=0;c<64;c++)de=L[c],ge[de]=P[R++];a[te&15]=ge}break;case 65472:case 65473:case 65474:if(E)throw new e("Only single frame JPEGs supported");R+=2,E={},E.extended=s===65473,E.progressive=s===65474,E.precision=P[R++];const ee=(0,T.readUint16)(P,R);R+=2,E.scanLines=X||ee,E.samplesPerLine=(0,T.readUint16)(P,R),R+=2,E.components=[],E.componentIds={};const ue=P[R++];let W=0,Z=0;for(A=0;A<ue;A++){const te=P[R],ge=P[R+1]>>4,K=P[R+1]&15;W<ge&&(W=ge),Z<K&&(Z=K);const Se=P[R+2];y=E.components.push({h:ge,v:K,quantizationId:Se,quantizationTable:null}),E.componentIds[te]=y-1,R+=3}E.maxH=W,E.maxV=Z,S(E);break;case 65476:const se=(0,T.readUint16)(P,R);for(R+=2,A=2;A<se;){const te=P[R++],ge=new Uint8Array(16);let K=0;for(c=0;c<16;c++,R++)K+=ge[c]=P[R];const Se=new Uint8Array(K);for(c=0;c<K;c++,R++)Se[c]=P[R];A+=17+K,(te>>4?o:r)[te&15]=v(ge,Se)}break;case 65501:R+=2,k=(0,T.readUint16)(P,R),R+=2;break;case 65498:const ne=++M===1&&!X;R+=2;const ie=P[R++],H=[];for(A=0;A<ie;A++){const te=P[R++],ge=E.componentIds[te],K=E.components[ge];K.index=te;const Se=P[R++];K.huffmanTableDC=r[Se>>4],K.huffmanTableAC=o[Se&15],H.push(K)}const Y=P[R++],G=P[R++],le=P[R++];try{const te=N(P,R,E,H,k,Y,G,le>>4,le&15,ne);R+=te}catch(te){if(te instanceof t)return(0,n.warn)(`${te.message} -- attempting to re-parse the JPEG image.`),this.parse(P,{dnlScanLines:te.scanLines});if(te instanceof l){(0,n.warn)(`${te.message} -- ignoring the rest of the image data.`);break e}throw te}break;case 65500:R+=4;break;case 65535:P[R]!==255&&R--;break;default:const ce=I(P,R-2,R-3);if(ce!=null&&ce.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+ce.invalid),R=ce.offset;break}if(!ce||R>=P.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new e("JpegImage.parse - unknown marker: "+s.toString(16))}s=(0,T.readUint16)(P,R),R+=2}this.width=E.samplesPerLine,this.height=E.scanLines,this.jfif=z,this.adobe=O,this.components=[];for(const A of E.components){const c=a[A.quantizationId];c&&(A.quantizationTable=c),this.components.push({index:A.index,output:D(E,A),scaleX:A.h/E.maxH,scaleY:A.v/E.maxV,blocksPerLine:A.blocksPerLine,blocksPerColumn:A.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(P,X,m=!1){const S=this.width/P,R=this.height/X;let z,O,E,k,M,a,o,r,s,A,c=0,y;const q=this.components.length,re=P*X*q,Q=new Uint8ClampedArray(re),de=new Uint32Array(P),ee=4294967288;let ue;for(o=0;o<q;o++){if(z=this.components[o],O=z.scaleX*S,E=z.scaleY*R,c=o,y=z.output,k=z.blocksPerLine+1<<3,O!==ue){for(M=0;M<P;M++)r=0|M*O,de[M]=(r&ee)<<3|r&7;ue=O}for(a=0;a<X;a++)for(r=0|a*E,A=k*(r&ee)|(r&7)<<3,M=0;M<P;M++)Q[c]=y[A+de[M]],c+=q}let W=this._decodeTransform;if(!m&&q===4&&!W&&(W=new Int32Array([-256,255,-256,255,-256,255,-256,255])),W)for(o=0;o<re;)for(r=0,s=0;r<q;r++,o++,s+=2)Q[o]=(Q[o]*W[s]>>8)+W[s+1];return Q}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(P){let X,m,S;for(let R=0,z=P.length;R<z;R+=3)X=P[R],m=P[R+1],S=P[R+2],P[R]=X-179.456+1.402*S,P[R+1]=X+135.459-.344*m-.714*S,P[R+2]=X-226.816+1.772*m;return P}_convertYccToRgba(P,X){for(let m=0,S=0,R=P.length;m<R;m+=3,S+=4){const z=P[m],O=P[m+1],E=P[m+2];X[S]=z-179.456+1.402*E,X[S+1]=z+135.459-.344*O-.714*E,X[S+2]=z-226.816+1.772*O,X[S+3]=255}return X}_convertYcckToRgb(P){let X,m,S,R,z=0;for(let O=0,E=P.length;O<E;O+=4)X=P[O],m=P[O+1],S=P[O+2],R=P[O+3],P[z++]=-122.67195406894+m*(-660635669420364e-19*m+.000437130475926232*S-54080610064599e-18*X+.00048449797120281*R-.154362151871126)+S*(-.000957964378445773*S+.000817076911346625*X-.00477271405408747*R+1.53380253221734)+X*(.000961250184130688*X-.00266257332283933*R+.48357088451265)+R*(-.000336197177618394*R+.484791561490776),P[z++]=107.268039397724+m*(219927104525741e-19*m-.000640992018297945*S+.000659397001245577*X+.000426105652938837*R-.176491792462875)+S*(-.000778269941513683*S+.00130872261408275*X+.000770482631801132*R-.151051492775562)+X*(.00126935368114843*X-.00265090189010898*R+.25802910206845)+R*(-.000318913117588328*R-.213742400323665),P[z++]=-20.810012546947+m*(-.000570115196973677*m-263409051004589e-19*S+.0020741088115012*X-.00288260236853442*R+.814272968359295)+S*(-153496057440975e-19*S-.000132689043961446*X+.000560833691242812*R-.195152027534049)+X*(.00174418132927582*X-.00255243321439347*R+.116935020465145)+R*(-.000343531996510555*R+.24165260232407);return P.subarray(0,z)}_convertYcckToRgba(P){for(let X=0,m=P.length;X<m;X+=4){const S=P[X],R=P[X+1],z=P[X+2],O=P[X+3];P[X]=-122.67195406894+R*(-660635669420364e-19*R+.000437130475926232*z-54080610064599e-18*S+.00048449797120281*O-.154362151871126)+z*(-.000957964378445773*z+.000817076911346625*S-.00477271405408747*O+1.53380253221734)+S*(.000961250184130688*S-.00266257332283933*O+.48357088451265)+O*(-.000336197177618394*O+.484791561490776),P[X+1]=107.268039397724+R*(219927104525741e-19*R-.000640992018297945*z+.000659397001245577*S+.000426105652938837*O-.176491792462875)+z*(-.000778269941513683*z+.00130872261408275*S+.000770482631801132*O-.151051492775562)+S*(.00126935368114843*S-.00265090189010898*O+.25802910206845)+O*(-.000318913117588328*O-.213742400323665),P[X+2]=-20.810012546947+R*(-.000570115196973677*R-263409051004589e-19*z+.0020741088115012*S-.00288260236853442*O+.814272968359295)+z*(-153496057440975e-19*z-.000132689043961446*S+.000560833691242812*O-.195152027534049)+S*(.00174418132927582*S-.00255243321439347*O+.116935020465145)+O*(-.000343531996510555*O+.24165260232407),P[X+3]=255}return P}_convertYcckToCmyk(P){let X,m,S;for(let R=0,z=P.length;R<z;R+=4)X=P[R],m=P[R+1],S=P[R+2],P[R]=434.456-X-1.402*S,P[R+1]=119.541-X+.344*m+.714*S,P[R+2]=481.816-X-1.772*m;return P}_convertCmykToRgb(P){let X,m,S,R,z=0;for(let O=0,E=P.length;O<E;O+=4)X=P[O],m=P[O+1],S=P[O+2],R=P[O+3],P[z++]=255+X*(-6747147073602441e-20*X+.0008379262121013727*m+.0002894718188643294*S+.003264231057537806*R-1.1185611867203937)+m*(26374107616089405e-21*m-8626949158638572e-20*S-.0002748769067499491*R-.02155688794978967)+S*(-3878099212869363e-20*S-.0003267808279485286*R+.0686742238595345)-R*(.0003361971776183937*R+.7430659151342254),P[z++]=255+X*(.00013596372813588848*X+.000924537132573585*m+.00010567359618683593*S+.0004791864687436512*R-.3109689587515875)+m*(-.00023545346108370344*m+.0002702845253534714*S+.0020200308977307156*R-.7488052167015494)+S*(6834815998235662e-20*S+.00015168452363460973*R-.09751927774728933)-R*(.0003189131175883281*R+.7364883807733168),P[z++]=255+X*(13598650411385307e-21*X+.00012423956175490851*m+.0004751985097583589*S-36729317476630422e-22*R-.05562186980264034)+m*(.00016141380598724676*m+.0009692239130725186*S+.0007782692450036253*R-.44015232367526463)+S*(5068882914068769e-22*S+.0017778369011375071*R-.7591454649749609)-R*(.0003435319965105553*R+.7063770186160144);return P.subarray(0,z)}_convertCmykToRgba(P){for(let X=0,m=P.length;X<m;X+=4){const S=P[X],R=P[X+1],z=P[X+2],O=P[X+3];P[X]=255+S*(-6747147073602441e-20*S+.0008379262121013727*R+.0002894718188643294*z+.003264231057537806*O-1.1185611867203937)+R*(26374107616089405e-21*R-8626949158638572e-20*z-.0002748769067499491*O-.02155688794978967)+z*(-3878099212869363e-20*z-.0003267808279485286*O+.0686742238595345)-O*(.0003361971776183937*O+.7430659151342254),P[X+1]=255+S*(.00013596372813588848*S+.000924537132573585*R+.00010567359618683593*z+.0004791864687436512*O-.3109689587515875)+R*(-.00023545346108370344*R+.0002702845253534714*z+.0020200308977307156*O-.7488052167015494)+z*(6834815998235662e-20*z+.00015168452363460973*O-.09751927774728933)-O*(.0003189131175883281*O+.7364883807733168),P[X+2]=255+S*(13598650411385307e-21*S+.00012423956175490851*R+.0004751985097583589*z-36729317476630422e-22*O-.05562186980264034)+R*(.00016141380598724676*R+.0009692239130725186*z+.0007782692450036253*O-.44015232367526463)+z*(5068882914068769e-22*z+.0017778369011375071*O-.7591454649749609)-O*(.0003435319965105553*O+.7063770186160144),P[X+3]=255}return P}getData({width:P,height:X,forceRGBA:m=!1,forceRGB:S=!1,isSourcePDF:R=!1}){if(this.numComponents>4)throw new e("Unsupported color mode");const z=this._getLinearizedBlockData(P,X,R);if(this.numComponents===1&&(m||S)){const O=z.length*(m?4:3),E=new Uint8ClampedArray(O);let k=0;if(m)(0,d.grayToRGBA)(z,new Uint32Array(E.buffer));else for(const M of z)E[k++]=M,E[k++]=M,E[k++]=M;return E}else if(this.numComponents===3&&this._isColorConversionNeeded){if(m){const O=new Uint8ClampedArray(z.length/3*4);return this._convertYccToRgba(z,O)}return this._convertYccToRgb(z)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return m?this._convertYcckToRgba(z):S?this._convertYcckToRgb(z):this._convertYcckToCmyk(z);if(m)return this._convertCmykToRgba(z);if(S)return this._convertCmykToRgb(z)}return z}}f.JpegImage=B},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.convertBlackAndWhiteToRGBA=T,f.convertToRGBA=d,f.grayToRGBA=t;var n=$(2);function d(l){switch(l.kind){case n.ImageKind.GRAYSCALE_1BPP:return T(l);case n.ImageKind.RGB_24BPP:return e(l)}return null}function T({src:l,srcPos:L=0,dest:F,width:g,height:w,nonBlackColor:u=4294967295,inverseDecode:h=!1}){const i=n.FeatureTest.isLittleEndian?4278190080:255,[x,p]=h?[u,i]:[i,u],v=g>>3,b=g&7,N=l.length;F=new Uint32Array(F.buffer);let U=0;for(let D=0;D<w;D++){for(const B=L+v;L<B;L++){const _=L<N?l[L]:255;F[U++]=_&128?p:x,F[U++]=_&64?p:x,F[U++]=_&32?p:x,F[U++]=_&16?p:x,F[U++]=_&8?p:x,F[U++]=_&4?p:x,F[U++]=_&2?p:x,F[U++]=_&1?p:x}if(b===0)continue;const I=L<N?l[L++]:255;for(let B=0;B<b;B++)F[U++]=I&1<<7-B?p:x}return{srcPos:L,destPos:U}}function e({src:l,srcPos:L=0,dest:F,destPos:g=0,width:w,height:u}){let h=0;const i=l.length>>2,x=new Uint32Array(l.buffer,L,i);if(n.FeatureTest.isLittleEndian){for(;h<i-2;h+=3,g+=4){const p=x[h],v=x[h+1],b=x[h+2];F[g]=p|4278190080,F[g+1]=p>>>24|v<<8|4278190080,F[g+2]=v>>>16|b<<16|4278190080,F[g+3]=b>>>8|4278190080}for(let p=h*4,v=l.length;p<v;p+=3)F[g++]=l[p]|l[p+1]<<8|l[p+2]<<16|4278190080}else{for(;h<i-2;h+=3,g+=4){const p=x[h],v=x[h+1],b=x[h+2];F[g]=p|255,F[g+1]=p<<24|v>>>8|255,F[g+2]=v<<16|b>>>16|255,F[g+3]=b<<8|255}for(let p=h*4,v=l.length;p<v;p+=3)F[g++]=l[p]<<24|l[p+1]<<16|l[p+2]<<8|255}return{srcPos:L,destPos:g}}function t(l,L){if(n.FeatureTest.isLittleEndian)for(let F=0,g=l.length;F<g;F++)L[F]=l[F]*65793|4278190080;else for(let F=0,g=l.length;F<g;F++)L[F]=l[F]*16843008|255}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.JpxStream=void 0;var n=$(18),d=$(30),T=$(2);class e extends n.DecodeStream{constructor(l,L,F){super(L),this.stream=l,this.dict=l.dict,this.maybeLength=L,this.params=F}get bytes(){return(0,T.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(l){}readBlock(){if(this.eof)return;const l=new d.JpxImage;l.parse(this.bytes);const L=l.width,F=l.height,g=l.componentsCount,w=l.tiles.length;if(w===1)this.buffer=l.tiles[0].items;else{const u=new Uint8ClampedArray(L*F*g);for(let h=0;h<w;h++){const i=l.tiles[h],x=i.width,p=i.height,v=i.left,b=i.top,N=i.items;let U=0,D=(L*b+v)*g;const I=L*g,B=x*g;for(let _=0;_<p;_++){const P=N.subarray(U,U+B);u.set(P,D),U+=B,D+=I}}this.buffer=u}this.bufferLength=this.buffer.length,this.eof=!0}}f.JpxStream=e},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.JpxImage=void 0;var n=$(2),d=$(3),T=$(25);class e extends n.BaseException{constructor(a){super(`JPX error: ${a}`,"JpxError")}}const t={LL:0,LH:1,HL:1,HH:2};class l{constructor(){this.failOnCorruptedImage=!1}parse(a){if((0,d.readUint16)(a,0)===65359){this.parseCodestream(a,0,a.length);return}const r=a.length;let s=0;for(;s<r;){let A=8,c=(0,d.readUint32)(a,s);const y=(0,d.readUint32)(a,s+4);if(s+=A,c===1&&(c=(0,d.readUint32)(a,s)*4294967296+(0,d.readUint32)(a,s+4),s+=8,A+=8),c===0&&(c=r-s+A),c<A)throw new e("Invalid box field size");const q=c-A;let re=!0;switch(y){case 1785737832:re=!1;break;case 1668246642:const Q=a[s];if(Q===1){const ee=(0,d.readUint32)(a,s+3);switch(ee){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+ee);break}}else Q===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(a,s,s+q);break;case 1783636e3:(0,d.readUint32)(a,s)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const de=String.fromCharCode(y>>24&255,y>>16&255,y>>8&255,y&255);(0,n.warn)(`Unsupported header type ${y} (${de}).`);break}re&&(s+=q)}}parseImageProperties(a){let o=a.getByte();for(;o>=0;){const r=o;if(o=a.getByte(),(r<<8|o)===65361){a.skip(4);const A=a.getInt32()>>>0,c=a.getInt32()>>>0,y=a.getInt32()>>>0,q=a.getInt32()>>>0;a.skip(16);const re=a.getUint16();this.width=A-y,this.height=c-q,this.componentsCount=re,this.bitsPerComponent=8;return}}throw new e("No size marker found in JPX stream")}parseCodestream(a,o,r){const s={};let A=!1;try{let c=o;for(;c+1<r;){const y=(0,d.readUint16)(a,c);c+=2;let q=0,re,Q,de,ee,ue,W;switch(y){case 65359:s.mainHeader=!0;break;case 65497:break;case 65361:q=(0,d.readUint16)(a,c);const Z={};Z.Xsiz=(0,d.readUint32)(a,c+4),Z.Ysiz=(0,d.readUint32)(a,c+8),Z.XOsiz=(0,d.readUint32)(a,c+12),Z.YOsiz=(0,d.readUint32)(a,c+16),Z.XTsiz=(0,d.readUint32)(a,c+20),Z.YTsiz=(0,d.readUint32)(a,c+24),Z.XTOsiz=(0,d.readUint32)(a,c+28),Z.YTOsiz=(0,d.readUint32)(a,c+32);const se=(0,d.readUint16)(a,c+36);Z.Csiz=se;const ne=[];re=c+38;for(let ge=0;ge<se;ge++){const K={precision:(a[re]&127)+1,isSigned:!!(a[re]&128),XRsiz:a[re+1],YRsiz:a[re+2]};re+=3,L(K,Z),ne.push(K)}s.SIZ=Z,s.components=ne,F(s,ne),s.QCC=[],s.COC=[];break;case 65372:q=(0,d.readUint16)(a,c);const ie={};switch(re=c+2,Q=a[re++],Q&31){case 0:ee=8,ue=!0;break;case 1:ee=16,ue=!1;break;case 2:ee=16,ue=!0;break;default:throw new Error("Invalid SQcd value "+Q)}for(ie.noQuantization=ee===8,ie.scalarExpounded=ue,ie.guardBits=Q>>5,de=[];re<q+c;){const ge={};ee===8?(ge.epsilon=a[re++]>>3,ge.mu=0):(ge.epsilon=a[re]>>3,ge.mu=(a[re]&7)<<8|a[re+1],re+=2),de.push(ge)}ie.SPqcds=de,s.mainHeader?s.QCD=ie:(s.currentTile.QCD=ie,s.currentTile.QCC=[]);break;case 65373:q=(0,d.readUint16)(a,c);const H={};re=c+2;let Y;switch(s.SIZ.Csiz<257?Y=a[re++]:(Y=(0,d.readUint16)(a,re),re+=2),Q=a[re++],Q&31){case 0:ee=8,ue=!0;break;case 1:ee=16,ue=!1;break;case 2:ee=16,ue=!0;break;default:throw new Error("Invalid SQcd value "+Q)}for(H.noQuantization=ee===8,H.scalarExpounded=ue,H.guardBits=Q>>5,de=[];re<q+c;){const ge={};ee===8?(ge.epsilon=a[re++]>>3,ge.mu=0):(ge.epsilon=a[re]>>3,ge.mu=(a[re]&7)<<8|a[re+1],re+=2),de.push(ge)}H.SPqcds=de,s.mainHeader?s.QCC[Y]=H:s.currentTile.QCC[Y]=H;break;case 65362:q=(0,d.readUint16)(a,c);const G={};re=c+2;const le=a[re++];G.entropyCoderWithCustomPrecincts=!!(le&1),G.sopMarkerUsed=!!(le&2),G.ephMarkerUsed=!!(le&4),G.progressionOrder=a[re++],G.layersCount=(0,d.readUint16)(a,re),re+=2,G.multipleComponentTransform=a[re++],G.decompositionLevelsCount=a[re++],G.xcb=(a[re++]&15)+2,G.ycb=(a[re++]&15)+2;const ce=a[re++];if(G.selectiveArithmeticCodingBypass=!!(ce&1),G.resetContextProbabilities=!!(ce&2),G.terminationOnEachCodingPass=!!(ce&4),G.verticallyStripe=!!(ce&8),G.predictableTermination=!!(ce&16),G.segmentationSymbolUsed=!!(ce&32),G.reversibleTransformation=a[re++],G.entropyCoderWithCustomPrecincts){const ge=[];for(;re<q+c;){const K=a[re++];ge.push({PPx:K&15,PPy:K>>4})}G.precinctsSizes=ge}const te=[];G.selectiveArithmeticCodingBypass&&te.push("selectiveArithmeticCodingBypass"),G.terminationOnEachCodingPass&&te.push("terminationOnEachCodingPass"),G.verticallyStripe&&te.push("verticallyStripe"),G.predictableTermination&&te.push("predictableTermination"),te.length>0&&(A=!0,(0,n.warn)(`JPX: Unsupported COD options (${te.join(", ")}).`)),s.mainHeader?s.COD=G:(s.currentTile.COD=G,s.currentTile.COC=[]);break;case 65424:q=(0,d.readUint16)(a,c),W={},W.index=(0,d.readUint16)(a,c+2),W.length=(0,d.readUint32)(a,c+4),W.dataEnd=W.length+c-2,W.partIndex=a[c+8],W.partsCount=a[c+9],s.mainHeader=!1,W.partIndex===0&&(W.COD=s.COD,W.COC=s.COC.slice(0),W.QCD=s.QCD,W.QCC=s.QCC.slice(0)),s.currentTile=W;break;case 65427:W=s.currentTile,W.partIndex===0&&(X(s,W.index),D(s)),q=W.dataEnd-c,I(s,a,c,q);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:q=(0,d.readUint16)(a,c);break;default:throw new Error("Unknown codestream code: "+y.toString(16))}c+=q}}catch(c){if(A||this.failOnCorruptedImage)throw new e(c.message);(0,n.warn)(`JPX: Trying to recover from: "${c.message}".`)}this.tiles=P(s),this.width=s.SIZ.Xsiz-s.SIZ.XOsiz,this.height=s.SIZ.Ysiz-s.SIZ.YOsiz,this.componentsCount=s.SIZ.Csiz}}f.JpxImage=l;function L(M,a){M.x0=Math.ceil(a.XOsiz/M.XRsiz),M.x1=Math.ceil(a.Xsiz/M.XRsiz),M.y0=Math.ceil(a.YOsiz/M.YRsiz),M.y1=Math.ceil(a.Ysiz/M.YRsiz),M.width=M.x1-M.x0,M.height=M.y1-M.y0}function F(M,a){const o=M.SIZ,r=[];let s;const A=Math.ceil((o.Xsiz-o.XTOsiz)/o.XTsiz),c=Math.ceil((o.Ysiz-o.YTOsiz)/o.YTsiz);for(let q=0;q<c;q++)for(let re=0;re<A;re++)s={},s.tx0=Math.max(o.XTOsiz+re*o.XTsiz,o.XOsiz),s.ty0=Math.max(o.YTOsiz+q*o.YTsiz,o.YOsiz),s.tx1=Math.min(o.XTOsiz+(re+1)*o.XTsiz,o.Xsiz),s.ty1=Math.min(o.YTOsiz+(q+1)*o.YTsiz,o.Ysiz),s.width=s.tx1-s.tx0,s.height=s.ty1-s.ty0,s.components=[],r.push(s);M.tiles=r;const y=o.Csiz;for(let q=0,re=y;q<re;q++){const Q=a[q];for(let de=0,ee=r.length;de<ee;de++){const ue={};s=r[de],ue.tcx0=Math.ceil(s.tx0/Q.XRsiz),ue.tcy0=Math.ceil(s.ty0/Q.YRsiz),ue.tcx1=Math.ceil(s.tx1/Q.XRsiz),ue.tcy1=Math.ceil(s.ty1/Q.YRsiz),ue.width=ue.tcx1-ue.tcx0,ue.height=ue.tcy1-ue.tcy0,s.components[q]=ue}}}function g(M,a,o){const r=a.codingStyleParameters,s={};return r.entropyCoderWithCustomPrecincts?(s.PPx=r.precinctsSizes[o].PPx,s.PPy=r.precinctsSizes[o].PPy):(s.PPx=15,s.PPy=15),s.xcb_=o>0?Math.min(r.xcb,s.PPx-1):Math.min(r.xcb,s.PPx),s.ycb_=o>0?Math.min(r.ycb,s.PPy-1):Math.min(r.ycb,s.PPy),s}function w(M,a,o){const r=1<<o.PPx,s=1<<o.PPy,A=a.resLevel===0,c=1<<o.PPx+(A?0:-1),y=1<<o.PPy+(A?0:-1),q=a.trx1>a.trx0?Math.ceil(a.trx1/r)-Math.floor(a.trx0/r):0,re=a.try1>a.try0?Math.ceil(a.try1/s)-Math.floor(a.try0/s):0,Q=q*re;a.precinctParameters={precinctWidth:r,precinctHeight:s,numprecinctswide:q,numprecinctshigh:re,numprecincts:Q,precinctWidthInSubband:c,precinctHeightInSubband:y}}function u(M,a,o){const r=o.xcb_,s=o.ycb_,A=1<<r,c=1<<s,y=a.tbx0>>r,q=a.tby0>>s,re=a.tbx1+A-1>>r,Q=a.tby1+c-1>>s,de=a.resolution.precinctParameters,ee=[],ue=[];let W,Z,se,ne;for(Z=q;Z<Q;Z++)for(W=y;W<re;W++){se={cbx:W,cby:Z,tbx0:A*W,tby0:c*Z,tbx1:A*(W+1),tby1:c*(Z+1)},se.tbx0_=Math.max(a.tbx0,se.tbx0),se.tby0_=Math.max(a.tby0,se.tby0),se.tbx1_=Math.min(a.tbx1,se.tbx1),se.tby1_=Math.min(a.tby1,se.tby1);const ie=Math.floor((se.tbx0_-a.tbx0)/de.precinctWidthInSubband),H=Math.floor((se.tby0_-a.tby0)/de.precinctHeightInSubband);if(ne=ie+H*de.numprecinctswide,se.precinctNumber=ne,se.subbandType=a.type,se.Lblock=3,se.tbx1_<=se.tbx0_||se.tby1_<=se.tby0_)continue;ee.push(se);let Y=ue[ne];Y!==void 0?(W<Y.cbxMin?Y.cbxMin=W:W>Y.cbxMax&&(Y.cbxMax=W),Z<Y.cbyMin?Y.cbxMin=Z:Z>Y.cbyMax&&(Y.cbyMax=Z)):ue[ne]=Y={cbxMin:W,cbyMin:Z,cbxMax:W,cbyMax:Z},se.precinct=Y}a.codeblockParameters={codeblockWidth:r,codeblockHeight:s,numcodeblockwide:re-y+1,numcodeblockhigh:Q-q+1},a.codeblocks=ee,a.precincts=ue}function h(M,a,o){const r=[],s=M.subbands;for(let A=0,c=s.length;A<c;A++){const q=s[A].codeblocks;for(let re=0,Q=q.length;re<Q;re++){const de=q[re];de.precinctNumber===a&&r.push(de)}}return{layerNumber:o,codeblocks:r}}function i(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=r.codingStyleDefaultParameters.layersCount,A=a.Csiz;let c=0;for(let de=0;de<A;de++)c=Math.max(c,r.components[de].codingStyleParameters.decompositionLevelsCount);let y=0,q=0,re=0,Q=0;this.nextPacket=function(){for(;y<s;y++){for(;q<=c;q++){for(;re<A;re++){const ee=r.components[re];if(q>ee.codingStyleParameters.decompositionLevelsCount)continue;const ue=ee.resolutions[q],W=ue.precinctParameters.numprecincts;for(;Q<W;){const Z=h(ue,Q,y);return Q++,Z}Q=0}re=0}q=0}throw new e("Out of packets")}}function x(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=r.codingStyleDefaultParameters.layersCount,A=a.Csiz;let c=0;for(let de=0;de<A;de++)c=Math.max(c,r.components[de].codingStyleParameters.decompositionLevelsCount);let y=0,q=0,re=0,Q=0;this.nextPacket=function(){for(;y<=c;y++){for(;q<s;q++){for(;re<A;re++){const ee=r.components[re];if(y>ee.codingStyleParameters.decompositionLevelsCount)continue;const ue=ee.resolutions[y],W=ue.precinctParameters.numprecincts;for(;Q<W;){const Z=h(ue,Q,q);return Q++,Z}Q=0}re=0}q=0}throw new e("Out of packets")}}function p(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=r.codingStyleDefaultParameters.layersCount,A=a.Csiz;let c,y,q,re,Q=0;for(q=0;q<A;q++){const ee=r.components[q];Q=Math.max(Q,ee.codingStyleParameters.decompositionLevelsCount)}const de=new Int32Array(Q+1);for(y=0;y<=Q;++y){let ee=0;for(q=0;q<A;++q){const ue=r.components[q].resolutions;y<ue.length&&(ee=Math.max(ee,ue[y].precinctParameters.numprecincts))}de[y]=ee}c=0,y=0,q=0,re=0,this.nextPacket=function(){for(;y<=Q;y++){for(;re<de[y];re++){for(;q<A;q++){const ue=r.components[q];if(y>ue.codingStyleParameters.decompositionLevelsCount)continue;const W=ue.resolutions[y],Z=W.precinctParameters.numprecincts;if(!(re>=Z)){for(;c<s;){const se=h(W,re,c);return c++,se}c=0}}q=0}re=0}throw new e("Out of packets")}}function v(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=r.codingStyleDefaultParameters.layersCount,A=a.Csiz,c=U(r),y=c;let q=0,re=0,Q=0,de=0,ee=0;this.nextPacket=function(){for(;ee<y.maxNumHigh;ee++){for(;de<y.maxNumWide;de++){for(;Q<A;Q++){const W=r.components[Q],Z=W.codingStyleParameters.decompositionLevelsCount;for(;re<=Z;re++){const se=W.resolutions[re],ne=c.components[Q].resolutions[re],ie=N(de,ee,ne,y,se);if(ie!==null){for(;q<s;){const H=h(se,ie,q);return q++,H}q=0}}re=0}Q=0}de=0}throw new e("Out of packets")}}function b(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=r.codingStyleDefaultParameters.layersCount,A=a.Csiz,c=U(r);let y=0,q=0,re=0,Q=0,de=0;this.nextPacket=function(){for(;re<A;++re){const ue=r.components[re],W=c.components[re],Z=ue.codingStyleParameters.decompositionLevelsCount;for(;de<W.maxNumHigh;de++){for(;Q<W.maxNumWide;Q++){for(;q<=Z;q++){const se=ue.resolutions[q],ne=W.resolutions[q],ie=N(Q,de,ne,W,se);if(ie!==null){for(;y<s;){const H=h(se,ie,y);return y++,H}y=0}}q=0}Q=0}de=0}throw new e("Out of packets")}}function N(M,a,o,r,s){const A=M*r.minWidth,c=a*r.minHeight;if(A%o.width!==0||c%o.height!==0)return null;const y=c/o.width*s.precinctParameters.numprecinctswide;return A/o.height+y}function U(M){const a=M.components.length;let o=Number.MAX_VALUE,r=Number.MAX_VALUE,s=0,A=0;const c=new Array(a);for(let y=0;y<a;y++){const q=M.components[y],re=q.codingStyleParameters.decompositionLevelsCount,Q=new Array(re+1);let de=Number.MAX_VALUE,ee=Number.MAX_VALUE,ue=0,W=0,Z=1;for(let se=re;se>=0;--se){const ne=q.resolutions[se],ie=Z*ne.precinctParameters.precinctWidth,H=Z*ne.precinctParameters.precinctHeight;de=Math.min(de,ie),ee=Math.min(ee,H),ue=Math.max(ue,ne.precinctParameters.numprecinctswide),W=Math.max(W,ne.precinctParameters.numprecinctshigh),Q[se]={width:ie,height:H},Z<<=1}o=Math.min(o,de),r=Math.min(r,ee),s=Math.max(s,ue),A=Math.max(A,W),c[y]={resolutions:Q,minWidth:de,minHeight:ee,maxNumWide:ue,maxNumHigh:W}}return{components:c,minWidth:o,minHeight:r,maxNumWide:s,maxNumHigh:A}}function D(M){const a=M.SIZ,o=M.currentTile.index,r=M.tiles[o],s=a.Csiz;for(let c=0;c<s;c++){const y=r.components[c],q=y.codingStyleParameters.decompositionLevelsCount,re=[],Q=[];for(let de=0;de<=q;de++){const ee=g(M,y,de),ue={},W=1<<q-de;ue.trx0=Math.ceil(y.tcx0/W),ue.try0=Math.ceil(y.tcy0/W),ue.trx1=Math.ceil(y.tcx1/W),ue.try1=Math.ceil(y.tcy1/W),ue.resLevel=de,w(M,ue,ee),re.push(ue);let Z;if(de===0)Z={},Z.type="LL",Z.tbx0=Math.ceil(y.tcx0/W),Z.tby0=Math.ceil(y.tcy0/W),Z.tbx1=Math.ceil(y.tcx1/W),Z.tby1=Math.ceil(y.tcy1/W),Z.resolution=ue,u(M,Z,ee),Q.push(Z),ue.subbands=[Z];else{const se=1<<q-de+1,ne=[];Z={},Z.type="HL",Z.tbx0=Math.ceil(y.tcx0/se-.5),Z.tby0=Math.ceil(y.tcy0/se),Z.tbx1=Math.ceil(y.tcx1/se-.5),Z.tby1=Math.ceil(y.tcy1/se),Z.resolution=ue,u(M,Z,ee),Q.push(Z),ne.push(Z),Z={},Z.type="LH",Z.tbx0=Math.ceil(y.tcx0/se),Z.tby0=Math.ceil(y.tcy0/se-.5),Z.tbx1=Math.ceil(y.tcx1/se),Z.tby1=Math.ceil(y.tcy1/se-.5),Z.resolution=ue,u(M,Z,ee),Q.push(Z),ne.push(Z),Z={},Z.type="HH",Z.tbx0=Math.ceil(y.tcx0/se-.5),Z.tby0=Math.ceil(y.tcy0/se-.5),Z.tbx1=Math.ceil(y.tcx1/se-.5),Z.tby1=Math.ceil(y.tcy1/se-.5),Z.resolution=ue,u(M,Z,ee),Q.push(Z),ne.push(Z),ue.subbands=ne}}y.resolutions=re,y.subbands=Q}const A=r.codingStyleDefaultParameters.progressionOrder;switch(A){case 0:r.packetsIterator=new i(M);break;case 1:r.packetsIterator=new x(M);break;case 2:r.packetsIterator=new p(M);break;case 3:r.packetsIterator=new v(M);break;case 4:r.packetsIterator=new b(M);break;default:throw new e(`Unsupported progression order ${A}`)}}function I(M,a,o,r){let s=0,A,c=0,y=!1;function q(ie){for(;c<ie;){const H=a[o+s];s++,y?(A=A<<7|H,c+=7,y=!1):(A=A<<8|H,c+=8),H===255&&(y=!0)}return c-=ie,A>>>c&(1<<ie)-1}function re(ie){return a[o+s-1]===255&&a[o+s]===ie?(Q(1),!0):a[o+s]===255&&a[o+s+1]===ie?(Q(2),!0):!1}function Q(ie){s+=ie}function de(){c=0,y&&(s++,y=!1)}function ee(){if(q(1)===0)return 1;if(q(1)===0)return 2;let ie=q(2);return ie<3?ie+3:(ie=q(5),ie<31?ie+6:(ie=q(7),ie+37))}const ue=M.currentTile.index,W=M.tiles[ue],Z=M.COD.sopMarkerUsed,se=M.COD.ephMarkerUsed,ne=W.packetsIterator;for(;s<r;){de(),Z&&re(145)&&Q(4);const ie=ne.nextPacket();if(!q(1))continue;const H=ie.layerNumber,Y=[];let G;for(let le=0,ce=ie.codeblocks.length;le<ce;le++){G=ie.codeblocks[le];let te=G.precinct;const ge=G.cbx-te.cbxMin,K=G.cby-te.cbyMin;let Se=!1,Oe=!1,Me,_e;if(G.included!==void 0)Se=!!q(1);else{te=G.precinct;let he;if(te.inclusionTree!==void 0)he=te.inclusionTree;else{const De=te.cbxMax-te.cbxMin+1,ye=te.cbyMax-te.cbyMin+1;he=new S(De,ye,H),_e=new m(De,ye),te.inclusionTree=he,te.zeroBitPlanesTree=_e;for(let me=0;me<H;me++)if(q(1)!==0)throw new e("Invalid tag tree")}if(he.reset(ge,K,H))for(;;)if(q(1)){if(Me=!he.nextLevel(),Me){G.included=!0,Se=Oe=!0;break}}else{he.incrementValue(H);break}}if(!Se)continue;if(Oe){for(_e=te.zeroBitPlanesTree,_e.reset(ge,K);;)if(q(1)){if(Me=!_e.nextLevel(),Me)break}else _e.incrementValue();G.zeroBitPlanes=_e.value}const ke=ee();for(;q(1);)G.Lblock++;const oe=(0,d.log2)(ke),Ie=(ke<1<<oe?oe-1:oe)+G.Lblock,Be=q(Ie);Y.push({codeblock:G,codingpasses:ke,dataLength:Be})}for(de(),se&&re(146);Y.length>0;){const le=Y.shift();G=le.codeblock,G.data===void 0&&(G.data=[]),G.data.push({data:a,start:o+s,end:o+s+le.dataLength,codingpasses:le.codingpasses}),s+=le.dataLength}}return s}function B(M,a,o,r,s,A,c,y,q){const re=r.tbx0,Q=r.tby0,de=r.tbx1-r.tbx0,ee=r.codeblocks,ue=r.type.charAt(0)==="H"?1:0,W=r.type.charAt(1)==="H"?a:0;for(let Z=0,se=ee.length;Z<se;++Z){const ne=ee[Z],ie=ne.tbx1_-ne.tbx0_,H=ne.tby1_-ne.tby0_;if(ie===0||H===0||ne.data===void 0)continue;const Y=new R(ie,H,ne.subbandType,ne.zeroBitPlanes,A);let G=2;const le=ne.data;let ce=0,te=0,ge,K,Se;for(ge=0,K=le.length;ge<K;ge++)Se=le[ge],ce+=Se.end-Se.start,te+=Se.codingpasses;const Oe=new Uint8Array(ce);let Me=0;for(ge=0,K=le.length;ge<K;ge++){Se=le[ge];const Re=Se.data.subarray(Se.start,Se.end);Oe.set(Re,Me),Me+=Re.length}const _e=new T.ArithmeticDecoder(Oe,0,ce);for(Y.setDecoder(_e),ge=0;ge<te;ge++){switch(G){case 0:Y.runSignificancePropagationPass();break;case 1:Y.runMagnitudeRefinementPass();break;case 2:Y.runCleanupPass(),y&&Y.checkSegmentationSymbol();break}q&&Y.reset(),G=(G+1)%3}let ke=ne.tbx0_-re+(ne.tby0_-Q)*de;const oe=Y.coefficentsSign,Ie=Y.coefficentsMagnitude,Be=Y.bitsDecoded,he=c?0:.5;let De,ye,me;Me=0;const Pe=r.type!=="LL";for(ge=0;ge<H;ge++){const He=2*(ke/de|0)*(a-de)+ue+W;for(De=0;De<ie;De++){if(ye=Ie[Me],ye!==0){ye=(ye+he)*s,oe[Me]!==0&&(ye=-ye),me=Be[Me];const Xe=Pe?He+(ke<<1):ke;M[Xe]=c&&me>=A?ye:ye*(1<<A-me)}ke++,Me++}ke+=de-ie}}}function _(M,a,o){const r=a.components[o],s=r.codingStyleParameters,A=r.quantizationParameters,c=s.decompositionLevelsCount,y=A.SPqcds,q=A.scalarExpounded,re=A.guardBits,Q=s.segmentationSymbolUsed,de=s.resetContextProbabilities,ee=M.components[o].precision,ue=s.reversibleTransformation,W=ue?new E:new O,Z=[];let se=0;for(let ie=0;ie<=c;ie++){const H=r.resolutions[ie],Y=H.trx1-H.trx0,G=H.try1-H.try0,le=new Float32Array(Y*G);for(let ce=0,te=H.subbands.length;ce<te;ce++){let ge,K;q?(ge=y[se].mu,K=y[se].epsilon,se++):(ge=y[0].mu,K=y[0].epsilon+(ie>0?1-ie:0));const Se=H.subbands[ce],Oe=t[Se.type],Me=ue?1:2**(ee+Oe-K)*(1+ge/2048),_e=re+K-1;B(le,Y,G,Se,Me,_e,ue,Q,de)}Z.push({width:Y,height:G,items:le})}const ne=W.calculate(Z,r.tcx0,r.tcy0);return{left:r.tcx0,top:r.tcy0,width:ne.width,height:ne.height,items:ne.items}}function P(M){const a=M.SIZ,o=M.components,r=a.Csiz,s=[];for(let A=0,c=M.tiles.length;A<c;A++){const y=M.tiles[A],q=[];for(let Y=0;Y<r;Y++)q[Y]=_(M,y,Y);const re=q[0],Q=new Uint8ClampedArray(re.items.length*r),de={left:re.left,top:re.top,width:re.width,height:re.height,items:Q};let ee,ue,W=0,Z,se,ne,ie,H;if(y.codingStyleDefaultParameters.multipleComponentTransform){const Y=r===4,G=q[0].items,le=q[1].items,ce=q[2].items,te=Y?q[3].items:null;ee=o[0].precision-8,ue=(128<<ee)+.5;const ge=y.components[0],K=r-3;if(se=G.length,ge.codingStyleParameters.reversibleTransformation)for(Z=0;Z<se;Z++,W+=K){ne=G[Z]+ue,ie=le[Z],H=ce[Z];const Se=ne-(H+ie>>2);Q[W++]=Se+H>>ee,Q[W++]=Se>>ee,Q[W++]=Se+ie>>ee}else for(Z=0;Z<se;Z++,W+=K)ne=G[Z]+ue,ie=le[Z],H=ce[Z],Q[W++]=ne+1.402*H>>ee,Q[W++]=ne-.34413*ie-.71414*H>>ee,Q[W++]=ne+1.772*ie>>ee;if(Y)for(Z=0,W=3;Z<se;Z++,W+=4)Q[W]=te[Z]+ue>>ee}else for(let Y=0;Y<r;Y++){const G=q[Y].items;for(ee=o[Y].precision-8,ue=(128<<ee)+.5,W=Y,Z=0,se=G.length;Z<se;Z++)Q[W]=G[Z]+ue>>ee,W+=r}s.push(de)}return s}function X(M,a){const r=M.SIZ.Csiz,s=M.tiles[a];for(let A=0;A<r;A++){const c=s.components[A],y=M.currentTile.QCC[A]!==void 0?M.currentTile.QCC[A]:M.currentTile.QCD;c.quantizationParameters=y;const q=M.currentTile.COC[A]!==void 0?M.currentTile.COC[A]:M.currentTile.COD;c.codingStyleParameters=q}s.codingStyleDefaultParameters=M.currentTile.COD}class m{constructor(a,o){const r=(0,d.log2)(Math.max(a,o))+1;this.levels=[];for(let s=0;s<r;s++){const A={width:a,height:o,items:[]};this.levels.push(A),a=Math.ceil(a/2),o=Math.ceil(o/2)}}reset(a,o){let r=0,s=0,A;for(;r<this.levels.length;){A=this.levels[r];const c=a+o*A.width;if(A.items[c]!==void 0){s=A.items[c];break}A.index=c,a>>=1,o>>=1,r++}r--,A=this.levels[r],A.items[A.index]=s,this.currentLevel=r,delete this.value}incrementValue(){const a=this.levels[this.currentLevel];a.items[a.index]++}nextLevel(){let a=this.currentLevel,o=this.levels[a];const r=o.items[o.index];return a--,a<0?(this.value=r,!1):(this.currentLevel=a,o=this.levels[a],o.items[o.index]=r,!0)}}class S{constructor(a,o,r){const s=(0,d.log2)(Math.max(a,o))+1;this.levels=[];for(let A=0;A<s;A++){const c=new Uint8Array(a*o);for(let q=0,re=c.length;q<re;q++)c[q]=r;const y={width:a,height:o,items:c};this.levels.push(y),a=Math.ceil(a/2),o=Math.ceil(o/2)}}reset(a,o,r){let s=0;for(;s<this.levels.length;){const A=this.levels[s],c=a+o*A.width;A.index=c;const y=A.items[c];if(y===255)break;if(y>r)return this.currentLevel=s,this.propagateValues(),!1;a>>=1,o>>=1,s++}return this.currentLevel=s-1,!0}incrementValue(a){const o=this.levels[this.currentLevel];o.items[o.index]=a+1,this.propagateValues()}propagateValues(){let a=this.currentLevel,o=this.levels[a];const r=o.items[o.index];for(;--a>=0;)o=this.levels[a],o.items[o.index]=r}nextLevel(){let a=this.currentLevel,o=this.levels[a];const r=o.items[o.index];return o.items[o.index]=255,a--,a<0?!1:(this.currentLevel=a,o=this.levels[a],o.items[o.index]=r,!0)}}const k=class k{constructor(a,o,r,s,A){this.width=a,this.height=o;let c;r==="HH"?c=k.HHContextLabel:r==="HL"?c=k.HLContextLabel:c=k.LLAndLHContextsLabel,this.contextLabelTable=c;const y=a*o;this.neighborsSignificance=new Uint8Array(y),this.coefficentsSign=new Uint8Array(y);let q;A>14?q=new Uint32Array(y):A>6?q=new Uint16Array(y):q=new Uint8Array(y),this.coefficentsMagnitude=q,this.processingFlags=new Uint8Array(y);const re=new Uint8Array(y);if(s!==0)for(let Q=0;Q<y;Q++)re[Q]=s;this.bitsDecoded=re,this.reset()}setDecoder(a){this.decoder=a}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[k.UNIFORM_CONTEXT]=92,this.contexts[k.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(a,o,r){const s=this.neighborsSignificance,A=this.width,c=this.height,y=o>0,q=o+1<A;let re;a>0&&(re=r-A,y&&(s[re-1]+=16),q&&(s[re+1]+=16),s[re]+=4),a+1<c&&(re=r+A,y&&(s[re-1]+=16),q&&(s[re+1]+=16),s[re]+=4),y&&(s[r-1]+=1),q&&(s[r+1]+=1),s[r]|=128}runSignificancePropagationPass(){const a=this.decoder,o=this.width,r=this.height,s=this.coefficentsMagnitude,A=this.coefficentsSign,c=this.neighborsSignificance,y=this.processingFlags,q=this.contexts,re=this.contextLabelTable,Q=this.bitsDecoded,de=-2,ee=1,ue=2;for(let W=0;W<r;W+=4)for(let Z=0;Z<o;Z++){let se=W*o+Z;for(let ne=0;ne<4;ne++,se+=o){const ie=W+ne;if(ie>=r)break;if(y[se]&=de,s[se]||!c[se])continue;const H=re[c[se]];if(a.readBit(q,H)){const G=this.decodeSignBit(ie,Z,se);A[se]=G,s[se]=1,this.setNeighborsSignificance(ie,Z,se),y[se]|=ue}Q[se]++,y[se]|=ee}}}decodeSignBit(a,o,r){const s=this.width,A=this.height,c=this.coefficentsMagnitude,y=this.coefficentsSign;let q,re,Q,de,ee,ue;de=o>0&&c[r-1]!==0,o+1<s&&c[r+1]!==0?(Q=y[r+1],de?(re=y[r-1],q=1-Q-re):q=1-Q-Q):de?(re=y[r-1],q=1-re-re):q=0;const W=3*q;return de=a>0&&c[r-s]!==0,a+1<A&&c[r+s]!==0?(Q=y[r+s],de?(re=y[r-s],q=1-Q-re+W):q=1-Q-Q+W):de?(re=y[r-s],q=1-re-re+W):q=W,q>=0?(ee=9+q,ue=this.decoder.readBit(this.contexts,ee)):(ee=9-q,ue=this.decoder.readBit(this.contexts,ee)^1),ue}runMagnitudeRefinementPass(){const a=this.decoder,o=this.width,r=this.height,s=this.coefficentsMagnitude,A=this.neighborsSignificance,c=this.contexts,y=this.bitsDecoded,q=this.processingFlags,re=1,Q=2,de=o*r,ee=o*4;for(let ue=0,W;ue<de;ue=W){W=Math.min(de,ue+ee);for(let Z=0;Z<o;Z++)for(let se=ue+Z;se<W;se+=o){if(!s[se]||q[se]&re)continue;let ne=16;q[se]&Q&&(q[se]^=Q,ne=(A[se]&127)===0?15:14);const ie=a.readBit(c,ne);s[se]=s[se]<<1|ie,y[se]++,q[se]|=re}}}runCleanupPass(){const a=this.decoder,o=this.width,r=this.height,s=this.neighborsSignificance,A=this.coefficentsMagnitude,c=this.coefficentsSign,y=this.contexts,q=this.contextLabelTable,re=this.bitsDecoded,Q=this.processingFlags,de=1,ee=2,ue=o,W=o*2,Z=o*3;let se;for(let ne=0;ne<r;ne=se){se=Math.min(ne+4,r);const ie=ne*o,H=ne+3<r;for(let Y=0;Y<o;Y++){const G=ie+Y,le=H&&Q[G]===0&&Q[G+ue]===0&&Q[G+W]===0&&Q[G+Z]===0&&s[G]===0&&s[G+ue]===0&&s[G+W]===0&&s[G+Z]===0;let ce=0,te=G,ge=ne,K;if(le){if(!a.readBit(y,k.RUNLENGTH_CONTEXT)){re[G]++,re[G+ue]++,re[G+W]++,re[G+Z]++;continue}ce=a.readBit(y,k.UNIFORM_CONTEXT)<<1|a.readBit(y,k.UNIFORM_CONTEXT),ce!==0&&(ge=ne+ce,te+=ce*o),K=this.decodeSignBit(ge,Y,te),c[te]=K,A[te]=1,this.setNeighborsSignificance(ge,Y,te),Q[te]|=ee,te=G;for(let Oe=ne;Oe<=ge;Oe++,te+=o)re[te]++;ce++}for(ge=ne+ce;ge<se;ge++,te+=o){if(A[te]||Q[te]&de)continue;const Se=q[s[te]];a.readBit(y,Se)===1&&(K=this.decodeSignBit(ge,Y,te),c[te]=K,A[te]=1,this.setNeighborsSignificance(ge,Y,te),Q[te]|=ee),re[te]++}}}}checkSegmentationSymbol(){const a=this.decoder,o=this.contexts;if((a.readBit(o,k.UNIFORM_CONTEXT)<<3|a.readBit(o,k.UNIFORM_CONTEXT)<<2|a.readBit(o,k.UNIFORM_CONTEXT)<<1|a.readBit(o,k.UNIFORM_CONTEXT))!==10)throw new e("Invalid segmentation symbol")}};Mt(k,"UNIFORM_CONTEXT",17),Mt(k,"RUNLENGTH_CONTEXT",18),Mt(k,"LLAndLHContextsLabel",new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8])),Mt(k,"HLContextLabel",new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8])),Mt(k,"HHContextLabel",new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]));let R=k;class z{constructor(){this.constructor===z&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(a,o,r){let s=a[0];for(let A=1,c=a.length;A<c;A++)s=this.iterate(s,a[A],o,r);return s}extend(a,o,r){let s=o-1,A=o+1,c=o+r-2,y=o+r;a[s--]=a[A++],a[y++]=a[c--],a[s--]=a[A++],a[y++]=a[c--],a[s--]=a[A++],a[y++]=a[c--],a[s]=a[A],a[y]=a[c]}filter(a,o,r){(0,n.unreachable)("Abstract method `filter` called")}iterate(a,o,r,s){const A=a.width,c=a.height;let y=a.items;const q=o.width,re=o.height,Q=o.items;let de,ee,ue,W,Z,se;for(ue=0,de=0;de<c;de++)for(W=de*2*q,ee=0;ee<A;ee++,ue++,W+=2)Q[W]=y[ue];y=a.items=null;const ne=4,ie=new Float32Array(q+2*ne);if(q===1){if(r&1)for(se=0,ue=0;se<re;se++,ue+=q)Q[ue]*=.5}else for(se=0,ue=0;se<re;se++,ue+=q)ie.set(Q.subarray(ue,ue+q),ne),this.extend(ie,ne,q),this.filter(ie,ne,q),Q.set(ie.subarray(ne,ne+q),ue);let H=16;const Y=[];for(de=0;de<H;de++)Y.push(new Float32Array(re+2*ne));let G,le=0;if(a=ne+re,re===1){if(s&1)for(Z=0;Z<q;Z++)Q[Z]*=.5}else for(Z=0;Z<q;Z++){if(le===0){for(H=Math.min(q-Z,H),ue=Z,W=ne;W<a;ue+=q,W++)for(G=0;G<H;G++)Y[G][W]=Q[ue+G];le=H}le--;const ce=Y[le];if(this.extend(ce,ne,re),this.filter(ce,ne,re),le===0)for(ue=Z-H+1,W=ne;W<a;ue+=q,W++)for(G=0;G<H;G++)Q[ue+G]=Y[G][W]}return{width:q,height:re,items:Q}}}class O extends z{filter(a,o,r){const s=r>>1;o|=0;let A,c,y,q;const re=-1.586134342059924,Q=-.052980118572961,de=.882911075530934,ee=.443506852043971,ue=1.230174104914001,W=1/ue;for(A=o-3,c=s+4;c--;A+=2)a[A]*=W;for(A=o-2,y=ee*a[A-1],c=s+3;c--&&(q=ee*a[A+1],a[A]=ue*a[A]-y-q,c--);A+=2)A+=2,y=ee*a[A+1],a[A]=ue*a[A]-y-q;for(A=o-1,y=de*a[A-1],c=s+2;c--&&(q=de*a[A+1],a[A]-=y+q,c--);A+=2)A+=2,y=de*a[A+1],a[A]-=y+q;for(A=o,y=Q*a[A-1],c=s+1;c--&&(q=Q*a[A+1],a[A]-=y+q,c--);A+=2)A+=2,y=Q*a[A+1],a[A]-=y+q;if(s!==0)for(A=o+1,y=re*a[A-1],c=s;c--&&(q=re*a[A+1],a[A]-=y+q,c--);A+=2)A+=2,y=re*a[A+1],a[A]-=y+q}}class E extends z{filter(a,o,r){const s=r>>1;o|=0;let A,c;for(A=o,c=s+1;c--;A+=2)a[A]-=a[A-1]+a[A+1]+2>>2;for(A=o+1,c=s;c--;A+=2)a[A]+=a[A-1]+a[A+1]>>1}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LZWStream=void 0;var n=$(18);class d extends n.DecodeStream{constructor(e,t,l){super(t),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const L=4096,F={earlyChange:l,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(L),dictionaryLengths:new Uint16Array(L),dictionaryPrevCodes:new Uint16Array(L),currentSequence:new Uint8Array(L),currentSequenceLength:0};for(let g=0;g<256;++g)F.dictionaryValues[g]=g,F.dictionaryLengths[g]=1;this.lzwState=F}readBits(e){let t=this.bitsCached,l=this.cachedData;for(;t<e;){const L=this.str.getByte();if(L===-1)return this.eof=!0,null;l=l<<8|L,t+=8}return this.bitsCached=t-=e,this.cachedData=l,this.lastCode=null,l>>>t&(1<<e)-1}readBlock(){let l=1024,L,F,g;const w=this.lzwState;if(!w)return;const u=w.earlyChange;let h=w.nextCode;const i=w.dictionaryValues,x=w.dictionaryLengths,p=w.dictionaryPrevCodes;let v=w.codeLength,b=w.prevCode;const N=w.currentSequence;let U=w.currentSequenceLength,D=0,I=this.bufferLength,B=this.ensureBuffer(this.bufferLength+l);for(L=0;L<512;L++){const _=this.readBits(v),P=U>0;if(_<256)N[0]=_,U=1;else if(_>=258)if(_<h)for(U=x[_],F=U-1,g=_;F>=0;F--)N[F]=i[g],g=p[g];else N[U++]=N[0];else if(_===256){v=9,h=258,U=0;continue}else{this.eof=!0,delete this.lzwState;break}if(P&&(p[h]=b,x[h]=x[b]+1,i[h]=N[0],h++,v=h+u&h+u-1?v:Math.min(Math.log(h+u)/.6931471805599453+1,12)|0),b=_,D+=U,l<D){do l+=512;while(l<D);B=this.ensureBuffer(this.bufferLength+l)}for(F=0;F<U;F++)B[I++]=N[F]}w.nextCode=h,w.codeLength=v,w.prevCode=b,w.currentSequenceLength=U,this.bufferLength=I}}f.LZWStream=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PredictorStream=void 0;var n=$(18),d=$(4),T=$(2);class e extends n.DecodeStream{constructor(l,L,F){if(super(L),!(F instanceof d.Dict))return l;const g=this.predictor=F.get("Predictor")||1;if(g<=1)return l;if(g!==2&&(g<10||g>15))throw new T.FormatError(`Unsupported predictor: ${g}`);this.readBlock=g===2?this.readBlockTiff:this.readBlockPng,this.str=l,this.dict=l.dict;const w=this.colors=F.get("Colors")||1,u=this.bits=F.get("BPC","BitsPerComponent")||8,h=this.columns=F.get("Columns")||1;return this.pixBytes=w*u+7>>3,this.rowBytes=h*w*u+7>>3,this}readBlockTiff(){const l=this.rowBytes,L=this.bufferLength,F=this.ensureBuffer(L+l),g=this.bits,w=this.colors,u=this.str.getBytes(l);if(this.eof=!u.length,this.eof)return;let h=0,i=0,x=0,p=0,v=L,b;if(g===1&&w===1)for(b=0;b<l;++b){let N=u[b]^h;N^=N>>1,N^=N>>2,N^=N>>4,h=(N&1)<<7,F[v++]=N}else if(g===8){for(b=0;b<w;++b)F[v++]=u[b];for(;b<l;++b)F[v]=F[v-w]+u[b],v++}else if(g===16){const N=w*2;for(b=0;b<N;++b)F[v++]=u[b];for(;b<l;b+=2){const U=((u[b]&255)<<8)+(u[b+1]&255)+((F[v-N]&255)<<8)+(F[v-N+1]&255);F[v++]=U>>8&255,F[v++]=U&255}}else{const N=new Uint8Array(w+1),U=(1<<g)-1;let D=0,I=L;const B=this.columns;for(b=0;b<B;++b)for(let _=0;_<w;++_)x<g&&(h=h<<8|u[D++]&255,x+=8),N[_]=N[_]+(h>>x-g)&U,x-=g,i=i<<g|N[_],p+=g,p>=8&&(F[I++]=i>>p-8&255,p-=8);p>0&&(F[I++]=(i<<8-p)+(h&(1<<8-p)-1))}this.bufferLength+=l}readBlockPng(){const l=this.rowBytes,L=this.pixBytes,F=this.str.getByte(),g=this.str.getBytes(l);if(this.eof=!g.length,this.eof)return;const w=this.bufferLength,u=this.ensureBuffer(w+l);let h=u.subarray(w-l,w);h.length===0&&(h=new Uint8Array(l));let i,x=w,p,v;switch(F){case 0:for(i=0;i<l;++i)u[x++]=g[i];break;case 1:for(i=0;i<L;++i)u[x++]=g[i];for(;i<l;++i)u[x]=u[x-L]+g[i]&255,x++;break;case 2:for(i=0;i<l;++i)u[x++]=h[i]+g[i]&255;break;case 3:for(i=0;i<L;++i)u[x++]=(h[i]>>1)+g[i];for(;i<l;++i)u[x]=(h[i]+u[x-L]>>1)+g[i]&255,x++;break;case 4:for(i=0;i<L;++i)p=h[i],v=g[i],u[x++]=p+v;for(;i<l;++i){p=h[i];const b=h[i-L],N=u[x-L],U=N+p-b;let D=U-N;D<0&&(D=-D);let I=U-p;I<0&&(I=-I);let B=U-b;B<0&&(B=-B),v=g[i],D<=I&&D<=B?u[x++]=N+v:I<=B?u[x++]=p+v:u[x++]=b+v}break;default:throw new T.FormatError(`Unsupported predictor: ${F}`)}this.bufferLength+=l}}f.PredictorStream=e},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RunLengthStream=void 0;var n=$(18);class d extends n.DecodeStream{constructor(e,t){super(t),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let t,l=this.bufferLength,L=e[0];if(L<128){if(t=this.ensureBuffer(l+L+1),t[l++]=e[1],L>0){const F=this.str.getBytes(L);t.set(F,l),l+=L}}else{L=257-L;const F=e[1];t=this.ensureBuffer(l+L+1);for(let g=0;g<L;g++)t[l++]=F}this.bufferLength=l}}f.RunLengthStream=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Font=f.ErrorFont=void 0;var n=$(2),d=$(35),T=$(38),e=$(40),t=$(39),l=$(37),L=$(41),F=$(42),g=$(43),w=$(44),u=$(45),h=$(46),i=$(14),x=$(47),p=$(3),v=$(8),b=$(48);const N=[[57344,63743],[1048576,1114109]],U=1e3,D=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],I=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function B(G){if(!G.fontMatrix||G.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const le=.001/G.fontMatrix[0],ce=G.widths;for(const te in ce)ce[te]*=le;G.defaultWidth*=le}function _(G,le,ce){if(G.isInternalFont||G.hasIncludedToUnicodeMap||G.hasEncoding||G.toUnicode instanceof F.IdentityToUnicodeMap||!le||ce.length===0||G.defaultEncoding===l.WinAnsiEncoding)return;for(const Se of ce)if(!re(Se))return;const te=l.WinAnsiEncoding,ge=[],K=(0,t.getGlyphsUnicode)();for(const Se in te){const Oe=te[Se];if(Oe==="")continue;const Me=K[Oe];Me!==void 0&&(ge[Se]=String.fromCharCode(Me))}ge.length>0&&G.toUnicode.amend(ge)}function P(G,le){if(G.isInternalFont||G.hasIncludedToUnicodeMap||le===G.defaultEncoding||G.toUnicode instanceof F.IdentityToUnicodeMap)return;const ce=[],te=(0,t.getGlyphsUnicode)();for(const ge in le){if(G.hasEncoding&&(G.baseEncodingName||G.differences[ge]!==void 0))continue;const K=le[ge],Se=(0,e.getUnicodeForGlyph)(K,te);Se!==-1&&(ce[ge]=String.fromCharCode(Se))}ce.length>0&&G.toUnicode.amend(ce)}function X(G){if(!G.fallbackToUnicode||G.toUnicode instanceof F.IdentityToUnicodeMap)return;const le=[];for(const ce in G.fallbackToUnicode)G.toUnicode.has(ce)||(le[ce]=G.fallbackToUnicode[ce]);le.length>0&&G.toUnicode.amend(le)}class m{constructor(le,ce,te,ge,K,Se,Oe,Me,_e){this.originalCharCode=le,this.fontChar=ce,this.unicode=te,this.accent=ge,this.width=K,this.vmetric=Se,this.operatorListId=Oe,this.isSpace=Me,this.isInFont=_e}get category(){return(0,n.shadow)(this,"category",(0,e.getCharUnicodeCategory)(this.unicode),!0)}}function S(G,le){return(G<<8)+le}function R(G,le,ce){G[le+1]=ce,G[le]=ce>>>8}function z(G,le){const ce=(G<<8)+le;return ce&32768?ce-65536:ce}function O(G,le,ce,te){return(G<<24)+(le<<16)+(ce<<8)+te}function E(G){return String.fromCharCode(G>>8&255,G&255)}function k(G){return G>32767?G=32767:G<-32768&&(G=-32768),String.fromCharCode(G>>8&255,G&255)}function M(G){const le=G.peekBytes(4);return(0,p.readUint32)(le,0)===65536||(0,n.bytesToString)(le)==="true"}function a(G){const le=G.peekBytes(4);return(0,n.bytesToString)(le)==="ttcf"}function o(G){const le=G.peekBytes(4);return(0,n.bytesToString)(le)==="OTTO"}function r(G){const le=G.peekBytes(2);return le[0]===37&&le[1]===33||le[0]===128&&le[1]===1}function s(G){const le=G.peekBytes(4);return le[0]>=1&&le[3]>=1&&le[3]<=4}function A(G,{type:le,subtype:ce,composite:te}){let ge,K;return M(G)||a(G)?ge=te?"CIDFontType2":"TrueType":o(G)?ge=te?"CIDFontType2":"OpenType":r(G)?te?ge="CIDFontType0":ge=le==="MMType1"?"MMType1":"Type1":s(G)?te?(ge="CIDFontType0",K="CIDFontType0C"):(ge=le==="MMType1"?"MMType1":"Type1",K="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ge=le,K=ce),[ge,K]}function c(G,le){for(const ce in le)G[+ce]=le[ce]}function y(G,le,ce){const te=[];let ge;for(let K=0,Se=G.length;K<Se;K++)ge=(0,e.getUnicodeForGlyph)(G[K],le),ge!==-1&&(te[K]=ge);for(const K in ce)ge=(0,e.getUnicodeForGlyph)(ce[K],le),ge!==-1&&(te[+K]=ge);return te}function q(G){return G.platform===1&&G.encoding===0&&G.language===0}function re(G){return G.platform===3&&G.encoding===1&&G.language===1033}function Q(G,le,ce=!1){switch(le.length){case 1:return le.charCodeAt(0);case 2:return le.charCodeAt(0)<<8|le.charCodeAt(1)}const te=`Unsupported CID string (charCode ${G}): "${le}".`;if(ce)throw new n.FormatError(te);return(0,n.warn)(te),le}function de(G,le,ce,te){const ge=Object.create(null),K=new Map,Se=[],Oe=new Set;let Me=0,ke=N[Me][0],oe=N[Me][1];const Ie=Be=>N[0][0]<=Be&&Be<=N[0][1]||N[1][0]<=Be&&Be<=N[1][1];for(let Be in G){Be|=0;let he=G[Be];if(!le(he))continue;if(ke>oe){if(Me++,Me>=N.length){(0,n.warn)("Ran out of space in font private use area.");break}ke=N[Me][0],oe=N[Me][1]}const De=ke++;he===0&&(he=ce);let ye=te.get(Be);typeof ye=="string"&&(ye=ye.codePointAt(0)),ye&&!Ie(ye)&&!Oe.has(he)&&(K.set(ye,he),Oe.add(he)),ge[De]=he,Se[Be]=De}return{toFontChar:Se,charCodeToGlyphId:ge,toUnicodeExtraMap:K,nextAvailableFontCharCode:ke}}function ee(G,le,ce){const te=[];for(const Se in G)G[Se]>=ce||te.push({fontCharCode:Se|0,glyphId:G[Se]});if(le)for(const[Se,Oe]of le)Oe>=ce||te.push({fontCharCode:Se,glyphId:Oe});te.length===0&&te.push({fontCharCode:0,glyphId:0}),te.sort(function(Oe,Me){return Oe.fontCharCode-Me.fontCharCode});const ge=[],K=te.length;for(let Se=0;Se<K;){const Oe=te[Se].fontCharCode,Me=[te[Se].glyphId];++Se;let _e=Oe;for(;Se<K&&_e+1===te[Se].fontCharCode&&(Me.push(te[Se].glyphId),++_e,++Se,_e!==65535););ge.push([Oe,_e,Me])}return ge}function ue(G,le,ce){const te=ee(G,le,ce),ge=te.at(-1)[1]>65535?2:1;let K="\0\0"+E(ge)+"\0\0"+(0,n.string32)(4+ge*8),Se,Oe,Me,_e;for(Se=te.length-1;Se>=0&&!(te[Se][0]<=65535);--Se);const ke=Se+1;te[Se][0]<65535&&te[Se][1]===65535&&(te[Se][1]=65534);const oe=te[Se][1]<65535?1:0,Ie=ke+oe,Be=x.OpenTypeFileBuilder.getSearchParams(Ie,2);let he="",De="",ye="",me="",Pe="",Re=0,He,Xe,Fe,ae;for(Se=0,Oe=ke;Se<Oe;Se++){He=te[Se],Xe=He[0],Fe=He[1],he+=E(Xe),De+=E(Fe),ae=He[2];let xe=!0;for(Me=1,_e=ae.length;Me<_e;++Me)if(ae[Me]!==ae[Me-1]+1){xe=!1;break}if(xe){const Te=ae[0];ye+=E(Te-Xe&65535),me+=E(0)}else{const Te=(Ie-Se)*2+Re*2;for(Re+=Fe-Xe+1,ye+=E(0),me+=E(Te),Me=0,_e=ae.length;Me<_e;++Me)Pe+=E(ae[Me])}}oe>0&&(De+="",he+="",ye+="\0",me+="\0\0");const Ae="\0\0"+E(2*Ie)+E(Be.range)+E(Be.entry)+E(Be.rangeShift)+De+"\0\0"+he+ye+me+Pe;let Le="",Ee="";if(ge>1){for(K+=`\0\0
`+(0,n.string32)(4+ge*8+4+Ae.length),Le="",Se=0,Oe=te.length;Se<Oe;Se++){He=te[Se],Xe=He[0],ae=He[2];let xe=ae[0];for(Me=1,_e=ae.length;Me<_e;++Me)ae[Me]!==ae[Me-1]+1&&(Fe=He[0]+Me-1,Le+=(0,n.string32)(Xe)+(0,n.string32)(Fe)+(0,n.string32)(xe),Xe=Fe+1,xe=ae[Me]);Le+=(0,n.string32)(Xe)+(0,n.string32)(He[1])+(0,n.string32)(xe)}Ee="\0\f\0\0"+(0,n.string32)(Le.length+16)+"\0\0\0\0"+(0,n.string32)(Le.length/12)}return K+"\0"+E(Ae.length+4)+Ae+Ee+Le}function W(G,le){le.pos=(le.start||0)+G.offset;const ce=le.getUint16();le.skip(60);const te=le.getUint16();if(ce<4&&te&768)return!1;const ge=le.getUint16(),K=le.getUint16();return ge>K||(le.skip(6),le.getUint16()===0)?!1:(G.data[8]=G.data[9]=0,!0)}function Z(G,le,ce){ce||(ce={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let te=0,ge=0,K=0,Se=0,Oe=null,Me=0,_e=-1;if(le){for(let me in le)if(me|=0,(Oe>me||!Oe)&&(Oe=me),Me<me&&(Me=me),_e=(0,e.getUnicodeRangeFor)(me,_e),_e<32)te|=1<<_e;else if(_e<64)ge|=1<<_e-32;else if(_e<96)K|=1<<_e-64;else if(_e<123)Se|=1<<_e-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");Me>65535&&(Me=65535)}else Oe=0,Me=255;const ke=G.bbox||[0,0,0,0],oe=ce.unitsPerEm||1/(G.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Ie=G.ascentScaled?1:oe/U,Be=ce.ascent||Math.round(Ie*(G.ascent||ke[3]));let he=ce.descent||Math.round(Ie*(G.descent||ke[1]));he>0&&G.descent>0&&ke[1]<0&&(he=-he);const De=ce.yMax||Be,ye=-ce.yMin||-he;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(G.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(te)+(0,n.string32)(ge)+(0,n.string32)(K)+(0,n.string32)(Se)+"*21*"+E(G.italicAngle?1:0)+E(Oe||G.firstChar)+E(Me||G.lastChar)+E(Be)+E(he)+"\0d"+E(De)+E(ye)+"\0\0\0\0\0\0\0\0"+E(G.xHeight)+E(G.capHeight)+E(0)+E(Oe||G.firstChar)+"\0"}function se(G){const le=Math.floor(G.italicAngle*65536);return"\0\0\0"+(0,n.string32)(le)+"\0\0\0\0"+(0,n.string32)(G.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function ne(G){return G.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ie(G,le){le||(le=[[],[]]);const ce=[le[0][0]||"Original licence",le[0][1]||G,le[0][2]||"Unknown",le[0][3]||"uniqueID",le[0][4]||G,le[0][5]||"Version 0.11",le[0][6]||ne(G),le[0][7]||"Unknown",le[0][8]||"Unknown",le[0][9]||"Unknown"],te=[];let ge,K,Se,Oe,Me;for(ge=0,K=ce.length;ge<K;ge++){Me=le[1][ge]||ce[ge];const ye=[];for(Se=0,Oe=Me.length;Se<Oe;Se++)ye.push(E(Me.charCodeAt(Se)));te.push(ye.join(""))}const _e=[ce,te],ke=["\0","\0"],oe=["\0\0","\0"],Ie=["\0\0","	"],Be=ce.length*ke.length;let he="\0\0"+E(Be)+E(Be*12+6),De=0;for(ge=0,K=ke.length;ge<K;ge++){const ye=_e[ge];for(Se=0,Oe=ye.length;Se<Oe;Se++){Me=ye[Se];const me=ke[ge]+oe[ge]+Ie[ge]+E(Se)+E(Me.length)+E(De);he+=me,De+=Me.length}}return he+=ce.join("")+te.join(""),he}class H{constructor(le,ce,te){var _e;this.name=le,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=te.loadedName,this.isType3Font=te.isType3Font,this.missingFile=!1,this.cssFontInfo=te.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let ge=!!(te.flags&T.FontFlags.Serif);if(!ge&&!te.isSimulatedFlags){const ke=le.replaceAll(/[,_]/g,"-").split("-")[0],oe=(0,L.getSerifFonts)();for(const Ie of ke.split("+"))if(oe[Ie]){ge=!0;break}}this.isSerifFont=ge,this.isSymbolicFont=!!(te.flags&T.FontFlags.Symbolic),this.isMonospace=!!(te.flags&T.FontFlags.FixedPitch);let{type:K,subtype:Se}=te;this.type=K,this.subtype=Se,this.systemFontInfo=te.systemFontInfo;const Oe=le.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!Oe,this.isInvalidPDFjsFont?this.fallbackName=Oe[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(_e=this.systemFontInfo)!=null&&_e.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=te.differences,this.widths=te.widths,this.defaultWidth=te.defaultWidth,this.composite=te.composite,this.cMap=te.cMap,this.capHeight=te.capHeight/U,this.ascent=te.ascent/U,this.descent=te.descent/U,this.lineHeight=this.ascent-this.descent,this.fontMatrix=te.fontMatrix,this.bbox=te.bbox,this.defaultEncoding=te.defaultEncoding,this.toUnicode=te.toUnicode,this.toFontChar=[],te.type==="Type3"){for(let ke=0;ke<256;ke++)this.toFontChar[ke]=this.differences[ke]||te.defaultEncoding[ke];return}if(this.cidEncoding=te.cidEncoding||"",this.vertical=!!te.vertical,this.vertical&&(this.vmetrics=te.vmetrics,this.defaultVMetrics=te.defaultVMetrics),!ce||ce.isEmpty){ce&&(0,n.warn)('Font file is empty in "'+le+'" ('+this.loadedName+")"),this.fallbackToSystemFont(te);return}[K,Se]=A(ce,te),(K!==this.type||Se!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${K}/${Se}.`);let Me;try{switch(K){case"MMType1":(0,n.info)("MMType1 font ("+le+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const ke=Se==="Type1C"||Se==="CIDFontType0C"?new g.CFFFont(ce,te):new b.Type1Font(le,ce,te);B(te),Me=this.convert(le,ke,te);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Me=this.checkAndRepair(le,ce,te),this.isOpenType&&(B(te),K="OpenType");break;default:throw new n.FormatError(`Font ${K} is not supported`)}}catch(ke){(0,n.warn)(ke),this.fallbackToSystemFont(te);return}X(te),this.data=Me,this.type=K,this.subtype=Se,this.fontMatrix=te.fontMatrix,this.widths=te.widths,this.defaultWidth=te.defaultWidth,this.toUnicode=te.toUnicode,this.seacMap=te.seacMap}get renderer(){const le=w.FontRendererFactory.create(this,T.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",le)}exportData(le=!1){const ce=le?[...D,...I]:D,te=Object.create(null);let ge,K;for(ge of ce)K=this[ge],K!==void 0&&(te[ge]=K);return te}fallbackToSystemFont(le){this.missingFile=!0;const{name:ce,type:te}=this;let ge=(0,T.normalizeFontName)(ce);const K=(0,L.getStdFontMap)(),Se=(0,L.getNonStdFontMap)(),Oe=!!K[ge],Me=!!(Se[ge]&&K[Se[ge]]);ge=K[ge]||Se[ge]||ge;const ke=(0,u.getFontBasicMetrics)()[ge];ke&&(isNaN(this.ascent)&&(this.ascent=ke.ascent/U),isNaN(this.descent)&&(this.descent=ke.descent/U),isNaN(this.capHeight)&&(this.capHeight=ke.capHeight/U)),this.bold=/bold/gi.test(ge),this.italic=/oblique|italic/gi.test(ge),this.black=/Black/g.test(ce);const oe=/Narrow/g.test(ce);if(this.remeasure=(!Oe||oe)&&Object.keys(this.widths).length>0,(Oe||Me)&&te==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Ie=le.cidToGidMap,Be=[];if(c(Be,(0,L.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(ce)?c(Be,(0,L.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(ce)&&c(Be,(0,L.getSupplementalGlyphMapForCalibri)()),Ie){for(const he in Be){const De=Be[he];Ie[De]!==void 0&&(Be[+he]=Ie[De])}Ie.length!==this.toUnicode.length&&le.hasIncludedToUnicodeMap&&this.toUnicode instanceof F.IdentityToUnicodeMap&&this.toUnicode.forEach(function(he,De){const ye=Be[he];Ie[ye]===void 0&&(Be[+he]=De)})}this.toUnicode instanceof F.IdentityToUnicodeMap||this.toUnicode.forEach(function(he,De){Be[+he]=De}),this.toFontChar=Be,this.toUnicode=new F.ToUnicodeMap(Be)}else if(/Symbol/i.test(ge))this.toFontChar=y(l.SymbolSetEncoding,(0,t.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ge))this.toFontChar=y(l.ZapfDingbatsEncoding,(0,t.getDingbatsGlyphsUnicode)(),this.differences);else if(Oe){const Ie=y(this.defaultEncoding,(0,t.getGlyphsUnicode)(),this.differences);te==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof F.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Be,he){Ie[+Be]=he}),this.toFontChar=Ie}else{const Ie=(0,t.getGlyphsUnicode)(),Be=[];this.toUnicode.forEach((he,De)=>{if(!this.composite){const ye=this.differences[he]||this.defaultEncoding[he],me=(0,e.getUnicodeForGlyph)(ye,Ie);me!==-1&&(De=me)}Be[+he]=De}),this.composite&&this.toUnicode instanceof F.IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(ce)&&c(Be,(0,L.getGlyphMapForStandardFonts)()),this.toFontChar=Be}X(le),this.loadedName=ge.split("-")[0]}checkAndRepair(le,ce,te){var lt,yt,Tt;const ge=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function K(Qe,Je){const nt=Object.create(null);nt["OS/2"]=null,nt.cmap=null,nt.head=null,nt.hhea=null,nt.hmtx=null,nt.maxp=null,nt.name=null,nt.post=null;for(let st=0;st<Je;st++){const ct=Se(Qe);ge.includes(ct.tag)&&ct.length!==0&&(nt[ct.tag]=ct)}return nt}function Se(Qe){const Je=Qe.getString(4),nt=Qe.getInt32()>>>0,st=Qe.getInt32()>>>0,ct=Qe.getInt32()>>>0,xt=Qe.pos;Qe.pos=Qe.start||0,Qe.skip(st);const ut=Qe.getBytes(ct);return Qe.pos=xt,Je==="head"&&(ut[8]=ut[9]=ut[10]=ut[11]=0,ut[17]|=32),{tag:Je,checksum:nt,length:ct,offset:st,data:ut}}function Oe(Qe){return{version:Qe.getString(4),numTables:Qe.getUint16(),searchRange:Qe.getUint16(),entrySelector:Qe.getUint16(),rangeShift:Qe.getUint16()}}function Me(Qe){const Je=Qe.getString(4);(0,n.assert)(Je==="ttcf","Must be a TrueType Collection font.");const nt=Qe.getUint16(),st=Qe.getUint16(),ct=Qe.getInt32()>>>0,xt=[];for(let at=0;at<ct;at++)xt.push(Qe.getInt32()>>>0);const ut={ttcTag:Je,majorVersion:nt,minorVersion:st,numFonts:ct,offsetTable:xt};switch(nt){case 1:return ut;case 2:return ut.dsigTag=Qe.getInt32()>>>0,ut.dsigLength=Qe.getInt32()>>>0,ut.dsigOffset=Qe.getInt32()>>>0,ut}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${nt}.`)}function _e(Qe,Je){var ut;const{numFonts:nt,offsetTable:st}=Me(Qe),ct=Je.split("+");let xt;for(let at=0;at<nt;at++){Qe.pos=(Qe.start||0)+st[at];const gt=Oe(Qe),At=K(Qe,gt.numTables);if(!At.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const[Rt]=ye(At.name);for(let vt=0,St=Rt.length;vt<St;vt++)for(let It=0,pt=Rt[vt].length;It<pt;It++){const _t=(ut=Rt[vt][It])==null?void 0:ut.replaceAll(/\s/g,"");if(_t){if(_t===Je)return{header:gt,tables:At};if(!(ct.length<2))for(const dt of ct)_t===dt&&(xt={name:dt,header:gt,tables:At})}}}if(xt)return(0,n.warn)(`TrueType Collection does not contain "${Je}" font, falling back to "${xt.name}" font instead.`),{header:xt.header,tables:xt.tables};throw new n.FormatError(`TrueType Collection does not contain "${Je}" font.`)}function ke(Qe,Je,nt,st){if(!Qe)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let ct,xt=(Je.start||0)+Qe.offset;Je.pos=xt,Je.skip(2);const ut=Je.getUint16();let at,gt=!1;for(let pt=0;pt<ut;pt++){const _t=Je.getUint16(),dt=Je.getUint16(),kt=Je.getInt32()>>>0;let Pt=!1;if(!((at==null?void 0:at.platformId)===_t&&(at==null?void 0:at.encodingId)===dt)){if(_t===0&&(dt===0||dt===1||dt===3))Pt=!0;else if(_t===1&&dt===0)Pt=!0;else if(_t===3&&dt===1&&(st||!at))Pt=!0,nt||(gt=!0);else if(nt&&_t===3&&dt===0){Pt=!0;let Xt=!0;if(pt<ut-1){const Et=Je.peekBytes(2);S(Et[0],Et[1])<_t&&(Xt=!1)}Xt&&(gt=!0)}if(Pt&&(at={platformId:_t,encodingId:dt,offset:kt}),gt)break}}if(at&&(Je.pos=xt+at.offset),!at||Je.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const At=Je.getUint16();let Rt=!1;const vt=[];let St,It;if(At===0){for(Je.skip(4),St=0;St<256;St++){const pt=Je.getByte();pt&&vt.push({charCode:St,glyphId:pt})}Rt=!0}else if(At===2){Je.skip(4);const pt=[];let _t=0;for(let kt=0;kt<256;kt++){const Pt=Je.getUint16()>>3;pt.push(Pt),_t=Math.max(Pt,_t)}const dt=[];for(let kt=0;kt<=_t;kt++)dt.push({firstCode:Je.getUint16(),entryCount:Je.getUint16(),idDelta:z(Je.getByte(),Je.getByte()),idRangePos:Je.pos+Je.getUint16()});for(let kt=0;kt<256;kt++)if(pt[kt]===0)Je.pos=dt[0].idRangePos+2*kt,It=Je.getUint16(),vt.push({charCode:kt,glyphId:It});else{const Pt=dt[pt[kt]];for(St=0;St<Pt.entryCount;St++){const Xt=(kt<<8)+St+Pt.firstCode;Je.pos=Pt.idRangePos+2*St,It=Je.getUint16(),It!==0&&(It=(It+Pt.idDelta)%65536),vt.push({charCode:Xt,glyphId:It})}}}else if(At===4){Je.skip(4);const pt=Je.getUint16()>>1;Je.skip(6);const _t=[];let dt;for(dt=0;dt<pt;dt++)_t.push({end:Je.getUint16()});for(Je.skip(2),dt=0;dt<pt;dt++)_t[dt].start=Je.getUint16();for(dt=0;dt<pt;dt++)_t[dt].delta=Je.getUint16();let kt=0,Pt;for(dt=0;dt<pt;dt++){ct=_t[dt];const Et=Je.getUint16();if(!Et){ct.offsetIndex=-1;continue}Pt=(Et>>1)-(pt-dt),ct.offsetIndex=Pt,kt=Math.max(kt,Pt+ct.end-ct.start+1)}const Xt=[];for(St=0;St<kt;St++)Xt.push(Je.getUint16());for(dt=0;dt<pt;dt++){ct=_t[dt],xt=ct.start;const Et=ct.end,Ct=ct.delta;for(Pt=ct.offsetIndex,St=xt;St<=Et;St++)St!==65535&&(It=Pt<0?St:Xt[Pt+St-xt],It=It+Ct&65535,vt.push({charCode:St,glyphId:It}))}}else if(At===6){Je.skip(4);const pt=Je.getUint16(),_t=Je.getUint16();for(St=0;St<_t;St++){It=Je.getUint16();const dt=pt+St;vt.push({charCode:dt,glyphId:It})}}else if(At===12){Je.skip(10);const pt=Je.getInt32()>>>0;for(St=0;St<pt;St++){const _t=Je.getInt32()>>>0,dt=Je.getInt32()>>>0;let kt=Je.getInt32()>>>0;for(let Pt=_t;Pt<=dt;Pt++)vt.push({charCode:Pt,glyphId:kt++})}}else return(0,n.warn)("cmap table has unsupported format: "+At),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};vt.sort(function(pt,_t){return pt.charCode-_t.charCode});for(let pt=1;pt<vt.length;pt++)vt[pt-1].charCode===vt[pt].charCode&&(vt.splice(pt,1),pt--);return{platformId:at.platformId,encodingId:at.encodingId,mappings:vt,hasShortCmap:Rt}}function oe(Qe,Je,nt,st,ct,xt){if(!Je){nt&&(nt.data=null);return}Qe.pos=(Qe.start||0)+Je.offset,Qe.pos+=4,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2;const ut=Qe.getUint16();Qe.pos+=8,Qe.pos+=2;let at=Qe.getUint16();ut!==0&&(S(st.data[44],st.data[45])&2||(Je.data[22]=0,Je.data[23]=0)),at>ct&&((0,n.info)(`The numOfMetrics (${at}) should not be greater than the numGlyphs (${ct}).`),at=ct,Je.data[34]=(at&65280)>>8,Je.data[35]=at&255);const At=ct-at-(nt.length-at*4>>1);if(At>0){const Rt=new Uint8Array(nt.length+At*2);Rt.set(nt.data),xt&&(Rt[nt.length]=nt.data[2],Rt[nt.length+1]=nt.data[3]),nt.data=Rt}}function Ie(Qe,Je,nt,st,ct,xt){const ut={length:0,sizeOfInstructions:0};if(Je<0||Je>=Qe.length||nt>Qe.length||nt-Je<=12)return ut;const at=Qe.subarray(Je,nt),gt=z(at[2],at[3]),At=z(at[4],at[5]),Rt=z(at[6],at[7]),vt=z(at[8],at[9]);gt>Rt&&(R(at,2,Rt),R(at,6,gt)),At>vt&&(R(at,4,vt),R(at,8,At));const St=z(at[0],at[1]);if(St<0)return St<-1||(st.set(at,ct),ut.length=at.length),ut;let It,pt=10,_t=0;for(It=0;It<St;It++)_t=(at[pt]<<8|at[pt+1])+1,pt+=2;const dt=pt,kt=at[pt]<<8|at[pt+1];ut.sizeOfInstructions=kt,pt+=2+kt;const Pt=pt;let Xt=0;for(It=0;It<_t;It++){const Ct=at[pt++];Ct&192&&(at[pt-1]=Ct&63);let Nt=2;Ct&2?Nt=1:Ct&16&&(Nt=0);let Ut=2;Ct&4?Ut=1:Ct&32&&(Ut=0);const Vt=Nt+Ut;if(Xt+=Vt,Ct&8){const nn=at[pt++];nn===0&&(at[pt-1]^=8),It+=nn,Xt+=nn*Vt}}if(Xt===0)return ut;let Et=pt+Xt;return Et>at.length?ut:!xt&&kt>0?(st.set(at.subarray(0,dt),ct),st.set([0,0],ct+dt),st.set(at.subarray(Pt,Et),ct+dt+2),Et-=kt,at.length-Et>3&&(Et=Et+3&-4),ut.length=Et,ut):at.length-Et>3?(Et=Et+3&-4,st.set(at.subarray(0,Et),ct),ut.length=Et,ut):(st.set(at,ct),ut.length=at.length,ut)}function Be(Qe,Je,nt){const st=Qe.data,ct=O(st[0],st[1],st[2],st[3]);ct>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+ct),st[0]=0,st[1]=1,st[2]=0,st[3]=0);const xt=S(st[50],st[51]);if(xt<0||xt>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+xt);const ut=Je+1;if(nt===ut<<1)st[50]=0,st[51]=0;else if(nt===ut<<2)st[50]=0,st[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+xt)}}function he(Qe,Je,nt,st,ct,xt,ut){let at,gt,At;st?(at=4,gt=function(Nt,Ut){return Nt[Ut]<<24|Nt[Ut+1]<<16|Nt[Ut+2]<<8|Nt[Ut+3]},At=function(Nt,Ut,Vt){Nt[Ut]=Vt>>>24&255,Nt[Ut+1]=Vt>>16&255,Nt[Ut+2]=Vt>>8&255,Nt[Ut+3]=Vt&255}):(at=2,gt=function(Nt,Ut){return Nt[Ut]<<9|Nt[Ut+1]<<1},At=function(Nt,Ut,Vt){Nt[Ut]=Vt>>9&255,Nt[Ut+1]=Vt>>1&255});const Rt=xt?nt+1:nt,vt=at*(1+Rt),St=new Uint8Array(vt);St.set(Qe.data.subarray(0,vt)),Qe.data=St;const It=Je.data,pt=It.length,_t=new Uint8Array(pt);let dt,kt;const Pt=[];for(dt=0,kt=0;dt<nt+1;dt++,kt+=at){let Ct=gt(St,kt);Ct>pt&&(Ct=pt),Pt.push({index:dt,offset:Ct,endOffset:0})}for(Pt.sort((Ct,Nt)=>Ct.offset-Nt.offset),dt=0;dt<nt;dt++)Pt[dt].endOffset=Pt[dt+1].offset;for(Pt.sort((Ct,Nt)=>Ct.index-Nt.index),dt=0;dt<nt;dt++){const{offset:Ct,endOffset:Nt}=Pt[dt];if(Ct!==0||Nt!==0)break;const Ut=Pt[dt+1].offset;if(Ut!==0){Pt[dt].endOffset=Ut;break}}const Xt=Object.create(null);let Et=0;for(At(St,0,Et),dt=0,kt=at;dt<nt;dt++,kt+=at){const Ct=Ie(It,Pt[dt].offset,Pt[dt].endOffset,_t,Et,ct),Nt=Ct.length;Nt===0&&(Xt[dt]=!0),Ct.sizeOfInstructions>ut&&(ut=Ct.sizeOfInstructions),Et+=Nt,At(St,kt,Et)}if(Et===0){const Ct=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(dt=0,kt=at;dt<Rt;dt++,kt+=at)At(St,kt,Ct.length);Je.data=Ct}else if(xt){const Ct=gt(St,at);_t.length>Ct+Et?Je.data=_t.subarray(0,Ct+Et):(Je.data=new Uint8Array(Ct+Et),Je.data.set(_t.subarray(0,Et))),Je.data.set(_t.subarray(0,Ct),Et),At(Qe.data,St.length-at,Et+Ct)}else Je.data=_t.subarray(0,Et);return{missingGlyphs:Xt,maxSizeOfInstructions:ut}}function De(Qe,Je,nt){const st=(ce.start||0)+Qe.offset;ce.pos=st;const ct=Qe.length,xt=st+ct,ut=ce.getInt32();ce.skip(28);let at,gt=!0,At;switch(ut){case 65536:at=T.MacStandardGlyphOrdering;break;case 131072:const Rt=ce.getUint16();if(Rt!==nt){gt=!1;break}const vt=[];for(At=0;At<Rt;++At){const pt=ce.getUint16();if(pt>=32768){gt=!1;break}vt.push(pt)}if(!gt)break;const St=[],It=[];for(;ce.pos<xt;){const pt=ce.getByte();for(It.length=pt,At=0;At<pt;++At)It[At]=String.fromCharCode(ce.getByte());St.push(It.join(""))}for(at=[],At=0;At<Rt;++At){const pt=vt[At];if(pt<258){at.push(T.MacStandardGlyphOrdering[pt]);continue}at.push(St[pt-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+ut),gt=!1,Je.defaultEncoding&&(at=Je.defaultEncoding);break}return Je.glyphNames=at,gt}function ye(Qe){const Je=(ce.start||0)+Qe.offset;ce.pos=Je;const nt=[[],[]],st=[],ct=Qe.length,xt=Je+ct;if(ce.getUint16()!==0||ct<6)return[nt,st];const gt=ce.getUint16(),At=ce.getUint16(),Rt=12;let vt,St;for(vt=0;vt<gt&&ce.pos+Rt<=xt;vt++){const It={platform:ce.getUint16(),encoding:ce.getUint16(),language:ce.getUint16(),name:ce.getUint16(),length:ce.getUint16(),offset:ce.getUint16()};(q(It)||re(It))&&st.push(It)}for(vt=0,St=st.length;vt<St;vt++){const It=st[vt];if(It.length<=0)continue;const pt=Je+At+It.offset;if(pt+It.length>xt)continue;ce.pos=pt;const _t=It.name;if(It.encoding){let dt="";for(let kt=0,Pt=It.length;kt<Pt;kt+=2)dt+=String.fromCharCode(ce.getUint16());nt[1][_t]=dt}else nt[0][_t]=ce.getString(It.length)}return[nt,st]}const me=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Pe(Qe,Je){let nt=Qe.data,st=0,ct,xt,ut,at,gt,At=0,Rt=0;const vt=[],St=[],It=[];let pt=Je.tooComplexToFollowFunctions,_t=!1,dt=0,kt=0;for(let Xt=nt.length;st<Xt;){const Et=nt[st++];if(Et===64)if(xt=nt[st++],_t||kt)st+=xt;else for(ct=0;ct<xt;ct++)vt.push(nt[st++]);else if(Et===65)if(xt=nt[st++],_t||kt)st+=xt*2;else for(ct=0;ct<xt;ct++)ut=nt[st++],vt.push(ut<<8|nt[st++]);else if((Et&248)===176)if(xt=Et-176+1,_t||kt)st+=xt;else for(ct=0;ct<xt;ct++)vt.push(nt[st++]);else if((Et&248)===184)if(xt=Et-184+1,_t||kt)st+=xt*2;else for(ct=0;ct<xt;ct++)ut=nt[st++],vt.push(ut<<8|nt[st++]);else if(Et===43&&!pt){if(!_t&&!kt){if(at=vt.at(-1),isNaN(at))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(Je.functionsUsed[at]=!0,at in Je.functionsStackDeltas){const Ct=vt.length+Je.functionsStackDeltas[at];if(Ct<0){(0,n.warn)("TT: CALL invalid functions stack delta."),Je.hintsValid=!1;return}vt.length=Ct}else if(at in Je.functionsDefined&&!It.includes(at)){if(St.push({data:nt,i:st,stackTop:vt.length-1}),It.push(at),gt=Je.functionsDefined[at],!gt){(0,n.warn)("TT: CALL non-existent function"),Je.hintsValid=!1;return}nt=gt.data,st=gt.i}}}else if(Et===44&&!pt)(_t||kt)&&((0,n.warn)("TT: nested FDEFs not allowed"),pt=!0),_t=!0,Rt=st,at=vt.pop(),Je.functionsDefined[at]={data:nt,i:st};else if(Et===45)if(_t)_t=!1,At=st;else{if(gt=St.pop(),!gt){(0,n.warn)("TT: ENDF bad stack"),Je.hintsValid=!1;return}at=It.pop(),nt=gt.data,st=gt.i,Je.functionsStackDeltas[at]=vt.length-gt.stackTop}else if(Et===137)(_t||kt)&&((0,n.warn)("TT: nested IDEFs not allowed"),pt=!0),_t=!0,Rt=st;else if(Et===88)++dt;else if(Et===27)kt=dt;else if(Et===89)kt===dt&&(kt=0),--dt;else if(Et===28&&!_t&&!kt){const Ct=vt.at(-1);Ct>0&&(st+=Ct-1)}if(!_t&&!kt){let Ct=0;for(Et<=142?Ct=me[Et]:Et>=192&&Et<=223?Ct=-1:Et>=224&&(Ct=-2),Et>=113&&Et<=117&&(xt=vt.pop(),isNaN(xt)||(Ct=-xt*2));Ct<0&&vt.length>0;)vt.pop(),Ct++;for(;Ct>0;)vt.push(NaN),Ct--}}Je.tooComplexToFollowFunctions=pt;const Pt=[nt];st>nt.length&&Pt.push(new Uint8Array(st-nt.length)),Rt>At&&((0,n.warn)("TT: complementing a missing function tail"),Pt.push(new Uint8Array([34,45]))),He(Qe,Pt)}function Re(Qe,Je){if(!Qe.tooComplexToFollowFunctions){if(Qe.functionsDefined.length>Je){(0,n.warn)("TT: more functions defined than expected"),Qe.hintsValid=!1;return}for(let nt=0,st=Qe.functionsUsed.length;nt<st;nt++){if(nt>Je){(0,n.warn)("TT: invalid function id: "+nt),Qe.hintsValid=!1;return}if(Qe.functionsUsed[nt]&&!Qe.functionsDefined[nt]){(0,n.warn)("TT: undefined function: "+nt),Qe.hintsValid=!1;return}}}}function He(Qe,Je){if(Je.length>1){let nt=0,st,ct;for(st=0,ct=Je.length;st<ct;st++)nt+=Je[st].length;nt=nt+3&-4;const xt=new Uint8Array(nt);let ut=0;for(st=0,ct=Je.length;st<ct;st++)xt.set(Je[st],ut),ut+=Je[st].length;Qe.data=xt,Qe.length=nt}}function Xe(Qe,Je,nt,st){const ct={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Qe&&Pe(Qe,ct),Je&&Pe(Je,ct),Qe&&Re(ct,st),nt&&nt.length&1){const xt=new Uint8Array(nt.length+1);xt.set(nt.data),nt.data=xt}return ct.hintsValid}ce=new v.Stream(new Uint8Array(ce.getBytes()));let Fe,ae;if(a(ce)){const Qe=_e(ce,this.name);Fe=Qe.header,ae=Qe.tables}else Fe=Oe(ce),ae=K(ce,Fe.numTables);let Ae,Le;const Ee=!ae["CFF "];if(Ee){if(!ae.loca)throw new n.FormatError('Required "loca" table is not found');ae.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),ae.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Qe=te.composite&&(((lt=te.cidToGidMap)==null?void 0:lt.length)>0||!(te.cMap instanceof i.IdentityCMap));if(Fe.version==="OTTO"&&!Qe||!ae.head||!ae.hhea||!ae.maxp||!ae.post)return Le=new v.Stream(ae["CFF "].data),Ae=new g.CFFFont(Le,te),B(te),this.convert(le,Ae,te);delete ae.glyf,delete ae.loca,delete ae.fpgm,delete ae.prep,delete ae["cvt "],this.isOpenType=!0}if(!ae.maxp)throw new n.FormatError('Required "maxp" table is not found');ce.pos=(ce.start||0)+ae.maxp.offset;const xe=ce.getInt32(),Te=ce.getUint16();if(((yt=te.scaleFactors)==null?void 0:yt.length)===Te&&Ee){const{scaleFactors:Qe}=te,Je=S(ae.head.data[50],ae.head.data[51]),nt=new h.GlyfTable({glyfTable:ae.glyf.data,isGlyphLocationsLong:Je,locaTable:ae.loca.data,numGlyphs:Te});nt.scale(Qe);const{glyf:st,loca:ct,isLocationLong:xt}=nt.write();ae.glyf.data=st,ae.loca.data=ct,xt!==!!Je&&(ae.head.data[50]=0,ae.head.data[51]=xt?1:0);const ut=ae.hmtx.data;for(let at=0;at<Te;at++){const gt=4*at,At=Math.round(Qe[at]*S(ut[gt],ut[gt+1]));ut[gt]=At>>8&255,ut[gt+1]=At&255;const Rt=Math.round(Qe[at]*z(ut[gt+2],ut[gt+3]));R(ut,gt+2,Rt)}}let Ne=Te+1,$e=!0;Ne>65535&&($e=!1,Ne=Te,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let Ue=0,ze=0;xe>=65536&&ae.maxp.length>=22&&(ce.pos+=8,ce.getUint16()>2&&(ae.maxp.data[14]=0,ae.maxp.data[15]=2),ce.pos+=4,Ue=ce.getUint16(),ce.pos+=4,ze=ce.getUint16()),ae.maxp.data[4]=Ne>>8,ae.maxp.data[5]=Ne&255;const Ge=Xe(ae.fpgm,ae.prep,ae["cvt "],Ue);if(Ge||(delete ae.fpgm,delete ae.prep,delete ae["cvt "]),oe(ce,ae.hhea,ae.hmtx,ae.head,Ne,$e),!ae.head)throw new n.FormatError('Required "head" table is not found');Be(ae.head,Te,Ee?ae.loca.length:0);let Ve=Object.create(null);if(Ee){const Qe=S(ae.head.data[50],ae.head.data[51]),Je=he(ae.loca,ae.glyf,Te,Qe,Ge,$e,ze);Ve=Je.missingGlyphs,xe>=65536&&ae.maxp.length>=22&&(ae.maxp.data[26]=Je.maxSizeOfInstructions>>8,ae.maxp.data[27]=Je.maxSizeOfInstructions&255)}if(!ae.hhea)throw new n.FormatError('Required "hhea" table is not found');ae.hhea.data[10]===0&&ae.hhea.data[11]===0&&(ae.hhea.data[10]=255,ae.hhea.data[11]=255);const Ke={unitsPerEm:S(ae.head.data[18],ae.head.data[19]),yMax:z(ae.head.data[42],ae.head.data[43]),yMin:z(ae.head.data[38],ae.head.data[39]),ascent:z(ae.hhea.data[4],ae.hhea.data[5]),descent:z(ae.hhea.data[6],ae.hhea.data[7]),lineGap:z(ae.hhea.data[8],ae.hhea.data[9])};this.ascent=Ke.ascent/Ke.unitsPerEm,this.descent=Ke.descent/Ke.unitsPerEm,this.lineGap=Ke.lineGap/Ke.unitsPerEm,(Tt=this.cssFontInfo)!=null&&Tt.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,ae.post&&De(ae.post,te,Te),ae.post={tag:"post",data:se(te)};const et=[];function rt(Qe){return!Ve[Qe]}if(te.composite){const Qe=te.cidToGidMap||[],Je=Qe.length===0;te.cMap.forEach(function(nt,st){if(typeof st=="string"&&(st=Q(nt,st,!0)),st>65535)throw new n.FormatError("Max size of CID is 65,535");let ct=-1;Je?ct=st:Qe[st]!==void 0&&(ct=Qe[st]),ct>=0&&ct<Te&&rt(ct)&&(et[nt]=ct)})}else{const Qe=ke(ae.cmap,ce,this.isSymbolicFont,te.hasEncoding),Je=Qe.platformId,nt=Qe.encodingId,st=Qe.mappings;let ct=[],xt=!1;if(te.hasEncoding&&(te.baseEncodingName==="MacRomanEncoding"||te.baseEncodingName==="WinAnsiEncoding")&&(ct=(0,l.getEncoding)(te.baseEncodingName)),te.hasEncoding&&!this.isSymbolicFont&&(Je===3&&nt===1||Je===1&&nt===0)){const ut=(0,t.getGlyphsUnicode)();for(let at=0;at<256;at++){let gt;if(this.differences[at]!==void 0?gt=this.differences[at]:ct.length&&ct[at]!==""?gt=ct[at]:gt=l.StandardEncoding[at],!gt)continue;const At=(0,T.recoverGlyphName)(gt,ut);let Rt;if(Je===3&&nt===1?Rt=ut[At]:Je===1&&nt===0&&(Rt=l.MacRomanEncoding.indexOf(At)),Rt===void 0){if(!te.glyphNames&&te.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof F.IdentityToUnicodeMap)){const vt=this.toUnicode.get(at);vt&&(Rt=vt.codePointAt(0))}if(Rt===void 0)continue}for(const vt of st)if(vt.charCode===Rt){et[at]=vt.glyphId;break}}}else if(Je===0){for(const ut of st)et[ut.charCode]=ut.glyphId;xt=!0}else for(const ut of st){let at=ut.charCode;Je===3&&at>=61440&&at<=61695&&(at&=255),et[at]=ut.glyphId}if(te.glyphNames&&(ct.length||this.differences.length))for(let ut=0;ut<256;++ut){if(!xt&&et[ut]!==void 0)continue;const at=this.differences[ut]||ct[ut];if(!at)continue;const gt=te.glyphNames.indexOf(at);gt>0&&rt(gt)&&(et[ut]=gt)}}et.length===0&&(et[0]=0);let ot=Ne-1;if($e||(ot=0),!te.cssFontInfo){const Qe=de(et,rt,ot,this.toUnicode);this.toFontChar=Qe.toFontChar,ae.cmap={tag:"cmap",data:ue(Qe.charCodeToGlyphId,Qe.toUnicodeExtraMap,Ne)},(!ae["OS/2"]||!W(ae["OS/2"],ce))&&(ae["OS/2"]={tag:"OS/2",data:Z(te,Qe.charCodeToGlyphId,Ke)})}if(!Ee)try{Le=new v.Stream(ae["CFF "].data),Ae=new d.CFFParser(Le,te,T.SEAC_ANALYSIS_ENABLED).parse(),Ae.duplicateFirstGlyph();const Je=new d.CFFCompiler(Ae);ae["CFF "].data=Je.compile()}catch{(0,n.warn)("Failed to compile font "+te.loadedName)}if(!ae.name)ae.name={tag:"name",data:ie(this.name)};else{const[Qe,Je]=ye(ae.name);ae.name.data=ie(le,Qe),this.psName=Qe[0][6]||null,te.composite||_(te,this.isSymbolicFont,Je)}const ht=new x.OpenTypeFileBuilder(Fe.version);for(const Qe in ae)ht.addTable(Qe,ae[Qe].data);return ht.toArray()}convert(le,ce,te){te.fixedPitch=!1,te.builtInEncoding&&P(te,te.builtInEncoding);let ge=1;ce instanceof g.CFFFont&&(ge=ce.numGlyphs-1);const K=ce.getGlyphMapping(te);let Se=null,Oe=K,Me=null;te.cssFontInfo||(Se=de(K,ce.hasGlyphId.bind(ce),ge,this.toUnicode),this.toFontChar=Se.toFontChar,Oe=Se.charCodeToGlyphId,Me=Se.toUnicodeExtraMap);const _e=ce.numGlyphs;function ke(De,ye){let me=null;for(const Pe in De)ye===De[Pe]&&(me||(me=[])).push(Pe|0);return me}function oe(De,ye){for(const me in De)if(ye===De[me])return me|0;return Se.charCodeToGlyphId[Se.nextAvailableFontCharCode]=ye,Se.nextAvailableFontCharCode++}const Ie=ce.seacs;if(Se&&T.SEAC_ANALYSIS_ENABLED&&(Ie!=null&&Ie.length)){const De=te.fontMatrix||n.FONT_IDENTITY_MATRIX,ye=ce.getCharset(),me=Object.create(null);for(let Pe in Ie){Pe|=0;const Re=Ie[Pe],He=l.StandardEncoding[Re[2]],Xe=l.StandardEncoding[Re[3]],Fe=ye.indexOf(He),ae=ye.indexOf(Xe);if(Fe<0||ae<0)continue;const Ae={x:Re[0]*De[0]+Re[1]*De[2]+De[4],y:Re[0]*De[1]+Re[1]*De[3]+De[5]},Le=ke(K,Pe);if(Le)for(const Ee of Le){const xe=Se.charCodeToGlyphId,Te=oe(xe,Fe),Ne=oe(xe,ae);me[Ee]={baseFontCharCode:Te,accentFontCharCode:Ne,accentOffset:Ae}}}te.seacMap=me}const Be=1/(te.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],he=new x.OpenTypeFileBuilder("OTTO");return he.addTable("CFF ",ce.data),he.addTable("OS/2",Z(te,Oe)),he.addTable("cmap",ue(Oe,Me,_e)),he.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+k(Be)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+k(te.descent)+""+k(te.ascent)+E(te.italicAngle?2:0)+"\0\0\0\0\0\0\0"),he.addTable("hhea","\0\0\0"+k(te.ascent)+k(te.descent)+"\0\0\0\0\0\0\0\0"+k(te.capHeight)+k(Math.tan(te.italicAngle)*te.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+E(_e)),he.addTable("hmtx",function(){const ye=ce.charstrings,me=ce.cff?ce.cff.widths:null;let Pe="\0\0\0\0";for(let Re=1,He=_e;Re<He;Re++){let Xe=0;if(ye){const Fe=ye[Re-1];Xe="width"in Fe?Fe.width:0}else me&&(Xe=Math.ceil(me[Re]||0));Pe+=E(Xe)+E(0)}return Pe}()),he.addTable("maxp","\0\0P\0"+E(_e)),he.addTable("name",ie(le)),he.addTable("post",se(te)),he.toArray()}get spaceWidth(){const le=["space","minus","one","i","I"];let ce;for(const te of le){if(te in this.widths){ce=this.widths[te];break}const K=(0,t.getGlyphsUnicode)()[te];let Se=0;if(this.composite&&this.cMap.contains(K)&&(Se=this.cMap.lookup(K),typeof Se=="string"&&(Se=Q(K,Se))),!Se&&this.toUnicode&&(Se=this.toUnicode.charCodeOf(K)),Se<=0&&(Se=K),ce=this.widths[Se],ce)break}return(0,n.shadow)(this,"spaceWidth",ce||this.defaultWidth)}_charToGlyph(le,ce=!1){var Be,he,De;let te=this._glyphCache[le];if((te==null?void 0:te.isSpace)===ce)return te;let ge,K,Se,Oe=le;(Be=this.cMap)!=null&&Be.contains(le)&&(Oe=this.cMap.lookup(le),typeof Oe=="string"&&(Oe=Q(le,Oe))),K=this.widths[Oe],typeof K!="number"&&(K=this.defaultWidth);const Me=(he=this.vmetrics)==null?void 0:he[Oe];let _e=this.toUnicode.get(le)||le;typeof _e=="number"&&(_e=String.fromCharCode(_e));let ke=this.toFontChar[le]!==void 0;if(ge=this.toFontChar[le]||le,this.missingFile){const ye=this.differences[le]||this.defaultEncoding[le];(ye===".notdef"||ye==="")&&this.type==="Type1"&&(ge=32),ge=(0,e.mapSpecialUnicodeValues)(ge)}this.isType3Font&&(Se=ge);let oe=null;if((De=this.seacMap)!=null&&De[le]){ke=!0;const ye=this.seacMap[le];ge=ye.baseFontCharCode,oe={fontChar:String.fromCodePoint(ye.accentFontCharCode),offset:ye.accentOffset}}let Ie="";return typeof ge=="number"&&(ge<=1114111?Ie=String.fromCodePoint(ge):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${ge}`)),te=new m(le,Ie,_e,oe,K,Me,Se,ce,ke),this._glyphCache[le]=te}charsToGlyphs(le){let ce=this._charsCache[le];if(ce)return ce;if(ce=[],this.cMap){const te=Object.create(null),ge=le.length;let K=0;for(;K<ge;){this.cMap.readCharCode(le,K,te);const{charcode:Se,length:Oe}=te;K+=Oe;const Me=this._charToGlyph(Se,Oe===1&&le.charCodeAt(K-1)===32);ce.push(Me)}}else for(let te=0,ge=le.length;te<ge;++te){const K=le.charCodeAt(te),Se=this._charToGlyph(K,K===32);ce.push(Se)}return this._charsCache[le]=ce}getCharPositions(le){const ce=[];if(this.cMap){const te=Object.create(null);let ge=0;for(;ge<le.length;){this.cMap.readCharCode(le,ge,te);const K=te.length;ce.push([ge,ge+K]),ge+=K}}else for(let te=0,ge=le.length;te<ge;++te)ce.push([te,te+1]);return ce}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(le){const ce=[],te=[],ge=()=>ce.length%2===1,K=this.toUnicode instanceof F.IdentityToUnicodeMap?Se=>this.toUnicode.charCodeOf(Se):Se=>this.toUnicode.charCodeOf(String.fromCodePoint(Se));for(let Se=0,Oe=le.length;Se<Oe;Se++){const Me=le.codePointAt(Se);if(Me>55295&&(Me<57344||Me>65533)&&Se++,this.toUnicode){const _e=K(Me);if(_e!==-1){ge()&&(ce.push(te.join("")),te.length=0);const ke=this.cMap?this.cMap.getCharCodeLength(_e):1;for(let oe=ke-1;oe>=0;oe--)te.push(String.fromCharCode(_e>>8*oe&255));continue}}ge()||(ce.push(te.join("")),te.length=0),te.push(String.fromCodePoint(Me))}return ce.push(te.join("")),ce}}f.Font=H;class Y{constructor(le){this.error=le,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(le){return[le]}exportData(le=!1){return{error:this.error}}}f.ErrorFont=Y},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CFFTopDict=f.CFFStrings=f.CFFStandardStrings=f.CFFPrivateDict=f.CFFParser=f.CFFIndex=f.CFFHeader=f.CFFFDSelect=f.CFFCompiler=f.CFFCharset=f.CFF=void 0;var n=$(2),d=$(36),T=$(37);const e=10,t=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];f.CFFStandardStrings=t;const l=391,L=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],F=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(X,m){X[m-2]=X[m-2]+X[m-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(X,m){X[m-2]=X[m-2]-X[m-1]}},{id:"div",min:2,stackDelta:-1,stackFn(X,m){X[m-2]=X[m-2]/X[m-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(X,m){X[m-1]=-X[m-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(X,m){X[m-2]=X[m-2]*X[m-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class g{constructor(m,S,R){this.bytes=m.getBytes(),this.properties=S,this.seacAnalysisEnabled=!!R}parse(){const m=this.properties,S=new w;this.cff=S;const R=this.parseHeader(),z=this.parseIndex(R.endPos),O=this.parseIndex(z.endPos),E=this.parseIndex(O.endPos),k=this.parseIndex(E.endPos),M=this.parseDict(O.obj.get(0)),a=this.createDict(v,M,S.strings);S.header=R.obj,S.names=this.parseNameIndex(z.obj),S.strings=this.parseStringIndex(E.obj),S.topDict=a,S.globalSubrIndex=k.obj,this.parsePrivateDict(S.topDict),S.isCIDFont=a.hasName("ROS");const o=a.getByName("CharStrings"),r=this.parseIndex(o).obj,s=a.getByName("FontMatrix");s&&(m.fontMatrix=s);const A=a.getByName("FontBBox");A&&(m.ascent=Math.max(A[3],A[1]),m.descent=Math.min(A[1],A[3]),m.ascentScaled=!0);let c,y;if(S.isCIDFont){const re=this.parseIndex(a.getByName("FDArray")).obj;for(let Q=0,de=re.count;Q<de;++Q){const ee=re.get(Q),ue=this.createDict(v,this.parseDict(ee),S.strings);this.parsePrivateDict(ue),S.fdArray.push(ue)}y=null,c=this.parseCharsets(a.getByName("charset"),r.count,S.strings,!0),S.fdSelect=this.parseFDSelect(a.getByName("FDSelect"),r.count)}else c=this.parseCharsets(a.getByName("charset"),r.count,S.strings,!1),y=this.parseEncoding(a.getByName("Encoding"),m,S.strings,c.charset);S.charset=c,S.encoding=y;const q=this.parseCharStrings({charStrings:r,localSubrIndex:a.privateDict.subrsIndex,globalSubrIndex:k.obj,fdSelect:S.fdSelect,fdArray:S.fdArray,privateDict:a.privateDict});return S.charStrings=q.charStrings,S.seacs=q.seacs,S.widths=q.widths,S}parseHeader(){let m=this.bytes;const S=m.length;let R=0;for(;R<S&&m[R]!==1;)++R;if(R>=S)throw new n.FormatError("Invalid CFF header");R!==0&&((0,n.info)("cff data is shifted"),m=m.subarray(R),this.bytes=m);const z=m[0],O=m[1],E=m[2],k=m[3];return{obj:new u(z,O,E,k),endPos:E}}parseDict(m){let S=0;function R(){let M=m[S++];return M===30?z():M===28?(M=m[S++],M=(M<<24|m[S++]<<16)>>16,M):M===29?(M=m[S++],M=M<<8|m[S++],M=M<<8|m[S++],M=M<<8|m[S++],M):M>=32&&M<=246?M-139:M>=247&&M<=250?(M-247)*256+m[S++]+108:M>=251&&M<=254?-((M-251)*256)-m[S++]-108:((0,n.warn)('CFFParser_parseDict: "'+M+'" is a reserved command.'),NaN)}function z(){let M="";const o=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],r=m.length;for(;S<r;){const s=m[S++],A=s>>4,c=s&15;if(A===15||(M+=o[A],c===15))break;M+=o[c]}return parseFloat(M)}let O=[];const E=[];S=0;const k=m.length;for(;S<k;){let M=m[S];M<=21?(M===12&&(M=M<<8|m[++S]),E.push([M,O]),O=[],++S):O.push(R())}return E}parseIndex(m){const S=new i,R=this.bytes,z=R[m++]<<8|R[m++],O=[];let E=m,k,M;if(z!==0){const a=R[m++],o=m+(z+1)*a-1;for(k=0,M=z+1;k<M;++k){let r=0;for(let s=0;s<a;++s)r<<=8,r+=R[m++];O.push(o+r)}E=O[z]}for(k=0,M=O.length-1;k<M;++k){const a=O[k],o=O[k+1];S.add(R.subarray(a,o))}return{obj:S,endPos:E}}parseNameIndex(m){const S=[];for(let R=0,z=m.count;R<z;++R){const O=m.get(R);S.push((0,n.bytesToString)(O))}return S}parseStringIndex(m){const S=new h;for(let R=0,z=m.count;R<z;++R){const O=m.get(R);S.add((0,n.bytesToString)(O))}return S}createDict(m,S,R){const z=new m(R);for(const[O,E]of S)z.setByKey(O,E);return z}parseCharString(m,S,R,z){if(!S||m.callDepth>e)return!1;let O=m.stackSize;const E=m.stack;let k=S.length;for(let M=0;M<k;){const a=S[M++];let o=null;if(a===12){const r=S[M++];r===0?(S[M-2]=139,S[M-1]=22,O=0):o=F[r]}else if(a===28)E[O]=(S[M]<<24|S[M+1]<<16)>>16,M+=2,O++;else if(a===14){if(O>=4&&(O-=4,this.seacAnalysisEnabled))return m.seac=E.slice(O,O+4),!1;o=L[a]}else if(a>=32&&a<=246)E[O]=a-139,O++;else if(a>=247&&a<=254)E[O]=a<251?(a-247<<8)+S[M]+108:-(a-251<<8)-S[M]-108,M++,O++;else if(a===255)E[O]=(S[M]<<24|S[M+1]<<16|S[M+2]<<8|S[M+3])/65536,M+=4,O++;else if(a===19||a===20){if(m.hints+=O>>1,m.hints===0){S.copyWithin(M-1,M,-1),M-=1,k-=1;continue}M+=m.hints+7>>3,O%=2,o=L[a]}else if(a===10||a===29){const r=a===10?R:z;if(!r)return o=L[a],(0,n.warn)("Missing subrsIndex for "+o.id),!1;let s=32768;r.count<1240?s=107:r.count<33900&&(s=1131);const A=E[--O]+s;if(A<0||A>=r.count||isNaN(A))return o=L[a],(0,n.warn)("Out of bounds subrIndex for "+o.id),!1;if(m.stackSize=O,m.callDepth++,!this.parseCharString(m,r.get(A),R,z))return!1;m.callDepth--,O=m.stackSize;continue}else{if(a===11)return m.stackSize=O,!0;if(a===0&&M===S.length)S[M-1]=14,o=L[14];else if(a===9){S.copyWithin(M-1,M,-1),M-=1,k-=1;continue}else o=L[a]}if(o){if(o.stem&&(m.hints+=O>>1,a===3||a===23?m.hasVStems=!0:m.hasVStems&&(a===1||a===18)&&((0,n.warn)("CFF stem hints are in wrong order"),S[M-1]=a===1?3:23)),"min"in o&&!m.undefStack&&O<o.min)return(0,n.warn)("Not enough parameters for "+o.id+"; actual: "+O+", expected: "+o.min),O===0?(S[M-1]=14,!0):!1;m.firstStackClearing&&o.stackClearing&&(m.firstStackClearing=!1,O-=o.min,O>=2&&o.stem?O%=2:O>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),O>0&&(m.width=E[O-1])),"stackDelta"in o?("stackFn"in o&&o.stackFn(E,O),O+=o.stackDelta):o.stackClearing?O=0:o.resetStack?(O=0,m.undefStack=!1):o.undefStack&&(O=0,m.undefStack=!0,m.firstStackClearing=!1)}}return k<S.length&&S.fill(14,k),m.stackSize=O,!0}parseCharStrings({charStrings:m,localSubrIndex:S,globalSubrIndex:R,fdSelect:z,fdArray:O,privateDict:E}){const k=[],M=[],a=m.count;for(let o=0;o<a;o++){const r=m.get(o),s={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let A=!0,c=null,y=E;if(z&&O.length){const q=z.getFDIndex(o);q===-1&&((0,n.warn)("Glyph index is not in fd select."),A=!1),q>=O.length&&((0,n.warn)("Invalid fd index for glyph index."),A=!1),A&&(y=O[q].privateDict,c=y.subrsIndex)}else S&&(c=S);if(A&&(A=this.parseCharString(s,r,c,R)),s.width!==null){const q=y.getByName("nominalWidthX");M[o]=q+s.width}else{const q=y.getByName("defaultWidthX");M[o]=q}s.seac!==null&&(k[o]=s.seac),A||m.set(o,new Uint8Array([14]))}return{charStrings:m,seacs:k,widths:M}}emptyPrivateDictionary(m){const S=this.createDict(N,[],m.strings);m.setByKey(18,[0,0]),m.privateDict=S}parsePrivateDict(m){if(!m.hasName("Private")){this.emptyPrivateDictionary(m);return}const S=m.getByName("Private");if(!Array.isArray(S)||S.length!==2){m.removeByName("Private");return}const R=S[0],z=S[1];if(R===0||z>=this.bytes.length){this.emptyPrivateDictionary(m);return}const O=z+R,E=this.bytes.subarray(z,O),k=this.parseDict(E),M=this.createDict(N,k,m.strings);if(m.privateDict=M,M.getByName("ExpansionFactor")===0&&M.setByName("ExpansionFactor",.06),!M.getByName("Subrs"))return;const a=M.getByName("Subrs"),o=z+a;if(a===0||o>=this.bytes.length){this.emptyPrivateDictionary(m);return}const r=this.parseIndex(o);M.subrsIndex=r.obj}parseCharsets(m,S,R,z){if(m===0)return new D(!0,U.ISO_ADOBE,d.ISOAdobeCharset);if(m===1)return new D(!0,U.EXPERT,d.ExpertCharset);if(m===2)return new D(!0,U.EXPERT_SUBSET,d.ExpertSubsetCharset);const O=this.bytes,E=m,k=O[m++],M=[z?0:".notdef"];let a,o,r;switch(S-=1,k){case 0:for(r=0;r<S;r++)a=O[m++]<<8|O[m++],M.push(z?a:R.get(a));break;case 1:for(;M.length<=S;)for(a=O[m++]<<8|O[m++],o=O[m++],r=0;r<=o;r++)M.push(z?a++:R.get(a++));break;case 2:for(;M.length<=S;)for(a=O[m++]<<8|O[m++],o=O[m++]<<8|O[m++],r=0;r<=o;r++)M.push(z?a++:R.get(a++));break;default:throw new n.FormatError("Unknown charset format")}const s=m,A=O.subarray(E,s);return new D(!1,k,M,A)}parseEncoding(m,S,R,z){const O=Object.create(null),E=this.bytes;let k=!1,M,a,o,r=null;function s(){const A=E[m++];for(a=0;a<A;a++){const c=E[m++],y=(E[m++]<<8)+(E[m++]&255);O[c]=z.indexOf(R.get(y))}}if(m===0||m===1){k=!0,M=m;const A=m?T.ExpertEncoding:T.StandardEncoding;for(a=0,o=z.length;a<o;a++){const c=A.indexOf(z[a]);c!==-1&&(O[c]=a)}}else{const A=m;switch(M=E[m++],M&127){case 0:const y=E[m++];for(a=1;a<=y;a++)O[E[m++]]=a;break;case 1:const q=E[m++];let re=1;for(a=0;a<q;a++){const Q=E[m++],de=E[m++];for(let ee=Q;ee<=Q+de;ee++)O[ee]=re++}break;default:throw new n.FormatError(`Unknown encoding format: ${M} in CFF`)}const c=m;M&128&&(E[A]&=127,s()),r=E.subarray(A,c)}return M&=127,new I(k,M,O,r)}parseFDSelect(m,S){const R=this.bytes,z=R[m++],O=[];let E;switch(z){case 0:for(E=0;E<S;++E){const M=R[m++];O.push(M)}break;case 3:const k=R[m++]<<8|R[m++];for(E=0;E<k;++E){let M=R[m++]<<8|R[m++];E===0&&M!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),M=0);const a=R[m++],o=R[m]<<8|R[m+1];for(let r=M;r<o;++r)O.push(a)}m+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${z}".`)}if(O.length!==S)throw new n.FormatError("parseFDSelect: Invalid font data.");return new B(z,O)}}f.CFFParser=g;class w{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new h,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const m=this.charStrings.get(0);this.charStrings.add(m),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(m){return m<0||m>=this.charStrings.count?!1:this.charStrings.get(m).length>0}}f.CFF=w;class u{constructor(m,S,R,z){this.major=m,this.minor=S,this.hdrSize=R,this.offSize=z}}f.CFFHeader=u;class h{constructor(){this.strings=[]}get(m){return m>=0&&m<=l-1?t[m]:m-l<=this.strings.length?this.strings[m-l]:t[0]}getSID(m){let S=t.indexOf(m);return S!==-1?S:(S=this.strings.indexOf(m),S!==-1?S+l:-1)}add(m){this.strings.push(m)}get count(){return this.strings.length}}f.CFFStrings=h;class i{constructor(){this.objects=[],this.length=0}add(m){this.length+=m.length,this.objects.push(m)}set(m,S){this.length+=S.length-this.objects[m].length,this.objects[m]=S}get(m){return this.objects[m]}get count(){return this.objects.length}}f.CFFIndex=i;class x{constructor(m,S){this.keyToNameMap=m.keyToNameMap,this.nameToKeyMap=m.nameToKeyMap,this.defaults=m.defaults,this.types=m.types,this.opcodes=m.opcodes,this.order=m.order,this.strings=S,this.values=Object.create(null)}setByKey(m,S){if(!(m in this.keyToNameMap))return!1;if(S.length===0)return!0;for(const z of S)if(isNaN(z))return(0,n.warn)(`Invalid CFFDict value: "${S}" for key "${m}".`),!0;const R=this.types[m];return(R==="num"||R==="sid"||R==="offset")&&(S=S[0]),this.values[m]=S,!0}setByName(m,S){if(!(m in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${m}"`);this.values[this.nameToKeyMap[m]]=S}hasName(m){return this.nameToKeyMap[m]in this.values}getByName(m){if(!(m in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${m}"`);const S=this.nameToKeyMap[m];return S in this.values?this.values[S]:this.defaults[S]}removeByName(m){delete this.values[this.nameToKeyMap[m]]}static createTables(m){const S={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const R of m){const z=Array.isArray(R[0])?(R[0][0]<<8)+R[0][1]:R[0];S.keyToNameMap[z]=R[1],S.nameToKeyMap[R[1]]=z,S.types[z]=R[2],S.defaults[z]=R[3],S.opcodes[z]=Array.isArray(R[0])?R[0]:[R[0]],S.order.push(z)}return S}}const p=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class v extends x{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(p))}constructor(m){super(v.tables,m),this.privateDict=null}}f.CFFTopDict=v;const b=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class N extends x{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(b))}constructor(m){super(N.tables,m),this.subrsIndex=null}}f.CFFPrivateDict=N;const U={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class D{constructor(m,S,R,z){this.predefined=m,this.format=S,this.charset=R,this.raw=z}}f.CFFCharset=D;class I{constructor(m,S,R,z){this.predefined=m,this.format=S,this.encoding=R,this.raw=z}}class B{constructor(m,S){this.format=m,this.fdSelect=S}getFDIndex(m){return m<0||m>=this.fdSelect.length?-1:this.fdSelect[m]}}f.CFFFDSelect=B;class _{constructor(){this.offsets=Object.create(null)}isTracking(m){return m in this.offsets}track(m,S){if(m in this.offsets)throw new n.FormatError(`Already tracking location of ${m}`);this.offsets[m]=S}offset(m){for(const S in this.offsets)this.offsets[S]+=m}setEntryLocation(m,S,R){if(!(m in this.offsets))throw new n.FormatError(`Not tracking location of ${m}`);const z=R.data,O=this.offsets[m],E=5;for(let k=0,M=S.length;k<M;++k){const a=k*E+O,o=a+1,r=a+2,s=a+3,A=a+4;if(z[a]!==29||z[o]!==0||z[r]!==0||z[s]!==0||z[A]!==0)throw new n.FormatError("writing to an offset that is not empty");const c=S[k];z[a]=29,z[o]=c>>24&255,z[r]=c>>16&255,z[s]=c>>8&255,z[A]=c&255}}}class P{constructor(m){this.cff=m}compile(){const m=this.cff,S={data:[],length:0,add(s){try{this.data.push(...s)}catch{this.data=this.data.concat(s)}this.length=this.data.length}},R=this.compileHeader(m.header);S.add(R);const z=this.compileNameIndex(m.names);if(S.add(z),m.isCIDFont&&m.topDict.hasName("FontMatrix")){const s=m.topDict.getByName("FontMatrix");m.topDict.removeByName("FontMatrix");for(const A of m.fdArray){let c=s.slice(0);A.hasName("FontMatrix")&&(c=n.Util.transform(c,A.getByName("FontMatrix"))),A.setByName("FontMatrix",c)}}const O=m.topDict.getByName("XUID");(O==null?void 0:O.length)>16&&m.topDict.removeByName("XUID"),m.topDict.setByName("charset",0);let E=this.compileTopDicts([m.topDict],S.length,m.isCIDFont);S.add(E.output);const k=E.trackers[0],M=this.compileStringIndex(m.strings.strings);S.add(M);const a=this.compileIndex(m.globalSubrIndex);if(S.add(a),m.encoding&&m.topDict.hasName("Encoding"))if(m.encoding.predefined)k.setEntryLocation("Encoding",[m.encoding.format],S);else{const s=this.compileEncoding(m.encoding);k.setEntryLocation("Encoding",[S.length],S),S.add(s)}const o=this.compileCharset(m.charset,m.charStrings.count,m.strings,m.isCIDFont);k.setEntryLocation("charset",[S.length],S),S.add(o);const r=this.compileCharStrings(m.charStrings);if(k.setEntryLocation("CharStrings",[S.length],S),S.add(r),m.isCIDFont){k.setEntryLocation("FDSelect",[S.length],S);const s=this.compileFDSelect(m.fdSelect);S.add(s),E=this.compileTopDicts(m.fdArray,S.length,!0),k.setEntryLocation("FDArray",[S.length],S),S.add(E.output);const A=E.trackers;this.compilePrivateDicts(m.fdArray,A,S)}return this.compilePrivateDicts([m.topDict],[k],S),S.add([0]),S.data}encodeNumber(m){return Number.isInteger(m)?this.encodeInteger(m):this.encodeFloat(m)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(m){let S=m.toString();const R=P.EncodeFloatRegExp.exec(S);if(R){const M=parseFloat("1e"+((R[2]?+R[2]:0)+R[1].length));S=(Math.round(m*M)/M).toString()}let z="",O,E;for(O=0,E=S.length;O<E;++O){const M=S[O];M==="e"?z+=S[++O]==="-"?"c":"b":M==="."?z+="a":M==="-"?z+="e":z+=M}z+=z.length&1?"f":"ff";const k=[30];for(O=0,E=z.length;O<E;O+=2)k.push(parseInt(z.substring(O,O+2),16));return k}encodeInteger(m){let S;return m>=-107&&m<=107?S=[m+139]:m>=108&&m<=1131?(m-=108,S=[(m>>8)+247,m&255]):m>=-1131&&m<=-108?(m=-m-108,S=[(m>>8)+251,m&255]):m>=-32768&&m<=32767?S=[28,m>>8&255,m&255]:S=[29,m>>24&255,m>>16&255,m>>8&255,m&255],S}compileHeader(m){return[m.major,m.minor,4,m.offSize]}compileNameIndex(m){const S=new i;for(const R of m){const z=Math.min(R.length,127);let O=new Array(z);for(let E=0;E<z;E++){let k=R[E];(k<"!"||k>"~"||k==="["||k==="]"||k==="("||k===")"||k==="{"||k==="}"||k==="<"||k===">"||k==="/"||k==="%")&&(k="_"),O[E]=k}O=O.join(""),O===""&&(O="Bad_Font_Name"),S.add((0,n.stringToBytes)(O))}return this.compileIndex(S)}compileTopDicts(m,S,R){const z=[];let O=new i;for(const E of m){R&&(E.removeByName("CIDFontVersion"),E.removeByName("CIDFontRevision"),E.removeByName("CIDFontType"),E.removeByName("CIDCount"),E.removeByName("UIDBase"));const k=new _,M=this.compileDict(E,k);z.push(k),O.add(M),k.offset(S)}return O=this.compileIndex(O,z),{trackers:z,output:O}}compilePrivateDicts(m,S,R){for(let z=0,O=m.length;z<O;++z){const E=m[z],k=E.privateDict;if(!k||!E.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const M=new _,a=this.compileDict(k,M);let o=R.length;if(M.offset(o),a.length||(o=0),S[z].setEntryLocation("Private",[a.length,o],R),R.add(a),k.subrsIndex&&k.hasName("Subrs")){const r=this.compileIndex(k.subrsIndex);M.setEntryLocation("Subrs",[a.length],R),R.add(r)}}}compileDict(m,S){const R=[];for(const z of m.order){if(!(z in m.values))continue;let O=m.values[z],E=m.types[z];if(Array.isArray(E)||(E=[E]),Array.isArray(O)||(O=[O]),O.length!==0){for(let k=0,M=E.length;k<M;++k){const a=E[k],o=O[k];switch(a){case"num":case"sid":R.push(...this.encodeNumber(o));break;case"offset":const r=m.keyToNameMap[z];S.isTracking(r)||S.track(r,R.length),R.push(29,0,0,0,0);break;case"array":case"delta":R.push(...this.encodeNumber(o));for(let s=1,A=O.length;s<A;++s)R.push(...this.encodeNumber(O[s]));break;default:throw new n.FormatError(`Unknown data type of ${a}`)}}R.push(...m.opcodes[z])}}return R}compileStringIndex(m){const S=new i;for(const R of m)S.add((0,n.stringToBytes)(R));return this.compileIndex(S)}compileCharStrings(m){const S=new i;for(let R=0;R<m.count;R++){const z=m.get(R);if(z.length===0){S.add(new Uint8Array([139,14]));continue}S.add(z)}return this.compileIndex(S)}compileCharset(m,S,R,z){let O;const E=S-1;if(z)O=new Uint8Array([2,0,0,E>>8&255,E&255]);else{const k=1+E*2;O=new Uint8Array(k),O[0]=0;let M=0;const a=m.charset.length;let o=!1;for(let r=1;r<O.length;r+=2){let s=0;if(M<a){const A=m.charset[M++];s=R.getSID(A),s===-1&&(s=0,o||(o=!0,(0,n.warn)(`Couldn't find ${A} in CFF strings`)))}O[r]=s>>8&255,O[r+1]=s&255}}return this.compileTypedArray(O)}compileEncoding(m){return this.compileTypedArray(m.raw)}compileFDSelect(m){const S=m.format;let R,z;switch(S){case 0:for(R=new Uint8Array(1+m.fdSelect.length),R[0]=S,z=0;z<m.fdSelect.length;z++)R[z+1]=m.fdSelect[z];break;case 3:const O=0;let E=m.fdSelect[0];const k=[S,0,0,O>>8&255,O&255,E];for(z=1;z<m.fdSelect.length;z++){const a=m.fdSelect[z];a!==E&&(k.push(z>>8&255,z&255,a),E=a)}const M=(k.length-3)/3;k[1]=M>>8&255,k[2]=M&255,k.push(z>>8&255,z&255),R=new Uint8Array(k);break}return this.compileTypedArray(R)}compileTypedArray(m){return Array.from(m)}compileIndex(m,S=[]){const R=m.objects,z=R.length;if(z===0)return[0,0];const O=[z>>8&255,z&255];let E=1,k;for(k=0;k<z;++k)E+=R[k].length;let M;E<256?M=1:E<65536?M=2:E<16777216?M=3:M=4,O.push(M);let a=1;for(k=0;k<z+1;k++)M===1?O.push(a&255):M===2?O.push(a>>8&255,a&255):M===3?O.push(a>>16&255,a>>8&255,a&255):O.push(a>>>24&255,a>>16&255,a>>8&255,a&255),R[k]&&(a+=R[k].length);for(k=0;k<z;k++)S[k]&&S[k].offset(O.length),O.push(...R[k]);return O}}f.CFFCompiler=P},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ISOAdobeCharset=f.ExpertSubsetCharset=f.ExpertCharset=void 0;const $=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];f.ISOAdobeCharset=$;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];f.ExpertCharset=n;const d=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];f.ExpertSubsetCharset=d},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ZapfDingbatsEncoding=f.WinAnsiEncoding=f.SymbolSetEncoding=f.StandardEncoding=f.MacRomanEncoding=f.ExpertEncoding=void 0,f.getEncoding=L;const $=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];f.ExpertEncoding=$;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],d=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];f.MacRomanEncoding=d;const T=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];f.StandardEncoding=T;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];f.WinAnsiEncoding=e;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];f.SymbolSetEncoding=t;const l=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];f.ZapfDingbatsEncoding=l;function L(F){switch(F){case"WinAnsiEncoding":return e;case"StandardEncoding":return T;case"MacRomanEncoding":return d;case"SymbolSetEncoding":return t;case"ZapfDingbatsEncoding":return l;case"ExpertEncoding":return $;case"MacExpertEncoding":return n;default:return null}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SEAC_ANALYSIS_ENABLED=f.MacStandardGlyphOrdering=f.FontFlags=void 0,f.normalizeFontName=w,f.recoverGlyphName=F,f.type1FontGlyphMapping=g;var n=$(37),d=$(39),T=$(40),e=$(2);const t=!0;f.SEAC_ANALYSIS_ENABLED=t;const l={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};f.FontFlags=l;const L=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];f.MacStandardGlyphOrdering=L;function F(u,h){if(h[u]!==void 0)return u;const i=(0,T.getUnicodeForGlyph)(u,h);if(i!==-1){for(const x in h)if(h[x]===i)return x}return(0,e.info)("Unable to recover a standard glyph name for: "+u),u}function g(u,h,i){const x=Object.create(null);let p,v,b;const N=!!(u.flags&l.Symbolic);if(u.isInternalFont)for(b=h,v=0;v<b.length;v++)p=i.indexOf(b[v]),x[v]=p>=0?p:0;else if(u.baseEncodingName)for(b=(0,n.getEncoding)(u.baseEncodingName),v=0;v<b.length;v++)p=i.indexOf(b[v]),x[v]=p>=0?p:0;else if(N)for(v in h)x[v]=h[v];else for(b=n.StandardEncoding,v=0;v<b.length;v++)p=i.indexOf(b[v]),x[v]=p>=0?p:0;const U=u.differences;let D;if(U)for(v in U){const I=U[v];if(p=i.indexOf(I),p===-1){D||(D=(0,d.getGlyphsUnicode)());const B=F(I,D);B!==I&&(p=i.indexOf(B))}x[v]=p>=0?p:0}return x}function w(u){return u.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getGlyphsUnicode=f.getDingbatsGlyphsUnicode=void 0;var n=$(3);const d=(0,n.getLookupTableFactory)(function(e){e.A=65,e.AE=198,e.AEacute=508,e.AEmacron=482,e.AEsmall=63462,e.Aacute=193,e.Aacutesmall=63457,e.Abreve=258,e.Abreveacute=7854,e.Abrevecyrillic=1232,e.Abrevedotbelow=7862,e.Abrevegrave=7856,e.Abrevehookabove=7858,e.Abrevetilde=7860,e.Acaron=461,e.Acircle=9398,e.Acircumflex=194,e.Acircumflexacute=7844,e.Acircumflexdotbelow=7852,e.Acircumflexgrave=7846,e.Acircumflexhookabove=7848,e.Acircumflexsmall=63458,e.Acircumflextilde=7850,e.Acute=63177,e.Acutesmall=63412,e.Acyrillic=1040,e.Adblgrave=512,e.Adieresis=196,e.Adieresiscyrillic=1234,e.Adieresismacron=478,e.Adieresissmall=63460,e.Adotbelow=7840,e.Adotmacron=480,e.Agrave=192,e.Agravesmall=63456,e.Ahookabove=7842,e.Aiecyrillic=1236,e.Ainvertedbreve=514,e.Alpha=913,e.Alphatonos=902,e.Amacron=256,e.Amonospace=65313,e.Aogonek=260,e.Aring=197,e.Aringacute=506,e.Aringbelow=7680,e.Aringsmall=63461,e.Asmall=63329,e.Atilde=195,e.Atildesmall=63459,e.Aybarmenian=1329,e.B=66,e.Bcircle=9399,e.Bdotaccent=7682,e.Bdotbelow=7684,e.Becyrillic=1041,e.Benarmenian=1330,e.Beta=914,e.Bhook=385,e.Blinebelow=7686,e.Bmonospace=65314,e.Brevesmall=63220,e.Bsmall=63330,e.Btopbar=386,e.C=67,e.Caarmenian=1342,e.Cacute=262,e.Caron=63178,e.Caronsmall=63221,e.Ccaron=268,e.Ccedilla=199,e.Ccedillaacute=7688,e.Ccedillasmall=63463,e.Ccircle=9400,e.Ccircumflex=264,e.Cdot=266,e.Cdotaccent=266,e.Cedillasmall=63416,e.Chaarmenian=1353,e.Cheabkhasiancyrillic=1212,e.Checyrillic=1063,e.Chedescenderabkhasiancyrillic=1214,e.Chedescendercyrillic=1206,e.Chedieresiscyrillic=1268,e.Cheharmenian=1347,e.Chekhakassiancyrillic=1227,e.Cheverticalstrokecyrillic=1208,e.Chi=935,e.Chook=391,e.Circumflexsmall=63222,e.Cmonospace=65315,e.Coarmenian=1361,e.Csmall=63331,e.D=68,e.DZ=497,e.DZcaron=452,e.Daarmenian=1332,e.Dafrican=393,e.Dcaron=270,e.Dcedilla=7696,e.Dcircle=9401,e.Dcircumflexbelow=7698,e.Dcroat=272,e.Ddotaccent=7690,e.Ddotbelow=7692,e.Decyrillic=1044,e.Deicoptic=1006,e.Delta=8710,e.Deltagreek=916,e.Dhook=394,e.Dieresis=63179,e.DieresisAcute=63180,e.DieresisGrave=63181,e.Dieresissmall=63400,e.Digammagreek=988,e.Djecyrillic=1026,e.Dlinebelow=7694,e.Dmonospace=65316,e.Dotaccentsmall=63223,e.Dslash=272,e.Dsmall=63332,e.Dtopbar=395,e.Dz=498,e.Dzcaron=453,e.Dzeabkhasiancyrillic=1248,e.Dzecyrillic=1029,e.Dzhecyrillic=1039,e.E=69,e.Eacute=201,e.Eacutesmall=63465,e.Ebreve=276,e.Ecaron=282,e.Ecedillabreve=7708,e.Echarmenian=1333,e.Ecircle=9402,e.Ecircumflex=202,e.Ecircumflexacute=7870,e.Ecircumflexbelow=7704,e.Ecircumflexdotbelow=7878,e.Ecircumflexgrave=7872,e.Ecircumflexhookabove=7874,e.Ecircumflexsmall=63466,e.Ecircumflextilde=7876,e.Ecyrillic=1028,e.Edblgrave=516,e.Edieresis=203,e.Edieresissmall=63467,e.Edot=278,e.Edotaccent=278,e.Edotbelow=7864,e.Efcyrillic=1060,e.Egrave=200,e.Egravesmall=63464,e.Eharmenian=1335,e.Ehookabove=7866,e.Eightroman=8551,e.Einvertedbreve=518,e.Eiotifiedcyrillic=1124,e.Elcyrillic=1051,e.Elevenroman=8554,e.Emacron=274,e.Emacronacute=7702,e.Emacrongrave=7700,e.Emcyrillic=1052,e.Emonospace=65317,e.Encyrillic=1053,e.Endescendercyrillic=1186,e.Eng=330,e.Enghecyrillic=1188,e.Enhookcyrillic=1223,e.Eogonek=280,e.Eopen=400,e.Epsilon=917,e.Epsilontonos=904,e.Ercyrillic=1056,e.Ereversed=398,e.Ereversedcyrillic=1069,e.Escyrillic=1057,e.Esdescendercyrillic=1194,e.Esh=425,e.Esmall=63333,e.Eta=919,e.Etarmenian=1336,e.Etatonos=905,e.Eth=208,e.Ethsmall=63472,e.Etilde=7868,e.Etildebelow=7706,e.Euro=8364,e.Ezh=439,e.Ezhcaron=494,e.Ezhreversed=440,e.F=70,e.Fcircle=9403,e.Fdotaccent=7710,e.Feharmenian=1366,e.Feicoptic=996,e.Fhook=401,e.Fitacyrillic=1138,e.Fiveroman=8548,e.Fmonospace=65318,e.Fourroman=8547,e.Fsmall=63334,e.G=71,e.GBsquare=13191,e.Gacute=500,e.Gamma=915,e.Gammaafrican=404,e.Gangiacoptic=1002,e.Gbreve=286,e.Gcaron=486,e.Gcedilla=290,e.Gcircle=9404,e.Gcircumflex=284,e.Gcommaaccent=290,e.Gdot=288,e.Gdotaccent=288,e.Gecyrillic=1043,e.Ghadarmenian=1346,e.Ghemiddlehookcyrillic=1172,e.Ghestrokecyrillic=1170,e.Gheupturncyrillic=1168,e.Ghook=403,e.Gimarmenian=1331,e.Gjecyrillic=1027,e.Gmacron=7712,e.Gmonospace=65319,e.Grave=63182,e.Gravesmall=63328,e.Gsmall=63335,e.Gsmallhook=667,e.Gstroke=484,e.H=72,e.H18533=9679,e.H18543=9642,e.H18551=9643,e.H22073=9633,e.HPsquare=13259,e.Haabkhasiancyrillic=1192,e.Hadescendercyrillic=1202,e.Hardsigncyrillic=1066,e.Hbar=294,e.Hbrevebelow=7722,e.Hcedilla=7720,e.Hcircle=9405,e.Hcircumflex=292,e.Hdieresis=7718,e.Hdotaccent=7714,e.Hdotbelow=7716,e.Hmonospace=65320,e.Hoarmenian=1344,e.Horicoptic=1e3,e.Hsmall=63336,e.Hungarumlaut=63183,e.Hungarumlautsmall=63224,e.Hzsquare=13200,e.I=73,e.IAcyrillic=1071,e.IJ=306,e.IUcyrillic=1070,e.Iacute=205,e.Iacutesmall=63469,e.Ibreve=300,e.Icaron=463,e.Icircle=9406,e.Icircumflex=206,e.Icircumflexsmall=63470,e.Icyrillic=1030,e.Idblgrave=520,e.Idieresis=207,e.Idieresisacute=7726,e.Idieresiscyrillic=1252,e.Idieresissmall=63471,e.Idot=304,e.Idotaccent=304,e.Idotbelow=7882,e.Iebrevecyrillic=1238,e.Iecyrillic=1045,e.Ifraktur=8465,e.Igrave=204,e.Igravesmall=63468,e.Ihookabove=7880,e.Iicyrillic=1048,e.Iinvertedbreve=522,e.Iishortcyrillic=1049,e.Imacron=298,e.Imacroncyrillic=1250,e.Imonospace=65321,e.Iniarmenian=1339,e.Iocyrillic=1025,e.Iogonek=302,e.Iota=921,e.Iotaafrican=406,e.Iotadieresis=938,e.Iotatonos=906,e.Ismall=63337,e.Istroke=407,e.Itilde=296,e.Itildebelow=7724,e.Izhitsacyrillic=1140,e.Izhitsadblgravecyrillic=1142,e.J=74,e.Jaarmenian=1345,e.Jcircle=9407,e.Jcircumflex=308,e.Jecyrillic=1032,e.Jheharmenian=1355,e.Jmonospace=65322,e.Jsmall=63338,e.K=75,e.KBsquare=13189,e.KKsquare=13261,e.Kabashkircyrillic=1184,e.Kacute=7728,e.Kacyrillic=1050,e.Kadescendercyrillic=1178,e.Kahookcyrillic=1219,e.Kappa=922,e.Kastrokecyrillic=1182,e.Kaverticalstrokecyrillic=1180,e.Kcaron=488,e.Kcedilla=310,e.Kcircle=9408,e.Kcommaaccent=310,e.Kdotbelow=7730,e.Keharmenian=1364,e.Kenarmenian=1343,e.Khacyrillic=1061,e.Kheicoptic=998,e.Khook=408,e.Kjecyrillic=1036,e.Klinebelow=7732,e.Kmonospace=65323,e.Koppacyrillic=1152,e.Koppagreek=990,e.Ksicyrillic=1134,e.Ksmall=63339,e.L=76,e.LJ=455,e.LL=63167,e.Lacute=313,e.Lambda=923,e.Lcaron=317,e.Lcedilla=315,e.Lcircle=9409,e.Lcircumflexbelow=7740,e.Lcommaaccent=315,e.Ldot=319,e.Ldotaccent=319,e.Ldotbelow=7734,e.Ldotbelowmacron=7736,e.Liwnarmenian=1340,e.Lj=456,e.Ljecyrillic=1033,e.Llinebelow=7738,e.Lmonospace=65324,e.Lslash=321,e.Lslashsmall=63225,e.Lsmall=63340,e.M=77,e.MBsquare=13190,e.Macron=63184,e.Macronsmall=63407,e.Macute=7742,e.Mcircle=9410,e.Mdotaccent=7744,e.Mdotbelow=7746,e.Menarmenian=1348,e.Mmonospace=65325,e.Msmall=63341,e.Mturned=412,e.Mu=924,e.N=78,e.NJ=458,e.Nacute=323,e.Ncaron=327,e.Ncedilla=325,e.Ncircle=9411,e.Ncircumflexbelow=7754,e.Ncommaaccent=325,e.Ndotaccent=7748,e.Ndotbelow=7750,e.Nhookleft=413,e.Nineroman=8552,e.Nj=459,e.Njecyrillic=1034,e.Nlinebelow=7752,e.Nmonospace=65326,e.Nowarmenian=1350,e.Nsmall=63342,e.Ntilde=209,e.Ntildesmall=63473,e.Nu=925,e.O=79,e.OE=338,e.OEsmall=63226,e.Oacute=211,e.Oacutesmall=63475,e.Obarredcyrillic=1256,e.Obarreddieresiscyrillic=1258,e.Obreve=334,e.Ocaron=465,e.Ocenteredtilde=415,e.Ocircle=9412,e.Ocircumflex=212,e.Ocircumflexacute=7888,e.Ocircumflexdotbelow=7896,e.Ocircumflexgrave=7890,e.Ocircumflexhookabove=7892,e.Ocircumflexsmall=63476,e.Ocircumflextilde=7894,e.Ocyrillic=1054,e.Odblacute=336,e.Odblgrave=524,e.Odieresis=214,e.Odieresiscyrillic=1254,e.Odieresissmall=63478,e.Odotbelow=7884,e.Ogoneksmall=63227,e.Ograve=210,e.Ogravesmall=63474,e.Oharmenian=1365,e.Ohm=8486,e.Ohookabove=7886,e.Ohorn=416,e.Ohornacute=7898,e.Ohorndotbelow=7906,e.Ohorngrave=7900,e.Ohornhookabove=7902,e.Ohorntilde=7904,e.Ohungarumlaut=336,e.Oi=418,e.Oinvertedbreve=526,e.Omacron=332,e.Omacronacute=7762,e.Omacrongrave=7760,e.Omega=8486,e.Omegacyrillic=1120,e.Omegagreek=937,e.Omegaroundcyrillic=1146,e.Omegatitlocyrillic=1148,e.Omegatonos=911,e.Omicron=927,e.Omicrontonos=908,e.Omonospace=65327,e.Oneroman=8544,e.Oogonek=490,e.Oogonekmacron=492,e.Oopen=390,e.Oslash=216,e.Oslashacute=510,e.Oslashsmall=63480,e.Osmall=63343,e.Ostrokeacute=510,e.Otcyrillic=1150,e.Otilde=213,e.Otildeacute=7756,e.Otildedieresis=7758,e.Otildesmall=63477,e.P=80,e.Pacute=7764,e.Pcircle=9413,e.Pdotaccent=7766,e.Pecyrillic=1055,e.Peharmenian=1354,e.Pemiddlehookcyrillic=1190,e.Phi=934,e.Phook=420,e.Pi=928,e.Piwrarmenian=1363,e.Pmonospace=65328,e.Psi=936,e.Psicyrillic=1136,e.Psmall=63344,e.Q=81,e.Qcircle=9414,e.Qmonospace=65329,e.Qsmall=63345,e.R=82,e.Raarmenian=1356,e.Racute=340,e.Rcaron=344,e.Rcedilla=342,e.Rcircle=9415,e.Rcommaaccent=342,e.Rdblgrave=528,e.Rdotaccent=7768,e.Rdotbelow=7770,e.Rdotbelowmacron=7772,e.Reharmenian=1360,e.Rfraktur=8476,e.Rho=929,e.Ringsmall=63228,e.Rinvertedbreve=530,e.Rlinebelow=7774,e.Rmonospace=65330,e.Rsmall=63346,e.Rsmallinverted=641,e.Rsmallinvertedsuperior=694,e.S=83,e.SF010000=9484,e.SF020000=9492,e.SF030000=9488,e.SF040000=9496,e.SF050000=9532,e.SF060000=9516,e.SF070000=9524,e.SF080000=9500,e.SF090000=9508,e.SF100000=9472,e.SF110000=9474,e.SF190000=9569,e.SF200000=9570,e.SF210000=9558,e.SF220000=9557,e.SF230000=9571,e.SF240000=9553,e.SF250000=9559,e.SF260000=9565,e.SF270000=9564,e.SF280000=9563,e.SF360000=9566,e.SF370000=9567,e.SF380000=9562,e.SF390000=9556,e.SF400000=9577,e.SF410000=9574,e.SF420000=9568,e.SF430000=9552,e.SF440000=9580,e.SF450000=9575,e.SF460000=9576,e.SF470000=9572,e.SF480000=9573,e.SF490000=9561,e.SF500000=9560,e.SF510000=9554,e.SF520000=9555,e.SF530000=9579,e.SF540000=9578,e.Sacute=346,e.Sacutedotaccent=7780,e.Sampigreek=992,e.Scaron=352,e.Scarondotaccent=7782,e.Scaronsmall=63229,e.Scedilla=350,e.Schwa=399,e.Schwacyrillic=1240,e.Schwadieresiscyrillic=1242,e.Scircle=9416,e.Scircumflex=348,e.Scommaaccent=536,e.Sdotaccent=7776,e.Sdotbelow=7778,e.Sdotbelowdotaccent=7784,e.Seharmenian=1357,e.Sevenroman=8550,e.Shaarmenian=1351,e.Shacyrillic=1064,e.Shchacyrillic=1065,e.Sheicoptic=994,e.Shhacyrillic=1210,e.Shimacoptic=1004,e.Sigma=931,e.Sixroman=8549,e.Smonospace=65331,e.Softsigncyrillic=1068,e.Ssmall=63347,e.Stigmagreek=986,e.T=84,e.Tau=932,e.Tbar=358,e.Tcaron=356,e.Tcedilla=354,e.Tcircle=9417,e.Tcircumflexbelow=7792,e.Tcommaaccent=354,e.Tdotaccent=7786,e.Tdotbelow=7788,e.Tecyrillic=1058,e.Tedescendercyrillic=1196,e.Tenroman=8553,e.Tetsecyrillic=1204,e.Theta=920,e.Thook=428,e.Thorn=222,e.Thornsmall=63486,e.Threeroman=8546,e.Tildesmall=63230,e.Tiwnarmenian=1359,e.Tlinebelow=7790,e.Tmonospace=65332,e.Toarmenian=1337,e.Tonefive=444,e.Tonesix=388,e.Tonetwo=423,e.Tretroflexhook=430,e.Tsecyrillic=1062,e.Tshecyrillic=1035,e.Tsmall=63348,e.Twelveroman=8555,e.Tworoman=8545,e.U=85,e.Uacute=218,e.Uacutesmall=63482,e.Ubreve=364,e.Ucaron=467,e.Ucircle=9418,e.Ucircumflex=219,e.Ucircumflexbelow=7798,e.Ucircumflexsmall=63483,e.Ucyrillic=1059,e.Udblacute=368,e.Udblgrave=532,e.Udieresis=220,e.Udieresisacute=471,e.Udieresisbelow=7794,e.Udieresiscaron=473,e.Udieresiscyrillic=1264,e.Udieresisgrave=475,e.Udieresismacron=469,e.Udieresissmall=63484,e.Udotbelow=7908,e.Ugrave=217,e.Ugravesmall=63481,e.Uhookabove=7910,e.Uhorn=431,e.Uhornacute=7912,e.Uhorndotbelow=7920,e.Uhorngrave=7914,e.Uhornhookabove=7916,e.Uhorntilde=7918,e.Uhungarumlaut=368,e.Uhungarumlautcyrillic=1266,e.Uinvertedbreve=534,e.Ukcyrillic=1144,e.Umacron=362,e.Umacroncyrillic=1262,e.Umacrondieresis=7802,e.Umonospace=65333,e.Uogonek=370,e.Upsilon=933,e.Upsilon1=978,e.Upsilonacutehooksymbolgreek=979,e.Upsilonafrican=433,e.Upsilondieresis=939,e.Upsilondieresishooksymbolgreek=980,e.Upsilonhooksymbol=978,e.Upsilontonos=910,e.Uring=366,e.Ushortcyrillic=1038,e.Usmall=63349,e.Ustraightcyrillic=1198,e.Ustraightstrokecyrillic=1200,e.Utilde=360,e.Utildeacute=7800,e.Utildebelow=7796,e.V=86,e.Vcircle=9419,e.Vdotbelow=7806,e.Vecyrillic=1042,e.Vewarmenian=1358,e.Vhook=434,e.Vmonospace=65334,e.Voarmenian=1352,e.Vsmall=63350,e.Vtilde=7804,e.W=87,e.Wacute=7810,e.Wcircle=9420,e.Wcircumflex=372,e.Wdieresis=7812,e.Wdotaccent=7814,e.Wdotbelow=7816,e.Wgrave=7808,e.Wmonospace=65335,e.Wsmall=63351,e.X=88,e.Xcircle=9421,e.Xdieresis=7820,e.Xdotaccent=7818,e.Xeharmenian=1341,e.Xi=926,e.Xmonospace=65336,e.Xsmall=63352,e.Y=89,e.Yacute=221,e.Yacutesmall=63485,e.Yatcyrillic=1122,e.Ycircle=9422,e.Ycircumflex=374,e.Ydieresis=376,e.Ydieresissmall=63487,e.Ydotaccent=7822,e.Ydotbelow=7924,e.Yericyrillic=1067,e.Yerudieresiscyrillic=1272,e.Ygrave=7922,e.Yhook=435,e.Yhookabove=7926,e.Yiarmenian=1349,e.Yicyrillic=1031,e.Yiwnarmenian=1362,e.Ymonospace=65337,e.Ysmall=63353,e.Ytilde=7928,e.Yusbigcyrillic=1130,e.Yusbigiotifiedcyrillic=1132,e.Yuslittlecyrillic=1126,e.Yuslittleiotifiedcyrillic=1128,e.Z=90,e.Zaarmenian=1334,e.Zacute=377,e.Zcaron=381,e.Zcaronsmall=63231,e.Zcircle=9423,e.Zcircumflex=7824,e.Zdot=379,e.Zdotaccent=379,e.Zdotbelow=7826,e.Zecyrillic=1047,e.Zedescendercyrillic=1176,e.Zedieresiscyrillic=1246,e.Zeta=918,e.Zhearmenian=1338,e.Zhebrevecyrillic=1217,e.Zhecyrillic=1046,e.Zhedescendercyrillic=1174,e.Zhedieresiscyrillic=1244,e.Zlinebelow=7828,e.Zmonospace=65338,e.Zsmall=63354,e.Zstroke=437,e.a=97,e.aabengali=2438,e.aacute=225,e.aadeva=2310,e.aagujarati=2694,e.aagurmukhi=2566,e.aamatragurmukhi=2622,e.aarusquare=13059,e.aavowelsignbengali=2494,e.aavowelsigndeva=2366,e.aavowelsigngujarati=2750,e.abbreviationmarkarmenian=1375,e.abbreviationsigndeva=2416,e.abengali=2437,e.abopomofo=12570,e.abreve=259,e.abreveacute=7855,e.abrevecyrillic=1233,e.abrevedotbelow=7863,e.abrevegrave=7857,e.abrevehookabove=7859,e.abrevetilde=7861,e.acaron=462,e.acircle=9424,e.acircumflex=226,e.acircumflexacute=7845,e.acircumflexdotbelow=7853,e.acircumflexgrave=7847,e.acircumflexhookabove=7849,e.acircumflextilde=7851,e.acute=180,e.acutebelowcmb=791,e.acutecmb=769,e.acutecomb=769,e.acutedeva=2388,e.acutelowmod=719,e.acutetonecmb=833,e.acyrillic=1072,e.adblgrave=513,e.addakgurmukhi=2673,e.adeva=2309,e.adieresis=228,e.adieresiscyrillic=1235,e.adieresismacron=479,e.adotbelow=7841,e.adotmacron=481,e.ae=230,e.aeacute=509,e.aekorean=12624,e.aemacron=483,e.afii00208=8213,e.afii08941=8356,e.afii10017=1040,e.afii10018=1041,e.afii10019=1042,e.afii10020=1043,e.afii10021=1044,e.afii10022=1045,e.afii10023=1025,e.afii10024=1046,e.afii10025=1047,e.afii10026=1048,e.afii10027=1049,e.afii10028=1050,e.afii10029=1051,e.afii10030=1052,e.afii10031=1053,e.afii10032=1054,e.afii10033=1055,e.afii10034=1056,e.afii10035=1057,e.afii10036=1058,e.afii10037=1059,e.afii10038=1060,e.afii10039=1061,e.afii10040=1062,e.afii10041=1063,e.afii10042=1064,e.afii10043=1065,e.afii10044=1066,e.afii10045=1067,e.afii10046=1068,e.afii10047=1069,e.afii10048=1070,e.afii10049=1071,e.afii10050=1168,e.afii10051=1026,e.afii10052=1027,e.afii10053=1028,e.afii10054=1029,e.afii10055=1030,e.afii10056=1031,e.afii10057=1032,e.afii10058=1033,e.afii10059=1034,e.afii10060=1035,e.afii10061=1036,e.afii10062=1038,e.afii10063=63172,e.afii10064=63173,e.afii10065=1072,e.afii10066=1073,e.afii10067=1074,e.afii10068=1075,e.afii10069=1076,e.afii10070=1077,e.afii10071=1105,e.afii10072=1078,e.afii10073=1079,e.afii10074=1080,e.afii10075=1081,e.afii10076=1082,e.afii10077=1083,e.afii10078=1084,e.afii10079=1085,e.afii10080=1086,e.afii10081=1087,e.afii10082=1088,e.afii10083=1089,e.afii10084=1090,e.afii10085=1091,e.afii10086=1092,e.afii10087=1093,e.afii10088=1094,e.afii10089=1095,e.afii10090=1096,e.afii10091=1097,e.afii10092=1098,e.afii10093=1099,e.afii10094=1100,e.afii10095=1101,e.afii10096=1102,e.afii10097=1103,e.afii10098=1169,e.afii10099=1106,e.afii10100=1107,e.afii10101=1108,e.afii10102=1109,e.afii10103=1110,e.afii10104=1111,e.afii10105=1112,e.afii10106=1113,e.afii10107=1114,e.afii10108=1115,e.afii10109=1116,e.afii10110=1118,e.afii10145=1039,e.afii10146=1122,e.afii10147=1138,e.afii10148=1140,e.afii10192=63174,e.afii10193=1119,e.afii10194=1123,e.afii10195=1139,e.afii10196=1141,e.afii10831=63175,e.afii10832=63176,e.afii10846=1241,e.afii299=8206,e.afii300=8207,e.afii301=8205,e.afii57381=1642,e.afii57388=1548,e.afii57392=1632,e.afii57393=1633,e.afii57394=1634,e.afii57395=1635,e.afii57396=1636,e.afii57397=1637,e.afii57398=1638,e.afii57399=1639,e.afii57400=1640,e.afii57401=1641,e.afii57403=1563,e.afii57407=1567,e.afii57409=1569,e.afii57410=1570,e.afii57411=1571,e.afii57412=1572,e.afii57413=1573,e.afii57414=1574,e.afii57415=1575,e.afii57416=1576,e.afii57417=1577,e.afii57418=1578,e.afii57419=1579,e.afii57420=1580,e.afii57421=1581,e.afii57422=1582,e.afii57423=1583,e.afii57424=1584,e.afii57425=1585,e.afii57426=1586,e.afii57427=1587,e.afii57428=1588,e.afii57429=1589,e.afii57430=1590,e.afii57431=1591,e.afii57432=1592,e.afii57433=1593,e.afii57434=1594,e.afii57440=1600,e.afii57441=1601,e.afii57442=1602,e.afii57443=1603,e.afii57444=1604,e.afii57445=1605,e.afii57446=1606,e.afii57448=1608,e.afii57449=1609,e.afii57450=1610,e.afii57451=1611,e.afii57452=1612,e.afii57453=1613,e.afii57454=1614,e.afii57455=1615,e.afii57456=1616,e.afii57457=1617,e.afii57458=1618,e.afii57470=1607,e.afii57505=1700,e.afii57506=1662,e.afii57507=1670,e.afii57508=1688,e.afii57509=1711,e.afii57511=1657,e.afii57512=1672,e.afii57513=1681,e.afii57514=1722,e.afii57519=1746,e.afii57534=1749,e.afii57636=8362,e.afii57645=1470,e.afii57658=1475,e.afii57664=1488,e.afii57665=1489,e.afii57666=1490,e.afii57667=1491,e.afii57668=1492,e.afii57669=1493,e.afii57670=1494,e.afii57671=1495,e.afii57672=1496,e.afii57673=1497,e.afii57674=1498,e.afii57675=1499,e.afii57676=1500,e.afii57677=1501,e.afii57678=1502,e.afii57679=1503,e.afii57680=1504,e.afii57681=1505,e.afii57682=1506,e.afii57683=1507,e.afii57684=1508,e.afii57685=1509,e.afii57686=1510,e.afii57687=1511,e.afii57688=1512,e.afii57689=1513,e.afii57690=1514,e.afii57694=64298,e.afii57695=64299,e.afii57700=64331,e.afii57705=64287,e.afii57716=1520,e.afii57717=1521,e.afii57718=1522,e.afii57723=64309,e.afii57793=1460,e.afii57794=1461,e.afii57795=1462,e.afii57796=1467,e.afii57797=1464,e.afii57798=1463,e.afii57799=1456,e.afii57800=1458,e.afii57801=1457,e.afii57802=1459,e.afii57803=1474,e.afii57804=1473,e.afii57806=1465,e.afii57807=1468,e.afii57839=1469,e.afii57841=1471,e.afii57842=1472,e.afii57929=700,e.afii61248=8453,e.afii61289=8467,e.afii61352=8470,e.afii61573=8236,e.afii61574=8237,e.afii61575=8238,e.afii61664=8204,e.afii63167=1645,e.afii64937=701,e.agrave=224,e.agujarati=2693,e.agurmukhi=2565,e.ahiragana=12354,e.ahookabove=7843,e.aibengali=2448,e.aibopomofo=12574,e.aideva=2320,e.aiecyrillic=1237,e.aigujarati=2704,e.aigurmukhi=2576,e.aimatragurmukhi=2632,e.ainarabic=1593,e.ainfinalarabic=65226,e.aininitialarabic=65227,e.ainmedialarabic=65228,e.ainvertedbreve=515,e.aivowelsignbengali=2504,e.aivowelsigndeva=2376,e.aivowelsigngujarati=2760,e.akatakana=12450,e.akatakanahalfwidth=65393,e.akorean=12623,e.alef=1488,e.alefarabic=1575,e.alefdageshhebrew=64304,e.aleffinalarabic=65166,e.alefhamzaabovearabic=1571,e.alefhamzaabovefinalarabic=65156,e.alefhamzabelowarabic=1573,e.alefhamzabelowfinalarabic=65160,e.alefhebrew=1488,e.aleflamedhebrew=64335,e.alefmaddaabovearabic=1570,e.alefmaddaabovefinalarabic=65154,e.alefmaksuraarabic=1609,e.alefmaksurafinalarabic=65264,e.alefmaksurainitialarabic=65267,e.alefmaksuramedialarabic=65268,e.alefpatahhebrew=64302,e.alefqamatshebrew=64303,e.aleph=8501,e.allequal=8780,e.alpha=945,e.alphatonos=940,e.amacron=257,e.amonospace=65345,e.ampersand=38,e.ampersandmonospace=65286,e.ampersandsmall=63270,e.amsquare=13250,e.anbopomofo=12578,e.angbopomofo=12580,e.angbracketleft=12296,e.angbracketright=12297,e.angkhankhuthai=3674,e.angle=8736,e.anglebracketleft=12296,e.anglebracketleftvertical=65087,e.anglebracketright=12297,e.anglebracketrightvertical=65088,e.angleleft=9001,e.angleright=9002,e.angstrom=8491,e.anoteleia=903,e.anudattadeva=2386,e.anusvarabengali=2434,e.anusvaradeva=2306,e.anusvaragujarati=2690,e.aogonek=261,e.apaatosquare=13056,e.aparen=9372,e.apostrophearmenian=1370,e.apostrophemod=700,e.apple=63743,e.approaches=8784,e.approxequal=8776,e.approxequalorimage=8786,e.approximatelyequal=8773,e.araeaekorean=12686,e.araeakorean=12685,e.arc=8978,e.arighthalfring=7834,e.aring=229,e.aringacute=507,e.aringbelow=7681,e.arrowboth=8596,e.arrowdashdown=8675,e.arrowdashleft=8672,e.arrowdashright=8674,e.arrowdashup=8673,e.arrowdblboth=8660,e.arrowdbldown=8659,e.arrowdblleft=8656,e.arrowdblright=8658,e.arrowdblup=8657,e.arrowdown=8595,e.arrowdownleft=8601,e.arrowdownright=8600,e.arrowdownwhite=8681,e.arrowheaddownmod=709,e.arrowheadleftmod=706,e.arrowheadrightmod=707,e.arrowheadupmod=708,e.arrowhorizex=63719,e.arrowleft=8592,e.arrowleftdbl=8656,e.arrowleftdblstroke=8653,e.arrowleftoverright=8646,e.arrowleftwhite=8678,e.arrowright=8594,e.arrowrightdblstroke=8655,e.arrowrightheavy=10142,e.arrowrightoverleft=8644,e.arrowrightwhite=8680,e.arrowtableft=8676,e.arrowtabright=8677,e.arrowup=8593,e.arrowupdn=8597,e.arrowupdnbse=8616,e.arrowupdownbase=8616,e.arrowupleft=8598,e.arrowupleftofdown=8645,e.arrowupright=8599,e.arrowupwhite=8679,e.arrowvertex=63718,e.asciicircum=94,e.asciicircummonospace=65342,e.asciitilde=126,e.asciitildemonospace=65374,e.ascript=593,e.ascriptturned=594,e.asmallhiragana=12353,e.asmallkatakana=12449,e.asmallkatakanahalfwidth=65383,e.asterisk=42,e.asteriskaltonearabic=1645,e.asteriskarabic=1645,e.asteriskmath=8727,e.asteriskmonospace=65290,e.asterisksmall=65121,e.asterism=8258,e.asuperior=63209,e.asymptoticallyequal=8771,e.at=64,e.atilde=227,e.atmonospace=65312,e.atsmall=65131,e.aturned=592,e.aubengali=2452,e.aubopomofo=12576,e.audeva=2324,e.augujarati=2708,e.augurmukhi=2580,e.aulengthmarkbengali=2519,e.aumatragurmukhi=2636,e.auvowelsignbengali=2508,e.auvowelsigndeva=2380,e.auvowelsigngujarati=2764,e.avagrahadeva=2365,e.aybarmenian=1377,e.ayin=1506,e.ayinaltonehebrew=64288,e.ayinhebrew=1506,e.b=98,e.babengali=2476,e.backslash=92,e.backslashmonospace=65340,e.badeva=2348,e.bagujarati=2732,e.bagurmukhi=2604,e.bahiragana=12400,e.bahtthai=3647,e.bakatakana=12496,e.bar=124,e.barmonospace=65372,e.bbopomofo=12549,e.bcircle=9425,e.bdotaccent=7683,e.bdotbelow=7685,e.beamedsixteenthnotes=9836,e.because=8757,e.becyrillic=1073,e.beharabic=1576,e.behfinalarabic=65168,e.behinitialarabic=65169,e.behiragana=12409,e.behmedialarabic=65170,e.behmeeminitialarabic=64671,e.behmeemisolatedarabic=64520,e.behnoonfinalarabic=64621,e.bekatakana=12505,e.benarmenian=1378,e.bet=1489,e.beta=946,e.betasymbolgreek=976,e.betdagesh=64305,e.betdageshhebrew=64305,e.bethebrew=1489,e.betrafehebrew=64332,e.bhabengali=2477,e.bhadeva=2349,e.bhagujarati=2733,e.bhagurmukhi=2605,e.bhook=595,e.bihiragana=12403,e.bikatakana=12499,e.bilabialclick=664,e.bindigurmukhi=2562,e.birusquare=13105,e.blackcircle=9679,e.blackdiamond=9670,e.blackdownpointingtriangle=9660,e.blackleftpointingpointer=9668,e.blackleftpointingtriangle=9664,e.blacklenticularbracketleft=12304,e.blacklenticularbracketleftvertical=65083,e.blacklenticularbracketright=12305,e.blacklenticularbracketrightvertical=65084,e.blacklowerlefttriangle=9699,e.blacklowerrighttriangle=9698,e.blackrectangle=9644,e.blackrightpointingpointer=9658,e.blackrightpointingtriangle=9654,e.blacksmallsquare=9642,e.blacksmilingface=9787,e.blacksquare=9632,e.blackstar=9733,e.blackupperlefttriangle=9700,e.blackupperrighttriangle=9701,e.blackuppointingsmalltriangle=9652,e.blackuppointingtriangle=9650,e.blank=9251,e.blinebelow=7687,e.block=9608,e.bmonospace=65346,e.bobaimaithai=3610,e.bohiragana=12412,e.bokatakana=12508,e.bparen=9373,e.bqsquare=13251,e.braceex=63732,e.braceleft=123,e.braceleftbt=63731,e.braceleftmid=63730,e.braceleftmonospace=65371,e.braceleftsmall=65115,e.bracelefttp=63729,e.braceleftvertical=65079,e.braceright=125,e.bracerightbt=63742,e.bracerightmid=63741,e.bracerightmonospace=65373,e.bracerightsmall=65116,e.bracerighttp=63740,e.bracerightvertical=65080,e.bracketleft=91,e.bracketleftbt=63728,e.bracketleftex=63727,e.bracketleftmonospace=65339,e.bracketlefttp=63726,e.bracketright=93,e.bracketrightbt=63739,e.bracketrightex=63738,e.bracketrightmonospace=65341,e.bracketrighttp=63737,e.breve=728,e.brevebelowcmb=814,e.brevecmb=774,e.breveinvertedbelowcmb=815,e.breveinvertedcmb=785,e.breveinverteddoublecmb=865,e.bridgebelowcmb=810,e.bridgeinvertedbelowcmb=826,e.brokenbar=166,e.bstroke=384,e.bsuperior=63210,e.btopbar=387,e.buhiragana=12406,e.bukatakana=12502,e.bullet=8226,e.bulletinverse=9688,e.bulletoperator=8729,e.bullseye=9678,e.c=99,e.caarmenian=1390,e.cabengali=2458,e.cacute=263,e.cadeva=2330,e.cagujarati=2714,e.cagurmukhi=2586,e.calsquare=13192,e.candrabindubengali=2433,e.candrabinducmb=784,e.candrabindudeva=2305,e.candrabindugujarati=2689,e.capslock=8682,e.careof=8453,e.caron=711,e.caronbelowcmb=812,e.caroncmb=780,e.carriagereturn=8629,e.cbopomofo=12568,e.ccaron=269,e.ccedilla=231,e.ccedillaacute=7689,e.ccircle=9426,e.ccircumflex=265,e.ccurl=597,e.cdot=267,e.cdotaccent=267,e.cdsquare=13253,e.cedilla=184,e.cedillacmb=807,e.cent=162,e.centigrade=8451,e.centinferior=63199,e.centmonospace=65504,e.centoldstyle=63394,e.centsuperior=63200,e.chaarmenian=1401,e.chabengali=2459,e.chadeva=2331,e.chagujarati=2715,e.chagurmukhi=2587,e.chbopomofo=12564,e.cheabkhasiancyrillic=1213,e.checkmark=10003,e.checyrillic=1095,e.chedescenderabkhasiancyrillic=1215,e.chedescendercyrillic=1207,e.chedieresiscyrillic=1269,e.cheharmenian=1395,e.chekhakassiancyrillic=1228,e.cheverticalstrokecyrillic=1209,e.chi=967,e.chieuchacirclekorean=12919,e.chieuchaparenkorean=12823,e.chieuchcirclekorean=12905,e.chieuchkorean=12618,e.chieuchparenkorean=12809,e.chochangthai=3594,e.chochanthai=3592,e.chochingthai=3593,e.chochoethai=3596,e.chook=392,e.cieucacirclekorean=12918,e.cieucaparenkorean=12822,e.cieuccirclekorean=12904,e.cieuckorean=12616,e.cieucparenkorean=12808,e.cieucuparenkorean=12828,e.circle=9675,e.circlecopyrt=169,e.circlemultiply=8855,e.circleot=8857,e.circleplus=8853,e.circlepostalmark=12342,e.circlewithlefthalfblack=9680,e.circlewithrighthalfblack=9681,e.circumflex=710,e.circumflexbelowcmb=813,e.circumflexcmb=770,e.clear=8999,e.clickalveolar=450,e.clickdental=448,e.clicklateral=449,e.clickretroflex=451,e.club=9827,e.clubsuitblack=9827,e.clubsuitwhite=9831,e.cmcubedsquare=13220,e.cmonospace=65347,e.cmsquaredsquare=13216,e.coarmenian=1409,e.colon=58,e.colonmonetary=8353,e.colonmonospace=65306,e.colonsign=8353,e.colonsmall=65109,e.colontriangularhalfmod=721,e.colontriangularmod=720,e.comma=44,e.commaabovecmb=787,e.commaaboverightcmb=789,e.commaaccent=63171,e.commaarabic=1548,e.commaarmenian=1373,e.commainferior=63201,e.commamonospace=65292,e.commareversedabovecmb=788,e.commareversedmod=701,e.commasmall=65104,e.commasuperior=63202,e.commaturnedabovecmb=786,e.commaturnedmod=699,e.compass=9788,e.congruent=8773,e.contourintegral=8750,e.control=8963,e.controlACK=6,e.controlBEL=7,e.controlBS=8,e.controlCAN=24,e.controlCR=13,e.controlDC1=17,e.controlDC2=18,e.controlDC3=19,e.controlDC4=20,e.controlDEL=127,e.controlDLE=16,e.controlEM=25,e.controlENQ=5,e.controlEOT=4,e.controlESC=27,e.controlETB=23,e.controlETX=3,e.controlFF=12,e.controlFS=28,e.controlGS=29,e.controlHT=9,e.controlLF=10,e.controlNAK=21,e.controlNULL=0,e.controlRS=30,e.controlSI=15,e.controlSO=14,e.controlSOT=2,e.controlSTX=1,e.controlSUB=26,e.controlSYN=22,e.controlUS=31,e.controlVT=11,e.copyright=169,e.copyrightsans=63721,e.copyrightserif=63193,e.cornerbracketleft=12300,e.cornerbracketlefthalfwidth=65378,e.cornerbracketleftvertical=65089,e.cornerbracketright=12301,e.cornerbracketrighthalfwidth=65379,e.cornerbracketrightvertical=65090,e.corporationsquare=13183,e.cosquare=13255,e.coverkgsquare=13254,e.cparen=9374,e.cruzeiro=8354,e.cstretched=663,e.curlyand=8911,e.curlyor=8910,e.currency=164,e.cyrBreve=63185,e.cyrFlex=63186,e.cyrbreve=63188,e.cyrflex=63189,e.d=100,e.daarmenian=1380,e.dabengali=2470,e.dadarabic=1590,e.dadeva=2342,e.dadfinalarabic=65214,e.dadinitialarabic=65215,e.dadmedialarabic=65216,e.dagesh=1468,e.dageshhebrew=1468,e.dagger=8224,e.daggerdbl=8225,e.dagujarati=2726,e.dagurmukhi=2598,e.dahiragana=12384,e.dakatakana=12480,e.dalarabic=1583,e.dalet=1491,e.daletdagesh=64307,e.daletdageshhebrew=64307,e.dalethebrew=1491,e.dalfinalarabic=65194,e.dammaarabic=1615,e.dammalowarabic=1615,e.dammatanaltonearabic=1612,e.dammatanarabic=1612,e.danda=2404,e.dargahebrew=1447,e.dargalefthebrew=1447,e.dasiapneumatacyrilliccmb=1157,e.dblGrave=63187,e.dblanglebracketleft=12298,e.dblanglebracketleftvertical=65085,e.dblanglebracketright=12299,e.dblanglebracketrightvertical=65086,e.dblarchinvertedbelowcmb=811,e.dblarrowleft=8660,e.dblarrowright=8658,e.dbldanda=2405,e.dblgrave=63190,e.dblgravecmb=783,e.dblintegral=8748,e.dbllowline=8215,e.dbllowlinecmb=819,e.dbloverlinecmb=831,e.dblprimemod=698,e.dblverticalbar=8214,e.dblverticallineabovecmb=782,e.dbopomofo=12553,e.dbsquare=13256,e.dcaron=271,e.dcedilla=7697,e.dcircle=9427,e.dcircumflexbelow=7699,e.dcroat=273,e.ddabengali=2465,e.ddadeva=2337,e.ddagujarati=2721,e.ddagurmukhi=2593,e.ddalarabic=1672,e.ddalfinalarabic=64393,e.dddhadeva=2396,e.ddhabengali=2466,e.ddhadeva=2338,e.ddhagujarati=2722,e.ddhagurmukhi=2594,e.ddotaccent=7691,e.ddotbelow=7693,e.decimalseparatorarabic=1643,e.decimalseparatorpersian=1643,e.decyrillic=1076,e.degree=176,e.dehihebrew=1453,e.dehiragana=12391,e.deicoptic=1007,e.dekatakana=12487,e.deleteleft=9003,e.deleteright=8998,e.delta=948,e.deltaturned=397,e.denominatorminusonenumeratorbengali=2552,e.dezh=676,e.dhabengali=2471,e.dhadeva=2343,e.dhagujarati=2727,e.dhagurmukhi=2599,e.dhook=599,e.dialytikatonos=901,e.dialytikatonoscmb=836,e.diamond=9830,e.diamondsuitwhite=9826,e.dieresis=168,e.dieresisacute=63191,e.dieresisbelowcmb=804,e.dieresiscmb=776,e.dieresisgrave=63192,e.dieresistonos=901,e.dihiragana=12386,e.dikatakana=12482,e.dittomark=12291,e.divide=247,e.divides=8739,e.divisionslash=8725,e.djecyrillic=1106,e.dkshade=9619,e.dlinebelow=7695,e.dlsquare=13207,e.dmacron=273,e.dmonospace=65348,e.dnblock=9604,e.dochadathai=3598,e.dodekthai=3604,e.dohiragana=12393,e.dokatakana=12489,e.dollar=36,e.dollarinferior=63203,e.dollarmonospace=65284,e.dollaroldstyle=63268,e.dollarsmall=65129,e.dollarsuperior=63204,e.dong=8363,e.dorusquare=13094,e.dotaccent=729,e.dotaccentcmb=775,e.dotbelowcmb=803,e.dotbelowcomb=803,e.dotkatakana=12539,e.dotlessi=305,e.dotlessj=63166,e.dotlessjstrokehook=644,e.dotmath=8901,e.dottedcircle=9676,e.doubleyodpatah=64287,e.doubleyodpatahhebrew=64287,e.downtackbelowcmb=798,e.downtackmod=725,e.dparen=9375,e.dsuperior=63211,e.dtail=598,e.dtopbar=396,e.duhiragana=12389,e.dukatakana=12485,e.dz=499,e.dzaltone=675,e.dzcaron=454,e.dzcurl=677,e.dzeabkhasiancyrillic=1249,e.dzecyrillic=1109,e.dzhecyrillic=1119,e.e=101,e.eacute=233,e.earth=9793,e.ebengali=2447,e.ebopomofo=12572,e.ebreve=277,e.ecandradeva=2317,e.ecandragujarati=2701,e.ecandravowelsigndeva=2373,e.ecandravowelsigngujarati=2757,e.ecaron=283,e.ecedillabreve=7709,e.echarmenian=1381,e.echyiwnarmenian=1415,e.ecircle=9428,e.ecircumflex=234,e.ecircumflexacute=7871,e.ecircumflexbelow=7705,e.ecircumflexdotbelow=7879,e.ecircumflexgrave=7873,e.ecircumflexhookabove=7875,e.ecircumflextilde=7877,e.ecyrillic=1108,e.edblgrave=517,e.edeva=2319,e.edieresis=235,e.edot=279,e.edotaccent=279,e.edotbelow=7865,e.eegurmukhi=2575,e.eematragurmukhi=2631,e.efcyrillic=1092,e.egrave=232,e.egujarati=2703,e.eharmenian=1383,e.ehbopomofo=12573,e.ehiragana=12360,e.ehookabove=7867,e.eibopomofo=12575,e.eight=56,e.eightarabic=1640,e.eightbengali=2542,e.eightcircle=9319,e.eightcircleinversesansserif=10129,e.eightdeva=2414,e.eighteencircle=9329,e.eighteenparen=9349,e.eighteenperiod=9369,e.eightgujarati=2798,e.eightgurmukhi=2670,e.eighthackarabic=1640,e.eighthangzhou=12328,e.eighthnotebeamed=9835,e.eightideographicparen=12839,e.eightinferior=8328,e.eightmonospace=65304,e.eightoldstyle=63288,e.eightparen=9339,e.eightperiod=9359,e.eightpersian=1784,e.eightroman=8567,e.eightsuperior=8312,e.eightthai=3672,e.einvertedbreve=519,e.eiotifiedcyrillic=1125,e.ekatakana=12456,e.ekatakanahalfwidth=65396,e.ekonkargurmukhi=2676,e.ekorean=12628,e.elcyrillic=1083,e.element=8712,e.elevencircle=9322,e.elevenparen=9342,e.elevenperiod=9362,e.elevenroman=8570,e.ellipsis=8230,e.ellipsisvertical=8942,e.emacron=275,e.emacronacute=7703,e.emacrongrave=7701,e.emcyrillic=1084,e.emdash=8212,e.emdashvertical=65073,e.emonospace=65349,e.emphasismarkarmenian=1371,e.emptyset=8709,e.enbopomofo=12579,e.encyrillic=1085,e.endash=8211,e.endashvertical=65074,e.endescendercyrillic=1187,e.eng=331,e.engbopomofo=12581,e.enghecyrillic=1189,e.enhookcyrillic=1224,e.enspace=8194,e.eogonek=281,e.eokorean=12627,e.eopen=603,e.eopenclosed=666,e.eopenreversed=604,e.eopenreversedclosed=606,e.eopenreversedhook=605,e.eparen=9376,e.epsilon=949,e.epsilontonos=941,e.equal=61,e.equalmonospace=65309,e.equalsmall=65126,e.equalsuperior=8316,e.equivalence=8801,e.erbopomofo=12582,e.ercyrillic=1088,e.ereversed=600,e.ereversedcyrillic=1101,e.escyrillic=1089,e.esdescendercyrillic=1195,e.esh=643,e.eshcurl=646,e.eshortdeva=2318,e.eshortvowelsigndeva=2374,e.eshreversedloop=426,e.eshsquatreversed=645,e.esmallhiragana=12359,e.esmallkatakana=12455,e.esmallkatakanahalfwidth=65386,e.estimated=8494,e.esuperior=63212,e.eta=951,e.etarmenian=1384,e.etatonos=942,e.eth=240,e.etilde=7869,e.etildebelow=7707,e.etnahtafoukhhebrew=1425,e.etnahtafoukhlefthebrew=1425,e.etnahtahebrew=1425,e.etnahtalefthebrew=1425,e.eturned=477,e.eukorean=12641,e.euro=8364,e.evowelsignbengali=2503,e.evowelsigndeva=2375,e.evowelsigngujarati=2759,e.exclam=33,e.exclamarmenian=1372,e.exclamdbl=8252,e.exclamdown=161,e.exclamdownsmall=63393,e.exclammonospace=65281,e.exclamsmall=63265,e.existential=8707,e.ezh=658,e.ezhcaron=495,e.ezhcurl=659,e.ezhreversed=441,e.ezhtail=442,e.f=102,e.fadeva=2398,e.fagurmukhi=2654,e.fahrenheit=8457,e.fathaarabic=1614,e.fathalowarabic=1614,e.fathatanarabic=1611,e.fbopomofo=12552,e.fcircle=9429,e.fdotaccent=7711,e.feharabic=1601,e.feharmenian=1414,e.fehfinalarabic=65234,e.fehinitialarabic=65235,e.fehmedialarabic=65236,e.feicoptic=997,e.female=9792,e.ff=64256,e.f_f=64256,e.ffi=64259,e.f_f_i=64259,e.ffl=64260,e.f_f_l=64260,e.fi=64257,e.f_i=64257,e.fifteencircle=9326,e.fifteenparen=9346,e.fifteenperiod=9366,e.figuredash=8210,e.filledbox=9632,e.filledrect=9644,e.finalkaf=1498,e.finalkafdagesh=64314,e.finalkafdageshhebrew=64314,e.finalkafhebrew=1498,e.finalmem=1501,e.finalmemhebrew=1501,e.finalnun=1503,e.finalnunhebrew=1503,e.finalpe=1507,e.finalpehebrew=1507,e.finaltsadi=1509,e.finaltsadihebrew=1509,e.firsttonechinese=713,e.fisheye=9673,e.fitacyrillic=1139,e.five=53,e.fivearabic=1637,e.fivebengali=2539,e.fivecircle=9316,e.fivecircleinversesansserif=10126,e.fivedeva=2411,e.fiveeighths=8541,e.fivegujarati=2795,e.fivegurmukhi=2667,e.fivehackarabic=1637,e.fivehangzhou=12325,e.fiveideographicparen=12836,e.fiveinferior=8325,e.fivemonospace=65301,e.fiveoldstyle=63285,e.fiveparen=9336,e.fiveperiod=9356,e.fivepersian=1781,e.fiveroman=8564,e.fivesuperior=8309,e.fivethai=3669,e.fl=64258,e.f_l=64258,e.florin=402,e.fmonospace=65350,e.fmsquare=13209,e.fofanthai=3615,e.fofathai=3613,e.fongmanthai=3663,e.forall=8704,e.four=52,e.fourarabic=1636,e.fourbengali=2538,e.fourcircle=9315,e.fourcircleinversesansserif=10125,e.fourdeva=2410,e.fourgujarati=2794,e.fourgurmukhi=2666,e.fourhackarabic=1636,e.fourhangzhou=12324,e.fourideographicparen=12835,e.fourinferior=8324,e.fourmonospace=65300,e.fournumeratorbengali=2551,e.fouroldstyle=63284,e.fourparen=9335,e.fourperiod=9355,e.fourpersian=1780,e.fourroman=8563,e.foursuperior=8308,e.fourteencircle=9325,e.fourteenparen=9345,e.fourteenperiod=9365,e.fourthai=3668,e.fourthtonechinese=715,e.fparen=9377,e.fraction=8260,e.franc=8355,e.g=103,e.gabengali=2455,e.gacute=501,e.gadeva=2327,e.gafarabic=1711,e.gaffinalarabic=64403,e.gafinitialarabic=64404,e.gafmedialarabic=64405,e.gagujarati=2711,e.gagurmukhi=2583,e.gahiragana=12364,e.gakatakana=12460,e.gamma=947,e.gammalatinsmall=611,e.gammasuperior=736,e.gangiacoptic=1003,e.gbopomofo=12557,e.gbreve=287,e.gcaron=487,e.gcedilla=291,e.gcircle=9430,e.gcircumflex=285,e.gcommaaccent=291,e.gdot=289,e.gdotaccent=289,e.gecyrillic=1075,e.gehiragana=12370,e.gekatakana=12466,e.geometricallyequal=8785,e.gereshaccenthebrew=1436,e.gereshhebrew=1523,e.gereshmuqdamhebrew=1437,e.germandbls=223,e.gershayimaccenthebrew=1438,e.gershayimhebrew=1524,e.getamark=12307,e.ghabengali=2456,e.ghadarmenian=1394,e.ghadeva=2328,e.ghagujarati=2712,e.ghagurmukhi=2584,e.ghainarabic=1594,e.ghainfinalarabic=65230,e.ghaininitialarabic=65231,e.ghainmedialarabic=65232,e.ghemiddlehookcyrillic=1173,e.ghestrokecyrillic=1171,e.gheupturncyrillic=1169,e.ghhadeva=2394,e.ghhagurmukhi=2650,e.ghook=608,e.ghzsquare=13203,e.gihiragana=12366,e.gikatakana=12462,e.gimarmenian=1379,e.gimel=1490,e.gimeldagesh=64306,e.gimeldageshhebrew=64306,e.gimelhebrew=1490,e.gjecyrillic=1107,e.glottalinvertedstroke=446,e.glottalstop=660,e.glottalstopinverted=662,e.glottalstopmod=704,e.glottalstopreversed=661,e.glottalstopreversedmod=705,e.glottalstopreversedsuperior=740,e.glottalstopstroke=673,e.glottalstopstrokereversed=674,e.gmacron=7713,e.gmonospace=65351,e.gohiragana=12372,e.gokatakana=12468,e.gparen=9378,e.gpasquare=13228,e.gradient=8711,e.grave=96,e.gravebelowcmb=790,e.gravecmb=768,e.gravecomb=768,e.gravedeva=2387,e.gravelowmod=718,e.gravemonospace=65344,e.gravetonecmb=832,e.greater=62,e.greaterequal=8805,e.greaterequalorless=8923,e.greatermonospace=65310,e.greaterorequivalent=8819,e.greaterorless=8823,e.greateroverequal=8807,e.greatersmall=65125,e.gscript=609,e.gstroke=485,e.guhiragana=12368,e.guillemotleft=171,e.guillemotright=187,e.guilsinglleft=8249,e.guilsinglright=8250,e.gukatakana=12464,e.guramusquare=13080,e.gysquare=13257,e.h=104,e.haabkhasiancyrillic=1193,e.haaltonearabic=1729,e.habengali=2489,e.hadescendercyrillic=1203,e.hadeva=2361,e.hagujarati=2745,e.hagurmukhi=2617,e.haharabic=1581,e.hahfinalarabic=65186,e.hahinitialarabic=65187,e.hahiragana=12399,e.hahmedialarabic=65188,e.haitusquare=13098,e.hakatakana=12495,e.hakatakanahalfwidth=65418,e.halantgurmukhi=2637,e.hamzaarabic=1569,e.hamzalowarabic=1569,e.hangulfiller=12644,e.hardsigncyrillic=1098,e.harpoonleftbarbup=8636,e.harpoonrightbarbup=8640,e.hasquare=13258,e.hatafpatah=1458,e.hatafpatah16=1458,e.hatafpatah23=1458,e.hatafpatah2f=1458,e.hatafpatahhebrew=1458,e.hatafpatahnarrowhebrew=1458,e.hatafpatahquarterhebrew=1458,e.hatafpatahwidehebrew=1458,e.hatafqamats=1459,e.hatafqamats1b=1459,e.hatafqamats28=1459,e.hatafqamats34=1459,e.hatafqamatshebrew=1459,e.hatafqamatsnarrowhebrew=1459,e.hatafqamatsquarterhebrew=1459,e.hatafqamatswidehebrew=1459,e.hatafsegol=1457,e.hatafsegol17=1457,e.hatafsegol24=1457,e.hatafsegol30=1457,e.hatafsegolhebrew=1457,e.hatafsegolnarrowhebrew=1457,e.hatafsegolquarterhebrew=1457,e.hatafsegolwidehebrew=1457,e.hbar=295,e.hbopomofo=12559,e.hbrevebelow=7723,e.hcedilla=7721,e.hcircle=9431,e.hcircumflex=293,e.hdieresis=7719,e.hdotaccent=7715,e.hdotbelow=7717,e.he=1492,e.heart=9829,e.heartsuitblack=9829,e.heartsuitwhite=9825,e.hedagesh=64308,e.hedageshhebrew=64308,e.hehaltonearabic=1729,e.heharabic=1607,e.hehebrew=1492,e.hehfinalaltonearabic=64423,e.hehfinalalttwoarabic=65258,e.hehfinalarabic=65258,e.hehhamzaabovefinalarabic=64421,e.hehhamzaaboveisolatedarabic=64420,e.hehinitialaltonearabic=64424,e.hehinitialarabic=65259,e.hehiragana=12408,e.hehmedialaltonearabic=64425,e.hehmedialarabic=65260,e.heiseierasquare=13179,e.hekatakana=12504,e.hekatakanahalfwidth=65421,e.hekutaarusquare=13110,e.henghook=615,e.herutusquare=13113,e.het=1495,e.hethebrew=1495,e.hhook=614,e.hhooksuperior=689,e.hieuhacirclekorean=12923,e.hieuhaparenkorean=12827,e.hieuhcirclekorean=12909,e.hieuhkorean=12622,e.hieuhparenkorean=12813,e.hihiragana=12402,e.hikatakana=12498,e.hikatakanahalfwidth=65419,e.hiriq=1460,e.hiriq14=1460,e.hiriq21=1460,e.hiriq2d=1460,e.hiriqhebrew=1460,e.hiriqnarrowhebrew=1460,e.hiriqquarterhebrew=1460,e.hiriqwidehebrew=1460,e.hlinebelow=7830,e.hmonospace=65352,e.hoarmenian=1392,e.hohipthai=3627,e.hohiragana=12411,e.hokatakana=12507,e.hokatakanahalfwidth=65422,e.holam=1465,e.holam19=1465,e.holam26=1465,e.holam32=1465,e.holamhebrew=1465,e.holamnarrowhebrew=1465,e.holamquarterhebrew=1465,e.holamwidehebrew=1465,e.honokhukthai=3630,e.hookabovecomb=777,e.hookcmb=777,e.hookpalatalizedbelowcmb=801,e.hookretroflexbelowcmb=802,e.hoonsquare=13122,e.horicoptic=1001,e.horizontalbar=8213,e.horncmb=795,e.hotsprings=9832,e.house=8962,e.hparen=9379,e.hsuperior=688,e.hturned=613,e.huhiragana=12405,e.huiitosquare=13107,e.hukatakana=12501,e.hukatakanahalfwidth=65420,e.hungarumlaut=733,e.hungarumlautcmb=779,e.hv=405,e.hyphen=45,e.hypheninferior=63205,e.hyphenmonospace=65293,e.hyphensmall=65123,e.hyphensuperior=63206,e.hyphentwo=8208,e.i=105,e.iacute=237,e.iacyrillic=1103,e.ibengali=2439,e.ibopomofo=12583,e.ibreve=301,e.icaron=464,e.icircle=9432,e.icircumflex=238,e.icyrillic=1110,e.idblgrave=521,e.ideographearthcircle=12943,e.ideographfirecircle=12939,e.ideographicallianceparen=12863,e.ideographiccallparen=12858,e.ideographiccentrecircle=12965,e.ideographicclose=12294,e.ideographiccomma=12289,e.ideographiccommaleft=65380,e.ideographiccongratulationparen=12855,e.ideographiccorrectcircle=12963,e.ideographicearthparen=12847,e.ideographicenterpriseparen=12861,e.ideographicexcellentcircle=12957,e.ideographicfestivalparen=12864,e.ideographicfinancialcircle=12950,e.ideographicfinancialparen=12854,e.ideographicfireparen=12843,e.ideographichaveparen=12850,e.ideographichighcircle=12964,e.ideographiciterationmark=12293,e.ideographiclaborcircle=12952,e.ideographiclaborparen=12856,e.ideographicleftcircle=12967,e.ideographiclowcircle=12966,e.ideographicmedicinecircle=12969,e.ideographicmetalparen=12846,e.ideographicmoonparen=12842,e.ideographicnameparen=12852,e.ideographicperiod=12290,e.ideographicprintcircle=12958,e.ideographicreachparen=12867,e.ideographicrepresentparen=12857,e.ideographicresourceparen=12862,e.ideographicrightcircle=12968,e.ideographicsecretcircle=12953,e.ideographicselfparen=12866,e.ideographicsocietyparen=12851,e.ideographicspace=12288,e.ideographicspecialparen=12853,e.ideographicstockparen=12849,e.ideographicstudyparen=12859,e.ideographicsunparen=12848,e.ideographicsuperviseparen=12860,e.ideographicwaterparen=12844,e.ideographicwoodparen=12845,e.ideographiczero=12295,e.ideographmetalcircle=12942,e.ideographmooncircle=12938,e.ideographnamecircle=12948,e.ideographsuncircle=12944,e.ideographwatercircle=12940,e.ideographwoodcircle=12941,e.ideva=2311,e.idieresis=239,e.idieresisacute=7727,e.idieresiscyrillic=1253,e.idotbelow=7883,e.iebrevecyrillic=1239,e.iecyrillic=1077,e.ieungacirclekorean=12917,e.ieungaparenkorean=12821,e.ieungcirclekorean=12903,e.ieungkorean=12615,e.ieungparenkorean=12807,e.igrave=236,e.igujarati=2695,e.igurmukhi=2567,e.ihiragana=12356,e.ihookabove=7881,e.iibengali=2440,e.iicyrillic=1080,e.iideva=2312,e.iigujarati=2696,e.iigurmukhi=2568,e.iimatragurmukhi=2624,e.iinvertedbreve=523,e.iishortcyrillic=1081,e.iivowelsignbengali=2496,e.iivowelsigndeva=2368,e.iivowelsigngujarati=2752,e.ij=307,e.ikatakana=12452,e.ikatakanahalfwidth=65394,e.ikorean=12643,e.ilde=732,e.iluyhebrew=1452,e.imacron=299,e.imacroncyrillic=1251,e.imageorapproximatelyequal=8787,e.imatragurmukhi=2623,e.imonospace=65353,e.increment=8710,e.infinity=8734,e.iniarmenian=1387,e.integral=8747,e.integralbottom=8993,e.integralbt=8993,e.integralex=63733,e.integraltop=8992,e.integraltp=8992,e.intersection=8745,e.intisquare=13061,e.invbullet=9688,e.invcircle=9689,e.invsmileface=9787,e.iocyrillic=1105,e.iogonek=303,e.iota=953,e.iotadieresis=970,e.iotadieresistonos=912,e.iotalatin=617,e.iotatonos=943,e.iparen=9380,e.irigurmukhi=2674,e.ismallhiragana=12355,e.ismallkatakana=12451,e.ismallkatakanahalfwidth=65384,e.issharbengali=2554,e.istroke=616,e.isuperior=63213,e.iterationhiragana=12445,e.iterationkatakana=12541,e.itilde=297,e.itildebelow=7725,e.iubopomofo=12585,e.iucyrillic=1102,e.ivowelsignbengali=2495,e.ivowelsigndeva=2367,e.ivowelsigngujarati=2751,e.izhitsacyrillic=1141,e.izhitsadblgravecyrillic=1143,e.j=106,e.jaarmenian=1393,e.jabengali=2460,e.jadeva=2332,e.jagujarati=2716,e.jagurmukhi=2588,e.jbopomofo=12560,e.jcaron=496,e.jcircle=9433,e.jcircumflex=309,e.jcrossedtail=669,e.jdotlessstroke=607,e.jecyrillic=1112,e.jeemarabic=1580,e.jeemfinalarabic=65182,e.jeeminitialarabic=65183,e.jeemmedialarabic=65184,e.jeharabic=1688,e.jehfinalarabic=64395,e.jhabengali=2461,e.jhadeva=2333,e.jhagujarati=2717,e.jhagurmukhi=2589,e.jheharmenian=1403,e.jis=12292,e.jmonospace=65354,e.jparen=9381,e.jsuperior=690,e.k=107,e.kabashkircyrillic=1185,e.kabengali=2453,e.kacute=7729,e.kacyrillic=1082,e.kadescendercyrillic=1179,e.kadeva=2325,e.kaf=1499,e.kafarabic=1603,e.kafdagesh=64315,e.kafdageshhebrew=64315,e.kaffinalarabic=65242,e.kafhebrew=1499,e.kafinitialarabic=65243,e.kafmedialarabic=65244,e.kafrafehebrew=64333,e.kagujarati=2709,e.kagurmukhi=2581,e.kahiragana=12363,e.kahookcyrillic=1220,e.kakatakana=12459,e.kakatakanahalfwidth=65398,e.kappa=954,e.kappasymbolgreek=1008,e.kapyeounmieumkorean=12657,e.kapyeounphieuphkorean=12676,e.kapyeounpieupkorean=12664,e.kapyeounssangpieupkorean=12665,e.karoriisquare=13069,e.kashidaautoarabic=1600,e.kashidaautonosidebearingarabic=1600,e.kasmallkatakana=12533,e.kasquare=13188,e.kasraarabic=1616,e.kasratanarabic=1613,e.kastrokecyrillic=1183,e.katahiraprolongmarkhalfwidth=65392,e.kaverticalstrokecyrillic=1181,e.kbopomofo=12558,e.kcalsquare=13193,e.kcaron=489,e.kcedilla=311,e.kcircle=9434,e.kcommaaccent=311,e.kdotbelow=7731,e.keharmenian=1412,e.kehiragana=12369,e.kekatakana=12465,e.kekatakanahalfwidth=65401,e.kenarmenian=1391,e.kesmallkatakana=12534,e.kgreenlandic=312,e.khabengali=2454,e.khacyrillic=1093,e.khadeva=2326,e.khagujarati=2710,e.khagurmukhi=2582,e.khaharabic=1582,e.khahfinalarabic=65190,e.khahinitialarabic=65191,e.khahmedialarabic=65192,e.kheicoptic=999,e.khhadeva=2393,e.khhagurmukhi=2649,e.khieukhacirclekorean=12920,e.khieukhaparenkorean=12824,e.khieukhcirclekorean=12906,e.khieukhkorean=12619,e.khieukhparenkorean=12810,e.khokhaithai=3586,e.khokhonthai=3589,e.khokhuatthai=3587,e.khokhwaithai=3588,e.khomutthai=3675,e.khook=409,e.khorakhangthai=3590,e.khzsquare=13201,e.kihiragana=12365,e.kikatakana=12461,e.kikatakanahalfwidth=65399,e.kiroguramusquare=13077,e.kiromeetorusquare=13078,e.kirosquare=13076,e.kiyeokacirclekorean=12910,e.kiyeokaparenkorean=12814,e.kiyeokcirclekorean=12896,e.kiyeokkorean=12593,e.kiyeokparenkorean=12800,e.kiyeoksioskorean=12595,e.kjecyrillic=1116,e.klinebelow=7733,e.klsquare=13208,e.kmcubedsquare=13222,e.kmonospace=65355,e.kmsquaredsquare=13218,e.kohiragana=12371,e.kohmsquare=13248,e.kokaithai=3585,e.kokatakana=12467,e.kokatakanahalfwidth=65402,e.kooposquare=13086,e.koppacyrillic=1153,e.koreanstandardsymbol=12927,e.koroniscmb=835,e.kparen=9382,e.kpasquare=13226,e.ksicyrillic=1135,e.ktsquare=13263,e.kturned=670,e.kuhiragana=12367,e.kukatakana=12463,e.kukatakanahalfwidth=65400,e.kvsquare=13240,e.kwsquare=13246,e.l=108,e.labengali=2482,e.lacute=314,e.ladeva=2354,e.lagujarati=2738,e.lagurmukhi=2610,e.lakkhangyaothai=3653,e.lamaleffinalarabic=65276,e.lamalefhamzaabovefinalarabic=65272,e.lamalefhamzaaboveisolatedarabic=65271,e.lamalefhamzabelowfinalarabic=65274,e.lamalefhamzabelowisolatedarabic=65273,e.lamalefisolatedarabic=65275,e.lamalefmaddaabovefinalarabic=65270,e.lamalefmaddaaboveisolatedarabic=65269,e.lamarabic=1604,e.lambda=955,e.lambdastroke=411,e.lamed=1500,e.lameddagesh=64316,e.lameddageshhebrew=64316,e.lamedhebrew=1500,e.lamfinalarabic=65246,e.lamhahinitialarabic=64714,e.laminitialarabic=65247,e.lamjeeminitialarabic=64713,e.lamkhahinitialarabic=64715,e.lamlamhehisolatedarabic=65010,e.lammedialarabic=65248,e.lammeemhahinitialarabic=64904,e.lammeeminitialarabic=64716,e.largecircle=9711,e.lbar=410,e.lbelt=620,e.lbopomofo=12556,e.lcaron=318,e.lcedilla=316,e.lcircle=9435,e.lcircumflexbelow=7741,e.lcommaaccent=316,e.ldot=320,e.ldotaccent=320,e.ldotbelow=7735,e.ldotbelowmacron=7737,e.leftangleabovecmb=794,e.lefttackbelowcmb=792,e.less=60,e.lessequal=8804,e.lessequalorgreater=8922,e.lessmonospace=65308,e.lessorequivalent=8818,e.lessorgreater=8822,e.lessoverequal=8806,e.lesssmall=65124,e.lezh=622,e.lfblock=9612,e.lhookretroflex=621,e.lira=8356,e.liwnarmenian=1388,e.lj=457,e.ljecyrillic=1113,e.ll=63168,e.lladeva=2355,e.llagujarati=2739,e.llinebelow=7739,e.llladeva=2356,e.llvocalicbengali=2529,e.llvocalicdeva=2401,e.llvocalicvowelsignbengali=2531,e.llvocalicvowelsigndeva=2403,e.lmiddletilde=619,e.lmonospace=65356,e.lmsquare=13264,e.lochulathai=3628,e.logicaland=8743,e.logicalnot=172,e.logicalnotreversed=8976,e.logicalor=8744,e.lolingthai=3621,e.longs=383,e.lowlinecenterline=65102,e.lowlinecmb=818,e.lowlinedashed=65101,e.lozenge=9674,e.lparen=9383,e.lslash=322,e.lsquare=8467,e.lsuperior=63214,e.ltshade=9617,e.luthai=3622,e.lvocalicbengali=2444,e.lvocalicdeva=2316,e.lvocalicvowelsignbengali=2530,e.lvocalicvowelsigndeva=2402,e.lxsquare=13267,e.m=109,e.mabengali=2478,e.macron=175,e.macronbelowcmb=817,e.macroncmb=772,e.macronlowmod=717,e.macronmonospace=65507,e.macute=7743,e.madeva=2350,e.magujarati=2734,e.magurmukhi=2606,e.mahapakhhebrew=1444,e.mahapakhlefthebrew=1444,e.mahiragana=12414,e.maichattawalowleftthai=63637,e.maichattawalowrightthai=63636,e.maichattawathai=3659,e.maichattawaupperleftthai=63635,e.maieklowleftthai=63628,e.maieklowrightthai=63627,e.maiekthai=3656,e.maiekupperleftthai=63626,e.maihanakatleftthai=63620,e.maihanakatthai=3633,e.maitaikhuleftthai=63625,e.maitaikhuthai=3655,e.maitholowleftthai=63631,e.maitholowrightthai=63630,e.maithothai=3657,e.maithoupperleftthai=63629,e.maitrilowleftthai=63634,e.maitrilowrightthai=63633,e.maitrithai=3658,e.maitriupperleftthai=63632,e.maiyamokthai=3654,e.makatakana=12510,e.makatakanahalfwidth=65423,e.male=9794,e.mansyonsquare=13127,e.maqafhebrew=1470,e.mars=9794,e.masoracirclehebrew=1455,e.masquare=13187,e.mbopomofo=12551,e.mbsquare=13268,e.mcircle=9436,e.mcubedsquare=13221,e.mdotaccent=7745,e.mdotbelow=7747,e.meemarabic=1605,e.meemfinalarabic=65250,e.meeminitialarabic=65251,e.meemmedialarabic=65252,e.meemmeeminitialarabic=64721,e.meemmeemisolatedarabic=64584,e.meetorusquare=13133,e.mehiragana=12417,e.meizierasquare=13182,e.mekatakana=12513,e.mekatakanahalfwidth=65426,e.mem=1502,e.memdagesh=64318,e.memdageshhebrew=64318,e.memhebrew=1502,e.menarmenian=1396,e.merkhahebrew=1445,e.merkhakefulahebrew=1446,e.merkhakefulalefthebrew=1446,e.merkhalefthebrew=1445,e.mhook=625,e.mhzsquare=13202,e.middledotkatakanahalfwidth=65381,e.middot=183,e.mieumacirclekorean=12914,e.mieumaparenkorean=12818,e.mieumcirclekorean=12900,e.mieumkorean=12609,e.mieumpansioskorean=12656,e.mieumparenkorean=12804,e.mieumpieupkorean=12654,e.mieumsioskorean=12655,e.mihiragana=12415,e.mikatakana=12511,e.mikatakanahalfwidth=65424,e.minus=8722,e.minusbelowcmb=800,e.minuscircle=8854,e.minusmod=727,e.minusplus=8723,e.minute=8242,e.miribaarusquare=13130,e.mirisquare=13129,e.mlonglegturned=624,e.mlsquare=13206,e.mmcubedsquare=13219,e.mmonospace=65357,e.mmsquaredsquare=13215,e.mohiragana=12418,e.mohmsquare=13249,e.mokatakana=12514,e.mokatakanahalfwidth=65427,e.molsquare=13270,e.momathai=3617,e.moverssquare=13223,e.moverssquaredsquare=13224,e.mparen=9384,e.mpasquare=13227,e.mssquare=13235,e.msuperior=63215,e.mturned=623,e.mu=181,e.mu1=181,e.muasquare=13186,e.muchgreater=8811,e.muchless=8810,e.mufsquare=13196,e.mugreek=956,e.mugsquare=13197,e.muhiragana=12416,e.mukatakana=12512,e.mukatakanahalfwidth=65425,e.mulsquare=13205,e.multiply=215,e.mumsquare=13211,e.munahhebrew=1443,e.munahlefthebrew=1443,e.musicalnote=9834,e.musicalnotedbl=9835,e.musicflatsign=9837,e.musicsharpsign=9839,e.mussquare=13234,e.muvsquare=13238,e.muwsquare=13244,e.mvmegasquare=13241,e.mvsquare=13239,e.mwmegasquare=13247,e.mwsquare=13245,e.n=110,e.nabengali=2472,e.nabla=8711,e.nacute=324,e.nadeva=2344,e.nagujarati=2728,e.nagurmukhi=2600,e.nahiragana=12394,e.nakatakana=12490,e.nakatakanahalfwidth=65413,e.napostrophe=329,e.nasquare=13185,e.nbopomofo=12555,e.nbspace=160,e.ncaron=328,e.ncedilla=326,e.ncircle=9437,e.ncircumflexbelow=7755,e.ncommaaccent=326,e.ndotaccent=7749,e.ndotbelow=7751,e.nehiragana=12397,e.nekatakana=12493,e.nekatakanahalfwidth=65416,e.newsheqelsign=8362,e.nfsquare=13195,e.ngabengali=2457,e.ngadeva=2329,e.ngagujarati=2713,e.ngagurmukhi=2585,e.ngonguthai=3591,e.nhiragana=12435,e.nhookleft=626,e.nhookretroflex=627,e.nieunacirclekorean=12911,e.nieunaparenkorean=12815,e.nieuncieuckorean=12597,e.nieuncirclekorean=12897,e.nieunhieuhkorean=12598,e.nieunkorean=12596,e.nieunpansioskorean=12648,e.nieunparenkorean=12801,e.nieunsioskorean=12647,e.nieuntikeutkorean=12646,e.nihiragana=12395,e.nikatakana=12491,e.nikatakanahalfwidth=65414,e.nikhahitleftthai=63641,e.nikhahitthai=3661,e.nine=57,e.ninearabic=1641,e.ninebengali=2543,e.ninecircle=9320,e.ninecircleinversesansserif=10130,e.ninedeva=2415,e.ninegujarati=2799,e.ninegurmukhi=2671,e.ninehackarabic=1641,e.ninehangzhou=12329,e.nineideographicparen=12840,e.nineinferior=8329,e.ninemonospace=65305,e.nineoldstyle=63289,e.nineparen=9340,e.nineperiod=9360,e.ninepersian=1785,e.nineroman=8568,e.ninesuperior=8313,e.nineteencircle=9330,e.nineteenparen=9350,e.nineteenperiod=9370,e.ninethai=3673,e.nj=460,e.njecyrillic=1114,e.nkatakana=12531,e.nkatakanahalfwidth=65437,e.nlegrightlong=414,e.nlinebelow=7753,e.nmonospace=65358,e.nmsquare=13210,e.nnabengali=2467,e.nnadeva=2339,e.nnagujarati=2723,e.nnagurmukhi=2595,e.nnnadeva=2345,e.nohiragana=12398,e.nokatakana=12494,e.nokatakanahalfwidth=65417,e.nonbreakingspace=160,e.nonenthai=3603,e.nonuthai=3609,e.noonarabic=1606,e.noonfinalarabic=65254,e.noonghunnaarabic=1722,e.noonghunnafinalarabic=64415,e.nooninitialarabic=65255,e.noonjeeminitialarabic=64722,e.noonjeemisolatedarabic=64587,e.noonmedialarabic=65256,e.noonmeeminitialarabic=64725,e.noonmeemisolatedarabic=64590,e.noonnoonfinalarabic=64653,e.notcontains=8716,e.notelement=8713,e.notelementof=8713,e.notequal=8800,e.notgreater=8815,e.notgreaternorequal=8817,e.notgreaternorless=8825,e.notidentical=8802,e.notless=8814,e.notlessnorequal=8816,e.notparallel=8742,e.notprecedes=8832,e.notsubset=8836,e.notsucceeds=8833,e.notsuperset=8837,e.nowarmenian=1398,e.nparen=9385,e.nssquare=13233,e.nsuperior=8319,e.ntilde=241,e.nu=957,e.nuhiragana=12396,e.nukatakana=12492,e.nukatakanahalfwidth=65415,e.nuktabengali=2492,e.nuktadeva=2364,e.nuktagujarati=2748,e.nuktagurmukhi=2620,e.numbersign=35,e.numbersignmonospace=65283,e.numbersignsmall=65119,e.numeralsigngreek=884,e.numeralsignlowergreek=885,e.numero=8470,e.nun=1504,e.nundagesh=64320,e.nundageshhebrew=64320,e.nunhebrew=1504,e.nvsquare=13237,e.nwsquare=13243,e.nyabengali=2462,e.nyadeva=2334,e.nyagujarati=2718,e.nyagurmukhi=2590,e.o=111,e.oacute=243,e.oangthai=3629,e.obarred=629,e.obarredcyrillic=1257,e.obarreddieresiscyrillic=1259,e.obengali=2451,e.obopomofo=12571,e.obreve=335,e.ocandradeva=2321,e.ocandragujarati=2705,e.ocandravowelsigndeva=2377,e.ocandravowelsigngujarati=2761,e.ocaron=466,e.ocircle=9438,e.ocircumflex=244,e.ocircumflexacute=7889,e.ocircumflexdotbelow=7897,e.ocircumflexgrave=7891,e.ocircumflexhookabove=7893,e.ocircumflextilde=7895,e.ocyrillic=1086,e.odblacute=337,e.odblgrave=525,e.odeva=2323,e.odieresis=246,e.odieresiscyrillic=1255,e.odotbelow=7885,e.oe=339,e.oekorean=12634,e.ogonek=731,e.ogonekcmb=808,e.ograve=242,e.ogujarati=2707,e.oharmenian=1413,e.ohiragana=12362,e.ohookabove=7887,e.ohorn=417,e.ohornacute=7899,e.ohorndotbelow=7907,e.ohorngrave=7901,e.ohornhookabove=7903,e.ohorntilde=7905,e.ohungarumlaut=337,e.oi=419,e.oinvertedbreve=527,e.okatakana=12458,e.okatakanahalfwidth=65397,e.okorean=12631,e.olehebrew=1451,e.omacron=333,e.omacronacute=7763,e.omacrongrave=7761,e.omdeva=2384,e.omega=969,e.omega1=982,e.omegacyrillic=1121,e.omegalatinclosed=631,e.omegaroundcyrillic=1147,e.omegatitlocyrillic=1149,e.omegatonos=974,e.omgujarati=2768,e.omicron=959,e.omicrontonos=972,e.omonospace=65359,e.one=49,e.onearabic=1633,e.onebengali=2535,e.onecircle=9312,e.onecircleinversesansserif=10122,e.onedeva=2407,e.onedotenleader=8228,e.oneeighth=8539,e.onefitted=63196,e.onegujarati=2791,e.onegurmukhi=2663,e.onehackarabic=1633,e.onehalf=189,e.onehangzhou=12321,e.oneideographicparen=12832,e.oneinferior=8321,e.onemonospace=65297,e.onenumeratorbengali=2548,e.oneoldstyle=63281,e.oneparen=9332,e.oneperiod=9352,e.onepersian=1777,e.onequarter=188,e.oneroman=8560,e.onesuperior=185,e.onethai=3665,e.onethird=8531,e.oogonek=491,e.oogonekmacron=493,e.oogurmukhi=2579,e.oomatragurmukhi=2635,e.oopen=596,e.oparen=9386,e.openbullet=9702,e.option=8997,e.ordfeminine=170,e.ordmasculine=186,e.orthogonal=8735,e.oshortdeva=2322,e.oshortvowelsigndeva=2378,e.oslash=248,e.oslashacute=511,e.osmallhiragana=12361,e.osmallkatakana=12457,e.osmallkatakanahalfwidth=65387,e.ostrokeacute=511,e.osuperior=63216,e.otcyrillic=1151,e.otilde=245,e.otildeacute=7757,e.otildedieresis=7759,e.oubopomofo=12577,e.overline=8254,e.overlinecenterline=65098,e.overlinecmb=773,e.overlinedashed=65097,e.overlinedblwavy=65100,e.overlinewavy=65099,e.overscore=175,e.ovowelsignbengali=2507,e.ovowelsigndeva=2379,e.ovowelsigngujarati=2763,e.p=112,e.paampssquare=13184,e.paasentosquare=13099,e.pabengali=2474,e.pacute=7765,e.padeva=2346,e.pagedown=8671,e.pageup=8670,e.pagujarati=2730,e.pagurmukhi=2602,e.pahiragana=12401,e.paiyannoithai=3631,e.pakatakana=12497,e.palatalizationcyrilliccmb=1156,e.palochkacyrillic=1216,e.pansioskorean=12671,e.paragraph=182,e.parallel=8741,e.parenleft=40,e.parenleftaltonearabic=64830,e.parenleftbt=63725,e.parenleftex=63724,e.parenleftinferior=8333,e.parenleftmonospace=65288,e.parenleftsmall=65113,e.parenleftsuperior=8317,e.parenlefttp=63723,e.parenleftvertical=65077,e.parenright=41,e.parenrightaltonearabic=64831,e.parenrightbt=63736,e.parenrightex=63735,e.parenrightinferior=8334,e.parenrightmonospace=65289,e.parenrightsmall=65114,e.parenrightsuperior=8318,e.parenrighttp=63734,e.parenrightvertical=65078,e.partialdiff=8706,e.paseqhebrew=1472,e.pashtahebrew=1433,e.pasquare=13225,e.patah=1463,e.patah11=1463,e.patah1d=1463,e.patah2a=1463,e.patahhebrew=1463,e.patahnarrowhebrew=1463,e.patahquarterhebrew=1463,e.patahwidehebrew=1463,e.pazerhebrew=1441,e.pbopomofo=12550,e.pcircle=9439,e.pdotaccent=7767,e.pe=1508,e.pecyrillic=1087,e.pedagesh=64324,e.pedageshhebrew=64324,e.peezisquare=13115,e.pefinaldageshhebrew=64323,e.peharabic=1662,e.peharmenian=1402,e.pehebrew=1508,e.pehfinalarabic=64343,e.pehinitialarabic=64344,e.pehiragana=12410,e.pehmedialarabic=64345,e.pekatakana=12506,e.pemiddlehookcyrillic=1191,e.perafehebrew=64334,e.percent=37,e.percentarabic=1642,e.percentmonospace=65285,e.percentsmall=65130,e.period=46,e.periodarmenian=1417,e.periodcentered=183,e.periodhalfwidth=65377,e.periodinferior=63207,e.periodmonospace=65294,e.periodsmall=65106,e.periodsuperior=63208,e.perispomenigreekcmb=834,e.perpendicular=8869,e.perthousand=8240,e.peseta=8359,e.pfsquare=13194,e.phabengali=2475,e.phadeva=2347,e.phagujarati=2731,e.phagurmukhi=2603,e.phi=966,e.phi1=981,e.phieuphacirclekorean=12922,e.phieuphaparenkorean=12826,e.phieuphcirclekorean=12908,e.phieuphkorean=12621,e.phieuphparenkorean=12812,e.philatin=632,e.phinthuthai=3642,e.phisymbolgreek=981,e.phook=421,e.phophanthai=3614,e.phophungthai=3612,e.phosamphaothai=3616,e.pi=960,e.pieupacirclekorean=12915,e.pieupaparenkorean=12819,e.pieupcieuckorean=12662,e.pieupcirclekorean=12901,e.pieupkiyeokkorean=12658,e.pieupkorean=12610,e.pieupparenkorean=12805,e.pieupsioskiyeokkorean=12660,e.pieupsioskorean=12612,e.pieupsiostikeutkorean=12661,e.pieupthieuthkorean=12663,e.pieuptikeutkorean=12659,e.pihiragana=12404,e.pikatakana=12500,e.pisymbolgreek=982,e.piwrarmenian=1411,e.planckover2pi=8463,e.planckover2pi1=8463,e.plus=43,e.plusbelowcmb=799,e.pluscircle=8853,e.plusminus=177,e.plusmod=726,e.plusmonospace=65291,e.plussmall=65122,e.plussuperior=8314,e.pmonospace=65360,e.pmsquare=13272,e.pohiragana=12413,e.pointingindexdownwhite=9759,e.pointingindexleftwhite=9756,e.pointingindexrightwhite=9758,e.pointingindexupwhite=9757,e.pokatakana=12509,e.poplathai=3611,e.postalmark=12306,e.postalmarkface=12320,e.pparen=9387,e.precedes=8826,e.prescription=8478,e.primemod=697,e.primereversed=8245,e.product=8719,e.projective=8965,e.prolongedkana=12540,e.propellor=8984,e.propersubset=8834,e.propersuperset=8835,e.proportion=8759,e.proportional=8733,e.psi=968,e.psicyrillic=1137,e.psilipneumatacyrilliccmb=1158,e.pssquare=13232,e.puhiragana=12407,e.pukatakana=12503,e.pvsquare=13236,e.pwsquare=13242,e.q=113,e.qadeva=2392,e.qadmahebrew=1448,e.qafarabic=1602,e.qaffinalarabic=65238,e.qafinitialarabic=65239,e.qafmedialarabic=65240,e.qamats=1464,e.qamats10=1464,e.qamats1a=1464,e.qamats1c=1464,e.qamats27=1464,e.qamats29=1464,e.qamats33=1464,e.qamatsde=1464,e.qamatshebrew=1464,e.qamatsnarrowhebrew=1464,e.qamatsqatanhebrew=1464,e.qamatsqatannarrowhebrew=1464,e.qamatsqatanquarterhebrew=1464,e.qamatsqatanwidehebrew=1464,e.qamatsquarterhebrew=1464,e.qamatswidehebrew=1464,e.qarneyparahebrew=1439,e.qbopomofo=12561,e.qcircle=9440,e.qhook=672,e.qmonospace=65361,e.qof=1511,e.qofdagesh=64327,e.qofdageshhebrew=64327,e.qofhebrew=1511,e.qparen=9388,e.quarternote=9833,e.qubuts=1467,e.qubuts18=1467,e.qubuts25=1467,e.qubuts31=1467,e.qubutshebrew=1467,e.qubutsnarrowhebrew=1467,e.qubutsquarterhebrew=1467,e.qubutswidehebrew=1467,e.question=63,e.questionarabic=1567,e.questionarmenian=1374,e.questiondown=191,e.questiondownsmall=63423,e.questiongreek=894,e.questionmonospace=65311,e.questionsmall=63295,e.quotedbl=34,e.quotedblbase=8222,e.quotedblleft=8220,e.quotedblmonospace=65282,e.quotedblprime=12318,e.quotedblprimereversed=12317,e.quotedblright=8221,e.quoteleft=8216,e.quoteleftreversed=8219,e.quotereversed=8219,e.quoteright=8217,e.quoterightn=329,e.quotesinglbase=8218,e.quotesingle=39,e.quotesinglemonospace=65287,e.r=114,e.raarmenian=1404,e.rabengali=2480,e.racute=341,e.radeva=2352,e.radical=8730,e.radicalex=63717,e.radoverssquare=13230,e.radoverssquaredsquare=13231,e.radsquare=13229,e.rafe=1471,e.rafehebrew=1471,e.ragujarati=2736,e.ragurmukhi=2608,e.rahiragana=12425,e.rakatakana=12521,e.rakatakanahalfwidth=65431,e.ralowerdiagonalbengali=2545,e.ramiddlediagonalbengali=2544,e.ramshorn=612,e.ratio=8758,e.rbopomofo=12566,e.rcaron=345,e.rcedilla=343,e.rcircle=9441,e.rcommaaccent=343,e.rdblgrave=529,e.rdotaccent=7769,e.rdotbelow=7771,e.rdotbelowmacron=7773,e.referencemark=8251,e.reflexsubset=8838,e.reflexsuperset=8839,e.registered=174,e.registersans=63720,e.registerserif=63194,e.reharabic=1585,e.reharmenian=1408,e.rehfinalarabic=65198,e.rehiragana=12428,e.rekatakana=12524,e.rekatakanahalfwidth=65434,e.resh=1512,e.reshdageshhebrew=64328,e.reshhebrew=1512,e.reversedtilde=8765,e.reviahebrew=1431,e.reviamugrashhebrew=1431,e.revlogicalnot=8976,e.rfishhook=638,e.rfishhookreversed=639,e.rhabengali=2525,e.rhadeva=2397,e.rho=961,e.rhook=637,e.rhookturned=635,e.rhookturnedsuperior=693,e.rhosymbolgreek=1009,e.rhotichookmod=734,e.rieulacirclekorean=12913,e.rieulaparenkorean=12817,e.rieulcirclekorean=12899,e.rieulhieuhkorean=12608,e.rieulkiyeokkorean=12602,e.rieulkiyeoksioskorean=12649,e.rieulkorean=12601,e.rieulmieumkorean=12603,e.rieulpansioskorean=12652,e.rieulparenkorean=12803,e.rieulphieuphkorean=12607,e.rieulpieupkorean=12604,e.rieulpieupsioskorean=12651,e.rieulsioskorean=12605,e.rieulthieuthkorean=12606,e.rieultikeutkorean=12650,e.rieulyeorinhieuhkorean=12653,e.rightangle=8735,e.righttackbelowcmb=793,e.righttriangle=8895,e.rihiragana=12426,e.rikatakana=12522,e.rikatakanahalfwidth=65432,e.ring=730,e.ringbelowcmb=805,e.ringcmb=778,e.ringhalfleft=703,e.ringhalfleftarmenian=1369,e.ringhalfleftbelowcmb=796,e.ringhalfleftcentered=723,e.ringhalfright=702,e.ringhalfrightbelowcmb=825,e.ringhalfrightcentered=722,e.rinvertedbreve=531,e.rittorusquare=13137,e.rlinebelow=7775,e.rlongleg=636,e.rlonglegturned=634,e.rmonospace=65362,e.rohiragana=12429,e.rokatakana=12525,e.rokatakanahalfwidth=65435,e.roruathai=3619,e.rparen=9389,e.rrabengali=2524,e.rradeva=2353,e.rragurmukhi=2652,e.rreharabic=1681,e.rrehfinalarabic=64397,e.rrvocalicbengali=2528,e.rrvocalicdeva=2400,e.rrvocalicgujarati=2784,e.rrvocalicvowelsignbengali=2500,e.rrvocalicvowelsigndeva=2372,e.rrvocalicvowelsigngujarati=2756,e.rsuperior=63217,e.rtblock=9616,e.rturned=633,e.rturnedsuperior=692,e.ruhiragana=12427,e.rukatakana=12523,e.rukatakanahalfwidth=65433,e.rupeemarkbengali=2546,e.rupeesignbengali=2547,e.rupiah=63197,e.ruthai=3620,e.rvocalicbengali=2443,e.rvocalicdeva=2315,e.rvocalicgujarati=2699,e.rvocalicvowelsignbengali=2499,e.rvocalicvowelsigndeva=2371,e.rvocalicvowelsigngujarati=2755,e.s=115,e.sabengali=2488,e.sacute=347,e.sacutedotaccent=7781,e.sadarabic=1589,e.sadeva=2360,e.sadfinalarabic=65210,e.sadinitialarabic=65211,e.sadmedialarabic=65212,e.sagujarati=2744,e.sagurmukhi=2616,e.sahiragana=12373,e.sakatakana=12469,e.sakatakanahalfwidth=65403,e.sallallahoualayhewasallamarabic=65018,e.samekh=1505,e.samekhdagesh=64321,e.samekhdageshhebrew=64321,e.samekhhebrew=1505,e.saraaathai=3634,e.saraaethai=3649,e.saraaimaimalaithai=3652,e.saraaimaimuanthai=3651,e.saraamthai=3635,e.saraathai=3632,e.saraethai=3648,e.saraiileftthai=63622,e.saraiithai=3637,e.saraileftthai=63621,e.saraithai=3636,e.saraothai=3650,e.saraueeleftthai=63624,e.saraueethai=3639,e.saraueleftthai=63623,e.sarauethai=3638,e.sarauthai=3640,e.sarauuthai=3641,e.sbopomofo=12569,e.scaron=353,e.scarondotaccent=7783,e.scedilla=351,e.schwa=601,e.schwacyrillic=1241,e.schwadieresiscyrillic=1243,e.schwahook=602,e.scircle=9442,e.scircumflex=349,e.scommaaccent=537,e.sdotaccent=7777,e.sdotbelow=7779,e.sdotbelowdotaccent=7785,e.seagullbelowcmb=828,e.second=8243,e.secondtonechinese=714,e.section=167,e.seenarabic=1587,e.seenfinalarabic=65202,e.seeninitialarabic=65203,e.seenmedialarabic=65204,e.segol=1462,e.segol13=1462,e.segol1f=1462,e.segol2c=1462,e.segolhebrew=1462,e.segolnarrowhebrew=1462,e.segolquarterhebrew=1462,e.segoltahebrew=1426,e.segolwidehebrew=1462,e.seharmenian=1405,e.sehiragana=12379,e.sekatakana=12475,e.sekatakanahalfwidth=65406,e.semicolon=59,e.semicolonarabic=1563,e.semicolonmonospace=65307,e.semicolonsmall=65108,e.semivoicedmarkkana=12444,e.semivoicedmarkkanahalfwidth=65439,e.sentisquare=13090,e.sentosquare=13091,e.seven=55,e.sevenarabic=1639,e.sevenbengali=2541,e.sevencircle=9318,e.sevencircleinversesansserif=10128,e.sevendeva=2413,e.seveneighths=8542,e.sevengujarati=2797,e.sevengurmukhi=2669,e.sevenhackarabic=1639,e.sevenhangzhou=12327,e.sevenideographicparen=12838,e.seveninferior=8327,e.sevenmonospace=65303,e.sevenoldstyle=63287,e.sevenparen=9338,e.sevenperiod=9358,e.sevenpersian=1783,e.sevenroman=8566,e.sevensuperior=8311,e.seventeencircle=9328,e.seventeenparen=9348,e.seventeenperiod=9368,e.seventhai=3671,e.sfthyphen=173,e.shaarmenian=1399,e.shabengali=2486,e.shacyrillic=1096,e.shaddaarabic=1617,e.shaddadammaarabic=64609,e.shaddadammatanarabic=64606,e.shaddafathaarabic=64608,e.shaddakasraarabic=64610,e.shaddakasratanarabic=64607,e.shade=9618,e.shadedark=9619,e.shadelight=9617,e.shademedium=9618,e.shadeva=2358,e.shagujarati=2742,e.shagurmukhi=2614,e.shalshelethebrew=1427,e.shbopomofo=12565,e.shchacyrillic=1097,e.sheenarabic=1588,e.sheenfinalarabic=65206,e.sheeninitialarabic=65207,e.sheenmedialarabic=65208,e.sheicoptic=995,e.sheqel=8362,e.sheqelhebrew=8362,e.sheva=1456,e.sheva115=1456,e.sheva15=1456,e.sheva22=1456,e.sheva2e=1456,e.shevahebrew=1456,e.shevanarrowhebrew=1456,e.shevaquarterhebrew=1456,e.shevawidehebrew=1456,e.shhacyrillic=1211,e.shimacoptic=1005,e.shin=1513,e.shindagesh=64329,e.shindageshhebrew=64329,e.shindageshshindot=64300,e.shindageshshindothebrew=64300,e.shindageshsindot=64301,e.shindageshsindothebrew=64301,e.shindothebrew=1473,e.shinhebrew=1513,e.shinshindot=64298,e.shinshindothebrew=64298,e.shinsindot=64299,e.shinsindothebrew=64299,e.shook=642,e.sigma=963,e.sigma1=962,e.sigmafinal=962,e.sigmalunatesymbolgreek=1010,e.sihiragana=12375,e.sikatakana=12471,e.sikatakanahalfwidth=65404,e.siluqhebrew=1469,e.siluqlefthebrew=1469,e.similar=8764,e.sindothebrew=1474,e.siosacirclekorean=12916,e.siosaparenkorean=12820,e.sioscieuckorean=12670,e.sioscirclekorean=12902,e.sioskiyeokkorean=12666,e.sioskorean=12613,e.siosnieunkorean=12667,e.siosparenkorean=12806,e.siospieupkorean=12669,e.siostikeutkorean=12668,e.six=54,e.sixarabic=1638,e.sixbengali=2540,e.sixcircle=9317,e.sixcircleinversesansserif=10127,e.sixdeva=2412,e.sixgujarati=2796,e.sixgurmukhi=2668,e.sixhackarabic=1638,e.sixhangzhou=12326,e.sixideographicparen=12837,e.sixinferior=8326,e.sixmonospace=65302,e.sixoldstyle=63286,e.sixparen=9337,e.sixperiod=9357,e.sixpersian=1782,e.sixroman=8565,e.sixsuperior=8310,e.sixteencircle=9327,e.sixteencurrencydenominatorbengali=2553,e.sixteenparen=9347,e.sixteenperiod=9367,e.sixthai=3670,e.slash=47,e.slashmonospace=65295,e.slong=383,e.slongdotaccent=7835,e.smileface=9786,e.smonospace=65363,e.sofpasuqhebrew=1475,e.softhyphen=173,e.softsigncyrillic=1100,e.sohiragana=12381,e.sokatakana=12477,e.sokatakanahalfwidth=65407,e.soliduslongoverlaycmb=824,e.solidusshortoverlaycmb=823,e.sorusithai=3625,e.sosalathai=3624,e.sosothai=3595,e.sosuathai=3626,e.space=32,e.spacehackarabic=32,e.spade=9824,e.spadesuitblack=9824,e.spadesuitwhite=9828,e.sparen=9390,e.squarebelowcmb=827,e.squarecc=13252,e.squarecm=13213,e.squarediagonalcrosshatchfill=9641,e.squarehorizontalfill=9636,e.squarekg=13199,e.squarekm=13214,e.squarekmcapital=13262,e.squareln=13265,e.squarelog=13266,e.squaremg=13198,e.squaremil=13269,e.squaremm=13212,e.squaremsquared=13217,e.squareorthogonalcrosshatchfill=9638,e.squareupperlefttolowerrightfill=9639,e.squareupperrighttolowerleftfill=9640,e.squareverticalfill=9637,e.squarewhitewithsmallblack=9635,e.srsquare=13275,e.ssabengali=2487,e.ssadeva=2359,e.ssagujarati=2743,e.ssangcieuckorean=12617,e.ssanghieuhkorean=12677,e.ssangieungkorean=12672,e.ssangkiyeokkorean=12594,e.ssangnieunkorean=12645,e.ssangpieupkorean=12611,e.ssangsioskorean=12614,e.ssangtikeutkorean=12600,e.ssuperior=63218,e.sterling=163,e.sterlingmonospace=65505,e.strokelongoverlaycmb=822,e.strokeshortoverlaycmb=821,e.subset=8834,e.subsetnotequal=8842,e.subsetorequal=8838,e.succeeds=8827,e.suchthat=8715,e.suhiragana=12377,e.sukatakana=12473,e.sukatakanahalfwidth=65405,e.sukunarabic=1618,e.summation=8721,e.sun=9788,e.superset=8835,e.supersetnotequal=8843,e.supersetorequal=8839,e.svsquare=13276,e.syouwaerasquare=13180,e.t=116,e.tabengali=2468,e.tackdown=8868,e.tackleft=8867,e.tadeva=2340,e.tagujarati=2724,e.tagurmukhi=2596,e.taharabic=1591,e.tahfinalarabic=65218,e.tahinitialarabic=65219,e.tahiragana=12383,e.tahmedialarabic=65220,e.taisyouerasquare=13181,e.takatakana=12479,e.takatakanahalfwidth=65408,e.tatweelarabic=1600,e.tau=964,e.tav=1514,e.tavdages=64330,e.tavdagesh=64330,e.tavdageshhebrew=64330,e.tavhebrew=1514,e.tbar=359,e.tbopomofo=12554,e.tcaron=357,e.tccurl=680,e.tcedilla=355,e.tcheharabic=1670,e.tchehfinalarabic=64379,e.tchehinitialarabic=64380,e.tchehmedialarabic=64381,e.tcircle=9443,e.tcircumflexbelow=7793,e.tcommaaccent=355,e.tdieresis=7831,e.tdotaccent=7787,e.tdotbelow=7789,e.tecyrillic=1090,e.tedescendercyrillic=1197,e.teharabic=1578,e.tehfinalarabic=65174,e.tehhahinitialarabic=64674,e.tehhahisolatedarabic=64524,e.tehinitialarabic=65175,e.tehiragana=12390,e.tehjeeminitialarabic=64673,e.tehjeemisolatedarabic=64523,e.tehmarbutaarabic=1577,e.tehmarbutafinalarabic=65172,e.tehmedialarabic=65176,e.tehmeeminitialarabic=64676,e.tehmeemisolatedarabic=64526,e.tehnoonfinalarabic=64627,e.tekatakana=12486,e.tekatakanahalfwidth=65411,e.telephone=8481,e.telephoneblack=9742,e.telishagedolahebrew=1440,e.telishaqetanahebrew=1449,e.tencircle=9321,e.tenideographicparen=12841,e.tenparen=9341,e.tenperiod=9361,e.tenroman=8569,e.tesh=679,e.tet=1496,e.tetdagesh=64312,e.tetdageshhebrew=64312,e.tethebrew=1496,e.tetsecyrillic=1205,e.tevirhebrew=1435,e.tevirlefthebrew=1435,e.thabengali=2469,e.thadeva=2341,e.thagujarati=2725,e.thagurmukhi=2597,e.thalarabic=1584,e.thalfinalarabic=65196,e.thanthakhatlowleftthai=63640,e.thanthakhatlowrightthai=63639,e.thanthakhatthai=3660,e.thanthakhatupperleftthai=63638,e.theharabic=1579,e.thehfinalarabic=65178,e.thehinitialarabic=65179,e.thehmedialarabic=65180,e.thereexists=8707,e.therefore=8756,e.theta=952,e.theta1=977,e.thetasymbolgreek=977,e.thieuthacirclekorean=12921,e.thieuthaparenkorean=12825,e.thieuthcirclekorean=12907,e.thieuthkorean=12620,e.thieuthparenkorean=12811,e.thirteencircle=9324,e.thirteenparen=9344,e.thirteenperiod=9364,e.thonangmonthothai=3601,e.thook=429,e.thophuthaothai=3602,e.thorn=254,e.thothahanthai=3607,e.thothanthai=3600,e.thothongthai=3608,e.thothungthai=3606,e.thousandcyrillic=1154,e.thousandsseparatorarabic=1644,e.thousandsseparatorpersian=1644,e.three=51,e.threearabic=1635,e.threebengali=2537,e.threecircle=9314,e.threecircleinversesansserif=10124,e.threedeva=2409,e.threeeighths=8540,e.threegujarati=2793,e.threegurmukhi=2665,e.threehackarabic=1635,e.threehangzhou=12323,e.threeideographicparen=12834,e.threeinferior=8323,e.threemonospace=65299,e.threenumeratorbengali=2550,e.threeoldstyle=63283,e.threeparen=9334,e.threeperiod=9354,e.threepersian=1779,e.threequarters=190,e.threequartersemdash=63198,e.threeroman=8562,e.threesuperior=179,e.threethai=3667,e.thzsquare=13204,e.tihiragana=12385,e.tikatakana=12481,e.tikatakanahalfwidth=65409,e.tikeutacirclekorean=12912,e.tikeutaparenkorean=12816,e.tikeutcirclekorean=12898,e.tikeutkorean=12599,e.tikeutparenkorean=12802,e.tilde=732,e.tildebelowcmb=816,e.tildecmb=771,e.tildecomb=771,e.tildedoublecmb=864,e.tildeoperator=8764,e.tildeoverlaycmb=820,e.tildeverticalcmb=830,e.timescircle=8855,e.tipehahebrew=1430,e.tipehalefthebrew=1430,e.tippigurmukhi=2672,e.titlocyrilliccmb=1155,e.tiwnarmenian=1407,e.tlinebelow=7791,e.tmonospace=65364,e.toarmenian=1385,e.tohiragana=12392,e.tokatakana=12488,e.tokatakanahalfwidth=65412,e.tonebarextrahighmod=741,e.tonebarextralowmod=745,e.tonebarhighmod=742,e.tonebarlowmod=744,e.tonebarmidmod=743,e.tonefive=445,e.tonesix=389,e.tonetwo=424,e.tonos=900,e.tonsquare=13095,e.topatakthai=3599,e.tortoiseshellbracketleft=12308,e.tortoiseshellbracketleftsmall=65117,e.tortoiseshellbracketleftvertical=65081,e.tortoiseshellbracketright=12309,e.tortoiseshellbracketrightsmall=65118,e.tortoiseshellbracketrightvertical=65082,e.totaothai=3605,e.tpalatalhook=427,e.tparen=9391,e.trademark=8482,e.trademarksans=63722,e.trademarkserif=63195,e.tretroflexhook=648,e.triagdn=9660,e.triaglf=9668,e.triagrt=9658,e.triagup=9650,e.ts=678,e.tsadi=1510,e.tsadidagesh=64326,e.tsadidageshhebrew=64326,e.tsadihebrew=1510,e.tsecyrillic=1094,e.tsere=1461,e.tsere12=1461,e.tsere1e=1461,e.tsere2b=1461,e.tserehebrew=1461,e.tserenarrowhebrew=1461,e.tserequarterhebrew=1461,e.tserewidehebrew=1461,e.tshecyrillic=1115,e.tsuperior=63219,e.ttabengali=2463,e.ttadeva=2335,e.ttagujarati=2719,e.ttagurmukhi=2591,e.tteharabic=1657,e.ttehfinalarabic=64359,e.ttehinitialarabic=64360,e.ttehmedialarabic=64361,e.tthabengali=2464,e.tthadeva=2336,e.tthagujarati=2720,e.tthagurmukhi=2592,e.tturned=647,e.tuhiragana=12388,e.tukatakana=12484,e.tukatakanahalfwidth=65410,e.tusmallhiragana=12387,e.tusmallkatakana=12483,e.tusmallkatakanahalfwidth=65391,e.twelvecircle=9323,e.twelveparen=9343,e.twelveperiod=9363,e.twelveroman=8571,e.twentycircle=9331,e.twentyhangzhou=21316,e.twentyparen=9351,e.twentyperiod=9371,e.two=50,e.twoarabic=1634,e.twobengali=2536,e.twocircle=9313,e.twocircleinversesansserif=10123,e.twodeva=2408,e.twodotenleader=8229,e.twodotleader=8229,e.twodotleadervertical=65072,e.twogujarati=2792,e.twogurmukhi=2664,e.twohackarabic=1634,e.twohangzhou=12322,e.twoideographicparen=12833,e.twoinferior=8322,e.twomonospace=65298,e.twonumeratorbengali=2549,e.twooldstyle=63282,e.twoparen=9333,e.twoperiod=9353,e.twopersian=1778,e.tworoman=8561,e.twostroke=443,e.twosuperior=178,e.twothai=3666,e.twothirds=8532,e.u=117,e.uacute=250,e.ubar=649,e.ubengali=2441,e.ubopomofo=12584,e.ubreve=365,e.ucaron=468,e.ucircle=9444,e.ucircumflex=251,e.ucircumflexbelow=7799,e.ucyrillic=1091,e.udattadeva=2385,e.udblacute=369,e.udblgrave=533,e.udeva=2313,e.udieresis=252,e.udieresisacute=472,e.udieresisbelow=7795,e.udieresiscaron=474,e.udieresiscyrillic=1265,e.udieresisgrave=476,e.udieresismacron=470,e.udotbelow=7909,e.ugrave=249,e.ugujarati=2697,e.ugurmukhi=2569,e.uhiragana=12358,e.uhookabove=7911,e.uhorn=432,e.uhornacute=7913,e.uhorndotbelow=7921,e.uhorngrave=7915,e.uhornhookabove=7917,e.uhorntilde=7919,e.uhungarumlaut=369,e.uhungarumlautcyrillic=1267,e.uinvertedbreve=535,e.ukatakana=12454,e.ukatakanahalfwidth=65395,e.ukcyrillic=1145,e.ukorean=12636,e.umacron=363,e.umacroncyrillic=1263,e.umacrondieresis=7803,e.umatragurmukhi=2625,e.umonospace=65365,e.underscore=95,e.underscoredbl=8215,e.underscoremonospace=65343,e.underscorevertical=65075,e.underscorewavy=65103,e.union=8746,e.universal=8704,e.uogonek=371,e.uparen=9392,e.upblock=9600,e.upperdothebrew=1476,e.upsilon=965,e.upsilondieresis=971,e.upsilondieresistonos=944,e.upsilonlatin=650,e.upsilontonos=973,e.uptackbelowcmb=797,e.uptackmod=724,e.uragurmukhi=2675,e.uring=367,e.ushortcyrillic=1118,e.usmallhiragana=12357,e.usmallkatakana=12453,e.usmallkatakanahalfwidth=65385,e.ustraightcyrillic=1199,e.ustraightstrokecyrillic=1201,e.utilde=361,e.utildeacute=7801,e.utildebelow=7797,e.uubengali=2442,e.uudeva=2314,e.uugujarati=2698,e.uugurmukhi=2570,e.uumatragurmukhi=2626,e.uuvowelsignbengali=2498,e.uuvowelsigndeva=2370,e.uuvowelsigngujarati=2754,e.uvowelsignbengali=2497,e.uvowelsigndeva=2369,e.uvowelsigngujarati=2753,e.v=118,e.vadeva=2357,e.vagujarati=2741,e.vagurmukhi=2613,e.vakatakana=12535,e.vav=1493,e.vavdagesh=64309,e.vavdagesh65=64309,e.vavdageshhebrew=64309,e.vavhebrew=1493,e.vavholam=64331,e.vavholamhebrew=64331,e.vavvavhebrew=1520,e.vavyodhebrew=1521,e.vcircle=9445,e.vdotbelow=7807,e.vecyrillic=1074,e.veharabic=1700,e.vehfinalarabic=64363,e.vehinitialarabic=64364,e.vehmedialarabic=64365,e.vekatakana=12537,e.venus=9792,e.verticalbar=124,e.verticallineabovecmb=781,e.verticallinebelowcmb=809,e.verticallinelowmod=716,e.verticallinemod=712,e.vewarmenian=1406,e.vhook=651,e.vikatakana=12536,e.viramabengali=2509,e.viramadeva=2381,e.viramagujarati=2765,e.visargabengali=2435,e.visargadeva=2307,e.visargagujarati=2691,e.vmonospace=65366,e.voarmenian=1400,e.voicediterationhiragana=12446,e.voicediterationkatakana=12542,e.voicedmarkkana=12443,e.voicedmarkkanahalfwidth=65438,e.vokatakana=12538,e.vparen=9393,e.vtilde=7805,e.vturned=652,e.vuhiragana=12436,e.vukatakana=12532,e.w=119,e.wacute=7811,e.waekorean=12633,e.wahiragana=12431,e.wakatakana=12527,e.wakatakanahalfwidth=65436,e.wakorean=12632,e.wasmallhiragana=12430,e.wasmallkatakana=12526,e.wattosquare=13143,e.wavedash=12316,e.wavyunderscorevertical=65076,e.wawarabic=1608,e.wawfinalarabic=65262,e.wawhamzaabovearabic=1572,e.wawhamzaabovefinalarabic=65158,e.wbsquare=13277,e.wcircle=9446,e.wcircumflex=373,e.wdieresis=7813,e.wdotaccent=7815,e.wdotbelow=7817,e.wehiragana=12433,e.weierstrass=8472,e.wekatakana=12529,e.wekorean=12638,e.weokorean=12637,e.wgrave=7809,e.whitebullet=9702,e.whitecircle=9675,e.whitecircleinverse=9689,e.whitecornerbracketleft=12302,e.whitecornerbracketleftvertical=65091,e.whitecornerbracketright=12303,e.whitecornerbracketrightvertical=65092,e.whitediamond=9671,e.whitediamondcontainingblacksmalldiamond=9672,e.whitedownpointingsmalltriangle=9663,e.whitedownpointingtriangle=9661,e.whiteleftpointingsmalltriangle=9667,e.whiteleftpointingtriangle=9665,e.whitelenticularbracketleft=12310,e.whitelenticularbracketright=12311,e.whiterightpointingsmalltriangle=9657,e.whiterightpointingtriangle=9655,e.whitesmallsquare=9643,e.whitesmilingface=9786,e.whitesquare=9633,e.whitestar=9734,e.whitetelephone=9743,e.whitetortoiseshellbracketleft=12312,e.whitetortoiseshellbracketright=12313,e.whiteuppointingsmalltriangle=9653,e.whiteuppointingtriangle=9651,e.wihiragana=12432,e.wikatakana=12528,e.wikorean=12639,e.wmonospace=65367,e.wohiragana=12434,e.wokatakana=12530,e.wokatakanahalfwidth=65382,e.won=8361,e.wonmonospace=65510,e.wowaenthai=3623,e.wparen=9394,e.wring=7832,e.wsuperior=695,e.wturned=653,e.wynn=447,e.x=120,e.xabovecmb=829,e.xbopomofo=12562,e.xcircle=9447,e.xdieresis=7821,e.xdotaccent=7819,e.xeharmenian=1389,e.xi=958,e.xmonospace=65368,e.xparen=9395,e.xsuperior=739,e.y=121,e.yaadosquare=13134,e.yabengali=2479,e.yacute=253,e.yadeva=2351,e.yaekorean=12626,e.yagujarati=2735,e.yagurmukhi=2607,e.yahiragana=12420,e.yakatakana=12516,e.yakatakanahalfwidth=65428,e.yakorean=12625,e.yamakkanthai=3662,e.yasmallhiragana=12419,e.yasmallkatakana=12515,e.yasmallkatakanahalfwidth=65388,e.yatcyrillic=1123,e.ycircle=9448,e.ycircumflex=375,e.ydieresis=255,e.ydotaccent=7823,e.ydotbelow=7925,e.yeharabic=1610,e.yehbarreearabic=1746,e.yehbarreefinalarabic=64431,e.yehfinalarabic=65266,e.yehhamzaabovearabic=1574,e.yehhamzaabovefinalarabic=65162,e.yehhamzaaboveinitialarabic=65163,e.yehhamzaabovemedialarabic=65164,e.yehinitialarabic=65267,e.yehmedialarabic=65268,e.yehmeeminitialarabic=64733,e.yehmeemisolatedarabic=64600,e.yehnoonfinalarabic=64660,e.yehthreedotsbelowarabic=1745,e.yekorean=12630,e.yen=165,e.yenmonospace=65509,e.yeokorean=12629,e.yeorinhieuhkorean=12678,e.yerahbenyomohebrew=1450,e.yerahbenyomolefthebrew=1450,e.yericyrillic=1099,e.yerudieresiscyrillic=1273,e.yesieungkorean=12673,e.yesieungpansioskorean=12675,e.yesieungsioskorean=12674,e.yetivhebrew=1434,e.ygrave=7923,e.yhook=436,e.yhookabove=7927,e.yiarmenian=1397,e.yicyrillic=1111,e.yikorean=12642,e.yinyang=9775,e.yiwnarmenian=1410,e.ymonospace=65369,e.yod=1497,e.yoddagesh=64313,e.yoddageshhebrew=64313,e.yodhebrew=1497,e.yodyodhebrew=1522,e.yodyodpatahhebrew=64287,e.yohiragana=12424,e.yoikorean=12681,e.yokatakana=12520,e.yokatakanahalfwidth=65430,e.yokorean=12635,e.yosmallhiragana=12423,e.yosmallkatakana=12519,e.yosmallkatakanahalfwidth=65390,e.yotgreek=1011,e.yoyaekorean=12680,e.yoyakorean=12679,e.yoyakthai=3618,e.yoyingthai=3597,e.yparen=9396,e.ypogegrammeni=890,e.ypogegrammenigreekcmb=837,e.yr=422,e.yring=7833,e.ysuperior=696,e.ytilde=7929,e.yturned=654,e.yuhiragana=12422,e.yuikorean=12684,e.yukatakana=12518,e.yukatakanahalfwidth=65429,e.yukorean=12640,e.yusbigcyrillic=1131,e.yusbigiotifiedcyrillic=1133,e.yuslittlecyrillic=1127,e.yuslittleiotifiedcyrillic=1129,e.yusmallhiragana=12421,e.yusmallkatakana=12517,e.yusmallkatakanahalfwidth=65389,e.yuyekorean=12683,e.yuyeokorean=12682,e.yyabengali=2527,e.yyadeva=2399,e.z=122,e.zaarmenian=1382,e.zacute=378,e.zadeva=2395,e.zagurmukhi=2651,e.zaharabic=1592,e.zahfinalarabic=65222,e.zahinitialarabic=65223,e.zahiragana=12374,e.zahmedialarabic=65224,e.zainarabic=1586,e.zainfinalarabic=65200,e.zakatakana=12470,e.zaqefgadolhebrew=1429,e.zaqefqatanhebrew=1428,e.zarqahebrew=1432,e.zayin=1494,e.zayindagesh=64310,e.zayindageshhebrew=64310,e.zayinhebrew=1494,e.zbopomofo=12567,e.zcaron=382,e.zcircle=9449,e.zcircumflex=7825,e.zcurl=657,e.zdot=380,e.zdotaccent=380,e.zdotbelow=7827,e.zecyrillic=1079,e.zedescendercyrillic=1177,e.zedieresiscyrillic=1247,e.zehiragana=12380,e.zekatakana=12476,e.zero=48,e.zeroarabic=1632,e.zerobengali=2534,e.zerodeva=2406,e.zerogujarati=2790,e.zerogurmukhi=2662,e.zerohackarabic=1632,e.zeroinferior=8320,e.zeromonospace=65296,e.zerooldstyle=63280,e.zeropersian=1776,e.zerosuperior=8304,e.zerothai=3664,e.zerowidthjoiner=65279,e.zerowidthnonjoiner=8204,e.zerowidthspace=8203,e.zeta=950,e.zhbopomofo=12563,e.zhearmenian=1386,e.zhebrevecyrillic=1218,e.zhecyrillic=1078,e.zhedescendercyrillic=1175,e.zhedieresiscyrillic=1245,e.zihiragana=12376,e.zikatakana=12472,e.zinorhebrew=1454,e.zlinebelow=7829,e.zmonospace=65370,e.zohiragana=12382,e.zokatakana=12478,e.zparen=9397,e.zretroflexhook=656,e.zstroke=438,e.zuhiragana=12378,e.zukatakana=12474,e[".notdef"]=0,e.angbracketleftbig=9001,e.angbracketleftBig=9001,e.angbracketleftbigg=9001,e.angbracketleftBigg=9001,e.angbracketrightBig=9002,e.angbracketrightbig=9002,e.angbracketrightBigg=9002,e.angbracketrightbigg=9002,e.arrowhookleft=8618,e.arrowhookright=8617,e.arrowlefttophalf=8636,e.arrowleftbothalf=8637,e.arrownortheast=8599,e.arrownorthwest=8598,e.arrowrighttophalf=8640,e.arrowrightbothalf=8641,e.arrowsoutheast=8600,e.arrowsouthwest=8601,e.backslashbig=8726,e.backslashBig=8726,e.backslashBigg=8726,e.backslashbigg=8726,e.bardbl=8214,e.bracehtipdownleft=65079,e.bracehtipdownright=65079,e.bracehtipupleft=65080,e.bracehtipupright=65080,e.braceleftBig=123,e.braceleftbig=123,e.braceleftbigg=123,e.braceleftBigg=123,e.bracerightBig=125,e.bracerightbig=125,e.bracerightbigg=125,e.bracerightBigg=125,e.bracketleftbig=91,e.bracketleftBig=91,e.bracketleftbigg=91,e.bracketleftBigg=91,e.bracketrightBig=93,e.bracketrightbig=93,e.bracketrightbigg=93,e.bracketrightBigg=93,e.ceilingleftbig=8968,e.ceilingleftBig=8968,e.ceilingleftBigg=8968,e.ceilingleftbigg=8968,e.ceilingrightbig=8969,e.ceilingrightBig=8969,e.ceilingrightbigg=8969,e.ceilingrightBigg=8969,e.circledotdisplay=8857,e.circledottext=8857,e.circlemultiplydisplay=8855,e.circlemultiplytext=8855,e.circleplusdisplay=8853,e.circleplustext=8853,e.contintegraldisplay=8750,e.contintegraltext=8750,e.coproductdisplay=8720,e.coproducttext=8720,e.floorleftBig=8970,e.floorleftbig=8970,e.floorleftbigg=8970,e.floorleftBigg=8970,e.floorrightbig=8971,e.floorrightBig=8971,e.floorrightBigg=8971,e.floorrightbigg=8971,e.hatwide=770,e.hatwider=770,e.hatwidest=770,e.intercal=7488,e.integraldisplay=8747,e.integraltext=8747,e.intersectiondisplay=8898,e.intersectiontext=8898,e.logicalanddisplay=8743,e.logicalandtext=8743,e.logicalordisplay=8744,e.logicalortext=8744,e.parenleftBig=40,e.parenleftbig=40,e.parenleftBigg=40,e.parenleftbigg=40,e.parenrightBig=41,e.parenrightbig=41,e.parenrightBigg=41,e.parenrightbigg=41,e.prime=8242,e.productdisplay=8719,e.producttext=8719,e.radicalbig=8730,e.radicalBig=8730,e.radicalBigg=8730,e.radicalbigg=8730,e.radicalbt=8730,e.radicaltp=8730,e.radicalvertex=8730,e.slashbig=47,e.slashBig=47,e.slashBigg=47,e.slashbigg=47,e.summationdisplay=8721,e.summationtext=8721,e.tildewide=732,e.tildewider=732,e.tildewidest=732,e.uniondisplay=8899,e.unionmultidisplay=8846,e.unionmultitext=8846,e.unionsqdisplay=8852,e.unionsqtext=8852,e.uniontext=8899,e.vextenddouble=8741,e.vextendsingle=8739});f.getGlyphsUnicode=d;const T=(0,n.getLookupTableFactory)(function(e){e.space=32,e.a1=9985,e.a2=9986,e.a202=9987,e.a3=9988,e.a4=9742,e.a5=9990,e.a119=9991,e.a118=9992,e.a117=9993,e.a11=9755,e.a12=9758,e.a13=9996,e.a14=9997,e.a15=9998,e.a16=9999,e.a105=1e4,e.a17=10001,e.a18=10002,e.a19=10003,e.a20=10004,e.a21=10005,e.a22=10006,e.a23=10007,e.a24=10008,e.a25=10009,e.a26=10010,e.a27=10011,e.a28=10012,e.a6=10013,e.a7=10014,e.a8=10015,e.a9=10016,e.a10=10017,e.a29=10018,e.a30=10019,e.a31=10020,e.a32=10021,e.a33=10022,e.a34=10023,e.a35=9733,e.a36=10025,e.a37=10026,e.a38=10027,e.a39=10028,e.a40=10029,e.a41=10030,e.a42=10031,e.a43=10032,e.a44=10033,e.a45=10034,e.a46=10035,e.a47=10036,e.a48=10037,e.a49=10038,e.a50=10039,e.a51=10040,e.a52=10041,e.a53=10042,e.a54=10043,e.a55=10044,e.a56=10045,e.a57=10046,e.a58=10047,e.a59=10048,e.a60=10049,e.a61=10050,e.a62=10051,e.a63=10052,e.a64=10053,e.a65=10054,e.a66=10055,e.a67=10056,e.a68=10057,e.a69=10058,e.a70=10059,e.a71=9679,e.a72=10061,e.a73=9632,e.a74=10063,e.a203=10064,e.a75=10065,e.a204=10066,e.a76=9650,e.a77=9660,e.a78=9670,e.a79=10070,e.a81=9687,e.a82=10072,e.a83=10073,e.a84=10074,e.a97=10075,e.a98=10076,e.a99=10077,e.a100=10078,e.a101=10081,e.a102=10082,e.a103=10083,e.a104=10084,e.a106=10085,e.a107=10086,e.a108=10087,e.a112=9827,e.a111=9830,e.a110=9829,e.a109=9824,e.a120=9312,e.a121=9313,e.a122=9314,e.a123=9315,e.a124=9316,e.a125=9317,e.a126=9318,e.a127=9319,e.a128=9320,e.a129=9321,e.a130=10102,e.a131=10103,e.a132=10104,e.a133=10105,e.a134=10106,e.a135=10107,e.a136=10108,e.a137=10109,e.a138=10110,e.a139=10111,e.a140=10112,e.a141=10113,e.a142=10114,e.a143=10115,e.a144=10116,e.a145=10117,e.a146=10118,e.a147=10119,e.a148=10120,e.a149=10121,e.a150=10122,e.a151=10123,e.a152=10124,e.a153=10125,e.a154=10126,e.a155=10127,e.a156=10128,e.a157=10129,e.a158=10130,e.a159=10131,e.a160=10132,e.a161=8594,e.a163=8596,e.a164=8597,e.a196=10136,e.a165=10137,e.a192=10138,e.a166=10139,e.a167=10140,e.a168=10141,e.a169=10142,e.a170=10143,e.a171=10144,e.a172=10145,e.a173=10146,e.a162=10147,e.a174=10148,e.a175=10149,e.a176=10150,e.a177=10151,e.a178=10152,e.a179=10153,e.a193=10154,e.a180=10155,e.a199=10156,e.a181=10157,e.a200=10158,e.a182=10159,e.a201=10161,e.a183=10162,e.a184=10163,e.a197=10164,e.a185=10165,e.a194=10166,e.a198=10167,e.a186=10168,e.a195=10169,e.a187=10170,e.a188=10171,e.a189=10172,e.a190=10173,e.a191=10174,e.a89=10088,e.a90=10089,e.a93=10090,e.a94=10091,e.a91=10092,e.a92=10093,e.a205=10094,e.a85=10095,e.a206=10096,e.a86=10097,e.a87=10098,e.a88=10099,e.a95=10100,e.a96=10101,e[".notdef"]=0});f.getDingbatsGlyphsUnicode=T},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clearUnicodeCaches=w,f.getCharUnicodeCategory=g,f.getUnicodeForGlyph=e,f.getUnicodeRangeFor=l,f.mapSpecialUnicodeValues=T;var n=$(3);const d=(0,n.getLookupTableFactory)(function(u){u[63721]=169,u[63193]=169,u[63720]=174,u[63194]=174,u[63722]=8482,u[63195]=8482,u[63729]=9127,u[63730]=9128,u[63731]=9129,u[63740]=9131,u[63741]=9132,u[63742]=9133,u[63726]=9121,u[63727]=9122,u[63728]=9123,u[63737]=9124,u[63738]=9125,u[63739]=9126,u[63723]=9115,u[63724]=9116,u[63725]=9117,u[63734]=9118,u[63735]=9119,u[63736]=9120});function T(u){return u>=65520&&u<=65535?0:u>=62976&&u<=63743?d()[u]||u:u===173?45:u}function e(u,h){let i=h[u];if(i!==void 0)return i;if(!u)return-1;if(u[0]==="u"){const x=u.length;let p;if(x===7&&u[1]==="n"&&u[2]==="i")p=u.substring(3);else if(x>=5&&x<=7)p=u.substring(1);else return-1;if(p===p.toUpperCase()&&(i=parseInt(p,16),i>=0))return i}return-1}const t=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function l(u,h=-1){if(h!==-1){const i=t[h];for(let x=0,p=i.length;x<p;x+=2)if(u>=i[x]&&u<=i[x+1])return h}for(let i=0,x=t.length;i<x;i++){const p=t[i];for(let v=0,b=p.length;v<b;v+=2)if(u>=p[v]&&u<=p[v+1])return i}return-1}const L=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),F=new Map;function g(u){const h=F.get(u);if(h)return h;const i=u.match(L),x={isWhitespace:!!(i!=null&&i[1]),isZeroWidthDiacritic:!!(i!=null&&i[2]),isInvisibleFormatMark:!!(i!=null&&i[3])};return F.set(u,x),x}function w(){F.clear()}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getSerifFonts=f.getNonStdFontMap=f.getGlyphMapForStandardFonts=f.getFontNameToFileMap=void 0,f.getStandardFontName=u,f.getSymbolsFonts=f.getSupplementalGlyphMapForCalibri=f.getSupplementalGlyphMapForArialBlack=f.getStdFontMap=void 0,f.isKnownFontName=h;var n=$(3),d=$(38);const T=(0,n.getLookupTableFactory)(function(i){i["Times-Roman"]="Times-Roman",i.Helvetica="Helvetica",i.Courier="Courier",i.Symbol="Symbol",i["Times-Bold"]="Times-Bold",i["Helvetica-Bold"]="Helvetica-Bold",i["Courier-Bold"]="Courier-Bold",i.ZapfDingbats="ZapfDingbats",i["Times-Italic"]="Times-Italic",i["Helvetica-Oblique"]="Helvetica-Oblique",i["Courier-Oblique"]="Courier-Oblique",i["Times-BoldItalic"]="Times-BoldItalic",i["Helvetica-BoldOblique"]="Helvetica-BoldOblique",i["Courier-BoldOblique"]="Courier-BoldOblique",i.ArialNarrow="Helvetica",i["ArialNarrow-Bold"]="Helvetica-Bold",i["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",i["ArialNarrow-Italic"]="Helvetica-Oblique",i.ArialBlack="Helvetica",i["ArialBlack-Bold"]="Helvetica-Bold",i["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",i["ArialBlack-Italic"]="Helvetica-Oblique",i["Arial-Black"]="Helvetica",i["Arial-Black-Bold"]="Helvetica-Bold",i["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Black-Italic"]="Helvetica-Oblique",i.Arial="Helvetica",i["Arial-Bold"]="Helvetica-Bold",i["Arial-BoldItalic"]="Helvetica-BoldOblique",i["Arial-Italic"]="Helvetica-Oblique",i.ArialMT="Helvetica",i["Arial-BoldItalicMT"]="Helvetica-BoldOblique",i["Arial-BoldMT"]="Helvetica-Bold",i["Arial-ItalicMT"]="Helvetica-Oblique",i["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",i["Arial-BoldMT-Bold"]="Helvetica-Bold",i["Arial-ItalicMT-Italic"]="Helvetica-Oblique",i.ArialUnicodeMS="Helvetica",i["ArialUnicodeMS-Bold"]="Helvetica-Bold",i["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",i["ArialUnicodeMS-Italic"]="Helvetica-Oblique",i["Courier-BoldItalic"]="Courier-BoldOblique",i["Courier-Italic"]="Courier-Oblique",i.CourierNew="Courier",i["CourierNew-Bold"]="Courier-Bold",i["CourierNew-BoldItalic"]="Courier-BoldOblique",i["CourierNew-Italic"]="Courier-Oblique",i["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",i["CourierNewPS-BoldMT"]="Courier-Bold",i["CourierNewPS-ItalicMT"]="Courier-Oblique",i.CourierNewPSMT="Courier",i["Helvetica-BoldItalic"]="Helvetica-BoldOblique",i["Helvetica-Italic"]="Helvetica-Oblique",i["Symbol-Bold"]="Symbol",i["Symbol-BoldItalic"]="Symbol",i["Symbol-Italic"]="Symbol",i.TimesNewRoman="Times-Roman",i["TimesNewRoman-Bold"]="Times-Bold",i["TimesNewRoman-BoldItalic"]="Times-BoldItalic",i["TimesNewRoman-Italic"]="Times-Italic",i.TimesNewRomanPS="Times-Roman",i["TimesNewRomanPS-Bold"]="Times-Bold",i["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",i["TimesNewRomanPS-BoldMT"]="Times-Bold",i["TimesNewRomanPS-Italic"]="Times-Italic",i["TimesNewRomanPS-ItalicMT"]="Times-Italic",i.TimesNewRomanPSMT="Times-Roman",i["TimesNewRomanPSMT-Bold"]="Times-Bold",i["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",i["TimesNewRomanPSMT-Italic"]="Times-Italic"});f.getStdFontMap=T;const e=(0,n.getLookupTableFactory)(function(i){i.Courier="FoxitFixed.pfb",i["Courier-Bold"]="FoxitFixedBold.pfb",i["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",i["Courier-Oblique"]="FoxitFixedItalic.pfb",i.Helvetica="LiberationSans-Regular.ttf",i["Helvetica-Bold"]="LiberationSans-Bold.ttf",i["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",i["Helvetica-Oblique"]="LiberationSans-Italic.ttf",i["Times-Roman"]="FoxitSerif.pfb",i["Times-Bold"]="FoxitSerifBold.pfb",i["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",i["Times-Italic"]="FoxitSerifItalic.pfb",i.Symbol="FoxitSymbol.pfb",i.ZapfDingbats="FoxitDingbats.pfb",i["LiberationSans-Regular"]="LiberationSans-Regular.ttf",i["LiberationSans-Bold"]="LiberationSans-Bold.ttf",i["LiberationSans-Italic"]="LiberationSans-Italic.ttf",i["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});f.getFontNameToFileMap=e;const t=(0,n.getLookupTableFactory)(function(i){i.Calibri="Helvetica",i["Calibri-Bold"]="Helvetica-Bold",i["Calibri-BoldItalic"]="Helvetica-BoldOblique",i["Calibri-Italic"]="Helvetica-Oblique",i.CenturyGothic="Helvetica",i["CenturyGothic-Bold"]="Helvetica-Bold",i["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",i["CenturyGothic-Italic"]="Helvetica-Oblique",i.ComicSansMS="Comic Sans MS",i["ComicSansMS-Bold"]="Comic Sans MS-Bold",i["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",i["ComicSansMS-Italic"]="Comic Sans MS-Italic",i.Impact="Helvetica",i["ItcSymbol-Bold"]="Helvetica-Bold",i["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",i["ItcSymbol-Book"]="Helvetica",i["ItcSymbol-BookItalic"]="Helvetica-Oblique",i["ItcSymbol-Medium"]="Helvetica",i["ItcSymbol-MediumItalic"]="Helvetica-Oblique",i.LucidaConsole="Courier",i["LucidaConsole-Bold"]="Courier-Bold",i["LucidaConsole-BoldItalic"]="Courier-BoldOblique",i["LucidaConsole-Italic"]="Courier-Oblique",i["LucidaSans-Demi"]="Helvetica-Bold",i["MS-Gothic"]="MS Gothic",i["MS-Gothic-Bold"]="MS Gothic-Bold",i["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",i["MS-Gothic-Italic"]="MS Gothic-Italic",i["MS-Mincho"]="MS Mincho",i["MS-Mincho-Bold"]="MS Mincho-Bold",i["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",i["MS-Mincho-Italic"]="MS Mincho-Italic",i["MS-PGothic"]="MS PGothic",i["MS-PGothic-Bold"]="MS PGothic-Bold",i["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",i["MS-PGothic-Italic"]="MS PGothic-Italic",i["MS-PMincho"]="MS PMincho",i["MS-PMincho-Bold"]="MS PMincho-Bold",i["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",i["MS-PMincho-Italic"]="MS PMincho-Italic",i.NuptialScript="Times-Italic",i.SegoeUISymbol="Helvetica"});f.getNonStdFontMap=t;const l=(0,n.getLookupTableFactory)(function(i){i["Adobe Jenson"]=!0,i["Adobe Text"]=!0,i.Albertus=!0,i.Aldus=!0,i.Alexandria=!0,i.Algerian=!0,i["American Typewriter"]=!0,i.Antiqua=!0,i.Apex=!0,i.Arno=!0,i.Aster=!0,i.Aurora=!0,i.Baskerville=!0,i.Bell=!0,i.Bembo=!0,i["Bembo Schoolbook"]=!0,i.Benguiat=!0,i["Berkeley Old Style"]=!0,i["Bernhard Modern"]=!0,i["Berthold City"]=!0,i.Bodoni=!0,i["Bauer Bodoni"]=!0,i["Book Antiqua"]=!0,i.Bookman=!0,i["Bordeaux Roman"]=!0,i["Californian FB"]=!0,i.Calisto=!0,i.Calvert=!0,i.Capitals=!0,i.Cambria=!0,i.Cartier=!0,i.Caslon=!0,i.Catull=!0,i.Centaur=!0,i["Century Old Style"]=!0,i["Century Schoolbook"]=!0,i.Chaparral=!0,i["Charis SIL"]=!0,i.Cheltenham=!0,i["Cholla Slab"]=!0,i.Clarendon=!0,i.Clearface=!0,i.Cochin=!0,i.Colonna=!0,i["Computer Modern"]=!0,i["Concrete Roman"]=!0,i.Constantia=!0,i["Cooper Black"]=!0,i.Corona=!0,i.Ecotype=!0,i.Egyptienne=!0,i.Elephant=!0,i.Excelsior=!0,i.Fairfield=!0,i["FF Scala"]=!0,i.Folkard=!0,i.Footlight=!0,i.FreeSerif=!0,i["Friz Quadrata"]=!0,i.Garamond=!0,i.Gentium=!0,i.Georgia=!0,i.Gloucester=!0,i["Goudy Old Style"]=!0,i["Goudy Schoolbook"]=!0,i["Goudy Pro Font"]=!0,i.Granjon=!0,i["Guardian Egyptian"]=!0,i.Heather=!0,i.Hercules=!0,i["High Tower Text"]=!0,i.Hiroshige=!0,i["Hoefler Text"]=!0,i["Humana Serif"]=!0,i.Imprint=!0,i["Ionic No. 5"]=!0,i.Janson=!0,i.Joanna=!0,i.Korinna=!0,i.Lexicon=!0,i.LiberationSerif=!0,i["Liberation Serif"]=!0,i["Linux Libertine"]=!0,i.Literaturnaya=!0,i.Lucida=!0,i["Lucida Bright"]=!0,i.Melior=!0,i.Memphis=!0,i.Miller=!0,i.Minion=!0,i.Modern=!0,i["Mona Lisa"]=!0,i["Mrs Eaves"]=!0,i["MS Serif"]=!0,i["Museo Slab"]=!0,i["New York"]=!0,i["Nimbus Roman"]=!0,i["NPS Rawlinson Roadway"]=!0,i.NuptialScript=!0,i.Palatino=!0,i.Perpetua=!0,i.Plantin=!0,i["Plantin Schoolbook"]=!0,i.Playbill=!0,i["Poor Richard"]=!0,i["Rawlinson Roadway"]=!0,i.Renault=!0,i.Requiem=!0,i.Rockwell=!0,i.Roman=!0,i["Rotis Serif"]=!0,i.Sabon=!0,i.Scala=!0,i.Seagull=!0,i.Sistina=!0,i.Souvenir=!0,i.STIX=!0,i["Stone Informal"]=!0,i["Stone Serif"]=!0,i.Sylfaen=!0,i.Times=!0,i.Trajan=!0,i.Trinit=!0,i["Trump Mediaeval"]=!0,i.Utopia=!0,i["Vale Type"]=!0,i["Bitstream Vera"]=!0,i["Vera Serif"]=!0,i.Versailles=!0,i.Wanted=!0,i.Weiss=!0,i["Wide Latin"]=!0,i.Windsor=!0,i.XITS=!0});f.getSerifFonts=l;const L=(0,n.getLookupTableFactory)(function(i){i.Dingbats=!0,i.Symbol=!0,i.ZapfDingbats=!0,i.Wingdings=!0,i["Wingdings-Bold"]=!0,i["Wingdings-Regular"]=!0});f.getSymbolsFonts=L;const F=(0,n.getLookupTableFactory)(function(i){i[2]=10,i[3]=32,i[4]=33,i[5]=34,i[6]=35,i[7]=36,i[8]=37,i[9]=38,i[10]=39,i[11]=40,i[12]=41,i[13]=42,i[14]=43,i[15]=44,i[16]=45,i[17]=46,i[18]=47,i[19]=48,i[20]=49,i[21]=50,i[22]=51,i[23]=52,i[24]=53,i[25]=54,i[26]=55,i[27]=56,i[28]=57,i[29]=58,i[30]=894,i[31]=60,i[32]=61,i[33]=62,i[34]=63,i[35]=64,i[36]=65,i[37]=66,i[38]=67,i[39]=68,i[40]=69,i[41]=70,i[42]=71,i[43]=72,i[44]=73,i[45]=74,i[46]=75,i[47]=76,i[48]=77,i[49]=78,i[50]=79,i[51]=80,i[52]=81,i[53]=82,i[54]=83,i[55]=84,i[56]=85,i[57]=86,i[58]=87,i[59]=88,i[60]=89,i[61]=90,i[62]=91,i[63]=92,i[64]=93,i[65]=94,i[66]=95,i[67]=96,i[68]=97,i[69]=98,i[70]=99,i[71]=100,i[72]=101,i[73]=102,i[74]=103,i[75]=104,i[76]=105,i[77]=106,i[78]=107,i[79]=108,i[80]=109,i[81]=110,i[82]=111,i[83]=112,i[84]=113,i[85]=114,i[86]=115,i[87]=116,i[88]=117,i[89]=118,i[90]=119,i[91]=120,i[92]=121,i[93]=122,i[94]=123,i[95]=124,i[96]=125,i[97]=126,i[98]=196,i[99]=197,i[100]=199,i[101]=201,i[102]=209,i[103]=214,i[104]=220,i[105]=225,i[106]=224,i[107]=226,i[108]=228,i[109]=227,i[110]=229,i[111]=231,i[112]=233,i[113]=232,i[114]=234,i[115]=235,i[116]=237,i[117]=236,i[118]=238,i[119]=239,i[120]=241,i[121]=243,i[122]=242,i[123]=244,i[124]=246,i[125]=245,i[126]=250,i[127]=249,i[128]=251,i[129]=252,i[130]=8224,i[131]=176,i[132]=162,i[133]=163,i[134]=167,i[135]=8226,i[136]=182,i[137]=223,i[138]=174,i[139]=169,i[140]=8482,i[141]=180,i[142]=168,i[143]=8800,i[144]=198,i[145]=216,i[146]=8734,i[147]=177,i[148]=8804,i[149]=8805,i[150]=165,i[151]=181,i[152]=8706,i[153]=8721,i[154]=8719,i[156]=8747,i[157]=170,i[158]=186,i[159]=8486,i[160]=230,i[161]=248,i[162]=191,i[163]=161,i[164]=172,i[165]=8730,i[166]=402,i[167]=8776,i[168]=8710,i[169]=171,i[170]=187,i[171]=8230,i[179]=8220,i[180]=8221,i[181]=8216,i[182]=8217,i[200]=193,i[203]=205,i[207]=211,i[210]=218,i[223]=711,i[224]=321,i[225]=322,i[226]=352,i[227]=353,i[228]=381,i[229]=382,i[233]=221,i[234]=253,i[252]=263,i[253]=268,i[254]=269,i[258]=258,i[260]=260,i[261]=261,i[265]=280,i[266]=281,i[267]=282,i[268]=283,i[269]=313,i[275]=323,i[276]=324,i[278]=328,i[283]=344,i[284]=345,i[285]=346,i[286]=347,i[292]=367,i[295]=377,i[296]=378,i[298]=380,i[305]=963,i[306]=964,i[307]=966,i[308]=8215,i[309]=8252,i[310]=8319,i[311]=8359,i[312]=8592,i[313]=8593,i[337]=9552,i[493]=1039,i[494]=1040,i[672]=1488,i[673]=1489,i[674]=1490,i[675]=1491,i[676]=1492,i[677]=1493,i[678]=1494,i[679]=1495,i[680]=1496,i[681]=1497,i[682]=1498,i[683]=1499,i[684]=1500,i[685]=1501,i[686]=1502,i[687]=1503,i[688]=1504,i[689]=1505,i[690]=1506,i[691]=1507,i[692]=1508,i[693]=1509,i[694]=1510,i[695]=1511,i[696]=1512,i[697]=1513,i[698]=1514,i[705]=1524,i[706]=8362,i[710]=64288,i[711]=64298,i[759]=1617,i[761]=1776,i[763]=1778,i[775]=1652,i[777]=1764,i[778]=1780,i[779]=1781,i[780]=1782,i[782]=771,i[783]=64726,i[786]=8363,i[788]=8532,i[790]=768,i[791]=769,i[792]=768,i[795]=803,i[797]=64336,i[798]=64337,i[799]=64342,i[800]=64343,i[801]=64344,i[802]=64345,i[803]=64362,i[804]=64363,i[805]=64364,i[2424]=7821,i[2425]=7822,i[2426]=7823,i[2427]=7824,i[2428]=7825,i[2429]=7826,i[2430]=7827,i[2433]=7682,i[2678]=8045,i[2679]=8046,i[2830]=1552,i[2838]=686,i[2840]=751,i[2842]=753,i[2843]=754,i[2844]=755,i[2846]=757,i[2856]=767,i[2857]=848,i[2858]=849,i[2862]=853,i[2863]=854,i[2864]=855,i[2865]=861,i[2866]=862,i[2906]=7460,i[2908]=7462,i[2909]=7463,i[2910]=7464,i[2912]=7466,i[2913]=7467,i[2914]=7468,i[2916]=7470,i[2917]=7471,i[2918]=7472,i[2920]=7474,i[2921]=7475,i[2922]=7476,i[2924]=7478,i[2925]=7479,i[2926]=7480,i[2928]=7482,i[2929]=7483,i[2930]=7484,i[2932]=7486,i[2933]=7487,i[2934]=7488,i[2936]=7490,i[2937]=7491,i[2938]=7492,i[2940]=7494,i[2941]=7495,i[2942]=7496,i[2944]=7498,i[2946]=7500,i[2948]=7502,i[2950]=7504,i[2951]=7505,i[2952]=7506,i[2954]=7508,i[2955]=7509,i[2956]=7510,i[2958]=7512,i[2959]=7513,i[2960]=7514,i[2962]=7516,i[2963]=7517,i[2964]=7518,i[2966]=7520,i[2967]=7521,i[2968]=7522,i[2970]=7524,i[2971]=7525,i[2972]=7526,i[2974]=7528,i[2975]=7529,i[2976]=7530,i[2978]=1537,i[2979]=1538,i[2980]=1539,i[2982]=1549,i[2983]=1551,i[2984]=1552,i[2986]=1554,i[2987]=1555,i[2988]=1556,i[2990]=1623,i[2991]=1624,i[2995]=1775,i[2999]=1791,i[3002]=64290,i[3003]=64291,i[3004]=64292,i[3006]=64294,i[3007]=64295,i[3008]=64296,i[3011]=1900,i[3014]=8223,i[3015]=8244,i[3017]=7532,i[3018]=7533,i[3019]=7534,i[3075]=7590,i[3076]=7591,i[3079]=7594,i[3080]=7595,i[3083]=7598,i[3084]=7599,i[3087]=7602,i[3088]=7603,i[3091]=7606,i[3092]=7607,i[3095]=7610,i[3096]=7611,i[3099]=7614,i[3100]=7615,i[3103]=7618,i[3104]=7619,i[3107]=8337,i[3108]=8338,i[3116]=1884,i[3119]=1885,i[3120]=1885,i[3123]=1886,i[3124]=1886,i[3127]=1887,i[3128]=1887,i[3131]=1888,i[3132]=1888,i[3135]=1889,i[3136]=1889,i[3139]=1890,i[3140]=1890,i[3143]=1891,i[3144]=1891,i[3147]=1892,i[3148]=1892,i[3153]=580,i[3154]=581,i[3157]=584,i[3158]=585,i[3161]=588,i[3162]=589,i[3165]=891,i[3166]=892,i[3169]=1274,i[3170]=1275,i[3173]=1278,i[3174]=1279,i[3181]=7622,i[3182]=7623,i[3282]=11799,i[3316]=578,i[3379]=42785,i[3393]=1159,i[3416]=8377});f.getGlyphMapForStandardFonts=F;const g=(0,n.getLookupTableFactory)(function(i){i[227]=322,i[264]=261,i[291]=346});f.getSupplementalGlyphMapForArialBlack=g;const w=(0,n.getLookupTableFactory)(function(i){i[1]=32,i[4]=65,i[5]=192,i[6]=193,i[9]=196,i[17]=66,i[18]=67,i[21]=268,i[24]=68,i[28]=69,i[29]=200,i[30]=201,i[32]=282,i[38]=70,i[39]=71,i[44]=72,i[47]=73,i[48]=204,i[49]=205,i[58]=74,i[60]=75,i[62]=76,i[68]=77,i[69]=78,i[75]=79,i[76]=210,i[80]=214,i[87]=80,i[89]=81,i[90]=82,i[92]=344,i[94]=83,i[97]=352,i[100]=84,i[104]=85,i[109]=220,i[115]=86,i[116]=87,i[121]=88,i[122]=89,i[124]=221,i[127]=90,i[129]=381,i[258]=97,i[259]=224,i[260]=225,i[263]=228,i[268]=261,i[271]=98,i[272]=99,i[273]=263,i[275]=269,i[282]=100,i[286]=101,i[287]=232,i[288]=233,i[290]=283,i[295]=281,i[296]=102,i[336]=103,i[346]=104,i[349]=105,i[350]=236,i[351]=237,i[361]=106,i[364]=107,i[367]=108,i[371]=322,i[373]=109,i[374]=110,i[381]=111,i[382]=242,i[383]=243,i[386]=246,i[393]=112,i[395]=113,i[396]=114,i[398]=345,i[400]=115,i[401]=347,i[403]=353,i[410]=116,i[437]=117,i[442]=252,i[448]=118,i[449]=119,i[454]=120,i[455]=121,i[457]=253,i[460]=122,i[462]=382,i[463]=380,i[853]=44,i[855]=58,i[856]=46,i[876]=47,i[878]=45,i[882]=45,i[894]=40,i[895]=41,i[896]=91,i[897]=93,i[923]=64,i[1004]=48,i[1005]=49,i[1006]=50,i[1007]=51,i[1008]=52,i[1009]=53,i[1010]=54,i[1011]=55,i[1012]=56,i[1013]=57,i[1081]=37,i[1085]=43,i[1086]=45});f.getSupplementalGlyphMapForCalibri=w;function u(i){const x=(0,d.normalizeFontName)(i);return T()[x]}function h(i){const x=(0,d.normalizeFontName)(i);return!!(T()[x]||t()[x]||l()[x]||L()[x])}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ToUnicodeMap=f.IdentityToUnicodeMap=void 0;var n=$(2);class d{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const l in this._map)t(l,this._map[l].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const l=this._map;if(l.length<=65536)return l.indexOf(t);for(const L in l)if(l[L]===t)return L|0;return-1}amend(t){for(const l in t)this._map[l]=t[l]}}f.ToUnicodeMap=d;class T{constructor(t,l){this.firstChar=t,this.lastChar=l}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let l=this.firstChar,L=this.lastChar;l<=L;l++)t(l,l)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){(0,n.unreachable)("Should not call amend()")}}f.IdentityToUnicodeMap=T},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CFFFont=void 0;var n=$(35),d=$(38),T=$(2);class e{constructor(l,L){this.properties=L;const F=new n.CFFParser(l,L,d.SEAC_ANALYSIS_ENABLED);this.cff=F.parse(),this.cff.duplicateFirstGlyph();const g=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=g.compile()}catch{(0,T.warn)("Failed to compile font "+L.loadedName),this.data=l}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const l=this.cff,L=this.properties,{cidToGidMap:F,cMap:g}=L,w=l.charset.charset;let u,h;if(L.composite){let x;if((F==null?void 0:F.length)>0){x=Object.create(null);for(let v=0,b=F.length;v<b;v++){const N=F[v];N!==void 0&&(x[N]=v)}}u=Object.create(null);let p;if(l.isCIDFont)for(h=0;h<w.length;h++){const v=w[h];p=g.charCodeOf(v),(x==null?void 0:x[p])!==void 0&&(p=x[p]),u[p]=h}else for(h=0;h<l.charStrings.count;h++)p=g.charCodeOf(h),u[p]=h;return u}let i=l.encoding?l.encoding.encoding:null;return L.isInternalFont&&(i=L.defaultEncoding),u=(0,d.type1FontGlyphMapping)(L,i,w),u}hasGlyphId(l){return this.cff.hasGlyphId(l)}_createBuiltInEncoding(){const{charset:l,encoding:L}=this.cff;if(!l||!L)return;const F=l.charset,g=L.encoding,w=[];for(const u in g){const h=g[u];if(h>=0){const i=F[h];i&&(w[u]=i)}}w.length>0&&(this.properties.builtInEncoding=w)}}f.CFFFont=e},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FontRendererFactory=void 0;var n=$(2),d=$(35),T=$(39),e=$(37),t=$(8);function l(_,P){return(_[P]<<24|_[P+1]<<16|_[P+2]<<8|_[P+3])>>>0}function L(_,P){return _[P]<<8|_[P+1]}function F(_,P){return(_[P]<<24|_[P+1]<<16)>>16}function g(_,P){return _[P]<<24>>24}function w(_,P){return F(_,P)/16384}function u(_){const P=_.length;let X=32768;return P<1240?X=107:P<33900&&(X=1131),X}function h(_,P,X){const m=L(_,P+2)===1?l(_,P+8):l(_,P+16),S=L(_,P+m);let R,z,O;if(S===4){L(_,P+m+2);const E=L(_,P+m+6)>>1;for(z=P+m+14,R=[],O=0;O<E;O++,z+=2)R[O]={end:L(_,z)};for(z+=2,O=0;O<E;O++,z+=2)R[O].start=L(_,z);for(O=0;O<E;O++,z+=2)R[O].idDelta=L(_,z);for(O=0;O<E;O++,z+=2){let k=L(_,z);if(k!==0){R[O].ids=[];for(let M=0,a=R[O].end-R[O].start+1;M<a;M++)R[O].ids[M]=L(_,z+k),k+=2}}return R}else if(S===12){const E=l(_,P+m+12);for(z=P+m+16,R=[],O=0;O<E;O++)P=l(_,z),R.push({start:P,end:l(_,z+4),idDelta:l(_,z+8)-P}),z+=12;return R}throw new n.FormatError(`unsupported cmap: ${S}`)}function i(_,P,X,m){var O,E,k;const S={},z=new d.CFFParser(new t.Stream(_,P,X-P),S,m).parse();return{glyphs:z.charStrings.objects,subrs:(E=(O=z.topDict.privateDict)==null?void 0:O.subrsIndex)==null?void 0:E.objects,gsubrs:(k=z.globalSubrIndex)==null?void 0:k.objects,isCFFCIDFont:z.isCIDFont,fdSelect:z.fdSelect,fdArray:z.fdArray}}function x(_,P,X){let m,S;X?(m=4,S=l):(m=2,S=(O,E)=>2*L(O,E));const R=[];let z=S(P,0);for(let O=m;O<P.length;O+=m){const E=S(P,O);R.push(_.subarray(z,E)),z=E}return R}function p(_,P){const X=P.codePointAt(0);let m=0,S=0,R=_.length-1;for(;S<R;){const z=S+R+1>>1;X<_[z].start?R=z-1:S=z}return _[S].start<=X&&X<=_[S].end&&(m=_[S].idDelta+(_[S].ids?_[S].ids[X-_[S].start]:X)&65535),{charCode:X,glyphId:m}}function v(_,P,X){function m(a,o){P.push({cmd:"moveTo",args:[a,o]})}function S(a,o){P.push({cmd:"lineTo",args:[a,o]})}function R(a,o,r,s){P.push({cmd:"quadraticCurveTo",args:[a,o,r,s]})}let z=0;const O=F(_,z);let E,k=0,M=0;if(z+=10,O<0)do{E=L(_,z);const a=L(_,z+2);z+=4;let o,r;E&1?(E&2?(o=F(_,z),r=F(_,z+2)):(o=L(_,z),r=L(_,z+2)),z+=4):E&2?(o=g(_,z++),r=g(_,z++)):(o=_[z++],r=_[z++]),E&2?(k=o,M=r):(k=0,M=0);let s=1,A=1,c=0,y=0;E&8?(s=A=w(_,z),z+=2):E&64?(s=w(_,z),A=w(_,z+2),z+=4):E&128&&(s=w(_,z),c=w(_,z+2),y=w(_,z+4),A=w(_,z+6),z+=8);const q=X.glyphs[a];q&&(P.push({cmd:"save"},{cmd:"transform",args:[s,c,y,A,k,M]}),v(q,P,X),P.push({cmd:"restore"}))}while(E&32);else{const a=[];let o,r;for(o=0;o<O;o++)a.push(L(_,z)),z+=2;const s=L(_,z);z+=2+s;const A=a.at(-1)+1,c=[];for(;c.length<A;){E=_[z++];let q=1;for(E&8&&(q+=_[z++]);q-- >0;)c.push({flags:E})}for(o=0;o<A;o++){switch(c[o].flags&18){case 0:k+=F(_,z),z+=2;break;case 2:k-=_[z++];break;case 18:k+=_[z++];break}c[o].x=k}for(o=0;o<A;o++){switch(c[o].flags&36){case 0:M+=F(_,z),z+=2;break;case 4:M-=_[z++];break;case 36:M+=_[z++];break}c[o].y=M}let y=0;for(z=0;z<O;z++){const q=a[z],re=c.slice(y,q+1);if(re[0].flags&1)re.push(re[0]);else if(re.at(-1).flags&1)re.unshift(re.at(-1));else{const Q={flags:1,x:(re[0].x+re.at(-1).x)/2,y:(re[0].y+re.at(-1).y)/2};re.unshift(Q),re.push(Q)}for(m(re[0].x,re[0].y),o=1,r=re.length;o<r;o++)re[o].flags&1?S(re[o].x,re[o].y):re[o+1].flags&1?(R(re[o].x,re[o].y,re[o+1].x,re[o+1].y),o++):R(re[o].x,re[o].y,(re[o].x+re[o+1].x)/2,(re[o].y+re[o+1].y)/2);y=q+1}}}function b(_,P,X,m){function S(o,r){P.push({cmd:"moveTo",args:[o,r]})}function R(o,r){P.push({cmd:"lineTo",args:[o,r]})}function z(o,r,s,A,c,y){P.push({cmd:"bezierCurveTo",args:[o,r,s,A,c,y]})}const O=[];let E=0,k=0,M=0;function a(o){var s;let r=0;for(;r<o.length;){let A=!1,c=o[r++],y,q,re,Q,de,ee,ue,W,Z;switch(c){case 1:M+=O.length>>1,A=!0;break;case 3:M+=O.length>>1,A=!0;break;case 4:k+=O.pop(),S(E,k),A=!0;break;case 5:for(;O.length>0;)E+=O.shift(),k+=O.shift(),R(E,k);break;case 6:for(;O.length>0&&(E+=O.shift(),R(E,k),O.length!==0);)k+=O.shift(),R(E,k);break;case 7:for(;O.length>0&&(k+=O.shift(),R(E,k),O.length!==0);)E+=O.shift(),R(E,k);break;case 8:for(;O.length>0;)y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k);break;case 10:if(W=O.pop(),Z=null,X.isCFFCIDFont){const se=X.fdSelect.getFDIndex(m);if(se>=0&&se<X.fdArray.length){const ne=X.fdArray[se];let ie;(s=ne.privateDict)!=null&&s.subrsIndex&&(ie=ne.privateDict.subrsIndex.objects),ie&&(W+=u(ie),Z=ie[W])}else(0,n.warn)("Invalid fd index for glyph index.")}else Z=X.subrs[W+X.subrsBias];Z&&a(Z);break;case 11:return;case 12:switch(c=o[r++],c){case 34:y=E+O.shift(),q=y+O.shift(),de=k+O.shift(),E=q+O.shift(),z(y,k,q,de,E,de),y=E+O.shift(),q=y+O.shift(),E=q+O.shift(),z(y,de,q,k,E,k);break;case 35:y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k),y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k),O.pop();break;case 36:y=E+O.shift(),de=k+O.shift(),q=y+O.shift(),ee=de+O.shift(),E=q+O.shift(),z(y,de,q,ee,E,ee),y=E+O.shift(),q=y+O.shift(),ue=ee+O.shift(),E=q+O.shift(),z(y,ee,q,ue,E,k);break;case 37:const se=E,ne=k;y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k),y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q,k=Q,Math.abs(E-se)>Math.abs(k-ne)?E+=O.shift():k+=O.shift(),z(y,re,q,Q,E,k);break;default:throw new n.FormatError(`unknown operator: 12 ${c}`)}break;case 14:if(O.length>=4){const se=O.pop(),ne=O.pop();k=O.pop(),E=O.pop(),P.push({cmd:"save"},{cmd:"translate",args:[E,k]});let ie=p(X.cmap,String.fromCharCode(X.glyphNameMap[e.StandardEncoding[se]]));b(X.glyphs[ie.glyphId],P,X,ie.glyphId),P.push({cmd:"restore"}),ie=p(X.cmap,String.fromCharCode(X.glyphNameMap[e.StandardEncoding[ne]])),b(X.glyphs[ie.glyphId],P,X,ie.glyphId)}return;case 18:M+=O.length>>1,A=!0;break;case 19:M+=O.length>>1,r+=M+7>>3,A=!0;break;case 20:M+=O.length>>1,r+=M+7>>3,A=!0;break;case 21:k+=O.pop(),E+=O.pop(),S(E,k),A=!0;break;case 22:E+=O.pop(),S(E,k),A=!0;break;case 23:M+=O.length>>1,A=!0;break;case 24:for(;O.length>2;)y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k);E+=O.shift(),k+=O.shift(),R(E,k);break;case 25:for(;O.length>6;)E+=O.shift(),k+=O.shift(),R(E,k);y=E+O.shift(),re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+O.shift(),z(y,re,q,Q,E,k);break;case 26:for(O.length%2&&(E+=O.shift());O.length>0;)y=E,re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q,k=Q+O.shift(),z(y,re,q,Q,E,k);break;case 27:for(O.length%2&&(k+=O.shift());O.length>0;)y=E+O.shift(),re=k,q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q,z(y,re,q,Q,E,k);break;case 28:O.push((o[r]<<24|o[r+1]<<16)>>16),r+=2;break;case 29:W=O.pop()+X.gsubrsBias,Z=X.gsubrs[W],Z&&a(Z);break;case 30:for(;O.length>0&&(y=E,re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+(O.length===1?O.shift():0),z(y,re,q,Q,E,k),O.length!==0);)y=E+O.shift(),re=k,q=y+O.shift(),Q=re+O.shift(),k=Q+O.shift(),E=q+(O.length===1?O.shift():0),z(y,re,q,Q,E,k);break;case 31:for(;O.length>0&&(y=E+O.shift(),re=k,q=y+O.shift(),Q=re+O.shift(),k=Q+O.shift(),E=q+(O.length===1?O.shift():0),z(y,re,q,Q,E,k),O.length!==0);)y=E,re=k+O.shift(),q=y+O.shift(),Q=re+O.shift(),E=q+O.shift(),k=Q+(O.length===1?O.shift():0),z(y,re,q,Q,E,k);break;default:if(c<32)throw new n.FormatError(`unknown operator: ${c}`);c<247?O.push(c-139):c<251?O.push((c-247)*256+o[r++]+108):c<255?O.push(-(c-251)*256-o[r++]-108):(O.push((o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3])/65536),r+=4);break}A&&(O.length=0)}}a(_)}const N=[];class U{constructor(P){this.constructor===U&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=P,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(P){const{charCode:X,glyphId:m}=p(this.cmap,P);let S=this.compiledGlyphs[m];if(!S)try{S=this.compileGlyph(this.glyphs[m],m),this.compiledGlyphs[m]=S}catch(R){throw this.compiledGlyphs[m]=N,this.compiledCharCodeToGlyphId[X]===void 0&&(this.compiledCharCodeToGlyphId[X]=m),R}return this.compiledCharCodeToGlyphId[X]===void 0&&(this.compiledCharCodeToGlyphId[X]=m),S}compileGlyph(P,X){if(!P||P.length===0||P[0]===14)return N;let m=this.fontMatrix;if(this.isCFFCIDFont){const R=this.fdSelect.getFDIndex(X);R>=0&&R<this.fdArray.length?m=this.fdArray[R].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const S=[{cmd:"save"},{cmd:"transform",args:m.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(P,S,X),S.push({cmd:"restore"}),S}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(P){const{charCode:X,glyphId:m}=p(this.cmap,P);return this.compiledGlyphs[m]!==void 0&&this.compiledCharCodeToGlyphId[X]!==void 0}}class D extends U{constructor(P,X,m){super(m||[488e-6,0,0,488e-6,0,0]),this.glyphs=P,this.cmap=X}compileGlyphImpl(P,X){v(P,X,this)}}class I extends U{constructor(P,X,m,S){super(m||[.001,0,0,.001,0,0]),this.glyphs=P.glyphs,this.gsubrs=P.gsubrs||[],this.subrs=P.subrs||[],this.cmap=X,this.glyphNameMap=S||(0,T.getGlyphsUnicode)(),this.gsubrsBias=u(this.gsubrs),this.subrsBias=u(this.subrs),this.isCFFCIDFont=P.isCFFCIDFont,this.fdSelect=P.fdSelect,this.fdArray=P.fdArray}compileGlyphImpl(P,X,m){b(P,X,this,m)}}class B{static create(P,X){const m=new Uint8Array(P.data);let S,R,z,O,E,k;const M=L(m,4);for(let a=0,o=12;a<M;a++,o+=16){const r=(0,n.bytesToString)(m.subarray(o,o+4)),s=l(m,o+8),A=l(m,o+12);switch(r){case"cmap":S=h(m,s);break;case"glyf":R=m.subarray(s,s+A);break;case"loca":z=m.subarray(s,s+A);break;case"head":k=L(m,s+18),E=L(m,s+50);break;case"CFF ":O=i(m,s,s+A,X);break}}if(R){const a=k?[1/k,0,0,1/k,0,0]:P.fontMatrix;return new D(x(R,z,E),S,a)}return new I(O,S,P.fontMatrix,P.glyphNameMap)}}f.FontRendererFactory=B},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getMetrics=f.getFontBasicMetrics=void 0;var n=$(3);const d=(0,n.getLookupTableFactory)(function(e){e.Courier=600,e["Courier-Bold"]=600,e["Courier-BoldOblique"]=600,e["Courier-Oblique"]=600,e.Helvetica=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),e["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),e.Symbol=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),e["Times-Roman"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Bold"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),e["Times-Italic"]=(0,n.getLookupTableFactory)(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),e.ZapfDingbats=(0,n.getLookupTableFactory)(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})});f.getMetrics=d;const T=(0,n.getLookupTableFactory)(function(e){e.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},e["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},e["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},e.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},e["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},e["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},e["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},e["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},e["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},e.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},e.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});f.getFontBasicMetrics=T},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.GlyfTable=void 0;const $=1,n=2,d=4,T=8,e=16,t=32,l=64,L=1,F=2,g=8,w=32,u=64,h=128,i=256;class x{constructor({glyfTable:I,isGlyphLocationsLong:B,locaTable:_,numGlyphs:P}){this.glyphs=[];const X=new DataView(_.buffer,_.byteOffset,_.byteLength),m=new DataView(I.buffer,I.byteOffset,I.byteLength),S=B?4:2;let R=B?X.getUint32(0):2*X.getUint16(0),z=0;for(let O=0;O<P;O++){z+=S;const E=B?X.getUint32(z):2*X.getUint16(z);if(E===R){this.glyphs.push(new p({}));continue}const k=p.parse(R,m);this.glyphs.push(k),R=E}}getSize(){return this.glyphs.reduce((I,B)=>{const _=B.getSize();return I+(_+3&-4)},0)}write(){const I=this.getSize(),B=new DataView(new ArrayBuffer(I)),_=I>131070,P=_?4:2,X=new DataView(new ArrayBuffer((this.glyphs.length+1)*P));_?X.setUint32(0,0):X.setUint16(0,0);let m=0,S=0;for(const R of this.glyphs)m+=R.write(m,B),m=m+3&-4,S+=P,_?X.setUint32(S,m):X.setUint16(S,m>>1);return{isLocationLong:_,loca:new Uint8Array(X.buffer),glyf:new Uint8Array(B.buffer)}}scale(I){for(let B=0,_=this.glyphs.length;B<_;B++)this.glyphs[B].scale(I[B])}}f.GlyfTable=x;class p{constructor({header:I=null,simple:B=null,composites:_=null}){this.header=I,this.simple=B,this.composites=_}static parse(I,B){const[_,P]=v.parse(I,B);if(I+=_,P.numberOfContours<0){const m=[];for(;;){const[S,R]=U.parse(I,B);if(I+=S,m.push(R),!(R.flags&w))break}return new p({header:P,composites:m})}const X=N.parse(I,B,P.numberOfContours);return new p({header:P,simple:X})}getSize(){if(!this.header)return 0;const I=this.simple?this.simple.getSize():this.composites.reduce((B,_)=>B+_.getSize(),0);return this.header.getSize()+I}write(I,B){if(!this.header)return 0;const _=I;if(I+=this.header.write(I,B),this.simple)I+=this.simple.write(I,B);else for(const P of this.composites)I+=P.write(I,B);return I-_}scale(I){if(!this.header)return;const B=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(B,I),this.simple)this.simple.scale(B,I);else for(const _ of this.composites)_.scale(B,I)}}class v{constructor({numberOfContours:I,xMin:B,yMin:_,xMax:P,yMax:X}){this.numberOfContours=I,this.xMin=B,this.yMin=_,this.xMax=P,this.yMax=X}static parse(I,B){return[10,new v({numberOfContours:B.getInt16(I),xMin:B.getInt16(I+2),yMin:B.getInt16(I+4),xMax:B.getInt16(I+6),yMax:B.getInt16(I+8)})]}getSize(){return 10}write(I,B){return B.setInt16(I,this.numberOfContours),B.setInt16(I+2,this.xMin),B.setInt16(I+4,this.yMin),B.setInt16(I+6,this.xMax),B.setInt16(I+8,this.yMax),10}scale(I,B){this.xMin=Math.round(I+(this.xMin-I)*B),this.xMax=Math.round(I+(this.xMax-I)*B)}}class b{constructor({flags:I,xCoordinates:B,yCoordinates:_}){this.xCoordinates=B,this.yCoordinates=_,this.flags=I}}class N{constructor({contours:I,instructions:B}){this.contours=I,this.instructions=B}static parse(I,B,_){const P=[];for(let r=0;r<_;r++){const s=B.getUint16(I);I+=2,P.push(s)}const X=P[_-1]+1,m=B.getUint16(I);I+=2;const S=new Uint8Array(B).slice(I,I+m);I+=m;const R=[];for(let r=0;r<X;I++,r++){let s=B.getUint8(I);if(R.push(s),s&T){const A=B.getUint8(++I);s^=T;for(let c=0;c<A;c++)R.push(s);r+=A}}const z=[];let O=[],E=[],k=[];const M=[];let a=0,o=0;for(let r=0;r<X;r++){const s=R[r];if(s&n){const A=B.getUint8(I++);o+=s&e?A:-A,O.push(o)}else s&e||(o+=B.getInt16(I),I+=2),O.push(o);P[a]===r&&(a++,z.push(O),O=[])}o=0,a=0;for(let r=0;r<X;r++){const s=R[r];if(s&d){const A=B.getUint8(I++);o+=s&t?A:-A,E.push(o)}else s&t||(o+=B.getInt16(I),I+=2),E.push(o);k.push(s&$|s&l),P[a]===r&&(O=z[a],a++,M.push(new b({flags:k,xCoordinates:O,yCoordinates:E})),E=[],k=[])}return new N({contours:M,instructions:S})}getSize(){let I=this.contours.length*2+2+this.instructions.length,B=0,_=0;for(const P of this.contours){I+=P.flags.length;for(let X=0,m=P.xCoordinates.length;X<m;X++){const S=P.xCoordinates[X],R=P.yCoordinates[X];let z=Math.abs(S-B);z>255?I+=2:z>0&&(I+=1),B=S,z=Math.abs(R-_),z>255?I+=2:z>0&&(I+=1),_=R}}return I}write(I,B){const _=I,P=[],X=[],m=[];let S=0,R=0;for(const z of this.contours){for(let O=0,E=z.xCoordinates.length;O<E;O++){let k=z.flags[O];const M=z.xCoordinates[O];let a=M-S;if(a===0)k|=e,P.push(0);else{const r=Math.abs(a);r<=255?(k|=a>=0?n|e:n,P.push(r)):P.push(a)}S=M;const o=z.yCoordinates[O];if(a=o-R,a===0)k|=t,X.push(0);else{const r=Math.abs(a);r<=255?(k|=a>=0?d|t:d,X.push(r)):X.push(a)}R=o,m.push(k)}B.setUint16(I,P.length-1),I+=2}B.setUint16(I,this.instructions.length),I+=2,this.instructions.length&&(new Uint8Array(B.buffer,0,B.buffer.byteLength).set(this.instructions,I),I+=this.instructions.length);for(const z of m)B.setUint8(I++,z);for(let z=0,O=P.length;z<O;z++){const E=P[z],k=m[z];k&n?B.setUint8(I++,E):k&e||(B.setInt16(I,E),I+=2)}for(let z=0,O=X.length;z<O;z++){const E=X[z],k=m[z];k&d?B.setUint8(I++,E):k&t||(B.setInt16(I,E),I+=2)}return I-_}scale(I,B){for(const _ of this.contours)if(_.xCoordinates.length!==0)for(let P=0,X=_.xCoordinates.length;P<X;P++)_.xCoordinates[P]=Math.round(I+(_.xCoordinates[P]-I)*B)}}class U{constructor({flags:I,glyphIndex:B,argument1:_,argument2:P,transf:X,instructions:m}){this.flags=I,this.glyphIndex=B,this.argument1=_,this.argument2=P,this.transf=X,this.instructions=m}static parse(I,B){const _=I,P=[];let X=B.getUint16(I);const m=B.getUint16(I+2);I+=4;let S,R;X&L?(X&F?(S=B.getInt16(I),R=B.getInt16(I+2)):(S=B.getUint16(I),R=B.getUint16(I+2)),I+=4,X^=L):(X&F?(S=B.getInt8(I),R=B.getInt8(I+1)):(S=B.getUint8(I),R=B.getUint8(I+1)),I+=2),X&g?(P.push(B.getUint16(I)),I+=2):X&u?(P.push(B.getUint16(I),B.getUint16(I+2)),I+=4):X&h&&(P.push(B.getUint16(I),B.getUint16(I+2),B.getUint16(I+4),B.getUint16(I+6)),I+=8);let z=null;if(X&i){const O=B.getUint16(I);I+=2,z=new Uint8Array(B).slice(I,I+O),I+=O}return[I-_,new U({flags:X,glyphIndex:m,argument1:S,argument2:R,transf:P,instructions:z})]}getSize(){let I=4+this.transf.length*2;return this.flags&i&&(I+=2+this.instructions.length),I+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(I+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(I+=2),I}write(I,B){const _=I;return this.flags&F?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=L):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=L),B.setUint16(I,this.flags),B.setUint16(I+2,this.glyphIndex),I+=4,this.flags&L?(this.flags&F?(B.setInt16(I,this.argument1),B.setInt16(I+2,this.argument2)):(B.setUint16(I,this.argument1),B.setUint16(I+2,this.argument2)),I+=4):(B.setUint8(I,this.argument1),B.setUint8(I+1,this.argument2),I+=2),this.flags&i&&(B.setUint16(I,this.instructions.length),I+=2,this.instructions.length&&(new Uint8Array(B.buffer,0,B.buffer.byteLength).set(this.instructions,I),I+=this.instructions.length)),I-_}scale(I,B){}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OpenTypeFileBuilder=void 0;var n=$(3),d=$(2);function T(g,w,u){g[w]=u>>8&255,g[w+1]=u&255}function e(g,w,u){g[w]=u>>24&255,g[w+1]=u>>16&255,g[w+2]=u>>8&255,g[w+3]=u&255}function t(g,w,u){if(u instanceof Uint8Array)g.set(u,w);else if(typeof u=="string")for(let h=0,i=u.length;h<i;h++)g[w++]=u.charCodeAt(h)&255;else for(const h of u)g[w++]=h&255}const l=12,L=16;class F{constructor(w){this.sfnt=w,this.tables=Object.create(null)}static getSearchParams(w,u){let h=1,i=0;for(;(h^w)>h;)h<<=1,i++;const x=h*u;return{range:x,entry:i,rangeShift:u*w-x}}toArray(){let w=this.sfnt;const u=this.tables,h=Object.keys(u);h.sort();const i=h.length;let x,p,v,b,N,U=l+i*L;const D=[U];for(x=0;x<i;x++){b=u[h[x]];const _=(b.length+3&-4)>>>0;U+=_,D.push(U)}const I=new Uint8Array(U);for(x=0;x<i;x++)b=u[h[x]],t(I,D[x],b);w==="true"&&(w=(0,d.string32)(65536)),I[0]=w.charCodeAt(0)&255,I[1]=w.charCodeAt(1)&255,I[2]=w.charCodeAt(2)&255,I[3]=w.charCodeAt(3)&255,T(I,4,i);const B=F.getSearchParams(i,16);for(T(I,6,B.range),T(I,8,B.entry),T(I,10,B.rangeShift),U=l,x=0;x<i;x++){N=h[x],I[U]=N.charCodeAt(0)&255,I[U+1]=N.charCodeAt(1)&255,I[U+2]=N.charCodeAt(2)&255,I[U+3]=N.charCodeAt(3)&255;let _=0;for(p=D[x],v=D[x+1];p<v;p+=4){const P=(0,n.readUint32)(I,p);_=_+P>>>0}e(I,U+4,_),e(I,U+8,D[x]),e(I,U+12,u[N].length),U+=L}return I}addTable(w,u){if(w in this.tables)throw new Error("Table "+w+" already exists");this.tables[w]=u}}f.OpenTypeFileBuilder=F},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Type1Font=void 0;var n=$(35),d=$(2),T=$(38),e=$(3),t=$(8),l=$(49);function L(u,h,i){const x=u.length,p=h.length,v=x-p;let b=i,N=!1;for(;b<v;){let U=0;for(;U<p&&u[b+U]===h[U];)U++;if(U>=p){for(b+=U;b<x&&(0,e.isWhiteSpace)(u[b]);)b++;N=!0;break}b++}return{found:N,length:b}}function F(u,h){const i=[101,101,120,101,99],x=u.pos;let p,v,b;try{p=u.getBytes(h),v=p.length}catch{}if(v===h&&(b=L(p,i,h-2*i.length),b.found&&b.length===h))return{stream:new t.Stream(p),length:h};(0,d.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),u.pos=x;const N=2048;let U;for(;;){const D=u.peekBytes(N);if(b=L(D,i,0),b.length===0)break;if(u.pos+=b.length,b.found){U=u.pos-x;break}}return u.pos=x,U?{stream:new t.Stream(u.getBytes(U)),length:U}:((0,d.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new t.Stream(u.getBytes(h)),length:h})}function g(u,h){const i=u.getBytes();if(i.length===0)throw new d.FormatError("getEexecBlock - no font program found.");return{stream:new t.Stream(i),length:i.length}}class w{constructor(h,i,x){let v=x.length1;x.length2;let b=i.peekBytes(6);const N=b[0]===128&&b[1]===1;N&&(i.skip(6),v=b[5]<<24|b[4]<<16|b[3]<<8|b[2]);const U=F(i,v);new l.Type1Parser(U.stream,!1,T.SEAC_ANALYSIS_ENABLED).extractFontHeader(x),N&&(b=i.getBytes(6),b[5]<<24|b[4]<<16|b[3]<<8|b[2]);const I=g(i),_=new l.Type1Parser(I.stream,!0,T.SEAC_ANALYSIS_ENABLED).extractFontProgram(x);for(const S in _.properties)x[S]=_.properties[S];const P=_.charstrings,X=this.getType2Charstrings(P),m=this.getType2Subrs(_.subrs);this.charstrings=P,this.data=this.wrap(h,X,this.charstrings,m,x),this.seacs=this.getSeacs(_.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const h=[".notdef"];for(const{glyphName:i}of this.charstrings)h.push(i);return h}getGlyphMapping(h){const i=this.charstrings;if(h.composite){const N=Object.create(null);for(let U=0,D=i.length;U<D;U++){const I=h.cMap.charCodeOf(U);N[I]=U+1}return N}const x=[".notdef"];let p,v;for(v=0;v<i.length;v++)x.push(i[v].glyphName);const b=h.builtInEncoding;if(b){p=Object.create(null);for(const N in b)v=x.indexOf(b[N]),v>=0&&(p[N]=v)}return(0,T.type1FontGlyphMapping)(h,p,x)}hasGlyphId(h){return h<0||h>=this.numGlyphs?!1:h===0?!0:this.charstrings[h-1].charstring.length>0}getSeacs(h){const i=[];for(let x=0,p=h.length;x<p;x++){const v=h[x];v.seac&&(i[x+1]=v.seac)}return i}getType2Charstrings(h){const i=[];for(const x of h)i.push(x.charstring);return i}getType2Subrs(h){let i=0;const x=h.length;x<1133?i=107:x<33769?i=1131:i=32768;const p=[];let v;for(v=0;v<i;v++)p.push([11]);for(v=0;v<x;v++)p.push(h[v]);return p}wrap(h,i,x,p,v){const b=new n.CFF;b.header=new n.CFFHeader(1,0,4,4),b.names=[h];const N=new n.CFFTopDict;N.setByName("version",391),N.setByName("Notice",392),N.setByName("FullName",393),N.setByName("FamilyName",394),N.setByName("Weight",395),N.setByName("Encoding",null),N.setByName("FontMatrix",v.fontMatrix),N.setByName("FontBBox",v.bbox),N.setByName("charset",null),N.setByName("CharStrings",null),N.setByName("Private",null),b.topDict=N;const U=new n.CFFStrings;U.add("Version 0.11"),U.add("See original notice"),U.add(h),U.add(h),U.add("Medium"),b.strings=U,b.globalSubrIndex=new n.CFFIndex;const D=i.length,I=[".notdef"];let B,_;for(B=0;B<D;B++){const z=x[B].glyphName;n.CFFStandardStrings.indexOf(z)===-1&&U.add(z),I.push(z)}b.charset=new n.CFFCharset(!1,0,I);const P=new n.CFFIndex;for(P.add([139,14]),B=0;B<D;B++)P.add(i[B]);b.charStrings=P;const X=new n.CFFPrivateDict;X.setByName("Subrs",null);const m=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(B=0,_=m.length;B<_;B++){const z=m[B];if(!(z in v.privateData))continue;const O=v.privateData[z];if(Array.isArray(O))for(let E=O.length-1;E>0;E--)O[E]-=O[E-1];X.setByName(z,O)}b.topDict.privateDict=X;const S=new n.CFFIndex;for(B=0,_=p.length;B<_;B++)S.add(p[B]);return X.subrsIndex=S,new n.CFFCompiler(b).compile()}}f.Type1Font=w},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Type1Parser=void 0;var n=$(37),d=$(3),T=$(8),e=$(2);const t=!1,l={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class L{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(v,b,N){const U=v.length;let D=!1,I,B,_;for(let P=0;P<U;P++){let X=v[P];if(X<32){switch(X===12&&(X=(X<<8)+v[++P]),X){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){D=!0;break}const O=this.stack.pop();this.stack.push(0,O);break}D=this.executeCommand(1,l.vmoveto);break;case 5:D=this.executeCommand(2,l.rlineto);break;case 6:D=this.executeCommand(1,l.hlineto);break;case 7:D=this.executeCommand(1,l.vlineto);break;case 8:D=this.executeCommand(6,l.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){D=!0;break}if(_=this.stack.pop(),!b[_]){D=!0;break}D=this.convert(b[_],b,N);break;case 11:return D;case 13:if(this.stack.length<2){D=!0;break}I=this.stack.pop(),B=this.stack.pop(),this.lsb=B,this.width=I,this.stack.push(I,B),D=this.executeCommand(2,l.hmoveto);break;case 14:this.output.push(l.endchar[0]);break;case 21:if(this.flexing)break;D=this.executeCommand(2,l.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}D=this.executeCommand(1,l.hmoveto);break;case 30:D=this.executeCommand(4,l.vhcurveto);break;case 31:D=this.executeCommand(4,l.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(N){const O=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-O,D=this.executeCommand(0,l.endchar)}else D=this.executeCommand(4,l.endchar);break;case 3079:if(this.stack.length<4){D=!0;break}this.stack.pop(),I=this.stack.pop();const m=this.stack.pop();B=this.stack.pop(),this.lsb=B,this.width=I,this.stack.push(I,B,m),D=this.executeCommand(3,l.rmoveto);break;case 3084:if(this.stack.length<2){D=!0;break}const S=this.stack.pop(),R=this.stack.pop();this.stack.push(R/S);break;case 3088:if(this.stack.length<2){D=!0;break}_=this.stack.pop();const z=this.stack.pop();if(_===0&&z===3){const O=this.stack.splice(-17,17);this.stack.push(O[2]+O[0],O[3]+O[1],O[4],O[5],O[6],O[7],O[8],O[9],O[10],O[11],O[12],O[13],O[14]),D=this.executeCommand(13,l.flex,!0),this.flexing=!1,this.stack.push(O[15],O[16])}else _===1&&z===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,e.warn)('Unknown type 1 charstring command of "'+X+'"');break}if(D)break;continue}else X<=246?X-=139:X<=250?X=(X-247)*256+v[++P]+108:X<=254?X=-((X-251)*256)-v[++P]-108:X=(v[++P]&255)<<24|(v[++P]&255)<<16|(v[++P]&255)<<8|(v[++P]&255)<<0;this.stack.push(X)}return D}executeCommand(v,b,N){const U=this.stack.length;if(v>U)return!0;const D=U-v;for(let I=D;I<U;I++){let B=this.stack[I];Number.isInteger(B)?this.output.push(28,B>>8&255,B&255):(B=65536*B|0,this.output.push(255,B>>24&255,B>>16&255,B>>8&255,B&255))}return this.output.push(...b),N?this.stack.splice(D,v):this.stack.length=0,!1}}const F=55665,g=4330;function w(p){return p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102}function u(p,v,b){if(b>=p.length)return new Uint8Array(0);const N=52845,U=22719;let D=v|0,I,B;for(I=0;I<b;I++)D=(p[I]+D)*N+U&65535;const _=p.length-b,P=new Uint8Array(_);for(I=b,B=0;B<_;I++,B++){const X=p[I];P[B]=X^D>>8,D=(X+D)*N+U&65535}return P}function h(p,v,b){let D=v|0;const I=p.length,B=I>>>1,_=new Uint8Array(B);let P,X;for(P=0,X=0;P<I;P++){const m=p[P];if(!w(m))continue;P++;let S;for(;P<I&&!w(S=p[P]);)P++;if(P<I){const R=parseInt(String.fromCharCode(m,S),16);_[X++]=R^D>>8,D=(R+D)*52845+22719&65535}}return _.slice(b,X)}function i(p){return p===47||p===91||p===93||p===123||p===125||p===40||p===41}class x{constructor(v,b,N){if(b){const U=v.getBytes(),D=!((w(U[0])||(0,d.isWhiteSpace)(U[0]))&&w(U[1])&&w(U[2])&&w(U[3])&&w(U[4])&&w(U[5])&&w(U[6])&&w(U[7]));v=new T.Stream(D?u(U,F,4):h(U,F,4))}this.seacAnalysisEnabled=!!N,this.stream=v,this.nextChar()}readNumberArray(){this.getToken();const v=[];for(;;){const b=this.getToken();if(b===null||b==="]"||b==="}")break;v.push(parseFloat(b||0))}return v}readNumber(){const v=this.getToken();return parseFloat(v||0)}readInt(){const v=this.getToken();return parseInt(v||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let v=!1,b=this.currentChar;for(;;){if(b===-1)return null;if(v)(b===10||b===13)&&(v=!1);else if(b===37)v=!0;else if(!(0,d.isWhiteSpace)(b))break;b=this.nextChar()}if(i(b))return this.nextChar(),String.fromCharCode(b);let N="";do N+=String.fromCharCode(b),b=this.nextChar();while(b>=0&&!(0,d.isWhiteSpace)(b)&&!i(b));return N}readCharStrings(v,b){return b===-1?v:u(v,g,b)}extractFontProgram(v){const b=this.stream,N=[],U=[],D=Object.create(null);D.lenIV=4;const I={subrs:[],charstrings:[],properties:{privateData:D}};let B,_,P,X;for(;(B=this.getToken())!==null;)if(B==="/")switch(B=this.getToken(),B){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();B=this.getToken(),!(B===null||B==="end");){if(B!=="/")continue;const S=this.getToken();_=this.readInt(),this.getToken(),P=_>0?b.getBytes(_):new Uint8Array(0),X=I.properties.privateData.lenIV;const R=this.readCharStrings(P,X);this.nextChar(),B=this.getToken(),B==="noaccess"?this.getToken():B==="/"&&this.prevChar(),U.push({glyph:S,encoded:R})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const S=this.readInt();_=this.readInt(),this.getToken(),P=_>0?b.getBytes(_):new Uint8Array(0),X=I.properties.privateData.lenIV;const R=this.readCharStrings(P,X);this.nextChar(),B=this.getToken(),B==="noaccess"&&this.getToken(),N[S]=R}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const m=this.readNumberArray();m.length>0&&m.length%2===0&&t&&(I.properties.privateData[B]=m);break;case"StemSnapH":case"StemSnapV":I.properties.privateData[B]=this.readNumberArray();break;case"StdHW":case"StdVW":I.properties.privateData[B]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":I.properties.privateData[B]=this.readNumber();break;case"ExpansionFactor":I.properties.privateData[B]=this.readNumber()||.06;break;case"ForceBold":I.properties.privateData[B]=this.readBoolean();break}for(const{encoded:m,glyph:S}of U){const R=new L,z=R.convert(m,N,this.seacAnalysisEnabled);let O=R.output;z&&(O=[14]);const E={glyphName:S,charstring:O,width:R.width,lsb:R.lsb,seac:R.seac};if(S===".notdef"?I.charstrings.unshift(E):I.charstrings.push(E),v.builtInEncoding){const k=v.builtInEncoding.indexOf(S);k>-1&&v.widths[k]===void 0&&k>=v.firstChar&&k<=v.lastChar&&(v.widths[k]=R.width)}}return I}extractFontHeader(v){let b;for(;(b=this.getToken())!==null;)if(b==="/")switch(b=this.getToken(),b){case"FontMatrix":const N=this.readNumberArray();v.fontMatrix=N;break;case"Encoding":const U=this.getToken();let D;if(!/^\d+$/.test(U))D=(0,n.getEncoding)(U);else{D=[];const B=parseInt(U,10)|0;this.getToken();for(let _=0;_<B;_++){for(b=this.getToken();b!=="dup"&&b!=="def";)if(b=this.getToken(),b===null)return;if(b==="def")break;const P=this.readInt();this.getToken();const X=this.getToken();D[P]=X,this.getToken()}}v.builtInEncoding=D;break;case"FontBBox":const I=this.readNumberArray();v.ascent=Math.max(I[3],I[1]),v.descent=Math.min(I[1],I[3]),v.ascentScaled=!0;break}}}f.Type1Parser=x},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Pattern=void 0,f.clearPatternCaches=i,f.getTilingPatternIR=v;var n=$(2),d=$(5),T=$(12),e=$(3);const t={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class l{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(D,I,B,_,P){const X=D instanceof d.BaseStream?D.dict:D,m=X.get("ShadingType");try{switch(m){case t.AXIAL:case t.RADIAL:return new F(X,I,B,_,P);case t.FREE_FORM_MESH:case t.LATTICE_FORM_MESH:case t.COONS_PATCH_MESH:case t.TENSOR_PATCH_MESH:return new x(D,I,B,_,P);default:throw new n.FormatError("Unsupported ShadingType: "+m)}}catch(S){if(S instanceof e.MissingDataException)throw S;return(0,n.warn)(S),new p}}}f.Pattern=l;const b=class b{constructor(){this.constructor===b&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}};Mt(b,"SMALL_NUMBER",1e-6);let L=b;class F extends L{constructor(D,I,B,_,P){super(),this.coordsArr=D.getArray("Coords"),this.shadingType=D.get("ShadingType");const X=T.ColorSpace.parse({cs:D.getRaw("CS")||D.getRaw("ColorSpace"),xref:I,resources:B,pdfFunctionFactory:_,localColorSpaceCache:P}),m=D.getArray("BBox");this.bbox=Array.isArray(m)&&m.length===4?n.Util.normalizeRect(m):null;let S=0,R=1;if(D.has("Domain")){const H=D.getArray("Domain");S=H[0],R=H[1]}let z=!1,O=!1;if(D.has("Extend")){const H=D.getArray("Extend");z=H[0],O=H[1]}if(this.shadingType===t.RADIAL&&(!z||!O)){const[H,Y,G,le,ce,te]=this.coordsArr,ge=Math.hypot(H-le,Y-ce);G<=te+ge&&te<=G+ge&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=z,this.extendEnd=O;const E=D.getRaw("Function"),k=_.createFromArray(E),M=840,a=(R-S)/M,o=this.colorStops=[];if(S>=R||a<=0){(0,n.info)("Bad shading domain.");return}const r=new Float32Array(X.numComps),s=new Float32Array(1);let A,c=0;s[0]=S,k(s,0,r,0);let y=X.getRgb(r,0);const q=n.Util.makeHexColor(y[0],y[1],y[2]);o.push([0,q]);let re=1;s[0]=S+a,k(s,0,r,0);let Q=X.getRgb(r,0),de=Q[0]-y[0]+1,ee=Q[1]-y[1]+1,ue=Q[2]-y[2]+1,W=Q[0]-y[0]-1,Z=Q[1]-y[1]-1,se=Q[2]-y[2]-1;for(let H=2;H<M;H++){s[0]=S+H*a,k(s,0,r,0),A=X.getRgb(r,0);const Y=H-c;if(de=Math.min(de,(A[0]-y[0]+1)/Y),ee=Math.min(ee,(A[1]-y[1]+1)/Y),ue=Math.min(ue,(A[2]-y[2]+1)/Y),W=Math.max(W,(A[0]-y[0]-1)/Y),Z=Math.max(Z,(A[1]-y[1]-1)/Y),se=Math.max(se,(A[2]-y[2]-1)/Y),!(W<=de&&Z<=ee&&se<=ue)){const le=n.Util.makeHexColor(Q[0],Q[1],Q[2]);o.push([re/M,le]),de=A[0]-Q[0]+1,ee=A[1]-Q[1]+1,ue=A[2]-Q[2]+1,W=A[0]-Q[0]-1,Z=A[1]-Q[1]-1,se=A[2]-Q[2]-1,c=re,y=Q}re=H,Q=A}const ne=n.Util.makeHexColor(Q[0],Q[1],Q[2]);o.push([1,ne]);let ie="transparent";D.has("Background")&&(A=X.getRgb(D.get("Background"),0),ie=n.Util.makeHexColor(A[0],A[1],A[2])),z||(o.unshift([0,ie]),o[1][0]+=L.SMALL_NUMBER),O||(o.at(-1)[0]-=L.SMALL_NUMBER,o.push([1,ie])),this.colorStops=o}getIR(){const D=this.coordsArr,I=this.shadingType;let B,_,P,X,m;return I===t.AXIAL?(_=[D[0],D[1]],P=[D[2],D[3]],X=null,m=null,B="axial"):I===t.RADIAL?(_=[D[0],D[1]],P=[D[3],D[4]],X=D[2],m=D[5],B="radial"):(0,n.unreachable)(`getPattern type unknown: ${I}`),["RadialAxial",B,this.bbox,this.colorStops,_,P,X,m]}}class g{constructor(D,I){this.stream=D,this.context=I,this.buffer=0,this.bufferLength=0;const B=I.numComps;this.tmpCompsBuf=new Float32Array(B);const _=I.colorSpace.numComps;this.tmpCsCompsBuf=I.colorFn?new Float32Array(_):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const D=this.stream.getByte();return D<0?!1:(this.buffer=D,this.bufferLength=8,!0)}readBits(D){let I=this.buffer,B=this.bufferLength;if(D===32){if(B===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;I=I<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const _=this.stream.getByte();return this.buffer=_&(1<<B)-1,(I<<8-B|(_&255)>>B)>>>0}if(D===8&&B===0)return this.stream.getByte();for(;B<D;)I=I<<8|this.stream.getByte(),B+=8;return B-=D,this.bufferLength=B,this.buffer=I&(1<<B)-1,I>>B}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const D=this.context.bitsPerCoordinate,I=this.readBits(D),B=this.readBits(D),_=this.context.decode,P=D<32?1/((1<<D)-1):23283064365386963e-26;return[I*P*(_[1]-_[0])+_[0],B*P*(_[3]-_[2])+_[2]]}readComponents(){const D=this.context.numComps,I=this.context.bitsPerComponent,B=I<32?1/((1<<I)-1):23283064365386963e-26,_=this.context.decode,P=this.tmpCompsBuf;for(let m=0,S=4;m<D;m++,S+=2){const R=this.readBits(I);P[m]=R*B*(_[S+1]-_[S])+_[S]}const X=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(P,0,X,0),this.context.colorSpace.getRgb(X,0)}}let w=Object.create(null);function u(U){const D=[];for(let I=0;I<=U;I++){const B=I/U,_=1-B;D.push(new Float32Array([_**3,3*B*_**2,3*B**2*_,B**3]))}return D}function h(U){return w[U]||(w[U]=u(U))}function i(){w=Object.create(null)}const N=class N extends L{constructor(D,I,B,_,P){if(super(),!(D instanceof d.BaseStream))throw new n.FormatError("Mesh data is not a stream");const X=D.dict;this.shadingType=X.get("ShadingType");const m=X.getArray("BBox");this.bbox=Array.isArray(m)&&m.length===4?n.Util.normalizeRect(m):null;const S=T.ColorSpace.parse({cs:X.getRaw("CS")||X.getRaw("ColorSpace"),xref:I,resources:B,pdfFunctionFactory:_,localColorSpaceCache:P});this.background=X.has("Background")?S.getRgb(X.get("Background"),0):null;const R=X.getRaw("Function"),z=R?_.createFromArray(R):null;this.coords=[],this.colors=[],this.figures=[];const O={bitsPerCoordinate:X.get("BitsPerCoordinate"),bitsPerComponent:X.get("BitsPerComponent"),bitsPerFlag:X.get("BitsPerFlag"),decode:X.getArray("Decode"),colorFn:z,colorSpace:S,numComps:z?1:S.numComps},E=new g(D,O);let k=!1;switch(this.shadingType){case t.FREE_FORM_MESH:this._decodeType4Shading(E);break;case t.LATTICE_FORM_MESH:const M=X.get("VerticesPerRow")|0;if(M<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(E,M);break;case t.COONS_PATCH_MESH:this._decodeType6Shading(E),k=!0;break;case t.TENSOR_PATCH_MESH:this._decodeType7Shading(E),k=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(k){this._updateBounds();for(let M=0,a=this.figures.length;M<a;M++)this._buildFigureFromPatch(M)}this._updateBounds(),this._packData()}_decodeType4Shading(D){const I=this.coords,B=this.colors,_=[];let P=0;for(;D.hasData;){const X=D.readFlag(),m=D.readCoordinate(),S=D.readComponents();if(P===0){if(!(0<=X&&X<=2))throw new n.FormatError("Unknown type4 flag");switch(X){case 0:P=3;break;case 1:_.push(_.at(-2),_.at(-1)),P=1;break;case 2:_.push(_.at(-3),_.at(-1)),P=1;break}}_.push(I.length),I.push(m),B.push(S),P--,D.align()}this.figures.push({type:"triangles",coords:new Int32Array(_),colors:new Int32Array(_)})}_decodeType5Shading(D,I){const B=this.coords,_=this.colors,P=[];for(;D.hasData;){const X=D.readCoordinate(),m=D.readComponents();P.push(B.length),B.push(X),_.push(m)}this.figures.push({type:"lattice",coords:new Int32Array(P),colors:new Int32Array(P),verticesPerRow:I})}_decodeType6Shading(D){const I=this.coords,B=this.colors,_=new Int32Array(16),P=new Int32Array(4);for(;D.hasData;){const X=D.readFlag();if(!(0<=X&&X<=3))throw new n.FormatError("Unknown type6 flag");const m=I.length;for(let k=0,M=X!==0?8:12;k<M;k++)I.push(D.readCoordinate());const S=B.length;for(let k=0,M=X!==0?2:4;k<M;k++)B.push(D.readComponents());let R,z,O,E;switch(X){case 0:_[12]=m+3,_[13]=m+4,_[14]=m+5,_[15]=m+6,_[8]=m+2,_[11]=m+7,_[4]=m+1,_[7]=m+8,_[0]=m,_[1]=m+11,_[2]=m+10,_[3]=m+9,P[2]=S+1,P[3]=S+2,P[0]=S,P[1]=S+3;break;case 1:R=_[12],z=_[13],O=_[14],E=_[15],_[12]=E,_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=O,_[11]=m+3,_[4]=z,_[7]=m+4,_[0]=R,_[1]=m+7,_[2]=m+6,_[3]=m+5,R=P[2],z=P[3],P[2]=z,P[3]=S,P[0]=R,P[1]=S+1;break;case 2:R=_[15],z=_[11],_[12]=_[3],_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=_[7],_[11]=m+3,_[4]=z,_[7]=m+4,_[0]=R,_[1]=m+7,_[2]=m+6,_[3]=m+5,R=P[3],P[2]=P[1],P[3]=S,P[0]=R,P[1]=S+1;break;case 3:_[12]=_[0],_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=_[1],_[11]=m+3,_[4]=_[2],_[7]=m+4,_[0]=_[3],_[1]=m+7,_[2]=m+6,_[3]=m+5,P[2]=P[0],P[3]=S,P[0]=P[1],P[1]=S+1;break}_[5]=I.length,I.push([(-4*I[_[0]][0]-I[_[15]][0]+6*(I[_[4]][0]+I[_[1]][0])-2*(I[_[12]][0]+I[_[3]][0])+3*(I[_[13]][0]+I[_[7]][0]))/9,(-4*I[_[0]][1]-I[_[15]][1]+6*(I[_[4]][1]+I[_[1]][1])-2*(I[_[12]][1]+I[_[3]][1])+3*(I[_[13]][1]+I[_[7]][1]))/9]),_[6]=I.length,I.push([(-4*I[_[3]][0]-I[_[12]][0]+6*(I[_[2]][0]+I[_[7]][0])-2*(I[_[0]][0]+I[_[15]][0])+3*(I[_[4]][0]+I[_[14]][0]))/9,(-4*I[_[3]][1]-I[_[12]][1]+6*(I[_[2]][1]+I[_[7]][1])-2*(I[_[0]][1]+I[_[15]][1])+3*(I[_[4]][1]+I[_[14]][1]))/9]),_[9]=I.length,I.push([(-4*I[_[12]][0]-I[_[3]][0]+6*(I[_[8]][0]+I[_[13]][0])-2*(I[_[0]][0]+I[_[15]][0])+3*(I[_[11]][0]+I[_[1]][0]))/9,(-4*I[_[12]][1]-I[_[3]][1]+6*(I[_[8]][1]+I[_[13]][1])-2*(I[_[0]][1]+I[_[15]][1])+3*(I[_[11]][1]+I[_[1]][1]))/9]),_[10]=I.length,I.push([(-4*I[_[15]][0]-I[_[0]][0]+6*(I[_[11]][0]+I[_[14]][0])-2*(I[_[12]][0]+I[_[3]][0])+3*(I[_[2]][0]+I[_[8]][0]))/9,(-4*I[_[15]][1]-I[_[0]][1]+6*(I[_[11]][1]+I[_[14]][1])-2*(I[_[12]][1]+I[_[3]][1])+3*(I[_[2]][1]+I[_[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(_),colors:new Int32Array(P)})}}_decodeType7Shading(D){const I=this.coords,B=this.colors,_=new Int32Array(16),P=new Int32Array(4);for(;D.hasData;){const X=D.readFlag();if(!(0<=X&&X<=3))throw new n.FormatError("Unknown type7 flag");const m=I.length;for(let k=0,M=X!==0?12:16;k<M;k++)I.push(D.readCoordinate());const S=B.length;for(let k=0,M=X!==0?2:4;k<M;k++)B.push(D.readComponents());let R,z,O,E;switch(X){case 0:_[12]=m+3,_[13]=m+4,_[14]=m+5,_[15]=m+6,_[8]=m+2,_[9]=m+13,_[10]=m+14,_[11]=m+7,_[4]=m+1,_[5]=m+12,_[6]=m+15,_[7]=m+8,_[0]=m,_[1]=m+11,_[2]=m+10,_[3]=m+9,P[2]=S+1,P[3]=S+2,P[0]=S,P[1]=S+3;break;case 1:R=_[12],z=_[13],O=_[14],E=_[15],_[12]=E,_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=O,_[9]=m+9,_[10]=m+10,_[11]=m+3,_[4]=z,_[5]=m+8,_[6]=m+11,_[7]=m+4,_[0]=R,_[1]=m+7,_[2]=m+6,_[3]=m+5,R=P[2],z=P[3],P[2]=z,P[3]=S,P[0]=R,P[1]=S+1;break;case 2:R=_[15],z=_[11],_[12]=_[3],_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=_[7],_[9]=m+9,_[10]=m+10,_[11]=m+3,_[4]=z,_[5]=m+8,_[6]=m+11,_[7]=m+4,_[0]=R,_[1]=m+7,_[2]=m+6,_[3]=m+5,R=P[3],P[2]=P[1],P[3]=S,P[0]=R,P[1]=S+1;break;case 3:_[12]=_[0],_[13]=m+0,_[14]=m+1,_[15]=m+2,_[8]=_[1],_[9]=m+9,_[10]=m+10,_[11]=m+3,_[4]=_[2],_[5]=m+8,_[6]=m+11,_[7]=m+4,_[0]=_[3],_[1]=m+7,_[2]=m+6,_[3]=m+5,P[2]=P[0],P[3]=S,P[0]=P[1],P[1]=S+1;break}this.figures.push({type:"patch",coords:new Int32Array(_),colors:new Int32Array(P)})}}_buildFigureFromPatch(D){const I=this.figures[D];(0,n.assert)(I.type==="patch","Unexpected patch mesh figure");const B=this.coords,_=this.colors,P=I.coords,X=I.colors,m=Math.min(B[P[0]][0],B[P[3]][0],B[P[12]][0],B[P[15]][0]),S=Math.min(B[P[0]][1],B[P[3]][1],B[P[12]][1],B[P[15]][1]),R=Math.max(B[P[0]][0],B[P[3]][0],B[P[12]][0],B[P[15]][0]),z=Math.max(B[P[0]][1],B[P[3]][1],B[P[12]][1],B[P[15]][1]);let O=Math.ceil((R-m)*N.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));O=Math.max(N.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(N.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,O));let E=Math.ceil((z-S)*N.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));E=Math.max(N.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(N.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,E));const k=O+1,M=new Int32Array((E+1)*k),a=new Int32Array((E+1)*k);let o=0;const r=new Uint8Array(3),s=new Uint8Array(3),A=_[X[0]],c=_[X[1]],y=_[X[2]],q=_[X[3]],re=h(E),Q=h(O);for(let de=0;de<=E;de++){r[0]=(A[0]*(E-de)+y[0]*de)/E|0,r[1]=(A[1]*(E-de)+y[1]*de)/E|0,r[2]=(A[2]*(E-de)+y[2]*de)/E|0,s[0]=(c[0]*(E-de)+q[0]*de)/E|0,s[1]=(c[1]*(E-de)+q[1]*de)/E|0,s[2]=(c[2]*(E-de)+q[2]*de)/E|0;for(let ee=0;ee<=O;ee++,o++){if((de===0||de===E)&&(ee===0||ee===O))continue;let ue=0,W=0,Z=0;for(let ne=0;ne<=3;ne++)for(let ie=0;ie<=3;ie++,Z++){const H=re[de][ne]*Q[ee][ie];ue+=B[P[Z]][0]*H,W+=B[P[Z]][1]*H}M[o]=B.length,B.push([ue,W]),a[o]=_.length;const se=new Uint8Array(3);se[0]=(r[0]*(O-ee)+s[0]*ee)/O|0,se[1]=(r[1]*(O-ee)+s[1]*ee)/O|0,se[2]=(r[2]*(O-ee)+s[2]*ee)/O|0,_.push(se)}}M[0]=P[0],a[0]=X[0],M[O]=P[3],a[O]=X[1],M[k*E]=P[12],a[k*E]=X[2],M[k*E+O]=P[15],a[k*E+O]=X[3],this.figures[D]={type:"lattice",coords:M,colors:a,verticesPerRow:k}}_updateBounds(){let D=this.coords[0][0],I=this.coords[0][1],B=D,_=I;for(let P=1,X=this.coords.length;P<X;P++){const m=this.coords[P][0],S=this.coords[P][1];D=D>m?m:D,I=I>S?S:I,B=B<m?m:B,_=_<S?S:_}this.bounds=[D,I,B,_]}_packData(){let D,I,B,_;const P=this.coords,X=new Float32Array(P.length*2);for(D=0,B=0,I=P.length;D<I;D++){const z=P[D];X[B++]=z[0],X[B++]=z[1]}this.coords=X;const m=this.colors,S=new Uint8Array(m.length*3);for(D=0,B=0,I=m.length;D<I;D++){const z=m[D];S[B++]=z[0],S[B++]=z[1],S[B++]=z[2]}this.colors=S;const R=this.figures;for(D=0,I=R.length;D<I;D++){const z=R[D],O=z.coords,E=z.colors;for(B=0,_=O.length;B<_;B++)O[B]*=2,E[B]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}};Mt(N,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),Mt(N,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),Mt(N,"TRIANGLE_DENSITY",20);let x=N;class p extends L{getIR(){return["Dummy"]}}function v(U,D,I){const B=D.getArray("Matrix"),_=n.Util.normalizeRect(D.getArray("BBox")),P=D.get("XStep"),X=D.get("YStep"),m=D.get("PaintType"),S=D.get("TilingType");if(_[2]-_[0]===0||_[3]-_[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${_}].`);return["TilingPattern",I,U,B,_,P,X,m,S]}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getXfaFontDict=h,f.getXfaFontName=w;var n=$(52),d=$(4),T=$(53),e=$(54),t=$(55),l=$(56),L=$(3),F=$(38);const g=(0,L.getLookupTableFactory)(function(i){i["MyriadPro-Regular"]=i["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:t.MyriadProRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:t.MyriadProRegularMetrics},i["MyriadPro-Bold"]=i["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:t.MyriadProBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:t.MyriadProBoldMetrics},i["MyriadPro-It"]=i["MyriadPro-Italic"]=i["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:t.MyriadProItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:t.MyriadProItalicMetrics},i["MyriadPro-BoldIt"]=i["MyriadPro-BoldItalic"]=i["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:t.MyriadProBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:t.MyriadProBoldItalicMetrics},i.ArialMT=i.Arial=i["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping},i["Arial-BoldMT"]=i["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping},i["Arial-ItalicMT"]=i["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping},i["Arial-BoldItalicMT"]=i["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping},i["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},i["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},i["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},i["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},i["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:l.SegoeuiRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:l.SegoeuiRegularMetrics},i["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:l.SegoeuiBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:l.SegoeuiBoldMetrics},i["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:l.SegoeuiItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:l.SegoeuiItalicMetrics},i["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:l.SegoeuiBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:l.SegoeuiBoldItalicMetrics},i["Helvetica-Regular"]=i.Helvetica={name:"LiberationSans-Regular",factors:T.HelveticaRegularFactors,baseWidths:e.LiberationSansRegularWidths,baseMapping:e.LiberationSansRegularMapping,metrics:T.HelveticaRegularMetrics},i["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:T.HelveticaBoldFactors,baseWidths:e.LiberationSansBoldWidths,baseMapping:e.LiberationSansBoldMapping,metrics:T.HelveticaBoldMetrics},i["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:T.HelveticaItalicFactors,baseWidths:e.LiberationSansItalicWidths,baseMapping:e.LiberationSansItalicMapping,metrics:T.HelveticaItalicMetrics},i["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:T.HelveticaBoldItalicFactors,baseWidths:e.LiberationSansBoldItalicWidths,baseMapping:e.LiberationSansBoldItalicMapping,metrics:T.HelveticaBoldItalicMetrics}});function w(i){const x=(0,F.normalizeFontName)(i);return g()[x]}function u(i){const x=w(i);if(!x)return null;const{baseWidths:p,baseMapping:v,factors:b}=x,N=b?p.map((B,_)=>B*b[_]):p;let U=-2,D;const I=[];for(const[B,_]of v.map((P,X)=>[P,X]).sort(([P],[X])=>P-X))B!==-1&&(B===U+1?(D.push(N[_]),U+=1):(U=B,D=[N[_]],I.push(B,D)));return I}function h(i){const x=u(i),p=new d.Dict(null);p.set("BaseFont",d.Name.get(i)),p.set("Type",d.Name.get("Font")),p.set("Subtype",d.Name.get("CIDFontType2")),p.set("Encoding",d.Name.get("Identity-H")),p.set("CIDToGIDMap",d.Name.get("Identity")),p.set("W",x),p.set("FirstChar",x[0]),p.set("LastChar",x.at(-2)+x.at(-1).length-1);const v=new d.Dict(null);p.set("FontDescriptor",v);const b=new d.Dict(null);return b.set("Ordering","Identity"),b.set("Registry","Adobe"),b.set("Supplement",0),p.set("CIDSystemInfo",b),p}},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.CalibriRegularMetrics=f.CalibriRegularFactors=f.CalibriItalicMetrics=f.CalibriItalicFactors=f.CalibriBoldMetrics=f.CalibriBoldItalicMetrics=f.CalibriBoldItalicFactors=f.CalibriBoldFactors=void 0;const $=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.CalibriBoldFactors=$;const n={lineHeight:1.2207,lineGap:.2207};f.CalibriBoldMetrics=n;const d=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.CalibriBoldItalicFactors=d;const T={lineHeight:1.2207,lineGap:.2207};f.CalibriBoldItalicMetrics=T;const e=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.CalibriItalicFactors=e;const t={lineHeight:1.2207,lineGap:.2207};f.CalibriItalicMetrics=t;const l=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];f.CalibriRegularFactors=l;const L={lineHeight:1.2207,lineGap:.2207};f.CalibriRegularMetrics=L},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.HelveticaRegularMetrics=f.HelveticaRegularFactors=f.HelveticaItalicMetrics=f.HelveticaItalicFactors=f.HelveticaBoldMetrics=f.HelveticaBoldItalicMetrics=f.HelveticaBoldItalicFactors=f.HelveticaBoldFactors=void 0;const $=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];f.HelveticaBoldFactors=$;const n={lineHeight:1.2,lineGap:.2};f.HelveticaBoldMetrics=n;const d=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];f.HelveticaBoldItalicFactors=d;const T={lineHeight:1.35,lineGap:.2};f.HelveticaBoldItalicMetrics=T;const e=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];f.HelveticaItalicFactors=e;const t={lineHeight:1.35,lineGap:.2};f.HelveticaItalicMetrics=t;const l=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.HelveticaRegularFactors=l;const L={lineHeight:1.2,lineGap:.2};f.HelveticaRegularMetrics=L},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LiberationSansRegularWidths=f.LiberationSansRegularMapping=f.LiberationSansItalicWidths=f.LiberationSansItalicMapping=f.LiberationSansBoldWidths=f.LiberationSansBoldMapping=f.LiberationSansBoldItalicWidths=f.LiberationSansBoldItalicMapping=void 0;const $=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];f.LiberationSansBoldWidths=$;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];f.LiberationSansBoldMapping=n;const d=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];f.LiberationSansBoldItalicWidths=d;const T=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];f.LiberationSansBoldItalicMapping=T;const e=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];f.LiberationSansItalicWidths=e;const t=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];f.LiberationSansItalicMapping=t;const l=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];f.LiberationSansRegularWidths=l;const L=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];f.LiberationSansRegularMapping=L},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.MyriadProRegularMetrics=f.MyriadProRegularFactors=f.MyriadProItalicMetrics=f.MyriadProItalicFactors=f.MyriadProBoldMetrics=f.MyriadProBoldItalicMetrics=f.MyriadProBoldItalicFactors=f.MyriadProBoldFactors=void 0;const $=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.MyriadProBoldFactors=$;const n={lineHeight:1.2,lineGap:.2};f.MyriadProBoldMetrics=n;const d=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.MyriadProBoldItalicFactors=d;const T={lineHeight:1.2,lineGap:.2};f.MyriadProBoldItalicMetrics=T;const e=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.MyriadProItalicFactors=e;const t={lineHeight:1.2,lineGap:.2};f.MyriadProItalicMetrics=t;const l=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.MyriadProRegularFactors=l;const L={lineHeight:1.2,lineGap:.2};f.MyriadProRegularMetrics=L},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SegoeuiRegularMetrics=f.SegoeuiRegularFactors=f.SegoeuiItalicMetrics=f.SegoeuiItalicFactors=f.SegoeuiBoldMetrics=f.SegoeuiBoldItalicMetrics=f.SegoeuiBoldItalicFactors=f.SegoeuiBoldFactors=void 0;const $=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.SegoeuiBoldFactors=$;const n={lineHeight:1.33008,lineGap:0};f.SegoeuiBoldMetrics=n;const d=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.SegoeuiBoldItalicFactors=d;const T={lineHeight:1.33008,lineGap:0};f.SegoeuiBoldItalicMetrics=T;const e=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];f.SegoeuiItalicFactors=e;const t={lineHeight:1.33008,lineGap:0};f.SegoeuiItalicMetrics=t;const l=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];f.SegoeuiRegularFactors=l;const L={lineHeight:1.33008,lineGap:0};f.SegoeuiRegularMetrics=L},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PostScriptEvaluator=f.PostScriptCompiler=f.PDFFunctionFactory=void 0,f.isPDFFunction=g;var n=$(4),d=$(2),T=$(58),e=$(5),t=$(59);class l{constructor({xref:S,isEvalSupported:R=!0}){this.xref=S,this.isEvalSupported=R!==!1}create(S){const R=this.getCached(S);if(R)return R;const z=F.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:S instanceof n.Ref?this.xref.fetch(S):S});return this._cache(S,z),z}createFromArray(S){const R=this.getCached(S);if(R)return R;const z=F.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:S instanceof n.Ref?this.xref.fetch(S):S});return this._cache(S,z),z}getCached(S){var z;let R;if(S instanceof n.Ref?R=S:S instanceof n.Dict?R=S.objId:S instanceof e.BaseStream&&(R=(z=S.dict)==null?void 0:z.objId),R){const O=this._localFunctionCache.getByRef(R);if(O)return O}return null}_cache(S,R){var O;if(!R)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let z;S instanceof n.Ref?z=S:S instanceof n.Dict?z=S.objId:S instanceof e.BaseStream&&(z=(O=S.dict)==null?void 0:O.objId),z&&this._localFunctionCache.set(null,z,R)}get _localFunctionCache(){return(0,d.shadow)(this,"_localFunctionCache",new t.LocalFunctionCache)}}f.PDFFunctionFactory=l;function L(m){if(!Array.isArray(m))return null;const S=m.length;for(let R=0;R<S;R++)if(typeof m[R]!="number"){const z=new Array(S);for(let O=0;O<S;O++)z[O]=+m[O];return z}return m}class F{static getSampleArray(S,R,z,O){let E,k,M=1;for(E=0,k=S.length;E<k;E++)M*=S[E];M*=R;const a=new Array(M);let o=0,r=0;const s=1/(2**z-1),A=O.getBytes((M*z+7)/8);let c=0;for(E=0;E<M;E++){for(;o<z;)r<<=8,r|=A[c++],o+=8;o-=z,a[E]=(r>>o)*s,r&=(1<<o)-1}return a}static parse({xref:S,isEvalSupported:R,fn:z}){const O=z.dict||z;switch(O.get("FunctionType")){case 0:return this.constructSampled({xref:S,isEvalSupported:R,fn:z,dict:O});case 1:break;case 2:return this.constructInterpolated({xref:S,isEvalSupported:R,dict:O});case 3:return this.constructStiched({xref:S,isEvalSupported:R,dict:O});case 4:return this.constructPostScript({xref:S,isEvalSupported:R,fn:z,dict:O})}throw new d.FormatError("Unknown type of function")}static parseArray({xref:S,isEvalSupported:R,fnObj:z}){if(!Array.isArray(z))return this.parse({xref:S,isEvalSupported:R,fn:z});const O=[];for(const E of z)O.push(this.parse({xref:S,isEvalSupported:R,fn:S.fetchIfRef(E)}));return function(E,k,M,a){for(let o=0,r=O.length;o<r;o++)O[o](E,k,M,a+o)}}static constructSampled({xref:S,isEvalSupported:R,fn:z,dict:O}){function E(Q){const de=Q.length,ee=[];let ue=0;for(let W=0;W<de;W+=2)ee[ue++]=[Q[W],Q[W+1]];return ee}function k(Q,de,ee,ue,W){return ue+(Q-de)*((W-ue)/(ee-de))}let M=L(O.getArray("Domain")),a=L(O.getArray("Range"));if(!M||!a)throw new d.FormatError("No domain or range");const o=M.length/2,r=a.length/2;M=E(M),a=E(a);const s=L(O.getArray("Size")),A=O.get("BitsPerSample"),c=O.get("Order")||1;c!==1&&(0,d.info)("No support for cubic spline interpolation: "+c);let y=L(O.getArray("Encode"));if(y)y=E(y);else{y=[];for(let Q=0;Q<o;++Q)y.push([0,s[Q]-1])}let q=L(O.getArray("Decode"));q=q?E(q):a;const re=this.getSampleArray(s,r,A,z);return function(de,ee,ue,W){const Z=1<<o,se=new Float64Array(Z),ne=new Uint32Array(Z);let ie,H;for(H=0;H<Z;H++)se[H]=1;let Y=r,G=1;for(ie=0;ie<o;++ie){const le=M[ie][0],ce=M[ie][1],te=Math.min(Math.max(de[ee+ie],le),ce);let ge=k(te,le,ce,y[ie][0],y[ie][1]);const K=s[ie];ge=Math.min(Math.max(ge,0),K-1);const Se=ge<K-1?Math.floor(ge):ge-1,Oe=Se+1-ge,Me=ge-Se,_e=Se*Y,ke=_e+Y;for(H=0;H<Z;H++)H&G?(se[H]*=Me,ne[H]+=ke):(se[H]*=Oe,ne[H]+=_e);Y*=K,G<<=1}for(H=0;H<r;++H){let le=0;for(ie=0;ie<Z;ie++)le+=re[ne[ie]+H]*se[ie];le=k(le,0,1,q[H][0],q[H][1]),ue[W+H]=Math.min(Math.max(le,a[H][0]),a[H][1])}}}static constructInterpolated({xref:S,isEvalSupported:R,dict:z}){const O=L(z.getArray("C0"))||[0],E=L(z.getArray("C1"))||[1],k=z.get("N"),M=[];for(let o=0,r=O.length;o<r;++o)M.push(E[o]-O[o]);const a=M.length;return function(r,s,A,c){const y=k===1?r[s]:r[s]**k;for(let q=0;q<a;++q)A[c+q]=O[q]+y*M[q]}}static constructStiched({xref:S,isEvalSupported:R,dict:z}){const O=L(z.getArray("Domain"));if(!O)throw new d.FormatError("No domain");if(O.length/2!==1)throw new d.FormatError("Bad domain for stiched function");const k=[];for(const r of z.get("Functions"))k.push(this.parse({xref:S,isEvalSupported:R,fn:S.fetchIfRef(r)}));const M=L(z.getArray("Bounds")),a=L(z.getArray("Encode")),o=new Float32Array(1);return function(s,A,c,y){const re=function(ne,ie,H){return ne>H?ne=H:ne<ie&&(ne=ie),ne}(s[A],O[0],O[1]),Q=M.length;let de;for(de=0;de<Q&&!(re<M[de]);++de);let ee=O[0];de>0&&(ee=M[de-1]);let ue=O[1];de<M.length&&(ue=M[de]);const W=a[2*de],Z=a[2*de+1];o[0]=ee===ue?W:W+(re-ee)*(Z-W)/(ue-ee),k[de](o,0,c,y)}}static constructPostScript({xref:S,isEvalSupported:R,fn:z,dict:O}){const E=L(O.getArray("Domain")),k=L(O.getArray("Range"));if(!E)throw new d.FormatError("No domain.");if(!k)throw new d.FormatError("No range.");const M=new T.PostScriptLexer(z),o=new T.PostScriptParser(M).parse();if(R&&d.FeatureTest.isEvalSupported){const Q=new P().compile(o,E,k);if(Q)return new Function("src","srcOffset","dest","destOffset",Q)}(0,d.info)("Unable to compile PS function");const r=k.length>>1,s=E.length>>1,A=new u(o),c=Object.create(null);let q=2048*4;const re=new Float32Array(s);return function(de,ee,ue,W){let Z,se,ne="";const ie=re;for(Z=0;Z<s;Z++)se=de[ee+Z],ie[Z]=se,ne+=se+"_";const H=c[ne];if(H!==void 0){ue.set(H,W);return}const Y=new Float32Array(r),G=A.execute(ie),le=G.length-r;for(Z=0;Z<r;Z++){se=G[le+Z];let ce=k[Z*2];se<ce?se=ce:(ce=k[Z*2+1],se>ce&&(se=ce)),Y[Z]=se}q>0&&(q--,c[ne]=Y),ue.set(Y,W)}}}function g(m){let S;if(m instanceof n.Dict)S=m;else if(m instanceof e.BaseStream)S=m.dict;else return!1;return S.has("FunctionType")}const X=class X{constructor(S){this.stack=S?Array.from(S):[]}push(S){if(this.stack.length>=X.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(S)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(S){if(this.stack.length+S>=X.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const R=this.stack;for(let z=R.length-S,O=S-1;O>=0;O--,z++)R.push(R[z])}index(S){this.push(this.stack[this.stack.length-S-1])}roll(S,R){const z=this.stack,O=z.length-S,E=z.length-1,k=O+(R-Math.floor(R/S)*S);for(let M=O,a=E;M<a;M++,a--){const o=z[M];z[M]=z[a],z[a]=o}for(let M=O,a=k-1;M<a;M++,a--){const o=z[M];z[M]=z[a],z[a]=o}for(let M=k,a=E;M<a;M++,a--){const o=z[M];z[M]=z[a],z[a]=o}}};Mt(X,"MAX_STACK_SIZE",100);let w=X;class u{constructor(S){this.operators=S}execute(S){const R=new w(S);let z=0;const O=this.operators,E=O.length;let k,M,a;for(;z<E;){if(k=O[z++],typeof k=="number"){R.push(k);continue}switch(k){case"jz":a=R.pop(),M=R.pop(),M||(z=a);break;case"j":M=R.pop(),z=M;break;case"abs":M=R.pop(),R.push(Math.abs(M));break;case"add":a=R.pop(),M=R.pop(),R.push(M+a);break;case"and":a=R.pop(),M=R.pop(),typeof M=="boolean"&&typeof a=="boolean"?R.push(M&&a):R.push(M&a);break;case"atan":a=R.pop(),M=R.pop(),M=Math.atan2(M,a)/Math.PI*180,M<0&&(M+=360),R.push(M);break;case"bitshift":a=R.pop(),M=R.pop(),M>0?R.push(M<<a):R.push(M>>a);break;case"ceiling":M=R.pop(),R.push(Math.ceil(M));break;case"copy":M=R.pop(),R.copy(M);break;case"cos":M=R.pop(),R.push(Math.cos(M%360/180*Math.PI));break;case"cvi":M=R.pop()|0,R.push(M);break;case"cvr":break;case"div":a=R.pop(),M=R.pop(),R.push(M/a);break;case"dup":R.copy(1);break;case"eq":a=R.pop(),M=R.pop(),R.push(M===a);break;case"exch":R.roll(2,1);break;case"exp":a=R.pop(),M=R.pop(),R.push(M**a);break;case"false":R.push(!1);break;case"floor":M=R.pop(),R.push(Math.floor(M));break;case"ge":a=R.pop(),M=R.pop(),R.push(M>=a);break;case"gt":a=R.pop(),M=R.pop(),R.push(M>a);break;case"idiv":a=R.pop(),M=R.pop(),R.push(M/a|0);break;case"index":M=R.pop(),R.index(M);break;case"le":a=R.pop(),M=R.pop(),R.push(M<=a);break;case"ln":M=R.pop(),R.push(Math.log(M));break;case"log":M=R.pop(),R.push(Math.log10(M));break;case"lt":a=R.pop(),M=R.pop(),R.push(M<a);break;case"mod":a=R.pop(),M=R.pop(),R.push(M%a);break;case"mul":a=R.pop(),M=R.pop(),R.push(M*a);break;case"ne":a=R.pop(),M=R.pop(),R.push(M!==a);break;case"neg":M=R.pop(),R.push(-M);break;case"not":M=R.pop(),typeof M=="boolean"?R.push(!M):R.push(~M);break;case"or":a=R.pop(),M=R.pop(),typeof M=="boolean"&&typeof a=="boolean"?R.push(M||a):R.push(M|a);break;case"pop":R.pop();break;case"roll":a=R.pop(),M=R.pop(),R.roll(M,a);break;case"round":M=R.pop(),R.push(Math.round(M));break;case"sin":M=R.pop(),R.push(Math.sin(M%360/180*Math.PI));break;case"sqrt":M=R.pop(),R.push(Math.sqrt(M));break;case"sub":a=R.pop(),M=R.pop(),R.push(M-a);break;case"true":R.push(!0);break;case"truncate":M=R.pop(),M=M<0?Math.ceil(M):Math.floor(M),R.push(M);break;case"xor":a=R.pop(),M=R.pop(),typeof M=="boolean"&&typeof a=="boolean"?R.push(M!==a):R.push(M^a);break;default:throw new d.FormatError(`Unknown operator ${k}`)}}return R.stack}}f.PostScriptEvaluator=u;class h{constructor(S){this.type=S}visit(S){(0,d.unreachable)("abstract method")}}class i extends h{constructor(S,R,z){super("args"),this.index=S,this.min=R,this.max=z}visit(S){S.visitArgument(this)}}class x extends h{constructor(S){super("literal"),this.number=S,this.min=S,this.max=S}visit(S){S.visitLiteral(this)}}class p extends h{constructor(S,R,z,O,E){super("binary"),this.op=S,this.arg1=R,this.arg2=z,this.min=O,this.max=E}visit(S){S.visitBinaryOperation(this)}}class v extends h{constructor(S,R){super("max"),this.arg=S,this.min=S.min,this.max=R}visit(S){S.visitMin(this)}}class b extends h{constructor(S,R,z){super("var"),this.index=S,this.min=R,this.max=z}visit(S){S.visitVariable(this)}}class N extends h{constructor(S,R){super("definition"),this.variable=S,this.arg=R}visit(S){S.visitVariableDefinition(this)}}class U{constructor(){this.parts=[]}visitArgument(S){this.parts.push("Math.max(",S.min,", Math.min(",S.max,", src[srcOffset + ",S.index,"]))")}visitVariable(S){this.parts.push("v",S.index)}visitLiteral(S){this.parts.push(S.number)}visitBinaryOperation(S){this.parts.push("("),S.arg1.visit(this),this.parts.push(" ",S.op," "),S.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(S){this.parts.push("var "),S.variable.visit(this),this.parts.push(" = "),S.arg.visit(this),this.parts.push(";")}visitMin(S){this.parts.push("Math.min("),S.arg.visit(this),this.parts.push(", ",S.max,")")}toString(){return this.parts.join("")}}function D(m,S){return S.type==="literal"&&S.number===0?m:m.type==="literal"&&m.number===0?S:S.type==="literal"&&m.type==="literal"?new x(m.number+S.number):new p("+",m,S,m.min+S.min,m.max+S.max)}function I(m,S){if(S.type==="literal"){if(S.number===0)return new x(0);if(S.number===1)return m;if(m.type==="literal")return new x(m.number*S.number)}if(m.type==="literal"){if(m.number===0)return new x(0);if(m.number===1)return S}const R=Math.min(m.min*S.min,m.min*S.max,m.max*S.min,m.max*S.max),z=Math.max(m.min*S.min,m.min*S.max,m.max*S.min,m.max*S.max);return new p("*",m,S,R,z)}function B(m,S){if(S.type==="literal"){if(S.number===0)return m;if(m.type==="literal")return new x(m.number-S.number)}return S.type==="binary"&&S.op==="-"&&m.type==="literal"&&m.number===1&&S.arg1.type==="literal"&&S.arg1.number===1?S.arg2:new p("-",m,S,m.min-S.max,m.max-S.min)}function _(m,S){return m.min>=S?new x(S):m.max<=S?m:new v(m,S)}class P{compile(S,R,z){const O=[],E=[],k=R.length>>1,M=z.length>>1;let a=0,o,r,s,A,c,y,q,re;for(let de=0;de<k;de++)O.push(new i(de,R[de*2],R[de*2+1]));for(let de=0,ee=S.length;de<ee;de++){if(re=S[de],typeof re=="number"){O.push(new x(re));continue}switch(re){case"add":if(O.length<2)return null;A=O.pop(),s=O.pop(),O.push(D(s,A));break;case"cvr":if(O.length<1)return null;break;case"mul":if(O.length<2)return null;A=O.pop(),s=O.pop(),O.push(I(s,A));break;case"sub":if(O.length<2)return null;A=O.pop(),s=O.pop(),O.push(B(s,A));break;case"exch":if(O.length<2)return null;c=O.pop(),y=O.pop(),O.push(c,y);break;case"pop":if(O.length<1)return null;O.pop();break;case"index":if(O.length<1||(s=O.pop(),s.type!=="literal")||(o=s.number,o<0||!Number.isInteger(o)||O.length<o))return null;if(c=O[O.length-o-1],c.type==="literal"||c.type==="var"){O.push(c);break}q=new b(a++,c.min,c.max),O[O.length-o-1]=q,O.push(q),E.push(new N(q,c));break;case"dup":if(O.length<1)return null;if(typeof S[de+1]=="number"&&S[de+2]==="gt"&&S[de+3]===de+7&&S[de+4]==="jz"&&S[de+5]==="pop"&&S[de+6]===S[de+1]){s=O.pop(),O.push(_(s,S[de+1])),de+=6;break}if(c=O.at(-1),c.type==="literal"||c.type==="var"){O.push(c);break}q=new b(a++,c.min,c.max),O[O.length-1]=q,O.push(q),E.push(new N(q,c));break;case"roll":if(O.length<2||(A=O.pop(),s=O.pop(),A.type!=="literal"||s.type!=="literal")||(r=A.number,o=s.number,o<=0||!Number.isInteger(o)||!Number.isInteger(r)||O.length<o))return null;if(r=(r%o+o)%o,r===0)break;O.push(...O.splice(O.length-o,o-r));break;default:return null}}if(O.length!==M)return null;const Q=[];for(const de of E){const ee=new U;de.visit(ee),Q.push(ee.toString())}for(let de=0,ee=O.length;de<ee;de++){const ue=O[de],W=new U;ue.visit(W);const Z=z[de*2],se=z[de*2+1],ne=[W.toString()];Z>ue.min&&(ne.unshift("Math.max(",Z,", "),ne.push(")")),se<ue.max&&(ne.unshift("Math.min(",se,", "),ne.push(")")),ne.unshift("dest[destOffset + ",de,"] = "),ne.push(";"),Q.push(ne.join(""))}return Q.join(`
`)}}f.PostScriptCompiler=P},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PostScriptParser=f.PostScriptLexer=void 0;var n=$(2),d=$(4),T=$(3);class e{constructor(g){this.lexer=g,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(g){return this.token.type===g?(this.nextToken(),!0):!1}expect(g){if(this.accept(g))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${g}.`)}parse(){return this.nextToken(),this.expect(t.LBRACE),this.parseBlock(),this.expect(t.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(t.NUMBER))this.operators.push(this.prev.value);else if(this.accept(t.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(t.LBRACE))this.parseCondition();else return}parseCondition(){const g=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(t.RBRACE),this.accept(t.IF))this.operators[g]=this.operators.length,this.operators[g+1]="jz";else if(this.accept(t.LBRACE)){const w=this.operators.length;this.operators.push(null,null);const u=this.operators.length;this.parseBlock(),this.expect(t.RBRACE),this.expect(t.IFELSE),this.operators[w]=this.operators.length,this.operators[w+1]="j",this.operators[g]=u,this.operators[g+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}f.PostScriptParser=e;const t={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class l{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(g,w){this.type=g,this.value=w}static getOperator(g){var w;return(w=l.opCache)[g]||(w[g]=new l(t.OPERATOR,g))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new l(t.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new l(t.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new l(t.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new l(t.IFELSE,"IFELSE"))}}class L{constructor(g){this.stream=g,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let g=!1,w=this.currentChar;for(;;){if(w<0)return d.EOF;if(g)(w===10||w===13)&&(g=!1);else if(w===37)g=!0;else if(!(0,T.isWhiteSpace)(w))break;w=this.nextChar()}switch(w|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new l(t.NUMBER,this.getNumber());case 123:return this.nextChar(),l.LBRACE;case 125:return this.nextChar(),l.RBRACE}const u=this.strBuf;for(u.length=0,u[0]=String.fromCharCode(w);(w=this.nextChar())>=0&&(w>=65&&w<=90||w>=97&&w<=122);)u.push(String.fromCharCode(w));const h=u.join("");switch(h.toLowerCase()){case"if":return l.IF;case"ifelse":return l.IFELSE;default:return l.getOperator(h)}}getNumber(){let g=this.currentChar;const w=this.strBuf;for(w.length=0,w[0]=String.fromCharCode(g);(g=this.nextChar())>=0&&(g>=48&&g<=57||g===45||g===46);)w.push(String.fromCharCode(g));const u=parseFloat(w.join(""));if(isNaN(u))throw new n.FormatError(`Invalid floating point number: ${u}`);return u}}f.PostScriptLexer=L},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.RegionalImageCache=f.LocalTilingPatternCache=f.LocalImageCache=f.LocalGStateCache=f.LocalFunctionCache=f.LocalColorSpaceCache=f.GlobalImageCache=void 0;var n=$(2),d=$(4);class T{constructor(i){this.constructor===T&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(i==null?void 0:i.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new d.RefSetCache}getByName(i){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const x=this._nameRefMap.get(i);return x?this.getByRef(x):this._imageMap.get(i)||null}getByRef(i){return this._imageCache.get(i)||null}set(i,x,p){(0,n.unreachable)("Abstract method `set` called.")}}class e extends T{set(i,x=null,p){if(typeof i!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(i,x),this._imageCache.put(x,p);return}this._imageMap.has(i)||this._imageMap.set(i,p)}}f.LocalImageCache=e;class t extends T{set(i=null,x=null,p){if(typeof i!="string"&&!x)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(x){if(this._imageCache.has(x))return;i!==null&&this._nameRefMap.set(i,x),this._imageCache.put(x,p);return}this._imageMap.has(i)||this._imageMap.set(i,p)}}f.LocalColorSpaceCache=t;class l extends T{constructor(i){super({onlyRefs:!0})}set(i=null,x,p){if(!x)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,p)}}f.LocalFunctionCache=l;class L extends T{set(i,x=null,p){if(typeof i!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(x){if(this._imageCache.has(x))return;this._nameRefMap.set(i,x),this._imageCache.put(x,p);return}this._imageMap.has(i)||this._imageMap.set(i,p)}}f.LocalGStateCache=L;class F extends T{constructor(i){super({onlyRefs:!0})}set(i=null,x,p){if(!x)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,p)}}f.LocalTilingPatternCache=F;class g extends T{constructor(i){super({onlyRefs:!0})}set(i=null,x,p){if(!x)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(x)||this._imageCache.put(x,p)}}f.RegionalImageCache=g;const u=class u{constructor(){this._refCache=new d.RefSetCache,this._imageCache=new d.RefSetCache}get _byteSize(){let i=0;for(const x of this._imageCache)i+=x.byteSize;return i}get _cacheLimitReached(){return!(this._imageCache.size<u.MIN_IMAGES_TO_CACHE||this._byteSize<u.MAX_BYTE_SIZE)}shouldCache(i,x){let p=this._refCache.get(i);return p||(p=new Set,this._refCache.put(i,p)),p.add(x),!(p.size<u.NUM_PAGES_THRESHOLD||!this._imageCache.has(i)&&this._cacheLimitReached)}addByteSize(i,x){const p=this._imageCache.get(i);p&&(p.byteSize||(p.byteSize=x))}getData(i,x){const p=this._refCache.get(i);if(!p||p.size<u.NUM_PAGES_THRESHOLD)return null;const v=this._imageCache.get(i);return v?(p.add(x),v):null}setData(i,x){if(!this._refCache.has(i))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(i)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(i,x)}}clear(i=!1){i||this._refCache.clear(),this._imageCache.clear()}};Mt(u,"NUM_PAGES_THRESHOLD",2),Mt(u,"MIN_IMAGES_TO_CACHE",10),Mt(u,"MAX_BYTE_SIZE",5*n.MAX_IMAGE_SIZE_TO_CACHE);let w=u;f.GlobalImageCache=w},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.bidi=h;var n=$(2);const d=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],T=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(i){return(i&1)!==0}function t(i){return(i&1)===0}function l(i,x,p){let v,b;for(v=x,b=i.length;v<b;++v)if(i[v]!==p)return v;return v}function L(i,x,p,v){for(let b=x;b<p;++b)i[b]=v}function F(i,x,p){for(let v=x,b=p-1;v<b;++v,--b){const N=i[v];i[v]=i[b],i[b]=N}}function g(i,x,p=!1){let v="ltr";return p?v="ttb":x||(v="rtl"),{str:i,dir:v}}const w=[],u=[];function h(i,x=-1,p=!1){let v=!0;const b=i.length;if(b===0||p)return g(i,v,p);w.length=b,u.length=b;let N=0,U,D;for(U=0;U<b;++U){w[U]=i.charAt(U);const O=i.charCodeAt(U);let E="L";O<=255?E=d[O]:1424<=O&&O<=1524?E="R":1536<=O&&O<=1791?(E=T[O&255],E||(0,n.warn)("Bidi: invalid Unicode character "+O.toString(16))):(1792<=O&&O<=2220||64336<=O&&O<=65023||65136<=O&&O<=65279)&&(E="AL"),(E==="R"||E==="AL"||E==="AN")&&N++,u[U]=E}if(N===0)return v=!0,g(i,v);x===-1&&(N/b<.3&&b>4?(v=!0,x=0):(v=!1,x=1));const I=[];for(U=0;U<b;++U)I[U]=x;const B=e(x)?"R":"L",_=B,P=_;let X=_;for(U=0;U<b;++U)u[U]==="NSM"?u[U]=X:X=u[U];X=_;let m;for(U=0;U<b;++U)m=u[U],m==="EN"?u[U]=X==="AL"?"AN":"EN":(m==="R"||m==="L"||m==="AL")&&(X=m);for(U=0;U<b;++U)m=u[U],m==="AL"&&(u[U]="R");for(U=1;U<b-1;++U)u[U]==="ES"&&u[U-1]==="EN"&&u[U+1]==="EN"&&(u[U]="EN"),u[U]==="CS"&&(u[U-1]==="EN"||u[U-1]==="AN")&&u[U+1]===u[U-1]&&(u[U]=u[U-1]);for(U=0;U<b;++U)if(u[U]==="EN"){for(let O=U-1;O>=0&&u[O]==="ET";--O)u[O]="EN";for(let O=U+1;O<b&&u[O]==="ET";++O)u[O]="EN"}for(U=0;U<b;++U)m=u[U],(m==="WS"||m==="ES"||m==="ET"||m==="CS")&&(u[U]="ON");for(X=_,U=0;U<b;++U)m=u[U],m==="EN"?u[U]=X==="L"?"L":"EN":(m==="R"||m==="L")&&(X=m);for(U=0;U<b;++U)if(u[U]==="ON"){const O=l(u,U+1,"ON");let E=_;U>0&&(E=u[U-1]);let k=P;O+1<b&&(k=u[O+1]),E!=="L"&&(E="R"),k!=="L"&&(k="R"),E===k&&L(u,U,O,E),U=O-1}for(U=0;U<b;++U)u[U]==="ON"&&(u[U]=B);for(U=0;U<b;++U)m=u[U],t(I[U])?m==="R"?I[U]+=1:(m==="AN"||m==="EN")&&(I[U]+=2):(m==="L"||m==="AN"||m==="EN")&&(I[U]+=1);let S=-1,R=99,z;for(U=0,D=I.length;U<D;++U)z=I[U],S<z&&(S=z),R>z&&e(z)&&(R=z);for(z=S;z>=R;--z){let O=-1;for(U=0,D=I.length;U<D;++U)I[U]<z?O>=0&&(F(w,O,U),O=-1):O<0&&(O=U);O>=0&&F(w,O,I.length)}for(U=0,D=w.length;U<D;++U){const O=w[U];(O==="<"||O===">")&&(w[U]="")}return g(w.join(""),v)}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.getFontSubstitution=u;var n=$(38),d=$(3);const T={style:"normal",weight:"normal"},e={style:"normal",weight:"bold"},t={style:"italic",weight:"normal"},l={style:"italic",weight:"bold"},L=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:T,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:e,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:t,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:l,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:T,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:e,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:t,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:l,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:T,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:e,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:t,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:l,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:T,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:e,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:t,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:l,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:T,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:e,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:t,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:l,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:T}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),F=new Map([["Arial-Black","ArialBlack"]]);function g(h){switch(h){case e:return"Bold";case t:return"Italic";case l:return"Bold Italic";default:if((h==null?void 0:h.weight)==="bold")return"Bold";if((h==null?void 0:h.style)==="italic")return"Italic"}return""}function w({alias:h,local:i,path:x,fallback:p,style:v,ultimate:b},N,U,D=!0,I=!0,B=""){const _={style:null,ultimate:null};if(i){const P=B?` ${B}`:"";for(const X of i)N.push(`local(${X}${P})`)}if(h){const P=L.get(h),X=B||g(v);Object.assign(_,w(P,N,U,D&&!p,I&&!x,X))}if(v&&(_.style=v),b&&(_.ultimate=b),D&&p){const P=L.get(p),{ultimate:X}=w(P,N,U,D,I&&!x,B);_.ultimate||(_.ultimate=X)}return I&&x&&U&&N.push(`url(${U}${x})`),_}function u(h,i,x,p,v){p=(0,n.normalizeFontName)(p);const b=p;let N=h.get(b);if(N)return N;let U=L.get(p);if(!U){for(const[S,R]of F)if(p.startsWith(S)){p=`${R}${p.substring(S.length)}`,U=L.get(p);break}}let D=!1;U||(U=L.get(v),D=!0);const I=`${i.getDocId()}_s${i.createFontId()}`;if(!U){if(!(0,d.validateFontName)(p))return h.set(b,null),null;const S=/bold/gi.test(p),R=/oblique|italic/gi.test(p),z=S&&R&&l||S&&e||R&&t||T;return N={css:I,guessFallback:!0,loadedName:I,baseFontName:p,src:`local(${p})`,style:z},h.set(b,N),N}const B=[];D&&(0,d.validateFontName)(p)&&B.push(`local(${p})`);const{style:_,ultimate:P}=w(U,B,x),X=P===null,m=X?"":`,${P}`;return N={css:`${I}${m}`,guessFallback:X,loadedName:I,baseFontName:p,src:B.join(","),style:_},h.set(b,N),N}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ImageResizer=void 0;var n=$(2);const d=2048,T=65537,e=128;class t{constructor(L,F){this._imgData=L,this._isMask=F}static needsToBeResized(L,F){if(L<=this._goodSquareLength&&F<=this._goodSquareLength)return!1;const{MAX_DIM:g}=this;if(L>g||F>g)return!0;const w=L*F;if(this._hasMaxArea)return w>this.MAX_AREA;if(w<this._goodSquareLength**2)return!1;if(this._areGoodDims(L,F))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(L*F))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,g,e,0);const u=this.MAX_AREA=this._goodSquareLength**2;return w>u}static get MAX_DIM(){return(0,n.shadow)(this,"MAX_DIM",this._guessMax(d,T,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",this._guessMax(t._goodSquareLength,this.MAX_DIM,e,0)**2)}static set MAX_AREA(L){L>=0&&(this._hasMaxArea=!0,(0,n.shadow)(this,"MAX_AREA",L))}static setMaxArea(L){this._hasMaxArea||(this.MAX_AREA=L>>2)}static _areGoodDims(L,F){try{const g=new OffscreenCanvas(L,F),w=g.getContext("2d");w.fillRect(0,0,1,1);const u=w.getImageData(0,0,1,1).data[3];return g.width=g.height=1,u!==0}catch{return!1}}static _guessMax(L,F,g,w){for(;L+g+1<F;){const u=Math.floor((L+F)/2),h=w||u;this._areGoodDims(u,h)?L=u:F=u}return L}static async createImage(L,F=!1){return new t(L,F)._createImage()}async _createImage(){const L=this._encodeBMP(),F=new Blob([L.buffer],{type:"image/bmp"}),g=createImageBitmap(F),{MAX_AREA:w,MAX_DIM:u}=t,{_imgData:h}=this,{width:i,height:x}=h,p=Math.max(i/u,x/u,Math.sqrt(i*x/w)),v=Math.max(p,2),b=Math.round(10*(p+1.25))/10/v,N=Math.floor(Math.log2(b)),U=new Array(N+2).fill(2);U[0]=v,U.splice(-1,1,b/(1<<N));let D=i,I=x,B=await g;for(const _ of U){const P=D,X=I;D=Math.floor(D/_)-1,I=Math.floor(I/_)-1;const m=new OffscreenCanvas(D,I);m.getContext("2d").drawImage(B,0,0,P,X,0,0,D,I),B=m.transferToImageBitmap()}return h.data=null,h.bitmap=B,h.width=D,h.height=I,h}_encodeBMP(){const{width:L,height:F,kind:g}=this._imgData;let w=this._imgData.data,u,h=new Uint8Array(0),i=h,x=0;switch(g){case n.ImageKind.GRAYSCALE_1BPP:{u=1,h=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const I=L+7>>3,B=I+3&-4;if(I!==B){const _=new Uint8Array(B*F);let P=0;for(let X=0,m=F*I;X<m;X+=I,P+=B)_.set(w.subarray(X,X+I),P);w=_}break}case n.ImageKind.RGB_24BPP:{if(u=24,L&3){const I=3*L,B=I+3&-4,_=B-I,P=new Uint8Array(B*F);let X=0;for(let m=0,S=F*I;m<S;m+=I){const R=w.subarray(m,m+I);for(let z=0;z<I;z+=3)P[X++]=R[z+2],P[X++]=R[z+1],P[X++]=R[z];X+=_}w=P}else for(let I=0,B=w.length;I<B;I+=3){const _=w[I];w[I]=w[I+2],w[I+2]=_}break}case n.ImageKind.RGBA_32BPP:u=32,x=3,i=new Uint8Array(68);const D=new DataView(i.buffer);n.FeatureTest.isLittleEndian?(D.setUint32(0,255,!0),D.setUint32(4,65280,!0),D.setUint32(8,16711680,!0),D.setUint32(12,4278190080,!0)):(D.setUint32(0,4278190080,!0),D.setUint32(4,16711680,!0),D.setUint32(8,65280,!0),D.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let p=0;const v=40+i.length,b=14+v+h.length+w.length,N=new Uint8Array(b),U=new DataView(N.buffer);return U.setUint16(p,19778,!0),p+=2,U.setUint32(p,b,!0),p+=4,U.setUint32(p,0,!0),p+=4,U.setUint32(p,14+v+h.length,!0),p+=4,U.setUint32(p,v,!0),p+=4,U.setInt32(p,L,!0),p+=4,U.setInt32(p,-F,!0),p+=4,U.setUint16(p,1,!0),p+=2,U.setUint16(p,u,!0),p+=2,U.setUint32(p,x,!0),p+=4,U.setUint32(p,0,!0),p+=4,U.setInt32(p,0,!0),p+=4,U.setInt32(p,0,!0),p+=4,U.setUint32(p,h.length/4,!0),p+=4,U.setUint32(p,0,!0),p+=4,N.set(i,p),p+=i.length,N.set(h,p),p+=h.length,N.set(w,p),N}}f.ImageResizer=t,t._goodSquareLength=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.MurmurHash3_64=void 0;var n=$(2);const d=3285377520,T=4294901760,e=65535;class t{constructor(L){this.h1=L?L&4294967295:d,this.h2=L?L&4294967295:d}update(L){let F,g;if(typeof L=="string"){F=new Uint8Array(L.length*2),g=0;for(let I=0,B=L.length;I<B;I++){const _=L.charCodeAt(I);_<=255?F[g++]=_:(F[g++]=_>>>8,F[g++]=_&255)}}else if((0,n.isArrayBuffer)(L))F=L.slice(),g=F.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const w=g>>2,u=g-w*4,h=new Uint32Array(F.buffer,0,w);let i=0,x=0,p=this.h1,v=this.h2;const b=3432918353,N=461845907,U=b&e,D=N&e;for(let I=0;I<w;I++)I&1?(i=h[I],i=i*b&T|i*U&e,i=i<<15|i>>>17,i=i*N&T|i*D&e,p^=i,p=p<<13|p>>>19,p=p*5+3864292196):(x=h[I],x=x*b&T|x*U&e,x=x<<15|x>>>17,x=x*N&T|x*D&e,v^=x,v=v<<13|v>>>19,v=v*5+3864292196);switch(i=0,u){case 3:i^=F[w*4+2]<<16;case 2:i^=F[w*4+1]<<8;case 1:i^=F[w*4],i=i*b&T|i*U&e,i=i<<15|i>>>17,i=i*N&T|i*D&e,w&1?p^=i:v^=i}this.h1=p,this.h2=v}hexdigest(){let L=this.h1,F=this.h2;return L^=F>>>1,L=L*3981806797&T|L*36045&e,F=F*4283543511&T|((F<<16|L>>>16)*2950163797&T)>>>16,L^=F>>>1,L=L*444984403&T|L*60499&e,F=F*3301882366&T|((F<<16|L>>>16)*3120437893&T)>>>16,L^=F>>>1,(L>>>0).toString(16).padStart(8,"0")+(F>>>0).toString(16).padStart(8,"0")}}f.MurmurHash3_64=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.OperatorList=void 0;var n=$(2);function d(F,g,w,u,h){let i=F;for(let x=0,p=g.length-1;x<p;x++){const v=g[x];i=i[v]||(i[v]=[])}i[g.at(-1)]={checkFn:w,iterateFn:u,processFn:h}}const T=[];d(T,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(g,w){const u=g.fnArray,h=g.iCurr-3,i=(w-h)%4;switch(i){case 0:return u[w]===n.OPS.save;case 1:return u[w]===n.OPS.transform;case 2:return u[w]===n.OPS.paintInlineImageXObject;case 3:return u[w]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${i}`)},function(g,w){const p=g.fnArray,v=g.argsArray,b=g.iCurr,N=b-3,U=b-2,D=b-1,I=Math.min(Math.floor((w-N)/4),200);if(I<10)return w-(w-N)%4;let B=0;const _=[];let P=0,X=1,m=1;for(let k=0;k<I;k++){const M=v[U+(k<<2)],a=v[D+(k<<2)][0];X+a.width>1e3&&(B=Math.max(B,X),m+=P+2,X=0,P=0),_.push({transform:M,x:X,y:m,w:a.width,h:a.height}),X+=a.width+2,P=Math.max(P,a.height)}const S=Math.max(B,X)+1,R=m+P+1,z=new Uint8Array(S*R*4),O=S<<2;for(let k=0;k<I;k++){const M=v[D+(k<<2)][0].data,a=_[k].w<<2;let o=0,r=_[k].x+_[k].y*S<<2;z.set(M.subarray(0,a),r-O);for(let s=0,A=_[k].h;s<A;s++)z.set(M.subarray(o,o+a),r),o+=a,r+=O;for(z.set(M.subarray(o-a,o),r);r>=0;)M[r-4]=M[r],M[r-3]=M[r+1],M[r-2]=M[r+2],M[r-1]=M[r+3],M[r+a]=M[r+a-4],M[r+a+1]=M[r+a-3],M[r+a+2]=M[r+a-2],M[r+a+3]=M[r+a-1],r-=O}const E={width:S,height:R};if(g.isOffscreenCanvasSupported){const k=new OffscreenCanvas(S,R);k.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(z.buffer),S,R),0,0),E.bitmap=k.transferToImageBitmap(),E.data=null}else E.kind=n.ImageKind.RGBA_32BPP,E.data=z;return p.splice(N,I*4,n.OPS.paintInlineImageXObjectGroup),v.splice(N,I*4,[E,_]),N+1}),d(T,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(g,w){const u=g.fnArray,h=g.iCurr-3,i=(w-h)%4;switch(i){case 0:return u[w]===n.OPS.save;case 1:return u[w]===n.OPS.transform;case 2:return u[w]===n.OPS.paintImageMaskXObject;case 3:return u[w]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${i}`)},function(g,w){const x=g.fnArray,p=g.argsArray,v=g.iCurr,b=v-3,N=v-2,U=v-1;let D=Math.floor((w-b)/4);if(D<10)return w-(w-b)%4;let I=!1,B,_;const P=p[U][0],X=p[N][0],m=p[N][1],S=p[N][2],R=p[N][3];if(m===S){I=!0,B=N+4;let z=U+4;for(let O=1;O<D;O++,B+=4,z+=4)if(_=p[B],p[z][0]!==P||_[0]!==X||_[1]!==m||_[2]!==S||_[3]!==R){O<10?I=!1:D=O;break}}if(I){D=Math.min(D,1e3);const z=new Float32Array(D*2);B=N;for(let O=0;O<D;O++,B+=4)_=p[B],z[O<<1]=_[4],z[(O<<1)+1]=_[5];x.splice(b,D*4,n.OPS.paintImageMaskXObjectRepeat),p.splice(b,D*4,[P,X,m,S,R,z])}else{D=Math.min(D,100);const z=[];for(let O=0;O<D;O++){_=p[N+(O<<2)];const E=p[U+(O<<2)][0];z.push({data:E.data,width:E.width,height:E.height,interpolate:E.interpolate,count:E.count,transform:_})}x.splice(b,D*4,n.OPS.paintImageMaskXObjectGroup),p.splice(b,D*4,[z])}return b+1}),d(T,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(F){const g=F.argsArray,w=F.iCurr-2;return g[w][1]===0&&g[w][2]===0},function(g,w){const u=g.fnArray,h=g.argsArray,i=g.iCurr-3,x=(w-i)%4;switch(x){case 0:return u[w]===n.OPS.save;case 1:if(u[w]!==n.OPS.transform)return!1;const p=g.iCurr-2,v=h[p][0],b=h[p][3];return!(h[w][0]!==v||h[w][1]!==0||h[w][2]!==0||h[w][3]!==b);case 2:if(u[w]!==n.OPS.paintImageXObject)return!1;const N=g.iCurr-1,U=h[N][0];return h[w][0]===U;case 3:return u[w]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${x}`)},function(F,g){const h=F.fnArray,i=F.argsArray,x=F.iCurr,p=x-3,v=x-2,b=x-1,N=i[b][0],U=i[v][0],D=i[v][3],I=Math.min(Math.floor((g-p)/4),1e3);if(I<3)return g-(g-p)%4;const B=new Float32Array(I*2);let _=v;for(let X=0;X<I;X++,_+=4){const m=i[_];B[X<<1]=m[4],B[(X<<1)+1]=m[5]}const P=[N,U,D,B];return h.splice(p,I*4,n.OPS.paintImageXObjectRepeat),i.splice(p,I*4,P),p+1}),d(T,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(g,w){const u=g.fnArray,h=g.argsArray,i=g.iCurr-4,x=(w-i)%5;switch(x){case 0:return u[w]===n.OPS.beginText;case 1:return u[w]===n.OPS.setFont;case 2:return u[w]===n.OPS.setTextMatrix;case 3:if(u[w]!==n.OPS.showText)return!1;const p=g.iCurr-3,v=h[p][0],b=h[p][1];return!(h[w][0]!==v||h[w][1]!==b);case 4:return u[w]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${x}`)},function(F,g){const h=F.fnArray,i=F.argsArray,x=F.iCurr,p=x-4,v=x-3,b=x-2,N=x-1,U=x,D=i[v][0],I=i[v][1];let B=Math.min(Math.floor((g-p)/5),1e3);if(B<3)return g-(g-p)%5;let _=p;p>=4&&h[p-4]===h[v]&&h[p-3]===h[b]&&h[p-2]===h[N]&&h[p-1]===h[U]&&i[p-4][0]===D&&i[p-4][1]===I&&(B++,_-=5);let P=_+4;for(let X=1;X<B;X++)h.splice(P,3),i.splice(P,3),P+=2;return P+1});class e{constructor(g){this.queue=g}_optimize(){}push(g,w){this.queue.fnArray.push(g),this.queue.argsArray.push(w),this._optimize()}flush(){}reset(){}}class t extends e{constructor(g){super(g),this.state=null,this.context={iCurr:0,fnArray:g.fnArray,argsArray:g.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(g){this.context.isOffscreenCanvasSupported=g}_optimize(){const g=this.queue.fnArray;let w=this.lastProcessed,u=g.length,h=this.state,i=this.match;if(!h&&!i&&w+1===u&&!T[g[w]]){this.lastProcessed=u;return}const x=this.context;for(;w<u;){if(i){if((0,i.iterateFn)(x,w)){w++;continue}if(w=(0,i.processFn)(x,w+1),u=g.length,i=null,h=null,w>=u)break}if(h=(h||T)[g[w]],!h||Array.isArray(h)){w++;continue}if(x.iCurr=w,w++,h.checkFn&&!(0,h.checkFn)(x)){h=null;continue}i=h,h=null}this.state=h,this.match=i,this.lastProcessed=w}flush(){for(;this.match;){const g=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,g),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const L=class L{constructor(g=0,w){this._streamSink=w,this.fnArray=[],this.argsArray=[],this.optimizer=w&&!(g&n.RenderingIntentFlag.OPLIST)?new t(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=w?null:Promise.resolve()}set isOffscreenCanvasSupported(g){this.optimizer.isOffscreenCanvasSupported=g}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(g,w){this.optimizer.push(g,w),this.weight++,this._streamSink&&(this.weight>=L.CHUNK_SIZE?this.flush():this.weight>=L.CHUNK_SIZE_ABOUT&&(g===n.OPS.restore||g===n.OPS.endText)&&this.flush())}addImageOps(g,w,u){u!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",u]),this.addOp(g,w),u!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(g){this.dependencies.has(g)||(this.dependencies.add(g),this.addOp(n.OPS.dependency,[g]))}addDependencies(g){for(const w of g)this.addDependency(w)}addOpList(g){if(!(g instanceof L)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const w of g.dependencies)this.dependencies.add(w);for(let w=0,u=g.length;w<u;w++)this.addOp(g.fnArray[w],g.argsArray[w])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var i;const g=[],{fnArray:w,argsArray:u,length:h}=this;for(let x=0;x<h;x++)switch(w[x]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const p=u[x][0];!p.cached&&((i=p.data)==null?void 0:i.buffer)instanceof ArrayBuffer&&g.push(p.data.buffer);break}return g}flush(g=!1,w=null){this.optimizer.flush();const u=this.length;this._totalLength+=u,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:g,separateAnnots:w,length:u},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};Mt(L,"CHUNK_SIZE",1e3),Mt(L,"CHUNK_SIZE_ABOUT",L.CHUNK_SIZE-5);let l=L;f.OperatorList=l},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFImage=void 0;var n=$(2),d=$(28),T=$(5),e=$(12),t=$(18),l=$(62),L=$(26),F=$(30),g=$(4);function w(i,x,p,v){return i=x+i*p,i<0?i=0:i>v&&(i=v),i}function u(i,x,p,v,b,N){const U=b*N;let D;x<=8?D=new Uint8Array(U):x<=16?D=new Uint16Array(U):D=new Uint32Array(U);const I=p/b,B=v/N;let _,P,X,m=0,S;const R=new Uint16Array(b),z=p;for(_=0;_<b;_++)R[_]=Math.floor(_*I);for(_=0;_<N;_++)for(X=Math.floor(_*B)*z,P=0;P<b;P++)S=X+R[P],D[m++]=i[S];return D}class h{constructor({xref:x,res:p,image:v,isInline:b=!1,smask:N=null,mask:U=null,isMask:D=!1,pdfFunctionFactory:I,localColorSpaceCache:B}){var z;this.image=v;const _=v.dict,P=_.get("F","Filter");let X;if(P instanceof g.Name)X=P.name;else if(Array.isArray(P)){const O=x.fetchIfRef(P[0]);O instanceof g.Name&&(X=O.name)}switch(X){case"JPXDecode":const O=new F.JpxImage;O.parseImageProperties(v.stream),v.stream.reset(),v.width=O.width,v.height=O.height,v.bitsPerComponent=O.bitsPerComponent,v.numComps=O.componentsCount;break;case"JBIG2Decode":v.bitsPerComponent=1,v.numComps=1;break}let m=_.get("W","Width"),S=_.get("H","Height");if(Number.isInteger(v.width)&&v.width>0&&Number.isInteger(v.height)&&v.height>0&&(v.width!==m||v.height!==S)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),m=v.width,S=v.height),m<1||S<1)throw new n.FormatError(`Invalid image width: ${m} or height: ${S}`);this.width=m,this.height=S,this.interpolate=_.get("I","Interpolate"),this.imageMask=_.get("IM","ImageMask")||!1,this.matte=_.get("Matte")||!1;let R=v.bitsPerComponent;if(!R&&(R=_.get("BPC","BitsPerComponent"),!R))if(this.imageMask)R=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=R,!this.imageMask){let O=_.getRaw("CS")||_.getRaw("ColorSpace");if(!O)switch((0,n.info)("JPX images (which do not require color spaces)"),v.numComps){case 1:O=g.Name.get("DeviceGray");break;case 3:O=g.Name.get("DeviceRGB");break;case 4:O=g.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${v.numComps} color components not supported.`)}this.colorSpace=e.ColorSpace.parse({cs:O,xref:x,resources:b?p:null,pdfFunctionFactory:I,localColorSpaceCache:B}),this.numComps=this.colorSpace.numComps}if(this.decode=_.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,R)||D&&!e.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const O=(1<<R)-1;this.decodeCoefficients=[],this.decodeAddends=[];const E=((z=this.colorSpace)==null?void 0:z.name)==="Indexed";for(let k=0,M=0;k<this.decode.length;k+=2,++M){const a=this.decode[k],o=this.decode[k+1];this.decodeCoefficients[M]=E?(o-a)/O:o-a,this.decodeAddends[M]=E?a:O*a}}N?this.smask=new h({xref:x,res:p,image:N,isInline:b,pdfFunctionFactory:I,localColorSpaceCache:B}):U&&(U instanceof T.BaseStream?U.dict.get("IM","ImageMask")?this.mask=new h({xref:x,res:p,image:U,isInline:b,isMask:!0,pdfFunctionFactory:I,localColorSpaceCache:B}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=U)}static async buildImage({xref:x,res:p,image:v,isInline:b=!1,pdfFunctionFactory:N,localColorSpaceCache:U}){const D=v;let I=null,B=null;const _=v.dict.get("SMask"),P=v.dict.get("Mask");return _?_ instanceof T.BaseStream?I=_:(0,n.warn)("Unsupported /SMask format."):P&&(P instanceof T.BaseStream||Array.isArray(P)?B=P:(0,n.warn)("Unsupported /Mask format.")),new h({xref:x,res:p,image:D,isInline:b,smask:I,mask:B,pdfFunctionFactory:N,localColorSpaceCache:U})}static createRawMask({imgArray:x,width:p,height:v,imageIsFromDecodeStream:b,inverseDecode:N,interpolate:U}){const D=(p+7>>3)*v,I=x.byteLength,B=D===I;let _,P;if(b&&(!N||B)?_=x:N?(_=new Uint8Array(D),_.set(x),_.fill(255,I)):_=new Uint8Array(x),N)for(P=0;P<I;P++)_[P]^=255;return{data:_,width:p,height:v,interpolate:U}}static async createMask({imgArray:x,width:p,height:v,imageIsFromDecodeStream:b,inverseDecode:N,interpolate:U,isOffscreenCanvasSupported:D=!1}){const I=p===1&&v===1&&N===(x.length===0||!!(x[0]&128));if(I)return{isSingleOpaquePixel:I};if(D){if(l.ImageResizer.needsToBeResized(p,v)){const m=new Uint8ClampedArray(p*v*4);return(0,d.convertBlackAndWhiteToRGBA)({src:x,dest:m,width:p,height:v,nonBlackColor:0,inverseDecode:N}),l.ImageResizer.createImage({kind:n.ImageKind.RGBA_32BPP,data:m,width:p,height:v,interpolate:U})}const B=new OffscreenCanvas(p,v),_=B.getContext("2d"),P=_.createImageData(p,v);(0,d.convertBlackAndWhiteToRGBA)({src:x,dest:P.data,width:p,height:v,nonBlackColor:0,inverseDecode:N}),_.putImageData(P,0,0);const X=B.transferToImageBitmap();return{data:null,width:p,height:v,interpolate:U,bitmap:X}}return this.createRawMask({imgArray:x,width:p,height:v,inverseDecode:N,imageIsFromDecodeStream:b,interpolate:U})}get drawWidth(){var x,p;return Math.max(this.width,((x=this.smask)==null?void 0:x.width)||0,((p=this.mask)==null?void 0:p.width)||0)}get drawHeight(){var x,p;return Math.max(this.height,((x=this.smask)==null?void 0:x.height)||0,((p=this.mask)==null?void 0:p.height)||0)}decodeBuffer(x){const p=this.bpc,v=this.numComps,b=this.decodeAddends,N=this.decodeCoefficients,U=(1<<p)-1;let D,I;if(p===1){for(D=0,I=x.length;D<I;D++)x[D]=+!x[D];return}let B=0;for(D=0,I=this.width*this.height;D<I;D++)for(let _=0;_<v;_++)x[B]=w(x[B],b[_],N[_],U),B++}getComponents(x){const p=this.bpc;if(p===8)return x;const v=this.width,b=this.height,N=this.numComps,U=v*b*N;let D=0,I;p<=8?I=new Uint8Array(U):p<=16?I=new Uint16Array(U):I=new Uint32Array(U);const B=v*N,_=(1<<p)-1;let P=0,X,m;if(p===1){let S,R,z;for(let O=0;O<b;O++){for(R=P+(B&-8),z=P+B;P<R;)m=x[D++],I[P]=m>>7&1,I[P+1]=m>>6&1,I[P+2]=m>>5&1,I[P+3]=m>>4&1,I[P+4]=m>>3&1,I[P+5]=m>>2&1,I[P+6]=m>>1&1,I[P+7]=m&1,P+=8;if(P<z)for(m=x[D++],S=128;P<z;)I[P++]=+!!(m&S),S>>=1}}else{let S=0;for(m=0,P=0,X=U;P<X;++P){for(P%B===0&&(m=0,S=0);S<p;)m=m<<8|x[D++],S+=8;const R=S-p;let z=m>>R;z<0?z=0:z>_&&(z=_),I[P]=z,m&=(1<<R)-1,S=R}}return I}fillOpacity(x,p,v,b,N){const U=this.smask,D=this.mask;let I,B,_,P,X,m;if(U)B=U.width,_=U.height,I=new Uint8ClampedArray(B*_),U.fillGrayBuffer(I),(B!==p||_!==v)&&(I=u(I,U.bpc,B,_,p,v));else if(D)if(D instanceof h){for(B=D.width,_=D.height,I=new Uint8ClampedArray(B*_),D.numComps=1,D.fillGrayBuffer(I),P=0,X=B*_;P<X;++P)I[P]=255-I[P];(B!==p||_!==v)&&(I=u(I,D.bpc,B,_,p,v))}else if(Array.isArray(D)){I=new Uint8ClampedArray(p*v);const S=this.numComps;for(P=0,X=p*v;P<X;++P){let R=0;const z=P*S;for(m=0;m<S;++m){const O=N[z+m],E=m*2;if(O<D[E]||O>D[E+1]){R=255;break}}I[P]=R}}else throw new n.FormatError("Unknown mask format.");if(I)for(P=0,m=3,X=p*b;P<X;++P,m+=4)x[m]=I[P];else for(P=0,m=3,X=p*b;P<X;++P,m+=4)x[m]=255}undoPreblend(x,p,v){var _;const b=(_=this.smask)==null?void 0:_.matte;if(!b)return;const N=this.colorSpace.getRgb(b,0),U=N[0],D=N[1],I=N[2],B=p*v*4;for(let P=0;P<B;P+=4){const X=x[P+3];if(X===0){x[P]=255,x[P+1]=255,x[P+2]=255;continue}const m=255/X;x[P]=(x[P]-U)*m+U,x[P+1]=(x[P+1]-D)*m+D,x[P+2]=(x[P+2]-I)*m+I}}async createImageData(x=!1,p=!1){const v=this.drawWidth,b=this.drawHeight,N={width:v,height:b,interpolate:this.interpolate,kind:0,data:null},U=this.numComps,D=this.width,I=this.height,B=this.bpc,_=D*U*B+7>>3,P=p&&l.ImageResizer.needsToBeResized(v,b);if(!x){let a;if(this.colorSpace.name==="DeviceGray"&&B===1?a=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&B===8&&!this.needsDecode&&(a=n.ImageKind.RGB_24BPP),a&&!this.smask&&!this.mask&&v===D&&b===I){const o=this.getImageBytes(I*_,{});if(p)return P?l.ImageResizer.createImage({data:o,kind:a,width:v,height:b,interpolate:this.interpolate},this.needsDecode):this.createBitmap(a,D,I,o);if(N.kind=a,N.data=o,this.needsDecode){(0,n.assert)(a===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const r=N.data;for(let s=0,A=r.length;s<A;s++)r[s]^=255}return N}if(this.image instanceof L.JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let o=I*_;if(p&&!P){let r=!1;switch(this.colorSpace.name){case"DeviceGray":o*=4,r=!0;break;case"DeviceRGB":o=o/3*4,r=!0;break;case"DeviceCMYK":r=!0;break}if(r){const s=this.getImageBytes(o,{drawWidth:v,drawHeight:b,forceRGBA:!0});return this.createBitmap(n.ImageKind.RGBA_32BPP,v,b,s)}}else switch(this.colorSpace.name){case"DeviceGray":o*=3;case"DeviceRGB":case"DeviceCMYK":return N.kind=n.ImageKind.RGB_24BPP,N.data=this.getImageBytes(o,{drawWidth:v,drawHeight:b,forceRGB:!0}),P?l.ImageResizer.createImage(N):N}}}const X=this.getImageBytes(I*_,{internal:!0}),m=0|X.length/_*b/I,S=this.getComponents(X);let R,z,O,E,k,M;if(p&&!P&&(O=new OffscreenCanvas(v,b),E=O.getContext("2d"),k=E.createImageData(v,b),M=k.data),N.kind=n.ImageKind.RGBA_32BPP,!x&&!this.smask&&!this.mask?(!p||P?(N.kind=n.ImageKind.RGB_24BPP,M=new Uint8ClampedArray(v*b*3),R=0):(new Uint32Array(M.buffer).fill(n.FeatureTest.isLittleEndian?4278190080:255),R=1),z=!1):((!p||P)&&(M=new Uint8ClampedArray(v*b*4)),R=1,z=!0,this.fillOpacity(M,v,b,m,S)),this.needsDecode&&this.decodeBuffer(S),this.colorSpace.fillRgb(M,D,I,v,b,m,B,S,R),z&&this.undoPreblend(M,v,m),p&&!P){E.putImageData(k,0,0);const a=O.transferToImageBitmap();return{data:null,width:v,height:b,bitmap:a,interpolate:this.interpolate}}return N.data=M,P?l.ImageResizer.createImage(N):N}fillGrayBuffer(x){const p=this.numComps;if(p!==1)throw new n.FormatError(`Reading gray scale from a color image: ${p}`);const v=this.width,b=this.height,N=this.bpc,U=v*p*N+7>>3,D=this.getImageBytes(b*U,{internal:!0}),I=this.getComponents(D);let B,_;if(N===1){if(_=v*b,this.needsDecode)for(B=0;B<_;++B)x[B]=I[B]-1&255;else for(B=0;B<_;++B)x[B]=-I[B]&255;return}this.needsDecode&&this.decodeBuffer(I),_=v*b;const P=255/((1<<N)-1);for(B=0;B<_;++B)x[B]=P*I[B]}createBitmap(x,p,v,b){const N=new OffscreenCanvas(p,v),U=N.getContext("2d");let D;x===n.ImageKind.RGBA_32BPP?D=new ImageData(b,p,v):(D=U.createImageData(p,v),(0,d.convertToRGBA)({kind:x,src:b,dest:new Uint32Array(D.data.buffer),width:p,height:v,inverseDecode:this.needsDecode})),U.putImageData(D,0,0);const I=N.transferToImageBitmap();return{data:null,width:p,height:v,bitmap:I,interpolate:this.interpolate}}getImageBytes(x,{drawWidth:p,drawHeight:v,forceRGBA:b=!1,forceRGB:N=!1,internal:U=!1}){this.image.reset(),this.image.drawWidth=p||this.width,this.image.drawHeight=v||this.height,this.image.forceRGBA=!!b,this.image.forceRGB=!!N;const D=this.image.getBytes(x);return U||this.image instanceof t.DecodeStream?D:((0,n.assert)(D instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(D))}}f.PDFImage=h},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Catalog=void 0;var n=$(3),d=$(2),T=$(4),e=$(67),t=$(5),l=$(68),L=$(12),F=$(69),g=$(59),w=$(70),u=$(72);function h(x){return x instanceof T.Dict&&(x=x.get("D")),Array.isArray(x)?x:null}class i{constructor(p,v){if(this.pdfManager=p,this.xref=v,this._catDict=v.getCatalogObj(),!(this._catDict instanceof T.Dict))throw new d.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new T.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new g.GlobalImageCache,this.pageKidsCountCache=new T.RefSetCache,this.pageIndexCache=new T.RefSetCache,this.nonBlendModesSet=new T.RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const p=this._catDict.get("Version");if(p instanceof T.Name){if(n.PDF_VERSION_REGEXP.test(p.name))return(0,d.shadow)(this,"version",p.name);(0,d.warn)(`Invalid PDF catalog version: ${p.name}`)}return(0,d.shadow)(this,"version",null)}get lang(){const p=this._catDict.get("Lang");return(0,d.shadow)(this,"lang",typeof p=="string"?(0,d.stringToPDFString)(p):null)}get needsRendering(){const p=this._catDict.get("NeedsRendering");return(0,d.shadow)(this,"needsRendering",typeof p=="boolean"?p:!1)}get collection(){let p=null;try{const v=this._catDict.get("Collection");v instanceof T.Dict&&v.size>0&&(p=v)}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,d.shadow)(this,"collection",p)}get acroForm(){let p=null;try{const v=this._catDict.get("AcroForm");v instanceof T.Dict&&v.size>0&&(p=v)}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,d.shadow)(this,"acroForm",p)}get acroFormRef(){const p=this._catDict.getRaw("AcroForm");return(0,d.shadow)(this,"acroFormRef",p instanceof T.Ref?p:null)}get metadata(){var b;const p=this._catDict.getRaw("Metadata");if(!(p instanceof T.Ref))return(0,d.shadow)(this,"metadata",null);let v=null;try{const N=this.xref.fetch(p,!((b=this.xref.encrypt)!=null&&b.encryptMetadata));if(N instanceof t.BaseStream&&N.dict instanceof T.Dict){const U=N.dict.get("Type"),D=N.dict.get("Subtype");if((0,T.isName)(U,"Metadata")&&(0,T.isName)(D,"XML")){const I=(0,d.stringToUTF8String)(N.getString());I&&(v=new w.MetadataParser(I).serializable)}}}catch(N){if(N instanceof n.MissingDataException)throw N;(0,d.info)(`Skipping invalid Metadata: "${N}".`)}return(0,d.shadow)(this,"metadata",v)}get markInfo(){let p=null;try{p=this._readMarkInfo()}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)("Unable to read mark info.")}return(0,d.shadow)(this,"markInfo",p)}_readMarkInfo(){const p=this._catDict.get("MarkInfo");if(!(p instanceof T.Dict))return null;const v={Marked:!1,UserProperties:!1,Suspects:!1};for(const b in v){const N=p.get(b);typeof N=="boolean"&&(v[b]=N)}return v}get structTreeRoot(){let p=null;try{p=this._readStructTreeRoot()}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)("Unable read to structTreeRoot info.")}return(0,d.shadow)(this,"structTreeRoot",p)}_readStructTreeRoot(){const p=this._catDict.getRaw("StructTreeRoot"),v=this.xref.fetchIfRef(p);if(!(v instanceof T.Dict))return null;const b=new u.StructTreeRoot(v,p);return b.init(),b}get toplevelPagesDict(){const p=this._catDict.get("Pages");if(!(p instanceof T.Dict))throw new d.FormatError("Invalid top-level pages dictionary.");return(0,d.shadow)(this,"toplevelPagesDict",p)}get documentOutline(){let p=null;try{p=this._readDocumentOutline()}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)("Unable to read document outline.")}return(0,d.shadow)(this,"documentOutline",p)}_readDocumentOutline(){let p=this._catDict.get("Outlines");if(!(p instanceof T.Dict)||(p=p.getRaw("First"),!(p instanceof T.Ref)))return null;const v={items:[]},b=[{obj:p,parent:v}],N=new T.RefSet;N.put(p);const U=this.xref,D=new Uint8ClampedArray(3);for(;b.length>0;){const I=b.shift(),B=U.fetchIfRef(I.obj);if(B===null)continue;if(!B.has("Title"))throw new d.FormatError("Invalid outline item encountered.");const _={url:null,dest:null,action:null};i.parseDestDictionary({destDict:B,resultObj:_,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const P=B.get("Title"),X=B.get("F")||0,m=B.getArray("C"),S=B.get("Count");let R=D;Array.isArray(m)&&m.length===3&&(m[0]!==0||m[1]!==0||m[2]!==0)&&(R=L.ColorSpace.singletons.rgb.getRgb(m,0));const z={action:_.action,attachment:_.attachment,dest:_.dest,url:_.url,unsafeUrl:_.unsafeUrl,newWindow:_.newWindow,setOCGState:_.setOCGState,title:(0,d.stringToPDFString)(P),color:R,count:Number.isInteger(S)?S:void 0,bold:!!(X&2),italic:!!(X&1),items:[]};I.parent.items.push(z),p=B.getRaw("First"),p instanceof T.Ref&&!N.has(p)&&(b.push({obj:p,parent:z}),N.put(p)),p=B.getRaw("Next"),p instanceof T.Ref&&!N.has(p)&&(b.push({obj:p,parent:I.parent}),N.put(p))}return v.items.length>0?v.items:null}get permissions(){let p=null;try{p=this._readPermissions()}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)("Unable to read permissions.")}return(0,d.shadow)(this,"permissions",p)}_readPermissions(){const p=this.xref.trailer.get("Encrypt");if(!(p instanceof T.Dict))return null;let v=p.get("P");if(typeof v!="number")return null;v+=4294967296;const b=[];for(const N in d.PermissionFlag){const U=d.PermissionFlag[N];v&U&&b.push(U)}return b}get optionalContentConfig(){let p=null;try{const v=this._catDict.get("OCProperties");if(!v)return(0,d.shadow)(this,"optionalContentConfig",null);const b=v.get("D");if(!b)return(0,d.shadow)(this,"optionalContentConfig",null);const N=v.get("OCGs");if(!Array.isArray(N))return(0,d.shadow)(this,"optionalContentConfig",null);const U=[],D=[];for(const I of N){if(!(I instanceof T.Ref))continue;D.push(I);const B=this.xref.fetchIfRef(I);U.push({id:I.toString(),name:typeof B.get("Name")=="string"?(0,d.stringToPDFString)(B.get("Name")):null,intent:typeof B.get("Intent")=="string"?(0,d.stringToPDFString)(B.get("Intent")):null})}p=this._readOptionalContentConfig(b,D),p.groups=U}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)(`Unable to read optional content config: ${v}`)}return(0,d.shadow)(this,"optionalContentConfig",p)}_readOptionalContentConfig(p,v){function b(_){const P=[];if(Array.isArray(_))for(const X of _)X instanceof T.Ref&&v.includes(X)&&P.push(X.toString());return P}function N(_,P=0){if(!Array.isArray(_))return null;const X=[];for(const S of _){if(S instanceof T.Ref&&v.includes(S)){I.put(S),X.push(S.toString());continue}const R=U(S,P);R&&X.push(R)}if(P>0)return X;const m=[];for(const S of v)I.has(S)||m.push(S.toString());return m.length&&X.push({name:null,order:m}),X}function U(_,P){if(++P>B)return(0,d.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const X=D.fetchIfRef(_);if(!Array.isArray(X))return null;const m=D.fetchIfRef(X[0]);if(typeof m!="string")return null;const S=N(X.slice(1),P);return!S||!S.length?null:{name:(0,d.stringToPDFString)(m),order:S}}const D=this.xref,I=new T.RefSet,B=10;return{name:typeof p.get("Name")=="string"?(0,d.stringToPDFString)(p.get("Name")):null,creator:typeof p.get("Creator")=="string"?(0,d.stringToPDFString)(p.get("Creator")):null,baseState:p.get("BaseState")instanceof T.Name?p.get("BaseState").name:null,on:b(p.get("ON")),off:b(p.get("OFF")),order:N(p.get("Order")),groups:null}}setActualNumPages(p=null){this._actualNumPages=p}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const p=this.toplevelPagesDict.get("Count");if(!Number.isInteger(p))throw new d.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,d.shadow)(this,"_pagesCount",p)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const p=this._readDests(),v=Object.create(null);if(p instanceof e.NameTree)for(const[b,N]of p.getAll()){const U=h(N);U&&(v[(0,d.stringToPDFString)(b)]=U)}else p instanceof T.Dict&&p.forEach(function(b,N){const U=h(N);U&&(v[b]=U)});return(0,d.shadow)(this,"destinations",v)}getDestination(p){const v=this._readDests();if(v instanceof e.NameTree){const b=h(v.get(p));if(b)return b;const N=this.destinations[p];if(N)return(0,d.warn)(`Found "${p}" at an incorrect position in the NameTree.`),N}else if(v instanceof T.Dict){const b=h(v.get(p));if(b)return b}return null}_readDests(){const p=this._catDict.get("Names");if(p!=null&&p.has("Dests"))return new e.NameTree(p.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let p=null;try{p=this._readPageLabels()}catch(v){if(v instanceof n.MissingDataException)throw v;(0,d.warn)("Unable to read page labels.")}return(0,d.shadow)(this,"pageLabels",p)}_readPageLabels(){const p=this._catDict.getRaw("PageLabels");if(!p)return null;const v=new Array(this.numPages);let b=null,N="";const D=new e.NumberTree(p,this.xref).getAll();let I="",B=1;for(let _=0,P=this.numPages;_<P;_++){const X=D.get(_);if(X!==void 0){if(!(X instanceof T.Dict))throw new d.FormatError("PageLabel is not a dictionary.");if(X.has("Type")&&!(0,T.isName)(X.get("Type"),"PageLabel"))throw new d.FormatError("Invalid type in PageLabel dictionary.");if(X.has("S")){const m=X.get("S");if(!(m instanceof T.Name))throw new d.FormatError("Invalid style in PageLabel dictionary.");b=m.name}else b=null;if(X.has("P")){const m=X.get("P");if(typeof m!="string")throw new d.FormatError("Invalid prefix in PageLabel dictionary.");N=(0,d.stringToPDFString)(m)}else N="";if(X.has("St")){const m=X.get("St");if(!(Number.isInteger(m)&&m>=1))throw new d.FormatError("Invalid start in PageLabel dictionary.");B=m}else B=1}switch(b){case"D":I=B;break;case"R":case"r":I=(0,n.toRomanNumerals)(B,b==="r");break;case"A":case"a":const m=26,z=b==="a"?97:65,O=B-1;I=String.fromCharCode(z+O%m).repeat(Math.floor(O/m)+1);break;default:if(b)throw new d.FormatError(`Invalid style "${b}" in PageLabel dictionary.`);I=""}v[_]=N+I,B++}return v}get pageLayout(){const p=this._catDict.get("PageLayout");let v="";if(p instanceof T.Name)switch(p.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":v=p.name}return(0,d.shadow)(this,"pageLayout",v)}get pageMode(){const p=this._catDict.get("PageMode");let v="UseNone";if(p instanceof T.Name)switch(p.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":v=p.name}return(0,d.shadow)(this,"pageMode",v)}get viewerPreferences(){const p=this._catDict.get("ViewerPreferences");if(!(p instanceof T.Dict))return(0,d.shadow)(this,"viewerPreferences",null);let v=null;for(const b of p.getKeys()){const N=p.get(b);let U;switch(b){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof N=="boolean"&&(U=N);break;case"NonFullScreenPageMode":if(N instanceof T.Name)switch(N.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":U=N.name;break;default:U="UseNone"}break;case"Direction":if(N instanceof T.Name)switch(N.name){case"L2R":case"R2L":U=N.name;break;default:U="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(N instanceof T.Name)switch(N.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":U=N.name;break;default:U="CropBox"}break;case"PrintScaling":if(N instanceof T.Name)switch(N.name){case"None":case"AppDefault":U=N.name;break;default:U="AppDefault"}break;case"Duplex":if(N instanceof T.Name)switch(N.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":U=N.name;break;default:U="None"}break;case"PrintPageRange":Array.isArray(N)&&N.length%2===0&&N.every((I,B,_)=>Number.isInteger(I)&&I>0&&(B===0||I>=_[B-1])&&I<=this.numPages)&&(U=N);break;case"NumCopies":Number.isInteger(N)&&N>0&&(U=N);break;default:(0,d.warn)(`Ignoring non-standard key in ViewerPreferences: ${b}.`);continue}if(U===void 0){(0,d.warn)(`Bad value, for key "${b}", in ViewerPreferences: ${N}.`);continue}v||(v=Object.create(null)),v[b]=U}return(0,d.shadow)(this,"viewerPreferences",v)}get openAction(){const p=this._catDict.get("OpenAction"),v=Object.create(null);if(p instanceof T.Dict){const b=new T.Dict(this.xref);b.set("A",p);const N={url:null,dest:null,action:null};i.parseDestDictionary({destDict:b,resultObj:N}),Array.isArray(N.dest)?v.dest=N.dest:N.action&&(v.action=N.action)}else Array.isArray(p)&&(v.dest=p);return(0,d.shadow)(this,"openAction",(0,d.objectSize)(v)>0?v:null)}get attachments(){const p=this._catDict.get("Names");let v=null;if(p instanceof T.Dict&&p.has("EmbeddedFiles")){const b=new e.NameTree(p.getRaw("EmbeddedFiles"),this.xref);for(const[N,U]of b.getAll()){const D=new F.FileSpec(U,this.xref);v||(v=Object.create(null)),v[(0,d.stringToPDFString)(N)]=D.serializable}}return(0,d.shadow)(this,"attachments",v)}get xfaImages(){const p=this._catDict.get("Names");let v=null;if(p instanceof T.Dict&&p.has("XFAImages")){const b=new e.NameTree(p.getRaw("XFAImages"),this.xref);for(const[N,U]of b.getAll())v||(v=new T.Dict(this.xref)),v.set((0,d.stringToPDFString)(N),U)}return(0,d.shadow)(this,"xfaImages",v)}_collectJavaScript(){const p=this._catDict.get("Names");let v=null;function b(U,D){if(!(D instanceof T.Dict)||!(0,T.isName)(D.get("S"),"JavaScript"))return;let I=D.get("JS");if(I instanceof t.BaseStream)I=I.getString();else if(typeof I!="string")return;I=(0,d.stringToPDFString)(I).replaceAll("\0",""),I&&(v||(v=new Map)).set(U,I)}if(p instanceof T.Dict&&p.has("JavaScript")){const U=new e.NameTree(p.getRaw("JavaScript"),this.xref);for(const[D,I]of U.getAll())b((0,d.stringToPDFString)(D),I)}const N=this._catDict.get("OpenAction");return N&&b("OpenAction",N),v}get jsActions(){const p=this._collectJavaScript();let v=(0,n.collectActions)(this.xref,this._catDict,d.DocumentActionEventType);if(p){v||(v=Object.create(null));for(const[b,N]of p)b in v?v[b].push(N):v[b]=[N]}return(0,d.shadow)(this,"jsActions",v)}async fontFallback(p,v){const b=await Promise.all(this.fontCache);for(const N of b)if(N.loadedName===p){N.fallback(v);return}}async cleanup(p=!1){(0,l.clearGlobalCaches)(),this.globalImageCache.clear(p),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const v=await Promise.all(this.fontCache);for(const{dict:b}of v)delete b.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(p){const v=[this.toplevelPagesDict],b=new T.RefSet,N=this._catDict.getRaw("Pages");N instanceof T.Ref&&b.put(N);const U=this.xref,D=this.pageKidsCountCache,I=this.pageIndexCache;let B=0;for(;v.length;){const _=v.pop();if(_ instanceof T.Ref){const S=D.get(_);if(S>=0&&B+S<=p){B+=S;continue}if(b.has(_))throw new d.FormatError("Pages tree contains circular reference.");b.put(_);const R=await U.fetchAsync(_);if(R instanceof T.Dict){let z=R.getRaw("Type");if(z instanceof T.Ref&&(z=await U.fetchAsync(z)),(0,T.isName)(z,"Page")||!R.has("Kids")){if(D.has(_)||D.put(_,1),I.has(_)||I.put(_,B),B===p)return[R,_];B++;continue}}v.push(R);continue}if(!(_ instanceof T.Dict))throw new d.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:P}=_;let X=_.getRaw("Count");if(X instanceof T.Ref&&(X=await U.fetchAsync(X)),Number.isInteger(X)&&X>=0&&(P&&!D.has(P)&&D.put(P,X),B+X<=p)){B+=X;continue}let m=_.getRaw("Kids");if(m instanceof T.Ref&&(m=await U.fetchAsync(m)),!Array.isArray(m)){let S=_.getRaw("Type");if(S instanceof T.Ref&&(S=await U.fetchAsync(S)),(0,T.isName)(S,"Page")||!_.has("Kids")){if(B===p)return[_,null];B++;continue}throw new d.FormatError("Page dictionary kids object is not an array.")}for(let S=m.length-1;S>=0;S--)v.push(m[S])}throw new Error(`Page index ${p} not found.`)}async getAllPageDicts(p=!1){const{ignoreErrors:v}=this.pdfManager.evaluatorOptions,b=[{currentNode:this.toplevelPagesDict,posInKids:0}],N=new T.RefSet,U=this._catDict.getRaw("Pages");U instanceof T.Ref&&N.put(U);const D=new Map,I=this.xref,B=this.pageIndexCache;let _=0;function P(m,S){S&&!B.has(S)&&B.put(S,_),D.set(_++,[m,S])}function X(m){if(m instanceof n.XRefEntryException&&!p)throw m;p&&v&&_===0&&((0,d.warn)(`getAllPageDicts - Skipping invalid first page: "${m}".`),m=T.Dict.empty),D.set(_++,[m,null])}for(;b.length>0;){const m=b.at(-1),{currentNode:S,posInKids:R}=m;let z=S.getRaw("Kids");if(z instanceof T.Ref)try{z=await I.fetchAsync(z)}catch(M){X(M);break}if(!Array.isArray(z)){X(new d.FormatError("Page dictionary kids object is not an array."));break}if(R>=z.length){b.pop();continue}const O=z[R];let E;if(O instanceof T.Ref){if(N.has(O)){X(new d.FormatError("Pages tree contains circular reference."));break}N.put(O);try{E=await I.fetchAsync(O)}catch(M){X(M);break}}else E=O;if(!(E instanceof T.Dict)){X(new d.FormatError("Page dictionary kid reference points to wrong type of object."));break}let k=E.getRaw("Type");if(k instanceof T.Ref)try{k=await I.fetchAsync(k)}catch(M){X(M);break}(0,T.isName)(k,"Page")||!E.has("Kids")?P(E,O instanceof T.Ref?O:null):b.push({currentNode:E,posInKids:0}),m.posInKids++}return D}getPageIndex(p){const v=this.pageIndexCache.get(p);if(v!==void 0)return Promise.resolve(v);const b=this.xref;function N(I){let B=0,_;return b.fetchAsync(I).then(function(P){if((0,T.isRefsEqual)(I,p)&&!(0,T.isDict)(P,"Page")&&!(P instanceof T.Dict&&!P.has("Type")&&P.has("Contents")))throw new d.FormatError("The reference does not point to a /Page dictionary.");if(!P)return null;if(!(P instanceof T.Dict))throw new d.FormatError("Node must be a dictionary.");return _=P.getRaw("Parent"),P.getAsync("Parent")}).then(function(P){if(!P)return null;if(!(P instanceof T.Dict))throw new d.FormatError("Parent must be a dictionary.");return P.getAsync("Kids")}).then(function(P){if(!P)return null;const X=[];let m=!1;for(const S of P){if(!(S instanceof T.Ref))throw new d.FormatError("Kid must be a reference.");if((0,T.isRefsEqual)(S,I)){m=!0;break}X.push(b.fetchAsync(S).then(function(R){if(!(R instanceof T.Dict))throw new d.FormatError("Kid node must be a dictionary.");R.has("Count")?B+=R.get("Count"):B++}))}if(!m)throw new d.FormatError("Kid reference not found in parent's kids.");return Promise.all(X).then(function(){return[B,_]})})}let U=0;const D=I=>N(I).then(B=>{if(!B)return this.pageIndexCache.put(p,U),U;const[_,P]=B;return U+=_,D(P)});return D(p)}get baseUrl(){const p=this._catDict.get("URI");if(p instanceof T.Dict){const v=p.get("Base");if(typeof v=="string"){const b=(0,d.createValidAbsoluteUrl)(v,null,{tryConvertEncoding:!0});if(b)return(0,d.shadow)(this,"baseUrl",b.href)}}return(0,d.shadow)(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:p,resultObj:v,docBaseUrl:b=null,docAttachments:N=null}){if(!(p instanceof T.Dict)){(0,d.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}let U=p.get("A"),D,I;if(U instanceof T.Dict||(p.has("Dest")?U=p.get("Dest"):(U=p.get("AA"),U instanceof T.Dict&&(U.has("D")?U=U.get("D"):U.has("U")&&(U=U.get("U"))))),U instanceof T.Dict){const B=U.get("S");if(!(B instanceof T.Name)){(0,d.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const _=B.name;switch(_){case"ResetForm":const P=U.get("Flags"),X=((typeof P=="number"?P:0)&1)===0,m=[],S=[];for(const y of U.get("Fields")||[])y instanceof T.Ref?S.push(y.toString()):typeof y=="string"&&m.push((0,d.stringToPDFString)(y));v.resetForm={fields:m,refs:S,include:X};break;case"URI":D=U.get("URI"),D instanceof T.Name&&(D="/"+D.name);break;case"GoTo":I=U.get("D");break;case"Launch":case"GoToR":const R=U.get("F");R instanceof T.Dict?D=R.get("F")||null:typeof R=="string"&&(D=R);let z=U.get("D");if(z&&(z instanceof T.Name&&(z=z.name),typeof D=="string")){const y=D.split("#")[0];typeof z=="string"?D=y+"#"+z:Array.isArray(z)&&(D=y+"#"+JSON.stringify(z))}const O=U.get("NewWindow");typeof O=="boolean"&&(v.newWindow=O);break;case"GoToE":const E=U.get("T");let k;if(N&&E instanceof T.Dict){const y=E.get("R"),q=E.get("N");(0,T.isName)(y,"C")&&typeof q=="string"&&(k=N[(0,d.stringToPDFString)(q)])}k?v.attachment=k:(0,d.warn)('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const M=U.get("N");M instanceof T.Name&&(v.action=M.name);break;case"SetOCGState":const a=U.get("State"),o=U.get("PreserveRB");if(!Array.isArray(a)||a.length===0)break;const r=[];for(const y of a)if(y instanceof T.Name)switch(y.name){case"ON":case"OFF":case"Toggle":r.push(y.name);break}else y instanceof T.Ref&&r.push(y.toString());if(r.length!==a.length)break;v.setOCGState={state:r,preserveRB:typeof o=="boolean"?o:!0};break;case"JavaScript":const s=U.get("JS");let A;s instanceof t.BaseStream?A=s.getString():typeof s=="string"&&(A=s);const c=A&&(0,n.recoverJsURL)((0,d.stringToPDFString)(A));if(c){D=c.url,v.newWindow=c.newWindow;break}default:if(_==="JavaScript"||_==="SubmitForm")break;(0,d.warn)(`parseDestDictionary - unsupported action: "${_}".`);break}}else p.has("Dest")&&(I=p.get("Dest"));if(typeof D=="string"){const B=(0,d.createValidAbsoluteUrl)(D,b,{addDefaultProtocol:!0,tryConvertEncoding:!0});B&&(v.url=B.href),v.unsafeUrl=D}I&&(I instanceof T.Name&&(I=I.name),typeof I=="string"?v.dest=(0,d.stringToPDFString)(I):Array.isArray(I)&&(v.dest=I))}}f.Catalog=i},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NumberTree=f.NameTree=void 0;var n=$(4),d=$(2);class T{constructor(L,F,g){this.constructor===T&&(0,d.unreachable)("Cannot initialize NameOrNumberTree."),this.root=L,this.xref=F,this._type=g}getAll(){const L=new Map;if(!this.root)return L;const F=this.xref,g=new n.RefSet;g.put(this.root);const w=[this.root];for(;w.length>0;){const u=F.fetchIfRef(w.shift());if(!(u instanceof n.Dict))continue;if(u.has("Kids")){const i=u.get("Kids");if(!Array.isArray(i))continue;for(const x of i){if(g.has(x))throw new d.FormatError(`Duplicate entry in "${this._type}" tree.`);w.push(x),g.put(x)}continue}const h=u.get(this._type);if(Array.isArray(h))for(let i=0,x=h.length;i<x;i+=2)L.set(F.fetchIfRef(h[i]),F.fetchIfRef(h[i+1]))}return L}get(L){if(!this.root)return null;const F=this.xref;let g=F.fetchIfRef(this.root),w=0;const u=10;for(;g.has("Kids");){if(++w>u)return(0,d.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const i=g.get("Kids");if(!Array.isArray(i))return null;let x=0,p=i.length-1;for(;x<=p;){const v=x+p>>1,b=F.fetchIfRef(i[v]),N=b.get("Limits");if(L<F.fetchIfRef(N[0]))p=v-1;else if(L>F.fetchIfRef(N[1]))x=v+1;else{g=b;break}}if(x>p)return null}const h=g.get(this._type);if(Array.isArray(h)){let i=0,x=h.length-2;for(;i<=x;){const p=i+x>>1,v=p+(p&1),b=F.fetchIfRef(h[v]);if(L<b)x=v-2;else if(L>b)i=v+2;else return F.fetchIfRef(h[v+1])}}return null}}class e extends T{constructor(L,F){super(L,F,"Names")}}f.NameTree=e;class t extends T{constructor(L,F){super(L,F,"Nums")}}f.NumberTree=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.clearGlobalCaches=e;var n=$(50),d=$(4),T=$(40);function e(){(0,n.clearPatternCaches)(),(0,d.clearPrimitiveCaches)(),(0,T.clearUnicodeCaches)()}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FileSpec=void 0;var n=$(2),d=$(5),T=$(4);function e(l){return l.has("UF")?l.get("UF"):l.has("F")?l.get("F"):l.has("Unix")?l.get("Unix"):l.has("Mac")?l.get("Mac"):l.has("DOS")?l.get("DOS"):null}class t{constructor(L,F){L instanceof T.Dict&&(this.xref=F,this.root=L,L.has("FS")&&(this.fs=L.get("FS")),this.description=L.has("Desc")?(0,n.stringToPDFString)(L.get("Desc")):"",L.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,L.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const L=e(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(L).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=e(this.root.get("EF")));let L=null;if(this.contentRef){const F=this.xref.fetchIfRef(this.contentRef);F instanceof d.BaseStream?L=F.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return L}get serializable(){return{filename:this.filename,content:this.content}}}f.FileSpec=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.MetadataParser=void 0;var n=$(71);class d{constructor(e){e=this._repair(e);const l=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,l&&this._parse(l)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(t,l){const L=l.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(g,w,u,h){return String.fromCharCode(w*64+u*8+h*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(g,w){switch(w){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${w} isn't defined.`)}),F=[">"];for(let g=0,w=L.length;g<w;g+=2){const u=L.charCodeAt(g)*256+L.charCodeAt(g+1);u>=32&&u<127&&u!==60&&u!==62&&u!==38?F.push(String.fromCharCode(u)):F.push("&#x"+(65536+u).toString(16).substring(1)+";")}return F.join("")})}_getSequence(e){const t=e.nodeName;return t!=="rdf:bag"&&t!=="rdf:seq"&&t!=="rdf:alt"?null:e.childNodes.filter(l=>l.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[t]=e.childNodes,l=this._getSequence(t)||[];this._metadataMap.set(e.nodeName,l.map(L=>L.textContent.trim()))}_parse(e){let t=e.documentElement;if(t.nodeName!=="rdf:rdf")for(t=t.firstChild;t&&t.nodeName!=="rdf:rdf";)t=t.nextSibling;if(!(!t||t.nodeName!=="rdf:rdf"||!t.hasChildNodes())){for(const l of t.childNodes)if(l.nodeName==="rdf:description")for(const L of l.childNodes){const F=L.nodeName;switch(F){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(L);continue}this._metadataMap.set(F,L.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}f.MetadataParser=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XMLParserErrorCode=f.XMLParserBase=f.SimpleXMLParser=f.SimpleDOMNode=void 0;var n=$(3);const d={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};f.XMLParserErrorCode=d;function T(F,g){const w=F[g];return w===" "||w===`
`||w==="\r"||w==="	"}function e(F){for(let g=0,w=F.length;g<w;g++)if(!T(F,g))return!1;return!0}class t{_resolveEntities(g){return g.replaceAll(/&([^;]+);/g,(w,u)=>{if(u.substring(0,2)==="#x")return String.fromCodePoint(parseInt(u.substring(2),16));if(u.substring(0,1)==="#")return String.fromCodePoint(parseInt(u.substring(1),10));switch(u){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(u)})}_parseContent(g,w){const u=[];let h=w;function i(){for(;h<g.length&&T(g,h);)++h}for(;h<g.length&&!T(g,h)&&g[h]!==">"&&g[h]!=="/";)++h;const x=g.substring(w,h);for(i();h<g.length&&g[h]!==">"&&g[h]!=="/"&&g[h]!=="?";){i();let p="",v="";for(;h<g.length&&!T(g,h)&&g[h]!=="=";)p+=g[h],++h;if(i(),g[h]!=="=")return null;++h,i();const b=g[h];if(b!=='"'&&b!=="'")return null;const N=g.indexOf(b,++h);if(N<0)return null;v=g.substring(h,N),u.push({name:p,value:this._resolveEntities(v)}),h=N+1,i()}return{name:x,attributes:u,parsed:h-w}}_parseProcessingInstruction(g,w){let u=w;function h(){for(;u<g.length&&T(g,u);)++u}for(;u<g.length&&!T(g,u)&&g[u]!==">"&&g[u]!=="?"&&g[u]!=="/";)++u;const i=g.substring(w,u);h();const x=u;for(;u<g.length&&(g[u]!=="?"||g[u+1]!==">");)++u;const p=g.substring(x,u);return{name:i,value:p,parsed:u-w}}parseXml(g){let w=0;for(;w<g.length;){const u=g[w];let h=w;if(u==="<"){++h;const i=g[h];let x;switch(i){case"/":if(++h,x=g.indexOf(">",h),x<0){this.onError(d.UnterminatedElement);return}this.onEndElement(g.substring(h,x)),h=x+1;break;case"?":++h;const p=this._parseProcessingInstruction(g,h);if(g.substring(h+p.parsed,h+p.parsed+2)!=="?>"){this.onError(d.UnterminatedXmlDeclaration);return}this.onPi(p.name,p.value),h+=p.parsed+2;break;case"!":if(g.substring(h+1,h+3)==="--"){if(x=g.indexOf("-->",h+3),x<0){this.onError(d.UnterminatedComment);return}this.onComment(g.substring(h+3,x)),h=x+3}else if(g.substring(h+1,h+8)==="[CDATA["){if(x=g.indexOf("]]>",h+8),x<0){this.onError(d.UnterminatedCdat);return}this.onCdata(g.substring(h+8,x)),h=x+3}else if(g.substring(h+1,h+8)==="DOCTYPE"){const N=g.indexOf("[",h+8);let U=!1;if(x=g.indexOf(">",h+8),x<0){this.onError(d.UnterminatedDoctypeDeclaration);return}if(N>0&&x>N){if(x=g.indexOf("]>",h+8),x<0){this.onError(d.UnterminatedDoctypeDeclaration);return}U=!0}const D=g.substring(h+8,x+(U?1:0));this.onDoctype(D),h=x+(U?2:1)}else{this.onError(d.MalformedElement);return}break;default:const v=this._parseContent(g,h);if(v===null){this.onError(d.MalformedElement);return}let b=!1;if(g.substring(h+v.parsed,h+v.parsed+2)==="/>")b=!0;else if(g.substring(h+v.parsed,h+v.parsed+1)!==">"){this.onError(d.UnterminatedElement);return}this.onBeginElement(v.name,v.attributes,b),h+=v.parsed+(b?2:1);break}}else{for(;h<g.length&&g[h]!=="<";)h++;const i=g.substring(w,h);this.onText(this._resolveEntities(i))}w=h}}onResolveEntity(g){return`&${g};`}onPi(g,w){}onComment(g){}onCdata(g){}onDoctype(g){}onText(g){}onBeginElement(g,w,u){}onEndElement(g){}onError(g){}}f.XMLParserBase=t;class l{constructor(g,w){this.nodeName=g,this.nodeValue=w,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var g;return(g=this.childNodes)==null?void 0:g[0]}get nextSibling(){const g=this.parentNode.childNodes;if(!g)return;const w=g.indexOf(this);if(w!==-1)return g[w+1]}get textContent(){return this.childNodes?this.childNodes.map(function(g){return g.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var g;return((g=this.childNodes)==null?void 0:g.length)>0}searchNode(g,w){var x;if(w>=g.length)return this;const u=g[w];if(u.name.startsWith("#")&&w<g.length-1)return this.searchNode(g,w+1);const h=[];let i=this;for(;;){if(u.name===i.nodeName)if(u.pos===0){const p=i.searchNode(g,w+1);if(p!==null)return p}else{if(h.length===0)return null;{const[p]=h.pop();let v=0;for(const b of p.childNodes)if(u.name===b.nodeName){if(v===u.pos)return b.searchNode(g,w+1);v++}return i.searchNode(g,w+1)}}if(((x=i.childNodes)==null?void 0:x.length)>0)h.push([i,0]),i=i.childNodes[0];else{if(h.length===0)return null;for(;h.length!==0;){const[p,v]=h.pop(),b=v+1;if(b<p.childNodes.length){h.push([p,b]),i=p.childNodes[b];break}}if(h.length===0)return null}}}dump(g){if(this.nodeName==="#text"){g.push((0,n.encodeToXmlString)(this.nodeValue));return}if(g.push(`<${this.nodeName}`),this.attributes)for(const w of this.attributes)g.push(` ${w.name}="${(0,n.encodeToXmlString)(w.value)}"`);if(this.hasChildNodes()){g.push(">");for(const w of this.childNodes)w.dump(g);g.push(`</${this.nodeName}>`)}else this.nodeValue?g.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):g.push("/>")}}f.SimpleDOMNode=l;class L extends t{constructor({hasAttributes:g=!1,lowerCaseName:w=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=d.NoError,this._hasAttributes=g,this._lowerCaseName=w}parseFromString(g){if(this._currentFragment=[],this._stack=[],this._errorCode=d.NoError,this.parseXml(g),this._errorCode!==d.NoError)return;const[w]=this._currentFragment;if(w)return{documentElement:w}}onText(g){if(e(g))return;const w=new l("#text",g);this._currentFragment.push(w)}onCdata(g){const w=new l("#text",g);this._currentFragment.push(w)}onBeginElement(g,w,u){this._lowerCaseName&&(g=g.toLowerCase());const h=new l(g);h.childNodes=[],this._hasAttributes&&(h.attributes=w),this._currentFragment.push(h),!u&&(this._stack.push(this._currentFragment),this._currentFragment=h.childNodes)}onEndElement(g){this._currentFragment=this._stack.pop()||[];const w=this._currentFragment.at(-1);if(!w)return null;for(const u of w.childNodes)u.parentNode=w;return w}onError(g){this._errorCode=g}}f.SimpleXMLParser=L},(fe,f,$)=>{var u,Ur,i,Qi,p,qr,b,Hr;Object.defineProperty(f,"__esModule",{value:!0}),f.StructTreeRoot=f.StructTreePage=void 0;var n=$(2),d=$(4),T=$(67),e=$(73);const t=40,l={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5},U=class U{constructor(I,B){je(this,u);this.dict=I,this.ref=B instanceof d.Ref?B:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(I,B){qe(this,u,Ur).call(this,I,B,l.ANNOTATION)}readRoleMap(){const I=this.dict.get("RoleMap");I instanceof d.Dict&&I.forEach((B,_)=>{_ instanceof d.Name&&this.roleMap.set(B,_.name)})}static async canCreateStructureTree({catalogRef:I,pdfManager:B,newAnnotationsByPage:_}){var m;if(!(I instanceof d.Ref))return(0,n.warn)("Cannot save the struct tree: no catalog reference."),!1;let P=0,X=!0;for(const[S,R]of _){const{ref:z}=await B.getPage(S);if(!(z instanceof d.Ref)){(0,n.warn)(`Cannot save the struct tree: page ${S} has no ref.`),X=!0;break}for(const O of R)(m=O.accessibilityData)!=null&&m.type&&(O.parentTreeId=P++,X=!1)}if(X){for(const S of _.values())for(const R of S)delete R.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:I,xref:B,catalogRef:_,pdfManager:P,newRefs:X}){const m=P.catalog.cloneDict(),S=B.getNewTemporaryRef();m.set("StructTreeRoot",S);const R=[];await(0,e.writeObject)(_,m,R,B),X.push({ref:_,data:R.join("")});const z=new d.Dict(B);z.set("Type",d.Name.get("StructTreeRoot"));const O=B.getNewTemporaryRef();z.set("ParentTree",O);const E=[];z.set("K",E);const k=new d.Dict(B),M=[];k.set("Nums",M);const a=await qe(this,i,Qi).call(this,{newAnnotationsByPage:I,structTreeRootRef:S,kids:E,nums:M,xref:B,pdfManager:P,newRefs:X,buffer:R});z.set("ParentTreeNextKey",a),R.length=0,await(0,e.writeObject)(O,k,R,B),X.push({ref:O,data:R.join("")}),R.length=0,await(0,e.writeObject)(S,z,R,B),X.push({ref:S,data:R.join("")})}async canUpdateStructTree({pdfManager:I,newAnnotationsByPage:B}){var R,z;if(!this.ref)return(0,n.warn)("Cannot update the struct tree: no root reference."),!1;let _=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(_)||_<0)return(0,n.warn)("Cannot update the struct tree: invalid next key."),!1;const P=this.dict.get("ParentTree");if(!(P instanceof d.Dict))return(0,n.warn)("Cannot update the struct tree: ParentTree isn't a dict."),!1;const X=P.get("Nums");if(!Array.isArray(X))return(0,n.warn)("Cannot update the struct tree: nums isn't an array."),!1;const{numPages:m}=I.catalog;for(const O of B.keys()){const{pageDict:E,ref:k}=await I.getPage(O);if(!(k instanceof d.Ref))return(0,n.warn)(`Cannot save the struct tree: page ${O} has no ref.`),!1;const M=E.get("StructParents");if(!Number.isInteger(M)||M<0||M>=m)return(0,n.warn)(`Cannot save the struct tree: page ${O} has no id.`),!1}let S=!0;for(const[O,E]of B){const{pageDict:k}=await I.getPage(O);qe(R=U,p,qr).call(R,{elements:E,xref:this.dict.xref,pageDict:k,parentTree:P});for(const M of E)(z=M.accessibilityData)!=null&&z.type&&(M.parentTreeId=_++,S=!1)}if(S){for(const O of B.values())for(const E of O)delete E.parentTreeId,delete E.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:I,pdfManager:B,newRefs:_}){var o;const P=this.dict.xref,X=this.dict.clone(),m=this.ref;let S=X.getRaw("ParentTree"),R;S instanceof d.Ref?R=P.fetch(S):(R=S,S=P.getNewTemporaryRef(),X.set("ParentTree",S)),R=R.clone();let z=R.getRaw("Nums"),O=null;z instanceof d.Ref&&(O=z,z=P.fetch(O)),z=z.slice(),O||R.set("Nums",z);let E=X.getRaw("K"),k=null;E instanceof d.Ref?(k=E,E=P.fetch(k)):(k=P.getNewTemporaryRef(),X.set("K",k)),E=Array.isArray(E)?E.slice():[E];const M=[],a=await qe(o=U,i,Qi).call(o,{newAnnotationsByPage:I,structTreeRootRef:m,kids:E,nums:z,xref:P,pdfManager:B,newRefs:_,buffer:M});X.set("ParentTreeNextKey",a),M.length=0,await(0,e.writeObject)(k,E,M,P),_.push({ref:k,data:M.join("")}),O&&(M.length=0,await(0,e.writeObject)(O,z,M,P),_.push({ref:O,data:M.join("")})),M.length=0,await(0,e.writeObject)(S,R,M,P),_.push({ref:S,data:M.join("")}),M.length=0,await(0,e.writeObject)(m,X,M,P),_.push({ref:m,data:M.join("")})}};u=new WeakSet,Ur=function(I,B,_){if(!(I instanceof d.Ref)||B<0)return;this.structParentIds||(this.structParentIds=new d.RefSetCache);let P=this.structParentIds.get(I);P||(P=[],this.structParentIds.put(I,P)),P.push([B,_])},i=new WeakSet,Qi=async function({newAnnotationsByPage:I,structTreeRootRef:B,kids:_,nums:P,xref:X,pdfManager:m,newRefs:S,buffer:R}){const z=d.Name.get("OBJR");let O=-1/0;for(const[E,k]of I){const{ref:M}=await m.getPage(E);for(const{accessibilityData:{type:a,title:o,lang:r,alt:s,expanded:A,actualText:c},ref:y,parentTreeId:q,structTreeParent:re}of k){O=Math.max(O,q);const Q=X.getNewTemporaryRef(),de=new d.Dict(X);de.set("S",d.Name.get(a)),o&&de.set("T",o),r&&de.set("Lang",r),s&&de.set("Alt",s),A&&de.set("E",A),c&&de.set("ActualText",c),re?await qe(this,b,Hr).call(this,{structTreeParent:re,tagDict:de,newTagRef:Q,fallbackRef:B,xref:X,newRefs:S,buffer:R}):de.set("P",B);const ee=new d.Dict(X);de.set("K",ee),ee.set("Type",z),ee.set("Pg",M),ee.set("Obj",y),R.length=0,await(0,e.writeObject)(Q,de,R,X),S.push({ref:Q,data:R.join("")}),P.push(q,Q),_.push(Q)}}return O+1},p=new WeakSet,qr=function({elements:I,xref:B,pageDict:_,parentTree:P}){const X=new Map;for(const O of I)if(O.structTreeParentId){const E=parseInt(O.structTreeParentId.split("_mc")[1],10);X.set(E,O)}const m=_.get("StructParents"),R=new T.NumberTree(P,B).get(m);if(!Array.isArray(R))return;const z=(O,E,k)=>{const M=X.get(O);if(M){const a=E.getRaw("P"),o=B.fetchIfRef(a);return a instanceof d.Ref&&o instanceof d.Dict&&(M.structTreeParent={ref:k,dict:E}),!0}return!1};for(const O of R){if(!(O instanceof d.Ref))continue;const E=B.fetch(O),k=E.get("K");if(Number.isInteger(k)){z(k,E,O);continue}if(Array.isArray(k)){for(let M of k)if(M=B.fetchIfRef(M),Number.isInteger(M)&&z(M,E,O))break}}},b=new WeakSet,Hr=async function({structTreeParent:{ref:I,dict:B},tagDict:_,newTagRef:P,fallbackRef:X,xref:m,newRefs:S,buffer:R}){const z=B.getRaw("P");let O=m.fetchIfRef(z);_.set("P",z);let E=!1,k,M=O.getRaw("K");if(M instanceof d.Ref?k=m.fetch(M):(k=M,M=m.getNewTemporaryRef(),O=O.clone(),O.set("K",M),E=!0),Array.isArray(k)){const a=k.indexOf(I);if(a>=0)k=k.slice(),k.splice(a+1,0,P);else{(0,n.warn)("Cannot update the struct tree: parent kid not found."),_.set("P",X);return}}else k instanceof d.Dict&&(k=[M,P],M=m.getNewTemporaryRef(),O.set("K",M),E=!0);R.length=0,await(0,e.writeObject)(M,k,R,m),S.push({ref:M,data:R.join("")}),E&&(R.length=0,await(0,e.writeObject)(z,O,R,m),S.push({ref:z,data:R.join("")}))},je(U,i),je(U,p),je(U,b);let L=U;f.StructTreeRoot=L;class F{constructor(I,B){this.tree=I,this.dict=B,this.kids=[],this.parseKids()}get role(){const I=this.dict.get("S"),B=I instanceof d.Name?I.name:"",{root:_}=this.tree;return _.roleMap.has(B)?_.roleMap.get(B):B}parseKids(){let I=null;const B=this.dict.getRaw("Pg");B instanceof d.Ref&&(I=B.toString());const _=this.dict.get("K");if(Array.isArray(_))for(const P of _){const X=this.parseKid(I,P);X&&this.kids.push(X)}else{const P=this.parseKid(I,_);P&&this.kids.push(P)}}parseKid(I,B){if(Number.isInteger(B))return this.tree.pageDict.objId!==I?null:new g({type:l.PAGE_CONTENT,mcid:B,pageObjId:I});let _=null;if(B instanceof d.Ref?_=this.dict.xref.fetch(B):B instanceof d.Dict&&(_=B),!_)return null;const P=_.getRaw("Pg");P instanceof d.Ref&&(I=P.toString());const X=_.get("Type")instanceof d.Name?_.get("Type").name:null;if(X==="MCR"){if(this.tree.pageDict.objId!==I)return null;const m=_.getRaw("Stm");return new g({type:l.STREAM_CONTENT,refObjId:m instanceof d.Ref?m.toString():null,pageObjId:I,mcid:_.get("MCID")})}if(X==="OBJR"){if(this.tree.pageDict.objId!==I)return null;const m=_.getRaw("Obj");return new g({type:l.OBJECT,refObjId:m instanceof d.Ref?m.toString():null,pageObjId:I})}return new g({type:l.ELEMENT,dict:_})}}class g{constructor({type:I,dict:B=null,mcid:_=null,pageObjId:P=null,refObjId:X=null}){this.type=I,this.dict=B,this.mcid=_,this.pageObjId=P,this.refObjId=X,this.parentNode=null}}class w{constructor(I,B){this.root=I,this.rootDict=I?I.dict:null,this.pageDict=B,this.nodes=[]}parse(I){var S,R;if(!this.root||!this.rootDict)return;const B=this.rootDict.get("ParentTree");if(!B)return;const _=this.pageDict.get("StructParents"),P=I instanceof d.Ref&&((S=this.root.structParentIds)==null?void 0:S.get(I));if(!Number.isInteger(_)&&!P)return;const X=new Map,m=new T.NumberTree(B,this.rootDict.xref);if(Number.isInteger(_)){const z=m.get(_);if(Array.isArray(z))for(const O of z)O instanceof d.Ref&&this.addNode(this.rootDict.xref.fetch(O),X)}if(P)for(const[z,O]of P){const E=m.get(z);if(E){const k=this.addNode(this.rootDict.xref.fetchIfRef(E),X);((R=k==null?void 0:k.kids)==null?void 0:R.length)===1&&k.kids[0].type===l.OBJECT&&(k.kids[0].type=O)}}}addNode(I,B,_=0){if(_>t)return(0,n.warn)("StructTree MAX_DEPTH reached."),null;if(B.has(I))return B.get(I);const P=new F(this,I);B.set(I,P);const X=I.get("P");if(!X||(0,d.isName)(X.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(I,P)||B.delete(I),P;const m=this.addNode(X,B,_+1);if(!m)return P;let S=!1;for(const R of m.kids)R.type===l.ELEMENT&&R.dict===I&&(R.parentNode=P,S=!0);return S||B.delete(I),P}addTopLevelNode(I,B){const _=this.rootDict.get("K");if(!_)return!1;if(_ instanceof d.Dict)return _.objId!==I.objId?!1:(this.nodes[0]=B,!0);if(!Array.isArray(_))return!0;let P=!1;for(let X=0;X<_.length;X++){const m=_[X];(m==null?void 0:m.toString())===I.objId&&(this.nodes[X]=B,P=!0)}return P}get serializable(){function I(_,P,X=0){if(X>t){(0,n.warn)("StructTree too deep to be fully serialized.");return}const m=Object.create(null);m.role=_.role,m.children=[],P.children.push(m);const S=_.dict.get("Alt");typeof S=="string"&&(m.alt=(0,n.stringToPDFString)(S));const R=_.dict.get("Lang");typeof R=="string"&&(m.lang=(0,n.stringToPDFString)(R));for(const z of _.kids){const O=z.type===l.ELEMENT?z.parentNode:null;if(O){I(O,m,X+1);continue}else z.type===l.PAGE_CONTENT||z.type===l.STREAM_CONTENT?m.children.push({type:"content",id:`p${z.pageObjId}_mc${z.mcid}`}):z.type===l.OBJECT?m.children.push({type:"object",id:z.refObjId}):z.type===l.ANNOTATION&&m.children.push({type:"annotation",id:`${n.AnnotationPrefix}${z.refObjId}`})}}const B=Object.create(null);B.children=[],B.role="Root";for(const _ of this.nodes)_&&I(_,B);return B}}f.StructTreePage=w},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.incrementalUpdate=N,f.writeDict=F,f.writeObject=L;var n=$(2),d=$(4),T=$(3),e=$(71),t=$(5),l=$(74);async function L(U,D,I,{encrypt:B=null}){const _=B==null?void 0:B.createCipherTransform(U.num,U.gen);I.push(`${U.num} ${U.gen} obj
`),D instanceof d.Dict?await F(D,I,_):D instanceof t.BaseStream?await g(D,I,_):Array.isArray(D)&&await w(D,I,_),I.push(`
endobj
`)}async function F(U,D,I){D.push("<<");for(const B of U.getKeys())D.push(` /${(0,T.escapePDFName)(B)} `),await u(U.getRaw(B),D,I);D.push(">>")}async function g(U,D,I){let B=U.getString();const{dict:_}=U,[P,X]=await Promise.all([_.getAsync("Filter"),_.getAsync("DecodeParms")]),m=Array.isArray(P)?await _.xref.fetchIfRefAsync(P[0]):P,S=(0,d.isName)(m,"FlateDecode");if(typeof CompressionStream<"u"&&(B.length>=256||S))try{const z=(0,n.stringToBytes)(B),O=new CompressionStream("deflate"),E=O.writable.getWriter();E.write(z),E.close();const k=await new Response(O.readable).arrayBuffer();B=(0,n.bytesToString)(new Uint8Array(k));let M,a;P?S||(M=Array.isArray(P)?[d.Name.get("FlateDecode"),...P]:[d.Name.get("FlateDecode"),P],X&&(a=Array.isArray(X)?[null,...X]:[null,X])):M=d.Name.get("FlateDecode"),M&&_.set("Filter",M),a&&_.set("DecodeParms",a)}catch(z){(0,n.info)(`writeStream - cannot compress data: "${z}".`)}I&&(B=I.encryptString(B)),_.set("Length",B.length),await F(_,D,I),D.push(` stream
`,B,`
endstream`)}async function w(U,D,I){D.push("[");let B=!0;for(const _ of U)B?B=!1:D.push(" "),await u(_,D,I);D.push("]")}async function u(U,D,I){U instanceof d.Name?D.push(`/${(0,T.escapePDFName)(U.name)}`):U instanceof d.Ref?D.push(`${U.num} ${U.gen} R`):Array.isArray(U)?await w(U,D,I):typeof U=="string"?(I&&(U=I.encryptString(U)),D.push(`(${(0,T.escapeString)(U)})`)):typeof U=="number"?D.push((0,T.numberToString)(U)):typeof U=="boolean"?D.push(U.toString()):U instanceof d.Dict?await F(U,D,I):U instanceof t.BaseStream?await g(U,D,I):U===null?D.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof U}, please file a bug.`)}function h(U,D,I,B){for(let _=D+I-1;_>I-1;_--)B[_]=U&255,U>>=8;return I+D}function i(U,D,I){for(let B=0,_=U.length;B<_;B++)I[D+B]=U.charCodeAt(B)&255}function x(U,D){const I=Math.floor(Date.now()/1e3),B=D.filename||"",_=[I.toString(),B,U.toString()];let P=_.reduce((S,R)=>S+R.length,0);for(const S of Object.values(D.info))_.push(S),P+=S.length;const X=new Uint8Array(P);let m=0;for(const S of _)i(S,m,X),m+=S.length;return(0,n.bytesToString)((0,l.calculateMD5)(X))}function p(U,D){const I=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(U);for(const{xfa:_}of D){if(!_)continue;const{path:P,value:X}=_;if(!P)continue;const m=(0,T.parseXFAPath)(P);let S=I.documentElement.searchNode(m,0);!S&&m.length>1&&(S=I.documentElement.searchNode([m.at(-1)],0)),S?S.childNodes=Array.isArray(X)?X.map(R=>new e.SimpleDOMNode("value",R)):[new e.SimpleDOMNode("#text",X)]:(0,n.warn)(`Node not found for path: ${P}`)}const B=[];return I.documentElement.dump(B),B.join("")}async function v({xref:U,acroForm:D,acroFormRef:I,hasXfa:B,hasXfaDatasetsEntry:_,xfaDatasetsRef:P,needAppearances:X,newRefs:m}){if(B&&!_&&!P&&(0,n.warn)("XFA - Cannot save it"),!X&&(!B||!P||_))return;const S=D.clone();if(B&&!_){const z=D.get("XFA").slice();z.splice(2,0,"datasets"),z.splice(3,0,P),S.set("XFA",z)}X&&S.set("NeedAppearances",!0);const R=[];await L(I,S,R,U),m.push({ref:I,data:R.join("")})}function b({xfaData:U,xfaDatasetsRef:D,newRefs:I,xref:B}){if(U===null){const X=B.fetchIfRef(D);U=p(X.getString(),I)}const _=B.encrypt;_&&(U=_.createCipherTransform(D.num,D.gen).encryptString(U));const P=`${D.num} ${D.gen} obj
<< /Type /EmbeddedFile /Length ${U.length}>>
stream
`+U+`
endstream
endobj
`;I.push({ref:D,data:P})}async function N({originalData:U,xrefInfo:D,newRefs:I,xref:B=null,hasXfa:_=!1,xfaDatasetsRef:P=null,hasXfaDatasetsEntry:X=!1,needAppearances:m,acroFormRef:S=null,acroForm:R=null,xfaData:z=null}){await v({xref:B,acroForm:R,acroFormRef:S,hasXfa:_,hasXfaDatasetsEntry:X,xfaDatasetsRef:P,needAppearances:m,newRefs:I}),_&&b({xfaData:z,xfaDatasetsRef:P,newRefs:I,xref:B});const O=new d.Dict(null),E=D.newRef;let k,M;const a=U.at(-1);a===10||a===13?(k=[],M=U.length):(k=[`
`],M=U.length+1),O.set("Size",E.num+1),O.set("Prev",D.startXRef),O.set("Type",d.Name.get("XRef")),D.rootRef!==null&&O.set("Root",D.rootRef),D.infoRef!==null&&O.set("Info",D.infoRef),D.encryptRef!==null&&O.set("Encrypt",D.encryptRef),I.push({ref:E,data:""}),I=I.sort((ue,W)=>ue.ref.num-W.ref.num);const o=[[0,1,65535]],r=[0,1];let s=0;for(const{ref:ue,data:W}of I)s=Math.max(s,M),o.push([1,M,Math.min(ue.gen,65535)]),M+=W.length,r.push(ue.num,1),k.push(W);if(O.set("Index",r),Array.isArray(D.fileIds)&&D.fileIds.length>0){const ue=x(M,D);O.set("ID",[D.fileIds[0],ue])}const c=[1,Math.ceil(Math.log2(s)/8),2],q=(c[0]+c[1]+c[2])*o.length;O.set("W",c),O.set("Length",q),k.push(`${E.num} ${E.gen} obj
`),await F(O,k,null),k.push(` stream
`);const re=k.reduce((ue,W)=>ue+W.length,0),Q=`
endstream
endobj
startxref
${M}
%%EOF
`,de=new Uint8Array(U.length+re+q+Q.length);de.set(U);let ee=U.length;for(const ue of k)i(ue,ee,de),ee+=ue.length;for(const[ue,W,Z]of o)ee=h(ue,c[0],ee,de),ee=h(W,c[1],ee,de),ee=h(Z,c[2],ee,de);return i(Q,ee,de),de}},(fe,f,$)=>{var N,U,Xr,I,er,_,zr,X,Kn,S,tr;Object.defineProperty(f,"__esModule",{value:!0}),f.calculateSHA256=f.calculateMD5=f.PDF20=f.PDF17=f.CipherTransformFactory=f.ARCFourCipher=f.AES256Cipher=f.AES128Cipher=void 0,f.calculateSHA384=g,f.calculateSHA512=void 0;var n=$(2),d=$(4),T=$(75);class e{constructor(E){this.a=0,this.b=0;const k=new Uint8Array(256),M=E.length;for(let a=0;a<256;++a)k[a]=a;for(let a=0,o=0;a<256;++a){const r=k[a];o=o+r+E[a%M]&255,k[a]=k[o],k[o]=r}this.s=k}encryptBlock(E){let k=this.a,M=this.b;const a=this.s,o=E.length,r=new Uint8Array(o);for(let s=0;s<o;++s){k=k+1&255;const A=a[k];M=M+A&255;const c=a[M];a[k]=c,a[M]=A,r[s]=E[s]^a[A+c&255]}return this.a=k,this.b=M,r}decryptBlock(E){return this.encryptBlock(E)}encrypt(E){return this.encryptBlock(E)}}f.ARCFourCipher=e;const t=function(){const E=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),k=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function M(a,o,r){let s=1732584193,A=-271733879,c=-1732584194,y=271733878;const q=r+72&-64,re=new Uint8Array(q);let Q,de;for(Q=0;Q<r;++Q)re[Q]=a[o++];re[Q++]=128;const ee=q-8;for(;Q<ee;)re[Q++]=0;re[Q++]=r<<3&255,re[Q++]=r>>5&255,re[Q++]=r>>13&255,re[Q++]=r>>21&255,re[Q++]=r>>>29&255,re[Q++]=0,re[Q++]=0,re[Q++]=0;const ue=new Int32Array(16);for(Q=0;Q<q;){for(de=0;de<16;++de,Q+=4)ue[de]=re[Q]|re[Q+1]<<8|re[Q+2]<<16|re[Q+3]<<24;let W=s,Z=A,se=c,ne=y,ie,H;for(de=0;de<64;++de){de<16?(ie=Z&se|~Z&ne,H=de):de<32?(ie=ne&Z|~ne&se,H=5*de+1&15):de<48?(ie=Z^se^ne,H=3*de+5&15):(ie=se^(Z|~ne),H=7*de&15);const Y=ne,G=W+ie+k[de]+ue[H]|0,le=E[de];ne=se,se=Z,Z=Z+(G<<le|G>>>32-le)|0,W=Y}s=s+W|0,A=A+Z|0,c=c+se|0,y=y+ne|0}return new Uint8Array([s&255,s>>8&255,s>>16&255,s>>>24&255,A&255,A>>8&255,A>>16&255,A>>>24&255,c&255,c>>8&255,c>>16&255,c>>>24&255,y&255,y>>8&255,y>>16&255,y>>>24&255])}return M}();f.calculateMD5=t;class l{constructor(E,k){this.high=E|0,this.low=k|0}and(E){this.high&=E.high,this.low&=E.low}xor(E){this.high^=E.high,this.low^=E.low}or(E){this.high|=E.high,this.low|=E.low}shiftRight(E){E>=32?(this.low=this.high>>>E-32|0,this.high=0):(this.low=this.low>>>E|this.high<<32-E,this.high=this.high>>>E|0)}shiftLeft(E){E>=32?(this.high=this.low<<E-32,this.low=0):(this.high=this.high<<E|this.low>>>32-E,this.low<<=E)}rotateRight(E){let k,M;E&32?(M=this.low,k=this.high):(k=this.low,M=this.high),E&=31,this.low=k>>>E|M<<32-E,this.high=M>>>E|k<<32-E}not(){this.high=~this.high,this.low=~this.low}add(E){const k=(this.low>>>0)+(E.low>>>0);let M=(this.high>>>0)+(E.high>>>0);k>4294967295&&(M+=1),this.low=k|0,this.high=M|0}copyTo(E,k){E[k]=this.high>>>24&255,E[k+1]=this.high>>16&255,E[k+2]=this.high>>8&255,E[k+3]=this.high&255,E[k+4]=this.low>>>24&255,E[k+5]=this.low>>16&255,E[k+6]=this.low>>8&255,E[k+7]=this.low&255}assign(E){this.high=E.high,this.low=E.low}}const L=function(){function E(y,q){return y>>>q|y<<32-q}function k(y,q,re){return y&q^~y&re}function M(y,q,re){return y&q^y&re^q&re}function a(y){return E(y,2)^E(y,13)^E(y,22)}function o(y){return E(y,6)^E(y,11)^E(y,25)}function r(y){return E(y,7)^E(y,18)^y>>>3}function s(y){return E(y,17)^E(y,19)^y>>>10}const A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function c(y,q,re){let Q=1779033703,de=3144134277,ee=1013904242,ue=2773480762,W=1359893119,Z=2600822924,se=528734635,ne=1541459225;const ie=Math.ceil((re+9)/64)*64,H=new Uint8Array(ie);let Y,G;for(Y=0;Y<re;++Y)H[Y]=y[q++];H[Y++]=128;const le=ie-8;for(;Y<le;)H[Y++]=0;H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=re>>>29&255,H[Y++]=re>>21&255,H[Y++]=re>>13&255,H[Y++]=re>>5&255,H[Y++]=re<<3&255;const ce=new Uint32Array(64);for(Y=0;Y<ie;){for(G=0;G<16;++G)ce[G]=H[Y]<<24|H[Y+1]<<16|H[Y+2]<<8|H[Y+3],Y+=4;for(G=16;G<64;++G)ce[G]=s(ce[G-2])+ce[G-7]+r(ce[G-15])+ce[G-16]|0;let te=Q,ge=de,K=ee,Se=ue,Oe=W,Me=Z,_e=se,ke=ne,oe,Ie;for(G=0;G<64;++G)oe=ke+o(Oe)+k(Oe,Me,_e)+A[G]+ce[G],Ie=a(te)+M(te,ge,K),ke=_e,_e=Me,Me=Oe,Oe=Se+oe|0,Se=K,K=ge,ge=te,te=oe+Ie|0;Q=Q+te|0,de=de+ge|0,ee=ee+K|0,ue=ue+Se|0,W=W+Oe|0,Z=Z+Me|0,se=se+_e|0,ne=ne+ke|0}return new Uint8Array([Q>>24&255,Q>>16&255,Q>>8&255,Q&255,de>>24&255,de>>16&255,de>>8&255,de&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,ue>>24&255,ue>>16&255,ue>>8&255,ue&255,W>>24&255,W>>16&255,W>>8&255,W&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,se>>24&255,se>>16&255,se>>8&255,se&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255])}return c}();f.calculateSHA256=L;const F=function(){function E(c,y,q,re,Q){c.assign(y),c.and(q),Q.assign(y),Q.not(),Q.and(re),c.xor(Q)}function k(c,y,q,re,Q){c.assign(y),c.and(q),Q.assign(y),Q.and(re),c.xor(Q),Q.assign(q),Q.and(re),c.xor(Q)}function M(c,y,q){c.assign(y),c.rotateRight(28),q.assign(y),q.rotateRight(34),c.xor(q),q.assign(y),q.rotateRight(39),c.xor(q)}function a(c,y,q){c.assign(y),c.rotateRight(14),q.assign(y),q.rotateRight(18),c.xor(q),q.assign(y),q.rotateRight(41),c.xor(q)}function o(c,y,q){c.assign(y),c.rotateRight(1),q.assign(y),q.rotateRight(8),c.xor(q),q.assign(y),q.shiftRight(7),c.xor(q)}function r(c,y,q){c.assign(y),c.rotateRight(19),q.assign(y),q.rotateRight(61),c.xor(q),q.assign(y),q.shiftRight(6),c.xor(q)}const s=[new l(1116352408,3609767458),new l(1899447441,602891725),new l(3049323471,3964484399),new l(3921009573,2173295548),new l(961987163,4081628472),new l(1508970993,3053834265),new l(2453635748,2937671579),new l(2870763221,3664609560),new l(3624381080,2734883394),new l(310598401,1164996542),new l(607225278,1323610764),new l(1426881987,3590304994),new l(1925078388,4068182383),new l(2162078206,991336113),new l(2614888103,633803317),new l(3248222580,3479774868),new l(3835390401,2666613458),new l(4022224774,944711139),new l(264347078,2341262773),new l(604807628,2007800933),new l(770255983,1495990901),new l(1249150122,1856431235),new l(1555081692,3175218132),new l(1996064986,2198950837),new l(2554220882,3999719339),new l(2821834349,766784016),new l(2952996808,2566594879),new l(3210313671,3203337956),new l(3336571891,1034457026),new l(3584528711,2466948901),new l(113926993,3758326383),new l(338241895,168717936),new l(666307205,1188179964),new l(773529912,1546045734),new l(1294757372,1522805485),new l(1396182291,2643833823),new l(1695183700,2343527390),new l(1986661051,1014477480),new l(2177026350,1206759142),new l(2456956037,344077627),new l(2730485921,1290863460),new l(2820302411,3158454273),new l(3259730800,3505952657),new l(3345764771,106217008),new l(3516065817,3606008344),new l(3600352804,1432725776),new l(4094571909,1467031594),new l(275423344,851169720),new l(430227734,3100823752),new l(506948616,1363258195),new l(659060556,3750685593),new l(883997877,3785050280),new l(958139571,3318307427),new l(1322822218,3812723403),new l(1537002063,2003034995),new l(1747873779,3602036899),new l(1955562222,1575990012),new l(2024104815,1125592928),new l(2227730452,2716904306),new l(2361852424,442776044),new l(2428436474,593698344),new l(2756734187,3733110249),new l(3204031479,2999351573),new l(3329325298,3815920427),new l(3391569614,3928383900),new l(3515267271,566280711),new l(3940187606,3454069534),new l(4118630271,4000239992),new l(116418474,1914138554),new l(174292421,2731055270),new l(289380356,3203993006),new l(460393269,320620315),new l(685471733,587496836),new l(852142971,1086792851),new l(1017036298,365543100),new l(1126000580,2618297676),new l(1288033470,3409855158),new l(1501505948,4234509866),new l(1607167915,987167468),new l(1816402316,1246189591)];function A(c,y,q,re=!1){let Q,de,ee,ue,W,Z,se,ne;re?(Q=new l(3418070365,3238371032),de=new l(1654270250,914150663),ee=new l(2438529370,812702999),ue=new l(355462360,4144912697),W=new l(1731405415,4290775857),Z=new l(2394180231,1750603025),se=new l(3675008525,1694076839),ne=new l(1203062813,3204075428)):(Q=new l(1779033703,4089235720),de=new l(3144134277,2227873595),ee=new l(1013904242,4271175723),ue=new l(2773480762,1595750129),W=new l(1359893119,2917565137),Z=new l(2600822924,725511199),se=new l(528734635,4215389547),ne=new l(1541459225,327033209));const ie=Math.ceil((q+17)/128)*128,H=new Uint8Array(ie);let Y,G;for(Y=0;Y<q;++Y)H[Y]=c[y++];H[Y++]=128;const le=ie-16;for(;Y<le;)H[Y++]=0;H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=0,H[Y++]=q>>>29&255,H[Y++]=q>>21&255,H[Y++]=q>>13&255,H[Y++]=q>>5&255,H[Y++]=q<<3&255;const ce=new Array(80);for(Y=0;Y<80;Y++)ce[Y]=new l(0,0);let te=new l(0,0),ge=new l(0,0),K=new l(0,0),Se=new l(0,0),Oe=new l(0,0),Me=new l(0,0),_e=new l(0,0),ke=new l(0,0);const oe=new l(0,0),Ie=new l(0,0),Be=new l(0,0),he=new l(0,0);let De;for(Y=0;Y<ie;){for(G=0;G<16;++G)ce[G].high=H[Y]<<24|H[Y+1]<<16|H[Y+2]<<8|H[Y+3],ce[G].low=H[Y+4]<<24|H[Y+5]<<16|H[Y+6]<<8|H[Y+7],Y+=8;for(G=16;G<80;++G)De=ce[G],r(De,ce[G-2],he),De.add(ce[G-7]),o(Be,ce[G-15],he),De.add(Be),De.add(ce[G-16]);for(te.assign(Q),ge.assign(de),K.assign(ee),Se.assign(ue),Oe.assign(W),Me.assign(Z),_e.assign(se),ke.assign(ne),G=0;G<80;++G)oe.assign(ke),a(Be,Oe,he),oe.add(Be),E(Be,Oe,Me,_e,he),oe.add(Be),oe.add(s[G]),oe.add(ce[G]),M(Ie,te,he),k(Be,te,ge,K,he),Ie.add(Be),De=ke,ke=_e,_e=Me,Me=Oe,Se.add(oe),Oe=Se,Se=K,K=ge,ge=te,De.assign(oe),De.add(Ie),te=De;Q.add(te),de.add(ge),ee.add(K),ue.add(Se),W.add(Oe),Z.add(Me),se.add(_e),ne.add(ke)}let ye;return re?(ye=new Uint8Array(48),Q.copyTo(ye,0),de.copyTo(ye,8),ee.copyTo(ye,16),ue.copyTo(ye,24),W.copyTo(ye,32),Z.copyTo(ye,40)):(ye=new Uint8Array(64),Q.copyTo(ye,0),de.copyTo(ye,8),ee.copyTo(ye,16),ue.copyTo(ye,24),W.copyTo(ye,32),Z.copyTo(ye,40),se.copyTo(ye,48),ne.copyTo(ye,56)),ye}return A}();f.calculateSHA512=F;function g(O,E,k){return F(O,E,k,!0)}class w{decryptBlock(E){return E}encrypt(E){return E}}class u{constructor(){this.constructor===u&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let E=0;E<256;E++)this._mixCol[E]=E<128?E<<1:E<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(E){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(E,k){let M,a,o;const r=new Uint8Array(16);r.set(E);for(let s=0,A=this._keySize;s<16;++s,++A)r[s]^=k[A];for(let s=this._cyclesOfRepetition-1;s>=1;--s){M=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=M,M=r[14],a=r[10],r[14]=r[6],r[10]=r[2],r[6]=M,r[2]=a,M=r[15],a=r[11],o=r[7],r[15]=r[3],r[11]=M,r[7]=a,r[3]=o;for(let A=0;A<16;++A)r[A]=this._inv_s[r[A]];for(let A=0,c=s*16;A<16;++A,++c)r[A]^=k[c];for(let A=0;A<16;A+=4){const c=this._mix[r[A]],y=this._mix[r[A+1]],q=this._mix[r[A+2]],re=this._mix[r[A+3]];M=c^y>>>8^y<<24^q>>>16^q<<16^re>>>24^re<<8,r[A]=M>>>24&255,r[A+1]=M>>16&255,r[A+2]=M>>8&255,r[A+3]=M&255}}M=r[13],r[13]=r[9],r[9]=r[5],r[5]=r[1],r[1]=M,M=r[14],a=r[10],r[14]=r[6],r[10]=r[2],r[6]=M,r[2]=a,M=r[15],a=r[11],o=r[7],r[15]=r[3],r[11]=M,r[7]=a,r[3]=o;for(let s=0;s<16;++s)r[s]=this._inv_s[r[s]],r[s]^=k[s];return r}_encrypt(E,k){const M=this._s;let a,o,r;const s=new Uint8Array(16);s.set(E);for(let A=0;A<16;++A)s[A]^=k[A];for(let A=1;A<this._cyclesOfRepetition;A++){for(let c=0;c<16;++c)s[c]=M[s[c]];r=s[1],s[1]=s[5],s[5]=s[9],s[9]=s[13],s[13]=r,r=s[2],o=s[6],s[2]=s[10],s[6]=s[14],s[10]=r,s[14]=o,r=s[3],o=s[7],a=s[11],s[3]=s[15],s[7]=r,s[11]=o,s[15]=a;for(let c=0;c<16;c+=4){const y=s[c+0],q=s[c+1],re=s[c+2],Q=s[c+3];a=y^q^re^Q,s[c+0]^=a^this._mixCol[y^q],s[c+1]^=a^this._mixCol[q^re],s[c+2]^=a^this._mixCol[re^Q],s[c+3]^=a^this._mixCol[Q^y]}for(let c=0,y=A*16;c<16;++c,++y)s[c]^=k[y]}for(let A=0;A<16;++A)s[A]=M[s[A]];r=s[1],s[1]=s[5],s[5]=s[9],s[9]=s[13],s[13]=r,r=s[2],o=s[6],s[2]=s[10],s[6]=s[14],s[10]=r,s[14]=o,r=s[3],o=s[7],a=s[11],s[3]=s[15],s[7]=r,s[11]=o,s[15]=a;for(let A=0,c=this._keySize;A<16;++A,++c)s[A]^=k[c];return s}_decryptBlock2(E,k){const M=E.length;let a=this.buffer,o=this.bufferPosition;const r=[];let s=this.iv;for(let y=0;y<M;++y){if(a[o]=E[y],++o,o<16)continue;const q=this._decrypt(a,this._key);for(let re=0;re<16;++re)q[re]^=s[re];s=a,r.push(q),a=new Uint8Array(16),o=0}if(this.buffer=a,this.bufferLength=o,this.iv=s,r.length===0)return new Uint8Array(0);let A=16*r.length;if(k){const y=r.at(-1);let q=y[15];if(q<=16){for(let re=15,Q=16-q;re>=Q;--re)if(y[re]!==q){q=0;break}A-=q,r[r.length-1]=y.subarray(0,16-q)}}const c=new Uint8Array(A);for(let y=0,q=0,re=r.length;y<re;++y,q+=16)c.set(r[y],q);return c}decryptBlock(E,k,M=null){const a=E.length,o=this.buffer;let r=this.bufferPosition;if(M)this.iv=M;else{for(let s=0;r<16&&s<a;++s,++r)o[r]=E[s];if(r<16)return this.bufferLength=r,new Uint8Array(0);this.iv=o,E=E.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(E,k)}encrypt(E,k){const M=E.length;let a=this.buffer,o=this.bufferPosition;const r=[];k||(k=new Uint8Array(16));for(let c=0;c<M;++c){if(a[o]=E[c],++o,o<16)continue;for(let q=0;q<16;++q)a[q]^=k[q];const y=this._encrypt(a,this._key);k=y,r.push(y),a=new Uint8Array(16),o=0}if(this.buffer=a,this.bufferLength=o,this.iv=k,r.length===0)return new Uint8Array(0);const s=16*r.length,A=new Uint8Array(s);for(let c=0,y=0,q=r.length;c<q;++c,y+=16)A.set(r[c],y);return A}}class h extends u{constructor(E){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(E)}_expandKey(E){const M=this._s,a=this._rcon,o=new Uint8Array(176);o.set(E);for(let r=16,s=1;r<176;++s){let A=o[r-3],c=o[r-2],y=o[r-1],q=o[r-4];A=M[A],c=M[c],y=M[y],q=M[q],A^=a[s];for(let re=0;re<4;++re)o[r]=A^=o[r-16],r++,o[r]=c^=o[r-16],r++,o[r]=y^=o[r-16],r++,o[r]=q^=o[r-16],r++}return o}}f.AES128Cipher=h;class i extends u{constructor(E){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(E)}_expandKey(E){const M=this._s,a=new Uint8Array(240);a.set(E);let o=1,r,s,A,c;for(let y=32,q=1;y<240;++q){y%32===16?(r=M[r],s=M[s],A=M[A],c=M[c]):y%32===0&&(r=a[y-3],s=a[y-2],A=a[y-1],c=a[y-4],r=M[r],s=M[s],A=M[A],c=M[c],r^=o,(o<<=1)>=256&&(o=(o^27)&255));for(let re=0;re<4;++re)a[y]=r^=a[y-32],y++,a[y]=s^=a[y-32],y++,a[y]=A^=a[y-32],y++,a[y]=c^=a[y-32],y++}return a}}f.AES256Cipher=i;class x{checkOwnerPassword(E,k,M,a){const o=new Uint8Array(E.length+56);o.set(E,0),o.set(k,E.length),o.set(M,E.length+k.length);const r=L(o,0,o.length);return(0,n.isArrayEqual)(r,a)}checkUserPassword(E,k,M){const a=new Uint8Array(E.length+8);a.set(E,0),a.set(k,E.length);const o=L(a,0,a.length);return(0,n.isArrayEqual)(o,M)}getOwnerKey(E,k,M,a){const o=new Uint8Array(E.length+56);o.set(E,0),o.set(k,E.length),o.set(M,E.length+k.length);const r=L(o,0,o.length);return new i(r).decryptBlock(a,!1,new Uint8Array(16))}getUserKey(E,k,M){const a=new Uint8Array(E.length+8);a.set(E,0),a.set(k,E.length);const o=L(a,0,a.length);return new i(o).decryptBlock(M,!1,new Uint8Array(16))}}f.PDF17=x;class p{_hash(E,k,M){let a=L(k,0,k.length).subarray(0,32),o=[0],r=0;for(;r<64||o.at(-1)>r-32;){const s=E.length+a.length+M.length,A=new Uint8Array(s);let c=0;A.set(E,c),c+=E.length,A.set(a,c),c+=a.length,A.set(M,c);const y=new Uint8Array(s*64);for(let Q=0,de=0;Q<64;Q++,de+=s)y.set(A,de);o=new h(a.subarray(0,16)).encrypt(y,a.subarray(16,32));const re=o.slice(0,16).reduce((Q,de)=>Q+de,0)%3;re===0?a=L(o,0,o.length):re===1?a=g(o,0,o.length):re===2&&(a=F(o,0,o.length)),r++}return a.subarray(0,32)}checkOwnerPassword(E,k,M,a){const o=new Uint8Array(E.length+56);o.set(E,0),o.set(k,E.length),o.set(M,E.length+k.length);const r=this._hash(E,o,M);return(0,n.isArrayEqual)(r,a)}checkUserPassword(E,k,M){const a=new Uint8Array(E.length+8);a.set(E,0),a.set(k,E.length);const o=this._hash(E,a,[]);return(0,n.isArrayEqual)(o,M)}getOwnerKey(E,k,M,a){const o=new Uint8Array(E.length+56);o.set(E,0),o.set(k,E.length),o.set(M,E.length+k.length);const r=this._hash(E,o,M);return new i(r).decryptBlock(a,!1,new Uint8Array(16))}getUserKey(E,k,M){const a=new Uint8Array(E.length+8);a.set(E,0),a.set(k,E.length);const o=this._hash(E,a,[]);return new i(o).decryptBlock(M,!1,new Uint8Array(16))}}f.PDF20=p;class v{constructor(E,k){this.StringCipherConstructor=E,this.StreamCipherConstructor=k}createStream(E,k){const M=new this.StreamCipherConstructor;return new T.DecryptStream(E,k,function(o,r){return M.decryptBlock(o,r)})}decryptString(E){const k=new this.StringCipherConstructor;let M=(0,n.stringToBytes)(E);return M=k.decryptBlock(M,!0),(0,n.bytesToString)(M)}encryptString(E){const k=new this.StringCipherConstructor;if(k instanceof u){const o=16-E.length%16;E+=String.fromCharCode(o).repeat(o);const r=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(r);else for(let c=0;c<16;c++)r[c]=Math.floor(256*Math.random());let s=(0,n.stringToBytes)(E);s=k.encrypt(s,r);const A=new Uint8Array(16+s.length);return A.set(r),A.set(s,16),(0,n.bytesToString)(A)}let M=(0,n.stringToBytes)(E);return M=k.encrypt(M),(0,n.bytesToString)(M)}}const z=class z{constructor(E,k,M){je(this,U);je(this,I);je(this,_);je(this,X);je(this,S);const a=E.get("Filter");if(!(0,d.isName)(a,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=a.name,this.dict=E;const o=E.get("V");if(!Number.isInteger(o)||o!==1&&o!==2&&o!==4&&o!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=o;let r=E.get("Length");if(!r)if(o<=3)r=40;else{const W=E.get("CF"),Z=E.get("StmF");if(W instanceof d.Dict&&Z instanceof d.Name){W.suppressEncryption=!0;const se=W.get(Z.name);r=(se==null?void 0:se.get("Length"))||128,r<40&&(r<<=3)}}if(!Number.isInteger(r)||r<40||r%8!==0)throw new n.FormatError("invalid key length");const s=(0,n.stringToBytes)(E.get("O")),A=(0,n.stringToBytes)(E.get("U")),c=s.subarray(0,32),y=A.subarray(0,32),q=E.get("P"),re=E.get("R"),Q=(o===4||o===5)&&E.get("EncryptMetadata")!==!1;this.encryptMetadata=Q;const de=(0,n.stringToBytes)(k);let ee;if(M){if(re===6)try{M=(0,n.utf8StringToString)(M)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}ee=(0,n.stringToBytes)(M)}let ue;if(o!==5)ue=qe(this,I,er).call(this,de,ee,c,y,q,re,r,Q);else{const W=s.subarray(32,40),Z=s.subarray(40,48),se=A.subarray(0,48),ne=A.subarray(32,40),ie=A.subarray(40,48),H=(0,n.stringToBytes)(E.get("OE")),Y=(0,n.stringToBytes)(E.get("UE")),G=(0,n.stringToBytes)(E.get("Perms"));ue=qe(this,U,Xr).call(this,re,ee,c,W,Z,se,y,ne,ie,H,Y,G)}if(!ue&&!M)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!ue&&M){const W=qe(this,_,zr).call(this,ee,c,re,r);ue=qe(this,I,er).call(this,de,W,c,y,q,re,r,Q)}if(!ue)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=ue,o>=4){const W=E.get("CF");W instanceof d.Dict&&(W.suppressEncryption=!0),this.cf=W,this.stmf=E.get("StmF")||d.Name.get("Identity"),this.strf=E.get("StrF")||d.Name.get("Identity"),this.eff=E.get("EFF")||this.stmf}}createCipherTransform(E,k){if(this.algorithm===4||this.algorithm===5)return new v(qe(this,S,tr).call(this,this.cf,this.strf,E,k,this.encryptionKey),qe(this,S,tr).call(this,this.cf,this.stmf,E,k,this.encryptionKey));const M=qe(this,X,Kn).call(this,E,k,this.encryptionKey,!1),a=function(){return new e(M)};return new v(a,a)}};N=new WeakMap,U=new WeakSet,Xr=function(E,k,M,a,o,r,s,A,c,y,q,re){if(k){const de=Math.min(127,k.length);k=k.subarray(0,de)}else k=[];const Q=E===6?new p:new x;return Q.checkUserPassword(k,A,s)?Q.getUserKey(k,c,q):k.length&&Q.checkOwnerPassword(k,a,r,M)?Q.getOwnerKey(k,o,r,y):null},I=new WeakSet,er=function(E,k,M,a,o,r,s,A){const c=40+M.length+E.length,y=new Uint8Array(c);let q=0,re,Q;if(k)for(Q=Math.min(32,k.length);q<Q;++q)y[q]=k[q];for(re=0;q<32;)y[q++]=Ce(z,N)[re++];for(re=0,Q=M.length;re<Q;++re)y[q++]=M[re];for(y[q++]=o&255,y[q++]=o>>8&255,y[q++]=o>>16&255,y[q++]=o>>>24&255,re=0,Q=E.length;re<Q;++re)y[q++]=E[re];r>=4&&!A&&(y[q++]=255,y[q++]=255,y[q++]=255,y[q++]=255);let de=t(y,0,q);const ee=s>>3;if(r>=3)for(re=0;re<50;++re)de=t(de,0,ee);const ue=de.subarray(0,ee);let W,Z;if(r>=3){for(q=0;q<32;++q)y[q]=Ce(z,N)[q];for(re=0,Q=E.length;re<Q;++re)y[q++]=E[re];W=new e(ue),Z=W.encryptBlock(t(y,0,q)),Q=ue.length;const se=new Uint8Array(Q);for(re=1;re<=19;++re){for(let ne=0;ne<Q;++ne)se[ne]=ue[ne]^re;W=new e(se),Z=W.encryptBlock(Z)}for(re=0,Q=Z.length;re<Q;++re)if(a[re]!==Z[re])return null}else for(W=new e(ue),Z=W.encryptBlock(Ce(z,N)),re=0,Q=Z.length;re<Q;++re)if(a[re]!==Z[re])return null;return ue},_=new WeakSet,zr=function(E,k,M,a){const o=new Uint8Array(32);let r=0;const s=Math.min(32,E.length);for(;r<s;++r)o[r]=E[r];let A=0;for(;r<32;)o[r++]=Ce(z,N)[A++];let c=t(o,0,r);const y=a>>3;if(M>=3)for(A=0;A<50;++A)c=t(c,0,c.length);let q,re;if(M>=3){re=k;const Q=new Uint8Array(y);for(A=19;A>=0;A--){for(let de=0;de<y;++de)Q[de]=c[de]^A;q=new e(Q),re=q.encryptBlock(re)}}else q=new e(c.subarray(0,y)),re=q.encryptBlock(k);return re},X=new WeakSet,Kn=function(E,k,M,a=!1){const o=new Uint8Array(M.length+9),r=M.length;let s;for(s=0;s<r;++s)o[s]=M[s];return o[s++]=E&255,o[s++]=E>>8&255,o[s++]=E>>16&255,o[s++]=k&255,o[s++]=k>>8&255,a&&(o[s++]=115,o[s++]=65,o[s++]=108,o[s++]=84),t(o,0,s).subarray(0,Math.min(M.length+5,16))},S=new WeakSet,tr=function(E,k,M,a,o){if(!(k instanceof d.Name))throw new n.FormatError("Invalid crypt filter name.");const r=this,s=E.get(k.name),A=s==null?void 0:s.get("CFM");if(!A||A.name==="None")return function(){return new w};if(A.name==="V2")return function(){var c;return new e(qe(c=r,X,Kn).call(c,M,a,o,!1))};if(A.name==="AESV2")return function(){var c;return new h(qe(c=r,X,Kn).call(c,M,a,o,!0))};if(A.name==="AESV3")return function(){return new i(o)};throw new n.FormatError("Unknown crypto method")},je(z,N,new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]));let b=z;f.CipherTransformFactory=b},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DecryptStream=void 0;var n=$(18);const d=512;class T extends n.DecodeStream{constructor(t,l,L){super(l),this.str=t,this.dict=t.dict,this.decrypt=L,this.nextChunk=null,this.initialized=!1}readBlock(){var u;let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(d),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(d);const l=((u=this.nextChunk)==null?void 0:u.length)>0,L=this.decrypt;t=L(t,!l);const F=this.bufferLength,g=F+t.length;this.ensureBuffer(g).set(t,F),this.bufferLength=g}}f.DecryptStream=T},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ObjectLoader=void 0;var n=$(4),d=$(5),T=$(3),e=$(2);function t(F){return F instanceof n.Ref||F instanceof n.Dict||F instanceof d.BaseStream||Array.isArray(F)}function l(F,g){if(F instanceof n.Dict)F=F.getRawValues();else if(F instanceof d.BaseStream)F=F.dict.getRawValues();else if(!Array.isArray(F))return;for(const w of F)t(w)&&g.push(w)}class L{constructor(g,w,u){this.dict=g,this.keys=w,this.xref=u,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:g,dict:w}=this;this.refSet=new n.RefSet;const u=[];for(const h of g){const i=w.getRaw(h);i!==void 0&&u.push(i)}return this._walk(u)}async _walk(g){const w=[],u=[];for(;g.length;){let h=g.pop();if(h instanceof n.Ref){if(this.refSet.has(h))continue;try{this.refSet.put(h),h=this.xref.fetch(h)}catch(i){if(!(i instanceof T.MissingDataException)){(0,e.warn)(`ObjectLoader._walk - requesting all data: "${i}".`),this.refSet=null;const{manager:x}=this.xref.stream;return x.requestAllChunks()}w.push(h),u.push({begin:i.begin,end:i.end})}}if(h instanceof d.BaseStream){const i=h.getBaseStreams();if(i){let x=!1;for(const p of i)p.isDataLoaded||(x=!0,u.push({begin:p.start,end:p.end}));x&&w.push(h)}}l(h,g)}if(u.length){await this.xref.stream.manager.requestRanges(u);for(const h of w)h instanceof n.Ref&&this.refSet.remove(h);return this._walk(w)}this.refSet=null}}f.ObjectLoader=L},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XFAFactory=void 0;var n=$(78),d=$(79),T=$(89),e=$(85),t=$(84),l=$(2),L=$(90),F=$(100);class g{constructor(u){try{this.root=new L.XFAParser().parse(g._createDocument(u));const h=new d.Binder(this.root);this.form=h.bind(),this.dataHandler=new T.DataHandler(this.root,h.getData()),this.form[n.$globalData].template=this.form}catch(h){(0,l.warn)(`XFA - an error occurred during parsing and binding: ${h}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const u=this.form[n.$toPages]();return new Promise((h,i)=>{const x=()=>{try{const p=u.next();p.done?h(p.value):setTimeout(x,0)}catch(p){i(p)}};setTimeout(x,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(u=>{const{width:h,height:i}=u.attributes.style;return[0,0,parseInt(h),parseInt(i)]})}catch(u){(0,l.warn)(`XFA - an error occurred during layout: ${u}`)}}getBoundingBox(u){return this.dims[u]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(u){this.form[n.$globalData].images=u}setFonts(u){this.form[n.$globalData].fontFinder=new e.FontFinder(u);const h=[];for(let i of this.form[n.$globalData].usedTypefaces)i=(0,t.stripQuotes)(i),this.form[n.$globalData].fontFinder.find(i)||h.push(i);return h.length>0?h:null}appendFonts(u,h){this.form[n.$globalData].fontFinder.add(u,h)}async getPages(){this.pages||await this._createPages();const u=this.pages;return this.pages=null,u}serializeData(u){return this.dataHandler.serialize(u)}static _createDocument(u){return u["/xdp:xdp"]?Object.values(u).join(""):u["xdp:xdp"]}static getRichTextAsHtml(u){if(!u||typeof u!="string")return null;try{let h=new L.XFAParser(F.XhtmlNamespace,!0).parse(u);if(!["body","xhtml"].includes(h[n.$nodeName])){const v=F.XhtmlNamespace.body({});v[n.$appendChild](h),h=v}const i=h[n.$toHTML]();if(!i.success)return null;const{html:x}=i,{attributes:p}=x;return p&&(p.class&&(p.class=p.class.filter(v=>!v.startsWith("xfa"))),p.dir="auto"),{html:x,str:h[n.$text]()}}catch(h){(0,l.warn)(`XFA - an error occurred during parsing of rich text: ${h}`)}return null}}f.XFAFactory=g},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.$uid=f.$toStyle=f.$toString=f.$toPages=f.$toHTML=f.$text=f.$tabIndex=f.$setValue=f.$setSetAttributes=f.$setId=f.$searchNode=f.$root=f.$resolvePrototypes=f.$removeChild=f.$pushPara=f.$pushGlyphs=f.$popPara=f.$onText=f.$onChildCheck=f.$onChild=f.$nsAttributes=f.$nodeName=f.$namespaceId=f.$lastAttribute=f.$isUsable=f.$isTransparent=f.$isThereMoreWidth=f.$isSplittable=f.$isNsAgnostic=f.$isDescendent=f.$isDataValue=f.$isCDATAXml=f.$isBindable=f.$insertAt=f.$indexOf=f.$ids=f.$hasSettableValue=f.$globalData=f.$getTemplateRoot=f.$getSubformParent=f.$getRealChildrenByNameIt=f.$getParent=f.$getNextPage=f.$getExtra=f.$getDataValue=f.$getContainedChildren=f.$getChildrenByNameIt=f.$getChildrenByName=f.$getChildrenByClass=f.$getChildren=f.$getAvailableSpace=f.$getAttributes=f.$getAttributeIt=f.$flushHTML=f.$finalize=f.$extra=f.$dump=f.$data=f.$content=f.$consumed=f.$clone=f.$cleanup=f.$cleanPage=f.$clean=f.$childrenToHTML=f.$appendChild=f.$addHTML=f.$acceptWhitespace=void 0;const $=Symbol();f.$acceptWhitespace=$;const n=Symbol();f.$addHTML=n;const d=Symbol();f.$appendChild=d;const T=Symbol();f.$childrenToHTML=T;const e=Symbol();f.$clean=e;const t=Symbol();f.$cleanPage=t;const l=Symbol();f.$cleanup=l;const L=Symbol();f.$clone=L;const F=Symbol();f.$consumed=F;const g=Symbol("content");f.$content=g;const w=Symbol("data");f.$data=w;const u=Symbol();f.$dump=u;const h=Symbol("extra");f.$extra=h;const i=Symbol();f.$finalize=i;const x=Symbol();f.$flushHTML=x;const p=Symbol();f.$getAttributeIt=p;const v=Symbol();f.$getAttributes=v;const b=Symbol();f.$getAvailableSpace=b;const N=Symbol();f.$getChildrenByClass=N;const U=Symbol();f.$getChildrenByName=U;const D=Symbol();f.$getChildrenByNameIt=D;const I=Symbol();f.$getDataValue=I;const B=Symbol();f.$getExtra=B;const _=Symbol();f.$getRealChildrenByNameIt=_;const P=Symbol();f.$getChildren=P;const X=Symbol();f.$getContainedChildren=X;const m=Symbol();f.$getNextPage=m;const S=Symbol();f.$getSubformParent=S;const R=Symbol();f.$getParent=R;const z=Symbol();f.$getTemplateRoot=z;const O=Symbol();f.$globalData=O;const E=Symbol();f.$hasSettableValue=E;const k=Symbol();f.$ids=k;const M=Symbol();f.$indexOf=M;const a=Symbol();f.$insertAt=a;const o=Symbol();f.$isCDATAXml=o;const r=Symbol();f.$isBindable=r;const s=Symbol();f.$isDataValue=s;const A=Symbol();f.$isDescendent=A;const c=Symbol();f.$isNsAgnostic=c;const y=Symbol();f.$isSplittable=y;const q=Symbol();f.$isThereMoreWidth=q;const re=Symbol();f.$isTransparent=re;const Q=Symbol();f.$isUsable=Q;const de=Symbol();f.$lastAttribute=de;const ee=Symbol("namespaceId");f.$namespaceId=ee;const ue=Symbol("nodeName");f.$nodeName=ue;const W=Symbol();f.$nsAttributes=W;const Z=Symbol();f.$onChild=Z;const se=Symbol();f.$onChildCheck=se;const ne=Symbol();f.$onText=ne;const ie=Symbol();f.$pushGlyphs=ie;const H=Symbol();f.$popPara=H;const Y=Symbol();f.$pushPara=Y;const G=Symbol();f.$removeChild=G;const le=Symbol("root");f.$root=le;const ce=Symbol();f.$resolvePrototypes=ce;const te=Symbol();f.$searchNode=te;const ge=Symbol();f.$setId=ge;const K=Symbol();f.$setSetAttributes=K;const Se=Symbol();f.$setValue=Se;const Oe=Symbol();f.$tabIndex=Oe;const Me=Symbol();f.$text=Me;const _e=Symbol();f.$toPages=_e;const ke=Symbol();f.$toHTML=ke;const oe=Symbol();f.$toString=oe;const Ie=Symbol();f.$toStyle=Ie;const Be=Symbol("uid");f.$uid=Be},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Binder=void 0;var n=$(78),d=$(80),T=$(88),e=$(87),t=$(81),l=$(2);const L=t.NamespaceIds.datasets.id;function F(w){const u=new d.Text({});return u[n.$content]=w,u}class g{constructor(u){var h;this.root=u,this.datasets=u.datasets,this.data=((h=u.datasets)==null?void 0:h.data)||new e.XmlObject(t.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=u.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(u,h,i){var x,p;if(u[n.$data]=h,u[n.$hasSettableValue]())if(h[n.$isDataValue]()){const v=h[n.$getDataValue]();u[n.$setValue](F(v))}else if(u instanceof d.Field&&((p=(x=u.ui)==null?void 0:x.choiceList)==null?void 0:p.open)==="multiSelect"){const v=h[n.$getChildren]().map(b=>b[n.$content].trim()).join(`
`);u[n.$setValue](F(v))}else this._isConsumeData()&&(0,l.warn)("XFA - Nodes haven't the same type.");else!h[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(u,h):(0,l.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(u,h,i,x){if(!u)return null;let p,v;for(let b=0;b<3;b++){for(p=i[n.$getRealChildrenByNameIt](u,!1,!0);v=p.next().value,!!v;)if(h===v[n.$isDataValue]())return v;if(i[n.$namespaceId]===t.NamespaceIds.datasets.id&&i[n.$nodeName]==="data")break;i=i[n.$getParent]()}return x?(p=this.data[n.$getRealChildrenByNameIt](u,!0,!1),v=p.next().value,v||(p=this.data[n.$getAttributeIt](u,!0),v=p.next().value,v!=null&&v[n.$isDataValue]())?v:null):null}_setProperties(u,h){if(u.hasOwnProperty("setProperty"))for(const{ref:i,target:x,connection:p}of u.setProperty.children){if(p||!i)continue;const v=(0,T.searchNode)(this.root,h,i,!1,!1);if(!v){(0,l.warn)(`XFA - Invalid reference: ${i}.`);continue}const[b]=v;if(!b[n.$isDescendent](this.data)){(0,l.warn)("XFA - Invalid node: must be a data node.");continue}const N=(0,T.searchNode)(this.root,u,x,!1,!1);if(!N){(0,l.warn)(`XFA - Invalid target: ${x}.`);continue}const[U]=N;if(!U[n.$isDescendent](u)){(0,l.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const D=U[n.$getParent]();if(U instanceof d.SetProperty||D instanceof d.SetProperty){(0,l.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(U instanceof d.BindItems||D instanceof d.BindItems){(0,l.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const I=b[n.$text](),B=U[n.$nodeName];if(U instanceof e.XFAAttribute){const _=Object.create(null);_[B]=I;const P=Reflect.construct(Object.getPrototypeOf(D).constructor,[_]);D[B]=P[B];continue}if(!U.hasOwnProperty(n.$content)){(0,l.warn)("XFA - Invalid node to use in setProperty");continue}U[n.$data]=b,U[n.$content]=I,U[n.$finalize]()}}_bindItems(u,h){if(!u.hasOwnProperty("items")||!u.hasOwnProperty("bindItems")||u.bindItems.isEmpty())return;for(const p of u.items.children)u[n.$removeChild](p);u.items.clear();const i=new d.Items({}),x=new d.Items({});u[n.$appendChild](i),u.items.push(i),u[n.$appendChild](x),u.items.push(x);for(const{ref:p,labelRef:v,valueRef:b,connection:N}of u.bindItems.children){if(N||!p)continue;const U=(0,T.searchNode)(this.root,h,p,!1,!1);if(!U){(0,l.warn)(`XFA - Invalid reference: ${p}.`);continue}for(const D of U){if(!D[n.$isDescendent](this.datasets)){(0,l.warn)(`XFA - Invalid ref (${p}): must be a datasets child.`);continue}const I=(0,T.searchNode)(this.root,D,v,!0,!1);if(!I){(0,l.warn)(`XFA - Invalid label: ${v}.`);continue}const[B]=I;if(!B[n.$isDescendent](this.datasets)){(0,l.warn)("XFA - Invalid label: must be a datasets child.");continue}const _=(0,T.searchNode)(this.root,D,b,!0,!1);if(!_){(0,l.warn)(`XFA - Invalid value: ${b}.`);continue}const[P]=_;if(!P[n.$isDescendent](this.datasets)){(0,l.warn)("XFA - Invalid value: must be a datasets child.");continue}const X=F(B[n.$text]()),m=F(P[n.$text]());i[n.$appendChild](X),i.text.push(X),x[n.$appendChild](m),x.text.push(m)}}}_bindOccurrences(u,h,i){let x;if(h.length>1&&(x=u[n.$clone](),x[n.$removeChild](x.occur),x.occur=null),this._bindValue(u,h[0],i),this._setProperties(u,h[0]),this._bindItems(u,h[0]),h.length===1)return;const p=u[n.$getParent](),v=u[n.$nodeName],b=p[n.$indexOf](u);for(let N=1,U=h.length;N<U;N++){const D=h[N],I=x[n.$clone]();p[v].push(I),p[n.$insertAt](b+N,I),this._bindValue(I,D,i),this._setProperties(I,D),this._bindItems(I,D)}}_createOccurrences(u){if(!this.emptyMerge)return;const{occur:h}=u;if(!h||h.initial<=1)return;const i=u[n.$getParent](),x=u[n.$nodeName];if(!(i[x]instanceof e.XFAObjectArray))return;let p;u.name?p=i[x].children.filter(N=>N.name===u.name).length:p=i[x].children.length;const v=i[n.$indexOf](u)+1,b=h.initial-p;if(b){const N=u[n.$clone]();N[n.$removeChild](N.occur),N.occur=null,i[x].push(N),i[n.$insertAt](v,N);for(let U=1;U<b;U++){const D=N[n.$clone]();i[x].push(D),i[n.$insertAt](v+U,D)}}}_getOccurInfo(u){const{name:h,occur:i}=u;if(!i||!h)return[1,1];const x=i.max===-1?1/0:i.max;return[i.min,x]}_setAndBind(u,h){this._setProperties(u,h),this._bindItems(u,h),this._bindElement(u,h)}_bindElement(u,h){const i=[];this._createOccurrences(u);for(const x of u[n.$getChildren]()){if(x[n.$data])continue;if(this._mergeMode===void 0&&x[n.$nodeName]==="subform"){this._mergeMode=x.mergeMode==="consumeData";const I=h[n.$getChildren]();if(I.length>0)this._bindOccurrences(x,[I[0]],null);else if(this.emptyMerge){const B=h[n.$namespaceId]===L?-1:h[n.$namespaceId],_=x[n.$data]=new e.XmlObject(B,x.name||"root");h[n.$appendChild](_),this._bindElement(x,_)}continue}if(!x[n.$isBindable]())continue;let p=!1,v=null,b=null,N=null;if(x.bind){switch(x.bind.match){case"none":this._setAndBind(x,h);continue;case"global":p=!0;break;case"dataRef":if(!x.bind.ref){(0,l.warn)(`XFA - ref is empty in node ${x[n.$nodeName]}.`),this._setAndBind(x,h);continue}b=x.bind.ref;break}x.bind.picture&&(v=x.bind.picture[n.$content])}const[U,D]=this._getOccurInfo(x);if(b)if(N=(0,T.searchNode)(this.root,h,b,!0,!1),N===null){if(N=(0,T.createDataNode)(this.data,h,b),!N)continue;this._isConsumeData()&&(N[n.$consumed]=!0),this._setAndBind(x,N);continue}else this._isConsumeData()&&(N=N.filter(I=>!I[n.$consumed])),N.length>D?N=N.slice(0,D):N.length===0&&(N=null),N&&this._isConsumeData()&&N.forEach(I=>{I[n.$consumed]=!0});else{if(!x.name){this._setAndBind(x,h);continue}if(this._isConsumeData()){const I=[];for(;I.length<D;){const B=this._findDataByNameToConsume(x.name,x[n.$hasSettableValue](),h,p);if(!B)break;B[n.$consumed]=!0,I.push(B)}N=I.length>0?I:null}else{if(N=h[n.$getRealChildrenByNameIt](x.name,!1,this.emptyMerge).next().value,!N){if(U===0){i.push(x);continue}const I=h[n.$namespaceId]===L?-1:h[n.$namespaceId];N=x[n.$data]=new e.XmlObject(I,x.name),this.emptyMerge&&(N[n.$consumed]=!0),h[n.$appendChild](N),this._setAndBind(x,N);continue}this.emptyMerge&&(N[n.$consumed]=!0),N=[N]}}N?this._bindOccurrences(x,N,v):U>0?this._setAndBind(x,h):i.push(x)}i.forEach(x=>x[n.$getParent]()[n.$removeChild](x))}}f.Binder=g},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Value=f.Text=f.TemplateNamespace=f.Template=f.SetProperty=f.Items=f.Field=f.BindItems=void 0;var n=$(78),d=$(81),T=$(82),e=$(83),t=$(87),l=$(84),L=$(2),F=$(85),g=$(3),w=$(88);const u=d.NamespaceIds.template.id,h="http://www.w3.org/2000/svg",i=2,x=3,p=5e3,v=/^H(\d+)$/,b=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),N=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function U(Ze){if(!Ze||!Ze.border)return{w:0,h:0};const C=Ze.border[n.$getExtra]();return C?{w:C.widths[0]+C.widths[2]+C.insets[0]+C.insets[2],h:C.widths[1]+C.widths[3]+C.insets[1]+C.insets[3]}:{w:0,h:0}}function D(Ze){return Ze.margin&&(Ze.margin.topInset||Ze.margin.rightInset||Ze.margin.bottomInset||Ze.margin.leftInset)}function I(Ze,C){if(!Ze.value){const pe=new an({});Ze[n.$appendChild](pe),Ze.value=pe}Ze.value[n.$setValue](C)}function*B(Ze){for(const C of Ze[n.$getChildren]()){if(C instanceof mn){yield*C[n.$getContainedChildren]();continue}yield C}}function _(Ze){var C;return((C=Ze.validate)==null?void 0:C.nullTest)==="error"}function P(Ze){for(;Ze;){if(!Ze.traversal){Ze[n.$tabIndex]=Ze[n.$getParent]()[n.$tabIndex];return}if(Ze[n.$tabIndex])return;let C=null;for(const tt of Ze.traversal[n.$getChildren]())if(tt.operation==="next"){C=tt;break}if(!C||!C.ref){Ze[n.$tabIndex]=Ze[n.$getParent]()[n.$tabIndex];return}const pe=Ze[n.$getTemplateRoot]();Ze[n.$tabIndex]=++pe[n.$tabIndex];const We=pe[n.$searchNode](C.ref,Ze);if(!We)return;Ze=We[0]}}function X(Ze,C){var We;const pe=Ze.assist;if(pe){const tt=pe[n.$toHTML]();tt&&(C.title=tt);const ft=pe.role.match(v);if(ft){const mt="heading",bt=ft[1];C.role=mt,C["aria-level"]=bt}}if(Ze.layout==="table")C.role="table";else if(Ze.layout==="row")C.role="row";else{const tt=Ze[n.$getParent]();tt.layout==="row"&&(C.role=((We=tt.assist)==null?void 0:We.role)==="TH"?"columnheader":"cell")}}function m(Ze){if(!Ze.assist)return null;const C=Ze.assist;return C.speak&&C.speak[n.$content]!==""?C.speak[n.$content]:C.toolTip?C.toolTip[n.$content]:null}function S(Ze){return l.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Ze}]})}function R(Ze){const C=Ze[n.$getTemplateRoot]();C[n.$extra].firstUnsplittable===null&&(C[n.$extra].firstUnsplittable=Ze,C[n.$extra].noLayoutFailure=!0)}function z(Ze){const C=Ze[n.$getTemplateRoot]();C[n.$extra].firstUnsplittable===Ze&&(C[n.$extra].noLayoutFailure=!1)}function O(Ze){if(Ze[n.$extra]||(Ze[n.$extra]=Object.create(null),Ze.targetType==="auto"))return!1;const C=Ze[n.$getTemplateRoot]();let pe=null;if(Ze.target){if(pe=C[n.$searchNode](Ze.target,Ze[n.$getParent]()),!pe)return!1;pe=pe[0]}const{currentPageArea:We,currentContentArea:tt}=C[n.$extra];if(Ze.targetType==="pageArea")return pe instanceof vt||(pe=null),Ze.startNew?(Ze[n.$extra].target=pe||We,!0):pe&&pe!==We?(Ze[n.$extra].target=pe,!0):!1;pe instanceof le||(pe=null);const it=pe&&pe[n.$getParent]();let ft,mt=it;if(Ze.startNew)if(pe){const bt=it.contentArea.children,Ft=bt.indexOf(tt),Dt=bt.indexOf(pe);Ft!==-1&&Ft<Dt&&(mt=null),ft=Dt-1}else ft=We.contentArea.children.indexOf(tt);else if(pe&&pe!==tt)ft=it.contentArea.children.indexOf(pe)-1,mt=it===We?null:it;else return!1;return Ze[n.$extra].target=mt,Ze[n.$extra].index=ft,!0}function E(Ze,C,pe){const We=Ze[n.$getTemplateRoot](),tt=We[n.$extra].noLayoutFailure,it=C[n.$getSubformParent];C[n.$getSubformParent]=()=>Ze,We[n.$extra].noLayoutFailure=!0;const ft=C[n.$toHTML](pe);Ze[n.$addHTML](ft.html,ft.bbox),We[n.$extra].noLayoutFailure=tt,C[n.$getSubformParent]=it}class k extends t.StringObject{constructor(C){super(u,"appearanceFilter"),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||""}}class M extends t.XFAObject{constructor(C){super(u,"arc",!0),this.circular=(0,l.getInteger)({data:C.circular,defaultValue:0,validate:pe=>pe===1}),this.hand=(0,l.getStringOption)(C.hand,["even","left","right"]),this.id=C.id||"",this.startAngle=(0,l.getFloat)({data:C.startAngle,defaultValue:0,validate:pe=>!0}),this.sweepAngle=(0,l.getFloat)({data:C.sweepAngle,defaultValue:360,validate:pe=>!0}),this.use=C.use||"",this.usehref=C.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){var bt;const C=this.edge||new Ie({}),pe=C[n.$toStyle](),We=Object.create(null);((bt=this.fill)==null?void 0:bt.presence)==="visible"?Object.assign(We,this.fill[n.$toStyle]()):We.fill="transparent",We.strokeWidth=(0,e.measureToString)(C.presence==="visible"?C.thickness:0),We.stroke=pe.color;let tt;const it={xmlns:h,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)tt={name:"ellipse",attributes:{xmlns:h,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:We}};else{const Ft=this.startAngle*Math.PI/180,Dt=this.sweepAngle*Math.PI/180,$t=this.sweepAngle>180?1:0,[Bt,jt,Ht,Ot]=[50*(1+Math.cos(Ft)),50*(1-Math.sin(Ft)),50*(1+Math.cos(Ft+Dt)),50*(1-Math.sin(Ft+Dt))];tt={name:"path",attributes:{xmlns:h,d:`M ${Bt} ${jt} A 50 50 0 ${$t} 0 ${Ht} ${Ot}`,vectorEffect:"non-scaling-stroke",style:We}},Object.assign(it,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const ft={name:"svg",children:[tt],attributes:it},mt=this[n.$getParent]()[n.$getParent]();return D(mt)?l.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[ft]}):(ft.attributes.style.position="absolute",l.HTMLResult.success(ft))}}class a extends t.XFAObject{constructor(C){super(u,"area",!0),this.colSpan=(0,l.getInteger)({data:C.colSpan,defaultValue:1,validate:pe=>pe>=1||pe===-1}),this.id=C.id||"",this.name=C.name||"",this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*B(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](C,pe){const[We,tt,it,ft]=pe;this[n.$extra].width=Math.max(this[n.$extra].width,We+it),this[n.$extra].height=Math.max(this[n.$extra].height,tt+ft),this[n.$extra].children.push(C)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](C){const pe=(0,e.toStyle)(this,"position"),We={style:pe,id:this[n.$uid],class:["xfaArea"]};(0,e.isPrintOnly)(this)&&We.class.push("xfaPrintOnly"),this.name&&(We.xfaName=this.name);const tt=[];this[n.$extra]={children:tt,width:0,height:0,availableSpace:C};const it=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!it.success)return it.isBreak()?it:(delete this[n.$extra],l.HTMLResult.FAILURE);pe.width=(0,e.measureToString)(this[n.$extra].width),pe.height=(0,e.measureToString)(this[n.$extra].height);const ft={name:"div",attributes:We,children:tt},mt=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],l.HTMLResult.success(ft,mt)}}class o extends t.XFAObject{constructor(C){super(u,"assist",!0),this.id=C.id||"",this.role=C.role||"",this.use=C.use||"",this.usehref=C.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){var C;return((C=this.toolTip)==null?void 0:C[n.$content])||null}}class r extends t.XFAObject{constructor(C){super(u,"barcode",!0),this.charEncoding=(0,l.getKeyword)({data:C.charEncoding?C.charEncoding.toLowerCase():"",defaultValue:"",validate:pe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(pe)||pe.match(/iso-8859-\d{2}/)}),this.checksum=(0,l.getStringOption)(C.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,l.getInteger)({data:C.dataColumnCount,defaultValue:-1,validate:pe=>pe>=0}),this.dataLength=(0,l.getInteger)({data:C.dataLength,defaultValue:-1,validate:pe=>pe>=0}),this.dataPrep=(0,l.getStringOption)(C.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,l.getInteger)({data:C.dataRowCount,defaultValue:-1,validate:pe=>pe>=0}),this.endChar=C.endChar||"",this.errorCorrectionLevel=(0,l.getInteger)({data:C.errorCorrectionLevel,defaultValue:-1,validate:pe=>pe>=0&&pe<=8}),this.id=C.id||"",this.moduleHeight=(0,l.getMeasurement)(C.moduleHeight,"5mm"),this.moduleWidth=(0,l.getMeasurement)(C.moduleWidth,"0.25mm"),this.printCheckDigit=(0,l.getInteger)({data:C.printCheckDigit,defaultValue:0,validate:pe=>pe===1}),this.rowColumnRatio=(0,l.getRatio)(C.rowColumnRatio),this.startChar=C.startChar||"",this.textLocation=(0,l.getStringOption)(C.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,l.getInteger)({data:C.truncate,defaultValue:0,validate:pe=>pe===1}),this.type=(0,l.getStringOption)(C.type?C.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,l.getStringOption)(C.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=C.use||"",this.usehref=C.usehref||"",this.wideNarrowRatio=(0,l.getRatio)(C.wideNarrowRatio),this.encrypt=null,this.extras=null}}class s extends t.XFAObject{constructor(C){super(u,"bind",!0),this.match=(0,l.getStringOption)(C.match,["once","dataRef","global","none"]),this.ref=C.ref||"",this.picture=null}}class A extends t.XFAObject{constructor(C){super(u,"bindItems"),this.connection=C.connection||"",this.labelRef=C.labelRef||"",this.ref=C.ref||"",this.valueRef=C.valueRef||""}}f.BindItems=A;class c extends t.XFAObject{constructor(C){super(u,"bookend"),this.id=C.id||"",this.leader=C.leader||"",this.trailer=C.trailer||"",this.use=C.use||"",this.usehref=C.usehref||""}}class y extends t.Option01{constructor(C){super(u,"boolean"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$toHTML](C){return S(this[n.$content]===1?"1":"0")}}class q extends t.XFAObject{constructor(C){super(u,"border",!0),this.break=(0,l.getStringOption)(C.break,["close","open"]),this.hand=(0,l.getStringOption)(C.hand,["even","left","right"]),this.id=C.id||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const C=this.edge.children.slice();if(C.length<4){const tt=C.at(-1)||new Ie({});for(let it=C.length;it<4;it++)C.push(tt)}const pe=C.map(tt=>tt.thickness),We=[0,0,0,0];this.margin&&(We[0]=this.margin.topInset,We[1]=this.margin.rightInset,We[2]=this.margin.bottomInset,We[3]=this.margin.leftInset),this[n.$extra]={widths:pe,insets:We,edges:C}}return this[n.$extra]}[n.$toStyle](){var tt;const{edges:C}=this[n.$getExtra](),pe=C.map(it=>{const ft=it[n.$toStyle]();return ft.color||(ft.color="#000000"),ft}),We=Object.create(null);if(this.margin&&Object.assign(We,this.margin[n.$toStyle]()),((tt=this.fill)==null?void 0:tt.presence)==="visible"&&Object.assign(We,this.fill[n.$toStyle]()),this.corner.children.some(it=>it.radius!==0)){const it=this.corner.children.map(ft=>ft[n.$toStyle]());if(it.length===2||it.length===3){const ft=it.at(-1);for(let mt=it.length;mt<4;mt++)it.push(ft)}We.borderRadius=it.map(ft=>ft.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":We.borderStyle="";break;case"inactive":We.borderStyle="none";break;default:We.borderStyle=pe.map(it=>it.style).join(" ");break}return We.borderWidth=pe.map(it=>it.width).join(" "),We.borderColor=pe.map(it=>it.color).join(" "),We}}class re extends t.XFAObject{constructor(C){super(u,"break",!0),this.after=(0,l.getStringOption)(C.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=C.afterTarget||"",this.before=(0,l.getStringOption)(C.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=C.beforeTarget||"",this.bookendLeader=C.bookendLeader||"",this.bookendTrailer=C.bookendTrailer||"",this.id=C.id||"",this.overflowLeader=C.overflowLeader||"",this.overflowTarget=C.overflowTarget||"",this.overflowTrailer=C.overflowTrailer||"",this.startNew=(0,l.getInteger)({data:C.startNew,defaultValue:0,validate:pe=>pe===1}),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}}class Q extends t.XFAObject{constructor(C){super(u,"breakAfter",!0),this.id=C.id||"",this.leader=C.leader||"",this.startNew=(0,l.getInteger)({data:C.startNew,defaultValue:0,validate:pe=>pe===1}),this.target=C.target||"",this.targetType=(0,l.getStringOption)(C.targetType,["auto","contentArea","pageArea"]),this.trailer=C.trailer||"",this.use=C.use||"",this.usehref=C.usehref||"",this.script=null}}class de extends t.XFAObject{constructor(C){super(u,"breakBefore",!0),this.id=C.id||"",this.leader=C.leader||"",this.startNew=(0,l.getInteger)({data:C.startNew,defaultValue:0,validate:pe=>pe===1}),this.target=C.target||"",this.targetType=(0,l.getStringOption)(C.targetType,["auto","contentArea","pageArea"]),this.trailer=C.trailer||"",this.use=C.use||"",this.usehref=C.usehref||"",this.script=null}[n.$toHTML](C){return this[n.$extra]={},l.HTMLResult.FAILURE}}class ee extends t.XFAObject{constructor(C){super(u,"button",!0),this.highlight=(0,l.getStringOption)(C.highlight,["inverted","none","outline","push"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}[n.$toHTML](C){const We=this[n.$getParent]()[n.$getParent](),tt={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const it of We.event.children){if(it.activity!=="click"||!it.script)continue;const ft=(0,g.recoverJsURL)(it.script[n.$content]);if(!ft)continue;const mt=(0,e.fixURL)(ft.url);mt&&tt.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:mt,newWindow:ft.newWindow,class:["xfaLink"],style:{}},children:[]})}return l.HTMLResult.success(tt)}}class ue extends t.XFAObject{constructor(C){super(u,"calculate",!0),this.id=C.id||"",this.override=(0,l.getStringOption)(C.override,["disabled","error","ignore","warning"]),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.message=null,this.script=null}}class W extends t.XFAObject{constructor(C){super(u,"caption",!0),this.id=C.id||"",this.placement=(0,l.getStringOption)(C.placement,["left","bottom","inline","right","top"]),this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,l.getMeasurement)(C.reserve)),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](C){I(this,C)}[n.$getExtra](C){if(!this[n.$extra]){let{width:pe,height:We}=C;switch(this.placement){case"left":case"right":case"inline":pe=this.reserve<=0?pe:this.reserve;break;case"top":case"bottom":We=this.reserve<=0?We:this.reserve;break}this[n.$extra]=(0,e.layoutNode)(this,{width:pe,height:We})}return this[n.$extra]}[n.$toHTML](C){if(!this.value)return l.HTMLResult.EMPTY;this[n.$pushPara]();const pe=this.value[n.$toHTML](C).html;if(!pe)return this[n.$popPara](),l.HTMLResult.EMPTY;const We=this.reserve;if(this.reserve<=0){const{w:ft,h:mt}=this[n.$getExtra](C);switch(this.placement){case"left":case"right":case"inline":this.reserve=ft;break;case"top":case"bottom":this.reserve=mt;break}}const tt=[];typeof pe=="string"?tt.push({name:"#text",value:pe}):tt.push(pe);const it=(0,e.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(it.width=(0,e.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(it.height=(0,e.measureToString)(this.reserve));break}return(0,e.setPara)(this,null,pe),this[n.$popPara](),this.reserve=We,l.HTMLResult.success({name:"div",attributes:{style:it,class:["xfaCaption"]},children:tt})}}class Z extends t.StringObject{constructor(C){super(u,"certificate"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}}class se extends t.XFAObject{constructor(C){super(u,"certificates",!0),this.credentialServerPolicy=(0,l.getStringOption)(C.credentialServerPolicy,["optional","required"]),this.id=C.id||"",this.url=C.url||"",this.urlPolicy=C.urlPolicy||"",this.use=C.use||"",this.usehref=C.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class ne extends t.XFAObject{constructor(C){super(u,"checkButton",!0),this.id=C.id||"",this.mark=(0,l.getStringOption)(C.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,l.getStringOption)(C.shape,["square","round"]),this.size=(0,l.getMeasurement)(C.size,"10pt"),this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](C){var zt,qt,Kt;const pe=(0,e.toStyle)("margin"),We=(0,e.measureToString)(this.size);pe.width=pe.height=We;let tt,it,ft;const mt=this[n.$getParent]()[n.$getParent](),bt=mt.items.children.length&&mt.items.children[0][n.$toHTML]().html||[],Ft={on:(bt[0]!==void 0?bt[0]:"on").toString(),off:(bt[1]!==void 0?bt[1]:"off").toString()},$t=(((zt=mt.value)==null?void 0:zt[n.$text]())||"off")===Ft.on||void 0,Bt=mt[n.$getSubformParent](),jt=mt[n.$uid];let Ht;Bt instanceof ae?(ft=Bt[n.$uid],tt="radio",it="xfaRadio",Ht=((qt=Bt[n.$data])==null?void 0:qt[n.$uid])||Bt[n.$uid]):(tt="checkbox",it="xfaCheckbox",Ht=((Kt=mt[n.$data])==null?void 0:Kt[n.$uid])||mt[n.$uid]);const Ot={name:"input",attributes:{class:[it],style:pe,fieldId:jt,dataId:Ht,type:tt,checked:$t,xfaOn:Ft.on,xfaOff:Ft.off,"aria-label":m(mt),"aria-required":!1}};return ft&&(Ot.attributes.name=ft),_(mt)&&(Ot.attributes["aria-required"]=!0,Ot.attributes.required=!0),l.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ot]})}}class ie extends t.XFAObject{constructor(C){super(u,"choiceList",!0),this.commitOn=(0,l.getStringOption)(C.commitOn,["select","exit"]),this.id=C.id||"",this.open=(0,l.getStringOption)(C.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,l.getInteger)({data:C.textEntry,defaultValue:0,validate:pe=>pe===1}),this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](C){var Ft,Dt,$t;const pe=(0,e.toStyle)(this,"border","margin"),tt=this[n.$getParent]()[n.$getParent](),ft={fontSize:`calc(${((Ft=tt.font)==null?void 0:Ft.size)||10}px * var(--scale-factor))`},mt=[];if(tt.items.children.length>0){const Bt=tt.items;let jt=0,Ht=0;Bt.children.length===2&&(jt=Bt.children[0].save,Ht=1-jt);const Ot=Bt.children[jt][n.$toHTML]().html,zt=Bt.children[Ht][n.$toHTML]().html;let qt=!1;const Kt=((Dt=tt.value)==null?void 0:Dt[n.$text]())||"";for(let Wt=0,Lt=Ot.length;Wt<Lt;Wt++){const wt={name:"option",attributes:{value:zt[Wt]||Ot[Wt],style:ft},value:Ot[Wt]};zt[Wt]===Kt&&(wt.attributes.selected=qt=!0),mt.push(wt)}qt||mt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const bt={class:["xfaSelect"],fieldId:tt[n.$uid],dataId:(($t=tt[n.$data])==null?void 0:$t[n.$uid])||tt[n.$uid],style:pe,"aria-label":m(tt),"aria-required":!1};return _(tt)&&(bt["aria-required"]=!0,bt.required=!0),this.open==="multiSelect"&&(bt.multiple=!0),l.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:mt,attributes:bt}]})}}class H extends t.XFAObject{constructor(C){super(u,"color",!0),this.cSpace=(0,l.getStringOption)(C.cSpace,["SRGB"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.value=C.value?(0,l.getColor)(C.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?L.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Y extends t.XFAObject{constructor(C){super(u,"comb"),this.id=C.id||"",this.numberOfCells=(0,l.getInteger)({data:C.numberOfCells,defaultValue:0,validate:pe=>pe>=0}),this.use=C.use||"",this.usehref=C.usehref||""}}class G extends t.XFAObject{constructor(C){super(u,"connect",!0),this.connection=C.connection||"",this.id=C.id||"",this.ref=C.ref||"",this.usage=(0,l.getStringOption)(C.usage,["exportAndImport","exportOnly","importOnly"]),this.use=C.use||"",this.usehref=C.usehref||"",this.picture=null}}class le extends t.XFAObject{constructor(C){super(u,"contentArea",!0),this.h=(0,l.getMeasurement)(C.h),this.id=C.id||"",this.name=C.name||"",this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.w=(0,l.getMeasurement)(C.w),this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](C){const pe=(0,e.measureToString)(this.x),We=(0,e.measureToString)(this.y),tt={left:pe,top:We,width:(0,e.measureToString)(this.w),height:(0,e.measureToString)(this.h)},it=["xfaContentarea"];return(0,e.isPrintOnly)(this)&&it.push("xfaPrintOnly"),l.HTMLResult.success({name:"div",children:[],attributes:{style:tt,class:it,id:this[n.$uid]}})}}class ce extends t.XFAObject{constructor(C){super(u,"corner",!0),this.id=C.id||"",this.inverted=(0,l.getInteger)({data:C.inverted,defaultValue:0,validate:pe=>pe===1}),this.join=(0,l.getStringOption)(C.join,["square","round"]),this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,l.getMeasurement)(C.radius),this.stroke=(0,l.getStringOption)(C.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,l.getMeasurement)(C.thickness,"0.5pt"),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const C=(0,e.toStyle)(this,"visibility");return C.radius=(0,e.measureToString)(this.join==="square"?0:this.radius),C}}class te extends t.ContentObject{constructor(C){super(u,"date"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=this[n.$content].trim();this[n.$content]=C?new Date(C):null}[n.$toHTML](C){return S(this[n.$content]?this[n.$content].toString():"")}}class ge extends t.ContentObject{constructor(C){super(u,"dateTime"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=this[n.$content].trim();this[n.$content]=C?new Date(C):null}[n.$toHTML](C){return S(this[n.$content]?this[n.$content].toString():"")}}class K extends t.XFAObject{constructor(C){super(u,"dateTimeEdit",!0),this.hScrollPolicy=(0,l.getStringOption)(C.hScrollPolicy,["auto","off","on"]),this.id=C.id||"",this.picker=(0,l.getStringOption)(C.picker,["host","none"]),this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](C){var it;const pe=(0,e.toStyle)(this,"border","font","margin"),We=this[n.$getParent]()[n.$getParent](),tt={name:"input",attributes:{type:"text",fieldId:We[n.$uid],dataId:((it=We[n.$data])==null?void 0:it[n.$uid])||We[n.$uid],class:["xfaTextfield"],style:pe,"aria-label":m(We),"aria-required":!1}};return _(We)&&(tt.attributes["aria-required"]=!0,tt.attributes.required=!0),l.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[tt]})}}class Se extends t.ContentObject{constructor(C){super(u,"decimal"),this.fracDigits=(0,l.getInteger)({data:C.fracDigits,defaultValue:2,validate:pe=>!0}),this.id=C.id||"",this.leadDigits=(0,l.getInteger)({data:C.leadDigits,defaultValue:-1,validate:pe=>!0}),this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(C)?null:C}[n.$toHTML](C){return S(this[n.$content]!==null?this[n.$content].toString():"")}}class Oe extends t.XFAObject{constructor(C){super(u,"defaultUi",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}}class Me extends t.XFAObject{constructor(C){super(u,"desc",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class _e extends t.OptionObject{constructor(C){super(u,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||""}}class ke extends t.XFAObject{constructor(C){super(u,"digestMethods",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.digestMethod=new t.XFAObjectArray}}class oe extends t.XFAObject{constructor(C){super(u,"draw",!0),this.anchorType=(0,l.getStringOption)(C.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,l.getInteger)({data:C.colSpan,defaultValue:1,validate:pe=>pe>=1||pe===-1}),this.h=C.h?(0,l.getMeasurement)(C.h):"",this.hAlign=(0,l.getStringOption)(C.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=C.id||"",this.locale=C.locale||"",this.maxH=(0,l.getMeasurement)(C.maxH,"0pt"),this.maxW=(0,l.getMeasurement)(C.maxW,"0pt"),this.minH=(0,l.getMeasurement)(C.minH,"0pt"),this.minW=(0,l.getMeasurement)(C.minW,"0pt"),this.name=C.name||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,l.getRelevant)(C.relevant),this.rotate=(0,l.getInteger)({data:C.rotate,defaultValue:0,validate:pe=>pe%90===0}),this.use=C.use||"",this.usehref=C.usehref||"",this.w=C.w?(0,l.getMeasurement)(C.w):"",this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[n.$setValue](C){I(this,C)}[n.$toHTML](C){if(P(this),this.presence==="hidden"||this.presence==="inactive")return l.HTMLResult.EMPTY;(0,e.fixDimensions)(this),this[n.$pushPara]();const pe=this.w,We=this.h,{w:tt,h:it,isBroken:ft}=(0,e.layoutNode)(this,C);if(tt&&this.w===""){if(ft&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),l.HTMLResult.FAILURE;this.w=tt}if(it&&this.h===""&&(this.h=it),R(this),!(0,T.checkDimensions)(this,C))return this.w=pe,this.h=We,this[n.$popPara](),l.HTMLResult.FAILURE;z(this);const mt=(0,e.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,e.setMinMaxDimensions)(this,mt),mt.margin&&(mt.padding=mt.margin,delete mt.margin);const bt=["xfaDraw"];this.font&&bt.push("xfaFont"),(0,e.isPrintOnly)(this)&&bt.push("xfaPrintOnly");const Ft={style:mt,id:this[n.$uid],class:bt};this.name&&(Ft.xfaName=this.name);const Dt={name:"div",attributes:Ft,children:[]};X(this,Ft);const $t=(0,e.computeBbox)(this,Dt,C),Bt=this.value?this.value[n.$toHTML](C).html:null;return Bt===null?(this.w=pe,this.h=We,this[n.$popPara](),l.HTMLResult.success((0,e.createWrapper)(this,Dt),$t)):(Dt.children.push(Bt),(0,e.setPara)(this,mt,Bt),this.w=pe,this.h=We,this[n.$popPara](),l.HTMLResult.success((0,e.createWrapper)(this,Dt),$t))}}class Ie extends t.XFAObject{constructor(C){super(u,"edge",!0),this.cap=(0,l.getStringOption)(C.cap,["square","butt","round"]),this.id=C.id||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,l.getStringOption)(C.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,l.getMeasurement)(C.thickness,"0.5pt"),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const C=(0,e.toStyle)(this,"visibility");if(Object.assign(C,{linecap:this.cap,width:(0,e.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")C.style="none";else switch(this.stroke){case"solid":C.style="solid";break;case"dashDot":C.style="dashed";break;case"dashDotDot":C.style="dashed";break;case"dashed":C.style="dashed";break;case"dotted":C.style="dotted";break;case"embossed":C.style="ridge";break;case"etched":C.style="groove";break;case"lowered":C.style="inset";break;case"raised":C.style="outset";break}return C}}class Be extends t.OptionObject{constructor(C){super(u,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||""}}class he extends t.XFAObject{constructor(C){super(u,"encodings",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.encoding=new t.XFAObjectArray}}class De extends t.XFAObject{constructor(C){super(u,"encrypt",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.certificate=null}}class ye extends t.XFAObject{constructor(C){super(u,"encryptData",!0),this.id=C.id||"",this.operation=(0,l.getStringOption)(C.operation,["encrypt","decrypt"]),this.target=C.target||"",this.use=C.use||"",this.usehref=C.usehref||"",this.filter=null,this.manifest=null}}class me extends t.XFAObject{constructor(C){super(u,"encryption",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.certificate=new t.XFAObjectArray}}class Pe extends t.OptionObject{constructor(C){super(u,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||""}}class Re extends t.XFAObject{constructor(C){super(u,"encryptionMethods",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class He extends t.XFAObject{constructor(C){super(u,"event",!0),this.activity=(0,l.getStringOption)(C.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=C.id||"",this.listen=(0,l.getStringOption)(C.listen,["refOnly","refAndDescendents"]),this.name=C.name||"",this.ref=C.ref||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Xe extends t.ContentObject{constructor(C){super(u,"exData"),this.contentType=C.contentType||"",this.href=C.href||"",this.id=C.id||"",this.maxLength=(0,l.getInteger)({data:C.maxLength,defaultValue:-1,validate:pe=>pe>=-1}),this.name=C.name||"",this.rid=C.rid||"",this.transferEncoding=(0,l.getStringOption)(C.transferEncoding,["none","base64","package"]),this.use=C.use||"",this.usehref=C.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](C){return this.contentType==="text/html"&&C[n.$namespaceId]===d.NamespaceIds.xhtml.id?(this[n.$content]=C,!0):this.contentType==="text/xml"?(this[n.$content]=C,!0):!1}[n.$toHTML](C){return this.contentType!=="text/html"||!this[n.$content]?l.HTMLResult.EMPTY:this[n.$content][n.$toHTML](C)}}class Fe extends t.XFAObject{constructor(C){super(u,"exObject",!0),this.archive=C.archive||"",this.classId=C.classId||"",this.codeBase=C.codeBase||"",this.codeType=C.codeType||"",this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class ae extends t.XFAObject{constructor(C){super(u,"exclGroup",!0),this.access=(0,l.getStringOption)(C.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=C.accessKey||"",this.anchorType=(0,l.getStringOption)(C.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,l.getInteger)({data:C.colSpan,defaultValue:1,validate:pe=>pe>=1||pe===-1}),this.h=C.h?(0,l.getMeasurement)(C.h):"",this.hAlign=(0,l.getStringOption)(C.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=C.id||"",this.layout=(0,l.getStringOption)(C.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,l.getMeasurement)(C.maxH,"0pt"),this.maxW=(0,l.getMeasurement)(C.maxW,"0pt"),this.minH=(0,l.getMeasurement)(C.minH,"0pt"),this.minW=(0,l.getMeasurement)(C.minW,"0pt"),this.name=C.name||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.w=C.w?(0,l.getMeasurement)(C.w):"",this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](C){for(const pe of this.field.children){if(!pe.value){const We=new an({});pe[n.$appendChild](We),pe.value=We}pe.value[n.$setValue](C)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){var pe;const C=this[n.$getSubformParent]();return C[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):(pe=C.layout)!=null&&pe.endsWith("-tb")&&C[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,T.flushHTML)(this)}[n.$addHTML](C,pe){(0,T.addHTML)(this,C,pe)}[n.$getAvailableSpace](){return(0,T.getAvailableSpace)(this)}[n.$toHTML](C){if(P(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return l.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const pe=[],We={id:this[n.$uid],class:[]};(0,e.setAccess)(this,We.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:pe,attributes:We,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,C.width),height:Math.min(this.h||1/0,C.height)},width:0,height:0,prevHeight:0,currentWidth:0});const tt=this[n.$isSplittable]();if(tt||R(this),!(0,T.checkDimensions)(this,C))return l.HTMLResult.FAILURE;const it=new Set(["field"]);if(this.layout.includes("row")){const qt=this[n.$getSubformParent]().columnWidths;Array.isArray(qt)&&qt.length>0&&(this[n.$extra].columnWidths=qt,this[n.$extra].currentColumn=0)}const ft=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),mt=["xfaExclgroup"],bt=(0,e.layoutClass)(this);bt&&mt.push(bt),(0,e.isPrintOnly)(this)&&mt.push("xfaPrintOnly"),We.style=ft,We.class=mt,this.name&&(We.xfaName=this.name),this[n.$pushPara]();const Ft=this.layout==="lr-tb"||this.layout==="rl-tb",Dt=Ft?i:1;for(;this[n.$extra].attempt<Dt;this[n.$extra].attempt++){Ft&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const qt=this[n.$childrenToHTML]({filter:it,include:!0});if(qt.success)break;if(qt.isBreak())return this[n.$popPara](),qt;if(Ft&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=Dt;break}}if(this[n.$popPara](),tt||z(this),this[n.$extra].attempt===Dt)return tt||delete this[n.$extra],l.HTMLResult.FAILURE;let $t=0,Bt=0;this.margin&&($t=this.margin.leftInset+this.margin.rightInset,Bt=this.margin.topInset+this.margin.bottomInset);const jt=Math.max(this[n.$extra].width+$t,this.w||0),Ht=Math.max(this[n.$extra].height+Bt,this.h||0),Ot=[this.x,this.y,jt,Ht];this.w===""&&(ft.width=(0,e.measureToString)(jt)),this.h===""&&(ft.height=(0,e.measureToString)(Ht));const zt={name:"div",attributes:We,children:pe};return X(this,We),delete this[n.$extra],l.HTMLResult.success((0,e.createWrapper)(this,zt),Ot)}}class Ae extends t.XFAObject{constructor(C){super(u,"execute"),this.connection=C.connection||"",this.executeType=(0,l.getStringOption)(C.executeType,["import","remerge"]),this.id=C.id||"",this.runAt=(0,l.getStringOption)(C.runAt,["client","both","server"]),this.use=C.use||"",this.usehref=C.usehref||""}}class Le extends t.XFAObject{constructor(C){super(u,"extras",!0),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ee extends t.XFAObject{constructor(C){super(u,"field",!0),this.access=(0,l.getStringOption)(C.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=C.accessKey||"",this.anchorType=(0,l.getStringOption)(C.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,l.getInteger)({data:C.colSpan,defaultValue:1,validate:pe=>pe>=1||pe===-1}),this.h=C.h?(0,l.getMeasurement)(C.h):"",this.hAlign=(0,l.getStringOption)(C.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=C.id||"",this.locale=C.locale||"",this.maxH=(0,l.getMeasurement)(C.maxH,"0pt"),this.maxW=(0,l.getMeasurement)(C.maxW,"0pt"),this.minH=(0,l.getMeasurement)(C.minH,"0pt"),this.minW=(0,l.getMeasurement)(C.minW,"0pt"),this.name=C.name||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,l.getRelevant)(C.relevant),this.rotate=(0,l.getInteger)({data:C.rotate,defaultValue:0,validate:pe=>pe%90===0}),this.use=C.use||"",this.usehref=C.usehref||"",this.w=C.w?(0,l.getMeasurement)(C.w):"",this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](C){I(this,C)}[n.$toHTML](C){var qt,Kt,Wt;if(P(this),!this.ui){this.ui=new bn({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let Lt;switch(this.items.children.length){case 0:Lt=new Fn({}),this.ui.textEdit=Lt;break;case 1:Lt=new ne({}),this.ui.checkButton=Lt;break;case 2:Lt=new ie({}),this.ui.choiceList=Lt;break}this.ui[n.$appendChild](Lt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return l.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const pe=this.caption?this.caption[n.$toHTML](C).html:null,We=this.w,tt=this.h;let it=0,ft=0;this.margin&&(it=this.margin.leftInset+this.margin.rightInset,ft=this.margin.topInset+this.margin.bottomInset);let mt=null;if(this.w===""||this.h===""){let Lt=null,wt=null,Jt=0,Yt=0;if(this.ui.checkButton)Jt=Yt=this.ui.checkButton.size;else{const{w:tn,h:Qt}=(0,e.layoutNode)(this,C);tn!==null?(Jt=tn,Yt=Qt):Yt=(0,F.getMetrics)(this.font,!0).lineNoGap}if(mt=U(this.ui[n.$getExtra]()),Jt+=mt.w,Yt+=mt.h,this.caption){const{w:tn,h:Qt,isBroken:Gt}=this.caption[n.$getExtra](C);if(Gt&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),l.HTMLResult.FAILURE;switch(Lt=tn,wt=Qt,this.caption.placement){case"left":case"right":case"inline":Lt+=Jt;break;case"top":case"bottom":wt+=Yt;break}}else Lt=Jt,wt=Yt;Lt&&this.w===""&&(Lt+=it,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Lt?Lt:this.minW)),wt&&this.h===""&&(wt+=ft,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<wt?wt:this.minH))}if(this[n.$popPara](),(0,e.fixDimensions)(this),R(this),!(0,T.checkDimensions)(this,C))return this.w=We,this.h=tt,this[n.$popPara](),l.HTMLResult.FAILURE;z(this);const bt=(0,e.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,e.setMinMaxDimensions)(this,bt);const Ft=["xfaField"];this.font&&Ft.push("xfaFont"),(0,e.isPrintOnly)(this)&&Ft.push("xfaPrintOnly");const Dt={style:bt,id:this[n.$uid],class:Ft};bt.margin&&(bt.padding=bt.margin,delete bt.margin),(0,e.setAccess)(this,Ft),this.name&&(Dt.xfaName=this.name);const $t=[],Bt={name:"div",attributes:Dt,children:$t};X(this,Dt);const jt=this.border?this.border[n.$toStyle]():null,Ht=(0,e.computeBbox)(this,Bt,C),Ot=this.ui[n.$toHTML]().html;if(!Ot)return Object.assign(bt,jt),l.HTMLResult.success((0,e.createWrapper)(this,Bt),Ht);this[n.$tabIndex]&&((qt=Ot.children)!=null&&qt[0]?Ot.children[0].attributes.tabindex=this[n.$tabIndex]:Ot.attributes.tabindex=this[n.$tabIndex]),Ot.attributes.style||(Ot.attributes.style=Object.create(null));let zt=null;if(this.ui.button?(Ot.children.length===1&&([zt]=Ot.children.splice(0,1)),Object.assign(Ot.attributes.style,jt)):Object.assign(bt,jt),$t.push(Ot),this.value){if(this.ui.imageEdit)Ot.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let Lt="";if(this.value.exData)Lt=this.value.exData[n.$text]();else if(this.value.text)Lt=this.value.text[n.$getExtra]();else{const wt=this.value[n.$toHTML]().html;wt!==null&&(Lt=wt.children[0].value)}this.ui.textEdit&&((Kt=this.value.text)!=null&&Kt.maxChars)&&(Ot.children[0].attributes.maxLength=this.value.text.maxChars),Lt&&(this.ui.numericEdit&&(Lt=parseFloat(Lt),Lt=isNaN(Lt)?"":Lt.toString()),Ot.children[0].name==="textarea"?Ot.children[0].attributes.textContent=Lt:Ot.children[0].attributes.value=Lt)}}if(!this.ui.imageEdit&&((Wt=Ot.children)!=null&&Wt[0])&&this.h){mt=mt||U(this.ui[n.$getExtra]());let Lt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Lt=this.caption.reserve,Lt<=0&&(Lt=this.caption[n.$getExtra](C).h);const wt=this.h-Lt-ft-mt.h;Ot.children[0].attributes.style.height=(0,e.measureToString)(wt)}else Ot.children[0].attributes.style.height="100%"}if(zt&&Ot.children.push(zt),!pe)return Ot.attributes.class&&Ot.attributes.class.push("xfaLeft"),this.w=We,this.h=tt,l.HTMLResult.success((0,e.createWrapper)(this,Bt),Ht);if(this.ui.button)return bt.padding&&delete bt.padding,pe.name==="div"&&(pe.name="span"),Ot.children.push(pe),l.HTMLResult.success(Bt,Ht);switch(this.ui.checkButton&&(pe.attributes.class[0]="xfaCaptionForCheckButton"),Ot.attributes.class||(Ot.attributes.class=[]),Ot.children.splice(0,0,pe),this.caption.placement){case"left":Ot.attributes.class.push("xfaLeft");break;case"right":Ot.attributes.class.push("xfaRight");break;case"top":Ot.attributes.class.push("xfaTop");break;case"bottom":Ot.attributes.class.push("xfaBottom");break;case"inline":Ot.attributes.class.push("xfaLeft");break}return this.w=We,this.h=tt,l.HTMLResult.success((0,e.createWrapper)(this,Bt),Ht)}}f.Field=Ee;class xe extends t.XFAObject{constructor(C){super(u,"fill",!0),this.id=C.id||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){var mt;const C=this[n.$getParent](),We=C[n.$getParent]()[n.$getParent](),tt=Object.create(null);let it="color",ft=it;C instanceof q&&(it="background-color",ft="background",We instanceof bn&&(tt.backgroundColor="white")),(C instanceof Ct||C instanceof M)&&(it=ft="fill",tt.fill="white");for(const bt of Object.getOwnPropertyNames(this)){if(bt==="extras"||bt==="color")continue;const Ft=this[bt];if(!(Ft instanceof t.XFAObject))continue;const Dt=Ft[n.$toStyle](this.color);return Dt&&(tt[Dt.startsWith("#")?it:ft]=Dt),tt}if((mt=this.color)!=null&&mt.value){const bt=this.color[n.$toStyle]();tt[bt.startsWith("#")?it:ft]=bt}return tt}}class Te extends t.XFAObject{constructor(C){super(u,"filter",!0),this.addRevocationInfo=(0,l.getStringOption)(C.addRevocationInfo,["","required","optional","none"]),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||"",this.version=(0,l.getInteger)({data:this.version,defaultValue:5,validate:pe=>pe>=1&&pe<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Ne extends t.ContentObject{constructor(C){super(u,"float"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(C)?null:C}[n.$toHTML](C){return S(this[n.$content]!==null?this[n.$content].toString():"")}}class $e extends t.XFAObject{constructor(C){super(u,"font",!0),this.baselineShift=(0,l.getMeasurement)(C.baselineShift),this.fontHorizontalScale=(0,l.getFloat)({data:C.fontHorizontalScale,defaultValue:100,validate:pe=>pe>=0}),this.fontVerticalScale=(0,l.getFloat)({data:C.fontVerticalScale,defaultValue:100,validate:pe=>pe>=0}),this.id=C.id||"",this.kerningMode=(0,l.getStringOption)(C.kerningMode,["none","pair"]),this.letterSpacing=(0,l.getMeasurement)(C.letterSpacing,"0"),this.lineThrough=(0,l.getInteger)({data:C.lineThrough,defaultValue:0,validate:pe=>pe===1||pe===2}),this.lineThroughPeriod=(0,l.getStringOption)(C.lineThroughPeriod,["all","word"]),this.overline=(0,l.getInteger)({data:C.overline,defaultValue:0,validate:pe=>pe===1||pe===2}),this.overlinePeriod=(0,l.getStringOption)(C.overlinePeriod,["all","word"]),this.posture=(0,l.getStringOption)(C.posture,["normal","italic"]),this.size=(0,l.getMeasurement)(C.size,"10pt"),this.typeface=C.typeface||"Courier",this.underline=(0,l.getInteger)({data:C.underline,defaultValue:0,validate:pe=>pe===1||pe===2}),this.underlinePeriod=(0,l.getStringOption)(C.underlinePeriod,["all","word"]),this.use=C.use||"",this.usehref=C.usehref||"",this.weight=(0,l.getStringOption)(C.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](C){super[n.$clean](C),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const C=(0,e.toStyle)(this,"fill"),pe=C.color;return pe&&(pe==="#000000"?delete C.color:pe.startsWith("#")||(C.background=pe,C.backgroundClip="text",C.color="transparent")),this.baselineShift&&(C.verticalAlign=(0,e.measureToString)(this.baselineShift)),C.fontKerning=this.kerningMode==="none"?"none":"normal",C.letterSpacing=(0,e.measureToString)(this.letterSpacing),this.lineThrough!==0&&(C.textDecoration="line-through",this.lineThrough===2&&(C.textDecorationStyle="double")),this.overline!==0&&(C.textDecoration="overline",this.overline===2&&(C.textDecorationStyle="double")),C.fontStyle=this.posture,C.fontSize=(0,e.measureToString)(.99*this.size),(0,e.setFontFamily)(this,this,this[n.$globalData].fontFinder,C),this.underline!==0&&(C.textDecoration="underline",this.underline===2&&(C.textDecorationStyle="double")),C.fontWeight=this.weight,C}}class Ue extends t.XFAObject{constructor(C){super(u,"format",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.picture=null}}class ze extends t.StringObject{constructor(C){super(u,"handler"),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||""}}class Ge extends t.XFAObject{constructor(C){super(u,"hyphenation"),this.excludeAllCaps=(0,l.getInteger)({data:C.excludeAllCaps,defaultValue:0,validate:pe=>pe===1}),this.excludeInitialCap=(0,l.getInteger)({data:C.excludeInitialCap,defaultValue:0,validate:pe=>pe===1}),this.hyphenate=(0,l.getInteger)({data:C.hyphenate,defaultValue:0,validate:pe=>pe===1}),this.id=C.id||"",this.pushCharacterCount=(0,l.getInteger)({data:C.pushCharacterCount,defaultValue:3,validate:pe=>pe>=0}),this.remainCharacterCount=(0,l.getInteger)({data:C.remainCharacterCount,defaultValue:3,validate:pe=>pe>=0}),this.use=C.use||"",this.usehref=C.usehref||"",this.wordCharacterCount=(0,l.getInteger)({data:C.wordCharacterCount,defaultValue:7,validate:pe=>pe>=0})}}class Ve extends t.StringObject{constructor(C){super(u,"image"),this.aspect=(0,l.getStringOption)(C.aspect,["fit","actual","height","none","width"]),this.contentType=C.contentType||"",this.href=C.href||"",this.id=C.id||"",this.name=C.name||"",this.transferEncoding=(0,l.getStringOption)(C.transferEncoding,["base64","none","package"]),this.use=C.use||"",this.usehref=C.usehref||""}[n.$toHTML](){if(this.contentType&&!b.has(this.contentType.toLowerCase()))return l.HTMLResult.EMPTY;let C=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!C&&(this.href||!this[n.$content])||(!C&&this.transferEncoding==="base64"&&(C=(0,L.stringToBytes)(atob(this[n.$content]))),!C))return l.HTMLResult.EMPTY;if(!this.contentType){for(const[it,ft]of N)if(C.length>it.length&&it.every((mt,bt)=>mt===C[bt])){this.contentType=ft;break}if(!this.contentType)return l.HTMLResult.EMPTY}const pe=new Blob([C],{type:this.contentType});let We;switch(this.aspect){case"fit":case"actual":break;case"height":We={height:"100%",objectFit:"fill"};break;case"none":We={width:"100%",height:"100%",objectFit:"fill"};break;case"width":We={width:"100%",objectFit:"fill"};break}const tt=this[n.$getParent]();return l.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:We,src:URL.createObjectURL(pe),alt:tt?m(tt[n.$getParent]()):null}})}}class Ke extends t.XFAObject{constructor(C){super(u,"imageEdit",!0),this.data=(0,l.getStringOption)(C.data,["link","embed"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](C){return this.data==="embed"?l.HTMLResult.success({name:"div",children:[],attributes:{}}):l.HTMLResult.EMPTY}}class et extends t.ContentObject{constructor(C){super(u,"integer"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(C)?null:C}[n.$toHTML](C){return S(this[n.$content]!==null?this[n.$content].toString():"")}}class rt extends t.XFAObject{constructor(C){super(u,"issuers",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.certificate=new t.XFAObjectArray}}class ot extends t.XFAObject{constructor(C){super(u,"items",!0),this.id=C.id||"",this.name=C.name||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.ref=C.ref||"",this.save=(0,l.getInteger)({data:C.save,defaultValue:0,validate:pe=>pe===1}),this.use=C.use||"",this.usehref=C.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$toHTML](){const C=[];for(const pe of this[n.$getChildren]())C.push(pe[n.$text]());return l.HTMLResult.success(C)}}f.Items=ot;class ht extends t.XFAObject{constructor(C){super(u,"keep",!0),this.id=C.id||"";const pe=["none","contentArea","pageArea"];this.intact=(0,l.getStringOption)(C.intact,pe),this.next=(0,l.getStringOption)(C.next,pe),this.previous=(0,l.getStringOption)(C.previous,pe),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}}class lt extends t.XFAObject{constructor(C){super(u,"keyUsage");const pe=["","yes","no"];this.crlSign=(0,l.getStringOption)(C.crlSign,pe),this.dataEncipherment=(0,l.getStringOption)(C.dataEncipherment,pe),this.decipherOnly=(0,l.getStringOption)(C.decipherOnly,pe),this.digitalSignature=(0,l.getStringOption)(C.digitalSignature,pe),this.encipherOnly=(0,l.getStringOption)(C.encipherOnly,pe),this.id=C.id||"",this.keyAgreement=(0,l.getStringOption)(C.keyAgreement,pe),this.keyCertSign=(0,l.getStringOption)(C.keyCertSign,pe),this.keyEncipherment=(0,l.getStringOption)(C.keyEncipherment,pe),this.nonRepudiation=(0,l.getStringOption)(C.nonRepudiation,pe),this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||""}}class yt extends t.XFAObject{constructor(C){super(u,"line",!0),this.hand=(0,l.getStringOption)(C.hand,["even","left","right"]),this.id=C.id||"",this.slope=(0,l.getStringOption)(C.slope,["\\","/"]),this.use=C.use||"",this.usehref=C.usehref||"",this.edge=null}[n.$toHTML](){const C=this[n.$getParent]()[n.$getParent](),pe=this.edge||new Ie({}),We=pe[n.$toStyle](),tt=Object.create(null),it=pe.presence==="visible"?pe.thickness:0;tt.strokeWidth=(0,e.measureToString)(it),tt.stroke=We.color;let ft,mt,bt,Ft,Dt="100%",$t="100%";C.w<=it?([ft,mt,bt,Ft]=["50%",0,"50%","100%"],Dt=tt.strokeWidth):C.h<=it?([ft,mt,bt,Ft]=[0,"50%","100%","50%"],$t=tt.strokeWidth):this.slope==="\\"?[ft,mt,bt,Ft]=[0,0,"100%","100%"]:[ft,mt,bt,Ft]=[0,"100%","100%",0];const jt={name:"svg",children:[{name:"line",attributes:{xmlns:h,x1:ft,y1:mt,x2:bt,y2:Ft,style:tt}}],attributes:{xmlns:h,width:Dt,height:$t,style:{overflow:"visible"}}};return D(C)?l.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[jt]}):(jt.attributes.style.position="absolute",l.HTMLResult.success(jt))}}class Tt extends t.XFAObject{constructor(C){super(u,"linear",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["toRight","toBottom","toLeft","toTop"]),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](C){C=C?C[n.$toStyle]():"#FFFFFF";const pe=this.type.replace(/([RBLT])/," $1").toLowerCase(),We=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${pe}, ${C}, ${We})`}}class Qe extends t.ContentObject{constructor(C){super(u,"lockDocument"),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){this[n.$content]=(0,l.getStringOption)(this[n.$content],["auto","0","1"])}}class Je extends t.XFAObject{constructor(C){super(u,"manifest",!0),this.action=(0,l.getStringOption)(C.action,["include","all","exclude"]),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class nt extends t.XFAObject{constructor(C){super(u,"margin",!0),this.bottomInset=(0,l.getMeasurement)(C.bottomInset,"0"),this.id=C.id||"",this.leftInset=(0,l.getMeasurement)(C.leftInset,"0"),this.rightInset=(0,l.getMeasurement)(C.rightInset,"0"),this.topInset=(0,l.getMeasurement)(C.topInset,"0"),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,e.measureToString)(this.topInset)+" "+(0,e.measureToString)(this.rightInset)+" "+(0,e.measureToString)(this.bottomInset)+" "+(0,e.measureToString)(this.leftInset)}}}class st extends t.XFAObject{constructor(C){super(u,"mdp"),this.id=C.id||"",this.permissions=(0,l.getInteger)({data:C.permissions,defaultValue:2,validate:pe=>pe===1||pe===3}),this.signatureType=(0,l.getStringOption)(C.signatureType,["filler","author"]),this.use=C.use||"",this.usehref=C.usehref||""}}class ct extends t.XFAObject{constructor(C){super(u,"medium"),this.id=C.id||"",this.imagingBBox=(0,l.getBBox)(C.imagingBBox),this.long=(0,l.getMeasurement)(C.long),this.orientation=(0,l.getStringOption)(C.orientation,["portrait","landscape"]),this.short=(0,l.getMeasurement)(C.short),this.stock=C.stock||"",this.trayIn=(0,l.getStringOption)(C.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,l.getStringOption)(C.trayOut,["auto","delegate"]),this.use=C.use||"",this.usehref=C.usehref||""}}class xt extends t.XFAObject{constructor(C){super(u,"message",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.text=new t.XFAObjectArray}}class ut extends t.XFAObject{constructor(C){super(u,"numericEdit",!0),this.hScrollPolicy=(0,l.getStringOption)(C.hScrollPolicy,["auto","off","on"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](C){var it;const pe=(0,e.toStyle)(this,"border","font","margin"),We=this[n.$getParent]()[n.$getParent](),tt={name:"input",attributes:{type:"text",fieldId:We[n.$uid],dataId:((it=We[n.$data])==null?void 0:it[n.$uid])||We[n.$uid],class:["xfaTextfield"],style:pe,"aria-label":m(We),"aria-required":!1}};return _(We)&&(tt.attributes["aria-required"]=!0,tt.attributes.required=!0),l.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[tt]})}}class at extends t.XFAObject{constructor(C){super(u,"occur",!0),this.id=C.id||"",this.initial=C.initial!==""?(0,l.getInteger)({data:C.initial,defaultValue:"",validate:pe=>!0}):"",this.max=C.max!==""?(0,l.getInteger)({data:C.max,defaultValue:1,validate:pe=>!0}):"",this.min=C.min!==""?(0,l.getInteger)({data:C.min,defaultValue:1,validate:pe=>!0}):"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}[n.$clean](){const C=this[n.$getParent](),pe=this.min;this.min===""&&(this.min=C instanceof vt||C instanceof St?0:1),this.max===""&&(pe===""?this.max=C instanceof vt||C instanceof St?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=C instanceof xn?1:this.min)}}class gt extends t.StringObject{constructor(C){super(u,"oid"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}}class At extends t.XFAObject{constructor(C){super(u,"oids",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.oid=new t.XFAObjectArray}}class Rt extends t.XFAObject{constructor(C){super(u,"overflow"),this.id=C.id||"",this.leader=C.leader||"",this.target=C.target||"",this.trailer=C.trailer||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const C=this[n.$getParent](),pe=this[n.$getTemplateRoot](),We=pe[n.$searchNode](this.target,C),tt=pe[n.$searchNode](this.leader,C),it=pe[n.$searchNode](this.trailer,C);this[n.$extra]={target:(We==null?void 0:We[0])||null,leader:(tt==null?void 0:tt[0])||null,trailer:(it==null?void 0:it[0])||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class vt extends t.XFAObject{constructor(C){super(u,"pageArea",!0),this.blankOrNotBlank=(0,l.getStringOption)(C.blankOrNotBlank,["any","blank","notBlank"]),this.id=C.id||"",this.initialNumber=(0,l.getInteger)({data:C.initialNumber,defaultValue:1,validate:pe=>!0}),this.name=C.name||"",this.numbered=(0,l.getInteger)({data:C.numbered,defaultValue:1,validate:pe=>!0}),this.oddOrEven=(0,l.getStringOption)(C.oddOrEven,["any","even","odd"]),this.pagePosition=(0,l.getStringOption)(C.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const C=this[n.$getParent]();return C.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):C[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const C=[];this[n.$extra].children=C;const pe=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(pe.width=(0,e.measureToString)(this.medium.short),pe.height=(0,e.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const We=pe.width;pe.width=pe.height,pe.height=We,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,L.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),l.HTMLResult.success({name:"div",children:C,attributes:{class:["xfaPage"],id:this[n.$uid],style:pe,xfaName:this.name}})}}class St extends t.XFAObject{constructor(C){super(u,"pageSet",!0),this.duplexImposition=(0,l.getStringOption)(C.duplexImposition,["longEdge","shortEdge"]),this.id=C.id||"",this.name=C.name||"",this.relation=(0,l.getStringOption)(C.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[n.$cleanPage](){for(const C of this.pageArea.children)C[n.$cleanPage]();for(const C of this.pageSet.children)C[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const it=this[n.$getParent]();return it instanceof St?it[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const C=this[n.$getTemplateRoot]()[n.$extra].pageNumber,pe=C%2===0?"even":"odd",We=C===0?"first":"rest";let tt=this.pageArea.children.find(it=>it.oddOrEven===pe&&it.pagePosition===We);return tt||(tt=this.pageArea.children.find(it=>it.oddOrEven==="any"&&it.pagePosition===We),tt)||(tt=this.pageArea.children.find(it=>it.oddOrEven==="any"&&it.pagePosition==="any"),tt)?tt:this.pageArea.children[0]}}class It extends t.XFAObject{constructor(C){super(u,"para",!0),this.hAlign=(0,l.getStringOption)(C.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=C.id||"",this.lineHeight=C.lineHeight?(0,l.getMeasurement)(C.lineHeight,"0pt"):"",this.marginLeft=C.marginLeft?(0,l.getMeasurement)(C.marginLeft,"0pt"):"",this.marginRight=C.marginRight?(0,l.getMeasurement)(C.marginRight,"0pt"):"",this.orphans=(0,l.getInteger)({data:C.orphans,defaultValue:0,validate:pe=>pe>=0}),this.preserve=C.preserve||"",this.radixOffset=C.radixOffset?(0,l.getMeasurement)(C.radixOffset,"0pt"):"",this.spaceAbove=C.spaceAbove?(0,l.getMeasurement)(C.spaceAbove,"0pt"):"",this.spaceBelow=C.spaceBelow?(0,l.getMeasurement)(C.spaceBelow,"0pt"):"",this.tabDefault=C.tabDefault?(0,l.getMeasurement)(this.tabDefault):"",this.tabStops=(C.tabStops||"").trim().split(/\s+/).map((pe,We)=>We%2===1?(0,l.getMeasurement)(pe):pe),this.textIndent=C.textIndent?(0,l.getMeasurement)(C.textIndent,"0pt"):"",this.use=C.use||"",this.usehref=C.usehref||"",this.vAlign=(0,l.getStringOption)(C.vAlign,["top","bottom","middle"]),this.widows=(0,l.getInteger)({data:C.widows,defaultValue:0,validate:pe=>pe>=0}),this.hyphenation=null}[n.$toStyle](){const C=(0,e.toStyle)(this,"hAlign");return this.marginLeft!==""&&(C.paddingLeft=(0,e.measureToString)(this.marginLeft)),this.marginRight!==""&&(C.paddingight=(0,e.measureToString)(this.marginRight)),this.spaceAbove!==""&&(C.paddingTop=(0,e.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(C.paddingBottom=(0,e.measureToString)(this.spaceBelow)),this.textIndent!==""&&(C.textIndent=(0,e.measureToString)(this.textIndent),(0,e.fixTextIndent)(C)),this.lineHeight>0&&(C.lineHeight=(0,e.measureToString)(this.lineHeight)),this.tabDefault!==""&&(C.tabSize=(0,e.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(C,this.hyphenatation[n.$toStyle]()),C}}class pt extends t.XFAObject{constructor(C){super(u,"passwordEdit",!0),this.hScrollPolicy=(0,l.getStringOption)(C.hScrollPolicy,["auto","off","on"]),this.id=C.id||"",this.passwordChar=C.passwordChar||"*",this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.extras=null,this.margin=null}}class _t extends t.XFAObject{constructor(C){super(u,"pattern",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](C){C=C?C[n.$toStyle]():"#FFFFFF";const pe=this.color?this.color[n.$toStyle]():"#000000",We=5,tt="repeating-linear-gradient",it=`${C},${C} ${We}px,${pe} ${We}px,${pe} ${2*We}px`;switch(this.type){case"crossHatch":return`${tt}(to top,${it}) ${tt}(to right,${it})`;case"crossDiagonal":return`${tt}(45deg,${it}) ${tt}(-45deg,${it})`;case"diagonalLeft":return`${tt}(45deg,${it})`;case"diagonalRight":return`${tt}(-45deg,${it})`;case"horizontal":return`${tt}(to top,${it})`;case"vertical":return`${tt}(to right,${it})`}return""}}class dt extends t.StringObject{constructor(C){super(u,"picture"),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||""}}class kt extends t.XFAObject{constructor(C){super(u,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Pt extends t.XFAObject{constructor(C){super(u,"radial",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["toEdge","toCenter"]),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](C){C=C?C[n.$toStyle]():"#FFFFFF";const pe=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${C},${pe}`:`${pe},${C}`})`}}class Xt extends t.StringObject{constructor(C){super(u,"reason"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}}class Et extends t.XFAObject{constructor(C){super(u,"reasons",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.reason=new t.XFAObjectArray}}class Ct extends t.XFAObject{constructor(C){super(u,"rectangle",!0),this.hand=(0,l.getStringOption)(C.hand,["even","left","right"]),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}[n.$toHTML](){var Ft;const C=this.edge.children.length?this.edge.children[0]:new Ie({}),pe=C[n.$toStyle](),We=Object.create(null);((Ft=this.fill)==null?void 0:Ft.presence)==="visible"?Object.assign(We,this.fill[n.$toStyle]()):We.fill="transparent",We.strokeWidth=(0,e.measureToString)(C.presence==="visible"?C.thickness:0),We.stroke=pe.color;const it=(this.corner.children.length?this.corner.children[0]:new ce({}))[n.$toStyle](),mt={name:"svg",children:[{name:"rect",attributes:{xmlns:h,width:"100%",height:"100%",x:0,y:0,rx:it.radius,ry:it.radius,style:We}}],attributes:{xmlns:h,style:{overflow:"visible"},width:"100%",height:"100%"}},bt=this[n.$getParent]()[n.$getParent]();return D(bt)?l.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[mt]}):(mt.attributes.style.position="absolute",l.HTMLResult.success(mt))}}class Nt extends t.StringObject{constructor(C){super(u,"ref"),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||""}}class Ut extends t.StringObject{constructor(C){super(u,"script"),this.binding=C.binding||"",this.contentType=C.contentType||"",this.id=C.id||"",this.name=C.name||"",this.runAt=(0,l.getStringOption)(C.runAt,["client","both","server"]),this.use=C.use||"",this.usehref=C.usehref||""}}class Vt extends t.XFAObject{constructor(C){super(u,"setProperty"),this.connection=C.connection||"",this.ref=C.ref||"",this.target=C.target||""}}f.SetProperty=Vt;class nn extends t.XFAObject{constructor(C){super(u,"signData",!0),this.id=C.id||"",this.operation=(0,l.getStringOption)(C.operation,["sign","clear","verify"]),this.ref=C.ref||"",this.target=C.target||"",this.use=C.use||"",this.usehref=C.usehref||"",this.filter=null,this.manifest=null}}class Zn extends t.XFAObject{constructor(C){super(u,"signature",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["PDF1.3","PDF1.6"]),this.use=C.use||"",this.usehref=C.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Jn extends t.XFAObject{constructor(C){super(u,"signing",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.certificate=new t.XFAObjectArray}}class Qn extends t.XFAObject{constructor(C){super(u,"solid",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null}[n.$toStyle](C){return C?C[n.$toStyle]():"#FFFFFF"}}class ei extends t.StringObject{constructor(C){super(u,"speak"),this.disable=(0,l.getInteger)({data:C.disable,defaultValue:0,validate:pe=>pe===1}),this.id=C.id||"",this.priority=(0,l.getStringOption)(C.priority,["custom","caption","name","toolTip"]),this.rid=C.rid||"",this.use=C.use||"",this.usehref=C.usehref||""}}class ti extends t.XFAObject{constructor(C){super(u,"stipple",!0),this.id=C.id||"",this.rate=(0,l.getInteger)({data:C.rate,defaultValue:50,validate:pe=>pe>=0&&pe<=100}),this.use=C.use||"",this.usehref=C.usehref||"",this.color=null,this.extras=null}[n.$toStyle](C){const pe=this.rate/100;return L.Util.makeHexColor(Math.round(C.value.r*(1-pe)+this.value.r*pe),Math.round(C.value.g*(1-pe)+this.value.g*pe),Math.round(C.value.b*(1-pe)+this.value.b*pe))}}class Tn extends t.XFAObject{constructor(C){super(u,"subform",!0),this.access=(0,l.getStringOption)(C.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,l.getInteger)({data:C.allowMacro,defaultValue:0,validate:pe=>pe===1}),this.anchorType=(0,l.getStringOption)(C.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,l.getInteger)({data:C.colSpan,defaultValue:1,validate:pe=>pe>=1||pe===-1}),this.columnWidths=(C.columnWidths||"").trim().split(/\s+/).map(pe=>pe==="-1"?-1:(0,l.getMeasurement)(pe)),this.h=C.h?(0,l.getMeasurement)(C.h):"",this.hAlign=(0,l.getStringOption)(C.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=C.id||"",this.layout=(0,l.getStringOption)(C.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=C.locale||"",this.maxH=(0,l.getMeasurement)(C.maxH,"0pt"),this.maxW=(0,l.getMeasurement)(C.maxW,"0pt"),this.mergeMode=(0,l.getStringOption)(C.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,l.getMeasurement)(C.minH,"0pt"),this.minW=(0,l.getMeasurement)(C.minW,"0pt"),this.name=C.name||"",this.presence=(0,l.getStringOption)(C.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,l.getRelevant)(C.relevant),this.restoreState=(0,l.getStringOption)(C.restoreState,["manual","auto"]),this.scope=(0,l.getStringOption)(C.scope,["name","none"]),this.use=C.use||"",this.usehref=C.usehref||"",this.w=C.w?(0,l.getMeasurement)(C.w):"",this.x=(0,l.getMeasurement)(C.x,"0pt"),this.y=(0,l.getMeasurement)(C.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[n.$getSubformParent](){const C=this[n.$getParent]();return C instanceof mn?C[n.$getSubformParent]():C}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*B(this)}[n.$flushHTML](){return(0,T.flushHTML)(this)}[n.$addHTML](C,pe){(0,T.addHTML)(this,C,pe)}[n.$getAvailableSpace](){return(0,T.getAvailableSpace)(this)}[n.$isSplittable](){var pe;const C=this[n.$getSubformParent]();return C[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):(pe=C.layout)!=null&&pe.endsWith("-tb")&&C[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](C){var Lt;if(P(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const wt=new Q({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.breakAfter.push(wt)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const wt=new de({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.breakBefore.push(wt)}if(this.break.overflowTarget!==""){const wt=new Rt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});wt[n.$globalData]=this[n.$globalData],this[n.$appendChild](wt),this.overflow.push(wt)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return l.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,L.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const wt=this.breakBefore.children[0];if(O(wt))return l.HTMLResult.breakNode(wt)}if((Lt=this[n.$extra])!=null&&Lt.afterBreakAfter)return l.HTMLResult.EMPTY;(0,e.fixDimensions)(this);const pe=[],We={id:this[n.$uid],class:[]};(0,e.setAccess)(this,We.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:pe,line:null,attributes:We,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,C.width),height:Math.min(this.h||1/0,C.height)},width:0,height:0,prevHeight:0,currentWidth:0});const tt=this[n.$getTemplateRoot](),it=tt[n.$extra].noLayoutFailure,ft=this[n.$isSplittable]();if(ft||R(this),!(0,T.checkDimensions)(this,C))return l.HTMLResult.FAILURE;const mt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const wt=this[n.$getSubformParent]().columnWidths;Array.isArray(wt)&&wt.length>0&&(this[n.$extra].columnWidths=wt,this[n.$extra].currentColumn=0)}const bt=(0,e.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Ft=["xfaSubform"],Dt=(0,e.layoutClass)(this);if(Dt&&Ft.push(Dt),We.style=bt,We.class=Ft,this.name&&(We.xfaName=this.name),this.overflow){const wt=this.overflow[n.$getExtra]();wt.addLeader&&(wt.addLeader=!1,E(this,wt.leader,C))}this[n.$pushPara]();const $t=this.layout==="lr-tb"||this.layout==="rl-tb",Bt=$t?i:1;for(;this[n.$extra].attempt<Bt;this[n.$extra].attempt++){$t&&this[n.$extra].attempt===i-1&&(this[n.$extra].numberInLine=0);const wt=this[n.$childrenToHTML]({filter:mt,include:!0});if(wt.success)break;if(wt.isBreak())return this[n.$popPara](),wt;if($t&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!tt[n.$extra].noLayoutFailure){this[n.$extra].attempt=Bt;break}}if(this[n.$popPara](),ft||z(this),tt[n.$extra].noLayoutFailure=it,this[n.$extra].attempt===Bt)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),ft||delete this[n.$extra],l.HTMLResult.FAILURE;if(this.overflow){const wt=this.overflow[n.$getExtra]();wt.addTrailer&&(wt.addTrailer=!1,E(this,wt.trailer,C))}let jt=0,Ht=0;this.margin&&(jt=this.margin.leftInset+this.margin.rightInset,Ht=this.margin.topInset+this.margin.bottomInset);const Ot=Math.max(this[n.$extra].width+jt,this.w||0),zt=Math.max(this[n.$extra].height+Ht,this.h||0),qt=[this.x,this.y,Ot,zt];if(this.w===""&&(bt.width=(0,e.measureToString)(Ot)),this.h===""&&(bt.height=(0,e.measureToString)(zt)),(bt.width==="0px"||bt.height==="0px")&&pe.length===0)return l.HTMLResult.EMPTY;const Kt={name:"div",attributes:We,children:pe};X(this,We);const Wt=l.HTMLResult.success((0,e.createWrapper)(this,Kt),qt);if(this.breakAfter.children.length>=1){const wt=this.breakAfter.children[0];if(O(wt))return this[n.$extra].afterBreakAfter=Wt,l.HTMLResult.breakNode(wt)}return delete this[n.$extra],Wt}}class mn extends t.XFAObject{constructor(C){super(u,"subformSet",!0),this.id=C.id||"",this.name=C.name||"",this.relation=(0,l.getStringOption)(C.relation,["ordered","choice","unordered"]),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}*[n.$getContainedChildren](){yield*B(this)}[n.$getSubformParent](){let C=this[n.$getParent]();for(;!(C instanceof Tn);)C=C[n.$getParent]();return C}[n.$isBindable](){return!0}}class ni extends t.ContentObject{constructor(C){super(u,"subjectDN"),this.delimiter=C.delimiter||",",this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(C=>(C=C.split("=",2),C[0]=C[0].trim(),C)))}}class ii extends t.XFAObject{constructor(C){super(u,"subjectDNs",!0),this.id=C.id||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||"",this.subjectDN=new t.XFAObjectArray}}class ri extends t.XFAObject{constructor(C){super(u,"submit",!0),this.embedPDF=(0,l.getInteger)({data:C.embedPDF,defaultValue:0,validate:pe=>pe===1}),this.format=(0,l.getStringOption)(C.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=C.id||"",this.target=C.target||"",this.textEncoding=(0,l.getKeyword)({data:C.textEncoding?C.textEncoding.toLowerCase():"",defaultValue:"",validate:pe=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(pe)||pe.match(/iso-8859-\d{2}/)}),this.use=C.use||"",this.usehref=C.usehref||"",this.xdpContent=C.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class xn extends t.XFAObject{constructor(C){super(u,"template",!0),this.baseProfile=(0,l.getStringOption)(C.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,L.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,L.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=p}[n.$isSplittable](){return!0}[n.$searchNode](C,pe){return C.startsWith("#")?[this[n.$ids].get(C.slice(1))]:(0,w.searchNode)(this,pe,C,!0,!0)}*[n.$toPages](){var Ht,Ot,zt;if(!this.subform.children.length)return l.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const C=this.subform.children[0];C.pageSet[n.$cleanPage]();const pe=C.pageSet.pageArea.children,We={name:"div",children:[]};let tt=null,it=null,ft=null;if(C.breakBefore.children.length>=1?(it=C.breakBefore.children[0],ft=it.target):C.subform.children.length>=1&&C.subform.children[0].breakBefore.children.length>=1?(it=C.subform.children[0].breakBefore.children[0],ft=it.target):(Ht=C.break)!=null&&Ht.beforeTarget?(it=C.break,ft=it.beforeTarget):C.subform.children.length>=1&&((Ot=C.subform.children[0].break)!=null&&Ot.beforeTarget)&&(it=C.subform.children[0].break,ft=it.beforeTarget),it){const qt=this[n.$searchNode](ft,it[n.$getParent]());qt instanceof vt&&(tt=qt,it[n.$extra]={})}tt||(tt=pe[0]),tt[n.$extra]={numberOfUse:1};const mt=tt[n.$getParent]();mt[n.$extra]={numberOfUse:1,pageIndex:mt.pageArea.children.indexOf(tt),pageSetIndex:0};let bt,Ft=null,Dt=null,$t=!0,Bt=0,jt=0;for(;;){if($t)Bt=0;else if(We.children.pop(),++Bt===x)return(0,L.warn)("XFA - Something goes wrong: please file a bug."),We;bt=null,this[n.$extra].currentPageArea=tt;const qt=tt[n.$toHTML]().html;We.children.push(qt),Ft&&(this[n.$extra].noLayoutFailure=!0,qt.children.push(Ft[n.$toHTML](tt[n.$extra].space).html),Ft=null),Dt&&(this[n.$extra].noLayoutFailure=!0,qt.children.push(Dt[n.$toHTML](tt[n.$extra].space).html),Dt=null);const Kt=tt.contentArea.children,Wt=qt.children.filter(wt=>wt.attributes.class.includes("xfaContentarea"));$t=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const Lt=wt=>{var Yt;const Jt=C[n.$flushHTML]();Jt&&($t||($t=((Yt=Jt.children)==null?void 0:Yt.length)>0),Wt[wt].children.push(Jt))};for(let wt=jt,Jt=Kt.length;wt<Jt;wt++){const Yt=this[n.$extra].currentContentArea=Kt[wt],tn={width:Yt.w,height:Yt.h};jt=0,Ft&&(Wt[wt].children.push(Ft[n.$toHTML](tn).html),Ft=null),Dt&&(Wt[wt].children.push(Dt[n.$toHTML](tn).html),Dt=null);const Qt=C[n.$toHTML](tn);if(Qt.success)return Qt.html?($t||($t=((zt=Qt.html.children)==null?void 0:zt.length)>0),Wt[wt].children.push(Qt.html)):!$t&&We.children.length>1&&We.children.pop(),We;if(Qt.isBreak()){const Gt=Qt.breakNode;if(Lt(wt),Gt.targetType==="auto")continue;Gt.leader&&(Ft=this[n.$searchNode](Gt.leader,Gt[n.$getParent]()),Ft=Ft?Ft[0]:null),Gt.trailer&&(Dt=this[n.$searchNode](Gt.trailer,Gt[n.$getParent]()),Dt=Dt?Dt[0]:null),Gt.targetType==="pageArea"?(bt=Gt[n.$extra].target,wt=1/0):Gt[n.$extra].target?(bt=Gt[n.$extra].target,jt=Gt[n.$extra].index+1,wt=1/0):wt=Gt[n.$extra].index;continue}if(this[n.$extra].overflowNode){const Gt=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const yn=Gt[n.$getExtra](),on=yn.target;yn.addLeader=yn.leader!==null,yn.addTrailer=yn.trailer!==null,Lt(wt);const Vr=wt;if(wt=1/0,on instanceof vt)bt=on;else if(on instanceof le){const On=Kt.indexOf(on);On!==-1?On>Vr?wt=On-1:jt=On:(bt=on[n.$getParent](),jt=bt.contentArea.children.indexOf(on))}continue}Lt(wt)}this[n.$extra].pageNumber+=1,bt&&(bt[n.$isUsable]()?bt[n.$extra].numberOfUse+=1:bt=null),tt=bt||tt[n.$getNextPage](),yield null}}}f.Template=xn;class In extends t.ContentObject{constructor(C){super(u,"text"),this.id=C.id||"",this.maxChars=(0,l.getInteger)({data:C.maxChars,defaultValue:0,validate:pe=>pe>=0}),this.name=C.name||"",this.rid=C.rid||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](C){return C[n.$namespaceId]===d.NamespaceIds.xhtml.id?(this[n.$content]=C,!0):((0,L.warn)(`XFA - Invalid content in Text: ${C[n.$nodeName]}.`),!1)}[n.$onText](C){this[n.$content]instanceof t.XFAObject||super[n.$onText](C)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replaceAll(`\r
`,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((C,pe)=>(pe&&C.push(pe),C),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](C){if(typeof this[n.$content]=="string"){const pe=S(this[n.$content]).html;return this[n.$content].includes("\u2029")?(pe.name="div",pe.children=[],this[n.$content].split("\u2029").map(We=>We.split(/[\u2028\n]/).reduce((tt,it)=>(tt.push({name:"span",value:it},{name:"br"}),tt),[])).forEach(We=>{pe.children.push({name:"p",children:We})})):/[\u2028\n]/.test(this[n.$content])&&(pe.name="div",pe.children=[],this[n.$content].split(/[\u2028\n]/).forEach(We=>{pe.children.push({name:"span",value:We},{name:"br"})})),l.HTMLResult.success(pe)}return this[n.$content][n.$toHTML](C)}}f.Text=In;class Fn extends t.XFAObject{constructor(C){super(u,"textEdit",!0),this.allowRichText=(0,l.getInteger)({data:C.allowRichText,defaultValue:0,validate:pe=>pe===1}),this.hScrollPolicy=(0,l.getStringOption)(C.hScrollPolicy,["auto","off","on"]),this.id=C.id||"",this.multiLine=(0,l.getInteger)({data:C.multiLine,defaultValue:"",validate:pe=>pe===0||pe===1}),this.use=C.use||"",this.usehref=C.usehref||"",this.vScrollPolicy=(0,l.getStringOption)(C.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](C){var it,ft;const pe=(0,e.toStyle)(this,"border","font","margin");let We;const tt=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=tt instanceof oe?1:0),this.multiLine===1?We={name:"textarea",attributes:{dataId:((it=tt[n.$data])==null?void 0:it[n.$uid])||tt[n.$uid],fieldId:tt[n.$uid],class:["xfaTextfield"],style:pe,"aria-label":m(tt),"aria-required":!1}}:We={name:"input",attributes:{type:"text",dataId:((ft=tt[n.$data])==null?void 0:ft[n.$uid])||tt[n.$uid],fieldId:tt[n.$uid],class:["xfaTextfield"],style:pe,"aria-label":m(tt),"aria-required":!1}},_(tt)&&(We.attributes["aria-required"]=!0,We.attributes.required=!0),l.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[We]})}}class ai extends t.StringObject{constructor(C){super(u,"time"),this.id=C.id||"",this.name=C.name||"",this.use=C.use||"",this.usehref=C.usehref||""}[n.$finalize](){const C=this[n.$content].trim();this[n.$content]=C?new Date(C):null}[n.$toHTML](C){return S(this[n.$content]?this[n.$content].toString():"")}}class si extends t.XFAObject{constructor(C){super(u,"timeStamp"),this.id=C.id||"",this.server=C.server||"",this.type=(0,l.getStringOption)(C.type,["optional","required"]),this.use=C.use||"",this.usehref=C.usehref||""}}class oi extends t.StringObject{constructor(C){super(u,"toolTip"),this.id=C.id||"",this.rid=C.rid||"",this.use=C.use||"",this.usehref=C.usehref||""}}class li extends t.XFAObject{constructor(C){super(u,"traversal",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class ci extends t.XFAObject{constructor(C){super(u,"traverse",!0),this.id=C.id||"",this.operation=(0,l.getStringOption)(C.operation,["next","back","down","first","left","right","up"]),this.ref=C.ref||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class bn extends t.XFAObject{constructor(C){super(u,"ui",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const C of Object.getOwnPropertyNames(this)){if(C==="extras"||C==="picture")continue;const pe=this[C];if(pe instanceof t.XFAObject)return this[n.$extra]=pe,pe}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](C){const pe=this[n.$getExtra]();return pe?pe[n.$toHTML](C):l.HTMLResult.EMPTY}}class ui extends t.XFAObject{constructor(C){super(u,"validate",!0),this.formatTest=(0,l.getStringOption)(C.formatTest,["warning","disabled","error"]),this.id=C.id||"",this.nullTest=(0,l.getStringOption)(C.nullTest,["disabled","error","warning"]),this.scriptTest=(0,l.getStringOption)(C.scriptTest,["error","disabled","warning"]),this.use=C.use||"",this.usehref=C.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class an extends t.XFAObject{constructor(C){super(u,"value",!0),this.id=C.id||"",this.override=(0,l.getInteger)({data:C.override,defaultValue:0,validate:pe=>pe===1}),this.relevant=(0,l.getRelevant)(C.relevant),this.use=C.use||"",this.usehref=C.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](C){var tt;const pe=this[n.$getParent]();if(pe instanceof Ee&&(tt=pe.ui)!=null&&tt.imageEdit){this.image||(this.image=new Ve({}),this[n.$appendChild](this.image)),this.image[n.$content]=C[n.$content];return}const We=C[n.$nodeName];if(this[We]!==null){this[We][n.$content]=C[n.$content];return}for(const it of Object.getOwnPropertyNames(this)){const ft=this[it];ft instanceof t.XFAObject&&(this[it]=null,this[n.$removeChild](ft))}this[C[n.$nodeName]]=C,this[n.$appendChild](C)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const C of Object.getOwnPropertyNames(this)){if(C==="image")continue;const pe=this[C];if(pe instanceof t.XFAObject)return(pe[n.$content]||"").toString().trim()}return null}[n.$toHTML](C){for(const pe of Object.getOwnPropertyNames(this)){const We=this[pe];if(We instanceof t.XFAObject)return We[n.$toHTML](C)}return l.HTMLResult.EMPTY}}f.Value=an;class hi extends t.XFAObject{constructor(C){super(u,"variables",!0),this.id=C.id||"",this.use=C.use||"",this.usehref=C.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[n.$isTransparent](){return!0}}class sn{static[d.$buildXFAObject](C,pe){if(sn.hasOwnProperty(C)){const We=sn[C](pe);return We[n.$setSetAttributes](pe),We}}static appearanceFilter(C){return new k(C)}static arc(C){return new M(C)}static area(C){return new a(C)}static assist(C){return new o(C)}static barcode(C){return new r(C)}static bind(C){return new s(C)}static bindItems(C){return new A(C)}static bookend(C){return new c(C)}static boolean(C){return new y(C)}static border(C){return new q(C)}static break(C){return new re(C)}static breakAfter(C){return new Q(C)}static breakBefore(C){return new de(C)}static button(C){return new ee(C)}static calculate(C){return new ue(C)}static caption(C){return new W(C)}static certificate(C){return new Z(C)}static certificates(C){return new se(C)}static checkButton(C){return new ne(C)}static choiceList(C){return new ie(C)}static color(C){return new H(C)}static comb(C){return new Y(C)}static connect(C){return new G(C)}static contentArea(C){return new le(C)}static corner(C){return new ce(C)}static date(C){return new te(C)}static dateTime(C){return new ge(C)}static dateTimeEdit(C){return new K(C)}static decimal(C){return new Se(C)}static defaultUi(C){return new Oe(C)}static desc(C){return new Me(C)}static digestMethod(C){return new _e(C)}static digestMethods(C){return new ke(C)}static draw(C){return new oe(C)}static edge(C){return new Ie(C)}static encoding(C){return new Be(C)}static encodings(C){return new he(C)}static encrypt(C){return new De(C)}static encryptData(C){return new ye(C)}static encryption(C){return new me(C)}static encryptionMethod(C){return new Pe(C)}static encryptionMethods(C){return new Re(C)}static event(C){return new He(C)}static exData(C){return new Xe(C)}static exObject(C){return new Fe(C)}static exclGroup(C){return new ae(C)}static execute(C){return new Ae(C)}static extras(C){return new Le(C)}static field(C){return new Ee(C)}static fill(C){return new xe(C)}static filter(C){return new Te(C)}static float(C){return new Ne(C)}static font(C){return new $e(C)}static format(C){return new Ue(C)}static handler(C){return new ze(C)}static hyphenation(C){return new Ge(C)}static image(C){return new Ve(C)}static imageEdit(C){return new Ke(C)}static integer(C){return new et(C)}static issuers(C){return new rt(C)}static items(C){return new ot(C)}static keep(C){return new ht(C)}static keyUsage(C){return new lt(C)}static line(C){return new yt(C)}static linear(C){return new Tt(C)}static lockDocument(C){return new Qe(C)}static manifest(C){return new Je(C)}static margin(C){return new nt(C)}static mdp(C){return new st(C)}static medium(C){return new ct(C)}static message(C){return new xt(C)}static numericEdit(C){return new ut(C)}static occur(C){return new at(C)}static oid(C){return new gt(C)}static oids(C){return new At(C)}static overflow(C){return new Rt(C)}static pageArea(C){return new vt(C)}static pageSet(C){return new St(C)}static para(C){return new It(C)}static passwordEdit(C){return new pt(C)}static pattern(C){return new _t(C)}static picture(C){return new dt(C)}static proto(C){return new kt(C)}static radial(C){return new Pt(C)}static reason(C){return new Xt(C)}static reasons(C){return new Et(C)}static rectangle(C){return new Ct(C)}static ref(C){return new Nt(C)}static script(C){return new Ut(C)}static setProperty(C){return new Vt(C)}static signData(C){return new nn(C)}static signature(C){return new Zn(C)}static signing(C){return new Jn(C)}static solid(C){return new Qn(C)}static speak(C){return new ei(C)}static stipple(C){return new ti(C)}static subform(C){return new Tn(C)}static subformSet(C){return new mn(C)}static subjectDN(C){return new ni(C)}static subjectDNs(C){return new ii(C)}static submit(C){return new ri(C)}static template(C){return new xn(C)}static text(C){return new In(C)}static textEdit(C){return new Fn(C)}static time(C){return new ai(C)}static timeStamp(C){return new si(C)}static toolTip(C){return new oi(C)}static traversal(C){return new li(C)}static traverse(C){return new ci(C)}static ui(C){return new bn(C)}static validate(C){return new ui(C)}static value(C){return new an(C)}static variables(C){return new hi(C)}}f.TemplateNamespace=sn},(fe,f)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NamespaceIds=f.$buildXFAObject=void 0;const $=Symbol();f.$buildXFAObject=$;const n={config:{id:0,check:d=>d.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:d=>d==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:d=>d==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:d=>d==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:d=>d.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:d=>d.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:d=>d==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:d=>d==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:d=>d==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:d=>d==="http://ns.adobe.com/xmpmeta/"}};f.NamespaceIds=n},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.addHTML=t,f.checkDimensions=F,f.flushHTML=e,f.getAvailableSpace=l;var n=$(78),d=$(83);function T(g,w){return{name:"div",attributes:{class:[g.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:w}}function e(g){if(!g[n.$extra])return null;const u={name:"div",attributes:g[n.$extra].attributes,children:g[n.$extra].children};if(g[n.$extra].failingNode){const h=g[n.$extra].failingNode[n.$flushHTML]();h&&(g.layout.endsWith("-tb")?u.children.push(T(g,[h])):u.children.push(h))}return u.children.length===0?null:u}function t(g,w,u){const h=g[n.$extra],i=h.availableSpace,[x,p,v,b]=u;switch(g.layout){case"position":{h.width=Math.max(h.width,x+v),h.height=Math.max(h.height,p+b),h.children.push(w);break}case"lr-tb":case"rl-tb":(!h.line||h.attempt===1)&&(h.line=T(g,[]),h.children.push(h.line),h.numberInLine=0),h.numberInLine+=1,h.line.children.push(w),h.attempt===0?(h.currentWidth+=v,h.height=Math.max(h.height,h.prevHeight+b)):(h.currentWidth=v,h.prevHeight=h.height,h.height+=b,h.attempt=0),h.width=Math.max(h.width,h.currentWidth);break;case"rl-row":case"row":{h.children.push(w),h.width+=v,h.height=Math.max(h.height,b);const N=(0,d.measureToString)(h.height);for(const U of h.children)U.attributes.style.height=N;break}case"table":{h.width=Math.min(i.width,Math.max(h.width,v)),h.height+=b,h.children.push(w);break}case"tb":{h.width=Math.min(i.width,Math.max(h.width,v)),h.height+=b,h.children.push(w);break}}}function l(g){const w=g[n.$extra].availableSpace,u=g.margin?g.margin.topInset+g.margin.bottomInset:0,h=g.margin?g.margin.leftInset+g.margin.rightInset:0;switch(g.layout){case"lr-tb":case"rl-tb":return g[n.$extra].attempt===0?{width:w.width-h-g[n.$extra].currentWidth,height:w.height-u-g[n.$extra].prevHeight}:{width:w.width-h,height:w.height-u-g[n.$extra].height};case"rl-row":case"row":return{width:g[n.$extra].columnWidths.slice(g[n.$extra].currentColumn).reduce((x,p)=>x+p),height:w.height-h};case"table":case"tb":return{width:w.width-h,height:w.height-u-g[n.$extra].height};case"position":default:return w}}function L(g){let w=g.w===""?NaN:g.w,u=g.h===""?NaN:g.h,[h,i]=[0,0];switch(g.anchorType||""){case"bottomCenter":[h,i]=[w/2,u];break;case"bottomLeft":[h,i]=[0,u];break;case"bottomRight":[h,i]=[w,u];break;case"middleCenter":[h,i]=[w/2,u/2];break;case"middleLeft":[h,i]=[0,u/2];break;case"middleRight":[h,i]=[w,u/2];break;case"topCenter":[h,i]=[w/2,0];break;case"topRight":[h,i]=[w,0];break}let x,p;switch(g.rotate||0){case 0:[x,p]=[-h,-i];break;case 90:[x,p]=[-i,h],[w,u]=[u,-w];break;case 180:[x,p]=[h,i],[w,u]=[-w,-u];break;case 270:[x,p]=[i,-h],[w,u]=[-u,w];break}return[g.x+x+Math.min(0,w),g.y+p+Math.min(0,u),Math.abs(w),Math.abs(u)]}function F(g,w){var b;if(g[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||g.w===0||g.h===0)return!0;const u=2,h=g[n.$getSubformParent](),i=((b=h[n.$extra])==null?void 0:b.attempt)||0,[,x,p,v]=L(g);switch(h.layout){case"lr-tb":case"rl-tb":return i===0?g[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?g.w!==""?Math.round(p-w.width)<=u:w.width>u:g.h!==""&&Math.round(v-w.height)>u?!1:g.w!==""?Math.round(p-w.width)<=u?!0:h[n.$extra].numberInLine===0?w.height>u:!1:w.width>u:g[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:g.h!==""&&Math.round(v-w.height)>u?!1:g.w===""||Math.round(p-w.width)<=u?w.height>u:h[n.$isThereMoreWidth]()?!1:w.height>u;case"table":case"tb":return g[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:g.h!==""&&!g[n.$isSplittable]()?Math.round(v-w.height)<=u:g.w===""||Math.round(p-w.width)<=u?w.height>u:h[n.$isThereMoreWidth]()?!1:w.height>u;case"position":if(g[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||g.h===""||Math.round(v+x-w.height)<=u)return!0;const N=g[n.$getTemplateRoot]()[n.$extra].currentContentArea;return v+x>N.h;case"rl-row":case"row":return g[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:g.h!==""?Math.round(v-w.height)<=u:!0;default:return!0}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.computeBbox=h,f.createWrapper=v,f.fixDimensions=i,f.fixTextIndent=b,f.fixURL=_,f.isPrintOnly=U,f.layoutClass=x,f.layoutNode=u,f.measureToString=L,f.setAccess=N,f.setFontFamily=B,f.setMinMaxDimensions=g,f.setPara=I,f.toStyle=p;var n=$(78),d=$(2),T=$(84),e=$(85),t=$(86),l=$(87);function L(P){return typeof P=="string"?"0px":Number.isInteger(P)?`${P}px`:`${P.toFixed(2)}px`}const F={anchorType(P,X){const m=P[n.$getSubformParent]();if(!(!m||m.layout&&m.layout!=="position"))switch("transform"in X||(X.transform=""),P.anchorType){case"bottomCenter":X.transform+="translate(-50%, -100%)";break;case"bottomLeft":X.transform+="translate(0,-100%)";break;case"bottomRight":X.transform+="translate(-100%,-100%)";break;case"middleCenter":X.transform+="translate(-50%,-50%)";break;case"middleLeft":X.transform+="translate(0,-50%)";break;case"middleRight":X.transform+="translate(-100%,-50%)";break;case"topCenter":X.transform+="translate(-50%,0)";break;case"topRight":X.transform+="translate(-100%,0)";break}},dimensions(P,X){var z;const m=P[n.$getSubformParent]();let S=P.w;const R=P.h;if((z=m.layout)!=null&&z.includes("row")){const O=m[n.$extra],E=P.colSpan;let k;E===-1?(k=O.columnWidths.slice(O.currentColumn).reduce((M,a)=>M+a,0),O.currentColumn=0):(k=O.columnWidths.slice(O.currentColumn,O.currentColumn+E).reduce((M,a)=>M+a,0),O.currentColumn=(O.currentColumn+P.colSpan)%O.columnWidths.length),isNaN(k)||(S=P.w=k)}X.width=S!==""?L(S):"auto",X.height=R!==""?L(R):"auto"},position(P,X){const m=P[n.$getSubformParent]();m!=null&&m.layout&&m.layout!=="position"||(X.position="absolute",X.left=L(P.x),X.top=L(P.y))},rotate(P,X){P.rotate&&("transform"in X||(X.transform=""),X.transform+=`rotate(-${P.rotate}deg)`,X.transformOrigin="top left")},presence(P,X){switch(P.presence){case"invisible":X.visibility="hidden";break;case"hidden":case"inactive":X.display="none";break}},hAlign(P,X){if(P[n.$nodeName]==="para")switch(P.hAlign){case"justifyAll":X.textAlign="justify-all";break;case"radix":X.textAlign="left";break;default:X.textAlign=P.hAlign}else switch(P.hAlign){case"left":X.alignSelf="start";break;case"center":X.alignSelf="center";break;case"right":X.alignSelf="end";break}},margin(P,X){P.margin&&(X.margin=P.margin[n.$toStyle]().margin)}};function g(P,X){P[n.$getSubformParent]().layout==="position"&&(P.minW>0&&(X.minWidth=L(P.minW)),P.maxW>0&&(X.maxWidth=L(P.maxW)),P.minH>0&&(X.minHeight=L(P.minH)),P.maxH>0&&(X.maxHeight=L(P.maxH)))}function w(P,X,m,S,R,z){const O=new t.TextMeasure(X,m,S,R);return typeof P=="string"?O.addString(P):P[n.$pushGlyphs](O),O.compute(z)}function u(P,X){let m=null,S=null,R=!1;if((!P.w||!P.h)&&P.value){let z=0,O=0;P.margin&&(z=P.margin.leftInset+P.margin.rightInset,O=P.margin.topInset+P.margin.bottomInset);let E=null,k=null;P.para&&(k=Object.create(null),E=P.para.lineHeight===""?null:P.para.lineHeight,k.top=P.para.spaceAbove===""?0:P.para.spaceAbove,k.bottom=P.para.spaceBelow===""?0:P.para.spaceBelow,k.left=P.para.marginLeft===""?0:P.para.marginLeft,k.right=P.para.marginRight===""?0:P.para.marginRight);let M=P.font;if(!M){const r=P[n.$getTemplateRoot]();let s=P[n.$getParent]();for(;s&&s!==r;){if(s.font){M=s.font;break}s=s[n.$getParent]()}}const a=(P.w||X.width)-z,o=P[n.$globalData].fontFinder;if(P.value.exData&&P.value.exData[n.$content]&&P.value.exData.contentType==="text/html"){const r=w(P.value.exData[n.$content],M,k,E,o,a);S=r.width,m=r.height,R=r.isBroken}else{const r=P.value[n.$text]();if(r){const s=w(r,M,k,E,o,a);S=s.width,m=s.height,R=s.isBroken}}S!==null&&!P.w&&(S+=z),m!==null&&!P.h&&(m+=O)}return{w:S,h:m,isBroken:R}}function h(P,X,m){let S;if(P.w!==""&&P.h!=="")S=[P.x,P.y,P.w,P.h];else{if(!m)return null;let R=P.w;if(R===""){if(P.maxW===0){const O=P[n.$getSubformParent]();R=O.layout==="position"&&O.w!==""?0:P.minW}else R=Math.min(P.maxW,m.width);X.attributes.style.width=L(R)}let z=P.h;if(z===""){if(P.maxH===0){const O=P[n.$getSubformParent]();z=O.layout==="position"&&O.h!==""?0:P.minH}else z=Math.min(P.maxH,m.height);X.attributes.style.height=L(z)}S=[P.x,P.y,R,z]}return S}function i(P){var m;const X=P[n.$getSubformParent]();if((m=X.layout)!=null&&m.includes("row")){const S=X[n.$extra],R=P.colSpan;let z;R===-1?z=S.columnWidths.slice(S.currentColumn).reduce((O,E)=>O+E,0):z=S.columnWidths.slice(S.currentColumn,S.currentColumn+R).reduce((O,E)=>O+E,0),isNaN(z)||(P.w=z)}X.layout&&X.layout!=="position"&&(P.x=P.y=0),P.layout==="table"&&P.w===""&&Array.isArray(P.columnWidths)&&(P.w=P.columnWidths.reduce((S,R)=>S+R,0))}function x(P){switch(P.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function p(P,...X){const m=Object.create(null);for(const S of X){const R=P[S];if(R!==null){if(F.hasOwnProperty(S)){F[S](P,m);continue}if(R instanceof l.XFAObject){const z=R[n.$toStyle]();z?Object.assign(m,z):(0,d.warn)(`(DEBUG) - XFA - style for ${S} not implemented yet`)}}}return m}function v(P,X){const{attributes:m}=X,{style:S}=m,R={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(m.class.push("xfaWrapped"),P.border){const{widths:z,insets:O}=P.border[n.$extra];let E,k,M=O[0],a=O[3];const o=O[0]+O[2],r=O[1]+O[3];switch(P.border.hand){case"even":M-=z[0]/2,a-=z[3]/2,E=`calc(100% + ${(z[1]+z[3])/2-r}px)`,k=`calc(100% + ${(z[0]+z[2])/2-o}px)`;break;case"left":M-=z[0],a-=z[3],E=`calc(100% + ${z[1]+z[3]-r}px)`,k=`calc(100% + ${z[0]+z[2]-o}px)`;break;case"right":E=r?`calc(100% - ${r}px)`:"100%",k=o?`calc(100% - ${o}px)`:"100%";break}const s=["xfaBorder"];U(P.border)&&s.push("xfaPrintOnly");const A={name:"div",attributes:{class:s,style:{top:`${M}px`,left:`${a}px`,width:E,height:k}},children:[]};for(const c of["border","borderWidth","borderColor","borderRadius","borderStyle"])S[c]!==void 0&&(A.attributes.style[c]=S[c],delete S[c]);R.children.push(A,X)}else R.children.push(X);for(const z of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])S[z]!==void 0&&(R.attributes.style[z]=S[z],delete S[z]);return R.attributes.style.position=S.position==="absolute"?"absolute":"relative",delete S.position,S.alignSelf&&(R.attributes.style.alignSelf=S.alignSelf,delete S.alignSelf),R}function b(P){const X=(0,T.getMeasurement)(P.textIndent,"0px");if(X>=0)return;const S="padding"+((P.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),R=(0,T.getMeasurement)(P[S],"0px");P[S]=`${R-X}px`}function N(P,X){switch(P.access){case"nonInteractive":X.push("xfaNonInteractive");break;case"readOnly":X.push("xfaReadOnly");break;case"protected":X.push("xfaDisabled");break}}function U(P){return P.relevant.length>0&&!P.relevant[0].excluded&&P.relevant[0].viewname==="print"}function D(P){const X=P[n.$getTemplateRoot]()[n.$extra].paraStack;return X.length?X.at(-1):null}function I(P,X,m){var S;if((S=m.attributes.class)!=null&&S.includes("xfaRich")){X&&(P.h===""&&(X.height="auto"),P.w===""&&(X.width="auto"));const R=D(P);if(R){const z=m.attributes.style;switch(z.display="flex",z.flexDirection="column",R.vAlign){case"top":z.justifyContent="start";break;case"bottom":z.justifyContent="end";break;case"middle":z.justifyContent="center";break}const O=R[n.$toStyle]();for(const[E,k]of Object.entries(O))E in z||(z[E]=k)}}}function B(P,X,m,S){if(!m){delete S.fontFamily;return}const R=(0,T.stripQuotes)(P.typeface);S.fontFamily=`"${R}"`;const z=m.find(R);if(z){const{fontFamily:O}=z.regular.cssFontInfo;O!==R&&(S.fontFamily=`"${O}"`);const E=D(X);if(E&&E.lineHeight!==""||S.lineHeight)return;const k=(0,e.selectFont)(P,z);k&&(S.lineHeight=Math.max(1.2,k.lineHeight))}}function _(P){const X=(0,d.createValidAbsoluteUrl)(P,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return X?X.href:null}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.HTMLResult=void 0,f.getBBox=i,f.getColor=h,f.getFloat=l,f.getInteger=t,f.getKeyword=L,f.getMeasurement=g,f.getRatio=w,f.getRelevant=u,f.getStringOption=F,f.stripQuotes=e;var n=$(2);const d={pt:p=>p,cm:p=>p/2.54*72,mm:p=>p/(10*2.54)*72,in:p=>p*72,px:p=>p},T=/([+-]?\d+\.?\d*)(.*)/;function e(p){return p.startsWith("'")||p.startsWith('"')?p.slice(1,-1):p}function t({data:p,defaultValue:v,validate:b}){if(!p)return v;p=p.trim();const N=parseInt(p,10);return!isNaN(N)&&b(N)?N:v}function l({data:p,defaultValue:v,validate:b}){if(!p)return v;p=p.trim();const N=parseFloat(p);return!isNaN(N)&&b(N)?N:v}function L({data:p,defaultValue:v,validate:b}){return p?(p=p.trim(),b(p)?p:v):v}function F(p,v){return L({data:p,defaultValue:v[0],validate:b=>v.includes(b)})}function g(p,v="0"){if(v||(v="0"),!p)return g(v);const b=p.trim().match(T);if(!b)return g(v);const[,N,U]=b,D=parseFloat(N);if(isNaN(D))return g(v);if(D===0)return 0;const I=d[U];return I?I(D):D}function w(p){if(!p)return{num:1,den:1};const v=p.trim().split(/\s*:\s*/).map(U=>parseFloat(U)).filter(U=>!isNaN(U));if(v.length===1&&v.push(1),v.length===0)return{num:1,den:1};const[b,N]=v;return{num:b,den:N}}function u(p){return p?p.trim().split(/\s+/).map(v=>({excluded:v[0]==="-",viewname:v.substring(1)})):[]}function h(p,v=[0,0,0]){let[b,N,U]=v;if(!p)return{r:b,g:N,b:U};const D=p.trim().split(/\s*,\s*/).map(I=>Math.min(Math.max(0,parseInt(I.trim(),10)),255)).map(I=>isNaN(I)?0:I);return D.length<3?{r:b,g:N,b:U}:([b,N,U]=D,{r:b,g:N,b:U})}function i(p){if(!p)return{x:-1,y:-1,width:-1,height:-1};const b=p.trim().split(/\s*,\s*/).map(B=>g(B,"-1"));if(b.length<4||b[2]<0||b[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[N,U,D,I]=b;return{x:N,y:U,width:D,height:I}}class x{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new x(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new x(!0,null,null,null))}constructor(v,b,N,U){this.success=v,this.html=b,this.bbox=N,this.breakNode=U}isBreak(){return!!this.breakNode}static breakNode(v){return new x(!1,null,null,v)}static success(v,b=null){return new x(!0,v,b,null)}}f.HTMLResult=x},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.FontFinder=void 0,f.getMetrics=l,f.selectFont=t;var n=$(78),d=$(84),T=$(2);class e{constructor(F){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(F)}add(F,g=null){for(const u of F)this.addPdfFont(u);for(const u of this.fonts.values())u.regular||(u.regular=u.italic||u.bold||u.bolditalic);if(!g||g.size===0)return;const w=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const u of g)this.fonts.set(u,w)}addPdfFont(F){var x,p,v;const g=F.cssFontInfo,w=g.fontFamily;let u=this.fonts.get(w);u||(u=Object.create(null),this.fonts.set(w,u),this.defaultFont||(this.defaultFont=u));let h="";const i=parseFloat(g.fontWeight);parseFloat(g.italicAngle)!==0?h=i>=700?"bolditalic":"italic":i>=700&&(h="bold"),h||((F.name.includes("Bold")||(x=F.psName)!=null&&x.includes("Bold"))&&(h="bold"),(F.name.includes("Italic")||F.name.endsWith("It")||(p=F.psName)!=null&&p.includes("Italic")||(v=F.psName)!=null&&v.endsWith("It"))&&(h+="italic")),h||(h="regular"),u[h]=F}getDefault(){return this.defaultFont}find(F,g=!0){var x,p;let w=this.fonts.get(F)||this.cache.get(F);if(w)return w;const u=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let h=F.replaceAll(u,"");if(w=this.fonts.get(h),w)return this.cache.set(F,w),w;h=h.toLowerCase();const i=[];for(const[v,b]of this.fonts.entries())v.replaceAll(u,"").toLowerCase().startsWith(h)&&i.push(b);if(i.length===0)for(const[,v]of this.fonts.entries())(x=v.regular.name)!=null&&x.replaceAll(u,"").toLowerCase().startsWith(h)&&i.push(v);if(i.length===0){h=h.replaceAll(/psmt|mt/gi,"");for(const[v,b]of this.fonts.entries())v.replaceAll(u,"").toLowerCase().startsWith(h)&&i.push(b)}if(i.length===0)for(const v of this.fonts.values())(p=v.regular.name)!=null&&p.replaceAll(u,"").toLowerCase().startsWith(h)&&i.push(v);return i.length>=1?(i.length!==1&&g&&(0,T.warn)(`XFA - Too many choices to guess the correct font: ${F}`),this.cache.set(F,i[0]),i[0]):(g&&!this.warned.has(F)&&(this.warned.add(F),(0,T.warn)(`XFA - Cannot find the font: ${F}`)),null)}}f.FontFinder=e;function t(L,F){return L.posture==="italic"?L.weight==="bold"?F.bolditalic:F.italic:L.weight==="bold"?F.bold:F.regular}function l(L,F=!1){let g=null;if(L){const i=(0,d.stripQuotes)(L.typeface),x=L[n.$globalData].fontFinder.find(i);g=t(L,x)}if(!g)return{lineHeight:12,lineGap:2,lineNoGap:10};const w=L.size||10,u=g.lineHeight?Math.max(F?0:1.2,g.lineHeight):1.2,h=g.lineGap===void 0?.2:g.lineGap;return{lineHeight:u*w,lineGap:h*w,lineNoGap:Math.max(1,u-h)*w}}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.TextMeasure=void 0;var n=$(85);const d=1.02;class T{constructor(L,F,g,w){if(this.lineHeight=g,this.paraMargin=F||{top:0,bottom:0,left:0,right:0},!L){[this.pdfFont,this.xfaFont]=this.defaultFont(w);return}this.xfaFont={typeface:L.typeface,posture:L.posture,weight:L.weight,size:L.size,letterSpacing:L.letterSpacing};const u=w.find(L.typeface);if(!u){[this.pdfFont,this.xfaFont]=this.defaultFont(w);return}this.pdfFont=(0,n.selectFont)(L,u),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(w))}defaultFont(L){const F=L.find("Helvetica",!1)||L.find("Myriad Pro",!1)||L.find("Arial",!1)||L.getDefault();if(F!=null&&F.regular){const w=F.regular,h={typeface:w.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[w,h]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class e{constructor(L,F,g,w){this.fontFinder=w,this.stack=[new T(L,F,g,w)]}pushData(L,F,g){const w=this.stack.at(-1);for(const h of["typeface","posture","weight","size","letterSpacing"])L[h]||(L[h]=w.xfaFont[h]);for(const h of["top","bottom","left","right"])isNaN(F[h])&&(F[h]=w.paraMargin[h]);const u=new T(L,F,g||w.lineHeight,this.fontFinder);u.pdfFont||(u.pdfFont=w.pdfFont),this.stack.push(u)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class t{constructor(L,F,g,w){this.glyphs=[],this.fontSelector=new e(L,F,g,w),this.extraHeight=0}pushData(L,F,g){this.fontSelector.pushData(L,F,g)}popFont(L){return this.fontSelector.popFont()}addPara(){const L=this.fontSelector.topFont();this.extraHeight+=L.paraMargin.top+L.paraMargin.bottom}addString(L){if(!L)return;const F=this.fontSelector.topFont(),g=F.xfaFont.size;if(F.pdfFont){const w=F.xfaFont.letterSpacing,u=F.pdfFont,h=u.lineHeight||1.2,i=F.lineHeight||Math.max(1.2,h)*g,x=u.lineGap===void 0?.2:u.lineGap,p=h-x,v=Math.max(1,p)*g,b=g/1e3,N=u.defaultWidth||u.charsToGlyphs(" ")[0].width;for(const U of L.split(/[\u2029\n]/)){const D=u.encodeString(U).join(""),I=u.charsToGlyphs(D);for(const B of I){const _=B.width||N;this.glyphs.push([_*b+w,i,v,B.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const w of L.split(/[\u2029\n]/)){for(const u of w.split(""))this.glyphs.push([g,1.2*g,g,u,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(L){let F=-1,g=0,w=0,u=0,h=0,i=0,x=!1,p=!0;for(let v=0,b=this.glyphs.length;v<b;v++){const[N,U,D,I,B]=this.glyphs[v],_=I===" ",P=p?D:U;if(B){w=Math.max(w,h),h=0,u+=i,i=P,F=-1,g=0,p=!1;continue}if(_){h+N>L?(w=Math.max(w,h),h=0,u+=i,i=P,F=-1,g=0,x=!0,p=!1):(i=Math.max(P,i),g=h,h+=N,F=v);continue}if(h+N>L){u+=i,i=P,F!==-1?(v=F,w=Math.max(w,g),h=0,F=-1,g=0):(w=Math.max(w,h),h=N),x=!0,p=!1;continue}h+=N,i=Math.max(P,i)}return w=Math.max(w,h),u+=i+this.extraHeight,{width:d*w,height:u,isBroken:x}}}f.TextMeasure=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XmlObject=f.XFAObjectArray=f.XFAObject=f.XFAAttribute=f.StringObject=f.OptionObject=f.Option10=f.Option01=f.IntegerObject=f.ContentObject=void 0;var n=$(78),d=$(84),T=$(2),e=$(3),t=$(81),l=$(88);const L=Symbol(),F=Symbol(),g=Symbol(),w=Symbol("_children"),u=Symbol(),h=Symbol(),i=Symbol(),x=Symbol(),p=Symbol(),v=Symbol(),b=Symbol(),N=Symbol(),U=Symbol(),D=Symbol("parent"),I=Symbol(),B=Symbol(),_=Symbol();let P=0;const X=t.NamespaceIds.datasets.id;class m{constructor(s,A,c=!1){this[n.$namespaceId]=s,this[n.$nodeName]=A,this[b]=c,this[D]=null,this[w]=[],this[n.$uid]=`${A}${P++}`,this[n.$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(s){let A=this,c=null;for(const{name:y,index:q}of s){for(let re=0,Q=isFinite(q)?q:0;re<=Q;re++){const de=A[n.$namespaceId]===X?-1:A[n.$namespaceId];c=new z(de,y),A[n.$appendChild](c)}A=c}return c}[n.$onChild](s){if(!this[b]||!this[n.$onChildCheck](s))return!1;const A=s[n.$nodeName],c=this[A];if(c instanceof S){if(c.push(s))return this[n.$appendChild](s),!0}else return c!==null&&this[n.$removeChild](c),this[A]=s,this[n.$appendChild](s),!0;let y="";return this.id?y=` (id: ${this.id})`:this.name&&(y=` (name: ${this.name} ${this.h.value})`),(0,T.warn)(`XFA - node "${this[n.$nodeName]}"${y} has already enough "${A}"!`),!1}[n.$onChildCheck](s){return this.hasOwnProperty(s[n.$nodeName])&&s[n.$namespaceId]===this[n.$namespaceId]}[n.$isNsAgnostic](){return!1}[n.$acceptWhitespace](){return!1}[n.$isCDATAXml](){return!1}[n.$isBindable](){return!1}[n.$popPara](){this.para&&this[n.$getTemplateRoot]()[n.$extra].paraStack.pop()}[n.$pushPara](){this[n.$getTemplateRoot]()[n.$extra].paraStack.push(this.para)}[n.$setId](s){this.id&&this[n.$namespaceId]===t.NamespaceIds.template.id&&s.set(this.id,this)}[n.$getTemplateRoot](){return this[n.$globalData].template}[n.$isSplittable](){return!1}[n.$isThereMoreWidth](){return!1}[n.$appendChild](s){s[D]=this,this[w].push(s),!s[n.$globalData]&&this[n.$globalData]&&(s[n.$globalData]=this[n.$globalData])}[n.$removeChild](s){const A=this[w].indexOf(s);this[w].splice(A,1)}[n.$hasSettableValue](){return this.hasOwnProperty("value")}[n.$setValue](s){}[n.$onText](s){}[n.$finalize](){}[n.$clean](s){delete this[b],this[n.$cleanup]&&(s.clean(this[n.$cleanup]),delete this[n.$cleanup])}[n.$indexOf](s){return this[w].indexOf(s)}[n.$insertAt](s,A){A[D]=this,this[w].splice(s,0,A),!A[n.$globalData]&&this[n.$globalData]&&(A[n.$globalData]=this[n.$globalData])}[n.$isTransparent](){return!this.name}[n.$lastAttribute](){return""}[n.$text](){return this[w].length===0?this[n.$content]:this[w].map(s=>s[n.$text]()).join("")}get[g](){const s=Object.getPrototypeOf(this);if(!s._attributes){const A=s._attributes=new Set;for(const c of Object.getOwnPropertyNames(this)){if(this[c]===null||this[c]instanceof m||this[c]instanceof S)break;A.add(c)}}return(0,T.shadow)(this,g,s._attributes)}[n.$isDescendent](s){let A=this;for(;A;){if(A===s)return!0;A=A[n.$getParent]()}return!1}[n.$getParent](){return this[D]}[n.$getSubformParent](){return this[n.$getParent]()}[n.$getChildren](s=null){return s?this[s]:this[w]}[n.$dump](){const s=Object.create(null);this[n.$content]&&(s.$content=this[n.$content]);for(const A of Object.getOwnPropertyNames(this)){const c=this[A];c!==null&&(c instanceof m?s[A]=c[n.$dump]():c instanceof S?c.isEmpty()||(s[A]=c.dump()):s[A]=c)}return s}[n.$toStyle](){return null}[n.$toHTML](){return d.HTMLResult.EMPTY}*[n.$getContainedChildren](){for(const s of this[n.$getChildren]())yield s}*[x](s,A){for(const c of this[n.$getContainedChildren]())if(!s||A===s.has(c[n.$nodeName])){const y=this[n.$getAvailableSpace](),q=c[n.$toHTML](y);q.success||(this[n.$extra].failingNode=c),yield q}}[n.$flushHTML](){return null}[n.$addHTML](s,A){this[n.$extra].children.push(s)}[n.$getAvailableSpace](){}[n.$childrenToHTML]({filter:s=null,include:A=!0}){if(!this[n.$extra].generator)this[n.$extra].generator=this[x](s,A);else{const c=this[n.$getAvailableSpace](),y=this[n.$extra].failingNode[n.$toHTML](c);if(!y.success)return y;y.html&&this[n.$addHTML](y.html,y.bbox),delete this[n.$extra].failingNode}for(;;){const c=this[n.$extra].generator.next();if(c.done)break;const y=c.value;if(!y.success)return y;y.html&&this[n.$addHTML](y.html,y.bbox)}return this[n.$extra].generator=null,d.HTMLResult.EMPTY}[n.$setSetAttributes](s){this[B]=new Set(Object.keys(s))}[v](s){const A=this[g],c=this[B];return[...s].filter(y=>A.has(y)&&!c.has(y))}[n.$resolvePrototypes](s,A=new Set){for(const c of this[w])c[I](s,A)}[I](s,A){const c=this[p](s,A);c?this[L](c,s,A):this[n.$resolvePrototypes](s,A)}[p](s,A){const{use:c,usehref:y}=this;if(!c&&!y)return null;let q=null,re=null,Q=null,de=c;if(y?(de=y,y.startsWith("#som(")&&y.endsWith(")")?re=y.slice(5,-1):y.startsWith(".#som(")&&y.endsWith(")")?re=y.slice(6,-1):y.startsWith("#")?Q=y.slice(1):y.startsWith(".#")&&(Q=y.slice(2))):c.startsWith("#")?Q=c.slice(1):re=c,this.use=this.usehref="",Q?q=s.get(Q):(q=(0,l.searchNode)(s.get(n.$root),this,re,!0,!1),q&&(q=q[0])),!q)return(0,T.warn)(`XFA - Invalid prototype reference: ${de}.`),null;if(q[n.$nodeName]!==this[n.$nodeName])return(0,T.warn)(`XFA - Incompatible prototype: ${q[n.$nodeName]} !== ${this[n.$nodeName]}.`),null;if(A.has(q))return(0,T.warn)("XFA - Cycle detected in prototypes use."),null;A.add(q);const ee=q[p](s,A);return ee&&q[L](ee,s,A),q[n.$resolvePrototypes](s,A),A.delete(q),q}[L](s,A,c){if(c.has(s)){(0,T.warn)("XFA - Cycle detected in prototypes use.");return}!this[n.$content]&&s[n.$content]&&(this[n.$content]=s[n.$content]),new Set(c).add(s);for(const q of this[v](s[B]))this[q]=s[q],this[B]&&this[B].add(q);for(const q of Object.getOwnPropertyNames(this)){if(this[g].has(q))continue;const re=this[q],Q=s[q];if(re instanceof S){for(const de of re[w])de[I](A,c);for(let de=re[w].length,ee=Q[w].length;de<ee;de++){const ue=s[w][de][n.$clone]();if(re.push(ue))ue[D]=this,this[w].push(ue),ue[I](A,c);else break}continue}if(re!==null){re[n.$resolvePrototypes](A,c),Q&&re[L](Q,A,c);continue}if(Q!==null){const de=Q[n.$clone]();de[D]=this,this[q]=de,this[w].push(de),de[I](A,c)}}}static[u](s){return Array.isArray(s)?s.map(A=>m[u](A)):typeof s=="object"&&s!==null?Object.assign({},s):s}[n.$clone](){const s=Object.create(Object.getPrototypeOf(this));for(const A of Object.getOwnPropertySymbols(this))try{s[A]=this[A]}catch{(0,T.shadow)(s,A,this[A])}s[n.$uid]=`${s[n.$nodeName]}${P++}`,s[w]=[];for(const A of Object.getOwnPropertyNames(this)){if(this[g].has(A)){s[A]=m[u](this[A]);continue}const c=this[A];s[A]=c instanceof S?new S(c[N]):null}for(const A of this[w]){const c=A[n.$nodeName],y=A[n.$clone]();s[w].push(y),y[D]=s,s[c]===null?s[c]=y:s[c][w].push(y)}return s}[n.$getChildren](s=null){return s?this[w].filter(A=>A[n.$nodeName]===s):this[w]}[n.$getChildrenByClass](s){return this[s]}[n.$getChildrenByName](s,A,c=!0){return Array.from(this[n.$getChildrenByNameIt](s,A,c))}*[n.$getChildrenByNameIt](s,A,c=!0){if(s==="parent"){yield this[D];return}for(const y of this[w])y[n.$nodeName]===s&&(yield y),y.name===s&&(yield y),(A||y[n.$isTransparent]())&&(yield*y[n.$getChildrenByNameIt](s,A,!1));c&&this[g].has(s)&&(yield new R(this,s,this[s]))}}f.XFAObject=m;class S{constructor(s=1/0){this[N]=s,this[w]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(s){return this[w].length<=this[N]?(this[w].push(s),!0):((0,T.warn)(`XFA - node "${s[n.$nodeName]}" accepts no more than ${this[N]} children`),!1)}isEmpty(){return this[w].length===0}dump(){return this[w].length===1?this[w][0][n.$dump]():this[w].map(s=>s[n.$dump]())}[n.$clone](){const s=new S(this[N]);return s[w]=this[w].map(A=>A[n.$clone]()),s}get children(){return this[w]}clear(){this[w].length=0}}f.XFAObjectArray=S;class R{constructor(s,A,c){this[D]=s,this[n.$nodeName]=A,this[n.$content]=c,this[n.$consumed]=!1,this[n.$uid]=`attribute${P++}`}[n.$getParent](){return this[D]}[n.$isDataValue](){return!0}[n.$getDataValue](){return this[n.$content].trim()}[n.$setValue](s){s=s.value||"",this[n.$content]=s.toString()}[n.$text](){return this[n.$content]}[n.$isDescendent](s){return this[D]===s||this[D][n.$isDescendent](s)}}f.XFAAttribute=R;class z extends m{constructor(s,A,c={}){if(super(s,A),this[n.$content]="",this[h]=null,A!=="#text"){const y=new Map;this[F]=y;for(const[q,re]of Object.entries(c))y.set(q,new R(this,q,re));if(c.hasOwnProperty(n.$nsAttributes)){const q=c[n.$nsAttributes].xfa.dataNode;q!==void 0&&(q==="dataGroup"?this[h]=!1:q==="dataValue"&&(this[h]=!0))}}this[n.$consumed]=!1}[n.$toString](s){const A=this[n.$nodeName];if(A==="#text"){s.push((0,e.encodeToXmlString)(this[n.$content]));return}const c=(0,T.utf8StringToString)(A),y=this[n.$namespaceId]===X?"xfa:":"";s.push(`<${y}${c}`);for(const[q,re]of this[F].entries()){const Q=(0,T.utf8StringToString)(q);s.push(` ${Q}="${(0,e.encodeToXmlString)(re[n.$content])}"`)}if(this[h]!==null&&(this[h]?s.push(' xfa:dataNode="dataValue"'):s.push(' xfa:dataNode="dataGroup"')),!this[n.$content]&&this[w].length===0){s.push("/>");return}if(s.push(">"),this[n.$content])typeof this[n.$content]=="string"?s.push((0,e.encodeToXmlString)(this[n.$content])):this[n.$content][n.$toString](s);else for(const q of this[w])q[n.$toString](s);s.push(`</${y}${c}>`)}[n.$onChild](s){if(this[n.$content]){const A=new z(this[n.$namespaceId],"#text");this[n.$appendChild](A),A[n.$content]=this[n.$content],this[n.$content]=""}return this[n.$appendChild](s),!0}[n.$onText](s){this[n.$content]+=s}[n.$finalize](){if(this[n.$content]&&this[w].length>0){const s=new z(this[n.$namespaceId],"#text");this[n.$appendChild](s),s[n.$content]=this[n.$content],delete this[n.$content]}}[n.$toHTML](){return this[n.$nodeName]==="#text"?d.HTMLResult.success({name:"#text",value:this[n.$content]}):d.HTMLResult.EMPTY}[n.$getChildren](s=null){return s?this[w].filter(A=>A[n.$nodeName]===s):this[w]}[n.$getAttributes](){return this[F]}[n.$getChildrenByClass](s){const A=this[F].get(s);return A!==void 0?A:this[n.$getChildren](s)}*[n.$getChildrenByNameIt](s,A){const c=this[F].get(s);c&&(yield c);for(const y of this[w])y[n.$nodeName]===s&&(yield y),A&&(yield*y[n.$getChildrenByNameIt](s,A))}*[n.$getAttributeIt](s,A){const c=this[F].get(s);c&&(!A||!c[n.$consumed])&&(yield c);for(const y of this[w])yield*y[n.$getAttributeIt](s,A)}*[n.$getRealChildrenByNameIt](s,A,c){for(const y of this[w])y[n.$nodeName]===s&&(!c||!y[n.$consumed])&&(yield y),A&&(yield*y[n.$getRealChildrenByNameIt](s,A,c))}[n.$isDataValue](){return this[h]===null?this[w].length===0||this[w][0][n.$namespaceId]===t.NamespaceIds.xhtml.id:this[h]}[n.$getDataValue](){return this[h]===null?this[w].length===0?this[n.$content].trim():this[w][0][n.$namespaceId]===t.NamespaceIds.xhtml.id?this[w][0][n.$text]().trim():null:this[n.$content].trim()}[n.$setValue](s){s=s.value||"",this[n.$content]=s.toString()}[n.$dump](s=!1){const A=Object.create(null);s&&(A.$ns=this[n.$namespaceId]),this[n.$content]&&(A.$content=this[n.$content]),A.$name=this[n.$nodeName],A.children=[];for(const c of this[w])A.children.push(c[n.$dump](s));A.attributes=Object.create(null);for(const[c,y]of this[F])A.attributes[c]=y[n.$content];return A}}f.XmlObject=z;class O extends m{constructor(s,A){super(s,A),this[n.$content]=""}[n.$onText](s){this[n.$content]+=s}[n.$finalize](){}}f.ContentObject=O;class E extends O{constructor(s,A,c){super(s,A),this[U]=c}[n.$finalize](){this[n.$content]=(0,d.getKeyword)({data:this[n.$content],defaultValue:this[U][0],validate:s=>this[U].includes(s)})}[n.$clean](s){super[n.$clean](s),delete this[U]}}f.OptionObject=E;class k extends O{[n.$finalize](){this[n.$content]=this[n.$content].trim()}}f.StringObject=k;class M extends O{constructor(s,A,c,y){super(s,A),this[i]=c,this[_]=y}[n.$finalize](){this[n.$content]=(0,d.getInteger)({data:this[n.$content],defaultValue:this[i],validate:this[_]})}[n.$clean](s){super[n.$clean](s),delete this[i],delete this[_]}}f.IntegerObject=M;class a extends M{constructor(s,A){super(s,A,0,c=>c===1)}}f.Option01=a;class o extends M{constructor(s,A){super(s,A,1,c=>c===0)}}f.Option10=o},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.createDataNode=u,f.searchNode=w;var n=$(78),d=$(2);const T=/^[^.[]+/,e=/^[^\]]+/,t={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},l=new Map([["$data",(h,i)=>h.datasets?h.datasets.data:h],["$record",(h,i)=>(h.datasets?h.datasets.data:h)[n.$getChildren]()[0]],["$template",(h,i)=>h.template],["$connectionSet",(h,i)=>h.connectionSet],["$form",(h,i)=>h.form],["$layout",(h,i)=>h.layout],["$host",(h,i)=>h.host],["$dataWindow",(h,i)=>h.dataWindow],["$event",(h,i)=>h.event],["!",(h,i)=>h.datasets],["$xfa",(h,i)=>h],["xfa",(h,i)=>h],["$",(h,i)=>i]]),L=new WeakMap;function F(h){return h=h.trim(),h==="*"?1/0:parseInt(h,10)||0}function g(h,i,x=!0){let p=h.match(T);if(!p)return null;let[v]=p;const b=[{name:v,cacheName:"."+v,index:0,js:null,formCalc:null,operator:t.dot}];let N=v.length;for(;N<h.length;){const U=N;if(h.charAt(N++)==="["){if(p=h.slice(N).match(e),!p)return(0,d.warn)("XFA - Invalid index in SOM expression"),null;b.at(-1).index=F(p[0]),N+=p[0].length+1;continue}let I;switch(h.charAt(N)){case".":if(!i)return null;N++,I=t.dotDot;break;case"#":N++,I=t.dotHash;break;case"[":if(x)return(0,d.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;I=t.dotBracket;break;case"(":if(x)return(0,d.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;I=t.dotParen;break;default:I=t.dot;break}if(p=h.slice(N).match(T),!p)break;[v]=p,N+=v.length,b.push({name:v,cacheName:h.slice(U,N),operator:I,index:0,js:null,formCalc:null})}return b}function w(h,i,x,p=!0,v=!0){const b=g(x,p);if(!b)return null;const N=l.get(b[0].name);let U=0,D;N?(D=!0,h=[N(h,i)],U=1):(D=i===null,h=[i||h]);for(let I=b.length;U<I;U++){const{name:B,cacheName:_,operator:P,index:X}=b[U],m=[];for(const S of h){if(!S.isXFAObject)continue;let R,z;if(v&&(z=L.get(S),z||(z=new Map,L.set(S,z)),R=z.get(_)),!R){switch(P){case t.dot:R=S[n.$getChildrenByName](B,!1);break;case t.dotDot:R=S[n.$getChildrenByName](B,!0);break;case t.dotHash:R=S[n.$getChildrenByClass](B),R=R.isXFAObjectArray?R.children:[R];break}v&&z.set(_,R)}R.length>0&&m.push(R)}if(m.length===0&&!D&&U===0){if(i=i[n.$getParent](),!i)return null;U=-1,h=[i];continue}h=isFinite(X)?m.filter(S=>X<S.length).map(S=>S[X]):m.flat()}return h.length===0?null:h}function u(h,i,x){const p=g(x);if(!p||p.some(N=>N.operator===t.dotDot))return null;const v=l.get(p[0].name);let b=0;v?(h=v(h,i),b=1):h=i||h;for(let N=p.length;b<N;b++){const{name:U,operator:D,index:I}=p[b];if(!isFinite(I))return p[b].index=0,h.createNodes(p.slice(b));let B;switch(D){case t.dot:B=h[n.$getChildrenByName](U,!1);break;case t.dotDot:B=h[n.$getChildrenByName](U,!0);break;case t.dotHash:B=h[n.$getChildrenByClass](U),B=B.isXFAObjectArray?B.children:[B];break}if(B.length===0)return h.createNodes(p.slice(b));if(I<B.length){const _=B[I];if(!_.isXFAObject)return(0,d.warn)("XFA - Cannot create a node."),null;h=_}else return p[b].index=I-B.length,h.createNodes(p.slice(b))}return null}},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DataHandler=void 0;var n=$(78);class d{constructor(e,t){this.data=t,this.dataset=e.datasets||null}serialize(e){const t=[[-1,this.data[n.$getChildren]()]];for(;t.length>0;){const L=t.at(-1),[F,g]=L;if(F+1===g.length){t.pop();continue}const w=g[++L[0]],u=e.get(w[n.$uid]);if(u)w[n.$setValue](u);else{const i=w[n.$getAttributes]();for(const x of i.values()){const p=e.get(x[n.$uid]);if(p){x[n.$setValue](p);break}}}const h=w[n.$getChildren]();h.length>0&&t.push([-1,h])}const l=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const L of this.dataset[n.$getChildren]())L[n.$nodeName]!=="data"&&L[n.$toString](l);return this.data[n.$toString](l),l.push("</xfa:datasets>"),l.join("")}}f.DataHandler=d},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XFAParser=void 0;var n=$(78),d=$(71),T=$(91),e=$(2);class t extends d.XMLParserBase{constructor(L=null,F=!1){super(),this._builder=new T.Builder(L),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=d.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=F}parse(L){if(this.parseXml(L),this._errorCode===d.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(L){if(L=L.replace(this._nbsps,F=>F.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](L,this._richText);return}this._whiteRegex.test(L)||this._current[n.$onText](L.trim())}onCdata(L){this._current[n.$onText](L)}_mkAttributes(L,F){let g=null,w=null;const u=Object.create({});for(const{name:h,value:i}of L)if(h==="xmlns")g?(0,e.warn)(`XFA - multiple namespace definition in <${F}>`):g=i;else if(h.startsWith("xmlns:")){const x=h.substring(6);w||(w=[]),w.push({prefix:x,value:i})}else{const x=h.indexOf(":");if(x===-1)u[h]=i;else{let p=u[n.$nsAttributes];p||(p=u[n.$nsAttributes]=Object.create(null));const[v,b]=[h.slice(0,x),h.slice(x+1)],N=p[v]||(p[v]=Object.create(null));N[b]=i}}return[g,w,u]}_getNameAndPrefix(L,F){const g=L.indexOf(":");return g===-1?[L,null]:[L.substring(g+1),F?"":L.substring(0,g)]}onBeginElement(L,F,g){const[w,u,h]=this._mkAttributes(F,L),[i,x]=this._getNameAndPrefix(L,this._builder.isNsAgnostic()),p=this._builder.build({nsPrefix:x,name:i,attributes:h,namespace:w,prefixes:u});if(p[n.$globalData]=this._globalData,g){p[n.$finalize](),this._current[n.$onChild](p)&&p[n.$setId](this._ids),p[n.$clean](this._builder);return}this._stack.push(this._current),this._current=p}onEndElement(L){const F=this._current;if(F[n.$isCDATAXml]()&&typeof F[n.$content]=="string"){const g=new t;g._globalData=this._globalData;const w=g.parse(F[n.$content]);F[n.$content]=null,F[n.$onChild](w)}F[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](F)&&F[n.$setId](this._ids),F[n.$clean](this._builder)}onError(L){this._errorCode=L}}f.XFAParser=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.Builder=void 0;var n=$(81),d=$(78),T=$(92),e=$(80),t=$(101),l=$(2),L=$(87);class F extends L.XFAObject{constructor(h){super(-1,"root",Object.create(null)),this.element=null,this[d.$ids]=h}[d.$onChild](h){return this.element=h,!0}[d.$finalize](){super[d.$finalize](),this.element.template instanceof e.Template&&(this[d.$ids].set(d.$root,this.element),this.element.template[d.$resolvePrototypes](this[d.$ids]),this.element.template[d.$ids]=this[d.$ids])}}class g extends L.XFAObject{constructor(){super(-1,"",Object.create(null))}[d.$onChild](h){return!1}}class w{constructor(h=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(({id:i})=>i)),this._currentNamespace=h||new t.UnknownNamespace(++this._nextNsId)}buildRoot(h){return new F(h)}build({nsPrefix:h,name:i,attributes:x,namespace:p,prefixes:v}){const b=p!==null;if(b&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(p)),v&&this._addNamespacePrefix(v),x.hasOwnProperty(d.$nsAttributes)){const D=T.NamespaceSetUp.datasets,I=x[d.$nsAttributes];let B=null;for(const[_,P]of Object.entries(I))if(this._getNamespaceToUse(_)===D){B={xfa:P};break}B?x[d.$nsAttributes]=B:delete x[d.$nsAttributes]}const N=this._getNamespaceToUse(h),U=(N==null?void 0:N[n.$buildXFAObject](i,x))||new g;return U[d.$isNsAgnostic]()&&this._nsAgnosticLevel++,(b||v||U[d.$isNsAgnostic]())&&(U[d.$cleanup]={hasNamespace:b,prefixes:v,nsAgnostic:U[d.$isNsAgnostic]()}),U}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(h){let i=this._namespaces.get(h);if(i)return i;for(const[x,{check:p}]of Object.entries(n.NamespaceIds))if(p(h)){if(i=T.NamespaceSetUp[x],i)return this._namespaces.set(h,i),i;break}return i=new t.UnknownNamespace(++this._nextNsId),this._namespaces.set(h,i),i}_addNamespacePrefix(h){for(const{prefix:i,value:x}of h){const p=this._searchNamespace(x);let v=this._namespacePrefixes.get(i);v||(v=[],this._namespacePrefixes.set(i,v)),v.push(p)}}_getNamespaceToUse(h){if(!h)return this._currentNamespace;const i=this._namespacePrefixes.get(h);return(i==null?void 0:i.length)>0?i.at(-1):((0,l.warn)(`Unknown namespace prefix: ${h}.`),null)}clean(h){const{hasNamespace:i,prefixes:x,nsAgnostic:p}=h;i&&(this._currentNamespace=this._namespaceStack.pop()),x&&x.forEach(({prefix:v})=>{this._namespacePrefixes.get(v).pop()}),p&&this._nsAgnosticLevel--}}f.Builder=w},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.NamespaceSetUp=void 0;var n=$(93),d=$(94),T=$(95),e=$(96),t=$(97),l=$(98),L=$(80),F=$(99),g=$(100);const w={config:n.ConfigNamespace,connection:d.ConnectionSetNamespace,datasets:T.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:t.SignatureNamespace,stylesheet:l.StylesheetNamespace,template:L.TemplateNamespace,xdp:F.XdpNamespace,xhtml:g.XhtmlNamespace};f.NamespaceSetUp=w},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ConfigNamespace=void 0;var n=$(81),d=$(78),T=$(87),e=$(84),t=$(2);const l=n.NamespaceIds.config.id;class L extends T.XFAObject{constructor(pe){super(l,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new T.XFAObjectArray}}class F extends T.XFAObject{constructor(pe){super(l,"acrobat7",!0),this.dynamicRender=null}}class g extends T.OptionObject{constructor(pe){super(l,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class w extends T.OptionObject{constructor(pe){super(l,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class u extends T.Option01{constructor(pe){super(l,"addSilentPrint")}}class h extends T.Option01{constructor(pe){super(l,"addViewerPreferences")}}class i extends T.Option10{constructor(pe){super(l,"adjustData")}}class x extends T.IntegerObject{constructor(pe){super(l,"adobeExtensionLevel",0,We=>We>=1&&We<=8)}}class p extends T.XFAObject{constructor(pe){super(l,"agent",!0),this.name=pe.name?pe.name.trim():"",this.common=new T.XFAObjectArray}}class v extends T.ContentObject{constructor(pe){super(l,"alwaysEmbed")}}class b extends T.StringObject{constructor(pe){super(l,"amd")}}class N extends T.XFAObject{constructor(pe){super(l,"area"),this.level=(0,e.getInteger)({data:pe.level,defaultValue:0,validate:We=>We>=1&&We<=3}),this.name=(0,e.getStringOption)(pe.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class U extends T.OptionObject{constructor(pe){super(l,"attributes",["preserve","delegate","ignore"])}}class D extends T.OptionObject{constructor(pe){super(l,"autoSave",["disabled","enabled"])}}class I extends T.StringObject{constructor(pe){super(l,"base")}}class B extends T.XFAObject{constructor(pe){super(l,"batchOutput"),this.format=(0,e.getStringOption)(pe.format,["none","concat","zip","zipCompress"])}}class _ extends T.ContentObject{constructor(pe){super(l,"behaviorOverride")}[d.$finalize](){this[d.$content]=new Map(this[d.$content].trim().split(/\s+/).filter(pe=>pe.includes(":")).map(pe=>pe.split(":",2)))}}class P extends T.XFAObject{constructor(pe){super(l,"cache",!0),this.templateCache=null}}class X extends T.Option01{constructor(pe){super(l,"change")}}class m extends T.XFAObject{constructor(pe){super(l,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new T.XFAObjectArray}}class S extends T.XFAObject{constructor(pe){super(l,"compress"),this.scope=(0,e.getStringOption)(pe.scope,["imageOnly","document"])}}class R extends T.Option01{constructor(pe){super(l,"compressLogicalStructure")}}class z extends T.Option10{constructor(pe){super(l,"compressObjectStream")}}class O extends T.XFAObject{constructor(pe){super(l,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class E extends T.XFAObject{constructor(pe){super(l,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new T.XFAObjectArray}}class k extends T.OptionObject{constructor(pe){super(l,"conformance",["A","B"])}}class M extends T.Option01{constructor(pe){super(l,"contentCopy")}}class a extends T.IntegerObject{constructor(pe){super(l,"copies",1,We=>We>=1)}}class o extends T.StringObject{constructor(pe){super(l,"creator")}}class r extends T.IntegerObject{constructor(pe){super(l,"currentPage",0,We=>We>=0)}}class s extends T.XFAObject{constructor(pe){super(l,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new T.XFAObjectArray,this.transform=new T.XFAObjectArray}}class A extends T.XFAObject{constructor(pe){super(l,"debug",!0),this.uri=null}}class c extends T.ContentObject{constructor(pe){super(l,"defaultTypeface"),this.writingScript=(0,e.getStringOption)(pe.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class y extends T.OptionObject{constructor(pe){super(l,"destination",["pdf","pcl","ps","webClient","zpl"])}}class q extends T.Option01{constructor(pe){super(l,"documentAssembly")}}class re extends T.XFAObject{constructor(pe){super(l,"driver",!0),this.name=pe.name?pe.name.trim():"",this.fontInfo=null,this.xdc=null}}class Q extends T.OptionObject{constructor(pe){super(l,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class de extends T.OptionObject{constructor(pe){super(l,"dynamicRender",["forbidden","required"])}}class ee extends T.Option01{constructor(pe){super(l,"embed")}}class ue extends T.Option01{constructor(pe){super(l,"encrypt")}}class W extends T.XFAObject{constructor(pe){super(l,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class Z extends T.OptionObject{constructor(pe){super(l,"encryptionLevel",["40bit","128bit"])}}class se extends T.StringObject{constructor(pe){super(l,"enforce")}}class ne extends T.XFAObject{constructor(pe){super(l,"equate"),this.force=(0,e.getInteger)({data:pe.force,defaultValue:1,validate:We=>We===0}),this.from=pe.from||"",this.to=pe.to||""}}class ie extends T.XFAObject{constructor(pe){super(l,"equateRange"),this.from=pe.from||"",this.to=pe.to||"",this._unicodeRange=pe.unicodeRange||""}get unicodeRange(){const pe=[],We=/U\+([0-9a-fA-F]+)/,tt=this._unicodeRange;for(let it of tt.split(",").map(ft=>ft.trim()).filter(ft=>!!ft))it=it.split("-",2).map(ft=>{const mt=ft.match(We);return mt?parseInt(mt[1],16):0}),it.length===1&&it.push(it[0]),pe.push(it);return(0,t.shadow)(this,"unicodeRange",pe)}}class H extends T.ContentObject{constructor(pe){super(l,"exclude")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/).filter(pe=>pe&&["calculate","close","enter","exit","initialize","ready","validate"].includes(pe))}}class Y extends T.StringObject{constructor(pe){super(l,"excludeNS")}}class G extends T.OptionObject{constructor(pe){super(l,"flipLabel",["usePrinterSetting","on","off"])}}class le extends T.XFAObject{constructor(pe){super(l,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new T.XFAObjectArray,this.defaultTypeface=new T.XFAObjectArray,this.neverEmbed=new T.XFAObjectArray}}class ce extends T.Option01{constructor(pe){super(l,"formFieldFilling")}}class te extends T.StringObject{constructor(pe){super(l,"groupParent")}}class ge extends T.OptionObject{constructor(pe){super(l,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class K extends T.StringObject{constructor(pe){super(l,"includeXDPContent")}}class Se extends T.OptionObject{constructor(pe){super(l,"incrementalLoad",["none","forwardOnly"])}}class Oe extends T.Option01{constructor(pe){super(l,"incrementalMerge")}}class Me extends T.Option01{constructor(pe){super(l,"interactive")}}class _e extends T.OptionObject{constructor(pe){super(l,"jog",["usePrinterSetting","none","pageSet"])}}class ke extends T.XFAObject{constructor(pe){super(l,"labelPrinter",!0),this.name=(0,e.getStringOption)(pe.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class oe extends T.OptionObject{constructor(pe){super(l,"layout",["paginate","panel"])}}class Ie extends T.IntegerObject{constructor(pe){super(l,"level",0,We=>We>0)}}class Be extends T.Option01{constructor(pe){super(l,"linearized")}}class he extends T.StringObject{constructor(pe){super(l,"locale")}}class De extends T.StringObject{constructor(pe){super(l,"localeSet")}}class ye extends T.XFAObject{constructor(pe){super(l,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class me extends T.XFAObject{constructor(pe){super(l,"map",!0),this.equate=new T.XFAObjectArray,this.equateRange=new T.XFAObjectArray}}class Pe extends T.XFAObject{constructor(pe){super(l,"mediumInfo",!0),this.map=null}}class Re extends T.XFAObject{constructor(pe){super(l,"message",!0),this.msgId=null,this.severity=null}}class He extends T.XFAObject{constructor(pe){super(l,"messaging",!0),this.message=new T.XFAObjectArray}}class Xe extends T.OptionObject{constructor(pe){super(l,"mode",["append","overwrite"])}}class Fe extends T.Option01{constructor(pe){super(l,"modifyAnnots")}}class ae extends T.IntegerObject{constructor(pe){super(l,"msgId",1,We=>We>=1)}}class Ae extends T.StringObject{constructor(pe){super(l,"nameAttr")}}class Le extends T.ContentObject{constructor(pe){super(l,"neverEmbed")}}class Ee extends T.IntegerObject{constructor(pe){super(l,"numberOfCopies",null,We=>We>=2&&We<=5)}}class xe extends T.XFAObject{constructor(pe){super(l,"openAction",!0),this.destination=null}}class Te extends T.XFAObject{constructor(pe){super(l,"output",!0),this.to=null,this.type=null,this.uri=null}}class Ne extends T.StringObject{constructor(pe){super(l,"outputBin")}}class $e extends T.XFAObject{constructor(pe){super(l,"outputXSL",!0),this.uri=null}}class Ue extends T.OptionObject{constructor(pe){super(l,"overprint",["none","both","draw","field"])}}class ze extends T.StringObject{constructor(pe){super(l,"packets")}[d.$finalize](){this[d.$content]!=="*"&&(this[d.$content]=this[d.$content].trim().split(/\s+/).filter(pe=>["config","datasets","template","xfdf","xslt"].includes(pe)))}}class Ge extends T.XFAObject{constructor(pe){super(l,"pageOffset"),this.x=(0,e.getInteger)({data:pe.x,defaultValue:"useXDCSetting",validate:We=>!0}),this.y=(0,e.getInteger)({data:pe.y,defaultValue:"useXDCSetting",validate:We=>!0})}}class Ve extends T.StringObject{constructor(pe){super(l,"pageRange")}[d.$finalize](){const pe=this[d.$content].trim().split(/\s+/).map(tt=>parseInt(tt,10)),We=[];for(let tt=0,it=pe.length;tt<it;tt+=2)We.push(pe.slice(tt,tt+2));this[d.$content]=We}}class Ke extends T.OptionObject{constructor(pe){super(l,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class et extends T.OptionObject{constructor(pe){super(l,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class rt extends T.IntegerObject{constructor(pe){super(l,"part",1,We=>!1)}}class ot extends T.XFAObject{constructor(pe){super(l,"pcl",!0),this.name=pe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class ht extends T.XFAObject{constructor(pe){super(l,"pdf",!0),this.name=pe.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class lt extends T.XFAObject{constructor(pe){super(l,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class yt extends T.XFAObject{constructor(pe){super(l,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Tt extends T.Option01{constructor(pe){super(l,"pickTrayByPDFSize")}}class Qe extends T.StringObject{constructor(pe){super(l,"picture")}}class Je extends T.Option01{constructor(pe){super(l,"plaintextMetadata")}}class nt extends T.OptionObject{constructor(pe){super(l,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class st extends T.XFAObject{constructor(pe){super(l,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new T.XFAObjectArray,this.labelPrinter=new T.XFAObjectArray,this.pcl=new T.XFAObjectArray,this.pdf=new T.XFAObjectArray,this.ps=new T.XFAObjectArray,this.submitUrl=new T.XFAObjectArray,this.webClient=new T.XFAObjectArray,this.zpl=new T.XFAObjectArray}}class ct extends T.Option01{constructor(pe){super(l,"print")}}class xt extends T.Option01{constructor(pe){super(l,"printHighQuality")}}class ut extends T.OptionObject{constructor(pe){super(l,"printScaling",["appdefault","noScaling"])}}class at extends T.StringObject{constructor(pe){super(l,"printerName")}}class gt extends T.StringObject{constructor(pe){super(l,"producer")}}class At extends T.XFAObject{constructor(pe){super(l,"ps",!0),this.name=pe.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Rt extends T.ContentObject{constructor(pe){super(l,"range")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s*,\s*/,2).map(pe=>pe.split("-").map(We=>parseInt(We.trim(),10))).filter(pe=>pe.every(We=>!isNaN(We))).map(pe=>(pe.length===1&&pe.push(pe[0]),pe))}}class vt extends T.ContentObject{constructor(pe){super(l,"record")}[d.$finalize](){this[d.$content]=this[d.$content].trim();const pe=parseInt(this[d.$content],10);!isNaN(pe)&&pe>=0&&(this[d.$content]=pe)}}class St extends T.ContentObject{constructor(pe){super(l,"relevant")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/)}}class It extends T.ContentObject{constructor(pe){super(l,"rename")}[d.$finalize](){this[d.$content]=this[d.$content].trim(),(this[d.$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[d.$content]))&&(0,t.warn)("XFA - Rename: invalid XFA name")}}class pt extends T.OptionObject{constructor(pe){super(l,"renderPolicy",["server","client"])}}class _t extends T.OptionObject{constructor(pe){super(l,"runScripts",["both","client","none","server"])}}class dt extends T.XFAObject{constructor(pe){super(l,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class kt extends T.OptionObject{constructor(pe){super(l,"scriptModel",["XFA","none"])}}class Pt extends T.OptionObject{constructor(pe){super(l,"severity",["ignore","error","information","trace","warning"])}}class Xt extends T.XFAObject{constructor(pe){super(l,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Et extends T.XFAObject{constructor(pe){super(l,"staple"),this.mode=(0,e.getStringOption)(pe.mode,["usePrinterSetting","on","off"])}}class Ct extends T.StringObject{constructor(pe){super(l,"startNode")}}class Nt extends T.IntegerObject{constructor(pe){super(l,"startPage",0,We=>!0)}}class Ut extends T.OptionObject{constructor(pe){super(l,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Vt extends T.StringObject{constructor(pe){super(l,"submitUrl")}}class nn extends T.IntegerObject{constructor(pe){super(l,"subsetBelow",100,We=>We>=0&&We<=100)}}class Zn extends T.Option01{constructor(pe){super(l,"suppressBanner")}}class Jn extends T.Option01{constructor(pe){super(l,"tagged")}}class Qn extends T.XFAObject{constructor(pe){super(l,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class ei extends T.OptionObject{constructor(pe){super(l,"threshold",["trace","error","information","warning"])}}class ti extends T.OptionObject{constructor(pe){super(l,"to",["null","memory","stderr","stdout","system","uri"])}}class Tn extends T.XFAObject{constructor(pe){super(l,"templateCache"),this.maxEntries=(0,e.getInteger)({data:pe.maxEntries,defaultValue:5,validate:We=>We>=0})}}class mn extends T.XFAObject{constructor(pe){super(l,"trace",!0),this.area=new T.XFAObjectArray}}class ni extends T.XFAObject{constructor(pe){super(l,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class ii extends T.OptionObject{constructor(pe){super(l,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class ri extends T.StringObject{constructor(pe){super(l,"uri")}}class xn extends T.OptionObject{constructor(pe){super(l,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class In extends T.ContentObject{constructor(pe){super(l,"validateApprovalSignatures")}[d.$finalize](){this[d.$content]=this[d.$content].trim().split(/\s+/).filter(pe=>["docReady","postSign"].includes(pe))}}class Fn extends T.OptionObject{constructor(pe){super(l,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class ai extends T.OptionObject{constructor(pe){super(l,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class si extends T.XFAObject{constructor(pe){super(l,"VersionControl"),this.outputBelow=(0,e.getStringOption)(pe.outputBelow,["warn","error","update"]),this.sourceAbove=(0,e.getStringOption)(pe.sourceAbove,["warn","error"]),this.sourceBelow=(0,e.getStringOption)(pe.sourceBelow,["update","maintain"])}}class oi extends T.XFAObject{constructor(pe){super(l,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class li extends T.XFAObject{constructor(pe){super(l,"webClient",!0),this.name=pe.name?pe.name.trim():"",this.fontInfo=null,this.xdc=null}}class ci extends T.OptionObject{constructor(pe){super(l,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class bn extends T.ContentObject{constructor(pe){super(l,"window")}[d.$finalize](){const pe=this[d.$content].trim().split(/\s*,\s*/,2).map(We=>parseInt(We,10));if(pe.some(We=>isNaN(We))){this[d.$content]=[0,0];return}pe.length===1&&pe.push(pe[0]),this[d.$content]=pe}}class ui extends T.XFAObject{constructor(pe){super(l,"xdc",!0),this.uri=new T.XFAObjectArray,this.xsl=new T.XFAObjectArray}}class an extends T.XFAObject{constructor(pe){super(l,"xdp",!0),this.packets=null}}class hi extends T.XFAObject{constructor(pe){super(l,"xsl",!0),this.debug=null,this.uri=null}}class sn extends T.XFAObject{constructor(pe){super(l,"zpl",!0),this.name=pe.name?pe.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ze{static[n.$buildXFAObject](pe,We){if(Ze.hasOwnProperty(pe))return Ze[pe](We)}static acrobat(pe){return new L(pe)}static acrobat7(pe){return new F(pe)}static ADBE_JSConsole(pe){return new g(pe)}static ADBE_JSDebugger(pe){return new w(pe)}static addSilentPrint(pe){return new u(pe)}static addViewerPreferences(pe){return new h(pe)}static adjustData(pe){return new i(pe)}static adobeExtensionLevel(pe){return new x(pe)}static agent(pe){return new p(pe)}static alwaysEmbed(pe){return new v(pe)}static amd(pe){return new b(pe)}static area(pe){return new N(pe)}static attributes(pe){return new U(pe)}static autoSave(pe){return new D(pe)}static base(pe){return new I(pe)}static batchOutput(pe){return new B(pe)}static behaviorOverride(pe){return new _(pe)}static cache(pe){return new P(pe)}static change(pe){return new X(pe)}static common(pe){return new m(pe)}static compress(pe){return new S(pe)}static compressLogicalStructure(pe){return new R(pe)}static compressObjectStream(pe){return new z(pe)}static compression(pe){return new O(pe)}static config(pe){return new E(pe)}static conformance(pe){return new k(pe)}static contentCopy(pe){return new M(pe)}static copies(pe){return new a(pe)}static creator(pe){return new o(pe)}static currentPage(pe){return new r(pe)}static data(pe){return new s(pe)}static debug(pe){return new A(pe)}static defaultTypeface(pe){return new c(pe)}static destination(pe){return new y(pe)}static documentAssembly(pe){return new q(pe)}static driver(pe){return new re(pe)}static duplexOption(pe){return new Q(pe)}static dynamicRender(pe){return new de(pe)}static embed(pe){return new ee(pe)}static encrypt(pe){return new ue(pe)}static encryption(pe){return new W(pe)}static encryptionLevel(pe){return new Z(pe)}static enforce(pe){return new se(pe)}static equate(pe){return new ne(pe)}static equateRange(pe){return new ie(pe)}static exclude(pe){return new H(pe)}static excludeNS(pe){return new Y(pe)}static flipLabel(pe){return new G(pe)}static fontInfo(pe){return new le(pe)}static formFieldFilling(pe){return new ce(pe)}static groupParent(pe){return new te(pe)}static ifEmpty(pe){return new ge(pe)}static includeXDPContent(pe){return new K(pe)}static incrementalLoad(pe){return new Se(pe)}static incrementalMerge(pe){return new Oe(pe)}static interactive(pe){return new Me(pe)}static jog(pe){return new _e(pe)}static labelPrinter(pe){return new ke(pe)}static layout(pe){return new oe(pe)}static level(pe){return new Ie(pe)}static linearized(pe){return new Be(pe)}static locale(pe){return new he(pe)}static localeSet(pe){return new De(pe)}static log(pe){return new ye(pe)}static map(pe){return new me(pe)}static mediumInfo(pe){return new Pe(pe)}static message(pe){return new Re(pe)}static messaging(pe){return new He(pe)}static mode(pe){return new Xe(pe)}static modifyAnnots(pe){return new Fe(pe)}static msgId(pe){return new ae(pe)}static nameAttr(pe){return new Ae(pe)}static neverEmbed(pe){return new Le(pe)}static numberOfCopies(pe){return new Ee(pe)}static openAction(pe){return new xe(pe)}static output(pe){return new Te(pe)}static outputBin(pe){return new Ne(pe)}static outputXSL(pe){return new $e(pe)}static overprint(pe){return new Ue(pe)}static packets(pe){return new ze(pe)}static pageOffset(pe){return new Ge(pe)}static pageRange(pe){return new Ve(pe)}static pagination(pe){return new Ke(pe)}static paginationOverride(pe){return new et(pe)}static part(pe){return new rt(pe)}static pcl(pe){return new ot(pe)}static pdf(pe){return new ht(pe)}static pdfa(pe){return new lt(pe)}static permissions(pe){return new yt(pe)}static pickTrayByPDFSize(pe){return new Tt(pe)}static picture(pe){return new Qe(pe)}static plaintextMetadata(pe){return new Je(pe)}static presence(pe){return new nt(pe)}static present(pe){return new st(pe)}static print(pe){return new ct(pe)}static printHighQuality(pe){return new xt(pe)}static printScaling(pe){return new ut(pe)}static printerName(pe){return new at(pe)}static producer(pe){return new gt(pe)}static ps(pe){return new At(pe)}static range(pe){return new Rt(pe)}static record(pe){return new vt(pe)}static relevant(pe){return new St(pe)}static rename(pe){return new It(pe)}static renderPolicy(pe){return new pt(pe)}static runScripts(pe){return new _t(pe)}static script(pe){return new dt(pe)}static scriptModel(pe){return new kt(pe)}static severity(pe){return new Pt(pe)}static silentPrint(pe){return new Xt(pe)}static staple(pe){return new Et(pe)}static startNode(pe){return new Ct(pe)}static startPage(pe){return new Nt(pe)}static submitFormat(pe){return new Ut(pe)}static submitUrl(pe){return new Vt(pe)}static subsetBelow(pe){return new nn(pe)}static suppressBanner(pe){return new Zn(pe)}static tagged(pe){return new Jn(pe)}static template(pe){return new Qn(pe)}static templateCache(pe){return new Tn(pe)}static threshold(pe){return new ei(pe)}static to(pe){return new ti(pe)}static trace(pe){return new mn(pe)}static transform(pe){return new ni(pe)}static type(pe){return new ii(pe)}static uri(pe){return new ri(pe)}static validate(pe){return new xn(pe)}static validateApprovalSignatures(pe){return new In(pe)}static validationMessaging(pe){return new Fn(pe)}static version(pe){return new ai(pe)}static versionControl(pe){return new si(pe)}static viewerPreferences(pe){return new oi(pe)}static webClient(pe){return new li(pe)}static whitespace(pe){return new ci(pe)}static window(pe){return new bn(pe)}static xdc(pe){return new ui(pe)}static xdp(pe){return new an(pe)}static xsl(pe){return new hi(pe)}static zpl(pe){return new sn(pe)}}f.ConfigNamespace=Ze},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.ConnectionSetNamespace=void 0;var n=$(81),d=$(87);const T=n.NamespaceIds.connectionSet.id;class e extends d.XFAObject{constructor(N){super(T,"connectionSet",!0),this.wsdlConnection=new d.XFAObjectArray,this.xmlConnection=new d.XFAObjectArray,this.xsdConnection=new d.XFAObjectArray}}class t extends d.XFAObject{constructor(N){super(T,"effectiveInputPolicy"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class l extends d.XFAObject{constructor(N){super(T,"effectiveOutputPolicy"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class L extends d.StringObject{constructor(N){super(T,"operation"),this.id=N.id||"",this.input=N.input||"",this.name=N.name||"",this.output=N.output||"",this.use=N.use||"",this.usehref=N.usehref||""}}class F extends d.StringObject{constructor(N){super(T,"rootElement"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class g extends d.StringObject{constructor(N){super(T,"soapAction"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class w extends d.StringObject{constructor(N){super(T,"soapAddress"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class u extends d.StringObject{constructor(N){super(T,"uri"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class h extends d.StringObject{constructor(N){super(T,"wsdlAddress"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class i extends d.XFAObject{constructor(N){super(T,"wsdlConnection",!0),this.dataDescription=N.dataDescription||"",this.name=N.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class x extends d.XFAObject{constructor(N){super(T,"xmlConnection",!0),this.dataDescription=N.dataDescription||"",this.name=N.name||"",this.uri=null}}class p extends d.XFAObject{constructor(N){super(T,"xsdConnection",!0),this.dataDescription=N.dataDescription||"",this.name=N.name||"",this.rootElement=null,this.uri=null}}class v{static[n.$buildXFAObject](N,U){if(v.hasOwnProperty(N))return v[N](U)}static connectionSet(N){return new e(N)}static effectiveInputPolicy(N){return new t(N)}static effectiveOutputPolicy(N){return new l(N)}static operation(N){return new L(N)}static rootElement(N){return new F(N)}static soapAction(N){return new g(N)}static soapAddress(N){return new w(N)}static uri(N){return new u(N)}static wsdlAddress(N){return new h(N)}static wsdlConnection(N){return new i(N)}static xmlConnection(N){return new x(N)}static xsdConnection(N){return new p(N)}}f.ConnectionSetNamespace=v},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DatasetsNamespace=void 0;var n=$(78),d=$(81),T=$(87);const e=d.NamespaceIds.datasets.id;class t extends T.XmlObject{constructor(g){super(e,"data",g)}[n.$isNsAgnostic](){return!0}}class l extends T.XFAObject{constructor(g){super(e,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](g){const w=g[n.$nodeName];(w==="data"&&g[n.$namespaceId]===e||w==="Signature"&&g[n.$namespaceId]===d.NamespaceIds.signature.id)&&(this[w]=g),this[n.$appendChild](g)}}class L{static[d.$buildXFAObject](g,w){if(L.hasOwnProperty(g))return L[g](w)}static datasets(g){return new l(g)}static data(g){return new t(g)}}f.DatasetsNamespace=L},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.LocaleSetNamespace=void 0;var n=$(81),d=$(87),T=$(84);const e=n.NamespaceIds.localeSet.id;class t extends d.XFAObject{constructor(E){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new d.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new d.XFAObjectArray(2)}}class l extends d.StringObject{constructor(E){super(e,"currencySymbol"),this.name=(0,T.getStringOption)(E.name,["symbol","isoname","decimal"])}}class L extends d.XFAObject{constructor(E){super(e,"currencySymbols",!0),this.currencySymbol=new d.XFAObjectArray(3)}}class F extends d.StringObject{constructor(E){super(e,"datePattern"),this.name=(0,T.getStringOption)(E.name,["full","long","med","short"])}}class g extends d.XFAObject{constructor(E){super(e,"datePatterns",!0),this.datePattern=new d.XFAObjectArray(4)}}class w extends d.ContentObject{constructor(E){super(e,"dateTimeSymbols")}}class u extends d.StringObject{constructor(E){super(e,"day")}}class h extends d.XFAObject{constructor(E){super(e,"dayNames",!0),this.abbr=(0,T.getInteger)({data:E.abbr,defaultValue:0,validate:k=>k===1}),this.day=new d.XFAObjectArray(7)}}class i extends d.StringObject{constructor(E){super(e,"era")}}class x extends d.XFAObject{constructor(E){super(e,"eraNames",!0),this.era=new d.XFAObjectArray(2)}}class p extends d.XFAObject{constructor(E){super(e,"locale",!0),this.desc=E.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class v extends d.XFAObject{constructor(E){super(e,"localeSet",!0),this.locale=new d.XFAObjectArray}}class b extends d.StringObject{constructor(E){super(e,"meridiem")}}class N extends d.XFAObject{constructor(E){super(e,"meridiemNames",!0),this.meridiem=new d.XFAObjectArray(2)}}class U extends d.StringObject{constructor(E){super(e,"month")}}class D extends d.XFAObject{constructor(E){super(e,"monthNames",!0),this.abbr=(0,T.getInteger)({data:E.abbr,defaultValue:0,validate:k=>k===1}),this.month=new d.XFAObjectArray(12)}}class I extends d.StringObject{constructor(E){super(e,"numberPattern"),this.name=(0,T.getStringOption)(E.name,["full","long","med","short"])}}class B extends d.XFAObject{constructor(E){super(e,"numberPatterns",!0),this.numberPattern=new d.XFAObjectArray(4)}}class _ extends d.StringObject{constructor(E){super(e,"numberSymbol"),this.name=(0,T.getStringOption)(E.name,["decimal","grouping","percent","minus","zero"])}}class P extends d.XFAObject{constructor(E){super(e,"numberSymbols",!0),this.numberSymbol=new d.XFAObjectArray(5)}}class X extends d.StringObject{constructor(E){super(e,"timePattern"),this.name=(0,T.getStringOption)(E.name,["full","long","med","short"])}}class m extends d.XFAObject{constructor(E){super(e,"timePatterns",!0),this.timePattern=new d.XFAObjectArray(4)}}class S extends d.XFAObject{constructor(E){super(e,"typeFace",!0),this.name=E.name|""}}class R extends d.XFAObject{constructor(E){super(e,"typeFaces",!0),this.typeFace=new d.XFAObjectArray}}class z{static[n.$buildXFAObject](E,k){if(z.hasOwnProperty(E))return z[E](k)}static calendarSymbols(E){return new t(E)}static currencySymbol(E){return new l(E)}static currencySymbols(E){return new L(E)}static datePattern(E){return new F(E)}static datePatterns(E){return new g(E)}static dateTimeSymbols(E){return new w(E)}static day(E){return new u(E)}static dayNames(E){return new h(E)}static era(E){return new i(E)}static eraNames(E){return new x(E)}static locale(E){return new p(E)}static localeSet(E){return new v(E)}static meridiem(E){return new b(E)}static meridiemNames(E){return new N(E)}static month(E){return new U(E)}static monthNames(E){return new D(E)}static numberPattern(E){return new I(E)}static numberPatterns(E){return new B(E)}static numberSymbol(E){return new _(E)}static numberSymbols(E){return new P(E)}static timePattern(E){return new X(E)}static timePatterns(E){return new m(E)}static typeFace(E){return new S(E)}static typeFaces(E){return new R(E)}}f.LocaleSetNamespace=z},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.SignatureNamespace=void 0;var n=$(81),d=$(87);const T=n.NamespaceIds.signature.id;class e extends d.XFAObject{constructor(L){super(T,"signature",!0)}}class t{static[n.$buildXFAObject](L,F){if(t.hasOwnProperty(L))return t[L](F)}static signature(L){return new e(L)}}f.SignatureNamespace=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.StylesheetNamespace=void 0;var n=$(81),d=$(87);const T=n.NamespaceIds.stylesheet.id;class e extends d.XFAObject{constructor(L){super(T,"stylesheet",!0)}}class t{static[n.$buildXFAObject](L,F){if(t.hasOwnProperty(L))return t[L](F)}static stylesheet(L){return new e(L)}}f.StylesheetNamespace=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XdpNamespace=void 0;var n=$(81),d=$(78),T=$(87);const e=n.NamespaceIds.xdp.id;class t extends T.XFAObject{constructor(F){super(e,"xdp",!0),this.uuid=F.uuid||"",this.timeStamp=F.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new T.XFAObjectArray,this.template=null}[d.$onChildCheck](F){const g=n.NamespaceIds[F[d.$nodeName]];return g&&F[d.$namespaceId]===g.id}}class l{static[n.$buildXFAObject](F,g){if(l.hasOwnProperty(F))return l[F](g)}static xdp(F){return new t(F)}}f.XdpNamespace=l},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.XhtmlNamespace=void 0;var n=$(78),d=$(81),T=$(83),e=$(84),t=$(87);const l=d.NamespaceIds.xhtml.id,L=Symbol(),F=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),g=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",E=>E==="none"?"none":"normal"],["xfa-font-horizontal-scale",E=>`scaleX(${Math.max(0,Math.min(parseInt(E)/100)).toFixed(2)})`],["xfa-font-vertical-scale",E=>`scaleY(${Math.max(0,Math.min(parseInt(E)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(E,k)=>(E=k.fontSize=(0,e.getMeasurement)(E),(0,T.measureToString)(.99*E))],["letter-spacing",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["line-height",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["margin",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["margin-bottom",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["margin-left",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["margin-right",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["margin-top",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["text-indent",E=>(0,T.measureToString)((0,e.getMeasurement)(E))],["font-family",E=>E],["vertical-align",E=>(0,T.measureToString)((0,e.getMeasurement)(E))]]),w=/\s+/g,u=/[\r\n]+/g,h=/\r\n?/g;function i(E,k,M){const a=Object.create(null);if(!E)return a;const o=Object.create(null);for(const[r,s]of E.split(";").map(A=>A.split(":",2))){const A=g.get(r);if(A==="")continue;let c=s;A&&(c=typeof A=="string"?A:A(s,o)),r.endsWith("scale")?a.transform=a.transform?`${a[r]} ${c}`:c:a[r.replaceAll(/-([a-zA-Z])/g,(y,q)=>q.toUpperCase())]=c}if(a.fontFamily&&(0,T.setFontFamily)({typeface:a.fontFamily,weight:a.fontWeight||"normal",posture:a.fontStyle||"normal",size:o.fontSize||0},k,k[n.$globalData].fontFinder,a),M&&a.verticalAlign&&a.verticalAlign!=="0px"&&a.fontSize){const A=(0,e.getMeasurement)(a.fontSize);a.fontSize=(0,T.measureToString)(A*.583),a.verticalAlign=(0,T.measureToString)(Math.sign((0,e.getMeasurement)(a.verticalAlign))*A*.333)}return M&&a.fontSize&&(a.fontSize=`calc(${a.fontSize} * var(--scale-factor))`),(0,T.fixTextIndent)(a),a}function x(E){return E.style?E.style.trim().split(/\s*;\s*/).filter(k=>!!k).map(k=>k.split(/\s*:\s*/,2)).filter(([k,M])=>(k==="font-family"&&E[n.$globalData].usedTypefaces.add(M),F.has(k))).map(k=>k.join(":")).join(";"):""}const p=new Set(["body","html"]);class v extends t.XmlObject{constructor(k,M){super(l,M),this[L]=!1,this.style=k.style||""}[n.$clean](k){super[n.$clean](k),this.style=x(this)}[n.$acceptWhitespace](){return!p.has(this[n.$nodeName])}[n.$onText](k,M=!1){M?this[L]=!0:(k=k.replaceAll(u,""),this.style.includes("xfa-spacerun:yes")||(k=k.replaceAll(w," "))),k&&(this[n.$content]+=k)}[n.$pushGlyphs](k,M=!0){const a=Object.create(null),o={top:NaN,bottom:NaN,left:NaN,right:NaN};let r=null;for(const[s,A]of this.style.split(";").map(c=>c.split(":",2)))switch(s){case"font-family":a.typeface=(0,e.stripQuotes)(A);break;case"font-size":a.size=(0,e.getMeasurement)(A);break;case"font-weight":a.weight=A;break;case"font-style":a.posture=A;break;case"letter-spacing":a.letterSpacing=(0,e.getMeasurement)(A);break;case"margin":const c=A.split(/ \t/).map(y=>(0,e.getMeasurement)(y));switch(c.length){case 1:o.top=o.bottom=o.left=o.right=c[0];break;case 2:o.top=o.bottom=c[0],o.left=o.right=c[1];break;case 3:o.top=c[0],o.bottom=c[2],o.left=o.right=c[1];break;case 4:o.top=c[0],o.left=c[1],o.bottom=c[2],o.right=c[3];break}break;case"margin-top":o.top=(0,e.getMeasurement)(A);break;case"margin-bottom":o.bottom=(0,e.getMeasurement)(A);break;case"margin-left":o.left=(0,e.getMeasurement)(A);break;case"margin-right":o.right=(0,e.getMeasurement)(A);break;case"line-height":r=(0,e.getMeasurement)(A);break}if(k.pushData(a,o,r),this[n.$content])k.addString(this[n.$content]);else for(const s of this[n.$getChildren]()){if(s[n.$nodeName]==="#text"){k.addString(s[n.$content]);continue}s[n.$pushGlyphs](k)}M&&k.popFont()}[n.$toHTML](k){const M=[];if(this[n.$extra]={children:M},this[n.$childrenToHTML]({}),M.length===0&&!this[n.$content])return e.HTMLResult.EMPTY;let a;return this[L]?a=this[n.$content]?this[n.$content].replaceAll(h,`
`):void 0:a=this[n.$content]||void 0,e.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:i(this.style,this,this[L])},children:M,value:a})}}class b extends v{constructor(k){super(k,"a"),this.href=(0,T.fixURL)(k.href)||""}}class N extends v{constructor(k){super(k,"b")}[n.$pushGlyphs](k){k.pushFont({weight:"bold"}),super[n.$pushGlyphs](k),k.popFont()}}class U extends v{constructor(k){super(k,"body")}[n.$toHTML](k){const M=super[n.$toHTML](k),{html:a}=M;return a?(a.name="div",a.attributes.class=["xfaRich"],M):e.HTMLResult.EMPTY}}class D extends v{constructor(k){super(k,"br")}[n.$text](){return`
`}[n.$pushGlyphs](k){k.addString(`
`)}[n.$toHTML](k){return e.HTMLResult.success({name:"br"})}}class I extends v{constructor(k){super(k,"html")}[n.$toHTML](k){var a;const M=[];if(this[n.$extra]={children:M},this[n.$childrenToHTML]({}),M.length===0)return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(M.length===1){const o=M[0];if((a=o.attributes)!=null&&a.class.includes("xfaRich"))return e.HTMLResult.success(o)}return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:M})}}class B extends v{constructor(k){super(k,"i")}[n.$pushGlyphs](k){k.pushFont({posture:"italic"}),super[n.$pushGlyphs](k),k.popFont()}}class _ extends v{constructor(k){super(k,"li")}}class P extends v{constructor(k){super(k,"ol")}}class X extends v{constructor(k){super(k,"p")}[n.$pushGlyphs](k){super[n.$pushGlyphs](k,!1),k.addString(`
`),k.addPara(),k.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class m extends v{constructor(k){super(k,"span")}}class S extends v{constructor(k){super(k,"sub")}}class R extends v{constructor(k){super(k,"sup")}}class z extends v{constructor(k){super(k,"ul")}}class O{static[d.$buildXFAObject](k,M){if(O.hasOwnProperty(k))return O[k](M)}static a(k){return new b(k)}static b(k){return new N(k)}static body(k){return new U(k)}static br(k){return new D(k)}static html(k){return new I(k)}static i(k){return new B(k)}static li(k){return new _(k)}static ol(k){return new P(k)}static p(k){return new X(k)}static span(k){return new m(k)}static sub(k){return new S(k)}static sup(k){return new R(k)}static ul(k){return new z(k)}}f.XhtmlNamespace=O},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.UnknownNamespace=void 0;var n=$(81),d=$(87);class T{constructor(t){this.namespaceId=t}[n.$buildXFAObject](t,l){return new d.XmlObject(this.namespaceId,t,l)}}f.UnknownNamespace=T},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.DatasetReader=void 0;var n=$(2),d=$(3),T=$(71);function e(L){try{return(0,n.stringToUTF8String)(L)}catch(F){return(0,n.warn)(`UTF-8 decoding failed: "${F}".`),L}}class t extends T.SimpleXMLParser{constructor(F){super(F),this.node=null}onEndElement(F){const g=super.onEndElement(F);if(g&&F==="xfa:datasets")throw this.node=g,new Error("Aborting DatasetXMLParser.")}}class l{constructor(F){if(F.datasets)this.node=new T.SimpleXMLParser({hasAttributes:!0}).parseFromString(F.datasets).documentElement;else{const g=new t({hasAttributes:!0});try{g.parseFromString(F["xdp:xdp"])}catch{}this.node=g.node}}getValue(F){if(!this.node||!F)return"";const g=this.node.searchNode((0,d.parseXFAPath)(F),0);if(!g)return"";const w=g.firstChild;return(w==null?void 0:w.nodeName)==="value"?g.children.map(u=>e(u.textContent)):e(g.textContent)}}f.DatasetReader=l},(fe,f,$)=>{var F;Object.defineProperty(f,"__esModule",{value:!0}),f.XRef=void 0;var n=$(2),d=$(4),T=$(16),e=$(3),t=$(5),l=$(74);class L{constructor(w,u){je(this,F,null);this.stream=w,this.pdfManager=u,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new d.RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null}getNewPersistentRef(w){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const u=this._newPersistentRefNum++;return this._cacheMap.set(u,w),d.Ref.get(u,0)}getNewTemporaryRef(){return this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1),d.Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){this._newTemporaryRefNum=null}setStartXRef(w){this.startXRefQueue=[w]}parse(w=!1){let u;w?((0,n.warn)("Indexing all PDF objects"),u=this.indexObjects()):u=this.readXRef(),u.assignXref(this),this.trailer=u;let h;try{h=u.get("Encrypt")}catch(x){if(x instanceof e.MissingDataException)throw x;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${x}".`)}if(h instanceof d.Dict){const x=u.get("ID"),p=x!=null&&x.length?x[0]:"";h.suppressEncryption=!0,this.encrypt=new l.CipherTransformFactory(h,p,this.pdfManager.password)}let i;try{i=u.get("Root")}catch(x){if(x instanceof e.MissingDataException)throw x;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${x}".`)}if(i instanceof d.Dict)try{if(i.get("Pages")instanceof d.Dict){this.root=i;return}}catch(x){if(x instanceof e.MissingDataException)throw x;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${x}".`)}throw w?new n.InvalidPDFException("Invalid Root reference."):new e.XRefParseException}processXRefTable(w){"tableState"in this||(this.tableState={entryNum:0,streamPos:w.lexer.stream.pos,parserBuf1:w.buf1,parserBuf2:w.buf2});const u=this.readXRefTable(w);if(!(0,d.isCmd)(u,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let h=w.getObj();if(!(h instanceof d.Dict)&&h.dict&&(h=h.dict),!(h instanceof d.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,h}readXRefTable(w){const u=w.lexer.stream,h=this.tableState;u.pos=h.streamPos,w.buf1=h.parserBuf1,w.buf2=h.parserBuf2;let i;for(;;){if(!("firstEntryNum"in h)||!("entryCount"in h)){if((0,d.isCmd)(i=w.getObj(),"trailer"))break;h.firstEntryNum=i,h.entryCount=w.getObj()}let x=h.firstEntryNum;const p=h.entryCount;if(!Number.isInteger(x)||!Number.isInteger(p))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let v=h.entryNum;v<p;v++){h.streamPos=u.pos,h.entryNum=v,h.parserBuf1=w.buf1,h.parserBuf2=w.buf2;const b={};b.offset=w.getObj(),b.gen=w.getObj();const N=w.getObj();if(N instanceof d.Cmd)switch(N.cmd){case"f":b.free=!0;break;case"n":b.uncompressed=!0;break}if(!Number.isInteger(b.offset)||!Number.isInteger(b.gen)||!(b.free||b.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${x}, ${p}`);v===0&&b.free&&x===1&&(x=0),this.entries[v+x]||(this.entries[v+x]=b)}h.entryNum=0,h.streamPos=u.pos,h.parserBuf1=w.buf1,h.parserBuf2=w.buf2,delete h.firstEntryNum,delete h.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return i}processXRefStream(w){if(!("streamState"in this)){const u=w.dict,h=u.get("W");let i=u.get("Index");i||(i=[0,u.get("Size")]),this.streamState={entryRanges:i,byteWidths:h,entryNum:0,streamPos:w.pos}}return this.readXRefStream(w),delete this.streamState,w.dict}readXRefStream(w){const u=this.streamState;w.pos=u.streamPos;const[h,i,x]=u.byteWidths,p=u.entryRanges;for(;p.length>0;){const[v,b]=p;if(!Number.isInteger(v)||!Number.isInteger(b))throw new n.FormatError(`Invalid XRef range fields: ${v}, ${b}`);if(!Number.isInteger(h)||!Number.isInteger(i)||!Number.isInteger(x))throw new n.FormatError(`Invalid XRef entry fields length: ${v}, ${b}`);for(let N=u.entryNum;N<b;++N){u.entryNum=N,u.streamPos=w.pos;let U=0,D=0,I=0;for(let _=0;_<h;++_){const P=w.getByte();if(P===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");U=U<<8|P}h===0&&(U=1);for(let _=0;_<i;++_){const P=w.getByte();if(P===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");D=D<<8|P}for(let _=0;_<x;++_){const P=w.getByte();if(P===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");I=I<<8|P}const B={};switch(B.offset=D,B.gen=I,U){case 0:B.free=!0;break;case 1:B.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${U}`)}this.entries[v+N]||(this.entries[v+N]=B)}u.entryNum=0,u.streamPos=w.pos,p.splice(0,2)}}indexObjects(){function v(o,r){let s="",A=o[r];for(;A!==10&&A!==13&&A!==60&&!(++r>=o.length);)s+=String.fromCharCode(A),A=o[r];return s}function b(o,r,s){const A=s.length,c=o.length;let y=0;for(;r<c;){let q=0;for(;q<A&&o[r+q]===s[q];)++q;if(q>=A)break;r++,y++}return y}const N=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,U=/\b(startxref|\d+\s+\d+\s+obj)\b/g,D=/^(\d+)\s+(\d+)\s+obj\b/,I=new Uint8Array([116,114,97,105,108,101,114]),B=new Uint8Array([115,116,97,114,116,120,114,101,102]),_=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const P=this.stream;P.pos=0;const X=P.getBytes(),m=(0,n.bytesToString)(X),S=X.length;let R=P.start;const z=[],O=[];for(;R<S;){let o=X[R];if(o===9||o===10||o===13||o===32){++R;continue}if(o===37){do{if(++R,R>=S)break;o=X[R]}while(o!==10&&o!==13);continue}const r=v(X,R);let s;if(r.startsWith("xref")&&(r.length===4||/\s/.test(r[4])))R+=b(X,R,I),z.push(R),R+=b(X,R,B);else if(s=D.exec(r)){const A=s[1]|0,c=s[2]|0,y=R+r.length;let q,re=!1;if(!this.entries[A])re=!0;else if(this.entries[A].gen===c)try{new T.Parser({lexer:new T.Lexer(P.makeSubStream(y))}).getObj(),re=!0}catch(ue){ue instanceof e.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${r}): "${ue}".`):re=!0}re&&(this.entries[A]={offset:R-P.start,gen:c,uncompressed:!0}),N.lastIndex=y;const Q=N.exec(m);Q?(q=N.lastIndex+1-R,Q[1]!=="endobj"&&((0,n.warn)(`indexObjects: Found "${Q[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),q-=Q[1].length+1)):q=S-R;const de=X.subarray(R,R+q),ee=b(de,0,_);ee<q&&de[ee+5]<64&&(O.push(R-P.start),this._xrefStms.add(R-P.start)),R+=q}else if(r.startsWith("trailer")&&(r.length===7||/\s/.test(r[7]))){z.push(R);const A=R+r.length;let c;U.lastIndex=A;const y=U.exec(m);y?(c=U.lastIndex+1-R,y[1]!=="startxref"&&((0,n.warn)(`indexObjects: Found "${y[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),c-=y[1].length+1)):c=S-R,R+=c}else R+=r.length+1}for(const o of O)this.startXRefQueue.push(o),this.readXRef(!0);const E=[];let k=!1;for(const o of z){P.pos=o;const r=new T.Parser({lexer:new T.Lexer(P),xref:this,allowStreams:!0,recoveryMode:!0}),s=r.getObj();if(!(0,d.isCmd)(s,"trailer"))continue;const A=r.getObj();A instanceof d.Dict&&(E.push(A),A.has("Encrypt")&&(k=!0))}let M,a;for(const o of[...E,"genFallback",...E]){if(o==="genFallback"){if(!a)break;this._generationFallback=!0;continue}let r=!1;try{const s=o.get("Root");if(!(s instanceof d.Dict))continue;const A=s.get("Pages");if(!(A instanceof d.Dict))continue;const c=A.get("Count");Number.isInteger(c)&&(r=!0)}catch(s){a=s;continue}if(r&&(!k||o.has("Encrypt"))&&o.has("ID"))return o;M=o}if(M)return M;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(w=!1){const u=this.stream,h=new Set;for(;this.startXRefQueue.length;){try{const i=this.startXRefQueue[0];if(h.has(i)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}h.add(i),u.pos=i+u.start;const x=new T.Parser({lexer:new T.Lexer(u),xref:this,allowStreams:!0});let p=x.getObj(),v;if((0,d.isCmd)(p,"xref"))v=this.processXRefTable(x),this.topDict||(this.topDict=v),p=v.get("XRefStm"),Number.isInteger(p)&&!this._xrefStms.has(p)&&(this._xrefStms.add(p),this.startXRefQueue.push(p),Ce(this,F)??Ye(this,F,p));else if(Number.isInteger(p)){if(!Number.isInteger(x.getObj())||!(0,d.isCmd)(x.getObj(),"obj")||!((p=x.getObj())instanceof t.BaseStream))throw new n.FormatError("Invalid XRef stream");if(v=this.processXRefStream(p),this.topDict||(this.topDict=v),!v)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");p=v.get("Prev"),Number.isInteger(p)?this.startXRefQueue.push(p):p instanceof d.Ref&&this.startXRefQueue.push(p.num)}catch(i){if(i instanceof e.MissingDataException)throw i;(0,n.info)("(while reading XRef): "+i)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!w)throw new e.XRefParseException}get lastXRefStreamPos(){return Ce(this,F)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(w){const u=this.entries[w];return u&&!u.free&&u.offset?u:null}fetchIfRef(w,u=!1){return w instanceof d.Ref?this.fetch(w,u):w}fetch(w,u=!1){if(!(w instanceof d.Ref))throw new Error("ref object is not a reference");const h=w.num,i=this._cacheMap.get(h);if(i!==void 0)return i instanceof d.Dict&&!i.objId&&(i.objId=w.toString()),i;let x=this.getEntry(h);if(x===null)return this._cacheMap.set(h,x),x;if(this._pendingRefs.has(w))return this._pendingRefs.remove(w),(0,n.warn)(`Ignoring circular reference: ${w}.`),d.CIRCULAR_REF;this._pendingRefs.put(w);try{x=x.uncompressed?this.fetchUncompressed(w,x,u):this.fetchCompressed(w,x,u),this._pendingRefs.remove(w)}catch(p){throw this._pendingRefs.remove(w),p}return x instanceof d.Dict?x.objId=w.toString():x instanceof t.BaseStream&&(x.dict.objId=w.toString()),x}fetchUncompressed(w,u,h=!1){const i=w.gen;let x=w.num;if(u.gen!==i){const D=`Inconsistent generation in XRef: ${w}`;if(this._generationFallback&&u.gen<i)return(0,n.warn)(D),this.fetchUncompressed(d.Ref.get(x,u.gen),u,h);throw new e.XRefEntryException(D)}const p=this.stream.makeSubStream(u.offset+this.stream.start),v=new T.Parser({lexer:new T.Lexer(p),xref:this,allowStreams:!0}),b=v.getObj(),N=v.getObj(),U=v.getObj();if(b!==x||N!==i||!(U instanceof d.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`);if(U.cmd!=="obj"){if(U.cmd.startsWith("obj")&&(x=parseInt(U.cmd.substring(3),10),!Number.isNaN(x)))return x;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${w}`)}return u=this.encrypt&&!h?v.getObj(this.encrypt.createCipherTransform(x,i)):v.getObj(),u instanceof t.BaseStream||this._cacheMap.set(x,u),u}fetchCompressed(w,u,h=!1){const i=u.offset,x=this.fetch(d.Ref.get(i,0));if(!(x instanceof t.BaseStream))throw new n.FormatError("bad ObjStm stream");const p=x.dict.get("First"),v=x.dict.get("N");if(!Number.isInteger(p)||!Number.isInteger(v))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let b=new T.Parser({lexer:new T.Lexer(x),xref:this,allowStreams:!0});const N=new Array(v),U=new Array(v);for(let B=0;B<v;++B){const _=b.getObj();if(!Number.isInteger(_))throw new n.FormatError(`invalid object number in the ObjStm stream: ${_}`);const P=b.getObj();if(!Number.isInteger(P))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${P}`);N[B]=_,U[B]=P}const D=(x.start||0)+p,I=new Array(v);for(let B=0;B<v;++B){const _=B<v-1?U[B+1]-U[B]:void 0;if(_<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");b=new T.Parser({lexer:new T.Lexer(x.makeSubStream(D+U[B],_,x.dict)),xref:this,allowStreams:!0});const P=b.getObj();if(I[B]=P,P instanceof t.BaseStream)continue;const X=N[B],m=this.entries[X];m&&m.offset===i&&m.gen===B&&this._cacheMap.set(X,P)}if(u=I[u.gen],u===void 0)throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${w}`);return u}async fetchIfRefAsync(w,u){return w instanceof d.Ref?this.fetchAsync(w,u):w}async fetchAsync(w,u){try{return this.fetch(w,u)}catch(h){if(!(h instanceof e.MissingDataException))throw h;return await this.pdfManager.requestRange(h.begin,h.end),this.fetchAsync(w,u)}}getCatalogObj(){return this.root}}F=new WeakMap,f.XRef=L},(fe,f,$)=>{var l,Wr,F,Gr,w,Yn;Object.defineProperty(f,"__esModule",{value:!0}),f.MessageHandler=void 0;var n=$(2);const d={UNKNOWN:0,DATA:1,ERROR:2},T={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function e(h){switch(h instanceof Error||typeof h=="object"&&h!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),h.name){case"AbortException":return new n.AbortException(h.message);case"MissingPDFException":return new n.MissingPDFException(h.message);case"PasswordException":return new n.PasswordException(h.message,h.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(h.message,h.status);case"UnknownErrorException":return new n.UnknownErrorException(h.message,h.details);default:return new n.UnknownErrorException(h.message,h.toString())}}class t{constructor(i,x,p){je(this,l);je(this,F);je(this,w);this.sourceName=i,this.targetName=x,this.comObj=p,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const b=v.data;if(b.targetName!==this.sourceName)return;if(b.stream){qe(this,F,Gr).call(this,b);return}if(b.callback){const U=b.callbackId,D=this.callbackCapabilities[U];if(!D)throw new Error(`Cannot resolve callback ${U}`);if(delete this.callbackCapabilities[U],b.callback===d.DATA)D.resolve(b.data);else if(b.callback===d.ERROR)D.reject(e(b.reason));else throw new Error("Unexpected callback case");return}const N=this.actionHandler[b.action];if(!N)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const U=this.sourceName,D=b.sourceName;new Promise(function(I){I(N(b.data))}).then(function(I){p.postMessage({sourceName:U,targetName:D,callback:d.DATA,callbackId:b.callbackId,data:I})},function(I){p.postMessage({sourceName:U,targetName:D,callback:d.ERROR,callbackId:b.callbackId,reason:e(I)})});return}if(b.streamId){qe(this,l,Wr).call(this,b);return}N(b.data)},p.addEventListener("message",this._onComObjOnMessage)}on(i,x){const p=this.actionHandler;if(p[i])throw new Error(`There is already an actionName called "${i}"`);p[i]=x}send(i,x,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,data:x},p)}sendWithPromise(i,x,p){const v=this.callbackId++,b=new n.PromiseCapability;this.callbackCapabilities[v]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:i,callbackId:v,data:x},p)}catch(N){b.reject(N)}return b.promise}sendWithStream(i,x,p,v){const b=this.streamId++,N=this.sourceName,U=this.targetName,D=this.comObj;return new ReadableStream({start:I=>{const B=new n.PromiseCapability;return this.streamControllers[b]={controller:I,startCall:B,pullCall:null,cancelCall:null,isClosed:!1},D.postMessage({sourceName:N,targetName:U,action:i,streamId:b,data:x,desiredSize:I.desiredSize},v),B.promise},pull:I=>{const B=new n.PromiseCapability;return this.streamControllers[b].pullCall=B,D.postMessage({sourceName:N,targetName:U,stream:T.PULL,streamId:b,desiredSize:I.desiredSize}),B.promise},cancel:I=>{(0,n.assert)(I instanceof Error,"cancel must have a valid reason");const B=new n.PromiseCapability;return this.streamControllers[b].cancelCall=B,this.streamControllers[b].isClosed=!0,D.postMessage({sourceName:N,targetName:U,stream:T.CANCEL,streamId:b,reason:e(I)}),B.promise}},p)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l=new WeakSet,Wr=function(i){const x=i.streamId,p=this.sourceName,v=i.sourceName,b=this.comObj,N=this,U=this.actionHandler[i.action],D={enqueue(I,B=1,_){if(this.isCancelled)return;const P=this.desiredSize;this.desiredSize-=B,P>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),b.postMessage({sourceName:p,targetName:v,stream:T.ENQUEUE,streamId:x,chunk:I},_)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:p,targetName:v,stream:T.CLOSE,streamId:x}),delete N.streamSinks[x])},error(I){(0,n.assert)(I instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:p,targetName:v,stream:T.ERROR,streamId:x,reason:e(I)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};D.sinkCapability.resolve(),D.ready=D.sinkCapability.promise,this.streamSinks[x]=D,new Promise(function(I){I(U(i.data,D))}).then(function(){b.postMessage({sourceName:p,targetName:v,stream:T.START_COMPLETE,streamId:x,success:!0})},function(I){b.postMessage({sourceName:p,targetName:v,stream:T.START_COMPLETE,streamId:x,reason:e(I)})})},F=new WeakSet,Gr=function(i){const x=i.streamId,p=this.sourceName,v=i.sourceName,b=this.comObj,N=this.streamControllers[x],U=this.streamSinks[x];switch(i.stream){case T.START_COMPLETE:i.success?N.startCall.resolve():N.startCall.reject(e(i.reason));break;case T.PULL_COMPLETE:i.success?N.pullCall.resolve():N.pullCall.reject(e(i.reason));break;case T.PULL:if(!U){b.postMessage({sourceName:p,targetName:v,stream:T.PULL_COMPLETE,streamId:x,success:!0});break}U.desiredSize<=0&&i.desiredSize>0&&U.sinkCapability.resolve(),U.desiredSize=i.desiredSize,new Promise(function(D){var I;D((I=U.onPull)==null?void 0:I.call(U))}).then(function(){b.postMessage({sourceName:p,targetName:v,stream:T.PULL_COMPLETE,streamId:x,success:!0})},function(D){b.postMessage({sourceName:p,targetName:v,stream:T.PULL_COMPLETE,streamId:x,reason:e(D)})});break;case T.ENQUEUE:if((0,n.assert)(N,"enqueue should have stream controller"),N.isClosed)break;N.controller.enqueue(i.chunk);break;case T.CLOSE:if((0,n.assert)(N,"close should have stream controller"),N.isClosed)break;N.isClosed=!0,N.controller.close(),qe(this,w,Yn).call(this,N,x);break;case T.ERROR:(0,n.assert)(N,"error should have stream controller"),N.controller.error(e(i.reason)),qe(this,w,Yn).call(this,N,x);break;case T.CANCEL_COMPLETE:i.success?N.cancelCall.resolve():N.cancelCall.reject(e(i.reason)),qe(this,w,Yn).call(this,N,x);break;case T.CANCEL:if(!U)break;new Promise(function(D){var I;D((I=U.onCancel)==null?void 0:I.call(U,e(i.reason)))}).then(function(){b.postMessage({sourceName:p,targetName:v,stream:T.CANCEL_COMPLETE,streamId:x,success:!0})},function(D){b.postMessage({sourceName:p,targetName:v,stream:T.CANCEL_COMPLETE,streamId:x,reason:e(D)})}),U.sinkCapability.reject(e(i.reason)),U.isCancelled=!0,delete this.streamSinks[x];break;default:throw new Error("Unexpected stream case")}},w=new WeakSet,Yn=async function(i,x){var p,v,b;await Promise.allSettled([(p=i.startCall)==null?void 0:p.promise,(v=i.pullCall)==null?void 0:v.promise,(b=i.cancelCall)==null?void 0:b.promise]),delete this.streamControllers[x]},f.MessageHandler=t},(fe,f,$)=>{Object.defineProperty(f,"__esModule",{value:!0}),f.PDFWorkerStream=void 0;var n=$(2);class d{constructor(l){this._msgHandler=l,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._msgHandler),this._fullRequestReader}getRangeReader(l,L){const F=new e(l,L,this._msgHandler);return this._rangeRequestReaders.push(F),F}cancelAllRequests(l){var L;(L=this._fullRequestReader)==null||L.cancel(l);for(const F of this._rangeRequestReaders.slice(0))F.cancel(l)}}f.PDFWorkerStream=d;class T{constructor(l){this._msgHandler=l,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const L=this._msgHandler.sendWithStream("GetReader");this._reader=L.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(F=>{this._isStreamingSupported=F.isStreamingSupported,this._isRangeSupported=F.isRangeSupported,this._contentLength=F.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:l,done:L}=await this._reader.read();return L?{value:void 0,done:!0}:{value:l.buffer,done:!1}}cancel(l){this._reader.cancel(l)}}class e{constructor(l,L,F){this._msgHandler=F,this.onProgress=null;const g=this._msgHandler.sendWithStream("GetRangeReader",{begin:l,end:L});this._reader=g.getReader()}get isStreamingSupported(){return!1}async read(){const{value:l,done:L}=await this._reader.read();return L?{value:void 0,done:!0}:{value:l.buffer,done:!1}}cancel(l){this._reader.cancel(l)}}}],J={};function ve(fe){var f=J[fe];if(f!==void 0)return f.exports;var $=J[fe]={exports:{}};return be[fe]($,$.exports,ve),$.exports}var we={};return(()=>{var fe=we;Object.defineProperty(fe,"__esModule",{value:!0}),Object.defineProperty(fe,"WorkerMessageHandler",{enumerable:!0,get:function(){return f.WorkerMessageHandler}});var f=ve(1)})(),we})())})(pdf_worker$1);var pdf_workerExports=pdf_worker$1.exports;const pdf_worker=getDefaultExportFromCjs$1(pdf_workerExports),PDFJSWorker=_mergeNamespaces({__proto__:null,default:pdf_worker},[pdf_workerExports]);var __defProp=Object.defineProperty,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(j,V,be)=>V in j?__defProp(j,V,{enumerable:!0,configurable:!0,writable:!0,value:be}):j[V]=be,__spreadValues=(j,V)=>{for(var be in V||(V={}))__hasOwnProp.call(V,be)&&__defNormalProp(j,be,V[be]);if(__getOwnPropSymbols)for(var be of __getOwnPropSymbols(V))__propIsEnum.call(V,be)&&__defNormalProp(j,be,V[be]);return j},__esm=(j,V)=>function(){return j&&(V=(0,j[__getOwnPropNames(j)[0]])(j=0)),V},__export=(j,V)=>{for(var be in V)__defProp(j,be,{get:V[be],enumerable:!0})},__async=(j,V,be)=>new Promise((J,ve)=>{var we=$=>{try{f(be.next($))}catch(n){ve(n)}},fe=$=>{try{f(be.throw($))}catch(n){ve(n)}},f=$=>$.done?J($.value):Promise.resolve($.value).then(we,fe);f((be=be.apply(j,V)).next())});function sendMessageToContentScript(j,V){return __async(this,null,function*(){return new Promise(be=>{V.target="contentScriptMellowtel",chrome.tabs.sendMessage(j,V,function(J){be(J)})})})}function sendMessageToBackground(j){return __async(this,null,function*(){return new Promise(V=>{chrome.runtime.sendMessage(j,be=>{V(be)})})})}var init_messaging_helpers=__esm({"src/utils/messaging-helpers.ts"(){}});function getLocalStorage(j){return new Promise(V=>{shouldDelegateStorage().then(be=>{be?sendMessageToBackground({intent:"getLocalStorage",key:j}).then(J=>{V(J)}):chrome.storage.local.get(j,function(J){V(J)})})})}function setLocalStorage(j,V){return new Promise(be=>{shouldDelegateStorage().then(J=>{J?sendMessageToBackground({intent:"setLocalStorage",key:j,value:V}).then(ve=>{be(ve)}):chrome.storage.local.set({[j]:V},function(){be(!0)})})})}function deleteLocalStorage(j){return new Promise(V=>{shouldDelegateStorage().then(be=>{be?sendMessageToBackground({intent:"deleteLocalStorage",keys:JSON.stringify(j)}).then(J=>{V(J)}):chrome.storage.local.remove(j,function(){V(!0)})})})}function shouldDelegateStorage(){return new Promise(j=>{try{chrome.storage.local.get(null,()=>{chrome.runtime.lastError?j(!0):j(!1)})}catch{j(!0)}})}var init_storage_helpers=__esm({"src/utils/storage-helpers.ts"(){init_messaging_helpers()}});function getOrGenerateIdentifier(j){return __async(this,null,function*(){return new Promise(V=>{getLocalStorage("mllwtl_identifier").then(be=>{be.mllwtl_identifier&&be.mllwtl_identifier.startsWith(`mllwtl_${j}`)?V(be.mllwtl_identifier):be.mllwtl_identifier&&be.mllwtl_identifier.startsWith("mllwtl_")?generateIdentifier(j,!0,be.mllwtl_identifier).then(J=>{V(J)}):generateIdentifier(j).then(J=>{V(J)})})})})}function generateIdentifier(j,V=!1,be=""){return __async(this,null,function*(){return new Promise(J=>{const ve=V?be.split("_")[1]:generateRandomString(10),we=`mllwtl_${j}_${ve}`;setLocalStorage("mllwtl_identifier",we).then(fe=>{J(we)})})})}function generateRandomString(j){return Math.random().toString(36).substring(2,j+2)}function getIdentifier(){return new Promise(j=>{getLocalStorage("mllwtl_identifier").then(V=>{V.mllwtl_identifier?j(V.mllwtl_identifier):setTimeout(()=>{getIdentifier().then(be=>{j(be)})},200)})})}function getChromeExtensionIdentifier(){return new Promise(j=>{try{j(chrome.runtime.id)}catch{j("identifier_not_found")}})}var init_identity_helpers=__esm({"src/utils/identity-helpers.ts"(){init_storage_helpers()}}),Logger,init_logger=__esm({"src/logger/logger.ts"(){Logger=class{static info(j,...V){this.disableLogs||console.info(j,...V)}static log(j,...V){this.disableLogs||console.log(j,...V)}static warn(j,...V){this.disableLogs||console.warn(j,...V)}static error(j,...V){this.disableLogs||console.error(j,...V)}},Logger.disableLogs=!0}}),MELLOWTEL_VERSION,MAX_PARALLEL_EXECUTIONS,MAX_PARALLEL_EXECUTIONS_BATCH,MAX_QUEUE_SIZE,LIFESPAN_IFRAME,DATA_ID_IFRAME,DATA_ID_IFRAME_BATCH,RULE_ID_XFRAME,RULE_ID_CONTENT_DISPOSITION,RULE_ID_CONTENT_TYPE,RULE_ID_VALUE_TO_MODIFY_CONTENT_TYPE_TO,RULE_ID_POST_REQUEST,MAX_DAILY_RATE,REFRESH_INTERVAL,init_constants=__esm({"src/constants.ts"(){MELLOWTEL_VERSION="1.3.3",MAX_PARALLEL_EXECUTIONS=4,MAX_PARALLEL_EXECUTIONS_BATCH=4,MAX_QUEUE_SIZE=24,LIFESPAN_IFRAME=1e3*60*1.5,DATA_ID_IFRAME="data-mllwtl-frame-crwl-ml",DATA_ID_IFRAME_BATCH="data-mllwtl-frame-batch-crwl-ml",RULE_ID_XFRAME=80045,RULE_ID_CONTENT_DISPOSITION=80046,RULE_ID_CONTENT_TYPE=80047,RULE_ID_VALUE_TO_MODIFY_CONTENT_TYPE_TO=80048,RULE_ID_POST_REQUEST=80049,MAX_DAILY_RATE=300,REFRESH_INTERVAL=1e3*60*60*24}});function insertInQueue(j,V){return __async(this,null,function*(){return new Promise(be=>{let J=V?"queue_batch":"queue";getLocalStorage(J).then(ve=>{(ve===void 0||!ve.hasOwnProperty(J))&&(ve={[J]:[]});let we=ve[J];we.length>MAX_QUEUE_SIZE?(Logger.log("[] : queue is full. Ignoring this packet"),be(!1)):(we.push(j),setLocalStorage(J,we).then(()=>{be(!0)}))})})})}function getLastFromQueue(j){return __async(this,null,function*(){return new Promise(V=>{let be=j?"queue_batch":"queue";getLocalStorage(be).then(J=>{(J===void 0||!J.hasOwnProperty(be))&&(J={[be]:[]});let ve=J[be];if(ve.length===0)return V({url:"",recordID:"0123",eventData:{},waitForElement:"none",shouldSandbox:!1,sandBoxAttributes:"",triggerDownload:!1,skipHeaders:!1,hostname:""});let we=ve.shift();setLocalStorage(be,ve).then(()=>{V(we)})})})})}var init_queue_crawl=__esm({"src/content-script/queue-crawl.ts"(){init_storage_helpers(),init_logger(),init_constants()}});function disableXFrameHeaders(j,V){return new Promise(function(be){if(V)be(!1);else{let J=getRuleIdFromHostname();shouldDelegateDNR().then(ve=>{ve?sendMessageToBackground({intent:"disableXFrameHeaders",hostname:j,skipHeaders:V}).then(()=>{be(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[J],addRules:[{id:J,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"x-frame-options",operation:"remove"},{header:"content-security-policy",operation:"remove"},{header:"X-Frame-Options",operation:"remove"},{header:"Content-Security-Policy",operation:"remove"},{header:"Frame-Options",operation:"remove"}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}]}),be(!0))})}})}function enableXFrameHeaders(j){return new Promise(function(V){let be=getRuleIdFromHostname();shouldDelegateDNR().then(J=>{J?sendMessageToBackground({intent:"enableXFrameHeaders",hostname:j}).then(()=>{V(!0)}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[be]}),V(!0))})})}function disableHeadersForPOST(){return new Promise(function(j){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[RULE_ID_POST_REQUEST],addRules:[{id:RULE_ID_POST_REQUEST,priority:1,action:{type:"modifyHeaders",requestHeaders:[{header:"Origin",operation:"remove"}],responseHeaders:[{header:"Access-Control-Allow-Origin",operation:"set",value:"*"},{header:"Access-Control-Allow-Methods",operation:"set",value:"GET, POST, PUT, DELETE, OPTIONS"},{header:"Access-Control-Allow-Headers",operation:"set",value:"Content-Type"}]},condition:{urlFilter:"*://*/*",resourceTypes:["xmlhttprequest"]}}]}),j(!0)})}function enableHeadersForPOST(){return new Promise(function(j){chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[RULE_ID_POST_REQUEST]}),j(!0)})}function getRuleIdFromHostname(j){return RULE_ID_XFRAME}function shouldDelegateDNR(){return new Promise(j=>{try{chrome.declarativeNetRequest.getDynamicRules(V=>{chrome.runtime.lastError?j(!0):j(!1)})}catch{j(!0)}})}var init_dnr_helpers=__esm({"src/utils/dnr-helpers.ts"(){init_messaging_helpers(),init_constants()}});function getFrameCount(j){return document.querySelectorAll(`[data-id=${j?DATA_ID_IFRAME_BATCH:DATA_ID_IFRAME}]`).length}var init_utils=__esm({"src/utils/utils.ts"(){init_constants()}});function injectHiddenIFrame(j,V,be=function(){},J="500px",ve="",we=!1,fe=""){let f=document.createElement("iframe");f.id=V,f.credentialless=!0,f.style.width=J,f.style.height="200px",f.style.display="none",we&&(f.setAttribute("sandbox",""),fe!==""&&f.setAttribute("sandbox",fe)),ve!==""&&f.setAttribute("data-id",ve),f.src=j,f.onload=be,document.body.prepend(f)}function inIframe(){try{return window.self!==window.top}catch{return!0}}var init_iframe_helpers=__esm({"src/utils/iframe-helpers.ts"(){}});function sendToBackgroundToSeeIfTriggersDownload(j,V){return __async(this,null,function*(){return new Promise(function(be){sendMessageToBackground({intent:"seeIfTriggersDownload",url:j,triggersDownload:V}).then(J=>{be(J)})})})}function seeIfTriggersDownload(j,V){return __async(this,null,function*(){return new Promise(function(be){if(!V)be("done");else{let J=[];fetchAndProcessHeaders(j).then(function(ve){Logger.log("fetchAndProcessHeaders =>",ve),ve.error?be("error"):("removeContentDisposition"in ve&&ve.removeContentDisposition&&J.push({id:RULE_ID_CONTENT_DISPOSITION,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-disposition",operation:"remove"}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}),"modifyContentType"in ve&&ve.modifyContentType&&J.push({id:RULE_ID_CONTENT_TYPE,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"remove"}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}),"valueToModifyContentTypeTo"in ve&&ve.valueToModifyContentTypeTo&&J.push({id:RULE_ID_VALUE_TO_MODIFY_CONTENT_TYPE_TO,priority:2,action:{type:"modifyHeaders",responseHeaders:[{header:"content-type",operation:"set",value:ve.valueToModifyContentTypeTo}]},condition:{resourceTypes:["sub_frame"],urlFilter:"*://*/*"}}),chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[RULE_ID_CONTENT_DISPOSITION,RULE_ID_CONTENT_TYPE,RULE_ID_VALUE_TO_MODIFY_CONTENT_TYPE_TO],addRules:J}),be("done"))})}})})}function resetTriggersDownload(){return __async(this,null,function*(){return new Promise(function(j){shouldDelegateDNR().then(V=>{V?sendMessageToBackground({intent:"resetTriggersDownload"}).then(()=>{j("done")}):(chrome.declarativeNetRequest.updateSessionRules({removeRuleIds:[RULE_ID_CONTENT_DISPOSITION,RULE_ID_CONTENT_TYPE,RULE_ID_VALUE_TO_MODIFY_CONTENT_TYPE_TO]}),j("done"))})})})}function fetchAndProcessHeaders(j){return fetch(j).then(V=>{if(!V.ok)return{error:!0};const be=processHeaders(V,V.url);return __spreadValues(__spreadValues({},be),{error:!1})}).catch(V=>(Logger.error("Fetch error:",V),{error:!0}))}function processHeaders(j,V){let be=[];j.headers.forEach((fe,f)=>{be.push({name:f,value:fe})});let J=!1,ve=!1,we="";for(let fe=0;fe<be.length;fe++)if(be[fe].name.toLowerCase()==="content-disposition"&&be[fe].value.indexOf("attachment")===0){J=!0,be.splice(fe,1);break}for(let fe=0;fe<be.length;fe++)if(be[fe].name.toLowerCase()==="content-type"){if(be[fe].value==="application/octet-stream"||be[fe].value==="application/x-download"){let f=V.substring(V.lastIndexOf(".")+1).toLowerCase(),$=["exe","dmg","deb","rpm","apk","zip","rar","7z","gz","xz"],n=["pdf","json","xml","ogg"],d=["gif","jpg","jpeg","png","tiff"];$.includes(f)||(ve=!0,n.includes(f)?we="application/"+f:d.includes(f)?we="image/"+f:we="text/plain",be[fe].value=we)}break}return{removeContentDisposition:J,modifyContentType:ve,valueToModifyContentTypeTo:we}}var init_triggers_download_helpers=__esm({"src/utils/triggers-download-helpers.ts"(){init_logger(),init_constants(),init_dnr_helpers(),init_messaging_helpers()}});function fromDataPacketToNecessaryElements(j){Logger.log("[fromDataPacketToNecessaryElements] : dataPacket => ",j);let V=j.hasOwnProperty("fastLane")?j.fastLane.toString().toLowerCase()==="true":!1,be=j.hasOwnProperty("orgId")?j.orgId:"",J=j.recordID,ve=j.url,we=parseInt(j.waitBeforeScraping)*1e3,fe=j.hasOwnProperty("saveHtml")?j.saveHtml.toString().toLowerCase()==="true":!1,f=j.hasOwnProperty("saveMarkdown")?j.saveMarkdown.toString().toLowerCase()==="true":!1,$=j.removeCSSselectors,n=JSON.parse(j.classNamesToBeRemoved),d=j.hasOwnProperty("waitForElement")?j.waitForElement:"none",T=j.hasOwnProperty("waitForElementTime")?parseInt(j.waitForElementTime):0,e=j.hasOwnProperty("removeImages")?j.removeImages.toString().toLowerCase()==="true":!1,t=j.hasOwnProperty("htmlTransformer")?j.htmlTransformer:"none",l=ve.includes("?")?ve.split("?")[0].endsWith(".pdf"):ve.endsWith(".pdf"),L=j.saveText.toString().toLowerCase()==="true",F=j.hasOwnProperty("shouldDisableJS")?j.shouldDisableJS.toString().toLowerCase()==="true":!1,g=j.hasOwnProperty("sandBoxAttributes")?j.sandBoxAttributes:"",w=j.hasOwnProperty("triggersDownload")?j.triggersDownload.toString().toLowerCase()==="true":!1,u=j.hasOwnProperty("skipHeaders")?j.skipHeaders.toString().toLowerCase()==="true":!1,h=j.hasOwnProperty("fetchInstead")?j.fetchInstead.toString().toLowerCase()==="true":!1;return{fastLane:V,orgId:be,recordID:J,url:ve,waitBeforeScraping:we,saveHtml:fe,saveMarkdown:f,removeCSSselectors:$,classNamesToBeRemoved:n,waitForElement:d,waitForElementTime:T,removeImages:e,htmlTransformer:t,isPDF:l,saveText:L,shouldSandbox:F,sandBoxAttributes:g,triggersDownload:w,skipHeaders:u,fetchInstead:h}}function preProcessCrawl(j,V=!1,be=!1,J=""){return __async(this,null,function*(){Logger.log(" Data Packet "),Logger.log(j),Logger.log(" ----------- ");let ve=j.hasOwnProperty("fastLane")?j.fastLane.toString().toLowerCase()==="true":!1,we=j.hasOwnProperty("orgId")?j.orgId:"",fe=j.recordID;if(V)yield sendMessageToBackground({intent:"handlePOSTRequest",method_endpoint:j.method_endpoint,method_payload:j.method_payload,method_headers:j.method_headers,fastLane:ve,orgId:we,recordID:fe});else{let f=[],$=[],n=1;be?($=JSON.parse(j.batch_array),n=$.length>4?4:$.length):$.push(j);for(let d=0;d<n;d++){let T=$[d],{fastLane:e,orgId:t,recordID:l,url:L,waitBeforeScraping:F,saveHtml:g,saveMarkdown:w,removeCSSselectors:u,classNamesToBeRemoved:h,waitForElement:i,waitForElementTime:x,removeImages:p,htmlTransformer:v,isPDF:b,saveText:N,shouldSandbox:U,sandBoxAttributes:D,triggersDownload:I,skipHeaders:B,fetchInstead:_}=fromDataPacketToNecessaryElements(T);f.push(crawlP2P(L,l,F,g,w,u,h,e,i,x,p,v,b,N,t,U,D,I,B,be,J,_))}if(be)for(let d=n;d<$.length;d++){let T=$[d],{fastLane:e,orgId:t,recordID:l,url:L,waitBeforeScraping:F,saveHtml:g,saveMarkdown:w,removeCSSselectors:u,classNamesToBeRemoved:h,waitForElement:i,waitForElementTime:x,removeImages:p,htmlTransformer:v,isPDF:b,saveText:N,shouldSandbox:U,sandBoxAttributes:D,triggersDownload:I,skipHeaders:B,fetchInstead:_}=fromDataPacketToNecessaryElements(T),P={isMellowtelCrawl:!0,fastLane:e,url_to_crawl:L,recordID:l,removeCSSselectors:u,classNamesToBeRemoved:h,saveHtml:g,saveMarkdown:w,waitBeforeScraping:F,waitForElement:i,waitForElementTime:x,removeImages:p,htmlTransformer:v,isPDF:b,saveText:N,orgId:t,BATCH_execution:be,batch_id:J,fetchInstead:_},X={url:$[d].url,recordID:$[d].recordID,eventData:P,waitForElement:$[d].waitForElement,shouldSandbox:U,sandBoxAttributes:D,triggersDownload:I,skipHeaders:B,hostname:""};yield insertInQueue(X,be)}yield Promise.all(f)}})}function preProcessUrl(j,V){j.startsWith("http://")&&(j=j.replace("http://","https://"));let be=new URL(j),J=new URLSearchParams(be.search);J.append("mellowtel-p2p","true"),J.append("should-crawl","true"),J.append("record-id",V),be.search=J.toString();let ve=be.hostname;return j=be.toString(),[j,ve]}function crawlP2P(j,V,be,J,ve,we,fe,f,$,n,d,T,e,t,l,L,F,g,w,u,h="",i=!1){return new Promise(x=>{let[p,v]=preProcessUrl(j,V);Logger.log("[ crawlP2P] : url_to_crawl => "+p),Logger.log("[ crawlP2P] : hostname => "+v),Promise.all([disableXFrameHeaders(v,w),sendToBackgroundToSeeIfTriggersDownload(j,g)]).then(()=>__async(this,null,function*(){let b={isMellowtelCrawl:!0,fastLane:f,url_to_crawl:p,recordID:V,removeCSSselectors:we,classNamesToBeRemoved:fe,saveHtml:J,saveMarkdown:ve,waitBeforeScraping:be,waitForElement:$,waitForElementTime:n,removeImages:d,htmlTransformer:T,isPDF:e,saveText:t,orgId:l,BATCH_execution:u,batch_id:h,fetchInstead:i};getFrameCount(u)>=(u?MAX_PARALLEL_EXECUTIONS_BATCH:MAX_PARALLEL_EXECUTIONS)&&!u?(Logger.log("Too many iframes on page. Not injecting"),yield insertInQueue({url:j,recordID:V,eventData:b,waitForElement:$,shouldSandbox:L,sandBoxAttributes:F,triggersDownload:g,skipHeaders:w,hostname:v},u)):yield proceedWithActivation(j,V,b,$,L,F,u),x("done")}))})}function proceedWithActivation(j,V,be,J,ve,we,fe,f=!1,$=!1,n=""){return __async(this,null,function*(){if(f&&(yield sendToBackgroundToSeeIfTriggersDownload(j,f)),$&&(yield disableXFrameHeaders(n,$)),setLifespanForIframe(V,parseInt(be.waitBeforeScraping),fe),injectHiddenIFrame(j,V,function(){var d;if(J==="none"){let T=document.getElementById(V);T&&((d=T.contentWindow)==null||d.postMessage(be,"*"))}},"800px",fe?DATA_ID_IFRAME_BATCH:DATA_ID_IFRAME,ve,we),J!=="none"){let d=!1;window.addEventListener("message",function(e){e.data.isMellowtelReply&&e.data.recordID===V&&(d=!0)});let T=setInterval(function(){var e;let t=document.getElementById(V);if(d){clearInterval(T);return}t&&((e=t.contentWindow)==null||e.postMessage(be,"*"))},50)}})}var init_execute_crawl=__esm({"src/content-script/execute-crawl.ts"(){init_constants(),init_queue_crawl(),init_reset_crawl(),init_dnr_helpers(),init_utils(),init_iframe_helpers(),init_triggers_download_helpers(),init_logger(),init_messaging_helpers()}});function resetAfterCrawl(j,V){return __async(this,null,function*(){let be=yield getLastFromQueue(V);if(be&&be.url!==""){let J=getFrameCount(V);Logger.log("[] : frameCount in cleanUpAfterCrawl  => "+J),(J<=(V?MAX_PARALLEL_EXECUTIONS_BATCH:MAX_PARALLEL_EXECUTIONS)||V)&&(Logger.log("[] getLastFromQueue : dataPacket => "),Logger.log(be),yield proceedWithActivation(be.url,be.recordID,be.eventData,be.waitForElement,be.shouldSandbox,be.sandBoxAttributes,V,be.triggerDownload,be.skipHeaders,be.hostname))}else setTimeout(()=>{let J=getFrameCount(V),ve=getFrameCount(!V),we=J+ve;Logger.log("[] : frameCountTotal in cleanUpAfterCrawl (before resetting headers)  => "+we),we===0&&!V?(Logger.log("[] : Resetting headers!"),enableXFrameHeaders(""),resetTriggersDownload()):we===0&&V&&setTimeout(()=>{Logger.log("[] : Resetting headers (BATCH_execution)!"),enableXFrameHeaders(""),resetTriggersDownload()},6e4)},15e3)})}function setLifespanForIframe(j,V,be){Logger.log("Setting lifespan for iframe => "+(LIFESPAN_IFRAME+V)+" ms. RecordID => "+j),setTimeout(()=>__async(this,null,function*(){let J=document.getElementById(j);J&&J.remove(),yield resetAfterCrawl(j,be)}),LIFESPAN_IFRAME+V)}var init_reset_crawl=__esm({"src/content-script/reset-crawl.ts"(){init_queue_crawl(),init_constants(),init_execute_crawl(),init_utils(),init_dnr_helpers(),init_logger(),init_triggers_download_helpers()}});function setSharedMemory(j,V){let be=document.createElement("input");be.setAttribute("type","hidden"),be.setAttribute("id",j),be.setAttribute("value",V),document.body.appendChild(be),sendMessageToBackground({intent:"setSharedMemoryBCK",key:j,value:V}).then()}function getSharedMemory(j){return new Promise(V=>{sendMessageToBackground({intent:"getSharedMemoryBCK",key:j}).then(function(be){V(be)})})}function getSharedMemoryDOM(j){return new Promise(V=>{let be=document.getElementById(j);V(!!be)})}function removeSharedMemory(j){let V=document.getElementById(j);V&&V.remove()}function setSharedMemoryBCK(j,V){return __async(this,null,function*(){return new Promise(function(be){chrome.storage.local.set({[j]:V},function(){be("done")})})})}function getSharedMemoryBCK(j){return __async(this,null,function*(){return new Promise(function(V){chrome.tabs.query({},function(be){let J=be.length,ve=0,we=!1;for(let fe=0;fe<J;fe++)sendMessageToContentScript(be[fe].id,{intent:"getSharedMemoryDOM",key:j}).then(function(f){ve++,f&&(we=!0),ve===J&&V(we)})})})})}var init_shared_memory=__esm({"src/content-script/shared-memory.ts"(){init_messaging_helpers()}});function testCSP(j=function(){}){const V=new Image;V.src="https://mellowtel.s3.amazonaws.com/lightning-boltrepo-com.svg",V.onload=j,V.id="mellowtel-csp-image",V.style.display="none",document.body.appendChild(V)}function removeCSPTestImage(){const j=document.getElementById("mellowtel-csp-image");j&&j.remove()}function isCSPEnabled(){return new Promise(j=>{document.addEventListener("securitypolicyviolation",V=>{V.blockedURI==="https://mellowtel.s3.amazonaws.com/lightning-boltrepo-com.svg"&&(removeCSPTestImage(),j(!0))}),testCSP(()=>{removeCSPTestImage(),j(!1)})})}var init_test_csp=__esm({"src/content-script/test-csp.ts"(){}});function executeFunctionIfOrWhenBodyExists(j){document.body?j():new MutationObserver((V,be)=>{const{body:J}=document;J&&(be.disconnect(),j())}).observe(document.documentElement,{childList:!0})}var init_document_body_observer=__esm({"src/utils/document-body-observer.ts"(){}});function checkIfInPermissions(j,V){const J=chrome.runtime.getManifest().permissions||[];V(J.includes(j))}function checkIfInOptionalPermissions(j,V){const J=chrome.runtime.getManifest().optional_permissions||[];V(J.includes(j))}function checkRequiredPermissions(j=!1){return __async(this,null,function*(){let V=[],be=[];for(let J of mellowtelRequiredPermissions){let ve=!1;if(checkIfInPermissions(J,we=>{we?ve=!0:(J==="declarativeNetRequest"&&(J="declarativeNetRequestWithHostAccess"),checkIfInOptionalPermissions(J,fe=>{fe&&(V.push(J),J==="declarativeNetRequestWithHostAccess"&&(be=chrome.runtime.getManifest().optional_host_permissions||["https://*/*"]))}))}),!ve&&!V.includes(J))throw new Error(`Required permission ${J} is not present in the manifest`)}if(Logger.log("PERMISSIONS TO REQUEST : "+JSON.stringify(V)),Logger.log("HOST PERMISSIONS : "+JSON.stringify(be)),Logger.log("REQUEST AFTER CHECKING : "+j),j&&V.length>0&&!(yield checkIfPermissionsGranted(V))&&!(yield requirePermissions(V,be)))throw new Error(`Required permissions ${V.join(", ")} were not granted`)})}function requirePermissions(j){return __async(this,arguments,function*(V,be=[]){return new Promise(J=>{chrome.permissions.request({permissions:V,origins:be},ve=>{J(ve)})})})}function checkIfPermissionsGranted(j){return __async(this,null,function*(){return new Promise(V=>{chrome.permissions.contains({permissions:j},be=>{V(be)})})})}var mellowtelRequiredPermissions,init_permission_helpers=__esm({"src/utils/permission-helpers.ts"(){init_logger(),mellowtelRequiredPermissions=["storage","tabs","declarativeNetRequest"]}});function getOptInStatus(){return __async(this,null,function*(){return new Promise(j=>{chrome.storage.local.get("mellowtelOptIn",function(V){V!==void 0&&V.mellowtelOptIn==="true"?j(!0):j(!1)})})})}function optIn(){return __async(this,null,function*(){return new Promise(j=>{setLocalStorage("mellowtelOptIn","true").then(()=>{j(!0)})})})}function optOut(){return __async(this,null,function*(){return new Promise(j=>{setLocalStorage("mellowtelOptIn","false").then(()=>{setLocalStorage("mellowtelStatus","stop").then(()=>{j(!0)})})})})}var init_opt_in_out_helpers=__esm({"src/utils/opt-in-out-helpers.ts"(){init_storage_helpers()}});function start(j){return new Promise(V=>__async(this,null,function*(){if(!(yield getOptInStatus()))throw new Error("Node has not opted in to Mellowtel yet. Request a disclaimer to the end-user and then call the optIn() method if they agree to join the Mellowtel network.");try{yield checkRequiredPermissions(!0),setLocalStorage("mellowtelStatus","start").then(()=>{V(!0)})}catch{yield optOut(),V(!1)}}))}function stop(){return new Promise(j=>__async(this,null,function*(){setLocalStorage("mellowtelStatus","stop").then(()=>{j(!0)})}))}function startMellowtelWebsocket(){executeFunctionIfOrWhenBodyExists(()=>{isCSPEnabled().then(j=>__async(this,null,function*(){if(!j){yield setUpContentScriptListeners();const V=yield Promise.resolve().then(()=>(init_websocket(),websocket_exports));getIdentifier().then(be=>{V.startConnectionWs(be)})}}))})}function stopMellowtelConnection(){document.querySelectorAll(`[data-id="${DATA_ID_IFRAME}"]`).forEach(V=>{V.remove()})}function isMellowtelStarted(){return new Promise(j=>{chrome.storage.local.get("mellowtelStatus",function(V){V!==void 0&&V.mellowtelStatus==="start"?j(!0):j(!1)})})}var init_start_stop_helpers=__esm({"src/utils/start-stop-helpers.ts"(){init_test_csp(),init_listener_helpers(),init_identity_helpers(),init_document_body_observer(),init_constants(),init_permission_helpers(),init_storage_helpers(),init_opt_in_out_helpers()}}),RateLimiter,init_rate_limiter=__esm({"src/local-rate-limiting/rate-limiter.ts"(){init_constants(),init_storage_helpers(),init_logger(),RateLimiter=class{static getRateLimitData(){return __async(this,null,function*(){let j=yield getLocalStorage("timestamp_mellowtel");j===void 0||!j.hasOwnProperty("timestamp_mellowtel")?j=void 0:j=parseInt(j.timestamp_mellowtel);let V=yield getLocalStorage("count_mellowtel");return V===void 0||!V.hasOwnProperty("count_mellowtel")?V=void 0:V=parseInt(V.count_mellowtel),{timestamp:j,count:V}})}static setRateLimitData(j,V){return __async(this,null,function*(){yield setLocalStorage("timestamp_mellowtel",j),yield setLocalStorage("count_mellowtel",V)})}static getLifetimeTotalCount(){return __async(this,null,function*(){let j=yield getLocalStorage("lifetime_total_count_mellowtel");return j===void 0||!j.hasOwnProperty("lifetime_total_count_mellowtel")?j=0:j=parseInt(j.lifetime_total_count_mellowtel),{lifetime_total_count:j}})}static setHistoricData(j,V){return __async(this,null,function*(){yield setLocalStorage("initial_timestamp_mellowtel",j),yield setLocalStorage("lifetime_total_count_mellowtel",V)})}static calculateElapsedTime(j,V){return j-V}static resetRateLimitData(j,V=!1){return __async(this,null,function*(){yield this.setRateLimitData(j,V?1:0)})}static getIfRateLimitReached(){return __async(this,null,function*(){let j=yield getLocalStorage("mllwtl_rate_limit_reached");return j===void 0||!j.hasOwnProperty("mllwtl_rate_limit_reached")?!1:j.mllwtl_rate_limit_reached.toString()==="true"})}static checkRateLimit(){return __async(this,null,function*(){const j=Date.now();let{timestamp:V,count:be}=yield this.getRateLimitData(),{lifetime_total_count:J}=yield this.getLifetimeTotalCount();return V?this.calculateElapsedTime(j,V)>REFRESH_INTERVAL?(Logger.log("[]: REFRESH_INTERVAL elapsed, resetting count"),yield this.resetRateLimitData(j,!0),yield setLocalStorage("mllwtl_rate_limit_reached",!1),{shouldContinue:!0,isLastCount:!1}):(be++,yield setLocalStorage("count_mellowtel",be),J++,yield setLocalStorage("lifetime_total_count_mellowtel",J),Logger.log(`[]: SHOULD CONTINUE? IF COUNT (${be}) <= ${this.MAX_DAILY_RATE} : ${be<=this.MAX_DAILY_RATE}`),be<=this.MAX_DAILY_RATE?{shouldContinue:!0,isLastCount:be===this.MAX_DAILY_RATE}:(Logger.log("[]: RATE LIMIT REACHED"),{shouldContinue:!1,isLastCount:!1})):(Logger.log("[]: NO_TIMESTAMP, setting timestamp, count, and historic data"),yield this.setRateLimitData(j,1),yield this.setHistoricData(j,1),{shouldContinue:!0,isLastCount:!1})})}},RateLimiter.MAX_DAILY_RATE=MAX_DAILY_RATE}});function MeasureConnectionSpeed(){return new Promise(j=>{let V,be,J=new Image;J.onload=function(){be=new Date().getTime(),we()},J.onerror=function(fe,f){Logger.log("Error: ",fe,f),j(0)},V=new Date().getTime();let ve="?nnn="+V;J.src=imageAddr+ve;function we(){let fe=(be-V)/1e3,f=downloadSize*8,$=Number((f/fe).toFixed(2)),n=Number(($/1024).toFixed(2)),d=Number((n/1024).toFixed(2));j(d)}})}var imageAddr,downloadSize,init_measure_connection_speed=__esm({"src/utils/measure-connection-speed.ts"(){init_logger(),imageAddr="https://d14ho2btkwe4va.cloudfront.net/Bloemen_van_adderwortel_(Persicaria_bistorta%2C_synoniem%2C_Polygonum_bistorta)_06-06-2021._(d.j.b).jpg",downloadSize=73e5}}),websocket_exports={};__export(websocket_exports,{startConnectionWs:()=>startConnectionWs});function startConnectionWs(j){return __async(this,null,function*(){yield getSharedMemory("webSocketConnectedMellowtel").then(V=>__async(this,null,function*(){if(!V)if(yield RateLimiter.getIfRateLimitReached()){Logger.log("[]: Rate limit, not connecting to websocket");let{timestamp:J,count:ve}=yield RateLimiter.getRateLimitData(),we=Date.now(),fe=RateLimiter.calculateElapsedTime(we,J);Logger.log(`[]: Time elapsed since last request: ${fe}`),fe>REFRESH_INTERVAL&&(Logger.log("[]: Time elapsed is greater than REFRESH_INTERVAL, resetting rate limit data"),yield setLocalStorage("mllwtl_rate_limit_reached",!1),yield RateLimiter.resetRateLimitData(we,!1),startConnectionWs(j))}else{const J=yield getChromeExtensionIdentifier(),ve=yield MeasureConnectionSpeed();Logger.log(`[]: Connection speed: ${ve} Mbps`);const we=new WebSocket$1(`${ws_url}?node_id=${j}&version=${MELLOWTEL_VERSION}&chrome_id=${J}&speedMbps=${ve}`);return we.onopen=function(){setSharedMemory("webSocketConnectedMellowtel","true"),Logger.log(`[]: connected with node_id= ${j} and version= ${MELLOWTEL_VERSION}`)},we.onclose=function(){return __async(this,null,function*(){removeSharedMemory("webSocketConnectedMellowtel"),(yield isMellowtelStarted())&&startConnectionWs(j)})},we.onmessage=function(f){return __async(this,null,function*(){if(yield isMellowtelStarted()){if(f=JSON.parse(f.data),f.hasOwnProperty("type_event")&&f.type_event==="heartbeat")return;let $=!1;f.hasOwnProperty("method")&&f.method==="POST"&&($=!0);let n=!1,d="";f.hasOwnProperty("type_event")&&f.type_event==="batch"&&(n=!0,d=f.batch_id);let{shouldContinue:T,isLastCount:e}=yield RateLimiter.checkRateLimit();T||$||n?(e&&!$&&!n&&(Logger.log("[]: Last count reached, closing connection..."),yield setLocalStorage("mllwtl_rate_limit_reached",!0),we.close()),yield preProcessCrawl(f,$,n,d)):(Logger.log("[]: Rate limit reached, closing connection..."),yield setLocalStorage("mllwtl_rate_limit_reached",!0),we.close())}})},we}}))})}var ws_url,init_websocket=__esm({"src/content-script/websocket.ts"(){init_constants(),init_execute_crawl(),init_shared_memory(),init_start_stop_helpers(),init_rate_limiter(),init_logger(),init_storage_helpers(),init_identity_helpers(),init_measure_connection_speed(),ws_url="wss://7joy2r59rf.execute-api.us-east-1.amazonaws.com/production/"}});function handlePostRequest(j,V,be,J,ve,we){return new Promise(function(fe){return __async(this,null,function*(){yield disableHeadersForPOST();const f={method:"POST"};if(V!=="{}"&&(f.body=V),be!=="{}")try{f.headers=JSON.parse(be)}catch{}fetch(j,f).then($=>{if(!$.ok)throw new Error("Network response was not ok");return $.json()}).then($=>__async(this,null,function*(){Logger.log("Response from server:",$),yield saveJSON(we,$,ve,J,j),fe($)})).catch($=>{Logger.log("Error:",$)})})})}function saveJSON(j,V,be,J,ve){return __async(this,null,function*(){return new Promise(function(we){const fe="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/",f={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({recordID:j,json:JSON.stringify(V),fastLane:J,url:ve,htmlTransformer:"none",orgId:be,saveText:!1})};Logger.log("Request options => "),Logger.log(f),fetch(fe,f).then($=>__async(this,null,function*(){if(!$.ok)throw yield enableHeadersForPOST(),new Error("Network response was not ok");return $.json()})).then($=>__async(this,null,function*(){Logger.log("Response from server:",$),yield enableHeadersForPOST()})).catch($=>__async(this,null,function*(){Logger.log("Error:",$),yield enableHeadersForPOST()}))})})}var init_post_helpers=__esm({"src/post-requests/post-helpers.ts"(){init_logger(),init_dnr_helpers()}});function shouldDelegateTabsAPI(){return new Promise(j=>{try{chrome.tabs.query({},function(V){chrome.runtime.lastError?j(!0):j(!1)})}catch(V){Logger.error("Error in shouldDelegateTabsApi",V),j(!0)}})}var init_tabs_helpers=__esm({"src/utils/tabs-helpers.ts"(){init_logger()}});function setAlreadyOpened(){return __async(this,null,function*(){return new Promise(j=>{setLocalStorage("mellowtelOptInOpened","true").then(()=>{j(!0)})})})}function getAlreadyOpened(){return __async(this,null,function*(){return new Promise(j=>{getLocalStorage("mellowtelOptInOpened").then(V=>{if(V===void 0||!V.hasOwnProperty("mellowtelOptInOpened"))j(!1);else{let be=V.mellowtelOptInOpened.toString().toLowerCase()==="true";j(be)}})})})}function generateAndOpenOptInLink(){return new Promise(j=>__async(this,null,function*(){if(yield shouldDelegateTabsAPI()){let J=yield sendMessageToBackground({intent:"openOptInLink"});j(J)}if(yield getAlreadyOpened())j("");else{let J=yield getChromeExtensionIdentifier();getIdentifier().then(ve=>__async(this,null,function*(){let we=ve.split("_")[1],fe=`${BASE_LINK_OPT_IN}?extension_id=${J}&configuration_key=${we}`;yield setAlreadyOpened(),chrome.tabs.create({url:fe}),j(fe)}))}}))}function generateOptInLink(){return new Promise(j=>__async(this,null,function*(){let V=yield getChromeExtensionIdentifier();getIdentifier().then(be=>{let J=be.split("_")[1];j(`${BASE_LINK_OPT_IN}?extension_id=${V}&configuration_key=${J}`)})}))}function generateSettingsLink(){return new Promise(j=>__async(this,null,function*(){let V=yield getChromeExtensionIdentifier();getIdentifier().then(be=>{let J=be.split("_")[1];j(`${BASE_LINK_SETTING}?extension_id=${V}&configuration_key=${J}`)})}))}var BASE_LINK_SETTING,BASE_LINK_OPT_IN,init_generate_links=__esm({"src/mellowtel-elements/generate-links.ts"(){init_identity_helpers(),init_storage_helpers(),init_tabs_helpers(),init_messaging_helpers(),BASE_LINK_SETTING="https://www.mellow.tel/settings/",BASE_LINK_OPT_IN="https://www.mellow.tel/opt-in/"}});function setUpBackgroundListeners(){return __async(this,null,function*(){chrome.runtime.onMessage.addListener(function(j,V,be){var J,ve,we,fe;if(j.intent=="getLocalStorage"&&getLocalStorage(j.key).then(be),j.intent=="setLocalStorage"&&setLocalStorage(j.key,j.value).then(be),j.intent=="deleteLocalStorage"&&deleteLocalStorage(JSON.parse(j.keys)).then(be),j.intent=="disableXFrameHeaders"&&disableXFrameHeaders(j.hostname,j.skipHeaders).then(be),j.intent=="enableXFrameHeaders"&&enableXFrameHeaders(j.hostname).then(be),j.intent=="resetTriggersDownload"&&resetTriggersDownload().then(be),j.intent==="setSharedMemoryBCK"&&setSharedMemoryBCK(j.key,(J=V.tab)==null?void 0:J.id).then(be),j.intent==="getSharedMemoryBCK"&&getSharedMemoryBCK(j.key).then(be),j.intent==="seeIfTriggersDownload"&&seeIfTriggersDownload(j.url,j.triggersDownload).then(be),j.intent==="deleteIframeMellowtel"&&sendMessageToContentScript((ve=V.tab)==null?void 0:ve.id,{target:"contentScriptMellowtel",intent:"deleteIframeMellowtel",recordID:j.recordID,BATCH_execution:j.BATCH_execution}).then(be),j.intent==="handlePOSTRequest"&&handlePostRequest(j.method_endpoint,j.method_payload,j.method_headers,j.fastLane,j.orgId,j.recordID).then(be),j.intent==="openOptInLink"&&generateAndOpenOptInLink().then(f=>{be(f)}),j.intent==="removeCurrentTab"){let f=(we=V.tab)==null?void 0:we.id;f!=null&&chrome.tabs.remove(f),be((fe=V.tab)==null?void 0:fe.id)}return!0})})}function setUpContentScriptListeners(){return __async(this,null,function*(){chrome.runtime.onMessage.addListener(function(j,V,be){return __async(this,null,function*(){if(j.target!=="contentScriptMellowtel")return!1;if(j.intent==="deleteIframeMellowtel"){let J=j.recordID,ve=document.getElementById(J);ve&&ve.remove(),yield resetAfterCrawl(J,j.BATCH_execution)}return j.intent==="getSharedMemoryDOM"&&getSharedMemoryDOM(j.key).then(be),j.intent==="startConnectionMellowtel"&&getIdentifier().then(J=>{startConnectionWs(J)}),!0})})})}var init_listener_helpers=__esm({"src/utils/listener-helpers.ts"(){init_storage_helpers(),init_reset_crawl(),init_dnr_helpers(),init_shared_memory(),init_websocket(),init_identity_helpers(),init_triggers_download_helpers(),init_messaging_helpers(),init_post_helpers(),init_generate_links()}});function getSelectorInfo(j){const V=be=>be.replaceAll('"',"").replaceAll("'","");if(j.includes("getElementById"))return{dSelectorToUse:"getElementById",selectorId:V(j.split("getElementById")[1].split("(")[1].split(")")[0]),index:0};if(j.includes("getElementsByClassName")){if(j.includes(")[")){let J=parseInt(j.split(")[")[1].split("]")[0]);return{dSelectorToUse:"getElementsByClassName_withIndex",selectorId:V(j.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:J}}return{dSelectorToUse:"getElementsByClassName",selectorId:V(j.split("getElementsByClassName")[1].split("(")[1].split(")")[0]),index:0}}else{if(j.includes("getElementsByTagName"))return{dSelectorToUse:"getElementsByTagName",selectorId:V(j.split("getElementsByTagName")[1].split("(")[1].split(")")[0]),index:0};if(j.includes("querySelector"))return{dSelectorToUse:"querySelector",selectorId:V(j.split("querySelector")[1].split("(")[1].split(")")[0]),index:0};if(j.includes("querySelectorAll"))return{dSelectorToUse:"querySelectorAll",selectorId:V(j.split("querySelectorAll")[1].split("(")[1].split(")")[0]),index:0}}}function waitForElementDynamicSelector(j,V,be=0,J){return new Promise((ve,we)=>{let fe;const f=()=>{switch(j){case"getElementById":return!!document.getElementById(V);case"getElementsByClassName":case"getElementsByTagName":case"getElementsByName":return document[j](V).length>0;case"querySelector":return!!document.querySelector(V);case"querySelectorAll":return document.querySelectorAll(V).length>0;case"getElementsByClassName_withIndex":const n=document.getElementsByClassName(V);return n.length>0&&!!n[be];default:return!1}};if(f())return ve();const $=new MutationObserver(()=>{if(f())return $.disconnect(),fe&&clearTimeout(fe),ve()});$.observe(document.body,{childList:!0,subtree:!0}),J&&(fe=window.setTimeout(()=>{$.disconnect(),we(new Error("Timeout waiting for element"))},J))})}var init_evaluate_selector=__esm({"src/iframe/evaluate-selector.ts"(){}});function isPdfEmbedElementPresent(){let j=document.getElementsByTagName("embed");for(let V=0;V<j.length;V++)if(j[V].type==="application/pdf")return!0;return!1}var init_check_pdf=__esm({"src/iframe/check-pdf.ts"(){}});function removeSelectorsFromDocument(j,V){V.length===0&&(V=defaultSelectorsToRemove),V.forEach(be=>{j.querySelectorAll(be).forEach(ve=>ve.remove())})}function removeElementsByClassNames(j){for(let V=0;V<j.length;V++){let be=j[V],J=document.getElementsByClassName(be),ve=Array.from(J);for(let we=0;we<ve.length;we++){let fe=ve[we];fe&&fe.remove()}}}function get_document_html(j=`
`,V){let be="",J=new XMLSerializer;for(let ve of Array.from(V.childNodes))ve.nodeType===Node.ELEMENT_NODE&&(ve instanceof HTMLElement?be+=ve.outerHTML+j:be+=J.serializeToString(ve)+j);return be}function removeImagesDOM(j){try{Array.from(j.getElementsByTagName("img")).forEach(function(be){var J;(J=be.parentNode)==null||J.removeChild(be)})}catch{}}var defaultSelectorsToRemove,init_dom_processing=__esm({"src/iframe/dom-processing.ts"(){defaultSelectorsToRemove=["nav","footer","script","style","noscript","svg",'[role="alert"]','[role="banner"]','[role="dialog"]','[role="alertdialog"]','[role="region"][aria-label*="skip" i]','[aria-modal="true"]']}});function tellToDeleteIframe(j,V){return new Promise(be=>{sendMessageToBackground({intent:"deleteIframeMellowtel",recordID:j,BATCH_execution:V}).then(J=>{be(J)})})}var init_message_background=__esm({"src/iframe/message-background.ts"(){init_messaging_helpers()}});function saveCrawl(j,V,be,J,ve,we,fe,f,$,n){Logger.log(" Saving Crawl "),Logger.log("RecordID:",j);const d="https://afcha2nmzsir4rr4zbta4tyy6e0fxjix.lambda-url.us-east-1.on.aws/";getIdentifier().then(T=>{Logger.log("Node Identifier:",T);const e={content:V,markDown:be,recordID:j,fastLane:J,url:ve,htmlTransformer:we,orgId:fe,saveText:f,node_identifier:T,BATCH_execution:$,batch_id:n,final_url:window.location.href},t={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e)};Logger.log("Sending data to server:",e),fetch(d,t).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()}).then(l=>(Logger.log("Response from server:",l),tellToDeleteIframe(j,$))).catch(l=>(Logger.error("Error:",l),tellToDeleteIframe(j,$)))})}var init_save_crawl=__esm({"src/iframe/save-crawl.ts"(){init_message_background(),init_identity_helpers(),init_logger()}}),TurndownService,init_turndown=__esm({"src/turndown/turndown.ts"(){TurndownService=function(){function j(r){for(var s=1;s<arguments.length;s++){var A=arguments[s];for(var c in A)A.hasOwnProperty(c)&&(r[c]=A[c])}return r}function V(r,s){return Array(s+1).join(r)}function be(r){return r.replace(/^\n*/,"")}function J(r){for(var s=r.length;s>0&&r[s-1]===`
`;)s--;return r.substring(0,s)}var ve=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function we(r){return e(r,ve)}var fe=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function f(r){return e(r,fe)}function $(r){return t(r,fe)}var n=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function d(r){return e(r,n)}function T(r){return t(r,n)}function e(r,s){return s.indexOf(r.nodeName)>=0}function t(r,s){return r.getElementsByTagName&&s.some(function(A){return r.getElementsByTagName(A).length})}var l={};l.paragraph={filter:"p",replacement:function(r){return`

`+r+`

`}},l.lineBreak={filter:"br",replacement:function(r,s,A){return A.br+`
`}},l.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(r,s,A){var c=Number(s.nodeName.charAt(1));if(A.headingStyle==="setext"&&c<3){var y=V(c===1?"=":"-",r.length);return`

`+r+`
`+y+`

`}else return`

`+V("#",c)+" "+r+`

`}},l.blockquote={filter:"blockquote",replacement:function(r){return r=r.replace(/^\n+|\n+$/g,""),r=r.replace(/^/gm,"> "),`

`+r+`

`}},l.list={filter:["ul","ol"],replacement:function(r,s){var A=s.parentNode;return A.nodeName==="LI"&&A.lastElementChild===s?`
`+r:`

`+r+`

`}},l.listItem={filter:"li",replacement:function(r,s,A){r=r.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var c=A.bulletListMarker+"   ",y=s.parentNode;if(y.nodeName==="OL"){var q=y.getAttribute("start"),re=Array.prototype.indexOf.call(y.children,s);c=(q?Number(q)+re:re+1)+".  "}return c+r+(s.nextSibling&&!/\n$/.test(r)?`
`:"")}},l.indentedCodeBlock={filter:function(r,s){return s.codeBlockStyle==="indented"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,s,A){return`

    `+s.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},l.fencedCodeBlock={filter:function(r,s){return s.codeBlockStyle==="fenced"&&r.nodeName==="PRE"&&r.firstChild&&r.firstChild.nodeName==="CODE"},replacement:function(r,s,A){for(var c=s.firstChild.getAttribute("class")||"",y=(c.match(/language-(\S+)/)||[null,""])[1],q=s.firstChild.textContent,re=A.fence.charAt(0),Q=3,de=new RegExp("^"+re+"{3,}","gm"),ee;ee=de.exec(q);)ee[0].length>=Q&&(Q=ee[0].length+1);var ue=V(re,Q);return`

`+ue+y+`
`+q.replace(/\n$/,"")+`
`+ue+`

`}},l.horizontalRule={filter:"hr",replacement:function(r,s,A){return`

`+A.hr+`

`}},l.inlineLink={filter:function(r,s){return s.linkStyle==="inlined"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,s){var A=s.getAttribute("href"),c=L(s.getAttribute("title"));return c&&(c=' "'+c+'"'),"["+r+"]("+A+c+")"}},l.referenceLink={filter:function(r,s){return s.linkStyle==="referenced"&&r.nodeName==="A"&&r.getAttribute("href")},replacement:function(r,s,A){var c=s.getAttribute("href"),y=L(s.getAttribute("title"));y&&(y=' "'+y+'"');var q,re;switch(A.linkReferenceStyle){case"collapsed":q="["+r+"][]",re="["+r+"]: "+c+y;break;case"shortcut":q="["+r+"]",re="["+r+"]: "+c+y;break;default:var Q=this.references.length+1;q="["+r+"]["+Q+"]",re="["+Q+"]: "+c+y}return this.references.push(re),q},references:[],append:function(r){var s="";return this.references.length&&(s=`

`+this.references.join(`
`)+`

`,this.references=[]),s}},l.emphasis={filter:["em","i"],replacement:function(r,s,A){return r.trim()?A.emDelimiter+r+A.emDelimiter:""}},l.strong={filter:["strong","b"],replacement:function(r,s,A){return r.trim()?A.strongDelimiter+r+A.strongDelimiter:""}},l.code={filter:function(r){var s=r.previousSibling||r.nextSibling,A=r.parentNode.nodeName==="PRE"&&!s;return r.nodeName==="CODE"&&!A},replacement:function(r){if(!r)return"";r=r.replace(/\r?\n|\r/g," ");for(var s=/^`|^ .*?[^ ].* $|`$/.test(r)?" ":"",A="`",c=r.match(/`+/gm)||[];c.indexOf(A)!==-1;)A=A+"`";return A+s+r+s+A}},l.image={filter:"img",replacement:function(r,s){var A=L(s.getAttribute("alt")),c=s.getAttribute("src")||"",y=L(s.getAttribute("title")),q=y?' "'+y+'"':"";return c?"!["+A+"]("+c+q+")":""}};function L(r){return r?r.replace(/(\n+\s*)+/g,`
`):""}function F(r){this.options=r,this._keep=[],this._remove=[],this.blankRule={replacement:r.blankReplacement},this.keepReplacement=r.keepReplacement,this.defaultRule={replacement:r.defaultReplacement},this.array=[];for(var s in r.rules)this.array.push(r.rules[s])}F.prototype={add:function(r,s){this.array.unshift(s)},keep:function(r){this._keep.unshift({filter:r,replacement:this.keepReplacement})},remove:function(r){this._remove.unshift({filter:r,replacement:function(){return""}})},forNode:function(r){if(r.isBlank)return this.blankRule;var s;return(s=g(this.array,r,this.options))||(s=g(this._keep,r,this.options))||(s=g(this._remove,r,this.options))?s:this.defaultRule},forEach:function(r){for(var s=0;s<this.array.length;s++)r(this.array[s],s)}};function g(r,s,A){for(var c=0;c<r.length;c++){var y=r[c];if(w(y,s,A))return y}}function w(r,s,A){var c=r.filter;if(typeof c=="string"){if(c===s.nodeName.toLowerCase())return!0}else if(Array.isArray(c)){if(c.indexOf(s.nodeName.toLowerCase())>-1)return!0}else if(typeof c=="function"){if(c.call(r,s,A))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function u(r){var s=r.element,A=r.isBlock,c=r.isVoid,y=r.isPre||function(W){return W.nodeName==="PRE"};if(!(!s.firstChild||y(s))){for(var q=null,re=!1,Q=null,de=i(Q,s,y);de!==s;){if(de.nodeType===3||de.nodeType===4){var ee=de.data.replace(/[ \r\n\t]+/g," ");if((!q||/ $/.test(q.data))&&!re&&ee[0]===" "&&(ee=ee.substr(1)),!ee){de=h(de);continue}de.data=ee,q=de}else if(de.nodeType===1)A(de)||de.nodeName==="BR"?(q&&(q.data=q.data.replace(/ $/,"")),q=null,re=!1):c(de)||y(de)?(q=null,re=!0):q&&(re=!1);else{de=h(de);continue}var ue=i(Q,de,y);Q=de,de=ue}q&&(q.data=q.data.replace(/ $/,""),q.data||h(q))}}function h(r){var s=r.nextSibling||r.parentNode;return r.parentNode.removeChild(r),s}function i(r,s,A){return r&&r.parentNode===s||A(s)?s.nextSibling||s.parentNode:s.firstChild||s.nextSibling||s.parentNode}var x=typeof window<"u"?window:{};function p(){var r=x.DOMParser,s=!1;try{new r().parseFromString("","text/html")&&(s=!0)}catch{}return s}function v(){var r=function(){};return b()?r.prototype.parseFromString=function(s){var A=new window.ActiveXObject("htmlfile");return A.designMode="on",A.open(),A.write(s),A.close(),A}:r.prototype.parseFromString=function(s){var A=document.implementation.createHTMLDocument("");return A.open(),A.write(s),A.close(),A},r}function b(){var r=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(r=!0)}return r}var N=p()?x.DOMParser:v();function U(r,s){var A;if(typeof r=="string"){var c=I().parseFromString('<x-turndown id="turndown-root">'+r+"</x-turndown>","text/html");A=c.getElementById("turndown-root")}else A=r.cloneNode(!0);return u({element:A,isBlock:we,isVoid:f,isPre:s.preformattedCode?B:null}),A}var D;function I(){return D=D||new N,D}function B(r){return r.nodeName==="PRE"||r.nodeName==="CODE"}function _(r,s){return r.isBlock=we(r),r.isCode=r.nodeName==="CODE"||r.parentNode.isCode,r.isBlank=P(r),r.flankingWhitespace=X(r,s),r}function P(r){return!f(r)&&!d(r)&&/^\s*$/i.test(r.textContent)&&!$(r)&&!T(r)}function X(r,s){if(r.isBlock||s.preformattedCode&&r.isCode)return{leading:"",trailing:""};var A=m(r.textContent);return A.leadingAscii&&S("left",r,s)&&(A.leading=A.leadingNonAscii),A.trailingAscii&&S("right",r,s)&&(A.trailing=A.trailingNonAscii),{leading:A.leading,trailing:A.trailing}}function m(r){var s=r.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:s[1],leadingAscii:s[2],leadingNonAscii:s[3],trailing:s[4],trailingNonAscii:s[5],trailingAscii:s[6]}}function S(r,s,A){var c,y,q;return r==="left"?(c=s.previousSibling,y=/ $/):(c=s.nextSibling,y=/^ /),c&&(c.nodeType===3?q=y.test(c.nodeValue):A.preformattedCode&&c.nodeName==="CODE"?q=!1:c.nodeType===1&&!we(c)&&(q=y.test(c.textContent))),q}var R=Array.prototype.reduce,z=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function O(r){if(!(this instanceof O))return new O(r);var s={rules:l,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(A,c){return c.isBlock?`

`:""},keepReplacement:function(A,c){return c.isBlock?`

`+c.outerHTML+`

`:c.outerHTML},defaultReplacement:function(A,c){return c.isBlock?`

`+A+`

`:A}};this.options=j({},s,r),this.rules=new F(this.options)}O.prototype={turndown:function(r){if(!o(r))throw new TypeError(r+" is not a string, or an element/document/fragment node.");if(r==="")return"";var s=E.call(this,new U(r,this.options));return k.call(this,s)},use:function(r){if(Array.isArray(r))for(var s=0;s<r.length;s++)this.use(r[s]);else if(typeof r=="function")r(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(r,s){return this.rules.add(r,s),this},keep:function(r){return this.rules.keep(r),this},remove:function(r){return this.rules.remove(r),this},escape:function(r){return z.reduce(function(s,A){return s.replace(A[0],A[1])},r)}};function E(r){var s=this;return R.call(r.childNodes,function(A,c){c=new _(c,s.options);var y="";return c.nodeType===3?y=c.isCode?c.nodeValue:s.escape(c.nodeValue):c.nodeType===1&&(y=M.call(s,c)),a(A,y)},"")}function k(r){var s=this;return this.rules.forEach(function(A){typeof A.append=="function"&&(r=a(r,A.append(s.options)))}),r.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function M(r){var s=this.rules.forNode(r),A=E.call(this,r),c=r.flankingWhitespace;return(c.leading||c.trailing)&&(A=A.trim()),c.leading+s.replacement(A,r,this.options)+c.trailing}function a(r,s){var A=J(r),c=be(s),y=Math.max(r.length-A.length,s.length-c.length),q=`

`.substring(0,y);return A+q+c}function o(r){return r!=null&&(typeof r=="string"||r.nodeType&&(r.nodeType===1||r.nodeType===9||r.nodeType===11))}return O}()}});function extractTextFromPDF(j){return new Promise((V,be)=>__async(this,null,function*(){pdfExports.GlobalWorkerOptions.workerSrc=PDFJSWorker,pdfExports.getDocument(j).promise.then(function(J){const ve=[];function we(fe){if(fe>J.numPages){let f=`# Page 1
`+ve[0]+`
`;for(let $=1;$<ve.length;$++)f+="# Page "+($+1)+`
`+ve[$]+`
`;V(f);return}J.getPage(fe).then(function(f){return f.getTextContent()}).then(function(f){ve.push(f.items.map($=>$.str).join(" ")),we(fe+1)}).catch(function(f){Logger.log("[extractTextFromPDF] : Error "+f),V("")})}we(1)}).catch(be)}))}var init_pdf_getter=__esm({"src/pdf/pdf-getter.ts"(){init_logger()}});function initCrawl(j,V){return __async(this,null,function*(){window.addEventListener("message",function(be){return __async(this,null,function*(){initCrawlHelper(be,0)})}),V&&window.dispatchEvent(new MessageEvent("message",{data:j.data}))})}function initCrawlHelper(j,V){if(j.data.isMellowtelCrawl){let J=j.data.recordID,ve=j.data.removeCSSselectors,we=j.data.classNamesToBeRemoved,fe=j.data.hasOwnProperty("fastLane")?j.data.fastLane:!1,f=j.data.hasOwnProperty("url_to_crawl")?j.data.url_to_crawl:"",$=j.data.hasOwnProperty("htmlTransformer")?j.data.htmlTransformer:"none",n=j.data.hasOwnProperty("removeImages")?j.data.removeImages.toString().toLowerCase()==="true":!1,d=parseInt(j.data.waitBeforeScraping);Logger.log("[initCrawl]: waitBeforeScraping "+d),setTimeout(()=>__async(this,null,function*(){let T=document,e=window.location.href,t=e.includes("?")?e.split("?")[0].endsWith(".pdf"):e.endsWith(".pdf");t||(t=isPdfEmbedElementPresent());let l=j.data.hasOwnProperty("orgId")?j.data.orgId:"",L=j.data.hasOwnProperty("saveText")?j.data.saveText:!1;if(j.data.hasOwnProperty("fetchInstead")?j.data.fetchInstead.toString().toLowerCase()==="true":!1){let h=yield(yield fetch(window.location.href)).text();T=new DOMParser().parseFromString(h,"text/html")}if(ve==="default")removeSelectorsFromDocument(T,[]);else if(ve!==""&&ve!=="none")try{let u=JSON.parse(ve);removeSelectorsFromDocument(T,u)}catch(u){Logger.error("[initCrawl ] : Error parsing removeCSSselectors =>",u)}we.length>0&&removeElementsByClassNames(we),n&&removeImagesDOM(T);let g=get_document_html(`
`,T);g=g.replace(/(\r\n|\n|\r)/gm,"").replace(/\\t/gm,""),Logger.log("[] : Sending data to server..."),Logger.log("[] : recordID => "+J);let w;if(!t)w=new TurndownService({}).turndown(T.documentElement.outerHTML),Logger.log("[] : markDown => "+w),(w.trim()===""||w==="null")&&V<4?(Logger.log("[initCrawl ] : markDown is empty. RESETTING"),setTimeout(()=>{initCrawlHelper(j,V+1)},2e3)):saveCrawl(J,g,w,fe,f,$,l,L,j.data.hasOwnProperty("BATCH_execution")?j.data.BATCH_execution:!1,j.data.hasOwnProperty("batch_id")?j.data.batch_id:"");else{Logger.log("[initCrawl ] : it's a PDF");let u=yield extractTextFromPDF(f);Logger.log("[initCrawl ] : text => "+u),saveCrawl(J,u,u,fe,f,$,l,L,j.data.hasOwnProperty("BATCH_execution")?j.data.BATCH_execution:!1,j.data.hasOwnProperty("batch_id")?j.data.batch_id:"")}}),d)}}var init_init_crawl=__esm({"src/iframe/init-crawl.ts"(){init_check_pdf(),init_dom_processing(),init_save_crawl(),init_turndown(),init_pdf_getter(),init_logger()}});function muteIframe(){const j=document.getElementsByTagName("video"),V=document.getElementsByTagName("audio");for(let be=0;be<j.length;be++)j[be].muted=!0,j[be].pause();for(let be=0;be<V.length;be++)V[be].muted=!0,V[be].pause();new MutationObserver((be,J)=>{for(const ve of be)for(let we=0;we<ve.addedNodes.length;we++){const fe=ve.addedNodes[we];fe instanceof Element&&(fe.tagName==="VIDEO"||fe.tagName==="AUDIO")&&(fe.muted=!0,fe.pause())}}).observe(document,{childList:!0,subtree:!0})}var init_mute_iframe=__esm({"src/iframe/mute-iframe.ts"(){}});function safeRenderIframe(){try{return window.alert=function(){},window.prompt=function(){return null},window.confirm=function(){return!1},!0}catch(j){return Logger.log("Error in safeRenderIframe => "+j),!1}}var init_safe_render=__esm({"src/iframe/safe-render.ts"(){init_logger()}}),mutation_observer_exports={};__export(mutation_observer_exports,{attachMutationObserver:()=>attachMutationObserver});function attachMutationObserver(){executeFunctionIfOrWhenBodyExists(()=>{initIframeListeners()})}function initIframeListeners(){inIframe()&&(muteIframe(),safeRenderIframe(),window.addEventListener("message",initialEventListener))}function initialEventListener(j){return __async(this,null,function*(){if(j.data.isMellowtelCrawl&&!alreadyReplied){window.parent.postMessage({isMellowtelReply:!0,recordID:j.data.recordID},"*"),alreadyReplied=!0;let be=j.data.hasOwnProperty("waitForElement")?j.data.waitForElement:"none",J=j.data.hasOwnProperty("waitForElementTime")?parseInt(j.data.waitForElementTime):0;if(window.removeEventListener("message",initialEventListener),be==="none")Logger.log('waitForElement === "none"'),yield initCrawl(j,!0);else{let ve=getSelectorInfo(be);if(Logger.log("[initialEventListener] : safeEvalSelector => ",ve),!ve)return;waitForElementDynamicSelector(ve.dSelectorToUse,ve.selectorId,ve.index,8e4).then(()=>{setTimeout(()=>__async(this,null,function*(){yield initCrawl(j,!0)}),J*1e3)}).catch(()=>{Logger.log("[DOM_getter] : waitForElement_ELEMENT => catch")})}}})}var alreadyReplied,init_mutation_observer=__esm({"src/iframe/mutation-observer.ts"(){init_iframe_helpers(),init_evaluate_selector(),init_logger(),init_init_crawl(),init_mute_iframe(),init_document_body_observer(),init_safe_render(),alreadyReplied=!1}});init_identity_helpers(),init_messaging_helpers();function setUpOnTabRemoveListeners(){return __async(this,null,function*(){chrome.tabs.onRemoved.addListener(function(j,V){chrome.storage.local.get(["webSocketConnectedMellowtel"],function(be){if(be.webSocketConnectedMellowtel===j){let ve=!1;chrome.tabs.query({},function(we){return __async(this,null,function*(){var fe,f;for(let $=0;$<we.length;$++)!((f=(fe=we[$])==null?void 0:fe.url)!=null&&f.includes("chrome://"))&&!ve&&(yield sendMessageToContentScript(we[$].id,{intent:"startConnectionMellowtel"}).then(function(){ve=!0}))})})}})})})}init_listener_helpers(),init_iframe_helpers(),init_storage_helpers();function purgeOnStartup(){return __async(this,null,function*(){chrome.runtime.onStartup.addListener(function(){return __async(this,null,function*(){yield deleteLocalStorage(["webSocketConnectedMellowtel","queue_batch","queue"])})})})}init_start_stop_helpers(),init_logger();function setUpStorageChangeListeners(){return __async(this,null,function*(){return new Promise(j=>{chrome.storage.onChanged.addListener(function(V,be){for(let J in V)if(J==="mellowtelStatus"){let ve=V[J].newValue;ve==="start"?(Logger.info("Mellowtel is starting..."),startMellowtelWebsocket()):ve==="stop"&&(Logger.info("Mellowtel is stopping..."),stopMellowtelConnection())}})})})}init_start_stop_helpers(),init_opt_in_out_helpers(),init_permission_helpers(),init_constants(),init_logger(),init_rate_limiter(),init_opt_in_out_helpers(),init_identity_helpers(),init_constants(),init_rate_limiter(),init_logger(),init_start_stop_helpers(),init_document_body_observer(),init_messaging_helpers();function setUpExternalMessageListeners(){return __async(this,null,function*(){let j=window.location.hostname,V=yield getChromeExtensionIdentifier();executeFunctionIfOrWhenBodyExists(()=>__async(this,null,function*(){if(j.includes("mellowtel.it")||j.includes("mellow.tel")||j.includes("mellowtel.dev")){Logger.log("[setUpExternalMessageListeners]: Setting up external message listeners");const be=document.getElementById("mellowtel-message-from-site-to-extension");be&&be.addEventListener("change",J=>{const ve=JSON.parse(be.value),we=ve.id,fe=ve.extension_id;if(Logger.log("[setUpExternalMessageListeners] extension_id_message: ",fe),Logger.log("[setUpExternalMessageListeners] extension_id_original: ",V),fe!==V){Logger.log("Extension ID does not match");return}ve.action==="optIn"&&optIn().then(()=>{sendMessageToWebsite({message:"opted-in",id:we})}),ve.action==="optOut"&&optOut().then(()=>{sendMessageToWebsite({message:"opted-out",id:we})}),ve.action==="startMellowtel"&&start().then(()=>{sendMessageToWebsite({message:"mellowtel-started",id:we})}),ve.action==="stopMellowtel"&&stop().then(()=>{sendMessageToWebsite({message:"mellowtel-stopped",id:we})}),ve.action==="getOptInStatus"&&getOptInStatus().then(f=>{sendMessageToWebsite({message:"opt-in-status",status:f,id:we})}),ve.action==="getNodeId"&&getIdentifier().then(f=>{sendMessageToWebsite({message:"node-id",nodeId:f,id:we})}),ve.action==="getMellowtelVersion"&&sendMessageToWebsite({message:"mellowtel-version",version:MELLOWTEL_VERSION,id:we}),ve.action==="getRequestsHandled"&&RateLimiter.getLifetimeTotalCount().then(f=>{sendMessageToWebsite({message:"requests-handled",requestsHandled:f,id:we})}),ve.action==="getRateLimitData"&&RateLimiter.getRateLimitData().then(f=>{sendMessageToWebsite({message:"rate-limit-data",timestamp:f.timestamp,count:f.count,id:we})}),ve.action==="closePage"&&sendMessageToBackground({intent:"removeCurrentTab"}).then(f=>{Logger.log("[setUpExternalMessageListeners] tab_id: ",f),sendMessageToWebsite({message:"page-closed",id:we})})})}}))})}function sendMessageToWebsite(j){const V=document.getElementById("mellowtel-message-from-extension-to-site");V&&(V.value=JSON.stringify(j))}init_generate_links();var Mellowtel=class{constructor(j,V){this.disableLogs=!0,this.MAX_DAILY_RATE=MAX_DAILY_RATE,this.publishableKey=j,this.options=V,this.disableLogs=(V==null?void 0:V.disableLogs)!==void 0?V.disableLogs:!0,this.MAX_DAILY_RATE=(V==null?void 0:V.MAX_DAILY_RATE)||MAX_DAILY_RATE,RateLimiter.MAX_DAILY_RATE=this.MAX_DAILY_RATE,Logger.disableLogs=this.disableLogs}initBackground(j,V){return __async(this,null,function*(){if(typeof this.publishableKey>"u"||this.publishableKey===null||this.publishableKey==="")throw new Error("publishableKey is undefined, null, or empty");yield checkRequiredPermissions(!1),yield purgeOnStartup(),yield setUpOnTabRemoveListeners(),yield setUpBackgroundListeners(),yield getOrGenerateIdentifier(this.publishableKey),(j===void 0||j)&&(yield getOptInStatus())&&(yield this.start(V))})}initContentScript(){return __async(this,null,function*(){typeof window<"u"&&(yield setUpExternalMessageListeners(),inIframe()?(yield Promise.resolve().then(()=>(init_mutation_observer(),mutation_observer_exports))).attachMutationObserver():(yield isMellowtelStarted())&&(yield getOptInStatus())?startMellowtelWebsocket():yield setUpStorageChangeListeners())})}optIn(){return __async(this,null,function*(){return optIn()})}optOut(){return __async(this,null,function*(){return optOut()})}getOptInStatus(){return __async(this,null,function*(){return getOptInStatus()})}generateOptInLink(){return __async(this,null,function*(){return generateOptInLink()})}generateAndOpenOptInLink(){return __async(this,null,function*(){return generateAndOpenOptInLink()})}generateSettingsLink(){return __async(this,null,function*(){return generateSettingsLink()})}getNodeId(){return __async(this,null,function*(){return getOrGenerateIdentifier(this.publishableKey)})}getMellowtelVersion(){return __async(this,null,function*(){return MELLOWTEL_VERSION})}getChromeExtensionIdentifier(){return __async(this,null,function*(){return getChromeExtensionIdentifier()})}start(j){return __async(this,null,function*(){return start()})}stop(){return __async(this,null,function*(){return stop()})}};const CONFIGURATION_KEY="YzQ3ODQ0Yjg=",definition=defineBackground({type:"module",main:()=>{new Mellowtel(atob(CONFIGURATION_KEY),{MAX_DAILY_RATE:500});const j=async()=>{chrome.contextMenus.removeAll(()=>{chrome.contextMenus.create({id:"edgetts",title:"Speak with MS-Edge TTS",contexts:["selection"]})})};browser$4.runtime.onInstalled.addListener(j),browser$4.runtime.onStartup.addListener(j),browser$4.permissions.onAdded.addListener(async V=>{}),chrome.contextMenus.onClicked.addListener(async(V,be)=>{if(V.menuItemId!="edgetts"||!V.selectionText)return;storage.defineItem("session:text").setValue(V.selectionText),browser$4.browserAction.openPopup()})}});function print(j,...V){}var logger={debug:(...j)=>print(console.debug,...j),log:(...j)=>print(console.log,...j),warn:(...j)=>print(console.warn,...j),error:(...j)=>print(console.error,...j)};try{definition.main()instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(j){throw logger.error("The background crashed on startup!"),j}})();

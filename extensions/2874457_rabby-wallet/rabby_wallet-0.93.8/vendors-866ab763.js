/*! For license information please see vendors-866ab763.js.LICENSE.txt */
(self.webpackChunkrabby=self.webpackChunkrabby||[]).push([[2167],{568917:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(409669),i=r.n(n),s=r(136026),a=r.n(s),o=r(315327),u=r.n(o),c=r(794097),l=r.n(c),d=r(464867);async function f(e){const t=function(e){const t=new Headers(e.headers);if(e.auth){const r=e.auth.username||"",n=e.auth.password?decodeURI(encodeURIComponent(e.auth.password)):"";t.set("Authorization",`Basic ${btoa(r+":"+n)}`)}const r=e.method.toUpperCase(),n={headers:t,method:r};"GET"!==r&&"HEAD"!==r&&(n.body=e.data,(0,d.isFormData)(n.body)&&(0,d.isStandardBrowserEnv)()&&t.delete("Content-Type"));e.mode&&(n.mode=e.mode);e.cache&&(n.cache=e.cache);e.integrity&&(n.integrity=e.integrity);e.redirect&&(n.redirect=e.redirect);e.referrer&&(n.referrer=e.referrer);(0,d.isUndefined)(e.withCredentials)||(n.credentials=e.withCredentials?"include":"omit");const i=l()(e.baseURL,e.url),s=u()(i,e.params,e.paramsSerializer);return new Request(s,n)}(e),r=[h(t,e)];e.timeout&&e.timeout>0&&r.push(new Promise((r=>{setTimeout((()=>{const n=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";r(p(n,e,"ECONNABORTED",t))}),e.timeout)})));const n=await Promise.race(r);return new Promise(((t,r)=>{n instanceof Error?r(n):"[object Function]"===Object.prototype.toString.call(e.settle)?e.settle(t,r,n):a()(t,r,n)}))}async function h(e,t){let r;try{r=await fetch(e)}catch(r){return p("Network Error",t,"ERR_NETWORK",e)}const n={ok:r.ok,status:r.status,statusText:r.statusText,headers:new Headers(r.headers),config:t,request:e};if(r.status>=200&&204!==r.status)switch(t.responseType){case"arraybuffer":n.data=await r.arrayBuffer();break;case"blob":n.data=await r.blob();break;case"json":n.data=await r.json();break;case"formData":n.data=await r.formData();break;default:n.data=await r.text()}return n}function p(e,t,r,n,s){return i().AxiosError&&"function"==typeof i().AxiosError?new(i().AxiosError)(e,i().AxiosError[r],t,n,s):function(e,t,r,n,i){e.config=t,r&&(e.code=r);return e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}(new Error(e),t,r,n,s)}},38392:(e,t,r)=>{"use strict";r.d(t,{QY:()=>jr,i9:()=>$t,I8:()=>Ut,ZF:()=>It,Mb:()=>Tt,yh:()=>Er,sG:()=>qt});var n=r(717187),i=r.n(n),s=r(648141),a=r(424678),o=r(885094);var u=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=e=>t+e;let n;return e.dbName&&e.storeName&&(n=(0,a.MT)(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await(0,a.U2)(r(e),n)>"u"),getItem:async e=>await(0,a.U2)(r(e),n)??null,setItem:(e,t)=>(0,a.t8)(r(e),t,n),removeItem:e=>(0,a.IV)(r(e),n),getKeys:()=>(0,a.XP)(n),clear:()=>(0,a.ZH)(n)}};class c{constructor(){this.indexedDb=(0,s.o6)({driver:u({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,o.u)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},d={exports:{}};function f(e){var t;return[e[0],(0,o.D)(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof l<"u"&&l.localStorage?d.exports=l.localStorage:typeof window<"u"&&window.localStorage?d.exports=window.localStorage:d.exports=new t}();class h{constructor(){this.localStorage=d.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(f)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return(0,o.D)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,o.u)(t))}async removeItem(e){this.localStorage.removeItem(e)}}const p=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class m{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new h;this.storage=e;try{(async(e,t,r)=>{const n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1)return void r(t);const s=await e.getKeys();if(!s.length)return void r(t);const a=[];for(;s.length;){const r=s.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await e.getItem(r);await t.setItem(r,n),a.push(r)}}await t.setItem(n,1),r(t),p(e,a)})(e,new c,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var g=r(490772),y=r(109107),v=r(128041),w=r(131050),b=r(831416),E=r(466736),_=r(294168),I=r(620605),S=r(92263),O=r(152217);function T(e){return(0,S.B)((0,O.m)((0,o.u)(e),_.b$),_.ac)}function N(e){const t=(0,O.m)(_.M_,_.Hk),r=_.xV+(0,S.B)((0,I.z)([t,e]),_.Hk);return[_.dB,_.Hc,r].join(_.S4)}function A(e=(0,b.randomBytes)(_.GS)){return w._w(e)}async function P(e,t,r,n,i=(0,E.fromMiliseconds)(Date.now())){const s={alg:_.RB,typ:_.xM},a={iss:N(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},o=(u={header:s,payload:a},(0,O.m)([T(u.header),T(u.payload)].join(_.G),_.vV));var u;return function(e){return[T(e.header),T(e.payload),(t=e.signature,(0,S.B)(t,_.ac))].join(_.G);var t}({header:s,payload:a,signature:w.Xx(n.secretKey,o)})}r(443014);var C=r(225550),x=r(337466),R=r(956186);class M extends R.IJsonRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,R.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,R.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,(e=>{(0,R.isJsonRpcError)(e)?n(e.error):r(e.result)}));try{await this.connection.send(e,t)}catch(e){n(e)}}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,R.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const j=e=>e.split("?")[0],B=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(72030);class k{constructor(e){if(this.url=e,this.events=new n.EventEmitter,this.registering=!1,!(0,R.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,o.u)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,R.isWsUrl)(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,n)=>{const i=new URLSearchParams(e).get("origin"),s=(0,R.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!(0,R.isLocalhostUrl)(e)},a=new B(e,[],s);typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?a.onerror=e=>{const t=e;n(this.emitError(t.error))}:a.on("error",(e=>{n(this.emitError(e))})),a.onopen=()=>{this.onOpen(a),t(a)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?(0,o.D)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=r.message||r.toString(),i=(0,R.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,R.parseConnectionError)(e,j(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${j(this.url)}`));return this.events.emit("register_error",t),t}}var D=r(572307),U=r.n(D),L=r(380204),F=r.n(L),z=r(734155);var G=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw new TypeError(s+" is ambiguous");r[a]=i}var o=e.length,u=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var s=(e.length-t)*c+1>>>0,a=new Uint8Array(s);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var d=0,f=s-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=o*a[f]>>>0,a[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=s-i;h!==s&&0===a[h];)h++;for(var p=new Uint8Array(n+(s-h)),m=n;h!==s;)p[m++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var a=(s-i)*l+1>>>0,c=new Uint8Array(a);i!==s;){for(var d=t[i],f=0,h=a-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*c[h]>>>0,c[h]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=a-n;p!==a&&0===c[p];)p++;for(var m=u.repeat(r);p<a;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},$=G;const V=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class q{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class H{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return W(this,e)}}class K{constructor(e){this.decoders=e}or(e){return W(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const W=(e,t)=>new K({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Z{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new q(e,t,r),this.decoder=new H(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Y=({name:e,prefix:t,encode:r,decode:n})=>new Z(e,t,r,n),J=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=$(r,t);return Y({prefix:e,name:t,encode:n,decode:e=>V(i(e))})},X=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Y({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",a=0,o=0;for(let n=0;n<e.length;++n)for(o=o<<8|e[n],a+=8;a>r;)a-=r,s+=t[i&o>>a];if(a&&(s+=t[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const a=new Uint8Array(s*r/8|0);let o=0,u=0,c=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);u=u<<r|s,o+=r,o>=8&&(o-=8,a[c++]=255&u>>o)}if(o>=r||255&u<<8-o)throw new SyntaxError("Unexpected end of data");return a})(t,n,r,e)}),Q=Y({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var ee=Object.freeze({__proto__:null,identity:Q});const te=X({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var re=Object.freeze({__proto__:null,base2:te});const ne=X({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ie=Object.freeze({__proto__:null,base8:ne});const se=J({prefix:"9",name:"base10",alphabet:"0123456789"});var ae=Object.freeze({__proto__:null,base10:se});const oe=X({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ue=X({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var ce=Object.freeze({__proto__:null,base16:oe,base16upper:ue});const le=X({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),de=X({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fe=X({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),he=X({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pe=X({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),me=X({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ge=X({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ye=X({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ve=X({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var we=Object.freeze({__proto__:null,base32:le,base32upper:de,base32pad:fe,base32padupper:he,base32hex:pe,base32hexupper:me,base32hexpad:ge,base32hexpadupper:ye,base32z:ve});const be=J({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ee=J({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _e=Object.freeze({__proto__:null,base36:be,base36upper:Ee});const Ie=J({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Se=J({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Oe=Object.freeze({__proto__:null,base58btc:Ie,base58flickr:Se});const Te=X({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ne=X({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ae=X({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Pe=X({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ce=Object.freeze({__proto__:null,base64:Te,base64pad:Ne,base64url:Ae,base64urlpad:Pe});const xe=Array.from("ðŸš€ðŸªâ˜„ðŸ›°ðŸŒŒðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜ðŸŒðŸŒðŸŒŽðŸ‰â˜€ðŸ’»ðŸ–¥ðŸ’¾ðŸ’¿ðŸ˜‚â¤ðŸ˜ðŸ¤£ðŸ˜ŠðŸ™ðŸ’•ðŸ˜­ðŸ˜˜ðŸ‘ðŸ˜…ðŸ‘ðŸ˜ðŸ”¥ðŸ¥°ðŸ’”ðŸ’–ðŸ’™ðŸ˜¢ðŸ¤”ðŸ˜†ðŸ™„ðŸ’ªðŸ˜‰â˜ºðŸ‘ŒðŸ¤—ðŸ’œðŸ˜”ðŸ˜ŽðŸ˜‡ðŸŒ¹ðŸ¤¦ðŸŽ‰ðŸ’žâœŒâœ¨ðŸ¤·ðŸ˜±ðŸ˜ŒðŸŒ¸ðŸ™ŒðŸ˜‹ðŸ’—ðŸ’šðŸ˜ðŸ’›ðŸ™‚ðŸ’“ðŸ¤©ðŸ˜„ðŸ˜€ðŸ–¤ðŸ˜ƒðŸ’¯ðŸ™ˆðŸ‘‡ðŸŽ¶ðŸ˜’ðŸ¤­â£ðŸ˜œðŸ’‹ðŸ‘€ðŸ˜ªðŸ˜‘ðŸ’¥ðŸ™‹ðŸ˜žðŸ˜©ðŸ˜¡ðŸ¤ªðŸ‘ŠðŸ¥³ðŸ˜¥ðŸ¤¤ðŸ‘‰ðŸ’ƒðŸ˜³âœ‹ðŸ˜šðŸ˜ðŸ˜´ðŸŒŸðŸ˜¬ðŸ™ƒðŸ€ðŸŒ·ðŸ˜»ðŸ˜“â­âœ…ðŸ¥ºðŸŒˆðŸ˜ˆðŸ¤˜ðŸ’¦âœ”ðŸ˜£ðŸƒðŸ’â˜¹ðŸŽŠðŸ’˜ðŸ˜ â˜ðŸ˜•ðŸŒºðŸŽ‚ðŸŒ»ðŸ˜ðŸ–•ðŸ’ðŸ™ŠðŸ˜¹ðŸ—£ðŸ’«ðŸ’€ðŸ‘‘ðŸŽµðŸ¤žðŸ˜›ðŸ”´ðŸ˜¤ðŸŒ¼ðŸ˜«âš½ðŸ¤™â˜•ðŸ†ðŸ¤«ðŸ‘ˆðŸ˜®ðŸ™†ðŸ»ðŸƒðŸ¶ðŸ’ðŸ˜²ðŸŒ¿ðŸ§¡ðŸŽâš¡ðŸŒžðŸŽˆâŒâœŠðŸ‘‹ðŸ˜°ðŸ¤¨ðŸ˜¶ðŸ¤ðŸš¶ðŸ’°ðŸ“ðŸ’¢ðŸ¤ŸðŸ™ðŸš¨ðŸ’¨ðŸ¤¬âœˆðŸŽ€ðŸºðŸ¤“ðŸ˜™ðŸ’ŸðŸŒ±ðŸ˜–ðŸ‘¶ðŸ¥´â–¶âž¡â“ðŸ’ŽðŸ’¸â¬‡ðŸ˜¨ðŸŒšðŸ¦‹ðŸ˜·ðŸ•ºâš ðŸ™…ðŸ˜ŸðŸ˜µðŸ‘ŽðŸ¤²ðŸ¤ ðŸ¤§ðŸ“ŒðŸ”µðŸ’…ðŸ§ðŸ¾ðŸ’ðŸ˜—ðŸ¤‘ðŸŒŠðŸ¤¯ðŸ·â˜ŽðŸ’§ðŸ˜¯ðŸ’†ðŸ‘†ðŸŽ¤ðŸ™‡ðŸ‘â„ðŸŒ´ðŸ’£ðŸ¸ðŸ’ŒðŸ“ðŸ¥€ðŸ¤¢ðŸ‘…ðŸ’¡ðŸ’©ðŸ‘ðŸ“¸ðŸ‘»ðŸ¤ðŸ¤®ðŸŽ¼ðŸ¥µðŸš©ðŸŽðŸŠðŸ‘¼ðŸ’ðŸ“£ðŸ¥‚"),Re=xe.reduce(((e,t,r)=>(e[r]=t,e)),[]),Me=xe.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const je=Y({prefix:"ðŸš€",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Re[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Me[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var Be=Object.freeze({__proto__:null,base256emoji:je}),ke=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=Le;)r[n++]=255&t|De,t/=128;for(;t&Ue;)r[n++]=255&t|De,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},De=128,Ue=-128,Le=Math.pow(2,31);var Fe=function e(t,r){var n,i=0,s=0,a=r=r||0,o=t.length;do{if(a>=o)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],i+=s<28?(n&Ge)<<s:(n&Ge)*Math.pow(2,s),s+=7}while(n>=ze);return e.bytes=a-r,i},ze=128,Ge=127;var $e=Math.pow(2,7),Ve=Math.pow(2,14),qe=Math.pow(2,21),He=Math.pow(2,28),Ke=Math.pow(2,35),We=Math.pow(2,42),Ze=Math.pow(2,49),Ye=Math.pow(2,56),Je=Math.pow(2,63),Xe={encode:ke,decode:Fe,encodingLength:function(e){return e<$e?1:e<Ve?2:e<qe?3:e<He?4:e<Ke?5:e<We?6:e<Ze?7:e<Ye?8:e<Je?9:10}};const Qe=(e,t,r=0)=>(Xe.encode(e,t,r),t),et=e=>Xe.encodingLength(e),tt=(e,t)=>{const r=t.byteLength,n=et(e),i=n+et(r),s=new Uint8Array(i+r);return Qe(e,s,0),Qe(r,s,n),s.set(t,i),new rt(e,r,t,s)};class rt{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const nt=({name:e,code:t,encode:r})=>new it(e,t,r);class it{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?tt(this.code,t):t.then((e=>tt(this.code,e)))}throw Error("Unknown type, must be binary type")}}const st=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),at=nt({name:"sha2-256",code:18,encode:st("SHA-256")}),ot=nt({name:"sha2-512",code:19,encode:st("SHA-512")});Object.freeze({__proto__:null,sha256:at,sha512:ot});const ut=V,ct={code:0,name:"identity",encode:ut,digest:e=>tt(0,ut(e))};Object.freeze({__proto__:null,identity:ct});new TextEncoder,new TextDecoder;const lt={...ee,...re,...ie,...ae,...ce,...we,..._e,...Oe,...Ce,...Be};function dt(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ft(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const ht=ft("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),pt=ft("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?dt(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),mt={utf8:ht,"utf-8":ht,hex:lt.base16,latin1:pt,ascii:pt,binary:pt,...lt};const gt="core",yt=`wc@2:${gt}:`,vt="error",wt={database:":memory:"},bt="client_ed25519_seed",Et=E.ONE_DAY,_t=E.SIX_HOURS,It="irn",St="wss://relay.walletconnect.com",Ot="wss://relay.walletconnect.org",Tt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Nt="payload",At="connect",Pt="disconnect",Ct="error",xt=E.ONE_SECOND,Rt="subscription_created",Mt="subscription_deleted",jt="subscription_sync",Bt="subscription_resubscribed",kt=1e3*E.FIVE_SECONDS,Dt={wc_pairingDelete:{req:{ttl:E.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:E.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:E.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:E.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:E.ONE_DAY,prompt:!1,tag:0},res:{ttl:E.ONE_DAY,prompt:!1,tag:0}}},Ut={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Lt="history_created",Ft="history_updated",zt="history_deleted",Gt="history_sync",$t={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Vt="verify-api",qt="https://verify.walletconnect.com",Ht="https://verify.walletconnect.org",Kt=[qt,Ht];class Wt{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=yt,this.init=async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,y.generateChildLogger)(t,this.name)}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,C.mapToObj)(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?(0,C.objToMap)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Zt{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();return N(A(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const e=(0,C.generateKeyPair)();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();const t=A(await this.getClientSeed()),r=(0,C.generateRandomBytes32)(),n=Et;return await P(r,e,n,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();const n=this.getPrivateKey(e),i=(0,C.deriveSymKey)(n,t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();const r=t||(0,C.hashKey)(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();const n=(0,C.validateEncoding)(r),i=(0,o.u)(t);if((0,C.isTypeOneEnvelope)(n)){const t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}const s=this.getSymKey(e),{type:a,senderPublicKey:u}=n;return(0,C.encrypt)({type:a,symKey:s,message:i,senderPublicKey:u})},this.decode=async(e,t,r)=>{this.isInitialized();const n=(0,C.validateDecoding)(t,r);if((0,C.isTypeOneEnvelope)(n)){const t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{const r=this.getSymKey(e),n=(0,C.decrypt)({symKey:r,encoded:t});return(0,o.D)(n)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=e=>{const t=(0,C.deserialize)(e);return(0,C.decodeTypeByte)(t.type)},this.getPayloadSenderPublicKey=e=>{const t=(0,C.deserialize)(e);return t.senderPublicKey?(0,x.BB)(t.senderPublicKey,C.BASE16):void 0},this.core=e,this.logger=(0,y.generateChildLogger)(t,this.name),this.keychain=r||new Wt(this.core,this.logger)}get context(){return(0,y.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(bt)}catch{e=(0,C.generateRandomBytes32)(),await this.keychain.set(bt,e)}return function(e,t="utf8"){const r=mt[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):dt(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Yt extends v.kZ{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=yt,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();const r=(0,C.hashMessage)(t);let n=this.messages.get(e);return typeof n>"u"&&(n={}),typeof n[r]<"u"||(n[r]=t,this.messages.set(e,n),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();return typeof this.get(e)[(0,C.hashMessage)(t)]<"u"},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,y.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,C.mapToObj)(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?(0,C.objToMap)(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Jt extends v.z9{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new n.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,E.toMiliseconds)(E.ONE_MINUTE),this.failedPublishTimeout=(0,E.toMiliseconds)(E.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});const i=r?.ttl||_t,s=(0,C.getRelayProtocolName)(r),a=r?.prompt||!1,o=r?.tag||0,u=r?.id||(0,R.getBigIntRpcId)().toString(),c={topic:e,message:t,opts:{ttl:i,relay:s,prompt:a,tag:o,id:u}},l=`Failed to publish payload, please try again. id:${u} tag:${o}`,d=Date.now();let f,h=1;try{for(;void 0===f;){if(Date.now()-d>this.publishTimeout)throw new Error(l);this.logger.trace({id:u,attempts:h},`publisher.publish - attempt ${h}`),f=await await(0,C.createExpiringPromise)(this.rpcPublish(e,t,i,s,a,o,u).catch((e=>this.logger.warn(e))),this.publishTimeout,l),h++,f||await new Promise((e=>setTimeout(e,this.failedPublishTimeout)))}this.relayer.events.emit(Tt.publish,c),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:u,topic:e,message:t,opts:r}})}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw e;this.queue.set(u,c)}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,y.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,y.getLoggerContext)(this.logger)}rpcPublish(e,t,r,n,i,s,a){var o,u,c,l;const d={method:(0,C.getRelayProtocolApi)(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:s},id:a};return(0,C.isUndefined)(null==(o=d.params)?void 0:o.prompt)&&(null==(u=d.params)||delete u.prompt),(0,C.isUndefined)(null==(c=d.params)?void 0:c.tag)&&(null==(l=d.params)||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async e=>{const{topic:t,message:r,opts:n}=e;await this.publish(t,r,n)}))}registerEventListeners(){this.relayer.core.heartbeat.on(g.HEARTBEAT_EVENTS.pulse,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(Tt.connection_stalled);this.checkQueue()})),this.relayer.on(Tt.message_ack,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}class Xt{constructor(){this.map=new Map,this.set=(e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const n=r.filter((e=>e!==t));n.length?this.map.set(e,n):this.map.delete(e)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var Qt=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,rr=Object.getOwnPropertySymbols,nr=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable,sr=(e,t,r)=>t in e?Qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ar=(e,t)=>{for(var r in t||(t={}))nr.call(t,r)&&sr(e,r,t[r]);if(rr)for(var r of rr(t))ir.call(t,r)&&sr(e,r,t[r]);return e},or=(e,t)=>er(e,tr(t));class ur extends v.sY{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Xt,this.events=new n.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=yt,this.subscribeTimeout=(0,E.toMiliseconds)(E.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const r=(0,C.getRelayProtocolName)(t),n={topic:e,relay:r};this.pending.set(e,n);const i=await this.rpcSubscribe(e,r);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>{if(this.topics.includes(e))return!0;const t=`${this.pendingSubscriptionWatchLabel}_${e}`;return await new Promise(((r,n)=>{const i=new E.Watch;i.start(t);const s=setInterval((()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),i.stop(t),r(!0)),i.elapsed(t)>=kt&&(clearInterval(s),i.stop(t),n(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,y.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map((async r=>await this.unsubscribeById(e,r,t))))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const n=(0,C.getRelayProtocolName)(r);await this.rpcUnsubscribe(e,t,n);const i=(0,C.getSdkError)("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){const r={method:(0,C.getRelayProtocolApi)(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await(0,C.createExpiringPromise)(this.relayer.request(r).catch((e=>this.logger.warn(e))),this.subscribeTimeout)?(0,C.hashMessage)(e+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Tt.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,r={method:(0,C.getRelayProtocolApi)(t.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await(0,C.createExpiringPromise)(this.relayer.request(r).catch((e=>this.logger.warn(e))),this.subscribeTimeout)}catch{this.relayer.events.emit(Tt.connection_stalled)}}rpcUnsubscribe(e,t,r){const n={method:(0,C.getRelayProtocolApi)(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,or(ar({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,ar({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,ar({},t)),this.topicMap.set(t.topic,e),this.events.emit(Rt,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Mt,or(ar({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(jt)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(e)}}this.events.emit(Bt)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=(0,C.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);(0,C.isValidArray)(t)&&this.onBatchSubscribe(t.map(((t,r)=>or(ar({},e[r]),{id:t}))))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(g.HEARTBEAT_EVENTS.pulse,(async()=>{await this.checkPending()})),this.events.on(Rt,(async e=>{const t=Rt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(Mt,(async e=>{const t=Mt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.restartInProgress||(clearInterval(t),e())}),this.pollingInterval)}))}}var cr=Object.defineProperty,lr=Object.getOwnPropertySymbols,dr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,hr=(e,t,r)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class pr extends v.oe{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new n.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,E.toMiliseconds)(E.THIRTY_SECONDS+E.ONE_SECOND),this.request=async e=>{var t,r;this.logger.debug("Publishing Request Payload");const n=e.id||(0,R.getBigIntRpcId)().toString();await this.toEstablishConnection();try{const i=this.provider.request(e);this.requestsInFlight.set(n,{promise:i,request:e}),this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(e,t)=>{const r=()=>{t(new Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(Pt,r);const s=await i;this.provider.off(Pt,r),e(s)}));return this.logger.trace({id:n,method:e.method,topic:null==(r=e.params)?void 0:r.topic},"relayer.request - published"),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if((0,C.isNode)())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,r;null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)||r.terminate()}),this.heartBeatTimeout)}catch(e){this.logger.warn(e)}},this.onPayloadHandler=e=>{this.onProviderPayload(e),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit(Tt.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(Tt.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Nt,this.onPayloadHandler),this.provider.on(At,this.onConnectHandler),this.provider.on(Pt,this.onDisconnectHandler),this.provider.on(Ct,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?(0,y.generateChildLogger)(e.logger,this.name):(0,y.pino)((0,y.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new Yt(this.logger,e.core),this.subscriber=new ur(this,this.logger),this.publisher=new Jt(this,this.logger),this.relayUrl=e?.relayUrl||St,this.projectId=e.projectId,this.bundleId=(0,C.getBundleId)(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Ot}...`),await this.restartTransport(Ot)}this.initialized=!0,setTimeout((async()=>{0===this.subscriber.topics.length&&0===this.subscriber.pending.size&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)}),1e4)}get context(){return(0,y.getLoggerContext)(this.logger)}get connected(){var e,t,r;return 1===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}get connecting(){var e,t,r;return 0===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var r;this.isInitialized();let n,i=(null==(r=this.subscriber.topicMap.get(e))?void 0:r[0])||"";const s=t=>{t.topic===e&&(this.subscriber.off(Rt,s),n())};return await Promise.all([new Promise((e=>{n=e,this.subscriber.on(Rt,s)})),new Promise((async r=>{i=await this.subscriber.subscribe(e,t)||i,r()}))]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((e=>e.promise)))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await(0,C.createExpiringPromise)(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect(),await this.createProvider()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(e,t)=>{const r=()=>{this.provider.off(Pt,r),t(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Pt,r),await(0,C.createExpiringPromise)(this.provider.connect(),(0,E.toMiliseconds)(E.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch((e=>{t(e)})),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(e){this.logger.error(e);const t=e;if(!this.isConnectionStalled(t.message))throw e}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await(0,C.isOnline)())throw new Error("No internet connection detected. Please restart your network and try again.")}startPingTimeout(){var e,t,r,n,i;if((0,C.isNode)())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(e){this.logger.warn(e)}}isConnectionStalled(e){return this.staleConnectionErrors.some((t=>e.includes(t)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new M(new k((0,C.formatRelayRpcUrl)({sdkVersion:"2.11.3",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const n=this.messages.has(t,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,R.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:r,message:n,publishedAt:i}=t.data,s={topic:r,message:n,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((e,t)=>{for(var r in t||(t={}))dr.call(t,r)&&hr(e,r,t[r]);if(lr)for(var r of lr(t))fr.call(t,r)&&hr(e,r,t[r]);return e})({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}else(0,R.isJsonRpcResponse)(e)&&this.events.emit(Tt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Tt.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=(0,R.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Nt,this.onPayloadHandler),this.provider.off(At,this.onConnectHandler),this.provider.off(Pt,this.onDisconnectHandler),this.provider.off(Ct,this.onProviderErrorHandler)}async registerEventListeners(){let e=await(0,C.isOnline)();(0,C.subscribeToNetworkChange)((async t=>{e!==t&&(e=t,t?await this.restartTransport().catch((e=>this.logger.error(e))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.events.emit(Tt.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e)))}),(0,E.toMiliseconds)(xt))}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((e=>{const t=setInterval((()=>{this.connected&&(clearInterval(t),e())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var mr=Object.defineProperty,gr=Object.getOwnPropertySymbols,yr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,wr=(e,t,r)=>t in e?mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,br=(e,t)=>{for(var r in t||(t={}))yr.call(t,r)&&wr(e,r,t[r]);if(gr)for(var r of gr(t))vr.call(t,r)&&wr(e,r,t[r]);return e};class Er extends v.pZ{constructor(e,t,r,n=yt,i=undefined){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=yt,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!(0,C.isUndefined)(e)?this.map.set(this.getKey(e),e):(0,C.isProposalStruct)(e)?this.map.set(e.id,e):(0,C.isSessionStruct)(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((r=>U()(t[r],e[r]))))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const r=br(br({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())},this.logger=(0,y.generateChildLogger)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=(0,C.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class _r{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(i()),this.initialized=!1,this.storagePrefix=yt,this.ignoredPayloadTypes=[C.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{this.isInitialized();const e=(0,C.generateRandomBytes32)(),t=await this.core.crypto.setSymKey(e),r=(0,C.calcExpiry)(E.FIVE_MINUTES),n={protocol:It},i={topic:t,expiry:r,relay:n,active:!1},s=(0,C.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:e,relay:n,expiryTimestamp:r});return await this.pairings.set(t,i),await this.core.relayer.subscribe(t),this.core.expirer.set(t,r),{topic:t,uri:s}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);const{topic:t,symKey:r,relay:n,expiryTimestamp:i}=(0,C.parseUri)(e.uri);let s;if(this.pairings.keys.includes(t)&&(s=this.pairings.get(t),s.active))throw new Error(`Pairing already exists: ${t}. Please try again with a new connection URI.`);const a=i||(0,C.calcExpiry)(E.FIVE_MINUTES),o={topic:t,relay:n,expiry:a,active:!1};return await this.pairings.set(t,o),this.core.expirer.set(t,a),e.activatePairing&&await this.activate({topic:t}),this.events.emit(Ut.create,o),this.core.crypto.keychain.has(t)||await this.core.crypto.setSymKey(r,t),await this.core.relayer.subscribe(t,{relay:n}),o},this.activate=async({topic:e})=>{this.isInitialized();const t=(0,C.calcExpiry)(E.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=(0,C.createDelayedPromise)();this.events.once((0,C.engineEvent)("pairing_ping",e),(({error:e})=>{e?i(e):n()})),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",(0,C.getSdkError)("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,r)=>{const n=(0,R.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),s=Dt[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id},this.sendResult=async(e,t,r)=>{const n=(0,R.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),s=await this.core.history.get(t,e),a=Dt[s.request.method].res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)},this.sendError=async(e,t,r)=>{const n=(0,R.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),s=await this.core.history.get(t,e),a=Dt[s.request.method]?Dt[s.request.method].res:Dt.unregistered_method.res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,(0,C.getSdkError)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{const e=this.pairings.getAll().filter((e=>(0,C.isExpired)(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))},this.onRelayEventRequest=e=>{const{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(Ut.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{const{id:r}=t;setTimeout((()=>{(0,R.isJsonRpcResult)(t)?this.events.emit((0,C.engineEvent)("pairing_ping",r),{}):(0,R.isJsonRpcError)(t)&&this.events.emit((0,C.engineEvent)("pairing_ping",r),{error:t.error})}),500)},this.onPairingDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(Ut.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{const{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;const t=(0,C.getSdkError)("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error((0,C.getSdkError)("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{var t;if(!(0,C.isValidParams)(e)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`pair() params: ${e}`);throw new Error(t)}if(!(0,C.isValidUrl)(e.uri)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw new Error(t)}const r=(0,C.parseUri)(e.uri);if(null==(t=r?.relay)||!t.protocol){const{message:e}=(0,C.getInternalError)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(e)}if(null==r||!r.symKey){const{message:e}=(0,C.getInternalError)("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,E.toMiliseconds)(r?.expiryTimestamp)<Date.now()){const{message:e}=(0,C.getInternalError)("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}},this.isValidPing=async e=>{if(!(0,C.isValidParams)(e)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!(0,C.isValidParams)(e)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!(0,C.isValidString)(e,!1)){const{message:t}=(0,C.getInternalError)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if((0,C.isExpired)(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=(0,C.getInternalError)("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}},this.core=e,this.logger=(0,y.generateChildLogger)(t,this.name),this.pairings=new Er(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,y.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Tt.message,(async e=>{const{topic:t,message:r}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const n=await this.core.crypto.decode(t,r);try{(0,R.isJsonRpcRequest)(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):(0,R.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(e){this.logger.error(e)}}))}registerExpirerEvents(){this.core.expirer.on($t.expired,(async e=>{const{topic:t}=(0,C.parseExpirerTarget)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(Ut.expire,{topic:t}))}))}}class Ir extends v.yy{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new n.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=yt,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;const n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:(0,C.calcExpiry)(E.THIRTY_DAYS)};this.records.set(n.id,n),this.events.emit(Lt,n)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,R.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(Ft,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((r=>{if(r.topic===e){if(typeof t<"u"&&r.id!==t)return;this.records.delete(r.id),this.events.emit(zt,r)}}))},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,y.generateChildLogger)(t,this.name)}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:(0,R.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Gt)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=(0,C.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Lt,(e=>{const t=Lt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(Ft,(e=>{const t=Ft;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.events.on(zt,(e=>{const t=zt;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})),this.core.heartbeat.on(g.HEARTBEAT_EVENTS.pulse,(()=>{this.cleanup()}))}cleanup(){try{this.records.forEach((e=>{(0,E.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))}))}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Sr extends v.D3{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new n.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=yt,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}},this.set=(e,t)=>{this.isInitialized();const r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit($t.created,{target:r,expiration:n})},this.get=e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit($t.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,y.generateChildLogger)(t,this.name)}get context(){return(0,y.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return(0,C.formatTopicTarget)(e);if("number"==typeof e)return(0,C.formatIdTarget)(e);const{message:t}=(0,C.getInternalError)("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit($t.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=(0,C.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=(0,C.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:r}=t;(0,E.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit($t.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(g.HEARTBEAT_EVENTS.pulse,(()=>this.checkExpirations())),this.events.on($t.created,(e=>{const t=$t.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on($t.expired,(e=>{const t=$t.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on($t.deleted,(e=>{const t=$t.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=(0,C.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}}}class Or extends v.Yo{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Vt,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async e=>{if(this.verifyDisabled||(0,C.isReactNative)()||!(0,C.isBrowser)())return;const t=this.getVerifyUrl(e?.verifyUrl);this.verifyUrl!==t&&this.removeIframe(),this.verifyUrl=t;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Ht;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e),this.verifyDisabled=!0}}},this.register=async e=>{this.initialized?this.sendPost(e.attestationId):(this.addToQueue(e.attestationId),await this.init())},this.resolve=async e=>{if(this.isDevEnv)return"";const t=this.getVerifyUrl(e?.verifyUrl);let r;try{r=await this.fetchAttestation(e.attestationId,t)}catch(n){this.logger.info(`failed to resolve attestation: ${e.attestationId} from url: ${t}`),this.logger.info(n),r=await this.fetchAttestation(e.attestationId,Ht)}return r},this.fetchAttestation=async(e,t)=>{this.logger.info(`resolving attestation: ${e} from url: ${t}`);const r=this.startAbortTimer(2*E.ONE_SECOND),n=await fetch(`${t}/attestation/${e}`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.addToQueue=e=>{this.queue.push(e)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach((e=>this.sendPost(e))),this.queue=[])},this.sendPost=e=>{var t;try{if(!this.iframe)return;null==(t=this.iframe.contentWindow)||t.postMessage(e,"*"),this.logger.info(`postMessage sent: ${e} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let e;const t=r=>{"verify_ready"===r.data&&(this.onInit(),window.removeEventListener("message",t),e())};await Promise.race([new Promise((r=>{const n=document.getElementById(Vt);if(n)return this.iframe=n,this.onInit(),r();window.addEventListener("message",t);const i=document.createElement("iframe");i.id=Vt,i.src=`${this.verifyUrl}/${this.projectId}`,i.style.display="none",document.body.append(i),this.iframe=i,e=r})),new Promise(((e,r)=>setTimeout((()=>{window.removeEventListener("message",t),r("verify iframe load timeout")}),(0,E.toMiliseconds)(E.FIVE_SECONDS))))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=e=>{let t=e||qt;return Kt.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${qt}`),t=qt),t},this.logger=(0,y.generateChildLogger)(t,this.name),this.verifyUrl=qt,this.abortController=new AbortController,this.isDevEnv=(0,C.isNode)()&&z.env.IS_VITEST}get context(){return(0,y.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,E.toMiliseconds)(e))}}class Tr extends v.pX{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{const{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await F()(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})},this.logger=(0,y.generateChildLogger)(t,this.context)}}var Nr=Object.defineProperty,Ar=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,xr=(e,t,r)=>t in e?Nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rr=(e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&xr(e,r,t[r]);if(Ar)for(var r of Ar(t))Cr.call(t,r)&&xr(e,r,t[r]);return e};class Mr extends v.N1{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=gt,this.events=new n.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||St,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,y.pino)((0,y.getDefaultLoggerOptions)({level:e?.logger||vt}));this.logger=(0,y.generateChildLogger)(t,this.name),this.heartbeat=new g.HeartBeat,this.crypto=new Zt(this,this.logger,e?.keychain),this.history=new Ir(this,this.logger),this.expirer=new Sr(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new m(Rr(Rr({},wt),e?.storageOptions)),this.relayer=new pr({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new _r(this,this.logger),this.verify=new Or(this.projectId||"",this.logger),this.echoClient=new Tr(this.projectId||"",this.logger)}static async init(e){const t=new Mr(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,y.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const jr=Mr},819305:(e,t,r)=>{"use strict";r.d(t,{aesCbcDecrypt:()=>h,aesCbcEncrypt:()=>f,hmacSha256Sign:()=>p,randomBytes:()=>i});var n=r(401468);function i(e){return n.getBrowerCrypto().getRandomValues(new Uint8Array(e))}const s=256,a=256,o="AES-CBC",u=`SHA-${s}`,c="HMAC";var l=r(282073);async function d(e,t=o){return n.getSubtleCrypto().importKey("raw",e,function(e){return e===o?{length:s,name:o}:{hash:{name:u},name:c}}(t),!0,function(e){return e===o?[l.Bp,l.W]:[l.rQ,l.bE]}(t))}function f(e,t,r){return async function(e,t,r){const i=n.getSubtleCrypto(),s=await d(t,o),a=await i.encrypt({iv:e,name:o},s,r);return new Uint8Array(a)}(e,t,r)}function h(e,t,r){return async function(e,t,r){const i=n.getSubtleCrypto(),s=await d(t,o),a=await i.decrypt({iv:e,name:o},s,r);return new Uint8Array(a)}(e,t,r)}async function p(e,t){const r=await async function(e,t){const r=n.getSubtleCrypto(),i=await d(e,c),s=await r.sign({length:a,name:c},i,t);return new Uint8Array(s)}(e,t);return r}},282073:(e,t,r)=>{"use strict";r.d(t,{Bp:()=>n,W:()=>i,bE:()=>a,rQ:()=>s});const n="encrypt",i="decrypt",s="sign",a="verify"},152707:(e,t,r)=>{"use strict";r.d(t,{A7:()=>b,KT:()=>I,L_:()=>S,OG:()=>w,QM:()=>f,ZV:()=>v,Zr:()=>y,_W:()=>c,ek:()=>h,eu:()=>g,oO:()=>p,w3:()=>E,wL:()=>T,xb:()=>O});r(804501);var n=r(665054),i=r.n(n),s=r(348764).Buffer;const a="hex",o="utf8",u="0";function c(e){return new Uint8Array(e)}function l(e,t=!1){const r=e.toString(a);return t?S(r):r}function d(e){return e.toString(o)}function f(e){return i()(e)}function h(e,t=!1){return l(f(e),t)}function p(e){return d(f(e))}function m(e){return s.from(I(e),a)}function g(e){return c(m(e))}function y(e){return s.from(e,o)}function v(e){return c(y(e))}function w(e,t=!1){return l(y(e),t)}function b(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function E(...e){let t=[];return e.forEach((e=>t=t.concat(Array.from(e)))),new Uint8Array([...t])}function _(e,t=8,r=u){return function(e,t,r=u){return N(e,t,!0,r)}(e,function(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}(e.length,t),r)}function I(e){return e.replace(/^0x/,"")}function S(e){return e.startsWith("0x")?e:`0x${e}`}function O(e){return(e=_(e=I(e),2))&&(e=S(e)),e}function T(e){const t=e.startsWith("0x");return e=(e=I(e)).startsWith(u)?e.substring(1):e,t?S(e):e}function N(e,t,r,n=u){const i=t-e.length;let s=e;if(i>0){const t=n.repeat(i);s=r?t+e:e+t}return s}},140926:(e,t,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){const e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},588618:(e,t,r)=>{"use strict";var n=r(734155);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},401468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(570655);n.__exportStar(r(140926),t),n.__exportStar(r(588618),t)},238200:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});class n{}},430997:(e,t,r)=>{"use strict";if(r.r(t),r.d(t,{IEvents:()=>n.q}),3352==r.j)var n=r(238200)},432568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;const n=r(466736);t.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},553401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(570655).__exportStar(r(432568),t)},738969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;const n=r(570655),i=r(717187),s=r(466736),a=r(901614),o=r(553401);class u extends a.IHeartBeat{constructor(e){super(e),this.events=new i.EventEmitter,this.interval=o.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||o.HEARTBEAT_INTERVAL}static init(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=new u(e);return yield t.init(),t}))}init(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.initialize()}))}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return n.__awaiter(this,void 0,void 0,(function*(){this.intervalRef=setInterval((()=>this.pulse()),s.toMiliseconds(this.interval))}))}pulse(){this.events.emit(o.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=u},490772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(570655);n.__exportStar(r(738969),t),n.__exportStar(r(901614),t),n.__exportStar(r(553401),t)},544174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;const n=r(430997);class i extends n.IEvents{constructor(e){super()}}t.IHeartBeat=i},901614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(570655).__exportStar(r(544174),t)},635885:(e,t,r)=>{"use strict";if(r.d(t,{x0:()=>n.x0}),3352==r.j)var n=r(839887)},170847:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});class n{}},839887:(e,t,r)=>{"use strict";if(r.d(t,{x0:()=>s}),3352==r.j)var n=r(170847);class i extends(3352==r.j?n.q:null){constructor(){super()}}class s extends(3352==r.j?i:null){constructor(e){super()}}},579806:(e,t,r)=>{"use strict";r.d(t,{CA:()=>i,JV:()=>o,O4:()=>n,dQ:()=>s,xK:()=>a});const n="INTERNAL_ERROR",i="SERVER_ERROR",s=3352==r.j?[-32700,-32600,-32601,-32602,-32603]:null,a={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},o=3352==r.j?i:null},709698:(e,t,r)=>{"use strict";var n=r(401468);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return n.getBigIntRpcId}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}}),r.o(n,"payloadId")&&r.d(t,{payloadId:function(){return n.payloadId}})},990110:(e,t,r)=>{"use strict";r.d(t,{CX:()=>o,L2:()=>a,by:()=>s,i5:()=>i});var n=r(579806);function i(e){return n.dQ.includes(e)}function s(e){return Object.keys(n.xK).includes(e)?n.xK[e]:n.xK[n.JV]}function a(e){const t=Object.values(n.xK).find((t=>t.code===e));return t||n.xK[n.JV]}function o(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}},171937:(e,t,r)=>{"use strict";r.d(t,{CS:()=>a,RI:()=>c,o0:()=>s,sT:()=>o,tm:()=>u});var n=r(990110),i=r(579806);function s(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function a(e=6){return BigInt(s(e))}function o(e,t,r){return{id:r||s(),jsonrpc:"2.0",method:e,params:t}}function u(e,t){return{id:e,jsonrpc:"2.0",result:t}}function c(e,t,r){return{id:e,jsonrpc:"2.0",error:l(t,r)}}function l(e,t){return void 0===e?(0,n.by)(i.O4):("string"==typeof e&&(e=Object.assign(Object.assign({},(0,n.by)(i.CA)),{message:e})),void 0!==t&&(e.data=t),(0,n.i5)(e.code)&&(e=(0,n.L2)(e.code)),e)}},956186:(e,t,r)=>{"use strict";r.d(t,{IJsonRpcProvider:()=>a.x0,formatJsonRpcError:()=>s.RI,formatJsonRpcRequest:()=>s.sT,formatJsonRpcResult:()=>s.tm,getBigIntRpcId:()=>s.CS,isJsonRpcError:()=>u.jg,isJsonRpcRequest:()=>u.DW,isJsonRpcResponse:()=>u.u,isJsonRpcResult:()=>u.k4,isLocalhostUrl:()=>o.JF,isWsUrl:()=>o.UZ,parseConnectionError:()=>n.CX,payloadId:()=>s.o0});r(579806);var n=r(990110),i=r(709698);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"getBigIntRpcId")&&r.d(t,{getBigIntRpcId:function(){return i.getBigIntRpcId}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}}),r.o(i,"payloadId")&&r.d(t,{payloadId:function(){return i.payloadId}});var s=r(171937);if(3352==r.j)var a=r(626043);if(3352==r.j)var o=r(846119);if(3352==r.j)var u=r(784733)},626043:(e,t,r)=>{"use strict";if(r.d(t,{x0:()=>n.x0}),3352==r.j)var n=r(635885)},846119:(e,t,r)=>{"use strict";r.d(t,{JF:()=>a,UZ:()=>s});const n="^wss?:";function i(e,t){const r=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function s(e){return i(e,n)}function a(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}},784733:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function s(e){return n(e)&&(a(e)||o(e))}function a(e){return"result"in e}function o(e){return"error"in e}r.d(t,{DW:()=>i,jg:()=>o,k4:()=>a,u:()=>s})},72030:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},965727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},109107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;const n=r(570655),i=n.__importDefault(r(536559));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(965727),t),n.__exportStar(r(358048),t)},358048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;const n=r(965727);function i(e,t=n.PINO_CUSTOM_CONTEXT_KEY){return e[t]||""}function s(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){return e[r]=t,e}function a(e,t=n.PINO_CUSTOM_CONTEXT_KEY){let r="";return r=void 0===e.bindings?i(e,t):e.bindings().context||"",r}function o(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=a(e,r);return i.trim()?`${i}/${t}`:t}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||n.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=s,t.getLoggerContext=a,t.formatChildLoggerContext=o,t.generateChildLogger=function(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){const i=o(e,t,r);return s(e.child({context:i}),i,r)}},561882:()=>{},294168:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,GS:()=>m,Hc:()=>d,Hk:()=>f,M_:()=>p,RB:()=>n,S4:()=>c,ac:()=>a,b$:()=>o,dB:()=>l,vV:()=>u,xM:()=>i,xV:()=>h});const n="EdDSA",i="JWT",s=".",a="base64url",o="utf8",u="utf8",c=":",l="did",d="key",f="base58btc",h="z",p="K36",m=32},443014:()=>{},885094:(e,t,r)=>{"use strict";r.d(t,{D:()=>s,u:()=>a});const n=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),i=e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))};function s(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return i(e)}catch(t){return e}}function a(e){return"string"==typeof e?e:n(e)||""}},997709:(e,t,r)=>{"use strict";if(r.r(t),r.d(t,{ENGINE_CONTEXT:()=>N,ENGINE_QUEUE_STATES:()=>C,ENGINE_RPC_OPTS:()=>A,HISTORY_CONTEXT:()=>b,HISTORY_EVENTS:()=>w,HISTORY_STORAGE_VERSION:()=>E,METHODS_TO_VERIFY:()=>R,PROPOSAL_CONTEXT:()=>_,PROPOSAL_EXPIRY:()=>I,PROPOSAL_EXPIRY_MESSAGE:()=>S,REQUEST_CONTEXT:()=>x,SESSION_CONTEXT:()=>O,SESSION_EXPIRY:()=>T,SESSION_REQUEST_EXPIRY_BOUNDARIES:()=>P,SIGN_CLIENT_CONTEXT:()=>h,SIGN_CLIENT_DEFAULT:()=>m,SIGN_CLIENT_EVENTS:()=>g,SIGN_CLIENT_PROTOCOL:()=>d,SIGN_CLIENT_STORAGE_OPTIONS:()=>y,SIGN_CLIENT_STORAGE_PREFIX:()=>p,SIGN_CLIENT_VERSION:()=>f,SessionStore:()=>K,SignClient:()=>W,WALLETCONNECT_DEEPLINK_CHOICE:()=>v,default:()=>H}),3352==r.j)var n=r(38392);var i=r(109107);if(3352==r.j)var s=r(128041);if(3352==r.j)var a=r(225550);var o=r(717187),u=r.n(o),c=r(466736),l=r(956186);const d="wc",f=2,h="client",p=`${d}@${f}:${h}:`,m={name:h,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},g={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_request_expire:"session_request_expire"},y={database:":memory:"},v="WALLETCONNECT_DEEPLINK_CHOICE",w={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},b="history",E="0.3",_="proposal",I=3352==r.j?c.THIRTY_DAYS:null,S="Proposal expired",O="session",T=3352==r.j?c.SEVEN_DAYS:null,N="engine",A={wc_sessionPropose:{req:{ttl:c.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:c.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:c.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:c.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:c.ONE_DAY,prompt:!1,tag:1104},res:{ttl:c.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:c.ONE_DAY,prompt:!1,tag:1106},res:{ttl:c.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:c.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:c.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:c.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:c.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:c.ONE_DAY,prompt:!1,tag:1112},res:{ttl:c.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:c.ONE_DAY,prompt:!1,tag:1114},res:{ttl:c.ONE_DAY,prompt:!1,tag:1115}}},P={min:c.FIVE_MINUTES,max:c.SEVEN_DAYS},C={idle:"IDLE",active:"ACTIVE"},x="request",R=3352==r.j?["wc_sessionPropose","wc_sessionRequest","wc_authRequest"]:null;var M=Object.defineProperty,j=Object.defineProperties,B=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,L=(e,t,r)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))D.call(t,r)&&L(e,r,t[r]);if(k)for(var r of k(t))U.call(t,r)&&L(e,r,t[r]);return e},z=(e,t)=>j(e,B(t));class G extends(3352==r.j?s.W3:null){constructor(e){super(e),this.name=N,this.events=new(u()),this.initialized=!1,this.ignoredPayloadTypes=[a.TYPE_1],this.requestQueue={state:C.idle,queue:[]},this.sessionRequestQueue={state:C.idle,queue:[]},this.requestQueueDelay=c.ONE_SECOND,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(A)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,c.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();const t=z(F({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:u}=t;let l,d=r,f=!1;try{d&&(f=this.client.core.pairing.pairings.get(d).active)}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),e}if(!d||!f){const{topic:e,uri:t}=await this.client.core.pairing.create();d=e,l=t}if(!d){const{message:e}=(0,a.getInternalError)("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(e)}const h=await this.client.core.crypto.generateKeyPair(),p=A.wc_sessionPropose.req.ttl||c.FIVE_MINUTES,m=(0,a.calcExpiry)(p),g=F({requiredNamespaces:i,optionalNamespaces:s,relays:u??[{protocol:n.ZF}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:m},o&&{sessionProperties:o}),{reject:y,resolve:v,done:w}=(0,a.createDelayedPromise)(p,S);this.events.once((0,a.engineEvent)("session_connect"),(async({error:e,session:t})=>{if(e)y(e);else if(t){t.self.publicKey=h;const e=z(F({},t),{requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),d&&await this.client.core.pairing.updateMetadata({topic:d,metadata:t.peer.metadata}),v(e)}}));const b=await this.sendRequest({topic:d,method:"wc_sessionPropose",params:g,throwOnFailedPublish:!0});return await this.setProposal(b,F({id:b},g)),{uri:l,approval:w}},this.pair=async e=>{await this.isInitialized();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}},this.approve=async e=>{await this.isInitialized();try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),e}const{id:t,relayProtocol:r,namespaces:n,sessionProperties:i}=e;let s;try{s=this.client.proposal.get(t)}catch(e){throw this.client.logger.error(`approve() -> proposal.get(${t}) failed`),e}let{pairingTopic:o,proposer:u,requiredNamespaces:c,optionalNamespaces:l}=s;o=o||"";const d=await this.client.core.crypto.generateKeyPair(),f=u.publicKey,h=await this.client.core.crypto.generateSharedKey(d,f),p=F({relay:{protocol:r??"irn"},namespaces:n,pairingTopic:o,controller:{publicKey:d,metadata:this.client.metadata},expiry:(0,a.calcExpiry)(T)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(h);const m=z(F({},p),{topic:h,requiredNamespaces:c,optionalNamespaces:l,pairingTopic:o,acknowledged:!1,self:p.controller,peer:{publicKey:u.publicKey,metadata:u.metadata},controller:d});await this.client.session.set(h,m);try{await this.sendResult({id:t,topic:o,result:{relay:{protocol:r??"irn"},responderPublicKey:d},throwOnFailedPublish:!0}),await this.sendRequest({topic:h,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0})}catch(e){throw this.client.logger.error(e),this.client.session.delete(h,(0,a.getSdkError)("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(h),e}return await this.client.core.pairing.updateMetadata({topic:o,metadata:u.metadata}),await this.client.proposal.delete(t,(0,a.getSdkError)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o}),await this.setExpiry(h,(0,a.calcExpiry)(T)),{topic:h,acknowledged:()=>new Promise((e=>setTimeout((()=>e(this.client.session.get(h))),500)))}},this.reject=async e=>{await this.isInitialized();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}const{id:t,reason:r}=e;let n;try{n=this.client.proposal.get(t).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),e}n&&(await this.sendError(t,n,r),await this.client.proposal.delete(t,(0,a.getSdkError)("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}const{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=(0,a.createDelayedPromise)(),o=(0,l.payloadId)(),u=(0,l.getBigIntRpcId)().toString(),c=this.client.session.get(t).namespaces;return this.events.once((0,a.engineEvent)("session_update",o),(async({error:e})=>{e?s(e):(await this.client.session.update(t,{namespaces:r}),i())})),this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:u}).catch((e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)})),{acknowledged:n}},this.extend=async e=>{await this.isInitialized();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}const{topic:t}=e,r=(0,l.payloadId)(),{done:n,resolve:i,reject:s}=(0,a.createDelayedPromise)();return this.events.once((0,a.engineEvent)("session_extend",r),(({error:e})=>{e?s(e):i()})),await this.setExpiry(t,(0,a.calcExpiry)(T)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((e=>{s(e)})),{acknowledged:n}},this.request=async e=>{await this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}const{chainId:t,request:r,topic:n,expiry:i=A.wc_sessionRequest.req.ttl}=e,s=(0,l.payloadId)(),o=(0,l.getBigIntRpcId)().toString(),{done:u,resolve:c,reject:d}=(0,a.createDelayedPromise)(i,"Request expired. Please try again.");return this.events.once((0,a.engineEvent)("session_request",s),(({error:e,result:t})=>{e?d(e):c(t)})),await Promise.all([new Promise((async e=>{await this.sendRequest({clientRpcId:s,relayRpcId:o,topic:n,method:"wc_sessionRequest",params:{request:z(F({},r),{expiryTimestamp:(0,a.calcExpiry)(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0}).catch((e=>d(e))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:s}),e()})),new Promise((async e=>{const t=await(0,a.getDeepLink)(this.client.core.storage,v);(0,a.handleDeeplinkRedirect)({id:s,topic:n,wcDeepLink:t}),e()})),u()]).then((e=>e[2]))},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:r}=e,{id:n}=r;(0,l.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0}):(0,l.isJsonRpcError)(r)&&await this.sendError(n,t,r.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=(0,l.payloadId)(),r=(0,l.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:s}=(0,a.createDelayedPromise)();this.events.once((0,a.engineEvent)("session_ping",e),(({error:e})=>{e?s(e):i()})),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);const{topic:t,event:r,chainId:n}=e,i=(0,l.getBigIntRpcId)().toString();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,a.getSdkError)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=(0,a.getInternalError)("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter((t=>(0,a.isSessionCompatible)(t,e)))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async e=>{const{topic:t,expirerHasDeleted:r=!1,emitEvent:n=!0,id:i=0}=e,{self:s}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await this.client.session.delete(t,(0,a.getSdkError)("USER_DISCONNECTED")),this.addToRecentlyDeleted(t,"session"),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),r||this.client.core.expirer.del(t),this.client.core.storage.removeItem(v).catch((e=>this.client.logger.warn(e))),this.getPendingSessionRequests().forEach((e=>{e.topic===t&&this.deletePendingSessionRequest(e.id,(0,a.getSdkError)("USER_DISCONNECTED"))})),n&&this.client.events.emit("session_delete",{id:i,topic:t})},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,(0,a.getSdkError)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((t=>t.id!==e)),r&&(this.sessionRequestQueue.state=C.idle,this.client.events.emit("session_request_expire",{id:e}))},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,(0,a.calcExpiry)(A.wc_sessionPropose.req.ttl))},this.setPendingSessionRequest=async e=>{const{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||(0,a.calcExpiry)(A.wc_sessionRequest.req.ttl);await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i}),s&&this.client.core.expirer.set(t,s)},this.sendRequest=async e=>{const{topic:t,method:r,params:n,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:u}=e,c=(0,l.formatJsonRpcRequest)(r,n,o);if((0,a.isBrowser)()&&R.includes(r)){const e=(0,a.hashMessage)(JSON.stringify(c));this.client.core.verify.register({attestationId:e})}let d;try{d=await this.client.core.crypto.encode(t,c)}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),e}const f=A[r].req;return i&&(f.ttl=i),s&&(f.id=s),this.client.core.history.set(t,c),u?(f.internal=z(F({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,d,f)):this.client.core.relayer.publish(t,d,f).catch((e=>this.client.logger.error(e))),c.id},this.sendResult=async e=>{const{id:t,topic:r,result:n,throwOnFailedPublish:i}=e,s=(0,l.formatJsonRpcResult)(t,n);let a,o;try{a=await this.client.core.crypto.encode(r,s)}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),e}try{o=await this.client.core.history.get(r,t)}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${t}) failed`),e}const u=A[o.request.method].res;i?(u.internal=z(F({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,a,u)):this.client.core.relayer.publish(r,a,u).catch((e=>this.client.logger.error(e))),await this.client.core.history.resolve(s)},this.sendError=async(e,t,r)=>{const n=(0,l.formatJsonRpcError)(e,r);let i,s;try{i=await this.client.core.crypto.encode(t,n)}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${t} failed`),e}try{s=await this.client.core.history.get(t,e)}catch(r){throw this.client.logger.error(`sendError() -> history.get(${t}, ${e}) failed`),r}const a=A[s.request.method].res;this.client.core.relayer.publish(t,i,a),await this.client.core.history.resolve(n)},this.cleanup=async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{let r=!1;(0,a.isExpired)(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{(0,a.isExpired)(e.expiryTimestamp)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession({topic:e}))),...t.map((e=>this.deleteProposal(e)))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==C.active){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=C.active;const e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise((e=>setTimeout(e,300)))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=C.idle}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=e=>{const{topic:t,payload:r}=e,n=r.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(t,r);case"wc_sessionSettle":return this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return this.onSessionExtendRequest(t,r);case"wc_sessionPing":return this.onSessionPingRequest(t,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return this.onSessionRequest(t,r);case"wc_sessionEvent":return this.onSessionEventRequest(t,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async e=>{const{topic:t,payload:r}=e,n=(await this.client.core.history.get(t,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onRelayEventUnknownPayload=e=>{const{topic:t}=e,{message:r}=(0,a.getInternalError)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.onSessionProposeRequest=async(e,t)=>{const{params:r,id:n}=t;try{this.isValidConnect(F({},t.params));const i=r.expiryTimestamp||(0,a.calcExpiry)(A.wc_sessionPropose.req.ttl),s=F({id:n,pairingTopic:e,expiryTimestamp:i},r);await this.setProposal(n,s);const o=(0,a.hashMessage)(JSON.stringify(t)),u=await this.getVerifyContext(o,s.proposer.metadata);this.client.events.emit("session_proposal",{id:n,params:s,verifyContext:u})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{const{id:r}=t;if((0,l.isJsonRpcResult)(t)){const{result:n}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});const i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});const s=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:s});const a=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const o=await this.client.core.crypto.generateSharedKey(s,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:o});const u=await this.client.core.relayer.subscribe(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:e})}else if((0,l.isJsonRpcError)(t)){await this.client.proposal.delete(r,(0,a.getSdkError)("USER_DISCONNECTED"));const e=(0,a.engineEvent)("session_connect");if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit((0,a.engineEvent)("session_connect"),{error:t.error})}},this.onSessionSettleRequest=async(e,t)=>{const{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:u,pairingTopic:c}=t.params,l=F({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:c,requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},u&&{sessionProperties:u});await this.sendResult({id:t.id,topic:e,result:!0,throwOnFailedPublish:!0});const d=(0,a.engineEvent)("session_connect");if(0===this.events.listenerCount(d))throw new Error(`emitting ${d} without any listeners 997`);this.events.emit((0,a.engineEvent)("session_connect"),{session:l}),this.cleanupDuplicatePairings(l)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{const{id:r}=t;(0,l.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,a.engineEvent)("session_approve",r),{})):(0,l.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,a.getSdkError)("USER_DISCONNECTED")),this.events.emit((0,a.engineEvent)("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{const{params:r,id:n}=t;try{const t=`${e}_session_update`,i=a.MemoryStore.get(t);if(i&&this.isRequestOutOfSync(i,n))return this.client.logger.info(`Discarding out of sync request - ${n}`),void this.sendError(n,e,(0,a.getSdkError)("INVALID_UPDATE_REQUEST"));this.isValidUpdate(F({topic:e},r));try{a.MemoryStore.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0})}catch(e){throw a.MemoryStore.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{const{id:r}=t,n=(0,a.engineEvent)("session_update",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);(0,l.isJsonRpcResult)(t)?this.events.emit((0,a.engineEvent)("session_update",r),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,a.engineEvent)("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{const{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,a.calcExpiry)(T)),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{const{id:r}=t,n=(0,a.engineEvent)("session_extend",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);(0,l.isJsonRpcResult)(t)?this.events.emit((0,a.engineEvent)("session_extend",r),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,a.engineEvent)("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{const{id:r}=t,n=(0,a.engineEvent)("session_ping",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);setTimeout((()=>{(0,l.isJsonRpcResult)(t)?this.events.emit((0,a.engineEvent)("session_ping",r),{}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,a.engineEvent)("session_ping",r),{error:t.error})}),500)},this.onSessionDeleteRequest=async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise((t=>{this.client.core.relayer.once(n.Mb.publish,(async()=>{t(await this.deleteSession({topic:e,id:r}))}))})),this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:(0,a.getSdkError)("USER_DISCONNECTED")})])}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async(e,t)=>{const{id:r,params:n}=t;try{this.isValidRequest(F({topic:e},n));const t=(0,a.hashMessage)(JSON.stringify((0,l.formatJsonRpcRequest)("wc_sessionRequest",n,r))),i=this.client.session.get(e),s={id:r,topic:e,params:n,verifyContext:await this.getVerifyContext(t,i.peer.metadata)};await this.setPendingSessionRequest(s),this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue()}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{const{id:r}=t,n=(0,a.engineEvent)("session_request",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);(0,l.isJsonRpcResult)(t)?this.events.emit((0,a.engineEvent)("session_request",r),{result:t.result}):(0,l.isJsonRpcError)(t)&&this.events.emit((0,a.engineEvent)("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{const{id:r,params:n}=t;try{const t=`${e}_session_event_${n.event.name}`,i=a.MemoryStore.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(F({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),a.MemoryStore.set(t,r)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=C.idle,this.processSessionRequestQueue()}),(0,c.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:e,error:t})=>{const r=this.client.core.history.pending;r.length>0&&r.filter((t=>t.topic===e&&"wc_sessionRequest"===t.request.method)).forEach((e=>{const r=e.request.id,n=(0,a.engineEvent)("session_request",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);this.events.emit((0,a.engineEvent)("session_request",e.request.id),{error:t})}))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===C.active)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.sessionRequestQueue.state=C.active,this.client.events.emit("session_request",e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")},this.onPairingCreated=e=>{if(e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest(e.topic,(0,l.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id))},this.isValidConnect=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:s}=e;if((0,a.isUndefined)(t)||await this.isValidPairingTopic(t),!(0,a.isValidRelays)(s,!0)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(e)}!(0,a.isUndefined)(r)&&0!==(0,a.isValidObject)(r)&&this.validateNamespaces(r,"requiredNamespaces"),!(0,a.isUndefined)(n)&&0!==(0,a.isValidObject)(n)&&this.validateNamespaces(n,"optionalNamespaces"),(0,a.isUndefined)(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(e,t)=>{const r=(0,a.isValidRequiredNamespaces)(e,"connect()",t);if(r)throw new Error(r.message)},this.isValidApprove=async e=>{if(!(0,a.isValidParams)(e))throw new Error((0,a.getInternalError)("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:r,relayProtocol:n,sessionProperties:i}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const s=this.client.proposal.get(t),o=(0,a.isValidNamespaces)(r,"approve()");if(o)throw new Error(o.message);const u=(0,a.isConformingNamespaces)(s.requiredNamespaces,r,"approve()");if(u)throw new Error(u.message);if(!(0,a.isValidString)(n,!0)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(e)}(0,a.isUndefined)(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!(0,a.isValidErrorReason)(r)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(e)}},this.isValidSessionSettleRequest=e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!(0,a.isValidRelay)(t)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=(0,a.isValidController)(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=(0,a.isValidNamespaces)(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);if((0,a.isExpired)(i)){const{message:e}=(0,a.getInternalError)("EXPIRED","onSessionSettleRequest()");throw new Error(e)}},this.isValidUpdate=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const n=this.client.session.get(t),i=(0,a.isValidNamespaces)(r,"update()");if(i)throw new Error(i.message);const s=(0,a.isConformingNamespaces)(n.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!(0,a.isValidNamespacesChainId)(s,n)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(e)}if(!(0,a.isValidRequest)(r)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(e)}if(!(0,a.isValidNamespacesRequest)(s,n,r.method)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(e)}if(i&&!(0,a.isValidRequestExpiry)(i,P)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${P.min} and ${P.max}`);throw new Error(e)}},this.isValidRespond=async e=>{var t;if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,a.isValidResponse)(n)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(e)}},this.isValidPing=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!(0,a.isValidNamespacesChainId)(i,n)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(e)}if(!(0,a.isValidEvent)(r)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(e)}if(!(0,a.isValidNamespacesEvent)(i,n,r.name)){const{message:e}=(0,a.getInternalError)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(e)}},this.isValidDisconnect=async e=>{if(!(0,a.isValidParams)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{const r={verified:{verifyUrl:t.verifyUrl||n.sG,validation:"UNKNOWN",origin:t.url||""}};try{const n=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});n&&(r.verified.origin=n.origin,r.verified.isScam=n.isScam,r.verified.validation=n.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.info(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(e,t)=>{Object.values(e).forEach((e=>{if(!(0,a.isValidString)(e,!1)){const{message:r}=(0,a.getInternalError)("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw new Error(r)}}))},this.addToRecentlyDeleted=(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:r}=(0,a.getInternalError)("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(r)}}}async isInitialized(){if(!this.initialized){const{message:e}=(0,a.getInternalError)("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(n.Mb.message,(async e=>{const{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;const n=await this.client.core.crypto.decode(t,r);try{(0,l.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):(0,l.isJsonRpcResponse)(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.client.core.history.delete(t,n.id)):this.onRelayEventUnknownPayload({topic:t,payload:n})}catch(e){this.client.logger.error(e)}}))}registerExpirerEvents(){this.client.core.expirer.on(n.i9.expired,(async e=>{const{topic:t,id:r}=(0,a.parseExpirerTarget)(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,(0,a.getInternalError)("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))}))}registerPairingEvents(){this.client.core.pairing.events.on(n.I8.create,(e=>this.onPairingCreated(e))),this.client.core.pairing.events.on(n.I8.delete,(e=>{this.addToRecentlyDeleted(e.topic,"pairing")}))}isValidPairingTopic(e){if(!(0,a.isValidString)(e,!1)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=(0,a.getInternalError)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if((0,a.isExpired)(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=(0,a.getInternalError)("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!(0,a.isValidString)(e,!1)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=(0,a.getInternalError)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if((0,a.isExpired)(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=(0,a.getInternalError)("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if((0,a.isValidString)(e,!1)){const{message:t}=(0,a.getInternalError)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!(0,a.isValidId)(e)){const{message:t}=(0,a.getInternalError)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=(0,a.getInternalError)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if((0,a.isExpired)(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=(0,a.getInternalError)("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class $ extends(3352==r.j?n.yh:null){constructor(e,t){super(e,t,_,p),this.core=e,this.logger=t}}class V extends(3352==r.j?n.yh:null){constructor(e,t){super(e,t,O,p),this.core=e,this.logger=t}}class q extends(3352==r.j?n.yh:null){constructor(e,t){super(e,t,x,p,(e=>e.id)),this.core=e,this.logger=t}}class H extends(3352==r.j?s.lV:null){constructor(e){super(e),this.protocol=d,this.version=f,this.name=m.name,this.events=new o.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||m.name,this.metadata=e?.metadata||(0,a.getAppMetadata)();const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:(0,i.pino)((0,i.getDefaultLoggerOptions)({level:e?.logger||m.logger}));this.core=e?.core||new n.QY(e),this.logger=(0,i.generateChildLogger)(t,this.name),this.session=new V(this.core,this.logger),this.proposal=new $(this.core,this.logger),this.pendingRequest=new q(this.core,this.logger),this.engine=new G(this)}static async init(e){const t=new H(e);return await t.initialize(),t}get context(){return(0,i.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const K=3352==r.j?V:null,W=3352==r.j?H:null},836900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(570655);n.__exportStar(r(46869),t),n.__exportStar(r(488033),t)},46869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},488033:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},466736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(570655);n.__exportStar(r(144273),t),n.__exportStar(r(547001),t),n.__exportStar(r(152939),t),n.__exportStar(r(836900),t)},152939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(570655).__exportStar(r(188766),t)},188766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},483207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const n=r(836900);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},483873:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}},144273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(570655);n.__exportStar(r(483873),t),n.__exportStar(r(483207),t)},547001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(void 0!==t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){const t=this.timestamps.get(e);if(void 0===t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},128041:(e,t,r)=>{"use strict";if(r.d(t,{D3:()=>d,N1:()=>i,W3:()=>m,Yo:()=>f,kZ:()=>a,lV:()=>p,oe:()=>u,pX:()=>h,pZ:()=>c,sY:()=>l,yy:()=>s,z9:()=>o}),3352==r.j)var n=r(238200);r(717187);class i extends(3352==r.j?n.q:null){constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class s extends(3352==r.j?n.q:null){constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class a{constructor(e,t){this.logger=e,this.core=t}}class o extends(3352==r.j?n.q:null){constructor(e,t){super(),this.relayer=e,this.logger=t}}class u extends(3352==r.j?n.q:null){constructor(e){super()}}class c{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class l extends(3352==r.j?n.q:null){constructor(e,t){super(),this.relayer=e,this.logger=t}}class d extends(3352==r.j?n.q:null){constructor(e,t){super(),this.core=e,this.logger=t}}class f{constructor(e,t){this.projectId=e,this.logger=t}}class h{constructor(e,t){this.projectId=e,this.logger=t}}class p{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class m{constructor(e){this.client=e}}},225550:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BASE10:()=>k,BASE16:()=>D,BASE64:()=>U,COLON:()=>me,DEFAULT_DEPTH:()=>ye,EMPTY_SPACE:()=>pe,ENV_MAP:()=>he,INTERNAL_ERRORS:()=>Ut,MemoryStore:()=>Cr,ONE_THOUSAND:()=>ve,REACT_NATIVE_PRODUCT:()=>fe,RELAYER_DEFAULT_PROTOCOL:()=>rt,SDK_ERRORS:()=>Dt,SDK_TYPE:()=>we,SLASH:()=>ge,TYPE_0:()=>F,TYPE_1:()=>z,UTF8:()=>L,appendToQueryString:()=>Oe,assertType:()=>Me,buildApprovedNamespaces:()=>Mt,calcExpiry:()=>Ye,capitalize:()=>$e,capitalizeWord:()=>Ge,createDelayedPromise:()=>Ve,createExpiringPromise:()=>qe,decodeTypeByte:()=>X,decrypt:()=>ee,deriveSymKey:()=>W,deserialize:()=>re,encodeTypeByte:()=>J,encrypt:()=>Q,engineEvent:()=>Xe,enumify:()=>ze,formatAccountId:()=>b,formatAccountWithChain:()=>S,formatChainId:()=>v,formatExpirerTarget:()=>He,formatIdTarget:()=>We,formatMessage:()=>B,formatMessageContext:()=>Be,formatRelayParams:()=>yt,formatRelayRpcUrl:()=>xe,formatTopicTarget:()=>Ke,formatUA:()=>Ce,formatUri:()=>vt,generateKeyPair:()=>H,generateRandomBytes32:()=>K,getAccountsChains:()=>At,getAccountsFromNamespaces:()=>N,getAddressFromAccount:()=>_,getAddressesFromAccounts:()=>O,getAppMetadata:()=>Te,getBrowserOnlineStatus:()=>Ir,getBundleId:()=>Se,getChainFromAccount:()=>I,getChainsFromAccounts:()=>T,getChainsFromNamespace:()=>C,getChainsFromNamespaces:()=>A,getChainsFromRequiredNamespaces:()=>P,getDeepLink:()=>tt,getDidAddress:()=>j,getDidAddressSegments:()=>x,getDidChainId:()=>R,getEnvironment:()=>Ie,getHttpUrl:()=>Re,getInternalError:()=>Lt,getJavascriptID:()=>Pe,getJavascriptOS:()=>Ae,getLastItems:()=>De,getNamespacedDidChainId:()=>M,getNamespacesChains:()=>Pt,getNamespacesEventsForChainId:()=>xt,getNamespacesMethodsForChainId:()=>Ct,getNodeOnlineStatus:()=>Or,getReactNativeOnlineStatus:()=>Sr,getRelayClientMetadata:()=>Ne,getRelayProtocolApi:()=>it,getRelayProtocolName:()=>nt,getRequiredNamespacesFromNamespaces:()=>Rt,getSdkError:()=>Ft,getUniqueValues:()=>E,handleDeeplinkRedirect:()=>et,hasOverlap:()=>ke,hashKey:()=>Z,hashMessage:()=>Y,isBrowser:()=>_e,isCaipNamespace:()=>jt,isConformingNamespaces:()=>wr,isExpired:()=>Je,isNode:()=>be,isOnline:()=>_r,isProposalStruct:()=>Yt,isReactNative:()=>Ee,isSessionCompatible:()=>Ht,isSessionStruct:()=>Jt,isTypeOneEnvelope:()=>se,isUndefined:()=>$t,isValidAccountId:()=>Wt,isValidAccounts:()=>rr,isValidActions:()=>ir,isValidArray:()=>zt,isValidChainId:()=>Kt,isValidChains:()=>er,isValidController:()=>Xt,isValidErrorReason:()=>fr,isValidEvent:()=>mr,isValidId:()=>lr,isValidNamespaceAccounts:()=>nr,isValidNamespaceActions:()=>sr,isValidNamespaceChains:()=>tr,isValidNamespaceMethodsOrEvents:()=>Qt,isValidNamespaces:()=>or,isValidNamespacesChainId:()=>gr,isValidNamespacesEvent:()=>vr,isValidNamespacesRequest:()=>yr,isValidNumber:()=>qt,isValidObject:()=>Gt,isValidParams:()=>dr,isValidRelay:()=>ur,isValidRelays:()=>cr,isValidRequest:()=>hr,isValidRequestExpiry:()=>Er,isValidRequiredNamespaces:()=>ar,isValidResponse:()=>pr,isValidString:()=>Vt,isValidUrl:()=>Zt,mapEntries:()=>Fe,mapToObj:()=>Ue,mergeArrays:()=>Qe,normalizeNamespaces:()=>kt,objToMap:()=>Le,parseAccountId:()=>w,parseChainId:()=>y,parseContextNames:()=>je,parseExpirerTarget:()=>Ze,parseNamespaceKey:()=>Bt,parseRelayParams:()=>pt,parseTopic:()=>gt,parseUri:()=>mt,serialize:()=>te,subscribeToBrowserNetworkChange:()=>Nr,subscribeToNetworkChange:()=>Tr,subscribeToReactNativeNetworkChange:()=>Ar,validateDecoding:()=>ne,validateEncoding:()=>ie});var n=r(915501),i=r(200512),s=r(831416),a=r(273294),o=r(957664),u=r(337466),c=r(243631),l=r(466736),d=r(762873),f=r(565755),h=r(366151);r(561882);const p={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var m=r(734155);const g=":";function y(e){const[t,r]=e.split(g);return{namespace:t,reference:r}}function v(e){const{namespace:t,reference:r}=e;return[t,r].join(g)}function w(e){const[t,r,n]=e.split(g);return{namespace:t,reference:r,address:n}}function b(e){const{namespace:t,reference:r,address:n}=e;return[t,r,n].join(g)}function E(e,t){const r=[];return e.forEach((e=>{const n=t(e);r.includes(n)||r.push(n)})),r}function _(e){const{address:t}=w(e);return t}function I(e){const{namespace:t,reference:r}=w(e);return v({namespace:t,reference:r})}function S(e,t){const{namespace:r,reference:n}=y(t);return b({namespace:r,reference:n,address:e})}function O(e){return E(e,_)}function T(e){return E(e,I)}function N(e,t=[]){const r=[];return Object.keys(e).forEach((n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...i.accounts)})),r}function A(e,t=[]){const r=[];return Object.keys(e).forEach((n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...T(i.accounts))})),r}function P(e,t=[]){const r=[];return Object.keys(e).forEach((n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...C(n,i))})),r}function C(e,t){return e.includes(":")?[e]:t.chains||[]}const x=e=>e?.split(":"),R=e=>{const t=e&&x(e);if(t)return t[3]},M=e=>{const t=e&&x(e);if(t)return t[2]+":"+t[3]},j=e=>{const t=e&&x(e);if(t)return t.pop()},B=(e,t)=>[`${e.domain} wants you to sign in with your Ethereum account:`,j(t),"",e.statement,"",`URI: ${e.aud}`,`Version: ${e.version}`,`Chain ID: ${R(t)}`,`Nonce: ${e.nonce}`,`Issued At: ${e.iat}`,e.resources&&e.resources.length>0?`Resources:\n${e.resources.map((e=>`- ${e}`)).join("\n")}`:void 0].filter((e=>null!=e)).join("\n"),k="base10",D="base16",U="base64pad",L="utf8",F=0,z=1,G=0,$=1,V=12,q=32;function H(){const e=o.Au();return{privateKey:(0,u.BB)(e.secretKey,D),publicKey:(0,u.BB)(e.publicKey,D)}}function K(){const e=(0,s.randomBytes)(q);return(0,u.BB)(e,D)}function W(e,t){const r=o.gi((0,u.mL)(e,D),(0,u.mL)(t,D),!0),n=new i.t(a.mE,r).expand(q);return(0,u.BB)(n,D)}function Z(e){const t=(0,a.vp)((0,u.mL)(e,D));return(0,u.BB)(t,D)}function Y(e){const t=(0,a.vp)((0,u.mL)(e,L));return(0,u.BB)(t,D)}function J(e){return(0,u.mL)(`${e}`,k)}function X(e){return Number((0,u.BB)(e,k))}function Q(e){const t=J(typeof e.type<"u"?e.type:F);if(X(t)===z&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?(0,u.mL)(e.senderPublicKey,D):void 0,i=typeof e.iv<"u"?(0,u.mL)(e.iv,D):(0,s.randomBytes)(V);return te({type:t,sealed:new n.OK((0,u.mL)(e.symKey,D)).seal(i,(0,u.mL)(e.message,L)),iv:i,senderPublicKey:r})}function ee(e){const t=new n.OK((0,u.mL)(e.symKey,D)),{sealed:r,iv:i}=re(e.encoded),s=t.open(i,r);if(null===s)throw new Error("Failed to decrypt");return(0,u.BB)(s,L)}function te(e){if(X(e.type)===z){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return(0,u.BB)((0,u.zo)([e.type,e.senderPublicKey,e.iv,e.sealed]),U)}return(0,u.BB)((0,u.zo)([e.type,e.iv,e.sealed]),U)}function re(e){const t=(0,u.mL)(e,U),r=t.slice(G,$),n=$;if(X(r)===z){const e=n+q,i=e+V,s=t.slice(n,e),a=t.slice(e,i);return{type:r,sealed:t.slice(i),iv:a,senderPublicKey:s}}const i=n+V,s=t.slice(n,i);return{type:r,sealed:t.slice(i),iv:s}}function ne(e,t){const r=re(e);return ie({type:X(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?(0,u.BB)(r.senderPublicKey,D):void 0,receiverPublicKey:t?.receiverPublicKey})}function ie(e){const t=e?.type||F;if(t===z){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function se(e){return e.type===z&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var ae=Object.defineProperty,oe=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,le=(e,t,r)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,de=(e,t)=>{for(var r in t||(t={}))ue.call(t,r)&&le(e,r,t[r]);if(oe)for(var r of oe(t))ce.call(t,r)&&le(e,r,t[r]);return e};const fe="ReactNative",he={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},pe=" ",me=":",ge="/",ye=2,ve=1e3,we="js";function be(){return typeof m<"u"&&typeof m.versions<"u"&&typeof m.versions.node<"u"}function Ee(){return!(0,d.getDocument)()&&!!(0,d.getNavigator)()&&navigator.product===fe}function _e(){return!be()&&!!(0,d.getNavigator)()&&!!(0,d.getDocument)()}function Ie(){return Ee()?he.reactNative:be()?he.node:_e()?he.browser:he.unknown}function Se(){var e;try{return Ee()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function Oe(e,t){let r=h.parse(e);return r=de(de({},r),t),e=h.stringify(r)}function Te(){return(0,f.D)()||{name:"",description:"",url:"",icons:[""]}}function Ne(e,t){var r;const n=Ie(),i={protocol:e,version:t,env:n};return"browser"===n&&(i.host=(null==(r=(0,d.getLocation)())?void 0:r.host)||"unknown"),i}function Ae(){if(Ie()===he.reactNative&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}const e=(0,c.qY)();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function Pe(){var e;const t=Ie();return t===he.browser?[t,(null==(e=(0,d.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}function Ce(e,t,r){const n=Ae(),i=Pe();return[[e,t].join("-"),[we,r].join("-"),n,i].join("/")}function xe({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o}){const u=r.split("?"),c={auth:i,ua:Ce(e,t,n),projectId:s,useOnCloseEvent:a||void 0,origin:o||void 0},l=Oe(u[1]||"",c);return u[0]+"?"+l}function Re(e){let t=(e.match(/^[^:]+(?=:\/\/)/gi)||[])[0];const r=typeof t<"u"?e.split("://")[1]:e;return t="wss"===t?"https":"http",[t,r].join("://")}function Me(e,t,r){if(!e[t]||typeof e[t]!==r)throw new Error(`Missing or invalid "${t}" param`)}function je(e,t=ye){return De(e.split(ge),t)}function Be(e){return je(e).join(pe)}function ke(e,t){return e.filter((e=>t.includes(e))).length===e.length}function De(e,t=ye){return e.slice(Math.max(e.length-t,0))}function Ue(e){return Object.fromEntries(e.entries())}function Le(e){return new Map(Object.entries(e))}function Fe(e,t){const r={};return Object.keys(e).forEach((n=>{r[n]=t(e[n])})),r}const ze=e=>e;function Ge(e){return e.trim().replace(/^\w/,(e=>e.toUpperCase()))}function $e(e){return e.split(pe).map((e=>Ge(e))).join(pe)}function Ve(e=l.FIVE_MINUTES,t){const r=(0,l.toMiliseconds)(e||l.FIVE_MINUTES);let n,i,s;return{resolve:e=>{s&&n&&(clearTimeout(s),n(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,a)=>{s=setTimeout((()=>{a(new Error(t))}),r),n=e,i=a}))}}function qe(e,t,r){return new Promise((async(n,i)=>{const s=setTimeout((()=>i(new Error(r))),t);try{n(await e)}catch(e){i(e)}clearTimeout(s)}))}function He(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Ke(e){return He("topic",e)}function We(e){return He("id",e)}function Ze(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);n.id=Number(r)}return n}function Ye(e,t){return(0,l.fromMiliseconds)((t||Date.now())+(0,l.toMiliseconds)(e))}function Je(e){return Date.now()>=(0,l.toMiliseconds)(e)}function Xe(e,t){return`${e}${t?`:${t}`:""}`}function Qe(e=[],t=[]){return[...new Set([...e,...t])]}async function et({id:e,topic:t,wcDeepLink:n}){try{if(!n)return;const i="string"==typeof n?JSON.parse(n):n;let s=i?.href;if("string"!=typeof s)return;s.endsWith("/")&&(s=s.slice(0,-1));const a=`${s}/wc?requestId=${e}&sessionTopic=${t}`,o=Ie();o===he.browser?a.startsWith("https://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,"_self","noreferrer noopener"):o===he.reactNative&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(a)}catch(e){console.error(e)}}async function tt(e,t){try{return await e.getItem(t)||(_e()?localStorage.getItem(t):void 0)}catch(e){console.error(e)}}const rt="irn";function nt(e){return e?.relay||{protocol:rt}}function it(e){const t=p[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var st=Object.defineProperty,at=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,ct=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,dt=(e,t,r)=>t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ft=(e,t)=>{for(var r in t||(t={}))ct.call(t,r)&&dt(e,r,t[r]);if(ut)for(var r of ut(t))lt.call(t,r)&&dt(e,r,t[r]);return e},ht=(e,t)=>at(e,ot(t));function pt(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(n)){const i=t.replace(n,""),s=e[t];r[i]=s}})),r}function mt(e){const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",a=h.parse(s);return{protocol:n,topic:gt(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:pt(a),expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function gt(e){return e.startsWith("//")?e.substring(2):e}function yt(e,t="-"){const r={};return Object.keys(e).forEach((n=>{const i="relay"+t+n;e[n]&&(r[i]=e[n])})),r}function vt(e){return`${e.protocol}:${e.topic}@${e.version}?`+h.stringify(ht(ft({symKey:e.symKey},yt(e.relay)),{expiryTimestamp:e.expiryTimestamp}))}var wt=Object.defineProperty,bt=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,Ot=(e,t,r)=>t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tt=(e,t)=>{for(var r in t||(t={}))It.call(t,r)&&Ot(e,r,t[r]);if(_t)for(var r of _t(t))St.call(t,r)&&Ot(e,r,t[r]);return e},Nt=(e,t)=>bt(e,Et(t));function At(e){const t=[];return e.forEach((e=>{const[r,n]=e.split(":");t.push(`${r}:${n}`)})),t}function Pt(e){const t=[];return Object.values(e).forEach((e=>{t.push(...At(e.accounts))})),t}function Ct(e,t){const r=[];return Object.values(e).forEach((e=>{At(e.accounts).includes(t)&&r.push(...e.methods)})),r}function xt(e,t){const r=[];return Object.values(e).forEach((e=>{At(e.accounts).includes(t)&&r.push(...e.events)})),r}function Rt(e,t){const r=or(e,t);if(r)throw new Error(r.message);const n={};for(const[t,r]of Object.entries(e))n[t]={methods:r.methods,events:r.events,chains:r.accounts.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))};return n}function Mt(e){const{proposal:{requiredNamespaces:t,optionalNamespaces:r={}},supportedNamespaces:n}=e,i=kt(t),s=kt(r),a={};Object.keys(n).forEach((e=>{const t=n[e].chains,r=n[e].methods,i=n[e].events,s=n[e].accounts;t.forEach((t=>{if(!s.some((e=>e.includes(t))))throw new Error(`No accounts provided for chain ${t} in namespace ${e}`)})),a[e]={chains:t,methods:r,events:i,accounts:s}}));const o=wr(t,a,"approve()");if(o)throw new Error(o.message);const u={};return Object.keys(t).length||Object.keys(r).length?(Object.keys(i).forEach((e=>{const t=n[e].chains.filter((t=>{var r,n;return null==(n=null==(r=i[e])?void 0:r.chains)?void 0:n.includes(t)})),r=n[e].methods.filter((t=>{var r,n;return null==(n=null==(r=i[e])?void 0:r.methods)?void 0:n.includes(t)})),s=n[e].events.filter((t=>{var r,n;return null==(n=null==(r=i[e])?void 0:r.events)?void 0:n.includes(t)})),a=t.map((t=>n[e].accounts.filter((e=>e.includes(`${t}:`))))).flat();u[e]={chains:t,methods:r,events:s,accounts:a}})),Object.keys(s).forEach((e=>{var t,r,i,a,o,c;if(!n[e])return;const l=null==(r=null==(t=s[e])?void 0:t.chains)?void 0:r.filter((t=>n[e].chains.includes(t))),d=n[e].methods.filter((t=>{var r,n;return null==(n=null==(r=s[e])?void 0:r.methods)?void 0:n.includes(t)})),f=n[e].events.filter((t=>{var r,n;return null==(n=null==(r=s[e])?void 0:r.events)?void 0:n.includes(t)})),h=l?.map((t=>n[e].accounts.filter((e=>e.includes(`${t}:`))))).flat();u[e]={chains:Qe(null==(i=u[e])?void 0:i.chains,l),methods:Qe(null==(a=u[e])?void 0:a.methods,d),events:Qe(null==(o=u[e])?void 0:o.events,f),accounts:Qe(null==(c=u[e])?void 0:c.accounts,h)}})),u):a}function jt(e){return e.includes(":")}function Bt(e){return jt(e)?e.split(":")[0]:e}function kt(e){var t,r,n;const i={};if(!Gt(e))return i;for(const[s,a]of Object.entries(e)){const e=jt(s)?[s]:a.chains,o=a.methods||[],u=a.events||[],c=Bt(s);i[c]=Nt(Tt({},i[c]),{chains:Qe(e,null==(t=i[c])?void 0:t.chains),methods:Qe(o,null==(r=i[c])?void 0:r.methods),events:Qe(u,null==(n=i[c])?void 0:n.events)})}return i}const Dt={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ut={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Lt(e,t){const{message:r,code:n}=Ut[e];return{message:t?`${r} ${t}`:r,code:n}}function Ft(e,t){const{message:r,code:n}=Dt[e];return{message:t?`${r} ${t}`:r,code:n}}function zt(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function Gt(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function $t(e){return typeof e>"u"}function Vt(e,t){return!(!t||!$t(e))||"string"==typeof e&&!!e.trim().length}function qt(e,t){return!(!t||!$t(e))||"number"==typeof e&&!isNaN(e)}function Ht(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return!!ke(i,n)&&(n.forEach((t=>{const{accounts:n,methods:i,events:a}=e.namespaces[t],o=At(n),u=r[t];ke(C(t,u),o)&&ke(u.methods,i)&&ke(u.events,a)||(s=!1)})),s)}function Kt(e){return!(!Vt(e,!1)||!e.includes(":"))&&2===e.split(":").length}function Wt(e){if(Vt(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&Kt(e)}}return!1}function Zt(e){if(Vt(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function Yt(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function Jt(e){return e?.topic}function Xt(e,t){let r=null;return Vt(e?.publicKey,!1)||(r=Lt("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function Qt(e){let t=!0;return zt(e)?e.length&&(t=e.every((e=>Vt(e,!1)))):t=!1,t}function er(e,t,r){let n=null;return zt(t)&&t.length?t.forEach((e=>{n||Kt(e)||(n=Ft("UNSUPPORTED_CHAINS",`${r}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):Kt(e)||(n=Ft("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function tr(e,t,r){let n=null;return Object.entries(e).forEach((([e,i])=>{if(n)return;const s=er(e,C(e,i),`${t} ${r}`);s&&(n=s)})),n}function rr(e,t){let r=null;return zt(e)?e.forEach((e=>{r||Wt(e)||(r=Ft("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):r=Ft("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function nr(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const n=rr(e?.accounts,`${t} namespace`);n&&(r=n)})),r}function ir(e,t){let r=null;return Qt(e?.methods)?Qt(e?.events)||(r=Ft("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Ft("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function sr(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const n=ir(e,`${t}, namespace`);n&&(r=n)})),r}function ar(e,t,r){let n=null;if(e&&Gt(e)){const i=sr(e,t);i&&(n=i);const s=tr(e,t,r);s&&(n=s)}else n=Lt("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function or(e,t){let r=null;if(e&&Gt(e)){const n=sr(e,t);n&&(r=n);const i=nr(e,t);i&&(r=i)}else r=Lt("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function ur(e){return Vt(e.protocol,!0)}function cr(e,t){let r=!1;return t&&!e?r=!0:e&&zt(e)&&e.length&&e.forEach((e=>{r=ur(e)})),r}function lr(e){return"number"==typeof e}function dr(e){return typeof e<"u"&&null!==typeof e}function fr(e){return!!(e&&"object"==typeof e&&e.code&&qt(e.code,!1)&&e.message&&Vt(e.message,!1))}function hr(e){return!($t(e)||!Vt(e.method,!1))}function pr(e){return!($t(e)||$t(e.result)&&$t(e.error)||!qt(e.id,!1)||!Vt(e.jsonrpc,!1))}function mr(e){return!($t(e)||!Vt(e.name,!1))}function gr(e,t){return!(!Kt(t)||!Pt(e).includes(t))}function yr(e,t,r){return!!Vt(r,!1)&&Ct(e,t).includes(r)}function vr(e,t,r){return!!Vt(r,!1)&&xt(e,t).includes(r)}function wr(e,t,r){let n=null;const i=function(e){const t={};return Object.keys(e).forEach((r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach((n=>{t[n]={methods:e[r].methods,events:e[r].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((r=>{if(r.includes(":"))t[r]=e[r];else{const n=At(e[r].accounts);n?.forEach((n=>{t[n]={accounts:e[r].accounts.filter((e=>e.includes(`${n}:`))),methods:e[r].methods,events:e[r].events}}))}})),t}(t),a=Object.keys(i),o=Object.keys(s),u=br(Object.keys(e)),c=br(Object.keys(t)),l=u.filter((e=>!c.includes(e)));return l.length&&(n=Lt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${l.toString()}\n      Received: ${Object.keys(t).toString()}`)),ke(a,o)||(n=Lt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${a.toString()}\n      Approved: ${o.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||n)return;const i=At(t[e].accounts);i.includes(e)||(n=Lt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))})),a.forEach((e=>{n||(ke(i[e].methods,s[e].methods)?ke(i[e].events,s[e].events)||(n=Lt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=Lt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))})),n}function br(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function Er(e,t){return qt(e,!1)&&e<=t.max&&e>=t.min}function _r(){const e=Ie();return new Promise((t=>{switch(e){case he.browser:t(Ir());break;case he.reactNative:t(Sr());break;case he.node:default:t(!0)}}))}function Ir(){return _e()&&navigator?.onLine}async function Sr(){if(Ee()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const e=await(null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}function Or(){return!0}function Tr(e){switch(Ie()){case he.browser:Nr(e);break;case he.reactNative:Ar(e);case he.node:}}function Nr(e){!Ee()&&_e()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}function Ar(e){Ee()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener((t=>e(t?.isConnected)))}const Pr={};class Cr{static get(e){return Pr[e]}static set(e,t){Pr[e]=t}static delete(e){delete Pr[e]}}},366151:(e,t,r)=>{"use strict";const n=r(970610),i=r(444020),s=r(480500),a=r(92806),o=Symbol("encodeFragmentIdentifier");function u(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?i(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function f(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function h(e){const t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){u((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return(e,r,n)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&l(r,e).includes(e.arrayFormatSeparator);r=s?l(r,e):r;const a=i||s?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(n[t]=r?l(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],s):n[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const i of e.split("&")){if(""===i)continue;let[e,a]=s(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:l(a,t),r(l(e,t),a,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else n[e]=p(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=d(r):e[t]=r,e}),Object.create(null))}t.extract=h,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";u((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",i,"]"].join("")]:[...r,[c(t,e),"[",c(i,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[c(r,e),t,c(i,e)].join("")]:[[n,c(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const i=e[r];return void 0===i?"":null===i?c(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":i.reduce(n(r),[]).join("&"):c(r,t)+"="+c(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=s(e,"#");return Object.assign({url:r.split("?")[0]||"",query:m(h(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[o]:!0},r);const n=f(e.url).split("?")[0]||"",i=t.extract(e.url),s=t.parse(i,{sort:!1}),a=Object.assign(s,e.query);let u=t.stringify(a,r);u&&(u=`?${u}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[o]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${u}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[o]:!1},n);const{url:i,query:s,fragmentIdentifier:u}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:a(s,r),fragmentIdentifier:u},n)},t.exclude=(e,r,n)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},762873:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){const t=r(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},565755:(e,t,r)=>{"use strict";t.D=void 0;const n=r(762873);t.D=function(){let e,t;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function r(...t){const r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){const n=r[e],i=["itemprop","property","name"].map((e=>n.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(i.length&&i){const e=n.getAttribute("content");if(e)return e}}return""}const i=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){const i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const n=t.pathname.split("/");n.pop();r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:i}}},5126:()=>{},804620:()=>{},929316:(e,t,r)=>{"use strict";r.d(t,{BrowserQRCodeReader:()=>E});var n,i=r(158315),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.buffer=t.makeBufferFromCanvasImageData(r),n}return s(t,e),t.makeBufferFromCanvasImageData=function(e){var r=e.getContext("2d");if(!r)throw new Error("Couldn't get canvas context.");var n=r.getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(n.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,t,r){for(var n=new Uint8ClampedArray(t*r),i=0,s=0,a=e.length;i<a;i+=4,s++){var o=void 0;if(0===e[i+3])o=255;else o=306*e[i]+601*e[i+1]+117*e[i+2]+512>>10;n[s]=o}return n},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new i.IllegalArgumentException("Requested row is outside the image: "+e);var r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(t,r,n,i){return e.prototype.crop.call(this,t,r,n,i),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.invert=function(){return new i.InvertedLuminanceSource(this)},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var n=e*t.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*s),o=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*s);r.width=a,r.height=o;var u=r.getContext("2d");if(!u)throw new Error("Could not create a Canvas Context element.");return u.translate(a/2,o/2),u.rotate(n),u.drawImage(this.canvas,i/-2,s/-2),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.DEGREE_TO_RADIANS=Math.PI/180,t}(i.LuminanceSource);r(5126),r(804620);function o(){return"undefined"!=typeof navigator}function u(){return!!(o()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}var c=function(){return c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))},d=function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},f=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},h={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},p=function(){function e(e,t,r){void 0===t&&(t=new Map),void 0===r&&(r={}),this.reader=e,this.hints=t,this.options=c(c({},h),r)}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(e){this.hints.set(i.DecodeHintType.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),e.addVideoSource=function(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}},e.mediaStreamSetTorch=function(e,t){return l(this,void 0,void 0,(function(){return d(this,(function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}}))}))},e.mediaStreamIsTorchCompatible=function(t){var r,n,i=t.getVideoTracks();try{for(var s=f(i),a=s.next();!a.done;a=s.next()){var o=a.value;if(e.mediaStreamIsTorchCompatibleTrack(o))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return!1},e.mediaStreamIsTorchCompatibleTrack=function(e){try{return"torch"in e.getCapabilities()}catch(e){return console.error(e),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},e.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},e.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new i.ArgumentException("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new i.ArgumentException("element with id '"+e+"' must be an "+t+" element");return r},e.createVideoElement=function(t){if(t instanceof HTMLVideoElement)return t;if("string"==typeof t)return e.getMediaElement(t,"video");if(!t&&"undefined"!=typeof document){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},e.prepareImageElement=function(t){if(t instanceof HTMLImageElement)return t;if("string"==typeof t)return e.getMediaElement(t,"img");if(void 0===t){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},e.prepareVideoElement=function(t){var r=e.createVideoElement(t);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},e.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.createBinaryBitmapFromCanvas=function(e){var t=new a(e),r=new i.HybridBinarizer(t);return new i.BinaryBitmap(r)},e.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},e.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},e.createCaptureCanvas=function(t){if(!t)throw new i.ArgumentException("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var r=document.createElement("canvas"),n=e.getMediaElementDimensions(t),s=n.width,a=n.height;return r.style.width=s+"px",r.style.height=a+"px",r.width=s,r.height=a,r},e.tryPlayVideo=function(t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:if(null==t?void 0:t.ended)return console.error("Trying to play video that has ended."),[2,!1];if(e.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}}))}))},e.createCanvasFromMediaElement=function(t){var r=e.createCaptureCanvas(t),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return e.drawImageOnCanvas(n,t),r},e.createBinaryBitmapFromMediaElem=function(t){var r=e.createCanvasFromMediaElement(t);return e.createBinaryBitmapFromCanvas(r)},e.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},e.listVideoInputDevices=function(){return l(this,void 0,void 0,(function(){var e,t,r,n,i,s,a,c,l,h,p,m;return d(this,(function(d){switch(d.label){case 0:if(!o())throw new Error("Can't enumerate devices, navigator is not present.");if(!u())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=d.sent(),t=[];try{for(r=f(e),n=r.next();!n.done;n=r.next())i=n.value,"videoinput"===(s="video"===i.kind?"videoinput":i.kind)&&(a=i.deviceId||i.id,c=i.label||"Video device "+(t.length+1),l=i.groupId,h={deviceId:a,label:c,kind:s,groupId:l},t.push(h))}catch(e){p={error:e}}finally{try{n&&!n.done&&(m=r.return)&&m.call(r)}finally{if(p)throw p.error}}return[2,t]}}))}))},e.findDeviceById=function(t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:return[4,e.listVideoInputDevices()];case 1:return(r=n.sent())?[2,r.find((function(e){return e.deviceId===t}))]:[2]}}))}))},e.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch(t){e.src=""}e&&e.removeAttribute("src")}},e.releaseAllStreams=function(){0!==e.streamTracker.length&&e.streamTracker.forEach((function(e){e.getTracks().forEach((function(e){return e.stop()}))})),e.streamTracker=[]},e.playVideoOnLoadAsync=function(t,r){return l(this,void 0,void 0,(function(){return d(this,(function(n){switch(n.label){case 0:return[4,e.tryPlayVideo(t)];case 1:return n.sent()?[2,!0]:[2,new Promise((function(n,i){var s=setTimeout((function(){e.isVideoPlaying(t)||(i(!1),t.removeEventListener("canplay",a))}),r),a=function(){e.tryPlayVideo(t).then((function(e){clearTimeout(s),t.removeEventListener("canplay",a),n(e)}))};t.addEventListener("canplay",a)}))]}}))}))},e.attachStreamToVideo=function(t,r,n){return void 0===n&&(n=5e3),l(this,void 0,void 0,(function(){var i;return d(this,(function(s){switch(s.label){case 0:return i=e.prepareVideoElement(r),e.addVideoSource(i,t),[4,e.playVideoOnLoadAsync(i,n)];case 1:return s.sent(),[2,i]}}))}))},e._waitImageLoad=function(t){return new Promise((function(r,n){var i=setTimeout((function(){e.isImageLoaded(t)||(t.removeEventListener("load",s),n())}),1e4),s=function(){clearTimeout(i),t.removeEventListener("load",s),r()};t.addEventListener("load",s)}))},e.checkCallbackFnOrThrow=function(e){if(!e)throw new i.ArgumentException("`callbackFn` is a required parameter, you cannot capture results without it.")},e.disposeMediaStream=function(e){e.getVideoTracks().forEach((function(e){return e.stop()})),e=void 0},e.prototype.decode=function(t){var r=e.createCanvasFromMediaElement(t);return this.decodeFromCanvas(r)},e.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},e.prototype.decodeFromCanvas=function(t){var r=e.createBinaryBitmapFromCanvas(t);return this.decodeBitmap(r)},e.prototype.decodeFromImageElement=function(t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:if(!t)throw new i.ArgumentException("An image element must be provided.");return r=e.prepareImageElement(t),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}}))}))},e.prototype.decodeFromImageUrl=function(t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:if(!t)throw new i.ArgumentException("An URL must be provided.");(r=e.prepareImageElement()).src=t,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return e.destroyImageElement(r),[7];case 4:return[2]}}))}))},e.prototype.decodeFromConstraints=function(t,r,n){return l(this,void 0,void 0,(function(){var i,s;return d(this,(function(a){switch(a.label){case 0:return e.checkCallbackFnOrThrow(n),[4,this.getUserMedia(t)];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),e.disposeMediaStream(i),s;case 5:return[2]}}))}))},e.prototype.decodeFromStream=function(t,r,n){return l(this,void 0,void 0,(function(){var i,s,a,o,u,h,p,m,g,y=this;return d(this,(function(v){switch(v.label){case 0:return e.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,e.attachStreamToVideo(t,r,i)];case 1:return s=v.sent(),a=function(){e.disposeMediaStream(t),e.cleanVideoSource(s)},o=this.scan(s,n,a),u=t.getVideoTracks(),h=c(c({},o),{stop:function(){o.stop()},streamVideoConstraintsApply:function(e,t){return l(this,void 0,void 0,(function(){var r,n,i,s,a,o;return d(this,(function(c){switch(c.label){case 0:r=t?u.filter(t):u,c.label=1;case 1:c.trys.push([1,6,7,8]),n=f(r),i=n.next(),c.label=2;case 2:return i.done?[3,5]:[4,i.value.applyConstraints(e)];case 3:c.sent(),c.label=4;case 4:return i=n.next(),[3,2];case 5:return[3,8];case 6:return s=c.sent(),a={error:s},[3,8];case 7:try{i&&!i.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},streamVideoConstraintsGet:function(e){return u.find(e).getConstraints()},streamVideoSettingsGet:function(e){return u.find(e).getSettings()},streamVideoCapabilitiesGet:function(e){return u.find(e).getCapabilities()}}),e.mediaStreamIsTorchCompatible(t)&&(p=null==u?void 0:u.find((function(t){return e.mediaStreamIsTorchCompatibleTrack(t)})),m=function(t){return l(y,void 0,void 0,(function(){return d(this,(function(r){switch(r.label){case 0:return[4,e.mediaStreamSetTorch(p,t)];case 1:return r.sent(),[2]}}))}))},h.switchTorch=m,g=function(){o.stop(),m(!1)},h.stop=g),[2,h]}}))}))},e.prototype.decodeFromVideoDevice=function(t,r,n){return l(this,void 0,void 0,(function(){var i;return d(this,(function(s){switch(s.label){case 0:return e.checkCallbackFnOrThrow(n),i={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(i,r,n)];case 1:return[2,s.sent()]}}))}))},e.prototype.decodeFromVideoElement=function(t,r){return l(this,void 0,void 0,(function(){var n,s;return d(this,(function(a){switch(a.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new i.ArgumentException("A video element must be provided.");return n=e.prepareVideoElement(t),s=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,s)];case 1:return a.sent(),[2,this.scan(n,r)]}}))}))},e.prototype.decodeFromVideoUrl=function(t,r){return l(this,void 0,void 0,(function(){var n,s,a;return d(this,(function(o){switch(o.label){case 0:if(e.checkCallbackFnOrThrow(r),!t)throw new i.ArgumentException("An URL must be provided.");return(n=e.prepareVideoElement()).src=t,s=function(){e.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(n,a)];case 1:return o.sent(),[2,this.scan(n,r,s)]}}))}))},e.prototype.decodeOnceFromConstraints=function(e,t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=n.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.decodeOnceFromStream=function(t,r){return l(this,void 0,void 0,(function(){var n,i;return d(this,(function(s){switch(s.label){case 0:return n=Boolean(r),[4,e.attachStreamToVideo(t,r)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return[2,s.sent()];case 4:return n||e.cleanVideoSource(i),[7];case 5:return[2]}}))}))},e.prototype.decodeOnceFromVideoDevice=function(e,t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:return r={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(r,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.decodeOnceFromVideoElement=function(t){return l(this,void 0,void 0,(function(){var r,n;return d(this,(function(s){switch(s.label){case 0:if(!t)throw new i.ArgumentException("A video element must be provided.");return r=e.prepareVideoElement(t),n=this.options.tryPlayVideoTimeout,[4,e.playVideoOnLoadAsync(r,n)];case 1:return s.sent(),[4,this.scanOneResult(r)];case 2:return[2,s.sent()]}}))}))},e.prototype.decodeOnceFromVideoUrl=function(t){return l(this,void 0,void 0,(function(){var r,n;return d(this,(function(s){switch(s.label){case 0:if(!t)throw new i.ArgumentException("An URL must be provided.");(r=e.prepareVideoElement()).src=t,n=this.decodeOnceFromVideoElement(r),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,n];case 2:return[2,s.sent()];case 3:return e.cleanVideoSource(r),[7];case 4:return[2]}}))}))},e.prototype.scanOneResult=function(e,t,r,n){var s=this;return void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),new Promise((function(a,o){s.scan(e,(function(e,s,u){if(e)return a(e),void u.stop();if(s){if(s instanceof i.NotFoundException&&t)return;if(s instanceof i.ChecksumException&&r)return;if(s instanceof i.FormatException&&n)return;u.stop(),o(s)}}))}))},e.prototype.scan=function(t,r,n){var s=this;e.checkCallbackFnOrThrow(r);var a=e.createCaptureCanvas(t),o=a.getContext("2d");if(!o)throw new Error("Couldn't create canvas for visual element scan.");var u,c=function(){o=void 0,a=void 0},l=!1,d={stop:function(){l=!0,clearTimeout(u),c(),n&&n()}},f=function(){if(!l)try{e.drawImageOnCanvas(o,t);var h=s.decodeFromCanvas(a);r(h,void 0,d),u=setTimeout(f,s.options.delayBetweenScanSuccess)}catch(e){r(void 0,e,d);var p=e instanceof i.ChecksumException,m=e instanceof i.FormatException,g=e instanceof i.NotFoundException;if(p||m||g)return void(u=setTimeout(f,s.options.delayBetweenScanAttempts));c(),n&&n(e)}};return f(),d},e.prototype._decodeOnLoadImage=function(t){return l(this,void 0,void 0,(function(){return d(this,(function(r){switch(r.label){case 0:return e.isImageLoaded(t)?[3,2]:[4,e._waitImageLoad(t)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(t)]}}))}))},e.prototype.getUserMedia=function(t){return l(this,void 0,void 0,(function(){var r;return d(this,(function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=n.sent(),e.streamTracker.push(r),[2,r]}}))}))},e.streamTracker=[],e}(),m=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),g=(function(e){function t(t,r){return e.call(this,new i.AztecCodeReader,t,r)||this}m(t,e)}(p),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),y=(function(e){function t(t,r){return e.call(this,new i.MultiFormatOneDReader(t),t,r)||this}g(t,e)}(p),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),v=(function(e){function t(t,r){return e.call(this,new i.DataMatrixReader,t,r)||this}y(t,e)}(p),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),w=(function(e){function t(t,r){var n=this,s=new i.MultiFormatReader;return s.setHints(t),(n=e.call(this,s,t,r)||this).reader=s,n}v(t,e),Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(i.DecodeHintType.POSSIBLE_FORMATS,e),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),t.prototype.decodeBitmap=function(e){return this.reader.decodeWithState(e)},t.prototype.setHints=function(e){this.hints=e,this.reader.setHints(this.hints)}}(p),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),b=(function(e){function t(t,r){return e.call(this,new i.PDF417Reader,t,r)||this}w(t,e)}(p),function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),E=function(e){function t(t,r){return e.call(this,new i.QRCodeReader,t,r)||this}return b(t,e),t}(p),_="http://www.w3.org/2000/svg",I=(function(){function e(e){if("string"==typeof e){var t=document.getElementById(e);if(!t)throw new Error("Could not find a Container element with '"+e+"'.");this.containerElement=t}else this.containerElement=e}e.prototype.write=function(t,r,n,s){if(0===t.length)throw new i.IllegalArgumentException("Found empty contents");if(r<0||n<0)throw new i.IllegalArgumentException("Requested dimensions are too small: "+r+"x"+n);var a=s&&void 0!==s.get(i.EncodeHintType.MARGIN)?Number.parseInt(s.get(i.EncodeHintType.MARGIN).toString(),10):e.QUIET_ZONE_SIZE,o=this.encode(s,t);return this.renderResult(o,r,n,a)},e.prototype.createSVGElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"svg");return n.setAttributeNS(_,"width",r.toString()),n.setAttributeNS(_,"height",t.toString()),n},e.prototype.createSvgPathPlaceholderElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"path");return n.setAttributeNS(_,"d","M0 0h"+t+"v"+r+"H0z"),n.setAttributeNS(_,"fill","none"),n},e.prototype.createSvgRectElement=function(t,r,n,i){var s=document.createElementNS(e.SVG_NS,"rect");return s.setAttributeNS(_,"x",t.toString()),s.setAttributeNS(_,"y",r.toString()),s.setAttributeNS(_,"height",n.toString()),s.setAttributeNS(_,"width",i.toString()),s.setAttributeNS(_,"fill","#000000"),s},e.prototype.encode=function(e,t){var r=i.QRCodeDecoderErrorCorrectionLevel.L;if(e&&void 0!==e.get(i.EncodeHintType.ERROR_CORRECTION)){var n=e.get(i.EncodeHintType.ERROR_CORRECTION).toString();r=i.QRCodeDecoderErrorCorrectionLevel.fromString(n)}return i.QRCodeEncoder.encode(t,r,e)},e.prototype.renderResult=function(e,t,r,n){var s=e.getMatrix();if(null===s)throw new i.IllegalStateException;var a=s.getWidth(),o=s.getHeight(),u=a+2*n,c=o+2*n,l=Math.max(t,u),d=Math.max(r,c),f=Math.min(Math.floor(l/u),Math.floor(d/c)),h=Math.floor((l-a*f)/2),p=Math.floor((d-o*f)/2),m=this.createSVGElement(l,d),g=this.createSvgPathPlaceholderElement(t,r);m.appendChild(g),this.containerElement.appendChild(m);for(var y=0,v=p;y<o;y++,v+=f)for(var w=0,b=h;w<a;w++,b+=f)if(1===s.get(w,y)){var E=this.createSvgRectElement(b,v,f,f);m.appendChild(E)}return m},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg"}(),"http://www.w3.org/2000/svg");!function(){function e(){}e.prototype.write=function(t,r,n,s){if(0===t.length)throw new i.IllegalArgumentException("Found empty contents");if(r<0||n<0)throw new i.IllegalArgumentException("Requested dimensions are too small: "+r+"x"+n);var a=i.QRCodeDecoderErrorCorrectionLevel.L,o=e.QUIET_ZONE_SIZE;if(s){if(void 0!==s.get(i.EncodeHintType.ERROR_CORRECTION)){var u=s.get(i.EncodeHintType.ERROR_CORRECTION).toString();a=i.QRCodeDecoderErrorCorrectionLevel.fromString(u)}void 0!==s.get(i.EncodeHintType.MARGIN)&&(o=Number.parseInt(s.get(i.EncodeHintType.MARGIN).toString(),10))}var c=i.QRCodeEncoder.encode(t,a,s);return this.renderResult(c,r,n,o)},e.prototype.writeToDom=function(e,t,r,n,i){if("string"==typeof e){var s=document.querySelector(e);if(!s)throw new Error("Could no find the target HTML element.");e=s}var a=this.write(t,r,n,i);e instanceof HTMLElement&&e.appendChild(a)},e.prototype.renderResult=function(e,t,r,n){var s=e.getMatrix();if(null===s)throw new i.IllegalStateException;for(var a=s.getWidth(),o=s.getHeight(),u=a+2*n,c=o+2*n,l=Math.max(t,u),d=Math.max(r,c),f=Math.min(Math.floor(l/u),Math.floor(d/c)),h=Math.floor((l-a*f)/2),p=Math.floor((d-o*f)/2),m=this.createSVGElement(l,d),g=0,y=p;g<o;g++,y+=f)for(var v=0,w=h;v<a;v++,w+=f)if(1===s.get(v,g)){var b=this.createSvgRectElement(w,y,f,f);m.appendChild(b)}return m},e.prototype.createSVGElement=function(e,t){var r=document.createElementNS(I,"svg"),n=e.toString(),i=t.toString();return r.setAttribute("height",i),r.setAttribute("width",n),r.setAttribute("viewBox","0 0 "+n+" "+i),r},e.prototype.createSvgRectElement=function(e,t,r,n){var i=document.createElementNS(I,"rect");return i.setAttribute("x",e.toString()),i.setAttribute("y",t.toString()),i.setAttribute("height",r.toString()),i.setAttribute("width",n.toString()),i.setAttribute("fill","#000000"),i},e.QUIET_ZONE_SIZE=4}()},726841:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(918102),a=r(509802),o=function(e){function t(t,r){return void 0===t&&(t=500),e.call(this,new a.default(r),t,r)||this}return i(t,e),t}(s.BrowserCodeReader);t.BrowserBarcodeReader=o},918102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(713610),i=r(807847),s=r(524082),a=r(697402),o=r(813570),u=r(241748),c=r(285780),l=r(81725),d=function(){function e(e,t,r){void 0===t&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this.hints=r}return e.prototype.getVideoInputDevices=function(){return new Promise((function(e,t){navigator.mediaDevices.enumerateDevices().then((function(t){for(var r=new Array,n=0,s=0,a=t.length;s!==a;s++){var o=t[s];"videoinput"===o.kind&&(r.push(new i.VideoInputDevice(o.deviceId,o.label||"Video source "+n)),n++)}e(r)})).catch((function(e){t(e)}))}))},e.prototype.decodeFromInputVideoDevice=function(e,t){var r;this.reset(),this.prepareVideoElement(t),r=void 0===e?{video:{facingMode:"environment"}}:{video:{deviceId:{exact:e}}};var n=this;return new Promise((function(e,t){navigator.mediaDevices.getUserMedia(r).then((function(r){n.stream=r,n.videoElement.srcObject=r,n.videoPlayingEventListener=function(){n.decodeOnceWithDelay(e,t)},n.videoElement.addEventListener("playing",n.videoPlayingEventListener),n.videoElement.play()})).catch((function(e){t(e)}))}))},e.prototype.decodeFromVideoSource=function(e,t){this.reset(),this.prepareVideoElement(t);var r=this;return new Promise((function(t,n){r.videoPlayEndedEventListener=function(){r.stop(),n(new o.default)},r.videoElement.addEventListener("ended",r.videoPlayEndedEventListener),r.videoPlayingEventListener=function(){r.decodeOnceWithDelay(t,n)},r.videoElement.addEventListener("playing",r.videoPlayingEventListener),r.videoElement.setAttribute("autoplay","true"),r.videoElement.setAttribute("src",e)}))},e.prototype.prepareVideoElement=function(e){void 0===e?(this.videoElement=document.createElement("video"),this.videoElement.width=640,this.videoElement.height=480):this.videoElement="string"==typeof e?this.getMediaElement(e,"video"):e,this.videoElement.setAttribute("autoplay","true"),this.videoElement.setAttribute("muted","true"),this.videoElement.setAttribute("playsinline","true"),this.videoElement.setAttribute("autofocus","true")},e.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(null===r)throw new u.default("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new u.default("element with id '"+e+"' must be an "+t+" element");return r},e.prototype.decodeFromImage=function(e,t){var r=this;if(this.reset(),void 0===e&&void 0===t)throw new u.default("either imageElement with a src set or an url must be provided");this.prepareImageElement(e);var n=this;return new Promise((function(e,i){if(void 0!==t)n.imageLoadedEventListener=function(){n.decodeOnce(e,i,!1,!0)},n.imageElement.addEventListener("load",n.imageLoadedEventListener),n.imageElement.src=t;else{if(!r.isImageLoaded(r.imageElement))throw new u.default("either src or a loaded img should be provided");n.decodeOnce(e,i,!1,!0)}}))},e.prototype.isImageLoaded=function(e){return!!e.complete&&0!==e.naturalWidth},e.prototype.prepareImageElement=function(e){void 0===e?(this.imageElement=document.createElement("img"),this.imageElement.width=200,this.imageElement.height=200):this.imageElement="string"==typeof e?this.getMediaElement(e,"img"):e},e.prototype.decodeOnceWithDelay=function(e,t){this.timeoutHandler=window.setTimeout(this.decodeOnce.bind(this,e,t),this.timeBetweenScansMillis)},e.prototype.decodeOnce=function(e,t,r,i){void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===this.canvasElementContext&&this.prepareCaptureCanvas(),this.drawImageOnCanvas(this.canvasElementContext,this.videoElement||this.imageElement);var u=new n.HTMLCanvasElementLuminanceSource(this.canvasElement),d=new s.default(new a.default(u));try{e(this.readerDecode(d))}catch(n){r&&n instanceof o.default||i&&(n instanceof c.default||n instanceof l.default)?this.decodeOnceWithDelay(e,t):t(n)}},e.prototype.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},e.prototype.readerDecode=function(e){return this.reader.decode(e,this.hints)},e.prototype.prepareCaptureCanvas=function(){var e,t,r=document.createElement("canvas");void 0!==this.videoElement?(e=this.videoElement.videoWidth,t=this.videoElement.videoHeight):(e=this.imageElement.naturalWidth||this.imageElement.width,t=this.imageElement.naturalHeight||this.imageElement.height),r.style.width=e+"px",r.style.height=t+"px",r.width=e,r.height=t,this.canvasElement=r,this.canvasElementContext=r.getContext("2d")},e.prototype.stop=function(){void 0!==this.timeoutHandler&&(window.clearTimeout(this.timeoutHandler),this.timeoutHandler=void 0),void 0!==this.stream&&(this.stream.getTracks()[0].stop(),this.stream=void 0)},e.prototype.reset=function(){this.stop(),void 0!==this.videoPlayEndedEventListener&&void 0!==this.videoElement&&this.videoElement.removeEventListener("ended",this.videoPlayEndedEventListener),void 0!==this.videoPlayingEventListener&&void 0!==this.videoElement&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoElement&&(this.videoElement.srcObject=void 0,this.videoElement.removeAttribute("src"),this.videoElement=void 0),void 0!==this.videoPlayEndedEventListener&&void 0!==this.imageElement&&this.imageElement.removeEventListener("load",this.imageLoadedEventListener),void 0!==this.imageElement&&(this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0),this.canvasElementContext=void 0,this.canvasElement=void 0},e}();t.BrowserCodeReader=d},518201:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(918102),a=r(894591),o=function(e){function t(t){return void 0===t&&(t=500),e.call(this,new a.default,t)||this}return i(t,e),t}(s.BrowserCodeReader);t.BrowserDatamatrixCodeReader=o},942737:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(918102),a=r(432577),o=function(e){function t(t){return void 0===t&&(t=500),e.call(this,new a.default,t)||this}return i(t,e),t}(s.BrowserCodeReader);t.BrowserQRCodeReader=o},891588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(770876),i=r(374023),s=r(529299),a=r(479980),o=r(245258),u=function(){function e(e){this.containerElement="string"==typeof e?document.getElementById(e):e}return e.prototype.write=function(t,r,o,u){if(void 0===u&&(u=null),0===t.length)throw new a.default("Found empty contents");if(r<0||o<0)throw new a.default("Requested dimensions are too small: "+r+"x"+o);var c=s.default.L,l=e.QUIET_ZONE_SIZE;null!==u&&(void 0!==u.get(n.default.ERROR_CORRECTION)&&(c=s.default.fromString(u.get(n.default.ERROR_CORRECTION).toString())),void 0!==u.get(n.default.MARGIN)&&(l=Number.parseInt(u.get(n.default.MARGIN).toString(),10)));var d=i.default.encode(t,c,u);return this.renderResult(d,r,o,l)},e.prototype.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new o.default;var s=i.getWidth(),a=i.getHeight(),u=s+2*n,c=a+2*n,l=Math.max(t,u),d=Math.max(r,c),f=Math.min(Math.floor(l/u),Math.floor(d/c)),h=Math.floor((l-s*f)/2),p=Math.floor((d-a*f)/2),m=this.createSVGElement(l,d);this.containerElement.appendChild(m);for(var g=0,y=p;g<a;g++,y+=f)for(var v=0,w=h;v<s;v++,w+=f)if(1===i.get(v,g)){var b=this.createSvgRectElement(w,y,f,f);m.appendChild(b)}return m},e.prototype.createSVGElement=function(t,r){var n=document.createElementNS(e.SVG_NS,"svg");return n.setAttributeNS(null,"height",t.toString()),n.setAttributeNS(null,"width",r.toString()),n},e.prototype.createSvgRectElement=function(t,r,n,i){var s=document.createElementNS(e.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",i.toString()),s.setAttributeNS(null,"fill","#000000"),s},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg",e}();t.BrowserQRCodeSvgWriter=u},713610:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(828510),a=r(795631),o=r(479980),u=function(e){function t(r){var n=e.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=t.makeBufferFromCanvasImageData(r),n}return i(t,e),t.makeBufferFromCanvasImageData=function(e){var r=e.getContext("2d").getImageData(0,0,e.width,e.height);return t.toGrayscaleBuffer(r.data,e.width,e.height)},t.toGrayscaleBuffer=function(e,t,r){for(var n=new Uint8ClampedArray(t*r),i=0,s=0,a=e.length;i<a;i+=4,s++){var o=void 0;if(0===e[i+3])o=255;else o=306*e[i]+601*e[i+1]+117*e[i+2]+512>>10;n[s]=o}return n},t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new o.default("Requested row is outside the image: "+e);var r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t},t.prototype.getMatrix=function(){return this.buffer},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,t,r,n){return this.crop(e,t,r,n),this},t.prototype.isRotateSupported=function(){return!0},t.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},t.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},t.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var e=this.canvas.ownerDocument.createElement("canvas");e.style.width=this.canvas.width+"px",e.style.height=this.canvas.height+"px",this.tempCanvasElement=e}return this.tempCanvasElement},t.prototype.rotate=function(e){var r=this.getTempCanvasElement(),n=r.getContext("2d");return n.rotate(e*t.DEGREE_TO_RADIANS),n.drawImage(this.canvas,0,0),this.buffer=t.makeBufferFromCanvasImageData(r),this},t.prototype.invert=function(){return new s.default(this)},t.DEGREE_TO_RADIANS=Math.PI/180,t}(a.default);t.HTMLCanvasElementLuminanceSource=u},807847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.deviceId=e,this.label=t};t.VideoInputDevice=r},241748:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},985994:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},740496:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(r||(r={})),t.default=r},680451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.source=e}return e.prototype.getLuminanceSource=function(){return this.source},e.prototype.getWidth=function(){return this.source.getWidth()},e.prototype.getHeight=function(){return this.source.getHeight()},e}();t.default=r},524082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980),i=function(){function e(e){if(this.binarizer=e,null===e)throw new n.default("Binarizer must be non-null.")}return e.prototype.getWidth=function(){return this.binarizer.getWidth()},e.prototype.getHeight=function(){return this.binarizer.getHeight()},e.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},e.prototype.getBlackMatrix=function(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},e.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},e.prototype.crop=function(t,r,n,i){var s=this.binarizer.getLuminanceSource().crop(t,r,n,i);return new e(this.binarizer.createBinarizer(s))},e.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},e.prototype.rotateCounterClockwise=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new e(this.binarizer.createBinarizer(t))},e.prototype.rotateCounterClockwise45=function(){var t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new e(this.binarizer.createBinarizer(t))},e.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(e){return""}},e}();t.default=i},285780:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},392637:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(r||(r={})),t.default=r},770876:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(r||(r={})),t.default=r},793825:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){void 0===t&&(t=void 0);var r=e.call(this,t)||this;return r.message=t,r}return i(t,e),t}(r(335105).CustomError);t.default=s},81725:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},479980:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},245258:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},828510:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){var r=e.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return i(t,e),t.prototype.getRow=function(e,t){for(var r=this.delegate.getRow(e,t),n=this.getWidth(),i=0;i<n;i++)r[i]=255-(255&r[i]);return r},t.prototype.getMatrix=function(){for(var e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t),n=0;n<t;n++)r[n]=255-(255&e[n]);return r},t.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},t.prototype.crop=function(e,r,n,i){return new t(this.delegate.crop(e,r,n,i))},t.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},t.prototype.invert=function(){return this.delegate},t.prototype.rotateCounterClockwise=function(){return new t(this.delegate.rotateCounterClockwise())},t.prototype.rotateCounterClockwise45=function(){return new t(this.delegate.rotateCounterClockwise45())},t}(r(795631).default);t.default=s},795631:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(467540),i=r(698001),s=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCropSupported=function(){return!1},e.prototype.crop=function(e,t,r,n){throw new i.default("This luminance source does not support cropping.")},e.prototype.isRotateSupported=function(){return!1},e.prototype.rotateCounterClockwise=function(){throw new i.default("This luminance source does not support rotation by 90 degrees.")},e.prototype.rotateCounterClockwise45=function(){throw new i.default("This luminance source does not support rotation by 45 degrees.")},e.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new n.default,r=0;r<this.height;r++){for(var i=this.getRow(r,e),s=0;s<this.width;s++){var a=255&i[s],o=void 0;o=a<64?"#":a<128?"+":a<192?".":" ",t.append(o)}t.append("\n")}return t.toString()},e}();t.default=s},351367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(740496),i=r(432577),s=r(509802),a=r(894591),o=r(813570),u=r(806522),c=function(){function e(){}return e.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},e.prototype.decodeWithState=function(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)},e.prototype.setHints=function(e){this.hints=e;var t=null!=e&&void 0!==e.get(3),r=null==e?null:e.get(2),o=new Array;if(null!=r){var u=r.some((function(e){return e===n.default.UPC_A||e===n.default.UPC_E||e===n.default.EAN_13||e===n.default.EAN_8||e===n.default.CODABAR||e===n.default.CODE_39||e===n.default.CODE_93||e===n.default.CODE_128||e===n.default.ITF||e===n.default.RSS_14||e===n.default.RSS_EXPANDED}));u&&!t&&o.push(new s.default(e)),r.includes(n.default.QR_CODE)&&o.push(new i.default),r.includes(n.default.DATA_MATRIX)&&o.push(new a.default),u&&t&&o.push(new s.default(e))}0===o.length&&(t||o.push(new s.default(e)),o.push(new i.default),o.push(new a.default),t&&o.push(new s.default(e))),this.readers=o},e.prototype.reset=function(){if(null!==this.readers)for(var e=0,t=this.readers;e<t.length;e++){t[e].reset()}},e.prototype.decodeInternal=function(e){if(null===this.readers)throw new u.default("No readers where selected, nothing can be read.");for(var t=0,r=this.readers;t<r.length;t++){var n=r[t];try{return n.decode(e,this.hints)}catch(e){if(e instanceof u.default)continue}}throw new o.default("No MultiFormat Readers were able to detect the code.")},e}();t.default=c},179889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(156215),i=r(740496),s=r(479980),a=function(){function e(){}return e.prototype.encode=function(e,t,r,a,o){if(t!==i.default.QR_CODE)throw new s.default("No encoder available for format "+t);return(new n.default).encode(e,t,r,a,o)},e}();t.default=a},813570:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},33491:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(592550),a=r(795631),o=r(828510),u=r(479980),c=function(e){function t(t,r,n,i,s,a,o,c){var l=e.call(this,a,o)||this;if(l.yuvData=t,l.dataWidth=r,l.dataHeight=n,l.left=i,l.top=s,i+a>r||s+o>n)throw new u.default("Crop rectangle does not fit within image data.");return c&&l.reverseHorizontal(a,o),l}return i(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new u.default("Requested row is outside the image: "+e);var r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));var n=(e+this.top)*this.dataWidth+this.left;return s.default.arraycopy(this.yuvData,n,t,0,r),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;var r=e*t,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return s.default.arraycopy(this.yuvData,i,n,0,r),n;for(var a=0;a<t;a++){var o=a*e;s.default.arraycopy(this.yuvData,i,n,o,e),i+=this.dataWidth}return n},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,n,i){return new t(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,n,i,!1)},t.prototype.renderThumbnail=function(){for(var e=this.getWidth()/t.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/t.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*r),i=this.yuvData,s=this.top*this.dataWidth+this.left,a=0;a<r;a++){for(var o=a*e,u=0;u<e;u++){var c=255&i[s+u*t.THUMBNAIL_SCALE_FACTOR];n[o+u]=4278190080|65793*c}s+=this.dataWidth*t.THUMBNAIL_SCALE_FACTOR}return n},t.prototype.getThumbnailWidth=function(){return this.getWidth()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.getThumbnailHeight=function(){return this.getHeight()/t.THUMBNAIL_SCALE_FACTOR},t.prototype.reverseHorizontal=function(e,t){for(var r=this.yuvData,n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth)for(var s=i+e/2,a=i,o=i+e-1;a<s;a++,o--){var u=r[a];r[a]=r[o],r[o]=u}},t.prototype.invert=function(){return new o.default(this)},t.THUMBNAIL_SCALE_FACTOR=2,t}(a.default);t.default=c},525390:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),r(828510);var s=r(828510),a=r(795631),o=r(592550),u=r(479980),c=function(e){function t(t,r,n,i,s,a,o){var c=e.call(this,r,n)||this;if(c.dataWidth=i,c.dataHeight=s,c.left=a,c.top=o,4===t.BYTES_PER_ELEMENT){for(var l=r*n,d=new Uint8ClampedArray(l),f=0;f<l;f++){var h=t[f],p=h>>16&255,m=h>>7&510,g=255&h;d[f]=(p+m+g)/4&255}c.luminances=d}else c.luminances=t;if(void 0===i&&(c.dataWidth=r),void 0===s&&(c.dataHeight=n),void 0===a&&(c.left=0),void 0===o&&(c.top=0),c.left+r>c.dataWidth||c.top+n>c.dataHeight)throw new u.default("Crop rectangle does not fit within image data.");return c}return i(t,e),t.prototype.getRow=function(e,t){if(e<0||e>=this.getHeight())throw new u.default("Requested row is outside the image: "+e);var r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));var n=(e+this.top)*this.dataWidth+this.left;return o.default.arraycopy(this.luminances,n,t,0,r),t},t.prototype.getMatrix=function(){var e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;var r=e*t,n=new Uint8ClampedArray(r),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return o.default.arraycopy(this.luminances,i,n,0,r),n;for(var s=0;s<t;s++){var a=s*e;o.default.arraycopy(this.luminances,i,n,a,e),i+=this.dataWidth}return n},t.prototype.isCropSupported=function(){return!0},t.prototype.crop=function(e,r,n,i){return new t(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+r)},t.prototype.invert=function(){return new s.default(this)},t}(a.default);t.default=c},806522:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},904641:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},756212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(911729),i=r(592550),s=function(){function e(e,t,r,n,s,a){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=n,this.format=s,this.resultMetadata=null,this.timestamp=null==a?i.default.currentTimeMillis():a}return e.prototype.getText=function(){return this.text},e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.getResultPoints=function(){return this.resultPoints},e.prototype.getBarcodeFormat=function(){return this.format},e.prototype.getResultMetadata=function(){return this.resultMetadata},e.prototype.putMetadata=function(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},e.prototype.putAllMetadata=function(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))},e.prototype.addResultPoints=function(e){var t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){var r=new n.default[t.length+e.length];i.default.arraycopy(t,0,r,0,t.length),i.default.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.toString=function(){return this.text},e}();t.default=s},752191:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(r||(r={})),t.default=r},911729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(264),i=r(917273),s=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.equals=function(t){if(t instanceof e){var r=t;return this.x===r.x&&this.y===r.y}return!1},e.prototype.hashCode=function(){return 31*i.default.floatToIntBits(this.x)+i.default.floatToIntBits(this.y)},e.prototype.toString=function(){return"("+this.x+","+this.y+")"},e.orderBestPatterns=function(e){var t,r,n,i=this.distance(e[0],e[1]),s=this.distance(e[1],e[2]),a=this.distance(e[0],e[2]);if(s>=i&&s>=a?(r=e[0],t=e[1],n=e[2]):a>=s&&a>=i?(r=e[1],t=e[0],n=e[2]):(r=e[2],t=e[0],n=e[1]),this.crossProductZ(t,r,n)<0){var o=t;t=n,n=o}e[0]=t,e[1]=r,e[2]=n},e.distance=function(e,t){return n.default.distance(e.x,e.y,t.x,t.y)},e.crossProductZ=function(e,t,r){var n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)},e}();t.default=s},698001:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},258614:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(793825).default);t.default=s},847731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(592550),i=r(361434),s=r(683685),a=r(479980),o=function(){function e(t,r){void 0===t?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,this.bits=null==r?e.makeArray(t):r)}return e.prototype.getSize=function(){return this.size},e.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},e.prototype.ensureCapacity=function(t){if(t>32*this.bits.length){var r=e.makeArray(t);n.default.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},e.prototype.get=function(e){return 0!=(this.bits[Math.floor(e/32)]&1<<(31&e))},e.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(31&e)},e.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(31&e)},e.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),s=r[n];s&=~((1<<(31&e))-1);for(var a=r.length;0===s;){if(++n===a)return t;s=r[n]}var o=32*n+i.default.numberOfTrailingZeros(s);return o>t?t:o},e.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,n=Math.floor(e/32),s=~r[n];s&=~((1<<(31&e))-1);for(var a=r.length;0===s;){if(++n===a)return t;s=~r[n]}var o=32*n+i.default.numberOfTrailingZeros(s);return o>t?t:o},e.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},e.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new a.default;if(t!==e){t--;for(var r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits,s=r;s<=n;s++){var o=(2<<(s<n?31:31&t))-(1<<(s>r?0:31&e));i[s]|=o}}},e.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},e.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new a.default;if(t===e)return!0;t--;for(var n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits,o=n;o<=i;o++){var u=(2<<(o<i?31:31&t))-(1<<(o>n?0:31&e))&4294967295;if((s[o]&u)!==(r?u:0))return!1}return!0},e.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},e.prototype.appendBits=function(e,t){if(t<0||t>32)throw new a.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);this.appendBit;for(var r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))},e.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);this.appendBit;for(var r=0;r<t;r++)this.appendBit(e.get(r))},e.prototype.xor=function(e){if(this.size!==e.size)throw new a.default("Sizes don't match");for(var t=this.bits,r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]},e.prototype.toBytes=function(e,t,r,n){for(var i=0;i<n;i++){for(var s=0,a=0;a<8;a++)this.get(e)&&(s|=1<<7-a),e++;t[r+i]=s}},e.prototype.getBitArray=function(){return this.bits},e.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits,i=0;i<r;i++){var s=n[i];s=(s=(s=(s=(s=s>>1&1431655765|(1431655765&s)<<1)>>2&858993459|(858993459&s)<<2)>>4&252645135|(252645135&s)<<4)>>8&16711935|(16711935&s)<<8)>>16&65535|(65535&s)<<16,e[t-i]=s}if(this.size!==32*r){var a=32*r-this.size,o=e[0]>>>a;for(i=1;i<r;i++){var u=e[i];o|=u<<32-a,e[i-1]=o,o=u>>>a}e[r-1]=o}this.bits=e},e.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.size===r.size&&s.default.equals(this.bits,r.bits)},e.prototype.hashCode=function(){return 31*this.size+s.default.hashCode(this.bits)},e.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)0==(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e},e.prototype.clone=function(){return new e(this.size,this.bits.slice())},e}();t.default=o},904977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(847731),i=r(592550),s=r(683685),a=r(467540),o=r(479980),u=function(){function e(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new o.default("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}return e.parseFromBooleanArray=function(t){for(var r=t.length,n=t[0].length,i=new e(n,r),s=0;s<r;s++)for(var a=t[s],o=0;o<n;o++)a[o]&&i.set(o,s);return i},e.parseFromString=function(t,r,n){if(null===t)throw new o.default("stringRepresentation cannot be null");for(var i=new Array(t.length),s=0,a=0,u=-1,c=0,l=0;l<t.length;)if("\n"===t.charAt(l)||"\r"===t.charAt(l)){if(s>a){if(-1===u)u=s-a;else if(s-a!==u)throw new o.default("row lengths do not match");a=s,c++}l++}else if(t.substring(l,l+r.length)===r)l+=r.length,i[s]=!0,s++;else{if(t.substring(l,l+n.length)!==n)throw new o.default("illegal character encountered: "+t.substring(l));l+=n.length,i[s]=!1,s++}if(s>a){if(-1===u)u=s-a;else if(s-a!==u)throw new o.default("row lengths do not match");c++}for(var d=new e(u,c),f=0;f<s;f++)i[f]&&d.set(Math.floor(f%u),Math.floor(f/u));return d},e.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return 0!=(this.bits[r]>>>(31&e)&1)},e.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295},e.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)},e.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295},e.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new o.default("input matrix dimensions do not match");for(var t=new n.default(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,s=0,a=this.height;s<a;s++)for(var u=s*r,c=e.getRow(s,t).getBitArray(),l=0;l<r;l++)i[u+l]^=c[l]},e.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},e.prototype.setRegion=function(e,t,r,n){if(t<0||e<0)throw new o.default("Left and top must be nonnegative");if(n<1||r<1)throw new o.default("Height and width must be at least 1");var i=e+r,s=t+n;if(s>this.height||i>this.width)throw new o.default("The region must fit inside the matrix");for(var a=this.rowSize,u=this.bits,c=t;c<s;c++)for(var l=c*a,d=e;d<i;d++)u[l+Math.floor(d/32)]|=1<<(31&d)&4294967295},e.prototype.getRow=function(e,t){null==t||t.getSize()<this.width?t=new n.default(this.width):t.clear();for(var r=this.rowSize,i=this.bits,s=e*r,a=0;a<r;a++)t.setBulk(32*a,i[s+a]);return t},e.prototype.setRow=function(e,t){i.default.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},e.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new n.default(e),i=new n.default(e),s=0,a=Math.floor((t+1)/2);s<a;s++)r=this.getRow(s,r),i=this.getRow(t-1-s,i),r.reverse(),i.reverse(),this.setRow(s,i),this.setRow(t-1-s,r)},e.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,n=this.bits,i=e,s=t,a=-1,o=-1,u=0;u<t;u++)for(var c=0;c<r;c++){var l=n[u*r+c];if(0!==l){if(u<s&&(s=u),u>o&&(o=u),32*c<i){for(var d=0;0==(l<<31-d&4294967295);)d++;32*c+d<i&&(i=32*c+d)}if(32*c+31>a){for(d=31;l>>>d==0;)d--;32*c+d>a&&(a=32*c+d)}}}return a<i||o<s?null:Int32Array.from([i,s,a-i+1,o-s+1])},e.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&0===t[r];)r++;if(r===t.length)return null;for(var n=r/e,i=r%e*32,s=t[r],a=0;0==(s<<31-a&4294967295);)a++;return i+=a,Int32Array.from([i,n])},e.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&0===t[r];)r--;if(r<0)return null;for(var n=Math.floor(r/e),i=32*Math.floor(r%e),s=t[r],a=31;s>>>a==0;)a--;return i+=a,Int32Array.from([i,n])},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRowSize=function(){return this.rowSize},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&s.default.equals(this.bits,r.bits)},e.prototype.hashCode=function(){var e=this.width;return e=31*(e=31*(e=31*(e=31*e+this.width)+this.height)+this.rowSize)+s.default.hashCode(this.bits)},e.prototype.toString=function(e,t,r){return void 0===e&&(e="x"),void 0===t&&(t=" "),void 0===r&&(r="\n"),this.buildToString(e,t,r)},e.prototype.buildToString=function(e,t,r){var n=new a.default;n.append(r);for(var i=0,s=this.height;i<s;i++){for(var o=0,u=this.width;o<u;o++)n.append(this.get(o,i)?e:t);n.append(r)}return n.toString()},e.prototype.clone=function(){return new e(this.width,this.height,this.rowSize,this.bits.slice())},e}();t.default=u},380149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980),i=function(){function e(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return e.prototype.getBitOffset=function(){return this.bitOffset},e.prototype.getByteOffset=function(){return this.byteOffset},e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new n.default(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,s=this.bytes;if(r>0){var a=8-r,o=e<a?e:a,u=255>>8-o<<(c=a-o);t=(s[i]&u)>>c,e-=o,8===(r+=o)&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|255&s[i],i++,e-=8;if(e>0){var c;u=255>>(c=8-e)<<c;t=t<<e|(s[i]&u)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.default=i},413242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81725);!function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(t.CharacterSetValueIdentifiers||(t.CharacterSetValueIdentifiers={}));var i=function(){function e(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.valueIdentifier=t,this.name=n,this.values="number"==typeof r?Int32Array.from([r]):r,this.otherEncodingNames=i,e.VALUE_IDENTIFIER_TO_ECI.set(t,this),e.NAME_TO_ECI.set(n,this);for(var a=this.values,o=0,u=a.length;o!==u;o++){var c=a[o];e.VALUES_TO_ECI.set(c,this)}for(var l=0,d=i;l<d.length;l++){var f=d[l];e.NAME_TO_ECI.set(f,this)}}return e.prototype.getValueIdentifier=function(){return this.valueIdentifier},e.prototype.getName=function(){return this.name},e.prototype.getValue=function(){return this.values[0]},e.getCharacterSetECIByValue=function(t){if(t<0||t>=900)throw new n.default("incorect value");var r=e.VALUES_TO_ECI.get(t);if(void 0===r)throw new n.default("incorect value");return r},e.getCharacterSetECIByName=function(t){var r=e.NAME_TO_ECI.get(t);if(void 0===r)throw new n.default("incorect value");return r},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.getName()===r.getName()},e.VALUE_IDENTIFIER_TO_ECI=new Map,e.VALUES_TO_ECI=new Map,e.NAME_TO_ECI=new Map,e.Cp437=new e(0,Int32Array.from([0,2]),"Cp437"),e.ISO8859_1=new e(1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),e.ISO8859_2=new e(2,4,"ISO-8859-2","ISO88592","ISO8859_2"),e.ISO8859_3=new e(3,5,"ISO-8859-3","ISO88593","ISO8859_3"),e.ISO8859_4=new e(4,6,"ISO-8859-4","ISO88594","ISO8859_4"),e.ISO8859_5=new e(5,7,"ISO-8859-5","ISO88595","ISO8859_5"),e.ISO8859_6=new e(6,8,"ISO-8859-6","ISO88596","ISO8859_6"),e.ISO8859_7=new e(7,9,"ISO-8859-7","ISO88597","ISO8859_7"),e.ISO8859_8=new e(8,10,"ISO-8859-8","ISO88598","ISO8859_8"),e.ISO8859_9=new e(9,11,"ISO-8859-9","ISO88599","ISO8859_9"),e.ISO8859_10=new e(10,12,"ISO-8859-10","ISO885910","ISO8859_10"),e.ISO8859_11=new e(11,13,"ISO-8859-11","ISO885911","ISO8859_11"),e.ISO8859_13=new e(12,15,"ISO-8859-13","ISO885913","ISO8859_13"),e.ISO8859_14=new e(13,16,"ISO-8859-14","ISO885914","ISO8859_14"),e.ISO8859_15=new e(14,17,"ISO-8859-15","ISO885915","ISO8859_15"),e.ISO8859_16=new e(15,18,"ISO-8859-16","ISO885916","ISO8859_16"),e.SJIS=new e(16,20,"SJIS","Shift_JIS"),e.Cp1250=new e(17,21,"Cp1250","windows-1250"),e.Cp1251=new e(18,22,"Cp1251","windows-1251"),e.Cp1252=new e(19,23,"Cp1252","windows-1252"),e.Cp1256=new e(20,24,"Cp1256","windows-1256"),e.UnicodeBigUnmarked=new e(21,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),e.UTF8=new e(22,26,"UTF8","UTF-8"),e.ASCII=new e(23,Int32Array.from([27,170]),"ASCII","US-ASCII"),e.Big5=new e(24,28,"Big5"),e.GB18030=new e(25,29,"GB18030","GB2312","EUC_CN","GBK"),e.EUC_KR=new e(26,30,"EUC_KR","EUC-KR"),e}();t.default=i},198193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,s){void 0===i&&(i=-1),void 0===s&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=null==e?0:8*e.length}return e.prototype.getRawBytes=function(){return this.rawBytes},e.prototype.getNumBits=function(){return this.numBits},e.prototype.setNumBits=function(e){this.numBits=e},e.prototype.getText=function(){return this.text},e.prototype.getByteSegments=function(){return this.byteSegments},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getErrorsCorrected=function(){return this.errorsCorrected},e.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},e.prototype.getErasures=function(){return this.erasures},e.prototype.setErasures=function(e){this.erasures=e},e.prototype.getOther=function(){return this.other},e.prototype.setOther=function(e){this.other=e},e.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},e.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},e.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},e}();t.default=r},202717:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(476425),a=r(904977),o=r(832816),u=r(813570),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.sampleGrid=function(e,t,r,n,i,s,a,u,c,l,d,f,h,p,m,g,y,v,w){var b=o.default.quadrilateralToQuadrilateral(n,i,s,a,u,c,l,d,f,h,p,m,g,y,v,w);return this.sampleGridWithTransform(e,t,r,b)},t.prototype.sampleGridWithTransform=function(e,t,r,n){if(t<=0||r<=0)throw new u.default;for(var i=new a.default(t,r),o=new Float32Array(2*t),c=0;c<r;c++){for(var l=o.length,d=c+.5,f=0;f<l;f+=2)o[f]=f/2+.5,o[f+1]=d;n.transformPoints(o),s.default.checkAndNudgePoints(e,o);try{for(f=0;f<l;f+=2)e.get(Math.floor(o[f]),Math.floor(o[f+1]))&&i.set(f/2,c)}catch(e){throw new u.default}}return i},t}(s.default);t.default=c},227259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.bits=e,this.points=t}return e.prototype.getBits=function(){return this.bits},e.prototype.getPoints=function(){return this.points},e}();t.default=r},236765:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(680451),a=r(847731),o=r(904977),u=r(813570),c=function(e){function t(r){var n=e.call(this,r)||this;return n.luminances=t.EMPTY,n.buckets=new Int32Array(t.LUMINANCE_BUCKETS),n}return i(t,e),t.prototype.getBlackRow=function(e,r){var n=this.getLuminanceSource(),i=n.getWidth();null==r||r.getSize()<i?r=new a.default(i):r.clear(),this.initArrays(i);for(var s=n.getRow(e,this.luminances),o=this.buckets,u=0;u<i;u++)o[(255&s[u])>>t.LUMINANCE_SHIFT]++;var c=t.estimateBlackPoint(o);if(i<3)for(u=0;u<i;u++)(255&s[u])<c&&r.set(u);else{var l=255&s[0],d=255&s[1];for(u=1;u<i-1;u++){var f=255&s[u+1];(4*d-l-f)/2<c&&r.set(u),l=d,d=f}}return r},t.prototype.getBlackMatrix=function(){var e=this.getLuminanceSource(),r=e.getWidth(),n=e.getHeight(),i=new o.default(r,n);this.initArrays(r);for(var s=this.buckets,a=1;a<5;a++)for(var u=n*a/5,c=e.getRow(u,this.luminances),l=Math.floor(4*r/5),d=Math.floor(r/5);d<l;d++){s[(255&c[d])>>t.LUMINANCE_SHIFT]++}var f=t.estimateBlackPoint(s),h=e.getMatrix();for(a=0;a<n;a++){var p=a*r;for(d=0;d<r;d++){(255&h[p+d])<f&&i.set(d,a)}}return i},t.prototype.createBinarizer=function(e){return new t(e)},t.prototype.initArrays=function(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));for(var r=this.buckets,n=0;n<t.LUMINANCE_BUCKETS;n++)r[n]=0},t.estimateBlackPoint=function(e){for(var r=e.length,n=0,i=0,s=0,a=0;a<r;a++)e[a]>s&&(i=a,s=e[a]),e[a]>n&&(n=e[a]);var o=0,c=0;for(a=0;a<r;a++){var l=a-i;(p=e[a]*l*l)>c&&(o=a,c=p)}if(i>o){var d=i;i=o,o=d}if(o-i<=r/16)throw new u.default;var f=o-1,h=-1;for(a=o-1;a>i;a--){var p,m=a-i;(p=m*m*(o-a)*(n-e[a]))>h&&(f=a,h=p)}return f<<t.LUMINANCE_SHIFT},t.LUMINANCE_BITS=5,t.LUMINANCE_SHIFT=8-t.LUMINANCE_BITS,t.LUMINANCE_BUCKETS=1<<t.LUMINANCE_BITS,t.EMPTY=Uint8ClampedArray.from([0]),t}(s.default);t.default=c},476425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(813570),i=function(){function e(){}return e.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),s=!0,a=0;a<t.length&&s;a+=2){var o=Math.floor(t[a]),u=Math.floor(t[a+1]);if(o<-1||o>r||u<-1||u>i)throw new n.default;s=!1,-1===o?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),-1===u?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}s=!0;for(a=t.length-2;a>=0&&s;a-=2){o=Math.floor(t[a]),u=Math.floor(t[a+1]);if(o<-1||o>r||u<-1||u>i)throw new n.default;s=!1,-1===o?(t[a]=0,s=!0):o===r&&(t[a]=r-1,s=!0),-1===u?(t[a+1]=0,s=!0):u===i&&(t[a+1]=i-1,s=!0)}},e}();t.default=i},128485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(202717),i=function(){function e(){}return e.setGridSampler=function(t){e.gridSampler=t},e.getInstance=function(){return e.gridSampler},e.gridSampler=new n.default,e}();t.default=i},697402:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(236765),a=r(904977),o=function(e){function t(t){var r=e.call(this,t)||this;return r.matrix=null,r}return i(t,e),t.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=t.MINIMUM_DIMENSION&&i>=t.MINIMUM_DIMENSION){var s=r.getMatrix(),o=n>>t.BLOCK_SIZE_POWER;0!=(n&t.BLOCK_SIZE_MASK)&&o++;var u=i>>t.BLOCK_SIZE_POWER;0!=(i&t.BLOCK_SIZE_MASK)&&u++;var c=t.calculateBlackPoints(s,o,u,n,i),l=new a.default(n,i);t.calculateThresholdForBlock(s,o,u,n,i,c,l),this.matrix=l}else this.matrix=e.prototype.getBlackMatrix.call(this);return this.matrix},t.prototype.createBinarizer=function(e){return new t(e)},t.calculateThresholdForBlock=function(e,r,n,i,s,a,o){for(var u=s-t.BLOCK_SIZE,c=i-t.BLOCK_SIZE,l=0;l<n;l++){var d=l<<t.BLOCK_SIZE_POWER;d>u&&(d=u);for(var f=t.cap(l,2,n-3),h=0;h<r;h++){var p=h<<t.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=t.cap(h,2,r-3),g=0,y=-2;y<=2;y++){var v=a[f+y];g+=v[m-2]+v[m-1]+v[m]+v[m+1]+v[m+2]}var w=g/25;t.thresholdBlock(e,p,d,w,i,o)}}},t.cap=function(e,t,r){return e<t?t:e>r?r:e},t.thresholdBlock=function(e,r,n,i,s,a){for(var o=0,u=n*s+r;o<t.BLOCK_SIZE;o++,u+=s)for(var c=0;c<t.BLOCK_SIZE;c++)(255&e[u+c])<=i&&a.set(r+c,n+o)},t.calculateBlackPoints=function(e,r,n,i,s){for(var a=s-t.BLOCK_SIZE,o=i-t.BLOCK_SIZE,u=new Array(n),c=0;c<n;c++){u[c]=new Int32Array(r);var l=c<<t.BLOCK_SIZE_POWER;l>a&&(l=a);for(var d=0;d<r;d++){var f=d<<t.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0,p=255,m=0,g=0,y=l*i+f;g<t.BLOCK_SIZE;g++,y+=i){for(var v=0;v<t.BLOCK_SIZE;v++){var w=255&e[y+v];h+=w,w<p&&(p=w),w>m&&(m=w)}if(m-p>t.MIN_DYNAMIC_RANGE)for(g++,y+=i;g<t.BLOCK_SIZE;g++,y+=i)for(v=0;v<t.BLOCK_SIZE;v++)h+=255&e[y+v]}var b=h>>2*t.BLOCK_SIZE_POWER;if(m-p<=t.MIN_DYNAMIC_RANGE&&(b=p/2,c>0&&d>0)){var E=(u[c-1][d]+2*u[c][d-1]+u[c-1][d-1])/4;p<E&&(b=E)}u[c][d]=b}}return u},t.BLOCK_SIZE_POWER=3,t.BLOCK_SIZE=1<<t.BLOCK_SIZE_POWER,t.BLOCK_SIZE_MASK=t.BLOCK_SIZE-1,t.MINIMUM_DIMENSION=5*t.BLOCK_SIZE,t.MIN_DYNAMIC_RANGE=24,t}(s.default);t.default=o},832816:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,n,i,s,a,o,u){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=s,this.a13=a,this.a23=o,this.a33=u}return e.quadrilateralToQuadrilateral=function(t,r,n,i,s,a,o,u,c,l,d,f,h,p,m,g){var y=e.quadrilateralToSquare(t,r,n,i,s,a,o,u);return e.squareToQuadrilateral(c,l,d,f,h,p,m,g).times(y)},e.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,n=this.a12,i=this.a13,s=this.a21,a=this.a22,o=this.a23,u=this.a31,c=this.a32,l=this.a33,d=0;d<t;d+=2){var f=e[d],h=e[d+1],p=i*f+o*h+l;e[d]=(r*f+s*h+u)/p,e[d+1]=(n*f+a*h+c)/p}},e.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,n=this.a12,i=this.a13,s=this.a21,a=this.a22,o=this.a23,u=this.a31,c=this.a32,l=this.a33,d=e.length,f=0;f<d;f++){var h=e[f],p=t[f],m=i*h+o*p+l;e[f]=(r*h+s*p+u)/m,t[f]=(n*h+a*p+c)/m}},e.squareToQuadrilateral=function(t,r,n,i,s,a,o,u){var c=t-n+s-o,l=r-i+a-u;if(0===c&&0===l)return new e(n-t,s-n,t,i-r,a-i,r,0,0,1);var d=n-s,f=o-s,h=i-a,p=u-a,m=d*p-f*h,g=(c*p-f*l)/m,y=(d*l-c*h)/m;return new e(n-t+g*n,o-t+y*o,t,i-r+g*i,u-r+y*u,r,g,y,1)},e.quadrilateralToSquare=function(t,r,n,i,s,a,o,u){return e.squareToQuadrilateral(t,r,n,i,s,a,o,u).buildAdjoint()},e.prototype.buildAdjoint=function(){return new e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},e.prototype.times=function(t){return new e(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)},e}();t.default=r},813381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(413242),i=function(){function e(){}return e.prototype.StringUtils=function(){},e.guessEncoding=function(t,r){if(null!=r&&void 0!==r.get(4))return r.get(4).toString();for(var n=t.length,i=!0,s=!0,a=!0,o=0,u=0,c=0,l=0,d=0,f=0,h=0,p=0,m=0,g=0,y=0,v=t.length>3&&239===t[0]&&187===t[1]&&191===t[2],w=0;w<n&&(i||s||a);w++){var b=255&t[w];a&&(o>0?0==(128&b)?a=!1:o--:0!=(128&b)&&(0==(64&b)?a=!1:(o++,0==(32&b)?u++:(o++,0==(16&b)?c++:(o++,0==(8&b)?l++:a=!1))))),i&&(b>127&&b<160?i=!1:b>159&&(b<192||215===b||247===b)&&y++),s&&(d>0?b<64||127===b||b>252?s=!1:d--:128===b||160===b||b>239?s=!1:b>160&&b<224?(f++,p=0,++h>m&&(m=h)):b>127?(d++,h=0,++p>g&&(g=p)):(h=0,p=0))}return a&&o>0&&(a=!1),s&&d>0&&(s=!1),a&&(v||u+c+l>0)?e.UTF8:s&&(e.ASSUME_SHIFT_JIS||m>=3||g>=3)?e.SHIFT_JIS:i&&s?2===m&&2===f||10*y>=n?e.SHIFT_JIS:e.ISO88591:i?e.ISO88591:s?e.SHIFT_JIS:a?e.UTF8:e.PLATFORM_DEFAULT_ENCODING},e.SHIFT_JIS=n.default.SJIS.getName(),e.GB2312="GB2312",e.ISO88591=n.default.ISO8859_1.getName(),e.EUC_JP="EUC_JP",e.UTF8=n.default.UTF8.getName(),e.PLATFORM_DEFAULT_ENCODING=e.UTF8,e.ASSUME_SHIFT_JIS=!1,e}();t.default=i},264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.MathUtils=function(){},e.round=function(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},e.distance=function(e,t,r,n){var i=e-r,s=t-n;return Math.sqrt(i*i+s*s)},e.sum=function(e){for(var t=0,r=0,n=e.length;r!==n;r++){t+=e[r]}return t},e}();t.default=r},59095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(911729),i=r(264),s=r(813570),a=function(){function e(t,r,n,i){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),null==r&&(r=e.INIT_SIZE),null==n&&(n=t.getWidth()/2|0),null==i&&(i=t.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new s.default}return e.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,a=!0,o=!1,u=!1,c=!1,l=!1,d=!1,f=this.width,h=this.height;a;){a=!1;for(var p=!0;(p||!u)&&t<f;)(p=this.containsBlackPoint(r,n,t,!1))?(t++,a=!0,u=!0):u||t++;if(t>=f){i=!0;break}for(var m=!0;(m||!c)&&n<h;)(m=this.containsBlackPoint(e,t,n,!0))?(n++,a=!0,c=!0):c||n++;if(n>=h){i=!0;break}for(var g=!0;(g||!l)&&e>=0;)(g=this.containsBlackPoint(r,n,e,!1))?(e--,a=!0,l=!0):l||e--;if(e<0){i=!0;break}for(var y=!0;(y||!d)&&r>=0;)(y=this.containsBlackPoint(e,t,r,!0))?(r--,a=!0,d=!0):d||r--;if(r<0){i=!0;break}a&&(o=!0)}if(!i&&o){for(var v=t-e,w=null,b=1;null===w&&b<v;b++)w=this.getBlackPointOnSegment(e,n-b,e+b,n);if(null==w)throw new s.default;var E=null;for(b=1;null===E&&b<v;b++)E=this.getBlackPointOnSegment(e,r+b,e+b,r);if(null==E)throw new s.default;var _=null;for(b=1;null===_&&b<v;b++)_=this.getBlackPointOnSegment(t,r+b,t-b,r);if(null==_)throw new s.default;var I=null;for(b=1;null===I&&b<v;b++)I=this.getBlackPointOnSegment(t,n-b,t-b,n);if(null==I)throw new s.default;return this.centerEdges(I,w,_,E)}throw new s.default},e.prototype.getBlackPointOnSegment=function(e,t,r,s){for(var a=i.default.round(i.default.distance(e,t,r,s)),o=(r-e)/a,u=(s-t)/a,c=this.image,l=0;l<a;l++){var d=i.default.round(e+l*o),f=i.default.round(t+l*u);if(c.get(d,f))return new n.default(d,f)}return null},e.prototype.centerEdges=function(t,r,i,s){var a=t.getX(),o=t.getY(),u=r.getX(),c=r.getY(),l=i.getX(),d=i.getY(),f=s.getX(),h=s.getY(),p=e.CORR;return a<this.width/2?[new n.default(f-p,h+p),new n.default(u+p,c+p),new n.default(l-p,d-p),new n.default(a+p,o-p)]:[new n.default(f+p,h+p),new n.default(u+p,c-p),new n.default(l-p,d+p),new n.default(a-p,o-p)]},e.prototype.containsBlackPoint=function(e,t,r,n){var i=this.image;if(n){for(var s=e;s<=t;s++)if(i.get(s,r))return!0}else for(var a=e;a<=t;a++)if(i.get(r,a))return!0;return!1},e.INIT_SIZE=10,e.CORR=1,e}();t.default=a},295826:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(121212),i=r(361434),s=r(479980),a=r(985994),o=function(){function e(e,t,r){this.primitive=e,this.size=t,this.generatorBase=r;for(var i=new Int32Array(t),s=1,a=0;a<t;a++)i[a]=s,(s*=2)>=t&&(s^=e,s&=t-1);this.expTable=i;var o=new Int32Array(t);for(a=0;a<t-1;a++)o[i[a]]=a;this.logTable=o,this.zero=new n.default(this,Int32Array.from([0])),this.one=new n.default(this,Int32Array.from([1]))}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(e,t){if(e<0)throw new s.default;if(0===t)return this.zero;var r=new Int32Array(e+1);return r[0]=t,new n.default(this,r)},e.addOrSubtract=function(e,t){return e^t},e.prototype.exp=function(e){return this.expTable[e]},e.prototype.log=function(e){if(0===e)throw new s.default;return this.logTable[e]},e.prototype.inverse=function(e){if(0===e)throw new a.default;return this.expTable[this.size-this.logTable[e]-1]},e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+i.default.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(e){return e===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}();t.default=o},121212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(295826),i=r(592550),s=r(479980),a=function(){function e(e,t){if(0===t.length)throw new s.default;this.field=e;var r=t.length;if(r>1&&0===t[0]){for(var n=1;n<r&&0===t[n];)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),i.default.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return e.prototype.getCoefficients=function(){return this.coefficients},e.prototype.getDegree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.evaluateAt=function(e){if(0===e)return this.getCoefficient(0);var t,r=this.coefficients;if(1===e){t=0;for(var i=0,s=r.length;i!==s;i++){var a=r[i];t=n.default.addOrSubtract(t,a)}return t}t=r[0];var o=r.length,u=this.field;for(i=1;i<o;i++)t=n.default.addOrSubtract(u.multiply(e,t),r[i]);return t},e.prototype.addOrSubtract=function(t){if(!this.field.equals(t.field))throw new s.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;var r=this.coefficients,a=t.coefficients;if(r.length>a.length){var o=r;r=a,a=o}var u=new Int32Array(a.length),c=a.length-r.length;i.default.arraycopy(a,0,u,0,c);for(var l=c;l<a.length;l++)u[l]=n.default.addOrSubtract(r[l-c],a[l]);return new e(this.field,u)},e.prototype.multiply=function(t){if(!this.field.equals(t.field))throw new s.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();for(var r=this.coefficients,i=r.length,a=t.coefficients,o=a.length,u=new Int32Array(i+o-1),c=this.field,l=0;l<i;l++)for(var d=r[l],f=0;f<o;f++)u[l+f]=n.default.addOrSubtract(u[l+f],c.multiply(d,a[f]));return new e(c,u)},e.prototype.multiplyScalar=function(t){if(0===t)return this.field.getZero();if(1===t)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(s[a],t);return new e(n,i)},e.prototype.multiplyByMonomial=function(t,r){if(t<0)throw new s.default;if(0===r)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+t),o=this.field,u=0;u<i;u++)a[u]=o.multiply(n[u],r);return new e(o,a)},e.prototype.divide=function(e){if(!this.field.equals(e.field))throw new s.default("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new s.default("Divide by 0");for(var t=this.field,r=t.getZero(),n=this,i=e.getCoefficient(e.getDegree()),a=t.inverse(i);n.getDegree()>=e.getDegree()&&!n.isZero();){var o=n.getDegree()-e.getDegree(),u=t.multiply(n.getCoefficient(n.getDegree()),a),c=e.multiplyByMonomial(o,u),l=t.buildMonomial(o,u);r=r.addOrSubtract(l),n=n.addOrSubtract(c)}return[r,n]},e.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){var n=this.field.log(r);0===n?e+="1":1===n?e+="a":(e+="a^",e+=n)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e},e}();t.default=a},116559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(295826),i=r(121212),s=r(904641),a=r(245258),o=function(){function e(e){this.field=e}return e.prototype.decode=function(e,t){for(var r=this.field,a=new i.default(r,e),o=new Int32Array(t),u=!0,c=0;c<t;c++){var l=a.evaluateAt(r.exp(c+r.getGeneratorBase()));o[o.length-1-c]=l,0!==l&&(u=!1)}if(!u){var d=new i.default(r,o),f=this.runEuclideanAlgorithm(r.buildMonomial(t,1),d,t),h=f[0],p=f[1],m=this.findErrorLocations(h),g=this.findErrorMagnitudes(p,m);for(c=0;c<m.length;c++){var y=e.length-1-r.log(m[c]);if(y<0)throw new s.default("Bad error location");e[y]=n.default.addOrSubtract(e[y],g[c])}}},e.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var n=e;e=t,t=n}for(var i=this.field,o=e,u=t,c=i.getZero(),l=i.getOne();u.getDegree()>=(r/2|0);){var d=o,f=c;if(c=l,(o=u).isZero())throw new s.default("r_{i-1} was zero");u=d;for(var h=i.getZero(),p=o.getCoefficient(o.getDegree()),m=i.inverse(p);u.getDegree()>=o.getDegree()&&!u.isZero();){var g=u.getDegree()-o.getDegree(),y=i.multiply(u.getCoefficient(u.getDegree()),m);h=h.addOrSubtract(i.buildMonomial(g,y)),u=u.addOrSubtract(o.multiplyByMonomial(g,y))}if(l=h.multiply(c).addOrSubtract(f),u.getDegree()>=o.getDegree())throw new a.default("Division algorithm failed to reduce polynomial?")}var v=l.getCoefficient(0);if(0===v)throw new s.default("sigmaTilde(0) was zero");var w=i.inverse(v);return[l.multiplyScalar(w),u.multiplyScalar(w)]},e.prototype.findErrorLocations=function(e){var t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),n=0,i=this.field,a=1;a<i.getSize()&&n<t;a++)0===e.evaluateAt(a)&&(r[n]=i.inverse(a),n++);if(n!==t)throw new s.default("Error locator degree does not match number of roots");return r},e.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,n=new Int32Array(r),i=this.field,s=0;s<r;s++){for(var a=i.inverse(t[s]),o=1,u=0;u<r;u++)if(s!==u){var c=i.multiply(t[u],a),l=0==(1&c)?1|c:-2&c;o=i.multiply(o,l)}n[s]=i.multiply(e.evaluateAt(a),i.inverse(o)),0!==i.getGeneratorBase()&&(n[s]=i.multiply(n[s],a))}return n},e}();t.default=o},968966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(121212),i=r(592550),s=r(479980),a=function(){function e(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new n.default(e,Int32Array.from([1])))}return e.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,s=t.length;s<=e;s++){var a=r.multiply(new n.default(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));t.push(a),r=a}return t[e]},e.prototype.encode=function(e,t){if(0===t)throw new s.default("No error correction bytes");var r=e.length-t;if(r<=0)throw new s.default("No data bytes provided");var a=this.buildGenerator(t),o=new Int32Array(r);i.default.arraycopy(e,0,o,0,r);for(var u=new n.default(this.field,o),c=(u=u.multiplyByMonomial(t,1)).divide(a)[1].getCoefficients(),l=t-c.length,d=0;d<l;d++)e[r+d]=0;i.default.arraycopy(c,0,e,r+l,c.length)},e}();t.default=a},894591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(142985),i=r(756212),s=r(740496),a=r(752191),o=r(904977),u=r(819154),c=r(592550),l=r(813570),d=function(){function e(){this.decoder=new n.default}return e.prototype.decode=function(t,r){var n,o;if(void 0===r&&(r=null),null!=r&&r.has(1)){var l=e.extractPureBits(t.getBlackMatrix());n=this.decoder.decode(l),o=e.NO_POINTS}else{var d=new u.default(t.getBlackMatrix()).detect();n=this.decoder.decode(d.getBits()),o=d.getPoints()}var f=n.getRawBytes(),h=new i.default(n.getText(),f,8*f.length,o,s.default.DATA_MATRIX,c.default.currentTimeMillis()),p=n.getByteSegments();null!=p&&h.putMetadata(a.default.BYTE_SEGMENTS,p);var m=n.getECLevel();return null!=m&&h.putMetadata(a.default.ERROR_CORRECTION_LEVEL,m),h},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new l.default;var n=this.moduleSize(t,e),i=t[1],s=r[1],a=t[0],u=(r[0]-a+1)/n,c=(s-i+1)/n;if(u<=0||c<=0)throw new l.default;var d=n/2;i+=d,a+=d;for(var f=new o.default(u,c),h=0;h<c;h++)for(var p=i+h*n,m=0;m<u;m++)e.get(a+m*n,p)&&f.set(m,h);return f},e.moduleSize=function(e,t){for(var r=t.getWidth(),n=e[0],i=e[1];n<r&&t.get(n,i);)n++;if(n===r)throw new l.default;var s=n-e[0];if(0===s)throw new l.default;return s},e.NO_POINTS=[],e}();t.default=d},212408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(904977),i=r(988268),s=r(81725),a=r(479980),o=function(){function e(t){var r=t.getHeight();if(r<8||r>144||0!=(1&r))throw new s.default;this.version=e.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new n.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return e.prototype.getVersion=function(){return this.version},e.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return i.default.getVersionForDimensions(t,r)},e.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,n=0,i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),o=!1,u=!1,c=!1,l=!1;do{if(r!==i||0!==n||o)if(r!==i-2||0!==n||0==(3&a)||u)if(r!==i+4||2!==n||0!=(7&a)||c)if(r!==i-2||0!==n||4!=(7&a)||l){do{r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,a)),r-=2,n+=2}while(r>=0&&n<a);r+=1,n+=3;do{r>=0&&n<a&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,a)),r+=2,n-=2}while(r<i&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(i,a),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner3(i,a),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner2(i,a),r-=2,n+=2,u=!0;else e[t++]=255&this.readCorner1(i,a),r-=2,n+=2,o=!0}while(r<i||n<a);if(t!==this.version.getTotalCodewords())throw new s.default;return e},e.prototype.readModule=function(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},e.prototype.readUtah=function(e,t,r,n){var i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i},e.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},e.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},e.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},e.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},e.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new a.default("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=t/i|0,u=r/s|0,c=o*i,l=u*s,d=new n.default(l,c),f=0;f<o;++f)for(var h=f*i,p=0;p<u;++p)for(var m=p*s,g=0;g<i;++g)for(var y=f*(i+2)+1+g,v=h+g,w=0;w<s;++w){var b=p*(s+2)+1+w;if(e.get(b,y)){var E=m+w;d.set(E,v)}}return d},e}();t.default=o},106754:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980),i=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,r){for(var i=r.getECBlocks(),s=0,a=i.getECBlocks(),o=0,u=a;o<u.length;o++){s+=(h=u[o]).getCount()}for(var c=new Array(s),l=0,d=0,f=a;d<f.length;d++)for(var h=f[d],p=0;p<h.getCount();p++){var m=h.getDataCodewords(),g=i.getECCodewords()+m;c[l++]=new e(m,new Uint8Array(g))}var y=c[0].codewords.length-i.getECCodewords(),v=y-1,w=0;for(p=0;p<v;p++)for(var b=0;b<l;b++)c[b].codewords[p]=t[w++];var E=24===r.getVersionNumber(),_=E?8:l;for(b=0;b<_;b++)c[b].codewords[y-1]=t[w++];var I=c[0].codewords.length;for(p=y;p<I;p++)for(b=0;b<l;b++){var S=E?(b+8)%l:b,O=E&&S>7?p-1:p;c[S].codewords[O]=t[w++]}if(w!==t.length)throw new n.default;return c},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();t.default=i},173250:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(198193),s=r(380149),a=r(467540),o=r(375290),u=r(158315),c=r(81725),l=r(245258);!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(n||(n={}));var d=function(){function e(){}return e.decode=function(e){var t=new s.default(e),r=new a.default,o=new a.default,u=new Array,l=n.ASCII_ENCODE;do{if(l===n.ASCII_ENCODE)l=this.decodeAsciiSegment(t,r,o);else{switch(l){case n.C40_ENCODE:this.decodeC40Segment(t,r);break;case n.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case n.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case n.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case n.BASE256_ENCODE:this.decodeBase256Segment(t,r,u);break;default:throw new c.default}l=n.ASCII_ENCODE}}while(l!==n.PAD_ENCODE&&t.available()>0);return o.length()>0&&r.append(o.toString()),new i.default(e,r.toString(),0===u.length?null:u,null)},e.decodeAsciiSegment=function(e,t,r){var i=!1;do{var s=e.readBits(8);if(0===s)throw new c.default;if(s<=128)return i&&(s+=128),t.append(String.fromCharCode(s-1)),n.ASCII_ENCODE;if(129===s)return n.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&t.append("0"),t.append(""+a)}else switch(s){case 230:return n.C40_ENCODE;case 231:return n.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return n.ANSIX12_ENCODE;case 239:return n.TEXT_ENCODE;case 240:return n.EDIFACT_ENCODE;default:if(254!==s||0!==e.available())throw new c.default}}while(e.available()>0);return n.ASCII_ENCODE},e.decodeC40Segment=function(e,t){var r=!1,n=[],i=0;do{if(8===e.available())return;var s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new c.default;var u=this.C40_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){u=this.C40_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new c.default}i=0;break;case 3:r?(t.append(String.fromCharCode(o+224)),r=!1):t.append(String.fromCharCode(o+96)),i=0;break;default:throw new c.default}}}while(e.available()>0)},e.decodeTextSegment=function(e,t){var r=!1,n=[],i=0;do{if(8===e.available())return;var s=e.readBits(8);if(254===s)return;this.parseTwoBytes(s,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(i){case 0:if(o<3)i=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new c.default;var u=this.TEXT_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),i=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){u=this.TEXT_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new c.default}i=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new c.default;u=this.TEXT_SHIFT3_SET_CHARS[o];r?(t.append(String.fromCharCode(u.charCodeAt(0)+128)),r=!1):t.append(u),i=0;break;default:throw new c.default}}}while(e.available()>0)},e.decodeAnsiX12Segment=function(e,t){var r=[];do{if(8===e.available())return;var n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(var i=0;i<3;i++){var s=r[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else{if(!(s<40))throw new c.default;t.append(String.fromCharCode(s+51))}}}}while(e.available()>0)},e.parseTwoBytes=function(e,t,r){var n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i},e.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var n=e.readBits(6);if(31===n){var i=8-e.getBitOffset();return void(8!==i&&e.readBits(i))}0==(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)},e.decodeBase256Segment=function(e,t,r){var n,i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++);if((n=0===s?e.available()/8|0:s<250?s:250*(s-249)+this.unrandomize255State(e.readBits(8),i++))<0)throw new c.default;for(var a=new Uint8Array(n),d=0;d<n;d++){if(e.available()<8)throw new c.default;a[d]=this.unrandomize255State(e.readBits(8),i++)}r.push(a);try{t.append(o.default.decode(a,u.StringUtils.ISO88591))}catch(e){throw new l.default("Platform does not support required encoding: "+e.message)}},e.unrandomize255State=function(e,t){var r=e-(149*t%255+1);return r>=0?r:r+256},e.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],e.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e.TEXT_SHIFT2_SET_CHARS=e.C40_SHIFT2_SET_CHARS,e.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],e}();t.default=d},142985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116559),i=r(295826),s=r(212408),a=r(106754),o=r(173250),u=r(285780),c=function(){function e(){this.rsDecoder=new n.default(i.default.DATA_MATRIX_FIELD_256)}return e.prototype.decode=function(e){for(var t=new s.default(e),r=t.getVersion(),n=t.readCodewords(),i=a.default.getDataBlocks(n,r),u=0,c=0,l=i;c<l.length;c++){u+=l[c].getNumDataCodewords()}for(var d=new Uint8Array(u),f=i.length,h=0;h<f;h++){var p=i[h],m=p.getCodewords(),g=p.getNumDataCodewords();this.correctErrors(m,g);for(var y=0;y<g;y++)d[y*f+h]=m[y]}return o.default.decode(d)},e.prototype.correctErrors=function(e,t){e.length;var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new u.default}for(var n=0;n<t;n++)e[n]=r[n]},e}();t.default=c},988268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81725),i=function(){function e(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return e.prototype.getECCodewords=function(){return this.ecCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e}();t.ECBlocks=i;var s=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}();t.ECB=s;var a=function(){function e(e,t,r,n,i,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=s;for(var a=0,o=s.getECCodewords(),u=0,c=s.getECBlocks();u<c.length;u++){var l=c[u];a+=l.getCount()*(l.getDataCodewords()+o)}this.totalCodewords=a}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},e.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},e.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},e.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getECBlocks=function(){return this.ecBlocks},e.getVersionForDimensions=function(t,r){if(0!=(1&t)||0!=(1&r))throw new n.default;for(var i=0,s=e.VERSIONS;i<s.length;i++){var a=s[i];if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a}throw new n.default},e.prototype.toString=function(){return""+this.versionNumber},e.buildVersions=function(){return[new e(1,10,10,8,8,new i(5,new s(1,3))),new e(2,12,12,10,10,new i(7,new s(1,5))),new e(3,14,14,12,12,new i(10,new s(1,8))),new e(4,16,16,14,14,new i(12,new s(1,12))),new e(5,18,18,16,16,new i(14,new s(1,18))),new e(6,20,20,18,18,new i(18,new s(1,22))),new e(7,22,22,20,20,new i(20,new s(1,30))),new e(8,24,24,22,22,new i(24,new s(1,36))),new e(9,26,26,24,24,new i(28,new s(1,44))),new e(10,32,32,14,14,new i(36,new s(1,62))),new e(11,36,36,16,16,new i(42,new s(1,86))),new e(12,40,40,18,18,new i(48,new s(1,114))),new e(13,44,44,20,20,new i(56,new s(1,144))),new e(14,48,48,22,22,new i(68,new s(1,174))),new e(15,52,52,24,24,new i(42,new s(2,102))),new e(16,64,64,14,14,new i(56,new s(2,140))),new e(17,72,72,16,16,new i(36,new s(4,92))),new e(18,80,80,18,18,new i(48,new s(4,114))),new e(19,88,88,20,20,new i(56,new s(4,144))),new e(20,96,96,22,22,new i(68,new s(4,174))),new e(21,104,104,24,24,new i(56,new s(6,136))),new e(22,120,120,18,18,new i(68,new s(6,175))),new e(23,132,132,20,20,new i(62,new s(8,163))),new e(24,144,144,22,22,new i(62,new s(8,156),new s(2,155))),new e(25,8,18,6,16,new i(7,new s(1,5))),new e(26,8,32,6,14,new i(11,new s(1,10))),new e(27,12,26,10,24,new i(14,new s(1,16))),new e(28,12,36,10,16,new i(18,new s(1,22))),new e(29,16,36,14,16,new i(24,new s(1,32))),new e(30,16,48,14,22,new i(28,new s(1,49)))]},e.VERSIONS=e.buildVersions(),e}();t.default=a},819154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(911729),i=r(227259),s=r(128485),a=r(264),o=r(59095),u=r(813570),c=function(){function e(e){this.image=e,this.rectangleDetector=new o.default(e)}return e.prototype.detect=function(){var t=this.rectangleDetector.detect(),r=t[0],s=t[1],a=t[2],o=t[3],c=[];c.push(this.transitionsBetween(r,s)),c.push(this.transitionsBetween(r,a)),c.push(this.transitionsBetween(s,o)),c.push(this.transitionsBetween(a,o)),c.sort(l.resultPointsAndTransitionsComparator);var d=c[0],f=c[1],h=new Map;e.increment(h,d.getFrom()),e.increment(h,d.getTo()),e.increment(h,f.getFrom()),e.increment(h,f.getTo());for(var p=null,m=null,g=null,y=0,v=Array.from(h.entries());y<v.length;y++){var w=v[y],b=w[0];2===w[1]?m=b:null==p?p=b:g=b}if(null==p||null==m||null==g)throw new u.default;var E=[p,m,g];n.default.orderBestPatterns(E);var _=E[0];m=E[1];var I,S=E[2];I=h.has(r)?h.has(s)?h.has(a)?o:a:s:r;var O,T,N=this.transitionsBetween(S,I).getTransitions(),A=this.transitionsBetween(_,I).getTransitions();if(1==(1&N)&&N++,1==(1&A)&&A++,4*(N+=2)>=7*(A+=2)||4*A>=7*N)null==(T=this.correctTopRightRectangular(m,_,S,I,N,A))&&(T=I),1==(1&(N=this.transitionsBetween(S,T).getTransitions()))&&N++,1==(1&(A=this.transitionsBetween(_,T).getTransitions()))&&A++,O=e.sampleGrid(this.image,S,m,_,T,N,A);else{var P=Math.min(A,N);null==(T=this.correctTopRight(m,_,S,I,P))&&(T=I);var C=Math.max(this.transitionsBetween(S,T).getTransitions(),this.transitionsBetween(_,T).getTransitions());1==(1&++C)&&C++,O=e.sampleGrid(this.image,S,m,_,T,C,C)}return new i.default(O,[S,m,_,T])},e.prototype.correctTopRightRectangular=function(t,r,i,s,a,o){var u=e.distance(t,r)/a,c=e.distance(i,s),l=(s.getX()-i.getX())/c,d=(s.getY()-i.getY())/c,f=new n.default(s.getX()+u*l,s.getY()+u*d);u=e.distance(t,i)/o,c=e.distance(r,s),l=(s.getX()-r.getX())/c,d=(s.getY()-r.getY())/c;var h=new n.default(s.getX()+u*l,s.getY()+u*d);return this.isValid(f)?this.isValid(h)?Math.abs(a-this.transitionsBetween(i,f).getTransitions())+Math.abs(o-this.transitionsBetween(r,f).getTransitions())<=Math.abs(a-this.transitionsBetween(i,h).getTransitions())+Math.abs(o-this.transitionsBetween(r,h).getTransitions())?f:h:f:this.isValid(h)?h:null},e.prototype.correctTopRight=function(t,r,i,s,a){var o=e.distance(t,r)/a,u=e.distance(i,s),c=(s.getX()-i.getX())/u,l=(s.getY()-i.getY())/u,d=new n.default(s.getX()+o*c,s.getY()+o*l);o=e.distance(t,i)/a,u=e.distance(r,s),c=(s.getX()-r.getX())/u,l=(s.getY()-r.getY())/u;var f=new n.default(s.getX()+o*c,s.getY()+o*l);return this.isValid(d)?this.isValid(f)?Math.abs(this.transitionsBetween(i,d).getTransitions()-this.transitionsBetween(r,d).getTransitions())<=Math.abs(this.transitionsBetween(i,f).getTransitions()-this.transitionsBetween(r,f).getTransitions())?d:f:d:this.isValid(f)?f:null},e.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},e.distance=function(e,t){return a.default.round(n.default.distance(e,t))},e.increment=function(e,t){var r=e.get(t);e.set(t,null==r?1:r+1)},e.sampleGrid=function(e,t,r,n,i,a,o){return s.default.getInstance().sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())},e.prototype.transitionsBetween=function(e,t){var r=0|e.getX(),n=0|e.getY(),i=0|t.getX(),s=0|t.getY(),a=Math.abs(s-n)>Math.abs(i-r);if(a){var o=r;r=n,n=o,o=i,i=s,s=o}for(var u=Math.abs(i-r),c=Math.abs(s-n),d=-u/2,f=n<s?1:-1,h=r<i?1:-1,p=0,m=this.image.get(a?n:r,a?r:n),g=r,y=n;g!==i;g+=h){var v=this.image.get(a?y:g,a?g:y);if(v!==m&&(p++,m=v),(d+=c)>0){if(y===s)break;y+=f,d-=u}}return new l(e,t,p)},e}();t.default=c;var l=function(){function e(e,t,r){this.from=e,this.to=t,this.transitions=r}return e.prototype.getFrom=function(){return this.from},e.prototype.getTo=function(){return this.to},e.prototype.getTransitions=function(){return this.transitions},e.prototype.toString=function(){return this.from+"/"+this.to+"/"+this.transitions},e.resultPointsAndTransitionsComparator=function(e,t){return e.getTransitions()-t.getTransitions()},e}()},756055:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(756212),o=r(911729),u=r(93695),c=r(813570),l=r(81725),d=r(285780),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.findStartPattern=function(e){for(var r=e.getSize(),n=e.getNextSet(0),i=0,s=[0,0,0,0,0,0],a=n,o=!1,l=n;l<r;l++)if(e.get(l)!==o)s[i]++;else{if(5===i){for(var d=t.MAX_AVG_VARIANCE,f=-1,h=t.CODE_START_A;h<=t.CODE_START_C;h++){var p=u.default.patternMatchVariance(s,t.CODE_PATTERNS[h],t.MAX_INDIVIDUAL_VARIANCE);p<d&&(d=p,f=h)}if(f>=0&&e.isRange(Math.max(0,a-(l-a)/2),a,!1))return[a,l,f];a+=s[0]+s[1],s.splice(0,2),s[i-1]=0,s[i]=0,i--}else i++;s[i]=1,o=!o}throw new c.default},t.decodeCode=function(e,r,n){u.default.recordPattern(e,n,r);for(var i=t.MAX_AVG_VARIANCE,s=-1,a=0;a<t.CODE_PATTERNS.length;a++){var o=t.CODE_PATTERNS[a],l=this.patternMatchVariance(r,o,t.MAX_INDIVIDUAL_VARIANCE);l<i&&(i=l,s=a)}if(s>=0)return s;throw new c.default},t.prototype.decodeRow=function(e,r,n){var i,u=n&&!0===n.get(7),f=t.findStartPattern(r),h=f[2],p=0,m=new Uint8Array(20);switch(m[p++]=h,h){case t.CODE_START_A:i=t.CODE_CODE_A;break;case t.CODE_START_B:i=t.CODE_CODE_B;break;case t.CODE_START_C:i=t.CODE_CODE_C;break;default:throw new l.default}for(var g=!1,y=!1,v="",w=f[0],b=f[1],E=[0,0,0,0,0,0],_=0,I=0,S=h,O=0,T=!0,N=!1,A=!1;!g;){var P=y;switch(y=!1,_=I,I=t.decodeCode(r,E,b),m[p++]=I,I!==t.CODE_STOP&&(T=!0),I!==t.CODE_STOP&&(S+=++O*I),w=b,b+=E.reduce((function(e,t){return e+t}),0),I){case t.CODE_START_A:case t.CODE_START_B:case t.CODE_START_C:throw new l.default}switch(i){case t.CODE_CODE_A:if(I<64)v+=A===N?String.fromCharCode(" ".charCodeAt(0)+I):String.fromCharCode(" ".charCodeAt(0)+I+128),A=!1;else if(I<96)v+=A===N?String.fromCharCode(I-64):String.fromCharCode(I+64),A=!1;else switch(I!==t.CODE_STOP&&(T=!1),I){case t.CODE_FNC_1:u&&(0===v.length?v+="]C1":v+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_A:!N&&A?(N=!0,A=!1):N&&A?(N=!1,A=!1):A=!0;break;case t.CODE_SHIFT:y=!0,i=t.CODE_CODE_B;break;case t.CODE_CODE_B:i=t.CODE_CODE_B;break;case t.CODE_CODE_C:i=t.CODE_CODE_C;break;case t.CODE_STOP:g=!0}break;case t.CODE_CODE_B:if(I<96)v+=A===N?String.fromCharCode(" ".charCodeAt(0)+I):String.fromCharCode(" ".charCodeAt(0)+I+128),A=!1;else switch(I!==t.CODE_STOP&&(T=!1),I){case t.CODE_FNC_1:u&&(0===v.length?v+="]C1":v+=String.fromCharCode(29));break;case t.CODE_FNC_2:case t.CODE_FNC_3:break;case t.CODE_FNC_4_B:!N&&A?(N=!0,A=!1):N&&A?(N=!1,A=!1):A=!0;break;case t.CODE_SHIFT:y=!0,i=t.CODE_CODE_A;break;case t.CODE_CODE_A:i=t.CODE_CODE_A;break;case t.CODE_CODE_C:i=t.CODE_CODE_C;break;case t.CODE_STOP:g=!0}break;case t.CODE_CODE_C:if(I<100)I<10&&(v+="0"),v+=I;else switch(I!==t.CODE_STOP&&(T=!1),I){case t.CODE_FNC_1:u&&(0===v.length?v+="]C1":v+=String.fromCharCode(29));break;case t.CODE_CODE_A:i=t.CODE_CODE_A;break;case t.CODE_CODE_B:i=t.CODE_CODE_B;break;case t.CODE_STOP:g=!0}}P&&(i=i===t.CODE_CODE_A?t.CODE_CODE_B:t.CODE_CODE_A)}var C=b-w;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-w)/2),!1))throw new c.default;if((S-=O*_)%103!==_)throw new d.default;var x=v.length;if(0===x)throw new c.default;x>0&&T&&(v=i===t.CODE_CODE_C?v.substring(0,x-2):v.substring(0,x-1));for(var R=(f[1]+f[0])/2,M=w+C/2,j=m.length,B=new Uint8Array(j),k=0;k<j;k++)B[k]=m[k];var D=[new o.default(R,e),new o.default(M,e)];return new a.default(v,B,0,D,s.default.CODE_128,(new Date).getTime())},t.CODE_PATTERNS=[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]],t.MAX_AVG_VARIANCE=.25,t.MAX_INDIVIDUAL_VARIANCE=.7,t.CODE_SHIFT=98,t.CODE_CODE_C=99,t.CODE_CODE_B=100,t.CODE_CODE_A=101,t.CODE_FNC_1=102,t.CODE_FNC_2=97,t.CODE_FNC_3=96,t.CODE_FNC_4_A=101,t.CODE_FNC_4_B=100,t.CODE_START_A=103,t.CODE_START_B=104,t.CODE_START_C=105,t.CODE_STOP=106,t}(u.default);t.default=f},704085:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(285780),o=r(81725),u=r(813570),c=r(93695),l=r(756212),d=r(911729),f=function(e){function t(t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.call(this)||this;return n.usingCheckDigit=t,n.extendedMode=r,n.decodeRowResult="",n.counters=new Array(9),n}return i(t,e),t.prototype.decodeRow=function(e,r,n){var i=this.counters;i.fill(0),this.decodeRowResult="";var o,c,f,h=t.findAsteriskPattern(r,i),p=r.getNextSet(h[1]),m=r.getSize();do{t.recordPattern(r,p,i);var g=t.toNarrowWidePattern(i);if(g<0)throw new u.default;o=t.patternToChar(g),this.decodeRowResult+=o,c=p;for(var y=0,v=i;y<v.length;y++){p+=v[y]}p=r.getNextSet(p)}while("*"!==o);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);for(var w=0,b=0,E=i;b<E.length;b++){w+=E[b]}if(p!==m&&2*(p-c-w)<w)throw new u.default;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,I=0,S=0;S<_;S++)I+=t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(_)!==t.ALPHABET_STRING.charAt(I%43))throw new a.default;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(0===this.decodeRowResult.length)throw new u.default;f=this.extendedMode?t.decodeExtended(this.decodeRowResult):this.decodeRowResult;var O=(h[1]+h[0])/2,T=c+w/2;return new l.default(f,null,0,[new d.default(O,e),new d.default(T,e)],s.default.CODE_39,(new Date).getTime())},t.findAsteriskPattern=function(e,r){for(var n=e.getSize(),i=e.getNextSet(0),s=0,a=i,o=!1,c=r.length,l=i;l<n;l++)if(e.get(l)!==o)r[s]++;else{if(s===c-1){if(this.toNarrowWidePattern(r)===t.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,o=!o}throw new u.default},t.toNarrowWidePattern=function(e){var t,r=e.length,n=0;do{for(var i=2147483647,s=0,a=e;s<a.length;s++){(l=a[s])<i&&l>n&&(i=l)}n=i,t=0;for(var o=0,u=0,c=0;c<r;c++){(l=e[c])>n&&(u|=1<<r-1-c,t++,o+=l)}if(3===t){for(c=0;c<r&&t>0;c++){var l;if((l=e[c])>n&&(t--,2*l>=o))return-1}return u}}while(t>3);return-1},t.patternToChar=function(e){for(var r=0;r<t.CHARACTER_ENCODINGS.length;r++)if(t.CHARACTER_ENCODINGS[r]===e)return t.ALPHABET_STRING.charAt(r);if(e===t.ASTERISK_ENCODING)return"*";throw new u.default},t.decodeExtended=function(e){for(var t=e.length,r="",n=0;n<t;n++){var i=e.charAt(n);if("+"===i||"$"===i||"%"===i||"/"===i){var s=e.charAt(n+1),a="\0";switch(i){case"+":if(!(s>="A"&&s<="Z"))throw new o.default;a=String.fromCharCode(s.charCodeAt(0)+32);break;case"$":if(!(s>="A"&&s<="Z"))throw new o.default;a=String.fromCharCode(s.charCodeAt(0)-64);break;case"%":if(s>="A"&&s<="E")a=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")a=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")a=String.fromCharCode(s.charCodeAt(0)+43);else if("U"===s)a="\0";else if("V"===s)a="@";else if("W"===s)a="`";else{if("X"!==s&&"Y"!==s&&"Z"!==s)throw new o.default;a=""}break;case"/":if(s>="A"&&s<="O")a=String.fromCharCode(s.charCodeAt(0)-32);else{if("Z"!==s)throw new o.default;a=":"}}r+=a,n++}else r+=i}return r},t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],t.ASTERISK_ENCODING=148,t}(c.default);t.default=f},221074:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(981608),o=r(813570),u=function(e){function t(){var t=e.call(this)||this;return t.decodeMiddleCounters=[0,0,0,0],t}return i(t,e),t.prototype.decodeMiddle=function(e,r,n){var i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=e.getSize(),o=r[1],u=0,c=0;c<6&&o<s;c++){var l=a.default.decodeDigit(e,i,o,a.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);for(var d=0,f=i;d<f.length;d++){o+=f[d]}l>=10&&(u|=1<<5-c)}n=t.determineFirstDigit(n,u),o=a.default.findGuardPattern(e,o,!0,a.default.MIDDLE_PATTERN,new Array(a.default.MIDDLE_PATTERN.length).fill(0))[1];for(c=0;c<6&&o<s;c++){l=a.default.decodeDigit(e,i,o,a.default.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l);for(var h=0,p=i;h<p.length;h++){o+=p[h]}}return{rowOffset:o,resultString:n}},t.prototype.getBarcodeFormat=function(){return s.default.EAN_13},t.determineFirstDigit=function(e,t){for(var r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new o.default},t.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],t}(a.default);t.default=u},650775:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(756212),o=r(911729),u=r(93695),c=r(467540),l=r(592550),d=r(81725),f=r(813570),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return i(t,e),t.prototype.decodeRow=function(e,r,n){var i=this.decodeStart(r),u=this.decodeEnd(r),l=new c.default;t.decodeMiddle(r,i[1],u[0],l);var f=l.toString(),h=null;null!=n&&(h=n.get(5)),null==h&&(h=t.DEFAULT_ALLOWED_LENGTHS);for(var p=f.length,m=!1,g=0,y=0,v=h;y<v.length;y++){var w=v[y];if(p===w){m=!0;break}w>g&&(g=w)}if(!m&&p>g&&(m=!0),!m)throw new d.default;var b=[new o.default(i[1],e),new o.default(u[0],e)];return new a.default(f,null,0,b,s.default.ITF,(new Date).getTime())},t.decodeMiddle=function(e,r,n,i){var s=new Array(10),a=new Array(5),o=new Array(5);for(s.fill(0),a.fill(0),o.fill(0);r<n;){u.default.recordPattern(e,r,s);for(var c=0;c<5;c++){var l=2*c;a[c]=s[l],o[c]=s[l+1]}var d=t.decodeDigit(a);i.append(d.toString()),d=this.decodeDigit(o),i.append(d.toString()),s.forEach((function(e){r+=e}))}},t.prototype.decodeStart=function(e){var r=t.skipWhiteSpace(e),n=t.findGuardPattern(e,r,t.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n},t.prototype.validateQuietZone=function(e,t){var r=10*this.narrowLineWidth;r=r<t?r:t;for(var n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new f.default},t.skipWhiteSpace=function(e){var t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new f.default;return r},t.prototype.decodeEnd=function(e){e.reverse();try{var r=t.skipWhiteSpace(e),n=void 0;try{n=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[0])}catch(i){n=t.findGuardPattern(e,r,t.END_PATTERN_REVERSED[1])}this.validateQuietZone(e,n[0]);var i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}},t.findGuardPattern=function(e,r,n){var i=n.length,s=new Array(i),a=e.getSize(),o=!1,c=0,d=r;s.fill(0);for(var h=r;h<a;h++)if(e.get(h)!==o)s[c]++;else{if(c===i-1){if(u.default.patternMatchVariance(s,n,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[d,h];d+=s[0]+s[1],l.default.arraycopy(s,2,s,0,c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,o=!o}throw new f.default},t.decodeDigit=function(e){for(var r=t.MAX_AVG_VARIANCE,n=-1,i=t.PATTERNS.length,s=0;s<i;s++){var a=t.PATTERNS[s],o=u.default.patternMatchVariance(e,a,t.MAX_INDIVIDUAL_VARIANCE);o<r?(r=o,n=s):o===r&&(n=-1)}if(n>=0)return n%10;throw new f.default},t.W=3,t.w=2,t.N=1,t.PATTERNS=[[1,1,2,2,1],[2,1,1,1,2],[1,2,1,1,2],[2,2,1,1,1],[1,1,2,1,2],[2,1,2,1,1],[1,2,2,1,1],[1,1,1,2,2],[2,1,1,2,1],[1,2,1,2,1],[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],t.MAX_AVG_VARIANCE=.38,t.MAX_INDIVIDUAL_VARIANCE=.5,t.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],t.START_PATTERN=[1,1,1,1],t.END_PATTERN_REVERSED=[[1,1,2],[1,1,3]],t}(u.default);t.default=h},509802:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(704085),o=r(756055),u=r(650775),c=r(122224),l=r(813570),d=function(e){function t(t){var r=e.call(this)||this;r.readers=[];var n=t?t.get(2):null,i=t&&void 0!==t.get(6);return n&&(n.includes(s.default.EAN_13)&&r.readers.push(new c.default(t)),n.includes(s.default.CODE_39)&&r.readers.push(new a.default(i)),n.includes(s.default.CODE_128)&&r.readers.push(new o.default),n.includes(s.default.ITF)&&r.readers.push(new u.default)),0===r.readers.length&&(r.readers.push(new a.default),r.readers.push(new c.default(t)),r.readers.push(new o.default),r.readers.push(new u.default)),r}return i(t,e),t.prototype.decodeRow=function(e,t,r){for(var n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch(e){}throw new l.default},t.prototype.reset=function(){this.readers.forEach((function(e){return e.reset()}))},t}(r(93695).default);t.default=d},122224:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(93695),o=r(221074),u=r(813570),c=function(e){function t(t){var r=e.call(this)||this,n=null==t?null:t.get(2),i=[];return null!=n&&n.indexOf(s.default.EAN_13)>-1&&i.push(new o.default),0===i.length&&i.push(new o.default),r.readers=i,r}return i(t,e),t.prototype.decodeRow=function(e,t,r){for(var n=0,i=this.readers;n<i.length;n++){var s=i[n];try{return s.decodeRow(e,t,r)}catch(e){}}throw new u.default},t.prototype.reset=function(){for(var e=0,t=this.readers;e<t.length;e++){t[e].reset()}},t}(a.default);t.default=c},93695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(847731),i=r(752191),s=r(911729),a=r(813570),o=function(){function e(){}return e.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch(f){if(t&&!0===t.get(3)&&e.isRotateSupported()){var r=e.rotateCounterClockwise(),n=this.doDecode(r,t),o=n.getResultMetadata(),u=270;null!==o&&!0===o.get(i.default.ORIENTATION)&&(u+=o.get(i.default.ORIENTATION)%360),n.putMetadata(i.default.ORIENTATION,u);var c=n.getResultPoints();if(null!==c)for(var l=r.getHeight(),d=0;d<c.length;d++)c[d]=new s.default(l-c[d].getY()-1,c[d].getX());return n}throw new a.default}},e.prototype.reset=function(){},e.prototype.doDecode=function(e,t){var r,o=e.getWidth(),u=e.getHeight(),c=new n.default(o),l=t&&!0===t.get(3),d=Math.max(1,u>>(l?8:5));r=l?u:15;for(var f=Math.trunc(u/2),h=0;h<r;h++){var p=Math.trunc((h+1)/2),m=f+d*(0==(1&h)?p:-p);if(m<0||m>=u)break;try{c=e.getBlackRow(m,c)}catch(e){continue}for(var g=function(e){if(1===e&&(c.reverse(),t&&!0===t.get(9))){var r=new Map;t.forEach((function(e,t){return r.set(t,e)})),r.delete(9),t=r}try{var n=y.decodeRow(m,c,t);if(1===e){n.putMetadata(i.default.ORIENTATION,180);var a=n.getResultPoints();null!==a&&(a[0]=new s.default(o-a[0].getX()-1,a[0].getY()),a[1]=new s.default(o-a[1].getX()-1,a[1].getY()))}return{value:n}}catch(e){}},y=this,v=0;v<2;v++){var w=g(v);if("object"==typeof w)return w.value}}throw new a.default},e.recordPattern=function(e,t,r){for(var n=r.length,i=0;i<n;i++)r[i]=0;var s=e.getSize();if(t>=s)throw new a.default;for(var o=!e.get(t),u=0,c=t;c<s;){if(e.get(c)!==o)r[u]++;else{if(++u===n)break;r[u]=1,o=!o}c++}if(u!==n&&(u!==n-1||c!==s))throw new a.default},e.recordPatternInReverse=function(t,r,n){for(var i=n.length,s=t.get(r);r>0&&i>=0;)t.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new a.default;e.recordPattern(t,r+1,n)},e.patternMatchVariance=function(e,t,r){for(var n=e.length,i=0,s=0,a=0;a<n;a++)i+=e[a],s+=t[a];if(i<s)return Number.POSITIVE_INFINITY;var o=i/s;r*=o;for(var u=0,c=0;c<n;c++){var l=e[c],d=t[c]*o,f=l>d?l-d:d-l;if(f>r)return Number.POSITIVE_INFINITY;u+=f}return u/i},e}();t.default=o},804218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(740496),i=r(981608),s=r(756212),a=r(911729),o=r(752191),u=r(813570),c=function(){function e(){this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,i){var o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),c=o.toString(),l=e.parseExtensionString(c),d=[new a.default((i[0]+i[1])/2,t),new a.default(u,t)],f=new s.default(c,null,0,d,n.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=l&&f.putAllMetadata(l),f},e.prototype.decodeMiddle=function(e,t,r){var n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var s=e.getSize(),a=t[1],o=0,c=0;c<2&&a<s;c++){var l=i.default.decodeDigit(e,n,a,i.default.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+l%10);for(var d=0,f=n;d<f.length;d++){a+=f[d]}l>=10&&(o|=1<<1-c),1!==c&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(2!==r.length)throw new u.default;if(parseInt(r.toString())%4!==o)throw new u.default;return a},e.parseExtensionString=function(e){return 2!==e.length?null:new Map([[o.default.ISSUE_NUMBER,parseInt(e)]])},e}();t.default=c},716185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(740496),i=r(981608),s=r(756212),a=r(911729),o=r(752191),u=r(813570),c=function(){function e(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=[0,0,0,0],this.decodeRowStringBuffer=""}return e.prototype.decodeRow=function(t,r,i){var o=this.decodeRowStringBuffer,u=this.decodeMiddle(r,i,o),c=o.toString(),l=e.parseExtensionString(c),d=[new a.default((i[0]+i[1])/2,t),new a.default(u,t)],f=new s.default(c,null,0,d,n.default.UPC_EAN_EXTENSION,(new Date).getTime());return null!=l&&f.putAllMetadata(l),f},e.prototype.decodeMiddle=function(t,r,n){var s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var a=t.getSize(),o=r[1],c=0,l=0;l<5&&o<a;l++){var d=i.default.decodeDigit(t,s,o,i.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+d%10);for(var f=0,h=s;f<h.length;f++){o+=h[f]}d>=10&&(c|=1<<4-l),4!==l&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(5!==n.length)throw new u.default;var p=this.determineCheckDigit(c);if(e.extensionChecksum(n.toString())!==p)throw new u.default;return o},e.extensionChecksum=function(e){for(var t=e.length,r=0,n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return(r*=3)%10},e.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new u.default},e.parseExtensionString=function(t){if(5!==t.length)return null;var r=e.parseExtension5String(t);return null==r?null:new Map([[o.default.SUGGESTED_PRICE,r]])},e.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="Â£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}var r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())},e}();t.default=c},619398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(981608),i=r(716185),s=r(804218),a=function(){function e(){}return e.decodeRow=function(e,t,r){var a=n.default.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new i.default).decodeRow(e,t,a)}catch(r){return(new s.default).decodeRow(e,t,a)}},e.EXTENSION_START_PATTERN=[1,1,2],e}();t.default=a},981608:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=r(740496),a=r(756212),o=r(752191),u=r(911729),c=r(93695),l=r(619398),d=r(813570),f=r(81725),h=r(285780),p=function(e){function t(){var r=e.call(this)||this;r.decodeRowStringBuffer="",r.decodeRowStringBuffer="",t.L_AND_G_PATTERNS=t.L_PATTERNS.map((function(e){return e.slice()}));for(var n=10;n<20;n++){for(var i=t.L_PATTERNS[n-10],s=new Array(i.length),a=0;a<i.length;a++)s[a]=i[i.length-a-1];t.L_AND_G_PATTERNS[n]=s}return r}return i(t,e),t.findStartGuardPattern=function(e){for(var r=!1,n=null,i=0,s=[0,0,0];!r;){s=[0,0,0];var a=(n=t.findGuardPattern(e,i,!1,this.START_END_PATTERN,s))[0],o=a-((i=n[1])-a);o>=0&&(r=e.isRange(o,a,!1))}return n},t.prototype.decodeRow=function(e,r,n){var i=t.findStartGuardPattern(r),c=null==n?null:n.get(9);if(null!=c){var p=new u.default((i[0]+i[1])/2,e);c.foundPossibleResultPoint(p)}var m=this.decodeMiddle(r,i,this.decodeRowStringBuffer),g=m.rowOffset,y=m.resultString;if(null!=c){var v=new u.default(g,e);c.foundPossibleResultPoint(v)}var w=t.decodeEnd(r,g);if(null!=c){var b=new u.default((w[0]+w[1])/2,e);c.foundPossibleResultPoint(b)}var E=w[1],_=E+(E-w[0]);if(_>=r.getSize()||!r.isRange(E,_,!1))throw new d.default;var I=y.toString();if(I.length<8)throw new f.default;if(!t.checkChecksum(I))throw new h.default;var S=(i[1]+i[0])/2,O=(w[1]+w[0])/2,T=this.getBarcodeFormat(),N=[new u.default(S,e),new u.default(O,e)],A=new a.default(I,null,0,N,T,(new Date).getTime()),P=0;try{var C=l.default.decodeRow(e,r,w[1]);A.putMetadata(o.default.UPC_EAN_EXTENSION,C.getText()),A.putAllMetadata(C.getResultMetadata()),A.addResultPoints(C.getResultPoints()),P=C.getText().length}catch(e){}var x=null==n?null:n.get(10);if(null!=x){var R=!1;for(var M in x)if(P.toString()===M){R=!0;break}if(!R)throw new d.default}return T===s.default.EAN_13||s.default.UPC_A,A},t.checkChecksum=function(e){return t.checkStandardUPCEANChecksum(e)},t.checkStandardUPCEANChecksum=function(e){var r=e.length;if(0===r)return!1;var n=parseInt(e.charAt(r-1),10);return t.getStandardUPCEANChecksum(e.substring(0,r-1))===n},t.getStandardUPCEANChecksum=function(e){for(var t=e.length,r=0,n=t-1;n>=0;n-=2){if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new f.default;r+=i}r*=3;for(n=t-2;n>=0;n-=2){var i;if((i=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new f.default;r+=i}return(1e3-r)%10},t.decodeEnd=function(e,r){return t.findGuardPattern(e,r,!1,t.START_END_PATTERN,new Array(t.START_END_PATTERN.length).fill(0))},t.findGuardPattern=function(e,r,n,i,s){for(var a=e.getSize(),o=0,u=r=n?e.getNextUnset(r):e.getNextSet(r),l=i.length,f=n,h=r;h<a;h++)if(e.get(h)!==f)s[o]++;else{if(o===l-1){if(c.default.patternMatchVariance(s,i,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return[u,h];u+=s[0]+s[1];for(var p=s.slice(2,s.length),m=0;m<o-1;m++)s[m]=p[m];s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,f=!f}throw new d.default},t.decodeDigit=function(e,r,n,i){this.recordPattern(e,n,r);for(var s=this.MAX_AVG_VARIANCE,a=-1,o=i.length,u=0;u<o;u++){var l=i[u],f=c.default.patternMatchVariance(r,l,t.MAX_INDIVIDUAL_VARIANCE);f<s&&(s=f,a=u)}if(a>=0)return a;throw new d.default},t.MAX_AVG_VARIANCE=.48,t.MAX_INDIVIDUAL_VARIANCE=.7,t.START_END_PATTERN=[1,1,1],t.MIDDLE_PATTERN=[1,1,1,1,1],t.END_PATTERN=[1,1,1,1,1,1],t.L_PATTERNS=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],t}(c.default);t.default=p},432577:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(740496),i=r(756212),s=r(752191),a=r(904977),o=r(317740),u=r(891923),c=r(273526),l=r(813570),d=function(){function e(){this.decoder=new o.default}return e.prototype.getDecoder=function(){return this.decoder},e.prototype.decode=function(t,r){var a,o;if(null!=r&&void 0!==r.get(1)){var l=e.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(l,r),o=e.NO_POINTS}else{var d=new c.default(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(d.getBits(),r),o=d.getPoints()}a.getOther()instanceof u.default&&a.getOther().applyMirroredCorrection(o);var f=new i.default(a.getText(),a.getRawBytes(),void 0,o,n.default.QR_CODE,void 0),h=a.getByteSegments();null!==h&&f.putMetadata(s.default.BYTE_SEGMENTS,h);var p=a.getECLevel();return null!==p&&f.putMetadata(s.default.ERROR_CORRECTION_LEVEL,p),a.hasStructuredAppend()&&(f.putMetadata(s.default.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),f.putMetadata(s.default.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),f},e.prototype.reset=function(){},e.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new l.default;var n=this.moduleSize(t,e),i=t[1],s=r[1],o=t[0],u=r[0];if(o>=u||i>=s)throw new l.default;if(s-i!=u-o&&(u=o+(s-i))>=e.getWidth())throw new l.default;var c=Math.round((u-o+1)/n),d=Math.round((s-i+1)/n);if(c<=0||d<=0)throw new l.default;if(d!==c)throw new l.default;var f=Math.floor(n/2);i+=f;var h=(o+=f)+Math.floor((c-1)*n)-u;if(h>0){if(h>f)throw new l.default;o-=h}var p=i+Math.floor((d-1)*n)-s;if(p>0){if(p>f)throw new l.default;i-=p}for(var m=new a.default(c,d),g=0;g<d;g++)for(var y=i+Math.floor(g*n),v=0;v<c;v++)e.get(o+Math.floor(v*n),y)&&m.set(v,g);return m},e.moduleSize=function(e,t){for(var r=t.getHeight(),n=t.getWidth(),i=e[0],s=e[1],a=!0,o=0;i<n&&s<r;){if(a!==t.get(i,s)){if(5==++o)break;a=!a}i++,s++}if(i===n||s===r)throw new l.default;return(i-e[0])/7},e.NO_POINTS=new Array,e}();t.default=d},156215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(740496),i=r(770876),s=r(904977),a=r(529299),o=r(374023),u=r(479980),c=r(245258),l=function(){function e(){}return e.prototype.encode=function(t,r,s,c,l){if(0===t.length)throw new u.default("Found empty contents");if(r!==n.default.QR_CODE)throw new u.default("Can only encode QR_CODE, but got "+r);if(s<0||c<0)throw new u.default("Requested dimensions are too small: "+s+"x"+c);var d=a.default.L,f=e.QUIET_ZONE_SIZE;null!==l&&(void 0!==l.get(i.default.ERROR_CORRECTION)&&(d=a.default.fromString(l.get(i.default.ERROR_CORRECTION).toString())),void 0!==l.get(i.default.MARGIN)&&(f=Number.parseInt(l.get(i.default.MARGIN).toString(),10)));var h=o.default.encode(t,d,l);return e.renderResult(h,s,c,f)},e.renderResult=function(e,t,r,n){var i=e.getMatrix();if(null===i)throw new c.default;for(var a=i.getWidth(),o=i.getHeight(),u=a+2*n,l=o+2*n,d=Math.max(t,u),f=Math.max(r,l),h=Math.min(Math.floor(d/u),Math.floor(f/l)),p=Math.floor((d-a*h)/2),m=Math.floor((f-o*h)/2),g=new s.default(d,f),y=0,v=m;y<o;y++,v+=h)for(var w=0,b=p;w<a;w++,b+=h)1===i.get(w,y)&&g.setRegion(b,v,h,h);return g},e.QUIET_ZONE_SIZE=4,e}();t.default=l},12832:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(96760),i=r(761592),s=r(378531),a=r(81725),o=function(){function e(e){var t=e.getHeight();if(t<21||1!=(3&t))throw new a.default;this.bitMatrix=e}return e.prototype.readFormatInformation=function(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);var n=this.bitMatrix.getHeight(),s=0,o=n-7;for(r=n-1;r>=o;r--)s=this.copyBit(8,r,s);for(t=n-8;t<n;t++)s=this.copyBit(t,8,s);if(this.parsedFormatInfo=i.default.decodeFormatInformation(e,s),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new a.default},e.prototype.readVersion=function(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return n.default.getVersionForNumber(t);for(var r=0,i=e-11,s=5;s>=0;s--)for(var o=e-9;o>=i;o--)r=this.copyBit(o,s,r);var u=n.default.decodeVersionInformation(r);if(null!==u&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(o=5;o>=0;o--)for(s=e-9;s>=i;s--)r=this.copyBit(o,s,r);if(null!==(u=n.default.decodeVersionInformation(r))&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new a.default},e.prototype.copyBit=function(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1},e.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=s.default.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);for(var i=t.buildFunctionPattern(),o=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,l=0,d=0,f=n-1;f>0;f-=2){6===f&&f--;for(var h=0;h<n;h++)for(var p=o?n-1-h:h,m=0;m<2;m++)i.get(f-m,p)||(d++,l<<=1,this.bitMatrix.get(f-m,p)&&(l|=1),8===d&&(u[c++]=l,d=0,l=0));o=!o}if(c!==t.getTotalCodewords())throw new a.default;return u},e.prototype.remask=function(){if(null!==this.parsedFormatInfo){var e=s.default.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},e.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},e.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))},e}();t.default=o},762294:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980),i=function(){function e(e,t){this.numDataCodewords=e,this.codewords=t}return e.getDataBlocks=function(t,r,i){if(t.length!==r.getTotalCodewords())throw new n.default;for(var s=r.getECBlocksForLevel(i),a=0,o=s.getECBlocks(),u=0,c=o;u<c.length;u++){a+=(p=c[u]).getCount()}for(var l=new Array(a),d=0,f=0,h=o;f<h.length;f++)for(var p=h[f],m=0;m<p.getCount();m++){var g=p.getDataCodewords(),y=s.getECCodewordsPerBlock()+g;l[d++]=new e(g,new Uint8Array(y))}for(var v=l[0].codewords.length,w=l.length-1;w>=0;){if(l[w].codewords.length===v)break;w--}w++;var b=v-s.getECCodewordsPerBlock(),E=0;for(m=0;m<b;m++)for(var _=0;_<d;_++)l[_].codewords[m]=t[E++];for(_=w;_<d;_++)l[_].codewords[b]=t[E++];var I=l[0].codewords.length;for(m=b;m<I;m++)for(_=0;_<d;_++){var S=_<w?m:m+1;l[_].codewords[S]=t[E++]}return l},e.prototype.getNumDataCodewords=function(){return this.numDataCodewords},e.prototype.getCodewords=function(){return this.codewords},e}();t.default=i},378531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(t.DataMaskValues||(t.DataMaskValues={}));var r=function(){function e(e,t){this.value=e,this.isMasked=t}return e.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},e.values=new Map([[0,new e(0,(function(e,t){return 0==(e+t&1)}))],[1,new e(1,(function(e,t){return 0==(1&e)}))],[2,new e(2,(function(e,t){return t%3==0}))],[3,new e(3,(function(e,t){return(e+t)%3==0}))],[4,new e(4,(function(e,t){return 0==(Math.floor(e/2)+Math.floor(t/3)&1)}))],[5,new e(5,(function(e,t){return e*t%6==0}))],[6,new e(6,(function(e,t){return e*t%6<3}))],[7,new e(7,(function(e,t){return 0==(e+t+e*t%3&1)}))]]),e}();t.default=r},494801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(380149),i=r(413242),s=r(198193),a=r(813381),o=r(181859),u=r(467540),c=r(375290),l=r(81725),d=function(){function e(){}return e.decode=function(t,r,a,c){var d=new n.default(t),f=new u.default,h=new Array,p=-1,m=-1;try{var g=null,y=!1,v=void 0;do{if(d.available()<4)v=o.default.TERMINATOR;else{var w=d.readBits(4);v=o.default.forBits(w)}switch(v){case o.default.TERMINATOR:break;case o.default.FNC1_FIRST_POSITION:case o.default.FNC1_SECOND_POSITION:y=!0;break;case o.default.STRUCTURED_APPEND:if(d.available()<16)throw new l.default;p=d.readBits(8),m=d.readBits(8);break;case o.default.ECI:var b=e.parseECIValue(d);if(null===(g=i.default.getCharacterSetECIByValue(b)))throw new l.default;break;case o.default.HANZI:var E=d.readBits(4),_=d.readBits(v.getCharacterCountBits(r));E===e.GB2312_SUBSET&&e.decodeHanziSegment(d,f,_);break;default:var I=d.readBits(v.getCharacterCountBits(r));switch(v){case o.default.NUMERIC:e.decodeNumericSegment(d,f,I);break;case o.default.ALPHANUMERIC:e.decodeAlphanumericSegment(d,f,I,y);break;case o.default.BYTE:e.decodeByteSegment(d,f,I,g,h,c);break;case o.default.KANJI:e.decodeKanjiSegment(d,f,I);break;default:throw new l.default}}}while(v!==o.default.TERMINATOR)}catch(e){throw new l.default}return new s.default(t,f.toString(),0===h.length?null:h,null===a?null:a.toString(),p,m)},e.decodeHanziSegment=function(e,t,r){if(13*r>e.available())throw new l.default;for(var n=new Uint8Array(2*r),i=0;r>0;){var s=e.readBits(13),o=s/96<<8&4294967295|s%96;o+=o<959?41377:42657,n[i]=o>>8&255,n[i+1]=255&o,i+=2,r--}try{t.append(c.default.decode(n,a.default.GB2312))}catch(e){throw new l.default(e)}},e.decodeKanjiSegment=function(e,t,r){if(13*r>e.available())throw new l.default;for(var n=new Uint8Array(2*r),i=0;r>0;){var s=e.readBits(13),o=s/192<<8&4294967295|s%192;o+=o<7936?33088:49472,n[i]=o>>8,n[i+1]=o,i+=2,r--}try{t.append(c.default.decode(n,a.default.SHIFT_JIS))}catch(e){throw new l.default(e)}},e.decodeByteSegment=function(e,t,r,n,i,s){if(8*r>e.available())throw new l.default;for(var o,u=new Uint8Array(r),d=0;d<r;d++)u[d]=e.readBits(8);o=null===n?a.default.guessEncoding(u,s):n.getName();try{t.append(c.default.decode(u,o))}catch(e){throw new l.default(e)}i.push(u)},e.toAlphaNumericChar=function(t){if(t>=e.ALPHANUMERIC_CHARS.length)throw new l.default;return e.ALPHANUMERIC_CHARS[t]},e.decodeAlphanumericSegment=function(t,r,n,i){for(var s=r.length();n>1;){if(t.available()<11)throw new l.default;var a=t.readBits(11);r.append(e.toAlphaNumericChar(Math.floor(a/45))),r.append(e.toAlphaNumericChar(a%45)),n-=2}if(1===n){if(t.available()<6)throw new l.default;r.append(e.toAlphaNumericChar(t.readBits(6)))}if(i)for(var o=s;o<r.length();o++)"%"===r.charAt(o)&&(o<r.length()-1&&"%"===r.charAt(o+1)?r.deleteCharAt(o+1):r.setCharAt(o,String.fromCharCode(29)))},e.decodeNumericSegment=function(t,r,n){for(;n>=3;){if(t.available()<10)throw new l.default;var i=t.readBits(10);if(i>=1e3)throw new l.default;r.append(e.toAlphaNumericChar(Math.floor(i/100))),r.append(e.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(e.toAlphaNumericChar(i%10)),n-=3}if(2===n){if(t.available()<7)throw new l.default;var s=t.readBits(7);if(s>=100)throw new l.default;r.append(e.toAlphaNumericChar(Math.floor(s/10))),r.append(e.toAlphaNumericChar(s%10))}else if(1===n){if(t.available()<4)throw new l.default;var a=t.readBits(4);if(a>=10)throw new l.default;r.append(e.toAlphaNumericChar(a))}},e.parseECIValue=function(e){var t=e.readBits(8);if(0==(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new l.default},e.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.GB2312_SUBSET=1,e}();t.default=d},317740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(904977),i=r(295826),s=r(116559),a=r(12832),o=r(891923),u=r(762294),c=r(494801),l=r(285780),d=function(){function e(){this.rsDecoder=new s.default(i.default.QR_CODE_FIELD_256)}return e.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(n.default.parseFromBooleanArray(e),t)},e.prototype.decodeBitMatrix=function(e,t){var r=new a.default(e),n=null;try{return this.decodeBitMatrixParser(r,t)}catch(e){n=e}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var i=this.decodeBitMatrixParser(r,t);return i.setOther(new o.default(!0)),i}catch(e){if(null!==n)throw n;throw e}},e.prototype.decodeBitMatrixParser=function(e,t){for(var r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=u.default.getDataBlocks(i,r,n),a=0,o=0,l=s;o<l.length;o++){a+=(m=l[o]).getNumDataCodewords()}for(var d=new Uint8Array(a),f=0,h=0,p=s;h<p.length;h++){var m,g=(m=p[h]).getCodewords(),y=m.getNumDataCodewords();this.correctErrors(g,y);for(var v=0;v<y;v++)d[f++]=g[v]}return c.default.decode(d,r,n,t)},e.prototype.correctErrors=function(e,t){e.length;var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new l.default}for(var n=0;n<t;n++)e[n]=r[n]},e}();t.default=d},173094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.count=e,this.dataCodewords=t}return e.prototype.getCount=function(){return this.count},e.prototype.getDataCodewords=function(){return this.dataCodewords},e}();t.default=r},25895:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return e.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},e.prototype.getNumBlocks=function(){for(var e=0,t=0,r=this.ecBlocks;t<r.length;t++){e+=r[t].getCount()}return e},e.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},e.prototype.getECBlocks=function(){return this.ecBlocks},e}();t.default=r},529299:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(241748),i=r(479980);!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(t.ErrorCorrectionLevelValues||(t.ErrorCorrectionLevelValues={}));var s=function(){function e(t,r,n){this.value=t,this.stringValue=r,this.bits=n,e.FOR_BITS.set(n,this),e.FOR_VALUE.set(t,this)}return e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.fromString=function(t){switch(t){case"L":return e.L;case"M":return e.M;case"Q":return e.Q;case"H":return e.H;default:throw new n.default(t+"not available")}},e.prototype.toString=function(){return this.stringValue},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.forBits=function(t){if(t<0||t>=e.FOR_BITS.size)throw new i.default;return e.FOR_BITS.get(t)},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.L=new e(0,"L",1),e.M=new e(1,"M",0),e.Q=new e(2,"Q",3),e.H=new e(3,"H",2),e}();t.default=s},761592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(529299),i=r(361434),s=function(){function e(e){this.errorCorrectionLevel=n.default.forBits(e>>3&3),this.dataMask=7&e}return e.numBitsDiffering=function(e,t){return i.default.bitCount(e^t)},e.decodeFormatInformation=function(t,r){var n=e.doDecodeFormatInformation(t,r);return null!==n?n:e.doDecodeFormatInformation(t^e.FORMAT_INFO_MASK_QR,r^e.FORMAT_INFO_MASK_QR)},e.doDecodeFormatInformation=function(t,r){for(var n=Number.MAX_SAFE_INTEGER,i=0,s=0,a=e.FORMAT_INFO_DECODE_LOOKUP;s<a.length;s++){var o=a[s],u=o[0];if(u===t||u===r)return new e(o[1]);var c=e.numBitsDiffering(t,u);c<n&&(i=o[1],n=c),t!==r&&(c=e.numBitsDiffering(r,u))<n&&(i=o[1],n=c)}return n<=3?new e(i):null},e.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},e.prototype.getDataMask=function(){return this.dataMask},e.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},e.FORMAT_INFO_MASK_QR=21522,e.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],e}();t.default=s},181859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980);!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(t.ModeValues||(t.ModeValues={}));var i=function(){function e(t,r,n,i){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,e.FOR_BITS.set(i,this),e.FOR_VALUE.set(t,this)}return e.forBits=function(t){var r=e.FOR_BITS.get(t);if(void 0===r)throw new n.default;return r},e.prototype.getCharacterCountBits=function(e){var t,r=e.getVersionNumber();return t=r<=9?0:r<=26?1:2,this.characterCountBitsForVersions[t]},e.prototype.getValue=function(){return this.value},e.prototype.getBits=function(){return this.bits},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;return this.value===r.value},e.prototype.toString=function(){return this.stringValue},e.FOR_BITS=new Map,e.FOR_VALUE=new Map,e.TERMINATOR=new e(0,"TERMINATOR",Int32Array.from([0,0,0]),0),e.NUMERIC=new e(1,"NUMERIC",Int32Array.from([10,12,14]),1),e.ALPHANUMERIC=new e(2,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),e.STRUCTURED_APPEND=new e(3,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),e.BYTE=new e(4,"BYTE",Int32Array.from([8,16,16]),4),e.ECI=new e(5,"ECI",Int32Array.from([0,0,0]),7),e.KANJI=new e(6,"KANJI",Int32Array.from([8,10,12]),8),e.FNC1_FIRST_POSITION=new e(7,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),e.FNC1_SECOND_POSITION=new e(8,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),e.HANZI=new e(9,"HANZI",Int32Array.from([8,10,12]),13),e}();t.default=i},891923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.mirrored=e}return e.prototype.isMirrored=function(){return this.mirrored},e.prototype.applyMirroredCorrection=function(e){if(this.mirrored&&null!==e&&!(e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},e}();t.default=r},96760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(904977),i=r(761592),s=r(25895),a=r(173094),o=r(81725),u=r(479980),c=function(){function e(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;for(var i=0,s=r[0].getECCodewordsPerBlock(),a=0,o=r[0].getECBlocks();a<o.length;a++){var u=o[a];i+=u.getCount()*(u.getDataCodewords()+s)}this.totalCodewords=i}return e.prototype.getVersionNumber=function(){return this.versionNumber},e.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},e.prototype.getTotalCodewords=function(){return this.totalCodewords},e.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},e.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},e.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw new o.default;try{return this.getVersionForNumber((e-17)/4)}catch(e){throw new o.default}},e.getVersionForNumber=function(t){if(t<1||t>40)throw new u.default;return e.VERSIONS[t-1]},e.decodeVersionInformation=function(t){for(var r=Number.MAX_SAFE_INTEGER,n=0,s=0;s<e.VERSION_DECODE_INFO.length;s++){var a=e.VERSION_DECODE_INFO[s];if(a===t)return e.getVersionForNumber(s+7);var o=i.default.numBitsDiffering(t,a);o<r&&(n=s+7,r=o)}return r<=3?e.getVersionForNumber(n):null},e.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new n.default(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var s=this.alignmentPatternCenters[i]-2,a=0;a<r;a++)0===i&&(0===a||a===r-1)||i===r-1&&0===a||t.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},e.prototype.toString=function(){return""+this.versionNumber},e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),e.VERSIONS=[new e(1,new Int32Array(0),new s.default(7,new a.default(1,19)),new s.default(10,new a.default(1,16)),new s.default(13,new a.default(1,13)),new s.default(17,new a.default(1,9))),new e(2,Int32Array.from([6,18]),new s.default(10,new a.default(1,34)),new s.default(16,new a.default(1,28)),new s.default(22,new a.default(1,22)),new s.default(28,new a.default(1,16))),new e(3,Int32Array.from([6,22]),new s.default(15,new a.default(1,55)),new s.default(26,new a.default(1,44)),new s.default(18,new a.default(2,17)),new s.default(22,new a.default(2,13))),new e(4,Int32Array.from([6,26]),new s.default(20,new a.default(1,80)),new s.default(18,new a.default(2,32)),new s.default(26,new a.default(2,24)),new s.default(16,new a.default(4,9))),new e(5,Int32Array.from([6,30]),new s.default(26,new a.default(1,108)),new s.default(24,new a.default(2,43)),new s.default(18,new a.default(2,15),new a.default(2,16)),new s.default(22,new a.default(2,11),new a.default(2,12))),new e(6,Int32Array.from([6,34]),new s.default(18,new a.default(2,68)),new s.default(16,new a.default(4,27)),new s.default(24,new a.default(4,19)),new s.default(28,new a.default(4,15))),new e(7,Int32Array.from([6,22,38]),new s.default(20,new a.default(2,78)),new s.default(18,new a.default(4,31)),new s.default(18,new a.default(2,14),new a.default(4,15)),new s.default(26,new a.default(4,13),new a.default(1,14))),new e(8,Int32Array.from([6,24,42]),new s.default(24,new a.default(2,97)),new s.default(22,new a.default(2,38),new a.default(2,39)),new s.default(22,new a.default(4,18),new a.default(2,19)),new s.default(26,new a.default(4,14),new a.default(2,15))),new e(9,Int32Array.from([6,26,46]),new s.default(30,new a.default(2,116)),new s.default(22,new a.default(3,36),new a.default(2,37)),new s.default(20,new a.default(4,16),new a.default(4,17)),new s.default(24,new a.default(4,12),new a.default(4,13))),new e(10,Int32Array.from([6,28,50]),new s.default(18,new a.default(2,68),new a.default(2,69)),new s.default(26,new a.default(4,43),new a.default(1,44)),new s.default(24,new a.default(6,19),new a.default(2,20)),new s.default(28,new a.default(6,15),new a.default(2,16))),new e(11,Int32Array.from([6,30,54]),new s.default(20,new a.default(4,81)),new s.default(30,new a.default(1,50),new a.default(4,51)),new s.default(28,new a.default(4,22),new a.default(4,23)),new s.default(24,new a.default(3,12),new a.default(8,13))),new e(12,Int32Array.from([6,32,58]),new s.default(24,new a.default(2,92),new a.default(2,93)),new s.default(22,new a.default(6,36),new a.default(2,37)),new s.default(26,new a.default(4,20),new a.default(6,21)),new s.default(28,new a.default(7,14),new a.default(4,15))),new e(13,Int32Array.from([6,34,62]),new s.default(26,new a.default(4,107)),new s.default(22,new a.default(8,37),new a.default(1,38)),new s.default(24,new a.default(8,20),new a.default(4,21)),new s.default(22,new a.default(12,11),new a.default(4,12))),new e(14,Int32Array.from([6,26,46,66]),new s.default(30,new a.default(3,115),new a.default(1,116)),new s.default(24,new a.default(4,40),new a.default(5,41)),new s.default(20,new a.default(11,16),new a.default(5,17)),new s.default(24,new a.default(11,12),new a.default(5,13))),new e(15,Int32Array.from([6,26,48,70]),new s.default(22,new a.default(5,87),new a.default(1,88)),new s.default(24,new a.default(5,41),new a.default(5,42)),new s.default(30,new a.default(5,24),new a.default(7,25)),new s.default(24,new a.default(11,12),new a.default(7,13))),new e(16,Int32Array.from([6,26,50,74]),new s.default(24,new a.default(5,98),new a.default(1,99)),new s.default(28,new a.default(7,45),new a.default(3,46)),new s.default(24,new a.default(15,19),new a.default(2,20)),new s.default(30,new a.default(3,15),new a.default(13,16))),new e(17,Int32Array.from([6,30,54,78]),new s.default(28,new a.default(1,107),new a.default(5,108)),new s.default(28,new a.default(10,46),new a.default(1,47)),new s.default(28,new a.default(1,22),new a.default(15,23)),new s.default(28,new a.default(2,14),new a.default(17,15))),new e(18,Int32Array.from([6,30,56,82]),new s.default(30,new a.default(5,120),new a.default(1,121)),new s.default(26,new a.default(9,43),new a.default(4,44)),new s.default(28,new a.default(17,22),new a.default(1,23)),new s.default(28,new a.default(2,14),new a.default(19,15))),new e(19,Int32Array.from([6,30,58,86]),new s.default(28,new a.default(3,113),new a.default(4,114)),new s.default(26,new a.default(3,44),new a.default(11,45)),new s.default(26,new a.default(17,21),new a.default(4,22)),new s.default(26,new a.default(9,13),new a.default(16,14))),new e(20,Int32Array.from([6,34,62,90]),new s.default(28,new a.default(3,107),new a.default(5,108)),new s.default(26,new a.default(3,41),new a.default(13,42)),new s.default(30,new a.default(15,24),new a.default(5,25)),new s.default(28,new a.default(15,15),new a.default(10,16))),new e(21,Int32Array.from([6,28,50,72,94]),new s.default(28,new a.default(4,116),new a.default(4,117)),new s.default(26,new a.default(17,42)),new s.default(28,new a.default(17,22),new a.default(6,23)),new s.default(30,new a.default(19,16),new a.default(6,17))),new e(22,Int32Array.from([6,26,50,74,98]),new s.default(28,new a.default(2,111),new a.default(7,112)),new s.default(28,new a.default(17,46)),new s.default(30,new a.default(7,24),new a.default(16,25)),new s.default(24,new a.default(34,13))),new e(23,Int32Array.from([6,30,54,78,102]),new s.default(30,new a.default(4,121),new a.default(5,122)),new s.default(28,new a.default(4,47),new a.default(14,48)),new s.default(30,new a.default(11,24),new a.default(14,25)),new s.default(30,new a.default(16,15),new a.default(14,16))),new e(24,Int32Array.from([6,28,54,80,106]),new s.default(30,new a.default(6,117),new a.default(4,118)),new s.default(28,new a.default(6,45),new a.default(14,46)),new s.default(30,new a.default(11,24),new a.default(16,25)),new s.default(30,new a.default(30,16),new a.default(2,17))),new e(25,Int32Array.from([6,32,58,84,110]),new s.default(26,new a.default(8,106),new a.default(4,107)),new s.default(28,new a.default(8,47),new a.default(13,48)),new s.default(30,new a.default(7,24),new a.default(22,25)),new s.default(30,new a.default(22,15),new a.default(13,16))),new e(26,Int32Array.from([6,30,58,86,114]),new s.default(28,new a.default(10,114),new a.default(2,115)),new s.default(28,new a.default(19,46),new a.default(4,47)),new s.default(28,new a.default(28,22),new a.default(6,23)),new s.default(30,new a.default(33,16),new a.default(4,17))),new e(27,Int32Array.from([6,34,62,90,118]),new s.default(30,new a.default(8,122),new a.default(4,123)),new s.default(28,new a.default(22,45),new a.default(3,46)),new s.default(30,new a.default(8,23),new a.default(26,24)),new s.default(30,new a.default(12,15),new a.default(28,16))),new e(28,Int32Array.from([6,26,50,74,98,122]),new s.default(30,new a.default(3,117),new a.default(10,118)),new s.default(28,new a.default(3,45),new a.default(23,46)),new s.default(30,new a.default(4,24),new a.default(31,25)),new s.default(30,new a.default(11,15),new a.default(31,16))),new e(29,Int32Array.from([6,30,54,78,102,126]),new s.default(30,new a.default(7,116),new a.default(7,117)),new s.default(28,new a.default(21,45),new a.default(7,46)),new s.default(30,new a.default(1,23),new a.default(37,24)),new s.default(30,new a.default(19,15),new a.default(26,16))),new e(30,Int32Array.from([6,26,52,78,104,130]),new s.default(30,new a.default(5,115),new a.default(10,116)),new s.default(28,new a.default(19,47),new a.default(10,48)),new s.default(30,new a.default(15,24),new a.default(25,25)),new s.default(30,new a.default(23,15),new a.default(25,16))),new e(31,Int32Array.from([6,30,56,82,108,134]),new s.default(30,new a.default(13,115),new a.default(3,116)),new s.default(28,new a.default(2,46),new a.default(29,47)),new s.default(30,new a.default(42,24),new a.default(1,25)),new s.default(30,new a.default(23,15),new a.default(28,16))),new e(32,Int32Array.from([6,34,60,86,112,138]),new s.default(30,new a.default(17,115)),new s.default(28,new a.default(10,46),new a.default(23,47)),new s.default(30,new a.default(10,24),new a.default(35,25)),new s.default(30,new a.default(19,15),new a.default(35,16))),new e(33,Int32Array.from([6,30,58,86,114,142]),new s.default(30,new a.default(17,115),new a.default(1,116)),new s.default(28,new a.default(14,46),new a.default(21,47)),new s.default(30,new a.default(29,24),new a.default(19,25)),new s.default(30,new a.default(11,15),new a.default(46,16))),new e(34,Int32Array.from([6,34,62,90,118,146]),new s.default(30,new a.default(13,115),new a.default(6,116)),new s.default(28,new a.default(14,46),new a.default(23,47)),new s.default(30,new a.default(44,24),new a.default(7,25)),new s.default(30,new a.default(59,16),new a.default(1,17))),new e(35,Int32Array.from([6,30,54,78,102,126,150]),new s.default(30,new a.default(12,121),new a.default(7,122)),new s.default(28,new a.default(12,47),new a.default(26,48)),new s.default(30,new a.default(39,24),new a.default(14,25)),new s.default(30,new a.default(22,15),new a.default(41,16))),new e(36,Int32Array.from([6,24,50,76,102,128,154]),new s.default(30,new a.default(6,121),new a.default(14,122)),new s.default(28,new a.default(6,47),new a.default(34,48)),new s.default(30,new a.default(46,24),new a.default(10,25)),new s.default(30,new a.default(2,15),new a.default(64,16))),new e(37,Int32Array.from([6,28,54,80,106,132,158]),new s.default(30,new a.default(17,122),new a.default(4,123)),new s.default(28,new a.default(29,46),new a.default(14,47)),new s.default(30,new a.default(49,24),new a.default(10,25)),new s.default(30,new a.default(24,15),new a.default(46,16))),new e(38,Int32Array.from([6,32,58,84,110,136,162]),new s.default(30,new a.default(4,122),new a.default(18,123)),new s.default(28,new a.default(13,46),new a.default(32,47)),new s.default(30,new a.default(48,24),new a.default(14,25)),new s.default(30,new a.default(42,15),new a.default(32,16))),new e(39,Int32Array.from([6,26,54,82,110,138,166]),new s.default(30,new a.default(20,117),new a.default(4,118)),new s.default(28,new a.default(40,47),new a.default(7,48)),new s.default(30,new a.default(43,24),new a.default(22,25)),new s.default(30,new a.default(10,15),new a.default(67,16))),new e(40,Int32Array.from([6,30,58,86,114,142,170]),new s.default(30,new a.default(19,118),new a.default(6,119)),new s.default(28,new a.default(18,47),new a.default(31,48)),new s.default(30,new a.default(34,24),new a.default(34,25)),new s.default(30,new a.default(20,15),new a.default(61,16)))],e}();t.default=c},554705:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n){var i=e.call(this,t,r)||this;return i.estimatedModuleSize=n,i}return i(t,e),t.prototype.aboutEquals=function(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,n){return new t((this.getX()+r)/2,(this.getY()+e)/2,(this.estimatedModuleSize+n)/2)},t}(r(911729).default);t.default=s},551937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(554705),i=r(813570),s=function(){function e(e,t,r,n,i,s,a){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=s,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return e.prototype.find=function(){for(var e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,s=new Int32Array(3),a=this.image,o=0;o<t;o++){var u=n+(0==(1&o)?Math.floor((o+1)/2):-Math.floor((o+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var c=e;c<r&&!a.get(c,u);)c++;for(var l=0;c<r;){if(a.get(c,u))if(1===l)s[1]++;else if(2===l){var d;if(this.foundPatternCross(s))if(null!==(d=this.handlePossibleCenter(s,u,c)))return d;s[0]=s[2],s[1]=1,s[2]=0,l=1}else s[++l]++;else 1===l&&l++,s[l]++;c++}if(this.foundPatternCross(s))if(null!==(d=this.handlePossibleCenter(s,u,r)))return d}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new i.default},e.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},e.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0},e.prototype.crossCheckVertical=function(t,r,n,i){var s=this.image,a=s.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var u=t;u>=0&&s.get(r,u)&&o[1]<=n;)o[1]++,u--;if(u<0||o[1]>n)return NaN;for(;u>=0&&!s.get(r,u)&&o[0]<=n;)o[0]++,u--;if(o[0]>n)return NaN;for(u=t+1;u<a&&s.get(r,u)&&o[1]<=n;)o[1]++,u++;if(u===a||o[1]>n)return NaN;for(;u<a&&!s.get(r,u)&&o[2]<=n;)o[2]++,u++;if(o[2]>n)return NaN;var c=o[0]+o[1]+o[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(o)?e.centerFromEnd(o,u):NaN},e.prototype.handlePossibleCenter=function(t,r,i){var s=t[0]+t[1]+t[2],a=e.centerFromEnd(t,i),o=this.crossCheckVertical(r,a,2*t[1],s);if(!isNaN(o)){for(var u=(t[0]+t[1]+t[2])/3,c=0,l=this.possibleCenters;c<l.length;c++){var d=l[c];if(d.aboutEquals(u,o,a))return d.combineEstimate(o,a,u)}var f=new n.default(a,o,u);this.possibleCenters.push(f),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null},e}();t.default=s},273526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(911729),i=r(227259),s=r(128485),a=r(832816),o=r(264),u=r(96760),c=r(33211),l=r(551937),d=r(813570),f=function(){function e(e){this.image=e}return e.prototype.getImage=function(){return this.image},e.prototype.getResultPointCallback=function(){return this.resultPointCallback},e.prototype.detect=function(e){this.resultPointCallback=null==e?null:e.get(9);var t=new c.default(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)},e.prototype.processFinderPatternInfo=function(t){var r=t.getTopLeft(),n=t.getTopRight(),s=t.getBottomLeft(),a=this.calculateModuleSize(r,n,s);if(a<1)throw new d.default("No pattern found in proccess finder.");var o=e.computeDimension(r,n,s,a),c=u.default.getProvisionalVersionForDimension(o),l=c.getDimensionForVersion()-7,f=null;if(c.getAlignmentPatternCenters().length>0)for(var h=n.getX()-r.getX()+s.getX(),p=n.getY()-r.getY()+s.getY(),m=1-3/l,g=Math.floor(r.getX()+m*(h-r.getX())),y=Math.floor(r.getY()+m*(p-r.getY())),v=4;v<=16;v<<=1)try{f=this.findAlignmentInRegion(a,g,y,v);break}catch(e){if(!(e instanceof d.default))throw e}var w,b=e.createTransform(r,n,s,f,o),E=e.sampleGrid(this.image,b,o);return w=null===f?[s,r,n]:[s,r,n,f],new i.default(E,w)},e.createTransform=function(e,t,r,n,i){var s,o,u,c,l=i-3.5;return null!==n?(s=n.getX(),o=n.getY(),c=u=l-3):(s=t.getX()-e.getX()+r.getX(),o=t.getY()-e.getY()+r.getY(),u=l,c=l),a.default.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,u,c,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),s,o,r.getX(),r.getY())},e.sampleGrid=function(e,t,r){return s.default.getInstance().sampleGridWithTransform(e,r,r,t)},e.computeDimension=function(e,t,r,i){var s=o.default.round(n.default.distance(e,t)/i),a=o.default.round(n.default.distance(e,r)/i),u=Math.floor((s+a)/2)+7;switch(3&u){case 0:u++;break;case 2:u--;break;case 3:throw new d.default("Dimensions could be not found.")}return u},e.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},e.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},e.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),s=1,a=e-(r-e);a<0?(s=e/(e-a),a=0):a>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(a-e),a=this.image.getWidth()-1);var o=Math.floor(t-(n-t)*s);return s=1,o<0?(s=t/(t-o),o=0):o>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),a=Math.floor(e+(a-e)*s),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,o))-1},e.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,n){var i=Math.abs(n-t)>Math.abs(r-e);if(i){var s=e;e=t,t=s,s=r,r=n,n=s}for(var a=Math.abs(r-e),u=Math.abs(n-t),c=-a/2,l=e<r?1:-1,d=t<n?1:-1,f=0,h=r+l,p=e,m=t;p!==h;p+=l){var g=i?m:p,y=i?p:m;if(1===f===this.image.get(g,y)){if(2===f)return o.default.distance(p,m,e,t);f++}if((c+=u)>0){if(m===n)break;m+=d,c-=a}}return 2===f?o.default.distance(r+l,n,e,t):NaN},e.prototype.findAlignmentInRegion=function(e,t,r,n){var i=Math.floor(n*e),s=Math.max(0,t-i),a=Math.min(this.image.getWidth()-1,t+i);if(a-s<3*e)throw new d.default("Alignment top exceeds estimated module size.");var o=Math.max(0,r-i),u=Math.min(this.image.getHeight()-1,r+i);if(u-o<3*e)throw new d.default("Alignment bottom exceeds estimated module size.");return new l.default(this.image,s,o,a-s,u-o,e,this.resultPointCallback).find()},e}();t.default=f},779778:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n,i){var s=e.call(this,t,r)||this;return s.estimatedModuleSize=n,s.count=i,void 0===i&&(s.count=1),s}return i(t,e),t.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},t.prototype.getCount=function(){return this.count},t.prototype.aboutEquals=function(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1},t.prototype.combineEstimate=function(e,r,n){var i=this.count+1;return new t((this.count*this.getX()+r)/i,(this.count*this.getY()+e)/i,(this.count*this.estimatedModuleSize+n)/i,i)},t}(r(911729).default);t.default=s},33211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(911729),i=r(779778),s=r(977933),a=r(813570),o=function(){function e(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return e.prototype.getImage=function(){return this.image},e.prototype.getPossibleCenters=function(){return this.possibleCenters},e.prototype.find=function(t){var r=null!=t&&void 0!==t.get(3),i=null!=t&&void 0!==t.get(1),a=this.image,o=a.getHeight(),u=a.getWidth(),c=Math.floor(3*o/(4*e.MAX_MODULES));(c<e.MIN_SKIP||r)&&(c=e.MIN_SKIP);for(var l=!1,d=new Int32Array(5),f=c-1;f<o&&!l;f+=c){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var h=0,p=0;p<u;p++)if(a.get(p,f))1==(1&h)&&h++,d[h]++;else if(0==(1&h))if(4===h)if(e.foundPatternCross(d)){if(!0!==this.handlePossibleCenter(d,f,p,i)){d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,h=3;continue}if(c=2,!0===this.hasSkipped)l=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>d[2]&&(f+=m-d[2]-c,p=u-1)}h=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,h=3;else d[++h]++;else d[h]++;if(e.foundPatternCross(d))!0===this.handlePossibleCenter(d,f,u,i)&&(c=d[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}var g=this.selectBestPatterns();return n.default.orderBestPatterns(g),new s.default(g)},e.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},e.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var n=e[r];if(0===n)return!1;t+=n}if(t<7)return!1;var i=t/7,s=i/2;return Math.abs(i-e[0])<s&&Math.abs(i-e[1])<s&&Math.abs(3*i-e[2])<3*s&&Math.abs(i-e[3])<s&&Math.abs(i-e[4])<s},e.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},e.prototype.crossCheckDiagonal=function(t,r,n,i){for(var s=this.getCrossCheckStateCount(),a=0,o=this.image;t>=a&&r>=a&&o.get(r-a,t-a);)s[2]++,a++;if(t<a||r<a)return!1;for(;t>=a&&r>=a&&!o.get(r-a,t-a)&&s[1]<=n;)s[1]++,a++;if(t<a||r<a||s[1]>n)return!1;for(;t>=a&&r>=a&&o.get(r-a,t-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;var u=o.getHeight(),c=o.getWidth();for(a=1;t+a<u&&r+a<c&&o.get(r+a,t+a);)s[2]++,a++;if(t+a>=u||r+a>=c)return!1;for(;t+a<u&&r+a<c&&!o.get(r+a,t+a)&&s[3]<n;)s[3]++,a++;if(t+a>=u||r+a>=c||s[3]>=n)return!1;for(;t+a<u&&r+a<c&&o.get(r+a,t+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;var l=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(l-i)<2*i&&e.foundPatternCross(s)},e.prototype.crossCheckVertical=function(t,r,n,i){for(var s=this.image,a=s.getHeight(),o=this.getCrossCheckStateCount(),u=t;u>=0&&s.get(r,u);)o[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(r,u)&&o[1]<=n;)o[1]++,u--;if(u<0||o[1]>n)return NaN;for(;u>=0&&s.get(r,u)&&o[0]<=n;)o[0]++,u--;if(o[0]>n)return NaN;for(u=t+1;u<a&&s.get(r,u);)o[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(r,u)&&o[3]<n;)o[3]++,u++;if(u===a||o[3]>=n)return NaN;for(;u<a&&s.get(r,u)&&o[4]<n;)o[4]++,u++;if(o[4]>=n)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=2*i?NaN:e.foundPatternCross(o)?e.centerFromEnd(o,u):NaN},e.prototype.crossCheckHorizontal=function(t,r,n,i){for(var s=this.image,a=s.getWidth(),o=this.getCrossCheckStateCount(),u=t;u>=0&&s.get(u,r);)o[2]++,u--;if(u<0)return NaN;for(;u>=0&&!s.get(u,r)&&o[1]<=n;)o[1]++,u--;if(u<0||o[1]>n)return NaN;for(;u>=0&&s.get(u,r)&&o[0]<=n;)o[0]++,u--;if(o[0]>n)return NaN;for(u=t+1;u<a&&s.get(u,r);)o[2]++,u++;if(u===a)return NaN;for(;u<a&&!s.get(u,r)&&o[3]<n;)o[3]++,u++;if(u===a||o[3]>=n)return NaN;for(;u<a&&s.get(u,r)&&o[4]<n;)o[4]++,u++;if(o[4]>=n)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=i?NaN:e.foundPatternCross(o)?e.centerFromEnd(o,u):NaN},e.prototype.handlePossibleCenter=function(t,r,n,s){var a=t[0]+t[1]+t[2]+t[3]+t[4],o=e.centerFromEnd(t,n),u=this.crossCheckVertical(r,Math.floor(o),t[2],a);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),t[2],a),!isNaN(o)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),t[2],a)))){for(var c=a/7,l=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(c,u,o)){d[f]=p.combineEstimate(u,o,c),l=!0;break}}if(!l){var m=new i.default(o,u,c);d.push(m),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},e.prototype.findRowSkip=function(){if(this.possibleCenters.length<=1)return 0;for(var t=null,r=0,n=this.possibleCenters;r<n.length;r++){var i=n[r];if(i.getCount()>=e.CENTER_QUORUM){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-i.getX())-Math.abs(t.getY()-i.getY()))/2);t=i}}return 0},e.prototype.haveMultiplyConfirmedCenters=function(){for(var t=0,r=0,n=this.possibleCenters.length,i=0,s=this.possibleCenters;i<s.length;i++){(l=s[i]).getCount()>=e.CENTER_QUORUM&&(t++,r+=l.getEstimatedModuleSize())}if(t<3)return!1;for(var a=r/n,o=0,u=0,c=this.possibleCenters;u<c.length;u++){var l=c[u];o+=Math.abs(l.getEstimatedModuleSize()-a)}return o<=.05*r},e.prototype.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw new a.default;var t,r=this.possibleCenters;if(e>3){for(var n=0,i=0,s=0,o=this.possibleCenters;s<o.length;s++){var u=o[s].getEstimatedModuleSize();n+=u,i+=u*u}t=n/e;var c=Math.sqrt(i/e-t*t);r.sort((function(e,r){var n=Math.abs(r.getEstimatedModuleSize()-t),i=Math.abs(e.getEstimatedModuleSize()-t);return n<i?-1:n>i?1:0}));for(var l=Math.max(.2*t,c),d=0;d<r.length&&r.length>3;d++){var f=r[d];Math.abs(f.getEstimatedModuleSize()-t)>l&&(r.splice(d,1),d--)}}if(r.length>3){n=0;for(var h=0,p=r;h<p.length;h++){n+=p[h].getEstimatedModuleSize()}t=n/r.length,r.sort((function(e,r){if(r.getCount()===e.getCount()){var n=Math.abs(r.getEstimatedModuleSize()-t),i=Math.abs(e.getEstimatedModuleSize()-t);return n<i?1:n>i?-1:0}return r.getCount()-e.getCount()})),r.splice(3)}return[r[0],r[1],r[2]]},e.CENTER_QUORUM=2,e.MIN_SKIP=3,e.MAX_MODULES=57,e}();t.default=o},977933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return e.prototype.getBottomLeft=function(){return this.bottomLeft},e.prototype.getTopLeft=function(){return this.topLeft},e.prototype.getTopRight=function(){return this.topRight},e}();t.default=r},205621:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return e.prototype.getDataBytes=function(){return this.dataBytes},e.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},e}();t.default=r},371978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(683685),i=r(467540),s=function(){function e(e,t){this.width=e,this.height=t;for(var r=new Array(t),n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}return e.prototype.getHeight=function(){return this.height},e.prototype.getWidth=function(){return this.width},e.prototype.get=function(e,t){return this.bytes[t][e]},e.prototype.getArray=function(){return this.bytes},e.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},e.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},e.prototype.clear=function(e){for(var t=0,r=this.bytes;t<r.length;t++){var i=r[t];n.default.fillUint8Array(i,e)}},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.width!==r.width)return!1;if(this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],a=r.bytes[n],o=0,u=this.width;o<u;++o)if(s[o]!==a[o])return!1;return!0},e.prototype.toString=function(){for(var e=new i.default,t=0,r=this.height;t<r;++t){for(var n=this.bytes[t],s=0,a=this.width;s<a;++s)switch(n[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()},e}();t.default=s},374023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(770876),i=r(847731),s=r(413242),a=r(295826),o=r(968966),u=r(181859),c=r(96760),l=r(10966),d=r(371978),f=r(475671),h=r(653112),p=r(375290),m=r(205621),g=r(258614),y=function(){function e(){}return e.calculateMaskPenalty=function(e){return l.default.applyMaskPenaltyRule1(e)+l.default.applyMaskPenaltyRule2(e)+l.default.applyMaskPenaltyRule3(e)+l.default.applyMaskPenaltyRule4(e)},e.encode=function(t,r,a){void 0===a&&(a=null);var o=e.DEFAULT_BYTE_MODE_ENCODING,l=null!==a&&void 0!==a.get(n.default.CHARACTER_SET);l&&(o=a.get(n.default.CHARACTER_SET).toString());var p=this.chooseMode(t,o),m=new i.default;if(p===u.default.BYTE&&(l||e.DEFAULT_BYTE_MODE_ENCODING!==o)){var y=s.default.getCharacterSetECIByName(o);void 0!==y&&this.appendECI(y,m)}this.appendModeInfo(p,m);var v,w=new i.default;if(this.appendBytes(t,p,w,o),null!==a&&void 0!==a.get(n.default.QR_VERSION)){var b=Number.parseInt(a.get(n.default.QR_VERSION).toString(),10);v=c.default.getVersionForNumber(b);var E=this.calculateBitsNeeded(p,m,w,v);if(!this.willFit(E,v,r))throw new g.default("Data too big for requested version")}else v=this.recommendVersion(r,p,m,w);var _=new i.default;_.appendBitArray(m);var I=p===u.default.BYTE?w.getSizeInBytes():t.length;this.appendLengthInfo(I,v,p,_),_.appendBitArray(w);var S=v.getECBlocksForLevel(r),O=v.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(O,_);var T=this.interleaveWithECBytes(_,v.getTotalCodewords(),O,S.getNumBlocks()),N=new f.default;N.setECLevel(r),N.setMode(p),N.setVersion(v);var A=v.getDimensionForVersion(),P=new d.default(A,A),C=this.chooseMaskPattern(T,r,v,P);return N.setMaskPattern(C),h.default.buildMatrix(T,r,v,C,P),N.setMatrix(P),N},e.recommendVersion=function(e,t,r,n){var i=this.calculateBitsNeeded(t,r,n,c.default.getVersionForNumber(1)),s=this.chooseVersion(i,e),a=this.calculateBitsNeeded(t,r,n,s);return this.chooseVersion(a,e)},e.calculateBitsNeeded=function(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()},e.getAlphanumericCode=function(t){return t<e.ALPHANUMERIC_TABLE.length?e.ALPHANUMERIC_TABLE[t]:-1},e.chooseMode=function(t,r){if(void 0===r&&(r=null),s.default.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return u.default.KANJI;for(var n=!1,i=!1,a=0,o=t.length;a<o;++a){var c=t.charAt(a);if(e.isDigit(c))n=!0;else{if(-1===this.getAlphanumericCode(c.charCodeAt(0)))return u.default.BYTE;i=!0}}return i?u.default.ALPHANUMERIC:n?u.default.NUMERIC:u.default.BYTE},e.isOnlyDoubleByteKanji=function(e){var t;try{t=p.default.encode(e,s.default.SJIS)}catch(e){return!1}var r=t.length;if(r%2!=0)return!1;for(var n=0;n<r;n+=2){var i=255&t[n];if((i<129||i>159)&&(i<224||i>235))return!1}return!0},e.chooseMaskPattern=function(e,t,r,n){for(var i=Number.MAX_SAFE_INTEGER,s=-1,a=0;a<f.default.NUM_MASK_PATTERNS;a++){h.default.buildMatrix(e,t,r,a,n);var o=this.calculateMaskPenalty(n);o<i&&(i=o,s=a)}return s},e.chooseVersion=function(t,r){for(var n=1;n<=40;n++){var i=c.default.getVersionForNumber(n);if(e.willFit(t,i,r))return i}throw new g.default("Data too big")},e.willFit=function(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8},e.terminateBits=function(e,t){var r=8*e;if(t.getSize()>r)throw new g.default("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var n=0;n<4&&t.getSize()<r;++n)t.appendBit(!1);var i=7&t.getSize();if(i>0)for(n=i;n<8;n++)t.appendBit(!1);var s=e-t.getSizeInBytes();for(n=0;n<s;++n)t.appendBits(0==(1&n)?236:17,8);if(t.getSize()!==r)throw new g.default("Bits size does not equal capacity")},e.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,n,i,s){if(n>=r)throw new g.default("Block ID too large");var a=e%r,o=r-a,u=Math.floor(e/r),c=u+1,l=Math.floor(t/r),d=l+1,f=u-l,h=c-d;if(f!==h)throw new g.default("EC bytes mismatch");if(r!==o+a)throw new g.default("RS blocks mismatch");if(e!==(l+f)*o+(d+h)*a)throw new g.default("Total bytes mismatch");n<o?(i[0]=l,s[0]=f):(i[0]=d,s[0]=h)},e.interleaveWithECBytes=function(t,r,n,s){if(t.getSizeInBytes()!==n)throw new g.default("Number of bits and data bytes does not match");for(var a=0,o=0,u=0,c=new Array,l=0;l<s;++l){var d=new Int32Array(1),f=new Int32Array(1);e.getNumDataBytesAndNumECBytesForBlockID(r,n,s,l,d,f);var h=d[0],p=new Uint8Array(h);t.toBytes(8*a,p,0,h);var y=e.generateECBytes(p,f[0]);c.push(new m.default(p,y)),o=Math.max(o,h),u=Math.max(u,y.length),a+=d[0]}if(n!==a)throw new g.default("Data bytes does not match offset");var v=new i.default;for(l=0;l<o;++l)for(var w=0,b=c;w<b.length;w++){l<(p=b[w].getDataBytes()).length&&v.appendBits(p[l],8)}for(l=0;l<u;++l)for(var E=0,_=c;E<_.length;E++){l<(y=_[E].getErrorCorrectionBytes()).length&&v.appendBits(y[l],8)}if(r!==v.getSizeInBytes())throw new g.default("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v},e.generateECBytes=function(e,t){for(var r=e.length,n=new Int32Array(r+t),i=0;i<r;i++)n[i]=255&e[i];new o.default(a.default.QR_CODE_FIELD_256).encode(n,t);var s=new Uint8Array(t);for(i=0;i<t;i++)s[i]=n[r+i];return s},e.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},e.appendLengthInfo=function(e,t,r,n){var i=r.getCharacterCountBits(t);if(e>=1<<i)throw new g.default(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)},e.appendBytes=function(t,r,n,i){switch(r){case u.default.NUMERIC:e.appendNumericBytes(t,n);break;case u.default.ALPHANUMERIC:e.appendAlphanumericBytes(t,n);break;case u.default.BYTE:e.append8BitBytes(t,n,i);break;case u.default.KANJI:e.appendKanjiBytes(t,n);break;default:throw new g.default("Invalid mode: "+r)}},e.getDigit=function(e){return e.charCodeAt(0)-48},e.isDigit=function(t){var r=e.getDigit(t);return r>=0&&r<=9},e.appendNumericBytes=function(t,r){for(var n=t.length,i=0;i<n;){var s=e.getDigit(t.charAt(i));if(i+2<n){var a=e.getDigit(t.charAt(i+1)),o=e.getDigit(t.charAt(i+2));r.appendBits(100*s+10*a+o,10),i+=3}else if(i+1<n){a=e.getDigit(t.charAt(i+1));r.appendBits(10*s+a,7),i+=2}else r.appendBits(s,4),i++}},e.appendAlphanumericBytes=function(t,r){for(var n=t.length,i=0;i<n;){var s=e.getAlphanumericCode(t.charCodeAt(i));if(-1===s)throw new g.default;if(i+1<n){var a=e.getAlphanumericCode(t.charCodeAt(i+1));if(-1===a)throw new g.default;r.appendBits(45*s+a,11),i+=2}else r.appendBits(s,6),i++}},e.append8BitBytes=function(e,t,r){var n;try{n=p.default.encode(e,r)}catch(e){throw new g.default(e)}for(var i=0,s=n.length;i!==s;i++){var a=n[i];t.appendBits(a,8)}},e.appendKanjiBytes=function(e,t){var r;try{r=p.default.encode(e,s.default.SJIS)}catch(e){throw new g.default(e)}for(var n=r.length,i=0;i<n;i+=2){var a=(255&r[i])<<8&4294967295|255&r[i+1],o=-1;if(a>=33088&&a<=40956?o=a-33088:a>=57408&&a<=60351&&(o=a-49472),-1===o)throw new g.default("Invalid byte sequence");var u=192*(o>>8)+(255&o);t.appendBits(u,13)}},e.appendECI=function(e,t){t.appendBits(u.default.ECI.getBits(),4),t.appendBits(e.getValue(),8)},e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),e.DEFAULT_BYTE_MODE_ENCODING=s.default.UTF8.getName(),e}();t.default=y},10966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(479980),i=function(){function e(){}return e.applyMaskPenaltyRule1=function(t){return e.applyMaskPenaltyRule1Internal(t,!0)+e.applyMaskPenaltyRule1Internal(t,!1)},e.applyMaskPenaltyRule2=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),s=t.getHeight(),a=0;a<s-1;a++)for(var o=n[a],u=0;u<i-1;u++){var c=o[u];c===o[u+1]&&c===n[a+1][u]&&c===n[a+1][u+1]&&r++}return e.N2*r},e.applyMaskPenaltyRule3=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),s=t.getHeight(),a=0;a<s;a++)for(var o=0;o<i;o++){var u=n[a];o+6<i&&1===u[o]&&0===u[o+1]&&1===u[o+2]&&1===u[o+3]&&1===u[o+4]&&0===u[o+5]&&1===u[o+6]&&(e.isWhiteHorizontal(u,o-4,o)||e.isWhiteHorizontal(u,o+7,o+11))&&r++,a+6<s&&1===n[a][o]&&0===n[a+1][o]&&1===n[a+2][o]&&1===n[a+3][o]&&1===n[a+4][o]&&0===n[a+5][o]&&1===n[a+6][o]&&(e.isWhiteVertical(n,o,a-4,a)||e.isWhiteVertical(n,o,a+7,a+11))&&r++}return r*e.N3},e.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var n=t;n<r;n++)if(1===e[n])return!1;return!0},e.isWhiteVertical=function(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(1===e[i][t])return!1;return!0},e.applyMaskPenaltyRule4=function(t){for(var r=0,n=t.getArray(),i=t.getWidth(),s=t.getHeight(),a=0;a<s;a++)for(var o=n[a],u=0;u<i;u++)1===o[u]&&r++;var c=t.getHeight()*t.getWidth();return Math.floor(10*Math.abs(2*r-c)/c)*e.N4},e.getDataMaskBit=function(e,t,r){var i,s;switch(e){case 0:i=r+t&1;break;case 1:i=1&r;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=(1&(s=r*t))+s%3;break;case 6:i=(1&(s=r*t))+s%3&1;break;case 7:i=(s=r*t)%3+(r+t&1)&1;break;default:throw new n.default("Invalid mask pattern: "+e)}return 0===i},e.applyMaskPenaltyRule1Internal=function(t,r){for(var n=0,i=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),a=t.getArray(),o=0;o<i;o++){for(var u=0,c=-1,l=0;l<s;l++){var d=r?a[o][l]:a[l][o];d===c?u++:(u>=5&&(n+=e.N1+(u-5)),u=1,c=d)}u>=5&&(n+=e.N1+(u-5))}return n},e.N1=3,e.N2=3,e.N3=40,e.N4=10,e}();t.default=i},653112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(847731),i=r(361434),s=r(475671),a=r(10966),o=r(258614),u=r(479980),c=function(){function e(){}return e.clearMatrix=function(e){e.clear(255)},e.buildMatrix=function(t,r,n,i,s){e.clearMatrix(s),e.embedBasicPatterns(n,s),e.embedTypeInfo(r,i,s),e.maybeEmbedVersionInfo(n,s),e.embedDataBits(t,i,s)},e.embedBasicPatterns=function(t,r){e.embedPositionDetectionPatternsAndSeparators(r),e.embedDarkDotAtLeftBottomCorner(r),e.maybeEmbedPositionAdjustmentPatterns(t,r),e.embedTimingPatterns(r)},e.embedTypeInfo=function(t,r,i){var s=new n.default;e.makeTypeInfoBits(t,r,s);for(var a=0,o=s.getSize();a<o;++a){var u=s.get(s.getSize()-1-a),c=e.TYPE_INFO_COORDINATES[a],l=c[0],d=c[1];if(i.setBoolean(l,d,u),a<8){var f=i.getWidth()-a-1,h=8;i.setBoolean(f,h,u)}else{f=8,h=i.getHeight()-7+(a-8);i.setBoolean(f,h,u)}}},e.maybeEmbedVersionInfo=function(t,r){if(!(t.getVersionNumber()<7)){var i=new n.default;e.makeVersionInfoBits(t,i);for(var s=17,a=0;a<6;++a)for(var o=0;o<3;++o){var u=i.get(s);s--,r.setBoolean(a,r.getHeight()-11+o,u),r.setBoolean(r.getHeight()-11+o,a,u)}}},e.embedDataBits=function(t,r,n){for(var i=0,s=-1,u=n.getWidth()-1,c=n.getHeight()-1;u>0;){for(6===u&&(u-=1);c>=0&&c<n.getHeight();){for(var l=0;l<2;++l){var d=u-l;if(e.isEmpty(n.get(d,c))){var f=void 0;i<t.getSize()?(f=t.get(i),++i):f=!1,255!==r&&a.default.getDataMaskBit(r,d,c)&&(f=!f),n.setBoolean(d,c,f)}}c+=s}c+=s=-s,u-=2}if(i!==t.getSize())throw new o.default("Not all bits consumed: "+i+"/"+t.getSize())},e.findMSBSet=function(e){return 32-i.default.numberOfLeadingZeros(e)},e.calculateBCHCode=function(t,r){if(0===r)throw new u.default("0 polynomial");var n=e.findMSBSet(r);for(t<<=n-1;e.findMSBSet(t)>=n;)t^=r<<e.findMSBSet(t)-n;return t},e.makeTypeInfoBits=function(t,r,i){if(!s.default.isValidMaskPattern(r))throw new o.default("Invalid mask pattern");var a=t.getBits()<<3|r;i.appendBits(a,5);var u=e.calculateBCHCode(a,e.TYPE_INFO_POLY);i.appendBits(u,10);var c=new n.default;if(c.appendBits(e.TYPE_INFO_MASK_PATTERN,15),i.xor(c),15!==i.getSize())throw new o.default("should not happen but we got: "+i.getSize())},e.makeVersionInfoBits=function(t,r){r.appendBits(t.getVersionNumber(),6);var n=e.calculateBCHCode(t.getVersionNumber(),e.VERSION_INFO_POLY);if(r.appendBits(n,12),18!==r.getSize())throw new o.default("should not happen but we got: "+r.getSize())},e.isEmpty=function(e){return 255===e},e.embedTimingPatterns=function(t){for(var r=8;r<t.getWidth()-8;++r){var n=(r+1)%2;e.isEmpty(t.get(r,6))&&t.setNumber(r,6,n),e.isEmpty(t.get(6,r))&&t.setNumber(6,r,n)}},e.embedDarkDotAtLeftBottomCorner=function(e){if(0===e.get(8,e.getHeight()-8))throw new o.default;e.setNumber(8,e.getHeight()-8,1)},e.embedHorizontalSeparationPattern=function(t,r,n){for(var i=0;i<8;++i){if(!e.isEmpty(n.get(t+i,r)))throw new o.default;n.setNumber(t+i,r,0)}},e.embedVerticalSeparationPattern=function(t,r,n){for(var i=0;i<7;++i){if(!e.isEmpty(n.get(t,r+i)))throw new o.default;n.setNumber(t,r+i,0)}},e.embedPositionAdjustmentPattern=function(t,r,n){for(var i=0;i<5;++i)for(var s=e.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(t+a,r+i,s[a])},e.embedPositionDetectionPattern=function(t,r,n){for(var i=0;i<7;++i)for(var s=e.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(t+a,r+i,s[a])},e.embedPositionDetectionPatternsAndSeparators=function(t){var r=e.POSITION_DETECTION_PATTERN[0].length;e.embedPositionDetectionPattern(0,0,t),e.embedPositionDetectionPattern(t.getWidth()-r,0,t),e.embedPositionDetectionPattern(0,t.getWidth()-r,t);e.embedHorizontalSeparationPattern(0,7,t),e.embedHorizontalSeparationPattern(t.getWidth()-8,7,t),e.embedHorizontalSeparationPattern(0,t.getWidth()-8,t);e.embedVerticalSeparationPattern(7,0,t),e.embedVerticalSeparationPattern(t.getHeight()-7-1,0,t),e.embedVerticalSeparationPattern(7,t.getHeight()-7,t)},e.maybeEmbedPositionAdjustmentPatterns=function(t,r){if(!(t.getVersionNumber()<2))for(var n=t.getVersionNumber()-1,i=e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,a=i.length;s!==a;s++){var o=i[s];if(o>=0)for(var u=0;u!==a;u++){var c=i[u];c>=0&&e.isEmpty(r.get(c,o))&&e.embedPositionAdjustmentPattern(c-2,o-2,r)}}},e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),e.VERSION_INFO_POLY=7973,e.TYPE_INFO_POLY=1335,e.TYPE_INFO_MASK_PATTERN=21522,e}();t.default=c},475671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(467540),i=function(){function e(){this.maskPattern=-1}return e.prototype.getMode=function(){return this.mode},e.prototype.getECLevel=function(){return this.ecLevel},e.prototype.getVersion=function(){return this.version},e.prototype.getMaskPattern=function(){return this.maskPattern},e.prototype.getMatrix=function(){return this.matrix},e.prototype.toString=function(){var e=new n.default;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()},e.prototype.setMode=function(e){this.mode=e},e.prototype.setECLevel=function(e){this.ecLevel=e},e.prototype.setVersion=function(e){this.version=e},e.prototype.setMaskPattern=function(e){this.maskPattern=e},e.prototype.setMatrix=function(e){this.matrix=e},e.isValidMaskPattern=function(t){return t>=0&&t<e.NUM_MASK_PATTERNS},e.NUM_MASK_PATTERNS=8,e}();t.default=i},683685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(592550),i=function(){function e(){}return e.equals=function(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0},e.hashCode=function(e){if(null===e)return 0;for(var t=1,r=0,n=e;r<n.length;r++){t=31*t+n[r]}return t},e.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},e.copyOf=function(e,t){var r=new Int32Array(t);return n.default.arraycopy(e,0,r,0,Math.min(e.length,t)),r},e.binarySearch=function(t,r,n){void 0===n&&(n=e.numberComparator);for(var i=0,s=t.length-1;i<=s;){var a=s+i>>1,o=n(r,t[a]);if(o>0)i=a+1;else{if(!(o<0))return a;s=a-1}}return-i-1},e.numberComparator=function(e,t){return e-t},e}();t.default=i},917273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.floatToIntBits=function(e){return e},e}();t.default=r},361434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.numberOfTrailingZeros=function(e){var t;if(0===e)return 32;var r=31;return 0!==(t=e<<16)&&(r-=16,e=t),0!==(t=e<<8)&&(r-=8,e=t),0!==(t=e<<4)&&(r-=4,e=t),0!==(t=e<<2)&&(r-=2,e=t),r-(e<<1>>>31)},e.numberOfLeadingZeros=function(e){if(0===e)return 32;var t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31},e.toHexString=function(e){return e.toString(16)},e.bitCount=function(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)},e.MIN_VALUE_32_BITS=-2147483648,e}();t.default=r},467540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=""),this.value=e}return e.prototype.append=function(e){return this.value+="string"==typeof e?e.toString():String.fromCharCode(e),this},e.prototype.length=function(){return this.value.length},e.prototype.charAt=function(e){return this.value.charAt(e)},e.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},e.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},e.prototype.toString=function(){return this.value},e.prototype.insert=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)},e}();t.default=r},375290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(698001),i=r(413242),s=function(){function e(){}return e.decode=function(e,t){var r=this.encodingName(t);return"undefined"==typeof TextDecoder?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},e.encode=function(t,r){return e.isBrowser()?"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t):new TextEncoder(this.encodingName(r),{NONSTANDARD_allowLegacyEncoding:!0}).encode(t)},e.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},e.encodingName=function(e){return"string"==typeof e?e:e.getName()},e.encodingCharacterSet=function(e){return i.default.getCharacterSetECIByName(this.encodingName(e))},e.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(r.equals(i.default.UTF8)||r.equals(i.default.ISO8859_1)||r.equals(i.default.ASCII)){for(var s="",a=0,o=e.length;a<o;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(i.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new n.default("Encoding "+this.encodingName(t)+" not supported by fallback.")},e.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))).split(""),r=[],n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)},e}();t.default=s},592550:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.arraycopy=function(e,t,r,n,i){for(;i--;)r[n++]=e[t++]},e.currentTimeMillis=function(){return Date.now()},e}();t.default=r},158315:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(942737)),n(r(518201)),n(r(891588)),n(r(726841)),n(r(918102)),n(r(713610)),n(r(807847));var i=r(793825);t.Exception=i.default;var s=r(241748);t.ArgumentException=s.default;var a=r(985994);t.ArithmeticException=a.default;var o=r(285780);t.ChecksumException=o.default;var u=r(81725);t.FormatException=u.default;var c=r(479980);t.IllegalArgumentException=c.default;var l=r(245258);t.IllegalStateException=l.default;var d=r(813570);t.NotFoundException=d.default;var f=r(806522);t.ReaderException=f.default;var h=r(904641);t.ReedSolomonException=h.default;var p=r(698001);t.UnsupportedOperationException=p.default;var m=r(258614);t.WriterException=m.default;var g=r(740496);t.BarcodeFormat=g.default;var y=r(680451);t.Binarizer=y.default;var v=r(524082);t.BinaryBitmap=v.default;var w=r(392637);t.DecodeHintType=w.default;var b=r(828510);t.InvertedLuminanceSource=b.default;var E=r(795631);t.LuminanceSource=E.default;var _=r(351367);t.MultiFormatReader=_.default;var I=r(179889);t.MultiFormatWriter=I.default;var S=r(33491);t.PlanarYUVLuminanceSource=S.default;var O=r(756212);t.Result=O.default;var T=r(752191);t.ResultMetadataType=T.default;var N=r(525390);t.RGBLuminanceSource=N.default;var A=r(847731);t.BitArray=A.default;var P=r(904977);t.BitMatrix=P.default;var C=r(380149);t.BitSource=C.default;var x=r(413242);t.CharacterSetECI=x.default;var R=r(198193);t.DecoderResult=R.default;var M=r(202717);t.DefaultGridSampler=M.default;var j=r(227259);t.DetectorResult=j.default;var B=r(236765);t.GlobalHistogramBinarizer=B.default;var k=r(476425);t.GridSampler=k.default;var D=r(128485);t.GridSamplerInstance=D.default;var U=r(697402);t.HybridBinarizer=U.default;var L=r(832816);t.PerspectiveTransform=L.default;var F=r(813381);t.StringUtils=F.default;var z=r(264);t.MathUtils=z.default;var G=r(59095);t.WhiteRectangleDetector=G.default;var $=r(295826);t.GenericGF=$.default;var V=r(121212);t.GenericGFPoly=V.default;var q=r(116559);t.ReedSolomonDecoder=q.default;var H=r(968966);t.ReedSolomonEncoder=H.default;var K=r(432577);t.QRCodeReader=K.default;var W=r(156215);t.QRCodeWriter=W.default;var Z=r(93695);t.OneDReader=Z.default;var Y=r(221074);t.EAN13Reader=Y.default;var J=r(756055);t.Code128Reader=J.default;var X=r(650775);t.ITFReader=X.default;var Q=r(704085);t.Code39Reader=Q.default},665054:(e,t,r)=>{var n=r(348764).Buffer,i=r(804501).strict;e.exports=function(e){if(i(e)){var t=n.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return n.from(e)}},42238:function(e,t,r){var n;!function(i,s){"use strict";var a="function",o="undefined",u="object",c="string",l="major",d="model",f="name",h="type",p="vendor",m="version",g="architecture",y="console",v="mobile",w="tablet",b="smarttv",E="wearable",_="embedded",I="Amazon",S="Apple",O="ASUS",T="BlackBerry",N="Browser",A="Chrome",P="Firefox",C="Google",x="Huawei",R="LG",M="Microsoft",j="Motorola",B="Opera",k="Samsung",D="Sharp",U="Sony",L="Xiaomi",F="Zebra",z="Facebook",G="Chromium OS",$="Mac OS",V=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},q=function(e,t){return typeof e===c&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},K=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},W=function(e,t){for(var r,n,i,o,c,l,d=0;d<t.length&&!c;){var f=t[d],h=t[d+1];for(r=n=0;r<f.length&&!c&&f[r];)if(c=f[r++].exec(e))for(i=0;i<h.length;i++)l=c[++n],typeof(o=h[i])===u&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):s:this[o[0]]=l?o[1].call(this,l,o[2]):s:4===o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):s):this[o]=l||s;d+=2}},Z=function(e,t){for(var r in t)if(typeof t[r]===u&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(q(t[r][n],e))return"?"===r?s:r}else if(q(t[r],e))return"?"===r?s:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,B+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[f,B]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[f,"Smart Lenovo "+N]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+N],m],[/\bfocus\/([\w\.]+)/i],[m,[f,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[m,[f,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+N]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+N],m],[/samsungbrowser\/([\w\.]+)/i],[m,[f,k+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,z],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,A+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,m],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,H]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,k],[h,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,k],[h,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,S],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,S],[h,w]],[/(macintosh);/i],[d,[p,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,D],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[p,x],[h,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,x],[h,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[p,L],[h,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[p,L],[h,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,"OPPO"],[h,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,j],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,j],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,R],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,R],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[p,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[p,"Nokia"],[h,v]],[/(pixel c)\b/i],[d,[p,C],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,C],[h,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,U],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,U],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,I],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,I],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,T],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,O],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,O],[h,v]],[/(nexus 9)/i],[d,[p,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,w]],[/(surface duo)/i],[d,[p,M],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,v]],[/(u304aa)/i],[d,[p,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,w]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,w]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,v]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,w]],[/(shield[\w ]+) b/i],[d,[p,"Nvidia"],[h,w]],[/(sprint) (\w+)/i],[p,d,[h,v]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,M],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,F],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,F],[h,v]],[/smart-tv.+(samsung)/i],[p,[h,b]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,k],[h,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,R],[h,b]],[/(apple) ?tv/i],[p,[d,S+" TV"],[h,b]],[/crkey/i],[[d,A+"cast"],[p,C],[h,b]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,I],[h,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,D],[h,b]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,U],[h,b]],[/(mitv-\w{5}) bui/i],[d,[p,L],[h,b]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[h,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[d,K],[h,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,y]],[/droid.+; (shield) bui/i],[d,[p,"Nvidia"],[h,y]],[/(playstation [345portablevi]+)/i],[d,[p,U],[h,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,M],[h,y]],[/((pebble))app/i],[p,d,[h,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,S],[h,E]],[/droid.+; (glass) \d/i],[d,[p,C],[h,E]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,F],[h,E]],[/(quest( 2| pro)?)/i],[d,[p,z],[h,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,_]],[/(aeobc)\b/i],[d,[p,I],[h,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[m,Z,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,Z,Y],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,$],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,m],[/\(bb(10);/i],[m,[f,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[f,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,G],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,m]]},X=function(e,t){if(typeof e===u&&(t=e,e=s),!(this instanceof X))return new X(e,t).getResult();var r=typeof i!==o&&i.navigator?i.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:s,b=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(J,t):J,E=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=s,t[m]=s,W.call(t,n,b.browser),t[l]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,E&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[g]=s,W.call(e,n,b.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[d]=s,e[h]=s,W.call(e,n,b.device),E&&!e[h]&&y&&y.mobile&&(e[h]=v),E&&"Macintosh"==e[d]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[f]=s,e[m]=s,W.call(e,n,b.engine),e},this.getOS=function(){var e={};return e[f]=s,e[m]=s,W.call(e,n,b.os),E&&!e[f]&&y&&"Unknown"!=y.platform&&(e[f]=y.platform.replace(/chrome os/i,G).replace(/macos/i,$)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?K(e,500):e,this},this.setUA(n),this};X.VERSION="1.0.37",X.BROWSER=V([f,m,l]),X.CPU=V([g]),X.DEVICE=V([d,p,h,y,v,b,w,E,_]),X.ENGINE=X.OS=V([f,m]),typeof t!==o?(e.exports&&(t=e.exports=X),t.UAParser=X):r.amdO?(n=function(){return X}.call(t,r,t,e))===s||(e.exports=n):typeof i!==o&&(i.UAParser=X);var Q=typeof i!==o&&(i.jQuery||i.Zepto);if(Q&&!Q.ua){var ee=new X;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var r in t)Q.ua[r]=t[r]}}}("object"==typeof window?window:this)},825869:(e,t,r)=>{"use strict";function n(e,t){return t=t||{},new Promise((function(r,n){var i=new XMLHttpRequest,s=[],a=[],o={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return s},entries:function(){return a},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){s.push(t=t.toLowerCase()),a.push([t,r]),o[t]=o[t]?o[t]+","+r:r})),r(u())},i.onerror=n,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}r.r(t),r.d(t,{default:()=>n})},573469:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},52511:function(e,t,r){var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var a,o=2147483647,u=36,c=1,l=26,d=38,f=700,h=72,p=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-c,E=Math.floor,_=String.fromCharCode;function I(e){throw new RangeError(w[e])}function S(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function O(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+S((e=e.replace(v,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function N(e){return S(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=_(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var n=0;for(e=r?E(e/f):e>>1,e+=E(e/t);e>b*l>>1;n+=u)e=E(e/b);return E(n+(b+1)*e/(e+d))}function C(e){var t,r,n,i,s,a,d,f,g,y,v,w=[],b=e.length,_=0,S=p,O=h;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&I("not-basic"),w.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<b;){for(s=_,a=1,d=u;i>=b&&I("invalid-input"),((f=(v=e.charCodeAt(i++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:u)>=u||f>E((o-_)/a))&&I("overflow"),_+=f*a,!(f<(g=d<=O?c:d>=O+l?l:d-O));d+=u)a>E(o/(y=u-g))&&I("overflow"),a*=y;O=P(_-s,t=w.length+1,0==s),E(_/t)>o-S&&I("overflow"),S+=E(_/t),_%=t,w.splice(_++,0,S)}return N(w)}function x(e){var t,r,n,i,s,a,d,f,g,y,v,w,b,S,O,N=[];for(w=(e=T(e)).length,t=p,r=0,s=h,a=0;a<w;++a)(v=e[a])<128&&N.push(_(v));for(n=i=N.length,i&&N.push(m);n<w;){for(d=o,a=0;a<w;++a)(v=e[a])>=t&&v<d&&(d=v);for(d-t>E((o-r)/(b=n+1))&&I("overflow"),r+=(d-t)*b,t=d,a=0;a<w;++a)if((v=e[a])<t&&++r>o&&I("overflow"),v==t){for(f=r,g=u;!(f<(y=g<=s?c:g>=s+l?l:g-s));g+=u)O=f-y,S=u-y,N.push(_(A(y+O%S,0))),f=E(O/S);N.push(_(A(f,0))),s=P(r,b,n==i),r=0,++n}++r,++t}return N.join("")}a={version:"1.4.1",ucs2:{decode:T,encode:N},decode:C,encode:x,toASCII:function(e){return O(e,(function(e){return y.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return O(e,(function(e){return g.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},608575:(e,t,r)=>{"use strict";var n=r(52511);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(280129);function v(e,t,r){if(e&&"object"==typeof e&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var v=e=u.join(a);if(v=v.trim(),!r&&1===e.split("#").length){var w=o.exec(v);if(w)return this.path=v,this.href=v,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=s.exec(v);if(b){var E=(b=b[0]).toLowerCase();this.protocol=E,v=v.substr(b.length)}if(r||b||v.match(/^\/\/[^@/]+@[^@/]+/)){var _="//"===v.substr(0,2);!_||b&&m[b]||(v=v.substr(2),this.slashes=!0)}if(!m[b]&&(_||b&&!g[b])){for(var I,S,O=-1,T=0;T<d.length;T++){-1!==(N=v.indexOf(d[T]))&&(-1===O||N<O)&&(O=N)}-1!==(S=-1===O?v.lastIndexOf("@"):v.lastIndexOf("@",O))&&(I=v.slice(0,S),v=v.slice(S+1),this.auth=decodeURIComponent(I)),O=-1;for(T=0;T<l.length;T++){var N;-1!==(N=v.indexOf(l[T]))&&(-1===O||N<O)&&(O=N)}-1===O&&(O=v.length),this.host=v.slice(0,O),v=v.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var P=this.hostname.split(/\./),C=(T=0,P.length);T<C;T++){var x=P[T];if(x&&!x.match(f)){for(var R="",M=0,j=x.length;M<j;M++)x.charCodeAt(M)>127?R+="x":R+=x[M];if(!R.match(f)){var B=P.slice(0,T),k=P.slice(T+1),D=x.match(h);D&&(B.push(D[1]),k.unshift(D[2])),k.length&&(v="/"+k.join(".")+v),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!p[E])for(T=0,C=c.length;T<C;T++){var F=c[T];if(-1!==v.indexOf(F)){var z=encodeURIComponent(F);z===F&&(z=escape(F)),v=v.split(F).join(z)}}var G=v.indexOf("#");-1!==G&&(this.hash=v.substr(G),v=v.slice(0,G));var $=v.indexOf("?");if(-1!==$?(this.search=v.substr($),this.query=v.substr($+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,$)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(s=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),u=0;u<o.length;u++){var c=o[u];"protocol"!==c&&(r[c]=e[c])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var l=Object.keys(e),d=0;d<l.length;d++){var f=l[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",y=r.search||"";r.path=p+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=w||v||r.host&&e.pathname,E=b,_=r.pathname&&r.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),b=b&&(""===h[0]||""===_[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),r.search=e.search,r.query=e.query;else if(null!=e.search){if(I)r.host=_.shift(),r.hostname=r.host,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname);return r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=_.slice(-1)[0],O=(r.host||e.host||_.length>1)&&("."===S||".."===S)||""===S,T=0,N=_.length;N>=0;N--)"."===(S=_[N])?_.splice(N,1):".."===S?(_.splice(N,1),T++):T&&(_.splice(N,1),T--);if(!b&&!E)for(;T--;T)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),O&&"/"!==_.join("/").substr(-1)&&_.push("");var A,P=""===_[0]||_[0]&&"/"===_[0].charAt(0);I&&(r.hostname=P?"":_.length?_.shift():"",r.host=r.hostname,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname));return(b=b||r.host&&_.length)&&!P&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"==typeof e&&(e=v(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i},653250:(e,t,r)=>{"use strict";var n=r(667294);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=n.useState,a=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,l=n[1];return o((function(){i.value=r,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,r,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:l},950139:(e,t,r)=>{"use strict";var n=r(667294),i=r(61688);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,a=e,e=n(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(a=e,o=r)}var a,o,u=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,i]);var h=a(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=h}),[h]),l(h),h}},61688:(e,t,r)=>{"use strict";e.exports=r(653250)},552798:(e,t,r)=>{"use strict";e.exports=r(950139)},957458:(e,t)=>{!function(e){var t,r,n,i=String.fromCharCode;function s(e){for(var t,r,n=[],i=0,s=e.length;i<s;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<s?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function o(e,t){return i(e>>t&63|128)}function u(e){if(0==(4294967168&e))return i(e);var t="";return 0==(4294965248&e)?t=i(e>>6&31|192):0==(4294901760&e)?(a(e),t=i(e>>12&15|224),t+=o(e,6)):0==(4292870144&e)&&(t=i(e>>18&7|240),t+=o(e,12),t+=o(e,6)),t+=i(63&e|128)}function c(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(){var e,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&t[n],n++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|c())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|c()<<6|c())>=2048)return a(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|c()<<12|c()<<6|c())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=s(e),r=t.length,n=-1,i="";++n<r;)i+=u(t[n]);return i},e.decode=function(e){t=s(e),r=t.length,n=0;for(var a,o=[];!1!==(a=l());)o.push(a);return function(e){for(var t,r=e.length,n=-1,s="";++n<r;)(t=e[n])>65535&&(s+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=i(t);return s}(o)}}(t)},94927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},320384:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},555955:(e,t,r)=>{"use strict";var n=r(482584),i=r(248662),s=r(186430),a=r(785692);function o(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,l=o(Object.prototype.toString),d=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),h=o(Boolean.prototype.valueOf);if(u)var p=o(BigInt.prototype.valueOf);if(c)var m=o(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===l(e)}function v(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function b(e){return"[object WeakSet]"===l(e)}function E(e){return"[object ArrayBuffer]"===l(e)}function _(e){return"undefined"!=typeof ArrayBuffer&&(E.working?E(e):e instanceof ArrayBuffer)}function I(e){return"[object DataView]"===l(e)}function S(e){return"undefined"!=typeof DataView&&(I.working?I(e):e instanceof DataView)}function O(e){return"[object SharedArrayBuffer]"===l(e)}function T(e){return"undefined"!=typeof SharedArrayBuffer&&(O.working?O(e):e instanceof SharedArrayBuffer)}function N(e){return g(e,d)}function A(e){return g(e,f)}function P(e){return g(e,h)}function C(e){return u&&g(e,p)}function x(e){return c&&g(e,m)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||S(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},v.working="undefined"!=typeof Set&&v(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(v.working?v(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),t.isWeakSet=function(e){return b(e)},E.working="undefined"!=typeof ArrayBuffer&&E(new ArrayBuffer),t.isArrayBuffer=_,I.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&I(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=S,O.working="undefined"!=typeof SharedArrayBuffer&&O(new SharedArrayBuffer),t.isSharedArrayBuffer=T,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=N,t.isStringObject=A,t.isBooleanObject=P,t.isBigIntObject=C,t.isSymbolObject=x,t.isBoxedPrimitive=function(e){return N(e)||A(e)||P(e)||C(e)||x(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(_(e)||T(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},389539:(e,t,r)=>{var n=r(734155),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])y(o)||!_(o)?a+=" "+o:a+=" "+c(o);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(n.env.NODE_DEBUG){var u=n.env.NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+u+"$","i")}function c(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),b(n.showHidden)&&(n.showHidden=!1),b(n.depth)&&(n.depth=2),b(n.colors)&&(n.colors=!1),b(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=c.styles[t];return r?"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m":e}function d(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&O(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=f(e,i,n)),i}var s=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(y(t))return e.stylize("null","null")}(e,r);if(s)return s;var a=Object.keys(r),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),S(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(r);if(0===a.length){if(O(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(E(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(I(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return h(r)}var c,l="",d=!1,_=["{","}"];(m(r)&&(d=!0,_=["[","]"]),O(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return E(r)&&(l=" "+RegExp.prototype.toString.call(r)),I(r)&&(l=" "+Date.prototype.toUTCString.call(r)),S(r)&&(l=" "+h(r)),0!==a.length||d&&0!=r.length?n<0?E(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=d?function(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)P(t,String(a))?s.push(p(e,t,r,n,String(a),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(p(e,t,r,n,i,!0))})),s}(e,r,n,o,a):a.map((function(t){return p(e,r,n,o,t,d)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,_)):_[0]+l+_[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,s){var a,o,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),P(n,i)||(a="["+i+"]"),o||(e.seen.indexOf(u.value)<0?(o=y(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),b(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function y(e){return null===e}function v(e){return"number"==typeof e}function w(e){return"string"==typeof e}function b(e){return void 0===e}function E(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==typeof e&&null!==e}function I(e){return _(e)&&"[object Date]"===T(e)}function S(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function O(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(o.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(555955),t.isArray=m,t.isBoolean=g,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=E,t.types.isRegExp=E,t.isObject=_,t.isDate=I,t.types.isDate=I,t.isError=S,t.types.isNativeError=S,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(320384);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;e=new Date,r=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],r].join(" "),t.format.apply(t,arguments)},t.inherits=r(35717),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(x.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},893744:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},518893:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},813653:(e,t,r)=>{"use strict";let n;r.d(t,{Z:()=>s});const i=new Uint8Array(16);function s(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}},403958:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>s,Z:()=>a}),5522==r.j)var n=r(197283);const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function s(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}const a=5522==r.j?function(e,t=0){const r=s(e,t);if(!(0,n.Z)(r))throw TypeError("Stringified UUID is invalid");return r}:null},172045:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>a}),3352==r.j)var n=r(893744);if(3352==r.j)var i=r(813653);if(3352==r.j)var s=r(403958);const a=3352==r.j?function(e,t,r){if(n.Z.randomUUID&&!t&&!e)return n.Z.randomUUID();const a=(e=e||{}).random||(e.rng||i.Z)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,s.S)(a)}:null},197283:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>i}),5522==r.j)var n=r(518893);const i=5522==r.j?function(e){return"string"==typeof e&&n.Z.test(e)}:null},495429:(e,t,r)=>{"use strict";function n(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}r.d(t,{Z:()=>i});const i=5522==r.j?function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every((function(t,n){return e(t,r[n])}));if("object"==typeof t||"object"==typeof r){var i=n(t),s=n(r);return i!==t||s!==r?e(i,s):Object.keys(Object.assign({},t,r)).every((function(n){return e(t[n],r[n])}))}return!1}:null},270529:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},552741:(e,t,r)=>{"use strict";if(r.r(t),r.d(t,{scaleBand:()=>n.ti,scaleDiverging:()=>n.AB,scaleDivergingLog:()=>n.Wr,scaleDivergingPow:()=>n.dK,scaleDivergingSqrt:()=>n.KR,scaleDivergingSymlog:()=>n.b4,scaleIdentity:()=>n.ez,scaleImplicit:()=>n.qm,scaleLinear:()=>n.BY,scaleLog:()=>n.p2,scaleOrdinal:()=>n.PK,scalePoint:()=>n.q2,scalePow:()=>n.vY,scaleQuantile:()=>n.FT,scaleQuantize:()=>n.aE,scaleRadial:()=>n.s$,scaleSequential:()=>n.cJ,scaleSequentialLog:()=>n.$l,scaleSequentialPow:()=>n.bE,scaleSequentialQuantile:()=>n.IO,scaleSequentialSqrt:()=>n.aA,scaleSequentialSymlog:()=>n.lQ,scaleSqrt:()=>n.PU,scaleSymlog:()=>n.eh,scaleThreshold:()=>n.ut,scaleTime:()=>n.Xf,scaleUtc:()=>n.KY,tickFormat:()=>n.uk}),5522==r.j)var n=r(751770)},571739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},893338:(e,t,r)=>{var n=r(348764).Buffer,i=r(118269),s=r(594184).RQ,a=r(594184)._R,o=new s((function(e,t){return!e.match(/^u?int/)||Array.isArray(t)||t&&"object"==typeof t&&"BN"===t.constructor.name?t:t.toString()}));function u(){}var c=function(){};c.prototype.encodeFunctionSignature=function(e){return("function"==typeof e||"object"==typeof e&&e)&&(e=i._jsonInterfaceMethodToString(e)),i.sha3(e).slice(0,10)},c.prototype.encodeEventSignature=function(e){return("function"==typeof e||"object"==typeof e&&e)&&(e=i._jsonInterfaceMethodToString(e)),i.sha3(e)},c.prototype.encodeParameter=function(e,t){return this.encodeParameters([e],[t])},c.prototype.encodeParameters=function(e,t){var r=this;return e=r.mapTypes(e),t=t.map((function(t,n){let i=e[n];if("object"==typeof i&&i.type&&(i=i.type),t=r.formatParam(i,t),"string"==typeof i&&i.includes("tuple")){const e=o._getCoder(a.from(i)),n=(e,t)=>{if("array"===e.name)return t.map((t=>n(o._getCoder(a.from(e.type.replace("[]",""))),t)));e.coders.forEach(((e,i)=>{"tuple"===e.name?n(e,t[i]):t[i]=r.formatParam(e.name,t[i])}))};n(e,t)}return t})),o.encode(e,t)},c.prototype.mapTypes=function(e){var t=this,r=[];return e.forEach((function(e){if("object"==typeof e&&"function"===e.type&&(e=Object.assign({},e,{type:"bytes24"})),t.isSimplifiedStructFormat(e)){var n=Object.keys(e)[0];r.push(Object.assign(t.mapStructNameAndType(n),{components:t.mapStructToCoderFormat(e[n])}))}else r.push(e)})),r},c.prototype.isSimplifiedStructFormat=function(e){return"object"==typeof e&&void 0===e.components&&void 0===e.name},c.prototype.mapStructNameAndType=function(e){var t="tuple";return e.indexOf("[]")>-1&&(t="tuple[]",e=e.slice(0,-2)),{type:t,name:e}},c.prototype.mapStructToCoderFormat=function(e){var t=this,r=[];return Object.keys(e).forEach((function(n){"object"!=typeof e[n]?r.push({name:n,type:e[n]}):r.push(Object.assign(t.mapStructNameAndType(n),{components:t.mapStructToCoderFormat(e[n])}))})),r},c.prototype.formatParam=function(e,t){const r=new RegExp(/^bytes([0-9]*)$/),s=new RegExp(/^bytes([0-9]*)\[\]$/),a=new RegExp(/^(u?int)([0-9]*)$/),o=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(i.isBN(t)||i.isBigNumber(t))return t.toString(10);if(e.match(s)||e.match(o))return t.map((t=>this.formatParam(e.replace("[]",""),t)));let u=e.match(a);if(u){let e=parseInt(u[2]||"256");e/8<t.length&&(t=i.leftPad(t,e))}if(u=e.match(r),u){n.isBuffer(t)&&(t=i.toHex(t));let e=parseInt(u[1]);if(e){let r=2*e;"0x"===t.substring(0,2)&&(r+=2),t.length<r&&(t=i.rightPad(t,2*e))}t.length%2==1&&(t="0x0"+t.substring(2))}return t},c.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e.inputs,t).replace("0x","")},c.prototype.decodeParameter=function(e,t){return this.decodeParameters([e],t)[0]},c.prototype.decodeParameters=function(e,t){return this.decodeParametersWith(e,t,!1)},c.prototype.decodeParametersWith=function(e,t,r){if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var n=o.decode(this.mapTypes(e),"0x"+t.replace(/0x/i,""),r),i=new u;return i.__length__=0,e.forEach((function(e,t){var r=n[i.__length__];r="0x"===r?null:r,i[t]=r,("function"==typeof e||e&&"object"==typeof e)&&e.name&&(i[e.name]=r),i.__length__++})),i},c.prototype.decodeLog=function(e,t,r){var n=this;r=Array.isArray(r)?r:[r],t=t||"";var i=[],s=[],a=0;e.forEach((function(e,t){e.indexed?(s[t]=["bool","int","uint","address","fixed","ufixed"].find((function(t){return-1!==e.type.indexOf(t)}))?n.decodeParameter(e.type,r[a]):r[a],a++):i[t]=e}));var o=t,c=o?this.decodeParametersWith(i,o,!0):[],l=new u;return l.__length__=0,e.forEach((function(e,t){l[t]="string"===e.type?"":null,void 0!==c[t]&&(l[t]=c[t]),void 0!==s[t]&&(l[t]=s[t]),e.name&&(l[e.name]=l[t]),l.__length__++})),l};var l=new c;e.exports=l},594184:(e,t,r)=>{"use strict";r.d(t,{RQ:()=>J,_R:()=>I});var n=r(213194);let i=!1,s=!1;const a={debug:1,default:2,info:2,warning:3,error:4,off:5};let o=a.default,u=null;const c=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var l,d;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(l||(l={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(d||(d={}));const f="0123456789abcdef";class h{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==a[r]&&this.throwArgumentError("invalid log level name","logLevel",e),o>a[r]||console.log.apply(console,t)}debug(...e){this._log(h.levels.DEBUG,e)}info(...e){this._log(h.levels.INFO,e)}warn(...e){this._log(h.levels.WARNING,e)}makeError(e,t,r){if(s)return this.makeError("censored error",t,{});t||(t=h.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=f[t[e]>>4],r+=f[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=i,a.code=t,Object.keys(r).forEach((function(e){a[e]=r[e]})),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,h.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",h.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,h.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,h.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,h.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",h.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",h.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return u||(u=new h("logger/5.4.1")),u}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i){if(!e)return;this.globalLogger().throwError("error censorship permanent",h.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}s=!!e,i=!!t}static setLogLevel(e){const t=a[e.toLowerCase()];null!=t?o=t:h.globalLogger().warn("invalid log level - "+e)}static from(e){return new h(e)}}h.errors=d,h.levels=l;const p="abi/5.0.7",m=new h(p),g={};let y={calldata:!0,memory:!0,storage:!0},v={calldata:!0,memory:!0};function w(e,t){if("bytes"===e||"string"===e){if(y[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&v[t])return!0;return(y[t]||"payable"===t)&&m.throwArgumentError("invalid modifier","name",t),!1}function b(e,t){for(let r in t)(0,n.zG)(e,r,t[r])}const E=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),_=new RegExp(/^(.*)\[([0-9]*)\]$/);class I{constructor(e,t){e!==g&&m.throwError("use fromString",h.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),b(this,t);let r=this.type.match(_);b(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:I.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=E.sighash),E[e]||m.throwArgumentError("invalid format type","format",e),e===E.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==E.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===E.full?", ":",")+")"):t+=this.type,e!==E.sighash&&(!0===this.indexed&&(t+=" indexed"),e===E.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?I.fromString(e,t):I.fromObject(e)}static fromObject(e){return I.isParamType(e)?e:new I(g,{name:e.name||null,type:S(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(I.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){m.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},a=s;for(let r=0;r<e.length;r++){let s=e[r];switch(s){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(r),a.state.allowType=!1,a.type=S(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(t||n(r),a.indexed=!0,a.name=""),w(a.type,a.name)&&(a.name=""),a.type=S(a.type);let e=a;a=a.parent,a||n(r),delete e.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(t||n(r),a.indexed=!0,a.name=""),w(a.type,a.name)&&(a.name=""),a.type=S(a.type);let o=i(a.parent);a.parent.components.push(o),delete a.parent,a=o;break;case" ":a.state.allowType&&""!==a.type&&(a.type=S(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(t||n(r),a.indexed&&n(r),a.indexed=!0,a.name=""):w(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(r),a.type+=s,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(r),a.type+=s,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=s,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=s,delete a.state.allowArray):a.state.readArray?a.type+=s:n(r)}}return a.parent&&m.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===a.name?(t||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):w(a.type,a.name)&&(a.name=""),s.type=S(s.type),s}(e,!!t),I.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function S(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var O=r(139040),T=r(178539);const N=new h(p);class A{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){N.throwArgumentError(e,this.localName,t)}}class P{constructor(e){(0,n.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,O.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,O.zo)(e._data))}writeBytes(e){let t=(0,O.lE)(e);const r=t.length%this.wordSize;return r&&(t=(0,O.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,O.lE)(T.O$.from(e));return t.length>this.wordSize&&N.throwError("value out-of-bounds",h.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,O.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class C{constructor(e,t,r,i){(0,n.zG)(this,"_data",(0,O.lE)(e)),(0,n.zG)(this,"wordSize",t||32),(0,n.zG)(this,"_coerceFunc",r),(0,n.zG)(this,"allowLoose",i),this._offset=0}get data(){return(0,O.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):C.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:N.throwError("data out-of-bounds",h.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new C(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return T.O$.from(this.readBytes(this.wordSize))}}var x=r(464594);class R extends A{constructor(e){super("address","address",e,!1)}encode(e,t){try{(0,x.Kn)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,x.Kn)((0,O.$m)(e.readValue().toHexString(),20))}}class M extends A{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const j=new h(p);function B(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||j.throwError("cannot encode object for signature with missing names",h.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&j.throwError("cannot encode object for signature with duplicate names",h.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else j.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&j.throwArgumentError("types/value length mismatch","tuple",r);let i=new P(e.wordSize),s=new P(e.wordSize),a=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();a.push((e=>{n(e+t)}))}else e.encode(i,r)})),a.forEach((e=>{e(i.length)}));let o=e.appendWriter(i);return o+=e.appendWriter(s),o}function k(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let i=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{i=t.decode(s)}catch(e){if(e.code===h.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===h.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)}));const i=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[t];s instanceof Error?Object.defineProperty(r,n,{get:()=>{throw s}}):r[n]=s}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{get:()=>{throw t}})}return Object.freeze(r)}class D extends A{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),j.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return B(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber());let r=[];for(let e=0;e<t;e++)r.push(new M(this.coder));return e.coerce(this.name,k(e,r))}}class U extends A{constructor(e){super("bool","bool",e,!1)}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class L extends A{constructor(e,t){super(e,e,t,!0)}encode(e,t){t=(0,O.lE)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class F extends L{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,O.Dv)(super.decode(e)))}}class z extends A{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}encode(e,t){let r=(0,O.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,O.Dv)(e.readBytes(this.size)))}}class G extends A{constructor(e){super("null","",e,!1)}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var $=r(421046);class V extends A{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}encode(e,t){let r=T.O$.from(t),n=$.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add($.fh).mul($.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt($._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var q=r(244242);class H extends L{constructor(e){super("string",e)}encode(e,t){return super.encode(e,(0,q.Y0)(t))}decode(e){return(0,q.ZN)(super.decode(e))}}class K extends A{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}encode(e,t){return B(e,this.coders,t)}decode(e){return e.coerce(this.name,k(e,this.coders))}}const W=new h(p),Z=new RegExp(/^bytes([0-9]*)$/),Y=new RegExp(/^(u?int)([0-9]*)$/);class J{constructor(e){W.checkNew(new.target,J),(0,n.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new R(e.name);case"bool":return new U(e.name);case"string":return new H(e.name);case"bytes":return new F(e.name);case"array":return new D(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new K((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new G(e.name)}let t=e.type.match(Y);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&W.throwArgumentError("invalid "+t[1]+" bit length","param",e),new V(r/8,"int"===t[1],e.name)}if(t=e.type.match(Z),t){let r=parseInt(t[1]);return(0===r||r>32)&&W.throwArgumentError("invalid bytes length","param",e),new z(r,e.name)}return W.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new C(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new P(this._getWordSize())}encode(e,t){e.length!==t.length&&W.throwError("types/values length mismatch",h.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(I.from(e)))),n=new K(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map((e=>this._getCoder(I.from(e))));return new K(n,"_").decode(this._getReader((0,O.lE)(t),r))}}new J,new h(p)},178539:(e,t,r)=>{"use strict";r.d(t,{O$:()=>b});var n=r(213550),i=r.n(n),s=r(139040);let a=!1,o=!1;const u={debug:1,default:2,info:2,warning:3,error:4,off:5};let c=u.default,l=null;const d=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var f,h;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(f||(f={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(h||(h={}));class p{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==u[r]&&this.throwArgumentError("invalid log level name","logLevel",e),c>u[r]||console.log.apply(console,t)}debug(...e){this._log(p.levels.DEBUG,e)}info(...e){this._log(p.levels.INFO,e)}warn(...e){this._log(p.levels.WARNING,e)}makeError(e,t,r){if(o)return this.makeError("censored error",t,{});t||(t=p.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{try{n.push(e+"="+JSON.stringify(r[e]))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,p.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),d&&this.throwError("platform missing String.prototype.normalize",p.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,p.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,p.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,p.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",p.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",p.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return l||(l=new p("logger/5.4.0")),l}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a){if(!e)return;this.globalLogger().throwError("error censorship permanent",p.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!e,a=!!t}static setLogLevel(e){const t=u[e.toLowerCase()];null!=t?c=t:p.globalLogger().warn("invalid log level - "+e)}static from(e){return new p(e)}}p.errors=h,p.levels=f;var m=i().BN;const g=new p("bignumber/5.4.1"),y={},v=9007199254740991;let w=!1;class b{constructor(e,t){g.checkNew(new.target,b),e!==y&&g.throwError("cannot call constructor directly; use BigNumber.from",p.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return _(I(this).fromTwos(e))}toTwos(e){return _(I(this).toTwos(e))}abs(){return"-"===this._hex[0]?b.from(this._hex.substring(1)):this}add(e){return _(I(this).add(I(e)))}sub(e){return _(I(this).sub(I(e)))}div(e){return b.from(e).isZero()&&S("division by zero","div"),_(I(this).div(I(e)))}mul(e){return _(I(this).mul(I(e)))}mod(e){const t=I(e);return t.isNeg()&&S("cannot modulo negative values","mod"),_(I(this).umod(t))}pow(e){const t=I(e);return t.isNeg()&&S("cannot raise to negative values","pow"),_(I(this).pow(t))}and(e){const t=I(e);return(this.isNegative()||t.isNeg())&&S("cannot 'and' negative values","and"),_(I(this).and(t))}or(e){const t=I(e);return(this.isNegative()||t.isNeg())&&S("cannot 'or' negative values","or"),_(I(this).or(t))}xor(e){const t=I(e);return(this.isNegative()||t.isNeg())&&S("cannot 'xor' negative values","xor"),_(I(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&S("cannot mask negative values","mask"),_(I(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&S("cannot shift negative values","shl"),_(I(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&S("cannot shift negative values","shr"),_(I(this).shrn(e))}eq(e){return I(this).eq(I(e))}lt(e){return I(this).lt(I(e))}lte(e){return I(this).lte(I(e))}gt(e){return I(this).gt(I(e))}gte(e){return I(this).gte(I(e))}isNegative(){return"-"===this._hex[0]}isZero(){return I(this).isZero()}toNumber(){try{return I(this).toNumber()}catch(e){S("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return g.throwError("this platform does not support BigInt",p.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?w||(w=!0,g.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?g.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",p.errors.UNEXPECTED_ARGUMENT,{}):g.throwError("BigNumber.toString does not accept parameters",p.errors.UNEXPECTED_ARGUMENT,{})),I(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof b)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new b(y,E(e)):e.match(/^-?[0-9]+$/)?new b(y,E(new m(e))):g.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&S("underflow","BigNumber.from",e),(e>=v||e<=-v)&&S("overflow","BigNumber.from",e),b.from(String(e));const t=e;if("bigint"==typeof t)return b.from(t.toString());if((0,s._t)(t))return b.from((0,s.Dv)(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return b.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&((0,s.A7)(e)||"-"===e[0]&&(0,s.A7)(e.substring(1))))return b.from(e)}return g.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function E(e){if("string"!=typeof e)return E(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&g.throwArgumentError("invalid hex","value",e),"0x00"===(e=E(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function _(e){return b.from(E(e))}function I(e){const t=b.from(e).toHexString();return"-"===t[0]?new m("-"+t.substring(3),16):new m(t.substring(2),16)}function S(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),g.throwError(e,p.errors.NUMERIC_FAULT,n)}},139040:(e,t,r)=>{"use strict";r.d(t,{lE:()=>g,zo:()=>y,xs:()=>E,$m:()=>_,Dv:()=>b,_t:()=>m,A7:()=>v});let n=!1,i=!1;const s={debug:1,default:2,info:2,warning:3,error:4,off:5};let a=s.default,o=null;const u=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var c,l;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(c||(c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(l||(l={}));class d{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==s[r]&&this.throwArgumentError("invalid log level name","logLevel",e),a>s[r]||console.log.apply(console,t)}debug(...e){this._log(d.levels.DEBUG,e)}info(...e){this._log(d.levels.INFO,e)}warn(...e){this._log(d.levels.WARNING,e)}makeError(e,t,r){if(i)return this.makeError("censored error",t,{});t||(t=d.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{try{n.push(e+"="+JSON.stringify(r[e]))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const s=e;n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach((function(e){a[e]=r[e]})),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,d.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),u&&this.throwError("platform missing String.prototype.normalize",d.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,d.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,d.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",d.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return o||(o=new d("logger/5.4.0")),o}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!e)return;this.globalLogger().throwError("error censorship permanent",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i=!!e,n=!!t}static setLogLevel(e){const t=s[e.toLowerCase()];null!=t?a=t:d.globalLogger().warn("invalid log level - "+e)}static from(e){return new d(e)}}d.errors=l,d.levels=c;const f=new d("bytes/5.4.0");function h(e){return!!e.toHexString}function p(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return p(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function m(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(null==e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r<0||r>=256||r%1)return!1}return!0}function g(e,t){if(t||(t={}),"number"==typeof e){f.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),p(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),h(e)&&(e=e.toHexString()),v(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":f.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return p(new Uint8Array(n))}return m(e)?p(new Uint8Array(e)):f.throwArgumentError("invalid arrayify value","value",e)}function y(e){const t=e.map((e=>g(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),p(n)}function v(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const w="0123456789abcdef";function b(e,t){if(t||(t={}),"number"==typeof e){f.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=w[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),h(e))return e.toHexString();if(v(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":f.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(m(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=w[(240&n)>>4]+w[15&n]}return t}return f.throwArgumentError("invalid hexlify value","value",e)}function E(e){let t="0x";return e.forEach((e=>{t+=b(e).substring(2)})),t}function _(e,t){for("string"!=typeof e?e=b(e):v(e)||f.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&f.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}},213194:(e,t,r)=>{"use strict";r.d(t,{zG:()=>f});let n=!1,i=!1;const s={debug:1,default:2,info:2,warning:3,error:4,off:5};let a=s.default,o=null;const u=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var c,l;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(c||(c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(l||(l={}));class d{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==s[r]&&this.throwArgumentError("invalid log level name","logLevel",e),a>s[r]||console.log.apply(console,t)}debug(...e){this._log(d.levels.DEBUG,e)}info(...e){this._log(d.levels.INFO,e)}warn(...e){this._log(d.levels.WARNING,e)}makeError(e,t,r){if(i)return this.makeError("censored error",t,{});t||(t=d.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{try{n.push(e+"="+JSON.stringify(r[e]))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const s=e;n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach((function(e){a[e]=r[e]})),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,d.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),u&&this.throwError("platform missing String.prototype.normalize",d.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,d.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,d.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",d.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return o||(o=new d("logger/5.4.0")),o}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!e)return;this.globalLogger().throwError("error censorship permanent",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i=!!e,n=!!t}static setLogLevel(e){const t=s[e.toLowerCase()];null!=t?a=t:d.globalLogger().warn("invalid log level - "+e)}static from(e){return new d(e)}}d.errors=l,d.levels=c;new d("properties/5.4.1");function f(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}},118269:(e,t,r)=>{var n=r(694278),i=r(890329),s=r(728668),a=r(561798),o=r(213550),u=function(e,t){var r=[];return t.forEach((function(t){if("object"==typeof t.components){if("tuple"!==t.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var n="",i=t.type.indexOf("[");i>=0&&(n=t.type.substring(i));var s=u(e,t.components);Array.isArray(s)&&e?r.push("tuple("+s.join(",")+")"+n):e?r.push("("+s+")"):r.push("("+s.join(",")+")"+n)}else r.push(t.type)})),r},c=function(e){if(!i.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var s=parseInt(e.substr(r,2),16);t+=String.fromCharCode(s)}return t},l=function(e){if(!e)return"0x00";for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},d=function(e){if(e=e?e.toLowerCase():"ether",!n.unitMap[e])throw new Error('This unit "'+e+"\" doesn't exist, please use the one of the following units"+JSON.stringify(n.unitMap,null,2));return e};e.exports={_fireError:function(e,t,r,n,i){return!e||"object"!=typeof e||e instanceof Error||!e.data||((e.data&&"object"==typeof e.data||Array.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+"\n"+e.data),"string"==typeof e&&(e=new Error(e)),"function"==typeof n&&n(e,i),"function"==typeof r&&((t&&"function"==typeof t.listeners&&t.listeners("error").length||"function"==typeof n)&&t.catch((function(){})),setTimeout((function(){r(e)}),1)),t&&"function"==typeof t.emit&&setTimeout((function(){t.emit("error",e,i),t.removeAllListeners()}),1),t},_jsonInterfaceMethodToString:function(e){return e&&"object"==typeof e&&e.name&&-1!==e.name.indexOf("(")?e.name:e.name+"("+u(!1,e.inputs).join(",")+")"},_flattenTypes:u,randomHex:function(e){return"0x"+a(e).toString("hex")},BN:i.BN,isBN:i.isBN,isBigNumber:i.isBigNumber,isHex:i.isHex,isHexStrict:i.isHexStrict,sha3:i.sha3,sha3Raw:i.sha3Raw,keccak256:i.sha3,soliditySha3:s.soliditySha3,soliditySha3Raw:s.soliditySha3Raw,encodePacked:s.encodePacked,isAddress:i.isAddress,checkAddressChecksum:i.checkAddressChecksum,toChecksumAddress:function(e){if(void 0===e)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=i.sha3(e).replace(/^0x/i,""),r="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?r+=e[n].toUpperCase():r+=e[n];return r},toHex:i.toHex,toBN:i.toBN,bytesToHex:i.bytesToHex,hexToBytes:i.hexToBytes,hexToNumberString:i.hexToNumberString,hexToNumber:i.hexToNumber,toDecimal:i.hexToNumber,numberToHex:i.numberToHex,fromDecimal:i.numberToHex,hexToUtf8:i.hexToUtf8,hexToString:i.hexToUtf8,toUtf8:i.hexToUtf8,stripHexPrefix:i.stripHexPrefix,utf8ToHex:i.utf8ToHex,stringToHex:i.utf8ToHex,fromUtf8:i.utf8ToHex,hexToAscii:c,toAscii:c,asciiToHex:l,fromAscii:l,unitMap:n.unitMap,toWei:function(e,t){if(t=d(t),!i.isBN(e)&&"string"!=typeof e)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(e)?n.toWei(e,t):n.toWei(e,t).toString(10)},fromWei:function(e,t){if(t=d(t),!i.isBN(e)&&"string"!=typeof e)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(e)?n.fromWei(e,t):n.fromWei(e,t).toString(10)},padLeft:i.leftPad,leftPad:i.leftPad,padRight:i.rightPad,rightPad:i.rightPad,toTwosComplement:i.toTwosComplement,isBloom:i.isBloom,isUserEthereumAddressInBloom:i.isUserEthereumAddressInBloom,isContractAddressInBloom:i.isContractAddressInBloom,isTopic:i.isTopic,isTopicInBloom:i.isTopicInBloom,isInBloom:i.isInBloom,compareBlockNumbers:function(e,t){if(e==t)return 0;if("genesis"!=e&&"earliest"!=e&&0!=e||"genesis"!=t&&"earliest"!=t&&0!=t){if("genesis"==e||"earliest"==e)return-1;if("genesis"==t||"earliest"==t)return 1;if("latest"==e)return"pending"==t?-1:1;if("latest"===t)return"pending"==e?1:-1;if("pending"==e)return 1;if("pending"==t)return-1;{let r=new o(e),n=new o(t);return r.lt(n)?-1:r.eq(n)?0:1}}return 0},toNumber:i.toNumber}},728668:(e,t,r)=>{var n=r(213550),i=r(890329),s=function(e){var t=typeof e;if("string"===t)return i.isHexStrict(e)?new n(e.replace(/0x/i,""),16):new n(e,10);if("number"===t)return new n(e);if(i.isBigNumber(e))return new n(e.toString(10));if(i.isBN(e))return e;throw new Error(e+" is not a number")},a=function(e,t,r){var a,o,u;if("bytes"===(e=(u=e).startsWith("int[")?"int256"+u.slice(3):"int"===u?"int256":u.startsWith("uint[")?"uint256"+u.slice(4):"uint"===u?"uint256":u.startsWith("fixed[")?"fixed128x128"+u.slice(5):"fixed"===u?"fixed128x128":u.startsWith("ufixed[")?"ufixed128x128"+u.slice(6):"ufixed"===u?"ufixed128x128":u)){if(t.replace(/^0x/i,"").length%2!=0)throw new Error("Invalid bytes characters "+t.length);return t}if("string"===e)return i.utf8ToHex(t);if("bool"===e)return t?"01":"00";if(e.startsWith("address")){if(a=r?64:40,!i.isAddress(t))throw new Error(t+" is not a valid address, or the checksum is invalid.");return i.leftPad(t.toLowerCase(),a)}if(a=function(e){var t=/^\D+(\d+).*$/.exec(e);return t?parseInt(t[1],10):null}(e),e.startsWith("bytes")){if(!a)throw new Error("bytes[] not yet supported in solidity");if(r&&(a=32),a<1||a>32||a<t.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+a+" for "+t);return i.rightPad(t,2*a)}if(e.startsWith("uint")){if(a%8||a<8||a>256)throw new Error("Invalid uint"+a+" size");if((o=s(t)).bitLength()>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+o.bitLength());if(o.lt(new n(0)))throw new Error("Supplied uint "+o.toString()+" is negative");return a?i.leftPad(o.toString("hex"),a/8*2):o}if(e.startsWith("int")){if(a%8||a<8||a>256)throw new Error("Invalid int"+a+" size");if((o=s(t)).bitLength()>a)throw new Error("Supplied int exceeds width: "+a+" vs "+o.bitLength());return o.lt(new n(0))?o.toTwos(a).toString("hex"):a?i.leftPad(o.toString("hex"),a/8*2):o}throw new Error("Unsupported or invalid type: "+e)},o=function(e){if(Array.isArray(e))throw new Error("Autodetection of array types is not supported.");var t,r,s="";if(e&&"object"==typeof e&&(e.hasOwnProperty("v")||e.hasOwnProperty("t")||e.hasOwnProperty("value")||e.hasOwnProperty("type"))?(t=e.hasOwnProperty("t")?e.t:e.type,s=e.hasOwnProperty("v")?e.v:e.value):(t=i.toHex(e,!0),s=i.toHex(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")),!t.startsWith("int")&&!t.startsWith("uint")||"string"!=typeof s||/^(-)?0x/i.test(s)||(s=new n(s)),Array.isArray(s)){if(r=function(e){var t=/^\D+\d*\[(\d+)\]$/.exec(e);return t?parseInt(t[1],10):null}(t),r&&s.length!==r)throw new Error(t+" is not matching the given array "+JSON.stringify(s));r=s.length}return Array.isArray(s)?s.map((function(e){return a(t,e,r).toString("hex").replace("0x","")})).join(""):a(t,s,r).toString("hex").replace("0x","")};e.exports={soliditySha3:function(){var e=Array.prototype.slice.call(arguments).map(o);return i.sha3("0x"+e.join(""))},soliditySha3Raw:function(){return i.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(o).join(""))},encodePacked:function(){return"0x"+Array.prototype.slice.call(arguments).map(o).join("").toLowerCase()}}},890329:(e,t,r)=>{var n=r(348764).Buffer,i=r(213550),s=r(383206),a=r(957458),o=r(479207),u=r(746877),c=function(e){return i.isBN(e)},l=function(e){return e&&e.constructor&&"BigNumber"===e.constructor.name},d=function(e){try{return s.apply(null,arguments)}catch(t){throw new Error(t+' Given value: "'+e+'"')}},f=function(e){return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(e)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(e))||h(e))},h=function(e){e=e.replace(/^0x/i,"");for(var t=E(e.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(t[r],16)>7&&e[r].toUpperCase()!==e[r]||parseInt(t[r],16)<=7&&e[r].toLowerCase()!==e[r])return!1;return!0},p=function(e){var t="";e=(e=(e=(e=(e=a.encode(e)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},m=function(e){if(!e)return e;if("string"==typeof e&&!v(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return d(e).toNumber()},g=function(e){if(null==e)return e;if(!isFinite(e)&&!v(e))throw new Error('Given input "'+e+'" is not a number.');var t=d(e),r=t.toString(16);return t.lt(new i(0))?"-0x"+r.substr(1):"0x"+r},y=function(e,t){if(f(e))return t?"address":"0x"+e.toLowerCase().replace(/^0x/i,"");if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if(n.isBuffer(e))return"0x"+e.toString("hex");if("object"==typeof e&&e&&!l(e)&&!c(e))return t?"string":p(JSON.stringify(e));if("string"==typeof e){if(0===e.indexOf("-0x")||0===e.indexOf("-0X"))return t?"int256":g(e);if(0===e.indexOf("0x")||0===e.indexOf("0X"))return t?"bytes":e;if(!isFinite(e))return t?"string":p(e)}return t?e<0?"int256":"uint256":g(e)},v=function(e){return("string"==typeof e||"number"==typeof e)&&/^(-)?0x[0-9a-f]*$/i.test(e)},w=function(e){return("string"==typeof e||"number"==typeof e)&&/^(-0x|0x)?[0-9a-f]*$/i.test(e)},b="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",E=function(e){c(e)&&(e=e.toString()),v(e)&&/^0x/i.test(e.toString())?e=o.toBuffer(e):"string"==typeof e&&(e=n.from(e,"utf-8"));var t=o.bufferToHex(o.keccak256(e));return t===b?null:t};E._Hash=o.keccak256;e.exports={BN:i,isBN:c,isBigNumber:l,toBN:d,isAddress:f,isBloom:function(e){return u.isBloom(e)},isUserEthereumAddressInBloom:function(e,t){return u.isUserEthereumAddressInBloom(e,t)},isContractAddressInBloom:function(e,t){return u.isContractAddressInBloom(e,t)},isTopic:function(e){return u.isTopic(e)},isTopicInBloom:function(e,t){return u.isTopicInBloom(e,t)},isInBloom:function(e,t){return u.isInBloom(e,t)},checkAddressChecksum:h,utf8ToHex:p,hexToUtf8:function(e){if(!v(e))throw new Error('The parameter "'+e+'" must be a valid HEX string.');for(var t="",r=0,n=(e=(e=(e=(e=(e=e.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,i=0;i<n;i+=2)r=parseInt(e.substr(i,2),16),t+=String.fromCharCode(r);return a.decode(t)},hexToNumber:m,hexToNumberString:function(e){if(!e)return e;if("string"==typeof e&&!v(e))throw new Error('Given value "'+e+'" is not a valid hex string.');return d(e).toString(10)},numberToHex:g,toHex:y,hexToBytes:function(e){if(e=e.toString(16),!v(e))throw new Error('Given value "'+e+'" is not a valid hex string.');e=e.replace(/^0x/i,"");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return"0x"+t.join("")},isHex:w,isHexStrict:v,stripHexPrefix:function(e){return 0!==e&&w(e)?e.replace(/^(-)?0x/i,"$1"):e},leftPad:function(e,t,r){var n=/^0x/i.test(e)||"number"==typeof e,i=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+e},rightPad:function(e,t,r){var n=/^0x/i.test(e)||"number"==typeof e,i=t-(e=e.toString(16).replace(/^0x/i,"")).length+1>=0?t-e.length+1:0;return(n?"0x":"")+e+new Array(i).join(r||"0")},toTwosComplement:function(e){return"0x"+d(e).toTwos(256).toString(16,64)},sha3:E,sha3Raw:function(e){return null===(e=E(e))?b:e},toNumber:function(e){return"number"==typeof e?e:m(y(e))}}},223487:(e,t,r)=>{"use strict";var n=r(348764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createHashFunction=function(e){return function(t){var r=e();return r.update(t),n.from(r.digest())}}},542929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(223487),i=r(609357);t.keccak224=n.createHashFunction((function(){return i("keccak224")})),t.keccak256=n.createHashFunction((function(){return i("keccak256")})),t.keccak384=n.createHashFunction((function(){return i("keccak384")})),t.keccak512=n.createHashFunction((function(){return i("keccak512")}))},560320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(561798);t.getRandomBytes=function(e){return new Promise((function(t,r){n(e,(function(e,n){e?r(e):t(n)}))}))},t.getRandomBytesSync=function(e){return n(e)}},547476:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function a(e){try{u(n.next(e))}catch(e){s(e)}}function o(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,o)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(363229),a=r(560320),o=32;t.createPrivateKey=function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,a.getRandomBytes(o)];case 1:return e=t.sent(),s.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=a.getRandomBytesSync(o);if(s.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(363229))},430985:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var c=u(r(369282)),l=u(r(286309)),d=a(r(6636)),f=r(547476),h=r(178722),p=r(151803),m=r(322599),g=r(105405),y=r(54586),v=r(459949),w=function(){function e(e,t,r,n){void 0===e&&(e=new l.default(0)),void 0===t&&(t=new l.default(0)),void 0===r&&(r=p.KECCAK256_RLP),void 0===n&&(n=p.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}return e.fromAccountData=function(t){var r=t.nonce,n=t.balance,i=t.stateRoot,s=t.codeHash;return new e(r?new l.default((0,m.toBuffer)(r)):void 0,n?new l.default((0,m.toBuffer)(n)):void 0,i?(0,m.toBuffer)(i):void 0,s?(0,m.toBuffer)(s):void 0)},e.fromRlpSerializedAccount=function(e){var t=d.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},e.fromValuesArray=function(t){var r=o(t,4),n=r[0],i=r[1],s=r[2],a=r[3];return new e(new l.default(n),new l.default(i),s,a)},e.prototype._validate=function(){if(this.nonce.lt(new l.default(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new l.default(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[(0,v.bnToUnpaddedBuffer)(this.nonce),(0,v.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return d.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(p.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(p.KECCAK256_NULL)},e}();t.Account=w;t.isValidAddress=function(e){try{(0,y.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};t.toChecksumAddress=function(e,t){(0,y.assertIsHexString)(e);var r=(0,h.stripHexPrefix)(e).toLowerCase(),n="";t&&(n=(0,v.toType)(t,v.TypeOutput.BN).toString()+"0x");for(var i=(0,g.keccakFromString)(n+r).toString("hex"),s="0x",a=0;a<r.length;a++)parseInt(i[a],16)>=8?s+=r[a].toUpperCase():s+=r[a];return s};t.isValidChecksumAddress=function(e,r){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,r)===e};t.generateAddress=function(e,t){(0,y.assertIsBuffer)(e),(0,y.assertIsBuffer)(t);var r=new l.default(t);return r.isZero()?(0,g.rlphash)([e,null]).slice(-20):(0,g.rlphash)([e,n.from(r.toArray())]).slice(-20)};t.generateAddress2=function(e,t,r){return(0,y.assertIsBuffer)(e),(0,y.assertIsBuffer)(t),(0,y.assertIsBuffer)(r),(0,c.default)(20===e.length),(0,c.default)(32===t.length),(0,g.keccak256)(n.concat([n.from("ff","hex"),e,t,(0,g.keccak256)(r)])).slice(-20)};t.isValidPrivate=function(e){return(0,f.privateKeyVerify)(e)};t.isValidPublic=function(e,t){return void 0===t&&(t=!1),(0,y.assertIsBuffer)(e),64===e.length?(0,f.publicKeyVerify)(n.concat([n.from([4]),e])):!!t&&(0,f.publicKeyVerify)(e)};t.pubToAddress=function(e,t){return void 0===t&&(t=!1),(0,y.assertIsBuffer)(e),t&&64!==e.length&&(e=n.from((0,f.publicKeyConvert)(e,!1).slice(1))),(0,c.default)(64===e.length),(0,g.keccak)(e).slice(-20)},t.publicToAddress=t.pubToAddress;t.privateToPublic=function(e){return(0,y.assertIsBuffer)(e),n.from((0,f.publicKeyCreate)(e,!1)).slice(1)};t.privateToAddress=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))};t.importPublic=function(e){return(0,y.assertIsBuffer)(e),64!==e.length&&(e=n.from((0,f.publicKeyConvert)(e,!1).slice(1))),e};t.zeroAddress=function(){var e=(0,m.zeros)(20);return(0,m.bufferToHex)(e)};t.isZeroAddress=function(e){try{(0,y.assertIsString)(e)}catch(e){return!1}return(0,t.zeroAddress)()===e}},2395:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Address=void 0;var s=i(r(369282)),a=i(r(286309)),o=r(322599),u=r(430985),c=function(){function e(e){(0,s.default)(20===e.length,"Invalid address length"),this.buf=e}return e.zero=function(){return new e((0,o.zeros)(20))},e.fromString=function(t){return(0,s.default)((0,u.isValidAddress)(t),"Invalid address"),new e((0,o.toBuffer)(t))},e.fromPublicKey=function(t){return(0,s.default)(n.isBuffer(t),"Public key should be Buffer"),new e((0,u.pubToAddress)(t))},e.fromPrivateKey=function(t){return(0,s.default)(n.isBuffer(t),"Private key should be Buffer"),new e((0,u.privateToAddress)(t))},e.generate=function(t,r){return(0,s.default)(a.default.isBN(r)),new e((0,u.generateAddress)(t.buf,r.toArrayLike(n)))},e.generate2=function(t,r,i){return(0,s.default)(n.isBuffer(r)),(0,s.default)(n.isBuffer(i)),new e((0,u.generateAddress2)(t.buf,r,i))},e.prototype.equals=function(e){return this.buf.equals(e.buf)},e.prototype.isZero=function(){return this.equals(e.zero())},e.prototype.isPrecompileOrSystemAddress=function(){var e=new a.default(this.buf),t=new a.default(0),r=new a.default("ffff","hex");return e.gte(t)&&e.lte(r)},e.prototype.toString=function(){return"0x"+this.buf.toString("hex")},e.prototype.toBuffer=function(){return n.from(this.buf)},e}();t.Address=c},322599:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.toUtf8=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;var s=i(r(286309)),a=r(178722),o=r(54586);t.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Received an invalid integer type: "+e);return"0x"+e.toString(16)};t.intToBuffer=function(e){var r=(0,t.intToHex)(e);return n.from((0,a.padToEven)(r.slice(2)),"hex")};t.zeros=function(e){return n.allocUnsafe(e).fill(0)};var u=function(e,r,n){var i=(0,t.zeros)(r);return n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)};t.setLengthLeft=function(e,t){return(0,o.assertIsBuffer)(e),u(e,t,!1)};t.setLengthRight=function(e,t){return(0,o.assertIsBuffer)(e),u(e,t,!0)};var c=function(e){for(var t=e[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};t.unpadBuffer=function(e){return(0,o.assertIsBuffer)(e),c(e)};t.unpadArray=function(e){return(0,o.assertIsArray)(e),c(e)};t.unpadHexString=function(e){return(0,o.assertIsHexString)(e),e=(0,a.stripHexPrefix)(e),c(e)};t.toBuffer=function(e){if(null==e)return n.allocUnsafe(0);if(n.isBuffer(e))return n.from(e);if(Array.isArray(e)||e instanceof Uint8Array)return n.from(e);if("string"==typeof e){if(!(0,a.isHexString)(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);return n.from((0,a.padToEven)((0,a.stripHexPrefix)(e)),"hex")}if("number"==typeof e)return(0,t.intToBuffer)(e);if(s.default.isBN(e))return e.toArrayLike(n);if(e.toArray)return n.from(e.toArray());if(e.toBuffer)return n.from(e.toBuffer());throw new Error("invalid type")};t.bufferToInt=function(e){return new s.default((0,t.toBuffer)(e)).toNumber()};t.bufferToHex=function(e){return"0x"+(e=(0,t.toBuffer)(e)).toString("hex")};t.fromSigned=function(e){return new s.default(e).fromTwos(256)};t.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())};t.addHexPrefix=function(e){return"string"!=typeof e||(0,a.isHexPrefixed)(e)?e:"0x"+e};t.toUtf8=function(e){if((e=(0,a.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};t.baToJSON=function(e){if(n.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],i=0;i<e.length;i++)r.push((0,t.baToJSON)(e[i]));return r}}},151803:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var i=r(348764).Buffer,s=n(r(286309));t.MAX_INTEGER=new s.default("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new s.default("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=i.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=i.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=i.from(t.KECCAK256_RLP_S,"hex")},6045:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rlp=t.BN=void 0;var o=a(r(286309));t.BN=o.default;var u=s(r(6636));t.rlp=u},105405:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160FromArray=t.ripemd160FromString=t.ripemd160=t.sha256FromArray=t.sha256FromString=t.sha256=t.keccakFromArray=t.keccakFromHexString=t.keccakFromString=t.keccak256=t.keccak=void 0;var o=r(542929),u=r(923482),c=a(r(6636)),l=r(322599),d=r(54586);t.keccak=function(e,t){switch(void 0===t&&(t=256),(0,d.assertIsBuffer)(e),t){case 224:return(0,o.keccak224)(e);case 256:return(0,o.keccak256)(e);case 384:return(0,o.keccak384)(e);case 512:return(0,o.keccak512)(e);default:throw new Error("Invald algorithm: keccak"+t)}};t.keccak256=function(e){return(0,t.keccak)(e)};t.keccakFromString=function(e,r){void 0===r&&(r=256),(0,d.assertIsString)(e);var i=n.from(e,"utf8");return(0,t.keccak)(i,r)};t.keccakFromHexString=function(e,r){return void 0===r&&(r=256),(0,d.assertIsHexString)(e),(0,t.keccak)((0,l.toBuffer)(e),r)};t.keccakFromArray=function(e,r){return void 0===r&&(r=256),(0,d.assertIsArray)(e),(0,t.keccak)((0,l.toBuffer)(e),r)};var f=function(e){return e=(0,l.toBuffer)(e),u("sha256").update(e).digest()};t.sha256=function(e){return(0,d.assertIsBuffer)(e),f(e)};t.sha256FromString=function(e){return(0,d.assertIsString)(e),f(e)};t.sha256FromArray=function(e){return(0,d.assertIsArray)(e),f(e)};var h=function(e,t){e=(0,l.toBuffer)(e);var r=u("rmd160").update(e).digest();return!0===t?(0,l.setLengthLeft)(r,32):r};t.ripemd160=function(e,t){return(0,d.assertIsBuffer)(e),h(e,t)};t.ripemd160FromString=function(e,t){return(0,d.assertIsString)(e),h(e,t)};t.ripemd160FromArray=function(e,t){return(0,d.assertIsArray)(e),h(e,t)};t.rlphash=function(e){return(0,t.keccak)(c.encode(e))}},54586:(e,t,r)=>{"use strict";var n=r(348764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsString=t.assertIsArray=t.assertIsBuffer=t.assertIsHexString=void 0;var i=r(178722);t.assertIsHexString=function(e){if(!(0,i.isHexString)(e))throw new Error("This method only supports 0x-prefixed hex strings but input was: "+e)};t.assertIsBuffer=function(e){if(!n.isBuffer(e))throw new Error("This method only supports Buffer but input was: "+e)};t.assertIsArray=function(e){if(!Array.isArray(e))throw new Error("This method only supports number arrays but input was: "+e)};t.assertIsString=function(e){if("string"!=typeof e)throw new Error("This method only supports strings but input was: "+e)}},479207:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,i(r(151803),t),i(r(430985),t),i(r(2395),t),i(r(105405),t),i(r(668486),t),i(r(322599),t),i(r(652174),t),i(r(6045),t),i(r(459949),t);var s=r(178722);Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return s.isHexString}})},178722:(e,t,r)=>{"use strict";var n=r(348764).Buffer;function i(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.isHexString=t.getKeys=t.fromAscii=t.fromUtf8=t.toAscii=t.arrayContainsArray=t.getBinarySize=t.padToEven=t.stripHexPrefix=t.isHexPrefixed=void 0,t.isHexPrefixed=i;function s(e){var t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t="0"+t),t}t.stripHexPrefix=function(e){if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return i(e)?e.slice(2):e},t.padToEven=s,t.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', recieved "+typeof e);return n.byteLength(e,"utf8")},t.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '"+typeof t+"'");return t[r?"some":"every"]((function(t){return e.indexOf(t)>=0}))},t.toAscii=function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},t.fromUtf8=function(e){return"0x"+s(n.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},t.fromAscii=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},t.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);for(var n=[],i=0;i<e.length;i++){var s=e[i][t];if(r&&!s)s="";else if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s);n.push(s)}return n},t.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}},652174:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=void 0;var u=o(r(369282)),c=r(178722),l=a(r(6636)),d=r(322599);t.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return(0,d.baToJSON)(e.raw)},e.serialize=function(){return l.encode(e.raw)},t.forEach((function(t,r){function i(){return e.raw[r]}function s(i){"00"!==(i=(0,d.toBuffer)(i)).toString("hex")||t.allowZero||(i=n.allocUnsafe(0)),t.allowLess&&t.length?(i=(0,d.unpadBuffer)(i),(0,u.default)(t.length>=i.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===i.length||!t.length||(0,u.default)(t.length===i.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=i}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:i,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:i})})),r)if("string"==typeof r&&(r=n.from((0,c.stripHexPrefix)(r),"hex")),n.isBuffer(r)&&(r=l.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=(0,d.toBuffer)(t)}))}else{if("object"!=typeof r)throw new Error("invalid data");var i=Object.keys(r);t.forEach((function(t){-1!==i.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==i.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}}},668486:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toCompactSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;var s=r(547476),a=i(r(286309)),o=r(322599),u=r(105405),c=r(54586),l=r(459949);function d(e,t){var r=(0,l.toType)(e,l.TypeOutput.BN);if(!t)return r.subn(27);var n=(0,l.toType)(t,l.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function f(e){var t=new a.default(e);return t.eqn(0)||t.eqn(1)}t.ecsign=function(e,t,r){var i=(0,s.ecdsaSign)(e,t),a=i.signature,o=i.recid,u=n.from(a.slice(0,32)),c=n.from(a.slice(32,64));if(!r||"number"==typeof r){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{r:u,s:c,v:r?o+(2*r+35):o+27}}return{r:u,s:c,v:(0,l.toType)(r,l.TypeOutput.BN).muln(2).addn(35).addn(o).toArrayLike(n)}};t.ecrecover=function(e,t,r,i,a){var u=n.concat([(0,o.setLengthLeft)(r,32),(0,o.setLengthLeft)(i,32)],64),c=d(t,a);if(!f(c))throw new Error("Invalid signature v value");var l=(0,s.ecdsaRecover)(u,c.toNumber(),e);return n.from((0,s.publicKeyConvert)(l,!1).slice(1))};t.toRpcSig=function(e,t,r,i){if(!f(d(e,i)))throw new Error("Invalid signature v value");return(0,o.bufferToHex)(n.concat([(0,o.setLengthLeft)(t,32),(0,o.setLengthLeft)(r,32),(0,o.toBuffer)(e)]))};t.toCompactSig=function(e,t,r,i){if(!f(d(e,i)))throw new Error("Invalid signature v value");var s=(0,l.toType)(e,l.TypeOutput.Number),a=r;return(s>28&&s%2==1||1===s||28===s)&&((a=n.from(r))[0]|=128),(0,o.bufferToHex)(n.concat([(0,o.setLengthLeft)(t,32),(0,o.setLengthLeft)(a,32)]))};t.fromRpcSig=function(e){var t,r,n,i=(0,o.toBuffer)(e);if(i.length>=65)t=i.slice(0,32),r=i.slice(32,64),n=(0,o.bufferToInt)(i.slice(64));else{if(64!==i.length)throw new Error("Invalid signature length");t=i.slice(0,32),r=i.slice(32,64),n=(0,o.bufferToInt)(i.slice(32,33))>>7,r[0]&=127}return n<27&&(n+=27),{v:n,r:t,s:r}};t.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var s=new a.default("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new a.default("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!f(d(e,i)))return!1;var u=new a.default(t),c=new a.default(r);return!(u.isZero()||u.gt(o)||c.isZero()||c.gt(o))&&(!n||1!==c.cmp(s))};t.hashPersonalMessage=function(e){(0,c.assertIsBuffer)(e);var t=n.from("Ethereum Signed Message:\n"+e.length,"utf-8");return(0,u.keccak)(n.concat([t,e]))}},459949:function(e,t,r){"use strict";var n=r(348764).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=t.bnToRlp=t.bnToUnpaddedBuffer=t.bnToHex=void 0;var s,a=i(r(286309)),o=r(178722),u=r(322599);function c(e){return(0,u.unpadBuffer)(e.toArrayLike(n))}t.bnToHex=function(e){return"0x"+e.toString(16)},t.bnToUnpaddedBuffer=c,t.bnToRlp=function(e){return c(e)},function(e){e[e.Number=0]="Number",e[e.BN=1]="BN",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(s=t.TypeOutput||(t.TypeOutput={})),t.toType=function(e,t){if(null===e)return null;if(void 0!==e){if("string"==typeof e&&!(0,o.isHexString)(e))throw new Error("A string must be provided with a 0x-prefix, given: "+e);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var r=(0,u.toBuffer)(e);if(t===s.Buffer)return r;if(t===s.BN)return new a.default(r);if(t===s.Number){var n=new a.default(r),i=new a.default(Number.MAX_SAFE_INTEGER.toString());if(n.gt(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}return"0x"+r.toString("hex")}}},286309:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(233557).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function c(e,t,r,i){for(var s=0,a=0,o=Math.min(e.length,r),u=t;u<o;u++){var c=e.charCodeAt(u)-48;s*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),s+=a}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,a=s%n,o=Math.min(s,s-a)+r,u=0,l=r;l<o;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],u=(16777215&(o<<i|s)).toString(16);r=0!==(s=o>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,a--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,u=a/67108864|0;r.words[0]=o;for(var c=1;c<n;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=f;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(s=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[c]=0|d,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===s?(r<e.length&&(e[r++]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===s?(r>=0&&(e[r--]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,a=0;a<n.length;a++)s=(t=(0|r.words[a])-(0|n.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,s,a=e.words,o=t.words,u=r.words,c=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],y=8191&g,v=g>>>13,w=0|a[3],b=8191&w,E=w>>>13,_=0|a[4],I=8191&_,S=_>>>13,O=0|a[5],T=8191&O,N=O>>>13,A=0|a[6],P=8191&A,C=A>>>13,x=0|a[7],R=8191&x,M=x>>>13,j=0|a[8],B=8191&j,k=j>>>13,D=0|a[9],U=8191&D,L=D>>>13,F=0|o[0],z=8191&F,G=F>>>13,$=0|o[1],V=8191&$,q=$>>>13,H=0|o[2],K=8191&H,W=H>>>13,Z=0|o[3],Y=8191&Z,J=Z>>>13,X=0|o[4],Q=8191&X,ee=X>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],ue=8191&oe,ce=oe>>>13,le=0|o[8],de=8191&le,fe=le>>>13,he=0|o[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,G))+Math.imul(f,z)|0))<<13)|0;c=((s=Math.imul(f,G))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,G))+Math.imul(m,z)|0,s=Math.imul(m,G);var ye=(c+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,q)|0)+Math.imul(f,V)|0))<<13)|0;c=((s=s+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,G))+Math.imul(v,z)|0,s=Math.imul(v,G),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,q)|0;var ve=(c+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,K)|0))<<13)|0;c=((s=s+Math.imul(f,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(b,z),i=(i=Math.imul(b,G))+Math.imul(E,z)|0,s=Math.imul(E,G),n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(v,V)|0,s=s+Math.imul(v,q)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,W)|0;var we=(c+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(f,Y)|0))<<13)|0;c=((s=s+Math.imul(f,J)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,G))+Math.imul(S,z)|0,s=Math.imul(S,G),n=n+Math.imul(b,V)|0,i=(i=i+Math.imul(b,q)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,q)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(v,K)|0,s=s+Math.imul(v,W)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Y)|0,s=s+Math.imul(m,J)|0;var be=(c+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,Q)|0))<<13)|0;c=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,G))+Math.imul(N,z)|0,s=Math.imul(N,G),n=n+Math.imul(I,V)|0,i=(i=i+Math.imul(I,q)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,q)|0,n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,W)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,W)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Y)|0,s=s+Math.imul(v,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,ee)|0;var Ee=(c+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(P,z),i=(i=Math.imul(P,G))+Math.imul(C,z)|0,s=Math.imul(C,G),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(N,V)|0,s=s+Math.imul(N,q)|0,n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,W)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(E,Y)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,s=s+Math.imul(m,ne)|0;var _e=(c+(n=n+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,se)|0))<<13)|0;c=((s=s+Math.imul(f,ae)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,G))+Math.imul(M,z)|0,s=Math.imul(M,G),n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,q)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,q)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(S,Y)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(v,re)|0,s=s+Math.imul(v,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,ae)|0;var Ie=(c+(n=n+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((s=s+Math.imul(f,ce)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,z),i=(i=Math.imul(B,G))+Math.imul(k,z)|0,s=Math.imul(k,G),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,q)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,q)|0,n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,W)|0,n=n+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(N,Y)|0,s=s+Math.imul(N,J)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(v,se)|0,s=s+Math.imul(v,ae)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0;var Se=(c+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(L,z)|0,s=Math.imul(L,G),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,q)|0)+Math.imul(k,V)|0,s=s+Math.imul(k,q)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,W)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(C,Y)|0,s=s+Math.imul(C,J)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(b,se)|0,i=(i=i+Math.imul(b,ae)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,ae)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,ce)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,s=s+Math.imul(m,fe)|0;var Oe=(c+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;c=((s=s+Math.imul(f,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,q))+Math.imul(L,V)|0,s=Math.imul(L,q),n=n+Math.imul(B,K)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,W)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(M,Y)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(I,se)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,ae)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(y,de)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(v,de)|0,s=s+Math.imul(v,fe)|0;var Te=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,W))+Math.imul(L,K)|0,s=Math.imul(L,W),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(k,Y)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(C,re)|0,s=s+Math.imul(C,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,ae)|0,n=n+Math.imul(I,ue)|0,i=(i=i+Math.imul(I,ce)|0)+Math.imul(S,ue)|0,s=s+Math.imul(S,ce)|0,n=n+Math.imul(b,de)|0,i=(i=i+Math.imul(b,fe)|0)+Math.imul(E,de)|0,s=s+Math.imul(E,fe)|0;var Ne=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(v,pe)|0))<<13)|0;c=((s=s+Math.imul(v,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(U,Y),i=(i=Math.imul(U,J))+Math.imul(L,Y)|0,s=Math.imul(L,J),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,ae)|0,n=n+Math.imul(T,ue)|0,i=(i=i+Math.imul(T,ce)|0)+Math.imul(N,ue)|0,s=s+Math.imul(N,ce)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,fe)|0)+Math.imul(S,de)|0,s=s+Math.imul(S,fe)|0;var Ae=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,ee))+Math.imul(L,Q)|0,s=Math.imul(L,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(k,re)|0,s=s+Math.imul(k,ne)|0,n=n+Math.imul(R,se)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,ae)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(C,ue)|0,s=s+Math.imul(C,ce)|0,n=n+Math.imul(T,de)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(N,de)|0,s=s+Math.imul(N,fe)|0;var Pe=(c+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,me)|0)+Math.imul(S,pe)|0))<<13)|0;c=((s=s+Math.imul(S,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(U,re),i=(i=Math.imul(U,ne))+Math.imul(L,re)|0,s=Math.imul(L,ne),n=n+Math.imul(B,se)|0,i=(i=i+Math.imul(B,ae)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,ae)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,ce)|0,n=n+Math.imul(P,de)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(C,de)|0,s=s+Math.imul(C,fe)|0;var Ce=(c+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((s=s+Math.imul(N,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(U,se),i=(i=Math.imul(U,ae))+Math.imul(L,se)|0,s=Math.imul(L,ae),n=n+Math.imul(B,ue)|0,i=(i=i+Math.imul(B,ce)|0)+Math.imul(k,ue)|0,s=s+Math.imul(k,ce)|0,n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(M,de)|0,s=s+Math.imul(M,fe)|0;var xe=(c+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(C,pe)|0))<<13)|0;c=((s=s+Math.imul(C,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(U,ue),i=(i=Math.imul(U,ce))+Math.imul(L,ue)|0,s=Math.imul(L,ce),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(k,de)|0,s=s+Math.imul(k,fe)|0;var Re=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((s=s+Math.imul(M,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(U,de),i=(i=Math.imul(U,fe))+Math.imul(L,de)|0,s=Math.imul(L,fe);var Me=(c+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((s=s+Math.imul(k,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var je=(c+(n=Math.imul(U,pe))|0)+((8191&(i=(i=Math.imul(U,me))+Math.imul(L,pe)|0))<<13)|0;return c=((s=Math.imul(L,me))+(i>>>13)|0)+(je>>>26)|0,je&=67108863,u[0]=ge,u[1]=ye,u[2]=ve,u[3]=we,u[4]=be,u[5]=Ee,u[6]=_e,u[7]=Ie,u[8]=Se,u[9]=Oe,u[10]=Te,u[11]=Ne,u[12]=Ae,u[13]=Pe,u[14]=Ce,u[15]=xe,u[16]=Re,u[17]=Me,u[18]=je,0!==c&&(u[19]=c,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var a=i;i=0;for(var o=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var l=s-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;o=67108863&(f=f+o|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[s]=o,n=a,a=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function v(e,t,r){return y(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(g=m),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?y(this,e,t):v(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,s){for(var a=0;a<s;a++)n[a]=t[e[a]],i[a]=r[e[a]]},w.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,u=Math.cos(2*Math.PI/o),c=Math.sin(2*Math.PI/o),l=0;l<i;l+=o)for(var d=u,f=c,h=0;h<a;h++){var p=r[l+h],m=n[l+h],g=r[l+h+a],y=n[l+h+a],v=d*g-f*y;y=d*y+f*g,g=v,r[l+h]=p+g,n[l+h]=m+y,r[l+h+a]=p-g,n[l+h+a]=m-y,h!==o&&(v=u*d-c*f,f=u*f+c*d,d=v)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],r[2*a]=8191&s,s>>>=13,r[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===s),n(0==(-8192&s))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),a=new Array(n),o=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),d=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,c,n),this.transform(a,s,o,u,n,i),this.transform(c,s,l,d,n,i);for(var h=0;h<n;h++){var p=o[h]*l[h]-u[h]*d[h];u[h]=o[h]*d[h]+u[h]*l[h],o[h]=p}return this.conjugate(o,u,n),this.transform(o,u,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),v(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,u=(0|this.words[t])-o<<r;this.words[t]=u|a,a=o>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-s|d>>>s,l=d&o}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,a=e.length+r;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+o;var u=(0|e.words[i])*t;o=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,u=n.length-i.length;if("mod"!==t){(o=new s(null)).length=u+1,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,o&&(o.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);o&&(o.words[d]=f)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),a=new s(0),o=new s(0),u=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0==(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(l),u.isub(d)),o.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(u)):(r.isub(t),o.isub(i),u.isub(a))}return{a:o,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new s(1),o=new s(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0==(r.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(r.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,a=r;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new T(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function N(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(_,E),_.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(I,E),i(S,E),i(O,E),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new I;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new O}return b[e]=t,t},T.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},T.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new s(1).toRed(this),u=o.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(o);){for(var m=h,g=0;0!==m.cmp(o);g++)m=m.redSqr();n(g<p);var y=this.pow(d,new s(1).iushln(p-g-1));f=f.redMul(y),d=y.redSqr(),h=h.redMul(d),p=g}return f},T.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},T.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var d=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++o||0===n&&0===l)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}u=26}return i},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new N(e)},i(N,T),N.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},N.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},N.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},N.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},N.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},609357:(e,t,r)=>{e.exports=r(511817)(r(975667))},511817:(e,t,r)=>{const n=r(406885),i=r(643723);e.exports=function(e){const t=n(e),r=i(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},406885:(e,t,r)=>{var n=r(348764).Buffer;const{Transform:i}=r(442830);e.exports=e=>class t extends i{constructor(t,r,n,i,s){super(s),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=s,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},643723:(e,t,r)=>{var n=r(348764).Buffer;const{Transform:i}=r(442830);e.exports=e=>class t extends i{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},940116:(e,t)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],l=e[7]^e[17]^e[27]^e[37]^e[47],d=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49];let h=d^(s<<1|a>>>31),p=f^(a<<1|s>>>31);const m=e[0]^h,g=e[1]^p,y=e[10]^h,v=e[11]^p,w=e[20]^h,b=e[21]^p,E=e[30]^h,_=e[31]^p,I=e[40]^h,S=e[41]^p;h=n^(o<<1|u>>>31),p=i^(u<<1|o>>>31);const O=e[2]^h,T=e[3]^p,N=e[12]^h,A=e[13]^p,P=e[22]^h,C=e[23]^p,x=e[32]^h,R=e[33]^p,M=e[42]^h,j=e[43]^p;h=s^(c<<1|l>>>31),p=a^(l<<1|c>>>31);const B=e[4]^h,k=e[5]^p,D=e[14]^h,U=e[15]^p,L=e[24]^h,F=e[25]^p,z=e[34]^h,G=e[35]^p,$=e[44]^h,V=e[45]^p;h=o^(d<<1|f>>>31),p=u^(f<<1|d>>>31);const q=e[6]^h,H=e[7]^p,K=e[16]^h,W=e[17]^p,Z=e[26]^h,Y=e[27]^p,J=e[36]^h,X=e[37]^p,Q=e[46]^h,ee=e[47]^p;h=c^(n<<1|i>>>31),p=l^(i<<1|n>>>31);const te=e[8]^h,re=e[9]^p,ne=e[18]^h,ie=e[19]^p,se=e[28]^h,ae=e[29]^p,oe=e[38]^h,ue=e[39]^p,ce=e[48]^h,le=e[49]^p,de=m,fe=g,he=v<<4|y>>>28,pe=y<<4|v>>>28,me=w<<3|b>>>29,ge=b<<3|w>>>29,ye=_<<9|E>>>23,ve=E<<9|_>>>23,we=I<<18|S>>>14,be=S<<18|I>>>14,Ee=O<<1|T>>>31,_e=T<<1|O>>>31,Ie=A<<12|N>>>20,Se=N<<12|A>>>20,Oe=P<<10|C>>>22,Te=C<<10|P>>>22,Ne=R<<13|x>>>19,Ae=x<<13|R>>>19,Pe=M<<2|j>>>30,Ce=j<<2|M>>>30,xe=k<<30|B>>>2,Re=B<<30|k>>>2,Me=D<<6|U>>>26,je=U<<6|D>>>26,Be=F<<11|L>>>21,ke=L<<11|F>>>21,De=z<<15|G>>>17,Ue=G<<15|z>>>17,Le=V<<29|$>>>3,Fe=$<<29|V>>>3,ze=q<<28|H>>>4,Ge=H<<28|q>>>4,$e=W<<23|K>>>9,Ve=K<<23|W>>>9,qe=Z<<25|Y>>>7,He=Y<<25|Z>>>7,Ke=J<<21|X>>>11,We=X<<21|J>>>11,Ze=ee<<24|Q>>>8,Ye=Q<<24|ee>>>8,Je=te<<27|re>>>5,Xe=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=ae<<7|se>>>25,rt=se<<7|ae>>>25,nt=oe<<8|ue>>>24,it=ue<<8|oe>>>24,st=ce<<14|le>>>18,at=le<<14|ce>>>18;e[0]=de^~Ie&Be,e[1]=fe^~Se&ke,e[10]=ze^~Qe&me,e[11]=Ge^~et&ge,e[20]=Ee^~Me&qe,e[21]=_e^~je&He,e[30]=Je^~he&Oe,e[31]=Xe^~pe&Te,e[40]=xe^~$e&tt,e[41]=Re^~Ve&rt,e[2]=Ie^~Be&Ke,e[3]=Se^~ke&We,e[12]=Qe^~me&Ne,e[13]=et^~ge&Ae,e[22]=Me^~qe&nt,e[23]=je^~He&it,e[32]=he^~Oe&De,e[33]=pe^~Te&Ue,e[42]=$e^~tt&ye,e[43]=Ve^~rt&ve,e[4]=Be^~Ke&st,e[5]=ke^~We&at,e[14]=me^~Ne&Le,e[15]=ge^~Ae&Fe,e[24]=qe^~nt&we,e[25]=He^~it&be,e[34]=Oe^~De&Ze,e[35]=Te^~Ue&Ye,e[44]=tt^~ye&Pe,e[45]=rt^~ve&Ce,e[6]=Ke^~st&de,e[7]=We^~at&fe,e[16]=Ne^~Le&ze,e[17]=Ae^~Fe&Ge,e[26]=nt^~we&Ee,e[27]=it^~be&_e,e[36]=De^~Ze&Je,e[37]=Ue^~Ye&Xe,e[46]=ye^~Pe&xe,e[47]=ve^~Ce&Re,e[8]=st^~de&Ie,e[9]=at^~fe&Se,e[18]=Le^~ze&Qe,e[19]=Fe^~Ge&et,e[28]=we^~Ee&Me,e[29]=be^~_e&je,e[38]=Ze^~Je&he,e[39]=Ye^~Xe&pe,e[48]=Pe^~xe&$e,e[49]=Ce^~Re&Ve,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},975667:(e,t,r)=>{var n=r(348764).Buffer;const i=r(940116);function s(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}s.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},s.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},s.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},s.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=n.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},s.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=s},363229:(e,t,r)=>{e.exports=r(104786)(r(195013))},195013:(e,t,r)=>{const n=new(0,r(186266).ec)("secp256k1"),i=n.curve,s=i.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new s(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let a=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),n.keyPair({pub:{x:r,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let a=new s(t),o=new s(r);if(a.cmp(i.p)>=0||o.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),o=o.toRed(i.red),(6===e||7===e)&&o.isOdd()!==(7===e))return null;const u=a.redSqr().redIMul(a);return o.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:a,y:o}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function o(e,t){const r=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=r[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new s(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new s(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new s(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new s(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new s(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const r=new s(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return o(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=a(t);if(null===r)return 1;return o(e,r.getPublic()),0},publicKeyNegate(e,t){const r=a(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),o(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=a(t[e]),null===r[e])return 1;let n=r[0].getPublic();for(let e=1;e<r.length;++e)n=n.add(r[e].pub);return n.isInfinity()?2:(o(e,n),0)},publicKeyTweakAdd(e,t,r){const n=a(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0)return 2;const u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(o(e,u),0)},publicKeyTweakMul(e,t,r){const n=a(t);if(null===n)return 1;if((r=new s(r)).cmp(i.n)>=0||r.isZero())return 2;return o(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new s(e.subarray(0,32)),r=new s(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new s(r).cmp(i.n)>=0)return 1;if(new s(n).cmp(i.n)>=0)return 1;const{output:a}=e;let o=a.subarray(4,37);o[0]=0,o.set(r,1);let u=33,c=0;for(;u>1&&0===o[c]&&!(128&o[c+1]);--u,++c);if(o=o.subarray(c),128&o[0])return 1;if(u>1&&0===o[0]&&!(128&o[1]))return 1;let l=a.subarray(39,72);l[0]=0,l.set(n,1);let d=33,f=0;for(;d>1&&0===l[f]&&!(128&l[f+1]);--d,++f);return l=l.subarray(f),128&l[0]||d>1&&0===l[0]&&!(128&l[1])?1:(e.outputlen=6+u+d,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=o.length,a.set(o,4),a[4+u]=2,a[5+u]=l.length,a.set(l,6+u),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let a=t.subarray(4,4+r);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let o=t.subarray(6+r);if(33===o.length&&0===o[0]&&(o=o.slice(1)),o.length>32)throw new Error("S length is too long");let u=new s(a);u.cmp(i.n)>=0&&(u=new s(0));let c=new s(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new s(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,a,o){if(o){const e=o;o=n=>{const i=e(t,r,null,a,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new s(i)}}const u=new s(r);if(u.cmp(i.n)>=0||u.isZero())return 1;let c;try{c=n.sign(t,r,{canonical:!0,k:o,pers:a})}catch(e){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify(e,t,r){const o={r:e.subarray(0,32),s:e.subarray(32,64)},u=new s(o.r),c=new s(o.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;const l=a(r);if(null===l)return 2;const d=l.getPublic();return n.verify(t,o,d)?0:3},ecdsaRecover(e,t,r,a){const u={r:t.slice(0,32),s:t.slice(32,64)},c=new s(u.r),l=new s(u.s);if(c.cmp(i.n)>=0||l.cmp(i.n)>=0)return 1;if(c.isZero()||l.isZero())return 2;let d;try{d=n.recoverPubKey(a,u,r)}catch(e){return 2}return o(e,d),0},ecdh(e,t,r,o,u,c,l){const d=a(t);if(null===d)return 1;const f=new s(r);if(f.cmp(i.n)>=0||f.isZero())return 2;const h=d.getPublic().mul(f);if(void 0===u){const t=h.encode(null,!0),r=n.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=r[t]}else{c||(c=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)c[e]=t[e];l||(l=new Uint8Array(32));const r=h.getY().toArray("be",32);for(let e=0;e<32;++e)l[e]=r[e];const n=u(c,l,o);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},104786:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",s="Private Key is invalid",a="Public Key could not be parsed",o="Public Key serialization error",u="The sum of the public keys is not valid",c="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",d="Public key could not be recover",f="Scalar was invalid (zero or overflow)";function h(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(h(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;h(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;h(t.length===r,n)}}function m(e){h("Boolean"===y(e),"Expected compressed to be a Boolean")}function g(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),p("output",e,t),e}function y(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(h(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(p("private key",t,32),m(r),n=g(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(o)}},publicKeyConvert(t,r=!0,n){switch(p("public key",t,[33,65]),m(r),n=g(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(o)}},publicKeyNegate(r,n=!0,i){switch(p("public key",r,[33,65]),m(n),i=g(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(t);case 3:throw new Error(o)}},publicKeyCombine(t,r=!0,n){h(Array.isArray(t),"Expected public keys to be an Array"),h(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(m(r),n=g(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(a);case 2:throw new Error(u);case 3:throw new Error(o)}},publicKeyTweakAdd(t,n,i=!0,s){switch(p("public key",t,[33,65]),p("tweak",n,32),m(i),s=g(s,i?33:65),e.publicKeyTweakAdd(s,t,n)){case 0:return s;case 1:throw new Error(a);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,s){switch(p("public key",t,[33,65]),p("tweak",r,32),m(i),s=g(s,i?33:65),e.publicKeyTweakMul(s,t,r)){case 0:return s;case 1:throw new Error(a);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(c)}},signatureExport(r,n){p("signature",r,64);const i={output:n=g(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(c);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=g(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},s){p("message",r,32),p("private key",n,32),h("Object"===y(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&h("Function"===y(i.noncefn),"Expected options.noncefn to be a Function");const a={signature:s=g(s,64),recid:null};switch(e.ecdsaSign(a,r,n,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(l);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(c);case 2:throw new Error(a)}},ecdsaRecover(r,n,i,s=!0,a){switch(p("signature",r,64),h("Number"===y(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),m(s),a=g(a,s?33:65),e.ecdsaRecover(a,r,n,i)){case 0:return a;case 1:throw new Error(c);case 2:throw new Error(d);case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(p("public key",t,[33,65]),p("private key",r,32),h("Object"===y(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(h("Function"===y(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=g(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(a);case 2:throw new Error(f)}}})},186430:(e,t,r)=>{"use strict";var n=r(749804),i=r(963083),s=r(921924),a=s("Object.prototype.toString"),o=r(241405)()&&"symbol"==typeof Symbol.toStringTag,u=i(),c=s("String.prototype.slice"),l={},d=r(594079),f=Object.getPrototypeOf;o&&d&&f&&n(u,(function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=f(t),i=d(n,Symbol.toStringTag);if(!i){var s=f(n);i=d(s,Symbol.toStringTag)}l[e]=i.get}}));var h=r(785692);e.exports=function(e){return!!h(e)&&(o?function(e){var t=!1;return n(l,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):c(a(e),8,-1))}},347529:e=>{e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},649602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},134411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var a=[];for(n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(n=0;n<r.length;n++)s=i(this,s,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(649602)(n)}catch(e){}},853160:(e,t,r)=>{"use strict";if(r.d(t,{E:()=>i}),3352==r.j)var n=r(716867);function i(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,n.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},620605:(e,t,r)=>{"use strict";if(r.d(t,{z:()=>s}),3352==r.j)var n=r(853160);if(3352==r.j)var i=r(716867);function s(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=(0,n.E)(t);let s=0;for(const t of e)r.set(t,s),s+=t.length;return(0,i.P)(r)}},152217:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var n=r(967645);if(3352==r.j)var i=r(716867);function s(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,i.P)(globalThis.Buffer.from(e,"utf-8"))}},337466:(e,t,r)=>{"use strict";if(r.d(t,{BB:()=>s.B,mL:()=>i.m,zo:()=>n.z}),3352==r.j)var n=r(620605);var i=r(152217),s=r(92263)},92263:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var n=r(967645);function i(e,t="utf8"){const r=n.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},716867:(e,t,r)=>{"use strict";function n(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}r.d(t,{P:()=>n})},967645:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(318543),i=r(853160);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const a=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),o=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),u={utf8:a,"utf-8":a,hex:n.gh.base16,latin1:o,ascii:o,binary:o,...n.gh},c=3352==r.j?u:null},144910:(e,t,r)=>{"use strict";r.d(t,{l:()=>c});var n=r(884873),i=r(573469),s=r(494470);function a(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var o=r(886702),u=r(677332);const c=function e(){const t=(0,o.r)(),r=[];let u,c={},v=-1;return w.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(p("data",u),c[e]=t,w):l.call(c,e)&&c[e]||null;if(e)return p("data",u),c=e,w;return c},w.Parser=void 0,w.Compiler=void 0,w.freeze=function(){if(u)return w;for(;++v<r.length;){const[e,...n]=r[v];if(!1===n[0])continue;!0===n[0]&&(n[1]=void 0);const i=e.call(w,...n);"function"==typeof i&&t.use(i)}return u=!0,v=Number.POSITIVE_INFINITY,w},w.attachers=r,w.use=function(e,...t){let n;if(p("use",u),null==e);else if("function"==typeof e)d(e,...t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}n&&(c.settings=Object.assign(c.settings||{},n));return w;function i(e){if("function"==typeof e)d(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...r]=e;d(t,...r)}else o(e)}}function o(e){l(e.plugins),e.settings&&(n=Object.assign(n||{},e.settings))}function l(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function d(e,t){let n,i=-1;for(;++i<r.length;)if(r[i][0]===e){n=r[i];break}n?(a(n[1])&&a(t)&&(t=s(!0,n[1],t)),n[1]=t):r.push([...arguments])}},w.parse=function(e){w.freeze();const t=y(e),r=w.Parser;if(f("parse",r),d(r,"parse"))return new r(String(t),t).parse();return r(String(t),t)},w.stringify=function(e,t){w.freeze();const r=y(t),n=w.Compiler;if(h("stringify",n),m(e),d(n,"compile"))return new n(e,r).compile();return n(e,r)},w.run=function(e,r,n){m(e),w.freeze(),n||"function"!=typeof r||(n=r,r=void 0);if(!n)return new Promise(i);function i(i,s){function a(t,r,a){r=r||e,t?s(t):i?i(r):n(null,r,a)}t.run(e,y(r),a)}i(null,n)},w.runSync=function(e,t){let r,i;return w.run(e,t,s),g("runSync","run",i),r;function s(e,t){(0,n.N)(e),r=t,i=!0}},w.process=function(e,t){if(w.freeze(),f("process",w.Parser),h("process",w.Compiler),!t)return new Promise(r);function r(r,n){const s=y(e);function a(e,i){e||!i?n(e):r?r(i):t(null,i)}w.run(w.parse(s),s,((e,t,r)=>{if(!e&&t&&r){const s=w.stringify(t,r);null==s||("string"==typeof(n=s)||i(n)?r.value=s:r.result=s),a(e,r)}else a(e);var n}))}r(null,t)},w.processSync=function(e){let t;w.freeze(),f("processSync",w.Parser),h("processSync",w.Compiler);const r=y(e);return w.process(r,i),g("processSync","process",t),r;function i(e){t=!0,(0,n.N)(e)}},w;function w(){const t=e();let n=-1;for(;++n<r.length;)t.use(...r[n]);return t.data(s(!0,{},c)),t}}().freeze(),l={}.hasOwnProperty;function d(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(l.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function f(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function h(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function p(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function m(e){if(!a(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function g(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function y(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new u.k(e)}},875842:(e,t,r)=>{"use strict";r.d(t,{u:()=>n});var n=function(e,t,r){var n={type:String(e)};return null!=r||"string"!=typeof t&&!Array.isArray(t)?Object.assign(n,t):r=t,Array.isArray(r)?n.children=r:null!=r&&(n.value=String(r)),n}},96030:(e,t,r)=>{"use strict";function n(e){return!(e&&e.position&&e.position.start&&e.position.start.line&&e.position.start.column&&e.position.end&&e.position.end.line&&e.position.end.column)}r.d(t,{o:()=>n})},619645:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});const n=function(e){if(null==e)return s;if("string"==typeof e)return function(e){return i(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=n(e[r]);return i(s);function s(...e){let r=-1;for(;++r<t.length;)if(t[r].call(this,...e))return!0;return!1}}(e):function(e){return i(t);function t(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}(e);if("function"==typeof e)return i(e);throw new Error("Expected function, string, or object as test")};function i(e){return function(...t){return Boolean(e.call(this,...t))}}function s(){return!0}},514029:(e,t,r)=>{"use strict";r.d(t,{Pk:()=>n,rb:()=>i});var n=s("start"),i=s("end");function s(e){return function(t){var r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}},16343:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n={}.hasOwnProperty;function i(e){return e&&"object"==typeof e?n.call(e,"position")||n.call(e,"type")?a(e.position):n.call(e,"start")||n.call(e,"end")?a(e):n.call(e,"line")||n.call(e,"column")?s(e):"":""}function s(e){return o(e&&e.line)+":"+o(e&&e.column)}function a(e){return s(e&&e.start)+"-"+s(e&&e.end)}function o(e){return e&&"number"==typeof e?e:1}},937487:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{$:()=>n})},690024:(e,t,r)=>{"use strict";if(r.d(t,{S4:()=>a}),5522==r.j)var n=r(619645);if(5522==r.j)var i=r(937487);const s=!0,a=function(e,t,r,a){"function"==typeof t&&"function"!=typeof r&&(a=r,r=t,t=null);var o=(0,n.O)(t),u=a?-1:1;!function e(n,c,l){var d,f="object"==typeof n&&null!==n?n:{};"string"==typeof f.type&&(d="string"==typeof f.tagName?f.tagName:"string"==typeof f.name?f.name:void 0,Object.defineProperty(h,"name",{value:"node ("+(0,i.$)(f.type+(d?"<"+d+">":""))+")"}));return h;function h(){var i,d,f,h=[];if((!t||o(n,c,l[l.length-1]||null))&&(h=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[s,e];return[e]}(r(n,l)),false===h[0]))return h;if(n.children&&"skip"!==h[0])for(d=(a?n.children.length:-1)+u,f=l.concat(n);d>-1&&d<n.children.length;){if(false===(i=e(n.children[d],d,f)())[0])return i;d="number"==typeof i[1]?i[1]:d+u}return h}}(e,null,[])()}},506393:(e,t,r)=>{"use strict";if(r.d(t,{Vn:()=>i}),5522==r.j)var n=r(180984);const i=function(e,t,r,i){"function"==typeof t&&"function"!=typeof r&&(i=r,r=t,t=null),(0,n.S4)(e,t,(function(e,t){const n=t[t.length-1];return r(e,n?n.children.indexOf(e):null,n)}),i)}},164206:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{$:()=>n})},180984:(e,t,r)=>{"use strict";if(r.d(t,{BK:()=>a,S4:()=>o}),5522==r.j)var n=r(619645);if(5522==r.j)var i=r(164206);const s=!0,a=!1,o=function(e,t,r,o){"function"==typeof t&&"function"!=typeof r&&(o=r,r=t,t=null);const u=(0,n.O)(t),c=o?-1:1;!function e(n,l,d){const f="object"==typeof n&&null!==n?n:{};let h;"string"==typeof f.type&&(h="string"==typeof f.tagName?f.tagName:"string"==typeof f.name?f.name:void 0,Object.defineProperty(p,"name",{value:"node ("+(0,i.$)(f.type+(h?"<"+h+">":""))+")"}));return p;function p(){let i,f,h,p=[];if((!t||u(n,l,d[d.length-1]||null))&&(p=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[s,e];return[e]}(r(n,d)),p[0]===a))return p;if(n.children&&"skip"!==p[0])for(f=(o?n.children.length:-1)+c,h=d.concat(n);f>-1&&f<n.children.length;){if(i=e(n.children[f],f,h)(),i[0]===a)return i;f="number"==typeof i[1]?i[1]:f+c}return p}}(e,null,[])()}},648141:(e,t,r)=>{"use strict";if(r.d(t,{o6:()=>a}),3352==r.j)var n=r(982673);if(3352==r.j)var i=r(31565);const s=()=>{const e=new Map;return{name:"memory",options:{},hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>Array.from(e.keys()),clear(){e.clear()},dispose(){e.clear()}}};function a(e={}){const t={mounts:{"":e.driver||s()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(const r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},a=(e,r)=>t.mountpoints.filter((t=>t.startsWith(e)||r&&e.startsWith(t))).map((r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]}))),c=(e,r)=>{if(t.watching){r=(0,i.a)(r);for(const n of t.watchListeners)n(e,r)}},l=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},d=(e,t,n)=>{const s=new Map,a=e=>{let t=s.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},s.set(e.base,t)),t};for(const n of e){const e="string"==typeof n,s=(0,i.a)(e?n:n.key),o=e?void 0:n.value,u=e||!n.options?t:{...t,...n.options},c=r(s);a(c).items.push({key:s,value:o,relativeKey:c.relativeKey,options:u})}return Promise.all([...s.values()].map((e=>n(e)))).then((e=>e.flat()))},f={hasItem(e,t={}){e=(0,i.a)(e);const{relativeKey:n,driver:s}=r(e);return(0,i.b)(s.hasItem,n,t)},getItem(e,t={}){e=(0,i.a)(e);const{relativeKey:s,driver:a}=r(e);return(0,i.b)(a.getItem,s,t).then((e=>(0,n.ZP)(e)))},getItems:(e,t)=>d(e,t,(e=>e.driver.getItems?(0,i.b)(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:(0,i.j)(e.base,t.key),value:(0,n.ZP)(t.value)}))))):Promise.all(e.items.map((t=>(0,i.b)(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:(0,n.ZP)(e)})))))))),getItemRaw(e,t={}){e=(0,i.a)(e);const{relativeKey:n,driver:s}=r(e);return s.getItemRaw?(0,i.b)(s.getItemRaw,n,t):(0,i.b)(s.getItem,n,t).then((e=>(0,i.d)(e)))},async setItem(e,t,n={}){if(void 0===t)return f.removeItem(e);e=(0,i.a)(e);const{relativeKey:s,driver:a}=r(e);a.setItem&&(await(0,i.b)(a.setItem,s,(0,i.s)(t),n),a.watch||c("update",e))},async setItems(e,t){await d(e,t,(async e=>{if(e.driver.setItems)return(0,i.b)(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:(0,i.s)(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>(0,i.b)(e.driver.setItem,t.relativeKey,(0,i.s)(t.value),t.options))))}))},async setItemRaw(e,t,n={}){if(void 0===t)return f.removeItem(e,n);e=(0,i.a)(e);const{relativeKey:s,driver:a}=r(e);if(a.setItemRaw)await(0,i.b)(a.setItemRaw,s,t,n);else{if(!a.setItem)return;await(0,i.b)(a.setItem,s,(0,i.c)(t),n)}a.watch||c("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=(0,i.a)(e);const{relativeKey:n,driver:s}=r(e);s.removeItem&&(await(0,i.b)(s.removeItem,n,t),(t.removeMeta||t.removeMata)&&await(0,i.b)(s.removeItem,n+"$",t),s.watch||c("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=(0,i.a)(e);const{relativeKey:s,driver:a}=r(e),o=Object.create(null);if(a.getMeta&&Object.assign(o,await(0,i.b)(a.getMeta,s,t)),!t.nativeOnly){const e=await(0,i.b)(a.getItem,s+"$",t).then((e=>(0,n.ZP)(e)));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=(0,i.n)(e);const r=a(e,!0);let n=[];const s=[];for(const e of r){const r=(await(0,i.b)(e.driver.getKeys,e.relativeBase,t)).map((t=>e.mountpoint+(0,i.a)(t))).filter((e=>!n.some((t=>e.startsWith(t)))));s.push(...r),n=[e.mountpoint,...n.filter((t=>!t.startsWith(e.mountpoint)))]}return e?s.filter((t=>t.startsWith(e)&&!t.endsWith("$"))):s.filter((e=>!e.endsWith("$")))},async clear(e,t={}){e=(0,i.n)(e),await Promise.all(a(e,!1).map((async e=>{if(e.driver.clear)return(0,i.b)(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(t.mounts).map((e=>u(e))))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await o(t.mounts[e],c,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter((t=>t!==e)),0===t.watchListeners.length&&await l()}),async unwatch(){t.watchListeners=[],await l()},mount(e,r){if((e=(0,i.n)(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort(((e,t)=>t.length-e.length))),t.mounts[e]=r,t.watching&&Promise.resolve(o(r,c,e)).then((r=>{t.unwatch[e]=r})).catch(console.error),f},async unmount(e,r=!0){(e=(0,i.n)(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e](),delete t.unwatch[e]),r&&await u(t.mounts[e]),t.mountpoints=t.mountpoints.filter((t=>t!==e)),delete t.mounts[e])},getMount(e=""){e=(0,i.a)(e)+":";const t=r(e);return{driver:t.driver,base:t.base}},getMounts(e="",t={}){e=(0,i.a)(e);return a(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))}};return f}function o(e,t,r){return e.watch?e.watch(((e,n)=>t(e,r+n))):()=>{}}async function u(e){"function"==typeof e.dispose&&await(0,i.b)(e.dispose)}},31565:(e,t,r)=>{"use strict";r.d(t,{a:()=>l,b:()=>i,c:()=>u,d:()=>c,j:()=>d,n:()=>f,s:()=>s});var n=r(348764).Buffer;function i(e,...t){try{return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}var r}function s(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return s(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function a(){if(void 0===typeof n)throw new TypeError("[unstorage] Buffer is not supported!")}const o="base64:";function u(e){if("string"==typeof e)return e;a();const t=n.from(e).toString("base64");return o+t}function c(e){return"string"!=typeof e?e:e.startsWith(o)?(a(),n.from(e.slice(o.length),"base64")):e}function l(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function d(...e){return l(e.join(":"))}function f(e){return(e=l(e))?e+":":""}},679202:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var n=r(16343);class i extends Error{constructor(e,t,r){var i,s=[null,null],a={start:{line:null,column:null},end:{line:null,column:null}};super(),"string"==typeof t&&(r=t,t=null),"string"==typeof r&&(-1===(i=r.indexOf(":"))?s[1]=r:(s[0]=r.slice(0,i),s[1]=r.slice(i+1))),t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=(0,n.y)(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="object"==typeof e?e.stack:"",this.reason=this.message,this.line=a.start.line,this.column=a.start.column,this.source=s[0],this.ruleId=s[1],this.position=a,this.file,this.fatal,this.url,this.note}}i.prototype.file="",i.prototype.name="",i.prototype.reason="",i.prototype.message="",i.prototype.stack="",i.prototype.fatal=null,i.prototype.column=null,i.prototype.line=null,i.prototype.source=null,i.prototype.ruleId=null,i.prototype.position=null},677332:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(270529);if(5522==r.j)var i=r(679202);if(5522==r.j)var s=r(452818);if(5522==r.j)var a=r(810018);if(5522==r.j)var o=r(599971);if(5522==r.j)var u=r(394098);const c=5522==r.j?["history","path","basename","stem","extname","dirname"]:null;class l{constructor(e){let t;t=e?"string"==typeof e||n(e)?{value:e}:(0,o.C)(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=a.M.cwd(),this.value,this.stored,this.result,this.map;let r,i=-1;for(;++i<c.length;){const e=c[i];e in t&&void 0!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(r in t)c.includes(r)||(this[r]=t[r])}get path(){return this.history[this.history.length-1]}set path(e){(0,o.C)(e)&&(e=(0,u.Z)(e)),f(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?s.E.dirname(this.path):void 0}set dirname(e){h(this.basename,"dirname"),this.path=s.E.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?s.E.basename(this.path):void 0}set basename(e){f(e,"basename"),d(e,"basename"),this.path=s.E.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?s.E.extname(this.path):void 0}set extname(e){if(d(e,"extname"),h(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=s.E.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?s.E.basename(this.path,this.extname):void 0}set stem(e){f(e,"stem"),d(e,"stem"),this.path=s.E.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,r){const n=new i.$(e,t,r);return this.path&&(n.name=this.path+":"+n.name,n.file=this.path),n.fatal=!1,this.messages.push(n),n}info(e,t,r){const n=this.message(e,t,r);return n.fatal=null,n}fail(e,t,r){const n=this.message(e,t,r);throw n.fatal=!0,n}}function d(e,t){if(e&&e.includes(s.E.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+s.E.sep+"`")}function f(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function h(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}},452818:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});const n={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);let r,n=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(r){n=a+1;break}}else s<0&&(r=!0,s=a+1);return s<0?"":e.slice(n,s)}if(t===e)return"";let o=-1,u=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(r){n=a+1;break}}else o<0&&(r=!0,o=a+1),u>-1&&(e.charCodeAt(a)===t.charCodeAt(u--)?u<0&&(s=a):(u=-1,s=o));n===s?s=o:s<0&&(s=e.length);return e.slice(n,s)},dirname:function(e){if(i(e),0===e.length)return".";let t,r=-1,n=e.length;for(;--n;)if(47===e.charCodeAt(n)){if(t){r=n;break}}else t||(t=!0);return r<0?47===e.charCodeAt(0)?"/":".":1===r&&47===e.charCodeAt(0)?"//":e.slice(0,r)},extname:function(e){i(e);let t,r=e.length,n=-1,s=0,a=-1,o=0;for(;r--;){const i=e.charCodeAt(r);if(47!==i)n<0&&(t=!0,n=r+1),46===i?a<0?a=r:1!==o&&(o=1):a>-1&&(o=-1);else if(t){s=r+1;break}}if(a<0||n<0||0===o||1===o&&a===n-1&&a===s+1)return"";return e.slice(a,n)},join:function(...e){let t,r=-1;for(;++r<e.length;)i(e[r]),e[r]&&(t=void 0===t?e[r]:t+"/"+e[r]);return void 0===t?".":function(e){i(e);const t=47===e.charCodeAt(0);let r=function(e,t){let r,n,i="",s=0,a=-1,o=0,u=-1;for(;++u<=e.length;){if(u<e.length)r=e.charCodeAt(u);else{if(47===r)break;r=47}if(47===r){if(a===u-1||1===o);else if(a!==u-1&&2===o){if(i.length<2||2!==s||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if(n=i.lastIndexOf("/"),n!==i.length-1){n<0?(i="",s=0):(i=i.slice(0,n),s=i.length-1-i.lastIndexOf("/")),a=u,o=0;continue}}else if(i.length>0){i="",s=0,a=u,o=0;continue}t&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+e.slice(a+1,u):i=e.slice(a+1,u),s=u-a-1;a=u,o=0}else 46===r&&o>-1?o++:o=-1}return i}(e,!t);0!==r.length||t||(r=".");r.length>0&&47===e.charCodeAt(e.length-1)&&(r+="/");return t?"/"+r:r}(t)},sep:"/"};function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}},810018:(e,t,r)=>{"use strict";r.d(t,{M:()=>n});const n={cwd:function(){return"/"}}},394098:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>i}),5522==r.j)var n=r(599971);function i(e){if("string"==typeof e)e=new URL(e);else if(!(0,n.C)(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let r=-1;for(;++r<t.length;)if(37===t.charCodeAt(r)&&50===t.charCodeAt(r+1)){const e=t.charCodeAt(r+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}},599971:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}r.d(t,{C:()=>n})},914503:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:()=>n})},815835:(e,t,r)=>{"use strict";if(r.d(t,{y:()=>s}),5522==r.j)var n=r(945775);if(5522==r.j)var i=r(149550);function s(e){const t=(0,i.w)(`0x${e.substring(4)}`).substring(26);return(0,n.x)(`0x${t}`)}},818011:(e,t,r)=>{"use strict";if(r.d(t,{O:()=>p}),5522==r.j)var n=r(516693);if(5522==r.j)var i=r(207210);if(5522==r.j)var s=r(477799);if(5522==r.j)var a=r(447864);if(5522==r.j)var o=r(861836);if(5522==r.j)var u=r(992106);if(5522==r.j)var c=r(274526);if(5522==r.j)var l=r(575719);if(5522==r.j)var d=r(204318);if(5522==r.j)var f=r(993714);if(5522==r.j)var h=r(988819);async function p(e,{blockNumber:t,blockTag:r,coinType:p,name:m,gatewayUrls:g,strict:y,universalResolverAddress:v}){let w=v;if(!w){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");w=(0,a.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const a=(0,s.R)({abi:n.X$,functionName:"addr",...null!=p?{args:[(0,l.V)(m),BigInt(p)]}:{args:[(0,l.V)(m)]}}),c={address:w,abi:n.k3,functionName:"resolve",args:[(0,u.NC)((0,d.T)(m)),a],blockNumber:t,blockTag:r},y=(0,f.s)(e,h.L,"readContract"),v=g?await y({...c,args:[...c.args,g]}):await y(c);if("0x"===v[0])return null;const b=(0,i.k)({abi:n.X$,args:null!=p?[(0,l.V)(m),BigInt(p)]:void 0,functionName:"addr",data:v[0]});return"0x"===b||"0x00"===(0,o.f)(b)?null:b}catch(e){if(y)throw e;if((0,c.c)(e,"resolve"))return null;throw e}}},692826:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>a}),5522==r.j)var n=r(357958);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(16171);async function a(e,{blockNumber:t,blockTag:r,assetGatewayUrls:a,name:o,gatewayUrls:u,strict:c,universalResolverAddress:l}){const d=await(0,i.s)(e,s.g,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:o,universalResolverAddress:l,gatewayUrls:u,strict:c});if(!d)return null;try{return await(0,n.a)(e,{record:d,gatewayUrls:a})}catch{return null}}},295602:(e,t,r)=>{"use strict";if(r.d(t,{w:()=>l}),5522==r.j)var n=r(516693);if(5522==r.j)var i=r(447864);if(5522==r.j)var s=r(992106);if(5522==r.j)var a=r(274526);if(5522==r.j)var o=r(204318);if(5522==r.j)var u=r(993714);if(5522==r.j)var c=r(988819);async function l(e,{address:t,blockNumber:r,blockTag:l,gatewayUrls:d,strict:f,universalResolverAddress:h}){let p=h;if(!p){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");p=(0,i.L)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}const m=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const i={address:p,abi:n.du,functionName:"reverse",args:[(0,s.NC)((0,o.T)(m))],blockNumber:r,blockTag:l},a=(0,u.s)(e,c.L,"readContract"),[f,h]=d?await a({...i,args:[...i.args,d]}):await a(i);return t.toLowerCase()!==h.toLowerCase()?null:f}catch(e){if(f)throw e;if((0,a.c)(e,"reverse"))return null;throw e}}},215215:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>u}),5522==r.j)var n=r(447864);if(5522==r.j)var i=r(992106);if(5522==r.j)var s=r(204318);if(5522==r.j)var a=r(993714);if(5522==r.j)var o=r(988819);async function u(e,{blockNumber:t,blockTag:r,name:u,universalResolverAddress:c}){let l=c;if(!l){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");l=(0,n.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[d]=await(0,a.s)(e,o.L,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,i.NC)((0,s.T)(u))],blockNumber:t,blockTag:r});return d}},16171:(e,t,r)=>{"use strict";if(r.d(t,{g:()=>h}),5522==r.j)var n=r(516693);if(5522==r.j)var i=r(207210);if(5522==r.j)var s=r(477799);if(5522==r.j)var a=r(447864);if(5522==r.j)var o=r(992106);if(5522==r.j)var u=r(274526);if(5522==r.j)var c=r(575719);if(5522==r.j)var l=r(204318);if(5522==r.j)var d=r(993714);if(5522==r.j)var f=r(988819);async function h(e,{blockNumber:t,blockTag:r,name:h,key:p,gatewayUrls:m,strict:g,universalResolverAddress:y}){let v=y;if(!v){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");v=(0,a.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const a={address:v,abi:n.k3,functionName:"resolve",args:[(0,o.NC)((0,l.T)(h)),(0,s.R)({abi:n.nZ,functionName:"text",args:[(0,c.V)(h),p]})],blockNumber:t,blockTag:r},u=(0,d.s)(e,f.L,"readContract"),g=m?await u({...a,args:[...a.args,m]}):await u(a);if("0x"===g[0])return null;const y=(0,i.k)({abi:n.nZ,functionName:"text",data:g[0]});return""===y?null:y}catch(e){if(g)throw e;if((0,u.c)(e,"resolve"))return null;throw e}}},998541:(e,t,r)=>{"use strict";if(r.d(t,{uN:()=>d}),5522==r.j)var n=r(993714);if(5522==r.j)var i=r(351448);if(5522==r.j)var s=r(48333);if(5522==r.j)var a=r(610579);if(5522==r.j)var o=r(988819);if(5522==r.j)var u=r(666432);if(5522==r.j)var c=r(852473);if(5522==r.j)var l=r(361877);function d({abi:e,address:t,client:r}){const d=r,[p,m]=d?"public"in d&&"wallet"in d?[d.public,d.wallet]:"public"in d?[d.public,void 0]:"wallet"in d?[void 0,d.wallet]:[d,d]:[void 0,void 0],g=null!=p,y=null!=m,v={};let w=!1,b=!1,E=!1;for(const t of e)if("function"===t.type?"view"===t.stateMutability||"pure"===t.stateMutability?w=!0:b=!0:"event"===t.type&&(E=!0),w&&b&&E)break;return g&&(w&&(v.read=new Proxy({},{get:(r,i)=>(...r)=>{const{args:s,options:a}=f(r);return(0,n.s)(p,o.L,"readContract")({abi:e,address:t,functionName:i,args:s,...a})}})),b&&(v.simulate=new Proxy({},{get:(r,i)=>(...r)=>{const{args:s,options:a}=f(r);return(0,n.s)(p,u.a,"simulateContract")({abi:e,address:t,functionName:i,args:s,...a})}})),E&&(v.createEventFilter=new Proxy({},{get:(r,s)=>(...r)=>{const a=e.find((e=>"event"===e.type&&e.name===s)),{args:o,options:u}=h(r,a);return(0,n.s)(p,i.A,"createContractEventFilter")({abi:e,address:t,eventName:s,args:o,...u})}}),v.getEvents=new Proxy({},{get:(r,i)=>(...r)=>{const s=e.find((e=>"event"===e.type&&e.name===i)),{args:o,options:u}=h(r,s);return(0,n.s)(p,a.m,"getContractEvents")({abi:e,address:t,eventName:i,args:o,...u})}}),v.watchEvent=new Proxy({},{get:(r,i)=>(...r)=>{const s=e.find((e=>"event"===e.type&&e.name===i)),{args:a,options:o}=h(r,s);return(0,n.s)(p,c.Y,"watchContractEvent")({abi:e,address:t,eventName:i,args:a,...o})}}))),y&&b&&(v.write=new Proxy({},{get:(r,i)=>(...r)=>{const{args:s,options:a}=f(r);return(0,n.s)(m,l.n,"writeContract")({abi:e,address:t,functionName:i,args:s,...a})}})),(g||y)&&b&&(v.estimateGas=new Proxy({},{get:(r,i)=>(...r)=>{const{args:a,options:o}=f(r),u=p??m;return(0,n.s)(u,s.D,"estimateContractGas")({abi:e,address:t,functionName:i,args:a,...o,account:o.account??m.account})}})),v.address=t,v.abi=e,v}function f(e){const t=e.length&&Array.isArray(e[0]);return{args:t?e[0]:[],options:(t?e[1]:e[0])??{}}}function h(e,t){let r=!1;Array.isArray(e[0])?r=!0:1===e.length?r=t.inputs.some((e=>e.indexed)):2===e.length&&(r=!0);return{args:r?e[0]:void 0,options:(r?e[1]:e[0])??{}}}},909661:(e,t,r)=>{"use strict";if(r.d(t,{R:()=>_}),6338!=r.j)var n=r(675247);if(6338!=r.j)var i=r(914503);if(6338!=r.j)var s=r(516693);if(6338!=r.j)var a=r(4124);if(6338!=r.j)var o=r(718590);if(6338!=r.j)var u=r(62027);if(6338!=r.j)var c=r(480377);if(6338!=r.j)var l=r(847070);if(6338!=r.j)var d=r(207210);if(6338!=r.j)var f=r(30286);if(6338!=r.j)var h=r(477799);if(6338!=r.j)var p=r(447864);if(6338!=r.j)var m=r(992106);if(6338!=r.j)var g=r(887502);if(6338!=r.j)var y=r(61163);if(6338!=r.j)var v=r(174688);if(6338!=r.j)var w=r(32357);if(6338!=r.j)var b=r(750150);if(6338!=r.j)var E=r(547531);async function _(e,t){const{account:_=e.account,batch:I=Boolean(e.batch?.multicall),blockNumber:S,blockTag:O="latest",accessList:T,blobs:N,code:A,data:P,factory:C,factoryData:x,gas:R,gasPrice:M,maxFeePerBlobGas:j,maxFeePerGas:B,maxPriorityFeePerGas:k,nonce:D,to:U,value:L,stateOverride:F,...z}=t,G=_?(0,i.T)(_):void 0;if(A&&(C||x))throw new u.G("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(A&&U)throw new u.G("Cannot provide both `code` & `to` as parameters.");const $=A&&P,V=C&&x&&U&&P,q=$||V,H=$?function(e){const{code:t,data:r}=e;return(0,f.w)({abi:(0,n.V)(["constructor(bytes, bytes)"]),bytecode:o.NO,args:[t,r]})}({code:A,data:P}):V?function(e){const{data:t,factory:r,factoryData:i,to:s}=e;return(0,f.w)({abi:(0,n.V)(["constructor(address, bytes, address, bytes)"]),bytecode:o.pG,args:[s,t,r,i]})}({data:P,factory:C,factoryData:x,to:U}):P;try{(0,E.F)(t);const r=(S?(0,m.eC)(S):void 0)||O,n=(0,b.mF)(F),i=e.chain?.formatters?.transactionRequest?.format,o=(i||v.tG)({...(0,y.K)(z,{format:i}),from:G?.address,accessList:T,blobs:N,data:H,gas:R,gasPrice:M,maxFeePerBlobGas:j,maxFeePerGas:B,maxPriorityFeePerGas:k,nonce:D,to:q?void 0:U,value:L});if(I&&function({request:e}){const{data:t,to:r,...n}=e;return!!t&&(!t.startsWith(a.z)&&(!!r&&!(Object.values(n).filter((e=>void 0!==e)).length>0)))}({request:o})&&!n)try{return await async function(e,t){const{batchSize:r=1024,wait:n=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:i,blockTag:a="latest",data:o,multicallAddress:u,to:f}=t;let g=u;if(!g){if(!e.chain)throw new c.pZ;g=(0,p.L)({blockNumber:i,chain:e.chain,contract:"multicall3"})}const y=i?(0,m.eC)(i):void 0,v=y||a,{schedule:b}=(0,w.S)({id:`${e.uid}.${v}`,wait:n,shouldSplitBatch(e){const t=e.reduce(((e,{data:t})=>e+(t.length-2)),0);return t>2*r},fn:async t=>{const r=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),n=(0,h.R)({abi:s.F8,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{data:n,to:g},v]});return(0,d.k)({abi:s.F8,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:E,success:_}]=await b({data:o,to:f});if(!_)throw new l.VQ({data:E});return"0x"===E?{data:void 0}:{data:E}}(e,{...o,blockNumber:S,blockTag:O})}catch(e){if(!(e instanceof c.pZ||e instanceof c.mm))throw e}const u=await e.request({method:"eth_call",params:n?[o,r,n]:[o,r]});return"0x"===u?{data:void 0}:{data:u}}catch(n){const i=function(e){if(!(e instanceof u.G))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(n),{offchainLookup:s,offchainLookupSignature:a}=await Promise.all([r.e(5449),r.e(3946),r.e(6928),r.e(9595),r.e(8384),r.e(2827),r.e(6510),r.e(2983),r.e(5187),r.e(2506),r.e(5849),r.e(6996),r.e(8825),r.e(4926),r.e(5045),r.e(1535),r.e(4279),r.e(7411),r.e(1680),r.e(3420),r.e(5655),r.e(4634),r.e(6006),r.e(7715),r.e(4347),r.e(5844),r.e(4388),r.e(6949),r.e(3917),r.e(9104),r.e(9842),r.e(7206),r.e(3454),r.e(5257),r.e(6066),r.e(4517),r.e(446),r.e(66),r.e(3923),r.e(2167)]).then(r.bind(r,549193));if(!1!==e.ccipRead&&i?.slice(0,10)===a&&U)return{data:await s(e,{data:i,to:U})};if(q&&"0x101bb98d"===i?.slice(0,10))throw new l.Mo({factory:C});throw(0,g.P)(n,{...t,account:G,chain:e.chain})}}},12500:(e,t,r)=>{"use strict";if(r.d(t,{I:()=>i}),5522==r.j)var n=r(917211);async function i(e){const t=(0,n.g)(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}},351448:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>a}),5522==r.j)var n=r(199583);if(5522==r.j)var i=r(992106);if(5522==r.j)var s=r(917211);async function a(e,t){const{address:r,abi:a,args:o,eventName:u,fromBlock:c,strict:l,toBlock:d}=t,f=(0,s.g)(e,{method:"eth_newFilter"}),h=u?(0,n.O)({abi:a,args:o,eventName:u}):void 0,p=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof c?(0,i.eC)(c):c,toBlock:"bigint"==typeof d?(0,i.eC)(d):d,topics:h}]});return{abi:a,args:o,eventName:u,id:p,request:f(p),strict:Boolean(l),type:"event"}}},910852:(e,t,r)=>{"use strict";if(r.d(t,{j:()=>a}),5522==r.j)var n=r(199583);if(5522==r.j)var i=r(992106);if(5522==r.j)var s=r(917211);async function a(e,{address:t,args:r,event:a,events:o,fromBlock:u,strict:c,toBlock:l}={}){const d=o??(a?[a]:void 0),f=(0,s.g)(e,{method:"eth_newFilter"});let h=[];if(d){const e=d.flatMap((e=>(0,n.O)({abi:[e],eventName:e.name,args:r})));h=[e],a&&(h=h[0])}const p=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof u?(0,i.eC)(u):u,toBlock:"bigint"==typeof l?(0,i.eC)(l):l,...h.length?{topics:h}:{}}]});return{abi:d,args:r,eventName:a?a.name:void 0,fromBlock:u,id:p,request:f(p),strict:Boolean(c),toBlock:l,type:"event"}}},41727:(e,t,r)=>{"use strict";if(r.d(t,{W:()=>i}),5522==r.j)var n=r(917211);async function i(e){const t=(0,n.g)(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}},48333:(e,t,r)=>{"use strict";if(r.d(t,{D:()=>u}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(477799);if(5522==r.j)var s=r(172365);if(5522==r.j)var a=r(993714);if(5522==r.j)var o=r(425884);async function u(e,t){const{abi:r,address:u,args:c,functionName:l,...d}=t,f=(0,i.R)({abi:r,args:c,functionName:l});try{return await(0,a.s)(e,o.Q,"estimateGas")({data:f,to:u,...d})}catch(e){const t=d.account?(0,n.T)(d.account):void 0;throw(0,s.S)(e,{abi:r,address:u,args:c,docsPath:"/docs/contract/estimateContractGas",functionName:l,sender:t?.address})}}},743861:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>c,X:()=>u}),6338!=r.j)var n=r(115371);if(6338!=r.j)var i=r(993714);if(6338!=r.j)var s=r(779379);if(6338!=r.j)var a=r(475016);if(6338!=r.j)var o=r(324453);async function u(e,t){return c(e,t)}async function c(e,t){const{block:r,chain:u=e.chain,request:c,type:l="eip1559"}=t||{},d=await(async()=>"function"==typeof u?.fees?.baseFeeMultiplier?u.fees.baseFeeMultiplier({block:r,client:e,request:c}):u?.fees?.baseFeeMultiplier??1.2)();if(d<1)throw new n.Fz;const f=10**(d.toString().split(".")[1]?.length??0),h=e=>e*BigInt(Math.ceil(d*f))/BigInt(f),p=r||await(0,i.s)(e,a.Q,"getBlock")({});if("function"==typeof u?.fees?.estimateFeesPerGas){const t=await u.fees.estimateFeesPerGas({block:r,client:e,multiply:h,request:c,type:l});if(null!==t)return t}if("eip1559"===l){if("bigint"!=typeof p.baseFeePerGas)throw new n.e5;const t="bigint"==typeof c?.maxPriorityFeePerGas?c.maxPriorityFeePerGas:await(0,s.h)(e,{block:p,chain:u,request:c}),r=h(p.baseFeePerGas);return{maxFeePerGas:c?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:c?.gasPrice??h(await(0,i.s)(e,o.o,"getGasPrice")({}))}}},425884:(e,t,r)=>{"use strict";if(r.d(t,{Q:()=>d}),6338!=r.j)var n=r(914503);if(6338!=r.j)var i=r(992106);if(6338!=r.j)var s=r(741428);if(6338!=r.j)var a=r(61163);if(6338!=r.j)var o=r(174688);if(6338!=r.j)var u=r(750150);if(6338!=r.j)var c=r(547531);if(6338!=r.j)var l=r(437397);async function d(e,t){const r=t.account??e.account,d=r?(0,n.T)(r):void 0;try{const{accessList:r,blobs:n,blobVersionedHashes:s,blockNumber:f,blockTag:h,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:b,to:E,value:_,stateOverride:I,...S}=await(0,l.Z)(e,{...t,parameters:"local"===d?.type?void 0:["blobVersionedHashes"]}),O=(f?(0,i.eC)(f):void 0)||h,T=(0,u.mF)(I);(0,c.F)(t);const N=e.chain?.formatters?.transactionRequest?.format,A=(N||o.tG)({...(0,a.K)(S,{format:N}),from:d?.address,accessList:r,blobs:n,blobVersionedHashes:s,data:p,gas:m,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:b,to:E,value:_}),P=await e.request({method:"eth_estimateGas",params:T?[A,O??"latest",T]:O?[A,O]:[A]});return BigInt(P)}catch(r){throw(0,s.Z)(r,{...t,account:d,chain:e.chain})}}},779379:(e,t,r)=>{"use strict";if(r.d(t,{_:()=>u,h:()=>c}),6338!=r.j)var n=r(115371);if(6338!=r.j)var i=r(295946);if(6338!=r.j)var s=r(993714);if(6338!=r.j)var a=r(475016);if(6338!=r.j)var o=r(324453);async function u(e,t){return c(e,t)}async function c(e,t){const{block:r,chain:u=e.chain,request:c}=t||{};if("function"==typeof u?.fees?.defaultPriorityFee){const t=r||await(0,s.s)(e,a.Q,"getBlock")({});return u.fees.defaultPriorityFee({block:t,client:e,request:c})}if(void 0!==u?.fees?.defaultPriorityFee)return u?.fees?.defaultPriorityFee;try{const t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,i.y_)(t)}catch{const[t,i]=await Promise.all([r?Promise.resolve(r):(0,s.s)(e,a.Q,"getBlock")({}),(0,s.s)(e,o.o,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new n.e5;const u=i-t.baseFeePerGas;return u<0n?0n:u}}},788930:(e,t,r)=>{"use strict";if(r.d(t,{s:()=>i}),6338!=r.j)var n=r(992106);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){const s=r?(0,n.eC)(r):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||i]});return BigInt(a)}},930097:(e,t,r)=>{"use strict";async function n(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}r.d(t,{X:()=>n})},475016:(e,t,r)=>{"use strict";if(r.d(t,{Q:()=>a}),6338!=r.j)var n=r(579814);if(6338!=r.j)var i=r(992106);if(6338!=r.j)var s=r(43310);async function a(e,{blockHash:t,blockNumber:r,blockTag:a,includeTransactions:o}={}){const u=a??"latest",c=o??!1,l=void 0!==r?(0,i.eC)(r):void 0;let d=null;if(d=t?await e.request({method:"eth_getBlockByHash",params:[t,c]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[l||u,c]},{dedupe:Boolean(l)}),!d)throw new n.f({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||s.Z)(d)}},87644:(e,t,r)=>{"use strict";if(r.d(t,{z:()=>s}),5522==r.j)var n=r(989329);const i=e=>`blockNumber.${e}`;async function s(e,{cacheTime:t=e.cacheTime}={}){const r=await(0,n.DN)((()=>e.request({method:"eth_blockNumber"})),{cacheKey:i(e.uid),cacheTime:t});return BigInt(r)}},392868:(e,t,r)=>{"use strict";if(r.d(t,{c:()=>s}),5522==r.j)var n=r(295946);if(5522==r.j)var i=r(992106);async function s(e,{blockHash:t,blockNumber:r,blockTag:s="latest"}={}){const a=void 0!==r?(0,i.eC)(r):void 0;let o;return o=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||s]},{dedupe:Boolean(a)}),(0,n.ly)(o)}},179524:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>i}),6338!=r.j)var n=r(295946);async function i(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return(0,n.ly)(t)}},913168:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>i}),5522==r.j)var n=r(992106);async function i(e,{address:t,blockNumber:r,blockTag:i="latest"}){const s=void 0!==r?(0,n.eC)(r):void 0,a=await e.request({method:"eth_getCode",params:[t,s||i]},{dedupe:Boolean(s)});if("0x"!==a)return a}},610579:(e,t,r)=>{"use strict";if(r.d(t,{m:()=>a}),5522==r.j)var n=r(840840);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(313614);async function a(e,t){const{abi:r,address:a,args:o,blockHash:u,eventName:c,fromBlock:l,toBlock:d,strict:f}=t,h=c?(0,n.mE)({abi:r,name:c}):void 0,p=h?void 0:r.filter((e=>"event"===e.type));return(0,i.s)(e,s.y,"getLogs")({address:a,args:o,blockHash:u,event:h,events:p,fromBlock:l,toBlock:d,strict:f})}},875004:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>a}),5522==r.j)var n=r(93680);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(988819);async function a(e,t){const{address:r,factory:a,factoryData:u}=t;try{const[t,n,c,l,d,f,h]=await(0,i.s)(e,s.L,"readContract")({abi:o,address:r,functionName:"eip712Domain",factory:a,factoryData:u});return{domain:{name:n,version:c,chainId:Number(l),verifyingContract:d,salt:f},extensions:h,fields:t}}catch(e){const t=e;if("ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name)throw new n.m({address:r});throw t}}const o=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]},412127:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>s}),5522==r.j)var n=r(992106);if(5522==r.j)var i=r(909241);async function s(e,{blockCount:t,blockNumber:r,blockTag:s="latest",rewardPercentiles:a}){const o=r?(0,n.eC)(r):void 0,u=await e.request({method:"eth_feeHistory",params:[(0,n.eC)(t),o||s,a]},{dedupe:Boolean(o)});return(0,i.D)(u)}},380478:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>s}),5522==r.j)var n=r(59691);if(5522==r.j)var i=r(953992);async function s(e,{filter:t}){const r="strict"in t&&t.strict,s=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof s[0])return s;const a=s.map((e=>(0,i.U)(e)));return"abi"in t&&t.abi?(0,n.h)({abi:t.abi,logs:a,strict:r}):a}},856609:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>s}),5522==r.j)var n=r(59691);if(5522==r.j)var i=r(953992);async function s(e,{filter:t}){const r=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>(0,i.U)(e)));return t.abi?(0,n.h)({abi:t.abi,logs:s,strict:r}):s}},324453:(e,t,r)=>{"use strict";async function n(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}r.d(t,{o:()=>n})},313614:(e,t,r)=>{"use strict";if(r.d(t,{y:()=>o}),5522==r.j)var n=r(199583);if(5522==r.j)var i=r(59691);if(5522==r.j)var s=r(992106);if(5522==r.j)var a=r(953992);async function o(e,{address:t,blockHash:r,fromBlock:o,toBlock:u,event:c,events:l,args:d,strict:f}={}){const h=f??!1,p=l??(c?[c]:void 0);let m,g=[];if(p){const e=p.flatMap((e=>(0,n.O)({abi:[e],eventName:e.name,args:d})));g=[e],c&&(g=g[0])}m=r?await e.request({method:"eth_getLogs",params:[{address:t,topics:g,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:g,fromBlock:"bigint"==typeof o?(0,s.eC)(o):o,toBlock:"bigint"==typeof u?(0,s.eC)(u):u}]});const y=m.map((e=>(0,a.U)(e)));return p?(0,i.h)({abi:p,logs:y,strict:h}):y}},750764:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>s}),5522==r.j)var n=r(992106);if(5522==r.j)var i=r(537239);async function s(e,{address:t,blockNumber:r,blockTag:s,storageKeys:a}){const o=s??"latest",u=void 0!==r?(0,n.eC)(r):void 0,c=await e.request({method:"eth_getProof",params:[t,a,u||o]});return(0,i.d)(c)}},977759:(e,t,r)=>{"use strict";if(r.d(t,{Y:()=>i}),5522==r.j)var n=r(992106);async function i(e,{address:t,blockNumber:r,blockTag:i="latest",slot:s}){const a=void 0!==r?(0,n.eC)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||i]})}},723147:(e,t,r)=>{"use strict";if(r.d(t,{f:()=>a}),5522==r.j)var n=r(433639);if(5522==r.j)var i=r(992106);if(5522==r.j)var s=r(306073);async function a(e,{blockHash:t,blockNumber:r,blockTag:a,hash:o,index:u}){const c=a||"latest",l=void 0!==r?(0,i.eC)(r):void 0;let d=null;if(o?d=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,i.eC)(u)]},{dedupe:!0}):(l||c)&&(d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,(0,i.eC)(u)]},{dedupe:Boolean(l)})),!d)throw new n.Bh({blockHash:t,blockNumber:r,blockTag:c,hash:o,index:u});return(e.chain?.formatters?.transaction?.format||s.Tr)(d)}},11129:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>a}),5522==r.j)var n=r(993714);if(5522==r.j)var i=r(87644);if(5522==r.j)var s=r(723147);async function a(e,{hash:t,transactionReceipt:r}){const[a,o]=await Promise.all([(0,n.s)(e,i.z,"getBlockNumber")({}),t?(0,n.s)(e,s.f,"getTransaction")({hash:t}):void 0]),u=r?.blockNumber||o?.blockNumber;return u?a-u+1n:0n}},586162:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>s}),6338!=r.j)var n=r(295946);if(6338!=r.j)var i=r(992106);async function s(e,{address:t,blockTag:r="latest",blockNumber:s}){const a=await e.request({method:"eth_getTransactionCount",params:[t,s?(0,i.eC)(s):r]},{dedupe:Boolean(s)});return(0,n.ly)(a)}},481855:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>s}),6338!=r.j)var n=r(433639);if(6338!=r.j)var i=r(730866);async function s(e,{hash:t}){const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new n.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||i.fA)(r)}},409884:(e,t,r)=>{"use strict";if(r.d(t,{A:()=>h}),5522==r.j)var n=r(516693);if(5522==r.j)var i=r(457412);if(5522==r.j)var s=r(62027);if(5522==r.j)var a=r(847070);if(5522==r.j)var o=r(207210);if(5522==r.j)var u=r(477799);if(5522==r.j)var c=r(447864);if(5522==r.j)var l=r(172365);if(5522==r.j)var d=r(993714);if(5522==r.j)var f=r(988819);async function h(e,t){const{allowFailure:r=!0,batchSize:h,blockNumber:p,blockTag:m,multicallAddress:g,stateOverride:y}=t,v=t.contracts,w=h??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024);let b=g;if(!b){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");b=(0,c.L)({blockNumber:p,chain:e.chain,contract:"multicall3"})}const E=[[]];let _=0,I=0;for(let e=0;e<v.length;e++){const{abi:t,address:n,args:i,functionName:s}=v[e];try{const e=(0,u.R)({abi:t,args:i,functionName:s});I+=(e.length-2)/2,w>0&&I>w&&E[_].length>0&&(_++,I=(e.length-2)/2,E[_]=[]),E[_]=[...E[_],{allowFailure:!0,callData:e,target:n}]}catch(e){const a=(0,l.S)(e,{abi:t,address:n,args:i,docsPath:"/docs/contract/multicall",functionName:s});if(!r)throw a;E[_]=[...E[_],{allowFailure:!0,callData:"0x",target:n}]}}const S=await Promise.allSettled(E.map((t=>(0,d.s)(e,f.L,"readContract")({abi:n.F8,address:b,args:[t],blockNumber:p,blockTag:m,functionName:"aggregate3",stateOverride:y})))),O=[];for(let e=0;e<S.length;e++){const t=S[e];if("rejected"===t.status){if(!r)throw t.reason;for(let r=0;r<E[e].length;r++)O.push({status:"failure",error:t.reason,result:void 0});continue}const n=t.value;for(let t=0;t<n.length;t++){const{returnData:s,success:u}=n[t],{callData:c}=E[e][t],{abi:d,address:f,functionName:h,args:p}=v[O.length];try{if("0x"===c)throw new i.wb;if(!u)throw new a.VQ({data:s});const e=(0,o.k)({abi:d,args:p,data:s,functionName:h});O.push(r?{result:e,status:"success"}:e)}catch(e){const t=(0,l.S)(e,{abi:d,address:f,args:p,docsPath:"/docs/contract/multicall",functionName:h});if(!r)throw t;O.push({error:t,result:void 0,status:"failure"})}}}if(O.length!==v.length)throw new s.G("multicall results mismatch");return O}},988819:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>u}),6338!=r.j)var n=r(207210);if(6338!=r.j)var i=r(477799);if(6338!=r.j)var s=r(172365);if(6338!=r.j)var a=r(993714);if(6338!=r.j)var o=r(909661);async function u(e,t){const{abi:r,address:u,args:c,functionName:l,...d}=t,f=(0,i.R)({abi:r,args:c,functionName:l});try{const{data:t}=await(0,a.s)(e,o.R,"call")({...d,data:f,to:u});return(0,n.k)({abi:r,args:c,functionName:l,data:t||"0x"})}catch(e){throw(0,s.S)(e,{abi:r,address:u,args:c,docsPath:"/docs/contract/readContract",functionName:l})}}},666432:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>c}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(207210);if(5522==r.j)var s=r(477799);if(5522==r.j)var a=r(172365);if(5522==r.j)var o=r(993714);if(5522==r.j)var u=r(909661);async function c(e,t){const{abi:r,address:c,args:l,dataSuffix:d,functionName:f,...h}=t,p=h.account?(0,n.T)(h.account):e.account,m=(0,s.R)({abi:r,args:l,functionName:f});try{const{data:n}=await(0,o.s)(e,u.R,"call")({batch:!1,data:`${m}${d?d.replace("0x",""):""}`,to:c,...h,account:p}),s=(0,i.k)({abi:r,args:l,functionName:f,data:n||"0x"});return{result:s,request:{abi:r.filter((e=>"name"in e&&e.name===t.functionName)),address:c,args:l,dataSuffix:d,functionName:f,...h,account:p}}}catch(e){throw(0,a.S)(e,{abi:r,address:c,args:l,docsPath:"/docs/contract/simulateContract",functionName:f,sender:p?.address})}}},478006:(e,t,r)=>{"use strict";async function n(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}r.d(t,{W:()=>n})},262983:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>w}),5522==r.j)var n=r(516693);if(5522==r.j)var i=r(718590);if(5522==r.j)var s=r(847070);if(5522==r.j)var a=r(30286);if(5522==r.j)var o=r(945775);if(5522==r.j)var u=r(61228);if(5522==r.j)var c=r(490205);if(5522==r.j)var l=r(615102);if(5522==r.j)var d=r(992106);if(5522==r.j)var f=r(993714);if(5522==r.j)var h=r(305852);if(5522==r.j)var p=r(590374);if(5522==r.j)var m=r(303406);if(5522==r.j)var g=r(675171);if(5522==r.j)var y=r(909661);if(5522==r.j)var v=r(913168);async function w(e,t){const{address:r,factory:w,factoryData:b,hash:E,signature:_,...I}=t,S=(0,l.v)(_)?_:"object"==typeof _&&"r"in _&&"s"in _?(0,g.V)(_):(0,d.ci)(_),O=await(async()=>{if(!w&&!b)return S;if((0,h.Y)(S))return S;return await(0,f.s)(e,v.C,"getCode")({address:r})?S:(0,m.Z)({address:w,data:b,signature:S})})();try{const{data:t}=await(0,f.s)(e,y.R,"call")({data:(0,a.w)({abi:n.$o,args:[r,E,O],bytecode:i.ST}),...I});return(0,c.g)(t??"0x0","0x1")}catch(e){try{if((0,u.E)((0,o.K)(r),await(0,p.R)({hash:E,signature:_})))return!0}catch{}if(e instanceof s.cg)return!1;throw e}}},319030:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>s}),5522==r.j)var n=r(343022);if(5522==r.j)var i=r(262983);async function s(e,{address:t,message:r,factory:s,factoryData:a,signature:o,...u}){const c=(0,n.r)(r);return(0,i.Z)(e,{address:t,factory:s,factoryData:a,hash:c,signature:o,...u})}},908983:(e,t,r)=>{"use strict";if(r.d(t,{B:()=>s}),5522==r.j)var n=r(585946);if(5522==r.j)var i=r(262983);async function s(e,t){const{address:r,factory:s,factoryData:a,signature:o,message:u,primaryType:c,types:l,domain:d,...f}=t,h=(0,n.Jv)({message:u,primaryType:c,types:l,domain:d});return(0,i.Z)(e,{address:r,factory:s,factoryData:a,hash:h,signature:o,...f})}},51973:(e,t,r)=>{"use strict";if(r.d(t,{e:()=>h}),5522==r.j)var n=r(579814);if(5522==r.j)var i=r(433639);if(5522==r.j)var s=r(993714);if(5522==r.j)var a=r(522514);if(5522==r.j)var o=r(807760);if(5522==r.j)var u=r(796070);if(5522==r.j)var c=r(475016);if(5522==r.j)var l=r(723147);if(5522==r.j)var d=r(481855);if(5522==r.j)var f=r(765185);async function h(e,{confirmations:t=1,hash:r,onReplaced:h,pollingInterval:p=e.pollingInterval,retryCount:m=6,retryDelay:g=(({count:e})=>200*~~(1<<e)),timeout:y}){const v=(0,u.P)(["waitForTransactionReceipt",e.uid,r]);let w,b,E,_=0,I=!1;return new Promise(((u,S)=>{y&&setTimeout((()=>S(new i.mc({hash:r}))),y);const O=(0,a.N7)(v,{onReplaced:h,resolve:u,reject:S},(a=>{const u=(0,s.s)(e,f.q,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:p,async onBlockNumber(f){const h=e=>{u(),e(),O()};let p=f;if(!I){_>m&&h((()=>a.reject(new i.mc({hash:r}))));try{if(E){if(t>1&&(!E.blockNumber||p-E.blockNumber+1n<t))return;return void h((()=>a.resolve(E)))}if(w||(I=!0,await(0,o.J)((async()=>{w=await(0,s.s)(e,l.f,"getTransaction")({hash:r}),w.blockNumber&&(p=w.blockNumber)}),{delay:g,retryCount:m}),I=!1),E=await(0,s.s)(e,d.a,"getTransactionReceipt")({hash:r}),t>1&&(!E.blockNumber||p-E.blockNumber+1n<t))return;h((()=>a.resolve(E)))}catch(r){if(r instanceof i.Bh||r instanceof i.Yb){if(!w)return void(I=!1);try{b=w,I=!0;const r=await(0,o.J)((()=>(0,s.s)(e,c.Q,"getBlock")({blockNumber:p,includeTransactions:!0})),{delay:g,retryCount:m,shouldRetry:({error:e})=>e instanceof n.f});I=!1;const i=r.transactions.find((({from:e,nonce:t})=>e===b.from&&t===b.nonce));if(!i)return;if(E=await(0,s.s)(e,d.a,"getTransactionReceipt")({hash:i.hash}),t>1&&(!E.blockNumber||p-E.blockNumber+1n<t))return;let u="replaced";i.to===b.to&&i.value===b.value?u="repriced":i.from===i.to&&0n===i.value&&(u="cancelled"),h((()=>{a.onReplaced?.({reason:u,replacedTransaction:b,transaction:i,transactionReceipt:E}),a.resolve(E)}))}catch(e){h((()=>a.reject(e)))}}else h((()=>a.reject(r)))}finally{_++}}}})}))}))}},765185:(e,t,r)=>{"use strict";if(r.d(t,{q:()=>c}),5522==r.j)var n=r(295946);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(522514);if(5522==r.j)var a=r(700023);if(5522==r.j)var o=r(796070);if(5522==r.j)var u=r(87644);function c(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:c,onError:l,poll:d,pollingInterval:f=e.pollingInterval}){let h;return(void 0!==d?d:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const n=(0,o.P)(["watchBlockNumber",e.uid,t,r,f]);return(0,s.N7)(n,{onBlockNumber:c,onError:l},(n=>(0,a.$)((async()=>{try{const t=await(0,i.s)(e,u.z,"getBlockNumber")({cacheTime:0});if(h){if(t===h)return;if(t-h>1&&r)for(let e=h+1n;e<t;e++)n.onBlockNumber(e,h),h=e}(!h||t>h)&&(n.onBlockNumber(t,h),h=t)}catch(e){n.onError?.(e)}}),{emitOnBegin:t,interval:f})))})():(()=>{const i=(0,o.P)(["watchBlockNumber",e.uid,t,r]);return(0,s.N7)(i,{onBlockNumber:c,onError:l},(t=>{let r=!0,i=()=>r=!1;return(async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:a}=await s.subscribe({params:["newHeads"],onData(e){if(!r)return;const i=(0,n.y_)(e.result?.number);t.onBlockNumber(i,h),h=i},onError(e){t.onError?.(e)}});i=a,r||i()}catch(e){l?.(e)}})(),()=>i()}))})()}},507598:(e,t,r)=>{"use strict";if(r.d(t,{p:()=>c}),5522==r.j)var n=r(43310);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(522514);if(5522==r.j)var a=r(700023);if(5522==r.j)var o=r(796070);if(5522==r.j)var u=r(475016);function c(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:c=!1,onBlock:l,onError:d,includeTransactions:f,poll:h,pollingInterval:p=e.pollingInterval}){const m=void 0!==h?h:"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),g=f??!1;let y;return m?(()=>{const n=(0,o.P)(["watchBlocks",e.uid,t,r,c,g,p]);return(0,s.N7)(n,{onBlock:l,onError:d},(n=>(0,a.$)((async()=>{try{const s=await(0,i.s)(e,u.Q,"getBlock")({blockTag:t,includeTransactions:g});if(s.number&&y?.number){if(s.number===y.number)return;if(s.number-y.number>1&&r)for(let t=y?.number+1n;t<s.number;t++){const r=await(0,i.s)(e,u.Q,"getBlock")({blockNumber:t,includeTransactions:g});n.onBlock(r,y),y=r}}(!y?.number||"pending"===t&&!s?.number||s.number&&s.number>y.number)&&(n.onBlock(s,y),y=s)}catch(e){n.onError?.(e)}}),{emitOnBegin:c,interval:p})))})():(()=>{let t=!0,r=()=>t=!1;return(async()=>{try{const i=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await i.subscribe({params:["newHeads"],onData(r){if(!t)return;const i=(e.chain?.formatters?.block?.format||n.Z)(r.result);l(i,y),y=i},onError(e){d?.(e)}});r=s,t||r()}catch(e){d?.(e)}})(),()=>r()})()}},852473:(e,t,r)=>{"use strict";if(r.d(t,{Y:()=>y}),5522==r.j)var n=r(457412);if(5522==r.j)var i=r(339028);if(5522==r.j)var s=r(715950);if(5522==r.j)var a=r(199583);if(5522==r.j)var o=r(953992);if(5522==r.j)var u=r(993714);if(5522==r.j)var c=r(522514);if(5522==r.j)var l=r(700023);if(5522==r.j)var d=r(796070);if(5522==r.j)var f=r(351448);if(5522==r.j)var h=r(87644);if(5522==r.j)var p=r(610579);if(5522==r.j)var m=r(380478);if(5522==r.j)var g=r(478006);function y(e,t){const{abi:r,address:y,args:v,batch:w=!0,eventName:b,fromBlock:E,onError:_,onLogs:I,poll:S,pollingInterval:O=e.pollingInterval,strict:T}=t;return(void 0!==S?S:"bigint"==typeof E||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type))?(()=>{const t=T??!1,n=(0,d.P)(["watchContractEvent",y,v,w,e.uid,b,O,t,E]);return(0,c.N7)(n,{onLogs:I,onError:_},(n=>{let s,a;void 0!==E&&(s=E-1n);let o=!1;const c=(0,l.$)((async()=>{if(o)try{let i;if(a)i=await(0,u.s)(e,m.K,"getFilterChanges")({filter:a});else{const n=await(0,u.s)(e,h.z,"getBlockNumber")({});i=s&&s<n?await(0,u.s)(e,p.m,"getContractEvents")({abi:r,address:y,args:v,eventName:b,fromBlock:s+1n,toBlock:n,strict:t}):[],s=n}if(0===i.length)return;if(w)n.onLogs(i);else for(const e of i)n.onLogs([e])}catch(e){a&&e instanceof i.yR&&(o=!1),n.onError?.(e)}else{try{a=await(0,u.s)(e,f.A,"createContractEventFilter")({abi:r,address:y,args:v,eventName:b,strict:t,fromBlock:E})}catch{}o=!0}}),{emitOnBegin:!0,interval:O});return async()=>{a&&await(0,u.s)(e,g.W,"uninstallFilter")({filter:a}),c()}}))})():(()=>{const t=T??!1,i=(0,d.P)(["watchContractEvent",y,v,w,e.uid,b,O,t]);let u=!0,l=()=>u=!1;return(0,c.N7)(i,{onLogs:I,onError:_},(t=>((async()=>{try{const i=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),c=b?(0,a.O)({abi:r,eventName:b,args:v}):[],{unsubscribe:d}=await i.subscribe({params:["logs",{address:y,topics:c}],onData(e){if(!u)return;const i=e.result;try{const{eventName:e,args:n}=(0,s.F)({abi:r,data:i.data,topics:i.topics,strict:T}),a=(0,o.U)(i,{args:n,eventName:e});t.onLogs([a])}catch(e){let r,s;if(e instanceof n.SM||e instanceof n.Gy){if(T)return;r=e.abiItem.name,s=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const a=(0,o.U)(i,{args:s?[]:{},eventName:r});t.onLogs([a])}},onError(e){t.onError?.(e)}});l=d,u||l()}catch(e){_?.(e)}})(),()=>l())))})()}},799588:(e,t,r)=>{"use strict";if(r.d(t,{F:()=>y}),5522==r.j)var n=r(199583);if(5522==r.j)var i=r(522514);if(5522==r.j)var s=r(700023);if(5522==r.j)var a=r(796070);if(5522==r.j)var o=r(457412);if(5522==r.j)var u=r(339028);if(5522==r.j)var c=r(715950);if(5522==r.j)var l=r(953992);if(5522==r.j)var d=r(993714);if(5522==r.j)var f=r(910852);if(5522==r.j)var h=r(87644);if(5522==r.j)var p=r(380478);if(5522==r.j)var m=r(313614);if(5522==r.j)var g=r(478006);function y(e,{address:t,args:r,batch:y=!0,event:v,events:w,fromBlock:b,onError:E,onLogs:_,poll:I,pollingInterval:S=e.pollingInterval,strict:O}){const T=void 0!==I?I:"bigint"==typeof b||"webSocket"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type),N=O??!1;return T?(()=>{const n=(0,a.P)(["watchEvent",t,r,y,e.uid,v,S,b]);return(0,i.N7)(n,{onLogs:_,onError:E},(n=>{let i,a;void 0!==b&&(i=b-1n);let o=!1;const c=(0,s.$)((async()=>{if(o)try{let s;if(a)s=await(0,d.s)(e,p.K,"getFilterChanges")({filter:a});else{const n=await(0,d.s)(e,h.z,"getBlockNumber")({});s=i&&i!==n?await(0,d.s)(e,m.y,"getLogs")({address:t,args:r,event:v,events:w,fromBlock:i+1n,toBlock:n}):[],i=n}if(0===s.length)return;if(y)n.onLogs(s);else for(const e of s)n.onLogs([e])}catch(e){a&&e instanceof u.yR&&(o=!1),n.onError?.(e)}else{try{a=await(0,d.s)(e,f.j,"createEventFilter")({address:t,args:r,event:v,events:w,strict:N,fromBlock:b})}catch{}o=!0}}),{emitOnBegin:!0,interval:S});return async()=>{a&&await(0,d.s)(e,g.W,"uninstallFilter")({filter:a}),c()}}))})():(()=>{let i=!0,s=()=>i=!1;return(async()=>{try{const a=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type));return t?t.value:e.transport}return e.transport})(),u=w??(v?[v]:void 0);let d=[];if(u){const e=u.flatMap((e=>(0,n.O)({abi:[e],eventName:e.name,args:r})));d=[e],v&&(d=d[0])}const{unsubscribe:f}=await a.subscribe({params:["logs",{address:t,topics:d}],onData(e){if(!i)return;const t=e.result;try{const{eventName:e,args:r}=(0,c.F)({abi:u??[],data:t.data,topics:t.topics,strict:N}),n=(0,l.U)(t,{args:r,eventName:e});_([n])}catch(e){let r,n;if(e instanceof o.SM||e instanceof o.Gy){if(O)return;r=e.abiItem.name,n=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const i=(0,l.U)(t,{args:n?[]:{},eventName:r});_([i])}},onError(e){E?.(e)}});s=f,i||s()}catch(e){E?.(e)}})(),()=>s()})()}},337075:(e,t,r)=>{"use strict";if(r.d(t,{O:()=>l}),5522==r.j)var n=r(993714);if(5522==r.j)var i=r(522514);if(5522==r.j)var s=r(700023);if(5522==r.j)var a=r(796070);if(5522==r.j)var o=r(41727);if(5522==r.j)var u=r(380478);if(5522==r.j)var c=r(478006);function l(e,{batch:t=!0,onError:r,onTransactions:l,poll:d,pollingInterval:f=e.pollingInterval}){return(void 0!==d?d:"webSocket"!==e.transport.type)?(()=>{const d=(0,a.P)(["watchPendingTransactions",e.uid,t,f]);return(0,i.N7)(d,{onTransactions:l,onError:r},(r=>{let i;const a=(0,s.$)((async()=>{try{if(!i)try{return void(i=await(0,n.s)(e,o.W,"createPendingTransactionFilter")({}))}catch(e){throw a(),e}const s=await(0,n.s)(e,u.K,"getFilterChanges")({filter:i});if(0===s.length)return;if(t)r.onTransactions(s);else for(const e of s)r.onTransactions([e])}catch(e){r.onError?.(e)}}),{emitOnBegin:!0,interval:f});return async()=>{i&&await(0,n.s)(e,c.W,"uninstallFilter")({filter:i}),a()}}))})():(()=>{let t=!0,n=()=>t=!1;return(async()=>{try{const{unsubscribe:i}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const r=e.result;l([r])},onError(e){r?.(e)}});n=i,t||n()}catch(e){r?.(e)}})(),()=>n()})()}},995768:(e,t,r)=>{"use strict";if(r.d(t,{t:()=>o}),5522==r.j)var n=r(343022);if(5522==r.j)var i=r(357855);if(5522==r.j)var s=r(515210);if(5522==r.j)var a=r(262983);async function o(e,t){const{address:r,domain:o,message:u,nonce:c,scheme:l,signature:d,time:f=new Date,...h}=t,p=(0,i.k)(u);if(!p.address)return!1;if(!(0,s.r)({address:r,domain:o,message:p,nonce:c,scheme:l,time:f}))return!1;const m=(0,n.r)(u);return(0,a.Z)(e,{address:p.address,hash:m,signature:d,...h})}},605351:(e,t,r)=>{"use strict";if(r.d(t,{H:()=>i}),5522==r.j)var n=r(992106);async function i(e,{chain:t}){const{id:r,name:i,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,n.eC)(r),chainName:i,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map((({url:e})=>e)):void 0}]},{dedupe:!0,retryCount:0})}},971681:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>s}),5522==r.j)var n=r(30286);if(5522==r.j)var i=r(938301);function s(e,t){const{abi:r,args:s,bytecode:a,...o}=t,u=(0,n.w)({abi:r,args:s,bytecode:a});return(0,i.T)(e,{...o,data:u})}},112637:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>i}),5522==r.j)var n=r(945775);async function i(e){if("local"===e.account?.type)return[e.account.address];return(await e.request({method:"eth_accounts"},{dedupe:!0})).map((e=>(0,n.x)(e)))}},790996:(e,t,r)=>{"use strict";async function n(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}r.d(t,{Z:()=>n})},437397:(e,t,r)=>{"use strict";if(r.d(t,{Q:()=>y,Z:()=>v}),6338!=r.j)var n=r(914503);if(6338!=r.j)var i=r(743861);if(6338!=r.j)var s=r(425884);if(6338!=r.j)var a=r(475016);if(6338!=r.j)var o=r(586162);if(6338!=r.j)var u=r(115371);if(6338!=r.j)var c=r(960169);if(6338!=r.j)var l=r(4499);if(6338!=r.j)var d=r(6527);if(6338!=r.j)var f=r(177178);if(6338!=r.j)var h=r(993714);if(6338!=r.j)var p=r(547531);if(6338!=r.j)var m=r(682994);if(6338!=r.j)var g=r(179524);const y=6338!=r.j?["blobVersionedHashes","chainId","fees","gas","nonce","type"]:null;async function v(e,t){const{account:r=e.account,blobs:v,chain:w,gas:b,kzg:E,nonce:_,parameters:I=y,type:S}=t,O=r?(0,n.T)(r):void 0,T={...t,...O?{from:O?.address}:{}};let N,A;async function P(){return N||(N=await(0,h.s)(e,a.Q,"getBlock")({blockTag:"latest"}),N)}async function C(){if(A)return A;if(w)return w.id;if(void 0!==t.chainId)return t.chainId;const r=await(0,h.s)(e,g.L,"getChainId")({});return A=r,A}if((I.includes("blobVersionedHashes")||I.includes("sidecars"))&&v&&E){const e=(0,c.P)({blobs:v,kzg:E});if(I.includes("blobVersionedHashes")){const t=(0,d.C)({commitments:e,to:"hex"});T.blobVersionedHashes=t}if(I.includes("sidecars")){const t=(0,l.y)({blobs:v,commitments:e,kzg:E}),r=(0,f.j)({blobs:v,commitments:e,proofs:t,to:"hex"});T.sidecars=r}}if(I.includes("chainId")&&(T.chainId=await C()),I.includes("nonce")&&void 0===_&&O)if(O.nonceManager){const t=await C();T.nonce=await O.nonceManager.consume({address:O.address,chainId:t,client:e})}else T.nonce=await(0,h.s)(e,o.K,"getTransactionCount")({address:O.address,blockTag:"pending"});if((I.includes("fees")||I.includes("type"))&&void 0===S)try{T.type=(0,m.l)(T)}catch{const e=await P();T.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(I.includes("fees"))if("legacy"!==T.type&&"eip2930"!==T.type){if(void 0===T.maxFeePerGas||void 0===T.maxPriorityFeePerGas){const r=await P(),{maxFeePerGas:n,maxPriorityFeePerGas:s}=await(0,i.C)(e,{block:r,chain:w,request:T});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new u.ld({maxPriorityFeePerGas:s});T.maxPriorityFeePerGas=s,T.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new u.e5;const r=await P(),{gasPrice:n}=await(0,i.C)(e,{block:r,chain:w,request:T,type:"legacy"});T.gasPrice=n}return I.includes("gas")&&void 0===b&&(T.gas=await(0,h.s)(e,s.Q,"estimateGas")({...T,account:O?{address:O.address,type:"json-rpc"}:void 0})),(0,p.F)(T),delete T.parameters,T}},273057:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>i}),5522==r.j)var n=r(945775);async function i(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map((e=>(0,n.K)(e)))}},482449:(e,t,r)=>{"use strict";async function n(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}r.d(t,{b:()=>n})},899238:(e,t,r)=>{"use strict";async function n(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}r.d(t,{p:()=>n})},938301:(e,t,r)=>{"use strict";if(r.d(t,{T:()=>p}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(708998);if(5522==r.j)var s=r(533840);if(5522==r.j)var a=r(457658);if(5522==r.j)var o=r(61163);if(5522==r.j)var u=r(174688);if(5522==r.j)var c=r(993714);if(5522==r.j)var l=r(547531);if(5522==r.j)var d=r(179524);if(5522==r.j)var f=r(437397);if(5522==r.j)var h=r(899238);async function p(e,t){const{account:r=e.account,chain:p=e.chain,accessList:m,blobs:g,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:b,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:I,to:S,value:O,...T}=t;if(!r)throw new i.o({docsPath:"/docs/actions/wallet/sendTransaction"});const N=(0,n.T)(r);try{let r;if((0,l.F)(t),null!==p&&(r=await(0,c.s)(e,d.L,"getChainId")({}),(0,s.q)({currentChainId:r,chain:p})),"local"===N.type){const t=await(0,c.s)(e,f.Z,"prepareTransactionRequest")({account:N,accessList:m,blobs:g,chain:p,chainId:r,data:y,gas:v,gasPrice:w,maxFeePerBlobGas:b,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:I,parameters:[...f.Q,"sidecars"],to:S,value:O,...T}),n=p?.serializers?.transaction,i=await N.signTransaction(t,{serializer:n});return await(0,c.s)(e,h.p,"sendRawTransaction")({serializedTransaction:i})}const n=e.chain?.formatters?.transactionRequest?.format,i=(n||u.tG)({...(0,o.K)(T,{format:n}),accessList:m,blobs:g,chainId:r,data:y,from:N.address,gas:v,gasPrice:w,maxFeePerBlobGas:b,maxFeePerGas:E,maxPriorityFeePerGas:_,nonce:I,to:S,value:O});return await e.request({method:"eth_sendTransaction",params:[i]},{retryCount:0})}catch(e){throw(0,a.$)(e,{...t,account:N,chain:t.chain||void 0})}}},922980:(e,t,r)=>{"use strict";if(r.d(t,{l:()=>a}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(708998);if(5522==r.j)var s=r(992106);async function a(e,{account:t=e.account,message:r}){if(!t)throw new i.o({docsPath:"/docs/actions/wallet/signMessage"});const a=(0,n.T)(t);if("local"===a.type)return a.signMessage({message:r});const o="string"==typeof r?(0,s.$G)(r):r.raw instanceof Uint8Array?(0,s.NC)(r.raw):r.raw;return e.request({method:"personal_sign",params:[o,a.address]},{retryCount:0})}},869879:(e,t,r)=>{"use strict";if(r.d(t,{O:()=>d}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(708998);if(5522==r.j)var s=r(533840);if(5522==r.j)var a=r(992106);if(5522==r.j)var o=r(174688);if(5522==r.j)var u=r(993714);if(5522==r.j)var c=r(547531);if(5522==r.j)var l=r(179524);async function d(e,t){const{account:r=e.account,chain:d=e.chain,...f}=t;if(!r)throw new i.o({docsPath:"/docs/actions/wallet/signTransaction"});const h=(0,n.T)(r);(0,c.F)({account:h,...t});const p=await(0,u.s)(e,l.L,"getChainId")({});null!==d&&(0,s.q)({currentChainId:p,chain:d});const m=d?.formatters||e.chain?.formatters,g=m?.transactionRequest?.format||o.tG;return"local"===h.type?h.signTransaction({...f,chainId:p},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...g(f),chainId:(0,a.eC)(p),from:h.address}]},{retryCount:0})}},20679:(e,t,r)=>{"use strict";if(r.d(t,{x:()=>a}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(708998);if(5522==r.j)var s=r(810211);async function a(e,t){const{account:r=e.account,domain:a,message:o,primaryType:u}=t;if(!r)throw new i.o({docsPath:"/docs/actions/wallet/signTypedData"});const c=(0,n.T)(r),l={EIP712Domain:(0,s.cj)({domain:a}),...t.types};if((0,s.iC)({domain:a,message:o,primaryType:u,types:l}),"local"===c.type)return c.signTypedData({domain:a,message:o,primaryType:u,types:l});const d=(0,s.H6)({domain:a,message:o,primaryType:u,types:l});return e.request({method:"eth_signTypedData_v4",params:[c.address,d]},{retryCount:0})}},547036:(e,t,r)=>{"use strict";if(r.d(t,{c:()=>i}),5522==r.j)var n=r(992106);async function i(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,n.eC)(t)}]},{retryCount:0})}},921557:(e,t,r)=>{"use strict";async function n(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}r.d(t,{d:()=>n})},361877:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>a}),5522==r.j)var n=r(477799);if(5522==r.j)var i=r(993714);if(5522==r.j)var s=r(938301);async function a(e,t){const{abi:r,address:a,args:o,dataSuffix:u,functionName:c,...l}=t,d=(0,n.R)({abi:r,args:o,functionName:c});return(0,i.s)(e,s.T,"sendTransaction")({data:`${d}${u?u.replace("0x",""):""}`,to:a,...l})}},266403:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n=(0,r(986164).a)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}})},394898:(e,t,r)=>{"use strict";if(r.d(t,{e:()=>s}),6338!=r.j)var n=r(914503);if(6338!=r.j)var i=r(975632);function s(e){const{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:s,key:a="base",name:o="Base Client",pollingInterval:u=4e3,type:c="base"}=e,l=e.chain,d=e.account?(0,n.T)(e.account):void 0,{config:f,request:h,value:p}=e.transport({chain:l,pollingInterval:u}),m={account:d,batch:t,cacheTime:r,ccipRead:s,chain:l,key:a,name:o,pollingInterval:u,request:h,transport:{...f,...p},type:c,uid:(0,i.h)()};return Object.assign(m,{extend:function e(t){return r=>{const n=r(t);for(const e in m)delete n[e];const i={...t,...n};return Object.assign(i,{extend:e(i)})}}(m)})}},714854:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>s}),5522==r.j)var n=r(394898);if(5522==r.j)var i=r(578715);function s(e){const{key:t="wallet",name:r="Wallet Client",transport:s}=e;return(0,n.e)({...e,key:t,name:r,transport:s,type:"walletClient"}).extend(i.v)}},846811:(e,t,r)=>{"use strict";if(r.d(t,{I:()=>X}),5522==r.j)var n=r(818011);if(5522==r.j)var i=r(692826);if(5522==r.j)var s=r(295602);if(5522==r.j)var a=r(215215);if(5522==r.j)var o=r(16171);if(5522==r.j)var u=r(909661);if(5522==r.j)var c=r(12500);if(5522==r.j)var l=r(351448);if(5522==r.j)var d=r(910852);if(5522==r.j)var f=r(41727);if(5522==r.j)var h=r(48333);if(5522==r.j)var p=r(743861);if(5522==r.j)var m=r(425884);if(5522==r.j)var g=r(779379);if(5522==r.j)var y=r(788930);if(5522==r.j)var v=r(930097);if(5522==r.j)var w=r(475016);if(5522==r.j)var b=r(87644);if(5522==r.j)var E=r(392868);if(5522==r.j)var _=r(179524);if(5522==r.j)var I=r(913168);if(5522==r.j)var S=r(610579);if(5522==r.j)var O=r(875004);if(5522==r.j)var T=r(412127);if(5522==r.j)var N=r(380478);if(5522==r.j)var A=r(856609);if(5522==r.j)var P=r(324453);if(5522==r.j)var C=r(313614);if(5522==r.j)var x=r(750764);if(5522==r.j)var R=r(977759);if(5522==r.j)var M=r(723147);if(5522==r.j)var j=r(11129);if(5522==r.j)var B=r(586162);if(5522==r.j)var k=r(481855);if(5522==r.j)var D=r(409884);if(5522==r.j)var U=r(988819);if(5522==r.j)var L=r(666432);if(5522==r.j)var F=r(478006);if(5522==r.j)var z=r(319030);if(5522==r.j)var G=r(908983);if(5522==r.j)var $=r(51973);if(5522==r.j)var V=r(765185);if(5522==r.j)var q=r(507598);if(5522==r.j)var H=r(852473);if(5522==r.j)var K=r(799588);if(5522==r.j)var W=r(337075);if(5522==r.j)var Z=r(995768);if(5522==r.j)var Y=r(437397);if(5522==r.j)var J=r(899238);function X(e){return{call:t=>(0,u.R)(e,t),createBlockFilter:()=>(0,c.I)(e),createContractEventFilter:t=>(0,l.A)(e,t),createEventFilter:t=>(0,d.j)(e,t),createPendingTransactionFilter:()=>(0,f.W)(e),estimateContractGas:t=>(0,h.D)(e,t),estimateGas:t=>(0,m.Q)(e,t),getBalance:t=>(0,y.s)(e,t),getBlobBaseFee:()=>(0,v.X)(e),getBlock:t=>(0,w.Q)(e,t),getBlockNumber:t=>(0,b.z)(e,t),getBlockTransactionCount:t=>(0,E.c)(e,t),getBytecode:t=>(0,I.C)(e,t),getChainId:()=>(0,_.L)(e),getCode:t=>(0,I.C)(e,t),getContractEvents:t=>(0,S.m)(e,t),getEip712Domain:t=>(0,O.P)(e,t),getEnsAddress:t=>(0,n.O)(e,t),getEnsAvatar:t=>(0,i.r)(e,t),getEnsName:t=>(0,s.w)(e,t),getEnsResolver:t=>(0,a.S)(e,t),getEnsText:t=>(0,o.g)(e,t),getFeeHistory:t=>(0,T.Z)(e,t),estimateFeesPerGas:t=>(0,p.X)(e,t),getFilterChanges:t=>(0,N.K)(e,t),getFilterLogs:t=>(0,A.J)(e,t),getGasPrice:()=>(0,P.o)(e),getLogs:t=>(0,C.y)(e,t),getProof:t=>(0,x.S)(e,t),estimateMaxPriorityFeePerGas:t=>(0,g._)(e,t),getStorageAt:t=>(0,R.Y)(e,t),getTransaction:t=>(0,M.f)(e,t),getTransactionConfirmations:t=>(0,j.a)(e,t),getTransactionCount:t=>(0,B.K)(e,t),getTransactionReceipt:t=>(0,k.a)(e,t),multicall:t=>(0,D.A)(e,t),prepareTransactionRequest:t=>(0,Y.Z)(e,t),readContract:t=>(0,U.L)(e,t),sendRawTransaction:t=>(0,J.p)(e,t),simulateContract:t=>(0,L.a)(e,t),verifyMessage:t=>(0,z.n)(e,t),verifySiweMessage:t=>(0,Z.t)(e,t),verifyTypedData:t=>(0,G.B)(e,t),uninstallFilter:t=>(0,F.W)(e,t),waitForTransactionReceipt:t=>(0,$.e)(e,t),watchBlocks:t=>(0,q.p)(e,t),watchBlockNumber:t=>(0,V.q)(e,t),watchContractEvent:t=>(0,H.Y)(e,t),watchEvent:t=>(0,K.F)(e,t),watchPendingTransactions:t=>(0,W.O)(e,t)}}},578715:(e,t,r)=>{"use strict";if(r.d(t,{v:()=>w}),5522==r.j)var n=r(179524);if(5522==r.j)var i=r(605351);if(5522==r.j)var s=r(971681);if(5522==r.j)var a=r(112637);if(5522==r.j)var o=r(790996);if(5522==r.j)var u=r(437397);if(5522==r.j)var c=r(273057);if(5522==r.j)var l=r(482449);if(5522==r.j)var d=r(899238);if(5522==r.j)var f=r(938301);if(5522==r.j)var h=r(922980);if(5522==r.j)var p=r(869879);if(5522==r.j)var m=r(20679);if(5522==r.j)var g=r(547036);if(5522==r.j)var y=r(921557);if(5522==r.j)var v=r(361877);function w(e){return{addChain:t=>(0,i.H)(e,t),deployContract:t=>(0,s.P)(e,t),getAddresses:()=>(0,a.Z)(e),getChainId:()=>(0,n.L)(e),getPermissions:()=>(0,o.Z)(e),prepareTransactionRequest:t=>(0,u.Z)(e,t),requestAddresses:()=>(0,c.a)(e),requestPermissions:t=>(0,l.b)(e,t),sendRawTransaction:t=>(0,d.p)(e,t),sendTransaction:t=>(0,f.T)(e,t),signMessage:t=>(0,h.l)(e,t),signTransaction:t=>(0,p.O)(e,t),signTypedData:t=>(0,m.x)(e,t),switchChain:t=>(0,g.c)(e,t),watchAsset:t=>(0,y.d)(e,t),writeContract:t=>(0,v.n)(e,t)}}},731031:(e,t,r)=>{"use strict";if(r.d(t,{q:()=>s}),6338!=r.j)var n=r(337029);if(6338!=r.j)var i=r(975632);function s({key:e,name:t,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:u},c){const l=(0,i.h)();return{config:{key:e,name:t,request:r,retryCount:s,retryDelay:a,timeout:o,type:u},request:(0,n.n)(r,{retryCount:s,retryDelay:a,uid:l}),value:c}}},403980:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>i}),5522==r.j)var n=r(731031);function i(e,t={}){const{key:r="custom",name:i="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>(0,n.q)({key:r,name:i,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}},871506:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>u}),6338!=r.j)var n=r(878863);if(6338!=r.j)var i=r(943018);if(6338!=r.j)var s=r(32357);if(6338!=r.j)var a=r(112e3);if(6338!=r.j)var o=r(731031);function u(e,t={}){const{batch:r,fetchOptions:u,key:c="http",name:l="HTTP JSON-RPC",onFetchRequest:d,onFetchResponse:f,retryDelay:h}=t;return({chain:p,retryCount:m,timeout:g})=>{const{batchSize:y=1e3,wait:v=0}="object"==typeof r?r:{},w=t.retryCount??m,b=g??t.timeout??1e4,E=e||p?.rpcUrls.default.http[0];if(!E)throw new i.I;const _=(0,a.x)(E,{fetchOptions:u,onRequest:d,onResponse:f,timeout:b});return(0,o.q)({key:c,name:l,async request({method:e,params:t}){const i={method:e,params:t},{schedule:a}=(0,s.S)({id:E,wait:v,shouldSplitBatch:e=>e.length>y,fn:e=>_.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:o,result:u}]=await(async e=>r?a(e):[await _.request({body:e})])(i);if(o)throw new n.bs({body:i,error:o,url:E});return u},retryCount:w,retryDelay:h,timeout:b,type:"http"},{fetchOptions:u,url:E})}}},516693:(e,t,r)=>{"use strict";r.d(t,{$o:()=>c,F8:()=>n,Wo:()=>l,X$:()=>u,du:()=>a,k3:()=>s,nZ:()=>o});const n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],s=[...i,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...i,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],o=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],u=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],c=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],l=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]},101958:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n="0x0000000000000000000000000000000000000000"},984359:(e,t,r)=>{"use strict";r.d(t,{Iz:()=>n,_2:()=>i,gt:()=>s,xo:()=>a});const n=32,i=4096,s=n*i,a=6*s-1-1*i*6},835816:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});const n="0x6492649264926492649264926492649264926492649264926492649264926492"},4124:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});const n="0x82ad56cb"},718590:(e,t,r)=>{"use strict";r.d(t,{NO:()=>n,ST:()=>s,pG:()=>i});const n="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",i="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",s="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572"},906458:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});const n=1},421746:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,Up:()=>i,hZ:()=>s});const n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},s={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},189327:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});const n="Ethereum Signed Message:\n"},384192:(e,t,r)=>{"use strict";r.d(t,{Zn:()=>i,ez:()=>n});const n={gwei:9,wei:18},i={ether:-9,wei:9}},457412:(e,t,r)=>{"use strict";if(r.d(t,{CI:()=>S,FM:()=>p,Gy:()=>_,KY:()=>b,M4:()=>d,MX:()=>v,S4:()=>w,SM:()=>E,cO:()=>o,dh:()=>I,fM:()=>a,fs:()=>f,gr:()=>l,hn:()=>O,lC:()=>m,mv:()=>g,wM:()=>T,wb:()=>c,xB:()=>u,xL:()=>y,yP:()=>h}),6338!=r.j)var n=r(480522);if(6338!=r.j)var i=r(239135);if(6338!=r.j)var s=r(62027);class a extends(6338!=r.j?s.G:null){constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class o extends(6338!=r.j?s.G:null){constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class u extends(6338!=r.j?s.G:null){constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,n.h)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class c extends(6338!=r.j?s.G:null){constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class l extends(6338!=r.j?s.G:null){constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class d extends(6338!=r.j?s.G:null){constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.d)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class f extends(6338!=r.j?s.G:null){constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class h extends(6338!=r.j?s.G:null){constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class p extends(5522==r.j?s.G:null){constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends(5522==r.j?s.G:null){constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends(5522==r.j?s.G:null){constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends(6338!=r.j?s.G:null){constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class v extends(6338!=r.j?s.G:null){constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class w extends(6338!=r.j?s.G:null){constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class b extends(5522==r.j?s.G:null){constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class E extends(5522==r.j?s.G:null){constructor({abiItem:e,data:t,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,n.h)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class _ extends(5522==r.j?s.G:null){constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.t)(e,{includeName:!0})}".`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class I extends(6338!=r.j?s.G:null){constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class S extends(6338!=r.j?s.G:null){constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class O extends(6338!=r.j?s.G:null){constructor(e){super([`Value "${e}" is not a valid array.`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class T extends(6338!=r.j?s.G:null){constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}},708998:(e,t,r)=>{"use strict";if(r.d(t,{o:()=>i}),5522==r.j)var n=r(62027);class i extends(5522==r.j?n.G:null){constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}},526087:(e,t,r)=>{"use strict";if(r.d(t,{b:()=>i}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},62027:(e,t,r)=>{"use strict";if(r.d(t,{G:()=>i}),6338!=r.j)var n=r(229008);class i extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,n.bo)()});const r=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof i&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${t.docsBaseUrl??"https://viem.sh"}${s}${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return s(this,e)}}function s(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?s(e.cause,t):t?null:e}},66226:(e,t,r)=>{"use strict";if(r.d(t,{RX:()=>a,cJ:()=>u,m7:()=>s,xd:()=>o}),5522==r.j)var n=r(906458);if(6338!=r.j)var i=r(62027);class s extends(6338!=r.j?i.G:null){constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class a extends(6338!=r.j?i.G:null){constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class o extends(5522==r.j?i.G:null){constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class u extends(5522==r.j?i.G:null){constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${n.l}`,`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}},579814:(e,t,r)=>{"use strict";if(r.d(t,{f:()=>i}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}},198506:(e,t,r)=>{"use strict";if(r.d(t,{cI:()=>a,qj:()=>o,wE:()=>u}),6338!=r.j)var n=r(796070);if(6338!=r.j)var i=r(62027);if(6338!=r.j)var s=r(229008);class a extends(6338!=r.j?i.G:null){constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map((e=>`    ${(0,s.Gr)(e)}`))],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class o extends(6338!=r.j?i.G:null){constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,s.Gr)(t)}`,`Response: ${(0,n.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class u extends(6338!=r.j?i.G:null){constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}},480377:(e,t,r)=>{"use strict";if(r.d(t,{Bk:()=>a,Yl:()=>s,hJ:()=>u,mm:()=>i,pZ:()=>o}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class s extends(5522==r.j?n.G:null){constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id} â€“ ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id} â€“ ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class a extends(5522==r.j?n.G:null){constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class o extends(6338!=r.j?n.G:null){constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class u extends(5522==r.j?n.G:null){constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}},847070:(e,t,r)=>{"use strict";if(r.d(t,{Dk:()=>w,Lu:()=>v,Mo:()=>b,VQ:()=>E,cg:()=>g,uq:()=>y}),6338!=r.j)var n=r(914503);if(6338!=r.j)var i=r(421746);if(6338!=r.j)var s=r(986899);if(6338!=r.j)var a=r(480522);if(6338!=r.j)var o=r(757689);if(6338!=r.j)var u=r(840840);if(6338!=r.j)var c=r(839625);if(6338!=r.j)var l=r(267795);if(6338!=r.j)var d=r(457412);if(6338!=r.j)var f=r(62027);if(6338!=r.j)var h=r(620443);if(6338!=r.j)var p=r(433639);if(6338!=r.j)var m=r(229008);class g extends(6338!=r.j?f.G:null){constructor(e,{account:t,docsPath:r,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:f,to:m,value:g,stateOverride:y}){const v=t?(0,n.T)(t):void 0;let w=(0,p.xr)({from:v?.address,to:m,value:void 0!==g&&`${(0,c.d)(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:void 0!==o&&`${(0,l.o)(o)} gwei`,maxFeePerGas:void 0!==u&&`${(0,l.o)(u)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,l.o)(d)} gwei`,nonce:f});y&&(w+=`\n${(0,h.Bj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class y extends(6338!=r.j?f.G:null){constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:c}){const l=(0,u.mE)({abi:t,args:r,name:s}),d=l?(0,o.z)({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=l?(0,a.t)(l,{includeName:!0}):void 0,h=(0,p.xr)({address:n&&(0,m.CR)(n),function:f,args:d&&"()"!==d&&`${[...Array(s?.length??0).keys()].map((()=>" ")).join("")}${d}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",h].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=s,this.sender=c}}class v extends(6338!=r.j?f.G:null){constructor({abi:e,data:t,functionName:r,message:n}){let u,c,l,f,h;if(t&&"0x"!==t)try{c=(0,s.p)({abi:e,data:t});const{abiItem:r,errorName:n,args:u}=c;if("Error"===n)f=u[0];else if("Panic"===n){const[e]=u;f=i.$[e]}else{const e=r?(0,a.t)(r,{includeName:!0}):void 0,t=r&&u?(0,o.z)({abiItem:r,args:u,includeFunctionName:!1,includeName:!1}):void 0;l=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){u=e}else n&&(f=n);u instanceof d.yP&&(h=u.signature,l=[`Unable to decode signature "${h}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${h}.`]),super(f&&"execution reverted"!==f||h?[`The contract function "${r}" reverted with the following ${h?"signature":"reason"}:`,f||h].join("\n"):`The contract function "${r}" reverted.`,{cause:u,metaMessages:l}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=c,this.reason=f,this.signature=h}}class w extends(6338!=r.j?f.G:null){constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class b extends(6338!=r.j?f.G:null){constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CounterfactualDeploymentFailedError"})}}class E extends(6338!=r.j?f.G:null){constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},866238:(e,t,r)=>{"use strict";if(r.d(t,{KD:()=>a,T_:()=>i,lQ:()=>s}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class s extends(6338!=r.j?n.G:null){constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class a extends(6338!=r.j?n.G:null){constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}},69760:(e,t,r)=>{"use strict";if(r.d(t,{$s:()=>s,W_:()=>a,mV:()=>i}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class s extends(6338!=r.j?n.G:null){constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class a extends(6338!=r.j?n.G:null){constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}},93680:(e,t,r)=>{"use strict";if(r.d(t,{m:()=>i}),5522==r.j)var n=r(62027);class i extends(5522==r.j?n.G:null){constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}},487788:(e,t,r)=>{"use strict";if(r.d(t,{J5:()=>i,M6:()=>o,P9:()=>a,yr:()=>s}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class s extends(6338!=r.j?n.G:null){constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class a extends(5522==r.j?n.G:null){constructor(e){super(`Hex value "${e}" is an odd length (${e.length}). It must be an even length.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexValueError"})}}class o extends(6338!=r.j?n.G:null){constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},706698:(e,t,r)=>{"use strict";if(r.d(t,{FK:()=>a,Pm:()=>s,rO:()=>i,sR:()=>o}),5522==r.j)var n=r(62027);class i extends(5522==r.j?n.G:null){constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class s extends(5522==r.j?n.G:null){constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class a extends(5522==r.j?n.G:null){constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class o extends(5522==r.j?n.G:null){constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}},643575:(e,t,r)=>{"use strict";if(r.d(t,{h:()=>o}),6338!=r.j)var n=r(839625);if(6338!=r.j)var i=r(267795);if(6338!=r.j)var s=r(62027);if(6338!=r.j)var a=r(433639);class o extends(6338!=r.j?s.G:null){constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:u,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p}){const m=(0,a.xr)({from:t?.address,to:h,value:void 0!==p&&`${(0,n.d)(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:u,gasPrice:void 0!==c&&`${(0,i.o)(c)} gwei`,maxFeePerGas:void 0!==l&&`${(0,i.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.o)(d)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}},115371:(e,t,r)=>{"use strict";if(r.d(t,{Fz:()=>s,e5:()=>a,ld:()=>o}),6338!=r.j)var n=r(267795);if(6338!=r.j)var i=r(62027);class s extends(6338!=r.j?i.G:null){constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class a extends(6338!=r.j?i.G:null){constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class o extends(6338!=r.j?i.G:null){constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,n.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}},196860:(e,t,r)=>{"use strict";if(r.d(t,{U:()=>i}),5522==r.j)var n=r(62027);class i extends(5522==r.j?n.G:null){constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}},326445:(e,t,r)=>{"use strict";r.d(t,{C_:()=>d,G$:()=>o,Hh:()=>a,M_:()=>s,WF:()=>f,ZI:()=>u,cj:()=>g,cs:()=>m,dR:()=>h,pZ:()=>p,se:()=>l,vU:()=>c});var n=r(267795),i=r(62027);class s extends i.G{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class o extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class u extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class c extends i.G{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class f extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class h extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class p extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends(6338!=r.j?i.G:null){constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},878863:(e,t,r)=>{"use strict";if(r.d(t,{Gg:()=>a,W5:()=>u,bs:()=>o}),6338!=r.j)var n=r(796070);if(6338!=r.j)var i=r(62027);if(6338!=r.j)var s=r(229008);class a extends(6338!=r.j?i.G:null){constructor({body:e,cause:t,details:r,headers:i,status:a,url:o}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${(0,s.Gr)(o)}`,e&&`Request body: ${(0,n.P)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=o}}class o extends(6338!=r.j?i.G:null){constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.Gr)(r)}`,`Request body: ${(0,n.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class u extends(6338!=r.j?i.G:null){constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.Gr)(t)}`,`Request body: ${(0,n.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},339028:(e,t,r)=>{"use strict";r.d(t,{B:()=>u,GD:()=>v,I0:()=>I,KB:()=>m,LX:()=>c,Og:()=>h,PE:()=>b,Pv:()=>y,Ts:()=>E,XS:()=>d,ab:()=>w,gS:()=>g,ir:()=>O,nY:()=>l,pT:()=>p,s7:()=>o,u5:()=>_,x3:()=>S,yR:()=>f});var n=r(62027),i=r(878863);class s extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof i.bs?e.code:t??-1}}class a extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class o extends s{constructor(e){super(e,{code:o.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class u extends s{constructor(e){super(e,{code:u.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class c extends s{constructor(e){super(e,{code:c.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class l extends s{constructor(e){super(e,{code:l.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class d extends s{constructor(e){super(e,{code:d.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class f extends s{constructor(e){super(e,{code:f.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends s{constructor(e){super(e,{code:h.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class p extends s{constructor(e){super(e,{code:p.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class m extends s{constructor(e){super(e,{code:m.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g extends s{constructor(e){super(e,{code:g.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends s{constructor(e){super(e,{code:y.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class v extends s{constructor(e){super(e,{code:v.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends a{constructor(e){super(e,{code:w.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class b extends a{constructor(e){super(e,{code:b.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends a{constructor(e){super(e,{code:E.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class _ extends a{constructor(e){super(e,{code:_.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class I extends a{constructor(e){super(e,{code:I.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class S extends a{constructor(e){super(e,{code:S.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class O extends(6338!=r.j?s:null){constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}},620443:(e,t,r)=>{"use strict";if(r.d(t,{Bj:()=>o,Nc:()=>i,Z8:()=>s}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class s extends(6338!=r.j?n.G:null){constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function a(e){return e.reduce(((e,{slot:t,value:r})=>`${e}        ${t}: ${r}\n`),"")}function o(e){return e.reduce(((e,{address:t,...r})=>{let n=`${e}    ${t}:\n`;return r.nonce&&(n+=`      nonce: ${r.nonce}\n`),r.balance&&(n+=`      balance: ${r.balance}\n`),r.code&&(n+=`      code: ${r.code}\n`),r.state&&(n+="      state:\n",n+=a(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=a(r.stateDiff)),n}),"  State Override:\n").slice(0,-1)}},433639:(e,t,r)=>{"use strict";if(r.d(t,{Bh:()=>f,JC:()=>l,Yb:()=>h,j3:()=>c,mc:()=>p,mk:()=>d,vl:()=>u,xY:()=>o,xr:()=>a}),5522==r.j)var n=r(839625);if(5522==r.j)var i=r(267795);if(6338!=r.j)var s=r(62027);function a(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),r=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`)).join("\n")}class o extends(6338!=r.j?s.G:null){constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class u extends(5522==r.j?s.G:null){constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class c extends(6338!=r.j?s.G:null){constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",a(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class l extends(5522==r.j?s.G:null){constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class d extends(5522==r.j?s.G:null){constructor(e,{account:t,docsPath:r,chain:s,data:o,gas:u,gasPrice:c,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p}){const m=a({chain:s&&`${s?.name} (id: ${s?.id})`,from:t?.address,to:h,value:void 0!==p&&`${(0,n.d)(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:u,gasPrice:void 0!==c&&`${(0,i.o)(c)} gwei`,maxFeePerGas:void 0!==l&&`${(0,i.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==d&&`${(0,i.o)(d)} gwei`,nonce:f});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class f extends(5522==r.j?s.G:null){constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let s="Transaction";r&&void 0!==i&&(s=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),n&&(s=`Transaction with hash "${n}"`),super(`${s} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class h extends(6338!=r.j?s.G:null){constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class p extends(5522==r.j?s.G:null){constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},943018:(e,t,r)=>{"use strict";if(r.d(t,{I:()=>i}),6338!=r.j)var n=r(62027);class i extends(6338!=r.j?n.G:null){constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}},229008:(e,t,r)=>{"use strict";if(r.d(t,{CR:()=>i,Gr:()=>s,bo:()=>a}),6338!=r.j)var n=r(901242);const i=e=>e,s=e=>e,a=()=>`viem@${n.i}`},901242:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});const n="2.17.3"},701454:(e,t,r)=>{"use strict";r.d(t,{_$:()=>s,d$:()=>i,pr:()=>o,si:()=>a,ti:()=>n,wh:()=>u});const n=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DECIMALS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"gasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1GasUsed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"l1BaseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"overhead",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"scalar",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],i=[{inputs:[{internalType:"uint256",name:"_submissionInterval",type:"uint256"},{internalType:"uint256",name:"_l2BlockTime",type:"uint256"},{internalType:"uint256",name:"_startingBlockNumber",type:"uint256"},{internalType:"uint256",name:"_startingTimestamp",type:"uint256"},{internalType:"address",name:"_proposer",type:"address"},{internalType:"address",name:"_challenger",type:"address"},{internalType:"uint256",name:"_finalizationPeriodSeconds",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"outputRoot",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"l2OutputIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"l2BlockNumber",type:"uint256"},{indexed:!1,internalType:"uint256",name:"l1Timestamp",type:"uint256"}],name:"OutputProposed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"prevNextOutputIndex",type:"uint256"},{indexed:!0,internalType:"uint256",name:"newNextOutputIndex",type:"uint256"}],name:"OutputsDeleted",type:"event"},{inputs:[],name:"CHALLENGER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FINALIZATION_PERIOD_SECONDS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"L2_BLOCK_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PROPOSER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SUBMISSION_INTERVAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2BlockNumber",type:"uint256"}],name:"computeL2Timestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2OutputIndex",type:"uint256"}],name:"deleteL2Outputs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_l2OutputIndex",type:"uint256"}],name:"getL2Output",outputs:[{components:[{internalType:"bytes32",name:"outputRoot",type:"bytes32"},{internalType:"uint128",name:"timestamp",type:"uint128"},{internalType:"uint128",name:"l2BlockNumber",type:"uint128"}],internalType:"struct Types.OutputProposal",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2BlockNumber",type:"uint256"}],name:"getL2OutputAfter",outputs:[{components:[{internalType:"bytes32",name:"outputRoot",type:"bytes32"},{internalType:"uint128",name:"timestamp",type:"uint128"},{internalType:"uint128",name:"l2BlockNumber",type:"uint128"}],internalType:"struct Types.OutputProposal",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_l2BlockNumber",type:"uint256"}],name:"getL2OutputIndexAfter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_startingBlockNumber",type:"uint256"},{internalType:"uint256",name:"_startingTimestamp",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"latestBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestOutputIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOutputIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_outputRoot",type:"bytes32"},{internalType:"uint256",name:"_l2BlockNumber",type:"uint256"},{internalType:"bytes32",name:"_l1BlockHash",type:"bytes32"},{internalType:"uint256",name:"_l1BlockNumber",type:"uint256"}],name:"proposeL2Output",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"startingBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"startingTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],s=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasLimit",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"bytes32",name:"withdrawalHash",type:"bytes32"}],name:"MessagePassed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"WithdrawerBalanceBurnt",type:"event"},{inputs:[],name:"MESSAGE_VERSION",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"uint256",name:"_gasLimit",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"initiateWithdrawal",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"messageNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"sentMessages",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],a=[{type:"constructor",inputs:[],stateMutability:"nonpayable"},{type:"function",name:"create",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_rootClaim",type:"bytes32",internalType:"Claim"},{name:"_extraData",type:"bytes",internalType:"bytes"}],outputs:[{name:"proxy_",type:"address",internalType:"contract IDisputeGame"}],stateMutability:"payable"},{type:"function",name:"findLatestGames",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_start",type:"uint256",internalType:"uint256"},{name:"_n",type:"uint256",internalType:"uint256"}],outputs:[{name:"games_",type:"tuple[]",internalType:"struct IDisputeGameFactory.GameSearchResult[]",components:[{name:"index",type:"uint256",internalType:"uint256"},{name:"metadata",type:"bytes32",internalType:"GameId"},{name:"timestamp",type:"uint64",internalType:"Timestamp"},{name:"rootClaim",type:"bytes32",internalType:"Claim"},{name:"extraData",type:"bytes",internalType:"bytes"}]}],stateMutability:"view"},{type:"function",name:"gameAtIndex",inputs:[{name:"_index",type:"uint256",internalType:"uint256"}],outputs:[{name:"gameType_",type:"uint32",internalType:"GameType"},{name:"timestamp_",type:"uint64",internalType:"Timestamp"},{name:"proxy_",type:"address",internalType:"contract IDisputeGame"}],stateMutability:"view"},{type:"function",name:"gameCount",inputs:[],outputs:[{name:"gameCount_",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"gameImpls",inputs:[{name:"",type:"uint32",internalType:"GameType"}],outputs:[{name:"",type:"address",internalType:"contract IDisputeGame"}],stateMutability:"view"},{type:"function",name:"games",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_rootClaim",type:"bytes32",internalType:"Claim"},{name:"_extraData",type:"bytes",internalType:"bytes"}],outputs:[{name:"proxy_",type:"address",internalType:"contract IDisputeGame"},{name:"timestamp_",type:"uint64",internalType:"Timestamp"}],stateMutability:"view"},{type:"function",name:"getGameUUID",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_rootClaim",type:"bytes32",internalType:"Claim"},{name:"_extraData",type:"bytes",internalType:"bytes"}],outputs:[{name:"uuid_",type:"bytes32",internalType:"Hash"}],stateMutability:"pure"},{type:"function",name:"initBonds",inputs:[{name:"",type:"uint32",internalType:"GameType"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"initialize",inputs:[{name:"_owner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"renounceOwnership",inputs:[],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setImplementation",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_impl",type:"address",internalType:"contract IDisputeGame"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setInitBond",inputs:[{name:"_gameType",type:"uint32",internalType:"GameType"},{name:"_initBond",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"version",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"event",name:"DisputeGameCreated",inputs:[{name:"disputeProxy",type:"address",indexed:!0,internalType:"address"},{name:"gameType",type:"uint32",indexed:!0,internalType:"GameType"},{name:"rootClaim",type:"bytes32",indexed:!0,internalType:"Claim"}],anonymous:!1},{type:"event",name:"ImplementationSet",inputs:[{name:"impl",type:"address",indexed:!0,internalType:"address"},{name:"gameType",type:"uint32",indexed:!0,internalType:"GameType"}],anonymous:!1},{type:"event",name:"InitBondUpdated",inputs:[{name:"gameType",type:"uint32",indexed:!0,internalType:"GameType"},{name:"newBond",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Initialized",inputs:[{name:"version",type:"uint8",indexed:!1,internalType:"uint8"}],anonymous:!1},{type:"event",name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"address",indexed:!0,internalType:"address"},{name:"newOwner",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"GameAlreadyExists",inputs:[{name:"uuid",type:"bytes32",internalType:"Hash"}]},{type:"error",name:"InsufficientBond",inputs:[]},{type:"error",name:"NoImplementation",inputs:[{name:"gameType",type:"uint32",internalType:"GameType"}]}],o=[{inputs:[{internalType:"uint256",name:"_proofMaturityDelaySeconds",type:"uint256"},{internalType:"uint256",name:"_disputeGameFinalityDelaySeconds",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BadTarget",type:"error"},{inputs:[],name:"CallPaused",type:"error"},{inputs:[],name:"GasEstimation",type:"error"},{inputs:[],name:"LargeCalldata",type:"error"},{inputs:[],name:"OutOfGas",type:"error"},{inputs:[],name:"SmallGasLimit",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"version",type:"uint256"},{indexed:!1,internalType:"bytes",name:"opaqueData",type:"bytes"}],name:"TransactionDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"withdrawalHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"success",type:"bool"}],name:"WithdrawalFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"withdrawalHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"WithdrawalProven",type:"event"},{inputs:[{internalType:"contract IDisputeGame",name:"_disputeGame",type:"address"}],name:"blacklistDisputeGame",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_withdrawalHash",type:"bytes32"},{internalType:"address",name:"_proofSubmitter",type:"address"}],name:"checkWithdrawal",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"uint64",name:"_gasLimit",type:"uint64"},{internalType:"bool",name:"_isCreation",type:"bool"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"depositTransaction",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"contract IDisputeGame",name:"",type:"address"}],name:"disputeGameBlacklist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"disputeGameFactory",outputs:[{internalType:"contract DisputeGameFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"disputeGameFinalityDelaySeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"donateETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Types.WithdrawalTransaction",name:"_tx",type:"tuple"}],name:"finalizeWithdrawalTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Types.WithdrawalTransaction",name:"_tx",type:"tuple"},{internalType:"address",name:"_proofSubmitter",type:"address"}],name:"finalizeWithdrawalTransactionExternalProof",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"finalizedWithdrawals",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract DisputeGameFactory",name:"_disputeGameFactory",type:"address"},{internalType:"contract SystemConfig",name:"_systemConfig",type:"address"},{internalType:"contract SuperchainConfig",name:"_superchainConfig",type:"address"},{internalType:"GameType",name:"_initialRespectedGameType",type:"uint32"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"l2Sender",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_byteCount",type:"uint64"}],name:"minimumGasLimit",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"_withdrawalHash",type:"bytes32"}],name:"numProofSubmitters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"params",outputs:[{internalType:"uint128",name:"prevBaseFee",type:"uint128"},{internalType:"uint64",name:"prevBoughtGas",type:"uint64"},{internalType:"uint64",name:"prevBlockNum",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"proofMaturityDelaySeconds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"",type:"uint256"}],name:"proofSubmitters",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Types.WithdrawalTransaction",name:"_tx",type:"tuple"},{internalType:"uint256",name:"_disputeGameIndex",type:"uint256"},{components:[{internalType:"bytes32",name:"version",type:"bytes32"},{internalType:"bytes32",name:"stateRoot",type:"bytes32"},{internalType:"bytes32",name:"messagePasserStorageRoot",type:"bytes32"},{internalType:"bytes32",name:"latestBlockhash",type:"bytes32"}],internalType:"struct Types.OutputRootProof",name:"_outputRootProof",type:"tuple"},{internalType:"bytes[]",name:"_withdrawalProof",type:"bytes[]"}],name:"proveWithdrawalTransaction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"address",name:"",type:"address"}],name:"provenWithdrawals",outputs:[{internalType:"contract IDisputeGame",name:"disputeGameProxy",type:"address"},{internalType:"uint64",name:"timestamp",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"respectedGameType",outputs:[{internalType:"GameType",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"respectedGameTypeUpdatedAt",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"GameType",name:"_gameType",type:"uint32"}],name:"setRespectedGameType",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"superchainConfig",outputs:[{internalType:"contract SuperchainConfig",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"systemConfig",outputs:[{internalType:"contract SystemConfig",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],u=[{stateMutability:"nonpayable",type:"constructor",inputs:[]},{type:"event",anonymous:!1,inputs:[{name:"version",internalType:"uint8",type:"uint8",indexed:!1}],name:"Initialized"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Paused"},{type:"event",anonymous:!1,inputs:[{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0},{name:"version",internalType:"uint256",type:"uint256",indexed:!0},{name:"opaqueData",internalType:"bytes",type:"bytes",indexed:!1}],name:"TransactionDeposited"},{type:"event",anonymous:!1,inputs:[{name:"account",internalType:"address",type:"address",indexed:!1}],name:"Unpaused"},{type:"event",anonymous:!1,inputs:[{name:"withdrawalHash",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"success",internalType:"bool",type:"bool",indexed:!1}],name:"WithdrawalFinalized"},{type:"event",anonymous:!1,inputs:[{name:"withdrawalHash",internalType:"bytes32",type:"bytes32",indexed:!0},{name:"from",internalType:"address",type:"address",indexed:!0},{name:"to",internalType:"address",type:"address",indexed:!0}],name:"WithdrawalProven"},{stateMutability:"view",type:"function",inputs:[],name:"GUARDIAN",outputs:[{name:"",internalType:"address",type:"address"}]},{stateMutability:"view",type:"function",inputs:[],name:"L2_ORACLE",outputs:[{name:"",internalType:"contract L2OutputOracle",type:"address"}]},{stateMutability:"view",type:"function",inputs:[],name:"SYSTEM_CONFIG",outputs:[{name:"",internalType:"contract SystemConfig",type:"address"}]},{stateMutability:"payable",type:"function",inputs:[{name:"_to",internalType:"address",type:"address"},{name:"_value",internalType:"uint256",type:"uint256"},{name:"_gasLimit",internalType:"uint64",type:"uint64"},{name:"_isCreation",internalType:"bool",type:"bool"},{name:"_data",internalType:"bytes",type:"bytes"}],name:"depositTransaction",outputs:[]},{stateMutability:"payable",type:"function",inputs:[],name:"donateETH",outputs:[]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"_tx",internalType:"struct Types.WithdrawalTransaction",type:"tuple",components:[{name:"nonce",internalType:"uint256",type:"uint256"},{name:"sender",internalType:"address",type:"address"},{name:"target",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"gasLimit",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}]}],name:"finalizeWithdrawalTransaction",outputs:[]},{stateMutability:"view",type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"}],name:"finalizedWithdrawals",outputs:[{name:"",internalType:"bool",type:"bool"}]},{stateMutability:"view",type:"function",inputs:[],name:"guardian",outputs:[{name:"",internalType:"address",type:"address"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"_l2Oracle",internalType:"contract L2OutputOracle",type:"address"},{name:"_guardian",internalType:"address",type:"address"},{name:"_systemConfig",internalType:"contract SystemConfig",type:"address"},{name:"_paused",internalType:"bool",type:"bool"}],name:"initialize",outputs:[]},{stateMutability:"view",type:"function",inputs:[{name:"_l2OutputIndex",internalType:"uint256",type:"uint256"}],name:"isOutputFinalized",outputs:[{name:"",internalType:"bool",type:"bool"}]},{stateMutability:"view",type:"function",inputs:[],name:"l2Oracle",outputs:[{name:"",internalType:"contract L2OutputOracle",type:"address"}]},{stateMutability:"view",type:"function",inputs:[],name:"l2Sender",outputs:[{name:"",internalType:"address",type:"address"}]},{stateMutability:"pure",type:"function",inputs:[{name:"_byteCount",internalType:"uint64",type:"uint64"}],name:"minimumGasLimit",outputs:[{name:"",internalType:"uint64",type:"uint64"}]},{stateMutability:"view",type:"function",inputs:[],name:"params",outputs:[{name:"prevBaseFee",internalType:"uint128",type:"uint128"},{name:"prevBoughtGas",internalType:"uint64",type:"uint64"},{name:"prevBlockNum",internalType:"uint64",type:"uint64"}]},{stateMutability:"nonpayable",type:"function",inputs:[],name:"pause",outputs:[]},{stateMutability:"view",type:"function",inputs:[],name:"paused",outputs:[{name:"",internalType:"bool",type:"bool"}]},{stateMutability:"nonpayable",type:"function",inputs:[{name:"_tx",internalType:"struct Types.WithdrawalTransaction",type:"tuple",components:[{name:"nonce",internalType:"uint256",type:"uint256"},{name:"sender",internalType:"address",type:"address"},{name:"target",internalType:"address",type:"address"},{name:"value",internalType:"uint256",type:"uint256"},{name:"gasLimit",internalType:"uint256",type:"uint256"},{name:"data",internalType:"bytes",type:"bytes"}]},{name:"_l2OutputIndex",internalType:"uint256",type:"uint256"},{name:"_outputRootProof",internalType:"struct Types.OutputRootProof",type:"tuple",components:[{name:"version",internalType:"bytes32",type:"bytes32"},{name:"stateRoot",internalType:"bytes32",type:"bytes32"},{name:"messagePasserStorageRoot",internalType:"bytes32",type:"bytes32"},{name:"latestBlockhash",internalType:"bytes32",type:"bytes32"}]},{name:"_withdrawalProof",internalType:"bytes[]",type:"bytes[]"}],name:"proveWithdrawalTransaction",outputs:[]},{stateMutability:"view",type:"function",inputs:[{name:"",internalType:"bytes32",type:"bytes32"}],name:"provenWithdrawals",outputs:[{name:"outputRoot",internalType:"bytes32",type:"bytes32"},{name:"timestamp",internalType:"uint128",type:"uint128"},{name:"l2OutputIndex",internalType:"uint128",type:"uint128"}]},{stateMutability:"view",type:"function",inputs:[],name:"systemConfig",outputs:[{name:"",internalType:"contract SystemConfig",type:"address"}]},{stateMutability:"nonpayable",type:"function",inputs:[],name:"unpause",outputs:[]},{stateMutability:"view",type:"function",inputs:[],name:"version",outputs:[{name:"",internalType:"string",type:"string"}]},{stateMutability:"payable",type:"receive"}]},484780:(e,t,r)=>{"use strict";if(r.d(t,{D:()=>s}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(437397);async function s(e,t){const{account:r,chain:s=e.chain,gas:a,data:o,isCreation:u,mint:c,to:l,value:d}=t,f=r?(0,n.T)(r):void 0,h=await(0,i.Z)(e,{account:c?void 0:f,chain:s,gas:a,data:o,parameters:["gas"],to:l,value:d});return{account:f,request:{data:h.data,gas:h.gas,mint:c,isCreation:u,to:h.to,value:h.value},targetChain:s}}},758557:(e,t,r)=>{"use strict";if(r.d(t,{Q:()=>s}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(437397);async function s(e,t){const{account:r,chain:s=e.chain,gas:a,data:o,to:u,value:c}=t,l=r?(0,n.T)(r):void 0,d=await(0,i.Z)(e,{account:l,chain:s,gas:a,data:o,parameters:["gas"],to:u,value:c});return{account:l,request:{data:d.data,gas:d.gas,to:d.to,value:d.value}}}},602531:(e,t,r)=>{"use strict";if(r.d(t,{t:()=>d}),5522==r.j)var n=r(475016);if(5522==r.j)var i=r(750764);if(5522==r.j)var s=r(923909);if(5522==r.j)var a=r(507529);if(5522==r.j)var o=r(149550);if(5522==r.j)var u=r(266926);if(5522==r.j)var c=r(492579);const l="0x0000000000000000000000000000000000000000000000000000000000000000";async function d(e,t){const{account:r,chain:s=e.chain,game:a,output:d,withdrawal:h}=t,{withdrawalHash:p}=h,{l2BlockNumber:m}=a??d,g=(0,c.b)({withdrawalHash:p}),[y,v]=await Promise.all([(0,i.S)(e,{address:u.r.l2ToL1MessagePasser.address,storageKeys:[g],blockNumber:m}),(0,n.Q)(e,{blockNumber:m})]);return{account:r,l2OutputIndex:a?.index??d?.outputIndex,outputRootProof:{latestBlockhash:v.hash,messagePasserStorageRoot:y.storageHash,stateRoot:v.stateRoot,version:l},targetChain:s,withdrawalProof:f((0,o.w)(g),y.storageProof[0].proof),withdrawal:h}}function f(e,t){const r=t[t.length-1],n=(0,s.d)(r);if(17!==n.length)return t;const i=[...t];for(const t of n){if(!Array.isArray(t))continue;const r=t[0].slice(3);"string"==typeof r&&e.endsWith(r)&&i.push((0,a.LV)(t))}return i}},331834:(e,t,r)=>{"use strict";if(r.d(t,{B:()=>o}),5522==r.j)var n=r(361877);if(5522==r.j)var i=r(101958);if(5522==r.j)var s=r(701454);if(5522==r.j)var a=r(605087);async function o(e,t){const{account:r,chain:o=e.chain,gas:u,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,request:{data:f="0x",gas:h,isCreation:p=!1,mint:m,to:g="0x",value:y},targetChain:v}=t,w=t.portalAddress?t.portalAddress:o?v.contracts.portal[o.id].address:Object.values(v.contracts.portal)[0].address,b="number"!=typeof u&&null!==u?await(0,a.J)(e,t):void 0;return(0,n.n)(e,{account:r,abi:s.wh,address:w,chain:o,functionName:"depositTransaction",args:[p?i.D:g,y??m??0n,h,p,f],maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,value:m,gas:b})}},926687:(e,t,r)=>{"use strict";if(r.d(t,{f:()=>o}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(477799);if(5522==r.j)var s=r(172365);if(5522==r.j)var a=r(255709);async function o(e,t){const{abi:r,address:o,args:u,functionName:c,...l}=t,d=(0,i.R)({abi:r,args:u,functionName:c});try{return await(0,a.m)(e,{data:d,to:o,...l})}catch(e){const t=l.account?(0,n.T)(l.account):void 0;throw(0,s.S)(e,{abi:r,address:o,args:u,docsPath:"/docs/chains/op-stack/estimateContractL1Fee",functionName:c,sender:t?.address})}}},439234:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>o}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(477799);if(5522==r.j)var s=r(172365);if(5522==r.j)var a=r(77895);async function o(e,t){const{abi:r,address:o,args:u,functionName:c,...l}=t,d=(0,i.R)({abi:r,args:u,functionName:c});try{return await(0,a.L)(e,{data:d,to:o,...l})}catch(e){const t=l.account?(0,n.T)(l.account):void 0;throw(0,s.S)(e,{abi:r,address:o,args:u,docsPath:"/docs/chains/op-stack/estimateContractL1Gas",functionName:c,sender:t?.address})}}},56993:(e,t,r)=>{"use strict";if(r.d(t,{s:()=>o}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(477799);if(5522==r.j)var s=r(172365);if(5522==r.j)var a=r(280586);async function o(e,t){const{abi:r,address:o,args:u,functionName:c,...l}=t,d=(0,i.R)({abi:r,args:u,functionName:c});try{return await(0,a.n)(e,{data:d,to:o,...l})}catch(e){const t=l.account?(0,n.T)(l.account):void 0;throw(0,s.S)(e,{abi:r,address:o,args:u,docsPath:"/docs/chains/op-stack/estimateTotalFee",functionName:c,sender:t?.address})}}},395408:(e,t,r)=>{"use strict";if(r.d(t,{G:()=>o}),5522==r.j)var n=r(914503);if(5522==r.j)var i=r(477799);if(5522==r.j)var s=r(172365);if(5522==r.j)var a=r(798992);async function o(e,t){const{abi:r,address:o,args:u,functionName:c,...l}=t,d=(0,i.R)({abi:r,args:u,functionName:c});try{return await(0,a.F)(e,{data:d,to:o,...l})}catch(e){const t=l.account?(0,n.T)(l.account):void 0;throw(0,s.S)(e,{abi:r,address:o,args:u,docsPath:"/docs/chains/op-stack/estimateTotalGas",functionName:c,sender:t?.address})}}},605087:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>a}),5522==r.j)var n=r(48333);if(5522==r.j)var i=r(101958);if(5522==r.j)var s=r(701454);async function a(e,t){const{account:r,chain:a=e.chain,gas:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,request:{data:d="0x",gas:f,isCreation:h=!1,mint:p,to:m="0x",value:g},targetChain:y}=t,v=t.portalAddress?t.portalAddress:a?y.contracts.portal[a.id].address:Object.values(y.contracts.portal)[0].address,w={account:r,abi:s.wh,address:v,functionName:"depositTransaction",args:[h?i.D:m,g??p??0n,f,h,d],gas:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,value:p,chain:a};return(0,n.D)(e,w)}},317221:(e,t,r)=>{"use strict";if(r.d(t,{Y:()=>s}),5522==r.j)var n=r(48333);if(5522==r.j)var i=r(701454);async function s(e,t){const{account:r,chain:s=e.chain,gas:a,maxFeePerGas:o,maxPriorityFeePerGas:u,nonce:c,targetChain:l,withdrawal:d}=t,f=t.portalAddress?t.portalAddress:s?l.contracts.portal[s.id].address:Object.values(l.contracts.portal)[0].address,h={account:r,abi:i.wh,address:f,functionName:"finalizeWithdrawalTransaction",args:[d],gas:a,maxFeePerGas:o,maxPriorityFeePerGas:u,nonce:c,chain:s};return(0,n.D)(e,h)}},101598:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>a}),5522==r.j)var n=r(48333);if(5522==r.j)var i=r(701454);if(5522==r.j)var s=r(266926);async function a(e,t){const{account:r,chain:a=e.chain,gas:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,request:{data:d="0x",gas:f,to:h,value:p}}=t,m={account:r,abi:i._$,address:s.r.l2ToL1MessagePasser.address,functionName:"initiateWithdrawal",args:[h,f,d],gas:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,value:p,chain:a};return(0,n.D)(e,m)}},255709:(e,t,r)=>{"use strict";if(r.d(t,{m:()=>l}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(437397);if(5522==r.j)var s=r(447864);if(5522==r.j)var a=r(547531);if(5522==r.j)var o=r(58346);if(5522==r.j)var u=r(701454);if(5522==r.j)var c=r(266926);async function l(e,t){const{chain:r=e.chain,gasPriceOracleAddress:l}=t,d=l||(r?(0,s.L)({chain:r,contract:"gasPriceOracle"}):c.r.gasPriceOracle.address),f=await(0,i.Z)(e,t);(0,a.F)(f);const h=(0,o.D)({...f,type:"eip1559"});return(0,n.L)(e,{abi:u.ti,address:d,functionName:"getL1Fee",args:[h]})}},77895:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>l}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(437397);if(5522==r.j)var s=r(447864);if(5522==r.j)var a=r(547531);if(5522==r.j)var o=r(58346);if(5522==r.j)var u=r(701454);if(5522==r.j)var c=r(266926);async function l(e,t){const{chain:r=e.chain,gasPriceOracleAddress:l}=t,d=l||(r?(0,s.L)({chain:r,contract:"gasPriceOracle"}):c.r.gasPriceOracle.address),f=await(0,i.Z)(e,t);(0,a.F)(f);const h=(0,o.D)({...f,type:"eip1559"});return(0,n.L)(e,{abi:u.ti,address:d,functionName:"getL1GasUsed",args:[h]})}},65896:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>s}),5522==r.j)var n=r(48333);if(5522==r.j)var i=r(701454);async function s(e,t){const{account:r,chain:s=e.chain,gas:a,l2OutputIndex:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,outputRootProof:d,targetChain:f,withdrawalProof:h,withdrawal:p}=t,m=t.portalAddress?t.portalAddress:s?f.contracts.portal[s.id].address:Object.values(f.contracts.portal)[0].address,g={account:r,abi:i.wh,address:m,functionName:"proveWithdrawalTransaction",args:[p,o,d,h],gas:a,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,chain:s};return(0,n.D)(e,g)}},280586:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>o}),5522==r.j)var n=r(425884);if(5522==r.j)var i=r(324453);if(5522==r.j)var s=r(437397);if(5522==r.j)var a=r(255709);async function o(e,t){const r=await(0,s.Z)(e,t),[o,u,c]=await Promise.all([(0,a.m)(e,r),(0,n.Q)(e,r),(0,i.o)(e)]);return o+u*c}},798992:(e,t,r)=>{"use strict";if(r.d(t,{F:()=>a}),5522==r.j)var n=r(425884);if(5522==r.j)var i=r(437397);if(5522==r.j)var s=r(77895);async function a(e,t){const r=await(0,i.Z)(e,t),[a,o]=await Promise.all([(0,s.L)(e,r),(0,n.Q)(e,r)]);return a+o}},620917:(e,t,r)=>{"use strict";if(r.d(t,{y:()=>a}),5522==r.j)var n=r(361877);if(5522==r.j)var i=r(701454);if(5522==r.j)var s=r(317221);async function a(e,t){const{account:r,chain:a=e.chain,gas:o,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l,targetChain:d,withdrawal:f}=t,h=t.portalAddress?t.portalAddress:a?d.contracts.portal[a.id].address:Object.values(d.contracts.portal)[0].address,p="number"!=typeof o&&null!==o?await(0,s.Y)(e,t):void 0;return(0,n.n)(e,{account:r,abi:i.wh,address:h,chain:a,functionName:"finalizeWithdrawalTransaction",args:[f],gas:p,maxFeePerGas:u,maxPriorityFeePerGas:c,nonce:l})}},395559:(e,t,r)=>{"use strict";if(r.d(t,{c:()=>s}),5522==r.j)var n=r(966725);if(5522==r.j)var i=r(582921);async function s(e,t){const{l2BlockNumber:r,strategy:s="latest"}=t,a=(await(0,i.m)(e,t)).filter((e=>e.l2BlockNumber>r)),o="random"===s?a[Math.floor(Math.random()*a.length)]:a[0];if(!o)throw new n.V;return o}},582921:(e,t,r)=>{"use strict";if(r.d(t,{m:()=>a}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(534450);if(5522==r.j)var s=r(701454);async function a(e,t){const{chain:r=e.chain,l2BlockNumber:a,limit:o=100,targetChain:u}=t,c=t.portalAddress?t.portalAddress:r?u.contracts.portal[r.id].address:Object.values(u.contracts.portal)[0].address,l=t.disputeGameFactoryAddress?t.disputeGameFactoryAddress:r?u.contracts.disputeGameFactory[r.id].address:Object.values(u.contracts.disputeGameFactory)[0].address,[d,f]=await Promise.all([(0,n.L)(e,{abi:s.si,functionName:"gameCount",args:[],address:l}),(0,n.L)(e,{abi:s.pr,functionName:"respectedGameType",address:c})]);return(await(0,n.L)(e,{abi:s.si,functionName:"findLatestGames",address:l,args:[f,BigInt(Math.max(0,Number(d-1n))),BigInt(Math.min(o,Number(d)))]})).map((e=>{const[t]=(0,i.r)([{type:"uint256"}],e.extraData);return!a||t>a?{...e,l2BlockNumber:t}:null})).filter(Boolean)}},204176:(e,t,r)=>{"use strict";if(r.d(t,{B:()=>o}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(447864);if(5522==r.j)var s=r(701454);if(5522==r.j)var a=r(266926);async function o(e,t){const{chain:r=e.chain,gasPriceOracleAddress:o}=t||{},u=o||(r?(0,i.L)({chain:r,contract:"gasPriceOracle"}):a.r.gasPriceOracle.address);return(0,n.L)(e,{abi:s.ti,address:u,functionName:"l1BaseFee"})}},969175:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>o}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(701454);if(5522==r.j)var s=r(395559);if(5522==r.j)var a=r(150972);async function o(e,t){const{chain:r=e.chain,l2BlockNumber:o,targetChain:u}=t;if((await(0,a.l)(e,t)).major>=3){const r=await(0,s.c)(e,t);return{l2BlockNumber:r.l2BlockNumber,outputIndex:r.index,outputRoot:r.rootClaim,timestamp:r.timestamp}}const c=t.l2OutputOracleAddress?t.l2OutputOracleAddress:r?u.contracts.l2OutputOracle[r.id].address:Object.values(u.contracts.l2OutputOracle)[0].address,l=await(0,n.L)(e,{address:c,abi:i.d$,functionName:"getL2OutputIndexAfter",args:[o]});return{outputIndex:l,...await(0,n.L)(e,{address:c,abi:i.d$,functionName:"getL2Output",args:[l]})}}},150972:(e,t,r)=>{"use strict";if(r.d(t,{l:()=>a}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(989329);if(5522==r.j)var s=r(701454);async function a(e,t){const{chain:r=e.chain,targetChain:a}=t,o=t.portalAddress?t.portalAddress:r?a.contracts.portal[r.id].address:Object.values(a.contracts.portal)[0].address,u=await(0,i.DN)((()=>(0,n.L)(e,{abi:s.pr,address:o,functionName:"version"})),{cacheKey:["portalVersion",o].join("."),cacheTime:300}),[c,l,d]=u.split(".").map(Number);return{major:c,minor:l,patch:d}}},796520:(e,t,r)=>{"use strict";if(r.d(t,{E:()=>c}),5522==r.j)var n=r(409884);if(5522==r.j)var i=r(988819);if(5522==r.j)var s=r(62027);if(5522==r.j)var a=r(701454);if(5522==r.j)var o=r(150972);const u=10;async function c(e,t){const{chain:r=e.chain,withdrawalHash:c,targetChain:l}=t,d=t.portalAddress?t.portalAddress:r?l.contracts.portal[r.id].address:Object.values(l.contracts.portal)[0].address;if((await(0,o.l)(e,{portalAddress:d})).major<3){const i=t.l2OutputOracleAddress?t.l2OutputOracleAddress:r?l.contracts.l2OutputOracle[r.id].address:Object.values(l.contracts.l2OutputOracle)[0].address,[[s,o,f],h]=await(0,n.A)(e,{allowFailure:!1,contracts:[{abi:a.wh,address:d,functionName:"provenWithdrawals",args:[c]},{abi:a.d$,address:i,functionName:"FINALIZATION_PERIOD_SECONDS"}]}),p=Date.now()/1e3-Number(o),m=Number(h)-p,g=Math.floor(m<0?0:m+u),y=Date.now()+1e3*g;return{period:Number(h),seconds:g,timestamp:y}}const f=await(0,i.L)(e,{abi:a.pr,address:d,functionName:"proofSubmitters",args:[c,0n]}).catch((()=>{})),[[h,p],m]=await Promise.all([f?(0,i.L)(e,{abi:a.pr,address:d,functionName:"provenWithdrawals",args:[c,f]}):Promise.resolve(["0x",0n]),(0,i.L)(e,{abi:a.pr,address:d,functionName:"proofMaturityDelaySeconds"})]);if(0n===p)throw new s.G("Withdrawal has not been proven on L1.");const g=Date.now()/1e3-Number(p),y=Number(m)-g,v=Math.floor(y<0n?0:y+u),w=Date.now()+1e3*v;return{period:Number(m),seconds:v,timestamp:w}}},856405:(e,t,r)=>{"use strict";if(r.d(t,{O:()=>i}),5522==r.j)var n=r(582921);async function i(e,t){const{intervalBuffer:r=1.1,l2BlockNumber:i}=t,s=await(0,n.m)(e,{...t,l2BlockNumber:void 0,limit:10}),a=s.map((({l2BlockNumber:e,timestamp:t},r)=>r===s.length-1?null:[s[r+1].timestamp-t,s[r+1].l2BlockNumber-e])).filter(Boolean),o=Math.ceil(a.reduce(((e,[t])=>Number(e)-Number(t)),0)/a.length),u=Math.ceil(a.reduce(((e,[t,r])=>Number(e)-Number(r)),0)/a.length),c=s[0],l=1e3*Number(c.timestamp),d=Math.ceil(o*r),f=Date.now(),h=(()=>{if(f<l)return 0;if(c.l2BlockNumber>i)return 0;const e=Number(i-c.l2BlockNumber),t=Math.ceil((f-l)/1e3),r=d-t%d;return e<u?r:Math.floor(e/Number(u))*d+r})();return{interval:o,seconds:h,timestamp:h>0?f+1e3*h:void 0}}},685061:(e,t,r)=>{"use strict";if(r.d(t,{Y:()=>a}),5522==r.j)var n=r(409884);if(5522==r.j)var i=r(988819);if(5522==r.j)var s=r(701454);async function a(e,t){const{intervalBuffer:r=1.1,chain:a=e.chain,l2BlockNumber:o,targetChain:u}=t,c=t.l2OutputOracleAddress?t.l2OutputOracleAddress:a?u.contracts.l2OutputOracle[a.id].address:Object.values(u.contracts.l2OutputOracle)[0].address,[l,d,f]=await(0,n.A)(e,{allowFailure:!1,contracts:[{abi:s.d$,address:c,functionName:"latestOutputIndex"},{abi:s.d$,address:c,functionName:"L2_BLOCK_TIME"},{abi:s.d$,address:c,functionName:"SUBMISSION_INTERVAL"}]}),h=await(0,i.L)(e,{abi:s.d$,address:c,functionName:"getL2Output",args:[l]}),p=1e3*Number(h.timestamp),m=Number(f*d),g=Math.ceil(m*r),y=Date.now(),v=(()=>{if(y<p)return 0;if(h.l2BlockNumber>o)return 0;const e=Number(o-h.l2BlockNumber),t=Math.ceil((y-p)/1e3),r=g-t%g;return e<f?r:Math.floor(e/Number(f))*g+r})();return{interval:m,seconds:v,timestamp:v>0?y+1e3*v:void 0}}},962003:(e,t,r)=>{"use strict";if(r.d(t,{b:()=>a}),5522==r.j)var n=r(150972);if(5522==r.j)var i=r(856405);if(5522==r.j)var s=r(685061);async function a(e,t){const{receipt:r}=t;return(await(0,n.l)(e,t)).major<3?(0,s.Y)(e,{...t,l2BlockNumber:r.blockNumber}):(0,i.O)(e,{...t,l2BlockNumber:r.blockNumber})}},534574:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>f}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(847070);if(5522==r.j)var s=r(701454);if(5522==r.j)var a=r(966725);if(5522==r.j)var o=r(749216);if(5522==r.j)var u=r(395559);if(5522==r.j)var c=r(969175);if(5522==r.j)var l=r(150972);if(5522==r.j)var d=r(796520);async function f(e,t){const{chain:r=e.chain,gameLimit:f=100,receipt:h,targetChain:p}=t,m=p,g=t.portalAddress?t.portalAddress:r?m.contracts.portal[r.id].address:Object.values(m.contracts.portal)[0].address,[y]=(0,o.i)(h);if(!y)throw new a.E({hash:h.transactionHash});if((await(0,l.l)(e,t)).major<3){const[r,a,o,u]=await Promise.allSettled([(0,c.K)(e,{...t,l2BlockNumber:h.blockNumber}),(0,n.L)(e,{abi:s.wh,address:g,functionName:"provenWithdrawals",args:[y.withdrawalHash]}),(0,n.L)(e,{abi:s.wh,address:g,functionName:"finalizedWithdrawals",args:[y.withdrawalHash]}),(0,d.E)(e,{...t,withdrawalHash:y.withdrawalHash})]);if("rejected"===r.status){const e=r.reason;if(e.cause instanceof i.Lu&&"L2OutputOracle: cannot get output for a block that has not been proposed"===e.cause.data?.args?.[0])return"waiting-to-prove";throw e}if("rejected"===a.status)throw a.reason;if("rejected"===o.status)throw o.reason;if("rejected"===u.status)throw u.reason;const[l,f]=a.value;if(!f)return"ready-to-prove";if(o.value)return"finalized";const{seconds:p}=u.value;return p>0?"waiting-to-finalize":"ready-to-finalize"}const v=await(0,n.L)(e,{abi:s.pr,address:g,functionName:"proofSubmitters",args:[y.withdrawalHash,0n]}).catch((()=>y.sender)),[w,b,E]=await Promise.allSettled([(0,u.c)(e,{...t,l2BlockNumber:h.blockNumber,limit:f}),(0,n.L)(e,{abi:s.pr,address:g,functionName:"checkWithdrawal",args:[y.withdrawalHash,v]}),(0,n.L)(e,{abi:s.pr,address:g,functionName:"finalizedWithdrawals",args:[y.withdrawalHash]})]);if("fulfilled"===E.status&&E.value)return"finalized";if("rejected"===w.status){if("GameNotFoundError"===w.reason.name)return"waiting-to-prove";throw w.reason}if("rejected"===b.status){const e=b.reason;if(e.cause instanceof i.Lu){const t=e.cause.data?.args?.[0];if("OptimismPortal: withdrawal has not been proven yet"===t||"OptimismPortal: withdrawal has not been proven by proof submitter address yet"===t)return"ready-to-prove";if("OptimismPortal: proven withdrawal has not matured yet"===t||"OptimismPortal: output proposal has not been finalized yet"===t||"OptimismPortal: output proposal in air-gap"===t)return"waiting-to-finalize"}throw b.reason}if("rejected"===E.status)throw E.reason;return"ready-to-finalize"}},184086:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>o}),5522==r.j)var n=r(361877);if(5522==r.j)var i=r(701454);if(5522==r.j)var s=r(266926);if(5522==r.j)var a=r(101598);async function o(e,t){const{account:r,chain:o=e.chain,gas:u,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,request:{data:f="0x",gas:h,to:p,value:m}}=t,g="number"!=typeof u&&null!==u?await(0,a.J)(e,t):void 0;return(0,n.n)(e,{account:r,abi:i._$,address:s.r.l2ToL1MessagePasser.address,chain:o,functionName:"initiateWithdrawal",args:[p,h,f],gas:g,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,value:m})}},535427:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>a}),5522==r.j)var n=r(361877);if(5522==r.j)var i=r(701454);if(5522==r.j)var s=r(65896);async function a(e,t){const{account:r,chain:a=e.chain,gas:o,l2OutputIndex:u,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,outputRootProof:f,targetChain:h,withdrawalProof:p,withdrawal:m}=t,g=t.portalAddress?t.portalAddress:a?h.contracts.portal[a.id].address:Object.values(h.contracts.portal)[0].address,y="bigint"!=typeof o&&null!==o?await(0,s.C)(e,t):o??void 0;return(0,n.n)(e,{account:r,abi:i.wh,address:g,chain:a,functionName:"proveWithdrawalTransaction",args:[m,u,f,p],gas:y,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d})}},694605:(e,t,r)=>{"use strict";if(r.d(t,{_:()=>o}),5522==r.j)var n=r(700023);if(5522==r.j)var i=r(966725);if(5522==r.j)var s=r(395559);if(5522==r.j)var a=r(856405);async function o(e,t){const{pollingInterval:r=e.pollingInterval}=t,{seconds:o}=await(0,a.O)(e,t);return new Promise(((a,u)=>{(0,n.$)((async({unpoll:r})=>{try{const n=await(0,s.c)(e,{...t,strategy:"random"});r(),a(n)}catch(e){e instanceof i.V||(r(),u(e))}}),{interval:r,initialWaitTime:async()=>1e3*o})}))}},278200:(e,t,r)=>{"use strict";if(r.d(t,{H:()=>o}),5522==r.j)var n=r(847070);if(5522==r.j)var i=r(700023);if(5522==r.j)var s=r(969175);if(5522==r.j)var a=r(685061);async function o(e,t){const{pollingInterval:r=e.pollingInterval}=t,{seconds:o}=await(0,a.Y)(e,t);return new Promise(((a,u)=>{(0,i.$)((async({unpoll:r})=>{try{const n=await(0,s.K)(e,t);r(),a(n)}catch(e){e.cause instanceof n.Lu||(r(),u(e))}}),{interval:r,initialWaitTime:async()=>1e3*o})}))}},91535:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>s}),5522==r.j)var n=r(762914);if(5522==r.j)var i=r(796520);async function s(e,t){const{seconds:r}=await(0,i.E)(e,t);await(0,n.D)(1e3*r)}},500891:(e,t,r)=>{"use strict";if(r.d(t,{f:()=>u}),5522==r.j)var n=r(966725);if(5522==r.j)var i=r(749216);if(5522==r.j)var s=r(150972);if(5522==r.j)var a=r(694605);if(5522==r.j)var o=r(278200);async function u(e,t){const{gameLimit:r,receipt:u}=t,[c]=(0,i.i)(u);if(!c)throw new n.E({hash:u.transactionHash});if((await(0,s.l)(e,t)).major<3){const r=await(0,o.H)(e,{...t,l2BlockNumber:u.blockNumber});return{game:{extraData:"0x",index:r.outputIndex,l2BlockNumber:r.l2BlockNumber,metadata:"0x",rootClaim:r.outputRoot,timestamp:r.timestamp},output:r,withdrawal:c}}const l=await(0,a._)(e,{...t,limit:r,l2BlockNumber:u.blockNumber});return{game:l,output:{l2BlockNumber:l.l2BlockNumber,outputIndex:l.index,outputRoot:l.rootClaim,timestamp:l.timestamp},withdrawal:c}}},663445:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(266926),i=r(295946),s=r(43310),a=r(306073),o=r(730866);const u={block:(0,s.G)({format(e){const t=e.transactions?.map((e=>{if("string"==typeof e)return e;const t=(0,a.Tr)(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,i.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}));return{transactions:t,stateRoot:e.stateRoot}}}),transaction:(0,a.y_)({format(e){const t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,i.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,o.dI)({format:e=>({l1GasPrice:e.l1GasPrice?(0,i.y_)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,i.y_)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,i.y_)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};var c=r(479761);const l={contracts:n.r,formatters:u,serializers:c.fE}},266926:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});const n={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}}},815936:(e,t,r)=>{"use strict";if(r.d(t,{M:()=>b}),5522==r.j)var n=r(758557);if(5522==r.j)var i=r(605087);if(5522==r.j)var s=r(317221);if(5522==r.j)var a=r(65896);if(5522==r.j)var o=r(395559);if(5522==r.j)var u=r(582921);if(5522==r.j)var c=r(969175);if(5522==r.j)var l=r(150972);if(5522==r.j)var d=r(796520);if(5522==r.j)var f=r(856405);if(5522==r.j)var h=r(685061);if(5522==r.j)var p=r(962003);if(5522==r.j)var m=r(534574);if(5522==r.j)var g=r(694605);if(5522==r.j)var y=r(278200);if(5522==r.j)var v=r(91535);if(5522==r.j)var w=r(500891);function b(){return e=>({buildInitiateWithdrawal:t=>(0,n.Q)(e,t),estimateDepositTransactionGas:t=>(0,i.J)(e,t),estimateFinalizeWithdrawalGas:t=>(0,s.Y)(e,t),estimateProveWithdrawalGas:t=>(0,a.C)(e,t),getGame:t=>(0,o.c)(e,t),getGames:t=>(0,u.m)(e,t),getL2Output:t=>(0,c.K)(e,t),getPortalVersion:t=>(0,l.l)(e,t),getTimeToFinalize:t=>(0,d.E)(e,t),getTimeToNextGame:t=>(0,f.O)(e,t),getTimeToNextL2Output:t=>(0,h.Y)(e,t),getTimeToProve:t=>(0,p.b)(e,t),getWithdrawalStatus:t=>(0,m.C)(e,t),waitForNextGame:t=>(0,g._)(e,t),waitForNextL2Output:t=>(0,y.H)(e,t),waitToFinalize:t=>(0,v.L)(e,t),waitToProve:t=>(0,w.f)(e,t)})}},809835:(e,t,r)=>{"use strict";if(r.d(t,{z:()=>m}),5522==r.j)var n=r(484780);if(5522==r.j)var i=r(602531);if(5522==r.j)var s=r(926687);if(5522==r.j)var a=r(439234);if(5522==r.j)var o=r(56993);if(5522==r.j)var u=r(395408);if(5522==r.j)var c=r(101598);if(5522==r.j)var l=r(255709);if(5522==r.j)var d=r(77895);if(5522==r.j)var f=r(280586);if(5522==r.j)var h=r(798992);if(5522==r.j)var p=r(204176);function m(){return e=>({buildDepositTransaction:t=>(0,n.D)(e,t),buildProveWithdrawal:t=>(0,i.t)(e,t),estimateContractL1Fee:t=>(0,s.f)(e,t),estimateContractL1Gas:t=>(0,a.n)(e,t),estimateContractTotalFee:t=>(0,o.s)(e,t),estimateContractTotalGas:t=>(0,u.G)(e,t),estimateInitiateWithdrawalGas:t=>(0,c.J)(e,t),estimateL1Fee:t=>(0,l.m)(e,t),getL1BaseFee:t=>(0,p.B)(e,t),estimateL1Gas:t=>(0,d.L)(e,t),estimateTotalFee:t=>(0,f.n)(e,t),estimateTotalGas:t=>(0,h.F)(e,t)})}},132250:(e,t,r)=>{"use strict";if(r.d(t,{U:()=>a}),5522==r.j)var n=r(331834);if(5522==r.j)var i=r(620917);if(5522==r.j)var s=r(535427);function a(){return e=>({depositTransaction:t=>(0,n.B)(e,t),finalizeWithdrawal:t=>(0,i.y)(e,t),proveWithdrawal:t=>(0,s.L)(e,t)})}},877581:(e,t,r)=>{"use strict";if(r.d(t,{k:()=>i}),5522==r.j)var n=r(184086);function i(){return e=>({initiateWithdrawal:t=>(0,n.a)(e,t)})}},966725:(e,t,r)=>{"use strict";if(r.d(t,{E:()=>s,V:()=>i}),5522==r.j)var n=r(62027);class i extends(5522==r.j?n.G:null){constructor(){super("Dispute game not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"GameNotFoundError"})}}class s extends(5522==r.j?n.G:null){constructor({hash:e}){super(`The provided transaction receipt with hash "${e}" contains no withdrawals.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ReceiptContainsNoWithdrawalsError"})}}},479761:(e,t,r)=>{"use strict";r.d(t,{DO:()=>c,fE:()=>l});var n=r(526087),i=r(349321),s=r(557040),a=r(992106),o=r(507529),u=r(58346);function c(e,t){return function(e){return"deposit"===e.type||void 0!==e.sourceHash}(e)?function(e){!function(e){const{from:t,to:r}=e;if(t&&!(0,i.U)(t))throw new n.b({address:t});if(r&&!(0,i.U)(r))throw new n.b({address:r})}(e);const{sourceHash:t,data:r,from:u,gas:c,isSystemTx:l,mint:d,to:f,value:h}=e,p=[t,u,f??"0x",d?(0,a.NC)(d):"0x",h?(0,a.NC)(h):"0x",c?(0,a.NC)(c):"0x",l?"0x1":"0x",r??"0x"];return(0,s.SM)(["0x7e",(0,o.LV)(p)])}(e):(0,u.D)(e,t)}const l={transaction:c}},516804:(e,t,r)=>{"use strict";if(r.d(t,{t:()=>s}),5522==r.j)var n=r(59691);if(5522==r.j)var i=r(701454);function s({logs:e}){return(0,n.h)({abi:i.wh,eventName:"TransactionDeposited",logs:e})}},718628:(e,t,r)=>{"use strict";if(r.d(t,{l:()=>s}),5522==r.j)var n=r(59691);if(5522==r.j)var i=r(701454);function s({logs:e}){return(0,n.h)({abi:i._$,eventName:"MessagePassed",logs:e})}},358688:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>o}),5522==r.j)var n=r(149550);if(5522==r.j)var i=r(479761);if(5522==r.j)var s=r(306533);if(5522==r.j)var a=r(579999);function o({log:e}){const t=(0,s.R)({domain:"userDeposit",l1BlockHash:e.blockHash,l1LogIndex:e.logIndex}),{data:r,gas:o,isCreation:u,mint:c,value:l}=(0,a.r)(e.args.opaqueData);return(0,n.w)((0,i.DO)({from:e.args.from,to:u?void 0:e.args.to,sourceHash:t,data:r,gas:o,isSystemTx:!1,mint:c,type:"deposit",value:l}))}},160872:(e,t,r)=>{"use strict";if(r.d(t,{I:()=>s}),5522==r.j)var n=r(516804);if(5522==r.j)var i=r(358688);function s({logs:e}){return(0,n.t)({logs:e}).map((e=>(0,i.L)({log:e})))}},306533:(e,t,r)=>{"use strict";if(r.d(t,{R:()=>u}),5522==r.j)var n=r(557040);if(5522==r.j)var i=r(661769);if(5522==r.j)var s=r(992106);if(5522==r.j)var a=r(149550);const o={userDeposit:0,l1InfoDeposit:1};function u({domain:e,l1LogIndex:t,l1BlockHash:r,sequenceNumber:u}){const c=(0,s.NC)(t??u),l=(0,n.zo)([r,(0,i.vk)(c,{size:32})]),d=(0,a.w)(l),f=(0,s.NC)(o[e]),h=(0,n.zo)([(0,i.vk)(f,{size:32}),d]);return(0,a.w)(h)}},492579:(e,t,r)=>{"use strict";if(r.d(t,{b:()=>s}),5522==r.j)var n=r(145444);if(5522==r.j)var i=r(149550);function s({withdrawalHash:e}){const t=(0,n.E)([{type:"bytes32"},{type:"uint256"}],[e,0n]);return(0,i.w)(t)}},749216:(e,t,r)=>{"use strict";if(r.d(t,{i:()=>i}),5522==r.j)var n=r(718628);function i({logs:e}){return(0,n.l)({logs:e}).map((e=>e.args))}},579999:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>a}),5522==r.j)var n=r(239135);if(5522==r.j)var i=r(803972);if(5522==r.j)var s=r(295946);function a(e){let t=0;const r=(0,i.tP)(e,t,t+32);t+=32;const a=(0,i.tP)(e,t,t+32);t+=32;const o=(0,i.tP)(e,t,t+8);t+=8;const u=1n===BigInt((0,i.tP)(e,t,t+1));t+=1;const c=t>(0,n.d)(e)-1?"0x":(0,i.tP)(e,t,e.length);return{mint:(0,s.y_)(r),value:(0,s.y_)(a),gas:(0,s.y_)(o),isCreation:u,data:c}}},534450:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>h}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(945775);if(6338!=r.j)var s=r(811221);if(6338!=r.j)var a=r(239135);if(6338!=r.j)var o=r(803972);if(6338!=r.j)var u=r(861836);if(6338!=r.j)var c=r(838415);if(6338!=r.j)var l=r(711187);if(6338!=r.j)var d=r(992106);if(6338!=r.j)var f=r(145444);function h(e,t){const r="string"==typeof t?(0,l.nr)(t):t,i=(0,s.q)(r);if(0===(0,a.d)(r)&&e.length>0)throw new n.wb;if((0,a.d)(t)&&(0,a.d)(t)<32)throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,a.d)(t)});let o=0;const u=[];for(let t=0;t<e.length;++t){const r=e[t];i.setPosition(o);const[n,s]=p(i,r,{staticPosition:0});o+=s,u.push(n)}return u}function p(e,t,{staticPosition:r}){const s=(0,f.S)(t.type);if(s){const[n,i]=s;return function(e,t,{length:r,staticPosition:n}){if(!r){const r=n+(0,c.tm)(e.readBytes(g)),i=r+m;e.setPosition(r);const s=(0,c.tm)(e.readBytes(m)),a=y(t);let o=0;const u=[];for(let r=0;r<s;++r){e.setPosition(i+(a?32*r:o));const[n,s]=p(e,t,{staticPosition:i});o+=s,u.push(n)}return e.setPosition(n+32),[u,32]}if(y(t)){const i=n+(0,c.tm)(e.readBytes(g)),s=[];for(let n=0;n<r;++n){e.setPosition(i+32*n);const[r]=p(e,t,{staticPosition:i});s.push(r)}return e.setPosition(n+32),[s,32]}let i=0;const s=[];for(let a=0;a<r;++a){const[r,a]=p(e,t,{staticPosition:n+i});i+=a,s.push(r)}return[s,i]}(e,{...t,type:i},{length:n,staticPosition:r})}if("tuple"===t.type)return function(e,t,{staticPosition:r}){const n=0===t.components.length||t.components.some((({name:e})=>!e)),i=n?[]:{};let s=0;if(y(t)){const a=r+(0,c.tm)(e.readBytes(g));for(let r=0;r<t.components.length;++r){const o=t.components[r];e.setPosition(a+s);const[u,c]=p(e,o,{staticPosition:a});s+=c,i[n?r:o?.name]=u}return e.setPosition(r+32),[i,32]}for(let a=0;a<t.components.length;++a){const o=t.components[a],[u,c]=p(e,o,{staticPosition:r});i[n?a:o?.name]=u,s+=c}return[i,s]}(e,t,{staticPosition:r});if("address"===t.type)return function(e){const t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,o.T4)(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[(0,c.Lj)(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const t=(0,c.tm)(e.readBytes(32));e.setPosition(r+t);const n=(0,c.tm)(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];const i=e.readBytes(n);return e.setPosition(r+32),[(0,d.ci)(i),32]}const s=(0,d.ci)(e.readBytes(Number.parseInt(i),32));return[s,32]}(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?(0,c.v3)(i,{signed:r}):(0,c.tm)(i,{signed:r}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const r=(0,c.tm)(e.readBytes(32)),n=t+r;e.setPosition(n);const i=(0,c.tm)(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),a=(0,c.d3)((0,u.f)(s));return e.setPosition(t+32),[a,32]}(e,{staticPosition:r});throw new n.CI(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const m=32,g=32;function y(e){const{type:t}=e;if("string"===t)return!0;if("bytes"===t)return!0;if(t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(y);const r=(0,f.S)(e.type);return!(!r||!y({...e,type:r[1]}))}},986899:(e,t,r)=>{"use strict";if(r.d(t,{p:()=>c}),6338!=r.j)var n=r(421746);if(6338!=r.j)var i=r(457412);if(6338!=r.j)var s=r(803972);if(6338!=r.j)var a=r(458034);if(6338!=r.j)var o=r(534450);if(6338!=r.j)var u=r(480522);function c(e){const{abi:t,data:r}=e,c=(0,s.tP)(r,0,4);if("0x"===c)throw new i.wb;const l=[...t||[],n.Up,n.hZ].find((e=>"error"===e.type&&c===(0,a.C)((0,u.t)(e))));if(!l)throw new i.yP(c,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:l,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,o.r)(l.inputs,(0,s.tP)(r,4)):void 0,errorName:l.name}}},715950:(e,t,r)=>{"use strict";if(r.d(t,{F:()=>l}),5522==r.j)var n=r(457412);if(5522==r.j)var i=r(239135);if(5522==r.j)var s=r(196005);if(5522==r.j)var a=r(866238);if(5522==r.j)var o=r(534450);if(5522==r.j)var u=r(480522);const c="/docs/contract/decodeEventLog";function l(e){const{abi:t,data:r,strict:l,topics:f}=e,h=l??!0,[p,...m]=f;if(!p)throw new n.FM({docsPath:c});const g=t.find((e=>"event"===e.type&&p===(0,s.n)((0,u.t)(e))));if(!g||!("name"in g)||"event"!==g.type)throw new n.lC(p,{docsPath:c});const{name:y,inputs:v}=g,w=v?.some((e=>!("name"in e&&e.name)));let b=w?[]:{};const E=v.filter((e=>"indexed"in e&&e.indexed));for(let e=0;e<E.length;e++){const t=E[e],r=m[e];if(!r)throw new n.Gy({abiItem:g,param:t});b[w?e:t.name||e]=d({param:t,value:r})}const _=v.filter((e=>!("indexed"in e&&e.indexed)));if(_.length>0)if(r&&"0x"!==r)try{const e=(0,o.r)(_,r);if(e)if(w)b=[...b,...e];else for(let t=0;t<_.length;t++)b[_[t].name]=e[t]}catch(e){if(h){if(e instanceof n.xB||e instanceof a.lQ)throw new n.SM({abiItem:g,data:r,params:_,size:(0,i.d)(r)});throw e}}else if(h)throw new n.SM({abiItem:g,data:"0x",params:_,size:0});return{eventName:y,args:Object.values(b).length>0?b:void 0}}function d({param:e,value:t}){if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return t;return((0,o.r)([e],t)||[])[0]}},207210:(e,t,r)=>{"use strict";if(r.d(t,{k:()=>o}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(534450);if(6338!=r.j)var s=r(840840);const a="/docs/contract/decodeFunctionResult";function o(e){const{abi:t,args:r,functionName:o,data:u}=e;let c=t[0];if(o){const e=(0,s.mE)({abi:t,args:r,name:o});if(!e)throw new n.xL(o,{docsPath:a});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:a});if(!c.outputs)throw new n.MX(c.name,{docsPath:a});const l=(0,i.r)(c.outputs,u);return l&&l.length>1?l:l&&1===l.length?l[0]:void 0}},145444:(e,t,r)=>{"use strict";if(r.d(t,{E:()=>f,S:()=>m}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(526087);if(6338!=r.j)var s=r(62027);if(6338!=r.j)var a=r(349321);if(6338!=r.j)var o=r(557040);if(6338!=r.j)var u=r(661769);if(6338!=r.j)var c=r(239135);if(6338!=r.j)var l=r(803972);if(6338!=r.j)var d=r(992106);function f(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});const r=function({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(h({param:e[n],value:t[n]}));return r}({params:e,values:t}),i=p(r);return 0===i.length?"0x":i}function h({param:e,value:t}){const r=m(e.type);if(r){const[i,s]=r;return function(e,{length:t,param:r}){const i=null===t;if(!Array.isArray(e))throw new n.hn(e);if(!i&&e.length!==t)throw new n.gr({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let s=!1;const a=[];for(let t=0;t<e.length;t++){const n=h({param:r,value:e[t]});n.dynamic&&(s=!0),a.push(n)}if(i||s){const e=p(a);if(i){const t=(0,d.eC)(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?(0,o.zo)([t,e]):t}}if(s)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,o.zo)(a.map((({encoded:e})=>e)))}}(t,{length:i,param:{...e,type:s}})}if("tuple"===e.type)return function(e,{param:t}){let r=!1;const n=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],a=h({param:s,value:e[Array.isArray(e)?i:s.name]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?p(n):(0,o.zo)(n.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!(0,a.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,u.gc)(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new s.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,u.gc)((0,d.C4)(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(e,{signed:t}){return{dynamic:!1,encoded:(0,d.eC)(e,{size:32,signed:t})}}(t,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,r]=t.type.split("bytes"),i=(0,c.d)(e);if(!r){let t=e;return i%32!=0&&(t=(0,u.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,o.zo)([(0,u.gc)((0,d.eC)(i,{size:32})),t])}}if(i!==Number.parseInt(r))throw new n.M4({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:(0,u.gc)(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=(0,d.$G)(e),r=Math.ceil((0,c.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,u.gc)((0,l.tP)(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,o.zo)([(0,u.gc)((0,d.eC)((0,c.d)(t),{size:32})),...n])}}(t);throw new n.dh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function p(e){let t=0;for(let r=0;r<e.length;r++){const{dynamic:n,encoded:i}=e[r];t+=n?32:(0,c.d)(i)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?(r.push((0,d.eC)(t+i,{size:32})),n.push(o),i+=(0,c.d)(o)):r.push(o)}return(0,o.zo)([...r,...n])}function m(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},30286:(e,t,r)=>{"use strict";if(r.d(t,{w:()=>o}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(557040);if(6338!=r.j)var s=r(145444);const a="/docs/contract/encodeDeployData";function o(e){const{abi:t,args:r,bytecode:o}=e;if(!r||0===r.length)return o;const u=t.find((e=>"type"in e&&"constructor"===e.type));if(!u)throw new n.fM({docsPath:a});if(!("inputs"in u))throw new n.cO({docsPath:a});if(!u.inputs||0===u.inputs.length)throw new n.cO({docsPath:a});const c=(0,s.E)(u.inputs,r);return(0,i.SM)([o,c])}},199583:(e,t,r)=>{"use strict";if(r.d(t,{O:()=>f}),5522==r.j)var n=r(457412);if(5522==r.j)var i=r(196860);if(5522==r.j)var s=r(711187);if(5522==r.j)var a=r(149550);if(5522==r.j)var o=r(196005);if(5522==r.j)var u=r(145444);if(5522==r.j)var c=r(480522);if(5522==r.j)var l=r(840840);const d="/docs/contract/encodeEventTopics";function f(e){const{abi:t,eventName:r,args:i}=e;let s=t[0];if(r){const e=(0,l.mE)({abi:t,name:r});if(!e)throw new n.mv(r,{docsPath:d});s=e}if("event"!==s.type)throw new n.mv(void 0,{docsPath:d});const a=(0,c.t)(s),u=(0,o.n)(a);let f=[];if(i&&"inputs"in s){const e=s.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(i)?i:Object.values(i).length>0?e?.map((e=>i[e.name]))??[]:[];t.length>0&&(f=e?.map(((e,r)=>Array.isArray(t[r])?t[r].map(((n,i)=>h({param:e,value:t[r][i]}))):t[r]?h({param:e,value:t[r]}):null))??[])}return[u,...f]}function h({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,a.w)((0,s.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new i.U(e.type);return(0,u.E)([e],[t])}},477799:(e,t,r)=>{"use strict";if(r.d(t,{R:()=>a}),6338!=r.j)var n=r(557040);if(6338!=r.j)var i=r(145444);if(6338!=r.j)var s=r(426389);function a(e){const{args:t}=e,{abi:r,functionName:a}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:(0,s.m)(e),o=r[0],u=a,c="inputs"in o&&o.inputs?(0,i.E)(o.inputs,t??[]):void 0;return(0,n.SM)([u,c??"0x"])}},480522:(e,t,r)=>{"use strict";if(r.d(t,{h:()=>s,t:()=>i}),6338!=r.j)var n=r(457412);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return`${e.name}(${s(e.inputs,{includeName:t})})`}function s(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){if(e.type.startsWith("tuple"))return`(${s(e.components,{includeName:t})})${e.type.slice("tuple".length)}`;return e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}},757689:(e,t,r)=>{"use strict";if(r.d(t,{z:()=>i}),6338!=r.j)var n=r(796070);function i({abiItem:e,args:t,includeFunctionName:r=!0,includeName:i=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map(((e,r)=>`${i&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,n.P)(t[r]):t[r]}`)).join(", ")})`}},840840:(e,t,r)=>{"use strict";if(r.d(t,{mE:()=>u}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(615102);if(6338!=r.j)var s=r(349321);if(6338!=r.j)var a=r(196005);if(6338!=r.j)var o=r(458034);function u(e){const{abi:t,args:r=[],name:s}=e,u=(0,i.v)(s,{strict:!1}),d=t.filter((e=>u?"function"===e.type?(0,o.C)(e)===s:"event"===e.type&&(0,a.n)(e)===s:"name"in e&&e.name===s));if(0===d.length)return;if(1===d.length)return d[0];let f;for(const e of d){if(!("inputs"in e))continue;if(!r||0===r.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(!e.inputs)continue;if(0===e.inputs.length)continue;if(e.inputs.length!==r.length)continue;if(r.every(((t,r)=>{const n="inputs"in e&&e.inputs[r];return!!n&&c(t,n)}))){if(f&&"inputs"in f&&f.inputs){const t=l(e.inputs,f.inputs,r);if(t)throw new n.S4({abiItem:e,type:t[0]},{abiItem:f,type:t[1]})}f=e}}return f||d[0]}function c(e,t){const r=typeof e,n=t.type;switch(n){case"address":return(0,s.U)(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>c(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>c(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function l(e,t,r){for(const n in e){const i=e[n],a=t[n];if("tuple"===i.type&&"tuple"===a.type&&"components"in i&&"components"in a)return l(i.components,a.components,r[n]);const o=[i.type,a.type];if(!(!o.includes("address")||!o.includes("bytes20"))||(o.includes("address")&&o.includes("string")||!(!o.includes("address")||!o.includes("bytes")))&&(0,s.U)(r[n],{strict:!1}))return o}}},59691:(e,t,r)=>{"use strict";if(r.d(t,{h:()=>s}),5522==r.j)var n=r(457412);if(5522==r.j)var i=r(715950);function s({abi:e,eventName:t,logs:r,strict:s=!0}){return r.map((r=>{try{const n=(0,i.F)({...r,abi:e,strict:s});return t&&!t.includes(n.eventName)?null:{...n,...r}}catch(e){let t,i;if(e instanceof n.lC)return null;if(e instanceof n.SM||e instanceof n.Gy){if(s)return null;t=e.abiItem.name,i=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...r,args:i?[]:{},eventName:t}}})).filter(Boolean)}},426389:(e,t,r)=>{"use strict";if(r.d(t,{m:()=>u}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(458034);if(6338!=r.j)var s=r(480522);if(6338!=r.j)var a=r(840840);const o="/docs/contract/encodeFunctionData";function u(e){const{abi:t,args:r,functionName:u}=e;let c=t[0];if(u){const e=(0,a.mE)({abi:t,args:r,name:u});if(!e)throw new n.xL(u,{docsPath:o});c=e}if("function"!==c.type)throw new n.xL(void 0,{docsPath:o});return{abi:[c],functionName:(0,i.C)((0,s.t)(c))}}},945775:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>l,x:()=>c}),5522==r.j)var n=r(526087);if(6338!=r.j)var i=r(711187);if(6338!=r.j)var s=r(149550);var a=r(279773);if(5522==r.j)var o=r(349321);const u=new a.k(8192);function c(e,t){if(u.has(`${e}.${t}`))return u.get(`${e}.${t}`);const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,s.w)((0,i.qX)(r),"bytes"),a=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&n[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());const o=`0x${a.join("")}`;return u.set(`${e}.${t}`,o),o}function l(e,t){if(!(0,o.U)(e,{strict:!1}))throw new n.b({address:e});return c(e,t)}},349321:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(279773);if(6338!=r.j)var i=r(945775);const s=/^0x[a-fA-F0-9]{40}$/,a=new n.k(8192);function o(e,t){const{strict:r=!0}=t??{},n=`${e}.${r}`;if(a.has(n))return a.get(n);const o=!(!s.test(e)||e.toLowerCase()!==e&&r&&(0,i.x)(e)!==e);return a.set(n,o),o}},61228:(e,t,r)=>{"use strict";if(r.d(t,{E:()=>s}),6338!=r.j)var n=r(526087);if(6338!=r.j)var i=r(349321);function s(e,t){if(!(0,i.U)(e,{strict:!1}))throw new n.b({address:e});if(!(0,i.U)(t,{strict:!1}))throw new n.b({address:t});return e.toLowerCase()===t.toLowerCase()}},960169:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>s}),6338!=r.j)var n=r(711187);if(6338!=r.j)var i=r(992106);function s(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map((e=>(0,n.nr)(e))):e.blobs,a=[];for(const e of s)a.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?a:a.map((e=>(0,i.ci)(e)))}},4499:(e,t,r)=>{"use strict";if(r.d(t,{y:()=>s}),6338!=r.j)var n=r(711187);if(6338!=r.j)var i=r(992106);function s(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),s="string"==typeof e.blobs[0]?e.blobs.map((e=>(0,n.nr)(e))):e.blobs,a="string"==typeof e.commitments[0]?e.commitments.map((e=>(0,n.nr)(e))):e.commitments,o=[];for(let e=0;e<s.length;e++){const r=s[e],n=a[e];o.push(Uint8Array.from(t.computeBlobKzgProof(r,n)))}return"bytes"===r?o:o.map((e=>(0,i.ci)(e)))}},675542:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>s}),6338!=r.j)var n=r(992106);if(6338!=r.j)var i=r(517378);function s(e){const{commitment:t,version:r=1}=e,s=e.to??("string"==typeof t?"hex":"bytes"),a=(0,i.J)(t,"bytes");return a.set([r],0),"bytes"===s?a:(0,n.ci)(a)}},6527:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>i}),6338!=r.j)var n=r(675542);function i(e){const{commitments:t,version:r}=e,i=e.to??("string"==typeof t[0]?"hex":"bytes"),s=[];for(const e of t)s.push((0,n.S)({commitment:e,to:i,version:r}));return s}},177178:(e,t,r)=>{"use strict";if(r.d(t,{j:()=>a}),6338!=r.j)var n=r(960169);if(6338!=r.j)var i=r(4499);if(6338!=r.j)var s=r(550374);function a(e){const{data:t,kzg:r,to:a}=e,o=e.blobs??(0,s.U)({data:t,to:a}),u=e.commitments??(0,n.P)({blobs:o,kzg:r,to:a}),c=e.proofs??(0,i.y)({blobs:o,commitments:u,kzg:r,to:a}),l=[];for(let e=0;e<o.length;e++)l.push({blob:o[e],commitment:u[e],proof:c[e]});return l}},550374:(e,t,r)=>{"use strict";if(r.d(t,{U:()=>c}),6338!=r.j)var n=r(984359);if(6338!=r.j)var i=r(66226);if(6338!=r.j)var s=r(811221);if(6338!=r.j)var a=r(239135);if(6338!=r.j)var o=r(711187);if(6338!=r.j)var u=r(992106);function c(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,o.nr)(e.data):e.data,c=(0,a.d)(r);if(!c)throw new i.RX;if(c>n.xo)throw new i.m7({maxSize:n.xo,size:c});const l=[];let d=!0,f=0;for(;d;){const e=(0,s.q)(new Uint8Array(n.gt));let t=0;for(;t<n._2;){const i=r.slice(f,f+(n.Iz-1));if(e.pushByte(0),e.pushBytes(i),i.length<31){e.pushByte(128),d=!1;break}t++,f+=31}l.push(e)}return"bytes"===t?l.map((e=>e.bytes)):l.map((e=>(0,u.ci)(e.bytes)))}},337029:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>d}),6338!=r.j)var n=r(62027);if(6338!=r.j)var i=r(878863);if(6338!=r.j)var s=r(339028);if(6338!=r.j)var a=r(992106);if(6338!=r.j)var o=r(149550);if(6338!=r.j)var u=r(4072);if(6338!=r.j)var c=r(807760);if(6338!=r.j)var l=r(796070);function d(e,t={}){return async(r,d={})=>{const{dedupe:f=!1,retryDelay:h=150,retryCount:p=3,uid:m}={...t,...d},g=f?(0,o.w)((0,a.$G)(`${m}.${(0,l.P)(r)}`)):void 0;return(0,u.$)((()=>(0,c.J)((async()=>{try{return await e(r)}catch(e){const t=e;switch(t.code){case s.s7.code:throw new s.s7(t);case s.B.code:throw new s.B(t);case s.LX.code:throw new s.LX(t);case s.nY.code:throw new s.nY(t);case s.XS.code:throw new s.XS(t);case s.yR.code:throw new s.yR(t);case s.Og.code:throw new s.Og(t);case s.pT.code:throw new s.pT(t);case s.KB.code:throw new s.KB(t);case s.gS.code:throw new s.gS(t);case s.Pv.code:throw new s.Pv(t);case s.GD.code:throw new s.GD(t);case s.ab.code:throw new s.ab(t);case s.PE.code:throw new s.PE(t);case s.Ts.code:throw new s.Ts(t);case s.u5.code:throw new s.u5(t);case s.I0.code:throw new s.I0(t);case s.x3.code:throw new s.x3(t);case 5e3:throw new s.ab(t);default:if(e instanceof n.G)throw e;throw new s.ir(t)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof i.Gg){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e)}return~~(1<<e)*h},retryCount:p,shouldRetry:({error:e})=>function(e){if("code"in e&&"number"==typeof e.code)return-1===e.code||(e.code===s.Pv.code||e.code===s.XS.code);if(e instanceof i.Gg&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(e)})),{enabled:f,id:g})}}},549193:(e,t,r)=>{"use strict";if(r.r(t),r.d(t,{ccipRequest:()=>m,offchainLookup:()=>p,offchainLookupAbiItem:()=>h,offchainLookupSignature:()=>f}),6338!=r.j)var n=r(909661);if(6338!=r.j)var i=r(198506);if(6338!=r.j)var s=r(878863);if(6338!=r.j)var a=r(986899);if(6338!=r.j)var o=r(145444);if(6338!=r.j)var u=r(61228);if(6338!=r.j)var c=r(557040);if(6338!=r.j)var l=r(615102);if(6338!=r.j)var d=r(796070);const f="0x556f1830",h={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function p(e,{blockNumber:t,blockTag:r,data:s,to:l}){const{args:d}=(0,a.p)({data:s,abi:[h]}),[f,p,g,y,v]=d,{ccipRead:w}=e,b=w&&"function"==typeof w?.request?w.request:m;try{if(!(0,u.E)(l,f))throw new i.wE({sender:f,to:l});const s=await b({data:g,sender:f,urls:p}),{data:a}=await(0,n.R)(e,{blockNumber:t,blockTag:r,data:(0,c.zo)([y,(0,o.E)([{type:"bytes"},{type:"bytes"}],[s,v])]),to:l});return a}catch(e){throw new i.cI({callbackSelector:y,cause:e,data:s,extraData:v,sender:f,urls:p})}}async function m({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let a=0;a<r.length;a++){const o=r[a],u=o.includes("{data}")?"GET":"POST",c="POST"===u?{data:e,sender:t}:void 0;try{const r=await fetch(o.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:u});let a;if(a=r.headers.get("Content-Type")?.startsWith("application/json")?(await r.json()).data:await r.text(),!r.ok){n=new s.Gg({body:c,details:a?.error?(0,d.P)(a.error):r.statusText,headers:r.headers,status:r.status,url:o});continue}if(!(0,l.v)(a)){n=new i.qj({result:a,url:o});continue}return a}catch(e){n=new s.Gg({body:c,details:e.message,url:o})}}throw n}},533840:(e,t,r)=>{"use strict";if(r.d(t,{q:()=>i}),5522==r.j)var n=r(480377);function i({chain:e,currentChainId:t}){if(!e)throw new n.Bk;if(t!==e.id)throw new n.Yl({chain:e,currentChainId:t})}},986164:(e,t,r)=>{"use strict";function n(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}r.d(t,{a:()=>n})},447864:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>i}),6338!=r.j)var n=r(480377);function i({blockNumber:e,chain:t,contract:r}){const i=t?.contracts?.[r];if(!i)throw new n.mm({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.mm({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},811221:(e,t,r)=>{"use strict";r.d(t,{q:()=>s});var n=r(866238);const i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function s(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},557040:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e[0]?i(e):function(e){let t=0;for(const r of e)t+=r.length;const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}(e)}function i(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}r.d(t,{SM:()=>i,zo:()=>n})},490205:(e,t,r)=>{"use strict";if(r.d(t,{g:()=>a}),5522==r.j)var n=r(290696);if(5522==r.j)var i=r(711187);if(5522==r.j)var s=r(615102);function a(e,t){const r=(0,s.v)(e)?(0,i.O0)(e):e,a=(0,s.v)(t)?(0,i.O0)(t):t;return(0,n.equalBytes)(r,a)}},615102:(e,t,r)=>{"use strict";function n(e,{strict:t=!0}={}){return!!e&&("string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}r.d(t,{v:()=>n})},661769:(e,t,r)=>{"use strict";if(r.d(t,{gc:()=>s,vk:()=>i}),6338!=r.j)var n=r(69760);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?s(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});const i=new Uint8Array(r);for(let n=0;n<r;n++){const s="right"===t;i[s?n:r-n-1]=e[s?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;const i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},239135:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>i}),6338!=r.j)var n=r(615102);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},803972:(e,t,r)=>{"use strict";if(r.d(t,{T4:()=>c,p5:()=>l,tP:()=>a}),6338!=r.j)var n=r(69760);if(6338!=r.j)var i=r(615102);if(6338!=r.j)var s=r(239135);function a(e,t,r,{strict:n}={}){return(0,i.v)(e,{strict:!1})?l(e,t,r,{strict:n}):c(e,t,r,{strict:n})}function o(e,t){if("number"==typeof t&&t>0&&t>(0,s.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,s.d)(e)})}function u(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,s.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,s.d)(e)})}function c(e,t,r,{strict:n}={}){o(e,t);const i=e.slice(t,r);return n&&u(i,t,r),i}function l(e,t,r,{strict:n}={}){o(e,t);const i=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;return n&&u(i,t,r),i}},861836:(e,t,r)=>{"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{f:()=>n})},838415:(e,t,r)=>{"use strict";if(r.d(t,{Lj:()=>u,d3:()=>l,tm:()=>c,v3:()=>o}),6338!=r.j)var n=r(487788);if(6338!=r.j)var i=r(861836);if(6338!=r.j)var s=r(295946);if(6338!=r.j)var a=r(992106);function o(e,t={}){void 0!==t.size&&(0,s.Yf)(e,{size:t.size});const r=(0,a.ci)(e,t);return(0,s.y_)(r,t)}function u(e,t={}){let r=e;if(void 0!==t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,i.f)(r)),r.length>1||r[0]>1)throw new n.yr(r);return Boolean(r[0])}function c(e,t={}){void 0!==t.size&&(0,s.Yf)(e,{size:t.size});const r=(0,a.ci)(e,t);return(0,s.ly)(r,t)}function l(e,t={}){let r=e;return void 0!==t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,i.f)(r,{dir:"right"})),(new TextDecoder).decode(r)}},295946:(e,t,r)=>{"use strict";if(r.d(t,{Yf:()=>s,ly:()=>o,y_:()=>a}),6338!=r.j)var n=r(487788);if(6338!=r.j)var i=r(239135);function s(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function a(e,t={}){const{signed:r}=t;t.size&&s(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function o(e,t={}){return Number(a(e,t))}},923909:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>u}),5522==r.j)var n=r(62027);if(5522==r.j)var i=r(487788);if(5522==r.j)var s=r(811221);if(5522==r.j)var a=r(711187);if(5522==r.j)var o=r(992106);function u(e,t="hex"){const r=(()=>{if("string"==typeof e){if(e.length>3&&e.length%2!=0)throw new i.P9(e);return(0,a.nr)(e)}return e})();return c((0,s.q)(r,{recursiveReadLimit:Number.POSITIVE_INFINITY}),t)}function c(e,t="hex"){if(0===e.bytes.length)return"hex"===t?(0,o.ci)(e.bytes):e.bytes;const r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){const n=l(e,r,128),i=e.readBytes(n);return"hex"===t?(0,o.ci)(i):i}return function(e,t,r){const n=e.position,i=[];for(;e.position-n<t;)i.push(c(e,r));return i}(e,l(e,r,192),t)}function l(e,t,r){if(128===r&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new n.G("Invalid RLP prefix")}},711187:(e,t,r)=>{"use strict";if(r.d(t,{O0:()=>c,nr:()=>f,qX:()=>h}),6338!=r.j)var n=r(62027);if(6338!=r.j)var i=r(615102);if(6338!=r.j)var s=r(661769);if(6338!=r.j)var a=r(295946);if(6338!=r.j)var o=r(992106);const u=new TextEncoder;function c(e,t={}){return"number"==typeof e||"bigint"==typeof e?function(e,t){const r=(0,o.eC)(e,t);return f(r)}(e,t):"boolean"==typeof e?function(e,t={}){const r=new Uint8Array(1);if(r[0]=Number(e),"number"==typeof t.size)return(0,a.Yf)(r,{size:t.size}),(0,s.vk)(r,{size:t.size});return r}(e,t):(0,i.v)(e)?f(e,t):h(e,t)}const l={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=l.zero&&e<=l.nine?e-l.zero:e>=l.A&&e<=l.F?e-(l.A-10):e>=l.a&&e<=l.f?e-(l.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,a.Yf)(r,{size:t.size}),r=(0,s.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);const o=i.length/2,u=new Uint8Array(o);for(let e=0,t=0;e<o;e++){const r=d(i.charCodeAt(t++)),s=d(i.charCodeAt(t++));if(void 0===r||void 0===s)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);u[e]=16*r+s}return u}function h(e,t={}){const r=u.encode(e);return"number"==typeof t.size?((0,a.Yf)(r,{size:t.size}),(0,s.vk)(r,{dir:"right",size:t.size})):r}},992106:(e,t,r)=>{"use strict";if(r.d(t,{$G:()=>f,C4:()=>u,NC:()=>o,ci:()=>c,eC:()=>l}),6338!=r.j)var n=r(487788);if(6338!=r.j)var i=r(661769);if(6338!=r.j)var s=r(295946);const a=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e,t={}){return"number"==typeof e||"bigint"==typeof e?l(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?u(e,t):c(e,t)}function u(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function c(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=a[e[t]];const n=`0x${r}`;return"number"==typeof t.size?((0,s.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function l(e,t={}){const{signed:r,size:s}=t,a=BigInt(e);let o;s?o=r?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const u="bigint"==typeof o&&r?-o-1n:0;if(o&&a>o||a<u){const t="bigint"==typeof e?"n":"";throw new n.J5({max:o?`${o}${t}`:void 0,min:`${u}${t}`,signed:r,size:s,value:`${e}${t}`})}const c=`0x${(r&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16)}`;return s?(0,i.vk)(c,{size:s}):c}const d=new TextEncoder;function f(e,t={}){return c(d.encode(e),t)}},507529:(e,t,r)=>{"use strict";if(r.d(t,{LV:()=>o}),5522==r.j)var n=r(62027);if(5522==r.j)var i=r(811221);if(5522==r.j)var s=r(711187);if(5522==r.j)var a=r(992106);function o(e,t="hex"){const r=u(e),n=(0,i.q)(new Uint8Array(r.length));return r.encode(n),"hex"===t?(0,a.ci)(n.bytes):n.bytes}function u(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=c(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t));for(const{encode:t}of e)t(n)}}}(e.map((e=>u(e)))):function(e){const t="string"==typeof e?(0,s.nr)(e):e,r=c(t.length),n=1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length;return{length:n,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new n.G("Length is too large.")}},357958:(e,t,r)=>{"use strict";if(r.d(t,{a:()=>i}),5522==r.j)var n=r(422186);async function i(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?async function(e,{gatewayUrls:t,record:r}){const i=(0,n.Fs)(r),s=await(0,n.B$)(e,{nft:i}),{uri:a,isOnChain:o,isEncoded:u}=(0,n.GF)({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const e=u?atob(a.replace("data:application/json;base64,","")):a,r=JSON.parse(e);return(0,n.Kt)({uri:(0,n.HO)(r),gatewayUrls:t})}let c=i.tokenID;"erc1155"===i.namespace&&(c=c.replace("0x","").padStart(64,"0"));return(0,n.QJ)({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:r}):(0,n.Kt)({uri:r,gatewayUrls:t})}},422186:(e,t,r)=>{"use strict";if(r.d(t,{B$:()=>m,Fs:()=>p,GF:()=>l,HO:()=>d,Kt:()=>h,QJ:()=>f}),5522==r.j)var n=r(988819);if(5522==r.j)var i=r(706698);const s=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,a=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,o=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,u=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function c(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function l({uri:e,gatewayUrls:t}){const r=o.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=c(t?.ipfs,"https://ipfs.io"),l=c(t?.arweave,"https://arweave.net"),d=e.match(s),{protocol:f,subpath:h,target:p,subtarget:m=""}=d?.groups||{},g="ipns:/"===f||"ipns/"===h,y="ipfs:/"===f||"ipfs/"===h||a.test(e);if(e.startsWith("http")&&!g&&!y){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((g||y)&&p)return{uri:`${n}/${g?"ipns":"ipfs"}/${p}${m}`,isOnChain:!1,isEncoded:!1};if("ar:/"===f&&p)return{uri:`${l}/${p}${m||""}`,isOnChain:!1,isEncoded:!1};let v=e.replace(u,"");if(v.startsWith("<svg")&&(v=`data:image/svg+xml;base64,${btoa(v)}`),v.startsWith("data:")||v.startsWith("{"))return{uri:v,isOnChain:!0,isEncoded:!1};throw new i.FK({uri:e})}function d(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new i.rO({data:e});return e.image||e.image_url||e.image_data}async function f({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then((e=>e.json()));return await h({gatewayUrls:e,uri:d(r)})}catch{throw new i.FK({uri:t})}}async function h({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=l({uri:t,gatewayUrls:e});if(n)return r;const s=await async function(e){try{const t=await fetch(e,{method:"HEAD"});if(200===t.status){const e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){return("object"!=typeof t||void 0===t.response)&&!!globalThis.hasOwnProperty("Image")&&new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}))}}(r);if(s)return r;throw new i.FK({uri:t})}function p(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,s]=t.split("/"),[a,o]=r.split(":"),[u,c]=n.split(":");if(!a||"eip155"!==a.toLowerCase())throw new i.Pm({reason:"Only EIP-155 supported"});if(!o)throw new i.Pm({reason:"Chain ID not found"});if(!c)throw new i.Pm({reason:"Contract address not found"});if(!s)throw new i.Pm({reason:"Token ID not found"});if(!u)throw new i.Pm({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:u.toLowerCase(),contractAddress:c,tokenID:s}}async function m(e,{nft:t}){if("erc721"===t.namespace)return(0,n.L)(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return(0,n.L)(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new i.sR({namespace:t.namespace})}},982150:(e,t,r)=>{"use strict";function n(e){return`[${e.slice(2)}]`}r.d(t,{s:()=>n})},811511:(e,t,r)=>{"use strict";if(r.d(t,{i:()=>i}),5522==r.j)var n=r(615102);function i(e){if(66!==e.length)return null;if(0!==e.indexOf("["))return null;if(65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return(0,n.v)(t)?t:null}},274526:(e,t,r)=>{"use strict";if(r.d(t,{c:()=>a}),5522==r.j)var n=r(421746);if(5522==r.j)var i=r(62027);if(5522==r.j)var s=r(847070);function a(e,t){if(!(e instanceof i.G))return!1;const r=e.walk((e=>e instanceof s.Lu));return r instanceof s.Lu&&("ResolverNotFound"===r.data?.errorName||("ResolverWildcardNotSupported"===r.data?.errorName||("ResolverNotContract"===r.data?.errorName||("ResolverError"===r.data?.errorName||("HttpError"===r.data?.errorName||(!!r.reason?.includes("Wildcard on non-extended resolvers is not supported")||"reverse"===t&&r.reason===n.$[50]))))))}},842216:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>o}),5522==r.j)var n=r(711187);if(5522==r.j)var i=r(992106);if(5522==r.j)var s=r(149550);if(5522==r.j)var a=r(811511);function o(e){const t=new Uint8Array(32).fill(0);return e?(0,a.i)(e)||(0,s.w)((0,n.qX)(e)):(0,i.ci)(t)}},575719:(e,t,r)=>{"use strict";if(r.d(t,{V:()=>u}),5522==r.j)var n=r(557040);if(5522==r.j)var i=r(711187);if(5522==r.j)var s=r(992106);if(5522==r.j)var a=r(149550);if(5522==r.j)var o=r(811511);function u(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,s.ci)(t);const r=e.split(".");for(let e=r.length-1;e>=0;e-=1){const s=(0,o.i)(r[e]),u=s?(0,i.O0)(s):(0,a.w)((0,i.qX)(r[e]),"bytes");t=(0,a.w)((0,n.zo)([t,u]),"bytes")}return(0,s.ci)(t)}},204318:(e,t,r)=>{"use strict";if(r.d(t,{T:()=>a}),5522==r.j)var n=r(711187);if(5522==r.j)var i=r(982150);if(5522==r.j)var s=r(842216);function a(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const r=new Uint8Array((0,n.qX)(t).byteLength+2);let a=0;const o=t.split(".");for(let e=0;e<o.length;e++){let t=(0,n.qX)(o[e]);t.byteLength>255&&(t=(0,n.qX)((0,i.s)((0,s.d)(o[e])))),r[a]=t.length,r.set(t,a+1),a+=t.length+1}return r.byteLength!==a+1?r.slice(0,a+1):r}},887502:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>a}),6338!=r.j)var n=r(847070);if(6338!=r.j)var i=r(326445);if(6338!=r.j)var s=r(587469);function a(e,{docsPath:t,...r}){const a=(()=>{const t=(0,s.k)(e,r);return t instanceof i.cj?e:t})();return new n.cg(a,{docsPath:t,...r})}},172365:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>u}),6338!=r.j)var n=r(457412);if(6338!=r.j)var i=r(62027);if(6338!=r.j)var s=r(847070);if(6338!=r.j)var a=r(339028);const o=3;function u(e,{abi:t,address:r,args:u,docsPath:c,functionName:l,sender:d}){const{code:f,data:h,message:p,shortMessage:m}=e instanceof s.VQ?e:e instanceof i.G?e.walk((e=>"data"in e))||e.walk():{},g=e instanceof n.wb?new s.Dk({functionName:l}):[o,a.XS.code].includes(f)&&(h||p||m)?new s.Lu({abi:t,data:"object"==typeof h?h.data:h,functionName:l,message:m??p}):e;return new s.uq(g,{abi:t,args:u,contractAddress:r,docsPath:c,functionName:l,sender:d})}},741428:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>a}),6338!=r.j)var n=r(643575);if(6338!=r.j)var i=r(326445);if(6338!=r.j)var s=r(587469);function a(e,{docsPath:t,...r}){const a=(()=>{const t=(0,s.k)(e,r);return t instanceof i.cj?e:t})();return new n.h(a,{docsPath:t,...r})}},587469:(e,t,r)=>{"use strict";if(r.d(t,{k:()=>s}),6338!=r.j)var n=r(62027);if(6338!=r.j)var i=r(326445);function s(e,t){const r=(e.details||"").toLowerCase(),s=e instanceof n.G?e.walk((e=>e.code===i.M_.code)):e;return s instanceof n.G?new i.M_({cause:e,message:s.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:t?.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:t?.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:t?.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:t?.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:t?.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.cj({cause:e})}},457658:(e,t,r)=>{"use strict";if(r.d(t,{$:()=>a}),5522==r.j)var n=r(326445);if(5522==r.j)var i=r(433639);if(5522==r.j)var s=r(587469);function a(e,{docsPath:t,...r}){const a=(()=>{const t=(0,s.k)(e,r);return t instanceof n.cj?e:t})();return new i.mk(a,{docsPath:t,...r})}},917211:(e,t,r)=>{"use strict";function n(e,{method:t}){const r={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:n,status:i,transport:s})=>{"success"===i&&t===e&&(r[n]=s.request)})),t=>r[t]||e.request}r.d(t,{g:()=>n})},43310:(e,t,r)=>{"use strict";if(r.d(t,{G:()=>a,Z:()=>s}),5522==r.j)var n=r(521366);if(6338!=r.j)var i=r(306073);function s(e){const t=e.transactions?.map((e=>"string"==typeof e?e:(0,i.Tr)(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const a=5522==r.j?(0,n.$)("block",s):null},61163:(e,t,r)=>{"use strict";function n(e,{format:t}){if(!t)return{};const r={};return function t(n){const i=Object.keys(n);for(const s of i)s in e&&(r[s]=e[s]),n[s]&&"object"==typeof n[s]&&!Array.isArray(n[s])&&t(n[s])}(t(e||{})),r}r.d(t,{K:()=>n})},909241:(e,t,r)=>{"use strict";function n(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}r.d(t,{D:()=>n})},521366:(e,t,r)=>{"use strict";function n(e,t){return({exclude:r,format:n})=>({exclude:r,format:e=>{const i=t(e);if(r)for(const e of r)delete i[e];return{...i,...n(e)}},type:e})}r.d(t,{$:()=>n})},953992:(e,t,r)=>{"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{U:()=>n})},537239:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>i}),5522==r.j)var n=r(295946);function i(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?(0,n.ly)(e.nonce):void 0,storageProof:e.storageProof?(t=e.storageProof,t.map((e=>({...e,value:BigInt(e.value)})))):void 0};var t}},306073:(e,t,r)=>{"use strict";if(r.d(t,{Tr:()=>a,c8:()=>s,y_:()=>o}),6338!=r.j)var n=r(295946);if(5522==r.j)var i=r(521366);const s={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function a(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?s[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}const o=5522==r.j?(0,i.$)("transaction",a):null},730866:(e,t,r)=>{"use strict";if(r.d(t,{dI:()=>c,fA:()=>u}),6338!=r.j)var n=r(295946);if(5522==r.j)var i=r(521366);if(6338!=r.j)var s=r(953992);if(6338!=r.j)var a=r(306073);const o={"0x0":"reverted","0x1":"success"};function u(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>(0,s.U)(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ly)(e.transactionIndex):null,status:e.status?o[e.status]:null,type:e.type?a.c8[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const c=5522==r.j?(0,i.$)("transactionReceipt",u):null},174688:(e,t,r)=>{"use strict";if(r.d(t,{tG:()=>s}),6338!=r.j)var n=r(992106);const i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function s(e){const t={};return void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map((e=>(0,n.ci)(e))):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}},993714:(e,t,r)=>{"use strict";function n(e,t,r){const n=e[t.name];if("function"==typeof n)return n;const i=e[r];return"function"==typeof i?i:r=>t(e,r)}r.d(t,{s:()=>n})},594655:(e,t,r)=>{"use strict";if(r.d(t,{D:()=>a}),6338!=r.j)var n=r(711187);if(6338!=r.j)var i=r(149550);const s=e=>(0,i.w)((0,n.O0)(e));function a(e){return s(e)}},149550:(e,t,r)=>{"use strict";if(r.d(t,{w:()=>o}),6338!=r.j)var n=r(798220);if(6338!=r.j)var i=r(615102);if(6338!=r.j)var s=r(711187);if(6338!=r.j)var a=r(992106);function o(e,t){const r=t||"hex",o=(0,n.fr)((0,i.v)(e,{strict:!1})?(0,s.O0)(e):e);return"bytes"===r?o:(0,a.NC)(o)}},598351:(e,t,r)=>{"use strict";if(r.d(t,{U:()=>i}),6338!=r.j)var n=r(62027);function i(e){let t=!0,r="",i=0,s="",a=!1;for(let n=0;n<e.length;n++){const o=e[n];if(["(",")",","].includes(o)&&(t=!0),"("===o&&i++,")"===o&&i--,t)if(0!==i)" "!==o?(s+=o,r+=o):","!==e[n-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===o&&["event","function",""].includes(s))s="";else if(s+=o,")"===o){a=!0;break}}if(!a)throw new n.G("Unable to normalize signature.");return s}},517378:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>o}),6338!=r.j)var n=r(246377);if(6338!=r.j)var i=r(615102);if(6338!=r.j)var s=r(711187);if(6338!=r.j)var a=r(992106);function o(e,t){const r=t||"hex",o=(0,n.J)((0,i.v)(e,{strict:!1})?(0,s.O0)(e):e);return"bytes"===r?o:(0,a.NC)(o)}},196005:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>i}),6338!=r.j)var n=r(467727);const i=6338!=r.j?n.r:null},458034:(e,t,r)=>{"use strict";if(r.d(t,{C:()=>s}),6338!=r.j)var n=r(803972);if(6338!=r.j)var i=r(467727);const s=e=>(0,n.tP)((0,i.r)(e),0,4)},818210:(e,t,r)=>{"use strict";if(r.d(t,{W:()=>s}),6338!=r.j)var n=r(399666);if(6338!=r.j)var i=r(598351);const s=e=>{const t="string"==typeof e?e:(0,n.t)(e);return(0,i.U)(t)}},467727:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>s}),6338!=r.j)var n=r(594655);if(6338!=r.j)var i=r(818210);function s(e){return(0,n.D)((0,i.W)(e))}},279773:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}},522514:(e,t,r)=>{"use strict";r.d(t,{N7:()=>a});const n=new Map,i=new Map;let s=0;function a(e,t,r){const a=++s,o=()=>n.get(e)||[],u=()=>{const t=i.get(e);1===o().length&&t&&t(),(()=>{const t=o();n.set(e,t.filter((e=>e.id!==a)))})()},c=o();if(n.set(e,[...c,{id:a,fns:t}]),c&&c.length>0)return u;const l={};for(const e in t)l[e]=(...t)=>{const r=o();if(0!==r.length)for(const n of r)n.fns[e]?.(...t)};const d=r(l);return"function"==typeof d&&i.set(e,d),u}},700023:(e,t,r)=>{"use strict";if(r.d(t,{$:()=>i}),5522==r.j)var n=r(762914);function i(e,{emitOnBegin:t,initialWaitTime:r,interval:i}){let s=!0;const a=()=>s=!1;return(async()=>{let o;t&&(o=await e({unpoll:a}));const u=await(r?.(o))??i;await(0,n.D)(u);const c=async()=>{s&&(await e({unpoll:a}),await(0,n.D)(i),c())};c()})(),a}},32357:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});const n=new Map;function i({fn:e,id:t,shouldSplitBatch:r,wait:i=0,sort:s}){const a=async()=>{const t=u();o();const r=t.map((({args:e})=>e));0!==r.length&&e(r).then((e=>{s&&Array.isArray(e)&&e.sort(s);for(let r=0;r<t.length;r++){const{pendingPromise:n}=t[r];n.resolve?.([e[r],e])}})).catch((e=>{for(let r=0;r<t.length;r++){const{pendingPromise:n}=t[r];n.reject?.(e)}}))},o=()=>n.delete(t),u=()=>n.get(t)||[],c=e=>n.set(t,[...u(),e]);return{flush:o,async schedule(e){const t={},n=new Promise(((e,r)=>{t.resolve=e,t.reject=r})),s=r?.([...u().map((({args:e})=>e)),e]);s&&a();return u().length>0?(c({args:e,pendingPromise:t}),n):(c({args:e,pendingPromise:t}),setTimeout(a,i),n)}}}},989329:(e,t,r)=>{"use strict";r.d(t,{DN:()=>s});const n=new Map,i=new Map;async function s(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const s=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,n),s=t(e,i);return{clear:()=>{r.clear(),s.clear()},promise:r,response:s}}(t),a=s.response.get();if(a&&r>0){if((new Date).getTime()-a.created.getTime()<r)return a.data}let o=s.promise.get();o||(o=e(),s.promise.set(o));try{const e=await o;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}},4072:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});const n=new(r(279773).k)(8192);function i(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(n.get(r))return n.get(r);const i=e().finally((()=>n.delete(r)));return n.set(r,i),i}},807760:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>i}),6338!=r.j)var n=r(762914);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:i=(()=>!0)}={}){return new Promise(((s,a)=>{const o=async({count:u=0}={})=>{try{const t=await e();s(t)}catch(e){if(u<r&&await i({count:u,error:e}))return(async({error:e})=>{const r="function"==typeof t?t({count:u,error:e}):t;r&&await(0,n.D)(r),o({count:u+1})})({error:e});a(e)}};o()}))}},860229:(e,t,r)=>{"use strict";function n(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise(((i,s)=>{(async()=>{let a;try{const o=new AbortController;r>0&&(a=setTimeout((()=>{n?o.abort():s(t)}),r)),i(await e({signal:o?.signal||null}))}catch(e){"AbortError"===e?.name&&s(t),s(e)}finally{clearTimeout(a)}})()}))}r.d(t,{F:()=>n})},724409:(e,t,r)=>{"use strict";r.d(t,{eL:()=>n,lh:()=>i});const n=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,i=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/},112e3:(e,t,r)=>{"use strict";if(r.d(t,{x:()=>o}),6338!=r.j)var n=r(878863);if(6338!=r.j)var i=r(860229);if(6338!=r.j)var s=r(796070);if(6338!=r.j)var a=r(618342);function o(e,t={}){return{async request(r){const{body:o,onRequest:u=t.onRequest,onResponse:c=t.onResponse,timeout:l=t.timeout??1e4}=r,d={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:f,method:h,signal:p}=d;try{const t=await(0,i.F)((async({signal:t})=>{const r={...d,body:Array.isArray(o)?(0,s.P)(o.map((e=>({jsonrpc:"2.0",id:e.id??a.d.take(),...e})))):(0,s.P)({jsonrpc:"2.0",id:o.id??a.d.take(),...o}),headers:{...f,"Content-Type":"application/json"},method:h||"POST",signal:p||(l>0?t:null)},n=new Request(e,r);u&&await u(n);return await fetch(e,r)}),{errorInstance:new n.W5({body:o,url:e}),timeout:l,signal:!0});let r;if(c&&await c(t),t.headers.get("Content-Type")?.startsWith("application/json")?r=await t.json():(r=await t.text(),r=JSON.parse(r||"{}")),!t.ok)throw new n.Gg({body:o,details:(0,s.P)(r.error)||t.statusText,headers:t.headers,status:t.status,url:e});return r}catch(t){if(t instanceof n.Gg)throw t;if(t instanceof n.W5)throw t;throw new n.Gg({body:o,cause:t,url:e})}}}}},618342:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});const n=6338!=r.j?{current:0,take(){return this.current++},reset(){this.current=0}}:null},343022:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>s}),5522==r.j)var n=r(149550);if(5522==r.j)var i=r(262138);function s(e,t){return(0,n.w)((0,i.B)(e),t)}},585946:(e,t,r)=>{"use strict";if(r.d(t,{Jv:()=>u}),5522==r.j)var n=r(145444);if(5522==r.j)var i=r(557040);if(5522==r.j)var s=r(992106);if(5522==r.j)var a=r(149550);if(5522==r.j)var o=r(810211);function u(e){const{domain:t={},message:r,primaryType:n}=e,s={EIP712Domain:(0,o.cj)({domain:t}),...e.types};(0,o.iC)({domain:t,message:r,primaryType:n,types:s});const u=["0x1901"];return t&&u.push(function({domain:e,types:t}){return c({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:s})),"EIP712Domain"!==n&&u.push(c({data:r,primaryType:n,types:s})),(0,a.w)((0,i.zo)(u))}function c({data:e,primaryType:t,types:r}){const n=l({data:e,primaryType:t,types:r});return(0,a.w)(n)}function l({data:e,primaryType:t,types:r}){const i=[{type:"bytes32"}],s=[d({primaryType:t,types:r})];for(const n of r[t]){const[t,a]=h({types:r,name:n.name,type:n.type,value:e[n.name]});i.push(t),s.push(a)}return(0,n.E)(i,s)}function d({primaryType:e,types:t}){const r=(0,s.NC)(function({primaryType:e,types:t}){let r="";const n=f({primaryType:e,types:t});n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i)r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return r}({primaryType:e,types:t}));return(0,a.w)(r)}function f({primaryType:e,types:t},r=new Set){const n=e.match(/^\w*/u),i=n?.[0];if(r.has(i)||void 0===t[i])return r;r.add(i);for(const e of t[i])f({primaryType:e.type,types:t},r);return r}function h({types:e,name:t,type:r,value:i}){if(void 0!==e[r])return[{type:"bytes32"},(0,a.w)(l({data:i,primaryType:r,types:e}))];if("bytes"===r){return i=`0x${(i.length%2?"0":"")+i.slice(2)}`,[{type:"bytes32"},(0,a.w)(i)]}if("string"===r)return[{type:"bytes32"},(0,a.w)((0,s.NC)(i))];if(r.lastIndexOf("]")===r.length-1){const s=r.slice(0,r.lastIndexOf("[")),o=i.map((r=>h({name:t,type:s,types:e,value:r})));return[{type:"bytes32"},(0,a.w)((0,n.E)(o.map((([e])=>e)),o.map((([,e])=>e))))]}return[{type:r},i]}},305852:(e,t,r)=>{"use strict";if(r.d(t,{Y:()=>s}),5522==r.j)var n=r(835816);if(5522==r.j)var i=r(803972);function s(e){return(0,i.p5)(e,-32)===n.R}},590374:(e,t,r)=>{"use strict";if(r.d(t,{R:()=>s}),5522==r.j)var n=r(815835);if(5522==r.j)var i=r(816531);async function s({hash:e,signature:t}){return(0,n.y)(await(0,i.L)({hash:e,signature:t}))}},816531:(e,t,r)=>{"use strict";if(r.d(t,{L:()=>a}),5522==r.j)var n=r(615102);if(5522==r.j)var i=r(295946);if(5522==r.j)var s=r(992106);async function a({hash:e,signature:t}){const a=(0,n.v)(e)?e:(0,s.NC)(e),{secp256k1:u}=await Promise.resolve().then(r.bind(r,177234));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:r,v:n,yParity:s}=t,a=o(Number(s??n));return new u.Signature((0,i.y_)(e),(0,i.y_)(r)).addRecoveryBit(a)}const e=(0,n.v)(t)?t:(0,s.NC)(t),r=o((0,i.ly)(`0x${e.slice(130)}`));return u.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(a.substring(2)).toHex(!1)}`}function o(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}},303406:(e,t,r)=>{"use strict";if(r.d(t,{Z:()=>a}),5522==r.j)var n=r(835816);if(5522==r.j)var i=r(145444);if(5522==r.j)var s=r(557040);function a(e){const{address:t,data:r,signature:a}=e;return(0,s.SM)([(0,i.E)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,a]),n.R])}},675171:(e,t,r)=>{"use strict";if(r.d(t,{V:()=>s}),5522==r.j)var n=r(177234);if(5522==r.j)var i=r(295946);function s({r:e,s:t,v:r,yParity:s}){const a=(()=>{if(0===s||1===s)return s;if(r&&(27n===r||28n===r||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new n.secp256k1.Signature((0,i.y_)(e),(0,i.y_)(t)).toCompactHex()}${0===a?"1b":"1c"}`}},262138:(e,t,r)=>{"use strict";if(r.d(t,{B:()=>o}),5522==r.j)var n=r(189327);if(5522==r.j)var i=r(557040);if(5522==r.j)var s=r(239135);if(5522==r.j)var a=r(992106);function o(e){const t="string"==typeof e?(0,a.$G)(e):"string"==typeof e.raw?e.raw:(0,a.ci)(e.raw),r=(0,a.$G)(`${n.k}${(0,s.d)(t)}`);return(0,i.zo)([r,t])}},357855:(e,t,r)=>{"use strict";function n(e){const{scheme:t,statement:r,...n}=e.match(i)?.groups??{},{chainId:a,expirationTime:o,issuedAt:u,notBefore:c,requestId:l,...d}=e.match(s)?.groups??{},f=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...d,...a?{chainId:Number(a)}:{},...o?{expirationTime:new Date(o)}:{},...u?{issuedAt:new Date(u)}:{},...c?{notBefore:new Date(c)}:{},...l?{requestId:l}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}r.d(t,{k:()=>n});const i=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,s=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/},515210:(e,t,r)=>{"use strict";if(r.d(t,{r:()=>i}),5522==r.j)var n=r(61228);function i(e){const{address:t,domain:r,message:i,nonce:s,scheme:a,time:o=new Date}=e;if(r&&i.domain!==r)return!1;if(s&&i.nonce!==s)return!1;if(a&&i.scheme!==a)return!1;if(i.expirationTime&&o>=i.expirationTime)return!1;if(i.notBefore&&o<i.notBefore)return!1;try{if(!i.address)return!1;if(t&&!(0,n.E)(i.address,t))return!1}catch{return!1}return!0}},750150:(e,t,r)=>{"use strict";if(r.d(t,{mF:()=>l}),6338!=r.j)var n=r(526087);if(6338!=r.j)var i=r(69760);if(6338!=r.j)var s=r(620443);if(6338!=r.j)var a=r(349321);if(6338!=r.j)var o=r(992106);function u(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:r})=>{if(66!==t.length)throw new i.W_({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new i.W_({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e}),{})}function c(e){const{balance:t,nonce:r,state:n,stateDiff:i,code:a}=e,c={};if(void 0!==a&&(c.code=a),void 0!==t&&(c.balance=(0,o.eC)(t)),void 0!==r&&(c.nonce=(0,o.eC)(r)),void 0!==n&&(c.state=u(n)),void 0!==i){if(c.state)throw new s.Z8;c.stateDiff=u(i)}return c}function l(e){if(!e)return;const t={};for(const{address:r,...i}of e){if(!(0,a.U)(r,{strict:!1}))throw new n.b({address:r});if(t[r])throw new s.Nc({address:r});t[r]=c(i)}return t}},796070:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});const n=(e,t,r)=>JSON.stringify(e,((e,r)=>{const n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n}),r)},547531:(e,t,r)=>{"use strict";if(r.d(t,{F:()=>u}),6338!=r.j)var n=r(914503);if(6338!=r.j)var i=r(526087);if(6338!=r.j)var s=r(326445);if(6338!=r.j)var a=r(433639);if(6338!=r.j)var o=r(349321);function u(e){const{account:t,gasPrice:r,maxFeePerGas:u,maxPriorityFeePerGas:c,to:l}=e,d=t?(0,n.T)(t):void 0;if(d&&!(0,o.U)(d.address))throw new i.b({address:d.address});if(l&&!(0,o.U)(l))throw new i.b({address:l});if(void 0!==r&&(void 0!==u||void 0!==c))throw new a.xY;if(u&&u>2n**256n-1n)throw new s.Hh({maxFeePerGas:u});if(c&&u&&c>u)throw new s.cs({maxFeePerGas:u,maxPriorityFeePerGas:c})}},661721:(e,t,r)=>{"use strict";if(r.d(t,{K6:()=>h,Re:()=>m,mJ:()=>p,vX:()=>g}),5522==r.j)var n=r(906458);if(5522==r.j)var i=r(526087);if(5522==r.j)var s=r(62027);if(5522==r.j)var a=r(66226);if(5522==r.j)var o=r(480377);if(5522==r.j)var u=r(326445);if(5522==r.j)var c=r(349321);if(5522==r.j)var l=r(239135);if(5522==r.j)var d=r(803972);if(5522==r.j)var f=r(295946);function h(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new a.RX;for(const e of t){const t=(0,l.d)(e),r=(0,f.ly)((0,d.tP)(e,0,1));if(32!==t)throw new a.xd({hash:e,size:t});if(r!==n.l)throw new a.cJ({hash:e,version:r})}}p(e)}function p(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=e;if(t<=0)throw new o.hJ({chainId:t});if(s&&!(0,c.U)(s))throw new i.b({address:s});if(n&&n>2n**256n-1n)throw new u.Hh({maxFeePerGas:n});if(r&&n&&r>n)throw new u.cs({maxFeePerGas:n,maxPriorityFeePerGas:r})}function m(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:l}=e;if(t<=0)throw new o.hJ({chainId:t});if(l&&!(0,c.U)(l))throw new i.b({address:l});if(r||a)throw new s.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new u.Hh({maxFeePerGas:n})}function g(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:a,to:l,accessList:d}=e;if(l&&!(0,c.U)(l))throw new i.b({address:l});if(void 0!==t&&t<=0)throw new o.hJ({chainId:t});if(r||a)throw new s.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new u.Hh({maxFeePerGas:n});if(d)throw new s.G("`accessList` is not a valid Legacy Transaction attribute.")}},682994:(e,t,r)=>{"use strict";if(r.d(t,{l:()=>i}),6338!=r.j)var n=r(433639);function i(e){if(e.type)return e.type;if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n.j3({transaction:e})}},501323:(e,t,r)=>{"use strict";if(r.d(t,{g:()=>a}),5522==r.j)var n=r(526087);if(5522==r.j)var i=r(433639);if(5522==r.j)var s=r(349321);function a(e){if(!e||0===e.length)return[];const t=[];for(let r=0;r<e.length;r++){const{address:a,storageKeys:o}=e[r];for(let e=0;e<o.length;e++)if(o[e].length-2!=64)throw new i.JC({storageKey:o[e]});if(!(0,s.U)(a,{strict:!1}))throw new n.b({address:a});t.push([a,o])}return t}},58346:(e,t,r)=>{"use strict";if(r.d(t,{D:()=>m}),5522==r.j)var n=r(433639);if(5522==r.j)var i=r(960169);if(5522==r.j)var s=r(4499);if(5522==r.j)var a=r(6527);if(5522==r.j)var o=r(177178);if(5522==r.j)var u=r(557040);if(5522==r.j)var c=r(861836);if(5522==r.j)var l=r(992106);if(5522==r.j)var d=r(507529);if(5522==r.j)var f=r(661721);if(5522==r.j)var h=r(682994);if(5522==r.j)var p=r(501323);function m(e,t){const r=(0,h.l)(e);return"eip1559"===r?function(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:a,maxFeePerGas:o,maxPriorityFeePerGas:c,accessList:h,data:m}=e;(0,f.mJ)(e);const y=(0,p.g)(h),v=[(0,l.NC)(r),i?(0,l.NC)(i):"0x",c?(0,l.NC)(c):"0x",o?(0,l.NC)(o):"0x",n?(0,l.NC)(n):"0x",s??"0x",a?(0,l.NC)(a):"0x",m??"0x",y,...g(e,t)];return(0,u.SM)(["0x02",(0,d.LV)(v)])}(e,t):"eip2930"===r?function(e,t){const{chainId:r,gas:n,data:i,nonce:s,to:a,value:o,accessList:c,gasPrice:h}=e;(0,f.Re)(e);const m=(0,p.g)(c),y=[(0,l.NC)(r),s?(0,l.NC)(s):"0x",h?(0,l.NC)(h):"0x",n?(0,l.NC)(n):"0x",a??"0x",o?(0,l.NC)(o):"0x",i??"0x",m,...g(e,t)];return(0,u.SM)(["0x01",(0,d.LV)(y)])}(e,t):"eip4844"===r?function(e,t){const{chainId:r,gas:n,nonce:c,to:h,value:m,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:w,accessList:b,data:E}=e;(0,f.K6)(e);let _=e.blobVersionedHashes,I=e.sidecars;if(e.blobs&&(void 0===_||void 0===I)){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>(0,l.ci)(e))),r=e.kzg,n=(0,i.P)({blobs:t,kzg:r});if(void 0===_&&(_=(0,a.C)({commitments:n})),void 0===I){const e=(0,s.y)({blobs:t,commitments:n,kzg:r});I=(0,o.j)({blobs:t,commitments:n,proofs:e})}}const S=(0,p.g)(b),O=[(0,l.NC)(r),c?(0,l.NC)(c):"0x",w?(0,l.NC)(w):"0x",v?(0,l.NC)(v):"0x",n?(0,l.NC)(n):"0x",h??"0x",m?(0,l.NC)(m):"0x",E??"0x",S,y?(0,l.NC)(y):"0x",_??[],...g(e,t)],T=[],N=[],A=[];if(I)for(let e=0;e<I.length;e++){const{blob:t,commitment:r,proof:n}=I[e];T.push(t),N.push(r),A.push(n)}return(0,u.SM)(["0x03",I?(0,d.LV)([O,T,N,A]):(0,d.LV)(O)])}(e,t):function(e,t){const{chainId:r=0,gas:i,data:s,nonce:a,to:o,value:u,gasPrice:c}=e;(0,f.vX)(e);let h=[a?(0,l.NC)(a):"0x",c?(0,l.NC)(c):"0x",i?(0,l.NC)(i):"0x",o??"0x",u?(0,l.NC)(u):"0x",s??"0x"];if(t){const e=(()=>{if(t.v>=35n){return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n)}if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new n.vl({v:t.v});return e})();h=[...h,(0,l.NC)(e),t.r,t.s]}else r>0&&(h=[...h,(0,l.NC)(r),"0x","0x"]);return(0,d.LV)(h)}(e,t)}function g(e,t){const r=t??e,{v:n,yParity:i}=r;if(void 0===r.r)return[];if(void 0===r.s)return[];if(void 0===n&&void 0===i)return[];const s=(0,c.f)(r.r),a=(0,c.f)(r.s);return["number"==typeof i?i?(0,l.NC)(1):"0x":0n===n?"0x":1n===n?(0,l.NC)(1):27n===n?"0x":(0,l.NC)(1),"0x00"===s?"0x":s,"0x00"===a?"0x":a]}},810211:(e,t,r)=>{"use strict";if(r.d(t,{H6:()=>l,cj:()=>f,iC:()=>d}),5522==r.j)var n=r(457412);if(5522==r.j)var i=r(526087);if(5522==r.j)var s=r(349321);if(5522==r.j)var a=r(239135);if(5522==r.j)var o=r(992106);if(5522==r.j)var u=r(724409);if(5522==r.j)var c=r(796070);function l(e){const{domain:t,message:r,primaryType:n,types:i}=e,s=(e,t)=>{const r={...t};for(const t of e){const{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},a=i.EIP712Domain&&t?s(i.EIP712Domain,t):{},o=(()=>{if("EIP712Domain"!==n)return s(i[n],r)})();return(0,c.P)({domain:a,message:o,primaryType:n,types:i})}function d(e){const{domain:t,message:r,primaryType:c,types:l}=e,d=(e,t)=>{for(const r of e){const{name:e,type:c}=r,f=t[e],h=c.match(u.lh);if(h&&("number"==typeof f||"bigint"==typeof f)){const[e,t,r]=h;(0,o.eC)(f,{signed:"int"===t,size:Number.parseInt(r)/8})}if("address"===c&&"string"==typeof f&&!(0,s.U)(f))throw new i.b({address:f});const p=c.match(u.eL);if(p){const[e,t]=p;if(t&&(0,a.d)(f)!==Number.parseInt(t))throw new n.KY({expectedSize:Number.parseInt(t),givenSize:(0,a.d)(f)})}const m=l[c];m&&d(m,f)}};l.EIP712Domain&&t&&d(l.EIP712Domain,t),"EIP712Domain"!==c&&d(l[c],r)}function f({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}},975632:(e,t,r)=>{"use strict";r.d(t,{h:()=>a});const n=256;let i,s=6338!=r.j?n:null;function a(e=11){if(!i||s+e>2*n){i="",s=0;for(let e=0;e<n;e++)i+=(256+256*Math.random()|0).toString(16).substring(1)}return i.substring(s,s+++e)}},839625:(e,t,r)=>{"use strict";if(r.d(t,{d:()=>s}),6338!=r.j)var n=r(384192);if(6338!=r.j)var i=r(815229);function s(e,t="wei"){return(0,i.b)(e,n.ez[t])}},267795:(e,t,r)=>{"use strict";if(r.d(t,{o:()=>s}),6338!=r.j)var n=r(384192);if(6338!=r.j)var i=r(815229);function s(e,t="wei"){return(0,i.b)(e,n.Zn[t])}},815229:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}r.d(t,{b:()=>n})},933305:(e,t,r)=>{"use strict";if(r.d(t,{f:()=>s}),5522==r.j)var n=r(384192);if(5522==r.j)var i=r(721803);function s(e,t="wei"){return(0,i.v)(e,n.ez[t])}},721803:(e,t,r)=>{"use strict";function n(e,t){let[r,n="0"]=e.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${n}`))&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){const[e,i,s]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],a=Math.round(Number(`${i}.${s}`));n=a>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${a}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${i?"-":""}${r}${n}`)}r.d(t,{v:()=>n})},762914:(e,t,r)=>{"use strict";async function n(e){return new Promise((t=>setTimeout(t,e)))}r.d(t,{D:()=>n})},223202:(e,t,r)=>{"use strict";if(r.d(t,{K:()=>u,M:()=>o}),5522==r.j)var n=r(852883);if(5522==r.j)var i=r(290696);const s=BigInt(0),a=BigInt(1);function o(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>s;)r&a&&(n=n.add(i)),i=i.double(),r>>=a;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),s=[];let a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:u}=n(t);let c=e.ZERO,l=e.BASE;const d=BigInt(2**t-1),f=2**t,h=BigInt(t);for(let e=0;e<o;e++){const t=e*u;let n=Number(s&d);s>>=h,n>u&&(n-=f,s+=a);const o=t,p=t+Math.abs(n)-1,m=e%2!=0,g=n<0;0===n?l=l.add(r(m,i[o])):c=c.add(r(g,i[p]))}return{p:c,f:l}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}function u(e){return(0,n.OP)(e.Fp),(0,i.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.kK)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},969876:(e,t,r)=>{"use strict";if(r.d(t,{V1:()=>d,i:()=>l}),5522==r.j)var n=r(852883);if(5522==r.j)var i=r(290696);const s=5522==r.j?i.bytesToNumberBE:null;function a(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function o(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function u(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function c(e,t,r){(0,i.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:c,k:l,m:d,hash:f,expand:h,DST:p}=r;(0,i.abytes)(e),u(t);const m="string"==typeof p?(0,i.utf8ToBytes)(p):p,g=c.toString(2).length,y=Math.ceil((g+l)/8),v=t*d*y;let w;if("xmd"===h)w=function(e,t,r,n){(0,i.abytes)(e),(0,i.abytes)(t),u(r),t.length>255&&(t=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:c}=n,l=Math.ceil(r/s);if(l>255)throw new Error("Invalid xmd length");const d=(0,i.concatBytes)(t,a(t.length,1)),f=a(0,c),h=a(r,2),p=new Array(l),m=n((0,i.concatBytes)(f,e,h,a(0,1),d));p[0]=n((0,i.concatBytes)(m,a(1,1),d));for(let e=1;e<=l;e++){const t=[o(m,p[e-1]),a(e+1,1),d];p[e]=n((0,i.concatBytes)(...t))}return(0,i.concatBytes)(...p).slice(0,r)}(e,m,v,f);else if("xof"===h)w=function(e,t,r,n,s){if((0,i.abytes)(e),(0,i.abytes)(t),u(r),t.length>255){const e=Math.ceil(2*n/8);t=s.create({dkLen:e}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(a(r,2)).update(t).update(a(t.length,1)).digest()}(e,m,v,l,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');w=e}const b=new Array(t);for(let e=0;e<t;e++){const t=new Array(d);for(let r=0;r<d;r++){const i=y*(r+e*d),a=w.subarray(i,i+y);t[r]=(0,n.wQ)(s(a),c)}b[e]=t}return b}function l(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,s,a,o]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(i,s),n=e.mul(n,e.div(a,o)),{x:t,y:n}}}function d(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=c(n,2,{...r,DST:r.DST,...i}),a=e.fromAffine(t(s[0])),o=e.fromAffine(t(s[1])),u=a.add(o).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){const s=c(n,1,{...r,DST:r.encodeDST,...i}),a=e.fromAffine(t(s[0])).clearCofactor();return a.assertValidity(),a}}}},852883:(e,t,r)=>{"use strict";if(r.d(t,{OP:()=>y,PS:()=>E,U_:()=>p,Us:()=>_,gN:()=>w,kK:()=>v,oA:()=>h,wQ:()=>d}),5522==r.j)var n=r(290696);const i=BigInt(0),s=BigInt(1),a=BigInt(2),o=BigInt(3),u=BigInt(4),c=BigInt(5),l=BigInt(8);BigInt(9),BigInt(16);function d(e,t){const r=e%t;return r>=i?r:t+r}function f(e,t,r){if(r<=i||t<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;t>i;)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function h(e,t,r){let n=e;for(;t-- >i;)n*=n,n%=r;return n}function p(e,t){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),n=t,a=i,o=s,u=s,c=i;for(;r!==i;){const e=n/r,t=n%r,i=a-u*e,s=o-c*e;n=r,r=t,a=u,o=c,u=i,c=s}if(n!==s)throw new Error("invert: does not exist");return d(a,t)}function m(e){if(e%u===o){const t=(e+s)/u;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%l===c){const t=(e-c)/l;return function(e,r){const n=e.mul(r,a),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,a),i),u=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(u),r))throw new Error("Cannot find square root");return u}}return function(e){const t=(e-s)/a;let r,n,o;for(r=e-s,n=0;r%a===i;r/=a,n++);for(o=a;o<e&&f(o,t,e)!==e-s;o++);if(1===n){const t=(e+s)/u;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const c=(r+s)/a;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,u=e.pow(e.mul(e.ONE,o),r),l=e.pow(i,c),d=e.pow(i,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(u,s<<BigInt(a-t-1));u=e.sqr(r),l=e.mul(l,r),d=e.mul(d,u),a=t}return l}}(e)}const g=5522==r.j?["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]:null;function y(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(e,t)}function v(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function w(e,t,r=!1,a={}){if(e<=i)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:u}=v(e,t);if(u>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=m(e),l=Object.freeze({ORDER:e,BITS:o,BYTES:u,MASK:(0,n.bitMask)(o),ZERO:i,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>function(e,t,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,a=t;for(;r>i;)r&s&&(n=e.mul(n,a)),a=e.sqr(a),r>>=s;return n}(l,e,t),div:(t,r)=>d(t*p(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>p(t,e),sqrt:a.sqrt||(e=>c(l,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.numberToBytesLE)(e,u):(0,n.numberToBytesBE)(e,u),fromBytes:e=>{if(e.length!==u)throw new Error(`Fp.fromBytes: expected ${u}, got ${e.length}`);return r?(0,n.bytesToNumberLE)(e):(0,n.bytesToNumberBE)(e)}});return Object.freeze(l)}function b(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function E(e){const t=b(e);return t+Math.ceil(t/2)}function _(e,t,r=!1){const i=e.length,a=b(t),o=E(t);if(i<16||i<o||i>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${i}`);const u=d(r?(0,n.bytesToNumberBE)(e):(0,n.bytesToNumberLE)(e),t-s)+s;return r?(0,n.numberToBytesLE)(u,a):(0,n.numberToBytesBE)(u,a)}},290696:(e,t,r)=>{"use strict";r.r(t),r.d(t,{abytes:()=>o,bitGet:()=>O,bitLen:()=>S,bitMask:()=>N,bitSet:()=>T,bytesToHex:()=>c,bytesToNumberBE:()=>m,bytesToNumberLE:()=>g,concatBytes:()=>E,createHmacDrbg:()=>C,ensureBytes:()=>b,equalBytes:()=>_,hexToBytes:()=>p,hexToNumber:()=>d,isBytes:()=>a,numberToBytesBE:()=>y,numberToBytesLE:()=>v,numberToHexUnpadded:()=>l,numberToVarBytesBE:()=>w,utf8ToBytes:()=>I,validateObject:()=>R});const n=BigInt(0),i=BigInt(1),s=BigInt(2);function a(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e){if(!a(e))throw new Error("Uint8Array expected")}const u=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function c(e){o(e);let t="";for(let r=0;r<e.length;r++)t+=u[e[r]];return t}function l(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function d(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f._A&&e<=f._F?e-(f._A-10):e>=f._a&&e<=f._f?e-(f._a-10):void 0}function p(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=h(e.charCodeAt(i)),s=h(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function m(e){return d(c(e))}function g(e){return o(e),d(c(Uint8Array.from(e).reverse()))}function y(e,t){return p(e.toString(16).padStart(2*t,"0"))}function v(e,t){return y(e,t).reverse()}function w(e){return p(l(e))}function b(e,t,r){let n;if("string"==typeof t)try{n=p(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!a(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function E(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];o(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function _(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function I(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function S(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}function O(e,t){return e>>BigInt(t)&i}function T(e,t,r){return e|(r?i:n)<<BigInt(t)}const N=e=>(s<<BigInt(e-1))-i,A=e=>new Uint8Array(e),P=e=>Uint8Array.from(e);function C(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=A(e),i=A(e),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),u=(e=A())=>{i=o(P([0]),e),n=o(),0!==e.length&&(i=o(P([1]),e),n=o())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=o();const t=n.slice();r.push(t),e+=n.length}return E(...r)};return(e,t)=>{let r;for(a(),u(e);!(r=t(c()));)u();return a(),r}}const x={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||a(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function R(e,t,r={}){const n=(t,r,n)=>{const i=x[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}},278494:(e,t,r)=>{"use strict";if(r.d(t,{L4:()=>g,e4:()=>m}),5522==r.j)var n=r(852883);var i=r(290696);if(5522==r.j)var s=r(223202);const{bytesToNumberBE:a,hexToBytes:o}=i,u={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=u;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:a(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=u,r="string"==typeof e?o(e):e;i.abytes(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=u._parseInt(r.subarray(2)),{d:c,l}=u._parseInt(a);if(l.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),u=r(a);return`30${r(a+s+4)}02${u}${i}02${o}${n}`}},c=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(3),h=BigInt(4);function p(e){const t=function(e){const t=(0,s.K)(e);i.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,n)=>{const s=t.toAffine();return i.concatBytes(Uint8Array.from([4]),r.toBytes(s.x),r.toBytes(s.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function u(e){const{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),u(t.Gx)))throw new Error("bad generator point: equation left != right");function d(e){return"bigint"==typeof e&&c<e&&e<t.n}function h(e){if(!d(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:a,n:o}=t;if(r&&"bigint"!=typeof e){if(i.isBytes(e)&&(e=i.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let u;try{u="bigint"==typeof e?e:i.bytesToNumberBE((0,i.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=n.wQ(u,o)),h(u),u}const m=new Map;function g(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?y.ZERO:new y(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(o((0,i.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(p(e))}_setWindowSize(e){this._WINDOW_SIZE=e,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=u(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,u=r.eql(r.mul(t,o),r.mul(s,i)),c=r.eql(r.mul(n,o),r.mul(a,i));return u&&c}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,f),{px:s,py:a,pz:o}=this;let u=r.ZERO,c=r.ZERO,l=r.ZERO,d=r.mul(s,s),h=r.mul(a,a),p=r.mul(o,o),m=r.mul(s,a);return m=r.add(m,m),l=r.mul(s,o),l=r.add(l,l),u=r.mul(e,l),c=r.mul(i,p),c=r.add(u,c),u=r.sub(h,c),c=r.add(h,c),c=r.mul(u,c),u=r.mul(m,u),l=r.mul(i,l),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,m),c=r.add(c,d),p=r.mul(a,o),p=r.add(p,p),d=r.mul(p,m),u=r.sub(u,d),l=r.mul(p,h),l=r.add(l,l),l=r.add(l,l),new y(u,c,l)}add(e){g(e);const{px:n,py:i,pz:s}=this,{px:a,py:o,pz:u}=e;let c=r.ZERO,l=r.ZERO,d=r.ZERO;const h=t.a,p=r.mul(t.b,f);let m=r.mul(n,a),v=r.mul(i,o),w=r.mul(s,u),b=r.add(n,i),E=r.add(a,o);b=r.mul(b,E),E=r.add(m,v),b=r.sub(b,E),E=r.add(n,s);let _=r.add(a,u);return E=r.mul(E,_),_=r.add(m,w),E=r.sub(E,_),_=r.add(i,s),c=r.add(o,u),_=r.mul(_,c),c=r.add(v,w),_=r.sub(_,c),d=r.mul(h,E),c=r.mul(p,w),d=r.add(c,d),c=r.sub(v,d),d=r.add(v,d),l=r.mul(c,d),v=r.add(m,m),v=r.add(v,m),w=r.mul(h,w),E=r.mul(p,E),v=r.add(v,w),w=r.sub(m,w),w=r.mul(h,w),E=r.add(E,w),m=r.mul(v,E),l=r.add(l,m),m=r.mul(_,E),c=r.mul(b,c),c=r.sub(c,m),m=r.mul(b,v),d=r.mul(_,d),d=r.add(d,m),new y(c,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return w.wNAFCached(this,m,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}))}multiplyUnsafe(e){const n=y.ZERO;if(e===c)return n;if(h(e),e===l)return this;const{endo:i}=t;if(!i)return w.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:o,k2:u}=i.splitScalar(e),d=n,f=n,p=this;for(;a>c||u>c;)a&l&&(d=d.add(p)),u&l&&(f=f.add(p)),p=p.double(),a>>=l,u>>=l;return s&&(d=d.negate()),o&&(f=f.negate()),f=new y(r.mul(f.px,i.beta),f.py,f.pz),d.add(f)}multiply(e){h(e);let n,i,s=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:o,k2:u}=a.splitScalar(s);let{p:c,f:l}=this.wNAF(t),{p:d,f}=this.wNAF(u);c=w.constTimeNegate(e,c),d=w.constTimeNegate(o,d),d=new y(r.mul(d.px,a.beta),d.py,d.pz),n=c.add(d),i=l.add(f)}else{const{p:e,f:t}=this.wNAF(s);n=e,i=t}return y.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=y.BASE,i=(e,t)=>t!==c&&t!==l&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){const{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));const a=r.mul(t,e),o=r.mul(n,e),u=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===l)return!0;if(r)return r(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===l?this:r?r(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(y,this,e)}toHex(e=!0){return i.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const v=t.nBitLength,w=(0,s.M)(y,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:p,weierstrassEquation:u,isWithinCurveOrder:d}}function m(e){const t=function(e){const t=(0,s.K)(e);return i.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:a}=t,o=r.BYTES+1,d=2*r.BYTES+1;function f(e){return n.wQ(e,a)}function h(e){return n.U_(e,a)}const{ProjectivePoint:m,normPrivateKeyToScalar:g,weierstrassEquation:y,isWithinCurveOrder:v}=p({...t,toBytes(e,t,n){const s=t.toAffine(),a=r.toBytes(s.x),o=i.concatBytes;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,r.toBytes(s.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===d&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${o} compressed bytes or ${d} uncompressed bytes`)}{const e=i.bytesToNumberBE(s);if(!(c<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=y(e);let o;try{o=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return 1==(1&n)!==((o&l)===l)&&(o=r.neg(o)),{x:e,y:o}}var a}}),w=e=>i.bytesToHex(i.numberToBytesBE(e,t.nByteLength));function b(e){return e>a>>l}const E=(e,t,r)=>i.bytesToNumberBE(e.slice(t,r));class _{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,i.ensureBytes)("compactSignature",e,2*r),new _(E(e,0,r),E(e,r,2*r))}static fromDER(e){const{r:t,s:r}=u.toSig((0,i.ensureBytes)("DER",e));return new _(t,r)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new _(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s,recovery:a}=this,o=T((0,i.ensureBytes)("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const u=2===a||3===a?n+t.n:n;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0==(1&a)?"02":"03",l=m.fromHex(c+w(u)),d=h(u),p=f(-o*d),g=f(s*d),y=m.BASE.multiplyAndAddUnsafe(l,p,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return i.hexToBytes(this.toDERHex())}toDERHex(){return u.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const I={isValidPrivateKey(e){try{return g(e),!0}catch(e){return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const e=n.PS(t.n);return n.Us(t.randomBytes(e),t.n)},precompute:(e=8,t=m.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=i.isBytes(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===o||n===d:r?n===2*o||n===2*d:e instanceof m}const O=t.bits2int||function(e){const r=i.bytesToNumberBE(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},T=t.bits2int_modN||function(e){return f(O(e))},N=i.bitMask(t.nBitLength);function A(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(c<=e&&e<N))throw new Error(`bigint expected < 2^${t.nBitLength}`);return i.numberToBytesBE(e,t.nByteLength)}function P(e,n,s=C){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:o}=t;let{lowS:u,prehash:d,extraEntropy:p}=s;null==u&&(u=!0),e=(0,i.ensureBytes)("msgHash",e),d&&(e=(0,i.ensureBytes)("prehashed msgHash",a(e)));const y=T(e),w=g(n),E=[A(w),A(y)];if(null!=p&&!1!==p){const e=!0===p?o(r.BYTES):p;E.push((0,i.ensureBytes)("extraEntropy",e))}const I=i.concatBytes(...E),S=y;return{seed:I,k2sig:function(e){const t=O(e);if(!v(t))return;const r=h(t),n=m.BASE.multiply(t).toAffine(),i=f(n.x);if(i===c)return;const s=f(r*f(S+i*w));if(s===c)return;let a=(n.x===i?0:2)|Number(n.y&l),o=s;return u&&b(s)&&(o=function(e){return b(e)?f(-e):e}(s),a^=1),new _(i,o,a)}}}const C={lowS:t.lowS,prehash:!1},x={lowS:t.lowS,prehash:!1};return m.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return m.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return m.fromHex(t).multiply(g(e)).toRawBytes(r)},sign:function(e,r,n=C){const{seed:s,k2sig:a}=P(e,r,n),o=t;return i.createHmacDrbg(o.hash.outputLen,o.nByteLength,o.hmac)(s,a)},verify:function(e,r,n,s=x){const a=e;if(r=(0,i.ensureBytes)("msgHash",r),n=(0,i.ensureBytes)("publicKey",n),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:o,prehash:c}=s;let l,d;try{if("string"==typeof a||i.isBytes(a))try{l=_.fromDER(a)}catch(e){if(!(e instanceof u.Err))throw e;l=_.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;l=new _(e,t)}}d=m.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(o&&l.hasHighS())return!1;c&&(r=t.hash(r));const{r:p,s:g}=l,y=T(r),v=h(g),w=f(y*v),b=f(p*v),E=m.BASE.multiplyAndAddUnsafe(d,w,b)?.toAffine();return!!E&&f(E.x)===p},ProjectivePoint:m,Signature:_,utils:I}}function g(e,t){if(n.OP(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=function(e,t){const r=e.ORDER;let n=c;for(let e=r-l;e%d===c;e/=d)n+=l;const i=n,s=d<<i-l-l,a=s*d,o=(r-l)/a,u=(o-l)/d,p=a-l,m=s,g=e.pow(t,o),y=e.pow(t,(o+l)/d);let v=(t,r)=>{let n=g,s=e.pow(r,p),a=e.sqr(s);a=e.mul(a,r);let o=e.mul(t,a);o=e.pow(o,u),o=e.mul(o,s),s=e.mul(o,r),a=e.mul(o,t);let c=e.mul(a,s);o=e.pow(c,m);let f=e.eql(o,e.ONE);s=e.mul(a,y),o=e.mul(c,n),a=e.cmov(s,a,f),c=e.cmov(o,c,f);for(let t=i;t>l;t--){let r=t-d;r=d<<r-l;let i=e.pow(c,r);const o=e.eql(i,e.ONE);s=e.mul(a,n),n=e.mul(n,n),i=e.mul(c,n),a=e.cmov(s,a,o),c=e.cmov(i,c,o)}return{isValid:f,value:a}};if(e.ORDER%h===f){const r=(e.ORDER-f)/h,n=e.sqrt(e.neg(t));v=(t,i)=>{let s=e.sqr(i);const a=e.mul(t,i);s=e.mul(s,a);let o=e.pow(s,r);o=e.mul(o,a);const u=e.mul(o,n),c=e.mul(e.sqr(o),i),l=e.eql(c,t);return{isValid:l,value:e.cmov(u,o,l)}}}return v}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,a,o,u,c,l,d;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),a=e.add(s,e.ONE),a=e.mul(a,t.B),o=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),o=e.mul(o,t.A),s=e.sqr(a),c=e.sqr(o),u=e.mul(c,t.A),s=e.add(s,u),s=e.mul(s,a),c=e.mul(c,o),u=e.mul(c,t.B),s=e.add(s,u),l=e.mul(i,a);const{isValid:f,value:h}=r(s,c);d=e.mul(i,n),d=e.mul(d,h),l=e.cmov(l,a,f),d=e.cmov(d,h,f);const p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,o),{x:l,y:d}}}},177234:(e,t,r)=>{"use strict";r.r(t),r.d(t,{encodeToCurve:()=>z,hashToCurve:()=>F,schnorr:()=>k,secp256k1:()=>v});var n=r(246377),i=r(692203),s=r(852883),a=r(278494),o=r(290696),u=r(969876),c=r(570473);function l(e){return{hash:e,hmac:(t,...r)=>(0,c.b)(e,t,(0,i.eV)(...r)),randomBytes:i.O6}}const d=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),f=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h=BigInt(1),p=BigInt(2),m=(e,t)=>(e+t/p)/t;function g(e){const t=d,r=BigInt(3),n=BigInt(6),i=BigInt(11),a=BigInt(22),o=BigInt(23),u=BigInt(44),c=BigInt(88),l=e*e*e%t,f=l*l*e%t,h=(0,s.oA)(f,r,t)*f%t,m=(0,s.oA)(h,r,t)*f%t,g=(0,s.oA)(m,p,t)*l%t,v=(0,s.oA)(g,i,t)*g%t,w=(0,s.oA)(v,a,t)*v%t,b=(0,s.oA)(w,u,t)*w%t,E=(0,s.oA)(b,c,t)*b%t,_=(0,s.oA)(E,u,t)*w%t,I=(0,s.oA)(_,r,t)*f%t,S=(0,s.oA)(I,o,t)*v%t,O=(0,s.oA)(S,n,t)*l%t,T=(0,s.oA)(O,p,t);if(!y.eql(y.sqr(T),e))throw new Error("Cannot find square root");return T}const y=(0,s.gN)(d,void 0,void 0,{sqrt:g}),v=function(e,t){const r=t=>(0,a.e4)({...e,...l(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:y,n:f,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=f,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-h*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=BigInt("0x100000000000000000000000000000000"),u=m(a*e,t),c=m(-n*e,t);let l=(0,s.wQ)(e-u*r-c*i,t),d=(0,s.wQ)(-u*n-c*a,t);const p=l>o,g=d>o;if(p&&(l=t-l),g&&(d=t-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:l,k2neg:g,k2:d}}}},n.J),w=BigInt(0),b=e=>"bigint"==typeof e&&w<e&&e<d,E=e=>"bigint"==typeof e&&w<e&&e<f,_={};function I(e,...t){let r=_[e];if(void 0===r){const t=(0,n.J)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,o.concatBytes)(t,t),_[e]=r}return(0,n.J)((0,o.concatBytes)(r,...t))}const S=e=>e.toRawBytes(!0).slice(1),O=e=>(0,o.numberToBytesBE)(e,32),T=e=>(0,s.wQ)(e,d),N=e=>(0,s.wQ)(e,f),A=v.ProjectivePoint,P=(e,t,r)=>A.BASE.multiplyAndAddUnsafe(e,t,r);function C(e){let t=v.utils.normPrivateKeyToScalar(e),r=A.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:N(-t),bytes:S(r)}}function x(e){if(!b(e))throw new Error("bad x: need 0 < x < p");const t=T(e*e);let r=g(T(t*e+BigInt(7)));r%p!==w&&(r=T(-r));const n=new A(e,r,h);return n.assertValidity(),n}function R(...e){return N((0,o.bytesToNumberBE)(I("BIP0340/challenge",...e)))}function M(e){return C(e).bytes}function j(e,t,r=(0,i.O6)(32)){const n=(0,o.ensureBytes)("message",e),{bytes:s,scalar:a}=C(t),u=(0,o.ensureBytes)("auxRand",r,32),c=O(a^(0,o.bytesToNumberBE)(I("BIP0340/aux",u))),l=I("BIP0340/nonce",c,s,n),d=N((0,o.bytesToNumberBE)(l));if(d===w)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=C(d),p=R(f,s,n),m=new Uint8Array(64);if(m.set(f,0),m.set(O(N(h+p*a)),32),!B(m,n,s))throw new Error("sign: Invalid signature produced");return m}function B(e,t,r){const n=(0,o.ensureBytes)("signature",e,64),i=(0,o.ensureBytes)("message",t),s=(0,o.ensureBytes)("publicKey",r,32);try{const e=x((0,o.bytesToNumberBE)(s)),t=(0,o.bytesToNumberBE)(n.subarray(0,32));if(!b(t))return!1;const r=(0,o.bytesToNumberBE)(n.subarray(32,64));if(!E(r))return!1;const a=R(O(t),S(e),i),u=P(e,r,N(-a));return!(!u||!u.hasEvenY()||u.toAffine().x!==t)}catch(e){return!1}}const k=(()=>({getPublicKey:M,sign:j,verify:B,utils:{randomPrivateKey:v.utils.randomPrivateKey,lift_x:x,pointToBytes:S,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:I,mod:s.wQ}}))(),D=(()=>(0,u.i)(y,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),U=(()=>(0,a.L4)(y,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:y.create(BigInt("-11"))}))(),L=(()=>(0,u.V1)(v.ProjectivePoint,(e=>{const{x:t,y:r}=U(y.create(e[0]));return D(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:y.ORDER,m:1,k:128,expand:"xmd",hash:n.J}))(),F=(()=>L.hashToCurve)(),z=(()=>L.encodeToCurve)()},541656:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function i(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function o(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{Gg:()=>a,J8:()=>o,Rx:()=>n,aI:()=>i,vp:()=>s})},215496:(e,t,r)=>{"use strict";if(r.d(t,{VR:()=>o,bc:()=>s,l3:()=>a}),6338!=r.j)var n=r(541656);if(6338!=r.j)var i=r(692203);const s=(e,t,r)=>e&t^~e&r,a=(e,t,r)=>e&t^e&r^t&r;class o extends(6338!=r.j?i.kb:null){constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.GL)(this.buffer)}update(e){(0,n.Gg)(this);const{view:t,buffer:r,blockLen:s}=this,a=(e=(0,i.O0)(e)).length;for(let n=0;n<a;){const o=Math.min(s-this.pos,a-n);if(o!==s)r.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.GL)(e);for(;s<=a-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.Gg)(this),(0,n.J8)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let e=o;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),u=n?4:0,c=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+c,o,n)}(r,s-8,BigInt(8*this.length),a),this.process(r,0);const u=(0,i.GL)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)u.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}},394838:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});const n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},570473:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var n=r(541656),i=r(692203);class s extends i.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.vp)(e);const r=(0,i.O0)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,n.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,n.Gg)(this),(0,n.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const a=(e,t,r)=>new s(e,t).update(r).digest();a.create=(e,t)=>new s(e,t)},246377:(e,t,r)=>{"use strict";if(r.d(t,{J:()=>c}),6338!=r.j)var n=r(215496);if(6338!=r.j)var i=r(692203);const s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint32Array(64);class u extends(6338!=r.j?n.VR:null){constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)o[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=o[e-15],r=o[e-2],n=(0,i.np)(t,7)^(0,i.np)(t,18)^t>>>3,s=(0,i.np)(r,17)^(0,i.np)(r,19)^r>>>10;o[e]=s+o[e-7]+n+o[e-16]|0}let{A:r,B:a,C:u,D:c,E:l,F:d,G:f,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.np)(l,6)^(0,i.np)(l,11)^(0,i.np)(l,25))+(0,n.bc)(l,d,f)+s[e]+o[e]|0,p=((0,i.np)(r,2)^(0,i.np)(r,13)^(0,i.np)(r,22))+(0,n.l3)(r,a,u)|0;h=f,f=d,d=l,l=c+t|0,c=u,u=a,a=r,r=t+p|0}r=r+this.A|0,a=a+this.B|0,u=u+this.C|0,c=c+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,a,u,c,l,d,f,h)}roundClean(){o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const c=6338!=r.j?(0,i.hE)((()=>new u)):null},798220:(e,t,r)=>{"use strict";r.d(t,{fr:()=>A});var n=r(541656);const i=BigInt(2**32-1),s=BigInt(32);function a(e,t=!1){return t?{h:Number(e&i),l:Number(e>>s&i)}:{h:0|Number(e>>s&i),l:0|Number(e&i)}}function o(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=a(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const u=(e,t,r)=>e<<r|t>>>32-r,c=(e,t,r)=>t<<r|e>>>32-r,l=(e,t,r)=>t<<r-32|e>>>64-r,d=(e,t,r)=>e<<r-32|t>>>64-r;var f=r(692203);const h=[],p=[],m=[],g=BigInt(0),y=BigInt(1),v=BigInt(2),w=BigInt(7),b=BigInt(256),E=BigInt(113);for(let e=0,t=y,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],h.push(2*(5*n+r)),p.push((e+1)*(e+2)/2%64);let i=g;for(let e=0;e<7;e++)t=(t<<y^(t>>w)*E)%b,t&v&&(i^=y<<(y<<BigInt(e))-y);m.push(i)}const[_,I]=o(m,!0),S=(e,t,r)=>r>32?l(e,t,r):u(e,t,r),O=(e,t,r)=>r>32?d(e,t,r):c(e,t,r);class T extends f.kb{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,f.Jq)(this.state)}keccak(){f.iA||(0,f.l1)(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=S(s,a,1)^r[n],u=O(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=p[r],s=S(t,i,n),a=O(t,i,n),o=h[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=_[n],e[1]^=I[n]}r.fill(0)}(this.state32,this.rounds),f.iA||(0,f.l1)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.Gg)(this);const{blockLen:t,state:r}=this,i=(e=(0,f.O0)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.Gg)(this,!1),(0,n.aI)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.Rx)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.J8)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new T(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const N=(e,t,r)=>(0,f.hE)((()=>new T(t,e,r))),A=N(1,136,32)},692203:(e,t,r)=>{"use strict";if(r.d(t,{GL:()=>a,Jq:()=>s,O0:()=>d,O6:()=>m,eV:()=>f,hE:()=>p,iA:()=>u,kb:()=>h,l1:()=>l,np:()=>o}),5522==r.j)var n=r(394838);if(6338!=r.j)var i=r(541656);const s=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),a=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),o=(e,t)=>e<<32-t|e>>>t,u=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],c=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function l(e){for(let t=0;t<e.length;t++)e[t]=c(e[t])}function d(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,i.aI)(e),e}function f(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.aI)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class h{clone(){return this._cloneInto()}}function p(e){const t=t=>e().update(d(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function m(e=32){if(n.e&&"function"==typeof n.e.getRandomValues)return n.e.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},950304:(e,t,r)=>{"use strict";if(r.d(t,{G:()=>i}),6338!=r.j)var n=r(769734);class i extends Error{constructor(e,t={}){const r=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,s=t.cause instanceof i&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${n.i}`].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=s,this.metaMessages=t.metaMessages,this.shortMessage=e}}},356604:(e,t,r)=>{"use strict";if(r.d(t,{F:()=>i,Hk:()=>s}),6338!=r.j)var n=r(950304);class i extends(6338!=r.j?n.G:null){constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class s extends(6338!=r.j?n.G:null){constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},70692:(e,t,r)=>{"use strict";if(r.d(t,{TT:()=>s,_D:()=>o,aZ:()=>u,jO:()=>i,zL:()=>a}),6338!=r.j)var n=r(950304);class i extends(6338!=r.j?n.G:null){constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class s extends(6338!=r.j?n.G:null){constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class a extends(6338!=r.j?n.G:null){constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class o extends(6338!=r.j?n.G:null){constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class u extends(6338!=r.j?n.G:null){constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},1923:(e,t,r)=>{"use strict";if(r.d(t,{H6:()=>a,Vs:()=>s,wn:()=>i}),6338!=r.j)var n=r(950304);class i extends(6338!=r.j?n.G:null){constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s extends(6338!=r.j?n.G:null){constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class a extends(6338!=r.j?n.G:null){constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},853865:(e,t,r)=>{"use strict";if(r.d(t,{S:()=>i}),6338!=r.j)var n=r(950304);class i extends(6338!=r.j?n.G:null){constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}},9682:(e,t,r)=>{"use strict";if(r.d(t,{x:()=>i}),6338!=r.j)var n=r(950304);class i extends(6338!=r.j?n.G:null){constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}},399666:(e,t,r)=>{"use strict";if(r.d(t,{t:()=>i}),6338!=r.j)var n=r(8446);function i(e){return"function"===e.type?`function ${e.name}(${(0,n.P)(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${(0,n.P)(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${(0,n.P)(e.inputs)})`:"error"===e.type?`error ${e.name}(${(0,n.P)(e.inputs)})`:"constructor"===e.type?`constructor(${(0,n.P)(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback()":"receive() external payable"}},491229:(e,t,r)=>{"use strict";if(r.d(t,{n:()=>s}),6338!=r.j)var n=r(784520);const i=/^tuple(?<array>(\[(\d*)\])*)$/;function s(e){let t=e.type;if(i.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let n=0;n<r;n++){t+=s(e.components[n]),n<r-1&&(t+=", ")}const a=(0,n.Zw)(i,e.type);return t+=`)${a?.array??""}`,s({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}},8446:(e,t,r)=>{"use strict";if(r.d(t,{P:()=>i}),6338!=r.j)var n=r(491229);function i(e){let t="";const r=e.length;for(let i=0;i<r;i++){const s=e[i];t+=(0,n.n)(s),i!==r-1&&(t+=", ")}return t}},675247:(e,t,r)=>{"use strict";if(r.d(t,{V:()=>a}),6338!=r.j)var n=r(331134);if(6338!=r.j)var i=r(57375);if(6338!=r.j)var s=r(243690);function a(e){const t=(0,i.D)(e),r=[],a=e.length;for(let i=0;i<a;i++){const a=e[i];(0,n.N0)(a)||r.push((0,s.cK)(a,t))}return r}},620228:(e,t,r)=>{"use strict";function n(e,t){return t?`${t}:${e}`:e}r.d(t,{C:()=>n,I:()=>i});const i=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])},331134:(e,t,r)=>{"use strict";if(r.d(t,{Dt:()=>S,EC:()=>b,N0:()=>p,PI:()=>v,QM:()=>_,SA:()=>a,Wg:()=>I,_c:()=>s,a4:()=>y,c3:()=>u,g1:()=>m,l$:()=>f,rh:()=>d,wA:()=>c}),6338!=r.j)var n=r(784520);const i=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function s(e){return i.test(e)}function a(e){return(0,n.Zw)(i,e)}const o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function u(e){return o.test(e)}function c(e){return(0,n.Zw)(o,e)}const l=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function d(e){return l.test(e)}function f(e){return(0,n.Zw)(l,e)}const h=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function p(e){return h.test(e)}function m(e){return(0,n.Zw)(h,e)}const g=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y(e){return g.test(e)}function v(e){return(0,n.Zw)(g,e)}const w=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function b(e){return w.test(e)}const E=/^receive\(\) external payable$/;function _(e){return E.test(e)}new Set(["memory","indexed","storage","calldata"]);const I=new Set(["indexed"]),S=new Set(["calldata","memory","storage"])},57375:(e,t,r)=>{"use strict";if(r.d(t,{D:()=>l}),6338!=r.j)var n=r(784520);if(6338!=r.j)var i=r(356604);if(6338!=r.j)var s=r(70692);if(6338!=r.j)var a=r(1923);if(6338!=r.j)var o=r(9682);if(6338!=r.j)var u=r(331134);if(6338!=r.j)var c=r(243690);function l(e){const t={},r=e.length;for(let n=0;n<r;n++){const r=e[n];if(!(0,u.N0)(r))continue;const i=(0,u.g1)(r);if(!i)throw new a.wn({signature:r,type:"struct"});const s=i.properties.split(";"),o=[],l=s.length;for(let e=0;e<l;e++){const t=s[e].trim();if(!t)continue;const r=(0,c.C$)(t,{type:"struct"});o.push(r)}if(!o.length)throw new a.H6({signature:r});t[i.name]=o}const n={},i=Object.entries(t),s=i.length;for(let e=0;e<s;e++){const[r,s]=i[e];n[r]=f(s,t)}return n}const d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function f(e,t,r=new Set){const a=[],u=e.length;for(let l=0;l<u;l++){const u=e[l];if(n.cN.test(u.type))a.push(u);else{const e=(0,n.Zw)(d,u.type);if(!e?.type)throw new s.aZ({abiParameter:u});const{array:l,type:h}=e;if(h in t){if(r.has(h))throw new o.x({type:h});a.push({...u,type:`tuple${l??""}`,components:f(t[h]??[],t,new Set([...r,h]))})}else{if(!(0,c.uN)(h))throw new i.F({type:h});a.push(u)}}}return a}},243690:(e,t,r)=>{"use strict";if(r.d(t,{C$:()=>p,cK:()=>l,uN:()=>g}),6338!=r.j)var n=r(784520);if(6338!=r.j)var i=r(356604);if(6338!=r.j)var s=r(70692);if(6338!=r.j)var a=r(1923);if(6338!=r.j)var o=r(853865);if(6338!=r.j)var u=r(620228);if(6338!=r.j)var c=r(331134);function l(e,t={}){if((0,c.rh)(e)){const r=(0,c.l$)(e);if(!r)throw new a.wn({signature:e,type:"function"});const n=m(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(p(n[e],{modifiers:c.Dt,structs:t,type:"function"}));const o=[];if(r.returns){const e=m(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(p(e[r],{modifiers:c.Dt,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}if((0,c.c3)(e)){const r=(0,c.wA)(e);if(!r)throw new a.wn({signature:e,type:"event"});const n=m(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(p(n[e],{modifiers:c.Wg,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}if((0,c._c)(e)){const r=(0,c.SA)(e);if(!r)throw new a.wn({signature:e,type:"error"});const n=m(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(p(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}if((0,c.a4)(e)){const r=(0,c.PI)(e);if(!r)throw new a.wn({signature:e,type:"constructor"});const n=m(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(p(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}if((0,c.EC)(e))return{type:"fallback"};if((0,c.QM)(e))return{type:"receive",stateMutability:"payable"};throw new a.Vs({signature:e})}const d=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,h=/^u?int$/;function p(e,t){const r=(0,u.C)(e,t?.type);if(u.I.has(r))return u.I.get(r);const a=n.cN.test(e),o=(0,n.Zw)(a?f:d,e);if(!o)throw new s.jO({param:e});if(o.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||n.eL.test(e)||n.lh.test(e)||y.test(e)}(o.name))throw new s.TT({param:e,name:o.name});const l=o.name?{name:o.name}:{},v="indexed"===o.modifier?{indexed:!0}:{},w=t?.structs??{};let b,E={};if(a){b="tuple";const e=m(o.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(p(e[n],{structs:w}));E={components:t}}else if(o.type in w)b="tuple",E={components:w[o.type]};else if(h.test(o.type))b=`${o.type}256`;else if(b=o.type,"struct"!==t?.type&&!g(b))throw new i.Hk({type:b});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new s.zL({param:e,type:t?.type,modifier:o.modifier});if(c.Dt.has(o.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(b,!!o.array))throw new s._D({param:e,type:t?.type,modifier:o.modifier})}const _={type:`${b}${o.array??""}`,...l,...v,...E};return u.I.set(r,_),_}function m(e,t=[],r="",n=0){const i=e.trim().length;for(let s=0;s<i;s++){const i=e[s],a=e.slice(s+1);switch(i){case",":return 0===n?m(a,[...t,r.trim()]):m(a,t,`${r}${i}`,n);case"(":return m(a,t,`${r}${i}`,n+1);case")":return m(a,t,`${r}${i}`,n-1);default:return m(a,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new o.S({current:r,depth:n});return t.push(r.trim()),t}function g(e){return"address"===e||"bool"===e||"function"===e||"string"===e||n.eL.test(e)||n.lh.test(e)}const y=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},784520:(e,t,r)=>{"use strict";function n(e,t){const r=e.exec(t);return r?.groups}r.d(t,{Zw:()=>n,cN:()=>a,eL:()=>i,lh:()=>s});const i=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,s=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a=/^\(.+?\).*?$/},769734:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});const n="1.0.5"}}]);
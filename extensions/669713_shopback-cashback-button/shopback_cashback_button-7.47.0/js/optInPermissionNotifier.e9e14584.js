"use strict";(self.webpackChunkwhale_ext=self.webpackChunkwhale_ext||[]).push([["optInPermissionNotifier"],{21211:
/*!*******************************************!*\
  !*** ./src/background/events/ExtEvent.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{I:()=>u});var r=n(/*! @babel/runtime/helpers/classCallCheck */34575),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! ../../shared/loggers/logger */10360),u=function(){function t(e,n){o()(this,t),this.name=e,this.observers=null!=n?n:[]}return a()(t,[{key:"addObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){this.observers=this.observers.filter((function(e){return e!==t}))}},{key:"notify",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];c.ZP.info(t,"EventManager ".concat(this.name," tabId:").concat((null===(e=r[0])||void 0===e?void 0:e.tabId)||"N/A"," data:"),r),this.observers.forEach((function(e){e.apply(void 0,[t].concat(r))}))}}]),t}()},3147:
/*!***************************************!*\
  !*** ./src/background/events/tabs.js ***!
  \***************************************/(t,e,n)=>{n.d(e,{ul:()=>A,ij:()=>R,xB:()=>j,ZP:()=>K});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),u=n.n(c),s=n(/*! lodash/get */27361),l=n.n(s),f=n(/*! ../features/iconButton/iconStatus */58483),p=n(/*! ../features/permission */63347),h=n(/*! ../features/tabUpdater */65311),d=n(/*! ../../shared/actionCreators/affiliateTopology */86329),v=n(/*! ../../shared/actionCreators/amsNotifier */23028),g=n(/*! ../../shared/actionCreators/merchants */56033),y=n(/*! ../../shared/actionCreators/tabs */88213),m=n(/*! ../../shared/actionCreators/taoBao */11713),E=n(/*! ../../shared/constants */62620),b=n(/*! ../../shared/constants/taobao */91369),_=n(/*! ../../shared/loggers/logger */10360),w=n(/*! ../../shared/selectors/activation */83582),T=n(/*! ../../shared/selectors/amsNotifier */68093),O=n(/*! ../../shared/selectors/merchants */26846),x=n(/*! ../../shared/selectors/settings */89489),I=n(/*! ../../shared/selectors/settings/serviceEnableCountry */40062),S=n(/*! ../../shared/selectors/settings/userPreferences */20045),P=n(/*! ../../shared/selectors/tabs */45887),k=n(/*! ../../shared/selectors/taoBao */11775),C=n(/*! ./ExtEvent */21211);function N(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */N=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new I(o||[]);return r(a,"_invoke",{value:w(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==e&&n.call(m,a)&&(g=m);var E=v.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function w(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=T(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function T(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=v,r(E,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},b(_.prototype),s(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var A=new C.I("onTabUrlChange"),L=new C.I("onTabUpdateOrTabFocus"),R="URL_CHANGE";A.addObserver((function(t,e){var n=e.tabId,r=e.url,o=t.getState();browser.tabs.sendMessage(n,{action:R,tabId:n,url:r}).catch((function(t){t.message.includes("Receiving end does not exist")||_.ZP.error(o,t.message)}))}));var j=function(t){return function(){var e=u()(N().mark((function e(n){var r,o,i,c,u,s,f,p,h,d,y;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.ZP.info(t,"CHECK_ACTIVATED_STATE"),e.next=3,browser.tabs.query({active:!0,currentWindow:!0});case 3:if(r=e.sent,o=a()(r,1),i=o[0],!(n&&(0,I.Cq)(t.getState())&&(0,T.ko)(t.getState(),{url:i.url}))){e.next=13;break}return c=(0,T.hc)(t.getState(),{url:i.url,merchant:n}),u=c.sellerId,s=null==n?void 0:n.eOutletId,f=l()(t.getState().amsNotifier.settings,[s,u],{}).activatedAt,p=E.Dwi,f&&(new Date).getTime()-f>p&&(_.ZP.warn(t,"deactivate seller id: ".concat(u)),t.dispatch((0,v.Mq)({eOutletId:s,sellerId:u}))),e.abrupt("return",Promise.resolve());case 13:return n&&(h=t.getState(),(0,w.GM)(h,{merchant:n})&&(d=n.isTaobao?E._lx:E.BFS,(y=(0,w.B4)(h,{merchant:n}))&&(new Date).getTime()-y>d&&(_.ZP.warn(t,"deactivate merchant id: ".concat(n.merchantId)),t.dispatch((0,g.JA)(n))))),e.abrupt("return",Promise.resolve());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(t,e,n,r){_.ZP.info(t,"DEACTIVATE_AND_REFRESH_TAOBAO_PRODUCT");var o=e[n].activatedAt;o&&(new Date).getTime()-o>r&&(_.ZP.warn(t,"deactivate taobao product id: ".concat(n)),t.dispatch((0,m.cK)(n)),t.dispatch((0,m.gh)({productId:n,from:b.Uc})))},U=function(t){return function(e,n){_.ZP.info(t,"CHECK_TAOBAO_PRODUCT_ACTIVATE_STATE");var r=t.getState();if(e&&e.isTaobao){var o=(0,k.Ne)(r),i=(0,k.Vj)(r),a=i.timeToDeactivateTaoBaoProduct,c=i.standDownTaoBaoNotifierTimerMs;if((0,k.Dp)(r,{url:n})){var u=(0,k.n2)(r,{url:n}),s=(0,k.n6)(r);_.ZP.info(t,"hit taobao product page: ".concat(n)),_.ZP.info(t,"taobao product id: ".concat(u)),o[u]&&F(t,o,u,a),s&&(new Date).getTime()-s>c&&t.dispatch((0,m.Xq)())}else(0,k.BJ)(r,{url:n})&&(_.ZP.info(t,"hit taobao shopping cart page: ".concat(n)),Object.keys(o).forEach((function(e){F(t,o,e,a)})))}return Promise.resolve()}},D=function(){var t=u()(N().mark((function t(e){var n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),!(0,x.wJ)(n)){t.next=5;break}return(0,f.v0)(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var t=u()(N().mark((function t(e){var n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getState(),(0,S.g6)(n)){t.next=5;break}return(0,f.ki)(),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(t,e){return function(n){_.ZP.info(t,"CHECK_CLOSE_TAB");var r=t.getState(),o=(0,P.k3)(r,{tabId:e}),i=(0,O.Lz)(r,{id:o}),a=(0,w.GM)(r,{merchant:i});i&&a&&(0,P.ed)(r,{tabId:e})&&((0,f.eQ)(t,e)(i,n),t.dispatch((0,y.on)({tabId:e})))}},B=function(){var t=u()(N().mark((function t(e){return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:if(t.sent){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,D(e);case 6:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=u()(N().mark((function t(e,n,r){var o,i,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,P.k3)(o,{tabId:r}),a=(0,O.Lz)(o,{id:i}),t.next=5,(0,p.J)(e)(a);case 5:return t.next=7,j(e)(a);case 7:return t.next=9,U(e)(a,n);case 9:L.notify(e,{tabId:r,url:n,merchant:a}),(0,f.eQ)(e,r)(a,n);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),X=function(){var t=u()(N().mark((function t(e,n){var r,o,i;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getState(),(0,P.Lo)(r,{tabId:n})){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return t.next=5,browser.tabs.get(n);case 5:return o=t.sent,i=o.url,t.abrupt("return",(0,h.Vd)(e,n,i));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Z={handleActivated:function(t){return function(){var e=u()(N().mark((function e(n){var r,o,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.tabId,e.prev=1,o=t.getState(),i=(0,P.jv)(o,{tabId:r}),e.next=6,B(t);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,X(t,r);case 10:return e.next=12,G(t,i,r);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),_.ZP.error(t,e.t0.stack);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},handleCreated:function(t){return function(e){var n=e.id,r=e.openerTabId;(0,h.T3)(t,{tabId:n,openerTabId:r})}},handleUpdated:function(t){return function(){var e=u()(N().mark((function e(n,r){var o,i,c,u,s,l,f;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=(o=r||{}).status,!(c=o.url)){e.next=8;break}if(u=t.getState(),(0,P.jv)(u,{tabId:n})===c){e.next=8;break}return e.next=8,(0,h.Vd)(t,n,c);case 8:if("loading"!==i){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,B(t);case 12:if(e.sent){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,browser.tabs.query({currentWindow:!0,active:!0});case 16:if(s=e.sent,l=a()(s,1),f=l[0]){e.next=21;break}return e.abrupt("return");case 21:if(H(t,n)(f.url),n!==f.id){e.next=25;break}return e.next=25,G(t,f.url,n);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),_.ZP.error(t,e.t0.stack);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})));return function(t,n){return e.apply(this,arguments)}}()},handleRemove:function(t){return function(e){t.dispatch((0,d.br)(e)),t.dispatch((0,y.on)({tabId:e}))}}};const K=Z},58483:
/*!**********************************************************************!*\
  !*** ./src/background/features/iconButton/iconStatus.js + 1 modules ***!
  \**********************************************************************/(t,e,n)=>{n.d(e,{Nw:()=>C,ki:()=>k,eQ:()=>N,v0:()=>P});var r=n(90623),o=n(10360),i=n(83582),a=n(6688),c=n(96965),u=n(26846),s=n(67522),l=n(40062),f=n(7358),p=n(75611),h=n(50008),d=n.n(h),v=n(48926),g=n.n(v);function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */y=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function v(){}var g={};u(g,i,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,i)&&(g=E);var b=v.prototype=p.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var u=l(t[r],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==d()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var m,E=["images/icon/blink/icon_00.png","images/icon/blink/icon_01.png","images/icon/blink/icon_02.png","images/icon/blink/icon_03.png","images/icon/blink/icon_04.png","images/icon/blink/icon_05.png","images/icon/blink/icon_06.png","images/icon/blink/icon_07.png","images/icon/blink/icon_08.png","images/icon/blink/icon_09.png","images/icon/blink/icon_10.png","images/icon/blink/icon_11.png","images/icon/blink/icon_12.png","images/icon/blink/icon_13.png","images/icon/blink/icon_14.png","images/icon/blink/icon_15.png","images/icon/blink/icon_16.png","images/icon/blink/icon_17.png","images/icon/blink/icon_18.png","images/icon/blink/icon_19.png","images/icon/blink/icon_20.png","images/icon/blink/icon_21.png","images/icon/blink/icon_22.png","images/icon/blink/icon_23.png","images/icon/blink/icon_24.png","images/icon/blink/icon_25.png","images/icon/blink/icon_26.png","images/icon/blink/icon_27.png","images/icon/blink/icon_28.png","images/icon/blink/icon_29.png","images/icon/blink/icon_30.png","images/icon/blink/icon_31.png","images/icon/blink/icon_32.png","images/icon/blink/icon_33.png","images/icon/blink/icon_34.png","images/icon/blink/icon_35.png","images/icon/blink/icon_36.png","images/icon/blink/icon_37.png","images/icon/blink/icon_38.png","images/icon/blink/icon_39.png"],b=["images/icon/compliance/Friendly_00.png","images/icon/compliance/Friendly_01.png","images/icon/compliance/Friendly_02.png","images/icon/compliance/Friendly_03.png","images/icon/compliance/Friendly_04.png","images/icon/compliance/Friendly_05.png","images/icon/compliance/Friendly_06.png","images/icon/compliance/Friendly_07.png","images/icon/compliance/Friendly_08.png","images/icon/compliance/Friendly_09.png","images/icon/compliance/Friendly_10.png","images/icon/compliance/Friendly_11.png","images/icon/compliance/Friendly_12.png","images/icon/compliance/Friendly_13.png","images/icon/compliance/Friendly_14.png","images/icon/compliance/Friendly_15.png","images/icon/compliance/Friendly_16.png","images/icon/compliance/Friendly_17.png","images/icon/compliance/Friendly_18.png","images/icon/compliance/Friendly_19.png","images/icon/compliance/Friendly_20.png","images/icon/compliance/Friendly_21.png","images/icon/compliance/Friendly_22.png","images/icon/compliance/Friendly_23.png","images/icon/compliance/Friendly_24.png","images/icon/compliance/Friendly_25.png","images/icon/compliance/Friendly_26.png","images/icon/compliance/Friendly_27.png","images/icon/compliance/Friendly_28.png","images/icon/compliance/Friendly_29.png","images/icon/compliance/Friendly_30.png","images/icon/compliance/Friendly_31.png","images/icon/compliance/Friendly_32.png","images/icon/compliance/Friendly_33.png","images/icon/compliance/Friendly_34.png","images/icon/compliance/Friendly_35.png","images/icon/compliance/Friendly_36.png","images/icon/compliance/Friendly_37.png","images/icon/compliance/Friendly_38.png","images/icon/compliance/Friendly_39.png"],_=[255,255,255,0],w=function(){var t=g()(y().mark((function t(e){var n,r,o,i;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.text,r=void 0===n?"":n,o=e.color,i=void 0===o?_:o,browser.action.setBadgeText({text:r}),browser.action.setBadgeBackgroundColor({color:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){clearInterval(m),w({text:"",color:_})},O=function(t){clearInterval(m);var e=0,n=0;m=setInterval((function(){browser.action.setIcon({path:t[e++]}),e===t.length&&(e=0,n++),5===n&&clearInterval(m)}),50)},x=function(){w({text:"",color:_}),O(E)},I=function(){browser.action.setIcon({path:"images/icon/Red-32.png"}),w({text:"",color:_})},S=function(){return browser.action.setIcon({path:"images/icon/Permission.png"})},P=function(){T(),browser.action.setIcon({path:"images/icon/Grey-44.png"})},k=function(){T(),S()},C=function(){x()},N=function(t,e){return function(n,h){o.ZP.info(t,"CHECK_ICON tabId ".concat(e)),T();var d=t.getState(),v=(0,i.GM)(d,{merchant:n}),g=(0,u.cY)(d,{merchant:n,url:h}),y=(0,u.Mp)(d,{id:null==n?void 0:n.merchantId}),m=(0,s.nu)(d),E=(0,p.gN)(h),P=(0,l.Bp)(d),k=(0,f.wi)(d,{hostname:E,url:h}),C=(0,f._S)(d,{merchantName:k}),N=P&&k&&(null==C?void 0:C.apiStatus)!==r.j5,A=(0,a.Zb)(d,{merchantId:null==n?void 0:n.merchantId}),L=(0,a.vb)(d,{merchantId:null==n?void 0:n.merchantId})||(0,c.v6)(d,{merchant:n});return n||N?L&&!v?(browser.action.setIcon({path:"images/icon/disable.png"}),O(b),w({text:"!",color:"#e0311e"}),void browser.action.setBadgeTextColor({color:"#ffffff"})):A&&!v?(I(),void o.ZP.info(t,"it is an off merchant, icon reset")):m?(S(),void o.ZP.info(t,"there is invalid permission")):v&&g?(x(),void o.ZP.info(t,"it was activated and it is confirm page now, start blink")):v&&y?(browser.action.setIcon({path:"images/icon/Green-32.png"}),w({text:"",color:_}),void o.ZP.info(t,"it is activated and product has cashback, icon green")):y||N?(x(),void o.ZP.info(t,"it has cashback, icon start blink")):(I(),void o.ZP.info(t,"it hasn't cashback, icon reset")):(I(),void o.ZP.info(t,"it is not merchant, icon reset"))}}},63347:
/*!***********************************************!*\
  !*** ./src/background/features/permission.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{J:()=>c});var r=n(/*! ./iconButton/iconStatus */58483),o=n(/*! ../../shared/actionCreators/permission */5658),i=n(/*! ../../shared/loggers/logger */10360),a=n(/*! ../../shared/selectors/permission */67522),c=function(t){return function(e){return browser.permissions.contains({origins:["http://*/*","https://*/*"]}).catch((function(){return Promise.resolve(!0)})).then(function(t,e){return function(n){i.ZP.info(t,"CHECK_PERMISSION");var r=t.getState();return n?((0,a.nu)(r)&&(i.ZP.info(t,"clear invalid permission"),t.dispatch((0,o.VL)())),Promise.resolve()):e?((0,a.V7)(r,{merchant:e})?t.dispatch((0,o.Lu)(e)):t.dispatch((0,o.lR)(e)),i.ZP.error(t,"No permission and this tab is merchant page"),Promise.reject(new Error("No permission and this tab is merchant page"))):((0,a.nu)(r)||t.dispatch((0,o.lR)()),i.ZP.error(t,"No permission and this tab is not merchant page"),Promise.reject(new Error("No permission and this tab is not merchant page")))}}(t,e)).catch((function(){return(0,r.ki)(),Promise.reject(new Error("no permissions"))}))}}},65311:
/*!***********************************************!*\
  !*** ./src/background/features/tabUpdater.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{h_:()=>v,T3:()=>g,Vd:()=>y});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! lodash/get */27361),u=n.n(c),s=n(/*! ../../shared/actionCreators/tabs */88213),l=n(/*! ../../shared/selectors/activation */83582),f=n(/*! ../../shared/selectors/merchants */26846),p=n(/*! ../../shared/selectors/tabs */45887),h=n(/*! ../../shared/utils/urlUtils */75611);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t){return function(e){return(0,f._t)(t.getState(),{url:e})}},g=function(t,e){var n=e.tabId,r=e.openerTabId,o=(0,p.jv)(t.getState(),{tabId:r});t.dispatch((0,s.ZW)({tabId:n,url:null,openerUrl:o}))},y=function(){var t=a()(d().mark((function t(e,n,r){var o,i,a,c,f,g,y;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getState(),i=(0,p.jv)(o,{tabId:n}),a=i,c=v(e)(r),f=u()(c,"merchantId"),g=u()(c,"name"),y=(0,l.lE)(o,{merchant:c}),(0,h._d)(r)&&e.dispatch((0,s.f$)({tabId:n})),t.abrupt("return",e.dispatch((0,s.iM)({tabId:n,url:r,merchantId:f,merchantName:g,shoppingtripId:y,prevUrl:a})));case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},51949:
/*!**************************************!*\
  !*** ./src/content/contentLoader.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{YU:()=>m,B6:()=>E,Ad:()=>b,Sc:()=>_,v:()=>w});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/defineProperty */59713),a=n.n(i),c=n(/*! @babel/runtime/helpers/objectWithoutProperties */6479),u=n.n(c),s=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),l=n.n(s),f=n(/*! ../shared/utils/runtimeMessageUtils */8439),p=["store","merchant","tabId"];function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=new Set,g=new Map,y=null,m=function(){var t=l()(d().mark((function t(e){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v.has(e)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,f.Qb)(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(t,e){g.set(t,e)},b=function(t){return function(e){v.add(t),e(y.store,y)}},_=function(t){if(!g.has(t))throw new Error("'content module failed when connected to store, can not find the key:', ".concat(t,", plz set the connect function first by calling 'setConnectFunc'."));return v.add(t),g.get(t)},w=function(t){var e=t.store,n=t.merchant,r=t.tabId,o=u()(t,p);y=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({store:e,merchant:n,tabId:r},o)}},76944:
/*!******************************************************************!*\
  !*** ./src/content/optInPermissionNotifier/index.js + 1 modules ***!
  \******************************************************************/(t,e,n)=>{var r=n(62620),o=n(58950),i=n(38156),a=n(34103),c=n(59713),u=n.n(c),s=n(63038),l=n.n(s),f=n(67294),p=n(67642),h=n(23588),d=n(3986),v=n(45633),g=n(65531),y=n(70776),m=n(928),E=n(48762),b=n(20136),_=browser.runtime.getURL("images/optInPermission/illustration.svg"),w=h.ZP.div.withConfig({displayName:"OptInPermissionNotifier__Container",componentId:"sc-1hhrjj-0"})(["&&{position:relative;padding:24px 88px;display:flex;flex-direction:column;align-items:center;border-radius:8px;border-color:rgb(226,232,240);background-color:#ffffff;}"]),T=h.ZP.div.withConfig({displayName:"OptInPermissionNotifier__Background",componentId:"sc-1hhrjj-1"})(["&&{position:fixed;justify-content:center;display:flex;align-items:center;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);z-index:2147483647 !important;}"]),O=(0,h.ZP)(v.Z).withConfig({displayName:"OptInPermissionNotifier__OptInButton",componentId:"sc-1hhrjj-2"})(["&&{background:#000000;font-weight:700;width:auto;}"]);const x=function(){var t,e=(0,p.I0)(),n=(0,f.useState)(!0),r=l()(n,2),o=r[0],i=r[1],a=(0,f.useState)(!1),c=l()(a,2),s=c[0],h=c[1],v=(t={},u()(t,E.pZ,!0),u()(t,E.Eg,!0),u()(t,E.wv,!0),t),x=(0,f.useState)(v),I=l()(x,2),S=I[0],P=I[1],k=(0,f.useCallback)((function(){e((0,d.il)(S)),S[E.pZ]?(i(!1),e((0,d.MR)())):h(!0)}),[e,S]),C=(0,f.useCallback)((function(t){P(t)}),[]),N=(0,f.useCallback)((function(){i(!1),e((0,d.MR)())}),[e]);return o?f.createElement(T,null,s?f.createElement(w,null,f.createElement(b.PZ,{top:"16px",onClick:N}),f.createElement(g.Z,{descMaxWidth:"432px",buttonClickCallback:N})):f.createElement(w,null,f.createElement("img",{src:_,alt:""}),f.createElement(b.NH,{height:"20px"}),f.createElement(b.xv,{fontSize:"18px",fontWeight:"bold"},browser.i18n.getMessage("opt_in_permission_notifier_title")),f.createElement(b.NH,{height:"6px"}),f.createElement(b.xv,{fontSize:"12px"},browser.i18n.getMessage("opt_in_permission_notifier_desc")),f.createElement(b.NH,{height:"27px"}),f.createElement(m.Z,{userPreferences:v,optionChangeCallback:C,style:{flex:1,width:"490px"}}),f.createElement(O,{handleButtonClick:k,text:browser.i18n.getMessage("opt_in_permission_notifier_button_text")}),f.createElement(b.NH,{height:"20px"}),f.createElement(y.Z,null))):null};(0,n(51949).Sc)(o.HT)((function(t){var e=t.getState();(0,i.f)(e.cc),(0,a.s)(t,x,r.C22)}))},3657:
/*!*****************************************************!*\
  !*** ./src/content/settingPanel/constants/index.js ***!
  \*****************************************************/(t,e,n)=>{n.d(e,{HY:()=>r,rv:()=>o,Sc:()=>i,gc:()=>a,Ts:()=>c,uv:()=>u,rr:()=>s,UX:()=>l,Me:()=>f,jb:()=>p,kq:()=>h,uF:()=>d,AF:()=>v,$t:()=>g,Eo:()=>y,H7:()=>m,$N:()=>E,R0:()=>b,nt:()=>_,Tr:()=>w,vK:()=>T,Np:()=>O});var r="SHOW_SETTING_PANEL",o="HIDE_SETTING_PANEL",i="shopback-setting-panel",a="UI_FETCH_NOTIFICATION_SNOOZE_SETTING",c="FETCH_NOTIFICATION_SNOOZE_SETTING_SUCCESS",u="FETCH_NOTIFICATION_SNOOZE_SETTING_ERROR",s="UI_SET_NOTIFICATION_SNOOZE_SETTING",l="SET_NOTIFICATION_SNOOZE_SETTING",f="SET_NOTIFICATION_SNOOZE_SETTING_SUCCESS",p="SET_NOTIFICATION_SNOOZE_SETTING_ERROR",h="SNOOZE_NOTIFIER",d="SNOOZE/VOUCHER_NOTIFIER",v="SNOOZE/AMS_NOTIFIER",g="SNOOZE/TAOBAO_NOTIFIER",y="SNOOZE/ALIEXPRESS_NOTIFIER",m=12,E="webNotification",b="cashbackNotifier",_="taobaoAliNotifier",w="voucherNotifier",T="amsNotifier",O=[b,_,E]},86329:
/*!********************************************************!*\
  !*** ./src/shared/actionCreators/affiliateTopology.js ***!
  \********************************************************/(t,e,n)=>{n.d(e,{QD:()=>o,K9:()=>i,AS:()=>a,br:()=>c});var r=n(/*! ../constants */62620),o=function(t,e){return{type:r.x59,payload:{tabId:t,url:e}}},i=function(t){return{type:r.F8F,payload:{tabId:t}}},a=function(t){return{type:r.rio,payload:{tabId:t}}},c=function(t){return{type:r.yw4,payload:{tabId:t}}}},23028:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/amsNotifier.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{JX:()=>o,B_:()=>i,V5:()=>a,Dn:()=>c,l5:()=>u,Fq:()=>s,Mq:()=>l,c8:()=>f});var r=n(/*! ../constants/amsNotifier */41822),o=function(t,e){return{type:r.Hn,payload:{eOutletId:t,sellerId:e}}},i=function(t,e){return{type:r.Rq,payload:{eOutletId:t,sellerId:e}}},a=function(t){var e=t.eOutletId,n=t.sellerId,o=t.position;return{type:r.l8,payload:{eOutletId:e,sellerId:n,position:o}}},c=function(t){var e=t.eOutletId,n=t.sellerId,o=t.skuId,i=t.isAmsSku;return{type:r.nj,payload:{eOutletId:e,sellerId:n,skuId:o,isAmsSku:i}}},u=function(t){var e=t.eOutletId,n=t.sellerId,o=t.activatedAt,i=t.activateState;return{type:r.m$,payload:{eOutletId:e,sellerId:n,activatedAt:o,activateState:i}}},s=function(t){var e=t.eOutletId,n=t.sellerId;return{type:r.Wh,payload:{eOutletId:e,sellerId:n}}},l=function(){return{type:r._t}},f=function(){return{type:r.CV}}},19664:
/*!**************************************************!*\
  !*** ./src/shared/actionCreators/application.js ***!
  \**************************************************/(t,e,n)=>{n.d(e,{nD:()=>o,GP:()=>i,bb:()=>a});var r=n(/*! ../constants */62620),o=function(t){var e=t.tag,n=t.message;return{type:r.Shd,payload:{tag:e,message:n}}},i=function(t){var e=t.merchantId,n=t.productId,o=t.tabId;return{type:r.eqT,payload:{merchantId:e,productId:n,tabId:o}}},a=function(){return{type:r.Q8J}}},93102:
/*!****************************************************!*\
  !*** ./src/shared/actionCreators/extensionMeta.js ***!
  \****************************************************/(t,e,n)=>{n.d(e,{zY:()=>a,PZ:()=>c,Qk:()=>u,c7:()=>s,b8:()=>l});var r=n(/*! uuid/v4 */71171),o=n.n(r),i=n(/*! ../constants/extensionMeta */32988);function a(){var t=browser.runtime.getManifest();return{type:i.P0,payload:{version:t.version}}}function c(){return{type:i.pX,payload:{sbExtId:o()()}}}function u(t){return{type:i.pQ,payload:{previousVersion:t}}}function s(){return{type:i.Gj}}function l(){return{type:i.R2}}},56033:
/*!************************************************************!*\
  !*** ./src/shared/actionCreators/merchants.js + 2 modules ***!
  \************************************************************/(t,e,n)=>{n.d(e,{Rm:()=>G,Hp:()=>q,bE:()=>M,dj:()=>D,Jh:()=>V,jm:()=>Y,JA:()=>z,T0:()=>W,SH:()=>Q,gf:()=>tt,r$:()=>et,H:()=>U,Kw:()=>P,Zn:()=>T,I5:()=>F,HI:()=>K,vn:()=>N,Z$:()=>R,xB:()=>Z,Gy:()=>B,rB:()=>H,vu:()=>j,NI:()=>I,lQ:()=>k,kH:()=>A,zo:()=>$,tg:()=>J});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(59713),u=n.n(c),s=n(62620),l=n(91227),f=n(10360),p=n(83582),h=n(49485),d=n(26846),v=function(t){return t.settings.merchantCacheTTL||0},g=n(45786),y=n(4536),m=n(66022),E=n(13779);function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==e&&n.call(m,a)&&(g=m);var E=v.prototype=h.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=v,r(E,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(){return function(t,e){var n=e(),r=(0,h.q)(n),o=w({url:(0,y.k9)(r)},(0,E.e)(r));return m.Z.get(o,n).then((function(e){var n=e.data;return t(function(t,e,n){return{type:l.YI,payload:{merchants:t,etag:e,cc:n}}}(n.bootstrap,n.etag,r))})).catch((function(t){f.ZP.error(n,t.message||t.stack)}))}}function O(t,e){return{type:l.AV,payload:{merchants:t,cc:e}}}function x(t,e){return{type:l.BX,payload:{merchants:t,cc:e}}}function I(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:l.Xc,payload:{merchantIds:t,meta:e}}}var S=function(t){return"canceled"===t.message};function P(t){var e=t.payload,n=e.merchantIds,r=e.meta,o=void 0!==r&&r;return function(){var t=a()(b().mark((function t(e,r){var i,a,c,u,s,f,p;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(o?{type:l.cs}:{type:l.iG}),i=r(),a=(0,h.q)(i),c=v(i),u=w({url:(0,y.A2)(n,a),params:{meta:o},throttling:c>0&&!o?{throttlingInterval:c,throttlingKey:"merchant-api-".concat(n.join("-"))}:null},(0,E.e)(a)),t.prev=5,!(0,g.jl)(i)){t.next=12;break}return t.next=9,m.E.get(u,i,e);case 9:t.t0=t.sent,t.next=15;break;case 12:return t.next=14,m.Z.get(u,i);case 14:t.t0=t.sent;case 15:if(s=t.t0,f=s.data,!o){t.next=19;break}return t.abrupt("return",e(x(f,a)));case 19:return t.abrupt("return",e(O(f,a)));case 22:if(t.prev=22,t.t1=t.catch(5),!S(t.t1)){t.next=28;break}return i=r(),p=n.map((function(t){return(0,d.Lz)(i,{id:t})})),t.abrupt("return",e(O(p,a)));case 28:if(!o){t.next=30;break}return t.abrupt("return",e({type:l.FV,err:t.t1}));case 30:return t.abrupt("return",e({type:l.a_,err:t.t1}));case 31:case"end":return t.stop()}}),t,null,[[5,22]])})));return function(e,n){return t.apply(this,arguments)}}()}function k(){return{type:l.Se}}function C(t,e){return{type:l.P$,payload:{merchants:t,cc:e}}}function N(){return function(){var t=a()(b().mark((function t(e,n){var r,o,i,a,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),o=(0,h.q)(r),i=w({url:(0,y.wW)(o)},(0,E.e)(o)),e({type:l.Fj}),t.prev=4,!(0,g.jl)(r)){t.next=11;break}return t.next=8,m.E.get(i,r,e);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,m.Z.get(i,r);case 13:t.t0=t.sent;case 14:return a=t.t0,c=a.data,t.abrupt("return",e(C(c,o)));case 19:return t.prev=19,t.t1=t.catch(4),t.abrupt("return",e({type:l.Qs,err:t.t1}));case 22:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(e,n){return t.apply(this,arguments)}}()}function A(){return{type:l._x}}function L(t,e){return{type:l.PF,payload:{merchants:t,cc:e}}}function R(){return function(){var t=a()(b().mark((function t(e,n){var r,o,i,a,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),o=(0,h.q)(r),i=w({url:(0,y.e2)(o)},(0,E.e)(o)),e({type:l.TQ}),t.prev=4,!(0,g.jl)(r)){t.next=11;break}return t.next=8,m.E.get(i,r,e);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,m.Z.get(i,r);case 13:t.t0=t.sent;case 14:return a=t.t0,c=a.data,t.abrupt("return",e(L(c,o)));case 19:return t.prev=19,t.t1=t.catch(4),t.abrupt("return",e({type:l.x8,err:t.t1}));case 22:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(e,n){return t.apply(this,arguments)}}()}function j(t){return{type:l.A4,payload:{merchantId:t}}}function F(){return function(){var t=a()(b().mark((function t(e,n){var r,o,i,a,c,u,s,f;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),o=(0,h.q)(r),i=r.user.token,a=(0,y.ZD)(o),c=w({url:a},(0,E.e)(o)),"HK"!==o){t.next=7;break}return t.abrupt("return",[]);case 7:if(t.prev=7,e({type:l.WL}),!i){t.next=15;break}return t.next=12,m.E.get(c,r,e);case 12:t.t0=t.sent,t.next=18;break;case 15:return t.next=17,m.Z.get(c,r);case 17:t.t0=t.sent;case 18:return u=t.t0,s=u.data,f=s.merchants,e({type:l.MS,payload:{merchants:f,cc:o}}),t.abrupt("return",f);case 25:return t.prev=25,t.t1=t.catch(7),e({type:l.lb}),t.abrupt("return",[]);case 29:case"end":return t.stop()}}),t,null,[[7,25]])})));return function(e,n){return t.apply(this,arguments)}}()}function U(t){var e=t.payload;return function(t,n){var r=n(),o=(0,h.q)(r),i=e.merchantId,a=w({url:(0,y.u2)(i,o)},(0,E.e)(o));return t({type:l.Nq}),m.Z.get(a,r).then((function(e){var n=e.data;t({type:l.GY,payload:{merchantId:i,tnc:n}})})).catch((function(){t({type:l.Ic})}))}}function D(t){return{type:l.en,payload:{merchantId:t}}}function M(t){return{type:l.xH,payload:{merchantId:t}}}function H(t){var e=t.merchantId;return{type:l.xj,payload:{merchantId:e}}}function B(t){var e=t.merchantId;return{type:l.Vt,payload:{merchantId:e}}}function G(){return{type:l.m5}}var X=function(t){var e=null;return function(n){var r;e||(n((r=t,{type:s.yj1,payload:r})),e=setTimeout((function(){n({type:s.fwl}),clearTimeout(e)}),s.yqp))}},Z=function(){return function(t,e){var n=e(),r=(0,h.q)(n),o=w({url:(0,y.QP)(r)},(0,E.e)(r));return t({type:l.u3}),m.E.get(o,n,t).then((function(e){var n=e.data;t(function(t,e){return{type:l.sK,payload:{data:t,cc:e}}}(n,r))})).catch((function(e){t({type:l.QQ,payload:{err:e}})}))}},K=function(){return function(t,e){var n=e(),r=(0,h.q)(n),o=w({url:(0,y.mU)(r)},(0,E.e)(r));return t({type:l.c4}),m.E.get(o,n,t).then((function(e){var n,r=e.data;t((n=r,{type:l.A3,payload:n}))})).catch((function(e){t({type:l.Cs,payload:{err:e}})}))}},V=function(t){var e=t.payload;return function(t,n){var r=n(),o=(0,h.q)(r),i=e.merchant,a=e.toast,c=e.isShowToast,u={url:(0,y.QP)(o),data:{merchantIds:[i.merchantId]}};return t({type:l.NH,payload:e}),m.E.post(u,r,t).then((function(e){var n=e.data;t(function(t){return{type:l.wp,payload:t}}(w({merchant:i},n))),c&&t(X(a))})).catch((function(e){t({type:l.p7,payload:{merchant:i,err:e}})}))}},W=function(t){var e=t.payload;return function(t,n){var r=n(),o=(0,h.q)(r),i=e.merchant,a=e.toast,c=e.isShowToast,u={url:(0,y.QP)(o),data:{merchantIds:[i.merchantId]}};return t({type:l.wf,payload:e}),m.E.delete(u,r,t).then((function(e){var n=e.data;t(function(t){return{type:l.KS,payload:t}}(w({merchant:i},n))),c&&t(X(a))})).catch((function(e){t({type:l.Tq,payload:{merchant:i,err:e}})}))}};function Y(t){return{type:s.dcW,payload:{merchantId:t}}}function z(t){return{type:s.iYg,payload:{merchant:t}}}function q(t){return{type:s.PVA,payload:{merchantId:t}}}function Q(t){return{type:s.Uor,payload:w({},t)}}function J(t){var e=t.merchant;return function(t,n){var r=(0,p._f)(n(),{merchant:e});return r&&r.visited===s.no9?(t({type:s.v8W,payload:{merchantId:e.merchantId}}),new Promise((function(n){setTimeout((function(){t(q(e.merchantId)),n()}),s.kNt)}))):Promise.resolve()}}function $(t){return{type:s.Wgb,merchant:t}}function tt(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(r,o){return t.isTaobao||(0,p.pK)(o(),{merchant:t})&&!(0,p.Iz)(o(),{merchant:t})?Promise.resolve({}):r({type:s.BFs,payload:{merchantId:t.merchantId,focusing:n,tabId:e}})}}function et(t){return function(e){return t.isTaobao?Promise.resolve({}):e({type:s.ulW,payload:{merchantId:t.merchantId}})}}},5658:
/*!*************************************************!*\
  !*** ./src/shared/actionCreators/permission.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{lR:()=>a,Ni:()=>c,VL:()=>u,Lu:()=>s});var r=n(/*! ../constants */62620),o=n(/*! ../constants/permission */57200),i=n(/*! ../selectors/permission */67522);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{merchantId:-1};return{type:o.m,payload:{merchantId:t.merchantId}}}function c(t){return{type:r.BDI,payload:{merchantId:t,ts:Date.now()}}}function u(){return{type:o.L,payload:{}}}function s(t){return function(e,n){var o,a=n();return(0,i.Cx)(a,{merchant:t})&&e((o=t.merchantId,{type:r.JxL,payload:{merchantId:o}})),Promise.resolve()}}},3986:
/*!***********************************************!*\
  !*** ./src/shared/actionCreators/settings.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{wv:()=>O,MR:()=>x,il:()=>I,g9:()=>P,F1:()=>C});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/defineProperty */59713),a=n.n(i),c=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),u=n.n(c),s=n(/*! lodash/isBoolean */51584),l=n.n(s),f=n(/*! lodash/pickBy */35937),p=n.n(f),h=n(/*! ../../content/settingPanel/constants */3657),d=n(/*! ../constants */62620),v=n(/*! ../loggers/logger */10360),g=n(/*! ../selectors/cc */49485),y=n(/*! ../selectors/extensionMeta */51693),m=n(/*! ../urls */4536),E=n(/*! ../utils/fetchUtils */66022);function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==e&&n.call(m,a)&&(g=m);var E=v.prototype=h.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=v,r(E,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t){return{type:d.Tz5,payload:t}}function O(t){return function(){var e=u()(b().mark((function e(n,r){var o,i,c,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(),c=(0,y.bo)(i),u=(0,m.fP)(t),s={url:u,headers:(o={},a()(o,d.obn.X_SHOPBACK_LAST_CC,t),a()(o,d.obn.X_SHOPBACK_EXTENSION_VERSION,c),o)},e.abrupt("return",E.Z.get(s,i).then((function(t){var e=t.data;if(e){var r=w({},e);return r.affiliateNetworks=r.seaweed,delete r.seaweed,n(T(r))}return Promise.resolve()})).catch((function(t){v.ZP.error(i,t.message||t.stack)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function x(){return{type:d.gkN}}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={cookiesEnabled:t.cookiesEnabled,eventsEnabled:t.eventsEnabled,personalDataEnabled:t.personalDataEnabled};return{type:d.RR,payload:p()(e,l())}}var S=function(t){return{type:h.Ts,payload:t}};function P(){return function(t,e){var n=e(),r=(0,g.q)(n),o={url:(0,m.jb)(r)};return E.E.get(o,n,t).then((function(e){var n=e.data;t(S(n))})).catch((function(e){t({type:h.uv,payload:{err:e}})}))}}var k=function(t){return{type:h.Me,payload:t}};function C(t){var e=t.payload;return function(t,n){var r=n(),o=(0,g.q)(r),i=e.duration,a={url:(0,m.jb)(o),data:{snoozeHoursOfWebPush:Number.isNaN(i)?h.H7:i}};return t({type:h.UX}),E.E.put(a,r,t).then((function(e){var n=e.data;t(k(n))})).catch((function(e){t({type:h.jb,payload:{err:e}})}))}}},88213:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/tabs.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{f$:()=>_,on:()=>w,ZW:()=>E,RB:()=>g,gZ:()=>y,iM:()=>m,G_:()=>b});var r=n(50008),o=n.n(r),i=n(48926),a=n.n(i),c=n(56033),u=n(26846);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var y={};l(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=d.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}const l={fetchMerchantById:function(){var t=a()(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch((0,c.Kw)({payload:{merchantIds:[n]}}));case 2:return t.abrupt("return",(0,u.Lz)(e.getState(),{id:n}));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};var f=n(3147),p=n(18855),h=n(10360),d=n(45887);function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */v=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:d,configurable:!0}),d.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var g=function(t){var e=t.openUrl,n=t.active,r=t.autoClose,o=void 0===r||r;return function(t){return browser.tabs.create({active:n,url:e}).then((function(e){return t({type:p.Kb,payload:{tabId:e.id,autoClose:o}})}))}},y=function(t){var e=t.openUrl,n=t.active,r=t.autoClose,o=void 0===r||r;return{type:p.Th,openUrl:e,active:n,autoClose:o}},m=function(t){var e=t.tabId,n=t.url,r=t.merchantId,o=t.merchantName,i=t.shoppingtripId,c=t.prevUrl;return function(){var t=a()(v().mark((function t(a,s){var g,y,m,E;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g=s(),y=(0,d.jv)(g,{tabId:e}),a({type:p.YI,payload:{tabId:e,url:n,merchantId:r,merchantName:o,shoppingtripId:i,prevUrl:c}}),!n||y===n){t.next=11;break}if(m={dispatch:a,getState:s},!(E=(0,u.Lz)(g,{id:r}))){t.next=10;break}return t.next=9,l.fetchMerchantById(m,r).catch((function(t){return h.ZP.error(g,t.stack)}));case 9:E=t.sent;case 10:f.ul.notify(m,{tabId:e,url:n,merchant:E});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},E=function(t){var e=t.tabId,n=t.url,r=t.openerUrl;return{type:p.Hl,payload:{tabId:e,url:n,openerUrl:r}}},b=function(t){var e=t.tabId,n=t.affiliateLinkId,r=t.shoppingtripId;return{type:p.uE,payload:{tabId:e,affiliateLinkId:n,shoppingtripId:r}}},_=function(t){var e=t.tabId;return{type:p.V1,payload:{tabId:e}}},w=function(t){var e=t.tabId;return function(t,n){return browser.tabs.remove(e).catch((function(t){return h.ZP.warn(n(),t.message)})).then((function(){return t({type:p.wk,payload:{tabId:e}})}))}}},11713:
/*!*********************************************!*\
  !*** ./src/shared/actionCreators/taoBao.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Xq:()=>l,_w:()=>f,lk:()=>p,Sk:()=>h,Pr:()=>y,gh:()=>m,Fv:()=>E,cK:()=>b,Z5:()=>_,V0:()=>w,qQ:()=>T,of:()=>O});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../constants */62620),u=n(/*! ../utils/taoBaoUtils */80351);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var y={};l(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=d.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function l(){return{type:c.Jkz}}function f(){return{type:c.usU}}function p(){return{type:c.OO5}}function h(){return{type:c.IKz}}function d(t){return{type:c.q9M,payload:{productId:t}}}function v(t){return{type:c.aTr,payload:{productId:t}}}function g(t,e){return{type:c.RzL,payload:{productId:t,hasCashback:e}}}function y(t){return function(){var e=a()(s().mark((function e(n,r){var o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r(),i=o.cc,e.prev=2,e.next=5,(0,u.v$)(t,i,o);case 5:return a=e.sent,e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()}function m(t){var e=t.productId;return function(){var t=a()(s().mark((function t(n,r){var o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),i=o.cc,n(v(e)),t.prev=3,t.next=6,(0,u.aT)(e,i,o);case 6:a=t.sent,n(g(e,a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(d(e));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}function E(t,e){return{type:c.ow$,productId:t,from:e}}function b(t){return{type:c.NVs,payload:{productId:t}}}function _(t){return{type:c.HqR,payload:{tabId:t.tabId,productId:t.productId}}}function w(t){return{type:c.slH,payload:{productId:t}}}function T(t){return{type:c.fk6,payload:{productId:t}}}function O(){return{type:c.ob$}}},1019:
/*!*************************************************!*\
  !*** ./src/shared/actionCreators/trackingV2.js ***!
  \*************************************************/(t,e,n)=>{n.r(e),n.d(e,{trackExtUpdated:()=>g,trackExtInstalled:()=>y,trackExtOpenMenu:()=>m,trackExtLoadMenu:()=>E,trackExtViewScreenMenu:()=>b,trackExtSearchMenu:()=>_,trackExtClickMenu:()=>w,trackExtClickContent:()=>T,trackExtClickContentMenu:()=>O,trackExtInteractContentMenu:()=>x,trackExtInteractContent:()=>I,trackExtInteractDialogMenu:()=>S,trackExtInteractMenu:()=>P,trackExtHoverMenu:()=>k,trackExtHoverContent:()=>C,trackExtClickBottomNavigationMenu:()=>N,trackExtError:()=>A,trackExtExtractStart:()=>L,trackExtExtractOrder:()=>R,trackExtExtractCrawl:()=>j,trackExtExtractUpload:()=>F,trackExtViewMerchantPage:()=>U,trackExtViewInActivatedNotifier:()=>D,trackExtViewActivatedNotifier:()=>M,trackExtViewNotifier:()=>H,trackExtClickNotifier:()=>B,trackExtInteractNotifier:()=>G,trackExtHoverNotifier:()=>X,trackExtViewSerp:()=>Z,trackExtClickSerp:()=>K,trackExtSaveSuccess:()=>V,trackExtRemoveSuccess:()=>W,trackExtLoadSavedTab:()=>Y,trackExtHover:()=>z,trackExtErrorOccurred:()=>q,trackSystemLogout:()=>Q});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! ../constants */62620),a=n(/*! ../constants/eventsV2 */44340);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s={current_url:null,referrer_url:null,destination_url:null},l={merchant_id:null,merchant_name:null},f={screen_name:null,screen_type:null,page_type:null},p={ui_element_id:null,ui_element_name:null,ui_element_type:null,ui_element_position:null},h={feature_id:null,feature_name:null,feature_type:null,feature_position:null},d={serp_domain:null},v=function(t){var e=t.eventName,n=t.properties;return{type:i.MTw,payload:{eventName:e,properties:n}}},g=function(){return v({eventName:a.C4.EXT_UPDATED,properties:{installation_medium:"little_whale_grow"}})},y=function(t){return v({eventName:a.C4.EXT_INSTALLED,properties:u({installation_medium:"cute_whale_born",current_url:null,utm_source:null,utm_medium:null},t)})},m=function(t){return v({eventName:a.C4.EXT_OPEN_MENU,properties:u(u(u({},s),l),t)})},E=function(t){return v({eventName:a.C4.EXT_LOAD_MENU,properties:u(u(u({},s),l),t)})},b=function(t){return v({eventName:a.C4.EXT_VIEW_SCREEN_MENU,properties:u(u(u(u({},s),l),f),t)})},_=function(t){return v({eventName:a.C4.EXT_SEARCH_MENU,properties:u(u(u(u({},s),l),f),t)})},w=function(t){return v({eventName:a.C4.EXT_CLICK_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},T=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},O=function(t){return v({eventName:a.C4.EXT_CLICK_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},x=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},I=function(t){return v({eventName:a.C4.EXT_INTERACT_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},S=function(t){return v({eventName:a.C4.EXT_INTERACT_DIALOG_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},P=function(t){return v({eventName:a.C4.EXT_INTERACT_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},k=function(t){return v({eventName:a.C4.EXT_HOVER_MENU,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},C=function(t){return v({eventName:a.C4.EXT_HOVER_CONTENT,properties:u(u(u(u(u(u({},s),l),f),p),h),t)})},N=function(t){return v({eventName:a.C4.EXT_CLICK_BOTTOM_NAVIGATION_MENU,properties:u(u(u(u(u({},s),l),f),h),t)})},A=function(t){return v({eventName:a.C4.EXT_ERROR,properties:t})},L=function(t){return v({eventName:a.C4.EXT_EXTRACT_START,properties:t})},R=function(t){return v({eventName:a.C4.EXT_EXTRACT_ORDER,properties:t})},j=function(t){return v({eventName:a.C4.EXT_EXTRACT_CRAWL,properties:t})},F=function(t){return v({eventName:a.C4.EXT_EXTRACT_UPLOAD,properties:t})},U=function(t){return v({eventName:a.C4.EXT_VIEW_MERCHANT_PAGE,properties:u(u(u({},s),l),t)})},D=function(t){return v({eventName:a.C4.EXT_VIEW_INACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},M=function(t){return v({eventName:a.C4.EXT_VIEW_ACTIVATED_NOTIFIER,properties:u(u(u({},s),l),t)})},H=function(t){return v({eventName:a.C4.EXT_VIEW_NOTIFIER,properties:u(u(u({tooltip_shown:null},s),l),t)})},B=function(t){return v({eventName:a.C4.EXT_CLICK_NOTIFIER,properties:u(u(u({current_url:null,referrer_url:null},h),{},{feature_destination_url:null},l),{},{screen_name:null},t)})},G=function(t){return v({eventName:a.C4.EXT_INTERACT_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},X=function(t){return v({eventName:a.C4.EXT_HOVER_NOTIFIER,properties:u(u(u(u({},l),h),s),t)})},Z=function(t){return v({eventName:a.C4.EXT_VIEW_SERP,properties:u(u({},d),t)})},K=function(t){return v({eventName:a.C4.EXT_CLICK_SERP,properties:u(u({},d),{},{feature_type:null,feature_destination_url:null,merchant_id:null},t)})},V=function(t){return v({eventName:a.C4.EXT_SAVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,save_from:null},t)})},W=function(t){return v({eventName:a.C4.EXT_REMOVE_PRODUCT_SUCCESS,properties:u(u({},l),{},{feature_type:null,feature_id:null,feature_name:null,current_url:null,remove_from:null},t)})},Y=function(t){return v({eventName:a.C4.EXT_LOAD_SIDE_PANEL,properties:u(u({},l),{},{current_url:window.location.href},t)})},z=function(t){return v({eventName:a.C4.EXT_HOVER,properties:u(u(u({},l),h),{},{current_url:window.location.href},t)})},q=function(t){return v({eventName:a.C4.EXT_ERROR_OCCURRED,properties:t})},Q=function(t){return v({eventName:a.C4.SYSTEM_LOGOUT,properties:t})}},95346:
/*!*******************************************************!*\
  !*** ./src/shared/actionCreators/user.js + 1 modules ***!
  \*******************************************************/(t,e,n)=>{n.d(e,{xD:()=>O,Pf:()=>L,BT:()=>I,kS:()=>T,Vz:()=>b,ol:()=>x,rg:()=>C,EL:()=>P,zT:()=>k,w2:()=>A,MY:()=>S,G3:()=>N});var r=n(59713),o=n.n(r),i=n(50308),a=n.n(i),c=n(50008),u=n.n(c),s=n(48926),l=n.n(s),f=n(49485),p=n(4536),h=n(66022);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,i)&&(y=E);var b=g.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,c){var s=f(t[r],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==u()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=n(88213),g=n(1019),y=n(62620),m=n(45887),E=n(45786);function b(t){return{type:y.idx,payload:{token:t}}}function _(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(i,a){(0,m.ed)(a(),{tabId:r})&&(0,p.LX)(t,o)&&i((0,v.on)({tabId:r})),i({type:y.dz7,payload:{cc:t,token:e,refreshToken:n,tokenDomain:(0,p.tn)(t)}})}}function w(t){return{type:y.CpY,payload:{cc:t}}}function T(t){var e={cc:t};return{type:y.Nve,payload:e}}function O(t){var e=t.cc;return function(t){return browser.cookies.remove({url:(0,p.tn)(e),name:y.HRF.ACCESS_TOKEN}).then((function(){return t({type:y.vgW})})).catch((function(){return t({type:y.vgW})}))}}function x(t){var e=t.cc,n=t.accessToken;return function(t){return browser.cookies.set({url:(0,p.tn)(e),name:y.HRF.ACCESS_TOKEN,value:n,expirationDate:parseInt(Date.now()/1e3,10)+y.Jyn,secure:!0}).then((function(){t({type:y.tz7}),t(function(){var t=l()(d().mark((function t(e,n){var r,o,i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),o=(0,f.q)(r),i=(0,p.vo)(o),a={url:i},h.Z.get(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())})).catch((function(){return t({type:y.xMg})}))}}function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.cc,n=t.token,r=t.refreshToken;return function(t,i){var a,c=i(),u=(e||c.cc).toUpperCase(),s={url:(0,p.z3)(u),headers:(a={},o()(a,y.obn.X_SHOPBACK_LAST_CC,u),o()(a,y.obn.X_SHOPBACK_DOMAIN,(0,p.A1)(u)),o()(a,y.obn.X_SHOPBACK_ACCESS_TOKEN,n||c.user.token||null),o()(a,y.obn.X_SHOPBACK_REFRESH_TOKEN,r||c.user.refreshToken||null),a)};return t({type:y.Yu7}),h.E.get(s,c,t,u).then((function(e){var n,r=e.data;t((n={user:r}.user,{type:y.k4o,payload:{user:n}}))})).catch((function(e){var n=e.message;return t({type:y.hIV}),Promise.reject({message:n})}))}}function S(){return{type:y.kfr}}function P(t){var e=t.cc,n=t.userToken,r=t.userRefreshToken,o=t.url,i=t.tabId,a=void 0===i?-1:i,c=t.trigger;return function(t,i){return n?t(I({cc:e,token:n,refreshToken:r})).then((function(){return t(_(e,n,r,a,o))})).catch((function(){return t(w(e))})):(0,p.Xn)(e,o)?Promise.resolve():((0,E.jl)(i())&&t((0,g.trackSystemLogout)({logout_trigger:c,url:o,is_firefox:y.D1p,country_code:e})),t(T(e)))}}function k(t){var e=t.token,n=t.refreshToken,r=t.cc;return function(t){var o=(0,p.Eu)(r);return e?t(I({cc:r,token:e,refreshToken:n,tokenDomain:o})).then((function(){t(_(r,e,n)),t(x({cc:r,accessToken:e})),t(function(t){var e=t.cc,n=t.refreshToken;return function(t){return browser.cookies.set({url:(0,p.tn)(e),name:y.HRF.REFRESH_TOKEN,value:n,expirationDate:parseInt(Date.now()/1e3,10)+y.Jyn,secure:!0}).then((function(){return t({type:y.tz7})})).catch((function(){return t({type:y.xMg})}))}}({cc:r,refreshToken:n}))})).catch((function(){return t(w(r))})):Promise.resolve()}}function C(t){var e=t.cc;return function(t,n){var r=(0,E.LC)(n(),{cc:e});return t({type:y.cG_,payload:{cc:e}}),t(I({cc:e,token:r.token,refreshToken:r.refreshToken,tokenDomain:r.tokenDomain})).catch(a())}}function N(t){return{type:y.kpX,cc:t}}function A(){return{type:y.S0K}}function L(){return function(t,e){var n=e(),r=(0,f.q)(n),o={url:(0,p.es)(r)};return t({type:y.eUu}),h.E.get(o,n,t).then((function(e){var n=(e.data||{}).cashbacks;t({type:y.dnl,payload:{cashbacks:n||[]}})})).catch((function(){t({type:y.I_i})}))}}},45633:
/*!*****************************************!*\
  !*** ./src/shared/components/Button.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{Z:()=>h});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! prop-types */45697),a=n(/*! react */67294),c=n(/*! styled-components */23588),u=n(/*! ../styledComponents */20136);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=(0,c.ZP)(u.xv).withConfig({displayName:"Button__Container",componentId:"y4fcp8-0"})(["&&{display:flex;flex-direction:row;align-items:center;justify-content:center;padding:6px 16px;background:#ff3407;border-radius:16px;color:#ffffff;cursor:pointer;font-weight:bold;font-size:14px;line-height:20px;width:104px;box-sizing:border-box;}"]),p=function(t){var e=t.text,n=t.className,r=t.customStyle,o=t.handleButtonClick;return a.createElement(f,{className:n,style:l({},r),onClick:o},e)};p.propTypes={text:i.string.isRequired,className:i.string.isRequired,customStyle:i.object,handleButtonClick:i.func.isRequired},p.defaultProps={className:"",customStyle:null};const h=p},65531:
/*!********************************************************************************!*\
  !*** ./src/shared/components/OptInPermission/CookiesDisabledNotifier/index.js ***!
  \********************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>O});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! lodash/noop */50308),a=n.n(i),c=n(/*! prop-types */45697),u=n(/*! react */67294),s=n(/*! react-redux */67642),l=n(/*! styled-components */23588),f=n(/*! ../../../actionCreators/settings */3986),p=n(/*! ../../Button */45633),h=n(/*! ../../../constants/userPreferences */48762),d=n(/*! ../../../styledComponents */20136),v=n(/*! ../../../utils/runtimeMessageUtils */8439),g=n(/*! ../Footer */70776),y=browser.runtime.getURL("images/optInPermission/cookies-disabled.svg"),m=(0,l.ZP)(p.Z).withConfig({displayName:"CookiesDisabledNotifier__EnableButton",componentId:"sc-19mx74v-0"})(["&&{background:#000000;width:auto;}"]),E=(0,l.ZP)(p.Z).withConfig({displayName:"CookiesDisabledNotifier__UninstallButton",componentId:"sc-19mx74v-1"})(["&&{background:#f7f7f8;color:#000000;width:auto;}"]),b=l.ZP.div.withConfig({displayName:"CookiesDisabledNotifier__Container",componentId:"sc-19mx74v-2"})(["&&{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#ffffff;padding:0 40px;width:100%;}"]),_=(0,l.ZP)(d.xv).withConfig({displayName:"CookiesDisabledNotifier__Title",componentId:"sc-19mx74v-3"})(["&&{font-size:18px;font-weight:bold;color:#212836;max-width:300px;margin-top:20px;white-space:pre-wrap;}"]),w=(0,l.ZP)(d.xv).withConfig({displayName:"CookiesDisabledNotifier__Description",componentId:"sc-19mx74v-4"})(["&&{font-size:12px;color:#212836;max-width:",";margin-top:8px;margin-bottom:24px;white-space:pre-wrap;}"],(function(t){return t.descMaxWidth?t.descMaxWidth:"300px"})),T=function(t){var e=t.buttonClickCallback,n=t.descMaxWidth,r=t.className,i=(0,s.I0)(),a=(0,u.useCallback)((function(){i((0,f.il)(o()({},h.pZ,!0))),e()}),[e,i]),c=(0,u.useCallback)((function(){(0,v.M1)(),e()}),[e]),l=browser.i18n.getMessage("cookies_disabled_notifier_title"),p=browser.i18n.getMessage("cookies_disabled_notifier_description"),T=browser.i18n.getMessage("cookies_disabled_notifier_enable_cookies"),O=browser.i18n.getMessage("uninstall");return u.createElement(b,{className:r},u.createElement("img",{src:y,alt:""}),u.createElement(_,null,l),u.createElement(w,{descMaxWidth:n},p),u.createElement(m,{text:T,handleButtonClick:a}),u.createElement(d.NH,{height:"16px"}),u.createElement(E,{text:O,handleButtonClick:c}),u.createElement(d.NH,{height:"20px"}),u.createElement(g.Z,null))};T.defaultProps={buttonClickCallback:a(),descMaxWidth:"",className:""},T.propTypes={buttonClickCallback:c.func,descMaxWidth:c.string,className:c.string};const O=T},70776:
/*!*********************************************************************!*\
  !*** ./src/shared/components/OptInPermission/Footer.js + 1 modules ***!
  \*********************************************************************/(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(67154),o=n.n(r),i=n(63038),a=n.n(i),c=n(67294),u=n(67642),s=n(23588),l={au:"https://support.shopback.com.au/hc/en-us/articles/360039114834",id:"https://support.shopback.co.id/hc/id/articles/360039941853",kr:"https://support.shopback.co.kr/hc/ko-kr/articles/360044381973",my:"https://support.shopback.my/hc/en-us/articles/360026274913",ph:"https://support.shopback.ph/hc/en-us/articles/115010370828",sg:"https://support.shopback.sg/hc/en-us/articles/360039652893",th:"https://support.shopback.co.th/hc/th/articles/360037977973",tw:"https://support.shopback.com.tw/hc/zh-tw/articles/360039187814",hk:"https://support.shopback.com.hk/hc/zh-hk/articles/6284632567059-Our-Privacy-Policy",de:"https://support.shopback.de/hc/de/articles/15958168142099"},f=n(49485),p=n(20136),h=n(8439),d=(0,s.ZP)(p.xv).withConfig({displayName:"Footer__StyledText",componentId:"sc-11uvg5u-0"})(["&&{font-size:10px;line-height:12px;color:#6b7280;max-width:260px;white-space:pre-wrap;}"]),v=s.ZP.a.withConfig({displayName:"Footer__Link",componentId:"sc-11uvg5u-1"})(["&&{cursor:pointer;text-decoration:none;color:#276bd9;font-weight:bold;}"]),g=function(t){var e=t.translation,n=t.linkText,r=t.link,i=void 0===r?"":r,u=t.onClickLink,s=void 0===u?null:u,l=e.split("TRANSLATION_WITH_LINK_DELIMITER"),f=a()(l,2),p=f[0],h=f[1],d={};return i?d.href=i:s&&(d.onClick=s),c.createElement(c.Fragment,null,p,c.createElement(v,o()({},d,{target:"_blank"}),n),h)};const y=function(){var t=(0,u.v9)((function(t){return(0,f.q)(t)})),e=l[t.toLowerCase()];return c.createElement(d,null,g({translation:browser.i18n.getMessage("footer_data_collects_read_privacy"),linkText:browser.i18n.getMessage("footer_data_collects_privacy_link_text"),link:e}),c.createElement("div",null,g({translation:browser.i18n.getMessage("footer_data_collects_change_permissions"),linkText:browser.i18n.getMessage("footer_data_collects_settings_link_text"),onClickLink:h.Xx})))}},48256:
/*!*********************************************************!*\
  !*** ./src/shared/components/OptInPermission/Option.js ***!
  \*********************************************************/(t,e,n)=>{n.d(e,{Z:()=>f});var r=n(/*! prop-types */45697),o=n(/*! react */67294),i=n(/*! styled-components */23588),a=n(/*! ../../styledComponents */20136),c=i.ZP.div.withConfig({displayName:"Option__OptionContainer",componentId:"ap0wy-0"})(["&&{margin-bottom:16px;}"]),u=i.ZP.input.withConfig({displayName:"Option__CheckBox",componentId:"ap0wy-1"})(["&&{cursor:pointer;position:relative;top:",";}"],(function(t){return t.isRenderInOptionsPage?"0px":"2px"})),s=i.ZP.label.withConfig({displayName:"Option__LabelText",componentId:"ap0wy-2"})(["&&{font-weight:bold;font-size:12px;text-align:left;cursor:pointer;user-select:none;display:flex;align-items:flex-start;}"]),l=function(t){var e=t.id,n=t.titleText,r=t.descText,i=t.onChange,l=t.checked,f=t.isRenderInOptionsPage;return o.createElement(c,null,o.createElement(s,{htmlFor:e},o.createElement(u,{type:"checkbox",id:e,onChange:i,checked:l,name:n,isRenderInOptionsPage:f}),o.createElement(a.z4,{style:{marginLeft:"4px"}},o.createElement("span",null,n),o.createElement(a.xv,{fontSize:"12px",textAlign:"left",color:"#6B7280",customStyle:{"margin-top":"4px"}},r))))};l.defaultProps={isRenderInOptionsPage:!1},l.propTypes={id:r.string.isRequired,titleText:r.string.isRequired,descText:r.string.isRequired,onChange:r.func.isRequired,checked:r.bool.isRequired,isRenderInOptionsPage:r.bool};const f=l},928:
/*!*************************************************************************!*\
  !*** ./src/shared/components/OptInPermission/UserPreferencesOptions.js ***!
  \*************************************************************************/(t,e,n)=>{n.d(e,{Z:()=>S});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/classCallCheck */34575),a=n.n(i),c=n(/*! @babel/runtime/helpers/createClass */93913),u=n.n(c),s=n(/*! @babel/runtime/helpers/inherits */2205),l=n.n(s),f=n(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),p=n.n(f),h=n(/*! @babel/runtime/helpers/getPrototypeOf */29754),d=n.n(h),v=n(/*! lodash/isEqual */18446),g=n.n(v),y=n(/*! prop-types */45697),m=n(/*! react */67294),E=n(/*! styled-components */23588),b=n(/*! ../../constants/userPreferences */48762),_=n(/*! ../../types/userPreferences */27987),w=n(/*! ./Option */48256);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var x=E.ZP.div.withConfig({displayName:"UserPreferencesOptions__Container",componentId:"bwlzal-0"})(["&&{background-color:#ffffff;}"]),I=function(t){l()(n,t);var e=O(n);function n(){var t,r;a()(this,n);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return(r=e.call.apply(e,[this].concat(c))).state=(t={},o()(t,b.pZ,r.props.userPreferences[b.pZ]),o()(t,b.Eg,r.props.userPreferences[b.Eg]),o()(t,b.wv,r.props.userPreferences[b.wv]),t),r.syncUserPreferences=function(){var t=r.props.userPreferences;r.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))},r.handleOptionsChange=function(t){var e=r.props.optionChangeCallback;r.setState(o()({},t.target.id,!r.state[t.target.id]),(function(){return e(r.state)}))},r}return u()(n,[{key:"componentDidUpdate",value:function(t){var e=this.props.userPreferences,n=t.userPreferences;g()(n,e)||this.syncUserPreferences()}},{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.isRenderInOptionsPage,o=[{id:b.pZ,titleText:browser.i18n.getMessage("user_preferences_options_cookies_title"),descText:browser.i18n.getMessage("user_preferences_options_cookies_title_desc")},{id:b.Eg,titleText:browser.i18n.getMessage("user_preferences_options_events_title"),descText:browser.i18n.getMessage("user_preferences_options_events_desc")},{id:b.wv,titleText:browser.i18n.getMessage("user_preferences_options_personal_data_title"),descText:browser.i18n.getMessage("user_preferences_options_personal_data_desc")}];return m.createElement(x,{style:n},o.map((function(e){return m.createElement(w.Z,{key:e.id,id:e.id,titleText:e.titleText,descText:e.descText,onChange:t.handleOptionsChange,checked:t.state[e.id],isRenderInOptionsPage:r})})))}}]),n}(m.Component);I.defaultProps={style:{},isRenderInOptionsPage:!1},I.propTypes={style:y.object,isRenderInOptionsPage:y.bool,userPreferences:_.i.isRequired,optionChangeCallback:y.func.isRequired};const S=I},5272:
/*!***********************************************!*\
  !*** ./src/shared/components/errorWrapper.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{Z:()=>E});var r=n(/*! @babel/runtime/helpers/classCallCheck */34575),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/inherits */2205),u=n.n(c),s=n(/*! @babel/runtime/helpers/possibleConstructorReturn */78585),l=n.n(s),f=n(/*! @babel/runtime/helpers/getPrototypeOf */29754),p=n.n(f),h=n(/*! prop-types */45697),d=n.n(h),v=n(/*! react */67294),g=n(/*! shared/constants/runtimeMessageEvent */92671),y=n(/*! ./node_modules/console-browserify/index.js */25108);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l()(this,n)}}var E=function(t){u()(n,t);var e=m(n);function n(t){var r;return o()(this,n),(r=e.call(this,t)).state={hasError:!1},r}return a()(n,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0}),browser.runtime.sendMessage({errorMessage:t.message,extra:e,action:g.o3}).catch((function(t){return y.error(t)}))}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),n}(v.Component);E.propTypes={children:d().any},E.defaultProps={children:null}},41822:
/*!*********************************************!*\
  !*** ./src/shared/constants/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{Hn:()=>r,Rq:()=>o,an:()=>i,l8:()=>a,B5:()=>c,Z_:()=>u,nj:()=>s,KC:()=>l,Wh:()=>f,II:()=>p,_t:()=>h,m$:()=>d,CV:()=>v});var r="OPEN_AMS_NOTIFIER",o="CLOSE_AMS_NOTIFIER",i="SET_AMS_API_IDLE",a="CHANGE_AMS_NOTIFIER_POSITION",c=36e5,u="be_ams_notifier",s="FETCH_AMS_E_OUTLET_SELLER_CASHBACK_SUCCESS",l="ACTIVATING_AMS_E_OUTLET_SELLER",f="ACTIVATED_AMS_E_OUTLET_SELLER",p="DEACTIVATE_AMS_E_OUTLET_SELLER",h="DEACTIVATE_ALL_AMS_E_OUTLET_SELLER",d="UPDATE_AMS_E_OUTLET_SELLER_ACTIVATION_STATE",v="ENABLE_AMS_SYNC_USER_FROM_SB_DOMAIN"},90623:
/*!*******************************************!*\
  !*** ./src/shared/constants/apiStatus.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{WI:()=>r,dF:()=>o,UP:()=>i,j5:()=>a});var r="idle",o="loading",i="success",a="error"},53437:
/*!*******************************************!*\
  !*** ./src/shared/constants/countries.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{od:()=>r,zO:()=>o,fR:()=>a,bn:()=>c,ZP:()=>u});var r={AU:"AU",DE:"DE",HK:"HK",ID:"ID",KR:"KR",MY:"MY",PH:"PH",SG:"SG",TH:"TH",TW:"TW",NZ:"NZ",US:"US"},o=Object.values(r),i=Object.values({VN:"VN"}),a=([].concat(o,i),{AU:"en-AU",DE:"de",HK:"en",ID:"id",MY:"ms-MY",PH:"en",SG:"en-SG",TH:"th",TW:"en",KR:"ko-KR",NZ:"en-NZ",US:"en-US"}),c={en:"D MMM YYYY",id:"D MMM YYYY",ko:"YYYY\ub144 M\uc6d4 D\uc77c",th:"DD/MM/YYYY",zh:"YYYY\u5e74M\u6708D\u65e5",ph:"MMM DD, YYYY",us:"MMM DD, YYYY",de:"YYYY.MM.DD"};const u=r},44340:
/*!******************************************!*\
  !*** ./src/shared/constants/eventsV2.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{sy:()=>a,C4:()=>c});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a="batch-event-checking",c={EXT_INSTALLED:"Extension.Install",EXT_UPDATED:"Extension.Update.Version",EXT_ERROR_OCCURRED:"Extension.Error",EXT_OPEN_MENU:"Extension.Open.Menu",EXT_LOAD_MENU:"Extension.Load.Menu",EXT_VIEW_SCREEN_MENU:"Extension.View.Screen.Menu",EXT_SEARCH_MENU:"Extension.Search.Menu",EXT_CLICK_MENU:"Extension.Click.Menu",EXT_CLICK_CONTENT:"Extension.Click.Content",EXT_CLICK_CONTENT_MENU:"Extension.Click.Content.Menu",EXT_INTERACT_CONTENT_MENU:"Extension.Interact.Content.Menu",EXT_INTERACT_DIALOG_MENU:"Extension.Interact.Dialog.Menu",EXT_INTERACT_CONTENT:"Extension.Interact.Content",EXT_INTERACT_MENU:"Extension.Interact.Menu",EXT_HOVER_MENU:"Extension.Hover.Menu",EXT_HOVER_CONTENT:"Extension.Hover.Content",EXT_CLICK_BOTTOM_NAVIGATION_MENU:"Extension.Click.BottomNavigation.Menu",EXT_EXTRACT_START:"Extension.Extract.Start",EXT_EXTRACT_ORDER:"Extension.Extract.Order",EXT_EXTRACT_CRAWL:"Extension.Extract.Crawl",EXT_EXTRACT_UPLOAD:"Extension.Extract.Upload",EXT_VIEW_MERCHANT_PAGE:"Extension.View.Screen.MerchantPage",EXT_VIEW_INACTIVATED_NOTIFIER:"Extension.Prompt.Notifier",EXT_VIEW_ACTIVATED_NOTIFIER:"Extension.View.ActivatedNotifier",EXT_CLICK_NOTIFIER:"Extension.Click.Notifier",EXT_VIEW_NOTIFIER:"Extension.View.Notifier",EXT_INTERACT_NOTIFIER:"Extension.Interact.Notifier",EXT_HOVER_NOTIFIER:"Extension.Hover.Notifier",EXT_VIEW_SERP:"Extension.View.Screen.SERP",EXT_CLICK_SERP:"Extension.Click.SERP",EXT_HOVER:"Extension.Hover",EXT_DRAG_NOTIFIER:"Extension.Drag.Notifier",EXT_SAVE_PRODUCT_SUCCESS:"Extension.Save.Success",EXT_REMOVE_PRODUCT_SUCCESS:"Extension.Remove.Success",SYSTEM_LOGOUT:"System.Logout"},u=(Object.values(c),"To report version update for product analytics. For more information, please visit"),s="To report ShopBack installs for product analytics. For more information, please visit",l="To report when ShopBack is not performing as expected. For more information, please visit",f="To report affiliate activation to verify ShopBack is performing as expected. For more information, please visit",p="To report ShopBack manually opened for product analytics. For more information, please visit",h="To report interactions with ShopBack for product analytics. For more information, please visit",d="To look up domain to determine if it is a site ShopBack supports and determine appropriate ShopBack behavior. For more information, please visit",v="To report first interaction with ShopBack for product analytics. For more information, please visit";r={},i()(r,c.EXT_UPDATED,u),i()(r,c.EXT_INSTALLED,s),i()(r,c.EXT_OPEN_MENU,p),i()(r,c.EXT_LOAD_MENU,h),i()(r,c.EXT_VIEW_SCREEN_MENU,h),i()(r,c.EXT_SEARCH_MENU,h),i()(r,c.EXT_CLICK_MENU,h),i()(r,c.EXT_CLICK_CONTENT_MENU,h),i()(r,c.EXT_INTERACT_MENU,h),i()(r,c.EXT_CLICK_BOTTOM_NAVIGATION_MENU,h),i()(r,c.EXT_VIEW_MERCHANT_PAGE,d),i()(r,c.EXT_VIEW_INACTIVATED_NOTIFIER,v),i()(r,c.EXT_VIEW_ACTIVATED_NOTIFIER,f),i()(r,c.EXT_CLICK_NOTIFIER,h),i()(r,c.EXT_VIEW_NOTIFIER,v),i()(r,c.EXT_VIEW_SERP,h),i()(r,c.EXT_CLICK_SERP,h),i()(r,c.EXT_DRAG_NOTIFIER,h),i()(r,c.EXT_HOVER,h),i()(r,c.EXT_ERROR_OCCURRED,l)},32988:
/*!***********************************************!*\
  !*** ./src/shared/constants/extensionMeta.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{P0:()=>r,pX:()=>o,pQ:()=>i,Gj:()=>a,R2:()=>c});var r="GET_EXTENSION_VERSION",o="GEN_SB_EXT_ID",i="SET_PREVIOUS_VERSION",a="TOGGLE_LOGGER",c="DISABLE_LOGGER"},62620:
/*!***************************************!*\
  !*** ./src/shared/constants/index.js ***!
  \***************************************/(t,e,n)=>{n.d(e,{T$R:()=>a.T$,VKh:()=>a.VK,LaO:()=>a.L,oiE:()=>a.oi,TjR:()=>a.Tj,gz$:()=>a.gz,kLJ:()=>a.kL,DXw:()=>a.DX,HRN:()=>a.HR,yeY:()=>a.ye,Pnd:()=>a.Pn,Mfi:()=>a.Mf,pAz:()=>a.pA,CG1:()=>a.CG,UOx:()=>a.UO,_lE:()=>a._l,iQM:()=>a.iQ,BFS:()=>s,Dwi:()=>l,_lx:()=>f,NkW:()=>p,utx:()=>h,kqf:()=>d,gb1:()=>v,fk6:()=>g,RzL:()=>y,ow$:()=>m,TQE:()=>E,vNS:()=>b,PVA:()=>_,iYg:()=>w,v8W:()=>T,Wgb:()=>O,rio:()=>x,HqR:()=>I,gkN:()=>S,RR:()=>P,NVs:()=>k,x59:()=>C,yw4:()=>N,BDI:()=>A,JxL:()=>L,S0K:()=>R,Yu7:()=>j,k4o:()=>F,eUu:()=>U,dnl:()=>D,I_i:()=>M,xIO:()=>H,Uor:()=>B,Tz5:()=>G,hIV:()=>X,eqT:()=>Z,Q8J:()=>K,kJb:()=>V,vgW:()=>W,tz7:()=>Y,xMg:()=>z,BFs:()=>q,ulW:()=>Q,kfr:()=>J,PAV:()=>$,RVy:()=>tt,Shd:()=>et,CpY:()=>nt,kpX:()=>rt,cG_:()=>ot,dcW:()=>it,F8F:()=>at,dz7:()=>ct,Nve:()=>ut,SdJ:()=>c.Sd,Kb1:()=>c.Kb,Tho:()=>c.Th,idx:()=>st,MTw:()=>lt,UFS:()=>ft,kNt:()=>pt,ilb:()=>ht,tQi:()=>dt,Zr5:()=>vt,PJX:()=>gt,NBx:()=>yt,ibe:()=>mt,x7b:()=>Et,Ai9:()=>bt,MXk:()=>_t,QaO:()=>wt,Km:()=>Tt,bL_:()=>Ot,slH:()=>xt,Jkz:()=>It,usU:()=>St,IKz:()=>Pt,OO5:()=>kt,q9M:()=>Ct,aTr:()=>Nt,YKA:()=>At,ob$:()=>Lt,B2H:()=>Rt,CCM:()=>jt,no9:()=>Ft,Ct4:()=>Ut,P1k:()=>Dt,HAb:()=>Mt,CER:()=>Ht,EEH:()=>Bt,c$Z:()=>Gt,AuS:()=>Xt,kQ1:()=>Zt,hLt:()=>Kt,C22:()=>Vt,D1p:()=>Wt,G9E:()=>Yt,P0H:()=>zt,Jyn:()=>qt,obn:()=>Qt,s0_:()=>Jt,HRF:()=>$t,zR4:()=>te,yj1:()=>ee,fwl:()=>ne,yqp:()=>re,dNt:()=>oe});var r=n(/*! bowser */51206),o=n.n(r),i=n(/*! ../envConfig */5281),a=n(/*! ./utmMedium */76551),c=n(/*! ./tabs */18855),u=o().getParser(navigator.userAgent).getBrowserName(),s=i.Z.ACTIVATED_EXPIRED_MS,l=i.Z.ACTIVATED_EXPIRED_MS_FOR_AMS,f=i.Z.ACTIVATED_EXPIRED_MS_FOR_TAOBAO,p=i.Z.PERMISSION_NOTIFIER_TTL,h="Roboto, Helvetica, arial, sans-serif",d="SF Pro Display, Helvetica, arial, sans-serif",v="INIT_STORE",g="ACTIVATE_TAOBAO_PRODUCT_FROM_SB",y="FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS_SUCCESS",m="UI_FETCH_TAOBAO_PRODUCT_CASHBACK_STATUS",E="DETECT_STAND_DOWN_AFFILIATE_NETWORK",b="DETACH_STAND_DOWN_AFFILIATE_NETWORK",_="CLOSE_ACTIVATED_MERCHANT_NOTIFIER",w="DELETE_EXPIRED_ACTIVATED_MERCHANT",T="VISIT_ACTIVATED_MERCHANT_NOTIFIER",O="UI_VISIT_ACTIVATED_MERCHANT_NOTIFIER",x="ps",I="START_ACTIVATE_TAOBAO_PRODUCT",S="OPT_IN_PERMISSION_NOTIFIER_SHOWN",P="UPDATE_USER_PREFERENCES",k="DEACTIVATE_TAOBAO_PRODUCT",C="ll",N="pwd",A="CLOSE_PERMISSION_NOTIFIER",L="RESET_PERMISSION_NOTIFIER",R="UI_FETCH_USER_INFO_SUCCESS",j="FETCH_USER_INFO",F="FETCH_USER_INFO_SUCCESS",U="FETCH_RECENT_CASHBACKS",D="FETCH_RECENT_CASHBACKS_SUCCESS",M="FETCH_RECENT_CASHBACKS_ERROR",H="RESET_RECENT_CASHBACKS_API_STATUS",B="DETECT_SB_REDIRECT_PAGE",G="cp",X="FETCH_USER_INFO_ERROR",Z="DEEP_LINK_REDIRECT",K="CLEAN_ACTIVATION",V="FETCH_CC_SUCCESS",W="DROP_COOKIE_DONE",Y="SET_COOKIE_DONE",z="SET_COOKIE_FAIL",q="netstat",Q="SHOW_DISABLE_NOTIFIER",J="UI_FETCH_USER_INFO",$="FETCH_CC_ERROR",tt="START_ACTIVATE",et="LOG_FOR_TRACK",nt="LOGIN_NOT_OK",rt="UI_SWITCH_USER",ot="SWITCH_USER",it="DE_ACTIVATE",at="mv",ct="LOGIN_OK",ut="LOGOUT",st="REFRESH_ACCESS_TOKEN_SUCCESS",lt="EVENT_EXT_TRACKING",ft="AU",pt=1e4,ht=3e5,dt=6e4,vt=36e5,gt=36e5,yt="unavailable",mt="available",Et="activated",bt="fetching",_t="down",wt="ACTIVATE_STATE_NOT_ACTIVATED",Tt="ACTIVATE_STATE_ACTIVATING",Ot="ACTIVATE_STATE_ACTIVATED",xt="TAOBAO_SET_PRODUCT_FROM_AI_TAOBAO_SEARCH_TO_ACTIVATED",It="TAOBAO_OPEN_NOTIFIER",St="TAOBAO_CLOSE_NOTIFIER",Pt="TAOBAO_OPEN_CONFIRMATION_NOTIFIER",kt="TAOBAO_CLOSE_CONFIRMATION_NOTIFIER",Ct="TAOBAO_OPEN_API_DOWN_NOTIFIER",Nt="TAOBAO_CLOSE_API_DOWN_NOTIFIER",At="shopback-taobao-cart",Lt="CLEAR_TAOBAO_PRODUCTS",Rt=0,jt=1,Ft=0,Ut=1,Dt=2,Mt=[{domain:"yahoo",rx:"search\\.yahoo\\.com\\/",pattern:"h3.title > a",href:"=(http[^/]*)",searchInputPattern:"div#sbq-wrap > #yschsp"},{domain:"bing",rx:"\\.bing\\.com\\/search.*[&?]q=([^&]*)",pattern:'#b_results>.b_algo, #b_results>li, #b_results h2 a, div[class="sb_tlst"] * a',searchInputPattern:"#sb_form_q"},{domain:"google",rx:"^https?:\\/\\/(?:www\\.|encrypted\\.)?google\\.[\\w\\.]{2,6}.*",pattern:"div.rc > .r > a",searchInputPattern:".gLFyf"}],Ht=[".ebates-serp","#gym_serp"],Bt={au:{aid:"1465791"},id:{aid:"1691096"},my:{aid:"1691091"},ph:{aid:"1244848"},sg:{aid:"1691090"},th:{aid:"1275028"},tw:{aid:"1244849"},kr:{aid:"1977683"},hk:{aid:"1244849"},com:{aid:"1691090"}},Gt="shopback-cashback-notifier",Xt="shopback-confirmation-notifier",Zt="shopback-popup-search-input-box",Kt="shopback-taobao-navigator",Vt="shopback-opt-in-permission-notifier",Wt=u===o().BROWSER_MAP.firefox,Yt=u===o().BROWSER_MAP.chrome,zt=u===o().BROWSER_MAP.edge,qt=31536e3,Qt={X_SHOPBACK_LAST_CC:"X-SHOPBACK-LAST-CC",X_SHOPBACK_IRONGATE_ENABLED:"X-SHOPBACK-IRONGATE-ENABLED",X_SHOPBACK_DOMAIN:"X-SHOPBACK-DOMAIN",X_SHOPBACK_EXTENSION_VERSION:"X-SHOPBACK-EXTENSION-VERSION",X_SHOPBACK_CLIENT_USER_AGENT:"X-SHOPBACK-CLIENT-USER-AGENT",X_SHOPBACK_ACCESS_TOKEN:"X-SHOPBACK-ACCESS-TOKEN",X_SHOPBACK_REFRESH_TOKEN:"X-SHOPBACK-REFRESH-TOKEN",X_SHOPBACK_EVENT_NAME:"X-SHOPBACK-TRACKING-EVENT-NAME",X_SHOPBACK_INTERNAL:"X-SHOPBACK-INTERNAL",X_SHOPBACK_AGENT:"X-SHOPBACK-AGENT",X_SHOPBACK_ENVIRONMENT:"X-Shopback-Environment",CONTENT_TYPE:"Content-Type",ACCEPT:"Accept",AUTHORIZATION:"Authorization"},Jt={NON_OPEN:"nonOpen",FIRST_OPEN:"firstOpen",OPENED:"opened"},$t={ACCESS_TOKEN:"sbet",REFRESH_TOKEN:"sbrefresh"},te=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@|%40(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,ee="SHOW_TOAST",ne="HIDE_TOAST",re=2200,oe="UPDATE_CC_FROM_APP"},58950:
/*!********************************************!*\
  !*** ./src/shared/constants/lazyModule.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{Rd:()=>r,sw:()=>o,rm:()=>i,zo:()=>a,Zn:()=>c,AU:()=>u,gQ:()=>s,J9:()=>l,Db:()=>f,qr:()=>p,ot:()=>h,HT:()=>d,KP:()=>v,FN:()=>g,Uo:()=>y});var r="aliExpressNavigator",o="aliExpressCartPageIndicator",i="amsNotifier",a="disableNotifier",c="permissionNotifier",u="postInstallTooltip",s="serp",l="notifier",f="taoBaoCheckoutPage",p="taoBaoNavigator",h="taoBaoCartCashbackStatus",d="optInPermissionNotifier",v="settingPanel",g="dogfoodReport",y="voucherNotifier"},91227:
/*!*******************************************!*\
  !*** ./src/shared/constants/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{YI:()=>r,Xc:()=>o,iG:()=>i,AV:()=>a,a_:()=>c,cs:()=>u,BX:()=>s,FV:()=>l,Fj:()=>f,P$:()=>p,Qs:()=>h,TQ:()=>d,PF:()=>v,x8:()=>g,_9:()=>y,WR:()=>m,Nq:()=>E,Ic:()=>b,GY:()=>_,WL:()=>w,MS:()=>T,lb:()=>O,xH:()=>x,en:()=>I,Vt:()=>S,xj:()=>P,m5:()=>k,Se:()=>C,_x:()=>N,Dc:()=>A,A4:()=>L,nz:()=>R,u3:()=>j,sK:()=>F,QQ:()=>U,bI:()=>D,NH:()=>M,wp:()=>H,p7:()=>B,Y4:()=>G,wf:()=>X,KS:()=>Z,Tq:()=>K,s1:()=>V,c4:()=>W,A3:()=>Y,Cs:()=>z});var r="FETCH_MERCHANTS_BOOTSTRAP_SUCCESS",o="UI_FETCH_MERCHANTS",i="FETCH_MERCHANTS_LOADING",a="FETCH_MERCHANTS_SUCCESS",c="FETCH_MERCHANTS_ERROR",u="FETCH_MERCHANTS_META_LOADING",s="FETCH_MERCHANTS_META_SUCCESS",l="FETCH_MERCHANTS_META_ERROR",f="FETCH_TOP_MERCHANTS",p="FETCH_TOP_MERCHANTS_SUCCESS",h="FETCH_TOP_MERCHANTS_ERROR",d="FETCH_UPSIZED_MERCHANTS",v="FETCH_UPSIZED_MERCHANTS_SUCCESS",g="FETCH_UPSIZED_MERCHANTS_ERROR",y="RESET_UPSIZED_MERCHANTS_API_STATUS",m="DELETE_EXPIRED_UPSIZED_FLASH_DEALS",E="FETCH_MERCHANT_TNC",b="FETCH_MERCHANT_TNC_ERROR",_="FETCH_MERCHANT_TNC_SUCCESS",w="FETCH_PERSONAL_RECOMMENDATION_MERCHANTS",T="FETCH_PERSONAL_RECOMMENDATION_MERCHANTS_SUCCESS",O="FETCH_PERSONAL_RECOMMENDATION_MERCHANTS_ERROR",x="CLOSE_MERCHANT_DISABLE_NOTIFIER",I="CLOSE_MERCHANT_NOTIFIER",S="STAND_DOWN_MERCHANT_NOTIFIER",P="STAND_UP_MERCHANT_NOTIFIER",k="CLEAR_MERCHANTS",C="UI_FETCH_TOP_MERCHANTS",N="UI_FETCH_UPSIZED_MERCHANTS",A="UI_FETCH_PERSONAL_RECOMMENDATION_MERCHANTS",L="UI_FETCH_MERCHANT_TNC",R="UI_FETCH_WATCH_MERCHANT_LIST",j="FETCH_WATCH_MERCHANT_LIST",F="FETCH_WATCH_MERCHANT_LIST_SUCCESS",U="FETCH_WATCH_MERCHANT_LIST_ERROR",D="UI_CREATE_WATCH_MERCHANT",M="CREATE_WATCH_MERCHANT",H="CREATE_WATCH_MERCHANT_SUCCESS",B="CREATE_WATCH_MERCHANT_ERROR",G="UI_DELETE_WATCH_MERCHANT",X="DELETE_WATCH_MERCHANT",Z="DELETE_WATCH_MERCHANT_SUCCESS",K="DELETE_WATCH_MERCHANT_ERROR",V="UI_FETCH_WATCH_RECOMMENDATION_MERCHANT",W="FETCH_WATCH_RECOMMENDATION_MERCHANT",Y="FETCH_WATCH_RECOMMENDATION_MERCHANT_SUCCESS",z="FETCH_WATCH_RECOMMENDATION_MERCHANT_ERROR"},57200:
/*!********************************************!*\
  !*** ./src/shared/constants/permission.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{m:()=>r,L:()=>o});var r="DETECT_PERMISSION_CHANGE",o="CLEAN_INVALID_PERMISSION"},92671:
/*!*****************************************************!*\
  !*** ./src/shared/constants/runtimeMessageEvent.js ***!
  \*****************************************************/(t,e,n)=>{n.d(e,{ue:()=>r,PX:()=>o,Z$:()=>i,Dy:()=>a,BN:()=>c,s0:()=>u,Zn:()=>s,Ax:()=>l,ci:()=>f,G3:()=>p,I9:()=>h,Kb:()=>d,Rt:()=>v,o3:()=>g,wP:()=>y});var r="GET_TAB_OF_CONTENT_SCRIPT",o="OPEN_BROWSER_SETTING_PAGE",i="OPEN_BROWSER_OPTIONS_PAGE",a="ACTIVATE_CASHBACK_EVENT",c="ACTIVATE_AMS_CASHBACK_EVENT",u="ACTIVATE_TAOBAO_CASHBACK_EVENT",s="ACTIVATE_OFFER_CASHBACK_EVENT",l="UNINSTALL_SELF",f="LOAD_MODULE",p="FETCH_TAOBAO_PRODUCT_DEEPLINK_EVENT",h="DETECT_BACKGROUND",d="OPEN_NEW_TAB",v="CAPTURE_TAB",g="SENTRY_ERROR_LOGGING",y="SHOW_DOGFOOD_REPORT"},18855:
/*!**************************************!*\
  !*** ./src/shared/constants/tabs.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{Th:()=>r,Kb:()=>o,YI:()=>i,wk:()=>a,uE:()=>c,Hl:()=>u,V1:()=>s,Sd:()=>l,si:()=>f,yV:()=>p,qq:()=>h,vo:()=>d,y2:()=>v,UW:()=>g,xE:()=>y,tz:()=>m,Si:()=>E,LL:()=>b,QS:()=>_,Gy:()=>w,uB:()=>T,Ly:()=>O,fP:()=>x,m7:()=>I,Ys:()=>S,PL:()=>P,kE:()=>k,E:()=>C,P:()=>N,mK:()=>A,DR:()=>L,F2:()=>R,nP:()=>j,DV:()=>F,Zj:()=>U});var r="TABS/UI_OPEN_NEW_TAB",o="TABS/OPEN_NEW_TAB",i="TABS/UPDATE_TAB",a="TABS/CLOSE_TAB",c="TABS/UPDATE_TAB_ACTIVATE_INFO",u="TABS/CREATE_TAB",s="TABS/CLEAR_OPENERURL",l="home",f="saved",p="account",h="notification",d="cashbackNotifier",v="educationNotifier",g="tncNotifier",y="complianceInfo",m="dealOfTheDay",E="upsizedFlashDeals",b="recommendation",_="watchList",w={MERCHANT:"merchantPage",NON_MERCHANT:"nonMerchantPage"},T="voucher",O="topStores",x="errorPage",I="joinShopBackPlus",S="lifeTimeEarnings",P="cashbackOverview",k="recentCashback",C="referFriend",N="reviewUs",A="helpCenter",L="countryDropdown",R="manageSubscriptionButton",j="logoutButton",F="loginPage",U="watchListMerchant"},91369:
/*!****************************************!*\
  !*** ./src/shared/constants/taobao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{YX:()=>r,OZ:()=>o,W5:()=>i,Uc:()=>a});var r="taobao_notifier",o="taobao_cartpage",i="taobao_checkoutpage",a="taobao_tabupdate"},48762:
/*!*************************************************!*\
  !*** ./src/shared/constants/userPreferences.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{pZ:()=>r,Eg:()=>o,wv:()=>i});var r="cookiesEnabled",o="eventsEnabled",i="personalDataEnabled"},76551:
/*!*******************************************!*\
  !*** ./src/shared/constants/utmMedium.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{T$:()=>r,oi:()=>o,UO:()=>i,L:()=>a,gz:()=>c,iQ:()=>u,_l:()=>s,k4:()=>l,xi:()=>f,kL:()=>p,ye:()=>h,DX:()=>d,HR:()=>v,Pn:()=>g,Mf:()=>y,R7:()=>m,KK:()=>E,Hq:()=>b,V_:()=>_,pA:()=>w,CG:()=>T,Ol:()=>O,G0:()=>x,VK:()=>I,Tj:()=>S});var r="be_aliexpress_checkout_notifier",o="be_aliexpress_checkout_login_to_activate",i="be_cashback_notifier",a="be_disable_notifier",c="be_login_notifier",u="be_taobao_login_cashback_notifier",s="be_taobao_cashback_notifier",l="be_aliexpress_notifier",f="be_aliexpress_login_notifier",p="be_menu_getcashback",h="be_menu_logintogetcashback",d="be_menu_dealoftheday",v="be_menu_dealoftheday_nonlogin",g="be_menu_recommendedstore",y="be_menu_recommendedstore_nonlogin",m="be_menu_store",E="be_menu_store_nonlogin",b="be_menu_store_search",_="be_menu_store_search_nonlogin",w="be_menu_upsizeflashdeals",T="be_menu_upsizeflashdeals_nonlogin",O="be_watchlist_merchant",x="be_watchlist_recommended_merchant",I="be_confirmation_notifier",S="be_login_confirmation_notifier"},5281:
/*!*********************************!*\
  !*** ./src/shared/envConfig.js ***!
  \*********************************/(t,e,n)=>{n.d(e,{Z:()=>r});const r=n(/*! ../../env/production.json */47776)},10360:
/*!**************************************!*\
  !*** ./src/shared/loggers/logger.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{CY:()=>_,LD:()=>w,ZP:()=>O});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a=n(/*! @babel/runtime/helpers/typeof */50008),c=n.n(a),u=n(/*! dayjs */27484),s=n.n(u),l=n(/*! lodash/isEmpty */41609),f=n.n(l),p=n(/*! lodash/isNil */14293),h=n.n(p),d=(n(/*! redux-dynamic-middlewares */20820),n(/*! redux-logger */94500),n(/*! ../actionCreators/extensionMeta */93102)),v=n(/*! ../constants */62620),g=n(/*! ../selectors/extensionMeta */51693),y=n(/*! ./node_modules/console-browserify/index.js */25108),m="info",E="warn",b="error",_=function(t){var e=t.getState();(0,g.hn)(e)&&t.dispatch((0,d.b8)())},w=function(t){},T=function(t,e,n,r){var o,i=(null===(o=t.getState)||void 0===o?void 0:o.call(t))||t;if(!f()(i)&&(0,g.hn)(i)){var a=r||{},u=a.isCollapsed,l=a.properties,p=s()().format("YYYY-MM-DDTHH:mm:ss:SSS"),d="[".concat("shopback","][").concat(p,"] ").concat("object"===c()(n)?JSON.stringify(n):n);if(u)h()(l)?y.groupCollapsed(d):y.groupCollapsed(d,l),y.trace(),y[e](n),y.groupEnd();else{var v,m=h()(l)?[d]:[d,l];(v=y)[e].apply(v,m)}}};const O=(r={},i()(r,m,(function(t,e,n){T(t,m,e,{isCollapsed:!0,properties:n})})),i()(r,E,(function(t,e,n){T(t,E,e,{isCollapsed:v.D1p,properties:n})})),i()(r,b,(function(t,e,n){T(t,b,e,{isCollapsed:!1,properties:n})})),r)},16730:
/*!****************************************************************************!*\
  !*** ./src/shared/providers/TanStackQueryProvider/fetchers.js + 1 modules ***!
  \****************************************************************************/(t,e,n)=>{n.d(e,{lQ:()=>_,b5:()=>w});var r=n(50008),o=n.n(r),i=n(59713),a=n.n(i),c=n(48926),u=n.n(c),s=n(67642),l=n(62620),f=n(49485),p=n(4536),h=n(66022),d=n(63038),v=n.n(d),g=n(96486),y=function(t){return"".concat(t.reduce((function(t,e){if(Array.isArray(e))return"".concat(t,"/").concat(e.join("/"));if((0,g.isPlainObject)(e)&&(i=e,Object.values(i).every((function(t){return"number"==typeof t||"string"==typeof t||Array.isArray(t)})))){var n=(r=e,o=new URLSearchParams,Object.entries(r).forEach((function(t){var e=v()(t,2),n=e[0],r=e[1];Array.isArray(r)?r.forEach((function(t){return o.append(n,t.toString())})):o.append(n,r.toString())})),o.toString());return"".concat(t,"?").concat(n.toString())}var r,o,i;return"".concat(t,"/").concat(e)})))};function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */b=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function d(){}function v(){}var g={};s(g,a,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==e&&n.call(m,a)&&(g=m);var E=v.prototype=h.prototype=Object.create(g);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=v,r(E,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:d,configurable:!0}),d.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var _=function(t){return function(){var e=u()(b().mark((function e(n){var r,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.queryKey,e.prev=1,e.next=4,h.Z.get({url:"".concat((0,p.XF)(t),"/").concat(y(r)),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.A1)(t)),ignoreCC:!0});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},w=function(){var t=(0,s.v9)(f.q),e=(0,s.I0)(),n=(0,s.oR)(),r=function(){var r=u()(b().mark((function r(){var o,i,c,u,s,f,d,v=arguments;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=(o=v.length>0&&void 0!==v[0]?v[0]:{method:"post"}).url,c=o.body,u=o.method,s=void 0===u?"post":u,r.prev=1,f={get:h.E.get,post:h.E.post,put:h.E.put,delete:h.E.delete,patch:h.E.patch}[s.toLowerCase()],r.next=5,f(E(E({url:"".concat((0,p.XF)(t),"/").concat(i),headers:a()({},l.obn.X_SHOPBACK_DOMAIN,(0,p.A1)(t))},c?{data:c}:{}),{},{ignoreCC:!0}),n.getState(),e);case 5:return d=r.sent,r.abrupt("return",d.data);case 9:throw r.prev=9,r.t0=r.catch(1),r.t0;case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();return{defaultMutationFnWithToken:r}}},83582:
/*!********************************************!*\
  !*** ./src/shared/selectors/activation.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{EJ:()=>s,B4:()=>l,fK:()=>f,r6:()=>p,aI:()=>h,GM:()=>d,uB:()=>v,tm:()=>g,Eb:()=>y,pK:()=>m,Iz:()=>E,_f:()=>b,lE:()=>_});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! shared/constants */62620),c=n(/*! ./merchant */96965),u=function(t){return t.activation.byExt},s=(0,i.P1)(u,c._P,(function(t,e){return t[e]})),l=(0,i.P1)(s,(function(t){return o()(t,"activatedAt",null)})),f=(0,i.P1)(s,(function(t){return o()(t,"visited",null)})),p=(0,i.P1)(f,(function(t){return t===a.P1k})),h=(0,i.P1)(s,(function(t){return o()(t,"activatingId",null)})),d=(0,i.P1)(s,(function(t){return!!o()(t,"activated",null)})),v=(0,i.P1)(u,(function(t){return Object.keys(t).filter((function(e){return t[e].activated}))})),g=(0,i.P1)(s,(function(t){return null!=o()(t,"partnershipId")})),y=(0,i.P1)(s,(function(t){return!(!o()(t,"disabled")||!o()(t,"focusing"))})),m=(0,i.P1)(s,(function(t){return!!o()(t,"disabled")})),E=(0,i.P1)(m,y,(function(t,e){return t&&!e})),b=(0,i.P1)(d,s,(function(t,e){return t?e:null})),_=(0,i.P1)(s,(function(t){return o()(t,"shoppingtripId")}))},68093:
/*!*********************************************!*\
  !*** ./src/shared/selectors/amsNotifier.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{ko:()=>f,hc:()=>p,FU:()=>g,Ee:()=>m,Re:()=>E,mU:()=>b,MW:()=>_,F5:()=>O,A1:()=>x,Cg:()=>I});var r=n(/*! reselect */22222),o=n(/*! ./settings/websitePatterns */80905),i=n(/*! ./settings/serviceEnableCountry */40062),a=n(/*! ../constants/amsNotifier */41822),c=n(/*! ../constants/apiStatus */90623),u=n(/*! ../constants/index */62620),s=n(/*! ../utils/commonUtils */26426),l=(0,r.P1)(o.SL,(function(t){return null==t?void 0:t.amsNotifier})),f=(0,r.P1)(l,(function(t,e){return e.url}),(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urls,e=arguments.length>1?arguments[1]:void 0;return(void 0===t?[]:t).some((function(t){return!!t&&new RegExp(t).test(e)}))})),p=(0,r.P1)(l,(function(t,e){return e}),(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).productPageUrls,e=void 0===t?{}:t,n=arguments.length>1?arguments[1]:void 0,r=n.url,o=n.merchant,i=e[null==o?void 0:o.urlDomain]||[],a=null;return i.forEach((function(t){var e,n=new RegExp(t),o=r.match(n);null!=o&&null!==(e=o.groups)&&void 0!==e&&e.sid&&(a=o.groups.sid)})),{isProductPage:!!a,sellerId:a}})),h=function(t){return t.amsNotifier},d=(0,r.P1)(h,(function(t){return t.eOutlets})),v=(0,r.P1)(d,(function(t,e){return e}),(function(t,e){var n=e.eOutletId,r=e.sellerId,o=t[n];return o?o[r]:{}})),g=((0,r.P1)(h,(function(t,e){return e}),(function(t,e){var n;return(null===(n=t.tabs[e.tabId])||void 0===n?void 0:n.apiStatus)||c.WI})),(0,r.P1)((function(t){return t}),i.Cq,p,(function(t,e,n){var r=n.isProductPage;return!(!e||!r)}))),y=(0,r.P1)(h,(function(t,e){return null==e?void 0:e.eOutletId}),(function(t,e){return t.settings[e]})),m=(0,r.P1)(y,(function(t,e){return null==e?void 0:e.sellerId}),(function(t,e){return t?t[e]:{}})),E=(0,r.P1)(m,(function(t){return null==t||!t.closeAt||(0,s.Dy)()-(null==t?void 0:t.closeAt)>a.B5})),b=(0,r.P1)(m,(function(t){var e;return null!==(e=null==t?void 0:t.position)&&void 0!==e?e:{y:.2}})),_=(0,r.P1)(h,(function(t){var e,n=t.settings;return null!==(e=null==n?void 0:n.snoozed)&&void 0!==e?e:{}})),w=(0,r.P1)(v,(function(t){return null==t?void 0:t.skuIds})),T=(0,r.P1)(w,(function(t,e){return e}),(function(t,e){return!!t&&t.includes(null==e?void 0:e.skuId)})),O=(0,r.P1)(T,m,(function(t,e){return t&&(null==e?void 0:e.activationState)===u.bL_})),x=((0,r.P1)(h,(function(t,e){return e}),(function(t,e){var n;return(null===(n=t.sellers[e.sellerId])||void 0===n?void 0:n.activationState)===u.bL_})),(0,r.P1)(h,(function(t){var e=t.settings;return Object.keys(e).some((function(t){var n=e[t];return Object.keys(n).some((function(t){var e;return(null===(e=n[t])||void 0===e?void 0:e.activationState)===u.bL_}))}))}))),I=(0,r.P1)(h,(function(t){return null==t?void 0:t.enableAmsSyncUserFromShopBack}))},49485:
/*!************************************!*\
  !*** ./src/shared/selectors/cc.js ***!
  \************************************/(t,e,n)=>{n.d(e,{q:()=>r});var r=function(t){return t.cc}},6688:
/*!*********************************************!*\
  !*** ./src/shared/selectors/experiments.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{EZ:()=>l,eR:()=>f,Tk:()=>p,Zb:()=>d,Qr:()=>v,k:()=>g,IM:()=>y,vb:()=>m});var r=n(/*! reselect */22222),o=n(/*! ./settings */89489),i=n(/*! ./cc */49485);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t){return t.experiments},s="extension-merchant-off",l=(0,r.P1)(o.TQ,(function(t){var e=[],n=[s];return t.some((function(t){return e.some((function(e){return t===e}))||n.some((function(e){return t.includes(e)}))}))})),f=(0,r.P1)(u,(function(t){return 0!==Object.keys(t).length})),p=(0,r.P1)(o.TQ,u,(function(t,e){return Object.keys(e).filter((function(e){return!t.includes(e)}))})),h=(0,r.P1)(o.TQ,u,i.q,(function(t,e){return e.merchantId}),(function(t,e,n,r){if(!r)return!1;var o,i=t.filter((function(t){return t.includes(s)})),c=a(i);try{for(c.s();!(o=c.n()).done;){var u,l,f,p=a((null===(u=e[o.value])||void 0===u||null===(l=u.payload)||void 0===l?void 0:l[n])||[]);try{for(p.s();!(f=p.n()).done;){var h=f.value;if(h.id===r)return h}}catch(t){p.e(t)}finally{p.f()}}}catch(t){c.e(t)}finally{c.f()}return null})),d=(0,r.P1)(h,(function(t){return!!t&&!t.on})),v=(0,r.P1)(h,(function(t){return!!t})),g=(0,r.P1)(o.TQ,u,i.q,(function(t,e,n){return t.filter((function(t){return t.includes(s)})).reduce((function(t,r){var o,i,a=((null===(o=e[r])||void 0===o||null===(i=o.payload)||void 0===i?void 0:i[n])||[]).filter((function(t){return!t.on})).map((function(t){return t.id}));return t.concat(a)}),[])})),y=(0,r.P1)(h,d,(function(t,e){return!!t&&(e&&Boolean(t.friendlyNotifierEnabled))})),m=(0,r.P1)(h,d,(function(t,e){return!!t&&(e&&Boolean(t.compliancePopupEnabled))}))},51693:
/*!***********************************************!*\
  !*** ./src/shared/selectors/extensionMeta.js ***!
  \***********************************************/(t,e,n)=>{n.d(e,{hn:()=>i,bo:()=>a,Gw:()=>c,jR:()=>u});var r=n(/*! reselect */22222),o=function(t){return null==t?void 0:t.extension},i=(0,r.P1)(o,(function(t){return!(null==t||!t.loggerEnabled)})),a=(0,r.P1)(o,(function(t){return null==t?void 0:t.version})),c=(0,r.P1)(o,(function(t){return(null==t?void 0:t.previousVersion)||""})),u=(0,r.P1)(o,(function(t){return(null==t?void 0:t.sbExtId)||""}))},96965:
/*!******************************************!*\
  !*** ./src/shared/selectors/merchant.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{_P:()=>s,$K:()=>l,RX:()=>h,v6:()=>d,Jz:()=>v,wA:()=>g,hY:()=>y,hA:()=>E,V2:()=>b,Iw:()=>_,ki:()=>w,FK:()=>T,xB:()=>O});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants */62620),c=n(/*! ../utils/commonUtils */26426),u=function(t,e){return e.merchant},s=(0,i.P1)(u,(function(t){return o()(t,"merchantId",-1)})),l=(0,i.P1)(u,(function(t){return o()(t,"name","")})),f=(0,i.P1)(u,(function(t){return o()(t,"cashbackNotifierClosedAt",null)})),p=(0,i.P1)(u,(function(t){return!!o()(t,"popupEnabled")})),h=(0,i.P1)(u,(function(t){return o()(t,"friendlyNotifierEnabled",!1)})),d=(0,i.P1)(u,(function(t){return o()(t,"compliancePopupEnabled",!1)})),v=(0,i.P1)(u,p,(function(t,e){return!!o()(t,"cashbackNotifierEnabled",e)})),g=(0,i.P1)(u,(function(t){return!!o()(t,"confirmationPopupEnabled")})),y=(0,i.P1)(u,(function(t){return!!o()(t,"standDown",!1)})),m=(0,i.P1)(u,(function(t){return o()(t,"cashback",null)})),E=(0,i.P1)(m,(function(t){return Boolean(t&&parseFloat(t.amount))})),b=(0,i.P1)(f,(function(t){if(!t)return!0;var e=(0,c.Dy)();return"number"==typeof t&&e-t>a.PJX})),_=(0,i.P1)(u,(function(t){return!!o()(t,"isTaobao")})),w=function(t){var e,n;if(null==t||!t.oldCashback)return!1;var r=parseFloat(null===(e=t.cashback)||void 0===e?void 0:e.amount),o=parseFloat(null===(n=t.oldCashback)||void 0===n?void 0:n.amount);return r>0&&o>0&&r>o},T=(0,i.P1)(u,(function(t){return o()(t,"disableNotifierOpened",!1)})),O=(0,i.P1)(u,(function(t){return o()(t,"inBrowserCrawlerEnabled",!1)}))},26846:
/*!*******************************************!*\
  !*** ./src/shared/selectors/merchants.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{pF:()=>O,FO:()=>x,go:()=>I,BD:()=>P,Lz:()=>A,qL:()=>L,_t:()=>R,Ci:()=>j,cY:()=>F,$E:()=>U,SS:()=>D,Lb:()=>M,JG:()=>H,Ay:()=>B,ri:()=>G,nv:()=>X,Mp:()=>Z,yn:()=>K,BF:()=>V,_P:()=>W,hq:()=>Y,hb:()=>z,kS:()=>q,j_:()=>Q,f6:()=>J,NQ:()=>$,WZ:()=>tt,UE:()=>et,hv:()=>nt,At:()=>rt});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/slicedToArray */63038),a=n.n(i),c=n(/*! lodash/cloneDeep */50361),u=n.n(c),s=n(/*! lodash/get */27361),l=n.n(s),f=n(/*! lodash/isEmpty */41609),p=n.n(f),h=n(/*! lodash/isEqual */18446),d=n.n(h),v=n(/*! reselect */22222),g=n(/*! reselect */44815),y=n(/*! ../constants/apiStatus */90623),m=n(/*! ./tabs */45887),E=n(/*! ../urls */4536),b=n(/*! ./activation */83582),_=n(/*! ./experiments */6688),w=n(/*! ./merchant */96965);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var O=function(t){return t.merchants},x=(0,v.P1)(O,(function(t){var e=t.byId;return u()(e)})),I=(0,v.P1)(O,x,(function(t,e){return t.all.map((function(t){return e[t]})).filter(Boolean)})),S=(0,v.P1)(O,x,(function(t,e){return t.topIds.map((function(t){return e[t]})).filter(Boolean)})),P=(0,v.P1)(O,x,(function(t,e){return t.personalRecommendationIds.map((function(t){return e[t]})).filter(Boolean)})),k=function(t,e){return e.url},C=function(t,e){return null==e?void 0:e.id};var N,A=(0,v.P1)(x,C,(function(t,e){return t[e]})),L=(0,v.P1)([I],(function(t){return t.filter((function(t){return t.isTaobao}))})),R=(0,v.wN)(g.PW,d())([I,k,function(t,e){return(0,E.lb)(e.url)}],(function(t,e,n){if(n){var r=a()(n,2),o=r[0],i=r[1],c=t.filter((function(t){var n=t.urlPattern?new RegExp(t.urlPattern):null;return(o.indexOf(t.urlDomain)>=0||i.indexOf(t.urlDomain)>=0)&&n&&n.test(e)}));if(c.length)return u=c,s=a()(u,1)[0],u.forEach((function(t){t.rx>s.rx&&(s=t)})),s}var u,s;return null})),j=(0,v.P1)((function(t,e){return e.merchant}),k,m.jv,(function(t,e,n){var r=e||n;return t&&t.metadata&&t.metadata.confirmationUrlsAndPatterns&&Array.isArray(t.metadata.confirmationUrlsAndPatterns)&&t.metadata.confirmationUrlsAndPatterns.find((function(t){return!!t&&!!t.confirmationUrlPattern&&new RegExp(t.confirmationUrlPattern).test(r)}))||{}})),F=(0,v.P1)([j],(function(t){return!p()(t)})),U=((0,v.P1)([function(t){return t},I,k],(function(t,e,n){return e.find((function(e){return F(t,{merchant:e,url:n})}))})),(0,v.P1)(A,(function(t){return t}))),D=(0,v.P1)([I,C],(function(t,e){return t.find((function(t){var n=Object.keys(t.partnershipStores);return n.length>0&&n.indexOf("".concat(e))>-1}))})),M=(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.merchant}],(function(t,e,n){var r;if(null==n||null===(r=n.metadata)||void 0===r||!r.checkReferrer)return!1;if(!e)return!0;var o=R(t,{url:e});return!((0,E.Sj)(t.cc,e)||(null==o?void 0:o.merchantId)===n.merchantId)})),H=(0,v.P1)([function(t){return t},function(t,e){return e.referrer},function(t,e){return e.currentUrl},function(t,e){return e.merchant}],(function(t,e,n,r){var o;if(null==r||null===(o=r.metadata)||void 0===o||!o.checkReferrer)return!1;if(!e)return!0;var i=(0,E.Sj)(t.cc,e),a="booking-com"===r.shortname,c=Boolean(new URL(e).searchParams.get("aid")),u=Boolean(new URL(n).searchParams.get("aid"));return!(i||!a)&&!(c&&u)})),B=(0,v.P1)([function(t,e){return e.merchant},b.tm,b.EJ],(function(t,e,n){if(!t||!e)return t;var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t),i=t.partnershipStores[n.partnershipId];return r.activationUrl=i.activationUrl,r.activationUrl=i.activationUrl,r.cashbackAmount=i.cashbackAmount,r.cashbackAmount=i.cashbackAmount,r.cashbackHeader=i.cashbackHeader,r.reActivateX=i.reActivateX,r.cashbackTiers=i.cashbackTiers,r.cashbackTiers=i.cashbackTiers,r.cashback=i.cashback,r})),G=(0,v.P1)([function(t,e){return e.merchant}],(function(t){return t&&t.metadata.reloadTabs})),X=(0,v.P1)(A,(function(t){return t&&t.standDownAt})),Z=(0,v.P1)(A,(function(t){return!(!t||!t.cashback)&&!!parseFloat(t.cashback.amount)})),K=(0,v.P1)([S],(function(t){return t.filter((function(t){var e;return!!parseFloat(null==t||null===(e=t.cashback)||void 0===e?void 0:e.amount)}))})),V=(0,v.P1)([function(t,e){return e.elements.filter((function(t){return!t.getAttribute("shopback-serp")}))},function(t,e){return e.serpDomainObj},function(t){return t}],(function(t,e,n){var r=[];return t.forEach((function(t){var o,i,c=null!==(o=null===(i=t.querySelector(e.serpLinkPattern))||void 0===i?void 0:i.textContent)&&void 0!==o?o:"",u=c.split("\u203a"),s=a()(u,1)[0].trim();"yahoo"===e.domain||"naver"===e.domain?c="https://".concat(s):"google"===e.domain&&(c=s);var l=R(n,{url:c}),f=(0,_.Zb)(n,{merchantId:null==l?void 0:l.merchantId});l&&!1!==l.isSerpEnabled&&!f&&r.push({searchItemElement:t,merchant:l})})),r})),W=((0,v.P1)([I],(function(t){var e={};return t.forEach((function(t){e[t.merchantId]={logoUrl:t.logoUrl,activationUrl:t.activationUrl,hasCashback:!!t.cashback&&!!parseFloat(t.cashback.amount)}})),e})),(0,v.P1)(I,(function(t,e){return e.affiliateId}),(function(t,e){return t.find((function(t){return t.affiliatedId===e}))})),(0,v.P1)([R],(function(t){return t?t.merchantId:-1}))),Y=(0,v.P1)(O,(function(t){return l()(t,"stats")})),z=(0,v.P1)(Y,(function(t){return l()(t,"topMerchantsApiStatus",y.WI)})),q=(0,v.P1)(Y,(function(t){return l()(t,"isPersonalRecommendationLoading",!1)})),Q=(0,v.P1)(A,(function(t){return l()(t,"tnc")})),J=(0,v.P1)(Y,(function(t){return l()(t,"isTnCLoading",!1)})),$=(0,v.P1)(Y,(function(t){return l()(t,"tncApiStatus",y.WI)})),tt=((0,v.P1)(Y,(function(t){return l()(t,"merchantsDetailApiStatus",y.WI)})),(0,v.P1)(A,(function(t){return l()(t,"currentOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"betterComparisonOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"worseComparisonOffer",{})})),(0,v.P1)(A,(function(t){return l()(t,"matchedPrograms",[])})),(0,v.P1)((N=A,function(t,e){return p()(t)?null:N(t,e)}),(function(t,e){return e.merchant}),(function(t,e){var n=t||e||{},r=n.merchantId,o=n.name,i=n.cashback;return{merchant_id:r||null,merchant_name:o||null,is_affiliate_merchant:!!parseFloat(null==i?void 0:i.amount)||!1}}))),et=(0,v.P1)(O,x,(function(t,e){var n,r=t.upsizedIds;return(null==r||null===(n=r.map)||void 0===n?void 0:n.call(r,(function(t){return null==e?void 0:e[t]})).filter((function(t){return!!t&&(0,w.ki)(t)})))||[]})),nt=(0,v.P1)(Y,(function(t){return l()(t,"isUpsizedMerchantsLoading",!1)})),rt=((0,v.P1)(Y,(function(t){return l()(t,"upsizedMerchantApiStatus",y.WI)})),(0,v.P1)(O,(function(t){return t.etag})))},67522:
/*!********************************************!*\
  !*** ./src/shared/selectors/permission.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{nu:()=>a,V7:()=>c,Cx:()=>u});var r=n(/*! reselect */22222),o=n(/*! ../constants */62620),i=function(t,e){if(e.merchant)return t.permission[e.merchant.merchantId]},a=function(t){return Object.keys(t.permission).length>0},c=(0,r.P1)([i],(function(t){return!!t})),u=(0,r.P1)([i],(function(t){if(t){if(!t.ts)return!0;var e=t.ts;return Date.now()-e>o.NkW}return!1}))},89489:
/*!************************************************!*\
  !*** ./src/shared/selectors/settings/index.js ***!
  \************************************************/(t,e,n)=>{n.d(e,{Gw:()=>s,nz:()=>l,jM:()=>f,wJ:()=>h,bS:()=>d,hT:()=>v,kv:()=>g,TQ:()=>y,Om:()=>m});var r=n(/*! reselect */22222),o=n(/*! semver/functions/lt */21544),i=n.n(o),a=n(/*! shared/urls */4536),c=n(/*! ../cc */49485),u=n(/*! ../extensionMeta */51693),s=function(t){return t.settings},l=(0,r.P1)(s,(function(t){return t.cashbackDisableReasons||[]})),f=(0,r.P1)(s,(function(t){return t.minSupportVersion})),p=(0,r.P1)(s,(function(t){return!!t.showNonFunctionalIcon})),h=(0,r.P1)(u.bo,f,p,(function(t,e,n){return i()(t,e)&&n})),d=(0,r.P1)(s,(function(t){return t.postInstallUrl||a.UL})),v=(0,r.P1)(s,c.q,(function(t,e){return t.postInstallTooltipImgUrl||a.lq[e.toUpperCase()]})),g=(0,r.P1)(c.q,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SG";return a.y7[t]})),y=((0,r.P1)(s,(function(t){return t&&t.trackingSessionTimeout})),(0,r.P1)(s,(function(t){return t.amplitudeExperimentsKeys||[]}))),m=((0,r.P1)(s,(function(t){return t.optInPermissionNotifierShown})),(0,r.P1)(s,(function(t){return t.etag})))},40062:
/*!***************************************************************!*\
  !*** ./src/shared/selectors/settings/serviceEnableCountry.js ***!
  \***************************************************************/(t,e,n)=>{n.d(e,{OY:()=>f,tV:()=>p,CW:()=>h,Cq:()=>d,Bp:()=>v,OU:()=>g,FK:()=>y,Lf:()=>m,G$:()=>E,y8:()=>b,l7:()=>_});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! semver/functions/gte */25903),c=n.n(a),u=n(/*! shared/constants */62620),s=n(/*! ../extensionMeta */51693),l=n(/*! ./ */89489),f=function(){return u.G9E},p=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.aliExpress)})),h=(0,i.P1)(l.bS,s.bo,l.jM,(function(t,e,n){return u.G9E&&window.location.pathname===t&&c()(e,n)})),d=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.showAmsNotifier)})),v=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableVoucher)})),g=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableWatchlist)})),y=(0,i.P1)(l.Gw,(function(t){return o()(t,"enableInBrowserCrawler",!1)})),m=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableLogForTrack)})),E=((0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableNewRegion)})),(0,i.P1)(l.Gw,(function(t){return new Set(t.enableCountries)}))),b=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorInContent)})),_=(0,i.P1)(l.Gw,(function(t){return!(null==t||!t.enableActivatorWithWebMessage)}))},20045:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/userPreferences.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{nl:()=>i,g6:()=>a,Wb:()=>c});var r=n(/*! reselect */22222),o=n(/*! ./ */89489),i=(0,r.P1)(o.Gw,(function(t){return t.userPreferences})),a=(0,r.P1)(i,(function(t){return t.cookiesEnabled})),c=(0,r.P1)(i,(function(t){return t.eventsEnabled}));(0,r.P1)(i,(function(t){return t.personalDataEnabled}))},80905:
/*!**********************************************************!*\
  !*** ./src/shared/selectors/settings/websitePatterns.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{SL:()=>a,KT:()=>c,Ql:()=>s,wg:()=>l,xf:()=>h,am:()=>v,WW:()=>g});var r=n(/*! reselect */22222),o=n(/*! ../tabs */45887),i=n(/*! ./ */89489),a=(0,r.P1)(i.Gw,(function(t){return t.websitePatterns})),c=(0,r.P1)(a,(function(t){return t.aliExpressNavigator})),u=((0,r.P1)(c,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),(0,r.P1)(c,(function(t){var e=t.productPageUrls;return e.length?e.map((function(t){return new RegExp(t)})):[]}))),s=(0,r.P1)(u,o.jv,(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),l=(0,r.P1)(u,o.jv,(function(t,e){return e.url}),(function(t,e,n){var r=n||e;if(!t.length)return null;for(var o=null,i=0;i<t.length&&!(o=r.match(t[i]));++i);return o&&o.groups?o.groups.pid:null})),f=(0,r.P1)(a,(function(t){return t.aliExpressCartPageIndicator})),p=(0,r.P1)(f,(function(t){var e=t.urls;return e.length?e.map((function(t){return new RegExp(t)})):[]})),h=(0,r.P1)(p,(function(t,e){return e.url}),(function(t,e){return!!t.length&&t.some((function(t){return t.test(e)}))})),d=(0,r.P1)(f,(function(t){return t.cssSelectors||{}})),v=(0,r.P1)(d,(function(t){return t.productField})),g=(0,r.P1)(d,(function(t){return t.productLink}))},45887:
/*!**************************************!*\
  !*** ./src/shared/selectors/tabs.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{Ko:()=>a,jv:()=>c,f4:()=>u,k3:()=>s,Ij:()=>l,ed:()=>f,Lo:()=>p});var r=n(/*! lodash/get */27361),o=n.n(r),i=n(/*! reselect */22222),a=(0,i.P1)((function(t){return t.tabs}),(function(t,e){return e.tabId}),(function(t,e){return t[e]})),c=(0,i.P1)(a,(function(t){return o()(t,"url",null)})),u=(0,i.P1)(a,(function(t){return(null==t?void 0:t.prevUrl)||(null==t?void 0:t.openerUrl)||null})),s=((0,i.P1)(a,(function(t){return o()(t,"openerUrl",null)})),(0,i.P1)(a,(function(t){return o()(t,"merchantId",null)}))),l=((0,i.P1)(a,(function(t){return o()(t,"merchantName",null)})),(0,i.P1)(a,(function(t){return o()(t,"shoppingtripId",null)}))),f=(0,i.P1)(a,(function(t){return!!o()(t,"autoClose",!1)})),p=(0,i.P1)(a,(function(t){return void 0===t}))},11775:
/*!****************************************!*\
  !*** ./src/shared/selectors/taoBao.js ***!
  \****************************************/(t,e,n)=>{n.d(e,{Vj:()=>c,rA:()=>s,oF:()=>l,n2:()=>f,xK:()=>p,tf:()=>h,Ne:()=>v,Dp:()=>g,lQ:()=>y,xg:()=>m,x6:()=>w,wm:()=>T,BJ:()=>O,n6:()=>x,cK:()=>I});var r=n(/*! reselect */22222),o=function(t,e){return e.url},i=function(t,e){return e.referrer},a=function(t){return t.taoBao},c=function(t){return t.settings.taoBao2021},u=(0,r.P1)([c],(function(t){return t.productPagePatterns})),s=(0,r.P1)([c],(function(t){return t.shoppingCartPagePatterns})),l=(0,r.P1)([a,function(t,e){return e.tabId}],(function(t,e){return t.activatedProductIdInTab[e]})),f=(0,r.P1)([o],(function(t){return new URL(t).searchParams.get("id")||""})),p=(0,r.P1)([a],(function(t){return!!t.notifierOpened})),h=(0,r.P1)([a],(function(t){return!!t.confirmationNotifierOpened})),d=(0,r.P1)([a,f],(function(t,e){return t.products[e]})),v=(0,r.P1)([a],(function(t){return t.products})),g=((0,r.P1)([a],(function(t){return Object.keys(t.products)})),(0,r.P1)([u,f,o],(function(t,e,n){return!!(e&&t&&t.some((function(t){return new RegExp(t).test(n)})))}))),y=(0,r.P1)([c,o],(function(t,e){var n=new URL(e);return n.searchParams.has(t.aliTrackIdParamKey)&&n.searchParams.get(t.aliTrackIdParamKey).startsWith(t.aliTrackIdParamValue)})),m=(0,r.P1)([function(t,e){return e.merchant}],(function(t){return!(!t||!t.popupEnabled)})),E=(0,r.P1)([i],(function(t){return!(!t||!new URL(t).searchParams.get("key"))})),b=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.aiTaoBaoSearchPattern).test(e)})),_=(0,r.P1)([c,i],(function(t,e){return new RegExp(t.taoBaoCouponPageUrlPattern).test(e)})),w=(0,r.P1)([y,b,_,E],(function(t,e,n,r){return!(!t||!(e&&r||n))})),T=(0,r.P1)([g,d,w],(function(t,e,n){return!(!t||n||e&&!e.apiError)})),O=(0,r.P1)([s,o],(function(t,e){return t.some((function(t){return new RegExp(t).test(e)}))})),x=(0,r.P1)([a],(function(t){return t.closeTaoBaoNotifierAt})),I=(0,r.P1)([a],(function(t){var e,n;return null!==(e=null==t||null===(n=t.settings)||void 0===n?void 0:n.snoozed)&&void 0!==e?e:{}}))},45786:
/*!**************************************!*\
  !*** ./src/shared/selectors/user.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{jl:()=>c,Yv:()=>u,LC:()=>s,fJ:()=>l,bG:()=>f,n5:()=>p,K5:()=>h,zw:()=>d,Ai:()=>v,kv:()=>g,UN:()=>y,dC:()=>m});var r=n(/*! reselect */22222),o=n(/*! ../constants/apiStatus */90623),i=function(t){return t.user},a=function(t,e){return e.cc},c=(0,r.P1)([i],(function(t){return!!t.token})),u=(0,r.P1)([i,a],(function(t,e){return!!t.loginHistories[e]})),s=(0,r.P1)([i,a],(function(t,e){return t.loginHistories[e]})),l=(0,r.P1)(i,(function(t){return null==t?void 0:t.token})),f=((0,r.P1)(i,(function(t){return null==t?void 0:t.refreshToken})),(0,r.P1)(i,(function(t){return null==t?void 0:t.info}))),p=(0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.id})),h=(0,r.P1)(i,(function(t){var e;return null==t||null===(e=t.info)||void 0===e?void 0:e.uuid})),d=(0,r.P1)(f,(function(t){return(null==t?void 0:t.cashbacks)||[]})),v=(0,r.P1)(f,(function(t){var e,n;return(null==t||null===(e=t.programs)||void 0===e||null===(n=e.subscription)||void 0===n?void 0:n.is_enrolled)||!1})),g=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isFetchingUserInfo)||!1})),y=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsFetching)||!1})),m=(0,r.P1)(i,(function(t){return(null==t?void 0:t.isRecentCbsError)||!1}));(0,r.P1)(i,(function(t){return(null==t?void 0:t.recentCbsAPIStatus)||o.WI})),(0,r.P1)(i,(function(t){return(null==t?void 0:t.accountAPIStatus)||o.WI}))},7358:
/*!******************************************!*\
  !*** ./src/shared/selectors/vouchers.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{Fq:()=>s,wi:()=>f,_S:()=>p,op:()=>h,AI:()=>d,vh:()=>v,u7:()=>g});var r=n(/*! lodash/isObject */13218),o=n.n(r),i=n(/*! reselect */22222),a=n(/*! ../constants/apiStatus */90623),c=function(t){return t.vouchers},u=function(t){return t.vouchers.settings},s=(0,i.P1)((function(t){return t.settings}),(function(t){return(null==t?void 0:t.voucherMerchants)||{}})),l=function(t,e){return e.merchantName},f=(0,i.P1)([s,function(t,e){return e.url}],(function(t,e){var n;if(!e)return"";var r=new URL(e),o=r.hostname,i=r.pathname;if(1===(null==t||null===(n=t[o])||void 0===n?void 0:n.length))return t[o][0].merchantName;if(o in t){var a=t[o],c="".concat(o).concat(i),u=a.find((function(t){return t.merchantUrl.replace(/^https?:\/\//,"").split("/").every((function(t){return c.indexOf(t)>-1}))}));if(u)return(null==u?void 0:u.merchantName)||""}return""})),p=(0,i.P1)([c,l],(function(t,e){return o()(t)&&e in t?t[e]:{}})),h=(0,i.P1)([u,l],(function(t,e){var n,r;return null===(n=null==t||null===(r=t[e])||void 0===r?void 0:r.display)||void 0===n||n})),d=(0,i.P1)([c,l],(function(t,e){var n;return(null==t||null===(n=t[e])||void 0===n?void 0:n.apiStatus)||a.WI})),v=(0,i.P1)([u,l],(function(t,e){var n,r;return null!==(n=null==t||null===(r=t[e])||void 0===r?void 0:r.position)&&void 0!==n?n:{y:.1}})),g=(0,i.P1)([u],(function(t){var e;return null!==(e=null==t?void 0:t.snoozed)&&void 0!==e?e:{}}))},43793:
/*!********************************************!*\
  !*** ./src/shared/styledComponents/css.js ***!
  \********************************************/(t,e,n)=>{n.d(e,{vL:()=>o,Z4:()=>i,_R:()=>a});var r=n(/*! styled-components */23588),o=(0,r.iv)(["display:flex;flex-direction:row;"]),i=(0,r.iv)(["display:flex;flex-direction:column;"]),a=(0,r.iv)(["display:flex;justify-content:center;align-items:center;"])},20136:
/*!**********************************************!*\
  !*** ./src/shared/styledComponents/index.js ***!
  \**********************************************/(t,e,n)=>{n.d(e,{Dz:()=>s,NH:()=>l,x1:()=>f,zl:()=>p,sX:()=>h,z4:()=>d,AE:()=>v,xv:()=>g,zx:()=>y,PZ:()=>m,Dd:()=>b});var r=n(/*! polished */56978),o=n(/*! styled-components */23588),i=n(/*! ../../assets/shared/close3.png */19765),a=n(/*! ../constants */62620),c=n(/*! ./css */43793),u=null===!1&&!1,s=o.ZP.div.withConfig({displayName:"styledComponents__EmptyWidth",componentId:"jmlbk0-0"})(["&&{width:",";}"],(function(t){return t.width})),l=o.ZP.div.withConfig({displayName:"styledComponents__EmptyHeight",componentId:"jmlbk0-1"})(["&&{min-height:",";}"],(function(t){return t.height})),f=o.ZP.div.withConfig({displayName:"styledComponents__Line",componentId:"jmlbk0-2"})(["&&{width:",";height:",";border:none;border-top:solid 1px #ebebeb;background-color:",";}"],(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"1px"}),(function(t){return t.backgroundColor?t.backgroundColor:null})),p=((0,o.ZP)(f).withConfig({displayName:"styledComponents__DottedLine",componentId:"jmlbk0-3"})(["&&{border-top:dotted 2px #ebebeb;width:",";}"],(function(t){return t.width?t.width:"100px"})),o.ZP.div.withConfig({displayName:"styledComponents__FlexRowContainer",componentId:"jmlbk0-4"})(["&&{",";flex:",";width:",";margin:",";}"],c.vL,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.margin?t.margin:null}))),h=(0,o.ZP)(p).withConfig({displayName:"styledComponents__FlexRowCenterContainer",componentId:"jmlbk0-5"})(["&&{",";}"],c._R),d=o.ZP.div.withConfig({displayName:"styledComponents__FlexColumnContainer",componentId:"jmlbk0-6"})(["&&{",";flex:",";width:",";height:",";margin:",";}"],c.Z4,(function(t){return t.flex?t.flex:null}),(function(t){return t.width?t.width:null}),(function(t){return t.height?t.height:null}),(function(t){return t.margin?t.margin:null})),v=(0,o.ZP)(d).withConfig({displayName:"styledComponents__FlexColumnCenterContainer",componentId:"jmlbk0-7"})(["&&{",";}"],c._R),g=(o.ZP.div.withConfig({displayName:"styledComponents__CenterScreenContainer",componentId:"jmlbk0-8"})(["&&{",";position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647 !important;background-color:",";}"],c._R,(function(t){return t.backgroundColor?t.backgroundColor:null})),o.ZP.div.withConfig({displayName:"styledComponents__Text",componentId:"jmlbk0-9"})(["&&{",";}"],(function(t){var e=t.width,n=void 0===e?"unset":e,r=t.height,i=void 0===r?"unset":r,c=t.fontFamily,s=void 0===c?u?a.kqf:a.utx:c,l=t.fontSize,f=void 0===l?"16px":l,p=t.fontWeight,h=void 0===p?"normal":p,d=t.fontStyle,v=void 0===d?"normal":d,g=t.fontStretch,y=void 0===g?"normal":g,m=t.lineHeight,E=void 0===m?"normal":m,b=t.letterSpacing,_=void 0===b?"normal":b,w=t.textAlign,T=void 0===w?"center":w,O=t.color,x=void 0===O?"#40485a":O,I=t.cursor,S=void 0===I?"unset":I,P=t.margin,k=void 0===P?"unset":P,C=t.whiteSpace,N=void 0===C?"unset":C,A=t.customStyle,L=void 0===A?{}:A;return(0,o.iv)(["width:",";height:",";font-family:"," !important;font-size:",";font-weight:",";font-style:",";font-stretch:",";line-height:",";letter-spacing:",";text-align:",";color:",";cursor:",";margin:",";white-space:",";",","],n,i,s,f,h,v,y,E,_,T,x,S,k,N,L)}))),y=o.ZP.div.withConfig({displayName:"styledComponents__Button",componentId:"jmlbk0-10"})(["&&{",";}"],(function(t){var e=t.position,n=void 0===e?"unset":e,r=t.top,i=void 0===r?"unset":r,a=t.bottom,c=void 0===a?"unset":a,u=t.left,s=void 0===u?"unset":u,l=t.right,f=void 0===l?"unset":l,p=t.width,h=void 0===p?"262px":p,d=t.height,v=void 0===d?"40px":d,g=t.borderRadius,y=void 0===g?"3px":g,m=t.backgroundColor,E=void 0===m?"#ff3407":m,b=t.backgroundImage,_=void 0===b?"unset":b,w=t.color,T=void 0===w?"unset":w,O=t.cursor,x=void 0===O?"unset":O,I=t.margin,S=void 0===I?"unset":I;return(0,o.iv)(["display:flex;justify-content:center;align-items:center;position:",";top:",";bottom:",";left:",";right:",";width:",";height:",";border-radius:",";background-color:",";background-image:",";color:",";cursor:",";margin:",";"],n,i,c,s,f,h,v,y,E,_,T,x,S)})),m=o.ZP.div.withConfig({displayName:"styledComponents__CloseButton",componentId:"jmlbk0-11"})(["&&{background-image:url(",") !important;background-size:contain;background-repeat:no-repeat;width:"," !important;height:"," !important;position:absolute !important;top:","!important;right:","!important;cursor:pointer !important;z-index:2147483647 !important;}"],i,(function(t){return t.width?t.width:"14px"}),(function(t){return t.height?t.height:"14px"}),(function(t){return t.top?t.top:"56px"}),(function(t){return t.right?t.right:"16px"})),E=o.ZP.div.withConfig({displayName:"styledComponents__HalfCircle",componentId:"jmlbk0-12"})(["&&{width:","px;height:","px;background-color:",";}"],(function(t){return t.size}),(function(t){return 2*t.size}),(function(t){return t.backgroundColor?t.backgroundColor:"#9e978e"})),b=((0,o.ZP)(E).withConfig({displayName:"styledComponents__RightHalfCircle",componentId:"jmlbk0-13"})(["&&{border-bottom-right-radius:","px;border-top-right-radius:","px;background-image:linear-gradient(to top right,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),(0,o.ZP)(E).withConfig({displayName:"styledComponents__LeftHalfCircle",componentId:"jmlbk0-14"})(["&&{border-bottom-left-radius:","px;border-top-left-radius:","px;background-image:linear-gradient(to top left,#f8f8f8,#f5f5f5,#c8c8c8);}"],(function(t){return 2*t.size}),(function(t){return 2*t.size})),o.ZP.div.withConfig({displayName:"styledComponents__GradientGreyRectangle",componentId:"jmlbk0-15"})(["&&{width:",";height:",";position:absolute;background:-webkit-linear-gradient(#ffffff,90%,#f8f8f8);background:-o-linear-gradient(#ffffff,90%,#f8f8f8);background:-moz-linear-gradient(#ffffff,90%,#f8f8f8);background:linear-gradient(#ffffff,90%,#f8f8f8);z-index:0;}"],(function(t){return t.width?t.width:"600px"}),(function(t){return t.height?t.height:"40px"})),o.ZP.div.withConfig({displayName:"styledComponents__CheckboxDiv",componentId:"jmlbk0-16"})(["&&{display:flex;justify-content:",";align-items:",";width:",";height:",";border-radius:",";background-color:",";cursor:",";}"],(function(t){return t.justifyContent?t.justifyContent:"left"}),(function(t){return t.alignItems?t.alignItems:"left"}),(function(t){return t.width?t.width:"262px"}),(function(t){return t.height?t.height:"40px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.backgroundColor?t.backgroundColor:"#ffffff"}),(function(t){return t.cursor?t.cursor:null})),o.ZP.input.attrs((function(t){return{type:t.type||"checkbox"}})).withConfig({displayName:"styledComponents__Checkbox",componentId:"jmlbk0-17"})(["&&{top:0;left:0;cursor:pointer !important;display:block !important;opacity:"," !important;position:"," !important;width:"," !important;height:"," !important;border-radius:",";border:solid 1px #d6d6d6 !important;background-color:#ffffff !important;padding:"," !important;margin:",";appearance:",";}"],(function(t){return t.opacity?t.opacity:"100"}),(function(t){return t.position?t.position:"static"}),(function(t){return t.width?t.width:"16px"}),(function(t){return t.height?t.height:"16px"}),(function(t){return t.borderRadius?t.borderRadius:"3px"}),(function(t){return t.padding?t.padding:"0"}),(function(t){return t.margin?t.margin:"0 0 0 0"}),(function(t){return t.appearance?t.appearance:"none"})),o.ZP.div.withConfig({displayName:"styledComponents__SearchResultNumber",componentId:"jmlbk0-18"})(["&&{font-family:",";min-height:22px;font-size:16px;font-weight:bold;font-style:normal;font-stretch:normal;line-height:1.38;letter-spacing:normal;color:#40485a;margin-left:16px;margin-bottom:8px;display:",";}"],a.utx,(function(t){return t.displayResult})),(0,o.ZP)(g).withConfig({displayName:"styledComponents__EllipsisText",componentId:"jmlbk0-19"})(["&&{",";}"],(0,r.LH)()))},27987:
/*!*********************************************!*\
  !*** ./src/shared/types/userPreferences.js ***!
  \*********************************************/(t,e,n)=>{n.d(e,{i:()=>s});var r,o=n(/*! @babel/runtime/helpers/defineProperty */59713),i=n.n(o),a=n(/*! prop-types */45697),c=n.n(a),u=n(/*! ../constants/userPreferences */48762),s=c().shape((r={},i()(r,u.pZ,c().bool.isRequired),i()(r,u.Eg,c().bool.isRequired),i()(r,u.wv,c().bool.isRequired),r))},4536:
/*!****************************!*\
  !*** ./src/shared/urls.js ***!
  \****************************/(t,e,n)=>{n.d(e,{l$:()=>p,Pr:()=>h,UL:()=>d,lq:()=>v,y7:()=>y,SA:()=>b,SH:()=>_,Xn:()=>w,Sj:()=>T,XF:()=>O,k6:()=>x,Eu:()=>I,A1:()=>S,yw:()=>P,kJ:()=>k,lb:()=>C,tn:()=>N,n1:()=>A,W4:()=>L,ub:()=>R,oq:()=>j,Mv:()=>F,AM:()=>U,qq:()=>D,U:()=>M,J8:()=>H,z3:()=>B,u2:()=>G,fP:()=>X,LX:()=>Z,ZD:()=>K,WV:()=>V,mZ:()=>W,Fb:()=>Y,es:()=>z,iq:()=>q,S4:()=>Q,k9:()=>J,A2:()=>$,wW:()=>tt,e2:()=>et,QP:()=>nt,mU:()=>rt,CI:()=>ot,vU:()=>it,jb:()=>at,nJ:()=>ct,QL:()=>ut,vo:()=>st,HL:()=>lt,Xl:()=>ft,dL:()=>pt,sD:()=>ht,V4:()=>dt});var r=n(/*! lodash/isArray */1469),o=n.n(r),i=n(/*! ./constants */62620),a=n(/*! ./constants/countries */53437),c=n(/*! ./envConfig */5281),u=n(/*! ./utils/qs */31541),s=c.Z.API_HOST_XX,l=c.Z.EXTENSION_STORES,f=c.Z.HELP_CENTER,p=(c.Z.SAFARI_EXTENSION_HELP_CENTER_PAGE,c.Z.URL_COUNTRY_CODE),h=c.Z.URL_SIGN_UP,d=c.Z.URL_AFTER_INSTALL,v=c.Z.POST_INSTALL_TOOLTIP_IMG_URL,g=c.Z.SB_WEBSITE_XX,y=c.Z.ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL,m=c.Z.POST_UNINSTALL_URL,E=c.Z.CUSTOM_SB_DOMAIN_HEADER;var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(g[t],"/redirect/alink"))},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(g[t],"/manage-payment-methods/success"))},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(g[t],"/login"))},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return(arguments.length>1?arguments[1]:void 0).includes("".concat(g[t]))},O=function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{api:!0}).api?s:g;return"https://".concat(e[function(t){return s[t]?t:i.UFS}(t)])},x=function(t){var e=t.split("."),n=e[e.length-1];return"com"===n.toLowerCase()?a.ZP.US:n.toUpperCase()},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return g[t]},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=g[t];return E[t]||e},P=function(){return i.P0H?l.EDGE:i.D1p?l.FIREFOX:i.G9E?l.CHROME:""},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return f[t]},C=function(){return/(?:https?:\/\/)?(?:\w+:\/)?[^:?#/\s]*?([^.\s]+\.(?:[a-z]{2,}|co\.uk|org\.uk|ac\.uk|org\.au|com\.au))(?:[:?#/]|$)/gi.exec(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}))},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/login")},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/logout")},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/payment")},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/cashback")},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/account/subscription")},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t,{api:!1}),"/manage-payment-methods/enroll?fromMerchantId=").concat(e)},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return t===a.ZP.DE?"".concat(O(t,{api:!1}),"/freunde-werben"):"".concat(O(t,{api:!1}),"/referral/invite")},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;if(e){var n=new URL(e),r="".concat(n.pathname).concat(n.search),o=encodeURIComponent(r);return"".concat(O(t,{api:!1}),"/login?redirect=").concat(o)}return"".concat(O(t,{api:!1}),"/login")},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;if(e){var n=encodeURIComponent(e);return"".concat(O(t,{api:!1}),"/login?redirect=").concat(n)}return"".concat(O(t,{api:!1}),"/login")},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/accounts")},G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.UFS;return"".concat(O(e),"/whale/merchants/terms-and-conditions/").concat(t)},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/settings")},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;if(!e)return!1;var n=new URL(e),r=new URL(N(t));return n.href===r.href},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/recommendation/merchants/personalized")},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return new URL("".concat(O(t),"/whale/extension-log"))},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/whale/ali-express/products?").concat((0,u.Pz)(e))},Y=function(t){return null!==a.ZP&&void 0!==a.ZP&&a.ZP[t]&&null!=m&&m[t]?m[t]:m.SG},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/accounts/cashbacks/latest")},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/whale/taobao/item-info/").concat(e)},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/whale/taobao/item-convert/").concat(e)},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/merchants/v2/bootstrap")},$=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.UFS,n=new URL("".concat(O(e),"/whale/merchants"));return o()(t)&&t.length>0&&n.searchParams.set("merchantIds",t.join(",")),n.toString()},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/merchants/top")},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/merchants/upsized")},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/merchants/watchlist")},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/recommendation/merchants/watchlist")},ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/experiments/variants")},it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/whale/vouchers/").concat(encodeURIComponent(e))},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/notification/snooze-settings")},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/v1/merchant-tracking/").concat(e,"/configuration")},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/v1/shoppingtrip-tracking/").concat(e,"/upload-request")},st=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t,{api:!1}),"/health")},lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS;return"".concat(O(t),"/whale/settings/notification")},ft=function(){return"https://tracking.shopback.com/client/v1/be_events"},pt=function(){return"https://tracking.shopback.com/client/v1/be_events/bulk"},ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UFS,e=arguments.length>1?arguments[1]:void 0;return"".concat(O(t),"/whale/merchants/earn-more/").concat(e,"/web-bonus-info")},dt=function(){return"https://api.shopback.sg/whale/issue"}},26426:
/*!*****************************************!*\
  !*** ./src/shared/utils/commonUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{Dy:()=>h,_n:()=>d,VV:()=>v,h$:()=>g});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! @babel/runtime/helpers/defineProperty */59713),u=n.n(c),s=(n(/*! lodash/isArray */1469),n(/*! lodash/merge */82492)),l=n.n(s);function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function v(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=d.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout((function(){e()}),t)}))},h=function(){return Date.now()},d=function(t,e,n){return l()({},t,{tabs:u()({},e,n)})},v=function(t){return new Blob([t])},g=function(){var t=a()(f().mark((function t(e){var n,r,o,i,a,c,u,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.func,r=e.shouldStopRetryFunc,o=e.delayTime,i=e.retryLimit,a=e.props,c=0,s=[];case 3:if(!(c<=i)){t.next=17;break}return t.next=6,n(a);case 6:return u=t.sent,t.next=9,r(u,a);case 9:if(!t.sent){t.next=11;break}return t.abrupt("break",17);case 11:return t.next=13,p(o);case 13:s.push(u),c++,t.next=3;break;case 17:return t.abrupt("return",{result:u,history:s,retryTimes:c>i?i:c});case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},51905:
/*!******************************************!*\
  !*** ./src/shared/utils/countryUtils.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{$A:()=>o});var r=n(/*! ../constants/countries */53437),o=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.zO.includes(null==e||null===(t=e.toUpperCase)||void 0===t?void 0:t.call(e))}},66022:
/*!**********************************************************!*\
  !*** ./src/shared/utils/fetchUtils/index.js + 4 modules ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{E:()=>x,Z:()=>S});var r=n(53131),o=n.n(r),i=n(59713),a=n.n(i),c=n(9669),u=n.n(c),s=n(82492),l=n.n(s),f=n(62620);const p={UNSUPPORTED_ERROR:900};var h=n(10360),d=n(4536),v=n(51905),g=n(29244);n(50008),n(48926),n(94097),n(85061),n(36026),n(15327),n(64867);u().defaults.headers.common[f.obn.X_SHOPBACK_AGENT]="sbconsumeragent/1.0",u().defaults.headers.common[f.obn.X_SHOPBACK_INTERNAL]="682a46b19b953306c9ee2e8deb0dc210",u().defaults.timeout=1e4;var y=function(){return u().create(void 0)},m=function(t){return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{extension:{loggerEnabled:!0}},o=r.cc,i={headers:a()({},f.obn.X_SHOPBACK_DOMAIN,(0,d.A1)(o))};return Promise.resolve().then((function(){return n.ignoreCC?Promise.resolve():function(t){return new Promise((function(e,n){(0,v.$A)(t)?e():n({errorCode:p.UNSUPPORTED_ERROR,message:"Fetch with unsupported CC: ".concat(t,".")})}))}(o)})).then((function(){return t(l()({method:e},i,n))})).catch((function(t){if(u().isCancel(t))return Promise.reject(t);var e=t.message,o=t.errorCode,i=n.url;return h.ZP.error(r,"".concat(e,", URL: ").concat(i)),t.response?(0,g.Y)(r,t):o!==p.UNSUPPORTED_ERROR&&(0,g.L)(r,"".concat(e,", URL: ").concat(i)),Promise.reject(t)}))}},E=n(1019),b=n(95346),_=n(32317),w=n(99263),T=function(t){var e,n,r="";if(null!==(e=t.response.data)&&void 0!==e&&e.errors&&t.response.data.errors.length>0)for(var o=0;o<t.response.data.errors.length;o+=1){var i=t.response.data.errors[o];"x-shopback-access-token"===i.param?r+="a, '".concat(i.value,"' "):"x-shopback-refresh-token"===i.param?r+="r, '".concat(i.value,"' "):r+="u, '".concat(i.value,"' ")}else r=null!==(n=t.response.data)&&void 0!==n&&n.error?t.response.data.error:"unknown error: ".concat(t.message);return r};var O=function(t){return{get:o()(t,"GET"),post:o()(t,"POST"),put:o()(t,"PUT"),delete:o()(t,"DELETE"),patch:o()(t,"PATCH")}},x=O((function(t,e,n,r){var o=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"")||(null==n?void 0:n.cc),i=(null==n?void 0:n.user)||{},a=i.token,c=i.refreshToken,u=!!a,s=y();return s=(0,w.ZP)(s),(s=(0,_.ZP)(s)).defaults.headers.common[f.obn.X_SHOPBACK_CLIENT_USER_AGENT]=navigator.userAgent||"extension",r&&s.interceptors.response.use(function(t,e,n){return function(r){var o=((null==r?void 0:r.data)||{}).newAccessToken;return o&&n&&(t((0,b.Vz)(o)),t((0,b.ol)({cc:e,accessToken:o}))),r}}(r,o,u),function(t,e){return function(n){var r;return 401===(null==n||null===(r=n.response)||void 0===r?void 0:r.status)&&(t((0,E.trackSystemLogout)({logout_trigger:T(n),country_code:e})),t((0,b.kS)(e)),t((0,b.xD)({cc:e}))),Promise.reject(n)}}(r,o)),s.defaults.headers.common[f.obn.X_SHOPBACK_ACCESS_TOKEN]=a||null,s.defaults.headers.common[f.obn.X_SHOPBACK_REFRESH_TOKEN]=c||null,m(s)(t,e,n)})),I=y();I=(0,w.ZP)(I),I=(0,_.ZP)(I);const S=O(m(I))},32317:
/*!**************************************************************!*\
  !*** ./src/shared/utils/fetchUtils/retryAfterInterceptor.js ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{fB:()=>u,ZP:()=>s});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r);n(/*! ../../loggers/logger */10360);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={},u=function(){c={}};const s=function(t){return t.interceptors.request.use((function(t){if(t.signal&&t.signal.aborted)return t;var e=new URL(t.url).host,n=new URL(t.url).pathname,r="".concat(e).concat(n),o=c[r],i=new AbortController;return o&&(Date.now()<o?i.abort():delete c[r]),a(a({},t),{},{signal:i.signal})})),t.interceptors.response.use((function(t){return t}),(function(t){if(t.response&&(429===t.response.status||503===t.response.status)){var e=function(t){if(t){var e=parseInt(t,10);if(!Number.isNaN(e))return 1e3*e+Date.now();var n=new Date(t);if(!Number.isNaN(n.getTime()))return n}return null}(t.response.headers.get("Retry-After"));if(e){var n=new URL(t.config.url).pathname,r=new URL(t.config.url).host;c["".concat(r).concat(n)]=e}}return Promise.reject(t)})),t}},99263:
/*!**************************************************************!*\
  !*** ./src/shared/utils/fetchUtils/throttlingInterceptor.js ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{yl:()=>l,GP:()=>f,ZP:()=>h});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=(n(/*! ../../loggers/logger */10360),n(/*! ../storage */14284));function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u="throttlingLastFetchTime",s={},l=function(){s={},i.Z.set(u,{})},f=function(t){Object.keys(s).forEach((function(e){e.startsWith(t)&&delete s[e]})),i.Z.debounceSet(u,s)};i.Z.get(u).then((function(t){t&&(s=t)}));var p=function(t){return t.throttling.throttlingKey||t.url};const h=function(t){return t.interceptors.request.use((function(t){if(!t.throttling)return t;if(t.signal&&t.signal.aborted)return t;var e=t.throttling.throttlingInterval,n=p(t),r=s[n],o=new AbortController;return r&&Date.now()-r<e&&o.abort(),c(c({},t),{},{signal:o.signal})})),t.interceptors.response.use((function(t){var e=t.config;if(e.throttling){var n=p(e);s[n]=Date.now(),i.Z.debounceSet(u,s)}return t}),(function(t){if(t.config&&t.config.throttling){var e=t.config,n=p(e);s[n]=Date.now(),i.Z.debounceSet(u,s)}return Promise.reject(t)})),t}},13779:
/*!**********************************************************!*\
  !*** ./src/shared/utils/fetchUtils/translationHeader.js ***!
  \**********************************************************/(t,e,n)=>{n.d(e,{e:()=>a});var r=n(/*! @babel/runtime/helpers/slicedToArray */63038),o=n.n(r),i=n(/*! ../../constants/countries */53437),a=function(t){var e=browser.i18n.getUILanguage();if(t===i.od.HK){var n=browser.i18n.getUILanguage().split("-"),r=o()(n,1)[0];e="".concat(r,"-HK")}return{headers:{"X-Shopback-Locale":e}}}},29244:
/*!*****************************************!*\
  !*** ./src/shared/utils/loggerUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{L:()=>s,Y:()=>l});var r=n(/*! @sentry/browser */64487),o=n(/*! semver/functions/gte */25903),i=n.n(o),a=n(/*! ../selectors/extensionMeta */51693),c=n(/*! ../selectors/settings */89489),u=function(t){var e=(0,a.bo)(t),n=(0,c.jM)(t);return i()(e,n)},s=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(t)&&(e instanceof Error?r.Tb(e,n):e.status?r.uT("Fetch Error: ".concat(e.status," ").concat(e.statusText,", URL: ").concat(e.url),n):"string"==typeof e?r.uT(e,n):r.uT(JSON.stringify(e),n))},l=function(t,e){if(u(t)&&e instanceof Error){var n,o=(null===(n=e.response)||void 0===n?void 0:n.data)||{};r.Tb(e,{extra:{responseBody:{error:JSON.stringify(o)}}})}}},38156:
/*!******************************************!*\
  !*** ./src/shared/utils/polyfillI18n.js ***!
  \******************************************/(t,e,n)=>{n.d(e,{f:()=>i,V:()=>a});var r=n(/*! lodash/hasIn */79095),o=n.n(r),i=function(t){o()(n.g.browser.i18n,"originalGetMessage")||Object.assign(n.g.browser.i18n,{originalGetMessage:browser.i18n.getMessage});Object.assign(n.g.browser.i18n,{getMessage:browser.i18n.getUILanguage().includes("zh")&&"HK"===t?function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=browser.i18n).originalGetMessage.apply(e,["hk_".concat(t)].concat(r))}:browser.i18n.originalGetMessage})},a=function(t){var e=null;t.subscribe((function(){var n=t.getState().cc;n&&e!==n&&(e=n,i(n))}))}},31541:
/*!********************************!*\
  !*** ./src/shared/utils/qs.js ***!
  \********************************/(t,e,n)=>{n.d(e,{Pz:()=>a,fD:()=>c});var r=n(/*! @babel/runtime/helpers/slicedToArray */63038),o=n.n(r),i=n(/*! ../constants */62620),a=function(t){var e=new URLSearchParams;return Object.entries(t).forEach((function(t){var n=o()(t,2),r=n[0],i=n[1];e.set(r,i)})),e.toString()},c=function(t){return t.split("&").map((function(t){var e=t.split("="),n=o()(e,2),r=n[0],a=n[1];return i.zR4.test(a)?"".concat(r,"=*******@******.***"):t})).join("&")}},34103:
/*!**************************************************************!*\
  !*** ./src/shared/utils/renderContainerUtils.js + 1 modules ***!
  \**************************************************************/(t,e,n)=>{n.d(e,{s:()=>b});var r=n(59713),o=n.n(r),i=n(67294),a=n(73935),c=n(67642),u=n(63038),s=n.n(u),l=n(98601),f=n(85945),p=n(45697),h=n(16730),d=function(t){var e=t.children,n=t.cc,r=(0,i.useState)((function(){return new l.S({defaultOptions:{queries:{retry:0,queryFn:(0,h.lQ)(n)}}})})),o=s()(r,1)[0];return(0,i.useEffect)((function(){o.setDefaultOptions({queries:{queryFn:(0,h.lQ)(n)}})}),[n,o]),i.createElement(f.aH,{client:o},e)};d.propTypes={cc:p.string,children:p.node},d.defaultProps={cc:"",children:null};const v=d;var g=n(5272),y=n(10360);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createElement("div");n&&(o.id=n);o.style=["z-index: 2147483647","display: block"].map((function(t){return"".concat(t," !important;")})).join("");var u=function(){return function(t,e){(0,a.unmountComponentAtNode)(e),document.documentElement.removeChild(e),y.ZP.warn(t,"unmount container: ".concat(e.id))}(t,o)};document.documentElement.appendChild(o),y.ZP.info(t,"render container: ".concat(n));var s=E(E({},r),{},{unMount:u,url:window.location.href});return(0,a.render)(i.createElement(c.zt,{store:t},i.createElement(v,{cc:t.getState().cc},i.createElement(g.Z,null,i.createElement(e,s)))),o),u}},8439:
/*!*************************************************!*\
  !*** ./src/shared/utils/runtimeMessageUtils.js ***!
  \*************************************************/(t,e,n)=>{n.d(e,{Xq:()=>h,M1:()=>d,Qb:()=>v,Xx:()=>g,TX:()=>y,JE:()=>m,j_:()=>b,Hh:()=>_,PQ:()=>w});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/objectWithoutProperties */6479),a=n.n(i),c=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),u=n.n(c),s=(n(/*! ../webextPolyfill */48971),n(/*! ../constants/runtimeMessageEvent */92671)),l=n(/*! ./node_modules/console-browserify/index.js */25108),f=["tabId","action"];function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function v(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=d.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var h=function(){return browser.runtime.sendMessage({action:s.ue})},d=function(){return browser.runtime.sendMessage({action:s.Ax})},v=function(t){return browser.runtime.sendMessage({action:s.ci,moduleName:t})},g=function(){return browser.runtime.sendMessage({action:s.Z$})},y=function(){var t=u()(p().mark((function t(e){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.G3,productId:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=u()(p().mark((function t(e){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",browser.runtime.sendMessage({action:s.Kb,url:e}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=u()(p().mark((function t(){var e;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,browser.runtime.sendMessage({action:s.I9});case 2:return e=t.sent,t.abrupt("return",!!e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){return new Promise(function(){var t=u()(p().mark((function t(e,n){var r,o,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E();case 3:if(!t.sent){t.next=7;break}return e(),t.abrupt("return");case 7:(r=browser.runtime.connect({name:"wakeUp"})).postMessage({message:"wake up!"}),i=function t(){setTimeout((function(){clearTimeout(o),r.onMessage.removeListener(t),e()}),500)},o=setTimeout((function(){r.onMessage.removeListener(i),e()}),5e3),r.onMessage.addListener(i),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),l.error(t.t0),n();case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}())},_=function(t){return new Promise((function(e){var n,r=function t(r){"load"===r.action&&(clearTimeout(n),browser.runtime.onMessage.removeListener(t),e())};n=setTimeout((function(){browser.runtime.onMessage.removeListener(r),e()}),5e3),browser.runtime.onMessage.addListener(r),browser.scripting.executeScript({func:function(){"complete"!==document.readyState?window.addEventListener("load",(function(){browser.runtime.sendMessage({action:"load"})})):browser.runtime.sendMessage({action:"load"})},target:{tabId:t}})}))},w=function(t){var e=t.tabId,n=t.action,r=a()(t,f);return browser.runtime.sendMessage({tabId:e,action:n,payload:r})}},14284:
/*!*******************************************!*\
  !*** ./src/shared/utils/storage/index.js ***!
  \*******************************************/(t,e,n)=>{n.d(e,{Z:()=>d});var r=n(/*! @babel/runtime/helpers/defineProperty */59713),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */93913),a=n.n(i),c=n(/*! @babel/runtime/helpers/classCallCheck */34575),u=n.n(c),s=n(/*! lodash/get */27361),l=n.n(s),f=n(/*! ./node_modules/console-browserify/index.js */25108);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const d=new(a()((function t(){var e=this;u()(this,t),this.get=function(t){return browser.storage.local.get(t).then((function(e){return l()(e,t,{})})).catch((function(t){return f.error(t),{}}))},this.set=function(t,e){return browser.storage.local.set(o()({},t,e)).catch((function(t){return f.error(t)}))},this.debounceSet=function(t,n){e.debounceSetTimeout&&clearTimeout(e.debounceSetTimeout),e.debounceSetTimeout=setTimeout((function(){e.set(t,n)}),1e4)},this.update=function(t,n){return e.get(t).then((function(r){return e.set(t,h(h({},r),n))}))}})))},80351:
/*!*****************************************!*\
  !*** ./src/shared/utils/taoBaoUtils.js ***!
  \*****************************************/(t,e,n)=>{n.d(e,{aT:()=>v,v$:()=>g,gc:()=>y,Sq:()=>_,L_:()=>w});var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! ../actionCreators/application */19664),u=n(/*! ../constants */62620),s=n(/*! ../selectors/merchants */26846),l=n(/*! ../selectors/taoBao */11775),f=n(/*! ../urls */4536),p=n(/*! ./fetchUtils */66022),h=n(/*! ./runtimeMessageUtils */8439);function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function h(){}function v(){}function g(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=f(t[r],t,a);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==o()(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),s(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t,e,n){var r={url:(0,f.iq)(e,t)};return p.Z.get(r,n).then((function(t){return t.data.hasCashback}))},g=function(t,e,n){var r={url:(0,f.S4)(e,t)};return p.Z.get(r,n).then((function(t){return t.data.deepLink}))},y=function(){var t=a()(d().mark((function t(e,n,r){var o,i,a,f,p,v,g,y,m,E;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.getState(),i=(0,s._t)(o,{url:n}),a=(0,l.oF)(o,{tabId:r}),!(i&&i.isTaobao&&a)){t.next=31;break}if(f=(0,l.Vj)(o),p=f.aiTaoBaoSearchPattern,v=f.unidCodes,new RegExp(p).test(n)){t.next=8;break}return t.abrupt("return",!1);case 8:if(g=new URL(n).searchParams.get("unid")){t.next=11;break}return t.abrupt("return",!1);case 11:if(g.startsWith(v.scenarioCodeHomepage)){t.next=13;break}return t.abrupt("return",!1);case 13:if(g=g.replace(v.scenarioCodeHomepage,v.scenarioCodeItem),y=o.taoBao.products[a]){t.next=17;break}return t.abrupt("return",!1);case 17:if(y.activateState===u.Km){t.next=19;break}return t.abrupt("return",!1);case 19:if(!y.redirectedToDeepLink){t.next=21;break}return t.abrupt("return",!1);case 21:return t.next=23,(0,h.TX)(a);case 23:if(m=t.sent){t.next=26;break}return t.abrupt("return",!1);case 26:return e.dispatch((0,c.GP)({productId:a,tabId:r})),(E=new URL(m)).searchParams.append("unid",g),window.location.replace(E.href),t.abrupt("return",!0);case 31:return t.abrupt("return",!1);case 32:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),m=function(t,e){return t.querySelector(e)},E=function(t,e){return t.querySelector(e)},b=function(t){if(!t)return"";var e=t.getAttribute("href");return e.startsWith("//")&&(e="https:".concat(e)),new URL(e).searchParams.get("id")||""},_=function(t,e,n){return t.map((function(t){return{productList:t,productInfo:E(t,n),productId:b(m(t,e))}}))},w=function(t){return!(!t||!("activateState"in t&&"hasCashback"in t||t.apiError))}},75611:
/*!**************************************!*\
  !*** ./src/shared/utils/urlUtils.js ***!
  \**************************************/(t,e,n)=>{n.d(e,{oI:()=>a,gJ:()=>c,_d:()=>s,AS:()=>l,gN:()=>f,WW:()=>p});var r=n(/*! branch-sdk */87860),o=n.n(r),i=n(/*! ./qs */31541),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(t)}catch(t){return null}},c=function(t){return browser.runtime.getURL("images/".concat(t))},u=["newtab","new-tab-page"],s=function(t){return!!u.find((function(e){return null==t?void 0:t.includes(e)}))},l=function(t){var e=a(t),n=t;if(e){var r=e.protocol,o=e.hostname,c=e.pathname,u=e.search,s=(0,i.fD)(u);n="".concat(r,"//").concat(o).concat(c).concat(s)}return n},f=function(t){if(t){var e=new URL(t);return(null==e?void 0:e.hostname)||""}return""},p=function(t){return new Promise((function(e,n){o().link(t,(function(t,r){r?e(r):n(t)}))}))}},48971:
/*!**************************************!*\
  !*** ./src/shared/webextPolyfill.js ***!
  \**************************************/(t,e,n)=>{var r=n(/*! @babel/runtime/helpers/typeof */50008),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */48926),a=n.n(i),c=n(/*! lodash/hasIn */79095),u=n.n(c);function s(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function f(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new S(o||[]);return r(a,"_invoke",{value:T(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var h={};function d(){}function v(){}function g(){}var y={};l(y,a,(function(){return this}));var m=Object.getPrototypeOf,E=m&&m(m(P([])));E&&E!==e&&n.call(E,a)&&(y=E);var b=g.prototype=d.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,a,c,u){var s=p(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o()(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){i("next",t,c,u)}),(function(t){i("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return i("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return a=a?a.then(r,r):r()}})}function T(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=p(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return v.prototype=g,r(b,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},_(w.prototype),l(w.prototype,c,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var l=function(t,e){return e?"(".concat(t.toString(),")(...").concat(JSON.stringify(e),")"):"(".concat(t.toString(),")()")},f=function(){var t=a()(s().mark((function t(e){var n,r,o,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.func,r=e.files,o=e.target,i=e.args,a={code:n?l(n,i):void 0,file:r?r[0]:void 0},t.abrupt("return",browser.tabs.executeScript(o.tabId,a).then((function(t){return t.map((function(t){return{result:t}}))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=a()(s().mark((function t(e){var n,r,o,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.func,r=e.files,o=e.target,i={code:n?l(n):void 0,file:r?r[0]:void 0},t.abrupt("return",browser.tabs.insertCSS(o.tabId,i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();n.g.browser=n(/*! webextension-polyfill */93150),u()(n.g.browser,"scripting.executeScript")||Object.assign(n.g.browser,{scripting:{executeScript:f,insertCSS:p}}),u()(n.g.browser,"action")||Object.assign(n.g.browser,{action:n.g.browser.browserAction})},19765:
/*!**************************************!*\
  !*** ./src/assets/shared/close3.png ***!
  \**************************************/t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOBAMAAADtZjDiAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURVliclhjckdwTFtmelppeFtkdFlhdF1keFpidVhhdFtmdVpidKq1E4wAAAALdFJOU83YABkRrb8mu8cyIpXZoAAAAGJJREFUCNcVy7ENgCAARNEr6KgMJd3BAuAChLiDQ1g7hRu4gR00xoTlPKrf/Iezkow7DqOWF6lVRusQvGHpGUxts45g8OhZZRqOs2WY2WgXEWheRSArUiErYnBpZvrwZDXcP8pbFmKC8PywAAAAAElFTkSuQmCC"},47776:
/*!*****************************!*\
  !*** ./env/production.json ***!
  \*****************************/t=>{t.exports=JSON.parse('{"URL_SIGN_UP":"/cashback-button/success-signup","URL_AFTER_INSTALL":"/shopback-button-success-install","URL_COUNTRY_CODE":{"url":"https://api.shopback.sg/whale/cc","headers":{"X-SHOPBACK-DOMAIN":"www.shopback.sg"}},"API_HOST_XX":{"SG":"api.shopback.sg","MY":"api.shopback.my","PH":"api.shopback.ph","ID":"api.shopback.co.id","IN":"api.shopback.in","TW":"api.shopback.com.tw","AU":"api.shopback.com.au","TH":"api.shopback.co.th","KR":"api.shopback.co.kr","HK":"api.shopback.com.hk","DE":"api.shopback.de","NZ":"api.shopback.co.nz","US":"api.goshopback.com"},"SB_WEBSITE_XX":{"SG":"www.shopback.sg","MY":"www.shopback.my","PH":"www.shopback.ph","ID":"www.shopback.co.id","TW":"www.shopback.com.tw","AU":"www.shopback.com.au","TH":"www.shopback.co.th","KR":"www.shopback.co.kr","HK":"www.shopback.com.hk","DE":"www.shopback.de","NZ":"www.shopback.co.nz","US":"www.shopback.com"},"CUSTOM_SB_DOMAIN_HEADER":{"US":"www.shopback.us"},"EXTENSION_STORES":{"CHROME":"https://chrome.google.com/webstore/detail/shopback-button-cashback/djjjmdgomejlopjnccoejdhgjmiappap","FIREFOX":"https://addons.mozilla.org/en-US/firefox/addon/shopback-cashback-button","EDGE":"https://microsoftedge.microsoft.com/addons/detail/shopback-button-cashbac/mppnmimhlcolakeoadpehdjljppkmfda"},"HELP_CENTER":{"SG":"https://support.shopback.sg/hc/en-gb/articles/360046598194-Install-and-use-ShopBack-Button-browser-extension","MY":"https://support.shopback.my/hc/en-gb/articles/360046977313-Install-and-use-the-ShopBack-Button-browser-extension","PH":"https://support.shopback.ph/hc/en-us/articles/360046598234","ID":"https://support.shopback.co.id/hc/id/articles/4401999894035-Apa-itu-Tombol-ShopBack","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174-%E7%8F%BE%E9%87%91%E5%9B%9E%E9%A5%8B%E5%B0%8F%E5%B9%AB%E6%89%8B","AU":"https://support.shopback.com.au/hc/en-gb/articles/360046870814-ShopBack-Button-browser-extension","TH":"https://support.shopback.co.th/hc/th/sections/360005934553-%E0%B8%A7%E0%B8%B4%E0%B8%98%E0%B8%B5%E0%B8%81%E0%B8%B2%E0%B8%A3%E0%B8%95%E0%B8%B4%E0%B8%94%E0%B8%95%E0%B8%B1-%E0%B8%87%E0%B9%81%E0%B8%A5%E0%B8%B0%E0%B9%83%E0%B8%8A-ShopBack-Button-ShopBack-Extension","KR":"https://support.shopback.co.kr/hc/ko/articles/4401973617299-%EC%83%B5%EB%B0%B1-%EB%B2%84%ED%8A%BC-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9-%EB%B0%A9%EB%B2%95","HK":"https://support.shopback.com.hk/hc/zh-hk/articles/7430915919891-%E5%AE%89%E8%A3%9D%E5%8F%8A%E4%BD%BF%E7%94%A8ShopBack%E5%B0%8F%E5%B9%AB%E6%89%8B","DE":"https://support.shopback.de/hc/de/articles/15928463001107-Installieren-und-verwenden-Sie-die-ShopBack-Button-Browsererweiterung","NZ":"https://support.shopback.co.nz/hc/en-gb/articles/27829878382739-Install-and-use-ShopBack-Button-browser-extension","US":"https://support.shopback.com/hc/en-sg/articles/34370376094867-Install-and-use-ShopBack-Button-browser-extension"},"SAFARI_EXTENSION_HELP_CENTER_PAGE":{"SG":"https://support.shopback.sg/hc/en-gb","MY":"https://support.shopback.my/hc/en-gb","PH":"https://support.shopback.ph/hc/en-us","ID":"https://support.shopback.co.id/hc/id","TW":"https://support.shopback.com.tw/hc/zh-tw/articles/360046727174","AU":"https://support.shopback.com.au/hc/en-gb","TH":"https://support.shopback.co.th/hc/th","KR":"https://support.shopback.co.kr/hc/ko-kr","HK":"https://support.shopback.com.hk/hc/zh-hk","DE":"https://support.shopback.de/hc/de","NZ":"https://support.shopback.co.nz/hc/en-gb","US":"https://support.shopback.com/hc/en-us"},"POST_INSTALL_TOOLTIP_IMG_URL":{"COM":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","SG":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","MY":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","PH":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","ID":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/ID.gif","IN":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TW":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TW.gif","AU":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","TH":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866372/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/TH.gif","KR":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/KR.gif","HK":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/HK.gif","DE":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1683121648/extension/%5BDE%5D%20Assets/DE_4.gif","NZ":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif","US":"https://cloud.shopback.com/image/upload/f_auto/q_auto/v1669866371/extension/Extension%20Post%20Installation%20Success-Install%20illustration%20-%20Sept2022/Post%20Installation%20GIF/EN.gif"},"ALI_EXPRESS_NAVIGATOR_QUESTION_MARK_URL":{"SG":"https://www.shopback.sg/aliexpress-button-guide","MY":"https://www.shopback.my/aliexpress-button-guide","AU":"https://www.shopback.com.au/aliexpress-button-guide","ID":"https://www.shopback.co.id/aliexpress-button-guide","TW":"https://www.shopback.com.tw/aliexpress-button-guide","TH":"https://www.shopback.co.th/aliexpress-button-guide","KR":"https://www.shopback.co.kr/aliexpress-shopback-button-guide","PH":"https://www.shopback.ph/aliexpress-button-guide","HK":"https://www.shopback.com.hk/aliexpress-button-guide","DE":"https://www.shopback.de/aliexpress-shopback-button-guide","NZ":"https://www.shopback.co.nz/aliexpress-button-guide","US":"https://www.shopback.com/aliexpress-shopback-button-guide"},"POST_UNINSTALL_URL":{"SG":"https://www.shopback.sg/uninstall","MY":"https://www.shopback.my/uninstall","PH":"https://www.shopback.ph/uninstall","ID":"https://www.shopback.co.id/uninstall","TW":"https://www.shopback.com.tw/uninstall","AU":"https://www.shopback.com.au/uninstall","TH":"https://www.shopback.co.th/uninstall","KR":"https://www.shopback.co.kr/uninstall","HK":"https://www.shopback.com.hk/uninstall","DE":"https://www.shopback.de/uninstall","NZ":"https://www.shopback.co.nz/uninstall","US":"https://www.shopback.com/uninstall"},"ACTIVATED_EXPIRED_MS":3600000,"ACTIVATED_EXPIRED_MS_FOR_AMS":86400000,"ACTIVATED_EXPIRED_MS_FOR_TAOBAO":86400000,"PERMISSION_NOTIFIER_TTL":3600000,"SENTRY_DSN":"https://a7733d60656e4d3bbb5dc92afd0cc5b8@o27075.ingest.sentry.io/1189626","SENTRY_SAMPLE_RATE":0.2}')}},t=>{t.O(0,["vendor"],(()=>{return e=76944,t(t.s=e);var e}));t.O()}]);
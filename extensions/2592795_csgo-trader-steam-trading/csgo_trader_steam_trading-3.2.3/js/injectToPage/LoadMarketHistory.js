const params=JSON.parse(document.currentScript.dataset.params);function addItemInfoToElement(e,t){t.split("CreateItemHoverFromContainer").forEach((t=>{if(t.includes("_name")){const s=t.split("'")[1].split("_name")[0],o=t.split("_name', ")[1].split(",")[0],r=t.split("',"),n=r[r.length-3].split("'")[1],a=r[r.length-2].split("'")[1],i=document.getElementById(s),p=e[o][n][a];i.setAttribute("data-appid",o),i.setAttribute("data-name",p.market_hash_name)}}))}function LoadMarketHistory(){if(!g_bBusyLoadingMarketHistory){g_bBusyLoadingMarketHistory=!0;var elMyHistoryContents=$("tabContentsMyMarketHistory");new Ajax.Request("https://steamcommunity.com/market/myhistory",{method:"get",parameters:{count:params.marketHistoryEventsToShow},onSuccess:function(transport){if(transport.responseJSON){var response=transport.responseJSON;elMyHistoryContents.innerHTML=response.results_html,MergeWithAssetArray(response.assets),eval(response.hovers),addItemInfoToElement(response.assets,response.hovers),g_oMyHistory=new CAjaxPagingControls({query:"",total_count:response.total_count,pagesize:response.pagesize,prefix:"tabContentsMyMarketHistory",class_prefix:"market"},"https://steamcommunity.com/market/myhistory/"),g_oMyHistory.SetResponseHandler((function(response){MergeWithAssetArray(response.assets),eval(response.hovers),addItemInfoToElement(response.assets,response.hovers)}))}},onComplete:function(){g_bBusyLoadingMarketHistory=!1}})}}
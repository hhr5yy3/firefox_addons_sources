const e={extensionEnabled:!0,pumlServerUrl:"https://plantuml-service-willbooster.fly.dev",allowedUrls:["https://github.com/*","https://raw.githubusercontent.com/*","https://gitlab.com/*","https://gist.github.com/*","file:///*/*"],deniedUrls:["https://github.com/*/edit/*"]},r=(["@startuml","version","@enduml"].join("\n"),{getConfig:"getConfig",getExtensionEnabled:"getExtensionEnabled",getAllowedUrls:"getAllowedUrls",getDeniedUrls:"getDeniedUrls",getPumlServerUrl:"getPumlServerUrl",setConfig:"setConfig",toggleExtensionEnabled:"toggleExtensionEnabled",setAllowedUrls:"setAllowedUrls",setDeniedUrls:"setDeniedUrls",setPumlServerUrl:"setPumlServerUrl"});let l={...e};function s(){chrome.browserAction.setIcon({path:l.extensionEnabled?"icon/icon16.png":"icon/icon16gray.png"},(()=>{}))}chrome.storage.sync.get((e=>{void 0!==e.extensionEnabled&&(l.extensionEnabled=e.extensionEnabled),void 0!==e.allowedUrls&&(l.allowedUrls=e.allowedUrls),void 0!==e.deniedUrls&&(l.deniedUrls=e.deniedUrls),void 0!==e.pumlServerUrl&&(l.pumlServerUrl=e.pumlServerUrl),s()})),chrome.runtime.onMessage.addListener(((e,t,n)=>{switch(e.command){case r.getConfig:n(l);break;case r.getExtensionEnabled:n(l.extensionEnabled);break;case r.getAllowedUrls:n(l.allowedUrls);break;case r.getDeniedUrls:n(l.deniedUrls);break;case r.getPumlServerUrl:n(l.pumlServerUrl);break;case r.setConfig:l=e.config,n(l),chrome.storage.sync.set(l),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e[0].id&&chrome.tabs.reload(e[0].id)}));break;case r.toggleExtensionEnabled:l.extensionEnabled=!l.extensionEnabled,n(l.extensionEnabled),chrome.storage.sync.set({extensionEnabled:l.extensionEnabled}),s(),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e[0].id&&chrome.tabs.reload(e[0].id)}));break;case r.setAllowedUrls:l.allowedUrls=e.allowedUrls,n(l.allowedUrls),chrome.storage.sync.set({allowedUrls:l.allowedUrls}),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e[0].id&&chrome.tabs.reload(e[0].id)}));break;case r.setDeniedUrls:l.deniedUrls=e.deniedUrls,n(l.deniedUrls),chrome.storage.sync.set({deniedUrls:l.deniedUrls}),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e[0].id&&chrome.tabs.reload(e[0].id)}));break;case r.setPumlServerUrl:l.pumlServerUrl=e.pumlServerUrl,n(l.pumlServerUrl),chrome.storage.sync.set({pumlServerUrl:l.pumlServerUrl}),chrome.tabs.query({active:!0,currentWindow:!0},(e=>{e[0].id&&chrome.tabs.reload(e[0].id)}))}}));
//# sourceMappingURL=background.js.map

(()=>{var e={526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),a=i[0],c=i[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),l=0,f=c>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=16383,s=0,u=r-o;s<u;s+=a)i.push(c(e,s,s+a>u?u:s+a));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=i[a],r[i.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},287:(e,t,n)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const r=n(526),o=n(251),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=s(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|d(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|d(e))}function p(e){const t=e.length<0?0:0|d(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function d(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(o)return r?-1:q(e).length;t=(""+t).toLowerCase(),o=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){let i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let r=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function E(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if($(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return z(q(t,e.length-n),e,n,r)}function S(e,t,n,r){return z(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return z(W(t),e,n,r)}function T(e,t,n,r){return z(function(e,t){let n,r,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=n){let n,r,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],s=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=a}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!c.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(X(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==l[e]){i=u[e],a=l[e];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function L(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function R(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Q[e[r]];return o}function _(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,o){K(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function B(e,t,n,r,o){K(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function F(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function G(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){U(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=n-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i|0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this};const j={};function M(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Y(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function K(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){U(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,o,i)}function U(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw U(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=Y(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=Y(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},838:function(e){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
e.exports=function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var t=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,o=Object.freeze,i=Object.seal,a=Object.create,s="undefined"!=typeof Reflect&&Reflect,c=s.apply,u=s.construct;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),i||(i=function(e){return e}),u||(u=function(t,n){return new(Function.prototype.bind.apply(t,[null].concat(e(n))))});var l=E(Array.prototype.forEach),f=E(Array.prototype.pop),p=E(Array.prototype.push),h=E(String.prototype.toLowerCase),d=E(String.prototype.match),v=E(String.prototype.replace),y=E(String.prototype.indexOf),m=E(String.prototype.trim),g=E(RegExp.prototype.test),b=w(TypeError);function E(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return c(e,t,r)}}function w(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(e,n)}}function S(e,t){n&&n(e,null);for(var o=t.length;o--;){var i=t[o];if("string"==typeof i){var a=h(i);a!==i&&(r(t)||(t[o]=a),i=a)}e[i]=!0}return e}function A(e){var n=a(null),r=void 0;for(r in e)c(t,e,[r])&&(n[r]=e[r]);return n}var T=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),O=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),C=o(["#text"]),L=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),R=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),P=i(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=i(/<%[\s\S]*|[\s\S]*%>/gm),B=i(/^data-[\-\w.\u00B7-\uFFFF]/),F=i(/^aria-[\-\w]+$/),D=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=i(/^(?:\w+script|data):/i),j=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var K=function(){return"undefined"==typeof window?null:window},U=function(e,t){if("object"!==(void 0===e?"undefined":M(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return null}};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),t=function(e){return V(e)};if(t.version="2.1.1",t.removed=[],!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,r=e.document,i=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.Node,c=e.NodeFilter,u=e.NamedNodeMap,E=void 0===u?e.NamedNodeMap||e.MozNamedAttrMap:u,w=e.Text,H=e.Comment,q=e.DOMParser,W=e.trustedTypes;if("function"==typeof a){var z=r.createElement("template");z.content&&z.content.ownerDocument&&(r=z.content.ownerDocument)}var X=U(W,n),$=X&&Ce?X.createHTML(""):"",Q=r,J=Q.implementation,Z=Q.createNodeIterator,ee=Q.getElementsByTagName,te=Q.createDocumentFragment,ne=n.importNode,re={};try{re=A(r).documentMode?r.documentMode:{}}catch(e){}var oe={};t.isSupported=J&&void 0!==J.createHTMLDocument&&9!==re;var ie=P,ae=N,se=B,ce=F,ue=G,le=j,fe=D,pe=null,he=S({},[].concat(Y(T),Y(k),Y(O),Y(x),Y(C))),de=null,ve=S({},[].concat(Y(L),Y(R),Y(_),Y(I))),ye=null,me=null,ge=!0,be=!0,Ee=!1,we=!1,Se=!1,Ae=!1,Te=!1,ke=!1,Oe=!1,xe=!1,Ce=!1,Le=!0,Re=!0,_e=!1,Ie={},Pe=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ne=null,Be=S({},["audio","video","img","source","image","track"]),Fe=null,De=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge=null,je=r.createElement("form"),Me=function(e){Ge&&Ge===e||(e&&"object"===(void 0===e?"undefined":M(e))||(e={}),e=A(e),pe="ALLOWED_TAGS"in e?S({},e.ALLOWED_TAGS):he,de="ALLOWED_ATTR"in e?S({},e.ALLOWED_ATTR):ve,Fe="ADD_URI_SAFE_ATTR"in e?S(A(De),e.ADD_URI_SAFE_ATTR):De,Ne="ADD_DATA_URI_TAGS"in e?S(A(Be),e.ADD_DATA_URI_TAGS):Be,ye="FORBID_TAGS"in e?S({},e.FORBID_TAGS):{},me="FORBID_ATTR"in e?S({},e.FORBID_ATTR):{},Ie="USE_PROFILES"in e&&e.USE_PROFILES,ge=!1!==e.ALLOW_ARIA_ATTR,be=!1!==e.ALLOW_DATA_ATTR,Ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,we=e.SAFE_FOR_TEMPLATES||!1,Se=e.WHOLE_DOCUMENT||!1,ke=e.RETURN_DOM||!1,Oe=e.RETURN_DOM_FRAGMENT||!1,xe=e.RETURN_DOM_IMPORT||!1,Ce=e.RETURN_TRUSTED_TYPE||!1,Te=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Re=!1!==e.KEEP_CONTENT,_e=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||fe,we&&(be=!1),Oe&&(ke=!0),Ie&&(pe=S({},[].concat(Y(C))),de=[],!0===Ie.html&&(S(pe,T),S(de,L)),!0===Ie.svg&&(S(pe,k),S(de,R),S(de,I)),!0===Ie.svgFilters&&(S(pe,O),S(de,R),S(de,I)),!0===Ie.mathMl&&(S(pe,x),S(de,_),S(de,I))),e.ADD_TAGS&&(pe===he&&(pe=A(pe)),S(pe,e.ADD_TAGS)),e.ADD_ATTR&&(de===ve&&(de=A(de)),S(de,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&S(Fe,e.ADD_URI_SAFE_ATTR),Re&&(pe["#text"]=!0),Se&&S(pe,["html","head","body"]),pe.table&&(S(pe,["tbody"]),delete ye.tbody),o&&o(e),Ge=e)},Ye=function(e){p(t.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=$}},Ke=function(e,n){try{p(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch(e){p(t.removed,{attribute:null,from:n})}n.removeAttribute(e)},Ue=function(e){var t=void 0,n=void 0;if(Te)e="<remove></remove>"+e;else{var o=d(e,/^[\r\n\t ]+/);n=o&&o[0]}var i=X?X.createHTML(e):e;try{t=(new q).parseFromString(i,"text/html")}catch(e){}if(!t||!t.documentElement){var a=(t=J.createHTMLDocument("")).body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=i}return e&&n&&t.body.insertBefore(r.createTextNode(n),t.body.childNodes[0]||null),ee.call(t,Se?"html":"body")[0]},Ve=function(e){return Z.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,(function(){return c.FILTER_ACCEPT}),!1)},He=function(e){return!(e instanceof w||e instanceof H||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof E&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},qe=function(e){return"object"===(void 0===s?"undefined":M(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":M(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},We=function(e,n,r){oe[e]&&l(oe[e],(function(e){e.call(t,n,r,Ge)}))},ze=function(e){var n=void 0;if(We("beforeSanitizeElements",e,null),He(e))return Ye(e),!0;if(d(e.nodeName,/[\u0080-\uFFFF]/))return Ye(e),!0;var r=h(e.nodeName);if(We("uponSanitizeElement",e,{tagName:r,allowedTags:pe}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Ye(e),!0;if(!qe(e.firstElementChild)&&(!qe(e.content)||!qe(e.content.firstElementChild))&&g(/<[!/\w]/g,e.innerHTML)&&g(/<[!/\w]/g,e.textContent))return Ye(e),!0;if(!pe[r]||ye[r]){if(Re&&!Pe[r]&&"function"==typeof e.insertAdjacentHTML)try{var o=e.innerHTML;e.insertAdjacentHTML("AfterEnd",X?X.createHTML(o):o)}catch(e){}return Ye(e),!0}return"noscript"!==r&&"noembed"!==r||!g(/<\/no(script|embed)/i,e.innerHTML)?(we&&3===e.nodeType&&(n=e.textContent,n=v(n,ie," "),n=v(n,ae," "),e.textContent!==n&&(p(t.removed,{element:e.cloneNode()}),e.textContent=n)),We("afterSanitizeElements",e,null),!1):(Ye(e),!0)},Xe=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in r||n in je))return!1;if(be&&g(se,t));else if(ge&&g(ce,t));else{if(!de[t]||me[t])return!1;if(Fe[t]);else if(g(fe,v(n,le,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ne[e])if(Ee&&!g(ue,v(n,le,"")));else if(n)return!1}return!0},$e=function(e){var n=void 0,r=void 0,o=void 0,i=void 0;We("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:de};for(i=a.length;i--;){var c=n=a[i],u=c.name,l=c.namespaceURI;if(r=m(n.value),o=h(u),s.attrName=o,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,We("uponSanitizeAttribute",e,s),r=s.attrValue,!s.forceKeepAttr&&(Ke(u,e),s.keepAttr))if(g(/\/>/i,r))Ke(u,e);else{we&&(r=v(r,ie," "),r=v(r,ae," "));var p=e.nodeName.toLowerCase();if(Xe(p,o,r))try{l?e.setAttributeNS(l,u,r):e.setAttribute(u,r),f(t.removed)}catch(e){}}}We("afterSanitizeAttributes",e,null)}},Qe=function e(t){var n=void 0,r=Ve(t);for(We("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)We("uponSanitizeShadowNode",n,null),ze(n)||(n.content instanceof i&&e(n.content),$e(n));We("afterSanitizeShadowDOM",t,null)};return t.sanitize=function(r,o){var a=void 0,c=void 0,u=void 0,l=void 0,f=void 0;if(r||(r="\x3c!--\x3e"),"string"!=typeof r&&!qe(r)){if("function"!=typeof r.toString)throw b("toString is not a function");if("string"!=typeof(r=r.toString()))throw b("dirty is not a string, aborting")}if(!t.isSupported){if("object"===M(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof r)return e.toStaticHTML(r);if(qe(r))return e.toStaticHTML(r.outerHTML)}return r}if(Ae||Me(o),t.removed=[],"string"==typeof r&&(_e=!1),_e);else if(r instanceof s)1===(c=(a=Ue("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!ke&&!we&&!Se&&-1===r.indexOf("<"))return X&&Ce?X.createHTML(r):r;if(!(a=Ue(r)))return ke?null:$}a&&Te&&Ye(a.firstChild);for(var p=Ve(_e?r:a);u=p.nextNode();)3===u.nodeType&&u===l||ze(u)||(u.content instanceof i&&Qe(u.content),$e(u),l=u);if(l=null,_e)return r;if(ke){if(Oe)for(f=te.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return xe&&(f=ne.call(n,f,!0)),f}var h=Se?a.outerHTML:a.innerHTML;return we&&(h=v(h,ie," "),h=v(h,ae," ")),X&&Ce?X.createHTML(h):h},t.setConfig=function(e){Me(e),Ae=!0},t.clearConfig=function(){Ge=null,Ae=!1},t.isValidAttribute=function(e,t,n){Ge||Me({});var r=h(e),o=h(t);return Xe(r,o,n)},t.addHook=function(e,t){"function"==typeof t&&(oe[e]=oe[e]||[],p(oe[e],t))},t.removeHook=function(e){oe[e]&&f(oe[e])},t.removeHooks=function(e){oe[e]&&(oe[e]=[])},t.removeAllHooks=function(){oe={}},t}return V()}()},251:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,p=n?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-l)-1,h>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=p,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=u}return(h?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,d=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+h]=255&a,h+=d,a/=256,u-=8);e[n+h-d]|=128*v}},698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},692:function(e,t){var n;
/*!
 * jQuery JavaScript Library v3.2.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2017-03-20T18:59Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],a=r.document,s=Object.getPrototypeOf,c=i.slice,u=i.concat,l=i.push,f=i.indexOf,p={},h=p.toString,d=p.hasOwnProperty,v=d.toString,y=v.call(Object),m={};function g(e,t){var n=(t=t||a).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}var b="3.2.1",E=function(e,t){return new E.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S=/^-ms-/,A=/-([a-z])/g,T=function(e,t){return t.toUpperCase()};function k(e){var t=!!e&&"length"in e&&e.length,n=E.type(e);return"function"!==n&&!E.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:b,constructor:E,length:0,toArray:function(){return c.call(this)},get:function(e){return null==e?c.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},E.extend=E.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||E.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(u&&r&&(E.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,i=n&&Array.isArray(n)?n:[]):i=n&&E.isPlainObject(n)?n:{},a[t]=E.extend(u,i,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(b+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===E.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&v.call(n)===y)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[h.call(e)]||"object":typeof e},globalEval:function(e){g(e)},camelCase:function(e){return e.replace(S,"ms-").replace(A,T)},each:function(e,t){var n,r=0;if(k(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?E.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:f.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(k(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return u.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),E.isFunction(e))return r=c.call(arguments,2),o=function(){return e.apply(t||this,r.concat(c.call(arguments)))},o.guid=e.guid=e.guid||E.guid++,o},now:Date.now,support:m}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=i[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){p["[object "+t+"]"]=t.toLowerCase()}));var O=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,n,r,o,i,a,s,c,u,l,f,p,h,d,v,y,m,g,b,E="sizzle"+1*new Date,w=e.document,S=0,A=0,T=ae(),k=ae(),O=ae(),x=function(e,t){return e===t&&(f=!0),0},C={}.hasOwnProperty,L=[],R=L.pop,_=L.push,I=L.push,P=L.slice,N=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",D="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",G="\\["+F+"*("+D+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+F+"*\\]",j=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+G+")*)|.*)\\)|)",M=new RegExp(F+"+","g"),Y=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),K=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),H=new RegExp(j),q=new RegExp("^"+D+"$"),W={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},oe=ge((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{I.apply(L=P.call(w.childNodes),w.childNodes),L[w.childNodes.length].nodeType}catch(e){I={apply:L.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,o){var i,s,u,l,f,d,m,g=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!o&&((t?t.ownerDocument||t:w)!==h&&p(t),t=t||h,v)){if(11!==S&&(f=Q.exec(e)))if(i=f[1]){if(9===S){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(g&&(u=g.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(f[2])return I.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!O[e+" "]&&(!y||!y.test(e))){if(1!==S)g=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=E),s=(d=a(e)).length;s--;)d[s]="#"+l+" "+me(d[s]);m=d.join(","),g=J.test(e)&&ve(t.parentNode)||t}if(m)try{return I.apply(r,g.querySelectorAll(m)),r}catch(e){}finally{l===E&&t.removeAttribute("id")}}}return c(e.replace(Y,"$1"),t,r,o)}function ae(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function se(e){return e[E]=!0,e}function ce(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se((function(t){return t=+t,se((function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:w;return a!==h&&9===a.nodeType&&a.documentElement?(d=(h=a).documentElement,v=!i(h),w!==h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=$.test(h.getElementsByClassName),n.getById=ce((function(e){return d.appendChild(e).id=E,!h.getElementsByName||!h.getElementsByName(E).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&v){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&v)return t.getElementsByClassName(e)},m=[],y=[],(n.qsa=$.test(h.querySelectorAll))&&(ce((function(e){d.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+F+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+E+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||y.push(".#.+[+~]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")}))),(n.matchesSelector=$.test(g=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),m.push("!=",j)})),y=y.length&&new RegExp(y.join("|")),m=m.length&&new RegExp(m.join("|")),t=$.test(d.compareDocumentPosition),b=t||$.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===h||e.ownerDocument===w&&b(w,e)?-1:t===h||t.ownerDocument===w&&b(w,t)?1:l?N(l,e)-N(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===h?-1:t===h?1:o?-1:i?1:l?N(l,e)-N(l,t):0;if(o===i)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},h):h},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&p(e),t=t.replace(V,"='$1']"),n.matchesSelector&&v&&!O[t+" "]&&(!m||!m.test(t))&&(!y||!y.test(t)))try{var r=g.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,h,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==h&&p(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==h&&p(e);var o=r.attrHandle[t.toLowerCase()],i=o&&C.call(r.attrHandle,t.toLowerCase())?o(e,t,!v):void 0;return void 0!==i?i:n.attributes||!v?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,ne)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(x),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return l=null,e},o=ie.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ie.selectors={cacheLength:50,createPseudo:se,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ie.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(M," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var u,l,f,p,h,d,v=i!==a?"nextSibling":"previousSibling",y=t.parentNode,m=s&&t.nodeName.toLowerCase(),g=!c&&!s,b=!1;if(y){if(i){for(;v;){for(p=t;p=p[v];)if(s?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?y.firstChild:y.lastChild],a&&g){for(b=(h=(u=(l=(f=(p=y)[E]||(p[E]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],p=h&&y.childNodes[h];p=++h&&p&&p[v]||(b=h=0)||d.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[S,h,b];break}}else if(g&&(b=h=(u=(l=(f=(p=t)[E]||(p[E]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(p=++h&&p&&p[v]||(b=h=0)||d.pop())&&((s?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(g&&((l=(f=p[E]||(p[E]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[S,b]),p!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[E]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,i=o(e,t),a=i.length;a--;)e[r=N(e,i[a])]=!(n[r]=i[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(Y,"$1"));return r[E]?se((function(e,t,n,o){for(var i,a=r(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return ie(e,t).length>0}})),contains:se((function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:se((function(e){return q.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:de((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function me(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,s=A++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,c){var u,l,f,p=[S,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(f=t[E]||(t[E]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===S&&u[1]===s)return p[2]=u[2];if(l[i]=p,p[2]=e(t,n,c))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Ee(e,t,n,r,o){for(var i,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(n&&!n(i,r,o)||(a.push(i),u&&t.push(s)));return a}function we(e,t,n,r,o,i){return r&&!r[E]&&(r=we(r)),o&&!o[E]&&(o=we(o,i)),se((function(i,a,s,c){var u,l,f,p=[],h=[],d=a.length,v=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ie(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:Ee(v,p,e,s,c),m=n?o||(i?e:d||r)?[]:a:y;if(n&&n(y,m,s,c),r)for(u=Ee(m,h),r(u,[],s,c),l=u.length;l--;)(f=u[l])&&(m[h[l]]=!(y[h[l]]=f));if(i){if(o||e){if(o){for(u=[],l=m.length;l--;)(f=m[l])&&u.push(y[l]=f);o(null,m=[],u,c)}for(l=m.length;l--;)(f=m[l])&&(u=o?N(i,f):p[l])>-1&&(i[u]=!(a[u]=f))}}else m=Ee(m===a?m.splice(d,m.length):m),o?o(null,a,m,c):I.apply(a,m)}))}function Se(e){for(var t,n,o,i=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,l=ge((function(e){return e===t}),s,!0),f=ge((function(e){return N(t,e)>-1}),s,!0),p=[function(e,n,r){var o=!a&&(r||n!==u)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,o}];c<i;c++)if(n=r.relative[e[c].type])p=[ge(be(p),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[E]){for(o=++c;o<i&&!r.relative[e[o].type];o++);return we(c>1&&be(p),c>1&&me(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(Y,"$1"),n,c<o&&Se(e.slice(c,o)),o<i&&Se(e=e.slice(o)),o<i&&me(e))}p.push(n)}return be(p)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=ie.tokenize=function(e,t){var n,o,i,a,s,c,u,l=k[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=r.preFilter;s;){for(a in n&&!(o=K.exec(s))||(o&&(s=s.slice(o[0].length)||s),c.push(i=[])),n=!1,(o=U.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(Y," ")}),s=s.slice(n.length)),r.filter)!(o=W[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):k(e,c).slice(0)},s=ie.compile=function(e,t){var n,o=[],i=[],s=O[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Se(t[n]))[E]?o.push(s):i.push(s);s=O(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,a,s,c,l){var f,d,y,m=0,g="0",b=i&&[],E=[],w=u,A=i||o&&r.find.TAG("*",l),T=S+=null==w?1:Math.random()||.1,k=A.length;for(l&&(u=a===h||a||l);g!==k&&null!=(f=A[g]);g++){if(o&&f){for(d=0,a||f.ownerDocument===h||(p(f),s=!v);y=e[d++];)if(y(f,a||h,s)){c.push(f);break}l&&(S=T)}n&&((f=!y&&f)&&m--,i&&b.push(f))}if(m+=g,n&&g!==m){for(d=0;y=t[d++];)y(b,E,a,s);if(i){if(m>0)for(;g--;)b[g]||E[g]||(E[g]=R.call(c));E=Ee(E)}I.apply(c,E),l&&!i&&E.length>0&&m+t.length>1&&ie.uniqueSort(c)}return l&&(S=T,u=w),b};return n?se(i):i}(i,o)),s.selector=e}return s},c=ie.select=function(e,t,n,o){var i,c,u,l,f,p="function"==typeof e&&e,h=!o&&a(e=p.selector||e);if(n=n||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&v&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(i=W.needsContext.test(e)?0:c.length;i--&&(u=c[i],!r.relative[l=u.type]);)if((f=r.find[l])&&(o=f(u.matches[0].replace(Z,ee),J.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(i,1),!(e=o.length&&me(c)))return I.apply(n,o),n;break}}return(p||s(e,h))(o,t,!v,n,!t||J.test(e)&&ve(t.parentNode)||t),n},n.sortStable=E.split("").sort(x).join("")===E,n.detectDuplicates=!!f,p(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||ue(B,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ie}(r);E.find=O,E.expr=O.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=O.uniqueSort,E.text=O.getText,E.isXMLDoc=O.isXML,E.contains=O.contains,E.escapeSelector=O.escape;var x=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},L=E.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var _=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,I=/^.[^:#\[\.,]*$/;function P(e,t,n){return E.isFunction(t)?E.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return f.call(t,e)>-1!==n})):I.test(t)?E.filter(t,e,n):(t=E.filter(t,e),E.grep(e,(function(e){return f.call(t,e)>-1!==n&&1===e.nodeType})))}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<r;t++)if(E.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,o[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&L.test(e)?E(e):e||[],!1).length}});var N,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),_.test(r[1])&&E.isPlainObject(t))for(r in t)E.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=a.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):E.isFunction(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,N=E(a);var F=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function G(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&E(e);if(!L.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?E.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?f.call(E(e),this[0]):f.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return G(e,"nextSibling")},prev:function(e){return G(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return R(e,"iframe")?e.contentDocument:(R(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,r){var o=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=E.filter(r,o)),this.length>1&&(D[e]||E.uniqueSort(o),F.test(e)&&o.reverse()),this.pushStack(o)}}));var j=/[^\x20\t\r\n\f]+/g;function M(e){return e}function Y(e){throw e}function K(e,t,n,r){var o;try{e&&E.isFunction(o=e.promise)?o.call(e).done(t).fail(n):e&&E.isFunction(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(j)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,r,o,i=[],a=[],s=-1,c=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){E.each(n,(function(n,r){E.isFunction(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==E.type(r)&&t(r)}))}(arguments),n&&!t&&c()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,r){var o=E.isFunction(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var i=0;function a(e,t,n,o){return function(){var s=this,c=arguments,u=function(){var r,u;if(!(e<i)){if((r=n.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,E.isFunction(u)?o?u.call(r,a(i,t,M,o),a(i,t,Y,o)):(i++,u.call(r,a(i,t,M,o),a(i,t,Y,o),a(i,t,M,t.notifyWith))):(n!==M&&(s=void 0,c=[r]),(o||t.resolveWith)(s,c))}},l=o?u:function(){try{u()}catch(r){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(r,l.stackTrace),e+1>=i&&(n!==Y&&(s=void 0,c=[r]),t.rejectWith(s,c))}};e?l():(E.Deferred.getStackHook&&(l.stackTrace=E.Deferred.getStackHook()),r.setTimeout(l))}}return E.Deferred((function(r){t[0][3].add(a(0,r,E.isFunction(o)?o:M,r.notifyWith)),t[1][3].add(a(0,r,E.isFunction(e)?e:M)),t[2][3].add(a(0,r,E.isFunction(n)?n:Y))})).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},i={};return E.each(t,(function(e,r){var a=r[2],s=r[5];o[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[0][2].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=c.call(arguments),i=E.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?c.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(K(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||E.isFunction(o[n]&&o[n].then)))return i.then();for(;n--;)K(o[n],a(n),i.reject);return i.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&U.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){r.setTimeout((function(){throw e}))};var V=E.Deferred();function H(){a.removeEventListener("DOMContentLoaded",H),r.removeEventListener("load",H),E.ready()}E.fn.ready=function(e){return V.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||V.resolveWith(a,[E]))}}),E.ready.then=V.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?r.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",H),r.addEventListener("load",H));var q=function(e,t,n,r,o,i,a){var s=0,c=e.length,u=null==n;if("object"===E.type(n))for(s in o=!0,n)q(e,t,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,E.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(E(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):c?t(e[0],n):i},W=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function z(){this.expando=E.expando+z.uid++}z.uid=1,z.prototype={cache:function(e){var t=e[this.expando];return t||(t={},W(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[E.camelCase(t)]=n;else for(r in t)o[E.camelCase(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][E.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(E.camelCase):(t=E.camelCase(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var X=new z,$=new z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return $.hasData(e)||X.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=$.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=E.camelCase(r.slice(5)),Z(i,r,o[r]));X.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){$.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=$.get(i,e))||void 0!==(n=Z(i,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,o=n.shift(),i=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){E.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:E.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=E.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=X.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&E.contains(e.ownerDocument,e)&&"none"===E.css(e,"display")},oe=function(e,t,n,r){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=n.apply(e,r||[]),t)e.style[i]=a[i];return o};function ie(e,t,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},c=s(),u=n&&n[3]||(E.cssNumber[t]?"":"px"),l=(E.cssNumber[t]||"px"!==u&&+c)&&te.exec(E.css(e,t));if(l&&l[3]!==u){u=u||l[3],n=n||[],l=+c||1;do{l/=i=i||".5",E.style(e,t,l+u)}while(i!==(i=s()/c)&&1!==i&&--a)}return n&&(l=+l||+c||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=o)),o}var ae={};function se(e){var t,n=e.ownerDocument,r=e.nodeName,o=ae[r];return o||(t=n.body.appendChild(n.createElement(r)),o=E.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ae[r]=o,o)}function ce(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=X.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&re(r)&&(o[i]=se(r))):"none"!==n&&(o[i]="none",X.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}E.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){re(this)?E(this).show():E(this).hide()}))}});var ue=/^(?:checkbox|radio)$/i,le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|\/(?:java|ecma)script/i,pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function he(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?E.merge([e],n):n}function de(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td;var ve,ye,me=/<|&#?\w+;/;function ge(e,t,n,r,o){for(var i,a,s,c,u,l,f=t.createDocumentFragment(),p=[],h=0,d=e.length;h<d;h++)if((i=e[h])||0===i)if("object"===E.type(i))E.merge(p,i.nodeType?[i]:i);else if(me.test(i)){for(a=a||f.appendChild(t.createElement("div")),s=(le.exec(i)||["",""])[1].toLowerCase(),c=pe[s]||pe._default,a.innerHTML=c[1]+E.htmlPrefilter(i)+c[2],l=c[0];l--;)a=a.lastChild;E.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",h=0;i=p[h++];)if(r&&E.inArray(i,r)>-1)o&&o.push(i);else if(u=E.contains(i.ownerDocument,i),a=he(f.appendChild(i),"script"),u&&de(a),n)for(l=0;i=a[l++];)fe.test(i.type||"")&&n.push(i);return f}ve=a.createDocumentFragment().appendChild(a.createElement("div")),(ye=a.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),ve.appendChild(ye),m.checkClone=ve.cloneNode(!0).cloneNode(!0).lastChild.checked,ve.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ve.cloneNode(!0).lastChild.defaultValue;var be=a.documentElement,Ee=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function Te(){return!1}function ke(){try{return a.activeElement}catch(e){}}function Oe(e,t,n,r,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Oe(e,s,n,r,t[s],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Te;else if(!o)return e;return 1===i&&(a=o,o=function(e){return E().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,o,r,n)}))}E.event={global:{},add:function(e,t,n,r,o){var i,a,s,c,u,l,f,p,h,d,v,y=X.get(e);if(y)for(n.handler&&(n=(i=n).handler,o=i.selector),o&&E.find.matchesSelector(be,o),n.guid||(n.guid=E.guid++),(c=y.events)||(c=y.events={}),(a=y.handle)||(a=y.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(j)||[""]).length;u--;)h=v=(s=Se.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),h&&(f=E.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=E.event.special[h]||{},l=E.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:d.join(".")},i),(p=c[h])||((p=c[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(h,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),E.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,a,s,c,u,l,f,p,h,d,v,y=X.hasData(e)&&X.get(e);if(y&&(c=y.events)){for(u=(t=(t||"").match(j)||[""]).length;u--;)if(h=v=(s=Se.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),h){for(f=E.event.special[h]||{},p=c[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=p.length;i--;)l=p[i],!o&&v!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,d,y.handle)||E.removeEvent(e,h,y.handle),delete c[h])}else for(h in c)E.event.remove(e,h+t[u],n,r,!0);E.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,s=E.event.fix(e),c=new Array(arguments.length),u=(X.get(this,"events")||{})[s.type]||[],l=E.event.special[s.type]||{};for(c[0]=s,t=1;t<arguments.length;t++)c[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=E.event.handlers.call(this,s,u),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((E.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,c))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},n=0;n<c;n++)void 0===a[o=(r=t[n]).selector+" "]&&(a[o]=r.needsContext?E(o,this).index(u)>-1:E.find(o,this,null,[u]).length),a[o]&&i.push(r);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:E.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ke()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ke()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&R(this,"input"))return this.click(),!1},_default:function(e){return R(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||E.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ee.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||E.contains(this,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,r){return Oe(this,e,t,n,r)},one:function(e,t,n,r){return Oe(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each((function(){E.event.remove(this,e,n,t)}))}});var xe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ce=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^true\/(.*)/,_e=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&E(">tbody",e)[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Be(e,t){var n,r,o,i,a,s,c,u;if(1===t.nodeType){if(X.hasData(e)&&(i=X.access(e),a=X.set(t,i),u=i.events))for(o in delete a.handle,a.events={},u)for(n=0,r=u[o].length;n<r;n++)E.event.add(t,o,u[o][n]);$.hasData(e)&&(s=$.access(e),c=E.extend({},s),$.set(t,c))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ue.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function De(e,t,n,r){t=u.apply([],t);var o,i,a,s,c,l,f=0,p=e.length,h=p-1,d=t[0],v=E.isFunction(d);if(v||p>1&&"string"==typeof d&&!m.checkClone&&Le.test(d))return e.each((function(o){var i=e.eq(o);v&&(t[0]=d.call(this,o,i.html())),De(i,t,n,r)}));if(p&&(i=(o=ge(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=E.map(he(o,"script"),Pe)).length;f<p;f++)c=o,f!==h&&(c=E.clone(c,!0,!0),s&&E.merge(a,he(c,"script"))),n.call(e[f],c,f);if(s)for(l=a[a.length-1].ownerDocument,E.map(a,Ne),f=0;f<s;f++)c=a[f],fe.test(c.type||"")&&!X.access(c,"globalEval")&&E.contains(l,c)&&(c.src?E._evalUrl&&E._evalUrl(c.src):g(c.textContent.replace(_e,""),l))}return e}function Ge(e,t,n){for(var r,o=t?E.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||E.cleanData(he(r)),r.parentNode&&(n&&E.contains(r.ownerDocument,r)&&de(he(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e.replace(xe,"<$1></$2>")},clone:function(e,t,n){var r,o,i,a,s=e.cloneNode(!0),c=E.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=he(s),r=0,o=(i=he(e)).length;r<o;r++)Fe(i[r],a[r]);if(t)if(n)for(i=i||he(e),a=a||he(s),r=0,o=i.length;r<o;r++)Be(i[r],a[r]);else Be(e,s);return(a=he(s,"script")).length>0&&de(a,!c&&he(e,"script")),s},cleanData:function(e){for(var t,n,r,o=E.event.special,i=0;void 0!==(n=e[i]);i++)if(W(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return q(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return De(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)}))},prepend:function(){return De(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return De(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(he(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!pe[(le.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(he(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,r=[],o=E(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),E(o[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}}));var je=/^margin/,Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ye=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)};function Ke(e,t,n){var r,o,i,a,s=e.style;return(n=n||Ye(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||E.contains(e.ownerDocument,e)||(a=E.style(e,t)),!m.pixelMarginRight()&&Me.test(a)&&je.test(t)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){c.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",c.innerHTML="",be.appendChild(s);var e=r.getComputedStyle(c);t="1%"!==e.top,i="2px"===e.marginLeft,n="4px"===e.width,c.style.marginRight="50%",o="4px"===e.marginRight,be.removeChild(s),c=null}}var t,n,o,i,s=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(c),E.extend(m,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),o},reliableMarginLeft:function(){return e(),i}}))}();var Ve=/^(none|table(?!-c[ea]).+)/,He=/^--/,qe={position:"absolute",visibility:"hidden",display:"block"},We={letterSpacing:"0",fontWeight:"400"},ze=["Webkit","Moz","ms"],Xe=a.createElement("div").style;function $e(e){var t=E.cssProps[e];return t||(t=E.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in Xe)return e}(e)||e),t}function Qe(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Je(e,t,n,r,o){var i,a=0;for(i=n===(r?"border":"content")?4:"width"===t?1:0;i<4;i+=2)"margin"===n&&(a+=E.css(e,n+ne[i],!0,o)),r?("content"===n&&(a-=E.css(e,"padding"+ne[i],!0,o)),"margin"!==n&&(a-=E.css(e,"border"+ne[i]+"Width",!0,o))):(a+=E.css(e,"padding"+ne[i],!0,o),"padding"!==n&&(a+=E.css(e,"border"+ne[i]+"Width",!0,o)));return a}function Ze(e,t,n){var r,o=Ye(e),i=Ke(e,t,o),a="border-box"===E.css(e,"boxSizing",!1,o);return Me.test(i)?i:(r=a&&(m.boxSizingReliable()||i===e.style[t]),"auto"===i&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)]),(i=parseFloat(i)||0)+Je(e,t,n||(a?"border":"content"),r,o)+"px")}function et(e,t,n,r,o){return new et.prototype.init(e,t,n,r,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=E.camelCase(t),c=He.test(t),u=e.style;if(c||(t=$e(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:u[t];"string"===(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=ie(e,t,o),i="number"),null!=n&&n==n&&("number"===i&&(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,a,s=E.camelCase(t);return He.test(t)||(t=$e(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Ke(e,t,r)),"normal"===o&&t in We&&(o=We[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!Ve.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,r):oe(e,qe,(function(){return Ze(e,t,r)}))},set:function(e,n,r){var o,i=r&&Ye(e),a=r&&Je(e,t,r,"border-box"===E.css(e,"boxSizing",!1,i),i);return a&&(o=te.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),Qe(0,n,a)}}})),E.cssHooks.marginLeft=Ue(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ne[r]+t]=i[r]||i[r-2]||i[0];return o}},je.test(e)||(E.cssHooks[e+t].set=Qe)})),E.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=Ye(e),o=t.length;a<o;a++)i[t[a]]=E.css(e,t[a],!1,r);return i}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(E.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[E.cssProps[e.prop]]&&!E.cssHooks[e.prop]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function it(){nt&&(!1===a.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(it):r.setTimeout(it,E.fx.interval),E.fx.tick())}function at(){return r.setTimeout((function(){tt=void 0})),tt=E.now()}function st(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ne[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ct(e,t,n){for(var r,o=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function ut(e,t,n){var r,o,i=0,a=ut.prefilters.length,s=E.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var t=tt||at(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,a=u.tweens.length;i<a;i++)u.tweens[i].run(r);return s.notifyWith(e,[u,r,n]),r<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,r,o,i,a;for(n in e)if(o=t[r=E.camelCase(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(l,u.opts.specialEasing);i<a;i++)if(r=ut.prefilters[i].call(u,e,l,u.opts))return E.isFunction(r.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=E.proxy(r.stop,r)),r;return E.map(l,ct,u),E.isFunction(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ie(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){E.isFunction(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,o=e.length;r<o;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,a,s,c,u,l,f="width"in t||"height"in t,p=this,h={},d=e.style,v=e.nodeType&&re(e),y=X.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[r],rt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(v?"hide":"show")){if("show"!==o||!y||void 0===y[r])continue;v=!0}h[r]=y&&y[r]||E.style(e,r)}if((c=!E.isEmptyObject(t))||!E.isEmptyObject(h))for(r in f&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=y&&y.display)&&(u=X.get(e,"display")),"none"===(l=E.css(e,"display"))&&(u?l=u:(ce([e],!0),u=e.style.display||u,l=E.css(e,"display"),ce([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===E.css(e,"float")&&(c||(p.done((function(){d.display=u})),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),c=!1,h)c||(y?"hidden"in y&&(v=y.hidden):y=X.access(e,"fxshow",{display:u}),i&&(y.hidden=!v),v&&ce([e],!0),p.done((function(){for(r in v||ce([e]),X.remove(e,"fxshow"),h)E.style(e,r,h[r])}))),c=ct(v?y[r]:0,r,p),r in y||(y[r]=c.start,v&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=E.isEmptyObject(e),i=E.speed(t,n,r),a=function(){var t=ut(this,E.extend({},e),i);(o||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=E.timers,a=X.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ot.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,o)}})),E.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(tt=E.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),tt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){nt||(nt=!0,it())},E.fx.stop=function(){nt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var lt,ft=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return q(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?E.prop(e,t,n):(1===i&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||E.find.attr;ft[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=ft[a],ft[a]=o,o=null!=n(e,t,r)?a:null,ft[a]=i),o}}));var pt=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function dt(e){return(e.match(j)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}E.fn.extend({prop:function(e,t){return q(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,r,o,i,a,s,c=0;if(E.isFunction(e))return this.each((function(t){E(this).addClass(e.call(this,t,vt(this)))}));if("string"==typeof e&&e)for(t=e.match(j)||[];n=this[c++];)if(o=vt(n),r=1===n.nodeType&&" "+dt(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=dt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,o,i,a,s,c=0;if(E.isFunction(e))return this.each((function(t){E(this).removeClass(e.call(this,t,vt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(j)||[];n=this[c++];)if(o=vt(n),r=1===n.nodeType&&" "+dt(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=dt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):E.isFunction(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,vt(this),t),t)})):this.each((function(){var t,r,o,i;if("string"===n)for(r=0,o=E(this),i=e.match(j)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+dt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;E.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=E.isFunction(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,E(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=E.map(o,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(yt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:dt(E.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?i+1:o.length;for(r=i<0?c:a?i:0;r<c;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=E.makeArray(t),a=o.length;a--;)((r=o[a]).selected=E.inArray(E.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},m.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var mt=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,n,o){var i,s,c,u,l,f,p,h=[n||a],v=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(s=c=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!mt.test(v+E.event.triggered)&&(v.indexOf(".")>-1&&(y=v.split("."),v=y.shift(),y.sort()),l=v.indexOf(":")<0&&"on"+v,(e=e[E.expando]?e:new E.Event(v,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),p=E.event.special[v]||{},o||!p.trigger||!1!==p.trigger.apply(n,t))){if(!o&&!p.noBubble&&!E.isWindow(n)){for(u=p.delegateType||v,mt.test(u+v)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(n.ownerDocument||a)&&h.push(c.defaultView||c.parentWindow||r)}for(i=0;(s=h[i++])&&!e.isPropagationStopped();)e.type=i>1?u:p.bindType||v,(f=(X.get(s,"events")||{})[e.type]&&X.get(s,"handle"))&&f.apply(s,t),(f=l&&s[l])&&f.apply&&W(s)&&(e.result=f.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,o||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(h.pop(),t)||!W(n)||l&&E.isFunction(n[v])&&!E.isWindow(n)&&((c=n[l])&&(n[l]=null),E.event.triggered=v,n[v](),E.event.triggered=void 0,c&&(n[l]=c)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.focusin="onfocusin"in r,m.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this,o=X.access(r,t);o||r.addEventListener(e,n,!0),X.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=X.access(r,t)-1;o?X.access(r,t,o):(r.removeEventListener(e,n,!0),X.remove(r,t))}}}));var gt=r.location,bt=E.now(),Et=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var wt=/\[\]$/,St=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function kt(e,t,n,r){var o;if(Array.isArray(t))E.each(t,(function(t,o){n||wt.test(e)?r(e,o):kt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==E.type(t))r(e,t);else for(o in t)kt(e+"["+o+"]",t[o],n,r)}E.param=function(e,t){var n,r=[],o=function(e,t){var n=E.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){o(this.name,this.value)}));else for(n in e)kt(n,e[n],t,o);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Tt.test(this.nodeName)&&!At.test(e)&&(this.checked||!ue.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}});var Ot=/%20/g,xt=/#.*$/,Ct=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,_t=/^\/\//,It={},Pt={},Nt="*/".concat("*"),Bt=a.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(j)||[];if(E.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dt(e,t,n,r){var o={},i=e===Pt;function a(s){var c;return o[s]=!0,E.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||i||o[u]?i?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Gt(e,t){var n,r,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}Bt.href=gt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,E.ajaxSettings),t):Gt(E.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,s,c,u,l,f,p,h,d=E.ajaxSetup({},t),v=d.context||d,y=d.context&&(v.nodeType||v.jquery)?E(v):E.event,m=E.Deferred(),g=E.Callbacks("once memory"),b=d.statusCode||{},w={},S={},A="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Lt.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(e,t){return null==l&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||A;return n&&n.abort(t),k(0,t),this}};if(m.promise(T),d.url=((e||d.url||gt.href)+"").replace(_t,gt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){u=a.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Bt.protocol+"//"+Bt.host!=u.protocol+"//"+u.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Dt(It,d,t,T),l)return T;for(p in(f=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rt.test(d.type),o=d.url.replace(xt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ot,"+")):(h=d.url.slice(o.length),d.data&&(o+=(Et.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(o=o.replace(Ct,"$1"),h=(Et.test(o)?"&":"?")+"_="+bt+++h),d.url=o+h),d.ifModified&&(E.lastModified[o]&&T.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&T.setRequestHeader("If-None-Match",E.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Nt+"; q=0.01":""):d.accepts["*"]),d.headers)T.setRequestHeader(p,d.headers[p]);if(d.beforeSend&&(!1===d.beforeSend.call(v,T,d)||l))return T.abort();if(A="abort",g.add(d.complete),T.done(d.success),T.fail(d.error),n=Dt(Pt,d,t,T)){if(T.readyState=1,f&&y.trigger("ajaxSend",[T,d]),l)return T;d.async&&d.timeout>0&&(c=r.setTimeout((function(){T.abort("timeout")}),d.timeout));try{l=!1,n.send(w,k)}catch(e){if(l)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,s){var u,p,h,w,S,A=t;l||(l=!0,c&&r.clearTimeout(c),n=void 0,i=s||"",T.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==c[0]&&c.unshift(i),n[i]}(d,T,a)),w=function(e,t,n,r){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=u[c+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(d,w,T,u),u?(d.ifModified&&((S=T.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=S),(S=T.getResponseHeader("etag"))&&(E.etag[o]=S)),204===e||"HEAD"===d.type?A="nocontent":304===e?A="notmodified":(A=w.state,p=w.data,u=!(h=w.error))):(h=A,!e&&A||(A="error",e<0&&(e=0))),T.status=e,T.statusText=(t||A)+"",u?m.resolveWith(v,[p,A,T]):m.rejectWith(v,[T,A,h]),T.statusCode(b),b=void 0,f&&y.trigger(u?"ajaxSuccess":"ajaxError",[T,d,u?p:h]),g.fireWith(v,[T,A]),f&&(y.trigger("ajaxComplete",[T,d]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,r,o){return E.isFunction(n)&&(o=o||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:o,data:n,success:r},E.isPlainObject(e)&&e))}})),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(E.isFunction(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return E.isFunction(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=E.isFunction(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Mt=E.ajaxSettings.xhr();m.cors=!!Mt&&"withCredentials"in Mt,m.ajax=Mt=!!Mt,E.ajaxTransport((function(e){var t,n;if(m.cors||Mt&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,o){t=E("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Yt,Kt=[],Ut=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||E.expando+"_"+bt++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var o,i,a,s=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=E.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ut,"$1"+o):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||E.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){a=arguments},n.always((function(){void 0===i?E(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Kt.push(o)),a&&E.isFunction(i)&&i(a[0]),a=i=void 0})),"script"})),m.createHTMLDocument=((Yt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Yt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),i=!n&&[],(o=_.exec(e))?[t.createElement(o[1])]:(o=ge([e],t,i),i&&i.length&&E(i).remove(),E.merge([],o.childNodes)));var r,o,i},E.fn.load=function(e,t,n){var r,o,i,a=this,s=e.indexOf(" ");return s>-1&&(r=dt(e.slice(s)),e=e.slice(0,s)),E.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var r,o,i,a,s,c,u=E.css(e,"position"),l=E(e),f={};"static"===u&&(e.style.position="relative"),s=l.offset(),i=E.css(e,"top"),c=E.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(a=(r=l.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),E.isFunction(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+o),"using"in t?t.using.call(e,f):l.css(f)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,r,o,i=this[0];return i?i.getClientRects().length?(r=i.getBoundingClientRect(),n=(t=i.ownerDocument).documentElement,o=t.defaultView,{top:r.top+o.pageYOffset-n.clientTop,left:r.left+o.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===E.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),R(e[0],"html")||(r=e.offset()),r={top:r.top+E.css(e[0],"borderTopWidth",!0),left:r.left+E.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-E.css(n,"marginTop",!0),left:t.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||be}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return q(this,(function(e,r,o){var i;if(E.isWindow(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ue(m.pixelPosition,(function(e,n){if(n)return n=Ke(e,t),Me.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){E.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return q(this,(function(t,n,o){var i;return E.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?E.css(t,n,s):E.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=R,void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Vt=r.jQuery,Ht=r.$;return E.noConflict=function(e){return r.$===E&&(r.$=Ht),e&&r.jQuery===E&&(r.jQuery=Vt),E},o||(r.jQuery=r.$=E),E}))},861:(e,t,n)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(287),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},392:(e,t,n)=>{var r=n(861).Buffer;function o(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}o.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,o=this._blockSize,i=e.length,a=this._len,s=0;s<i;){for(var c=a%o,u=Math.min(i-s,o-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(a+=u)%o==0&&this._update(n)}return this._len+=i,this},o.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,o=(n-r)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=o},802:(e,t,n)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(816),r.sha1=n(737),r.sha224=n(710),r.sha256=n(107),r.sha384=n(827),r.sha512=n(890)},816:(e,t,n)=>{var r=n(698),o=n(392),i=n(861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,o.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var p=0;p<80;++p){var h=~~(p/20),d=0|((t=r)<<5|t>>>27)+l(h,o,i,s)+c+n[p]+a[h];c=s,s=i,i=u(o),o=r,r=d}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},737:(e,t,n)=>{var r=n(698),o=n(392),i=n(861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,o.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,c=0|this._e,p=0;p<16;++p)n[p]=e.readInt32BE(4*p);for(;p<80;++p)n[p]=(t=n[p-3]^n[p-8]^n[p-14]^n[p-16])<<1|t>>>31;for(var h=0;h<80;++h){var d=~~(h/20),v=u(r)+f(d,o,i,s)+c+n[h]+a[d]|0;c=s,s=i,i=l(o),o=r,r=v}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},710:(e,t,n)=>{var r=n(698),o=n(107),i=n(392),a=n(861).Buffer,s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}r(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},107:(e,t,n)=>{var r=n(698),o=n(392),i=n(861).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,o=0|this._b,i=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,v=0|this._g,y=0|this._h,m=0;m<16;++m)n[m]=e.readInt32BE(4*m);for(;m<64;++m)n[m]=0|(((t=n[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[m-7]+h(n[m-15])+n[m-16];for(var g=0;g<64;++g){var b=y+p(c)+u(c,d,v)+a[g]+n[g]|0,E=f(r)+l(r,o,i)|0;y=v,v=d,d=c,c=s+b|0,s=i,i=o,o=r,r=b+E|0}this._a=r+this._a|0,this._b=o+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=v+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},827:(e,t,n)=>{var r=n(698),o=n(890),i=n(392),a=n(861).Buffer,s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}r(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},890:(e,t,n)=>{var r=n(698),o=n(392),i=n(861).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function p(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}r(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,o=0|this._ch,i=0|this._dh,s=0|this._eh,c=0|this._fh,g=0|this._gh,b=0|this._hh,E=0|this._al,w=0|this._bl,S=0|this._cl,A=0|this._dl,T=0|this._el,k=0|this._fl,O=0|this._gl,x=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var L=t[C-30],R=t[C-30+1],_=h(L,R),I=d(R,L),P=v(L=t[C-4],R=t[C-4+1]),N=y(R,L),B=t[C-14],F=t[C-14+1],D=t[C-32],G=t[C-32+1],j=I+F|0,M=_+B+m(j,I)|0;M=(M=M+P+m(j=j+N|0,N)|0)+D+m(j=j+G|0,G)|0,t[C]=M,t[C+1]=j}for(var Y=0;Y<160;Y+=2){M=t[Y],j=t[Y+1];var K=l(n,r,o),U=l(E,w,S),V=f(n,E),H=f(E,n),q=p(s,T),W=p(T,s),z=a[Y],X=a[Y+1],$=u(s,c,g),Q=u(T,k,O),J=x+W|0,Z=b+q+m(J,x)|0;Z=(Z=(Z=Z+$+m(J=J+Q|0,Q)|0)+z+m(J=J+X|0,X)|0)+M+m(J=J+j|0,j)|0;var ee=H+U|0,te=V+K+m(ee,H)|0;b=g,x=O,g=c,O=k,c=s,k=T,s=i+Z+m(T=A+J|0,A)|0,i=o,A=S,o=r,S=w,r=n,w=E,n=Z+te+m(E=J+ee|0,J)|0}this._al=this._al+E|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+A|0,this._el=this._el+T|0,this._fl=this._fl+k|0,this._gl=this._gl+O|0,this._hl=this._hl+x|0,this._ah=this._ah+n+m(this._al,E)|0,this._bh=this._bh+r+m(this._bl,w)|0,this._ch=this._ch+o+m(this._cl,S)|0,this._dh=this._dh+i+m(this._dl,A)|0,this._eh=this._eh+s+m(this._el,T)|0,this._fh=this._fh+c+m(this._fl,k)|0,this._gh=this._gh+g+m(this._gl,O)|0,this._hh=this._hh+b+m(this._hl,x)|0},c.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,o.default)(e),"object"===i(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=n&&(void 0===r||a<=r)};var r,o=(r=n(399))&&r.__esModule?r:{default:r};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}e.exports=t.default,e.exports.default=t.default},517:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,o.default)(t,u)).require_display_name||t.allow_display_name){var n=e.match(l);if(n){var c=n[1];if(e=e.replace(c,"").replace(/(^<|>$)/g,""),c.endsWith(" ")&&(c=c.substr(0,c.length-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(c))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>y)return!1;var m=e.split("@"),g=m.pop(),b=g.toLowerCase();if(t.host_blacklist.includes(b))return!1;var E=m.join("@");if(t.domain_specific_validation&&("gmail.com"===b||"googlemail.com"===b)){var w=(E=E.toLowerCase()).split("+")[0];if(!(0,i.default)(w.replace(/\./g,""),{min:6,max:30}))return!1;for(var S=w.split("."),A=0;A<S.length;A++)if(!p.test(S[A]))return!1}if(!(!1!==t.ignore_max_length||(0,i.default)(E,{max:64})&&(0,i.default)(g,{max:254})))return!1;if(!(0,a.default)(g,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,s.default)(g)){if(!g.startsWith("[")||!g.endsWith("]"))return!1;var T=g.substr(1,g.length-2);if(0===T.length||!(0,s.default)(T))return!1}}if('"'===E[0])return E=E.slice(1,E.length-1),t.allow_utf8_local_part?v.test(E):h.test(E);for(var k=t.allow_utf8_local_part?d:f,O=E.split("."),x=0;x<O.length;x++)if(!k.test(O[x]))return!1;if(t.blacklisted_chars&&-1!==E.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=c(n(399)),o=c(n(610)),i=c(n(255)),a=c(n(658)),s=c(n(372));function c(e){return e&&e.__esModule?e:{default:e}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},l=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,y=254;e.exports=t.default,e.exports.default=t.default},658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,o.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),i=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(i))return!1;if(/\s/.test(i))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(i))return!1;return n.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=i(n(399)),o=i(n(610));function i(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,o.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){return!!s.test(t)&&t.split(".").sort((function(e,t){return e-t}))[3]<=255}if("6"===n)return!!u.test(t);return!1};var r,o=(r=n(399))&&r.__esModule?r:{default:r};var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(i,"[.]){3}").concat(i),s=new RegExp("^".concat(a,"$")),c="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(a,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(a,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(a,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(a,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(a,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(a,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(a,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},399:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(692),t=n.n(e);const r="./views",o="./assets",i="./images/flags",a="./images";function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}const l=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.backgroundPagePort=chrome.runtime.connect({name:"background-page-port"}),this.pendingRequests=[],this.registeredEvents={},this.backgroundPagePort.onMessage.addListener(this.handleResponse.bind(this))}var t,n,r;return t=e,(n=[{key:"handleResponse",value:function(e){if(e.response&&e.requestId)if(e.isEvent){var t=e.targetApi+"."+e.targetMethod;this.registeredEvents.hasOwnProperty(t)&&this.registeredEvents[t].hasOwnProperty(e.requestId)&&this.registeredEvents[t][e.requestId](e.data)}else this.pendingRequests.hasOwnProperty(e.requestId)&&(this.pendingRequests[e.requestId](e.data),delete this.pendingRequests[e.requestId])}},{key:"request",value:function(e,t,n,r){var o=this;return new Promise((function(i,a){var s,c,l,f=Math.random(),p=!0===r;if(r){var h=e+"."+t;o.registeredEvents[h]=(s={},l=i,(c=u(c=f))in s?Object.defineProperty(s,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[c]=l,s)}else o.pendingRequests[f]=i;o.backgroundPagePort.postMessage({requestId:f,request:e,method:t,data:n,isEvent:p})}))}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),f={name:"Firefox",WebRTCAddon:{id:"@webrtc-leak-shield",url:"https://addons.mozilla.org/en-US/firefox/addon/webrtc-leak-shield"},proxyAddons:["@hoxx-vpn","@setupvpncom"],exceptionAddons:["mozilla_cc3@internetdownloadmanager.com"]},p=JSON.parse('{"version":4,"update_interval_hours":6,"settings":{"tierbase_search_timeout":15000,"mainbase_search_timeout":20000,"tierbase_api_timeout":35000,"mainbase_api_timeout":30000,"proxy_search_timeout":30000,"mirror_timeout":20000,"base_ttl_days":90,"bs_consequtive_fails":42},"uibase":["https://user1.setupvpn.com","https://user2.setupvpn.com","https://user3.setupvpn.com","https://user4.setupvpn.com","https://user5.setupvpn.com","https://user6.setupvpn.com","https://user7.setupvpn.com","https://user8.setupvpn.com","https://user9.setupvpn.com","https://user10.setupvpn.com","https://user11.setupvpn.com","https://user13.setupvpn.com","https://user14.setupvpn.com","https://user15.setupvpn.com"],"mainbase":["https://icax.defined.pics","https://sxkk.mouse.pics","https://ehih.defined.pics","https://zmkj.defined.pics","https://kzfv.defined.pics","https://uabh.mouse.pics","https://1.foreground.work","https://1.awakened.work","https://1.6912044.cc","https://1.heretowe.win","https://topluok.uk","https://listitnow.org"],"tierbase":["https://lllm.mouse.pics","https://wvxm.defined.pics","https://mjgu.mouse.pics","https://xcxx.defined.pics","https://uaia.defined.pics","https://api.keepthisdomain.com","https://baseserver.uk","https://datacntech.com","https://1.default2024.uk","https://1.sahi.uk","https://1.area9.uk","https://1.allnine.uk","https://ksho.uk","https://3245.uk"],"t":1718866984900,"mirrors":["https://tierbase3.fra1.cdn.digitaloceanspaces.com/tierssv.json","https://tierbase4.s3.amazonaws.com/tierssv.json","https://pub-8029ed10cf4e4db0b3757e6b82ef7a40.r2.dev/tierssv.json","https://ams1.vultrobjects.com/tierupdate2/tierssv.json","https://mirror4.es-mad-1.linodeobjects.com/tierssv.json","https://raw.githubusercontent.com/the7c/update/master/master/ui/data.json","https://bitbucket.org/the7c/update/raw/master/edge/pub/data.json"]}');var h;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y={VERSION:chrome.runtime.getManifest().version,PLATFORM:f.name,BROWSERLANG:chrome.i18n.getUILanguage(),SERVERSJSONFILE:o+"/servers.json",TIERUPDATETTL:86400,VERSIONSTATUSTTL:86400,UNINSTALLPATH:"/api2/pub/removed",TESTREQUESTREGEX:/http:\/\/verify[0-9]{6,12}n[0-9]{6,12}\.com/,SERVICE:"SetupVPN",SERVICESHORT:"setupvpn",SHORTNAME:"sv",REALM:"setupvpn.com",CONTACTSUPPORTURL:"https://setupvpn.com/contact/",PACSCRIPT:"js/PAC.js",DOWNLOADLINKS:{ANDROID:"https://play.google.com/store/apps/details?id=com.setupvpn.main",DESKTOP:"http://desktopclient.net/gw/index.html#/setupvpn"},RATEUS:{LINKS:{FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/setupvpn/reviews/",CHROME:"https://chrome.google.com/webstore/detail/setupvpn-lifetime-free-vp/oofgbpoabipfcfjapgnbbjjaenockbdp/reviews",EDGE:!1},INTERVAL:2592e5,DONTASKINTERVAL:7776e6},WEBRTCADDON:{URL:f.WebRTCAddon.url,ID:f.WebRTCAddon.id},PROXYADDONS:f.proxyAddons,EXCEPTIONADDONS:f.exceptionAddons,STORAGEKEYS:(h={BASELINK:"baselink",LASTBASELINK:"lastBaselink",BASELINKNOTFOUND:"baselinkNotFound",LOCALE:"locale",LANGUAGE:"language",USERDATA:"userData",CONFIGDATA:"configData",CONFIGDATATTL:"configDataTTL",PROXYSEARCHFAILED:"proxySearchFailed",PROXYSEARCHFAILEDCOUNTRY:"proxySearchFailedCountry",PROXYSEARCHLOCK:"proxySearchLock",ISPROXYON:"isProxyOn",CURRENTPROXY:"currentSelectedProxy",DCACHE:"dCache",NOTIFICATIONS:"cachedNotifications",RATEUSNEXTTIME:"ratingNextTime",PROXYEXTENSIONS:"activeProxyExtensionList",IPLOOKUPURL:"ipLookUpUrl",STICKEDCOUNTRIES:"stickedCountries",ISCOUNTRYSORTED:"isCountrySorted",LASTSELECTEDTAB:"lastSelectedTab",BYPASSLIST:"bypassList",ISINAPPNOTIFICATIONOFF:"isInAppNotificationOff",LASTLOGINRESULT:"lastLoginResult",INSTALLID:"installId",LASTRESENDACTIVATION:"lastResendActivation",SERVERSJSON:"serversJson",TIERNEXTUPDATE:"tierNextUpdate",ERRCACHE:"errCache",ECACHE:"eCache",RCACHE:"rCache",HASHCACHE:"hashCache",BASELINKTYPE:"baselinkType",DEBUGVAL:"debugVal",TIMEOUTSETTINGS:"timeoutSettings",TEASERNEXT:"teaserNext",VERSIONSTATUSNEXTUPDATE:"versionStatusNextTime",VERSIONSTATUS:"versionStatus",LOGINTYPE:"logintype",LSER:"localeLser",COUNTRYLOCALE:"countryLocale",CONFIGHARDTTL:"configHardTTL",LASTLOGOUTREASON:"lastLogoutReason",COUNTRYSESSIONSTATE:"countrySessionState",LASTFAILEDSERVER:"lastFailedServer",LASTHB:"lastHB",BYPASSHOSTS:"bypassHosts",SHOWWP:"showWP",LASTBASELINKTTL:"lastBaselinkTTL"},v(h,"INSTALLID","installID"),v(h,"INSTALLIDTIME","installIDTime"),v(h,"VERSIONUPDATE","versionUpdate"),v(h,"READNOTIFICATION","readNotification"),v(h,"MARKEDBASELINK","markBaselink"),v(h,"MARKEDCONFIG","markedConfig"),v(h,"LASTSESSION","lastSession"),v(h,"PROXYSEARCH","proxySearch"),v(h,"NOTIFYHISTORY","notifyHistory"),v(h,"EXPIRATIONTIME","expirationTime"),v(h,"TIMELEFT","timeLeft"),h),STATUS:{BLOCKED:"BLOCKED",OK:"OK"},IMAGES:{ONICON:a+"/setupvpn-48.png",OFFICON:a+"/setupvpn-48-grey.png",HEADERLOGO:a+"/setupvpn-150.png",LOGOLARGE:a+"/setupvpn-250.png",FEATUREPINGIF:"/api2/static/sv/pinning.gif",FEATURESORTGIF:"/cdn/feature_sorting.gif",PERMERRORICON:a+"/symbol48-permission-error.png",PERMFIXGIF:"/api2/static/sv/perm-fix-sv.gif",OTHERTOOLSGIF:"/cdn/other-tools.gif"},SERVERSJSON:p,ERRORCODES:{CONNECTIONERROR:"NS_ERROR_NET_ON_CONNECTING_TO",CONNECTIONERROR2:"NS_ERROR_PROXY_CONNECTION_REFUSED",VERIFYERROR:"NS_ERROR_NET_ON_RESOLVED",VERIFYERROR2:"NS_ERROR_UNKNOWN_HOST"},LOADINGIMG:'<img src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==">'},m=1e4,g=15e3,b=2e4,E=25e3,w=1e4;function S(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function k(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=[{key:"isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"shuffleArray",value:function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e}},{key:"loadTemplate",value:function(e,t){var n=e,r=e.match(/(?:\{)[^\{\}]*?(?:\})/g);return r?(r.forEach((function(e){var r=e.replace("{","").replace("}","");t[r]&&(n=n.replace(e,t[r]))})),n):n}},{key:"loadTemplateWithFallback",value:function(e,t,n){var r=e;return r=this.loadTemplate(e,t),r=this.loadTemplate(r,n)}},{key:"isObject",value:function(e){return"object"===A(e)&&null!==e}},{key:"isString",value:function(e){return"[object String]"===Object.prototype.toString.call(e)}},{key:"getFallbackLocale",value:function(e,t,n){return this.isObject(t)&&t.hasOwnProperty(e)&&this.isString(t[e])?t[e]:this.isObject(n)&&n.hasOwnProperty(e)&&this.isString(n[e])?n[e]:"Undefined locale"}},{key:"getConfigTTL",value:function(e,t){var n=t;return e&&Number.isInteger(e)&&(n=Math.min(Math.max(5,e),120)),Math.floor(Date.now()/1e3)+60*n}},{key:"getCurrentTime",value:function(){return Math.floor(Date.now()/1e3)}},{key:"getLocaleInStorage",value:function(){return new Promise((function(e,t){chrome.storage.local.get(y.STORAGEKEYS.LOCALE,(function(n){if(n[y.STORAGEKEYS.LOCALE])return e(n[y.STORAGEKEYS.LOCALE]);t()}))}))}},{key:"isUserPremium",value:function(e){if(0==e.user_premium)return!1;Date.now||(Date.now=function(){return(new Date).getTime()});var t=Math.floor(Date.now()/1e3);return e.user_premium>t}},{key:"getUserExpirationData",value:function(e){var t=new Date(1e3*e),n=t.getFullYear(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+". "+r+" "+n}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},{key:"getRandomRange",value:function(){var e={s:1e5,e:1e11};try{var t=this.getRandomInt(6,12),n=parseInt("1".padEnd(t,"0")),r=parseInt("9".padEnd(t,"9"));return e.s=n,e.e=r,e}catch(t){return e}return e}},{key:"generateIdentifierDomain",value:function(){var e=this.getRandomRange();return"test"+this.getRandomInt(e.s,e.e)}},{key:"getDateNow",value:function(){return Math.floor(Date.now()/1e3)}},{key:"getDateMid",value:function(){return Math.floor((new Date).setUTCHours(0,0,0,0)/1e3)}},{key:"openNewTab",value:function(e){chrome.tabs.create({url:e})}},{key:"setProxyStatusIcon",value:function(e){var t=e?y.IMAGES.ONICON:y.IMAGES.OFFICON;chrome.browserAction.setIcon({path:{38:t}})}},{key:"setPermissionIcon",value:function(e){var t=e?y.IMAGES.OFFICON:y.IMAGES.PERMERRORICON;chrome.browserAction.setIcon({path:{38:t}})}},{key:"showConnectionNotification",value:function(e,t,n){var r={type:"basic",title:e,message:t,iconUrl:n?y.IMAGES.ONICON:y.IMAGES.OFFICON};chrome.storage.local.get([y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF,y.STORAGEKEYS.CONFIGDATA],(function(e){var t=e[y.STORAGEKEYS.CONFIGDATA],n=t&&t.uid?t.uid:"",o=e[y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF];o&&!1===o[n]||chrome.notifications.create(r)}))}},{key:"showNotification",value:function(e,t){var n={type:"basic",title:e,message:t,iconUrl:y.IMAGES.ONICON};chrome.notifications.create(n)}},{key:"removePort",value:function(e){return e&&e.indexOf(":")>-1?e.substring(0,e.indexOf(":")):e}},{key:"escapeParamsOfUrl",value:function(e){var t=""+e;return t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t}},{key:"addMetaParameter",value:function(e){return e+"&cv="+y.VERSION+"&platform="+y.PLATFORM}},{key:"getRemainingTime",value:function(e,t){if(e>1){var n=e-Math.floor(Date.now()/1e3);return n<3600?Math.floor(n/60)+" "+t.tempBlockMinutes:Math.floor(n/3600)+" "+t.tempBlockHours}return 0}},{key:"hideElement",value:function(e){e&&e.css&&e.css("display","none")}},{key:"showElement",value:function(e){e&&e.css&&e.css("display","block")}},{key:"stripProtocol",value:function(e){return e.replace("http://","").replace("https://","")}},{key:"sortObject",value:function(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}},{key:"getTabIdByServerType",value:function(e){if(!e)return 0;switch(e){case 0:return 0;case 1:return 1;case 2:return 2}}},{key:"openPlatformLink",value:function(e){return"desktop"===e?this.openNewTab(y.DOWNLOADLINKS.DESKTOP):"android"===e?this.openNewTab(y.DOWNLOADLINKS.ANDROID):void 0}},{key:"createUniqueId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},{key:"isInt",value:function(e){return!isNaN(e)&&(0|(t=parseFloat(e)))===t;var t}},{key:"hex_encode",value:function(e){e=unescape(encodeURIComponent(e));for(var t="",n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16);return t}},{key:"xor_string",value:function(e,t){e=e.split(""),t=t.split("");for(var n=e.length,r=t.length,o=String.fromCharCode,i=0;i<n;i++)e[i]=o(e[i].charCodeAt(0)^t[i%r].charCodeAt(0));return e.join("")}},{key:"randomString",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}},{key:"toqs",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}},{key:"getTimeoutSettings",value:function(e){var t={mainbase_search_timeout:m,tierbase_search_timeout:g,mainbase_api_timeout:b,tierbase_api_timeout:E,proxy_search_timeout:w};try{e&&void 0!==e.settings&&(e.settings.hasOwnProperty("mainbase_search_timeout")&&this.isInt(e.settings.mainbase_search_timeout)&&e.settings.mainbase_search_timeout>=1e4&&e.settings.mainbase_search_timeout<4e4&&(t.mainbase_search_timeout=parseInt(e.settings.mainbase_search_timeout)),e.settings.hasOwnProperty("tierbase_search_timeout")&&this.isInt(e.settings.tierbase_search_timeout)&&e.settings.tierbase_search_timeout>=1e4&&e.settings.tierbase_search_timeout<4e4&&(t.tierbase_search_timeout=parseInt(e.settings.tierbase_search_timeout)),e.settings.hasOwnProperty("mainbase_api_timeout")&&this.isInt(e.settings.mainbase_api_timeout)&&e.settings.mainbase_api_timeout>=1e4&&e.settings.mainbase_api_timeout<4e4&&(t.mainbase_api_timeout=parseInt(e.settings.mainbase_api_timeout)),e.settings.hasOwnProperty("tierbase_api_timeout")&&this.isInt(e.settings.tierbase_api_timeout)&&e.settings.tierbase_api_timeout>=1e4&&e.settings.tierbase_api_timeout<4e4&&(t.tierbase_api_timeout=parseInt(e.settings.tierbase_api_timeout)),e.settings.hasOwnProperty("proxy_search_timeout")&&this.isInt(e.settings.proxy_search_timeout)&&e.settings.proxy_search_timeout>=1e4&&e.settings.proxy_search_timeout<4e4&&(t.proxy_search_timeout=parseInt(e.settings.proxy_search_timeout)))}catch(e){return t}return t}},{key:"isTimeoutSettingValid",value:function(e){return!!(e&&this.isInt(e)&&e>=1e4&&e<6e4)}},{key:"isTrialAvailable",value:function(e){return!!(e&&e.hasOwnProperty("trial")&&this.isInt(e.trial)&&e.trial>0)&&e.trial}},{key:"getUpdateHtml",value:function(e,t){return'\n\t\t\t\t<div class="update-available" id="update-app">\n\t\t\t\t\t<div class="update-available__title"><span class="update-available__notification">1</span> NEW UPDATE AVAILABLE</div>\n\t\t\t\t\t<div class="update-available__content">\n\t\t\t\t\t\t<div class="update-available__content__app">\n\t\t\t\t\t\t\t<div class="update-available__content__app__icon">\n\t\t\t\t\t\t\t\t<img src="images/symbol25.png">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="update-available__content__app__version-info">\n\t\t\t\t\t\t\t\t<div style="color: red;">Your version: '.concat(e,'</div>\n\t\t\t\t\t\t\t\t<div style="color: #007aff;">New version: ').concat(t,'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="update-available__content__app__update">\n\t\t\t\t\t\t\t\t<div class="btn--update">UPDATE</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t')}},{key:"isValidResponse",value:function(e){return e&&"object"===A(e)&&null!==e&&e.hasOwnProperty("retcode")}},{key:"isResponseMinus20",value:function(e){return this.isValidResponse(e)&&-20===e.retcode}},{key:"isResponse200",value:function(e){return this.isValidResponse(e)&&200===e.retcode}},{key:"isResponseMinusOne",value:function(e){return this.isValidResponse(e)&&-1===e.retcode}},{key:"isResponseAuthError",value:function(e){return this.isValidResponse(e)&&-4===e.retcode}},{key:"isMaintenanceMode",value:function(e){return this.isValidResponse(e)&&-500===e.retcode}},{key:"showMinusOneError",value:function(e){this.isFunction(e)&&e("Something went wrong. Please try later again.")}},{key:"isFunction",value:function(e){return e&&"[object Function]"==={}.toString.call(e)}},{key:"getOS",value:function(){return new Promise((function(e){try{chrome.runtime.getPlatformInfo((function(t){var n="-";t&&t.os&&"string"==typeof t.os&&(n=t.os.toLowerCase()),e(n)}))}catch(t){e("-")}}))}},{key:"b64_to_utf8",value:function(e){return decodeURIComponent(escape(atob(e)))}},{key:"loadLocaleFromServer",value:function(e,t,n,r,o,i){var a=this;e.append('<div class="loadingimg"><img src="images/loading.gif"></div>'),r.request("api","getLocale",{}).then((function(e){function n(e){var n="<p style='text-align:center; padding: 10px 10xp;'>"+e+" / "+o+"</p>";t.css("display","block"),t.html(n)}return a.isResponse200(e)&&window.location.reload(!0),a.isResponseMinus20(e)?n(e.message):a.isResponseMinusOne(e)?a.showMinusOneError(n):void(a.isMaintenanceMode(e)&&(t.html('<div style="display: block;" id="maintenance-mode" class="maintenance-mode"><i class="material-icons maintenance-mode__close" id="maintenance-mode-close-icon">close</i><div class="maintenance-mode__container"><div class="maintenance-mode__icon"><i class="material-icons">build</i></div><div id="maintenance-msg" class="maintenance-mode__message"></div></div></div>'),i("#maintenance-msg").text(e.message),i("#maintenance-mode-close-icon").click((function(){location.reload()})),i("#upgrade-mode").css("display","none"),i("#dashboard-view-mode").css("display","block"),i("#header-container").css("display","none")))}))}},{key:"loadCountryLocale",value:function(e){var t=this;return new Promise((function(n,r){chrome.storage.local.get([y.STORAGEKEYS.COUNTRYLOCALE,y.STORAGEKEYS.LANGUAGE],(function(r){var o=r[y.STORAGEKEYS.COUNTRYLOCALE];if(o&&t.isObject(o))n(o);else{var i=r[y.STORAGEKEYS.LANGUAGE];e.request("api","getCountryLocale",{langCode:i}).then((function(e){e&&t.isObject(e)?n(e):n({})}))}}))}))}},{key:"genBypassList",value:function(e){try{if(e&&this.isObject(e)&&e.hasOwnProperty("mainbase")&&Array.isArray(e.mainbase)){var t=[];return e.mainbase.forEach((function(e){var n=!1;try{var r=new URL(e);r&&r.hostname&&(n=r.hostname)}catch(e){}n&&(t.includes(n)||t.push(n))})),t}return[]}catch(e){return[]}}},{key:"getServersJsonTime",value:function(e){return e&&""!=e&&e.hasOwnProperty("t")&&!isNaN(parseInt(e.t))?parseInt(e.t):0}},{key:"doTimeout",value:function(e){return new Promise((function(t){setTimeout((function(){t("TIMEOUT")}),e)}))}},{key:"doRace",value:function(e){return new Promise((function(t,n){Promise.race(e).then((function(e){t(e)}))}))}},{key:"setInstallId",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.INSTALLID],(function(t){if(!t[y.STORAGEKEYS.INSTALLID]){var n,r=e.createUniqueId(),o=new Date/1;chrome.storage.local.set((S(n={},y.STORAGEKEYS.INSTALLID,r),S(n,y.STORAGEKEYS.INSTALLIDTIME,o),n))}}))}},{key:"setStorage",value:function(e){return new Promise((function(t,n){chrome.storage.local.set(e,t)}))}},{key:"getStorage",value:function(e){return new Promise((function(t,n){chrome.storage.local.get(e,t)}))}},{key:"removeStorage",value:function(e){return new Promise((function(t,n){chrome.storage.local.remove(e,t)}))}},{key:"addClickEvent",value:function(e,t){try{if(!t)return e;var n=new URL(e);return n.searchParams.append("c",t),n.href}catch(t){return e}}},{key:"delConfig",value:function(){return new Promise((function(e,t){chrome.storage.local.remove(y.STORAGEKEYS.CONFIGDATA,e)}))}}],n&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const x=new O;var C=n(838),L=n.n(C);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===R(i)?i:String(i)),r)}var o,i}const I=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"escpateData",value:function(e){return L().sanitize(e,{SAFE_FOR_JQUERY:!0})}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}const B=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/language.html",this.header=r+"/header.html",this.loadingSpin=r+"/loading-tmp.html"}var n,o,i;return n=e,(o=[{key:"initView",value:function(){this.App=t()("#app"),this.App.html("");var e=this;t().get(e.header,(function(n){e.App.append(n),e.selectElements(),t().get(e.loadingSpin,(function(n){e.App.append(n),t().get(e.template,(function(t){e.App.append(t),e.loadLanguageList()}),"html")}),"html")}),"html")}},{key:"selectElements",value:function(){var e=this;e.headerLogo=t()("#header-logo"),e.headerVersion=t()("#header-version"),e.setServiceElements()}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO),this.headerVersion.text("v. "+y.VERSION)}},{key:"showError",value:function(e){if(t()("#loading-spin").css({display:"none"}),e)return t()("#lang-list-error").text(e);t()("#lang-list-error").text("Unknow error, contact support")}},{key:"showMaintenanceMessage",value:function(e){t()("#loading-spin").css({display:"none"}),t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#language-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"loadLanguageList",value:function(){var e=this;l.request("api","getLanguage",{}).then((function(n){if(x.isResponse200(n)){for(var r in t()("#loading-spin").css({display:"none"}),n.languages){var o=n.languages[r];t()(".lang-list ul").append('<li data="'+I.escpateData(o.id)+'"><a href="#"">'+I.escpateData(o.native)+"</a></li>")}t()(".lang-list li").click(e.onLangSelected)}return x.isResponseMinus20(n)?e.showError(n.message):x.isResponseMinusOne(n)?x.showMinusOneError(e.showError.bind(e)):void(x.isMaintenanceMode(n)&&e.showMaintenanceMessage(n.message))}))}},{key:"onLangSelected",value:function(){var e=t()(this);chrome.storage.local.set({language:e.attr("data")},(function(){chrome.storage.local.remove(y.STORAGEKEYS.LOCALE,(function(){location.reload()}))}))}}])&&N(n.prototype,o),i&&N(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===F(i)?i:String(i)),r)}var o,i}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/basesearch.html",this.header=r+"/header.html"}var n,o,i;return n=e,o=[{key:"initView",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),e.loadStorageData().then((function(n){t().get(e.header,(function(n){e.App.append(n),t().get(e.template,(function(t){e.App.append(t),e.selectElements(),e.setSearchPort(),l.request("baseFinder","init",{},(function(){}))}),"html")}),"html")}))}},{key:"setBaselinkNotFound",value:function(){this.searchView.css("display","none"),this.searchFailedView.css("display","block")}},{key:"unsetBaselinkNotFound",value:function(){this.searchView.css("display","block"),this.searchFailedView.css("display","none")}},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.BASELINKNOTFOUND],(function(t){e(t)}))}))}},{key:"selectElements",value:function(){var e=this;e.headerLogo=t()("#header-logo"),e.searchServiceName=t()("#search-service-name"),e.progressText=t()("#basesearch-progress"),e.cancelButton=t()("#basesearch-cancel-btn"),e.searchView=t()("#search-view"),e.searchFailedView=t()("#search-failed-view"),e.tryAgainButton=t()("#try-again-button"),e.contactSupportButton=t()("#contact-support-button"),e.setServiceElements(),e.setEvents()}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO),this.searchServiceName.text(y.SERVICE)}},{key:"setEvents",value:function(){var e=this;e.cancelButton.click(e.onCancelButton.bind(this)),e.tryAgainButton.click(e.onTryAgainButtonClicked.bind(this)),e.contactSupportButton.click(e.onContactSupportButtonClicked.bind(this))}},{key:"setSearchPort",value:function(){this.searchPort=chrome.runtime.connect({name:"basesearch-port"}),this.searchPort.onMessage.addListener(this.onSearchUpdate.bind(this))}},{key:"onSearchUpdate",value:function(e){var t=this;switch(e.action){case"progress":t.onUpdateReceived(e.data);break;case"failed":t.onSearchFailed(e.data);break;case"success":t.onSearchSuccess(e.data)}}},{key:"onSearchSuccess",value:function(){location.reload()}},{key:"onUpdateReceived",value:function(e){this.unsetBaselinkNotFound(),this.progressText.text(e)}},{key:"onSearchFailed",value:function(e){this.setBaselinkNotFound()}},{key:"onCancelButton",value:function(){this.progressText.text(""),l.request("baseFinder","abortAll",{},(function(){}))}},{key:"onTryAgainButtonClicked",value:function(){var e=this;e.progressText.text(""),chrome.storage.local.remove([y.STORAGEKEYS.BASELINKNOTFOUND,y.STORAGEKEYS.LASTBASELINK,y.STORAGEKEYS.LASTBASELINKTTL],(function(){e.unsetBaselinkNotFound(),l.request("baseFinder","init",{},(function(){}))}))}},{key:"onContactSupportButtonClicked",value:function(){x.openNewTab(y.CONTACTSUPPORTURL)}}],o&&D(n.prototype,o),i&&D(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();const j=new G;function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===M(i)?i:String(i)),r)}var o,i}const K=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={start:0},this.el=t,this.options=this.extend({},this.options),this.extend(this.options,n),this._init()}var t,n,r;return t=e,(n=[{key:"extend",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},{key:"addOnChangedListener",value:function(e){this.onChangedFunc=e}},{key:"_init",value:function(){this.tabs=[].slice.call(this.el.querySelectorAll("nav > ul > li")),this.items=[].slice.call(this.el.querySelectorAll(".tabs__content-wrap > section")),this.current=-1,this._show(),this._initEvents()}},{key:"_initEvents",value:function(){var e=this;this.tabs.forEach((function(t,n){t.addEventListener("click",(function(t){t.preventDefault(),e._show(n),e.onChangedFunc&&e.onChangedFunc(n)}))}))}},{key:"_show",value:function(e){this.current>=0&&(this.tabs[this.current].className=this.items[this.current].className=""),this.current=null!=e?e:this.options.start>=0&&this.options.start<this.items.length?this.options.start:0,this.tabs[this.current].className="tab-current",this.items[this.current].className="content-current"}}])&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===U(i)?i:String(i)),r)}var o,i}const H=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"sortByCountry",value:function(e){var t={serverList:{},stats:{}};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],o=r.CountryCode;t.serverList.hasOwnProperty(o)||(t.serverList[o]=[]),t.serverList[o].push(r),t.stats.hasOwnProperty(o)||(t.stats[o]={},t.stats[o].sum=0,t.stats[o].count=0),t.stats[o].count+=1,t.stats[o].sum+=0===r.Pos?1:r.Pos}for(var i in t.serverList)if(t.serverList.hasOwnProperty(i))for(var a=0;a<t.serverList[i].length;a++){var s=0===t.serverList[i][a].Pos?1:t.serverList[i][a].Pos;t.serverList[i][a].TotalPos=t.stats[i].sum/s,t.stats.hasOwnProperty(i)&&(t.stats[i].hasOwnProperty("TotalPosSum")||(t.stats[i].TotalPosSum=0),t.stats[i].TotalPosSum+=t.serverList[i][a].TotalPos)}for(var i in t.serverList)if(t.serverList.hasOwnProperty(i))for(a=0;a<t.serverList[i].length;a++)t.serverList[i][a].Prozent=t.serverList[i][a].TotalPos/t.stats[i].TotalPosSum*100;for(var i in t.serverList)if(t.serverList.hasOwnProperty(i)){var c=0;for(a=0;a<t.serverList[i].length;a++)t.serverList[i][a].rangeMin=c,c+=t.serverList[i][a].Prozent,t.serverList[i][a].rangeMax=c}return t.serverList}},{key:"sortByLoad",value:function(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];o.Identifier=r,n.push([o,e[r].Pos])}n.sort((function(e,t){return e[1]-t[1]}));for(var i={},a=0;a<n.length;a++)i[n[a][0].Identifier]=n[a][0];return t?{isPublic:!0,serverListData:i}:this.sortByCountry(i)}},{key:"generateSearchData",value:function(e,t){for(var n=0;n<t.length;n++)e.hasOwnProperty("Host")&&t[n].Host===e.Host&&t.splice(n,1);var r=[];return r.push(e),{randomSelectedServer:r,serverList:t}}},{key:"getServerByLoad",value:function(e,t){var n=Math.floor(99*Math.random())+1;if(e&&e.hasOwnProperty(t))for(var r=0;r<e[t].length;r++)if(e[t][r].rangeMin<n&&n<e[t][r].rangeMax)return e[t][r];return e[t][0]}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function W(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */W=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==q(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function z(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){z(i,r,o,a,s,"next",e)}function s(e){z(i,r,o,a,s,"throw",e)}a(void 0)}))}}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Q(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}const J=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/proxysearch.html",this.header=r+"/header.html",chrome.storage.onChanged.addListener(this.onStorageChanged.bind(this))}var n,o,i,a,s,c,u,f,p;return n=e,o=[{key:"initView",value:function(e){var n=this;this.App=t()("#app"),this.App.html(""),e&&(n.SearchData=e),x.getLocaleInStorage().then(n.loadTemplate.bind(this),n.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;n.loadStorageData().then((function(r){n.Storage=r,t().get(n.template,(function(t){var r=x.loadTemplate(t,e);if(n.App.append(r),n.selectElements(),n.setEvents(),n.Storage[y.STORAGEKEYS.PROXYSEARCHLOCK]&&n.Storage[y.STORAGEKEYS.PROXYSEARCHFAILED])return n.onSearchFailed(n.Storage[y.STORAGEKEYS.PROXYSEARCHFAILEDCOUNTRY]);n.setSearchPort(),n.initState()}),"html")}))}},{key:"initState",value:(p=X(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this).SearchData){e.next=5;break}return e.next=4,x.setStorage((n={},r=y.STORAGEKEYS.LASTFAILEDSERVER,o={serverLabel:t.SearchData.countryCode,serverType:t.SearchData.section},(r=Q(r))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));case 4:return e.abrupt("return",t.startSearch(t.SearchData));case 5:t.requestUpdate();case 6:case"end":return e.stop()}var n,r,o}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.PROXYSEARCHLOCK,y.STORAGEKEYS.PROXYSEARCHFAILED,y.STORAGEKEYS.LOCALE,y.STORAGEKEYS.PROXYSEARCHFAILEDCOUNTRY],(function(t){e(t)}))}))}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"ProxySearchView",t())}},{key:"startSearch",value:function(e){this.Port&&this.Port.postMessage({action:"search",data:e})}},{key:"requestUpdate",value:(f=X(W().mark((function e(){var t,n,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,x.getStorage(y.STORAGEKEYS.PROXYSEARCH);case 3:n=e.sent,(r=n[y.STORAGEKEYS.PROXYSEARCH])&&x.isObject(r)&&t.onSearchUpdate(r);case 6:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"selectElements",value:function(){var e=this;e.proxySearchActiveView=t()("#proxysearch-active"),e.proxySearchFailedView=t()("#proxysearch-failed"),e.cancelSearchButton=t()("#cancel-search-button"),e.backToDashboardButton=t()("#back-to-dashboard-button"),e.searchProgress=t()("#search-progress"),e.searchCountry=t()("#search-country"),e.searchFailedTxt=t()("#search-result-txt"),e.progressBar=t()("#progress-bar"),e.downloadDesktopClient=t()("#dw-desktop-client")}},{key:"setEvents",value:function(){var e=this;e.cancelSearchButton.click(e.onCancelButtonClicked.bind(this)),e.backToDashboardButton.click(e.onBackToDashboardButtonClicked.bind(this)),e.downloadDesktopClient.click(e.onDownloadDesktopClientClicked.bind(this))}},{key:"setSearchPort",value:function(){this.Port=chrome.runtime.connect({name:"proxysearch-port"}),this.Port.onMessage.addListener(this.onSearchMessage.bind(this))}},{key:"updateProgressBar",value:function(e,t){var n=(t-(t-e))/t*100;this.progressBar.width(Math.round(n)+"%")}},{key:"onDownloadDesktopClientClicked",value:function(){x.openPlatformLink("desktop")}},{key:"onCancelButtonClicked",value:function(){var e=this;chrome.storage.local.remove([y.STORAGEKEYS.PROXYSEARCHLOCK,y.STORAGEKEYS.PROXYSEARCHFAILED],(function(){e.Port&&e.Port.postMessage({action:"cancel"}),location.reload()}))}},{key:"delStorageEl",value:function(e){return new Promise((function(t,n){chrome.storage.local.remove(e,t)}))}},{key:"onBackToDashboardButtonClicked",value:(u=X(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this,chrome.storage.local.remove([y.STORAGEKEYS.PROXYSEARCHLOCK,y.STORAGEKEYS.PROXYSEARCHFAILED],X(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:chrome.storage.local.get([y.STORAGEKEYS.MARKEDBASELINK,y.STORAGEKEYS.MARKEDCONFIG],function(){var e=X(W().mark((function e(n){var r,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n[y.STORAGEKEYS.MARKEDBASELINK],o=n[y.STORAGEKEYS.MARKEDCONFIG],e.next=4,t.delStorageEl([y.STORAGEKEYS.MARKEDBASELINK,y.STORAGEKEYS.MARKEDCONFIG]);case 4:if(1!=o){e.next=7;break}return e.next=7,t.delStorageEl(y.STORAGEKEYS.CONFIGDATA);case 7:if(1!=r){e.next=11;break}return e.next=11,t.delStorageEl(y.STORAGEKEYS.BASELINK);case 11:location.reload();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"onSearchMessage",value:function(e){var t=this;switch(e.action){case"success":t.onSearchSuccess(e.data);break;case"update":t.onSearchUpdate(e.data);break;case"failed":t.onSearchFailed(e.data)}}},{key:"onSearchSuccess",value:function(e){location.reload()}},{key:"getCountryLabel",value:(c=X(W().mark((function e(t){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){x.loadCountryLocale(l).then((function(n){t=t?t.toUpperCase():"";var r=n&&n.hasOwnProperty(t)?n[t]:t;e(r)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"onSearchUpdate",value:(s=X(W().mark((function e(n){var r,o,i,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,!n||!n.country){e.next=12;break}return o=n.country,e.next=6,r.getCountryLabel(o);case 6:for(i=e.sent,r.searchCountry.text(i),a=10;n.tested>=a;)a+=10;r.updateProgressBar(n.tested,a),t()("#tested-servers").text(n.tested);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"onSearchFailed",value:(a=X(W().mark((function e(n){var r,o,i,a,s,c,u,l;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,x.getStorage(y.STORAGEKEYS.LOCALE);case 3:if(o=e.sent,n&&o&&o.SearchingProxyResultText&&r.searchFailedTxt.text(o.SearchingProxyResultText.replace("{0}",n)),r=this,i=t()("#client-version"),a=t()("#failed-country"),s=t()("#failed-servertype"),i.text(y.VERSION),!r.SearchData){e.next=16;break}a.text(r.SearchData.serverLabel),s.text("("+r.SearchData.serverType+")"),e.next=27;break;case 16:return e.next=18,x.getStorage(y.STORAGEKEYS.LASTFAILEDSERVER);case 18:if(c=e.sent,!(u=c[y.STORAGEKEYS.LASTFAILEDSERVER])||!x.isObject(u)){e.next=27;break}return e.next=24,r.getCountryLabel(u.serverLabel);case 24:l=e.sent,a.text(l),s.text("("+u.serverType+")");case 27:r.proxySearchActiveView.css("display","none"),r.proxySearchFailedView.css("display","block");case 29:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"onStorageChanged",value:function(e,t){if("local"==t&&e.hasOwnProperty(y.STORAGEKEYS.PROXYSEARCH)){var n=e[y.STORAGEKEYS.PROXYSEARCH];this.onSearchUpdate(n.newValue)}}}],o&&$(n.prototype,o),i&&$(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}()),Z={ActivationVerifyEmail:"Verify your email address",ActivationTitle:"Yay! You're Almost There.",ActivationTitle2:"Activate your account to finish your signing up.",ActivationText:"We've sent you a welcome email with an activation link. Simply click that link and afterwards login to your account.",ActivationWarning:"It can take up to 5 minutes to receive the email with an activation link. Please don't forget to check your spam and junk folder.",ActivationResendError:"You have requested this function too many times in a short amount of time. Please try again in 5 minutes.",ActivationResendSuccess:"New Activation Link Sent",AuthLoginSignTo:"Sign in to",AuthLoginAuthcodeDesc:"Enter your Auth-Code to sign in:",AuthLoginSignEmailPassword:"Sign in with Email & Password",AuthLoginSignAuthcode:"Sign in with Auth-Code",AuthLoginChangeLanguage:"Change Language",AuthCreateAuthcodeDesc:"Sign-up for free and start connecting to over 2000 servers around the globe.",AuthCreateSuccessTitle:"Yay! Your account is ready!",AuthcodeConTitle:"This is your Auth-Code",AuthcodeConClipboardCopied:"Auth-Code copied to clipboard",AuthcodeConClipboardClickCopy:"* Click on it to copy on clipboard *",AuthcodeConKeepSafe:"Keep it somewhere safe!",AuthcodeConClickShow:"Click here to show Auth-Code",AuthCreateSuccessDesc1:"This is your Auth-Code. Think of it as your key to your account. Please keep it somewhere safe!",AuthCreateSuccessDesc2:"You will need it to login to your account on other devices or when you logout.",AuthCreateLetsStart:"Let's start!",AuthFailed:"Authentication failed",EmailWarningTitle:"We're discontinuing support for Email & Password-Login",EmailWarningDesc:"You logged in with your email & password. Starting from next version, we are discontinuing support for Email&Password-Login. Therefore please copy your Auth-Code and keep it safe."};function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ee(i)?i:String(i)),r)}var o,i}const ne=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/upgrade.html",this.header=r+"/header.html",this.initView=this.initView.bind(this)}var n,o,i;return n=e,(o=[{key:"initView",value:function(){this.App=t()("#app"),this.App.html(""),x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){n.loadStorageData().then((function(r){n.Storage=r;var o=x.loadTemplate(t,e);n.App.append(o),n.selectElements(),n.setEvents(),n.setHeaderBackButton(),n.upgradeView.css("display","none"),n.loadProductsFromServer().then(n.onProductsLoaded.bind(n)).catch(n.onProductError.bind(n))}))}),"html")}),"html")}},{key:"selectElements",value:function(){var e=this;e.headerLogo=t()("#header-logo"),e.productTable=t()("#product-table"),e.productTableBody=t()("#product-table-body"),e.paymentContainer=t()("#payment-container"),e.nextToPayment=t()("#next-to-payment"),e.backToProduct=t()("#back-to-product"),e.upgradeView=t()("#upgrade-view"),e.errorMessage=t()("#error_message"),e.paymentButton=t()("#payment-button"),e.setServiceElements()}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO)}},{key:"setEvents",value:function(){var e=this;e.paymentButton.click(e.onPaymentButtonClicked.bind(this)),e.nextToPayment.click(e.onNextToPaymentClicked.bind(this)),e.backToProduct.click(e.onBackToProductClicked.bind(this))}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"loadProductsFromServer",value:function(){var e=this;return new Promise((function(n,r){e.App.append('<div class="loadingimg"><img src="images/loading.gif"></div>'),chrome.storage.local.get([y.STORAGEKEYS.USERDATA],(function(o){var i=o[y.STORAGEKEYS.USERDATA];l.request("api","getProducts",i).then((function(o){if(t()(".loadingimg").css("display","none"),x.isResponse200(o)){var i=o.products,a=o.payment_methods;if(!Array.isArray(i)||!Array.isArray(a))return void r({code:0,msg:"Response is not array"});i.forEach((function(t){var n='<tr><td><input type="radio" '+(t.default?'checked="checked"':"")+' name="package" value="'+I.escpateData(t.id)+'"></td><td>'+I.escpateData(t.title)+"</td><td>"+I.escpateData(t.price)+" "+I.escpateData(t.currency)+"</td></tr>";e.productTableBody.append(n)})),a.forEach((function(t){var n='<div class="paymentItem"><input type="radio" name="provider" value="'+I.escpateData(t.endpoint)+'"><img class="upgrade-view__payment-image" alt="'+I.escpateData(t.title)+'" title="'+I.escpateData(t.title)+'" src="'+I.escpateData(t.logosrc)+'"></div>';e.paymentContainer.append(n)})),t()(".upgrade-view__payment-image").click((function(){t()(this).prev().prop("checked",!0)})),n()}else r({code:1,response:o})}))}))}))}},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA],(function(t){e(t)}))}))}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"UpgradeView",t())}},{key:"makeButtonInactive",value:function(e){e.unbind("click"),e.addClass("btn--inactive")}},{key:"makeButtonActive",value:function(e){e.click(this.onPaymentButtonClicked.bind(this)),e.removeClass("btn--inactive")}},{key:"setLoading",value:function(){var e=this;e.errorMessage.html(y.LOADINGIMG),e.makeButtonInactive(e.paymentButton)}},{key:"unsetLoading",value:function(){this.makeButtonActive(this.paymentButton)}},{key:"displayErrors",value:function(e){this.errorMessage.html(""),this.errorMessage.text(e)}},{key:"onProductsLoaded",value:function(){this.upgradeView.css("display","block")}},{key:"showError",value:function(e){this.upgradeView.css("display","block"),this.upgradeView.html("<p>"+e+"</p>")}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#upgrade-mode").css("display","none"),t()("#maintenance-mode").css("display","block"),t()("#header-container").css("display","none")}},{key:"onProductError",value:function(e){var t=this;if(0!==e.code){if(1===e.code&&e.response){var n=e.response;if(x.isResponseMinus20(n))return t.showError(n.message);if(x.isResponseMinusOne(n))return x.showMinusOneError(t.showError.bind(t));x.isResponseAuthError(n)&&chrome.storage.local.remove([y.STORAGEKEYS.USERDATA],(function(){chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){Ir.initView(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z))}))})),x.isMaintenanceMode(n)&&t.showMaintenanceMessage(n.message)}}else t.showError(e.msg)}},{key:"onPaymentButtonClicked",value:function(){var e=this,n=t()("#product-table-body input:checked"),r=t()("#payment-container input:checked"),o=n.val(),i=r.val();if(!i)return e.displayErrors(["Please select a payment method"]);e.setLoading(),chrome.storage.local.get([y.STORAGEKEYS.USERDATA],(function(t){var n={productid:o,endpoint:i};l.request("api","getPaymentLink",n).then((function(t){if(e.unsetLoading(),x.isResponse200(t))x.openNewTab(t.payat),chrome.storage.local.remove(y.STORAGEKEYS.CONFIGDATA),window.close();else{if(x.isResponseMinus20(t))return e.displayErrors(t.message);if(x.isResponseMinusOne(t))return x.showMinusOneError(e.displayErrors.bind(e));x.isResponseAuthError(t)&&chrome.storage.local.remove([y.STORAGEKEYS.USERDATA],(function(){chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){Ir.initView(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z))}))})),x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message)}}))}))}},{key:"onHeaderBackButtonClicked",value:function(){hr.initView()}},{key:"onNextToPaymentClicked",value:function(){t()("#product-step").css("display","none"),t()("#payment-step").css("display","block")}},{key:"onBackToProductClicked",value:function(){t()("#product-step").css("display","block"),t()("#payment-step").css("display","none")}}])&&te(n.prototype,o),i&&te(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===re(i)?i:String(i)),r)}var o,i}const ie=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/close-account.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(e){var n=this,r=this;r.userData=e,x.getLocaleInStorage().then((function(e){n.App=t()("#app"),n.App.html(""),t().get(r.template,(function(t){var n=x.loadTemplateWithFallback(t,e,Z);r.App.append(n),r.selectElements()}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeAccountButton=t()("#close-account-btn"),e.goBackButton=t()("#go-back-btn"),e.closeIcon=t()("#close-icon"),e.loadingImg=t()("#close-account-loading"),e.loadingDiv=t()("#loading-div"),e.contentDiv=t()("#content-div"),e.errorDiv=t()("#error-div"),e.successDiv=t()("#success-div"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeAccountButton.click(e.onCloseAccountClicked.bind(this)),e.goBackButton.click(e.onCancel.bind(this)),e.closeIcon.click(e.onCancel.bind(this))}},{key:"onCloseAccountClicked",value:function(){var e=this;e.setLoading(),chrome.storage.local.get([y.STORAGEKEYS.USERDATA],(function(t){var n=t[y.STORAGEKEYS.USERDATA];l.request("api","closeAccount",n).then((function(t){return e.unsetLoading(),x.isResponse200(t)?e.accountClosed():x.isResponseMinus20(t)?e.showError(t.message):x.isResponseMinusOne(t)?x.showMinusOneError(e.showError.bind(e)):(x.isResponseAuthError(t)&&chrome.storage.local.remove([y.STORAGEKEYS.USERDATA],(function(){chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){Ir.initView(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z))}))})),void(x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message)))}))}))}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#close-account-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"onCancel",value:function(){location.reload()}},{key:"accountClosed",value:function(){this.successDiv.css("display","block")}},{key:"showError",value:function(e){if(e)return this.errorDiv.text(e);this.errorDiv.text("Unknow error, contact support")}},{key:"setLoading",value:function(){var e=this;e.loadingImg.html(y.LOADINGIMG),e.loadingDiv.css("display","block"),e.contentDiv.css("display","none"),e.closeIcon.css("display","none")}},{key:"unsetLoading",value:function(){this.loadingDiv.css("display","none"),this.closeIcon.css("display","block")}}])&&oe(n.prototype,o),i&&oe(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t,n){return(t=ue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ue(r.key),r)}}function ue(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}n(802);const le=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/userprofile3.html",this.header=r+"/header.html"}var n,o,i;return n=e,(o=[{key:"initView",value:function(){x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;this.App=t()("#app"),this.App.html(""),t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){n.loadStorageData().then((function(r){n.Storage=r;var o=x.loadTemplateWithFallback(t,e,Z);n.App.append(o),n.selectElements(e),n.setHeaderBackButton(),n.setAuthcode(r),n.setPlaceholder(r),n.setInAppNotificationState(),n.setEvents()}))}),"html")}),"html")}},{key:"setAuthcode",value:function(){var e=this;e.Storage.userData.authcode&&e.userProfileAuthcode.text(e.Storage.userData.authcode)}},{key:"selectElements",value:function(e){var n=this;n.headerLogo=t()("#header-logo"),n.headerVersion=t()("#header-version"),n.userProfileAuthcode=t()("#user-profile-authcode"),n.userProfileAuthcodeCopied=t()("#authcode-copied-clipboard"),n.userProfileShowAuthcode=t()("#show-authcode"),n.changeLanguageButton=t()("#change-language-button"),n.changeBackButton=t()("#user-profile-back-button"),n.closeAccountButton=t()("#close-account-btn"),n.inAppNotificationContainer=t()("#notification-inapp-container"),n.inAppNotificationCheckbox=t()("#notification-inapp-checkbox"),n.setServiceElements(e)}},{key:"setServiceElements",value:function(e){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO),this.headerVersion.text("v. "+y.VERSION)}},{key:"setEvents",value:function(){var e=this;e.userProfileAuthcode.click(e.onUserProfileAuthcodeClicked.bind(this)),e.userProfileShowAuthcode.click(e.onUserProfileShowAuthcodeClicked.bind(this)),e.closeAccountButton.click(e.onCloseAccountClicked.bind(this))}},{key:"onCloseAccountClicked",value:function(){chrome.storage.local.get([y.STORAGEKEYS.USERDATA],(function(e){ie.show(e[y.STORAGEKEYS.USERDATA])}))}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onBackButtonClicked.bind(this))}},{key:"setPlaceholder",value:function(e){var t=this;t.changeLanguageButton.click(t.onChangeLanguageClicked.bind(this)),t.changeBackButton.click(t.onBackButtonClicked.bind(this)),t.inAppNotificationCheckbox.click(t.onInAppNotificationSwitchChanged.bind(this))}},{key:"setNotificationState",value:function(e){var t=e[y.STORAGEKEYS.CONFIGDATA];if(t&&"y"==t.notificationstate.toLowerCase())return this.notificationCheckbox.prop("checked",!0);this.notificationCheckbox.prop("checked",!1)}},{key:"setInAppNotificationState",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF,y.STORAGEKEYS.CONFIGDATA],(function(t){var n=t[y.STORAGEKEYS.CONFIGDATA],r=n&&n.uid?n.uid:"",o=t[y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF];if(o&&!1===o[r])return e.inAppNotificationCheckbox.prop("checked",!1);e.inAppNotificationCheckbox.prop("checked",!0)}))}},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.LOCALE],(function(t){e(t)}))}))}},{key:"loadLocaleFromServer",value:function(){l.request("api","getLocale",{}).then((function(e){null!=e&&""!=e&&200===e.Retcode&&chrome.storage.local.set(se({},y.STORAGEKEYS.LOCALE,e.locale),(function(){window.location.reload(!0)}))}))}},{key:"fallbackCopyTextToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}},{key:"copyTextToClipboard",value:function(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){}),(function(e){})):this.fallbackCopyTextToClipboard(e)}},{key:"onBackButtonClicked",value:function(){location.reload()}},{key:"onChangeLanguageClicked",value:function(){B.initView()}},{key:"onInAppNotificationSwitchChanged",value:function(){var e=this.inAppNotificationCheckbox.prop("checked");chrome.storage.local.get([y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF],(function(t){var n=t[y.STORAGEKEYS.CONFIGDATA],r=n&&n.uid?n.uid:"",o=t[y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF];o||(o={}),o[r]=e,chrome.storage.local.set(se({},y.STORAGEKEYS.ISINAPPNOTIFICATIONOFF,o))}))}},{key:"onUserProfileAuthcodeClicked",value:function(){var e=this,n=t()("#user-profile-authcode").text().toUpperCase();"firefox"===y.PLATFORM.toLowerCase()?e.fallbackCopyTextToClipboard(n):e.copyTextToClipboard(n),e.userProfileAuthcode.css("display","none"),e.userProfileAuthcodeCopied.css("display","block"),setTimeout((function(){e.userProfileAuthcodeCopied.css("display","none"),e.userProfileAuthcode.css("display","block")}),5e3)}},{key:"onUserProfileShowAuthcodeClicked",value:function(){this.userProfileShowAuthcode.css("display","none"),this.userProfileAuthcode.css("display","block")}}])&&ce(n.prototype,o),i&&ce(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}()),fe=["localhost","127.0.0.1","local","intra","intranet","onion"];function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function he(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */he=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==pe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function de(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===pe(i)?i:String(i)),r)}var o,i}const ye=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/bypass-config.html",this.header=r+"/header.html"}var n,o,i,a,s;return n=e,o=[{key:"initView",value:function(){this.App=t()("#app"),this.App.html(""),x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;n.loadStorageData().then((function(r){n.Storage=r,t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){var r=x.loadTemplate(t,e);n.App.append(r),n.selectElements()}),"html")}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.headerLogo=t()("#header-logo"),e.bypasslist=t()("#bypasslist"),e.updateListButton=t()("#update-bypasslist-button"),e.errorMessages=t()("#error_message"),e.upgradeButton=t()("#upgrade-account-bypass"),e.setUpgradeButton(),e.setServiceElements(),e.setCurrentBypassList(),e.setHeaderBackButton(),e.setEvents()}},{key:"setUpgradeButton",value:function(){var e=this;x.isUserPremium(e.Storage[y.STORAGEKEYS.CONFIGDATA])||(e.updateListButton.hide(),e.upgradeButton.show(),e.bypasslist.attr("readonly","readonly"),e.showBypassFunctionError())}},{key:"setCurrentBypassList",value:function(e){var t=this;chrome.storage.local.get([y.STORAGEKEYS.BYPASSLIST,y.STORAGEKEYS.CONFIGDATA],(function(n){var r=n[y.STORAGEKEYS.CONFIGDATA],o=n[y.STORAGEKEYS.BYPASSLIST]?n[y.STORAGEKEYS.BYPASSLIST]:[],i=r&&r.uid?r.uid:"";e&&(o=e.bypassList);for(var a="",s=(o=o&&o[i]?o[i]:[]).concat(fe.filter((function(e){return o.indexOf(e)<0}))),c=0;c<s.length;c++)a+=s[c]+"\n";t.bypasslist.val(a)}))}},{key:"setEvents",value:function(){var e=this;e.updateListButton.click(e.onUpdateListButtonClicked.bind(this)),e.upgradeButton.on("click",(function(){e.upgradeClicked(ne.initView,"bl_u")}))}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO)}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"loadStorageData",value:function(){var e=this;return new Promise((function(t,n){chrome.storage.local.get([y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.LOCALE,y.STORAGEKEYS.BYPASSLIST],(function(n){e.Storage=n,t(n)}))}))}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"BypassConfigView",t())}},{key:"showResult",value:function(e){var t="";if(this.errorMessages.html(""),1==e.valid&&(t+="<p style='color: green;'>1 line added successfully</p>"),e.valid>1&&(t+="<p style='color: green;'>"+e.valid+" lines added successfully</p>"),1==e.invalid&&(t+="<p> 1 line is not valid: "+e.errorLines[0]+"</p>"),e.invalid>1){t+="<p>"+e.invalid+" lines are not valid:</p>";for(var n=0;n<e.errorLines.length;n++)t+="<p>"+e.errorLines[n]+"</p>"}this.errorMessages.html(L().sanitize(t,{SAFE_FOR_JQUERY:!0}))}},{key:"showBypassFunctionError",value:function(){this.errorMessages.html("This function is only available for premium user")}},{key:"onUpdateListButtonClicked",value:function(){var e=this,t=e.Storage[y.STORAGEKEYS.CONFIGDATA],n=t&&t.uid?t.uid:"",r=e.Storage[y.STORAGEKEYS.BYPASSLIST],o={currentData:r&&r[n]?r[n]:[],newData:e.bypasslist.val()};l.request("Bypasslist","validate",o).then((function(t){e.showResult(t),e.setCurrentBypassList()}))}},{key:"onHeaderBackButtonClicked",value:function(){location.reload()}},{key:"upgradeClicked",value:(a=he().mark((function e(t,n){var r,o,i;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 3:if(r=e.sent,o=r[y.STORAGEKEYS.CONFIGDATA],!(x.isObject(o)&&o.hasOwnProperty("ppage")&&o.ppage)){e.next=12;break}return i=x.addClickEvent(o.ppage,n),e.next=9,x.delConfig();case 9:x.openNewTab(i),e.next=13;break;case 12:t();case 13:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){de(o,n,r,i,s,"next",e)}function s(e){de(o,n,r,i,s,"throw",e)}i(void 0)}))},function(e,t){return s.apply(this,arguments)})}],o&&ve(n.prototype,o),i&&ve(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}()),me="/api2/pub/clientsupport";function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function be(e,t,n){return(t=we(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function we(e){var t=function(e,t){if("object"!==ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ge(t)?t:String(t)}const Se=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"pin",value:function(e,t){var n=this;return new Promise((function(r,o){chrome.storage.local.get([y.STORAGEKEYS.STICKEDCOUNTRIES,y.STORAGEKEYS.CONFIGDATA],(function(i){if(!x.isUserPremium(i[y.STORAGEKEYS.CONFIGDATA]))return o();var a=i[y.STORAGEKEYS.STICKEDCOUNTRIES],s=i[y.STORAGEKEYS.CONFIGDATA]?i[y.STORAGEKEYS.CONFIGDATA].uid:"",c=n.createPinObj(a,e,t,s);chrome.storage.local.set(be({},y.STORAGEKEYS.STICKEDCOUNTRIES,c),(function(){r()}))}))}))}},{key:"unpin",value:function(e,t){return new Promise((function(n,r){chrome.storage.local.get([y.STORAGEKEYS.STICKEDCOUNTRIES,y.STORAGEKEYS.CONFIGDATA],(function(r){var o=r[y.STORAGEKEYS.STICKEDCOUNTRIES],i=r[y.STORAGEKEYS.CONFIGDATA]?r[y.STORAGEKEYS.CONFIGDATA].uid:"";if(o&&o[i]&&o[i][t]){var a=o[i][t].indexOf(e);if(a>-1)return o[i][t].splice(a,1),void chrome.storage.local.set(be({},y.STORAGEKEYS.STICKEDCOUNTRIES,o),n)}n()}))}))}},{key:"getPinnedState",value:function(e,t){return new Promise((function(n,r){chrome.storage.local.get([y.STORAGEKEYS.STICKEDCOUNTRIES,y.STORAGEKEYS.CONFIGDATA],(function(r){var o=r[y.STORAGEKEYS.CONFIGDATA]?r[y.STORAGEKEYS.CONFIGDATA].uid:"",i=r[y.STORAGEKEYS.STICKEDCOUNTRIES],a=i&&i[o]&&i[o][t]&&i[o][t].indexOf(e)>-1;return n(!!a)}))}))}},{key:"createPinObj",value:function(e,t,n,r){if(e||(e={}),!e.hasOwnProperty(r))return e[r]={0:[],1:[],2:[]},e[r][n].push(t),e;var o=e[r][n].indexOf(t);return o>-1&&e[r][n].slice(o,1),e[r][n].push(t),e}}])&&Ee(t.prototype,n),r&&Ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ke(r.key),r)}}function ke(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ae(t)?t:String(t)}const Oe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"isExtInstalled",value:function(e){var t=this;return new Promise((function(n,r){t.getAllExt().then((function(t){for(var o=0;o<t.length;o++)if(t[o].id==e)return n(!0);r({reason:"not_installed"})}))}))}},{key:"isExtActive",value:function(e){var t=this;return new Promise((function(n,r){t.getAllExt().then((function(t){for(var o=0;o<t.length;o++)if(!0===t[o].enabled&&t[o].id==e)return n(!0);r({reason:"not_active"})}))}))}},{key:"cacheExtWithProxyPerm",value:function(e){this.getAllProxyExt().then(this.saveInStorage.bind(this)).then((function(t){e&&e(t)}))}},{key:"saveInStorage",value:function(e){return new Promise((function(t,n){var r,o,i;chrome.storage.local.set((r={},o=y.STORAGEKEYS.PROXYEXTENSIONS,i=e,(o=ke(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r),(function(){t(e)}))}))}},{key:"getAllExt",value:function(){return new Promise((function(e,t){return"FIREFOX"==y.PLATFORM.toUpperCase()?browser.management.getAll().then(e):chrome.management.getAll(e)}))}},{key:"getAllProxyExt",value:function(e){var t=this;return new Promise((function(n,r){t.getAllExt().then((function(r){for(var o=[],i=0;i<r.length;i++)t.hasExtensionProxyPermission(r[i])&&chrome.runtime.id!==r[i].id&&-1===y.PROXYADDONS.indexOf(r[i].id)&&-1===y.EXCEPTIONADDONS.indexOf(r[i].id)&&r[i].enabled&&o.push(r[i]);if(e)return e(o);n(o)}))}))}},{key:"popupCallback",value:function(e,t,n){return function(r){e.postMessage({response:n,requestId:t,data:r})}}},{key:"popupMessageHandler",value:function(e,t,n,r){"cacheExtWithProxyPerm"===n&&this.cacheExtWithProxyPerm(this.popupCallback(e,t,n))}},{key:"hasExtensionProxyPermission",value:function(e){return!!(e&&e.permissions&&e.permissions.indexOf("proxy")>-1)}}])&&Te(t.prototype,n),r&&Te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==xe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===xe(i)?i:String(i)),r)}var o,i}const Le=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addonPort=!1,this.addonId=y.WEBRTCADDON.ID,this.requests={}}var t,n,r;return t=e,(n=[{key:"setState",value:function(e){var t=this;return new Promise((function(n,r){t.connect().then((function(n){return t.sendRequest(n,"set",e)}),r).then(n)}))}},{key:"getState",value:function(){var e=this;return new Promise((function(t,n){e.connect().then((function(t){return e.sendRequest(t,"state")}),n).then(t)}))}},{key:"sendRequest",value:function(e,t,n){var r=this;return new Promise((function(o,i){if(e){var a=(new Date).getTime();r.addonPort.postMessage({request:t,requestId:a,data:n}),r.requests[a]=o}}))}},{key:"connect",value:function(){var e=this,t=this;return new Promise((function(n,r){Oe.isExtInstalled(t.addonId).then((function(){return Oe.isExtActive(t.addonId)}),r).then((function(r){return r?e.addonPort?n(!0):(e.addonPort=chrome.runtime.connect(t.addonId),e.addonPort.onDisconnect.addListener(t.onDisconnect.bind(t)),e.addonPort.onMessage.addListener(t.onMessage.bind(t)),void n(!0)):n(!1)}),r)}))}},{key:"onMessage",value:function(e){var t=this;e&&e.requestId&&t.requests.hasOwnProperty(e.requestId)&&(t.requests[e.requestId](e.data),delete t.requests[e.requestId])}},{key:"onDisconnect",value:function(e){this.addonPort=!1}}])&&Ce(t.prototype,n),r&&Ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Re(i)?i:String(i)),r)}var o,i}const Ie=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/webrtcaddon.html"}var n,o,i;return n=e,(o=[{key:"initView",value:function(e){this.App=t()("#app"),this.App.html(""),this.errorReason=e,x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;t().get(n.template,(function(t){var r=x.loadTemplate(t,e);n.App.append(r),n.selectElements(),n.setEvents(),n.setServiceElements()}),"html")}},{key:"setServiceElements",value:function(){var e=this;e.serviceName.text(y.SERVICE),e.serviceName2.text(y.SERVICE),"not_active"==e.errorReason?e.notEnabledView.show():e.notInstalledView.show()}},{key:"selectElements",value:function(){var e=this;e.addonBigButton=t()("#addon-big-button"),e.addonDownloadButton=t()("#addon-download-button"),e.closeAddonViewButton=t()("#close-addon-view"),e.serviceName=t()("#service-name"),e.serviceName2=t()("#service-name-2"),e.notInstalledView=t()("#not-installed-view"),e.notEnabledView=t()("#not-enabled-view"),e.enableBigButton=t()("#enable-big-button"),e.enableButton=t()("#addon-enable-button")}},{key:"setEvents",value:function(){var e=this;e.addonBigButton.click(e.openAddonPage.bind(e)),e.addonDownloadButton.click(e.openAddonPage.bind(e)),e.closeAddonViewButton.click(e.onCloseAddonViewClicked.bind(e)),e.enableButton.click(e.openAddonManager.bind(e)),e.enableBigButton.click(e.openAddonManager.bind(e))}},{key:"openAddonPage",value:function(){x.openNewTab(y.WEBRTCADDON.URL)}},{key:"openAddonManager",value:function(){}},{key:"onCloseAddonViewClicked",value:function(){location.reload()}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"UpgradeView",t())}}])&&_e(n.prototype,o),i&&_e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Pe(i)?i:String(i)),r)}var o,i}const Be=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/desktopclient-info.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),t().get(e.template,(function(t){e.App.append(t),e.selectElements()}),"html")}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#dc-info-close"),e.downloadButton=t()("#dw-desktop-client"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onCloseButtonClicked.bind(this)),e.downloadButton.click(e.onDownloadButtonClicked.bind(this))}},{key:"onCloseButtonClicked",value:function(){location.reload()}},{key:"onDownloadButtonClicked",value:function(){x.openPlatformLink("desktop")}}])&&Ne(n.prototype,o),i&&Ne(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Fe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Fe(i)?i:String(i)),r)}var o,i}const Ge=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/permission.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),t().get(e.template,(function(t){e.App.append(t),e.selectElements(),l.request("PermissionController","registerView",{},!0).then(e.onPermissionChanged.bind(this))}),"html")}},{key:"selectElements",value:function(){var e=this;e.contactSupportButton=t()("#contact-support"),e.permFixGif=t()("#perm-fix-gif"),e.setPermFixGif(),e.setEvents()}},{key:"setPermFixGif",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.BASELINK],(function(t){var n=t[y.STORAGEKEYS.BASELINK]?t[y.STORAGEKEYS.BASELINK]+y.IMAGES.PERMFIXGIF:"";e.permFixGif.attr("src",n)}))}},{key:"setEvents",value:function(){this.contactSupportButton.click(this.onContactButtonClicked.bind(this))}},{key:"onContactButtonClicked",value:function(){chrome.storage.local.get(y.STORAGEKEYS.BASELINK,(function(e){e[y.STORAGEKEYS.BASELINK]&&x.openNewTab(e[y.STORAGEKEYS.BASELINK]+me)}))}},{key:"onPermissionChanged",value:function(e){!0===e&&location.reload()}}])&&De(n.prototype,o),i&&De(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}()),je={tools:[{title:"MyScreenshot.io - Screenshot Capture Tool",description:"The easiest way to capture, customize and share your screenshots without leaving your browser.",icon:"images/msio-icon.png",download:{chrome:"https://chrome.google.com/webstore/detail/myscreenshotio-screenshot/gamnmcdlkomidhcomfjnheppjojkmdii",firefox:"https://addons.mozilla.org/de/firefox/addon/myscreenshotio-screenshot-tool"}}]};function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Me(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Me(i)?i:String(i)),r)}var o,i}var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/othertools.html"}var n,o,i;return n=e,o=[{key:"show",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),t().get(e.template,(function(t){e.App.append(t),e.selectElements(),e.populateItems()}),"html")}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#dc-info-close"),e.otherToolsBrand=t()("#othertools-brand"),e.itemContainer=t()("#othertools-items-container"),e.otherToolsBrand.text(y.SERVICE),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onCloseButtonClicked.bind(e))}},{key:"populateItems",value:function(){var e=this,n=this;je.tools.forEach((function(r,o){(r=t()(n.generateItem(r,o))).children(".othertools__item__clickable").click(n.onItemClicked.bind(e)),n.itemContainer.append(r)}))}},{key:"onCloseButtonClicked",value:function(){location.reload()}},{key:"onItemClicked",value:function(e){e.preventDefault();var n=t()(e.target).attr("targetId"),r=y.PLATFORM.toLowerCase();x.openNewTab(je.tools[n].download[r])}},{key:"generateItem",value:function(e,t){return'<div class="othertools__item"><img class="othertools__item__image" src="'+e.icon+'"><div class="othertools__item__title">'+e.title+'</div><div class="othertools__item__desc">'+e.description+'</div><img class="othertools__item__rating" src="images/rating.png"><div class="othertools__item__download-container"><div class="othertools__item__download-container__button-container"><div class="othertools__item__download-container__button-container__button"><div class="othertools__item__download-container__button-container__button__label">Download</div></div></div></div><div class="othertools__item__clickable" targetId="'+t+'"></div></div>'}}],o&&Ye(n.prototype,o),i&&Ye(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();const Ue=new Ke;
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var Ve="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,He=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Ve&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var qe=Ve&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),He))}};function We(e){return e&&"[object Function]"==={}.toString.call(e)}function ze(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Xe(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function $e(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=ze(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:$e(Xe(e))}function Qe(e){return e&&e.referenceNode?e.referenceNode:e}var Je=Ve&&!(!window.MSInputMethodContext||!document.documentMode),Ze=Ve&&/MSIE 10/.test(navigator.userAgent);function et(e){return 11===e?Je:10===e?Ze:Je||Ze}function tt(e){if(!e)return document.documentElement;for(var t=et(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ze(n,"position")?tt(n):n:e?e.ownerDocument.documentElement:document.documentElement}function nt(e){return null!==e.parentNode?nt(e.parentNode):e}function rt(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,c=i.commonAncestorContainer;if(e!==c&&t!==c||r.contains(o))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&tt(a.firstElementChild)!==a?tt(c):c;var u=nt(e);return u.host?rt(u.host,t):rt(e,nt(t).host)}function ot(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function it(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function at(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],et(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function st(e){var t=e.body,n=e.documentElement,r=et(10)&&getComputedStyle(n);return{height:at("Height",t,n,r),width:at("Width",t,n,r)}}var ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ut=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ft(e){return lt({},e,{right:e.left+e.width,bottom:e.top+e.height})}function pt(e){var t={};try{if(et(10)){t=e.getBoundingClientRect();var n=ot(e,"top"),r=ot(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?st(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,c=e.offsetWidth-a,u=e.offsetHeight-s;if(c||u){var l=ze(e);c-=it(l,"x"),u-=it(l,"y"),o.width-=c,o.height-=u}return ft(o)}function ht(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=et(10),o="HTML"===t.nodeName,i=pt(e),a=pt(t),s=$e(e),c=ze(t),u=parseFloat(c.borderTopWidth),l=parseFloat(c.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=ft({top:i.top-a.top-u,left:i.left-a.left-l,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,!r&&o){var p=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);f.top-=u-p,f.bottom-=u-p,f.left-=l-h,f.right-=l-h,f.marginTop=p,f.marginLeft=h}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ot(t,"top"),o=ot(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(f,t)),f}function dt(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===ze(e,"position"))return!0;var n=Xe(e);return!!n&&dt(n)}function vt(e){if(!e||!e.parentElement||et())return document.documentElement;for(var t=e.parentElement;t&&"none"===ze(t,"transform");)t=t.parentElement;return t||document.documentElement}function yt(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?vt(e):rt(e,Qe(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ht(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:ot(n),s=t?0:ot(n,"left");return ft({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var s=void 0;"scrollParent"===r?"BODY"===(s=$e(Xe(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var c=ht(s,a,o);if("HTML"!==s.nodeName||dt(a))i=c;else{var u=st(e.ownerDocument),l=u.height,f=u.width;i.top+=c.top-c.marginTop,i.bottom=l+c.top,i.left+=c.left-c.marginLeft,i.right=f+c.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function mt(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=yt(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map((function(e){return lt({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function gt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ht(n,r?vt(t):rt(t,Qe(n)),r)}function bt(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Et(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function wt(e,t,n){n=n.split("-")[0];var r=bt(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",c=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[c]/2-r[c]/2,o[s]=n===s?t[s]-r[u]:t[Et(s)],o}function St(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function At(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=St(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function;var n=e.function||e.fn;e.enabled&&We(n)&&(t.offsets.popper=ft(t.offsets.popper),t.offsets.reference=ft(t.offsets.reference),t=n(t,e))})),t}function Tt(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=gt(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=mt(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=wt(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=At(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function kt(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Ot(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function xt(){return this.state.isDestroyed=!0,kt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ot("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Ct(e){var t=e.ownerDocument;return t?t.defaultView:window}function Lt(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||Lt($e(i.parentNode),t,n,r),r.push(i)}function Rt(e,t,n,r){n.updateBound=r,Ct(e).addEventListener("resize",n.updateBound,{passive:!0});var o=$e(e);return Lt(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function _t(){this.state.eventsEnabled||(this.state=Rt(this.reference,this.options,this.state,this.scheduleUpdate))}function It(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Ct(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Pt(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Nt(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Pt(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Bt=Ve&&/Firefox/i.test(navigator.userAgent);function Ft(e,t,n){var r=St(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o);return o}var Dt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Gt=Dt.slice(3);function jt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Gt.indexOf(e),r=Gt.slice(n+1).concat(Gt.slice(0,n));return t?r.reverse():r}var Mt="flip",Yt="clockwise",Kt="counterclockwise";function Ut(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(St(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&a[s].indexOf(",");var c=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){return ft("%p"===a?n:r)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){Pt(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var Vt={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:ut({},c,i[c]),end:ut({},c,i[c]+i[u]-a[u])};e.offsets.popper=lt({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],c=void 0;return c=Pt(+n)?[+n,0]:Ut(n,i,a,s),"left"===s?(i.top+=c[0],i.left-=c[1]):"right"===s?(i.top+=c[0],i.left+=c[1]):"top"===s?(i.left+=c[0],i.top-=c[1]):"bottom"===s&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||tt(e.instance.popper);e.instance.reference===n&&(n=tt(n));var r=Ot("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var c=yt(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=c;var u=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),ut({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),ut({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=lt({},l,f[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return n[s]<i(r[c])&&(e.offsets.popper[c]=i(r[c])-n[u]),n[c]>i(r[s])&&(e.offsets.popper[c]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Ft(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",l=c?"Top":"Left",f=l.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",d=bt(r)[u];s[h]-d<a[f]&&(e.offsets.popper[f]-=a[f]-(s[h]-d)),s[f]+d>a[h]&&(e.offsets.popper[f]+=s[f]+d-a[h]),e.offsets.popper=ft(e.offsets.popper);var v=s[f]+s[u]/2-d/2,y=ze(e.instance.popper),m=parseFloat(y["margin"+l]),g=parseFloat(y["border"+l+"Width"]),b=v-e.offsets.popper[f]-m-g;return b=Math.max(Math.min(a[u]-d,b),0),e.arrowElement=r,e.offsets.arrow=(ut(n={},f,Math.round(b)),ut(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(kt(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=yt(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Et(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Mt:a=[r,o];break;case Yt:a=jt(r);break;case Kt:a=jt(r,!0);break;default:a=t.behavior}return a.forEach((function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],o=Et(r);var u=e.offsets.popper,l=e.offsets.reference,f=Math.floor,p="left"===r&&f(u.right)>f(l.left)||"right"===r&&f(u.left)<f(l.right)||"top"===r&&f(u.bottom)>f(l.top)||"bottom"===r&&f(u.top)<f(l.bottom),h=f(u.left)<f(n.left),d=f(u.right)>f(n.right),v=f(u.top)<f(n.top),y=f(u.bottom)>f(n.bottom),m="left"===r&&h||"right"===r&&d||"top"===r&&v||"bottom"===r&&y,g=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(g&&"start"===i&&h||g&&"end"===i&&d||!g&&"start"===i&&v||!g&&"end"===i&&y),E=!!t.flipVariationsByContent&&(g&&"start"===i&&d||g&&"end"===i&&h||!g&&"start"===i&&y||!g&&"end"===i&&v),w=b||E;(p||m||w)&&(e.flipped=!0,(p||m)&&(r=a[c+1]),w&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=lt({},e.offsets.popper,wt(e.instance.popper,e.offsets.reference,e.placement)),e=At(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=Et(t),e.offsets.popper=ft(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Ft(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=St(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=St(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration,a=void 0!==i?i:t.gpuAcceleration,s=tt(e.instance.popper),c=pt(s),u={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},c=i(o.width),u=i(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),p=t?l||f||c%2==u%2?i:a:s,h=t?i:s;return{left:p(c%2==1&&u%2==1&&!f&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!Bt),f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=Ot("transform"),d=void 0,v=void 0;if(v="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,d="right"===p?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,a&&h)u[h]="translate3d("+d+"px, "+v+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var y="bottom"===f?-1:1,m="right"===p?-1:1;u[f]=v*y,u[p]=d*m,u.willChange=f+", "+p}var g={"x-placement":e.placement};return e.attributes=lt({},g,e.attributes),e.styles=lt({},u,e.styles),e.arrowStyles=lt({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Nt(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Nt(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=gt(o,t,e,n.positionFixed),a=mt(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Nt(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Ht={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Vt},qt=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=qe(this.update.bind(this)),this.options=lt({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(lt({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=lt({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return lt({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&We(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return ct(e,[{key:"update",value:function(){return Tt.call(this)}},{key:"destroy",value:function(){return xt.call(this)}},{key:"enableEventListeners",value:function(){return _t.call(this)}},{key:"disableEventListeners",value:function(){return It.call(this)}}]),e}();qt.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,qt.placements=Dt,qt.Defaults=Ht;const Wt=qt;var zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0,arrowSelector:".tooltip-arrow, .tooltip__arrow",innerSelector:".tooltip-inner, .tooltip__inner"},Qt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Jt.call(this),n=Xt({},$t,n),t.jquery&&(t=t[0]),this.reference=t,this.options=n;var r="string"==typeof n.trigger?n.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];this._isOpen=!1,this._popperOptions={},this._setEventListeners(t,r,n)}return zt(e,[{key:"_create",value:function(e,t,n,r){var o=window.document.createElement("div");o.innerHTML=t.trim();var i=o.childNodes[0];i.id="tooltip_"+Math.random().toString(36).substr(2,10),i.setAttribute("aria-hidden","false");var a=o.querySelector(this.options.innerSelector);return this._addTitleContent(e,n,r,a),i}},{key:"_addTitleContent",value:function(e,t,n,r){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.3.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var o;1===t.nodeType||11===t.nodeType?n&&r.appendChild(t):(o=t)&&"[object Function]"==={}.toString.call(o)?this._addTitleContent(e,t.call(e),n,r):n?r.innerHTML=t:r.textContent=t}},{key:"_show",value:function(e,t){if(this._isOpen&&!this._isOpening)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.visibility="visible",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=e.getAttribute("title")||t.title;if(!n)return this;var r=this._create(e,t.template,n,t.html);e.setAttribute("aria-describedby",r.id);var o=this._findContainer(t.container,e);return this._append(r,o),this._popperOptions=Xt({},t.popperOptions,{placement:t.placement}),this._popperOptions.modifiers=Xt({},this._popperOptions.modifiers,{arrow:Xt({},this._popperOptions.modifiers&&this._popperOptions.modifiers.arrow,{element:t.arrowSelector}),offset:Xt({},this._popperOptions.modifiers&&this._popperOptions.modifiers.offset,{offset:t.offset||this._popperOptions.modifiers&&this._popperOptions.modifiers.offset&&this._popperOptions.modifiers.offset.offset||t.offset})}),t.boundariesElement&&(this._popperOptions.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new Wt(e,r,this._popperOptions),this._tooltipNode=r,this}},{key:"_hide",value:function(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.visibility="hidden",this._tooltipNode.setAttribute("aria-hidden","true"),this):this}},{key:"_dispose",value:function(){var e=this;return this._events.forEach((function(t){var n=t.func,r=t.event;e.reference.removeEventListener(r,n)})),this._events=[],this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||(this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null)),this}},{key:"_findContainer",value:function(e,t){return"string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=t.parentNode),e}},{key:"_append",value:function(e,t){t.appendChild(e)}},{key:"_setEventListeners",value:function(e,t,n){var r=this,o=[],i=[];t.forEach((function(e){switch(e){case"hover":o.push("mouseenter"),i.push("mouseleave");break;case"focus":o.push("focus"),i.push("blur");break;case"click":o.push("click"),i.push("click")}})),o.forEach((function(t){var o=function(t){!0!==r._isOpening&&(t.usedByTooltip=!0,r._scheduleShow(e,n.delay,n,t))};r._events.push({event:t,func:o}),e.addEventListener(t,o)})),i.forEach((function(t){var o=function(t){!0!==t.usedByTooltip&&r._scheduleHide(e,n.delay,n,t)};r._events.push({event:t,func:o}),e.addEventListener(t,o),"click"===t&&n.closeOnClickOutside&&document.addEventListener("mousedown",(function(t){if(r._isOpening){var n=r.popperInstance.popper;e.contains(t.target)||n.contains(t.target)||o(t)}}),!0)}))}},{key:"_scheduleShow",value:function(e,t,n){var r=this;this._isOpening=!0;var o=t&&t.show||t||0;this._showTimeout=window.setTimeout((function(){return r._show(e,n)}),o)}},{key:"_scheduleHide",value:function(e,t,n,r){var o=this;this._isOpening=!1;var i=t&&t.hide||t||0;window.clearTimeout(this._showTimeout),window.setTimeout((function(){if(!1!==o._isOpen&&document.body.contains(o._tooltipNode)){if("mouseleave"===r.type)if(o._setTooltipNodeEvent(r,e,t,n))return;o._hide(e,n)}}),i)}},{key:"_updateTitleContent",value:function(e){if(void 0!==this._tooltipNode){var t=this._tooltipNode.querySelector(this.options.innerSelector);this._clearTitleContent(t,this.options.html,this.reference.getAttribute("title")||this.options.title),this._addTitleContent(this.reference,e,this.options.html,t),this.options.title=e,this.popperInstance.update()}else void 0!==this.options.title&&(this.options.title=e)}},{key:"_clearTitleContent",value:function(e,t,n){1===n.nodeType||11===n.nodeType?t&&e.removeChild(n):t?e.innerHTML="":e.textContent=""}}]),e}(),Jt=function(){var e=this;this.show=function(){return e._show(e.reference,e.options)},this.hide=function(){return e._hide()},this.dispose=function(){return e._dispose()},this.toggle=function(){return e._isOpen?e.hide():e.show()},this.updateTitleContent=function(t){return e._updateTitleContent(t)},this._events=[],this._setTooltipNodeEvent=function(t,n,r,o){var i=t.relatedreference||t.toElement||t.relatedTarget;return!!e._tooltipNode.contains(i)&&(e._tooltipNode.addEventListener(t.type,(function r(i){var a=i.relatedreference||i.toElement||i.relatedTarget;e._tooltipNode.removeEventListener(t.type,r),n.contains(a)||e._scheduleHide(n,o.delay,o,i)})),!0)}};const Zt=Qt;function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==en(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==en(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===en(i)?i:String(i)),r)}var o,i}const nn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/get-premium.html",this.show=this.show.bind(this)}var n,o,i;return n=e,(o=[{key:"show",value:function(){var e=this,n=this;x.getLocaleInStorage().then((function(r){e.App=t()("#app"),e.App.html(""),t().get(n.template,(function(e){var t=x.loadTemplateWithFallback(e,r,Z);n.App.append(t),n.selectElements()}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#getprem-close"),e.upgradeButton=t()("#getprem-upgrade-btn"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onCloseButtonClicked.bind(this)),e.upgradeButton.click(e.onUpgradeButtonClicked.bind(this))}},{key:"onCloseButtonClicked",value:function(){location.reload()}},{key:"onUpgradeButtonClicked",value:function(){ne.initView()}}])&&tn(n.prototype,o),i&&tn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function on(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */on=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==rn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function an(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function sn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){an(i,r,o,a,s,"next",e)}function s(e){an(i,r,o,a,s,"throw",e)}a(void 0)}))}}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==rn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===rn(i)?i:String(i)),r)}var o,i}const un=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/timeout-view.html",this.show=this.show.bind(this)}var n,o,i,a;return n=e,o=[{key:"show",value:function(){var e=this,n=this;x.getLocaleInStorage().then((function(r){e.App=t()("#app"),e.App.html(""),t().get(n.template,(function(e){var t=x.loadTemplateWithFallback(e,r,Z);n.App.append(t),n.selectElements()}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#getprem-close"),e.upgradeButton=t()("#getprem-upgrade-btn"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;t()("#disconnected-upgrade").on("click",sn(on().mark((function t(){return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.request("ProxySetting","clearSettings",{});case 2:e.onUpgradeButtonClicked("cv_u");case 3:case"end":return t.stop()}}),t)})))),t()("#disconnected-close").on("click",e.onDisconnectButtonClicked.bind(this)),t()("#disconnected-continue").on("click",e.onDisconnectButtonClicked.bind(this)),t()("#disconnected-cancel").on("click",e.onDisconnectButtonClicked.bind(this))}},{key:"onDisconnectButtonClicked",value:function(){l.request("ProxySetting","clearSettings",{}).then((function(){location.reload()}))}},{key:"onUpgradeButtonClicked",value:(a=sn(on().mark((function e(t){var n,r,o;return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 2:if(n=e.sent,r=n[y.STORAGEKEYS.CONFIGDATA],!(x.isObject(r)&&r.hasOwnProperty("ppage")&&r.ppage)){e.next=11;break}return o=x.addClickEvent(r.ppage,t),e.next=8,x.delConfig();case 8:x.openNewTab(o),e.next=12;break;case 11:nn.show();case 12:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}],o&&cn(n.prototype,o),i&&cn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function fn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */fn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ln(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function pn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pn(i,r,o,a,s,"next",e)}function s(e){pn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ln(i)?i:String(i)),r)}var o,i}var vn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/connected.html",this.header=r+"/header.html",chrome.storage.onChanged.addListener(this.onStorageChanged.bind(this)),this.setTimeExpired=this.setTimeExpired.bind(this),this.updateTleft=this.updateTleft.bind(this)}var n,o,i,a,s,c;return n=e,o=[{key:"initView",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),l.request("PermissionController","registerView",{},!0).then(e.onPermissionChanged.bind(this)),x.getLocaleInStorage().then(e.loadTemplate.bind(this),e.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;n.loadStorageData().then((function(r){n.Storage=r,t().get(n.template,(function(t){var o=x.loadTemplate(t,e);n.App.append(o),n.selectElements(),n.setEvents(),n.updateTleft();var i=r[y.STORAGEKEYS.CURRENTPROXY]?r[y.STORAGEKEYS.CURRENTPROXY]:"";n.speedLink=!(!i||""==i||!i.SpeedTest)&&i.SpeedTest,n.speedLink&&""!=n.speedLink&&n.speedTest.css("display","block"),n.countryElId=i.ServerType+i.CountryCode,n.tabId=i.ServerType,n.usertag=r[y.STORAGEKEYS.CONFIGDATA]?r[y.STORAGEKEYS.CONFIGDATA].usertag:"",x.loadCountryLocale(l).then((function(e){var t=i.CountryCode,r=e&&e.hasOwnProperty(t.toUpperCase())?e[t.toUpperCase()]:t;n.connectedCountry.text(r)})),n.setProxyExtensionWarning(),n.setPinCountryButtonState(),n.setWebRTCCheckboxState()}),"html")}))}},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.ISPROXYON,y.STORAGEKEYS.CURRENTPROXY,y.STORAGEKEYS.LOCALE,y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.CONFIGDATA],(function(t){e(t)}))}))}},{key:"selectElements",value:function(){var e=this;e.connectedContainer=t()("#connected-container"),e.connectedCountry=t()("#connected-country"),e.connectedIpLookupButton=t()("#connected-ip-lookup-button"),e.connectedDNSLeakTestButton=t()("#dns-test-button"),e.connectedDisconnectButton=t()("#connected-disconnect-button"),e.connectedProxyExtensionNames=t()("#proxyExtensionNames"),e.connectedProxyExtensionServiceName=t()("#proxyextenion-servicename"),e.connectedProxyExtensionsMessage=t()("#proxyextensions"),e.speedTest=t()("#speed-test"),e.downloadAndroidButton=t()("#dw-android"),e.downloadWindowsButton=t()("#dw-windows"),e.downloadMacButton=t()("#dw-macosx"),e.otherToolsButton=t()("#dw-othertools"),e.otherToolsGif=t()("#othertools-gif"),e.setOtherToolsGif(),e.pinnedImg=t()("#pinned-image"),e.pinCountryButton=t()("#pin-country"),e.webRTCCheckbox=t()("#webrtc-checkbox"),e.webRTCContainer=t()("#webrtc-container"),"edge"==y.PLATFORM.toLowerCase()&&(e.webRTCContainer.css("display","none"),e.otherToolsButton.css("display","none"))}},{key:"setTimeExpired",value:(c=hn(fn().mark((function e(){return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,x.getStorage([y.STORAGEKEYS.EXPIRATIONTIME]);case 3:!0===e.sent[y.STORAGEKEYS.EXPIRATIONTIME]&&un.show();case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"updateTleft",value:(s=hn(fn().mark((function e(){var n,r,o;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,x.getStorage([y.STORAGEKEYS.TIMELEFT,y.STORAGEKEYS.CONFIGDATA]);case 3:n=e.sent,r=n[y.STORAGEKEYS.CONFIGDATA],x.isUserPremium(r)||(o=n[y.STORAGEKEYS.TIMELEFT],t()("#connected-remaining-time").text(o),o?(t()(".connected-view__remaining-time").css("display","block"),t()(".connected-view__status-title").css("margin","0")):t()(".connected-view__remaining-time").css("display","none"));case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"onUpgradeButtonClicked",value:(a=hn(fn().mark((function e(t){var n,r,o;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 2:if(n=e.sent,r=n[y.STORAGEKEYS.CONFIGDATA],!(x.isObject(r)&&r.hasOwnProperty("ppage")&&r.ppage)){e.next=11;break}return o=x.addClickEvent(r.ppage,t),e.next=8,x.delConfig();case 8:x.openNewTab(o),e.next=12;break;case 11:nn.show();case 12:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"setOtherToolsGif",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.BASELINK],(function(t){var n=t[y.STORAGEKEYS.BASELINK]?t[y.STORAGEKEYS.BASELINK]+y.IMAGES.OTHERTOOLSGIF:"";e.otherToolsGif.attr("src",n)}))}},{key:"setEvents",value:function(){var e=this;e.connectedIpLookupButton.click(e.onIpLookupButtonClicked.bind(this)),e.connectedDNSLeakTestButton.click(e.onDNSLeakTestButtonClicked.bind(this)),e.connectedDisconnectButton.click(e.onDisconnectButtonClicked.bind(this)),e.pinCountryButton.click(e.onPinCountryButtonClicked.bind(this)),e.webRTCCheckbox.click(e.onWebRTCCheckboxChanged.bind(this)),e.speedTest.click(e.onSpeedTestClicked.bind(this)),e.downloadAndroidButton.click(e.onDownloadEventFunc("android")),e.downloadMacButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.downloadWindowsButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.otherToolsButton.click(e.onOtherToolsButtonClicked.bind(this)),t()("#extend-time-upgrade").on("click",hn(fn().mark((function t(){return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.onUpgradeButtonClicked("cv_u");case 1:case"end":return t.stop()}}),t)})))),e.setTimeExpired()}},{key:"onDNSLeakTestButtonClicked",value:function(){x.openNewTab("https://dnsleaktest.org/dns-leak-test")}},{key:"onOtherToolsButtonClicked",value:function(){Ue.show()}},{key:"onSpeedTestClicked",value:function(){var e=this;e.speedLink&&""!=e.speedLink&&x.openNewTab(e.speedLink)}},{key:"onDesktopInfoButtonClicked",value:function(){Be.show()}},{key:"onDownloadEventFunc",value:function(e){return function(){x.openPlatformLink(e)}}},{key:"setWebRTCCheckboxState",value:function(){var e=this;Le.getState().then((function(t){var n="disable_non_proxied_udp"===t.value;e.webRTCCheckbox.prop("checked",n)}),(function(e){}))}},{key:"onWebRTCAddonError",value:function(e){if("not_installed"==e.reason||"not_active"==e.reason)return Ie.initView(e.reason)}},{key:"onWebRTCCheckboxChanged",value:function(){var e=this.webRTCCheckbox.prop("checked");Le.setState(e).then((function(e){}),this.onWebRTCAddonError)}},{key:"setPinCountryButtonState",value:function(){var e=this;if(!x.isUserPremium(e.Storage[y.STORAGEKEYS.CONFIGDATA]))return e.pinButtonForFreeUser();Se.getPinnedState(e.countryElId,e.tabId).then((function(t){if(t)return e.alreadyPinnedButton()}))}},{key:"alreadyPinnedButton",value:function(){var e=this;e.pinnedImg.css("display","none"),e.pinCountryButton.text("Unpin Country"),e.pinCountryButton.unbind("click"),e.pinCountryButton.click(e.onUnpinCountryClicked.bind(this))}},{key:"onUnpinCountryClicked",value:function(){Se.unpin(this.countryElId,this.tabId).then((function(){location.reload()}))}},{key:"deactivatePinButton",value:function(){this.pinCountryButton.removeClass("btn--blue"),this.pinCountryButton.addClass("btn--inactive")}},{key:"pinButtonForFreeUser",value:function(){this.deactivatePinButton(),new Zt(this.pinCountryButton,{placement:"top",title:"Only accessible for premium user"})}},{key:"getCountryElementIdByServer",value:function(e){return x.getTabIdByServerType(e.Type)+(e&&e.CountryCode?e.CountryCode.toLowerCase():"")}},{key:"onPinCountryButtonClicked",value:function(){Se.pin(this.countryElId,this.tabId).then((function(){location.reload()}))}},{key:"onIpLookupButtonClicked",value:function(){chrome.storage.local.get(y.STORAGEKEYS.IPLOOKUPURL,(function(e){var t=e[y.STORAGEKEYS.IPLOOKUPURL];t&&x.openNewTab(t)}))}},{key:"onDisconnectButtonClicked",value:function(){l.request("ProxySetting","clearSettings",{}).then((function(){location.reload()}))}},{key:"setProxyExtensionWarning",value:function(){var e=this;l.request("Management","cacheExtWithProxyPerm",{}).then((function(t){chrome.storage.local.get([y.STORAGEKEYS.PROXYEXTENSIONS],(function(t){var n=t[y.STORAGEKEYS.PROXYEXTENSIONS];if(n&&(!n||0!=n.length)){var r=e.getExtensionNamesAsString(n);e.connectedProxyExtensionServiceName.text(y.SERVICE),e.connectedProxyExtensionNames.html(L().sanitize(r,{SAFE_FOR_JQUERY:!0})),e.connectedProxyExtensionsMessage.css("display","block"),e.connectedContainer.removeClass("connected-view__middle")}}))}))}},{key:"getExtensionNamesAsString",value:function(e){var t=this;if(!e)return"";if(1==e.length)return t.addBoldToName(e[0].name);if(2==e.length)return t.addBoldToName(e[0].name)+" and "+t.addBoldToName(e[1].name);var n="";if(e.length>2){for(var r=0;r<e.length;r++)n+=t.addBoldToName(e[r].name),r==e.length-2&&(n+=" and "),r==e.length-2&&r==e.length-1||(n+=", ");return n}return""}},{key:"addBoldToName",value:function(e){return"<b style='text-decoration:underline'>"+e+"</b>"}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"ConnectedView",t())}},{key:"onPermissionChanged",value:function(e){!1===e&&Ge.show()}},{key:"onStorageChanged",value:function(e,t){"local"==t&&(e.hasOwnProperty(y.STORAGEKEYS.EXPIRATIONTIME)&&this.setTimeExpired(),e.hasOwnProperty(y.STORAGEKEYS.TIMELEFT)&&this.updateTleft())}}],o&&dn(n.prototype,o),i&&dn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();const yn=new vn;function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==mn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===mn(i)?i:String(i)),r)}var o,i}const bn=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title=t,this.desc=n,this.gif=o,this.template=r+"/gif.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),x.getLocaleInStorage().then((function(n){t().get(e.template,(function(t){var r=x.loadTemplate(t,n);e.App.append(r),e.selectElements(),e.setValues(),e.setEvents()}),"html")}))}},{key:"setValues",value:function(){var e=this;e.titleEl.text(e.title),e.descEl.text(e.desc),chrome.storage.local.get([y.STORAGEKEYS.BASELINK],(function(t){var n=t[y.STORAGEKEYS.BASELINK];e.gifEl.html(L().sanitize('<img src="'+n+e.gif+'">',{SAFE_FOR_JQUERY:!0}))}))}},{key:"setEvents",value:function(){var e=this;e.closeGifButton.click(e.onCloseButtonClicked.bind(e)),e.upgradeButton.click(e.onUpgradeButtonClicked.bind(e))}},{key:"selectElements",value:function(){var e=this;e.titleEl=t()("#gif-title"),e.descEl=t()("#gif-desc"),e.gifEl=t()("#gif-gif"),e.closeGifButton=t()("#close-gif"),e.upgradeButton=t()("#gif-upgrade-button")}},{key:"onCloseButtonClicked",value:function(){location.reload()}},{key:"onUpgradeButtonClicked",value:function(){ne.initView()}}])&&gn(n.prototype,o),i&&gn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==En(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===En(i)?i:String(i)),r)}var o,i}const Sn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/trial.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(e,n){var r=this,o=this;this.trialDays=e,this.userData=n,x.getLocaleInStorage().then((function(n){r.App=t()("#app"),r.App.html(""),t().get(o.template,(function(t){var r=x.loadTemplateWithFallback(t,n,Z);o.App.append(r),o.selectElements(),o.setTrialDays(e)}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#gettrial-close"),e.upgradeButton=t()("#gettrial-upgrade-btn"),e.loadingDiv=t()("#loading-div"),e.loadingImg=t()("#gettrial-loading-img"),e.contentDiv=t()("#trial-content"),e.errorDiv=t()("#error-div"),e.successDiv=t()("#success-div"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onCloseButtonClicked.bind(this)),e.upgradeButton.click(e.onUpgradeButtonClicked.bind(this))}},{key:"setTrialDays",value:function(e){t()("#t-d1").text(e),t()("#t-d2").text(e)}},{key:"onCloseButtonClicked",value:function(){location.reload()}},{key:"onUpgradeButtonClicked",value:function(){var e=this;e.setLoading();var t={};e.userData&&e.userData.authcode&&(t={authcode:e.userData.authcode}),l.request("api","getTrial",t).then((function(t){return e.unsetLoading(),x.isResponse200(t)?e.trialSuccess(t):x.isResponseMinus20(t)?e.trialError(t.message):x.isResponseMinusOne(t)?x.showMinusOneError(e.trialError.bind(e)):(x.isResponseAuthError(t)&&chrome.storage.local.remove([y.STORAGEKEYS.USERDATA],(function(){chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){Ir.initView(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z))}))})),void(x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message)))}))}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#trial-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"trialSuccess",value:function(e){this.successDiv.css("display","block"),t()("#success-con").css("display","block"),e.message&&t()("#success-title").text(e.message),t()("#expiration-date").text(x.getUserExpirationData(e.expiration))}},{key:"trialError",value:function(e){if(t()("#fail-con").css("display","block"),e)return this.errorDiv.text(e);this.errorDiv.text("No error message, contact support")}},{key:"setLoading",value:function(){var e=this;e.loadingImg.html(y.LOADINGIMG),e.loadingDiv.css("display","block"),e.contentDiv.css("display","none"),e.closeButton.css("display","none")}},{key:"unsetLoading",value:function(){this.loadingDiv.css("display","none"),this.closeButton.css("display","block")}}])&&wn(n.prototype,o),i&&wn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Tn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Tn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==An(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function kn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function On(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){kn(i,r,o,a,s,"next",e)}function s(e){kn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==An(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===An(i)?i:String(i)),r)}var o,i}const Cn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/teaser.html",this.upgradeClicked=this.upgradeClicked.bind(this)}var n,o,i,a;return n=e,o=[{key:"show",value:function(e,n){var r=this,o=this;this.trialDays=e,this.userData=n,x.getLocaleInStorage().then((function(i){r.App=t()("#app"),r.App.html(""),t().get(o.template,(function(t){var r=x.loadTemplateWithFallback(t,i,Z);o.App.append(r),o.selectElements(),o.setTrialButton(e,n)}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#getprem-close"),e.upgradeButton=t()("#getprem-upgrade-btn"),e.moreFeatures=t()("#more-feature"),e.continueButton=t()("#continue-button"),e.getTrialButton=t()("#gettrial-btn"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onCloseButtonClicked.bind(this)),e.upgradeButton.on("click",On(Tn().mark((function t(){return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.upgradeClicked(ne.initView,"pt_b");case 1:case"end":return t.stop()}}),t)})))),e.moreFeatures.on("click",On(Tn().mark((function t(){return Tn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.upgradeClicked(nn.show,"pt_m");case 1:case"end":return t.stop()}}),t)})))),e.continueButton.click((function(){location.reload()}))}},{key:"setTrialButton",value:function(e,t){var n=this;e>0&&(n.getTrialButton.text("Start "+e+"-days free Premium"),n.getTrialButton.click((function(){Sn.show(e,t)})),n.getTrialButton.css("display","block"))}},{key:"upgradeClicked",value:(a=On(Tn().mark((function e(t,n){var r,o,i;return Tn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 3:if(r=e.sent,o=r[y.STORAGEKEYS.CONFIGDATA],!(x.isObject(o)&&o.hasOwnProperty("ppage")&&o.ppage)){e.next=12;break}return i=x.addClickEvent(o.ppage,n),e.next=9,x.delConfig();case 9:x.openNewTab(i),e.next=13;break;case 12:t();case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"onCloseButtonClicked",value:function(){location.reload()}}],o&&xn(n.prototype,o),i&&xn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_n(r.key),r)}}function _n(e){var t=function(e,t){if("object"!==Ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ln(t)?t:String(t)}var In=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/update-required.html"}var n,o,i;return n=e,o=[{key:"show",value:function(e){var n=this;n.isStop=e,this.App=t()("#app"),this.App.html(""),t().get(n.template,(function(e){n.App.append(e),n.selectElements(),n.setContent()}),"html")}},{key:"setContent",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.VERSIONSTATUS],(function(n){var r=n[y.STORAGEKEYS.VERSIONSTATUS];if(r&&r.hasOwnProperty("action")&&"update"===r.action){var o="\n            <p>\n            You are running version ".concat(y.VERSION," but there is an update\n            to version ").concat(r.curversion,". We highly recommend you to update in order to be bugfree\n            and have latest features.\n            </p>\n            ");t()("#up-desc").prepend(t()(o));var i='\n          <div class="update-available__title"><span class="update-available__notification">1</span> NEW UPDATE AVAILABLE</div>\n          <div class="update-available__content">\n            <div class="update-available__content__app">\n              <div class="update-available__content__app__icon">\n                <img src="images/symbol25.png">\n              </div>\n              <div class="update-available__content__app__version-info">\n                <div style="color: red;">Your version: '.concat(y.VERSION,'</div>\n                <div style="color: #007aff;">New version: ').concat(r.curversion,"</div>\n              </div>\n\n            </div>\n          </div>");t()("#up-update").prepend(t()(i)),r.hasOwnProperty("sources")&&r.sources.length>0&&r.sources.forEach((function(e){var n='\n                <div class="btn--update btn--update--large">'.concat(e.label,"</div>\n              "),r=t()(n);r.click((function(){x.openNewTab(e.url)})),t()("#update-links").append(r)})),t()("#up-content").css("display","block")}r&&r.hasOwnProperty("action")&&"stop"===r.action&&(t()("#up-loading-img").append(t()(y.LOADINGIMG)),t()("#up-loading").css("display","block"),l.request("ProxySetting","clearSettings",{}).then((function(){l.request("api","getClientVersionStatus",{ignoreTTL:!0}).then((function(n){if(t()("#up-loading").css("display","none"),n&&""!=n&&200===n.retcode&&n.data&&n.data.hasOwnProperty("action")&&"stop"===n.data.action){e.isStop&&(t()("#up-container").addClass("update-required--stop"),t()("#up-title").text("Outdated Version"),t()("#up-title").css("color","white"));var o="\n                <p>\n                You are running an outdated version ".concat(y.VERSION,". In order to use\n                this software you need to update to most current version ").concat(r.curversion,"\n                </p>\n                ");t()("#up-desc").prepend(t()(o)),r.hasOwnProperty("sources")&&r.sources.length>0&&r.sources.forEach((function(e){var n='\n                    <div class="btn--update btn--update--large">'.concat(e.label,"</div>\n                  "),r=t()(n);r.click((function(){x.openNewTab(e.url)})),t()("#update-links").append(r)})),t()("#up-content").css("display","block")}else chrome.storage.local.remove([y.STORAGEKEYS.VERSIONSTATUS,y.STORAGEKEYS.VERSIONSTATUSNEXTUPDATE],(function(){var e,t,n,r=x.getDateNow()+y.VERSIONSTATUSTTL;chrome.storage.local.set((e={},t=y.STORAGEKEYS.VERSIONSTATUSNEXTUPDATE,n=r,(t=_n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),location.reload()}))}))})))}))}},{key:"selectElements",value:function(){}},{key:"setEvents",value:function(){}}],o&&Rn(n.prototype,o),i&&Rn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();const Pn=new In;var Nn=n(517),Bn=n.n(Nn);function Fn(e){return Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(e)}function Dn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Dn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Fn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Gn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gn(i,r,o,a,s,"next",e)}function s(e){Gn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yn(r.key),r)}}function Yn(e){var t=function(e,t){if("object"!==Fn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fn(t)?t:String(t)}const Kn=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/contact.html",this.header=r+"/header.html"}var n,o,i,a,s;return n=e,o=[{key:"initView",value:(s=jn(Dn().mark((function e(){var t;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openInTab();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return");case 4:t=this,x.getLocaleInStorage().then(t.loadTemplate.bind(this),t.loadLocaleFromServer.bind(this));case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"openInTab",value:(a=jn(Dn().mark((function e(){var t,n;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 2:if(t=e.sent,n=t[y.STORAGEKEYS.CONFIGDATA],!x.isObject(n)||!n.hasOwnProperty("support_url")){e.next=7;break}return x.openNewTab(n.support_url),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"loadTemplate",value:function(e){var n=this;this.App=t()("#app"),this.App.html(""),t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){var r=x.loadTemplate(t,e);n.App.append(r),n.selectElements(),n.setErrorMessages(e),n.setHeaderBackButton()}),"html")}),"html")}},{key:"loadLocaleFromServer",value:function(){l.request("api","getLocale",{}).then((function(e){var t,n,r;null!=e&&""!=e&&200===e.Retcode&&chrome.storage.local.set((t={},n=y.STORAGEKEYS.LOCALE,r=e.locale,(n=Yn(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),(function(){window.location.reload(!0)}))}))}},{key:"selectElements",value:function(){var e=this;e.isEmailFieldValid=!0,e.isSubjectFieldValid=!0,e.isMessageFieldValid=!0,e.headerLogo=t()("#header-logo"),e.contactSuccessView=t()("#contact-success"),e.contactFormView=t()("#contact-form"),e.contactSuccessMessage=t()("#contact-success-message"),e.contactBackButton=t()("#contact-back-button"),e.contactEmailField=t()("#contact-email"),e.contactSubjectField=t()("#contact-subject"),e.contactMessageField=t()("#contact-message"),e.contactButton=t()("#contact-button"),e.errorMessage=t()("#response-error"),e.setServiceElements(),e.setEvents(),e.setEmail()}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO)}},{key:"setEmail",value:function(){var e=this;chrome.storage.local.get(y.STORAGEKEYS.USERDATA,(function(t){var n=t[y.STORAGEKEYS.USERDATA];n&&x.isObject(n)&&n.hasOwnProperty("email")&&(e.contactEmailField.val(n.email),e.contactEmailField.attr("disabled","true"))}))}},{key:"setEvents",value:function(){var e=this;e.contactEmailField.on("change",e.onEmailInputChanged.bind(this)),e.contactEmailField.on("input",e.onEmailFieldChanged.bind(this)),e.contactSubjectField.on("change",e.onSubjectInputChanged.bind(this)),e.contactSubjectField.on("input",e.onSubjectFieldChanged.bind(this)),e.contactMessageField.on("change",e.onMessageInputChanged.bind(this)),e.contactMessageField.on("input",e.onMessageFieldChanged.bind(this)),e.contactButton.on("click",e.onContactButtonClicked.bind(this)),e.contactBackButton.on("click",e.onBackToLoginClicked.bind(this)),t()("input").on("keyup",(function(t){13==t.keyCode&&e.contactButton.click()}))}},{key:"setErrorMessages",value:function(e){this.EMAILFAILED=e.LoginEmailFailed}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"makeButtonInactive",value:function(e){e.unbind("click"),e.addClass("btn--inactive")}},{key:"makeButtonActive",value:function(e){e.click(this.onContactButtonClicked.bind(this)),e.removeClass("btn--inactive")}},{key:"setLoading",value:function(){var e=this;e.errorMessage.html(y.LOADINGIMG),e.makeButtonInactive(e.contactButton)}},{key:"unsetLoading",value:function(){var e=this;e.errorMessage.html(""),e.makeButtonActive(e.contactButton)}},{key:"onContactButtonClicked",value:function(){var e=this,n=e.contactEmailField.val(),r=e.contactMessageField.val(),o=e.contactSubjectField.val(),i={email:n,message:r,subject:o};e.isValidEmail(n)&&e.validateMessage(r)&&e.validateMessage(o)?(e.setLoading(),l.request("api","createTicket",i).then((function(n){return e.unsetLoading(),x.isResponse200(n)?(t()("#contact-form").css("display","none"),t()("#contact-success").css("display","block"),void(n.hasOwnProperty("open")&&x.openNewTab(n.open))):x.isResponseMinus20(n)?void e.showResponseError(n.message):x.isResponseMinusOne(n)?x.showMinusOneError(e.showResponseError.bind(e)):void(x.isMaintenanceMode(n)&&e.showMaintenanceMessage(n.message))}))):(e.onEmailInputChanged({target:{value:n}}),e.onMessageInputChanged({target:{value:r}}),e.onSubjectInputChanged({target:{value:o}}))}},{key:"showResponseError",value:function(e){t()("#response-error").html(""),t()("#response-error").text(e),t()("#response-error").css("display","block")}},{key:"onBackToLoginClicked",value:function(){chrome.storage.local.get(y.STORAGEKEYS.USERDATA,(function(e){if(e[y.STORAGEKEYS.USERDATA])return location.reload();Ir.initView()}))}},{key:"onHeaderBackButtonClicked",value:function(){this.onBackToLoginClicked()}},{key:"onEmailInputChanged",value:function(e){var t=this;t.isValidEmail(e.target.value)?t.clearEmailError():t.showEmailError()}},{key:"onEmailFieldChanged",value:function(e){var t=this,n=t.isValidEmail(e);t.isEmailFieldValid||(t.isEmailFieldValid=n),t.isEmailFieldValid?t.clearEmailError():t.showEmailError()}},{key:"showEmailError",value:function(){t()("#email-error").css("display","block")}},{key:"clearEmailError",value:function(){t()("#email-error").css("display","none")}},{key:"onMessageInputChanged",value:function(e){var t=this;t.validateMessage(e.target.value)?t.clearMessageError():t.showMessageError()}},{key:"onMessageFieldChanged",value:function(e){var t=this,n=t.validateMessage(e);t.isMessageFieldValid||(t.isMessageFieldValid=n),t.isMessageFieldValid?t.clearMessageError():t.showMessageError()}},{key:"showMessageError",value:function(){t()("#message-error").css("display","block")}},{key:"clearMessageError",value:function(){t()("#message-error").css("display","none")}},{key:"onSubjectInputChanged",value:function(e){var t=this;t.validateMessage(e.target.value)?t.clearSubjectError():t.showSubjectError()}},{key:"onSubjectFieldChanged",value:function(e){var t=this,n=t.validateMessage(e);t.isSubjectFieldValid||(t.isSubjectFieldValid=n),t.isSubjectFieldValid?t.clearSubjectError():t.showSubjectError()}},{key:"showSubjectError",value:function(){t()("#subject-error").css("display","block")}},{key:"clearSubjectError",value:function(){t()("#subject-error").css("display","none")}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#contact-form").css("display","none"),t()("#header-container").css("display","none")}},{key:"validateMessage",value:function(e){return e&&e.length>=5}},{key:"isValidEmail",value:function(e){return e&&"string"==typeof e&&Bn()(e)}}],o&&Mn(n.prototype,o),i&&Mn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function Vn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Vn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Un(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Hn(e,t,n){return(t=Xn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qn(i,r,o,a,s,"next",e)}function s(e){qn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xn(r.key),r)}}function Xn(e){var t=function(e,t){if("object"!==Un(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Un(t)?t:String(t)}const $n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/messages-view.html",this.loadMessages=this.loadMessages.bind(this)}var n,o,i,a,s,c;return n=e,o=[{key:"initView",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),t().get(e.template,(function(n){e.App.append(n),t()("#back-btn").on("click",(function(){hr.initView()})),e.loadMessages()}),"html")}},{key:"markAsRead",value:(c=Wn(Vn().mark((function e(t,n,r,o){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&x.isObject(t)&&t.hasOwnProperty(n))){e.next=4;break}return t[n].isSkipped=!t[n].isSkipped,e.next=4,x.setStorage(Hn({},y.STORAGEKEYS.NOTIFYHISTORY,Object.assign(o,Hn({},r,t))));case 4:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return c.apply(this,arguments)})},{key:"deleteNotification",value:(s=Wn(Vn().mark((function e(t,n,r,o){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&x.isObject(t)&&t.hasOwnProperty(n))){e.next=4;break}return t.splice(n,1),e.next=4,x.setStorage(Hn({},y.STORAGEKEYS.NOTIFYHISTORY,Object.assign(o,Hn({},r,t))));case 4:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return s.apply(this,arguments)})},{key:"loadMessages",value:(a=Wn(Vn().mark((function e(){var n,r,o,i,a,s;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,x.getStorage([y.STORAGEKEYS.NOTIFYHISTORY,y.STORAGEKEYS.CONFIGDATA]);case 3:if(r=e.sent,o=r[y.STORAGEKEYS.CONFIGDATA],i=o.uid,o&&x.isObject(o)&&o.hasOwnProperty("uid")){e.next=8;break}return e.abrupt("return");case 8:a=r[y.STORAGEKEYS.NOTIFYHISTORY],s=[],a&&x.isObject(a)&&a.hasOwnProperty(i)&&Array.isArray(a[i])&&(s=a[i]),s&&Array.isArray(s)&&s.length>0&&(t()("#notify-container").html('\n        <ul class="notify-history-list" id="notify-list"></ul>\n      '),t()("#notify-list").html(""),s.forEach((function(e,n){var r='\n            <li class="notify-history-item">\n            <a data-id="'.concat(n,'" href="#" class="notify-history-item-link">\n              <div class="notify-history-item-content">\n                <div class="notify-history-item-text">\n                  <span class="notify-history-item-title">').concat(e.notify.caption,"</span>\n                  ").concat(e.isSkipped?'<div class="notify-history-item-dot"></div>':"",'\n                </div>\n                <div class="notify-history-item-actions">\n                  <a data-id="').concat(n,'" href="#" class="notify-history-item-action notify-history-item-view">View</a>\n                  <a data-id="').concat(n,'" href="#" class="notify-history-item-action notify-history-item-mark-read">\n                  ').concat(e.isSkipped?"Mark as Read":"Mark as Unread",'\n                  </a>\n                  <a data-id="').concat(n,'" href="#" class="notify-history-item-action notify-history-item-delete">Delete</a>\n                </div>\n              </div>\n            </a>\n          </li>\n        ');t()("#notify-list").append(r)})),t()(".notify-history-item-link").on("click",(function(e){var n=t()(e.currentTarget).attr("data-id");or.initView([s[n].notify],!0)})),t()(".notify-history-item-view").on("click",(function(e){var n=t()(e.currentTarget).attr("data-id");or.initView([s[n].notify],!0)})),t()(".notify-history-item-mark-read").on("click",function(){var e=Wn(Vn().mark((function e(r){var o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t()(r.currentTarget).attr("data-id"),e.next=3,n.markAsRead(s,o,i,a);case 3:n.initView();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t()(".notify-history-item-delete").on("click",function(){var e=Wn(Vn().mark((function e(r){var o;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t()(r.currentTarget).attr("data-id"),e.next=4,n.deleteNotification(s,o,i,a);case 4:n.initView();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}],o&&zn(n.prototype,o),i&&zn(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Jn(e,t,n){return(t=rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Zn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==Qn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function er(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function tr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){er(i,r,o,a,s,"next",e)}function s(e){er(i,r,o,a,s,"throw",e)}a(void 0)}))}}function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rr(r.key),r)}}function rr(e){var t=function(e,t){if("object"!==Qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qn(t)?t:String(t)}const or=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/notification.html",this.onCloseClicked=this.onCloseClicked.bind(this),this.addToHistory=this.addToHistory.bind(this)}var n,o,i,a,s;return n=e,o=[{key:"initView",value:function(e,n){var r=this;this.App=t()("#app"),this.App.html(""),this.notifications=e,this.backToHistory=n,t().get(r.template,(function(e){r.App.append(e),t()("#close-btn").on("click",tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.backToHistory){e.next=3;break}return e.next=3,r.addToHistory(r.notification,!0);case 3:return e.next=5,r.onCloseClicked();case 5:case"end":return e.stop()}}),e)})))),t()("#skip-btn").on("click",tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.backToHistory){e.next=3;break}return e.next=3,r.addToHistory(r.notification,!0);case 3:return e.next=5,r.onCloseClicked();case 5:case"end":return e.stop()}}),e)})))),t()("#dismiss-btn").on("click",tr(Zn().mark((function e(){return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.addToHistory(r.notification,!1);case 2:return e.next=4,r.onCloseClicked();case 4:case"end":return e.stop()}}),e)})))),t()("#notify-container").html(""),r.renderNext()}),"html")}},{key:"onCloseClicked",value:(s=tr(Zn().mark((function e(){var t,n,r;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,x.getStorage([y.STORAGEKEYS.READNOTIFICATION]);case 3:return n=e.sent,r=n[y.STORAGEKEYS.READNOTIFICATION],Array.isArray(r)||(r=[]),t.notification&&r.push(t.notification.id),e.next=9,x.setStorage(Jn({},y.STORAGEKEYS.READNOTIFICATION,r));case 9:t.renderNext(!0);case 10:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"addToHistory",value:(a=tr(Zn().mark((function e(t,n){var r,o,i,a,s,c,u,l;return Zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getStorage([y.STORAGEKEYS.NOTIFYHISTORY,y.STORAGEKEYS.CONFIGDATA]);case 3:if(r=e.sent,(o=r[y.STORAGEKEYS.CONFIGDATA])&&x.isObject(o)&&o.hasOwnProperty("uid")){e.next=7;break}return e.abrupt("return");case 7:if(i=o.uid,a=r[y.STORAGEKEYS.NOTIFYHISTORY],x.isObject(a)||(a={}),s=[],a.hasOwnProperty(i)&&Array.isArray(a[i])&&(s=a[i]),!t){e.next=18;break}return c={notify:t,isSkipped:n},-1===(u=s.findIndex((function(e){return e&&x.isObject(e.notify)&&x.isObject(t)&&e.notify.id===t.id})))?s.push(c):s.hasOwnProperty(u)&&(l=s.map((function(e){return e&&x.isObject(e.notify)&&x.isObject(t)&&e.notify.id===t.id?Object.assign(e,{isSkipped:n}):t})),s=l),e.next=18,x.setStorage(Jn({},y.STORAGEKEYS.NOTIFYHISTORY,Object.assign(a,Jn({},i,s))));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),function(e,t){return a.apply(this,arguments)})},{key:"renderNext",value:function(e){var n=this;n.notification=n.notifications.pop();var r=n.notification;if(!r)return n.backToHistory?void $n.initView():void hr.initView();var o="";r&&Array.isArray(r.actions)&&r.actions.forEach((function(e){x.isObject(e)&&e.hasOwnProperty("label")&&e.hasOwnProperty("target")&&(o+='\n            <button data-link="'.concat(e.target,'" \n            class="notify-action-button notify-primary" \n            aria-label="').concat(e.label,'" >\n              ').concat(e.label,"\n            </button>"))}));var i='\n                <h2 class="notify-title">'.concat(r.caption,'</h2>\n                <p class="notify-body notify-small">\n                ').concat(r.body,'\n                </p>\n                <div class="notify-action-buttons">\n                ').concat(o,"\n                </div>");t()("#notify-container").html(i),t()(".notify-action-button").on("click",(function(e){x.openNewTab(t()(e.currentTarget).attr("data-link"))}))}}],o&&nr(n.prototype,o),i&&nr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function ir(e){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ir(e)}function ar(e,t,n){return(t=fr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */sr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new k(o||[]);return r(a,"_invoke",{value:w(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==t&&n.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ir(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return h.prototype=d,r(g,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function cr(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cr(i,r,o,a,s,"next",e)}function s(e){cr(i,r,o,a,s,"throw",e)}a(void 0)}))}}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fr(r.key),r)}}function fr(e){var t=function(e,t){if("object"!==ir(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ir(t)?t:String(t)}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/dashboard.html",this.header=r+"/header.html",this.fallbackCopyTextToClipboard=this.fallbackCopyTextToClipboard.bind(this),this.copyTextToClipboard=this.copyTextToClipboard.bind(this),this.setUserProfile=this.setUserProfile.bind(this),this.showServerList=this.showServerList.bind(this)}var n,o,a,s,c,u,f,p,h;return n=e,o=[{key:"initView",value:function(){this.App=t()("#app"),this.App.html(""),x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"fallbackCopyTextToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}},{key:"copyTextToClipboard",value:function(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){}),(function(e){})):this.fallbackCopyTextToClipboard(e)}},{key:"loadTemplate",value:function(e){var t=this;this.App.html(""),t.loadStorageData().then(function(){var n=ur(sr().mark((function n(r){var o;return sr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.Storage=r,!r[y.STORAGEKEYS.ISPROXYON]){n.next=4;break}return yn.initView(),n.abrupt("return");case 4:return n.next=6,t.getNotification();case 6:if(!((o=n.sent).length>0)){n.next=10;break}return or.initView(o),n.abrupt("return");case 10:t.loadDashboardView(e,r);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"loadDashboardView",value:function(e,n){var r=this;l.request("PermissionController","registerView",{},!0).then(r.onPermissionChanged.bind(this)),t().get(r.header,(function(o){t().get(r.template,(function(t){r.App.html(""),r.App.append(o);var i=x.loadTemplateWithFallback(t,e,Z);r.App.append(i),r.setTabs(),r.serverList={},r.selectElements(),r.setUserProfile(e),r.setToolTip(e),r.checkBlockedStatus(n,e),r.checkRateUsTime(n,e,r),r.setTrial(n),r.setTeaser(n),r.setUpdateAvailable(),r.setEvents()}),"html")}),"html")}},{key:"getTabIdBySection",value:function(e){return"free"==e?0:1}},{key:"isSorted",value:(h=ur(sr().mark((function e(t){var n,r,o,i,a,s;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,x.getStorage([y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.CONFIGDATA]);case 3:if(r=e.sent,o=r[y.STORAGEKEYS.ISCOUNTRYSORTED],i=r[y.STORAGEKEYS.CONFIGDATA],a=n.getTabIdBySection(t),o&&i){e.next=9;break}return e.abrupt("return",!1);case 9:if(s=!!x.isObject(i)&&i.uid){e.next=12;break}return e.abrupt("return",!1);case 12:if(!(x.isObject(o)&&o.hasOwnProperty(s)&&x.isObject(o[s])&&o[s][a])){e.next=15;break}return e.abrupt("return",!0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"isPremiumAvailable",value:function(e){return x.isObject(e)&&e.hasOwnProperty("premium")&&Array.isArray(e.premium)&&e.premium.length>0}},{key:"isFreeAvailable",value:function(e){return x.isObject(e)&&e.hasOwnProperty("free")&&Array.isArray(e.free)&&e.free.length>0}},{key:"loadServerList",value:(p=ur(sr().mark((function e(t){var n,r,o;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this,t||(t=n.Tab.current),r=n.getSectionByTabId(t),o=n.generateLegacyList(n.Storage.configData.servers),n.serverList[t]||(n.serverList[t]=n.getServerListByTabId(t,o)),""==r.html()&&(0==t&&this.showServerList("free",n.freeServerListSection),1==t&&this.showServerList("premium",n.premiumServerListSection));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"generateLegacyList",value:function(e){var t=this,n={};return x.isObject(e)&&Object.keys(e).forEach((function(r){var o=e[r];x.isObject(o)&&Object.keys(o).forEach((function(e){var i=o[e];if(x.isObject(i)&&i.hasOwnProperty("h")&&i.hasOwnProperty("p")&&i.hasOwnProperty("t")){var a,s=t.getServerTypeNameById(i.t);try{a=new URL(i.h)}catch(e){a=null}if(null!==s&&x.isObject(a)&&a.hostname&&""!==a.hostname){var c=t.fixPortByScheme(a.port,a.protocol),u=a.protocol.replace(":","");null!==c&&(n.hasOwnProperty(s)||(n[s]={}),n[s][e]={Host:a.hostname,Port:c,Scheme:u,CountryCode:r,Pos:i.p,Type:i.t},i.hasOwnProperty("l")&&(n[s][e].Label=i.l))}}}))})),n}},{key:"fixPortByScheme",value:function(e,t){var n;return""===e&&"https:"===t?443:""===e&&"http:"===t?80:(n=parseInt(e),Number.isInteger(n)?n:null)}},{key:"getServerTypeNameById",value:function(e){return 0==e?"SERVERS":1==e?"PREMIUMSERVERS":2==e?"PUBLICSERVERS":null}},{key:"setAuthcodeContainer",value:function(e){var n=this,r=e[y.STORAGEKEYS.LOGINTYPE];e[y.STORAGEKEYS.USERDATA],"email"!=r&&(n.authcodeContainer.css("display","none"),n.downloadContainer.css("display","block"),n.userProfileStatus.css("margin-top","30px"),t()(".dashboard-view__user-profile").css("height","115px"),t()(".dashboard-view__user-profile").css("max-height","115px"),t()(".dashboard-view__server-list").css("min-height","273px"),t()(".dashboard-view__server-list").css("max-height","273px"),t()("#rate-us-box").css("height","360px"),t()("#rate-us-box").css("max-height","360px"),t()("#limit-info").css("height","360px"),t()("#limit-info").css("max-height","360px"))}},{key:"setTabs",value:(f=ur(sr().mark((function e(){var n,r,o,i,a,s,c;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,r=[],[].slice.call(document.querySelectorAll(".tabs")).forEach((function(e){r.push(new K(e))})),n.Tab=r[0],n.Tab.addOnChangedListener(n.onTabChanged.bind(this)),e.next=7,x.getStorage([y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.LASTSELECTEDTAB]);case 7:if(o=e.sent,i=o[y.STORAGEKEYS.CONFIGDATA].servers,a=o[y.STORAGEKEYS.LASTSELECTEDTAB],n.isFreeAvailable(i)||n.isPremiumAvailable(i)?(s=t()(t()(".tabs nav ul li")[0]),c=t()(t()(".tabs nav ul li")[1]),n.isFreeAvailable(i)||(c.removeClass("tab-current"),s.css("display","none"),t()("#tab-premium").css({"max-width":"100%"})),n.isPremiumAvailable(i)||(s.removeClass("tab-current"),c.css("display","none"),t()("#tab-free").css({"max-width":"100%"}))):(t()("#server-list-container").html('\n            <div class="dashboard-view__server-list__empty">\n                <p>No server found</p>\n                <a href="#" class="btn" id="reload-servers">\n                    Try again\n                </a>\n            </div>\n        '),t()("#reload-servers").on("click",ur(sr().mark((function e(){return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delConfig();case 2:location.reload();case 3:case"end":return e.stop()}}),e)}))))),!a||1!=a||!n.isPremiumAvailable(i)){e.next=17;break}return n.onTabChanged(1),n.Tab._show(1),e.abrupt("return");case 17:if(!n.isFreeAvailable(i)){e.next=23;break}return n.Tab._show(0),n.onTabChanged(0),e.abrupt("return");case 23:if(!n.isPremiumAvailable(i)){e.next=27;break}return n.onTabChanged(1),n.Tab._show(1),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"selectElements",value:function(){var e=this;e.headerLogo=t()("#header-logo"),e.headerVersion=t()("#header-version"),e.userProfileAuthcode=t()("#user-profile-authcode"),e.userProfileAuthcodeCopied=t()("#authcode-copied-clipboard"),e.userProfileShowAuthcode=t()("#show-authcode"),e.downloadContainer=t()("#download-container"),e.authcodeContainer=t()("#authcode-container"),e.userProfileUsername=t()("#user-profile-username"),e.userProfileStatus=t()("#user-profile-status"),e.userProfileUpgradeButton=t()("#user-profile-upgrade-button"),e.freeServerListSection=t()("#free-server-list"),e.premiumServerListSection=t()("#premium-server-list"),e.publicServerListSection=t()("#public-server-list"),e.serverListContainer=t()("#server-list-container"),e.logoutButton=t()("#logout-button"),e.userProfileButton=t()("#user-profile-button"),e.ipLookupButton=t()("#iplookup-button"),e.contactButton=t()("#contact-button"),e.limitInfo=t()("#limit-info"),e.downloadAndroidButton=t()("#dw-android"),e.downloadWindowsButton=t()("#dw-windows"),e.downloadMacButton=t()("#dw-macosx"),e.otherToolsButton=t()("#dw-othertools"),"edge"===y.PLATFORM.toLowerCase()&&e.otherToolsButton.css("display","none"),e.otherToolsGif=t()("#othertools-gif"),e.sortListByNameButton=t()("#sort-list-by-name"),e.isSortedIcon=t()("#is-sorted-icon"),e.sortFunctionDropdownContent=t()("#sort-function-dropdown-content"),e.sortFunctionContainer=t()("#sort-function-container"),e.selectLocationHeadline=t()("#select-location-headline"),e.bypasslistFunctionButton=t()("#bypass-function-container"),e.getTrial=t()("#get-trial"),e.getTrialContainer=t()("#get-trial-container"),e.setServiceElements()}},{key:"setServiceElements",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.BASELINK,y.STORAGEKEYS.CONFIGDATA],(function(t){var n=y.IMAGES.HEADERLOGO,r=t[y.STORAGEKEYS.CONFIGDATA];r&&x.isObject(r)&&r.hasOwnProperty("assets")&&x.isObject(r.assets)&&r.assets.hasOwnProperty("mainlogo")&&(n=r.assets.mainlogo),e.headerLogo.attr("src",n)})),e.headerVersion.text("v. "+y.VERSION)}},{key:"setToolTip",value:function(e){var t=this;new Zt(t.logoutButton,{placement:"top",title:e.Logout}),new Zt(t.userProfileButton,{placement:"top",title:e.EditProfile}),new Zt(t.ipLookupButton,{placement:"top",title:e.DasboardIPLookup}),new Zt(t.contactButton,{placement:"top",title:e.DasboardContactSupport})}},{key:"setTrial",value:function(e){if(e){var n=this,r=e[y.STORAGEKEYS.CONFIGDATA],o=e[y.STORAGEKEYS.USERDATA];if(r&&o){var i=x.isTrialAvailable(r);i>0&&(n.getTrial.click((function(){n.onGetTrialClicked(i,o)})),t()("#get-trial-days").text(i),n.getTrialContainer.css("display","block"))}}}},{key:"setTeaser",value:function(e){if(e){var t=e[y.STORAGEKEYS.CONFIGDATA],n=e[y.STORAGEKEYS.USERDATA];if(t&&n&&!x.isUserPremium(t)){var r=e[y.STORAGEKEYS.TEASERNEXT],o=x.isTrialAvailable(t);void 0!==r&&x.isInt(r)?r<x.getDateNow()&&chrome.storage.local.set(ar({},y.STORAGEKEYS.TEASERNEXT,x.getDateNow()+259200),(function(){Cn.show(o,n)})):chrome.storage.local.set(ar({},y.STORAGEKEYS.TEASERNEXT,x.getDateNow()+259200))}}}},{key:"setUpdateAvailable",value:function(){chrome.storage.local.get([y.STORAGEKEYS.VERSIONSTATUS],(function(e){var n=e[y.STORAGEKEYS.VERSIONSTATUS];if(n&&n.hasOwnProperty("action")&&"update"===n.action&&n.hasOwnProperty("curversion")){var r=x.getUpdateHtml(y.VERSION,n.curversion);t()("#header-container").prepend(t()(r)),t()("#update-app").click((function(){Pn.show()}))}}))}},{key:"checkBlockedStatus",value:function(e,n){var r=this,o=e[y.STORAGEKEYS.CONFIGDATA];o&&o.user_status==y.STATUS.BLOCKED&&!x.isUserPremium(o)&&l.request("ProxySetting","clearSettings",{}).then((function(){var e=x.getRemainingTime(o.user_statusdata,n),i=n.tempBlockTextRemaining.replace("{0}",e);t()("#limit-info-remaining-time").text(i),t()("#limit-info-upgrade-button").click(r.onUpgradeButtonClicked.bind(r)),r.limitInfo.css("display","block")}))}},{key:"checkRateUsTime",value:function(e,n,r){var o=e[y.STORAGEKEYS.ISPROXYON],i=e[y.STORAGEKEYS.RATEUSNEXTTIME],a=e[y.STORAGEKEYS.CONFIGDATA],s=Date.now()+y.RATEUS.INTERVAL;void 0===i&&chrome.storage.local.set(ar({},y.STORAGEKEYS.RATEUSNEXTTIME,s));var c=!1;if("firefox"==y.PLATFORM.toLowerCase()&&(c=y.RATEUS.LINKS.FIREFOX),"chrome"==y.PLATFORM.toLowerCase()&&(c=y.RATEUS.LINKS.CHROME),"edge"==y.PLATFORM.toLowerCase()&&(c=y.RATEUS.LINKS.EDGE),void 0!==i&&c&&i<Date.now()&&!o&&a.user_status==y.STATUS.OK){var u=t()("#rate-us-box");u.css("display","block");var l=t()("#rate-us-now-button"),f=n.RateNotRate?n.RateNotRate.replace("{0}",y.SERVICE):n.RateNotRate;l.text(f),l.click((function(){chrome.storage.local.set(ar({},y.STORAGEKEYS.RATEUSNEXTTIME,s),(function(){u.css("display","none"),x.openNewTab(c)}))})),t()("#rate-us-later-button").click((function(){chrome.storage.local.set(ar({},y.STORAGEKEYS.RATEUSNEXTTIME,s),(function(){u.css("display","none")}))})),t()("#rate-us-dont-ask-button").click((function(){var e=Date.now()+y.RATEUS.DONTASKINTERVAL;chrome.storage.local.set(ar({},y.STORAGEKEYS.RATEUSNEXTTIME,e),(function(){u.css("display","none")}))}))}}},{key:"setEvents",value:function(){var e=this;e.userProfileAuthcode.click(e.onUserProfileAuthcodeClicked.bind(this)),e.userProfileShowAuthcode.click(e.onUserProfileShowAuthcodeClicked.bind(this)),e.userProfileUpgradeButton.on("click",(function(){e.onUpgradeButtonClicked("sl_u")})),e.logoutButton.click(e.onLogoutButtonClicked.bind(this)),e.userProfileButton.click(e.onUserProfileButtonClicked.bind(this)),e.ipLookupButton.click(e.onIpLookupButtonClicked.bind(this)),e.contactButton.click(e.onContactButtonClicked.bind(this)),e.sortListByNameButton.click(e.onSortByNameClicked.bind(this)),e.bypasslistFunctionButton.click(e.onBypasslistFunctionButtonClicked.bind(this)),e.sortFunctionContainer.mouseover(e.overSortFunctionDropdown.bind(this)),e.sortFunctionContainer.mouseout(e.outSortFunctionDropdown.bind(this)),e.downloadAndroidButton.click(e.onDownloadEventFunc("android")),e.downloadMacButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.downloadWindowsButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.otherToolsButton.click(e.onOtherToolsButtonClicked.bind(this)),t()("#messages-btn").on("click",(function(){$n.initView()})),t()("#social-link").on("click",(function(){x.openNewTab("https://twitter.com/SetupVPNcom")}))}},{key:"onGetTrialClicked",value:function(e,t){Sn.show(e,t)}},{key:"onOtherToolsButtonClicked",value:function(){Ue.show()}},{key:"onDesktopInfoButtonClicked",value:function(){Be.show()}},{key:"onDownloadEventFunc",value:function(e){return function(){x.openPlatformLink(e)}}},{key:"setUserProfile",value:function(e){var n=this;if(n.Storage.userData.authcode&&(n.userProfileAuthcode.text(n.Storage.userData.authcode),t()("#authcode-container").css("display","block")),x.isUserPremium(n.Storage.configData)){var r=x.getUserExpirationData(n.Storage[y.STORAGEKEYS.CONFIGDATA].user_premium),o="<p>"+e.MemberStatusPremium+"</p><p>"+e.MemberStatusExpire+" "+r+"</p>";n.userProfileStatus.addClass("dashboard-view__user-profile__status--premium"),n.userProfileStatus.html(L().sanitize(o,{SAFE_FOR_JQUERY:!0})),n.userProfileUpgradeButton.text(e.MemberStatusPremiumExtend)}else{var i="<p>"+e.MemberStatusFree+"</p>";n.userProfileStatus.addClass("dashboard-view__user-profile__status--free"),n.userProfileStatus.html(L().sanitize(i,{SAFE_FOR_JQUERY:!0})),n.userProfileUpgradeButton.text(e.MemberStatusFreeExtend)}}},{key:"getNotification",value:function(){var e=this;return new Promise((function(t){chrome.storage.local.get([y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.READNOTIFICATION],(function(n){var r=n[y.STORAGEKEYS.CONFIGDATA];if(!x.isObject(r))return t([]);var o=n[y.STORAGEKEYS.READNOTIFICATION],i=e.getUnreadNotifications(r.notify,o);return t(i)}))}))}},{key:"getUnreadNotifications",value:function(e,t){try{return"object"===ir(e)&&Array.isArray(e)?Array.isArray(t)?e.filter((function(e){return!("object"!==ir(e)||!e.hasOwnProperty("id")||"string"!=typeof e.id||t.some((function(e){return"string"!=typeof e}))||t.includes(e.id))})):e:[]}catch(e){return[]}}},{key:"loadStorageData",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.ISPROXYON,y.STORAGEKEYS.CURRENTPROXY,y.STORAGEKEYS.RATEUSNEXTTIME,y.STORAGEKEYS.LOCALE,y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.LASTSELECTEDTAB,y.STORAGEKEYS.TEASERNEXT,y.STORAGEKEYS.LOGINTYPE,y.STORAGEKEYS.COUNTRYLOCALE],(function(t){e(t)}))}))}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"DashboardView",t())}},{key:"getSectionByTabId",value:function(e){var t=this;switch(e){case 0:return t.freeServerListSection;case 1:return t.premiumServerListSection;case 2:return t.publicServerListSection}}},{key:"getServerListByTabId",value:function(e,t){switch(e){case 0:return H.sortByLoad(t.SERVERS,!1);case 1:return H.sortByLoad(t.PREMIUMSERVERS,!1);case 2:return H.sortByLoad(t.PUBLICSERVERS,!0)}}},{key:"getConfig",value:function(){return new Promise((function(e,t){chrome.storage.local.get(y.STORAGEKEYS.CONFIGDATA,(function(t){e(t[y.STORAGEKEYS.CONFIGDATA])}))}))}},{key:"showServerList",value:(u=ur(sr().mark((function e(n,r){var o,a,s,c,u,f,p,h;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,e.next=3,this.getConfig();case 3:return a=e.sent,e.next=6,x.loadCountryLocale(l);case 6:return s=e.sent,c=x.isUserPremium(a),e.next=10,o.isSorted(n);case 10:u=e.sent,f=o.getTabIdBySection(n),p=[],a&&a.hasOwnProperty("servers")&&a.servers.hasOwnProperty(n)&&Array.isArray(a.servers[n])&&(p=a.servers[n]),h=[],p.forEach((function(e){var r="",a="",u=f+""+e;"premium"!=n||c||(r='<i class="material-icons">lock</i>'),(!c&&""==r||""==r)&&(a='<i class="material-icons sort-option" title="Move to top">vertical_align_top</i>');var l=s&&s.hasOwnProperty(e.toUpperCase())?s[e.toUpperCase()]:e,p='<div id="'+n+I.escpateData(e)+'" class="server-item" serverLabel="'+l+'" sortkey="'+I.escpateData(u)+'" section="'+f+'" serverkey="'+I.escpateData(e)+'"><a class="server-item__server"><img class="server-item__server__server-flag" src="'+i+"/"+I.escpateData(e)+'.png"><div class="server-item__server__server-info"><div class="server-item__server__server-info__server-label">'+l+"</div></div>"+r+a+"</a></div>",d=t()(p);d.on("click",(function(){o.onCountrySelected(e,n)})),d.find(".sort-option").on("click",(function(e){o.onPushCountryToTopClicked(u,f,e)})),d.on("mouseover",o.fadeInSortOption),d.on("mouseout",o.fadeOutSortOption);var v={label:l,html:d};h.push(v)})),u&&c&&h.sort((function(e,t){var n=e.label.toUpperCase(),r=t.label.toUpperCase();return n<r?-1:n>r?1:0})),h.forEach((function(e){r.append(e.html)})),o.setStickedCountries(f);case 19:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"onCountrySelected",value:(c=ur(sr().mark((function e(t,n){var r,o,i;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=4,r.getConfig();case 4:if(o=e.sent,i=x.isUserPremium(o),"premium"!=n||i){e.next=9;break}return r.freeUserClickedOnPremium(),e.abrupt("return");case 9:J.initView({countryCode:t,section:n});case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"setStickedCountries",value:function(e){var n=this;x.isUserPremium(n.Storage[y.STORAGEKEYS.CONFIGDATA])&&chrome.storage.local.get([y.STORAGEKEYS.STICKEDCOUNTRIES,y.STORAGEKEYS.CONFIGDATA],(function(r){var o=r[y.STORAGEKEYS.STICKEDCOUNTRIES],i=n.getSectionByTabId(e),a=r[y.STORAGEKEYS.CONFIGDATA]?r[y.STORAGEKEYS.CONFIGDATA].uid:"";if(o&&(!o||o[a]))for(var s=o[a][e],c=0;c<s.length;c++){var u="[sortKey="+s[c]+"]",l=t()(u);l.unbind("mouseover"),l.unbind("mouseout"),t()(u+" .sort-option").unbind("click"),n.replaceSortOptionWithPinned(t()(u+" .sort-option")),i.prepend(t()(u))}}))}},{key:"replaceSortOptionWithPinned",value:function(e){var n=t()("<img class='sort-option__pinned' src='images/pin.png'>");n.on("click",this.onUnpinClicked.bind(this)),e.replaceWith(n)}},{key:"fadeInSortOption",value:function(){var e=t()(this).attr("id");t()("#"+e+" .sort-option").show()}},{key:"fadeOutSortOption",value:function(e){var n=t()(this).attr("id");(e=t()("#"+n+" .sort-option")).stop().show(),e.hide()}},{key:"freeUserClickedOnPremium",value:function(){var e=this.Storage[y.STORAGEKEYS.LOCALE];this.onUpgradeButtonClicked("sl_p"),e&&x.showNotification(e.PremiumAccountNotTitle,e.PremiumAccountNotText)}},{key:"onBypasslistFunctionButtonClicked",value:function(){ye.initView()}},{key:"onServerSelected",value:function(e){var n=this,r=t()(e.currentTarget).attr("section"),o=t()(e.currentTarget).attr("serverKey"),i="y"==t()(e.currentTarget).attr("isPublicVal"),a=t()(e.currentTarget).attr("serverLabel"),s=t()(e.currentTarget).attr("section"),c=n.getServerTypeNameById(s);if(1==r&&n.Storage&&!x.isUserPremium(n.Storage[y.STORAGEKEYS.CONFIGDATA]))return n.freeUserClickedOnPremium();var u=n.serverList[r],l={};if(i){var f=[];f.push(u.serverListData[o]),l={randomSelectedServer:f,serverList:[]}}else{var p=H.getServerByLoad(u,o);l=H.generateSearchData(p,u[o])}var h=n.Storage[y.STORAGEKEYS.CONFIGDATA];l.uid=!!(h&&x.isObject(h)&&h.uid)&&h.uid,l.serverLabel=a,l.serverType=c,l.batch_size=h&&x.isObject(h)&&x.isInt(h.batch_size)&&h.batch_size>0?h.batch_size:10,J.initView(l)}},{key:"onTabChanged",value:function(e){var t=this;chrome.storage.local.set(ar({},y.STORAGEKEYS.LASTSELECTEDTAB,e),(function(){t.loadServerList(e)}))}},{key:"onUpgradeButtonClicked",value:(s=ur(sr().mark((function e(t){var n,r,o;return sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getStorage(y.STORAGEKEYS.CONFIGDATA);case 2:if(n=e.sent,r=n[y.STORAGEKEYS.CONFIGDATA],!(x.isObject(r)&&r.hasOwnProperty("ppage")&&r.ppage)){e.next=11;break}return o=x.addClickEvent(r.ppage,t),e.next=8,x.delConfig();case 8:x.openNewTab(o),e.next=12;break;case 11:nn.show();case 12:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"onLogoutButtonClicked",value:function(){l.request("ProxySetting","clearSettings",{}).then((function(){chrome.storage.local.remove([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.CONFIGDATATTL,y.STORAGEKEYS.CONFIGHARDTTL,y.STORAGEKEYS.LASTLOGOUTREASON],(function(){Ir.initView()}))}))}},{key:"onUserProfileButtonClicked",value:function(){le.initView()}},{key:"onIpLookupButtonClicked",value:function(){chrome.storage.local.get(y.STORAGEKEYS.IPLOOKUPURL,(function(e){var t=e[y.STORAGEKEYS.IPLOOKUPURL];t&&x.openNewTab(t)}))}},{key:"onContactButtonClicked",value:function(){Kn.initView()}},{key:"showSortFunctionError",value:function(e){var t=new bn("Pinned Countries","Move your favorite countries to the top of the server list",y.IMAGES.FEATUREPINGIF);e&&(t=new bn("Country Sorting","With this function you can sort the server list by country name",y.IMAGES.FEATURESORTGIF)),t.show()}},{key:"onPushCountryToTopClicked",value:function(e,n,r){r.stopPropagation();var o=this;if(!x.isUserPremium(o.Storage[y.STORAGEKEYS.CONFIGDATA]))return o.showSortFunctionError();Se.pin(e,n).then((function(){o.getSectionByTabId(n).html(""),o.loadServerList(n),t()("#free-server-list").parent().scrollTop(0)}),(function(){o.showSortFunctionError()}))}},{key:"onUnpinClicked",value:function(e){var n=this;e.stopPropagation();var r=t()(e.currentTarget).parent().parent(),o=r.attr("sortKey"),i=parseInt(r.attr("section"));Se.unpin(o,i).then((function(){n.getSectionByTabId(i).html(""),n.loadServerList(i)}))}},{key:"overSortFunctionDropdown",value:function(){var e=this;e.sortFunctionDropdownContent.show();var t=e.Tab.current;e.isTabSorted(t).then((function(t){if(t)return e.isSortedIcon.show();e.isSortedIcon.hide()}))}},{key:"outSortFunctionDropdown",value:function(){this.sortFunctionDropdownContent.hide()}},{key:"isTabSorted",value:function(e){return new Promise((function(t,n){chrome.storage.local.get([y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.CONFIGDATA],(function(n){var r=n[y.STORAGEKEYS.ISCOUNTRYSORTED],o=n[y.STORAGEKEYS.CONFIGDATA]?n[y.STORAGEKEYS.CONFIGDATA].uid:"";return r&&r[o]&&r[o][e]?t(!0):t(!1)}))}))}},{key:"onSortByNameClicked",value:function(){var e=this;if(x.hideElement(e.sortFunctionDropdownContent),!x.isUserPremium(e.Storage[y.STORAGEKEYS.CONFIGDATA]))return e.showSortFunctionError(!0);var t=e.Tab.current,n=e.getSectionByTabId(t);e.isTabSorted(t).then((function(r){if(!r)return e.sortListByName(t,n);e.resetSortedCountries(t,n).then((function(){location.reload()}))}))}},{key:"sortListByName",value:function(e,t){var n=this;chrome.storage.local.get([y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.CONFIGDATA],(function(r){var o=r[y.STORAGEKEYS.ISCOUNTRYSORTED],i=r[y.STORAGEKEYS.CONFIGDATA]?r[y.STORAGEKEYS.CONFIGDATA].uid:"";o||(o={}),o[i]||(o[i]={0:!1,1:!1,2:!1}),o[i][e]=!0,chrome.storage.local.set(ar({},y.STORAGEKEYS.ISCOUNTRYSORTED,o),(function(){t.html(""),n.loadServerList(e,!0)}))}))}},{key:"resetSortedCountries",value:function(e,t){return new Promise((function(t,n){chrome.storage.local.get([y.STORAGEKEYS.ISCOUNTRYSORTED,y.STORAGEKEYS.CONFIGDATA],(function(n){var r=n[y.STORAGEKEYS.ISCOUNTRYSORTED],o=n[y.STORAGEKEYS.CONFIGDATA]?n[y.STORAGEKEYS.CONFIGDATA].uid:"";if(!r||r&&!r[o])return t();r[o][e]=!1,chrome.storage.local.set(ar({},y.STORAGEKEYS.ISCOUNTRYSORTED,r),(function(){t()}))}))}))}},{key:"onDisconnectButtonClicked",value:function(){l.request("ProxySetting","clearSettings",{}).then((function(){location.reload()}))}},{key:"onPermissionChanged",value:function(e){!1===e&&Ge.show()}},{key:"onUserProfileAuthcodeClicked",value:function(){var e=this,n=t()("#user-profile-authcode").text().toUpperCase();"firefox"===y.PLATFORM.toLowerCase()?e.fallbackCopyTextToClipboard(n):e.copyTextToClipboard(n),e.userProfileAuthcode.css("display","none"),e.userProfileAuthcodeCopied.css("display","block"),setTimeout((function(){e.userProfileAuthcodeCopied.css("display","none"),e.userProfileAuthcode.css("display","block")}),5e3)}},{key:"onUserProfileShowAuthcodeClicked",value:function(){this.userProfileShowAuthcode.css("display","none"),this.userProfileAuthcode.css("display","block")}}],o&&lr(n.prototype,o),a&&lr(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();const hr=new pr;function dr(e){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(e)}function vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yr(r.key),r)}}function yr(e){var t=function(e,t){if("object"!==dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dr(t)?t:String(t)}const mr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/forgotpass.html",this.header=r+"/header.html",this.emailInputChanged=this.emailInputChanged.bind(this),this.emailFieldChanged=this.emailFieldChanged.bind(this)}var n,o,i;return n=e,(o=[{key:"initView",value:function(){x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;this.App=t()("#app"),this.App.html(""),t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){var r=x.loadTemplate(t,e);n.App.append(r),n.selectElements(),n.setErrorMessages(e),n.setHeaderBackButton()}),"html")}),"html")}},{key:"loadLocaleFromServer",value:function(){l.request("api","getLocale",{}).then((function(e){var t,n,r;null!=e&&""!=e&&200===e.Retcode&&chrome.storage.local.set((t={},n=y.STORAGEKEYS.LOCALE,r=e.locale,(n=yr(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),(function(){window.location.reload(!0)}))}))}},{key:"selectElements",value:function(){var e=this;e.isEmailFieldValid=!0,e.headerLogo=t()("#header-logo"),e.headerVersion=t()("#header-version"),e.forgotpassSuccessView=t()("#forgotpass-success"),e.forgotpassFormView=t()("#forgotpass-form"),e.forgotpassSuccessMessage=t()("#forgotpass-success-message"),e.forgotpassBackButton=t()("#forgotpass-back-button"),e.forgotpassEmailField=t()("#forgotpass-email"),e.forgotpassEmailField.change((function(t){e.emailInputChanged(t.target.value)})),e.forgotpassEmailField.on("input",(function(t){e.emailFieldChanged(t.target.value)})),e.forgotpassButton=t()("#forgotpass-button"),e.errorMessage=t()("#error_message"),e.setServiceElements(),e.setEvents()}},{key:"emailInputChanged",value:function(e){var t=this,n=t.isValidEmail(e);t.isEmailFieldValid=n,t.isEmailFieldValid?t.clearEmailError():t.showEmailError()}},{key:"emailFieldChanged",value:function(e){var t=this,n=t.isValidEmail(e);t.isEmailFieldValid||(t.isEmailFieldValid=n),t.isEmailFieldValid?t.clearEmailError():t.showEmailError()}},{key:"clearEmailError",value:function(){t()("#email-error").css("display","none")}},{key:"showEmailError",value:function(){t()("#email-error").css("display","block")}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO),this.headerVersion.text("v. "+y.VERSION)}},{key:"setEvents",value:function(){var e=this;e.forgotpassButton.click(e.onForgotpassButtonClicked.bind(this)),e.forgotpassBackButton.click(e.onBackToLoginClicked.bind(this)),t()("input").keyup((function(t){13==t.keyCode&&e.forgotpassButton.click()}))}},{key:"setErrorMessages",value:function(e){this.EMAILFAILED=e.LoginEmailFailed}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"makeButtonInactive",value:function(e){e.unbind("click"),e.addClass("btn--inactive")}},{key:"makeButtonActive",value:function(e){e.click(this.onForgotpassButtonClicked.bind(this)),e.removeClass("btn--inactive")}},{key:"setLoading",value:function(){var e=this;e.errorMessage.html(y.LOADINGIMG),e.makeButtonInactive(e.forgotpassButton)}},{key:"unsetLoading",value:function(){var e=this;e.errorMessage.html(""),e.makeButtonActive(e.forgotpassButton)}},{key:"onForgotpassButtonClicked",value:function(){var e=this,t=e.forgotpassEmailField.val();e.isValidEmail(t)?(e.clearResponseError(),e.setLoading(),setTimeout((function(){l.request("api","forgotPass",{email:t}).then((function(t){return e.unsetLoading(),x.isResponse200(t)?e.showSuccess(t.message):x.isResponseMinus20(t)?e.showResponseError(t.message):x.isResponseMinusOne(t)?x.showMinusOneError(e.showResponseError.bind(e)):void(x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message))}))}),500)):e.emailInputChanged({target:{value:t}})}},{key:"showSuccess",value:function(e){var t=this;t.forgotpassSuccessMessage.html(L().sanitize(e,{SAFE_FOR_JQUERY:!0})),t.forgotpassSuccessView.addClass("forgotpass-view--success--on"),t.forgotpassFormView.addClass("forgotpass-view--success")}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#forgotpass-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"showResponseError",value:function(e){t()("#error_message").html(""),t()("#error_message").text(e)}},{key:"clearResponseError",value:function(){t()("#error_message").html("")}},{key:"onBackToLoginClicked",value:function(){Ir.initView()}},{key:"onHeaderBackButtonClicked",value:function(){this.onBackToLoginClicked()}},{key:"isValidEmail",value:function(e){return e&&"string"==typeof e&&Bn()(e)}}])&&vr(n.prototype,o),i&&vr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function gr(e){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gr(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==gr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===gr(i)?i:String(i)),r)}var o,i}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/create-authcode-view.html",this.header=r+"/header.html",this.locale={},this.fallbackCopyTextToClipboard=this.fallbackCopyTextToClipboard.bind(this),this.copyTextToClipboard=this.copyTextToClipboard.bind(this)}var n,o,i;return n=e,(o=[{key:"initView",value:function(){this.App=t()("#app"),this.App.html(""),x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){var r=x.loadTemplateWithFallback(t,e,Z);n.App.append(r),n.setHeaderBackButton(),n.selectElements(),n.setServiceElements(),n.setEvents(),n.setAgreement(e),n.locale=e}),"html")}),"html")}},{key:"selectElements",value:function(){var e=this;e.createAuthcodeContainer=t()("#create-authcode-container"),e.successAuthcodeContainer=t()("#success-authcode-container"),e.errorAuthcodeContainer=t()("#error-authcode-container"),e.createAuthcodeButton=t()("#create-authcode"),e.loginAuthcodeButton=t()("#login-with-authcode"),e.authcode=t()("#authcode"),e.autcodeError=t()("#autcode-errormsg"),e.authcodeCopied=t()("#authcode-copied-clipboard"),e.headerVersion=t()("#header-version"),e.headerLogo=t()("#header-logo")}},{key:"setEvents",value:function(){var e=this;e.createAuthcodeButton.click(e.onCreateAuthcodeClicked.bind(e)),e.loginAuthcodeButton.click(e.onLoginWithAuthcodeClicked.bind(e)),e.authcode.click(e.onAuthcodeClicked.bind(this)),t()(".create-authcode-view__launch").click(e.openPolicyPage)}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"setServiceElements",value:function(){this.headerLogo.attr("src",y.IMAGES.HEADERLOGO),this.headerVersion.text("v. "+y.VERSION)}},{key:"setAgreement",value:function(e){t()("#pp-label").text(e.PrivacyPolicy),t()("#terms-label").text(e.TermsAndConditions),t()("#eula-label").text(e.LicenseAgreement)}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"CreateAuthcodeView",t())}},{key:"showSuccess",value:function(e){var t=this;t.createAuthcodeContainer.css("display","none"),t.errorAuthcodeContainer.css("display","none"),t.successAuthcodeContainer.css("display","block"),t.authcode.text(e)}},{key:"showError",value:function(e){var t=this;t.createAuthcodeContainer.css("display","none"),t.errorAuthcodeContainer.css("display","block"),t.successAuthcodeContainer.css("display","none"),e&&t.autcodeError.append("<p>"+e+"</p>")}},{key:"showAgreementError",value:function(e){t()("#inline-error").html(""),e.forEach((function(e){t()("#inline-error").append("<p>"+e+"</p>")})),t()("#inline-error").css("display","block")}},{key:"clearAgreementError",value:function(){t()("#inline-error").html("")}},{key:"setLoading",value:function(){t()("#create-authcode").css("display","none"),t()("#loading-container").html(y.LOADINGIMG),t()("#loading-container").css("display","block")}},{key:"unsetLoading",value:function(){t()("#create-authcode").css("display","block"),t()("#loading-container").html(""),t()("#loading-container").css("display","none")}},{key:"openPolicyPage",value:function(){var e=this;chrome.storage.local.get(y.STORAGEKEYS.BASELINK,(function(n){if(n[y.STORAGEKEYS.BASELINK]&&t()(e).attr("data")){var r=n[y.STORAGEKEYS.BASELINK]+t()(e).attr("data");chrome.tabs.create({url:r})}}))}},{key:"onCreateAuthcodeClicked",value:function(){var e=this;e.clearAgreementError();var n=[];if(t()("#pp-checkbox").prop("checked")||n.push(e.locale.RegisterErrorPP),t()("#terms-checkbox").prop("checked")||n.push(e.locale.RegisterErrorTOS),t()("#eula-checkbox").prop("checked")||n.push("You have to agree with our License Agreement"),n.length>0)return e.showAgreementError(n);e.setLoading(),l.request("api","createAuthcode",{}).then((function(t){return e.unsetLoading(),x.isResponse200(t)&&t.hasOwnProperty("authcode")?e.showSuccess(t.authcode):x.isResponseMinus20(t)?e.showError(t.message):x.isResponseMinusOne(t)?x.showMinusOneError(e.showError.bind(e)):void(x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message))}))}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#create-authcode-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"onLoginWithAuthcodeClicked",value:function(){location.reload()}},{key:"onHeaderBackButtonClicked",value:function(){Ir.initView()}},{key:"onAuthcodeClicked",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.USERDATA],(function(t){var n=t[y.STORAGEKEYS.USERDATA];n&&n.authcode&&(e.copyTextToClipboard(n.authcode),e.authcode.css("display","none"),e.authcodeCopied.css("display","block"),setTimeout((function(){e.authcodeCopied.css("display","none"),e.authcode.css("display","block")}),5e3))}))}},{key:"copyTextToClipboard",value:function(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){}),(function(e){})):this.fallbackCopyTextToClipboard(e)}},{key:"fallbackCopyTextToClipboard",value:function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}}])&&br(n.prototype,o),i&&br(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Er(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Er(i)?i:String(i)),r)}var o,i}const Sr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/register3-success.html"}var n,o,i;return n=e,(o=[{key:"show",value:function(){var e=this,n=this;x.getLocaleInStorage().then((function(r){e.App=t()("#app"),e.App.html(""),t().get(n.template,(function(e){var t=x.loadTemplateWithFallback(e,r,Z);n.App.append(t),n.selectElements()}),"html")}))}},{key:"selectElements",value:function(){var e=this;e.closeButton=t()("#success-close"),e.backToLoginButton=t()("#back-to-login-button"),e.setEvents()}},{key:"setEvents",value:function(){var e=this;e.closeButton.click(e.onBackToLoginClicked),e.backToLoginButton.click(e.onBackToLoginClicked)}},{key:"onBackToLoginClicked",value:function(){Ir.initView()}}])&&wr(n.prototype,o),i&&wr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function Ar(e){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kr(r.key),r)}}function kr(e){var t=function(e,t){if("object"!==Ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ar(t)?t:String(t)}n(802);const Or=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/register3.html",this.header=r+"/header.html",this.emailInputChanged=this.emailInputChanged.bind(this),this.emailFieldChanged=this.emailFieldChanged.bind(this),this.passwordInputChanged=this.passwordInputChanged.bind(this),this.passwordFieldChanged=this.passwordFieldChanged.bind(this),this.passwordConfirmInputChanged=this.passwordConfirmInputChanged.bind(this),this.passwordConfirmFieldChanged=this.passwordConfirmFieldChanged.bind(this)}var n,o,i;return n=e,(o=[{key:"initView",value:function(){x.getLocaleInStorage().then(this.loadTemplate.bind(this),this.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;this.App=t()("#app"),this.App.html(""),t().get(n.header,(function(r){n.App.append(r),t().get(n.template,(function(t){var r=x.loadTemplate(t,e);n.App.append(r),n.selectElements(e),n.setErrorMessages(e),n.setAgreement(e),n.setPolicyEvents(e),n.setHeaderBackButton()}),"html")}),"html")}},{key:"selectElements",value:function(e){var n=this;n.isEmailFieldValid=!0,n.isPassFieldValid=!0,n.isConfirmPassFieldValid=!0,n.headerLogo=t()("#header-logo"),n.headerVersion=t()("#header-version"),n.registerSuccessView=t()("#register-success"),n.registerFormView=t()("#register-form"),n.registerSuccessMessage=t()("#register-success-message"),n.registerBackButton=t()("#register-back-button"),n.emailField=t()("#register3-email"),n.passwordField=t()("#register3-password"),n.passwordConfirmField=t()("#register3-password-confirm"),n.showPassword=t()("#show-password"),n.showPasswordImg=t()("#show-password-img"),n.agreementTxt=t()("#register3-agreemnet-txt"),n.registerButton=t()("#register-button"),n.errorMessage=t()("#error_message"),n.setServiceElements(e),n.setEvents()}},{key:"setAgreement",value:function(e){var t=this.getLegalText(e);this.agreementTxt.html(t)}},{key:"getLegalText",value:function(e){if(e.RegisterLegalAgreement&&e.TermsAndConditions&&e.PrivacyPolicy&&e.LicenseAgreement&&e.RegisterButton){var t=e.RegisterLegalAgreement;return t=(t=(t=(t=t.replace("{0}",'"'+e.RegisterButton+'"')).replace("{1}",'<a id="tos-link" href="#" data="/api2/pub/documents/terms">'+e.TermsAndConditions+"</a>")).replace("{2}",'<a id="pp-link" href="#" data="/api2/pub/documents/ppolicy">'+e.PrivacyPolicy+"</a>")).replace("{3}",'<a id="eula-link" href="#" data="/api2/pub/documents/enduserla">'+e.LicenseAgreement+"</a>")}return'By clicking "Register", you confirm that you accept our Terms of Conditions and you have read our Privacy Policy and EULA.'}},{key:"setPolicyEvents",value:function(){t()("#tos-link").click(this.openPolicyPage),t()("#pp-link").click(this.openPolicyPage),t()("#eula-link").click(this.openPolicyPage)}},{key:"openPolicyPage",value:function(){var e=this;chrome.storage.local.get(y.STORAGEKEYS.BASELINK,(function(n){if(n[y.STORAGEKEYS.BASELINK]&&t()(e).attr("data")){var r=n[y.STORAGEKEYS.BASELINK]+t()(e).attr("data");chrome.tabs.create({url:r})}}))}},{key:"setServiceElements",value:function(e){var t=this;chrome.storage.local.get([y.STORAGEKEYS.BASELINK,y.STORAGEKEYS.INSTALLID],(function(e){t.headerLogo.attr("src",y.IMAGES.HEADERLOGO)})),t.headerVersion.text("v. "+y.VERSION),chrome.runtime.getPlatformInfo((function(n){n&&n.os&&"linux"===n.os&&"firefox"===y.PLATFORM.toLowerCase()&&(t.passwordField.attr("type","text"),t.passwordField.focus((function(){"off"==t.showPassword.attr("data")&&(t.passwordField.css("font-family","dotfont"),t.passwordField.css("font-size","8px")),""===t.passwordField.val()&&t.passwordField.attr("placeholder","")})),t.passwordField.focusout((function(){var n=t.showPassword.attr("data");""===t.passwordField.val()&&("off"==n&&(t.passwordField.css("font-family",""),t.passwordField.css("font-size","")),t.passwordField.attr("placeholder",e.RegisterPassword))})),t.passwordConfirmField.attr("type","text"),t.passwordConfirmField.focus((function(){"off"==t.showPassword.attr("data")&&(t.passwordConfirmField.css("font-family","dotfont"),t.passwordConfirmField.css("font-size","8px")),""===t.passwordConfirmField.val()&&t.passwordConfirmField.attr("placeholder","")})),t.passwordConfirmField.focusout((function(){var n=t.showPassword.attr("data");""===t.passwordConfirmField.val()&&("off"==n&&(t.passwordConfirmField.css("font-family",""),t.passwordConfirmField.css("font-size","")),t.passwordConfirmField.attr("placeholder",e.RegisterPasswordConfirm))})))}))}},{key:"setHeaderBackButton",value:function(){var e=this;e.headerBackButton=t()("#header-back-button"),e.headerBackButton.css("display","block"),e.headerBackButton.click(e.onHeaderBackButtonClicked.bind(this))}},{key:"setErrorMessages",value:function(e){var t=this;t.RegisterErrorEmail=e.RegisterErrorEmail,t.enterValidEmailConfirmError=e.enterValidEmailConfirmError,t.RegisterErrorPasswordNotMatch=e.RegisterErrorPasswordNotMatch,t.RegisterPasswordToShort=e.RegisterPasswordToShort?e.RegisterPasswordToShort:"Please type at least 6 characters as password for your own security. Typed password is too short",t.RegisterPasswordWhiteSpaceError=e.RegisterPasswordWhiteSpaceError?e.RegisterPasswordWhiteSpaceError:"Please do not use whitespace/space/empty at the beginning or end of your password"}},{key:"setEvents",value:function(){var e=this;e.registerButton.click(e.onRegisterButtonClicked.bind(this)),e.registerBackButton.click(e.onBackToLoginClicked.bind(this)),e.emailField.focus(e.onInputFocus.bind(this)),e.emailField.focusout(e.onInputFocusOut.bind(this)),e.emailField.change((function(t){e.emailInputChanged(t.target.value)})),e.emailField.on("input",(function(t){e.emailFieldChanged(t.target.value)})),e.passwordField.focus(e.onInputFocus.bind(this)),e.passwordField.focusout(e.onInputFocusOut.bind(this)),e.passwordField.change((function(t){e.passwordInputChanged(t.target.value)})),e.passwordField.on("input",(function(t){e.passwordFieldChanged(t.target.value)})),e.passwordConfirmField.focus(e.onInputFocus.bind(this)),e.passwordConfirmField.focusout(e.onInputFocusOut.bind(this)),e.passwordConfirmField.change((function(t){e.passwordConfirmInputChanged(t.target.value)})),e.passwordConfirmField.on("input",(function(t){e.passwordConfirmFieldChanged(t.target.value)})),e.showPassword.click(e.onShowPasswordClicked.bind(this)),t()("input").keyup((function(t){13==t.keyCode&&e.registerButton.click()})),t()("#disposible-email").on("click",(function(){x.openNewTab("https://mail1.io/?sv&v=r")}))}},{key:"onShowPasswordClicked",value:function(e){var t=this,n=t.showPassword.attr("data");chrome.runtime.getPlatformInfo((function(e){e&&e.os&&"linux"===e.os&&"firefox"===y.PLATFORM.toLowerCase()?(t.passwordField.attr("type","text"),t.passwordConfirmField.attr("type","text"),"off"==n?(t.showPasswordImg.attr("src","./images/red-eye.png"),t.showPassword.attr("data","on"),t.passwordField.css("font-family",""),t.passwordField.css("font-size",""),t.passwordConfirmField.css("font-family",""),t.passwordConfirmField.css("font-size","")):(t.showPassword.attr("data","off"),t.showPasswordImg.attr("src","./images/red-eye-off.png"),""!=t.passwordField.val()&&(t.passwordField.css("font-family","dotfont"),t.passwordField.css("font-size","8px")),""!=t.passwordConfirmField.val()&&(t.passwordConfirmField.css("font-family","dotfont"),t.passwordConfirmField.css("font-size","8px")))):"off"==n?(t.showPasswordImg.attr("src","./images/red-eye.png"),t.showPassword.attr("data","on"),t.passwordField.attr("type","text"),t.passwordConfirmField.attr("type","text")):(t.showPassword.attr("data","off"),t.showPasswordImg.attr("src","./images/red-eye-off.png"),t.passwordField.attr("type","password"),t.passwordConfirmField.attr("type","password"))}))}},{key:"onInputFocus",value:function(e){t()(e.target).css("border-color","#0074b3")}},{key:"onInputFocusOut",value:function(e){t()(e.target).css("border-color","rgba(0,0,0,0.12)")}},{key:"passwordConfirmInputChanged",value:function(e){var n=this;n.isConfirmPassFieldValid=n.isValidConfirmPassword(e,t()("#register3-password").val()),n.isConfirmPassFieldValid?n.clearConfirmPasswordError():n.showConfirmPasswordError()}},{key:"passwordConfirmFieldChanged",value:function(e){var n=this,r=n.isValidConfirmPassword(e,t()("#register3-password").val());n.isConfirmPassFieldValid||(n.isConfirmPassFieldValid=r),n.isConfirmPassFieldValid?n.clearConfirmPasswordError():n.showConfirmPasswordError()}},{key:"clearConfirmPasswordError",value:function(){t()("#confirm-password-error").css("display","none")}},{key:"showConfirmPasswordError",value:function(){t()("#confirm-password-error").css("display","block")}},{key:"passwordInputChanged",value:function(e){var n=this;n.isPassFieldValid=n.isValidPassword(e),n.isPassFieldValid?n.clearPasswordError():n.showPasswordError(),n.isConfirmPassFieldValid||n.passwordConfirmInputChanged(t()("#register3-password-confirm").val())}},{key:"passwordFieldChanged",value:function(e){var n=this,r=n.isValidPassword(e);n.isPassFieldValid||(n.isPassFieldValid=r),n.isPassFieldValid?n.clearPasswordError():n.showPasswordError(),n.isConfirmPassFieldValid||n.passwordConfirmFieldChanged(t()("#register3-password-confirm").val())}},{key:"clearPasswordError",value:function(){t()("#password-error").css("display","none")}},{key:"showPasswordError",value:function(){t()("#password-error").css("display","block")}},{key:"emailInputChanged",value:function(e){var t=this,n=t.isValidEmail(e);t.isEmailFieldValid=n,t.isEmailFieldValid?t.clearEmailError():t.showEmailError()}},{key:"emailFieldChanged",value:function(e){var t=this,n=t.isValidEmail(e);t.isEmailFieldValid||(t.isEmailFieldValid=n),t.isEmailFieldValid?t.clearEmailError():t.showEmailError()}},{key:"clearEmailError",value:function(){t()("#email-error").css("display","none")}},{key:"showEmailError",value:function(){t()("#email-error").css("display","block")}},{key:"isValidEmail",value:function(e){return e&&"string"==typeof e&&Bn()(e)}},{key:"isValidPassword",value:function(e){return e&&"string"==typeof e&&""!=e&&e.length>=7}},{key:"isValidConfirmPassword",value:function(e,t){return e&&"string"==typeof e&&""!=e&&e==t}},{key:"loadLocaleFromServer",value:function(){l.request("api","getLocale",{}).then((function(e){var t,n,r;null!=e&&""!=e&&200===e.Retcode&&chrome.storage.local.set((t={},n=y.STORAGEKEYS.LOCALE,r=e.locale,(n=kr(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),(function(){window.location.reload(!0)}))}))}},{key:"setLoading",value:function(){var e=this;e.errorMessage.html(y.LOADINGIMG),e.registerButton.unbind("click"),e.registerButton.addClass("btn--inactive")}},{key:"unsetLoading",value:function(){var e=this;e.registerButton.click(e.onRegisterButtonClicked.bind(this)),e.registerButton.removeClass("btn--inactive")}},{key:"displayErrors",value:function(e){this.errorMessage.html("");for(var t=0;t<e.length;t++)if(t<=2){var n="<p>"+I.escpateData(e[t])+"</p>";this.errorMessage.append(n)}}},{key:"onRegisterButtonClicked",value:function(){var e=this,t=e.emailField.val(),n=e.passwordField.val(),r=e.passwordConfirmField.val();if(!e.isValidEmail(t)||!e.isValidPassword(n)||!e.isValidConfirmPassword(r,n))return e.emailInputChanged(t),e.passwordInputChanged(n),void e.passwordConfirmInputChanged(r);e.setLoading(),l.request("api","registerAccount",{email:t,password:n}).then((function(t){return e.unsetLoading(),x.isResponse200(t)?e.showSuccess(t.message):x.isResponseMinus20(t)?e.showError(t.message):x.isResponseMinusOne(t)?x.showMinusOneError(e.showError.bind(e)):void(x.isMaintenanceMode(t)&&e.showMaintenanceMessage(t.message))}))}},{key:"showSuccess",value:function(e){var t=this;Sr.show(),t.registerSuccessMessage.text(e),t.registerSuccessView.addClass("register-view--success--on"),t.registerFormView.addClass("register-view--success")}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#register-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"showError",value:function(e){t()("#error_message").html(""),t()("#error_message").text(e),t()("#error_message").css("display","block")}},{key:"clearError",value:function(){t()("#error_message").html(""),t()("#error_message").css("display","none")}},{key:"onRegisterFailed",value:function(e){this.displayErrors(e)}},{key:"onBackToLoginClicked",value:function(){Ir.initView()}},{key:"onHeaderBackButtonClicked",value:function(){Ir.initView()}}])&&Tr(n.prototype,o),i&&Tr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}function Cr(e,t,n){return(t=Rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rr(r.key),r)}}function Rr(e){var t=function(e,t){if("object"!==xr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xr(t)?t:String(t)}n(802);var _r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=r+"/login-authcode.html"}var n,o,i;return n=e,o=[{key:"initView",value:function(e){var n=this;n.loadingError=e,this.App=t()("#app"),x.getLocaleInStorage().then(n.loadTemplate.bind(this),n.loadLocaleFromServer.bind(this))}},{key:"loadTemplate",value:function(e){var n=this;this.App.html(""),t().get(n.template,(function(t){var r=x.loadTemplateWithFallback(t,e,Z);n.App.append(r),n.selectElements(e),n.setErrorMessages(e),n.setUpdateAvailable()}),"html")}},{key:"selectElements",value:function(e){var n=this;n.authcodeInputs=t()(".login-authcode-view__authcode-container__input"),n.authcodeError=t()("#authcode-error"),n.emailSigninButton=t()("#emailsignin-button"),n.authcodeSigninButton=t()("#authcodesignin-button"),n.emailField=t()("#login-email"),n.passwordField=t()("#login-password"),n.loginButton=t()("#login-button"),n.registerButton=t()("#register-button"),n.forgotpassButton=t()("#forgotpass-button"),n.contactButton=t()("#contact-button"),n.headerLangButton=t()("#change-lanuage-button"),n.errorMessage=t()("#error_message"),n.loginServiceLogo=t()("#login-service-logo"),n.loginVersion=t()("#login-version"),n.downloadAndroidButton=t()("#dw-android"),n.downloadWindowsButton=t()("#dw-windows"),n.downloadMacButton=t()("#dw-macosx"),n.desktopClientInfoButton=t()("#desktop-client-info"),n.setLoginVersion(),n.setBrandName(),n.setServiceElements(e),n.setEvent()}},{key:"setBrandName",value:function(){t()("#service-name-bottom").text(y.SERVICE),t()("#service-name-top").text(y.SERVICE)}},{key:"setServiceElements",value:function(e){var t=this;t.loginServiceLogo.attr("src",y.IMAGES.LOGOLARGE),chrome.runtime.getPlatformInfo((function(n){n&&n.os&&"linux"===n.os&&"firefox"===y.PLATFORM.toLowerCase()&&(t.passwordField.attr("type","text"),t.passwordField.focus((function(){t.passwordField.css("font-family","dotfont"),t.passwordField.css("font-size","8px"),""===t.passwordField.val()&&t.passwordField.attr("placeholder","")})),t.passwordField.focusout((function(){""===t.passwordField.val()&&(t.passwordField.css("font-family",""),t.passwordField.css("font-size",""),t.passwordField.attr("placeholder",e.LoginPasswordLabel))})))}))}},{key:"setEvent",value:function(){var e=this;e.authcodeInputs.focus((function(){e.onFocusEvent(parseInt(t()(this).attr("data")),e)})),e.authcodeInputs.keyup((function(n){e.onKeyUpEvent(parseInt(t()(this).attr("data")),n,e)})),e.emailSigninButton.click((function(){t()("#authcode-login-view").css("display","none"),t()("#email-login-view").css("display","block")})),e.authcodeSigninButton.click((function(){e.clearAuthcodeErrorMsg(),e.unsetErrorState(),t()("#email-login-view").css("display","none"),t()("#authcode-login-view").css("display","block")})),e.loginButton.click(e.onLoginButtonClicked.bind(this)),e.registerButton.click(e.onRegisterButtonClicked.bind(this)),e.forgotpassButton.click(e.onForgotpassButtonClicked.bind(this)),e.contactButton.click(e.onContactButtonClicked.bind(this)),e.headerLangButton.click(e.onHeaderLangButtonClicked.bind(this)),e.downloadAndroidButton.click(e.onDownloadEventFunc("android")),e.downloadMacButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.downloadWindowsButton.click(e.onDesktopInfoButtonClicked.bind(this)),e.desktopClientInfoButton.click(e.onDesktopInfoButtonClicked.bind(this)),t()("input").keyup((function(t){13==t.keyCode&&e.loginButton.click()}))}},{key:"onDesktopInfoButtonClicked",value:function(){Be.show()}},{key:"onDownloadEventFunc",value:function(e){return function(){x.openPlatformLink(e)}}},{key:"setLoginVersion",value:function(){this.loginVersion.text(y.VERSION),t()("#version-bottom").text(y.VERSION)}},{key:"setErrorMessages",value:function(e){var t=this;t.LOGINTRY=e.LoginTry,t.EMAILFAILED=e.LoginEmailFailed,t.EMAILPASSFAILED=e.LoginEmailAndPassFailed,t.PASSFAILED=e.LoginPassFailed,t.loadingError&&t.showAuthcodeErrorMsg(t.loadingError)}},{key:"loadLocaleFromServer",value:function(){var e=this;x.loadLocaleFromServer(e.App,e.App,e.showMaintenanceMessage,l,"LoginView",t())}},{key:"setUpdateAvailable",value:function(){chrome.storage.local.get([y.STORAGEKEYS.VERSIONSTATUS],(function(e){var n=e[y.STORAGEKEYS.VERSIONSTATUS];if(n&&n.hasOwnProperty("action")&&"update"===n.action&&n.hasOwnProperty("curversion")){var r=x.getUpdateHtml(y.VERSION,n.curversion);t()("#header-with-lang").prepend(t()(r)),t()("#update-app").click((function(){Pn.show()}))}}))}},{key:"makeButtonInactive",value:function(e){e.unbind("click"),e.addClass("btn--inactive")}},{key:"makeButtonActive",value:function(e){e.click(this.onLoginButtonClicked.bind(this)),e.removeClass("btn--inactive")}},{key:"setLoading",value:function(){var e=this;e.errorMessage.html(y.LOADINGIMG),e.makeButtonInactive(e.loginButton)}},{key:"unsetLoading",value:function(){this.makeButtonActive(this.loginButton)}},{key:"onLoginButtonClicked",value:function(){var e=this,n=t().trim(e.emailField.val()),r=t().trim(e.passwordField.val());if(""==n&&""==r)return e.errorMessage.text(e.EMAILPASSFAILED);if(!e.isValidEmail(n))return e.errorMessage.text(e.EMAILFAILED);if(""==r)return e.errorMessage.text(e.PASSFAILED);var o=e.isDebugMode(n);if(o){if("main"==o.action||"tier"==o.action)return void chrome.storage.local.set(Cr({},y.STORAGEKEYS.DEBUGVAL,o),(function(){chrome.storage.local.remove(y.STORAGEKEYS.BASELINK)}));if("set"===o.action)return void chrome.storage.local.set(Cr({},y.STORAGEKEYS.BASELINK,o.val),(function(){var t=n.substr(0,n.indexOf("&debug="));e.apiRequest(t,r)}));if("error"===o.action)return e.errorMessage.text(o.val)}else e.apiRequest(n,r)}},{key:"apiRequest",value:function(e,t){var n=this,r={email:e,password:t};n.setLoading(),l.request("api","login",{hitReason:"login",userData:r,loginType:"email"}).then((function(e){if(x.isResponse200(e))hr.initView();else{if(!x.isResponseAuthError(e))return x.isResponseMinus20(e)?(n.showError(e.message),void n.unsetLoading()):x.isResponseMinusOne(e)?(n.unsetLoading(),void x.showMinusOneError(n.showError.bind(n))):x.isMaintenanceMode(e)?(n.unsetLoading(),void n.showMaintenanceMessage(e.message)):void 0;chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){setTimeout((function(){n.errorMessage.text(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z)),n.unsetLoading()}),1e3)}))}}))}},{key:"apiRequestAuthcode",value:function(){var e=this;e.clearAuthcodeErrorMsg();var n="";t()(".login-authcode-view__authcode-container__input").each((function(){n+=t()(this).val(),3!=t()(this).attr("data")&&8!=t()(this).attr("data")||(n+="-")}));var r={authcode:n};e.setAuthcodeLoading(),l.request("api","login",{hitReason:"login",userData:r,loginType:"authcode"}).then((function(t){if(x.isResponse200(t))hr.initView();else{if(!x.isResponseAuthError(t))return x.isResponseMinus20(t)?(e.showAuthcodeErrorMsg(t.message),void e.unsetAuthcodeLoading()):x.isResponseMinusOne(t)?(e.unsetAuthcodeLoading(),x.showMinusOneError(e.showAuthcodeErrorMsg.bind(e))):x.isMaintenanceMode(t)?(e.unsetAuthcodeLoading(),void e.showMaintenanceMessage(t.message)):void 0;chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(t){setTimeout((function(){e.showAuthcodeErrorMsg(x.getFallbackLocale("AuthFailed",t[y.STORAGEKEYS.LOCALE],Z)),e.unsetAuthcodeLoading()}),1e3)}))}}))}},{key:"showError",value:function(e){this.errorMessage.text(e)}},{key:"showMaintenanceMessage",value:function(e){t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block"),t()("#login-authcode-view-mode").css("display","none"),t()("#header-container").css("display","none")}},{key:"setAuthcodeLoading",value:function(){t()("#emailsignin-option").css("display","none"),t()(".login-authcode-view__authcode-container__input").each((function(){t()(this).attr("disabled","disabled")})),t()("#authcode-loading").html(y.LOADINGIMG),t()("#authcode-loading").css("display","block")}},{key:"unsetAuthcodeLoading",value:function(){t()("#emailsignin-option").css("display","block"),t()(".login-authcode-view__authcode-container__input").each((function(){t()(this).removeAttr("disabled")})),t()("#authcode-loading").html(""),t()("#authcode-loading").css("display","none")}},{key:"clearAuthcodeErrorMsg",value:function(){this.authcodeError.text(""),this.authcodeError.css("display","none")}},{key:"showAuthcodeErrorMsg",value:function(e){var t=this;t.authcodeError.text(e),t.authcodeError.css("display","block"),t.setErrorState()}},{key:"setErrorState",value:function(){t()(".login-authcode-view__authcode-container__input").each((function(){t()(this).css("border-color","red"),t()(this).val(""),10===t()(this).attr("data")&&t()("#codeBox1").focus()}))}},{key:"unsetErrorState",value:function(){t()(".login-authcode-view__authcode-container__input").each((function(){t()(this).css("border-color","#989696")}))}},{key:"isDebugMode",value:function(e){try{if(e.indexOf("&debug=")>-1&&1===(e.match(/&debug=/g)||[]).length){var t=e.substr(e.indexOf("&debug=")).replace("&debug=","");return"main"===t?{action:"main"}:"tier"===t?{action:"tier"}:t.indexOf(".")>-1&&(t.indexOf("http://")>-1||t.indexOf("https://")>-1)?{action:"set",val:t}:{action:"error",val:"Debug val invalid"}}return!1}catch(e){return!1}}},{key:"getOS",value:function(){return new Promise((function(e){chrome.runtime.getPlatformInfo((function(t){var n="";t&&t.os&&"string"==typeof t.os&&(n=t.os.toLowerCase()),e(n)}))}))}},{key:"onRegisterButtonClicked",value:function(){Or.initView()}},{key:"onForgotpassButtonClicked",value:function(){mr.initView()}},{key:"onContactButtonClicked",value:function(){Kn.initView()}},{key:"onHeaderLangButtonClicked",value:function(){B.initView()}},{key:"getCodeBoxElement",value:function(e){return document.getElementById("codeBox"+e)}},{key:"onKeyUpEvent",value:function(e,t,n){var r=t.which||t.keyCode;if(1===e&&n.getCodeBoxElement(e).value.length>1){var o=n.getCodeBoxElement(e).value.trim(),i=1;o.split("").forEach((function(e,t){i<=10&&"-"!=e&&(n.getCodeBoxElement(i).value=e,n.getCodeBoxElement(i).focus(),i+=1)})),""!==n.getCodeBoxElement(10).value&&n.apiRequestAuthcode()}else 1===n.getCodeBoxElement(e).value.length&&(10!==e?n.getCodeBoxElement(e+1).focus():(n.getCodeBoxElement(e).blur(),n.apiRequestAuthcode())),8===r&&1!==e&&n.getCodeBoxElement(e-1).focus()}},{key:"onFocusEvent",value:function(e,t){t.unsetErrorState();for(var n=1;n<e;n++){var r=t.getCodeBoxElement(n);if(!r.value){r.focus();break}}}},{key:"isValidEmail",value:function(e){return e&&"string"==typeof e&&Bn()(e)}}],o&&Lr(n.prototype,o),i&&Lr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();const Ir=new _r;function Pr(e){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(e)}function Nr(e){return function(e){if(Array.isArray(e))return Br(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Br(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dr(r.key),r)}}function Dr(e){var t=function(e,t){if("object"!==Pr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pr(t)?t:String(t)}const Gr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setUninstallLink(),this.setInstallId(),this.permissionChangeSubscribers=[],this.permissionController=!1,chrome.runtime.onStartup.addListener(this.onStartup.bind(this)),chrome.runtime.onInstalled.addListener(this.onInstalled.bind(this)),"firefox"!==y.PLATFORM.toLowerCase()&&(chrome.permissions.onAdded.addListener(this.onPermissionAdded.bind(this)),chrome.permissions.onRemoved.addListener(this.onPermissionRemoved.bind(this)))}var t,n,r;return t=e,(n=[{key:"subscribePermissionChange",value:function(e){this.permissionChangeSubscribers.push(e)}},{key:"registerController",value:function(e){this.permissionController=e}},{key:"isPermissionValid",value:function(){return new Promise((function(e,t){chrome.permissions.getAll((function(t){if(t&&t.origins&&t.origins.indexOf("<all_urls>")>-1)return e(!0);e(!1)}))}))}},{key:"isVersionStop",value:function(){return new Promise((function(e,t){chrome.storage.local.get([y.STORAGEKEYS.VERSIONSTATUS],(function(t){var n=t[y.STORAGEKEYS.VERSIONSTATUS];return n&&n.hasOwnProperty("action")&&"stop"==n.action&&n.hasOwnProperty("sources")&&Array.isArray(n.sources)&&n.sources.length>0&&n.hasOwnProperty("curversion")&&n.hasOwnProperty("minversion")?e(!0):e(!1)}))}))}},{key:"onPermissionAdded",value:function(e){var t=this;e&&e.origins&&e.origins.indexOf("<all_urls>")>-1&&(t.permissionChangeSubscribers.forEach((function(e){e(!0)})),t.permissionController&&t.permissionController(!0))}},{key:"onPermissionRemoved",value:function(e){var t=this;e&&e.origins&&e.origins.indexOf("<all_urls>")>-1&&(t.permissionChangeSubscribers.forEach((function(e){e(!1)})),t.permissionController&&t.permissionController(!1))}},{key:"setUninstallLink",value:function(){try{chrome.runtime.setUninstallURL&&chrome.storage.local.get([y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.BASELINK,y.STORAGEKEYS.INSTALLID,y.STORAGEKEYS.INSTALLIDTIME],(function(e){null!=e[y.STORAGEKEYS.BASELINK]&&chrome.runtime.getPlatformInfo((function(t){var n=e[y.STORAGEKEYS.CONFIGDATA],r=n&&n.uid?n.uid:"-",o=t&&t.os?t.os:"-",i=e[y.STORAGEKEYS.INSTALLID]?e[y.STORAGEKEYS.INSTALLID]:"-",a=e[y.STORAGEKEYS.INSTALLIDTIME]?e[y.STORAGEKEYS.INSTALLIDTIME]:"-",s="?cv="+y.VERSION+"&platform="+y.PLATFORM+"&os="+o+"&iid="+i+"&iidt="+a+"&uid="+r,c=e[y.STORAGEKEYS.BASELINK]+y.UNINSTALLPATH+s;chrome.runtime.setUninstallURL(c)}))}))}catch(e){}}},{key:"setInstallId",value:function(){x.setInstallId()}},{key:"updateVersionHistory",value:function(e){var t=y.VERSION;if(x.isObject(e)&&e.hasOwnProperty("previousVersion")&&t!==e.previousVersion){var n={t:Math.round(new Date/1),o:e.previousVersion,n:t};chrome.storage.local.get([y.STORAGEKEYS.VERSIONUPDATE],(function(e){var t,r,o,i=e[y.STORAGEKEYS.VERSIONUPDATE];Array.isArray(i)||(i=[]),i.length>9&&i.pop(),i=[n].concat(Nr(i)),chrome.storage.local.set((t={},r=y.STORAGEKEYS.VERSIONUPDATE,o=i,(r=Dr(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t))}))}}},{key:"onStartup",value:function(){chrome.storage.local.remove([y.STORAGEKEYS.ECACHE,y.STORAGEKEYS.DCACHE,y.STORAGEKEYS.ERRCACHE,y.STORAGEKEYS.HASHCACHE])}},{key:"onInstalled",value:function(e){e&&e.reason&&("install"==e.reason&&this.setInstallId(),"update"==e.reason&&(chrome.storage.local.remove([y.STORAGEKEYS.DCACHE,y.STORAGEKEYS.ECACHE,y.STORAGEKEYS.ERRCACHE,y.STORAGEKEYS.HASHCACHE,y.STORAGEKEYS.VERSIONSTATUS,y.STORAGEKEYS.VERSIONSTATUSNEXTUPDATE,y.STORAGEKEYS.CONFIGDATA]),this.updateVersionHistory(e)))}}])&&Fr(t.prototype,n),r&&Fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==jr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===jr(i)?i:String(i)),r)}var o,i}const Yr=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.header=r+"/header.html",this.maintenance=r+"/maintenance-mode.html",this.showMaintenanceMessage=this.showMaintenanceMessage.bind(this),this.showError=this.showError.bind(this)}var n,o,i;return n=e,(o=[{key:"init",value:function(){var e=this;this.App=t()("#app"),this.App.html(""),Gr.isPermissionValid().then((function(t){!1===t?Ge.show():Gr.isVersionStop().then((function(t){t?Pn.show(!0):e.run()})).catch((function(){e.run()}))}))}},{key:"run",value:function(){var e=this;chrome.storage.local.get([y.STORAGEKEYS.LANGUAGE,y.STORAGEKEYS.BASELINK,y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.CONFIGDATATTL,y.STORAGEKEYS.PROXYSEARCHLOCK,y.STORAGEKEYS.CONFIGHARDTTL],(function(t){return chrome.storage.onChanged.addListener(e.onSettingsChanged.bind(e)),t[y.STORAGEKEYS.BASELINK]?t[y.STORAGEKEYS.LANGUAGE]?t[y.STORAGEKEYS.USERDATA]?e.userIsLoggedIn(t):void Ir.initView():B.initView():j.initView()}))}},{key:"onSettingsChanged",value:function(e,t){var n=Object.keys(e);if(n.indexOf(y.STORAGEKEYS.BASELINK)>-1&&void 0===e[y.STORAGEKEYS.BASELINK].newValue&&j.initView(),n.indexOf(y.STORAGEKEYS.CONFIGDATA)>-1&&n.indexOf(y.STORAGEKEYS.USERDATA)>-1){var r=void 0===e[y.STORAGEKEYS.USERDATA].newValue,o=void 0===e[y.STORAGEKEYS.CONFIGDATA].newValue;r&&o&&l.request("ProxySetting","clearSettings",{}).then((function(){chrome.storage.local.get([y.STORAGEKEYS.LASTLOGOUTREASON],(function(e){chrome.storage.local.remove(y.STORAGEKEYS.LASTLOGOUTREASON,(function(){var t=e[y.STORAGEKEYS.LASTLOGOUTREASON];Ir.initView(t)}))}))}))}if(n.indexOf(y.STORAGEKEYS.CONFIGDATA)>-1){var i=e[y.STORAGEKEYS.CONFIGDATA].oldValue,a=e[y.STORAGEKEYS.CONFIGDATA].newValue;a&&x.isObject(a)&&a.hasOwnProperty("user_status")&&a.user_status==y.STATUS.BLOCKED&&i&&x.isObject(i)&&i.hasOwnProperty("user_status")&&i.user_status==y.STATUS.OK&&l.request("ProxySetting","clearSettings",{}).then((function(){hr.initView()}))}}},{key:"userIsLoggedIn",value:function(e){var t=this;t.clearOldConfig(e).then((function(n){return!e[y.STORAGEKEYS.CONFIGDATA]||n||e[y.STORAGEKEYS.CONFIGDATA].user_status==y.STATUS.BLOCKED||e[y.STORAGEKEYS.CONFIGHARDTTL]<x.getDateNow()?t.getFreshConfig(e):e[y.STORAGEKEYS.PROXYSEARCHLOCK]?J.initView():void(e[y.STORAGEKEYS.CONFIGDATATTL]<x.getDateNow()?l.request("ConfigUpdater","setRefreshList").then((function(){hr.initView()})):hr.initView())}))}},{key:"getFreshConfig",value:function(e){var n=this,r={hitReason:"refreshList",userData:e[y.STORAGEKEYS.USERDATA]};t().get(n.header,(function(e){n.App.append(e),n.setHeaderElements(),n.App.append('<div class="loadingimg"><img src="images/loading.gif"></div>'),l.request("api","login",r).then((function(e){if(x.isResponse200(e))hr.initView();else{if(l.request("ProxySetting","clearSettings",{}),x.isResponseAuthError(e))return void chrome.storage.local.remove([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.CONFIGDATATTL,y.STORAGEKEYS.CONFIGHARDTTL],(function(){chrome.storage.local.get([y.STORAGEKEYS.LOCALE],(function(e){Ir.initView(x.getFallbackLocale("AuthFailed",e[y.STORAGEKEYS.LOCALE],Z))}))}));if(x.isResponseMinus20(e))return void chrome.storage.local.remove([y.STORAGEKEYS.USERDATA,y.STORAGEKEYS.CONFIGDATA,y.STORAGEKEYS.CONFIGDATATTL,y.STORAGEKEYS.CONFIGHARDTTL],(function(){Ir.initView(e.message)}));if(x.isResponseMinusOne(e))return x.showMinusOneError(n.showError.bind(n));x.isMaintenanceMode(e)&&n.showMaintenanceMessage(e.message)}}))}),"html")}},{key:"clearOldConfig",value:function(e){return new Promise((function(t,n){var r=e[y.STORAGEKEYS.CONFIGDATA];r&&x.isObject(r)&&r.hasOwnProperty("data")&&x.isObject(r.data)&&r.data.hasOwnProperty("SERVERS")?chrome.storage.local.remove(y.STORAGEKEYS.CONFIGDATA,(function(){t(!0)})):t(!1)}))}},{key:"showError",value:function(e){t()("#app").html(""),t()("#app").append('<p style="text-align:center">'+I.escpateData(e)+"</p>")}},{key:"showMaintenanceMessage",value:function(e){t().get(this.maintenance,(function(n){t()("#app").html(""),t()("#app").append(n),t()("#maintenance-msg").text(e),t()("#maintenance-mode-close-icon").click((function(){location.reload()})),t()("#maintenance-mode").css("display","block")}))}},{key:"setHeaderElements",value:function(){this.headerLogo=t()("#header-logo"),this.headerLogo.attr("src",y.IMAGES.HEADERLOGO)}}])&&Mr(n.prototype,o),i&&Mr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),e}());const Kr=function(){return new Promise((function(e,t){chrome.tabs.query({active:!0},(function(t){if(t&&Array.isArray(t)&&t.length>0){var n=t[0].id;chrome.tabs.getZoomSettings(n,(function(t){t&&t.defaultZoomFactor&&parseFloat(t.defaultZoomFactor)>1&&parseFloat(t.defaultZoomFactor)<7?e({isZoomed:!0,zoomFactor:parseFloat(t.defaultZoomFactor)}):e({isZoomed:!1,zoomFactor:!1})}))}else e({isZoomed:!1,zoomFactor:!1})}))}))},Ur=function(e){return e>1?e<=1.1?90:e<=1.25?85:e<=1.5?70:e<=1.75?60:e<=2?53:e<=2.5?43:e<=3?33:e<=4?25:e<=5?20:100:100},Vr=function(){return window&&window.screen&&800==window.screen.width&&600==window.screen.height?80:100};t()(document).ready((function(){Yr.init();var e=document.querySelector("html");Vr();"chrome"!=y.PLATFORM.toLowerCase()&&"edge"!=y.PLATFORM.toLowerCase()||Kr().then((function(n){if(n.isZoomed){var r=Ur(n.zoomFactor);t()(e).css("zoom",r+"%")}}))}))})()})();
"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7336a7b9-0cdc-524b-83f2-e7c2534e26e8")}catch(e){}}();

(() => {
var Sn=Object.create;var qe=Object.defineProperty;var Mn=Object.getOwnPropertyDescriptor;var Rn=Object.getOwnPropertyNames;var En=Object.getPrototypeOf,Pn=Object.prototype.hasOwnProperty;var D=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var _n=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rn(t))!Pn.call(e,o)&&o!==n&&qe(e,o,{get:()=>t[o],enumerable:!(r=Mn(t,o))||r.enumerable});return e};var Ln=(e,t,n)=>(n=e!=null?Sn(En(e)):{},_n(t||!e||!e.__esModule?qe(n,"default",{value:e,enumerable:!0}):n,e));var B=D(p=>{"use strict";var In=p&&p.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(p,"__esModule",{value:!0});p.dual=p.getEndomorphismMonoid=p.not=p.SK=p.hole=p.pipe=p.untupled=p.tupled=p.absurd=p.decrement=p.increment=p.tuple=p.flow=p.flip=p.constVoid=p.constUndefined=p.constNull=p.constFalse=p.constTrue=p.constant=p.unsafeCoerce=p.identity=p.apply=p.getRing=p.getSemiring=p.getMonoid=p.getSemigroup=p.getBooleanAlgebra=void 0;var On=function(e){return function(){return{meet:function(t,n){return function(r){return e.meet(t(r),n(r))}},join:function(t,n){return function(r){return e.join(t(r),n(r))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,n){return function(r){return e.implies(t(r),n(r))}},not:function(t){return function(n){return e.not(t(n))}}}}};p.getBooleanAlgebra=On;var An=function(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}};p.getSemigroup=An;var Un=function(e){var t=(0,p.getSemigroup)(e);return function(){return{concat:t().concat,empty:function(){return e.empty}}}};p.getMonoid=Un;var Cn=function(e){return{add:function(t,n){return function(r){return e.add(t(r),n(r))}},zero:function(){return e.zero},mul:function(t,n){return function(r){return e.mul(t(r),n(r))}},one:function(){return e.one}}};p.getSemiring=Cn;var Dn=function(e){var t=(0,p.getSemiring)(e);return{add:t.add,mul:t.mul,one:t.one,zero:t.zero,sub:function(n,r){return function(o){return e.sub(n(o),r(o))}}}};p.getRing=Dn;var xn=function(e){return function(t){return t(e)}};p.apply=xn;function de(e){return e}p.identity=de;p.unsafeCoerce=de;function Q(e){return function(){return e}}p.constant=Q;p.constTrue=Q(!0);p.constFalse=Q(!1);p.constNull=Q(null);p.constUndefined=Q(void 0);p.constVoid=p.constUndefined;function Nn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?e(t[1],t[0]):function(r){return e(r)(t[0])}}}p.flip=Nn;function Be(e,t,n,r,o,s,c,u,f){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return o(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return s(o(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return c(s(o(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(c(s(o(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return f(u(c(s(o(r(n(t(e.apply(this,arguments)))))))))}}}p.flow=Be;function jn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}p.tuple=jn;function qn(e){return e+1}p.increment=qn;function Bn(e){return e-1}p.decrement=Bn;function Fe(e){throw new Error("Called `absurd` function which should be uncallable")}p.absurd=Fe;function Fn(e){return function(t){return e.apply(void 0,t)}}p.tupled=Fn;function Wn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}}p.untupled=Wn;function Kn(e,t,n,r,o,s,c,u,f){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return o(r(n(t(e))));case 6:return s(o(r(n(t(e)))));case 7:return c(s(o(r(n(t(e))))));case 8:return u(c(s(o(r(n(t(e)))))));case 9:return f(u(c(s(o(r(n(t(e))))))));default:{for(var l=arguments[0],d=1;d<arguments.length;d++)l=arguments[d](l);return l}}}p.pipe=Kn;p.hole=Fe;var $n=function(e,t){return t};p.SK=$n;function Vn(e){return function(t){return!e(t)}}p.not=Vn;var Hn=function(){return{concat:function(e,t){return Be(e,t)},empty:de}};p.getEndomorphismMonoid=Hn;var Jn=function(e,t){var n=typeof e=="number"?function(r){return r.length>=e}:e;return function(){var r=Array.from(arguments);return n(arguments)?t.apply(this,r):function(o){return t.apply(void 0,In([o],r,!1))}}};p.dual=Jn});var G=D(g=>{"use strict";var zn=g&&g.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0});g.flatMapReader=g.flatMapTask=g.flatMapIO=g.flatMapEither=g.flatMapOption=g.flatMapNullable=g.liftOption=g.liftNullable=g.fromReadonlyNonEmptyArray=g.has=g.emptyRecord=g.emptyReadonlyArray=g.tail=g.head=g.isNonEmpty=g.singleton=g.right=g.left=g.isRight=g.isLeft=g.some=g.none=g.isSome=g.isNone=void 0;var H=B(),Xn=function(e){return e._tag==="None"};g.isNone=Xn;var kn=function(e){return e._tag==="Some"};g.isSome=kn;g.none={_tag:"None"};var Qn=function(e){return{_tag:"Some",value:e}};g.some=Qn;var Gn=function(e){return e._tag==="Left"};g.isLeft=Gn;var Yn=function(e){return e._tag==="Right"};g.isRight=Yn;var Zn=function(e){return{_tag:"Left",left:e}};g.left=Zn;var er=function(e){return{_tag:"Right",right:e}};g.right=er;var tr=function(e){return[e]};g.singleton=tr;var nr=function(e){return e.length>0};g.isNonEmpty=nr;var rr=function(e){return e[0]};g.head=rr;var ir=function(e){return e.slice(1)};g.tail=ir;g.emptyReadonlyArray=[];g.emptyRecord={};g.has=Object.prototype.hasOwnProperty;var or=function(e){return zn([e[0]],e.slice(1),!0)};g.fromReadonlyNonEmptyArray=or;var ar=function(e){return function(t,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=t.apply(void 0,r);return e.fromEither(s==null?(0,g.left)(n.apply(void 0,r)):(0,g.right)(s))}}};g.liftNullable=ar;var sr=function(e){return function(t,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=t.apply(void 0,r);return e.fromEither((0,g.isNone)(s)?(0,g.left)(n.apply(void 0,r)):(0,g.right)(s.value))}}};g.liftOption=sr;var ur=function(e,t){return(0,H.dual)(3,function(n,r,o){return t.flatMap(n,(0,g.liftNullable)(e)(r,o))})};g.flatMapNullable=ur;var cr=function(e,t){return(0,H.dual)(3,function(n,r,o){return t.flatMap(n,(0,g.liftOption)(e)(r,o))})};g.flatMapOption=cr;var fr=function(e,t){return(0,H.dual)(2,function(n,r){return t.flatMap(n,function(o){return e.fromEither(r(o))})})};g.flatMapEither=fr;var lr=function(e,t){return(0,H.dual)(2,function(n,r){return t.flatMap(n,function(o){return e.fromIO(r(o))})})};g.flatMapIO=lr;var pr=function(e,t){return(0,H.dual)(2,function(n,r){return t.flatMap(n,function(o){return e.fromTask(r(o))})})};g.flatMapTask=pr;var dr=function(e,t){return(0,H.dual)(2,function(n,r){return t.flatMap(n,function(o){return e.fromReader(r(o))})})};g.flatMapReader=dr});var ye=D(M=>{"use strict";var gr=M&&M.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),vr=M&&M.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yr=M&&M.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&gr(t,e,n);return vr(t,e),t};Object.defineProperty(M,"__esModule",{value:!0});M.sequenceS=M.sequenceT=M.getApplySemigroup=M.apS=M.apSecond=M.apFirst=M.ap=void 0;var hr=B(),mr=yr(G());function Tr(e,t){return function(n){return function(r){return e.ap(e.map(r,function(o){return function(s){return t.ap(o,s)}}),n)}}}M.ap=Tr;function br(e){return function(t){return function(n){return e.ap(e.map(n,function(r){return function(){return r}}),t)}}}M.apFirst=br;function wr(e){return function(t){return function(n){return e.ap(e.map(n,function(){return function(r){return r}}),t)}}}M.apSecond=wr;function Sr(e){return function(t,n){return function(r){return e.ap(e.map(r,function(o){return function(s){var c;return Object.assign({},o,(c={},c[t]=s,c))}}),n)}}}M.apS=Sr;function Mr(e){return function(t){return{concat:function(n,r){return e.ap(e.map(n,function(o){return function(s){return t.concat(o,s)}}),r)}}}}M.getApplySemigroup=Mr;function ve(e,t,n){return function(r){for(var o=Array(n.length+1),s=0;s<n.length;s++)o[s]=n[s];return o[n.length]=r,t===0?e.apply(null,o):ve(e,t-1,o)}}var ge={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(o){return[e,t,n,r,o]}}}}}};function Rr(e){return mr.has.call(ge,e)||(ge[e]=ve(hr.tuple,e-1,[])),ge[e]}function Er(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,o=Rr(r),s=e.map(t[0],o),c=1;c<r;c++)s=e.ap(s,t[c]);return s}}M.sequenceT=Er;function Pr(e){var t=e.length;switch(t){case 1:return function(n){var r;return r={},r[e[0]]=n,r};case 2:return function(n){return function(r){var o;return o={},o[e[0]]=n,o[e[1]]=r,o}};case 3:return function(n){return function(r){return function(o){var s;return s={},s[e[0]]=n,s[e[1]]=r,s[e[2]]=o,s}}};case 4:return function(n){return function(r){return function(o){return function(s){var c;return c={},c[e[0]]=n,c[e[1]]=r,c[e[2]]=o,c[e[3]]=s,c}}}};case 5:return function(n){return function(r){return function(o){return function(s){return function(c){var u;return u={},u[e[0]]=n,u[e[1]]=r,u[e[2]]=o,u[e[3]]=s,u[e[4]]=c,u}}}}};default:return ve(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o={},s=0;s<t;s++)o[e[s]]=n[s];return o},t-1,[])}}function _r(e){return function(t){for(var n=Object.keys(t),r=n.length,o=Pr(n),s=e.map(t[n[0]],o),c=1;c<r;c++)s=e.ap(s,t[n[c]]);return s}}M.sequenceS=_r});var ae=D(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.asUnit=_.as=_.getFunctorComposition=_.let=_.bindTo=_.flap=_.map=void 0;var Lr=B();function We(e,t){return function(n){return function(r){return e.map(r,function(o){return t.map(o,n)})}}}_.map=We;function Ir(e){return function(t){return function(n){return e.map(n,function(r){return r(t)})}}}_.flap=Ir;function Or(e){return function(t){return function(n){return e.map(n,function(r){var o;return o={},o[t]=r,o})}}}_.bindTo=Or;function Ar(e){return function(t,n){return function(r){return e.map(r,function(o){var s;return Object.assign({},o,(s={},s[t]=n(o),s))})}}}_.let=Ar;function Ur(e,t){var n=We(e,t);return{map:function(r,o){return(0,Lr.pipe)(r,n(o))}}}_.getFunctorComposition=Ur;function Ke(e){return function(t,n){return e.map(t,function(){return n})}}_.as=Ke;function Cr(e){var t=Ke(e);return function(n){return t(n,void 0)}}_.asUnit=Cr});var Ve=D(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.getApplicativeComposition=J.getApplicativeMonoid=void 0;var $e=ye(),Dr=B(),xr=ae();function Nr(e){var t=(0,$e.getApplySemigroup)(e);return function(n){return{concat:t(n).concat,empty:e.of(n.empty)}}}J.getApplicativeMonoid=Nr;function jr(e,t){var n=(0,xr.getFunctorComposition)(e,t).map,r=(0,$e.ap)(e,t);return{map:n,of:function(o){return e.of(t.of(o))},ap:function(o,s){return(0,Dr.pipe)(o,r(s))}}}J.getApplicativeComposition=jr});var he=D(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.bind=F.tap=F.chainFirst=void 0;function qr(e){var t=He(e);return function(n){return function(r){return t(r,n)}}}F.chainFirst=qr;function He(e){return function(t,n){return e.chain(t,function(r){return e.map(n(r),function(){return r})})}}F.tap=He;function Br(e){return function(t,n){return function(r){return e.chain(r,function(o){return e.map(n(o),function(s){var c;return Object.assign({},o,(c={},c[t]=s,c))})})}}}F.bind=Br});var Je=D(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.tailRec=void 0;var Fr=function(e,t){for(var n=t(e);n._tag==="Left";)n=t(n.left);return n.right};se.tailRec=Fr});var Ge=D(S=>{"use strict";var Wr=S&&S.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Kr=S&&S.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$r=S&&S.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Wr(t,e,n);return Kr(t,e),t};Object.defineProperty(S,"__esModule",{value:!0});S.tapEither=S.filterOrElse=S.chainFirstEitherK=S.chainEitherK=S.fromEitherK=S.chainOptionK=S.fromOptionK=S.fromPredicate=S.fromOption=void 0;var Vr=he(),ze=B(),K=$r(G());function Xe(e){return function(t){return function(n){return e.fromEither(K.isNone(n)?K.left(t()):K.right(n.value))}}}S.fromOption=Xe;function Hr(e){return function(t,n){return function(r){return e.fromEither(t(r)?K.right(r):K.left(n(r)))}}}S.fromPredicate=Hr;function ke(e){var t=Xe(e);return function(n){var r=t(n);return function(o){return(0,ze.flow)(o,r)}}}S.fromOptionK=ke;function Jr(e,t){var n=ke(e);return function(r){var o=n(r);return function(s){return function(c){return t.chain(c,o(s))}}}}S.chainOptionK=Jr;function me(e){return function(t){return(0,ze.flow)(t,e.fromEither)}}S.fromEitherK=me;function zr(e,t){var n=me(e);return function(r){return function(o){return t.chain(o,n(r))}}}S.chainEitherK=zr;function Xr(e,t){var n=Qe(e,t);return function(r){return function(o){return n(o,r)}}}S.chainFirstEitherK=Xr;function kr(e,t){return function(n,r){return function(o){return t.chain(o,function(s){return e.fromEither(n(s)?K.right(s):K.left(r(s)))})}}}S.filterOrElse=kr;function Qe(e,t){var n=me(e),r=(0,Vr.tap)(t);return function(o,s){return r(o,n(s))}}S.tapEither=Qe});var Ye=D(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.right=h.left=h.flap=h.Functor=h.Bifunctor=h.URI=h.bimap=h.mapLeft=h.map=h.separated=void 0;var Te=B(),Qr=ae(),Gr=function(e,t){return{left:e,right:t}};h.separated=Gr;var Yr=function(e,t){return(0,Te.pipe)(e,(0,h.map)(t))},Zr=function(e,t){return(0,Te.pipe)(e,(0,h.mapLeft)(t))},ei=function(e,t,n){return(0,Te.pipe)(e,(0,h.bimap)(t,n))},ti=function(e){return function(t){return(0,h.separated)((0,h.left)(t),e((0,h.right)(t)))}};h.map=ti;var ni=function(e){return function(t){return(0,h.separated)(e((0,h.left)(t)),(0,h.right)(t))}};h.mapLeft=ni;var ri=function(e,t){return function(n){return(0,h.separated)(e((0,h.left)(n)),t((0,h.right)(n)))}};h.bimap=ri;h.URI="Separated";h.Bifunctor={URI:h.URI,mapLeft:Zr,bimap:ei};h.Functor={URI:h.URI,map:Yr};h.flap=(0,Qr.flap)(h.Functor);var ii=function(e){return e.left};h.left=ii;var oi=function(e){return e.right};h.right=oi});var et=D(A=>{"use strict";var ai=A&&A.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),si=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ui=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ai(t,e,n);return si(t,e),t};Object.defineProperty(A,"__esModule",{value:!0});A.filterE=A.witherDefault=A.wiltDefault=void 0;var Ze=ui(G());function ci(e,t){return function(n){var r=e.traverse(n);return function(o,s){return n.map(r(o,s),t.separate)}}}A.wiltDefault=ci;function fi(e,t){return function(n){var r=e.traverse(n);return function(o,s){return n.map(r(o,s),t.compact)}}}A.witherDefault=fi;function li(e){return function(t){var n=e.wither(t);return function(r){return function(o){return n(o,function(s){return t.map(r(s),function(c){return c?Ze.some(s):Ze.none})})}}}}A.filterE=li});var ut=D(i=>{"use strict";var pi=i&&i.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),di=i&&i.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),nt=i&&i.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pi(t,e,n);return di(t,e),t};Object.defineProperty(i,"__esModule",{value:!0});i.match=i.foldW=i.matchW=i.isRight=i.isLeft=i.fromOption=i.fromPredicate=i.FromEither=i.MonadThrow=i.throwError=i.ChainRec=i.Extend=i.extend=i.Alt=i.alt=i.altW=i.Bifunctor=i.mapLeft=i.bimap=i.Traversable=i.sequence=i.traverse=i.Foldable=i.reduceRight=i.foldMap=i.reduce=i.Monad=i.Chain=i.Applicative=i.Apply=i.ap=i.apW=i.Pointed=i.of=i.asUnit=i.as=i.Functor=i.map=i.getAltValidation=i.getApplicativeValidation=i.getWitherable=i.getFilterable=i.getCompactable=i.getSemigroup=i.getEq=i.getShow=i.URI=i.flatMap=i.right=i.left=void 0;i.chainFirstW=i.chainFirst=i.chain=i.chainW=i.sequenceArray=i.traverseArray=i.traverseArrayWithIndex=i.traverseReadonlyArrayWithIndex=i.traverseReadonlyNonEmptyArrayWithIndex=i.ApT=i.apSW=i.apS=i.bindW=i.bind=i.let=i.bindTo=i.Do=i.exists=i.elem=i.toError=i.toUnion=i.chainNullableK=i.fromNullableK=i.tryCatchK=i.tryCatch=i.fromNullable=i.orElse=i.orElseW=i.swap=i.filterOrElseW=i.filterOrElse=i.flatMapOption=i.flatMapNullable=i.liftOption=i.liftNullable=i.chainOptionKW=i.chainOptionK=i.fromOptionK=i.duplicate=i.flatten=i.flattenW=i.tap=i.apSecondW=i.apSecond=i.apFirstW=i.apFirst=i.flap=i.getOrElse=i.getOrElseW=i.fold=void 0;i.getValidation=i.getValidationMonoid=i.getValidationSemigroup=i.getApplyMonoid=i.getApplySemigroup=i.either=i.stringifyJSON=i.parseJSON=void 0;var rt=Ve(),Y=ye(),it=nt(he()),gi=Je(),Z=Ge(),E=B(),ee=ae(),x=nt(G()),j=Ye(),tt=et();i.left=x.left;i.right=x.right;i.flatMap=(0,E.dual)(2,function(e,t){return(0,i.isLeft)(e)?e:t(e.right)});var L=function(e,t){return(0,E.pipe)(e,(0,i.map)(t))},$=function(e,t){return(0,E.pipe)(e,(0,i.ap)(t))},te=function(e,t,n){return(0,E.pipe)(e,(0,i.reduce)(t,n))},ne=function(e){return function(t,n){var r=(0,i.foldMap)(e);return(0,E.pipe)(t,r(n))}},re=function(e,t,n){return(0,E.pipe)(e,(0,i.reduceRight)(t,n))},ue=function(e){var t=(0,i.traverse)(e);return function(n,r){return(0,E.pipe)(n,t(r))}},be=function(e,t,n){return(0,E.pipe)(e,(0,i.bimap)(t,n))},we=function(e,t){return(0,E.pipe)(e,(0,i.mapLeft)(t))},ot=function(e,t){return(0,E.pipe)(e,(0,i.alt)(t))},Se=function(e,t){return(0,E.pipe)(e,(0,i.extend)(t))},Me=function(e,t){return(0,gi.tailRec)(t(e),function(n){return(0,i.isLeft)(n)?(0,i.right)((0,i.left)(n.left)):(0,i.isLeft)(n.right)?(0,i.left)(t(n.right.left)):(0,i.right)((0,i.right)(n.right.right))})};i.URI="Either";var vi=function(e,t){return{show:function(n){return(0,i.isLeft)(n)?"left(".concat(e.show(n.left),")"):"right(".concat(t.show(n.right),")")}}};i.getShow=vi;var yi=function(e,t){return{equals:function(n,r){return n===r||((0,i.isLeft)(n)?(0,i.isLeft)(r)&&e.equals(n.left,r.left):(0,i.isRight)(r)&&t.equals(n.right,r.right))}}};i.getEq=yi;var hi=function(e){return{concat:function(t,n){return(0,i.isLeft)(n)?t:(0,i.isLeft)(t)?n:(0,i.right)(e.concat(t.right,n.right))}}};i.getSemigroup=hi;var mi=function(e){var t=(0,i.left)(e.empty);return{URI:i.URI,_E:void 0,compact:function(n){return(0,i.isLeft)(n)?n:n.right._tag==="None"?t:(0,i.right)(n.right.value)},separate:function(n){return(0,i.isLeft)(n)?(0,j.separated)(n,n):(0,i.isLeft)(n.right)?(0,j.separated)((0,i.right)(n.right.left),t):(0,j.separated)(t,(0,i.right)(n.right.right))}}};i.getCompactable=mi;var Ti=function(e){var t=(0,i.left)(e.empty),n=(0,i.getCompactable)(e),r=n.compact,o=n.separate,s=function(u,f){return(0,i.isLeft)(u)||f(u.right)?u:t},c=function(u,f){return(0,i.isLeft)(u)?(0,j.separated)(u,u):f(u.right)?(0,j.separated)(t,(0,i.right)(u.right)):(0,j.separated)((0,i.right)(u.right),t)};return{URI:i.URI,_E:void 0,map:L,compact:r,separate:o,filter:s,filterMap:function(u,f){if((0,i.isLeft)(u))return u;var l=f(u.right);return l._tag==="None"?t:(0,i.right)(l.value)},partition:c,partitionMap:function(u,f){if((0,i.isLeft)(u))return(0,j.separated)(u,u);var l=f(u.right);return(0,i.isLeft)(l)?(0,j.separated)((0,i.right)(l.left),t):(0,j.separated)(t,(0,i.right)(l.right))}}};i.getFilterable=Ti;var bi=function(e){var t=(0,i.getFilterable)(e),n=(0,i.getCompactable)(e);return{URI:i.URI,_E:void 0,map:L,compact:t.compact,separate:t.separate,filter:t.filter,filterMap:t.filterMap,partition:t.partition,partitionMap:t.partitionMap,traverse:ue,sequence:i.sequence,reduce:te,foldMap:ne,reduceRight:re,wither:(0,tt.witherDefault)(i.Traversable,n),wilt:(0,tt.wiltDefault)(i.Traversable,n)}};i.getWitherable=bi;var wi=function(e){return{URI:i.URI,_E:void 0,map:L,ap:function(t,n){return(0,i.isLeft)(t)?(0,i.isLeft)(n)?(0,i.left)(e.concat(t.left,n.left)):t:(0,i.isLeft)(n)?n:(0,i.right)(t.right(n.right))},of:i.of}};i.getApplicativeValidation=wi;var Si=function(e){return{URI:i.URI,_E:void 0,map:L,alt:function(t,n){if((0,i.isRight)(t))return t;var r=n();return(0,i.isLeft)(r)?(0,i.left)(e.concat(t.left,r.left)):r}}};i.getAltValidation=Si;var Mi=function(e){return function(t){return(0,i.isLeft)(t)?t:(0,i.right)(e(t.right))}};i.map=Mi;i.Functor={URI:i.URI,map:L};i.as=(0,E.dual)(2,(0,ee.as)(i.Functor));i.asUnit=(0,ee.asUnit)(i.Functor);i.of=i.right;i.Pointed={URI:i.URI,of:i.of};var Ri=function(e){return function(t){return(0,i.isLeft)(t)?t:(0,i.isLeft)(e)?e:(0,i.right)(t.right(e.right))}};i.apW=Ri;i.ap=i.apW;i.Apply={URI:i.URI,map:L,ap:$};i.Applicative={URI:i.URI,map:L,ap:$,of:i.of};i.Chain={URI:i.URI,map:L,ap:$,chain:i.flatMap};i.Monad={URI:i.URI,map:L,ap:$,of:i.of,chain:i.flatMap};var Ei=function(e,t){return function(n){return(0,i.isLeft)(n)?e:t(e,n.right)}};i.reduce=Ei;var Pi=function(e){return function(t){return function(n){return(0,i.isLeft)(n)?e.empty:t(n.right)}}};i.foldMap=Pi;var _i=function(e,t){return function(n){return(0,i.isLeft)(n)?e:t(n.right,e)}};i.reduceRight=_i;i.Foldable={URI:i.URI,reduce:te,foldMap:ne,reduceRight:re};var Li=function(e){return function(t){return function(n){return(0,i.isLeft)(n)?e.of((0,i.left)(n.left)):e.map(t(n.right),i.right)}}};i.traverse=Li;var Ii=function(e){return function(t){return(0,i.isLeft)(t)?e.of((0,i.left)(t.left)):e.map(t.right,i.right)}};i.sequence=Ii;i.Traversable={URI:i.URI,map:L,reduce:te,foldMap:ne,reduceRight:re,traverse:ue,sequence:i.sequence};var Oi=function(e,t){return function(n){return(0,i.isLeft)(n)?(0,i.left)(e(n.left)):(0,i.right)(t(n.right))}};i.bimap=Oi;var Ai=function(e){return function(t){return(0,i.isLeft)(t)?(0,i.left)(e(t.left)):t}};i.mapLeft=Ai;i.Bifunctor={URI:i.URI,bimap:be,mapLeft:we};var Ui=function(e){return function(t){return(0,i.isLeft)(t)?e():t}};i.altW=Ui;i.alt=i.altW;i.Alt={URI:i.URI,map:L,alt:ot};var Ci=function(e){return function(t){return(0,i.isLeft)(t)?t:(0,i.right)(e(t))}};i.extend=Ci;i.Extend={URI:i.URI,map:L,extend:Se};i.ChainRec={URI:i.URI,map:L,ap:$,chain:i.flatMap,chainRec:Me};i.throwError=i.left;i.MonadThrow={URI:i.URI,map:L,ap:$,of:i.of,chain:i.flatMap,throwError:i.throwError};i.FromEither={URI:i.URI,fromEither:E.identity};i.fromPredicate=(0,Z.fromPredicate)(i.FromEither);i.fromOption=(0,Z.fromOption)(i.FromEither);i.isLeft=x.isLeft;i.isRight=x.isRight;var Di=function(e,t){return function(n){return(0,i.isLeft)(n)?e(n.left):t(n.right)}};i.matchW=Di;i.foldW=i.matchW;i.match=i.matchW;i.fold=i.match;var xi=function(e){return function(t){return(0,i.isLeft)(t)?e(t.left):t.right}};i.getOrElseW=xi;i.getOrElse=i.getOrElseW;i.flap=(0,ee.flap)(i.Functor);i.apFirst=(0,Y.apFirst)(i.Apply);i.apFirstW=i.apFirst;i.apSecond=(0,Y.apSecond)(i.Apply);i.apSecondW=i.apSecond;i.tap=(0,E.dual)(2,it.tap(i.Chain));i.flattenW=(0,i.flatMap)(E.identity);i.flatten=i.flattenW;i.duplicate=(0,i.extend)(E.identity);i.fromOptionK=(0,Z.fromOptionK)(i.FromEither);i.chainOptionK=(0,Z.chainOptionK)(i.FromEither,i.Chain);i.chainOptionKW=i.chainOptionK;var ce={fromEither:i.FromEither.fromEither};i.liftNullable=x.liftNullable(ce);i.liftOption=x.liftOption(ce);var at={flatMap:i.flatMap};i.flatMapNullable=x.flatMapNullable(ce,at);i.flatMapOption=x.flatMapOption(ce,at);i.filterOrElse=(0,Z.filterOrElse)(i.FromEither,i.Chain);i.filterOrElseW=i.filterOrElse;var Ni=function(e){return(0,i.isLeft)(e)?(0,i.right)(e.left):(0,i.left)(e.right)};i.swap=Ni;var ji=function(e){return function(t){return(0,i.isLeft)(t)?e(t.left):t}};i.orElseW=ji;i.orElse=i.orElseW;var qi=function(e){return function(t){return t==null?(0,i.left)(e):(0,i.right)(t)}};i.fromNullable=qi;var Bi=function(e,t){try{return(0,i.right)(e())}catch(n){return(0,i.left)(t(n))}};i.tryCatch=Bi;var Fi=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(0,i.tryCatch)(function(){return e.apply(void 0,n)},t)}};i.tryCatchK=Fi;var Wi=function(e){var t=(0,i.fromNullable)(e);return function(n){return(0,E.flow)(n,t)}};i.fromNullableK=Wi;var Ki=function(e){var t=(0,i.fromNullableK)(e);return function(n){return(0,i.flatMap)(t(n))}};i.chainNullableK=Ki;i.toUnion=(0,i.foldW)(E.identity,E.identity);function $i(e){try{return e instanceof Error?e:new Error(String(e))}catch{return new Error}}i.toError=$i;function st(e){return function(t,n){if(n===void 0){var r=st(e);return function(o){return r(t,o)}}return(0,i.isLeft)(n)?!1:e.equals(t,n.right)}}i.elem=st;var Vi=function(e){return function(t){return(0,i.isLeft)(t)?!1:e(t.right)}};i.exists=Vi;i.Do=(0,i.of)(x.emptyRecord);i.bindTo=(0,ee.bindTo)(i.Functor);var Hi=(0,ee.let)(i.Functor);i.let=Hi;i.bind=it.bind(i.Chain);i.bindW=i.bind;i.apS=(0,Y.apS)(i.Apply);i.apSW=i.apS;i.ApT=(0,i.of)(x.emptyReadonlyArray);var Ji=function(e){return function(t){var n=e(0,x.head(t));if((0,i.isLeft)(n))return n;for(var r=[n.right],o=1;o<t.length;o++){var s=e(o,t[o]);if((0,i.isLeft)(s))return s;r.push(s.right)}return(0,i.right)(r)}};i.traverseReadonlyNonEmptyArrayWithIndex=Ji;var zi=function(e){var t=(0,i.traverseReadonlyNonEmptyArrayWithIndex)(e);return function(n){return x.isNonEmpty(n)?t(n):i.ApT}};i.traverseReadonlyArrayWithIndex=zi;i.traverseArrayWithIndex=i.traverseReadonlyArrayWithIndex;var Xi=function(e){return(0,i.traverseReadonlyArrayWithIndex)(function(t,n){return e(n)})};i.traverseArray=Xi;i.sequenceArray=(0,i.traverseArray)(E.identity);i.chainW=i.flatMap;i.chain=i.flatMap;i.chainFirst=i.tap;i.chainFirstW=i.tap;function ki(e,t){return(0,i.tryCatch)(function(){return JSON.parse(e)},t)}i.parseJSON=ki;var Qi=function(e,t){return(0,i.tryCatch)(function(){var n=JSON.stringify(e);if(typeof n!="string")throw new Error("Converting unsupported structure to JSON");return n},t)};i.stringifyJSON=Qi;i.either={URI:i.URI,map:L,of:i.of,ap:$,chain:i.flatMap,reduce:te,foldMap:ne,reduceRight:re,traverse:ue,sequence:i.sequence,bimap:be,mapLeft:we,alt:ot,extend:Se,chainRec:Me,throwError:i.throwError};i.getApplySemigroup=(0,Y.getApplySemigroup)(i.Apply);i.getApplyMonoid=(0,rt.getApplicativeMonoid)(i.Applicative);var Gi=function(e,t){return(0,Y.getApplySemigroup)((0,i.getApplicativeValidation)(e))(t)};i.getValidationSemigroup=Gi;var Yi=function(e,t){return(0,rt.getApplicativeMonoid)((0,i.getApplicativeValidation)(e))(t)};i.getValidationMonoid=Yi;function Zi(e){var t=(0,i.getApplicativeValidation)(e).ap,n=(0,i.getAltValidation)(e).alt;return{URI:i.URI,_E:void 0,map:L,of:i.of,chain:i.flatMap,bimap:be,mapLeft:we,reduce:te,foldMap:ne,reduceRight:re,extend:Se,traverse:ue,sequence:i.sequence,chainRec:Me,throwError:i.throwError,ap:t,alt:n}}i.getValidation=Zi});var Qt=D(a=>{"use strict";var m=a&&a.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=a&&a.__assign||function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},z.apply(this,arguments)},eo=a&&a.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(a,"__esModule",{value:!0});a.partial=a.PartialType=a.type=a.InterfaceType=a.array=a.ArrayType=a.recursion=a.RecursiveType=a.Int=a.brand=a.RefinementType=a.keyof=a.KeyofType=a.literal=a.LiteralType=a.void=a.undefined=a.null=a.UnknownRecord=a.AnyDictionaryType=a.UnknownArray=a.AnyArrayType=a.boolean=a.BooleanType=a.bigint=a.BigIntType=a.number=a.NumberType=a.string=a.StringType=a.unknown=a.UnknownType=a.voidType=a.VoidType=a.UndefinedType=a.nullType=a.NullType=a.getIndex=a.getTags=a.emptyTags=a.mergeAll=a.getDomainKeys=a.appendContext=a.getContextEntry=a.getFunctionName=a.identity=a.Type=a.success=a.failure=a.failures=void 0;a.alias=a.clean=a.StrictType=a.dictionary=a.object=a.ObjectType=a.Dictionary=a.getDefaultContext=a.getValidationError=a.interface=a.Array=a.taggedUnion=a.TaggedUnionType=a.Integer=a.refinement=a.any=a.AnyType=a.never=a.NeverType=a.Function=a.FunctionType=a.exact=a.ExactType=a.strict=a.readonlyArray=a.ReadonlyArrayType=a.readonly=a.ReadonlyType=a.tuple=a.TupleType=a.intersection=a.IntersectionType=a.union=a.UnionType=a.record=a.DictionaryType=void 0;var R=ut();a.failures=R.left;var to=function(e,t,n){return(0,a.failures)([{value:e,context:t,message:n}])};a.failure=to;a.success=R.right;var T=function(){function e(t,n,r,o){this.name=t,this.is=n,this.validate=r,this.encode=o,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return n===void 0&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,function(o,s){var c=r.validate(o,s);return(0,R.isLeft)(c)?c:t.validate(c.right,s)},this.encode===a.identity&&t.encode===a.identity?a.identity:function(o){return r.encode(t.encode(o))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(t){return this.validate(t,[{key:"",type:this,actual:t}])},e}();a.Type=T;var no=function(e){return e};a.identity=no;function lt(e){return e.displayName||e.name||"<function".concat(e.length,">")}a.getFunctionName=lt;function ro(e,t){return{key:e,type:t}}a.getContextEntry=ro;function N(e,t,n,r){for(var o=e.length,s=Array(o+1),c=0;c<o;c++)s[c]=e[c];return s[o]={key:t,type:n,actual:r},s}a.appendContext=N;function q(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var V=Object.prototype.hasOwnProperty;function Ee(e){return Object.keys(e).map(function(t){return"".concat(t,": ").concat(e[t].name)}).join(", ")}function ie(e){for(var t=0;t<e.length;t++)if(e[t].encode!==a.identity)return!1;return!0}function pt(e){return"{ ".concat(Ee(e)," }")}function dt(e){return"Partial<".concat(e,">")}function io(e,t,n,r){r===void 0&&(r="{ [K in ".concat(t.name,"]: ").concat(n.name," }"));var o=e.length;return new Ae(r,function(s){return a.UnknownRecord.is(s)&&e.every(function(c){return n.is(s[c])})},function(s,c){var u=a.UnknownRecord.validate(s,c);if((0,R.isLeft)(u))return u;for(var f=u.right,l={},d=[],y=!1,v=0;v<o;v++){var b=e[v],P=f[b],w=n.validate(P,N(c,b,n,P));if((0,R.isLeft)(w))q(d,w.left);else{var O=w.right;y=y||O!==P,l[b]=O}}return d.length>0?(0,a.failures)(d):(0,a.success)(y||Object.keys(f).length!==o?l:f)},n.encode===a.identity?a.identity:function(s){for(var c={},u=0;u<o;u++){var f=e[u];c[f]=n.encode(s[f])}return c},t,n)}function Le(e){var t;if(yt(e)){var n=e.value;if(a.string.is(n))return t={},t[n]=null,t}else{if(fo(e))return e.keys;if(mt(e)){var r=e.types.map(function(o){return Le(o)});return r.some(fe.is)?void 0:Object.assign.apply(Object,eo([{}],r,!1))}}}a.getDomainKeys=Le;function oo(e,t,n){return n===void 0&&(n="{ [K in ".concat(e.name,"]: ").concat(t.name," }")),new Ae(n,function(r){return a.UnknownRecord.is(r)?Object.keys(r).every(function(o){return e.is(o)&&t.is(r[o])}):ft(t)&&Array.isArray(r)},function(r,o){if(a.UnknownRecord.is(r)){for(var s={},c=[],u=Object.keys(r),f=u.length,l=!1,d=0;d<f;d++){var y=u[d],v=r[y],b=e.validate(y,N(o,y,e,y));if((0,R.isLeft)(b))q(c,b.left);else{var P=b.right;l=l||P!==y,y=P;var w=t.validate(v,N(o,y,t,v));if((0,R.isLeft)(w))q(c,w.left);else{var O=w.right;l=l||O!==v,s[y]=O}}}return c.length>0?(0,a.failures)(c):(0,a.success)(l?s:r)}return ft(t)&&Array.isArray(r)?(0,a.success)(r):(0,a.failure)(r,o)},e.encode===a.identity&&t.encode===a.identity?a.identity:function(r){for(var o={},s=Object.keys(r),c=s.length,u=0;u<c;u++){var f=s[u];o[String(e.encode(f))]=t.encode(r[f])}return o},e,t)}function gt(e){return"("+e.map(function(t){return t.name}).join(" | ")+")"}function Pe(e,t){for(var n=!0,r=!0,o=!a.UnknownRecord.is(e),s=0,c=t;s<c.length;s++){var u=c[s];u!==e&&(n=!1),a.UnknownRecord.is(u)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var f={},l=0,d=t;l<d.length;l++){var u=d[l];for(var y in u)(!V.call(f,y)||o||u[y]!==e[y])&&(f[y]=u[y])}return f}a.mergeAll=Pe;function _e(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return _e(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce(function(t,n){return Object.assign(t,_e(n))},{})}}function ct(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,o={},s=0;s<n.length;s++){var c=n[s];V.call(t,c)?o[c]=e[c]:r=!0}return r?o:e}function ao(e){return ht(e)?"{| ".concat(Ee(e.props)," |}"):lo(e)?dt("{| ".concat(Ee(e.props)," |}")):"Exact<".concat(e.name,">")}function so(e){return e.length>0}a.emptyTags={};function vt(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var s=o[r];t.indexOf(s)!==-1&&n.push(s)}return n}function uo(e,t){if(e===a.emptyTags)return t;if(t===a.emptyTags)return e;var n=Object.assign({},e);for(var r in t)if(V.call(e,r)){var o=vt(e[r],t[r]);if(so(o))n[r]=o;else{n=a.emptyTags;break}}else n[r]=t[r];return n}function co(e,t){if(e===a.emptyTags||t===a.emptyTags)return a.emptyTags;var n=a.emptyTags;for(var r in e)if(V.call(t,r)){var o=vt(e[r],t[r]);o.length===0&&(n===a.emptyTags&&(n={}),n[r]=e[r].concat(t[r]))}return n}function ft(e){return e._tag==="AnyType"}function yt(e){return e._tag==="LiteralType"}function fo(e){return e._tag==="KeyofType"}function ht(e){return e._tag==="InterfaceType"}function lo(e){return e._tag==="PartialType"}function po(e){return e._tag==="StrictType"}function go(e){return e._tag==="ExactType"}function vo(e){return e._tag==="RefinementType"}function yo(e){return e._tag==="IntersectionType"}function mt(e){return e._tag==="UnionType"}function ho(e){return e._tag==="RecursiveType"}var Re=[];function W(e){if(Re.indexOf(e)!==-1)return a.emptyTags;if(ht(e)||po(e)){var t=a.emptyTags;for(var n in e.props){var r=e.props[n];yt(r)&&(t===a.emptyTags&&(t={}),t[n]=[r.value])}return t}else{if(go(e)||vo(e))return W(e.type);if(yo(e))return e.types.reduce(function(s,c){return uo(s,W(c))},a.emptyTags);if(mt(e))return e.types.slice(1).reduce(function(s,c){return co(s,W(c))},W(e.types[0]));if(ho(e)){Re.push(e);var o=W(e.type);return Re.pop(),o}}return a.emptyTags}a.getTags=W;function Tt(e){var t=W(e[0]),n=Object.keys(t),r=e.length,o=function(l){for(var d=t[l].slice(),y=[t[l]],v=1;v<r;v++){var b=e[v],P=W(b),w=P[l];if(w===void 0)return"continue-keys";if(w.some(function(O){return d.indexOf(O)!==-1}))return"continue-keys";d.push.apply(d,w),y.push(w)}return{value:[l,y]}};e:for(var s=0,c=n;s<c.length;s++){var u=c[s],f=o(u);if(typeof f=="object")return f.value;switch(f){case"continue-keys":continue e}}}a.getIndex=Tt;var bt=function(e){m(t,e);function t(){var n=e.call(this,"null",function(r){return r===null},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="NullType",n}return t}(T);a.NullType=bt;a.nullType=new bt;a.null=a.nullType;var wt=function(e){m(t,e);function t(){var n=e.call(this,"undefined",function(r){return r===void 0},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="UndefinedType",n}return t}(T);a.UndefinedType=wt;var fe=new wt;a.undefined=fe;var St=function(e){m(t,e);function t(){var n=e.call(this,"void",fe.is,fe.validate,a.identity)||this;return n._tag="VoidType",n}return t}(T);a.VoidType=St;a.voidType=new St;a.void=a.voidType;var Mt=function(e){m(t,e);function t(){var n=e.call(this,"unknown",function(r){return!0},a.success,a.identity)||this;return n._tag="UnknownType",n}return t}(T);a.UnknownType=Mt;a.unknown=new Mt;var Rt=function(e){m(t,e);function t(){var n=e.call(this,"string",function(r){return typeof r=="string"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="StringType",n}return t}(T);a.StringType=Rt;a.string=new Rt;var Et=function(e){m(t,e);function t(){var n=e.call(this,"number",function(r){return typeof r=="number"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="NumberType",n}return t}(T);a.NumberType=Et;a.number=new Et;var Pt=function(e){m(t,e);function t(){var n=e.call(this,"bigint",function(r){return typeof r=="bigint"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="BigIntType",n}return t}(T);a.BigIntType=Pt;a.bigint=new Pt;var _t=function(e){m(t,e);function t(){var n=e.call(this,"boolean",function(r){return typeof r=="boolean"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="BooleanType",n}return t}(T);a.BooleanType=_t;a.boolean=new _t;var Lt=function(e){m(t,e);function t(){var n=e.call(this,"UnknownArray",Array.isArray,function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="AnyArrayType",n}return t}(T);a.AnyArrayType=Lt;a.UnknownArray=new Lt;a.Array=a.UnknownArray;var It=function(e){m(t,e);function t(){var n=e.call(this,"UnknownRecord",function(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="AnyDictionaryType",n}return t}(T);a.AnyDictionaryType=It;a.UnknownRecord=new It;var Ot=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.value=c,u._tag="LiteralType",u}return t}(T);a.LiteralType=Ot;function mo(e,t){t===void 0&&(t=JSON.stringify(e));var n=function(r){return r===e};return new Ot(t,n,function(r,o){return n(r)?(0,a.success)(e):(0,a.failure)(r,o)},a.identity,e)}a.literal=mo;var At=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.keys=c,u._tag="KeyofType",u}return t}(T);a.KeyofType=At;function To(e,t){t===void 0&&(t=Object.keys(e).map(function(r){return JSON.stringify(r)}).join(" | "));var n=function(r){return a.string.is(r)&&V.call(e,r)};return new At(t,n,function(r,o){return n(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity,e)}a.keyof=To;var Ut=function(e){m(t,e);function t(n,r,o,s,c,u){var f=e.call(this,n,r,o,s)||this;return f.type=c,f.predicate=u,f._tag="RefinementType",f}return t}(T);a.RefinementType=Ut;function Ct(e,t,n){return Ce(e,t,n)}a.brand=Ct;a.Int=Ct(a.number,function(e){return Number.isInteger(e)},"Int");var Ie=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.runDefinition=c,u._tag="RecursiveType",u}return t}(T);a.RecursiveType=Ie;Object.defineProperty(Ie.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function bo(e,t){var n,r=function(){return n||(n=t(o),n.name=e),n},o=new Ie(e,function(s){return r().is(s)},function(s,c){return r().validate(s,c)},function(s){return r().encode(s)},r);return o}a.recursion=bo;var Dt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.type=c,u._tag="ArrayType",u}return t}(T);a.ArrayType=Dt;function xt(e,t){return t===void 0&&(t="Array<".concat(e.name,">")),new Dt(t,function(n){return a.UnknownArray.is(n)&&n.every(e.is)},function(n,r){var o=a.UnknownArray.validate(n,r);if((0,R.isLeft)(o))return o;for(var s=o.right,c=s.length,u=s,f=[],l=0;l<c;l++){var d=s[l],y=e.validate(d,N(r,String(l),e,d));if((0,R.isLeft)(y))q(f,y.left);else{var v=y.right;v!==d&&(u===s&&(u=s.slice()),u[l]=v)}}return f.length>0?(0,a.failures)(f):(0,a.success)(u)},e.encode===a.identity?a.identity:function(n){return n.map(e.encode)},e)}a.array=xt;var Nt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.props=c,u._tag="InterfaceType",u}return t}(T);a.InterfaceType=Nt;function Oe(e,t){t===void 0&&(t=pt(e));var n=Object.keys(e),r=n.map(function(s){return e[s]}),o=n.length;return new Nt(t,function(s){if(a.UnknownRecord.is(s)){for(var c=0;c<o;c++){var u=n[c],f=s[u];if(f===void 0&&!V.call(s,u)||!r[c].is(f))return!1}return!0}return!1},function(s,c){var u=a.UnknownRecord.validate(s,c);if((0,R.isLeft)(u))return u;for(var f=u.right,l=f,d=[],y=0;y<o;y++){var v=n[y],b=l[v],P=r[y],w=P.validate(b,N(c,v,P,b));if((0,R.isLeft)(w))q(d,w.left);else{var O=w.right;(O!==b||O===void 0&&!V.call(l,v))&&(l===f&&(l=z({},f)),l[v]=O)}}return d.length>0?(0,a.failures)(d):(0,a.success)(l)},ie(r)?a.identity:function(s){for(var c=z({},s),u=0;u<o;u++){var f=n[u],l=r[u].encode;l!==a.identity&&(c[f]=l(s[f]))}return c},e)}a.type=Oe;a.interface=Oe;var jt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.props=c,u._tag="PartialType",u}return t}(T);a.PartialType=jt;function wo(e,t){t===void 0&&(t=dt(pt(e)));var n=Object.keys(e),r=n.map(function(s){return e[s]}),o=n.length;return new jt(t,function(s){if(a.UnknownRecord.is(s)){for(var c=0;c<o;c++){var u=n[c],f=s[u];if(f!==void 0&&!e[u].is(f))return!1}return!0}return!1},function(s,c){var u=a.UnknownRecord.validate(s,c);if((0,R.isLeft)(u))return u;for(var f=u.right,l=f,d=[],y=0;y<o;y++){var v=n[y],b=l[v],P=e[v],w=P.validate(b,N(c,v,P,b));if((0,R.isLeft)(w))b!==void 0&&q(d,w.left);else{var O=w.right;O!==b&&(l===f&&(l=z({},f)),l[v]=O)}}return d.length>0?(0,a.failures)(d):(0,a.success)(l)},ie(r)?a.identity:function(s){for(var c=z({},s),u=0;u<o;u++){var f=n[u],l=s[f];l!==void 0&&(c[f]=r[u].encode(l))}return c},e)}a.partial=wo;var Ae=function(e){m(t,e);function t(n,r,o,s,c,u){var f=e.call(this,n,r,o,s)||this;return f.domain=c,f.codomain=u,f._tag="DictionaryType",f}return t}(T);a.DictionaryType=Ae;function qt(e,t,n){var r=Le(e);return r?io(Object.keys(r),e,t,n):oo(e,t,n)}a.record=qt;var Ue=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.types=c,u._tag="UnionType",u}return t}(T);a.UnionType=Ue;function Bt(e,t){t===void 0&&(t=gt(e));var n=Tt(e);if(n!==void 0&&e.length>0){var r=n[0],o=n[1],s=o.length,c=function(u){for(var f=0;f<s;f++)if(o[f].indexOf(u)!==-1)return f};return new le(t,function(u){if(a.UnknownRecord.is(u)){var f=c(u[r]);return f!==void 0?e[f].is(u):!1}return!1},function(u,f){var l=a.UnknownRecord.validate(u,f);if((0,R.isLeft)(l))return l;var d=l.right,y=c(d[r]);if(y===void 0)return(0,a.failure)(u,f);var v=e[y];return v.validate(d,N(f,String(y),v,d))},ie(e)?a.identity:function(u){var f=c(u[r]);if(f===void 0)throw new Error("no codec found to encode value in union codec ".concat(t));return e[f].encode(u)},e,r)}else return new Ue(t,function(u){return e.some(function(f){return f.is(u)})},function(u,f){for(var l=[],d=0;d<e.length;d++){var y=e[d],v=y.validate(u,N(f,String(d),y,u));if((0,R.isLeft)(v))q(l,v.left);else return(0,a.success)(v.right)}return(0,a.failures)(l)},ie(e)?a.identity:function(u){for(var f=0,l=e;f<l.length;f++){var d=l[f];if(d.is(u))return d.encode(u)}throw new Error("no codec found to encode value in union type ".concat(t))},e)}a.union=Bt;var Ft=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.types=c,u._tag="IntersectionType",u}return t}(T);a.IntersectionType=Ft;function So(e,t){t===void 0&&(t="(".concat(e.map(function(r){return r.name}).join(" & "),")"));var n=e.length;return new Ft(t,function(r){return e.every(function(o){return o.is(r)})},e.length===0?a.success:function(r,o){for(var s=[],c=[],u=0;u<n;u++){var f=e[u],l=f.validate(r,N(o,String(u),f,r));(0,R.isLeft)(l)?q(c,l.left):s.push(l.right)}return c.length>0?(0,a.failures)(c):(0,a.success)(Pe(r,s))},e.length===0?a.identity:function(r){return Pe(r,e.map(function(o){return o.encode(r)}))},e)}a.intersection=So;var Wt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.types=c,u._tag="TupleType",u}return t}(T);a.TupleType=Wt;function Mo(e,t){t===void 0&&(t="[".concat(e.map(function(r){return r.name}).join(", "),"]"));var n=e.length;return new Wt(t,function(r){return a.UnknownArray.is(r)&&r.length===n&&e.every(function(o,s){return o.is(r[s])})},function(r,o){var s=a.UnknownArray.validate(r,o);if((0,R.isLeft)(s))return s;for(var c=s.right,u=c.length>n?c.slice(0,n):c,f=[],l=0;l<n;l++){var d=c[l],y=e[l],v=y.validate(d,N(o,String(l),y,d));if((0,R.isLeft)(v))q(f,v.left);else{var b=v.right;b!==d&&(u===c&&(u=c.slice()),u[l]=b)}}return f.length>0?(0,a.failures)(f):(0,a.success)(u)},ie(e)?a.identity:function(r){return e.map(function(o,s){return o.encode(r[s])})},e)}a.tuple=Mo;var Kt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.type=c,u._tag="ReadonlyType",u}return t}(T);a.ReadonlyType=Kt;function Ro(e,t){return t===void 0&&(t="Readonly<".concat(e.name,">")),new Kt(t,e.is,e.validate,e.encode,e)}a.readonly=Ro;var $t=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.type=c,u._tag="ReadonlyArrayType",u}return t}(T);a.ReadonlyArrayType=$t;function Eo(e,t){t===void 0&&(t="ReadonlyArray<".concat(e.name,">"));var n=xt(e);return new $t(t,n.is,n.validate,n.encode,e)}a.readonlyArray=Eo;var Po=function(e,t){return Ht(Oe(e),t)};a.strict=Po;var Vt=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.type=c,u._tag="ExactType",u}return t}(T);a.ExactType=Vt;function Ht(e,t){t===void 0&&(t=ao(e));var n=_e(e);return new Vt(t,e.is,function(r,o){var s=a.UnknownRecord.validate(r,o);if((0,R.isLeft)(s))return s;var c=e.validate(r,o);return(0,R.isLeft)(c)?c:(0,R.right)(ct(c.right,n))},function(r){return e.encode(ct(r,n))},e)}a.exact=Ht;var Jt=function(e){m(t,e);function t(){var n=e.call(this,"Function",function(r){return typeof r=="function"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="FunctionType",n}return t}(T);a.FunctionType=Jt;a.Function=new Jt;var zt=function(e){m(t,e);function t(){var n=e.call(this,"never",function(r){return!1},function(r,o){return(0,a.failure)(r,o)},function(){throw new Error("cannot encode never")})||this;return n._tag="NeverType",n}return t}(T);a.NeverType=zt;a.never=new zt;var Xt=function(e){m(t,e);function t(){var n=e.call(this,"any",function(r){return!0},a.success,a.identity)||this;return n._tag="AnyType",n}return t}(T);a.AnyType=Xt;a.any=new Xt;function Ce(e,t,n){return n===void 0&&(n="(".concat(e.name," | ").concat(lt(t),")")),new Ut(n,function(r){return e.is(r)&&t(r)},function(r,o){var s=e.validate(r,o);if((0,R.isLeft)(s))return s;var c=s.right;return t(c)?(0,a.success)(c):(0,a.failure)(c,o)},e.encode,e,t)}a.refinement=Ce;a.Integer=Ce(a.number,Number.isInteger,"Integer");var le=function(e){m(t,e);function t(n,r,o,s,c,u){var f=e.call(this,n,r,o,s,c)||this;return f.tag=u,f}return t}(Ue);a.TaggedUnionType=le;var _o=function(e,t,n){n===void 0&&(n=gt(t));var r=Bt(t,n);return r instanceof le?r:(console.warn("[io-ts] Cannot build a tagged union for ".concat(n,", returning a de-optimized union")),new le(n,r.is,r.validate,r.encode,t,e))};a.taggedUnion=_o;var Lo=function(e,t){return{value:e,context:t}};a.getValidationError=Lo;var Io=function(e){return[{key:"",type:e}]};a.getDefaultContext=Io;a.Dictionary=a.UnknownRecord;var kt=function(e){m(t,e);function t(){var n=e.call(this,"object",function(r){return r!==null&&typeof r=="object"},function(r,o){return n.is(r)?(0,a.success)(r):(0,a.failure)(r,o)},a.identity)||this;return n._tag="ObjectType",n}return t}(T);a.ObjectType=kt;a.object=new kt;a.dictionary=qt;var Oo=function(e){m(t,e);function t(n,r,o,s,c){var u=e.call(this,n,r,o,s)||this;return u.props=c,u._tag="StrictType",u}return t}(T);a.StrictType=Oo;function Ao(e){return e}a.clean=Ao;function Uo(e){return function(){return e}}a.alias=Uo});var X=Ln(Qt()),Gt,Co=Symbol(),U=class{constructor(t){this[Gt]=0,this.toString=()=>this.str,this.toJSON=()=>this.str,this.loggableString=()=>this,this.replace=(n,r)=>De(this.str.replace(n,r.str)),this.concat=n=>De(this.str+n.str),this.str=t}};Gt=Co;U.assertLogSafe=e=>new U(e);var De=U.assertLogSafe;var Do=new X.Type("LoggableString",e=>e instanceof U,(e,t)=>e instanceof U?X.success(e):X.failure(e,t,"cannot decode unknown value to LoggableString"),e=>e.str);function xo(){return No().toString(36)}function No(){return globalThis.crypto.getRandomValues(new Uint32Array(1))[0]}function Yt(){return U.assertLogSafe(xo())}function Zt(e,t){console.error(`Unexpected value of variable: "${t.str}"`)}var xe=e=>{let[t]=e.split("?");return`PortOpener: ${t}`},en=(e,t,n)=>{let r=tn(e,t);return t?.reconnect&&nn(r,n),r},tn=(e,t,n)=>jo(e,t||{},n),jo=(e,t,n)=>{let{port:r,portId:o}=qo(e,t,n),s=xe(r.name);`${s}`;let c=Bo(r);r.onMessage.addListener(c);let u=()=>{r.onMessage.removeListener(c),r.onDisconnect.removeListener(u)};r.onDisconnect.addListener(u);let f=new WeakMap;return{name:`${e}/${o}`,disconnect:r.disconnect,postMessage:d=>{`${s}${d.type}`,r.postMessage(d)},onMessage:{addListener:d=>{let y=(v,b)=>{v.type!=="pm-health-check-request"&&d(v,b.name)};r.onMessage.addListener(y),f.set(d,y)},removeListener:d=>{let y=f.get(d);r.onMessage.removeListener(y),f.delete(d)}},onDisconnect:{addListener:d=>{r.onDisconnect.addListener(d)},removeListener:d=>{r.onDisconnect.removeListener(d)}},getConfig:()=>({id:o,reqId:t.reqId,type:e})}},nn=(e,t)=>{let n=xe(e.name),r=new Map,o=new Map,s={...e.onMessage},c={...e.onDisconnect},u=v=>{`${n}`,s.addListener(v),r.set(v,v)},f=v=>{`${n}`,s.removeListener(v),r.delete(v)},l=v=>{`${n}`,c.addListener(v),o.set(v,v)},d=v=>{`${n}`,c.removeListener(v),o.delete(v)},y=v=>{if(!v.persisted)return;window.removeEventListener("pageshow",y),`${n}`;let b=e.getConfig(),P=tn(b.type,{reconnect:!0,reqId:b.reqId},b.id);nn(P,t);for(let w of r.keys())e.onMessage.removeListener(w),P.onMessage.addListener(w);for(let w of o.keys())e.onDisconnect.removeListener(w),P.onDisconnect.addListener(w);t?.(P)};e.onMessage.addListener=u,e.onMessage.removeListener=f,e.onDisconnect.addListener=l,e.onDisconnect.removeListener=d,window.addEventListener("pageshow",y)},qo=(e,t,n)=>{let r=Yt(),o={};t.reqId&&(o.reqId=t.reqId.str),t.reconnect&&(o.reconnect=`${t.reconnect}`),n&&(o.reconnectId=n.str);let s="?"+new URLSearchParams(o).toString();return{port:chrome.runtime.connect({name:`${e.str}/${r.str}${s.length>1?s:""}`}),portId:r}},Bo=e=>t=>{let n=xe(e.name);if(t.type==="error"){console.warn(`${n} received error: "${t.data.loggableReason}"`);return}if(t.type!=="pm-health-check-request"){`${n}${t.type}`;return}if(t.type==="pm-health-check-request"){`${n}${t.type}`,e.postMessage({type:"pm-health-check-response",data:{windowClosed:window.closed,id:t.data.id}});return}Zt(t,U.assertLogSafe("message"))};var pe=class{constructor(t=""){this.log=(t,...n)=>{this.isPermitted()&&(this.message(t),[...n])};this.debug=(t,...n)=>{this.isPermitted()&&(this.message(t),[...n])};this.info=(t,...n)=>{this.isPermitted()&&console.info(this.message(t),...n)};this.warn=(t,...n)=>{this.isPermitted()&&console.warn(this.message(t),...n)};this.error=(t,...n)=>{this.isPermitted()&&console.error(this.message(t),...n)};this.isPermitted=()=>!1;this.message=t=>this._prependMessage?`${this._prependMessage}: ${t}`:t;this._prependMessage=t}};function rn(e){return e&&typeof e=="object"&&["Success","Error"].includes(e.type)}function Fo(e){try{return e?.useChrome||browser?.runtime===void 0?async t=>on(t):async t=>browser.runtime.sendMessage(t)}catch{return async n=>on(n)}}async function an(e,t){let r=await Fo(t)(e).catch(o=>{let s=o instanceof Error?o.message:String(o);if(s.includes("Receiving end does not exist"))`${e.name}`;else if(s.includes("The message port closed"))`${e.name}`;else if(!s)`${e.name}`;else throw new Error(`Unhandled error response received for message <${e.name}>`)});if(rn(r))switch(r.type){case"Success":return r.data;case"Error":throw new Error(r.message??`Error response received for message <${e.name}>`)}if(r)throw new Error(`Unknown response type received for message <${e.name}>`);return r}async function on(e){return new Promise((t,n)=>{chrome.runtime.sendMessage(e,r=>{if(r?.type==="Success")t(r);else{let o=chrome.runtime.lastError;n(new Error(o?.message))}})})}var Ne=class{constructor(t){this.request=t=>an(t);this.setupRegisteredHandler=(t,n)=>{function r(o,s,c){if(o.name&&o.name===t){let u=new pe("WebExtListener handler registration");return new Promise(f=>f(n(o.data))).then(c).catch(f=>{console.warn(`Caught error handling <${o.name}> message`),u.error(f)}),!0}return!1}return r};this.on=(t,n)=>{let r=this.setupRegisteredHandler(t,n);return this.registeredHandlers=this.registeredHandlers??[],this.registeredHandlers.push(r),chrome.runtime.onMessage.addListener(r),r};this.setupPort=t=>{this.port=en(U.assertLogSafe(t),{reconnect:!0},this.onPortReconnect),this.port.onMessage.addListener(this.onPortMessage)};this.onPortReconnect=t=>{this.port=t};this.onPortMessage=({type:t,data:n})=>{if(t!=="targeted-inline-message")return;(this.registeredHandlers??[]).forEach(o=>{let s=()=>{`${n.message.name}`};o(n.message,void 0,s)})};this.off=(t,n)=>{chrome.runtime.onMessage.removeListener(n)};t&&(this.portType=t,this.setupPort(t),this.registeredHandlers=[])}};function sn(e){return new Ne(e)}var un=(e,t=5e3,n,r)=>{let o,s=new Promise((c,u)=>{o=globalThis.setTimeout(()=>{console.warn(`Promise timed out.${n?` ${n}`:""}`),u(r)},t)});return Promise.race([e,s]).finally(()=>clearTimeout(o))};function cn(e){if(!I())return Promise.resolve(void 0);let t=new Promise(r=>{document.addEventListener("B5TrustedDeviceUpgradeResponse",o=>{r(o.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5TrustedDeviceUpgradeRequest",{detail:k(e)}))}),n=Symbol();return un(t,500,"handleUpgradeTrustedDevice",n).catch(r=>{if(r!==n)throw r})}function k(e){return typeof cloneInto=="function"?cloneInto(e,window.document):e}function I(){let e=window.location.hostname;if(!e)return!1;e=e.toLowerCase();let t=["1password.ca","1password.com","1password.eu","b5dev.ca","b5dev.com","b5dev.eu","b5local.com","b5staging.com","b5test.ca","b5test.com","b5test.eu","b5rev.com"];for(let n of t)if(e===n||e.endsWith("."+n))return!0;return!1}var fn=()=>{let e=Object.entries(localStorage),t={deviceUuid:Ho(),userInfo:{},deviceKeys:{},lastUserUuid:vn(dn)};for(let[n,r]of e)n.startsWith($o)?t.userInfo[n]=r:n.startsWith(Ko)&&(t.deviceKeys[n]=r);return t},ln=e=>{if(!gn())return;Vo(e.deviceUuid),e.lastUserUuid&&je(dn,e.lastUserUuid);let t=[...Object.entries(e.userInfo),...Object.entries(e.deviceKeys)];for(let[n,r]of t)je(n,r)};var pn="deviceUUID",Ko="deviceKey_";var $o="user_",dn="lastUser",oe,gn=e=>{if(typeof oe=="boolean")return oe;if(e)return oe=!1,!1;try{localStorage.setItem("test","success");let t=localStorage.getItem("test")==="success";return localStorage.removeItem("test"),oe=t,t}catch(t){return oe=!1,!1}};var je=(e,t)=>{try{localStorage.setItem(e,t)}catch(n){console.warn("Failed to save item in local storage:",n)}},vn=e=>{try{return localStorage.getItem(e)||""}catch(t){return console.warn("localStorage.getItem failed:",t),""}};var Vo=e=>{gn()&&je(pn,e)},Ho=()=>vn(pn);var yn=(e,t)=>{chrome.runtime.sendMessage({name:"report-error",data:{name:"InjectContentScript",message:e,severity:"error",stack:t}})};var C=sn(),hn={"auto-sign-in-to-b5":zo,"initialize-device":Xo,lock:()=>{},"display-mfa-required":Qo,"request-delegated-session":ko,"upgrade-trusted-device":cn,"forward-iap-receipt-to-b5":Jo};for(let e in hn)C.on(e,hn[e]);function Jo(e){I()&&document.dispatchEvent(new CustomEvent("B5ForwardIAPReceiptToB5",{detail:e}))}function zo(e){I()&&document.dispatchEvent(new CustomEvent("B5InitializeSession",{detail:k(e)}))}function Xo(e){I()&&document.dispatchEvent(new CustomEvent("B5InitializeDevice",{detail:k(e.device)}))}function ko(e){return I()?new Promise(t=>{document.addEventListener("B5RequestDelegatedSessionResponse",n=>{t(n.detail)},{once:!0}),document.dispatchEvent(new CustomEvent("B5RequestDelegatedSession",{detail:k(e)}))}):Promise.resolve(void 0)}function Qo(e){if(!I())return;let t,n=new MutationObserver(()=>{if(document.getElementById("signin-form")?.firstElementChild?.classList.contains("two-factor-entry"))t?.remove(),n.disconnect();else{let r=document.getElementsByClassName("existing-signin")[0];r&&document.getElementsByClassName("lock-message").length===0&&(t=document.createElement("div"),t.classList.add("lock-message","box","red"),t.textContent=e.content,r.insertBefore(t,r.firstChild))}});n.observe(document.body,{childList:!0,subtree:!0})}function Go(e){let t=document.querySelector(`iframe[src="${e}"]`);t&&document.body.removeChild(t)}function Yo(e){Zo("b5x-notification",e)}function Zo(e,t){let n=document.createElement("iframe");return n.id=e,t&&(n.src=t),document.body.appendChild(n),n}var mn={B5WebReady:ia,B5SignInSucceeded:Tn,B5DelegatedSignInSucceeded:Tn,B5SessionInit:ea,B5xRequestSession:ta,"share-save-item":aa,"open-extension-welcome-page":na,"open-swe-native-wrapper":ra,B5SsoComplete:oa,B5xCredentialHydration:wn};for(let e in mn)document.addEventListener(e,mn[e]);function ea(e){if(!I())return;let t=e.detail,n={name:"b5-session-init",data:{type:e.type,details:t}};C.request(n)}function ta(e){if(!I())return;let t=e.detail,n={name:"b5x-request-session-init",data:{type:e.type,details:t}};C.request(n)}async function wn(){if(!I())return;let t={name:"b5x-credential-hydration",data:{type:"B5xCredentialHydration",details:{credentials:fn()}}},n=await C.request(t),r=window.location.host,o=n.host===r;o||yn("Credential hydration response host did not match intended host"),o&&n.restoreRequired&&n.credentials&&ln(n.credentials)}function na(e){I()&&C.request({name:"open-extension-welcome-page-for-onboarding",data:{owner:e?.detail?.owner,accountType:e?.detail?.accountType,accountUuid:e?.detail?.accountUuid}})}function ra(e){I()&&C.request({name:"open-swe-native-wrapper",data:{url:e?.detail?.url}})}function ia(e){if(!I())return;let t=e.detail;t.capabilities.DeviceInit&&C.request({name:"b5Ready",data:{deviceInit:t.capabilities.DeviceInit,sessionInit:t.capabilities.SessionInit}})}function oa(e){if(!I())return;let t={name:"b5-sso-complete",data:{type:e.type,details:e.detail}};C.request(t)}function Tn(e){if(I()){if(e.type==="B5SignInSucceeded"){let t=e.detail;t.signinAddress=window.location.origin;let n={name:"sign-in-succeeded",data:{type:e.type,details:t}};C.request(n)}else if(e.type==="B5DelegatedSignInSucceeded"){let t=e.detail;t.signinAddress=window.location.origin;let n={name:"sign-in-succeeded",data:{type:e.type,details:t}};C.request(n)}else throw new Error("Unexpected event sent to handleUntrustedSignInEvent");C.on("show-add-account-prompt",Yo),C.on("close-add-account-prompt",Go)}}function aa(e){I()&&C.request({name:"share-save-item",data:e.detail.itemJson})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",bn):bn();function bn(){document.dispatchEvent(new CustomEvent("B5OPXReady",{bubbles:!1,cancelable:!1,detail:k({capabilities:{CustomAutosave:!0,SessionInit:1,DeviceInit:1,SingleSignOn:1,DelegatedSession:0,ShareSrpX:1}})}))}C.request({name:"get-build-number",data:{}}).then(e=>{e.setOldAttribute&&(document.body.dataset.onepasswordExtensionVersion=e.buildNumber),document.body.dataset.b5xBuildNumber=e.buildNumber});wn();
})();

//# debugId=7336a7b9-0cdc-524b-83f2-e7c2534e26e8

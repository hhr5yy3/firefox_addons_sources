var vr=Object.create;var gt=Object.defineProperty;var xr=Object.getOwnPropertyDescriptor;var yr=Object.getOwnPropertyNames;var _r=Object.getPrototypeOf,wr=Object.prototype.hasOwnProperty;var ft=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Sr=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of yr(e))!wr.call(t,l)&&l!==r&&gt(t,l,{get:()=>e[l],enumerable:!(o=xr(e,l))||o.enumerable});return t};var ne=(t,e,r)=>(r=t!=null?vr(_r(t)):{},Sr(e||!t||!t.__esModule?gt(r,"default",{value:t,enumerable:!0}):r,t));var oe=ft((Xe,Ft)=>{(function(t,e){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],e);else if(typeof Xe<"u")e(Ft);else{var r={exports:{}};e(r),t.browser=r.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Xe,function(t){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let e="The message port closed before a response was received.",r=o=>{let l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(b,w=void 0){super(w),this.createItem=b}get(b){return this.has(b)||this.set(b,this.createItem(b)),super.get(b)}}let d=f=>f&&typeof f=="object"&&typeof f.then=="function",u=(f,b)=>(...w)=>{o.runtime.lastError?f.reject(new Error(o.runtime.lastError.message)):b.singleCallbackArg||w.length<=1&&b.singleCallbackArg!==!1?f.resolve(w[0]):f.resolve(w)},h=f=>f==1?"argument":"arguments",k=(f,b)=>function(T,...i){if(i.length<b.minArgs)throw new Error(`Expected at least ${b.minArgs} ${h(b.minArgs)} for ${f}(), got ${i.length}`);if(i.length>b.maxArgs)throw new Error(`Expected at most ${b.maxArgs} ${h(b.maxArgs)} for ${f}(), got ${i.length}`);return new Promise((y,C)=>{if(b.fallbackToNoCallback)try{T[f](...i,u({resolve:y,reject:C},b))}catch(_){console.warn(`${f} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,_),T[f](...i),b.fallbackToNoCallback=!1,b.noCallback=!0,y()}else b.noCallback?(T[f](...i),y()):T[f](...i,u({resolve:y,reject:C},b))})},c=(f,b,w)=>new Proxy(b,{apply(T,i,y){return w.call(i,f,...y)}}),P=Function.call.bind(Object.prototype.hasOwnProperty),x=(f,b={},w={})=>{let T=Object.create(null),i={has(C,_){return _ in f||_ in T},get(C,_,J){if(_ in T)return T[_];if(!(_ in f))return;let $=f[_];if(typeof $=="function")if(typeof b[_]=="function")$=c(f,f[_],b[_]);else if(P(w,_)){let ae=k(_,w[_]);$=c(f,f[_],ae)}else $=$.bind(f);else if(typeof $=="object"&&$!==null&&(P(b,_)||P(w,_)))$=x($,b[_],w[_]);else if(P(w,"*"))$=x($,b[_],w["*"]);else return Object.defineProperty(T,_,{configurable:!0,enumerable:!0,get(){return f[_]},set(ae){f[_]=ae}}),$;return T[_]=$,$},set(C,_,J,$){return _ in T?T[_]=J:f[_]=J,!0},defineProperty(C,_,J){return Reflect.defineProperty(T,_,J)},deleteProperty(C,_){return Reflect.deleteProperty(T,_)}},y=Object.create(f);return new Proxy(y,i)},p=f=>({addListener(b,w,...T){b.addListener(f.get(w),...T)},hasListener(b,w){return b.hasListener(f.get(w))},removeListener(b,w){b.removeListener(f.get(w))}}),A=new s(f=>typeof f!="function"?f:function(w){let T=x(w,{},{getContent:{minArgs:0,maxArgs:0}});f(T)}),I=new s(f=>typeof f!="function"?f:function(w,T,i){let y=!1,C,_=new Promise(re=>{C=function(Q){y=!0,re(Q)}}),J;try{J=f(w,T,C)}catch(re){J=Promise.reject(re)}let $=J!==!0&&d(J);if(J!==!0&&!$&&!y)return!1;let ae=re=>{re.then(Q=>{i(Q)},Q=>{let pe;Q&&(Q instanceof Error||typeof Q.message=="string")?pe=Q.message:pe="An unexpected error occurred",i({__mozWebExtensionPolyfillReject__:!0,message:pe})}).catch(Q=>{console.error("Failed to send onMessage rejected reply",Q)})};return ae($?J:_),!0}),U=({reject:f,resolve:b},w)=>{o.runtime.lastError?o.runtime.lastError.message===e?b():f(new Error(o.runtime.lastError.message)):w&&w.__mozWebExtensionPolyfillReject__?f(new Error(w.message)):b(w)},L=(f,b,w,...T)=>{if(T.length<b.minArgs)throw new Error(`Expected at least ${b.minArgs} ${h(b.minArgs)} for ${f}(), got ${T.length}`);if(T.length>b.maxArgs)throw new Error(`Expected at most ${b.maxArgs} ${h(b.maxArgs)} for ${f}(), got ${T.length}`);return new Promise((i,y)=>{let C=U.bind(null,{resolve:i,reject:y});T.push(C),w.sendMessage(...T)})},W={devtools:{network:{onRequestFinished:p(A)}},runtime:{onMessage:p(I),onMessageExternal:p(I),sendMessage:L.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:L.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},R={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":R},services:{"*":R},websites:{"*":R}},x(o,W,l)};t.exports=r(chrome)}else t.exports=globalThis.browser})});var zt=ft((De,he)=>{(function(){"use strict";var t={function:!0,object:!0},e=t[typeof window]&&window||this,r=e,o=t[typeof De]&&De,l=t[typeof he]&&he&&!he.nodeType&&he,s=o&&l&&typeof global=="object"&&global;s&&(s.global===s||s.window===s||s.self===s)&&(e=s);var d=Math.pow(2,53)-1,u=/\bOpera/,h=this,k=Object.prototype,c=k.hasOwnProperty,P=k.toString;function x(i){return i=String(i),i.charAt(0).toUpperCase()+i.slice(1)}function p(i,y,C){var _={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return y&&C&&/^Win/i.test(i)&&!/^Windows Phone /i.test(i)&&(_=_[/[\d.]+$/.exec(i)])&&(i="Windows "+_),i=String(i),y&&C&&(i=i.replace(RegExp(y,"i"),C)),i=I(i.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),i}function A(i,y){var C=-1,_=i?i.length:0;if(typeof _=="number"&&_>-1&&_<=d)for(;++C<_;)y(i[C],C,i);else U(i,y)}function I(i){return i=b(i),/^(?:webOS|i(?:OS|P))/.test(i)?i:x(i)}function U(i,y){for(var C in i)c.call(i,C)&&y(i[C],C,i)}function L(i){return i==null?x(i):P.call(i).slice(8,-1)}function W(i,y){var C=i!=null?typeof i[y]:"number";return!/^(?:boolean|number|string|undefined)$/.test(C)&&(C=="object"?!!i[y]:!0)}function R(i){return String(i).replace(/([ -])(?!$)/g,"$1?")}function f(i,y){var C=null;return A(i,function(_,J){C=y(C,_,J,i)}),C}function b(i){return String(i).replace(/^ +| +$/g,"")}function w(i){var y=e,C=i&&typeof i=="object"&&L(i)!="String";C&&(y=i,i=null);var _=y.navigator||{},J=_.userAgent||"";i||(i=J);var $=C||h==r,ae=C?!!_.likeChrome:/\bChrome\b/.test(i)&&!/internal|\n/i.test(P.toString()),re="Object",Q=C?re:"ScriptBridgingProxyObject",pe=C?re:"Environment",lr=C&&y.java?"JavaPackage":L(y.java),cr=C?re:"RuntimeObject",ge=/\bJava/.test(lr)&&y.java,dr=ge&&L(y.environment)==pe,ur=ge?"a":"\u03B1",mr=ge?"b":"\u03B2",$e=y.document||{},ie=y.operamini||y.opera,Ce=u.test(Ce=C&&ie?ie["[[Class]]"]:L(ie))?Ce:ie=null,a,Te=i,O=[],Ee=null,le=i==J,v=le&&ie&&typeof ie.version=="function"&&ie.version(),Be,M=pr([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),m=fr(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),E=mt([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=gr({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),g=hr(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function pr(j){return f(j,function(z,D){return z||RegExp("\\b"+(D.pattern||R(D))+"\\b","i").exec(i)&&(D.label||D)})}function gr(j){return f(j,function(z,D,ee){return z||(D[E]||D[/^[a-z]+(?: +[a-z]+\b)*/i.exec(E)]||RegExp("\\b"+R(ee)+"(?:\\b|\\w*\\d)","i").exec(i))&&ee})}function fr(j){return f(j,function(z,D){return z||RegExp("\\b"+(D.pattern||R(D))+"\\b","i").exec(i)&&(D.label||D)})}function hr(j){return f(j,function(z,D){var ee=D.pattern||R(D);return!z&&(z=RegExp("\\b"+ee+"(?:/[\\d.]+|[ \\w.]*)","i").exec(i))&&(z=p(z,ee,D.label||D)),z})}function mt(j){return f(j,function(z,D){var ee=D.pattern||R(D);return!z&&(z=RegExp("\\b"+ee+" *\\d+[.\\w_]*","i").exec(i)||RegExp("\\b"+ee+" *\\w+-[\\w]*","i").exec(i)||RegExp("\\b"+ee+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(i))&&((z=String(D.label&&!RegExp(ee,"i").test(D.label)?D.label:z).split("/"))[1]&&!/[\d.]+/.test(z[0])&&(z[0]+=" "+z[1]),D=D.label||D,z=I(z[0].replace(RegExp(ee,"i"),D).replace(RegExp("; *(?:"+D+"[_-])?","i")," ").replace(RegExp("("+D+")[-_.]?(\\w)","i"),"$1 $2"))),z})}function pt(j){return f(j,function(z,D){return z||(RegExp(D+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(i)||0)[1]||null})}function br(){return this.description||""}if(M&&(M=[M]),/\bAndroid\b/.test(g)&&!E&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(i))&&(E=b(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),B&&!E?E=mt([B]):B&&E&&(E=E.replace(RegExp("^("+R(B)+")[-_.\\s]","i"),B+" ").replace(RegExp("^("+R(B)+")[-_.]?(\\w)","i"),B+" $2")),(a=/\bGoogle TV\b/.exec(E))&&(E=a[0]),/\bSimulator\b/i.test(i)&&(E=(E?E+" ":"")+"Simulator"),m=="Opera Mini"&&/\bOPiOS\b/.test(i)&&O.push("running in Turbo/Uncompressed mode"),m=="IE"&&/\blike iPhone OS\b/.test(i)?(a=w(i.replace(/like iPhone OS/,"")),B=a.manufacturer,E=a.product):/^iP/.test(E)?(m||(m="Safari"),g="iOS"+((a=/ OS ([\d_]+)/i.exec(i))?" "+a[1].replace(/_/g,"."):"")):m=="Konqueror"&&/^Linux\b/i.test(g)?g="Kubuntu":B&&B!="Google"&&(/Chrome/.test(m)&&!/\bMobile Safari\b/i.test(i)||/\bVita\b/.test(E))||/\bAndroid\b/.test(g)&&/^Chrome/.test(m)&&/\bVersion\//i.test(i)?(m="Android Browser",g=/\bAndroid\b/.test(g)?g:"Android"):m=="Silk"?(/\bMobi/i.test(i)||(g="Android",O.unshift("desktop mode")),/Accelerated *= *true/i.test(i)&&O.unshift("accelerated")):m=="UC Browser"&&/\bUCWEB\b/.test(i)?O.push("speed mode"):m=="PaleMoon"&&(a=/\bFirefox\/([\d.]+)\b/.exec(i))?O.push("identifying as Firefox "+a[1]):m=="Firefox"&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(i))?(g||(g="Firefox OS"),E||(E=a[1])):!m||(a=!/\bMinefield\b/i.test(i)&&/\b(?:Firefox|Safari)\b/.exec(m))?(m&&!E&&/[\/,]|^[^(]+?\)/.test(i.slice(i.indexOf(a+"/")+8))&&(m=null),(a=E||B||g)&&(E||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(g))&&(m=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(g)?g:a)+" Browser")):m=="Electron"&&(a=(/\bChrome\/([\d.]+)\b/.exec(i)||0)[1])&&O.push("Chromium "+a),v||(v=pt(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",R(m),"(?:Firefox|Minefield|NetFront)"])),(a=M=="iCab"&&parseFloat(v)>3&&"WebKit"||/\bOpera\b/.test(m)&&(/\bOPR\b/.test(i)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(i)&&!/^(?:Trident|EdgeHTML)$/.test(M)&&"WebKit"||!M&&/\bMSIE\b/i.test(i)&&(g=="Mac OS"?"Tasman":"Trident")||M=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(m)&&"NetFront")&&(M=[a]),m=="IE"&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(i)||0)[1])?(m+=" Mobile",g="Windows Phone "+(/\+$/.test(a)?a:a+".x"),O.unshift("desktop mode")):/\bWPDesktop\b/i.test(i)?(m="IE Mobile",g="Windows Phone 8.x",O.unshift("desktop mode"),v||(v=(/\brv:([\d.]+)/.exec(i)||0)[1])):m!="IE"&&M=="Trident"&&(a=/\brv:([\d.]+)/.exec(i))&&(m&&O.push("identifying as "+m+(v?" "+v:"")),m="IE",v=a[1]),le){if(W(y,"global"))if(ge&&(a=ge.lang.System,Te=a.getProperty("os.arch"),g=g||a.getProperty("os.name")+" "+a.getProperty("os.version")),dr){try{v=y.require("ringo/engine").version.join("."),m="RingoJS"}catch{(a=y.system)&&a.global.system==y.system&&(m="Narwhal",g||(g=a[0].os||null))}m||(m="Rhino")}else typeof y.process=="object"&&!y.process.browser&&(a=y.process)&&(typeof a.versions=="object"&&(typeof a.versions.electron=="string"?(O.push("Node "+a.versions.node),m="Electron",v=a.versions.electron):typeof a.versions.nw=="string"&&(O.push("Chromium "+v,"Node "+a.versions.node),m="NW.js",v=a.versions.nw)),m||(m="Node.js",Te=a.arch,g=a.platform,v=/[\d.]+/.exec(a.version),v=v?v[0]:null));else L(a=y.runtime)==Q?(m="Adobe AIR",g=a.flash.system.Capabilities.os):L(a=y.phantom)==cr?(m="PhantomJS",v=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):typeof $e.documentMode=="number"&&(a=/\bTrident\/(\d+)/i.exec(i))?(v=[v,$e.documentMode],(a=+a[1]+4)!=v[1]&&(O.push("IE "+v[1]+" mode"),M&&(M[1]=""),v[1]=a),v=m=="IE"?String(v[1].toFixed(1)):v[0]):typeof $e.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(m)&&(O.push("masking as "+m+" "+v),m="IE",v="11.0",M=["Trident"],g="Windows");g=g&&I(g)}if(v&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(v)||/(?:alpha|beta)(?: ?\d)?/i.exec(i+";"+(le&&_.appMinorVersion))||/\bMinefield\b/i.test(i)&&"a")&&(Ee=/b/i.test(a)?"beta":"alpha",v=v.replace(RegExp(a+"\\+?$"),"")+(Ee=="beta"?mr:ur)+(/\d+\+?/.exec(a)||"")),m=="Fennec"||m=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(g))m="Firefox Mobile";else if(m=="Maxthon"&&v)v=v.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(E))E=="Xbox 360"&&(g=null),E=="Xbox 360"&&/\bIEMobile\b/.test(i)&&O.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(m)||m&&!E&&!/Browser|Mobi/.test(m))&&(g=="Windows CE"||/Mobi/i.test(i)))m+=" Mobile";else if(m=="IE"&&le)try{y.external===null&&O.unshift("platform preview")}catch{O.unshift("embedded")}else(/\bBlackBerry\b/.test(E)||/\bBB10\b/.test(i))&&(a=(RegExp(E.replace(/ +/g," *")+"/([.\\d]+)","i").exec(i)||0)[1]||v)?(a=[a,/BB10/.test(i)],g=(a[1]?(E=null,B="BlackBerry"):"Device Software")+" "+a[0],v=null):this!=U&&E!="Wii"&&(le&&ie||/Opera/.test(m)&&/\b(?:MSIE|Firefox)\b/i.test(i)||m=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(g)||m=="IE"&&(g&&!/^Win/.test(g)&&v>5.5||/\bWindows XP\b/.test(g)&&v>8||v==8&&!/\bTrident\b/.test(i)))&&!u.test(a=w.call(U,i.replace(u,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),u.test(m)?(/\bIE\b/.test(a)&&g=="Mac OS"&&(g=null),a="identify"+a):(a="mask"+a,Ce?m=I(Ce.replace(/([a-z])([A-Z])/g,"$1 $2")):m="Opera",/\bIE\b/.test(a)&&(g=null),le||(v=null)),M=["Presto"],O.push(a));(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(i)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],m=="Safari"&&a[1].slice(-1)=="+"?(m="WebKit Nightly",Ee="alpha",v=a[1].slice(0,-1)):(v==a[1]||v==(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(i)||0)[1]))&&(v=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(i)||0)[1],a[0]==537.36&&a[2]==537.36&&parseFloat(a[1])>=28&&M=="WebKit"&&(M=["Blink"]),!le||!ae&&!a[1]?(M&&(M[1]="like Safari"),a=(a=a[0],a<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12")):(M&&(M[1]="like Chrome"),a=a[1]||(a=a[0],a<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:M!="Blink"?"27":"28")),M&&(M[1]+=" "+(a+=typeof a=="number"?".x":/[.+]/.test(a)?"":"+")),m=="Safari"&&(!v||parseInt(v)>45)?v=a:m=="Chrome"&&/\bHeadlessChrome/i.test(i)&&O.unshift("headless")),m=="Opera"&&(a=/\bzbov|zvav$/.exec(g))?(m+=" ",O.unshift("desktop mode"),a=="zvav"?(m+="Mini",v=null):m+="Mobile",g=g.replace(RegExp(" *"+a+"$"),"")):m=="Safari"&&/\bChrome\b/.exec(M&&M[1])?(O.unshift("desktop mode"),m="Chrome Mobile",v=null,/\bOS X\b/.test(g)?(B="Apple",g="iOS 4.3+"):g=null):/\bSRWare Iron\b/.test(m)&&!v&&(v=pt("Chrome")),v&&v.indexOf(a=/[\d.]+$/.exec(g))==0&&i.indexOf("/"+a+"-")>-1&&(g=b(g.replace(a,""))),g&&g.indexOf(m)!=-1&&!RegExp(m+" OS").test(g)&&(g=g.replace(RegExp(" *"+R(m)+" *"),"")),M&&!/\b(?:Avant|Nook)\b/.test(m)&&(/Browser|Lunascape|Maxthon/.test(m)||m!="Safari"&&/^iOS/.test(g)&&/\bSafari\b/.test(M[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(m)&&M[1])&&(a=M[M.length-1])&&O.push(a),O.length&&(O=["("+O.join("; ")+")"]),B&&E&&E.indexOf(B)<0&&O.push("on "+B),E&&O.push((/^on /.test(O[O.length-1])?"":"on ")+E),g&&(a=/ ([\d.+]+)$/.exec(g),Be=a&&g.charAt(g.length-a[0].length-1)=="/",g={architecture:32,family:a&&!Be?g.replace(a[0],""):g,version:a?a[1]:null,toString:function(){var j=this.version;return this.family+(j&&!Be?" "+j:"")+(this.architecture==64?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Te))&&!/\bi686\b/i.test(Te)?(g&&(g.architecture=64,g.family=g.family.replace(RegExp(" *"+a),"")),m&&(/\bWOW64\b/i.test(i)||le&&/\w(?:86|32)$/.test(_.cpuClass||_.platform)&&!/\bWin64; x64\b/i.test(i))&&O.unshift("32-bit")):g&&/^OS X/.test(g.family)&&m=="Chrome"&&parseFloat(v)>=39&&(g.architecture=64),i||(i=null);var X={};return X.description=i,X.layout=M&&M[0],X.manufacturer=B,X.name=m,X.prerelease=Ee,X.product=E,X.ua=i,X.version=m&&v,X.os=g||{architecture:null,family:null,version:null,toString:function(){return"null"}},X.parse=w,X.toString=br,X.version&&O.unshift(v),X.name&&O.unshift(m),g&&m&&!(g==String(g).split(" ")[0]&&(g==m.split(" ")[0]||E))&&O.push(E?"("+g+")":"on "+g),O.length&&(X.description=O.join(" ")),X}var T=w();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e.platform=T,define(function(){return T})):o&&l?U(T,function(i,y){o[y]=i}):e.platform=T}).call(De)});var Me,S,yt,Ar,ue,ht,_t,We,wt,Le={},St=[],kr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ge=Array.isArray;function ce(t,e){for(var r in e)t[r]=e[r];return t}function At(t){var e=t.parentNode;e&&e.removeChild(t)}function Cr(t,e,r){var o,l,s,d={};for(s in e)s=="key"?o=e[s]:s=="ref"?l=e[s]:d[s]=e[s];if(arguments.length>2&&(d.children=arguments.length>3?Me.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)d[s]===void 0&&(d[s]=t.defaultProps[s]);return Pe(t,d,o,l,null)}function Pe(t,e,r,o,l){var s={type:t,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++yt};return l==null&&S.vnode!=null&&S.vnode(s),s}function de(t){return t.children}function V(t,e){this.props=t,this.context=e}function fe(t,e){if(e==null)return t.__?fe(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?fe(t):null}function kt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return kt(t)}}function Je(t){(!t.__d&&(t.__d=!0)&&ue.push(t)&&!Oe.__r++||ht!==S.debounceRendering)&&((ht=S.debounceRendering)||_t)(Oe)}function Oe(){var t,e,r,o,l,s,d,u;for(ue.sort(We);t=ue.shift();)t.__d&&(e=ue.length,o=void 0,l=void 0,d=(s=(r=t).__v).__e,(u=r.__P)&&(o=[],(l=ce({},s)).__v=s.__v+1,je(u,s,l,r.__n,u.ownerSVGElement!==void 0,s.__h!=null?[d]:null,o,d??fe(s),s.__h),Lt(o,s),s.__e!=d&&kt(s)),ue.length>e&&ue.sort(We));Oe.__r=0}function Ct(t,e,r,o,l,s,d,u,h,k){var c,P,x,p,A,I,U,L=o&&o.__k||St,W=L.length;for(r.__k=[],c=0;c<e.length;c++)if((p=r.__k[c]=(p=e[c])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Pe(null,p,null,null,p):Ge(p)?Pe(de,{children:p},null,null,null):p.__b>0?Pe(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=r,p.__b=r.__b+1,(x=L[c])===null||x&&p.key==x.key&&p.type===x.type)L[c]=void 0;else for(P=0;P<W;P++){if((x=L[P])&&p.key==x.key&&p.type===x.type){L[P]=void 0;break}x=null}je(t,p,x=x||Le,l,s,d,u,h,k),A=p.__e,(P=p.ref)&&x.ref!=P&&(U||(U=[]),x.ref&&U.push(x.ref,null,p),U.push(P,p.__c||A,p)),A!=null?(I==null&&(I=A),typeof p.type=="function"&&p.__k===x.__k?p.__d=h=Tt(p,h,t):h=Et(t,p,x,L,A,h),typeof r.type=="function"&&(r.__d=h)):h&&x.__e==h&&h.parentNode!=t&&(h=fe(x))}for(r.__e=I,c=W;c--;)L[c]!=null&&(typeof r.type=="function"&&L[c].__e!=null&&L[c].__e==r.__d&&(r.__d=Pt(o).nextSibling),Ut(L[c],L[c]));if(U)for(c=0;c<U.length;c++)Ot(U[c],U[++c],U[++c])}function Tt(t,e,r){for(var o,l=t.__k,s=0;l&&s<l.length;s++)(o=l[s])&&(o.__=t,e=typeof o.type=="function"?Tt(o,e,r):Et(r,o,o,l,o.__e,e));return e}function Et(t,e,r,o,l,s){var d,u,h;if(e.__d!==void 0)d=e.__d,e.__d=void 0;else if(r==null||l!=s||l.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(l),d=null;else{for(u=s,h=0;(u=u.nextSibling)&&h<o.length;h+=1)if(u==l)break e;t.insertBefore(l,s),d=s}return d!==void 0?d:l.nextSibling}function Pt(t){var e,r,o;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(o=Pt(r)))return o}return null}function Tr(t,e,r,o,l){var s;for(s in r)s==="children"||s==="key"||s in e||Ue(t,s,null,r[s],o);for(s in e)l&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Ue(t,s,e[s],r[s],o)}function bt(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||kr.test(e)?r:r+"px"}function Ue(t,e,r,o,l){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)r&&e in r||bt(t.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||bt(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?o||t.addEventListener(e,s?xt:vt,s):t.removeEventListener(e,s?xt:vt,s);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function vt(t){return this.l[t.type+!1](S.event?S.event(t):t)}function xt(t){return this.l[t.type+!0](S.event?S.event(t):t)}function je(t,e,r,o,l,s,d,u,h){var k,c,P,x,p,A,I,U,L,W,R,f,b,w,T,i=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(h=r.__h,u=e.__e=r.__e,e.__h=null,s=[u]),(k=S.__b)&&k(e);try{e:if(typeof i=="function"){if(U=e.props,L=(k=i.contextType)&&o[k.__c],W=k?L?L.props.value:k.__:o,r.__c?I=(c=e.__c=r.__c).__=c.__E:("prototype"in i&&i.prototype.render?e.__c=c=new i(U,W):(e.__c=c=new V(U,W),c.constructor=i,c.render=Pr),L&&L.sub(c),c.props=U,c.state||(c.state={}),c.context=W,c.__n=o,P=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),i.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ce({},c.__s)),ce(c.__s,i.getDerivedStateFromProps(U,c.__s))),x=c.props,p=c.state,c.__v=e,P)i.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(i.getDerivedStateFromProps==null&&U!==x&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(U,W),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(U,c.__s,W)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(c.props=U,c.state=c.__s,c.__d=!1),c.__e=!1,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(y){y&&(y.__=e)}),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[],c.__h.length&&d.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(U,c.__s,W),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(x,p,A)})}if(c.context=W,c.props=U,c.__P=t,f=S.__r,b=0,"prototype"in i&&i.prototype.render){for(c.state=c.__s,c.__d=!1,f&&f(e),k=c.render(c.props,c.state,c.context),w=0;w<c._sb.length;w++)c.__h.push(c._sb[w]);c._sb=[]}else do c.__d=!1,f&&f(e),k=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++b<25);c.state=c.__s,c.getChildContext!=null&&(o=ce(ce({},o),c.getChildContext())),P||c.getSnapshotBeforeUpdate==null||(A=c.getSnapshotBeforeUpdate(x,p)),Ct(t,Ge(T=k!=null&&k.type===de&&k.key==null?k.props.children:k)?T:[T],e,r,o,l,s,d,u,h),c.base=e.__e,e.__h=null,c.__h.length&&d.push(c),I&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Er(r.__e,e,r,o,l,s,d,h);(k=S.diffed)&&k(e)}catch(y){e.__v=null,(h||s!=null)&&(e.__e=u,e.__h=!!h,s[s.indexOf(u)]=null),S.__e(y,e,r)}}function Lt(t,e){S.__c&&S.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(o){o.call(r)})}catch(o){S.__e(o,r.__v)}})}function Er(t,e,r,o,l,s,d,u){var h,k,c,P=r.props,x=e.props,p=e.type,A=0;if(p==="svg"&&(l=!0),s!=null){for(;A<s.length;A++)if((h=s[A])&&"setAttribute"in h==!!p&&(p?h.localName===p:h.nodeType===3)){t=h,s[A]=null;break}}if(t==null){if(p===null)return document.createTextNode(x);t=l?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,x.is&&x),s=null,u=!1}if(p===null)P===x||u&&t.data===x||(t.data=x);else{if(s=s&&Me.call(t.childNodes),k=(P=r.props||Le).dangerouslySetInnerHTML,c=x.dangerouslySetInnerHTML,!u){if(s!=null)for(P={},A=0;A<t.attributes.length;A++)P[t.attributes[A].name]=t.attributes[A].value;(c||k)&&(c&&(k&&c.__html==k.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(Tr(t,x,P,l,u),c)e.__k=[];else if(Ct(t,Ge(A=e.props.children)?A:[A],e,r,o,l&&p!=="foreignObject",s,d,s?s[0]:r.__k&&fe(r,0),u),s!=null)for(A=s.length;A--;)s[A]!=null&&At(s[A]);u||("value"in x&&(A=x.value)!==void 0&&(A!==t.value||p==="progress"&&!A||p==="option"&&A!==P.value)&&Ue(t,"value",A,P.value,!1),"checked"in x&&(A=x.checked)!==void 0&&A!==t.checked&&Ue(t,"checked",A,P.checked,!1))}return t}function Ot(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(o){S.__e(o,r)}}function Ut(t,e,r){var o,l;if(S.unmount&&S.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Ot(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){S.__e(s,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(l=0;l<o.length;l++)o[l]&&Ut(o[l],e,r||typeof t.type!="function");r||t.__e==null||At(t.__e),t.__=t.__e=t.__d=void 0}function Pr(t,e,r){return this.constructor(t,r)}function Mt(t,e,r){var o,l,s;S.__&&S.__(t,e),l=(o=typeof r=="function")?null:r&&r.__k||e.__k,s=[],je(e,t=(!o&&r||e).__k=Cr(de,null,[t]),l||Le,Le,e.ownerSVGElement!==void 0,!o&&r?[r]:l?null:e.firstChild?Me.call(e.childNodes):null,s,!o&&r?r:l?l.__e:e.firstChild,o),Lt(s,t)}function Dt(t,e){var r={__c:e="__cC"+wt++,__:t,Consumer:function(o,l){return o.children(l)},Provider:function(o){var l,s;return this.getChildContext||(l=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(d){this.props.value!==d.value&&l.some(function(u){u.__e=!0,Je(u)})},this.sub=function(d){l.push(d);var u=d.componentWillUnmount;d.componentWillUnmount=function(){l.splice(l.indexOf(d),1),u&&u.call(d)}}),o.children}};return r.Provider.__=r.Consumer.contextType=r}Me=St.slice,S={__e:function(t,e,r,o){for(var l,s,d;e=e.__;)if((l=e.__c)&&!l.__)try{if((s=l.constructor)&&s.getDerivedStateFromError!=null&&(l.setState(s.getDerivedStateFromError(t)),d=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,o||{}),d=l.__d),d)return l.__E=l}catch(u){t=u}throw t}},yt=0,Ar=function(t){return t!=null&&t.constructor===void 0},V.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ce({},this.state),typeof t=="function"&&(t=t(ce({},r),this.props)),t&&ce(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Je(this))},V.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Je(this))},V.prototype.render=de,ue=[],_t=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,We=function(t,e){return t.__v.__b-e.__v.__b},Oe.__r=0,wt=0;var ir=ne(oe(),1);var Lr=`@charset "UTF-8";
/*! modern-normalize v2.0.0 | MIT License | https://github.com/sindresorhus/modern-normalize */*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;line-height:1.15;-moz-tab-size:4;tab-size:4}body{margin:0}hr{color:inherit;height:0}abbr[title]{text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}::-moz-focus-inner{border-style:none;padding:0}:-moz-focusring{outline:1px dotted ButtonText}:-moz-ui-invalid{box-shadow:none}legend{padding:0}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}h1,h2,h3,h4,h5,li,ol,p,ul{margin:0;padding:0}body{--background-primary:#00171d;--background-secondary:#002b36;--background-tertiary:#000;--foreground:#fdf6e3;--red:#dc322f;--light-red:#e35d5b;--dark-red:#b9221f;--orange:#cb4b16;--light-orange:#e8632c;--dark-orange:#9d3a11;--yellow:#b58900;--light-yellow:#e8b000;--dark-yellow:#826200;--green:#859900;--light-green:#b1cc00;--dark-green:#596600;--cyan:#2aa198;--light-cyan:#35c9be;--dark-cyan:#1f7972;--blue:#268bd2;--light-blue:#4ca2df;--dark-blue:#1e6ea7;--violet:#6c71c4;--light-violet:#9094d3;--dark-violet:#484fb5;--magenta:#d33682;--light-magenta:#dc609c;--dark-magenta:#b02669}.trx-hidden{display:none!important}.setting.enabled{--setting-color:var(--green);--setting-color-alt:var(--dark-green)}.setting.disabled{--setting-color:var(--red);--setting-color-alt:var(--dark-red)}.setting header{border-bottom:2px solid var(--setting-color);display:flex;margin-bottom:8px;padding-bottom:8px}.setting header h2{margin-right:auto}.setting header button{background-color:var(--setting-color);border:none;color:var(--foreground);font-weight:700;min-width:10rem;padding:4px 0}.setting header button:hover{background-color:var(--setting-color-alt);cursor:pointer}.setting .content br{margin-bottom:8px}.setting .content code{background-color:var(--background-primary)}.setting .content p{line-height:125%;margin-bottom:8px}.setting .info{border:1px solid var(--blue);padding:8px}.setting .divider{border-top:1px solid var(--blue);margin:16px 0}.setting .button{--button-color:var(--save-status-color,var(--blue));--button-color-alt:var(--dark-blue);background-color:var(--button-color);border:none;color:var(--foreground);font-weight:700;min-width:15rem;padding:8px 0}.setting .button:hover{background-color:var(--button-color-alt);cursor:pointer}.setting .button.destructive{--button-color:var(--red);--button-color-alt:var(--dark-red)}.setting .import-export{display:grid;gap:8px;grid-template-columns:repeat(2,1fr);margin-bottom:8px}.setting .import-export p{grid-column:1/3;margin:0}.setting .misc-utilities .inner{display:grid;gap:8px;grid-template-columns:repeat(2,1fr)}.setting .checkbox-list{display:flex;flex-direction:column;gap:8px;list-style:none;margin-bottom:8px}.setting .checkbox-list label{cursor:pointer;display:inline-flex;user-select:none}.setting .checkbox-list input{cursor:pointer;margin-right:8px}.setting .user-label-values{display:flex;flex-direction:column;gap:8px;list-style:square;padding:8px 8px 8px 24px}.setting .username-colors-controls{display:grid;gap:8px;grid-template-columns:repeat(3,1fr)}.setting .username-colors-controls .save-button.unsaved-changes{background-color:var(--yellow)}.setting .username-colors-editor{display:grid;gap:8px;grid-template-columns:auto auto min-content;margin-top:8px}.setting .username-colors-editor input{background-color:var(--background-primary);border:1px solid var(--save-status-color);color:var(--foreground);padding:8px}.setting .username-colors-editor .button{min-width:10rem}.setting .has-save-status{--save-status-color:var(--blue)}.setting .has-save-status.unsaved-changes{--save-status-color:var(--unsaved-changes-color)}.setting .styled-checkbox{align-items:center;background-color:var(--background-primary);border:1px solid var(--blue);cursor:pointer;display:flex;padding:8px}.setting .styled-checkbox input[type=checkbox]{margin-right:1rem}.setting .styled-select,.setting .styled-text-input{background-color:var(--background-primary);border:1px solid var(--save-status-color,var(--blue));color:var(--foreground);padding:8px}.setting .margin-bottom-8{margin-bottom:8px}.setting{--unsaved-changes-color:var(--yellow)}.setting .hide-topics-matcher-explanation{margin-bottom:8px}.setting .hide-topics-matcher-explanation p{margin:0;padding:8px}.setting .hide-topics-matcher-explanation ul{margin-left:2rem;padding-bottom:8px}.setting .hide-topics-matcher-explanation ul li{margin-bottom:4px}.setting .hide-topics-matcher-explanation ul li:last-child{margin-bottom:0}.setting .hide-topics-main-button-group{display:flex;gap:8px;margin-bottom:8px}.setting .hide-topics-main-button-group button.unsaved-changes{background-color:var(--unsaved-changes-color)}.setting .hide-topics-predicate-editors{display:flex;flex-direction:column;gap:8px;width:100%}.setting .hide-topics-editor{display:grid;gap:8px;grid-template-columns:min-content auto min-content}.setting .hide-topics-editor button{min-width:10rem}.setting .hide-topics-editor input{background-color:var(--background-primary);border:1px solid var(--save-status-color);color:var(--foreground);padding:8px}.setting .hide-topics-editor input[disabled]{filter:grayscale(100%)}.setting .hide-topics-editor select{padding-right:16px}.miscellaneous-features-list{display:flex;flex-direction:column;gap:8px;list-style:none}.miscellaneous-features-list li{--border-color:var(--red);background-color:var(--background-primary);border:1px solid var(--border-color)}.miscellaneous-features-list li.enabled{--border-color:var(--green)}.miscellaneous-features-list li .styled-checkbox{border:none;border-bottom:1px solid var(--border-color)}.miscellaneous-features-list .description{margin:8px}html{font-size:62.5%}body{background-color:var(--background-primary);color:var(--foreground);display:flex;flex-direction:column;font-size:1.5rem;gap:16px;margin:16px}a{color:var(--light-blue)}a:hover{color:var(--magenta)}details{border:1px solid var(--blue)}details[open] summary{border-bottom:1px solid var(--blue)}details summary{padding:8px}details summary:hover{background-color:var(--blue);cursor:pointer}details .inner{padding:8px}.main-wrapper,.markdown-toolbar-editor,.page-footer,.page-header,.user-label-editor{margin-left:auto;margin-right:auto;width:1200px}@media (max-width:1200px){.main-wrapper,.markdown-toolbar-editor,.page-footer,.page-header,.user-label-editor{width:100%}}.page-header{align-items:center;display:flex}.page-header img{height:4rem}.page-header h1{align-items:center;display:flex;gap:16px;margin-right:auto}.page-header .version{align-self:flex-end;border-bottom-width:2px;font-weight:700}.page-footer{background-color:var(--background-secondary);padding:16px}.page-footer a{font-weight:700}.page-footer p:not(:last-child){margin-bottom:8px}.main-wrapper{display:grid;gap:16px;grid-template-columns:300px auto}.page-aside{background-color:var(--background-secondary);padding:8px}.page-aside ul{list-style:none}.page-aside li{border:1px solid transparent;font-weight:700;padding:8px}.page-aside li:hover{background-color:var(--light-blue);border-color:var(--light-blue);cursor:pointer}.page-aside li:hover .is-new{color:var(--dark-blue)}.page-aside li:not(:last-child){margin-bottom:8px}.page-aside li.active{border-color:var(--light-blue)}.page-aside li.enabled{display:flex}.page-aside li.enabled:after{color:var(--light-green);content:"\u25CF";margin-left:auto}.page-aside li .is-new,.page-aside li .is-updated{font-size:60%;font-weight:700;vertical-align:top}.page-aside li .is-new{color:var(--light-blue)}.page-aside li .is-updated{color:var(--light-green)}.page-main{background-color:var(--background-secondary);padding:16px}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(Lr));var Or=0;function n(t,e,r,o,l,s){var d,u,h={};for(u in e)u=="ref"?d=e[u]:h[u]=e[u];var k={type:t,props:h,key:r,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Or,__source:l,__self:s};if(typeof t=="function"&&(d=t.defaultProps))for(u in d)h[u]===void 0&&(h[u]=d[u]);return S.vnode&&S.vnode(k),k}function K(t){return n("a",{class:t.class,href:t.url,target:"_blank",rel:"noopener",children:t.text})}function It(){window.TildesReExtended===void 0&&(window.TildesReExtended={debug:!1})}function G(t,e=!1){let r="",o="[TRX]";e&&(o="%c"+o,r="background-color: #dc322f; margin-right: 9px;"),(window.TildesReExtended?.debug||e)&&(r.length>0?console.debug(o,r,t):console.debug(o,t))}var se=ne(zt(),1);function qe(t,e){let r="Thank you for taking the time to report a bug!";r+=`
  Please make sure the information below is correct.`,t==="gitlab"&&(r+=`
  Don't forget to set a title for the issue!`);let o=se.default.layout??"<unknown>",l=se.default.name??"<unknown>",s=se.default.os?.toString()??"<unknown>",d=se.default.version??"<unknown>",u=`<h2>Bug Report</h2>
<!--
  ${r}
-->
<h3>Info</h3>

| Type | Value |
|------|-------|
| Extension Version | ${e} |
| Operating System | ${s} |
| Browser | ${l} ${d} (${o}) |
`;if(se.default.manufacturer!==null&&se.default.product!==null){let h=se.default.manufacturer,k=se.default.product;u+=`| Device | ${h} ${k} |
`}return u+=`

<!--
  Please explain in sufficient detail what the problem is. When possible,
  including an image or video showing the problem also helps immensely, but it's
  not required.
-->


`,u}var Nt=ne(oe(),1);async function H(t){let e=t.storage??Nt.default.storage.local,r=(await e.get(t.key))[t.key];return new Ur({key:t.key,deserialize:t.deserialize,serialize:t.serialize??JSON.stringify,storage:e,value:r===void 0?t.value:t.deserialize(r)})}var Ur=class{deserialize;key;serialize;storage;inner;constructor(t){this.deserialize=t.deserialize,this.key=t.key,this.serialize=t.serialize,this.storage=t.storage,this.inner=t.value}get value(){return this.inner}set value(t){this.inner=t}async remove(){await this.storage.remove(this.key)}async save(){await this.storage.set({[this.key]:this.serialize(this.inner)})}};var Z=ne(oe(),1);var be=(r=>(r.Hashed="hashed",r.Numerical="numerical",r))(be||{});function Vt(t){return Object.values(be).includes(t)}var Y=(p=>(p.AnonymizeUsernames="anonymize-usernames",p.Autocomplete="autocomplete",p.BackToTop="back-to-top",p.Debug="debug",p.HideTopics="hide-topics",p.HideVotes="hide-votes",p.JumpToNewComment="jump-to-new-comment",p.MarkdownToolbar="markdown-toolbar",p.Miscellaneous="miscellaneous-features",p.ThemedLogo="themed-logo",p.ThemeSwitcher="theme-switcher",p.UserLabels="user-labels",p.UsernameColors="username-colors",p))(Y||{}),Fe=(u=>(u.CommentAnchorFix="comment-anchor-fix",u.GroupListSubscribeButtons="group-list-subscribe-buttons",u.HideOwnUsername="hide-own-username",u.ShowTopicAuthor="show-topic-author",u.TopicInfoIgnore="topic-info-ignore",u.TopicLogEnhancements="topic-log-enhancements",u.UnignoreAllButton="unignore-all-button",u))(Fe||{});var Ke=ne(oe(),1);var Ie=(s=>(s.DomainIncludes="domain-includes",s.TildesUsernameEquals="tildes-username-equals",s.TitleIncludes="title-includes",s.UserLabelEquals="user-label-equals",s.VotedOnTopic="voted-on-topic",s))(Ie||{});function Rt(t){return Object.values(Ie).includes(t)}async function Ye(t){return H({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:`${"hide-topics"}-${t.id}`,value:t,storage:Ke.default.storage.sync})}async function Ht(){let t=await Ke.default.storage.sync.get(),e=[];for(let[r,o]of Object.entries(t))r.startsWith("hide-topics")&&e.push(await Ye(JSON.parse(o)));return e}var $t=["~anime","~arts","~books","~comp","~creative","~design","~enviro","~finance","~food","~games","~games.game_design","~games.tabletop","~health","~hobbies","~humanities","~lgbt","~life","~misc","~movies","~music","~news","~science","~space","~sports","~talk","~tech","~test","~tildes","~tildes.official","~tv"];var Ze=ne(oe(),1);async function ve(t){return H({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:`${"username-colors"}-${t.id}`,value:t,storage:Ze.default.storage.sync})}async function Bt(){let t=await Ze.default.storage.sync.get(),e=[];for(let[r,o]of Object.entries(t))r.startsWith("username-colors")&&e.push(await ve(JSON.parse(o)));return e}async function Wt(t){for(let e of t)await e.save()}var Qe=ne(oe(),1);async function et(t){return H({deserialize:e=>JSON.parse(e),serialize:e=>JSON.stringify(e),key:`${"user-labels"}-${t.id}`,value:t,storage:Qe.default.storage.sync})}async function Jt(){let t=await Qe.default.storage.sync.get(),e=[];for(let[r,o]of Object.entries(t))r.startsWith("user-labels")&&e.push(await et(JSON.parse(o)));return e}async function Gt(t){for(let e of t)await e.save()}var Mr=ne(oe(),1);var Xt=(r=>(r.Cursor="<cursor>",r.SelectedCursor="<selected-cursor>",r))(Xt||{}),{Cursor:te,SelectedCursor:jt}=Xt,Gn=[{enabled:!0,inDropdown:!1,markdown:`[${te}](${jt})`,name:"Link"},{enabled:!0,inDropdown:!1,markdown:`\`\`\`${jt}
${te}
\`\`\``,name:"Code"},{enabled:!0,inDropdown:!1,markdown:`~~${te}~~`,name:"Strikethrough"},{enabled:!0,inDropdown:!1,markdown:`<details>
<summary>Click to expand spoiler.</summary>

${te}
</details>`,name:"Spoilerbox"},{enabled:!0,inDropdown:!0,markdown:`**${te}**`,name:"Bold"},{enabled:!0,inDropdown:!0,markdown:`

---

${te}`,name:"Horizontal Divider"},{enabled:!0,inDropdown:!0,markdown:`\`${te}\``,name:"Inline Code"},{enabled:!0,inDropdown:!0,markdown:`*${te}*`,name:"Italic"},{enabled:!0,inDropdown:!0,markdown:`1. ${te}`,name:"Ordered List"},{enabled:!0,inDropdown:!0,markdown:`<small>${te}</small>`,name:"Small"},{enabled:!0,inDropdown:!0,markdown:`* ${te}`,name:"Unordered List"}].map((t,e)=>({...t,id:e-100,position:e+1}));var Dr={"enabled-features":H({deserialize:t=>new Set(JSON.parse(t)),serialize:t=>JSON.stringify(Array.from(t)),key:"enabled-features",value:new Set(["back-to-top","jump-to-new-comment","markdown-toolbar","user-labels"]),storage:Z.default.storage.sync}),"known-groups":H({deserialize:t=>new Set(JSON.parse(t)),serialize:t=>JSON.stringify(Array.from(t)),key:"known-groups",value:new Set($t),storage:Z.default.storage.sync}),"latest-active-feature-tab":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"latest-active-feature-tab",value:"debug",storage:Z.default.storage.sync}),"miscellaneous-enabled-features":H({deserialize:t=>new Set(JSON.parse(t)),serialize:t=>JSON.stringify(Array.from(t)),key:"miscellaneous-enabled-features",value:new Set(["comment-anchor-fix"]),storage:Z.default.storage.sync}),"on-site-new-label":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"on-site-new-label",value:!0,storage:Z.default.storage.sync}),"data-version":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"data-version",value:"2.0.0",storage:Z.default.storage.sync}),"randomize-username-colors":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"randomize-username-colors",value:!1,storage:Z.default.storage.sync}),"themes-list":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"themes-list",value:[["white","White"],["solarized-light","Solarized Light"],["solarized-dark","Solarized Dark"],["dracula","Dracula"],["atom-one-dark","Atom One Dark"],["black","Black"],["zenburn","Zenburn"],["gruvbox-light","Gruvbox Light"],["gruvbox-dark","Gruvbox Dark"],["love-dark","Love Dark"],["love-light","Love Light"]],storage:Z.default.storage.local}),"themes-list-updated-date":H({deserialize:t=>new Date(t),serialize:t=>t.toISOString(),key:"themes-list-updated-date",value:new Date("2023-01-01"),storage:Z.default.storage.local}),"anonymize-usernames":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"anonymize-usernames",value:{replacementType:"numerical"},storage:Z.default.storage.sync}),"hide-topics":Ht(),"hide-votes":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"hide-votes",value:{otherComments:!1,otherTopics:!1,ownComments:!0,ownTopics:!0},storage:Z.default.storage.sync}),"theme-switcher":H({deserialize:t=>JSON.parse(t),serialize:t=>JSON.stringify(t),key:"theme-switcher",value:{hourA:"09:00",hourB:"21:00",themeA:"white",themeB:"black"},storage:Z.default.storage.sync}),"user-labels":Jt(),"username-colors":Bt()};async function N(t){return Dr[t]}var ze=Dt(null);var Re=ne(oe(),1);function qt(t){let e={userLabels:[],usernameColors:[]};t.data?.userLabels!==void 0&&(e.userLabels=t.data.userLabels),t.data?.usernameColors!==void 0&&(e.usernameColors=t.data.usernameColors);for(let[r,o]of Object.entries(t))r.startsWith("userLabel")?e.userLabels.push(o):r.startsWith("usernameColor")&&e.usernameColors.push(o);return e}var Kt=[{version:"2.0.0",async migrate(t){let e=qt(t);t.data.userLabels=e.userLabels,t.data.usernameColors=e.usernameColors;let r=[],o=[];for(let h of t.data.usernameColors)r.push(await ve(h));for(let h of t.data.userLabels)o.push(await et(h));await Wt(r),await Gt(o);let l=await N("hide-votes");l.value={otherComments:t.data.hideVotes.comments,otherTopics:t.data.hideVotes.topics,ownComments:t.data.hideVotes.ownComments,ownTopics:t.data.hideVotes.ownTopics},await l.save();let s=await N("known-groups");s.value=new Set(t.data.knownGroups),await s.save();let d=await N("data-version");d.value="2.0.0",await d.save();let u=await N("enabled-features");u.value.clear();for(let[h,k]of Object.entries(t.features))if(k){let c=h.replace(/([A-Z])/g,"-$1").toLowerCase();if(Object.values(Y).includes(c))u.value.add(c);else throw new Error(`Unknown key: ${h}`)}await u.save()}}];var rt,q,tt,Yt,Zt=0,sr=[],Ne=[],Qt=S.__b,er=S.__r,tr=S.diffed,rr=S.__c,nr=S.unmount;function Fr(t,e){S.__h&&S.__h(q,t,Zt||e),Zt=0;var r=q.__H||(q.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ne}),r.__[t]}function ar(t){var e=q.context[t.__c],r=Fr(rt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(q)),e.props.value):t.__}function Ir(){for(var t;t=sr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ve),t.__H.__h.forEach(nt),t.__H.__h=[]}catch(e){t.__H.__h=[],S.__e(e,t.__v)}}S.__b=function(t){q=null,Qt&&Qt(t)},S.__r=function(t){er&&er(t),rt=0;var e=(q=t.__c).__H;e&&(tt===q?(e.__h=[],q.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Ne,r.__N=r.i=void 0})):(e.__h.forEach(Ve),e.__h.forEach(nt),e.__h=[],rt=0)),tt=q},S.diffed=function(t){tr&&tr(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(sr.push(e)!==1&&Yt===S.requestAnimationFrame||((Yt=S.requestAnimationFrame)||zr)(Ir)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Ne&&(r.__=r.__V),r.i=void 0,r.__V=Ne})),tt=q=null},S.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ve),r.__h=r.__h.filter(function(o){return!o.__||nt(o)})}catch(o){e.some(function(l){l.__h&&(l.__h=[])}),e=[],S.__e(o,r.__v)}}),rr&&rr(t,e)},S.unmount=function(t){nr&&nr(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(o){try{Ve(o)}catch(l){e=l}}),r.__H=void 0,e&&S.__e(e,r.__v))};var or=typeof requestAnimationFrame=="function";function zr(t){var e,r=function(){clearTimeout(o),or&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);or&&(e=requestAnimationFrame(r))}function Ve(t){var e=q,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),q=e}function nt(t){var e=q;t.__c=t.__(),q=e}var ot=class extends V{render(){let{props:e}=this,r=ar(ze),o=e.enabled?"Enabled":"Disabled";return n("header",{children:[n("h2",{children:e.title}),n("button",{onClick:()=>{r.toggleFeature(e.feature)},children:o})]})}};function F(t){let e=t.children??n("p",{class:"info",children:"This setting still needs a component!"}),r=(t.enabled?"Enabled":"Disabled").toLowerCase();return n("section",{class:`setting ${t.class} ${r}`,children:[n(ot,{...t}),n("div",{class:"content",children:e})]})}async function Nr(t){let e=t.target.files;if(e===null){G("No file imported.");return}let r=new window.FileReader;r.addEventListener("load",async()=>{let o;try{o=JSON.parse(r.result.toString())}catch(l){G(l,!0);return}if(!(o instanceof Object)){G("Imported data is not an object",!0);return}o.version==="1.1.2"?await Kt[0].migrate(o):await Re.default.storage.sync.set(o),G("Successfully imported your settings, reloading the page to apply."),setTimeout(()=>{window.location.reload()},1e3)}),r.addEventListener("error",()=>{G(r.error,!0),r.abort()}),r.readAsText(e[0])}async function Vr(t){t.preventDefault();let e=await Re.default.storage.sync.get(),r=new window.Blob([JSON.stringify(e,null,2)],{type:"text/json"}),o=URL.createObjectURL(r);try{await Re.default.downloads.download({filename:"tildes-reextended-sync-data.json",url:o,saveAs:!0})}catch(l){G(l)}finally{setTimeout(()=>{URL.revokeObjectURL(o)},60*1e3)}}function st(t){return n(F,{...t,children:[n("p",{class:"info",children:"This feature will make debugging logs output to the console when enabled."}),n("p",{children:["Tildes ReExtended is a from-scratch recreation of the original"," ",n(K,{url:"https://github.com/theCrius/tildes-extended",text:"Tildes Extended"})," web extension by ",n(K,{url:"https://tildes.net/user/crius",text:"Crius"}),". Open-sourced with the"," ",n(K,{url:"https://gitlab.com/tildes-community/tildes-reextended/blob/main/LICENSE",text:"MIT License"})," and maintained as a ",n(K,{url:"https://gitlab.com/tildes-community",text:"Tildes Community project"}),"."]}),n("p",{children:["To report bugs or request new features use the links at the bottom of this page, check out the ",n(K,{url:"https://gitlab.com/tildes-community/tildes-reextended/-/issues",text:"GitLab issue tracker"})," or ",n(K,{url:"https://tildes.net/user/Community/new_message",text:"message Community"})," on Tildes."]}),n("div",{class:"divider"}),n("div",{class:"import-export",children:[n("p",{children:"Note that importing settings will delete and overwrite your existing ones."}),n("input",{id:"import-settings",onChange:Nr,class:"trx-hidden",accept:"application/json",type:"file"}),n("button",{onClick:()=>{document.querySelector("#import-settings").click()},class:"button",children:"Import Settings"}),n("button",{onClick:Vr,class:"button",children:"Export Settings"})]})]})}var xe=class extends V{constructor(e){super(e),this.state={data:void 0}}async componentDidMount(){let e=await N("anonymize-usernames");this.setState({data:e})}replacementTypeChanged=async e=>{let r=e.target.value,{data:o}=this.state;o===void 0||!Vt(r)||(o.value.replacementType=r,await o.save(),this.setState({data:o}))};render(){let{data:e}=this.state;if(e===void 0)return;let r=e.value.replacementType,o=Object.values(be).map(l=>n("option",{selected:l===r,value:l,children:l.replace(/-/g," ").replace(/(\b[a-z])/gi,s=>s.toUpperCase())}));return n(F,{...this.props,children:[n("p",{class:"info",children:['Anonymizes usernames by replacing them with an incrementing "Anonymous #" or a SHA-256 hash of the username.',n("br",{}),"Note that User Labels and Username Colors will still be applied to any usernames as normal."]}),n("ul",{class:"checkbox-list",children:n("li",{children:[n("label",{for:"anonymize-usernames-replacement-type",children:"Replacement type:"})," ",n("select",{class:"styled-select",name:"anonymize-usernames-replacement-type",id:"anonymize-usernames-replacement-type",onChange:this.replacementTypeChanged,children:o})]})})]})}};function at(t){return n(F,{...t,children:n("p",{class:"info",children:["Adds autocompletion in textareas for user mentions (starting with"," ",n("code",{children:"@"}),") and groups (starting with ",n("code",{children:"~"}),").",n("br",{}),"When an autocompletion list is shown you can press ",n("code",{children:"Tab"})," to move down the list and ",n("code",{children:"Shift+Tab"})," to move up the list. To fill in your highlighted match press ",n("code",{children:"Enter"}),"."]})})}function it(t){return n(F,{...t,children:n("p",{class:"info",children:"Adds a hovering button to the bottom-right of all pages once you've scrolled down far enough that, when clicked, will scroll you back to the top of the page."})})}var ye=class extends V{constructor(e){super(e),this.state={predicates:[],predicatesToRemove:[],unsavedPredicateIds:[]}}async componentDidMount(){this.setState({predicates:await N("hide-topics")})}newPredicate=async()=>{let{predicates:e,unsavedPredicateIds:r}=this.state;e.sort((l,s)=>s.value.id-l.value.id);let o=(e[0]?.value.id??0)+1;e.push(await Ye({id:o,matcher:"domain-includes",value:"example.org"})),r.push(o),this.setState({predicates:e,unsavedPredicateIds:r})};onInput=(e,r,o)=>{let{predicates:l,unsavedPredicateIds:s}=this.state,d=l.findIndex(({value:h})=>h.id===r);if(d===-1){G(`Tried to edit unknown predicate with ID: ${r}`);return}let u=e.target.value;switch(o){case"matcher":{if(Rt(u))l[d].value.matcher=u;else{G(`Unknown HideTopicMatcher: ${u}`,!0);return}break}case"value":{l[d].value.value=u;break}default:{G(`Can't edit predicate key: ${o}`,!0);return}}s.push(r),this.setState({predicates:l,unsavedPredicateIds:s})};remove=e=>{let{predicates:r,predicatesToRemove:o,unsavedPredicateIds:l}=this.state,s=r.findIndex(({value:d})=>d.id===e);if(s===-1){G(`Tried to remove unknown predicate with ID: ${e}`);return}o.push(...r.splice(s,1)),l.push(e),this.setState({predicates:r,predicatesToRemove:o,unsavedPredicateIds:l})};save=async()=>{let{predicates:e,predicatesToRemove:r}=this.state;for(let o of e)await o.save();for(let o of r)await o.remove();this.setState({predicatesToRemove:[],unsavedPredicateIds:[]})};render(){let{predicates:e,unsavedPredicateIds:r}=this.state;e.sort((s,d)=>s.value.id-d.value.id);let o=e.map(({value:s})=>{let d=x=>{this.onInput(x,s.id,"matcher")},u=x=>{this.onInput(x,s.id,"value")},h=()=>{this.remove(s.id)},k=Object.values(Ie).map(x=>n("option",{selected:s.matcher===x,value:x,children:x.replace(/-/g," ").replace(/(\b[a-z])/gi,p=>p.toUpperCase())})),c=r.includes(s.id)?"unsaved-changes":"",P=["voted-on-topic"].includes(s.matcher);return n("div",{class:`has-save-status hide-topics-editor ${c}`,children:[n("select",{class:"styled-select",onChange:d,children:k}),n("input",{disabled:P,type:"text",placeholder:P?"No value needed":"Value to match",value:s.value,onInput:u}),n("button",{class:"button destructive",onClick:h,children:"Remove"})]})}),l=r.length>0;return n(F,{...this.props,children:[n("p",{class:"info",children:["Hide topics from the topic listing matching custom predicates.",n("br",{}),"Topics will be hidden when any of your predicates match and you can unhide them by clicking a button that will appear at the bottom of the sidebar. The topics will then show themselves and have a red border.",n("br",{}),"For hiding topics with certain tags, Tildes can do that natively via your"," ",n("a",{href:"https://tildes.net/settings/filters",children:"filtered tags settings"}),"."]}),n("details",{class:"hide-topics-matcher-explanation",children:[n("summary",{children:"Matcher explanations"}),n("p",{children:"All matches are done without taking casing into account, so you don't have to care about upper or lowercase letters."}),n("ul",{children:[n("li",{children:[n("b",{children:"Domain Includes"})," will match the domain of all topic links (including text topics). For example with the link"," ",n("code",{children:"https://tildes.net/~tildes"}),', "tildes.net" is what will be matched against. If your value is included in the domain anywhere the topic will be hidden.']}),n("li",{children:[n("b",{children:"Tildes Username Equals"})," will match the topic author's username. If your value is exactly the same as the topic author's the topic will be hidden."]}),n("li",{children:[n("b",{children:"Title Includes"})," will match the topic title. If your value is anywhere in the title the topic will be hidden."]}),n("li",{children:[n("b",{children:"User Label Equals"}),' will match any user labels you have applied to the topic author. For example if you set a "Hide Topics" user labels matcher and then add a user label to someone with "Hide Topics" as the text, their topics will be hidden.']}),n("li",{children:[n("b",{children:"Voted On Topic"})," will match any topic that you have voted on and hide it. You do not have to put in a value for this matcher."]})]})]}),n("div",{class:"hide-topics-main-button-group",children:[n("button",{class:"button",onClick:this.newPredicate,children:"New Predicate"}),n("button",{class:`button ${l?"unsaved-changes":""}`,onClick:this.save,children:["Save",l?"*":""]})]}),n("div",{class:"hide-topics-predicate-editors",children:o})]})}};var _e=class extends V{constructor(e){super(e),this.state={hideVotes:void 0}}async componentDidMount(){this.setState({hideVotes:await N("hide-votes")})}toggle(e){let r=this.state.hideVotes;r.value[e]=!r.value[e],r.save(),this.setState({hideVotes:r})}render(){let{hideVotes:e}=this.state;if(e===void 0)return;let o=[{label:"Your comments",target:"ownComments"},{label:"Your topics",target:"ownTopics"},{label:"Other's comments",target:"otherComments"},{label:"Other's topics",target:"otherTopics"}].map(({label:l,target:s})=>n("li",{children:n("label",{class:"styled-checkbox",children:[n("input",{type:"checkbox",checked:e.value[s],onClick:()=>{this.toggle(s)}}),l]})}));return n(F,{...this.props,children:[n("p",{class:"info",children:"Hides vote counts from topics and comments of yourself or other people."}),n("ul",{class:"checkbox-list",children:o})]})}};function lt(t){return n(F,{...t,children:n("p",{class:"info",children:"Adds a hovering button to the bottom-right of pages with new comments that, when clicked, will scroll you to the next new comment."})})}function ct(t){return n(F,{...t,children:n("p",{class:"info",children:["Adds a toolbar with a selection of Markdown snippets that when used will insert the according Markdown where your cursor is. Particularly useful for the"," ",n(K,{url:"https://docs.tildes.net/instructions/text-formatting#expandable-sections",text:"expandable section"}),"/spoilerbox syntax. If you have text selected, the Markdown will be inserted around your text.",n("br",{}),"You can edit the available snippets and their position in the toolbar using the"," ",n("a",{href:"/options/markdown-toolbar-editor.html",children:"Markdown Toolbar Editor"}),"."]})})}function Rr({feature:t}){return t==="comment-anchor-fix"?n("p",{class:"description",children:["Uncollapses the linked-to comment if it is collapsed,"," ",n("a",{href:"https://gitlab.com/tildes/tildes/-/issues/256",children:"#256"}),"."]}):t==="group-list-subscribe-buttons"?n("p",{class:"description",children:"Add Subscribe and Unsubscribe buttons to the group list."}):t==="hide-own-username"?n("p",{class:"description",children:"Hide your username for more private browsing."}):t==="show-topic-author"?n("p",{class:"description",children:"Always show the topic author's username in the topic listing."}):t==="topic-info-ignore"?n("p",{class:"description",children:"Moves the topic ignore button to be in the info section next to the posted date."}):t==="topic-log-enhancements"?n("p",{class:"description",children:"Enhance the topic log entries by adding text diffs, links and layout adjustments. Also automatically expands the topic log."}):t==="unignore-all-button"?n("p",{class:"description",children:'Add an "Unignore All" button to your list of ignored topics.'}):n(de,{})}var we=class extends V{constructor(e){super(e),this.state={enabledFeatures:void 0}}async componentDidMount(){this.setState({enabledFeatures:await N("miscellaneous-enabled-features")})}toggleFeature=async e=>{let{enabledFeatures:r}=this.state;r.value.has(e)?r.value.delete(e):r.value.add(e),this.setState({enabledFeatures:r}),await r.save()};render(){let{enabledFeatures:e}=this.state;if(e===void 0)return n(de,{});let r=Object.values(Fe).map(o=>{let l=e.value.has(o);return n("li",{class:l?"enabled":"",children:[n("label",{class:"styled-checkbox",for:o,children:[n("input",{type:"checkbox",id:o,name:o,checked:l,onClick:async()=>{await this.toggleFeature(o)}}),o.replace(/-/g," ").replace(/(\b[a-z])/gi,d=>d.toUpperCase())]}),n(Rr,{feature:o})]})});return n(F,{...this.props,children:[n("p",{class:"info",children:"Miscellaneous features and fixes, each one can be toggled individually by checking their respective checkbox."}),n("ul",{class:"miscellaneous-features-list",children:r})]})}};function dt(t){return n(F,{...t,children:n("p",{class:"info",children:"Replaces the Tildes logo in the site header with a dynamic one that uses the colors of your chosen Tildes theme."})})}var Se=class extends V{constructor(e){super(e),this.state={data:void 0,hasUnsavedChanges:!1,themesList:[]}}async componentDidMount(){let e=await N("themes-list");this.setState({data:await N("theme-switcher"),themesList:e.value})}onChange=(e,r)=>{let{data:o}=this.state,l=e.target;o!==void 0&&(o.value[r]=l.value,this.setState({data:o,hasUnsavedChanges:!0}))};save=async()=>{let{data:e}=this.state;e!==void 0&&(await e.save(),this.setState({hasUnsavedChanges:!1}))};render(){let{data:e,hasUnsavedChanges:r,themesList:o}=this.state;if(e===void 0)return;let l=o.map(([d,u])=>n("option",{value:d,children:u})),s=r?"unsaved-changes":"";return n(F,{...this.props,children:[n("p",{class:"info",children:["Automatically switch between two themes at certain times of the day.",n("br",{}),"The expected format for times is ",n("code",{children:"HH:MM"}),"."]}),n("button",{class:`button margin-bottom-8 has-save-status ${s}`,onClick:this.save,children:["Save",r?"*":""]}),n("p",{children:["Switch to"," ",n("select",{class:"styled-select",onChange:d=>{this.onChange(d,"themeA")},value:e.value.themeA,children:l})," ","at"," ",n("input",{class:"styled-text-input",onChange:d=>{this.onChange(d,"hourA")},type:"text",value:e.value.hourA})]}),n("p",{children:["Switch to"," ",n("select",{class:"styled-select",onChange:d=>{this.onChange(d,"themeB")},value:e.value.themeB,children:l})," ","at"," ",n("input",{class:"styled-text-input",onChange:d=>{this.onChange(d,"hourB")},type:"text",value:e.value.hourB})]})]})}};var Ae=class extends V{constructor(e){super(e),this.state={onSiteNewLabelEnabled:void 0}}async componentDidMount(){this.setState({onSiteNewLabelEnabled:await N("on-site-new-label")})}toggleOnSiteNewLabelEnabled=async()=>{let e=this.state.onSiteNewLabelEnabled;e.value=!e.value,await e.save(),this.setState({onSiteNewLabelEnabled:e})};render(){let{onSiteNewLabelEnabled:e}=this.state;if(e!==void 0)return n(F,{...this.props,children:[n("p",{class:"info",children:["Adds a way to create customizable labels to users. Wherever a link to a person's profile is available, a ",n("code",{children:"[+]"})," will be put next to it. Clicking on that will bring up a dialog to add a new label and clicking on existing labels will bring up the same dialog to edit them.",n("br",{}),"Or you can use the dedicated"," ",n("a",{href:"/options/user-label-editor.html",children:"User Label Editor"})," to add, edit, or remove user labels."]}),n("ul",{class:"checkbox-list",children:n("li",{children:n("label",{class:"styled-checkbox",children:[n("input",{type:"checkbox",checked:e.value,onClick:this.toggleOnSiteNewLabelEnabled}),"Show new label editor next to usernames"]})})}),n("details",{children:[n("summary",{children:"View Customizable Values"}),n("ul",{class:"user-label-values",children:[n("li",{children:[n("b",{children:"Username"}),": who to apply the label to."]}),n("li",{children:[n("b",{children:"Priority"}),": determines the order of labels. If multiple labels have the same priority they will be sorted alphabetically. In the topic listing only the highest priority label will be shown."]}),n("li",{children:[n("b",{children:"Color"}),": will set the background color of the label. The foreground color is calculated to be black or white depending on the brightness of the background color.",n("br",{}),"Valid values are hex colors or ",n("code",{children:"transparent"}),".",n("br",{}),"Colors based on your current Tildes theme are also available in the dropdown menu."]}),n("li",{children:[n("b",{children:"Text"}),": the text to go in the label. If left empty the label will show as a 12 by 12 pixel square instead."]})]})]})]})}};var ke=class extends V{constructor(e){super(e),this.state={previewChecked:"off",usernameColors:void 0,usernameColorsToRemove:[],randomizeChecked:void 0,unsavedUsernameColorIds:new Set}}async componentDidMount(){this.setState({randomizeChecked:await N("randomize-username-colors"),usernameColors:await N("username-colors")})}addNewColor=async()=>{let{usernameColors:e,unsavedUsernameColorIds:r}=this.state,o=1;e.length>0&&(o=e.sort((s,d)=>d.value.id-s.value.id)[0].value.id+1);let l=await ve({color:"",id:o,username:""});r.add(o),this.state.usernameColors.push(l),this.setState({usernameColors:e,unsavedUsernameColorIds:r})};removeColor=async e=>{let{usernameColors:r,usernameColorsToRemove:o,unsavedUsernameColorIds:l}=this.state,s=r.findIndex(({value:d})=>d.id===e);if(s===-1){G(`Tried to remove unknown UsernameColor ID: ${e}`);return}o.push(...r.splice(s,1)),l.add(e),this.setState({usernameColors:r,usernameColorsToRemove:o,unsavedUsernameColorIds:l})};saveChanges=async()=>{for(let e of this.state.usernameColorsToRemove)await e.remove();for(let e of this.state.usernameColors)await e.save();this.setState({usernameColorsToRemove:[],unsavedUsernameColorIds:new Set})};togglePreview=async()=>{let{previewChecked:e}=this.state;switch(e){case"off":{e="foreground";break}case"foreground":{e="background";break}case"background":{e="off";break}}this.setState({previewChecked:e})};toggleRandomized=async()=>{let e=this.state.randomizeChecked;e.value=!e.value,await e.save(),this.setState({randomizeChecked:e})};onInput=(e,r,o)=>{let{unsavedUsernameColorIds:l}=this.state,s=this.state.usernameColors.findIndex(({value:u})=>u.id===r);if(s===-1){G(`Tried to edit unknown UsernameColor ID: ${r}`);return}let d=e.target.value;this.state.usernameColors[s].value[o]=d,l.add(r),this.setState({usernameColors:this.state.usernameColors})};render(){let{previewChecked:e,usernameColors:r,randomizeChecked:o,unsavedUsernameColorIds:l}=this.state;if(r===void 0)return;r.sort((u,h)=>u.value.id-h.value.id);let s=r.map(({value:{color:u,id:h,username:k}})=>{let c={};e==="background"?c.backgroundColor=u:e==="foreground"&&(c.color=u);let P=I=>{this.onInput(I,h,"username")},x=I=>{this.onInput(I,h,"color")},p=async()=>{await this.removeColor(h)},A=l.has(h)?"unsaved-changes":"";return n("div",{class:`has-save-status username-colors-editor ${A}`,children:[n("input",{style:c,placeholder:"Username(s)",value:k,onInput:P}),n("input",{style:c,placeholder:"Color",value:u,onInput:x}),n("button",{class:"button destructive",onClick:p,children:"Remove"})]},h)}),d=l.size>0?"unsaved-changes":"";return n(F,{...this.props,children:[n("p",{class:"info",children:["Assign custom colors to usernames.",n("br",{}),"You can enter multiple usernames separated by a comma if you want them to use the same color.",n("br",{}),"If randomize is enabled then all usernames will be given a random background color based on a hash of the username. Manually assigned colors will be applied normally."]}),n("div",{class:"username-colors-controls",children:[n("button",{class:"button",onClick:this.addNewColor,children:"Add New Color"}),n("button",{class:"button",onClick:this.togglePreview,children:"Toggle Preview"}),n("button",{class:`button save-button ${d}`,onClick:this.saveChanges,children:["Save Changes",d.length>0?"*":""]}),n("ul",{class:"checkbox-list",children:n("li",{children:n("label",{class:"styled-checkbox",children:[n("input",{type:"checkbox",checked:o.value,onClick:this.toggleRandomized}),"Randomize Username Colors"]})})})]}),s]})}};var He=[{availableSince:new Date("2022-02-23"),lastUpdated:new Date("2023-09-24"),index:0,key:"anonymize-usernames",title:"Anonymize Usernames",component:xe},{availableSince:new Date("2020-10-03"),lastUpdated:new Date("2023-12-24"),index:0,key:"autocomplete",title:"Autocomplete",component:at},{availableSince:new Date("2019-11-10"),index:0,key:"back-to-top",title:"Back To Top",component:it},{availableSince:new Date("2023-07-01"),lastUpdated:new Date("2023-10-22"),index:0,key:"hide-topics",title:"Hide Topics",component:ye},{availableSince:new Date("2019-11-12"),index:0,key:"hide-votes",title:"Hide Votes",component:_e},{availableSince:new Date("2019-11-10"),index:0,key:"jump-to-new-comment",title:"Jump To New Comment",component:lt},{availableSince:new Date("2019-11-12"),lastUpdated:new Date("2023-12-24"),index:0,key:"markdown-toolbar",title:"Markdown Toolbar",component:ct},{availableSince:new Date("2023-07-16"),lastUpdated:new Date("2023-12-24"),index:0,key:"miscellaneous-features",title:"Miscellaneous",component:we},{availableSince:new Date("2023-12-24"),index:0,key:"theme-switcher",title:"Theme Switcher",component:Se},{availableSince:new Date("2022-02-27"),lastUpdated:new Date("2023-12-24"),index:0,key:"themed-logo",title:"Themed Logo",component:dt},{availableSince:new Date("2019-11-10"),lastUpdated:new Date("2023-12-24"),index:0,key:"user-labels",title:"User Labels",component:Ae},{availableSince:new Date("2022-02-25"),lastUpdated:new Date("2023-07-16"),index:0,key:"username-colors",title:"Username Colors",component:ke},{availableSince:new Date("2019-11-10"),index:1,key:"debug",title:"About & Info",component:st}];He.sort((t,e)=>t.index-e.index);window.addEventListener("DOMContentLoaded",async()=>{It();let t=ir.default.runtime.getManifest();Mt(n(ut,{manifest:t}),document.body)});var ut=class extends V{state;newFeatureDuration=14*24*60*60*1e3;constructor(e){super(e),this.state={activeFeature:void 0,enabledFeatures:void 0}}async componentDidMount(){this.setState({activeFeature:await N("latest-active-feature-tab"),enabledFeatures:await N("enabled-features")})}setActiveFeature=e=>{let{activeFeature:r}=this.state;r.value=e,r.save(),this.setState({activeFeature:r})};toggleFeature=e=>{let{enabledFeatures:r}=this.state;r.value.has(e)?r.value.delete(e):r.value.add(e),r.save(),this.setState({enabledFeatures:r})};render(){let{manifest:e}=this.props,{activeFeature:r,enabledFeatures:o}=this.state;if(r===void 0||o===void 0)return;let l=e.version,s=encodeURI(`https://gitlab.com/tildes-community/tildes-reextended/-/releases/${l}`),d=n(K,{class:"version",text:`v${l}`,url:s}),u=qe("gitlab",l),h=encodeURI(`https://gitlab.com/tildes-community/tildes-reextended/issues/new?issue[description]=${u}`),k=n(K,{text:"GitLab",url:h}),c=qe("tildes",l),P=encodeURI(`https://tildes.net/user/Community/new_message?subject=Tildes ReExtended Bug&message=${c}`),x=n(K,{text:"Tildes",url:P}),p=He.map(({availableSince:I,lastUpdated:U,key:L,title:W})=>{let R=U?.getTime()??this.newFeatureDuration*2,f=Date.now()-I.getTime()<this.newFeatureDuration,b=Date.now()-R<this.newFeatureDuration,w=f?n("span",{class:"is-new",children:"NEW"}):b?n("span",{class:"is-updated",children:"UPDATED"}):void 0;return n("li",{class:`${r.value===L?"active":""}
                ${o.value.has(L)?"enabled":""}`,onClick:()=>{this.setActiveFeature(L)},children:[W,w]},L)}),A=He.map(({key:I,title:U,component:L})=>n(L,{class:r.value===I?"":"trx-hidden",enabled:o.value.has(I),feature:I,title:U},I));return n(ze.Provider,{value:{setActiveFeature:this.setActiveFeature,toggleFeature:this.toggleFeature},children:[n("header",{class:"page-header",children:[n("h1",{children:[n("img",{src:"/tildes-reextended.png"}),"Tildes ReExtended"]}),d]}),n("div",{class:"main-wrapper",children:[n("aside",{class:"page-aside",children:n("ul",{children:p})}),n("main",{class:"page-main",children:A})]}),n("footer",{class:"page-footer",children:[n("p",{children:["Report a bug via ",k," or ",x,"."]}),n("p",{children:"\xA9 Tildes Community and Contributors"})]})]})}};
/*! Bundled license information:

platform/platform.js:
  (*!
   * Platform.js v1.3.6
   * Copyright 2014-2020 Benjamin Tan
   * Copyright 2011-2013 John-David Dalton
   * Available under MIT license
   *)
*/

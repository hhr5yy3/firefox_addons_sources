var qa=Object.defineProperty;var Ya=(e,t,r)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Sr=(e,t,r)=>(Ya(e,typeof t!="symbol"?t+"":t,r),r),rs=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var nt=(e,t,r)=>(rs(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},No=(e,t,r,o)=>(rs(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);var Dr=(e,t,r)=>(rs(e,t,"access private method"),r);import{i as initializable,s as sendMessage}from"./pageInteraction.2f84ddce.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./index.0a1d9bc1.js";function makeMap(e,t){const r=Object.create(null),o=e.split(",");for(let n=0;n<o.length;n++)r[o[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function normalizeStyle(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++){const o=e[r],n=isString$2(o)?parseStringStyle(o):normalizeStyle(o);if(n)for(const i in n)t[i]=n[i]}return t}else{if(isString$2(e))return e;if(isObject$1(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){const t={};return e.split(listDelimiterRE).forEach(r=>{if(r){const o=r.split(propertyDelimiterRE);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function normalizeClass(e){let t="";if(isString$2(e))t=e;else if(isArray(e))for(let r=0;r<e.length;r++){const o=normalizeClass(e[r]);o&&(t+=o+" ")}else if(isObject$1(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function normalizeProps(e){if(!e)return null;let{class:t,style:r}=e;return t&&!isString$2(t)&&(e.class=normalizeClass(t)),r&&(e.style=normalizeStyle(r)),e}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;let r=!0;for(let o=0;r&&o<e.length;o++)r=looseEqual(e[o],t[o]);return r}function looseEqual(e,t){if(e===t)return!0;let r=isDate(e),o=isDate(t);if(r||o)return r&&o?e.getTime()===t.getTime():!1;if(r=isArray(e),o=isArray(t),r||o)return r&&o?looseCompareArrays(e,t):!1;if(r=isObject$1(e),o=isObject$1(t),r||o){if(!r||!o)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const s in e){const a=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(a&&!c||!a&&c||!looseEqual(e[s],t[s]))return!1}}return String(e)===String(t)}const toDisplayString=e=>isString$2(e)?e:e==null?"":isArray(e)||isObject$1(e)&&(e.toString===objectToString$2||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[o,n])=>(r[`${o} =>`]=n,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$1(t)&&!isArray(t)&&!isPlainObject$2(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>e instanceof Date,isFunction=e=>typeof e=="function",isString$2=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject$1=e=>e!==null&&typeof e=="object",isPromise=e=>isObject$1(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString$2=Object.prototype.toString,toTypeString=e=>objectToString$2.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject$2=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString$2(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},def=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(t){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this.active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function effectScope(e){return new EffectScope(e)}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let r=0;for(let o=0;o<t.length;o++){const n=t[o];wasTracked(n)&&!newTracked(n)?n.delete(e):t[r++]=n,n.w&=~trackOpBit,n.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,o){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,o)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,r){if(shouldTrack&&activeEffect){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let n=o.get(r);n||o.set(r,n=createDep()),trackEffects(n)}}function trackEffects(e,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,r=!wasTracked(e)):r=!e.has(activeEffect),r&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger$1(e,t,r,o,n,i){const s=targetMap.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(r==="length"&&isArray(e))s.forEach((c,l)=>{(l==="length"||l>=o)&&a.push(c)});else switch(r!==void 0&&a.push(s.get(r)),t){case"add":isArray(e)?isIntegerKey(r)&&a.push(s.get("length")):(a.push(s.get(ITERATE_KEY)),isMap(e)&&a.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(a.push(s.get(ITERATE_KEY)),isMap(e)&&a.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&a.push(s.get(ITERATE_KEY));break}if(a.length===1)a[0]&&triggerEffects(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);triggerEffects(createDep(c))}}function triggerEffects(e,t){for(const r of isArray(e)?e:[...e])(r!==activeEffect||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const o=toRaw(this);for(let i=0,s=this.length;i<s;i++)track(o,"get",i+"");const n=o[t](...r);return n===-1||n===!1?o[t](...r.map(toRaw)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){pauseTracking();const o=toRaw(this)[t].apply(this,r);return resetTracking(),o}}),e}function createGetter(e=!1,t=!1){return function(o,n,i){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&i===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(o))return o;const s=isArray(o);if(!e&&s&&hasOwn(arrayInstrumentations,n))return Reflect.get(arrayInstrumentations,n,i);const a=Reflect.get(o,n,i);return(isSymbol(n)?builtInSymbols.has(n):isNonTrackableKeys(n))||(e||track(o,"get",n),t)?a:isRef(a)?!s||!isIntegerKey(n)?a.value:a:isObject$1(a)?e?readonly(a):reactive(a):a}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(r,o,n,i){let s=r[o];if(isReadonly(s)&&isRef(s)&&!isRef(n))return!1;if(!e&&!isReadonly(n)&&(isShallow(n)||(n=toRaw(n),s=toRaw(s)),!isArray(r)&&isRef(s)&&!isRef(n)))return s.value=n,!0;const a=isArray(r)&&isIntegerKey(o)?Number(o)<r.length:hasOwn(r,o),c=Reflect.set(r,o,n,i);return r===toRaw(i)&&(a?hasChanged(n,s)&&trigger$1(r,"set",o,n):trigger$1(r,"add",o,n)),c}}function deleteProperty(e,t){const r=hasOwn(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&trigger$1(e,"delete",t,void 0),o}function has(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get$1(e,t,r=!1,o=!1){e=e.__v_raw;const n=toRaw(e),i=toRaw(t);t!==i&&!r&&track(n,"get",t),!r&&track(n,"get",i);const{has:s}=getProto(n),a=o?toShallow:r?toReadonly:toReactive;if(s.call(n,t))return a(e.get(t));if(s.call(n,i))return a(e.get(i));e!==n&&e.get(t)}function has$1(e,t=!1){const r=this.__v_raw,o=toRaw(r),n=toRaw(e);return e!==n&&!t&&track(o,"has",e),!t&&track(o,"has",n),e===n?r.has(e):r.has(e)||r.has(n)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger$1(t,"add",e,e)),this}function set$1(e,t){t=toRaw(t);const r=toRaw(this),{has:o,get:n}=getProto(r);let i=o.call(r,e);i||(e=toRaw(e),i=o.call(r,e));const s=n.call(r,e);return r.set(e,t),i?hasChanged(t,s)&&trigger$1(r,"set",e,t):trigger$1(r,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:r,get:o}=getProto(t);let n=r.call(t,e);n||(e=toRaw(e),n=r.call(t,e)),o&&o.call(t,e);const i=t.delete(e);return n&&trigger$1(t,"delete",e,void 0),i}function clear(){const e=toRaw(this),t=e.size!==0,r=e.clear();return t&&trigger$1(e,"clear",void 0,void 0),r}function createForEach(e,t){return function(o,n){const i=this,s=i.__v_raw,a=toRaw(s),c=t?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",ITERATE_KEY),s.forEach((l,y)=>o.call(n,c(l),c(y),i))}}function createIterableMethod(e,t,r){return function(...o){const n=this.__v_raw,i=toRaw(n),s=isMap(i),a=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,l=n[e](...o),y=r?toShallow:t?toReadonly:toReactive;return!t&&track(i,"iterate",c?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:me,done:se}=l.next();return se?{value:me,done:se}:{value:a?[y(me[0]),y(me[1])]:y(me),done:se}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(i){return get$1(this,i)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(i){return get$1(this,i,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(i){return get$1(this,i,!0)},get size(){return size(this,!0)},has(i){return has$1.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(i){return get$1(this,i,!0,!0)},get size(){return size(this,!0)},has(i){return has$1.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=createIterableMethod(i,!1,!1),r[i]=createIterableMethod(i,!0,!1),t[i]=createIterableMethod(i,!1,!0),o[i]=createIterableMethod(i,!0,!0)}),[e,r,t,o]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const r=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(o,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(hasOwn(r,n)&&n in o?r:o,n,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,r,o,n){if(!isObject$1(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const s=getTargetType(e);if(s===0)return e;const a=new Proxy(e,s===2?o:r);return n.set(e,a),a}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject$1(e)?reactive(e):e,toReadonly=e=>isObject$1(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e),e.dep&&triggerEffects(e.dep)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){t=this.__v_isShallow?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,r)=>unref(Reflect.get(e,t,r)),set:(e,t,r,o)=>{const n=e[t];return isRef(n)&&!isRef(r)?(n.value=r,!0):Reflect.set(e,t,r,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){const t=isArray(e)?new Array(e.length):{};for(const r in e)t[r]=toRef(e,r);return t}class ObjectRefImpl{constructor(t,r,o){this._object=t,this._key=r,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function toRef(e,t,r){const o=e[t];return isRef(o)?o:new ObjectRefImpl(e,t,r)}class ComputedRefImpl{constructor(t,r,o,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=o}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function computed$1(e,t,r=!1){let o,n;const i=isFunction(e);return i?(o=e,n=NOOP):(o=e.get,n=e.set),new ComputedRefImpl(o,n,i||!n,r)}function callWithErrorHandling(e,t,r,o){let n;try{n=o?e(...o):e()}catch(i){handleError(i,t,r)}return n}function callWithAsyncErrorHandling(e,t,r,o){if(isFunction(e)){const i=callWithErrorHandling(e,t,r,o);return i&&isPromise(i)&&i.catch(s=>{handleError(s,t,r)}),i}const n=[];for(let i=0;i<e.length;i++)n.push(callWithAsyncErrorHandling(e[i],t,r,o));return n}function handleError(e,t,r,o=!0){const n=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,a=r;for(;i;){const l=i.ec;if(l){for(let y=0;y<l.length;y++)if(l[y](e,s,a)===!1)return}i=i.parent}const c=t.appContext.config.errorHandler;if(c){callWithErrorHandling(c,null,10,[e,s,a]);return}}logError(e,r,n,o)}function logError(e,t,r,o=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,r=queue.length;for(;t<r;){const o=t+r>>>1;getId(queue[o])<e?t=o+1:r=o}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&e!==currentPreFlushParentJob&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queueCb(e,t,r,o){isArray(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?o+1:o))&&r.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,t=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=t,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,t)}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,o)=>getId(r)-getId(o)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id;function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue.sort((r,o)=>getId(r)-getId(o));const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function emit$1(e,t,...r){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let n=r;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const y=`${s==="modelValue"?"model":s}Modifiers`,{number:me,trim:se}=o[y]||EMPTY_OBJ;se?n=r.map(ge=>ge.trim()):me&&(n=r.map(toNumber))}let a,c=o[a=toHandlerKey(t)]||o[a=toHandlerKey(camelize(t))];!c&&i&&(c=o[a=toHandlerKey(hyphenate(t))]),c&&callWithAsyncErrorHandling(c,e,6,n);const l=o[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,callWithAsyncErrorHandling(l,e,6,n)}}function normalizeEmitsOptions(e,t,r=!1){const o=t.emitsCache,n=o.get(e);if(n!==void 0)return n;const i=e.emits;let s={},a=!1;if(!isFunction(e)){const c=l=>{const y=normalizeEmitsOptions(l,t,!0);y&&(a=!0,extend(s,y))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!a?(o.set(e,null),null):(isArray(i)?i.forEach(c=>s[c]=null):extend(s,i),o.set(e,s),s)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function pushScopeId(e){currentScopeId=e}function popScopeId(){currentScopeId=null}const withScopeId=e=>withCtx;function withCtx(e,t=currentRenderingInstance,r){if(!t||e._n)return e;const o=(...n)=>{o._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(t),s=e(...n);return setCurrentRenderingInstance(i),o._d&&setBlockTracking(1),s};return o._n=!0,o._c=!0,o._d=!0,o}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:r,proxy:o,withProxy:n,props:i,propsOptions:[s],slots:a,attrs:c,emit:l,render:y,renderCache:me,data:se,setupState:ge,ctx:be,inheritAttrs:_e}=e;let Ue,xt;const so=setCurrentRenderingInstance(e);try{if(r.shapeFlag&4){const Ge=n||o;Ue=normalizeVNode(y.call(Ge,Ge,me,i,ge,se,be)),xt=c}else{const Ge=t;Ue=normalizeVNode(Ge.length>1?Ge(i,{attrs:c,slots:a,emit:l}):Ge(i,null)),xt=t.props?c:getFunctionalFallthrough(c)}}catch(Ge){blockStack.length=0,handleError(Ge,e,1),Ue=createVNode(Comment)}let yt=Ue;if(xt&&_e!==!1){const Ge=Object.keys(xt),{shapeFlag:Zr}=yt;Ge.length&&Zr&7&&(s&&Ge.some(isModelListener)&&(xt=filterModelListeners(xt,s)),yt=cloneVNode(yt,xt))}return r.dirs&&(yt.dirs=yt.dirs?yt.dirs.concat(r.dirs):r.dirs),r.transition&&(yt.transition=r.transition),Ue=yt,setCurrentRenderingInstance(so),Ue}const getFunctionalFallthrough=e=>{let t;for(const r in e)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=e[r]);return t},filterModelListeners=(e,t)=>{const r={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in t))&&(r[o]=e[o]);return r};function shouldUpdateComponent(e,t,r){const{props:o,children:n,component:i}=e,{props:s,children:a,patchFlag:c}=t,l=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return o?hasPropsChanged(o,s,l):!!s;if(c&8){const y=t.dynamicProps;for(let me=0;me<y.length;me++){const se=y[me];if(s[se]!==o[se]&&!isEmitListener(l,se))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:o===s?!1:o?s?hasPropsChanged(o,s,l):!0:!!s;return!1}function hasPropsChanged(e,t,r){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(t[i]!==e[i]&&!isEmitListener(r,i))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let r=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===r&&(r=currentInstance.provides=Object.create(o)),r[e]=t}}function inject(e,t,r=!1){const o=currentInstance||currentRenderingInstance;if(o){const n=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&isFunction(t)?t.call(o.proxy):t}}function watchPostEffect(e,t){return doWatch(e,null,{flush:"post"})}const INITIAL_WATCHER_VALUE={};function watch(e,t,r){return doWatch(e,t,r)}function doWatch(e,t,{immediate:r,deep:o,flush:n,onTrack:i,onTrigger:s}=EMPTY_OBJ){const a=currentInstance;let c,l=!1,y=!1;if(isRef(e)?(c=()=>e.value,l=isShallow(e)):isReactive(e)?(c=()=>e,o=!0):isArray(e)?(y=!0,l=e.some(isReactive),c=()=>e.map(xt=>{if(isRef(xt))return xt.value;if(isReactive(xt))return traverse(xt);if(isFunction(xt))return callWithErrorHandling(xt,a,2)})):isFunction(e)?t?c=()=>callWithErrorHandling(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return me&&me(),callWithAsyncErrorHandling(e,a,3,[se])}:c=NOOP,t&&o){const xt=c;c=()=>traverse(xt())}let me,se=xt=>{me=Ue.onStop=()=>{callWithErrorHandling(xt,a,4)}};if(isInSSRComponentSetup)return se=NOOP,t?r&&callWithAsyncErrorHandling(t,a,3,[c(),y?[]:void 0,se]):c(),NOOP;let ge=y?[]:INITIAL_WATCHER_VALUE;const be=()=>{if(!!Ue.active)if(t){const xt=Ue.run();(o||l||(y?xt.some((so,yt)=>hasChanged(so,ge[yt])):hasChanged(xt,ge)))&&(me&&me(),callWithAsyncErrorHandling(t,a,3,[xt,ge===INITIAL_WATCHER_VALUE?void 0:ge,se]),ge=xt)}else Ue.run()};be.allowRecurse=!!t;let _e;n==="sync"?_e=be:n==="post"?_e=()=>queuePostRenderEffect(be,a&&a.suspense):_e=()=>{!a||a.isMounted?queuePreFlushCb(be):be()};const Ue=new ReactiveEffect(c,_e);return t?r?be():ge=Ue.run():n==="post"?queuePostRenderEffect(Ue.run.bind(Ue),a&&a.suspense):Ue.run(),()=>{Ue.stop(),a&&a.scope&&remove(a.scope.effects,Ue)}}function instanceWatch(e,t,r){const o=this.proxy,n=isString$2(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let i;isFunction(t)?i=t:(i=t.handler,r=t);const s=currentInstance;setCurrentInstance(this);const a=doWatch(n,i.bind(o),r);return s?setCurrentInstance(s):unsetCurrentInstance(),a}function createPathGetter(e,t){const r=t.split(".");return()=>{let o=e;for(let n=0;n<r.length&&o;n++)o=o[r[n]];return o}}function traverse(e,t){if(!isObject$1(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let r=0;r<e.length;r++)traverse(e[r],t);else if(isSet(e)||isMap(e))e.forEach(r=>{traverse(r,t)});else if(isPlainObject$2(e))for(const r in e)traverse(e[r],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const r=getCurrentInstance(),o=useTransitionState();let n;return()=>{const i=t.default&&getTransitionRawChildren(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const _e of i)if(_e.type!==Comment){s=_e;break}}const a=toRaw(e),{mode:c}=a;if(o.isLeaving)return emptyPlaceholder(s);const l=getKeepAliveChild(s);if(!l)return emptyPlaceholder(s);const y=resolveTransitionHooks(l,a,o,r);setTransitionHooks(l,y);const me=r.subTree,se=me&&getKeepAliveChild(me);let ge=!1;const{getTransitionKey:be}=l.type;if(be){const _e=be();n===void 0?n=_e:_e!==n&&(n=_e,ge=!0)}if(se&&se.type!==Comment&&(!isSameVNodeType(l,se)||ge)){const _e=resolveTransitionHooks(se,a,o,r);if(setTransitionHooks(se,_e),c==="out-in")return o.isLeaving=!0,_e.afterLeave=()=>{o.isLeaving=!1,r.update()},emptyPlaceholder(s);c==="in-out"&&l.type!==Comment&&(_e.delayLeave=(Ue,xt,so)=>{const yt=getLeavingNodesForType(o,se);yt[String(se.key)]=se,Ue._leaveCb=()=>{xt(),Ue._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=so})}return s}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:r}=e;let o=r.get(t.type);return o||(o=Object.create(null),r.set(t.type,o)),o}function resolveTransitionHooks(e,t,r,o){const{appear:n,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:y,onBeforeLeave:me,onLeave:se,onAfterLeave:ge,onLeaveCancelled:be,onBeforeAppear:_e,onAppear:Ue,onAfterAppear:xt,onAppearCancelled:so}=t,yt=String(e.key),Ge=getLeavingNodesForType(r,e),Zr=(Qr,ot)=>{Qr&&callWithAsyncErrorHandling(Qr,o,9,ot)},ro={mode:i,persisted:s,beforeEnter(Qr){let ot=a;if(!r.isMounted)if(n)ot=_e||a;else return;Qr._leaveCb&&Qr._leaveCb(!0);const Xe=Ge[yt];Xe&&isSameVNodeType(e,Xe)&&Xe.el._leaveCb&&Xe.el._leaveCb(),Zr(ot,[Qr])},enter(Qr){let ot=c,Xe=l,Gr=y;if(!r.isMounted)if(n)ot=Ue||c,Xe=xt||l,Gr=so||y;else return;let zr=!1;const wt=Qr._enterCb=Kr=>{zr||(zr=!0,Kr?Zr(Gr,[Qr]):Zr(Xe,[Qr]),ro.delayedLeave&&ro.delayedLeave(),Qr._enterCb=void 0)};ot?(ot(Qr,wt),ot.length<=1&&wt()):wt()},leave(Qr,ot){const Xe=String(e.key);if(Qr._enterCb&&Qr._enterCb(!0),r.isUnmounting)return ot();Zr(me,[Qr]);let Gr=!1;const zr=Qr._leaveCb=wt=>{Gr||(Gr=!0,ot(),wt?Zr(be,[Qr]):Zr(ge,[Qr]),Qr._leaveCb=void 0,Ge[Xe]===e&&delete Ge[Xe])};Ge[Xe]=e,se?(se(Qr,zr),se.length<=1&&zr()):zr()},clone(Qr){return resolveTransitionHooks(Qr,t,r,o)}};return ro}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,r){let o=[],n=0;for(let i=0;i<e.length;i++){let s=e[i];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:i);s.type===Fragment?(s.patchFlag&128&&n++,o=o.concat(getTransitionRawChildren(s.children,t,a))):(t||s.type!==Comment)&&o.push(a!=null?cloneVNode(s,{key:a}):s)}if(n>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,r=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(injectHook(t,o,r),r){let n=r.parent;for(;n&&n.parent;)isKeepAlive(n.parent.vnode)&&injectToKeepAliveRoot(o,t,r,n),n=n.parent}}function injectToKeepAliveRoot(e,t,r,o){const n=injectHook(t,e,o,!0);onUnmounted(()=>{remove(o[t],n)},r)}function injectHook(e,t,r=currentInstance,o=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const a=callWithAsyncErrorHandling(t,r,e,s);return unsetCurrentInstance(),resetTracking(),a});return o?n.unshift(i):n.push(i),i}}const createHook=e=>(t,r=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,t,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),r=e.proxy,o=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook$1(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:s,watch:a,provide:c,inject:l,created:y,beforeMount:me,mounted:se,beforeUpdate:ge,updated:be,activated:_e,deactivated:Ue,beforeDestroy:xt,beforeUnmount:so,destroyed:yt,unmounted:Ge,render:Zr,renderTracked:ro,renderTriggered:Qr,errorCaptured:ot,serverPrefetch:Xe,expose:Gr,inheritAttrs:zr,components:wt,directives:Kr,filters:ao}=t;if(l&&resolveInjections(l,o,null,e.appContext.config.unwrapInjectedRef),s)for(const eo in s){const co=s[eo];isFunction(co)&&(o[eo]=co.bind(r))}if(n){const eo=n.call(r,r);isObject$1(eo)&&(e.data=reactive(eo))}if(shouldCacheAccess=!0,i)for(const eo in i){const co=i[eo],ho=isFunction(co)?co.bind(r,r):isFunction(co.get)?co.get.bind(r,r):NOOP,bo=!isFunction(co)&&isFunction(co.set)?co.set.bind(r):NOOP,lo=computed({get:ho,set:bo});Object.defineProperty(o,eo,{enumerable:!0,configurable:!0,get:()=>lo.value,set:vo=>lo.value=vo})}if(a)for(const eo in a)createWatcher(a[eo],o,r,eo);if(c){const eo=isFunction(c)?c.call(r):c;Reflect.ownKeys(eo).forEach(co=>{provide(co,eo[co])})}y&&callHook$1(y,e,"c");function io(eo,co){isArray(co)?co.forEach(ho=>eo(ho.bind(r))):co&&eo(co.bind(r))}if(io(onBeforeMount,me),io(onMounted,se),io(onBeforeUpdate,ge),io(onUpdated,be),io(onActivated,_e),io(onDeactivated,Ue),io(onErrorCaptured,ot),io(onRenderTracked,ro),io(onRenderTriggered,Qr),io(onBeforeUnmount,so),io(onUnmounted,Ge),io(onServerPrefetch,Xe),isArray(Gr))if(Gr.length){const eo=e.exposed||(e.exposed={});Gr.forEach(co=>{Object.defineProperty(eo,co,{get:()=>r[co],set:ho=>r[co]=ho})})}else e.exposed||(e.exposed={});Zr&&e.render===NOOP&&(e.render=Zr),zr!=null&&(e.inheritAttrs=zr),wt&&(e.components=wt),Kr&&(e.directives=Kr)}function resolveInjections(e,t,r=NOOP,o=!1){isArray(e)&&(e=normalizeInject(e));for(const n in e){const i=e[n];let s;isObject$1(i)?"default"in i?s=inject(i.from||n,i.default,!0):s=inject(i.from||n):s=inject(i),isRef(s)&&o?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[n]=s}}function callHook$1(e,t,r){callWithAsyncErrorHandling(isArray(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,r)}function createWatcher(e,t,r,o){const n=o.includes(".")?createPathGetter(r,o):()=>r[o];if(isString$2(e)){const i=t[e];isFunction(i)&&watch(n,i)}else if(isFunction(e))watch(n,e.bind(r));else if(isObject$1(e))if(isArray(e))e.forEach(i=>createWatcher(i,t,r,o));else{const i=isFunction(e.handler)?e.handler.bind(r):t[e.handler];isFunction(i)&&watch(n,i,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:r,extends:o}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let c;return a?c=a:!n.length&&!r&&!o?c=t:(c={},n.length&&n.forEach(l=>mergeOptions(c,l,s,!0)),mergeOptions(c,t,s)),i.set(t,c),c}function mergeOptions(e,t,r,o=!1){const{mixins:n,extends:i}=t;i&&mergeOptions(e,i,r,!0),n&&n.forEach(s=>mergeOptions(e,s,r,!0));for(const s in t)if(!(o&&s==="expose")){const a=internalOptionMergeStrats[s]||r&&r[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const r=extend(Object.create(null),e);for(const o in t)r[o]=mergeAsArray(e[o],t[o]);return r}function initProps(e,t,r,o=!1){const n={},i={};def(i,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,n,i);for(const s in e.propsOptions[0])s in n||(n[s]=void 0);r?e.props=o?n:shallowReactive(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function updateProps(e,t,r,o){const{props:n,attrs:i,vnode:{patchFlag:s}}=e,a=toRaw(n),[c]=e.propsOptions;let l=!1;if((o||s>0)&&!(s&16)){if(s&8){const y=e.vnode.dynamicProps;for(let me=0;me<y.length;me++){let se=y[me];if(isEmitListener(e.emitsOptions,se))continue;const ge=t[se];if(c)if(hasOwn(i,se))ge!==i[se]&&(i[se]=ge,l=!0);else{const be=camelize(se);n[be]=resolvePropValue(c,a,be,ge,e,!1)}else ge!==i[se]&&(i[se]=ge,l=!0)}}}else{setFullProps(e,t,n,i)&&(l=!0);let y;for(const me in a)(!t||!hasOwn(t,me)&&((y=hyphenate(me))===me||!hasOwn(t,y)))&&(c?r&&(r[me]!==void 0||r[y]!==void 0)&&(n[me]=resolvePropValue(c,a,me,void 0,e,!0)):delete n[me]);if(i!==a)for(const me in i)(!t||!hasOwn(t,me)&&!0)&&(delete i[me],l=!0)}l&&trigger$1(e,"set","$attrs")}function setFullProps(e,t,r,o){const[n,i]=e.propsOptions;let s=!1,a;if(t)for(let c in t){if(isReservedProp(c))continue;const l=t[c];let y;n&&hasOwn(n,y=camelize(c))?!i||!i.includes(y)?r[y]=l:(a||(a={}))[y]=l:isEmitListener(e.emitsOptions,c)||(!(c in o)||l!==o[c])&&(o[c]=l,s=!0)}if(i){const c=toRaw(r),l=a||EMPTY_OBJ;for(let y=0;y<i.length;y++){const me=i[y];r[me]=resolvePropValue(n,c,me,l[me],e,!hasOwn(l,me))}}return s}function resolvePropValue(e,t,r,o,n,i){const s=e[r];if(s!=null){const a=hasOwn(s,"default");if(a&&o===void 0){const c=s.default;if(s.type!==Function&&isFunction(c)){const{propsDefaults:l}=n;r in l?o=l[r]:(setCurrentInstance(n),o=l[r]=c.call(null,t),unsetCurrentInstance())}else o=c}s[0]&&(i&&!a?o=!1:s[1]&&(o===""||o===hyphenate(r))&&(o=!0))}return o}function normalizePropsOptions(e,t,r=!1){const o=t.propsCache,n=o.get(e);if(n)return n;const i=e.props,s={},a=[];let c=!1;if(!isFunction(e)){const y=me=>{c=!0;const[se,ge]=normalizePropsOptions(me,t,!0);extend(s,se),ge&&a.push(...ge)};!r&&t.mixins.length&&t.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!i&&!c)return o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(i))for(let y=0;y<i.length;y++){const me=camelize(i[y]);validatePropName(me)&&(s[me]=EMPTY_OBJ)}else if(i)for(const y in i){const me=camelize(y);if(validatePropName(me)){const se=i[y],ge=s[me]=isArray(se)||isFunction(se)?{type:se}:se;if(ge){const be=getTypeIndex(Boolean,ge.type),_e=getTypeIndex(String,ge.type);ge[0]=be>-1,ge[1]=_e<0||be<_e,(be>-1||hasOwn(ge,"default"))&&a.push(me)}}}const l=[s,a];return o.set(e,l),l}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(r=>isSameType(r,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,r)=>{const o=withCtx((...n)=>normalizeSlotValue(t(...n)),r);return o._c=!1,o},normalizeObjectSlots=(e,t,r)=>{const o=e._ctx;for(const n in e){if(isInternalKey(n))continue;const i=e[n];if(isFunction(i))t[n]=normalizeSlot(n,i,o);else if(i!=null){const s=normalizeSlotValue(i);t[n]=()=>s}}},normalizeVNodeSlots=(e,t)=>{const r=normalizeSlotValue(t);e.slots.default=()=>r},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,r)=>{const{vnode:o,slots:n}=e;let i=!0,s=EMPTY_OBJ;if(o.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(extend(n,t),!r&&a===1&&delete n._):(i=!t.$stable,normalizeObjectSlots(t,n)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(i)for(const a in n)!isInternalKey(a)&&!(a in s)&&delete n[a]};function withDirectives(e,t){const r=currentRenderingInstance;if(r===null)return e;const o=getExposeProxy(r)||r.proxy,n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,c,l=EMPTY_OBJ]=t[i];isFunction(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(a),n.push({dir:s,instance:o,value:a,oldValue:void 0,arg:c,modifiers:l})}return e}function invokeDirectiveHook(e,t,r,o){const n=e.dirs,i=t&&t.dirs;for(let s=0;s<n.length;s++){const a=n[s];i&&(a.oldValue=i[s].value);let c=a.dir[o];c&&(pauseTracking(),callWithAsyncErrorHandling(c,r,8,[e.el,a,e,t]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(e,t){return function(o,n=null){isFunction(o)||(o=Object.assign({},o)),n!=null&&!isObject$1(n)&&(n=null);const i=createAppContext(),s=new Set;let a=!1;const c=i.app={_uid:uid++,_component:o,_props:n,_container:null,_context:i,_instance:null,version,get config(){return i.config},set config(l){},use(l,...y){return s.has(l)||(l&&isFunction(l.install)?(s.add(l),l.install(c,...y)):isFunction(l)&&(s.add(l),l(c,...y))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,y){return y?(i.components[l]=y,c):i.components[l]},directive(l,y){return y?(i.directives[l]=y,c):i.directives[l]},mount(l,y,me){if(!a){const se=createVNode(o,n);return se.appContext=i,y&&t?t(se,l):e(se,l,me),a=!0,c._container=l,l.__vue_app__=c,getExposeProxy(se.component)||se.component.proxy}},unmount(){a&&(e(null,c._container),delete c._container.__vue_app__)},provide(l,y){return i.provides[l]=y,c}};return c}}function setRef(e,t,r,o,n=!1){if(isArray(e)){e.forEach((se,ge)=>setRef(se,t&&(isArray(t)?t[ge]:t),r,o,n));return}if(isAsyncWrapper(o)&&!n)return;const i=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,s=n?null:i,{i:a,r:c}=e,l=t&&t.r,y=a.refs===EMPTY_OBJ?a.refs={}:a.refs,me=a.setupState;if(l!=null&&l!==c&&(isString$2(l)?(y[l]=null,hasOwn(me,l)&&(me[l]=null)):isRef(l)&&(l.value=null)),isFunction(c))callWithErrorHandling(c,a,12,[s,y]);else{const se=isString$2(c),ge=isRef(c);if(se||ge){const be=()=>{if(e.f){const _e=se?y[c]:c.value;n?isArray(_e)&&remove(_e,i):isArray(_e)?_e.includes(i)||_e.push(i):se?(y[c]=[i],hasOwn(me,c)&&(me[c]=y[c])):(c.value=[i],e.k&&(y[e.k]=c.value))}else se?(y[c]=s,hasOwn(me,c)&&(me[c]=s)):isRef(c)&&(c.value=s,e.k&&(y[e.k]=s))};s?(be.id=-1,queuePostRenderEffect(be,r)):be()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:o,remove:n,patchProp:i,createElement:s,createText:a,createComment:c,setText:l,setElementText:y,parentNode:me,nextSibling:se,setScopeId:ge=NOOP,cloneNode:be,insertStaticContent:_e}=e,Ue=(u,b,d,ye=null,Pe=null,Ne=null,Fe=!1,Se=null,We=!!b.dynamicChildren)=>{if(u===b)return;u&&!isSameVNodeType(u,b)&&(ye=Eo(u),po(u,Pe,Ne,!0),u=null),b.patchFlag===-2&&(We=!1,b.dynamicChildren=null);const{type:ze,ref:qe,shapeFlag:Ye}=b;switch(ze){case Text:xt(u,b,d,ye);break;case Comment:so(u,b,d,ye);break;case Static:u==null&&yt(b,d,ye,Fe);break;case Fragment:Kr(u,b,d,ye,Pe,Ne,Fe,Se,We);break;default:Ye&1?ro(u,b,d,ye,Pe,Ne,Fe,Se,We):Ye&6?ao(u,b,d,ye,Pe,Ne,Fe,Se,We):(Ye&64||Ye&128)&&ze.process(u,b,d,ye,Pe,Ne,Fe,Se,We,To)}qe!=null&&Pe&&setRef(qe,u&&u.ref,Ne,b||u,!b)},xt=(u,b,d,ye)=>{if(u==null)o(b.el=a(b.children),d,ye);else{const Pe=b.el=u.el;b.children!==u.children&&l(Pe,b.children)}},so=(u,b,d,ye)=>{u==null?o(b.el=c(b.children||""),d,ye):b.el=u.el},yt=(u,b,d,ye)=>{[u.el,u.anchor]=_e(u.children,b,d,ye,u.el,u.anchor)},Ge=({el:u,anchor:b},d,ye)=>{let Pe;for(;u&&u!==b;)Pe=se(u),o(u,d,ye),u=Pe;o(b,d,ye)},Zr=({el:u,anchor:b})=>{let d;for(;u&&u!==b;)d=se(u),n(u),u=d;n(b)},ro=(u,b,d,ye,Pe,Ne,Fe,Se,We)=>{Fe=Fe||b.type==="svg",u==null?Qr(b,d,ye,Pe,Ne,Fe,Se,We):Gr(u,b,Pe,Ne,Fe,Se,We)},Qr=(u,b,d,ye,Pe,Ne,Fe,Se)=>{let We,ze;const{type:qe,props:Ye,shapeFlag:bt,transition:Pr,patchFlag:$r,dirs:fo}=u;if(u.el&&be!==void 0&&$r===-1)We=u.el=be(u.el);else{if(We=u.el=s(u.type,Ne,Ye&&Ye.is,Ye),bt&8?y(We,u.children):bt&16&&Xe(u.children,We,null,ye,Pe,Ne&&qe!=="foreignObject",Fe,Se),fo&&invokeDirectiveHook(u,null,ye,"created"),Ye){for(const mo in Ye)mo!=="value"&&!isReservedProp(mo)&&i(We,mo,null,Ye[mo],Ne,u.children,ye,Pe,_o);"value"in Ye&&i(We,"value",null,Ye.value),(ze=Ye.onVnodeBeforeMount)&&invokeVNodeHook(ze,ye,u)}ot(We,u,u.scopeId,Fe,ye)}fo&&invokeDirectiveHook(u,null,ye,"beforeMount");const oo=(!Pe||Pe&&!Pe.pendingBranch)&&Pr&&!Pr.persisted;oo&&Pr.beforeEnter(We),o(We,b,d),((ze=Ye&&Ye.onVnodeMounted)||oo||fo)&&queuePostRenderEffect(()=>{ze&&invokeVNodeHook(ze,ye,u),oo&&Pr.enter(We),fo&&invokeDirectiveHook(u,null,ye,"mounted")},Pe)},ot=(u,b,d,ye,Pe)=>{if(d&&ge(u,d),ye)for(let Ne=0;Ne<ye.length;Ne++)ge(u,ye[Ne]);if(Pe){let Ne=Pe.subTree;if(b===Ne){const Fe=Pe.vnode;ot(u,Fe,Fe.scopeId,Fe.slotScopeIds,Pe.parent)}}},Xe=(u,b,d,ye,Pe,Ne,Fe,Se,We=0)=>{for(let ze=We;ze<u.length;ze++){const qe=u[ze]=Se?cloneIfMounted(u[ze]):normalizeVNode(u[ze]);Ue(null,qe,b,d,ye,Pe,Ne,Fe,Se)}},Gr=(u,b,d,ye,Pe,Ne,Fe)=>{const Se=b.el=u.el;let{patchFlag:We,dynamicChildren:ze,dirs:qe}=b;We|=u.patchFlag&16;const Ye=u.props||EMPTY_OBJ,bt=b.props||EMPTY_OBJ;let Pr;d&&toggleRecurse(d,!1),(Pr=bt.onVnodeBeforeUpdate)&&invokeVNodeHook(Pr,d,b,u),qe&&invokeDirectiveHook(b,u,d,"beforeUpdate"),d&&toggleRecurse(d,!0);const $r=Pe&&b.type!=="foreignObject";if(ze?zr(u.dynamicChildren,ze,Se,d,ye,$r,Ne):Fe||ho(u,b,Se,null,d,ye,$r,Ne,!1),We>0){if(We&16)wt(Se,b,Ye,bt,d,ye,Pe);else if(We&2&&Ye.class!==bt.class&&i(Se,"class",null,bt.class,Pe),We&4&&i(Se,"style",Ye.style,bt.style,Pe),We&8){const fo=b.dynamicProps;for(let oo=0;oo<fo.length;oo++){const mo=fo[oo],yo=Ye[mo],ko=bt[mo];(ko!==yo||mo==="value")&&i(Se,mo,yo,ko,Pe,u.children,d,ye,_o)}}We&1&&u.children!==b.children&&y(Se,b.children)}else!Fe&&ze==null&&wt(Se,b,Ye,bt,d,ye,Pe);((Pr=bt.onVnodeUpdated)||qe)&&queuePostRenderEffect(()=>{Pr&&invokeVNodeHook(Pr,d,b,u),qe&&invokeDirectiveHook(b,u,d,"updated")},ye)},zr=(u,b,d,ye,Pe,Ne,Fe)=>{for(let Se=0;Se<b.length;Se++){const We=u[Se],ze=b[Se],qe=We.el&&(We.type===Fragment||!isSameVNodeType(We,ze)||We.shapeFlag&70)?me(We.el):d;Ue(We,ze,qe,null,ye,Pe,Ne,Fe,!0)}},wt=(u,b,d,ye,Pe,Ne,Fe)=>{if(d!==ye){for(const Se in ye){if(isReservedProp(Se))continue;const We=ye[Se],ze=d[Se];We!==ze&&Se!=="value"&&i(u,Se,ze,We,Fe,b.children,Pe,Ne,_o)}if(d!==EMPTY_OBJ)for(const Se in d)!isReservedProp(Se)&&!(Se in ye)&&i(u,Se,d[Se],null,Fe,b.children,Pe,Ne,_o);"value"in ye&&i(u,"value",d.value,ye.value)}},Kr=(u,b,d,ye,Pe,Ne,Fe,Se,We)=>{const ze=b.el=u?u.el:a(""),qe=b.anchor=u?u.anchor:a("");let{patchFlag:Ye,dynamicChildren:bt,slotScopeIds:Pr}=b;Pr&&(Se=Se?Se.concat(Pr):Pr),u==null?(o(ze,d,ye),o(qe,d,ye),Xe(b.children,d,qe,Pe,Ne,Fe,Se,We)):Ye>0&&Ye&64&&bt&&u.dynamicChildren?(zr(u.dynamicChildren,bt,d,Pe,Ne,Fe,Se),(b.key!=null||Pe&&b===Pe.subTree)&&traverseStaticChildren(u,b,!0)):ho(u,b,d,qe,Pe,Ne,Fe,Se,We)},ao=(u,b,d,ye,Pe,Ne,Fe,Se,We)=>{b.slotScopeIds=Se,u==null?b.shapeFlag&512?Pe.ctx.activate(b,d,ye,Fe,We):to(b,d,ye,Pe,Ne,Fe,We):io(u,b,We)},to=(u,b,d,ye,Pe,Ne,Fe)=>{const Se=u.component=createComponentInstance(u,ye,Pe);if(isKeepAlive(u)&&(Se.ctx.renderer=To),setupComponent(Se),Se.asyncDep){if(Pe&&Pe.registerDep(Se,eo),!u.el){const We=Se.subTree=createVNode(Comment);so(null,We,b,d)}return}eo(Se,u,b,d,Pe,Ne,Fe)},io=(u,b,d)=>{const ye=b.component=u.component;if(shouldUpdateComponent(u,b,d))if(ye.asyncDep&&!ye.asyncResolved){co(ye,b,d);return}else ye.next=b,invalidateJob(ye.update),ye.update();else b.component=u.component,b.el=u.el,ye.vnode=b},eo=(u,b,d,ye,Pe,Ne,Fe)=>{const Se=()=>{if(u.isMounted){let{next:qe,bu:Ye,u:bt,parent:Pr,vnode:$r}=u,fo=qe,oo;toggleRecurse(u,!1),qe?(qe.el=$r.el,co(u,qe,Fe)):qe=$r,Ye&&invokeArrayFns(Ye),(oo=qe.props&&qe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(oo,Pr,qe,$r),toggleRecurse(u,!0);const mo=renderComponentRoot(u),yo=u.subTree;u.subTree=mo,Ue(yo,mo,me(yo.el),Eo(yo),u,Pe,Ne),qe.el=mo.el,fo===null&&updateHOCHostEl(u,mo.el),bt&&queuePostRenderEffect(bt,Pe),(oo=qe.props&&qe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(oo,Pr,qe,$r),Pe)}else{let qe;const{el:Ye,props:bt}=b,{bm:Pr,m:$r,parent:fo}=u,oo=isAsyncWrapper(b);if(toggleRecurse(u,!1),Pr&&invokeArrayFns(Pr),!oo&&(qe=bt&&bt.onVnodeBeforeMount)&&invokeVNodeHook(qe,fo,b),toggleRecurse(u,!0),Ye&&He){const mo=()=>{u.subTree=renderComponentRoot(u),He(Ye,u.subTree,u,Pe,null)};oo?b.type.__asyncLoader().then(()=>!u.isUnmounted&&mo()):mo()}else{const mo=u.subTree=renderComponentRoot(u);Ue(null,mo,d,ye,u,Pe,Ne),b.el=mo.el}if($r&&queuePostRenderEffect($r,Pe),!oo&&(qe=bt&&bt.onVnodeMounted)){const mo=b;queuePostRenderEffect(()=>invokeVNodeHook(qe,fo,mo),Pe)}b.shapeFlag&256&&u.a&&queuePostRenderEffect(u.a,Pe),u.isMounted=!0,b=d=ye=null}},We=u.effect=new ReactiveEffect(Se,()=>queueJob(u.update),u.scope),ze=u.update=We.run.bind(We);ze.id=u.uid,toggleRecurse(u,!0),ze()},co=(u,b,d)=>{b.component=u;const ye=u.vnode.props;u.vnode=b,u.next=null,updateProps(u,b.props,ye,d),updateSlots(u,b.children,d),pauseTracking(),flushPreFlushCbs(void 0,u.update),resetTracking()},ho=(u,b,d,ye,Pe,Ne,Fe,Se,We=!1)=>{const ze=u&&u.children,qe=u?u.shapeFlag:0,Ye=b.children,{patchFlag:bt,shapeFlag:Pr}=b;if(bt>0){if(bt&128){lo(ze,Ye,d,ye,Pe,Ne,Fe,Se,We);return}else if(bt&256){bo(ze,Ye,d,ye,Pe,Ne,Fe,Se,We);return}}Pr&8?(qe&16&&_o(ze,Pe,Ne),Ye!==ze&&y(d,Ye)):qe&16?Pr&16?lo(ze,Ye,d,ye,Pe,Ne,Fe,Se,We):_o(ze,Pe,Ne,!0):(qe&8&&y(d,""),Pr&16&&Xe(Ye,d,ye,Pe,Ne,Fe,Se,We))},bo=(u,b,d,ye,Pe,Ne,Fe,Se,We)=>{u=u||EMPTY_ARR,b=b||EMPTY_ARR;const ze=u.length,qe=b.length,Ye=Math.min(ze,qe);let bt;for(bt=0;bt<Ye;bt++){const Pr=b[bt]=We?cloneIfMounted(b[bt]):normalizeVNode(b[bt]);Ue(u[bt],Pr,d,null,Pe,Ne,Fe,Se,We)}ze>qe?_o(u,Pe,Ne,!0,!1,Ye):Xe(b,d,ye,Pe,Ne,Fe,Se,We,Ye)},lo=(u,b,d,ye,Pe,Ne,Fe,Se,We)=>{let ze=0;const qe=b.length;let Ye=u.length-1,bt=qe-1;for(;ze<=Ye&&ze<=bt;){const Pr=u[ze],$r=b[ze]=We?cloneIfMounted(b[ze]):normalizeVNode(b[ze]);if(isSameVNodeType(Pr,$r))Ue(Pr,$r,d,null,Pe,Ne,Fe,Se,We);else break;ze++}for(;ze<=Ye&&ze<=bt;){const Pr=u[Ye],$r=b[bt]=We?cloneIfMounted(b[bt]):normalizeVNode(b[bt]);if(isSameVNodeType(Pr,$r))Ue(Pr,$r,d,null,Pe,Ne,Fe,Se,We);else break;Ye--,bt--}if(ze>Ye){if(ze<=bt){const Pr=bt+1,$r=Pr<qe?b[Pr].el:ye;for(;ze<=bt;)Ue(null,b[ze]=We?cloneIfMounted(b[ze]):normalizeVNode(b[ze]),d,$r,Pe,Ne,Fe,Se,We),ze++}}else if(ze>bt)for(;ze<=Ye;)po(u[ze],Pe,Ne,!0),ze++;else{const Pr=ze,$r=ze,fo=new Map;for(ze=$r;ze<=bt;ze++){const Po=b[ze]=We?cloneIfMounted(b[ze]):normalizeVNode(b[ze]);Po.key!=null&&fo.set(Po.key,ze)}let oo,mo=0;const yo=bt-$r+1;let ko=!1,Lo=0;const Uo=new Array(yo);for(ze=0;ze<yo;ze++)Uo[ze]=0;for(ze=Pr;ze<=Ye;ze++){const Po=u[ze];if(mo>=yo){po(Po,Pe,Ne,!0);continue}let Mo;if(Po.key!=null)Mo=fo.get(Po.key);else for(oo=$r;oo<=bt;oo++)if(Uo[oo-$r]===0&&isSameVNodeType(Po,b[oo])){Mo=oo;break}Mo===void 0?po(Po,Pe,Ne,!0):(Uo[Mo-$r]=ze+1,Mo>=Lo?Lo=Mo:ko=!0,Ue(Po,b[Mo],d,null,Pe,Ne,Fe,Se,We),mo++)}const Bo=ko?getSequence(Uo):EMPTY_ARR;for(oo=Bo.length-1,ze=yo-1;ze>=0;ze--){const Po=$r+ze,Mo=b[Po],So=Po+1<qe?b[Po+1].el:ye;Uo[ze]===0?Ue(null,Mo,d,So,Pe,Ne,Fe,Se,We):ko&&(oo<0||ze!==Bo[oo]?vo(Mo,d,So,2):oo--)}}},vo=(u,b,d,ye,Pe=null)=>{const{el:Ne,type:Fe,transition:Se,children:We,shapeFlag:ze}=u;if(ze&6){vo(u.component.subTree,b,d,ye);return}if(ze&128){u.suspense.move(b,d,ye);return}if(ze&64){Fe.move(u,b,d,To);return}if(Fe===Fragment){o(Ne,b,d);for(let Ye=0;Ye<We.length;Ye++)vo(We[Ye],b,d,ye);o(u.anchor,b,d);return}if(Fe===Static){Ge(u,b,d);return}if(ye!==2&&ze&1&&Se)if(ye===0)Se.beforeEnter(Ne),o(Ne,b,d),queuePostRenderEffect(()=>Se.enter(Ne),Pe);else{const{leave:Ye,delayLeave:bt,afterLeave:Pr}=Se,$r=()=>o(Ne,b,d),fo=()=>{Ye(Ne,()=>{$r(),Pr&&Pr()})};bt?bt(Ne,$r,fo):fo()}else o(Ne,b,d)},po=(u,b,d,ye=!1,Pe=!1)=>{const{type:Ne,props:Fe,ref:Se,children:We,dynamicChildren:ze,shapeFlag:qe,patchFlag:Ye,dirs:bt}=u;if(Se!=null&&setRef(Se,null,d,u,!0),qe&256){b.ctx.deactivate(u);return}const Pr=qe&1&&bt,$r=!isAsyncWrapper(u);let fo;if($r&&(fo=Fe&&Fe.onVnodeBeforeUnmount)&&invokeVNodeHook(fo,b,u),qe&6)Ao(u.component,d,ye);else{if(qe&128){u.suspense.unmount(d,ye);return}Pr&&invokeDirectiveHook(u,null,b,"beforeUnmount"),qe&64?u.type.remove(u,b,d,Pe,To,ye):ze&&(Ne!==Fragment||Ye>0&&Ye&64)?_o(ze,b,d,!1,!0):(Ne===Fragment&&Ye&384||!Pe&&qe&16)&&_o(We,b,d),ye&&Oo(u)}($r&&(fo=Fe&&Fe.onVnodeUnmounted)||Pr)&&queuePostRenderEffect(()=>{fo&&invokeVNodeHook(fo,b,u),Pr&&invokeDirectiveHook(u,null,b,"unmounted")},d)},Oo=u=>{const{type:b,el:d,anchor:ye,transition:Pe}=u;if(b===Fragment){uo(d,ye);return}if(b===Static){Zr(u);return}const Ne=()=>{n(d),Pe&&!Pe.persisted&&Pe.afterLeave&&Pe.afterLeave()};if(u.shapeFlag&1&&Pe&&!Pe.persisted){const{leave:Fe,delayLeave:Se}=Pe,We=()=>Fe(d,Ne);Se?Se(u.el,Ne,We):We()}else Ne()},uo=(u,b)=>{let d;for(;u!==b;)d=se(u),n(u),u=d;n(b)},Ao=(u,b,d)=>{const{bum:ye,scope:Pe,update:Ne,subTree:Fe,um:Se}=u;ye&&invokeArrayFns(ye),Pe.stop(),Ne&&(Ne.active=!1,po(Fe,u,b,d)),Se&&queuePostRenderEffect(Se,b),queuePostRenderEffect(()=>{u.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},_o=(u,b,d,ye=!1,Pe=!1,Ne=0)=>{for(let Fe=Ne;Fe<u.length;Fe++)po(u[Fe],b,d,ye,Pe)},Eo=u=>u.shapeFlag&6?Eo(u.component.subTree):u.shapeFlag&128?u.suspense.next():se(u.anchor||u.el),$o=(u,b,d)=>{u==null?b._vnode&&po(b._vnode,null,null,!0):Ue(b._vnode||null,u,b,null,null,null,d),flushPostFlushCbs(),b._vnode=u},To={p:Ue,um:po,m:vo,r:Oo,mt:to,mc:Xe,pc:ho,pbc:zr,n:Eo,o:e};let wo,He;return t&&([wo,He]=t(To)),{render:$o,hydrate:wo,createApp:createAppAPI($o,wo)}}function toggleRecurse({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(e,t,r=!1){const o=e.children,n=t.children;if(isArray(o)&&isArray(n))for(let i=0;i<o.length;i++){const s=o[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=cloneIfMounted(n[i]),a.el=s.el),r||traverseStaticChildren(s,a))}}function getSequence(e){const t=e.slice(),r=[0];let o,n,i,s,a;const c=e.length;for(o=0;o<c;o++){const l=e[o];if(l!==0){if(n=r[r.length-1],e[n]<l){t[o]=n,r.push(o);continue}for(i=0,s=r.length-1;i<s;)a=i+s>>1,e[r[a]]<l?i=a+1:s=a;l<e[r[i]]&&(i>0&&(t[o]=r[i-1]),r[i]=o)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=t[s];return r}const isTeleport=e=>e.__isTeleport,COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,t){return resolveAsset(COMPONENTS,e,!0,t)||e}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString$2(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,t,r=!0,o=!1){const n=currentRenderingInstance||currentInstance;if(n){const i=n.type;if(e===COMPONENTS){const a=getComponentName(i);if(a&&(a===t||a===camelize(t)||a===capitalize(camelize(t))))return i}const s=resolve(n[e]||i[e],t)||resolve(n.appContext[e],t);return!s&&o?i:s}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,r,o,n,i){return setupBlock(createBaseVNode(e,t,r,o,n,i,!0))}function createBlock(e,t,r,o,n){return setupBlock(createVNode(e,t,r,o,n,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e!=null?e:null,normalizeRef=({ref:e,ref_key:t,ref_for:r})=>e!=null?isString$2(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!r}:e:null;function createBaseVNode(e,t=null,r=null,o=0,n=null,i=e===Fragment?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null};return a?(normalizeChildren(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&currentBlock.push(c),c}const createVNode=_createVNode;function _createVNode(e,t=null,r=null,o=0,n=null,i=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const a=cloneVNode(e,t,!0);return r&&normalizeChildren(a,r),a}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:a,style:c}=t;a&&!isString$2(a)&&(t.class=normalizeClass(a)),isObject$1(c)&&(isProxy(c)&&!isArray(c)&&(c=extend({},c)),t.style=normalizeStyle(c))}const s=isString$2(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject$1(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,r,o,n,s,i,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,r=!1){const{props:o,ref:n,patchFlag:i,children:s}=e,a=t?mergeProps(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&normalizeKey(a),ref:t&&t.ref?r&&n?isArray(n)?n.concat(normalizeRef(t)):[n,normalizeRef(t)]:normalizeRef(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function createCommentVNode(e="",t=!1){return t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let r=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(isArray(t))r=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),normalizeChildren(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:n===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),o&64?(r=16,t=[createTextVNode(t)]):r=8);e.children=t,e.shapeFlag|=r}function mergeProps(...e){const t={};for(let r=0;r<e.length;r++){const o=e[r];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=normalizeClass([t.class,o.class]));else if(n==="style")t.style=normalizeStyle([t.style,o.style]);else if(isOn(n)){const i=t[n],s=o[n];s&&i!==s&&!(isArray(i)&&i.includes(s))&&(t[n]=i?[].concat(i,s):s)}else n!==""&&(t[n]=o[n])}return t}function invokeVNodeHook(e,t,r,o=null){callWithAsyncErrorHandling(e,t,7,[r,o])}function renderList(e,t,r,o){let n;const i=r&&r[o];if(isArray(e)||isString$2(e)){n=new Array(e.length);for(let s=0,a=e.length;s<a;s++)n[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,i&&i[s])}else if(isObject$1(e))if(e[Symbol.iterator])n=Array.from(e,(s,a)=>t(s,a,void 0,i&&i[a]));else{const s=Object.keys(e);n=new Array(s.length);for(let a=0,c=s.length;a<c;a++){const l=s[a];n[a]=t(e[l],l,a,i&&i[a])}}else n=[];return r&&(r[o]=n),n}function createSlots(e,t){for(let r=0;r<t.length;r++){const o=t[r];if(isArray(o))for(let n=0;n<o.length;n++)e[o[n].name]=o[n].fn;else o&&(e[o.name]=o.fn)}return e}function renderSlot(e,t,r={},o,n){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",t==="default"?null:{name:t},o&&o());let i=e[t];i&&i._c&&(i._d=!1),openBlock();const s=i&&ensureValidVNode(i(r)),a=createBlock(Fragment,{key:r.key||`_${t}`},s||(o?o():[]),s&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ensureValidVNode(e){return e.some(t=>isVNode(t)?!(t.type===Comment||t.type===Fragment&&!ensureValidVNode(t.children)):!0)?e:null}function toHandlers(e){const t={};for(const r in e)t[toHandlerKey(r)]=e[r];return t}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>()=>queueJob(e.update),$nextTick:e=>nextTick.bind(e.proxy),$watch:e=>instanceWatch.bind(e)}),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:r,setupState:o,data:n,props:i,accessCache:s,type:a,appContext:c}=e;let l;if(t[0]!=="$"){const ge=s[t];if(ge!==void 0)switch(ge){case 1:return o[t];case 2:return n[t];case 4:return r[t];case 3:return i[t]}else{if(o!==EMPTY_OBJ&&hasOwn(o,t))return s[t]=1,o[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return s[t]=2,n[t];if((l=e.propsOptions[0])&&hasOwn(l,t))return s[t]=3,i[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return s[t]=4,r[t];shouldCacheAccess&&(s[t]=0)}}const y=publicPropertiesMap[t];let me,se;if(y)return t==="$attrs"&&track(e,"get",t),y(e);if((me=a.__cssModules)&&(me=me[t]))return me;if(r!==EMPTY_OBJ&&hasOwn(r,t))return s[t]=4,r[t];if(se=c.config.globalProperties,hasOwn(se,t))return se[t]},set({_:e},t,r){const{data:o,setupState:n,ctx:i}=e;return n!==EMPTY_OBJ&&hasOwn(n,t)?(n[t]=r,!0):o!==EMPTY_OBJ&&hasOwn(o,t)?(o[t]=r,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:o,appContext:n,propsOptions:i}},s){let a;return!!r[s]||e!==EMPTY_OBJ&&hasOwn(e,s)||t!==EMPTY_OBJ&&hasOwn(t,s)||(a=i[0])&&hasOwn(a,s)||hasOwn(o,s)||hasOwn(publicPropertiesMap,s)||hasOwn(n.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:hasOwn(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(e,t,r){const o=e.type,n=(t?t.appContext:e.appContext)||emptyAppContext,i={uid:uid$1++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,n),emitsOptions:normalizeEmitsOptions(o,n),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=emit$1.bind(null,i),e.ce&&e.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:r,children:o}=e.vnode,n=isStatefulComponent(e);initProps(e,r,n,t),initSlots(e,o);const i=n?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,i}function setupStatefulComponent(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:o}=r;if(o){const n=e.setupContext=o.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const i=callWithErrorHandling(o,e,0,[e.props,n]);if(resetTracking(),unsetCurrentInstance(),isPromise(i)){if(i.then(unsetCurrentInstance,unsetCurrentInstance),t)return i.then(s=>{handleSetupResult(e,s,t)}).catch(s=>{handleError(s,e,0)});e.asyncDep=i}else handleSetupResult(e,i,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,r){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject$1(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,r)}let compile;function finishComponentSetup(e,t,r){const o=e.type;if(!e.render){if(!t&&compile&&!o.render){const n=o.template;if(n){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:c}=o,l=extend(extend({isCustomElement:i,delimiters:a},s),c);o.render=compile(n,l)}}e.render=o.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,r){return track(e,"get","$attrs"),t[r]}})}function createSetupContext(e){const t=o=>{e.exposed=o||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](e)}}))}function getComponentName(e){return isFunction(e)&&e.displayName||e.name}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup);function h$1(e,t,r){const o=arguments.length;return o===2?isObject$1(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&isVNode(r)&&(r=[r]),createVNode(e,t,r))}const version="3.2.33",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,o)=>{const n=t?doc.createElementNS(svgNS,e):doc.createElement(e,r?{is:r}:void 0);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,o,n,i){const s=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{templateContainer.innerHTML=o?`<svg>${e}</svg>`:e;const a=templateContainer.content;if(o){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(e,t,r){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,r){const o=e.style,n=isString$2(r);if(r&&!n){for(const i in r)setStyle(o,i,r[i]);if(t&&!isString$2(t))for(const i in t)r[i]==null&&setStyle(o,i,"")}else{const i=o.display;n?t!==r&&(o.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=i)}}const importantRE=/\s*!important$/;function setStyle(e,t,r){if(isArray(r))r.forEach(o=>setStyle(e,t,o));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const o=autoPrefix(e,t);importantRE.test(r)?e.setProperty(hyphenate(o),r.replace(importantRE,""),"important"):e[o]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const r=prefixCache[t];if(r)return r;let o=camelize(t);if(o!=="filter"&&o in e)return prefixCache[t]=o;o=capitalize(o);for(let n=0;n<prefixes.length;n++){const i=prefixes[n]+o;if(i in e)return prefixCache[t]=i}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,r,o,n){if(o&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,r);else{const i=isSpecialBooleanAttr(t);r==null||i&&!includeBooleanAttr(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function patchDOMProp(e,t,r,o,n,i,s){if(t==="innerHTML"||t==="textContent"){o&&s(o,n,i),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r==null?"":r;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let a=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=includeBooleanAttr(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{e[t]=r}catch(c){}a&&e.removeAttribute(t)}const[_getNow,skipTimestampCheck]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener(e,t,r,o){e.addEventListener(t,r,o)}function removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}function patchEvent(e,t,r,o,n=null){const i=e._vei||(e._vei={}),s=i[t];if(o&&s)s.value=o;else{const[a,c]=parseName(t);if(o){const l=i[t]=createInvoker(o,n);addEventListener(e,a,l,c)}else s&&(removeEventListener(e,a,s,c),i[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[hyphenate(e.slice(2)),t]}function createInvoker(e,t){const r=o=>{const n=o.timeStamp||_getNow();(skipTimestampCheck||n>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(o,r.value),t,5,[o])};return r.value=e,r.attached=getNow(),r}function patchStopImmediatePropagation(e,t){if(isArray(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,r,o,n=!1,i,s,a,c)=>{t==="class"?patchClass(e,o,n):t==="style"?patchStyle(e,r,o):isOn(t)?isModelListener(t)||patchEvent(e,t,r,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,o,n))?patchDOMProp(e,t,o,i,s,a,c):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),patchAttr(e,t,o,n))};function shouldSetAsProp(e,t,r,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$2(r)?!1:t in e}function useCssVars(e){const t=getCurrentInstance();if(!t)return;const r=()=>setVarsOnVNode(t.subTree,e(t.proxy));watchPostEffect(r),onMounted(()=>{const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)setVarsOnNode(e.el,t);else if(e.type===Fragment)e.children.forEach(r=>setVarsOnVNode(r,t));else if(e.type===Static){let{el:r,anchor:o}=e;for(;r&&(setVarsOnNode(r,t),r!==o);)r=r.nextSibling}}function setVarsOnNode(e,t){if(e.nodeType===1){const r=e.style;for(const o in t)r.setProperty(`--${o}`,t[o])}}const TRANSITION="transition",ANIMATION="animation",Transition=(e,{slots:t})=>h$1(BaseTransition,resolveTransitionProps(e),t);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(e,t=[])=>{isArray(e)?e.forEach(r=>r(...t)):e&&e(...t)},hasExplicitCallback=e=>e?isArray(e)?e.some(t=>t.length>1):e.length>1:!1;function resolveTransitionProps(e){const t={};for(const wt in e)wt in DOMTransitionPropsValidators||(t[wt]=e[wt]);if(e.css===!1)return t;const{name:r="v",type:o,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:l=s,appearToClass:y=a,leaveFromClass:me=`${r}-leave-from`,leaveActiveClass:se=`${r}-leave-active`,leaveToClass:ge=`${r}-leave-to`}=e,be=normalizeDuration(n),_e=be&&be[0],Ue=be&&be[1],{onBeforeEnter:xt,onEnter:so,onEnterCancelled:yt,onLeave:Ge,onLeaveCancelled:Zr,onBeforeAppear:ro=xt,onAppear:Qr=so,onAppearCancelled:ot=yt}=t,Xe=(wt,Kr,ao)=>{removeTransitionClass(wt,Kr?y:a),removeTransitionClass(wt,Kr?l:s),ao&&ao()},Gr=(wt,Kr)=>{removeTransitionClass(wt,ge),removeTransitionClass(wt,se),Kr&&Kr()},zr=wt=>(Kr,ao)=>{const to=wt?Qr:so,io=()=>Xe(Kr,wt,ao);callHook(to,[Kr,io]),nextFrame(()=>{removeTransitionClass(Kr,wt?c:i),addTransitionClass(Kr,wt?y:a),hasExplicitCallback(to)||whenTransitionEnds(Kr,o,_e,io)})};return extend(t,{onBeforeEnter(wt){callHook(xt,[wt]),addTransitionClass(wt,i),addTransitionClass(wt,s)},onBeforeAppear(wt){callHook(ro,[wt]),addTransitionClass(wt,c),addTransitionClass(wt,l)},onEnter:zr(!1),onAppear:zr(!0),onLeave(wt,Kr){const ao=()=>Gr(wt,Kr);addTransitionClass(wt,me),forceReflow(),addTransitionClass(wt,se),nextFrame(()=>{removeTransitionClass(wt,me),addTransitionClass(wt,ge),hasExplicitCallback(Ge)||whenTransitionEnds(wt,o,Ue,ao)}),callHook(Ge,[wt,ao])},onEnterCancelled(wt){Xe(wt,!1),callHook(yt,[wt])},onAppearCancelled(wt){Xe(wt,!0),callHook(ot,[wt])},onLeaveCancelled(wt){Gr(wt),callHook(Zr,[wt])}})}function normalizeDuration(e){if(e==null)return null;if(isObject$1(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const t=NumberOf(e);return[t,t]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,t,r,o){const n=e._endId=++endId,i=()=>{n===e._endId&&o()};if(r)return setTimeout(i,r);const{type:s,timeout:a,propCount:c}=getTransitionInfo(e,t);if(!s)return o();const l=s+"end";let y=0;const me=()=>{e.removeEventListener(l,se),i()},se=ge=>{ge.target===e&&++y>=c&&me()};setTimeout(()=>{y<c&&me()},a+1),e.addEventListener(l,se)}function getTransitionInfo(e,t){const r=window.getComputedStyle(e),o=be=>(r[be]||"").split(", "),n=o(TRANSITION+"Delay"),i=o(TRANSITION+"Duration"),s=getTimeout(n,i),a=o(ANIMATION+"Delay"),c=o(ANIMATION+"Duration"),l=getTimeout(a,c);let y=null,me=0,se=0;t===TRANSITION?s>0&&(y=TRANSITION,me=s,se=i.length):t===ANIMATION?l>0&&(y=ANIMATION,me=l,se=c.length):(me=Math.max(s,l),y=me>0?s>l?TRANSITION:ANIMATION:null,se=y?y===TRANSITION?i.length:c.length:0);const ge=y===TRANSITION&&/\b(transform|all)(,|$)/.test(r[TRANSITION+"Property"]);return{type:y,timeout:me,propCount:se,hasTransform:ge}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,o)=>toMs(r)+toMs(e[o])))}function toMs(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=getCurrentInstance(),o=useTransitionState();let n,i;return onUpdated(()=>{if(!n.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!hasCSSTransform(n[0].el,r.vnode.el,s))return;n.forEach(callPendingCbs),n.forEach(recordPosition);const a=n.filter(applyTranslation);forceReflow(),a.forEach(c=>{const l=c.el,y=l.style;addTransitionClass(l,s),y.transform=y.webkitTransform=y.transitionDuration="";const me=l._moveCb=se=>{se&&se.target!==l||(!se||/transform$/.test(se.propertyName))&&(l.removeEventListener("transitionend",me),l._moveCb=null,removeTransitionClass(l,s))};l.addEventListener("transitionend",me)})}),()=>{const s=toRaw(e),a=resolveTransitionProps(s);let c=s.tag||Fragment;n=i,i=t.default?getTransitionRawChildren(t.default()):[];for(let l=0;l<i.length;l++){const y=i[l];y.key!=null&&setTransitionHooks(y,resolveTransitionHooks(y,a,o,r))}if(n)for(let l=0;l<n.length;l++){const y=n[l];setTransitionHooks(y,resolveTransitionHooks(y,a,o,r)),positionMap.set(y,y.el.getBoundingClientRect())}return createVNode(c,null,i)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function recordPosition(e){newPositionMap.set(e,e.el.getBoundingClientRect())}function applyTranslation(e){const t=positionMap.get(e),r=newPositionMap.get(e),o=t.left-r.left,n=t.top-r.top;if(o||n){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${n}px)`,i.transitionDuration="0s",e}}function hasCSSTransform(e,t,r){const o=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),r.split(/\s+/).forEach(s=>s&&o.classList.add(s)),o.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(o);const{hasTransform:i}=getTransitionInfo(o);return n.removeChild(o),i}const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"];return isArray(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,trigger(t,"input"))}function trigger(e,t){const r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}const vModelText={created(e,{modifiers:{lazy:t,trim:r,number:o}},n){e._assign=getModelAssigner(n);const i=o||n.props&&n.props.type==="number";addEventListener(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;r?a=a.trim():i&&(a=toNumber(a)),e._assign(a)}),r&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:o,number:n}},i){if(e._assign=getModelAssigner(i),e.composing||document.activeElement===e&&(r||o&&e.value.trim()===t||(n||e.type==="number")&&toNumber(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},vModelRadio={created(e,{value:t},r){e.checked=looseEqual(t,r.props.value),e._assign=getModelAssigner(r),addEventListener(e,"change",()=>{e._assign(getValue(e))})},beforeUpdate(e,{value:t,oldValue:r},o){e._assign=getModelAssigner(o),t!==r&&(e.checked=looseEqual(t,o.props.value))}};function getValue(e){return"_value"in e?e._value:e.value}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(r=>e[`${r}Key`]&&!t.includes(r))},withModifiers=(e,t)=>(r,...o)=>{for(let n=0;n<t.length;n++){const i=modifierGuards[t[n]];if(i&&i(r,t))return}return e(r,...o)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,t)=>r=>{if(!("key"in r))return;const o=hyphenate(r.key);if(t.some(n=>n===o||keyNames[n]===o))return e(r)},vShow={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):setDisplay(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:o}){!t!=!r&&(o?t?(o.beforeEnter(e),setDisplay(e,!0),o.enter(e)):o.leave(e,()=>{setDisplay(e,!1)}):setDisplay(e,t))},beforeUnmount(e,{value:t}){setDisplay(e,t)}};function setDisplay(e,t){e.style.display=t?e._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:r}=t;return t.mount=o=>{const n=normalizeContainer(o);if(!n)return;const i=t._component;!isFunction(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.innerHTML="";const s=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function normalizeContainer(e){return isString$2(e)?document.querySelector(e):e}var browserPolyfill={exports:{}};(function(e,t){(function(r,o){o(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:commonjsGlobal,function(r){var o,n;if(!((n=(o=globalThis.chrome)==null?void 0:o.runtime)!=null&&n.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const i="The message port closed before a response was received.",s=a=>{const c={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(c).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(Xe,Gr=void 0){super(Gr),this.createItem=Xe}get(Xe){return this.has(Xe)||this.set(Xe,this.createItem(Xe)),super.get(Xe)}}const y=ot=>ot&&typeof ot=="object"&&typeof ot.then=="function",me=(ot,Xe)=>(...Gr)=>{a.runtime.lastError?ot.reject(new Error(a.runtime.lastError.message)):Xe.singleCallbackArg||Gr.length<=1&&Xe.singleCallbackArg!==!1?ot.resolve(Gr[0]):ot.resolve(Gr)},se=ot=>ot==1?"argument":"arguments",ge=(ot,Xe)=>function(zr,...wt){if(wt.length<Xe.minArgs)throw new Error(`Expected at least ${Xe.minArgs} ${se(Xe.minArgs)} for ${ot}(), got ${wt.length}`);if(wt.length>Xe.maxArgs)throw new Error(`Expected at most ${Xe.maxArgs} ${se(Xe.maxArgs)} for ${ot}(), got ${wt.length}`);return new Promise((Kr,ao)=>{if(Xe.fallbackToNoCallback)try{zr[ot](...wt,me({resolve:Kr,reject:ao},Xe))}catch(to){console.warn(`${ot} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,to),zr[ot](...wt),Xe.fallbackToNoCallback=!1,Xe.noCallback=!0,Kr()}else Xe.noCallback?(zr[ot](...wt),Kr()):zr[ot](...wt,me({resolve:Kr,reject:ao},Xe))})},be=(ot,Xe,Gr)=>new Proxy(Xe,{apply(zr,wt,Kr){return Gr.call(wt,ot,...Kr)}});let _e=Function.call.bind(Object.prototype.hasOwnProperty);const Ue=(ot,Xe={},Gr={})=>{let zr=Object.create(null),wt={has(ao,to){return to in ot||to in zr},get(ao,to,io){if(to in zr)return zr[to];if(!(to in ot))return;let eo=ot[to];if(typeof eo=="function")if(typeof Xe[to]=="function")eo=be(ot,ot[to],Xe[to]);else if(_e(Gr,to)){let co=ge(to,Gr[to]);eo=be(ot,ot[to],co)}else eo=eo.bind(ot);else if(typeof eo=="object"&&eo!==null&&(_e(Xe,to)||_e(Gr,to)))eo=Ue(eo,Xe[to],Gr[to]);else if(_e(Gr,"*"))eo=Ue(eo,Xe[to],Gr["*"]);else return Object.defineProperty(zr,to,{configurable:!0,enumerable:!0,get(){return ot[to]},set(co){ot[to]=co}}),eo;return zr[to]=eo,eo},set(ao,to,io,eo){return to in zr?zr[to]=io:ot[to]=io,!0},defineProperty(ao,to,io){return Reflect.defineProperty(zr,to,io)},deleteProperty(ao,to){return Reflect.deleteProperty(zr,to)}},Kr=Object.create(ot);return new Proxy(Kr,wt)},xt=ot=>({addListener(Xe,Gr,...zr){Xe.addListener(ot.get(Gr),...zr)},hasListener(Xe,Gr){return Xe.hasListener(ot.get(Gr))},removeListener(Xe,Gr){Xe.removeListener(ot.get(Gr))}}),so=new l(ot=>typeof ot!="function"?ot:function(Gr){const zr=Ue(Gr,{},{getContent:{minArgs:0,maxArgs:0}});ot(zr)}),yt=new l(ot=>typeof ot!="function"?ot:function(Gr,zr,wt){let Kr=!1,ao,to=new Promise(ho=>{ao=function(bo){Kr=!0,ho(bo)}}),io;try{io=ot(Gr,zr,ao)}catch(ho){io=Promise.reject(ho)}const eo=io!==!0&&y(io);if(io!==!0&&!eo&&!Kr)return!1;const co=ho=>{ho.then(bo=>{wt(bo)},bo=>{let lo;bo&&(bo instanceof Error||typeof bo.message=="string")?lo=bo.message:lo="An unexpected error occurred",wt({__mozWebExtensionPolyfillReject__:!0,message:lo})}).catch(bo=>{console.error("Failed to send onMessage rejected reply",bo)})};return co(eo?io:to),!0}),Ge=({reject:ot,resolve:Xe},Gr)=>{a.runtime.lastError?a.runtime.lastError.message===i?Xe():ot(new Error(a.runtime.lastError.message)):Gr&&Gr.__mozWebExtensionPolyfillReject__?ot(new Error(Gr.message)):Xe(Gr)},Zr=(ot,Xe,Gr,...zr)=>{if(zr.length<Xe.minArgs)throw new Error(`Expected at least ${Xe.minArgs} ${se(Xe.minArgs)} for ${ot}(), got ${zr.length}`);if(zr.length>Xe.maxArgs)throw new Error(`Expected at most ${Xe.maxArgs} ${se(Xe.maxArgs)} for ${ot}(), got ${zr.length}`);return new Promise((wt,Kr)=>{const ao=Ge.bind(null,{resolve:wt,reject:Kr});zr.push(ao),Gr.sendMessage(...zr)})},ro={devtools:{network:{onRequestFinished:xt(so)}},runtime:{onMessage:xt(yt),onMessageExternal:xt(yt),sendMessage:Zr.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Zr.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},Qr={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return c.privacy={network:{"*":Qr},services:{"*":Qr},websites:{"*":Qr}},Ue(a,ro,c)};r.exports=s(chrome)}else r.exports=globalThis.browser})})(browserPolyfill);const browser=browserPolyfill.exports;class StorageService{constructor(t,r){this.namespace=t,this.data=r}getNamespacedKey(t){return`${this.namespace}.${t}`}getStorageRecord(t){const r=this.getNamespacedKey(t);return{[r]:this.data[r]}}async init(t){Object.entries(t).forEach(r=>{const[o,n]=r;this.data[this.getNamespacedKey(o)]=n}),this.data=await this.getFromStorage()}getAll(){const t={};return Object.entries(this.data).forEach(([r,o])=>{const[,...n]=r.split(".");t[n.join("")]=o}),t}getValue(t){return this.data[this.getNamespacedKey(t)]}setValue(t,r){return this.data[this.getNamespacedKey(t)]=r,this.syncToStorage(this.getStorageRecord(t))}remove(t){return delete this.data[this.getNamespacedKey(t)],this.removeFromStorage(this.getNamespacedKey(t))}}const An=class extends StorageService{static create(t){var r;return An.instances[t]=(r=An.instances[t])!=null?r:new this(t,{}),An.instances[t]}getFromStorage(){return browser.storage.local.get(this.data)}removeFromStorage(t){return browser.storage.local.remove(t)}syncToStorage(t){return browser.storage.local.set(t)}};let LocalStorageService=An;Sr(LocalStorageService,"instances",{});const kn=class extends StorageService{static create(t){var r;return kn.instance=(r=kn.instance)!=null?r:new this(t,{}),kn.instance}getFromStorage(){return browser.storage.sync.get(this.data)}removeFromStorage(t){return browser.storage.sync.remove(t)}syncToStorage(t){return browser.storage.sync.set(t)}};let SyncStorageService=kn;Sr(SyncStorageService,"instance");var OptionKey=(e=>(e.FpDirectToMerchant="fpDirectToMerchant",e.GoogleRcmInject="googleRcmInject",e.AllowTracking="allowTracking",e))(OptionKey||{});const options={fpDirectToMerchant:{label:"Direct to Merchant",content:"When you click on a frontpage deal, you will directly go to the retail store.",key:"fpDirectToMerchant",default:!0,storage:"sync"},googleRcmInject:{label:"Related Content on Google",content:"When you search for shopping-related products on Google, we'll show you the best deals that are currently active on Slickdeals",key:"googleRcmInject",default:!0,storage:"sync"},allowTracking:{label:"Allow tracking",content:"Allow extension to send anonymous data to Slickdeals pertaining to your shopping experience",key:"allowTracking",default:void 0,storage:"local",hidden:!1}};var __defProp$v=Object.defineProperty,__getOwnPropDesc$v=Object.getOwnPropertyDescriptor,__decorateClass$v=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$v(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$v(t,r,n),n};const OPTIONS_NAMESPACE="uo";var os;let UserOptionsService=(os=class{constructor(e,t){Sr(this,"options",{});this.localStorageService=e,this.syncStorageService=t}static create(){var e;return UserOptionsService.instance=(e=UserOptionsService.instance)!=null?e:new this(LocalStorageService.create(OPTIONS_NAMESPACE),SyncStorageService.create(OPTIONS_NAMESPACE)),UserOptionsService.instance}async init(){const e={local:{[OptionKey.FpDirectToMerchant]:!0,[OptionKey.GoogleRcmInject]:!0,[OptionKey.AllowTracking]:void 0},sync:{[OptionKey.FpDirectToMerchant]:!0,[OptionKey.GoogleRcmInject]:!0}};for(const t of Object.keys(options)){const r=t,o=options[r].storage;e[o][r]=options[r].default}await this.localStorageService.init(e.local),await this.syncStorageService.init(e.sync);for(const t of Object.keys(options)){const r=t,o=options[r];this.options[r]={...o,value:o.storage==="local"?this.localStorageService.getValue(r):this.syncStorageService.getValue(r)}}}getAllOptions(){return{[OptionKey.FpDirectToMerchant]:this.getOptionKeyValue(OptionKey.FpDirectToMerchant),[OptionKey.GoogleRcmInject]:this.getOptionKeyValue(OptionKey.GoogleRcmInject),[OptionKey.AllowTracking]:this.getOptionKeyValue(OptionKey.AllowTracking)}}getOptionKeyValue(e){return this.options[e].storage==="local"?this.localStorageService.getValue(e):this.syncStorageService.getValue(e)}updateOptionByKey(e,t){return this.options[e].value=t,this.options[e].storage==="local"?this.localStorageService.setValue(e,t):this.syncStorageService.setValue(e,t)}},Sr(os,"instance"),os);UserOptionsService=__decorateClass$v([initializable],UserOptionsService);const objectToString$1=Object.prototype.toString;function isError$1(e){switch(objectToString$1.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf$1(e,Error)}}function isBuiltin$1(e,t){return objectToString$1.call(e)===`[object ${t}]`}function isString$1(e){return isBuiltin$1(e,"String")}function isPrimitive$1(e){return e===null||typeof e!="object"&&typeof e!="function"}function isPlainObject$1(e){return isBuiltin$1(e,"Object")}function isEvent$1(e){return typeof Event<"u"&&isInstanceOf$1(e,Event)}function isElement$1(e){return typeof Element<"u"&&isInstanceOf$1(e,Element)}function isRegExp(e){return isBuiltin$1(e,"RegExp")}function isThenable$1(e){return Boolean(e&&e.then&&typeof e.then=="function")}function isSyntheticEvent$1(e){return isPlainObject$1(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function isNaN$2(e){return typeof e=="number"&&e!==e}function isInstanceOf$1(e,t){try{return e instanceof t}catch(r){return!1}}function isGlobalObj$2(e){return e&&e.Math==Math?e:void 0}const GLOBAL_OBJ$2=typeof globalThis=="object"&&isGlobalObj$2(globalThis)||typeof window=="object"&&isGlobalObj$2(window)||typeof self=="object"&&isGlobalObj$2(self)||typeof global=="object"&&isGlobalObj$2(global)||function(){return this}()||{};function getGlobalObject$2(){return GLOBAL_OBJ$2}function getGlobalSingleton$2(e,t,r){const o=r||GLOBAL_OBJ$2,n=o.__SENTRY__=o.__SENTRY__||{};return n[e]||(n[e]=t())}const DEFAULT_MAX_STRING_LENGTH$1=80;function htmlTreeAsString$1(e,t={}){try{let r=e;const o=5,n=[];let i=0,s=0;const a=" > ",c=a.length;let l;const y=Array.isArray(t)?t:t.keyAttrs,me=!Array.isArray(t)&&t.maxStringLength||DEFAULT_MAX_STRING_LENGTH$1;for(;r&&i++<o&&(l=_htmlElementAsString$1(r,y),!(l==="html"||i>1&&s+n.length*c+l.length>=me));)n.push(l),s+=l.length,r=r.parentNode;return n.reverse().join(a)}catch(r){return"<unknown>"}}function _htmlElementAsString$1(e,t){const r=e,o=[];let n,i,s,a,c;if(!r||!r.tagName)return"";o.push(r.tagName.toLowerCase());const l=t&&t.length?t.filter(me=>r.getAttribute(me)).map(me=>[me,r.getAttribute(me)]):null;if(l&&l.length)l.forEach(me=>{o.push(`[${me[0]}="${me[1]}"]`)});else if(r.id&&o.push(`#${r.id}`),n=r.className,n&&isString$1(n))for(i=n.split(/\s+/),c=0;c<i.length;c++)o.push(`.${i[c]}`);const y=["aria-label","type","name","title","alt"];for(c=0;c<y.length;c++)s=y[c],a=r.getAttribute(s),a&&o.push(`[${s}="${a}"]`);return o.join("")}class SentryError extends Error{constructor(t,r="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}const DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(e){return e==="http"||e==="https"}function dsnToString$1(e,t=!1){const{host:r,path:o,pass:n,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&n?`:${n}`:""}@${r}${i?`:${i}`:""}/${o&&`${o}/`}${s}`}function dsnFromString(e){const t=DSN_REGEX.exec(e);if(!t)throw new SentryError(`Invalid Sentry Dsn: ${e}`);const[r,o,n="",i,s="",a]=t.slice(1);let c="",l=a;const y=l.split("/");if(y.length>1&&(c=y.slice(0,-1).join("/"),l=y.pop()),l){const me=l.match(/^\d+/);me&&(l=me[0])}return dsnFromComponents({host:i,pass:n,path:c,projectId:l,port:s,protocol:r,publicKey:o})}function dsnFromComponents(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function validateDsn(e){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:t,projectId:r,protocol:o}=e;if(["protocol","publicKey","host","projectId"].forEach(i=>{if(!e[i])throw new SentryError(`Invalid Sentry Dsn: ${i} missing`)}),!r.match(/^\d+$/))throw new SentryError(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!isValidProtocol(o))throw new SentryError(`Invalid Sentry Dsn: Invalid protocol ${o}`);if(t&&isNaN(parseInt(t,10)))throw new SentryError(`Invalid Sentry Dsn: Invalid port ${t}`);return!0}function makeDsn(e){const t=typeof e=="string"?dsnFromString(e):dsnFromComponents(e);return validateDsn(t),t}const PREFIX$2="Sentry Logger ",CONSOLE_LEVELS$2=["debug","info","warn","error","log","assert","trace"];function consoleSandbox$2(e){if(!("console"in GLOBAL_OBJ$2))return e();const t=GLOBAL_OBJ$2.console,r={};CONSOLE_LEVELS$2.forEach(o=>{const n=t[o]&&t[o].__sentry_original__;o in t&&n&&(r[o]=t[o],t[o]=n)});try{return e()}finally{Object.keys(r).forEach(o=>{t[o]=r[o]})}}function makeLogger$2(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?CONSOLE_LEVELS$2.forEach(r=>{t[r]=(...o)=>{e&&consoleSandbox$2(()=>{GLOBAL_OBJ$2.console[r](`${PREFIX$2}[${r}]:`,...o)})}}):CONSOLE_LEVELS$2.forEach(r=>{t[r]=()=>{}}),t}let logger$2;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger$2=getGlobalSingleton$2("logger",makeLogger$2):logger$2=makeLogger$2();function truncate$1(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function isMatchingPattern(e,t,r=!1){return isString$1(e)?isRegExp(t)?t.test(e):isString$1(t)?r?e===t:e.includes(t):!1:!1}function stringMatchesSomePattern(e,t=[],r=!1){return t.some(o=>isMatchingPattern(e,o,r))}function addNonEnumerableProperty$1(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function getOriginalFunction$1(e){return e.__sentry_original__}function urlEncode(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function convertToPlainObject$1(e){if(isError$1(e))return{message:e.message,name:e.name,stack:e.stack,...getOwnProperties$1(e)};if(isEvent$1(e)){const t={type:e.type,target:serializeEventTarget$1(e.target),currentTarget:serializeEventTarget$1(e.currentTarget),...getOwnProperties$1(e)};return typeof CustomEvent<"u"&&isInstanceOf$1(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function serializeEventTarget$1(e){try{return isElement$1(e)?htmlTreeAsString$1(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function getOwnProperties$1(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function dropUndefinedKeys(e){return _dropUndefinedKeys(e,new Map)}function _dropUndefinedKeys(e,t){if(isPlainObject$1(e)){const r=t.get(e);if(r!==void 0)return r;const o={};t.set(e,o);for(const n of Object.keys(e))typeof e[n]<"u"&&(o[n]=_dropUndefinedKeys(e[n],t));return o}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const o=[];return t.set(e,o),e.forEach(n=>{o.push(_dropUndefinedKeys(n,t))}),o}return e}const defaultFunctionName$1="<anonymous>";function getFunctionName$1(e){try{return!e||typeof e!="function"?defaultFunctionName$1:e.name||defaultFunctionName$1}catch(t){return defaultFunctionName$1}}function memoBuilder$1(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(n){if(e)return t.has(n)?!0:(t.add(n),!1);for(let i=0;i<t.length;i++)if(t[i]===n)return!0;return t.push(n),!1}function o(n){if(e)t.delete(n);else for(let i=0;i<t.length;i++)if(t[i]===n){t.splice(i,1);break}}return[r,o]}function uuid4(){const e=GLOBAL_OBJ$2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const r=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,o=>(o^(r()&15)>>o/4).toString(16))}function getFirstException$1(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function getEventDescription$1(e){const{message:t,event_id:r}=e;if(t)return t;const o=getFirstException$1(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||r||"<unknown>":r||"<unknown>"}function checkOrSetAlreadyCaught(e){if(e&&e.__sentry_captured__)return!0;try{addNonEnumerableProperty$1(e,"__sentry_captured__",!0)}catch(t){}return!1}function arrayify$1(e){return Array.isArray(e)?e:[e]}function isBrowserBundle$2(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function isNodeEnv$2(){return!isBrowserBundle$2()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function dynamicRequire$2(e,t){return e.require(t)}function normalize$1(e,t=1/0,r=1/0){try{return visit$1("",e,t,r)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function visit$1(e,t,r=1/0,o=1/0,n=memoBuilder$1()){const[i,s]=n;if(t===null||["number","boolean","string"].includes(typeof t)&&!isNaN$2(t))return t;const a=stringifyValue$1(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=r;if(typeof t.__sentry_override_normalization_depth__=="number"&&(c=t.__sentry_override_normalization_depth__),c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&typeof l.toJSON=="function")try{const ge=l.toJSON();return visit$1("",ge,c-1,o,n)}catch(ge){}const y=Array.isArray(t)?[]:{};let me=0;const se=convertToPlainObject$1(t);for(const ge in se){if(!Object.prototype.hasOwnProperty.call(se,ge))continue;if(me>=o){y[ge]="[MaxProperties ~]";break}const be=se[ge];y[ge]=visit$1(ge,be,c-1,o,n),me++}return s(t),y}function stringifyValue$1(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":isSyntheticEvent$1(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${getFunctionName$1(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${getConstructorName$1(t)}]`}catch(r){return`**non-serializable** (${r})`}}function getConstructorName$1(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}var States$1;(function(e){e[e.PENDING=0]="PENDING";const r=1;e[e.RESOLVED=r]="RESOLVED";const o=2;e[e.REJECTED=o]="REJECTED"})(States$1||(States$1={}));function resolvedSyncPromise$1(e){return new SyncPromise$1(t=>{t(e)})}function rejectedSyncPromise$1(e){return new SyncPromise$1((t,r)=>{r(e)})}class SyncPromise$1{__init(){this._state=States$1.PENDING}__init2(){this._handlers=[]}constructor(t){SyncPromise$1.prototype.__init.call(this),SyncPromise$1.prototype.__init2.call(this),SyncPromise$1.prototype.__init3.call(this),SyncPromise$1.prototype.__init4.call(this),SyncPromise$1.prototype.__init5.call(this),SyncPromise$1.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new SyncPromise$1((o,n)=>{this._handlers.push([!1,i=>{if(!t)o(i);else try{o(t(i))}catch(s){n(s)}},i=>{if(!r)n(i);else try{o(r(i))}catch(s){n(s)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new SyncPromise$1((r,o)=>{let n,i;return this.then(s=>{i=!1,n=s,t&&t()},s=>{i=!0,n=s,t&&t()}).then(()=>{if(i){o(n);return}r(n)})})}__init3(){this._resolve=t=>{this._setResult(States$1.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(States$1.REJECTED,t)}}__init5(){this._setResult=(t,r)=>{if(this._state===States$1.PENDING){if(isThenable$1(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===States$1.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===States$1.RESOLVED&&r[1](this._value),this._state===States$1.REJECTED&&r[2](this._value),r[0]=!0)})}}}function makePromiseBuffer(e){const t=[];function r(){return e===void 0||t.length<e}function o(s){return t.splice(t.indexOf(s),1)[0]}function n(s){if(!r())return rejectedSyncPromise$1(new SentryError("Not adding Promise because buffer limit was reached."));const a=s();return t.indexOf(a)===-1&&t.push(a),a.then(()=>o(a)).then(null,()=>o(a).then(null,()=>{})),a}function i(s){return new SyncPromise$1((a,c)=>{let l=t.length;if(!l)return a(!0);const y=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(me=>{resolvedSyncPromise$1(me).then(()=>{--l||(clearTimeout(y),a(!0))},c)})})}return{$:t,add:n,drain:i}}const WINDOW$6=getGlobalObject$2(),dateTimestampSource$2={nowSeconds:()=>Date.now()/1e3};function getBrowserPerformance$2(){const{performance:e}=WINDOW$6;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function getNodePerformance$2(){try{return dynamicRequire$2(module,"perf_hooks").performance}catch(e){return}}const platformPerformance$2=isNodeEnv$2()?getNodePerformance$2():getBrowserPerformance$2(),timestampSource$2=platformPerformance$2===void 0?dateTimestampSource$2:{nowSeconds:()=>(platformPerformance$2.timeOrigin+platformPerformance$2.now())/1e3},dateTimestampInSeconds$1=dateTimestampSource$2.nowSeconds.bind(dateTimestampSource$2),timestampInSeconds$1=timestampSource$2.nowSeconds.bind(timestampSource$2);(()=>{const{performance:e}=WINDOW$6;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),o=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+r-o):t,i=n<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+r-o):t,l=c<t;return i||l?n<=c?e.timeOrigin:s:o})();function createEnvelope$1(e,t=[]){return[e,t]}function addItemToEnvelope(e,t){const[r,o]=e;return[r,[...o,t]]}function forEachEnvelopeItem(e,t){const r=e[1];for(const o of r){const n=o[0].type;if(t(o,n))return!0}return!1}function encodeUTF8$1(e,t){return(t||new TextEncoder).encode(e)}function serializeEnvelope$1(e,t){const[r,o]=e;let n=JSON.stringify(r);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[encodeUTF8$1(n,t),s]:n.push(typeof s=="string"?encodeUTF8$1(s,t):s)}for(const s of o){const[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch(y){l=JSON.stringify(normalize$1(c))}i(l)}}return typeof n=="string"?n:concatBuffers$1(n)}function concatBuffers$1(e){const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);let o=0;for(const n of e)r.set(n,o),o+=n.length;return r}function createAttachmentEnvelopeItem(e,t){const r=typeof e.data=="string"?encodeUTF8$1(e.data,t):e.data;return[dropUndefinedKeys({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function envelopeItemTypeToDataCategory(e){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[e]}function getSdkMetadataForEnvelopeHeader(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function createEventEnvelopeHeaders(e,t,r,o){const n=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&{dsn:dsnToString$1(o)},...e.type==="transaction"&&n&&{trace:dropUndefinedKeys({...n})}}}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const o=Date.parse(`${e}`);return isNaN(o)?DEFAULT_RETRY_AFTER:o-t}function disabledUntil(e,t){return e[t]||e.all||0}function isRateLimited(e,t,r=Date.now()){return disabledUntil(e,t)>r}function updateRateLimits(e,{statusCode:t,headers:r},o=Date.now()){const n={...e},i=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,l]=a.split(":",2),y=parseInt(c,10),me=(isNaN(y)?60:y)*1e3;if(!l)n.all=o+me;else for(const se of l.split(";"))n[se]=o+me}else s?n.all=o+parseRetryAfterHeader(s,o):t===429&&(n.all=o+60*1e3);return n}const DEFAULT_ENVIRONMENT="production";function makeSession(e){const t=timestampInSeconds$1(),r={sid:uuid4(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sessionToJSON(r)};return e&&updateSession(r,e),r}function updateSession(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||timestampInSeconds$1(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:uuid4()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function closeSession(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),updateSession(e,r)}function sessionToJSON(e){return dropUndefinedKeys({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const DEFAULT_MAX_BREADCRUMBS=100;class Scope{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const r=new Scope;return t&&(r._breadcrumbs=[...t._breadcrumbs],r._tags={...t._tags},r._extra={...t._extra},r._contexts={...t._contexts},r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=[...t._eventProcessors],r._requestSession=t._requestSession,r._attachments=[...t._attachments],r._sdkProcessingMetadata={...t._sdkProcessingMetadata}),r}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&updateSession(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const r=t(this);return r instanceof Scope?r:this}return t instanceof Scope?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):isPlainObject$1(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,r){const o=typeof r=="number"?r:DEFAULT_MAX_BREADCRUMBS;if(o<=0)return this;const n={timestamp:dateTimestampInSeconds$1(),...t};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-o),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,r={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const o=this._span.transaction&&this._span.transaction.name;o&&(t.tags={transaction:o,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...getGlobalEventProcessors(),...this._eventProcessors],t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,r,o,n=0){return new SyncPromise$1((i,s)=>{const a=t[n];if(r===null||typeof a!="function")i(r);else{const c=a({...r},o);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&c===null&&logger$2.log(`Event processor "${a.id}" dropped event`),isThenable$1(c)?c.then(l=>this._notifyEventProcessors(t,l,o,n+1).then(i)).then(null,s):this._notifyEventProcessors(t,c,o,n+1).then(i).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?arrayify$1(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function getGlobalEventProcessors(){return getGlobalSingleton$2("globalEventProcessors",()=>[])}function addGlobalEventProcessor(e){getGlobalEventProcessors().push(e)}const API_VERSION=4,DEFAULT_BREADCRUMBS=100;class Hub{__init(){this._stack=[{}]}constructor(t,r=new Scope,o=API_VERSION){this._version=o,Hub.prototype.__init.call(this),this.getStackTop().scope=r,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const r=this.getStackTop();r.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const r=this.pushScope();try{t(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){const o=this._lastEventId=r&&r.event_id?r.event_id:uuid4(),n=new Error("Sentry syntheticException");return this._withClient((i,s)=>{i.captureException(t,{originalException:t,syntheticException:n,...r,event_id:o},s)}),o}captureMessage(t,r,o){const n=this._lastEventId=o&&o.event_id?o.event_id:uuid4(),i=new Error(t);return this._withClient((s,a)=>{s.captureMessage(t,r,{originalException:t,syntheticException:i,...o,event_id:n},a)}),n}captureEvent(t,r){const o=r&&r.event_id?r.event_id:uuid4();return t.type||(this._lastEventId=o),this._withClient((n,i)=>{n.captureEvent(t,{...r,event_id:o},i)}),o}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){const{scope:o,client:n}=this.getStackTop();if(!o||!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=DEFAULT_BREADCRUMBS}=n.getOptions&&n.getOptions()||{};if(s<=0)return;const c={timestamp:dateTimestampInSeconds$1(),...t},l=i?consoleSandbox$2(()=>i(c,r)):c;l!==null&&o.addBreadcrumb(l,s)}setUser(t){const r=this.getScope();r&&r.setUser(t)}setTags(t){const r=this.getScope();r&&r.setTags(t)}setExtras(t){const r=this.getScope();r&&r.setExtras(t)}setTag(t,r){const o=this.getScope();o&&o.setTag(t,r)}setExtra(t,r){const o=this.getScope();o&&o.setExtra(t,r)}setContext(t,r){const o=this.getScope();o&&o.setContext(t,r)}configureScope(t){const{scope:r,client:o}=this.getStackTop();r&&o&&t(r)}run(t){const r=makeMain(this);try{t(this)}finally{makeMain(r)}}getIntegration(t){const r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(o){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){return this._callExtensionMethod("startTransaction",t,r)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),r=t&&t.scope,o=r&&r.getSession();o&&closeSession(o),this._sendSessionUpdate(),r&&r.setSession()}startSession(t){const{scope:r,client:o}=this.getStackTop(),{release:n,environment:i=DEFAULT_ENVIRONMENT}=o&&o.getOptions()||{},{userAgent:s}=GLOBAL_OBJ$2.navigator||{},a=makeSession({release:n,environment:i,...r&&{user:r.getUser()},...s&&{userAgent:s},...t});if(r){const c=r.getSession&&r.getSession();c&&c.status==="ok"&&updateSession(c,{status:"exited"}),this.endSession(),r.setSession(a)}return a}shouldSendDefaultPii(){const t=this.getClient(),r=t&&t.getOptions();return Boolean(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:r}=this.getStackTop();if(!t)return;const o=t.getSession();o&&r&&r.captureSession&&r.captureSession(o)}_withClient(t){const{scope:r,client:o}=this.getStackTop();o&&t(o,r)}_callExtensionMethod(t,...r){const n=getMainCarrier().__SENTRY__;if(n&&n.extensions&&typeof n.extensions[t]=="function")return n.extensions[t].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function getMainCarrier(){return GLOBAL_OBJ$2.__SENTRY__=GLOBAL_OBJ$2.__SENTRY__||{extensions:{},hub:void 0},GLOBAL_OBJ$2}function makeMain(e){const t=getMainCarrier(),r=getHubFromCarrier(t);return setHubOnCarrier(t,e),r}function getCurrentHub(){const e=getMainCarrier();return(!hasHubOnCarrier(e)||getHubFromCarrier(e).isOlderThan(API_VERSION))&&setHubOnCarrier(e,new Hub),isNodeEnv$2()?getHubFromActiveDomain(e):getHubFromCarrier(e)}function getHubFromActiveDomain(e){try{const t=getMainCarrier().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return getHubFromCarrier(e);if(!hasHubOnCarrier(r)||getHubFromCarrier(r).isOlderThan(API_VERSION)){const o=getHubFromCarrier(e).getStackTop();setHubOnCarrier(r,new Hub(o.client,Scope.clone(o.scope)))}return getHubFromCarrier(r)}catch(t){return getHubFromCarrier(e)}}function hasHubOnCarrier(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function getHubFromCarrier(e){return getGlobalSingleton$2("hub",()=>new Hub,e)}function setHubOnCarrier(e,t){if(!e)return!1;const r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function hasTracingEnabled(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=getCurrentHub().getClient(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function captureException(e,t){return getCurrentHub().captureException(e,{captureContext:t})}function captureMessage(e,t){const r=typeof t=="string"?t:void 0,o=typeof t!="string"?{captureContext:t}:void 0;return getCurrentHub().captureMessage(e,r,o)}function withScope(e){getCurrentHub().withScope(e)}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function _getIngestEndpoint(e){return`${getBaseApiEndpoint(e)}${e.projectId}/envelope/`}function _encodedAuth(e,t){return urlEncode({sentry_key:e.publicKey,sentry_version:SENTRY_API_VERSION,...t&&{sentry_client:`${t.name}/${t.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth(e,t={}){const r=typeof t=="string"?t:t.tunnel,o=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return r||`${_getIngestEndpoint(e)}?${_encodedAuth(e,o)}`}function enhanceEventWithSdkInfo(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function createSessionEnvelope(e,t,r,o){const n=getSdkMetadataForEnvelopeHeader(r),i={sent_at:new Date().toISOString(),...n&&{sdk:n},...!!o&&{dsn:dsnToString$1(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e];return createEnvelope$1(i,[s])}function createEventEnvelope(e,t,r,o){const n=getSdkMetadataForEnvelopeHeader(r),i=e.type&&e.type!=="replay_event"?e.type:"event";enhanceEventWithSdkInfo(e,r&&r.sdk);const s=createEventEnvelopeHeaders(e,n,o,t);return delete e.sdkProcessingMetadata,createEnvelope$1(s,[[{type:i},e]])}const installedIntegrations=[];function filterDuplicates(e){const t={};return e.forEach(r=>{const{name:o}=r,n=t[o];n&&!n.isDefaultInstance&&r.isDefaultInstance||(t[o]=r)}),Object.keys(t).map(r=>t[r])}function getIntegrationsToSetup(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let o;Array.isArray(r)?o=[...t,...r]:typeof r=="function"?o=arrayify$1(r(t)):o=t;const n=filterDuplicates(o),i=findIndex(n,s=>s.name==="Debug");if(i!==-1){const[s]=n.splice(i,1);n.push(s)}return n}function setupIntegrations(e){const t={};return e.forEach(r=>{r&&setupIntegration(r,t)}),t}function setupIntegration(e,t){t[e.name]=e,installedIntegrations.indexOf(e.name)===-1&&(e.setupOnce(addGlobalEventProcessor,getCurrentHub),installedIntegrations.push(e.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.log(`Integration installed: ${e.name}`))}function findIndex(e,t){for(let r=0;r<e.length;r++)if(t(e[r])===!0)return r;return-1}function prepareEvent(e,t,r,o){const{normalizeDepth:n=3,normalizeMaxBreadth:i=1e3}=e,s={...t,event_id:t.event_id||r.event_id||uuid4(),timestamp:t.timestamp||dateTimestampInSeconds$1()},a=r.integrations||e.integrations.map(y=>y.name);applyClientOptions(s,e),applyIntegrationsMetadata(s,a),applyDebugMetadata(s,e.stackParser);let c=o;r.captureContext&&(c=Scope.clone(c).update(r.captureContext));let l=resolvedSyncPromise$1(s);if(c){if(c.getAttachments){const y=[...r.attachments||[],...c.getAttachments()];y.length&&(r.attachments=y)}l=c.applyToEvent(s,r)}return l.then(y=>typeof n=="number"&&n>0?normalizeEvent(y,n,i):y)}function applyClientOptions(e,t){const{environment:r,release:o,dist:n,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?r:DEFAULT_ENVIRONMENT),e.release===void 0&&o!==void 0&&(e.release=o),e.dist===void 0&&n!==void 0&&(e.dist=n),e.message&&(e.message=truncate$1(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=truncate$1(s.value,i));const a=e.request;a&&a.url&&(a.url=truncate$1(a.url,i))}function applyDebugMetadata(e,t){const r=GLOBAL_OBJ$2._sentryDebugIds;if(!r)return;const o=Object.keys(r).reduce((s,a)=>{const c=t(a);for(const l of c)if(l.abs_path){s[l.abs_path]=r[a];break}return s},{}),n=new Set;try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.abs_path&&n.add(a.abs_path)})})}catch(s){}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const i=e.debug_meta.images;n.forEach(s=>{o[s]&&i.push({type:"sourcemap",code_file:s,debug_id:o[s]})})}function applyIntegrationsMetadata(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function normalizeEvent(e,t,r){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(n=>({...n,...n.data&&{data:normalize$1(n.data,t,r)}}))},...e.user&&{user:normalize$1(e.user,t,r)},...e.contexts&&{contexts:normalize$1(e.contexts,t,r)},...e.extra&&{extra:normalize$1(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=normalize$1(e.contexts.trace.data,t,r))),e.spans&&(o.spans=e.spans.map(n=>(n.data&&(n.data=normalize$1(n.data,t,r)),n))),o}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(BaseClient.prototype.__init.call(this),BaseClient.prototype.__init2.call(this),BaseClient.prototype.__init3.call(this),BaseClient.prototype.__init4.call(this),BaseClient.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=makeDsn(t.dsn);const r=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn("No DSN provided, client will not do anything.")}captureException(t,r,o){if(checkOrSetAlreadyCaught(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.log(ALREADY_SEEN_ERROR);return}let n=r&&r.event_id;return this._process(this.eventFromException(t,r).then(i=>this._captureEvent(i,r,o)).then(i=>{n=i})),n}captureMessage(t,r,o,n){let i=o&&o.event_id;const s=isPrimitive$1(t)?this.eventFromMessage(String(t),r,o):this.eventFromException(t,o);return this._process(s.then(a=>this._captureEvent(a,o,n)).then(a=>{i=a})),i}captureEvent(t,r,o){if(r&&r.originalException&&checkOrSetAlreadyCaught(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.log(ALREADY_SEEN_ERROR);return}let n=r&&r.event_id;return this._process(this._captureEvent(t,r,o).then(i=>{n=i})),n}captureSession(t){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn("SDK not enabled, will not capture session.");return}typeof t.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),updateSession(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?this._isClientDoneProcessing(t).then(o=>r.flush(t).then(n=>o&&n)):resolvedSyncPromise$1(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(r){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){setupIntegration(t,this._integrations)}sendEvent(t,r={}){if(this._dsn){let o=createEventEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);for(const n of r.attachments||[])o=addItemToEnvelope(o,createAttachmentEnvelopeItem(n,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(o)}}sendSession(t){if(this._dsn){const r=createSessionEnvelope(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(t,r,o){if(this._options.sendClientReports){const n=`${t}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(t,r){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(r)}emit(t,...r){this._hooks[t]&&this._hooks[t].forEach(o=>o(...r))}_updateSessionFromEvent(t,r){let o=!1,n=!1;const i=r.exception&&r.exception.values;if(i){n=!0;for(const c of i){const l=c.mechanism;if(l&&l.handled===!1){o=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&o)&&(updateSession(t,{...o&&{status:"crashed"},errors:t.errors||Number(n||o)}),this.captureSession(t))}_isClientDoneProcessing(t){return new SyncPromise$1(r=>{let o=0;const n=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(o+=n,t&&o>=t&&(clearInterval(i),r(!1)))},n)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(t,r,o){const n=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&i.length>0&&(r.integrations=i),prepareEvent(n,t,r,o)}_captureEvent(t,r={},o){return this._processEvent(t,r,o).then(n=>n.event_id,n=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=n;i.logLevel==="log"?logger$2.log(i.message):logger$2.warn(i)}})}_processEvent(t,r,o){const n=this.getOptions(),{sampleRate:i}=n;if(!this._isEnabled())return rejectedSyncPromise$1(new SentryError("SDK not enabled, will not capture event.","log"));const s=isTransactionEvent(t),a=isErrorEvent$1(t),c=t.type||"error",l=`before send for type \`${c}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),rejectedSyncPromise$1(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const y=c==="replay_event"?"replay":c;return this._prepareEvent(t,r,o).then(me=>{if(me===null)throw this.recordDroppedEvent("event_processor",y,t),new SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return me;const ge=processBeforeSend(n,me,r);return _validateBeforeSendResult(ge,l)}).then(me=>{if(me===null)throw this.recordDroppedEvent("before_send",y,t),new SentryError(`${l} returned \`null\`, will not send event.`,"log");const se=o&&o.getSession();!s&&se&&this._updateSessionFromEvent(se,me);const ge=me.transaction_info;if(s&&ge&&me.transaction!==t.transaction){const be="custom";me.transaction_info={...ge,source:be}}return this.sendEvent(me,r),me}).then(null,me=>{throw me instanceof SentryError?me:(this.captureException(me,{data:{__sentry__:!0},originalException:me}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${me}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.error("Error while sending event:",r)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(r=>{const[o,n]=r.split(":");return{reason:o,category:n,quantity:t[r]}})}}function _validateBeforeSendResult(e,t){const r=`${t} must return \`null\` or a valid event.`;if(isThenable$1(e))return e.then(o=>{if(!isPlainObject$1(o)&&o!==null)throw new SentryError(r);return o},o=>{throw new SentryError(`${t} rejected with ${o}`)});if(!isPlainObject$1(e)&&e!==null)throw new SentryError(r);return e}function processBeforeSend(e,t,r){const{beforeSend:o,beforeSendTransaction:n}=e;return isErrorEvent$1(t)&&o?o(t,r):isTransactionEvent(t)&&n?n(t,r):t}function isErrorEvent$1(e){return e.type===void 0}function isTransactionEvent(e){return e.type==="transaction"}function initAndBind(e,t){t.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger$2.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const r=getCurrentHub(),o=r.getScope();o&&o.update(t.initialScope);const n=new e(t);r.bindClient(n)}const DEFAULT_TRANSPORT_BUFFER_SIZE=30;function createTransport(e,t,r=makePromiseBuffer(e.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let o={};const n=s=>r.drain(s);function i(s){const a=[];if(forEachEnvelopeItem(s,(me,se)=>{const ge=envelopeItemTypeToDataCategory(se);if(isRateLimited(o,ge)){const be=getEventForEnvelopeItem(me,se);e.recordDroppedEvent("ratelimit_backoff",ge,be)}else a.push(me)}),a.length===0)return resolvedSyncPromise$1();const c=createEnvelope$1(s[0],a),l=me=>{forEachEnvelopeItem(c,(se,ge)=>{const be=getEventForEnvelopeItem(se,ge);e.recordDroppedEvent(me,envelopeItemTypeToDataCategory(ge),be)})},y=()=>t({body:serializeEnvelope$1(c,e.textEncoder)}).then(me=>(me.statusCode!==void 0&&(me.statusCode<200||me.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Sentry responded with status code ${me.statusCode} to sent event.`),o=updateRateLimits(o,me),me),me=>{throw l("network_error"),me});return r.add(y).then(me=>me,me=>{if(me instanceof SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.error("Skipped sending event because buffer is full."),l("queue_overflow"),resolvedSyncPromise$1();throw me})}return{send:i,flush:n}}function getEventForEnvelopeItem(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}const SDK_VERSION="7.43.0";let originalFunctionToString;class FunctionToString{constructor(){FunctionToString.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=FunctionToString.id}setupOnce(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(...t){const r=getOriginalFunction$1(this)||this;return originalFunctionToString.apply(r,t)}}}FunctionToString.__initStatic();const DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class InboundFilters{static __initStatic(){this.id="InboundFilters"}__init(){this.name=InboundFilters.id}constructor(t={}){this._options=t,InboundFilters.prototype.__init.call(this)}setupOnce(t,r){const o=n=>{const i=r();if(i){const s=i.getIntegration(InboundFilters);if(s){const a=i.getClient(),c=a?a.getOptions():{},l=_mergeOptions(s._options,c);return _shouldDropEvent$1(n,l)?null:n}}return n};o.id=this.name,t(o)}}InboundFilters.__initStatic();function _mergeOptions(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...DEFAULT_IGNORE_ERRORS],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function _shouldDropEvent$1(e,t){return t.ignoreInternal&&_isSentryError(e)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Event dropped due to being internal Sentry Error.
Event: ${getEventDescription$1(e)}`),!0):_isIgnoredError(e,t.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${getEventDescription$1(e)}`),!0):_isDeniedUrl(e,t.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${getEventDescription$1(e)}.
Url: ${_getEventFilterUrl(e)}`),!0):_isAllowedUrl(e,t.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${getEventDescription$1(e)}.
Url: ${_getEventFilterUrl(e)}`),!0)}function _isIgnoredError(e,t){return!t||!t.length?!1:_getPossibleEventMessages(e).some(r=>stringMatchesSomePattern(r,t))}function _isDeniedUrl(e,t){if(!t||!t.length)return!1;const r=_getEventFilterUrl(e);return r?stringMatchesSomePattern(r,t):!1}function _isAllowedUrl(e,t){if(!t||!t.length)return!0;const r=_getEventFilterUrl(e);return r?stringMatchesSomePattern(r,t):!0}function _getPossibleEventMessages(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:r=""}=e.exception.values&&e.exception.values[0]||{};return[`${r}`,`${t}: ${r}`]}catch(t){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.error(`Cannot extract message for event ${getEventDescription$1(e)}`),[]}return[]}function _isSentryError(e){try{return e.exception.values[0].type==="SentryError"}catch(t){}return!1}function _getLastValidUrl(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function _getEventFilterUrl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(r){}return t?_getLastValidUrl(t):null}catch(t){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$2.error(`Cannot extract url for event ${getEventDescription$1(e)}`),null}}const objectToString=Object.prototype.toString;function isError(e){switch(objectToString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(e,Error)}}function isBuiltin(e,t){return objectToString.call(e)===`[object ${t}]`}function isErrorEvent(e){return isBuiltin(e,"ErrorEvent")}function isDOMError(e){return isBuiltin(e,"DOMError")}function isDOMException(e){return isBuiltin(e,"DOMException")}function isString(e){return isBuiltin(e,"String")}function isPrimitive(e){return e===null||typeof e!="object"&&typeof e!="function"}function isPlainObject(e){return isBuiltin(e,"Object")}function isEvent(e){return typeof Event<"u"&&isInstanceOf(e,Event)}function isElement(e){return typeof Element<"u"&&isInstanceOf(e,Element)}function isThenable(e){return Boolean(e&&e.then&&typeof e.then=="function")}function isSyntheticEvent(e){return isPlainObject(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function isNaN$1(e){return typeof e=="number"&&e!==e}function isInstanceOf(e,t){try{return e instanceof t}catch(r){return!1}}function isGlobalObj$1(e){return e&&e.Math==Math?e:void 0}const GLOBAL_OBJ$1=typeof globalThis=="object"&&isGlobalObj$1(globalThis)||typeof window=="object"&&isGlobalObj$1(window)||typeof self=="object"&&isGlobalObj$1(self)||typeof global=="object"&&isGlobalObj$1(global)||function(){return this}()||{};function getGlobalObject$1(){return GLOBAL_OBJ$1}function getGlobalSingleton$1(e,t,r){const o=r||GLOBAL_OBJ$1,n=o.__SENTRY__=o.__SENTRY__||{};return n[e]||(n[e]=t())}const WINDOW$5=getGlobalObject$1(),DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(e,t={}){try{let r=e;const o=5,n=[];let i=0,s=0;const a=" > ",c=a.length;let l;const y=Array.isArray(t)?t:t.keyAttrs,me=!Array.isArray(t)&&t.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;r&&i++<o&&(l=_htmlElementAsString(r,y),!(l==="html"||i>1&&s+n.length*c+l.length>=me));)n.push(l),s+=l.length,r=r.parentNode;return n.reverse().join(a)}catch(r){return"<unknown>"}}function _htmlElementAsString(e,t){const r=e,o=[];let n,i,s,a,c;if(!r||!r.tagName)return"";o.push(r.tagName.toLowerCase());const l=t&&t.length?t.filter(me=>r.getAttribute(me)).map(me=>[me,r.getAttribute(me)]):null;if(l&&l.length)l.forEach(me=>{o.push(`[${me[0]}="${me[1]}"]`)});else if(r.id&&o.push(`#${r.id}`),n=r.className,n&&isString(n))for(i=n.split(/\s+/),c=0;c<i.length;c++)o.push(`.${i[c]}`);const y=["aria-label","type","name","title","alt"];for(c=0;c<y.length;c++)s=y[c],a=r.getAttribute(s),a&&o.push(`[${s}="${a}"]`);return o.join("")}function getLocationHref(){try{return WINDOW$5.document.location.href}catch(e){return""}}function dsnToString(e,t=!1){const{host:r,path:o,pass:n,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&n?`:${n}`:""}@${r}${i?`:${i}`:""}/${o&&`${o}/`}${s}`}const PREFIX$1="Sentry Logger ",CONSOLE_LEVELS$1=["debug","info","warn","error","log","assert","trace"];function consoleSandbox$1(e){if(!("console"in GLOBAL_OBJ$1))return e();const t=GLOBAL_OBJ$1.console,r={};CONSOLE_LEVELS$1.forEach(o=>{const n=t[o]&&t[o].__sentry_original__;o in t&&n&&(r[o]=t[o],t[o]=n)});try{return e()}finally{Object.keys(r).forEach(o=>{t[o]=r[o]})}}function makeLogger$1(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?CONSOLE_LEVELS$1.forEach(r=>{t[r]=(...o)=>{e&&consoleSandbox$1(()=>{GLOBAL_OBJ$1.console[r](`${PREFIX$1}[${r}]:`,...o)})}}):CONSOLE_LEVELS$1.forEach(r=>{t[r]=()=>{}}),t}let logger$1;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger$1=getGlobalSingleton$1("logger",makeLogger$1):logger$1=makeLogger$1();function truncate(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function safeJoin(e,t){if(!Array.isArray(e))return"";const r=[];for(let o=0;o<e.length;o++){const n=e[o];try{r.push(String(n))}catch(i){r.push("[value cannot be serialized]")}}return r.join(t)}function fill(e,t,r){if(!(t in e))return;const o=e[t],n=r(o);if(typeof n=="function")try{markFunctionWrapped(n,o)}catch(i){}e[t]=n}function addNonEnumerableProperty(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function markFunctionWrapped(e,t){const r=t.prototype||{};e.prototype=t.prototype=r,addNonEnumerableProperty(e,"__sentry_original__",t)}function getOriginalFunction(e){return e.__sentry_original__}function convertToPlainObject(e){if(isError(e))return{message:e.message,name:e.name,stack:e.stack,...getOwnProperties(e)};if(isEvent(e)){const t={type:e.type,target:serializeEventTarget(e.target),currentTarget:serializeEventTarget(e.currentTarget),...getOwnProperties(e)};return typeof CustomEvent<"u"&&isInstanceOf(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function serializeEventTarget(e){try{return isElement(e)?htmlTreeAsString(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function getOwnProperties(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function extractExceptionKeysForMessage(e,t=40){const r=Object.keys(convertToPlainObject(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return truncate(r[0],t);for(let o=r.length;o>0;o--){const n=r.slice(0,o).join(", ");if(!(n.length>t))return o===r.length?n:truncate(n,t)}return""}const STACKTRACE_LIMIT=50,WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/;function createStackParser(...e){const t=e.sort((r,o)=>r[0]-o[0]).map(r=>r[1]);return(r,o=0)=>{const n=[];for(const i of r.split(`
`).slice(o)){if(i.length>1024)continue;const s=WEBPACK_ERROR_REGEXP.test(i)?i.replace(WEBPACK_ERROR_REGEXP,"$1"):i;for(const a of t){const c=a(s);if(c){n.push(c);break}}}return stripSentryFramesAndReverse(n)}}function stackParserFromStackParserOptions(e){return Array.isArray(e)?createStackParser(...e):e}function stripSentryFramesAndReverse(e){if(!e.length)return[];let t=e;const r=t[0].function||"",o=t[t.length-1].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(t=t.slice(1)),o.indexOf("sentryWrapped")!==-1&&(t=t.slice(0,-1)),t.slice(0,STACKTRACE_LIMIT).map(n=>({...n,filename:n.filename||t[0].filename,function:n.function||"?"})).reverse()}const defaultFunctionName="<anonymous>";function getFunctionName(e){try{return!e||typeof e!="function"?defaultFunctionName:e.name||defaultFunctionName}catch(t){return defaultFunctionName}}const WINDOW$4=getGlobalObject$1();function supportsFetch(){if(!("fetch"in WINDOW$4))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function isNativeFetch(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function supportsNativeFetch(){if(!supportsFetch())return!1;if(isNativeFetch(WINDOW$4.fetch))return!0;let e=!1;const t=WINDOW$4.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=isNativeFetch(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function supportsHistory(){const e=WINDOW$4.chrome,t=e&&e.app&&e.app.runtime,r="history"in WINDOW$4&&!!WINDOW$4.history.pushState&&!!WINDOW$4.history.replaceState;return!t&&r}const WINDOW$3=getGlobalObject$1(),handlers={},instrumented={};function instrument(e){if(!instrumented[e])switch(instrumented[e]=!0,e){case"console":instrumentConsole();break;case"dom":instrumentDOM();break;case"xhr":instrumentXHR();break;case"fetch":instrumentFetch();break;case"history":instrumentHistory();break;case"error":instrumentError();break;case"unhandledrejection":instrumentUnhandledRejection();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn("unknown instrumentation type:",e);return}}function addInstrumentationHandler(e,t){handlers[e]=handlers[e]||[],handlers[e].push(t),instrument(e)}function triggerHandlers(e,t){if(!(!e||!handlers[e]))for(const r of handlers[e]||[])try{r(t)}catch(o){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${getFunctionName(r)}
Error:`,o)}}function instrumentConsole(){"console"in WINDOW$3&&CONSOLE_LEVELS$1.forEach(function(e){e in WINDOW$3.console&&fill(WINDOW$3.console,e,function(t){return function(...r){triggerHandlers("console",{args:r,level:e}),t&&t.apply(WINDOW$3.console,r)}})})}function instrumentFetch(){!supportsNativeFetch()||fill(WINDOW$3,"fetch",function(e){return function(...t){const r={args:t,fetchData:{method:getFetchMethod(t),url:getFetchUrl(t)},startTimestamp:Date.now()};return triggerHandlers("fetch",{...r}),e.apply(WINDOW$3,t).then(o=>(triggerHandlers("fetch",{...r,endTimestamp:Date.now(),response:o}),o),o=>{throw triggerHandlers("fetch",{...r,endTimestamp:Date.now(),error:o}),o})}})}function getFetchMethod(e=[]){return"Request"in WINDOW$3&&isInstanceOf(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function getFetchUrl(e=[]){return typeof e[0]=="string"?e[0]:"Request"in WINDOW$3&&isInstanceOf(e[0],Request)?e[0].url:String(e[0])}function instrumentXHR(){if(!("XMLHttpRequest"in WINDOW$3))return;const e=XMLHttpRequest.prototype;fill(e,"open",function(t){return function(...r){const o=this,n=r[1],i=o.__sentry_xhr__={method:isString(r[0])?r[0].toUpperCase():r[0],url:r[1]};isString(n)&&i.method==="POST"&&n.match(/sentry_key/)&&(o.__sentry_own_request__=!0);const s=function(){if(o.readyState===4){try{i.status_code=o.status}catch(a){}triggerHandlers("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?fill(o,"onreadystatechange",function(a){return function(...c){return s(),a.apply(o,c)}}):o.addEventListener("readystatechange",s),t.apply(o,r)}}),fill(e,"send",function(t){return function(...r){return this.__sentry_xhr__&&r[0]!==void 0&&(this.__sentry_xhr__.body=r[0]),triggerHandlers("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),t.apply(this,r)}})}let lastHref;function instrumentHistory(){if(!supportsHistory())return;const e=WINDOW$3.onpopstate;WINDOW$3.onpopstate=function(...r){const o=WINDOW$3.location.href,n=lastHref;if(lastHref=o,triggerHandlers("history",{from:n,to:o}),e)try{return e.apply(this,r)}catch(i){}};function t(r){return function(...o){const n=o.length>2?o[2]:void 0;if(n){const i=lastHref,s=String(n);lastHref=s,triggerHandlers("history",{from:i,to:s})}return r.apply(this,o)}}fill(WINDOW$3.history,"pushState",t),fill(WINDOW$3.history,"replaceState",t)}const debounceDuration=1e3;let debounceTimerID,lastCapturedEvent;function shouldShortcircuitPreviousDebounce(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}function shouldSkipDOMEvent(e){if(e.type!=="keypress")return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)return!1}catch(t){}return!0}function makeDOMEventHandler(e,t=!1){return r=>{if(!r||lastCapturedEvent===r||shouldSkipDOMEvent(r))return;const o=r.type==="keypress"?"input":r.type;debounceTimerID===void 0?(e({event:r,name:o,global:t}),lastCapturedEvent=r):shouldShortcircuitPreviousDebounce(lastCapturedEvent,r)&&(e({event:r,name:o,global:t}),lastCapturedEvent=r),clearTimeout(debounceTimerID),debounceTimerID=WINDOW$3.setTimeout(()=>{debounceTimerID=void 0},debounceDuration)}}function instrumentDOM(){if(!("document"in WINDOW$3))return;const e=triggerHandlers.bind(null,"dom"),t=makeDOMEventHandler(e,!0);WINDOW$3.document.addEventListener("click",t,!1),WINDOW$3.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const o=WINDOW$3[r]&&WINDOW$3[r].prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(fill(o,"addEventListener",function(n){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},y=l[i]=l[i]||{refCount:0};if(!y.handler){const me=makeDOMEventHandler(e);y.handler=me,n.call(this,i,me,a)}y.refCount++}catch(c){}return n.call(this,i,s,a)}}),fill(o,"removeEventListener",function(n){return function(i,s,a){if(i==="click"||i=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__||{},y=l[i];y&&(y.refCount--,y.refCount<=0&&(n.call(this,i,y.handler,a),y.handler=void 0,delete l[i]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return n.call(this,i,s,a)}}))})}let _oldOnErrorHandler=null;function instrumentError(){_oldOnErrorHandler=WINDOW$3.onerror,WINDOW$3.onerror=function(e,t,r,o,n){return triggerHandlers("error",{column:o,error:n,line:r,msg:e,url:t}),_oldOnErrorHandler?_oldOnErrorHandler.apply(this,arguments):!1}}let _oldOnUnhandledRejectionHandler=null;function instrumentUnhandledRejection(){_oldOnUnhandledRejectionHandler=WINDOW$3.onunhandledrejection,WINDOW$3.onunhandledrejection=function(e){return triggerHandlers("unhandledrejection",e),_oldOnUnhandledRejectionHandler?_oldOnUnhandledRejectionHandler.apply(this,arguments):!0}}function memoBuilder(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(n){if(e)return t.has(n)?!0:(t.add(n),!1);for(let i=0;i<t.length;i++)if(t[i]===n)return!0;return t.push(n),!1}function o(n){if(e)t.delete(n);else for(let i=0;i<t.length;i++)if(t[i]===n){t.splice(i,1);break}}return[r,o]}function getFirstException(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function getEventDescription(e){const{message:t,event_id:r}=e;if(t)return t;const o=getFirstException(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||r||"<unknown>":r||"<unknown>"}function addExceptionTypeValue(e,t,r){const o=e.exception=e.exception||{},n=o.values=o.values||[],i=n[0]=n[0]||{};i.value||(i.value=t||""),i.type||(i.type=r||"Error")}function addExceptionMechanism(e,t){const r=getFirstException(e);if(!r)return;const o={type:"generic",handled:!0},n=r.mechanism;if(r.mechanism={...o,...n,...t},t&&"data"in t){const i={...n&&n.data,...t.data};r.mechanism.data=i}}function isBrowserBundle$1(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function getSDKSource(){return"npm"}function isNodeEnv$1(){return!isBrowserBundle$1()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function dynamicRequire$1(e,t){return e.require(t)}function normalize(e,t=1/0,r=1/0){try{return visit("",e,t,r)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function normalizeToSize(e,t=3,r=100*1024){const o=normalize(e,t);return jsonSize(o)>r?normalizeToSize(e,t-1,r):o}function visit(e,t,r=1/0,o=1/0,n=memoBuilder()){const[i,s]=n;if(t===null||["number","boolean","string"].includes(typeof t)&&!isNaN$1(t))return t;const a=stringifyValue(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;let c=r;if(typeof t.__sentry_override_normalization_depth__=="number"&&(c=t.__sentry_override_normalization_depth__),c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&typeof l.toJSON=="function")try{const ge=l.toJSON();return visit("",ge,c-1,o,n)}catch(ge){}const y=Array.isArray(t)?[]:{};let me=0;const se=convertToPlainObject(t);for(const ge in se){if(!Object.prototype.hasOwnProperty.call(se,ge))continue;if(me>=o){y[ge]="[MaxProperties ~]";break}const be=se[ge];y[ge]=visit(ge,be,c-1,o,n),me++}return s(t),y}function stringifyValue(e,t){try{return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&t===global?"[Global]":typeof window<"u"&&t===window?"[Window]":typeof document<"u"&&t===document?"[Document]":isSyntheticEvent(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?`[Function: ${getFunctionName(t)}]`:typeof t=="symbol"?`[${String(t)}]`:typeof t=="bigint"?`[BigInt: ${String(t)}]`:`[object ${getConstructorName(t)}]`}catch(r){return`**non-serializable** (${r})`}}function getConstructorName(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function utf8Length(e){return~-encodeURI(e).split(/%..|./).length}function jsonSize(e){return utf8Length(JSON.stringify(e))}var States;(function(e){e[e.PENDING=0]="PENDING";const r=1;e[e.RESOLVED=r]="RESOLVED";const o=2;e[e.REJECTED=o]="REJECTED"})(States||(States={}));function resolvedSyncPromise(e){return new SyncPromise(t=>{t(e)})}function rejectedSyncPromise(e){return new SyncPromise((t,r)=>{r(e)})}class SyncPromise{__init(){this._state=States.PENDING}__init2(){this._handlers=[]}constructor(t){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),SyncPromise.prototype.__init5.call(this),SyncPromise.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new SyncPromise((o,n)=>{this._handlers.push([!1,i=>{if(!t)o(i);else try{o(t(i))}catch(s){n(s)}},i=>{if(!r)n(i);else try{o(r(i))}catch(s){n(s)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new SyncPromise((r,o)=>{let n,i;return this.then(s=>{i=!1,n=s,t&&t()},s=>{i=!0,n=s,t&&t()}).then(()=>{if(i){o(n);return}r(n)})})}__init3(){this._resolve=t=>{this._setResult(States.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(States.REJECTED,t)}}__init5(){this._setResult=(t,r)=>{if(this._state===States.PENDING){if(isThenable(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===States.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===States.RESOLVED&&r[1](this._value),this._state===States.REJECTED&&r[2](this._value),r[0]=!0)})}}}function parseUrl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+o}}const validSeverityLevels=["fatal","error","warning","log","info","debug"];function severityLevelFromString(e){return e==="warn"?"warning":validSeverityLevels.includes(e)?e:"log"}const WINDOW$2=getGlobalObject$1(),dateTimestampSource$1={nowSeconds:()=>Date.now()/1e3};function getBrowserPerformance$1(){const{performance:e}=WINDOW$2;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function getNodePerformance$1(){try{return dynamicRequire$1(module,"perf_hooks").performance}catch(e){return}}const platformPerformance$1=isNodeEnv$1()?getNodePerformance$1():getBrowserPerformance$1(),timestampSource$1=platformPerformance$1===void 0?dateTimestampSource$1:{nowSeconds:()=>(platformPerformance$1.timeOrigin+platformPerformance$1.now())/1e3},dateTimestampInSeconds=dateTimestampSource$1.nowSeconds.bind(dateTimestampSource$1);timestampSource$1.nowSeconds.bind(timestampSource$1);(()=>{const{performance:e}=WINDOW$2;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),o=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+r-o):t,i=n<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+r-o):t,l=c<t;return i||l?n<=c?e.timeOrigin:s:o})();function createEnvelope(e,t=[]){return[e,t]}function encodeUTF8(e,t){return(t||new TextEncoder).encode(e)}function serializeEnvelope(e,t){const[r,o]=e;let n=JSON.stringify(r);function i(s){typeof n=="string"?n=typeof s=="string"?n+s:[encodeUTF8(n,t),s]:n.push(typeof s=="string"?encodeUTF8(s,t):s)}for(const s of o){const[a,c]=s;if(i(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch(y){l=JSON.stringify(normalize(c))}i(l)}}return typeof n=="string"?n:concatBuffers(n)}function concatBuffers(e){const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);let o=0;for(const n of e)r.set(n,o),o+=n.length;return r}function createClientReportEnvelope(e,t,r){const o=[{type:"client_report"},{timestamp:r||dateTimestampInSeconds(),discarded_events:e}];return createEnvelope(t?{dsn:t}:{},[o])}const WINDOW$1=GLOBAL_OBJ$1;let ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError++,setTimeout(()=>{ignoreOnError--})}function wrap(e,t={},r){if(typeof e!="function")return e;try{const n=e.__sentry_wrapped__;if(n)return n;if(getOriginalFunction(e))return e}catch(n){return e}const o=function(){const n=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const i=n.map(s=>wrap(s,t));return e.apply(this,i)}catch(i){throw ignoreNextOnError(),withScope(s=>{s.addEventProcessor(a=>(t.mechanism&&(addExceptionTypeValue(a,void 0,void 0),addExceptionMechanism(a,t.mechanism)),a.extra={...a.extra,arguments:n},a)),captureException(i)}),i}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n])}catch(n){}markFunctionWrapped(o,e),addNonEnumerableProperty(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get(){return e.name}})}catch(n){}return o}function exceptionFromError(e,t){const r=parseStackFrames(e,t),o={type:t&&t.name,value:extractMessage(t)};return r.length&&(o.stacktrace={frames:r}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function eventFromPlainObject(e,t,r,o){const i=getCurrentHub().getClient(),s=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:isEvent(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:`Non-Error ${o?"promise rejection":"exception"} captured with keys: ${extractExceptionKeysForMessage(t)}`}]},extra:{__serialized__:normalizeToSize(t,s)}};if(r){const c=parseStackFrames(e,r);c.length&&(a.exception.values[0].stacktrace={frames:c})}return a}function eventFromError(e,t){return{exception:{values:[exceptionFromError(e,t)]}}}function parseStackFrames(e,t){const r=t.stacktrace||t.stack||"",o=getPopSize(t);try{return e(r,o)}catch(n){}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getPopSize(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(reactMinifiedRegexp.test(e.message))return 1}return 0}function extractMessage(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function eventFromException(e,t,r,o){const n=r&&r.syntheticException||void 0,i=eventFromUnknownInput(e,t,n,o);return addExceptionMechanism(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),resolvedSyncPromise(i)}function eventFromMessage(e,t,r="info",o,n){const i=o&&o.syntheticException||void 0,s=eventFromString(e,t,i,n);return s.level=r,o&&o.event_id&&(s.event_id=o.event_id),resolvedSyncPromise(s)}function eventFromUnknownInput(e,t,r,o,n){let i;if(isErrorEvent(t)&&t.error)return eventFromError(e,t.error);if(isDOMError(t)||isDOMException(t)){const s=t;if("stack"in t)i=eventFromError(e,t);else{const a=s.name||(isDOMError(s)?"DOMError":"DOMException"),c=s.message?`${a}: ${s.message}`:a;i=eventFromString(e,c,r,o),addExceptionTypeValue(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return isError(t)?eventFromError(e,t):isPlainObject(t)||isEvent(t)?(i=eventFromPlainObject(e,t,r,n),addExceptionMechanism(i,{synthetic:!0}),i):(i=eventFromString(e,t,r,o),addExceptionTypeValue(i,`${t}`,void 0),addExceptionMechanism(i,{synthetic:!0}),i)}function eventFromString(e,t,r,o){const n={message:t};if(o&&r){const i=parseStackFrames(e,r);i.length&&(n.exception={values:[{value:t,stacktrace:{frames:i}}]})}return n}const MAX_ALLOWED_STRING_LENGTH=1024,BREADCRUMB_INTEGRATION_ID="Breadcrumbs";class Breadcrumbs{static __initStatic(){this.id=BREADCRUMB_INTEGRATION_ID}__init(){this.name=Breadcrumbs.id}constructor(t){Breadcrumbs.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&addInstrumentationHandler("console",_consoleBreadcrumb),this.options.dom&&addInstrumentationHandler("dom",_domBreadcrumb(this.options.dom)),this.options.xhr&&addInstrumentationHandler("xhr",_xhrBreadcrumb),this.options.fetch&&addInstrumentationHandler("fetch",_fetchBreadcrumb),this.options.history&&addInstrumentationHandler("history",_historyBreadcrumb)}addSentryBreadcrumb(t){this.options.sentry&&getCurrentHub().addBreadcrumb({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:getEventDescription(t)},{event:t})}}Breadcrumbs.__initStatic();function _domBreadcrumb(e){function t(r){let o,n=typeof e=="object"?e.serializeAttribute:void 0,i=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;i&&i>MAX_ALLOWED_STRING_LENGTH&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn(`\`dom.maxStringLength\` cannot exceed ${MAX_ALLOWED_STRING_LENGTH}, but a value of ${i} was configured. Sentry will use ${MAX_ALLOWED_STRING_LENGTH} instead.`),i=MAX_ALLOWED_STRING_LENGTH),typeof n=="string"&&(n=[n]);try{const s=r.event;o=_isEvent(s)?htmlTreeAsString(s.target,{keyAttrs:n,maxStringLength:i}):htmlTreeAsString(s,{keyAttrs:n,maxStringLength:i})}catch(s){o="<unknown>"}o.length!==0&&getCurrentHub().addBreadcrumb({category:`ui.${r.name}`,message:o},{event:r.event,name:r.name,global:r.global})}return t}function _consoleBreadcrumb(e){for(let r=0;r<e.args.length;r++)if(e.args[r]==="ref=Ref<"){e.args[r+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:severityLevelFromString(e.level),message:safeJoin(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)t.message=`Assertion failed: ${safeJoin(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1);else return;getCurrentHub().addBreadcrumb(t,{input:e.args,level:e.level})}function _xhrBreadcrumb(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:r,status_code:o,body:n}=e.xhr.__sentry_xhr__||{};getCurrentHub().addBreadcrumb({category:"xhr",data:{method:t,url:r,status_code:o},type:"http"},{xhr:e.xhr,input:n});return}}function _fetchBreadcrumb(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?getCurrentHub().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):getCurrentHub().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response&&e.response.status},type:"http"},{input:e.args,response:e.response}))}function _historyBreadcrumb(e){let t=e.from,r=e.to;const o=parseUrl(WINDOW$1.location.href);let n=parseUrl(t);const i=parseUrl(r);n.path||(n=o),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),o.protocol===n.protocol&&o.host===n.host&&(t=n.relative),getCurrentHub().addBreadcrumb({category:"navigation",data:{from:t,to:r}})}function _isEvent(e){return e&&!!e.target}class BrowserClient extends BaseClient{constructor(t){const r=WINDOW$1.SENTRY_SDK_SOURCE||getSDKSource();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:SDK_VERSION}],version:SDK_VERSION},super(t),t.sendClientReports&&WINDOW$1.document&&WINDOW$1.document.addEventListener("visibilitychange",()=>{WINDOW$1.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return eventFromException(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",o){return eventFromMessage(this._options.stackParser,t,r,o,this._options.attachStacktrace)}sendEvent(t,r){const o=this.getIntegrationById(BREADCRUMB_INTEGRATION_ID);o&&o.addSentryBreadcrumb&&o.addSentryBreadcrumb(t),super.sendEvent(t,r)}_prepareEvent(t,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,o)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.log("Sending outcomes:",t);const r=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,this._options),o=createClientReportEnvelope(t,this._options.tunnel&&dsnToString(this._dsn));try{Object.prototype.toString.call(WINDOW$1&&WINDOW$1.navigator)==="[object Navigator]"&&typeof WINDOW$1.navigator.sendBeacon=="function"&&!this._options.transportOptions?WINDOW$1.navigator.sendBeacon.bind(WINDOW$1.navigator)(r,serializeEnvelope(o)):this._sendEnvelope(o)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.error(n)}}}let cachedFetchImpl;function getNativeFetchImplementation(){if(cachedFetchImpl)return cachedFetchImpl;if(isNativeFetch(WINDOW$1.fetch))return cachedFetchImpl=WINDOW$1.fetch.bind(WINDOW$1);const e=WINDOW$1.document;let t=WINDOW$1.fetch;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const o=r.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return cachedFetchImpl=t.bind(WINDOW$1)}function clearCachedFetchImplementation(){cachedFetchImpl=void 0}function makeFetchTransport(e,t=getNativeFetchImplementation()){function r(o){const n={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:o.body.length<=65536,...e.fetchOptions};try{return t(e.url,n).then(i=>({statusCode:i.status,headers:{"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")}}))}catch(i){return clearCachedFetchImplementation(),rejectedSyncPromise(i)}}return createTransport(e,r)}const XHR_READYSTATE_DONE=4;function makeXHRTransport(e){function t(r){return new SyncPromise((o,n)=>{const i=new XMLHttpRequest;i.onerror=n,i.onreadystatechange=()=>{i.readyState===XHR_READYSTATE_DONE&&o({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const s in e.headers)Object.prototype.hasOwnProperty.call(e.headers,s)&&i.setRequestHeader(s,e.headers[s]);i.send(r.body)})}return createTransport(e,t)}const UNKNOWN_FUNCTION="?",CHROME_PRIORITY=30,WINJS_PRIORITY=40,GECKO_PRIORITY=50;function createFrame(e,t,r,o){const n={filename:e,abs_path:e,function:t,in_app:!0};return r!==void 0&&(n.lineno=r),o!==void 0&&(n.colno=o),n}const chromeRegex=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chrome$1=e=>{const t=chromeRegex.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=chromeEvalRegex.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[o,n]=extractSafariExtensionDetails(t[1]||UNKNOWN_FUNCTION,t[2]);return createFrame(n,o,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chrome$1],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=e=>{const t=geckoREgex.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=geckoEvalRegex.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let o=t[3],n=t[1]||UNKNOWN_FUNCTION;return[n,o]=extractSafariExtensionDetails(n,o),createFrame(o,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],winjsRegex=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=e=>{const t=winjsRegex.exec(e);return t?createFrame(t[2],t[1]||UNKNOWN_FUNCTION,+t[3],t[4]?+t[4]:void 0):void 0},winjsStackLineParser=[WINJS_PRIORITY,winjs],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser,winjsStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,o=e.indexOf("safari-web-extension")!==-1;return r||o?[e.indexOf("@")!==-1?e.split("@")[0]:UNKNOWN_FUNCTION,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class GlobalHandlers{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=GlobalHandlers.id}__init2(){this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler}}constructor(t){GlobalHandlers.prototype.__init.call(this),GlobalHandlers.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const r in t){const o=this._installFunc[r];o&&t[r]&&(globalHandlerLog(r),o(),this._installFunc[r]=void 0)}}}GlobalHandlers.__initStatic();function _installGlobalOnErrorHandler(){addInstrumentationHandler("error",e=>{const[t,r,o]=getHubAndOptions();if(!t.getIntegration(GlobalHandlers))return;const{msg:n,url:i,line:s,column:a,error:c}=e;if(shouldIgnoreOnError()||c&&c.__sentry_own_request__)return;const l=c===void 0&&isString(n)?_eventFromIncompleteOnError(n,i,s,a):_enhanceEventWithInitialFrame(eventFromUnknownInput(r,c||n,void 0,o,!1),i,s,a);l.level="error",addMechanismAndCapture(t,c,l,"onerror")})}function _installGlobalOnUnhandledRejectionHandler(){addInstrumentationHandler("unhandledrejection",e=>{const[t,r,o]=getHubAndOptions();if(!t.getIntegration(GlobalHandlers))return;let n=e;try{"reason"in e?n=e.reason:"detail"in e&&"reason"in e.detail&&(n=e.detail.reason)}catch(s){}if(shouldIgnoreOnError()||n&&n.__sentry_own_request__)return!0;const i=isPrimitive(n)?_eventFromRejectionWithPrimitive(n):eventFromUnknownInput(r,n,void 0,o,!0);i.level="error",addMechanismAndCapture(t,n,i,"onunhandledrejection")})}function _eventFromRejectionWithPrimitive(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function _eventFromIncompleteOnError(e,t,r,o){const n=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=isErrorEvent(e)?e.message:e,s="Error";const a=i.match(n);return a&&(s=a[1],i=a[2]),_enhanceEventWithInitialFrame({exception:{values:[{type:s,value:i}]}},t,r,o)}function _enhanceEventWithInitialFrame(e,t,r,o){const n=e.exception=e.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(o,10))?void 0:o,y=isNaN(parseInt(r,10))?void 0:r,me=isString(t)&&t.length>0?t:getLocationHref();return c.length===0&&c.push({colno:l,filename:me,function:"?",in_app:!0,lineno:y}),e}function globalHandlerLog(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.log(`Global Handler attached: ${e}`)}function addMechanismAndCapture(e,t,r,o){addExceptionMechanism(r,{handled:!1,type:o}),e.captureEvent(r,{originalException:t})}function getHubAndOptions(){const e=getCurrentHub(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}const DEFAULT_EVENT_TARGET=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class TryCatch{static __initStatic(){this.id="TryCatch"}__init(){this.name=TryCatch.id}constructor(t){TryCatch.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&fill(WINDOW$1,"setTimeout",_wrapTimeFunction),this._options.setInterval&&fill(WINDOW$1,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&fill(WINDOW$1,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in WINDOW$1&&fill(XMLHttpRequest.prototype,"send",_wrapXHR);const t=this._options.eventTarget;t&&(Array.isArray(t)?t:DEFAULT_EVENT_TARGET).forEach(_wrapEventTarget)}}TryCatch.__initStatic();function _wrapTimeFunction(e){return function(...t){const r=t[0];return t[0]=wrap(r,{mechanism:{data:{function:getFunctionName(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function _wrapRAF(e){return function(t){return e.apply(this,[wrap(t,{mechanism:{data:{function:"requestAnimationFrame",handler:getFunctionName(e)},handled:!0,type:"instrument"}})])}}function _wrapXHR(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&fill(r,n,function(i){const s={mechanism:{data:{function:n,handler:getFunctionName(i)},handled:!0,type:"instrument"}},a=getOriginalFunction(i);return a&&(s.mechanism.data.handler=getFunctionName(a)),wrap(i,s)})}),e.apply(this,t)}}function _wrapEventTarget(e){const t=WINDOW$1,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(fill(r,"addEventListener",function(o){return function(n,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=wrap(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:getFunctionName(i),target:e},handled:!0,type:"instrument"}}))}catch(a){}return o.apply(this,[n,wrap(i,{mechanism:{data:{function:"addEventListener",handler:getFunctionName(i),target:e},handled:!0,type:"instrument"}}),s])}}),fill(r,"removeEventListener",function(o){return function(n,i,s){const a=i;try{const c=a&&a.__sentry_wrapped__;c&&o.call(this,n,c,s)}catch(c){}return o.call(this,n,a,s)}}))}const DEFAULT_KEY="cause",DEFAULT_LIMIT=5;class LinkedErrors{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=LinkedErrors.id}constructor(t={}){LinkedErrors.prototype.__init.call(this),this._key=t.key||DEFAULT_KEY,this._limit=t.limit||DEFAULT_LIMIT}setupOnce(){const t=getCurrentHub().getClient();!t||addGlobalEventProcessor((r,o)=>{const n=getCurrentHub().getIntegration(LinkedErrors);return n?_handler(t.getOptions().stackParser,n._key,n._limit,r,o):r})}}LinkedErrors.__initStatic();function _handler(e,t,r,o,n){if(!o.exception||!o.exception.values||!n||!isInstanceOf(n.originalException,Error))return o;const i=_walkErrorTree(e,r,n.originalException,t);return o.exception.values=[...i,...o.exception.values],o}function _walkErrorTree(e,t,r,o,n=[]){if(!isInstanceOf(r[o],Error)||n.length+1>=t)return n;const i=exceptionFromError(e,r[o]);return _walkErrorTree(e,t,r[o],o,[i,...n])}class HttpContext{constructor(){HttpContext.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=HttpContext.id}setupOnce(){addGlobalEventProcessor(t=>{if(getCurrentHub().getIntegration(HttpContext)){if(!WINDOW$1.navigator&&!WINDOW$1.location&&!WINDOW$1.document)return t;const r=t.request&&t.request.url||WINDOW$1.location&&WINDOW$1.location.href,{referrer:o}=WINDOW$1.document||{},{userAgent:n}=WINDOW$1.navigator||{},i={...t.request&&t.request.headers,...o&&{Referer:o},...n&&{"User-Agent":n}},s={...t.request,...r&&{url:r},headers:i};return{...t,request:s}}return t})}}HttpContext.__initStatic();class Dedupe{constructor(){Dedupe.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Dedupe.id}setupOnce(t,r){const o=n=>{if(n.type)return n;const i=r().getIntegration(Dedupe);if(i){try{if(_shouldDropEvent(n,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return i._previousEvent=n}return i._previousEvent=n}return n};o.id=this.name,t(o)}}Dedupe.__initStatic();function _shouldDropEvent(e,t){return t?!!(_isSameMessageEvent(e,t)||_isSameExceptionEvent(e,t)):!1}function _isSameMessageEvent(e,t){const r=e.message,o=t.message;return!(!r&&!o||r&&!o||!r&&o||r!==o||!_isSameFingerprint(e,t)||!_isSameStacktrace(e,t))}function _isSameExceptionEvent(e,t){const r=_getExceptionFromEvent(t),o=_getExceptionFromEvent(e);return!(!r||!o||r.type!==o.type||r.value!==o.value||!_isSameFingerprint(e,t)||!_isSameStacktrace(e,t))}function _isSameStacktrace(e,t){let r=_getFramesFromEvent(e),o=_getFramesFromEvent(t);if(!r&&!o)return!0;if(r&&!o||!r&&o||(r=r,o=o,o.length!==r.length))return!1;for(let n=0;n<o.length;n++){const i=o[n],s=r[n];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function _isSameFingerprint(e,t){let r=e.fingerprint,o=t.fingerprint;if(!r&&!o)return!0;if(r&&!o||!r&&o)return!1;r=r,o=o;try{return r.join("")===o.join("")}catch(n){return!1}}function _getExceptionFromEvent(e){return e.exception&&e.exception.values&&e.exception.values[0]}function _getFramesFromEvent(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(r){return}}const defaultIntegrations=[new InboundFilters,new FunctionToString,new TryCatch,new Breadcrumbs,new GlobalHandlers,new LinkedErrors,new Dedupe,new HttpContext];function init$1(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=defaultIntegrations),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),WINDOW$1.SENTRY_RELEASE&&WINDOW$1.SENTRY_RELEASE.id&&(e.release=WINDOW$1.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:stackParserFromStackParserOptions(e.stackParser||defaultStackParser),integrations:getIntegrationsToSetup(e),transport:e.transport||(supportsFetch()?makeFetchTransport:makeXHRTransport)};initAndBind(BrowserClient,t),e.autoSessionTracking&&startSessionTracking()}function startSessionOnHub(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function startSessionTracking(){if(typeof WINDOW$1.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger$1.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const e=getCurrentHub();!e.captureSession||(startSessionOnHub(e),addInstrumentationHandler("history",({from:t,to:r})=>{t===void 0||t===r||startSessionOnHub(getCurrentHub())}))}function isGlobalObj(e){return e&&e.Math==Math?e:void 0}const GLOBAL_OBJ=typeof globalThis=="object"&&isGlobalObj(globalThis)||typeof window=="object"&&isGlobalObj(window)||typeof self=="object"&&isGlobalObj(self)||typeof global=="object"&&isGlobalObj(global)||function(){return this}()||{};function getGlobalObject(){return GLOBAL_OBJ}function getGlobalSingleton(e,t,r){const o=r||GLOBAL_OBJ,n=o.__SENTRY__=o.__SENTRY__||{};return n[e]||(n[e]=t())}const PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"];function consoleSandbox(e){if(!("console"in GLOBAL_OBJ))return e();const t=GLOBAL_OBJ.console,r={};CONSOLE_LEVELS.forEach(o=>{const n=t[o]&&t[o].__sentry_original__;o in t&&n&&(r[o]=t[o],t[o]=n)});try{return e()}finally{Object.keys(r).forEach(o=>{t[o]=r[o]})}}function makeLogger(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?CONSOLE_LEVELS.forEach(r=>{t[r]=(...o)=>{e&&consoleSandbox(()=>{GLOBAL_OBJ.console[r](`${PREFIX}[${r}]:`,...o)})}}):CONSOLE_LEVELS.forEach(r=>{t[r]=()=>{}}),t}let logger;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?logger=getGlobalSingleton("logger",makeLogger):logger=makeLogger();function arrayify(e){return Array.isArray(e)?e:[e]}function isBrowserBundle(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function isNodeEnv(){return!isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function dynamicRequire(e,t){return e.require(t)}const WINDOW=getGlobalObject(),dateTimestampSource={nowSeconds:()=>Date.now()/1e3};function getBrowserPerformance(){const{performance:e}=WINDOW;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function getNodePerformance(){try{return dynamicRequire(module,"perf_hooks").performance}catch(e){return}}const platformPerformance=isNodeEnv()?getNodePerformance():getBrowserPerformance(),timestampSource=platformPerformance===void 0?dateTimestampSource:{nowSeconds:()=>(platformPerformance.timeOrigin+platformPerformance.now())/1e3};dateTimestampSource.nowSeconds.bind(dateTimestampSource);const timestampInSeconds=timestampSource.nowSeconds.bind(timestampSource);(()=>{const{performance:e}=WINDOW;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),o=Date.now(),n=e.timeOrigin?Math.abs(e.timeOrigin+r-o):t,i=n<t,s=e.timing&&e.timing.navigationStart,c=typeof s=="number"?Math.abs(s+r-o):t,l=c<t;return i||l?n<=c?e.timeOrigin:s:o})();const DEFAULT_HOOKS=["activate","mount","update"],classifyRE=/(?:^|[-_])(\w)/g,classify=e=>e.replace(classifyRE,t=>t.toUpperCase()).replace(/[-_]/g,""),ROOT_COMPONENT_NAME="<Root>",ANONYMOUS_COMPONENT_NAME="<Anonymous>",repeat=(e,t)=>e.repeat?e.repeat(t):e,formatComponentName=(e,t)=>{if(!e)return ANONYMOUS_COMPONENT_NAME;if(e.$root===e)return ROOT_COMPONENT_NAME;if(!e.$options)return ANONYMOUS_COMPONENT_NAME;const r=e.$options;let o=r.name||r._componentTag;const n=r.__file;if(!o&&n){const i=n.match(/([^/\\]+)\.vue$/);i&&(o=i[1])}return(o?`<${classify(o)}>`:ANONYMOUS_COMPONENT_NAME)+(n&&t!==!1?` at ${n}`:"")},generateComponentTrace=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let r=0;for(;e;){if(t.length>0){const n=t[t.length-1];if(n.constructor===e.constructor){r++,e=e.$parent;continue}else r>0&&(t[t.length-1]=[n,r],r=0)}t.push(e),e=e.$parent}return`

found in

${t.map((n,i)=>`${(i===0?"---> ":repeat(" ",5+i*2))+(Array.isArray(n)?`${formatComponentName(n[0])}... (${n[1]} recursive calls)`:formatComponentName(n))}`).join(`
`)}`}return`

(found in ${formatComponentName(e)})`},attachErrorHandler=(e,t)=>{const{errorHandler:r,warnHandler:o,silent:n}=e.config;e.config.errorHandler=(i,s,a)=>{const c=formatComponentName(s,!1),l=s?generateComponentTrace(s):"",y={componentName:c,lifecycleHook:a,trace:l};if(t.attachProps&&s&&(s.$options&&s.$options.propsData?y.propsData=s.$options.propsData:s.$props&&(y.propsData=s.$props)),setTimeout(()=>{getCurrentHub().withScope(me=>{me.setContext("vue",y),getCurrentHub().captureException(i)})}),typeof r=="function"&&r.call(e,i,s,a),t.logErrors){const me=typeof console<"u",se=`Error in ${a}: "${i&&i.toString()}"`;o?o.call(null,se,s,l):me&&!n&&console.error(`[Vue warn]: ${se}${l}`)}}},VUE_OP="ui.vue",HOOKS={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function getActiveTransaction(){const e=getCurrentHub().getScope();return e&&e.getTransaction()}function finishRootSpan(e,t,r){e.$_sentryRootSpanTimer&&clearTimeout(e.$_sentryRootSpanTimer),e.$_sentryRootSpanTimer=setTimeout(()=>{e.$root&&e.$root.$_sentryRootSpan&&(e.$root.$_sentryRootSpan.finish(t),e.$root.$_sentryRootSpan=void 0)},r)}const createTracingMixins=e=>{const t=(e.hooks||[]).concat(DEFAULT_HOOKS).filter((o,n,i)=>i.indexOf(o)===n),r={};for(const o of t){const n=HOOKS[o];if(!n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&logger.warn(`Unknown hook: ${o}`);continue}for(const i of n)r[i]=function(){const s=this.$root===this;if(s){const l=getActiveTransaction();l&&(this.$_sentryRootSpan=this.$_sentryRootSpan||l.startChild({description:"Application Render",op:`${VUE_OP}.render`}))}const a=formatComponentName(this,!1),c=Array.isArray(e.trackComponents)?e.trackComponents.indexOf(a)>-1:e.trackComponents;if(!(!s&&!c))if(this.$_sentrySpans=this.$_sentrySpans||{},i==n[0]){const l=this.$root&&this.$root.$_sentryRootSpan||getActiveTransaction();if(l){const y=this.$_sentrySpans[o];y&&!y.endTimestamp&&y.finish(),this.$_sentrySpans[o]=l.startChild({description:`Vue <${a}>`,op:`${VUE_OP}.${o}`})}}else{const l=this.$_sentrySpans[o];if(!l)return;l.finish(),finishRootSpan(this,timestampInSeconds(),e.timeout)}}}return r},globalWithVue=GLOBAL_OBJ,DEFAULT_CONFIG={Vue:globalWithVue.Vue,attachProps:!0,logErrors:!0,hooks:DEFAULT_HOOKS,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:SDK_VERSION}],version:SDK_VERSION}}};function init(e={}){const t={...DEFAULT_CONFIG,...e};if(init$1(t),!t.Vue&&!t.app){console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).");return}t.app?arrayify(t.app).forEach(o=>vueInit(o,t)):t.Vue&&vueInit(t.Vue,t)}const vueInit=(e,t)=>{const r=e;(r._instance&&r._instance.isMounted)===!0&&console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`."),attachErrorHandler(e,t),hasTracingEnabled(t)&&e.mixin(createTracingMixins({...t,...t.tracingOptions}))};function isStoreExtension(){return!0}const API_DOMAIN="api-ext.slickdeals.net",DOMAIN="slickdeals.net",API=`https://${API_DOMAIN}/extapi`,HOME_URL=`https://${DOMAIN}`,ATTACHMENT_PATTERN="REPLACE_ATTACHMENT_URL",ATTACHMENT_URL="https://static.slickdealscdn.com",BROWSER_EXTENSION_API=`${API}/browser-extension/1`,BROWSER_EXTENSION_TRACKING_API=`${API}/browser-extension-tracking/1`,CAA_JOIN_BONUS_URL=`${BROWSER_EXTENSION_API}/coupon-auto-apply/bonus`,CASHBACK_LANDING_PAGE=`${HOME_URL}/cashback/`,DEAL_DETAILS_URL=`${BROWSER_EXTENSION_API}/deal-details`,EARLY_ACCESS_DEALS_STATIC_URL=`${HOME_URL}/attachment/extension/deals_early_access.json`,EARLY_ACCESS_DEALS_URL=`${BROWSER_EXTENSION_API}/deals/early-access`,EXTENSION_CONFIG_URL=`${HOME_URL}/extension/config.json`,EXTENSION_REDIRECT_URL=`${HOME_URL}/extension/redirect/`,EXTENSION_REFRESH_PAGE=`${HOME_URL}/extension/extension-refresh.php`,FRONTPAGE_DEALS_URL=`${API}/deals/1/frontpage?limit=20`,LANDING_PAGE=`${HOME_URL}/extension/welcome/`,LOYALTY_DOMAIN="https://redeem.slickdeals.net",LOYALTY_REWARDS_URL=`${HOME_URL}/rewards/`,LOYALTY_URL=`${BROWSER_EXTENSION_API}/loyalty`,MANIFEST_VERSION="3.6.8",OUTCLICK_URL=`${API}/outclick/1/outclick-info`,SEARCH_URL=`${HOME_URL}/newsearch.php`,STORE_URL=`${BROWSER_EXTENSION_API}/stores`,STORES_STATIC_URL=`${HOME_URL}/attachment/extension/stores.json`,SURVEY_MONKEY_POST_URL=`${BROWSER_EXTENSION_API}/survey`,TERMS_AND_CONDITIONS_BASE_URL=`${HOME_URL}/extension/offer-terms-and-conditions/`,TRENDING_CASHBACK_STORES_URL=`${BROWSER_EXTENSION_API}/loyalty/top-stores`,TRENDING_STORES_URL=`${BROWSER_EXTENSION_API}/trending-stores`;function getSentryConfig(){const e="https://2e677718baf34e91ad475b6df757dc73@sentry.io/1432398";if(!browser.runtime)return null;const t=browser.runtime.getURL("");return{dsn:e,debug:!isStoreExtension(),environment:"production",release:MANIFEST_VERSION,initialScope:{tags:{distribution:"firefox-v2"}},ignoreErrors:["Extension context invalidated.","ResizeObserver loop limit exceeded","Could not establish connection. Receiving end does not exist.","Non-Error promise rejection captured with","No tab with id",/Frame with ID \d+ was removed/],allowUrls:[new RegExp(t)]}}class SentryIO{static initBrowserIntegration(){const t=getSentryConfig();!t||init$1(t)}static initVueIntegration(t){const r=getSentryConfig();!r||init({...r,app:t})}static captureException(t){t instanceof Error&&captureException(t)}static captureMessage(t){captureMessage(t)}}var __defProp$u=Object.defineProperty,__getOwnPropDesc$u=Object.getOwnPropertyDescriptor,__decorateClass$u=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$u(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$u(t,r,n),n},ns,Vo;let TabService=(ns=class{constructor(){Et(this,Vo,{})}static create(){var e;return TabService.instance=(e=TabService.instance)!=null?e:new this,TabService.instance}init(){this.onRemoved(({tabId:e})=>{delete nt(this,Vo)[e]})}onRemoved(e){browser.tabs.onRemoved.addListener(t=>{e({tabId:t})})}onUpdated(e){browser.tabs.onUpdated.addListener((t,r)=>{e({tabId:t,changeInfo:r})})}getActiveTab(){return new Promise(function e(t){browser.tabs.query({active:!0,currentWindow:!0}).then(r=>{if(r&&r[0]){t(r[0]);return}setTimeout(()=>{e(t)},100)})})}async get(e){try{return await browser.tabs.get(e)}catch(t){return null}}async getTabUrl(e){var r;if(!e)return null;const t=await this.get(e);return(r=t==null?void 0:t.url)!=null?r:""}setContentTab(e,t){nt(this,Vo)[e]=t}getContentTab(e){return nt(this,Vo)[e]}deleteContentTab(e){delete nt(this,Vo)[e]}sendBackgroundMessageToMerchantTabs({slug:e,action:t,data:r,ignoreTabId:o}){Object.entries(nt(this,Vo)).forEach(([n,i])=>{const s=parseInt(n,10);i===e&&s!==o&&sendMessage(t,r,`content-script@${s}`).catch(a=>{SentryIO.captureException(a)})})}async sendBackgroundMessageToAllTabs({action:e}){(await browser.tabs.query({})).forEach(r=>{sendMessage(e,null,`content-script@${r.id}`).catch(o=>{SentryIO.captureException(o)})})}},Vo=new WeakMap,Sr(ns,"instance"),ns);TabService=__decorateClass$u([initializable],TabService);var __defProp$t=Object.defineProperty,__getOwnPropDesc$t=Object.getOwnPropertyDescriptor,__decorateClass$t=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$t(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$t(t,r,n),n},is,Dn,zo;let AllowTrackingService=(is=class{constructor(e,t){Et(this,Dn,!1);Et(this,zo,void 0);this.userOptionsService=e,this.tabService=t}static create(){var e;return(e=AllowTrackingService.instance)!=null||(AllowTrackingService.instance=new AllowTrackingService(UserOptionsService.create(),TabService.create())),AllowTrackingService.instance}async init(){this.tabService.init(),await this.userOptionsService.init(),No(this,zo,this.userOptionsService.getOptionKeyValue(OptionKey.AllowTracking))}isTrackingAllowed(){return nt(this,Dn)||Boolean(nt(this,zo))}async setTrackingAllowed(e){No(this,zo,e),this.userOptionsService.updateOptionByKey(OptionKey.AllowTracking,nt(this,zo)),this.tabService.sendBackgroundMessageToAllTabs({action:"reinitializeGlobalContentScript"})}hasBeenSet(){return nt(this,Dn)||typeof nt(this,zo)<"u"}},Dn=new WeakMap,zo=new WeakMap,Sr(is,"instance"),is);AllowTrackingService=__decorateClass$t([initializable],AllowTrackingService);class HTTPError extends Error{constructor(t,r,o){const n=t.status||t.status===0?t.status:"",i=t.statusText||"",s=`${n} ${i}`.trim(),a=s?`status code ${s}`:"an unknown error";super(`Request failed with ${a}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=t,this.request=r,this.options=o}}class TimeoutError extends Error{constructor(t){super("Request timed out"),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const isObject=e=>e!==null&&typeof e=="object",validateAndMerge=(...e)=>{for(const t of e)if((!isObject(t)||Array.isArray(t))&&typeof t<"u")throw new TypeError("The `options` argument must be an object");return deepMerge({},...e)},mergeHeaders=(e={},t={})=>{const r=new globalThis.Headers(e),o=t instanceof globalThis.Headers,n=new globalThis.Headers(t);for(const[i,s]of n.entries())o&&s==="undefined"||s===void 0?r.delete(i):r.set(i,s);return r},deepMerge=(...e)=>{let t={},r={};for(const o of e)if(Array.isArray(o))Array.isArray(t)||(t=[]),t=[...t,...o];else if(isObject(o)){for(let[n,i]of Object.entries(o))isObject(i)&&n in t&&(i=deepMerge(t[n],i)),t={...t,[n]:i};isObject(o.headers)&&(r=mergeHeaders(r,o.headers),t.headers=r)}return t},supportsRequestStreams=(()=>{let e=!1,t=!1;return typeof globalThis.ReadableStream=="function"&&(t=new globalThis.Request("https://a.com",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")),e&&!t})(),supportsAbortController=typeof globalThis.AbortController=="function",supportsResponseStreams=typeof globalThis.ReadableStream=="function",supportsFormData=typeof globalThis.FormData=="function",requestMethods=["get","post","put","patch","head","delete"],responseTypes={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},maxSafeTimeout=2147483647,stop=Symbol("stop"),normalizeRequestMethod=e=>requestMethods.includes(e)?e.toUpperCase():e,retryMethods=["get","put","head","delete","options","trace"],retryStatusCodes=[408,413,429,500,502,503,504],retryAfterStatusCodes=[413,429,503],defaultRetryOptions={limit:2,methods:retryMethods,statusCodes:retryStatusCodes,afterStatusCodes:retryAfterStatusCodes,maxRetryAfter:Number.POSITIVE_INFINITY},normalizeRetryOptions=(e={})=>{if(typeof e=="number")return{...defaultRetryOptions,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...defaultRetryOptions,...e,afterStatusCodes:retryAfterStatusCodes}},timeout=async(e,t,r)=>new Promise((o,n)=>{const i=setTimeout(()=>{t&&t.abort(),n(new TimeoutError(e))},r.timeout);r.fetch(e).then(o).catch(n).then(()=>{clearTimeout(i)})}),delay=async e=>new Promise(t=>{setTimeout(t,e)});class Ky{constructor(t,r={}){var o,n,i;if(Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t,this._options={credentials:this._input.credentials||"same-origin",...r,headers:mergeHeaders(this._input.headers,r.headers),hooks:deepMerge({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},r.hooks),method:normalizeRequestMethod((o=r.method)!=null?o:this._input.method),prefixUrl:String(r.prefixUrl||""),retry:normalizeRetryOptions(r.retry),throwHttpErrors:r.throwHttpErrors!==!1,timeout:typeof r.timeout>"u"?1e4:r.timeout,fetch:(n=r.fetch)!=null?n:globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(supportsAbortController&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),supportsRequestStreams&&(this.request.duplex="half"),this._options.searchParams){const s=typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),a="?"+s,c=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,a);(supportsFormData&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(c,this.request),this._options)}this._options.json!==void 0&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type",(i=this._options.headers.get("content-type"))!=null?i:"application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}static create(t,r){const o=new Ky(t,r),n=async()=>{if(o._options.timeout>maxSafeTimeout)throw new RangeError(`The \`timeout\` option cannot be greater than ${maxSafeTimeout}`);await Promise.resolve();let a=await o._fetch();for(const c of o._options.hooks.afterResponse){const l=await c(o.request,o._options,o._decorateResponse(a.clone()));l instanceof globalThis.Response&&(a=l)}if(o._decorateResponse(a),!a.ok&&o._options.throwHttpErrors){let c=new HTTPError(a,o.request,o._options);for(const l of o._options.hooks.beforeError)c=await l(c);throw c}if(o._options.onDownloadProgress){if(typeof o._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!supportsResponseStreams)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return o._stream(a.clone(),o._options.onDownloadProgress)}return a},s=o._options.retry.methods.includes(o.request.method.toLowerCase())?o._retry(n):n();for(const[a,c]of Object.entries(responseTypes))s[a]=async()=>{o.request.headers.set("accept",o.request.headers.get("accept")||c);const y=(await s).clone();if(a==="json"){if(y.status===204)return"";if(r.parseJson)return r.parseJson(await y.text())}return y[a]()};return s}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(t instanceof TimeoutError)){if(t instanceof HTTPError){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const o=t.response.headers.get("Retry-After");if(o&&this._options.retry.afterStatusCodes.includes(t.response.status)){let n=Number(o);return Number.isNaN(n)?n=Date.parse(o)-Date.now():n*=1e3,typeof this._options.retry.maxRetryAfter<"u"&&n>this._options.retry.maxRetryAfter?0:n}if(t.response.status===413)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(r){const o=Math.min(this._calculateRetryDelay(r),maxSafeTimeout);if(o!==0&&this._retryCount>0){await delay(o);for(const n of this._options.hooks.beforeRetry)if(await n({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===stop)return;return this._retry(t)}throw r}}async _fetch(){for(const t of this._options.hooks.beforeRequest){const r=await t(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}return this._options.timeout===!1?this._options.fetch(this.request.clone()):timeout(this.request.clone(),this.abortController,this._options)}_stream(t,r){const o=Number(t.headers.get("content-length"))||0;let n=0;return t.status===204?(r&&r({percent:1,totalBytes:o,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(i){const s=t.body.getReader();r&&r({percent:0,transferredBytes:0,totalBytes:o},new Uint8Array);async function a(){const{done:c,value:l}=await s.read();if(c){i.close();return}if(r){n+=l.byteLength;const y=o===0?0:n/o;r({percent:y,transferredBytes:n,totalBytes:o},l)}i.enqueue(l),await a()}await a()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License  Sindre Sorhus */const createInstance=e=>{const t=(r,o)=>Ky.create(r,validateAndMerge(e,o));for(const r of requestMethods)t[r]=(o,n)=>Ky.create(o,validateAndMerge(e,n,{method:r}));return t.create=r=>createInstance(validateAndMerge(r)),t.extend=r=>createInstance(validateAndMerge(e,r)),t.stop=stop,t},ky=createInstance(),ky$1=ky;var Pn,xn;const Xo=class{constructor(t){Et(this,Pn,new Set);Et(this,xn,new Set);this.kyInstance=t}static create(){return Xo.instance=Xo.instance||new Xo(ky$1.create({headers:{"SD-Extension-Request":"1","SD-Extension-Version":MANIFEST_VERSION,"SD-Extension-Distribution":"firefox-v2"},hooks:{afterResponse:[(t,r,o)=>{this.handleOnAfterResponse(o)}],beforeRequest:[async()=>{await this.handleOnBeforeRequest()}]},timeout:30*1e3})),Xo.instance}static onSDRequest(t){var r;return(r=t.requestHeaders)!=null||(t.requestHeaders=[]),t.requestHeaders.push({name:"SD-Extension-Version",value:MANIFEST_VERSION}),t.requestHeaders.push({name:"SD-Extension-Distribution",value:"firefox-v2"}),{requestHeaders:t.requestHeaders}}static async handleOnAfterResponse(t){nt(this.create(),Pn).forEach(r=>{r(t)})}onAfterResponse(t){nt(this,Pn).add(t)}static async handleOnBeforeRequest(){const t=[];nt(this.create(),xn).forEach(r=>{t.push(r())}),await Promise.all(t)}onBeforeRequest(t){nt(this,xn).add(t)}async fetchUrlMessage(t){try{const r=await Xo.create().fetch(t.url,t.options);return{success:r.ok,json:await r.json()}}catch(r){return{success:!1,json:""}}}fetch(t,r){return this.kyInstance(t,r)}get(t,r){return this.kyInstance.get(t,r)}post(t,r){return this.kyInstance.post(t,r)}put(t,r){return this.kyInstance.put(t,r)}patch(t,r){return this.kyInstance.patch(t,r)}head(t,r){return this.kyInstance.head(t,r)}delete(t,r){return this.kyInstance.delete(t,r)}};let RequestService=Xo;Pn=new WeakMap,xn=new WeakMap,Sr(RequestService,"instance");var __defProp$s=Object.defineProperty,__getOwnPropDesc$s=Object.getOwnPropertyDescriptor,__decorateClass$s=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$s(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$s(t,r,n),n},ss;let HeaderWatcher=(ss=class{constructor(){Sr(this,"onSendHeaderCallbacks",new Set);Sr(this,"onHeaderReceivedCallbacks",new Set)}static create(){var e;return HeaderWatcher.instance=(e=HeaderWatcher.instance)!=null?e:new this,HeaderWatcher.instance}onBeforeSendHeaders(e){this.init(),this.onSendHeaderCallbacks.add(e)}onHeadersReceived(e){this.init(),this.onHeaderReceivedCallbacks.add(e)}init(){this.initWebRequestListeners()}initWebRequestListeners(){this.initOnHeadersReceivedListener()}initOnBeforeSendHeadersListener(){browser.webRequest.onBeforeSendHeaders.addListener(e=>(this.onSendHeaderCallbacks.forEach(t=>t(e)),{requestHeaders:e.requestHeaders}),{urls:[`*://*.${DOMAIN}/*`]},["blocking","requestHeaders"])}initOnHeadersReceivedListener(){browser.webRequest.onHeadersReceived.addListener(e=>{this.onHeaderReceivedCallbacks.forEach(t=>t(e))},{urls:[`*://*.${DOMAIN}/*`]},["responseHeaders"])}addExtensionHeader({requestHeaders:e},t){e==null||e.push(t)}},Sr(ss,"instance"),ss);HeaderWatcher=__decorateClass$s([initializable],HeaderWatcher);var TTL=(e=>(e[e.ONE_MINUTE=6e4]="ONE_MINUTE",e[e.ONE_HOUR=36e5]="ONE_HOUR",e[e.ONE_DAY=864e5]="ONE_DAY",e))(TTL||{});class LocalStorageCache{constructor(t){Sr(this,"cache",null);this.namespace=t}static create(t){return new this(t)}async get(t){this.cache===null&&await this.initCache();const r=this.cache[t];if(r!==void 0){if(this.isExpired(r)){await this.remove(t);return}return r.value}}async set(t,r,o=6e4*15){this.cache===null&&await this.initCache();const n={value:r,expireAt:Date.now()+o};if(this.isExpired(n))throw new Error("TTL value is expired");this.cache[t]=n,await this.writeCache()}async remove(t){this.cache===null&&await this.initCache(),this.cache[t]!==void 0&&(delete this.cache[t],await this.writeCache())}isExpired(t){return t!=null&&t.expireAt?t.expireAt<Date.now():!0}async initCache(){var i;const r=(i=(await browser.storage.local.get(this.namespace))[this.namespace])!=null?i:{},o=Object.entries(r);if(o.length===0){this.cache={};return}const n=o.filter(([s,a])=>!this.isExpired(a));this.cache=Object.fromEntries(n),JSON.stringify(o)!==JSON.stringify(n)&&await this.writeCache()}async writeCache(){if(this.cache!==null){if(Object.entries(this.cache).length===0){await browser.storage.local.remove(this.namespace);return}await browser.storage.local.set({[this.namespace]:this.cache})}}}Sr(LocalStorageCache,"TTL",TTL);class RepositoryCache{constructor(t){Sr(this,"inProgressCachePromises",{});this.cache=t}static create(t){return new this(LocalStorageCache.create(t))}async get(t,r=[],o=LocalStorageCache.TTL.ONE_HOUR){const n=this.generateCacheKey(t.name,r);if(this.inProgressCachePromises[n])return this.inProgressCachePromises[n];const i=await this.cache.get(n);if(i!==void 0)return i;this.inProgressCachePromises[n]=t(...r);const s=await this.inProgressCachePromises[n];return this.cache.set(n,s,o),delete this.inProgressCachePromises[n],s}async set(t,r,o=[],n=LocalStorageCache.TTL.ONE_HOUR){const i=this.generateCacheKey(r,o);await this.cache.set(i,t,n)}generateCacheKey(t,r){return`${t.replace("bound ","")}|${r.map(o=>`${o}`).join("|")}`}}Sr(RepositoryCache,"TTL",LocalStorageCache.TTL);const cn=class{constructor(t,r){this.requestService=t,this.cache=r}static create(){var t;return(t=cn.instance)!=null||(cn.instance=new this(RequestService.create(),RepositoryCache.create("loyaltyRepository"))),cn.instance}async addUserToLoyalty({source:t}){try{return(await this.requestService.post(`${LOYALTY_URL}/join`,{json:{source:t}}).json()).success}catch(r){return!1}}async getUserInfo(t){return this.cache.get(this._getUserInfo.bind(this),[t])}async _getUserInfo(){try{return await this.requestService.get(`${LOYALTY_URL}/user-info`).json()}catch(t){return null}}async getPointsHistory(t){return this.cache.get(this._getPointsHistory.bind(this),[t])}async _getPointsHistory(){const r="desc";try{return await this.requestService.get(`${LOYALTY_URL}/points-history?limit=${5}&sort=${r}`).json()}catch(o){return null}}async getMerchantOffers(t,r){return this.cache.get(this._getMerchantOffers.bind(this),[t,r])}async _getMerchantOffers(t){try{return(await this.requestService.get(`${LOYALTY_URL}/${t}/offers`).json()).offers.map(o=>this.setOfferStore(o,t))}catch(r){return[]}}async getProductOffers(t,r,o){return this.cache.get(this._getProductOffers.bind(this),[t,r,o])}async _getProductOffers(t,r){try{const o=await this.requestService.get(`${LOYALTY_URL}/${t}/offers-product/${r}`).json();return o.offer.products?[{...o.offer,product:o.offer.products[0]}]:[]}catch(o){return[]}}setOfferStore(t,r){var o,n;return t.store=(n=(o=t.stores)==null?void 0:o.find(i=>i.storeId===r))!=null?n:null,t}};let LoyaltyRepository=cn;Sr(LoyaltyRepository,"instance");var __defProp$r=Object.defineProperty,__getOwnPropDesc$r=Object.getOwnPropertyDescriptor,__decorateClass$r=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$r(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$r(t,r,n),n},AuthType=(e=>(e.Login="login",e.Register="register",e))(AuthType||{});const SYNC_AUTH_URL=`https://${API_DOMAIN}/ajax/userid.php`;var as,Ro,Fo,Nn,Kn,Js,Jn,Xs;let Authorization=(as=class{constructor(e,t,r,o){Et(this,Kn);Et(this,Jn);Et(this,Ro,{clientId:"",userId:0,username:"",avatar:null,title:"",isInLoyalty:!1});Et(this,Fo,null);Et(this,Nn,null);this.requestService=e,this.headerWatcher=t,this.loyaltyRepository=r,this.cache=o}static create(){var e;return(e=Authorization.instance)!=null||(Authorization.instance=new Authorization(RequestService.create(),HeaderWatcher.create(),LoyaltyRepository.create(),LocalStorageCache.create("authorization"))),Authorization.instance}async init(){const e=await this.cache.get("authInfo");e!==void 0?No(this,Ro,e):await this.syncUser(),this.requestService.onAfterResponse(t=>{if(t.headers.has("SD-User-ID")){const r=t.headers.get("SD-User-ID");`${nt(this,Ro).userId}`!==r&&this.syncUser()}}),Dr(this,Jn,Xs).call(this)}async syncUser(){if(nt(this,Fo))return nt(this,Fo);const e={};return this.getInstallEventId()&&typeof this.getInstallEventId()=="string"&&(e.headers={"sd-extension-install-event-id":`${this.getInstallEventId()}`}),No(this,Fo,this.requestService.fetch(SYNC_AUTH_URL,e).json().then(({clientId:t,username:r,avatar:o,title:n,userid:i,isInLoyalty:s})=>{No(this,Ro,{clientId:t,username:r,avatar:o,title:n,userId:Number(i),isInLoyalty:Boolean(s)}),this.cache.set("authInfo",nt(this,Ro),LocalStorageCache.TTL.ONE_DAY)}).then(async()=>{await this.addUserToLoyalty(),await Dr(this,Kn,Js).call(this)}).catch(t=>{SentryIO.captureException(t)}).finally(()=>{No(this,Fo,null)})),nt(this,Fo)}async addUserToLoyalty(){nt(this,Ro).userId===0||nt(this,Ro).isInLoyalty||(nt(this,Ro).isInLoyalty=await this.loyaltyRepository.addUserToLoyalty({source:"extension-logged-in-user"}))}sendAuthChangedMessage(e){sendMessage("authChanged",{...nt(this,Ro)},e).catch(t=>{})}async getAuthInfo(){return await this.waitForSyncUser(),nt(this,Ro)}async getClientId(){return await this.waitForSyncUser(),nt(this,Ro).clientId}async getUserId(){return await this.waitForSyncUser(),nt(this,Ro).userId}async getIsInLoyalty(){return await this.waitForSyncUser(),nt(this,Ro).isInLoyalty}async waitForSyncUser(){await this.init(),nt(this,Fo)&&await nt(this,Fo)}getInstallEventId(){return nt(this,Nn)}setInstallEventId(e){No(this,Nn,e)}async isLoggedIn(){return await this.getUserId()>0}async logout(){await Promise.all(["bbuserid","bbpassword","bbsessionhash"].map(e=>browser.cookies.remove({url:"https://.slickdeals.net",name:e}))),await this.syncUser()}async closeRegisterSuccessWindow(){(await browser.tabs.query({})).forEach(t=>{this.isRegisterSuccessWindow(t.url)&&t.id&&browser.tabs.remove(t.id)})}isRegisterSuccessWindow(e){if(!e)return!1;const t=new URL(e),r=t.searchParams.get("showSuccessScreen");return t.pathname==="/extension/action.php"&&r==="1"}async getTime(){var e;return await this.waitForSyncUser(),((e=nt(this,Ro))==null?void 0:e.microtime)||new Date().getTime()}},Ro=new WeakMap,Fo=new WeakMap,Nn=new WeakMap,Kn=new WeakSet,Js=async function(){this.sendAuthChangedMessage("popup@1"),(await browser.tabs.query({})).forEach(t=>{!t.id||this.sendAuthChangedMessage(`content-script@${t.id}`)})},Jn=new WeakSet,Xs=function(){this.headerWatcher.onBeforeSendHeaders(e=>{this.headerWatcher.addExtensionHeader(e,{name:"sd-extension-client",value:nt(this,Ro).clientId})})},Sr(as,"instance"),as);Authorization=__decorateClass$r([initializable],Authorization);var __defProp$q=Object.defineProperty,__getOwnPropDesc$q=Object.getOwnPropertyDescriptor,__decorateClass$q=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$q(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$q(t,r,n),n},cs,$n;let VirtualPageTracking=(cs=class{constructor(){Et(this,$n,{})}static create(){var e;return VirtualPageTracking.instance=(e=VirtualPageTracking.instance)!=null?e:new this,VirtualPageTracking.instance}getTabVirtualPage(e){if(!e)return null;const t=nt(this,$n)[e];return t||null}setTabVirtualPage({tabId:e,page:t}){!e||!t||(t.path=`/${browser.runtime.id}${t.path}`,nt(this,$n)[e]=t)}},$n=new WeakMap,Sr(cs,"instance"),cs);VirtualPageTracking=__decorateClass$q([initializable],VirtualPageTracking);async function encodeSha1(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("")}async function getActiveTabId(){const[e]=await browser.tabs.query({active:!0,currentWindow:!0});return e==null?void 0:e.id}var __defProp$p=Object.defineProperty,__getOwnPropDesc$p=Object.getOwnPropertyDescriptor,__decorateClass$p=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$p(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$p(t,r,n),n},ls;let RequestWatcher=(ls=class{constructor(){Sr(this,"lastRequestRedirects",new Map);Sr(this,"onRequestCallbacks",new Set)}static create(){return RequestWatcher.instance=RequestWatcher.instance||new this,RequestWatcher.instance}onRequest(e){this.init(),this.onRequestCallbacks.add(e)}init(){this.initWebRequestListener()}initWebRequestListener(){browser.webNavigation.onCommitted.addListener(e=>{const{parentFrameId:t,url:r,tabId:o,frameType:n}=e;if(!(t!==-1&&!n||n==="sub_frame")){if(o>0){this.handleRequest(o,r);return}getActiveTabId().then(i=>{!i||this.handleRequest(i,r)})}}),browser.webRequest.onSendHeaders.addListener(e=>{var a;const{parentFrameId:t,url:r,tabId:o,requestId:n,frameType:i}=e;if(t>0&&!i||i==="sub_frame")return;const s=(a=this.getLastRequestRedirectUrl(n))!=null?a:r;if(o>0){this.handleRequest(o,s);return}getActiveTabId().then(c=>{!c||this.handleRequest(c,s)})},{types:["main_frame"],urls:["https://*/*","http://*/*"]}),browser.webRequest.onBeforeRedirect.addListener(e=>{const{parentFrameId:t,requestId:r,redirectUrl:o,frameType:n}=e;t>0&&!n||n==="sub_frame"||this.setLastRequestRedirect(r,o)},{types:["main_frame"],urls:["https://*/*","http://*/*"]})}handleRequest(e,t){this.onRequestCallbacks.forEach(r=>{r({tabId:e,url:t})})}getLastRequestRedirectUrl(e){const t=this.lastRequestRedirects.get(e);return this.lastRequestRedirects.delete(e),t!=null?t:null}setLastRequestRedirect(e,t){this.lastRequestRedirects.set(e,t)}},Sr(ls,"instance"),ls);RequestWatcher=__decorateClass$p([initializable],RequestWatcher);var __defProp$o=Object.defineProperty,__getOwnPropDesc$o=Object.getOwnPropertyDescriptor,__decorateClass$o=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$o(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$o(t,r,n),n};const SESSION_TIMEOUT=30*60*1e3;var SessionDataKey=(e=>(e[e.NotificationCouponAutoApplyManualDisplayed=0]="NotificationCouponAutoApplyManualDisplayed",e[e.LoyaltyActivateOfferNotificationDisplayed=1]="LoyaltyActivateOfferNotificationDisplayed",e[e.LoyaltyProductOfferNotificationDisplayed=2]="LoyaltyProductOfferNotificationDisplayed",e[e.LoyaltyReactivationNotificationDisplayed=3]="LoyaltyReactivationNotificationDisplayed",e[e.LoyaltyStillActiveNotificationDisplayed=4]="LoyaltyStillActiveNotificationDisplayed",e))(SessionDataKey||{}),us;let ActiveSession=(us=class{constructor(e,t){Sr(this,"session",{createdAt:0,lastActivity:0,id:""});Sr(this,"sessionData",{});this.authorization=e,this.requestWatcher=t}static create(){var e;return(e=ActiveSession.instance)!=null||(ActiveSession.instance=new this(Authorization.create(),RequestWatcher.create())),ActiveSession.instance}async init(){await this.markActivity(),this.requestWatcher.onRequest(()=>{this.markActivity()})}getSessionId(){return this.session.id}hasDisplayedNotification(e,t){const r=this.getSessionData(e);return r?r.has(String(t)):!1}setDisplayedNotification(e,t){let r=this.getSessionData(e);r||(r=new Set),r.add(String(t)),this.setSessionData(e,r)}setSessionData(e,t){this.sessionData[e]=t}getSessionData(e){return this.sessionData[e]}async markActivity(){if(this.isSessionExpired()){this.session=await this.getNewSession(),this.sessionData={};return}this.session.lastActivity=Date.now()}async getNewSession(){const e=Date.now(),t=await this.authorization.getClientId();return t.length?{createdAt:e,lastActivity:e,id:await encodeSha1(`${t},NaCl,${e}`)}:{createdAt:e,lastActivity:0,id:""}}isSessionExpired(){return Date.now()-this.session.lastActivity>SESSION_TIMEOUT}},Sr(us,"instance"),us);ActiveSession=__decorateClass$o([initializable],ActiveSession);const ln=class{constructor(t,r){this.requestService=t,this.cache=r}static create(){var t;return(t=ln.instance)!=null||(ln.instance=new this(RequestService.create(),RepositoryCache.create("abTestRepository"))),ln.instance}async getAbTests(){return this.cache.get(this._getAbTests.bind(this),[],RepositoryCache.TTL.ONE_DAY)}async _getAbTests(){try{const t=await this.requestService.get(`${BROWSER_EXTENSION_API}/tests`).json();return t==null||t.tests.forEach(r=>{this.addTestToGetAbTestUserCache(r)}),t}catch(t){return null}}async getAbTestUser(t){return this.cache.get(this._getAbTestUser.bind(this),[t])}async _getAbTestUser(t){try{return await this.requestService.get(`${BROWSER_EXTENSION_API}/test/${t}`).json()}catch(r){return null}}async addTestToCaches(t){await this.addTestToGetAbTestUserCache(t),await this.addTestToGetAbTestsCache(t)}async addTestToGetAbTestsCache(t){var n;const r=(n=await this.getAbTests())!=null?n:{tests:[]};let o=r.tests.findIndex(i=>i.key===t.key);o===-1&&(o=r.tests.length),r.tests[o]=t,await this.cache.set(r,"_getAbTests")}async addTestToGetAbTestUserCache(t){await this.cache.set(t,"_getAbTestUser",[t.key])}};let AbTestRepository=ln;Sr(AbTestRepository,"instance");const featuredDealsHeaderSelectorOnFp="#featDealsAndCoupons .featuredHeading",featuredDealsSelectorOnFp="#featDealsAndCoupons",fpBestDealsYouMissedSelector="#bestDealsYouMissed",fpFeaturedPopularWidgetSelector="#featuredPopularWidget",fpMissedDealsPlaceholderSelector="[data-role='missedDealsPlaceHolder']",fpMissedDealsSelector="[data-blockname='moregreat']",fpPersonalizedWidgetSelector="#personalizedWidget",fpSettingsButtonSelector="[data-role='openFpPreferences']",fpTileSelector="li.fpGridBox[data-threadid],li.card[data-threadid],.js-dealCard[data-threadid],li[data-extension-deal][data-threadid]",fpTileStoreNameSelector=".storeName,li[data-extension-deal][data-threadid] button.bp-p-storeLink",fpTileStoreSelector=".itemStore",fpDealsContainerSelector="[data-extension-dtm-container='1']",googleSearchSecondTabSelector="[role='navigation'] a",abTestEnabled=!1,serpEnabled=!1,caaConfigCheckEnabled=!1,defaultConfig={featuredDealsHeaderSelectorOnFp,featuredDealsSelectorOnFp,fpBestDealsYouMissedSelector,fpFeaturedPopularWidgetSelector,fpMissedDealsPlaceholderSelector,fpMissedDealsSelector,fpPersonalizedWidgetSelector,fpSettingsButtonSelector,fpTileSelector,fpTileStoreNameSelector,fpTileStoreSelector,fpDealsContainerSelector,googleSearchSecondTabSelector,abTestEnabled,serpEnabled,caaConfigCheckEnabled};var __defProp$n=Object.defineProperty,__getOwnPropDesc$n=Object.getOwnPropertyDescriptor,__decorateClass$n=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$n(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$n(t,r,n),n},ExtensionConfigKey=(e=>(e.FeaturedDealsHeaderSelector="featuredDealsHeaderSelectorOnFp",e.FeaturedDealsSelector="featuredDealsSelectorOnFp",e.FpBestDealsYouMissedSelector="fpBestDealsYouMissedSelector",e.FpFeaturedPopularWidgetSelector="fpFeaturedPopularWidgetSelector",e.FpMissedDealsPlaceholderSelector="fpMissedDealsPlaceholderSelector",e.FpMissedDealsSelector="fpMissedDealsSelector",e.FpPersonalizedWidgetSelector="fpPersonalizedWidgetSelector",e.FpTileSelector="fpTileSelector",e.FpTileStoreNameSelector="fpTileStoreNameSelector",e.FpTileStoreSelector="fpTileStoreSelector",e.FpSettingsButtonSelector="fpSettingsButtonSelector",e.GoogleSearchSecondTabSelector="googleSearchSecondTabSelector",e.FpDealsContainerSelector="fpDealsContainerSelector",e.AbTestEnabled="abTestEnabled",e.SerpEnabled="serpEnabled",e.CaaConfigCheckEnabled="caaConfigCheckEnabled",e))(ExtensionConfigKey||{});const REFRESH_DELAY=2*60*60*1e3;var ds;let ExtensionConfigService=(ds=class{constructor(e){Sr(this,"config",null);Sr(this,"ttl",0);this.requestService=e}static create(){var e;return ExtensionConfigService.instance=(e=ExtensionConfigService.instance)!=null?e:new this(RequestService.create()),ExtensionConfigService.instance}async init(){try{const t=await(await this.requestService.fetch(EXTENSION_CONFIG_URL)).json();t&&(this.config=t)}catch(e){SentryIO.captureException(e)}finally{this.ttl=Date.now()+REFRESH_DELAY}}async getExtensionConfigValues(e){return this.getConfig(e)}async getConfig(e){this.config||await this.init(),this.ttl<=Date.now()&&await this.init();const t={};return e.forEach(r=>{var o,n;t[r]=(n=(o=this.config)==null?void 0:o[r])!=null?n:defaultConfig[r]}),t}},Sr(ds,"instance"),ds);ExtensionConfigService=__decorateClass$n([initializable],ExtensionConfigService);const fetchForContentScript=e=>sendMessage("getExtensionConfigValue",{keys:e},"background");var __defProp$m=Object.defineProperty,__getOwnPropDesc$m=Object.getOwnPropertyDescriptor,__decorateClass$m=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$m(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$m(t,r,n),n},ps;let AbTestService=(ps=class{constructor(e,t,r){Sr(this,"abTests",null);this.abTestRepository=e,this.requestService=t,this.extensionConfigService=r,this.abTestRepository=e,this.requestService=t,this.extensionConfigService=r}static create(){var e;return(e=AbTestService.instance)!=null||(AbTestService.instance=new this(AbTestRepository.create(),RequestService.create(),ExtensionConfigService.create())),AbTestService.instance}async init(){await this.updateAbTests(),this.requestService.onAfterResponse(e=>{const t=e.headers.get("sd-extension-ab");t&&this.handleAbTestHeader(t)})}async getTestVariant(e){var r,o;if({}.VITE_DISABLE_AB_TESTING==="1"||await this.isDisabled())return null;const t=await this.abTestRepository.getAbTestUser(e);return(o=(r=t==null?void 0:t.test)==null?void 0:r.variant)!=null?o:null}getAnalyticsString(){var e,t;return this.updateAbTests(),(t=(e=this.abTests)==null?void 0:e.tests.map(r=>`${r.testId}:${r.variantPosition}`).join("|"))!=null?t:""}async processTestPlacement(e){await this.abTestRepository.addTestToCaches(e),await this.updateAbTests()}handleAbTestHeader(e){try{const t=JSON.parse(e);if(t.tests.length===0)return;t.tests.forEach(r=>this.abTestRepository.addTestToCaches(r)),this.updateAbTests()}catch(t){}}async updateAbTests(){({}).VITE_DISABLE_AB_TESTING==="1"||await this.isDisabled()||(this.abTests=await this.abTestRepository.getAbTests())}async isDisabled(){const{[ExtensionConfigKey.AbTestEnabled]:e}=await this.extensionConfigService.getExtensionConfigValues([ExtensionConfigKey.AbTestEnabled]);return!e}},Sr(ps,"instance"),ps);AbTestService=__decorateClass$m([initializable],AbTestService);const AbTestService$1=AbTestService;var __defProp$l=Object.defineProperty,__getOwnPropDesc$l=Object.getOwnPropertyDescriptor,__decorateClass$l=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$l(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$l(t,r,n),n};const INTERNAL_TRACKING_URL=`${API}/browser-extension-tracking/1/`,GA_TRACKING_URL="https://www.google-analytics.com/collect",GA4_TRACKING_URL="https://www.google-analytics.com/mp/collect",GA4_SECRET_KEY_PROD="7EFzmiksTUOyN3xu5IF3pQ",DEFAULT_ENGAGEMENT_TIME_IN_MSEC=100,Actions={HEARTBEAT:"Heartbeat",INSTALL:"Installed"};var fs,Xn,qo,an,Mn,Ns,Zn,Zs,Qn,Qs,ei,ea,ti,ta,ri,ra,oi,oa,bn,zn,ni,na,ii,ia,si,sa,ai,aa,ci,ca;let Analytics=(fs=class{constructor(e,t,r,o,n,i,s){Et(this,qo);Et(this,Mn);Et(this,Zn);Et(this,Qn);Et(this,ei);Et(this,ti);Et(this,ri);Et(this,oi);Et(this,bn);Et(this,ni);Et(this,ii);Et(this,si);Et(this,ai);Et(this,ci);Sr(this,"customDimensions",{runtimeId:browser.runtime.id});Et(this,Xn,MANIFEST_VERSION);this.requestService=e,this.authorization=t,this.allowTrackingService=r,this.tabService=o,this.virtualPageTrackingService=n,this.activeSessionService=i,this.abTestService=s}static create(){var e;return(e=Analytics.instance)!=null||(Analytics.instance=new Analytics(RequestService.create(),Authorization.create(),AllowTrackingService.create(),TabService.create(),VirtualPageTracking.create(),ActiveSession.create(),AbTestService$1.create())),Analytics.instance}static normalizeHostname(e){return e.startsWith("www.")?e.substring(4):e}async trackEvent(e,{trackInternally:t}={trackInternally:!1},r){if(!Dr(this,qo,an).call(this)&&[Actions.HEARTBEAT,Actions.INSTALL].indexOf(e.action)===-1)return;const o=await Dr(this,ri,ra).call(this,e,r),{category:n,action:i,label:s="",value:a=0,trafficSource:c,page:l}=o,y={event:"general",category:n,action:i,label:s,value:a,version:nt(this,Xn),runtimeId:browser.runtime.id};l?(y.page=l,l.hostname&&(l.hostname=Analytics.normalizeHostname(l.hostname))):y.page={path:`/${browser.runtime.id}/background`,hostname:browser.runtime.id,title:"Background"},c&&(y.trafficSource=c),y.sdUserId=`${await this.authorization.getUserId()}`,Dr(this,qo,an).call(this)&&Dr(this,Mn,Ns).call(this,y),t&&Dr(this,ei,ea).call(this,y)}trackVirtualPageView({path:e,title:t,hostname:r=browser.runtime.id},o){this.virtualPageTrackingService.setTabVirtualPage({page:{path:e,title:t,hostname:r},tabId:o}),Dr(this,Mn,Ns).call(this,{event:"virtualPageView",page:{path:e,title:t,hostname:Analytics.normalizeHostname(r)},action:"",category:""})}async track(e,t={}){if(!(!Dr(this,qo,an).call(this)&&e!=="install")){t.runtimeId=this.customDimensions.runtimeId;try{await this.requestService.post(`${INTERNAL_TRACKING_URL}${e}`,{json:t})}catch(r){console.error("Analytics.track error",r)}}}async init(){await this.allowTrackingService.init(),await this.authorization.init()}},Xn=new WeakMap,qo=new WeakSet,an=function(){return this.allowTrackingService.isTrackingAllowed()},Mn=new WeakSet,Ns=async function(e){Dr(this,Zn,Zs).call(this,e),Dr(this,Qn,Qs).call(this,e)},Zn=new WeakSet,Zs=async function(e){if(!Dr(this,qo,an).call(this))return;const{cid:t,name:r,...o}=await Dr(this,oi,oa).call(this,e),n="G-LE99EL54SN",i=GA4_SECRET_KEY_PROD;try{await this.requestService.fetch(`${GA4_TRACKING_URL}?measurement_id=${n}&api_secret=${i}`,{method:"POST",body:JSON.stringify({client_id:t,events:[{name:r,params:{engagement_time_msec:DEFAULT_ENGAGEMENT_TIME_IN_MSEC,...o}}]})})}catch(s){}},Qn=new WeakSet,Qs=async function(e){if(!Dr(this,qo,an).call(this))return;let t="event",{category:r,action:o}=e;const n="UA-136402-13",{event:i,label:s,value:a,page:c,version:l,trafficSource:y}=e,me=await this.authorization.getClientId(),se=await this.authorization.getUserId(),ge=await this.authorization.getIsInLoyalty();me!=null&&(this.customDimensions.extClientId=me),se!==0&&(this.customDimensions.sdUserId=`${se}`),l!=null&&(this.customDimensions.version=l),this.customDimensions.abTest=this.abTestService.getAnalyticsString(),this.customDimensions.isInLoyalty=ge?"yes":"no",this.customDimensions.sessionId=this.activeSessionService.getSessionId(),i==="userInfo"?(r="Extension",o="User Info"):i==="virtualPageView"&&(t="pageview");const be=new URLSearchParams;if(c){const{path:_e,hostname:Ue,title:xt}=c;_e&&be.append("dp",_e),Ue&&be.append("dh",Ue),xt&&be.append("dt",xt)}if(be.append("v","1"),be.append("tid",n),be.append("cid",me),be.append("t",t),be.append("dl",`extension://${browser.runtime.id}/background.html`),be.append("ul",navigator.language.toLowerCase()),be.append("cd6",this.customDimensions.runtimeId),r&&be.append("ec",r),o&&be.append("ea",o),s&&be.append("el",s),a&&be.append("ev",a),this.customDimensions.extClientId&&be.append("cd1",this.customDimensions.extClientId),this.customDimensions.sdUserId&&be.append("cd2",this.customDimensions.sdUserId),this.customDimensions.version&&be.append("cd3",this.customDimensions.version),this.customDimensions.abTest&&be.append("cd4",this.customDimensions.abTest),be.append("cd5",this.customDimensions.isInLoyalty),be.append("cd8",this.customDimensions.sessionId),y){const{campaignContent:_e,campaignId:Ue,campaignKeyword:xt,campaignMedium:so,campaignName:yt,campaignSource:Ge}=y;_e&&be.append("cc",_e),so&&be.append("cm",so),yt&&be.append("cn",yt),Ge&&be.append("cs",Ge),xt&&be.append("ck",xt),Ue&&be.append("ci",Ue)}try{await this.requestService.fetch(`${GA_TRACKING_URL}?${be}`)}catch(_e){console.error("Analytics.#sendEvent error",_e)}},ei=new WeakSet,ea=async function(e){try{await this.requestService.post(`${INTERNAL_TRACKING_URL}trackEvent`,{json:e})}catch(t){console.error("Analytics.#sendEventInternal error",t)}},ti=new WeakSet,ta=async function({event:e,tabId:t}){const r=this.virtualPageTrackingService.getTabVirtualPage(t);if(r&&!e.page&&(e.page=r),!e.page){let o="";const n=await this.tabService.get(t);n!=null&&n.url&&(o=new URL(n.url).hostname),e.page={path:`/${browser.runtime.id}/background`,title:"Background",hostname:o}}return e},ri=new WeakSet,ra=async function(e,t){return t?await Dr(this,ti,ta).call(this,{event:e,tabId:t}):e},oi=new WeakSet,oa=async function(e){let t="event",{category:r,action:o}=e;const{event:n,label:i,value:s,page:a,version:c,trafficSource:l}=e,y=await this.authorization.getClientId(),me=await this.authorization.getUserId(),se=await this.authorization.getIsInLoyalty();y!=null&&(this.customDimensions.extClientId=y),me!==0&&(this.customDimensions.sdUserId=`${me}`),c!=null&&(this.customDimensions.version=c),this.customDimensions.abTest=this.abTestService.getAnalyticsString(),this.customDimensions.isInLoyalty=se?"yes":"no",this.customDimensions.sessionId=this.activeSessionService.getSessionId(),n==="userInfo"?(r="extension",o="user_info"):n==="virtualPageView"&&(t="pageview");const ge={};if(a){const{path:be,hostname:_e,title:Ue}=a;ge.page_location=be&&_e?`${_e}${be}`:`extension://${browser.runtime.id}${be}`,Ue&&(ge.page_title=Ue)}if(ge.cid=y,ge.event_type=t,ge.user_language=navigator.language.toLowerCase(),ge.runtime_id=this.customDimensions.runtimeId,this.customDimensions.extClientId&&(ge.ext_client_id=this.customDimensions.extClientId),this.customDimensions.sdUserId&&(ge.sd_user_id=this.customDimensions.sdUserId),this.customDimensions.version&&(ge.version=this.customDimensions.version),this.customDimensions.abTest&&(ge.ab_test=this.customDimensions.abTest),ge.is_in_loyalty=this.customDimensions.isInLoyalty,ge.session_id=this.activeSessionService.getSessionId(),ge.encoded_session_id=this.customDimensions.sessionId,l){const{campaignContent:be,campaignId:_e,campaignKeyword:Ue,campaignMedium:xt,campaignName:so,campaignSource:yt}=l;be&&(ge.campaign_content=be),xt&&(ge.campaign_medium=xt),so&&(ge.campaign_name=so),yt&&(ge.campaign_source=yt),Ue&&(ge.campaign_keyword=Ue),_e&&(ge.campaign_id=_e)}if(n==="virtualPageView")return ge.name="page_view",ge;if(r){const be=Dr(this,bn,zn).call(this,r);ge.category=be,ge.name=be}if(o){const be=Dr(this,bn,zn).call(this,o);ge.action=be,ge.name||(ge.name=be)}if(i){const be=Dr(this,bn,zn).call(this,i);ge.label=be}return s&&(ge.value=s),ge},bn=new WeakSet,zn=function(e){return Dr(this,ni,na).call(this,Dr(this,ii,ia).call(this,Dr(this,ai,aa).call(this,e)))},ni=new WeakSet,na=function(e){return e.length>100?`${e.substring(0,97)}...`:e},ii=new WeakSet,ia=function(e){return Dr(this,si,sa).call(this,e)?e.trim().split(" ").join("_"):e},si=new WeakSet,sa=function(e){return/\s/g.test(e)},ai=new WeakSet,aa=function(e){return Dr(this,ci,ca).call(this,e)?e.toLowerCase():e},ci=new WeakSet,ca=function(e){return/[A-Z]/.test(e)},Sr(fs,"instance"),fs);Analytics=__decorateClass$l([initializable],Analytics);var MerchantId=(e=>(e[e.Amazon=1]="Amazon",e[e.Kohls=580]="Kohls",e[e.Slickdeals=11150]="Slickdeals",e))(MerchantId||{}),__defProp$k=Object.defineProperty,__getOwnPropDesc$k=Object.getOwnPropertyDescriptor,__decorateClass$k=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$k(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$k(t,r,n),n};const DEAL_DETAILS_REGEX=/^\/[fe]\/([0-9]+)/,CACHE_TTL_MINUTES=5;var ms,Zo;let DealDetailsService=(ms=class{constructor(e){Et(this,Zo,{});this.requestService=e}static create(){return DealDetailsService.instance=DealDetailsService.instance||new this(RequestService.create()),DealDetailsService.instance}static getThreadIdFromPath(e){const[,t]=e.match(DEAL_DETAILS_REGEX)||[];return Number.parseInt(t,10)}async fetchDealDetails(e){var t,r,o,n;return((r=(t=nt(this,Zo)[e])==null?void 0:t.ttl)!=null?r:0)>=Date.now()?(n=(o=nt(this,Zo)[e])==null?void 0:o.promise)!=null?n:null:(nt(this,Zo)[e]={promise:this.requestService.fetch(`${DEAL_DETAILS_URL}/${e}`).then(i=>i.json()).then(i=>{var s;return(s=i.dealDetails)!=null?s:null}).catch(i=>(SentryIO.captureMessage(i),null)),ttl:Date.now()+CACHE_TTL_MINUTES*60*1e3},nt(this,Zo)[e].promise)}},Zo=new WeakMap,Sr(ms,"instance"),ms);DealDetailsService=__decorateClass$k([initializable],DealDetailsService);const DDSB_SRC_POPUP="ddsb-popup",un=class{constructor(t,r){this.dealDetailsService=t,this.tabsService=r}static create(){var t;return(t=un.instance)!=null||(un.instance=new this(DealDetailsService.create(),TabService.create())),un.instance}async handleDealDetailsDeepLink({deepLinkUrl:t,deepLinkTabId:r}){var a;const o=await this.getDealDetails(t);if(((a=o==null?void 0:o.store)==null?void 0:a.storeId)!==MerchantId.Amazon)return;const n=await this.tabsService.get(r);if(!n)return;const i=this.getThreadUrl(o.threadUrl);if(!i)return;this.addListenersToClosePopup(n);const s=this.getDdsbPopupWindowOpener();browser.scripting?await browser.scripting.executeScript({target:{tabId:r},func:s,args:[i,this.getPopupWindowArguments()]}):await browser.tabs.executeScript(r,{code:`(${s.toString()}).apply(null, ${JSON.stringify([i,this.getPopupWindowArguments()])})`})}async getDealDetails(t){const r=new URL(`https://slickdeals.net${t}`);if(r.searchParams.get("minimized")==="1")return null;const o=Number(r.searchParams.get("threadId"));return await this.dealDetailsService.fetchDealDetails(o)}getThreadUrl(t){const r=new URL(t);return r.searchParams.set("src",DDSB_SRC_POPUP),r.toString()}addListenersToClosePopup(t){const r=async o=>{if(o.type!=="popup"||o.width!==this.getPopupWindowArguments().width)return;browser.windows.onCreated.removeListener(r);const n=async(s,a)=>{s!==t.id||!o.id||a.url&&await browser.windows.remove(o.id)};browser.tabs.onUpdated.addListener(n);const i=async s=>{s===t.id&&o.id&&(await browser.windows.remove(o.id),browser.tabs.onRemoved.removeListener(i),browser.tabs.onUpdated.removeListener(n))};browser.tabs.onRemoved.addListener(i)};browser.windows.onCreated.addListener(r),setTimeout(()=>{browser.windows.onCreated.removeListener(r)},5e3)}getDdsbPopupWindowOpener(){return(t,r)=>{var o,n;window.open(t,"",["scrollbars=yes",`width=${r.width}`,`height=${r.height}`,`top=${((o=window.screenTop)!=null?o:window.screenTop)+(window.outerHeight-window.innerHeight)+r.margin.top}`,`left=${((n=window.screenLeft)!=null?n:window.screenLeft)+window.outerWidth-r.width-r.margin.right}`].join(", "))}}getPopupWindowArguments(){return{width:360,height:600,margin:{top:10,right:20}}}};let AmazonDirectToMerchant=un;Sr(AmazonDirectToMerchant,"instance");var Wo;const dn=class{constructor(t){Et(this,Wo,{});this.amazonDirectToMerchantService=t}static create(){var t;return(t=dn.instance)!=null||(dn.instance=new this(AmazonDirectToMerchant.create())),dn.instance}addAutoOpenTab({tabId:t,data:r}){nt(this,Wo)[t]=r}getAutoOpenTab(t){return nt(this,Wo)[t]}async getAutoOpenTabRoute({tabId:t,merchant:r,navigationType:o}){var s;const n=this.getAutoOpenTab(t);if(!n)return null;const i=n.url.includes("/thread");if(r&&i){if(r.id===MerchantId.Slickdeals)return null;if(!((s=r==null?void 0:r.config)!=null&&s.dealDetailsSidebar))return this.removeAutoOpenTab(t),null;if(r.id===MerchantId.Amazon&&n.url)return await this.amazonDirectToMerchantService.handleDealDetailsDeepLink({deepLinkUrl:n.url,deepLinkTabId:t}),this.removeAutoOpenTab(t),null}if(o!==null&&o!=="reload"){if(n.hasBeenShown)return this.removeAutoOpenTab(t),null;this.updateAutoOpenTab(t,{hasBeenShown:!0})}return n.url}updateAutoOpenTab(t,r){!nt(this,Wo)[t]||(nt(this,Wo)[t]={...nt(this,Wo)[t],...r})}removeAutoOpenTab(t){delete nt(this,Wo)[t]}updateAutoOpenTabInteractedWithPage(t){!t||this.removeAutoOpenTab(t)}};let AutoOpenTabs=dn;Wo=new WeakMap,Sr(AutoOpenTabs,"instance");var __defProp$j=Object.defineProperty,__getOwnPropDesc$j=Object.getOwnPropertyDescriptor,__decorateClass$j=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$j(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$j(t,r,n),n},hs,li,la;let NavigationService=(hs=class{constructor(){Et(this,li)}static create(){return NavigationService.instance=NavigationService.instance||new this,NavigationService.instance}async openAutoClosingTab({url:e,newTab:t=!0,focused:r=!1,currentTab:o}){const n=await this.openPage({url:e,newTab:t,focused:r,currentTab:o});if(!(n!=null&&n.id)){const i="failed to open a new auto close tab";throw SentryIO.captureMessage(i),new Error(i)}return n}async openPage({url:e,newTab:t=!1,focused:r=!0,currentTab:o}){let n;try{n=await Dr(this,li,la).call(this,{currentTab:o,focused:r,newTab:t,url:e})}catch(i){SentryIO.captureMessage(`Failed to open page to ${e}`)}return n}},li=new WeakSet,la=async function({currentTab:e,focused:t=!0,newTab:r=!0,url:o}){return new Promise((n,i)=>{r?browser.tabs.create({url:o,active:t,...e?{index:e.index+1,openerTabId:e.id}:{}}).then(s=>{n(s)}).catch(s=>{i(s)}):browser.tabs.update(e==null?void 0:e.id,{url:o}).then(s=>{n(s)}).catch(s=>{i(s)})})},Sr(hs,"instance"),hs);NavigationService=__decorateClass$j([initializable],NavigationService);const pn=class{static create(){var t;return(t=pn.instance)!=null||(pn.instance=new this),pn.instance}async setCookie({name:t,value:r,expirationDate:o}){return browser.cookies.set({url:HOME_URL,domain:".slickdeals.net",name:t,value:r,expirationDate:o})}};let SiteCookieInjector=pn;Sr(SiteCookieInjector,"instance");const fn=class{constructor(t,r){this.siteCookieInjector=t,this.authorization=r}static create(){var t;return(t=fn.instance)!=null||(fn.instance=new this(SiteCookieInjector.create(),Authorization.create())),fn.instance}async setClientOnPing(){this.isDeclarativeNetRequestAvailable()||await this.setClientCookie()}async setClient(){this.isDeclarativeNetRequestAvailable()?await this.setDeclarativeNetRequestRules():await this.setClientCookie()}isDeclarativeNetRequestAvailable(){return Boolean(chrome.declarativeNetRequest)}async setDeclarativeNetRequestRules(){const{clientId:t,distribution:r,version:o}=await this.getClientData();await chrome.declarativeNetRequest.updateDynamicRules({addRules:[{id:1,action:{type:chrome.declarativeNetRequest.RuleActionType.MODIFY_HEADERS,requestHeaders:[{header:"SD-EXTENSION-VERSION",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:o},{header:"SD-EXTENSION-DISTRIBUTION",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:r},{header:"SD-EXTENSION-CLIENT",operation:chrome.declarativeNetRequest.HeaderOperation.SET,value:t}]},condition:{urlFilter:"slickdeals.net",resourceTypes:[chrome.declarativeNetRequest.ResourceType.MAIN_FRAME,chrome.declarativeNetRequest.ResourceType.SUB_FRAME,chrome.declarativeNetRequest.ResourceType.XMLHTTPREQUEST,chrome.declarativeNetRequest.ResourceType.WEBSOCKET]}}],removeRuleIds:[1]})}async setClientCookie(){const{clientId:t,distribution:r,version:o}=await this.getClientData();await this.siteCookieInjector.setCookie({name:"sdExtensionClient",value:[o,r,t].join("|"),expirationDate:new Date(new Date().setFullYear(new Date().getFullYear()+1)).getTime()/1e3})}async getClientData(){return{clientId:await this.authorization.getClientId(),distribution:"firefox-v2",version:MANIFEST_VERSION}}};let ClientService=fn;Sr(ClientService,"instance");var __defProp$i=Object.defineProperty,__getOwnPropDesc$i=Object.getOwnPropertyDescriptor,__decorateClass$i=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$i(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$i(t,r,n),n},gs,Qo,ui,ua,_n,qn,Ln,$s,Fn,Ms;let CookieService=(gs=class{constructor(e,t,r,o){Et(this,ui);Et(this,_n);Et(this,Ln);Et(this,Fn);Et(this,Qo,!1);this.navigationService=e,this.requestService=t,this.tabService=r,this.extensionClientService=o}static create(){var e;return CookieService.instance=(e=CookieService.instance)!=null?e:new this(NavigationService.create(),RequestService.create(),TabService.create(),ClientService.create()),CookieService.instance}init(){this.requestService.onAfterResponse(e=>{this.handleResetAttributionFlag(e)}),this.requestService.onBeforeRequest(async()=>{await Dr(this,ui,ua).call(this)}),this.tabService.onUpdated(async({tabId:e,changeInfo:t})=>{if(t.status==="complete"){const r=await this.tabService.get(e);(r==null?void 0:r.url)===EXTENSION_REFRESH_PAGE&&await browser.tabs.remove(e)}})}async handleResetAttributionFlag(e){e.headers.has("SD-Reset-Attribution")&&(await Dr(this,Ln,$s).call(this),await this.extensionClientService.setClient())}},Qo=new WeakMap,ui=new WeakSet,ua=async function(){await Dr(this,_n,qn).call(this)||await Dr(this,Ln,$s).call(this)},_n=new WeakSet,qn=async function(){const e=await browser.cookies.get({url:HOME_URL,name:"sd_p"});return Boolean(e)},Ln=new WeakSet,$s=async function(){return await Dr(this,_n,qn).call(this)?Promise.resolve():nt(this,Qo)?Dr(this,Fn,Ms).call(this):(No(this,Qo,!0),this.navigationService.openAutoClosingTab({url:EXTENSION_REFRESH_PAGE}).then(async()=>(await Dr(this,Fn,Ms).call(this),No(this,Qo,!1),Promise.resolve())).catch(()=>{No(this,Qo,!1),SentryIO.captureMessage("Failed to open extension refresh page")}))},Fn=new WeakSet,Ms=async function(){return new Promise(e=>{const t=setInterval(async()=>{await Dr(this,_n,qn).call(this)&&(clearInterval(t),e())},100)})},Sr(gs,"instance"),gs);CookieService=__decorateClass$i([initializable],CookieService);var __defProp$h=Object.defineProperty,__getOwnPropDesc$h=Object.getOwnPropertyDescriptor,__decorateClass$h=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$h(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$h(t,r,n),n};const EVENT_ACTION$1="Heartbeat",HEARTBEAT_KEY="heartbeat";var bs,Yo,di,pi,en,fi,da,mi,pa,hi,fa,gi,ma,bi,ha,_i,ga,yi,ba,Un,Ls,vi,_a;let Heartbeat=(bs=class{constructor(e,t){Et(this,fi);Et(this,mi);Et(this,hi);Et(this,gi);Et(this,bi);Et(this,_i);Et(this,yi);Et(this,Un);Et(this,vi);Et(this,Yo,HEARTBEAT_KEY);Et(this,di,Number("60"));Et(this,pi,new Intl.DateTimeFormat("en-US",{timeZone:"America/Los_Angeles",dateStyle:"short"}));Et(this,en,async e=>{e.name===nt(this,Yo)&&await Dr(this,yi,ba).call(this)&&(this.analytics.trackEvent({category:"Extension",action:EVENT_ACTION$1,label:nt(this,pi).format(new Date)},{trackInternally:!0}),Dr(this,_i,ga).call(this))});this.storage=e,this.analytics=t}static create(){return Heartbeat.instance=Heartbeat.instance||new Heartbeat(LocalStorageCache.create(HEARTBEAT_KEY),Analytics.create()),Heartbeat.instance}async init(){!await Dr(this,fi,da).call(this)&&Dr(this,mi,pa).call(this),await this.analytics.init(),Dr(this,hi,fa).call(this),Dr(this,vi,_a).call(this)}remove(){Dr(this,bi,ha).call(this),Dr(this,gi,ma).call(this)}},Yo=new WeakMap,di=new WeakMap,pi=new WeakMap,en=new WeakMap,fi=new WeakSet,da=async function(){const e=await Dr(this,Un,Ls).call(this);return Boolean(e)},mi=new WeakSet,pa=function(){browser.alarms.create(nt(this,Yo),{periodInMinutes:nt(this,di),when:Date.now()})},hi=new WeakSet,fa=function(){browser.alarms.onAlarm.hasListener(nt(this,en))||browser.alarms.onAlarm.addListener(nt(this,en))},gi=new WeakSet,ma=async function(){await browser.alarms.get(nt(this,Yo))&&browser.alarms.onAlarm.removeListener(nt(this,en))},bi=new WeakSet,ha=function(){browser.alarms.clear(nt(this,Yo))},_i=new WeakSet,ga=async function(){await this.storage.set("lastBeatDate",Date.now(),LocalStorageCache.TTL.ONE_DAY)},yi=new WeakSet,ba=async function(){return!await this.storage.get("lastBeatDate")},Un=new WeakSet,Ls=async function(){return await browser.alarms.get(nt(this,Yo))},vi=new WeakSet,_a=async function(){const e=await Dr(this,Un,Ls).call(this);e&&nt(this,en).call(this,e)},Sr(bs,"instance"),bs);Heartbeat=__decorateClass$h([initializable],Heartbeat);const merchantsConfig={walmart:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"dell-home-office":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!0},groupon:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!0},nordstrom:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},lowes:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"verizon-wireless":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"t-mobile":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"bh-photo-video":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},kohls:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!0},gap:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!0},overstock:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},sephora:{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},gamestop:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},hp:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},walgreens:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},bodybuilding:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},staples:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"dominos-pizza":{deals:!1,coupons:!0,caa:!0,fpDeals:!0,serp:!0},priceline:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"forever-21":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"jc-penney":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},sprint:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},samsung:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"barnes-noble":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"sams-club":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"6pm":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},sears:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},cvs:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},hotels:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"office-depot":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},asos:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"dicks-sporting-goods":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},adidas:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},rakuten:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"victorias-secret":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"ulta-beauty":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"american-eagle-outfitters":{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},travelocity:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},cabelas:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},frys:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},bloomingdales:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!1},"harbor-freight":{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},hm:{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},"costco-wholesale":{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},wayfair:{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},ticketmaster:{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},"bed-bath-beyond":{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},"humble-bundle":{deals:!0,coupons:!1,caa:!1,fpDeals:!0,serp:!0},steam:{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},"pizza-hut":{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},"papa-johns":{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},"papa-murphys":{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},"little-caesars":{deals:!0,coupons:!0,caa:!0,fpDeals:!0,serp:!0},newegg:{deals:!0,coupons:!0,caa:!0,fpDeals:!1,serp:!0}};function getUrlWithParams(e,t){const r=new URL(e);return Object.entries(t).forEach(([o,n])=>{r.searchParams.set(o,n)}),r.toString()}class UrlService{static getSecondLevelDomain(t){let r;try{r=new URL(t).hostname.split(".").slice(-2).join(".")}catch(o){return!1}return(r==="sdhq.local"||r==="slickdeals.dev")&&(r="slickdeals.net"),r}static domainLengthSort(t,r){var i,s,a,c;const o=((s=(i=t==null?void 0:t.domain)==null?void 0:i.split("."))==null?void 0:s.length)||0,n=((c=(a=r==null?void 0:r.domain)==null?void 0:a.split("."))==null?void 0:c.length)||0;return o<n?1:o>n?-1:0}static getUrlWithParams(t,r){const o=new URL(t);return Object.keys(r).forEach(n=>{o.searchParams.set(n,r[n])}),o.toString()}}var __defProp$g=Object.defineProperty,__getOwnPropDesc$g=Object.getOwnPropertyDescriptor,__decorateClass$g=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$g(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$g(t,r,n),n},MerchantCouponType=(e=>(e[e.Slickdeals=1]="Slickdeals",e[e.DealDetails=2]="DealDetails",e[e.DealDetailsSidebar=3]="DealDetailsSidebar",e[e.MerchantForwarded=4]="MerchantForwarded",e[e.Vanity=5]="Vanity",e[e.Manual=6]="Manual",e[e.Personal=7]="Personal",e[e.External=8]="External",e))(MerchantCouponType||{});const REFRESH_INTERVAL_MINUTES=4*60,ALARM_KEY="MerchantRefreshAlarm";function isCouponTabCoupon(e){return[1,2,4,3,8].includes(e.type)}function getCouponTabCouponCount(e){var t;return e.coupons&&(t=e.coupons.filter(r=>isCouponTabCoupon(r)).length)!=null?t:0}var sn,Si,Ko,tn,yn,Go,Ti,ya,Ei,va,wi,Sa,Oi,Ta,Ai,Ea,ki,wa,Ci,Oa,Ri,Aa;let MerchantService=(sn=class{constructor(e){Et(this,Ti);Et(this,Ei);Et(this,wi);Et(this,Oi);Et(this,Ai);Et(this,ki);Et(this,Ci);Et(this,Ri);Et(this,Si,ALARM_KEY);Et(this,Ko,{});Et(this,tn,{});Et(this,yn,{});Et(this,Go,{});this.requestService=e}async init(){await MerchantService.update(),Dr(this,Ei,va).call(this),Dr(this,Ti,ya).call(this)}static create(){return MerchantService.instance||(MerchantService.instance=new MerchantService(RequestService.create())),MerchantService.instance}getById(e){var t;return(t=nt(this,tn)[e])!=null?t:!1}getMerchantByUrl(e,t){var o;if(!(e!=null&&e.startsWith("http")))return!1;const r=e.split("#")[0];if(!nt(this,yn)[r]){const n=Dr(this,wi,Sa).call(this,r,t);if(!n)return!1;nt(this,yn)[r]=n.id}return(o=nt(this,tn)[nt(this,yn)[r]])!=null?o:!1}static async update(){var t,r,o,n;if(MerchantService.onUpdatePromise)return MerchantService.onUpdatePromise;MerchantService.onFetchPromise||(MerchantService.onFetchPromise=Dr(t=MerchantService.instance,Oi,Ta).call(t));const e=await MerchantService.onFetchPromise;if(Dr(r=MerchantService.instance,Ai,Ea).call(r,e)){const i=Dr(o=MerchantService.instance,ki,wa).call(o,e);MerchantService.onUpdatePromise=Dr(n=MerchantService.instance,Ri,Aa).call(n,i),await MerchantService.onUpdatePromise}return Promise.resolve()}},Si=new WeakMap,Ko=new WeakMap,tn=new WeakMap,yn=new WeakMap,Go=new WeakMap,Ti=new WeakSet,ya=function(){browser.alarms.create(nt(this,Si),{periodInMinutes:REFRESH_INTERVAL_MINUTES})},Ei=new WeakSet,va=function(){browser.alarms.onAlarm.hasListener(MerchantService.update)||browser.alarms.onAlarm.addListener(MerchantService.update)},wi=new WeakSet,Sa=function(e,t){const r=UrlService.getSecondLevelDomain(e);if(!r||!nt(this,Ko)[r])return!1;const o=nt(this,Ko)[r].find(({uriPattern:n})=>n?e.match(n):!1);if(o)return o;if(t){const{hostname:n}=new URL(e),i=nt(this,Ko)[r].find(({domain:s})=>n.substring(n.length-s.length)===s);if(i)return i}return!1},Oi=new WeakSet,Ta=async function(){const e=STORE_URL,t=STORES_STATIC_URL,r=t;let o;try{if(o=await this.requestService.fetch(r?t:e),nt(this,Go).lastModified&&nt(this,Go).lastModified===o.headers.get("last-modified")||nt(this,Go).etag&&nt(this,Go).etag===o.headers.get("etag"))return null;nt(this,Go).etag=o.headers.get("etag"),nt(this,Go).lastModified=o.headers.get("last-modified")}catch(n){return null}return r&&o.status===304&&Object.keys(nt(this,tn)).length>0?null:o.json().then(n=>n||null)},Ai=new WeakSet,Ea=function(e){return!!e&&typeof e=="object"},ki=new WeakSet,wa=function(e){return e.stores.map(t=>{let{outclickUrl:r}=t;return{...t,outclickUrl:r,image:(t.image||"").replace(ATTACHMENT_PATTERN,ATTACHMENT_URL)}}),e.stores},Ci=new WeakSet,Oa=async function(e){if(!!e)for(const t of e){let{uriPattern:r}=t;r[0]!=="^"&&(r=`^${r}`),r.startsWith("^https?://([^/]+\\.)?")&&(r=r.replace("^https?://([^/]+\\.)?","^https?://(?:(?:www\\d*|store|shop|cart|checkout|pay|us|en-us)\\.)?"));const o=t.domain.split(".").slice(-2).join(".");let n=nt(this,Ko)[o];n||(n=[]);const i={...t,uriPattern:r};n.push(i),nt(this,tn)[i.id]=i,n.sort(UrlService.domainLengthSort),nt(this,Ko)[o]=n}},Ri=new WeakSet,Aa=async function(e){const t=e.find(r=>r.domain==="store.hp.com");t&&(t.uriPattern="https?://[^/]+hp.com"),await Dr(this,Ci,Oa).call(this,e),MerchantService.onUpdatePromise=null},Sr(sn,"instance"),Sr(sn,"onFetchPromise",null),Sr(sn,"onUpdatePromise",null),Sr(sn,"isUpdating",!1),sn);MerchantService=__decorateClass$g([initializable],MerchantService);const Cn=class{constructor(t){this.analyticsService=t}static create(){return Cn.instance=Cn.instance||new this(Analytics.create()),Cn.instance}addCouponsFromCouponsResponse(t,r){var c,l;const{coupons:o=[],manualCoupons:n=[],offers:i=[],vanityCoupons:s=[],externalCoupons:a=[]}=r!=null?r:{};this.addCouponsToMerchant(t,o,MerchantCouponType.Slickdeals),(c=t.config)!=null&&c.enableManualCoupons&&this.addCouponsToMerchant(t,n,MerchantCouponType.Manual),t.vanityCoupons=s.filter(y=>!!y.code).map(y=>({...y,type:MerchantCouponType.Vanity})),t.offers=i.filter(y=>!y.code),t.offersCount=(l=t.offers)==null?void 0:l.length,this.addCouponsToMerchant(t,a,MerchantCouponType.External),t.couponsCount&&t.couponsCount>0&&this.analyticsService.trackEvent({category:"Extension",action:"couponsFound",label:t.slug,value:t.couponsCount}).then()}addCouponsToMerchant(t,r,o){const n=r.filter(s=>Boolean(s.code)).map(s=>({...s,type:o}));let i=[];o===MerchantCouponType.DealDetailsSidebar||o===MerchantCouponType.MerchantForwarded?i=[...n,...t.coupons||[]]:i=[...t.coupons||[],...n],t.coupons=this.getUniqueCoupons(i).slice(0,15),t.couponsCount=t.coupons.length}getUniqueCoupons(t){const r=new Set;return t.filter(o=>!r.has(o.code.toLowerCase())&&r.add(o.code.toLowerCase()))}};let MerchantCouponManager=Cn;Sr(MerchantCouponManager,"instance");const MERCHANT_INFO_CONFIG="config",MERCHANT_INFO_COUPONS="coupons",MERCHANT_INFO_DEALS="deals",OFFER_UPDATE_DELAY=10*60*1e3,Rn=class{constructor(t,r){Sr(this,"configUpdatePromises",new Map);Sr(this,"offersUpdatePromises",new Map);this.requestService=t,this.merchantCouponManager=r}static create(){return Rn.instance=Rn.instance||new this(RequestService.create(),MerchantCouponManager.create()),Rn.instance}async fetchMerchantConfig(t){try{return await this.fetchMerchantInfo(t,MERCHANT_INFO_CONFIG)}catch(r){return{}}}async fetchMerchantCoupons(t,r=!1){var o;if(!((o=t.config)!=null&&o.coupons))return null;try{return await this.fetchMerchantInfo(t,MERCHANT_INFO_COUPONS,r?{usePerformanceData:String(r)}:null)}catch(n){return null}}async fetchMerchantInfo(t,r,o){const n=`${STORE_URL}/${t.slug}/${r}`;return(await this.requestService.fetch(o?getUrlWithParams(n,o):n)).json()}async updateConfig(t){if(!t)return;if(this.configUpdatePromises.has(t.id)){const o=await this.configUpdatePromises.get(t.id);if(!o)return;t.config=o.config,t.configUpdatedAt=o.configUpdatedAt;return}if(t.configUpdatedAt&&Date.now()-t.configUpdatedAt<OFFER_UPDATE_DELAY)return;const r=new Promise(o=>{this.fetchMerchantConfig(t).then(n=>{t.config={...n,attributions:{caa:typeof n.enableCaaAttribution<"u"?n.enableCaaAttribution>0:!0,coupon:typeof n.enableCouponAttribution<"u"?n.enableCouponAttribution>0:!0,ddsb:typeof n.enableDdsbAttribution<"u"?n.enableDdsbAttribution>0:!0,search:typeof n.enableSearchAttribution<"u"?n.enableSearchAttribution>0:!0},caa:n.enableCouponAutoApply>0,checkSuppression:n.enableSuppression>0,coupons:n.enableStoreCoupons>0,dealDetailsSidebar:n.dealDetailsSidebar>0,deals:n.enableStoreDeals>0,disableCaaAutoPopupGoogleSem:n.disableCaaAutoPopupGoogleSem>0,disableCashbackNotification:n.disableCashbackNotification>0,disableMerchantOnboarding:n.disableMerchantOnboarding>0,enableCreditCardOffers:n.enableCreditCardOffers>0,enableDealAlertOnMerchantSearch:n.enableDealAlertOnMerchantSearch>0,enableManualCoupons:n.enableManualCoupons>0,enableNoCouponLoyaltyNotification:n.enableNoCouponLoyaltyNotification>0,enableStoreOffers:n.enableStoreOffers>0,enableVanityCoupons:n.enableVanityCoupons>0,fpDeals:n.enableFrontpageDeals>0,logoLink:n.enableLogoLink>0,noAttributionStandDown:n.enableNoAttributionStandDown>0,search:n.enableSearch>0,trackVisit:n.trackVisit>0},t.configUpdatedAt=Date.now()}).catch(()=>{var n;t.config||(t.config=(n=merchantsConfig[t.slug])!=null?n:{})}).finally(()=>{this.configUpdatePromises.delete(t.id),o(t)})});this.configUpdatePromises.set(t.id,r),!t.config&&await r}updateMerchantOffers(t){if(!t||t.offersUpdatedAt&&Date.now()-t.offersUpdatedAt<OFFER_UPDATE_DELAY)return Promise.resolve();if(this.offersUpdatePromises.has(t.id))return this.offersUpdatePromises.get(t.id);const r=new Promise(o=>{Promise.all([this.fetchMerchantCoupons(t),this.fetchMerchantDeals(t)]).then(([n,i])=>{if(n&&this.merchantCouponManager.addCouponsFromCouponsResponse(t,n),i){const{deals:s}=i;t.deals=s,t.dealsCount=t.deals.length}t.offersUpdatedAt=Date.now()}).catch(()=>{}).finally(()=>{this.offersUpdatePromises.delete(t.id),o()})});return this.offersUpdatePromises.set(t.id,r),r}async fetchMerchantDeals(t){var r;if(!((r=t.config)!=null&&r.deals))return null;try{return await this.fetchMerchantInfo(t,MERCHANT_INFO_DEALS)}catch(o){return null}}};let MerchantFetching=Rn;Sr(MerchantFetching,"instance");const ACE_HARDWARE=611,ADIDAS=535,ADORAMA=5861,AMAZON=1,B_H_PHOTO_VIDEO=1687,BESTBUY=92,BUYDIG=1361,CDKEYS=19766,CHEWY=15906,COLUMBIA_SPORTSWEAR=6768,COSTCO=1254,DELL=441,DICKS_SPORTING_GOODS=389,DISNEY_MOVIE_INSIDERS=55222,FANATICAL=24991,GAMESTOP=521,GOOGLE_PLAY=19394,HOME_DEPOT=671,KOHLS=580,LENOVO=590,LOWES=1256,MACYS=480,MICRO_CENTER=9121,MICROSOFT_STORE=3473,MONOPRICE=6044,NEWEGG=701,NIKE=766,NINTENDO=24312,QVC=1290,REI=169,SAMS_CLUB=4123,SAMSUNG=8966,STAPLES=146,STEAM=6228,TARGET=201,VANS=4725,VERIZON=1391,VUDU=4775,WALGREENS=1252,WALMART=439,WAYFAIR=12330,WOOT=9393,ZAPPOS=621,FEATURED_MERCHANTS_ID=Object.freeze(Object.defineProperty({__proto__:null,ACE_HARDWARE,ADIDAS,ADORAMA,AMAZON,B_H_PHOTO_VIDEO,BESTBUY,BUYDIG,CDKEYS,CHEWY,COLUMBIA_SPORTSWEAR,COSTCO,DELL,DICKS_SPORTING_GOODS,DISNEY_MOVIE_INSIDERS,FANATICAL,GAMESTOP,GOOGLE_PLAY,HOME_DEPOT,KOHLS,LENOVO,LOWES,MACYS,MICRO_CENTER,MICROSOFT_STORE,MONOPRICE,NEWEGG,NIKE,NINTENDO,QVC,REI,SAMS_CLUB,SAMSUNG,STAPLES,STEAM,TARGET,VANS,VERIZON,VUDU,WALGREENS,WALMART,WAYFAIR,WOOT,ZAPPOS},Symbol.toStringTag,{value:"Module"})),defaultSearchConfigs=[{url:"https?:\\/\\/www\\.homedepot.com\\/",searchButton:"#headerSearchButton",searchField:"#headerSearch",autosuggestion:"#typeAheadFlyOut ul>li"},{url:"https?:\\/\\/www\\.amazon.com\\/",searchButton:".nav-input",searchField:"#twotabsearchtextbox",autosuggestion:"#suggestions .s-suggestion"},{url:"https?:\\/\\/www\\.kohls.com\\/",searchButton:"[name='submit-search']",searchField:"#search",autosuggestion:".ta-text-suggestion .suggestion"},{url:"https?:\\/\\/www\\.walmart.com\\/",searchButton:"#global-search-submit",searchField:"#global-search-input",autosuggestion:"#global-search-dropdown li"},{url:"https?:\\/\\/www\\.bestbuy.com\\/",searchButton:"button.header-search-button",searchField:"#gh-search-input",autosuggestion:"#suggestViewClientComponent .suggestion-list li>a.suggest-wk-press-fix"},{url:"https?:\\/\\/(www|cart\\.payments)\\.ebay.com\\/",searchButton:"#gh-btn",searchField:"#gh-ac",autosuggestion:"form>table>tbody>tr>td ul li"},{url:"https?:\\/\\/www\\.macys.com\\/",searchButton:"#searchSubmit",searchField:"#globalSearchInputField",autosuggestion:"#autosuggest>div li"}],defaultProductConfigs=[{id:"5dba9481ebaed7001d2ec67f",url:"https?:\\/\\/www.kohls.com\\/product\\/*",timeout:8500,waitTimeout:2e3,splitter:" > ",name:"[property='og:title']",category:".pdp_breadcrumb",brand:"[itemprop='brand']",model:"",upc:"#skava_skuUpcCode",sku:"[itemprop='sku']",seller:"",reviewRating:".BVRRRatingNumber, .bv-stars-container .bv-rating>span",reviewCount:".bv_numReviews_text",stockStatus:"#addtobagID",shippingCost:"",listPrice:".tce-your-price, .regorg-small",salePrice:".tce-sale-price, .main-price.red-font, #pdp-Pricing>ul>li .main-price",description:"[name='description']",specs:".accordion-segment-content>div>div",storeID:580},{id:"5dbaaf5cebaed7001d2ec681",url:"https?:\\/\\/www.macys.com\\/shop\\/product\\/*",splitter:" - ",timeout:7e3,name:"[itemprop='name']",category:"[itemprop='breadcrumb']",brand:".p-brand-title",model:"",upc:"",upcRx:"_prd-([\\d]*)",sku:"meta[itemprop='productID']",seller:"",reviewRating:"",reviewCount:"[data-auto='review-count']",stockStatus:".msg.inner-cont",shippingCost:"[data-section='shipping-returns-section'] .accordion-body>ul>li:first-child",listPrice:".price",salePrice:"[data-auto='sale-price']",description:"[data-el='product-details']",specs:"",storeID:480},{id:"5dbaaf71ebaed7001d2ec682",url:"https?:\\/\\/www.ebay.com\\/itm\\/*",timeout:6500,splitter:">",name:"[name='twitter:title']",category:"ul[role='list']",brand:"[itemprop='brand']",model:"[itemprop='model']",upc:"[itemprop='gtin13']",sku:"#descItemNumber",seller:".mbg-nw",reviewRating:"[itemprop='ratingValue']",reviewCount:"[itemprop='reviewCount']",stockStatus:"#qtySubTxt",shippingCost:"#fshippingCost",listPrice:"#mm-saleOrgPrc, #orgPrc, .vi-originalPrice",salePrice:"[itemprop='price']",description:"[name='description']",specs:".section>table",storeID:482},{id:"5dbaaf8aebaed7001d2ec683",url:"(https?:\\/\\/www\\.amazon.com\\/)(.*)(\\/?dp\\/|\\/product\\/)",timeout:6e3,splitter:"\u203A",name:"#productTitle",category:"#wayfinding-breadcrumbs_feature_div",brand:"#bylineInfo",model:"meta[name='keywords']",upc:"",sku:"",seller:"#sellerProfileTriggerId, #merchant-info",asin:"#ASIN",reviewRating:"#acrPopover>span>a>i>span.a-icon-alt",reviewCount:"#acrCustomerReviewText",stockStatus:"#availability>span",shippingCost:"#price-shipping-message>b, #ourprice_shippingmessage>span>b",listPrice:".priceBlockStrikePriceString.a-text-strike",salePrice:"#priceblock_ourprice, #priceblock_dealprice, #wineTotalPrice, #priceblock_saleprice",description:"#productDescription>p, #aplus3p_feature_div",specs:"#feature-bullets",storeID:1},{id:"5dbaafa5ebaed7001d2ec684",url:"(https?:\\/\\/www\\.bestbuy.com\\/site\\/)(.*)(\\?skuId=[\\d]+)",timeout:8e3,isCategoryList:!0,name:".sku-title>h1, [itemprop='name']",category:".c-breadcrumbs [data-track='Breadcrumb']",brand:".spec-categories ul li",brandRx:"brand (.*)",model:".model.product-data>span:last-child",upc:".spec-categories ul li",upcRx:"upc (.*)",sku:".sku>span:last-child",seller:"",reviewRating:".c-review-average",reviewCount:".popover-wrapper .c-reviews>.c-total-reviews",stockStatus:"",shippingCost:".fulfillment-fulfillment-summary",shippingRx:"([a-z]*)? ?shipping:\\s(.*)",listPrice:".pricing-price__regular-price",salePrice:".price-box .priceView-hero-price.priceView-customer-price>span, .pricing-price>.pricing-price>[data-context='Product-Page'] .priceView-hero-price.priceView-customer-price>span",description:".overview-accordion-content-wrapper .shop-product-description .body-copy",specs:".spec-categories",storeID:92},{id:"5dbaafc1ebaed7001d2ec685",url:"https?:\\/\\/www\\.walmart.com\\/ip\\/",timeout:7e3,splitter:"/",name:"h1.prod-ProductTitle",category:".breadcrumb-list",brand:"[itemprop='brand']",model:"[itemprop='Model'], [itemprop='model']",upc:"",upcContainer:"#item",upcRx:'"upc":"([\\d]*)"',sku:"[itemprop='sku'], .wm-item-number",asin:"",seller:".seller-name",reviewRating:".seo-avg-rating",reviewCount:".stars-reviews-count-node",stockStatus:".fulfillment-text>p>span",shippingCost:".fulfillment-shipping-text>span",listPrice:".prod-PriceSection .price-old .price>.price-group",salePrice:".prod-PriceSection #price .price>.visuallyhidden",description:".about-desc",specs:"#specifications",storeID:439},{id:"5dbaafdbebaed7001d2ec686",url:"https?:\\/\\/www\\.homedepot.com\\/p\\/",timeout:7e3,waitTimeout:4500,isCategoryList:!0,name:".product-details__title, .product-title__title",model:".product-infobar__detail, .product_details.modelNo",upc:"upc",sku:"#product_store_sku",seller:"",reviewRating:"[itemprop='ratingValue']",reviewCount:".product-details__review-count, .BVRRCount .BVRRNumber",stockStatus:".buybelt__actions .bttn__content, .atc-button",shippingCost:".shipping-box .heading-message",listPrice:"#was-price .price-detailed__was-price>span",salePrice:"#was-price>.price .price-format__large>span:nth-child(2), #standard-price>.price>div>span:nth-child(2), .price__dollars",description:".grid.product-description__main-description, [itemprop='description']",specs:".kpf__specs, .buybox .list",category:"#header-crumb .breadcrumb__item",brand:".product-details__brand-name, [itemprop='brand']",storeID:671}],defaultConfirmationConfigs=[{url:"(.*kohls.com\\/checkout\\/.*order_confirm.jsp)|(Kohls\\/Order)",confirmationNumber:"#orderConfirm>h1",totalAmount:"#totalcharges",couponCodes:".ordersummary_kohlscash",productsContainer:".bopusshoppingBagItem",timeout:8e3,products:{url:".boss_shoppingbag_title",name:".shoppingbag_title",asin:"",seller:"",brand:"",model:"",upc:"",sku:".sku",listPrice:".shoppingbag_productlayout.bossshoppingbag_productlayout div:nth-child(5)>span:last-child",salePrice:".shoppingbag_saleprice",finalPrice:".shoppingbag_itemtotal"}},{url:"(.*macys.com\\/checkout\\/.*order_confirm.jsp)|(Macys\\/Confirmation)",confirmationNumber:"#rc-at-order-number",totalAmount:"#rc-at-order-total",couponCodes:"",productsContainer:"",timeout:8e3,products:{url:"",name:"",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}},{url:"(.*walmart.com\\/.*checkout\\/thankyou)|(Walmart\\/thankyou)",confirmationNumber:"h1.thankyou-main-heading>span",totalAmount:"[data-automation-id='thank-you-order-summary-grand-total-amount']",couponCodes:"",productsContainer:"",timeout:8e3,products:{url:"",name:"",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}},{url:"(.*homedepot.com\\/.*mycheckout\\/thankyou)|(HomeDepot.*Confirmation)",confirmationNumber:"[data-automation-id='OrderID']",totalAmount:"[data-automation-id='OrderTotal']",couponCodes:"",productsContainer:"",timeout:8e3,products:{url:"",name:"",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}},{url:"(.*bestbuy.com\\/.*checkout\\/r\\/thank-you)|(Best%20Buy.*Checkout)",confirmationNumber:".thank-you-enhancement__msg>.thank-you-enhancement__emphasis:first-child",totalAmount:"",couponCodes:"",productsContainer:"",timeout:8e3,products:{url:"",name:"",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}},{url:"(.*amazon.com\\/.*buy\\/thankyou\\/handlers\\/display.html)|(Amazon.*Thanks)",confirmationNumber:"h5>span",totalAmount:"",couponCodes:"",productsContainer:"",timeout:8e3,products:{url:"",name:"",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}},{url:"(.*ebay.com\\/.*rxo.action=success)|(eBay.*Checkout)",confirmationNumber:".order-details--success-orders>span",totalAmount:".success--order-list-total",couponCodes:"",productsContainer:".success--item-container",timeout:8e3,products:{url:"",name:".success--item-text>span",asin:"",seller:"",brand:"",model:"",upc:"",sku:"",listPrice:"",salePrice:"",finalPrice:""}}],defaultCaaConfigs=[{id:"5cc6b6269fc04d2f2131d8fa",url:".walmart.com/checkout/.*(fulfillment|shipping-address|payment|review)",controls:{promo:"input[name=promoCode]",total:".order-summary-grand-total .Discount, [data-automation-id='text-order-summary-order-total']",orderTotal:".order-summary-subtotal .Discount, [data-automation-id='text-order-summary-subtotal']"},apply:{type:"click",submit:".button.form-save-button, [data-automation-id='btn-promo-apply']",timeout:2500},unlock:{type:"click",submit:".add-promo-btn",submit_again:".add-promo-btn"},remove:{type:"click",submit:"button[data-automation-id='btn-remove-promo']",timeout:3500}},{id:"5cc6b6599fc04d2f2131d8fb",url:".dell.com/en-us.*(cart|buy)",controls:{promo:"#appendedInputButton",total:".pricing-list.bottom-offset-0 .col-xs-4 > strong",orderTotal:".pricing-list.bottom-offset-0 .col-xs-4 > strong",coupon:"span > small > a[ng-click]:visible",errorMessage:".alert-warning p"},apply:{type:"click",submit:"#applyCouponButton",timeout:"3500"},remove:[{type:"click",submit:"a[data-testid='couponRemoveLink']",timeout:"1500"},{type:"click",submit:"removecouponmodal .btn-primary",timeout:"1500"}]},{id:"5cc6b66c9fc04d2f2131d8fc",url:".secure.newegg.com/Shopping/ShoppingCart.*",reloading:!0,apply:{type:"submit",timeout:1e4,url:"https://secure.newegg.com/Shopping/ShoppingCart.aspx",form:"form[name=form1]",submit:".code-group a.button",data:{PromotionCode:"%promo",SubmitTypeValue:"PROMOTCODESUBMIT"},contentType:"application/x-www-form-urlencoded",response:{type:"html",total:".grand-total .amount"}},remove:{type:"cookie",cookie:"NV%5FORDERCOOKIE",rx:"%22sx%22%3A%22(.*?)%22",replace:"%22sx%22%3A%22%22",options:{path:"/"}},controls:{promo:"#PromotionCode",total:".grand-total .amount",orderTotal:".grand-total .amount"},stack:!0},{id:"5cc6b6809fc04d2f2131d8fd",url:[".groupon.com/checkout/cart",".groupon.com/deals/.*?/confirmation"],unlock:{type:"click",submit:"#incentives > a"},apply:{type:"click",submit:".promo-code button",timeout:3e3},controls:{promo:"[name='discount-code']",total:".final-amount",orderTotal:".subtotal-amount",form:"#incentives a",errorMessage:"#legacy-msgs .error"}},{id:"5cc6b6939fc04d2f2131d8fe",url:".*nordstrom.com/os",controls:{promo:".manual-promo input",total:"dd.price.ng-binding",orderTotal:"dd.price.ng-binding"},apply:{type:"click",submit:"input.apply.button",timeout:3e3},remove:{type:"click",submit:"a.undo.ng-scope:not(.ng-hide)",timeout:3500},unlock:{type:"click",submit:".promo-border.ng-scope > header > a",timeout:1e3}},{id:"5cc6b6a79fc04d2f2131d8ff",url:".lowes.com/cart",apply:{type:"click",submit:".art-sc-promo_btnApply",timeout:3500},controls:{promo:"#promocode-input",total:".art-sc-estTotal-below",orderTotal:".art-sc-itemTotal strong"}},{id:"5cc6b6ba9fc04d2f2131d900",url:"verizonwireless.com/.*/cart",apply:{type:"click",submit:".planPadSummary button[aria-label], form button[type='submit'], [analyticstrack='cart-applyPromoCode']",timeout:3e3},controls:{promo:"input[name=promoCode]",total:".dueTodayRightPad .cartDuePrice span, #prices > div:last-of-type > div > div:last-of-type, .pad42.row + .pad10 .body",errorMessage:"div.planPadSummary.row span[aria-live='assertive'] p p, .notification.m-warning .notification_content div"},remove:{type:"click",submit:"[analyticstrack='cart-removePromoCode']",timeout:4500},unlock:{type:"click",submit:"#promotions a, #promotionCode a, [analyticstrack='cart-promoCode']",submit_again:"#promotions a, #promotionCode a, [analyticstrack='cart-promoCode']"}},{id:"5cc6b6cc9fc04d2f2131d901",url:".kohls.com/checkout/",apply:{type:"click",submit:"#applyInputButton",timeout:3e3,response:{type:"discount",discount:".applied-discounts li[data-offerid='%promo:offer'] .applied-amount"}},controls:{form:".ordersummary_kohlscash .kohlscashapplylink",promo:"#promo-kcInput",total:"#totalcharges",errorMessage:"#wallet-msgContainer .errorText",orderTotal:"#subtotal",coupon:".cancel-offer",discount:".applied-discounts li[data-offerid='%promo:offer'] .applied-amount"},remove:{type:"click",force:!0,submit:".content-right li[data-offerid='%promo:offer'] .cancel-offer",timeout:2e3},unlock:{submit:".kohlscashapply",submit_again:".kohlscashapply",type:"click",timeout:1500},stack:!0},{id:"5cc6b6ed9fc04d2f2131d902",url:".*secure-.*.com/buy/shopping_bag.do.*",controls:{promo:".promotion-input",total:".heading-e_universal.subTotalRight.subTotalL",orderTotal:".subTotalRight"},apply:{type:"click",submit:".tertiaryButtonA.apply-button",timeout:3e3},remove:{type:"click",submit:".remove-button:not(.invisible)",timeout:1500},stack:!0},{id:"5cc6b6f99fc04d2f2131d903",url:".sephora.com/(basket|checkout)",controls:{promo:"#promoInput",total:".css-21z7x9 span:last-child, .css-a2osvj[data-at='order_total']",orderTotal:"b[data-at='bsk_total_merch'], span[data-at='total_merch']",coupon:"[ng-show='promo.promo_message']:visible"},apply:[{type:"click",submit:"[data-comp='PromoSection'] button[type='submit'], button.css-1kkzmos ",timeout:2500}],remove:[{type:"click",submit:"div[data-at='basket_promo_item'] button, div[data-comp='GlobalModalsWrapper'] button[aria-label]",timeout:1500}]},{id:"5cc6b7099fc04d2f2131d904",url:".gamestop.com/checkout.*",controls:{promo:".ats-promocode",total:".ats-subtotal",orderTotal:".subtotals tr td",coupon:".valuevoidmsg"},apply:{type:"click",submit:".ats-promoapplybtn",timeout:2500},remove:{type:"click",submit:".valuevoidmsg a",timeout:2500},reloading:!0},{id:"5cc6b7219fc04d2f2131d905",url:".hp.com/.*/(?:AjaxOrderItemDisplayView|OrderShippingBillingView)",apply:{type:"click",submit:".applyCoupon.apply",timeout:6e3},remove:{type:"click",submit:"a.removeCpn",timeout:3e3},controls:{promo:"#cpnCode",total:"#cartTotal",orderTotal:"#cartSubtotal",coupon:".removeCpn"}},{id:"5cc6b7429fc04d2f2131d906",url:".walgreens.com/(store/checkout/cart.jsp|cart/view-ui)",apply:{type:"click",submit:"#apply_code, #wag-cart-apply-code",timeout:4500},controls:{promo:"#enter_code, #wag-cart-enter-code",coupon:"#wag-cac-cartinfo-display .f-left.body-copy__fourteen.ng-scope",total:{selector:".f-right .product__price",replace:{from:"\\s(\\d\\d)$",to:".$1"}},orderTotal:".wag-cart-order-summary-items .f-right"},remove:{type:"click",submit:".wag-cart-coupon-details a",timeout:3500},stack:!0},{id:"5cc6b8909fc04d2f2131d907",url:"bodybuilding.com.*cart",controls:{promo:"#promoCode",total:".order-total.order-total--highlight span",orderTotal:".order-total__price.qa-automation-var-subtotal",coupon:".notification.cart-message--SUCCESS strong"},apply:{type:"click",submit:".button-group a",timeout:3e3}},{id:"5cc6b8bc9fc04d2f2131d908",url:".staples.com/cc/mmx/cart",apply:{type:"click",submit:".coupons__apply_button_wrapper div",timeout:4500},controls:{promo:"input[name='couponsCode']",total:".cart__total_price",orderTotal:".cart__summary_table tr:nth-child(3) td:last-child span"},remove:{type:"click",submit:".coupons__remove_button_warpper div",timeout:3500},unlock:{type:"click",submit:"a.cart__add_edit_link",submit_again:"a.cart__add_edit_link"}},{id:"5cc6b8cd9fc04d2f2131d909",url:".*priceline.com.*checkout.*",controls:{promo:"#desktop-promo-code",total:"td.total-price"},apply:{type:"click",submit:"#desktop-promo-code + span",timeout:3e3}},{id:"5cc6b8e09fc04d2f2131d90a",url:".forever21.com.*(checkout/basket|Checkout|CheckOut)",controls:{promo:"#txt_promoCode",total:"#grandTotalRight, #grandTotalBottom",orderTotal:"#subTotalRight, #subTotalBottom"},apply:{type:"click",submit:"#btnPromoApply",timeout:3e3},remove:{type:"click",submit:"#divPromoInfo:not([style*='none']) .underline",timeout:3500}},{id:"5cc6b9499fc04d2f2131d90c",url:".*samsung.com.*/cart-(info|payment)",controls:{promo:".promo-text-box",total:"[ng-bind^='cost.total']",orderTotal:".os-price-value"},apply:{type:"click",submit:".btn-apply",timeout:3e3}},{id:"5cc6b9599fc04d2f2131d90d",url:".*6pm.com.*checkout",unlock:{type:"click",submit:"h4[role='link']",submit_again:"h4[role='link']"},controls:{promo:"form[method='post'] > div > div > input",total:"table tr:last-child td:last-child"},apply:{type:"click",submit:"form[method='post'] > div > button",timeout:3e3}},{id:"5cc6b9659fc04d2f2131d90e",url:".*jegs.com.*JegsCheckoutCmd.*",controls:{promo:"#promotionCode",total:".subtotalValue.price:first",orderTotal:"#orderSubTotal"},apply:{type:"click",submit:".desk-padtop .submitButton",timeout:3e3}},{id:"5cc6b9759fc04d2f2131d90f",url:".*cvs.com/(checkout|photo/cart/shoppingcart).*",controls:{promo:"#couponsField, #coupon_id",total:".cart__totals-total-value, [id^='total_to_pay_'][style*='display: table-row;'] [id^='total_to_pay_']",orderTotal:".cart__totals-subtotal-value, #total_cart_items_price",success:".success__message-desc",coupon:".cart__savings-item-remove button.cart__savings-item-removebutton"},apply:{type:"click",submit:"#couponsField + button, #apply_coupon_btn",timeout:2500},remove:[{type:"click",submit:".cart__savings-summary, #remove_coupon_link a",timeout:2e3},{type:"click",submit:".cart__savings-item-remove button.cart__savings-item-removebutton",timeout:2500},{type:"click",submit:".cart__savings-summary",timeout:1e3}]},{id:"5cc6b9899fc04d2f2131d910",url:"\\.dickssportinggoods\\.com/DSGPaymentViewCmd",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13 span",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2 span"},conditions:{required:["#promoCode","#WC_PromotionCodeDisplay_links_1","#WC_SingleShipmentOrderTotalsSummary_td_13 span"]},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:7500},remove:{type:"click",submit:"#promotion_1",timeout:7500}},{id:"5cc6b99a9fc04d2f2131d911",url:".*adidas.com.*(Cart-Show|COSummary2-Start|COShipping-Show).*",controls:{promo:"#couponinput",total:"[data-ordertotalvalue]"},apply:{type:"click",submit:".addcoupon",timeout:3e3},remove:{type:"click",submit:".promocoupons .remove",timeout:3e3}},{id:"5cc6b9f59fc04d2f2131d912",url:".rakuten.com/buy/payment.*",controls:{promo:".r-payment-page__coupon-input",total:".r-product__price-text.r-checkout-cart-summary__is-red span",orderTotal:".qa-shippingpage-cartsummarysbtotal-lbl.r-product__price-text span",discount:".qa-shippingpage-Discount-lbl .r-product__price-text"},apply:{type:"click",submit:".r-payment-page__coupon-input + button",timeout:3500,response:{type:"discount",discount:".qa-shippingpage-Discount-lbl .r-product__price-text"}}},{id:"5cc6ba179fc04d2f2131d913",url:".victoriassecret.com.*/checkout#(payment|bag)",apply:{type:"click",submit:"#applyOffersBtn",timeout:1e3},unlock:{submit:"#fab-accordion--offersForm-header, .fab-link-item, .offer-code-accordion button",type:"click"},controls:{promo:"#offerCode0, #drawer-offerCode0, #offerCode1",total:".totalSection .orderTotal, .order-summary-review-row.payment-due .pink",orderTotal:".totalSection .orderTotal, .order-summary-review-row:nth-child(4) span:last-child",success:".successfully-added-offer.confirm a:first"},remove:{type:"get",url:"https://www.victoriassecret.com/commerce2/offers/remove?offerCode=%promo"}},{id:"5cc6ba279fc04d2f2131d914",url:".*ulta.com/bag",controls:{promo:"#couponID",total:"div.OrderSummaryRow .OrderSummaryRow--bold .OrderSummaryRow__value",orderTotal:"div.OrderSummaryRow .OrderSummaryRow__value",coupon:"#cuponremove"},apply:{type:"click",submit:".btn.btn-outline-single.btn-xs",timeout:3e3},remove:{type:"click",submit:".Coupons__appliedRemoveLink a",timeout:3e3}},{id:"5cc6ba3c9fc04d2f2131d915",url:"travelocity.com/MultiItemCheckout",controls:{promo:"#couponId, input[name='couponCode']",total:".prod-total span, .prod-total.price-value",orderTotal:".price-summary dl:first dd:last-child, .price-value[data-price-update='baseSubTotal']",coupon:".coupon-details:not(.hidden) #remove-coupon-link"},apply:{type:"click",submit:"#apply_coupon_button",timeout:3e3},remove:{type:"click",submit:".coupon-details:not(.hidden) #remove-coupon-link",timeout:3e3},unlock:{type:"click",submit:"button#coupon-code",submit_again:"button#coupon-code",timeout:3500}},{id:"5cc6ba5a9fc04d2f2131d916",url:".*cabelas.com/shop/checkout",controls:{promo:"#promoCode",total:".totalClass .total",orderTotal:".rightRailSubtotal .total",coupon:".removePromoLink"},apply:{type:"click",submit:"#applyPromoButton",timeout:1500},remove:{type:"click",submit:".removePromoLink",timeout:1500}},{id:"5cc6ba6e9fc04d2f2131d917",url:".*frys.com//?ShopCartServlet.*",controls:{promo:"#couponCode",total:"#orderDetails strong:first",orderTotal:"#orderDetails strong:first"},apply:{type:"click",submit:"#mediumChoosed + .btn-success",timeout:6e3},reloading:!0},{id:"5cc6ba7d9fc04d2f2131d918",url:".bloomingdales.com/(bag/index|chkout|my-bag)",apply:{type:"click",submit:"#lnkApplyPromos, #coupons button, #promo-apply-button",timeout:4e3},remove:{type:"click",submit:"#removePromoCodeOne",timeout:3500},controls:{promo:".promoText, #coupon-code-group input, #promo-apply-input",total:"#orderTotal, #orderTotal .total-amount, #cx-at-SUM_SUB_TOTAL-value",orderTotal:"#orderMerchTotal, #cx-at-SUM_SUB_TOTAL-value",coupon:"#promoCodeLabel"},unlock:{type:"click",submit:".promo-code a",submit_again:".promo-code a",timeout:1e3}},{id:"5cc6ba8f9fc04d2f2131d919",url:".*harborfreight.com/checkout/cart.*",controls:{promo:".coupon-code-input",total:".GrandTotalDollars .price",orderTotal:".SubTotalDollars .price"},apply:{type:"click",submit:".coupon-code-btn",timeout:3e3},remove:{type:"click",submit:".cart_item_unit_discount_text a",timeout:3e3},reloading:!0},{id:"5cc6cd8a9fc04d2f2131d91b",url:".barnesandnoble.com/checkout/",apply:{type:"click",submit:"#frmApplyCoupon fieldset > button,#frmApplyCoupon fieldset >input[type=submit]",timeout:3e3},controls:{promo:"#code,#textInputSubmitCoupon",total:"#order_summary_table > div:last-child > div:last-child",orderTotal:"#order_summary_table > div:last-child > div:last-child"},remove:{type:"click",submit:"input.remove-offer.btn--link",timeout:3e3}},{id:"5cc6cd979fc04d2f2131d91c",url:".dominos.com/en/pages/order/#!/checkout/",apply:{type:"click",submit:".js-hiddenCouponField.is-hidden button",timeout:3e3},controls:{promo:"#Coupon_Code_Cart",total:".js-finalizedTotal.finalized-total-row .finalizedTotal.js-total",orderTotal:".order-summary-table__row .order-summary-table__row__column:last-child",coupon:".cr-coupondetail-container"},remove:{type:"click",submit:".coupon-list .js-removeCoupon.buttonType5",timeout:3e3}},{id:"5cc6ce029fc04d2f2131d91d",url:".hotels.com/bookingInitialise.do",unlock:{type:"click",submit:"#deals-and-discounts > div.widget-toggle.deals-and-discounts-toggle.widget-toggle-done.widget-toggle-open > button"},apply:{type:"click",submit:"#coupon-code-apply-btn",timeout:4e3},controls:{promo:"#coupon-code-field",total:"#financial-details-total-price",coupon:".cr-coupondetail-container"},remove:{type:"click",submit:"#coupon-code-remove-btn",timeout:3e3}},{id:"5cc6ce109fc04d2f2131d91e",url:".sears.com/crsp/mx/cart#/cart",controls:{promo:"#focusPromoInput",total:".est-total-bottom .ng-binding",orderTotal:".est-total .ng-binding",errorMessage:"[ng-hide='couponErrorToggle'] .ng-scope"},apply:{type:"post",xhr:!0,submit:".shc-btn.cc-add",timeout:8e3,url:"https://www.sears.com/crsp/api/cart/v1/coupon/add?ts=%timestamp",data:{couponRequest:{couponCode:"%promo"}},contentType:"application/json;charset=UTF-8",response:{type:"string",url:"https://www.sears.com/crsp/api/cart/v1/view?ts=%timestamp",total:'"mrchSubTot":"(.*?)"'}},remove:{type:"post",xhr:!0,submit:".remove-coupon",timeout:3e3,url:"https://www.sears.com/crsp/api/cart/v1/coupon/remove?ts=%timestamp",contentType:"application/json;charset=UTF-8",data:{couponRequest:{couponCode:"%promo"}}},stack:!0},{id:"5cc6ce279fc04d2f2131d91f",url:".officedepot.com/cart/(shoppingCart|updateRouter).do",unlock:{type:"click",submit:"#couponExpend"},controls:{promo:"#referralCode",total:"#cartV3Summary tfoot td",orderTotal:"#cartV3Summary tbody td"},apply:[{type:"click",submit:"#cartV3AddCouponButton",timeout:"3000"}],remove:[{type:"click",submit:".coupon_remove_link",ssubmit:"a.hspace_right.coupon_remove_link",timeout:"3000"}]},{id:"5cc6ce379fc04d2f2131d920",url:".jcpenney.com(/jsp)?/(cart|checkout)",controls:{promo:"#cr-code, [data-automationid='manual-apply-coupon-input']",total:"[data-anid='merchandiseSubTotal'], .order_subtotal_amnt, [data-automation-id='at-total-price'] strong",orderTotal:"[data-automation-id='at-summary-subtotal-amount']"},apply:{type:"click",submit:"input.cr-apply, [data-automation-id='manual-apply-coupon-button']",timeout:1e4},remove:[{type:"click",submit:"a.cr-remove, [data-automation-id='at-remove-coupon']",timeout:4e3}]},{id:"5cc6ce429fc04d2f2131d921",url:".overstock.com/checkout",apply:{type:"click",submit:".promo-code-submit-container button",timeout:3500},controls:{promo:"input[name='PromoCode']",total:".your-total span:last-child",orderTotal:".total-details-non-discounts span:last-child b"}},{id:"5cc6ce509fc04d2f2131d922",url:".*littlecaesars.com.*checkout.*",unlock:{type:"click",submit:"[data-uat='checkout__promo_code'] p",submit_again:"[data-uat='checkout__promo_code'] p"},apply:{type:"click",submit:"[data-uat='checkout__promo_code'] button",timeout:5e3},controls:{promo:"[data-uat='checkout__promo_code'] input",total:"[data-uat='total-review'] > div:last-of-type > div:last-of-type"},remove:{submit:"[data-uat='checkout__promo_code'] a",type:"click",timeout:4e3}},{id:"5cc6ce5b9fc04d2f2131d923",url:".*papamurphys.com.*checkout.*",unlock:{},apply:{type:"click",submit:"#EnterCouponCodeBtn",timeout:1500},controls:{promo:"#CouponCodeText",total:"#bTotal",orderTotal:"#bSubTotal"},remove:[{type:"click",submit:"#RemoveCouponCodeBtn",timeout:1500}]},{id:"5cc6ce689fc04d2f2131d924",url:".*pizzahut.com.*order.*",apply:{type:"click",submit:".coupon-code + button",timeout:3500},controls:{promo:".coupon-code",total:".order-total-details .row:last-child .total-summary-line-item.ng-binding",orderTotal:"#sub-total + div h4"}},{id:"5cc6ce789fc04d2f2131d925",url:".*papajohns.com/order/view-cart.*",apply:{type:"click",submit:"#nav-promo-submit",timeout:3500},controls:{promo:"#nav-promo-code",total:".estimated-total-amount h3",orderTotal:".subtotal:first-of-type .subtotal-amount"},remove:{type:"click",submit:".promo-title a",timeout:3500}},{id:"5cc6ce899fc04d2f2131d926",url:".*hm.com/.*/(cart|checkout)",controls:{promo:"#txt-discount-code",total:"#total_price_of_basket"},apply:{type:"click",submit:"#btn-discount-code",timeout:2500}},{id:"5cc6ce9e9fc04d2f2131d927",url:".*wayfair.com/.*/checkout/basket",unlock:{type:"click",submit:".BasketPage-rightRailContent .u-mb-4 button .Button-content",timeout:2e3},controls:{promo:".BasketPage-rightRailContent input",total:".BasketPage-rightRailContent .BasketOrderSummary-total .BasketOrderSummary-cell--right"},apply:{type:"click",submit:".BasketPage-rightRailContent .u-mb-4 button.is-primary",timeout:2e3}},{id:"5cc6cee59fc04d2f2131d928",url:".*costco.com/CheckoutShippingView",controls:{promo:"#enter-promo-code-input",total:"#order-summary-body dd.h5-style-guide"},apply:{type:"click",submit:"#apply-promo-code input",timeout:2e3}},{id:"5cc6cef99fc04d2f2131d929",url:".*t-mobile.com/cart",controls:{promo:".promo-input-wrapper input",total:{selector:"#cart_stickybanner_id .text-magenta money:first-child > span .sr-only",replace:{from:"\\s\\$\\s&\\s",to:"."}}},apply:{type:"click",timeout:2e3,submit:".promo-code-wrapper button"}},{id:"5cc6cf0c9fc04d2f2131d92a",url:".*bestbuy.com/checkout/r/payment.*",apply:{type:"click",submit:".gift-promo-cards__apply-btn",timeout:3500},controls:{promo:"#promotionCode",total:".order-summary__total .cash-money",orderTotal:".order-summary-card__total-line:first-of-type .cash-money"},unlock:{type:"click",submit:".payment > a",submit_again:".payment > a"}},{id:"5cc6cf1a9fc04d2f2131d92b",url:".*finishline.com/*",apply:{type:"click",submit:".applyCouponCode",timeout:3500},controls:{promo:".couponCodeInput",total:"#orderSummaryOrderTotal",orderTotal:"#subTotal"}},{id:"5cc6cf2b9fc04d2f2131d92c",url:".*hanes.com/shop/AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:5500},remove:{type:"click",submit:"#promotion_1",timeout:5500},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6cf4d9fc04d2f2131d92d",url:".*levi.com/US/en_US/cart.*",apply:{type:"click",submit:"#js-voucher-apply-btn",timeout:3500},remove:{type:"click",submit:".js-release-voucher-remove-btn.voucher-list__item-remove",timeout:3500},controls:{promo:"#js-voucher-code-text",total:".cart-grand-total .sale-price",orderTotal:".js-cart-totals .row:first-child .sale-price"}},{id:"5cc6cf5f9fc04d2f2131d92e",url:".*hanesink.com.*AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6cf6e9fc04d2f2131d92f",url:".*anntaylor.com/checkout.*",apply:{type:"click",submit:".code + .submit input",timeout:3500},remove:{type:"click",submit:".applied a",timeout:3500},controls:{promo:"#code",total:".order-total span",orderTotal:".order-summary li:first-child span"}},{id:"5cc6cf8b9fc04d2f2131d930",url:".*factory.anntaylor.com/cart.*",apply:{type:"click",submit:".promotional-code form button",timeout:3500},controls:{promo:".input-tick-wrapper input",total:".order-total .amount-value",orderTotal:".est-merchandise .amount-value"}},{id:"5cc6cf9d9fc04d2f2131d931",url:".*sierra.com/(?:cart|checkout)/.*",apply:{type:"click",submit:"#applyKeycode",timeout:3500},controls:{promo:"#keycodeInput",total:".js-order-details-sub-total",orderTotal:".p-y-sm:first-of-type .pull-xs-right"},reloading:!0},{id:"5cc6cfb89fc04d2f2131d932",url:".columbia.com.*(?=.*cart.*)(?!.*dwcont).*",apply:{type:"click",submit:"#csc-btn-apply-coupon-code",timeout:3500},remove:{type:"click",submit:".csc-btn-remove-coupon-code",timeout:3500},controls:{promo:"#csc-coupon-code",total:"#csc-amount-total",orderTotal:"#csc-amount-total"}},{id:"5cc6d00b9fc04d2f2131d933",url:".*.justmysize.com/shop/AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:5e3},remove:{type:"click",submit:"#promotion_1",timeout:5e3},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6d02c9fc04d2f2131d934",url:".*wish.com/cart.*",apply:{type:"click",submit:'[class*=CartPage__FixedWrapper] div[color="ghost"]',timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500},controls:{promo:"[class*=CartPage__FixedWrapper] input",total:".CartPage__FixedWrapper-sc-1qk61s1-3 .OrderSummary__PriceSection-dcq9z3-8 div:nth-child(3)",orderTotal:".CartPage__FixedWrapper-sc-1qk61s1-3 .OrderSummary__PriceSection-dcq9z3-8 > div:nth-child(1)"},unlock:{type:"click",submit:".OrderSummary__AddPromoSection-dcq9z3-3",submit_again:".OrderSummary__AddPromoSection-dcq9z3-3"}},{id:"5cc6d0439fc04d2f2131d935",url:".*ediblearrangements.com/fruit-cart.*",apply:{type:"click",submit:"#ctl00_cpBody_rptSale_ctl00_btnApplyCoupon",timeout:3500},controls:{promo:"#ctl00_cpBody_rptSale_ctl00_txtCoupon",total:".footer .boldText + .boldText",orderTotal:".footer .boldText + .boldText"}},{id:"5cc6d0589fc04d2f2131d936",url:".*secure.asos.com.*",apply:{type:"click",submit:".apply-code",timeout:3500},remove:{type:"click",submit:".remove-doscount",timeout:3500},controls:{promo:"#discountCode",total:".bag-totals tfoot td:nth-child(2) div",orderTotal:".sub-total td:nth-child(2) div"},unlock:{type:"click",submit:".expandable-heading-container",submit_again:".expandable-heading-container"}},{id:"5cc6d0709fc04d2f2131d937",url:".*.ae.com.*(cart|checkout).*",apply:{type:"click",submit:".qa-discount-code-apply-btn",timeout:3500},controls:{promo:"input[name=discountCode]",form:".discount-code-show-form-btn",total:".order-subtotal-container .order-subtotal-total-value > span",orderTotal:".order-subtotal-container .order-subtotal-merchandise-value > span",coupon:"a.qa-remove-button"},remove:[{type:"click",submit:".discount-remove a",timeout:4e3},{type:"click",submit:".qa-discount-code-show-form-btn",timeout:2e3}],unlock:{type:"click",submit:".discount-code-form-title",timeout:3500}},{id:"5cc6d0839fc04d2f2131d938",url:".*onehanesplace.com/shop/AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6d08e9fc04d2f2131d939",url:".*maidenform.com/shop/AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6d0a49fc04d2f2131d93a",url:".*fanatics.com/cart.*",controls:{promo:"#coupon-code-medium",discount:".shipping-val.color-success",orderTotal:".shipping-val",total:".shipping-val"},apply:{type:"click",submit:".show-for-medium .coupon-entry-apply button",timeout:5500,response:{type:"discount",discount:".shipping-val.color-success"}}},{id:"5cc6d0da9fc04d2f2131d93b",url:".*eyedictive.com.*(?:cart|checkout).*",controls:{promo:"#coupon_code",total:".order-total .woocommerce-Price-amount",orderTotal:".cart-subtotal .woocommerce-Price-amount"},apply:{type:"click",submit:"#coupon_code + button, .checkout_coupon .button",timeout:3500}},{id:"5cc6d0e99fc04d2f2131d93c",url:".*ecco.com/(?:cart|checkout).*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-value",orderTotal:".order-subtotal td:last-of-type"},apply:{type:"click",submit:"#add-coupon",timeout:3500}},{id:"5cc6d0f69fc04d2f2131d93d",url:"dockers.com/US/en_US/cart",controls:{promo:"#js-voucher-code-text",total:".grand-total .sale-price",orderTotal:".js-cart-totals .row:first-of-type .sale-price"},apply:{type:"click",submit:"#js-voucher-apply-btn",timeout:3500}},{id:"5cc6d1069fc04d2f2131d93e",url:".*.yoox.com.*Checkout/Cart.*",controls:{promo:"#CouponId",total:"#CartTotal",orderTotal:"#giftWrappingOptionContainer + .subtotalContainer #orderInfoSubtotal"},apply:{type:"click",submit:"#yooxcodeapply",timeout:3500}},{id:"5cc6d1219fc04d2f2131d93f",url:".*jcrew.com/checkout2/shoppingbag.*",controls:{promo:"#promotionCode1",total:".summary-total .summary-value",orderTotal:".summary-subtotal .summary-value"},apply:{type:"click",submit:"#promoApply",timeout:3500},remove:{type:"click",submit:"#promoCodeContainer .item-remove",timeout:3500},reloading:!0},{id:"5cc6d12f9fc04d2f2131d940",url:".*.dsw.com.*shopping-bag.*",controls:{promo:"#promoCode",total:".checkout-rd-order-summary__line-item__total span + span",orderTotal:"#mp-subtotal",errorMessage:".checkout-rd-promo-code__error div"},apply:{type:"click",submit:".checkout-rd-promo-code__entry__form__apply",timeout:3500},remove:{type:"click",submit:".checkout-rd-promo-code__offerDetails-appliedOffer + a",timeout:3500}},{id:"5cc6d13a9fc04d2f2131d941",url:".*.vineyardvines.com/cart.*",controls:{promo:"#promo-code",total:".ordersummary_cost_total:last-child",orderTotal:".ordersummary_cost dd:first-of-type"},apply:{type:"click",submit:"#promo-code + button",timeout:4500}},{id:"5cc6d1479fc04d2f2131d942",url:".*hottopic.com/cart.*",controls:{promo:"[id*=couponCode]",total:".orderTotal",orderTotal:".order-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon, #apply-coupon",timeout:6e3},remove:{type:"click",submit:"button[name=dwfrm_cart_coupons_i0_deleteCoupon]",timeout:6e3},stack:!0},{id:"5cc6d15c9fc04d2f2131d943",url:".*kmart.com.*cart.*",controls:{promo:"#focusPromoInput",total:".est-total-bottom strong",orderTotal:".est-total-bottom strong"},apply:{type:"click",submit:"#focusPromoInput + a",timeout:4500},remove:{type:"click",submit:".remove-coupon",timeout:4500}},{id:"5cc6d1669fc04d2f2131d944",url:".*lulus.com/checkout.*",controls:{promo:".c-form__input.o-input-group--fill",total:".c-bag-totals__lineitem:last-of-type strong:last-child",orderTotal:".c-bag-totals__lineitem:first-of-type span"},apply:{type:"click",submit:".c-form__input.o-input-group--fill + button",timeout:3500},unlock:{type:"click",submit:".u-relative:last-child .c-link-inline",submit_again:".u-relative:last-child .c-link-inline"}},{id:"5cc6d1759fc04d2f2131d945",url:".*freepeople.com/checkout.*",controls:{promo:"#promo-code",total:".o-order-totals__tr--total .o-order-totals__td",orderTotal:".o-order-totals__tr:first-of-type .o-order-totals__td"},apply:{type:"click",submit:".c-cart-add-promo__button",timeout:4500},remove:{type:"click",submit:".c-cart-add-promo__remove",timeout:4500}},{id:"5cc6d17f9fc04d2f2131d946",url:".*pacsun.com.*Cart-Show.*",controls:{promo:"#dwfrm_cart_couponCode",total:".ocp-order-total-value",orderTotal:".order-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:4500}},{id:"5cc6d1879fc04d2f2131d947",url:".*modcloth.com/checkout.*",controls:{promo:"[id*=couponCode]",total:".order-value",orderTotal:".order-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:6e3},reloading:!0},{id:"5cc6d18f9fc04d2f2131d948",url:".*shoes.com/cart/cart.*",controls:{promo:"#crt-promoCode",total:".crt-summary-total-price",orderTotal:"tr:first-child .crt-summary-val"},apply:{type:"click",submit:".crt-submit-promo",timeout:3500},remove:{type:"click",submit:".crt-promo:not([style*='display:none']) .crt-remove-promo",timeout:3500}},{id:"5cc6d19e9fc04d2f2131d949",url:".*.landsend.com.*shopping-bag.*",controls:{promo:"#promo-code",total:".total-price .price",orderTotal:".totals-list-prices li:nth-child(3) .price"},apply:{type:"click",submit:".button-container button:last-child",timeout:3500},remove:{type:"click",submit:".promo-actions li:last-child a",timeout:3500}},{id:"5cc6d1a89fc04d2f2131d94a",url:".*buybuybaby.com.*checkout.*",controls:{promo:"#paperCoupon",total:".md-pb1 > div > div:nth-child(2) > dl  span",orderTotal:".OrderSummary_1j8L6U dl:first-of-type .Price_5kcu3K"},apply:{type:"click",submit:"#couponSubmit",timeout:3500}},{id:"5cc6d1b19fc04d2f2131d94b",url:".*cafepress.com/checkout.*",controls:{promo:"[name=promoGiftCard]",total:"#summaryBox ~ .right-float strong",orderTotal:"#summaryBox tr:first-of-type .text-right"},apply:{type:"click",submit:"[name=promoGiftCard] + #promoClear",timeout:3500}},{id:"5cc6d1bb9fc04d2f2131d94c",url:".*sorel.com/cart.*",controls:{promo:"#csc-coupon-code",total:"#csc-amount-total",orderTotal:"#order-summary-collapse ul:first-of-type li:first-child .text-right"},apply:{type:"click",submit:"#csc-btn-apply-coupon-code",timeout:3500},remove:{type:"click",submit:".csc-btn-remove-coupon-code",timeout:3500}},{id:"5cc6d1c79fc04d2f2131d94d",url:".*joesnewbalanceoutlet.com/cart/checkout.*",controls:{promo:"#CustomerDiscountCode",total:"#SideBarOrderTotal",orderTotal:"#SideBarSubTotal"},apply:{type:"click",submit:"#PromoCodeSubmit",timeout:8500}},{id:"5cc6d1d29fc04d2f2131d94e",url:".*ashford.com.*cart/cart.*",controls:{promo:"#promotionCodeInput",total:".checkout_total",orderTotal:".text-right .checkout_text_color_red:first-child"},apply:{type:"click",submit:".add_promotion",timeout:3500},remove:{type:"click",submit:"#atg_store_promotionRemove",timeout:3500,force:!0},unlock:{type:"click",submit:"#apply_img_hide",submit_again:"#apply_img_hide"}},{id:"5cc6d1df9fc04d2f2131d94f",url:".*perryellis.com/basket.*",controls:{promo:"#dwfrm_cart_couponCode",total:".bfx-total-grandtotal",orderTotal:".bfx-total-subtotal"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:".textbutton[value=Remove]",timeout:3500}},{id:"5cc6d1f99fc04d2f2131d950",url:".*shop.olay.com/on/demandware.store.*",controls:{promo:"#dwfrm_cart_couponCode",total:".col-3.total-order",orderTotal:".subtotal-value"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:".removeCouponFromBasket",timeout:3500}},{id:"5cc6d2019fc04d2f2131d951",url:".*massgenie.com/Checkout.*",controls:{total:".m-power-deals-info tfoot tr td:last-child strong span",orderTotal:".m-power-deals-info tbody tr td:last-child span",promo:"input#couponCode",errorMessage:".group-coupon .error:not(.hidden)"},apply:{type:"click",submit:".group-coupon button",timeout:3500}},{id:"5cc6d20d9fc04d2f2131d952",url:".*lids.com/cart.*",controls:{promo:"#coupon-code-medium",total:".shipping-val",orderTotal:".shipping-val"},apply:{type:"click",submit:".coupon-giftcard-container.show-for-medium .coupon-entry-apply button",timeout:3500}},{id:"5cc6d2189fc04d2f2131d953",url:".*zales.com/cart.*",controls:{promo:"#promoCode",total:".col-xs-4.grand-total",orderTotal:".promo-code + .row .cart-totals-header + div"},apply:{type:"click",submit:"#promo-btn",timeout:3500},remove:{type:"click",submit:"#promoReleaseForm button",timeout:3500}},{id:"5cc6d2249fc04d2f2131d954",url:".*mountainhardwear.com/cart.*",controls:{promo:"#csc-coupon-code",total:"#csc-amount-total",orderTotal:".order-summary:not(.mb-5) .px-3:first-of-type .text-right"},apply:{type:"click",submit:"#csc-btn-apply-coupon-code",timeout:3500},remove:{type:"click",submit:".csc-btn-remove-coupon-code",timeout:3500}},{id:"5cc6d2929fc04d2f2131d955",url:".*rockport.com/cart.*",controls:{promo:"[id*=couponCode]",total:"#checkout-form .order-value, .order-summary-footer .order-value",orderTotal:"#checkout-form .order-subtotal td:last-child"},apply:{type:"submit",submit:"#add-coupon",timeout:3e3,contentType:"application/x-www-form-urlencoded",form:"#cart-items-form",data:{dwfrm_cart_couponCode:"%promo",dwfrm_cart_addCoupon:"dwfrm_cart_addCoupon"},response:{type:"html",total:"#checkout-form .order-value, .order-summary-footer .order-value"}}},{id:"5cc6d2a09fc04d2f2131d956",url:".*verabradley.com.*cart.*",controls:{promo:"#coupancodecart",total:"h3.cart-total",orderTotal:".merchandise span"},apply:{type:"click",submit:".coupon-container + div input:first-child",timeout:3500}},{id:"5cc6d2ae9fc04d2f2131d957",url:".*zappos.com/.?checkout/pay",controls:{promo:"div:nth-of-type(4) > div:last-of-type  input[name='code'], ul li>div:last-of-type input[name='code']",total:"table tr:nth-of-type(5) td:last-of-type, #main>div>div>div>div:last-child>div>div:last-child>div>div:last-child",orderTotal:"table tr:nth-of-type(3) td:last-of-type, #main>div>div>div>div:last-child>div>div:last-child>div>div:last-child"},unlock:{type:"click",submit:"div:nth-of-type(4) > div:last-of-type div[role=link], ul li>button>p",submit_again:"div:nth-of-type(4) > div:last-of-type div[role=link], ul li>button>p"},apply:{type:"click",submit:"div:nth-of-type(4) > div:last-of-type  button, ul li>div>form>button",timeout:6e3}},{id:"5cc6d2ba9fc04d2f2131d958",url:".*chewy.com/app/checkout",controls:{promo:"#cw-form-field-16",total:".sfw-checkout__order__total span:last-of-type",orderTotal:".sfw-checkout__order__subtotal span:last-of-type"},apply:{type:"click",submit:".sfw-checkout__promocode-apply",timeout:6e3}},{id:"5cc6d2ca9fc04d2f2131d959",url:".*tmlewin.com/(cart.*|.*/Cart-SubmitForm)",controls:{promo:"#dwfrm_cart_couponCode",total:".order-total .order-value",orderTotal:".order-subtotal .order-value"},apply:{type:"click",submit:"#add-coupon",timeout:6e3},remove:{type:"click",submit:".coupon-code-remove button",timeout:6e3},reloading:!0},{id:"5cc6d2d99fc04d2f2131d95a",url:".*revolve.com.*PaymentOptions",unlock:{type:"click",submit:"#edit_promo",submit_again:"#edit_promo"},controls:{promo:"#coupon_code",total:"#total",orderTotal:"#total",discount:"#summary_coupon_amount"},apply:[{type:"click",submit:"#edit_promo",timeout:3e3,response:{type:"discount",discount:"#summary_coupon_amount"}},{type:"click",submit:"#coupon_code_button",timeout:4500}]},{id:"5cc6d2e59fc04d2f2131d95b",url:".*swarovski.com.*cart.*",controls:{promo:"#js-voucher-code-text",total:"#cartSummary > div:last-of-type > div:last-of-type ",orderTotal:"#cartSummary > div:first-of-type > div:last-of-type"},apply:{type:"click",submit:"#js-voucher-apply-btn",timeout:11500},remove:{type:"click",submit:"#removeVoucherForm0 .link-wrapper",timeout:11500},reloading:!0},{id:"5cc6d2f99fc04d2f2131d95c",url:".*ubereats.com/en-US/checkout",controls:{promo:"input[placeholder='Enter promo code']",total:"div:nth-of-type(4) > div:last-of-type > div > span",orderTotal:"div:nth-of-type(4) > div:nth-of-type(1) span"},apply:{type:"click",submit:"button > div",timeout:4500}},{id:"5cc6d30a9fc04d2f2131d95d",url:".*michaelkors.com/checkout/shoppingCart.*",controls:{promo:"#shopping-bag-promo",total:".text-right .font-ordersummary-total",orderTotal:".shopping-bag-order-summary-details li:first-child .text-right"},apply:{type:"click",submit:"#claimCode",timeout:3500}},{id:"5cc6d3199fc04d2f2131d95e",url:".*shopdisney.com/my-bag.*",controls:{promo:"#promo-code-field",total:".value.ci-price-large",orderTotal:".sub-item:first-child .value",discount:"[data-modal-type=order_discounts]"},apply:{type:"click",submit:"#promo-code-apply",timeout:3500,response:{type:"discount",discount:"[data-modal-type=order_discounts]"}},remove:{type:"click",submit:".checkbox",timeout:3500},stack:!0},{id:"5cc6d32b9fc04d2f2131d95f",url:".*crocs.com.*Cart-Show.*",controls:{promo:"#couponFld",total:"#estimatedTotal",orderTotal:"#orderSubTotal"},apply:{type:"click",submit:"#addcoup",timeout:4500},remove:{type:"click",submit:".removecoup",timeout:4500,force:!0},stack:!0},{id:"5cc6d3359fc04d2f2131d960",url:".*timberland.com.*OrderItemDisplay.*",controls:{promo:".promo-code-form-billing-promo-code",total:".checkout-order-total-list .checkout-total",orderTotal:".checkout-order-total-list .checkout-total"},apply:{type:"click",submit:".promo-code-form-billing-promo-code-action-apply-promo",timeout:6e3},remove:{type:"click",submit:".checkout-action-remove-promo",timeout:6e3},reloading:!0},{id:"5cc6d3db9fc04d2f2131d961",url:".*merrell.com.*cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-total .textalign-right",orderTotal:".order-subtotal .textalign-right"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:".rowcoupons .remove-item",timeout:3500}},{id:"5cc6d3e69fc04d2f2131d962",url:".*.ray-ban.com.*ShopCartDisplayView.*",controls:{promo:"#D_CartPage_PromoCode_Input",total:".wcs-shopping-grandtotal-js",orderTotal:"#subTotalCalc"},apply:{type:"click",submit:"#D_CartPage_PromoCode_Apply",timeout:4500}},{id:"5cc6d3f29fc04d2f2131d963",url:".*champion.com.*AjaxOrderItemDisplayView.*",apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500},controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"}},{id:"5cc6d4199fc04d2f2131d964",url:".*ugg.com/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:"aside .order__totals__total td:last-child",orderTotal:"aside .order__totals-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:"button[name=dwfrm_cart_coupons_i0_deleteCoupon]",timeout:3500}},{id:"5cc6d41f9fc04d2f2131d965",url:".*sanuk.com/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:"aside .order__totals__total td:last-child",orderTotal:"aside .order__totals-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:"button[name=dwfrm_cart_coupons_i0_deleteCoupon]",timeout:3500}},{id:"5cc6d4289fc04d2f2131d966",url:".*fredericks.com/cart.*",controls:{promo:"[name=couponCode]",total:".cart-pricing-total span:last-child",orderTotal:".cart-financials li:first-child span:last-child"},apply:{type:"click",submit:".btn.span3",timeout:3500},remove:{type:"click",submit:".apply-coupon-text:not(.ng-hide)",timeout:3500}},{id:"5cc6d4309fc04d2f2131d967",url:".*splendid.com/checkout.*",controls:{promo:"#coupon_code, #discount-code",total:".grand.totals .price",orderTotal:".sub.totals .price"},apply:{type:"click",submit:".action.apply.primary, .action.action-apply",timeout:8500},remove:{type:"click",submit:".action.cancel.primary",timeout:8500}},{id:"5cc6d43f9fc04d2f2131d968",url:".*7forallmankind.com/checkout.*",controls:{promo:"#coupon_code, #discount-code",total:".grand.totals .price",orderTotal:".sub.totals .price"},apply:{type:"click",submit:".action.apply.primary, .action.action-apply",timeout:4500},remove:{type:"click",submit:".action.cancel.primary",timeout:4500}},{id:"5cc6d44c9fc04d2f2131d969",url:".*footlocker.com/cart.*",controls:{promo:"#input_voucherId",total:".total .value",orderTotal:".OrderSummary-body > dl:first-child .value",discount:".OrderSummary-body dl:nth-child(3) .value"},apply:{type:"click",submit:'button[aria-label="Apply Promo Code"]',timeout:3500,response:{type:"discount",discount:".OrderSummary-body dl:nth-child(3) .value"}},unlock:{type:"click",submit:"#checkoutOrderSummaryPromoCodeTrigger .Link",submit_again:"#checkoutOrderSummaryPromoCodeTrigger .Link"},remove:{type:"click",submit:".Link.remove",timeout:3500}},{id:"5cc6d45e9fc04d2f2131d96a",url:".*footaction.com/cart.*",controls:{promo:"#input_voucherId",total:".total .value",orderTotal:".OrderSummary-body > dl:first-child .value",discount:".OrderSummary-body dl:nth-child(3) .value"},apply:{type:"click",submit:'button[aria-label="Apply Promo Code"]',timeout:5500,response:{type:"discount",discount:".OrderSummary-body dl:nth-child(3) .value"}},remove:{type:"click",submit:".Link.remove",timeout:5500},unlock:{type:"click",submit:"#checkoutOrderSummaryPromoCodeTrigger .Link",submit_again:"#checkoutOrderSummaryPromoCodeTrigger .Link"}},{id:"5cc6d47e9fc04d2f2131d96b",url:".*champssports.com/cart.*",controls:{promo:"#input_voucherId",total:".total .value",orderTotal:".OrderSummary-body > dl:first-child .value",discount:".OrderSummary-body dl:nth-child(3) .value"},apply:{type:"click",submit:'button[aria-label="Apply Promo Code"]',timeout:3500,response:{type:"discount",discount:".OrderSummary-body dl:nth-child(3) .value"}},remove:{type:"click",submit:".Link.remove",timeout:3500},unlock:{type:"click",submit:"#checkoutOrderSummaryPromoCodeTrigger .Link",submit_again:"#checkoutOrderSummaryPromoCodeTrigger .Link"}},{id:"5cc6d4aa9fc04d2f2131d96c",url:".*nautica.com/cart.*",controls:{promo:"[name=dwfrm_cart_couponCode]",total:".estimated-total td:last-child",orderTotal:".order-subtotal td:last-child",discount:".red-coupon-price-discount"},apply:{type:"submit",submit:"#add-coupon",form:".cart-couponcode form",contentType:"application/x-www-form-urlencoded",data:{dwfrm_cart_couponCode:"%promo",dwfrm_cart_addCoupon:"dwfrm_cart_addCoupon"},response:{type:"discount",discount:".red-coupon-price-discount"}},remove:{type:"click",submit:".rowcoupons button[value=Remove]",timeout:3500}},{id:"5cc6d4b39fc04d2f2131d96d",url:".*easyrentcars.com/.*checkout.*",controls:{promo:".code-write",total:".summary-price .total .price",orderTotal:".summary-price .subtotal .price"},apply:{type:"click",submit:".apply-btn",timeout:3500}},{id:"5cc6d4bf9fc04d2f2131d96e",url:".*bathandbodyworks.com/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-value",orderTotal:".order-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:[{type:"click",submit:'[aria-label="Remove Code"]',timeout:3500},{type:"click",submit:'[aria-labelledby="ui-id-2"] button:first-child',timeout:3500}]},{id:"5cc6d4c79fc04d2f2131d96f",url:".*volcom.com.*checkouts.*",controls:{promo:"#checkout_reduction_code",total:".payment-due__price",orderTotal:".total-line--subtotal:first-child .order-summary__emphasis"},apply:{type:"click",submit:".field__input-btn",timeout:5500},remove:{type:"click",submit:".tag__button",timeout:5500}},{id:"5cc6d4d29fc04d2f2131d970",url:".*williams-sonoma.com/checkout/payment.*",controls:{promo:"#promoCode",total:".order-summary-tally-total-block .price-amount",orderTotal:".order-summary-tally-item-is-subtotal .price-amount"},apply:{type:"click",submit:"#applyPromo",timeout:4e3},remove:{type:"click",submit:".removePromoButton",timeout:3500}},{id:"5cc6d4de9fc04d2f2131d971",url:".*menswearhouse.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:".order-summary-list li:first-child span:last-child"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500}},{id:"5cc6d4e89fc04d2f2131d972",url:".*josbank.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_13"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500}},{id:"5cc6d4f19fc04d2f2131d973",url:".*patagonia.com/cart.*",controls:{promo:".new-cart-summary-container .new-cart-summary-promo-code-entry-input",total:".new-cart-summary-container .new-cart-summary-total-value",orderTotal:".new-cart-summary-container .new-cart-summary-total-value"},apply:{type:"click",submit:".new-cart-summary-container .new-cart-summary-promo-code-entry-submit",timeout:3500}},{id:"5cc6d4fb9fc04d2f2131d974",url:".*eastbay.com/cart.*",controls:{promo:"#input_voucherId",total:".total .value",orderTotal:".OrderSummary-body > dl:first-child .value",discount:".OrderSummary-body dl:nth-child(3) .value"},apply:{type:"click",submit:'button[aria-label="Apply Promo Code"]',timeout:5e3,response:{type:"discount",discount:".OrderSummary-body dl:nth-child(3) .value"}},remove:{type:"click",submit:".Link.remove",timeout:3500},unlock:{type:"click",submit:"#checkoutOrderSummaryPromoCodeTrigger .Link",submit_again:"#checkoutOrderSummaryPromoCodeTrigger .Link"}},{id:"5cc6d5099fc04d2f2131d975",url:".*clarksusa.com/cart.*",controls:{promo:"#vouhcerCode",total:".total-incl-vat-amount",orderTotal:".subTotalDiv"},apply:{type:"click",submit:".btn-apply",timeout:3500}},{id:"5cc6d5159fc04d2f2131d976",url:".*monoprice.com/cart/index",controls:{promo:"#promo",total:".grand-total",orderTotal:".subtotal-price"},apply:{type:"click",submit:".apply-btn",timeout:3500},remove:{type:"click",submit:"a.remove-btn",timeout:3500,force:!0}},{id:"5ce4e70dbbcd866e1b0b1a3a",url:".*macys.com/my-bag.*",controls:{promo:"#promo-apply-input",total:"#cx-at-SUM_SUB_TOTAL-value",orderTotal:"#cx-at-SUM_SUB_TOTAL-value",errorMessage:".promo-error"},apply:{type:"click",submit:".promo-apply-button",timeout:4e3},remove:{type:"click",submit:"#promo-remove-button",timeout:4e3}},{id:"5ce4e7c7bbcd866e1b0b1a3b",url:".*a4c.com/checkout/cart.*",unlock:{type:"click",submit:"",submit_again:""},controls:{promo:"#discount-coupon-form .input-text",total:"#shopping-cart-totals-table tfoot .price",orderTotal:"#shopping-cart-totals-table tbody .price"},apply:{type:"click",submit:"#discount-coupon-form .button",timeout:3e3},reloading:!0},{id:"5ce4e822bbcd866e1b0b1a3c",url:".*superdry.com.*checkout.*",controls:{promo:"#voucher-code-form input[type='text']",total:"#checkout-section-basket-summary .summary-item.total .text-right",orderTotal:"#checkout-section-basket-summary .summary-item .text-right",errorMessage:".error-output .alert-danger"},apply:{type:"click",submit:".code-form button[type='submit']",timeout:3500}},{id:"5ce4e889bbcd866e1b0b1a3d",url:".*ikea.com/.*(OrderItemDisplay|clickandcollect).*",controls:{promo:"#shoppingCartPromoForm_promoCode",total:".nonfamilyPrice, .basketSummary.onSelectPayment > tbody > tr:last-child > td:nth-child(2) > strong",orderTotal:"#totalValueBottom, .basketSummary.onSelectPayment > tbody > tr:nth-child(2) > td:nth-child(2) > strong",errorMessage:"#promoError"},apply:{type:"click",submit:"#promoButton .buttonContainer > a, #promoSubmit",timeout:3e3},reloading:!0},{id:"5ce4e8d8bbcd866e1b0b1a3e",url:".*homedepot.com/.*(checkout|mycart).*",unlock:{type:"click",submit:".promotion > div > label",submit_again:".promotion > div > label"},controls:{promo:".accordion__content .form-input__field",total:".rightRailWrapper .cartTotals li[data-automation-id='totalsSubTotalAmount']",orderTotal:".rightRailWrapper div.price > div",errorMessage:".cart-header-container .alert__message"},apply:{type:"click",submit:".promotion__content-wrapper .bttn-outline.bttn-outline--primary",timeout:3e3},remove:{type:"click",submit:".rightRailWrapper .alert-inline .list--type-plain > li:nth-child(2) > a",timeout:5e3,force:!0}},{id:"5ce4eaa0bbcd866e1b0b1a3f",url:".*qvc.com/.*stores/servlet/.*",controls:{promo:"#voucherCode > input",total:"#spanTotalPurchaseAmount1",orderTotal:"#spanTotalPurchaseAmount1"},apply:{type:"click",submit:"#voucherCode > button",timeout:3e3}},{id:"5ce4f086bbcd866e1b0b1a40",url:".*abebooks.com.*?(ShopBasketPL|ShoppingBasket).*",controls:{promo:"#couponcode",total:".couponList nobr > .price",orderTotal:".couponList nobr > .price"},apply:{type:"click",submit:"#couponcode-submit",timeout:3500}},{id:"5ce4f0d0bbcd866e1b0b1a41",url:".*adorama.com.*revised.*",controls:{promo:"#couponInput",total:"#grand-total-val",orderTotal:"#sub-total-line span",errorMessage:".error.message"},apply:{type:"click",submit:"button.militaryApplied",timeout:3500}},{id:"5ce4f10fbbcd866e1b0b1a42",url:".*guitarcenter.com/cart.*",controls:{promo:"#inputtedCouponCode",total:".orderTotalInner",orderTotal:".orderTotalInner"},apply:{type:"click",submit:"#couponSubmit",timeout:3500}},{id:"5ce4f153bbcd866e1b0b1a43",url:".*potterybarn.com.*payment.*",controls:{promo:"#promoCode",total:".order-summary-tally-total-block .price-amount",orderTotal:".order-summary-tally-item-is-subtotal .price-amount"},apply:{type:"click",submit:"#applyPromo",timeout:3500},remove:{type:"click",submit:"#removePromoButton",timeout:3500}},{id:"5ce4f18ebbcd866e1b0b1a44",url:".*pbteen.com.*payment.*",controls:{promo:"#promoCode",total:".order-summary-tally-total-block .price-amount",orderTotal:".order-summary-tally-item-is-subtotal .price-amount"},apply:{type:"click",submit:"#applyPromo",timeout:3500},remove:{type:"click",submit:"#removePromoButton",timeout:3500}},{id:"5ce4f1febbcd866e1b0b1a45"},{id:"5ce4f273bbcd866e1b0b1a46",url:".*advanceautoparts.com.*OrderItemDisplay.*",controls:{promo:".aap-promo-textfield__input",total:".aap-cart-order-summary__total .aap-cart-order-summary__line-item-amount",orderTotal:".aap-cart-order-summary__subtotal .aap-cart-order-summary__line-item-amount",errorMessage:".error--element"},apply:{type:"click",submit:".aap-cart-order-summary__promo-code-button",timeout:4500},remove:{type:"click",submit:".details--aside .details--aside--close",timeout:5500,force:!0}},{id:"5ce4f2d1bbcd866e1b0b1a48",url:".*lego.com.*cart.*",controls:{promo:"[data-test='promo-code-input-input-field']",total:"dd.cart-tender__total",orderTotal:"dd.cart-tender__subtotal"},apply:{type:"click",submit:".payment-type-promo-form__submit",timeout:3500},unlock:{type:"click",submit:".form__expand-trigger",submit_again:".form__expand-trigger"}},{id:"5ce4f307bbcd866e1b0b1a49",url:".*dealgenius.com/checkout/cart.*",controls:{promo:"#coupon_code",total:"tfoot .a-right:last-of-type .price",orderTotal:"#shopping-cart-totals-table tbody tr:first-child .a-right .price"},apply:{type:"click",submit:"[value='Apply Coupon']",timeout:3500}},{id:"5ce4f346bbcd866e1b0b1a4a",url:".*musicnotes.com.*step3_order.*",controls:{promo:"#voucherCodeInput",total:"#summaryTotal",orderTotal:"#summarySubtotal"},apply:{type:"click",submit:"#applyVoucherCodeButton",timeout:3500}},{id:"5ce4f36abbcd866e1b0b1a4b",url:".*hsn.com.*order-review.*",controls:{promo:"#discount-code",total:".order-total .summary-total",orderTotal:".subtotal .summary-total",errorMessage:".error-container span"},apply:{type:"click",submit:"#apply-discount",timeout:3500}},{id:"5ce4f394bbcd866e1b0b1a4c",url:".*hayneedle.com/cart/.*",controls:{promo:"[placeholder='Promo Code']",total:"hr + div .txt-black",orderTotal:".large-caption.semi-bold .is-narrow .txt-black"},apply:{type:"click",submit:"#promoForm .btn-secondary",timeout:3e3}},{id:"5ce4f429bbcd866e1b0b1a4d"},{id:"5ce4f46cbbcd866e1b0b1a4e"},{id:"5ce4f4aebbcd866e1b0b1a4f",url:".*petsmart.com/cart.*",controls:{promo:".promocode",total:".subtotal-footer .estimated-total .value",orderTotal:".subtotal-footer .subtotal-box > div:first-child .value"},apply:{type:"click",submit:".promocodepli [type='submit']",timeout:3e3}},{id:"5ce4f4f4bbcd866e1b0b1a51",url:".*worldmarket.com/basket.*",controls:{promo:"#sourceCode",total:"#EstTaxShipItemTable_estBasketTotal",orderTotal:".ml-basket-total-value"},apply:{type:"click",submit:".sourceCodeApplyBtn",timeout:3e3},remove:{type:"click",submit:".codeRemove",timeout:3e3},reloading:!0},{id:"5ce4f540bbcd866e1b0b1a52",url:".*fender.com.*cart.*",controls:{promo:"#couponCode",total:".grand-total",orderTotal:".sub-total"},apply:{type:"click",submit:".promo-code-btn",timeout:3e3}},{id:"5ce4f585bbcd866e1b0b1a53"},{id:"5ce4f5bebbcd866e1b0b1a54",url:".*containerstore.com/cart.*",controls:{promo:"#claimCode",total:".bem-title-regular.padding-bottom .float-right.bem-text--bold",orderTotal:".summary-retail .float-right.bem-text--bold"},apply:{type:"click",submit:"[name='addPromotionCode']",timeout:3e3}},{id:"5ce4f60cbbcd866e1b0b1a55",url:".*vitacost.com.*ShoppingCart.*",controls:{promo:"#IamMasterFrameYesIam_ctl02_txtPromotion",total:"dd.total",orderTotal:"dl > dt:first-child + dd"},apply:{type:"click",submit:"#IamMasterFrameYesIam_ctl02_btnPromoUpdate",timeout:3e3},remove:{type:"click",submit:"#IamMasterFrameYesIam_ctl02_btnPromoHEALTHY30",timeout:3e3},reloading:!0},{id:"5ce4f680bbcd866e1b0b1a56",url:".*.tigerdirect.com.*ShoppingCart.*",controls:{promo:"[name='Coupon']",total:".cart_totalInfo-grandTotal",orderTotal:".cart_totalInfo-subtotal",errorMessage:".msg_error"},apply:{type:"click",submit:"[name='Coupon'] + input",timeout:3500},reloading:!0},{id:"5ce4f709bbcd866e1b0b1a57",url:".*ebags.com/cart.*",controls:{promo:"#enterMeCode",total:"#ordertotal",orderTotal:"#merchandisetotal"},apply:{type:"click",submit:"#Submit2",timeout:3e3}},{id:"5ce4fcc2bbcd866e1b0b1a58"},{id:"5ce4fd65bbcd866e1b0b1a59",url:".*basspro.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_13"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500}},{id:"5ce501e9bbcd866e1b0b1a5a"},{id:"5ce50216bbcd866e1b0b1a5b",url:".*originalpenguin.com/basket.*",controls:{promo:".cart-coupon-code > input",orderTotal:".order-subtotal > .bfx-total-subtotal",total:".order-total > .bfx-total-grandtotal",errorMessage:".cart-coupon-code > .error"},apply:{type:"click",submit:".cart-coupon-code > button",timeout:3500},remove:{type:"click",submit:".item-quantity-details > button[value='Remove']",timeout:3500,force:!0},reloading:!0},{id:"5ce50222bbcd866e1b0b1a5c",url:".*tillys.com/.*?(cart|Cart-SubmitForm)",controls:{promo:"#dwfrm_cart_couponCode",total:".order-value",orderTotal:".order-subtotal td:last-of-type"},apply:{type:"click",submit:"#add-coupon",timeout:3500},remove:{type:"click",submit:".remove-coupon",timeout:3e3},reloading:!0},{id:"5ce50258bbcd866e1b0b1a5d",url:".*tennis-warehouse.com/workingorder.*",controls:{promo:"#redeem_coup",total:".grand_total .commanum",orderTotal:"#check_totals .totals_row:first-child .commanum"},apply:{type:"click",submit:"#w_coupon .w_submit",timeout:3500},reloading:!0},{id:"5ce5028abbcd866e1b0b1a5e",url:".*livingsocial.com/deals.*",controls:{promo:"#promo-apply",total:".final-amount",orderTotal:".subtotal-amount"},apply:{type:"click",submit:".apply",timeout:3500}},{id:"5ce5028dbbcd866e1b0b1a5f",url:".*harmankardon.com/cart.*",unlock:{type:"click",submit:".fluid-components-checkout-PromoCode > .module-header1",submit_again:".fluid-components-checkout-PromoCode > .module-header1"},controls:{promo:".fluid-components-checkout-PromoCode input[name='promoCode']",orderTotal:".order-subtotal-value",total:".order-total-value",errorMessage:".fluid-components-checkout-PromoCode .code-error",discount:".order-discount-value"},apply:{type:"click",submit:".fluid-components-checkout-PromoCode .submit-button",timeout:3e3,response:{type:"discount",discount:".order-discount-value"}},remove:{type:"click",submit:".promo-code-applied a",timeout:3e3}},{id:"5ce5034bbbcd866e1b0b1a60",url:".*pier1.com.*Checkout-Start.*",controls:{promo:".coupon-code",total:".order-total .orderdetails-pricing",orderTotal:".order-subtotal .orderdetails-pricing"},apply:{type:"click",submit:".submit-coupon",timeout:3500},remove:{type:"click",submit:".coupon-remove",timeout:3e3}},{id:"5ce503c9bbcd866e1b0b1a61",url:".*gnc.com/.*?(cart|Cart-SubmitForm).*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-value",orderTotal:".order-subtotal td:last-of-type"},apply:{type:"click",submit:"#add-coupon",timeout:5e3},remove:{type:"click",submit:".button-remove",timeout:5e3,force:!0}},{id:"5ce50455bbcd866e1b0b1a62",url:".*dellrefurbished.com/checkout/cart.*",controls:{promo:"#coupon_code",total:"#shopping-cart-totals-table > tfoot .price",orderTotal:"#shopping-cart-totals-table > tbody tr:first-child .price",errorMessage:".messages .error-msg span",discount:"#shopping-cart-totals-table > tbody tr:nth-child(2) .price"},apply:{type:"click",submit:".field-wrapper > .button-wrapper > button",timeout:3e3,response:{type:"discount",discount:"#shopping-cart-totals-table > tbody tr:nth-child(2) .price"}},remove:{type:"click",suubmit:"button.cancel-coupon",timeout:3500},reloading:!0},{id:"5ce504ddbbcd866e1b0b1a63"},{id:"5ce504f4bbcd866e1b0b1a64",url:".*gobros.com/(cart|checkout).*",controls:{promo:".ty-gift-certificate-coupon__input-wrapper > input.ty-input-text",orderTtotal:".ty-statistic-list-subtotal > .ty-cart-statistic__value > span",total:"#sec_cart_total",errorMessage:".notification-content.alert.alert-warning"},apply:{type:"click",submit:".ty-discount-coupon__control-group .ty-btn-go",timeout:3e3}},{id:"5ce5053ebbcd866e1b0b1a65",url:".*cyclegear.com/checkout.*",unlock:{type:"click",submit:".checkout-section--accordion .accordion__label",submit_again:".checkout-section--accordion .accordion__label"},controls:{promo:".checkout-section--accordion  input[name='discount_code']",total:".checkout-summary-table--body > tbody > tr:first-child > td:nth-child(2)",orderTotal:".checkout-summary-table--foot > tfoot td:nth-child(2) > strong",errorMessage:""},apply:{type:"click",submit:".field__input-wrapper > button[data-form-name='Checkout > Add Promo Code']",timeout:3e3}},{id:"5ce50578bbcd866e1b0b1a66"},{id:"5ce505b6bbcd866e1b0b1a67",url:".*myprotein.com/my.basket.*",controls:{promo:"#discountcode",total:".athenaBasket_totalValue",orderTotal:".athenaBasket_totalValue",errorMessage:".athenaBasket_headerAlerts > .athenaBasket_errorAlert"},apply:{type:"click",submit:"#add-discount-code",timeout:3500},remove:{type:"click",submit:".athenaBasket_removeItem-discount",timeout:3500}},{id:"5ce505e2bbcd866e1b0b1a68",url:".*oneplus.com/.*checkout.*",unlock:{type:"click",submit:"#select-coupon",submit_again:"#select-coupon",timeout:1e3},controls:{promo:"#input-coupon-code",total:"span[data-total]",orderTotal:".subtotalPrice"},apply:{type:"click",submit:"#btn-apply-coupon",timeout:3e3}},{id:"5ce50667bbcd866e1b0b1a69",url:".*eddiebauer.com/*(checkout|bag).*",unlock:{type:"click",submit:"#addPromoCodeClosed",submit_again:"#addPromoCodeClosed"},controls:{promo:"#chkPromoCode",total:".summaryDetailsHolder > .os-subtotal > .os-detail",orderTotal:".summaryDetailsHolder > .os-subtotal > .os-detail"},apply:{type:"click",submit:"a[data-formid='apply-promo-code']",timeout:3e3},remove:{type:"click",submit:".con-success-pro-code .remove-promo-code",timeout:5e3,force:!0}},{id:"5ce50676bbcd866e1b0b1a6a",url:".*motorola.com/.*/cart.*",controls:{promo:".form-item-new-promo-code input[name='new_promo_code']",total:".summary-details > div:first-child > .summary-data",orderTotal:".summary-details > div:first-child > .summary-data",errorMessage:".form-group > .invalid-code-message"},apply:{type:"click",submit:".new-code-wrapper > button",timeout:3e3},remove:{type:"click",submit:".promo-codes-wrapper button.btn-remove-code",timeout:5e3,force:!0}},{id:"5ce5068dbbcd866e1b0b1a6b",url:".*nordvpn.com/.*order.*",unlock:{type:"click",submit:"#credit-cards-form > div:nth-child(2) a",submit_again:"#credit-cards-form > div:nth-child(2) a"},controls:{promo:"#order_credit-card-form_coupon_field",orderTotal:"#credit-cards-form > div > div:first-child > div:nth-child(2) > span > span",total:"#credit-cards-form > div > div:nth-child(4) > div:nth-child(2) span > span:not(.Text)"},apply:{type:"click",submit:".TextField__button > .Button",timeout:3e3},remove:{type:"click",submit:".form-group.TextField.TextField__innerButton .TextField__innerButtonElement",timeout:5e3,force:!0}},{id:"5ce506bbbbcd866e1b0b1a6c",url:".*dorcousa.com.*cart.*",controls:{promo:"#couponcode",total:".cart-total-grandTotal span",orderTotal:".cart-totals > li:first-child span"},apply:{type:"click",submit:"#couponcode + input",timeout:4e3},remove:{type:"click",submit:".cart-total-label a",timeout:4e3}},{id:"5ce506f0bbcd866e1b0b1a6d"},{id:"5ce50724bbcd866e1b0b1a6e",url:".*foodsaver.com/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-total td:last-child",orderTotal:".order-subtotal td:last-child",errorMessage:".cart-order-totals .error"},apply:{type:"click",submit:"#add-coupon",timeout:3500}},{id:"5ce5074bbbcd866e1b0b1a6f"},{id:"5ce5074cbbcd866e1b0b1a70",url:".*us.puma.com.*cart.*",controls:{promo:"#couponCode",total:".grand-total .value",orderTotal:".sub-total > .value",errorMessage:".coupon-error-message"},apply:{type:"click",submit:".promo-code-submit > button",timeout:3e3}},{id:"5ce50790bbcd866e1b0b1a71",url:".*acehardware.com/cart.*",controls:{promo:"#coupon-code",total:".cart-footer-pricing-total-container > div > div:nth-child(2) > span",orderTotal:".cart-footer-pricing >div:first-child div:nth-child(2)"},apply:{type:"click",submit:"#cart-coupon-code",timeout:3e3}},{id:"5ce50794bbcd866e1b0b1a72"},{id:"5ce507c6bbcd866e1b0b1a73"},{id:"5ce507e3bbcd866e1b0b1a74"},{id:"5ce507efbbcd866e1b0b1a75"},{id:"5ce5081bbbcd866e1b0b1a76",url:".*zinus.com/.*checkouts.*",controls:{promo:"input[placeholder='Discount code']",total:"span[data-checkout-subtotal-price-target]",orderTotal:".payment-due__price"},apply:{type:"click",submit:"button[data-trekkie-id='apply_discount_button']",timeout:2e3}},{id:"5ce50828bbcd866e1b0b1a77",url:".*htc.com.*?(:store|DisplayShoppingCartPage).*",controls:{promo:"#promoCode",total:".cart-total .price",orderTotal:".product-total .price",errorMessage:".promo-code-section .dr_error"},apply:{type:"click",submit:"#add-coupon",timeout:3500}},{id:"5ce50845bbcd866e1b0b1a78",url:".*lenovo.com/.*cart.*",controls:{promo:"#couponCode",total:"#orderSummarySection .cart-summary-pricingTotal .price-calculator-cart-summary-totalPriceWithTax",orderTotal:"#orderSummarySection .price-calculator-cart-summary-subTotalWithoutCoupon"},apply:{type:"click",submit:"#cart-summary-ecouponForm-button",timeout:3e3},reloading:!0},{id:"5ce50869bbcd866e1b0b1a79",url:".*stacksocial.com/checkout.*",controls:{promo:"#promo_code",total:".cart-totals .js-order-summary-total",orderTotal:".sc-totals span"},apply:{type:"click",submit:".sc-promo-code .input-group-btn > button",timeout:3e3}},{id:"5ce5087ebbcd866e1b0b1a7a",url:".*calphalon.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2",errorMessage:"#errormessages li:last-child"},apply:{type:"click",submit:".PromotionBlock .button_text",timeout:5500},remove:{type:"click",submit:"#promotion_1",timeout:3500}},{id:"5ce50894bbcd866e1b0b1a7b",url:".*wantone.woot.com.*",controls:{promo:"#coupon-code",total:"#TotalLabelForOrderReview",orderTotal:"#order-total",errorMessage:"#coupon-exists"},apply:{type:"click",submit:"#apply-coupon",timeout:3500}},{id:"5ce508b3bbcd866e1b0b1a7c"},{id:"5ce508c1bbcd866e1b0b1a7d",url:".*marmot.com/.*?(cart|Cart-SubmitForm).*",controls:{promo:"#dwfrm_cart_couponCode",total:"#cart-items-form .order-value",orderTotal:"#cart-items-form .order-subtotal td",errorMessage:".error"},apply:{type:"click",submit:"#add-coupon",timeout:5e3},remove:{type:"click",submit:".button-remove",timeout:5e3}},{id:"5ce508ddbbcd866e1b0b1a7e",url:".*harmanaudio.com/cart.*",controls:{promo:"input[name='promoCode']",total:".order-total-value",orderTotal:".order-subtotal-value",errorMessage:".code-error"},apply:{type:"click",submit:".fluid-components-checkout-PromoCode > div > div:nth-child(2) > a",timeout:3e3}},{id:"5ce50903bbcd866e1b0b1a7f",url:".*torguard.net/cart.*",controls:{promo:"#promocode",total:".summary td:nth-child(2)",orderTotal:".total td:nth-child(2)"},apply:{type:"click",submit:".input-group-btn > input[type='submit']",timeout:3e3},remove:{type:"click",submit:"#order-comparison > div:nth-child(3) a",timeout:5e3,force:!0},reloading:!0},{id:"5ce5098abbcd866e1b0b1a80",url:".*embarkvet.com.*checkouts.*",controls:{promo:"#checkout_reduction_code",total:".payment-due__price",orderTotal:".total-line--subtotal:first-child .order-summary__emphasis",errorMessage:"error-for-reduction_code"},apply:{type:"click",submit:".field__input-btn",timeout:5500},remove:{type:"click",submit:".tag__button",timeout:5500}},{id:"5ce509fabbcd866e1b0b1a82",url:".*c21stores.com/cart.*",controls:{promo:"#couponCode",total:".grand-total-sum",orderTotal:".subtotal-item .sub-total",errorMessage:"#id-coupon-error"},apply:{type:"click",submit:".promo-code-btn",timeout:5500},remove:[{type:"click",submit:".remove-coupon",timeout:3500},{type:"click",submit:".delete-coupon-confirmation-btn",timeout:3500}]},{id:"5ce50a37bbcd866e1b0b1a83",url:".*nordstromrack.com/checkout",unlock:{type:"click",submit:".checkout-page__adjustments > div:nth-child(2) .checkout-page__sub-heading",submit_again:".checkout-page__adjustments > div:nth-child(2) .checkout-page__sub-heading"},controls:{promo:".checkout-page__sub-section--expanded .checkout-page__sub-container .standard-form__input-container input",total:".review-confirm__total",orderTotal:".review-confirm__value:nth-child(2)"},apply:{type:"click",submit:".checkout-page__sub-section--expanded .checkout-page__sub-container .standard-form__actions button",timeout:3e3}},{id:"5ce50a61bbcd866e1b0b1a84"},{id:"5ce50a8ebbcd866e1b0b1a85",url:".*shop.straighttalk.com.*stores/servlet/.*",controls:{promo:"#promoCode",total:".plan-cost > .holder > div:first-child",orderTotal:".h4",errorMessage:"#promo_code_error_div small"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_div_3",timeout:6500}},{id:"5ce50aafbbcd866e1b0b1a86",url:".*simplemobile.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:".js-totalplanprice",orderTotal:".js-totalplanprice",errorMessage:".promo_code_error small"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_div_3",timeout:1e4},remove:{type:"click",submit:"#promotion_1",timeout:5e3}},{id:"5ce50b03bbcd866e1b0b1a87",url:".*greenmangaming.com/your-cart---order.*",controls:{promo:"#promotionalCodeForm input",total:".order-summary-body .order-summary-items .total-amount price > span",orderTotal:".order-summary-body .order-summary-items .total-amount price > span",errorMessage:".vouchers-section #messages-bar .message span"},apply:{type:"click",submit:"#promotionalCodeForm .button-wrapper > button",timeout:3e3}},{id:"5ce50b15bbcd866e1b0b1a88",url:".*jackrabbit.com/checkout/cart.*",reloading:!0,controls:{promo:"#coupon_code",errorMessage:".error-msg",total:".price",orderTotal:"#total"},apply:{type:"click",submit:"button[value=Apply]",timeout:15e3}},{id:"5ce50b56bbcd866e1b0b1a89",url:".*supplementhunt.com/carts.*",controls:{promo:".promo_code",total:".order-total .amount",orderTotal:".cart-subtotal:first-child .amount",errorMessage:".alert-danger:not(.payment-errors)"},apply:{type:"click",submit:"#test_apply_coupon",timeout:3500},remove:{type:"click",submit:"button.fa.fa-times",timeout:3500}},{id:"5ce50b6bbbcd866e1b0b1a8a",url:".*buydig.com/shop/basket.aspx.*",controls:{promo:"#c-promo-code__input",total:"#spOrderTotal",orderTotal:"#spSubtotal"},apply:{type:"click",submit:"#c-promo-code__submit",timeout:6e3},reloading:!0},{id:"5ce50b9abbcd866e1b0b1a8b",url:".*evestemptation.com/(cart|checkout).*",controls:{promo:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._2r3OTm-9FilSvlBOm9plzV > div > form > input",orderTotal:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._3HsiyfgcCPTDHp6jIvu82V > div:nth-child(1) > div.text-right.col-xs-4",total:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._261_ZJNnm7SUHpyq0xEzF8 > div:nth-child(1) > div.text-right.col-xs-4",errorMessage:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._2r3OTm-9FilSvlBOm9plzV > div > div._14tfYNitwbue8XikWSkcGe"},apply:{type:"click",submit:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._2r3OTm-9FilSvlBOm9plzV > div > form > button",timeout:3e3},remove:{type:"click",submit:"#root > div > div > div._4uEyKcd5WHob5qPzotT7 > div > div.row > div.col-lg-4.col-md-5.col-sm-5.col-xs-12 > div > div._2r3OTm-9FilSvlBOm9plzV > div  div:nth-child(n+2) > div",timeout:5e3,force:!0}},{id:"5ce50bc8bbcd866e1b0b1a8c"},{id:"5ce50bdcbbcd866e1b0b1a8d",url:".*bonobos.com/products.*",controls:{promo:".drawer---open---27uT0 .cart-component .promo-form-component input",total:".drawer---open---27uT0 .cart-component .cart_contents---total---1Vomo > dd",orderTotal:".drawer---open---27uT0 .cart-component .cart_contents---subtotal---3WVsZ > dd",errorMessage:".drawer---open---27uT0 .cart-component .input---errorMessage---3ywbU"},apply:{type:"click",submit:".drawer---open---27uT0 .cart-component .promo_form---applyButton---3Y8PD > button",timeout:3e3},remove:{type:"click",submit:".drawer---open---27uT0 .cart-component .promo_form---applyButton---3Y8PD > button[aria-label='remove promo code']",timeout:5e3,force:!0}},{id:"5ce50bf6bbcd866e1b0b1a8e",url:".*dailysteals.com/[0-9]+/checkouts.*",controls:{promo:"#checkout_reduction_code",total:".payment-due__price",orderTotal:".payment-due__price"},apply:{type:"click",submit:"button[data-trekkie-id='apply_discount_button']",timeout:5e3}},{id:"5ce50c21bbcd866e1b0b1a8f",url:".*ecoterrabeds.com/.*/checkouts.*",controls:{promo:"#checkout_reduction_code",total:".payment-due__price",orderTotal:".total-line--subtotal .order-summary__emphasis",errorMessage:".field--error .field__message--error"},apply:{type:"click",submit:".field__input-btn-wrapper > button",timeout:3e3}},{id:"5ce50c27bbcd866e1b0b1a90",url:".*taxact.com/shopping-cart.*",controls:{promo:"#promotionCode",total:".total-cell .table-row:last-child .table-cell:last-child",orderTotal:".total-cell .table-row:last-child .table-cell:last-child",errorMessage:"#promotionCode-error"},apply:{type:"click",submit:"#promotionCode ~ div button",timeout:5e3},reloading:!0},{id:"5ce50c80bbcd866e1b0b1a91",url:".*focuscamera.com/checkout/cart.*",controls:{promo:"#discount_code",total:"#shopping-cart-totals-table tfoot .price",orderTotal:"#shopping-cart-totals-table tbody tr:first-child .price"},apply:{type:"click",submit:"#discount-coupon-form button",timeout:3500},remove:{type:"click",submit:"#coupon-code-cancel",timeout:3500}},{id:"5ce50c9cbbcd866e1b0b1a92",url:".*canon.com/shop/OrderItemDisplay.*",controls:{promo:"input[name=promoCode]",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_13"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:5e3}},{id:"5ce50ca8bbcd866e1b0b1a93",url:".*nomnomnow.myshopify.com/.*/checkouts.*",unlock:{type:"click",submit:"button",submit_again:"button"},controls:{promo:"#checkout_reduction_code",total:".total-line > .payment-due > .payment-due__price",orderTotal:".total-line--subtotal > .total-line__price > .order-summary__emphasis",errorMessage:".field--error > .field__message--error"},apply:{type:"click",submit:".field__input-btn-wrapper > button",timeout:2e3}},{id:"5ce50d1dbbcd866e1b0b1a94"},{id:"5ce50d4bbbcd866e1b0b1a95",url:".*vitaminshoppe.com/(cart/.*cart|s/checkout)",controls:{promo:"#promo-input, #promocd",total:".estimate-total>span:last-child",orderTotal:".estimate-total>span:last-child"},apply:{type:"click",submit:"input[name='/atg/commerce/order/purchase/CommitOrderFormHandler.redeemCoupon']",timeout:5e3}},{id:"5ce50d5fbbcd866e1b0b1a96",url:".*sonos.com/[-a-z]+/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:".order-total .order-value",orderTotal:".order-total .order-value"},apply:{type:"click",submit:"button[name='dwfrm_cart_addCoupon']",timeout:5e3}},{id:"5ce50d63bbcd866e1b0b1a97",url:".*razer.com/cart.*",unlock:{type:"click",submit:".ct-block--ltitle-promocode",submit_again:".ct-block--ltitle-promocode"},controls:{promo:"#voucherCodeText",total:"#totalPrice",orderTotal:"#totalPrice"},apply:{type:"click",submit:"#voucher-submit",errorMessage:"#voucherMessage",timeout:5e3},remove:{type:"click",submit:".cartp-remove-voucher",timeout:5e3,force:!0},reloading:!0},{id:"5ce50d84bbcd866e1b0b1a98"},{id:"5ce50da3bbcd866e1b0b1a99"},{id:"5ce50da4bbcd866e1b0b1a9a"},{id:"5ce50db5bbcd866e1b0b1a9b"},{id:"5ce50debbbcd866e1b0b1a9c",url:".*vistaprint.com/cart.*",unlock:{type:"click",submit:"#showCoupon",submit_again:"#showCoupon"},controls:{promo:"#CouponEntry",total:".pay .discount-price",orderTotal:".sub-price",errorMessage:".promo-form .error"},apply:{type:"click",submit:"#applyCoupon",timeout:3500}},{id:"5ce50e04bbcd866e1b0b1a9d",url:".*pcrichard.com/cart/cart.jsp.*",unlock:{type:"click",submit:"#promo-code-title",submit_again:"#promo-code-title"},controls:{promo:"input[name='promo-code-field']",total:".total-amount",orderTotal:".total-amount"},apply:{type:"click",submit:"#promo-code-submit",timeout:5e3}},{id:"5ce50e23bbcd866e1b0b1a9e"},{id:"5ce50ea2bbcd866e1b0b1a9f",url:".*colehaan.com/newcart.*",controls:{promo:"#couponCode",total:".grand-total-sum",orderTotal:".grand-total-sum"},apply:{type:"click",submit:".promo-code-btn",timeout:2500}},{id:"5ce50ea6bbcd866e1b0b1aa0",url:".*gracobaby.com/AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_2",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_13",errorMessage:".message #ErrorMessageText"},apply:{type:"click",submit:".button_align > a",timeout:3e3}},{id:"5ce50eddbbcd866e1b0b1aa1",url:".*vitamix.com/[a-z]+/[_a-zA-Z]+/Shop/Shopping-Cart.*",controls:{promo:"#promotion-code",total:"#cart_total",orderTotal:"#cart_subtotal"},apply:{type:"click",submit:"#add-promotion-button",timeout:2500}},{id:"5ce50ef7bbcd866e1b0b1aa2",url:".*jbl.com/(cart|checkout).*",unlock:{type:"click",submit:".fluid-components-checkout-PromoCode > .module-header1",submit_again:".fluid-components-checkout-PromoCode > .module-header1"},controls:{promo:".fluid-components-checkout-PromoCode input[name='promoCode']",total:".order-subtotal-value",orderTotal:".order-total-value",errorMessage:".fluid-components-checkout-PromoCode .code-error"},apply:{type:"click",submit:".fluid-components-checkout-PromoCode .submit-button",timeout:3e3}},{id:"5ce50f0abbcd866e1b0b1aa3",url:".*benqdirect.com/checkout/cart.*",reloading:!0,controls:{promo:"#coupon_code",coupon:"button[value='Cancel Coupon']",total:"#shopping-cart-totals-table tfoot .price",orderTotal:"#shopping-cart-totals-table tbody .price",errorMessage:".error-msg"},apply:{type:"click",submit:"button[value='Apply Coupon']",timeout:4e3},remove:{type:"click",submit:"button[value='Cancel Coupon']",timeout:4e3}},{id:"5ce50f2ebbcd866e1b0b1aa4",url:".*hollar.com/cart.*",controls:{promo:"#order_coupon_code",total:".checkout-subtotal td:last-child:not(.orange)",orderTotal:".checkout-totals + .checkout-merchant-subtotal td:last-child",errorMessage:".flash.error"},apply:{type:"click",submit:"#update_button",timeout:4500},reloading:!0},{id:"5ce50f41bbcd866e1b0b1aa5",url:".*shop.tracfone.com/webapp/wcs/stores/servlet/AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:".js-totalplanprice",orderTotal:".js-totalplanprice"},apply:{type:"click",submit:"a[aria-label='APPLY CODE']",timeout:6e3},remove:{type:"click",submit:".discount-amount .icon-cancel-circled",timeout:6e3}},{id:"5ce50f6cbbcd866e1b0b1aa6",url:".*shop.samsonite.com/cart.*",controls:{promo:"#dwfrm_cart_couponCode",total:".desktop-only .order-subtotal .order-totals-value-text",orderTotal:".desktop-only .order-subtotal .order-totals-value-text",errorMessage:".coupon-error"},apply:{type:"click",submit:"#add-coupon",timeout:4500},remove:{type:"click",submit:".rowcoupons [value='Remove']",timeout:3500}},{id:"5ce50f6fbbcd866e1b0b1aa7",url:".*thinkgeek.com/brain/checkout/warpspeed.cgi.*",controls:{promo:"#form_promo_cert_code",total:".ajax_total",orderTotal:".ajax_total"},apply:{type:"click",submit:"#form_promo_submit_button",timeout:6e3}},{id:"5ce50f84bbcd866e1b0b1aa8"},{id:"5ce50f9cbbcd866e1b0b1aa9",url:".*raise.com/receipts.*",unlock:{type:"click",submit:".promo-code-toggle",submit_again:".promo-code-toggle"},controls:{promo:"#order_coupon_code",coupon:".remote-delete",total:".summary .right",orderTotal:".summary .right"},apply:{type:"click",submit:"input[name=commit]",timeout:3e3},remove:{type:"click",submit:".remote-delete",timeout:3e3}},{id:"5ce50fb1bbcd866e1b0b1aaa",url:".*tanga.com/orders.*",controls:{promo:".form-control:not(#cart_line_items__quantity)",total:"#grand_total",orderTotal:".list-group-item:nth-child(2) .text-right.text-charcoal",errorMessage:".alert-error"},apply:{type:"click",submit:".input-group-btn .btn-primary",timeout:4500},reloading:!0},{id:"5ce50fc1bbcd866e1b0b1aab",url:".*acmetools.com/shop/AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",coupon:"#promotion_1",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_13"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:5e3},remove:{type:"click",submit:"#promotion_1",timeout:5e3,forece:!0}},{id:"5ce50ff1bbcd866e1b0b1aac",url:".*pepboys.com/cart.*",apply:{type:"click",submit:"#js-voucher-apply-btn",timeout:3500},remove:{type:"click",submit:".js-release-voucher-remove-btn.voucher-list__item-remove",timeout:3500},controls:{promo:"#js-voucher-code-text",total:".subtotal-nine",orderTotal:".subtotal-nine"}},{id:"5ce51000bbcd866e1b0b1aad"},{id:"5ce51006bbcd866e1b0b1aae",url:".*lightinthebox.com.*checkout_payment_process.*",controls:{promo:"#couponCode",total:"#ot_total",orderTotal:"#ot_subtotal",errorMessage:".invalid.red"},apply:{type:"click",submit:"#couponApply",timeout:3500},unlock:{type:"click",submit:"#to-use-coupon",submit_again:"#to-use-coupon"}},{id:"5ce51018bbcd866e1b0b1aaf",url:".*24hourfitness.com/membershipSalesOnline/pos/large.*",reloading:!0,apply:{type:"click",submit:"#applyBtn",timeout:3500},controls:{promo:"#promoCode",total:".totalAmount",orderTotal:".totalAmount",errorMessage:".formErrors"}},{id:"5ce51057bbcd866e1b0b1ab0",url:".*jet.com/cart.*",apply:{type:"click",submit:"form > div > button",timeout:5e3},remove:{type:"click",submit:"div.base__Box-sc-1l64hnd-1.gziGHS > a",timeout:5e3},controls:{promo:"#promo",total:".PricingDetail__PricingDetailWrapper-sc-14ggabb-0:last-child > span:last-child",orderTotal:"[class*='PricingDetail__PricingDetailWrapper']:first-child span:last-child",errorMessage:".base__Box-sc-1l64hnd-1 ~ span[color=tomatoDark]"}},{id:"5ce51080bbcd866e1b0b1ab1",url:".*pay.ebay.com/rg?xo\\?action.*",controls:{promo:"input#redemptionCode",total:"[data-test-id='TOTAL'] span span",orderTotal:"[data-test-id='SUB_TOTAL'] span span"},apply:{submit:"button[data-test-id='INCENTIVES_ADD_BUTTON']",type:"click",timeout:5e3},remove:{type:"click",submit:"[id^='incentives-checkbox-%promo']",timeout:4500,required:{fields:[{key:"checked",value:!0}]}}},{id:"5ce51088bbcd866e1b0b1ab2",url:".*designerliving.com/Shopping/Cart.*",controls:{promo:".form-control",total:"dd.red:not(.coupon-save)",orderTotal:"dd.red:not(.coupon-save)",errorMessage:".layui-layer-content"},apply:{type:"click",submit:".btn-whiteOrg",timeout:3500},remove:[{type:"click",submit:".del",timeout:3500},{type:"click",submit:".layui-layer-btn0",timeout:3500}]},{id:"5ce51088bbcd866e1b0b1ab3"},{id:"5ce510c2bbcd866e1b0b1ab4",url:".*bjs.com/cart.*",controls:{promo:".form-group .form-control",total:".subTotal .floatRight",orderTotal:".itemPriceDiv .floatRight",errorMessage:".promoerrMsg > i"},apply:{type:"click",submit:".apply-btn-clr",timeout:4500}},{id:"5ce510e6bbcd866e1b0b1ab5"},{id:"5ce510fdbbcd866e1b0b1ab6",url:".*spencersonline.com/checkout.*",controls:{promo:"#promoCode",total:"#estimated-grand-total",orderTotal:"[data-qaautomationid='cart-Subtotal']",errorMessage:"#promoCodeEntry .common-error"},apply:{type:"click",submit:"#promoCode + .buttonWithInputField",timeout:3500},reloading:!0},{id:"5ce5111bbbcd866e1b0b1ab7"},{id:"5ce51133bbcd866e1b0b1ab8",url:".*bestchoiceproducts.com.*checkouts.*",controls:{promo:"#checkout_reduction_code",total:".payment-due__price",orderTotal:".total-line--subtotal:first-child .order-summary__emphasis",errorMessage:"error-for-reduction_code"},apply:{type:"click",submit:".field__input-btn",timeout:5500},remove:{type:"click",submit:".tag__button",timeout:5500}},{id:"5ce5117fbbcd866e1b0b1aba"},{id:"5ce51183bbcd866e1b0b1abb"},{id:"5ce51266bbcd866e1b0b1abc",url:"abercrombie.com.*OrderItemDisplayView",controls:{promo:"input[id*='promosrightrail']",total:".payment-rail .transaction-summary-item-amount ",orderTotal:".payment-rail .transaction-summary-item-amount ",errorMessage:".payment-rail .apply-promo + p[class*='error-message']"},apply:{type:"click",submit:".payment-rail .apply-promo",timeout:3500}},{id:"5ce51471bbcd866e1b0b1abd"},{id:"5ce514a2bbcd866e1b0b1abe"},{id:"5ce51529bbcd866e1b0b1abf",url:".*luckybrand\\.com.*(cart|Cart-SubmitForm).*",unlock:{type:"click",submit:".cart-coupon-code a",submit_again:".cart-coupon-code a"},controls:{promo:".form-field-flush:not(.is-hidden) #dwfrm_cart_couponCode",total:".js-adjusted-merch-total",orderTotal:".order-subtotal td:last-child"},apply:{type:"click",submit:"#add-coupon",timeout:5e3},remove:{type:"click",submit:".rowcoupons button[value='Remove']",timeout:5e3,force:!0},reloading:!0},{id:"5ce51affbbcd866e1b0b1ac1"},{id:"5ce51b3ebbcd866e1b0b1ac2"},{id:"5ce51f11bbcd866e1b0b1ac3",controls:{promo:"input[name=promoCode]",total:".order-summary-grand-total .Discount, [data-automation-id='text-order-summary-order-total']",orderTotal:".order-summary-subtotal .Discount, [data-automation-id='text-order-summary-subtotal']"},apply:{type:"click",submit:".button.form-save-button, [data-automation-id='btn-promo-apply']",timeout:2500},unlock:{type:"click",submit:".add-promo-btn",submit_again:".add-promo-btn"},remove:{type:"click",submit:"button[data-automation-id='btn-remove-promo']",timeout:3500}},{id:"5cf0c3214f73e518010b7cfe",url:"boostmobile.com.*cart",controls:{promo:"#order-summary-promo",total:".order-summary__content .price-point-value",orderTotal:".order-summary__content .price-point-value",errorMessage:".promo-input-error-label"},apply:{type:"click",submit:".apply-button",timeout:3500}},{id:"5cf4d4224f73e518010b7d00",url:".*sprint.com/en/shop/pre-checkout-confirmation",controls:{promo:".sprint-inline-form__input",total:".cart-omni-header__headings div:last-child .cart-omni-header__price.font-medium",orderTotal:".cart-omni-header__headings div:last-child .cart-omni-header__price.font-medium"},apply:{type:"click",submit:".sprint-inline-form__submit",timeout:3e3},remove:{type:"click",submit:".btn-apply",timeout:3e3},unlock:{type:"click",submit:".omni-cart-promo-code button",submit_again:".omni-cart-promo-code button"}},{id:"5cf4e5194f73e518010b7d01",url:".*express.google.com/././checkout/.*",unlock:{type:"click",submit:"",submit_again:""},controls:{promo:"",total:"",orderTotal:""},apply:{type:"click",submit:"",timeout:3e3},remove:{type:"click",submit:"",timeout:5e3,force:!0},reloading:!0},{id:"5cf4ee674f73e518010b7d02",url:".*target.com/co-cart.*",controls:{promo:"#promoCodeEntry",total:"#orderSummaryWrapperDiv [data-test='cart-summary-total'] span:last-child",orderTotal:"#orderSummaryWrapperDiv [data-test='cart-summary-subTotal'] span:not(.h-text-md):last-child",errorMessage:""},apply:{type:"click",submit:"[class*='PromoCodeInputDiv'] button[type='submit']",timeout:3500}},{id:"5cf628704f73e518010b7d03",url:".*panerabread.com/checkout.*",controls:{promo:"#promoCode",total:"[name='balance'] > .row + .form-group label:not(.total-header)",orderTotal:"[name='balance'] > div:first-child label:not(.total-header)",errorMessage:".alert-danger span"},apply:{type:"click",submit:".schema-form-submit:not(.pull-right) input:not(.pull-right)",timeout:3500},remove:{type:"click",submit:"[ng-click='removeDiscount(discount)']",timeout:3500}},{id:"5cf790274f73e518010b7d04",url:".*davidsbridal.com.*AjaxOrderItemDisplayView.*",controls:{promo:"#promoCode",total:"#WC_SingleShipmentOrderTotalsSummary_td_13",orderTotal:"#WC_SingleShipmentOrderTotalsSummary_td_2"},apply:{type:"click",submit:"#WC_PromotionCodeDisplay_links_1",timeout:3500},remove:{type:"click",submit:"#promotion_1",timeout:3500}}];var ConfigTypeId=(e=>(e.CouponAutoApply="caa",e.Product="pc",e.Confirmation="confirm_page",e.Search="st",e))(ConfigTypeId||{}),Ii,ka,Di,Pi,Ca,xi,Ra,Ni,Ia;const Us=class{constructor(t,r,o){Et(this,Ii);Et(this,Pi);Et(this,xi);Et(this,Ni);Sr(this,"byDomain");Sr(this,"byId");Sr(this,"id");Sr(this,"options");Sr(this,"platforms");Sr(this,"url");Sr(this,"data");Et(this,Di,t=>Array.isArray(t)&&!!t.length);this.merchantService=t,this.requestService=r,this.byDomain={},this.byId={},this.data=o.default||[],this.id=o.id,this.options=o.options||{},this.platforms=[],this.url=o.url,this.merchantService=MerchantService.create()}static create(t){return new Us(MerchantService.create(),RequestService.create(),t)}getById(t){return this.byId[t]}getByUrl(t,r){const o=r||UrlService.getSecondLevelDomain(t)||"",n=this.byDomain[o];if(!(n!=null&&n.length))return!1;const i=n.find(s=>t.match(new RegExp(s.url,"ig")));if(i)return i;if(this.platforms.length){const s=this.platforms.find(a=>t.match(new RegExp(a.url,"ig")));if(s)return s}return!1}async update(){const t=await Dr(this,Ni,Ia).call(this);Dr(this,xi,Ra).call(this,t)}};let ConfigService=Us;Ii=new WeakSet,ka=async function(t,r){try{return await this.requestService.fetch(t||this.url,r||this.options).json()}catch(o){}return Promise.resolve()},Di=new WeakMap,Pi=new WeakSet,Ca=function(t){!t||(this.byDomain={},this.byId={},this.platforms=[],t.forEach(r=>{r.storeID&&(this.byId[r.storeID]=r),r.platform&&this.platforms.push(r);const o=this.merchantService.getById(r.storeID);if(!o||!o.domain)return;const n=o.domain.split(".").slice(-2).join(".");this.byDomain[n]||(this.byDomain[n]=[]),this.byDomain[n].push(r),this.byDomain[n].sort(UrlService.domainLengthSort)}))},xi=new WeakSet,Ra=function(t){Dr(this,Pi,Ca).call(this,t)},Ni=new WeakSet,Ia=async function(){const t=await Dr(this,Ii,ka).call(this);return nt(this,Di).call(this,t)&&(this.data=t),this.data};var __defProp$f=Object.defineProperty,__getOwnPropDesc$f=Object.getOwnPropertyDescriptor,__decorateClass$f=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$f(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$f(t,r,n),n};const EXTERNAL_CONFIG_BASE_URL="https://config-tool.besttoolbars.net/api/configs/export?project=slick&configType=",EXTERNAL_CONFIG_TOKEN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZGIwMjE1NjVkMTkyNjM2NTgzYmU0NWQiLCJpYXQiOjE2NDE5MDI0MDQsImV4cCI6MTY0MTkwNjAwNH0.lyIx3UsIlFnU4ckfPGmOwaeLAPz5krR2axKk4sOIW18",SD_CONFIG_PATH="https://slickdeals.net/attachment/extension/",CONFIG_TYPE_CAA={id:ConfigTypeId.CouponAutoApply,name:"configs",default:defaultCaaConfigs},CONFIG_TYPE_PRODUCT={id:ConfigTypeId.Product,name:"productConfigs",default:defaultProductConfigs},CONFIG_TYPE_CONFIRMATION={id:ConfigTypeId.Confirmation,name:"confirmationConfigs",default:defaultConfirmationConfigs},CONFIG_TYPE_SEARCH={id:ConfigTypeId.Search,name:"searchConfigs",default:defaultSearchConfigs};var CapturerConfigId=(e=>(e[e.Confirmation=0]="Confirmation",e[e.Product=1]="Product",e[e.Search=2]="Search",e[e.UserSuppliedCoupon=3]="UserSuppliedCoupon",e))(CapturerConfigId||{}),_s;let ConfigServiceManager=(_s=class{constructor(){Sr(this,"configServices");Sr(this,"useSdConfigs",!0);this.configServices={[ConfigTypeId.CouponAutoApply]:this.getConfigService(CONFIG_TYPE_CAA),[ConfigTypeId.Product]:this.getConfigService(CONFIG_TYPE_PRODUCT),[ConfigTypeId.Search]:this.getConfigService(CONFIG_TYPE_SEARCH),[ConfigTypeId.Confirmation]:this.getConfigService(CONFIG_TYPE_CONFIRMATION)}}async init(){await this.updateConfigs()}static create(){return ConfigServiceManager.instance=ConfigServiceManager.instance||new ConfigServiceManager,ConfigServiceManager.instance}async updateConfigs(){await MerchantService.update();const e=Object.keys(this.configServices).map(t=>this.configServices[t].update());return Promise.all(e)}getCaaConfigByMerchantId(e){return this.configServices[ConfigTypeId.CouponAutoApply].getById(e)}getCaaConfigByStoreId(e){return this.getConfigByStoreId(CONFIG_TYPE_CAA,e)}getPlatformCaaConfigByUrl(e){return this.configServices[ConfigTypeId.CouponAutoApply].data.find(t=>t.storeID||!t.platform?!1:e.match(new RegExp(t.url,"ig")))}getCapturerConfigsByUrl(e){return{[1]:this.getProductConfigByUrl(e)||null,[2]:this.getSearchConfigByUrl(e)||null,[0]:this.getConfirmationConfigByUrl(e)||null,[3]:this.getCaaConfigByUrl(e)||null}}getCaaConfigByUrl(e){return this.getConfigByUrl(ConfigTypeId.CouponAutoApply,e)||void 0}getProductConfigByUrl(e){return this.getConfigByUrl(ConfigTypeId.Product,e)}getConfirmationConfigByUrl(e){return this.getConfigByUrl(ConfigTypeId.Confirmation,e)}getSearchConfigByUrl(e){return this.getConfigByUrl(ConfigTypeId.Search,e)}getConfigByStoreId(e,t){return this.configServices[e.id].data.find(r=>r.storeID===t)}getConfigByUrl(e,t){return this.configServices[e].getByUrl(t)}getAnyConfigByUrl(e,t){const r=t||UrlService.getSecondLevelDomain(e)||"";return Object.values(this.configServices).find(o=>o.getByUrl(e,r))}getConfigService(e){const t=this.useSdConfigs?`${SD_CONFIG_PATH}${e.id}.config.json`:`${EXTERNAL_CONFIG_BASE_URL}${e.id}`;let r={};return this.useSdConfigs||(r={method:"GET",headers:{Authorization:`Bearer ${EXTERNAL_CONFIG_TOKEN}`}}),ConfigService.create({id:e.id,url:t,options:r,name:e.name,default:e.default})}},Sr(_s,"instance"),_s);ConfigServiceManager=__decorateClass$f([initializable],ConfigServiceManager);var __defProp$e=Object.defineProperty,__getOwnPropDesc$e=Object.getOwnPropertyDescriptor,__decorateClass$e=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$e(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$e(t,r,n),n},ys;let MerchantStates=(ys=class{constructor(e){Sr(this,"states",{});Sr(this,"flushTimer",0);this.cache=e,this.cache=e}static create(){var e;return(e=MerchantStates.instance)!=null||(MerchantStates.instance=new this(LocalStorageCache.create("merchantStates"))),MerchantStates.instance}async init(){this.states=await this.cache.get("states")||{}}flush(){this.flushTimer||(this.flushTimer=setTimeout(()=>{this.flushTimer=0,this.cache.set("states",this.states,LocalStorageCache.TTL.ONE_HOUR*4).then()},5e3))}setState(e,t){if(e){const r=this.getState(e);this.states[e]={...r,...t},this.flush()}}getState(e){return this.states[e]||(this.states[e]={slug:e,showNotification:!0,suppressed:!1,suppressedTabs:[]}),this.states[e]}getStates(){return this.states}setStates(e){this.states=e,this.flush()}},Sr(ys,"instance"),ys);MerchantStates=__decorateClass$e([initializable],MerchantStates);var __defProp$d=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__decorateClass$d=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$d(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$d(t,r,n),n},vs;let MerchantLookupService=(vs=class{constructor(e,t,r,o){this.configServiceManager=e,this.merchantService=t,this.merchantStates=r,this.merchantFetching=o}async init(){await this.configServiceManager.init(),await this.merchantService.init()}static create(){return MerchantLookupService.instance=MerchantLookupService.instance||new MerchantLookupService(ConfigServiceManager.create(),MerchantService.create(),MerchantStates.create(),MerchantFetching.create()),MerchantLookupService.instance}async getMerchantByUrl(e){if(await this.init(),!(e!=null&&e.startsWith("http")))return null;const t=UrlService.getSecondLevelDomain(e);if(!t)return null;const r=this.configServiceManager.getAnyConfigByUrl(e,t);return this.merchantService.getMerchantByUrl(e,!!r)||null}async getMerchantByUrlAndUpdate(e){const t=await this.getMerchantByUrl(e);if(!t)return null;await this.merchantFetching.updateConfig(t),await this.merchantFetching.updateMerchantOffers(t);const r=this.merchantStates.getState(t.slug);return t.suppressed=r.suppressed,t}async getMerchantByUrlForSerpInjection(e){const t=await this.getMerchantByUrlAndUpdate(e);return t&&Object.values(FEATURED_MERCHANTS_ID).includes(t.id)&&(t==null?void 0:t.dealsCount)&&(t==null?void 0:t.dealsCount)>5?t:null}},Sr(vs,"instance"),vs);MerchantLookupService=__decorateClass$d([initializable],MerchantLookupService);var __defProp$c=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__decorateClass$c=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$c(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$c(t,r,n),n},Ss,$i,Da;let MerchantTracking=(Ss=class{constructor(e){Et(this,$i);this.analytics=e}static create(){return MerchantTracking.instance=MerchantTracking.instance||new MerchantTracking(Analytics.create()),MerchantTracking.instance}async init(){await Promise.all([this.analytics.init()])}async track({urlObj:e,title:t,config:r,caaConfig:o}){await this.init();const{hostname:n,pathname:i}=e,s={hostname:n,path:i,title:t};Dr(this,$i,Da).call(this,{caaConfig:o,merchantConfig:r,urlObj:e,page:s})}},$i=new WeakSet,Da=function({caaConfig:e,merchantConfig:t,urlObj:r,page:o}){if(e!=null&&e.platform){const n={category:"Website",action:"Merchant Platform",label:e==null?void 0:e.platform};this.analytics.trackEvent({...n,page:o})}if((e==null?void 0:e.url)&&r.toString().match(new RegExp(e.url,"ig"))&&!(t!=null&&t.caa)){const n={category:"Coupon Auto Apply",action:"Not shown",label:"CAA disabled via merchant config"};this.analytics.trackEvent({...n,page:o})}if(t!=null&&t.trackVisit){let n="CAA Disabled";t.caa&&(n=e?"CAA Enabled":"No CAA Config");const i={category:"Website",action:"Visit",label:n};this.analytics.trackEvent({...i,page:o})}},Sr(Ss,"instance"),Ss);MerchantTracking=__decorateClass$c([initializable],MerchantTracking);const PAGE_FRONTPAGE={path:"/frontpage",title:"Frontpage",type:"frontpage",container:"dealsContainer"},PAGE_STORE_DEALS={path:"/store/deals",title:"Store Deals",type:"store-deals",container:"dealsContainer"},PAGE_COUPONS={path:"/coupons",title:"Coupons",type:"coupons"},PAGE_TRENDING_STORES={path:"/trending-stores",title:"Trending Stores",type:"trending-stores",container:"couponsContainer"},PAGE_SEARCH={path:"/search",title:"Search",type:"search",container:"searchContainer"},PAGE_PROFILE_REWARDS={path:"/profile/rewards",title:"Rewards",type:"rewards",container:"profileContainer"},PAGE_PROFILE_ACCOUNT={path:"/profile/account",title:"Account",type:"account",container:"profileContainer"},PAGE_FLOATING_ICON={path:"/floating-icon",title:"Floating Icon"},PAGE_DEAL_DETAILS_SIDEBAR={path:"/thread",title:"Deal Details Sidebar",type:"ddsb",container:"dealDetailsContainer"},PAGE_AUTH={path:"/auth",title:"Auth",type:"auth",container:"authContainer"},PAGE_RCM_DEALS={path:"/rcm/deals",title:"Google RCM Deals",type:"google-rcm-notification",container:"GoogleRcmNotification"},PAGE_TRENDING_CASHBACK_STORES={path:"/trending-cashback-stores",title:"Trending Cashback Stores",type:"trending-cashback-stores",container:"trendingCashbackStoresContainer"},PAGE_FEEDBACK_FORM={path:"/feedback",title:"Feedback",type:"feedback",container:"feedbackContainer"},PAGE_RCM_COUPONS={path:"/rcm/coupons",title:"Google RCM Coupons",type:"google-rcm-coupons-notification",container:"GoogleRcmNotification"};var __defProp$b=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__decorateClass$b=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$b(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$b(t,r,n),n};function getExtensionWindowCouponsUrl({skipCouponAttribution:e=!1,params:t}){const r=new URLSearchParams;return e&&r.set("skipCouponAttribution","1"),t&&Object.keys(t).length&&Object.keys(t).forEach(o=>{t[o]&&r.set(o,t[o].toString())}),`${PAGE_COUPONS.path}?${r}`}var Ts;let DeepLinkService=(Ts=class{constructor(e,t){this.autoOpenTabs=e,this.requestWatcher=t}static create(){var e;return(e=DeepLinkService.instance)!=null||(DeepLinkService.instance=new this(AutoOpenTabs.create(),RequestWatcher.create())),DeepLinkService.instance}static getDeepLinkUrl({destination:e,extensionDestination:t}){const r=new URLSearchParams;return r.set("url",e),r.set("xtn-url",t),`${EXTENSION_REDIRECT_URL}?${r}`}static getDdsbDeepLink({destination:e,threadId:t,fpPostId:r,minimized:o=!1}){return DeepLinkService.getDeepLinkUrl({destination:e,extensionDestination:DeepLinkService.getDdsbLink({threadId:t,fpPostId:r,minimized:o})})}static getDdsbLink({threadId:e,fpPostId:t,minimized:r=!1}){const o=new URLSearchParams;return o.set("threadId",`${e}`),t&&o.set("fpPostId",`${t}`),r&&o.set("minimized","1"),`${PAGE_DEAL_DETAILS_SIDEBAR.path}?${o}`}init(){this.initDeepLinkWatcher()}initDeepLinkWatcher(){this.requestWatcher.onRequest(({tabId:e,url:t})=>{const r=new URL(t);if(!r.hostname.endsWith("slickdeals.net"))return;const o=r.searchParams.get("xtn-url");!o||this.handleDeepLinkRequest({requestUrl:o,tabId:e})})}handleDeepLinkRequest({requestUrl:e,tabId:t}){if(!e||!t)return;const r={data:{url:e},tabId:t};this.autoOpenTabs.addAutoOpenTab(r)}static handleDeferDeepLink(e){if(e!=null&&e.url)try{const t=new URL(e.url,HOME_URL);if(!["http:","https:"].includes(t.protocol))return;let r=t.toString();if(e!=null&&e.xtnUrl){const o={destination:t.toString(),extensionDestination:e.xtnUrl};r=DeepLinkService.getDeepLinkUrl(o)}browser.tabs.create({url:r.toString(),active:!0})}catch(t){SentryIO.captureException(t)}}},Sr(Ts,"instance"),Ts);DeepLinkService=__decorateClass$b([initializable],DeepLinkService);const ATTRIBUTION_ERROR_NAME_ADBLOCK="AttributionErrorAdblock";class AttributionErrorAdblock extends Error{constructor(t){super(t),this.name=ATTRIBUTION_ERROR_NAME_ADBLOCK}}var __defProp$a=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__decorateClass$a=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$a(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$a(t,r,n),n};const DEFAULT_TIME_DELAY=8e3;var Es,Mi,Li,Pa;let AttributionTabDelayService=(Es=class{constructor(){Et(this,Li);Et(this,Mi,DEFAULT_TIME_DELAY)}static create(){return AttributionTabDelayService.instance=AttributionTabDelayService.instance||new this,AttributionTabDelayService.instance}getTabDelay(e){return Dr(this,Li,Pa).call(this,e)||nt(this,Mi)}},Mi=new WeakMap,Li=new WeakSet,Pa=function(e){var t;return(t=e==null?void 0:e.config)==null?void 0:t.attributionTabDelay},Sr(Es,"instance"),Es);AttributionTabDelayService=__decorateClass$a([initializable],AttributionTabDelayService);var Jo;const In=class{constructor(t){Et(this,Jo,{});this.attributionTabDelayService=t}static create(){return In.instance=In.instance||new this(AttributionTabDelayService.create()),In.instance}getAttributionTab(t){return nt(this,Jo)[t]}deleteAttributionTab(t,r){const o=nt(this,Jo)[t];if(!o)return;const n=this.attributionTabDelayService.getTabDelay(r);o.timer&&clearTimeout(o.timer),o.timer=setTimeout(()=>{o.timer=null,delete nt(this,Jo)[t],browser.tabs.remove(t).catch(i=>{})},n)}setAttributionTab(t){const{tabId:r}=t;return nt(this,Jo)[r]=t,nt(this,Jo)[r]}};let AttributionTabService=In;Jo=new WeakMap,Sr(AttributionTabService,"instance");const mn=class{constructor(){Sr(this,"activationLastSeenTimestamps",{})}static create(){var t;return(t=mn.instance)!=null||(mn.instance=new this),mn.instance}setActivationLastSeen(t){this.activationLastSeenTimestamps[t]=Date.now()}getActivationLastSeen(t){var r;return(r=this.activationLastSeenTimestamps[t])!=null?r:0}deleteActivationLastSeen(t){delete this.activationLastSeenTimestamps[t]}};let LoyaltyActivationLastSeenService=mn;Sr(LoyaltyActivationLastSeenService,"instance");var __defProp$9=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__decorateClass$9=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$9(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$9(t,r,n),n};const DEFAULT_ATTRIBUTION_TIMEOUT=1e3*60*30;var AttributionStatus=(e=>(e[e.TimestampLost=1]="TimestampLost",e[e.TimestampGained=2]="TimestampGained",e[e.HasAttribution=3]="HasAttribution",e[e.HasLostAttribution=4]="HasLostAttribution",e))(AttributionStatus||{}),ws,Fi,xa;let AttributionService=(ws=class{constructor(e,t,r,o){Et(this,Fi);this.merchantStates=e,this.requestService=t,this.tabService=r,this.loyaltyActivationLastSeenService=o}static create(){var e;return AttributionService.instance=(e=AttributionService.instance)!=null?e:new this(MerchantStates.create(),RequestService.create(),TabService.create(),LoyaltyActivationLastSeenService.create()),AttributionService.instance}init(){this.requestService.onAfterResponse(e=>{this.checkResetAttributionHeader(e)})}checkResetAttributionHeader(e){e.headers.has("SD-Reset-Attribution")&&this.resetAttributionStatus()}resetAttributionStatus(){const e=this.merchantStates.getStates();Object.keys(e).forEach(t=>{delete e[t].attributionStatus}),this.merchantStates.setStates(e)}getAttributionStatus(e){return e?(this.clearOutAttributionGainedPastThreshold(e),this.merchantStates.getState(e.slug).attributionStatus):null}clearOutAttributionGainedPastThreshold(e){var o;const r=this.merchantStates.getState(e.slug).attributionStatus;if(r&&this.checkIfAttributionGainIsLatest(r)){const n=Date.now()-this.getAttributionTimeout(e);r[3]&&((o=r[2])!=null?o:0)<=n&&this.setAttributionLost(e)}}checkIfAttributionGainIsLatest(e){var t,r;return!!e&&((t=e[2])!=null?t:0)>((r=e[1])!=null?r:0)}getAttributionTimeout(e){return Dr(this,Fi,xa).call(this,e)||DEFAULT_ATTRIBUTION_TIMEOUT}setAttributionGained(e){this.updateTimestamp(e,2)}setAttributionLost(e){this.updateTimestamp(e,1)}updateTimestamp(e,t){this.updateStatus(e,t,Date.now()),this.updateHasAttribution(e)}updateStatus(e,t,r){var n;const o=this.merchantStates.getState(e.slug);(n=o.attributionStatus)!=null||(o.attributionStatus={}),o.attributionStatus[t]=r,this.merchantStates.setState(e.slug,o)}updateHasAttribution(e){var n,i;const t=this.getAttributionStatus(e);if(!t)return;const r=Boolean(t[3]),o=((n=t[2])!=null?n:0)>((i=t[1])!=null?i:0);if(this.updateStatus(e,3,o),r!==o){this.updateStatus(e,4,r&&!o);const s=this.getAttributionStatus(e);this.tabService.sendBackgroundMessageToMerchantTabs({slug:e.slug,action:"updateAttributionContentData",data:{status:s}}),s[4]&&this.loyaltyActivationLastSeenService.deleteActivationLastSeen(e.id)}}hasAttribution(e){const t=this.getAttributionStatus(e);return t?this.checkIfAttributionGainIsLatest(t):!1}hadSince(e,t){var n;if(!(e&&t>0))return!1;const r=this.getAttributionStatus(e);if(!r)return!1;const o=Date.now()-t;return((n=r[2])!=null?n:0)>=o}hasBeenLost(e){const t=this.getAttributionStatus(e);return t?Boolean(t[4]):!1}wasLostAfter(e,t){var o;const r=this.getAttributionStatus(e);return r?((o=r[1])!=null?o:0)>t:!1}isReactivatable(e){return this.hasBeenLost(e)&&this.hadSince(e,this.getAttributionTimeout(e))}},Fi=new WeakSet,xa=function(e){var t;return(t=e.config)==null?void 0:t.attributionTimeout},Sr(ws,"instance"),ws);AttributionService=__decorateClass$9([initializable],AttributionService);var __defProp$8=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__decorateClass$8=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$8(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$8(t,r,n),n};const DOMAIN_REGEX="slickdeals.net".replace(/\./g,"\\."),ACTIVATION_PATTERN=new RegExp(`^https?://(?:t\\.email\\.${DOMAIN_REGEX}/r/|clicks\\.${DOMAIN_REGEX}|${DOMAIN_REGEX}/.*[?&](?:pno=|cno=|sid=|tid=|u2=|kat=|afsrc=1)|${DOMAIN_REGEX}/(?:extension/redirect/|nl\\.php)\\?.*url=)`),ACTIVATION_TIMEOUT_SECONDS=6,SUPPRESSION_PATTERNS=["sjv.io","ftjcfx.com","commission-junction.com","rover.ebay.com","ebay\\..+\\?.*(mkevt|mkcid|campid)=","partners.hotwire.com","www.pjtra.com",".7eer.","clickserver.com",".r.bat.bing.com","www.pntrs.com","partners.wantable.co","ohost=www.google.com","cc-dt.com",".ojrq.net","goto.orientaltrading.com","www.dpbolvw.net","goto.target.com","www.pntra.com",".evyy.net","affiliates.toysrus.com","www.anrdoezrs.net","www.tkqlhce.com","linksynergy.walmart.com","emjcd.com","partners.jawbone.com","shareasale.com","www.awin1.com","linksynergy.walmart.com","gan.doubleclick.net","tracking.groupon.com","www.pepperjamnetwork.com","rcm-ca.amazon.ca","affiliates.toysrus.com","www.shareasale.com","www.jdoqocy.com","alitems.com","www.kqzyfj.com","goto.orientaltrading.com","affiliates.babiesrus.com","lduhtrp.net","ad.admitad.com","prf.hn",".r.msn.com","apmebf.com","goto.target.com","www.intactearnings.com","click.linksynergy.com","partners.hostgator.com",".avantlink.com","tqlkg.com","partners.wantable.co","go.redirectingat.com","www.pntrac.com","linksynergy.com","www.qksrv.net","www.gopjn.com","affiliates.abebooks.com","www.pjatr.com","afsrc=1","www.mrrebates.com","www.lemoney.com","www.upromise.com","www.couponcactus.com","www.activejunky.com","site=linkshare","utm_medium=af","utm_medium=Affiliate","utm_medium=affiliate","utm_medium=AFF","utm_medium=LinkShare","utm_medium=referral(?!.*utm_source=NewYorker).*","utm_medium=offers","utm_source=rflaid","utm_source=affiliate","cm_mmc=A","cm_mmc=afl","cm_mmc=Linkshare","cm_mmc=LINKSHARE","st=AFF","camp=AFF","&cjevent=","CID=af","scid=af_linkshare","pid=_Aff_LS","PSRC=AFF","veh=aff","cmpid=WTR_AF","ref=tgt_adv_xasd","(ref=[\\d]+)","(&|\\?)tid=..aff?(?=[\\d*])"],SD_AFF_PATTERNS=[new RegExp("slickdeals","i"),new RegExp("\\b(lw9MynSeamY|UbUihDh2awY|vwEY0t8G3Og|WsUwSnE5agY|v2kGD3zDBqA|1225267|9132744|8933687|4485850|7206546|8384280|8520562|8384353|10451|43926|1286257|1194375|1378631|47557|18097|101512|2467|166580|332207|570643|8575135)\\b")],SUPPRESSION_TIMEOUT_MINUTES=30;var Os;let SuppressionService=(Os=class{constructor(e,t,r,o,n,i,s,a){Sr(this,"currentActivations",[]);Sr(this,"currentSuppressions",[]);this.analytics=e,this.attributionService=t,this.attributionTabService=r,this.merchantFetching=o,this.merchantLookupService=n,this.merchantStates=i,this.requestWatcher=s,this.tabService=a}static create(){return SuppressionService.instance=SuppressionService.instance||new this(Analytics.create(),AttributionService.create(),AttributionTabService.create(),MerchantFetching.create(),MerchantLookupService.create(),MerchantStates.create(),RequestWatcher.create(),TabService.create()),SuppressionService.instance}async init(){this.requestWatcher.onRequest(({tabId:e,url:t})=>{this.checkActivationAndSuppression(e,t)}),this.tabService.onRemoved(({tabId:e})=>{this.removeSuppressedTab(e)}),browser.webNavigation.onCreatedNavigationTarget&&browser.webNavigation.onCreatedNavigationTarget.addListener(({tabId:e,sourceTabId:t})=>{const r="ebay";this.isMerchantTabSuppressed({tabId:t,slug:r})&&this.setMerchantSuppression({tabId:e,slug:r,activation:!1})})}checkActivationAndSuppression(e,t){this.isActivationUrl(t)&&this.setActivation({tabId:e}),this.shouldSuppressTab(e,t)&&this.setSuppression({tabId:e,url:t}),this.checkMerchantStatus(e,t)}async checkMerchantStatus(e,t){const r=await this.merchantLookupService.getMerchantByUrl(t);if(!r||r.slug==="slickdeals")return;const o=this.getActivation(e),n=this.getSuppression(e);if(o){this.attributionService.setAttributionGained(r);const a=this.attributionTabService.getAttributionTab(e);a&&a.onComplete&&(a.onComplete(),this.attributionTabService.deleteAttributionTab(e,r)),delete o.onError}else n&&this.attributionService.setAttributionLost(r);if(n&&(clearTimeout(n.timer),this.removeSuppression(e)),await this.merchantFetching.updateConfig(r),r.config&&!r.config.checkSuppression||(this.checkSuppression(r.slug,e),!n&&!o))return;const i=!o&&!!n,s={suppressed:i,activated:!!o,showNotification:!o&&!n};this.merchantStates.setState(r.slug,s),i&&this.recordSuppression(n.url,r.slug,e),this.setMerchantSuppression({tabId:e,slug:r.slug,activation:!!o})}isActivationUrl(e){return e?ACTIVATION_PATTERN.test(e):!1}shouldSuppressTab(e,t){return this.getActivation(e)||!this.isSuppressionUrl(t)?!1:SD_AFF_PATTERNS.find(o=>o.test(t))?(this.analytics.trackEvent({category:"Merchant Suppression",action:"SD Affiliate"}),!1):!0}isSuppressionUrl(e){return SUPPRESSION_PATTERNS.find(t=>{try{return e.search(t)>-1}catch(r){return e.indexOf(t)>0}})!==void 0}getActivation(e){return this.currentActivations.find(t=>t.tabId===e)}setActivation(e){let t=this.getActivation(e.tabId);t||(t={tabId:e.tabId,store:e.store,onError:e.onError},this.currentActivations.push(t)),this.removeSuppression(t.tabId),clearTimeout(t==null?void 0:t.timer),t.timer=setTimeout(()=>{!(t!=null&&t.tabId)||this.removeActivation(t==null?void 0:t.tabId)},ACTIVATION_TIMEOUT_SECONDS*1e3)}removeActivation(e){this.removeTab(e,this.currentActivations)}getSuppression(e){return this.currentSuppressions.find(t=>t.tabId===e)}setSuppression(e){let t=this.getSuppression(e.tabId);t||(t=e,this.currentSuppressions.push(t)),clearTimeout(t==null?void 0:t.timer),t.timer=setTimeout(()=>{this.removeSuppression(e.tabId)},ACTIVATION_TIMEOUT_SECONDS*1e3)}removeSuppression(e){this.removeTab(e,this.currentSuppressions)}removeTab(e,t){const r=t.findIndex(o=>o.tabId===e);r!==-1&&t.splice(r,1)}async recordSuppression(e,t,r){try{const o=e?new URL(e):null,n=await this.tabService.getTabUrl(r),i={category:"Merchant suppression",action:n||"unknown",label:t,page:o?{hostname:o==null?void 0:o.hostname,path:o.pathname+o.search,title:"Suppressed URL"}:void 0};this.analytics.trackEvent(i)}catch(o){}}isMerchantSuppressed(e){const t=this.merchantStates.getState(e);return Boolean(t.suppressed)}clearMerchantSuppression(e){if(!e)return;const t=this.merchantStates.getState(e);t&&(t.suppressed=!1,t.suppressedTabs&&t.suppressedTabs.length&&(t.suppressedTabs=[]))}setMerchantSuppression({tabId:e,slug:t,activation:r}){if(!t||r)return;const o=this.merchantStates.getState(t);o&&(o.suppressed=!0,(!o.suppressedTabs||!o.suppressedTabs.length)&&(o.suppressedTabs=[]),o.suppressedTabs.find(n=>n.tabId===e)||o.suppressedTabs.push({tabId:e,timestamp:new Date().getTime()}),this.merchantStates.setState(t,o))}isMerchantTabSuppressed({tabId:e,slug:t}){var n,i;if(!(e&&t))return!1;const r=this.merchantStates.getState(t),o=(n=r==null?void 0:r.suppressedTabs)==null?void 0:n.find(s=>s.tabId===e);return o?o.timestamp&&Date.now()-o.timestamp>SUPPRESSION_TIMEOUT_MINUTES*60*1e3?(r.suppressedTabs=(i=r.suppressedTabs)==null?void 0:i.filter(s=>s.tabId!==e),!1):!0:!1}checkSuppression(e,t){var n;if(!e||!t)return;const r=this.merchantStates.getState(e);if(!r)return;const o=r.suppressedTabs&&r.suppressedTabs.length&&r.suppressedTabs.find(i=>i.tabId===t);if(r.suppressed&&!o&&(r.suppressed=!1),o&&o.timestamp&&new Date().getTime()-o.timestamp>SUPPRESSION_TIMEOUT_MINUTES*60*1e3){r.suppressed=!1,r.suppressedTabs=(n=r.suppressedTabs)==null?void 0:n.filter(i=>i.tabId!==t);return}!r.suppressed&&o&&(r.suppressed=!0)}removeSuppressedTab(e){if(!e)return;const t=this.merchantStates.getStates();Object.values(t).forEach(r=>{var o;if((r==null?void 0:r.slug)&&r.suppressedTabs&&r.suppressedTabs.find(n=>n.tabId===e)){const n=t[r.slug];n&&(n.suppressedTabs=(o=n.suppressedTabs)==null?void 0:o.filter(i=>i.tabId!==e),n.suppressed=!1,this.merchantStates.setState(r.slug,n))}})}clearActivationForTab(e){if(!e)return;const t=this.getActivation(e);t&&(clearTimeout(t.timer),this.removeActivation(e))}},Sr(Os,"instance"),Os);SuppressionService=__decorateClass$8([initializable],SuppressionService);var __defProp$7=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__decorateClass$7=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$7(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$7(t,r,n),n},As,Ui,Na,rn,wn;let OutclickService=(As=class{constructor(e,t,r,o,n,i,s){Et(this,Ui);Et(this,rn);this.attributionTabService=e,this.deepLinkService=t,this.merchantStates=r,this.navigationService=o,this.requestService=n,this.suppressionService=i,this.tabService=s}static create(){return OutclickService.instance=OutclickService.instance||new this(AttributionTabService.create(),DeepLinkService.create(),MerchantStates.create(),NavigationService.create(),RequestService.create(),SuppressionService.create(),TabService.create()),OutclickService.instance}async shopStoreOutclick(e){const{outclickUrl:t,tabUrl:r,src:o="Shop Store"}=e,n=await Dr(this,rn,wn).call(this,{url:t,location:r,src:o}).catch(i=>SentryIO.captureException(i));if(n!=null&&n.url){const i=await this.navigationService.openPage({url:n.url,newTab:!0,focused:!0});if(!i)return;this.deepLinkService.handleDeepLinkRequest({requestUrl:PAGE_COUPONS.path,tabId:Number(i.id)}),this.suppressionService.setActivation({tabId:i.id,url:i.url})}}async dealOutclick(e){const{dealDetailsUrl:t,disableDirectToMerchant:r,outclickUrl:o,src:n,store:i,tabId:s}=e;let a;if(s){const c=await this.tabService.get(s);a=c==null?void 0:c.url}if(r)this.navigationService.openPage({url:t,newTab:!0});else{const c=new URL(t,`https://${DOMAIN}`);c.searchParams.set("exp","brx");const l=await Dr(this,rn,wn).call(this,{url:o,location:a,src:n,store:i});if(!(l!=null&&l.skipTab)&&(l==null?void 0:l.url)){const y=DealDetailsService.getThreadIdFromPath(c.pathname),me=await this.navigationService.openPage({url:l.url,newTab:!0});me&&(this.deepLinkService.handleDeepLinkRequest({requestUrl:DeepLinkService.getDdsbLink({threadId:y,minimized:!1}),tabId:Number(me.id)}),this.suppressionService.setActivation({tabId:me.id,url:me.url,store:i}))}}}async couponOutclick(e){const t=await this.getCouponDestinations(e);if(!t)return;const r=await this.navigationService.openPage({url:t.destination,newTab:!0,focused:!1});r!=null&&r.id&&(this.suppressionService.setActivation({tabId:r.id,url:r.url,store:e==null?void 0:e.store}),this.deepLinkService.handleDeepLinkRequest({requestUrl:t.extensionDestination,tabId:r.id}))}async attribution(e){const{targetUrl:t,outUrl:r}=e;if(t&&browser.tabs.create({url:t,active:!0}),r)try{await Dr(this,Ui,Na).call(this,e)}catch(o){if(o instanceof AttributionErrorAdblock)return{error:{name:ATTRIBUTION_ERROR_NAME_ADBLOCK,message:o.message}}}}async getCouponDestinations(e){const{couponId:t,outUrl:r,src:o,store:n,trackingParameters:i}=e;let s;if(!s){const l=await this.tabService.getActiveTab();s=l==null?void 0:l.url}const a=OutclickService.getAttributionUrlString(r,s,i),c=await Dr(this,rn,wn).call(this,{url:a,location:s,src:o,store:n});if(!!c)return{destination:c.url,extensionDestination:getExtensionWindowCouponsUrl(t?{params:{couponId:t}}:{})}}static getAttributionUrlString(e,t,r){return e&&t?OutclickService.getAttributionUrl(e,t,r).toString():""}static getAttributionUrl(e,t,r){const o=new URL(e),n={utm_medium:"extension",utm_source:t?new URL(t).hostname:"",utm_campaign:"caa",utm_content:"caa",utm_term:"caa"},i=r&&Object.keys(r).length?r:n;return Object.keys(i).forEach(s=>{o.searchParams.set(s,i[s])}),o}async createAttributionTab(e,t,r={},o=()=>{},n=i=>i){let i;if(e){const{closeTab:s=!0,isActive:a}=r;try{i=await browser.tabs.create({url:e,active:Boolean(a)})}catch(c){n(c);return}i&&i.id&&(this.suppressionService.setActivation({tabId:i.id,url:i.url,store:t,onError:n}),s?this.attributionTabService.setAttributionTab({tabId:i.id,onComplete:o}):o(),this.suppressionService.clearMerchantSuppression(t.slug))}}},Ui=new WeakSet,Na=async function(e){const{src:t,store:r,outUrl:o,trackingParameters:n,attributionTabOptions:i}=e;let s;if(!s){const l=await this.tabService.getActiveTab();s=l==null?void 0:l.url}const a=OutclickService.getAttributionUrlString(o,s,n),c=await Dr(this,rn,wn).call(this,{url:a,location:s,src:t,store:r});if(!(!c||(c==null?void 0:c.skipTab)))return new Promise((l,y)=>{this.createAttributionTab(c.url,r,i,l,y)})},rn=new WeakSet,wn=async function(e){const{url:t,location:r,src:o="ext_attribution",store:n}=e;let i=!1;if(n&&n.slug){const y=this.merchantStates.getState(n.slug);i=!!(y&&y.suppressed)}let s="";if(r)try{s=new URL(r).origin}catch(y){}const a={url:t,src:o,location:s,suppressed:i},c={body:JSON.stringify(a)},l=await this.requestService.post(OUTCLICK_URL,c).json().catch(y=>{console.error(y)});return l?l.strategies[0]:null},Sr(As,"instance"),As);OutclickService=__decorateClass$7([initializable],OutclickService);var uaParser={exports:{}};(function(e,t){(function(r,o){var n="1.0.32",i="",s="?",a="function",c="undefined",l="object",y="string",me="major",se="model",ge="name",be="type",_e="vendor",Ue="version",xt="architecture",so="console",yt="mobile",Ge="tablet",Zr="smarttv",ro="wearable",Qr="embedded",ot=350,Xe="Amazon",Gr="Apple",zr="ASUS",wt="BlackBerry",Kr="Browser",ao="Chrome",to="Edge",io="Firefox",eo="Google",co="Huawei",ho="LG",bo="Microsoft",lo="Motorola",vo="Opera",po="Samsung",Oo="Sharp",uo="Sony",Ao="Xiaomi",_o="Zebra",Eo="Facebook",$o=function(qe,Ye){var bt={};for(var Pr in qe)Ye[Pr]&&Ye[Pr].length%2===0?bt[Pr]=Ye[Pr].concat(qe[Pr]):bt[Pr]=qe[Pr];return bt},To=function(qe){for(var Ye={},bt=0;bt<qe.length;bt++)Ye[qe[bt].toUpperCase()]=qe[bt];return Ye},wo=function(qe,Ye){return typeof qe===y?He(Ye).indexOf(He(qe))!==-1:!1},He=function(qe){return qe.toLowerCase()},u=function(qe){return typeof qe===y?qe.replace(/[^\d\.]/g,i).split(".")[0]:o},b=function(qe,Ye){if(typeof qe===y)return qe=qe.replace(/^\s\s*/,i).replace(/\s\s*$/,i),typeof Ye===c?qe:qe.substring(0,ot)},d=function(qe,Ye){for(var bt=0,Pr,$r,fo,oo,mo,yo;bt<Ye.length&&!mo;){var ko=Ye[bt],Lo=Ye[bt+1];for(Pr=$r=0;Pr<ko.length&&!mo;)if(mo=ko[Pr++].exec(qe),mo)for(fo=0;fo<Lo.length;fo++)yo=mo[++$r],oo=Lo[fo],typeof oo===l&&oo.length>0?oo.length===2?typeof oo[1]==a?this[oo[0]]=oo[1].call(this,yo):this[oo[0]]=oo[1]:oo.length===3?typeof oo[1]===a&&!(oo[1].exec&&oo[1].test)?this[oo[0]]=yo?oo[1].call(this,yo,oo[2]):o:this[oo[0]]=yo?yo.replace(oo[1],oo[2]):o:oo.length===4&&(this[oo[0]]=yo?oo[3].call(this,yo.replace(oo[1],oo[2])):o):this[oo]=yo||o;bt+=2}},ye=function(qe,Ye){for(var bt in Ye)if(typeof Ye[bt]===l&&Ye[bt].length>0){for(var Pr=0;Pr<Ye[bt].length;Pr++)if(wo(Ye[bt][Pr],qe))return bt===s?o:bt}else if(wo(Ye[bt],qe))return bt===s?o:bt;return qe},Pe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Fe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Ue,[ge,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Ue,[ge,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ge,Ue],[/opios[\/ ]+([\w\.]+)/i],[Ue,[ge,vo+" Mini"]],[/\bopr\/([\w\.]+)/i],[Ue,[ge,vo]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[ge,Ue],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Ue,[ge,"UC"+Kr]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[Ue,[ge,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[Ue,[ge,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Ue,[ge,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Ue,[ge,"IE"]],[/yabrowser\/([\w\.]+)/i],[Ue,[ge,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[ge,/(.+)/,"$1 Secure "+Kr],Ue],[/\bfocus\/([\w\.]+)/i],[Ue,[ge,io+" Focus"]],[/\bopt\/([\w\.]+)/i],[Ue,[ge,vo+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Ue,[ge,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Ue,[ge,"Dolphin"]],[/coast\/([\w\.]+)/i],[Ue,[ge,vo+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Ue,[ge,"MIUI "+Kr]],[/fxios\/([-\w\.]+)/i],[Ue,[ge,io]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ge,"360 "+Kr]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[ge,/(.+)/,"$1 "+Kr],Ue],[/(comodo_dragon)\/([\w\.]+)/i],[[ge,/_/g," "],Ue],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[ge,Ue],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[ge],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ge,Eo],Ue],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[ge,Ue],[/\bgsa\/([\w\.]+) .*safari\//i],[Ue,[ge,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Ue,[ge,ao+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ge,ao+" WebView"],Ue],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Ue,[ge,"Android "+Kr]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ge,Ue],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Ue,[ge,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Ue,ge],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ge,[Ue,ye,Pe]],[/(webkit|khtml)\/([\w\.]+)/i],[ge,Ue],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ge,"Netscape"],Ue],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Ue,[ge,io+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ge,Ue]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[xt,"amd64"]],[/(ia32(?=;))/i],[[xt,He]],[/((?:i[346]|x)86)[;\)]/i],[[xt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[xt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[xt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[xt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[xt,/ower/,i,He]],[/(sun4\w)[;\)]/i],[[xt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[xt,He]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[se,[_e,po],[be,Ge]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[se,[_e,po],[be,yt]],[/\((ip(?:hone|od)[\w ]*);/i],[se,[_e,Gr],[be,yt]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[se,[_e,Gr],[be,Ge]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[se,[_e,co],[be,Ge]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[se,[_e,co],[be,yt]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[se,/_/g," "],[_e,Ao],[be,yt]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[se,/_/g," "],[_e,Ao],[be,Ge]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[se,[_e,"OPPO"],[be,yt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[se,[_e,"Vivo"],[be,yt]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[se,[_e,"Realme"],[be,yt]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[se,[_e,lo],[be,yt]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[se,[_e,lo],[be,Ge]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[se,[_e,ho],[be,Ge]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[se,[_e,ho],[be,yt]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[se,[_e,"Lenovo"],[be,Ge]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[se,/_/g," "],[_e,"Nokia"],[be,yt]],[/(pixel c)\b/i],[se,[_e,eo],[be,Ge]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[se,[_e,eo],[be,yt]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[se,[_e,uo],[be,yt]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[se,"Xperia Tablet"],[_e,uo],[be,Ge]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[se,[_e,"OnePlus"],[be,yt]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[se,[_e,Xe],[be,Ge]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[se,/(.+)/g,"Fire Phone $1"],[_e,Xe],[be,yt]],[/(playbook);[-\w\),; ]+(rim)/i],[se,_e,[be,Ge]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[se,[_e,wt],[be,yt]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[se,[_e,zr],[be,Ge]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[se,[_e,zr],[be,yt]],[/(nexus 9)/i],[se,[_e,"HTC"],[be,Ge]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[_e,[se,/_/g," "],[be,yt]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[se,[_e,"Acer"],[be,Ge]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[se,[_e,"Meizu"],[be,yt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[se,[_e,Oo],[be,yt]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_e,se,[be,yt]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_e,se,[be,Ge]],[/(surface duo)/i],[se,[_e,bo],[be,Ge]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[se,[_e,"Fairphone"],[be,yt]],[/(u304aa)/i],[se,[_e,"AT&T"],[be,yt]],[/\bsie-(\w*)/i],[se,[_e,"Siemens"],[be,yt]],[/\b(rct\w+) b/i],[se,[_e,"RCA"],[be,Ge]],[/\b(venue[\d ]{2,7}) b/i],[se,[_e,"Dell"],[be,Ge]],[/\b(q(?:mv|ta)\w+) b/i],[se,[_e,"Verizon"],[be,Ge]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[se,[_e,"Barnes & Noble"],[be,Ge]],[/\b(tm\d{3}\w+) b/i],[se,[_e,"NuVision"],[be,Ge]],[/\b(k88) b/i],[se,[_e,"ZTE"],[be,Ge]],[/\b(nx\d{3}j) b/i],[se,[_e,"ZTE"],[be,yt]],[/\b(gen\d{3}) b.+49h/i],[se,[_e,"Swiss"],[be,yt]],[/\b(zur\d{3}) b/i],[se,[_e,"Swiss"],[be,Ge]],[/\b((zeki)?tb.*\b) b/i],[se,[_e,"Zeki"],[be,Ge]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_e,"Dragon Touch"],se,[be,Ge]],[/\b(ns-?\w{0,9}) b/i],[se,[_e,"Insignia"],[be,Ge]],[/\b((nxa|next)-?\w{0,9}) b/i],[se,[_e,"NextBook"],[be,Ge]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_e,"Voice"],se,[be,yt]],[/\b(lvtel\-)?(v1[12]) b/i],[[_e,"LvTel"],se,[be,yt]],[/\b(ph-1) /i],[se,[_e,"Essential"],[be,yt]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[se,[_e,"Envizen"],[be,Ge]],[/\b(trio[-\w\. ]+) b/i],[se,[_e,"MachSpeed"],[be,Ge]],[/\btu_(1491) b/i],[se,[_e,"Rotor"],[be,Ge]],[/(shield[\w ]+) b/i],[se,[_e,"Nvidia"],[be,Ge]],[/(sprint) (\w+)/i],[_e,se,[be,yt]],[/(kin\.[onetw]{3})/i],[[se,/\./g," "],[_e,bo],[be,yt]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[se,[_e,_o],[be,Ge]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[se,[_e,_o],[be,yt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_e,se,[be,so]],[/droid.+; (shield) bui/i],[se,[_e,"Nvidia"],[be,so]],[/(playstation [345portablevi]+)/i],[se,[_e,uo],[be,so]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[se,[_e,bo],[be,so]],[/smart-tv.+(samsung)/i],[_e,[be,Zr]],[/hbbtv.+maple;(\d+)/i],[[se,/^/,"SmartTV"],[_e,po],[be,Zr]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_e,ho],[be,Zr]],[/(apple) ?tv/i],[_e,[se,Gr+" TV"],[be,Zr]],[/crkey/i],[[se,ao+"cast"],[_e,eo],[be,Zr]],[/droid.+aft(\w)( bui|\))/i],[se,[_e,Xe],[be,Zr]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[se,[_e,Oo],[be,Zr]],[/(bravia[\w ]+)( bui|\))/i],[se,[_e,uo],[be,Zr]],[/(mitv-\w{5}) bui/i],[se,[_e,Ao],[be,Zr]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[_e,b],[se,b],[be,Zr]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[be,Zr]],[/((pebble))app/i],[_e,se,[be,ro]],[/droid.+; (glass) \d/i],[se,[_e,eo],[be,ro]],[/droid.+; (wt63?0{2,3})\)/i],[se,[_e,_o],[be,ro]],[/(quest( 2)?)/i],[se,[_e,Eo],[be,ro]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_e,[be,Qr]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[se,[be,yt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[se,[be,Ge]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[be,Ge]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[be,yt]],[/(android[-\w\. ]{0,9});.+buil/i],[se,[_e,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Ue,[ge,to+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Ue,[ge,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[ge,Ue],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Ue,ge]],os:[[/microsoft (windows) (vista|xp)/i],[ge,Ue],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[ge,[Ue,ye,Ne]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ge,"Windows"],[Ue,ye,Ne]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[Ue,/_/g,"."],[ge,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ge,"Mac OS"],[Ue,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Ue,ge],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ge,Ue],[/\(bb(10);/i],[Ue,[ge,wt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Ue,[ge,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Ue,[ge,io+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Ue,[ge,"webOS"]],[/crkey\/([\d\.]+)/i],[Ue,[ge,ao+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[ge,"Chromium OS"],Ue],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ge,Ue],[/(sunos) ?([\w\.\d]*)/i],[[ge,"Solaris"],Ue],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[ge,Ue]]},Se=function(qe,Ye){if(typeof qe===l&&(Ye=qe,qe=o),!(this instanceof Se))return new Se(qe,Ye).getResult();var bt=qe||(typeof r!==c&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:i),Pr=Ye?$o(Fe,Ye):Fe;return this.getBrowser=function(){var $r={};return $r[ge]=o,$r[Ue]=o,d.call($r,bt,Pr.browser),$r.major=u($r.version),$r},this.getCPU=function(){var $r={};return $r[xt]=o,d.call($r,bt,Pr.cpu),$r},this.getDevice=function(){var $r={};return $r[_e]=o,$r[se]=o,$r[be]=o,d.call($r,bt,Pr.device),$r},this.getEngine=function(){var $r={};return $r[ge]=o,$r[Ue]=o,d.call($r,bt,Pr.engine),$r},this.getOS=function(){var $r={};return $r[ge]=o,$r[Ue]=o,d.call($r,bt,Pr.os),$r},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return bt},this.setUA=function($r){return bt=typeof $r===y&&$r.length>ot?b($r,ot):$r,this},this.setUA(bt),this};Se.VERSION=n,Se.BROWSER=To([ge,Ue,me]),Se.CPU=To([xt]),Se.DEVICE=To([se,_e,be,so,yt,Zr,Ge,ro,Qr]),Se.ENGINE=Se.OS=To([ge,Ue]),e.exports&&(t=e.exports=Se),t.UAParser=Se;var We=typeof r!==c&&(r.jQuery||r.Zepto);if(We&&!We.ua){var ze=new Se;We.ua=ze.getResult(),We.ua.get=function(){return ze.getUA()},We.ua.set=function(qe){ze.setUA(qe);var Ye=ze.getResult();for(var bt in Ye)We.ua[bt]=Ye[bt]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);const UAParser=uaParser.exports;var __defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$6(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$6(t,r,n),n},ks;let LocalBrowserStorage=(ks=class{static create(){var e;return LocalBrowserStorage.instance=(e=LocalBrowserStorage.instance)!=null?e:new this,LocalBrowserStorage.instance}setLocalStorage(e){return browser.storage.local.set(e)}getLocalStorage(e){return browser.storage.local.get(e)}removeFromLocalStorage(e){return browser.storage.local.remove(e)}},Sr(ks,"instance"),ks);LocalBrowserStorage=__decorateClass$6([initializable],LocalBrowserStorage);var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$5(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$5(t,r,n),n};const EVENT_ACTION="Installed",ACTION_TYPE="install",parser=new UAParser;var Cs,Bi,Bn,vn,ji,$a;let OnInstallService=(Cs=class{constructor(e,t,r,o,n){Et(this,ji);Et(this,Bi,MANIFEST_VERSION);Et(this,Bn,parser.getBrowser());Et(this,vn,!1);this.analytics=e,this.authorization=t,this.requestService=r,this.localBrowserStorage=o,this.allowTrackingService=n}static create(){return OnInstallService.instance=OnInstallService.instance||new OnInstallService(Analytics.create(),Authorization.create(),RequestService.create(),LocalBrowserStorage.create(),AllowTrackingService.create()),OnInstallService.instance}async init(){await this.authorization.init()}async trackInstall(e=!1,t=null){var o,n,i,s;if(await this.init(),!this.allowTrackingService.isTrackingAllowed()){this.localBrowserStorage.setLocalStorage({skippedTrackInstall:!0});return}try{const a=await Dr(this,ji,$a).call(this);a&&No(this,vn,a)}catch(a){console.error("OnInstallService.init error",a)}let r={appVersion:encodeURIComponent(nt(this,Bi)),browserInfo:{type:encodeURIComponent((n=(o=nt(this,Bn))==null?void 0:o.name)!=null?n:"unknown"),version:encodeURIComponent((s=(i=nt(this,Bn))==null?void 0:i.version)!=null?s:"unknown")}};t&&(r={...r,installEventId:t}),e&&this.analytics.track(ACTION_TYPE,r),this.analytics.trackEvent({category:"Extension",action:EVENT_ACTION,...nt(this,vn)?{trafficSource:nt(this,vn)}:{}},{trackInternally:e})}async trackDeferredInstall(){const{skippedTrackInstall:e}=await this.localBrowserStorage.getLocalStorage("skippedTrackInstall");e&&(this.trackInstall(!1),await this.localBrowserStorage.removeFromLocalStorage("skippedTrackInstall"))}},Bi=new WeakMap,Bn=new WeakMap,vn=new WeakMap,ji=new WeakSet,$a=async function(){try{return await this.requestService.fetch(`${INTERNAL_TRACKING_URL}installAttribution`).json()}catch(e){return!1}},Sr(Cs,"instance"),Cs);OnInstallService=__decorateClass$5([initializable],OnInstallService);var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$4(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$4(t,r,n),n};const BROWSER_BADGE_DEFAULT_BACKGROUND_COLOR="#e23173",EXTENSION_SHORT_NAME="Slickdeals";var Rs,Hi,Wi,Gi,Vi,jn,Hn,Wn,Fs,Sn,Yn,zi,Ma,qi,La,Yi,Fa,Ki,Ua,Ji,Ba,Xi,ja,on,On;let IconService=(Rs=class{constructor(e,t,r){Et(this,Wn);Et(this,Sn);Et(this,zi);Et(this,qi);Et(this,Yi);Et(this,Ki);Et(this,Ji);Et(this,Xi);Et(this,on);Et(this,Hi,BROWSER_BADGE_DEFAULT_BACKGROUND_COLOR);Et(this,Wi,{text:"!",backgroundColor:BROWSER_BADGE_DEFAULT_BACKGROUND_COLOR});Et(this,Gi,{path:"/icons/",dimensions:[16,19,32,38]});Et(this,Vi,{path:"/icons/monochrome/",dimensions:[16,19,32,38]});Et(this,jn,async({tabId:e})=>{try{const t=await this.tabService.getActiveTab();e===(t==null?void 0:t.id)&&(this.updateBadge({tabId:e,url:t==null?void 0:t.url}),this.updateIcon({tabId:e,url:t==null?void 0:t.url}))}catch(t){}});Et(this,Hn,async(e,t,r)=>{if(!!(t!=null&&t.status))try{const o=t!=null&&t.url?t.url:r.url;t.status==="loading"&&(this.updateBadge({tabId:e,url:o,trackActivation:!0}),this.updateIcon({tabId:e,url:o}))}catch(o){}});this.merchantLookupService=e,this.tabService=t,this.analytics=r}static create(){var e;return(e=IconService.instance)!=null||(IconService.instance=new this(MerchantLookupService.create(),TabService.create(),Analytics.create())),IconService.instance}init(){this.tabService.init(),browser.tabs.onActivated.hasListener(nt(this,jn))||browser.tabs.onActivated.addListener(nt(this,jn)),browser.tabs.onUpdated.hasListener(nt(this,Hn))||browser.tabs.onUpdated.addListener(nt(this,Hn))}async updateBadge({tabId:e,url:t,trackActivation:r=!1}){try{if(!t||!e)return;const o=await this.merchantLookupService.getMerchantByUrlAndUpdate(t);if(!o||!o.isMerchant){Dr(this,zi,Ma).call(this,e);return}if(o.suppressed){Dr(this,Sn,Yn).call(this,{tabId:e,badge:nt(this,Wi)});return}const{couponsCount:n=0,dealsCount:i=0}=o,s=getCouponTabCouponCount(o)+i,a={text:Dr(this,Ji,Ba).call(this,s),title:Dr(this,Xi,ja).call(this,{merchant:o,couponsCount:n,dealsCount:i})};Dr(this,Sn,Yn).call(this,{tabId:e,badge:a}),r&&this.analytics.trackEvent({category:"Browser Icon",action:"Activated By Merchant"})}catch(o){SentryIO.captureException(o)}}async updateIcon({tabId:e,url:t}){if(!t||!e)return;const r=await this.merchantLookupService.getMerchantByUrlAndUpdate(t);if({}.VITE_DISABLE_INACTIVE_ICON_UPDATE!=="1"&&!r){Dr(this,Wn,Fs).call(this,{tabId:e,imageObject:nt(this,Vi)});return}this.activateIcon({tabId:e})}activateIcon({tabId:e}){Dr(this,Wn,Fs).call(this,{tabId:e,imageObject:nt(this,Gi)})}},Hi=new WeakMap,Wi=new WeakMap,Gi=new WeakMap,Vi=new WeakMap,jn=new WeakMap,Hn=new WeakMap,Wn=new WeakSet,Fs=async function({tabId:e,imageObject:t}){var i;const{path:r,dimensions:o}=t,n=o.reduce((s,a)=>({...s,[a]:`${r}${a}.png`}),{});await((i=browser.action)!=null?i:browser.browserAction).setIcon({path:n,tabId:e}).catch(s=>{Dr(this,on,On).call(this,s)})},Sn=new WeakSet,Yn=function({tabId:e,badge:t}){const{text:r="",title:o="",backgroundColor:n=nt(this,Hi)}=t;Dr(this,qi,La).call(this,{tabId:e,color:n}),Dr(this,Yi,Fa).call(this,{tabId:e,text:r}),Dr(this,Ki,Ua).call(this,{tabId:e,title:o})},zi=new WeakSet,Ma=function(e){Dr(this,Sn,Yn).call(this,{tabId:e,badge:{text:""}})},qi=new WeakSet,La=async function({tabId:e,color:t}){var r;await((r=browser.action)!=null?r:browser.browserAction).setBadgeBackgroundColor({color:t,tabId:e}).catch(o=>{Dr(this,on,On).call(this,o)})},Yi=new WeakSet,Fa=async function({tabId:e,text:t}){var r;await((r=browser.action)!=null?r:browser.browserAction).setBadgeText({text:t,tabId:e}).catch(o=>{Dr(this,on,On).call(this,o)})},Ki=new WeakSet,Ua=async function({tabId:e,title:t}){var r;await((r=browser.action)!=null?r:browser.browserAction).setTitle({tabId:e,title:t}).catch(o=>{Dr(this,on,On).call(this,o)})},Ji=new WeakSet,Ba=function(e){return e>99?"99+":e>0?e.toString():""},Xi=new WeakSet,ja=function({merchant:e,couponsCount:t=0,dealsCount:r=0}){if(t+r===0)return"";let o=`${EXTENSION_SHORT_NAME} found `;return r>1?o+=`${r} deals`:r===1&&(o+=`${r} deal`),t>0&&r>0&&(o+=" and "),t>1?o+=`${t} coupons`:t===1&&(o+=`${t} coupon`),o+=` for ${e==null?void 0:e.name}.`,o},on=new WeakSet,On=function(e){if(!browser.runtime.lastError)return;const{message:t}=browser.runtime.lastError;(t==null?void 0:t.startsWith("No tab with id"))||(t==null?void 0:t.startsWith("Invalid tab ID"))||SentryIO.captureException(e)},Sr(Rs,"instance"),Rs);IconService=__decorateClass$4([initializable],IconService);var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$3(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$3(t,r,n),n},Is;let DealDetailsOutclick=(Is=class{constructor(){Sr(this,"currentThreadId",null);Sr(this,"tabUrl","")}static create(){var e;return DealDetailsOutclick.instance=(e=DealDetailsOutclick.instance)!=null?e:new this,DealDetailsOutclick.instance}async init(){var e;this.currentThreadId=DealDetailsService.getThreadIdFromPath(window.location.pathname),this.currentThreadId&&(this.tabUrl=(e=await sendMessage("getTabUrl",null))!=null?e:"unknown",this.updateOutclickElements())}updateOutclickElements(){this.getOutclickElements().forEach(this.updateOutclickElement.bind(this))}getOutclickElements(){return Array.from(document.querySelectorAll(`a[data-outclick-typeofoutclick]:not([data-product-exitwebsite="${DOMAIN}"])`))}updateOutclickElement(e){const t=new URL(e.href),r=t.searchParams.get("u2");t.searchParams.set("location",this.tabUrl);const o=DeepLinkService.getDdsbLink({threadId:this.currentThreadId,minimized:!0});t.searchParams.set("xtn-url",o),r&&(t.searchParams.delete("u2"),t.searchParams.set("u2",r)),e.href=t.href}},Sr(Is,"instance"),Is);DealDetailsOutclick=__decorateClass$3([initializable],DealDetailsOutclick);class WatcherService{static watchForReplaceWith(t,r,o){const n=document.querySelector(t);n&&n.parentElement&&new MutationObserver((s,a)=>{s.forEach(c=>{c.addedNodes.length&&c.addedNodes.forEach(l=>{l instanceof Element&&l.matches(r)&&(o(l),a.disconnect())})})}).observe(n.parentElement,{childList:!0})}static watchChildList(t,r){const o=document.querySelectorAll(t);(o==null?void 0:o.length)>0&&o.forEach(n=>{new MutationObserver((s,a)=>{r(n),a.disconnect()}).observe(n,{childList:!0})})}}var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$2(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$2(t,r,n),n},Ds;let FrontpageDirectToMerchant=(Ds=class{constructor(){Sr(this,"outclickMst","Feature:Extension:fpDirect|Extension:Distribution:firefox-v2");Sr(this,"missingTidPnoError","Need to pass tid or pno");Sr(this,"fpSelectors",null)}static create(){var e;return FrontpageDirectToMerchant.instance=(e=FrontpageDirectToMerchant.instance)!=null?e:new this,FrontpageDirectToMerchant.instance}async init(){window.location.pathname==="/"&&await this.attachFpClickHandler()}async attachFpClickHandler(){const e=await sendMessage("getUserOptionValue",{key:OptionKey.FpDirectToMerchant},"background");await this.initializeFPDirectToMerchant(e)}async initializeFPDirectToMerchant(e){!e||(this.fpSelectors||await this.fetchSelectors(),this.rewriteFpLinksToMerchant(document),this.watchDocument())}async fetchSelectors(){const e=await fetchForContentScript([ExtensionConfigKey.FpTileSelector,ExtensionConfigKey.FpTileStoreSelector,ExtensionConfigKey.FpTileStoreNameSelector,ExtensionConfigKey.FeaturedDealsSelector,ExtensionConfigKey.FpPersonalizedWidgetSelector,ExtensionConfigKey.FpBestDealsYouMissedSelector,ExtensionConfigKey.FpFeaturedPopularWidgetSelector,ExtensionConfigKey.FpMissedDealsPlaceholderSelector,ExtensionConfigKey.FpMissedDealsSelector,ExtensionConfigKey.FpDealsContainerSelector]);this.fpSelectors={fpTileSelector:e[ExtensionConfigKey.FpTileSelector],fpTileStoreSelector:e[ExtensionConfigKey.FpTileStoreSelector],fpTileStoreNameSelector:e[ExtensionConfigKey.FpTileStoreNameSelector],featuredDealsSelector:e[ExtensionConfigKey.FeaturedDealsSelector],fpPersonalizedWidgetSelector:e[ExtensionConfigKey.FpPersonalizedWidgetSelector],fpBestDealsYouMissedSelector:e[ExtensionConfigKey.FpBestDealsYouMissedSelector],fpFeaturedPopularWidgetSelector:e[ExtensionConfigKey.FpFeaturedPopularWidgetSelector],fpMissedDealsPlaceholderSelector:e[ExtensionConfigKey.FpMissedDealsPlaceholderSelector],fpMissedDealsSelector:e[ExtensionConfigKey.FpMissedDealsSelector],fpDealsContainerSelector:e[ExtensionConfigKey.FpDealsContainerSelector]}}rewriteFpLinksToMerchant(e){var t;!((t=this.fpSelectors)!=null&&t.fpTileSelector)||e.querySelectorAll(this.fpSelectors.fpTileSelector).forEach(r=>{var s,a;if(/expired/.test(r.className))return!1;if(this.hasProcessedLinks(r))return this.swapLinks(r,"To Merchant");const o=parseInt((s=r.dataset.threadid)!=null?s:"",10),n=parseInt((a=r.dataset.pno)!=null?a:"",10);if(Number.isNaN(o)&&Number.isNaN(n)||Number.isNaN(o)||!this.allowDirectToMerchant(r))return!1;const i=this.createOutclickUrl(o,n);return r.querySelectorAll("[data-href], a").forEach(c=>{if(c.dataset.dtmLink)return;const l=typeof c.dataset.href<"u",y=l?c.dataset:c,me=y.href,se=this.updateUrl(y,i,o,n);if(se){const ge=l?"ogDataHref":"ogHref";c.dataset[ge]=me,c.dataset.dtmLink=se}}),!0})}hasProcessedLinks(e){return e.querySelector("[data-dtm-link]")!==null}swapLinks(e,t){return typeof e>"u"||typeof t!="string"||!/To Merchant|Deal Details/.test(t)||/expired/.test(e.className)?!1:(e.querySelectorAll("[data-href], a").forEach(r=>{typeof r.dataset.dtmLink>"u"||(t==="To Merchant"?typeof r.dataset.ogDataHref<"u"?(r.dataset.href=r.dataset.dtmLink,r.dataset.target="_blank"):typeof r.dataset.ogHref<"u"&&(r.href=r.dataset.dtmLink,r.target="_blank"):typeof r.dataset.ogDataHref<"u"?(r.dataset.href=r.dataset.ogDataHref,r.dataset.target="_self"):typeof r.dataset.ogHref<"u"&&(r.href=r.dataset.ogHref,r.target="_self"))}),!0)}allowDirectToMerchant(e){return!("disableExtensionDtm"in e.dataset)}createOutclickUrl(e,t){const r=new URL("/?afsrc=1",window.location.origin);if(r.searchParams.set("attr_track",this.outclickMst),t)r.searchParams.set("pno",`${t}`);else if(e)r.searchParams.set("tid",`${e}`);else throw new Error(this.missingTidPnoError);return r}updateUrl(e,t,r,o){const n=new RegExp(`/[fe]/${r}-`),i=/adzerk\.net\//;return e.href?i.test(e.href)?this.updateAdzerkUrl(e,r,o):n.test(e.href)?this.updateFpUrl(e,t,r):null:null}updateAdzerkUrl(e,t,r){if(!e.href)return null;const o=new URL(e.href);let n=this.outclickMst;const i=o.searchParams.get("attrsrc");i&&(n=`${n}|${i}`),o.searchParams.set("attrsrc",n);const s=DeepLinkService.getDdsbDeepLink({threadId:t,fpPostId:r,destination:o.toString()});return e.href=s,e.target="_blank",e.href}updateFpUrl(e,t,r){if(!e.href)return null;const o=new URL(t),n=new URL(e.href,window.location.origin),i=n.searchParams.get("src");i&&o.searchParams.set("sdtrk",i);const s=n.searchParams.get("attrsrc");s&&o.searchParams.set("attr_track",`${t.searchParams.get("attr_track")}|${s}`);const a=n.searchParams.get("prop");return a&&o.searchParams.set("prop",a),o.searchParams.set("xtn-url",DeepLinkService.getDdsbLink({threadId:r})),e.href=`${o}`,e.target="_blank",e.href}async watchDocument(){!this.fpSelectors||(WatcherService.watchForReplaceWith(this.fpSelectors.featuredDealsSelector,this.fpSelectors.featuredDealsSelector,this.rewriteFpLinksToMerchant.bind(this)),WatcherService.watchChildList(this.fpSelectors.fpPersonalizedWidgetSelector,this.rewriteFpLinksToMerchant.bind(this)),WatcherService.watchChildList(this.fpSelectors.fpBestDealsYouMissedSelector,this.rewriteFpLinksToMerchant.bind(this)),WatcherService.watchChildList(this.fpSelectors.fpFeaturedPopularWidgetSelector,this.rewriteFpLinksToMerchant.bind(this)),WatcherService.watchForReplaceWith(this.fpSelectors.fpMissedDealsPlaceholderSelector,this.fpSelectors.fpMissedDealsSelector,this.rewriteFpLinksToMerchant.bind(this)),WatcherService.watchChildList(this.fpSelectors.fpDealsContainerSelector,this.rewriteFpLinksToMerchant.bind(this)))}rewriteFpLinksToDealDetails(){var e;!((e=this.fpSelectors)!=null&&e.fpTileSelector)||document.querySelectorAll(this.fpSelectors.fpTileSelector).forEach(t=>this.swapLinks(t,"To Deal Details"))}},Sr(Ds,"instance"),Ds);FrontpageDirectToMerchant=__decorateClass$2([initializable],FrontpageDirectToMerchant);const frontpageDirectToMerchantToggleCss=`
  .aboutDirectToMerchant {
    display: flex;
    align-items: center;
    margin-left: auto;
  }

  .aboutDirectToMerchant.featuredDealsBar {
    margin-left: auto;
  }

  .aboutDirectToMerchant.frontpageBar {
    float: right;
    position: relative;
    top: -10px;
  }

  .headingRight + .aboutDirectToMerchant.frontpageBar {
    margin-right: 10px;
  }

  .aboutDirectToMerchant .directToMerchantText {
    color: #666;
    font-size: 13px;
    font-weight: 600;
  }

  .aboutDirectToMerchant .directToMerchantInfo {
    font-size: 12px;
    margin: 0 9px 0 3px;
    padding: 0;
    cursor: pointer;
    color: #666;
  }

  .aboutDirectToMerchant .extensionOnOffToggle {
    width: 90px;
    height: 30px;
    line-height: 30px;
    border-radius: 3px;
    display: block;
    font-family: "Inter", Arial, sans-serif;
    font-style: normal;
    font-weight: 600;
    font-size: 12px;
    padding: 1px 6px;
    position: relative;
    cursor: pointer;
  }

  .aboutDirectToMerchant .extensionOnOffToggle .extensionToggleText {
    position: relative;
    top: -2px;
    width: 42px;
  }

  .aboutDirectToMerchant .extensionOnOffToggle .extensionToggleText .onText,
  .aboutDirectToMerchant .extensionOnOffToggle .extensionToggleText .offText {
    display: none;
  }

  .aboutDirectToMerchant .extensionOnOffToggle .extensionToggleSwitch {
    border-radius: 3px;
    background-color: #f7f7f7;
    width: 40px;
    position: absolute;
    box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.4);
  }

  .aboutDirectToMerchant .extensionOnOffToggle.on {
    background-image: linear-gradient(#0066a8, #006cb2);
    box-shadow: inset 0 2px 1px 0px rgba(0, 0, 0, 0.15);
    border: 1px solid #0069ad;
    color: #fff;
  }

  .aboutDirectToMerchant .extensionOnOffToggle.on .extensionToggleText {
    float: left;
    right: 5px;
  }

  .aboutDirectToMerchant .extensionOnOffToggle.on .extensionToggleSwitch {
    right: 3px;
    top: 2px;
    bottom: 3px;
  }

  .aboutDirectToMerchant .extensionOnOffToggle.off {
    background-color: #e0e0e0;
    box-shadow: inset 0 1px 2px 0px rgba(0, 0, 0, 0.12);
    border: 1px solid #ccc;
    color: #333;
  }

  .aboutDirectToMerchant .extensionOnOffToggle.off .extensionToggleText {
    float: right;
    right: -5px;
  }

  .aboutDirectToMerchant .extensionOnOffToggle.off .extensionToggleSwitch {
    left: 3px;
    top: 2px;
    bottom: 3px;
  }
`;function logTemplate(e="",t,r,...o){if(sessionStorage[`debug${e}`]||!1){if(r&&r==="error"){console.error(`${e||"CAA"} Error: `,...o);return}console.log(`%c${e||"CAA"}: `,`background: ${t||"#69ee2359;"}`,r,...o)}}function debugLog(e,...t){logTemplate("","",e,...t)}async function execCustomScript(code,responseType,{endTimeout,intervalTimeout}={}){const data={code,responseType,timing:{endTimeout,intervalTimeout}};{const{sendMessage}=await import("./index.0a1d9bc1.js").then(e=>e.i),execCustomScriptResult=await sendMessage("execCustomScript",data,"background");if(execCustomScriptResult){if(execCustomScriptResult.executed){const{result:e=[]}=execCustomScriptResult,r=e.reduce((o,n)=>n.result===null?o:[...o,n.result],[]).join("");return debugLog("execCustomScriptResult",r),r}const customAsyncFunction=eval(`async ${execCustomScriptResult.code}`),resultAsString=await customAsyncFunction(code,responseType,endTimeout,intervalTimeout);return debugLog("execCustomScriptResult",resultAsString),resultAsString}return""}}var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc$1(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp$1(t,r,n),n},Ps;let FrontpageDirectToMerchantToggle=(Ps=class{constructor(e){Sr(this,"fpSelectors",null);this.frontpageDirectToMerchant=e}static create(){var e;return FrontpageDirectToMerchantToggle.instance=(e=FrontpageDirectToMerchantToggle.instance)!=null?e:new this(FrontpageDirectToMerchant.create()),FrontpageDirectToMerchantToggle.instance}async init(){window.location.pathname==="/"&&(this.injectCss(),await this.fetchSelectors(),await this.addToggle(),await this.frontpageDirectToMerchant.fetchSelectors())}injectCss(){const e=document.createElement("style");e.setAttribute("id","extension-fp-direct-to-merchant"),e.type="text/css",e.appendChild(document.createTextNode(frontpageDirectToMerchantToggleCss)),document.head.appendChild(e)}async fetchSelectors(){const e=await fetchForContentScript([ExtensionConfigKey.FeaturedDealsHeaderSelector,ExtensionConfigKey.FeaturedDealsSelector,ExtensionConfigKey.FpSettingsButtonSelector]);this.fpSelectors={featuredDealsHeaderSelector:e[ExtensionConfigKey.FeaturedDealsHeaderSelector],featuredDealsSelector:e[ExtensionConfigKey.FeaturedDealsSelector],fpSettingsButtonSelector:e[ExtensionConfigKey.FpSettingsButtonSelector]}}async addToggle(){var t;const e=this.getFeaturedDealsBar();e?((t=e==null?void 0:e.style)==null?void 0:t.visibility)==="hidden"?this.watchDocument():await this.addToggleToFeaturedDealsBarHeader():await this.addToggleNextToPersonalizedFrontpage()}getFeaturedDealsBar(){var t;if(!((t=this.fpSelectors)!=null&&t.featuredDealsSelector))return null;const e=document.querySelector(this.fpSelectors.featuredDealsSelector);return typeof e>"u"||e===null?!1:e}watchDocument(){!this.fpSelectors||WatcherService.watchForReplaceWith(this.fpSelectors.featuredDealsSelector,this.fpSelectors.featuredDealsSelector,this.addToggleToFeaturedDealsBarHeader.bind(this))}async addToggleToFeaturedDealsBarHeader(){var r;if(!((r=this.fpSelectors)!=null&&r.featuredDealsHeaderSelector))return!1;const e=document.querySelector(this.fpSelectors.featuredDealsHeaderSelector);if(!e)return!1;const t=this.createDirectToMerchantInfoBit("featuredDealsBar");return t?(e.insertAdjacentElement("beforeend",t),await this.injectJsAndCheckUserOption(),!0):!1}createDirectToMerchantInfoBit(e){const t=document.createElement("div");if(!t)return null;t.classList.add("aboutDirectToMerchant"),t.classList.add(e),t.innerHTML=this.getInfoBitInnerHtml(),t.setAttribute("id","aboutDirectToMerchant");const r=t.querySelector("#extensionOnOffToggle");return r?(r.addEventListener("click",this.handleToggleEvent.bind(this)),t):null}getInfoBitInnerHtml(){return`
      <span class="directToMerchantText">Direct to Store Links</span>
      <span id="directToMerchantInfo" data-tooltip-position="bottom-right" class="icon icon-info2 tooltip directToMerchantInfo" data-tooltip-text="Go directly to the store's site from the Frontpage with just one click. With the Slickdeals browser extension, you'll be able to take all of the deal details with you!"></span>
      <button class="extensionOnOffToggle on" aria-label="Extension Direct to Merchant" aria-pressed="true" id="extensionOnOffToggle">
        <div class="extensionToggleText" id="extensionToggleText">On</div>
        <div class="extensionToggleSwitch" id="extensionToggleSwitch"></div>
      </button>
    `}async handleToggleEvent(e){const t=e.target;if(!t)return;const r=await this.toggleSwitch(t.closest("#extensionOnOffToggle"));this.saveOption(r)}async toggleSwitch(e){if(!e)return!1;const t=e.querySelector("#extensionToggleText"),r=document.querySelector("#extensionOnOffToggle");return!t||!r?!1:(e.classList.toggle("on"),e.classList.toggle("off"),e.classList.contains("on")?(t.textContent="On",r.setAttribute("aria-pressed","true"),this.frontpageDirectToMerchant.hasProcessedLinks(document)?this.frontpageDirectToMerchant.rewriteFpLinksToMerchant(document):await this.frontpageDirectToMerchant.initializeFPDirectToMerchant(!0),!0):(t.textContent="Off",r.setAttribute("aria-pressed","false"),this.frontpageDirectToMerchant.rewriteFpLinksToDealDetails(),!1))}saveOption(e){sendMessage("updateUserOption",{key:OptionKey.FpDirectToMerchant,value:e},"background"),sendMessage("trackEvent",{event:{category:"Direct to Merchant",action:`Option ${e?"Enabled":"Disabled"}`,label:"Frontpage Toggle",page:{hostname:window.location.hostname,path:window.location.pathname,title:document.title}}})}async injectJsAndCheckUserOption(){if(this.toggleExists()){const e=await this.getUserOption();this.injectJs(),e||await this.toggleSwitch(document.getElementById("extensionOnOffToggle"))}}toggleExists(){return!!document.getElementById("aboutDirectToMerchant")}getUserOption(){return sendMessage("getUserOptionValue",{key:OptionKey.FpDirectToMerchant},"background")}injectJs(){execCustomScript(`
      (function() {
        if (typeof $ !== 'undefined' && typeof $.fn.tooltipster === 'function' && $('#directToMerchantInfo').length) {
          $('#directToMerchantInfo').tooltipster({
            contentAsHTML: true,
            theme: 'tooltipster-sd',
            position: 'bottom',
            maxWidth: '320',
            interactive: true,
          });
        }
      })();
    `,"json")}async addToggleNextToPersonalizedFrontpage(){var r;if(!((r=this.fpSelectors)!=null&&r.fpSettingsButtonSelector))return;const e=document.querySelector(this.fpSelectors.fpSettingsButtonSelector),t=this.createDirectToMerchantInfoBit("frontpageBar");!t||e&&(e.insertAdjacentElement("afterend",t),await this.injectJsAndCheckUserOption())}},Sr(Ps,"instance"),Ps);FrontpageDirectToMerchantToggle=__decorateClass$1([initializable],FrontpageDirectToMerchantToggle);var vueConfetti={exports:{}};(function(e,t){(function(r,o){e.exports=o()})(self,function(){return(()=>{var r={d:(He,u)=>{for(var b in u)r.o(u,b)&&!r.o(He,b)&&Object.defineProperty(He,b,{enumerable:!0,get:u[b]})},o:(He,u)=>Object.prototype.hasOwnProperty.call(He,u),r:He=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(He,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(He,"__esModule",{value:!0})}},o={};r.r(o),r.d(o,{Confetti:()=>To,default:()=>wo});const n=function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:He+1,b=arguments.length>2&&arguments[2]!==void 0&&arguments[2],d=parseFloat(He),ye=parseFloat(u),Pe=Math.random()*(ye-d)+d;return b?Math.round(Pe):Pe};function i(He,u){if(!(He instanceof u))throw new TypeError("Cannot call a class as a function")}function s(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}var a=function(){function He(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=d.color,Pe=ye===void 0?"blue":ye,Ne=d.size,Fe=Ne===void 0?10:Ne,Se=d.dropRate,We=Se===void 0?10:Se;i(this,He),this.color=Pe,this.size=Fe,this.dropRate=We}var u,b;return u=He,(b=[{key:"setup",value:function(d){var ye=d.canvas,Pe=d.wind,Ne=d.windPosCoef,Fe=d.windSpeedMax,Se=d.count;return this.canvas=ye,this.wind=Pe,this.windPosCoef=Ne,this.windSpeedMax=Fe,this.x=n(-35,this.canvas.width+35),this.y=n(-30,-35),this.d=n(150)+10,this.particleSize=n(this.size,2*this.size),this.tilt=n(10),this.tiltAngleIncremental=(n(0,.08)+.04)*(n()<.5?-1:1),this.tiltAngle=0,this.angle=n(2*Math.PI),this.count=Se+1,this.remove=!1,this}},{key:"update",value:function(){this.tiltAngle+=this.tiltAngleIncremental*(.2*Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef)+1),this.y+=(Math.cos(this.angle+this.d)+parseInt(this.dropRate,10))/2,this.x+=(Math.sin(this.angle)+Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef))*this.windSpeedMax,this.y+=Math.sin(this.wind+(this.d+this.x+this.y)*this.windPosCoef)*this.windSpeedMax,this.tilt=15*Math.sin(this.tiltAngle-this.count/3)}},{key:"pastBottom",value:function(){return this.y>this.canvas.height}},{key:"draw",value:function(){this.canvas.ctx.fillStyle=this.color,this.canvas.ctx.beginPath(),this.canvas.ctx.setTransform(Math.cos(this.tiltAngle),Math.sin(this.tiltAngle),0,1,this.x,this.y)}},{key:"kill",value:function(){this.remove=!0}}])&&s(u.prototype,b),He}();function c(He){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},c(He)}function l(He,u){if(!(He instanceof u))throw new TypeError("Cannot call a class as a function")}function y(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}function me(He,u,b){return me=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(d,ye,Pe){var Ne=function(Se,We){for(;!Object.prototype.hasOwnProperty.call(Se,We)&&(Se=be(Se))!==null;);return Se}(d,ye);if(Ne){var Fe=Object.getOwnPropertyDescriptor(Ne,ye);return Fe.get?Fe.get.call(Pe):Fe.value}},me(He,u,b||He)}function se(He,u){return se=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b},se(He,u)}function ge(He,u){return!u||c(u)!=="object"&&typeof u!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(He):u}function be(He){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},be(He)}var _e=function(He){(function(Fe,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Se&&se(Fe,Se)})(Ne,He);var u,b,d,ye,Pe=(d=Ne,ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,Se=be(d);if(ye){var We=be(this).constructor;Fe=Reflect.construct(Se,arguments,We)}else Fe=Se.apply(this,arguments);return ge(this,Fe)});function Ne(){return l(this,Ne),Pe.apply(this,arguments)}return u=Ne,(b=[{key:"draw",value:function(){me(be(Ne.prototype),"draw",this).call(this),this.canvas.ctx.arc(0,0,this.particleSize/2,0,2*Math.PI,!1),this.canvas.ctx.fill()}}])&&y(u.prototype,b),Ne}(a);function Ue(He){return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Ue(He)}function xt(He,u){if(!(He instanceof u))throw new TypeError("Cannot call a class as a function")}function so(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}function yt(He,u,b){return yt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(d,ye,Pe){var Ne=function(Se,We){for(;!Object.prototype.hasOwnProperty.call(Se,We)&&(Se=ro(Se))!==null;);return Se}(d,ye);if(Ne){var Fe=Object.getOwnPropertyDescriptor(Ne,ye);return Fe.get?Fe.get.call(Pe):Fe.value}},yt(He,u,b||He)}function Ge(He,u){return Ge=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b},Ge(He,u)}function Zr(He,u){return!u||Ue(u)!=="object"&&typeof u!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(He):u}function ro(He){return ro=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},ro(He)}var Qr=function(He){(function(Fe,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Se&&Ge(Fe,Se)})(Ne,He);var u,b,d,ye,Pe=(d=Ne,ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,Se=ro(d);if(ye){var We=ro(this).constructor;Fe=Reflect.construct(Se,arguments,We)}else Fe=Se.apply(this,arguments);return Zr(this,Fe)});function Ne(){return xt(this,Ne),Pe.apply(this,arguments)}return u=Ne,(b=[{key:"draw",value:function(){yt(ro(Ne.prototype),"draw",this).call(this),this.canvas.ctx.fillRect(0,0,this.particleSize,this.particleSize/2)}}])&&so(u.prototype,b),Ne}(a);function ot(He){return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},ot(He)}function Xe(He,u){if(!(He instanceof u))throw new TypeError("Cannot call a class as a function")}function Gr(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}function zr(He,u,b){return zr=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(d,ye,Pe){var Ne=function(Se,We){for(;!Object.prototype.hasOwnProperty.call(Se,We)&&(Se=ao(Se))!==null;);return Se}(d,ye);if(Ne){var Fe=Object.getOwnPropertyDescriptor(Ne,ye);return Fe.get?Fe.get.call(Pe):Fe.value}},zr(He,u,b||He)}function wt(He,u){return wt=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b},wt(He,u)}function Kr(He,u){return!u||ot(u)!=="object"&&typeof u!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(He):u}function ao(He){return ao=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},ao(He)}var to=function(He){(function(Fe,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Se&&wt(Fe,Se)})(Ne,He);var u,b,d,ye,Pe=(d=Ne,ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,Se=ao(d);if(ye){var We=ao(this).constructor;Fe=Reflect.construct(Se,arguments,We)}else Fe=Se.apply(this,arguments);return Kr(this,Fe)});function Ne(){return Xe(this,Ne),Pe.apply(this,arguments)}return u=Ne,(b=[{key:"draw",value:function(){var Fe=this;zr(ao(Ne.prototype),"draw",this).call(this);var Se=function(We,ze,qe,Ye,bt,Pr){Fe.canvas.ctx.bezierCurveTo(We*(Fe.particleSize/200),ze*(Fe.particleSize/200),qe*(Fe.particleSize/200),Ye*(Fe.particleSize/200),bt*(Fe.particleSize/200),Pr*(Fe.particleSize/200))};this.canvas.ctx.moveTo(37.5/this.particleSize,20/this.particleSize),Se(75,37,70,25,50,25),Se(20,25,20,62.5,20,62.5),Se(20,80,40,102,75,120),Se(110,102,130,80,130,62.5),Se(130,62.5,130,25,100,25),Se(85,25,75,37,75,40),this.canvas.ctx.fill()}}])&&Gr(u.prototype,b),Ne}(a);function io(He){return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},io(He)}function eo(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}function co(He,u,b){return co=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(d,ye,Pe){var Ne=function(Se,We){for(;!Object.prototype.hasOwnProperty.call(Se,We)&&(Se=lo(Se))!==null;);return Se}(d,ye);if(Ne){var Fe=Object.getOwnPropertyDescriptor(Ne,ye);return Fe.get?Fe.get.call(Pe):Fe.value}},co(He,u,b||He)}function ho(He,u){return ho=Object.setPrototypeOf||function(b,d){return b.__proto__=d,b},ho(He,u)}function bo(He,u){return!u||io(u)!=="object"&&typeof u!="function"?function(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(He):u}function lo(He){return lo=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},lo(He)}var vo=function(He){(function(Fe,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");Fe.prototype=Object.create(Se&&Se.prototype,{constructor:{value:Fe,writable:!0,configurable:!0}}),Se&&ho(Fe,Se)})(Ne,He);var u,b,d,ye,Pe=(d=Ne,ye=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Fe){return!1}}(),function(){var Fe,Se=lo(d);if(ye){var We=lo(this).constructor;Fe=Reflect.construct(Se,arguments,We)}else Fe=Se.apply(this,arguments);return bo(this,Fe)});function Ne(Fe,Se){var We;return function(ze,qe){if(!(ze instanceof qe))throw new TypeError("Cannot call a class as a function")}(this,Ne),(We=Pe.call(this,Fe)).imgEl=Se,We}return u=Ne,(b=[{key:"draw",value:function(){co(lo(Ne.prototype),"draw",this).call(this),this.canvas.ctx.drawImage(this.imgEl,0,0,this.particleSize,this.particleSize)}}])&&eo(u.prototype,b),Ne}(a);function po(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}var Oo=function(){function He(){(function(d,ye){if(!(d instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,He),this.cachedImages={}}var u,b;return u=He,b=[{key:"createImageElement",value:function(d){var ye=document.createElement("img");return ye.setAttribute("src",d),ye}},{key:"getImageElement",value:function(d){return this.cachedImages[d]||(this.cachedImages[d]=this.createImageElement(d)),this.cachedImages[d]}},{key:"getRandomParticle",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=d.particles||[];return ye.length<1?{}:ye[Math.floor(Math.random()*ye.length)]}},{key:"getDefaults",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:d.defaultType||"circle",size:d.defaultSize||10,dropRate:d.defaultDropRate||10,colors:d.defaultColors||["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],url:null}}},{key:"create",value:function(d){var ye=this.getDefaults(d),Pe=this.getRandomParticle(d),Ne=Object.assign(ye,Pe),Fe=n(0,Ne.colors.length-1,!0);if(Ne.color=Ne.colors[Fe],Ne.type==="circle")return new _e(Ne);if(Ne.type==="rect")return new Qr(Ne);if(Ne.type==="heart")return new to(Ne);if(Ne.type==="image")return new vo(Ne,this.getImageElement(Ne.url));throw Error('Unknown particle type: "'.concat(Ne.type,'"'))}}],b&&po(u.prototype,b),He}();function uo(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}var Ao=function(){function He(d){(function(ye,Pe){if(!(ye instanceof Pe))throw new TypeError("Cannot call a class as a function")})(this,He),this.items=[],this.pool=[],this.particleOptions=d,this.particleFactory=new Oo}var u,b;return u=He,(b=[{key:"update",value:function(){var d,ye=this,Pe=[],Ne=[];this.items.forEach(function(Fe){Fe.update(),Fe.pastBottom()?Fe.remove||(Fe.setup(ye.particleOptions),Pe.push(Fe)):Ne.push(Fe)}),(d=this.pool).push.apply(d,Pe),this.items=Ne}},{key:"draw",value:function(){this.items.forEach(function(d){return d.draw()})}},{key:"add",value:function(){this.pool.length>0?this.items.push(this.pool.pop().setup(this.particleOptions)):this.items.push(this.particleFactory.create(this.particleOptions).setup(this.particleOptions))}},{key:"refresh",value:function(){this.items.forEach(function(d){d.kill()}),this.pool=[]}}])&&uo(u.prototype,b),He}();function _o(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}var Eo=function(){function He(ye){(function(Ne,Fe){if(!(Ne instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,He);var Pe="confetti-canvas";if(ye&&!(ye instanceof HTMLCanvasElement))throw new Error("Element is not a valid HTMLCanvasElement");this.isDefault=!ye,this.canvas=ye||document.getElementById(Pe)||He.createDefaultCanvas(Pe),this.ctx=this.canvas.getContext("2d")}var u,b,d;return u=He,d=[{key:"createDefaultCanvas",value:function(ye){var Pe=document.createElement("canvas");return Pe.style.display="block",Pe.style.position="fixed",Pe.style.pointerEvents="none",Pe.style.top=0,Pe.style.width="100vw",Pe.style.height="100vh",Pe.id=ye,document.querySelector("body").appendChild(Pe),Pe}}],(b=[{key:"width",get:function(){return this.canvas.width}},{key:"height",get:function(){return this.canvas.height}},{key:"clear",value:function(){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.width,this.height)}},{key:"updateDimensions",value:function(){this.isDefault&&(this.width===window.innerWidth&&this.height===window.innerHeight||(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight))}}])&&_o(u.prototype,b),d&&_o(u,d),He}();function $o(He,u){for(var b=0;b<u.length;b++){var d=u[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(He,d.key,d)}}var To=function(){function He(){(function(d,ye){if(!(d instanceof ye))throw new TypeError("Cannot call a class as a function")})(this,He),this.setDefaults()}var u,b;return u=He,b=[{key:"setDefaults",value:function(){this.killed=!1,this.framesSinceDrop=0,this.canvas=null,this.canvasEl=null,this.W=0,this.H=0,this.particleManager=null,this.particlesPerFrame=0,this.wind=0,this.windSpeed=1,this.windSpeedMax=1,this.windChange=.01,this.windPosCoef=.002,this.animationId=null}},{key:"getParticleOptions",value:function(d){var ye={canvas:this.canvas,W:this.W,H:this.H,wind:this.wind,windPosCoef:this.windPosCoef,windSpeedMax:this.windSpeedMax,count:0};return Object.assign(ye,d),ye}},{key:"createParticles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=this.getParticleOptions(d);this.particleManager=new Ao(ye)}},{key:"getCanvasElementFromOptions",value:function(d){var ye=d.canvasId,Pe=d.canvasElement,Ne=Pe;if(Pe&&!(Pe instanceof HTMLCanvasElement))throw new Error("Invalid options: canvasElement is not a valid HTMLCanvasElement");if(ye&&Pe)throw new Error("Invalid options: canvasId and canvasElement are mutually exclusive");if(ye&&!Ne&&(Ne=document.getElementById(ye)),ye&&!(Ne instanceof HTMLCanvasElement))throw new Error('Invalid options: element with id "'.concat(ye,'" is not a valid HTMLCanvasElement'));return Ne}},{key:"start",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.remove();var ye=this.getCanvasElementFromOptions(d);this.canvas=new Eo(ye),this.canvasEl=ye,this.createParticles(d),this.setGlobalOptions(d),this.animationId=requestAnimationFrame(this.mainLoop.bind(this))}},{key:"setGlobalOptions",value:function(d){this.particlesPerFrame=d.particlesPerFrame||2,this.windSpeedMax=d.windSpeedMax||1}},{key:"stop",value:function(){this.killed=!0,this.particlesPerFrame=0}},{key:"update",value:function(d){var ye=this.getCanvasElementFromOptions(d);this.canvas&&ye!==this.canvasEl?this.start(d):(this.setGlobalOptions(d),this.particleManager&&(this.particleManager.particleOptions=this.getParticleOptions(d),this.particleManager.refresh()))}},{key:"remove",value:function(){this.stop(),this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.clear(),this.setDefaults()}},{key:"mainLoop",value:function(d){this.canvas.updateDimensions(),this.canvas.clear(),this.windSpeed=Math.sin(d/8e3)*this.windSpeedMax,this.wind=this.particleManager.particleOptions.wind+=this.windChange;for(var ye=this.framesSinceDrop*this.particlesPerFrame;ye>=1;)this.particleManager.add(),ye-=1,this.framesSinceDrop=0;this.particleManager.update(),this.particleManager.draw(),this.killed&&!this.particleManager.items.length||(this.animationId=requestAnimationFrame(this.mainLoop.bind(this))),this.framesSinceDrop+=1}}],b&&$o(u.prototype,b),He}();const wo={install:function(He,u){if(!this.installed){this.installed=!0;try{He.config.globalProperties.$confetti=new To(u)}catch(b){He.prototype.$confetti=new To(u)}}}};return o})()})})(vueConfetti);const VueConfetti=getDefaultExportFromCjs(vueConfetti.exports);var R$1="top",j$1="bottom",I$1="right",T$1="left",Ae="auto",ve=[R$1,j$1,I$1,T$1],re="start",ue="end",At="clippingParents",lt="viewport",le="popper",$t="reference",Je=ve.reduce(function(e,t){return e.concat([t+"-"+re,t+"-"+ue])},[]),ft=[].concat(ve,[Ae]).reduce(function(e,t){return e.concat([t,t+"-"+re,t+"-"+ue])},[]),Dt="beforeRead",St="read",_t="afterRead",Pt="beforeMain",Nt="main",Rt="afterMain",Tt="beforeWrite",Lt="write",Ct="afterWrite",Te=[Dt,St,_t,Pt,Nt,Rt,Tt,Lt,Ct];function W$1(e){return e?(e.nodeName||"").toLowerCase():null}function k$1(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Z$1(e){var t=k$1(e).Element;return e instanceof t||e instanceof Element}function C$1(e){var t=k$1(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function je(e){if(typeof ShadowRoot>"u")return!1;var t=k$1(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function jt(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},n=t.attributes[r]||{},i=t.elements[r];!C$1(i)||!W$1(i)||(Object.assign(i.style,o),Object.keys(n).forEach(function(s){var a=n[s];a===!1?i.removeAttribute(s):i.setAttribute(s,a===!0?"":a)}))})}function It(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var n=t.elements[o],i=t.attributes[o]||{},s=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),a=s.reduce(function(c,l){return c[l]="",c},{});!C$1(n)||!W$1(n)||(Object.assign(n.style,a),Object.keys(i).forEach(function(c){n.removeAttribute(c)}))})}}const kt={name:"applyStyles",enabled:!0,phase:"write",fn:jt,effect:It,requires:["computeStyles"]};function M$1(e){return e.split("-")[0]}var Q$1=Math.max,Ee=Math.min,oe=Math.round;function Le(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function pt(){return!/^((?!chrome|android).)*safari/i.test(Le())}function ne(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),n=1,i=1;t&&C$1(e)&&(n=e.offsetWidth>0&&oe(o.width)/e.offsetWidth||1,i=e.offsetHeight>0&&oe(o.height)/e.offsetHeight||1);var s=Z$1(e)?k$1(e):window,a=s.visualViewport,c=!pt()&&r,l=(o.left+(c&&a?a.offsetLeft:0))/n,y=(o.top+(c&&a?a.offsetTop:0))/i,me=o.width/n,se=o.height/i;return{width:me,height:se,top:y,right:l+me,bottom:y+se,left:l,x:l,y}}function Ie(e){var t=ne(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function ct(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&je(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function V$1(e){return k$1(e).getComputedStyle(e)}function Bt(e){return["table","td","th"].indexOf(W$1(e))>=0}function U$1(e){return((Z$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function $e(e){return W$1(e)==="html"?e:e.assignedSlot||e.parentNode||(je(e)?e.host:null)||U$1(e)}function Ke(e){return!C$1(e)||V$1(e).position==="fixed"?null:e.offsetParent}function Mt(e){var t=/firefox/i.test(Le()),r=/Trident/i.test(Le());if(r&&C$1(e)){var o=V$1(e);if(o.position==="fixed")return null}var n=$e(e);for(je(n)&&(n=n.host);C$1(n)&&["html","body"].indexOf(W$1(n))<0;){var i=V$1(n);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return n;n=n.parentNode}return null}function he(e){for(var t=k$1(e),r=Ke(e);r&&Bt(r)&&V$1(r).position==="static";)r=Ke(r);return r&&(W$1(r)==="html"||W$1(r)==="body"&&V$1(r).position==="static")?t:r||Mt(e)||t}function ke(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function pe(e,t,r){return Q$1(e,Ee(t,r))}function Vt(e,t,r){var o=pe(e,t,r);return o>r?r:o}function ut(){return{top:0,right:0,bottom:0,left:0}}function dt(e){return Object.assign({},ut(),e)}function vt(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var Ht=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,dt(typeof e!="number"?e:vt(e,ve))};function Wt(e){var t,r=e.state,o=e.name,n=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,a=M$1(r.placement),c=ke(a),l=[T$1,I$1].indexOf(a)>=0,y=l?"height":"width";if(!(!i||!s)){var me=Ht(n.padding,r),se=Ie(i),ge=c==="y"?R$1:T$1,be=c==="y"?j$1:I$1,_e=r.rects.reference[y]+r.rects.reference[c]-s[c]-r.rects.popper[y],Ue=s[c]-r.rects.reference[c],xt=he(i),so=xt?c==="y"?xt.clientHeight||0:xt.clientWidth||0:0,yt=_e/2-Ue/2,Ge=me[ge],Zr=so-se[y]-me[be],ro=so/2-se[y]/2+yt,Qr=pe(Ge,ro,Zr),ot=c;r.modifiersData[o]=(t={},t[ot]=Qr,t.centerOffset=Qr-ro,t)}}function qt(e){var t=e.state,r=e.options,o=r.element,n=o===void 0?"[data-popper-arrow]":o;if(n!=null&&!(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n))){if(!ct(t.elements.popper,n))return;t.elements.arrow=n}}const Ft={name:"arrow",enabled:!0,phase:"main",fn:Wt,effect:qt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ie(e){return e.split("-")[1]}var Ut={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xt(e){var t=e.x,r=e.y,o=window,n=o.devicePixelRatio||1;return{x:oe(t*n)/n||0,y:oe(r*n)/n||0}}function Qe(e){var t,r=e.popper,o=e.popperRect,n=e.placement,i=e.variation,s=e.offsets,a=e.position,c=e.gpuAcceleration,l=e.adaptive,y=e.roundOffsets,me=e.isFixed,se=s.x,ge=se===void 0?0:se,be=s.y,_e=be===void 0?0:be,Ue=typeof y=="function"?y({x:ge,y:_e}):{x:ge,y:_e};ge=Ue.x,_e=Ue.y;var xt=s.hasOwnProperty("x"),so=s.hasOwnProperty("y"),yt=T$1,Ge=R$1,Zr=window;if(l){var ro=he(r),Qr="clientHeight",ot="clientWidth";if(ro===k$1(r)&&(ro=U$1(r),V$1(ro).position!=="static"&&a==="absolute"&&(Qr="scrollHeight",ot="scrollWidth")),ro=ro,n===R$1||(n===T$1||n===I$1)&&i===ue){Ge=j$1;var Xe=me&&ro===Zr&&Zr.visualViewport?Zr.visualViewport.height:ro[Qr];_e-=Xe-o.height,_e*=c?1:-1}if(n===T$1||(n===R$1||n===j$1)&&i===ue){yt=I$1;var Gr=me&&ro===Zr&&Zr.visualViewport?Zr.visualViewport.width:ro[ot];ge-=Gr-o.width,ge*=c?1:-1}}var zr=Object.assign({position:a},l&&Ut),wt=y===!0?Xt({x:ge,y:_e}):{x:ge,y:_e};if(ge=wt.x,_e=wt.y,c){var Kr;return Object.assign({},zr,(Kr={},Kr[Ge]=so?"0":"",Kr[yt]=xt?"0":"",Kr.transform=(Zr.devicePixelRatio||1)<=1?"translate("+ge+"px, "+_e+"px)":"translate3d("+ge+"px, "+_e+"px, 0)",Kr))}return Object.assign({},zr,(t={},t[Ge]=so?_e+"px":"",t[yt]=xt?ge+"px":"",t.transform="",t))}function Yt(e){var t=e.state,r=e.options,o=r.gpuAcceleration,n=o===void 0?!0:o,i=r.adaptive,s=i===void 0?!0:i,a=r.roundOffsets,c=a===void 0?!0:a,l={placement:M$1(t.placement),variation:ie(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Qe(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qe(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const zt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Yt,data:{}};var Oe={passive:!0};function Gt(e){var t=e.state,r=e.instance,o=e.options,n=o.scroll,i=n===void 0?!0:n,s=o.resize,a=s===void 0?!0:s,c=k$1(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&l.forEach(function(y){y.addEventListener("scroll",r.update,Oe)}),a&&c.addEventListener("resize",r.update,Oe),function(){i&&l.forEach(function(y){y.removeEventListener("scroll",r.update,Oe)}),a&&c.removeEventListener("resize",r.update,Oe)}}const Jt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gt,data:{}};var Kt={left:"right",right:"left",bottom:"top",top:"bottom"};function xe(e){return e.replace(/left|right|bottom|top/g,function(t){return Kt[t]})}var Qt={start:"end",end:"start"};function Ze(e){return e.replace(/start|end/g,function(t){return Qt[t]})}function Be(e){var t=k$1(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function Me(e){return ne(U$1(e)).left+Be(e).scrollLeft}function Zt(e,t){var r=k$1(e),o=U$1(e),n=r.visualViewport,i=o.clientWidth,s=o.clientHeight,a=0,c=0;if(n){i=n.width,s=n.height;var l=pt();(l||!l&&t==="fixed")&&(a=n.offsetLeft,c=n.offsetTop)}return{width:i,height:s,x:a+Me(e),y:c}}function er(e){var t,r=U$1(e),o=Be(e),n=(t=e.ownerDocument)==null?void 0:t.body,i=Q$1(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=Q$1(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-o.scrollLeft+Me(e),c=-o.scrollTop;return V$1(n||r).direction==="rtl"&&(a+=Q$1(r.clientWidth,n?n.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}function Ve(e){var t=V$1(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function ht(e){return["html","body","#document"].indexOf(W$1(e))>=0?e.ownerDocument.body:C$1(e)&&Ve(e)?e:ht($e(e))}function ce(e,t){var r;t===void 0&&(t=[]);var o=ht(e),n=o===((r=e.ownerDocument)==null?void 0:r.body),i=k$1(o),s=n?[i].concat(i.visualViewport||[],Ve(o)?o:[]):o,a=t.concat(s);return n?a:a.concat(ce($e(s)))}function Ce(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tr(e,t){var r=ne(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function et(e,t,r){return t===lt?Ce(Zt(e,r)):Z$1(t)?tr(t,r):Ce(er(U$1(e)))}function rr(e){var t=ce($e(e)),r=["absolute","fixed"].indexOf(V$1(e).position)>=0,o=r&&C$1(e)?he(e):e;return Z$1(o)?t.filter(function(n){return Z$1(n)&&ct(n,o)&&W$1(n)!=="body"}):[]}function or(e,t,r,o){var n=t==="clippingParents"?rr(e):[].concat(t),i=[].concat(n,[r]),s=i[0],a=i.reduce(function(c,l){var y=et(e,l,o);return c.top=Q$1(y.top,c.top),c.right=Ee(y.right,c.right),c.bottom=Ee(y.bottom,c.bottom),c.left=Q$1(y.left,c.left),c},et(e,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mt(e){var t=e.reference,r=e.element,o=e.placement,n=o?M$1(o):null,i=o?ie(o):null,s=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,c;switch(n){case R$1:c={x:s,y:t.y-r.height};break;case j$1:c={x:s,y:t.y+t.height};break;case I$1:c={x:t.x+t.width,y:a};break;case T$1:c={x:t.x-r.width,y:a};break;default:c={x:t.x,y:t.y}}var l=n?ke(n):null;if(l!=null){var y=l==="y"?"height":"width";switch(i){case re:c[l]=c[l]-(t[y]/2-r[y]/2);break;case ue:c[l]=c[l]+(t[y]/2-r[y]/2);break}}return c}function de(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=o===void 0?e.placement:o,i=r.strategy,s=i===void 0?e.strategy:i,a=r.boundary,c=a===void 0?At:a,l=r.rootBoundary,y=l===void 0?lt:l,me=r.elementContext,se=me===void 0?le:me,ge=r.altBoundary,be=ge===void 0?!1:ge,_e=r.padding,Ue=_e===void 0?0:_e,xt=dt(typeof Ue!="number"?Ue:vt(Ue,ve)),so=se===le?$t:le,yt=e.rects.popper,Ge=e.elements[be?so:se],Zr=or(Z$1(Ge)?Ge:Ge.contextElement||U$1(e.elements.popper),c,y,s),ro=ne(e.elements.reference),Qr=mt({reference:ro,element:yt,strategy:"absolute",placement:n}),ot=Ce(Object.assign({},yt,Qr)),Xe=se===le?ot:ro,Gr={top:Zr.top-Xe.top+xt.top,bottom:Xe.bottom-Zr.bottom+xt.bottom,left:Zr.left-Xe.left+xt.left,right:Xe.right-Zr.right+xt.right},zr=e.modifiersData.offset;if(se===le&&zr){var wt=zr[n];Object.keys(Gr).forEach(function(Kr){var ao=[I$1,j$1].indexOf(Kr)>=0?1:-1,to=[R$1,j$1].indexOf(Kr)>=0?"y":"x";Gr[Kr]+=wt[to]*ao})}return Gr}function nr(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=r.boundary,i=r.rootBoundary,s=r.padding,a=r.flipVariations,c=r.allowedAutoPlacements,l=c===void 0?ft:c,y=ie(o),me=y?a?Je:Je.filter(function(be){return ie(be)===y}):ve,se=me.filter(function(be){return l.indexOf(be)>=0});se.length===0&&(se=me);var ge=se.reduce(function(be,_e){return be[_e]=de(e,{placement:_e,boundary:n,rootBoundary:i,padding:s})[M$1(_e)],be},{});return Object.keys(ge).sort(function(be,_e){return ge[be]-ge[_e]})}function ir(e){if(M$1(e)===Ae)return[];var t=xe(e);return[Ze(e),t,Ze(t)]}function ar(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=r.mainAxis,i=n===void 0?!0:n,s=r.altAxis,a=s===void 0?!0:s,c=r.fallbackPlacements,l=r.padding,y=r.boundary,me=r.rootBoundary,se=r.altBoundary,ge=r.flipVariations,be=ge===void 0?!0:ge,_e=r.allowedAutoPlacements,Ue=t.options.placement,xt=M$1(Ue),so=xt===Ue,yt=c||(so||!be?[xe(Ue)]:ir(Ue)),Ge=[Ue].concat(yt).reduce(function(Oo,uo){return Oo.concat(M$1(uo)===Ae?nr(t,{placement:uo,boundary:y,rootBoundary:me,padding:l,flipVariations:be,allowedAutoPlacements:_e}):uo)},[]),Zr=t.rects.reference,ro=t.rects.popper,Qr=new Map,ot=!0,Xe=Ge[0],Gr=0;Gr<Ge.length;Gr++){var zr=Ge[Gr],wt=M$1(zr),Kr=ie(zr)===re,ao=[R$1,j$1].indexOf(wt)>=0,to=ao?"width":"height",io=de(t,{placement:zr,boundary:y,rootBoundary:me,altBoundary:se,padding:l}),eo=ao?Kr?I$1:T$1:Kr?j$1:R$1;Zr[to]>ro[to]&&(eo=xe(eo));var co=xe(eo),ho=[];if(i&&ho.push(io[wt]<=0),a&&ho.push(io[eo]<=0,io[co]<=0),ho.every(function(Oo){return Oo})){Xe=zr,ot=!1;break}Qr.set(zr,ho)}if(ot)for(var bo=be?3:1,lo=function(Oo){var uo=Ge.find(function(Ao){var _o=Qr.get(Ao);if(_o)return _o.slice(0,Oo).every(function(Eo){return Eo})});if(uo)return Xe=uo,"break"},vo=bo;vo>0;vo--){var po=lo(vo);if(po==="break")break}t.placement!==Xe&&(t.modifiersData[o]._skip=!0,t.placement=Xe,t.reset=!0)}}const sr={name:"flip",enabled:!0,phase:"main",fn:ar,requiresIfExists:["offset"],data:{_skip:!1}};function tt(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function rt(e){return[R$1,I$1,j$1,T$1].some(function(t){return e[t]>=0})}function lr(e){var t=e.state,r=e.name,o=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,s=de(t,{elementContext:"reference"}),a=de(t,{altBoundary:!0}),c=tt(s,o),l=tt(a,n,i),y=rt(c),me=rt(l);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:y,hasPopperEscaped:me},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":me})}const fr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lr};function pr(e,t,r){var o=M$1(e),n=[T$1,R$1].indexOf(o)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],a=i[1];return s=s||0,a=(a||0)*n,[T$1,I$1].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}function cr(e){var t=e.state,r=e.options,o=e.name,n=r.offset,i=n===void 0?[0,0]:n,s=ft.reduce(function(y,me){return y[me]=pr(me,t.rects,i),y},{}),a=s[t.placement],c=a.x,l=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[o]=s}const ur={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cr};function dr(e){var t=e.state,r=e.name;t.modifiersData[r]=mt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const vr={name:"popperOffsets",enabled:!0,phase:"read",fn:dr,data:{}};function hr(e){return e==="x"?"y":"x"}function mr(e){var t=e.state,r=e.options,o=e.name,n=r.mainAxis,i=n===void 0?!0:n,s=r.altAxis,a=s===void 0?!1:s,c=r.boundary,l=r.rootBoundary,y=r.altBoundary,me=r.padding,se=r.tether,ge=se===void 0?!0:se,be=r.tetherOffset,_e=be===void 0?0:be,Ue=de(t,{boundary:c,rootBoundary:l,padding:me,altBoundary:y}),xt=M$1(t.placement),so=ie(t.placement),yt=!so,Ge=ke(xt),Zr=hr(Ge),ro=t.modifiersData.popperOffsets,Qr=t.rects.reference,ot=t.rects.popper,Xe=typeof _e=="function"?_e(Object.assign({},t.rects,{placement:t.placement})):_e,Gr=typeof Xe=="number"?{mainAxis:Xe,altAxis:Xe}:Object.assign({mainAxis:0,altAxis:0},Xe),zr=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,wt={x:0,y:0};if(ro){if(i){var Kr,ao=Ge==="y"?R$1:T$1,to=Ge==="y"?j$1:I$1,io=Ge==="y"?"height":"width",eo=ro[Ge],co=eo+Ue[ao],ho=eo-Ue[to],bo=ge?-ot[io]/2:0,lo=so===re?Qr[io]:ot[io],vo=so===re?-ot[io]:-Qr[io],po=t.elements.arrow,Oo=ge&&po?Ie(po):{width:0,height:0},uo=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ut(),Ao=uo[ao],_o=uo[to],Eo=pe(0,Qr[io],Oo[io]),$o=yt?Qr[io]/2-bo-Eo-Ao-Gr.mainAxis:lo-Eo-Ao-Gr.mainAxis,To=yt?-Qr[io]/2+bo+Eo+_o+Gr.mainAxis:vo+Eo+_o+Gr.mainAxis,wo=t.elements.arrow&&he(t.elements.arrow),He=wo?Ge==="y"?wo.clientTop||0:wo.clientLeft||0:0,u=(Kr=zr==null?void 0:zr[Ge])!=null?Kr:0,b=eo+$o-u-He,d=eo+To-u,ye=pe(ge?Ee(co,b):co,eo,ge?Q$1(ho,d):ho);ro[Ge]=ye,wt[Ge]=ye-eo}if(a){var Pe,Ne=Ge==="x"?R$1:T$1,Fe=Ge==="x"?j$1:I$1,Se=ro[Zr],We=Zr==="y"?"height":"width",ze=Se+Ue[Ne],qe=Se-Ue[Fe],Ye=[R$1,T$1].indexOf(xt)!==-1,bt=(Pe=zr==null?void 0:zr[Zr])!=null?Pe:0,Pr=Ye?ze:Se-Qr[We]-ot[We]-bt+Gr.altAxis,$r=Ye?Se+Qr[We]+ot[We]-bt-Gr.altAxis:qe,fo=ge&&Ye?Vt(Pr,Se,$r):pe(ge?Pr:ze,Se,ge?$r:qe);ro[Zr]=fo,wt[Zr]=fo-Se}t.modifiersData[o]=wt}}const gr={name:"preventOverflow",enabled:!0,phase:"main",fn:mr,requiresIfExists:["offset"]};function yr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function br(e){return e===k$1(e)||!C$1(e)?Be(e):yr(e)}function wr(e){var t=e.getBoundingClientRect(),r=oe(t.width)/e.offsetWidth||1,o=oe(t.height)/e.offsetHeight||1;return r!==1||o!==1}function Or(e,t,r){r===void 0&&(r=!1);var o=C$1(t),n=C$1(t)&&wr(t),i=U$1(t),s=ne(e,n,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!r)&&((W$1(t)!=="body"||Ve(i))&&(a=br(t)),C$1(t)?(c=ne(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Me(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function xr(e){var t=new Map,r=new Set,o=[];e.forEach(function(i){t.set(i.name,i)});function n(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var c=t.get(a);c&&n(c)}}),o.push(i)}return e.forEach(function(i){r.has(i.name)||n(i)}),o}function Er(e){var t=xr(e);return Te.reduce(function(r,o){return r.concat(t.filter(function(n){return n.phase===o}))},[])}function Ar(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function _r(e){var t=e.reduce(function(r,o){var n=r[o.name];return r[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var it={placement:"bottom",modifiers:[],strategy:"absolute"};function at(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Nr(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,n=t.defaultOptions,i=n===void 0?it:n;return function(s,a,c){c===void 0&&(c=i);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},it,i),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},y=[],me=!1,se={state:l,setOptions:function(_e){var Ue=typeof _e=="function"?_e(l.options):_e;be(),l.options=Object.assign({},i,l.options,Ue),l.scrollParents={reference:Z$1(s)?ce(s):s.contextElement?ce(s.contextElement):[],popper:ce(a)};var xt=Er(_r([].concat(o,l.options.modifiers)));return l.orderedModifiers=xt.filter(function(so){return so.enabled}),ge(),se.update()},forceUpdate:function(){if(!me){var _e=l.elements,Ue=_e.reference,xt=_e.popper;if(!at(Ue,xt))return;l.rects={reference:Or(Ue,he(xt),l.options.strategy==="fixed"),popper:Ie(xt)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(Xe){return l.modifiersData[Xe.name]=Object.assign({},Xe.data)});for(var so=0,yt=0;yt<l.orderedModifiers.length;yt++){if(l.reset===!0){l.reset=!1,yt=-1;continue}var Ge=l.orderedModifiers[yt],Zr=Ge.fn,ro=Ge.options,Qr=ro===void 0?{}:ro,ot=Ge.name;typeof Zr=="function"&&(l=Zr({state:l,options:Qr,name:ot,instance:se})||l)}}},update:Ar(function(){return new Promise(function(_e){se.forceUpdate(),_e(l)})}),destroy:function(){be(),me=!0}};if(!at(s,a))return se;se.setOptions(c).then(function(_e){!me&&c.onFirstUpdate&&c.onFirstUpdate(_e)});function ge(){l.orderedModifiers.forEach(function(_e){var Ue=_e.name,xt=_e.options,so=xt===void 0?{}:xt,yt=_e.effect;if(typeof yt=="function"){var Ge=yt({state:l,name:Ue,instance:se,options:so}),Zr=function(){};y.push(Ge||Zr)}})}function be(){y.forEach(function(_e){return _e()}),y=[]}return se}}var Rr=[Jt,vr,zt,kt,ur,sr,gr,Ft,fr],Tr=Nr({defaultModifiers:Rr});const fe={HIDDEN:"vue-tooltip-hidden",VISIBLE:"vue-tooltip-visible"},Lr=`h-tooltip  ${fe.HIDDEN}`,st=["top","left","right","bottom","auto"],Cr=["start","end"],Re={ADD:1,REMOVE:2},jr={container:!1,delay:200,instance:null,fixIosSafari:!1,eventsEnabled:!1,html:!1,modifiers:[{name:"arrow",options:{element:".tooltip-arrow"}},{name:"oldOnUpdate",enabled:!0,phase:"afterWrite",fn(){this.content(this.tooltip.options.title)}}],placement:"",placementPostfix:null,removeOnDestroy:!0,title:"",class:"",triggers:["hover","focus"],offset:5},H$1=(e,t)=>e.indexOf(t)>-1;class _$1{constructor(t,r={}){this._options={..._$1._defaults,onFirstUpdate:o=>{this.content(o.options.title)},..._$1.filterOptions(r)},this._$el=t,this._$tpl=this._createTooltipElement(this.options),this._$tt=Tr(t,this._$tpl,this._options),this.setupPopper()}setupPopper(){this.disabled=!1,this._visible=!1,this._clearDelay=null,this._$tt.setOptions(t=>({...t,modifiers:[...t.modifiers,{name:"eventListeners",enabled:!1}]})),this._setEvents()}destroy(){this._cleanEvents(),this._$tpl&&this._$tpl.parentNode&&this._$tpl.parentNode.removeChild(this._$tpl)}get options(){return{...this._options}}get tooltip(){return this._$tt}get visible(){return this._visible}set visible(t){typeof t=="boolean"&&(this._visible=t)}get disabled(){return this._disabled}set disabled(t){typeof t=="boolean"&&(this._disabled=t)}show(){this.toggle(!0)}hide(){this.toggle(!1)}toggle(t,r=!0){let o=this._options.delay;this.disabled===!0&&(t=!1,o=0),typeof t!="boolean"&&(t=!this._visible),t===!0&&(o=0),clearTimeout(this._clearDelay),r===!0&&(this._clearDelay=setTimeout(()=>{this.visible=t,this.visible===!0&&this.disabled!==!0?(this._$el.insertAdjacentElement("afterend",this._$tpl),setTimeout(()=>{this._$tt.setOptions(n=>({...n,modifiers:[...n.modifiers,{name:"eventListeners",enabled:!0}]})),this._$tt.update(),this._$tpl.classList.replace(fe.HIDDEN,fe.VISIBLE)},60)):(this._$tpl.classList.replace(fe.VISIBLE,fe.HIDDEN),this._$tpl&&this._$tpl.parentNode&&this._$tpl.parentNode.removeChild(this._$tpl),this._$tt.setOptions(n=>({...n,modifiers:[...n.modifiers,{name:"eventListeners",enabled:!1}]})))},o))}_createTooltipElement(t){let r=document.createElement("div");r.setAttribute("id",`tooltip-${Ir()}`),r.setAttribute("class",`${Lr} ${this._options.class}`);let o=document.createElement("div");o.setAttribute("class","tooltip-arrow"),o.setAttribute("data-popper-arrow",""),r.appendChild(o);let n=document.createElement("div");return n.setAttribute("class","tooltip-content"),r.appendChild(n),r}_events(t=Re.ADD){const r=t===Re.ADD?"addEventListener":"removeEventListener";if(!Array.isArray(this.options.triggers)){console.error("trigger should be an array",this.options.triggers);return}let o=(...n)=>this._$el[r](...n);if(H$1(this.options.triggers,"manual"))o("click",this._onToggle.bind(this),!1);else{if(this.options.fixIosSafari&&_$1.isIosSafari()&&H$1(this.options.triggers,"hover")){const n=this.options.triggers.indexOf("hover"),i=H$1(this.options.triggers,"click");this._options.triggers[n]=i!==-1?"click":null}this.options.triggers.map(n=>{switch(n){case"click":o("click",i=>{this._onToggle(i)},!1);break;case"hover":o("mouseenter",this._onActivate.bind(this),!1),o("mouseleave",this._onDeactivate.bind(this),!1);break;case"focus":o("focus",this._onActivate.bind(this),!1),o("blur",this._onDeactivate.bind(this),!0);break}}),(H$1(this.options.triggers,"hover")||H$1(this.options.triggers,"focus"))&&(this._$tpl[r]("mouseenter",this._onMouseOverTooltip.bind(this),!1),this._$tpl[r]("mouseleave",this._onMouseOutTooltip.bind(this),!1))}}_setEvents(){this._events()}_cleanEvents(){this._events(Re.REMOVE)}_onActivate(t){this.show()}_onDeactivate(t){this.hide()}_onToggle(t){t.stopPropagation(),t.preventDefault(),this.toggle()}_onMouseOverTooltip(t){this.toggle(!0,!1)}_onMouseOutTooltip(t){this.toggle(!1)}content(t){console.log(this._$tt);const r=this._$tt.state.elements.popper.querySelector(".tooltip-content");typeof t=="string"?(this._$tt.state.options.title=t,r.textContent=t):kr(t)?t!==r.children[0]&&(r.innerHTML="",r.appendChild(t)):console.error("unsupported content type",t)}set class(t){if(typeof t=="string"){const r=this._$tpl.classList.value.replace(this.options.class,t);this._options.class=r,this._$tpl.setAttribute("class",r)}}static filterOptions(t){let r={...t};r.modifiers=[];let o=null,n=null;r.placement.indexOf("-")>-1?([o,n]=r.placement.split("-"),r.placement=H$1(st,o)&&H$1(Cr,n)?r.placement:_$1._defaults.placement):r.placement=H$1(st,r.placement)?r.placement:_$1._defaults.placement;const i=window.isNaN(t.offset)||t.offset<0?_$1._defaults.offset:t.offset;return r.modifiers.push({name:"offset",options:{offset:[i,i]}}),r}static isIosSafari(){return H$1(navigator.userAgent.toLowerCase(),"mobile")&&H$1(navigator.userAgent.toLowerCase(),"safari")&&(navigator.platform.toLowerCase()==="iphone"||navigator.platform.toLowerCase()==="ipad")}static defaults(t){_$1._defaults={..._$1._defaults,...t}}}_$1._defaults={...jr};function Ir(){return`${Date.now()}-${Math.round(Math.random()*1e8)}`}function kr(e){return e instanceof window.Element}const te$1="vue-tooltip",Br=["auto","top","bottom","left","right"],Mr=["start","end"],Yr={name:"tooltip",config:{},install(e,t){e.directive("tooltip",{beforeMount(r,o,n){t&&_$1.defaults(t)},mounted(r,o,n,i){t&&_$1.defaults(t);let s=Hr(o,n);r.tooltip=new _$1(r,s),o.modifiers.notrigger&&o.value.visible===!0&&r.tooltip.show(),o.value&&o.value.visible===!1&&(r.tooltip.disabled=!0)},updated(r,o,n,i){Vr(o.value,o.oldValue)&&Xr(r,o,n)},unmounted(r,o,n,i){r.tooltip.destroy()}})}};function Vr(e,t){let r=!1;return typeof e=="string"&&e!==t?r=!0:De(e)&&Object.keys(e).forEach(o=>{e[o]!==t[o]&&(r=!0)}),r}function Hr(e,t){const r=!e.value||isNaN(e.value.delay)?_$1._defaults.delay:e.value.delay;return e.value.ref&&(t.context.$refs[e.value.ref]?e.value.html=t.context.$refs[e.value.ref]:console.error(`[Tooltip] no REF element [${e.value.ref}]`)),{class:Ur(e),id:e.value?e.value.id:null,html:e.value?e.value.html:null,placement:Wr(e),title:gt(e),triggers:qr(e),fixIosSafari:e.modifiers.ios||!1,offset:e.value&&e.value.offset?e.value.offset:_$1._defaults.offset,delay:r}}function Wr({modifiers:e,value:t}){let r=Object.keys(e);r.length===0&&De(t)&&typeof t.placement=="string"&&(r=t.placement.split("."));let o="bottom",n=null;for(let i=0;i<r.length;i++){const s=r[i];Br.indexOf(s)>-1&&(o=s),Mr.indexOf(s)>-1&&(n=s)}return o&&n?`${o}-${n}`:o}function qr({modifiers:e}){let t=[];return e.notrigger||(e.manual?t.push("manual"):(e.click&&t.push("click"),e.hover&&t.push("hover"),e.focus&&t.push("focus"),t.length===0&&t.push("hover","focus"))),t}function De(e){return typeof e=="object"}function Fr(e){return e instanceof window.Element}function Ur({value:e}){return e===null?te$1:De(e)&&typeof e.class=="string"?`${te$1} ${e.class}`:_$1._defaults.class?`${te$1} ${_$1._defaults.class}`:te$1}function gt({value:e},t){return e!==null&&De(e)?e.content!==void 0?`${e.content}`:e.id&&document.getElementById(e.id)?document.getElementById(e.id):e.html&&document.getElementById(e.html)?document.getElementById(e.html):Fr(e.html)?e.html:e.ref&&t&&t.context.$refs[e.ref]||"":`${e}`}function Xr(e,t,r,o){if(typeof t.value=="string")e.tooltip.content(t.value);else{if(t.value&&t.value.class&&t.value.class.trim()!==e.tooltip.options.class.replace(te$1,"").trim()&&(e.tooltip.class=`${te$1} ${t.value.class.trim()}`),e.tooltip.content(gt(t,r)),!t.modifiers.notrigger&&t.value&&typeof t.value.visible=="boolean"){e.tooltip.disabled=!t.value.visible;return}else t.modifiers.notrigger&&(e.tooltip.disabled=!1);const n=r.data.directives[0];n.oldValue.visible!==n.value.visible&&(e.tooltip.disabled||e.tooltip.toggle(n.value.visible))}}/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},_setPrototypeOf(e,t)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,r){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(n,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(n,a),l=new c;return s&&_setPrototypeOf(l,s.prototype),l},_construct.apply(null,arguments)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _unsupportedIterableToArray(e,t){if(!!e){if(typeof e=="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hasOwnProperty=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply=_ref.apply,construct=_ref.construct;apply||(apply=function(t,r,o){return t.apply(r,o)});freeze||(freeze=function(t){return t});seal||(seal=function(t){return t});construct||(construct=function(t,r){return _construct(t,_toConsumableArray(r))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(e){return function(t){for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return apply(e,t,o)}}function unconstruct(e){return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return construct(e,r)}}function addToSet(e,t,r){r=r||stringToLowerCase,setPrototypeOf&&setPrototypeOf(e,null);for(var o=t.length;o--;){var n=t[o];if(typeof n=="string"){var i=r(n);i!==n&&(isFrozen(t)||(t[o]=i),n=i)}e[n]=!0}return e}function clone(e){var t=create(null),r;for(r in e)apply(hasOwnProperty,e,[r])&&(t[r]=e[r]);return t}function lookupGetter(e,t){for(;e!==null;){var r=getOwnPropertyDescriptor(e,t);if(r){if(r.get)return unapply(r.get);if(typeof r.value=="function")return unapply(r.value)}e=getPrototypeOf(e)}function o(n){return console.warn("fallback value for",n),null}return o}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function e(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function e(t,r){if(_typeof(t)!=="object"||typeof t.createPolicy!="function")return null;var o=null,n="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(n)&&(o=r.currentScript.getAttribute(n));var i="dompurify"+(o?"#"+o:"");try{return t.createPolicy(i,{createHTML:function(a){return a},createScriptURL:function(a){return a}})}catch(s){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function createDOMPurify(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),t=function(we){return createDOMPurify(we)};if(t.version="2.4.0",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,o=e.document,n=e.DocumentFragment,i=e.HTMLTemplateElement,s=e.Node,a=e.Element,c=e.NodeFilter,l=e.NamedNodeMap,y=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,me=e.HTMLFormElement,se=e.DOMParser,ge=e.trustedTypes,be=a.prototype,_e=lookupGetter(be,"cloneNode"),Ue=lookupGetter(be,"nextSibling"),xt=lookupGetter(be,"childNodes"),so=lookupGetter(be,"parentNode");if(typeof i=="function"){var yt=o.createElement("template");yt.content&&yt.content.ownerDocument&&(o=yt.content.ownerDocument)}var Ge=_createTrustedTypesPolicy(ge,r),Zr=Ge?Ge.createHTML(""):"",ro=o,Qr=ro.implementation,ot=ro.createNodeIterator,Xe=ro.createDocumentFragment,Gr=ro.getElementsByTagName,zr=r.importNode,wt={};try{wt=clone(o).documentMode?o.documentMode:{}}catch(no){}var Kr={};t.isSupported=typeof so=="function"&&Qr&&typeof Qr.createHTMLDocument<"u"&&wt!==9;var ao=MUSTACHE_EXPR,to=ERB_EXPR,io=DATA_ATTR,eo=ARIA_ATTR,co=IS_SCRIPT_OR_DATA,ho=ATTR_WHITESPACE,bo=IS_ALLOWED_URI,lo=null,vo=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text))),po=null,Oo=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(mathMl),_toConsumableArray(xml))),uo=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ao=null,_o=null,Eo=!0,$o=!0,To=!1,wo=!1,He=!1,u=!1,b=!1,d=!1,ye=!1,Pe=!1,Ne=!0,Fe=!1,Se="user-content-",We=!0,ze=!1,qe={},Ye=null,bt=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Pr=null,$r=addToSet({},["audio","video","img","source","image","track"]),fo=null,oo=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mo="http://www.w3.org/1998/Math/MathML",yo="http://www.w3.org/2000/svg",ko="http://www.w3.org/1999/xhtml",Lo=ko,Uo=!1,Bo,Po=["application/xhtml+xml","text/html"],Mo="text/html",So,nn=null,Ha=o.createElement("form"),Bs=function(we){return we instanceof RegExp||we instanceof Function},Zi=function(we){nn&&nn===we||((!we||_typeof(we)!=="object")&&(we={}),we=clone(we),Bo=Po.indexOf(we.PARSER_MEDIA_TYPE)===-1?Bo=Mo:Bo=we.PARSER_MEDIA_TYPE,So=Bo==="application/xhtml+xml"?function(Ot){return Ot}:stringToLowerCase,lo="ALLOWED_TAGS"in we?addToSet({},we.ALLOWED_TAGS,So):vo,po="ALLOWED_ATTR"in we?addToSet({},we.ALLOWED_ATTR,So):Oo,fo="ADD_URI_SAFE_ATTR"in we?addToSet(clone(oo),we.ADD_URI_SAFE_ATTR,So):oo,Pr="ADD_DATA_URI_TAGS"in we?addToSet(clone($r),we.ADD_DATA_URI_TAGS,So):$r,Ye="FORBID_CONTENTS"in we?addToSet({},we.FORBID_CONTENTS,So):bt,Ao="FORBID_TAGS"in we?addToSet({},we.FORBID_TAGS,So):{},_o="FORBID_ATTR"in we?addToSet({},we.FORBID_ATTR,So):{},qe="USE_PROFILES"in we?we.USE_PROFILES:!1,Eo=we.ALLOW_ARIA_ATTR!==!1,$o=we.ALLOW_DATA_ATTR!==!1,To=we.ALLOW_UNKNOWN_PROTOCOLS||!1,wo=we.SAFE_FOR_TEMPLATES||!1,He=we.WHOLE_DOCUMENT||!1,d=we.RETURN_DOM||!1,ye=we.RETURN_DOM_FRAGMENT||!1,Pe=we.RETURN_TRUSTED_TYPE||!1,b=we.FORCE_BODY||!1,Ne=we.SANITIZE_DOM!==!1,Fe=we.SANITIZE_NAMED_PROPS||!1,We=we.KEEP_CONTENT!==!1,ze=we.IN_PLACE||!1,bo=we.ALLOWED_URI_REGEXP||bo,Lo=we.NAMESPACE||ko,we.CUSTOM_ELEMENT_HANDLING&&Bs(we.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(uo.tagNameCheck=we.CUSTOM_ELEMENT_HANDLING.tagNameCheck),we.CUSTOM_ELEMENT_HANDLING&&Bs(we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(uo.attributeNameCheck=we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),we.CUSTOM_ELEMENT_HANDLING&&typeof we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(uo.allowCustomizedBuiltInElements=we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wo&&($o=!1),ye&&(d=!0),qe&&(lo=addToSet({},_toConsumableArray(text)),po=[],qe.html===!0&&(addToSet(lo,html$1),addToSet(po,html)),qe.svg===!0&&(addToSet(lo,svg$1),addToSet(po,svg),addToSet(po,xml)),qe.svgFilters===!0&&(addToSet(lo,svgFilters),addToSet(po,svg),addToSet(po,xml)),qe.mathMl===!0&&(addToSet(lo,mathMl$1),addToSet(po,mathMl),addToSet(po,xml))),we.ADD_TAGS&&(lo===vo&&(lo=clone(lo)),addToSet(lo,we.ADD_TAGS,So)),we.ADD_ATTR&&(po===Oo&&(po=clone(po)),addToSet(po,we.ADD_ATTR,So)),we.ADD_URI_SAFE_ATTR&&addToSet(fo,we.ADD_URI_SAFE_ATTR,So),we.FORBID_CONTENTS&&(Ye===bt&&(Ye=clone(Ye)),addToSet(Ye,we.FORBID_CONTENTS,So)),We&&(lo["#text"]=!0),He&&addToSet(lo,["html","head","body"]),lo.table&&(addToSet(lo,["tbody"]),delete Ao.tbody),freeze&&freeze(we),nn=we)},js=addToSet({},["mi","mo","mn","ms","mtext"]),Hs=addToSet({},["foreignobject","desc","title","annotation-xml"]),Wa=addToSet({},["title","style","font","a","script"]),Gn=addToSet({},svg$1);addToSet(Gn,svgFilters),addToSet(Gn,svgDisallowed);var Qi=addToSet({},mathMl$1);addToSet(Qi,mathMlDisallowed);var Ga=function(we){var Ot=so(we);(!Ot||!Ot.tagName)&&(Ot={namespaceURI:ko,tagName:"template"});var Jr=stringToLowerCase(we.tagName),go=stringToLowerCase(Ot.tagName);return we.namespaceURI===yo?Ot.namespaceURI===ko?Jr==="svg":Ot.namespaceURI===mo?Jr==="svg"&&(go==="annotation-xml"||js[go]):Boolean(Gn[Jr]):we.namespaceURI===mo?Ot.namespaceURI===ko?Jr==="math":Ot.namespaceURI===yo?Jr==="math"&&Hs[go]:Boolean(Qi[Jr]):we.namespaceURI===ko?Ot.namespaceURI===yo&&!Hs[go]||Ot.namespaceURI===mo&&!js[go]?!1:!Qi[Jr]&&(Wa[Jr]||!Gn[Jr]):!1},jo=function(we){arrayPush(t.removed,{element:we});try{we.parentNode.removeChild(we)}catch(Ot){try{we.outerHTML=Zr}catch(Jr){we.remove()}}},es=function(we,Ot){try{arrayPush(t.removed,{attribute:Ot.getAttributeNode(we),from:Ot})}catch(Jr){arrayPush(t.removed,{attribute:null,from:Ot})}if(Ot.removeAttribute(we),we==="is"&&!po[we])if(d||ye)try{jo(Ot)}catch(Jr){}else try{Ot.setAttribute(we,"")}catch(Jr){}},Ws=function(we){var Ot,Jr;if(b)we="<remove></remove>"+we;else{var go=stringMatch(we,/^[\r\n\t ]+/);Jr=go&&go[0]}Bo==="application/xhtml+xml"&&(we='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+we+"</body></html>");var xo=Ge?Ge.createHTML(we):we;if(Lo===ko)try{Ot=new se().parseFromString(xo,Bo)}catch(Co){}if(!Ot||!Ot.documentElement){Ot=Qr.createDocument(Lo,"template",null);try{Ot.documentElement.innerHTML=Uo?"":xo}catch(Co){}}var Io=Ot.body||Ot.documentElement;return we&&Jr&&Io.insertBefore(o.createTextNode(Jr),Io.childNodes[0]||null),Lo===ko?Gr.call(Ot,He?"html":"body")[0]:He?Ot.documentElement:Io},Gs=function(we){return ot.call(we.ownerDocument||we,we,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Va=function(we){return we instanceof me&&(typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof y)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function")},En=function(we){return _typeof(s)==="object"?we instanceof s:we&&_typeof(we)==="object"&&typeof we.nodeType=="number"&&typeof we.nodeName=="string"},Ho=function(we,Ot,Jr){!Kr[we]||arrayForEach(Kr[we],function(go){go.call(t,Ot,Jr,nn)})},Vs=function(we){var Ot;if(Ho("beforeSanitizeElements",we,null),Va(we)||regExpTest(/[\u0080-\uFFFF]/,we.nodeName))return jo(we),!0;var Jr=So(we.nodeName);if(Ho("uponSanitizeElement",we,{tagName:Jr,allowedTags:lo}),we.hasChildNodes()&&!En(we.firstElementChild)&&(!En(we.content)||!En(we.content.firstElementChild))&&regExpTest(/<[/\w]/g,we.innerHTML)&&regExpTest(/<[/\w]/g,we.textContent)||Jr==="select"&&regExpTest(/<template/i,we.innerHTML))return jo(we),!0;if(!lo[Jr]||Ao[Jr]){if(!Ao[Jr]&&qs(Jr)&&(uo.tagNameCheck instanceof RegExp&&regExpTest(uo.tagNameCheck,Jr)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Jr)))return!1;if(We&&!Ye[Jr]){var go=so(we)||we.parentNode,xo=xt(we)||we.childNodes;if(xo&&go)for(var Io=xo.length,Co=Io-1;Co>=0;--Co)go.insertBefore(_e(xo[Co],!0),Ue(we))}return jo(we),!0}return we instanceof a&&!Ga(we)||(Jr==="noscript"||Jr==="noembed")&&regExpTest(/<\/no(script|embed)/i,we.innerHTML)?(jo(we),!0):(wo&&we.nodeType===3&&(Ot=we.textContent,Ot=stringReplace(Ot,ao," "),Ot=stringReplace(Ot,to," "),we.textContent!==Ot&&(arrayPush(t.removed,{element:we.cloneNode()}),we.textContent=Ot)),Ho("afterSanitizeElements",we,null),!1)},zs=function(we,Ot,Jr){if(Ne&&(Ot==="id"||Ot==="name")&&(Jr in o||Jr in Ha))return!1;if(!($o&&!_o[Ot]&&regExpTest(io,Ot))){if(!(Eo&&regExpTest(eo,Ot))){if(!po[Ot]||_o[Ot]){if(!(qs(we)&&(uo.tagNameCheck instanceof RegExp&&regExpTest(uo.tagNameCheck,we)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(we))&&(uo.attributeNameCheck instanceof RegExp&&regExpTest(uo.attributeNameCheck,Ot)||uo.attributeNameCheck instanceof Function&&uo.attributeNameCheck(Ot))||Ot==="is"&&uo.allowCustomizedBuiltInElements&&(uo.tagNameCheck instanceof RegExp&&regExpTest(uo.tagNameCheck,Jr)||uo.tagNameCheck instanceof Function&&uo.tagNameCheck(Jr))))return!1}else if(!fo[Ot]){if(!regExpTest(bo,stringReplace(Jr,ho,""))){if(!((Ot==="src"||Ot==="xlink:href"||Ot==="href")&&we!=="script"&&stringIndexOf(Jr,"data:")===0&&Pr[we])){if(!(To&&!regExpTest(co,stringReplace(Jr,ho,"")))){if(Jr)return!1}}}}}}return!0},qs=function(we){return we.indexOf("-")>0},Ys=function(we){var Ot,Jr,go,xo;Ho("beforeSanitizeAttributes",we,null);var Io=we.attributes;if(!!Io){var Co={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:po};for(xo=Io.length;xo--;){Ot=Io[xo];var Vn=Ot,Do=Vn.name,ts=Vn.namespaceURI;if(Jr=Do==="value"?Ot.value:stringTrim(Ot.value),go=So(Do),Co.attrName=go,Co.attrValue=Jr,Co.keepAttr=!0,Co.forceKeepAttr=void 0,Ho("uponSanitizeAttribute",we,Co),Jr=Co.attrValue,!Co.forceKeepAttr&&(es(Do,we),!!Co.keepAttr)){if(regExpTest(/\/>/i,Jr)){es(Do,we);continue}wo&&(Jr=stringReplace(Jr,ao," "),Jr=stringReplace(Jr,to," "));var Ks=So(we.nodeName);if(!!zs(Ks,go,Jr)){if(Fe&&(go==="id"||go==="name")&&(es(Do,we),Jr=Se+Jr),Ge&&_typeof(ge)==="object"&&typeof ge.getAttributeType=="function"&&!ts)switch(ge.getAttributeType(Ks,go)){case"TrustedHTML":Jr=Ge.createHTML(Jr);break;case"TrustedScriptURL":Jr=Ge.createScriptURL(Jr);break}try{ts?we.setAttributeNS(ts,Do,Jr):we.setAttribute(Do,Jr),arrayPop(t.removed)}catch(Ka){}}}}Ho("afterSanitizeAttributes",we,null)}},za=function no(we){var Ot,Jr=Gs(we);for(Ho("beforeSanitizeShadowDOM",we,null);Ot=Jr.nextNode();)Ho("uponSanitizeShadowNode",Ot,null),!Vs(Ot)&&(Ot.content instanceof n&&no(Ot.content),Ys(Ot));Ho("afterSanitizeShadowDOM",we,null)};return t.sanitize=function(no){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ot,Jr,go,xo,Io;if(Uo=!no,Uo&&(no="<!-->"),typeof no!="string"&&!En(no)){if(typeof no.toString!="function")throw typeErrorCreate("toString is not a function");if(no=no.toString(),typeof no!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!t.isSupported){if(_typeof(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof no=="string")return e.toStaticHTML(no);if(En(no))return e.toStaticHTML(no.outerHTML)}return no}if(u||Zi(we),t.removed=[],typeof no=="string"&&(ze=!1),ze){if(no.nodeName){var Co=So(no.nodeName);if(!lo[Co]||Ao[Co])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(no instanceof s)Ot=Ws("<!---->"),Jr=Ot.ownerDocument.importNode(no,!0),Jr.nodeType===1&&Jr.nodeName==="BODY"||Jr.nodeName==="HTML"?Ot=Jr:Ot.appendChild(Jr);else{if(!d&&!wo&&!He&&no.indexOf("<")===-1)return Ge&&Pe?Ge.createHTML(no):no;if(Ot=Ws(no),!Ot)return d?null:Pe?Zr:""}Ot&&b&&jo(Ot.firstChild);for(var Vn=Gs(ze?no:Ot);go=Vn.nextNode();)go.nodeType===3&&go===xo||Vs(go)||(go.content instanceof n&&za(go.content),Ys(go),xo=go);if(xo=null,ze)return no;if(d){if(ye)for(Io=Xe.call(Ot.ownerDocument);Ot.firstChild;)Io.appendChild(Ot.firstChild);else Io=Ot;return po.shadowroot&&(Io=zr.call(r,Io,!0)),Io}var Do=He?Ot.outerHTML:Ot.innerHTML;return He&&lo["!doctype"]&&Ot.ownerDocument&&Ot.ownerDocument.doctype&&Ot.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Ot.ownerDocument.doctype.name)&&(Do="<!DOCTYPE "+Ot.ownerDocument.doctype.name+`>
`+Do),wo&&(Do=stringReplace(Do,ao," "),Do=stringReplace(Do,to," ")),Ge&&Pe?Ge.createHTML(Do):Do},t.setConfig=function(no){Zi(no),u=!0},t.clearConfig=function(){nn=null,u=!1},t.isValidAttribute=function(no,we,Ot){nn||Zi({});var Jr=So(no),go=So(we);return zs(Jr,go,Ot)},t.addHook=function(no,we){typeof we=="function"&&(Kr[no]=Kr[no]||[],arrayPush(Kr[no],we))},t.removeHook=function(no){if(Kr[no])return arrayPop(Kr[no])},t.removeHooks=function(no){Kr[no]&&(Kr[no]=[])},t.removeAllHooks=function(){Kr={}},t}var purify=createDOMPurify(),v=defineComponent({name:"BlueberryBadge"});const m=withScopeId();pushScopeId("data-v-396ba38e");const p={class:"blueberry-c-badge"};popScopeId();const f=m((e,t,r,o,n,i)=>(openBlock(),createBlock("div",p,[renderSlot(e.$slots,"default",{},void 0,!0)])));var h,g,B,_,S,$;v.render=f,v.__scopeId="data-v-396ba38e",(g=h||(h={})).Button="button",g.Submit="submit",g.Reset="reset",(_=B||(B={})).Primary="primary",_.Secondary="secondary",_.Loud="loud",_.Loyalty="loyalty",_.Neutral="neutral",_.Unstyled="unstyled",($=S||(S={})).Xsmall="x-small",$.Small="small",$.Medium="medium",$.Large="large",$.Xlarge="x-large";var O=defineComponent({name:"BlueberryButton",props:{type:{type:String,default:h.Button,validator:e=>Object.values(h).includes(e)},variant:{type:String,default:B.Primary,validator:e=>Object.values(B).includes(e)},size:{type:String,default:S.Medium,validator:e=>Object.values(S).includes(e)}},computed:{buttonClass(){return{[`blueberry-c-button--${this.variant}`]:!0,[`blueberry-c-button--${this.size}`]:!0}}}});const C=withScopeId()((e,t,r,o,n,i)=>(openBlock(),createBlock("button",{class:["blueberry-c-button",e.buttonClass],type:e.type},[renderSlot(e.$slots,"default",{},void 0,!0)],10,["type"])));var j,k,M,w;O.render=C,O.__scopeId="data-v-31b9cfac",(k=j||(j={})).Normal="normal",k.Dashed="dashed",(w=M||(M={})).None="noDivider",w.Partial="partialDivider",w.Full="fullDivider";var I=defineComponent({name:"BlueberryCard",props:{border:{type:String,default:j.Normal,validator:e=>Object.values(j).includes(e)},divider:{type:String,default:M.None,validator:e=>Object.values(M).includes(e)}},computed:{cardClasses(){const e="blueberry-c-card";return{[`${e}--${this.border}`]:!0,[`${e}--${this.divider}`]:!0}}}});const N=withScopeId();pushScopeId("data-v-21d54c0b");const x={key:0,class:"blueberry-c-card_image"},z={key:1,class:"blueberry-c-card_content"};popScopeId();const L=N((e,t,r,o,n,i)=>(openBlock(),createBlock("div",{class:["blueberry-c-card",e.cardClasses]},[e.$slots.image?(openBlock(),createBlock("div",x,[renderSlot(e.$slots,"image",{},void 0,!0)])):createCommentVNode("",!0),e.$slots.content?(openBlock(),createBlock("div",z,[renderSlot(e.$slots,"content",{},void 0,!0)])):createCommentVNode("",!0)],2)));var V,D;I.render=L,I.__scopeId="data-v-21d54c0b",(D=V||(V={})).One="h1",D.Two="h2",D.Three="h3",D.Four="h4",D.Five="h5";var H=defineComponent({name:"BlueberryHeading",props:{level:{type:String,default:V.One,validator:e=>Object.values(V).includes(e)}}});const T=withScopeId(),A=T((e,t,r,o,n,i)=>(openBlock(),createBlock(resolveDynamicComponent(e.level),null,{default:T(()=>[renderSlot(e.$slots,"default",{},void 0,!0)]),_:3})));H.render=A,H.__scopeId="data-v-2b35a898";const F={viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},P=createVNode("path",{d:"M7.72 6.426a.6.6 0 0 1 0-.85l4.038-4.039A.9.9 0 0 0 10.486.265l-4.039 4.04a.6.6 0 0 1-.85 0L1.559.265A.9.9 0 0 0 .286 1.537l4.04 4.04a.6.6 0 0 1 0 .85l-4.04 4.038a.899.899 0 1 0 1.272 1.272l4.04-4.039a.6.6 0 0 1 .85 0l4.038 4.04a.9.9 0 0 0 1.272-1.273L7.72 6.426Z",fill:"#999"},null,-1);var R,U,X,E,W,Z,q,G;(U=R||(R={})).Normal="normal",U.Small="small",(E=X||(X={})).Center="center",E.TopRight="top-right",(Z=W||(W={})).Normal="normal",Z.Reverse="reverse",(G=q||(q={}))[G.Max=2147483647]="Max";var J=defineComponent({name:"BlueberryModal",emits:["close"],inheritAttrs:!1,components:{BlueberryButton:O,CloseIcon:function(e,t){return openBlock(),createBlock("svg",F,[P])}},data:()=>({buttonVariants:B,isModalVisible:!0}),props:{closeOnOverlayClick:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},transition:{type:String,default:""},closeIconSize:{type:String,default:R.Normal,validator:e=>Object.values(R).includes(e)},position:{type:String,default:X.Center,validator:e=>Object.values(X).includes(e)},style:{type:String,default:W.Normal,validator:e=>Object.values(W).includes(e)},layer:{type:Number,default:2147483647,validator:e=>Object.values(q).includes(e)},width:{type:[String],default:"auto"},height:{type:[String],default:"auto"}},computed:{closeIconClass(){return{[`blueberry-c-modal_close--${this.closeIconSize}`]:!0}},modalClasses(){return{[`blueberry-c-modal--${this.position}`]:!0,[`blueberry-c-modal--${this.style}`]:!0}},modalStyle(){return{"--modalLayer":this.layer}},modalSizes(){return{"--modalWidth":this.width,"--modalHeight":this.height}}},methods:{close(){this.isModalVisible=!1,this.$emit("close")}}});const K=withScopeId();pushScopeId("data-v-bf4cf7c4");const Q={key:0,class:"blueberry-c-modal_header"},Y={key:1,class:"blueberry-c-modal_content"},ee={key:2,class:"blueberry-c-modal_footer"};popScopeId();const te=K((e,t,r,o,n,i)=>{const s=resolveComponent("close-icon"),a=resolveComponent("blueberry-button");return e.isModalVisible?(openBlock(),createBlock("div",{key:0,class:"blueberry-c-modal",style:e.modalStyle},[e.showOverlay?(openBlock(),createBlock("div",mergeProps({key:0,class:"blueberry-c-modal_overlay"},toHandlers({click:e.closeOnOverlayClick?e.close:null})),null,16)):createCommentVNode("",!0),createVNode(Transition,mergeProps(e.$attrs,{appear:"",name:e.transition}),{default:K(()=>[createVNode("div",{class:["blueberry-c-modal_modal",e.modalClasses],style:e.modalSizes},[createVNode(a,{variant:e.buttonVariants.Unstyled,class:["blueberry-c-modal_close",e.closeIconClass],onClick:e.close},{default:K(()=>[createVNode(s)]),_:1},8,["variant","class","onClick"]),e.$slots.header?(openBlock(),createBlock("div",Q,[renderSlot(e.$slots,"header",{},void 0,!0)])):createCommentVNode("",!0),e.$slots.content?(openBlock(),createBlock("div",Y,[renderSlot(e.$slots,"content",{},void 0,!0)])):createCommentVNode("",!0),e.$slots.footer?(openBlock(),createBlock("div",ee,[renderSlot(e.$slots,"footer",{},void 0,!0)])):createCommentVNode("",!0)],6)]),_:3},16,["name"])],4)):createCommentVNode("",!0)});J.render=te,J.__scopeId="data-v-bf4cf7c4";var ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BlueberryBadge:v,BlueberryButton:O,BlueberryCard:I,BlueberryHeading:H,BlueberryModal:J});function BlueberryVue(e){Object.entries(ae).forEach(([t,r])=>{e.component(t,r)})}const hn=class{constructor(t,r){this.requestService=t,this.cache=r}static create(){var t;return(t=hn.instance)!=null||(hn.instance=new this(RequestService.create(),RepositoryCache.create("trendingCashbackStoresRepository"))),hn.instance}async getTrendingCashbackStores(t,r){return this.cache.get(this._getTrendingCashbackStores.bind(this),[t,r])}async _getTrendingCashbackStores(t,r){const o={ctaLink:null,stores:[]};try{if(t&&r){const n=await this.requestService.fetch(TRENDING_CASHBACK_STORES_URL).json();return n.viewAllLink&&n.showViewAll&&(o.ctaLink=n.viewAllLink),n.stores&&(o.stores=n.stores),o}return o}catch(n){return o}}};let TrendingCashbackStoresRepository=hn;Sr(TrendingCashbackStoresRepository,"instance");const INITIAL_STATE={ctaLink:null,stores:[]};var Tn;const gn=class{constructor(t,r){Et(this,Tn,INITIAL_STATE);this.authorization=t,this.trendingCashbackStoresRepository=r}static create(){var t;return(t=gn.instance)!=null||(gn.instance=new this(Authorization.create(),TrendingCashbackStoresRepository.create())),gn.instance}async getTrendingCashbackStoresInfo(){const t=await this.authorization.isLoggedIn(),r=await this.authorization.getIsInLoyalty();return No(this,Tn,await this.trendingCashbackStoresRepository.getTrendingCashbackStores(t,r)),{ctaLink:nt(this,Tn).ctaLink,stores:nt(this,Tn).stores}}};let TrendingCashbackStores=gn;Tn=new WeakMap,Sr(TrendingCashbackStores,"instance");var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(e,t,r,o)=>{for(var n=o>1?void 0:o?__getOwnPropDesc(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(n=(o?s(t,r,n):s(n))||n);return o&&n&&__defProp(t,r,n),n},xs;let PopupInitializer=(xs=class{constructor(e,t){this.authorization=e,this.trendingCashbackStores=t}static create(){var e;return PopupInitializer.instance=(e=PopupInitializer.instance)!=null?e:new this(Authorization.create(),TrendingCashbackStores.create()),PopupInitializer.instance}async getData(){const e=await this.authorization.getAuthInfo(),t=await this.trendingCashbackStores.getTrendingCashbackStoresInfo();return{authInfo:e,trendingCashbackStores:t}}},Sr(xs,"instance"),xs);PopupInitializer=__decorateClass([initializable],PopupInitializer);export{Transition as $,withCtx as A,BlueberryVue as B,createCommentVNode as C,browser as D,getUrlWithParams as E,AuthType as F,shallowRef as G,HOME_URL as H,h$1 as I,provide as J,PAGE_AUTH as K,normalizeClass as L,MerchantCouponType as M,normalizeStyle as N,useCssVars as O,PAGE_DEAL_DETAILS_SIDEBAR as P,pushScopeId as Q,popScopeId as R,SentryIO as S,createBaseVNode as T,resolveDynamicComponent as U,mergeProps as V,onBeforeUnmount as W,resolveComponent as X,resolveDirective as Y,withDirectives as Z,withModifiers as _,openBlock as a,MerchantFetching as a$,createTextVNode as a0,AttributionStatus as a1,LOYALTY_REWARDS_URL as a2,toDisplayString as a3,normalizeProps as a4,guardReactiveProps as a5,vShow as a6,LOYALTY_DOMAIN as a7,Fragment as a8,renderList as a9,IconService as aA,Analytics as aB,API as aC,getCouponTabCouponCount as aD,Authorization as aE,LoyaltyRepository as aF,DealDetailsOutclick as aG,TabService as aH,FrontpageDirectToMerchant as aI,FrontpageDirectToMerchantToggle as aJ,FRONTPAGE_DEALS_URL as aK,ATTACHMENT_PATTERN as aL,ATTACHMENT_URL as aM,EARLY_ACCESS_DEALS_URL as aN,EARLY_ACCESS_DEALS_STATIC_URL as aO,DOMAIN as aP,TRENDING_STORES_URL as aQ,ClientService as aR,AbTestService$1 as aS,SURVEY_MONKEY_POST_URL as aT,MerchantLookupService as aU,MerchantCouponManager as aV,AttributionService as aW,ConfigServiceManager as aX,ActiveSession as aY,SessionDataKey as aZ,RequestWatcher as a_,PAGE_PROFILE_REWARDS as aa,OptionKey as ab,options as ac,PAGE_PROFILE_ACCOUNT as ad,O as ae,vModelRadio as af,vModelText as ag,PAGE_FEEDBACK_FORM as ah,PAGE_SEARCH as ai,UrlService as aj,SEARCH_URL as ak,PAGE_TRENDING_CASHBACK_STORES as al,PAGE_COUPONS as am,PAGE_TRENDING_STORES as an,TERMS_AND_CONDITIONS_BASE_URL as ao,fetchForContentScript as ap,ExtensionConfigKey as aq,PAGE_STORE_DEALS as ar,PAGE_RCM_DEALS as as,PAGE_FRONTPAGE as at,purify as au,VueConfetti as av,Yr as aw,LocalStorageService as ax,RequestService as ay,UserOptionsService as az,createElementBlock as b,AMAZON as b$,LocalStorageCache as b0,SuppressionService as b1,LoyaltyActivationLastSeenService as b2,AutoOpenTabs as b3,MerchantTracking as b4,AllowTrackingService as b5,AttributionTabService as b6,MANIFEST_VERSION as b7,UAParser as b8,OnInstallService as b9,MICRO_CENTER as bA,DISNEY_MOVIE_INSIDERS as bB,CDKEYS as bC,ZAPPOS as bD,QVC as bE,B_H_PHOTO_VIDEO as bF,DICKS_SPORTING_GOODS as bG,LOWES as bH,DELL as bI,VUDU as bJ,MONOPRICE as bK,GAMESTOP as bL,KOHLS as bM,WALGREENS as bN,REI as bO,NIKE as bP,BUYDIG as bQ,SAMSUNG as bR,STEAM as bS,TARGET as bT,ADORAMA as bU,BESTBUY as bV,NEWEGG as bW,WOOT as bX,WALMART as bY,COSTCO as bZ,HOME_DEPOT as b_,NavigationService as ba,LANDING_PAGE as bb,ExtensionConfigService as bc,STORE_URL as bd,DeepLinkService as be,Heartbeat as bf,MerchantStates as bg,OutclickService as bh,DealDetailsService as bi,PopupInitializer as bj,MerchantService as bk,COLUMBIA_SPORTSWEAR as bl,VANS as bm,ACE_HARDWARE as bn,CHEWY as bo,SAMS_CLUB as bp,STAPLES as bq,ADIDAS as br,WAYFAIR as bs,VERIZON as bt,MACYS as bu,MICROSOFT_STORE as bv,LENOVO as bw,FANATICAL as bx,NINTENDO as by,GOOGLE_PLAY as bz,createBlock as c,withKeys as c0,PAGE_RCM_COUPONS as c1,TransitionGroup as c2,createSlots as c3,toHandlers as c4,CAA_JOIN_BONUS_URL as c5,CASHBACK_LANDING_PAGE as c6,debugLog as c7,getExtensionWindowCouponsUrl as c8,BROWSER_EXTENSION_TRACKING_API as c9,execCustomScript as ca,logTemplate as cb,INTERNAL_TRACKING_URL as cc,CapturerConfigId as cd,onBeforeMount as ce,PAGE_FLOATING_ICON as cf,defineComponent as d,createVNode as e,createApp as f,effectScope as g,isRef as h,inject as i,isReactive as j,toRef as k,getCurrentInstance as l,markRaw as m,reactive as n,onMounted as o,onUnmounted as p,nextTick as q,ref as r,toRefs as s,toRaw as t,unref as u,computed as v,watch as w,isCouponTabCoupon as x,MerchantId as y,renderSlot as z};

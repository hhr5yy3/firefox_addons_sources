{"version":3,"file":"privatePolicy-16cc7701.js","sources":["../../../../../../src/ui/assets/icons/privacity_main.svg","../../../../../../src/ui/components/PrivatePolicy/PrivatePolicy.component.tsx","../../../../../../src/ui/features/privatePolicy/view/PrivatePolicyView/PrivatePolicyView.component.tsx","../../../../../../src/ui/assets/scripts/pp.tsx"],"sourcesContent":["export default \"__VITE_ASSET__4ad920c8__\"","import React, {\n    ComponentElement,\n    FunctionComponent,\n    ReactComponentElement,\n    ReactEventHandler,\n    useState,\n} from 'react';\nimport styles from './PrivatePolicy.module.scss';\nimport { ReactComponent as PPIcon } from '~/ui/assets/icons/privacity_main.svg';\n\nimport { ReactComponent as Logo } from '~/ui/assets/chollo_logo_dark.datauri.svg';\n\nimport Button from '../Button/Button';\nimport { getExtensionPage } from '~/ui/utils/urlAccess';\nexport const PrivatePolicy: FunctionComponent<{\n    isAccepted: boolean;\n    ppCallback: ReactEventHandler;\n    inputCallback: ReactEventHandler;\n}> = ({ isAccepted = false, ppCallback, inputCallback }) => (\n    <div className={styles.ppContainer}>\n        <aside className={styles.aside}>\n            <div className={styles.ppIcon}>\n                <PPIcon />\n            </div>\n            <div className={styles.text}>\n                <h3>¡Ya casi estamos!</h3>\n                <p>Pero para poder acompañarte en tus compras, necesitamos tu autorización</p>\n            </div>\n        </aside>\n        <main>\n            <div className={styles.logo}>\n                <Logo />\n            </div>\n            <section className={styles.pp}>\n                <h3>Tu privacidad es importante para nosotros</h3>\n                <p>\n                    Para continuar con la instalación necesitamos que aceptes nuestra política de\n                    privacidad.\n                </p>\n                <div className={styles.checkPPText}>\n                    <input type=\"checkbox\" onChange={inputCallback} />\n\n                    <p>\n                        Permitir que la extensión de Chollometro obtenga mis datos de navegación\n                        para mostrarme los precios y cupones disponibles. Para más información,\n                        consulta la{' '}\n                        <a href={getExtensionPage('privacyConsent.html')} target=\"_blank\">\n                            política de privacidad\n                        </a>\n                        .\n                    </p>\n                </div>\n                <div className={styles.buttonWrapper}>\n                    <Button\n                        text=\"Finalizar instalación\"\n                        size=\"m\"\n                        disabled={!isAccepted}\n                        onClick={ppCallback}\n                        radius\n                    />\n                </div>\n            </section>\n        </main>\n    </div>\n);\n","import React, { useState } from 'react';\nimport styles from './PrivatePolicyView.module.scss';\nimport '~F/app/views/App/css/index.scss';\nimport { PrivatePolicy } from '~/ui/components/PrivatePolicy/PrivatePolicy.component';\nimport browser from '~B/browser/browser';\nimport { privatePolicyData } from '~B/storage/storage.repo';\nimport { metricsInstall } from '~F/app/api/metrics/metricsInstall.api';\n\nmetricsInstall.connect();\nexport const PPView = () => {\n    const [isAccepted, setIsAccepted] = useState(false);\n\n    const ppCallback = async () => {\n        setTimeout(async () => {\n            browser.runtime.reload();\n            window.close();\n        }, 500);\n        await metricsInstall.methods.installMetric({ name: 'ext-event-install' });\n        await privatePolicyData.set({ isPolicyAuth: true });\n        browser.tabs.create({\n            url: 'https://extension.chollometro.com/onboarding',\n        });\n\n        // todo check if metric call happens in backend  because front check does not work due to background reload. also is hard to detect with console debugging.\n        // solution approach would be to set a timeout in the reload call to allow metric call be done\n    };\n    const inputCallback = () => {\n        setIsAccepted(!isAccepted);\n    };\n    return (\n        <div className={styles.wrapper}>\n            <PrivatePolicy\n                isAccepted={isAccepted}\n                ppCallback={ppCallback}\n                inputCallback={inputCallback}\n            />\n        </div>\n    );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '~F/app/views/App/css/index.scss';\nimport '~A/chollo_logo_grey.png';\nimport { PPView } from '~F/privatePolicy/view/PrivatePolicyView/PrivatePolicyView.component';\n\nReactDOM.render(<PPView />, document.querySelector('.root'));\n"],"names":["React.createElement","PPIcon","Logo","useState","styles"],"mappings":"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"}
{"version":3,"file":"offscreen-1cb3bb6d.js","sources":["../../../../node_modules/wxt/dist/browser/index.mjs","../../../src/entrypoints/offscreen/OffscreenMain.ts","../../../src/entrypoints/offscreen/main.ts"],"sourcesContent":["import originalBrowser from \"webextension-polyfill\";\nexport const browser = originalBrowser;\n","import { makeMessageListener } from 'src/message';\n\nexport default class OffscreenMain {\n  private textArea;\n\n  constructor() {\n    this.textArea = document.createElement('textarea');\n    document.body.appendChild(this.textArea);\n  }\n\n  public init() {\n    browser.runtime.onMessage.addListener(this.handleMessage);\n  }\n\n  private handleMessage = makeMessageListener({\n    GetScreenSize: () => {\n      return {\n        width: window.screen.width,\n        height: window.screen.height,\n        availWidth: window.screen.availWidth,\n        availHeight: window.screen.availHeight,\n      };\n    },\n    ClearValueFromClipboard: async ({ value }) => {\n      this.textArea.select();\n      document.execCommand('paste');\n      const clipboardValue = this.textArea.value;\n      if (clipboardValue !== value) {\n        return;\n      }\n\n      // set value to null character as chrome will not copy empty string\n      this.textArea.value = '\\u0000';\n      this.textArea.select();\n      document.execCommand('copy');\n    },\n  });\n}\n","import OffscreenMain from './OffscreenMain';\n\nconst main = new OffscreenMain();\nmain.init();\n\nexport {};\n"],"names":["originalBrowser","OffscreenMain","constructor","textArea","handleMessage","makeMessageListener","GetScreenSize","width","window","screen","height","availWidth","availHeight","ClearValueFromClipboard","value","select","document","execCommand","clipboardValue","createElement","body","appendChild","init","browser","runtime","onMessage","addListener","main"],"mappings":";;;;;;;;AACO,MAAM,UAAUA;ACCvB,MAAqBC,cAAc;AAAA,EAGjCC,cAAc;AAFNC;AAWAC,yCAAgBC,oBAAoB;AAAA,MAC1CC,eAAeA,MAAM;AACZ,eAAA;AAAA,UACLC,OAAOC,OAAOC,OAAOF;AAAAA,UACrBG,QAAQF,OAAOC,OAAOC;AAAAA,UACtBC,YAAYH,OAAOC,OAAOE;AAAAA,UAC1BC,aAAaJ,OAAOC,OAAOG;AAAAA,QAAAA;AAAAA,MAE/B;AAAA,MACAC,yBAAyB,OAAO;AAAA,QAAEC;AAAAA,MAAAA,MAAY;AAC5C,aAAKX,SAASY;AACdC,iBAASC,YAAY,OAAO;AACtBC,cAAAA,iBAAiB,KAAKf,SAASW;AACrC,YAAII,mBAAmBJ,OAAO;AAC5B;AAAA,QACF;AAGA,aAAKX,SAASW,QAAQ;AACtB,aAAKX,SAASY;AACdC,iBAASC,YAAY,MAAM;AAAA,MAC7B;AAAA,IAAA,CACD;AA9BMd,SAAAA,WAAWa,SAASG,cAAc,UAAU;AACxCC,aAAAA,KAAKC,YAAY,KAAKlB,QAAQ;AAAA,EACzC;AAAA,EAEOmB,OAAO;AACZC,YAAQC,QAAQC,UAAUC,YAAY,KAAKtB,aAAa;AAAA,EAC1D;AAyBF;ACnCA,MAAMuB,OAAO,IAAI1B;AACjB0B,KAAKL,KAAK;","x_google_ignoreList":[0]}
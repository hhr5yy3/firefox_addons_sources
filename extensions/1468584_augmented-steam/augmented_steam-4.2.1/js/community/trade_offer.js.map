{
  "version": 3,
  "sources": ["../../../../node_modules/webextension-polyfill/dist/browser-polyfill.js", "../../../../node_modules/dompurify/src/utils.js", "../../../../node_modules/dompurify/src/tags.js", "../../../../node_modules/dompurify/src/attrs.js", "../../../../node_modules/dompurify/src/regexp.js", "../../../../node_modules/dompurify/src/purify.js", "../../../../src/js/Content/Modules/Context/Feature.ts", "../../../../src/js/Core/Errors/Errors.ts", "../../../../src/js/Content/Modules/Context/Context.ts", "../../../../src/js/Content/Modules/Context/ContextType.ts", "../../../../src/localization/compiled/_strings.ts", "../../../../src/js/Core/Info.ts", "../../../../src/js/Core/Storage/SyncedStorage.ts", "../../../../src/js/Core/Storage/Storage.ts", "../../../../src/js/Options/Data/Settings.ts", "../../../../src/js/Core/ExtensionResources.ts", "../../../../src/js/Core/Localization/Language.ts", "../../../../src/js/Core/Background.ts", "../../../../src/js/Core/Errors/ErrorParser.ts", "../../../../src/js/Content/Modules/Facades/SteamStoreApiFacade.ts", "../../../../src/js/Core/Localization/Localization.ts", "../../../../src/js/Core/Html/Html.ts", "../../../../src/js/Content/Features/Community/TradeOffer/FCountTradeItems.ts", "../../../../src/js/Content/Features/Community/TradeOffer/FMyTradeOffersLink.ts", "../../../../src/js/Content/Features/Community/TradeOffer/CTradeOffer.ts", "../../../../src/js/Core/Environment.ts", "../../../../src/js/Core/Storage/CookieReader.ts", "../../../../src/js/Core/Localization/LanguageFactory.ts", "../../../../src/js/Core/Html/HtmlParser.ts", "../../../../src/js/Content/Modules/Facades/SteamCommunityApiFacade.ts", "../../../../src/js/Content/Modules/RequestData.ts", "../../../../src/js/Core/User/LegacyUser.ts", "../../../../src/js/Core/User/ReactUser.ts", "../../../../src/js/Core/User/UserFactory.ts", "../../../../src/js/Content/Modules/DOMHelper.ts", "../../../../src/js/Content/Modules/Messaging/Messenger.ts", "../../../../src/js/Content/Modules/Facades/SteamFacade.ts", "../../../../src/js/Core/AppConfig/AppConfig.ts", "../../../../src/js/Core/AppConfig/AppConfigFactory.ts", "../../../../src/js/Content/Features/Community/TradeOffer/PTradeOffer.ts"],
  "sourcesContent": ["/* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (!globalThis.chrome?.runtime?.id) {\n  throw new Error(\"This script should only be loaded in a browser extension.\");\n}\n\nif (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          },\n          \"elements\": {\n            \"createSidebarPane\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goBack\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goForward\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.reject\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps an onRequestFinished listener function so that it will return a\n       * `getContent()` property which returns a `Promise` rather than using a\n       * callback API.\n       *\n       * @param {object} req\n       *        The HAR entry object representing the network request.\n       */\n      return function onRequestFinished(req) {\n        const wrappedReq = wrapObject(req, {} /* wrappers */, {\n          getContent: {\n            minArgs: 0,\n            maxArgs: 0,\n          },\n        });\n        listener(wrappedReq);\n      };\n    });\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(new Error(extensionAPIs.runtime.lastError.message));\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      devtools: {\n        network: {\n          onRequestFinished: wrapEvent(onRequestFinishedWrappers),\n        },\n      },\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = globalThis.browser;\n}\n", "const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nconst numberIsNaN = unapply(Number.isNaN);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param {Function} func - The function to be wrapped and called.\n * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param {Function} func - The constructor function to be wrapped and called.\n * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param {Object} set - The set to which elements will be added.\n * @param {Array} array - The array containing elements to be added to the set.\n * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns {Object} The modified set with added elements.\n */\nfunction addToSet(set, array, transformCaseFunc = stringToLowerCase) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param {Array} array - The array to be cleaned.\n * @returns {Array} The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param {Object} object - The object to be cloned.\n * @returns {Object} A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param {Object} object - The object to look up the getter function in its prototype chain.\n * @param {String} prop - The property name for which to find the getter function.\n * @returns {Function} The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue() {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Number\n  numberIsNaN,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n", "import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  numberIsNaN,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function () {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, purifyHostElement) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Specify the maximum element nesting depth to prevent mXSS */\n  const MAX_NESTING_DEPTH = 255;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg = {}) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n          cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n          cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      node.remove();\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param  {Node} root The root element or node to start traversing on.\n   * @return {NodeIterator} The created NodeIterator\n   */\n  const _createNodeIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      // eslint-disable-next-line unicorn/no-typeof-undefined\n      ((typeof elm.__depth !== 'undefined' &&\n        typeof elm.__depth !== 'number') ||\n        // eslint-disable-next-line unicorn/no-typeof-undefined\n        (typeof elm.__removalCount !== 'undefined' &&\n          typeof elm.__removalCount !== 'number') ||\n        typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function' ||\n        typeof elm.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param  {Node} object object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'function' && object instanceof Node;\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any ocurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document ||\n        value in formElement ||\n        value === '__depth' ||\n        value === '__removalCount')\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param {string} tagName name of the tag of the node to sanitize\n   * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      const parentNode = getParentNode(shadowNode);\n\n      /* Set the nesting depth of an element */\n      if (shadowNode.nodeType === NODE_TYPE.element) {\n        if (parentNode && parentNode.__depth) {\n          /*\n            We want the depth of the node in the original tree, which can\n            change when it's removed from its parent.\n          */\n          shadowNode.__depth =\n            (shadowNode.__removalCount || 0) + parentNode.__depth + 1;\n        } else {\n          shadowNode.__depth = 1;\n        }\n      }\n\n      /*\n       * Remove an element if nested too deeply to avoid mXSS\n       * or if the __depth might have been tampered with\n       */\n      if (\n        shadowNode.__depth >= MAX_NESTING_DEPTH ||\n        shadowNode.__depth < 0 ||\n        numberIsNaN(shadowNode.__depth)\n      ) {\n        _forceRemove(shadowNode);\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        shadowNode.content.__depth = shadowNode.__depth;\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} cfg object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      const parentNode = getParentNode(currentNode);\n\n      /* Set the nesting depth of an element */\n      if (currentNode.nodeType === NODE_TYPE.element) {\n        if (parentNode && parentNode.__depth) {\n          /*\n            We want the depth of the node in the original tree, which can\n            change when it's removed from its parent.\n          */\n          currentNode.__depth =\n            (currentNode.__removalCount || 0) + parentNode.__depth + 1;\n        } else {\n          currentNode.__depth = 1;\n        }\n      }\n\n      /*\n       * Remove an element if nested too deeply to avoid mXSS\n       * or if the __depth might have been tampered with\n       */\n      if (\n        currentNode.__depth >= MAX_NESTING_DEPTH ||\n        currentNode.__depth < 0 ||\n        numberIsNaN(currentNode.__depth)\n      ) {\n        _forceRemove(currentNode);\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        currentNode.content.__depth = currentNode.__depth;\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {String} tag Tag name of containing element.\n   * @param  {String} attr Attribute name.\n   * @param  {String} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n", "import type Context from \"@Content/Modules/Context/Context\";\r\n\r\nexport default abstract class Feature<C extends Context> {\r\n\r\n    public constructor(\r\n        protected context: C,\r\n    ) {}\r\n\r\n    public checkPrerequisites(): boolean|Promise<boolean> {\r\n        return true;\r\n    }\r\n\r\n    public abstract apply(): void|Promise<void>;\r\n\r\n    protected logError(err: unknown, msg: unknown, ...args: unknown[]): void {\r\n        console.group(this.constructor.name);\r\n        console.error(msg, ...args);\r\n        console.error(err);\r\n        console.groupEnd();\r\n    }\r\n}\r\n", "\r\nclass LoginError extends Error {\r\n    constructor(type: string) {\r\n        super(type);\r\n        this.name = \"LoginError\";\r\n    }\r\n}\r\n\r\nclass ServerOutageError extends Error {\r\n    constructor(msg: string) {\r\n        super(msg);\r\n        this.name = \"ServerOutageError\";\r\n    }\r\n}\r\n\r\nclass OAuthUnauthorized extends Error {\r\n    constructor(msg?: string) {\r\n        super(msg);\r\n        this.name = \"OAuth Unauthorized\";\r\n    }\r\n}\r\n\r\nclass HTTPError extends Error {\r\n    public code: number;\r\n\r\n    constructor(code: number, message: string) {\r\n        super(message);\r\n        this.code = code;\r\n    }\r\n}\r\n\r\nclass FeatureDependencyError extends Error {\r\n    public featureName: string;\r\n\r\n    constructor(msg: string, featureName: string) {\r\n        super(msg);\r\n        this.featureName = featureName;\r\n    }\r\n}\r\n\r\nexport default {\r\n    LoginError,\r\n    ServerOutageError,\r\n    HTTPError,\r\n    FeatureDependencyError,\r\n    OAuthUnauthorized\r\n};\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport type ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport Errors from \"@Core/Errors/Errors\";\r\nimport type Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport interface ContextParams {\r\n    language: Language|null,\r\n    user: UserInterface\r\n}\r\n\r\nexport default class Context {\r\n\r\n    public readonly language: Language|null = null;\r\n    public readonly user: UserInterface;\r\n    public readonly type: ContextType;\r\n\r\n    private readonly featureMap: Map<Function, Feature<Context>> = new Map();\r\n    private readonly promiseMap: Map<Function, Promise<boolean>> = new Map();\r\n    private readonly dependencies: Map<Function, Map<Function, boolean>> = new Map();\r\n\r\n    private stats = {\r\n        completed: 0,\r\n        failed: 0,\r\n        dependency: 0,\r\n    };\r\n\r\n    public static async create(_params: ContextParams): Promise<Context|null> {\r\n        // left for overrides, when init requires async things to finish because we can't await constructor\r\n        // TODO we should move all instantiation to init, make constructor private, probably?\r\n        return null;\r\n    }\r\n\r\n    constructor(\r\n        params: ContextParams,\r\n        type: ContextType,\r\n        features: (typeof Feature<Context>)[]\r\n    ) {\r\n        this.language = params.language;\r\n        this.user = params.user;\r\n        this.type = type;\r\n\r\n        for (let ref of features) {\r\n            // @ts-ignore\r\n            const feature = new ref(this);\r\n            this.featureMap.set(feature.constructor, feature)\r\n        }\r\n    }\r\n\r\n    dependency(dependent: Function, ...dependencies: Array<[Function, boolean]>) {\r\n        this.dependencies.set(dependent, new Map(dependencies));\r\n    }\r\n\r\n    async applyFeatures(): Promise<void> {\r\n\r\n        let promises = [...this.featureMap.values()].map(feature => this.getFeaturePromise(feature));\r\n        await Promise.allSettled(promises);\r\n\r\n        console.log(\r\n            \"Feature loading complete, %i successfully loaded, %i failed to load, %i didn't load due to dependency errors\",\r\n            this.stats.completed,\r\n            this.stats.failed,\r\n            this.stats.dependency\r\n        );\r\n    }\r\n\r\n    private getFeaturePromise(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        let promise = this.promiseMap.get(func);\r\n        if (!promise) {\r\n            promise = this.applyInternal(feature);\r\n            this.promiseMap.set(func, promise);\r\n\r\n        }\r\n        return promise;\r\n    }\r\n\r\n    private async applyInternal(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        const dependencies = this.dependencies.get(func);\r\n        if (dependencies) {\r\n            try {\r\n                let promises = [];\r\n                for (let [dependencyFunc, weak] of dependencies) {\r\n                    promises.push((async () => {\r\n                        const dependency = this.featureMap.get(dependencyFunc);\r\n                        if (!dependency) {\r\n                            throw new Errors.FeatureDependencyError(\"Dependency feature not found\", dependencyFunc.name);\r\n                        }\r\n                        let pass = await this.getFeaturePromise(dependency);\r\n                        return weak || pass;\r\n                    })());\r\n                }\r\n\r\n                if (!(await Promise.all(promises)).every(res => res)) {\r\n                    return false;\r\n                }\r\n            } catch(e) {\r\n                console.warn(\r\n                    \"Not applying feature %s due to an error in the dependency chain\",\r\n                    func.name\r\n                );\r\n                ++this.stats.dependency;\r\n            }\r\n        }\r\n\r\n        let pass = Boolean(await feature.checkPrerequisites());\r\n        if (pass) {\r\n            try {\r\n                await feature.apply();\r\n                ++this.stats.completed;\r\n            } catch(e) {\r\n                const featureName = func.name;\r\n\r\n                console.group(featureName);\r\n                console.error(\"Error while applying feature %s\", featureName);\r\n                console.error(e);\r\n                console.groupEnd();\r\n\r\n                ++this.stats.failed;\r\n                throw new Errors.FeatureDependencyError(\"Failed to apply\", featureName);\r\n            }\r\n        }\r\n        return pass;\r\n    }\r\n}\r\n", "\r\nconst enum ContextType {\r\n    ACCOUNT,\r\n    APP,\r\n    BUNDLE,\r\n    STORE_DEFAULT,\r\n    FUNDS,\r\n    REGISTER_KEY,\r\n    CART,\r\n    SEARCH,\r\n    CHARTS,\r\n    STORE_FRONT,\r\n    SUB,\r\n    WISHLIST,\r\n    AGECHECK,\r\n    COMMUNITY_DEFAULT,\r\n    WORKSHOP,\r\n    PROFILE_ACTIVITY,\r\n    GAMES,\r\n    PROFILE_EDIT,\r\n    BADGES,\r\n    GAME_CARD,\r\n    FRIENDS_THAT_PLAY,\r\n    GLOBAL_STATS,\r\n    MARKET_SEARCH,\r\n    INVENTORY,\r\n    MARKET_LISTING,\r\n    MARKET_HOME,\r\n    PROFILE_HOME,\r\n    GROUP_HOME,\r\n    GUIDES,\r\n    COMMUNITY_APP,\r\n    PROFILE_STATS,\r\n    MY_WORKSHOP,\r\n    SHARED_FILES,\r\n    WORKSHOP_BROWSE,\r\n    EDIT_GUIDE,\r\n    RECOMMENDED,\r\n    BOOSTER_CREATOR,\r\n    TRADE_OFFER,\r\n    FRIENDS_AND_GROUPS,\r\n    POINTS_SHOP,\r\n    LICENSES,\r\n}\r\n\r\nexport default ContextType;\r\n", "export const __deleteCommentPrompt = \"deleteCommentPrompt\";\r\nexport const __downloadDemoHeader = \"downloadDemoHeader\";\r\nexport const __featureHint_desc = \"featureHint_desc\";\r\nexport const __featureHint_reminder = \"featureHint_reminder\";\r\nexport const __thewordyes = \"thewordyes\";\r\nexport const __thewordno = \"thewordno\";\r\nexport const __theworderror = \"theworderror\";\r\nexport const __noData = \"noData\";\r\nexport const __toomanyrequests = \"toomanyrequests\";\r\nexport const __showComments = \"showComments\";\r\nexport const __hideComments = \"hideComments\";\r\nexport const __thewordunknown = \"thewordunknown\";\r\nexport const __calcWorkshopSize_fileSize = \"calcWorkshopSize_fileSize\";\r\nexport const __calcWorkshopSize_calcSize = \"calcWorkshopSize_calcSize\";\r\nexport const __calcWorkshopSize_calcLoading = \"calcWorkshopSize_calcLoading\";\r\nexport const __calcWorkshopSize_calcFinished = \"calcWorkshopSize_calcFinished\";\r\nexport const __calcWorkshopSize_totalSize = \"calcWorkshopSize_totalSize\";\r\nexport const __cart = \"cart\";\r\nexport const __inCart = \"inCart\";\r\nexport const __steamidOfUser = \"steamidOfUser\";\r\nexport const __copied = \"copied\";\r\nexport const __viewSteamid = \"viewSteamid\";\r\nexport const __moreOnSteampeek = \"moreOnSteampeek\";\r\nexport const __date = \"date\";\r\nexport const __rating = \"rating\";\r\nexport const __helpful = \"helpful\";\r\nexport const __funny = \"funny\";\r\nexport const __length = \"length\";\r\nexport const __visibility = \"visibility\";\r\nexport const __processing = \"processing\";\r\nexport const __wait = \"wait\";\r\nexport const __inviteFriends = \"inviteFriends\";\r\nexport const __inviteToGroup = \"inviteToGroup\";\r\nexport const __inverse = \"inverse\";\r\nexport const __transactionStatus = \"transactionStatus\";\r\nexport const __customTags = \"customTags\";\r\nexport const __addTag = \"addTag\";\r\nexport const __enterTag = \"enterTag\";\r\nexport const __status = \"status\";\r\nexport const __connect = \"connect\";\r\nexport const __connected = \"connected\";\r\nexport const __disconnect = \"disconnect\";\r\nexport const __disconnected = \"disconnected\";\r\nexport const __oneclickgoo = \"oneclickgoo\";\r\nexport const __viewInLibrary = \"viewInLibrary\";\r\nexport const __support = \"support\";\r\nexport const __email = \"email\";\r\nexport const __contact = \"contact\";\r\nexport const __favEmoticonsDragging = \"favEmoticonsDragging\";\r\nexport const __favEmoticonsNoAccess = \"favEmoticonsNoAccess\";\r\nexport const __postHistory = \"postHistory\";\r\nexport const __addNickname = \"addNickname\";\r\nexport const __totalSize = \"totalSize\";\r\nexport const __dlcDetails = \"dlcDetails\";\r\nexport const __badgeNotUnlocked = \"badgeNotUnlocked\";\r\nexport const __badgeLevel = \"badgeLevel\";\r\nexport const __each = \"each\";\r\nexport const __viewInMarket = \"viewInMarket\";\r\nexport const __remove = \"remove\";\r\nexport const __getHelp = \"getHelp\";\r\nexport const __addSelectedDlcToCart = \"addSelectedDlcToCart\";\r\nexport const __close = \"close\";\r\nexport const __error = \"error\";\r\nexport const __go = \"go\";\r\nexport const __activate = \"activate\";\r\nexport const __activateMultipleHeader = \"activateMultipleHeader\";\r\nexport const __activateMultiple = \"activateMultiple\";\r\nexport const __activateProducts = \"activateProducts\";\r\nexport const __couponApplicationNote = \"couponApplicationNote\";\r\nexport const __hide = \"hide\";\r\nexport const __filters = \"filters\";\r\nexport const __cardsOwned = \"cardsOwned\";\r\nexport const __libraryMenu = \"libraryMenu\";\r\nexport const __clearCache = \"clearCache\";\r\nexport const __translation = \"translation\";\r\nexport const __helpTranslate = \"helpTranslate\";\r\nexport const __lowest = \"lowest\";\r\nexport const __lowestPrice = \"lowestPrice\";\r\nexport const __viewBadgeProgress = \"viewBadgeProgress\";\r\nexport const __badgeProgress = \"badgeProgress\";\r\nexport const __salesTotal = \"salesTotal\";\r\nexport const __viewNormalBadge = \"viewNormalBadge\";\r\nexport const __apppageSections = \"apppageSections\";\r\nexport const __website = \"website\";\r\nexport const __games = \"games\";\r\nexport const __badgeCompletionCost = \"badgeCompletionCost\";\r\nexport const __loading = \"loading\";\r\nexport const __selling = \"selling\";\r\nexport const __quickSell = \"quickSell\";\r\nexport const __quickSellDesc = \"quickSellDesc\";\r\nexport const __instantSell = \"instantSell\";\r\nexport const __instantSellDesc = \"instantSellDesc\";\r\nexport const __quickSellVerify = \"quickSellVerify\";\r\nexport const __startingAt = \"startingAt\";\r\nexport const __homepageTabs = \"homepageTabs\";\r\nexport const __store = \"store\";\r\nexport const __viewInStore = \"viewInStore\";\r\nexport const __communityHub = \"communityHub\";\r\nexport const __viewOnWebsite = \"viewOnWebsite\";\r\nexport const __drmThirdParty = \"drmThirdParty\";\r\nexport const __hoursShort = \"hoursShort\";\r\nexport const __spamCommentShow = \"spamCommentShow\";\r\nexport const __addToWishlist = \"addToWishlist\";\r\nexport const __addFullgameToWishlist = \"addFullgameToWishlist\";\r\nexport const __addToWaitlist = \"addToWaitlist\";\r\nexport const __addFullgameToWaitlist = \"addFullgameToWaitlist\";\r\nexport const __removeFromWaitlistTooltip = \"removeFromWaitlistTooltip\";\r\nexport const __removeFullgameFromWaitlistTooltip = \"removeFullgameFromWaitlistTooltip\";\r\nexport const __removeFromWishlistAndWaitlistTooltip = \"removeFromWishlistAndWaitlistTooltip\";\r\nexport const __removeFullgameFromWishlistAndWaitlistTooltip = \"removeFullgameFromWishlistAndWaitlistTooltip\";\r\nexport const __language = \"language\";\r\nexport const __theworddefault = \"theworddefault\";\r\nexport const __thewordclear = \"thewordclear\";\r\nexport const __couponLearnMore_linkText = \"couponLearnMore_linkText\";\r\nexport const __couponLearnMore_fullText = \"couponLearnMore_fullText\";\r\nexport const __show = \"show\";\r\nexport const __showAll = \"showAll\";\r\nexport const __badgesAll = \"badgesAll\";\r\nexport const __esSupporter = \"esSupporter\";\r\nexport const __community = \"community\";\r\nexport const __ownedCollection = \"ownedCollection\";\r\nexport const __viewBadge = \"viewBadge\";\r\nexport const __purchaseTotal = \"purchaseTotal\";\r\nexport const __viewFoilBadge = \"viewFoilBadge\";\r\nexport const __viewAstats = \"viewAstats\";\r\nexport const __contribute = \"contribute\";\r\nexport const __reviews = \"reviews\";\r\nexport const __readReviews = \"readReviews\";\r\nexport const __readMoreReviews = \"readMoreReviews\";\r\nexport const __youtubeGameplay = \"youtubeGameplay\";\r\nexport const __youtubeReviews = \"youtubeReviews\";\r\nexport const __packageInfo = \"packageInfo\";\r\nexport const __badgeCompletionAvg = \"badgeCompletionAvg\";\r\nexport const __volumeSoldLast_24 = \"volumeSoldLast_24\";\r\nexport const __soldLast_24 = \"soldLast_24\";\r\nexport const __homepageCurators = \"homepageCurators\";\r\nexport const __homepageTopnewreleases = \"homepageTopnewreleases\";\r\nexport const __homepageSidebar = \"homepageSidebar\";\r\nexport const __dropCalc = \"dropCalc\";\r\nexport const __price = \"price\";\r\nexport const __marketTransactions = \"marketTransactions\";\r\nexport const __loadMarketStats = \"loadMarketStats\";\r\nexport const __cardDropsRemaining = \"cardDropsRemaining\";\r\nexport const __badgesDrops = \"badgesDrops\";\r\nexport const __usingLanguageReturn = \"usingLanguageReturn\";\r\nexport const __guides = \"guides\";\r\nexport const __highlight = \"highlight\";\r\nexport const __save = \"save\";\r\nexport const __view = \"view\";\r\nexport const __gameName = \"gameName\";\r\nexport const __notinterested = \"notinterested\";\r\nexport const __ignoredOwned = \"ignoredOwned\";\r\nexport const __searchFilters_reviewsScore_between = \"searchFilters_reviewsScore_between\";\r\nexport const __searchFilters_reviewsScore_any = \"searchFilters_reviewsScore_any\";\r\nexport const __searchFilters_reviewsScore_upTo = \"searchFilters_reviewsScore_upTo\";\r\nexport const __searchFilters_reviewsScore_from = \"searchFilters_reviewsScore_from\";\r\nexport const __searchFilters_reviewsCount_count = \"searchFilters_reviewsCount_count\";\r\nexport const __searchFilters_reviewsCount_minCount = \"searchFilters_reviewsCount_minCount\";\r\nexport const __searchFilters_reviewsCount_maxCount = \"searchFilters_reviewsCount_maxCount\";\r\nexport const __searchFilters_discountPercent_count = \"searchFilters_discountPercent_count\";\r\nexport const __searchFilters_discountPercent_minCount = \"searchFilters_discountPercent_minCount\";\r\nexport const __searchFilters_discountPercent_maxCount = \"searchFilters_discountPercent_maxCount\";\r\nexport const __searchFilters_hideCart = \"searchFilters_hideCart\";\r\nexport const __searchFilters_hideEa = \"searchFilters_hideEa\";\r\nexport const __searchFilters_hideMixed = \"searchFilters_hideMixed\";\r\nexport const __searchFilters_hideNegative = \"searchFilters_hideNegative\";\r\nexport const __news = \"news\";\r\nexport const __viewinclient = \"viewinclient\";\r\nexport const __customBackground = \"customBackground\";\r\nexport const __customStyle = \"customStyle\";\r\nexport const __customStyleHelp = \"customStyleHelp\";\r\nexport const __noneselected = \"noneselected\";\r\nexport const __mostDrops = \"mostDrops\";\r\nexport const __netGain = \"netGain\";\r\nexport const __apppageRecentupdates = \"apppageRecentupdates\";\r\nexport const __apppageEaheader = \"apppageEaheader\";\r\nexport const __apppageEabanner = \"apppageEabanner\";\r\nexport const __apppageWorkshop = \"apppageWorkshop\";\r\nexport const __apppageGreenlight = \"apppageGreenlight\";\r\nexport const __apppageLegal = \"apppageLegal\";\r\nexport const __apppageFranchise = \"apppageFranchise\";\r\nexport const __apppageMorefromfranchise = \"apppageMorefromfranchise\";\r\nexport const __bugFeature = \"bugFeature\";\r\nexport const __always = \"always\";\r\nexport const __ratingDetails = \"ratingDetails\";\r\nexport const __dropsWorthAvg = \"dropsWorthAvg\";\r\nexport const __familySharingNotice_notice = \"familySharingNotice_notice\";\r\nexport const __familySharingNotice_desc = \"familySharingNotice_desc\";\r\nexport const __visitStore = \"visitStore\";\r\nexport const __all = \"all\";\r\nexport const __externalFunds = \"externalFunds\";\r\nexport const __shoppingCartHistory = \"shoppingCartHistory\";\r\nexport const __manageWebapiKey = \"manageWebapiKey\";\r\nexport const __steamCloudHeader = \"steamCloudHeader\";\r\nexport const __steamCloudSaves = \"steamCloudSaves\";\r\nexport const __gamesWithDrops = \"gamesWithDrops\";\r\nexport const __binderView = \"binderView\";\r\nexport const __usingLanguage = \"usingLanguage\";\r\nexport const __loginWarning = \"loginWarning\";\r\nexport const __visitTradeForum = \"visitTradeForum\";\r\nexport const __purchaseDate = \"purchaseDate\";\r\nexport const __customBackgroundHelp = \"customBackgroundHelp\";\r\nexport const __dateUnlocked = \"dateUnlocked\";\r\nexport const __netSpent = \"netSpent\";\r\nexport const __buy = \"buy\";\r\nexport const __buyPackage = \"buyPackage\";\r\nexport const __moreInformation = \"moreInformation\";\r\nexport const __regionUnavailable = \"regionUnavailable\";\r\nexport const __avgPrice_3cards = \"avgPrice_3cards\";\r\nexport const __groups_leaveGroupsConfirm = \"groups_leaveGroupsConfirm\";\r\nexport const __groups_manageGroups = \"groups_manageGroups\";\r\nexport const __groups_actionGroups = \"groups_actionGroups\";\r\nexport const __groups_select = \"groups_select\";\r\nexport const __groups_leave = \"groups_leave\";\r\nexport const __groups_selected = \"groups_selected\";\r\nexport const __groups_leaveAdminConfirm_currentlyAdmin = \"groups_leaveAdminConfirm_currentlyAdmin\";\r\nexport const __groups_leaveAdminConfirm_wantToLeave = \"groups_leaveAdminConfirm_wantToLeave\";\r\nexport const __export_wishlist = \"export_wishlist\";\r\nexport const __export_type = \"export_type\";\r\nexport const __export_format = \"export_format\";\r\nexport const __export_text = \"export_text\";\r\nexport const __export_download = \"export_download\";\r\nexport const __export_copyClipboard = \"export_copyClipboard\";\r\nexport const __none = \"none\";\r\nexport const __emptyWishlist_title = \"emptyWishlist_title\";\r\nexport const __emptyWishlist_confirm = \"emptyWishlist_confirm\";\r\nexport const __emptyWishlist_removing = \"emptyWishlist_removing\";\r\nexport const __about = \"about\";\r\nexport const __never = \"never\";\r\nexport const __couponAvailable = \"couponAvailable\";\r\nexport const __launchRandom = \"launchRandom\";\r\nexport const __playGame = \"playGame\";\r\nexport const __dropsValue = \"dropsValue\";\r\nexport const __cardsRemain = \"cardsRemain\";\r\nexport const __wishlist = \"wishlist\";\r\nexport const __onWishlist = \"onWishlist\";\r\nexport const __onWaitlist = \"onWaitlist\";\r\nexport const __onWishlistAndWaitlist = \"onWishlistAndWaitlist\";\r\nexport const __ok = \"ok\";\r\nexport const __cancel = \"cancel\";\r\nexport const __wikiArticle = \"wikiArticle\";\r\nexport const __viewAll = \"viewAll\";\r\nexport const __gamesWithBooster = \"gamesWithBooster\";\r\nexport const __sortBy = \"sortBy\";\r\nexport const __playtime = \"playtime\";\r\nexport const __awards = \"awards\";\r\nexport const __year = \"year\";\r\nexport const __lastonline = \"lastonline\";\r\nexport const __members = \"members\";\r\nexport const __name = \"name\";\r\nexport const __drmThirdPartySub = \"drmThirdPartySub\";\r\nexport const __customize = \"customize\";\r\nexport const __bundleSavingText = \"bundleSavingText\";\r\nexport const __thewordoptions = \"thewordoptions\";\r\nexport const __discussions = \"discussions\";\r\nexport const __pricing_lowestPrice = \"pricing_lowestPrice\";\r\nexport const __pricing_historicalLow = \"pricing_historicalLow\";\r\nexport const __pricing_bundled = \"pricing_bundled\";\r\nexport const __pricing_withVoucher = \"pricing_withVoucher\";\r\nexport const __pricing_store = \"pricing_store\";\r\nexport const __pricing_bundleCount = \"pricing_bundleCount\";\r\nexport const __webBrowserChat = \"webBrowserChat\";\r\nexport const __steamClientChat = \"steamClientChat\";\r\nexport const __equipOnProfile = \"equipOnProfile\";\r\nexport const __previewBackground = \"previewBackground\";\r\nexport const __expandSlider = \"expandSlider\";\r\nexport const __contractSlider = \"contractSlider\";\r\nexport const __earlyAccess = \"earlyAccess\";\r\nexport const __tagShort = \"tagShort\";\r\nexport const __noPriceData = \"noPriceData\";\r\nexport const __userScore = \"userScore\";\r\nexport const __marketPopularItemsToggle = \"marketPopularItemsToggle\";\r\nexport const __showProgressbar = \"showProgressbar\";\r\nexport const __achievements_option = \"achievements_option\";\r\nexport const __achievements_summary = \"achievements_summary\";\r\nexport const __bundle_offerEnds = \"bundle_offerEnds\";\r\nexport const __bundle_includes = \"bundle_includes\";\r\nexport const __bundle_tierIncludes = \"bundle_tierIncludes\";\r\nexport const __bundle_tier = \"bundle_tier\";\r\nexport const __bundle_header = \"bundle_header\";\r\nexport const __bundle_info = \"bundle_info\";\r\nexport const __charts_peakall = \"charts_peakall\";\r\nexport const __charts_current = \"charts_current\";\r\nexport const __charts_playingNow = \"charts_playingNow\";\r\nexport const __charts_peaktoday = \"charts_peaktoday\";\r\nexport const __hltb_title = \"hltb_title\";\r\nexport const __hltb_mainE = \"hltb_mainE\";\r\nexport const __hltb_compl = \"hltb_compl\";\r\nexport const __hltb_main = \"hltb_main\";\r\nexport const __options_friendsAndGroups = \"options_friendsAndGroups\";\r\nexport const __options_friendsAppendNickname = \"options_friendsAppendNickname\";\r\nexport const __options_settingsMngmt_import = \"options_settingsMngmt_import\";\r\nexport const __options_settingsMngmt_importSuccess = \"options_settingsMngmt_importSuccess\";\r\nexport const __options_settingsMngmt_importFail = \"options_settingsMngmt_importFail\";\r\nexport const __options_settingsMngmt_export = \"options_settingsMngmt_export\";\r\nexport const __options_settingsMngmt_reset = \"options_settingsMngmt_reset\";\r\nexport const __options_showCustomThemes = \"options_showCustomThemes\";\r\nexport const __options_communityDefaultTab = \"options_communityDefaultTab\";\r\nexport const __options_videos = \"options_videos\";\r\nexport const __options_broadcasts = \"options_broadcasts\";\r\nexport const __options_artwork = \"options_artwork\";\r\nexport const __options_screenshots = \"options_screenshots\";\r\nexport const __options_showBacktotop = \"options_showBacktotop\";\r\nexport const __options_contextMenu = \"options_contextMenu\";\r\nexport const __options_contextSteamStore = \"options_contextSteamStore\";\r\nexport const __options_contextSteamMarket = \"options_contextSteamMarket\";\r\nexport const __options_contextItad = \"options_contextItad\";\r\nexport const __options_contextBartervg = \"options_contextBartervg\";\r\nexport const __options_contextSteamdb = \"options_contextSteamdb\";\r\nexport const __options_contextSteamdbInstant = \"options_contextSteamdbInstant\";\r\nexport const __options_contextSteamKeys = \"options_contextSteamKeys\";\r\nexport const __options_wsgf = \"options_wsgf\";\r\nexport const __options_versionShow = \"options_versionShow\";\r\nexport const __options_steamcardexchange = \"options_steamcardexchange\";\r\nexport const __options_regionalPrice = \"options_regionalPrice\";\r\nexport const __options_excludef2p = \"options_excludef2p\";\r\nexport const __options_profileLinkImagesNone = \"options_profileLinkImagesNone\";\r\nexport const __options_profileLinks = \"options_profileLinks\";\r\nexport const __options_tag = \"options_tag\";\r\nexport const __options_icon = \"options_icon\";\r\nexport const __options_name = \"options_name\";\r\nexport const __options_showAlternativeLinuxIcon = \"options_showAlternativeLinuxIcon\";\r\nexport const __options_replacecommunityhublinks = \"options_replacecommunityhublinks\";\r\nexport const __options_hideannouncementcomments = \"options_hideannouncementcomments\";\r\nexport const __options_hidetmsymbols = \"options_hidetmsymbols\";\r\nexport const __options_metacritic = \"options_metacritic\";\r\nexport const __options_opencritic = \"options_opencritic\";\r\nexport const __options_hideactivelistings = \"options_hideactivelistings\";\r\nexport const __options_showlowestmarketprice = \"options_showlowestmarketprice\";\r\nexport const __options_clear = \"options_clear\";\r\nexport const __options_coupon = \"options_coupon\";\r\nexport const __options_showPackageInfo = \"options_showPackageInfo\";\r\nexport const __options_wlbuttoncommunityapp = \"options_wlbuttoncommunityapp\";\r\nexport const __options_removeguideslanguagefilter = \"options_removeguideslanguagefilter\";\r\nexport const __options_confirmdeletecomment = \"options_confirmdeletecomment\";\r\nexport const __options_disablelinkfilter = \"options_disablelinkfilter\";\r\nexport const __options_regionalPriceOn = \"options_regionalPriceOn\";\r\nexport const __options_horizontalscrolling = \"options_horizontalscrolling\";\r\nexport const __options_supportinfo = \"options_supportinfo\";\r\nexport const __options_drm = \"options_drm\";\r\nexport const __options_profileLinkImages = \"options_profileLinkImages\";\r\nexport const __options_show1clickgoo = \"options_show1clickgoo\";\r\nexport const __options_hltb = \"options_hltb\";\r\nexport const __options_hidespamcomments = \"options_hidespamcomments\";\r\nexport const __options_gift = \"options_gift\";\r\nexport const __options_regionalPriceMouse = \"options_regionalPriceMouse\";\r\nexport const __options_lowestpriceHeader = \"options_lowestpriceHeader\";\r\nexport const __options_storesAll = \"options_storesAll\";\r\nexport const __options_viewInCurrency = \"options_viewInCurrency\";\r\nexport const __options_showEarlyAccess = \"options_showEarlyAccess\";\r\nexport const __options_profileLinkImagesGray = \"options_profileLinkImagesGray\";\r\nexport const __options_quickinv = \"options_quickinv\";\r\nexport const __options_quickinvDiff = \"options_quickinvDiff\";\r\nexport const __options_sendAgeInfo = \"options_sendAgeInfo\";\r\nexport const __options_removebroadcasts = \"options_removebroadcasts\";\r\nexport const __options_exfgls = \"options_exfgls\";\r\nexport const __options_mp4video = \"options_mp4video\";\r\nexport const __options_youtube = \"options_youtube\";\r\nexport const __options_twitch = \"options_twitch\";\r\nexport const __options_pcgw = \"options_pcgw\";\r\nexport const __options_completionistme = \"options_completionistme\";\r\nexport const __options_protondb = \"options_protondb\";\r\nexport const __options_storeSteamcards = \"options_storeSteamcards\";\r\nexport const __options_spamcommentregex = \"options_spamcommentregex\";\r\nexport const __options_regionalHideworld = \"options_regionalHideworld\";\r\nexport const __options_showAstatslink = \"options_showAstatslink\";\r\nexport const __options_showYoutubegameplay = \"options_showYoutubegameplay\";\r\nexport const __options_showYoutubereviews = \"options_showYoutubereviews\";\r\nexport const __options_openinnewtab = \"options_openinnewtab\";\r\nexport const __options_showbartervg = \"options_showbartervg\";\r\nexport const __options_guest = \"options_guest\";\r\nexport const __options_collection = \"options_collection\";\r\nexport const __options_waitlist = \"options_waitlist\";\r\nexport const __options_showPlayersInfo = \"options_showPlayersInfo\";\r\nexport const __options_showallstats = \"options_showallstats\";\r\nexport const __options_lowestpriceOnwishlist = \"options_lowestpriceOnwishlist\";\r\nexport const __options_steamrepapi = \"options_steamrepapi\";\r\nexport const __options_profileSteamid = \"options_profileSteamid\";\r\nexport const __options_profilePinnedBg = \"options_profilePinnedBg\";\r\nexport const __options_lowestprice = \"options_lowestprice\";\r\nexport const __options_owned = \"options_owned\";\r\nexport const __options_itadlinks = \"options_itadlinks\";\r\nexport const __options_steamdb = \"options_steamdb\";\r\nexport const __options_profileLinkImagesColor = \"options_profileLinkImagesColor\";\r\nexport const __options_showViewInLibrary = \"options_showViewInLibrary\";\r\nexport const __options_installSteamButton = \"options_installSteamButton\";\r\nexport const __options_replaceViewClient = \"options_replaceViewClient\";\r\nexport const __options_showEmptyWishlist = \"options_showEmptyWishlist\";\r\nexport const __options_showWishlistStats = \"options_showWishlistStats\";\r\nexport const __options_oneclickremovewl = \"options_oneclickremovewl\";\r\nexport const __options_userNotes_userNotes = \"options_userNotes_userNotes\";\r\nexport const __options_userNotes_app = \"options_userNotes_app\";\r\nexport const __options_userNotes_wishlist = \"options_userNotes_wishlist\";\r\nexport const __options_userNotes_loc = \"options_userNotes_loc\";\r\nexport const __options_userNotes_syncedStorage = \"options_userNotes_syncedStorage\";\r\nexport const __options_userNotes_local = \"options_userNotes_local\";\r\nexport const __options_inventoryNavText = \"options_inventoryNavText\";\r\nexport const __options_marketTotal = \"options_marketTotal\";\r\nexport const __options_lowestpriceCoupon = \"options_lowestpriceCoupon\";\r\nexport const __options_general = \"options_general\";\r\nexport const __options_apppage = \"options_apppage\";\r\nexport const __options_market = \"options_market\";\r\nexport const __options_inventory = \"options_inventory\";\r\nexport const __options_profile = \"options_profile\";\r\nexport const __options_group = \"options_group\";\r\nexport const __options_friendActivity = \"options_friendActivity\";\r\nexport const __options_groupLinks = \"options_groupLinks\";\r\nexport const __options_showLanguagewarning = \"options_showLanguagewarning\";\r\nexport const __options_homepage = \"options_homepage\";\r\nexport const __options_homepageDefaultTab = \"options_homepageDefaultTab\";\r\nexport const __options_homepageDefaultTabRemember = \"options_homepageDefaultTabRemember\";\r\nexport const __options_homepageDefaultTabNewreleases = \"options_homepageDefaultTabNewreleases\";\r\nexport const __options_homepageDefaultTabTopsellers = \"options_homepageDefaultTabTopsellers\";\r\nexport const __options_homepageDefaultTabUpcoming = \"options_homepageDefaultTabUpcoming\";\r\nexport const __options_homepageDefaultTabSpecials = \"options_homepageDefaultTabSpecials\";\r\nexport const __options_homepageDefaultTabFree = \"options_homepageDefaultTabFree\";\r\nexport const __options_wishlist = \"options_wishlist\";\r\nexport const __options_addAnotherRegion = \"options_addAnotherRegion\";\r\nexport const __options_skipGotSteam = \"options_skipGotSteam\";\r\nexport const __options_storeGeneralThirdparty = \"options_storeGeneralThirdparty\";\r\nexport const __options_purchaseDates = \"options_purchaseDates\";\r\nexport const __options_showBadgeProgress = \"options_showBadgeProgress\";\r\nexport const __options_showCoupon = \"options_showCoupon\";\r\nexport const __options_showWishlistLink = \"options_showWishlistLink\";\r\nexport const __options_showWishlistCount = \"options_showWishlistCount\";\r\nexport const __options_profileShowcaseTwitch = \"options_profileShowcaseTwitch\";\r\nexport const __options_profileShowcaseOwnTwitch = \"options_profileShowcaseOwnTwitch\";\r\nexport const __options_profileShowcaseTwitchProfileonly = \"options_profileShowcaseTwitchProfileonly\";\r\nexport const __options_lang_english = \"options_lang_english\";\r\nexport const __options_lang_brazilian = \"options_lang_brazilian\";\r\nexport const __options_lang_bulgarian = \"options_lang_bulgarian\";\r\nexport const __options_lang_czech = \"options_lang_czech\";\r\nexport const __options_lang_danish = \"options_lang_danish\";\r\nexport const __options_lang_dutch = \"options_lang_dutch\";\r\nexport const __options_lang_finnish = \"options_lang_finnish\";\r\nexport const __options_lang_french = \"options_lang_french\";\r\nexport const __options_lang_greek = \"options_lang_greek\";\r\nexport const __options_lang_german = \"options_lang_german\";\r\nexport const __options_lang_hungarian = \"options_lang_hungarian\";\r\nexport const __options_lang_indonesian = \"options_lang_indonesian\";\r\nexport const __options_lang_italian = \"options_lang_italian\";\r\nexport const __options_lang_japanese = \"options_lang_japanese\";\r\nexport const __options_lang_koreana = \"options_lang_koreana\";\r\nexport const __options_lang_norwegian = \"options_lang_norwegian\";\r\nexport const __options_lang_polish = \"options_lang_polish\";\r\nexport const __options_lang_portuguese = \"options_lang_portuguese\";\r\nexport const __options_lang_russian = \"options_lang_russian\";\r\nexport const __options_lang_romanian = \"options_lang_romanian\";\r\nexport const __options_lang_schinese = \"options_lang_schinese\";\r\nexport const __options_lang_spanish = \"options_lang_spanish\";\r\nexport const __options_lang_latam = \"options_lang_latam\";\r\nexport const __options_lang_swedish = \"options_lang_swedish\";\r\nexport const __options_lang_tchinese = \"options_lang_tchinese\";\r\nexport const __options_lang_thai = \"options_lang_thai\";\r\nexport const __options_lang_turkish = \"options_lang_turkish\";\r\nexport const __options_lang_ukrainian = \"options_lang_ukrainian\";\r\nexport const __options_lang_vietnamese = \"options_lang_vietnamese\";\r\nexport const __options_addCustomLink = \"options_addCustomLink\";\r\nexport const __options_autoDetect = \"options_autoDetect\";\r\nexport const __options_addToWaitlist = \"options_addToWaitlist\";\r\nexport const __options_collectionBannerNotOwned = \"options_collectionBannerNotOwned\";\r\nexport const __options_maintainers = \"options_maintainers\";\r\nexport const __options_withHelpOf = \"options_withHelpOf\";\r\nexport const __options_contributors = \"options_contributors\";\r\nexport const __options_aboutDesc = \"options_aboutDesc\";\r\nexport const __options_aboutDescLinks = \"options_aboutDescLinks\";\r\nexport const __options_footerFork = \"options_footerFork\";\r\nexport const __options_footerAuthor = \"options_footerAuthor\";\r\nexport const __ready_loading = \"ready_loading\";\r\nexport const __ready_ready = \"ready_ready\";\r\nexport const __ready_failed = \"ready_failed\";\r\nexport const __ready_serverOutage = \"ready_serverOutage\";\r\nexport const __twitch_nowStreaming = \"twitch_nowStreaming\";\r\nexport const __twitch_viewers = \"twitch_viewers\";\r\nexport const __dlcSelect_wishlistedDlc = \"dlcSelect_wishlistedDlc\";\r\nexport const __dlcSelect_none = \"dlcSelect_none\";\r\nexport const __dlcSelect_unownedDlc = \"dlcSelect_unownedDlc\";\r\nexport const __tag_wishlist = \"tag_wishlist\";\r\nexport const __tag_coupon = \"tag_coupon\";\r\nexport const __tag_invGift = \"tag_invGift\";\r\nexport const __tag_invGuestpass = \"tag_invGuestpass\";\r\nexport const __tag_owned = \"tag_owned\";\r\nexport const __tag_notinterested = \"tag_notinterested\";\r\nexport const __tag_ignoredOwned = \"tag_ignoredOwned\";\r\nexport const __tag_collection = \"tag_collection\";\r\nexport const __tag_waitlist = \"tag_waitlist\";\r\nexport const __wallet_customAmount = \"wallet_customAmount\";\r\nexport const __wallet_customAmountText = \"wallet_customAmountText\";\r\nexport const __wallet_customGiftcard = \"wallet_customGiftcard\";\r\nexport const __wsgf_incomplete = \"wsgf_incomplete\";\r\nexport const __wsgf_unsupported = \"wsgf_unsupported\";\r\nexport const __wsgf_gold = \"wsgf_gold\";\r\nexport const __wsgf_silver = \"wsgf_silver\";\r\nexport const __wsgf_limited = \"wsgf_limited\";\r\nexport const __wsgf_certifications = \"wsgf_certifications\";\r\nexport const __itad_enableSyncLibrary = \"itad_enableSyncLibrary\";\r\nexport const __itad_enableSyncWishlist = \"itad_enableSyncWishlist\";\r\nexport const __itad_import = \"itad_import\";\r\nexport const __itad_lastImport = \"itad_lastImport\";\r\nexport const __itad_from = \"itad_from\";\r\nexport const __itad_to = \"itad_to\";\r\nexport const __itad_syncNow = \"itad_syncNow\";\r\nexport const __itad_info_itadSteam = \"itad_info_itadSteam\";\r\nexport const __itad_info_steamItad = \"itad_info_steamItad\";\r\nexport const __itad_syncEvents = \"itad_syncEvents\";\r\nexport const __tradeoffer_numItem = \"tradeoffer_numItem\";\r\nexport const __tradeoffer_numItems = \"tradeoffer_numItems\";\r\nexport const __tradeoffer_back = \"tradeoffer_back\";\r\nexport const __update_dontShow = \"update_dontShow\";\r\nexport const __update_updated = \"update_updated\";\r\nexport const __update_changes = \"update_changes\";\r\nexport const __register_success = \"register_success\";\r\nexport const __register_owned = \"register_owned\";\r\nexport const __register_notavail = \"register_notavail\";\r\nexport const __register_invalid = \"register_invalid\";\r\nexport const __register_already = \"register_already\";\r\nexport const __register_dlc = \"register_dlc\";\r\nexport const __register_wallet = \"register_wallet\";\r\nexport const __register_toomany = \"register_toomany\";\r\nexport const __register_default = \"register_default\";\r\nexport const __wl_label = \"wl_label\";\r\nexport const __wl_totalPrice = \"wl_totalPrice\";\r\nexport const __wl_inWishlist = \"wl_inWishlist\";\r\nexport const __wl_onSale = \"wl_onSale\";\r\nexport const __wl_noPrice = \"wl_noPrice\";\r\nexport const __wl_hidden = \"wl_hidden\";\r\nexport const __wl_hiddenTooltip = \"wl_hiddenTooltip\";\r\nexport const __wl_removeTitle = \"wl_removeTitle\";\r\nexport const __wl_removeConfirm = \"wl_removeConfirm\";\r\nexport const __wl_removeConfirmWarn = \"wl_removeConfirmWarn\";\r\nexport const __coll_totalTime = \"coll_totalTime\";\r\nexport const __coll_inCollection = \"coll_inCollection\";\r\nexport const __coll_played = \"coll_played\";\r\nexport const __coll_neverPlayed = \"coll_neverPlayed\";\r\nexport const __userNote_add = \"userNote_add\";\r\nexport const __userNote_update = \"userNote_update\";\r\nexport const __userNote_addForGame = \"userNote_addForGame\";\r\nexport const __userNote_notEnoughSpace = \"userNote_notEnoughSpace\";\r\nexport const __userNote_notEnoughSpaceDesc = \"userNote_notEnoughSpaceDesc\";\r\nexport const __userNote_closeOnStorage = \"userNote_closeOnStorage\";\r\nexport const __userNote_closeOnStorageDesc = \"userNote_closeOnStorageDesc\";\r\nexport const __userNote_storageWarningDesc = \"userNote_storageWarningDesc\";\r\nexport const __userNote_saveSyncedStorage = \"userNote_saveSyncedStorage\";\r\nexport const __userNote_saveLocal = \"userNote_saveLocal\";\r\nexport const __userNote_syncOption = \"userNote_syncOption\";\r\nexport const __userNote_syncInfo_1 = \"userNote_syncInfo_1\";\r\nexport const __userNote_syncInfo_2 = \"userNote_syncInfo_2\";\r\nexport const __userNote_syncInfo_3 = \"userNote_syncInfo_3\";\r\nexport const __userNote_syncButtonPush = \"userNote_syncButtonPush\";\r\nexport const __userNote_syncButtonPull = \"userNote_syncButtonPull\";\r\nexport const __userNote_syncPulled = \"userNote_syncPulled\";\r\nexport const __userNote_syncPushed = \"userNote_syncPushed\";\r\nexport const __userNote_syncFailed = \"userNote_syncFailed\";\r\nexport const __userNote_syncError = \"userNote_syncError\";\r\nexport const __userNote_syncErrorEmpty = \"userNote_syncErrorEmpty\";\r\nexport const __userNote_syncErrorUnknown = \"userNote_syncErrorUnknown\";\r\nexport const __userNote_syncErrorLength = \"userNote_syncErrorLength\";\r\nexport const __queue_new = \"queue_new\";\r\nexport const __queue_newTooltip = \"queue_newTooltip\";\r\nexport const __workshop_workshop = \"workshop_workshop\";\r\nexport const __workshop_subscriptions = \"workshop_subscriptions\";\r\nexport const __workshop_subscribeAll = \"workshop_subscribeAll\";\r\nexport const __workshop_subscribeConfirm = \"workshop_subscribeConfirm\";\r\nexport const __workshop_subscribeLoading = \"workshop_subscribeLoading\";\r\nexport const __workshop_unsubscribeAll = \"workshop_unsubscribeAll\";\r\nexport const __workshop_unsubscribeConfirm = \"workshop_unsubscribeConfirm\";\r\nexport const __workshop_unsubscribeLoading = \"workshop_unsubscribeLoading\";\r\nexport const __workshop_finished = \"workshop_finished\";\r\nexport const __workshop_failed = \"workshop_failed\";\r\nexport const __originalAuthors = \"originalAuthors\";\r\nexport const __acknowledgements = \"acknowledgements\";\r\nexport const __countries_ad = \"countries_ad\";\r\nexport const __countries_ae = \"countries_ae\";\r\nexport const __countries_af = \"countries_af\";\r\nexport const __countries_ag = \"countries_ag\";\r\nexport const __countries_ai = \"countries_ai\";\r\nexport const __countries_al = \"countries_al\";\r\nexport const __countries_am = \"countries_am\";\r\nexport const __countries_an = \"countries_an\";\r\nexport const __countries_ao = \"countries_ao\";\r\nexport const __countries_ar = \"countries_ar\";\r\nexport const __countries_as = \"countries_as\";\r\nexport const __countries_at = \"countries_at\";\r\nexport const __countries_au = \"countries_au\";\r\nexport const __countries_aw = \"countries_aw\";\r\nexport const __countries_az = \"countries_az\";\r\nexport const __countries_ba = \"countries_ba\";\r\nexport const __countries_bb = \"countries_bb\";\r\nexport const __countries_bd = \"countries_bd\";\r\nexport const __countries_be = \"countries_be\";\r\nexport const __countries_bf = \"countries_bf\";\r\nexport const __countries_bg = \"countries_bg\";\r\nexport const __countries_bh = \"countries_bh\";\r\nexport const __countries_bi = \"countries_bi\";\r\nexport const __countries_bj = \"countries_bj\";\r\nexport const __countries_bm = \"countries_bm\";\r\nexport const __countries_bn = \"countries_bn\";\r\nexport const __countries_bo = \"countries_bo\";\r\nexport const __countries_br = \"countries_br\";\r\nexport const __countries_bs = \"countries_bs\";\r\nexport const __countries_bt = \"countries_bt\";\r\nexport const __countries_bv = \"countries_bv\";\r\nexport const __countries_bw = \"countries_bw\";\r\nexport const __countries_by = \"countries_by\";\r\nexport const __countries_bz = \"countries_bz\";\r\nexport const __countries_ca = \"countries_ca\";\r\nexport const __countries_cd = \"countries_cd\";\r\nexport const __countries_cf = \"countries_cf\";\r\nexport const __countries_cg = \"countries_cg\";\r\nexport const __countries_ch = \"countries_ch\";\r\nexport const __countries_ci = \"countries_ci\";\r\nexport const __countries_ck = \"countries_ck\";\r\nexport const __countries_cl = \"countries_cl\";\r\nexport const __countries_cm = \"countries_cm\";\r\nexport const __countries_cn = \"countries_cn\";\r\nexport const __countries_co = \"countries_co\";\r\nexport const __countries_cr = \"countries_cr\";\r\nexport const __countries_cu = \"countries_cu\";\r\nexport const __countries_cv = \"countries_cv\";\r\nexport const __countries_cy = \"countries_cy\";\r\nexport const __countries_cz = \"countries_cz\";\r\nexport const __countries_de = \"countries_de\";\r\nexport const __countries_dj = \"countries_dj\";\r\nexport const __countries_dk = \"countries_dk\";\r\nexport const __countries_dm = \"countries_dm\";\r\nexport const __countries_do = \"countries_do\";\r\nexport const __countries_dz = \"countries_dz\";\r\nexport const __countries_ec = \"countries_ec\";\r\nexport const __countries_ee = \"countries_ee\";\r\nexport const __countries_eg = \"countries_eg\";\r\nexport const __countries_eh = \"countries_eh\";\r\nexport const __countries_er = \"countries_er\";\r\nexport const __countries_es = \"countries_es\";\r\nexport const __countries_et = \"countries_et\";\r\nexport const __countries_fi = \"countries_fi\";\r\nexport const __countries_fj = \"countries_fj\";\r\nexport const __countries_fk = \"countries_fk\";\r\nexport const __countries_fm = \"countries_fm\";\r\nexport const __countries_fo = \"countries_fo\";\r\nexport const __countries_fr = \"countries_fr\";\r\nexport const __countries_ga = \"countries_ga\";\r\nexport const __countries_gb = \"countries_gb\";\r\nexport const __countries_gd = \"countries_gd\";\r\nexport const __countries_ge = \"countries_ge\";\r\nexport const __countries_gf = \"countries_gf\";\r\nexport const __countries_gg = \"countries_gg\";\r\nexport const __countries_gh = \"countries_gh\";\r\nexport const __countries_gi = \"countries_gi\";\r\nexport const __countries_gl = \"countries_gl\";\r\nexport const __countries_gm = \"countries_gm\";\r\nexport const __countries_gn = \"countries_gn\";\r\nexport const __countries_gp = \"countries_gp\";\r\nexport const __countries_gq = \"countries_gq\";\r\nexport const __countries_gr = \"countries_gr\";\r\nexport const __countries_gs = \"countries_gs\";\r\nexport const __countries_gt = \"countries_gt\";\r\nexport const __countries_gu = \"countries_gu\";\r\nexport const __countries_gw = \"countries_gw\";\r\nexport const __countries_gy = \"countries_gy\";\r\nexport const __countries_hk = \"countries_hk\";\r\nexport const __countries_hm = \"countries_hm\";\r\nexport const __countries_hn = \"countries_hn\";\r\nexport const __countries_hr = \"countries_hr\";\r\nexport const __countries_ht = \"countries_ht\";\r\nexport const __countries_hu = \"countries_hu\";\r\nexport const __countries_id = \"countries_id\";\r\nexport const __countries_ie = \"countries_ie\";\r\nexport const __countries_il = \"countries_il\";\r\nexport const __countries_im = \"countries_im\";\r\nexport const __countries_in = \"countries_in\";\r\nexport const __countries_io = \"countries_io\";\r\nexport const __countries_iq = \"countries_iq\";\r\nexport const __countries_ir = \"countries_ir\";\r\nexport const __countries_is = \"countries_is\";\r\nexport const __countries_it = \"countries_it\";\r\nexport const __countries_je = \"countries_je\";\r\nexport const __countries_jm = \"countries_jm\";\r\nexport const __countries_jo = \"countries_jo\";\r\nexport const __countries_jp = \"countries_jp\";\r\nexport const __countries_ke = \"countries_ke\";\r\nexport const __countries_kg = \"countries_kg\";\r\nexport const __countries_kh = \"countries_kh\";\r\nexport const __countries_ki = \"countries_ki\";\r\nexport const __countries_km = \"countries_km\";\r\nexport const __countries_kn = \"countries_kn\";\r\nexport const __countries_kp = \"countries_kp\";\r\nexport const __countries_kr = \"countries_kr\";\r\nexport const __countries_kw = \"countries_kw\";\r\nexport const __countries_ky = \"countries_ky\";\r\nexport const __countries_kz = \"countries_kz\";\r\nexport const __countries_la = \"countries_la\";\r\nexport const __countries_lb = \"countries_lb\";\r\nexport const __countries_lc = \"countries_lc\";\r\nexport const __countries_li = \"countries_li\";\r\nexport const __countries_lk = \"countries_lk\";\r\nexport const __countries_lr = \"countries_lr\";\r\nexport const __countries_ls = \"countries_ls\";\r\nexport const __countries_lt = \"countries_lt\";\r\nexport const __countries_lu = \"countries_lu\";\r\nexport const __countries_lv = \"countries_lv\";\r\nexport const __countries_ly = \"countries_ly\";\r\nexport const __countries_ma = \"countries_ma\";\r\nexport const __countries_mc = \"countries_mc\";\r\nexport const __countries_md = \"countries_md\";\r\nexport const __countries_me = \"countries_me\";\r\nexport const __countries_mg = \"countries_mg\";\r\nexport const __countries_mh = \"countries_mh\";\r\nexport const __countries_mk = \"countries_mk\";\r\nexport const __countries_ml = \"countries_ml\";\r\nexport const __countries_mm = \"countries_mm\";\r\nexport const __countries_mn = \"countries_mn\";\r\nexport const __countries_mo = \"countries_mo\";\r\nexport const __countries_mp = \"countries_mp\";\r\nexport const __countries_mq = \"countries_mq\";\r\nexport const __countries_mr = \"countries_mr\";\r\nexport const __countries_ms = \"countries_ms\";\r\nexport const __countries_mt = \"countries_mt\";\r\nexport const __countries_mu = \"countries_mu\";\r\nexport const __countries_mv = \"countries_mv\";\r\nexport const __countries_mw = \"countries_mw\";\r\nexport const __countries_mx = \"countries_mx\";\r\nexport const __countries_my = \"countries_my\";\r\nexport const __countries_mz = \"countries_mz\";\r\nexport const __countries_na = \"countries_na\";\r\nexport const __countries_nc = \"countries_nc\";\r\nexport const __countries_ne = \"countries_ne\";\r\nexport const __countries_nf = \"countries_nf\";\r\nexport const __countries_ng = \"countries_ng\";\r\nexport const __countries_ni = \"countries_ni\";\r\nexport const __countries_nl = \"countries_nl\";\r\nexport const __countries_no = \"countries_no\";\r\nexport const __countries_np = \"countries_np\";\r\nexport const __countries_nr = \"countries_nr\";\r\nexport const __countries_nu = \"countries_nu\";\r\nexport const __countries_nz = \"countries_nz\";\r\nexport const __countries_om = \"countries_om\";\r\nexport const __countries_pa = \"countries_pa\";\r\nexport const __countries_pe = \"countries_pe\";\r\nexport const __countries_pf = \"countries_pf\";\r\nexport const __countries_pg = \"countries_pg\";\r\nexport const __countries_ph = \"countries_ph\";\r\nexport const __countries_pk = \"countries_pk\";\r\nexport const __countries_pl = \"countries_pl\";\r\nexport const __countries_pm = \"countries_pm\";\r\nexport const __countries_pn = \"countries_pn\";\r\nexport const __countries_pr = \"countries_pr\";\r\nexport const __countries_ps = \"countries_ps\";\r\nexport const __countries_pt = \"countries_pt\";\r\nexport const __countries_pw = \"countries_pw\";\r\nexport const __countries_py = \"countries_py\";\r\nexport const __countries_qa = \"countries_qa\";\r\nexport const __countries_re = \"countries_re\";\r\nexport const __countries_ro = \"countries_ro\";\r\nexport const __countries_rs = \"countries_rs\";\r\nexport const __countries_ru = \"countries_ru\";\r\nexport const __countries_rw = \"countries_rw\";\r\nexport const __countries_sa = \"countries_sa\";\r\nexport const __countries_sb = \"countries_sb\";\r\nexport const __countries_sc = \"countries_sc\";\r\nexport const __countries_sd = \"countries_sd\";\r\nexport const __countries_se = \"countries_se\";\r\nexport const __countries_sg = \"countries_sg\";\r\nexport const __countries_sh = \"countries_sh\";\r\nexport const __countries_si = \"countries_si\";\r\nexport const __countries_sk = \"countries_sk\";\r\nexport const __countries_sl = \"countries_sl\";\r\nexport const __countries_sm = \"countries_sm\";\r\nexport const __countries_sn = \"countries_sn\";\r\nexport const __countries_so = \"countries_so\";\r\nexport const __countries_sr = \"countries_sr\";\r\nexport const __countries_st = \"countries_st\";\r\nexport const __countries_sv = \"countries_sv\";\r\nexport const __countries_sy = \"countries_sy\";\r\nexport const __countries_sz = \"countries_sz\";\r\nexport const __countries_tc = \"countries_tc\";\r\nexport const __countries_td = \"countries_td\";\r\nexport const __countries_tf = \"countries_tf\";\r\nexport const __countries_tg = \"countries_tg\";\r\nexport const __countries_th = \"countries_th\";\r\nexport const __countries_tj = \"countries_tj\";\r\nexport const __countries_tk = \"countries_tk\";\r\nexport const __countries_tl = \"countries_tl\";\r\nexport const __countries_tm = \"countries_tm\";\r\nexport const __countries_tn = \"countries_tn\";\r\nexport const __countries_to = \"countries_to\";\r\nexport const __countries_tr = \"countries_tr\";\r\nexport const __countries_tt = \"countries_tt\";\r\nexport const __countries_tv = \"countries_tv\";\r\nexport const __countries_tw = \"countries_tw\";\r\nexport const __countries_tz = \"countries_tz\";\r\nexport const __countries_ua = \"countries_ua\";\r\nexport const __countries_ug = \"countries_ug\";\r\nexport const __countries_um = \"countries_um\";\r\nexport const __countries_us = \"countries_us\";\r\nexport const __countries_uy = \"countries_uy\";\r\nexport const __countries_uz = \"countries_uz\";\r\nexport const __countries_va = \"countries_va\";\r\nexport const __countries_vc = \"countries_vc\";\r\nexport const __countries_ve = \"countries_ve\";\r\nexport const __countries_vg = \"countries_vg\";\r\nexport const __countries_vi = \"countries_vi\";\r\nexport const __countries_vn = \"countries_vn\";\r\nexport const __countries_vu = \"countries_vu\";\r\nexport const __countries_wf = \"countries_wf\";\r\nexport const __countries_ws = \"countries_ws\";\r\nexport const __countries_ye = \"countries_ye\";\r\nexport const __countries_yt = \"countries_yt\";\r\nexport const __countries_za = \"countries_za\";\r\nexport const __countries_zm = \"countries_zm\";\r\nexport const __countries_zw = \"countries_zw\";\r\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default {\r\n    \"version\": browser.runtime.getManifest().version,\r\n    \"db_version\": 6,\r\n} as const;\r\n", "import browser, {type Storage as ns} from \"webextension-polyfill\";\r\nimport Storage, {type StorageSchema} from \"./Storage\";\r\n\r\n// FIXME exports are confusing, figure out better export scheme\r\n\r\n/**\r\n * NOTE: Settings are stored in synced storage, but are omitted from default schema,\r\n * because they should not be accessed directly from storage\r\n */\r\ninterface SyncedStorageSchema extends StorageSchema {\r\n    user_notes: Record<string, string>,\r\n    fav_emoticons: string[],\r\n    sortfriendsby: string,\r\n    sortgroupsby: string,\r\n    sortmylistingsby: string,\r\n    sortreviewsby: string,\r\n    homepage_tab_last: string;\r\n}\r\n\r\n/*\r\n * browser.storage.sync limits\r\n * QUOTA_BYTES = 102400 // 100KB\r\n * QUOTA_BYTES_PER_ITEM = 8192 // 8KB\r\n * MAX_ITEMS = 512\r\n * MAX_WRITE_OPERATIONS_PER_HOUR = 1800\r\n * MAX_WRITE_OPERATIONS_PER_MINUTE = 120\r\n */\r\nexport class SyncedStorage<Schema extends StorageSchema> extends Storage<ns.SyncStorageAreaSync, Schema> {\r\n\r\n    constructor() {\r\n        super(browser.storage.sync);\r\n    }\r\n\r\n    get QUOTA_BYTES_PER_ITEM(): number {\r\n        // see https://github.com/DefinitelyTyped/DefinitelyTyped/discussions/66696\r\n        return browser.storage.sync.QUOTA_BYTES_PER_ITEM ?? 8192;\r\n    }\r\n}\r\n\r\nexport default new SyncedStorage<SyncedStorageSchema>();\r\n", "import {type Storage as ns} from \"webextension-polyfill\";\r\n\r\n/*\r\n * Type declarations stolen from idb, because I was too dumb to figure them out on my own\r\n * */\r\ndeclare type KeyToKeyNoIndex<T> = {\r\n    [K in keyof T]: string extends K ? never : number extends K ? never : K;\r\n};\r\nexport declare type ValuesOf<T> = T extends {\r\n    [K in keyof T]: infer U;\r\n} ? U : never;\r\ndeclare type KnownKeys<T> = ValuesOf<KeyToKeyNoIndex<T>>;\r\n\r\nexport declare type StorageSchema = Record<string, any>;\r\nexport declare type SchemaKeys<Schema extends StorageSchema | unknown> = Schema extends StorageSchema ? (KnownKeys<Schema> & string) : string;\r\nexport declare type SchemaValue<Schema extends StorageSchema | unknown, Key extends SchemaKeys<Schema>> = Schema extends StorageSchema ? Schema[Key] : any;\r\n\r\nexport interface StorageInterface<Schema extends StorageSchema> {\r\n    get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K>|undefined>;\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T>;\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void>;\r\n    setObject(object: Partial<Schema>): Promise<void>;\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void>;\r\n}\r\n\r\nexport default class Storage<\r\n    Area extends ns.SyncStorageAreaSync|ns.LocalStorageArea,\r\n    Schema extends StorageSchema\r\n> implements StorageInterface<Schema> {\r\n\r\n    private storageArea: Area;\r\n\r\n    constructor(storageArea: Area) {\r\n        this.storageArea = storageArea;\r\n    }\r\n\r\n    get onChanged() {\r\n        return this.storageArea.onChanged;\r\n    }\r\n\r\n    async get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K> | undefined> {\r\n        let response = await this.storageArea.get(key);\r\n        return response[key] ?? undefined;\r\n    }\r\n\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T> {\r\n        return this.storageArea.get(object) as Promise<T>;\r\n    }\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void> {\r\n        return this.storageArea.set({[key]: value});\r\n    }\r\n\r\n    setObject(object: Partial<Schema>): Promise<void> {\r\n        return this.storageArea.set(object);\r\n    }\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void> {\r\n        return this.storageArea.remove(keys);\r\n    }\r\n}\r\n", "import Info from \"@Core/Info\";\r\nimport type {SettingsSchema} from \"./_types\";\r\nimport type {SchemaKeys, SchemaValue, StorageInterface} from \"@Core/Storage/Storage\";\r\nimport {SyncedStorage} from \"@Core/Storage/SyncedStorage\";\r\n\r\nexport const DefaultSettings: Readonly<SettingsSchema> = {\r\n    language: \"english\",\r\n\r\n    version: Info.version,\r\n    version_show: true,\r\n\r\n    highlight_owned_color: \"#00ce67\",\r\n    highlight_wishlist_color: \"#0491bf\",\r\n    highlight_coupon_color: \"#a26426\",\r\n    highlight_inv_gift_color: \"#800040\",\r\n    highlight_inv_guestpass_color: \"#513c73\",\r\n    highlight_notinterested_color: \"#4f4f4f\",\r\n    highlight_ignored_owned_color: \"#4f4f4f\",\r\n    highlight_collection_color: \"#856d0e\",\r\n    highlight_waitlist_color: \"#4c7521\",\r\n\r\n    tag_owned_color: \"#00b75b\",\r\n    tag_wishlist_color: \"#0383b4\",\r\n    tag_coupon_color: \"#c27120\",\r\n    tag_inv_gift_color: \"#b10059\",\r\n    tag_inv_guestpass_color: \"#65449a\",\r\n    tag_notinterested_color: \"#4f4f4f\",\r\n    tag_ignored_owned_color: \"#4f4f4f\",\r\n    tag_collection_color: \"#856d0e\",\r\n    tag_waitlist_color: \"#4c7521\",\r\n\r\n    highlight_owned: true,\r\n    highlight_wishlist: true,\r\n    highlight_coupon: false,\r\n    highlight_inv_gift: false,\r\n    highlight_inv_guestpass: false,\r\n    highlight_notinterested: false,\r\n    highlight_ignored_owned: false,\r\n    highlight_excludef2p: false,\r\n    highlight_collection: true,\r\n    highlight_waitlist: true,\r\n\r\n    tag_owned: false,\r\n    tag_wishlist: false,\r\n    tag_coupon: false,\r\n    tag_inv_gift: false,\r\n    tag_inv_guestpass: false,\r\n    tag_notinterested: true,\r\n    tag_ignored_owned: true,\r\n    tag_collection: false,\r\n    tag_waitlist: false,\r\n    tag_short: false,\r\n\r\n    hidetmsymbols: false,\r\n\r\n    showlowestprice: true,\r\n    showlowestprice_onwishlist: true,\r\n    showlowestpricecoupon: true,\r\n    showallstores: true,\r\n    excluded_stores: [],\r\n    override_price: \"auto\",\r\n    showregionalprice: \"mouse\",\r\n    regional_countries: [\"us\", \"gb\", \"fr\", \"br\", \"au\", \"jp\"],\r\n\r\n    show_es_homepagetabs: true,\r\n    showmarkettotal: false,\r\n    showsteamrepapi: true,\r\n    showmcus: true,\r\n    showoc: true,\r\n    showhltb: true,\r\n    showyoutube: true,\r\n    showtwitch: true,\r\n    showpcgw: true,\r\n    showcompletionistme: false,\r\n    showprotondb: false,\r\n    showviewinlibrary: false,\r\n    showsteamcardexchange: false,\r\n    showitadlinks: true,\r\n    showsteamdb: true,\r\n    showbartervg: false,\r\n    showastatslink: true,\r\n    showyoutubegameplay: true,\r\n    showyoutubereviews: true,\r\n    showwsgf: true,\r\n    exfgls: true,\r\n    app_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]+[NAME]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n\r\n    customize_apppage: {},\r\n    customize_frontpage: {},\r\n\r\n    show_package_info: false,\r\n    show_players_info: true,\r\n    show_early_access: true,\r\n    show_alternative_linux_icon: false,\r\n    show_itad_button: false,\r\n    skip_got_steam: false,\r\n\r\n    installsteam: \"show\",\r\n    openinnewtab: false,\r\n    keepssachecked: false,\r\n    showemptywishlist: true,\r\n    user_notes_app: true,\r\n    user_notes_wishlist: true,\r\n    showwishliststats: true,\r\n    oneclickremovewl: false,\r\n    user_notes_adapter: \"synced_storage\",\r\n    showlanguagewarning: true,\r\n    showlanguagewarninglanguage: \"english\",\r\n    homepage_tab_selection: \"remember\",\r\n    send_age_info: true,\r\n    removebroadcasts: false,\r\n    mp4video: false,\r\n    horizontalscrolling: true,\r\n    showsupportinfo: true,\r\n    showdrm: true,\r\n    regional_hideworld: false,\r\n    showinvnav: true,\r\n    quickinv: true,\r\n    quickinv_diff: -0.01,\r\n    community_default_tab: \"\",\r\n    showallstats: true,\r\n    replacecommunityhublinks: false,\r\n    hideannouncementcomments: false,\r\n    showachinstore: true,\r\n    hideactivelistings: false,\r\n    showlowestmarketprice: true,\r\n    hidespamcomments: false,\r\n    spamcommentregex: \"[\\\\u2500-\\\\u25FF]\",\r\n    wlbuttoncommunityapp: true,\r\n    removeguideslanguagefilter: false,\r\n    confirmdeletecomment: true,\r\n    disablelinkfilter: false,\r\n    show1clickgoo: true,\r\n    show_profile_link_images: \"gray\",\r\n    show_custom_themes: true,\r\n    profile_pinned_bg: false,\r\n    friends_append_nickname: false,\r\n    profile_steamrepcn: true,\r\n    profile_steamgifts: true,\r\n    profile_steamtrades: true,\r\n    profile_bartervg: true,\r\n    profile_steamrep: true,\r\n    profile_steamdbcalc: true,\r\n    profile_astats: true,\r\n    profile_backpacktf: true,\r\n    profile_astatsnl: true,\r\n    profile_steamid: true,\r\n    profile_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n    group_steamgifts: true,\r\n    steamcardexchange: true,\r\n    purchase_dates: true,\r\n    show_badge_progress: true,\r\n    show_coupon: true,\r\n    show_wishlist_link: true,\r\n    show_wishlist_count: true,\r\n    show_progressbar: true,\r\n    show_backtotop: false,\r\n\r\n    profile_showcase_twitch: true,\r\n    profile_showcase_own_twitch: false,\r\n    profile_showcase_twitch_profileonly: false,\r\n\r\n    itad_sync_library: true,\r\n    itad_sync_wishlist: true,\r\n    add_to_waitlist: false,\r\n    collection_banner_notowned: false,\r\n    itad_sync_notes: false,\r\n\r\n    context_steam_store: false,\r\n    context_steam_market: false,\r\n    context_itad: false,\r\n    context_bartervg: false,\r\n    context_steamdb: false,\r\n    context_steamdb_instant: false,\r\n    context_steam_keys: false,\r\n};\r\n\r\n\r\ntype TListener = () => void;\r\n\r\nclass Event {\r\n    private listeners: Set<TListener> = new Set();\r\n\r\n    addListener(listener: TListener): void {\r\n        this.listeners.add(listener);\r\n    }\r\n\r\n    removeListener(listener: TListener): void {\r\n        this.listeners.delete(listener);\r\n    }\r\n\r\n    invoke(): void {\r\n        for (const listener of this.listeners) {\r\n            listener();\r\n        }\r\n    }\r\n}\r\n\r\nexport class SettingsStore {\r\n\r\n    private static promise: Promise<void>;\r\n\r\n    private static data: SettingsSchema;\r\n    private static storage: StorageInterface<SettingsSchema> = new SyncedStorage<SettingsSchema>();\r\n\r\n    public static readonly onSaveStart: Event = new Event();\r\n    public static readonly onSaveEnd: Event = new Event();\r\n\r\n    public static async load(): Promise<void> {\r\n        this.data = await this.storage.getObject(DefaultSettings);\r\n    }\r\n\r\n    static init(): Promise<void> {\r\n        if (!this.promise) {\r\n            this.promise = this.load();\r\n        }\r\n        return this.promise;\r\n    }\r\n\r\n    static getDefault<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        return DefaultSettings[key];\r\n    }\r\n\r\n    static get<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        if (!this.data) {\r\n            throw new Error(\"Settings have not been loaded\");\r\n        }\r\n\r\n        return this.data[key];\r\n    }\r\n\r\n    static async set<K extends SchemaKeys<SettingsSchema>>(key: K, value: SchemaValue<SettingsSchema, K>): Promise<void> {\r\n        this.onSaveStart.invoke();\r\n\r\n        this.data[key] = value;\r\n        await this.storage.set(key, value);\r\n\r\n        this.onSaveEnd.invoke();\r\n    }\r\n\r\n    static remove<K extends SchemaKeys<SettingsSchema>>(key: K): void {\r\n        this.storage.remove(key);\r\n        this.data[key] = structuredClone(DefaultSettings[key]);\r\n    }\r\n\r\n    static clear(): void {\r\n        this.storage.remove(...(Object.keys(this.data) as SchemaKeys<SettingsSchema>[]));\r\n        this.data = structuredClone(DefaultSettings);\r\n    }\r\n\r\n    static async import(data: Partial<SettingsSchema>): Promise<void> {\r\n        // TODO check data for valid keys and values\r\n        await this.storage.setObject(data);\r\n        await this.load();\r\n    }\r\n\r\n    static asObject(): SettingsSchema {\r\n        return structuredClone(this.data);\r\n    }\r\n}\r\n\r\nexport default (new Proxy(SettingsStore, {\r\n    get<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K): SchemaValue<SettingsSchema, K> {\r\n        return target.get(prop);\r\n    },\r\n\r\n    set<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K, value: SchemaValue<SettingsSchema, K>): boolean {\r\n        target.set(prop, value);\r\n        return true;\r\n    }\r\n})) as unknown as SettingsSchema;\r\n\r\n\r\n/*\r\n FIXME not settings, more like cached values\r\n\"user_notes\": {},\r\n\"homepage_tab_last\": null,\r\n\"sortfriendsby\": \"default_ASC\",\r\n\"sortreviewsby\": \"default_ASC\",\r\n\"sortgroupsby\": \"default_ASC\",\r\n\"sortmylistingsby\": \"default_ASC\",\r\n\"fav_emoticons\": [],\r\n\r\n\r\nconst PERSISTENT: (keyof typeof DEFAULTS)[] = [\r\n    \"user_notes\",\r\n    \"user_notes_adapter\",\r\n];\r\n*/\r\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default class ExtensionResources {\r\n\r\n    static getURL(pathname: string) {\r\n        return browser.runtime.getURL(pathname);\r\n    }\r\n\r\n    static get(pathname: string): Promise<Response> {\r\n        return fetch(ExtensionResources.getURL(pathname));\r\n    }\r\n\r\n    static async getJSON<T>(pathname: string): Promise<T> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.json();\r\n    }\r\n\r\n    static async getText(pathname: string): Promise<string> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.text();\r\n    }\r\n}\r\n", "\r\nexport default class Language {\r\n\r\n    public static readonly map: Record<string, string> ={\r\n        \"english\": \"en\",\r\n        \"bulgarian\": \"bg\",\r\n        \"czech\": \"cs\",\r\n        \"danish\": \"da\",\r\n        \"dutch\": \"nl\",\r\n        \"finnish\": \"fi\",\r\n        \"french\": \"fr\",\r\n        \"greek\": \"el\",\r\n        \"german\": \"de\",\r\n        \"hungarian\": \"hu\",\r\n        \"italian\": \"it\",\r\n        \"japanese\": \"ja\",\r\n        \"koreana\": \"ko\",\r\n        \"norwegian\": \"no\",\r\n        \"polish\": \"pl\",\r\n        \"portuguese\": \"pt-PT\",\r\n        \"brazilian\": \"pt-BR\",\r\n        \"russian\": \"ru\",\r\n        \"romanian\": \"ro\",\r\n        \"schinese\": \"zh-CN\",\r\n        \"spanish\": \"es-ES\",\r\n        \"latam\": \"es-419\",\r\n        \"swedish\": \"sv-SE\",\r\n        \"tchinese\": \"zh-TW\",\r\n        \"thai\": \"th\",\r\n        \"turkish\": \"tr\",\r\n        \"ukrainian\": \"ua\",\r\n        \"vietnamese\": \"vi\",\r\n    };\r\n\r\n    private readonly _name: string;\r\n    private readonly _code: string|null;\r\n\r\n    constructor(language: string) {\r\n        this._name = language;\r\n        this._code = Language.map[language] ?? null;\r\n        // TODO should we throw when there is unsupported language?\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    get code(): string|null {\r\n        return this._code;\r\n    }\r\n\r\n    isOneOf(...languages: string[]) {\r\n        return languages.includes(this._name);\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ErrorParser from \"@Core/Errors/ErrorParser\";\r\n\r\nexport default class Background {\r\n\r\n    static async send<Response>(action: string, params: Record<string, any>={}): Promise<Response> {\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n        try {\r\n            const result = await browser.runtime.sendMessage({action, params});\r\n            document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n            return result;\r\n        } catch(e: any) {\r\n            const error = ErrorParser.parse(e.message ?? \"\");\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: error}));\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n", "\r\n/**\r\n * Convenience class for passing errors between contexts.\r\n * Errors thrown in the context of a message callback on the background page are\r\n * {@link https://github.com/mozilla/webextension-polyfill/blob/87bdfa844da054d189ac28423cf01b64ebfe1e5b/src/browser-polyfill.js#L418\r\n *  cut down to only send the message of the error},\r\n * losing information about the type.\r\n */\r\nexport default class ErrorParser {\r\n\r\n    /**\r\n     * Takes an Error string and parses it by splitting it into name and message\r\n     * @param {String} errStr a string created by Error.prototype.toString\r\n     * @returns {{name: String, msg: String}} an object containing information about the error name and its message\r\n     */\r\n    static parse(errStr: string): {name: string|null, message: string|null} {\r\n        const info = errStr.match(/(.*):\\s(.+)/);\r\n        return info\r\n            ? {name: info[1] ?? \"\", message: info[2] ?? \"\"}\r\n            : {name: null, message: null}\r\n    }\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\nimport type {TAppDetail, TDynamicStoreStatusResponse} from \"@Background/Modules/Store/_types\";\r\n\r\nexport default class SteamStoreApiFacade {\r\n\r\n    static wishlistAdd(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Add, {appid});\r\n    }\r\n\r\n    static wishlistRemove(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Remove, {appid});\r\n    }\r\n\r\n    static fetchAppDetails(appid: number, filter: string|undefined=undefined): Promise<TAppDetail|null> {\r\n        return Background.send(EAction.AppDetails, {appid, filter});\r\n    }\r\n\r\n    static getPurchaseDate(appName: string, lang: string): Promise<string|null> {\r\n        return Background.send(EAction.Purchases, {appName, lang});\r\n    }\r\n\r\n    static getCurrency(): Promise<string> {\r\n        return Background.send(EAction.Currency);\r\n    }\r\n\r\n    static clearPurchases(): Promise<void> {\r\n        return Background.send(EAction.Purchases_Clear);\r\n    }\r\n\r\n    static clearDynamicStore(): Promise<void> {\r\n        return Background.send(EAction.DynamicStore_Clear);\r\n    }\r\n\r\n    static getDynamicStoreStatus(ids: string[]): Promise<TDynamicStoreStatusResponse> {\r\n        return Background.send(EAction.DynamicStore_Status, {ids});\r\n    }\r\n\r\n    static getDynamicStoreRandomApp(): Promise<number|null> {\r\n        return Background.send(EAction.DynamicStore_RandomApp);\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n\r\nexport interface TLocale {\r\n    stats: {\r\n        strings: number,\r\n        translated: number,\r\n    },\r\n    strings: Record<string, string>\r\n}\r\n\r\nexport default class Localization {\r\n\r\n    public static locale: TLocale;\r\n\r\n    static load(code: string): Promise<TLocale> {\r\n        return ExtensionResources.getJSON(`/localization/compiled/${code}.json`);\r\n    }\r\n\r\n    static async init(current: Language|null): Promise<void> {\r\n        const stored: string = Settings.language;\r\n        if (current === null) {\r\n            current = new Language(stored);\r\n        } else if (current.name !== stored) {\r\n            Settings.language = current.name;\r\n            SteamStoreApiFacade.clearPurchases(); // TODO this is a nasty side effect, get rid of it\r\n        }\r\n\r\n        const lang = current.code ?? \"en\";\r\n\r\n        try {\r\n            this.locale = await this.load(lang);\r\n        } catch(e) {\r\n            console.error(`Failed to load ${lang}`);\r\n            this.locale = await this.load(\"en\");\r\n        }\r\n    }\r\n}\r\n\r\nexport function L(key: string, replacements: Record<string, string|number>|null = null): string {\r\n    let text = Localization.locale.strings[key] ?? \"<<missing text>>\";\r\n    if (replacements !== null) {\r\n        for (let [key, value] of Object.entries(replacements)) {\r\n            text = text.replaceAll(`__${key}__`, String(value));\r\n        }\r\n    }\r\n    return text;\r\n}\r\n", "import DOMPurify from \"dompurify\";\r\n\r\nexport default class HTML {\r\n\r\n    static formatUrl(link: string): string {\r\n        const protocolReg = /^[a-z]+:\\/\\//;\r\n        const _link = protocolReg.test(link) ? link : `//${link}`;\r\n        return encodeURI(_link);\r\n    }\r\n\r\n    static escape(str: string): string {\r\n\r\n        // @see https://stackoverflow.com/a/4835406\r\n        const map: Record<string, string> = {\r\n            \"&\": \"&amp;\",\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            '\"': \"&quot;\",\r\n            \"'\": \"&#039;\"\r\n        };\r\n\r\n        return str.replace(/[&<>\"']/g, (m: string): string => {\r\n            if (!map[m]) {\r\n                throw new Error();\r\n            }\r\n            return map[m]!;\r\n        });\r\n    }\r\n\r\n    static toDom(html: string): DocumentFragment {\r\n        const template = document.createElement(\"template\");\r\n        template.innerHTML = DOMPurify.sanitize(html);\r\n        return template.content;\r\n    }\r\n\r\n    static toElement<T extends Element>(html: string): T|null {\r\n        // @ts-ignore\r\n        return HTML.toDom(html).firstElementChild;\r\n    }\r\n\r\n    private static _getNode(nodeOrSelector: Element|string|null): Element|null {\r\n        let node: Element|null = typeof nodeOrSelector === \"string\"\r\n            ? document.querySelector(nodeOrSelector)\r\n            : nodeOrSelector;\r\n\r\n        if (node instanceof Element) {\r\n            return node;\r\n        }\r\n\r\n        console.warn(`${node} is not an Element.`);\r\n        console.trace();\r\n        return null;\r\n    }\r\n\r\n    static inner(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (node) {\r\n            node.innerHTML = DOMPurify.sanitize(html);\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    static replace(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (!node) {\r\n            return null;\r\n        }\r\n\r\n        const dom = HTML.toDom(html); // Support replacing with multiple nodes\r\n        const firstElement = dom.firstElementChild; // Save reference before emptying the docFrag\r\n        node.replaceWith(dom);\r\n\r\n        return firstElement;\r\n    }\r\n\r\n    static wrap<T extends Element>(\r\n        wrapperHtml: string,\r\n        startElementOrSelector: Element|string,\r\n        endElementOrSelector: Element|string|null = startElementOrSelector\r\n    ): T|null {\r\n        const startElement = HTML._getNode(startElementOrSelector);\r\n        if (!startElement) {\r\n            return null;\r\n        }\r\n\r\n        const endElement = endElementOrSelector === null\r\n            ? (startElement.parentElement?.lastElementChild ?? null)\r\n            : HTML._getNode(endElementOrSelector);\r\n\r\n        const wrappedNodes = [startElement];\r\n        for (let cur = startElement; cur.nextElementSibling !== null && cur !== endElement; cur = cur.nextElementSibling) {\r\n            wrappedNodes.push(cur.nextElementSibling);\r\n        }\r\n\r\n        const wrapperElement = HTML.toElement<T>(wrapperHtml);\r\n        if (!wrapperElement) {\r\n            return null;\r\n        }\r\n\r\n        startElement.replaceWith(wrapperElement);\r\n        wrapperElement.append(...wrappedNodes);\r\n        return wrapperElement;\r\n    }\r\n\r\n    private static _adjacent(nodeOrSelector: Element|string, position: InsertPosition, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n        if (node) {\r\n            node.insertAdjacentHTML(position, DOMPurify.sanitize(html));\r\n        }\r\n        return node;\r\n    }\r\n\r\n    static beforeBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforebegin\", html);\r\n    }\r\n\r\n    static afterBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterbegin\", html);\r\n    }\r\n\r\n    static beforeEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforeend\", html);\r\n    }\r\n\r\n    static afterEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterend\", html);\r\n    }\r\n}\r\n", "import {__tradeoffer_numItem, __tradeoffer_numItems} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport type CTradeOffer from \"@Content/Features/Community/TradeOffer/CTradeOffer\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport \"./FCountTradeItems.css\";\r\n\r\nexport default class FCountTradeItems extends Feature<CTradeOffer> {\r\n\r\n    override apply(): void {\r\n\r\n        HTML.afterEnd(\r\n            document.querySelector(\"#your_slots\")!.parentElement!,\r\n            '<div id=\"your_slots_count\" class=\"trade_item_box\"><span id=\"your_items_count\"></span></div>'\r\n        );\r\n        HTML.afterEnd(\r\n            document.querySelector(\"#their_slots\")!.parentElement!,\r\n            '<div id=\"their_slots_count\" class=\"trade_item_box\"><span id=\"their_items_count\"></span></div>'\r\n        );\r\n\r\n        new MutationObserver(mutations => {\r\n\r\n            for (const mutation of mutations) {\r\n\r\n                for (const node of mutation.addedNodes as NodeListOf<HTMLElement>) {\r\n\r\n                    if (!node.classList || !node.classList.contains(\"item\")) { continue; }\r\n\r\n                    const yourItemsCountNode = document.querySelector(\"#your_items_count\")!;\r\n                    const theirItemsCountNode = document.querySelector(\"#their_items_count\")!;\r\n\r\n                    const yourItems = document.querySelectorAll(\"#your_slots .has_item\").length;\r\n                    if (yourItems > 0) {\r\n                        yourItemsCountNode.textContent = L(yourItems === 1 ? __tradeoffer_numItem : __tradeoffer_numItems, {\r\n                            \"num\": yourItems\r\n                        });\r\n                        document.querySelector<HTMLElement>(\"#your_slots_count\")!.style.display = \"block\";\r\n                    } else {\r\n                        document.querySelector<HTMLElement>(\"#your_slots_count\")!.style.display = \"none\";\r\n                    }\r\n\r\n                    const theirItems = document.querySelectorAll(\"#their_slots .has_item\").length;\r\n                    if (theirItems > 0) {\r\n                        theirItemsCountNode.textContent = L(theirItems === 1 ? __tradeoffer_numItem : __tradeoffer_numItems, {\r\n                            \"num\": theirItems\r\n                        });\r\n                        document.querySelector<HTMLElement>(\"#their_slots_count\")!.style.display = \"block\";\r\n                    } else {\r\n                        document.querySelector<HTMLElement>(\"#their_slots_count\")!.style.display = \"none\";\r\n                    }\r\n\r\n                    if (yourItems === theirItems) {\r\n                        yourItemsCountNode.className = \"es_same\";\r\n                        theirItemsCountNode.className = \"es_same\";\r\n                    } else if (yourItems > theirItems) {\r\n                        yourItemsCountNode.className = \"es_higher\";\r\n                        theirItemsCountNode.className = \"es_lower\";\r\n                    } else {\r\n                        yourItemsCountNode.className = \"es_lower\";\r\n                        theirItemsCountNode.className = \"es_higher\";\r\n                    }\r\n                }\r\n            }\r\n        }).observe(document, {\"subtree\": true, \"childList\": true});\r\n    }\r\n}\r\n", "import {__tradeoffer_back} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport type CTradeOffer from \"@Content/Features/Community/TradeOffer/CTradeOffer\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport HTML from \"@Core/Html/Html\";\r\n\r\nexport default class FMyTradeOffersLink extends Feature<CTradeOffer> {\r\n\r\n    override apply(): void {\r\n\r\n        HTML.beforeEnd(\r\n            document.querySelector(\".error_page_links\")!,\r\n            `<div class=\"black_square_btn\" id=\"back_to_tradeoffers_btn\"> <a href=\"https://steamcommunity.com/my/tradeoffers\"><div class=\"cap left\"></div><div class=\"cap right\"></div>${L(__tradeoffer_back)}</a></div>`\r\n        );\r\n    }\r\n}\r\n", "import Context, {type ContextParams} from \"../../../Modules/Context/Context\";\r\nimport ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport FCountTradeItems from \"./FCountTradeItems\";\r\nimport FMyTradeOffersLink from \"./FMyTradeOffersLink\";\r\n\r\nexport default class CTradeOffer extends Context {\r\n\r\n    constructor(params: ContextParams) {\r\n        const isErrorPage = document.querySelector(\".error_page_links\") !== null;\r\n\r\n        super(params, ContextType.TRADE_OFFER, isErrorPage ? [\r\n            FMyTradeOffersLink,\r\n        ] : [\r\n            FCountTradeItems,\r\n        ]);\r\n    }\r\n}\r\n", "export enum ContextType {\r\n    Unknown,\r\n    Background,\r\n    ContentScript,\r\n    Options,\r\n    Offscreen\r\n}\r\n\r\nexport default class Environment {\r\n\r\n    private static currentContext: ContextType = ContextType.Unknown;\r\n\r\n    public static set CurrentContext(context: ContextType) {\r\n        this.currentContext = context;\r\n    }\r\n\r\n    static isBackgroundScript(): boolean {\r\n        return this.currentContext === ContextType.Background;\r\n    }\r\n\r\n    static isContentScript(): boolean {\r\n        return this.currentContext === ContextType.ContentScript;\r\n    }\r\n\r\n    static isOptions(): boolean {\r\n        return this.currentContext === ContextType.Options;\r\n    }\r\n}\r\n", "import Environment from \"@Core/Environment\";\r\n\r\nexport default class CookieReader {\r\n\r\n    private static cache: Map<string, string>|null;\r\n\r\n    private static load(): void {\r\n        this.cache = new Map<string, string>();\r\n\r\n        if (!Environment.isBackgroundScript() && typeof document !== \"undefined\") {\r\n            for (let [key, val] of <[string, string][]>document.cookie.split(\";\").map(kv => kv.split(\"=\", 2))) {\r\n                key = key.trim();\r\n                this.cache.set(key, decodeURIComponent(val));\r\n            }\r\n        }\r\n    }\r\n\r\n    static get(name: string, defaultValue: string|null = null): string|null {\r\n        if (this.cache === null) {\r\n            this.load();\r\n        }\r\n        return this.cache!.get(name.trim()) ?? defaultValue;\r\n    }\r\n}\r\n", "import Language from \"@Core/Localization/Language\";\r\nimport CookieReader from \"@Core/Storage/CookieReader\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class LanguageFactory {\r\n\r\n    constructor(\r\n        private readonly config: AppConfig\r\n    ) {}\r\n\r\n    createFromLegacy(): Language|null {\r\n\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        for (const script of document.querySelectorAll<HTMLScriptElement>(\"script[src]\")) {\r\n            const language = new URL(script.src).searchParams.get(\"l\");\r\n            if (language) {\r\n                return new Language(language);\r\n            }\r\n        }\r\n\r\n        // last resort, try cookie\r\n        const cookie = CookieReader.get(\"Steam_Language\", null);\r\n        if (cookie) {\r\n            return new Language(cookie);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    createFromReact(): Language|null {\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}", "\r\nexport default class HTMLParser {\r\n\r\n    private static getVariable(source: string|Element|Document, regex: RegExp): string|null {\r\n        if (typeof source === \"string\") {\r\n            const m = source.match(regex);\r\n            return m && m[1] ? m[1] : null;\r\n        }\r\n\r\n        for (const node of source.querySelectorAll<HTMLScriptElement>(\"script\")) {\r\n            if (node.textContent) {\r\n                const m = node.textContent.match(regex)\r\n                if (m) {\r\n                    return m && m[1] ? m[1] : null;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    static getStringVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): string|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*['\"](.+?)['\"];`)\r\n            : nameOrRegex;\r\n        return this.getVariable(source, regex);\r\n    }\r\n\r\n    static getIntVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): number|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(.+?);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? Number(v) : null;\r\n    }\r\n\r\n    static getArrayVariable<T>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T[]|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\[.+?]);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n\r\n    static getObjectVariable<T extends Record<string, any>>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\{.+?});`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport type {TFetchBadgeInfoResponse, TFetchReviewsResponse, TLogin} from \"@Background/Modules/Community/_types\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class SteamCommunityApiFacade {\r\n\r\n    static fetchBadgeInfo(steamId: string, appid: number): Promise<TFetchBadgeInfoResponse> {\r\n        return Background.send(EAction.BadgeInfo, {steamId, appid});\r\n    }\r\n\r\n    static getWorkshopFileSize(id: number, preventFetch: boolean): Promise<number|null> {\r\n        return Background.send(EAction.WorkshopFileSize, {id, preventFetch});\r\n    }\r\n\r\n    static getReviews(steamId: string, pages: number): Promise<TFetchReviewsResponse> {\r\n        return Background.send(EAction.Reviews, {steamId, pages});\r\n    }\r\n\r\n    static login(profilePath: string): Promise<TLogin> {\r\n        return Background.send(EAction.Login, {profilePath});\r\n    }\r\n\r\n    static logout(force: boolean|undefined=undefined): Promise<void> {\r\n        return Background.send(EAction.Logout, {force});\r\n    }\r\n\r\n    static setStoreCountry(newCountry: string): Promise<void> {\r\n        return Background.send(EAction.StoreCountry_Set, {newCountry});\r\n    }\r\n\r\n    static getStoreCountry(): Promise<string|null> {\r\n        return Background.send(EAction.StoreCountry_Get);\r\n    }\r\n}\r\n", "import Errors from \"@Core/Errors/Errors\";\r\n\r\ndeclare global {\r\n    let content: any;\r\n}\r\n\r\nexport default class RequestData {\r\n\r\n    /**\r\n     * In Firefox, the global fetch lies in the sandbox environment, thus we have to\r\n     * access the fetch function of the content window.\r\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1579347#c5\r\n     */\r\n    // FIXME this will not work anymore in Manifest V3\r\n    private static _fetchFn\r\n        = (typeof content !== \"undefined\" && content && content.fetch)\r\n        || fetch.bind(window);\r\n\r\n\r\n    private static async getHttp(url: URL|string, settings: RequestInit = {}): Promise<Response> {\r\n\r\n        const _settings = {\r\n            \"method\": \"GET\",\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            ...settings\r\n        };\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n\r\n        let response;\r\n        try {\r\n            response = await RequestData._fetchFn(url, _settings);\r\n\r\n            if (!response.ok) {\r\n                throw new Errors.HTTPError(response.status, `HTTP ${response.status} ${response.statusText} for ${response.url}`);\r\n            }\r\n        } catch (e) {\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: e}));\r\n            throw e;\r\n        }\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n        return response;\r\n    }\r\n\r\n    static async getText(url: URL|string, settings: RequestInit={}): Promise<string> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.text();\r\n    }\r\n\r\n    static async getJson<T>(url: URL|string, settings: RequestInit={}): Promise<T> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.json();\r\n    }\r\n\r\n    static async getBlob(url: URL|string, settings: RequestInit={}): Promise<Blob> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.blob();\r\n    }\r\n\r\n    static async post(\r\n        url: URL|string,\r\n        data: Record<string, string>,\r\n        settings: RequestInit = {}\r\n    ): Promise<Response> {\r\n\r\n        const _settings = {\r\n            \"method\": \"POST\",\r\n            \"body\": new URLSearchParams(data),\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            ...settings\r\n        };\r\n\r\n        return await RequestData._fetchFn(url, _settings);\r\n    }\r\n}\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport RequestData from \"@Content/Modules/RequestData\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class LegacyUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    set isSignedIn(value: boolean) {\r\n        this._signedIn = value;\r\n    }\r\n\r\n    get isSignedIn(): boolean {\r\n        return this._signedIn;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        let country;\r\n\r\n        const params = new URLSearchParams(window.location.search);\r\n        if (params.has(\"cc\")) {\r\n            // Support overrides, though this only works when logged out now\r\n            country = params.get(\"cc\");\r\n        } else {\r\n            country = this._storeCountry;\r\n        }\r\n\r\n        if (!country) {\r\n            console.warn(\"Failed to detect store country, falling back to US\");\r\n            country = \"US\";\r\n        }\r\n\r\n        return country;\r\n    }\r\n\r\n    set profileUrl(value: string) {\r\n        this._profileUrl = value;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return this._profileUrl!;\r\n    }\r\n\r\n    set profilePath(value: string) {\r\n        this._profilePath = value;\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return this._profilePath!;\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        if (!this._sessionId) {\r\n            this._sessionId = HTMLParser.getStringVariable(\"g_sessionID\");\r\n        }\r\n        return this._sessionId;\r\n    }\r\n\r\n    /*\r\n     * Fetch the user's web api token to use in new style WebAPI calls (Services)\r\n     * https://github.com/Revadike/UnofficialSteamWebAPI/wiki/Get-Points-Summary-Config\r\n     * Works on both store and community, but only returns the store token\r\n     */\r\n    async getWebApiToken(): Promise<string> {\r\n        if (!this._webApiToken) {\r\n            const response = await RequestData.getJson<{\r\n                success?: boolean,\r\n                data?: {\r\n                    webapi_token?: string\r\n                }\r\n            }>(`${window.location.origin}/pointssummary/ajaxgetasyncconfig`);\r\n\r\n            if (!response.success || !response.data?.webapi_token) {\r\n                throw new Error(\"Failed to get webapi token\");\r\n            }\r\n\r\n            this._webApiToken = response.data.webapi_token;\r\n        }\r\n\r\n        return this._webApiToken;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class ReactUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    get isSignedIn(): boolean {\r\n        return !!this._steamId;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        return this._storeCountry!;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return `https://steamcommunity.com${this.profilePath}`\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return `/profiles/${this.steamId}/`\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        throw new Error(\"Not supported\");\r\n    }\r\n\r\n    set webApiToken(value: string | undefined) {\r\n        this._webApiToken = value;\r\n    }\r\n\r\n    async getWebApiToken(): Promise<string> {\r\n        return this._webApiToken!;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport SteamCommunityApiFacade from \"@Content/Modules/Facades/SteamCommunityApiFacade\";\r\nimport LegacyUser from \"@Core/User/LegacyUser\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport ReactUser from \"@Core/User/ReactUser\";\r\n\r\nexport default class UserFactory {\r\n\r\n    constructor(\r\n        private readonly appConfig: AppConfig\r\n    ) {}\r\n\r\n    async createFromLegacy(): Promise<LegacyUser> {\r\n        const user = new LegacyUser();\r\n\r\n        const avatarNode = document.querySelector<HTMLAnchorElement>(\"#global_actions > a.user_avatar\");\r\n\r\n        try {\r\n            if (avatarNode) {\r\n                user.profileUrl = avatarNode.href;\r\n                user.profilePath = avatarNode.pathname;\r\n\r\n                const login = await SteamCommunityApiFacade.login(user.profilePath);\r\n                user.isSignedIn = true;\r\n                user.steamId = login.steamId;\r\n            } else {\r\n                await SteamCommunityApiFacade.logout();\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n\r\n        try {\r\n            let country = await SteamCommunityApiFacade.getStoreCountry();\r\n            if (country) {\r\n                user.storeCountry = country;\r\n                return user;\r\n            }\r\n\r\n            let newCountry: string|null = null;\r\n\r\n            // Check config first since it's the fastest and present on most pages\r\n            const config = document.querySelector<HTMLElement>(\"#webui_config, #application_config\");\r\n            if (config) {\r\n                newCountry = config.dataset.config\r\n                    ? JSON.parse(config.dataset.config).COUNTRY\r\n                    : null;\r\n            } else if (window.location.hostname === \"steamcommunity.com\") {\r\n                // This variable is present on market-related pages\r\n                newCountry = HTMLParser.getStringVariable(\"g_strCountryCode\");\r\n            } else {\r\n                newCountry = HTMLParser.getStringVariable(/GDynamicStore\\.Init\\(.+?,\\s*'([A-Z]{2})'/);\r\n            }\r\n\r\n            if (!newCountry) {\r\n                throw new Error(\"Script with user store country not found\");\r\n            }\r\n\r\n            user.storeCountry = newCountry;\r\n            await SteamCommunityApiFacade.setStoreCountry(newCountry);\r\n        } catch(e) {\r\n            console.group(\"Store country detection\");\r\n            console.warn(\"Failed to detect store country from page\");\r\n            console.error(e);\r\n            console.groupEnd();\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n    async createFromReact(): Promise<ReactUser> {\r\n        const user = new ReactUser();\r\n\r\n        if (this.appConfig.steamId && this.appConfig.steamId !== \"0\") {\r\n            user.steamId = this.appConfig.steamId;\r\n        }\r\n\r\n        user.storeCountry = this.appConfig.countryCode!;\r\n\r\n        if (this.appConfig.webApiToken) {\r\n            user.webApiToken = this.appConfig.webApiToken;\r\n        }\r\n\r\n        return user;\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\n\r\nexport default class DOMHelper {\r\n\r\n    static selectLastNode<T extends Element=Element>(parent: HTMLElement|Document, selector: string): T|null {\r\n        const nodes = parent.querySelectorAll<T>(selector);\r\n        return nodes[nodes.length - 1] ?? null;\r\n    }\r\n\r\n    static insertRemoteStylesheet(url: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = url;\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertStylesheet(path: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = ExtensionResources.getURL(path);\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertCSS(content: string): void {\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = content;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    /**\r\n     * @see https://stackoverflow.com/a/9517879\r\n     */\r\n    static insertScript(path: string, params: Record<string, any>|undefined=undefined): void {\r\n        let s = document.createElement(\"script\");\r\n        s.src = browser.runtime.getURL(path);\r\n        // @ts-ignore\r\n        s.onload = function() { this.remove(); };\r\n\r\n        if (params) {\r\n            s.dataset.params = JSON.stringify(params);\r\n        }\r\n\r\n        // see also \"Dynamic values in the injected code\" section in this answer\r\n        (document.head || document.documentElement).appendChild(s);\r\n    }\r\n}\r\n", "import type {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\n\r\nexport default class Messenger {\r\n\r\n    private static id: number = 0;\r\n\r\n    private static dispatchEvent(handler: MessageHandler, action: string, params: any[]=[], id: string|undefined=undefined): void {\r\n\r\n        DOMHelper.insertScript(\"scriptlets/event.js\", {handler, detail: {\r\n            action, params, id\r\n        }});\r\n    }\r\n\r\n    static call(handler: MessageHandler, action: string, params: any[]=[]): void {\r\n        this.dispatchEvent(handler, action, params);\r\n    }\r\n\r\n    static get<T>(handler: MessageHandler, action: string, params: any[]=[]): Promise<T> {\r\n        return new Promise(resolve => {\r\n            const id = `as_msg_${this.id++}`;\r\n\r\n            // @ts-ignore\r\n            document.addEventListener(id, (e) => resolve(e.detail), {once: true});\r\n            this.dispatchEvent(handler, action, params, id);\r\n        });\r\n    }\r\n}\r\n", "import Messenger from \"@Content/Modules/Messaging/Messenger\";\r\nimport {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\n\r\nexport default class SteamFacade {\r\n\r\n    // variables\r\n\r\n    static global<T=any>(name: string): Promise<T> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"global\", [name]);\r\n    }\r\n\r\n    static globalExists(name: string): Promise<boolean> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"globalExists\", [name]);\r\n    }\r\n\r\n    static globalSet(name: string, value: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"globalSet\", [name, value]);\r\n    }\r\n\r\n    // dialogs\r\n\r\n    static showDialog(strTitle: string, strDescription: string, rgModalParams?: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showDialog\", [strTitle, strDescription, rgModalParams]);\r\n    }\r\n\r\n    static showConfirmDialog(\r\n        title: string,\r\n        description: string,\r\n        options: {\r\n            okButton?: string, // Default \"OK\"\r\n            cancelButton?: string,  // Default \"Cancel\"\r\n            secondaryActionButton?: string, // Needs a value else won't get rendered\r\n            explicitConfirm?: boolean, // Avoids releasing Enter from auto-confirming\r\n            explicitDismissal?: boolean // Avoids dismissal on clicking on background\r\n        } = {}\r\n    ): Promise<\"OK\"|\"SECONDARY\"|\"CANCEL\"> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showConfirmDialog\", [\r\n            title,\r\n            description,\r\n            options.okButton ?? null,\r\n            options.cancelButton ?? null,\r\n            options.secondaryActionButton ?? null,\r\n            options.explicitConfirm ?? false,\r\n            options.explicitDismissal ?? false\r\n        ]);\r\n    }\r\n\r\n    static showAlertDialog(\r\n        strTitle: string,\r\n        strDescription: string,\r\n        strOKButton?: string\r\n    ): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showAlertDialog\", [\r\n            strTitle, strDescription, strOKButton\r\n        ]);\r\n    }\r\n\r\n    static showBlockingWaitDialog(strTitle: string, strDescription: string): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showBlockingWaitDialog\", [\r\n            strTitle, strDescription\r\n        ]);\r\n    }\r\n\r\n    static dismissActiveModal(id?: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"dismissActiveModal\", [id]);\r\n    }\r\n\r\n    // menu\r\n\r\n    static showMenu(elemLink: string, elemPopup: string, align?: string, valign?: string, bLinkHasBorder?: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showMenu\", [elemLink, elemPopup, align, valign, bLinkHasBorder]);\r\n    }\r\n\r\n    static hideMenu(elemLink: string, elemPopup: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"hideMenu\", [elemLink, elemPopup]);\r\n    }\r\n\r\n    static changeLanguage(strTargetLanguage: string, bStayOnPage: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"changeLanguage\", [strTargetLanguage, bStayOnPage]);\r\n    }\r\n\r\n    // app pages\r\n\r\n    static collapseLongStrings(selector: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"collapseLongStrings\", [selector]);\r\n    }\r\n\r\n    static removeFromWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"removeFromWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    static addToWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"addToWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    // events\r\n\r\n    static bindAutoFlyoutEvents(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"bindAutoFlyoutEvents\");\r\n    }\r\n\r\n    // tooltips\r\n\r\n    static vTooltip(selector: string, isHtml: boolean = false): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"vTooltip\", [selector, isHtml]);\r\n    }\r\n\r\n    // market\r\n\r\n    static calculateFeeAmount(amount: number, publisherFee: number): Promise<{\r\n        amount: number,\r\n        fees: number\r\n    }> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"calculateFeeAmount\", [amount, publisherFee]);\r\n    }\r\n\r\n    static vCurrencyFormat(amount: number, currencyCode: string): Promise<string> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"vCurrencyFormat\", [amount, currencyCode])\r\n    }\r\n\r\n    // profile home\r\n\r\n    static openFriendChatInWebChat(steamid: string, accountid: number): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"openFriendChatInWebChat\", [steamid, accountid]);\r\n    }\r\n\r\n    // edit guide\r\n\r\n    static submitGuide(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"submitGuide\");\r\n    }\r\n}\r\n", "\r\nexport interface AppConfigData {\r\n    language?: string,\r\n    countryCode?: string,\r\n    webApiToken?: string,\r\n    steamId?: string\r\n}\r\n\r\nexport default class AppConfig {\r\n    public readonly language: string|undefined;\r\n    public readonly countryCode: string|undefined;\r\n    public readonly webApiToken: string|undefined;\r\n    public readonly steamId: string|undefined;\r\n\r\n    public constructor(data: AppConfigData) {\r\n        this.language = data.language;\r\n        this.countryCode = data.countryCode;\r\n        this.webApiToken = data.webApiToken;\r\n        this.steamId = data.steamId;\r\n    }\r\n}\r\n", "import SteamFacade from \"@Content/Modules/Facades/SteamFacade\";\r\nimport AppConfig, {type AppConfigData} from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class AppConfigFactory {\r\n\r\n    public createFromLegacy(): AppConfig {\r\n        const configNode: HTMLElement|null = document.querySelector(\"#application_config\");\r\n\r\n        const data: AppConfigData = {};\r\n\r\n        if (configNode?.dataset.config) {\r\n            const config = JSON.parse(configNode.dataset.config);\r\n            data.language = config.LANGUAGE;\r\n            data.countryCode = config.COUNTRY;\r\n        }\r\n\r\n        if (configNode?.dataset.store_user_config) {\r\n            const storeUserConfig = JSON.parse(configNode.dataset.store_user_config);\r\n            data.webApiToken = storeUserConfig.webapi_token;\r\n        }\r\n\r\n        return new AppConfig(data);\r\n    }\r\n\r\n    public async createFromReact(): Promise<AppConfig> {\r\n\r\n        const [loaderData, Config, UserConfig] = await Promise.all([\r\n            SteamFacade.global(\"SSR.loaderData\"),\r\n            SteamFacade.global(\"Config\"),\r\n            SteamFacade.global(\"UserConfig\")\r\n        ]);\r\n\r\n        const data: AppConfigData = {\r\n            language: Config.LANGUAGE,\r\n            countryCode: Config.COUNTRY\r\n        }\r\n\r\n        if (Array.isArray(loaderData) && loaderData[0]) {\r\n            for (let item of loaderData) {\r\n                item = JSON.parse(item);\r\n                if (item.strWebAPIToken) {\r\n                    data.webApiToken = item.strWebAPIToken;\r\n                }\r\n\r\n                if (item.storeBrowseContext && item.steamid) { // find correct object\r\n                    data.steamId = item.steamid;\r\n                }\r\n            }\r\n        }\r\n        return new AppConfig(data);\r\n    }\r\n}", "/**\r\n * @contentScript\r\n * @match *://steamcommunity.com/tradeoffer/*\r\n */\r\n\r\nimport CTradeOffer from \"./CTradeOffer\";\r\nimport Localization from \"@Core/Localization/Localization\";\r\nimport {SettingsStore} from \"@Options/Data/Settings\";\r\nimport LanguageFactory from \"@Core/Localization/LanguageFactory\";\r\nimport UserFactory from \"@Core/User/UserFactory\";\r\nimport AppConfigFactory from \"@Core/AppConfig/AppConfigFactory\";\r\n\r\n(async function() {\r\n\r\n    const appConfig = (new AppConfigFactory()).createFromLegacy();\r\n    const language = (new LanguageFactory(appConfig)).createFromLegacy();\r\n    const user = await (new UserFactory(appConfig)).createFromLegacy();\r\n\r\n    try {\r\n        await SettingsStore.init();\r\n        await Localization.init(language);\r\n    } catch (err) {\r\n        console.group(\"Augmented Steam initialization\");\r\n        console.error(\"Failed to initialize Augmented Steam\");\r\n        console.error(err);\r\n        console.groupEnd();\r\n        return;\r\n    }\r\n\r\n    const context = new CTradeOffer({language, user});\r\n    await context.applyFeatures();\r\n})();\r\n"],
  "mappings": "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ACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,KAAK,CACN,EAGY2E,EAAM3E,EAAO,CACxB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,OAAO,CACR,EAEY4E,EAAa5E,EAAO,CAC/B,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,cAAc,CACf,EAMY6E,EAAgB7E,EAAO,CAClC,UACA,gBACA,SACA,UACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,KAAK,CACN,EAEY8E,GAAS9E,EAAO,CAC3B,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aACA,aAAa,CACd,EAIY+E,GAAmB/E,EAAO,CACrC,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,MAAM,CACP,EAEYgF,GAAOhF,EAAO,CAAC,OAAO,CAAC,ECrRvB0E,GAAO1E,EAAO,CACzB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,OACA,QACA,MAAM,CACP,EAEY2E,GAAM3E,EAAO,CACxB,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,YAAY,CACb,EAEY8E,GAAS9E,EAAO,CAC3B,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,OAAO,CACR,EAEYiF,GAAMjF,EAAO,CACxB,aACA,SACA,cACA,YACA,aAAa,CACd,ECvWYkF,GAAgBjF,EAAK,2BAA2B,EAChDkF,EAAWlF,EAAK,uBAAuB,EACvCmF,GAAcnF,EAAK,eAAe,EAClCoF,GAAYpF,EAAK,4BAA4B,EAC7CqF,GAAYrF,EAAK,gBAAgB,EACjCsF,GAAiBtF,EAC5B,2FACF,EACauF,GAAoBvF,EAAK,uBAAuB,EAChDwF,GAAkBxF,EAC7B,6DACF,EACayF,GAAezF,EAAK,SAAS,EAC7B0F,GAAi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",
  "names": ["globalThis", "chrome", "runtime", "id", "Error", "browser", "Object", "getPrototypeOf", "prototype", "CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE", "wrapAPIs", "extensionAPIs", "apiMetadata", "keys", "length", "DefaultWeakMap", "WeakMap", "constructor", "createItem", "items", "undefined", "get", "key", "has", "set", "isThenable", "value", "then", "makeCallback", "promise", "metadata", "callbackArgs", "lastError", "reject", "message", "singleCallbackArg", "resolve", "pluralizeArguments", "numArgs", "wrapAsyncFunction", "name", "target", "args", "minArgs", "maxArgs", "Promise", "fallbackToNoCallback", "cbError", "console", "warn", "noCallback", "wrapMethod", "method", "wrapper", "Proxy", "apply", "targetMethod", "thisObj", "call", "hasOwnProperty", "Function", "bind", "wrapObject", "wrappers", "cache", "create", "handlers", "proxyTarget", "prop", "receiver", "defineProperty", "configurable", "enumerable", "desc", "Reflect", "deleteProperty", "wrapEvent", "wrapperMap", "addListener", "listener", "hasListener", "removeListener", "onRequestFinishedWrappers", "req", "wrappedReq", "getContent", "onMessageWrappers", "sender", "sendResponse", "didCallSendResponse", "wrappedSendResponse", "sendResponsePromise", "response", "result", "err", "isResultThenable", "sendPromisedResult", "msg", "error", "__mozWebExtensionPolyfillReject__", "catch", "wrappedSendMessageCallback", "reply", "wrappedSendMessage", "apiNamespaceObj", "wrappedCb", "push", "sendMessage", "staticWrappers", "devtools", "network", "onRequestFinished", "onMessage", "onMessageExternal", "tabs", "settingMetadata", "clear", "privacy", "services", "websites", "module", "exports", "entries", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "Object", "freeze", "seal", "create", "apply", "construct", "Reflect", "x", "fun", "thisValue", "args", "Func", "arrayForEach", "unapply", "Array", "prototype", "forEach", "arrayPop", "pop", "arrayPush", "push", "stringToLowerCase", "String", "toLowerCase", "stringToString", "toString", "stringMatch", "match", "stringReplace", "replace", "stringIndexOf", "indexOf", "stringTrim", "trim", "objectHasOwnProperty", "hasOwnProperty", "regExpTest", "RegExp", "test", "typeErrorCreate", "unconstruct", "TypeError", "numberIsNaN", "Number", "isNaN", "func", "thisArg", "_len", "arguments", "length", "_key", "_len2", "_key2", "addToSet", "set", "array", "transformCaseFunc", "undefined", "l", "element", "lcElement", "cleanArray", "index", "clone", "object", "newObject", "property", "value", "isArray", "constructor", "lookupGetter", "prop", "desc", "get", "fallbackValue", "html", "svg", "svgFilters", "svgDisallowed", "mathMl", "mathMlDisallowed", "text", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "CUSTOM_ELEMENT", "NODE_TYPE", "attribute", "cdataSection", "entityReference", "entityNode", "progressingInstruction", "comment", "document", "documentType", "documentFragment", "notation", "getGlobal", "window", "_createTrustedTypesPolicy", "trustedTypes", "purifyHostElement", "createPolicy", "suffix", "ATTR_NAME", "hasAttribute", "getAttribute", "policyName", "createHTML", "createScriptURL", "scriptUrl", "console", "warn", "createDOMPurify", "DOMPurify", "root", "version", "VERSION", "removed", "nodeType", "isSupported", "originalDocument", "currentScript", "DocumentFragment", "HTMLTemplateElement", "Node", "Element", "NodeFilter", "NamedNodeMap", "MozNamedAttrMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "getNextSibling", "getChildNodes", "getParentNode", "template", "createElement", "content", "ownerDocument", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "hooks", "createHTMLDocument", "EXPRESSIONS", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "ATTRS", "CUSTOM_ELEMENT_HANDLING", "tagNameCheck", "writable", "configurable", "enumerable", "attributeNameCheck", "allowCustomizedBuiltInElements", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "SAFE_FOR_XML", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "MAX_NESTING_DEPTH", "formElement", "isRegexOrFunction", "testValue", "Function", "_parseConfig", "cfg", "ADD_URI_SAFE_ATTR", "ADD_DATA_URI_TAGS", "ALLOWED_URI_REGEXP", "ADD_TAGS", "ADD_ATTR", "table", "tbody", "TRUSTED_TYPES_POLICY", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "namespaceURI", "parentTagName", "Boolean", "_forceRemove", "node", "parentNode", "removeChild", "remove", "_removeAttribute", "name", "getAttributeNode", "from", "removeAttribute", "setAttribute", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "parseFromString", "documentElement", "createDocument", "innerHTML", "body", "insertBefore", "createTextNode", "childNodes", "call", "_createNodeIterator", "SHOW_ELEMENT", "SHOW_COMMENT", "SHOW_TEXT", "SHOW_PROCESSING_INSTRUCTION", "SHOW_CDATA_SECTION", "_isClobbered", "elm", "__depth", "__removalCount", "nodeName", "textContent", "attributes", "hasChildNodes", "_isNode", "_executeHook", "entryPoint", "currentNode", "data", "hook", "_sanitizeElements", "allowedTags", "firstElementChild", "_isBasicCustomElement", "childCount", "i", "childClone", "expr", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "hookEvent", "attrName", "attrValue", "keepAttr", "allowedAttributes", "attr", "forceKeepAttr", "getAttributeType", "setAttributeNS", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "nextNode", "sanitize", "importedNode", "returnNode", "appendChild", "firstChild", "nodeIterator", "shadowroot", "shadowrootmode", "serializedHTML", "outerHTML", "doctype", "setConfig", "clearConfig", "isValidAttribute", "tag", "addHook", "hookFunction", "removeHook", "removeHooks", "removeAllHooks", "purify", "Feature", "context", "err", "msg", "args", "LoginError", "type", "ServerOutageError", "msg", "OAuthUnauthorized", "HTTPError", "code", "message", "FeatureDependencyError", "featureName", "Errors_default", "Context", "params", "type", "features", "ref", "feature", "_params", "dependent", "dependencies", "promises", "func", "promise", "dependencyFunc", "weak", "dependency", "Errors_default", "pass", "res", "e", "featureName", "ContextType", "ContextType_default", "__tradeoffer_numItem", "__tradeoffer_numItems", "__tradeoffer_back", "import_webextension_polyfill", "Info_default", "browser", "import_webextension_polyfill", "import_webextension_polyfill", "Storage", "storageArea", "key", "object", "value", "keys", "SyncedStorage", "Storage", "browser", "SyncedStorage_default", "DefaultSettings", "Info_default", "Event", "listener", "SettingsStore", "SyncedStorage", "key", "value", "data", "Settings_default", "target", "prop", "import_webextension_polyfill", "ExtensionResources", "_ExtensionResources", "pathname", "browser", "Language", "_Language", "language", "languages", "import_webextension_polyfill", "ErrorParser", "errStr", "info", "Background", "action", "params", "result", "browser", "e", "error", "ErrorParser", "SteamStoreApiFacade", "appid", "Background", "filter", "appName", "lang", "ids", "Localization", "code", "ExtensionResources", "current", "stored", "Settings_default", "Language", "SteamStoreApiFacade", "lang", "L", "key", "replacements", "text", "value", "import_dompurify", "HTML", "_HTML", "link", "_link", "str", "map", "m", "html", "template", "DOMPurify", "nodeOrSelector", "node", "dom", "firstElement", "wrapperHtml", "startElementOrSelector", "endElementOrSelector", "startElement", "endElement", "wrappedNodes", "cur", "wrapperElement", "position", "FCountTradeItems", "Feature", "HTML", "mutations", "mutation", "node", "yourItemsCountNode", "theirItemsCountNode", "yourItems", "L", "__tradeoffer_numItem", "__tradeoffer_numItems", "theirItems", "FMyTradeOffersLink", "Feature", "HTML", "L", "__tradeoffer_back", "CTradeOffer", "Context", "params", "isErrorPage", "ContextType_default", "FMyTradeOffersLink", "FCountTradeItems", "Environment", "context", "CookieReader", "Environment", "key", "val", "kv", "name", "defaultValue", "LanguageFactory", "config", "Language", "script", "language", "cookie", "CookieReader", "HTMLParser", "source", "regex", "m", "node", "nameOrRegex", "v", "SteamCommunityApiFacade", "steamId", "appid", "Background", "id", "preventFetch", "pages", "profilePath", "force", "newCountry", "RequestData", "_RequestData", "url", "settings", "_settings", "response", "Errors_default", "e", "data", "LegacyUser", "value", "country", "params", "HTMLParser", "response", "RequestData", "ReactUser", "value", "UserFactory", "appConfig", "user", "LegacyUser", "avatarNode", "login", "SteamCommunityApiFacade", "e", "country", "newCountry", "config", "HTMLParser", "ReactUser", "import_webextension_polyfill", "DOMHelper", "parent", "selector", "nodes", "url", "stylesheet", "path", "ExtensionResources", "content", "style", "params", "browser", "Messenger", "handler", "action", "params", "id", "DOMHelper", "resolve", "e", "SteamFacade", "name", "Messenger", "value", "strTitle", "strDescription", "rgModalParams", "title", "description", "options", "strOKButton", "id", "elemLink", "elemPopup", "align", "valign", "bLinkHasBorder", "strTargetLanguage", "bStayOnPage", "selector", "appid", "divToHide", "divToShowSuccess", "divToShowError", "navref", "divToHide2", "isHtml", "amount", "publisherFee", "currencyCode", "steamid", "accountid", "AppConfig", "data", "AppConfigFactory", "configNode", "data", "config", "storeUserConfig", "AppConfig", "loaderData", "Config", "UserConfig", "SteamFacade", "item", "appConfig", "AppConfigFactory", "language", "LanguageFactory", "user", "UserFactory", "SettingsStore", "Localization", "err", "CTradeOffer"]
}

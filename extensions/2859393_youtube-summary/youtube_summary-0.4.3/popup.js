const REVIEW_LINK={FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/youtube-summary/",CHROME:"https://chromewebstore.google.com/detail/ogihgbocgnbhhdcmcolhipjhkmkecpeg/reviews",EDGE:"https://microsoftedge.microsoft.com/addons/detail/youtube-summary-ai-with-g/akjfbgldngciabajgkmmbdlhpkciffgc"},LLM_LANGUAGE_MAP={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",bn:"\u09ac\u09be\u0982\u09b2\u09be",bg:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",zh:"\u4e2d\u6587 (\u7b80\u4f53 / \u7e41\u9ad4)",hr:"Hrvatski",cs:"\u010ce\u0161tina",da:"Dansk",nl:"Nederlands",en:"English",et:"Eesti",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\xe7ais",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",gu:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",id:"Bahasa Indonesia",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lv:"Latvie\u0161u",lt:"Lietuvi\u0173",ml:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",mr:"\u092e\u0930\u093e\u0920\u0940",no:"Norsk",pl:"Polski",pt:"Portugu\xeas",ro:"Rom\xe2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",es:"Espa\xf1ol",sw:"Kiswahili",sv:"Svenska",ta:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",te:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",th:"\u0e44\u0e17\u0e22",tr:"T\xfcrk\xe7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u0631\u062f\u0648",vi:"Ti\u1ebfng Vi\u1ec7t"},isFirefoxBrowser=()=>"InstallTrigger"in window,isEdgeBrowser=()=>/Edg/i.test(navigator.userAgent),TRANSLATIONS={popup_feedback_btn:chrome.i18n.getMessage("popup_feedback_btn"),popup_support_crypto_btn:chrome.i18n.getMessage("popup_support_crypto_btn"),popup_support_card_btn:chrome.i18n.getMessage("popup_support_card_btn"),popup_button_shine_enabled:`${chrome.i18n.getMessage("popup_button_shine_enabled")} ${chrome.i18n.getMessage("default")}`,popup_button_shine_disabled:chrome.i18n.getMessage("popup_button_shine_disabled"),popup_button_shine_text:chrome.i18n.getMessage("popup_button_shine_text"),summary_length_text:chrome.i18n.getMessage("summary_length_text"),summary_length_detailed:`${chrome.i18n.getMessage("summary_length_detailed")} ${chrome.i18n.getMessage("default")}`,summary_length_average:chrome.i18n.getMessage("summary_length_average"),summary_length_short:chrome.i18n.getMessage("summary_length_short"),preferred_ai_model:chrome.i18n.getMessage("preferred_ai_model"),settings:chrome.i18n.getMessage("settings"),main_description:chrome.i18n.getMessage("main_description"),model_default:`Gemini Flash ${chrome.i18n.getMessage("default")}`,summary_language:chrome.i18n.getMessage("summary_language"),summary_language_auto:`${chrome.i18n.getMessage("summary_language_auto")} ${chrome.i18n.getMessage("default")}`},cryptoBtn=document.querySelector("#support-crypto"),paypalBtn=document.querySelector("#support-paypal"),reviewBtn=document.querySelector("#review"),settingsText=document.querySelector("#settings-text"),aiModel=document.querySelector("#preferred-ai-model"),summaryTextLength=document.querySelector("#summary-length-text"),summaryLengthDetailed=document.querySelector("#summary-length-detailed"),summaryLengthAverage=document.querySelector("#summary-length-average"),summaryLengthShort=document.querySelector("#summary-length-short"),buttonShineBtn=document.querySelector("#button-shine-text"),shineEnabledBtn=document.querySelector("#button-shine-enabled"),shineDisabledBtn=document.querySelector("#button-shine-disabled"),mainDescription=document.querySelector("#main-description"),modelDefault=document.querySelector("#model-default"),languageSelect=document.querySelector("#language-select"),languageSelectText=document.querySelector("#language-select-text"),optionLangAuto=document.createElement("option");optionLangAuto.value="auto",optionLangAuto.textContent=TRANSLATIONS.summary_language_auto,languageSelect.appendChild(optionLangAuto),Object.keys(LLM_LANGUAGE_MAP).forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=LLM_LANGUAGE_MAP[e],languageSelect.appendChild(t)}));try{cryptoBtn.textContent=TRANSLATIONS.popup_support_crypto_btn,paypalBtn.textContent=TRANSLATIONS.popup_support_card_btn,reviewBtn.textContent=TRANSLATIONS.popup_feedback_btn,settingsText.textContent=TRANSLATIONS.settings,aiModel.textContent=TRANSLATIONS.preferred_ai_model,summaryTextLength.textContent=TRANSLATIONS.summary_length_text,summaryLengthDetailed.textContent=TRANSLATIONS.summary_length_detailed,summaryLengthAverage.textContent=TRANSLATIONS.summary_length_average,summaryLengthShort.textContent=TRANSLATIONS.summary_length_short,buttonShineBtn.textContent=TRANSLATIONS.popup_button_shine_text,shineDisabledBtn.textContent=TRANSLATIONS.popup_button_shine_disabled,mainDescription.textContent=TRANSLATIONS.main_description,shineEnabledBtn.textContent=TRANSLATIONS.popup_button_shine_enabled,modelDefault.textContent=TRANSLATIONS.model_default,languageSelectText.textContent=TRANSLATIONS.summary_language}catch(e){console.error(e)}document.querySelector("#popup-support-description").textContent=chrome.i18n.getMessage("popup_support_description"),cryptoBtn.addEventListener("click",(()=>{window.open("https://summary-ai-donate.netlify.app/","_blank")})),paypalBtn.addEventListener("click",(()=>{window.open("https://www.paypal.com/donate/?hosted_button_id=TTCWPSK9EFDZL","_blank")})),reviewBtn.addEventListener("click",(async()=>{try{Object.prototype.hasOwnProperty.call(chrome,"storage")&&await chrome.storage.sync.set({"summary-app-was-review-clicked":!0})}catch(e){console.error(e)}finally{isFirefoxBrowser()?window.open(REVIEW_LINK.FIREFOX,"_blank"):isEdgeBrowser()?window.open(REVIEW_LINK.EDGE,"_blank"):window.open(REVIEW_LINK.CHROME,"_blank")}}));const modelSelect=document.querySelector("#model-select"),summaryLengthSelect=document.querySelector("#summary-length"),buttonAnimationSelect=document.querySelector("#button-animation");modelSelect?.addEventListener("change",(async e=>{const t=e.target.value;await chrome.storage.sync.set({"summary-app-active-model":t})})),summaryLengthSelect?.addEventListener("change",(async e=>{const t=e.target.value;await chrome.storage.sync.set({"summary-app-summary-length":t})})),buttonAnimationSelect?.addEventListener("change",(async e=>{const t=e.target.value;await chrome.storage.sync.set({"summary-app-button-animation":t})})),languageSelect?.addEventListener("change",(async e=>{const t=e.target.value;await chrome.storage.sync.set({"summary-app-language":t})})),document.addEventListener("DOMContentLoaded",(async()=>{try{if(Object.prototype.hasOwnProperty.call(chrome,"storage")){const e=(await chrome.storage.sync.get(["summary-app-active-model"]))["summary-app-active-model"],t=(await chrome.storage.sync.get(["summary-app-summary-length"]))["summary-app-summary-length"],n=(await chrome.storage.sync.get(["summary-app-button-animation"]))["summary-app-button-animation"],a=(await chrome.storage.sync.get(["summary-app-language"]))["summary-app-language"];summaryLengthSelect.value=t||"1",modelSelect.value=e||"gemini-1.5-flash",buttonAnimationSelect.value=n||"on",languageSelect.value=a||"auto"}else document.querySelector("#settings")?.remove()}catch(e){console.error(e),document.querySelector("#settings")?.remove()}}));
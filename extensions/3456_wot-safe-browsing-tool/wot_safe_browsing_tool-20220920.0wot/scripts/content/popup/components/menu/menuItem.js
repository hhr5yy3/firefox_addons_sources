var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};class MenuItem extends React.Component{constructor(e){super(e),this.state={isHovering:!1}}unlock(e){goUpgrade("Main menu","unlock",e)}render(){var e=this.props;const t=e.store,i=e.item,s=e.isShieldsOn,n=e.isLiveBlockingOn,a=e.newFeatures;var m=t.getState();const r=m.user,c=m.settings,o=m.dispatch,l=_extends({},c,{shields:s,liveBlocking:n}),u=!(!r||!r.isPremiumUser),g=i.fields?i.fields.some(e=>!0==!!l[e]):!!l[i.field],p=g&&(!i.isPremium||i.isPremium&&u),d=a&&a[i.field],v=i.isPremium&&!u,h=translate(i.title),f=translate("unlock"),E=()=>{if(!i.isPremium||u){if(this.setState({isHovering:!1}),!p&&i.modalText)return this.props.showModal(),void 0;(()=>{GA("Main menu","toggle",`${i.title}_${p?"OFF":"ON"}`);const e=p?i.actionOff:i.actionOn;t.dispatch(e())})()}};return React.createElement("div",{onClick:()=>E(),className:`menu-item-container${!g||v?" disabled":""}${i.isPremium&&!u?" premium":""}${d?" new-feature":""}`},i.isPremium&&React.createElement(SvgIcon,{className:"menu-premium-feature",svg:u?p?"premium-feature-icon":"premium-feature-grey-icon":"premium-feature"}),React.createElement("div",{className:"item-content",onMouseEnter:()=>this.setState({isHovering:!0}),onMouseLeave:()=>this.setState({isHovering:!1})},React.createElement("div",{className:"menu-item-top"},React.createElement(SvgComponent,{className:"menu-item-icon",svg:this.props.item.icon,id:this.props.item.icon}),React.createElement("div",{className:"menu-item-top-right"},React.createElement("div",{className:"menu-item-toggle"},React.createElement(ToggleSwitch,{animate:this.state.isHovering,simpleToggle:!0,className:"green small",dispatch:o,checked:p,disabled:v,animationPath:"toggle-switch.json"})))),React.createElement("div",{className:"menu-item-title",title:"en-US"!==getLocale()?h:""},h)),i.isPremium&&!u&&React.createElement("div",{className:"unlock-btn",onClick:()=>this.unlock(i.title),style:{"font-size":f.length>6?"12px":"14px"}},React.createElement(SvgIcon,{svg:"premium-icon-white",className:"premium-icon"}),f))}}function mapStateToProps(e){return{settings:e.settings,isShieldsOn:e.settings.shields.all!==SHIELDS_LEVEL_OFF,isLiveBlockingOn:e.settings.warnings!==WARNINGS_LEVEL_OFF,newFeatures:e.version.newFeatures}}MenuItem=ReactRedux.connect(mapStateToProps)(MenuItem);
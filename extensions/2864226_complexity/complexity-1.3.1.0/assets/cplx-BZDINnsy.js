import{j as t}from"./cplx-DEt7CUyc.js";import{P as C}from"./cplx-BsCYqTWz.js";import{t as h,N as w,v as g}from"./cplx-CejnDNPm.js";import{T as d}from"./cplx-Cqfmi6PF.js";import{b as L,c as S,d as j,e as M,S as v,a as b}from"./cplx-DLB-E6VW.js";import{A as G}from"./cplx-DZHkAxBZ.js";import{c as E,s as I,i as y}from"./cplx-BqwXc_LR.js";import{h as u,P as _,d as N,u as O}from"./cplx-CWPpH3dB.js";import{o as A,T,D}from"./cplx-Cdcyb6EG.js";import{q as p,i as R}from"./cplx-CVsLL7Ku.js";import{Q as P}from"./cplx-B42KOvrD.js";import{r as V}from"./cplx-M4JPizzD.js";import{$ as Z}from"./cplx-BbAh7E-i.js";import"./cplx-DSnlyBAv.js";import"./cplx-CXGk_GMP.js";import"./cplx-CCS6eJc0.js";import"./cplx-B19A3gYQ.js";import"./cplx-C-SYgQKx.js";import"./cplx-D9K5ecXe.js";import"./cplx-D37zsf-y.js";import"./cplx-BpeHHEix.js";import"./cplx-AFeO3sEC.js";import"./cplx-2ekRUlSR.js";import"./cplx-CIDXzIHh.js";import"./cplx-CzQHx1MX.js";import"./cplx-CvSOQQlQ.js";import"./cplx-Bzmv935M.js";import"./cplx-Bey00KRS.js";import"./cplx-DC-QQLj-.js";import"./cplx-B814hFp-.js";import"./cplx-wwbq-DDb.js";import"./cplx-CZMWhpfy.js";import"./cplx-SsoyhRxE.js";import"./cplx-DewpVJ-0.js";import"./cplx-Mn-h5XDX.js";import"./cplx-CCGYIZQf.js";import"./cplx-DD6dUv5H.js";import"./cplx-Dy60Fcq0.js";import"./cplx-CgmVhoKz.js";import"./cplx-km2FGkQ4.js";import"./cplx-hUtawQMb.js";const c=[{label:"FLUX.1",shortLabel:"FLUX.1",code:"flux"},{label:"DALL-E 3",shortLabel:"DALL-E",code:"dall-e-3"},{label:"Playground",shortLabel:"Playground",code:"default"},{label:"Stable Diffusion XL",shortLabel:"SDXL",code:"sdxl"}];function k({...e}){return t.jsx("svg",{width:"0.8em",height:"0.8em",viewBox:"0 0 2369 1804",fill:"transparent",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M728.971 692.5C478.48 1073.79 211.988 1479.42 136.766 1593.91C61.545 1708.4 0 1802.34 0 1802.66C0 1802.98 373.088 1803.25 829.083 1803.25C1285.08 1803.25 1658.02 1802.87 1657.83 1802.42C1657.65 1801.96 1631.17 1761.48 1599 1712.46L1540.5 1623.33L937.143 1623.29C435.64 1623.25 333.872 1623.02 334.296 1621.92C334.719 1620.81 1163.44 358.978 1179.46 335.035L1184.62 327.325L1395.99 649.035C1512.24 825.976 1730.41 1158.06 1880.8 1387L2154.26 1803.25H2261.74C2347.31 1803.25 2369.11 1802.99 2368.72 1802C2368.45 1801.31 2329.64 1742.02 2282.47 1670.25C2235.3 1598.47 1969.24 1193.47 1691.22 770.245C1413.21 347.02 1185.44 0.410404 1185.08 0.00040411C1184.71 -0.409596 979.463 311.215 728.971 692.5ZM2051.74 754.961L1946.11 915.745L2157.22 915.997C2273.33 916.136 2368.51 916.066 2368.74 915.842C2369.16 915.418 2160.79 597.726 2158.6 595.461C2157.6 594.429 2136.59 625.801 2051.74 754.961ZM1234 933.765C1234 934.056 1360.97 1129.81 1516.15 1368.77L1798.29 1803.25H1905.64H2012.98L2010.01 1798.5C2008.38 1795.88 1881.36 1600.25 1727.75 1363.75L1448.46 933.745L1341.23 933.49C1282.25 933.351 1234 933.474 1234 933.765ZM990.687 1105.37C985.517 1113.28 938.007 1185.62 885.108 1266.13C832.209 1346.64 789.096 1412.67 789.3 1412.88C789.504 1413.08 884.658 1413.14 1000.75 1413L1211.83 1412.75L1106.46 1252.37C1048.5 1164.16 1000.86 1091.77 1000.58 1091.49C1000.31 1091.22 995.857 1097.47 990.687 1105.37Z",fill:"currentColor"})})}function H({...e}){return t.jsx("svg",{width:"0.8em",height:"0.8em",viewBox:"0 0 38 38",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38 19C38 8.50659 29.4934 0 19 0C8.50659 0 0 8.50659 0 19C0 29.4934 8.50659 38 19 38C29.4934 38 38 29.4934 38 19ZM19.1765 3C17.942 3 16.9412 4.00073 16.9412 5.23535V32.0588C16.9412 33.2935 17.942 34.2942 19.1765 34.2942C20.411 34.2942 21.4118 33.2935 21.4118 32.0588V5.23535C21.4118 4.00073 20.411 3 19.1765 3ZM8 18.6472C8 14.0645 10.7582 10.1257 14.7051 8.40088V28.8933C10.7582 27.1685 8 23.23 8 18.6472ZM30.3529 18.6472C30.3529 23.2305 27.594 27.1694 23.6463 28.894V8.40039C27.594 10.1248 30.3529 14.0637 30.3529 18.6472Z",fill:"currentColor"})})}const q=({style:e,...o})=>t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"0.8em",height:"0.8em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 213",style:{...e},...o,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"a",x1:"50%",x2:"50%",y1:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"currentColor"}),t.jsx("stop",{offset:"100%",stopColor:"currentColor"})]})}),t.jsx("path",{fill:"currentColor",d:"M72.418 212.45c49.478 0 81.658-26.205 81.658-65.626 0-30.572-19.572-49.998-54.569-58.043l-22.469-6.74c-19.71-4.424-31.215-9.738-28.505-23.312 2.255-11.292 9.002-17.667 24.69-17.667 49.872 0 68.35 17.667 68.35 17.667V16.237S123.583 0 73.223 0C25.757 0 0 24.424 0 62.236c0 30.571 17.85 48.35 54.052 56.798 2.534.633 3.83.959 3.885.976 5.507 1.704 12.938 3.956 22.293 6.755 18.504 4.425 23.262 9.121 23.262 23.2 0 12.872-13.374 20.19-31.074 20.19C21.432 170.154 0 144.36 0 144.36v47.078s13.402 21.01 72.418 21.01Z"}),t.jsx("path",{fill:"currentColor",d:"M225.442 209.266c17.515 0 30.558-12.67 30.558-29.812 0-17.515-12.67-29.813-30.558-29.813-17.515 0-30.185 12.298-30.185 29.813s12.67 29.812 30.185 29.812Z"})]}),B={flux:k,"dall-e-3":G,default:H,sdxl:q};function F(e,o,i="Guard condition failed",m=!1){const l=function(...n){var r,s;if(e(...n))return o.apply(this,n);if(!m){const a=new Error(i);Error.captureStackTrace(a,l);const x=((s=(r=a.stack)==null?void 0:r.split(`
`)[1])==null?void 0:s.trim())??"Unknown location";console.error(`${x}: ${i}`)}};return l}function Q(e,o=!1){return F(()=>!A(),e,"This function can only be called in the extension context.",o)}function U(e){return Q(e,!0)}function X(e){return c.some(o=>o.code===e)}const f=E()(I(y(e=>({selectedImageGenModel:"default",setSelectedImageGenModel:async o=>{e({selectedImageGenModel:o}),await _.setDefaultImageGenModel(o),p.invalidateQueries({queryKey:u.userSettings.queryKey})}})))),W=f;async function $(){let e=!0;new P(p,u.userSettings).subscribe(o=>{o.data&&e&&(W.setState(i=>{i.selectedImageGenModel=X(o.data.default_image_generation_model)?o.data.default_image_generation_model:"default"}),e=!1)})}U(()=>$())();function z(){var n;const{data:e}=N(),o=(e==null?void 0:e.create_limit)??0,{selectedImageGenModel:i,setSelectedImageGenModel:m}=f(({selectedImageGenModel:r,setSelectedImageGenModel:s})=>({selectedImageGenModel:r,setSelectedImageGenModel:s})),l=r=>{m(r.value[0])};return t.jsxs(L,{"data-testid":T.QUERY_BOX.IMAGE_GEN_MODEL_SELECTOR,collection:S({items:c.map(r=>r.code)}),className:"tw-mb-4 tw-ml-auto tw-w-fit",value:[i],onValueChange:l,children:[t.jsx(d,{content:h("plugin-model-selectors:imageGenModelSelector.tooltip"),positioning:{gutter:8},children:t.jsx(j,{variant:"ghost",children:t.jsxs("div",{className:"tw-flex tw-min-h-8 tw-items-center tw-justify-center tw-gap-1",children:[t.jsx(w,{className:"tw-size-4"}),t.jsx(M,{className:"tw-font-medium",children:(n=c.find(r=>r.code===i))==null?void 0:n.shortLabel}),t.jsx("span",{className:"tw-self-start tw-text-[.5rem] tw-text-primary",children:o})]})})}),t.jsx(v,{className:"custom-scrollbar tw-max-h-[500px] tw-max-w-[200px] tw-overflow-auto tw-font-sans",children:c.map(r=>{const s=B[r.code];return t.jsx(d,{content:o,positioning:{placement:"right",gutter:10},children:t.jsx(b,{item:r.code,className:"tw-font-medium",onClick:a=>{a.stopPropagation()},children:t.jsxs("div",{className:"tw-flex tw-max-w-full tw-items-center tw-justify-around tw-gap-2",children:[R(t.jsx(s,{}))?t.jsx("div",{className:"tw-text-[1.1rem]",children:t.jsx(s,{className:"tw-size-4"})}):t.jsx(g,{className:"tw-size-4"}),t.jsx("span",{className:"tw-truncate",children:r.label})]})},r.code)},r.code)})})]})}function K(){const e=O(o=>o.threadComponents.popper);return V.useMemo(()=>Y(e),[e])}function Y(e){if(!e)return null;const o=Z(e).find(D.THREAD.MESSAGE.VISUAL_COL_CHILD.IMAGE_GEN.OPTIONS_GRID).prev();return o.length?o[0]:null}function ke(){const e=K();return t.jsx(C,{container:e,children:t.jsx(z,{})})}export{ke as default};

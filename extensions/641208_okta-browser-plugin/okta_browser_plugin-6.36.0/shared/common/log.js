const Log=function(r){var n=new Date;let e;if("undefined"!=typeof window){var o=["debug","info","warn","error"],t=["assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console||(window.console={}),window.console.log||(window.console.log=function(){});for(let n=0;n<t.length;++n)window.console[t[n]]||(window.console[t[n]]=function(){});for(let n=0;n<o.length;++n)window.console[o[n]]||(window.console[o[n]]=window.console.log)}const i={DEBUG:function(n){console.debug(n)},INFO:function(n){console.info(n)},WARN:function(n){console.warn(n)},ERROR:function(n){console.error(n)}},s={DEBUG:function(){},INFO:function(){},WARN:function(){},ERROR:function(){}};e=r?i:s;let f,c=[];const u=[];let l=n;function g(n){var o=new Date,t=o-l,t=150<t?t+"(ms): "+n.msg:n.msg;try{e[n.type](t)}catch(n){return}l=o}function d(o){if(0==o.length)return null;var n=o[0];if("string"!=typeof n)throw"not a string: "+n;const t=[];for(let n=1;n<o.length;n++){var e=o[n];t.push("object"==typeof e?JSON.stringify(e,function(n,o){if("string"!=typeof n)return o;{const t=n.toLowerCase();return-1!=t.indexOf("password")||"value"==t&&("p"==this.key||"password"==this.type)?function t(e){if("[object Array]"!==Object.prototype.toString.call(e))return StringUtil.hashCode(e);{let o="[";for(let n=0;n<e.length;n++)o=o+t(e[n])+",";return o+"]"}}(o):o}}):e)}return StringUtil.format(n,t)}function a(n,o){const t={type:n,msg:d(o)};if(g(t),Okta.Config.startrecordingLogs&&u.push(t),r)if(null==f)c.push(t);else if(f&&f.passwords){c.push(t);var e=f.passwords;for(let n=0;n<e.length;n++){var i=e[n];if(-1=="password".indexOf(i)&&-1!=t.msg.indexOf(i)){i="audit fail for: "+i;throw g({type:"ERROR",msg:i}),i}}}}return{setLogging:function(n){e=n?i:s},skipAudit:function(){g({type:"DEBUG",msg:d(arguments)})},debug:function(){a("DEBUG",arguments)},info:function(){a("INFO",arguments)},warn:function(){a("WARN",arguments)},error:function(){a("ERROR",arguments)},getAuditString:function(){const o=[];for(let n=0;n<c.length;n++){var t=c[n];o.push(t.type+":"+t.msg)}return o.join("\n")},getRecordedLogs:function(){return u},init:function(n){f=n,!1===f&&(c=[])}}}(Okta.Config.enabledLogging);
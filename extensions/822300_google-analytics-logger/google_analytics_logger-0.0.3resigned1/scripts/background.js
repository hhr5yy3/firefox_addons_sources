!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if("0123456789"!==order2.join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},{}],2:[function(require,module,exports){"use strict";function encoderForArrayFormat(opts){switch(opts.arrayFormat){case"index":return function(key,value,index){return null===value?[encode(key,opts),"[",index,"]"].join(""):[encode(key,opts),"[",encode(index,opts),"]=",encode(value,opts)].join("")};case"bracket":return function(key,value){return null===value?encode(key,opts):[encode(key,opts),"[]=",encode(value,opts)].join("")};default:return function(key,value){return null===value?encode(key,opts):[encode(key,opts),"=",encode(value,opts)].join("")}}}function parserForArrayFormat(opts){var result;switch(opts.arrayFormat){case"index":return function(key,value,accumulator){return result=/\[(\d*)\]$/.exec(key),key=key.replace(/\[\d*\]$/,""),result?(void 0===accumulator[key]&&(accumulator[key]={}),void(accumulator[key][result[1]]=value)):void(accumulator[key]=value)};case"bracket":return function(key,value,accumulator){return result=/(\[\])$/.exec(key),key=key.replace(/\[\]$/,""),result?void 0===accumulator[key]?void(accumulator[key]=[value]):void(accumulator[key]=[].concat(accumulator[key],value)):void(accumulator[key]=value)};default:return function(key,value,accumulator){return void 0===accumulator[key]?void(accumulator[key]=value):void(accumulator[key]=[].concat(accumulator[key],value))}}}function encode(value,opts){return opts.encode?opts.strict?strictUriEncode(value):encodeURIComponent(value):value}function keysSorter(input){return Array.isArray(input)?input.sort():"object"==typeof input?keysSorter(Object.keys(input)).sort(function(a,b){return Number(a)-Number(b)}).map(function(key){return input[key]}):input}var strictUriEncode=require("strict-uri-encode"),objectAssign=require("object-assign");exports.extract=function(str){return str.split("?")[1]||""},exports.parse=function(str,opts){opts=objectAssign({arrayFormat:"none"},opts);var formatter=parserForArrayFormat(opts),ret=Object.create(null);return"string"!=typeof str?ret:(str=str.trim().replace(/^(\?|#|&)/,""))?(str.split("&").forEach(function(param){var parts=param.replace(/\+/g," ").split("="),key=parts.shift(),val=parts.length>0?parts.join("="):void 0;val=void 0===val?null:decodeURIComponent(val),formatter(decodeURIComponent(key),val,ret)}),Object.keys(ret).sort().reduce(function(result,key){var val=ret[key];return Boolean(val)&&"object"==typeof val&&!Array.isArray(val)?result[key]=keysSorter(val):result[key]=val,result},Object.create(null))):ret},exports.stringify=function(obj,opts){var defaults={encode:!0,strict:!0,arrayFormat:"none"};opts=objectAssign(defaults,opts);var formatter=encoderForArrayFormat(opts);return obj?Object.keys(obj).sort().map(function(key){var val=obj[key];if(void 0===val)return"";if(null===val)return encode(key,opts);if(Array.isArray(val)){var result=[];return val.slice().forEach(function(val2){void 0!==val2&&result.push(formatter(key,val2,result.length))}),result.join("&")}return encode(key,opts)+"="+encode(val,opts)}).filter(function(x){return x.length>0}).join("&"):""}},{"object-assign":1,"strict-uri-encode":3}],3:[function(require,module,exports){"use strict";module.exports=function(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}},{}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parseClassicGAEventString(eventString){var data={category:null,action:null,value:null,label:null};return"5"===eventString.substr(0,1)&&(eventString.includes(")8(")&&(eventString=eventString.substring(0,eventString.indexOf(")8(")+1)),eventString.includes(")9(")&&(eventString=eventString.substring(0,eventString.indexOf(")9(")+1)),eventString.includes(")11(")&&(eventString=eventString.substring(0,eventString.indexOf(")11(")+1)),eventString=eventString.substring(2,eventString.length-1).split(/\*|\)\(/),data.category=eventString[0],data.action=eventString[1],eventString.length>2&&(data.label=eventString[2],eventString.length>3&&(data.value=eventString[3]))),data}function processURL(req,isSuccess){var params=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],_queryString2["default"].parse(req.url)),isClassicGA=req.url.includes("__utm.gif"),data=void 0,classicGAData={};isClassicGA&&(classicGAData=parseClassicGAEventString(params.utme));var commonData={isClassic:isClassicGA,timestamp:params._utmht||params.utmht||Date.now(),isSuccess:isSuccess,action:params.ea||classicGAData.action,category:params.ec||classicGAData.category,label:params.el||classicGAData.label,value:params.ev||classicGAData.value,gaId:params.tid||params.utmac,id:params.z||params.utmhid,absoluteURL:params.dl,error:req.error,type:params.t||params.utmt,title:params.dt||params.utmdt,gtmId:params.gtm||params.utmgtm,tabId:req.tabId};switch(params.t){case"timing":data=_extends({},commonData,{userTimingCategory:params.utc,userTimingValue:params.utt,userTimingVariable:params.utv});break;case"social":data=_extends({},commonData,{socialNetwork:params.sn,socialAction:params.sa,socialTarget:params.st});break;case"exception":data=_extends({},commonData,{exceptionDesc:params.exd,exceptionFatal:params.exf});break;case"pageview":data=_extends({},commonData,{relativeURL:params.dp||params.utmp});break;case"event":default:data=_extends({},commonData)}entries.push(data),_ext2["default"].runtime.sendMessage({type:"UPDATE_ENTRY",entries:entries}),_ext2["default"].runtime.onMessage.addListener(function(message){switch(message.type){case"PULL_ENTRIES":_ext2["default"].runtime.sendMessage({type:"UPDATE_ENTRY",entries:entries});break;case"CLEAR_ENTRIES":entries=entries.filter(function(e){return e.tabId!==message.tabId})}})}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_ext=require("./utils/ext"),_ext2=_interopRequireDefault(_ext),_queryString=require("query-string"),_queryString2=_interopRequireDefault(_queryString),entries=[];_ext2["default"].webRequest.onHeadersReceived.addListener(function(req){return processURL(req,!0)},{urls:["*://*.google-analytics.com/collect?*","*://*.google-analytics.com/r/collect?*","*://*.google-analytics.com/__utm.gif?*"]}),_ext2["default"].webRequest.onErrorOccurred.addListener(function(req){return processURL(req,!1)},{urls:["*://*.google-analytics.com/collect?*","*://*.google-analytics.com/r/collect?*","*://*.google-analytics.com/__utm.gif?*"]})},{"./utils/ext":5,"query-string":2}],5:[function(require,module,exports){"use strict";function Extension(){var _this=this;apis.forEach(function(api){_this[api]=null;try{chrome[api]&&(_this[api]=chrome[api])}catch(e){}try{window[api]&&(_this[api]=window[api])}catch(e){}try{browser[api]&&(_this[api]=browser[api])}catch(e){}try{_this.api=browser.extension[api]}catch(e){}});try{browser&&browser.runtime&&(this.runtime=browser.runtime)}catch(e){}try{browser&&browser.browserAction&&(this.browserAction=browser.browserAction)}catch(e){}}var apis=["alarms","bookmarks","browserAction","commands","contextMenus","cookies","downloads","events","extension","extensionTypes","history","i18n","idle","notifications","pageAction","runtime","storage","tabs","webNavigation","webRequest","windows"];module.exports=new Extension},{}]},{},[4]);
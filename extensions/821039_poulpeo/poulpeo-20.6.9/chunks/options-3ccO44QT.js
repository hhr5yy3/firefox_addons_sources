import{d as y,m as f,_ as k,e as m,c as x,a as n,F as O,E as D,G as N,K as t,L as v,o as A,i as c,N as P,w as d,f as R,h,S as B}from"./__uno-DYKbpgs3.js";import{a as T,c as F}from"./pinia-BdaH1HJ1.js";import{u as L,r as j,B as z}from"./BusinessService-D6oRBgqk.js";import{f as I,a as C,P as $,b as U,d as G,e as M,u as b,c as g}from"./ParametersSearchEngine-Dwlmdlgp.js";const K=y({__name:"DomainExceptions",props:{parameterName:{}},setup(a,{expose:e}){e();const i=a,s=I(i.parameterName),r=f(()=>s.value.length>0),o={props:i,parameterRef:s,isDomainExceptionListVisible:r,removeDomainException:p=>{s.value=s.value.filter(_=>_!==p)}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),X={key:0,class:"m-domainExceptions"},H={class:"m-domainExceptions__list"},J={class:"m-domainExceptions__listItemContent"},Q=["onClick"];function W(a,e,i,s,r,u){return s.isDomainExceptionListVisible?(m(),x("div",X,[e[0]||(e[0]=n("p",{class:"m-domainExceptions__title"},"Vos exceptions",-1)),n("ul",H,[(m(!0),x(O,null,D(s.parameterRef,o=>(m(),x("li",{key:o,class:"m-domainExceptions__listItem"},[n("span",J,[n("span",{class:"m-domainExceptions__removeButton",role:"button",tabindex:"0",title:"Supprimer cette exception",onClick:p=>s.removeDomainException(o)}," X ",8,Q),t(" "+v(o),1)])]))),128))])])):N("",!0)}const Y=k(K,[["render",W],["__file","DomainExceptions.vue"]]),Z=y({__name:"ExtensionParameters",setup(a,{expose:e}){e();const i=L().getVersion(),{extension_installation_id:s,notification_show_on_merchant_visit:r,notification_show_in_shopping_cart:u,sidebar_show_strategy:o}=T(C()),p=f(()=>o.value!=="never"),_=f(()=>r.value||u.value),w=()=>{b().openExtensionPage("changelog").catch(console.error)},q=()=>{b().openExtensionPage("privacy-policy").catch(console.error)},S=()=>{const l=g("https://www.poulpeo.com/conditions-utilisation.html");open(l,"_blank")},V=()=>{const l=g("https://www.poulpeo.com/classement-et-selection-des-offres.html");open(l,"_blank")};A(()=>{const l=location.hash.slice(1);l&&(location.href=`#${l}`)});const E={currentVersion:i,extension_installation_id:s,notification_show_on_merchant_visit:r,notification_show_in_shopping_cart:u,sidebar_show_strategy:o,showSidebarOpenerVisibilityExceptions:p,showNotificationsVisibilityExceptions:_,handleOpenChangelogClick:w,handleOpenPrivacyPolicyClick:q,handleOpenTermsOfUseClick:S,handleOpenAboutOffersRankingClick:V,ParametersFastAccess:$,ParametersNotifications:U,ParametersPrivacy:G,ParametersSearchEngine:M,DomainExceptions:Y};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}}),ee={class:"o-extensionParameters"},se={class:"o-extensionParameters__header"},ne={class:"o-extensionParameters__pageDescription"},oe={id:"extension-id",class:"o-extensionParameters__footer"},te={class:"o-extensionParameters__extensionIdValue"};function ie(a,e,i,s,r,u){return m(),x("div",ee,[n("div",se,[e[2]||(e[2]=n("h1",{class:"o-extensionParameters__pageTitle"},"Préférences",-1)),n("p",ne,[e[0]||(e[0]=t(" Gestion de l’affichage et accessibilité de l’extension Poulpeo (version ")),n("a",{class:"-alternate hover:cursor-pointer",onClick:s.handleOpenChangelogClick},"v"+v(s.currentVersion),1),e[1]||(e[1]=t(") "))])]),c(s.ParametersSearchEngine,{id:"search",class:"o-extensionParameters__section"}),c(s.ParametersFastAccess,{id:"access",class:"o-extensionParameters__section"},P({_:2},[s.showSidebarOpenerVisibilityExceptions?{name:"sidebar-opener-visibility-exceptions",fn:d(()=>[c(s.DomainExceptions,{"parameter-name":"sidebar_hidden_on_domain_list"})]),key:"0"}:void 0]),1024),c(s.ParametersNotifications,{id:"notifications",class:"o-extensionParameters__section"},P({_:2},[s.showNotificationsVisibilityExceptions?{name:"notifications-visibility-exceptions",fn:d(()=>[c(s.DomainExceptions,{"parameter-name":"notifications_domain_blacklist"})]),key:"0"}:void 0]),1024),c(s.ParametersPrivacy,{id:"privacy",class:"o-extensionParameters__section"},{"privacy-allow-required-data":d(()=>e[3]||(e[3]=[t(" Données de navigation (requis) ")])),"privacy-allow-required-data-details":d(()=>e[4]||(e[4]=[n("p",null," Autoriser Poulpeo à utiliser vos données de navigation afin de vous proposer des réductions. ",-1),n("p",null,[t(" Poulpeo a besoin d’analyser l’adresse des sites que vous visitez afin de déterminer si elle correspond à une boutique partenaire, ce qui permet de vous proposer l’offre de cashback ainsi que les réductions correspondantes à cette boutique."),n("br"),t(" Cette analyse est réalisée localement, sur votre ordinateur. Votre historique de navigation ne sera donc jamais transmis à Poulpeo ni à des tiers pour cette finalité. ")],-1),n("p",null," Des cookies nécessaires à Poulpeo pourront être déposés en réponse à des actions de votre part telles qu’une demande d’activation de cashback ou la connexion à votre compte Poulpeo. ",-1)])),"privacy-allow-performance-data":d(()=>e[5]||(e[5]=[t(" Mesure de performance ")])),"privacy-allow-performance-data-details":d(()=>e[6]||(e[6]=[n("p",null," Autoriser l’utilisation des données d’usage pour mesurer la performance et le bon fonctionnement de l’extension. ",-1),n("p",null," Si vous cochez cette case, nous transmettrons à nos outils des données telles que : ",-1),n("ul",null,[n("li",null," les composants de l’extension avec lesquels vous interagissez "),n("li",null," les boutiques reconnues par Poulpeo que vous visitez (l’adresse exacte des pages ne nous sera jamais communiquée) ")],-1),n("p",null," En cas de détection d’un problème technique, nous tenterons également de collecter des informations de diagnostic anonymisées. ",-1)])),_:1}),n("div",oe,[e[9]||(e[9]=n("div",{class:"o-extensionParameters__extensionIdLabel"}," Votre identifiant unique d’extension ",-1)),n("div",te,v(s.extension_installation_id),1),n("div",{class:"text-xxs flex gap-1 mt-4"},[n("a",{class:"-alternate hover:cursor-pointer",onClick:s.handleOpenPrivacyPolicyClick}," Politique de confidentialité "),e[7]||(e[7]=t(" - ")),n("a",{class:"-alternate hover:cursor-pointer",onClick:s.handleOpenTermsOfUseClick}," Conditions générales d'utilisation "),e[8]||(e[8]=t(" - ")),n("a",{class:"-alternate hover:cursor-pointer",onClick:s.handleOpenAboutOffersRankingClick}," À propos du classement des offres ")])])])}const ae=k(Z,[["render",ie],["__file","ExtensionParameters.vue"]]);(async()=>{const a=await j,e=new z(a),i=F(),s=R({provide:{businessService:e,foregroundRuntime:a},render:()=>h(B,null,[h(ae)])});s.use(i),C().$patch(await e.getAllParameters()),s.mount("#app")})().catch(console.error);

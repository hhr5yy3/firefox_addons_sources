{"version":3,"file":"settings-zA0lLnRn.js","sources":["../../../src/settings/main.ts"],"sourcesContent":["import {\n    SiteConfigNode,\n    SiteConfigMethod,\n    SiteConfigTarget,\n    SiteConfig,\n    SiteConfigLookup\n} from \"../common/config\";\nimport { KeeLog } from \"../common/Logger\";\nimport { configManager } from \"../common/ConfigManager\";\nimport {setup as i18nSetup } from \"../common/i18n\";\n\nclass SiteSearchResult extends SiteConfigNode {\n    value: string;\n    method: SiteConfigMethod;\n    target: SiteConfigTarget;\n}\n\nlet siteModeAll = true;\nlet specificSite: SiteSearchResult;\nlet searchResults: SiteSearchResult[];\n\nasync function setupPage() {\n    await configManager.load();\n    KeeLog.attachConfig(configManager.current);\n    loadInitialConfig();\n    [].forEach.call(\n        $$(\".siteSpecificToggle\"),\n        node => ((node as HTMLElement).style.display = \"none\")\n    );\n    setupInputListeners();\n    document.getElementById(\"i18n_root\").style.display = \"block\";\n}\n\nfunction loadInitialConfig() {\n    (document.getElementById(\"pref_searchAllOpenDBs_label\") as HTMLInputElement).checked =\n        configManager.current.searchAllOpenDBs ? configManager.current.searchAllOpenDBs : null;\n\n    (\n        document.getElementById(\"pref_autoFillFormsWithMultipleMatches_label\") as HTMLInputElement\n    ).checked = configManager.current.autoFillFormsWithMultipleMatches\n        ? configManager.current.autoFillFormsWithMultipleMatches\n        : null;\n\n    (\n        document.getElementById(\"pref_autoFillFieldsWithExistingValue_label\") as HTMLInputElement\n    ).checked = configManager.current.autoFillFieldsWithExistingValue\n        ? configManager.current.autoFillFieldsWithExistingValue\n        : null;\n\n    (\n        document.getElementById(\"pref_manualFillSubmitOverridable_label\") as HTMLInputElement\n    ).checked = configManager.current.manualSubmitOverrideProhibited ? null : true;\n    (document.getElementById(\"pref_when_one_matching_network_login\") as HTMLInputElement).checked =\n        configManager.current.autoSubmitNetworkAuthWithSingleMatch\n            ? configManager.current.autoSubmitNetworkAuthWithSingleMatch\n            : null;\n\n    (document.getElementById(\"pref_saveFavicons_label\") as HTMLInputElement).checked = configManager\n        .current.saveFavicons\n        ? configManager.current.saveFavicons\n        : null;\n    (document.getElementById(\"pref_rememberMRUGroup_label\") as HTMLInputElement).checked =\n        configManager.current.rememberMRUGroup ? configManager.current.rememberMRUGroup : null;\n    (document.getElementById(\"pref_animateWhenOfferingSave_label\") as HTMLInputElement).checked =\n        configManager.current.animateWhenOfferingSave\n            ? configManager.current.animateWhenOfferingSave\n            : null;\n    (document.getElementById(\"pref_showConfirmationAfterSave_label\") as HTMLInputElement).checked =\n        !configManager.current.hideConfirmationAfterSave ? true : null;\n\n    (document.getElementById(\"pref_rememberMRUDB_label\") as HTMLInputElement).checked =\n        configManager.current.rememberMRUDB ? configManager.current.rememberMRUDB : null;\n\n    (\n        document.getElementById(\"pref_when_kee_chooses_standard_form_desc\") as HTMLSelectElement\n    ).value = configManager.current.autoSubmitForms\n        ? \"FillAndSubmit\"\n        : configManager.current.autoFillForms\n        ? \"Fill\"\n        : \"DoNothing\";\n    (document.getElementById(\"pref_when_user_chooses_desc\") as HTMLSelectElement).value =\n        configManager.current.autoSubmitMatchedForms ? \"FillAndSubmit\" : \"Fill\";\n    (document.getElementById(\"pref_logLevel_desc\") as HTMLSelectElement).value = stringFromLogLevel(\n        configManager.current.logLevel\n    );\n    (document.getElementById(\"pref_theme_desc\") as HTMLSelectElement).value = stringFromTheme(\n        configManager.current.theme\n    );\n\n    (document.getElementById(\"pref_currentSearchTermTimeout_label\") as HTMLInputElement).value =\n        configManager.current.currentSearchTermTimeout\n            ? configManager.current.currentSearchTermTimeout.toString()\n            : \"\";\n    (document.getElementById(\"pref_keePassRPCPort_label\") as HTMLInputElement).value = configManager\n        .current.KeePassRPCWebSocketPort\n        ? configManager.current.KeePassRPCWebSocketPort.toString()\n        : \"\";\n\n    (document.getElementById(\"pref_keePassDBToOpen_label\") as HTMLInputElement).value =\n        configManager.current.keePassDBToOpen;\n\n    setSiteSpecificConfigValues();\n}\n\nfunction setupInputListeners() {\n    document\n        .getElementById(\"pref_searchAllOpenDBs_label\")\n        .addEventListener(\"change\", saveSearchAllOpenDBs);\n    document\n        .getElementById(\"pref_autoFillFormsWithMultipleMatches_label\")\n        .addEventListener(\"change\", saveAutoFillFormsWithMultipleMatches);\n    document\n        .getElementById(\"pref_autoFillFieldsWithExistingValue_label\")\n        .addEventListener(\"change\", saveAutoFillFieldsWithExistingValue);\n    document\n        .getElementById(\"pref_manualFillSubmitOverridable_label\")\n        .addEventListener(\"change\", saveManualSubmitOverrideProhibited);\n    document\n        .getElementById(\"pref_when_one_matching_network_login\")\n        .addEventListener(\"change\", saveAutoSubmitNetworkAuthWithSingleMatch);\n\n    document\n        .getElementById(\"pref_notifyBarRequestPasswordSave_label\")\n        .addEventListener(\"change\", saveOfferToSavePasswords);\n    document\n        .getElementById(\"requestPasswordSaveSelect\")\n        .addEventListener(\"change\", saveOfferToSavePasswords);\n\n    document\n        .getElementById(\"pref_listMatchingIgnoreCase_label\")\n        .addEventListener(\"change\", saveListMatchingIgnoreCase);\n    document\n        .getElementById(\"listMatchingIgnoreCaseSelect\")\n        .addEventListener(\"change\", saveListMatchingIgnoreCase);\n\n    document.getElementById(\"pref_saveFavicons_label\").addEventListener(\"change\", saveSaveFavicons);\n    document\n        .getElementById(\"pref_rememberMRUGroup_label\")\n        .addEventListener(\"change\", saveRememberMRUGroup);\n    document\n        .getElementById(\"pref_animateWhenOfferingSave_label\")\n        .addEventListener(\"change\", saveAnimateWhenOfferingSaveUpdated);\n    document\n        .getElementById(\"pref_showConfirmationAfterSave_label\")\n        .addEventListener(\"change\", saveShowConfirmationAfterSaveUpdated);\n    document\n        .getElementById(\"pref_rememberMRUDB_label\")\n        .addEventListener(\"change\", saveRememberMRUDB);\n\n    document\n        .getElementById(\"pref_when_kee_chooses_standard_form_desc\")\n        .addEventListener(\"change\", saveWhenKeefoxChoosesStandardForm);\n    document\n        .getElementById(\"pref_when_user_chooses_desc\")\n        .addEventListener(\"change\", saveWhenUserChooses);\n    document.getElementById(\"pref_logLevel_desc\").addEventListener(\"change\", saveLogLevel);\n\n    document\n        .getElementById(\"pref_currentSearchTermTimeout_label\")\n        .addEventListener(\"change\", saveCurrentSearchTermTimeout);\n    document.getElementById(\"pref_keePassRPCPort_label\").addEventListener(\"change\", saveKPRPCPort);\n\n    document\n        .getElementById(\"pref_keePassDBToOpen_label\")\n        .addEventListener(\"change\", saveKPRPCDBToOpen);\n\n    document.getElementById(\"siteOptionsModeAll\").addEventListener(\"change\", switchToAllSitesMode);\n    document\n        .getElementById(\"siteOptionsModeSpecific\")\n        .addEventListener(\"change\", switchToSpecificSitesMode);\n\n    document.getElementById(\"siteChooserSearch\").addEventListener(\"input\", siteChooserKeyPress);\n    document\n        .getElementById(\"siteSearchClearButton\")\n        .addEventListener(\"click\", siteChooserClearSearch);\n    document.getElementById(\"siteChooserForm\").addEventListener(\"submit\", e => {\n        e.preventDefault();\n        e.stopPropagation();\n        if ((document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value.length >= 2) {\n            showSiteProperties();\n        }\n    });\n    document.getElementById(\"siteAddButton\").addEventListener(\"click\", showSiteProperties);\n    document.getElementById(\"siteEditButton\").addEventListener(\"click\", showSiteProperties);\n    document.getElementById(\"siteDeleteButton\").addEventListener(\"click\", deleteSiteProperties);\n    document\n        .getElementById(\"sitePropertiesValue\")\n        .addEventListener(\"change\", sitePropertiesValueChanged);\n    document\n        .getElementById(\"sitePropertiesMethodExact\")\n        .addEventListener(\"change\", sitePropertiesMethodChanged);\n    document\n        .getElementById(\"sitePropertiesMethodPrefix\")\n        .addEventListener(\"change\", sitePropertiesMethodChanged);\n    document\n        .getElementById(\"sitePropertiesMethodRegex\")\n        .addEventListener(\"change\", sitePropertiesMethodChanged);\n    document\n        .querySelector(\"#sitePropertiesModal .modal-header button.close\")\n        .addEventListener(\"click\", closeSiteProperties);\n    document.getElementById(\"sitePropertiesCancel\").addEventListener(\"click\", closeSiteProperties);\n    document.getElementById(\"sitePropertiesSave\").addEventListener(\"click\", saveSiteProperties);\n\n    for (const node of $$(\".formFindingControlGroup\")) {\n        (node as HTMLElement).firstElementChild.firstElementChild.addEventListener(\n            \"change\",\n            formFindingControlGroupChange\n        );\n        (node as HTMLElement).firstElementChild.nextElementSibling.addEventListener(\n            \"change\",\n            changeSiteConfigFormFindingItem\n        );\n    }\n\n    document.getElementById(\"pref_theme_desc\").addEventListener(\"change\", saveTheme);\n}\n\nfunction deleteSiteProperties() {\n    if (specificSite) {\n        // remove old config entry\n        const siteConfigLookup = configManager.siteConfigLookupFor(\n            specificSite.target,\n            specificSite.method\n        );\n        if (siteConfigLookup) delete siteConfigLookup[specificSite.value];\n\n        configManager.save();\n\n        siteChooserClearSearch();\n    }\n}\n\nfunction showSiteProperties() {\n    const valueElem = document.getElementById(\"sitePropertiesValue\") as HTMLInputElement;\n    valueElem.value = (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value;\n\n    validateSitePropertiesValue();\n\n    let radio = Array.from(document.querySelectorAll(\"#sitePropertiesTarget input\"));\n    const checkedTarget = specificSite ? specificSite.target : \"Host\";\n    radio.forEach((r: HTMLInputElement) => {\n        if (r.value === checkedTarget) r.checked = true;\n        else r.checked = null;\n    });\n    radio = Array.from(document.querySelectorAll(\"#sitePropertiesMethod input\"));\n    const checkedMethod = specificSite ? specificSite.method : \"Exact\";\n    radio.forEach((r: HTMLInputElement) => {\n        if (r.value === checkedMethod) r.checked = true;\n        else r.checked = null;\n    });\n    (document.getElementById(\"sitePropertiesWeight\") as HTMLInputElement).value = specificSite\n        ? specificSite.matchWeight.toString()\n        : \"100\";\n\n    const modal = document.getElementById(\"sitePropertiesModal\") as HTMLElement;\n    modal.style.display = \"block\";\n    modal.style.opacity = \"1\";\n}\n\nfunction closeSiteProperties() {\n    const modal = document.getElementById(\"sitePropertiesModal\") as HTMLElement;\n    modal.style.opacity = \"0\";\n    modal.style.display = \"none\";\n}\n\nfunction saveSiteProperties() {\n    if (validateSitePropertiesValue()) {\n        const value = (document.getElementById(\"sitePropertiesValue\") as HTMLInputElement).value;\n        const weight = parseInt(\n            (document.getElementById(\"sitePropertiesWeight\") as HTMLInputElement).value\n        );\n        let radio = Array.from(document.querySelectorAll(\"#sitePropertiesTarget input\"));\n        const target = (radio.find((r: HTMLInputElement) => r.checked) as HTMLInputElement)\n            .value as SiteConfigTarget;\n        radio = Array.from(document.querySelectorAll(\"#sitePropertiesMethod input\"));\n        const method = (radio.find((r: HTMLInputElement) => r.checked) as HTMLInputElement)\n            .value as SiteConfigMethod;\n\n        let siteConfig: SiteConfig = {};\n\n        if (specificSite) {\n            siteConfig = specificSite.config;\n            // remove old config entry\n            const siteConfigLookup = configManager.siteConfigLookupFor(\n                specificSite.target,\n                specificSite.method\n            );\n            if (siteConfigLookup) delete siteConfigLookup[specificSite.value];\n        }\n\n        specificSite = {\n            value: value,\n            matchWeight: weight,\n            source: \"User\",\n            target: target,\n            method: method,\n            config: siteConfig\n        };\n\n        const configLookup = configManager.siteConfigLookupFor(target, method);\n        configLookup[value] = {\n            config: siteConfig,\n            source: \"User\",\n            matchWeight: weight\n        };\n\n        configManager.save();\n\n        closeSiteProperties();\n        showSpecificSite();\n    }\n}\n\nfunction sitePropertiesValueChanged() {\n    validateSitePropertiesValue();\n}\n\nfunction sitePropertiesMethodChanged() {\n    validateSitePropertiesValue();\n}\n\nfunction validateSitePropertiesValue() {\n    let isValid = true;\n\n    const saveButton = document.getElementById(\"sitePropertiesSave\") as HTMLButtonElement;\n    const validation = document.getElementById(\"sitePropertiesValueValidation\");\n\n    if ((document.getElementById(\"sitePropertiesMethodRegex\") as HTMLInputElement).checked) {\n        try {\n            new RegExp((document.getElementById(\"sitePropertiesValue\") as HTMLInputElement).value);\n        } catch (e) {\n            isValid = false;\n        }\n    }\n\n    if (isValid) {\n        saveButton.disabled = null;\n        validation.innerText = \"\";\n        validation.style.display = \"none\";\n    } else {\n        saveButton.disabled = true;\n        validation.innerText = $STR(\"enter_valid_regex\");\n        validation.style.display = \"block\";\n    }\n\n    return isValid;\n}\n\nfunction formFindingControlGroupChange(e: Event) {\n    const targetCheckbox = e.target as HTMLInputElement;\n    const targetInput = targetCheckbox.parentElement.nextElementSibling as HTMLInputElement;\n    targetInput.disabled = !targetCheckbox.checked;\n\n    if (targetCheckbox.checked) return changeSiteConfigFormFindingItem(null, targetInput);\n\n    let siteConfig: SiteConfig;\n\n    if (siteModeAll) {\n        siteConfig = configManager.current.siteConfig.pageRegex[\"^.*$\"].config;\n    } else {\n        const siteConfigLookup = configManager.siteConfigLookupFor(\n            specificSite.target,\n            specificSite.method\n        );\n        siteConfig = siteConfigLookup[specificSite.value].config;\n    }\n\n    switch (targetInput.id) {\n        case \"sssWhiteFormName\":\n            if (\n                siteConfig.whiteList &&\n                siteConfig.whiteList.form &&\n                siteConfig.whiteList.form.names\n            ) {\n                delete siteConfig.whiteList.form.names;\n                if (!siteConfig.whiteList.form.ids) {\n                    delete siteConfig.whiteList.form;\n                    if (!siteConfig.whiteList.fields && !siteConfig.whiteList.querySelectors) {\n                        delete siteConfig.whiteList;\n                    }\n                }\n            }\n            break;\n        case \"sssWhiteFormId\":\n            if (\n                siteConfig.whiteList &&\n                siteConfig.whiteList.form &&\n                siteConfig.whiteList.form.ids\n            ) {\n                delete siteConfig.whiteList.form.ids;\n                if (!siteConfig.whiteList.form.names) {\n                    delete siteConfig.whiteList.form;\n                    if (!siteConfig.whiteList.fields && !siteConfig.whiteList.querySelectors) {\n                        delete siteConfig.whiteList;\n                    }\n                }\n            }\n            break;\n        case \"sssWhiteFieldName\":\n            if (\n                siteConfig.whiteList &&\n                siteConfig.whiteList.fields &&\n                siteConfig.whiteList.fields.names\n            ) {\n                delete siteConfig.whiteList.fields.names;\n                if (!siteConfig.whiteList.fields.ids) {\n                    delete siteConfig.whiteList.fields;\n                    if (!siteConfig.whiteList.fields && !siteConfig.whiteList.querySelectors) {\n                        delete siteConfig.whiteList;\n                    }\n                }\n            }\n            break;\n        case \"sssWhiteFieldId\":\n            if (\n                siteConfig.whiteList &&\n                siteConfig.whiteList.fields &&\n                siteConfig.whiteList.fields.ids\n            ) {\n                delete siteConfig.whiteList.fields.ids;\n                if (!siteConfig.whiteList.fields.names) {\n                    delete siteConfig.whiteList.fields;\n                    if (!siteConfig.whiteList.fields && !siteConfig.whiteList.querySelectors) {\n                        delete siteConfig.whiteList;\n                    }\n                }\n            }\n            break;\n        case \"sssBlackFormName\":\n            if (\n                siteConfig.blackList &&\n                siteConfig.blackList.form &&\n                siteConfig.blackList.form.names\n            ) {\n                delete siteConfig.blackList.form.names;\n                if (!siteConfig.blackList.form.ids) {\n                    delete siteConfig.blackList.form;\n                    if (!siteConfig.blackList.fields && !siteConfig.blackList.querySelectors) {\n                        delete siteConfig.blackList;\n                    }\n                }\n            }\n            break;\n        case \"sssBlackFormId\":\n            if (\n                siteConfig.blackList &&\n                siteConfig.blackList.form &&\n                siteConfig.blackList.form.ids\n            ) {\n                delete siteConfig.blackList.form.ids;\n                if (!siteConfig.blackList.form.names) {\n                    delete siteConfig.blackList.form;\n                    if (!siteConfig.blackList.fields && !siteConfig.blackList.querySelectors) {\n                        delete siteConfig.blackList;\n                    }\n                }\n            }\n            break;\n        case \"sssBlackFieldName\":\n            if (\n                siteConfig.blackList &&\n                siteConfig.blackList.fields &&\n                siteConfig.blackList.fields.names\n            ) {\n                delete siteConfig.blackList.fields.names;\n                if (!siteConfig.blackList.fields.ids) {\n                    delete siteConfig.blackList.fields;\n                    if (!siteConfig.blackList.fields && !siteConfig.blackList.querySelectors) {\n                        delete siteConfig.blackList;\n                    }\n                }\n            }\n            break;\n        case \"sssBlackFieldId\":\n            if (\n                siteConfig.blackList &&\n                siteConfig.blackList.fields &&\n                siteConfig.blackList.fields.ids\n            ) {\n                delete siteConfig.blackList.fields.ids;\n                if (!siteConfig.blackList.fields.names) {\n                    delete siteConfig.blackList.fields;\n                    if (!siteConfig.blackList.fields && !siteConfig.blackList.querySelectors) {\n                        delete siteConfig.blackList;\n                    }\n                }\n            }\n            break;\n    }\n\n    configManager.save();\n}\n\nfunction changeSiteConfigFormFindingItem(e: Event, targetInput?: HTMLInputElement) {\n    if (!targetInput) targetInput = e.target as HTMLInputElement;\n    const values = targetInput.value ? targetInput.value.split(\",\") : [];\n    let siteConfig: SiteConfig;\n\n    if (siteModeAll) {\n        siteConfig = configManager.current.siteConfig.pageRegex[\"^.*$\"].config;\n    } else {\n        const siteConfigLookup = configManager.siteConfigLookupFor(\n            specificSite.target,\n            specificSite.method\n        );\n        siteConfig = siteConfigLookup[specificSite.value].config;\n        siteConfigLookup[specificSite.value].source = \"User\";\n    }\n\n    switch (targetInput.id) {\n        case \"sssWhiteFormName\":\n            if (!siteConfig.whiteList) siteConfig.whiteList = {};\n            if (!siteConfig.whiteList.form) siteConfig.whiteList.form = {};\n            siteConfig.whiteList.form.names = values.filter(v => v.length > 0);\n            break;\n        case \"sssWhiteFormId\":\n            if (!siteConfig.whiteList) siteConfig.whiteList = {};\n            if (!siteConfig.whiteList.form) siteConfig.whiteList.form = {};\n            siteConfig.whiteList.form.ids = values.filter(v => v.length > 0);\n            break;\n        case \"sssWhiteFieldName\":\n            if (!siteConfig.whiteList) siteConfig.whiteList = {};\n            if (!siteConfig.whiteList.fields) siteConfig.whiteList.fields = {};\n            siteConfig.whiteList.fields.names = values.filter(v => v.length > 0);\n            break;\n        case \"sssWhiteFieldId\":\n            if (!siteConfig.whiteList) siteConfig.whiteList = {};\n            if (!siteConfig.whiteList.fields) siteConfig.whiteList.fields = {};\n            siteConfig.whiteList.fields.ids = values.filter(v => v.length > 0);\n            break;\n        case \"sssBlackFormName\":\n            if (!siteConfig.blackList) siteConfig.blackList = {};\n            if (!siteConfig.blackList.form) siteConfig.blackList.form = {};\n            siteConfig.blackList.form.names = values.filter(v => v.length > 0);\n            break;\n        case \"sssBlackFormId\":\n            if (!siteConfig.blackList) siteConfig.blackList = {};\n            if (!siteConfig.blackList.form) siteConfig.blackList.form = {};\n            siteConfig.blackList.form.ids = values.filter(v => v.length > 0);\n            break;\n        case \"sssBlackFieldName\":\n            if (!siteConfig.blackList) siteConfig.blackList = {};\n            if (!siteConfig.blackList.fields) siteConfig.blackList.fields = {};\n            siteConfig.blackList.fields.names = values.filter(v => v.length > 0);\n            break;\n        case \"sssBlackFieldId\":\n            if (!siteConfig.blackList) siteConfig.blackList = {};\n            if (!siteConfig.blackList.fields) siteConfig.blackList.fields = {};\n            siteConfig.blackList.fields.ids = values.filter(v => v.length > 0);\n            break;\n    }\n\n    configManager.save();\n}\n\nfunction setupFormFindingSetting(id: string, enabled: boolean, values: string[]) {\n    const inputBox = document.getElementById(id) as HTMLInputElement;\n    const enablingCheckbox = inputBox.parentElement.firstElementChild\n        .firstElementChild as HTMLInputElement;\n    inputBox.value = values.join();\n    inputBox.disabled = enabled ? null : true;\n    enablingCheckbox.checked = enabled ? true : null;\n}\n\nfunction setSiteSpecificConfigValues() {\n    const siteConfig = siteModeAll\n        ? configManager.current.siteConfig.pageRegex[\"^.*$\"].config\n        : specificSite.config;\n\n    if (siteModeAll) {\n        (\n            document.getElementById(\"pref_notifyBarRequestPasswordSave_label\") as HTMLInputElement\n        ).checked = siteConfig.preventSaveNotification === true ? null : true;\n        (document.getElementById(\"pref_listMatchingIgnoreCase_label\") as HTMLInputElement).checked =\n            siteConfig.listMatchingCaseSensitive === true ? null : true;\n    } else {\n        const save: string =\n            siteConfig.preventSaveNotification === true\n                ? \"No\"\n                : siteConfig.preventSaveNotification === false\n                ? \"Yes\"\n                : \"Inherit\";\n        (document.getElementById(\"requestPasswordSaveSelect\") as HTMLSelectElement).value = save;\n        const ignoreCase: string =\n            siteConfig.listMatchingCaseSensitive === true\n                ? \"No\"\n                : siteConfig.listMatchingCaseSensitive === false\n                ? \"Yes\"\n                : \"Inherit\";\n        (document.getElementById(\"listMatchingIgnoreCaseSelect\") as HTMLSelectElement).value =\n            ignoreCase;\n    }\n\n    let enabled: boolean;\n\n    enabled =\n        siteConfig.whiteList && siteConfig.whiteList.form && siteConfig.whiteList.form.names\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssWhiteFormName\",\n        enabled,\n        enabled ? siteConfig.whiteList.form.names : []\n    );\n    enabled =\n        siteConfig.whiteList && siteConfig.whiteList.form && siteConfig.whiteList.form.ids\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssWhiteFormId\",\n        enabled,\n        enabled ? siteConfig.whiteList.form.ids : []\n    );\n    enabled =\n        siteConfig.whiteList && siteConfig.whiteList.fields && siteConfig.whiteList.fields.names\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssWhiteFieldName\",\n        enabled,\n        enabled ? siteConfig.whiteList.fields.names : []\n    );\n    enabled =\n        siteConfig.whiteList && siteConfig.whiteList.fields && siteConfig.whiteList.fields.ids\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssWhiteFieldId\",\n        enabled,\n        enabled ? siteConfig.whiteList.fields.ids : []\n    );\n\n    enabled =\n        siteConfig.blackList && siteConfig.blackList.form && siteConfig.blackList.form.names\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssBlackFormName\",\n        enabled,\n        enabled ? siteConfig.blackList.form.names : []\n    );\n    enabled =\n        siteConfig.blackList && siteConfig.blackList.form && siteConfig.blackList.form.ids\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssBlackFormId\",\n        enabled,\n        enabled ? siteConfig.blackList.form.ids : []\n    );\n    enabled =\n        siteConfig.blackList && siteConfig.blackList.fields && siteConfig.blackList.fields.names\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssBlackFieldName\",\n        enabled,\n        enabled ? siteConfig.blackList.fields.names : []\n    );\n    enabled =\n        siteConfig.blackList && siteConfig.blackList.fields && siteConfig.blackList.fields.ids\n            ? true\n            : false;\n    setupFormFindingSetting(\n        \"sssBlackFieldId\",\n        enabled,\n        enabled ? siteConfig.blackList.fields.ids : []\n    );\n}\n\nfunction switchToAllSitesMode(e) {\n    e.preventDefault();\n    if (e.target.checked) {\n        siteModeAll = true;\n        specificSite = null;\n        document.getElementById(\"siteChooser\").style.display = \"none\";\n        document.getElementById(\"siteList\").style.display = \"none\";\n        document.getElementById(\"siteAddButton\").style.display = \"none\";\n        document.getElementById(\"siteEditButton\").style.display = \"none\";\n        document.getElementById(\"siteDeleteButton\").style.display = \"none\";\n        document.getElementById(\"hiddenOptionsPresent\").style.display = \"none\";\n        document.getElementById(\"siteSearchClearButton\").style.display = \"none\";\n        document.getElementById(\"settings\").style.display = \"block\";\n\n        document.getElementById(\"panelFindingEntries\").style.display = \"block\";\n        document.getElementById(\"panelFillingEntries\").style.display = \"block\";\n        document.getElementById(\"panelNetworkAuthentication\").style.display = \"block\";\n        document.getElementById(\"panelLogging\").style.display = \"block\";\n        document.getElementById(\"panelAppearance\").style.display = \"block\";\n        document.getElementById(\"panelAdvanced\").style.display = \"block\";\n\n        [].forEach.call(\n            $$(\".siteSpecificToggle\"),\n            node => ((node as HTMLElement).style.display = \"none\")\n        );\n        [].forEach.call(\n            $$(\".nonSiteSpecificField\"),\n            node => ((node as HTMLElement).style.display = null)\n        );\n\n        (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value = \"\";\n\n        // Update field values\n        setSiteSpecificConfigValues();\n    }\n}\n\nfunction switchToSpecificSitesMode(e) {\n    e.preventDefault();\n    if (e.target.checked) {\n        siteModeAll = false;\n\n        document.getElementById(\"siteChooser\").style.display = \"block\";\n\n        // only show settings when we have a known site to configure\n        document.getElementById(\"settings\").style.display = \"none\";\n\n        document.getElementById(\"panelFindingEntries\").style.display = \"none\";\n        document.getElementById(\"panelFillingEntries\").style.display = \"none\";\n        document.getElementById(\"panelNetworkAuthentication\").style.display = \"none\";\n        document.getElementById(\"panelLogging\").style.display = \"none\";\n        document.getElementById(\"panelAppearance\").style.display = \"none\";\n        document.getElementById(\"panelAdvanced\").style.display = \"none\";\n\n        [].forEach.call(\n            $$(\".siteSpecificToggle\"),\n            node => ((node as HTMLElement).style.display = null)\n        );\n        [].forEach.call(\n            $$(\".nonSiteSpecificField\"),\n            node => ((node as HTMLElement).style.display = \"none\")\n        );\n\n        showSiteList(\"\");\n\n        (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).focus();\n    }\n}\n\nfunction siteChooserKeyPress() {\n    const searchTerm = (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value;\n\n    document.getElementById(\"settings\").style.display = \"none\";\n\n    document.getElementById(\"siteList\").style.display = \"none\";\n    document.getElementById(\"siteAddButton\").style.display = \"none\";\n    document.getElementById(\"siteEditButton\").style.display = \"none\";\n    document.getElementById(\"siteDeleteButton\").style.display = \"none\";\n\n    specificSite = null;\n\n    if (searchTerm.length < 1) {\n        document.getElementById(\"siteSearchClearButton\").style.display = \"none\";\n        return;\n    } else {\n        document.getElementById(\"siteSearchClearButton\").style.display = \"block\";\n    }\n\n    showSiteList(searchTerm);\n\n    if (searchResults.length == 0) {\n        document.getElementById(\"siteAddButton\").style.display = \"block\";\n        return;\n    } else if (searchResults.length == 1 && searchResults[0].value == searchTerm) {\n        selectSite(0);\n        return;\n    }\n}\n\nfunction selectSite(searchResultIndex) {\n    specificSite = searchResults[searchResultIndex];\n    showSpecificSite();\n}\n\nfunction showSpecificSite() {\n    document.getElementById(\"siteAddButton\").style.display = \"none\";\n    document.getElementById(\"siteList\").style.display = \"none\";\n    document.getElementById(\"siteEditButton\").style.display =\n        specificSite.source === \"Auto\" ? \"none\" : \"block\";\n    document.getElementById(\"siteDeleteButton\").style.display =\n        specificSite.source === \"Auto\" ? \"none\" : \"block\";\n    document.getElementById(\"hiddenOptionsPresent\").style.display =\n        specificSite.source === \"Auto\" ? \"block\" : \"none\";\n    document.getElementById(\"siteSearchClearButton\").style.display = \"block\";\n    (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value = specificSite.value;\n    document.getElementById(\"settings\").style.display = \"block\";\n    setSiteSpecificConfigValues();\n}\n\nfunction siteChooserClearSearch() {\n    (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).value = \"\";\n    document.getElementById(\"siteSearchClearButton\").style.display = \"none\";\n    document.getElementById(\"siteAddButton\").style.display = \"none\";\n    document.getElementById(\"siteEditButton\").style.display = \"none\";\n    document.getElementById(\"siteDeleteButton\").style.display = \"none\";\n    document.getElementById(\"hiddenOptionsPresent\").style.display = \"none\";\n    document.getElementById(\"settings\").style.display = \"none\";\n    (document.getElementById(\"siteChooserSearch\") as HTMLInputElement).focus();\n    showSiteList(\"\");\n}\n\nfunction showSiteList(filterTerm) {\n    searchResults = findMatchingSiteConfigValues(filterTerm);\n    document.querySelector(\"#siteListResults > tbody\").textContent = \"\";\n\n    for (const resultIndex in searchResults) {\n        const tr = document.createElement(\"tr\");\n        const a = document.createElement(\"a\");\n        a.href = \"#\";\n        a.innerText = searchResults[resultIndex].value;\n        const td = document.createElement(\"td\");\n        td.addEventListener(\"click\", () => selectSite(resultIndex));\n\n        td.appendChild(a);\n        tr.appendChild(td);\n        const td2 = document.createElement(\"td\");\n        td2.innerText = searchResults[resultIndex].target;\n        tr.appendChild(td2);\n        const td3 = document.createElement(\"td\");\n        td3.innerText = searchResults[resultIndex].method;\n        tr.appendChild(td3);\n        const td4 = document.createElement(\"td\");\n        td4.innerText = searchResults[resultIndex].matchWeight.toString();\n        tr.appendChild(td4);\n        document.querySelector(\"#siteListResults > tbody\").appendChild(tr);\n    }\n    document.getElementById(\"siteList\").style.display = \"block\";\n    return searchResults;\n}\n\nfunction findMatchingSiteConfigValues(searchTerm: string) {\n    const results: SiteSearchResult[] = [];\n\n    if (configManager.current.siteConfig.domainExact) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.domainExact,\n            \"Domain\",\n            \"Exact\"\n        );\n    }\n    if (configManager.current.siteConfig.domainPrefix) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.domainPrefix,\n            \"Domain\",\n            \"Prefix\"\n        );\n    }\n    if (configManager.current.siteConfig.domainRegex) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.domainRegex,\n            \"Domain\",\n            \"Regex\"\n        );\n    }\n    if (configManager.current.siteConfig.hostExact) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.hostExact,\n            \"Host\",\n            \"Exact\"\n        );\n    }\n    if (configManager.current.siteConfig.hostPrefix) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.hostPrefix,\n            \"Host\",\n            \"Prefix\"\n        );\n    }\n    if (configManager.current.siteConfig.hostRegex) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.hostRegex,\n            \"Host\",\n            \"Regex\"\n        );\n    }\n    if (configManager.current.siteConfig.pageExact) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.pageExact,\n            \"Page\",\n            \"Exact\"\n        );\n    }\n    if (configManager.current.siteConfig.pagePrefix) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.pagePrefix,\n            \"Page\",\n            \"Prefix\"\n        );\n    }\n    if (configManager.current.siteConfig.pageRegex) {\n        findSiteConfigValues(\n            searchTerm,\n            results,\n            configManager.current.siteConfig.pageRegex,\n            \"Page\",\n            \"Regex\"\n        );\n    }\n\n    return results.sort((r1, r2) => r1.value.localeCompare(r2.value));\n}\n\nfunction findSiteConfigValues(\n    searchTerm: string,\n    results: SiteSearchResult[],\n    lookup: SiteConfigLookup,\n    target: \"Domain\" | \"Host\" | \"Page\",\n    method: \"Exact\" | \"Prefix\" | \"Regex\"\n) {\n    for (const siteConfigNodeIndex in lookup) {\n        if (siteConfigNodeIndex !== \"^.*$\" && siteConfigNodeIndex.startsWith(searchTerm)) {\n            results.push(\n                Object.assign(\n                    {\n                        value: siteConfigNodeIndex,\n                        target: target,\n                        method: method\n                    },\n                    lookup[siteConfigNodeIndex]\n                )\n            );\n        }\n    }\n}\n\nfunction saveSearchAllOpenDBs(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        searchAllOpenDBs: (\n            document.getElementById(\"pref_searchAllOpenDBs_label\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveAutoFillFormsWithMultipleMatches(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        autoFillFormsWithMultipleMatches: (\n            document.getElementById(\n                \"pref_autoFillFormsWithMultipleMatches_label\"\n            ) as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveAutoFillFieldsWithExistingValue(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        autoFillFieldsWithExistingValue: (\n            document.getElementById(\n                \"pref_autoFillFieldsWithExistingValue_label\"\n            ) as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveManualSubmitOverrideProhibited(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        manualSubmitOverrideProhibited: !(\n            document.getElementById(\"pref_manualFillSubmitOverridable_label\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveAutoSubmitNetworkAuthWithSingleMatch(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        autoSubmitNetworkAuthWithSingleMatch: (\n            document.getElementById(\"pref_when_one_matching_network_login\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveOfferToSavePasswords(e) {\n    e.preventDefault();\n\n    if (siteModeAll) {\n        const save = (\n            document.getElementById(\"pref_notifyBarRequestPasswordSave_label\") as HTMLInputElement\n        ).checked;\n        configManager.current.siteConfig.pageRegex[\"^.*$\"].config.preventSaveNotification = !save;\n    } else {\n        const value = (document.getElementById(\"requestPasswordSaveSelect\") as HTMLSelectElement)\n            .value;\n        const preventSave = value === \"Inherit\" ? null : value == \"No\" ? true : false;\n        const siteConfigLookup = configManager.siteConfigLookupFor(\n            specificSite.target,\n            specificSite.method\n        );\n        siteConfigLookup[specificSite.value].config.preventSaveNotification = preventSave;\n        siteConfigLookup[specificSite.value].source = \"User\";\n    }\n    configManager.save();\n}\n\nfunction saveListMatchingIgnoreCase(e) {\n    e.preventDefault();\n\n    if (siteModeAll) {\n        const ignoreCase = (\n            document.getElementById(\"pref_listMatchingIgnoreCase_label\") as HTMLInputElement\n        ).checked;\n        configManager.current.siteConfig.pageRegex[\"^.*$\"].config.listMatchingCaseSensitive =\n            !ignoreCase;\n    } else {\n        const value = (document.getElementById(\"listMatchingIgnoreCaseSelect\") as HTMLSelectElement)\n            .value;\n        const caseSensitive = value === \"Inherit\" ? null : value == \"No\" ? true : false;\n        const siteConfigLookup = configManager.siteConfigLookupFor(\n            specificSite.target,\n            specificSite.method\n        );\n        siteConfigLookup[specificSite.value].config.listMatchingCaseSensitive = caseSensitive;\n        siteConfigLookup[specificSite.value].source = \"User\";\n    }\n    configManager.save();\n}\n\nfunction saveSaveFavicons(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        saveFavicons: (document.getElementById(\"pref_saveFavicons_label\") as HTMLInputElement)\n            .checked\n    });\n}\n\nfunction saveRememberMRUGroup(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        rememberMRUGroup: (\n            document.getElementById(\"pref_rememberMRUGroup_label\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveAnimateWhenOfferingSaveUpdated(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        animateWhenOfferingSave: (\n            document.getElementById(\"pref_animateWhenOfferingSave_label\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveShowConfirmationAfterSaveUpdated(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        hideConfirmationAfterSave: !(\n            document.getElementById(\"pref_showConfirmationAfterSave_label\") as HTMLInputElement\n        ).checked\n    });\n}\n\nfunction saveRememberMRUDB(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        rememberMRUDB: (document.getElementById(\"pref_rememberMRUDB_label\") as HTMLInputElement)\n            .checked\n    });\n}\n\nfunction saveWhenKeefoxChoosesStandardForm(e) {\n    e.preventDefault();\n    const selectedValue = (\n        document.getElementById(\"pref_when_kee_chooses_standard_form_desc\") as HTMLSelectElement\n    ).value;\n    configManager.setASAP({ autoFillForms: selectedValue != \"DoNothing\" });\n    configManager.setASAP({\n        autoSubmitForms: selectedValue == \"FillAndSubmit\"\n    });\n}\n\nfunction saveWhenUserChooses(e) {\n    e.preventDefault();\n    const selectedValue = (\n        document.getElementById(\"pref_when_user_chooses_desc\") as HTMLSelectElement\n    ).value;\n    configManager.setASAP({\n        autoSubmitMatchedForms: selectedValue == \"FillAndSubmit\"\n    });\n}\n\nfunction saveLogLevel(e) {\n    e.preventDefault();\n    const selectedValue = (document.getElementById(\"pref_logLevel_desc\") as HTMLSelectElement)\n        .value;\n    configManager.setASAP({ logLevel: logLevelFromString(selectedValue) });\n}\n\nfunction saveTheme(e) {\n    e.preventDefault();\n    const selectedValue = (document.getElementById(\"pref_theme_desc\") as HTMLSelectElement).value;\n    configManager.setASAP({ theme: themeFromString(selectedValue) });\n}\n\nfunction saveCurrentSearchTermTimeout(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        currentSearchTermTimeout: parseInt(\n            (document.getElementById(\"pref_currentSearchTermTimeout_label\") as HTMLInputElement)\n                .value\n        )\n    });\n}\n\nfunction saveKPRPCPort(e) {\n    e.preventDefault();\n    configManager.current.KeePassRPCWebSocketPort = parseInt(\n        (document.getElementById(\"pref_keePassRPCPort_label\") as HTMLInputElement).value\n    );\n    configManager.save().then(() => chrome.runtime.sendMessage({ action: \"KPRPC_Port_Change\" }));\n}\n\nfunction saveKPRPCDBToOpen(e) {\n    e.preventDefault();\n    configManager.setASAP({\n        keePassDBToOpen: (document.getElementById(\"pref_keePassDBToOpen_label\") as HTMLInputElement)\n            .value\n    });\n}\n\nfunction themeFromString(theme) {\n    if (!theme) return null;\n    return theme;\n}\n\nfunction stringFromTheme(theme) {\n    if (!theme) return \"\";\n    return theme;\n}\n\nfunction logLevelFromString(level) {\n    switch (level) {\n        case \"Debugging\":\n            return 4;\n        case \"Information\":\n            return 3;\n        case \"Warnings\":\n            return 2;\n        case \"Errors\":\n            return 1;\n        default:\n            return 0;\n    }\n}\n\nfunction stringFromLogLevel(level) {\n    switch (level) {\n        case 4:\n            return \"Debugging\";\n        case 3:\n            return \"Information\";\n        case 2:\n            return \"Warnings\";\n        case 1:\n            return \"Errors\";\n        default:\n            return \"Internal error - report to Kee team\";\n    }\n}\n\nif (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", async () => await setupPage());\n} else {\n    (async () => {\n        await setupPage();\n    })();\n}\n\ni18nSetup();\n"],"names":["i18nSetup"],"mappings":"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"}
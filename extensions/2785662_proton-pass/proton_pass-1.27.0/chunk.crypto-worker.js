(()=>{"use strict";var e={44977:(e,t,r)=>{var n=r(14188),i=r(13174),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},91361:(e,t,r)=>{var n=r(80866),i=r(13174),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a constructor")}},74121:(e,t,r)=>{var n=r(16712),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},42937:(e,t,r)=>{var n=r(33243).has;e.exports=function(e){return n(e),e}},95458:(e,t,r)=>{var n=r(4282),i=r(77065),a=r(64466).f,s=n("unscopables"),o=Array.prototype;void 0===o[s]&&a(o,s,{configurable:!0,value:i(null)}),e.exports=function(e){o[s][e]=!0}},154:(e,t,r)=>{var n=r(64212).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},40286:(e,t,r)=>{var n=r(4578),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},3770:(e,t,r)=>{var n=r(80831),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},58732:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},51617:(e,t,r)=>{var n=r(79117),i=r(71025),a=r(38689),s=n.ArrayBuffer,o=n.TypeError;e.exports=s&&i(s.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==a(e))throw new o("ArrayBuffer expected");return e.byteLength}},36821:(e,t,r)=>{var n=r(79117),i=r(95691),a=r(51617),s=n.ArrayBuffer,o=s&&s.prototype,c=o&&i(o.slice);e.exports=function(e){if(0!==a(e)||!c)return!1;try{return c(e,0,0),!1}catch(e){return!0}}},65469:(e,t,r)=>{var n=r(5234);e.exports=n(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})},2676:(e,t,r)=>{var n=r(36821),i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},25677:(e,t,r)=>{var n=r(79117),i=r(16881),a=r(71025),s=r(74579),o=r(2676),c=r(51617),u=r(8850),l=r(69059),h=n.structuredClone,f=n.ArrayBuffer,p=n.DataView,y=Math.min,d=f.prototype,g=p.prototype,m=i(d.slice),v=a(d,"resizable","get"),w=a(d,"maxByteLength","get"),b=i(g.getInt8),k=i(g.setInt8);e.exports=(l||u)&&function(e,t,r){var n,i=c(e),a=void 0===t?i:s(t),d=!v||!v(e);if(o(e),l&&(e=h(e,{transfer:[e]}),i===a&&(r||d)))return e;if(i>=a&&(!r||d))n=m(e,0,a);else{n=new f(a,r&&!d&&w?{maxByteLength:w(e)}:void 0);for(var g=new p(e),E=new p(n),A=y(a,i),x=0;x<A;x++)k(E,x,b(g,x))}return l||u(e),n}},47223:(e,t,r)=>{var n,i,a,s=r(58732),o=r(96893),c=r(79117),u=r(14188),l=r(80831),h=r(74418),f=r(65438),p=r(13174),y=r(88088),d=r(97509),g=r(10997),m=r(4578),v=r(91786),w=r(5054),b=r(4282),k=r(66209),E=r(43086),A=E.enforce,x=E.get,S=c.Int8Array,K=S&&S.prototype,P=c.Uint8ClampedArray,D=P&&P.prototype,U=S&&v(S),_=K&&v(K),I=Object.prototype,T=c.TypeError,C=b("toStringTag"),R=k("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",O=s&&!!w&&"Opera"!==f(c.opera),B=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=v(e);if(l(t)){var r=x(t);return r&&h(r,M)?r[M]:F(t)}},j=function(e){if(!l(e))return!1;var t=f(e);return h(L,t)||h(N,t)};for(n in L)(a=(i=c[n])&&i.prototype)?A(a)[M]=i:O=!1;for(n in N)(a=(i=c[n])&&i.prototype)&&(A(a)[M]=i);if((!O||!u(U)||U===Function.prototype)&&(U=function(){throw new T("Incorrect invocation")},O))for(n in L)c[n]&&w(c[n],U);if((!O||!_||_===I)&&(_=U.prototype,O))for(n in L)c[n]&&w(c[n].prototype,_);if(O&&v(D)!==_&&w(D,_),o&&!h(_,C))for(n in B=!0,g(_,C,{configurable:!0,get:function(){return l(this)?this[R]:void 0}}),L)c[n]&&y(c[n],R,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:B&&R,aTypedArray:function(e){if(j(e))return e;throw new T("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!w||m(U,e)))return e;throw new T(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(o){if(r)for(var i in L){var a=c[i];if(a&&h(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}(!_[e]||r)&&d(_,e,r?t:O&&K[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(o){if(w){if(r){for(n in L)if((i=c[n])&&h(i,e))try{delete i[e]}catch(e){}}if(U[e]&&!r)return;try{return d(U,e,r?t:O&&U[e]||t)}catch(e){}}for(n in L)(i=c[n])&&(!i[e]||r)&&d(i,e,t)}},getTypedArrayConstructor:F,isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||h(L,t)||h(N,t)},isTypedArray:j,TypedArray:U,TypedArrayPrototype:_}},98633:(e,t,r)=>{var n=r(79117),i=r(16881),a=r(96893),s=r(58732),o=r(92735),c=r(88088),u=r(10997),l=r(74320),h=r(5234),f=r(40286),p=r(76744),y=r(97611),d=r(74579),g=r(42420),m=r(6103),v=r(91786),w=r(5054),b=r(38150),k=r(27825),E=r(44166),A=r(98657),x=r(93754),S=r(43086),K=o.PROPER,P=o.CONFIGURABLE,D="ArrayBuffer",U="DataView",_="prototype",I="Wrong index",T=S.getterFor(D),C=S.getterFor(U),R=S.set,M=n[D],O=M,B=O&&O[_],L=n[U],N=L&&L[_],F=Object.prototype,j=n.Array,z=n.RangeError,H=i(b),q=i([].reverse),W=m.pack,V=m.unpack,G=function(e){return[255&e]},$=function(e){return[255&e,e>>8&255]},Y=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Q=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return W(g(e),23,4)},X=function(e){return W(e,52,8)},J=function(e,t,r){u(e[_],t,{configurable:!0,get:function(){return r(this)[t]}})},ee=function(e,t,r,n){var i=C(e),a=d(r);if(a+t>i.byteLength)throw new z(I);var s=i.bytes,o=a+i.byteOffset,c=k(s,o,o+t);return n?c:q(c)},et=function(e,t,r,n,i,a){var s=C(e),o=d(r),c=n(+i),u=!!a;if(o+t>s.byteLength)throw new z(I);for(var l=s.bytes,h=o+s.byteOffset,f=0;f<t;f++)l[h+f]=c[u?f:t-f-1]};if(s){var er=K&&M.name!==D;!h(function(){M(1)})||!h(function(){new M(-1)})||h(function(){return new M,new M(1.5),new M(NaN),1!==M.length||er&&!P})?((O=function(e){return f(this,B),E(new M(d(e)),this,O)})[_]=B,B.constructor=O,A(O,M)):er&&P&&c(M,"name",D),w&&v(N)!==F&&w(N,F);var en=new L(new O(2)),ei=i(N.setInt8);en.setInt8(0,0x80000000),en.setInt8(1,0x80000001),(en.getInt8(0)||!en.getInt8(1))&&l(N,{setInt8:function(e,t){ei(this,e,t<<24>>24)},setUint8:function(e,t){ei(this,e,t<<24>>24)}},{unsafe:!0})}else B=(O=function(e){f(this,B);var t=d(e);R(this,{type:D,bytes:H(j(t),0),byteLength:t}),a||(this.byteLength=t,this.detached=!1)})[_],N=(L=function(e,t,r){f(this,N),f(e,B);var n=T(e),i=n.byteLength,s=p(t);if(s<0||s>i)throw new z("Wrong offset");if(r=void 0===r?i-s:y(r),s+r>i)throw new z("Wrong length");R(this,{type:U,buffer:e,byteLength:r,byteOffset:s,bytes:n.bytes}),a||(this.buffer=e,this.byteLength=r,this.byteOffset=s)})[_],a&&(J(O,"byteLength",T),J(L,"buffer",C),J(L,"byteLength",C),J(L,"byteOffset",C)),l(N,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24},getUint8:function(e){return ee(this,1,e)[0]},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return Q(ee(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return Q(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return V(ee(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return V(ee(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){et(this,1,e,G,t)},setUint8:function(e,t){et(this,1,e,G,t)},setInt16:function(e,t){et(this,2,e,$,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){et(this,2,e,$,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){et(this,4,e,Y,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){et(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){et(this,4,e,Z,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){et(this,8,e,X,t,arguments.length>2&&arguments[2])}});x(O,D),x(L,U),e.exports={ArrayBuffer:O,DataView:L}},656:(e,t,r)=>{var n=r(83628),i=r(70675),a=r(69389),s=r(81305),o=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),c=a(r),u=i(e,c),l=i(t,c),h=arguments.length>2?arguments[2]:void 0,f=o((void 0===h?c:i(h,c))-l,c-u),p=1;for(l<u&&u<l+f&&(p=-1,l+=f-1,u+=f-1);f-- >0;)l in r?r[u]=r[l]:s(r,u),u+=p,l+=p;return r}},38150:(e,t,r)=>{var n=r(83628),i=r(70675),a=r(69389);e.exports=function(e){for(var t=n(this),r=a(t),s=arguments.length,o=i(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>o;)t[o++]=e;return t}},57500:(e,t,r)=>{var n=r(34104).forEach,i=r(55397)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},76759:(e,t,r)=>{var n=r(69389);e.exports=function(e,t,r){for(var i=0,a=arguments.length>2?r:n(t),s=new e(a);a>i;)s[i]=t[i++];return s}},86859:(e,t,r)=>{var n=r(85821),i=r(39944),a=r(83628),s=r(34412),o=r(28146),c=r(80866),u=r(69389),l=r(94417),h=r(62350),f=r(69874),p=Array;e.exports=function(e){var t,r,y,d,g,m,v=a(e),w=c(this),b=arguments.length,k=b>1?arguments[1]:void 0,E=void 0!==k;E&&(k=n(k,b>2?arguments[2]:void 0));var A=f(v),x=0;if(A&&!(this===p&&o(A)))for(r=w?new this:[],g=(d=h(v,A)).next;!(y=i(g,d)).done;x++)m=E?s(d,k,[y.value,x],!0):y.value,l(r,x,m);else for(t=u(v),r=w?new this(t):p(t);t>x;x++)m=E?k(v[x],x):v[x],l(r,x,m);return r.length=x,r}},81458:(e,t,r)=>{var n=r(10380),i=r(70675),a=r(69389),s=function(e){return function(t,r,s){var o,c=n(t),u=a(c);if(0===u)return!e&&-1;var l=i(s,u);if(e&&r!=r){for(;u>l;)if((o=c[l++])!=o)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},80710:(e,t,r)=>{var n=r(85821),i=r(47568),a=r(83628),s=r(69389),o=function(e){var t=1===e;return function(r,o,c){for(var u,l=a(r),h=i(l),f=s(h),p=n(o,c);f-- >0;)if(p(u=h[f],f,l))switch(e){case 0:return u;case 1:return f}return t?-1:void 0}};e.exports={findLast:o(0),findLastIndex:o(1)}},34104:(e,t,r)=>{var n=r(85821),i=r(16881),a=r(47568),s=r(83628),o=r(69389),c=r(75022),u=i([].push),l=function(e){var t=1===e,r=2===e,i=3===e,l=4===e,h=6===e,f=7===e,p=5===e||h;return function(y,d,g,m){for(var v,w,b=s(y),k=a(b),E=o(k),A=n(d,g),x=0,S=m||c,K=t?S(y,E):r||f?S(y,0):void 0;E>x;x++)if((p||x in k)&&(w=A(v=k[x],x,b),e)){if(t)K[x]=w;else if(w)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:u(K,v)}else switch(e){case 4:return!1;case 7:u(K,v)}}return h?-1:i||l?l:K}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},63014:(e,t,r)=>{var n=r(40646),i=r(10380),a=r(76744),s=r(69389),o=r(55397),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=o("lastIndexOf");e.exports=l||!h?function(e){if(l)return n(u,this,arguments)||0;var t=i(this),r=s(t);if(0===r)return -1;var o=r-1;for(arguments.length>1&&(o=c(o,a(arguments[1]))),o<0&&(o=r+o);o>=0;o--)if(o in t&&t[o]===e)return o||0;return -1}:u},10378:(e,t,r)=>{var n=r(5234),i=r(4282),a=r(63008),s=i("species");e.exports=function(e){return a>=51||!n(function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},55397:(e,t,r)=>{var n=r(5234);e.exports=function(e,t){var r=[][e];return!!r&&n(function(){r.call(null,t||function(){return 1},1)})}},49989:(e,t,r)=>{var n=r(44977),i=r(83628),a=r(47568),s=r(69389),o=TypeError,c="Reduce of empty array with no initial value",u=function(e){return function(t,r,u,l){var h=i(t),f=a(h),p=s(h);if(n(r),0===p&&u<2)throw new o(c);var y=e?p-1:0,d=e?-1:1;if(u<2)for(;;){if(y in f){l=f[y],y+=d;break}if(y+=d,e?y<0:p<=y)throw new o(c)}for(;e?y>=0:p>y;y+=d)y in f&&(l=r(l,f[y],y,h));return l}};e.exports={left:u(!1),right:u(!0)}},14224:(e,t,r)=>{var n=r(96893),i=r(26719),a=TypeError,s=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(i(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},27825:(e,t,r)=>{var n=r(16881);e.exports=n([].slice)},9295:(e,t,r)=>{var n=r(27825),i=Math.floor,a=function(e,t){var r=e.length;if(r<8)for(var s,o,c=1;c<r;){for(o=c,s=e[c];o&&t(e[o-1],s)>0;)e[o]=e[--o];o!==c++&&(e[o]=s)}else for(var u=i(r/2),l=a(n(e,0,u),t),h=a(n(e,u),t),f=l.length,p=h.length,y=0,d=0;y<f||d<p;)e[y+d]=y<f&&d<p?0>=t(l[y],h[d])?l[y++]:h[d++]:y<f?l[y++]:h[d++];return e};e.exports=a},49980:(e,t,r)=>{var n=r(26719),i=r(80866),a=r(80831),s=r(4282)("species"),o=Array;e.exports=function(e){var t;return n(e)&&(i(t=e.constructor)&&(t===o||n(t.prototype))?t=void 0:a(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?o:t}},75022:(e,t,r)=>{var n=r(49980);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},61433:(e,t,r)=>{var n=r(69389);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},66803:(e,t,r)=>{var n=r(69389),i=r(76744),a=RangeError;e.exports=function(e,t,r,s){var o=n(e),c=i(r),u=c<0?o+c:c;if(u>=o||u<0)throw new a("Incorrect index");for(var l=new t(o),h=0;h<o;h++)l[h]=h===u?s:e[h];return l}},16579:e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t+"+/",n=t+"-_",i=function(e){for(var t={},r=0;r<64;r++)t[e.charAt(r)]=r;return t};e.exports={i2c:r,c2i:i(r),i2cUrl:n,c2iUrl:i(n)}},34412:(e,t,r)=>{var n=r(3770),i=r(88500);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},7283:(e,t,r)=>{var n=r(4282)("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},38689:(e,t,r)=>{var n=r(16881),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},65438:(e,t,r)=>{var n=r(79345),i=r(14188),a=r(38689),s=r(4282)("toStringTag"),o=Object,c="Arguments"===a(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(e){}};e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=o(e),s))?r:c?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},63231:(e,t,r)=>{var n=r(77065),i=r(10997),a=r(74320),s=r(85821),o=r(40286),c=r(44318),u=r(38873),l=r(83217),h=r(76224),f=r(43900),p=r(96893),y=r(38118).fastKey,d=r(43086),g=d.set,m=d.getterFor;e.exports={getConstructor:function(e,t,r,l){var h=e(function(e,i){o(e,f),g(e,{type:t,index:n(null),first:null,last:null,size:0}),p||(e.size=0),c(i)||u(i,e[l],{that:e,AS_ENTRIES:r})}),f=h.prototype,d=m(t),v=function(e,t,r){var n,i,a=d(e),s=w(e,t);return s?s.value=r:(a.last=s={index:i=y(t,!0),key:t,value:r,previous:n=a.last,next:null,removed:!1},a.first||(a.first=s),n&&(n.next=s),p?a.size++:e.size++,"F"!==i&&(a.index[i]=s)),e},w=function(e,t){var r,n=d(e),i=y(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key===t)return r};return a(f,{clear:function(){for(var e=d(this),t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=null),t=t.next;e.first=e.last=null,e.index=n(null),p?e.size=0:this.size=0},delete:function(e){var t=d(this),r=w(this,e);if(r){var n=r.next,i=r.previous;delete t.index[r.index],r.removed=!0,i&&(i.next=n),n&&(n.previous=i),t.first===r&&(t.first=n),t.last===r&&(t.last=i),p?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=d(this),n=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!w(this,e)}}),a(f,r?{get:function(e){var t=w(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&i(f,"size",{configurable:!0,get:function(){return d(this).size}}),h},setStrong:function(e,t,r){var n=t+" Iterator",i=m(t),a=m(n);l(e,t,function(e,t){g(this,{type:n,target:e,state:i(e),kind:t,last:null})},function(){for(var e=a(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"===t?h(r.key,!1):"values"===t?h(r.value,!1):h([r.key,r.value],!1):(e.target=null,h(void 0,!0))},r?"entries":"values",!r,!0),f(t)}}},73912:(e,t,r)=>{var n=r(16881),i=r(74320),a=r(38118).getWeakData,s=r(40286),o=r(3770),c=r(44318),u=r(80831),l=r(38873),h=r(34104),f=r(74418),p=r(43086),y=p.set,d=p.getterFor,g=h.find,m=h.findIndex,v=n([].splice),w=0,b=function(e){return e.frozen||(e.frozen=new k)},k=function(){this.entries=[]},E=function(e,t){return g(e.entries,function(e){return e[0]===t})};k.prototype={get:function(e){var t=E(this,e);if(t)return t[1]},has:function(e){return!!E(this,e)},set:function(e,t){var r=E(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,function(t){return t[0]===e});return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var h=e(function(e,i){s(e,p),y(e,{type:t,id:w++,frozen:null}),c(i)||l(i,e[n],{that:e,AS_ENTRIES:r})}),p=h.prototype,g=d(t),m=function(e,t,r){var n=g(e),i=a(o(t),!0);return!0===i?b(n).set(t,r):i[n.id]=r,e};return i(p,{delete:function(e){var t=g(this);if(!u(e))return!1;var r=a(e);return!0===r?b(t).delete(e):r&&f(r,t.id)&&delete r[t.id]},has:function(e){var t=g(this);if(!u(e))return!1;var r=a(e);return!0===r?b(t).has(e):r&&f(r,t.id)}}),i(p,r?{get:function(e){var t=g(this);if(u(e)){var r=a(e);if(!0===r)return b(t).get(e);if(r)return r[t.id]}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),h}}},36351:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(16881),s=r(68489),o=r(97509),c=r(38118),u=r(38873),l=r(40286),h=r(14188),f=r(44318),p=r(80831),y=r(5234),d=r(7283),g=r(93754),m=r(44166);e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),w=-1!==e.indexOf("Weak"),b=v?"set":"add",k=i[e],E=k&&k.prototype,A=k,x={},S=function(e){var t=a(E[e]);o(E,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return(!w||!!p(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return w&&!p(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return(!w||!!p(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(s(e,!h(k)||!(w||E.forEach&&!y(function(){new k().entries().next()}))))A=r.getConstructor(t,e,v,b),c.enable();else if(s(e,!0)){var K=new A,P=K[b](w?{}:-0,1)!==K,D=y(function(){K.has(1)}),U=d(function(e){new k(e)}),_=!w&&y(function(){for(var e=new k,t=5;t--;)e[b](t,t);return!e.has(-0)});U||((A=t(function(e,t){l(e,E);var r=m(new k,e,A);return f(t)||u(t,r[b],{that:r,AS_ENTRIES:v}),r})).prototype=E,E.constructor=A),(D||_)&&(S("delete"),S("has"),v&&S("get")),(_||P)&&S(b),w&&E.clear&&delete E.clear}return x[e]=A,n({global:!0,constructor:!0,forced:A!==k},x),g(A,e),w||r.setStrong(A,e,v),A}},98657:(e,t,r)=>{var n=r(74418),i=r(73168),a=r(9304),s=r(64466);e.exports=function(e,t,r){for(var o=i(t),c=s.f,u=a.f,l=0;l<o.length;l++){var h=o[l];n(e,h)||r&&n(r,h)||c(e,h,u(t,h))}}},36425:(e,t,r)=>{var n=r(4282)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},50680:(e,t,r)=>{var n=r(5234);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},58317:(e,t,r)=>{var n=r(16881),i=r(39509),a=r(92618),s=/"/g,o=n("".replace);e.exports=function(e,t,r,n){var c=a(i(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+o(a(n),s,"&quot;")+'"'),u+">"+c+"</"+t+">"}},76224:e=>{e.exports=function(e,t){return{value:e,done:t}}},88088:(e,t,r)=>{var n=r(96893),i=r(64466),a=r(39123);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},39123:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},94417:(e,t,r)=>{var n=r(96893),i=r(64466),a=r(39123);e.exports=function(e,t,r){n?i.f(e,t,a(0,r)):e[t]=r}},64947:(e,t,r)=>{var n=r(16881),i=r(5234),a=r(30982).start,s=RangeError,o=isFinite,c=Math.abs,u=Date.prototype,l=u.toISOString,h=n(u.getTime),f=n(u.getUTCDate),p=n(u.getUTCFullYear),y=n(u.getUTCHours),d=n(u.getUTCMilliseconds),g=n(u.getUTCMinutes),m=n(u.getUTCMonth),v=n(u.getUTCSeconds);e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-5e13-1))})||!i(function(){l.call(new Date(NaN))})?function(){if(!o(h(this)))throw new s("Invalid time value");var e=p(this),t=d(this),r=e<0?"-":e>9999?"+":"";return r+a(c(e),r?6:4,0)+"-"+a(m(this)+1,2,0)+"-"+a(f(this),2,0)+"T"+a(y(this),2,0)+":"+a(g(this),2,0)+":"+a(v(this),2,0)+"."+a(t,3,0)+"Z"}:l},48089:(e,t,r)=>{var n=r(3770),i=r(2287),a=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new a("Incorrect hint");return i(this,e)}},10997:(e,t,r)=>{var n=r(74530),i=r(64466);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},97509:(e,t,r)=>{var n=r(14188),i=r(64466),a=r(74530),s=r(14798);e.exports=function(e,t,r,o){o||(o={});var c=o.enumerable,u=void 0!==o.name?o.name:t;if(n(r)&&a(r,u,o),o.global)c?e[t]=r:s(t,r);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},74320:(e,t,r)=>{var n=r(97509);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},14798:(e,t,r)=>{var n=r(79117),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},81305:(e,t,r)=>{var n=r(13174),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},96893:(e,t,r)=>{var n=r(5234);e.exports=!n(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8850:(e,t,r)=>{var n,i,a,s,o=r(79117),c=r(79822),u=r(69059),l=o.structuredClone,h=o.ArrayBuffer,f=o.MessageChannel,p=!1;if(u)p=function(e){l(e,{transfer:[e]})};else if(h)try{!f&&(n=c("worker_threads"))&&(f=n.MessageChannel),f&&(i=new f,a=new h(2),s=function(e){i.port1.postMessage(null,[e])},2===a.byteLength&&(s(a),0===a.byteLength&&(p=s)))}catch(e){}e.exports=p},65926:(e,t,r)=>{var n=r(79117),i=r(80831),a=n.document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},14578:e=>{var t=TypeError;e.exports=function(e){if(e>0x1fffffffffffff)throw t("Maximum allowed index exceeded");return e}},38015:e=>{e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},39429:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},87463:(e,t,r)=>{var n=r(65926)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},61274:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},32222:(e,t,r)=>{var n=r(98060).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},84598:(e,t,r)=>{var n=r(98060);e.exports=/MSIE|Trident/.test(n)},36168:(e,t,r)=>{var n=r(98060);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},16347:(e,t,r)=>{var n=r(98060);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},43940:(e,t,r)=>{var n=r(11078);e.exports="NODE"===n},81129:(e,t,r)=>{var n=r(98060);e.exports=/web0s(?!.*chrome)/i.test(n)},98060:(e,t,r)=>{var n=r(79117).navigator,i=n&&n.userAgent;e.exports=i?String(i):""},63008:(e,t,r)=>{var n,i,a=r(79117),s=r(98060),o=a.process,c=a.Deno,u=o&&o.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},17340:(e,t,r)=>{var n=r(98060).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},11078:(e,t,r)=>{var n=r(79117),i=r(98060),a=r(38689),s=function(e){return i.slice(0,e.length)===e};e.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},87308:(e,t,r)=>{var n=r(16881),i=Error,a=n("".replace),s=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},75382:(e,t,r)=>{var n=r(88088),i=r(87308),a=r(14582),s=Error.captureStackTrace;e.exports=function(e,t,r,o){a&&(s?s(e,t):n(e,"stack",i(r,o)))}},14582:(e,t,r)=>{var n=r(5234),i=r(39123);e.exports=!n(function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)})},93457:(e,t,r)=>{var n=r(96893),i=r(5234),a=r(3770),s=r(69866),o=Error.prototype.toString,c=i(function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==o.call(e))return!0}return"2: 1"!==o.call({message:1,name:2})||"Error"!==o.call({})});e.exports=c?function(){var e=a(this),t=s(e.name,"Error"),r=s(e.message);return t?r?t+": "+r:t:r}:o},5613:(e,t,r)=>{var n=r(79117),i=r(9304).f,a=r(88088),s=r(97509),o=r(14798),c=r(98657),u=r(68489);e.exports=function(e,t){var r,l,h,f,p,y=e.target,d=e.global,g=e.stat;if(r=d?n:g?n[y]||o(y,{}):n[y]&&n[y].prototype)for(l in t){if(f=t[l],h=e.dontCallGetSet?(p=i(r,l))&&p.value:r[l],!u(d?l:y+(g?".":"#")+l,e.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(e.sham||h&&h.sham)&&a(f,"sham",!0),s(r,l,f,e)}}},5234:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},40467:(e,t,r)=>{r(98376);var n=r(39944),i=r(97509),a=r(29342),s=r(5234),o=r(4282),c=r(88088),u=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,h){var f=o(e),p=!s(function(){var t={};return t[f]=function(){return 7},7!==""[e](t)}),y=p&&!s(function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t});if(!p||!y||r){var d=/./[f],g=t(f,""[e],function(e,t,r,i,s){var o=t.exec;return o===a||o===l.exec?p&&!s?{done:!0,value:n(d,t,r,i)}:{done:!0,value:n(e,r,t,i)}:{done:!1}});i(String.prototype,e,g[0]),i(l,f,g[1])}h&&c(l[f],"sham",!0)}},50336:(e,t,r)=>{var n=r(26719),i=r(69389),a=r(14578),s=r(85821),o=function(e,t,r,c,u,l,h,f){for(var p,y,d=u,g=0,m=!!h&&s(h,f);g<c;)g in r&&(p=m?m(r[g],g,t):r[g],l>0&&n(p)?(y=i(p),d=o(e,t,p,y,d,l-1)-1):(a(d+1),e[d]=p),d++),g++;return d};e.exports=o},39391:(e,t,r)=>{var n=r(5234);e.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},40646:(e,t,r)=>{var n=r(89055),i=Function.prototype,a=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(a):function(){return s.apply(a,arguments)})},85821:(e,t,r)=>{var n=r(95691),i=r(44977),a=r(89055),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},89055:(e,t,r)=>{var n=r(5234);e.exports=!n(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},46435:(e,t,r)=>{var n=r(16881),i=r(44977),a=r(80831),s=r(74418),o=r(27825),c=r(89055),u=Function,l=n([].concat),h=n([].join),f={},p=function(e,t,r){if(!s(f,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";f[t]=u("C,a","return new C("+h(n,",")+")")}return f[t](e,r)};e.exports=c?u.bind:function(e){var t=i(this),r=t.prototype,n=o(arguments,1),s=function(){var r=l(n,o(arguments));return this instanceof s?p(t,r.length,r):t.apply(e,r)};return a(r)&&(s.prototype=r),s}},39944:(e,t,r)=>{var n=r(89055),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},92735:(e,t,r)=>{var n=r(96893),i=r(74418),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,o=i(a,"name"),c=o&&(!n||n&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:o&&"something"===(function(){}).name,CONFIGURABLE:c}},71025:(e,t,r)=>{var n=r(16881),i=r(44977);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},95691:(e,t,r)=>{var n=r(38689),i=r(16881);e.exports=function(e){if("Function"===n(e))return i(e)}},16881:(e,t,r)=>{var n=r(89055),i=Function.prototype,a=i.call,s=n&&i.bind.bind(a,a);e.exports=n?s:function(e){return function(){return a.apply(e,arguments)}}},79822:(e,t,r)=>{var n=r(79117),i=r(43940);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(e){}try{return Function('return require("'+e+'")')()}catch(e){}}}},82509:(e,t,r)=>{var n=r(79117);e.exports=function(e,t){var r=n[e],i=r&&r.prototype;return i&&i[t]}},5604:(e,t,r)=>{var n=r(79117),i=r(14188);e.exports=function(e,t){var r;return arguments.length<2?i(r=n[e])?r:void 0:n[e]&&n[e][t]}},96002:e=>{e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},41829:(e,t,r)=>{var n=r(39944),i=r(3770),a=r(96002),s=r(69874);e.exports=function(e,t){t&&"string"==typeof e||i(e);var r=s(e);return a(i(void 0!==r?n(r,e):e))}},69874:(e,t,r)=>{var n=r(65438),i=r(12913),a=r(44318),s=r(49164),o=r(4282)("iterator");e.exports=function(e){if(!a(e))return i(e,o)||i(e,"@@iterator")||s[n(e)]}},62350:(e,t,r)=>{var n=r(39944),i=r(44977),a=r(3770),s=r(13174),o=r(69874),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?o(e):t;if(i(r))return a(n(r,e));throw new c(s(e)+" is not iterable")}},58254:(e,t,r)=>{var n=r(16881),i=r(26719),a=r(14188),s=r(38689),o=r(92618),c=n([].push);e.exports=function(e){if(a(e))return e;if(i(e)){for(var t=e.length,r=[],n=0;n<t;n++){var u=e[n];"string"==typeof u?c(r,u):("number"==typeof u||"Number"===s(u)||"String"===s(u))&&c(r,o(u))}var l=r.length,h=!0;return function(e,t){if(h)return h=!1,t;if(i(this))return t;for(var n=0;n<l;n++)if(r[n]===e)return t}}}},12913:(e,t,r)=>{var n=r(44977),i=r(44318);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},55558:(e,t,r)=>{var n=r(44977),i=r(3770),a=r(39944),s=r(76744),o=r(96002),c="Invalid size",u=RangeError,l=TypeError,h=Math.max,f=function(e,t){this.set=e,this.size=h(t,0),this.has=n(e.has),this.keys=n(e.keys)};f.prototype={getIterator:function(){return o(i(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new l(c);var r=s(t);if(r<0)throw new u(c);return new f(e,r)}},51113:(e,t,r)=>{var n=r(16881),i=r(83628),a=Math.floor,s=n("".charAt),o=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,h,f){var p=r+e.length,y=n.length,d=l;return void 0!==h&&(h=i(h),d=u),o(f,d,function(i,o){var u;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,p);case"<":u=h[c(o,1,-1)];break;default:var l=+o;if(0===l)return i;if(l>y){var f=a(l/10);if(0===f)return i;if(f<=y)return void 0===n[f-1]?s(o,1):n[f-1]+s(o,1);return i}u=n[l-1]}return void 0===u?"":u})}},79117:function(e,t,r){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},74418:(e,t,r)=>{var n=r(16881),i=r(83628),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},67588:e=>{e.exports={}},3306:e=>{e.exports=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}}},67458:(e,t,r)=>{var n=r(5604);e.exports=n("document","documentElement")},39622:(e,t,r)=>{var n=r(96893),i=r(5234),a=r(65926);e.exports=!n&&!i(function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},6103:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2;e.exports={pack:function(e,o,c){var u,l,h,f=t(c),p=8*c-o-1,y=(1<<p)-1,d=y>>1,g=23===o?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,u=y):(h=n(2,-(u=i(a(e)/s))),e*h<1&&(u--,h*=2),u+d>=1?e+=g/h:e+=g*n(2,1-d),e*h>=2&&(u++,h/=2),u+d>=y?(l=0,u=y):u+d>=1?(l=(e*h-1)*n(2,o),u+=d):(l=e*n(2,d-1)*n(2,o),u=0));o>=8;)f[v++]=255&l,l/=256,o-=8;for(u=u<<o|l,p+=o;p>0;)f[v++]=255&u,u/=256,p-=8;return f[v-1]|=128*m,f},unpack:function(e,t){var r,i=e.length,a=8*i-t-1,s=(1<<a)-1,o=s>>1,c=a-7,u=i-1,l=e[u--],h=127&l;for(l>>=7;c>0;)h=256*h+e[u--],c-=8;for(r=h&(1<<-c)-1,h>>=-c,c+=t;c>0;)r=256*r+e[u--],c-=8;if(0===h)h=1-o;else{if(h===s)return r?NaN:l?-1/0:1/0;r+=n(2,t),h-=o}return(l?-1:1)*r*n(2,h-t)}}},47568:(e,t,r)=>{var n=r(16881),i=r(5234),a=r(38689),s=Object,o=n("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"===a(e)?o(e,""):s(e)}:s},44166:(e,t,r)=>{var n=r(14188),i=r(80831),a=r(5054);e.exports=function(e,t,r){var s,o;return a&&n(s=t.constructor)&&s!==r&&i(o=s.prototype)&&o!==r.prototype&&a(e,o),e}},13029:(e,t,r)=>{var n=r(16881),i=r(14188),a=r(62694),s=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},98257:(e,t,r)=>{var n=r(80831),i=r(88088);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},38118:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(67588),s=r(80831),o=r(74418),c=r(64466).f,u=r(25629),l=r(43701),h=r(11927),f=r(66209),p=r(39391),y=!1,d=f("meta"),g=0,m=function(e){c(e,d,{value:{objectID:"O"+g++,weakData:{}}})},v=e.exports={enable:function(){v.enable=function(){},y=!0;var e=u.f,t=i([].splice),r={};r[d]=1,e(r).length&&(u.f=function(r){for(var n=e(r),i=0,a=n.length;i<a;i++)if(n[i]===d){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,d)){if(!h(e))return"F";if(!t)return"E";m(e)}return e[d].objectID},getWeakData:function(e,t){if(!o(e,d)){if(!h(e))return!0;if(!t)return!1;m(e)}return e[d].weakData},onFreeze:function(e){return p&&y&&h(e)&&!o(e,d)&&m(e),e}};a[d]=!0},43086:(e,t,r)=>{var n,i,a,s=r(45945),o=r(79117),c=r(80831),u=r(88088),l=r(74418),h=r(62694),f=r(40168),p=r(67588),y="Object already initialized",d=o.TypeError,g=o.WeakMap;if(s||h.state){var m=h.state||(h.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new d(y);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var v=f("state");p[v]=!0,n=function(e,t){if(l(e,v))throw new d(y);return t.facade=e,u(e,v,t),t},i=function(e){return l(e,v)?e[v]:{}},a=function(e){return l(e,v)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new d("Incompatible receiver, "+e+" required");return r}}}},28146:(e,t,r)=>{var n=r(4282),i=r(49164),a=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[a]===e)}},26719:(e,t,r)=>{var n=r(38689);e.exports=Array.isArray||function(e){return"Array"===n(e)}},15448:(e,t,r)=>{var n=r(65438);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},14188:e=>{var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},80866:(e,t,r)=>{var n=r(16881),i=r(5234),a=r(14188),s=r(65438),o=r(5604),c=r(13029),u=function(){},l=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=n(h.exec),p=!h.test(u),y=function(e){if(!a(e))return!1;try{return l(u,[],e),!0}catch(e){return!1}},d=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,c(e))}catch(e){return!0}};d.sham=!0,e.exports=!l||i(function(){var e;return y(y.call)||!y(Object)||!y(function(){e=!0})||e})?d:y},98708:(e,t,r)=>{var n=r(74418);e.exports=function(e){return void 0!==e&&(n(e,"value")||n(e,"writable"))}},68489:(e,t,r)=>{var n=r(5234),i=r(14188),a=/#|\.prototype\./,s=function(e,t){var r=c[o(e)];return r===l||r!==u&&(i(t)?n(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},14752:(e,t,r)=>{var n=r(80831),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},44318:e=>{e.exports=function(e){return null==e}},80831:(e,t,r)=>{var n=r(14188);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},16712:(e,t,r)=>{var n=r(80831);e.exports=function(e){return n(e)||null===e}},1942:e=>{e.exports=!1},30473:(e,t,r)=>{var n=r(80831),i=r(38689),a=r(4282)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"===i(e))}},6032:(e,t,r)=>{var n=r(5604),i=r(14188),a=r(4578),s=r(89809),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,o(e))}},37032:(e,t,r)=>{var n=r(39944);e.exports=function(e,t,r){for(var i,a,s=r?e:e.iterator,o=e.next;!(i=n(o,s)).done;)if(void 0!==(a=t(i.value)))return a}},38873:(e,t,r)=>{var n=r(85821),i=r(39944),a=r(3770),s=r(13174),o=r(28146),c=r(69389),u=r(4578),l=r(62350),h=r(69874),f=r(88500),p=TypeError,y=function(e,t){this.stopped=e,this.result=t},d=y.prototype;e.exports=function(e,t,r){var g,m,v,w,b,k,E,A=r&&r.that,x=!!(r&&r.AS_ENTRIES),S=!!(r&&r.IS_RECORD),K=!!(r&&r.IS_ITERATOR),P=!!(r&&r.INTERRUPTED),D=n(t,A),U=function(e){return g&&f(g,"normal",e),new y(!0,e)},_=function(e){return x?(a(e),P?D(e[0],e[1],U):D(e[0],e[1])):P?D(e,U):D(e)};if(S)g=e.iterator;else if(K)g=e;else{if(!(m=h(e)))throw new p(s(e)+" is not iterable");if(o(m)){for(v=0,w=c(e);w>v;v++)if((b=_(e[v]))&&u(d,b))return b;return new y(!1)}g=l(e,m)}for(k=S?e.next:g.next;!(E=i(k,g)).done;){try{b=_(E.value)}catch(e){f(g,"throw",e)}if("object"==typeof b&&b&&u(d,b))return b}return new y(!1)}},88500:(e,t,r)=>{var n=r(39944),i=r(3770),a=r(12913);e.exports=function(e,t,r){var s,o;i(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw r;if(o)throw s;return i(s),r}},9383:(e,t,r)=>{var n=r(52037).IteratorPrototype,i=r(77065),a=r(39123),s=r(93754),o=r(49164),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=i(n,{next:a(+!u,r)}),s(e,l,!1,!0),o[l]=c,e}},32331:(e,t,r)=>{var n=r(39944),i=r(77065),a=r(88088),s=r(74320),o=r(4282),c=r(43086),u=r(12913),l=r(52037).IteratorPrototype,h=r(76224),f=r(88500),p=o("toStringTag"),y="IteratorHelper",d="WrapForValidIterator",g=c.set,m=function(e){var t=c.getterFor(e?d:y);return s(i(l),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return h(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var a=u(i,"return");return a?n(a,i):h(void 0,!0)}if(r.inner)try{f(r.inner.iterator,"normal")}catch(e){return f(i,"throw",e)}return i&&f(i,"normal"),h(void 0,!0)}})},v=m(!0),w=m(!1);a(w,p,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?d:y,n.nextHandler=e,n.counter=0,n.done=!1,g(this,n)};return r.prototype=t?v:w,r}},83217:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(1942),s=r(92735),o=r(14188),c=r(9383),u=r(91786),l=r(5054),h=r(93754),f=r(88088),p=r(97509),y=r(4282),d=r(49164),g=r(52037),m=s.PROPER,v=s.CONFIGURABLE,w=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,k=y("iterator"),E="keys",A="values",x="entries",S=function(){return this};e.exports=function(e,t,r,s,y,g,K){c(r,t,s);var P,D,U,_=function(e){if(e===y&&M)return M;if(!b&&e&&e in C)return C[e];switch(e){case E:case A:case x:return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",T=!1,C=e.prototype,R=C[k]||C["@@iterator"]||y&&C[y],M=!b&&R||_(y),O="Array"===t&&C.entries||R;if(O&&(P=u(O.call(new e)))!==Object.prototype&&P.next&&(a||u(P)===w||(l?l(P,w):o(P[k])||p(P,k,S)),h(P,I,!0,!0),a&&(d[I]=S)),m&&y===A&&R&&R.name!==A&&(!a&&v?f(C,"name",A):(T=!0,M=function(){return i(R,this)})),y){if(D={values:_(A),keys:g?M:_(E),entries:_(x)},K)for(U in D)!b&&!T&&U in C||p(C,U,D[U]);else n({target:t,proto:!0,forced:b||T},D)}return(!a||K)&&C[k]!==M&&p(C,k,M,{name:y}),d[t]=M,D}},46598:(e,t,r)=>{var n=r(39944),i=r(44977),a=r(3770),s=r(96002),o=r(32331),c=r(34412),u=o(function(){var e=this.iterator,t=a(n(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)});e.exports=function(e){return a(this),i(e),new u(s(this),{mapper:e})}},52037:(e,t,r)=>{var n,i,a,s=r(5234),o=r(14188),c=r(80831),u=r(77065),l=r(91786),h=r(97509),f=r(4282),p=r(1942),y=f("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(n=i):d=!0),!c(n)||s(function(){var e={};return n[y].call(e)!==e})?n={}:p&&(n=u(n)),o(n[y])||h(n,y,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},49164:e=>{e.exports={}},69389:(e,t,r)=>{var n=r(97611);e.exports=function(e){return n(e.length)}},74530:(e,t,r)=>{var n=r(16881),i=r(5234),a=r(14188),s=r(74418),o=r(96893),c=r(92735).CONFIGURABLE,u=r(13029),l=r(43086),h=l.enforce,f=l.get,p=String,y=Object.defineProperty,d=n("".slice),g=n("".replace),m=n([].join),v=o&&!i(function(){return 8!==y(function(){},"length",{value:8}).length}),w=String(String).split("String"),b=e.exports=function(e,t,r){"Symbol("===d(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(o?y(e,"name",{value:t,configurable:!0}):e.name=t),v&&r&&s(r,"arity")&&e.length!==r.arity&&y(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?o&&y(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=h(e);return s(n,"source")||(n.source=m(w,"string"==typeof t?t:"")),e};Function.prototype.toString=b(function(){return a(this)&&f(this).source||u(this)},"toString")},98093:(e,t,r)=>{var n=r(16881),i=Map.prototype;e.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},44557:e=>{var t=Math.expm1,r=Math.exp;e.exports=!t||t(10)>22025.465794806718||22025.465794806718>t(10)||-2e-17!==t(-2e-17)?function(e){var t=+e;return 0===t?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:t},52871:(e,t,r)=>{var n=r(40579),i=Math.abs;e.exports=function(e,t,r,a){var s=+e,o=i(s),c=n(s);if(o<a)return c*(o/a/t+0x10000000000000-0x10000000000000)*a*t;var u=(1+t/2220446049250313e-31)*o,l=u-(u-o);return l>r||l!=l?1/0*c:c*l}},42420:(e,t,r)=>{var n=r(52871);e.exports=Math.fround||function(e){return n(e,11920928955078125e-23,34028234663852886e22,11754943508222875e-54)}},48055:e=>{var t=Math.log,r=Math.LOG10E;e.exports=Math.log10||function(e){return t(e)*r}},47575:e=>{var t=Math.log;e.exports=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:t(1+r)}},40579:e=>{e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},60142:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},51982:(e,t,r)=>{var n,i,a,s,o,c=r(79117),u=r(35268),l=r(85821),h=r(83474).set,f=r(68648),p=r(16347),y=r(36168),d=r(81129),g=r(43940),m=c.MutationObserver||c.WebKitMutationObserver,v=c.document,w=c.process,b=c.Promise,k=u("queueMicrotask");if(!k){var E=new f,A=function(){var e,t;for(g&&(e=w.domain)&&e.exit();t=E.get();)try{t()}catch(e){throw E.head&&n(),e}e&&e.enter()};p||g||d||!m||!v?!y&&b&&b.resolve?((s=b.resolve(void 0)).constructor=b,o=l(s.then,s),n=function(){o(A)}):g?n=function(){w.nextTick(A)}:(h=l(h,c),n=function(){h(A)}):(i=!0,a=v.createTextNode(""),new m(A).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),k=function(e){E.head||n(),E.add(e)}}e.exports=k},59444:(e,t,r)=>{var n=r(44977),i=TypeError,a=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw new i("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},69866:(e,t,r)=>{var n=r(92618);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},28616:e=>{var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},30836:(e,t,r)=>{var n=r(30473),i=TypeError;e.exports=function(e){if(n(e))throw new i("The method doesn't accept regular expressions");return e}},18807:(e,t,r)=>{var n=r(79117).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},84243:(e,t,r)=>{var n=r(79117),i=r(5234),a=r(16881),s=r(92618),o=r(92771).trim,c=r(39209),u=a("".charAt),l=n.parseFloat,h=n.Symbol,f=h&&h.iterator,p=1/l(c+"-0")!=-1/0||f&&!i(function(){l(Object(f))});e.exports=p?function(e){var t=o(s(e)),r=l(t);return 0===r&&"-"===u(t,0)?-0:r}:l},49364:(e,t,r)=>{var n=r(79117),i=r(5234),a=r(16881),s=r(92618),o=r(92771).trim,c=r(39209),u=n.parseInt,l=n.Symbol,h=l&&l.iterator,f=/^[+-]?0x/i,p=a(f.exec),y=8!==u(c+"08")||22!==u(c+"0x16")||h&&!i(function(){u(Object(h))});e.exports=y?function(e,t){var r=o(s(e));return u(r,t>>>0||(p(f,r)?16:10))}:u},69456:(e,t,r)=>{var n=r(96893),i=r(16881),a=r(39944),s=r(5234),o=r(57137),c=r(30156),u=r(74416),l=r(83628),h=r(47568),f=Object.assign,p=Object.defineProperty,y=i([].concat);e.exports=!f||s(function(){if(n&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach(function(e){t[e]=e}),7!==f({},e)[r]||o(f({},t)).join("")!==i})?function(e,t){for(var r=l(e),i=arguments.length,s=1,f=c.f,p=u.f;i>s;)for(var d,g=h(arguments[s++]),m=f?y(o(g),f(g)):o(g),v=m.length,w=0;v>w;)d=m[w++],(!n||a(p,g,d))&&(r[d]=g[d]);return r}:f},77065:(e,t,r)=>{var n,i=r(3770),a=r(30),s=r(61274),o=r(67588),c=r(67458),u=r(65926),l=r(40168),h="prototype",f="script",p=l("IE_PROTO"),y=function(){},d=function(e){return"<"+f+">"+e+"</"+f+">"},g=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=u("iframe");return t.style.display="none",c.appendChild(t),t.src=String("java"+f+":"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&n?g(n):m():g(n);for(var e=s.length;e--;)delete v[h][s[e]];return v()};o[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(y[h]=i(e),r=new y,y[h]=null,r[p]=e):r=v(),void 0===t?r:a.f(r,t)}},30:(e,t,r)=>{var n=r(96893),i=r(23315),a=r(64466),s=r(3770),o=r(10380),c=r(57137);t.f=n&&!i?Object.defineProperties:function(e,t){s(e);for(var r,n=o(t),i=c(t),u=i.length,l=0;u>l;)a.f(e,r=i[l++],n[r]);return e}},64466:(e,t,r)=>{var n=r(96893),i=r(39622),a=r(23315),s=r(3770),o=r(42344),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",p="writable";t.f=n?a?function(e,t,r){if(s(e),t=o(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=l(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:h in r?r[h]:n[h],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=o(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9304:(e,t,r)=>{var n=r(96893),i=r(39944),a=r(74416),s=r(39123),o=r(10380),c=r(42344),u=r(74418),l=r(39622),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=o(e),t=c(t),l)try{return h(e,t)}catch(e){}if(u(e,t))return s(!i(a.f,e,t),e[t])}},43701:(e,t,r)=>{var n=r(38689),i=r(10380),a=r(25629).f,s=r(27825),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return a(e)}catch(e){return s(o)}};e.exports.f=function(e){return o&&"Window"===n(e)?c(e):a(i(e))}},25629:(e,t,r)=>{var n=r(21843),i=r(61274).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},30156:(e,t)=>{t.f=Object.getOwnPropertySymbols},91786:(e,t,r)=>{var n=r(74418),i=r(14188),a=r(83628),s=r(40168),o=r(50680),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=o?u.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},11927:(e,t,r)=>{var n=r(5234),i=r(80831),a=r(38689),s=r(65469),o=Object.isExtensible,c=n(function(){o(1)});e.exports=c||s?function(e){return!!i(e)&&(!s||"ArrayBuffer"!==a(e))&&(!o||o(e))}:o},4578:(e,t,r)=>{var n=r(16881);e.exports=n({}.isPrototypeOf)},21843:(e,t,r)=>{var n=r(16881),i=r(74418),a=r(10380),s=r(81458).indexOf,o=r(67588),c=n([].push);e.exports=function(e,t){var r,n=a(e),u=0,l=[];for(r in n)!i(o,r)&&i(n,r)&&c(l,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},57137:(e,t,r)=>{var n=r(21843),i=r(61274);e.exports=Object.keys||function(e){return n(e,i)}},74416:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},85798:(e,t,r)=>{var n=r(1942),i=r(79117),a=r(5234),s=r(17340);e.exports=n||!a(function(){if(!s||!(s<535)){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]}})},5054:(e,t,r)=>{var n=r(71025),i=r(80831),a=r(39509),s=r(74121);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),s(n),i(r)&&(t?e(r,n):r.__proto__=n),r}}():void 0)},4844:(e,t,r)=>{var n=r(96893),i=r(5234),a=r(16881),s=r(91786),o=r(57137),c=r(10380),u=a(r(74416).f),l=a([].push),h=n&&i(function(){var e=Object.create(null);return e[2]=2,!u(e,2)}),f=function(e){return function(t){for(var r,i=c(t),a=o(i),f=h&&null===s(i),p=a.length,y=0,d=[];p>y;)r=a[y++],(!n||(f?r in i:u(i,r)))&&l(d,e?[r,i[r]]:i[r]);return d}};e.exports={entries:f(!0),values:f(!1)}},62244:(e,t,r)=>{var n=r(79345),i=r(65438);e.exports=n?({}).toString:function(){return"[object "+i(this)+"]"}},2287:(e,t,r)=>{var n=r(39944),i=r(14188),a=r(80831),s=TypeError;e.exports=function(e,t){var r,o;if("string"===t&&i(r=e.toString)&&!a(o=n(r,e))||i(r=e.valueOf)&&!a(o=n(r,e))||"string"!==t&&i(r=e.toString)&&!a(o=n(r,e)))return o;throw new s("Can't convert object to primitive value")}},73168:(e,t,r)=>{var n=r(5604),i=r(16881),a=r(25629),s=r(30156),o=r(3770),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=s.f;return r?c(t,r(e)):t}},49120:(e,t,r)=>{var n=r(79117);e.exports=n},96042:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},27301:(e,t,r)=>{var n=r(79117),i=r(16453),a=r(14188),s=r(68489),o=r(13029),c=r(4282),u=r(11078),l=r(1942),h=r(63008),f=i&&i.prototype,p=c("species"),y=!1,d=a(n.PromiseRejectionEvent),g=s("Promise",function(){var e=o(i),t=e!==String(i);if(!t&&66===h||l&&!(f.catch&&f.finally))return!0;if(!h||h<51||!/native code/.test(e)){var r=new i(function(e){e(1)}),n=function(e){e(function(){},function(){})};if((r.constructor={})[p]=n,!(y=r.then(function(){})instanceof n))return!0}return!t&&("BROWSER"===u||"DENO"===u)&&!d});e.exports={CONSTRUCTOR:g,REJECTION_EVENT:d,SUBCLASSING:y}},16453:(e,t,r)=>{var n=r(79117);e.exports=n.Promise},48787:(e,t,r)=>{var n=r(3770),i=r(80831),a=r(59444);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},76292:(e,t,r)=>{var n=r(16453),i=r(7283),a=r(27301).CONSTRUCTOR;e.exports=a||!i(function(e){n.all(e).then(void 0,function(){})})},78679:(e,t,r)=>{var n=r(64466).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},68648:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},14721:(e,t,r)=>{var n=r(39944),i=r(3770),a=r(14188),s=r(38689),o=r(29342),c=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===s(e))return n(o,e,t);throw new c("RegExp#exec called on incompatible receiver")}},29342:(e,t,r)=>{var n=r(39944),i=r(16881),a=r(92618),s=r(34932),o=r(95976),c=r(10746),u=r(77065),l=r(43086).get,h=r(56676),f=r(74609),p=c("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,d=y,g=i("".charAt),m=i("".indexOf),v=i("".replace),w=i("".slice),b=function(){var e=/a/,t=/b*/g;return n(y,e,"a"),n(y,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),k=o.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(b||E||k||h||f)&&(d=function(e){var t,r,i,o,c,h,f,A=l(this),x=a(e),S=A.raw;if(S)return S.lastIndex=this.lastIndex,t=n(d,S,x),this.lastIndex=S.lastIndex,t;var K=A.groups,P=k&&this.sticky,D=n(s,this),U=this.source,_=0,I=x;if(P&&(-1===m(D=v(D,"y",""),"g")&&(D+="g"),I=w(x,this.lastIndex),this.lastIndex>0&&(!this.multiline||this.multiline&&"\n"!==g(x,this.lastIndex-1))&&(U="(?: "+U+")",I=" "+I,_++),r=RegExp("^(?:"+U+")",D)),E&&(r=RegExp("^"+U+"$(?!\\s)",D)),b&&(i=this.lastIndex),o=n(y,P?r:this,I),P?o?(o.input=w(o.input,_),o[0]=w(o[0],_),o.index=this.lastIndex,this.lastIndex+=o[0].length):this.lastIndex=0:b&&o&&(this.lastIndex=this.global?o.index+o[0].length:i),E&&o&&o.length>1&&n(p,o[0],r,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)}),o&&K)for(c=0,o.groups=h=u(null);c<K.length;c++)h[(f=K[c])[0]]=o[f[1]];return o}),e.exports=d},34932:(e,t,r)=>{var n=r(3770);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},23113:(e,t,r)=>{var n=r(39944),i=r(74418),a=r(4578),s=r(34932),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return!(void 0===t&&!("flags"in o)&&!i(e,"flags")&&a(o,e))?t:n(s,e)}},95976:(e,t,r)=>{var n=r(5234),i=r(79117).RegExp,a=n(function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")}),s=a||n(function(){return!i("a","y").sticky}),o=a||n(function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")});e.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},56676:(e,t,r)=>{var n=r(5234),i=r(79117).RegExp;e.exports=n(function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})},74609:(e,t,r)=>{var n=r(5234),i=r(79117).RegExp;e.exports=n(function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})},39509:(e,t,r)=>{var n=r(44318),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},35268:(e,t,r)=>{var n=r(79117),i=r(96893),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=a(n,e);return t&&t.value}},97501:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},89203:(e,t,r)=>{var n=r(79117),i=r(40646),a=r(14188),s=r(11078),o=r(98060),c=r(27825),u=r(89445),l=n.Function,h=/MSIE .\./.test(o)||"BUN"===s&&function(){var e=n.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var r=t?2:1;return h?function(n,s){var o=u(arguments.length,1)>r,h=a(n)?n:l(n),f=o?c(arguments,r):[],p=o?function(){i(h,this,f)}:h;return t?e(p,s):e(p)}:e}},679:(e,t,r)=>{var n=r(33243),i=r(29800),a=n.Set,s=n.add;e.exports=function(e){var t=new a;return i(e,function(e){s(t,e)}),t}},37059:(e,t,r)=>{var n=r(42937),i=r(33243),a=r(679),s=r(87173),o=r(55558),c=r(29800),u=r(37032),l=i.has,h=i.remove;e.exports=function(e){var t=n(this),r=o(e),i=a(t);return s(t)<=r.size?c(t,function(e){r.includes(e)&&h(i,e)}):u(r.getIterator(),function(e){l(t,e)&&h(i,e)}),i}},33243:(e,t,r)=>{var n=r(16881),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},13721:(e,t,r)=>{var n=r(42937),i=r(33243),a=r(87173),s=r(55558),o=r(29800),c=r(37032),u=i.Set,l=i.add,h=i.has;e.exports=function(e){var t=n(this),r=s(e),i=new u;return a(t)>r.size?c(r.getIterator(),function(e){h(t,e)&&l(i,e)}):o(t,function(e){r.includes(e)&&l(i,e)}),i}},99978:(e,t,r)=>{var n=r(42937),i=r(33243).has,a=r(87173),s=r(55558),o=r(29800),c=r(37032),u=r(88500);e.exports=function(e){var t=n(this),r=s(e);if(a(t)<=r.size)return!1!==o(t,function(e){if(r.includes(e))return!1},!0);var l=r.getIterator();return!1!==c(l,function(e){if(i(t,e))return u(l,"normal",!1)})}},94361:(e,t,r)=>{var n=r(42937),i=r(87173),a=r(29800),s=r(55558);e.exports=function(e){var t=n(this),r=s(e);return!(i(t)>r.size)&&!1!==a(t,function(e){if(!r.includes(e))return!1},!0)}},97528:(e,t,r)=>{var n=r(42937),i=r(33243).has,a=r(87173),s=r(55558),o=r(37032),c=r(88500);e.exports=function(e){var t=n(this),r=s(e);if(a(t)<r.size)return!1;var u=r.getIterator();return!1!==o(u,function(e){if(!i(t,e))return c(u,"normal",!1)})}},29800:(e,t,r)=>{var n=r(16881),i=r(37032),a=r(33243),s=a.Set,o=a.proto,c=n(o.forEach),u=n(o.keys),l=u(new s).next;e.exports=function(e,t,r){return r?i({iterator:u(e),next:l},t):c(e,t)}},54471:(e,t,r)=>{var n=r(5604),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{new t()[e](i(0));try{return new t()[e](i(-1)),!1}catch(e){return!0}}catch(e){return!1}}},87173:(e,t,r)=>{var n=r(71025),i=r(33243);e.exports=n(i.proto,"size","get")||function(e){return e.size}},43900:(e,t,r)=>{var n=r(5604),i=r(10997),a=r(4282),s=r(96893),o=a("species");e.exports=function(e){var t=n(e);s&&t&&!t[o]&&i(t,o,{configurable:!0,get:function(){return this}})}},31657:(e,t,r)=>{var n=r(42937),i=r(33243),a=r(679),s=r(55558),o=r(37032),c=i.add,u=i.has,l=i.remove;e.exports=function(e){var t=n(this),r=s(e).getIterator(),i=a(t);return o(r,function(e){u(t,e)?l(i,e):c(i,e)}),i}},93754:(e,t,r)=>{var n=r(64466).f,i=r(74418),a=r(4282)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},65077:(e,t,r)=>{var n=r(42937),i=r(33243).add,a=r(679),s=r(55558),o=r(37032);e.exports=function(e){var t=n(this),r=s(e).getIterator(),c=a(t);return o(r,function(e){i(c,e)}),c}},40168:(e,t,r)=>{var n=r(10746),i=r(66209),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},62694:(e,t,r)=>{var n=r(1942),i=r(79117),a=r(14798),s="__core-js_shared__",o=e.exports=i[s]||a(s,{});(o.versions||(o.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},10746:(e,t,r)=>{var n=r(62694);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},97964:(e,t,r)=>{var n=r(3770),i=r(91361),a=r(44318),s=r(4282)("species");e.exports=function(e,t){var r,o=n(e).constructor;return void 0===o||a(r=n(o)[s])?t:i(r)}},53654:(e,t,r)=>{var n=r(5234);e.exports=function(e){return n(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},64212:(e,t,r)=>{var n=r(16881),i=r(76744),a=r(92618),s=r(39509),o=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,h=a(s(t)),f=i(r),p=h.length;return f<0||f>=p?e?"":void 0:(n=c(h,f))<55296||n>56319||f+1===p||(l=c(h,f+1))<56320||l>57343?e?o(h,f):n:e?u(h,f,f+2):(n-55296<<10)+(l-56320)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},84686:(e,t,r)=>{var n=r(98060);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},30982:(e,t,r)=>{var n=r(16881),i=r(97611),a=r(92618),s=r(79380),o=r(39509),c=n(s),u=n("".slice),l=Math.ceil,h=function(e){return function(t,r,n){var s,h,f=a(o(t)),p=i(r),y=f.length,d=void 0===n?" ":a(n);return p<=y||""===d?f:((h=c(d,l((s=p-y)/d.length))).length>s&&(h=u(h,0,s)),e?f+h:h+f)}};e.exports={start:h(!1),end:h(!0)}},26294:(e,t,r)=>{var n=r(16881),i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",o=RangeError,c=n(a.exec),u=Math.floor,l=String.fromCharCode,h=n("".charCodeAt),f=n([].join),p=n([].push),y=n("".replace),d=n("".split),g=n("".toLowerCase),m=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=h(e,r++);if(i>=55296&&i<=56319&&r<n){var a=h(e,r++);(64512&a)==56320?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),r--)}else p(t,i)}return t},v=function(e){return e+22+75*(e<26)},w=function(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),n+=36;return u(n+36*e/(e+38))},b=function(e){var t,r,n=[],i=(e=m(e)).length,a=128,c=0,h=72;for(t=0;t<e.length;t++)(r=e[t])<128&&p(n,l(r));var y=n.length,d=y;for(y&&p(n,"-");d<i;){var g=0x7fffffff;for(t=0;t<e.length;t++)(r=e[t])>=a&&r<g&&(g=r);var b=d+1;if(g-a>u((0x7fffffff-c)/b))throw new o(s);for(c+=(g-a)*b,a=g,t=0;t<e.length;t++){if((r=e[t])<a&&++c>0x7fffffff)throw new o(s);if(r===a){for(var k=c,E=36;;){var A=E<=h?1:E>=h+26?26:E-h;if(k<A)break;var x=k-A,S=36-A;p(n,l(v(A+x%S))),k=u(x/S),E+=36}p(n,l(v(k))),h=w(c,b,d===y),c=0,d++}}c++,a++}return f(n,"")};e.exports=function(e){var t,r,n=[],s=d(y(g(e),a,"."),".");for(t=0;t<s.length;t++)p(n,c(i,r=s[t])?"xn--"+b(r):r);return f(n,".")}},79380:(e,t,r)=>{var n=r(76744),i=r(92618),a=r(39509),s=RangeError;e.exports=function(e){var t=i(a(this)),r="",o=n(e);if(o<0||o===1/0)throw new s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},28799:(e,t,r)=>{var n=r(92771).end,i=r(14425);e.exports=i("trimEnd")?function(){return n(this)}:"".trimEnd},14425:(e,t,r)=>{var n=r(92735).PROPER,i=r(5234),a=r(39209),s="​᠎";e.exports=function(e){return i(function(){return!!a[e]()||s[e]()!==s||n&&a[e].name!==e})}},59874:(e,t,r)=>{var n=r(92771).start,i=r(14425);e.exports=i("trimStart")?function(){return n(this)}:"".trimStart},92771:(e,t,r)=>{var n=r(16881),i=r(39509),a=r(92618),s=r(39209),o=n("".replace),c=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var r=a(i(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},69059:(e,t,r)=>{var n=r(79117),i=r(5234),a=r(63008),s=r(11078),o=n.structuredClone;e.exports=!!o&&!i(function(){if("DENO"===s&&a>92||"NODE"===s&&a>94||"BROWSER"===s&&a>97)return!1;var e=new ArrayBuffer(8),t=o(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})},48944:(e,t,r)=>{var n=r(63008),i=r(5234),a=r(79117).String;e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},17093:(e,t,r)=>{var n=r(39944),i=r(5604),a=r(4282),s=r(97509);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,o=a("toPrimitive");t&&!t[o]&&s(t,o,function(e){return n(r,this)},{arity:1})}},16577:(e,t,r)=>{var n=r(48944);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},83474:(e,t,r)=>{var n,i,a,s,o=r(79117),c=r(40646),u=r(85821),l=r(14188),h=r(74418),f=r(5234),p=r(67458),y=r(27825),d=r(65926),g=r(89445),m=r(16347),v=r(43940),w=o.setImmediate,b=o.clearImmediate,k=o.process,E=o.Dispatch,A=o.Function,x=o.MessageChannel,S=o.String,K=0,P={},D="onreadystatechange";f(function(){n=o.location});var U=function(e){if(h(P,e)){var t=P[e];delete P[e],t()}},_=function(e){return function(){U(e)}},I=function(e){U(e.data)},T=function(e){o.postMessage(S(e),n.protocol+"//"+n.host)};w&&b||(w=function(e){g(arguments.length,1);var t=l(e)?e:A(e),r=y(arguments,1);return P[++K]=function(){c(t,void 0,r)},i(K),K},b=function(e){delete P[e]},v?i=function(e){k.nextTick(_(e))}:E&&E.now?i=function(e){E.now(_(e))}:x&&!m?(s=(a=new x).port2,a.port1.onmessage=I,i=u(s.postMessage,s)):o.addEventListener&&l(o.postMessage)&&!o.importScripts&&n&&"file:"!==n.protocol&&!f(T)?(i=T,o.addEventListener("message",I,!1)):i=D in d("script")?function(e){p.appendChild(d("script"))[D]=function(){p.removeChild(this),U(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:w,clear:b}},65881:(e,t,r)=>{var n=r(16881);e.exports=n(1..valueOf)},70675:(e,t,r)=>{var n=r(76744),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},97429:(e,t,r)=>{var n=r(30290),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},74579:(e,t,r)=>{var n=r(76744),i=r(97611),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new a("Wrong length or index");return r}},10380:(e,t,r)=>{var n=r(47568),i=r(39509);e.exports=function(e){return n(i(e))}},76744:(e,t,r)=>{var n=r(60142);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},97611:(e,t,r)=>{var n=r(76744),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,0x1fffffffffffff):0}},83628:(e,t,r)=>{var n=r(39509),i=Object;e.exports=function(e){return i(n(e))}},57584:(e,t,r)=>{var n=r(80939),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},80939:(e,t,r)=>{var n=r(76744),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},30290:(e,t,r)=>{var n=r(39944),i=r(80831),a=r(6032),s=r(12913),o=r(2287),c=r(4282),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,c=s(e,l);if(c){if(void 0===t&&(t="default"),!i(r=n(c,e,t))||a(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},42344:(e,t,r)=>{var n=r(30290),i=r(6032);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},79345:(e,t,r)=>{var n=r(4282)("toStringTag"),i={};i[n]="z",e.exports="[object z]"===String(i)},92618:(e,t,r)=>{var n=r(65438),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},4108:e=>{var t=Math.round;e.exports=function(e){var r=t(e);return r<0?0:r>255?255:255&r}},13174:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},53978:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(39944),s=r(96893),o=r(65772),c=r(47223),u=r(98633),l=r(40286),h=r(39123),f=r(88088),p=r(14752),y=r(97611),d=r(74579),g=r(57584),m=r(4108),v=r(42344),w=r(74418),b=r(65438),k=r(80831),E=r(6032),A=r(77065),x=r(4578),S=r(5054),K=r(25629).f,P=r(83292),D=r(34104).forEach,U=r(43900),_=r(10997),I=r(64466),T=r(9304),C=r(76759),R=r(43086),M=r(44166),O=R.get,B=R.set,L=R.enforce,N=I.f,F=T.f,j=i.RangeError,z=u.ArrayBuffer,H=z.prototype,q=u.DataView,W=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,G=c.TypedArray,$=c.TypedArrayPrototype,Y=c.isTypedArray,Q="BYTES_PER_ELEMENT",Z="Wrong length",X=function(e,t){_(e,t,{configurable:!0,get:function(){return O(this)[t]}})},J=function(e){var t;return x(H,e)||"ArrayBuffer"===(t=b(e))||"SharedArrayBuffer"===t},ee=function(e,t){return Y(e)&&!E(t)&&t in e&&p(+t)&&t>=0},et=function(e,t){return ee(e,t=v(t))?h(2,e[t]):F(e,t)},er=function(e,t,r){return ee(e,t=v(t))&&k(r)&&w(r,"value")&&!w(r,"get")&&!w(r,"set")&&!r.configurable&&(!w(r,"writable")||r.writable)&&(!w(r,"enumerable")||r.enumerable)?(e[t]=r.value,e):N(e,t,r)};s?(W||(T.f=et,I.f=er,X($,"buffer"),X($,"byteOffset"),X($,"byteLength"),X($,"length")),n({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:et,defineProperty:er}),e.exports=function(e,t,r){var s=e.match(/\d+/)[0]/8,c=e+(r?"Clamped":"")+"Array",u="get"+e,h="set"+e,p=i[c],v=p,w=v&&v.prototype,b={},E=function(e,t){var r=O(e);return r.view[u](t*s+r.byteOffset,!0)},x=function(e,t,n){var i=O(e);i.view[h](t*s+i.byteOffset,r?m(n):n,!0)},_=function(e,t){N(e,t,{get:function(){return E(this,t)},set:function(e){return x(this,t,e)},enumerable:!0})};W?o&&(v=t(function(e,t,r,n){return l(e,w),M(k(t)?J(t)?void 0!==n?new p(t,g(r,s),n):void 0!==r?new p(t,g(r,s)):new p(t):Y(t)?C(v,t):a(P,v,t):new p(d(t)),e,v)}),S&&S(v,G),D(K(p),function(e){e in v||f(v,e,p[e])}),v.prototype=w):(v=t(function(e,t,r,n){l(e,w);var i,o,c,u=0,h=0;if(k(t)){if(J(t)){i=t,h=g(r,s);var f=t.byteLength;if(void 0===n){if(f%s||(o=f-h)<0)throw new j(Z)}else if((o=y(n)*s)+h>f)throw new j(Z);c=o/s}else if(Y(t))return C(v,t);else return a(P,v,t)}else i=new z(o=(c=d(t))*s);for(B(e,{buffer:i,byteOffset:h,byteLength:o,length:c,view:new q(i)});u<c;)_(e,u++)}),S&&S(v,G),w=v.prototype=A($)),w.constructor!==v&&f(w,"constructor",v),L(w).TypedArrayConstructor=v,V&&f(w,V,c);var I=v!==p;b[c]=v,n({global:!0,constructor:!0,forced:I,sham:!W},b),Q in v||f(v,Q,s),Q in w||f(w,Q,s),U(c)}):e.exports=function(){}},65772:(e,t,r)=>{var n=r(79117),i=r(5234),a=r(7283),s=r(47223).NATIVE_ARRAY_BUFFER_VIEWS,o=n.ArrayBuffer,c=n.Int8Array;e.exports=!s||!i(function(){c(1)})||!i(function(){new c(-1)})||!a(function(e){new c,new c(null),new c(1.5),new c(e)},!0)||i(function(){return 1!==new c(new o(2),1,void 0).length})},87517:(e,t,r)=>{var n=r(76759),i=r(47223).getTypedArrayConstructor;e.exports=function(e,t){return n(i(e),t)}},83292:(e,t,r)=>{var n=r(85821),i=r(39944),a=r(91361),s=r(83628),o=r(69389),c=r(62350),u=r(69874),l=r(28146),h=r(15448),f=r(47223).aTypedArrayConstructor,p=r(97429);e.exports=function(e){var t,r,y,d,g,m,v,w,b=a(this),k=s(e),E=arguments.length,A=E>1?arguments[1]:void 0,x=void 0!==A,S=u(k);if(S&&!l(S))for(w=(v=c(k,S)).next,k=[];!(m=i(w,v)).done;)k.push(m.value);for(x&&E>2&&(A=n(A,arguments[2])),r=o(k),d=h(y=new(f(b))(r)),t=0;r>t;t++)g=x?A(k[t],t):k[t],y[t]=d?p(g):+g;return y}},66209:(e,t,r)=>{var n=r(16881),i=0,a=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+a,36)}},96301:(e,t,r)=>{var n=r(5234),i=r(4282),a=r(96893),s=r(1942),o=i("iterator");e.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),r.delete("a",2),r.delete("b",void 0),s&&(!e.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!t.size&&(s||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host})},89809:(e,t,r)=>{var n=r(48944);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},23315:(e,t,r)=>{var n=r(96893),i=r(5234);e.exports=n&&i(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},89445:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},45945:(e,t,r)=>{var n=r(79117),i=r(14188),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},92860:(e,t,r)=>{var n=r(49120),i=r(74418),a=r(90346),s=r(64466).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||s(t,e,{value:a.f(e)})}},90346:(e,t,r)=>{var n=r(4282);t.f=n},4282:(e,t,r)=>{var n=r(79117),i=r(10746),a=r(74418),s=r(66209),o=r(48944),c=r(89809),u=n.Symbol,l=i("wks"),h=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return a(l,e)||(l[e]=o&&a(u,e)?u[e]:h("Symbol."+e)),l[e]}},39209:e=>{e.exports="	\n\v\f\r                　\u2028\u2029\uFEFF"},76208:(e,t,r)=>{var n=r(5604),i=r(74418),a=r(88088),s=r(4578),o=r(5054),c=r(98657),u=r(78679),l=r(44166),h=r(69866),f=r(98257),p=r(75382),y=r(96893),d=r(1942);e.exports=function(e,t,r,g){var m="stackTraceLimit",v=g?2:1,w=e.split("."),b=w[w.length-1],k=n.apply(null,w);if(k){var E=k.prototype;if(!d&&i(E,"cause")&&delete E.cause,!r)return k;var A=n("Error"),x=t(function(e,t){var r=h(g?t:e,void 0),n=g?new k(e):new k;return void 0!==r&&a(n,"message",r),p(n,x,n.stack,2),this&&s(E,this)&&l(n,this,x),arguments.length>v&&f(n,arguments[v]),n});if(x.prototype=E,"Error"!==b?o?o(x,A):c(x,A,{name:!0}):y&&m in k&&(u(x,k,m),u(x,k,"prepareStackTrace")),c(x,k),!d)try{E.name!==b&&a(E,"name",b),E.constructor=x}catch(e){}return x}}},78721:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(40646),s=r(5234),o=r(76208),c="AggregateError",u=i(c),l=!s(function(){return 1!==u([1]).errors[0]})&&s(function(){return 7!==u([1],c,{cause:7}).cause});n({global:!0,constructor:!0,arity:2,forced:l},{AggregateError:o(c,function(e){return function(t,r){return a(e,this,arguments)}},l,!0)})},48390:(e,t,r)=>{var n=r(5613),i=r(4578),a=r(91786),s=r(5054),o=r(98657),c=r(77065),u=r(88088),l=r(39123),h=r(98257),f=r(75382),p=r(38873),y=r(69866),d=r(4282)("toStringTag"),g=Error,m=[].push,v=function(e,t){var r,n=i(w,this);s?r=s(new g,n?a(this):w):u(r=n?this:c(w),d,"Error"),void 0!==t&&u(r,"message",y(t)),f(r,v,r.stack,1),arguments.length>2&&h(r,arguments[2]);var o=[];return p(e,m,{that:o}),u(r,"errors",o),r};s?s(v,g):o(v,g,{name:!0});var w=v.prototype=c(g.prototype,{constructor:l(1,v),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:v})},39064:(e,t,r)=>{r(48390)},49694:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(98633),s=r(43900),o="ArrayBuffer",c=a[o];n({global:!0,constructor:!0,forced:i[o]!==c},{ArrayBuffer:c}),s(o)},32482:(e,t,r)=>{var n=r(96893),i=r(10997),a=r(36821),s=ArrayBuffer.prototype;!n||"detached"in s||i(s,"detached",{configurable:!0,get:function(){return a(this)}})},80512:(e,t,r)=>{var n=r(5613),i=r(47223);n({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},64772:(e,t,r)=>{var n=r(5613),i=r(95691),a=r(5234),s=r(98633),o=r(3770),c=r(70675),u=r(97611),l=s.ArrayBuffer,h=s.DataView,f=h.prototype,p=i(l.prototype.slice),y=i(f.getUint8),d=i(f.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a(function(){return!new l(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(p&&void 0===t)return p(o(this),e);for(var r=o(this).byteLength,n=c(e,r),i=c(void 0===t?r:t,r),a=new l(u(i-n)),s=new h(this),f=new h(a),g=0;n<i;)d(f,g++,y(s,n++));return a}})},56528:(e,t,r)=>{var n=r(5613),i=r(25677);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},27067:(e,t,r)=>{var n=r(5613),i=r(25677);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},37002:(e,t,r)=>{var n=r(5613),i=r(83628),a=r(69389),s=r(76744),o=r(95458);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=s(e),o=n>=0?n:r+n;return o<0||o>=r?void 0:t[o]}}),o("at")},16411:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(26719),s=r(80831),o=r(83628),c=r(69389),u=r(14578),l=r(94417),h=r(75022),f=r(10378),p=r(4282),y=r(63008),d=p("isConcatSpreadable"),g=y>=51||!i(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),m=function(e){if(!s(e))return!1;var t=e[d];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!g||!f("concat")},{concat:function(e){var t,r,n,i,a,s=o(this),f=h(s,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?s:arguments[t],m(a))for(u(p+(i=c(a))),r=0;r<i;r++,p++)r in a&&l(f,p,a[r]);else u(p+1),l(f,p++,a);return f.length=p,f}})},78440:(e,t,r)=>{var n=r(5613),i=r(656),a=r(95458);n({target:"Array",proto:!0},{copyWithin:i}),a("copyWithin")},38428:(e,t,r)=>{var n=r(5613),i=r(34104).every;n({target:"Array",proto:!0,forced:!r(55397)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},73294:(e,t,r)=>{var n=r(5613),i=r(38150),a=r(95458);n({target:"Array",proto:!0},{fill:i}),a("fill")},5305:(e,t,r)=>{var n=r(5613),i=r(34104).filter;n({target:"Array",proto:!0,forced:!r(10378)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},6501:(e,t,r)=>{var n=r(5613),i=r(34104).findIndex,a=r(95458),s="findIndex",o=!0;s in[]&&[,][s](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},54856:(e,t,r)=>{var n=r(5613),i=r(80710).findLastIndex,a=r(95458);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},73621:(e,t,r)=>{var n=r(5613),i=r(80710).findLast,a=r(95458);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},63252:(e,t,r)=>{var n=r(5613),i=r(34104).find,a=r(95458),s="find",o=!0;s in[]&&[,][s](function(){o=!1}),n({target:"Array",proto:!0,forced:o},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},27011:(e,t,r)=>{var n=r(5613),i=r(50336),a=r(44977),s=r(83628),o=r(69389),c=r(75022);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=s(this),n=o(r);return a(e),(t=c(r,0)).length=i(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},11264:(e,t,r)=>{var n=r(5613),i=r(50336),a=r(83628),s=r(69389),o=r(76744),c=r(75022);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),r=s(t),n=c(t,0);return n.length=i(n,t,t,r,0,void 0===e?1:o(e)),n}})},79620:(e,t,r)=>{var n=r(5613),i=r(57500);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},11875:(e,t,r)=>{var n=r(5613),i=r(86859);n({target:"Array",stat:!0,forced:!r(7283)(function(e){Array.from(e)})},{from:i})},62234:(e,t,r)=>{var n=r(5613),i=r(81458).includes,a=r(5234),s=r(95458);n({target:"Array",proto:!0,forced:a(function(){return![,].includes()})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},94149:(e,t,r)=>{var n=r(5613),i=r(95691),a=r(81458).indexOf,s=r(55397),o=i([].indexOf),c=!!o&&1/o([1],1,-0)<0;n({target:"Array",proto:!0,forced:c||!s("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?o(this,e,t)||0:a(this,e,t)}})},29911:(e,t,r)=>{r(5613)({target:"Array",stat:!0},{isArray:r(26719)})},33873:(e,t,r)=>{var n=r(10380),i=r(95458),a=r(49164),s=r(43086),o=r(64466).f,c=r(83217),u=r(76224),l=r(1942),h=r(96893),f="Array Iterator",p=s.set,y=s.getterFor(f);e.exports=c(Array,"Array",function(e,t){p(this,{type:f,target:n(e),index:0,kind:t})},function(){var e=y(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,u(void 0,!0);switch(e.kind){case"keys":return u(r,!1);case"values":return u(t[r],!1)}return u([r,t[r]],!1)},"values");var d=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==d.name)try{o(d,"name",{value:"values"})}catch(e){}},34147:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(47568),s=r(10380),o=r(55397),c=i([].join);n({target:"Array",proto:!0,forced:a!==Object||!o("join",",")},{join:function(e){return c(s(this),void 0===e?",":e)}})},79326:(e,t,r)=>{var n=r(5613),i=r(63014);n({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},18981:(e,t,r)=>{var n=r(5613),i=r(34104).map;n({target:"Array",proto:!0,forced:!r(10378)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},6670:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(80866),s=r(94417),o=Array;n({target:"Array",stat:!0,forced:i(function(){function e(){}return!(o.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,r=new(a(this)?this:o)(t);t>e;)s(r,e,arguments[e++]);return r.length=t,r}})},69375:(e,t,r)=>{var n=r(5613),i=r(83628),a=r(69389),s=r(14224),o=r(14578);n({target:"Array",proto:!0,arity:1,forced:r(5234)(function(){return 0x100000001!==[].push.call({length:0x100000000},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;o(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return s(t,r),r}})},98446:(e,t,r)=>{var n=r(5613),i=r(49989).right,a=r(55397),s=r(63008);n({target:"Array",proto:!0,forced:!r(43940)&&s>79&&s<83||!a("reduceRight")},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},48605:(e,t,r)=>{var n=r(5613),i=r(49989).left,a=r(55397),s=r(63008);n({target:"Array",proto:!0,forced:!r(43940)&&s>79&&s<83||!a("reduce")},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},83701:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(26719),s=i([].reverse),o=[1,2];n({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})},56569:(e,t,r)=>{var n=r(5613),i=r(26719),a=r(80866),s=r(80831),o=r(70675),c=r(69389),u=r(10380),l=r(94417),h=r(4282),f=r(10378),p=r(27825),y=f("slice"),d=h("species"),g=Array,m=Math.max;n({target:"Array",proto:!0,forced:!y},{slice:function(e,t){var r,n,h,f=u(this),y=c(f),v=o(e,y),w=o(void 0===t?y:t,y);if(i(f)&&(a(r=f.constructor)&&(r===g||i(r.prototype))?r=void 0:s(r)&&null===(r=r[d])&&(r=void 0),r===g||void 0===r))return p(f,v,w);for(h=0,n=new(void 0===r?g:r)(m(w-v,0));v<w;v++,h++)v in f&&l(n,h,f[v]);return n.length=h,n}})},42315:(e,t,r)=>{var n=r(5613),i=r(34104).some;n({target:"Array",proto:!0,forced:!r(55397)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},33975:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(44977),s=r(83628),o=r(69389),c=r(81305),u=r(92618),l=r(5234),h=r(9295),f=r(55397),p=r(32222),y=r(84598),d=r(63008),g=r(17340),m=[],v=i(m.sort),w=i(m.push),b=l(function(){m.sort(void 0)}),k=l(function(){m.sort(null)}),E=f("sort"),A=!l(function(){if(d)return d<70;if(!p||!(p>3)){if(y)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:t+n,v:r})}for(m.sort(function(e,t){return t.v-e.v}),n=0;n<m.length;n++)t=m[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}});n({target:"Array",proto:!0,forced:b||!k||!E||!A},{sort:function(e){void 0!==e&&a(e);var t,r,n=s(this);if(A)return void 0===e?v(n):v(n,e);var i=[],l=o(n);for(r=0;r<l;r++)r in n&&w(i,n[r]);for(h(i,function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:u(t)>u(r)?1:-1}),t=o(i),r=0;r<t;)n[r]=i[r++];for(;r<l;)c(n,r++);return n}})},5213:(e,t,r)=>{r(43900)("Array")},68803:(e,t,r)=>{var n=r(5613),i=r(83628),a=r(70675),s=r(76744),o=r(69389),c=r(14224),u=r(14578),l=r(75022),h=r(94417),f=r(81305),p=r(10378)("splice"),y=Math.max,d=Math.min;n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var r,n,p,g,m,v,w=i(this),b=o(w),k=a(e,b),E=arguments.length;for(0===E?r=n=0:1===E?(r=0,n=b-k):(r=E-2,n=d(y(s(t),0),b-k)),u(b+r-n),p=l(w,n),g=0;g<n;g++)(m=k+g)in w&&h(p,g,w[m]);if(p.length=n,r<n){for(g=k;g<b-n;g++)m=g+n,v=g+r,m in w?w[v]=w[m]:f(w,v);for(g=b;g>b-n+r;g--)f(w,g-1)}else if(r>n)for(g=b-n;g>k;g--)m=g+n-1,v=g+r-1,m in w?w[v]=w[m]:f(w,v);for(g=0;g<r;g++)w[g+k]=arguments[g+2];return c(w,b-n+r),p}})},88705:(e,t,r)=>{var n=r(5613),i=r(61433),a=r(10380),s=r(95458),o=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),o)}}),s("toReversed")},90902:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(44977),s=r(10380),o=r(76759),c=r(82509),u=r(95458),l=Array,h=i(c("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){return void 0!==e&&a(e),h(o(l,s(this)),e)}}),u("toSorted")},54843:(e,t,r)=>{var n=r(5613),i=r(95458),a=r(14578),s=r(69389),o=r(70675),c=r(10380),u=r(76744),l=Array,h=Math.max,f=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,p,y=c(this),d=s(y),g=o(e,d),m=arguments.length,v=0;for(0===m?r=n=0:1===m?(r=0,n=d-g):(r=m-2,n=f(h(u(t),0),d-g)),p=l(i=a(d+r-n));v<g;v++)p[v]=y[v];for(;v<g+r;v++)p[v]=arguments[v-g+2];for(;v<i;v++)p[v]=y[v+n-r];return p}}),i("toSpliced")},98752:(e,t,r)=>{r(95458)("flatMap")},95483:(e,t,r)=>{r(95458)("flat")},27534:(e,t,r)=>{var n=r(5613),i=r(83628),a=r(69389),s=r(14224),o=r(81305),c=r(14578);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){c(r+n);for(var u=r;u--;){var l=u+n;u in t?t[l]=t[u]:o(t,l)}for(var h=0;h<n;h++)t[h]=arguments[h]}return s(t,r+n)}})},66283:(e,t,r)=>{var n=r(5613),i=r(66803),a=r(10380),s=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),s,e,t)}})},28008:(e,t,r)=>{var n=r(5613),i=r(98633);n({global:!0,constructor:!0,forced:!r(58732)},{DataView:i.DataView})},70974:(e,t,r)=>{r(28008)},20756:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(5234)(function(){return 120!==new Date(16e11).getYear()}),s=i(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:a},{getYear:function(){return s(this)-1900}})},73552:(e,t,r)=>{var n=r(5613),i=r(16881),a=Date,s=i(a.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return s(new a)}})},32272:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(76744),s=Date.prototype,o=i(s.getTime),c=i(s.setFullYear);n({target:"Date",proto:!0},{setYear:function(e){o(this);var t=a(e);return c(this,t>=0&&t<=99?t+1900:t)}})},58942:(e,t,r)=>{r(5613)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})},8737:(e,t,r)=>{var n=r(5613),i=r(64947);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},8094:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(83628),s=r(30290);n({target:"Date",proto:!0,arity:1,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(e){var t=a(this),r=s(t,"number");return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},60595:(e,t,r)=>{var n=r(74418),i=r(97509),a=r(48089),s=r(4282)("toPrimitive"),o=Date.prototype;n(o,s)||i(o,s,a)},87573:(e,t,r)=>{var n=r(16881),i=r(97509),a=Date.prototype,s="Invalid Date",o="toString",c=n(a[o]),u=n(a.getTime);String(new Date(NaN))!==s&&i(a,o,function(){var e=u(this);return e==e?c(this):s})},97107:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(40646),s=r(76208),o="WebAssembly",c=i[o],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=s(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},h=function(e,t){if(c&&c[e]){var r={};r[e]=s(o+"."+e,t,u),n({target:o,stat:!0,constructor:!0,arity:1,forced:u},r)}};l("Error",function(e){return function(t){return a(e,this,arguments)}}),l("EvalError",function(e){return function(t){return a(e,this,arguments)}}),l("RangeError",function(e){return function(t){return a(e,this,arguments)}}),l("ReferenceError",function(e){return function(t){return a(e,this,arguments)}}),l("SyntaxError",function(e){return function(t){return a(e,this,arguments)}}),l("TypeError",function(e){return function(t){return a(e,this,arguments)}}),l("URIError",function(e){return function(t){return a(e,this,arguments)}}),h("CompileError",function(e){return function(t){return a(e,this,arguments)}}),h("LinkError",function(e){return function(t){return a(e,this,arguments)}}),h("RuntimeError",function(e){return function(t){return a(e,this,arguments)}})},38909:(e,t,r)=>{var n=r(97509),i=r(93457),a=Error.prototype;a.toString!==i&&n(a,"toString",i)},125:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(92618),s=i("".charAt),o=i("".charCodeAt),c=i(/./.exec),u=i(1..toString),l=i("".toUpperCase),h=/[\w*+\-./@]/,f=function(e,t){for(var r=u(e,16);r.length<t;)r="0"+r;return r};n({global:!0},{escape:function(e){for(var t,r,n=a(e),i="",u=n.length,p=0;p<u;)c(h,t=s(n,p++))?i+=t:(r=o(t,0))<256?i+="%"+f(r,2):i+="%u"+l(f(r,4));return i}})},58437:(e,t,r)=>{var n=r(5613),i=r(46435);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},10530:(e,t,r)=>{var n=r(14188),i=r(80831),a=r(64466),s=r(4578),o=r(4282),c=r(74530),u=o("hasInstance"),l=Function.prototype;u in l||a.f(l,u,{value:c(function(e){if(!n(this)||!i(e))return!1;var t=this.prototype;return i(t)?s(t,e):e instanceof this},u)})},93277:(e,t,r)=>{var n=r(96893),i=r(92735).EXISTS,a=r(16881),s=r(10997),o=Function.prototype,c=a(o.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=a(u.exec);n&&!i&&s(o,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},1402:(e,t,r)=>{var n=r(5613),i=r(79117);n({global:!0,forced:i.globalThis!==i},{globalThis:i})},82438:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(40286),s=r(3770),o=r(14188),c=r(91786),u=r(10997),l=r(94417),h=r(5234),f=r(74418),p=r(4282),y=r(52037).IteratorPrototype,d=r(96893),g=r(1942),m="constructor",v="Iterator",w=p("toStringTag"),b=TypeError,k=i[v],E=g||!o(k)||k.prototype!==y||!h(function(){k({})}),A=function(){if(a(this,y),c(this)===y)throw new b("Abstract class Iterator not directly constructable")},x=function(e,t){d?u(y,e,{configurable:!0,get:function(){return t},set:function(t){if(s(this),this===y)throw new b("You can't redefine this property");f(this,e)?this[e]=t:l(this,e,t)}}):y[e]=t};f(y,w)||x(w,v),(E||!f(y,m)||y[m]===Object)&&x(m,A),A.prototype=y,n({global:!0,constructor:!0,forced:E},{Iterator:A})},42521:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(3770),s=r(96002),o=r(28616),c=r(80939),u=r(32331),l=r(1942),h=u(function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=a(i(r,t)),this.done=!!e.done)return;if(e=a(i(r,t)),!(this.done=!!e.done))return e.value});n({target:"Iterator",proto:!0,real:!0,forced:l},{drop:function(e){a(this);var t=c(o(+e));return new h(s(this),{remaining:t})}})},2989:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(44977),s=r(3770),o=r(96002);n({target:"Iterator",proto:!0,real:!0},{every:function(e){s(this),a(e);var t=o(this),r=0;return!i(t,function(t,n){if(!e(t,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},12266:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(3770),o=r(96002),c=r(32331),u=r(34412),l=r(1942),h=c(function(){for(var e,t,r=this.iterator,n=this.predicate,a=this.next;;){if(e=s(i(a,r)),this.done=!!e.done)return;if(u(r,n,[t=e.value,this.counter++],!0))return t}});n({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(e){return s(this),a(e),new h(o(this),{predicate:e})}})},99819:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(44977),s=r(3770),o=r(96002);n({target:"Iterator",proto:!0,real:!0},{find:function(e){s(this),a(e);var t=o(this),r=0;return i(t,function(t,n){if(e(t,r++))return n(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},91020:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(3770),o=r(96002),c=r(41829),u=r(32331),l=r(88500),h=r(1942),f=u(function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=s(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){l(r,"throw",e)}if(e=s(i(this.next,r)),this.done=!!e.done)return;try{this.inner=c(n(e.value,this.counter++),!1)}catch(e){l(r,"throw",e)}}});n({target:"Iterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return s(this),a(e),new f(o(this),{mapper:e,inner:null})}})},57327:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(44977),s=r(3770),o=r(96002);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){s(this),a(e);var t=o(this),r=0;i(t,function(t){e(t,r++)},{IS_RECORD:!0})}})},29688:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(83628),s=r(4578),o=r(52037).IteratorPrototype,c=r(32331),u=r(41829),l=r(1942),h=c(function(){return i(this.next,this.iterator)},!0);n({target:"Iterator",stat:!0,forced:l},{from:function(e){var t=u("string"==typeof e?a(e):e,!0);return s(o,t.iterator)?t.iterator:new h(t)}})},50020:(e,t,r)=>{var n=r(5613),i=r(46598);n({target:"Iterator",proto:!0,real:!0,forced:r(1942)},{map:i})},74786:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(44977),s=r(3770),o=r(96002),c=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){s(this),a(e);var t=o(this),r=arguments.length<2,n=r?void 0:arguments[1],u=0;if(i(t,function(t){r?(r=!1,n=t):n=e(n,t,u),u++},{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return n}})},34840:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(44977),s=r(3770),o=r(96002);n({target:"Iterator",proto:!0,real:!0},{some:function(e){s(this),a(e);var t=o(this),r=0;return i(t,function(t,n){if(e(t,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},57147:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(3770),s=r(96002),o=r(28616),c=r(80939),u=r(32331),l=r(88500),h=r(1942),f=u(function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,l(e,"normal",void 0);var t=a(i(this.next,e));if(!(this.done=!!t.done))return t.value});n({target:"Iterator",proto:!0,real:!0,forced:h},{take:function(e){a(this);var t=c(o(+e));return new f(s(this),{remaining:t})}})},32225:(e,t,r)=>{var n=r(5613),i=r(3770),a=r(38873),s=r(96002),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(s(i(this)),o,{that:e,IS_RECORD:!0}),e}})},64727:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(40646),s=r(39944),o=r(16881),c=r(5234),u=r(14188),l=r(6032),h=r(27825),f=r(58254),p=r(48944),y=String,d=i("JSON","stringify"),g=o(/./.exec),m=o("".charAt),v=o("".charCodeAt),w=o("".replace),b=o(1..toString),k=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,x=!p||c(function(){var e=i("Symbol")("stringify detection");return"[null]"!==d([e])||"{}"!==d({a:e})||"{}"!==d(Object(e))}),S=c(function(){return'"\udf06\ud834"'!==d("\uDF06\uD834")||'"\udead"'!==d("\uDEAD")}),K=function(e,t){var r=h(arguments),n=f(t);if(!(!u(n)&&(void 0===e||l(e))))return r[1]=function(e,t){if(u(n)&&(t=s(n,this,y(e),t)),!l(t))return t},a(d,null,r)},P=function(e,t,r){var n=m(r,t-1),i=m(r,t+1);return g(E,e)&&!g(A,i)||g(A,e)&&!g(E,n)?"\\u"+b(v(e,0),16):e};d&&n({target:"JSON",stat:!0,arity:3,forced:x||S},{stringify:function(e,t,r){var n=h(arguments),i=a(x?K:d,null,n);return S&&"string"==typeof i?w(i,k,P):i}})},88794:(e,t,r)=>{var n=r(79117);r(93754)(n.JSON,"JSON",!0)},77920:(e,t,r)=>{r(36351)("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r(63231))},56189:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(44977),s=r(39509),o=r(38873),c=r(98093),u=r(1942),l=r(5234),h=c.Map,f=c.has,p=c.get,y=c.set,d=i([].push),g=u||l(function(){return 1!==h.groupBy("ab",function(e){return e}).get("a").length});n({target:"Map",stat:!0,forced:u||g},{groupBy:function(e,t){s(e),a(t);var r=new h,n=0;return o(e,function(e){var i=t(e,n++);f(r,i)?d(p(r,i),e):y(r,i,[e])}),r}})},68470:(e,t,r)=>{r(77920)},62868:(e,t,r)=>{var n=r(5613),i=r(47575),a=Math.acosh,s=Math.log,o=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!a||710!==Math.floor(a(Number.MAX_VALUE))||a(1/0)!==1/0},{acosh:function(e){var t=+e;return t<1?NaN:t>94906265.62425156?s(t)+c:i(t-1+o(t-1)*o(t+1))}})},56855:(e,t,r)=>{var n=r(5613),i=Math.asinh,a=Math.log,s=Math.sqrt;n({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){var r=+t;return isFinite(r)&&0!==r?r<0?-e(-r):a(r+s(r*r+1)):r}})},28796:(e,t,r)=>{var n=r(5613),i=Math.atanh,a=Math.log;n({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){var t=+e;return 0===t?t:a((1+t)/(1-t))/2}})},1059:(e,t,r)=>{var n=r(5613),i=r(40579),a=Math.abs,s=Math.pow;n({target:"Math",stat:!0},{cbrt:function(e){var t=+e;return i(t)*s(a(t),1/3)}})},78220:(e,t,r)=>{var n=r(5613),i=Math.floor,a=Math.log,s=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(e){var t=e>>>0;return t?31-i(a(t+.5)*s):32}})},77997:(e,t,r)=>{var n=r(5613),i=r(44557),a=Math.cosh,s=Math.abs,o=Math.E;n({target:"Math",stat:!0,forced:!a||a(710)===1/0},{cosh:function(e){var t=i(s(e)-1)+1;return o/2*(t+1/(t*o*o))}})},58367:(e,t,r)=>{var n=r(5613),i=r(44557);n({target:"Math",stat:!0,forced:i!==Math.expm1},{expm1:i})},97018:(e,t,r)=>{r(5613)({target:"Math",stat:!0},{fround:r(42420)})},28900:(e,t,r)=>{var n=r(5613),i=Math.hypot,a=Math.abs,s=Math.sqrt;n({target:"Math",stat:!0,arity:2,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,i=0,o=0,c=arguments.length,u=0;o<c;)r=a(arguments[o++]),u<r?(i=i*(n=u/r)*n+1,u=r):r>0?i+=(n=r/u)*n:i+=r;return u===1/0?1/0:u*s(i)}})},88435:(e,t,r)=>{var n=r(5613),i=r(5234),a=Math.imul;n({target:"Math",stat:!0,forced:i(function(){return -5!==a(0xffffffff,5)||2!==a.length})},{imul:function(e,t){var r=+e,n=+t,i=65535&r,a=65535&n;return 0|i*a+((65535&r>>>16)*a+i*(65535&n>>>16)<<16>>>0)}})},19505:(e,t,r)=>{r(5613)({target:"Math",stat:!0},{log10:r(48055)})},19985:(e,t,r)=>{r(5613)({target:"Math",stat:!0},{log1p:r(47575)})},82484:(e,t,r)=>{var n=r(5613),i=Math.log,a=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return i(e)/a}})},14549:(e,t,r)=>{r(5613)({target:"Math",stat:!0},{sign:r(40579)})},7458:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(44557),s=Math.abs,o=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:i(function(){return -2e-17!==Math.sinh(-2e-17)})},{sinh:function(e){var t=+e;return 1>s(t)?(a(t)-a(-t))/2:(o(t-1)-o(-t-1))*(c/2)}})},54073:(e,t,r)=>{var n=r(5613),i=r(44557),a=Math.exp;n({target:"Math",stat:!0},{tanh:function(e){var t=+e,r=i(t),n=i(-t);return r===1/0?1:n===1/0?-1:(r-n)/(a(t)+a(-t))}})},51806:(e,t,r)=>{r(93754)(Math,"Math",!0)},37324:(e,t,r)=>{r(5613)({target:"Math",stat:!0},{trunc:r(60142)})},73185:(e,t,r)=>{var n=r(5613),i=r(1942),a=r(96893),s=r(79117),o=r(49120),c=r(16881),u=r(68489),l=r(74418),h=r(44166),f=r(4578),p=r(6032),y=r(30290),d=r(5234),g=r(25629).f,m=r(9304).f,v=r(64466).f,w=r(65881),b=r(92771).trim,k="Number",E=s[k],A=o[k],x=E.prototype,S=s.TypeError,K=c("".slice),P=c("".charCodeAt),D=function(e){var t=y(e,"number");return"bigint"==typeof t?t:U(t)},U=function(e){var t,r,n,i,a,s,o,c,u=y(e,"number");if(p(u))throw new S("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2){if(43===(t=P(u=b(u),0))||45===t){if(88===(r=P(u,2))||120===r)return NaN}else if(48===t){switch(P(u,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(o=0,s=(a=K(u,2)).length;o<s;o++)if((c=P(a,o))<48||c>i)return NaN;return parseInt(a,n)}}return+u},_=u(k,!E(" 0o1")||!E("0b1")||E("+0x1")),I=function(e){var t,r=arguments.length<1?0:E(D(e));return(t=this,f(x,t)&&d(function(){w(t)}))?h(Object(r),this,I):r};I.prototype=x,_&&!i&&(x.constructor=I),n({global:!0,constructor:!0,wrap:!0,forced:_},{Number:I});var T=function(e,t){for(var r,n=a?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;n.length>i;i++)l(t,r=n[i])&&!l(e,r)&&v(e,r,m(t,r))};i&&A&&T(o[k],A),(_||i)&&T(o[k],E)},70151:(e,t,r)=>{r(5613)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:2220446049250313e-31})},79305:(e,t,r)=>{r(5613)({target:"Number",stat:!0},{isFinite:r(18807)})},20302:(e,t,r)=>{r(5613)({target:"Number",stat:!0},{isInteger:r(14752)})},13117:(e,t,r)=>{r(5613)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},90724:(e,t,r)=>{var n=r(5613),i=r(14752),a=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&0x1fffffffffffff>=a(e)}})},18462:(e,t,r)=>{r(5613)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:0x1fffffffffffff})},2148:(e,t,r)=>{r(5613)({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-0x1fffffffffffff})},98201:(e,t,r)=>{var n=r(5613),i=r(84243);n({target:"Number",stat:!0,forced:Number.parseFloat!==i},{parseFloat:i})},64742:(e,t,r)=>{var n=r(5613),i=r(49364);n({target:"Number",stat:!0,forced:Number.parseInt!==i},{parseInt:i})},59290:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(76744),s=r(65881),o=r(79380),c=r(48055),u=r(5234),l=RangeError,h=String,f=isFinite,p=Math.abs,y=Math.floor,d=Math.pow,g=Math.round,m=i(1..toExponential),v=i(o),w=i("".slice),b="-6.9000e-11"===m(-69e-12,4)&&"1.25e+0"===m(1.255,2)&&"1.235e+4"===m(12345,3)&&"3e+1"===m(25,0);n({target:"Number",proto:!0,forced:!b||!(u(function(){m(1,1/0)})&&u(function(){m(1,-1/0)}))||!!u(function(){m(1/0,1/0),m(NaN,1/0)})},{toExponential:function(e){var t,r,n,i,o=s(this);if(void 0===e)return m(o);var u=a(e);if(!f(o))return String(o);if(u<0||u>20)throw new l("Incorrect fraction digits");if(b)return m(o,u);var k="";if(o<0&&(k="-",o=-o),0===o)r=0,t=v("0",u+1);else{var E=d(10,(r=y(c(o)))-u),A=g(o/E);2*o>=(2*A+1)*E&&(A+=1),A>=d(10,u+1)&&(A/=10,r+=1),t=h(A)}return 0!==u&&(t=w(t,0,1)+"."+w(t,1)),0===r?(n="+",i="0"):(n=r>0?"+":"-",i=h(p(r))),k+(t+="e"+n+i)}})},17403:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(76744),s=r(65881),o=r(79380),c=r(5234),u=RangeError,l=String,h=Math.floor,f=i(o),p=i("".slice),y=i(1..toFixed),d=function(e,t,r){return 0===t?r:t%2==1?d(e,t-1,r*e):d(e*e,t/2,r)},g=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},m=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=h(i/1e7)},v=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=h(n/t),n=n%t*1e7},w=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=l(e[t]);r=""===r?n:r+f("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c(function(){return"0.000"!==y(8e-5,3)||"1"!==y(.9,0)||"1.25"!==y(1.255,2)||"1000000000000000128"!==y(0xde0b6b3a7640080,0)})||!c(function(){y({})})},{toFixed:function(e){var t,r,n,i,o=s(this),c=a(e),h=[0,0,0,0,0,0],y="",b="0";if(c<0||c>20)throw new u("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return l(o);if(o<0&&(y="-",o=-o),o>1e-21){if(r=((t=g(o*d(2,69,1))-69)<0?o*d(2,-t,1):o/d(2,t,1))*0x10000000000000,(t=52-t)>0){for(m(h,0,r),n=c;n>=7;)m(h,1e7,0),n-=7;for(m(h,d(10,n,1),0),n=t-1;n>=23;)v(h,8388608),n-=23;v(h,1<<n),m(h,1,1),v(h,2),b=w(h)}else m(h,0,r),m(h,1<<-t,0),b=w(h)+f("0",c)}return c>0?y+((i=b.length)<=c?"0."+f("0",c-i)+b:p(b,0,i-c)+"."+p(b,i-c)):y+b}})},78601:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(5234),s=r(65881),o=i(1..toPrecision);n({target:"Number",proto:!0,forced:a(function(){return"1"!==o(1,void 0)})||!a(function(){o({})})},{toPrecision:function(e){return void 0===e?o(s(this)):o(s(this),e)}})},87050:(e,t,r)=>{var n=r(5613),i=r(69456);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},53795:(e,t,r)=>{r(5613)({target:"Object",stat:!0,sham:!r(96893)},{create:r(77065)})},92546:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(85798),s=r(44977),o=r(83628),c=r(64466);i&&n({target:"Object",proto:!0,forced:a},{__defineGetter__:function(e,t){c.f(o(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},48404:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(30).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!i},{defineProperties:a})},75668:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(64466).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==a,sham:!i},{defineProperty:a})},5422:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(85798),s=r(44977),o=r(83628),c=r(64466);i&&n({target:"Object",proto:!0,forced:a},{__defineSetter__:function(e,t){c.f(o(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},69431:(e,t,r)=>{var n=r(5613),i=r(4844).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},45968:(e,t,r)=>{var n=r(5613),i=r(39391),a=r(5234),s=r(80831),o=r(38118).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:a(function(){c(1)}),sham:!i},{freeze:function(e){return c&&s(e)?c(o(e)):e}})},29742:(e,t,r)=>{var n=r(5613),i=r(38873),a=r(94417);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,function(e,r){a(t,e,r)},{AS_ENTRIES:!0}),t}})},7678:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(10380),s=r(9304).f,o=r(96893);n({target:"Object",stat:!0,forced:!o||i(function(){s(1)}),sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},81909:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(73168),s=r(10380),o=r(9304),c=r(94417);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,r,n=s(e),i=o.f,u=a(n),l={},h=0;u.length>h;)void 0!==(r=i(n,t=u[h++]))&&c(l,t,r);return l}})},66963:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(43701).f;n({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:a})},53786:(e,t,r)=>{var n=r(5613),i=r(48944),a=r(5234),s=r(30156),o=r(83628);n({target:"Object",stat:!0,forced:!i||a(function(){s.f(1)})},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(o(e)):[]}})},2380:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(83628),s=r(91786),o=r(50680);n({target:"Object",stat:!0,forced:i(function(){s(1)}),sham:!o},{getPrototypeOf:function(e){return s(a(e))}})},34232:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(16881),s=r(44977),o=r(39509),c=r(42344),u=r(38873),l=r(5234),h=Object.groupBy,f=i("Object","create"),p=a([].push);n({target:"Object",stat:!0,forced:!h||l(function(){return 1!==h("ab",function(e){return e}).a.length})},{groupBy:function(e,t){o(e),s(t);var r=f(null),n=0;return u(e,function(e){var i=c(t(e,n++));i in r?p(r[i],e):r[i]=[e]}),r}})},32082:(e,t,r)=>{r(5613)({target:"Object",stat:!0},{hasOwn:r(74418)})},92101:(e,t,r)=>{var n=r(5613),i=r(11927);n({target:"Object",stat:!0,forced:Object.isExtensible!==i},{isExtensible:i})},13626:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(80831),s=r(38689),o=r(65469),c=Object.isFrozen;n({target:"Object",stat:!0,forced:o||i(function(){c(1)})},{isFrozen:function(e){return!a(e)||!!o&&"ArrayBuffer"===s(e)||!!c&&c(e)}})},7148:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(80831),s=r(38689),o=r(65469),c=Object.isSealed;n({target:"Object",stat:!0,forced:o||i(function(){c(1)})},{isSealed:function(e){return!a(e)||!!o&&"ArrayBuffer"===s(e)||!!c&&c(e)}})},14183:(e,t,r)=>{r(5613)({target:"Object",stat:!0},{is:r(97501)})},68291:(e,t,r)=>{var n=r(5613),i=r(83628),a=r(57137);n({target:"Object",stat:!0,forced:r(5234)(function(){a(1)})},{keys:function(e){return a(i(e))}})},13177:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(85798),s=r(83628),o=r(42344),c=r(91786),u=r(9304).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupGetter__:function(e){var t,r=s(this),n=o(e);do if(t=u(r,n))return t.get;while(r=c(r))}})},12501:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(85798),s=r(83628),o=r(42344),c=r(91786),u=r(9304).f;i&&n({target:"Object",proto:!0,forced:a},{__lookupSetter__:function(e){var t,r=s(this),n=o(e);do if(t=u(r,n))return t.set;while(r=c(r))}})},94568:(e,t,r)=>{var n=r(5613),i=r(80831),a=r(38118).onFreeze,s=r(39391),o=r(5234),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:o(function(){c(1)}),sham:!s},{preventExtensions:function(e){return c&&i(e)?c(a(e)):e}})},17265:(e,t,r)=>{var n=r(96893),i=r(10997),a=r(80831),s=r(16712),o=r(83628),c=r(39509),u=Object.getPrototypeOf,l=Object.setPrototypeOf,h=Object.prototype,f="__proto__";if(n&&u&&l&&!(f in h))try{i(h,f,{configurable:!0,get:function(){return u(o(this))},set:function(e){var t=c(this);s(e)&&a(t)&&l(t,e)}})}catch(e){}},55922:(e,t,r)=>{var n=r(5613),i=r(80831),a=r(38118).onFreeze,s=r(39391),o=r(5234),c=Object.seal;n({target:"Object",stat:!0,forced:o(function(){c(1)}),sham:!s},{seal:function(e){return c&&i(e)?c(a(e)):e}})},1280:(e,t,r)=>{r(5613)({target:"Object",stat:!0},{setPrototypeOf:r(5054)})},80630:(e,t,r)=>{var n=r(79345),i=r(97509),a=r(62244);n||i(Object.prototype,"toString",a,{unsafe:!0})},12353:(e,t,r)=>{var n=r(5613),i=r(4844).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},27968:(e,t,r)=>{var n=r(5613),i=r(84243);n({global:!0,forced:parseFloat!==i},{parseFloat:i})},31759:(e,t,r)=>{var n=r(5613),i=r(49364);n({global:!0,forced:parseInt!==i},{parseInt:i})},16560:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(59444),o=r(96042),c=r(38873);n({target:"Promise",stat:!0,forced:r(76292)},{allSettled:function(e){var t=this,r=s.f(t),n=r.resolve,u=r.reject,l=o(function(){var r=a(t.resolve),s=[],o=0,u=1;c(e,function(e){var a=o++,c=!1;u++,i(r,t,e).then(function(e){!c&&(c=!0,s[a]={status:"fulfilled",value:e},--u||n(s))},function(e){!c&&(c=!0,s[a]={status:"rejected",reason:e},--u||n(s))})}),--u||n(s)});return l.error&&u(l.value),r.promise}})},15528:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(59444),o=r(96042),c=r(38873);n({target:"Promise",stat:!0,forced:r(76292)},{all:function(e){var t=this,r=s.f(t),n=r.resolve,u=r.reject,l=o(function(){var r=a(t.resolve),s=[],o=0,l=1;c(e,function(e){var a=o++,c=!1;l++,i(r,t,e).then(function(e){!c&&(c=!0,s[a]=e,--l||n(s))},u)}),--l||n(s)});return l.error&&u(l.value),r.promise}})},51077:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(5604),o=r(59444),c=r(96042),u=r(38873),l=r(76292),h="No one promise resolved";n({target:"Promise",stat:!0,forced:l},{any:function(e){var t=this,r=s("AggregateError"),n=o.f(t),l=n.resolve,f=n.reject,p=c(function(){var n=a(t.resolve),s=[],o=0,c=1,p=!1;u(e,function(e){var a=o++,u=!1;c++,i(n,t,e).then(function(e){u||p||(p=!0,l(e))},function(e){!u&&!p&&(u=!0,s[a]=e,--c||f(new r(s,h)))})}),--c||f(new r(s,h))});return p.error&&f(p.value),n.promise}})},44348:(e,t,r)=>{var n=r(5613),i=r(1942),a=r(27301).CONSTRUCTOR,s=r(16453),o=r(5604),c=r(14188),u=r(97509),l=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(s)){var h=o("Promise").prototype.catch;l.catch!==h&&u(l,"catch",h,{unsafe:!0})}},54267:(e,t,r)=>{var n,i,a,s,o=r(5613),c=r(1942),u=r(43940),l=r(79117),h=r(39944),f=r(97509),p=r(5054),y=r(93754),d=r(43900),g=r(44977),m=r(14188),v=r(80831),w=r(40286),b=r(97964),k=r(83474).set,E=r(51982),A=r(3306),x=r(96042),S=r(68648),K=r(43086),P=r(16453),D=r(27301),U=r(59444),_="Promise",I=D.CONSTRUCTOR,T=D.REJECTION_EVENT,C=D.SUBCLASSING,R=K.getterFor(_),M=K.set,O=P&&P.prototype,B=P,L=O,N=l.TypeError,F=l.document,j=l.process,z=U.f,H=z,q=!!(F&&F.createEvent&&l.dispatchEvent),W="unhandledrejection",V=function(e){var t;return!!(v(e)&&m(t=e.then))&&t},G=function(e,t){var r,n,i,a=t.value,s=1===t.state,o=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{o?(s||(2===t.rejection&&X(t),t.rejection=1),!0===o?r=a:(l&&l.enter(),r=o(a),l&&(l.exit(),i=!0)),r===e.promise?u(new N("Promise-chain cycle")):(n=V(r))?h(n,r,c,u):c(r)):u(a)}catch(e){l&&!i&&l.exit(),u(e)}},$=function(e,t){e.notified||(e.notified=!0,E(function(){for(var r,n=e.reactions;r=n.get();)G(r,e);e.notified=!1,t&&!e.rejection&&Q(e)}))},Y=function(e,t,r){var n,i;q?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!T&&(i=l["on"+e])?i(n):e===W&&A("Unhandled promise rejection",r)},Q=function(e){h(k,l,function(){var t,r=e.facade,n=e.value;if(Z(e)&&(t=x(function(){u?j.emit("unhandledRejection",n,r):Y(W,r,n)}),e.rejection=u||Z(e)?2:1,t.error))throw t.value})},Z=function(e){return 1!==e.rejection&&!e.parent},X=function(e){h(k,l,function(){var t=e.facade;u?j.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)})},J=function(e,t,r){return function(n){e(t,n,r)}},ee=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,$(e,!0))},et=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new N("Promise can't be resolved itself");var n=V(t);n?E(function(){var r={done:!1};try{h(n,t,J(et,r,e),J(ee,r,e))}catch(t){ee(r,t,e)}}):(e.value=t,e.state=1,$(e,!1))}catch(t){ee({done:!1},t,e)}}};if(I&&(L=(B=function(e){w(this,L),g(e),h(n,this);var t=R(this);try{e(J(et,t),J(ee,t))}catch(e){ee(t,e)}}).prototype,(n=function(e){M(this,{type:_,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=f(L,"then",function(e,t){var r=R(this),n=z(b(this,B));return r.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=u?j.domain:void 0,0===r.state?r.reactions.add(n):E(function(){G(n,r)}),n.promise}),i=function(){var e=new n,t=R(e);this.promise=e,this.resolve=J(et,t),this.reject=J(ee,t)},U.f=z=function(e){return e===B||e===a?new i(e):H(e)},!c&&m(P)&&O!==Object.prototype)){s=O.then,C||f(O,"then",function(e,t){var r=this;return new B(function(e,t){h(s,r,e,t)}).then(e,t)},{unsafe:!0});try{delete O.constructor}catch(e){}p&&p(O,L)}o({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:B}),y(B,_,!1,!0),d(_)},7212:(e,t,r)=>{var n=r(5613),i=r(1942),a=r(16453),s=r(5234),o=r(5604),c=r(14188),u=r(97964),l=r(48787),h=r(97509),f=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&s(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=u(this,o("Promise")),r=c(e);return this.then(r?function(r){return l(t,e()).then(function(){return r})}:e,r?function(r){return l(t,e()).then(function(){throw r})}:e)}}),!i&&c(a)){var p=o("Promise").prototype.finally;f.finally!==p&&h(f,"finally",p,{unsafe:!0})}},10865:(e,t,r)=>{r(54267),r(15528),r(44348),r(17174),r(84168),r(28235)},17174:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(44977),s=r(59444),o=r(96042),c=r(38873);n({target:"Promise",stat:!0,forced:r(76292)},{race:function(e){var t=this,r=s.f(t),n=r.reject,u=o(function(){var s=a(t.resolve);c(e,function(e){i(s,t,e).then(r.resolve,n)})});return u.error&&n(u.value),r.promise}})},84168:(e,t,r)=>{var n=r(5613),i=r(59444);n({target:"Promise",stat:!0,forced:r(27301).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},28235:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(1942),s=r(16453),o=r(27301).CONSTRUCTOR,c=r(48787),u=i("Promise"),l=a&&!o;n({target:"Promise",stat:!0,forced:a||o},{resolve:function(e){return c(l&&this===u?s:this,e)}})},85178:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(40646),s=r(27825),o=r(59444),c=r(44977),u=r(96042),l=i.Promise,h=!1;n({target:"Promise",stat:!0,forced:!l||!l.try||u(function(){l.try(function(e){h=8===e},8)}).error||!h},{try:function(e){var t=arguments.length>1?s(arguments,1):[],r=o.f(this),n=u(function(){return a(c(e),void 0,t)});return(n.error?r.reject:r.resolve)(n.value),r.promise}})},99817:(e,t,r)=>{var n=r(5613),i=r(59444);n({target:"Promise",stat:!0},{withResolvers:function(){var e=i.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})},12283:(e,t,r)=>{var n=r(5613),i=r(40646),a=r(44977),s=r(3770);n({target:"Reflect",stat:!0,forced:!r(5234)(function(){Reflect.apply(function(){})})},{apply:function(e,t,r){return i(a(e),t,s(r))}})},27270:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(40646),s=r(46435),o=r(91361),c=r(3770),u=r(80831),l=r(77065),h=r(5234),f=i("Reflect","construct"),p=Object.prototype,y=[].push,d=h(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),g=!h(function(){f(function(){})}),m=d||g;n({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(e,t){o(e),c(t);var r=arguments.length<3?e:o(arguments[2]);if(g&&!d)return f(e,t,r);if(e===r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return a(y,n,t),new(a(s,e,n))}var i=r.prototype,h=l(u(i)?i:p),m=a(e,h,t);return u(m)?m:h}})},97604:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(3770),s=r(42344),o=r(64466);n({target:"Reflect",stat:!0,forced:r(5234)(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(e,t,r){a(e);var n=s(t);a(r);try{return o.f(e,n,r),!0}catch(e){return!1}}})},73740:(e,t,r)=>{var n=r(5613),i=r(3770),a=r(9304).f;n({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=a(i(e),t);return(!r||!!r.configurable)&&delete e[t]}})},97742:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(3770),s=r(9304);n({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return s.f(a(e),t)}})},39452:(e,t,r)=>{var n=r(5613),i=r(3770),a=r(91786);n({target:"Reflect",stat:!0,sham:!r(50680)},{getPrototypeOf:function(e){return a(i(e))}})},90451:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(80831),s=r(3770),o=r(98708),c=r(9304),u=r(91786);n({target:"Reflect",stat:!0},{get:function e(t,r){var n,l,h=arguments.length<3?t:arguments[2];return s(t)===h?t[r]:(n=c.f(t,r))?o(n)?n.value:void 0===n.get?void 0:i(n.get,h):a(l=u(t))?e(l,r,h):void 0}})},83871:(e,t,r)=>{r(5613)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},1941:(e,t,r)=>{var n=r(5613),i=r(3770),a=r(11927);n({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),a(e)}})},32060:(e,t,r)=>{r(5613)({target:"Reflect",stat:!0},{ownKeys:r(73168)})},94520:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(3770);n({target:"Reflect",stat:!0,sham:!r(39391)},{preventExtensions:function(e){a(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},63536:(e,t,r)=>{var n=r(5613),i=r(3770),a=r(74121),s=r(5054);s&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),a(t);try{return s(e,t),!0}catch(e){return!1}}})},36695:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(3770),s=r(80831),o=r(98708),c=r(5234),u=r(64466),l=r(9304),h=r(91786),f=r(39123);n({target:"Reflect",stat:!0,forced:c(function(){var e=function(){},t=u.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)})},{set:function e(t,r,n){var c,p,y,d=arguments.length<4?t:arguments[3],g=l.f(a(t),r);if(!g){if(s(p=h(t)))return e(p,r,n,d);g=f(0)}if(o(g)){if(!1===g.writable||!s(d))return!1;if(c=l.f(d,r)){if(c.get||c.set||!1===c.writable)return!1;c.value=n,u.f(d,r,c)}else u.f(d,r,f(0,n))}else{if(void 0===(y=g.set))return!1;i(y,d,n)}return!0}})},37087:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(93754);n({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},8697:(e,t,r)=>{var n=r(96893),i=r(79117),a=r(16881),s=r(68489),o=r(44166),c=r(88088),u=r(77065),l=r(25629).f,h=r(4578),f=r(30473),p=r(92618),y=r(23113),d=r(95976),g=r(78679),m=r(97509),v=r(5234),w=r(74418),b=r(43086).enforce,k=r(43900),E=r(4282),A=r(56676),x=r(74609),S=E("match"),K=i.RegExp,P=K.prototype,D=i.SyntaxError,U=a(P.exec),_=a("".charAt),I=a("".replace),T=a("".indexOf),C=a("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,O=/a/g,B=new K(M)!==M,L=d.MISSED_STICKY,N=d.UNSUPPORTED_Y,F=n&&(!B||L||A||x||v(function(){return O[S]=!1,K(M)!==M||K(O)===O||"/a/i"!==String(K(M,"i"))})),j=function(e){for(var t,r=e.length,n=0,i="",a=!1;n<=r;n++){if("\\"===(t=_(e,n))){i+=t+_(e,++n);continue}a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),i+=t):i+="[\\s\\S]"}return i},z=function(e){for(var t,r=e.length,n=0,i="",a=[],s=u(null),o=!1,c=!1,l=0,h="";n<=r;n++){if("\\"===(t=_(e,n)))t+=_(e,++n);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:if(i+=t,"?:"===C(e,n+1,n+3))continue;U(R,C(e,n+1))&&(n+=2,c=!0),l++;continue;case">"===t&&c:if(""===h||w(s,h))throw new D("Invalid capture group name");s[h]=!0,a[a.length]=[h,l],c=!1,h="";continue}c?h+=t:i+=t}return[i,a]};if(s("RegExp",F)){for(var H=function(e,t){var r,n,i,a,s,u,l=h(P,this),d=f(e),g=void 0===t,m=[],v=e;if(!l&&d&&g&&e.constructor===H)return e;if((d||h(P,e))&&(e=e.source,g&&(t=y(v))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),v=e,A&&"dotAll"in M&&(n=!!t&&T(t,"s")>-1)&&(t=I(t,/s/g,"")),r=t,L&&"sticky"in M&&(i=!!t&&T(t,"y")>-1)&&N&&(t=I(t,/y/g,"")),x&&(e=(a=z(e))[0],m=a[1]),s=o(K(e,t),l?this:P,H),(n||i||m.length)&&(u=b(s),n&&(u.dotAll=!0,u.raw=H(j(e),r)),i&&(u.sticky=!0),m.length&&(u.groups=m)),e!==v)try{c(s,"source",""===v?"(?:)":v)}catch(e){}return s},q=l(K),W=0;q.length>W;)g(H,K,q[W++]);P.constructor=H,H.prototype=P,m(i,"RegExp",H,{constructor:!0})}k("RegExp")},8096:(e,t,r)=>{var n=r(96893),i=r(56676),a=r(38689),s=r(10997),o=r(43086).get,c=RegExp.prototype,u=TypeError;n&&i&&s(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!o(this).dotAll;throw new u("Incompatible receiver, RegExp required")}}})},98376:(e,t,r)=>{var n=r(5613),i=r(29342);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},47146:(e,t,r)=>{var n=r(79117),i=r(96893),a=r(10997),s=r(34932),o=r(5234),c=n.RegExp,u=c.prototype;i&&o(function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)i(s,a[s]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==n||r!==n})&&a(u,"flags",{configurable:!0,get:s})},10206:(e,t,r)=>{var n=r(96893),i=r(95976).MISSED_STICKY,a=r(38689),s=r(10997),o=r(43086).get,c=RegExp.prototype,u=TypeError;n&&i&&s(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!o(this).sticky;throw new u("Incompatible receiver, RegExp required")}}})},46929:(e,t,r)=>{r(98376);var n=r(5613),i=r(39944),a=r(14188),s=r(3770),o=r(92618),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=/./.test;n({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=s(this),r=o(e),n=t.exec;if(!a(n))return i(u,t,r);var c=i(n,t,r);return null!==c&&(s(c),!0)}})},10568:(e,t,r)=>{var n=r(92735).PROPER,i=r(97509),a=r(3770),s=r(92618),o=r(5234),c=r(23113),u="toString",l=RegExp.prototype,h=l[u],f=o(function(){return"/a/b"!==h.call({source:"a",flags:"b"})}),p=n&&h.name!==u;(f||p)&&i(l,u,function(){var e=a(this);return"/"+s(e.source)+"/"+s(c(e))},{unsafe:!0})},21130:(e,t,r)=>{r(36351)("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r(63231))},69033:(e,t,r)=>{var n=r(5613),i=r(37059);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("difference")},{difference:i})},68903:(e,t,r)=>{var n=r(5613),i=r(5234),a=r(13721);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("intersection")||i(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:a})},21018:(e,t,r)=>{var n=r(5613),i=r(99978);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("isDisjointFrom")},{isDisjointFrom:i})},1415:(e,t,r)=>{var n=r(5613),i=r(94361);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("isSubsetOf")},{isSubsetOf:i})},4448:(e,t,r)=>{var n=r(5613),i=r(97528);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("isSupersetOf")},{isSupersetOf:i})},85668:(e,t,r)=>{r(21130)},58871:(e,t,r)=>{var n=r(5613),i=r(31657);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("symmetricDifference")},{symmetricDifference:i})},56539:(e,t,r)=>{var n=r(5613),i=r(65077);n({target:"Set",proto:!0,real:!0,forced:!r(54471)("union")},{union:i})},95140:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},70950:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(39509),s=r(76744),o=r(92618),c=r(5234),u=i("".charAt);n({target:"String",proto:!0,forced:c(function(){return"\uD842"!=="𠮷".at(-2)})},{at:function(e){var t=o(a(this)),r=t.length,n=s(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:u(t,i)}})},34871:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("big")},{big:function(){return i(this,"big","","")}})},35659:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("blink")},{blink:function(){return i(this,"blink","","")}})},94290:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("bold")},{bold:function(){return i(this,"b","","")}})},87113:(e,t,r)=>{var n=r(5613),i=r(64212).codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},44612:(e,t,r)=>{var n=r(5613),i=r(95691),a=r(9304).f,s=r(97611),o=r(92618),c=r(30836),u=r(39509),l=r(36425),h=r(1942),f=i("".slice),p=Math.min,y=l("endsWith");n({target:"String",proto:!0,forced:!(!h&&!y&&function(){var e=a(String.prototype,"endsWith");return e&&!e.writable}())&&!y},{endsWith:function(e){var t=o(u(this));c(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:p(s(r),n),a=o(e);return f(t,i-a.length,i)===a}})},26495:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("fixed")},{fixed:function(){return i(this,"tt","","")}})},96865:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},11073:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},83536:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(70675),s=RangeError,o=String.fromCharCode,c=String.fromCodePoint,u=i([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&1!==c.length},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],a(t,1114111)!==t)throw new s(t+" is not a valid code point");r[i]=t<65536?o(t):o(((t-=65536)>>10)+55296,t%1024+56320)}return u(r,"")}})},47748:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(30836),s=r(39509),o=r(92618),c=r(36425),u=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(o(s(this)),o(a(e)),arguments.length>1?arguments[1]:void 0)}})},35512:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(39509),s=r(92618),o=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=s(a(this)),t=e.length,r=0;r<t;r++){var n=o(e,r);if((63488&n)==55296&&(n>=56320||++r>=t||(64512&o(e,r))!=56320))return!1}return!0}})},38984:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("italics")},{italics:function(){return i(this,"i","","")}})},11011:(e,t,r)=>{var n=r(64212).charAt,i=r(92618),a=r(43086),s=r(83217),o=r(76224),c="String Iterator",u=a.set,l=a.getterFor(c);s(String,"String",function(e){u(this,{type:c,string:i(e),index:0})},function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?o(void 0,!0):(e=n(r,i),t.index+=e.length,o(e,!1))})},9225:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("link")},{link:function(e){return i(this,"a","href",e)}})},77846:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(95691),s=r(9383),o=r(76224),c=r(39509),u=r(97611),l=r(92618),h=r(3770),f=r(44318),p=r(38689),y=r(30473),d=r(23113),g=r(12913),m=r(97509),v=r(5234),w=r(4282),b=r(97964),k=r(154),E=r(14721),A=r(43086),x=r(1942),S=w("matchAll"),K="RegExp String",P=K+" Iterator",D=A.set,U=A.getterFor(P),_=RegExp.prototype,I=TypeError,T=a("".indexOf),C=a("".matchAll),R=!!C&&!v(function(){C("a",/./)}),M=s(function(e,t,r,n){D(this,{type:P,regexp:e,string:t,global:r,unicode:n,done:!1})},K,function(){var e=U(this);if(e.done)return o(void 0,!0);var t=e.regexp,r=e.string,n=E(t,r);return null===n?(e.done=!0,o(void 0,!0)):(e.global?""===l(n[0])&&(t.lastIndex=k(r,u(t.lastIndex),e.unicode)):e.done=!0,o(n,!1))}),O=function(e){var t,r,n,i=h(this),a=l(e),s=b(i,RegExp),o=l(d(i));return t=new s(s===RegExp?i.source:i,o),r=!!~T(o,"g"),n=!!~T(o,"u"),t.lastIndex=u(i.lastIndex),new M(t,a,r,n)};n({target:"String",proto:!0,forced:R},{matchAll:function(e){var t,r,n,a=c(this);if(f(e)){if(R)return C(a,e)}else{if(y(e)&&!~T(l(c(d(e))),"g"))throw new I("`.matchAll` does not allow non-global regexes");if(R)return C(a,e);if(void 0===(r=g(e,S))&&x&&"RegExp"===p(e)&&(r=O),r)return i(r,e,a)}return t=l(a),n=RegExp(e,"g"),x?i(O,n,t):n[S](t)}}),x||S in _||m(_,S,O)},39428:(e,t,r)=>{var n=r(39944),i=r(40467),a=r(3770),s=r(44318),o=r(97611),c=r(92618),u=r(39509),l=r(12913),h=r(154),f=r(14721);i("match",function(e,t,r){return[function(t){var r=u(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n,i=a(this),s=c(e),u=r(t,i,s);if(u.done)return u.value;if(!i.global)return f(i,s);var l=i.unicode;i.lastIndex=0;for(var p=[],y=0;null!==(n=f(i,s));){var d=c(n[0]);p[y]=d,""===d&&(i.lastIndex=h(s,o(i.lastIndex),l)),y++}return 0===y?null:p}]})},74272:(e,t,r)=>{var n=r(5613),i=r(30982).end;n({target:"String",proto:!0,forced:r(84686)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},73249:(e,t,r)=>{var n=r(5613),i=r(30982).start;n({target:"String",proto:!0,forced:r(84686)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},74959:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(10380),s=r(83628),o=r(92618),c=r(69389),u=i([].push),l=i([].join);n({target:"String",stat:!0},{raw:function(e){var t=a(s(e).raw),r=c(t);if(!r)return"";for(var n=arguments.length,i=[],h=0;;){if(u(i,o(t[h++])),h===r)return l(i,"");h<n&&u(i,o(arguments[h]))}}})},63498:(e,t,r)=>{r(5613)({target:"String",proto:!0},{repeat:r(79380)})},28715:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(16881),s=r(39509),o=r(14188),c=r(44318),u=r(30473),l=r(92618),h=r(12913),f=r(23113),p=r(51113),y=r(4282),d=r(1942),g=y("replace"),m=TypeError,v=a("".indexOf),w=a("".replace),b=a("".slice),k=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,t){var r,n,a,y,E,A,x,S,K,P=s(this),D=0,U="";if(!c(e)){if((r=u(e))&&!~v(l(s(f(e))),"g"))throw new m("`.replaceAll` does not allow non-global regexes");if(n=h(e,g))return i(n,e,P,t);if(d&&r)return w(l(P),e,t)}for(a=l(P),y=l(e),(E=o(t))||(t=l(t)),x=k(1,A=y.length),S=v(a,y);-1!==S;)K=E?l(t(y,S,a)):p(y,a,S,[],void 0,t),U+=b(a,D,S)+K,D=S+A,S=S+x>a.length?-1:v(a,y,S+x);return D<a.length&&(U+=b(a,D)),U}})},14293:(e,t,r)=>{var n=r(40646),i=r(39944),a=r(16881),s=r(40467),o=r(5234),c=r(3770),u=r(14188),l=r(44318),h=r(76744),f=r(97611),p=r(92618),y=r(39509),d=r(154),g=r(12913),m=r(51113),v=r(14721),w=r(4282)("replace"),b=Math.max,k=Math.min,E=a([].concat),A=a([].push),x=a("".indexOf),S=a("".slice),K="$0"==="a".replace(/./,"$0"),P=!!/./[w]&&""===/./[w]("a","$0");s("replace",function(e,t,r){var a=P?"$":"$0";return[function(e,r){var n=y(this),a=l(e)?void 0:g(e,w);return a?i(a,e,n,r):i(t,p(n),e,r)},function(e,i){var s=c(this),o=p(e);if("string"==typeof i&&-1===x(i,a)&&-1===x(i,"$<")){var l=r(t,s,o,i);if(l.done)return l.value}var y=u(i);y||(i=p(i));var g=s.global;g&&(_=s.unicode,s.lastIndex=0);for(var w=[];null!==(I=v(s,o))&&(A(w,I),g);)""===p(I[0])&&(s.lastIndex=d(o,f(s.lastIndex),_));for(var K="",P=0,D=0;D<w.length;D++){for(var U,_,I,T,C=p((I=w[D])[0]),R=b(k(h(I.index),o.length),0),M=[],O=1;O<I.length;O++)A(M,void 0===(U=I[O])?U:String(U));var B=I.groups;if(y){var L=E([C],M,R,o);void 0!==B&&A(L,B),T=p(n(i,void 0,L))}else T=m(C,o,R,M,B,i);R>=P&&(K+=S(o,P,R)+T,P=R+C.length)}return K+S(o,P)}]},!!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!K||P)},91321:(e,t,r)=>{var n=r(39944),i=r(40467),a=r(3770),s=r(44318),o=r(39509),c=r(97501),u=r(92618),l=r(12913),h=r(14721);i("search",function(e,t,r){return[function(t){var r=o(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](u(r))},function(e){var n=a(this),i=u(e),s=r(t,n,i);if(s.done)return s.value;var o=n.lastIndex;c(o,0)||(n.lastIndex=0);var l=h(n,i);return c(n.lastIndex,o)||(n.lastIndex=o),null===l?-1:l.index}]})},45942:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("small")},{small:function(){return i(this,"small","","")}})},58225:(e,t,r)=>{var n=r(39944),i=r(16881),a=r(40467),s=r(3770),o=r(44318),c=r(39509),u=r(97964),l=r(154),h=r(97611),f=r(92618),p=r(12913),y=r(14721),d=r(95976),g=r(5234),m=d.UNSUPPORTED_Y,v=Math.min,w=i([].push),b=i("".slice),k=!g(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),E="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;a("split",function(e,t,r){var i="0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n(t,this,e,r)}:t;return[function(t,r){var a=c(this),s=o(t)?void 0:p(t,e);return s?n(s,t,a,r):n(i,f(a),t,r)},function(e,n){var a=s(this),o=f(e);if(!E){var c=r(i,a,o,n,i!==t);if(c.done)return c.value}var p=u(a,RegExp),d=a.unicode,g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"g":"y"),k=new p(m?"^(?:"+a.source+")":a,g),A=void 0===n?0xffffffff:n>>>0;if(0===A)return[];if(0===o.length)return null===y(k,o)?[o]:[];for(var x=0,S=0,K=[];S<o.length;){k.lastIndex=m?0:S;var P,D=y(k,m?b(o,S):o);if(null===D||(P=v(h(k.lastIndex+(m?S:0)),o.length))===x)S=l(o,S,d);else{if(w(K,b(o,x,S)),K.length===A)return K;for(var U=1;U<=D.length-1;U++)if(w(K,D[U]),K.length===A)return K;S=x=P}}return w(K,b(o,x)),K}]},E||!k,m)},86741:(e,t,r)=>{var n=r(5613),i=r(95691),a=r(9304).f,s=r(97611),o=r(92618),c=r(30836),u=r(39509),l=r(36425),h=r(1942),f=i("".slice),p=Math.min,y=l("startsWith");n({target:"String",proto:!0,forced:!(!h&&!y&&function(){var e=a(String.prototype,"startsWith");return e&&!e.writable}())&&!y},{startsWith:function(e){var t=o(u(this));c(e);var r=s(p(arguments.length>1?arguments[1]:void 0,t.length)),n=o(e);return f(t,r,r+n.length)===n}})},93603:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("strike")},{strike:function(){return i(this,"strike","","")}})},20635:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("sub")},{sub:function(){return i(this,"sub","","")}})},70104:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(39509),s=r(76744),o=r(92618),c=i("".slice),u=Math.max,l=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(e,t){var r,n,i=o(a(this)),h=i.length,f=s(e);return(f===1/0&&(f=0),f<0&&(f=u(h+f,0)),(r=void 0===t?h:s(t))<=0||r===1/0)?"":(n=l(f+r,h),f>=n?"":c(i,f,n))}})},15277:(e,t,r)=>{var n=r(5613),i=r(58317);n({target:"String",proto:!0,forced:r(53654)("sup")},{sup:function(){return i(this,"sup","","")}})},40221:(e,t,r)=>{var n=r(5613),i=r(39944),a=r(16881),s=r(39509),o=r(92618),c=r(5234),u=Array,l=a("".charAt),h=a("".charCodeAt),f=a([].join),p="".toWellFormed,y=p&&c(function(){return"1"!==i(p,1)});n({target:"String",proto:!0,forced:y},{toWellFormed:function(){var e=o(s(this));if(y)return i(p,e);for(var t=e.length,r=u(t),n=0;n<t;n++){var a=h(e,n);(63488&a)!=55296?r[n]=l(e,n):a>=56320||n+1>=t||(64512&h(e,n+1))!=56320?r[n]="�":(r[n]=l(e,n),r[++n]=l(e,n))}return f(r,"")}})},52465:(e,t,r)=>{r(76058);var n=r(5613),i=r(28799);n({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==i},{trimEnd:i})},90835:(e,t,r)=>{var n=r(5613),i=r(59874);n({target:"String",proto:!0,name:"trimStart",forced:void 0!==i},{trimLeft:i})},76058:(e,t,r)=>{var n=r(5613),i=r(28799);n({target:"String",proto:!0,name:"trimEnd",forced:void 0!==i},{trimRight:i})},11920:(e,t,r)=>{r(90835);var n=r(5613),i=r(59874);n({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==i},{trimStart:i})},72273:(e,t,r)=>{var n=r(5613),i=r(92771).trim;n({target:"String",proto:!0,forced:r(14425)("trim")},{trim:function(){return i(this)}})},64007:(e,t,r)=>{r(92860)("asyncIterator")},17152:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(39944),s=r(16881),o=r(1942),c=r(96893),u=r(48944),l=r(5234),h=r(74418),f=r(4578),p=r(3770),y=r(10380),d=r(42344),g=r(92618),m=r(39123),v=r(77065),w=r(57137),b=r(25629),k=r(43701),E=r(30156),A=r(9304),x=r(64466),S=r(30),K=r(74416),P=r(97509),D=r(10997),U=r(10746),_=r(40168),I=r(67588),T=r(66209),C=r(4282),R=r(90346),M=r(92860),O=r(17093),B=r(93754),L=r(43086),N=r(34104).forEach,F=_("hidden"),j="Symbol",z="prototype",H=L.set,q=L.getterFor(j),W=Object[z],V=i.Symbol,G=V&&V[z],$=i.RangeError,Y=i.TypeError,Q=i.QObject,Z=A.f,X=x.f,J=k.f,ee=K.f,et=s([].push),er=U("symbols"),en=U("op-symbols"),ei=U("wks"),ea=!Q||!Q[z]||!Q[z].findChild,es=function(e,t,r){var n=Z(W,t);n&&delete W[t],X(e,t,r),n&&e!==W&&X(W,t,n)},eo=c&&l(function(){return 7!==v(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?es:X,ec=function(e,t){var r=er[e]=v(G);return H(r,{type:j,tag:e,description:t}),c||(r.description=t),r},eu=function(e,t,r){e===W&&eu(en,t,r),p(e);var n=d(t);return(p(r),h(er,n))?(r.enumerable?(h(e,F)&&e[F][n]&&(e[F][n]=!1),r=v(r,{enumerable:m(0,!1)})):(h(e,F)||X(e,F,m(1,v(null))),e[F][n]=!0),eo(e,n,r)):X(e,n,r)},el=function(e,t){p(e);var r=y(t);return N(w(r).concat(ey(r)),function(t){(!c||a(eh,r,t))&&eu(e,t,r[t])}),e},eh=function(e){var t=d(e),r=a(ee,this,t);return(!(this===W&&h(er,t))||!!h(en,t))&&(!(r||!h(this,t)||!h(er,t)||h(this,F)&&this[F][t])||r)},ef=function(e,t){var r=y(e),n=d(t);if(!(r===W&&h(er,n))||h(en,n)){var i=Z(r,n);return i&&h(er,n)&&!(h(r,F)&&r[F][n])&&(i.enumerable=!0),i}},ep=function(e){var t=J(y(e)),r=[];return N(t,function(e){h(er,e)||h(I,e)||et(r,e)}),r},ey=function(e){var t=e===W,r=J(t?en:y(e)),n=[];return N(r,function(e){h(er,e)&&(!t||h(W,e))&&et(n,er[e])}),n};u||(P(G=(V=function(){if(f(G,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=T(e),r=function(e){var n=void 0===this?i:this;n===W&&a(r,en,e),h(n,F)&&h(n[F],t)&&(n[F][t]=!1);var s=m(1,e);try{eo(n,t,s)}catch(e){if(!(e instanceof $))throw e;es(n,t,s)}};return c&&ea&&eo(W,t,{configurable:!0,set:r}),ec(t,e)})[z],"toString",function(){return q(this).tag}),P(V,"withoutSetter",function(e){return ec(T(e),e)}),K.f=eh,x.f=eu,S.f=el,A.f=ef,b.f=k.f=ep,E.f=ey,R.f=function(e){return ec(C(e),e)},c&&(D(G,"description",{configurable:!0,get:function(){return q(this).description}}),o||P(W,"propertyIsEnumerable",eh,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),N(w(ei),function(e){M(e)}),n({target:j,stat:!0,forced:!u},{useSetter:function(){ea=!0},useSimple:function(){ea=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?v(e):el(v(e),t)},defineProperty:eu,defineProperties:el,getOwnPropertyDescriptor:ef}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ep}),O(),B(V,j),I[F]=!0},93510:(e,t,r)=>{var n=r(5613),i=r(96893),a=r(79117),s=r(16881),o=r(74418),c=r(14188),u=r(4578),l=r(92618),h=r(10997),f=r(98657),p=a.Symbol,y=p&&p.prototype;if(i&&c(p)&&(!("description"in y)||void 0!==p().description)){var d={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(y,this)?new p(e):void 0===e?p():p(e);return""===e&&(d[t]=!0),t};f(g,p),g.prototype=y,y.constructor=g;var m="Symbol(description detection)"===String(p("description detection")),v=s(y.valueOf),w=s(y.toString),b=/^Symbol\((.*)\)[^)]+$/,k=s("".replace),E=s("".slice);h(y,"description",{configurable:!0,get:function(){var e=v(this);if(o(d,e))return"";var t=w(e),r=m?E(t,7,-1):k(t,b,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},60691:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(74418),s=r(92618),o=r(10746),c=r(16577),u=o("string-to-symbol-registry"),l=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(a(u,t))return u[t];var r=i("Symbol")(t);return u[t]=r,l[r]=t,r}})},70970:(e,t,r)=>{r(92860)("hasInstance")},78643:(e,t,r)=>{r(92860)("isConcatSpreadable")},2432:(e,t,r)=>{r(92860)("iterator")},58070:(e,t,r)=>{r(17152),r(60691),r(36965),r(64727),r(53786)},36965:(e,t,r)=>{var n=r(5613),i=r(74418),a=r(6032),s=r(13174),o=r(10746),c=r(16577),u=o("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!a(e))throw TypeError(s(e)+" is not a symbol");if(i(u,e))return u[e]}})},51867:(e,t,r)=>{r(92860)("matchAll")},9957:(e,t,r)=>{r(92860)("match")},39148:(e,t,r)=>{r(92860)("replace")},83430:(e,t,r)=>{r(92860)("search")},29862:(e,t,r)=>{r(92860)("species")},27644:(e,t,r)=>{r(92860)("split")},95307:(e,t,r)=>{var n=r(92860),i=r(17093);n("toPrimitive"),i()},9392:(e,t,r)=>{var n=r(5604),i=r(92860),a=r(93754);i("toStringTag"),a(n("Symbol"),"Symbol")},23691:(e,t,r)=>{r(92860)("unscopables")},10785:(e,t,r)=>{var n=r(47223),i=r(69389),a=r(76744),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",function(e){var t=s(this),r=i(t),n=a(e),o=n>=0?n:r+n;return o<0||o>=r?void 0:t[o]})},56805:(e,t,r)=>{var n=r(16881),i=r(47223),a=n(r(656)),s=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(e,t){return a(s(this),e,t,arguments.length>2?arguments[2]:void 0)})},68553:(e,t,r)=>{var n=r(47223),i=r(34104).every,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},78357:(e,t,r)=>{var n=r(47223),i=r(38150),a=r(97429),s=r(65438),o=r(39944),c=r(16881),u=r(5234),l=n.aTypedArray,h=n.exportTypedArrayMethod,f=c("".slice);h("fill",function(e){var t=arguments.length;return l(this),o(i,this,"Big"===f(s(this),0,3)?a(e):+e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)},u(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}))},82822:(e,t,r)=>{var n=r(47223),i=r(34104).filter,a=r(87517),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function(e){var t=i(s(this),e,arguments.length>1?arguments[1]:void 0);return a(this,t)})},24014:(e,t,r)=>{var n=r(47223),i=r(34104).findIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},50821:(e,t,r)=>{var n=r(47223),i=r(80710).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},46196:(e,t,r)=>{var n=r(47223),i=r(80710).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},69631:(e,t,r)=>{var n=r(47223),i=r(34104).find,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},74313:(e,t,r)=>{r(53978)("Float32",function(e){return function(t,r,n){return e(this,t,r,n)}})},34270:(e,t,r)=>{r(53978)("Float64",function(e){return function(t,r,n){return e(this,t,r,n)}})},2587:(e,t,r)=>{var n=r(47223),i=r(34104).forEach,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function(e){i(a(this),e,arguments.length>1?arguments[1]:void 0)})},91900:(e,t,r)=>{var n=r(65772);(0,r(47223).exportTypedArrayStaticMethod)("from",r(83292),n)},31969:(e,t,r)=>{var n=r(47223),i=r(81458).includes,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},47750:(e,t,r)=>{var n=r(47223),i=r(81458).indexOf,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},57408:(e,t,r)=>{r(53978)("Int16",function(e){return function(t,r,n){return e(this,t,r,n)}})},16422:(e,t,r)=>{r(53978)("Int32",function(e){return function(t,r,n){return e(this,t,r,n)}})},36887:(e,t,r)=>{r(53978)("Int8",function(e){return function(t,r,n){return e(this,t,r,n)}})},32890:(e,t,r)=>{var n=r(79117),i=r(5234),a=r(16881),s=r(47223),o=r(33873),c=r(4282)("iterator"),u=n.Uint8Array,l=a(o.values),h=a(o.keys),f=a(o.entries),p=s.aTypedArray,y=s.exportTypedArrayMethod,d=u&&u.prototype,g=!i(function(){d[c].call([1])}),m=!!d&&d.values&&d[c]===d.values&&"values"===d.values.name,v=function(){return l(p(this))};y("entries",function(){return f(p(this))},g),y("keys",function(){return h(p(this))},g),y("values",v,g||!m,{name:"values"}),y(c,v,g||!m,{name:"values"})},9616:(e,t,r)=>{var n=r(47223),i=r(16881),a=n.aTypedArray,s=n.exportTypedArrayMethod,o=i([].join);s("join",function(e){return o(a(this),e)})},1275:(e,t,r)=>{var n=r(47223),i=r(40646),a=r(63014),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function(e){var t=arguments.length;return i(a,s(this),t>1?[e,arguments[1]]:[e])})},16240:(e,t,r)=>{var n=r(47223),i=r(34104).map,a=n.aTypedArray,s=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(e))(t)})})},15721:(e,t,r)=>{var n=r(47223),i=r(65772),a=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",function(){for(var e=0,t=arguments.length,r=new(a(this))(t);t>e;)r[e]=arguments[e++];return r},i)},74653:(e,t,r)=>{var n=r(47223),i=r(49989).right,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)})},3870:(e,t,r)=>{var n=r(47223),i=r(49989).left,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function(e){var t=arguments.length;return i(a(this),e,t,t>1?arguments[1]:void 0)})},55716:(e,t,r)=>{var n=r(47223),i=n.aTypedArray,a=n.exportTypedArrayMethod,s=Math.floor;a("reverse",function(){for(var e,t=i(this).length,r=s(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this})},36554:(e,t,r)=>{var n=r(79117),i=r(39944),a=r(47223),s=r(69389),o=r(57584),c=r(83628),u=r(5234),l=n.RangeError,h=n.Int8Array,f=h&&h.prototype,p=f&&f.set,y=a.aTypedArray,d=a.exportTypedArrayMethod,g=!u(function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]}),m=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u(function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]});d("set",function(e){y(this);var t=o(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return i(p,this,r,t);var n=this.length,a=s(r),u=0;if(a+t>n)throw new l("Wrong length");for(;u<a;)this[t+u]=r[u++]},!g||m)},77856:(e,t,r)=>{var n=r(47223),i=r(5234),a=r(27825),s=n.aTypedArray,o=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("slice",function(e,t){for(var r=a(s(this),e,t),n=o(this),i=0,c=r.length,u=new n(c);c>i;)u[i]=r[i++];return u},i(function(){new Int8Array(1).slice()}))},55852:(e,t,r)=>{var n=r(47223),i=r(34104).some,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)})},68472:(e,t,r)=>{var n=r(79117),i=r(95691),a=r(5234),s=r(44977),o=r(9295),c=r(47223),u=r(32222),l=r(84598),h=r(63008),f=r(17340),p=c.aTypedArray,y=c.exportTypedArrayMethod,d=n.Uint16Array,g=d&&i(d.prototype.sort),m=!!g&&!(a(function(){g(new d(2),null)})&&a(function(){g(new d(2),{})})),v=!!g&&!a(function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var e,t,r=new d(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(g(r,function(e,t){return(e/4|0)-(t/4|0)}),e=0;e<516;e++)if(r[e]!==n[e])return!0});y("sort",function(e){return(void 0!==e&&s(e),v)?g(this,e):o(p(this),function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r})},!v||m)},95387:(e,t,r)=>{var n=r(47223),i=r(97611),a=r(70675),s=n.aTypedArray,o=n.getTypedArrayConstructor;(0,n.exportTypedArrayMethod)("subarray",function(e,t){var r=s(this),n=r.length,c=a(e,n);return new(o(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,i((void 0===t?n:a(t,n))-c))})},41696:(e,t,r)=>{var n=r(79117),i=r(40646),a=r(47223),s=r(5234),o=r(27825),c=n.Int8Array,u=a.aTypedArray,l=a.exportTypedArrayMethod,h=[].toLocaleString,f=!!c&&s(function(){h.call(new c(1))});l("toLocaleString",function(){return i(h,f?o(u(this)):u(this),o(arguments))},s(function(){return[1,2].toLocaleString()!==new c([1,2]).toLocaleString()})||!s(function(){c.prototype.toLocaleString.call([1,2])}))},37404:(e,t,r)=>{var n=r(61433),i=r(47223),a=i.aTypedArray,s=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;s("toReversed",function(){return n(a(this),o(this))})},95803:(e,t,r)=>{var n=r(47223),i=r(16881),a=r(44977),s=r(76759),o=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);u("toSorted",function(e){void 0!==e&&a(e);var t=o(this);return l(s(c(t),t),e)})},11067:(e,t,r)=>{var n=r(47223).exportTypedArrayMethod,i=r(5234),a=r(79117),s=r(16881),o=a.Uint8Array,c=o&&o.prototype||{},u=[].toString,l=s([].join);i(function(){u.call({})})&&(u=function(){return l(this)});var h=c.toString!==u;n("toString",u,h)},90435:(e,t,r)=>{r(53978)("Uint16",function(e){return function(t,r,n){return e(this,t,r,n)}})},91885:(e,t,r)=>{r(53978)("Uint32",function(e){return function(t,r,n){return e(this,t,r,n)}})},82682:(e,t,r)=>{r(53978)("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}})},74881:(e,t,r)=>{r(53978)("Uint8",function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},33912:(e,t,r)=>{var n=r(66803),i=r(47223),a=r(15448),s=r(76744),o=r(97429),c=i.aTypedArray,u=i.getTypedArrayConstructor;(0,i.exportTypedArrayMethod)("with",{with:function(e,t){var r=c(this),i=s(e),l=a(r)?o(t):+t;return n(r,u(r),i,l)}}.with,!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}())},41338:(e,t,r)=>{var n=r(5613),i=r(16881),a=r(92618),s=String.fromCharCode,o=i("".charAt),c=i(/./.exec),u=i("".slice),l=/^[\da-f]{2}$/i,h=/^[\da-f]{4}$/i;n({global:!0},{unescape:function(e){for(var t,r,n=a(e),i="",f=n.length,p=0;p<f;){if("%"===(t=o(n,p++))){if("u"===o(n,p)){if(c(h,r=u(n,p+1,p+5))){i+=s(parseInt(r,16)),p+=5;continue}}else if(c(l,r=u(n,p,p+2))){i+=s(parseInt(r,16)),p+=2;continue}}i+=t}return i}})},68747:(e,t,r)=>{var n,i=r(39391),a=r(79117),s=r(16881),o=r(74320),c=r(38118),u=r(36351),l=r(73912),h=r(80831),f=r(43086).enforce,p=r(5234),y=r(45945),d=Object,g=Array.isArray,m=d.isExtensible,v=d.isFrozen,w=d.isSealed,b=d.freeze,k=d.seal,E=!a.ActiveXObject&&"ActiveXObject"in a,A=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},x=u("WeakMap",A,l),S=x.prototype,K=s(S.set);if(y){if(E){n=l.getConstructor(A,"WeakMap",!0),c.enable();var P=s(S.delete),D=s(S.has),U=s(S.get);o(S,{delete:function(e){if(h(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),P(this,e)||t.frozen.delete(e)}return P(this,e)},has:function(e){if(h(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),D(this,e)||t.frozen.has(e)}return D(this,e)},get:function(e){if(h(e)&&!m(e)){var t=f(this);return t.frozen||(t.frozen=new n),D(this,e)?U(this,e):t.frozen.get(e)}return U(this,e)},set:function(e,t){if(h(e)&&!m(e)){var r=f(this);r.frozen||(r.frozen=new n),D(this,e)?K(this,e,t):r.frozen.set(e,t)}else K(this,e,t);return this}})}else i&&p(function(){var e=b([]);return K(new x,e,1),!v(e)})&&o(S,{set:function(e,t){var r;return g(e)&&(v(e)?r=b:w(e)&&(r=k)),K(this,e,t),r&&r(e),this}})}},29793:(e,t,r)=>{r(68747)},15669:(e,t,r)=>{r(36351)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},r(73912))},41527:(e,t,r)=>{r(15669)},85100:(e,t,r)=>{r(69033)},27162:(e,t,r)=>{r(68903)},66403:(e,t,r)=>{r(21018)},94154:(e,t,r)=>{r(1415)},64777:(e,t,r)=>{r(4448)},38846:(e,t,r)=>{r(58871)},62896:(e,t,r)=>{r(56539)},86282:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(5604),s=r(16881),o=r(39944),c=r(5234),u=r(92618),l=r(89445),h=r(16579).c2i,f=/[^\d+/a-z]/i,p=/[\t\n\f\r ]+/g,y=/[=]{1,2}$/,d=a("atob"),g=String.fromCharCode,m=s("".charAt),v=s("".replace),w=s(f.exec),b=!!d&&!c(function(){return"hi"!==d("aGk=")}),k=b&&c(function(){return""!==d(" ")}),E=b&&!c(function(){d("a")}),A=b&&!c(function(){d()}),x=b&&1!==d.length;n({global:!0,bind:!0,enumerable:!0,forced:!b||k||E||A||x},{atob:function(e){if(l(arguments.length,1),b&&!k&&!E)return o(d,i,e);var t,r,n,s=v(u(e),p,""),c="",A=0,x=0;if(s.length%4==0&&(s=v(s,y,"")),(t=s.length)%4==1||w(f,s))throw new(a("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;A<t;)r=m(s,A++),n=x%4?64*n+h[r]:h[r],x++%4&&(c+=g(255&n>>(-2*x&6)));return c}})},39360:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(5604),s=r(16881),o=r(39944),c=r(5234),u=r(92618),l=r(89445),h=r(16579).i2c,f=a("btoa"),p=s("".charAt),y=s("".charCodeAt),d=!!f&&!c(function(){return"aGk="!==f("hi")}),g=d&&!c(function(){f()}),m=d&&c(function(){return"bnVsbA=="!==f(null)}),v=d&&1!==f.length;n({global:!0,bind:!0,enumerable:!0,forced:!d||g||m||v},{btoa:function(e){if(l(arguments.length,1),d)return o(f,i,u(e));for(var t,r,n=u(e),s="",c=0,g=h;p(n,c)||(g="=",c%1);){if((r=y(n,c+=3/4))>255)throw new(a("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s+=p(g,63&(t=t<<8|r)>>8-c%1*8)}return s}})},90761:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(83474).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==a},{clearImmediate:a})},18867:(e,t,r)=>{var n=r(79117),i=r(39429),a=r(87463),s=r(57500),o=r(88088),c=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in i)i[u]&&c(n[u]&&n[u].prototype);c(a)},47010:(e,t,r)=>{var n=r(79117),i=r(39429),a=r(87463),s=r(33873),o=r(88088),c=r(93754),u=r(4282)("iterator"),l=s.values,h=function(e,t){if(e){if(e[u]!==l)try{o(e,u,l)}catch(t){e[u]=l}if(c(e,t,!0),i[t]){for(var r in s)if(e[r]!==s[r])try{o(e,r,s[r])}catch(t){e[r]=s[r]}}}};for(var f in i)h(n[f]&&n[f].prototype,f);h(a,"DOMTokenList")},71450:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(79822),s=r(5234),o=r(77065),c=r(39123),u=r(64466).f,l=r(97509),h=r(10997),f=r(74418),p=r(40286),y=r(3770),d=r(93457),g=r(69866),m=r(38015),v=r(87308),w=r(43086),b=r(96893),k=r(1942),E="DOMException",A="DATA_CLONE_ERR",x=i("Error"),S=i(E)||function(){try{new(i("MessageChannel")||a("worker_threads").MessageChannel)().port1.postMessage(new WeakMap)}catch(e){if(e.name===A&&25===e.code)return e.constructor}}(),K=S&&S.prototype,P=x.prototype,D=w.set,U=w.getterFor(E),_="stack"in new x(E),I=function(e){return f(m,e)&&m[e].m?m[e].c:0},T=function(){p(this,C);var e=arguments.length,t=g(e<1?void 0:arguments[0]),r=g(e<2?void 0:arguments[1],"Error"),n=I(r);if(D(this,{type:E,name:r,message:t,code:n}),b||(this.name=r,this.message=t,this.code=n),_){var i=new x(t);i.name=E,u(this,"stack",c(1,v(i.stack,1)))}},C=T.prototype=o(P),R=function(e){return{enumerable:!0,configurable:!0,get:e}},M=function(e){return R(function(){return U(this)[e]})};b&&(h(C,"code",M("code")),h(C,"message",M("message")),h(C,"name",M("name"))),u(C,"constructor",c(1,T));var O=s(function(){return!(new S instanceof x)}),B=O||s(function(){return P.toString!==d||"2: 1"!==String(new S(1,2))}),L=O||s(function(){return 25!==new S(1,"DataCloneError").code}),N=O||25!==S[A]||25!==K[A],F=k?B||L||N:O;n({global:!0,constructor:!0,forced:F},{DOMException:F?T:S});var j=i(E),z=j.prototype;for(var H in B&&(k||S===j)&&l(z,"toString",d),L&&b&&S===j&&h(z,"code",R(function(){return I(y(this).name)})),m)if(f(m,H)){var q=m[H],W=q.s,V=c(6,q.c);f(j,W)||u(j,W,V),f(z,W)||u(z,W,V)}},57182:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(5604),s=r(39123),o=r(64466).f,c=r(74418),u=r(40286),l=r(44166),h=r(69866),f=r(38015),p=r(87308),y=r(96893),d=r(1942),g="DOMException",m=a("Error"),v=a(g),w=function(){u(this,b);var e=arguments.length,t=h(e<1?void 0:arguments[0]),r=h(e<2?void 0:arguments[1],"Error"),n=new v(t,r),i=new m(t);return i.name=g,o(n,"stack",s(1,p(i.stack,1))),l(n,this,w),n},b=w.prototype=v.prototype,k="stack"in new m(g),E="stack"in new v(1,2),A=v&&y&&Object.getOwnPropertyDescriptor(i,g),x=!!A&&!(A.writable&&A.configurable),S=k&&!x&&!E;n({global:!0,constructor:!0,forced:d||S},{DOMException:S?w:v});var K=a(g),P=K.prototype;if(P.constructor!==K){for(var D in d||o(P,"constructor",s(1,K)),f)if(c(f,D)){var U=f[D],_=U.s;c(K,_)||o(K,_,s(6,U.c))}}},81802:(e,t,r)=>{var n=r(5604),i=r(93754),a="DOMException";i(n(a),a)},8065:(e,t,r)=>{r(90761),r(25556)},95191:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(51982),s=r(44977),o=r(89445),c=r(5234),u=r(96893);n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:c(function(){return u&&1!==Object.getOwnPropertyDescriptor(i,"queueMicrotask").value.length})},{queueMicrotask:function(e){o(arguments.length,1),a(s(e))}})},75960:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(10997),s=r(96893),o=TypeError,c=Object.defineProperty,u=i.self!==i;try{if(s){var l=Object.getOwnPropertyDescriptor(i,"self");!u&&l&&l.get&&l.enumerable||a(i,"self",{get:function(){return i},set:function(e){if(this!==i)throw new o("Illegal invocation");c(i,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:u},{self:i})}catch(e){}},25556:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(83474).set,s=r(89203),o=i.setImmediate?s(a,!1):a;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==o},{setImmediate:o})},73040:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(89203)(i.setInterval,!0);n({global:!0,bind:!0,forced:i.setInterval!==a},{setInterval:a})},64898:(e,t,r)=>{var n=r(5613),i=r(79117),a=r(89203)(i.setTimeout,!0);n({global:!0,bind:!0,forced:i.setTimeout!==a},{setTimeout:a})},62053:(e,t,r)=>{var n=r(1942),i=r(5613),a=r(79117),s=r(5604),o=r(16881),c=r(5234),u=r(66209),l=r(14188),h=r(80866),f=r(44318),p=r(80831),y=r(6032),d=r(38873),g=r(3770),m=r(65438),v=r(74418),w=r(94417),b=r(88088),k=r(69389),E=r(89445),A=r(23113),x=r(98093),S=r(33243),K=r(29800),P=r(8850),D=r(14582),U=r(69059),_=a.Object,I=a.Array,T=a.Date,C=a.Error,R=a.TypeError,M=a.PerformanceMark,O=s("DOMException"),B=x.Map,L=x.has,N=x.get,F=x.set,j=S.Set,z=S.add,H=S.has,q=s("Object","keys"),W=o([].push),V=o((!0).valueOf),G=o(1..valueOf),$=o("".valueOf),Y=o(T.prototype.getTime),Q=u("structuredClone"),Z="DataCloneError",X="Transferring",J=function(e){return!c(function(){var t=new a.Set([7]),r=e(t),n=e(_(7));return r===t||!r.has(7)||!p(n)||7!=+n})&&e},ee=function(e,t){return!c(function(){var r=new t,n=e({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof t&&n.a.stack===r.stack)})},et=a.structuredClone,er=n||!ee(et,C)||!ee(et,O)||!!c(function(){var e=et(new a.AggregateError([1],Q,{cause:3}));return"AggregateError"!==e.name||1!==e.errors[0]||e.message!==Q||3!==e.cause}),en=!et&&J(function(e){return new M(Q,{detail:e}).detail}),ei=J(et)||en,ea=function(e){throw new O("Uncloneable type: "+e,Z)},es=function(e,t){throw new O((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",Z)},eo=function(e,t){return ei||es(t),ei(e)},ec=function(){var e;try{e=new a.DataTransfer}catch(t){try{e=new a.ClipboardEvent("").clipboardData}catch(e){}}return e&&e.items&&e.files?e:null},eu=function(e,t,r){if(L(t,e))return N(t,e);if("SharedArrayBuffer"===(r||m(e)))n=ei?ei(e):e;else{var n,i,s,o,c,u,h=a.DataView;h||l(e.slice)||es("ArrayBuffer");try{if(l(e.slice)&&!e.resizable)n=e.slice(0);else for(u=0,i=e.byteLength,s=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,n=new ArrayBuffer(i,s),o=new h(e),c=new h(n);u<i;u++)c.setUint8(u,o.getUint8(u))}catch(e){throw new O("ArrayBuffer is detached",Z)}}return F(t,e,n),n},el=function(e,t,r,n,i){var s=a[t];return p(s)||es(t),new s(eu(e.buffer,i),r,n)},eh=function(e,t){if(y(e)&&ea("Symbol"),!p(e))return e;if(t){if(L(t,e))return N(t,e)}else t=new B;var r,n,i,o,c,u,h,f,d=m(e);switch(d){case"Array":i=I(k(e));break;case"Object":i={};break;case"Map":i=new B;break;case"Set":i=new j;break;case"RegExp":i=new RegExp(e.source,A(e));break;case"Error":switch(n=e.name){case"AggregateError":i=new(s(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(s(n));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(s("WebAssembly",n));break;default:i=new C}break;case"DOMException":i=new O(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=eu(e,t,d);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===d?e.byteLength:e.length,i=el(e,d,e.byteOffset,u,t);break;case"DOMQuad":try{i=new DOMQuad(eh(e.p1,t),eh(e.p2,t),eh(e.p3,t),eh(e.p4,t))}catch(t){i=eo(e,d)}break;case"File":if(ei)try{i=ei(e),m(i)!==d&&(i=void 0)}catch(e){}if(!i)try{i=new File([e],e.name,e)}catch(e){}i||es(d);break;case"FileList":if(o=ec()){for(c=0,u=k(e);c<u;c++)o.items.add(eh(e[c],t));i=o.files}else i=eo(e,d);break;case"ImageData":try{i=new ImageData(eh(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(t){i=eo(e,d)}break;default:if(ei)i=ei(e);else switch(d){case"BigInt":i=_(e.valueOf());break;case"Boolean":i=_(V(e));break;case"Number":i=_(G(e));break;case"String":i=_($(e));break;case"Date":i=new T(Y(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(e){es(d)}break;case"DOMPoint":case"DOMPointReadOnly":r=a[d];try{i=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(e){es(d)}break;case"DOMRect":case"DOMRectReadOnly":r=a[d];try{i=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(e){es(d)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=a[d];try{i=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(e){es(d)}break;case"AudioData":case"VideoFrame":l(e.clone)||es(d);try{i=e.clone()}catch(e){ea(d)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":es(d);default:ea(d)}}switch(F(t,e,i),d){case"Array":case"Object":for(c=0,u=k(h=q(e));c<u;c++)f=h[c],w(i,f,eh(e[f],t));break;case"Map":e.forEach(function(e,r){F(i,eh(r,t),eh(e,t))});break;case"Set":e.forEach(function(e){z(i,eh(e,t))});break;case"Error":b(i,"message",eh(e.message,t)),v(e,"cause")&&b(i,"cause",eh(e.cause,t)),"AggregateError"===n?i.errors=eh(e.errors,t):"SuppressedError"===n&&(i.error=eh(e.error,t),i.suppressed=eh(e.suppressed,t));case"DOMException":D&&b(i,"stack",eh(e.stack,t))}return i},ef=function(e,t){if(!p(e))throw new R("Transfer option cannot be converted to a sequence");var r,n,i,s,o,c=[];d(e,function(e){W(c,g(e))});for(var u=0,f=k(c),y=new j;u<f;){if("ArrayBuffer"===(n=m(r=c[u++]))?H(y,r):L(t,r))throw new O("Duplicate transferable",Z);if("ArrayBuffer"===n){z(y,r);continue}if(U)s=et(r,{transfer:[r]});else switch(n){case"ImageBitmap":h(i=a.OffscreenCanvas)||es(n,X);try{(o=new i(r.width,r.height)).getContext("bitmaprenderer").transferFromImageBitmap(r),s=o.transferToImageBitmap()}catch(e){}break;case"AudioData":case"VideoFrame":l(r.clone)&&l(r.close)||es(n,X);try{s=r.clone(),r.close()}catch(e){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":es(n,X)}if(void 0===s)throw new O("This object cannot be transferred: "+n,Z);F(t,r,s)}return y},ep=function(e){K(e,function(e){U?ei(e,{transfer:[e]}):l(e.transfer)?e.transfer():P?P(e):es("ArrayBuffer",X)})};i({global:!0,enumerable:!0,sham:!U,forced:er},{structuredClone:function(e){var t,r,n=E(arguments.length,1)>1&&!f(arguments[1])?g(arguments[1]):void 0,i=n?n.transfer:void 0;void 0!==i&&(r=ef(i,t=new B));var a=eh(e,t);return r&&ep(r),a}})},86348:(e,t,r)=>{r(73040),r(64898)},91615:(e,t,r)=>{r(33873),r(83536);var n=r(5613),i=r(79117),a=r(35268),s=r(5604),o=r(39944),c=r(16881),u=r(96893),l=r(96301),h=r(97509),f=r(10997),p=r(74320),y=r(93754),d=r(9383),g=r(43086),m=r(40286),v=r(14188),w=r(74418),b=r(85821),k=r(65438),E=r(3770),A=r(80831),x=r(92618),S=r(77065),K=r(39123),P=r(62350),D=r(69874),U=r(76224),_=r(89445),I=r(4282),T=r(9295),C=I("iterator"),R="URLSearchParams",M=R+"Iterator",O=g.set,B=g.getterFor(R),L=g.getterFor(M),N=a("fetch"),F=a("Request"),j=a("Headers"),z=F&&F.prototype,H=j&&j.prototype,q=i.TypeError,W=i.encodeURIComponent,V=String.fromCharCode,G=s("String","fromCodePoint"),$=parseInt,Y=c("".charAt),Q=c([].join),Z=c([].push),X=c("".replace),J=c([].shift),ee=c([].splice),et=c("".split),er=c("".slice),en=c(/./.exec),ei=/\+/g,ea=/^[0-9a-f]+$/i,es=function(e,t){var r=er(e,t,t+2);return en(ea,r)?$(r,16):NaN},eo=function(e){for(var t=0,r=128;r>0&&(e&r)!=0;r>>=1)t++;return t},ec=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},eu=function(e){for(var t=(e=X(e,ei," ")).length,r="",n=0;n<t;){var i=Y(e,n);if("%"===i){if("%"===Y(e,n+1)||n+3>t){r+="%",n++;continue}var a=es(e,n+1);if(a!=a){r+=i,n++;continue}n+=2;var s=eo(a);if(0===s)i=V(a);else{if(1===s||s>4){r+="�",n++;continue}for(var o=[a],c=1;c<s&&!(++n+3>t)&&"%"===Y(e,n);){var u=es(e,n+1);if(u!=u){n+=3;break}if(u>191||u<128)break;Z(o,u),n+=2,c++}if(o.length!==s){r+="�";continue}var l=ec(o);null===l?r+="�":i=G(l)}}r+=i,n++}return r},el=/[!'()~]|%20/g,eh={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ef=function(e){return eh[e]},ep=function(e){return X(W(e),el,ef)},ey=d(function(e,t){O(this,{type:M,target:B(e).entries,index:0,kind:t})},R,function(){var e=L(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,U(void 0,!0);var n=t[r];switch(e.kind){case"keys":return U(n.key,!1);case"values":return U(n.value,!1)}return U([n.key,n.value],!1)},!0),ed=function(e){this.entries=[],this.url=null,void 0!==e&&(A(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Y(e,0)?er(e,1):e:x(e)))};ed.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,s,c,u=this.entries,l=D(e);if(l)for(r=(t=P(e,l)).next;!(n=o(r,t)).done;){if((s=o(a=(i=P(E(n.value))).next,i)).done||(c=o(a,i)).done||!o(a,i).done)throw new q("Expected sequence with length 2");Z(u,{key:x(s.value),value:x(c.value)})}else for(var h in e)w(e,h)&&Z(u,{key:h,value:x(e[h])})},parseQuery:function(e){if(e)for(var t,r,n=this.entries,i=et(e,"&"),a=0;a<i.length;)(t=i[a++]).length&&Z(n,{key:eu(J(r=et(t,"="))),value:eu(Q(r,"="))})},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)Z(r,ep((e=t[n++]).key)+"="+ep(e.value));return Q(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var eg=function(){m(this,em);var e=arguments.length>0?arguments[0]:void 0,t=O(this,new ed(e));u||(this.size=t.entries.length)},em=eg.prototype;if(p(em,{append:function(e,t){var r=B(this);_(arguments.length,2),Z(r.entries,{key:x(e),value:x(t)}),!u&&this.length++,r.updateURL()},delete:function(e){for(var t=B(this),r=_(arguments.length,1),n=t.entries,i=x(e),a=r<2?void 0:arguments[1],s=void 0===a?a:x(a),o=0;o<n.length;){var c=n[o];if(c.key===i&&(void 0===s||c.value===s)){if(ee(n,o,1),void 0!==s)break}else o++}u||(this.size=n.length),t.updateURL()},get:function(e){var t=B(this).entries;_(arguments.length,1);for(var r=x(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=B(this).entries;_(arguments.length,1);for(var r=x(e),n=[],i=0;i<t.length;i++)t[i].key===r&&Z(n,t[i].value);return n},has:function(e){for(var t=B(this).entries,r=_(arguments.length,1),n=x(e),i=r<2?void 0:arguments[1],a=void 0===i?i:x(i),s=0;s<t.length;){var o=t[s++];if(o.key===n&&(void 0===a||o.value===a))return!0}return!1},set:function(e,t){var r,n=B(this);_(arguments.length,1);for(var i=n.entries,a=!1,s=x(e),o=x(t),c=0;c<i.length;c++)(r=i[c]).key===s&&(a?ee(i,c--,1):(a=!0,r.value=o));a||Z(i,{key:s,value:o}),u||(this.size=i.length),n.updateURL()},sort:function(){var e=B(this);T(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,r=B(this).entries,n=b(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ey(this,"keys")},values:function(){return new ey(this,"values")},entries:function(){return new ey(this,"entries")}},{enumerable:!0}),h(em,C,em.entries,{name:"entries"}),h(em,"toString",function(){return B(this).serialize()},{enumerable:!0}),u&&f(em,"size",{get:function(){return B(this).entries.length},configurable:!0,enumerable:!0}),y(eg,R),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:eg}),!l&&v(j)){var ev=c(H.has),ew=c(H.set),eb=function(e){if(A(e)){var t,r=e.body;if(k(r)===R)return ev(t=e.headers?new j(e.headers):new j,"content-type")||ew(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:K(0,x(r)),headers:K(0,t)})}return e};if(v(N)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return N(e,arguments.length>1?eb(arguments[1]):{})}}),v(F)){var ek=function(e){return m(this,z),new F(e,arguments.length>1?eb(arguments[1]):{})};z.constructor=ek,ek.prototype=z,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ek})}}e.exports={URLSearchParams:eg,getState:B}},61412:(e,t,r)=>{var n=r(97509),i=r(16881),a=r(92618),s=r(89445),o=URLSearchParams,c=o.prototype,u=i(c.append),l=i(c.delete),h=i(c.forEach),f=i([].push),p=new o("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&n(c,"delete",function(e){var t,r=arguments.length,n=r<2?void 0:arguments[1];if(r&&void 0===n)return l(this,e);var i=[];h(this,function(e,t){f(i,{key:t,value:e})}),s(r,1);for(var o=a(e),c=a(n),p=0,y=0,d=!1,g=i.length;p<g;)t=i[p++],d||t.key===o?(d=!0,l(this,t.key)):y++;for(;y<g;)(t=i[y++]).key===o&&t.value===c||u(this,t.key,t.value)},{enumerable:!0,unsafe:!0})},91883:(e,t,r)=>{var n=r(97509),i=r(16881),a=r(92618),s=r(89445),o=URLSearchParams,c=o.prototype,u=i(c.getAll),l=i(c.has),h=new o("a=1");(h.has("a",2)||!h.has("a",void 0))&&n(c,"has",function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return l(this,e);var n=u(this,e);s(t,1);for(var i=a(r),o=0;o<n.length;)if(n[o++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},34397:(e,t,r)=>{r(91615)},70286:(e,t,r)=>{var n=r(96893),i=r(16881),a=r(10997),s=URLSearchParams.prototype,o=i(s.forEach);!n||"size"in s||a(s,"size",{get:function(){var e=0;return o(this,function(){e++}),e},configurable:!0,enumerable:!0})},23391:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(5234),s=r(89445),o=r(92618),c=r(96301),u=i("URL"),l=c&&a(function(){u.canParse()}),h=a(function(){return 1!==u.canParse.length});n({target:"URL",stat:!0,forced:!l||h},{canParse:function(e){var t=s(arguments.length,1),r=o(e),n=t<2||void 0===arguments[1]?void 0:o(arguments[1]);try{return new u(r,n),!0}catch(e){return!1}}})},70495:(e,t,r)=>{r(11011);var n,i=r(5613),a=r(96893),s=r(96301),o=r(79117),c=r(85821),u=r(16881),l=r(97509),h=r(10997),f=r(40286),p=r(74418),y=r(69456),d=r(86859),g=r(27825),m=r(64212).codeAt,v=r(26294),w=r(92618),b=r(93754),k=r(89445),E=r(91615),A=r(43086),x=A.set,S=A.getterFor("URL"),K=E.URLSearchParams,P=E.getState,D=o.URL,U=o.TypeError,_=o.parseInt,I=Math.floor,T=Math.pow,C=u("".charAt),R=u(/./.exec),M=u([].join),O=u(1..toString),B=u([].pop),L=u([].push),N=u("".replace),F=u([].shift),j=u("".split),z=u("".slice),H=u("".toLowerCase),q=u([].unshift),W="Invalid scheme",V="Invalid host",G="Invalid port",$=/[a-z]/i,Y=/[\d+-.a-z]/i,Q=/\d/,Z=/^0x/i,X=/^[0-7]+$/,J=/^\d+$/,ee=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,er=/[\0\t\n\r #/:<>?@[\\\]^|]/,en=/^[\u0000-\u0020]+/,ei=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ea=/[\t\n\r]/g,es=function(e){var t,r,n,i,a,s,o,c=j(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=0,r=[];n<t;n++){if(""===(i=c[n]))return e;if(a=10,i.length>1&&"0"===C(i,0)&&(a=R(Z,i)?16:8,i=z(i,8===a?1:2)),""===i)s=0;else{if(!R(10===a?J:8===a?X:ee,i))return e;s=_(i,a)}L(r,s)}for(n=0;n<t;n++)if(s=r[n],n===t-1){if(s>=T(256,5-t))return null}else if(s>255)return null;for(n=0,o=B(r);n<r.length;n++)o+=r[n]*T(256,3-n);return o},eo=function(e){var t,r,n,i,a,s,o,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return C(e,h)};if(":"===f()){if(":"!==C(e,1))return;h+=2,l=++u}for(;f();){if(8===u)return;if(":"===f()){if(null!==l)return;h++,l=++u;continue}for(t=r=0;r<4&&R(ee,f());)t=16*t+_(f(),16),h++,r++;if("."===f()){if(0===r||(h-=r,u>6))return;for(n=0;f();){if(i=null,n>0){if("."!==f()||!(n<4))return;h++}if(!R(Q,f()))return;for(;R(Q,f());){if(a=_(f(),10),null===i)i=a;else{if(0===i)return;i=10*i+a}if(i>255)return;h++}c[u]=256*c[u]+i,(2==++n||4===n)&&u++}if(4!==n)return;break}if(":"===f()){if(h++,!f())return}else if(f())return;c[u++]=t}if(null!==l)for(s=u-l,u=7;0!==u&&s>0;)o=c[u],c[u--]=c[l+s-1],c[l+--s]=o;else if(8!==u)return;return c},ec=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r?n:t},eu=function(e){var t,r,n,i;if("number"==typeof e){for(r=0,t=[];r<4;r++)q(t,e%256),e=I(e/256);return M(t,".")}if("object"==typeof e){for(r=0,t="",n=ec(e);r<8;r++)(!i||0!==e[r])&&(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=O(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},el={},eh=y({},el,{" ":1,'"':1,"<":1,">":1,"`":1}),ef=y({},eh,{"#":1,"?":1,"{":1,"}":1}),ep=y({},ef,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ey=function(e,t){var r=m(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},ed={ftp:21,file:null,http:80,https:443,ws:80,wss:443},eg=function(e,t){var r;return 2===e.length&&R($,C(e,0))&&(":"===(r=C(e,1))||!t&&"|"===r)},em=function(e){var t;return e.length>1&&eg(z(e,0,2))&&(2===e.length||"/"===(t=C(e,2))||"\\"===t||"?"===t||"#"===t)},ev={},ew={},eb={},ek={},eE={},eA={},ex={},eS={},eK={},eP={},eD={},eU={},e_={},eI={},eT={},eC={},eR={},eM={},eO={},eB={},eL={},eN=function(e,t,r){var n,i,a,s=w(e);if(t){if(i=this.parse(s))throw new U(i);this.searchParams=null}else{if(void 0!==r&&(n=new eN(r,!0)),i=this.parse(s,null,n))throw new U(i);(a=P(new K)).bindURL(this),this.searchParams=a}};eN.prototype={type:"URL",parse:function(e,t,r){var i=t||ev,a=0,s="",o=!1,c=!1,u=!1;for(e=w(e),t||(this.scheme="",this.username="",this.password="",this.host=null,this.port=null,this.path=[],this.query=null,this.fragment=null,this.cannotBeABaseURL=!1,e=N(e,en,""),e=N(e,ei,"$1")),l=d(e=N(e,ea,""));a<=l.length;){switch(h=l[a],i){case ev:if(h&&R($,h))s+=H(h),i=ew;else{if(t)return W;i=eb;continue}break;case ew:if(h&&(R(Y,h)||"+"===h||"-"===h||"."===h))s+=H(h);else if(":"===h){if(t&&(this.isSpecial()!==p(ed,s)||"file"===s&&(this.includesCredentials()||null!==this.port)||"file"===this.scheme&&!this.host))return;if(this.scheme=s,t){this.isSpecial()&&ed[this.scheme]===this.port&&(this.port=null);return}s="","file"===this.scheme?i=eI:this.isSpecial()&&r&&r.scheme===this.scheme?i=ek:this.isSpecial()?i=eS:"/"===l[a+1]?(i=eE,a++):(this.cannotBeABaseURL=!0,L(this.path,""),i=eO)}else{if(t)return W;s="",i=eb,a=0;continue}break;case eb:if(!r||r.cannotBeABaseURL&&"#"!==h)return W;if(r.cannotBeABaseURL&&"#"===h){this.scheme=r.scheme,this.path=g(r.path),this.query=r.query,this.fragment="",this.cannotBeABaseURL=!0,i=eL;break}i="file"===r.scheme?eI:eA;continue;case ek:if("/"===h&&"/"===l[a+1])i=eK,a++;else{i=eA;continue}break;case eE:if("/"===h){i=eP;break}i=eM;continue;case eA:if(this.scheme=r.scheme,h===n)this.username=r.username,this.password=r.password,this.host=r.host,this.port=r.port,this.path=g(r.path),this.query=r.query;else if("/"===h||"\\"===h&&this.isSpecial())i=ex;else if("?"===h)this.username=r.username,this.password=r.password,this.host=r.host,this.port=r.port,this.path=g(r.path),this.query="",i=eB;else if("#"===h)this.username=r.username,this.password=r.password,this.host=r.host,this.port=r.port,this.path=g(r.path),this.query=r.query,this.fragment="",i=eL;else{this.username=r.username,this.password=r.password,this.host=r.host,this.port=r.port,this.path=g(r.path),this.path.length--,i=eM;continue}break;case ex:if(this.isSpecial()&&("/"===h||"\\"===h))i=eK;else if("/"===h)i=eP;else{this.username=r.username,this.password=r.password,this.host=r.host,this.port=r.port,i=eM;continue}break;case eS:if(i=eK,"/"!==h||"/"!==C(s,a+1))continue;a++;break;case eK:if("/"!==h&&"\\"!==h){i=eP;continue}break;case eP:if("@"===h){o&&(s="%40"+s),o=!0,f=d(s);for(var l,h,f,y,m,v,b=0;b<f.length;b++){var k=f[b];if(":"===k&&!u){u=!0;continue}var E=ey(k,ep);u?this.password+=E:this.username+=E}s=""}else if(h===n||"/"===h||"?"===h||"#"===h||"\\"===h&&this.isSpecial()){if(o&&""===s)return"Invalid authority";a-=d(s).length+1,s="",i=eD}else s+=h;break;case eD:case eU:if(t&&"file"===this.scheme){i=eC;continue}if(":"!==h||c){if(h===n||"/"===h||"?"===h||"#"===h||"\\"===h&&this.isSpecial()){if(this.isSpecial()&&""===s)return V;if(t&&""===s&&(this.includesCredentials()||null!==this.port))return;if(y=this.parseHost(s))return y;if(s="",i=eR,t)return;continue}"["===h?c=!0:"]"===h&&(c=!1),s+=h}else{if(""===s)return V;if(y=this.parseHost(s))return y;if(s="",i=e_,t===eU)return}break;case e_:if(R(Q,h))s+=h;else{if(!(h===n||"/"===h||"?"===h||"#"===h||"\\"===h&&this.isSpecial())&&!t)return G;if(""!==s){var A=_(s,10);if(A>65535)return G;this.port=this.isSpecial()&&A===ed[this.scheme]?null:A,s=""}if(t)return;i=eR;continue}break;case eI:if(this.scheme="file","/"===h||"\\"===h)i=eT;else if(r&&"file"===r.scheme)switch(h){case n:this.host=r.host,this.path=g(r.path),this.query=r.query;break;case"?":this.host=r.host,this.path=g(r.path),this.query="",i=eB;break;case"#":this.host=r.host,this.path=g(r.path),this.query=r.query,this.fragment="",i=eL;break;default:em(M(g(l,a),""))||(this.host=r.host,this.path=g(r.path),this.shortenPath()),i=eM;continue}else{i=eM;continue}break;case eT:if("/"===h||"\\"===h){i=eC;break}r&&"file"===r.scheme&&!em(M(g(l,a),""))&&(eg(r.path[0],!0)?L(this.path,r.path[0]):this.host=r.host),i=eM;continue;case eC:if(h===n||"/"===h||"\\"===h||"?"===h||"#"===h){if(!t&&eg(s))i=eM;else if(""===s){if(this.host="",t)return;i=eR}else{if(y=this.parseHost(s))return y;if("localhost"===this.host&&(this.host=""),t)return;s="",i=eR}continue}s+=h;break;case eR:if(this.isSpecial()){if(i=eM,"/"!==h&&"\\"!==h)continue}else if(t||"?"!==h){if(t||"#"!==h){if(h!==n&&(i=eM,"/"!==h))continue}else this.fragment="",i=eL}else this.query="",i=eB;break;case eM:if(h===n||"/"===h||"\\"===h&&this.isSpecial()||!t&&("?"===h||"#"===h)){if(".."===(m=H(m=s))||"%2e."===m||".%2e"===m||"%2e%2e"===m?(this.shortenPath(),"/"===h||"\\"===h&&this.isSpecial()||L(this.path,"")):"."===(v=s)||"%2e"===H(v)?"/"===h||"\\"===h&&this.isSpecial()||L(this.path,""):("file"===this.scheme&&!this.path.length&&eg(s)&&(this.host&&(this.host=""),s=C(s,0)+":"),L(this.path,s)),s="","file"===this.scheme&&(h===n||"?"===h||"#"===h))for(;this.path.length>1&&""===this.path[0];)F(this.path);"?"===h?(this.query="",i=eB):"#"===h&&(this.fragment="",i=eL)}else s+=ey(h,ef);break;case eO:"?"===h?(this.query="",i=eB):"#"===h?(this.fragment="",i=eL):h!==n&&(this.path[0]+=ey(h,el));break;case eB:t||"#"!==h?h!==n&&("'"===h&&this.isSpecial()?this.query+="%27":"#"===h?this.query+="%23":this.query+=ey(h,el)):(this.fragment="",i=eL);break;case eL:h!==n&&(this.fragment+=ey(h,eh))}a++}},parseHost:function(e){var t,r,n;if("["===C(e,0)){if("]"!==C(e,e.length-1)||!(t=eo(z(e,1,-1))))return V;this.host=t}else if(this.isSpecial()){if(R(et,e=v(e))||null===(t=es(e)))return V;this.host=t}else{if(R(er,e))return V;for(n=0,t="",r=d(e);n<r.length;n++)t+=ey(r[n],el);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(ed,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&("file"!==this.scheme||1!==t||!eg(e[0],!0))&&e.length--},serialize:function(){var e=this.scheme,t=this.username,r=this.password,n=this.host,i=this.port,a=this.path,s=this.query,o=this.fragment,c=e+":";return null!==n?(c+="//",this.includesCredentials()&&(c+=t+(r?":"+r:"")+"@"),c+=eu(n),null!==i&&(c+=":"+i)):"file"===e&&(c+="//"),c+=this.cannotBeABaseURL?a[0]:a.length?"/"+M(a,"/"):"",null!==s&&(c+="?"+s),null!==o&&(c+="#"+o),c},setHref:function(e){var t=this.parse(e);if(t)throw new U(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new eF(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+eu(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(w(e)+":",ev)},getUsername:function(){return this.username},setUsername:function(e){var t=d(w(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ey(t[r],ep)}},getPassword:function(){return this.password},setPassword:function(e){var t=d(w(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ey(t[r],ep)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?eu(e):eu(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,eD)},getHostname:function(){var e=this.host;return null===e?"":eu(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,eU)},getPort:function(){var e=this.port;return null===e?"":w(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=w(e))?this.port=null:this.parse(e,e_))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,eR))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=w(e))?this.query=null:("?"===C(e,0)&&(e=z(e,1)),this.query="",this.parse(e,eB)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(""===(e=w(e))){this.fragment=null;return}"#"===C(e,0)&&(e=z(e,1)),this.fragment="",this.parse(e,eL)},update:function(){this.query=this.searchParams.serialize()||null}};var eF=function(e){var t=f(this,ej),r=k(arguments.length,1)>1?arguments[1]:void 0,n=x(t,new eN(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},ej=eF.prototype,ez=function(e,t){return{get:function(){return S(this)[e]()},set:t&&function(e){return S(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(h(ej,"href",ez("serialize","setHref")),h(ej,"origin",ez("getOrigin")),h(ej,"protocol",ez("getProtocol","setProtocol")),h(ej,"username",ez("getUsername","setUsername")),h(ej,"password",ez("getPassword","setPassword")),h(ej,"host",ez("getHost","setHost")),h(ej,"hostname",ez("getHostname","setHostname")),h(ej,"port",ez("getPort","setPort")),h(ej,"pathname",ez("getPathname","setPathname")),h(ej,"search",ez("getSearch","setSearch")),h(ej,"searchParams",ez("getSearchParams")),h(ej,"hash",ez("getHash","setHash"))),l(ej,"toJSON",function(){return S(this).serialize()},{enumerable:!0}),l(ej,"toString",function(){return S(this).serialize()},{enumerable:!0}),D){var eH=D.createObjectURL,eq=D.revokeObjectURL;eH&&l(eF,"createObjectURL",c(eH,D)),eq&&l(eF,"revokeObjectURL",c(eq,D))}b(eF,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!a},{URL:eF})},83165:(e,t,r)=>{r(70495)},70784:(e,t,r)=>{var n=r(5613),i=r(5604),a=r(89445),s=r(92618),o=r(96301),c=i("URL");n({target:"URL",stat:!0,forced:!o},{parse:function(e){var t=a(arguments.length,1),r=s(e),n=t<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return new c(r,n)}catch(e){return null}}})},24541:(e,t,r)=>{var n=r(5613),i=r(39944);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},83868:(e,t,r)=>{r(58070),r(93510),r(64007),r(70970),r(78643),r(2432),r(9957),r(51867),r(39148),r(83430),r(29862),r(27644),r(95307),r(9392),r(23691),r(97107),r(38909),r(39064),r(78721),r(37002),r(16411),r(78440),r(38428),r(73294),r(5305),r(63252),r(6501),r(73621),r(54856),r(11264),r(27011),r(79620),r(11875),r(62234),r(94149),r(29911),r(33873),r(34147),r(79326),r(18981),r(6670),r(69375),r(48605),r(98446),r(83701),r(56569),r(42315),r(33975),r(5213),r(68803),r(88705),r(90902),r(54843),r(95483),r(98752),r(27534),r(66283),r(49694),r(80512),r(64772),r(70974),r(32482),r(27067),r(56528),r(20756),r(73552),r(32272),r(58942),r(8737),r(8094),r(60595),r(87573),r(125),r(58437),r(10530),r(93277),r(1402),r(82438),r(42521),r(2989),r(12266),r(99819),r(91020),r(57327),r(29688),r(50020),r(74786),r(34840),r(57147),r(32225),r(64727),r(88794),r(68470),r(56189),r(62868),r(56855),r(28796),r(1059),r(78220),r(77997),r(58367),r(97018),r(28900),r(88435),r(19505),r(19985),r(82484),r(14549),r(7458),r(54073),r(51806),r(37324),r(73185),r(70151),r(79305),r(20302),r(13117),r(90724),r(18462),r(2148),r(98201),r(64742),r(59290),r(17403),r(78601),r(87050),r(53795),r(92546),r(48404),r(75668),r(5422),r(69431),r(45968),r(29742),r(7678),r(81909),r(66963),r(2380),r(34232),r(32082),r(14183),r(92101),r(13626),r(7148),r(68291),r(13177),r(12501),r(94568),r(17265),r(55922),r(1280),r(80630),r(12353),r(27968),r(31759),r(10865),r(16560),r(51077),r(7212),r(85178),r(99817),r(12283),r(27270),r(97604),r(73740),r(90451),r(97742),r(39452),r(83871),r(1941),r(32060),r(94520),r(36695),r(63536),r(37087),r(8697),r(8096),r(98376),r(47146),r(10206),r(46929),r(10568),r(85668),r(69033),r(68903),r(21018),r(1415),r(4448),r(58871),r(56539),r(70950),r(87113),r(44612),r(83536),r(47748),r(35512),r(11011),r(39428),r(77846),r(74272),r(73249),r(74959),r(63498),r(14293),r(28715),r(91321),r(58225),r(86741),r(70104),r(40221),r(72273),r(52465),r(11920),r(95140),r(34871),r(35659),r(94290),r(26495),r(96865),r(11073),r(38984),r(9225),r(45942),r(93603),r(20635),r(15277),r(74313),r(34270),r(36887),r(57408),r(16422),r(82682),r(74881),r(90435),r(91885),r(10785),r(56805),r(68553),r(78357),r(82822),r(69631),r(24014),r(46196),r(50821),r(2587),r(91900),r(31969),r(47750),r(32890),r(9616),r(1275),r(16240),r(15721),r(3870),r(74653),r(55716),r(36554),r(77856),r(55852),r(68472),r(95387),r(41696),r(37404),r(95803),r(11067),r(33912),r(41338),r(29793),r(41527),r(86282),r(39360),r(18867),r(47010),r(71450),r(57182),r(81802),r(8065),r(95191),r(75960),r(62053),r(86348),r(83165),r(23391),r(70784),r(24541),r(34397),r(61412),r(91883),r(70286),r(49120)},72892:(e,t,r)=>{let n,i,a;r.d(t,{$W:()=>F,$k:()=>sW,Bc:()=>sv,GN:()=>i4,Iv:()=>sf,JM:()=>or,MX:()=>ot,Qs:()=>oi,T1:()=>s4,TF:()=>on,Vw:()=>s6,YZ:()=>sq,Yc:()=>s7,_8:()=>sJ,_S:()=>oe,cL:()=>s5,oH:()=>s1,qz:()=>iq,rh:()=>s3,uN:()=>s8,vP:()=>N,w:()=>s9,wN:()=>s2,x4:()=>sV,yE:()=>J});/*! OpenPGP.js v6.0.2-patch.1 - 2024-12-13 - this is LGPL licensed code, see LICENSE/our website https://openpgpjs.org/ for more information. */let s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=Symbol("doneWritingPromise"),c=Symbol("doneWritingResolve"),u=Symbol("doneWritingReject"),l=Symbol("readingIndex");class h extends Array{constructor(){super(),Object.setPrototypeOf(this,h.prototype),this[o]=new Promise((e,t)=>{this[c]=e,this[u]=t}),this[o].catch(()=>{})}}function f(e){return e&&e.getReader&&Array.isArray(e)}function p(e){if(!f(e)){let t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}this.stream=e}function y(e){if(f(e))return"array";if(s.ReadableStream&&s.ReadableStream.prototype.isPrototypeOf(e))return"web";if(e&&!(s.ReadableStream&&e instanceof s.ReadableStream)&&"function"==typeof e._read&&"object"==typeof e._readableState)throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!(!e||!e.getReader)&&"web-like"}function d(e){return Uint8Array.prototype.isPrototypeOf(e)}function g(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!d(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}let r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}h.prototype.getReader=function(){return void 0===this[l]&&(this[l]=0),{read:async()=>(await this[o],this[l]===this.length?{value:void 0,done:!0}:{value:this[this[l]++],done:!1})}},h.prototype.readToEnd=async function(e){await this[o];let t=e(this.slice(this[l]));return this.length=0,t},h.prototype.clone=function(){let e=new h;return e[o]=this[o].then(()=>{e.push(...this)}),e},p.prototype.write=async function(e){this.stream.push(e)},p.prototype.close=async function(){this.stream[c]()},p.prototype.abort=async function(e){return this.stream[u](e),e},p.prototype.releaseLock=function(){},"object"==typeof s.process&&s.process.versions;let m=new WeakSet,v=Symbol("externalBuffer");function w(e){if(this.stream=e,e[v]&&(this[v]=e[v].slice()),f(e)){let t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}if(y(e)){let t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch(function(){}),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let t=!1;this._read=async()=>t||m.has(e)?{value:void 0,done:!0}:(t=!0,{value:e,done:!1}),this._releaseLock=()=>{if(t)try{m.add(e)}catch(e){}}}function b(e){return y(e)?e:new ReadableStream({start(t){t.enqueue(e),t.close()}})}function k(e){if(y(e))return e;let t=new h;return(async()=>{let r=B(t);await r.write(e),await r.close()})(),t}function E(e){return e.some(e=>y(e)&&!f(e))?function(e){e=e.map(b);let t=S(async function(e){await Promise.all(n.map(t=>R(t,e)))}),r=Promise.resolve(),n=e.map((n,i)=>P(n,(n,a)=>r=r.then(()=>A(n,t.writable,{preventClose:i!==e.length-1}))));return t.readable}(e):e.some(e=>f(e))?function(e){let t=new h,r=Promise.resolve();return e.forEach((n,i)=>r=r.then(()=>A(n,t,{preventClose:i!==e.length-1}))),t}(e):"string"==typeof e[0]?e.join(""):g(e)}async function A(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(y(e)&&!f(e)){e=b(e);try{if(e[v]){let r=B(t);for(let t=0;t<e[v].length;t++)await r.ready,await r.write(e[v][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}let a=O(e=k(e)),s=B(t);try{for(;;){await s.ready;let{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function x(e,t){let r=new TransformStream(t);return A(e,r.writable),r.readable}function S(e){let t,r,n,i=!1,a=!1;return{readable:new ReadableStream({start(e){n=e},pull(){t?t():i=!0},async cancel(t){a=!0,e&&await e(t),r&&r(t)}},{highWaterMark:0}),writable:new WritableStream({write:async function(e){if(a)throw Error("Stream is cancelled");n.enqueue(e),i?i=!1:(await new Promise((e,n)=>{t=e,r=n}),t=null,r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function K(e,t=()=>{},r=()=>{}){if(f(e)){let n=new h;return(async()=>{let i=B(n);try{let n;let a=await C(e),s=t(a),o=r();n=void 0!==s&&void 0!==o?E([s,o]):void 0!==s?s:o,await i.write(n),await i.close()}catch(e){await i.abort(e)}})(),n}if(y(e))return x(e,{async transform(e,r){try{let n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{let t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});let n=t(e),i=r();return void 0!==n&&void 0!==i?E([n,i]):void 0!==n?n:i}function P(e,t){if(y(e)&&!f(e)){let r;let n=new TransformStream({start(e){r=e}}),i=A(e,n.writable),a=S(async function(e){r.error(e),await i,await new Promise(setTimeout)});return t(n.readable,a.writable),a.readable}e=k(e);let r=new h;return t(e,r),r}function D(e,t){let r;let n=P(e,(e,i)=>{let a=O(e);a.remainder=()=>(a.releaseLock(),A(e,i),n),r=t(a)});return r}function U(e){if(f(e))return e.clone();if(y(e)){let t=function(e){if(f(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(y(e)){let t=b(e).tee();return t[0][v]=t[1][v]=e[v],t}return[T(e),T(e)]}(e);return I(e,t[0]),t[1]}return T(e)}function _(e){return f(e)?U(e):y(e)?new ReadableStream({start(t){let r=P(e,async(e,r)=>{let n=O(e),i=B(r);try{for(;;){await i.ready;let{done:e,value:r}=await n.read();if(e){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(r)}catch(e){}await i.write(r)}}catch(e){t.error(e),await i.abort(e)}});I(e,r)}}):T(e)}function I(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach(([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))})}function T(e,t=0,r=1/0){if(f(e))throw Error("Not implemented");if(y(e)){if(t>=0&&r>=0){let n=0;return x(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(T(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return K(e,e=>{e.length>=-t?n=[e]:n.push(e)},()=>T(E(n),t,r))}if(0===t&&r<0){let n;return K(e,e=>{let i=n?E([n,e]):e;if(i.length>=-r)return n=T(i,r),T(i,t,r);n=i})}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),M(async()=>T(await C(e),t,r))}return e[v]&&(e=E(e[v].concat([e]))),d(e)?e.subarray(t,r===1/0?e.length:r):e.slice(t,r)}async function C(e,t=E){return f(e)?e.readToEnd(t):y(e)?O(e).readToEnd(t):e}async function R(e,t){if(y(e)){if(e.cancel){let r=await e.cancel(t);return await new Promise(setTimeout),r}if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function M(e){let t=new h;return(async()=>{let r=B(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}function O(e){return new w(e)}function B(e){return new p(e)}w.prototype.read=async function(){return this[v]&&this[v].length?{done:!1,value:this[v].shift()}:this._read()},w.prototype.releaseLock=function(){this[v]&&(this.stream[v]=this[v]),this._releaseLock()},w.prototype.cancel=function(e){return this._cancel(e)},w.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?E(t):void 0;let i=n.indexOf("\n")+1;i&&(e=E(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},w.prototype.readByte=async function(){let{done:e,value:t}=await this.read();if(e)return;let r=t[0];return this.unshift(T(t,1)),r},w.prototype.readBytes=async function(e){let t=[],r=0;for(;;){let{done:n,value:i}=await this.read();if(n)return t.length?E(t):void 0;if(t.push(i),(r+=i.length)>=e){let r=E(t);return this.unshift(T(r,e)),T(r,0,e)}}},w.prototype.peekBytes=async function(e){let t=await this.readBytes(e);return this.unshift(t),t},w.prototype.unshift=function(...e){this[v]||(this[v]=[]),1===e.length&&d(e[0])&&this[v].length&&e[0].length&&this[v][0].byteOffset>=e[0].length?this[v][0]=new Uint8Array(this[v][0].buffer,this[v][0].byteOffset-e[0].length,this[v][0].byteLength+e[0].length):this[v].unshift(...e.filter(e=>e&&e.length))},w.prototype.readToEnd=async function(e=E){let t=[];for(;;){let{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let L=Symbol("byValue");var N={curve:{nistP256:"nistP256",p256:"nistP256",nistP384:"nistP384",p384:"nistP384",nistP521:"nistP521",p521:"nistP521",secp256k1:"secp256k1",ed25519Legacy:"ed25519Legacy",ed25519:"ed25519Legacy",curve25519Legacy:"curve25519Legacy",curve25519:"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1"},kdfFlags:{replace_fingerprint:1,replace_kdf_params:2},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28,pqc_mlkem_x25519:105,pqc_mldsa_ed25519:107,aead:100,hmac:101},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,forwardedCommunication:64,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[L]||(e[L]=[],Object.entries(e).forEach(([t,r])=>{e[L][r]=t})),void 0!==e[L][t])return e[L][t];throw Error("Invalid enum value.")}},F={preferredHashAlgorithm:N.hash.sha512,preferredSymmetricAlgorithm:N.symmetric.aes256,preferredCompressionAlgorithm:N.compression.uncompressed,aeadProtect:!1,ignoreSEIPDv2FeatureFlag:!1,parseAEADEncryptedV4KeysAsLegacy:!1,preferredAEADAlgorithm:N.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,enableParsingV5Entities:!1,s2kType:N.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,allowForwardedMessages:!1,minRSABits:2047,passwordCollisionCheck:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([N.symmetric.aes128,N.symmetric.aes192,N.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.0.2-patch.1",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:[],nonDeterministicSignaturesViaNotation:!0,useEllipticFallback:!0,rejectHashAlgorithms:new Set([N.hash.md5,N.hash.ripemd]),rejectMessageHashAlgorithms:new Set([N.hash.md5,N.hash.ripemd,N.hash.sha1]),rejectPublicKeyAlgorithms:new Set([N.publicKey.elgamal,N.publicKey.dsa]),rejectCurves:new Set([N.curve.secp256k1])};let j={isString:function(e){return"string"==typeof e||e instanceof String},nodeRequire:()=>{},isArray:function(e){return e instanceof Array},isUint8Array:d,isStream:y,getNobleCurve:async(e,t)=>{if(!F.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");let{nobleCurves:n}=await r.e("node_modules_openpgp_dist_lightweight_noble_curves_min_mjs").then(r.bind(r,84676));switch(e){case N.publicKey.ecdh:case N.publicKey.ecdsa:{let e=n.get(t);if(!e)throw Error("Unsupported curve");return e}case N.publicKey.x448:return n.get("x448");case N.publicKey.ed448:return n.get("ed448");default:throw Error("Unsupported curve")}},readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){let r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){return new Date(1e3*j.readNumber(e))},writeDate:function(e){let t=Math.floor(e.getTime()/1e3);return j.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){let t=(e[0]<<8|e[1])+7>>>3;return j.readExactSubarray(e,2,2+t)},readExactSubarray:function(e,t,r){if(e.length<r-t)throw Error("Input array too short");return e.subarray(t,r)},leftPad(e,t){if(e.length>t)throw Error("Input array too long");let r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){let t=j.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");let r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return j.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;let r=e.subarray(t);return 8*(r.length-1)+j.nbits(r[0])},hexToUint8Array:function(e){let t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){let t="0123456789abcdef",r="";return e.forEach(e=>{r+=t[e>>4]+t[15&e]}),r},stringToUint8Array:function(e){return K(e,e=>{if(!j.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})},uint8ArrayToString:function(e){let t=[],r=(e=new Uint8Array(e)).length;for(let n=0;n<r;n+=16384)t.push(String.fromCharCode.apply(String,e.subarray(n,n+16384<r?n+16384:r)));return t.join("")},encodeUTF8:function(e){let t=new TextEncoder("utf-8");function r(e,n=!1){return t.encode(e,{stream:!n})}return K(e,r,()=>r("",!0))},decodeUTF8:function(e){let t=new TextDecoder("utf-8");function r(e,n=!1){return t.decode(e,{stream:!n})}return K(e,r,()=>r(new Uint8Array,!0))},concat:E,concatUint8Array:g,equalsUint8Array:function(e,t){if(!j.isUint8Array(e)||!j.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return j.writeNumber(t,2)},printDebug:function(e){},printDebugError:function(e){},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),0!=(r=e>>8)&&(e=r,t+=8),0!=(r=e>>4)&&(e=r,t+=4),0!=(r=e>>2)&&(e=r,t+=2),0!=(r=e>>1)&&(e=r,t+=1),t},double:function(e){let t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){let e=void 0!==s&&s.crypto&&s.crypto.subtle||this.getNodeCrypto()?.webcrypto.subtle;if(!e)throw Error("The WebCrypto API is not available");return e},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(e){return!!j.isString(e)&&/^[^\p{C}\p{Z}@<>\\]+@[^\p{C}\p{Z}@<>\\]+[^\p{C}\p{Z}\p{P}]$/u.test(e)},canonicalizeEOL:function(e){let t=!1;return K(e,e=>{let r;t&&(e=j.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=[];for(let t=0;r=e.indexOf(10,t)+1;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;let i=new Uint8Array(e.length+n.length),a=0;for(let t=0;t<n.length;t++){let r=e.subarray(n[t-1]||0,n[t]);i.set(r,a),i[(a+=r.length)-1]=13,i[a]=10,a++}return i.set(e.subarray(n[n.length-1]||0),a),i},()=>t?new Uint8Array([13]):void 0)},nativeEOL:function(e){let t=!1;return K(e,e=>{let r;13===(e=t&&10!==e[0]?j.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){(r=e.indexOf(13,t)+1)||(r=e.length);let i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)},()=>t?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(e){return e.split("\n").map(e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"	"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)}).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){let t={};return e.forEach(e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e}),t},anyPromise:function(e){return new Promise(async(t,r)=>{let n;await Promise.all(e.map(async e=>{try{t(await e)}catch(e){n=e}})),r(n)})},selectUint8Array:function(e,t,r){let n=new Uint8Array(Math.max(t.length,r.length)),i=0;for(let a=0;a<n.length;a++)n[a]=t[a]&256-e|r[a]&255+e,i+=e&a<t.length|1-e&a<r.length;return n.subarray(0,i)},selectUint8:function(e,t,r){return t&256-e|r&255+e},isAES:function(e){return e===N.symmetric.aes128||e===N.symmetric.aes192||e===N.symmetric.aes256}},z=j.getNodeBuffer();function H(e){let t=new Uint8Array;return K(e,e=>{t=j.concatUint8Array([t,e]);let r=[],i=Math.floor(t.length/45),a=45*i,s=n(t.subarray(0,a));for(let e=0;e<i;e++)r.push(s.substr(60*e,60)),r.push("\n");return t=t.subarray(a),r.join("")},()=>t.length?n(t)+"\n":"")}function q(e){let t="";return K(e,e=>{t+=e;let r=0,n=[" ","	","\r","\n"];for(let e=0;e<n.length;e++){let i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let a=t.length;for(;a>0&&(a-r)%4!=0;a--)n.includes(t[a])&&r--;let s=i(t.substr(0,a));return t=t.substr(a),s},()=>i(t))}function W(e){return q(e.replace(/-/g,"+").replace(/_/g,"/"))}function V(e,t){return H(e).replace(/[\r\n]/g,"").replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")}function G(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n"}function $(e){let t;return H((t=0xce04b7,K(e,e=>{let r=Q?Math.floor(e.length/4):0,n=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=n[e],t=Y[0][t>>24&255]^Y[1][t>>16&255]^Y[2][t>>8&255]^Y[3][255&t];for(let n=4*r;n<e.length;n++)t=t>>8^Y[0][255&t^e[n]]},()=>new Uint8Array([t,t>>8,t>>16]))))}z?(n=e=>z.from(e).toString("base64"),i=e=>{let t=z.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(n=e=>btoa(j.uint8ArrayToString(e)),i=e=>j.stringToUint8Array(atob(e)));let Y=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(8388608&t?8801531:0);Y[0][e]=(0xff0000&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)Y[1][e]=Y[0][e]>>8^Y[0][255&Y[0][e]];for(let e=0;e<=255;e++)Y[2][e]=Y[1][e]>>8^Y[0][255&Y[1][e]];for(let e=0;e<=255;e++)Y[3][e]=Y[2][e]>>8^Y[0][255&Y[2][e]];let Q=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function Z(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||j.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||j.printDebugError(Error("Unknown header: "+e[t]))}function X(e){return new Promise(async(t,r)=>{try{let n;let i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,s=[],o,c,u=s,l=[],h=q(P(e,async(e,f)=>{let p=O(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=j.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),n){if(o)c||n!==N.armor.signed||(i.test(e)?(l=l.join("\r\n"),c=!0,Z(u),u=[],o=!1):l.push(e.replace(/^- /,"")));else if(i.test(e)&&r(Error("Mandatory blank line missing between armor headers and armor data")),a.test(e)){if(Z(u),o=!0,c||n!==N.armor.signed){t({text:l,data:h,headers:s,type:n});break}}else u.push(e)}else i.test(e)&&(n=function(e){let t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?N.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?N.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?N.armor.signed:/MESSAGE/.test(t[1])?N.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?N.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?N.armor.privateKey:/SIGNATURE/.test(t[1])?N.armor.signature:void 0}(e))}}catch(e){return void r(e)}let y=B(f);try{for(;;){await y.ready;let{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");let r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e;let t=(e=j.removeTrailingSpaces(e.replace(/\r/g,""))).split(i);if(1===t.length)throw Error("Misformed armored text");let n=function(e){let t=e,r=e.lastIndexOf("=");return r>=0&&r!==e.length-1&&(t=e.slice(0,r)),t}(t[0].slice(0,-1));await y.write(n);break}await y.write(r)}await y.ready,await y.close()}catch(e){await y.abort(e)}}))}catch(e){r(e)}}).then(async e=>(f(e.data)&&(e.data=await C(e.data)),e))}function J(e,t,r,n,i,a=!1,s=F){let o,c;e===N.armor.signed&&(o=t.text,c=t.hash,t=t.data);let u=a&&_(t),l=[];switch(e){case N.armor.multipartSection:l.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case N.armor.multipartLast:l.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case N.armor.signed:l.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),l.push(c?`Hash: ${c}

`:"\n"),l.push(o.replace(/^-/gm,"- -")),l.push("\n-----BEGIN PGP SIGNATURE-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP SIGNATURE-----\n");break;case N.armor.message:l.push("-----BEGIN PGP MESSAGE-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP MESSAGE-----\n");break;case N.armor.publicKey:l.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case N.armor.privateKey:l.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case N.armor.signature:l.push("-----BEGIN PGP SIGNATURE-----\n"),l.push(G(i,s)),l.push(H(t)),u&&l.push("=",$(u)),l.push("-----END PGP SIGNATURE-----\n")}return j.concat(l)}async function ee(e){switch(e){case N.symmetric.aes128:case N.symmetric.aes192:case N.symmetric.aes256:throw Error("Not a legacy cipher");case N.symmetric.cast5:case N.symmetric.blowfish:case N.symmetric.twofish:case N.symmetric.tripledes:{let{legacyCiphers:t}=await r.e("node_modules_openpgp_dist_lightweight_legacy_ciphers_min_mjs").then(r.bind(r,99335)),n=t.get(e);if(!n)throw Error("Unsupported cipher algorithm");return n}default:throw Error("Unsupported cipher algorithm")}}function et(e){return{keySize:function(e){switch(e){case N.symmetric.aes128:case N.symmetric.blowfish:case N.symmetric.cast5:return 16;case N.symmetric.aes192:case N.symmetric.tripledes:return 24;case N.symmetric.aes256:case N.symmetric.twofish:return 32;default:throw Error("Unsupported cipher")}}(e),blockSize:function(e){switch(e){case N.symmetric.aes128:case N.symmetric.aes192:case N.symmetric.aes256:case N.symmetric.twofish:return 16;case N.symmetric.blowfish:case N.symmetric.cast5:case N.symmetric.tripledes:return 8;default:throw Error("Unsupported cipher")}}(e)}}var er=Object.freeze({__proto__:null,getCipherParams:et,getLegacyCipher:ee});function en(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=ea(r,n,i,a,t[0],7,-0x28955b88),a=ea(a,r,n,i,t[1],12,-0x173848aa),i=ea(i,a,r,n,t[2],17,0x242070db),n=ea(n,i,a,r,t[3],22,-0x3e423112),r=ea(r,n,i,a,t[4],7,-0xa83f051),a=ea(a,r,n,i,t[5],12,0x4787c62a),i=ea(i,a,r,n,t[6],17,-0x57cfb9ed),n=ea(n,i,a,r,t[7],22,-0x2b96aff),r=ea(r,n,i,a,t[8],7,0x698098d8),a=ea(a,r,n,i,t[9],12,-0x74bb0851),i=ea(i,a,r,n,t[10],17,-42063),n=ea(n,i,a,r,t[11],22,-0x76a32842),r=ea(r,n,i,a,t[12],7,0x6b901122),a=ea(a,r,n,i,t[13],12,-0x2678e6d),i=ea(i,a,r,n,t[14],17,-0x5986bc72),n=ea(n,i,a,r,t[15],22,0x49b40821),r=es(r,n,i,a,t[1],5,-0x9e1da9e),a=es(a,r,n,i,t[6],9,-0x3fbf4cc0),i=es(i,a,r,n,t[11],14,0x265e5a51),n=es(n,i,a,r,t[0],20,-0x16493856),r=es(r,n,i,a,t[5],5,-0x29d0efa3),a=es(a,r,n,i,t[10],9,0x2441453),i=es(i,a,r,n,t[15],14,-0x275e197f),n=es(n,i,a,r,t[4],20,-0x182c0438),r=es(r,n,i,a,t[9],5,0x21e1cde6),a=es(a,r,n,i,t[14],9,-0x3cc8f82a),i=es(i,a,r,n,t[3],14,-0xb2af279),n=es(n,i,a,r,t[8],20,0x455a14ed),r=es(r,n,i,a,t[13],5,-0x561c16fb),a=es(a,r,n,i,t[2],9,-0x3105c08),i=es(i,a,r,n,t[7],14,0x676f02d9),n=es(n,i,a,r,t[12],20,-0x72d5b376),r=eo(r,n,i,a,t[5],4,-378558),a=eo(a,r,n,i,t[8],11,-0x788e097f),i=eo(i,a,r,n,t[11],16,0x6d9d6122),n=eo(n,i,a,r,t[14],23,-0x21ac7f4),r=eo(r,n,i,a,t[1],4,-0x5b4115bc),a=eo(a,r,n,i,t[4],11,0x4bdecfa9),i=eo(i,a,r,n,t[7],16,-0x944b4a0),n=eo(n,i,a,r,t[10],23,-0x41404390),r=eo(r,n,i,a,t[13],4,0x289b7ec6),a=eo(a,r,n,i,t[0],11,-0x155ed806),i=eo(i,a,r,n,t[3],16,-0x2b10cf7b),n=eo(n,i,a,r,t[6],23,0x4881d05),r=eo(r,n,i,a,t[9],4,-0x262b2fc7),a=eo(a,r,n,i,t[12],11,-0x1924661b),i=eo(i,a,r,n,t[15],16,0x1fa27cf8),n=eo(n,i,a,r,t[2],23,-0x3b53a99b),r=ec(r,n,i,a,t[0],6,-0xbd6ddbc),a=ec(a,r,n,i,t[7],10,0x432aff97),i=ec(i,a,r,n,t[14],15,-0x546bdc59),n=ec(n,i,a,r,t[5],21,-0x36c5fc7),r=ec(r,n,i,a,t[12],6,0x655b59c3),a=ec(a,r,n,i,t[3],10,-0x70f3336e),i=ec(i,a,r,n,t[10],15,-1051523),n=ec(n,i,a,r,t[1],21,-0x7a7ba22f),r=ec(r,n,i,a,t[8],6,0x6fa87e4f),a=ec(a,r,n,i,t[15],10,-0x1d31920),i=ec(i,a,r,n,t[6],15,-0x5cfebcec),n=ec(n,i,a,r,t[13],21,0x4e0811a1),r=ec(r,n,i,a,t[4],6,-0x8ac817e),a=ec(a,r,n,i,t[11],10,-0x42c50dcb),i=ec(i,a,r,n,t[2],15,0x2ad7d2bb),n=ec(n,i,a,r,t[9],21,-0x14792c6f),e[0]=el(r,e[0]),e[1]=el(n,e[1]),e[2]=el(i,e[2]),e[3]=el(a,e[3])}function ei(e,t,r,n,i,a){return t=el(el(t,e),el(n,a)),el(t<<i|t>>>32-i,r)}function ea(e,t,r,n,i,a,s){return ei(t&r|~t&n,e,t,i,a,s)}function es(e,t,r,n,i,a,s){return ei(t&n|r&~n,e,t,i,a,s)}function eo(e,t,r,n,i,a,s){return ei(t^r^n,e,t,i,a,s)}function ec(e,t,r,n,i,a,s){return ei(r^(t|~n),e,t,i,a,s)}let eu="0123456789abcdef".split("");function el(e,t){return e+t&0xffffffff}let eh=j.getWebCrypto(),ef=j.getNodeCrypto(),ep=ef&&ef.getHashes();function ey(e){if(ef&&ep.includes(e))return async function(t){let r=ef.createHash(e);return K(t,e=>{r.update(e)},()=>new Uint8Array(r.digest()))}}function ed(e,t){let n=async()=>{let{nobleHashes:t}=await r.e("node_modules_openpgp_dist_lightweight_noble_hashes_min_mjs").then(r.bind(r,87872)),n=t.get(e);if(!n)throw Error("Unsupported hash");return n};return async function(e){if(f(e)&&(e=await C(e)),j.isStream(e)){let t=(await n()).create();return K(e,e=>{t.update(e)},()=>t.digest())}return eh&&t?new Uint8Array(await eh.digest(t,e)):(await n())(e)}}var eg={md5:ey("md5")||async function(e){let t=function(e){let t;let r=e.length,n=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=e.length;t+=64)en(n,function(e){let t;let r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}(e.substring(t-64,t)));e=e.substring(t-64);let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(en(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,en(n,i),n}(j.uint8ArrayToString(e));return j.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=function(e){let t="",r=0;for(;r<4;r++)t+=eu[e>>8*r+4&15]+eu[e>>8*r&15];return t}(e[t]);return e.join("")}(t))},sha1:ey("sha1")||ed("sha1","SHA-1"),sha224:ey("sha224")||ed("sha224"),sha256:ey("sha256")||ed("sha256","SHA-256"),sha384:ey("sha384")||ed("sha384","SHA-384"),sha512:ey("sha512")||ed("sha512","SHA-512"),ripemd:ey("ripemd160")||ed("ripemd160"),sha3_256:ey("sha3-256")||ed("sha3_256"),sha3_512:ey("sha3-512")||ed("sha3_512"),digest:function(e,t){switch(e){case N.hash.md5:return this.md5(t);case N.hash.sha1:return this.sha1(t);case N.hash.ripemd:return this.ripemd(t);case N.hash.sha256:return this.sha256(t);case N.hash.sha384:return this.sha384(t);case N.hash.sha512:return this.sha512(t);case N.hash.sha224:return this.sha224(t);case N.hash.sha3_256:return this.sha3_256(t);case N.hash.sha3_512:return this.sha3_512(t);default:throw Error("Unsupported hash function")}},getHashByteLength:function(e){switch(e){case N.hash.md5:return 16;case N.hash.sha1:case N.hash.ripemd:return 20;case N.hash.sha256:return 32;case N.hash.sha384:return 48;case N.hash.sha512:return 64;case N.hash.sha224:return 28;case N.hash.sha3_256:return 32;case N.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}},getBlockSize:function(e){switch(e){case N.hash.md5:case N.hash.sha1:case N.hash.ripemd:case N.hash.sha224:case N.hash.sha256:return 64;case N.hash.sha384:case N.hash.sha512:return 128;default:throw Error("Invalid hash algorithm.")}}};function em(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function ev(e,...t){if(!em(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ew(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eb(e,t){ev(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */let ek=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),eE=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),eA=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function ex(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!em(e))throw Error("Uint8Array expected, got "+typeof e);e=eU(e)}return e}function eS(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}let eK=(e,t)=>(Object.assign(t,e),t);function eP(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a);e.setUint32(t+0,s,n),e.setUint32(t+4,o,n)}function eD(e){return e.byteOffset%4==0}function eU(e){return Uint8Array.from(e)}function e_(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let eI=new Uint8Array(16),eT=eE(eI),eC=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class eR{constructor(e,t){var r,n,i,a;this.blockLen=16,this.outputLen=16,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,ev(e=ex(e),16);let s=eA(e),o=s.getUint32(0,!1),c=s.getUint32(4,!1),u=s.getUint32(8,!1),l=s.getUint32(12,!1),h=[];for(let e=0;e<128;e++)h.push({s0:eC(o),s1:eC(c),s2:eC(u),s3:eC(l)}),{s0:o,s1:c,s2:u,s3:l}={s3:(i=u)<<31|(a=l)>>>1,s2:(n=c)<<31|i>>>1,s1:(r=o)<<31|n>>>1,s0:r>>>1^-0x1f000000&-(1&a)};let f=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(f))throw Error(`ghash: wrong window size=${f}, should be 2, 4 or 8`);this.W=f;let p=128/f,y=this.windowSize=2**f,d=[];for(let e=0;e<p;e++)for(let t=0;t<y;t++){let r=0,n=0,i=0,a=0;for(let s=0;s<f;s++){if(!(t>>>f-s-1&1))continue;let{s0:o,s1:c,s2:u,s3:l}=h[f*e+s];r^=o,n^=c,i^=u,a^=l}d.push({s0:r,s1:n,s2:i,s3:a})}this.t=d}_updateBlock(e,t,r,n){e^=this.s0,t^=this.s1,r^=this.s2,n^=this.s3;let{W:i,t:a,windowSize:s}=this,o=0,c=0,u=0,l=0,h=(1<<i)-1,f=0;for(let p of[e,t,r,n])for(let e=0;e<4;e++){let t=p>>>8*e&255;for(let e=8/i-1;e>=0;e--){let{s0:r,s1:n,s2:p,s3:y}=a[f*s+(t>>>i*e&h)];o^=r,c^=n,u^=p,l^=y,f+=1}}this.s0=o,this.s1=c,this.s2=u,this.s3=l}update(e){e=ex(e),ew(this);let t=eE(e),r=Math.floor(e.length/16),n=e.length%16;for(let e=0;e<r;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return n&&(eI.set(e.subarray(16*r)),this._updateBlock(eT[0],eT[1],eT[2],eT[3]),e_(eT)),this}destroy(){let{t:e}=this;for(let t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){ew(this),eb(e,this),this.finished=!0;let{s0:t,s1:r,s2:n,s3:i}=this,a=eE(e);return a[0]=t,a[1]=r,a[2]=n,a[3]=i,e}digest(){let e=new Uint8Array(16);return this.digestInto(e),this.destroy(),e}}class eM extends eR{constructor(e,t){let r=function(e){e.reverse();let t=1&e[15],r=0;for(let t=0;t<e.length;t++){let n=e[t];e[t]=n>>>1|r,r=(1&n)<<7}return e[0]^=225&-t,e}(eU(e=ex(e)));super(r,t),e_(r)}update(e){e=ex(e),ew(this);let t=eE(e),r=e.length%16,n=Math.floor(e.length/16);for(let e=0;e<n;e++)this._updateBlock(eC(t[4*e+3]),eC(t[4*e+2]),eC(t[4*e+1]),eC(t[4*e+0]));return r&&(eI.set(e.subarray(16*n)),this._updateBlock(eC(eT[3]),eC(eT[2]),eC(eT[1]),eC(eT[0])),e_(eT)),this}digestInto(e){ew(this),eb(e,this),this.finished=!0;let{s0:t,s1:r,s2:n,s3:i}=this,a=eE(e);return a[0]=t,a[1]=r,a[2]=n,a[3]=i,e.reverse()}}function eO(e){let t=(t,r)=>e(r,t.length).update(ex(t)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(t,r)=>e(t,r),t}let eB=eO((e,t)=>new eR(e,t));eO((e,t)=>new eM(e,t));let eL=new Uint8Array(16);function eN(e){return e<<1^283&-(e>>7)}function eF(e,t){let r=0;for(;t>0;t>>=1)r^=e&-(1&t),e=eN(e);return r}let ej=(()=>{let e=new Uint8Array(256);for(let t=0,r=1;t<256;t++,r^=eN(r))e[t]=r;let t=new Uint8Array(256);t[0]=99;for(let r=0;r<255;r++){let n=e[255-r];n|=n<<8,t[e[r]]=255&(n^n>>4^n>>5^n>>6^n>>7^99)}return e_(e),t})(),ez=ej.map((e,t)=>ej.indexOf(t)),eH=e=>e<<24|e>>>8,eq=e=>e<<8|e>>>24,eW=e=>e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255;function eV(e,t){if(256!==e.length)throw Error("Wrong sbox length");let r=new Uint32Array(256).map((r,n)=>t(e[n])),n=r.map(eq),i=n.map(eq),a=i.map(eq),s=new Uint32Array(65536),o=new Uint32Array(65536),c=new Uint16Array(65536);for(let t=0;t<256;t++)for(let u=0;u<256;u++){let l=256*t+u;s[l]=r[t]^n[u],o[l]=i[t]^a[u],c[l]=e[t]<<8|e[u]}return{sbox:e,sbox2:c,T0:r,T1:n,T2:i,T3:a,T01:s,T23:o}}let eG=eV(ej,e=>eF(e,3)<<24|e<<16|e<<8|eF(e,2)),e$=eV(ez,e=>eF(e,11)<<24|eF(e,13)<<16|eF(e,9)<<8|eF(e,14)),eY=(()=>{let e=new Uint8Array(16);for(let t=0,r=1;t<16;t++,r=eN(r))e[t]=r;return e})();function eQ(e){ev(e);let t=e.length;if(![16,24,32].includes(t))throw Error("aes: wrong key size: should be 16, 24 or 32, got: "+t);let{sbox2:r}=eG,n=[];eD(e)||n.push(e=eU(e));let i=eE(e),a=i.length,s=e=>eJ(r,e,e,e,e),o=new Uint32Array(t+28);o.set(i);for(let e=a;e<o.length;e++){let t=o[e-1];e%a==0?t=s(eH(t))^eY[e/a-1]:a>6&&e%a==4&&(t=s(t)),o[e]=o[e-a]^t}return e_(...n),o}function eZ(e){let t=eQ(e),r=t.slice(),n=t.length,{sbox2:i}=eG,{T0:a,T1:s,T2:o,T3:c}=e$;for(let e=0;e<n;e+=4)for(let i=0;i<4;i++)r[e+i]=t[n-e-4+i];e_(t);for(let e=4;e<n-4;e++){let t=r[e],n=eJ(i,t,t,t,t);r[e]=a[255&n]^s[n>>>8&255]^o[n>>>16&255]^c[n>>>24]}return r}function eX(e,t,r,n,i,a){return e[r<<8&65280|n>>>8&255]^t[i>>>8&65280|a>>>24&255]}function eJ(e,t,r,n,i){return e[255&t|65280&r]|e[n>>>16&255|i>>>16&65280]<<16}function e1(e,t,r,n,i){let{sbox2:a,T01:s,T23:o}=eG,c=0;t^=e[c++],r^=e[c++],n^=e[c++],i^=e[c++];let u=e.length/4-2;for(let a=0;a<u;a++){let a=e[c++]^eX(s,o,t,r,n,i),u=e[c++]^eX(s,o,r,n,i,t),l=e[c++]^eX(s,o,n,i,t,r),h=e[c++]^eX(s,o,i,t,r,n);t=a,r=u,n=l,i=h}return{s0:e[c++]^eJ(a,t,r,n,i),s1:e[c++]^eJ(a,r,n,i,t),s2:e[c++]^eJ(a,n,i,t,r),s3:e[c++]^eJ(a,i,t,r,n)}}function e0(e,t,r,n,i){let{sbox2:a,T01:s,T23:o}=e$,c=0;t^=e[c++],r^=e[c++],n^=e[c++],i^=e[c++];let u=e.length/4-2;for(let a=0;a<u;a++){let a=e[c++]^eX(s,o,t,i,n,r),u=e[c++]^eX(s,o,r,t,i,n),l=e[c++]^eX(s,o,n,r,t,i),h=e[c++]^eX(s,o,i,n,r,t);t=a,r=u,n=l,i=h}return{s0:e[c++]^eJ(a,t,i,n,r),s1:e[c++]^eJ(a,r,t,i,n),s2:e[c++]^eJ(a,n,r,t,i),s3:e[c++]^eJ(a,i,n,r,t)}}function e2(e,t){if(void 0===t)return new Uint8Array(e);if(ev(t),t.length<e)throw Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);if(!eD(t))throw Error("unaligned dst");return t}function e5(e,t,r,n,i){ev(r,16),ev(n),i=e2(n.length,i);let a=eE(r),s=eA(r),o=eE(n),c=eE(i),u=t?0:12,l=n.length,h=s.getUint32(u,t),{s0:f,s1:p,s2:y,s3:d}=e1(e,a[0],a[1],a[2],a[3]);for(let r=0;r+4<=o.length;r+=4)c[r+0]=o[r+0]^f,c[r+1]=o[r+1]^p,c[r+2]=o[r+2]^y,c[r+3]=o[r+3]^d,h=h+1>>>0,s.setUint32(u,h,t),{s0:f,s1:p,s2:y,s3:d}=e1(e,a[0],a[1],a[2],a[3]);let g=16*Math.floor(o.length/4);if(g<l){let e=new Uint32Array([f,p,y,d]),t=ek(e);for(let e=g,r=0;e<l;e++,r++)i[e]=n[e]^t[r];e_(e)}return i}let e3=eK({blockSize:16,nonceLength:16},function(e,t){function r(r,n){if(ev(r),void 0!==n&&(ev(n),!eD(n)))throw Error("unaligned destination");let i=eQ(e),a=eU(t),s=[i,a];eD(r)||s.push(r=eU(r));let o=function(e,t,r,n){ev(t,16),ev(r);let i=r.length;n=e2(i,n);let a=eE(t),{s0:s,s1:o,s2:c,s3:u}=e1(e,a[0],a[1],a[2],a[3]),l=eE(r),h=eE(n);for(let r=0;r+4<=l.length;r+=4){h[r+0]=l[r+0]^s,h[r+1]=l[r+1]^o,h[r+2]=l[r+2]^c,h[r+3]=l[r+3]^u;let n=1;for(let e=t.length-1;e>=0;e--)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8;({s0:s,s1:o,s2:c,s3:u}=e1(e,a[0],a[1],a[2],a[3]))}let f=16*Math.floor(l.length/4);if(f<i){let e=new Uint32Array([s,o,c,u]),t=ek(e);for(let e=f,a=0;e<i;e++,a++)n[e]=r[e]^t[a];e_(e)}return n}(i,a,r,n);return e_(...s),o}return ev(e),ev(t,16),{encrypt:(e,t)=>r(e,t),decrypt:(e,t)=>r(e,t)}}),e8=eK({blockSize:16,nonceLength:16},function(e,t,r={}){ev(e),ev(t,16);let n=!r.disablePadding;return{encrypt(r,i){let a=eQ(e),{b:s,o,out:c}=function(e,t,r){ev(e);let n=e.length,i=n%16;if(!t&&0!==i)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");eD(e)||(e=eU(e));let a=eE(e);if(t){let e=16-i;e||(e=16),n+=e}let s=e2(n,r);return{b:a,o:eE(s),out:s}}(r,n,i),u=t,l=[a];eD(u)||l.push(u=eU(u));let h=eE(u),f=h[0],p=h[1],y=h[2],d=h[3],g=0;for(;g+4<=s.length;)f^=s[g+0],p^=s[g+1],y^=s[g+2],d^=s[g+3],({s0:f,s1:p,s2:y,s3:d}=e1(a,f,p,y,d)),o[g++]=f,o[g++]=p,o[g++]=y,o[g++]=d;if(n){let e=function(e){let t=new Uint8Array(16),r=eE(t);t.set(e);let n=16-e.length;for(let e=16-n;e<16;e++)t[e]=n;return r}(r.subarray(4*g));f^=e[0],p^=e[1],y^=e[2],d^=e[3],({s0:f,s1:p,s2:y,s3:d}=e1(a,f,p,y,d)),o[g++]=f,o[g++]=p,o[g++]=y,o[g++]=d}return e_(...l),c},decrypt(r,i){!function(e){if(ev(e),e.length%16!=0)throw Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}(r);let a=eZ(e),s=t,o=[a];eD(s)||o.push(s=eU(s));let c=eE(s),u=e2(r.length,i);eD(r)||o.push(r=eU(r));let l=eE(r),h=eE(u),f=c[0],p=c[1],y=c[2],d=c[3];for(let e=0;e+4<=l.length;){let t=f,r=p,n=y,i=d;f=l[e+0];let{s0:s,s1:o,s2:c,s3:u}=e0(a,f,p=l[e+1],y=l[e+2],d=l[e+3]);h[e++]=s^t,h[e++]=o^r,h[e++]=c^n,h[e++]=u^i}return e_(...o),function(e,t){if(!t)return e;let r=e.length;if(!r)throw Error("aes/pcks5: empty ciphertext not allowed");let n=e[r-1];if(n<=0||n>16)throw Error("aes/pcks5: wrong padding");let i=e.subarray(0,-n);for(let t=0;t<n;t++)if(e[r-t-1]!==n)throw Error("aes/pcks5: wrong padding");return i}(u,n)}}}),e6=eK({blockSize:16,nonceLength:16},function(e,t){function r(r,n,i){ev(r);let a=r.length;i=e2(a,i);let s=eQ(e),o=t,c=[s];eD(o)||c.push(o=eU(o)),eD(r)||c.push(r=eU(r));let u=eE(r),l=eE(i),h=n?l:u,f=eE(o),p=f[0],y=f[1],d=f[2],g=f[3];for(let e=0;e+4<=u.length;){let{s0:t,s1:r,s2:n,s3:i}=e1(s,p,y,d,g);l[e+0]=u[e+0]^t,l[e+1]=u[e+1]^r,l[e+2]=u[e+2]^n,l[e+3]=u[e+3]^i,p=h[e++],y=h[e++],d=h[e++],g=h[e++]}let m=16*Math.floor(u.length/4);if(m<a){({s0:p,s1:y,s2:d,s3:g}=e1(s,p,y,d,g));let e=ek(new Uint32Array([p,y,d,g]));for(let t=m,n=0;t<a;t++,n++)i[t]=r[t]^e[n];e_(e)}return e_(...c),i}return ev(e),ev(t,16),{encrypt:(e,t)=>r(e,!0,t),decrypt:(e,t)=>r(e,!1,t)}}),e4=eK({blockSize:16,nonceLength:12,tagLength:16},function(e,t,r){if(ev(e),ev(t),void 0!==r&&ev(r),t.length<8)throw Error("aes/gcm: invalid nonce length");function n(e,t,n){let i=function(e,t,r,n,i){let a=null==i?0:i.length,s=e.create(r,n.length+a);i&&s.update(i),s.update(n);let o=new Uint8Array(16),c=eA(o);i&&eP(c,0,BigInt(8*a),t),eP(c,8,BigInt(8*n.length),t),s.update(o);let u=s.digest();return e_(o),u}(eB,!1,e,n,r);for(let e=0;e<t.length;e++)i[e]^=t[e];return i}function i(){let r=eQ(e),n=eL.slice(),i=eL.slice();if(e5(r,!1,i,i,n),12===t.length)i.set(t);else{let e=eL.slice();eP(eA(e),8,BigInt(8*t.length),!1);let r=eB.create(n).update(t).update(e);r.digestInto(i),r.destroy()}return{xk:r,authKey:n,counter:i,tagMask:e5(r,!1,i,eL)}}return{encrypt(e){ev(e);let{xk:t,authKey:r,counter:a,tagMask:s}=i(),o=new Uint8Array(e.length+16),c=[t,r,a,s];eD(e)||c.push(e=eU(e)),e5(t,!1,a,e,o);let u=n(r,s,o.subarray(0,o.length-16));return c.push(u),o.set(u,e.length),e_(...c),o},decrypt(e){if(ev(e),e.length<16)throw Error("aes/gcm: ciphertext less than tagLen (16)");let{xk:t,authKey:r,counter:a,tagMask:s}=i(),o=[t,r,s,a];eD(e)||o.push(e=eU(e));let c=e.subarray(0,-16),u=e.subarray(-16),l=n(r,s,c);if(o.push(l),!eS(l,u))throw Error("aes/gcm: invalid ghash tag");let h=e5(t,!1,a,c);return e_(...o),h}}});function e9(e){return null!=e&&"object"==typeof e&&(e instanceof Uint32Array||"Uint32Array"===e.constructor.name)}let e7={encrypt(e,t){if(t.length>=0x100000000)throw Error("plaintext should be less than 4gb");let r=eQ(e);if(16===t.length)!function(e,t){if(ev(t,16),!e9(e))throw Error("_encryptBlock accepts result of expandKeyLE");let r=eE(t),{s0:n,s1:i,s2:a,s3:s}=e1(e,r[0],r[1],r[2],r[3]);r[0]=n,r[1]=i,r[2]=a,r[3]=s}(r,t);else{let e=eE(t),n=e[0],i=e[1];for(let t=0,a=1;t<6;t++)for(let t=2;t<e.length;t+=2,a++){let{s0:s,s1:o,s2:c,s3:u}=e1(r,n,i,e[t],e[t+1]);n=s,i=o^eW(a),e[t]=c,e[t+1]=u}e[0]=n,e[1]=i}r.fill(0)},decrypt(e,t){if(t.length-8>=0x100000000)throw Error("ciphertext should be less than 4gb");let r=eZ(e),n=t.length/8-1;if(1===n)!function(e,t){if(ev(t,16),!e9(e))throw Error("_decryptBlock accepts result of expandKeyLE");let r=eE(t),{s0:n,s1:i,s2:a,s3:s}=e0(e,r[0],r[1],r[2],r[3]);r[0]=n,r[1]=i,r[2]=a,r[3]=s}(r,t);else{let e=eE(t),i=e[0],a=e[1];for(let t=0,s=6*n;t<6;t++)for(let t=2*n;t>=1;t-=2,s--){let{s0:n,s1:o,s2:c,s3:u}=e0(r,i,a^=eW(s),e[t],e[t+1]);i=n,a=o,e[t]=c,e[t+1]=u}e[0]=i,e[1]=a}r.fill(0)}},te=new Uint8Array(8).fill(166),tt=eK({blockSize:8},e=>({encrypt(t){if(ev(t),!t.length||t.length%8!=0)throw Error("invalid plaintext length");if(8===t.length)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");let r=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ev(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(te,t);return e7.encrypt(e,r),r},decrypt(t){if(ev(t),t.length%8!=0||t.length<24)throw Error("invalid ciphertext length");let r=eU(t);if(e7.decrypt(e,r),!eS(r.subarray(0,8),te))throw Error("integrity check failed");return r.subarray(0,8).fill(0),r.subarray(8)}})),tr={expandKeyLE:eQ,encrypt:e1},tn=j.getWebCrypto(),ti=j.getNodeCrypto(),ta=ti?ti.getCiphers():[],ts={idea:ta.includes("idea-cfb")?"idea-cfb":void 0,tripledes:ta.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:ta.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:ta.includes("bf-cfb")?"bf-cfb":void 0,aes128:ta.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:ta.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:ta.includes("aes-256-cfb")?"aes-256-cfb":void 0};class to{constructor(e,t,r){let{blockSize:n}=et(e);this.key=t,this.prevBlock=r,this.nextBlock=new Uint8Array(n),this.i=0,this.blockSize=n,this.zeroBlock=new Uint8Array(this.blockSize)}static async isSupported(e){let{keySize:t}=et(e);return tn.importKey("raw",new Uint8Array(t),"aes-cbc",!1,["encrypt"]).then(()=>!0,()=>!1)}async _runCBC(e,t){let r="AES-CBC";return this.keyRef=this.keyRef||await tn.importKey("raw",this.key,r,!1,["encrypt"]),new Uint8Array(await tn.encrypt({name:r,iv:t||this.zeroBlock},this.keyRef,e)).subarray(0,e.length)}async encryptChunk(e){let t;let r=this.nextBlock.length-this.i,n=e.subarray(0,r);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){let t=(e.length-r)%this.blockSize,n=j.concatUint8Array([this.nextBlock,e.subarray(r,e.length-t)]),i=j.concatUint8Array([this.prevBlock,n.subarray(0,n.length-this.blockSize)]),a=await this._runCBC(i);return tu(a,n),this.prevBlock=a.slice(-this.blockSize),t>0&&this.nextBlock.set(e.subarray(-t)),this.i=t,a}if(this.i+=n.length,this.i===this.nextBlock.length){let r=this.nextBlock;tu(t=await this._runCBC(this.prevBlock),r),this.prevBlock=t.slice(),this.i=0;let i=e.subarray(n.length);this.nextBlock.set(i,this.i),this.i+=i.length}else t=new Uint8Array;return t}async finish(){let e;if(0===this.i)e=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);let t=this.nextBlock,r=await this._runCBC(this.prevBlock);tu(r,t),e=r.subarray(0,t.length)}return this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}async encrypt(e){let t=(await this._runCBC(j.concatUint8Array([new Uint8Array(this.blockSize),e]),this.iv)).subarray(0,e.length);return tu(t,e),this.clearSensitiveData(),t}}class tc{constructor(e,t,r,n){this.forEncryption=e;let{blockSize:i}=et(t);this.key=tr.expandKeyLE(r),n.byteOffset%4!=0&&(n=n.slice()),this.prevBlock=tl(n),this.nextBlock=new Uint8Array(i),this.i=0,this.blockSize=i}_runCFB(e){let t=tl(e),r=new Uint8Array(e.length),n=tl(r);for(let e=0;e+4<=n.length;e+=4){let{s0:r,s1:i,s2:a,s3:s}=tr.encrypt(this.key,this.prevBlock[0],this.prevBlock[1],this.prevBlock[2],this.prevBlock[3]);n[e+0]=t[e+0]^r,n[e+1]=t[e+1]^i,n[e+2]=t[e+2]^a,n[e+3]=t[e+3]^s,this.prevBlock=(this.forEncryption?n:t).slice(e,e+4)}return r}async processChunk(e){let t;let r=this.nextBlock.length-this.i,n=e.subarray(0,r);if(this.nextBlock.set(n,this.i),this.i+e.length>=2*this.blockSize){let t=(e.length-r)%this.blockSize,n=j.concatUint8Array([this.nextBlock,e.subarray(r,e.length-t)]),i=this._runCFB(n);return t>0&&this.nextBlock.set(e.subarray(-t)),this.i=t,i}if(this.i+=n.length,this.i===this.nextBlock.length){t=this._runCFB(this.nextBlock),this.i=0;let r=e.subarray(n.length);this.nextBlock.set(r,this.i),this.i+=r.length}else t=new Uint8Array;return t}async finish(){let e;return e=0===this.i?new Uint8Array:this._runCFB(this.nextBlock).subarray(0,this.i),this.clearSensitiveData(),e}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.key.fill(0)}}function tu(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++)e[n]=e[n]^t[n]}let tl=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));var th=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n){let i=N.read(N.symmetric,e);if(ti&&ts[i])return function(e,t,r,n){let i=N.read(N.symmetric,e),a=new ti.createDecipheriv(ts[i],t,n);return K(r,e=>new Uint8Array(a.update(e)))}(e,t,r,n);if(j.isAES(e))return async function(e,t,r,n){if(j.isStream(r)){let i=new tc(!1,e,t,n);return K(r,e=>i.processChunk(e),()=>i.finish())}return e6(t,n).decrypt(r)}(e,t,r,n);let a=new(await ee(e))(t),s=a.blockSize,o=n,c=new Uint8Array,u=e=>{e&&(c=j.concatUint8Array([c,e]));let t=new Uint8Array(c.length),r,n=0;for(;e?c.length>=s:c.length;){let e=a.encrypt(o);for(o=c.subarray(0,s),r=0;r<s;r++)t[n++]=o[r]^e[r];c=c.subarray(s)}return t.subarray(0,n)};return K(r,u,u)},encrypt:async function(e,t,r,n,i){let a=N.read(N.symmetric,e);if(j.getNodeCrypto()&&ts[a])return function(e,t,r,n){let i=N.read(N.symmetric,e),a=new ti.createCipheriv(ts[i],t,n);return K(r,e=>new Uint8Array(a.update(e)))}(e,t,r,n);if(j.isAES(e))return async function(e,t,r,n){if(tn&&await to.isSupported(e)){let i=new to(e,t,n);return j.isStream(r)?K(r,e=>i.encryptChunk(e),()=>i.finish()):i.encrypt(r)}if(j.isStream(r)){let i=new tc(!0,e,t,n);return K(r,e=>i.processChunk(e),()=>i.finish())}return e6(t,n).encrypt(r)}(e,t,r,n);let s=new(await ee(e))(t),o=s.blockSize,c=n.slice(),u=new Uint8Array,l=e=>{e&&(u=j.concatUint8Array([u,e]));let t=new Uint8Array(u.length),r,n=0;for(;e?u.length>=o:u.length;){let e=s.encrypt(c);for(r=0;r<o;r++)c[r]=u[r]^e[r],t[n++]=c[r];u=u.subarray(o)}return t.subarray(0,n)};return K(r,l,l)}});let tf=j.getWebCrypto(),tp=j.getNodeCrypto();function ty(e,t){let r=e.length-16;for(let n=0;n<16;n++)e[n+r]^=t[n];return e}let td=new Uint8Array(16);async function tg(e){let t=await tm(e),r=j.double(await t(td)),n=j.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%16==0)return ty(e,t);let n=new Uint8Array(e.length+(16-e.length%16));return n.set(e),n[e.length]=128,ty(n,r)}(e,r,n))).subarray(-16)}}async function tm(e){if(j.getNodeCrypto())return async function(t){return new Uint8Array(new tp.createCipheriv("aes-"+8*e.length+"-cbc",e,td).update(t))};if(j.getWebCrypto())try{return e=await tf.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){let r=await tf.encrypt({name:"AES-CBC",iv:td,length:128},e,t);return new Uint8Array(r).subarray(0,r.byteLength-16)}}catch(t){if("NotSupportedError"!==t.name&&(24!==e.length||"OperationError"!==t.name))throw t;j.printDebugError("Browser did not support operation: "+t.message)}return async function(t){return e8(e,td,{disablePadding:!0}).encrypt(t)}}let tv=j.getWebCrypto(),tw=j.getNodeCrypto(),tb=j.getNodeBuffer(),tk=new Uint8Array(16),tE=new Uint8Array(16);tE[15]=1;let tA=new Uint8Array(16);async function tx(e){let t=await tg(e);return function(e,r){return t(j.concatUint8Array([e,r]))}}async function tS(e){if(j.getNodeCrypto())return async function(t,r){let n=new tw.createCipheriv("aes-"+8*e.length+"-ctr",e,r);return new Uint8Array(tb.concat([n.update(t),n.final()]))};if(j.getWebCrypto())try{let t=await tv.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]);return async function(e,r){let n=await tv.encrypt({name:"AES-CTR",counter:r,length:128},t,e);return new Uint8Array(n)}}catch(t){if("NotSupportedError"!==t.name&&(24!==e.length||"OperationError"!==t.name))throw t;j.printDebugError("Browser did not support operation: "+t.message)}return async function(t,r){return e3(e,r).encrypt(t)}}async function tK(e,t){if(e!==N.symmetric.aes128&&e!==N.symmetric.aes192&&e!==N.symmetric.aes256)throw Error("EAX mode supports only AES cipher");let[r,n]=await Promise.all([tx(t),tS(t)]);return{encrypt:async function(e,t,i){let[a,s]=await Promise.all([r(tk,t),r(tE,i)]),o=await n(e,a),c=await r(tA,o);for(let e=0;e<16;e++)c[e]^=s[e]^a[e];return j.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<16)throw Error("Invalid EAX ciphertext");let a=e.subarray(0,-16),s=e.subarray(-16),[o,c,u]=await Promise.all([r(tk,t),r(tE,i),r(tA,a)]);for(let e=0;e<16;e++)u[e]^=c[e]^o[e];if(!j.equalsUint8Array(s,u))throw Error("Authentication tag mismatch");return await n(a,o)}}}function tP(e){let t=0;for(let r=1;!(e&r);r<<=1)t++;return t}function tD(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function tU(e,t){return tD(e.slice(),t)}tA[15]=2,tK.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},tK.blockLength=16,tK.ivLength=16,tK.tagLength=16;let t_=new Uint8Array(16),tI=new Uint8Array([1]);async function tT(e,t){let r;let{keySize:n}=et(e);if(!j.isAES(e)||t.length!==n)throw Error("Unexpected algorithm or key size");let i=0,a=e8(t,t_,{disablePadding:!0}),s=e=>a.encrypt(e),o=e=>a.decrypt(e);function c(e,t,n,a){let o=t.length/16|0;!function(e,t){let n=j.nbits(Math.max(e.length,t.length)/16|0)-1;for(let e=i+1;e<=n;e++)r[e]=j.double(r[e-1]);i=n}(t,a);let c=j.concatUint8Array([t_.subarray(0,15-n.length),tI,n]),u=63&c[15];c[15]&=192;let l=s(c),h=j.concatUint8Array([l,tU(l.subarray(0,8),l.subarray(1,9))]),f=j.shiftRight(h.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),p=new Uint8Array(16),y=new Uint8Array(t.length+16),d,g=0;for(d=0;d<o;d++)tD(f,r[tP(d+1)]),y.set(tD(e(tU(f,t)),f),g),tD(p,e===s?t:y.subarray(g)),t=t.subarray(16),g+=16;if(t.length){tD(f,r.x);let n=s(f);y.set(tU(t,n),g);let i=new Uint8Array(16);i.set(e===s?t:y.subarray(g,-16),0),i[t.length]=128,tD(p,i),g+=t.length}let m=tD(s(tD(tD(p,f),r.$)),function(e){if(!e.length)return t_;let t=e.length/16|0,n=new Uint8Array(16),i=new Uint8Array(16);for(let a=0;a<t;a++)tD(n,r[tP(a+1)]),tD(i,s(tU(n,e))),e=e.subarray(16);if(e.length){tD(n,r.x);let t=new Uint8Array(16);t.set(e,0),t[e.length]=128,tD(t,n),tD(i,s(t))}return i}(a));return y.set(m,g),y}return function(){let e=s(t_),t=j.double(e);(r=[])[0]=j.double(t),r.x=e,r.$=t}(),{encrypt:async function(e,t,r){return c(s,e,t,r)},decrypt:async function(e,t,r){if(e.length<16)throw Error("Invalid OCB ciphertext");let n=e.subarray(-16),i=c(o,e=e.subarray(0,-16),t,r);if(j.equalsUint8Array(n,i.subarray(-16)))return i.subarray(0,-16);throw Error("Authentication tag mismatch")}}}tT.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},tT.blockLength=16,tT.ivLength=15,tT.tagLength=16;let tC=j.getWebCrypto(),tR=j.getNodeCrypto(),tM=j.getNodeBuffer(),tO="AES-GCM";async function tB(e,t){if(e!==N.symmetric.aes128&&e!==N.symmetric.aes192&&e!==N.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(j.getNodeCrypto())return{encrypt:async function(e,r,n=new Uint8Array){let i=new tR.createCipheriv("aes-"+8*t.length+"-gcm",t,r);return i.setAAD(n),new Uint8Array(tM.concat([i.update(e),i.final(),i.getAuthTag()]))},decrypt:async function(e,r,n=new Uint8Array){let i=new tR.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);return i.setAAD(n),i.setAuthTag(e.slice(e.length-16,e.length)),new Uint8Array(tM.concat([i.update(e.slice(0,e.length-16)),i.final()]))}};if(j.getWebCrypto())try{let e=await tC.importKey("raw",t,{name:tO},!1,["encrypt","decrypt"]),r=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:async function(n,i,a=new Uint8Array){if(r&&!n.length)return e4(t,i,a).encrypt(n);let s=await tC.encrypt({name:tO,iv:i,additionalData:a,tagLength:128},e,n);return new Uint8Array(s)},decrypt:async function(n,i,a=new Uint8Array){if(r&&16===n.length)return e4(t,i,a).decrypt(n);try{let t=await tC.decrypt({name:tO,iv:i,additionalData:a,tagLength:128},e,n);return new Uint8Array(t)}catch(e){if("OperationError"===e.name)throw Error("Authentication tag mismatch")}}}}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;j.printDebugError("Browser did not support operation: "+e.message)}return{encrypt:async function(e,r,n){return e4(t,r,n).encrypt(e)},decrypt:async function(e,r,n){return e4(t,r,n).decrypt(e)}}}tB.getNonce=function(e,t){let r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},tB.blockLength=16,tB.ivLength=12,tB.tagLength=16;var tL={cfb:th,gcm:tB,experimentalGCM:tB,eax:tK,ocb:tT};let tN=BigInt(0),tF=BigInt(1);function tj(e){let t="0123456789ABCDEF",r="";return e.forEach(e=>{r+=t[e>>4]+t[15&e]}),BigInt("0x0"+r)}function tz(e,t){let r=e%t;return r<tN?r+t:r}function tH(e,t,r){if(r===tN)throw Error("Modulo cannot be zero");if(r===tF)return BigInt(0);if(t<tN)throw Error("Unsopported negative exponent");let n=t,i=e;i%=r;let a=BigInt(1);for(;n>tN;){let e=n&tF;n>>=tF,a=e?a*i%r:a,i=i*i%r}return a}function tq(e,t){let{gcd:r,x:n}=function(e,t){let r=BigInt(0),n=BigInt(1),i=BigInt(1),a=BigInt(0),s=e>=tN?e:-e,o=t>=tN?t:-t;for(;o!==tN;){let e=s/o,t=r;r=i-e*r,i=t,t=n,n=a-e*n,a=t,t=o,o=s%o,s=t}return{x:e<tN?-i:i,y:t<tN?-a:a,gcd:s}}(e,t);if(r!==tF)throw Error("Inverse does not exist");return tz(n+t,t)}function tW(e){let t=Number(e);if(t>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return t}function tV(e){let t=e<tN?BigInt(-1):tN,r=1,n=e;for(;(n>>=tF)!==t;)r++;return r}function tG(e){let t=e<tN?BigInt(-1):tN,r=BigInt(8),n=1,i=e;for(;(i>>=r)!==t;)n++;return n}function t$(e,t="be",r){let n=e.toString(16);n.length%2==1&&(n="0"+n);let i=n.length/2,a=new Uint8Array(r||i),s=r?r-i:0,o=0;for(;o<i;)a[o+s]=parseInt(n.slice(2*o,2*o+2),16),o++;return"be"!==t&&a.reverse(),a}let tY=j.getNodeCrypto();function tQ(e){let t="undefined"!=typeof crypto?crypto:tY?.webcrypto;if(t?.getRandomValues){let r=new Uint8Array(e);return t.getRandomValues(r)}throw Error("No secure random number generator available.")}function tZ(e,t){if(t<e)throw Error("Illegal parameter value: max <= min");let r=t-e;return tz(tj(tQ(tG(r)+8)),r)+e}var tX=Object.freeze({__proto__:null,getRandomBigInteger:tZ,getRandomBytes:tQ});let tJ=BigInt(1);function t1(e,t,r){let n=BigInt(30),i=tJ<<BigInt(e-1),a=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],s=tZ(i,i<<tJ),o=tW(tz(s,n));do s+=BigInt(a[o]),o=(o+a[o])%a.length,tV(s)>e&&(s=tz(s,i<<tJ)+i,o=tW(tz(s,n)));while(!t0(s,t,r))return s}function t0(e,t,r){return(!t||function(e,t){let r=e,n=t;for(;n!==tN;){let e=n;n=r%n,r=e}return r}(e-tJ,t)===tJ)&&!!function(e){let t=BigInt(0);return t2.every(r=>tz(e,r)!==t)}(e)&&!!function(e,t=BigInt(2)){return tH(t,e-tJ,e)===tJ}(e)&&!!function(e,t){let r=tV(e);t||(t=Math.max(1,r/48|0));let n=e-tJ,i=0;for(;!((n>>BigInt(i)&tF)===tN?0:1);)i++;let a=e>>BigInt(i);for(;t>0;t--){let t,r=tH(tZ(BigInt(2),n),a,e);if(r!==tJ&&r!==n){for(t=1;t<i;t++){if((r=tz(r*r,e))===tJ)return!1;if(r===n)break}if(t===i)return!1}}return!0}(e,r)}let t2=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999].map(e=>BigInt(e)),t5=[];function t3(e,t){let r=e.length;if(r>t-11)throw Error("Message too long");let n=function(e){let t=new Uint8Array(e),r=0;for(;r<e;){let n=tQ(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function t8(e,t){let r=2,n=1;for(let t=r;t<e.length;t++)n&=0!==e[t],r+=n;let i=r-2,a=e.subarray(r+1),s=0===e[0]&2===e[1]&i>=8&!n;if(t)return j.selectUint8Array(s,a,t);if(s)return a;throw Error("Decryption error")}function t6(e,t,r){let n;if(t.length!==eg.getHashByteLength(e))throw Error("Invalid hash length");let i=new Uint8Array(t5[e].length);for(n=0;n<t5[e].length;n++)i[n]=t5[e][n];let a=i.length+t.length;if(r<a+11)throw Error("Intended encoded message length too short");let s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(t,r-t.length),o}t5[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],t5[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],t5[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],t5[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],t5[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],t5[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],t5[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var t4=Object.freeze({__proto__:null,emeDecode:t8,emeEncode:t3,emsaEncode:t6});let t9=j.getWebCrypto(),t7=j.getNodeCrypto(),re=BigInt(1);async function rt(e,t,r,n,i,a){let s=tj(n),o=tj(i),c=tj(r),u=tz(c,o-re),l=tz(c,s-re);return l=t$(l),u=t$(u),{kty:"RSA",n:V(e),e:V(t),d:V(r),p:V(i),q:V(n),dp:V(u),dq:V(l),qi:V(a),ext:!0}}function rr(e,t){return{kty:"RSA",n:V(e),e:V(t),ext:!0}}function rn(e,t){return{n:W(e.n),e:t$(t),d:W(e.d),p:W(e.q),q:W(e.p),u:W(e.qi)}}var ri=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i,a,s,o){if(j.getNodeCrypto()&&!o)try{return await async function(e,t,r,n,i,a,s){let o={key:await rt(t,r,n,i,a,s),format:"jwk",type:"pkcs1",padding:t7.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(t7.privateDecrypt(o,e))}catch(e){throw Error("Decryption error")}}(e,t,r,n,i,a,s)}catch(e){j.printDebugError(e)}return async function(e,t,r,n,i,a,s,o){if(e=tj(e),t=tj(t),r=tj(r),n=tj(n),i=tj(i),a=tj(a),s=tj(s),e>=t)throw Error("Data too large.");let c=tz(n,a-re),u=tz(n,i-re),l=tZ(BigInt(2),t);e=tz(e*tH(tq(l,t),r,t),t);let h=tH(e,u,i),f=tz(s*(tH(e,c,a)-h),a)*i+h;return t8(t$(f=tz(f*l,t),"be",tG(t)),o)}(e,t,r,n,i,a,s,o)},encrypt:async function(e,t,r){return j.getNodeCrypto()?async function(e,t,r){let n={key:rr(t,r),format:"jwk",type:"pkcs1",padding:t7.constants.RSA_PKCS1_PADDING};return new Uint8Array(t7.publicEncrypt(n,e))}(e,t,r):async function(e,t,r){if(t=tj(t),e=tj(t3(e,tG(t))),r=tj(r),e>=t)throw Error("Message size cannot exceed modulus size");return t$(tH(e,r,t),"be",tG(t))}(e,t,r)},generate:async function(e,t){let r,n,i;if(t=BigInt(t),j.getWebCrypto()){let r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t$(t),hash:{name:"SHA-1"}},n=await t9.generateKey(r,!0,["sign","verify"]);return rn(await t9.exportKey("jwk",n.privateKey),t)}if(j.getNodeCrypto()){let r={modulusLength:e,publicExponent:tW(t),publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}};return rn(await new Promise((e,t)=>{t7.generateKeyPair("rsa",r,(r,n,i)=>{r?t(r):e(i)})}),t)}do n=t1(e-(e>>1),t,40),i=(r=t1(e>>1,t,40))*n;while(tV(i)!==e)let a=(r-re)*(n-re);return n<r&&([r,n]=[n,r]),{n:t$(i),e:t$(t),d:t$(tq(t,a)),p:t$(r),q:t$(n),u:t$(tq(r,n))}},sign:async function(e,t,r,n,i,a,s,o,c){if(eg.getHashByteLength(e)>=r.length)throw Error("Digest size cannot exceed key modulus size");if(t&&!j.isStream(t)){if(j.getWebCrypto())try{return await async function(e,t,r,n,i,a,s,o){let c=await rt(r,n,i,a,s,o),u=await t9.importKey("jwk",c,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["sign"]);return new Uint8Array(await t9.sign("RSASSA-PKCS1-v1_5",u,t))}(N.read(N.webHash,e),t,r,n,i,a,s,o)}catch(e){j.printDebugError(e)}else if(j.getNodeCrypto())return async function(e,t,r,n,i,a,s,o){let c=t7.createSign(N.read(N.hash,e));c.write(t),c.end();let u=await rt(r,n,i,a,s,o);return new Uint8Array(c.sign({key:u,format:"jwk",type:"pkcs1"}))}(e,t,r,n,i,a,s,o)}return async function(e,t,r,n){return t=tj(t),t$(tH(tj(t6(e,n,tG(t))),r=tj(r),t),"be",tG(t))}(e,r,i,c)},validateParams:async function(e,t,r,n,i,a){if(e=tj(e),(n=tj(n))*(i=tj(i))!==e)return!1;let s=BigInt(2);if(tz(n*(a=tj(a)),i)!==BigInt(1))return!1;t=tj(t),r=tj(r);let o=tZ(s,s<<BigInt(Math.floor(tV(e)/3))),c=o*r*t;return!(tz(c,n-re)!==o||tz(c,i-re)!==o)},verify:async function(e,t,r,n,i,a){if(t&&!j.isStream(t)){if(j.getWebCrypto())try{return await async function(e,t,r,n,i){let a=rr(n,i),s=await t9.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return t9.verify("RSASSA-PKCS1-v1_5",s,r,t)}(N.read(N.webHash,e),t,r,n,i)}catch(e){j.printDebugError(e)}else if(j.getNodeCrypto())return async function(e,t,r,n,i){let a=rr(n,i),s=t7.createVerify(N.read(N.hash,e));s.write(t),s.end();try{return s.verify({key:a,format:"jwk",type:"pkcs1"},r)}catch(e){return!1}}(e,t,r,n,i)}return async function(e,t,r,n,i){if(r=tj(r),t=tj(t),n=tj(n),t>=r)throw Error("Signature size cannot exceed modulus size");let a=t$(tH(t,n,r),"be",tG(r)),s=t6(e,i,tG(r));return j.equalsUint8Array(a,s)}(e,r,n,i,a)}});let ra=BigInt(1);var rs=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i){return e=tj(e),t=tj(t),r=tj(r),t8(t$(tz(tq(tH(e,n=tj(n),r),r)*t,r),"be",tG(r)),i)},encrypt:async function(e,t,r,n){t=tj(t),r=tj(r),n=tj(n);let i=tj(t3(e,tG(t))),a=tZ(ra,t-ra);return{c1:t$(tH(r,a,t)),c2:t$(tz(tH(n,a,t)*i,t))}},validateParams:async function(e,t,r,n){if(e=tj(e),t=tj(t),r=tj(r),t<=ra||t>=e)return!1;let i=BigInt(tV(e));if(i<BigInt(1023)||tH(t,e-ra,e)!==ra)return!1;let a=t,s=BigInt(1),o=BigInt(2),c=o<<BigInt(17);for(;s<c;){if((a=tz(a*t,e))===ra)return!1;s++}n=tj(n);let u=tZ(o<<i-ra,o<<i);return r===tH(t,(e-ra)*u+n,e)}});let ro="object"==typeof s&&"crypto"in s?s.crypto:void 0,rc={};var ru=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},rl=function(){throw Error("no PRNG")},rh=new Uint8Array(32);rh[0]=9;var rf=ru(),rp=ru([1]),ry=ru([56129,1]),rd=ru([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),rg=ru([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),rm=ru([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),rv=ru([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),rw=ru([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function rb(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function rk(e,t,r,n){return function(e,t,r,n,i){var a,s=0;for(a=0;a<32;a++)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}(e,t,r,n,0)}function rE(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function rA(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function rx(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function rS(e,t){var r,n,i,a=ru(),s=ru();for(r=0;r<16;r++)s[r]=t[r];for(rA(s),rA(s),rA(s),n=0;n<2;n++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,rx(s,a,1-i)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function rK(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return rS(r,e),rS(n,t),rk(r,0,n,0)}function rP(e){var t=new Uint8Array(32);return rS(t,e),1&t[0]}function rD(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function rU(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function r_(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function rI(e,t,r){var n,i,a=0,s=0,o=0,c=0,u=0,l=0,h=0,f=0,p=0,y=0,d=0,g=0,m=0,v=0,w=0,b=0,k=0,E=0,A=0,x=0,S=0,K=0,P=0,D=0,U=0,_=0,I=0,T=0,C=0,R=0,M=0,O=r[0],B=r[1],L=r[2],N=r[3],F=r[4],j=r[5],z=r[6],H=r[7],q=r[8],W=r[9],V=r[10],G=r[11],$=r[12],Y=r[13],Q=r[14],Z=r[15];a+=(n=t[0])*O,s+=n*B,o+=n*L,c+=n*N,u+=n*F,l+=n*j,h+=n*z,f+=n*H,p+=n*q,y+=n*W,d+=n*V,g+=n*G,m+=n*$,v+=n*Y,w+=n*Q,b+=n*Z,s+=(n=t[1])*O,o+=n*B,c+=n*L,u+=n*N,l+=n*F,h+=n*j,f+=n*z,p+=n*H,y+=n*q,d+=n*W,g+=n*V,m+=n*G,v+=n*$,w+=n*Y,b+=n*Q,k+=n*Z,o+=(n=t[2])*O,c+=n*B,u+=n*L,l+=n*N,h+=n*F,f+=n*j,p+=n*z,y+=n*H,d+=n*q,g+=n*W,m+=n*V,v+=n*G,w+=n*$,b+=n*Y,k+=n*Q,E+=n*Z,c+=(n=t[3])*O,u+=n*B,l+=n*L,h+=n*N,f+=n*F,p+=n*j,y+=n*z,d+=n*H,g+=n*q,m+=n*W,v+=n*V,w+=n*G,b+=n*$,k+=n*Y,E+=n*Q,A+=n*Z,u+=(n=t[4])*O,l+=n*B,h+=n*L,f+=n*N,p+=n*F,y+=n*j,d+=n*z,g+=n*H,m+=n*q,v+=n*W,w+=n*V,b+=n*G,k+=n*$,E+=n*Y,A+=n*Q,x+=n*Z,l+=(n=t[5])*O,h+=n*B,f+=n*L,p+=n*N,y+=n*F,d+=n*j,g+=n*z,m+=n*H,v+=n*q,w+=n*W,b+=n*V,k+=n*G,E+=n*$,A+=n*Y,x+=n*Q,S+=n*Z,h+=(n=t[6])*O,f+=n*B,p+=n*L,y+=n*N,d+=n*F,g+=n*j,m+=n*z,v+=n*H,w+=n*q,b+=n*W,k+=n*V,E+=n*G,A+=n*$,x+=n*Y,S+=n*Q,K+=n*Z,f+=(n=t[7])*O,p+=n*B,y+=n*L,d+=n*N,g+=n*F,m+=n*j,v+=n*z,w+=n*H,b+=n*q,k+=n*W,E+=n*V,A+=n*G,x+=n*$,S+=n*Y,K+=n*Q,P+=n*Z,p+=(n=t[8])*O,y+=n*B,d+=n*L,g+=n*N,m+=n*F,v+=n*j,w+=n*z,b+=n*H,k+=n*q,E+=n*W,A+=n*V,x+=n*G,S+=n*$,K+=n*Y,P+=n*Q,D+=n*Z,y+=(n=t[9])*O,d+=n*B,g+=n*L,m+=n*N,v+=n*F,w+=n*j,b+=n*z,k+=n*H,E+=n*q,A+=n*W,x+=n*V,S+=n*G,K+=n*$,P+=n*Y,D+=n*Q,U+=n*Z,d+=(n=t[10])*O,g+=n*B,m+=n*L,v+=n*N,w+=n*F,b+=n*j,k+=n*z,E+=n*H,A+=n*q,x+=n*W,S+=n*V,K+=n*G,P+=n*$,D+=n*Y,U+=n*Q,_+=n*Z,g+=(n=t[11])*O,m+=n*B,v+=n*L,w+=n*N,b+=n*F,k+=n*j,E+=n*z,A+=n*H,x+=n*q,S+=n*W,K+=n*V,P+=n*G,D+=n*$,U+=n*Y,_+=n*Q,I+=n*Z,m+=(n=t[12])*O,v+=n*B,w+=n*L,b+=n*N,k+=n*F,E+=n*j,A+=n*z,x+=n*H,S+=n*q,K+=n*W,P+=n*V,D+=n*G,U+=n*$,_+=n*Y,I+=n*Q,T+=n*Z,v+=(n=t[13])*O,w+=n*B,b+=n*L,k+=n*N,E+=n*F,A+=n*j,x+=n*z,S+=n*H,K+=n*q,P+=n*W,D+=n*V,U+=n*G,_+=n*$,I+=n*Y,T+=n*Q,C+=n*Z,w+=(n=t[14])*O,b+=n*B,k+=n*L,E+=n*N,A+=n*F,x+=n*j,S+=n*z,K+=n*H,P+=n*q,D+=n*W,U+=n*V,_+=n*G,I+=n*$,T+=n*Y,C+=n*Q,R+=n*Z,b+=(n=t[15])*O,s+=38*(E+=n*L),o+=38*(A+=n*N),c+=38*(x+=n*F),u+=38*(S+=n*j),l+=38*(K+=n*z),h+=38*(P+=n*H),f+=38*(D+=n*q),p+=38*(U+=n*W),y+=38*(_+=n*V),d+=38*(I+=n*G),g+=38*(T+=n*$),m+=38*(C+=n*Y),v+=38*(R+=n*Q),w+=38*(M+=n*Z),a=(n=(a+=38*(k+=n*B))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=h,e[7]=f,e[8]=p,e[9]=y,e[10]=d,e[11]=g,e[12]=m,e[13]=v,e[14]=w,e[15]=b}function rT(e,t){rI(e,t,t)}function rC(e,t){var r,n=ru();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)rT(n,n),2!==r&&4!==r&&rI(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function rR(e,t,r){var n,i,a=new Uint8Array(32),s=new Float64Array(80),o=ru(),c=ru(),u=ru(),l=ru(),h=ru(),f=ru();for(i=0;i<31;i++)a[i]=t[i];for(a[31]=127&t[31]|64,a[0]&=248,rD(s,r),i=0;i<16;i++)c[i]=s[i],l[i]=o[i]=u[i]=0;for(o[0]=l[0]=1,i=254;i>=0;--i)rx(o,c,n=a[i>>>3]>>>(7&i)&1),rx(u,l,n),rU(h,o,u),r_(o,o,u),rU(u,c,l),r_(c,c,l),rT(l,h),rT(f,o),rI(o,u,o),rI(u,c,h),rU(h,o,u),r_(o,o,u),rT(c,o),r_(u,l,f),rI(o,u,ry),rU(o,o,l),rI(u,u,o),rI(o,l,f),rI(l,c,s),rT(c,h),rx(o,c,n),rx(u,l,n);for(i=0;i<16;i++)s[i+16]=o[i],s[i+32]=u[i],s[i+48]=c[i],s[i+64]=l[i];var p=s.subarray(32),y=s.subarray(16);return rC(p,p),rI(y,y,p),rS(e,y),0}var rM=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function rO(e,t,r,n){for(var i,a,s,o,c,u,l,h,f,p,y,d,g,m,v,w,b,k,E,A,x,S,K,P,D,U,_=new Int32Array(16),I=new Int32Array(16),T=e[0],C=e[1],R=e[2],M=e[3],O=e[4],B=e[5],L=e[6],N=e[7],F=t[0],j=t[1],z=t[2],H=t[3],q=t[4],W=t[5],V=t[6],G=t[7],$=0;n>=128;){for(E=0;E<16;E++)A=8*E+$,_[E]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],I[E]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(E=0;E<80;E++)if(i=T,a=C,s=R,o=M,c=O,u=B,l=L,f=F,p=j,y=z,d=H,g=q,m=W,v=V,K=65535&(S=G),P=S>>>16,D=65535&(x=N),U=x>>>16,K+=65535&(S=(q>>>14|O<<18)^(q>>>18|O<<14)^(O>>>9|q<<23)),P+=S>>>16,D+=65535&(x=(O>>>14|q<<18)^(O>>>18|q<<14)^(q>>>9|O<<23)),U+=x>>>16,K+=65535&(S=q&W^~q&V),P+=S>>>16,D+=65535&(x=O&B^~O&L),U+=x>>>16,x=rM[2*E],K+=65535&(S=rM[2*E+1]),P+=S>>>16,D+=65535&x,U+=x>>>16,x=_[E%16],P+=(S=I[E%16])>>>16,D+=65535&x,U+=x>>>16,D+=(P+=(K+=65535&S)>>>16)>>>16,K=65535&(S=k=65535&K|P<<16),P=S>>>16,D=65535&(x=b=65535&D|(U+=D>>>16)<<16),U=x>>>16,K+=65535&(S=(F>>>28|T<<4)^(T>>>2|F<<30)^(T>>>7|F<<25)),P+=S>>>16,D+=65535&(x=(T>>>28|F<<4)^(F>>>2|T<<30)^(F>>>7|T<<25)),U+=x>>>16,P+=(S=F&j^F&z^j&z)>>>16,D+=65535&(x=T&C^T&R^C&R),U+=x>>>16,h=65535&(D+=(P+=(K+=65535&S)>>>16)>>>16)|(U+=D>>>16)<<16,w=65535&K|P<<16,K=65535&(S=d),P=S>>>16,D=65535&(x=o),U=x>>>16,P+=(S=k)>>>16,D+=65535&(x=b),U+=x>>>16,C=i,R=a,M=s,O=o=65535&(D+=(P+=(K+=65535&S)>>>16)>>>16)|(U+=D>>>16)<<16,B=c,L=u,N=l,T=h,j=f,z=p,H=y,q=d=65535&K|P<<16,W=g,V=m,G=v,F=w,E%16==15)for(A=0;A<16;A++)x=_[A],K=65535&(S=I[A]),P=S>>>16,D=65535&x,U=x>>>16,x=_[(A+9)%16],K+=65535&(S=I[(A+9)%16]),P+=S>>>16,D+=65535&x,U+=x>>>16,b=_[(A+1)%16],K+=65535&(S=((k=I[(A+1)%16])>>>1|b<<31)^(k>>>8|b<<24)^(k>>>7|b<<25)),P+=S>>>16,D+=65535&(x=(b>>>1|k<<31)^(b>>>8|k<<24)^b>>>7),U+=x>>>16,b=_[(A+14)%16],P+=(S=((k=I[(A+14)%16])>>>19|b<<13)^(b>>>29|k<<3)^(k>>>6|b<<26))>>>16,D+=65535&(x=(b>>>19|k<<13)^(k>>>29|b<<3)^b>>>6),U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),_[A]=65535&D|U<<16,I[A]=65535&K|P<<16;K=65535&(S=F),P=S>>>16,D=65535&(x=T),U=x>>>16,x=e[0],P+=(S=t[0])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[0]=T=65535&D|U<<16,t[0]=F=65535&K|P<<16,K=65535&(S=j),P=S>>>16,D=65535&(x=C),U=x>>>16,x=e[1],P+=(S=t[1])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[1]=C=65535&D|U<<16,t[1]=j=65535&K|P<<16,K=65535&(S=z),P=S>>>16,D=65535&(x=R),U=x>>>16,x=e[2],P+=(S=t[2])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[2]=R=65535&D|U<<16,t[2]=z=65535&K|P<<16,K=65535&(S=H),P=S>>>16,D=65535&(x=M),U=x>>>16,x=e[3],P+=(S=t[3])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[3]=M=65535&D|U<<16,t[3]=H=65535&K|P<<16,K=65535&(S=q),P=S>>>16,D=65535&(x=O),U=x>>>16,x=e[4],P+=(S=t[4])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[4]=O=65535&D|U<<16,t[4]=q=65535&K|P<<16,K=65535&(S=W),P=S>>>16,D=65535&(x=B),U=x>>>16,x=e[5],P+=(S=t[5])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[5]=B=65535&D|U<<16,t[5]=W=65535&K|P<<16,K=65535&(S=V),P=S>>>16,D=65535&(x=L),U=x>>>16,x=e[6],P+=(S=t[6])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[6]=L=65535&D|U<<16,t[6]=V=65535&K|P<<16,K=65535&(S=G),P=S>>>16,D=65535&(x=N),U=x>>>16,x=e[7],P+=(S=t[7])>>>16,D+=65535&x,U+=(x>>>16)+((D+=(P+=(K+=65535&S)>>>16)>>>16)>>>16),e[7]=N=65535&D|U<<16,t[7]=G=65535&K|P<<16,$+=128,n-=128}return n}function rB(e,t,r){var n,i=new Int32Array(8),a=new Int32Array(8),s=new Uint8Array(256),o=r;for(i[0]=0x6a09e667,i[1]=0xbb67ae85,i[2]=0x3c6ef372,i[3]=0xa54ff53a,i[4]=0x510e527f,i[5]=0x9b05688c,i[6]=0x1f83d9ab,i[7]=0x5be0cd19,a[0]=0xf3bcc908,a[1]=0x84caa73b,a[2]=0xfe94f82b,a[3]=0x5f1d36f1,a[4]=0xade682d1,a[5]=0x2b3e6c1f,a[6]=0xfb41bd6b,a[7]=0x137e2179,rO(i,a,t,r),r%=128,n=0;n<r;n++)s[n]=t[o-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,rb(s,r-8,o/0x20000000|0,o<<3),rO(i,a,s,r),n=0;n<8;n++)rb(e,8*n,i[n],a[n]);return 0}function rL(e,t){var r=ru(),n=ru(),i=ru(),a=ru(),s=ru(),o=ru(),c=ru(),u=ru(),l=ru();r_(r,e[1],e[0]),r_(l,t[1],t[0]),rI(r,r,l),rU(n,e[0],e[1]),rU(l,t[0],t[1]),rI(n,n,l),rI(i,e[3],t[3]),rI(i,i,rg),rI(a,e[2],t[2]),rU(a,a,a),r_(s,n,r),r_(o,a,i),rU(c,a,i),rU(u,n,r),rI(e[0],s,o),rI(e[1],u,c),rI(e[2],c,o),rI(e[3],s,u)}function rN(e,t,r){var n;for(n=0;n<4;n++)rx(e[n],t[n],r)}function rF(e,t){var r=ru(),n=ru(),i=ru();rC(i,t[2]),rI(r,t[0],i),rI(n,t[1],i),rS(e,n),e[31]^=rP(r)<<7}function rj(e,t,r){var n,i;for(rE(e[0],rf),rE(e[1],rp),rE(e[2],rp),rE(e[3],rf),i=255;i>=0;--i)rN(e,t,n=r[i/8|0]>>(7&i)&1),rL(t,e),rL(e,e),rN(e,t,n)}function rz(e,t){var r=[ru(),ru(),ru(),ru()];rE(r[0],rm),rE(r[1],rv),rE(r[2],rp),rI(r[3],rm,rv),rj(e,r,t)}function rH(e,t,r){var n,i=new Uint8Array(64),a=[ru(),ru(),ru(),ru()];for(r||rl(t,32),rB(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,rz(a,i),rF(e,a),n=0;n<32;n++)t[n+32]=e[n];return 0}var rq=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function rW(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*rq[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*rq[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*rq[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function rV(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;rW(e,r)}function rG(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}rc.scalarMult=function(e,t){if(rG(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return rR(r,e,t),r},rc.box={},rc.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return rl(t,32),rR(e,t,rh),{publicKey:e,secretKey:t}},rc.box.keyPair.fromSecretKey=function(e){if(rG(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return rR(t,e,rh),{publicKey:t,secretKey:new Uint8Array(e)}},rc.sign=function(e,t){if(rG(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return function(e,t,r,n){var i,a,s=new Uint8Array(64),o=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),l=[ru(),ru(),ru(),ru()];for(rB(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,i=0;i<r;i++)e[64+i]=t[i];for(i=0;i<32;i++)e[32+i]=s[32+i];for(rB(c,e.subarray(32),r+32),rV(c),rz(l,c),rF(e,l),i=32;i<64;i++)e[i]=n[i];for(rB(o,e,r+64),rV(o),i=0;i<64;i++)u[i]=0;for(i=0;i<32;i++)u[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)u[i+a]+=o[i]*s[a];rW(e.subarray(32),u)}(r,e,e.length,t),r},rc.sign.detached=function(e,t){for(var r=rc.sign(e,t),n=new Uint8Array(64),i=0;i<n.length;i++)n[i]=r[i];return n},rc.sign.detached.verify=function(e,t,r){if(rG(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),a=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return function(e,t,r,n){var i,a,s,o,c,u,l,h,f=new Uint8Array(32),p=new Uint8Array(64),y=[ru(),ru(),ru(),ru()],d=[ru(),ru(),ru(),ru()];if(r<64||(i=ru(),a=ru(),s=ru(),o=ru(),c=ru(),u=ru(),l=ru(),rE(d[2],rp),rD(d[1],n),rT(s,d[1]),rI(o,s,rd),r_(s,s,d[2]),rU(o,d[2],o),rT(c,o),rT(u,c),rI(l,u,c),rI(i,l,s),rI(i,i,o),function(e,t){var r,n=ru();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)rT(n,n),1!==r&&rI(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(i,i),rI(i,i,s),rI(i,i,o),rI(i,i,o),rI(d[0],i,o),rT(a,d[0]),rI(a,a,o),rK(a,s)&&rI(d[0],d[0],rw),rT(a,d[0]),rI(a,a,o),rK(a,s)?-1:(rP(d[0])===n[31]>>7&&r_(d[0],rf,d[0]),rI(d[3],d[0],d[1]),0)))return -1;for(h=0;h<r;h++)e[h]=t[h];for(h=0;h<32;h++)e[h+32]=n[h];if(rB(p,e,r),rV(p),rj(y,d,p),rz(d,t.subarray(32)),rL(y,d),rF(f,y),r-=64,rk(t,0,f,0)){for(h=0;h<r;h++)e[h]=0;return -1}for(h=0;h<r;h++)e[h]=t[h+64];return r}(a,i,i.length,r)>=0},rc.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return rH(e,t),{publicKey:e,secretKey:t}},rc.sign.keyPair.fromSecretKey=function(e){if(rG(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},rc.sign.keyPair.fromSeed=function(e){if(rG(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return rH(t,r,!0),{publicKey:t,secretKey:r}},rc.setPRNG=function(e){rl=e},ro&&ro.getRandomValues&&rc.setPRNG(function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)ro.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];!function(e){for(var t=0;t<e.length;t++)e[t]=0}(n)});let r$={"2a8648ce3d030107":N.curve.nistP256,"2b81040022":N.curve.nistP384,"2b81040023":N.curve.nistP521,"2b8104000a":N.curve.secp256k1,"2b06010401da470f01":N.curve.ed25519Legacy,"2b060104019755010501":N.curve.curve25519Legacy,"2b2403030208010107":N.curve.brainpoolP256r1,"2b240303020801010b":N.curve.brainpoolP384r1,"2b240303020801010d":N.curve.brainpoolP512r1};class rY{constructor(e){if(e instanceof rY)this.oid=e.oid;else if(j.isArray(e)||j.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){let t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return j.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return j.uint8ArrayToHex(this.oid)}getName(){let e=r$[this.toHex()];if(!e)throw Error("Unknown curve object identifier.");return e}}function rQ(e){let t,r=0,n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=j.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function rZ(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):j.concatUint8Array([new Uint8Array([255]),j.writeNumber(e,4)])}function rX(e){return new Uint8Array([192|e])}function rJ(e,t){return j.concatUint8Array([rX(e),rZ(t)])}function r1(e){return[N.packet.literalData,N.packet.compressedData,N.packet.symmetricallyEncryptedData,N.packet.symEncryptedIntegrityProtectedData,N.packet.aeadEncryptedData].includes(e)}async function r0(e,t){let r,n;let i=O(e);try{let a=await i.peekBytes(2);if(!a||a.length<2||!(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let s=await i.readByte(),o,c,u=-1,l=-1;l=0,64&s&&(l=1),l?u=63&s:(u=(63&s)>>2,c=3&s);let f=r1(u),p,y=null;if(f){if("array"===j.isStream(e)){let e=new h;r=B(e),y=e}else{let e=new TransformStream;r=B(e.writable),y=e.readable}n=t({tag:u,packet:y})}else y=[];do{if(l){let e=await i.readByte();if(p=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await i.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),p=!0,!f)throw TypeError("This packet type does not support partial lengths.")}else o=await i.readByte()<<24|await i.readByte()<<16|await i.readByte()<<8|await i.readByte()}else switch(c){case 0:o=await i.readByte();break;case 1:o=await i.readByte()<<8|await i.readByte();break;case 2:o=await i.readByte()<<24|await i.readByte()<<16|await i.readByte()<<8|await i.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){r&&await r.ready;let{done:t,value:n}=await i.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}let a=o===1/0?n:n.subarray(0,o-e);if(r?await r.write(a):y.push(a),(e+=n.length)>=o){i.unshift(n.subarray(o-e+n.length));break}}}}while(p)let d=await i.peekBytes(f?1/0:2);return r?(await r.ready,await r.close()):(y=j.concatUint8Array(y),await t({tag:u,packet:y})),!d||!d.length}catch(e){if(r)return await r.abort(e),!0;throw e}finally{r&&await n,i.releaseLock()}}class r2 extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,r2),this.name="UnsupportedError"}}class r5 extends r2{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,r2),this.name="UnknownPacketError"}}class r3{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */let r8=BigInt(0),r6=BigInt(1),r4=BigInt(2),r9=BigInt(8),r7=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ne=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:r7,n:r7,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),nt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),nr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");let nn=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),ni=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),na=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ns=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class no{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof ny))throw TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ny.ZERO)?no.ZERO:new no(e.x,e.y,r6,nK(e.x*e.y))}static toAffineBatch(e){let t=function(e,t=ne.P){let r=Array(e.length),n=nP(e.reduce((e,n,i)=>n===r8?e:(r[i]=e,nK(e*n,t)),r6),t);return e.reduceRight((e,n,i)=>n===r8?e:(r[i]=nK(e*r[i],t),nK(e*n,t)),n),r}(e.map(e=>e.z));return e.map((e,r)=>e.toAffine(t[r]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){nu(e);let{x:t,y:r,z:n}=this,{x:i,y:a,z:s}=e,o=nK(t*s),c=nK(i*n),u=nK(r*s),l=nK(a*n);return o===c&&u===l}negate(){return new no(nK(-this.x),this.y,this.z,nK(-this.t))}double(){let{x:e,y:t,z:r}=this,{a:n}=ne,i=nK(e*e),a=nK(t*t),s=nK(r4*nK(r*r)),o=nK(n*i),c=e+t,u=nK(nK(c*c)-i-a),l=o+a,h=l-s,f=o-a,p=nK(u*h),y=nK(l*f),d=nK(u*f);return new no(p,y,nK(h*l),d)}add(e){nu(e);let{x:t,y:r,z:n,t:i}=this,{x:a,y:s,z:o,t:c}=e,u=nK((r-t)*(s+a)),l=nK((r+t)*(s-a)),h=nK(l-u);if(h===r8)return this.double();let f=nK(n*r4*c),p=nK(i*r4*o),y=p+f,d=l+u,g=p-f,m=nK(y*h),v=nK(d*g),w=nK(y*g);return new no(m,v,nK(h*d),w)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let t=1+256/e,r=[],n=this,i=n;for(let a=0;a<t;a++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(no.BASE)&&(t=ny.BASE);let r=t&&t._WINDOW_SIZE||1;if(256%r)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&np.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=no.normalizeZ(n),np.set(t,n)));let i=no.ZERO,a=no.BASE,s=1+256/r,o=2**(r-1),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let t=0;t<s;t++){let r=t*o,s=Number(e&c);e>>=l,s>o&&(s-=u,e+=r6);let h=r+Math.abs(s)-1,f=t%2!=0,p=s<0;0===s?a=a.add(nc(f,n[r])):i=i.add(nc(p,n[h]))}return no.normalizeZ([i,a])[0]}multiply(e,t){return this.wNAF(nI(e,ne.l),t)}multiplyUnsafe(e){let t=nI(e,ne.l,!1),r=no.BASE,n=no.ZERO;if(t===r8)return n;if(this.equals(n)||t===r6)return this;if(this.equals(r))return this.wNAF(t);let i=n,a=this;for(;t>r8;)t&r6&&(i=i.add(a)),a=a.double(),t>>=r6;return i}isSmallOrder(){return this.multiplyUnsafe(ne.h).equals(no.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(ne.l/r4).double();return ne.l%r4&&(e=e.add(this)),e.equals(no.ZERO)}toAffine(e){let{x:t,y:r,z:n}=this,i=this.equals(no.ZERO);null==e&&(e=i?r9:nP(n));let a=nK(t*e),s=nK(r*e),o=nK(n*e);if(i)return ny.ZERO;if(o!==r6)throw Error("invZ was invalid");return new ny(a,s)}fromRistrettoBytes(){nh()}toRistrettoBytes(){nh()}fromRistrettoHash(){nh()}}function nc(e,t){let r=t.negate();return e?r:t}function nu(e){if(!(e instanceof no))throw TypeError("ExtendedPoint expected")}function nl(e){if(!(e instanceof nf))throw TypeError("RistrettoPoint expected")}function nh(){throw Error("Legacy method: switch to RistrettoPoint")}no.BASE=new no(ne.Gx,ne.Gy,r6,nK(ne.Gx*ne.Gy)),no.ZERO=new no(r8,r6,r6,r8);class nf{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:t}=ne,r=nK(nr*e*e),n=nK((r+r6)*na),i=BigInt(-1),a=nK((i-t*r)*nK(r+t)),{isValid:s,value:o}=nU(n,a),c=nK(o*e);nE(c)||(c=nK(-c)),s||(o=c),s||(i=r);let u=nK(i*(r-r6)*ns-a),l=o*o,h=nK((o+o)*a),f=nK(u*nn),p=nK(r6-l),y=nK(r6+l);return new no(nK(h*y),nK(p*f),nK(f*y),nK(h*p))}static hashToCurve(e){let t=nS((e=n_(e,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(t),n=nS(e.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new nf(r.add(i))}static fromHex(e){e=n_(e,32);let{a:t,d:r}=ne,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=nS(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(nk(i),e)||nE(i))throw Error(n);let a=nK(i*i),s=nK(r6+t*a),o=nK(r6-t*a),c=nK(s*s),u=nK(o*o),l=nK(t*r*c-u),{isValid:h,value:f}=nU(r6,nK(l*u)),p=nK(f*o),y=nK(f*p*l),d=nK((i+i)*p);nE(d)&&(d=nK(-d));let g=nK(s*y),m=nK(d*g);if(!h||nE(m)||g===r8)throw Error(n);return new nf(new no(d,g,r6,m))}toRawBytes(){let e,{x:t,y:r,z:n,t:i}=this.ep,a=nK(nK(n+r)*nK(n-r)),s=nK(t*r),o=nK(s*s),{value:c}=nU(r6,nK(a*o)),u=nK(c*a),l=nK(c*s),h=nK(u*l*i);if(nE(i*h)){let n=nK(r*nr),i=nK(t*nr);t=n,r=i,e=nK(u*ni)}else e=l;nE(t*h)&&(r=nK(-r));let f=nK((n-r)*e);return nE(f)&&(f=nK(-f)),nk(f)}toHex(){return nv(this.toRawBytes())}toString(){return this.toHex()}equals(e){nl(e);let t=this.ep,r=e.ep,n=nK(t.x*r.y)===nK(t.y*r.x),i=nK(t.y*r.y)===nK(t.x*r.x);return n||i}add(e){return nl(e),new nf(this.ep.add(e.ep))}subtract(e){return nl(e),new nf(this.ep.subtract(e.ep))}multiply(e){return new nf(this.ep.multiply(e))}multiplyUnsafe(e){return new nf(this.ep.multiplyUnsafe(e))}}nf.BASE=new nf(no.BASE),nf.ZERO=new nf(no.ZERO);let np=new WeakMap;class ny{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,np.delete(this)}static fromHex(e,t=!0){let{d:r,P:n}=ne,i=(e=n_(e,32)).slice();i[31]=-129&e[31];let a=nA(i);if(t&&a>=n)throw Error("Expected 0 < hex < P");if(!t&&a>=nt)throw Error("Expected 0 < hex < 2**256");let s=nK(a*a),{isValid:o,value:c}=nU(nK(s-r6),nK(r*s+r6));if(!o)throw Error("Point.fromHex: invalid y coordinate");let u=(c&r6)===r6;return!!(128&e[31])!==u&&(c=nK(-c)),new ny(c,a)}static async fromPrivateKey(e){return(await nT(e)).point}toRawBytes(){let e=nk(this.y);return e[31]|=this.x&r6?128:0,e}toHex(){return nv(this.toRawBytes())}toX25519(){let{y:e}=this;return nk(nK((r6+e)*nP(r6-e)))}isTorsionFree(){return no.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ny(nK(-this.x),this.y)}add(e){return no.fromAffine(this).add(no.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return no.fromAffine(this).multiply(e,this).toAffine()}}ny.BASE=new ny(ne.Gx,ne.Gy),ny.ZERO=new ny(r8,r6);let nd=class e{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(t){let r=n_(t,64);return new e(ny.fromHex(r.slice(0,32),!1),nA(r.slice(32,64)))}assertValidity(){let{r:e,s:t}=this;if(!(e instanceof ny))throw Error("Expected Point instance");return nI(t,ne.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(nk(this.s),32),e}toHex(){return nv(this.toRawBytes())}};function ng(...e){if(!e.every(e=>e instanceof Uint8Array))throw Error("Expected Uint8Array list");if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}let nm=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nv(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nm[e[r]];return t}function nw(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");t[r]=i}return t}function nb(e){return nw(e.toString(16).padStart(64,"0"))}function nk(e){return nb(e).reverse()}function nE(e){return(nK(e)&r6)===r6}function nA(e){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");return BigInt("0x"+nv(Uint8Array.from(e).reverse()))}let nx=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function nS(e){return nK(nA(e)&nx)}function nK(e,t=ne.P){let r=e%t;return r>=r8?r:t+r}function nP(e,t=ne.P){if(e===r8||t<=r8)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=nK(e,t),n=t,i=r8,a=r6;for(;r!==r8;){let e=n%r,t=i-n/r*a;n=r,r=e,i=a,a=t}if(n!==r6)throw Error("invert: does not exist");return nK(i,t)}function nD(e,t){let{P:r}=ne,n=e;for(;t-- >r8;)n*=n,n%=r;return n}function nU(e,t){let r=nK(t*t*t),n=function(e){let{P:t}=ne,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),s=BigInt(80),o=e*e%t*e%t,c=nD(o,r4)*o%t,u=nD(c,r6)*e%t,l=nD(u,r)*u%t,h=nD(l,n)*l%t,f=nD(h,i)*h%t,p=nD(f,a)*f%t,y=nD(p,s)*p%t,d=nD(y,s)*p%t,g=nD(d,n)*l%t;return{pow_p_5_8:nD(g,r4)*e%t,b2:o}}(e*nK(r*r*t)).pow_p_5_8,i=nK(e*r*n),a=nK(t*i*i),s=i,o=nK(i*nr),c=a===e,u=a===nK(-e),l=a===nK(-e*nr);return c&&(i=s),(u||l)&&(i=o),nE(i)&&(i=nK(-i)),{isValid:c||u,value:i}}function n_(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):nw(e);if("number"==typeof t&&r.length!==t)throw Error(`Expected ${t} bytes`);return r}function nI(e,t,r=!0){if(!t)throw TypeError("Specify max value");if("number"==typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"==typeof e&&e<t){if(r){if(r8<e)return e}else if(r8<=e)return e}throw TypeError("Expected valid scalar: 0 < scalar < max")}async function nT(e){return function(e){var t;let r=(t=e.slice(0,32),t[0]&=248,t[31]&=127,t[31]|=64,t),n=e.slice(32,64),i=nK(nA(r),ne.l),a=ny.BASE.multiply(i),s=a.toRawBytes();return{head:r,prefix:n,scalar:i,point:a,pointBytes:s}}(await nM.sha512(function(e){if(32!==(e="bigint"==typeof e||"number"==typeof e?nb(nI(e,nt)):n_(e)).length)throw Error("Expected 32 bytes");return e}(e)))}async function nC(e,t,r){let{r:n,SB:i,msg:a,pub:s}=function(e,t,r){t=n_(t),r instanceof ny||(r=ny.fromHex(r,!1));let{r:n,s:i}=e instanceof nd?e.assertValidity():nd.fromHex(e);return{r:n,s:i,SB:no.BASE.multiplyUnsafe(i),pub:r,msg:t}}(e,t,r),o=await nM.sha512(n.toRawBytes(),s.toRawBytes(),a);return function(e,t,r,n){let i=nK(nA(n),ne.l),a=no.fromAffine(e).multiplyUnsafe(i);return no.fromAffine(t).add(a).subtract(r).multiplyUnsafe(ne.h).equals(no.ZERO)}(s,n,i,o)}ny.BASE._setWindowSize(8);let nR={node:null,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},nM={bytesToHex:nv,hexToBytes:nw,concatBytes:ng,getExtendedPublicKey:nT,mod:nK,invert:nP,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=n_(e)).length<40||e.length>1024)throw Error("Expected 40-1024 bytes of private key as per FIPS 186");return nK(nA(e),ne.l-r6)+r6},randomBytes:(e=32)=>{if(nR.web)return nR.web.getRandomValues(new Uint8Array(e));throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>nM.randomBytes(32),sha512:async(...e)=>{let t=ng(...e);if(nR.web)return new Uint8Array(await nR.web.subtle.digest("SHA-512",t.buffer));throw Error("The environment doesn't have sha512 function")},precompute(e=8,t=ny.BASE){let r=t.equals(ny.BASE)?t:new ny(t.x,t.y);return r._setWindowSize(e),r.multiply(r4),r},sha512Sync:void 0};async function nO(e){switch(e){case N.publicKey.ed25519:try{let e=j.getWebCrypto(),t=await e.generateKey("Ed25519",!0,["sign","verify"]),r=await e.exportKey("jwk",t.privateKey),n=await e.exportKey("jwk",t.publicKey);return{A:new Uint8Array(W(n.x)),seed:W(r.d)}}catch(n){if("NotSupportedError"!==n.name&&"OperationError"!==n.name&&"SyntaxError"!==n.name)throw n;let t=tQ(nF(e)),{publicKey:r}=rc.sign.keyPair.fromSeed(t);return{A:r,seed:t}}case N.publicKey.ed448:{let e=await j.getNobleCurve(N.publicKey.ed448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),seed:t}}default:throw Error("Unsupported EdDSA algorithm")}}async function nB(e,t,r,n,i,a){if(eg.getHashByteLength(t)<eg.getHashByteLength(nj(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case N.publicKey.ed25519:try{let t=j.getWebCrypto(),r=nH(e,n,i),s=await t.importKey("jwk",r,"Ed25519",!1,["sign"]);return{RS:new Uint8Array(await t.sign("Ed25519",s,a))}}catch(t){if("NotSupportedError"!==t.name&&"SyntaxError"!==t.name)throw t;let e=j.concatUint8Array([i,n]);return{RS:rc.sign.detached(a,e)}}case N.publicKey.ed448:return{RS:(await j.getNobleCurve(N.publicKey.ed448)).sign(a,i)};default:throw Error("Unsupported EdDSA algorithm")}}async function nL(e,t,{RS:r},n,i,a){if(eg.getHashByteLength(t)<eg.getHashByteLength(nj(e)))throw Error("Hash algorithm too weak for EdDSA.");switch(e){case N.publicKey.ed25519:try{let t=j.getWebCrypto(),n=nz(e,i),s=await t.importKey("jwk",n,"Ed25519",!1,["verify"]);return await t.verify("Ed25519",s,r,a)}catch(e){if("NotSupportedError"!==e.name&&"SyntaxError"!==e.name)throw e;return nC(r,a,i)}case N.publicKey.ed448:return(await j.getNobleCurve(N.publicKey.ed448)).verify(r,a,i);default:throw Error("Unsupported EdDSA algorithm")}}async function nN(e,t,r){switch(e){case N.publicKey.ed25519:{let{publicKey:e}=rc.sign.keyPair.fromSeed(r);return j.equalsUint8Array(t,e)}case N.publicKey.ed448:{let e=(await j.getNobleCurve(N.publicKey.ed448)).getPublicKey(r);return j.equalsUint8Array(t,e)}default:return!1}}function nF(e){switch(e){case N.publicKey.ed25519:return 32;case N.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function nj(e){switch(e){case N.publicKey.ed25519:return N.hash.sha256;case N.publicKey.ed448:return N.hash.sha512;default:throw Error("Unknown EdDSA algo")}}Object.defineProperties(nM,{sha512Sync:{configurable:!1,get:()=>a,set(e){a||(a=e)}}});let nz=(e,t)=>{if(e===N.publicKey.ed25519)return{kty:"OKP",crv:"Ed25519",x:V(t),ext:!0};throw Error("Unsupported EdDSA algorithm")},nH=(e,t,r)=>{if(e===N.publicKey.ed25519){let n=nz(e,t);return n.d=V(r),n}throw Error("Unsupported EdDSA algorithm")};var nq=Object.freeze({__proto__:null,generate:nO,getPayloadSize:nF,getPreferredHashAlgo:nj,sign:nB,validateParams:nN,verify:nL});let nW=j.getWebCrypto();async function nV(e,t,r){let{keySize:n}=et(e);if(!j.isAES(e)||t.length!==n)throw Error("Unexpected algorithm or key size");try{let e=await nW.importKey("raw",t,{name:"AES-KW"},!1,["wrapKey"]),n=await nW.importKey("raw",r,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),i=await nW.wrapKey("raw",n,e,{name:"AES-KW"});return new Uint8Array(i)}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;j.printDebugError("Browser did not support operation: "+e.message)}return tt(t).encrypt(r)}async function nG(e,t,r){let n;let{keySize:i}=et(e);if(!j.isAES(e)||t.length!==i)throw Error("Unexpected algorithm or key size");try{n=await nW.importKey("raw",t,{name:"AES-KW"},!1,["unwrapKey"])}catch(e){if("NotSupportedError"!==e.name&&(24!==t.length||"OperationError"!==e.name))throw e;return j.printDebugError("Browser did not support operation: "+e.message),tt(t).decrypt(r)}try{let e=await nW.unwrapKey("raw",r,n,{name:"AES-KW"},{name:"HMAC",hash:"SHA-256"},!0,["sign"]);return new Uint8Array(await nW.exportKey("raw",e))}catch(e){if("OperationError"===e.name)throw Error("Key Data Integrity failed");throw e}}var n$=Object.freeze({__proto__:null,unwrap:nG,wrap:nV});let nY=j.getWebCrypto();async function nQ(e,t,r,n,i){let a=N.read(N.webHash,e);if(!a)throw Error("Hash algo not supported with HKDF");let s=await nY.importKey("raw",t,"HKDF",!1,["deriveBits"]);return new Uint8Array(await nY.deriveBits({name:"HKDF",hash:a,salt:r,info:n},s,8*i))}let nZ={x25519:j.encodeUTF8("OpenPGP X25519"),x448:j.encodeUTF8("OpenPGP X448")};async function nX(e){switch(e){case N.publicKey.x25519:{let e=tQ(32),{publicKey:t}=rc.box.keyPair.fromSecretKey(e);return{A:t,k:e}}case N.publicKey.x448:{let e=await j.getNobleCurve(N.publicKey.x448),t=e.utils.randomPrivateKey();return{A:e.getPublicKey(t),k:t}}default:throw Error("Unsupported ECDH algorithm")}}async function nJ(e,t,r){switch(e){case N.publicKey.x25519:{let{publicKey:e}=rc.box.keyPair.fromSecretKey(r);return j.equalsUint8Array(t,e)}case N.publicKey.x448:{let e=(await j.getNobleCurve(N.publicKey.x448)).getPublicKey(r);return j.equalsUint8Array(t,e)}default:return!1}}function n1(e){switch(e){case N.publicKey.x25519:return 32;case N.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}}async function n0(e,t){switch(e){case N.publicKey.x25519:{let r=tQ(n1(e)),n=rc.scalarMult(r,t);n5(n);let{publicKey:i}=rc.box.keyPair.fromSecretKey(r);return{ephemeralPublicKey:i,sharedSecret:n}}case N.publicKey.x448:{let e=await j.getNobleCurve(N.publicKey.x448),r=e.utils.randomPrivateKey(),n=e.getSharedSecret(r,t);return n5(n),{ephemeralPublicKey:e.getPublicKey(r),sharedSecret:n}}default:throw Error("Unsupported ECDH algorithm")}}async function n2(e,t,r,n){switch(e){case N.publicKey.x25519:{let e=rc.scalarMult(n,t);return n5(e),e}case N.publicKey.x448:{let e=(await j.getNobleCurve(N.publicKey.x448)).getSharedSecret(n,t);return n5(e),e}default:throw Error("Unsupported ECDH algorithm")}}function n5(e){let t=0;for(let r=0;r<e.length;r++)t|=e[r];if(0===t)throw Error("Unexpected low order point")}var n3=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i){let a=await n2(e,t,n,i),s=j.concatUint8Array([t,n,a]);switch(e){case N.publicKey.x25519:{let e=N.symmetric.aes128,{keySize:t}=et(e);return nG(e,await nQ(N.hash.sha256,s,new Uint8Array,nZ.x25519,t),r)}case N.publicKey.x448:{let e=N.symmetric.aes256,{keySize:t}=et(N.symmetric.aes256);return nG(e,await nQ(N.hash.sha512,s,new Uint8Array,nZ.x448,t),r)}default:throw Error("Unsupported ECDH algorithm")}},encrypt:async function(e,t,r){let{ephemeralPublicKey:n,sharedSecret:i}=await n0(e,r),a=j.concatUint8Array([n,r,i]);switch(e){case N.publicKey.x25519:{let e=N.symmetric.aes128,{keySize:r}=et(e),i=await nQ(N.hash.sha256,a,new Uint8Array,nZ.x25519,r);return{ephemeralPublicKey:n,wrappedKey:await nV(e,i,t)}}case N.publicKey.x448:{let e=N.symmetric.aes256,{keySize:r}=et(N.symmetric.aes256),i=await nQ(N.hash.sha512,a,new Uint8Array,nZ.x448,r);return{ephemeralPublicKey:n,wrappedKey:await nV(e,i,t)}}default:throw Error("Unsupported ECDH algorithm")}},generate:nX,generateEphemeralEncryptionMaterial:n0,getPayloadSize:n1,recomputeSharedSecret:n2,validateParams:nJ});let n8=j.getWebCrypto(),n6=j.getNodeCrypto(),n4={[N.curve.nistP256]:"P-256",[N.curve.nistP384]:"P-384",[N.curve.nistP521]:"P-521"},n9=n6?n6.getCurves():[],n7=n6?{[N.curve.secp256k1]:n9.includes("secp256k1")?"secp256k1":void 0,[N.curve.nistP256]:n9.includes("prime256v1")?"prime256v1":void 0,[N.curve.nistP384]:n9.includes("secp384r1")?"secp384r1":void 0,[N.curve.nistP521]:n9.includes("secp521r1")?"secp521r1":void 0,[N.curve.ed25519Legacy]:n9.includes("ED25519")?"ED25519":void 0,[N.curve.curve25519Legacy]:n9.includes("X25519")?"X25519":void 0,[N.curve.brainpoolP256r1]:n9.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[N.curve.brainpoolP384r1]:n9.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[N.curve.brainpoolP512r1]:n9.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},ie={[N.curve.nistP256]:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:N.publicKey.ecdsa,hash:N.hash.sha256,cipher:N.symmetric.aes128,node:n7[N.curve.nistP256],web:n4[N.curve.nistP256],payloadSize:32,sharedSize:256,wireFormatLeadingByte:4},[N.curve.nistP384]:{oid:[6,5,43,129,4,0,34],keyType:N.publicKey.ecdsa,hash:N.hash.sha384,cipher:N.symmetric.aes192,node:n7[N.curve.nistP384],web:n4[N.curve.nistP384],payloadSize:48,sharedSize:384,wireFormatLeadingByte:4},[N.curve.nistP521]:{oid:[6,5,43,129,4,0,35],keyType:N.publicKey.ecdsa,hash:N.hash.sha512,cipher:N.symmetric.aes256,node:n7[N.curve.nistP521],web:n4[N.curve.nistP521],payloadSize:66,sharedSize:528,wireFormatLeadingByte:4},[N.curve.secp256k1]:{oid:[6,5,43,129,4,0,10],keyType:N.publicKey.ecdsa,hash:N.hash.sha256,cipher:N.symmetric.aes128,node:n7[N.curve.secp256k1],payloadSize:32,wireFormatLeadingByte:4},[N.curve.ed25519Legacy]:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:N.publicKey.eddsaLegacy,hash:N.hash.sha512,node:!1,payloadSize:32,wireFormatLeadingByte:64},[N.curve.curve25519Legacy]:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:N.publicKey.ecdh,hash:N.hash.sha256,cipher:N.symmetric.aes128,node:!1,payloadSize:32,wireFormatLeadingByte:64},[N.curve.brainpoolP256r1]:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:N.publicKey.ecdsa,hash:N.hash.sha256,cipher:N.symmetric.aes128,node:n7[N.curve.brainpoolP256r1],payloadSize:32,wireFormatLeadingByte:4},[N.curve.brainpoolP384r1]:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:N.publicKey.ecdsa,hash:N.hash.sha384,cipher:N.symmetric.aes192,node:n7[N.curve.brainpoolP384r1],payloadSize:48,wireFormatLeadingByte:4},[N.curve.brainpoolP512r1]:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:N.publicKey.ecdsa,hash:N.hash.sha512,cipher:N.symmetric.aes256,node:n7[N.curve.brainpoolP512r1],payloadSize:64,wireFormatLeadingByte:4}};class it{constructor(e){try{this.name=e instanceof rY?e.getName():N.write(N.curve,e)}catch(e){throw new r2("Unknown curve")}let t=ie[this.name];this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node,this.web=t.web,this.payloadSize=t.payloadSize,this.sharedSize=t.sharedSize,this.wireFormatLeadingByte=t.wireFormatLeadingByte,this.web&&j.getWebCrypto()?this.type="web":this.node&&j.getNodeCrypto()?this.type="node":this.name===N.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===N.curve.ed25519Legacy&&(this.type="ed25519Legacy")}async genKeyPair(){switch(this.type){case"web":try{return await async function(e,t){let r=await n8.generateKey({name:"ECDSA",namedCurve:n4[e]},!0,["sign","verify"]),n=await n8.exportKey("jwk",r.privateKey),i=await n8.exportKey("jwk",r.publicKey);return{publicKey:is(i,t),privateKey:W(n.d)}}(this.name,this.wireFormatLeadingByte)}catch(e){return j.printDebugError("Browser did not support generating ec key "+e.message),ia(this.name)}case"node":return async function(e){let t=n6.createECDH(n7[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519Legacy":{let{k:e,A:t}=await nX(N.publicKey.x25519),r=e.slice().reverse();return r[0]=127&r[0]|64,r[31]&=248,{publicKey:j.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:r}}case"ed25519Legacy":{let{seed:e,A:t}=await nO(N.publicKey.ed25519);return{publicKey:j.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),t]),privateKey:e}}default:return ia(this.name)}}}async function ir(e,t,r,n){let i={[N.curve.nistP256]:!0,[N.curve.nistP384]:!0,[N.curve.nistP521]:!0,[N.curve.secp256k1]:!0,[N.curve.curve25519Legacy]:e===N.publicKey.ecdh,[N.curve.brainpoolP256r1]:!0,[N.curve.brainpoolP384r1]:!0,[N.curve.brainpoolP512r1]:!0},a=t.getName();if(!i[a])return!1;if(a===N.curve.curve25519Legacy){n=n.slice().reverse();let{publicKey:e}=rc.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);let t=new Uint8Array([64,...e]);return!!j.equalsUint8Array(t,r)}let s=(await j.getNobleCurve(N.publicKey.ecdsa,a)).getPublicKey(n,!1);return!!j.equalsUint8Array(s,r)}function ii(e,t){let{payloadSize:r,wireFormatLeadingByte:n,name:i}=e,a=i===N.curve.curve25519Legacy||i===N.curve.ed25519Legacy?r:2*r;if(t[0]!==n||t.length!==a+1)throw Error("Invalid point encoding")}async function ia(e){let t=await j.getNobleCurve(N.publicKey.ecdsa,e),r=t.utils.randomPrivateKey();return{publicKey:t.getPublicKey(r,!1),privateKey:r}}function is(e,t){let r=W(e.x),n=W(e.y),i=new Uint8Array(r.length+n.length+1);return i[0]=t,i.set(r,1),i.set(n,r.length+1),i}function io(e,t,r){let n=r.slice(1,e+1),i=r.slice(e+1,2*e+1);return{kty:"EC",crv:t,x:V(n),y:V(i),ext:!0}}function ic(e,t,r,n){let i=io(e,t,r);return i.d=V(n),i}let iu=j.getWebCrypto(),il=j.getNodeCrypto();async function ih(e,t,r,n,i,a){let s=new it(e);if(ii(s,n),r&&!j.isStream(r))switch(s.type){case"web":try{return await async function(e,t,r,n){let i=e.payloadSize,a=ic(e.payloadSize,n4[e.name],n.publicKey,n.privateKey),s=await iu.importKey("jwk",a,{name:"ECDSA",namedCurve:n4[e.name],hash:{name:N.read(N.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await iu.sign({name:"ECDSA",namedCurve:n4[e.name],hash:{name:N.read(N.webHash,t)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(s,t,r,{publicKey:n,privateKey:i})}catch(e){if("nistP521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;j.printDebugError("Browser did not support signing: "+e.message)}break;case"node":return async function(e,t,r,n){let i=j.nodeRequire("eckey-utils"),a=j.getNodeBuffer(),{privateKey:s}=i.generateDer({curveName:n7[e.name],privateKey:a.from(n)}),o=il.createSign(N.read(N.hash,t));o.write(r),o.end();let c=new Uint8Array(o.sign({key:s,format:"der",type:"sec1",dsaEncoding:"ieee-p1363"})),u=e.payloadSize;return{r:c.subarray(0,u),s:c.subarray(u,u<<1)}}(s,t,r,i)}let o=(await j.getNobleCurve(N.publicKey.ecdsa,s.name)).sign(a,i,{lowS:!1});return{r:t$(o.r,"be",s.payloadSize),s:t$(o.s,"be",s.payloadSize)}}async function ip(e,t,r,n,i,a){let s=new it(e);ii(s,i);let o=async()=>0===a[0]&&iy(s,r,a.subarray(1),i);if(n&&!j.isStream(n))switch(s.type){case"web":try{return await async function(e,t,{r,s:n},i,a){let s=io(e.payloadSize,n4[e.name],a),o=await iu.importKey("jwk",s,{name:"ECDSA",namedCurve:n4[e.name],hash:{name:N.read(N.webHash,e.hash)}},!1,["verify"]),c=j.concatUint8Array([r,n]).buffer;return iu.verify({name:"ECDSA",namedCurve:n4[e.name],hash:{name:N.read(N.webHash,t)}},o,c,i)}(s,t,r,n,i)||o()}catch(e){if("nistP521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;j.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":return await async function(e,t,{r,s:n},i,a){let s=j.nodeRequire("eckey-utils"),o=j.getNodeBuffer(),{publicKey:c}=s.generateDer({curveName:n7[e.name],publicKey:o.from(a)}),u=il.createVerify(N.read(N.hash,t));u.write(i),u.end();let l=j.concatUint8Array([r,n]);try{return u.verify({key:c,format:"der",type:"spki",dsaEncoding:"ieee-p1363"},l)}catch(e){return!1}}(s,t,r,n,i)||o()}return await iy(s,r,a,i)||o()}async function iy(e,t,r,n){return(await j.getNobleCurve(N.publicKey.ecdsa,e.name)).verify(j.concatUint8Array([t.r,t.s]),r,n,{lowS:!1})}var id=Object.freeze({__proto__:null,sign:ih,validateParams:async function(e,t,r){let n=new it(e);if(n.keyType!==N.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{let n=tQ(8),i=N.hash.sha256,a=await eg.digest(i,n);try{let s=await ih(e,i,n,t,r,a);return await ip(e,i,s,n,t,a)}catch(e){return!1}}default:return ir(N.publicKey.ecdsa,e,t,r)}},verify:ip}),ig=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){if(ii(new it(e),n),eg.getHashByteLength(t)<eg.getHashByteLength(N.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let{RS:s}=await nB(N.publicKey.ed25519,t,0,n.subarray(1),i,a);return{r:s.subarray(0,32),s:s.subarray(32)}},validateParams:async function(e,t,r){if(e.getName()!==N.curve.ed25519Legacy)return!1;let{publicKey:n}=rc.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return j.equalsUint8Array(t,i)},verify:async function(e,t,{r,s:n},i,a,s){if(ii(new it(e),a),eg.getHashByteLength(t)<eg.getHashByteLength(N.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let o=j.concatUint8Array([r,n]);return nL(N.publicKey.ed25519,t,{RS:o},0,a.subarray(1),s)}});function im(e){let t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function iv(e){let t=e.length;if(t>0){let r=e[t-1];if(r>=1){let n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(j.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var iw=Object.freeze({__proto__:null,decode:iv,encode:im});let ib=j.getWebCrypto(),ik=j.getNodeCrypto();function iE(e,t,r,n){return j.concatUint8Array([t.write(),new Uint8Array([e]),r.write(!0),j.stringToUint8Array("Anonymous Sender    "),r.replacementFingerprint||n])}async function iA(e,t,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await eg.digest(e,j.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function ix(e,t){switch(e.type){case"curve25519Legacy":{let{sharedSecret:r,ephemeralPublicKey:n}=await n0(N.publicKey.x25519,t.subarray(1));return{publicKey:j.concatUint8Array([new Uint8Array([e.wireFormatLeadingByte]),n]),sharedKey:r}}case"web":if(e.web&&j.getWebCrypto())try{return await async function(e,t){let r=io(e.payloadSize,e.web,t),n=ib.generateKey({name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]),i=ib.importKey("jwk",r,{name:"ECDH",namedCurve:e.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=ib.deriveBits({name:"ECDH",namedCurve:e.web,public:i},n.privateKey,e.sharedSize),s=ib.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);let o=new Uint8Array(a);return{publicKey:new Uint8Array(is(s,e.wireFormatLeadingByte)),sharedKey:o}}(e,t)}catch(r){return j.printDebugError(r),iP(e,t)}break;case"node":return async function(e,t){let r=ik.createECDH(e.node);r.generateKeys();let n=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}(e,t);default:return iP(e,t)}}async function iS(e,t,r,n){if(n.length!==e.payloadSize){let t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519Legacy":{let e=n.slice().reverse();return{secretKey:e,sharedKey:await n2(N.publicKey.x25519,t.subarray(1),r.subarray(1),e)}}case"web":if(e.web&&j.getWebCrypto())try{return await async function(e,t,r,n){let i=ic(e.payloadSize,e.web,r,n),a=ib.importKey("jwk",i,{name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]),s=io(e.payloadSize,e.web,t),o=ib.importKey("jwk",s,{name:"ECDH",namedCurve:e.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=ib.deriveBits({name:"ECDH",namedCurve:e.web,public:o},a,e.sharedSize),u=ib.exportKey("jwk",a);[c,u]=await Promise.all([c,u]);let l=new Uint8Array(c);return{secretKey:W(u.d),sharedKey:l}}(e,t,r,n)}catch(r){return j.printDebugError(r),iK(e,t,n)}break;case"node":return async function(e,t,r){let n=ik.createECDH(e.node);n.setPrivateKey(r);let i=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}(e,t,n);default:return iK(e,t,n)}}async function iK(e,t,r){return{secretKey:r,sharedKey:(await j.getNobleCurve(N.publicKey.ecdh,e.name)).getSharedSecret(r,t).subarray(1)}}async function iP(e,t){let r=await j.getNobleCurve(N.publicKey.ecdh,e.name),{publicKey:n,privateKey:i}=await e.genKeyPair();return{publicKey:n,sharedKey:r.getSharedSecret(i,t).subarray(1)}}var iD=Object.freeze({__proto__:null,decrypt:async function(e,t,r,n,i,a,s){let o;let c=new it(e);ii(c,i),ii(c,r);let{sharedKey:u}=await iS(c,r,i,a),l=iE(N.publicKey.ecdh,e,t,s),{keySize:h}=et(t.cipher);for(let e=0;e<3;e++)try{let r=await iA(t.hash,u,h,l,1===e,2===e);return iv(await nG(t.cipher,r,n))}catch(e){o=e}throw o},encrypt:async function(e,t,r,n,i){let a=im(r),s=new it(e);ii(s,n);let{publicKey:o,sharedKey:c}=await ix(s,n),u=iE(N.publicKey.ecdh,e,t,i),{keySize:l}=et(t.cipher),h=await iA(t.hash,c,l,u);return{publicKey:o,wrappedKey:await nV(t.cipher,h,a)}},validateParams:async function(e,t,r){return ir(N.publicKey.ecdh,e,t,r)}}),iU=Object.freeze({__proto__:null,CurveWithOID:it,ecdh:iD,ecdhX:n3,ecdsa:id,eddsa:nq,eddsaLegacy:ig,generate:async function(e){let t=new it(e),{oid:r,hash:n,cipher:i}=t,a=await t.genKeyPair();return{oid:r,Q:a.publicKey,secret:j.leftPad(a.privateKey,t.payloadSize),hash:n,cipher:i}},getPreferredHashAlgo:function(e){return ie[e.getName()].hash}});let i_=BigInt(0),iI=BigInt(1);var iT=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){let s,o,c,u;let l=BigInt(0);n=tj(n),i=tj(i),r=tj(r),a=tj(a),r=tz(r,n),a=tz(a,i);let h=tz(tj(t.subarray(0,tG(i))),i);for(;;){if((o=tz(tH(r,s=tZ(iI,i),n),i))===l)continue;let e=tz(a*o,i);if(u=tz(h+e,i),(c=tz(tq(s,i)*u,i))!==l)break}return{r:t$(o,"be",tG(n)),s:t$(c,"be",tG(n))}},validateParams:async function(e,t,r,n,i){if(e=tj(e),t=tj(t),r=tj(r),n=tj(n),r<=iI||r>=e||tz(e-iI,t)!==i_||tH(r,t,e)!==iI)return!1;let a=BigInt(tV(t));if(a<BigInt(150)||!t0(t,null,32))return!1;i=tj(i);let s=BigInt(2);return n===tH(r,t*tZ(s<<a-iI,s<<a)+i,e)},verify:async function(e,t,r,n,i,a,s,o){if(t=tj(t),r=tj(r),a=tj(a),s=tj(s),i=tj(i),o=tj(o),t<=i_||t>=s||r<=i_||r>=s)return j.printDebug("invalid DSA Signature"),!1;let c=tz(tj(n.subarray(0,tG(s))),s),u=tq(r,s);if(u===i_)return j.printDebug("invalid DSA Signature"),!1;i=tz(i,a),o=tz(o,a);let l=tz(c*u,s),h=tz(t*u,s);return tz(tz(tH(i,l,a)*tH(o,h,a),a),s)===t}});let iC=new Set([N.hash.sha1,N.hash.sha256,N.hash.sha512]),iR=j.getWebCrypto(),iM=j.getNodeCrypto();async function iO(e,t){if(e===N.publicKey.pqc_mlkem_x25519){let{ml_kem768:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891)),{publicKey:n,secretKey:i}=e.keygen(t);return{mlkemPublicKey:n,mlkemSecretKey:i}}throw Error("Unsupported KEM algorithm")}async function iB(e,t,r,n,i,a,s){let o=j.concatUint8Array([i,t,r,n,a,s,new Uint8Array([e]),j.encodeUTF8("OpenPGPCompositeKDFv1")]);return await eg.digest(N.hash.sha3_256,o)}async function iL(e,t){if(e===N.publicKey.pqc_mldsa_ed25519){let{ml_dsa65:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891)),{secretKey:n,publicKey:i}=e.keygen(t);return{mldsaSecretKey:n,mldsaPublicKey:i}}throw Error("Unsupported signature algorithm")}function iN(e){if(e===N.publicKey.pqc_mldsa_ed25519)return N.hash.sha3_256;throw Error("Unsupported signature algorithm")}var iF={rsa:ri,elgamal:rs,elliptic:iU,dsa:iT,hmac:Object.freeze({__proto__:null,generate:async function(e){if(!iC.has(e))throw Error("Unsupported hash algorithm.");let t=N.read(N.webHash,e),r=iR||iM.webcrypto.subtle,n=await r.generateKey({name:"HMAC",hash:{name:t}},!0,["sign","verify"]);return new Uint8Array(await r.exportKey("raw",n))},sign:async function(e,t,r){if(!iC.has(e))throw Error("Unsupported hash algorithm.");let n=N.read(N.webHash,e),i=iR||iM.webcrypto.subtle,a=await i.importKey("raw",t,{name:"HMAC",hash:{name:n}},!1,["sign"]);return new Uint8Array(await i.sign("HMAC",a,r))},verify:async function(e,t,r,n){if(!iC.has(e))throw Error("Unsupported hash algorithm.");let i=N.read(N.webHash,e),a=iR||iM.webcrypto.subtle,s=await a.importKey("raw",t,{name:"HMAC",hash:{name:i}},!1,["verify"]);return a.verify("HMAC",s,r,n)}}),postQuantum:Object.freeze({__proto__:null,kem:Object.freeze({__proto__:null,decrypt:async function(e,t,n,i,a,s,o,c){let u=await async function(e,t,r){if(e===N.publicKey.pqc_mlkem_x25519)return await n2(N.publicKey.x25519,t,0,r);throw Error("Unsupported KEM algorithm")}(e,t,i),l=await async function(e,t,n){if(e===N.publicKey.pqc_mlkem_x25519){let{ml_kem768:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891));return e.decapsulate(t,n)}throw Error("Unsupported KEM algorithm")}(e,n,s),h=await iB(e,u,t,a,l,n,o);return await nG(N.symmetric.aes256,h,c)},encrypt:async function(e,t,n,i){let{eccKeyShare:a,eccCipherText:s}=await async function(e,t){if(e===N.publicKey.pqc_mlkem_x25519){let{ephemeralPublicKey:e,sharedSecret:r}=await n0(N.publicKey.x25519,t);return{eccCipherText:e,eccKeyShare:r}}throw Error("Unsupported KEM algorithm")}(e,t),{mlkemKeyShare:o,mlkemCipherText:c}=await async function(e,t){if(e===N.publicKey.pqc_mlkem_x25519){let{ml_kem768:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891)),{cipherText:n,sharedSecret:i}=e.encapsulate(t);return{mlkemCipherText:n,mlkemKeyShare:i}}throw Error("Unsupported KEM algorithm")}(e,n),u=await iB(e,a,s,t,o,c,n);return{eccCipherText:s,mlkemCipherText:c,wrappedKey:await nV(N.symmetric.aes256,u,i)}},generate:async function(e){let{eccPublicKey:t,eccSecretKey:r}=await async function(e){if(e===N.publicKey.pqc_mlkem_x25519){let{A:e,k:t}=await nX(N.publicKey.x25519);return{eccPublicKey:e,eccSecretKey:t}}throw Error("Unsupported KEM algorithm")}(e),{mlkemPublicKey:n,mlkemSeed:i,mlkemSecretKey:a}=await async function(e){if(e===N.publicKey.pqc_mlkem_x25519){let t=tQ(64),{mlkemSecretKey:r,mlkemPublicKey:n}=await iO(e,t);return{mlkemSeed:t,mlkemSecretKey:r,mlkemPublicKey:n}}throw Error("Unsupported KEM algorithm")}(e);return{eccPublicKey:t,eccSecretKey:r,mlkemPublicKey:n,mlkemSeed:i,mlkemSecretKey:a}},mlkemExpandSecretSeed:iO,validateParams:async function(e,t,r,n,i){let a=async function(e,t,r){if(e===N.publicKey.pqc_mlkem_x25519)return nJ(N.publicKey.x25519,t,r);throw Error("Unsupported KEM algorithm")}(e,t,r),s=async function(e,t,r){if(e===N.publicKey.pqc_mlkem_x25519){let{mlkemPublicKey:n}=await iO(e,r);return j.equalsUint8Array(t,n)}throw Error("Unsupported KEM algorithm")}(e,n,i);return await a&&await s}}),signature:Object.freeze({__proto__:null,generate:async function(e){if(e===N.publicKey.pqc_mldsa_ed25519){let{eccSecretKey:t,eccPublicKey:r}=await async function(e){if(e===N.publicKey.pqc_mldsa_ed25519){let{A:e,seed:t}=await nO(N.publicKey.ed25519);return{eccPublicKey:e,eccSecretKey:t}}throw Error("Unsupported signature algorithm")}(e),{mldsaSeed:n,mldsaSecretKey:i,mldsaPublicKey:a}=await async function(e){if(e===N.publicKey.pqc_mldsa_ed25519){let t=tQ(32),{mldsaSecretKey:r,mldsaPublicKey:n}=await iL(e,t);return{mldsaSeed:t,mldsaSecretKey:r,mldsaPublicKey:n}}throw Error("Unsupported signature algorithm")}(e);return{eccSecretKey:t,eccPublicKey:r,mldsaSeed:n,mldsaSecretKey:i,mldsaPublicKey:a}}throw Error("Unsupported signature algorithm")},getRequiredHashAlgo:iN,mldsaExpandSecretSeed:iL,sign:async function(e,t,n,i,a,s){if(t!==iN(e))throw Error("Unexpected hash algorithm for PQC signature");if(e===N.publicKey.pqc_mldsa_ed25519){let{eccSignature:o}=await async function(e,t,r,n,i){if(e===N.publicKey.pqc_mldsa_ed25519){let{RS:e}=await nB(N.publicKey.ed25519,t,0,n,r,i);return{eccSignature:e}}throw Error("Unsupported signature algorithm")}(e,t,n,i,s),{mldsaSignature:c}=await async function(e,t,n){if(e===N.publicKey.pqc_mldsa_ed25519){let{ml_dsa65:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891));return{mldsaSignature:e.sign(t,n)}}throw Error("Unsupported signature algorithm")}(e,a,s);return{eccSignature:o,mldsaSignature:c}}throw Error("Unsupported signature algorithm")},validateParams:async function(e,t,r,n,i){let a=async function(e,t,r){if(e===N.publicKey.pqc_mldsa_ed25519)return nN(N.publicKey.ed25519,t,r);throw Error("Unsupported signature algorithm")}(e,t,r),s=async function(e,t,r){if(e===N.publicKey.pqc_mldsa_ed25519){let{mldsaPublicKey:n}=await iL(e,r);return j.equalsUint8Array(t,n)}throw Error("Unsupported signature algorithm")}(e,n,i);return await a&&await s},verify:async function(e,t,n,i,a,{eccSignature:s,mldsaSignature:o}){if(t!==iN(e))throw Error("Unexpected hash algorithm for PQC signature");if(e===N.publicKey.pqc_mldsa_ed25519){let c=async function(e,t,r,n,i){if(e===N.publicKey.pqc_mldsa_ed25519)return nL(N.publicKey.ed25519,t,{RS:i},0,r,n);throw Error("Unsupported signature algorithm")}(e,t,n,a,s),u=async function(e,t,n,i){if(e===N.publicKey.pqc_mldsa_ed25519){let{ml_dsa65:e}=await r.e("node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs").then(r.bind(r,9891));return e.verify(t,n,i)}throw Error("Unsupported signature algorithm")}(e,i,a,o);return await c&&await u}throw Error("Unsupported signature algorithm")}})})};class ij{constructor(e){if(void 0===e&&(e=new Uint8Array([])),!j.isUint8Array(e))throw Error("data must be in the form of a Uint8Array");this.data=e,this.length=this.data.byteLength}write(){return j.concatUint8Array([new Uint8Array([this.length]),this.data])}read(e){if(e.length>=1){let t=e[0];if(e.length>=t+1)return this.data=e.subarray(1,1+t),this.length=t,1+t}throw Error("Invalid octet string")}}var iz=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:case N.publicKey.rsaSign:{let e=j.readMPI(t.subarray(r));return{read:r+=e.length+2,signatureParams:{s:e}}}case N.publicKey.dsa:case N.publicKey.ecdsa:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=j.readMPI(t.subarray(r));return{read:r+=n.length+2,signatureParams:{r:e,s:n}}}case N.publicKey.eddsaLegacy:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=j.readMPI(t.subarray(r));return{read:r+=n.length+2,signatureParams:{r:e,s:n}}}case N.publicKey.ed25519:case N.publicKey.ed448:{let n=2*iF.elliptic.eddsa.getPayloadSize(e),i=j.readExactSubarray(t,r,r+n);return{read:r+=i.length,signatureParams:{RS:i}}}case N.publicKey.hmac:{let e=new ij;return{read:r+=e.read(t.subarray(r)),signatureParams:{mac:e}}}case N.publicKey.pqc_mldsa_ed25519:{let e=2*iF.elliptic.eddsa.getPayloadSize(N.publicKey.ed25519),n=j.readExactSubarray(t,r,r+e);r+=n.length;let i=j.readExactSubarray(t,r,r+3309);return{read:r+=i.length,signatureParams:{eccSignature:n,mldsaSignature:i}}}default:throw new r2("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,a){if(!r||!n)throw Error("Missing key parameters");switch(e){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:case N.publicKey.rsaSign:{let{n:e,e:s}=r,{d:o,p:c,q:u,u:l}=n;return{s:await iF.rsa.sign(t,i,e,s,o,c,u,l,a)}}case N.publicKey.dsa:{let{g:e,p:i,q:s}=r,{x:o}=n;return iF.dsa.sign(t,a,e,i,s,o)}case N.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case N.publicKey.ecdsa:{let{oid:e,Q:s}=r,{d:o}=n;return iF.elliptic.ecdsa.sign(e,t,i,s,o,a)}case N.publicKey.eddsaLegacy:{let{oid:e,Q:s}=r,{seed:o}=n;return iF.elliptic.eddsaLegacy.sign(e,t,i,s,o,a)}case N.publicKey.ed25519:case N.publicKey.ed448:{let{A:s}=r,{seed:o}=n;return iF.elliptic.eddsa.sign(e,t,i,s,o,a)}case N.publicKey.hmac:{let{cipher:e}=r,{keyMaterial:t}=n;return{mac:new ij(await iF.hmac.sign(e.getValue(),t,a))}}case N.publicKey.pqc_mldsa_ed25519:{let{eccPublicKey:i}=r,{eccSecretKey:s,mldsaSecretKey:o}=n;return iF.postQuantum.signature.sign(e,t,s,i,o,a)}default:throw Error("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,a,s){switch(e){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:case N.publicKey.rsaSign:{let{n:e,e:i}=n,o=j.leftPad(r.s,e.length);return iF.rsa.verify(t,a,o,e,i,s)}case N.publicKey.dsa:{let{g:e,p:i,q:a,y:o}=n,{r:c,s:u}=r;return iF.dsa.verify(t,c,u,s,e,i,a,o)}case N.publicKey.ecdsa:{let{oid:e,Q:i}=n,o=new iF.elliptic.CurveWithOID(e).payloadSize,c=j.leftPad(r.r,o),u=j.leftPad(r.s,o);return iF.elliptic.ecdsa.verify(e,t,{r:c,s:u},a,i,s)}case N.publicKey.eddsaLegacy:{let{oid:e,Q:i}=n,o=new iF.elliptic.CurveWithOID(e).payloadSize,c=j.leftPad(r.r,o),u=j.leftPad(r.s,o);return iF.elliptic.eddsaLegacy.verify(e,t,{r:c,s:u},a,i,s)}case N.publicKey.ed25519:case N.publicKey.ed448:{let{A:i}=n;return iF.elliptic.eddsa.verify(e,t,r,a,i,s)}case N.publicKey.hmac:{if(!i)throw Error("Cannot verify HMAC signature with symmetric key missing private parameters");let{cipher:e}=n,{keyMaterial:t}=i;return iF.hmac.verify(e.getValue(),t,r.mac.data,s)}case N.publicKey.pqc_mldsa_ed25519:{let{eccPublicKey:i,mldsaPublicKey:a}=n;return iF.postQuantum.signature.verify(e,t,i,a,s,r)}default:throw Error("Unknown signature algorithm.")}}});class iH{constructor(e){e&&(this.data=e)}read(e){if(e.length>=1){let t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return j.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class iq{constructor(e){if(e){let{version:t,hash:r,cipher:n,replacementFingerprint:i}=e;this.version=t||1,this.hash=r,this.cipher=n,this.replacementFingerprint=i}else this.version=null,this.hash=null,this.cipher=null,this.replacementFingerprint=null}read(e){if(e.length<4||1!==e[1]&&255!==e[1])throw new r2("Cannot read KDFParams");let t=e[0];this.version=e[1],this.hash=e[2],this.cipher=e[3];let r=4;if(255===this.version){let n=t-r+1;this.replacementFingerprint=e.slice(r,r+n),r+=n}return r}write(e){return!this.version||1===this.version||e?new Uint8Array([3,1,this.hash,this.cipher]):j.concatUint8Array([new Uint8Array([3+this.replacementFingerprint.length,this.version,this.hash,this.cipher]),this.replacementFingerprint])}}let iW=e=>class{constructor(e){this.data=void 0===e?null:e}read(t){let r=t[0];return this.data=N.write(e,r),1}write(){return new Uint8Array([this.data])}getName(){return N.read(e,this.data)}getValue(){return this.data}},iV=iW(N.aead),iG=iW(N.symmetric),i$=iW(N.hash);class iY{static fromObject({wrappedKey:e,algorithm:t}){let r=new iY;return r.wrappedKey=e,r.algorithm=t,r}read(e){let t=0,r=e[t++];this.algorithm=r%2?e[t++]:null,r-=r%2,this.wrappedKey=j.readExactSubarray(e,t,t+r),t+=r}write(){return j.concatUint8Array([new Uint8Array(this.algorithm?[this.wrappedKey.length+1,this.algorithm]:[this.wrappedKey.length]),this.wrappedKey])}}async function iQ(e,t){let r=tQ(32);return{privateParams:{hashSeed:r,keyMaterial:e},publicParams:{cipher:t,digest:await eg.sha256(r)}}}function iZ(e){let{keySize:t}=et(e);return tQ(t)}function iX(e){return tL[N.read(N.aead,e)]}function iJ(e){try{e.getName()}catch(e){throw new r2("Unknown curve OID")}}function i1(e,t){switch(e){case N.publicKey.ecdsa:case N.publicKey.ecdh:case N.publicKey.eddsaLegacy:return new iF.elliptic.CurveWithOID(t).payloadSize;case N.publicKey.ed25519:case N.publicKey.ed448:return iF.elliptic.eddsa.getPayloadSize(e);case N.publicKey.x25519:case N.publicKey.x448:return iF.elliptic.ecdhX.getPayloadSize(e);default:throw Error("Unknown elliptic algo")}}var i0=Object.freeze({__proto__:null,generateParams:async function(e,t,r,n){switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:return iF.rsa.generate(t,65537).then(({n:e,e:t,d:r,p:n,q:i,u:a})=>({privateParams:{d:r,p:n,q:i,u:a},publicParams:{n:e,e:t}}));case N.publicKey.ecdsa:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new rY(e),Q:t}}));case N.publicKey.eddsaLegacy:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new rY(e),Q:t}}));case N.publicKey.ecdh:return iF.elliptic.generate(r).then(({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new rY(e),Q:t,kdfParams:new iq({hash:n,cipher:i})}}));case N.publicKey.ed25519:case N.publicKey.ed448:return iF.elliptic.eddsa.generate(e).then(({A:e,seed:t})=>({privateParams:{seed:t},publicParams:{A:e}}));case N.publicKey.x25519:case N.publicKey.x448:return iF.elliptic.ecdhX.generate(e).then(({A:e,k:t})=>({privateParams:{k:t},publicParams:{A:e}}));case N.publicKey.hmac:return iQ(await iF.hmac.generate(n),new i$(n));case N.publicKey.aead:return iQ(iZ(n),new iG(n));case N.publicKey.pqc_mlkem_x25519:return iF.postQuantum.kem.generate(e).then(({eccSecretKey:e,eccPublicKey:t,mlkemSeed:r,mlkemSecretKey:n,mlkemPublicKey:i})=>({privateParams:{eccSecretKey:e,mlkemSeed:r,mlkemSecretKey:n},publicParams:{eccPublicKey:t,mlkemPublicKey:i}}));case N.publicKey.pqc_mldsa_ed25519:return iF.postQuantum.signature.generate(e).then(({eccSecretKey:e,eccPublicKey:t,mldsaSeed:r,mldsaSecretKey:n,mldsaPublicKey:i})=>({privateParams:{eccSecretKey:e,mldsaSeed:r,mldsaSecretKey:n},publicParams:{eccPublicKey:t,mldsaPublicKey:i}}));case N.publicKey.dsa:case N.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},generateSessionKey:iZ,getAEADMode:iX,getCipherParams:et,getCurvePayloadSize:i1,getPreferredCurveHashAlgo:function(e,t){switch(e){case N.publicKey.ecdsa:case N.publicKey.eddsaLegacy:return iF.elliptic.getPreferredHashAlgo(t);case N.publicKey.ed25519:case N.publicKey.ed448:return iF.elliptic.eddsa.getPreferredHashAlgo(e);default:throw Error("Unknown elliptic signing algo")}},getPrefixRandom:async function(e){let{blockSize:t}=et(e),r=await tQ(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return j.concat([r,n])},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:return{c:j.readMPI(t.subarray(r))};case N.publicKey.elgamal:{let e=j.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:j.readMPI(t.subarray(r))}}case N.publicKey.ecdh:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=new iH;return n.read(t.subarray(r)),{V:e,C:n}}case N.publicKey.x25519:case N.publicKey.x448:{let n=i1(e),i=j.readExactSubarray(t,r,r+n);r+=i.length;let a=new iY;return a.read(t.subarray(r)),{ephemeralPublicKey:i,C:a}}case N.publicKey.aead:{let e=new iV;r+=e.read(t.subarray(r));let{ivLength:n}=iX(e.getValue()),i=t.subarray(r,r+n);r+=n;let a=new ij;return r+=a.read(t.subarray(r)),{aeadMode:e,iv:i,c:a}}case N.publicKey.pqc_mlkem_x25519:{let e=j.readExactSubarray(t,r,r+i1(N.publicKey.x25519));r+=e.length;let n=j.readExactSubarray(t,r,r+1088);r+=n.length;let i=new iY;return i.read(t.subarray(r)),{eccCipherText:e,mlkemCipherText:n,C:i}}default:throw new r2("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:async function(e,t,r){let n=0;switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:{let e=j.readMPI(t.subarray(n));n+=e.length+2;let r=j.readMPI(t.subarray(n));n+=r.length+2;let i=j.readMPI(t.subarray(n));n+=i.length+2;let a=j.readMPI(t.subarray(n));return{read:n+=a.length+2,privateParams:{d:e,p:r,q:i,u:a}}}case N.publicKey.dsa:case N.publicKey.elgamal:{let e=j.readMPI(t.subarray(n));return{read:n+=e.length+2,privateParams:{x:e}}}case N.publicKey.ecdsa:case N.publicKey.ecdh:{let i=i1(e,r.oid),a=j.readMPI(t.subarray(n));return{read:n+=a.length+2,privateParams:{d:a=j.leftPad(a,i)}}}case N.publicKey.eddsaLegacy:{let i=i1(e,r.oid);if(r.oid.getName()!==N.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let a=j.readMPI(t.subarray(n));return{read:n+=a.length+2,privateParams:{seed:a=j.leftPad(a,i)}}}case N.publicKey.ed25519:case N.publicKey.ed448:{let r=i1(e),i=j.readExactSubarray(t,n,n+r);return{read:n+=i.length,privateParams:{seed:i}}}case N.publicKey.x25519:case N.publicKey.x448:{let r=i1(e),i=j.readExactSubarray(t,n,n+r);return{read:n+=i.length,privateParams:{k:i}}}case N.publicKey.hmac:{let{cipher:e}=r,i=eg.getHashByteLength(e.getValue()),a=t.subarray(n,n+32);n+=32;let s=t.subarray(n,n+i);return{read:n+=i,privateParams:{hashSeed:a,keyMaterial:s}}}case N.publicKey.aead:{let{cipher:e}=r,i=t.subarray(n,n+32);n+=32;let{keySize:a}=et(e.getValue()),s=t.subarray(n,n+a);return{read:n+=a,privateParams:{hashSeed:i,keyMaterial:s}}}case N.publicKey.pqc_mlkem_x25519:{let r=j.readExactSubarray(t,n,n+i1(N.publicKey.x25519));n+=r.length;let i=j.readExactSubarray(t,n,n+64);n+=i.length;let{mlkemSecretKey:a}=await iF.postQuantum.kem.mlkemExpandSecretSeed(e,i);return{read:n,privateParams:{eccSecretKey:r,mlkemSecretKey:a,mlkemSeed:i}}}case N.publicKey.pqc_mldsa_ed25519:{let r=j.readExactSubarray(t,n,n+i1(N.publicKey.ed25519));n+=r.length;let i=j.readExactSubarray(t,n,n+32);n+=i.length;let{mldsaSecretKey:a}=await iF.postQuantum.signature.mldsaExpandSecretSeed(e,i);return{read:n,privateParams:{eccSecretKey:r,mldsaSecretKey:a,mldsaSeed:i}}}default:throw new r2("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=j.readMPI(t.subarray(r));return{read:r+=n.length+2,publicParams:{n:e,e:n}}}case N.publicKey.dsa:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=j.readMPI(t.subarray(r));r+=n.length+2;let i=j.readMPI(t.subarray(r));r+=i.length+2;let a=j.readMPI(t.subarray(r));return{read:r+=a.length+2,publicParams:{p:e,q:n,g:i,y:a}}}case N.publicKey.elgamal:{let e=j.readMPI(t.subarray(r));r+=e.length+2;let n=j.readMPI(t.subarray(r));r+=n.length+2;let i=j.readMPI(t.subarray(r));return{read:r+=i.length+2,publicParams:{p:e,g:n,y:i}}}case N.publicKey.ecdsa:{let e=new rY;r+=e.read(t),iJ(e);let n=j.readMPI(t.subarray(r));return{read:r+=n.length+2,publicParams:{oid:e,Q:n}}}case N.publicKey.eddsaLegacy:{let e=new rY;if(r+=e.read(t),iJ(e),e.getName()!==N.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let n=j.readMPI(t.subarray(r));return{read:r+=n.length+2,publicParams:{oid:e,Q:n=j.leftPad(n,33)}}}case N.publicKey.ecdh:{let e=new rY;r+=e.read(t),iJ(e);let n=j.readMPI(t.subarray(r));r+=n.length+2;let i=new iq;return{read:r+=i.read(t.subarray(r)),publicParams:{oid:e,Q:n,kdfParams:i}}}case N.publicKey.ed25519:case N.publicKey.ed448:case N.publicKey.x25519:case N.publicKey.x448:{let n=j.readExactSubarray(t,r,r+i1(e));return{read:r+=n.length,publicParams:{A:n}}}case N.publicKey.hmac:case N.publicKey.aead:{let e=new iG;r+=e.read(t);let n=eg.getHashByteLength(N.hash.sha256),i=t.subarray(r,r+n);return{read:r+=n,publicParams:{cipher:e,digest:i}}}case N.publicKey.pqc_mlkem_x25519:{let e=j.readExactSubarray(t,r,r+i1(N.publicKey.x25519));r+=e.length;let n=j.readExactSubarray(t,r,r+1184);return{read:r+=n.length,publicParams:{eccPublicKey:e,mlkemPublicKey:n}}}case N.publicKey.pqc_mldsa_ed25519:{let e=j.readExactSubarray(t,r,r+i1(N.publicKey.ed25519));r+=e.length;let n=j.readExactSubarray(t,r,r+1952);return{read:r+=n.length,publicParams:{eccPublicKey:e,mldsaPublicKey:n}}}default:throw new r2("Unknown public key encryption algorithm.")}},publicKeyDecrypt:async function(e,t,r,n,i,a){switch(e){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:{let{c:e}=n,{n:i,e:s}=t,{d:o,p:c,q:u,u:l}=r;return iF.rsa.decrypt(e,i,s,o,c,u,l,a)}case N.publicKey.elgamal:{let{c1:e,c2:i}=n,s=t.p,o=r.x;return iF.elgamal.decrypt(e,i,s,o,a)}case N.publicKey.ecdh:{let{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:u}=n;return iF.elliptic.ecdh.decrypt(e,s,c,u.data,a,o,i)}case N.publicKey.x25519:case N.publicKey.x448:{let{A:i}=t,{k:a}=r,{ephemeralPublicKey:s,C:o}=n;if(null!==o.algorithm&&!j.isAES(o.algorithm))throw Error("AES session key expected");return iF.elliptic.ecdhX.decrypt(e,s,o.wrappedKey,i,a)}case N.publicKey.aead:{let{cipher:e}=t,i=e.getValue(),{keyMaterial:a}=r,{aeadMode:s,iv:o,c}=n,u=iX(s.getValue());return(await u(i,a)).decrypt(c.data,o,new Uint8Array)}case N.publicKey.pqc_mlkem_x25519:{let{eccSecretKey:i,mlkemSecretKey:a}=r,{eccPublicKey:s,mlkemPublicKey:o}=t,{eccCipherText:c,mlkemCipherText:u,C:l}=n;return iF.postQuantum.kem.decrypt(e,c,u,i,s,a,o,l.wrappedKey)}default:throw Error("Unknown public key encryption algorithm.")}},publicKeyEncrypt:async function(e,t,r,n,i,a){switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:{let{n:e,e:t}=r;return{c:await iF.rsa.encrypt(i,e,t)}}case N.publicKey.elgamal:{let{p:e,g:t,y:n}=r;return iF.elgamal.encrypt(i,e,t,n)}case N.publicKey.ecdh:{let{oid:e,Q:t,kdfParams:n}=r,{publicKey:s,wrappedKey:o}=await iF.elliptic.ecdh.encrypt(e,n,i,t,a);return{V:s,C:new iH(o)}}case N.publicKey.x25519:case N.publicKey.x448:{if(t&&!j.isAES(t))throw Error("X25519 and X448 keys can only encrypt AES session keys");let{A:n}=r,{ephemeralPublicKey:a,wrappedKey:s}=await iF.elliptic.ecdhX.encrypt(e,i,n);return{ephemeralPublicKey:a,C:iY.fromObject({algorithm:t,wrappedKey:s})}}case N.publicKey.aead:{if(!n)throw Error("Cannot encrypt with symmetric key missing private parameters");let{cipher:e}=r,t=e.getValue(),{keyMaterial:a}=n,s=F.preferredAEADAlgorithm,o=iX(F.preferredAEADAlgorithm),{ivLength:c}=o,u=tQ(c),l=await o(t,a),h=await l.encrypt(i,u,new Uint8Array);return{aeadMode:new iV(s),iv:u,c:new ij(h)}}case N.publicKey.pqc_mlkem_x25519:{let{eccPublicKey:n,mlkemPublicKey:a}=r,{eccCipherText:s,mlkemCipherText:o,wrappedKey:c}=await iF.postQuantum.kem.encrypt(e,n,a,i);return{eccCipherText:s,mlkemCipherText:o,C:iY.fromObject({algorithm:t,wrappedKey:c})}}default:return[]}},serializeParams:function(e,t){let r=new Set([N.publicKey.ed25519,N.publicKey.x25519,N.publicKey.ed448,N.publicKey.x448,N.publicKey.aead,N.publicKey.hmac,N.publicKey.pqc_mlkem_x25519,N.publicKey.pqc_mldsa_ed25519]),n={[N.publicKey.pqc_mlkem_x25519]:new Set(["mlkemSecretKey"]),[N.publicKey.pqc_mldsa_ed25519]:new Set(["mldsaSecretKey"])},i=Object.keys(t).map(i=>{if(n[e]?.has(i))return new Uint8Array;let a=t[i];return j.isUint8Array(a)?r.has(e)?a:j.uint8ArrayToMPI(a):a.write()});return j.concatUint8Array(i)},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:{let{n:e,e:n}=t,{d:i,p:a,q:s,u:o}=r;return iF.rsa.validateParams(e,n,i,a,s,o)}case N.publicKey.dsa:{let{p:e,q:n,g:i,y:a}=t,{x:s}=r;return iF.dsa.validateParams(e,n,i,a,s)}case N.publicKey.elgamal:{let{p:e,g:n,y:i}=t,{x:a}=r;return iF.elgamal.validateParams(e,n,i,a)}case N.publicKey.ecdsa:case N.publicKey.ecdh:{let n=iF.elliptic[N.read(N.publicKey,e)],{oid:i,Q:a}=t,{d:s}=r;return n.validateParams(i,a,s)}case N.publicKey.eddsaLegacy:{let{Q:e,oid:n}=t,{seed:i}=r;return iF.elliptic.eddsaLegacy.validateParams(n,e,i)}case N.publicKey.ed25519:case N.publicKey.ed448:{let{A:n}=t,{seed:i}=r;return iF.elliptic.eddsa.validateParams(e,n,i)}case N.publicKey.x25519:case N.publicKey.x448:{let{A:n}=t,{k:i}=r;return iF.elliptic.ecdhX.validateParams(e,n,i)}case N.publicKey.hmac:{let{cipher:e,digest:n}=t,{hashSeed:i,keyMaterial:a}=r;return eg.getHashByteLength(e.getValue())===a.length&&j.equalsUint8Array(n,await eg.sha256(i))}case N.publicKey.aead:{let{cipher:e,digest:n}=t,{hashSeed:i,keyMaterial:a}=r,{keySize:s}=et(e.getValue());return s===a.length&&j.equalsUint8Array(n,await eg.sha256(i))}case N.publicKey.pqc_mlkem_x25519:{let{eccSecretKey:n,mlkemSeed:i}=r,{eccPublicKey:a,mlkemPublicKey:s}=t;return iF.postQuantum.kem.validateParams(e,a,n,s,i)}case N.publicKey.pqc_mldsa_ed25519:{let{eccSecretKey:n,mldsaSeed:i}=r,{eccPublicKey:a,mldsaPublicKey:s}=t;return iF.postQuantum.signature.validateParams(e,a,n,s,i)}default:throw Error("Unknown public key algorithm.")}}});let i2={cipher:er,hash:eg,mode:tL,publicKey:iF,signature:iz,random:tX,pkcs1:t4,pkcs5:iw,aesKW:n$};Object.assign(i2,i0);class i5 extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,i5),this.name="Argon2OutOfMemoryError"}}let i3,i8,i6=1048576;class i4{static get ARGON2_WASM_MEMORY_THRESHOLD_RELOAD(){return i6}static set ARGON2_WASM_MEMORY_THRESHOLD_RELOAD(e){i6=e}static reloadWasmModule(){i3&&(i8=i3()).catch(()=>{})}constructor(e=F){let{passes:t,parallelism:r,memoryExponent:n}=e.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=t,this.p=r,this.encodedM=n}generateSalt(){this.salt=i2.random.getRandomBytes(16)}read(e){let t=0;return this.salt=e.subarray(t,t+16),t+=16,this.t=e[t++],this.p=e[t++],this.encodedM=e[t++],t}write(){let e=[new Uint8Array([N.write(N.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return j.concatUint8Array(e)}async produceKey(e,t){let n=2<<this.encodedM-1;try{i3=i3||(await r.e("node_modules_openpgp_dist_lightweight_argon2id_min_mjs").then(r.bind(r,6219))).default,i8=i8||i3();let i=(await i8)({version:19,type:2,password:j.encodeUTF8(e),salt:this.salt,tagLength:t,memorySize:n,parallelism:this.p,passes:this.t});return n>i4.ARGON2_WASM_MEMORY_THRESHOLD_RELOAD&&i4.reloadWasmModule(),i}catch(e){throw e.message&&(e.message.includes("Unable to grow instance memory")||e.message.includes("failed to grow memory")||e.message.includes("WebAssembly.Memory.grow")||e.message.includes("Out of memory"))?new i5("Could not allocate required memory for Argon2"):e}}}class i9{constructor(e,t=F){this.algorithm=N.hash.sha256,this.type=N.read(N.s2k,e),this.c=t.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=i2.random.getRandomBytes(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==j.uint8ArrayToString(e.subarray(t,t+3)))throw new r2("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw new r2("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new r2("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...j.stringToUint8Array("GNU"),1]);let e=[new Uint8Array([N.write(N.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return j.concatUint8Array(e)}async produceKey(e,t){e=j.encodeUTF8(e);let r=[],n=0,i=0;for(;n<t;){let t;switch(this.type){case"simple":t=j.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=j.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{let r=j.concatUint8Array([this.salt,e]),n=r.length,a=Math.max(this.getCount(),n);(t=new Uint8Array(i+a)).set(r,i);for(let e=i+n;e<a;e+=n,n*=2)t.copyWithin(e,i,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}let a=await i2.hash.digest(this.algorithm,t);r.push(a),n+=a.length,i++}return j.concatUint8Array(r).subarray(0,t)}}let i7=new Set([N.s2k.argon2,N.s2k.iterated]);function ae(e,t=F){switch(e){case N.s2k.argon2:return new i4(t);case N.s2k.iterated:case N.s2k.gnu:case N.s2k.salted:case N.s2k.simple:return new i9(e,t);default:throw new r2("Unsupported S2K type")}}function at(e){let{s2kType:t}=e;if(!i7.has(t))throw Error("The provided `config.s2kType` value is not allowed");return ae(t,e)}var ar=Uint8Array,an=Uint16Array,ai=Uint32Array,aa=new ar([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),as=new ar([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ao=new ar([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ac=function(e,t){for(var r=new an(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new ai(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},au=ac(aa,2),al=au[0],ah=au[1];al[28]=258,ah[258]=28;for(var af=ac(as,0),ap=af[0],ay=af[1],ad=new an(32768),ag=0;ag<32768;++ag){var am=(43690&ag)>>>1|(21845&ag)<<1;am=(61680&(am=(52428&am)>>>2|(13107&am)<<2))>>>4|(3855&am)<<4,ad[ag]=((65280&am)>>>8|(255&am)<<8)>>>1}var av=function(e,t,r){for(var n=e.length,i=0,a=new an(t);i<n;++i)e[i]&&++a[e[i]-1];var s,o=new an(t);for(i=0;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;if(r){s=new an(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],h=o[e[i]-1]++<<l,f=h|(1<<l)-1;h<=f;++h)s[ad[h]>>>c]=u}else for(s=new an(n),i=0;i<n;++i)e[i]&&(s[i]=ad[o[e[i]-1]++]>>>15-e[i]);return s},aw=new ar(288);for(ag=0;ag<144;++ag)aw[ag]=8;for(ag=144;ag<256;++ag)aw[ag]=9;for(ag=256;ag<280;++ag)aw[ag]=7;for(ag=280;ag<288;++ag)aw[ag]=8;var ab=new ar(32);for(ag=0;ag<32;++ag)ab[ag]=5;var ak=av(aw,9,0),aE=av(aw,9,1),aA=av(ab,5,0),ax=av(ab,5,1),aS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},aK=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},aP=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},aD=function(e){return(e+7)/8|0},aU=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?an:4==e.BYTES_PER_ELEMENT?ai:ar)(r-t);return n.set(e.subarray(t,r)),n},a_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],aI=function(e,t,r){var n=Error(t||a_[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,aI),!r)throw n;return n},aT=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},aC=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},aR=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[aj,0];if(1==i){var s=new ar(r[0].s+1);return s[r[0].s]=1,[s,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,l=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=i-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=l&&r[u].f<r[h].f?u++:h++],r[l++]={s:-1,f:o.f+c.f,l:o,r:c};var f=a[0].s;for(n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var p=new an(f+1),y=aM(r[l-1],p,0);if(y>t){n=0;var d=0,g=y-t,m=1<<g;for(a.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});n<i;++n){var v=a[n].s;if(!(p[v]>t))break;d+=m-(1<<y-p[v]),p[v]=t}for(d>>>=g;d>0;){var w=a[n].s;p[w]<t?d-=1<<t-p[w]++-1:++n}for(;n>=0&&d;--n){var b=a[n].s;p[b]==t&&(--p[b],++d)}y=t}return[new ar(p),y]},aM=function(e,t,r){return -1==e.s?Math.max(aM(e.l,t,r+1),aM(e.r,t,r+1)):t[e.s]=r},aO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new an(++t),n=0,i=e[0],a=1,s=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return[r.subarray(0,n),t]},aB=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},aL=function(e,t,r){var n=r.length,i=aD(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},aN=function(e,t,r,n,i,a,s,o,c,u,l){aT(t,l++,r),++i[256];for(var h=aR(i,15),f=h[0],p=h[1],y=aR(a,15),d=y[0],g=y[1],m=aO(f),v=m[0],w=m[1],b=aO(d),k=b[0],E=b[1],A=new an(19),x=0;x<v.length;++x)A[31&v[x]]++;for(x=0;x<k.length;++x)A[31&k[x]]++;for(var S=aR(A,7),K=S[0],P=S[1],D=19;D>4&&!K[ao[D-1]];--D);var U,_,I,T,C=u+5<<3,R=aB(i,aw)+aB(a,ab)+s,M=aB(i,f)+aB(a,d)+s+14+3*D+aB(A,K)+(2*A[16]+3*A[17]+7*A[18]);if(C<=R&&C<=M)return aL(t,l,e.subarray(c,c+u));if(aT(t,l,1+(M<R)),l+=2,M<R){U=av(f,p,0),_=f,I=av(d,g,0),T=d;var O=av(K,P,0);for(aT(t,l,w-257),aT(t,l+5,E-1),aT(t,l+10,D-4),l+=14,x=0;x<D;++x)aT(t,l+3*x,K[ao[x]]);l+=3*D;for(var B=[v,k],L=0;L<2;++L){var N=B[L];for(x=0;x<N.length;++x){var F=31&N[x];aT(t,l,O[F]),l+=K[F],F>15&&(aT(t,l,N[x]>>>5&127),l+=N[x]>>>12)}}}else U=ak,_=aw,I=aA,T=ab;for(x=0;x<o;++x)if(n[x]>255){aC(t,l,U[(F=n[x]>>>18&31)+257]),l+=_[F+257],F>7&&(aT(t,l,n[x]>>>23&31),l+=aa[F]);var j=31&n[x];aC(t,l,I[j]),l+=T[j],j>3&&(aC(t,l,n[x]>>>5&8191),l+=as[j])}else aC(t,l,U[n[x]]),l+=_[n[x]];return aC(t,l,U[256]),l+_[256]},aF=new ai([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),aj=new ar(0),az=function(e,t,r,n,i){return function(e,t,r,n,i,a){var s=e.length,o=new ar(n+s+5*(1+Math.ceil(s/7e3))+i),c=o.subarray(n,o.length-i),u=0;if(!t||s<8)for(var l=0;l<=s;l+=65535){var h=l+65535;h>=s&&(c[u>>3]=a),u=aL(c,u+1,e.subarray(l,h))}else{for(var f=aF[t-1],p=f>>>13,y=8191&f,d=(1<<r)-1,g=new an(32768),m=new an(d+1),v=Math.ceil(r/3),w=2*v,b=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<w)&d},k=new ai(25e3),E=new an(288),A=new an(32),x=0,S=0,K=(l=0,0),P=0,D=0;l<s;++l){var U=b(l),_=32767&l,I=m[U];if(g[_]=I,m[U]=_,P<=l){var T=s-l;if((x>7e3||K>24576)&&T>423){u=aN(e,c,0,k,E,A,S,K,D,l-D,u),K=x=S=0,D=l;for(var C=0;C<286;++C)E[C]=0;for(C=0;C<30;++C)A[C]=0}var R=2,M=0,O=y,B=_-I&32767;if(T>2&&U==b(l-B))for(var L=Math.min(p,T)-1,N=Math.min(32767,l),F=Math.min(258,T);B<=N&&--O&&_!=I;){if(e[l+R]==e[l+R-B]){for(var j=0;j<F&&e[l+j]==e[l+j-B];++j);if(j>R){if(R=j,M=B,j>L)break;var z=Math.min(B,j-2),H=0;for(C=0;C<z;++C){var q=l-B+C+32768&32767,W=q-g[q]+32768&32767;W>H&&(H=W,I=q)}}}B+=(_=I)-(I=g[_])+32768&32767}if(M){k[K++]=0x10000000|ah[R]<<18|ay[M];var V=31&ah[R],G=31&ay[M];S+=aa[V]+as[G],++E[257+V],++A[G],P=l+R,++x}else k[K++]=e[l],++E[e[l]]}}u=aN(e,c,a,k,E,A,S,K,D,l-D,u),!a&&7&u&&(u=aL(c,u+1,aj))}return aU(o,0,n+aD(u)+i)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},aH=function(){function e(e,t){t||"function"!=typeof e||(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(az(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){this.ondata||aI(5),this.d&&aI(4),this.d=t,this.p(e,t||!1)},e}(),aq=function(){function e(e){this.s={},this.p=new ar(0),this.ondata=e}return e.prototype.e=function(e){this.ondata||aI(5),this.d&&aI(4);var t=this.p.length,r=new ar(t+e.length);r.set(this.p),r.set(e,t),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=function(e,t,r){var n=e.length;if(!n||r&&r.f&&!r.l)return t||new ar(0);var i=!t||r,a=!r||r.i;r||(r={}),t||(t=new ar(3*n));var s=function(e){var r=t.length;if(e>r){var n=new ar(Math.max(2*r,e));n.set(t),t=n}},o=r.f||0,c=r.p||0,u=r.b||0,l=r.l,h=r.d,f=r.m,p=r.n,y=8*n;do{if(!l){o=aK(e,c,1);var d=aK(e,c+1,3);if(c+=3,!d){var g=e[(P=aD(c)+4)-4]|e[P-3]<<8,m=P+g;if(m>n){a&&aI(0);break}i&&s(u+g),t.set(e.subarray(P,m),u),r.b=u+=g,r.p=c=8*m,r.f=o;continue}if(1==d)l=aE,h=ax,f=9,p=5;else if(2==d){var v=aK(e,c,31)+257,w=aK(e,c+10,15)+4,b=v+aK(e,c+5,31)+1;c+=14;for(var k=new ar(b),E=new ar(19),A=0;A<w;++A)E[ao[A]]=aK(e,c+3*A,7);c+=3*w;var x=aS(E),S=(1<<x)-1,K=av(E,x,1);for(A=0;A<b;){var P,D=K[aK(e,c,S)];if(c+=15&D,(P=D>>>4)<16)k[A++]=P;else{var U=0,_=0;for(16==P?(_=3+aK(e,c,3),c+=2,U=k[A-1]):17==P?(_=3+aK(e,c,7),c+=3):18==P&&(_=11+aK(e,c,127),c+=7);_--;)k[A++]=U}}var I=k.subarray(0,v),T=k.subarray(v);f=aS(I),p=aS(T),l=av(I,f,1),h=av(T,p,1)}else aI(1);if(c>y){a&&aI(0);break}}i&&s(u+131072);for(var C=(1<<f)-1,R=(1<<p)-1,M=c;;M=c){var O=(U=l[aP(e,c)&C])>>>4;if((c+=15&U)>y){a&&aI(0);break}if(U||aI(2),O<256)t[u++]=O;else{if(256==O){M=c,l=null;break}var B=O-254;if(O>264){var L=aa[A=O-257];B=aK(e,c,(1<<L)-1)+al[A],c+=L}var N=h[aP(e,c)&R],F=N>>>4;if(N||aI(3),c+=15&N,T=ap[F],F>3&&(L=as[F],T+=aP(e,c)&(1<<L)-1,c+=L),c>y){a&&aI(0);break}i&&s(u+131072);for(var j=u+B;u<j;u+=4)t[u]=t[u-T],t[u+1]=t[u+1-T],t[u+2]=t[u+2-T],t[u+3]=t[u+3-T];u=j}}r.l=l,r.p=M,r.b=u,r.f=o,l&&(o=1,r.m=f,r.d=h,r.n=p)}while(!o)return u==t.length?t:aU(t,0,u)}(this.p,this.o,this.s);this.ondata(aU(r,t,this.s.b),this.d),this.o=aU(r,this.s.b-32768),this.s.b=this.o.length,this.p=aU(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}(),aW=function(){function e(e,t){var r,n;this.c=(r=1,n=0,{p:function(e){for(var t=r,i=n,a=0|e.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=t+=e[s];t=(65535&t)+15*(t>>16),i=(65535&i)+15*(i>>16)}r=t,n=i},d:function(){return(255&(r%=65521))<<24|r>>>8<<16|(255&(n%=65521))<<8|n>>>8}}),this.v=1,aH.call(this,e,t)}return e.prototype.push=function(e,t){aH.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var r,n,i=az(e,this.o,this.v&&2,t&&4,!t);this.v&&(n=0==(r=this.o.level)?0:r<6?1:9==r?3:2,i[0]=120,i[1]=n<<6|(n?32-2*n:1),this.v=0),t&&function(e,t,r){for(;r;++t)e[t]=r,r>>>=8}(i,i.length-4,this.c.d()),this.ondata(i,t)},e}(),aV=function(){function e(e){this.v=1,aq.call(this,e)}return e.prototype.push=function(e,t){if(aq.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}t&&(this.p.length<4&&aI(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),aq.prototype.c.call(this,t)},e}(),aG="undefined"!=typeof TextDecoder&&new TextDecoder;try{aG.decode(aj,{stream:!0})}catch(e){}class a${static get tag(){return N.packet.literalData}constructor(e=new Date){this.format=N.literal.utf8,this.date=j.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=N.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||j.isStream(this.text))&&(this.text=j.decodeUTF8(j.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=j.canonicalizeEOL(j.encodeUTF8(this.text))),e?_(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await D(e,async e=>{let t=await e.readByte(),r=await e.readByte();this.filename=j.decodeUTF8(await e.readBytes(r)),this.date=j.readDate(await e.readBytes(4));let n=e.remainder();f(n)&&(n=await C(n)),this.setBytes(n,t)})}writeHeader(){let e=j.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),n=j.writeDate(this.date);return j.concatUint8Array([r,t,e,n])}write(){let e=this.writeHeader(),t=this.getBytes();return j.concat([e,t])}}class aY{constructor(){this.bytes=""}read(e){return this.bytes=j.uint8ArrayToString(e.subarray(0,8)),this.bytes.length}write(){return j.stringToUint8Array(this.bytes)}toHex(){return j.uint8ArrayToHex(j.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){let t=new aY;return t.read(j.hexToUint8Array(e)),t}static wildcard(){let e=new aY;return e.read(new Uint8Array(8)),e}}let aQ=Symbol("verified"),aZ="salt@notations.openpgpjs.org",aX=new Set([N.signatureSubpacket.issuerKeyID,N.signatureSubpacket.issuerFingerprint,N.signatureSubpacket.embeddedSignature]);class aJ{static get tag(){return N.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.unknownSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new aY,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[aQ]=null}read(e,t=F){let r=0;if(this.version=e[r++],5===this.version&&!t.enableParsingV5Entities)throw new r2("Support for v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(4!==this.version&&5!==this.version&&6!==this.version)throw new r2(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[r++],this.publicKeyAlgorithm=e[r++],this.hashAlgorithm=e[r++],r+=this.readSubPackets(e.subarray(r,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=e.subarray(0,r),r+=this.readSubPackets(e.subarray(r,e.length),!1),this.signedHashValue=e.subarray(r,r+2),r+=2,6===this.version){let t=e[r++];this.salt=e.subarray(r,r+t),r+=t}let n=e.subarray(r,e.length),{read:i,signatureParams:a}=i2.signature.parseSignatureParams(this.publicKeyAlgorithm,n);if(i<n.length)throw Error("Error reading MPIs");this.params=a}writeParams(){return this.params instanceof Promise?M(async()=>i2.serializeParams(this.publicKeyAlgorithm,await this.params)):i2.serializeParams(this.publicKeyAlgorithm,this.params)}write(){let e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),6===this.version&&(e.push(new Uint8Array([this.salt.length])),e.push(this.salt)),e.push(this.writeParams()),j.concat(e)}async sign(e,t,r=new Date,n=!1,i){this.version=e.version,this.created=j.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID();let a=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(6===this.version){let e=a0(this.hashAlgorithm);if(null===this.salt)this.salt=i2.random.getRandomBytes(e);else if(e!==this.salt.length)throw Error("Provided salt does not have the required length")}else if(i.nonDeterministicSignaturesViaNotation){if(0!==this.rawNotations.filter(({name:e})=>e===aZ).length)throw Error("Unexpected existing salt notation");{let e=i2.random.getRandomBytes(a0(this.hashAlgorithm));this.rawNotations.push({name:aZ,value:e,humanReadable:!1,critical:!1})}}a.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=j.concat(a);let s=this.toHash(this.signatureType,t,n),o=await this.hash(this.signatureType,t,s,n);this.signedHashValue=T(U(o),0,2);let c=async()=>i2.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,s,await C(o));j.isStream(o)?this.params=c():(this.params=await c(),this[aQ]=!0)}writeHashedSubPackets(){let e;let t=N.signatureSubpacket,r=[];if(null===this.created)throw Error("Missing signature creation time");r.push(a1(t.signatureCreationTime,!0,j.writeDate(this.created))),null!==this.signatureExpirationTime&&r.push(a1(t.signatureExpirationTime,!0,j.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&r.push(a1(t.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(e=new Uint8Array([this.trustLevel,this.trustAmount]),r.push(a1(t.trustSignature,!0,e))),null!==this.regularExpression&&r.push(a1(t.regularExpression,!0,this.regularExpression)),null!==this.revocable&&r.push(a1(t.revocable,!0,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&r.push(a1(t.keyExpirationTime,!0,j.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.preferredSymmetricAlgorithms)),r.push(a1(t.preferredSymmetricAlgorithms,!1,e))),null!==this.revocationKeyClass&&(e=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),e=j.concat([e,this.revocationKeyFingerprint]),r.push(a1(t.revocationKey,!1,e))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&r.push(a1(t.issuerKeyID,!0,this.issuerKeyID.write())),this.rawNotations.forEach(({name:n,value:i,humanReadable:a,critical:s})=>{e=[new Uint8Array([a?128:0,0,0,0])];let o=j.encodeUTF8(n);e.push(j.writeNumber(o.length,2)),e.push(j.writeNumber(i.length,2)),e.push(o),e.push(i),e=j.concat(e),r.push(a1(t.notationData,s,e))}),null!==this.preferredHashAlgorithms&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.preferredHashAlgorithms)),r.push(a1(t.preferredHashAlgorithms,!1,e))),null!==this.preferredCompressionAlgorithms&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.preferredCompressionAlgorithms)),r.push(a1(t.preferredCompressionAlgorithms,!1,e))),null!==this.keyServerPreferences&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.keyServerPreferences)),r.push(a1(t.keyServerPreferences,!1,e))),null!==this.preferredKeyServer&&r.push(a1(t.preferredKeyServer,!1,j.encodeUTF8(this.preferredKeyServer))),null!==this.isPrimaryUserID&&r.push(a1(t.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&r.push(a1(t.policyURI,!1,j.encodeUTF8(this.policyURI))),null!==this.keyFlags&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.keyFlags)),r.push(a1(t.keyFlags,!0,e))),null!==this.signersUserID&&r.push(a1(t.signersUserID,!1,j.encodeUTF8(this.signersUserID))),null!==this.reasonForRevocationFlag&&(e=j.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),r.push(a1(t.reasonForRevocation,!0,e))),null!==this.features&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.features)),r.push(a1(t.features,!1,e))),null!==this.signatureTargetPublicKeyAlgorithm&&((e=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])]).push(j.stringToUint8Array(this.signatureTargetHash)),e=j.concat(e),r.push(a1(t.signatureTarget,!0,e))),null!==this.embeddedSignature&&r.push(a1(t.embeddedSignature,!0,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(e=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],e=j.concat(e),r.push(a1(t.issuerFingerprint,this.version>=5,e))),null!==this.preferredAEADAlgorithms&&(e=j.stringToUint8Array(j.uint8ArrayToString(this.preferredAEADAlgorithms)),r.push(a1(t.preferredAEADAlgorithms,!1,e))),null!==this.preferredCipherSuites&&(e=new Uint8Array([].concat(...this.preferredCipherSuites)),r.push(a1(t.preferredCipherSuites,!1,e)));let n=j.concat(r),i=j.writeNumber(n.length,6===this.version?4:2);return j.concat([i,n])}writeUnhashedSubPackets(){let e=this.unhashedSubpackets.map(({type:e,critical:t,body:r})=>a1(e,t,r)),t=j.concat(e),r=j.writeNumber(t.length,6===this.version?4:2);return j.concat([r,t])}readSubPacket(e,t=!0){let r=0,n=!!(128&e[0]),i=127&e[r];if(r++,t||(this.unhashedSubpackets.push({type:i,critical:n,body:e.subarray(r,e.length)}),aX.has(i)))switch(i){case N.signatureSubpacket.signatureCreationTime:this.created=j.readDate(e.subarray(r,e.length));break;case N.signatureSubpacket.signatureExpirationTime:{let t=j.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case N.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case N.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case N.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case N.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case N.signatureSubpacket.keyExpirationTime:{let t=j.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case N.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case N.signatureSubpacket.issuerKeyID:if(4===this.version)this.issuerKeyID.read(e.subarray(r,e.length));else if(t)throw Error("Unexpected Issuer Key ID subpacket");break;case N.signatureSubpacket.notationData:{let t=!!(128&e[r]);r+=4;let i=j.readNumber(e.subarray(r,r+2));r+=2;let a=j.readNumber(e.subarray(r,r+2));r+=2;let s=j.decodeUTF8(e.subarray(r,r+i)),o=e.subarray(r+i,r+i+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:n}),t&&(this.notations[s]=j.decodeUTF8(o));break}case N.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=j.decodeUTF8(e.subarray(r,e.length));break;case N.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case N.signatureSubpacket.policyURI:this.policyURI=j.decodeUTF8(e.subarray(r,e.length));break;case N.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.signersUserID:this.signersUserID=j.decodeUTF8(e.subarray(r,e.length));break;case N.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=j.decodeUTF8(e.subarray(r,e.length));break;case N.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];let t=i2.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=j.uint8ArrayToString(e.subarray(r,r+t));break}case N.signatureSubpacket.embeddedSignature:this.embeddedSignature=new aJ,this.embeddedSignature.read(e.subarray(r,e.length));break;case N.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case N.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;case N.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let t=r;t<e.length;t+=2)this.preferredCipherSuites.push([e[t],e[t+1]]);break;default:this.unknownSubpackets.push({type:i,critical:n,body:e.subarray(r,e.length)})}}readSubPackets(e,t=!0,r){let n=6===this.version?4:2,i=j.readNumber(e.subarray(0,n)),a=n;for(;a<2+i;){let n=rQ(e.subarray(a,e.length));a+=n.offset,this.readSubPacket(e.subarray(a,a+n.len),t,r),a+=n.len}return a}toSign(e,t){let r=N.signature;switch(e){case r.binary:return null!==t.text?j.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{let e=t.getBytes(!0);return j.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}let i=e.write();return j.concat([this.toSign(r.key,t),new Uint8Array([n]),j.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return j.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return K(U(this.signatureData),e=>{r+=e.length},()=>{let n=[];return 5!==this.version||this.signatureType!==N.signature.binary&&this.signatureType!==N.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(j.writeNumber(r,4)),j.concat(n)})}toHash(e,t,r=!1){let n=this.toSign(e,t);return j.concat([this.salt||new Uint8Array,n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){if(6===this.version&&this.salt.length!==a0(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return r||(r=this.toHash(e,t,n)),i2.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,n=new Date,i=!1,a=F){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let s=t===N.signature.binary||t===N.signature.text;if(!(this[aQ]&&!s)){let n,a;if(this.hashed?a=await this.hashed:(n=this.toHash(t,r,i),a=await this.hash(t,r,n)),a=await C(a),this.signedHashValue[0]!==a[0]||this.signedHashValue[1]!==a[1])throw Error("Signed digest did not match");this.params=await this.params;let s=this.publicKeyAlgorithm===N.publicKey.hmac?e.privateParams:null;if(this[aQ]=await i2.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,s,n,a),!this[aQ])throw Error("Signature verification failed")}let o=j.normalizeDate(n);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+N.read(N.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[N.signature.binary,N.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+N.read(N.hash,this.hashAlgorithm).toUpperCase());if(this.unknownSubpackets.forEach(({type:e,critical:t})=>{if(t)throw Error("Unknown critical signature subpacket type "+e)}),this.rawNotations.forEach(({name:e,critical:t})=>{if(t&&0>a.knownNotations.indexOf(e))throw Error("Unknown critical notation: "+e)}),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){let t=j.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function a1(e,t,r){let n=[];return n.push(rZ(r.length+1)),n.push(new Uint8Array([(t?128:0)|e])),n.push(r),j.concat(n)}function a0(e){switch(e){case N.hash.sha256:return 16;case N.hash.sha384:return 24;case N.hash.sha512:return 32;case N.hash.sha224:case N.hash.sha3_256:return 16;case N.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}class a2{static get tag(){return N.packet.onePassSignature}static fromSignaturePacket(e,t){let r=new a2;return r.version=6===e.version?6:3,r.signatureType=e.signatureType,r.hashAlgorithm=e.hashAlgorithm,r.publicKeyAlgorithm=e.publicKeyAlgorithm,r.issuerKeyID=e.issuerKeyID,r.salt=e.salt,r.issuerFingerprint=e.issuerFingerprint,r.flags=t?1:0,r}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new r2(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],6===this.version){let r=e[t++];this.salt=e.subarray(t,t+r),t+=r,this.issuerFingerprint=e.subarray(t,t+32),t+=32,this.issuerKeyID=new aY,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new aY,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8;return this.flags=e[t++],this}write(){let e=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return 6===this.version?e.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):e.push(this.issuerKeyID.write()),e.push(new Uint8Array([this.flags])),j.concatUint8Array(e)}calculateTrailer(...e){return M(async()=>aJ.prototype.calculateTrailer.apply(await this.correspondingSig,e))}async verify(){let e=await this.correspondingSig;if(!e||e.constructor.tag!==N.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID)||3===this.version&&6===e.version||6===this.version&&6!==e.version||6===this.version&&!j.equalsUint8Array(e.issuerFingerprint,this.issuerFingerprint)||6===this.version&&!j.equalsUint8Array(e.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}a2.prototype.hash=aJ.prototype.hash,a2.prototype.toHash=aJ.prototype.toHash,a2.prototype.toSign=aJ.prototype.toSign;class a5 extends Array{static async fromBinary(e,t,r=F){let n=new a5;return await n.read(e,t,r),n}async read(e,t,r=F){r.additionalAllowedPackets.length&&(t={...t,...j.constructAllowedPackets(r.additionalAllowedPackets)}),this.stream=P(e,async(e,n)=>{let i=B(n);try{for(;;)if(await i.ready,await r0(e,async e=>{try{if(e.tag===N.packet.marker||e.tag===N.packet.trust||e.tag===N.packet.padding)return;let n=function(e,t){if(!t[e]){let t;try{t=N.read(N.packet,e)}catch(t){throw new r5("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+t)}return new t[e]}(e.tag,t);n.packets=new a5,n.fromStream=j.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(a){if(a instanceof r5){if(!(e.tag<=39))return;await i.abort(a)}let t=!r.ignoreUnsupportedPackets&&a instanceof r2,n=!(r.ignoreMalformedPackets||a instanceof r2);if(t||n||r1(e.tag))await i.abort(a);else{let t=new r3(e.tag,e.packet);await i.write(t)}j.printDebugError(a)}}))return await i.ready,void await i.close()}catch(e){await i.abort(e)}});let n=O(this.stream);for(;;){let{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||r1(t.constructor.tag))break}n.releaseLock()}write(){let e=[];for(let t=0;t<this.length;t++){let r=this[t]instanceof r3?this[t].tag:this[t].constructor.tag,n=this[t].write();if(j.isStream(n)&&r1(this[t].constructor.tag)){let t=[],i=0;e.push(rX(r)),e.push(K(n,e=>{if(t.push(e),(i+=e.length)>=512){let e=Math.min(Math.log(i)/Math.LN2|0,30),r=2**e,n=j.concat([function(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}(e)].concat(t));return i=(t=[n.subarray(1+r)])[0].length,n.subarray(0,1+r)}},()=>j.concat([rZ(i)].concat(t))))}else{if(j.isStream(n)){let t=0;e.push(K(U(n),e=>{t+=e.length},()=>rJ(r,t)))}else e.push(rJ(r,n.length));e.push(n)}}return j.concat(e)}filterByTag(...e){let t=new a5,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find(t=>t.constructor.tag===e)}indexOfTag(...e){let t=[],r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(n);return t}}let a3=j.constructAllowedPackets([a$,a2,aJ]);class a8{static get tag(){return N.packet.compressedData}constructor(e=F){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null}async read(e,t=F){await D(e,async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)})}write(){return null===this.compressed&&this.compress(),j.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=F){let t=N.read(N.compression,this.algorithm),r=a7[t];if(!r)throw Error(t+" decompression not supported");this.packets=await a5.fromBinary(await r(this.compressed),a3,e)}compress(){let e=N.read(N.compression,this.algorithm),t=a9[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write())}}function a6(e,t){return r=>{if(!j.isStream(r)||f(r))return M(()=>C(r).then(e=>new Promise((r,n)=>{let i=new t;i.ondata=e=>{r(e)};try{i.push(e,!0)}catch(e){n(e)}})));if(e)try{let t=e();return r.pipeThrough(t)}catch(e){if("TypeError"!==e.name)throw e}let n=r.getReader(),i=new t;return new ReadableStream({async start(e){for(i.ondata=async(t,r)=>{e.enqueue(t),r&&e.close()};;){let{done:e,value:t}=await n.read();if(e)return void i.push(new Uint8Array,!0);t.length&&i.push(t)}}})}}let a4=e=>({compressor:"undefined"!=typeof CompressionStream&&(()=>new CompressionStream(e)),decompressor:"undefined"!=typeof DecompressionStream&&(()=>new DecompressionStream(e))}),a9={zip:a6(a4("deflate-raw").compressor,aH),zlib:a6(a4("deflate").compressor,aW)},a7={uncompressed:e=>e,zip:a6(a4("deflate-raw").decompressor,aq),zlib:a6(a4("deflate").decompressor,aV),bzip2:async function(e){let{decode:t}=await r.e("node_modules_openpgp_dist_lightweight_seek-bzip_min_mjs").then(r.bind(r,60487)).then(function(e){return e.i});return M(async()=>t(await C(e)))}},se=j.constructAllowedPackets([a$,a8,a2,aJ]);class st{static get tag(){return N.packet.symEncryptedIntegrityProtectedData}static fromObject({version:e,aeadAlgorithm:t}){if(1!==e&&2!==e)throw Error("Unsupported SEIPD version");let r=new st;return r.version=e,2===e&&(r.aeadAlgorithm=t),r}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}async read(e){await D(e,async e=>{if(this.version=await e.readByte(),1!==this.version&&2!==this.version)throw new r2(`Version ${this.version} of the SEIP packet is unsupported.`);2===this.version&&(this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte(),this.salt=await e.readBytes(32)),this.encrypted=e.remainder()})}write(){return 2===this.version?j.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):j.concat([new Uint8Array([this.version]),this.encrypted])}async encrypt(e,t,r=F){let{blockSize:n,keySize:i}=i2.getCipherParams(e);if(t.length!==i)throw Error("Unexpected session key size");let a=this.packets.write();if(f(a)&&(a=await C(a)),2===this.version)this.cipherAlgorithm=e,this.salt=i2.random.getRandomBytes(32),this.chunkSizeByte=r.aeadChunkSizeByte,this.encrypted=await sr(this,"encrypt",t,a);else{let i=await i2.getPrefixRandom(e),s=new Uint8Array([211,20]),o=j.concat([i,a,s]),c=await i2.hash.sha1(_(o)),u=j.concat([o,c]);this.encrypted=await i2.mode.cfb.encrypt(e,t,u,new Uint8Array(n),r)}return!0}async decrypt(e,t,r=F){if(t.length!==i2.getCipherParams(e).keySize)throw Error("Unexpected session key size");let n,i=U(this.encrypted);if(f(i)&&(i=await C(i)),2===this.version){if(this.cipherAlgorithm!==e)throw Error("Unexpected session key algorithm");n=await sr(this,"decrypt",t,i)}else{let{blockSize:a}=i2.getCipherParams(e),s=await i2.mode.cfb.decrypt(e,t,i,new Uint8Array(a)),o=T(_(s),-20),c=T(s,0,-20),u=Promise.all([C(await i2.hash.sha1(_(c))),C(o)]).then(([e,t])=>{if(!j.equalsUint8Array(e,t))throw Error("Modification detected.");return new Uint8Array}),l=T(c,a+2);n=E([n=T(l,0,-2),M(()=>u)]),j.isStream(i)&&r.allowUnauthenticatedStream||(n=await C(n))}return this.packets=await a5.fromBinary(n,se,r),!0}}async function sr(e,t,r,n){let i=e instanceof st&&2===e.version,a=!i&&e.constructor.tag===N.packet.aeadEncryptedData;if(!i&&!a)throw Error("Unexpected packet type");let s=i2.getAEADMode(e.aeadAlgorithm),o="decrypt"===t?s.tagLength:0,c="encrypt"===t?s.tagLength:0,u=2**(e.chunkSizeByte+6)+o,l=a?8:0,h=new ArrayBuffer(13+l),f=new Uint8Array(h,0,5+l),p=new Uint8Array(h),y=new DataView(h),d=new Uint8Array(h,5,8);f.set([192|e.constructor.tag,e.version,e.cipherAlgorithm,e.aeadAlgorithm,e.chunkSizeByte],0);let g,m,v=0,w=Promise.resolve(),b=0,k=0;if(i){let{keySize:t}=i2.getCipherParams(e.cipherAlgorithm),{ivLength:n}=s,i=new Uint8Array(h,0,5),a=await nQ(N.hash.sha256,r,e.salt,i,t+n);r=a.subarray(0,t),(g=a.subarray(t)).fill(0,g.length-8),m=new DataView(g.buffer,g.byteOffset,g.byteLength)}else g=e.iv;let E=await s(e.cipherAlgorithm,r);return P(n,async(r,n)=>{if("array"!==j.isStream(r)){let t=new TransformStream({},{highWaterMark:j.getHardwareConcurrency()*2**(e.chunkSizeByte+6),size:e=>e.length});A(t.readable,n),n=t.writable}let a=O(r),s=B(n);try{for(;;){let e,r,n,h=await a.readBytes(u+o)||new Uint8Array,A=h.subarray(h.length-o);if(h=h.subarray(0,h.length-o),i)n=g;else{n=g.slice();for(let e=0;e<8;e++)n[g.length-8+e]^=d[e]}if(!v||h.length?(a.unshift(A),(e=E[t](h,n,f)).catch(()=>{}),k+=h.length-o+c):(y.setInt32(5+l+4,b),(e=E[t](A,n,p)).catch(()=>{}),k+=c,r=!0),b+=h.length-o,w=w.then(()=>e).then(async e=>{await s.ready,await s.write(e),k-=e.length}).catch(e=>s.abort(e)),(r||k>s.desiredSize)&&await w,r){await s.close();break}i?m.setInt32(g.length-4,++v):y.setInt32(9,++v)}}catch(e){await s.ready.catch(()=>{}),await s.abort(e)}})}let sn=j.constructAllowedPackets([a$,a8,a2,aJ]),si=new Set([N.publicKey.x25519,N.publicKey.x448,N.publicKey.pqc_mlkem_x25519]);class sa{static get tag(){return N.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new aY,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject({version:e,encryptionKeyPacket:t,anonymousRecipient:r,sessionKey:n,sessionKeyAlgorithm:i}){let a=new sa;if(3!==e&&6!==e)throw Error("Unsupported PKESK version");return a.version=e,6===e&&(a.publicKeyVersion=r?null:t.version,a.publicKeyFingerprint=r?null:t.getFingerprintBytes()),a.publicKeyID=r?aY.wildcard():t.getKeyID(),a.publicKeyAlgorithm=t.algorithm,a.sessionKey=n,a.sessionKeyAlgorithm=i,a}read(e){let t=0;if(this.version=e[t++],3!==this.version&&6!==this.version)throw new r2(`Version ${this.version} of the PKESK packet is unsupported.`);if(6===this.version){let r=e[t++];if(r){this.publicKeyVersion=e[t++];let n=r-1;this.publicKeyFingerprint=e.subarray(t,t+n),t+=n,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=aY.wildcard()}else t+=this.publicKeyID.read(e.subarray(t,t+8));if(this.publicKeyAlgorithm=e[t++],this.encrypted=i2.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(t)),si.has(this.publicKeyAlgorithm)){if(3===this.version)this.sessionKeyAlgorithm=N.write(N.symmetric,this.encrypted.C.algorithm);else if(null!==this.encrypted.C.algorithm)throw Error("Unexpected cleartext symmetric algorithm")}}write(){let e=[new Uint8Array([this.version])];return 6===this.version?null!==this.publicKeyFingerprint?(e.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),e.push(this.publicKeyFingerprint)):e.push(new Uint8Array([0])):e.push(this.publicKeyID.write()),e.push(new Uint8Array([this.publicKeyAlgorithm]),i2.serializeParams(this.publicKeyAlgorithm,this.encrypted)),j.concatUint8Array(e)}async encrypt(e){let t=N.write(N.publicKey,this.publicKeyAlgorithm),r=3===this.version?this.sessionKeyAlgorithm:null,n=5===e.version?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),i=ss(this.version,t,r,this.sessionKey),a=t===N.publicKey.aead?e.privateParams:null;this.encrypted=await i2.publicKeyEncrypt(t,r,e.publicParams,a,i,n)}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");let r=t?ss(this.version,this.publicKeyAlgorithm,t.sessionKeyAlgorithm,t.sessionKey):null,n=5===e.version?e.getFingerprintBytes().subarray(0,20):e.getFingerprintBytes(),i=await i2.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,n,r),{sessionKey:a,sessionKeyAlgorithm:s}=function(e,t,r,n){switch(t){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.elgamal:case N.publicKey.ecdh:case N.publicKey.aead:{let t=r.subarray(0,r.length-2),i=r.subarray(r.length-2),a=j.writeChecksum(t.subarray(t.length%8)),s=a[0]===i[0]&a[1]===i[1],o=6===e?{sessionKeyAlgorithm:null,sessionKey:t}:{sessionKeyAlgorithm:t[0],sessionKey:t.subarray(1)};if(n){let t=s&o.sessionKeyAlgorithm===n.sessionKeyAlgorithm&o.sessionKey.length===n.sessionKey.length;return{sessionKey:j.selectUint8Array(t,o.sessionKey,n.sessionKey),sessionKeyAlgorithm:6===e?null:j.selectUint8(t,o.sessionKeyAlgorithm,n.sessionKeyAlgorithm)}}if(s&&(6===e||N.read(N.symmetric,o.sessionKeyAlgorithm)))return o;throw Error("Decryption error")}case N.publicKey.x25519:case N.publicKey.x448:case N.publicKey.pqc_mlkem_x25519:return{sessionKeyAlgorithm:null,sessionKey:r};default:throw Error("Unsupported public key algorithm")}}(this.version,this.publicKeyAlgorithm,i,t);if(3===this.version){let e=!si.has(this.publicKeyAlgorithm);if(this.sessionKeyAlgorithm=e?s:this.sessionKeyAlgorithm,a.length!==i2.getCipherParams(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}this.sessionKey=a}}function ss(e,t,r,n){switch(t){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.elgamal:case N.publicKey.ecdh:case N.publicKey.aead:return j.concatUint8Array([new Uint8Array(6===e?[]:[r]),n,j.writeChecksum(n.subarray(n.length%8))]);case N.publicKey.x25519:case N.publicKey.x448:case N.publicKey.pqc_mlkem_x25519:return n;default:throw Error("Unsupported public key algorithm")}}class so{static get tag(){return N.packet.symEncryptedSessionKey}constructor(e=F){this.version=e.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=null,this.aeadAlgorithm=N.write(N.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version&&6!==this.version)throw new r2(`Version ${this.version} of the SKESK packet is unsupported.`);6===this.version&&t++;let r=e[t++];this.version>=5&&(this.aeadAlgorithm=e[t++],6===this.version&&t++);let n=e[t++];if(this.s2k=ae(n),t+=this.s2k.read(e.subarray(t,e.length)),this.version>=5){let r=i2.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}this.version>=5||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){let e;let t=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm,r=this.s2k.write();if(6===this.version){let n=r.length,i=3+n+this.iv.length;e=j.concatUint8Array([new Uint8Array([this.version,i,t,this.aeadAlgorithm,n]),r,this.iv,this.encrypted])}else 5===this.version?e=j.concatUint8Array([new Uint8Array([this.version,t,this.aeadAlgorithm]),r,this.iv,this.encrypted]):(e=j.concatUint8Array([new Uint8Array([this.version,t]),r]),null!==this.encrypted&&(e=j.concatUint8Array([e,this.encrypted])));return e}async decrypt(e){let t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:n}=i2.getCipherParams(t),i=await this.s2k.produceKey(e,n);if(this.version>=5){let e=i2.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|so.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),a=6===this.version?await nQ(N.hash.sha256,i,new Uint8Array,r,n):i,s=await e(t,a);this.sessionKey=await s.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){let e=await i2.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(r));if(this.sessionKeyAlgorithm=N.write(N.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length),this.sessionKey.length!==i2.getCipherParams(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}else this.sessionKey=i}async encrypt(e,t=F){let r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=at(t),this.s2k.generateSalt();let{blockSize:n,keySize:i}=i2.getCipherParams(r),a=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=i2.generateSessionKey(this.sessionKeyAlgorithm)),this.version>=5){let e=i2.getAEADMode(this.aeadAlgorithm);this.iv=i2.random.getRandomBytes(e.ivLength);let t=new Uint8Array([192|so.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=6===this.version?await nQ(N.hash.sha256,a,new Uint8Array,t,i):a,s=await e(r,n);this.encrypted=await s.encrypt(this.sessionKey,this.iv,t)}else{let e=j.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await i2.mode.cfb.encrypt(r,a,e,new Uint8Array(n),t)}}}class sc{static get tag(){return N.packet.publicKey}constructor(e=new Date,t=F){this.version=t.v6Keys?6:4,this.created=j.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){let t=new sc,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e,t=F){let r=0;if(this.version=e[r++],5===this.version&&!t.enableParsingV5Entities)throw new r2("Support for parsing v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(4===this.version||5===this.version||6===this.version){this.created=j.readDate(e.subarray(r,r+4)),r+=4,this.algorithm=e[r++],this.version>=5&&(r+=4);let{read:t,publicParams:n}=i2.parsePublicKeyParams(this.algorithm,e.subarray(r));if(6===this.version&&n.oid&&(n.oid.getName()===N.curve.curve25519Legacy||n.oid.getName()===N.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");if(6!==this.version&&(this.algorithm===N.publicKey.pqc_mldsa_ed25519||this.algorithm===N.publicKey.pqc_mlkem_x25519))throw Error("Unexpected key version: ML-DSA and ML-KEM algorithms can only be used with v6 keys");return this.publicParams=n,r+=t,await this.computeFingerprintAndKeyID(),r}throw new r2(`Version ${this.version} of the key packet is unsupported.`)}write(){let e=[];e.push(new Uint8Array([this.version])),e.push(j.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));let t=i2.serializeParams(this.algorithm,this.publicParams);return this.version>=5&&e.push(j.writeNumber(t.length,4)),e.push(t),j.concatUint8Array(e)}writeForHash(e){let t=this.writePublicKey();return j.concatUint8Array([new Uint8Array([149+e]),j.writeNumber(t.length,e>=5?4:2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new aY,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){let e=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=await i2.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await i2.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return j.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&j.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){let e={};e.algorithm=N.read(N.publicKey,this.algorithm);let t=this.publicParams.n||this.publicParams.p;return t?e.bits=j.uint8ArrayBitLength(t):this.publicParams.oid?e.curve=this.publicParams.oid.getName():this.publicParams.cipher&&(e.symmetric=this.publicParams.cipher.getName()),e}}sc.prototype.readPublicKey=sc.prototype.read,sc.prototype.writePublicKey=sc.prototype.write;let su=j.constructAllowedPackets([a$,a8,a2,aJ]);class sl extends sc{static get tag(){return N.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){let t=new sl,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class sh{static get tag(){return N.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){let r=rQ(e.subarray(t,e.length));t+=r.offset,this.attributes.push(j.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){let e=[];for(let t=0;t<this.attributes.length;t++)e.push(rZ(this.attributes[t].length)),e.push(j.stringToUint8Array(this.attributes[t]));return j.concatUint8Array(e)}equals(e){return!!(e&&e instanceof sh)&&this.attributes.every(function(t,r){return t===e.attributes[r]})}}class sf extends sc{static get tag(){return N.packet.secretKey}constructor(e=new Date,t=F){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.isLegacyAEAD=null,this.privateParams=null,this.usedModernAEAD=null}async read(e,t=F){let r=await this.readPublicKey(e,t),n=r;this.s2kUsage=e[r++],5===this.version&&r++,6===this.version&&this.s2kUsage&&r++;try{if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){this.symmetric=e[r++],253===this.s2kUsage&&(this.aead=e[r++]),6===this.version&&r++;let t=e[r++];if(this.s2k=ae(t),r+=this.s2k.read(e.subarray(r,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.isLegacyAEAD=253===this.s2kUsage&&(5===this.version||4===this.version&&t.parseAEADEncryptedV4KeysAsLegacy),253!==this.s2kUsage||this.isLegacyAEAD?(this.iv=e.subarray(r,r+i2.getCipherParams(this.symmetric).blockSize),this.usedModernAEAD=!1):(this.iv=e.subarray(r,r+i2.getAEADMode(this.aead).ivLength),this.usedModernAEAD=!0),r+=this.iv.length)}catch(t){if(!this.s2kUsage)throw t;this.unparseableKeyMaterial=e.subarray(n),this.isEncrypted=!0}if(5===this.version&&(r+=4),this.keyMaterial=e.subarray(r),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let e;if(6===this.version)e=this.keyMaterial;else if(e=this.keyMaterial.subarray(0,-2),!j.equalsUint8Array(j.writeChecksum(e),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{let{read:t,privateParams:r}=await i2.parsePrivateKeyParams(this.algorithm,e,this.publicParams);if(t<e.length)throw Error("Error reading MPIs");this.privateParams=r}catch(e){if(e instanceof r2)throw e;throw Error("Error reading MPIs")}}}write(){let e=this.writePublicKey();if(this.unparseableKeyMaterial)return j.concatUint8Array([e,this.unparseableKeyMaterial]);let t=[e];t.push(new Uint8Array([this.s2kUsage]));let r=[];if(255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){r.push(this.symmetric),253===this.s2kUsage&&r.push(this.aead);let e=this.s2k.write();6===this.version&&r.push(e.length),r.push(...e)}return this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&r.push(...this.iv),(5===this.version||6===this.version&&this.s2kUsage)&&t.push(new Uint8Array([r.length])),t.push(new Uint8Array(r)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=i2.serializeParams(this.algorithm,this.privateParams)),5===this.version&&t.push(j.writeNumber(this.keyMaterial.length,4)),t.push(this.keyMaterial),this.s2kUsage||6===this.version||t.push(j.writeChecksum(this.keyMaterial))),j.concatUint8Array(t)}isDecrypted(){return!1===this.isEncrypted}isMissingSecretKeyMaterial(){return void 0!==this.unparseableKeyMaterial||this.isDummy()}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=F){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=ae(N.s2k.gnu,e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=N.symmetric.aes256,this.isLegacyAEAD=null,this.usedModernAEAD=null)}async encrypt(e,t=F){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=at(t),this.s2k.generateSalt();let r=i2.serializeParams(this.algorithm,this.privateParams);this.symmetric=N.symmetric.aes256;let{blockSize:n}=i2.getCipherParams(this.symmetric);if(t.aeadProtect){this.s2kUsage=253,this.aead=t.preferredAEADAlgorithm;let i=i2.getAEADMode(this.aead);this.isLegacyAEAD=5===this.version,this.usedModernAEAD=!this.isLegacyAEAD;let a=rX(this.constructor.tag),s=await sp(this.version,this.s2k,e,this.symmetric,this.aead,a,this.isLegacyAEAD),o=await i(this.symmetric,s);this.iv=this.isLegacyAEAD?i2.random.getRandomBytes(n):i2.random.getRandomBytes(i.ivLength);let c=this.isLegacyAEAD?new Uint8Array:j.concatUint8Array([a,this.writePublicKey()]);this.keyMaterial=await o.encrypt(r,this.iv.subarray(0,i.ivLength),c)}else{this.s2kUsage=254,this.usedModernAEAD=!1;let i=await sp(this.version,this.s2k,e,this.symmetric);this.iv=i2.random.getRandomBytes(n),this.keyMaterial=await i2.mode.cfb.encrypt(this.symmetric,i,j.concatUint8Array([r,await i2.hash.sha1(r,t)]),this.iv,t)}}async decrypt(e){let t,r;if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let n=rX(this.constructor.tag);if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await sp(this.version,this.s2k,e,this.symmetric,this.aead,n,this.isLegacyAEAD),253===this.s2kUsage){let e=i2.getAEADMode(this.aead),i=await e(this.symmetric,t);try{let t=this.isLegacyAEAD?new Uint8Array:j.concatUint8Array([n,this.writePublicKey()]);r=await i.decrypt(this.keyMaterial,this.iv.subarray(0,e.ivLength),t)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{let e=await i2.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);let n=await i2.hash.sha1(r);if(!j.equalsUint8Array(n,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{let{privateParams:e}=await i2.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null,this.isLegacyAEAD=null}async validate(){let e;if(!this.isDummy()){if(!this.isDecrypted())throw Error("Key is not decrypted");if(!this.usedModernAEAD){try{e=await i2.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw Error("Key is invalid")}}}async generate(e,t,r){if(6===this.version&&(this.algorithm===N.publicKey.ecdh&&t===N.curve.curve25519Legacy||this.algorithm===N.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${t}. Generate a key of type 'curve25519' instead`);if(6!==this.version&&(this.algorithm===N.publicKey.pqc_mldsa_ed25519||this.algorithm===N.publicKey.pqc_mlkem_x25519))throw Error(`Cannot generate v${this.version} keys of type 'pqc'. Generate a v6 key instead`);let{privateParams:n,publicParams:i}=await i2.generateParams(this.algorithm,e,t,r);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach(e=>{this.privateParams[e].fill(0),delete this.privateParams[e]}),this.privateParams=null,this.isEncrypted=!0)}}async function sp(e,t,r,n,i,a,s){if("argon2"===t.type&&!i)throw Error("Using Argon2 S2K without AEAD is not allowed");if("simple"===t.type&&6===e)throw Error("Using Simple S2K with version 6 keys is not allowed");let{keySize:o}=i2.getCipherParams(n),c=await t.produceKey(r,o);if(!i||5===e||s)return c;let u=j.concatUint8Array([a,new Uint8Array([e,n,i])]);return nQ(N.hash.sha256,c,new Uint8Array,u,o)}class sy{static get tag(){return N.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(j.isString(e)||e.name&&!j.isString(e.name)||e.email&&!j.isEmailAddress(e.email)||e.comment&&!j.isString(e.comment))throw Error("Invalid user ID format");let t=new sy;Object.assign(t,e);let r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=F){let r=j.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");let n=/^(?<name>[^()]+\s+)?(?<comment>\([^()]+\)\s+)?(?<email><\S+@\S+>)$/.exec(r);if(null!==n){let{name:e,comment:t,email:r}=n.groups;this.comment=t?.replace(/^\(|\)|\s$/g,"").trim()||"",this.name=e?.trim()||"",this.email=r.substring(1,r.length-1)}else/^[^\s@]+@[^\s@]+$/.test(r)&&(this.email=r);this.userID=r}write(){return j.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class sd extends sf{static get tag(){return N.packet.secretSubkey}constructor(e=new Date,t=F){super(e,t)}}let sg=j.constructAllowedPackets([aJ]);class sm{constructor(e){this.packets=e||new a5}write(){return this.packets.write()}armor(e=F){let t=this.packets.some(e=>e.constructor.tag===aJ.tag&&6!==e.version);return J(N.armor.signature,this.write(),void 0,void 0,void 0,t,e)}getSigningKeyIDs(){return this.packets.map(e=>e.issuerKeyID)}}async function sv({armoredSignature:e,binarySignature:t,config:r,...n}){r={...F,...r};let i=e||t;if(!i)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!j.isString(e))throw Error("readSignature: options.armoredSignature must be a string");if(t&&!j.isUint8Array(t))throw Error("readSignature: options.binarySignature must be a Uint8Array");let a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){let{type:e,data:t}=await X(i);if(e!==N.armor.signature)throw Error("Armored text not of type signature");i=t}return new sm(await a5.fromBinary(i,sg,r))}async function sw(e,t){let r=new sd(e.date,t);return r.packets=null,r.algorithm=N.write(N.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.symmetric),await r.computeFingerprintAndKeyID(),r}async function sb(e,t){let r=new sf(e.date,t);return r.packets=null,r.algorithm=N.write(N.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.symmetric),await r.computeFingerprintAndKeyID(),r}async function sk(e,t,r,n,i=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{(!s||e[c].created>=s.created)&&(await e[c].verify(t,r,n,i,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw j.wrapError(`Could not find valid ${N.read(N.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(e,t,r)=>t+" "+r.toLowerCase()),o);return s}function sE(e,t,r=new Date){let n=j.normalizeDate(r);if(null!==n){let r=sP(e,t);return!(e.created<=n&&n<r)}return!1}async function sA(e,t,r,n){let i={};i.key=t,i.bind=e;let a={signatureType:N.signature.subkeyBinding};return r.sign?(a.keyFlags=[N.keyFlags.signData],a.embeddedSignature=await sx(i,[],e,{signatureType:N.signature.keyBinding},r.date,void 0,void 0,void 0,n)):a.keyFlags=r.forwarding?[N.keyFlags.forwardedCommunication]:[N.keyFlags.encryptCommunication|N.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await sx(i,[],t,a,r.date,void 0,void 0,void 0,n)}async function sx(e,t,r,n,i,a,s=[],o=!1,c){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");let u=new aJ;return Object.assign(u,n),u.publicKeyAlgorithm=r.algorithm,u.hashAlgorithm=await async function(e,t,r=new Date,n=[],i){if(t.algorithm===N.publicKey.pqc_mldsa_ed25519)return i2.publicKey.postQuantum.signature.getRequiredHashAlgo(t.algorithm);let a=N.hash.sha256,s=i.preferredHashAlgorithm,o=await Promise.all(e.map(async(e,t)=>(await e.getPrimarySelfSignature(r,n[t],i)).preferredHashAlgorithms)),c=new Map;for(let e of o)for(let t of e)try{let e=N.write(N.hash,t);c.set(e,c.has(e)?c.get(e)+1:1)}catch{}let u=t=>0===e.length||c.get(t)===e.length||t===a,l=()=>{if(0===c.size)return a;let e=Array.from(c.keys()).filter(e=>u(e)).sort((e,t)=>i2.hash.getHashByteLength(e)-i2.hash.getHashByteLength(t))[0];return i2.hash.getHashByteLength(e)>=i2.hash.getHashByteLength(a)?e:a};if(new Set([N.publicKey.ecdsa,N.publicKey.eddsaLegacy,N.publicKey.ed25519,N.publicKey.ed448]).has(t.algorithm)){let e=i2.getPreferredCurveHashAlgo(t.algorithm,t.publicParams.oid),r=u(s),n=i2.hash.getHashByteLength(s)>=i2.hash.getHashByteLength(e);if(r&&n)return s;{let t=l();return i2.hash.getHashByteLength(t)>=i2.hash.getHashByteLength(e)?t:e}}return u(s)?s:l()}(t,r,i,a,c),u.rawNotations=[...s],await u.sign(r,e,i,o,c),u}async function sS(e,t,r,n=new Date,i){(e=e[r])&&(t[r].length?await Promise.all(e.map(async function(e){e.isExpired(n)||i&&!await i(e)||t[r].some(function(t){return j.equalsUint8Array(t.writeParams(),e.writeParams())})||t[r].push(e)})):t[r]=e)}async function sK(e,t,r,n,i,a,s=new Date,o){a=a||e;let c=[];return await Promise.all(n.map(async function(e){try{if(!i||e.issuerKeyID.equals(i.issuerKeyID)){let n=![N.reasonForRevocation.keyRetired,N.reasonForRevocation.keySuperseded,N.reasonForRevocation.userIDInvalid].includes(e.reasonForRevocationFlag);await e.verify(a,t,r,n?null:s,!1,o),c.push(e.issuerKeyID)}}catch(e){}})),i?(i.revoked=!!c.some(e=>e.equals(i.issuerKeyID))||i.revoked||!1,i.revoked):c.length>0}function sP(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function sD(e,t={}){if(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.symmetricHash=e.symmetricHash||t.symmetricHash,e.symmetricCipher=e.symmetricCipher||t.symmetricCipher,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=j.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.forwarding=e.forwarding||!1,e.sign&&e.forwarding)throw Error('Incompatible options: "sign" and "forwarding" cannot be set together');switch(e.type){case"pqc":e.sign?e.algorithm=N.publicKey.pqc_mldsa_ed25519:e.algorithm=N.publicKey.pqc_mlkem_x25519;break;case"ecc":try{e.curve=N.write(N.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==N.curve.ed25519Legacy&&e.curve!==N.curve.curve25519Legacy&&"ed25519"!==e.curve&&"curve25519"!==e.curve||(e.curve=e.sign?N.curve.ed25519Legacy:N.curve.curve25519Legacy),e.sign?e.algorithm=e.curve===N.curve.ed25519Legacy?N.publicKey.eddsaLegacy:N.publicKey.ecdsa:e.algorithm=N.publicKey.ecdh;break;case"curve25519":e.algorithm=e.sign?N.publicKey.ed25519:N.publicKey.x25519;break;case"curve448":e.algorithm=e.sign?N.publicKey.ed448:N.publicKey.x448;break;case"rsa":e.algorithm=N.publicKey.rsaEncryptSign;break;case"symmetric":if(e.sign){e.algorithm=N.publicKey.hmac;try{e.symmetric=N.write(N.hash,e.symmetricHash)}catch(e){throw Error("Unknown hash algorithm")}}else{e.algorithm=N.publicKey.aead;try{e.symmetric=N.write(N.symmetric,e.symmetricCipher)}catch(e){throw Error("Unknown symmetric algorithm")}}break;default:throw Error("Unsupported key type "+e.type)}return e}function sU(e,t,r){switch(e.algorithm){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:case N.publicKey.dsa:case N.publicKey.ecdsa:case N.publicKey.eddsaLegacy:case N.publicKey.ed25519:case N.publicKey.ed448:case N.publicKey.hmac:case N.publicKey.pqc_mldsa_ed25519:if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||!!(t.keyFlags[0]&N.keyFlags.signData);default:return!1}}function s_(e,t,r){switch(e.algorithm){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:case N.publicKey.elgamal:case N.publicKey.ecdh:case N.publicKey.x25519:case N.publicKey.x448:case N.publicKey.aead:case N.publicKey.pqc_mlkem_x25519:if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!t.keyFlags||!!(t.keyFlags[0]&N.keyFlags.encryptCommunication)||!!(t.keyFlags[0]&N.keyFlags.encryptStorage);default:return!1}}function sI(e,t,r){if(!t.keyFlags&&!r.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(e.algorithm){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaEncrypt:case N.publicKey.elgamal:case N.publicKey.ecdh:case N.publicKey.x25519:case N.publicKey.x448:case N.publicKey.pqc_mlkem_x25519:return!(!(!t.keyFlags||t.keyFlags[0]&N.keyFlags.signData)||!r.allowInsecureDecryptionWithSigningKeys)||!t.keyFlags||!!(t.keyFlags[0]&N.keyFlags.encryptCommunication)||!!(t.keyFlags[0]&N.keyFlags.encryptStorage)||r.allowForwardedMessages&&!!(t.keyFlags[0]&N.keyFlags.forwardedCommunication);default:return!1}}function sT(e,t){let r=N.write(N.publicKey,e.algorithm),n=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw Error(n.algorithm+" keys are considered too weak.");switch(r){case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:case N.publicKey.rsaEncrypt:if(n.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case N.publicKey.ecdsa:case N.publicKey.eddsaLegacy:case N.publicKey.ecdh:if(t.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class sC{constructor(e,t){this.userID=e.constructor.tag===N.packet.userID?e:null,this.userAttribute=e.constructor.tag===N.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){let e=new a5;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){let e=new sC(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){let n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n},a=new sC(i.userID||i.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map(async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(n))throw Error("The user's own key can only be used for self-certifications");let a=await e.getSigningKey(void 0,t,void 0,r);return sx(i,[e],a.keyPacket,{signatureType:N.signature.certGeneric,keyFlags:[N.keyFlags.certifyKeys|N.keyFlags.signData]},t,void 0,void 0,void 0,r)})),await a.update(this,t,r),a}async isRevoked(e,t,r=new Date,n=F){let i=this.mainKey.keyPacket;return sK(i,N.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,n)}async verifyCertificate(e,t,r=new Date,n){let i=this,a=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:o}=e,c=t.filter(e=>e.getKeys(o).length>0);return 0===c.length?null:(await Promise.all(c.map(async t=>{let a=await t.getSigningKey(o,e.created,void 0,n);if(e.revoked||await i.isRevoked(e,a.keyPacket,r,n))throw Error("User certificate is revoked");try{await e.verify(a.keyPacket,N.signature.certGeneric,s,r,void 0,n)}catch(e){throw j.wrapError("User certificate is invalid",e)}})),!0)}async verifyAllCertifications(e,t=new Date,r){let n=this;return Promise.all(this.selfCertifications.concat(this.otherCertifications).map(async i=>({keyID:i.issuerKeyID,valid:await n.verifyCertificate(i,e,t,r).catch(()=>!1)})))}async verify(e=new Date,t){let r;if(!this.selfCertifications.length)throw Error("No self-certifications found");let n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};for(let a=this.selfCertifications.length-1;a>=0;a--)try{let r=this.selfCertifications[a];if(r.revoked||await this.isRevoked(r,void 0,e,t))throw Error("Self-certification is revoked");try{await r.verify(n,N.signature.certGeneric,i,e,void 0,t)}catch(e){throw j.wrapError("Self-certification is invalid",e)}return!0}catch(e){r=e}throw r}async update(e,t,r){let n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};await sS(e,this,"selfCertifications",t,async function(e){try{return await e.verify(n,N.signature.certGeneric,i,t,!1,r),!0}catch(e){return!1}}),await sS(e,this,"otherCertifications",t),await sS(e,this,"revocationSignatures",t,function(e){return sK(n,N.signature.certRevocation,i,[e],void 0,void 0,t,r)})}async revoke(e,{flag:t=N.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=F){let a={userID:this.userID,userAttribute:this.userAttribute,key:e},s=new sC(a.userID||a.userAttribute,this.mainKey);return s.revocationSignatures.push(await sx(a,[],e,{signatureType:N.signature.certRevocation,reasonForRevocationFlag:N.write(N.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await s.update(this),s}}class sR{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){let e=new a5;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){let e=new sR(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,n=F){let i=this.mainKey.keyPacket;return sK(i,N.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verify(e=new Date,t=F){let r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket},i=await sk(this.bindingSignatures,r,N.signature.subkeyBinding,n,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw Error("Subkey is revoked");if(sE(this.keyPacket,i,e))throw Error("Subkey is expired");return i}async getExpirationTime(e=new Date,t=F){let r;let n=this.mainKey.keyPacket,i={key:n,bind:this.keyPacket};try{r=await sk(this.bindingSignatures,n,N.signature.subkeyBinding,i,e,t)}catch(e){return null}let a=sP(this.keyPacket,r),s=r.getExpirationTime();return a<s?a:s}async update(e,t=new Date,r=F){let n=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===N.packet.publicSubkey&&e.keyPacket.constructor.tag===N.packet.secretSubkey&&(this.keyPacket=e.keyPacket);let i=this,a={key:n,bind:i.keyPacket};await sS(e,this,"bindingSignatures",t,async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(n,N.signature.subkeyBinding,a,t,void 0,r),!0}catch(e){return!1}}),await sS(e,this,"revocationSignatures",t,function(e){return sK(n,N.signature.subkeyRevocation,a,[e],void 0,void 0,t,r)})}async revoke(e,{flag:t=N.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=F){let a={key:e,bind:this.keyPacket},s=new sR(this.keyPacket,this.mainKey);return s.revocationSignatures.push(await sx(a,[],e,{signatureType:N.signature.subkeyRevocation,reasonForRevocationFlag:N.write(N.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,!1,i)),await s.update(this),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(e=>{sR.prototype[e]=function(){return this.keyPacket[e]()}});let sM=j.constructAllowedPackets([aJ]),sO=new Set([N.packet.publicKey,N.packet.privateKey]),sB=new Set([N.packet.publicKey,N.packet.privateKey,N.packet.publicSubkey,N.packet.privateSubkey]);class sL{packetListToStructure(e,t=new Set){let r,n,i,a;for(let s of e){if(s instanceof r3){sB.has(s.tag)&&!a&&(a=sO.has(s.tag)?sO:sB);continue}let e=s.constructor.tag;if(a){if(!a.has(e))continue;a=null}if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case N.packet.publicKey:case N.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=s,!(n=this.getKeyID()))throw Error("Missing Key ID");break;case N.packet.userID:case N.packet.userAttribute:r=new sC(s,this),this.users.push(r);break;case N.packet.publicSubkey:case N.packet.secretSubkey:r=null,i=new sR(s,this),this.subkeys.push(i);break;case N.packet.signature:switch(s.signatureType){case N.signature.certGeneric:case N.signature.certPersona:case N.signature.certCasual:case N.signature.certPositive:if(!r){j.printDebug("Dropping certification signatures without preceding user packet");continue}s.issuerKeyID.equals(n)?r.selfCertifications.push(s):r.otherCertifications.push(s);break;case N.signature.certRevocation:r?r.revocationSignatures.push(s):this.directSignatures.push(s);break;case N.signature.key:this.directSignatures.push(s);break;case N.signature.subkeyBinding:if(!i){j.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(s);break;case N.signature.keyRevocation:this.revocationSignatures.push(s);break;case N.signature.subkeyRevocation:if(!i){j.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(s)}}}}toPacketList(){let e=new a5;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map(t=>e.push(...t.toPacketList())),this.subkeys.map(t=>e.push(...t.toPacketList())),e}clone(e=!1){let t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach(e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;let t={};Object.keys(e.keyPacket.privateParams).forEach(r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])}),e.keyPacket.privateParams=t}),t}getSubkeys(e=null){return this.subkeys.filter(t=>!e||t.getKeyID().equals(e,!0))}getKeys(e=null){let t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map(e=>e.getKeyID())}getUserIDs(){return this.users.map(e=>e.userID?e.userID.userID:null).filter(e=>null!==e)}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=F){let i;await this.verifyPrimaryKey(t,r,n);let a=this.keyPacket;try{sT(a,n)}catch(e){throw j.wrapError("Could not verify primary key",e)}for(let r of this.subkeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created))if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);let e={key:a,bind:r.keyPacket},i=await sk(r.bindingSignatures,a,N.signature.subkeyBinding,e,t,n);if(!sU(r.keyPacket,i,n))continue;if(!i.embeddedSignature)throw Error("Missing embedded signature");return await sk([i.embeddedSignature],r.keyPacket,N.signature.keyBinding,e,t,n),sT(r.keyPacket,n),r}catch(e){i=e}try{let i=await this.getPrimarySelfSignature(t,r,n);if((!e||a.getKeyID().equals(e))&&sU(a,i,n))return sT(a,n),this}catch(e){i=e}throw j.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),i)}async getEncryptionKey(e,t=new Date,r={},n=F){let i;await this.verifyPrimaryKey(t,r,n);let a=this.keyPacket;try{sT(a,n)}catch(e){throw j.wrapError("Could not verify primary key",e)}for(let r of this.subkeys.slice().sort((e,t)=>t.keyPacket.created-e.keyPacket.created))if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);let e={key:a,bind:r.keyPacket},i=await sk(r.bindingSignatures,a,N.signature.subkeyBinding,e,t,n);if(s_(r.keyPacket,i,n))return sT(r.keyPacket,n),r}catch(e){i=e}try{let i=await this.getPrimarySelfSignature(t,r,n);if((!e||a.getKeyID().equals(e))&&s_(a,i,n))return sT(a,n),this}catch(e){i=e}throw j.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),i)}async isRevoked(e,t,r=new Date,n=F){return sK(this.keyPacket,N.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=F){let n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");if(sE(n,await this.getPrimarySelfSignature(e,t,r),e))throw Error("Primary key is expired");if(6!==n.version){let t=await sk(this.directSignatures,n,N.signature.key,{key:n},e,r).catch(()=>{});if(t&&sE(n,t,e))throw Error("Primary key is expired")}}async getExpirationTime(e,t=F){let r;try{let n=await this.getPrimarySelfSignature(null,e,t),i=sP(this.keyPacket,n),a=n.getExpirationTime(),s=6!==this.keyPacket.version&&await sk(this.directSignatures,this.keyPacket,N.signature.key,{key:this.keyPacket},null,t).catch(()=>{});if(s){let e=sP(this.keyPacket,s);r=Math.min(i,a,e)}else r=i<a?i:a}catch(e){r=null}return j.normalizeDate(r)}async getPrimarySelfSignature(e=new Date,t={},r=F){let n=this.keyPacket;if(6===n.version)return sk(this.directSignatures,n,N.signature.key,{key:n},e,r);let{selfCertification:i}=await this.getPrimaryUser(e,t,r);return i}async getPrimaryUser(e=new Date,t={},r=F){let n;let i=this.keyPacket,a=[];for(let s=0;s<this.users.length;s++)try{let n=this.users[s];if(!n.userID)continue;if(void 0!==t.name&&n.userID.name!==t.name||void 0!==t.email&&n.userID.email!==t.email||void 0!==t.comment&&n.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");let o={userID:n.userID,key:i},c=await sk(n.selfCertifications,i,N.signature.certGeneric,o,e,r);a.push({index:s,user:n,selfCertification:c})}catch(e){n=e}if(!a.length)throw n||Error("Could not find primary user");await Promise.all(a.map(async function(t){return t.selfCertification.revoked||t.user.isRevoked(t.selfCertification,null,e,r)}));let s=a.sort(function(e,t){let r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created}).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(c,null,e,r))throw Error("Primary user is revoked");return s}async update(e,t=new Date,r=F){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every(t=>e.subkeys.some(e=>t.hasSameFingerprintAs(e)))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}let n=this.clone();return await sS(e,n,"revocationSignatures",t,i=>sK(n.keyPacket,N.signature.keyRevocation,n,[i],null,e.keyPacket,t,r)),await sS(e,n,"directSignatures",t),await Promise.all(e.users.map(async e=>{let i=n.users.filter(t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute));if(i.length>0)await Promise.all(i.map(n=>n.update(e,t,r)));else{let t=e.clone();t.mainKey=n,n.users.push(t)}})),await Promise.all(e.subkeys.map(async e=>{let i=n.subkeys.filter(t=>t.hasSameFingerprintAs(e));if(i.length>0)await Promise.all(i.map(n=>n.update(e,t,r)));else{let t=e.clone();t.mainKey=n,n.subkeys.push(t)}})),n}async getRevocationCertificate(e=new Date,t=F){let r={key:this.keyPacket},n=await sk(this.revocationSignatures,this.keyPacket,N.signature.keyRevocation,r,e,t),i=new a5;i.push(n);let a=6!==this.keyPacket.version;return J(N.armor.publicKey,i.write(),null,null,"This is a revocation certificate",a,t)}async applyRevocationCertificate(e,t=new Date,r=F){let n=await X(e),i=(await a5.fromBinary(n.data,sM,r)).findPacket(N.packet.signature);if(!i||i.signatureType!==N.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,N.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw j.wrapError("Could not verify revocation signature",e)}let a=this.clone();return a.revocationSignatures.push(i),a}async signPrimaryUser(e,t,r,n=F){let{index:i,user:a}=await this.getPrimaryUser(t,r,n),s=await a.certify(e,t,n),o=this.clone();return o.users[i]=s,o}async signAllUsers(e,t=new Date,r=F){let n=this.clone();return n.users=await Promise.all(this.users.map(function(n){return n.certify(e,t,r)})),n}async verifyPrimaryUser(e,t=new Date,r,n=F){let i=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,n);return e?await a.verifyAllCertifications(e,t,n):[{keyID:i.getKeyID(),valid:await a.verify(t,n).catch(()=>!1)}]}async verifyAllUsers(e,t=new Date,r=F){let n=this.keyPacket,i=[];return await Promise.all(this.users.map(async a=>{let s=e?await a.verifyAllCertifications(e,t,r):[{keyID:n.getKeyID(),valid:await a.verify(t,r).catch(()=>!1)}];i.push(...s.map(e=>({userID:a.userID?a.userID.userID:null,userAttribute:a.userAttribute,keyID:e.keyID,valid:e.valid})))})),i}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(e=>{sL.prototype[e]=sR.prototype[e]});class sN extends sL{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([N.packet.secretKey,N.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=F){let t=6!==this.keyPacket.version;return J(N.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}}class sF extends sN{constructor(e){if(super(),this.packetListToStructure(e,new Set([N.packet.publicKey,N.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){let e=new a5,t=this.toPacketList(),r=!1;for(let n of t)if(!r||n.constructor.tag!==N.packet.Signature)switch(r&&(r=!1),n.constructor.tag){case N.packet.secretKey:{if(n.algorithm===N.publicKey.aead||n.algorithm===N.publicKey.hmac)throw Error("Cannot create public key from symmetric private");let t=sc.fromSecretKeyPacket(n);e.push(t);break}case N.packet.secretSubkey:{if(n.algorithm===N.publicKey.aead||n.algorithm===N.publicKey.hmac){r=!0;break}let t=sl.fromSecretSubkeyPacket(n);e.push(t);break}default:e.push(n)}return new sN(e)}armor(e=F){let t=6!==this.keyPacket.version;return J(N.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,t,e)}async getDecryptionKeys(e,t=new Date,r={},n=F){let i=this.keyPacket,a=[],s=null;for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0)){if(this.subkeys[r].keyPacket.isDummy()){s=s||Error("Gnu-dummy key packets cannot be used for decryption");continue}try{let e={key:i,bind:this.subkeys[r].keyPacket},s=await sk(this.subkeys[r].bindingSignatures,i,N.signature.subkeyBinding,e,t,n);sI(this.subkeys[r].keyPacket,s,n)&&a.push(this.subkeys[r])}catch(e){s=e}}let o=await this.getPrimarySelfSignature(t,r,n);if((!e||i.getKeyID().equals(e,!0))&&sI(i,o,n)&&(i.isDummy()?s=s||Error("Gnu-dummy key packets cannot be used for decryption"):a.push(this)),0===a.length)throw s||Error("No decryption key packets found");return a}isDecrypted(){return this.getKeys().some(({keyPacket:e})=>e.isDecrypted())}async validate(e=F){let t;if(!this.isPrivate())throw Error("Cannot validate a public key");if(this.keyPacket.isDummy()){let r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{let e=this.getKeys();if(e.map(e=>e.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map(async e=>e.keyPacket.validate()))}}clearPrivateParams(){this.getKeys().forEach(({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()})}async revoke({flag:e=N.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=F){if(!this.isPrivate())throw Error("Need private key for revoking");let i={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await sx(i,[],this.keyPacket,{signatureType:N.signature.keyRevocation,reasonForRevocationFlag:N.write(N.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,void 0,n)),a}async addSubkey(e={}){let t={...F,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);let r=this.keyPacket;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");let n=r.getAlgorithmInfo();n.type=function(e){switch(N.write(N.publicKey,e)){case N.publicKey.rsaEncrypt:case N.publicKey.rsaEncryptSign:case N.publicKey.rsaSign:case N.publicKey.dsa:return"rsa";case N.publicKey.ecdsa:case N.publicKey.eddsaLegacy:return"ecc";case N.publicKey.ed25519:return"curve25519";case N.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}}(n.algorithm),n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519Legacy",e=sD(e,n);let i=await sw(e,{...t,v6Keys:6===this.keyPacket.version});sT(i,t);let a=await sA(i,r,e,t),s=this.toPacketList();return s.push(i,a),new sF(s)}}let sj=j.constructAllowedPackets([sc,sl,sf,sd,sy,sh,aJ]);function sz(e){for(let t of e)switch(t.constructor.tag){case N.packet.secretKey:return new sF(e);case N.packet.publicKey:return new sN(e)}throw Error("No key packet found")}async function sH(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map(async function(e,t){let i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)}));let i=new a5;function a(e,t){return[t,...e.filter(e=>e!==t)]}function s(){let t={};t.keyFlags=[N.keyFlags.certifyKeys|N.keyFlags.signData];let i=a([N.symmetric.aes256,N.symmetric.aes128],n.preferredSymmetricAlgorithm);if(t.preferredSymmetricAlgorithms=i,n.aeadProtect){let e=a([N.aead.gcm,N.aead.eax,N.aead.ocb],n.preferredAEADAlgorithm);t.preferredCipherSuites=e.flatMap(e=>i.map(t=>[t,e]))}return t.preferredHashAlgorithms=a([N.hash.sha512,N.hash.sha256,...6===e.version?[N.hash.sha3_512,N.hash.sha3_256]:[]],n.preferredHashAlgorithm),t.preferredCompressionAlgorithms=a([N.compression.uncompressed,N.compression.zlib,N.compression.zip],n.preferredCompressionAlgorithm),t.features=[0],t.features[0]|=N.features.modificationDetection,n.aeadProtect&&(t.features[0]|=N.features.seipdv2),r.keyExpirationTime>0&&(t.keyExpirationTime=r.keyExpirationTime,t.keyNeverExpires=!1),t}if(i.push(e),6===e.version){let t=s();t.signatureType=N.signature.key;let a=await sx({key:e},[],e,t,r.date,void 0,void 0,void 0,n);i.push(a)}return await Promise.all(r.userIDs.map(async function(t,i){let a=sy.fromObject(t),o=6!==e.version?s():{};return o.signatureType=N.signature.certPositive,0===i&&(o.isPrimaryUserID=!0),{userIDPacket:a,signaturePacket:await sx({userID:a,key:e},[],e,o,r.date,void 0,void 0,void 0,n)}})).then(e=>{e.forEach(({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)})}),await Promise.all(t.map(async function(t,i){let a=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await sA(t,e,a,n)}})).then(e=>{e.forEach(({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)})}),i.push(await sx({key:e},[],e,{signatureType:N.signature.keyRevocation,reasonForRevocationFlag:N.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map(async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()})),new sF(i)}async function sq({armoredKey:e,binaryKey:t,config:r,...n}){let i;if(r={...F,...r},!e&&!t)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!j.isString(e))throw Error("readKey: options.armoredKey must be a string");if(t&&!j.isUint8Array(t))throw Error("readKey: options.binaryKey must be a Uint8Array");let a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){let{type:t,data:r}=await X(e);if(t!==N.armor.publicKey&&t!==N.armor.privateKey)throw Error("Armored text not of type key");i=r}else i=t;let s=await a5.fromBinary(i,sj,r),o=s.indexOfTag(N.packet.publicKey,N.packet.secretKey);if(0===o.length)throw Error("No key packet found");return sz(s.slice(o[0],o[1]))}async function sW({armoredKey:e,binaryKey:t,config:r,...n}){let i;if(r={...F,...r},!e&&!t)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!j.isString(e))throw Error("readPrivateKey: options.armoredKey must be a string");if(t&&!j.isUint8Array(t))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");let a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){let{type:t,data:r}=await X(e);if(t!==N.armor.privateKey)throw Error("Armored text not of type private key");i=r}else i=t;let s=await a5.fromBinary(i,sj,r),o=s.indexOfTag(N.packet.publicKey,N.packet.secretKey);for(let e=0;e<o.length;e++)if(s[o[e]].constructor.tag!==N.packet.publicKey)return new sF(s.slice(o[e],o[e+1]));throw Error("No secret key packet found")}async function sV({armoredKeys:e,binaryKeys:t,config:r,...n}){r={...F,...r};let i=e||t;if(!i)throw Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!j.isString(e))throw Error("readKeys: options.armoredKeys must be a string");if(t&&!j.isUint8Array(t))throw Error("readKeys: options.binaryKeys must be a Uint8Array");let a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){let{type:t,data:r}=await X(e);if(t!==N.armor.publicKey&&t!==N.armor.privateKey)throw Error("Armored text not of type key");i=r}let s=[],o=await a5.fromBinary(i,sj,r),c=o.indexOfTag(N.packet.publicKey,N.packet.secretKey);if(0===c.length)throw Error("No key packet found");for(let e=0;e<c.length;e++){let t=sz(o.slice(c[e],c[e+1]));s.push(t)}return s}let sG=j.constructAllowedPackets([a$,a8,class{static get tag(){return N.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=N.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await D(e,async e=>{let t=await e.readByte();if(1!==t)throw new r2(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();let r=i2.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()})}write(){return j.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=F){this.packets=await a5.fromBinary(await sr(this,"decrypt",t,U(this.encrypted)),sn,r)}async encrypt(e,t,r=F){this.cipherAlgorithm=e;let{ivLength:n}=i2.getAEADMode(this.aeadAlgorithm);this.iv=i2.random.getRandomBytes(n),this.chunkSizeByte=r.aeadChunkSizeByte;let i=this.packets.write();this.encrypted=await sr(this,"encrypt",t,i)}},st,class{static get tag(){return N.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=F){if(!r.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");let{blockSize:n}=i2.getCipherParams(e),i=await C(U(this.encrypted)),a=await i2.mode.cfb.decrypt(e,t,i.subarray(n+2),i.subarray(2,n+2));this.packets=await a5.fromBinary(a,su,r)}async encrypt(e,t,r=F){let n=this.packets.write(),{blockSize:i}=i2.getCipherParams(e),a=await i2.getPrefixRandom(e),s=await i2.mode.cfb.encrypt(e,t,a,new Uint8Array(i),r),o=await i2.mode.cfb.encrypt(e,t,n,s.subarray(2),r);this.encrypted=j.concat([s,o])}},sa,so,a2,aJ]),s$=j.constructAllowedPackets([so]),sY=j.constructAllowedPackets([aJ]);class sQ{constructor(e){this.packets=e||new a5}getEncryptionKeyIDs(){let e=[];return this.packets.filterByTag(N.packet.publicKeyEncryptedSessionKey).forEach(function(t){e.push(t.publicKeyID)}),e}getSigningKeyIDs(){let e=this.unwrapCompressed(),t=e.packets.filterByTag(N.packet.onePassSignature);return t.length>0?t.map(e=>e.issuerKeyID):e.packets.filterByTag(N.packet.signature).map(e=>e.issuerKeyID)}async decrypt(e,t,r,n=new Date,i=F){let a=this.packets.filterByTag(N.packet.symmetricallyEncryptedData,N.packet.symEncryptedIntegrityProtectedData,N.packet.aeadEncryptedData);if(0===a.length)throw Error("No encrypted data found");let s=a[0],o=s.cipherAlgorithm,c=r||await this.decryptSessionKeys(e,t,o,n,i),u=null,l=Promise.all(c.map(async({algorithm:e,data:t})=>{if(!j.isUint8Array(t)||!s.cipherAlgorithm&&!j.isString(e))throw Error("Invalid session key for decryption.");try{let r=s.cipherAlgorithm||N.write(N.symmetric,e);await s.decrypt(r,t,i)}catch(e){j.printDebugError(e),u=e}}));if(R(s.encrypted),s.encrypted=null,await l,!s.packets||!s.packets.length)throw u||Error("Decryption failed.");let h=new sQ(s.packets);return s.packets=new a5,h}async decryptSessionKeys(e,t,r,n=new Date,i=F){let a,s=[];if(t){let e=this.packets.filterByTag(N.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map(async function(t,r){let n;n=r?await a5.fromBinary(e.write(),s$,i):e,await Promise.all(n.map(async function(e){try{await e.decrypt(t),s.push(e)}catch(e){j.printDebugError(e),e instanceof i5&&(a=e)}}))}))}else{if(!e)throw Error("No key or password specified.");{let t=this.packets.filterByTag(N.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map(async function(t){await Promise.all(e.map(async function(e){let o;try{o=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,i)).map(e=>e.keyPacket)}catch(e){return void(a=e)}let c=[N.symmetric.aes256,N.symmetric.aes128,N.symmetric.tripledes,N.symmetric.cast5];try{let t=await e.getPrimarySelfSignature(n,void 0,i);t.preferredSymmetricAlgorithms&&(c=c.concat(t.preferredSymmetricAlgorithms))}catch(e){}await Promise.all(o.map(async function(e){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");if(i.constantTimePKCS1Decryption&&(t.publicKeyAlgorithm===N.publicKey.rsaEncrypt||t.publicKeyAlgorithm===N.publicKey.rsaEncryptSign||t.publicKeyAlgorithm===N.publicKey.rsaSign||t.publicKeyAlgorithm===N.publicKey.elgamal)){let n=t.write();await Promise.all((r?[r]:Array.from(i.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map(async t=>{let r=new sa;r.read(n);let i={sessionKeyAlgorithm:t,sessionKey:i2.generateSessionKey(t)};try{await r.decrypt(e,i),s.push(r)}catch(e){j.printDebugError(e),a=e}}))}else try{await t.decrypt(e);let n=r||t.sessionKeyAlgorithm;if(n&&!c.includes(N.write(N.symmetric,n)))throw Error("A non-preferred symmetric algorithm was used.");s.push(t)}catch(e){j.printDebugError(e),a=e}}))})),R(t.encrypted),t.encrypted=null}))}}if(s.length>0){if(s.length>1){let e=new Set;s=s.filter(t=>{let r=t.sessionKeyAlgorithm+j.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)})}return s.map(e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm&&N.read(N.symmetric,e.sessionKeyAlgorithm)}))}throw a||Error("Session key decryption failed.")}getLiteralData(){let e=this.unwrapCompressed().packets.findPacket(N.packet.literalData);return e&&e.getBytes()||null}getFilename(){let e=this.unwrapCompressed().packets.findPacket(N.packet.literalData);return e&&e.getFilename()||null}getText(){let e=this.unwrapCompressed().packets.findPacket(N.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=F){let{symmetricAlgo:i,aeadAlgo:a}=await async function(e=[],t=new Date,r=[],n=F){let i=await Promise.all(e.map((e,i)=>e.getPrimarySelfSignature(t,r[i],n)));if(e.length?!n.ignoreSEIPDv2FeatureFlag&&i.every(e=>e.features&&e.features[0]&N.features.seipdv2):n.aeadProtect){let e={symmetricAlgo:N.symmetric.aes128,aeadAlgo:N.aead.ocb};for(let e of[{symmetricAlgo:n.preferredSymmetricAlgorithm,aeadAlgo:n.preferredAEADAlgorithm},{symmetricAlgo:n.preferredSymmetricAlgorithm,aeadAlgo:N.aead.ocb},{symmetricAlgo:N.symmetric.aes128,aeadAlgo:n.preferredAEADAlgorithm}])if(i.every(t=>t.preferredCipherSuites&&t.preferredCipherSuites.some(t=>t[0]===e.symmetricAlgo&&t[1]===e.aeadAlgo)))return e;return e}let a=N.symmetric.aes128,s=n.preferredSymmetricAlgorithm;return{symmetricAlgo:i.every(e=>e.preferredSymmetricAlgorithms&&e.preferredSymmetricAlgorithms.includes(s))?s:a,aeadAlgo:void 0}}(e,t,r,n),s=N.read(N.symmetric,i),o=a?N.read(N.aead,a):void 0;return await Promise.all(e.map(e=>e.getEncryptionKey().catch(()=>null).then(e=>{if(e&&(e.keyPacket.algorithm===N.publicKey.x25519||e.keyPacket.algorithm===N.publicKey.x448)&&!o&&!j.isAES(i))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))),{data:i2.generateSessionKey(i),algorithm:s,aeadAlgorithm:o}}async encrypt(e,t,r,n=!1,i=[],a=new Date,s=[],o=F){if(r){if(!j.isUint8Array(r.data)||!j.isString(r.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)r=await sQ.generateSessionKey(e,a,s,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");r=await sQ.generateSessionKey(void 0,void 0,void 0,o)}let{data:c,algorithm:u,aeadAlgorithm:l}=r,h=await sQ.encryptSessionKey(c,u,l,e,t,n,i,a,s,o),f=st.fromObject({version:l?2:1,aeadAlgorithm:l?N.write(N.aead,l):null});f.packets=this.packets;let p=N.write(N.symmetric,u);return await f.encrypt(p,c,o),h.packets.push(f),f.packets=new a5,h}static async encryptSessionKey(e,t,r,n,i,a=!1,s=[],o=new Date,c=[],u=F){let l=new a5,h=N.write(N.symmetric,t),f=r&&N.write(N.aead,r);if(n){let t=await Promise.all(n.map(async function(t,r){let n=await t.getEncryptionKey(s[r],o,c,u),i=sa.fromObject({version:f?6:3,encryptionKeyPacket:n.keyPacket,anonymousRecipient:a,sessionKey:e,sessionKeyAlgorithm:h});return await i.encrypt(n.keyPacket),delete i.sessionKey,i}));l.push(...t)}if(i){let t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},r=(e,t)=>e+t,n=async function(e,a,s,o){let c=new so(u);return(c.sessionKey=e,c.sessionKeyAlgorithm=a,s&&(c.aeadAlgorithm=s),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map(e=>t(c,e)))).reduce(r))?n(e,a,o):(delete c.sessionKey,c)},a=await Promise.all(i.map(t=>n(e,h,f,t)));l.push(...a)}return new sQ(l)}async sign(e=[],t=[],r=null,n=[],i=new Date,a=[],s=[],o=[],c=F){let u=new a5,l=this.packets.findPacket(N.packet.literalData);if(!l)throw Error("No literal data packet to sign.");let h=await sZ(l,e,t,r,n,i,a,s,o,!1,c),f=h.map((e,t)=>a2.fromSignaturePacket(e,0===t)).reverse();return u.push(...f),u.push(l),u.push(...h),new sQ(u)}compress(e,t=F){if(e===N.compression.uncompressed)return this;let r=new a8(t);r.algorithm=e,r.packets=this.packets;let n=new a5;return n.push(r),new sQ(n)}async signDetached(e=[],t=[],r=null,n=[],i=[],a=new Date,s=[],o=[],c=F){let u=this.packets.findPacket(N.packet.literalData);if(!u)throw Error("No literal data packet to sign.");return new sm(await sZ(u,e,t,r,n,i,a,s,o,!0,c))}async verify(e,t=new Date,r=F){let n=this.unwrapCompressed(),i=n.packets.filterByTag(N.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");f(n.packets.stream)&&n.packets.push(...await C(n.packets.stream,e=>e||[]));let a=n.packets.filterByTag(N.packet.onePassSignature).reverse(),s=n.packets.filterByTag(N.packet.signature);return a.length&&!s.length&&j.isStream(n.packets.stream)&&!f(n.packets.stream)?(await Promise.all(a.map(async e=>{e.correspondingSig=new Promise((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r}),e.signatureData=M(async()=>(await e.correspondingSig).signatureData),e.hashed=C(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch(()=>{})})),n.packets.stream=P(n.packets.stream,async(e,t)=>{let r=O(e),n=B(t);try{for(let e=0;e<a.length;e++){let{value:t}=await r.read();a[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){a.forEach(t=>{t.correspondingSigReject(e)}),await n.abort(e)}}),sX(a,i,e,t,!1,r)):sX(s,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=F){let i=this.unwrapCompressed().packets.filterByTag(N.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return sX(e.packets.filterByTag(N.packet.signature),i,t,r,!0,n)}unwrapCompressed(){let e=this.packets.filterByTag(N.packet.compressedData);return e.length?new sQ(e[0].packets):this}async appendSignature(e,t=F){await this.packets.read(j.isUint8Array(e)?e:(await X(e)).data,sY,t)}write(){return this.packets.write()}armor(e=F){let t=this.packets[this.packets.length-1],r=t.constructor.tag===st.tag?2!==t.version:this.packets.some(e=>e.constructor.tag===aJ.tag&&6!==e.version);return J(N.armor.message,this.write(),null,null,null,r,e)}}async function sZ(e,t,r=[],n=null,i=[],a=new Date,s=[],o=[],c=[],u=!1,l=F){let h=new a5,f=null===e.text?N.signature.binary:N.signature.text;if(await Promise.all(t.map(async(t,n)=>{let h=s[n];if(!t.isPrivate())throw Error("Need private key for signing");let p=await t.getSigningKey(i[n],a,h,l);return sx(e,r.length?r:[t],p.keyPacket,{signatureType:f},a,o,c,u,l)})).then(e=>{h.push(...e)}),n){let e=n.packets.filterByTag(N.packet.signature);h.push(...e)}return h}async function sX(e,t,r,n=new Date,i=!1,a=F){return Promise.all(e.filter(function(e){return["text","binary"].includes(N.read(N.signature,e.signatureType))}).map(async function(e){return async function(e,t,r,n=new Date,i=!1,a=F){let s,o;for(let t of r){let r=t.getKeys(e.issuerKeyID);if(r.length>0){s=t,o=r[0];break}}let c=e instanceof a2?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!o)throw Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());await e.verify(o.keyPacket,e.signatureType,t[0],n,i,a);let r=await c;if(o.getCreationTime()>r.created)throw Error("Key is newer than the signature");try{await s.getSigningKey(o.getKeyID(),r.created,void 0,a)}catch(e){if(!a.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await s.getSigningKey(o.getKeyID(),n,void 0,a)}return!0})(),signature:(async()=>{let e=await c,t=new a5;return e&&t.push(e),new sm(t)})()};return u.signature.catch(()=>{}),u.verified.catch(()=>{}),u}(e,t,r,n,i,a)}))}async function sJ({armoredMessage:e,binaryMessage:t,config:r,...n}){r={...F,...r};let i=e||t;if(!i)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!j.isString(e)&&!j.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!j.isUint8Array(t)&&!j.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");let a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let s=j.isStream(i);if(e){let{type:e,data:t}=await X(i);if(e!==N.armor.message)throw Error("Armored text not of type message");i=t}let o=new sQ(await a5.fromBinary(i,sG,r));return o.fromStream=s,o}async function s1({text:e,binary:t,filename:r,date:n=new Date,format:i=void 0!==e?"utf8":"binary",...a}){let s=void 0!==e?e:t;if(void 0===s)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!j.isString(e)&&!j.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!j.isUint8Array(t)&&!j.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");let o=Object.keys(a);if(o.length>0)throw Error("Unknown option: "+o.join(", "));let c=j.isStream(s),u=new a$(n);void 0!==e?u.setText(s,N.write(N.literal,i)):u.setBytes(s,N.write(N.literal,i)),void 0!==r&&u.setFilename(r);let l=new a5;l.push(u);let h=new sQ(l);return h.fromStream=c,h}let s0=j.constructAllowedPackets([aJ]);class s2{constructor(e,t){if(this.text=j.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof sm))throw Error("Invalid signature input");this.signature=t||new sm(new a5)}getSigningKeyIDs(){let e=[];return this.signature.packets.forEach(function(t){e.push(t.issuerKeyID)}),e}async sign(e,t=[],r=null,n=[],i=new Date,a=[],s=[],o=[],c=F){let u=new a$;u.setText(this.text);let l=new sm(await sZ(u,e,t,r,n,i,a,s,o,!0,c));return new s2(this.text,l)}verify(e,t=new Date,r=F){let n=this.signature.packets.filterByTag(N.packet.signature),i=new a$;return i.setText(this.text),sX(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=F){let t=this.signature.packets.some(e=>6!==e.version),r={hash:t?Array.from(new Set(this.signature.packets.map(e=>N.read(N.hash,e.hashAlgorithm).toUpperCase()))).join():null,text:this.text,data:this.signature.packets.write()};return J(N.armor.signed,r,void 0,void 0,void 0,t,e)}}async function s5({cleartextMessage:e,config:t,...r}){if(t={...F,...t},!e)throw Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!j.isString(e))throw Error("readCleartextMessage: options.cleartextMessage must be a string");let n=Object.keys(r);if(n.length>0)throw Error("Unknown option: "+n.join(", "));let i=await X(e);if(i.type!==N.armor.signed)throw Error("No cleartext signed message.");let a=await a5.fromBinary(i.data,s0,t);!function(e,t){let r=[];if(e.forEach(e=>{let t=e.match(/^Hash: (.+)$/);if(!t)throw Error('Only "Hash" header allowed in cleartext signed message');{let e=t[1].replace(/\s/g,"").split(",").map(e=>{try{return N.write(N.hash,e.toLowerCase())}catch(t){throw Error("Unknown hash algorithm in armor header: "+e.toLowerCase())}});r.push(...e)}}),r.length&&!function(e){let r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===N.packet.signature&&!e.some(r(t[n])))return!1;return!0}(r))throw Error("Hash algorithm mismatch in armor header and signature")}(i.headers,a);let s=new sm(a);return new s2(i.text,s)}async function s3({userIDs:e=[],passphrase:t,type:r,curve:n,rsaBits:i=4096,symmetricHash:a="sha256",symmetricCipher:s="aes256",keyExpirationTime:o=0,date:c=new Date,subkeys:u=[{}],format:l="armored",config:h,...f}){ou(h={...F,...h}),r||n?(r=r||"ecc",n=n||"curve25519Legacy"):(r=h.v6Keys?"curve25519":"ecc",n="curve25519Legacy"),e=ol(e);let p=Object.keys(f);if(p.length>0)throw Error("Unknown option: "+p.join(", "));if(0===e.length&&!h.v6Keys)throw Error("UserIDs are required for V4 keys");if("rsa"===r&&i<h.minRSABits)throw Error(`rsaBits should be at least ${h.minRSABits}, got: ${i}`);let y={userIDs:e,passphrase:t,type:r,rsaBits:i,curve:n,keyExpirationTime:o,date:c,subkeys:u,symmetricHash:a,symmetricCipher:s};try{let{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=sD(e)).subkeys=e.subkeys.map((t,r)=>sD(e.subkeys[r],e));let r=[sb(e,t)];r=r.concat(e.subkeys.map(e=>sw(e,t)));let n=await Promise.all(r),i=await sH(n[0],n.slice(1),e,t),a=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:a}}(y,h);return e.getKeys().forEach(({keyPacket:e})=>sT(e,h)),{privateKey:op(e,l,h),publicKey:"symmetric"!==r?op(e.toPublic(),l,h):null,revocationCertificate:t}}catch(e){throw j.wrapError("Error generating keypair",e)}}async function s8({privateKey:e,userIDs:t=[],passphrase:r,keyExpirationTime:n=0,date:i,format:a="armored",config:s,...o}){ou(s={...F,...s}),t=ol(t);let c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(0===t.length&&6!==e.keyPacket.version)throw Error("UserIDs are required for V4 keys");let u={privateKey:e,userIDs:t,passphrase:r,keyExpirationTime:n,date:i};try{let{key:e,revocationCertificate:t}=await async function(e,t){let{privateKey:r}=e=o(e);if(!r.isPrivate())throw Error("Cannot reformat a public key");if(r.keyPacket.isDummy())throw Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every(({keyPacket:e})=>e.isDecrypted()))throw Error("Key is not decrypted");let n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subkeys.map(async e=>{let r=e.keyPacket,i=await sk(e.bindingSignatures,n,N.signature.subkeyBinding,{key:n,bind:r},null,t).catch(()=>({}));return{sign:i.keyFlags&&i.keyFlags[0]&N.keyFlags.signData,forwarding:i.keyFlags&&i.keyFlags[0]&N.keyFlags.forwardedCommunication}})));let i=r.subkeys.map(e=>e.keyPacket);if(e.subkeys.length!==i.length)throw Error("Number of subkey options does not match number of subkeys");e.subkeys=e.subkeys.map(t=>o(t,e));let a=await sH(n,i,e,t),s=await a.getRevocationCertificate(e.date,t);return a.revocationSignatures=[],{key:a,revocationCertificate:s};function o(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=j.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}(u,s);return{privateKey:op(e,a,s),publicKey:op(e.toPublic(),a,s),revocationCertificate:t}}catch(e){throw j.wrapError("Error reformatting keypair",e)}}async function s6({privateKey:e,passphrase:t,config:r,...n}){ou(r={...F,...r});let i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot decrypt a public key");let a=e.clone(!0),s=j.isArray(t)?t:[t];try{return await Promise.all(a.getKeys().map(e=>j.anyPromise(s.map(t=>e.keyPacket.decrypt(t))))),await a.validate(r),a}catch(e){throw a.clearPrivateParams(),j.wrapError("Error decrypting private key",e)}}async function s4({privateKey:e,passphrase:t,config:r,...n}){ou(r={...F,...r});let i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot encrypt a public key");let a=e.clone(!0),s=a.getKeys(),o=j.isArray(t)?t:Array(s.length).fill(t);if(o.length!==s.length)throw Error("Invalid number of passphrases given for key encryption");try{return await Promise.all(s.map(async(e,t)=>{let{keyPacket:n}=e;await n.encrypt(o[t],r),n.clearPrivateParams()})),a}catch(e){throw a.clearPrivateParams(),j.wrapError("Error encrypting private key",e)}}async function s9({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:a="armored",signature:s=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:l=new Date,signingUserIDs:h=[],encryptionUserIDs:f=[],signatureNotations:p=[],config:y,...d}){if(ou(y={...F,...y}),oa(e),oo(a),t=ol(t),r=ol(r),n=ol(n),c=ol(c),u=ol(u),h=ol(h),f=ol(f),p=ol(p),d.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(d.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(d.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==d.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");let g=Object.keys(d);if(g.length>0)throw Error("Unknown option: "+g.join(", "));r||(r=[]);try{if((r.length||s)&&(e=await e.sign(r,t,s,c,l,h,u,p,y)),e=e.compress(await async function(e=[],t=new Date,r=[],n=F){let i=N.compression.uncompressed,a=n.preferredCompressionAlgorithm;return(await Promise.all(e.map(async function(e,i){let s=(await e.getPrimarySelfSignature(t,r[i],n)).preferredCompressionAlgorithms;return!!s&&s.indexOf(a)>=0}))).every(Boolean)?a:i}(t,l,f,y),y),e=await e.encrypt(t,n,i,o,u,l,f,y),"object"===a)return e;let d="armored"===a?e.armor(y):e.write();return await oh(d)}catch(e){throw j.wrapError("Error encrypting message",e)}}async function s7({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:a=!1,format:s="utf8",signature:o=null,date:c=new Date,config:u,...l}){if(ou(u={...F,...u}),oa(e),i=ol(i),t=ol(t),r=ol(r),n=ol(n),l.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(l.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");let h=Object.keys(l);if(h.length>0)throw Error("Unknown option: "+h.join(", "));try{let l=await e.decrypt(t,r,n,c,u);i||(i=[]);let h={};if(h.signatures=o?await l.verifyDetached(o,i,c,u):await l.verify(i,c,u),h.data="binary"===s?l.getLiteralData():l.getText(),h.filename=l.getFilename(),of(h,e),a){if(0===i.length)throw Error("Verification keys are required to verify message signatures");if(0===h.signatures.length)throw Error("Message is not signed");h.data=E([h.data,M(async()=>(await j.anyPromise(h.signatures.map(e=>e.verified)),"binary"===s?new Uint8Array:""))])}return h.data=await oh(h.data),h}catch(e){throw j.wrapError("Error decrypting message",e)}}async function oe({message:e,signingKeys:t,recipientKeys:r=[],format:n="armored",detached:i=!1,signingKeyIDs:a=[],date:s=new Date,signingUserIDs:o=[],recipientUserIDs:c=[],signatureNotations:u=[],config:l,...h}){if(ou(l={...F,...l}),os(e),oo(n),t=ol(t),a=ol(a),o=ol(o),r=ol(r),c=ol(c),u=ol(u),h.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.sign, pass `signingKeys` instead");if(void 0!==h.armor)throw Error("The `armor` option has been removed from openpgp.sign, pass `format` instead.");let f=Object.keys(h);if(f.length>0)throw Error("Unknown option: "+f.join(", "));if(e instanceof s2&&"binary"===n)throw Error("Cannot return signed cleartext message in binary format");if(e instanceof s2&&i)throw Error("Cannot detach-sign a cleartext message");if(!t||0===t.length)throw Error("No signing keys provided");try{let h;if(h=i?await e.signDetached(t,r,void 0,a,s,o,c,u,l):await e.sign(t,r,void 0,a,s,o,c,u,l),"object"===n)return h;return h="armored"===n?h.armor(l):h.write(),i&&(h=P(e.packets.write(),async(e,t)=>{await Promise.all([A(h,t),C(e).catch(()=>{})])})),await oh(h)}catch(e){throw j.wrapError("Error signing message",e)}}async function ot({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s,...o}){if(ou(s={...F,...s}),os(e),t=ol(t),o.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");let c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(e instanceof s2&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(e instanceof s2&&i)throw Error("Can't verify detached cleartext signature");try{let o={};if(o.signatures=i?await e.verifyDetached(i,t,a,s):await e.verify(t,a,s),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&!i&&of(o,e),r){if(0===o.signatures.length)throw Error("Message is not signed");o.data=E([o.data,M(async()=>(await j.anyPromise(o.signatures.map(e=>e.verified)),"binary"===n?new Uint8Array:""))])}return o.data=await oh(o.data),o}catch(e){throw j.wrapError("Error verifying signed message",e)}}async function or({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n,...i}){if(ou(n={...F,...n}),e=ol(e),r=ol(r),i.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.generateSessionKey, pass `encryptionKeys` instead");let a=Object.keys(i);if(a.length>0)throw Error("Unknown option: "+a.join(", "));try{return await sQ.generateSessionKey(e,t,r,n)}catch(e){throw j.wrapError("Error generating session key",e)}}async function on({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,format:a="armored",wildcard:s=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:l,...h}){if(ou(l={...F,...l}),function(e){if(!j.isUint8Array(e))throw Error("Parameter [data] must be of type Uint8Array")}(e),function(e,t){if(!j.isString(e))throw Error("Parameter ["+t+"] must be of type String")}(t,"algorithm"),oo(a),n=ol(n),i=ol(i),o=ol(o),u=ol(u),h.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encryptSessionKey, pass `encryptionKeys` instead");let f=Object.keys(h);if(f.length>0)throw Error("Unknown option: "+f.join(", "));if(!(n&&0!==n.length||i&&0!==i.length))throw Error("No encryption keys or passwords provided.");try{return op(await sQ.encryptSessionKey(e,t,r,n,i,s,o,c,u,l),a,l)}catch(e){throw j.wrapError("Error encrypting session key",e)}}async function oi({message:e,decryptionKeys:t,passwords:r,date:n=new Date,config:i,...a}){if(ou(i={...F,...i}),oa(e),t=ol(t),r=ol(r),a.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decryptSessionKeys, pass `decryptionKeys` instead");let s=Object.keys(a);if(s.length>0)throw Error("Unknown option: "+s.join(", "));try{return await e.decryptSessionKeys(t,r,void 0,n,i)}catch(e){throw j.wrapError("Error decrypting session keys",e)}}function oa(e){if(!(e instanceof sQ))throw Error("Parameter [message] needs to be of type Message")}function os(e){if(!(e instanceof s2||e instanceof sQ))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function oo(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw Error("Unsupported format "+e)}let oc=Object.keys(F).length;function ou(e){let t=Object.keys(e);if(t.length!==oc){for(let e of t)if(void 0===F[e])throw Error("Unknown config property: "+e)}}function ol(e){return e&&!j.isArray(e)&&(e=[e]),e}async function oh(e){return"array"===j.isStream(e)?C(e):e}function of(e,t){e.data=P(t.packets.stream,async(t,r)=>{await A(e.data,r,{preventClose:!0});let n=B(r);try{await C(t,e=>e),await n.close()}catch(e){await n.abort(e)}})}function op(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"node_modules_openpgp_dist_lightweight_noble_curves_min_mjs"===e?"chunk.7198f5f3.js":"node_modules_openpgp_dist_lightweight_legacy_ciphers_min_mjs"===e?"chunk.3b0ebc6e.js":"node_modules_openpgp_dist_lightweight_noble_hashes_min_mjs"===e?"chunk.53023028.js":"node_modules_openpgp_dist_lightweight_noble_post_quantum_min_mjs"===e?"chunk.4aee7645.js":"node_modules_openpgp_dist_lightweight_argon2id_min_mjs"===e?"chunk.crypto-argon2.js":"node_modules_openpgp_dist_lightweight_seek-bzip_min_mjs"===e?"chunk.3dce1c36.js":"node_modules_noble_hashes_esm_sha1_js"===e?"chunk.176af5fa.js":void 0,r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={"crypto-worker":1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=globalThis.webpackChunkproton_pass_extension=globalThis.webpackChunkproton_pass_extension||[],n=t.push.bind(t);t.push=t=>{var[i,a,s]=t;for(var o in a)r.o(a,o)&&(r.m[o]=a[o]);for(s&&s(r);i.length;)e[i.pop()]=1;n(t)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let n=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),c=e=>"object"==typeof e&&null!==e||"function"==typeof e,u=new Map([["proxy",{canHandle:e=>c(e)&&e[n],serialize(e){let{port1:t,port2:r}=new MessageChannel;return l(e,t),[r,[r]]},deserialize:e=>(e.start(),function(e,t){let r=new Map;return e.addEventListener("message",function(e){let{data:t}=e;if(!t||!t.id)return;let n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}}),function e(t,r,n=[],s=function(){}){let o=!1,c=new Proxy(s,{get(i,s){if(f(o),s===a)return()=>{d&&d.unregister(c),p(t),r.clear(),o=!0};if("then"===s){if(0===n.length)return{then:()=>c};let e=b(t,r,{type:"GET",path:n.map(e=>e.toString())}).then(w);return e.then.bind(e)}return e(t,r,[...n,s])},set(e,i,a){f(o);let[s,c]=v(a);return b(t,r,{type:"SET",path:[...n,i].map(e=>e.toString()),value:s},c).then(w)},apply(a,s,c){f(o);let u=n[n.length-1];if(u===i)return b(t,r,{type:"ENDPOINT"}).then(w);if("bind"===u)return e(t,r,n.slice(0,-1));let[l,h]=g(c);return b(t,r,{type:"APPLY",path:n.map(e=>e.toString()),argumentList:l},h).then(w)},construct(e,i){f(o);let[a,s]=g(i);return b(t,r,{type:"CONSTRUCT",path:n.map(e=>e.toString()),argumentList:a},s).then(w)}});return function(e,t){let r=(y.get(t)||0)+1;y.set(t,r),d&&d.register(e,t,e)}(c,t),c}(e,r,[],void 0)}(e))}],["throw",{canHandle:e=>c(e)&&o in e,serialize:({value:e})=>[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]],deserialize(e){if(e.isError)throw Object.assign(Error(e.value.message),e.value);throw e.value}}]]);function l(e,t=globalThis,r=["*"]){t.addEventListener("message",function i(a){let c;if(!a||!a.data)return;if(!function(e,t){for(let r of e)if(t===r||"*"===r||r instanceof RegExp&&r.test(t))return!0;return!1}(r,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}let{id:u,type:f,path:p}=Object.assign({path:[]},a.data),y=(a.data.argumentList||[]).map(w);try{var d,g;let t=p.slice(0,-1).reduce((e,t)=>e[t],e),r=p.reduce((e,t)=>e[t],e);switch(f){case"GET":c=r;break;case"SET":t[p.slice(-1)[0]]=w(a.data.value),c=!0;break;case"APPLY":c=r.apply(t,y);break;case"CONSTRUCT":d=new r(...y),c=Object.assign(d,{[n]:!0});break;case"ENDPOINT":{let{port1:t,port2:r}=new MessageChannel;l(e,r),g=[t],m.set(t,g),c=t}break;case"RELEASE":c=void 0;break;default:return}}catch(e){c={value:e,[o]:0}}Promise.resolve(c).catch(e=>({value:e,[o]:0})).then(r=>{let[n,a]=v(r);t.postMessage(Object.assign(Object.assign({},n),{id:u}),a),"RELEASE"===f&&(t.removeEventListener("message",i),h(t),s in e&&"function"==typeof e[s]&&e[s]())}).catch(e=>{let[r,n]=v({value:TypeError("Unserializable return value"),[o]:0});t.postMessage(Object.assign(Object.assign({},r),{id:u}),n)})}),t.start&&t.start()}function h(e){"MessagePort"===e.constructor.name&&e.close()}function f(e){if(e)throw Error("Proxy has been released and is not useable")}function p(e){return b(e,new Map,{type:"RELEASE"}).then(()=>{h(e)})}let y=new WeakMap,d="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(y.get(e)||0)-1;y.set(e,t),0===t&&p(e)});function g(e){var t;let r=e.map(v);return[r.map(e=>e[0]),(t=r.map(e=>e[1]),Array.prototype.concat.apply([],t))]}let m=new WeakMap;function v(e){for(let[t,r]of u)if(r.canHandle(e)){let[n,i]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},i]}return[{type:"RAW",value:e},m.get(e)||[]]}function w(e){switch(e.type){case"HANDLER":return u.get(e.name).deserialize(e.value);case"RAW":return e.value}}function b(e,t,r,n){return new Promise(i=>{let a=[,,,,].fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(a,i),e.start&&e.start(),e.postMessage(Object.assign({id:a},r),n)})}r(83868);var k=r(72892);let E=e=>t=>void 0!==t?e(t):void 0,A=E(e=>unescape(encodeURIComponent(e))),x=E(e=>decodeURIComponent(escape(e))),S=E(e=>btoa(e).trim()),K=E(e=>atob(e.trim()));E(e=>S(A(e))),E(e=>x(K(e)));let P=e=>{let t=[],r=e.length;for(let n=0;n<r;n+=16384)t.push(String.fromCharCode.apply(String,e.subarray(n,n+16384<r?n+16384:r)));return t.join("")},D=e=>{let t=new Uint8Array(e.length>>1);for(let r=0;r<t.length;r++){let n=r<<1;t[r]=parseInt(e.substring(n,n+2),16)}return t},U=e=>{let t=[];for(let r=0;r<e.length;r++){let n=e[r].toString(16);t.push(n.length<2?"0"+n:n)}return t.join("")},_=e=>new Date(1e3*Math.floor(+e/1e3));function I(e,t){return e+t&0xffffffff}function T(e,t,r,n,i,a){return t=I(I(t,e),I(n,a)),I(t<<i|t>>>32-i,r)}function C(e,t,r,n,i,a,s){return T(t&r|~t&n,e,t,i,a,s)}function R(e,t,r,n,i,a,s){return T(t&n|r&~n,e,t,i,a,s)}function M(e,t,r,n,i,a,s){return T(t^r^n,e,t,i,a,s)}function O(e,t,r,n,i,a,s){return T(r^(t|~n),e,t,i,a,s)}function B(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=C(r,n,i,a,t[0],7,-0x28955b88),a=C(a,r,n,i,t[1],12,-0x173848aa),i=C(i,a,r,n,t[2],17,0x242070db),n=C(n,i,a,r,t[3],22,-0x3e423112),r=C(r,n,i,a,t[4],7,-0xa83f051),a=C(a,r,n,i,t[5],12,0x4787c62a),i=C(i,a,r,n,t[6],17,-0x57cfb9ed),n=C(n,i,a,r,t[7],22,-0x2b96aff),r=C(r,n,i,a,t[8],7,0x698098d8),a=C(a,r,n,i,t[9],12,-0x74bb0851),i=C(i,a,r,n,t[10],17,-42063),n=C(n,i,a,r,t[11],22,-0x76a32842),r=C(r,n,i,a,t[12],7,0x6b901122),a=C(a,r,n,i,t[13],12,-0x2678e6d),i=C(i,a,r,n,t[14],17,-0x5986bc72),n=C(n,i,a,r,t[15],22,0x49b40821),r=R(r,n,i,a,t[1],5,-0x9e1da9e),a=R(a,r,n,i,t[6],9,-0x3fbf4cc0),i=R(i,a,r,n,t[11],14,0x265e5a51),n=R(n,i,a,r,t[0],20,-0x16493856),r=R(r,n,i,a,t[5],5,-0x29d0efa3),a=R(a,r,n,i,t[10],9,0x2441453),i=R(i,a,r,n,t[15],14,-0x275e197f),n=R(n,i,a,r,t[4],20,-0x182c0438),r=R(r,n,i,a,t[9],5,0x21e1cde6),a=R(a,r,n,i,t[14],9,-0x3cc8f82a),i=R(i,a,r,n,t[3],14,-0xb2af279),n=R(n,i,a,r,t[8],20,0x455a14ed),r=R(r,n,i,a,t[13],5,-0x561c16fb),a=R(a,r,n,i,t[2],9,-0x3105c08),i=R(i,a,r,n,t[7],14,0x676f02d9),n=R(n,i,a,r,t[12],20,-0x72d5b376),r=M(r,n,i,a,t[5],4,-378558),a=M(a,r,n,i,t[8],11,-0x788e097f),i=M(i,a,r,n,t[11],16,0x6d9d6122),n=M(n,i,a,r,t[14],23,-0x21ac7f4),r=M(r,n,i,a,t[1],4,-0x5b4115bc),a=M(a,r,n,i,t[4],11,0x4bdecfa9),i=M(i,a,r,n,t[7],16,-0x944b4a0),n=M(n,i,a,r,t[10],23,-0x41404390),r=M(r,n,i,a,t[13],4,0x289b7ec6),a=M(a,r,n,i,t[0],11,-0x155ed806),i=M(i,a,r,n,t[3],16,-0x2b10cf7b),n=M(n,i,a,r,t[6],23,0x4881d05),r=M(r,n,i,a,t[9],4,-0x262b2fc7),a=M(a,r,n,i,t[12],11,-0x1924661b),i=M(i,a,r,n,t[15],16,0x1fa27cf8),n=M(n,i,a,r,t[2],23,-0x3b53a99b),r=O(r,n,i,a,t[0],6,-0xbd6ddbc),a=O(a,r,n,i,t[7],10,0x432aff97),i=O(i,a,r,n,t[14],15,-0x546bdc59),n=O(n,i,a,r,t[5],21,-0x36c5fc7),r=O(r,n,i,a,t[12],6,0x655b59c3),a=O(a,r,n,i,t[3],10,-0x70f3336e),i=O(i,a,r,n,t[10],15,-1051523),n=O(n,i,a,r,t[1],21,-0x7a7ba22f),r=O(r,n,i,a,t[8],6,0x6fa87e4f),a=O(a,r,n,i,t[15],10,-0x1d31920),i=O(i,a,r,n,t[6],15,-0x5cfebcec),n=O(n,i,a,r,t[13],21,0x4e0811a1),r=O(r,n,i,a,t[4],6,-0x8ac817e),a=O(a,r,n,i,t[11],10,-0x42c50dcb),i=O(i,a,r,n,t[2],15,0x2ad7d2bb),n=O(n,i,a,r,t[9],21,-0x14792c6f),e[0]=I(r,e[0]),e[1]=I(n,e[1]),e[2]=I(i,e[2]),e[3]=I(a,e[3])}let L="0123456789abcdef".split("");async function N(e){return D(function(e){for(let t=0;t<e.length;t++)e[t]=function(e){let t="",r=0;for(;r<4;r++)t+=L[e>>8*r+4&15]+L[e>>8*r&15];return t}(e[t]);return e.join("")}(function(e){let t;let r=e.length,n=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=e.length;t+=64)B(n,function(e){let t;let r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}(e.substring(t-64,t)));e=e.substring(t-64);let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(B(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,B(n,i),n}(P(e))))}let F=async e=>new Uint8Array(await crypto.subtle.digest("SHA-256",e)),j=async e=>new Uint8Array(await crypto.subtle.digest("SHA-512",e)),z=e=>N(e);async function H(e){if(e instanceof Uint8Array)return new Uint8Array(await crypto.subtle.digest("SHA-1",e));let{sha1:t}=await r.e("node_modules_noble_hashes_esm_sha1_js").then(r.bind(r,7631)),n=t.create(),i=e.getReader();for(;;){let{done:e,value:t}=await i.read();if(e)return n.digest();n.update(t)}}function q(e,t=!1){let r=e.keyPacket.version;if(!(4===r||t&&6===r))throw Error(`Version ${e.keyPacket.version} keys are currently not supported.`);let n=[k.vP.publicKey.ed25519,k.vP.publicKey.ed448,k.vP.publicKey.x25519,k.vP.publicKey.x448,k.vP.publicKey.pqc_mlkem_x25519,k.vP.publicKey.pqc_mldsa_ed25519],i=new Set([k.vP.publicKey.dsa,k.vP.publicKey.elgamal,k.vP.publicKey.rsaEncryptSign,k.vP.publicKey.rsaSign,k.vP.publicKey.rsaEncrypt,k.vP.publicKey.ecdh,k.vP.publicKey.ecdsa,k.vP.publicKey.eddsaLegacy,...6===r?n:[]]),a=new Set([k.vP.curve.ed25519Legacy,k.vP.curve.curve25519Legacy,k.vP.curve.nistP256,k.vP.curve.nistP384,k.vP.curve.nistP521,k.vP.curve.brainpoolP256r1,k.vP.curve.brainpoolP384r1,k.vP.curve.brainpoolP512r1,k.vP.curve.secp256k1]);e.getKeys().forEach(({keyPacket:e})=>{let t=e.getAlgorithmInfo(),r=k.vP.write(k.vP.publicKey,t.algorithm);if(!i.has(r))throw Error(`The key algorithm ${t.algorithm} is currently not supported.`);if(t.curve&&!a.has(t.curve))throw Error(`Keys using curve ${t.curve} are currently not supported.`)})}r(85100),r(27162),r(66403),r(94154),r(64777),r(38846),r(62896);let W=()=>new Date,V=function(e){return e[e.NOT_SIGNED=0]="NOT_SIGNED",e[e.SIGNED_AND_VALID=1]="SIGNED_AND_VALID",e[e.SIGNED_AND_INVALID=2]="SIGNED_AND_INVALID",e}({}),G={RECOMMENDED:{passes:1,parallelism:4,memoryExponent:19,tagLength:32},MINIMUM:{passes:3,parallelism:4,memoryExponent:16,tagLength:32}},$={aes128:16,aes192:24,aes256:32},Y=async e=>crypto.getRandomValues(new Uint8Array(e)),Q=Symbol("doneWritingPromise"),Z=Symbol("doneWritingResolve"),X=Symbol("doneWritingReject"),J=Symbol("readingIndex");class ee extends Array{constructor(){super(),Object.setPrototypeOf(this,ee.prototype),this[Q]=new Promise((e,t)=>{this[Z]=e,this[X]=t}),this[Q].catch(()=>{})}}function et(e){return e&&e.getReader&&Array.isArray(e)}function er(e){if(!et(e)){let t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch(function(){}),r.call(t)},t}this.stream=e}function en(e){if(et(e))return"array";if(globalThis.ReadableStream&&globalThis.ReadableStream.prototype.isPrototypeOf(e))return"web";if(e&&!(globalThis.ReadableStream&&e instanceof globalThis.ReadableStream)&&"function"==typeof e._read&&"object"==typeof e._readableState)throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!!e&&!!e.getReader&&"web-like"}function ei(e){return Uint8Array.prototype.isPrototypeOf(e)}ee.prototype.getReader=function(){return void 0===this[J]&&(this[J]=0),{read:async()=>(await this[Q],this[J]===this.length)?{value:void 0,done:!0}:{value:this[this[J]++],done:!1}}},ee.prototype.readToEnd=async function(e){await this[Q];let t=e(this.slice(this[J]));return this.length=0,t},ee.prototype.clone=function(){let e=new ee;return e[Q]=this[Q].then(()=>{e.push(...this)}),e},er.prototype.write=async function(e){this.stream.push(e)},er.prototype.close=async function(){this.stream[Z]()},er.prototype.abort=async function(e){return this.stream[X](e),e},er.prototype.releaseLock=function(){},"object"==typeof globalThis.process&&globalThis.process.versions;let ea=new WeakSet,es=Symbol("externalBuffer");function eo(e){if(this.stream=e,e[es]&&(this[es]=e[es].slice()),et(e)){let t=e.getReader();this._read=t.read.bind(t),this._releaseLock=()=>{},this._cancel=()=>{};return}if(en(e)){let t=e.getReader();this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch(function(){}),t.releaseLock()},this._cancel=t.cancel.bind(t);return}let t=!1;this._read=async()=>t||ea.has(e)?{value:void 0,done:!0}:(t=!0,{value:e,done:!1}),this._releaseLock=()=>{if(t)try{ea.add(e)}catch(e){}}}function ec(e){return en(e)?e:new ReadableStream({start(t){t.enqueue(e),t.close()}})}function eu(e){if(en(e))return e;let t=new ee;return(async()=>{let r=ek(t);await r.write(e),await r.close()})(),t}function el(e){return e.some(e=>en(e)&&!et(e))?function(e){e=e.map(ec);let t=ep(async function(e){await Promise.all(n.map(t=>eb(t,e)))}),r=Promise.resolve(),n=e.map((n,i)=>ed(n,(n,a)=>r=r.then(()=>eh(n,t.writable,{preventClose:i!==e.length-1}))));return t.readable}(e):e.some(e=>et(e))?function(e){let t=new ee,r=Promise.resolve();return e.forEach((n,i)=>r=r.then(()=>eh(n,t,{preventClose:i!==e.length-1}))),t}(e):"string"==typeof e[0]?e.join(""):function(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!ei(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}let r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}(e)}async function eh(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(en(e)&&!et(e)){e=ec(e);try{if(e[es]){let r=ek(t);for(let t=0;t<e[es].length;t++)await r.ready,await r.write(e[es][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}let a=new eo(e=eu(e)),s=ek(t);try{for(;;){await s.ready;let{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function ef(e,t){let r=new TransformStream(t);return eh(e,r.writable),r.readable}function ep(e){let t,r,n,i=!1,a=!1;return{readable:new ReadableStream({start(e){n=e},pull(){t?t():i=!0},async cancel(t){a=!0,e&&await e(t),r&&r(t)}},{highWaterMark:0}),writable:new WritableStream({write:async function(e){if(a)throw Error("Stream is cancelled");n.enqueue(e),i?i=!1:(await new Promise((e,n)=>{t=e,r=n}),t=null,r=null)},close:n.close.bind(n),abort:n.error.bind(n)})}}function ey(e,t=()=>void 0,r=()=>void 0){if(et(e)){let n=new ee;return(async()=>{let i=ek(n);try{let n;let a=await ew(e),s=t(a),o=r();n=void 0!==s&&void 0!==o?el([s,o]):void 0!==s?s:o,await i.write(n),await i.close()}catch(e){await i.abort(e)}})(),n}if(en(e))return ef(e,{async transform(e,r){try{let n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{let t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});let n=t(e),i=r();return void 0!==n&&void 0!==i?el([n,i]):void 0!==n?n:i}function ed(e,t){if(en(e)&&!et(e)){let r;let n=new TransformStream({start(e){r=e}}),i=eh(e,n.writable),a=ep(async function(e){r.error(e),await i,await new Promise(setTimeout)});return t(n.readable,a.writable),a.readable}e=eu(e);let r=new ee;return t(e,r),r}function eg(e){if(et(e))return e.clone();if(en(e)){let t=function(e){if(et(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(en(e)){let t=ec(e).tee();return t[0][es]=t[1][es]=e[es],t}return[ev(e),ev(e)]}(e);return em(e,t[0]),t[1]}return ev(e)}function em(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach(([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))})}function ev(e,t=0,r=1/0){if(et(e))throw Error("Not implemented");if(en(e)){if(t>=0&&r>=0){let n=0;return ef(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(ev(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return ey(e,e=>{e.length>=-t?n=[e]:n.push(e)},()=>ev(el(n),t,r))}if(0===t&&r<0){let n;return ey(e,e=>{let i=n?el([n,e]):e;if(i.length>=-r)return n=ev(i,r),ev(i,t,r);n=i})}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),function(e){let t=new ee;return(async()=>{let r=ek(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}(async()=>ev(await ew(e),t,r))}return(e[es]&&(e=el(e[es].concat([e]))),ei(e))?e.subarray(t,r===1/0?e.length:r):e.slice(t,r)}async function ew(e,t=el){return et(e)?e.readToEnd(t):en(e)?new eo(e).readToEnd(t):e}async function eb(e,t){if(en(e)){if(e.cancel){let r=await e.cancel(t);return await new Promise(setTimeout),r}if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function ek(e){return new er(e)}eo.prototype.read=async function(){return this[es]&&this[es].length?{done:!1,value:this[es].shift()}:this._read()},eo.prototype.releaseLock=function(){this[es]&&(this.stream[es]=this[es]),this._releaseLock()},eo.prototype.cancel=function(e){return this._cancel(e)},eo.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r){if(t.length)return el(t);return}let i=n.indexOf("\n")+1;i&&(e=el(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},eo.prototype.readByte=async function(){let{done:e,value:t}=await this.read();if(e)return;let r=t[0];return this.unshift(ev(t,1)),r},eo.prototype.readBytes=async function(e){let t=[],r=0;for(;;){let{done:n,value:i}=await this.read();if(n){if(t.length)return el(t);return}if(t.push(i),(r+=i.length)>=e){let r=el(t);return this.unshift(ev(r,e)),ev(r,0,e)}}},eo.prototype.peekBytes=async function(e){let t=await this.readBytes(e);return this.unshift(t),t},eo.prototype.unshift=function(...e){if(this[es]||(this[es]=[]),1===e.length&&ei(e[0])&&this[es].length&&e[0].length&&this[es][0].byteOffset>=e[0].length){this[es][0]=new Uint8Array(this[es][0].buffer,this[es][0].byteOffset-e[0].length,this[es][0].byteLength+e[0].length);return}this[es].unshift(...e.filter(e=>e&&e.length))},eo.prototype.readToEnd=async function(e=el){let t=[];for(;;){let{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let eE=e=>e.split("\n").map(e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"	"===e[t]||"\r"===e[t]);t--);return e.substring(0,t+1)}).join("\n");async function eA(e){return ew((await (0,k._8)({binaryMessage:e})).armor())}let ex="context@proton.ch",eS=(e,t)=>({name:ex,value:new TextEncoder().encode(e),humanReadable:!0,critical:t}),eK=(e,t)=>{let{value:r,required:n,requiredAfter:i}=e,a=i?t.created>=_(i):!!n,s=t.rawNotations.filter(({name:e})=>e===ex);return!!s.find(({value:e})=>new TextDecoder().decode(e)===r)||!(s.length>0)&&!a},eP=e=>({...e,knownNotations:[ex]});class eD extends Error{constructor(e){super(e),this.name="ContextError"}}async function eU({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,format:i="armored",date:a=W(),detached:s=!1,...o}){let c={...o,signatureNotations:n?eS(n.value,n.critical):void 0,date:a,format:i},u=t?"binary":"text",l=t||(r?eE(e):e);o.sessionKey||(c.sessionKey=await (0,k.JM)({encryptionKeys:c.encryptionKeys,date:c.date,encryptionUserIDs:c.encryptionUserIDs,config:c.config}));let h={};if(s){if("object"===i)throw Error('Unsupported detached signature when requesting "object" result');let e=await (0,k._S)({message:await (0,k.oH)({[u]:en(l)?et(l)?eg(l):en(l)?new ReadableStream({start(e){let t=ed(l,async(t,r)=>{let n=new eo(t),i=ek(r);try{for(;;){await i.ready;let{done:t,value:r}=await n.read();if(t){try{e.close()}catch(e){}await i.close();return}try{e.enqueue(r)}catch(e){}await i.write(r)}}catch(t){e.error(t),await i.abort(t)}});em(l,t)}}):ev(l):l,date:a}),signingKeys:c.signingKeys,signingKeyIDs:c.signingKeyIDs,signingUserIDs:c.signingUserIDs,signatureNotations:c.signatureNotations,date:c.date,config:c.config,format:"binary",detached:!0});h.encryptedSignature=await (0,k.w)({...c,signingKeys:[],message:await (0,k.oH)({binary:eg(e),date:a})}),h.signature="armored"===i?(0,k.yE)(k.vP.armor.signature,e):e}return h.message=await (0,k.w)({...c,message:await (0,k.oH)({[u]:l,date:a}),signingKeys:s?[]:c.signingKeys}),h}async function e_({date:e=new Date(+W()+-6e4),...t}){return(0,k.rh)({date:e,...t})}async function eI(e){return Y(function(e){if(!$[e])throw Error("Unsupported symmetric algorithm");return $[e]}(e))}function eT({privateKey:e,passphrase:t,date:r=e.getCreationTime(),...n}){return(0,k.uN)({privateKey:e,passphrase:t,date:r,...n})}async function eC(e,t=W()){let r=+t,n=await e.getExpirationTime();return!(e.getCreationTime()<=r&&r<n)}async function eR(e,t=W()){return e.isRevoked(null,null,t)}let eM=async(e,t=W())=>{try{return await eU({textData:"test message",encryptionKeys:e,date:t}),!0}catch(e){return!1}},eO=e=>Promise.all(e.getKeys().map(async({keyPacket:e})=>U(await F(e.writeForHash(e.version))))),eB=({date:e=W(),...t})=>(0,k.TF)({date:e,...t}),eL=({config:e={},...t})=>(0,k.T1)({...t,config:{...e,s2kIterationCountByte:96}}),eN=()=>{k.$W.s2kIterationCountByte=255,k.$W.allowInsecureDecryptionWithSigningKeys=!0,k.$W.allowInsecureVerificationWithReformattedKeys=!0,k.$W.rejectPublicKeyAlgorithms=new Set,k.$W.rejectCurves=new Set,k.$W.minRSABits=1023,k.$W.ignoreSEIPDv2FeatureFlag=!0,k.$W.enableParsingV5Entities=!0};async function eF({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,date:i=W(),format:a="armored",...s}){let o=t||(r?eE(e):e),c={...s,date:i,format:a,message:await (0,k.oH)({[t?"binary":"text"]:o,date:i}),signatureNotations:n?eS(n.value,n.critical):void 0};return(0,k._S)(c).catch(e=>(console.error(e),Promise.reject(e)))}let{NOT_SIGNED:ej,SIGNED_AND_VALID:ez,SIGNED_AND_INVALID:eH}=V;async function eq(e,t,r){let{data:n,signatures:i}=e,a=[],s=[],o=ej,c=null;if(i&&i.length){o=eH;for(let e=0;e<i.length;e++){let{signature:r,verified:n}=i[e],u=await r;if(await n.catch(e=>(s.push(e),!1))){let e=u.packets[0];!t||eK(t,e)?o=ez:s.push(new eD("context verification error")),c||(c=e.created)}a.push(u)}}if(r&&o!==ez)throw s[0];return{data:n,verified:o,signatures:a,signatureTimestamp:c,errors:o===eH?s:void 0}}async function eW({textData:e,binaryData:t,stripTrailingSpaces:r,context:n,config:i={},date:a=new Date(+W()+6e4),...s}){let o=t||(r?eE(e):e),c={...s,date:a,message:await (0,k.oH)({[t?"binary":"text"]:o,date:a}),config:n?eP(i):i};return eq(await (0,k.MX)(c),n,s.expectSigned)}async function eV({cleartextMessage:e,date:t=W(),...r}){if(!(e instanceof k.wN))throw Error("CleartextMessage expected.");let n={...r,date:t,message:e};return eq(await (0,k.MX)(n),void 0,r.expectSigned)}async function eG({date:e=new Date(+W()+6e4),encryptedSignature:t,context:r,config:n={},...i}){let a={...i,date:e,config:r?eP(n):n};try{if(t){let{data:e}=await (0,k.Yc)({...a,message:t,format:"binary"});a.signature=await (0,k.Bc)({binarySignature:await ew(e)})}let e=await (0,k.Yc)(a),n=eq(e,r,i.expectSigned),s=n.then(e=>e.verified),o=n.then(e=>e.signatures),c=n.then(e=>e.errors);return en(e.data)||(s=await s,o=await o,c=await c),{data:e.data,filename:e.filename,verified:s,signatures:o,verificationErrors:c}}catch(e){return Promise.reject(e)}}let e$=BigInt(0),eY=BigInt(1);function eQ(e){let t="0123456789ABCDEF",r="";return e.forEach(e=>{r+=t[e>>4]+t[15&e]}),BigInt("0x0"+r)}function eZ(e,t){let r=e%t;return r<e$?r+t:r}async function eX(e,t){let r=eQ(e),n=eQ(t),i=BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed");return function(e,t="be",r){let n=e.toString(16);n.length%2==1&&(n="0"+n);let i=n.length/2,a=new Uint8Array(r||i),s=r?r-i:0,o=0;for(;o<i;)a[o+s]=parseInt(n.slice(2*o,2*o+2),16),o++;return"be"!==t&&a.reverse(),a}(eZ(function(e,t){let{gcd:r,x:n}=function(e,t){let r=BigInt(0),n=BigInt(1),i=BigInt(1),a=BigInt(0),s=e>=e$?e:-e,o=t>=e$?t:-t;for(;o!==e$;){let e=s/o,t=r;r=i-e*r,i=t,t=n,n=a-e*n,a=t,t=o,o=s%o,s=t}return{x:e<e$?-i:i,y:t<e$?-a:a,gcd:s}}(e,t);if(r!==eY)throw Error("Inverse does not exist");return eZ(n+t,t)}(n,i)*r,i),"le",t.length)}async function eJ(e,t){let r=(await Promise.all(e.getKeyIDs().map(r=>e.getEncryptionKey(r,t).catch(()=>null)))).filter(e=>!!e);if(r.some(e=>null===e||!(e.keyPacket instanceof k.Iv)||e.keyPacket.isDummy()||4!==e.keyPacket.version||"ecdh"!==e.getAlgorithmInfo().algorithm||"curve25519Legacy"!==e.getAlgorithmInfo().curve))throw Error("One or more encryption key packets are unsuitable for forwarding");return r}async function e1(e,t=W()){if(!e.isDecrypted())return!1;try{return(await eJ(e,t)).length>0}catch{return!1}}let e0=(e,t=W())=>eJ(e,t).then(e=>e.every(e=>e.bindingSignatures[0].keyFlags&k.vP.keyFlags.forwardedCommunication)).catch(()=>!1);async function e2(e,t,r=W()){if(!e.isDecrypted())throw Error("Forwarder key must be decrypted");let n=await eJ(e,r),{privateKey:i}=await e_({type:"ecc",userIDs:t,subkeys:Array(n.length).fill({curve:"curve25519Legacy",forwarding:!0}),format:"object",date:r}),a=await Promise.all(n.map(async(e,t)=>{let r=e.keyPacket,n=i.subkeys[t].keyPacket,{hash:a,cipher:s}=r.publicParams.kdfParams;n.publicParams.kdfParams=new k.qz({version:255,hash:a,cipher:s,replacementFingerprint:r.getFingerprintBytes().subarray(0,20)});let o=await eX(r.privateParams.d,n.privateParams.d);return await n.computeFingerprintAndKeyID(),{keyVersion:r.version,proxyParameter:o,forwarderKeyFingerprint:r.getFingerprintBytes(),forwardeeKeyFingerprint:n.getFingerprintBytes()}})),{privateKey:s}=await eT({privateKey:i,userIDs:t,format:"object"});return{proxyInstances:a,forwardeeKey:s}}async function e5(e){try{let t=await (0,k.Qs)(e);if(t.length>1)throw Error("Multiple decrypted session keys found");return t[0]}catch(e){return Promise.reject(e)}}function e3(e){return[e.replace(/=([0-9A-F][0-9A-F]|[ \t]*(\r\n|[\r\n]|$))/gi,function(e,t){return 0==t.trim().length?"":String.fromCharCode(parseInt(t,16))}),""]}function e8(e,t){let r=e.replace(/[^A-Za-z0-9+/=]/g,""),n=(r=r.replace(/=+([A-Za-z0-9+/])/g,"$1")).length%4;return e=0!=n&&t?r.slice(-n):"",[atob(r=(r=r.substring(0,r.length-n)).replace(/(====)+$/g,"")),e]}function e6(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function e4(e){var t="";for(let r=0;r<e.length;r+=100)t+=String.fromCharCode.apply(void 0,e.subarray(r,r+100));return t}let e9=e=>e6(atob(e)),e7=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class te{constructor(){this.collectInput="",this.decodeString=ti}decode(e,t={}){let r=t.stream;return(e&&(this.collectInput+=e4(e)),r)?"":this.decodeString(this.collectInput)}}class tt extends te{constructor(){super(),this.decodeString=ta}}function tr(e,t){switch(e.toLowerCase()){case"utf-7":return new te;case"utf-7-imap":return new tt;case"cp932":return new TextDecoder("shift_jis",t);default:return new TextDecoder(e,t)}}function tn(e){let t=e9(e),r="";for(let e=0,n=t.length;e<n;)r+=String.fromCharCode(t[e++]<<8|t[e++]);return r}let ti=e=>e.replace(/\+([A-Za-z0-9/]*)-?/gi,(e,t)=>""===t?"+":tn(t)),ta=e=>e.replace(/&([^-]*)-/g,(e,t)=>""===t?"&":tn(t.replace(/,/g,"/")));var ts=new Map,to=new Map,tc=new Map;function tu(e,t,r){var n=e.toLowerCase();ts.set(n,t),to.set(n,r),tc.set(n,e)}function tl(e){let t=this;return e.reduce(function(e,r){return e.concat(t.parseAddressingHeader(r,!0))},[])}function th(e){Array.isArray(e)||(e=[e]),this.addAddresses(e)}function tf(e,t,r){return this.parseParameterHeader(e[0],t,r)}function tp(e){return this.decodeRFC2047Words(e[0])}function ty(e){this.addUnstructured(e)}function td(e){return this.decodeRFC2047Words(e[0])}function tg(e){this.addUnstructured(e)}function tm(e){return this.parseDateHeader(e[0])}function tv(e){this.addDate(e)}function tw(e){let t=/<[^>]*>/g,r,n=[];for(;null!==(r=t.exec(e));)n.push(r[0]);return n.join(" ")}tu("Bcc",tl,th),tu("Cc",tl,th),tu("From",tl,th),tu("Reply-To",tl,th),tu("Resent-Bcc",tl,th),tu("Resent-Cc",tl,th),tu("Resent-From",tl,th),tu("Resent-Reply-To",tl,th),tu("Resent-Sender",tl,th),tu("Resent-To",tl,th),tu("Sender",tl,th),tu("To",tl,th),tu("Approved",tl,th),tu("Disposition-Notification-To",tl,th),tu("Delivered-To",tl,th),tu("Return-Receipt-To",tl,th),tu("Mail-Reply-To",tl,th),tu("Mail-Followup-To",tl,th),ts.set("Content-Type",function(e){let t=tf.call(this,e,!1,!1),r=t.preSemi.split("/");2!=r.length&&(t=new Map,r=["text","plain"]);let n=r[0].toLowerCase(),i=r[1].toLowerCase(),a=n+"/"+i,s=new Map;return s.mediatype=n,s.subtype=i,s.type=a,t.forEach(function(e,t){s.set(t.toLowerCase(),e)}),s}),tu("Comments",tp,ty),tu("Keywords",tp,ty),tu("Subject",tp,ty),tu("MIME-Version",tp,ty),tu("Content-Description",tp,ty),tu("User-Agent",tp,ty),tu("Date",tm,tv),tu("Resent-Date",tm,tv),tu("Expires",tm,tv),tu("Injection-Date",tm,tv),tu("NNTP-Posting-Date",tm,tv),tu("Message-ID",td,tg),tu("Resent-Message-ID",td,tg),ts.set("Content-Transfer-Encoding",function(e){return e[0].toLowerCase()}),to.set("Content-Transfer-Encoding",ty),ts.set("References",tw),ts.set("In-Reply-To",tw);let tb={};function tk(e,t,r){let n,i,a=[];function s(e){this.token=e.replace(/\\(.?)/g,"$1")}s.prototype.toString=function(){return this.token};let o=0,c=e.length;for(let u=0;u<c;u++){let c=e[u];if("\\"==c){u++;continue}if(void 0!==i){if(c==i&&'"'==c){let t=e.slice(n+1,u);r.rfc2047&&(t=tE(t)),a.push(new s(t)),i=void 0,n=void 0}else c==i&&"]"==c&&(a.push(new s(e.slice(n,u+1))),i=void 0,n=void 0);continue}if(r.rfc2047&&"="==c&&u+1<e.length&&"?"==e[u+1]){let t=/([ \t\r\n]*=\?[^?]*\?[BbQq]\?[^?]*\?=)+/.exec(e.slice(u));if(null!==t){void 0!==n&&(a.push(new s(e.slice(n,u))),n=void 0);let r=t[0].length,i=tE(e.slice(u,u+r),"UTF-8");a.push({toString:()=>i}),u+=r-1;continue}}let l=!1,h=!1,f=!1;" 	\r\n".includes(c)?l=!0:0==o&&t.includes(c)?(l=!0,f=!0):r.qstring&&'"'==c?(l=!0,h=!0,i=c):r.dliteral&&"["==c?(l=!0,h=!0,i="]"):r.comments&&"("==c?1==++o?(l=!0,f=!0):h=!0:r.comments&&")"==c?(o>0&&o--,0==o?(l=!0,f=!0):h=!0):h=!0,l&&void 0!==n&&(a.push(new s(e.slice(n,u))),n=void 0),f&&a.push(c),h&&void 0===n&&(n=u)}return void 0!==n&&('"'==i?a.push(new s(e.slice(n+1))):a.push(new s(e.slice(n)))),a}function tE(e){let t="",r,n=e.split(/(=\?[^?]*\?[BQbq]\?[^?]*\?=)/),i=-1;for(let e=0;e<n.length;e++)"=?"==n[e].substring(0,2)&&(i=e);for(let e=0;e<n.length;e++){if("=?"==n[e].substring(0,2)){let a=function(e,n){let i,a,s=e.split("?");if(5!=s.length||"="!=s[4])return!1;let o=s[1].split("*",1)[0],c=s[2],u=s[3];if("B"==c||"b"==c){if(/[^ A-Za-z0-9+/=]/.exec(u))return!1;i=e8(u,!1)[0]}else{if("Q"!=c&&"q"!=c)return!1;i=e3(u.replace(/_/g," "),!1)[0]}let l=i;i=e6(i);var h="";if(o!=t&&r&&(h+=r.decode(),r=null),t=o,!r)try{r=new tr(o,{fatal:!1})}catch(e){return!1}return a=n||"ISO-2022-JP"==o.toUpperCase()&&l.endsWith("\x1b(B")?{stream:!1}:{stream:!0},h+r.decode(i,a)}(n[e],e==i);if(!1!==a){n[e]=a;continue}}else if(/^[ \t\r\n]*$/.exec(n[e])){n[e]="";continue}t="",r&&(n[e]=r.decode()+n[e],r=null)}return n.join("")}function tA(e){let t=e.indexOf("'"),r=t>=0?e.indexOf("'",t+1):-1,n=t>=0?e.substring(0,t):"",i=e6(e=e.substring(Math.max(t,r)+1));return new tr(n,{fatal:!0}).decode(i,{stream:!1})}var tx={UT:"+0000",GMT:"+0000",EST:"-0500",EDT:"-0400",CST:"-0600",CDT:"-0500",MST:"-0700",MDT:"-0600",PST:"-0800",PDT:"-0700",AST:"-0400",NST:"-0330",BST:"+0100",MET:"+0100",EET:"+0200",JST:"+0900"},tS=new Map,tK=new Set;for(let e of ts)tP(e[0],e[1]),tK.add(e[0].toLowerCase());function tP(e,t){let r=e.toLowerCase();if(tK.has(r))throw Error("Cannot override header: "+e);tS.set(r,t),tc.has(r)||tc.set(r,e)}tb.addStructuredDecoder=tP,tb.convert8BitHeader=function(e,t){if(/[\x80-\xff]/.exec(e)){let r=e6(e),n=new tr("utf-8",{fatal:t&&!t.toLowerCase().startsWith("utf")});try{e=n.decode(r)}catch(n){try{e=new tr(t,{fatal:!1}).decode(r)}catch(e){}}}return e},tb.decodeRFC2047Words=tE,tb.getHeaderTokens=tk,tb.parseAddressingHeader=function(e,t){void 0===t&&(t=!0);let r=[],n=[],i="",a="",s="",o="",c="",u=!1,l=!1,h=!1,f=!1,p=!1,y=!1,d="";function g(e,t){let r=t.substring(0,t.lastIndexOf("@"));if(null!==/[ !()<>[\]:;@\\,"]/.exec(r)&&(t='"'+r.replace(/([\\"])/g,"\\$1")+'"'+t.substring(t.lastIndexOf("@"))),""===(e=e.replace(/\s+/g," ").trim())&&""!==d){let t=" "===d[0]?2:1;e=d.substr(t,d.length-t-1)}(""!==e||""!==t)&&n.push({name:e,email:t}),i=s=o=d="",u=l=h=f=!1}for(let m of tk(e,":,;<>@",{qstring:!0,comments:!0,dliteral:!0,rfc2047:t})){if(":"===m)a=i,i="",s="",n.length>0&&(r=r.concat(n)),n=[];else if("<"!==m||f){if(">"!==m||f){if("("===m)l=!0,p=h,h||(h=""!==i&&" "!==i.substr(-1)),c=h?" (":"(",y=!1;else if(")"===m){l=!1,c+=")",d=c,u?h=p:(i+=c,h=!0),y=!0;continue}else if("@"===m){if(f)continue;u||(o=s,i="",s="",u=!0),o+="@"}else if(","===m)g(i,o),f=!1;else if(";"===m)g(i,o),""===a?r=r.concat(n):r.push({name:a,group:n}),n=[],a="";else{let e=m=m.toString().replace(/[\xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g," ").replace(/[\u034F\u17B4\u17B5\u180B-\u180D\uFE00-\uFE0F]/g,"").replace(/\uDB40[\uDD00-\uDDEF]/g,"").replace(/(?![\t\n\r])[\0-\x1F\x7F-\x9F]/g,"").replace(/(?:[\xAD\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F])/g," ").replace(/\u2800/g," ");h&&m&&"."!=m[0]&&(e=" "+e),l?c+=e:u?o+=e:(f||(i+=e),y?(s+=m,y=!1):s+=e),h=m&&"."!=m[0];continue}}else u=!1,d="",f=!0}else u?(o.length>0&&(i=o),s=o=""):u=!0;h=!1}return g(i,o),""!==a&&(r.push({name:a,group:n}),n=[]),r.concat(n)},tb.parseDateHeader=function(e){let t=tk(e,",:",{}).map(e=>e.toString());if(t.length>1&&","===t[1]&&(t=t.slice(2)),t.length<8)return new Date(NaN);let r=parseInt(t[0]),n=parseInt(t[2]),i=parseInt(t[3]),a=parseInt(t[5]),s=parseInt(t[7]),o=e7.indexOf(t[1].slice(0,3));o<0&&(o=NaN),n<100&&(n+=n<50?2e3:1900);let c=t[8];c in tx&&(c=tx[c]);let u=/^([+-])(\d\d)(\d\d)$/.exec(c);null===u&&(u=["+0000","+","00","00"]);let l=60*parseInt(u[2])+parseInt(u[3]);return"-"==u[1]&&(l=-l),new Date(Date.UTC(n,o,r,i,a,s)-6e4*l)},tb.parseParameterHeader=function(e,t,r){let n,i;var a=e.indexOf(";");a<0?(n=e,i=""):(n=e.substring(0,a),i=e.substring(a)),n=n.trim().split(/[ \t\r\n]/)[0];let s="",o=!0,c=[];for(let e of tk(i,";=",{qstring:!0,rfc2047:t}))";"===e?(""==s||o||c.push([s,""]),s="",o=!0):"="===e?o=!1:o&&""==s?s=e.toString():o||""==s?o&&(s=""):(e=e.toString(),r&&s.endsWith("*")&&(e=e.replace(/%([0-9A-Fa-f]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))})),c.push([s,e]),s="");""==s||o||c.push([s,""]);var u=new Map,l=new Map,h=new Map;for(let e of c){let t=e[0],r=e[1],n=t.indexOf("*");if(-1==n)u.has(t)||u.set(t,r);else if(n==t.length-1)t=t.substring(0,n),l.has(t)||l.set(t,r);else{let e=t.substring(0,n),i=h.get(e);if(h.has(e)&&!i.valid)continue;h.has(e)||((i=[]).valid=!0,i.hasCharset=void 0,h.set(e,i));let a="*"==t[t.length-1],s=t.substring(n+1,t.length-(a?1:0));if("0"==s)i.hasCharset=a;else if(0==s.length||"0"==s[0]&&"0"!=s||!/^[0-9]+$/.test(s)){i.valid=!1;continue}if(void 0!==i[s=parseInt(s,10)]){i.valid=!1;continue}i[s]=r}}var f=new Map;for(let e of u)f.set(e[0],e[1]);if(r){for(let e of h){let t=e[0],r=e[1];if(void 0===r.hasCharset)continue;let n=!0;for(var p=0;n&&p<r.length;p++)void 0===r[p]&&(n=!1);let i=r.slice(0,p).join("");if(r.hasCharset)try{i=tA(i)}catch(e){continue}f.set(t,i)}for(let e of l)try{f.set(e[0],tA(e[1]))}catch(e){}}return f.preSemi=n,f},tb.parseStructuredHeader=function(e,t){if(("string"==typeof t||t instanceof String)&&(t=[t]),!Array.isArray(t))throw TypeError("Header value is not an array: "+t);let r=e.toLowerCase();if(tS.has(r))return tS.get(r).call(tb,t);throw Error("Unknown structured header: "+e)};let tD=Object.freeze(tb);function tU(e,t){let r=e.split(/(?:\r\n|\n)(?![ \t])|\r(?![ \t\n])/);r.length>0&&"From "==r[0].substring(0,5)&&(r.shift(),e=0==r.length?"":e.substring(e.indexOf(r[0])));let n=new Map;for(let e=0;e<r.length;e++){let i,a,s=r[e].indexOf(":");s>=0?(i=r[e].substring(0,s),a=r[e].substring(s+1).trim(),t.stripcontinuations&&(a=a.replace(/[\r\n]/g,""))):(i=r[e],a=""),""!=(i=i.trim().toLowerCase())&&(n.has(i)?n.get(i).push(a):n.set(i,[a]))}this._rawHeaders=n,this._cachedHeaders=new Map,Object.defineProperty(this,"rawHeaderText",{get:()=>e}),Object.defineProperty(this,"size",{get(){return this._rawHeaders.size}}),Object.defineProperty(this,"charset",{get(){return this._charset},set(e){this._charset=e,this._cachedHeaders.clear()}}),"charset"in t?this._charset=t.charset:this._charset=null,Object.defineProperty(this,"contentType",{configurable:!0,get(){return this.get("Content-Type")}})}tU.prototype.getRawHeader=function(e){return this._rawHeaders.get(e.toLowerCase())},tU.prototype.get=function(e){let t;if(e=e.toLowerCase(),this._cachedHeaders.has(e))return this._cachedHeaders.get(e);let r=this._rawHeaders.get(e);if(void 0===r)return r;let n=this.charset;r=r.map(function(e){return tD.convert8BitHeader(e,n)});try{t=tD.parseStructuredHeader(e,r)}catch(e){t=r.map(function(e){return tD.decodeRFC2047Words(e)})}return this._cachedHeaders.set(e,t),t},tU.prototype.has=function(e){return this._rawHeaders.has(e.toLowerCase())};var t_="function"==typeof Symbol?Symbol.iterator:"@@iterator";function tI(e,t){if(this._emitter=e,this._options={pruneat:"",bodyformat:"nodecode",strformat:"binarystring",stripcontinuations:!0,charset:"","force-charset":!1,onerror:()=>{}},t)for(var r in t)this._options[r]=t[r];if("function"!=typeof this._options.onerror)throw Error("onerror callback must be a function");this.resetParser()}function tT(e){let t=e.lastIndexOf("\r",e.length-2),r=e.lastIndexOf("\n"),n=r>t?r:t;return[e.substring(0,n+1),e.substring(n+1)]}tU.prototype[t_]=function*(){for(let e of this.keys())yield[e,this.get(e)]},tU.prototype.forEach=function(e,t){for(let[r,n]of this)e.call(t,n,r,this)},tU.prototype.entries=tU.prototype[Symbol.iterator],tU.prototype.keys=function*(){for(let e of this._rawHeaders.keys())yield tc.get(e)||e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},tU.prototype.values=function*(){for(let[,e]of this)yield e},tI.prototype.resetParser=function(){this._state=tC,this._holdData="",this._headerData="",this._triggeredCall=!1,this._splitRegex=this._handleSplit=void 0,this._subparser=this._subPartNum=void 0,this._savedBuffer="",this._convertData=void 0,this._decoder=void 0},tI.prototype.deliverData=function(e){this._holdData&&(e=this._holdData+e,this._holdData=""),e.length>0&&([e,this._holdData]=tT(e)),0!=e.length&&(this._triggeredCall||(this._callEmitter("startMessage"),this._triggeredCall=!0),this._dispatchData("",e,!0))},tI.prototype.deliverEOF=function(){this._triggeredCall||(this._triggeredCall=!0,this._callEmitter("startMessage")),this._holdData&&this._dispatchData("",this._holdData,!0),this._dispatchEOF(""),this._callEmitter("endMessage")},tI.prototype._callEmitter=function(e,...t){if(this._emitter&&e in this._emitter&&!(t.length>0&&this._willIgnorePart(t[0])))try{this._emitter[e].apply(this._emitter,t)}catch(e){this._options.onerror(e)}},tI.prototype._willIgnorePart=function(e){if(this._options.pruneat){let t=this._options.pruneat;if(e.substr(0,t.length)!=t||t.length<e.length&&!"$.".includes(e[t.length]))return!0}return!1};var tC=1;tI.prototype._dispatchData=function(e,t,r){if(this._state==tC){this._headerData+=t;let r=/(?:^(?:\r\n|[\r\n]))|(\r\n|[\r\n])\1/.exec(this._headerData);if(null==r)return;{let n=this._headerData.substr(0,r.index);t=this._headerData.substring(r.index+r[0].length),this._headerData=n,this._headers=this._parseHeaders(),this._callEmitter("startPart",e,this._headers),this._startBody(e)}}if(r&&this._splitRegex){let r=this._splitRegex.exec(t);if(r){let n=r.index,i=r[0].length;n>0&&this._dispatchData(e,t.substr(0,n),!1),this._handleSplit(e,r),(t=t.substring(n+i)).length>0&&this._dispatchData(e,t,!0);return}}if(2==this._state);else if(3==this._state){if(!("none"!=this._options.bodyformat)||this._willIgnorePart(e))return;let{coerced:r,raw:n}=this._applyDataConversion(t,this._options.strformat);this._callEmitter("deliverPartData",e,r,n)}else if(4==this._state){let{coerced:e}=this._applyDataConversion(t,"binarystring");t.length>0&&this._subparser._dispatchData(this._subPartNum,e,!0)}},tI.prototype._applyDataConversion=function(e,t){return this._convertData&&(e=this._savedBuffer+e,[e,this._savedBuffer]=this._convertData(e,!0)),{coerced:this._coerceData(e,t,!1),raw:e instanceof Uint8Array?e:e6(e)}},tI.prototype._coerceData=function(e,t,r){if("string"==typeof e){if("binarystring"==t)return e;var n=e6(e);return"unicode"==t?this._coerceData(n,"unicode",r):n}if("binarystring"==t)return e4(e);if("unicode"==t)return this._decoder?this._decoder.decode(e,{stream:r}):e;throw Error("Invalid type: "+t)},tI.prototype._dispatchEOF=function(e){if(this._state==tC)this._headers=this._parseHeaders(),this._callEmitter("startPart",e,this._headers);else if(4==this._state)this._convertData&&this._savedBuffer&&this._subparser._dispatchData(this._subPartNum,this._convertData(this._savedBuffer,!1)[0],!0),this._subparser._dispatchEOF(this._subPartNum),this._subparser=null;else if(this._convertData&&this._savedBuffer){let[t]=this._convertData(this._savedBuffer,!1);(t=this._coerceData(t,this._options.strformat,!1)).length>0&&this._callEmitter("deliverPartData",e,t)}this._callEmitter("endPart",e)},tI.prototype._parseHeaders=function(){let e=new tU(this._headerData,this._options),t=e.get("Content-Type");void 0===t?(t=tD.parseStructuredHeader("Content-Type",this._defaultContentType||"text/plain"),Object.defineProperty(e,"contentType",{get:()=>t})):Object.defineProperty(e,"contentType",{configurable:!1});let r="";return r=this._options["force-charset"]?this._options.charset:t.has("charset")?t.get("charset"):this._options.charset,e.charset=r,this._charset=r,e},tI.prototype._startBody=function(e){let t=this._headers.contentType;if("raw"==this._options.bodyformat&&e==this._options.pruneat){this._state=3;return}if("multipart"==t.mediatype){if(!t.has("boundary")){this._state=2;return}this._splitRegex=RegExp("(\r\n|[\r\n]|^)--"+t.get("boundary").replace(/[\\^$*+?.()|{}[\]]/g,"\\$&")+"(--)?[ 	]*(?:\r\n|[\r\n]|$)"),this._handleSplit=this._whenMultipart,this._subparser=new tI(this._emitter,this._options),"digest"==t.subtype&&(this._subparser._defaultContentType="message/rfc822"),this._state=2,this._convertData=function(e,t){let r=e.length;t&&("\n"==e.charAt(r-1)&&r--,r>=0&&"\r"==e.charAt(r-1)&&r--);let n=tT(e.substring(0,r));return[n[0],n[1]+e.substring(r)]}}else if("message/rfc822"==t.type||"message/global"==t.type||"message/news"==t.type){this._state=4,this._subPartNum=e+"$",this._subparser=new tI(this._emitter,this._options);let t=this._extractHeader("content-transfer-encoding","");t in tR&&(this._convertData=tR[t])}else if(this._state=3,"decode"==this._options.bodyformat){let e=this._extractHeader("content-transfer-encoding","");e in tR&&(this._convertData=tR[e])}if("unicode"==this._options.strformat&&"text"==t.mediatype){if(this._decoder=null,""!==this._charset)try{this._decoder=new tr(this._charset)}catch(e){console.error(e)}this._decoder||(this._decoder={decode:e=>tI.prototype._coerceData(e,"binarystring",!0)})}else this._decoder=null},tI.prototype._whenMultipart=function(e,t){if(""!=e&&(e+="."),this._subPartNum){if(""!=this._savedBuffer&&""===t[1]){let e=this._savedBuffer.length-1;"\n"==this._savedBuffer[e]&&e--,e>=0&&"\r"==this._savedBuffer[e]&&e--,this._savedBuffer=this._savedBuffer.substring(0,e+1)}""!=this._savedBuffer&&this._subparser._dispatchData(this._subPartNum,this._savedBuffer,!0),this._subparser._dispatchEOF(this._subPartNum)}else this._count=1;this._savedBuffer="",void 0==t[2]?(this._subparser.resetParser(),this._state=4,this._subPartNum=e+this._count,this._count+=1):(this._splitRegex=null,this._state=2)},tI.prototype._extractHeader=function(e,t){return e=e.toLowerCase(),this._headers.has(e)?this._headers.get(e):tD.parseStructuredHeader(e,[t])};var tR={};tR["quoted-printable"]=e3,tR.base64=e8;var tM={getAttachmentName(e){if(!e||!e.headers)return"";if(e.headers["content-disposition"]){let t=tL.getParameter(e.headers["content-disposition"][0],"filename");if(t)return t}if(e.headers["content-type"]){let t=tL.getParameter(e.headers["content-type"][0],"name");if(t)return t}return""},isAttachment(e){if(!e)return!1;let t=e.contentType||"text/plain";if(0===t.search(/^multipart\//i))return!1;let r="";return Array.isArray(e.headers["content-disposition"])&&e.headers["content-disposition"].length>0&&(r=e.headers["content-disposition"][0]),0===r.search(/^attachment/i)||-1===t.search(/^text\/plain|^text\/html|^text\/enriched/i)},startMessage(){this.mimeTree={partName:"",contentType:"message/rfc822",parts:[],size:0,headers:{},rawHeaderText:"",allAttachments:[],bodyParts:{text:[],html:[]},isEncrypted:!1},this.partsPath=[this.mimeTree],this.options=this.options||{}},endMessage(){if(this.mimeMsg=null,0!=this.mimeTree.parts.length){if(this.options.getMimePart){this.mimeTree.parts[0].partName==this.options.getMimePart&&(this.mimeMsg=this.mimeTree.parts[0],this.mimeMsg.bodyAsTypedArray=e6(this.mimeMsg.body));return}this.mimeMsg=this.mimeTree}},startPart(e,t){let r=new TextEncoder,n=t.contentType&&t.contentType.type?t.contentType.type:"text/plain",i=t.rawHeaderText,a={};for(let[e,n]of t._rawHeaders){let t=Array.isArray(n)?n:[n];a[e]=t.map(e=>e4(r.encode(e)))}let s=this.partsPath[this.partsPath.length-1],o="1"+(""!==e?".":"")+e;"1"==o&&(s.rawHeaderText=i,i=i.split(/\n(?![ \t])/).filter(e=>e.toLowerCase().startsWith("content-")).join("\n").trim(),s.headers=a,a=Object.fromEntries(Object.entries(a).filter(e=>e[0].startsWith("content-")))),a["content-type"]||(a["content-type"]=["text/plain"]);let c={partName:o,rawBody:null,body:"",headers:a,rawHeaderText:i,contentType:n,size:0,parts:[],isEncrypted:!1};s.parts.push(c),this.partsPath.push(c)},endPart(e){let t=!1,r=this.partsPath[this.partsPath.length-1],n=r.body.length;if(r.size+=n,this.isAttachment(r)){r.fileName=this.getAttachmentName(r);let e=r.headers["content-disposition"]&&r.headers["content-disposition"][0],n=r.headers["content-id"]&&r.headers["content-id"][0];r.contentDisposition=e?e.split(";").shift():void 0,r.contentId=n||void 0,this.options.includeAttachments?this.mimeTree.allAttachments.push(r):t=!0}else if(r.rawBody)switch(delete r.rawBody,r.contentType||"text/plain"){case"text/html":this.mimeTree.bodyParts.html.push(r.body);break;case"text/plain":this.mimeTree.bodyParts.text.push(r.body)}t&&(delete r.body,delete r.rawBody),r.headers=Object.fromEntries(Object.entries(r.headers).filter(e=>!["content-disposition","content-transfer-encoding"].includes(e[0]))),this.partsPath.pop(),r=this.partsPath[this.partsPath.length-1],r.size+=n},deliverPartData(e,t,r){let n=this.partsPath[this.partsPath.length-1];"string"==typeof t?n.body+=t:n.body+=e4(t),null===n.rawBody?n.rawBody=r:n.rawBody=function(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!(e[r]instanceof Uint8Array))throw Error("concatArrays: Data must be in the form of a Uint8Array");t+=e[r].length}let r=new Uint8Array(t),n=0;return e.forEach(e=>{r.set(e,n),n+=e.length}),r}([n.rawBody,r])}},tO={startPart(e,t){""==e&&(this.headers=t)}},tB={body:"",startPart:tO.startPart,deliverPartData(e,t){""==e&&(this.body+=t)}};let tL={getParameter(e,t){for(let[r,n]of(t=t.toLowerCase(),e=e.replace(/[\r\n]+[ \t]+/g,""),tD.parseParameterHeader(";"+e,!0,!0).entries()))if(t==r.toLowerCase())return n;return""},parseSync(e,t,r){if("string"!=typeof e)throw Error("input is not a recognizable type!");var n=new tI(t,r);n.deliverData(e),n.deliverEOF()},makeParser:(e,t)=>new tI(e,t),extractMimeMsg(e,t={}){var r=Object.create(tM);for(let e of(r.options={includeAttachments:!0,getMimePart:""},Object.keys(t)))r.options[e]=t[e];return tL.parseSync(e,r,{pruneat:r.options.getMimePart.split(".").slice(1).join("."),bodyformat:"decode",stripcontinuations:!0,strformat:"unicode"}),r.mimeMsg},extractHeaders(e){var t=Object.create(tO);return tL.parseSync(e,t,{pruneat:"",bodyformat:"none"}),t.headers},extractHeadersAndBody(e){var t=Object.create(tB);return tL.parseSync(e,t,{pruneat:"",bodyformat:"raw"}),[t.headers,t.body]},HEADER_UNSTRUCTURED:0,HEADER_PARAMETER:2,HEADER_ADDRESS:3,HEADER_OPTION_DECODE_2231:16,HEADER_OPTION_DECODE_2047:32,HEADER_OPTION_ALLOW_RAW:64,HEADER_OPTION_ALL_I18N:112,parseHeaderField(e,t,r){switch(t&tL.HEADER_OPTION_ALLOW_RAW&&(e=tD.convert8BitHeader(e,r)),15&t){case tL.HEADER_UNSTRUCTURED:return t&tL.HEADER_OPTION_DECODE_2047&&(e=tD.decodeRFC2047Words(e)),e;case tL.HEADER_PARAMETER:return tD.parseParameterHeader(e,(t&tL.HEADER_OPTION_DECODE_2047)!=0,(t&tL.HEADER_OPTION_DECODE_2231)!=0);case tL.HEADER_ADDRESS:return tD.parseAddressingHeader(e,(t&tL.HEADER_OPTION_DECODE_2047)!=0);default:throw Error("Illegal type of header field")}}};function tN(e){let t="string"==typeof e?new TextEncoder().encode(e):e,{headers:r,allAttachments:n,bodyParts:i}=tL.extractMimeMsg(e4(t)),a=new Set(["message-id","content-id","from","sender","in-reply-to","reply-to","subject","date","content-disposition","content-type","content-transfer-encoding","priority","mime-version","content-description","precedence","errors-to"]),s={headers:r,attachments:n.map(({parts:e,partName:t,body:r,isEncrypted:n,rawBody:i,...a})=>({...a,content:i||new Uint8Array})),body:{html:i.html.length?i.html.join("<br>\n").replace(/\r?\n/g,"\n"):null,text:i.text.length?i.text.join("\n").replace(/\r?\n/g,"\n"):null}};return["subject","date","to","from","to","cc","bcc","message-id","in-reply-to","reply-to"].forEach(e=>{if(!r[e])return;let t=r[e]&&tD.parseStructuredHeader(e,r[e]);s[e]=a.has(e)&&Array.isArray(t)?t[t.length-1]:t}),s}let tF={"application/octet-stream":"bin","application/x-rar-compressed":"rar","application/x-zip-compressed":"zip","application/zip":"zip","application/x-7z-compressed":"7z","application/x-arj":"arj","application/x-debian-package":"deb","application/x-redhat-package-manager":"rpm","application/x-rpm":"rpm","application/vnd.rar":"rar","application/gzip":"gz","application/x-gzip":"gz","application/x-compress":"z","application/vnd.apple.installer+xml":"pkg","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp","application/xliff+xml":"xlf","application/xml":"xml","text/html":"html","application/xhtml+xml":"xhtml","application/pgp-keys":"asc","application/rtf":"rtf","application/x-tex":"tex","application/vnd.oasis.opendocument.text":"odt","application/vnd.wordperfect":"wpd","application/vnd.ms-fontobject":"eot","application/font-sfnt":"ttf","application/vnd.oasis.opendocument.formula-template":"odft","application/x-bzip":"bz","application/x-bzip2":"bzip2","application/epub+zip":"epub","application/javascript":"js","application/json":"json","application/pdf":"pdf","application/pgp-encrypted":"pgp","application/pgp-signature":"asc","application/pkcs7-mime":"p7m","application/pkcs7-signature":"p7s","audio/aac":"aac","audio/midi":"midi","audio/x-midi":"midi","audio/ogg":"oga","audio/mp3":"mp3","audio/mp4":"m4a","audio/mpeg":"mpga","font/otf":"otf","font/ttf":"ttf","font/woff":"woff","font/woff2":"woff2","image/avif":"avif","image/bmp":"bmp","image/jpeg":"jpeg","image/png":"png","image/svg+xml":"svg","image/tiff":"tif","message/rfc822":"eml","text/calendar":"ics","text/css":"css","text/csv":"csv","text/markdown":"md","text/plain":"txt","text/richtext":"rtx","text/vcard":"vcard","text/xml":"xml","text/yaml":"yaml","video/x-msvideo":"avi","video/mp4":"mp4","video/mpeg":"mpeg","video/quicktime":"mov","video/webm":"webm","video/ogg":"ogv"},tj=(e,t)=>{let r=!e&&t?tF[t]:"",n=e||(r?`attachment.${r}`:"attachment");return n.split(/[/\\]+/).pop()?.replace(/^\.+/,"")||"attachment"},tz=async({verificationKeys:e=[],date:t=W()},r)=>{let n;let{headers:i}=await tN(r.split(/\r?\n\s*\r?\n/g)[0]+"\n\n"),[a]=i["content-type"]||[""],[s]=a.split(";");if("multipart/signed"!==s.toLowerCase())return{subdata:r,verified:0,signatures:[]};let[,o]=/boundary\s*=\s*([^;]*)\s*(;|$)/gi.exec(a)||[];if(!o)return{subdata:r,verified:0,signatures:[]};let c='"'===o[0]&&JSON.parse(o)||o,[u]=r.split(`
--${c}--
`),l=u.split(`
--${c}
`);if(l.length<3)return{subdata:r,verified:0,signatures:[]};let{attachments:[h]=[]}=await tN(l[2].trim()),{contentType:f="",content:p=new Uint8Array}=h||{};if("application/pgp-signature"!==f.toLowerCase())return{subdata:r,verified:0,signatures:[]};let y=function(e){let t=new TextDecoder;if(e instanceof Uint8Array)return t.decode(e);let r=e.getReader();return new ReadableStream({async pull(e){let{value:n,done:i}=await r.read();i?(e.enqueue(t.decode(new Uint8Array,{stream:!1})),e.close()):e.enqueue(t.decode(n,{stream:!0}))},cancel(){r.cancel()}})}(p);try{n=await (0,k.Bc)({armoredSignature:y})}catch{return console.error("Failed to read signature over MIME message"),{subdata:r,verified:0,signatures:[]}}let d=l[1],{data:g,verified:m,signatures:v}=await eW({textData:eE(d).replaceAll("\n","\r\n"),verificationKeys:e,date:t,signature:n});return{subdata:g,verified:m,signatures:v}},tH=async({headerFilename:e="Encrypted Headers.txt",sender:t=""},r="",n=V.NOT_SIGNED,i=[])=>{let a;let{attachments:s=[],body:{text:o="",html:c=""},subject:u=""}=await tN(r),l=[],h={};for(let r of s){let n=tj(r.fileName,r.contentType);h[n]?n=`${n} (${h[n]++})`:h[n]=1;let i={...r,fileName:n,contentId:r.contentId||`<${U(crypto.getRandomValues(new Uint8Array(16)))}@pmcrypto>`};if(l.push(i),r.fileName||"text/rfc822-headers"!==r.contentType||r.content.length>1024)continue;i.fileName=`${e}.txt`,i.contentDisposition="attachment";let{from:s,subject:o}=await tN(r.content);o&&s&&s.email.toLowerCase()===t.toLowerCase()&&(a=a||o)}let f=a||u;if(null!==c)return{body:c,attachments:l,verified:n,encryptedSubject:f,mimeType:"text/html",signatures:i};if(null!==o)return{body:o,attachments:l,verified:n,encryptedSubject:f,mimeType:"text/plain",signatures:i};if(l.length)return{body:"",attachments:l,verified:n,encryptedSubject:f,mimeType:void 0,signatures:i};throw Error("No body or attachments found in the mime message")};async function tq({data:e,...t}){let{subdata:r,verified:n,signatures:i}=await tz(t,e);return tH(t,r,n,i)}let tW={id:void 0,cancelReloadingTimeout:e=>e>G.MINIMUM.memoryExponent&&clearTimeout(tW.id),setupReloadingTimeout:e=>{let t=e>G.MINIMUM.memoryExponent&&e<=k.GN.ARGON2_WASM_MEMORY_THRESHOLD_RELOAD;tW.id=t?setTimeout(()=>k.GN.reloadWasmModule(),1e4):void 0}};async function tV({password:e,salt:t,params:r=G.RECOMMENDED}){tW.cancelReloadingTimeout(r.memoryExponent);let n=new k.GN({...k.$W,s2kArgon2Params:r});n.salt=t;let i=await n.produceKey(e,r.tagLength);return tW.setupReloadingTimeout(r.memoryExponent),i}let tG=e=>t=>void 0!==t?e(t):void 0,t$=tG(e=>unescape(encodeURIComponent(e))),tY=tG(e=>decodeURIComponent(escape(e))),tQ=tG(e=>btoa(e).trim()),tZ=tG(e=>atob(e.trim()));tG(e=>tQ(t$(e))),tG(e=>tY(tZ(e)));let tX=e=>{let t="0123456789abcdef",r="";return e.forEach(e=>{r+=t[e>>4]+t[15&e]}),r},tJ=async({armoredSignature:e,binarySignature:t})=>{if(e)return(0,k.Bc)({armoredSignature:e});if(t)return(0,k.Bc)({binarySignature:t});throw Error("Must provide `armoredSignature` or `binarySignature`")},t1=async({armoredMessage:e,binaryMessage:t})=>{if(e)return(0,k._8)({armoredMessage:e});if(t)return(0,k._8)({binaryMessage:t});throw Error("Must provide `armoredMessage` or `binaryMessage`")},t0=async({armoredKey:e,binaryKey:t})=>{if(e)return(0,k.YZ)({armoredKey:e});if(t)return(0,k.YZ)({binaryKey:t});throw Error("Must provide `armoredKey` or `binaryKey`")},t2=e=>Array.isArray(e)?e:[e],t5=async(e,t)=>{let r,n;let i=e.isPrivate()?e.toPublic():e,a=i.keyPacket.version,s=i.getFingerprint(),o=i.getKeyID().toHex(),c=i.getKeyIDs().map(e=>e.toHex()),u=i.getAlgorithmInfo(),l=i.getCreationTime(),h=await i.getExpirationTime(),f=i.getUserIDs(),p=await F(i.write()).then(tX);if(i.users.some(e=>e.otherCertifications.length>0)){let e=i.clone();e.users.forEach(e=>{e.otherCertifications=[]}),r=await F(e.write()).then(tX)}else r=p;try{!function(e){let t=new Set([k.vP.curve.ed25519Legacy,k.vP.curve.curve25519Legacy,k.vP.curve.nistP256,k.vP.curve.nistP384,k.vP.curve.nistP521]),r=new Set([k.vP.publicKey.rsaEncryptSign,k.vP.publicKey.rsaSign,k.vP.publicKey.rsaEncrypt,k.vP.publicKey.ecdh,k.vP.publicKey.ecdsa,k.vP.publicKey.eddsaLegacy,k.vP.publicKey.ed25519,k.vP.publicKey.x25519,k.vP.publicKey.ed448,k.vP.publicKey.x448,k.vP.publicKey.pqc_mlkem_x25519,k.vP.publicKey.pqc_mldsa_ed25519]);e.getKeys().forEach(({keyPacket:e})=>{let n=e.getAlgorithmInfo(),i=k.vP.write(k.vP.publicKey,n.algorithm);if(!r.has(i))throw Error(`${n.algorithm} keys are considered unsafe`);if(n.curve&&!t.has(n.curve))throw Error(`Keys using curve ${n.curve} are considered unsafe`);if(n.bits&&n.bits<2047)throw Error("Keys shorter than 2047 bits are considered unsafe")})}(i),n=!1}catch{n=!0}return{_idx:t,_keyContentHash:[p,r],isPrivate:()=>!1,isPrivateKeyV4:()=>!1,isPrivateKeyV6:()=>!1,getVersion:()=>a,getFingerprint:()=>s,getKeyID:()=>o,getKeyIDs:()=>c,getAlgorithmInfo:()=>u,getCreationTime:()=>l,getExpirationTime:()=>h,getUserIDs:()=>f,isWeak:()=>n,equals:(e,t=!1)=>t?e._keyContentHash[1]===r:e._keyContentHash[0]===p,subkeys:i.getSubkeys().map(e=>{let t=e.getAlgorithmInfo(),r=e.getKeyID().toHex();return{getAlgorithmInfo:()=>t,getKeyID:()=>r}})}},t3=async(e,t)=>{let r=await t5(e.toPublic(),t);return{...r,isPrivate:()=>!0,isPrivateKeyV4:()=>4===r.getVersion(),isPrivateKeyV6:()=>6===r.getVersion(),_dummyType:"private"}};class t8{store=new Map;nextIdx=crypto.getRandomValues(new Uint32Array(1))[0];add(e,t){let r=void 0!==t?t:this.nextIdx;if(this.store.has(r))throw Error(`Idx ${r} already in use`);return this.store.set(r,e),this.nextIdx++,r}get(e){let t=this.store.get(e);if(!t)throw Error("Key not found");return t}clearAll(){this.store.forEach(e=>{e.isPrivate()&&e.clearPrivateParams()}),this.store.clear()}clear(e){let t=this.get(e);t.isPrivate()&&t.clearPrivateParams(),this.store.delete(e)}}class t6{static test=1;keyStore=new t8;async clearKeyStore(){this.keyStore.clearAll()}async clearKey({key:e}){this.keyStore.clear(e._idx)}async generateKey(e){let{privateKey:t}=await e_({...e,format:"object"});if(!t.isDecrypted())throw Error('Unexpected "passphrase" option on key generation. Use "exportPrivateKey" after key generation to obtain a transferable encrypted key.');let r=this.keyStore.add(t);return t3(t,r)}async reformatKey({privateKey:e,...t}){let r=this.keyStore.get(e._idx).clone(!0),{privateKey:n}=await eT({...t,privateKey:r,format:"object"});if(!n.isDecrypted())throw Error('Unexpected "passphrase" option on key reformat. Use "exportPrivateKey" after key reformatting to obtain a transferable encrypted key.');let i=this.keyStore.add(n);return t3(n,i)}async importPrivateKey({armoredKey:e,binaryKey:t,passphrase:r,checkCompatibility:n},i){let a;if(!e&&!t)throw Error("Must provide `armoredKey` or `binaryKey`");let s=null===r,o=t?await (0,k.$k)({binaryKey:t}):await (0,k.$k)({armoredKey:e});if(n&&q(o),s){if(!o.isDecrypted())throw Error("Provide passphrase to import an encrypted private key");a=o,await a.validate()}else{if(o.getKeys().some(e=>e.keyPacket.s2k&&"argon2"===e.keyPacket.s2k.type))throw Error("Keys encrypted using Argon2 are not supported yet");a=await (0,k.Vw)({privateKey:o,passphrase:r})}let c=this.keyStore.add(a,i);return t3(a,c)}async importPublicKey({armoredKey:e,binaryKey:t,checkCompatibility:r},n){let i=await t0({binaryKey:t,armoredKey:e});r&&q(i);let a=this.keyStore.add(i,n);return t5(i,a)}async exportPublicKey({format:e="armored",key:t}){let r=this.keyStore.get(t._idx),n=r.isPrivate()?r.toPublic():r;return"binary"===e?n.write():n.armor()}async exportPrivateKey({format:e="armored",...t}){let{privateKey:r,passphrase:n}=t;if(!r.isPrivate())throw Error("Private key expected");let i=this.keyStore.get(r._idx),a=null===n?i:await eL({privateKey:i,passphrase:n});return"binary"===e?a.write():a.armor()}}class t4 extends t6{static init(){!function(){if(arguments.length)throw Error("Loading OpenPGP separately is no longer required");eN()}()}async encryptMessage({encryptionKeys:e=[],signingKeys:t=[],armoredSignature:r,binarySignature:n,compress:i=!1,config:a={},...s}){let o=t2(t).map(e=>this.keyStore.get(e._idx)),c=t2(e).map(e=>this.keyStore.get(e._idx)),u=n||r?await tJ({armoredSignature:r,binarySignature:n}):void 0;if(a.preferredCompressionAlgorithm)throw Error("Passing `config.preferredCompressionAlgorithm` is not supported. Use `compress` option instead.");return await eU({...s,encryptionKeys:c,signingKeys:o,signature:u,config:{...a,preferredCompressionAlgorithm:i?k.vP.compression.zlib:k.vP.compression.uncompressed}})}async signMessage({signingKeys:e=[],...t}){let r=t2(e).map(e=>this.keyStore.get(e._idx));return await eF({...t,signingKeys:r})}async verifyMessage({armoredSignature:e,binarySignature:t,verificationKeys:r=[],...n}){let i=t2(r).map(e=>this.keyStore.get(e._idx)),a=await tJ({armoredSignature:e,binarySignature:t}),{signatures:s,...o}=await eW({signature:a,verificationKeys:i,...n});return{...o,signatures:s.map(e=>e.write())}}async verifyCleartextMessage({armoredCleartextMessage:e,verificationKeys:t=[],...r}){let n=t2(t).map(e=>this.keyStore.get(e._idx)),i=await (0,k.cL)({cleartextMessage:e}),{signatures:a,...s}=await eV({cleartextMessage:i,verificationKeys:n,...r});return{...s,signatures:a.map(e=>e.write())}}async decryptMessage({decryptionKeys:e=[],verificationKeys:t=[],armoredMessage:r,binaryMessage:n,armoredSignature:i,binarySignature:a,armoredEncryptedSignature:s,binaryEncryptedSignature:o,...c}){let u=t2(e).map(e=>this.keyStore.get(e._idx)),l=t2(t).map(e=>this.keyStore.get(e._idx)),h=await t1({binaryMessage:n,armoredMessage:r}),f=a||i?await tJ({binarySignature:a,armoredSignature:i}):void 0,p=o||s?await t1({binaryMessage:o,armoredMessage:s}):void 0,{signatures:y,...d}=await eG({...c,message:h,signature:f,encryptedSignature:p,decryptionKeys:u,verificationKeys:l});return{...d,signatures:y.map(e=>e.write())}}async generateE2EEForwardingMaterial({forwarderKey:e,userIDsForForwardeeKey:t,passphrase:r,date:n}){let i=this.keyStore.get(e._idx),{proxyInstances:a,forwardeeKey:s}=await e2(i,t,n);return{forwardeeKey:(r?await eL({privateKey:s,passphrase:r}):s).armor(),proxyInstances:a}}async doesKeySupportE2EEForwarding({forwarderKey:e,date:t}){let r=this.keyStore.get(e._idx);return!!r.isPrivate()&&await e1(r,t)}async isE2EEForwardingKey({key:e,date:t}){let r=this.keyStore.get(e._idx);if(!r.isPrivate())throw Error("Unexpected public key");return await e0(r,t)}async generateSessionKeyForAlgorithm(e){return await eI(e)}async generateSessionKey({recipientKeys:e=[],...t}){let r=t2(e).map(e=>this.keyStore.get(e._idx));return await function({recipientKeys:e,date:t=W(),...r}){return(0,k.JM)({encryptionKeys:e,date:t,...r})}({recipientKeys:r,...t})}async encryptSessionKey({encryptionKeys:e=[],...t}){let r=t2(e).map(e=>this.keyStore.get(e._idx));return await eB({...t,encryptionKeys:r})}async decryptSessionKey({decryptionKeys:e=[],armoredMessage:t,binaryMessage:r,...n}){let i=t2(e).map(e=>this.keyStore.get(e._idx)),a=await t1({binaryMessage:r,armoredMessage:t});return await e5({...n,message:a,decryptionKeys:i})}async processMIME({verificationKeys:e=[],...t}){let r=t2(e).map(e=>this.keyStore.get(e._idx)),{signatures:n,...i}=await tq({...t,verificationKeys:r});return{...i,signatures:n.map(e=>e.write())}}async getMessageInfo({armoredMessage:e,binaryMessage:t}){let r=await t1({binaryMessage:t,armoredMessage:e});return{signingKeyIDs:r.getSigningKeyIDs().map(e=>e.toHex()),encryptionKeyIDs:r.getEncryptionKeyIDs().map(e=>e.toHex())}}async getSignatureInfo({armoredSignature:e,binarySignature:t}){return{signingKeyIDs:(await tJ({binarySignature:t,armoredSignature:e})).getSigningKeyIDs().map(e=>e.toHex())}}async getKeyInfo({armoredKey:e,binaryKey:t}){let r=await t0({binaryKey:t,armoredKey:e}),n=r.isPrivate(),i=n?r.isDecrypted():null;return{keyIsPrivate:n,keyIsDecrypted:i,fingerprint:r.getFingerprint(),keyIDs:r.getKeyIDs().map(e=>e.toHex())}}async getArmoredSignature({binarySignature:e}){return(await tJ({binarySignature:e})).armor()}async getArmoredMessage({binaryMessage:e}){return await eA(e)}async getArmoredKeys({binaryKeys:e}){return(await (0,k.x4)({binaryKeys:e})).map(e=>e.armor())}async isRevokedKey({key:e,date:t}){let r=this.keyStore.get(e._idx);return await eR(r,t)}async isExpiredKey({key:e,date:t}){let r=this.keyStore.get(e._idx);return await eC(r,t)}async canKeyEncrypt({key:e,date:t}){let r=this.keyStore.get(e._idx);return await eM(r,t)}async getSHA256Fingerprints({key:e}){let t=this.keyStore.get(e._idx);return await eO(t)}async computeHash({algorithm:e,data:t}){switch(e){case"SHA512":return await j(t);case"SHA256":return await F(t);case"unsafeSHA1":return await H(t);case"unsafeMD5":return await z(t);default:throw Error(`Unsupported algorithm: ${e}`)}}async computeHashStream({algorithm:e,dataStream:t}){if("unsafeSHA1"===e)return await H(t);throw Error(`Unsupported algorithm: ${e}`)}async computeArgon2({password:e,salt:t,params:r=G.RECOMMENDED}){return await tV({password:e,salt:t,params:r})}async replaceUserIDs({sourceKey:e,targetKey:t}){let r=this.keyStore.get(e._idx),n=this.keyStore.get(t._idx);if(n.getFingerprint()!==r.getFingerprint())throw Error("Cannot replace UserIDs of a different key");n.users=r.users.map(e=>{let t=e.clone();return t.mainKey=n,t})}async cloneKeyAndChangeUserIDs({privateKey:e,userIDs:t}){let r=this.keyStore.get(e._idx).clone(!0),n=r.subkeys,{publicKey:i}=await eT({privateKey:r,userIDs:t,format:"object"});r.subkeys=n,r.users=i.users.map(e=>{let t=e.clone();return t.mainKey=r,t});let a=this.keyStore.add(r);return t3(r,a)}}var t9=function(e){return e[e.READ=0]="READ",e[e.CANCEL=1]="CANCEL",e}(t9||{});let t7={canHandle:e=>"object"==typeof e&&e.getReader,serialize:e=>{let{port1:t,port2:r}=new MessageChannel,n=null;return t.onmessage=async({data:{type:r}})=>{switch(r){case t9.READ:null===n&&(n=e.getReader());let i=await n.read();t.postMessage(i,[]);break;case t9.CANCEL:n?n.cancel():e.cancel();break;default:throw Error("Unknown stream transfer control type")}},r},deserialize:e=>{let t=()=>new Promise(t=>{e.onmessage=({data:e})=>{t(e)}}),r={read:()=>(e.postMessage({type:t9.READ}),t()),cancel:()=>{e.postMessage({type:t9.CANCEL})}};return new ReadableStream({async pull(e){let{done:t,value:n}=await r.read();if(t){e.close();return}e.enqueue(n)},cancel(){r.cancel()}})}},re={canHandle:e=>"object"==typeof e&&void 0!==e._idx&&void 0!==e.isPrivate,serialize:e=>({...e,isPrivate:e.isPrivate(),isPrivateKeyV4:e.isPrivateKeyV4(),isPrivateKeyV6:e.isPrivateKeyV6(),getVersion:e.getVersion(),getFingerprint:e.getFingerprint(),getKeyID:e.getKeyID(),getKeyIDs:e.getKeyIDs(),getAlgorithmInfo:e.getAlgorithmInfo(),getCreationTime:e.getCreationTime(),getExpirationTime:e.getExpirationTime(),getUserIDs:e.getUserIDs(),isWeak:e.isWeak(),equals:!1,subkeys:e.subkeys.map(e=>({getAlgorithmInfo:e.getAlgorithmInfo(),getKeyID:e.getKeyID()}))}),deserialize:e=>({...e,isPrivate:()=>e.isPrivate,isPrivateKeyV4:()=>e.isPrivateKeyV4,isPrivateKeyV6:()=>e.isPrivateKeyV6,getVersion:()=>e.getVersion,getFingerprint:()=>e.getFingerprint,getKeyID:()=>e.getKeyID,getKeyIDs:()=>e.getKeyIDs,getAlgorithmInfo:()=>e.getAlgorithmInfo,getCreationTime:()=>e.getCreationTime,getExpirationTime:()=>e.getExpirationTime,getUserIDs:()=>e.getUserIDs,isWeak:()=>e.isWeak,equals:(t,r)=>r?t._keyContentHash[1]===e._keyContentHash[1]:t._keyContentHash[0]===e._keyContentHash[0],subkeys:e.subkeys.map(e=>({getAlgorithmInfo:()=>e.getAlgorithmInfo,getKeyID:()=>e.getKeyID}))})},rt={_optionNames:["verificationKeys","signingKeys","encryptionKeys","decryptionKeys","privateKey","key","recipientKeys","targetKey","sourceKey","forwarderKey"],canHandle:e=>"object"==typeof e&&rt._optionNames.some(t=>e[t]),serialize:e=>{let t={...e};return rt._optionNames.forEach(r=>{e[r]&&(t[r]=Array.isArray(e[r])?e[r].map(re.serialize):re.serialize(e[r]))}),t},deserialize:e=>{let t={...e};return rt._optionNames.forEach(r=>{e[r]&&(t[r]=Array.isArray(t[r])?e[r].map(re.deserialize):re.deserialize(e[r]))}),t}},rr={canHandle:e=>"object"==typeof e&&e.algorithm&&t7.canHandle(e.dataStream),deserialize:({dataStream:e,...t})=>({...t,dataStream:t7.deserialize(e)})},rn={serialize:({message:e,name:t,stack:r})=>({isError:!0,value:{message:e,name:t,stack:r}}),deserialize:e=>Object.assign(Error(e.value.message),e.value)},ri={_binaryFieldNames:["message","signature","signatures","encryptedSignature","sessionKey"],_errorFieldNames:["errors","verificationErrors"],canHandle:e=>"object"==typeof e&&ri._binaryFieldNames.some(t=>e[t]),serialize:e=>{let t={...e};return ri._errorFieldNames.forEach(r=>{e[r]&&(t[r]=e[r].map(rn.serialize))}),t},getTransferables:e=>ri._binaryFieldNames.filter(t=>e[t]instanceof Uint8Array).map(t=>e[t].buffer).concat(e.signatures?e.signatures.map(e=>e.buffer):[]),deserialize:e=>{let t={...e};return ri._errorFieldNames.forEach(r=>{e[r]&&(t[r]=e[r].map(rn.deserialize))}),t}},ra=[{name:"Uint8Array",workerHandler:{canHandle:e=>e instanceof Uint8Array,serialize:e=>[e,[e.buffer]],deserialize:e=>e},mainThreadHandler:{canHandle:e=>e instanceof Uint8Array,serialize:e=>[e,[]],deserialize:e=>e}},{name:"ComputeHashStreamOptions",workerHandler:{canHandle:rr.canHandle,serialize:()=>[void 0,[]],deserialize:rr.deserialize},mainThreadHandler:{canHandle:e=>"object"==typeof e&&t7.canHandle(e.dataStream),serialize:({dataStream:e,...t})=>{let r=t7.serialize(e);return[{dataStream:r,...t},[r]]},deserialize:()=>{}}},{name:"encrypt/decrypt/sign/verifyResult",workerHandler:{canHandle:ri.canHandle,serialize:e=>[ri.serialize(e),ri.getTransferables(e)],deserialize:e=>e},mainThreadHandler:{canHandle:ri.canHandle,serialize:e=>[e,[]],deserialize:ri.deserialize}}],rs=[{name:"KeyReference",handler:{canHandle:re.canHandle,serialize:e=>[re.serialize(e),[]],deserialize:re.deserialize}},{name:"KeyOptions",handler:{canHandle:rt.canHandle,serialize:e=>[rt.serialize(e),[]],deserialize:rt.deserialize}}],ro=[...rs,...ra.map(({name:e,workerHandler:t})=>({name:e,handler:t}))];[...rs,...ra.map(({name:e,mainThreadHandler:t})=>({name:e,handler:t}))],ro.forEach(({name:e,handler:t})=>u.set(e,t)),t4.init(),l(t4)})();

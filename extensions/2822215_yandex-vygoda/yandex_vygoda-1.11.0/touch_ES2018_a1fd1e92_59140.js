"use strict";(self.webpackChunkv4fire_1=self.webpackChunkv4fire_1||[]).push([[59140,70105],{59140:(e,t,o)=>{o.r(t),o.d(t,{$$:()=>l,ComponentInterface:()=>c.ComponentInterface,ComponentResetType:()=>c.ComponentResetType,ElementModEvent:()=>c.ElementModEvent,ExtraProvider:()=>c.ExtraProvider,ExtraProviders:()=>c.ExtraProviders,GlobalEnvironment:()=>c.GlobalEnvironment,HydrationStore:()=>c.HydrationStore,ModEvent:()=>c.ModEvent,ModEventName:()=>c.ModEventName,ModEventReason:()=>c.ModEventReason,ModEventType:()=>c.ModEventType,ModelMethod:()=>c.ModelMethod,Module:()=>c.Module,PARENT:()=>c.PARENT,ProviderOptions:()=>c.ProviderOptions,RequestBody:()=>c.RequestBody,RequestError:()=>c.RequestError,RequestQuery:()=>c.RequestQuery,RequestResponseObject:()=>c.RequestResponseObject,Response:()=>c.Response,SetElementModEvent:()=>c.SetElementModEvent,SetModEvent:()=>c.SetModEvent,Socket:()=>c.Socket,State:()=>c.State,add:()=>c.add,app:()=>c.app,attrRgxp:()=>c.attrRgxp,base:()=>c.base,bindRemoteWatchers:()=>c.bindRemoteWatchers,bindingRgxp:()=>c.bindingRgxp,callMethodFromComponent:()=>c.callMethodFromComponent,clientState:()=>c.clientState,component:()=>c.component,computed:()=>c.computed,createRequest:()=>c.createRequest,customWatcherRgxp:()=>c.customWatcherRgxp,default:()=>h,deleteData:()=>c.deleteData,destroyApp:()=>c.destroyApp,dsComponentsMods:()=>c.dsComponentsMods,extractWebappShortName:()=>c.extractWebappShortName,field:()=>c.field,get:()=>c.get,getComponentMods:()=>c.getComponentMods,getComponentName:()=>c.getComponentName,getDefaultRequestParams:()=>c.getDefaultRequestParams,getInfoFromConstructor:()=>c.getInfoFromConstructor,getPropertyInfo:()=>c.getPropertyInfo,globalEmitter:()=>c.globalEmitter,hasSeparator:()=>c.hasSeparator,hook:()=>c.hook,hydrationStore:()=>c.hydrationStore,init:()=>c.init,initEmitter:()=>c.initEmitter,isAbstractComponent:()=>c.isAbstractComponent,isComponent:()=>c.isComponent,isSmartComponent:()=>c.isSmartComponent,normalizeClass:()=>c.normalizeClass,normalizeStyle:()=>c.normalizeStyle,paramsFactory:()=>c.paramsFactory,peek:()=>c.peek,post:()=>c.post,prop:()=>c.prop,propRgxp:()=>c.propRgxp,remoteState:()=>c.remoteState,resetComponents:()=>c.resetComponents,rootComponents:()=>c.rootComponents,runHook:()=>c.runHook,statuses:()=>c.statuses,storeRgxp:()=>c.storeRgxp,system:()=>c.system,update:()=>c.update,url:()=>c.url,wait:()=>c.wait,watch:()=>c.watch});var r=o(70105),n=o(9509),a=o(29406),s=o(52279),i=o(56719),c=o(83399),d=function(e,t,o,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(s=(a<3?n(s):a>3?n(t,o,s):n(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};o(70105),o(89539),TPLS["b-progress-icon"]||requestAnimationFrame((async()=>{if(!__webpack_component_styles_are_loaded__("b-progress-icon"))try{await Promise.all([o.e(54736),o.e(84081)]).then(o.bind(o,84081))}catch(e){stderr(e)}}));try{o(94274)}catch(g){stderr(g)}try{TPLS["b-progress-icon"]=o(68239)["b-progress-icon"]}catch(g){stderr(g)}TPLS["b-input"]||requestAnimationFrame((async()=>{if(!__webpack_component_styles_are_loaded__("b-input"))try{await Promise.all([o.e(54736),o.e(23604)]).then(o.bind(o,23604))}catch(g){stderr(g)}}));try{o(66044)}catch(g){stderr(g)}try{TPLS["b-input"]=o(4442)["b-input"]}catch(g){stderr(g)}i.ZP.addToPrototype({object:i.Ry});const l=(0,n.Z)();let p=class iLocalityChoice extends c.default{constructor(){super(...arguments),this.dataProviderProp="Geo"}get onSearchInputChange(){return this._onSearchInputChange.debounce(200)}initModEvents(){super.initModEvents(),s.Z.initModEvents(this)}getLocalityName(e){return null==e.localityName||""===e.localityName?e.name:e.localityName}onLocalityClick(e){this.currentLocalityGeoId=e.geoId,this.globalEmitter.emit("localityChangeStart"),this.r.native.call("environment.changeLocality",e).finally((()=>this.globalEmitter.emit("localityChangeEnd"))),this.$refs.input.value="",this.close().catch(stderr)}_onSearchInputChange(e,t){const o=t.trim();1!==o.length&&(this.query=o)}};p.mods={opened:[...s.Z.mods.opened,["false"]]},d([(0,c.system)((e=>e.sync.object("get",["type",["q","query"]])))],p.prototype,"requestParams",void 0),d([(0,c.system)()],p.prototype,"query",void 0),d([(0,c.system)((e=>e.sync.link("query",(e=>Object.isTruly(e)?"search":"localities/popular"))))],p.prototype,"type",void 0),d([(0,c.field)((e=>{var t;return null!==(t=e.remoteState.env.selectedCityGeoId)&&void 0!==t?t:r.defaultLocality.geoId}))],p.prototype,"currentLocalityGeoId",void 0),d([(0,c.computed)({cache:!0})],p.prototype,"onSearchInputChange",null),p=d([(0,c.component)(),(0,a.s)(s.Z)],p);const u=p;var m=function(e,t,o,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(s=(a<3?n(s):a>3?n(t,o,s):n(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};TPLS["b-header"]||requestAnimationFrame((async()=>{if(!__webpack_component_styles_are_loaded__("b-header"))try{await Promise.all([o.e(54736),o.e(21007)]).then(o.bind(o,21007))}catch(g){stderr(g)}}));try{o(21449)}catch(g){stderr(g)}try{TPLS["b-header"]=o(57320)["b-header"]}catch(g){stderr(g)}let y=class bLocalityChoice extends u{};y=m([(0,c.component)()],y);const h=y},76684:(e,t,o)=>{o.d(t,{Gy:()=>n});o(50594);const r=Object.freeze({token:"authorization",duid:"edadeal-duid",uid:"edadeal-uid",adid:"x-adid"});Object.keys(r).reduce(((e,t)=>(e[r[t]]=`\${${t}}`,e)),{});function n(e,t){const o={};return Object.forEach(e,((e,t)=>{t in r&&(o[r[t]]=e)})),t?(Object.forEach(o,((e,o)=>{t.opts.headers.set(o,e)})),Object.reject(e,r)):Object.reject({...e,...o},r)}},70105:(e,t,o)=>{o.r(t),o.d(t,{CacheStrategy:()=>i.ER,CreateRequestOptions:()=>i.zp,MiddlewareParams:()=>i.o_,Middlewares:()=>i.lt,RequestBody:()=>i.Ah,RequestError:()=>i.Lu,RequestFunctionResponse:()=>i.LP,RequestMethod:()=>i.BW,RequestPromise:()=>i.qg,RequestQuery:()=>i.QQ,RequestResponse:()=>i.E9,RequestResponseObject:()=>i.yz,Response:()=>i.HM,Socket:()=>i.sk,attachMock:()=>i.i2,attachStatus:()=>i.sc,connectCache:()=>i.Vb,default:()=>u,defaultLocality:()=>c,emitter:()=>i.uY,envHeadersGroups:()=>l,globalOpts:()=>i.Rt,instanceCache:()=>i.eW,methodProperties:()=>i.K5,namespace:()=>i.uD,provider:()=>i.Ap,providers:()=>i.a,queryMethods:()=>i.XH,requestCache:()=>i.Nk,urlProperties:()=>i.J6,wait:()=>i.Dc});var r=o(50594),n=o(76684),a=o(69845);function s(e){const{addressComponents:t}=e;if(!t)return;let o=[];const r={STREET:!1,HOUSE:!1};if(t.forEach((e=>{e.types.some((t=>t in r&&!1===r[t]&&(o.push(e.name),r[t]=!0)))})),o.length<2){const e=t[t.length-1];o=[e.name]}return 0===o.length?e.address:o.join(", ")}var i=o(63182);const c={id:17239123,uuid:"55aa3021-6311-11e6-849f-52540010b608",slug:"moskva",geoId:213,name:"город Москва",localityName:"Москва",fullName:"Россия, Москва",inflections:["Москва","Москвы","Москве","Москву","Москвой","Москве","Москве"],kind:"locality",isOwner:!0,lvl:4,yandexPathArray:[225,3,1,213],pathArray:[17073865,17073877,17073958,17239123],tzname:"Europe/Moscow",utcOffset:10800,center:{lat:55.753215,lng:37.622504}};var d=function(e,t,o,r){var n,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(s=(a<3?n(s):a>3?n(t,o,s):n(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s};const l=i.v0.filter((e=>"locality"!==e&&"coords"!==e));let p=class Geo extends i.ZP{constructor(){super(...arguments),this.envHeadersGroups=l,this.baseURL="/:type"}};p.request=i.ZP.request({api:{url:()=>r.isYandexDomain?(0,a.XU)({stageUrl:"https://susanin.edastage.yandex.ru/api/v1",prodUrl:"https://susanin.edadeal.yandex.ru/api/v1",name:"susanin"}):r.isYaDomain?(0,a.XU)({stageUrl:"https://susanin.edastage.ya.ru/api/v1",prodUrl:"https://susanin.edadeal.ya.ru/api/v1",name:"susanin"}):(0,a.XU)({stageUrl:"https://susanin.edastage.ru/api/v1",prodUrl:"https://susanin.edadeal.ru/api/v1",name:"susanin"})},responseType:"json",cacheStrategy:"queue",timeout:3..second()}),p.middlewares={...i.ZP.middlewares,attachQuery(e){const{query:t}=e.opts;Object.isDictionary(t)}},p.encoders={get:[function(e){return null!=(null==e?void 0:e.lon)&&null==e.lng&&(e.lng=e.lon,delete e.lon),e},n.Gy]},p.decoders={get:[function(e){if(!e)return null;const t=e=>({...e,shortAddress:s(e)});return Object.isArray(e)?e.map(t):t(e)}]},p=d([i.Ap],p);const u=p}}]);
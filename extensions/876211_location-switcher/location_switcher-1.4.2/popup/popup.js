"use strict";!function(w,d,b){const isMacOS=!!w.navigator.platform.toLowerCase().startsWith("mac");function handleError(error){alert(error)}b.runtime.sendMessage({action:"getTabLocations"}).then(function(response){d.body.innerHTML="",d.body.className=response.dark?"dark":"";let url=response.url,source=response.source,desitinations=response.destinations;for(var ul=d.createElement("ul"),i=0,loop=desitinations.length;i<loop;i++){var li=d.createElement("li"),href=d.createElement("a");href.setAttribute("href",url.replace(source,desitinations[i]).replace(/(https?:\/\/)|(\/)+/g,"$1$2")),href.appendChild(d.createTextNode(desitinations[i]));var icon=response.icons[desitinations[i]];if(void 0!==icon){var img=d.createElement("img");icon.startsWith("http")?img.src=icon:img.src="../"+icon,li.appendChild(img)}li.appendChild(href),ul.appendChild(li)}d.body.appendChild(ul)},handleError),d.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),d.addEventListener("mouseup",function(e){if(e.preventDefault(),1==e.button)return!0;const ctrlKey=isMacOS?e.metaKey:e.ctrlKey,leftButton=0==e.button,newTab=!(!ctrlKey||!leftButton);return function(url,newTab){newTab?b.tabs.query({currentWindow:!0}).then(tabs=>{var id=!1;for(var index in tabs)if(tabs[index].url==url){id=tabs[index].id;break}id?b.tabs.update(id,{active:!0,url:url}).then({},handleError):b.tabs.create({active:!0,url:url}).then({},handleError)}):b.tabs.update({url:url}).then({},handleError)}(e.target.href,newTab),!1}),d.addEventListener("click",function(e){return e.preventDefault(),!1})}(window,document,browser);
(()=>{"use strict";var e={576:function(e,t){var o,r=this&&this.__extends||(o=(e,t)=>(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&((e,t)=>{e.__proto__=t})||((e,t)=>{for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}),o(e,t)),function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=()=>{};t.Option=n;var i=function(e){function o(t){var o=e.call(this)||this;return o.value=t,o}return r(o,e),o.prototype.exists=function(e){return e(this.value)},o.prototype.filter=function(e){return e(this.value)?this:t.none},o.prototype.filterNot=function(e){return e(this.value)?t.none:this},o.prototype.flatMap=function(e){return e(this.value)},o.prototype.fold=function(){var e=this;return t=>t(e.value)},o.prototype.forAll=function(e){return e(this.value)},o.prototype.forComprehension=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=this,r=0;r<e.length-1;++r)o=o.flatMap(e[r]);return o.map(e[e.length-1])},o.prototype.forEach=function(e){return e(this.value)},Object.defineProperty(o.prototype,"get",{get:function(){return this.value},enumerable:!0,configurable:!0}),o.prototype.getOrElse=function(){return this.value},o.prototype.getOrElseValue=function(){return this.value},Object.defineProperty(o.prototype,"isDefined",{get:()=>!0,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isEmpty",{get:()=>!1,enumerable:!0,configurable:!0}),o.prototype.map=function(e){return s(e(this.value))},o.prototype.match=function(e){return e.some(this.value)},Object.defineProperty(o.prototype,"nonEmpty",{get:()=>!0,enumerable:!0,configurable:!0}),o.prototype.orElse=function(){return this},o.prototype.orElseValue=function(){return this},Object.defineProperty(o.prototype,"orNull",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"orUndefined",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"toArray",{get:function(){return[this.value]},enumerable:!0,configurable:!0}),o.prototype.toString=function(){return"Some("+this.value+")"},o}(n);t.Some=i;var a=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return r(o,e),o.prototype.exists=()=>!1,o.prototype.filter=function(){return this},o.prototype.filterNot=function(){return this},o.prototype.flatMap=()=>t.none,o.prototype.fold=e=>()=>e(),o.prototype.forAll=()=>!0,o.prototype.forComprehension=()=>t.none,o.prototype.forEach=()=>{},Object.defineProperty(o.prototype,"get",{get:()=>{throw new Error("No such element.")},enumerable:!0,configurable:!0}),o.prototype.getOrElse=e=>e(),o.prototype.getOrElseValue=e=>e,Object.defineProperty(o.prototype,"isDefined",{get:()=>!1,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isEmpty",{get:()=>!0,enumerable:!0,configurable:!0}),o.prototype.map=()=>t.none,o.prototype.match=e=>e.none(),Object.defineProperty(o.prototype,"nonEmpty",{get:()=>!1,enumerable:!0,configurable:!0}),o.prototype.orElse=e=>e(),o.prototype.orElseValue=e=>e,Object.defineProperty(o.prototype,"orNull",{get:()=>null,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"orUndefined",{get:()=>{},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"toArray",{get:()=>[],enumerable:!0,configurable:!0}),o.prototype.toString=()=>"None",o}(n);function s(e){return new i(e)}t.None=a,t.some=s,t.none=new a,t.option=function(e){return null==e?t.none:s(e)}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}(()=>{function e(e){let t,o=!1;return(...r)=>o?t:(o=!0,t=e(...r))}const t=e((()=>self.location.href===browser.runtime.getManifest().background.page));var r,n,i,a,s,l,u,c;(e=>{e[e.TEXT=0]="TEXT",e[e.CLICKABLE=1]="CLICKABLE",e[e.LINK=2]="LINK",e[e.OTHER=3]="OTHER"})(r||(r={})),(e=>{e[e.UNIFORM=0]="UNIFORM",e[e.EXPONENTIAL=1]="EXPONENTIAL",e[e.INFINITE=2]="INFINITE"})(n||(n={})),(e=>{e[e.SCROLLBAR=0]="SCROLLBAR",e[e.GRAB_AND_DRAG=1]="GRAB_AND_DRAG",e[e.DYNAMIC_MULTIPLIER=2]="DYNAMIC_MULTIPLIER"})(i||(i={})),(e=>{e[e.SINGLE_CLICK=0]="SINGLE_CLICK",e[e.DOUBLE_CLICK=1]="DOUBLE_CLICK"})(a||(a={})),(e=>{e[e.NORMAL=0]="NORMAL",e[e.THIN=1]="THIN",e[e.HIDDEN=2]="HIDDEN"})(s||(s={})),(e=>{e[e.IF_PRESSED=0]="IF_PRESSED",e[e.NOT_PRESSED=1]="NOT_PRESSED"})(l||(l={})),(e=>{e[e.enabled=0]="enabled",e[e.userDisabled=1]="userDisabled",e[e.browserDisabled=2]="browserDisabled"})(u||(u={})),(e=>{e[e.smart=0]="smart",e[e.strict=1]="strict",e[e.none=2]="none",e[e.y_only=3]="y_only",e[e.x_only=4]="x_only"})(c||(c={}));const p="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,f=p?Promise.resolve():new Promise((e=>"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",(()=>e()))));o(576);function y(e,t){return(e=>{const t=Object.getOwnPropertyNames(e);for(let o=0;o<t.length;o++)delete e[t[o]]})(e),Object.assign(e,t)}const d={},h=async function(e){return browser.storage.onChanged.addListener((t=>{Object.entries(t).forEach((([t,{newValue:o}])=>{e[t]=o}))})),y(e,await browser.storage.local.get())}(d);Object.entries;const b=e=>!!e;let E=!1;const g=browser.runtime.getPlatformInfo?browser.runtime.getPlatformInfo().then((({os:e})=>E="android"===e)):Promise.resolve(!1);let m=!1;g.then((e=>m=!e));let O=!1,I=!1,L=l.IF_PRESSED;async function D(){var e,t;const o=await h,r=function(e,t=!1){try{const o=new URL(e).hostname;return t&&o.startsWith("www.")?o.substring(4):o}catch(e){return""}}(location.href,!0);var n;I=o.IS_DISABLED||(null===(e=o.DISABLED_DOMAINS)||void 0===e?void 0:e[r])||function(e={},t){const{hostname:o,pathname:r,search:n,hash:i}=new URL(t),a=(o.startsWith("www.")?o.substring(4):o)+r+n+i;return!!Object.keys(e).find((e=>e.endsWith("*")?a.startsWith(e.slice(0,-1)):a===e))}(o.DISABLED_URL,location.href)||!1,L=o.DISABLE_TYPE||l.IF_PRESSED,O=!!(null===(t=o.DISABLED_HORIZONTAL_SCROLLING_DOMAINS)||void 0===t?void 0:t[r]),await(n={type:"updateIcon",status:I?u.userDisabled:u.enabled},browser.runtime.sendMessage(n))}"moz-extension:"!==self.location.protocol&&(h.then(D),browser.storage.onChanged.addListener(D));const _="#cdcdcd",w="#f0f0f0",S=((e=>{let t=!1})((()=>{browser.storage.onChanged.addListener(N),N()})),t()),v=S?null:new class{constructor(){this._style=document.createElement("style"),this.injectToBody=e((()=>this.onDomLoaded()))}async onDomLoaded(){var e;await f,null===(e=document.head)||void 0===e||e.appendChild(this._style)}async loadRule(e){await this.injectToBody();const t=this._style.sheet;null==t||t.insertRule(e)}async unloadAll(){await this.injectToBody();const e=this._style.sheet;if(e)for(;e.cssRules.length>0;)e.deleteRule(0)}};let A=Array();async function N(){const e=await h;if(S){0,A.forEach((e=>e.unregister()));const t=R().join("\n");A=t?[await browser.contentScripts.register({css:[{code:t}],allFrames:!0,runAt:"document_start",matches:["<all_urls>"],excludeMatches:[[...Object.keys(e.DISABLED_DOMAINS||{}).flatMap((e=>[`*://www.${e}/*`,`*://${e}/*`])),...Object.keys(e.DISABLED_URL||{}).flatMap((e=>[`*://www.${e}`,`*://${e}`]))]].find((e=>e.length>0))})]:[]}else if(v){if(await v.unloadAll(),e.IS_DISABLED||I)return;const t=R();await Promise.all(t.map((e=>v.loadRule(e))))}}function R(){const{SCROLLBARS_WIDTH:e,SCROLLBARS_COLOR:t,SCROLLBARS_BACKGROUND:o,IS_DISABLED:r}=d;if(r)return[];const n=e||s.NORMAL,i=t||_,a=o||w;return[n===s.THIN&&"*:not(select) {scrollbar-width: thin}",n===s.HIDDEN&&"*:not(select) {scrollbar-width: none}",(i!==_||a!==w)&&`* {scrollbar-color: ${i} ${a}}`].filter(b)}throw new Error("forbidden!")})()})();
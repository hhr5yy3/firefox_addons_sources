(()=>{"use strict";var e,t={8892:(e,t,n)=>{var s=n(5328),o=n(7856),a=n.n(o),r=n(1264),i=n(5712);const l=n(6604).WU,c=!0,u={name:"Pop2Watch",link:"https://www.pop2watch.com"},p={defaultsOptions:{allowCrashReportsData:!0,allowInteractionData:!0,allowLinksData:c},async getOptions(){const e=await browser.storage.local.get("options"),t=e&&e.options?e.options:{};return Object.assign(this.defaultsOptions,t)},async setOptions(e){await browser.storage.local.set({options:e})},async setOptionsSubset(e){const t={...await this.getOptions(),...e};await browser.storage.local.set({options:t})}};function d(e){return e.replace(/(webpack_require__@)?(moz|chrome)-extension:\/\/[^/]+\//,"~/")}r._6({dsn:"https://00d9ac9a56864b7ca1249f6471f70ea2@o371740.ingest.sentry.io/5185201",release:l}),i.u6(null),i.rr("user",null),i.SA((e=>{e.addEventProcessor((async e=>(e.culprit&&(e.culprit=d(e.culprit)),e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames&&(e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames.map((e=>(e.filename=d(e.filename),e)))),e)))}));const g={canCapture:()=>!0,handleException(e){if(this.isErrorIgnored(e))return void console.log(e);if(!(e instanceof Error))return void this.handleMessage(JSON.stringify(e));const t=this.canCapture();p.getOptions().then((n=>{n.allowCrashReportsData&&(t?i.wx(e):console.log(e))})).catch((e=>console.log("_handleException",e)))},handleMessage(e){const t=this.canCapture();p.getOptions().then((n=>{n.allowCrashReportsData&&(t?i.yi(e):console.log(e))})).catch((e=>console.log("_handleMessage",e)))},handleTabAccessError(e,t){e.message||this.handleMessage(t+" : "+JSON.stringify(e)),e.message.includes("No current window")||e.message.includes("shutting")||e.message.includes("No tab")||e.message.includes("Invalid tab")||e.message.includes("closed")||e.message.includes("dead object")||e.message.includes("permission")||e.message.includes("extensions gallery")||console.log(t+" [tabs] : "+e.message)},isErrorIgnored:e=>!!(e.message&&(e.message.includes("Network Error")||e.message.includes("IO error: .../LOCK")||e.message.includes("An unexpected error occurred")&&""===e.stack))};n.g.browser=a();const m={install:(e,t)=>{e.config.errorHandler=(e,t,n)=>{g.handleException(e)},e.config.globalProperties.$t=a().i18n.getMessage}};var h=n(6760),b=n(8752);const f={class:"container-fluid mt-3"},w={class:"mb-4"},O={class:"mb-4"},v=(0,h.QD)("b",null,"Pop2Watch",-1),D=(0,h.QD)("br",null,null,-1),E=(0,h.QD)("img",{src:"images/icon16.png",alt:""},null,-1),A={class:"mb-4"},x=(0,h.QD)("br",null,null,-1),y={class:"jumbotron mb-0 p-4",id:"header"},k=[(0,h.QD)("img",{src:"images/icon128.png",class:"ml-4 float-left",style:{width:"80px",height:"80px"},alt:"icon"},null,-1),(0,h.QD)("h2",{id:"popTitle"},[(0,h.mY)("Pop"),(0,h.QD)("span",{style:{"font-size":"1.3em"}},"2"),(0,h.mY)("watch")],-1)];var C=n(8152);const _={},W=(0,C.c)(_,[["render",function(e,t){return(0,h.Wz)(),(0,h.An)("div",y,k)}]]),L={class:"d-inline"},I=["href"],S={data:function(){return{website:u}}},N=(0,C.c)(S,[["render",function(e,t,n,s,o,a){return(0,h.Wz)(),(0,h.An)("div",L,[(0,h.QD)("span",null,[(0,h.QD)("a",{href:e.website.link,target:"_blank"},(0,b.WA)(e.website.name),9,I)])])}]]),Q={class:"form-group"},R={class:"custom-control custom-switch"},T={class:"custom-control-label",for:"allowLinksDataOptIn"},B={data:function(){return{subset:{allowLinksData:c}}},methods:{saveOptionsSubset:async function(){const e={...this.subset};await p.setOptionsSubset(e)}},mounted:async function(){const e=await p.getOptions();this.subset={...e}}},Y=(0,C.c)(B,[["render",function(e,t,n,o,a,r){return(0,h.Wz)(),(0,h.An)("div",null,[(0,h.QD)("form",null,[(0,h.QD)("div",Q,[(0,h.QD)("div",R,[(0,h.wt)((0,h.QD)("input",{type:"checkbox",class:"custom-control-input",id:"allowLinksDataOptIn","onUpdate:modelValue":t[0]||(t[0]=t=>e.subset.allowLinksData=t),onChange:t[1]||(t[1]=(...e)=>r.saveOptionsSubset&&r.saveOptionsSubset(...e))},null,544),[[s.cV,e.subset.allowLinksData]]),(0,h.QD)("label",T,(0,b.WA)(e.$t("optionsAllowLinksDataCollection")),1)])])])])}]]),P=Object.freeze({SUBSCRIBE:"SUBSCRIBE",UNSUBSCRIBE:"UNSUBSCRIBE",SYNCHRONIZE:"SYNCHRONIZE",CLOSE_INSTALLED:"CLOSE_INSTALLED",DOWNLOAD_BLOB:"DOWNLOAD_BLOB",OPEN_TAB:"OPEN_TAB",TRACK_EVENT:"TRACK_EVENT",NOTIFY:"NOTIFY",ERROR:"ERROR"}),j={class:"container-fluid my-4 text-center clearfix",id:"footer"},z={src:"images/logo_eu_media_right.jpg",alt:"Creative Europe Media",style:{"max-height":"50px"}},$={},U={components:{PatronLogo:(0,C.c)($,[["render",function(e,t){return(0,h.Wz)(),(0,h.An)("img",z)}]])}},M={components:{OptIn:Y,Banner:W,Websites:N,ExtFooter:(0,C.c)(U,[["render",function(e,t,n,s,o,a){const r=(0,h.E1)("patron-logo");return(0,h.Wz)(),(0,h.An)("div",j,[(0,h.K2)(r)])}]])},data:function(){return{options:{allowLinksData:c}}},methods:{showOptions:function(){return!0},openOptions:async function(){browser.runtime.openOptionsPage?await browser.runtime.openOptionsPage():window.open(browser.runtime.getURL("options.html"))},closeTab:function(){browser.tabs.getCurrent().then((e=>{e&&browser.runtime.sendMessage({channel:P.CLOSE_INSTALLED,tabId:e.id}).catch((e=>console.log("_installed",e)))}))}}},K=(0,C.c)(M,[["render",function(e,t,n,s,o,a){const r=(0,h.E1)("banner"),i=(0,h.E1)("websites"),l=(0,h.E1)("opt-in"),c=(0,h.E1)("ext-footer");return(0,h.Wz)(),(0,h.An)("div",null,[(0,h.K2)(r),(0,h.QD)("div",f,[(0,h.QD)("h2",null,(0,b.WA)(e.$t("welcome"))+",",1),(0,h.QD)("p",w,(0,b.WA)(e.$t("installedIntroduction")),1),(0,h.QD)("p",O,[v,(0,h.mY)(" "+(0,b.WA)(e.$t("installedFeatures"))+" ",1),(0,h.K2)(i),(0,h.mY)(". "),D,(0,h.mY)(" "+(0,b.WA)(e.$t("installedInstructions"))+" ",1),E,(0,h.mY)(" "+(0,b.WA)(e.$t("installedIconLocation")),1)]),(0,h.QD)("p",A,[(0,h.mY)((0,b.WA)(e.$t("installedDataCollection")),1),x,(0,h.mY)(" "+(0,b.WA)(e.$t("installedChangeOptions"))+" ",1),(0,h.QD)("a",{href:"","data-id":"options_link",onClick:t[0]||(t[0]=(...e)=>a.openOptions&&a.openOptions(...e))},(0,b.WA)(e.$t("here")),1),(0,h.mY)(". ")]),a.showOptions()?((0,h.Wz)(),(0,h.Az)(l,{key:0})):(0,h.g1)("",!0),(0,h.QD)("p",null,[(0,h.QD)("button",{"data-id":"understood",class:"btn btn-primary",onClick:t[1]||(t[1]=(...e)=>a.closeTab&&a.closeTab(...e))},(0,b.WA)(e.$t("gotIt")),1)])]),(0,h.K2)(c)])}]]),F=(0,s.W0)(K);F.use(m),F.mount("#app")},6604:e=>{e.exports={WU:"1.4.1"}}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,s),a.exports}s.m=t,e=[],s.O=(t,n,o,a)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,o,a]=e[u],i=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={764:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[r,i,l]=n,c=0;if(r.some((t=>0!==e[t]))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var u=l(s)}for(t&&t(n);c<r.length;c++)a=r[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},n=self.webpackChunkbilly_goal_plugin=self.webpackChunkbilly_goal_plugin||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[724,328,760],(()=>s(8892)));o=s.O(o)})();
(()=>{var e={7856:function(e){
/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */
e.exports=function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:a}=Object;let{freeze:o,seal:i,create:s}=Object,{apply:c,construct:l}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e,t,n){return e.apply(t,n)}),o||(o=function(e){return e}),i||(i=function(e){return e}),l||(l=function(e,t){return new e(...t)});const m=k(Array.prototype.forEach),d=k(Array.prototype.pop),u=k(Array.prototype.push),p=k(String.prototype.toLowerCase),f=k(String.prototype.toString),h=k(String.prototype.match),_=k(String.prototype.replace),g=k(String.prototype.indexOf),y=k(String.prototype.trim),b=k(RegExp.prototype.test),v=T(TypeError);function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return c(e,t,r)}}function T(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(e,n)}}function A(e,r,a){var o;a=null!==(o=a)&&void 0!==o?o:p,t&&t(e,null);let i=r.length;for(;i--;){let t=r[i];if("string"==typeof t){const e=a(t);e!==t&&(n(r)||(r[i]=e),t=e)}e[t]=!0}return e}function w(t){const n=s(null);for(const[r,a]of e(t))n[r]=a;return n}function S(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return k(n.get);if("function"==typeof n.value)return k(n.value)}e=r(e)}function n(e){return console.warn("fallback value for",e),null}return n}const E=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),R=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),N=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),C=o(["#text"]),L=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),D=o(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),O=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),P=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),U=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F=i(/<%[\w\W]*|[\w\W]*%>/gm),q=i(/\${[\w\W]*}/gm),B=i(/^data-[\-\w.\u00B7-\uFFFF]/),H=i(/^aria-[\-\w]+$/),W=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),z=i(/^(?:\w+script|data):/i),$=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),j=i(/^html$/i);var G=Object.freeze({__proto__:null,MUSTACHE_EXPR:U,ERB_EXPR:F,TMPLIT_EXPR:q,DATA_ATTR:B,ARIA_ATTR:H,IS_ALLOWED_URI:W,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:$,DOCTYPE_NAME:j});const K=()=>"undefined"==typeof window?null:window,Y=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function V(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K();const n=e=>V(e);if(n.version="3.0.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;const r=t.document,a=r.currentScript;let{document:i}=t;const{DocumentFragment:s,HTMLTemplateElement:c,Node:l,Element:k,NodeFilter:T,NamedNodeMap:U=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:F,DOMParser:q,trustedTypes:B}=t,H=k.prototype,z=S(H,"cloneNode"),$=S(H,"nextSibling"),X=S(H,"childNodes"),Q=S(H,"parentNode");if("function"==typeof c){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let Z,J="";const{implementation:ee,createNodeIterator:te,createDocumentFragment:ne,getElementsByTagName:re}=i,{importNode:ae}=r;let oe={};n.isSupported="function"==typeof e&&"function"==typeof Q&&ee&&void 0!==ee.createHTMLDocument;const{MUSTACHE_EXPR:ie,ERB_EXPR:se,TMPLIT_EXPR:ce,DATA_ATTR:le,ARIA_ATTR:me,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:ue}=G;let{IS_ALLOWED_URI:pe}=G,fe=null;const he=A({},[...E,...x,...R,...I,...C]);let _e=null;const ge=A({},[...L,...D,...O,...P]);let ye=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,ve=null,ke=!0,Te=!0,Ae=!1,we=!0,Se=!1,Ee=!1,xe=!1,Re=!1,Ne=!1,Ie=!1,Me=!1,Ce=!0,Le=!1;const De="user-content-";let Oe=!0,Pe=!1,Ue={},Fe=null;const qe=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Be=null;const He=A({},["audio","video","img","source","image","track"]);let We=null;const ze=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let Ke=Ge,Ye=!1,Ve=null;const Xe=A({},[$e,je,Ge],f);let Qe;const Ze=["application/xhtml+xml","text/html"],Je="text/html";let et,tt=null;const nt=i.createElement("form"),rt=function(e){return e instanceof RegExp||e instanceof Function},at=function(e){if(!tt||tt!==e){if(e&&"object"==typeof e||(e={}),e=w(e),Qe=Qe=-1===Ze.indexOf(e.PARSER_MEDIA_TYPE)?Je:e.PARSER_MEDIA_TYPE,et="application/xhtml+xml"===Qe?f:p,fe="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS,et):he,_e="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR,et):ge,Ve="ALLOWED_NAMESPACES"in e?A({},e.ALLOWED_NAMESPACES,f):Xe,We="ADD_URI_SAFE_ATTR"in e?A(w(ze),e.ADD_URI_SAFE_ATTR,et):ze,Be="ADD_DATA_URI_TAGS"in e?A(w(He),e.ADD_DATA_URI_TAGS,et):He,Fe="FORBID_CONTENTS"in e?A({},e.FORBID_CONTENTS,et):qe,be="FORBID_TAGS"in e?A({},e.FORBID_TAGS,et):{},ve="FORBID_ATTR"in e?A({},e.FORBID_ATTR,et):{},Ue="USE_PROFILES"in e&&e.USE_PROFILES,ke=!1!==e.ALLOW_ARIA_ATTR,Te=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,we=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Se=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Ie=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Re=e.FORCE_BODY||!1,Ce=!1!==e.SANITIZE_DOM,Le=e.SANITIZE_NAMED_PROPS||!1,Oe=!1!==e.KEEP_CONTENT,Pe=e.IN_PLACE||!1,pe=e.ALLOWED_URI_REGEXP||W,Ke=e.NAMESPACE||Ge,ye=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&rt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ye.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(Te=!1),Ie&&(Ne=!0),Ue&&(fe=A({},[...C]),_e=[],!0===Ue.html&&(A(fe,E),A(_e,L)),!0===Ue.svg&&(A(fe,x),A(_e,D),A(_e,P)),!0===Ue.svgFilters&&(A(fe,R),A(_e,D),A(_e,P)),!0===Ue.mathMl&&(A(fe,I),A(_e,O),A(_e,P))),e.ADD_TAGS&&(fe===he&&(fe=w(fe)),A(fe,e.ADD_TAGS,et)),e.ADD_ATTR&&(_e===ge&&(_e=w(_e)),A(_e,e.ADD_ATTR,et)),e.ADD_URI_SAFE_ATTR&&A(We,e.ADD_URI_SAFE_ATTR,et),e.FORBID_CONTENTS&&(Fe===qe&&(Fe=w(Fe)),A(Fe,e.FORBID_CONTENTS,et)),Oe&&(fe["#text"]=!0),Ee&&A(fe,["html","head","body"]),fe.table&&(A(fe,["tbody"]),delete be.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,J=Z.createHTML("")}else void 0===Z&&(Z=Y(B,a)),null!==Z&&"string"==typeof J&&(J=Z.createHTML(""));o&&o(e),tt=e}},ot=A({},["mi","mo","mn","ms","mtext"]),it=A({},["foreignobject","desc","title","annotation-xml"]),st=A({},["title","style","font","a","script"]),ct=A({},x);A(ct,R),A(ct,N);const lt=A({},I);A(lt,M);const mt=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});const n=p(e.tagName),r=p(t.tagName);return!!Ve[e.namespaceURI]&&(e.namespaceURI===je?t.namespaceURI===Ge?"svg"===n:t.namespaceURI===$e?"svg"===n&&("annotation-xml"===r||ot[r]):Boolean(ct[n]):e.namespaceURI===$e?t.namespaceURI===Ge?"math"===n:t.namespaceURI===je?"math"===n&&it[r]:Boolean(lt[n]):e.namespaceURI===Ge?!(t.namespaceURI===je&&!it[r])&&!(t.namespaceURI===$e&&!ot[r])&&!lt[n]&&(st[n]||!ct[n]):!("application/xhtml+xml"!==Qe||!Ve[e.namespaceURI]))},dt=function(e){u(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},ut=function(e,t){try{u(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){u(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!_e[e])if(Ne||Ie)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},pt=function(e){let t,n;if(Re)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Qe&&Ke===Ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=Z?Z.createHTML(e):e;if(Ke===Ge)try{t=(new q).parseFromString(r,Qe)}catch(e){}if(!t||!t.documentElement){t=ee.createDocument(Ke,"template",null);try{t.documentElement.innerHTML=Ye?J:r}catch(e){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),Ke===Ge?re.call(t,Ee?"html":"body")[0]:Ee?t.documentElement:a},ft=function(e){return te.call(e.ownerDocument||e,e,T.SHOW_ELEMENT|T.SHOW_COMMENT|T.SHOW_TEXT,null,!1)},ht=function(e){return e instanceof F&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof U)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},_t=function(e){return"object"==typeof l?e instanceof l:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},gt=function(e,t,r){oe[e]&&m(oe[e],(e=>{e.call(n,t,r,tt)}))},yt=function(e){let t;if(gt("beforeSanitizeElements",e,null),ht(e))return dt(e),!0;const r=et(e.nodeName);if(gt("uponSanitizeElement",e,{tagName:r,allowedTags:fe}),e.hasChildNodes()&&!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return dt(e),!0;if(!fe[r]||be[r]){if(!be[r]&&vt(r)){if(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,r))return!1;if(ye.tagNameCheck instanceof Function&&ye.tagNameCheck(r))return!1}if(Oe&&!Fe[r]){const t=Q(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r)t.insertBefore(z(n[r],!0),$(e))}return dt(e),!0}return e instanceof k&&!mt(e)?(dt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!b(/<\/no(script|embed|frames)/i,e.innerHTML)?(Se&&3===e.nodeType&&(t=e.textContent,t=_(t,ie," "),t=_(t,se," "),t=_(t,ce," "),e.textContent!==t&&(u(n.removed,{element:e.cloneNode()}),e.textContent=t)),gt("afterSanitizeElements",e,null),!1):(dt(e),!0)},bt=function(e,t,n){if(Ce&&("id"===t||"name"===t)&&(n in i||n in nt))return!1;if(Te&&!ve[t]&&b(le,t));else if(ke&&b(me,t));else if(!_e[t]||ve[t]){if(!(vt(e)&&(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,e)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(e))&&(ye.attributeNameCheck instanceof RegExp&&b(ye.attributeNameCheck,t)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(t))||"is"===t&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&b(ye.tagNameCheck,n)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(n))))return!1}else if(We[t]);else if(b(pe,_(n,ue,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==g(n,"data:")||!Be[e])if(Ae&&!b(de,_(n,ue,"")));else if(n)return!1;return!0},vt=function(e){return e.indexOf("-")>0},kt=function(e){let t,r,a,o;gt("beforeSanitizeAttributes",e,null);const{attributes:i}=e;if(!i)return;const s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(o=i.length;o--;){t=i[o];const{name:c,namespaceURI:l}=t;if(r="value"===c?t.value:y(t.value),a=et(c),s.attrName=a,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,gt("uponSanitizeAttribute",e,s),r=s.attrValue,s.forceKeepAttr)continue;if(ut(c,e),!s.keepAttr)continue;if(!we&&b(/\/>/i,r)){ut(c,e);continue}Se&&(r=_(r,ie," "),r=_(r,se," "),r=_(r,ce," "));const m=et(e.nodeName);if(bt(m,a,r)){if(!Le||"id"!==a&&"name"!==a||(ut(c,e),r=De+r),Z&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(l);else switch(B.getAttributeType(m,a)){case"TrustedHTML":r=Z.createHTML(r);break;case"TrustedScriptURL":r=Z.createScriptURL(r)}try{l?e.setAttributeNS(l,c,r):e.setAttribute(c,r),d(n.removed)}catch(e){}}}gt("afterSanitizeAttributes",e,null)},Tt=function e(t){let n;const r=ft(t);for(gt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)gt("uponSanitizeShadowNode",n,null),yt(n)||(n.content instanceof s&&e(n.content),kt(n));gt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t,a,o,i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ye=!e,Ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_t(e)){if("function"!=typeof e.toString)throw v("toString is not a function");if("string"!=typeof(e=e.toString()))throw v("dirty is not a string, aborting")}if(!n.isSupported)return e;if(xe||at(c),n.removed=[],"string"==typeof e&&(Pe=!1),Pe){if(e.nodeName){const t=et(e.nodeName);if(!fe[t]||be[t])throw v("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)t=pt("\x3c!----\x3e"),a=t.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?t=a:t.appendChild(a);else{if(!Ne&&!Se&&!Ee&&-1===e.indexOf("<"))return Z&&Me?Z.createHTML(e):e;if(t=pt(e),!t)return Ne?null:Me?J:""}t&&Re&&dt(t.firstChild);const m=ft(Pe?e:t);for(;o=m.nextNode();)yt(o)||(o.content instanceof s&&Tt(o.content),kt(o));if(Pe)return e;if(Ne){if(Ie)for(i=ne.call(t.ownerDocument);t.firstChild;)i.appendChild(t.firstChild);else i=t;return(_e.shadowroot||_e.shadowrootmode)&&(i=ae.call(r,i,!0)),i}let d=Ee?t.outerHTML:t.innerHTML;return Ee&&fe["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&b(j,t.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+t.ownerDocument.doctype.name+">\n"+d),Se&&(d=_(d,ie," "),d=_(d,se," "),d=_(d,ce," ")),Z&&Me?Z.createHTML(d):d},n.setConfig=function(e){at(e),xe=!0},n.clearConfig=function(){tt=null,xe=!1},n.isValidAttribute=function(e,t,n){tt||at({});const r=et(e),a=et(t);return bt(r,a,n)},n.addHook=function(e,t){"function"==typeof t&&(oe[e]=oe[e]||[],u(oe[e],t))},n.removeHook=function(e){if(oe[e])return d(oe[e])},n.removeHooks=function(e){oe[e]&&(oe[e]=[])},n.removeAllHooks=function(){oe={}},n}return V()}()},7388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AcidFadeCalculator=t.AmberFadeCalculator=t.FadeCalculator=void 0;const r=n(6243),a=n(6038),o=n(7976);t.FadeCalculator=new r.default,t.AmberFadeCalculator=new a.default,t.AcidFadeCalculator=new o.default},7976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5428);class a extends r.default{constructor(){super(...arguments),this.weapons=["SSG 08"],this.reversedWeapons=["SSG 08"],this.tradeUpWeapons=["SSG 08"],this.configs={default:{pattern_offset_x_start:-2.4,pattern_offset_x_end:-2.1,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=a},6038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5428);class a extends r.default{constructor(){super(...arguments),this.weapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.reversedWeapons=[],this.tradeUpWeapons=["AUG","Galil AR","MAC-10","P2000","R8 Revolver","Sawed-Off"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65}}}}t.default=a},5428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3738);t.default=class{constructor(){this.minPercentage=80}getSupportedWeapons(){return this.weapons}getFadePercentage(e,t){return this.getFadePercentages(e)[t]}getAllFadePercentages(){return this.weapons.map((e=>({weapon:e,percentages:this.getFadePercentages(e)})))}getFadePercentages(e){if(!this.weapons.includes(e))throw new Error(`The weapon "${e}" is currently not supported.`);const t=this.configs[e]||this.configs.default,n=[],a=this.tradeUpWeapons.includes(e)?1e3:999;for(let e=0;e<=a;e+=1){const a=new r.default;a.setSeed(e);const o=a.randomFloat(t.pattern_offset_x_start,t.pattern_offset_x_end);a.randomFloat(t.pattern_offset_y_start,t.pattern_offset_y_end);const i=a.randomFloat(t.pattern_rotate_start,t.pattern_rotate_end);let s;const c=t.pattern_rotate_start!==t.pattern_rotate_end,l=t.pattern_offset_x_start!==t.pattern_offset_x_end;s=c&&l?i*o:c?i:o,n.push(s)}let o,i;this.reversedWeapons.includes(e)?(o=Math.min(...n),i=Math.max(...n)):(o=Math.max(...n),i=Math.min(...n));const s=i-o,c=n.map((e=>(i-e)/s)),l=[...c].sort(((e,t)=>e-t));return c.map(((e,t)=>({seed:t,percentage:this.minPercentage+e*(100-this.minPercentage),ranking:Math.min(l.indexOf(e)+1,l.length-l.indexOf(e))})))}}},6243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(5428);class a extends r.default{constructor(){super(...arguments),this.weapons=["AWP","Bayonet","Bowie Knife","Butterfly Knife","Classic Knife","Falchion Knife","Flip Knife","Glock-18","Gut Knife","Huntsman Knife","Karambit","Kukri Knife","M4A1-S","M9 Bayonet","MAC-10","MP7","Navaja Knife","Nomad Knife","Paracord Knife","R8 Revolver","Shadow Daggers","Skeleton Knife","Stiletto Knife","Survival Knife","Talon Knife","UMP-45","Ursus Knife"],this.reversedWeapons=["AWP","Karambit","MP7","Talon Knife"],this.tradeUpWeapons=["AWP","Glock-18","M4A1-S","MAC-10","MP7","R8 Revolver","UMP-45"],this.configs={default:{pattern_offset_x_start:-.7,pattern_offset_x_end:-.7,pattern_offset_y_start:-.7,pattern_offset_y_end:-.7,pattern_rotate_start:-55,pattern_rotate_end:-65},MP7:{pattern_offset_x_start:-.9,pattern_offset_x_end:-.3,pattern_offset_y_start:-.7,pattern_offset_y_end:-.5,pattern_rotate_start:-55,pattern_rotate_end:-65},"M4A1-S":{pattern_offset_x_start:-.14,pattern_offset_x_end:.05,pattern_offset_y_start:0,pattern_offset_y_end:0,pattern_rotate_start:-45,pattern_rotate_end:-45}}}}t.default=a},3738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.mIdum=0,this.mIy=0,this.mIv=[],this.NTAB=32,this.IA=16807,this.IM=2147483647,this.IQ=127773,this.IR=2836,this.NDIV=1+(this.IM-1)/this.NTAB,this.AM=1/this.IM,this.RNMX=1-12e-8}setSeed(e){this.mIdum=e,e>=0&&(this.mIdum=-e),this.mIy=0}generateRandomNumber(){let e,t;if(this.mIdum<=0||0===this.mIy){for(-this.mIdum<1?this.mIdum=1:this.mIdum=-this.mIdum,t=this.NTAB+7;t>=0;t-=1)e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t<this.NTAB&&(this.mIv[t]=this.mIdum);[this.mIy]=this.mIv}return e=Math.floor(this.mIdum/this.IQ),this.mIdum=Math.floor(this.IA*(this.mIdum-e*this.IQ)-this.IR*e),this.mIdum<0&&(this.mIdum+=this.IM),t=Math.floor(this.mIy/this.NDIV),this.mIy=Math.floor(this.mIv[t]),this.mIv[t]=this.mIdum,this.mIy}randomFloat(e,t){let n=this.AM*this.generateRandomNumber();return n>this.RNMX&&(n=this.RNMX),n*(t-e)+e}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";chrome.i18n.getMessage("fn_long"),chrome.i18n.getMessage("fn_short"),chrome.i18n.getMessage("mw_long"),chrome.i18n.getMessage("mw_short"),chrome.i18n.getMessage("ft_long"),chrome.i18n.getMessage("ft_short"),chrome.i18n.getMessage("ww_long"),chrome.i18n.getMessage("ww_short"),chrome.i18n.getMessage("bs_long"),chrome.i18n.getMessage("bs_short");const e={short:"USD",long:"United States dollar",sign:"$"},t={short:"EUR",long:"Euro",sign:"â‚¬"},r={name:"csgotrader",long:"CS2 Trader",short:"CS",url:"http://csgotrader.app/prices/",description:"The extension's own pricing, aims to be accurate and to provide some kind of price for every item.",pricing_modes:{csgotrader:{description:"CS2 Trader price",name:"csgotrader",long:"CS2 Trader price"}}},a={common:{internal_name:"Rarity_Common",name:"common",prettyName:"Common"},common_weapon:{internal_name:"Rarity_Common_Weapon",name:"common",prettyName:"Common Weapon"},uncommon:{internal_name:"Rarity_Uncommon",name:"uncommon",prettyName:"Uncommon"},uncommon_weapon:{internal_name:"Rarity_Uncommon_Weapon",name:"uncommon",prettyName:"Uncommon Weapon"},rare:{internal_name:"Rarity_Rare",name:"rare",prettyName:"Rare"},rare_weapon:{internal_name:"Rarity_Rare_Weapon",name:"rare",prettyName:"Rare Weapon"},rare_character:{internal_name:"Rarity_Rare_Character",name:"rare",prettyName:"Distinguished Agent"},mythical:{internal_name:"Rarity_Mythical",name:"mythical",prettyName:"Mythical"},mythical_weapon:{internal_name:"Rarity_Mythical_Weapon",name:"mythical",prettyName:"Mythical Weapon"},mythical_character:{internal_name:"Rarity_Mythical_Character",name:"mythical",prettyName:"Exceptional Agent"},legendary:{internal_name:"Rarity_Legendary",name:"legendary",prettyName:"Legendary"},legendary_weapon:{internal_name:"Rarity_Legendary_Weapon",name:"legendary",prettyName:"Legendary Weapon"},legendary_character:{internal_name:"Rarity_Legendary_Character",name:"legendary",prettyName:"Superior Agent"},ancient:{internal_name:"Rarity_Ancient",name:"ancient",prettyName:"Ancient"},ancient_weapon:{internal_name:"Rarity_Ancient_Weapon",name:"ancient",prettyName:"Ancient Weapon"},ancient_character:{internal_name:"Rarity_Ancient_Character",name:"ancient",prettyName:"Master Agent"},contraband:{internal_name:"Rarity_Contraband",name:"contraband",prettyName:"Contraband"},contraband_weapon:{internal_name:"Rarity_Contraband_Weapon",name:"contraband",prettyName:"Contraband Weapon"},default:{internal_name:"Rarity_Default",name:"stock",prettyName:"Default"},default_weapon:{internal_name:"Rarity_Default_Weapon",name:"stock",prettyName:"Default Weapon"}};a.common.name,a.common.prettyName,a.uncommon.name,a.uncommon.prettyName,a.rare.name,a.rare.prettyName,a.mythical.name,a.mythical.prettyName,a.legendary.name,a.legendary.prettyName,a.ancient.name,a.ancient.prettyName,a.contraband.name,a.contraband.prettyName;var o=n(7856),i=n.n(o);chrome.runtime.getURL("/index.html").includes("chrome-extension");const s={default:{key:"default",name:"Default (position last to first)"},reverse:{key:"reverse",name:"Reverse (position first to last)"},price_desc:{key:"price_desc",name:"Price (expensive to cheap)"},price_asc:{key:"price_asc",name:"Price (cheap to expensive)"},name_asc:{key:"name_asc",name:"Alphabetical (a to z)"},name_desc:{key:"name_desc",name:"Alphabetical (z to a)"},tradability_desc:{key:"tradability_desc",name:"Tradability (untradable to tradable)"},tradability_asc:{key:"tradability_asc",name:"Tradability (tradable to untradable)"},float_asc:{key:"float_asc",name:"Float (lowest to highest)"},float_desc:{key:"float_desc",name:"Float (highest to lowest)"},sticker_price_asc:{key:"sticker_price_asc",name:"Sticker price (cheap to expensive)"},sticker_price_desc:{key:"sticker_price_desc",name:"Sticker price (expensive to cheap)"},charm_price_asc:{key:"charm_price_asc",name:"Charm price (cheap to expensive)"},charm_price_desc:{key:"charm_price_desc",name:"Charm price (expensive to cheap)"}},c={key:"default",name:"Default Steam Order"},l={key:"profile_private",pretty:"Private profile",description:"The user has a private Steam profile",with_value:!1},m={key:"steam_level_under",pretty:"Steam level under",description:"User' Steam profile lever is under or the same as the set number",with_value:!0,value_type:"number",default_value:5},d={key:"vac_banned",pretty:"Vac banned",description:"The user has VAC ban(s) on their account",with_value:!1},u={key:"community_banned",pretty:"Community banned",description:"The user is community banned on Steam",with_value:!1},p={key:"trade_banned",pretty:"Trade banned",description:"The user is trade banned or on trade ban probation",with_value:!1},f={key:"inventory_private",pretty:"Private inventory",description:"The user's inventory is not publicly viewable",with_value:!1},h={key:"ignore",pretty:"Ignore",description:"Ignore friend request"},_={key:"accept",pretty:"Accept",description:"Accept trade offer"},g={key:"decline",pretty:"Decline",description:"Decline trade offer"},y={key:"notify",pretty:"Notify",description:"Send a browser notification"},b={key:"profit_over",pretty:"Profit over",description:"Projected profit equal or over the specified value",with_value:!0,value_type:"number",default_value:5},v={key:"profit_percentage_over",pretty:"Profit percentage over",description:"Projected profit percentage equal or over the specified value",with_value:!0,value_type:"number",default_value:10},k={key:"no_message",pretty:"Has no message",description:"The offer has no message attached",with_value:!1},T={key:"message_includes",pretty:"Message includes",description:"The offer message includes the specified string",with_value:!0,value_type:"string",default_value:"please"},A={key:"receiving_items_under",pretty:"Receiving fewer than x items",description:"Receiving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},w={key:"giving_items_under",pretty:"Giving fewer than x items",description:"Giving fewer than x items in the offer",with_value:!0,value_type:"number",default_value:1},S={key:"and",pretty:"AND",description:"AND operator"},E=(r.name,r.pricing_modes.csgotrader.name,e.short,s.default.key,s.default.key,e.short,t.short,Date.now(),Date.now(),l.key,h.key,m.key,h.key,d.key,h.key,u.key,h.key,p.key,h.key,f.key,h.key,Date.now(),Date.now(),e.short,c.key,w.key,k.key,S.key,y.key,b.key,b.default_value,y.key,v.key,v.default_value,y.key,A.key,k.key,S.key,g.key,A.key,T.key,T.default_value,S.key,_.key,new Date("2020-01-01T00:00:00.000Z").getTime(),(e,t,n,r)=>{const a=document.createElement("div");a.setAttribute("onreset",`${e};`),a.dispatchEvent(new CustomEvent("reset")),a.removeAttribute("onreset"),a.remove();const o=["steamidOfLoggedinUser","steamidOfProfileOwner","tradePartnerSteamID","inventoryOwnerID","listingsInfo","inventoryInfo","allItemsLoaded","offerInventoryInfo","steamWalletCurrency","steamWallet","formattedToInt","intToFormatted","priceAfterFees","sessionid","offerID","partnerName","userAppInfo","csgoFloat","commentExtendedData"].includes(r)?document.querySelector("body").getAttribute(r):null;return null!==o&&document.querySelector("body").removeAttribute(r),o}),x=e=>Number(e.split("7656")[1])-Number(1197960265728),R=()=>E("document.querySelector('body').setAttribute('steamidOfLoggedinUser', g_steamID);",0,0,"steamidOfLoggedinUser"),{FadeCalculator:N}=n(7388);const I=e=>{document.querySelector("body").insertAdjacentHTML("beforeend",i().sanitize(`\n        <textarea id="text_area_to_copy_to_clipboard" class="hidden-copy-textarea" readonly="">${e}</textarea>`));const t=document.getElementById("text_area_to_copy_to_clipboard");t.select(),document.execCommand("copy"),t.remove()},M=(e,t)=>{chrome.storage.local.get(["usefulTitles"],(({usefulTitles:n})=>{if(n){let n=document.title.split(":: ")[1];switch(e){case"own_profile":n="My profile";break;case"profile":n=`${n}'s profile`;break;case"market_listing":n=`${t} - Market Listings`;break;case"trade_offer":n=`${t} - Trade Offer`;break;case"own_inventory":n="My Inventory";break;case"inventory":n=`${n}'s inventory`;break;case"trade_offers":n=t}document.title=n}}))},C=e=>{const t=new Date(1e3*e).toISOString();return`${t.split("T")[0]} ${t.split("T")[1].substr(0,5)}`},L=e=>{const t=(Date.now()-new Date(1e3*e))/1e3;let n="";return n=t<60?"Just now":t>=60&&t<120?"1 minute ago":t>=120&&t<3600?`${Math.trunc(t/60)} minutes ago`:t>=3600&&t<7200?"1 hour ago":t>=7200&&t<86400?`${Math.trunc(t/3600)} hours ago`:t>=86400&&t<172800?"1 day ago":t>=172800&&t<604800?`${Math.trunc(t/86400)} days ago`:t>=604800&&t<1209600?"1 week ago":t>=1209600&&t<2592e3?`${Math.trunc(t/604800)} weeks ago`:t>=2592e3&&t<5184e3?"Over a month ago":t>=5184e3&&t<31536e3?`${Math.trunc(t/2592e3)} months ago`:"Over a year ago",n},D=e=>{const t=e.target.parentNode.parentNode.parentNode.querySelector(".commentthread_author_link").querySelector("bdi").innerHTML.split(' <span class="nickname_block">')[0],n=document.querySelector(".commentthread_textarea"),r=n.value;n.value=""===r?`[b]@${t}[/b]: `:`${r}\n[b]@${t}[/b]: `,n.focus()},O=()=>{document.querySelectorAll(".commentthread_comment_actions").forEach((e=>{null===e.querySelector(".replybutton")&&e.insertAdjacentHTML("beforeend",`<a class="actionlink replybutton" data-tooltip-text="Reply">\n                <img style="height: 16px; width: 16px" src="${chrome.runtime.getURL("images/reply.png")}">\n              </a>`)})),document.querySelectorAll(".replybutton").forEach((e=>{e.removeEventListener("click",D),e.addEventListener("click",D)}))},P=["[h1]","[/h1]","[b]","[/b]","[u]","[/u]","[i]","[/i]","[strike]","[/strike]","[spoiler]","[/spoiler]","[noparse]","[/noparse]","[url=*]","[/url]"],U=()=>{chrome.storage.local.get(["openOfferInTab"],(({openOfferInTab:e})=>{e&&((e,t,n)=>{const r=document.getElementById(t);null!==r&&r.remove();const a=document.createElement("script");a.id=t,n&&(a.dataset.params=JSON.stringify(n)),a.src=chrome.runtime.getURL(`js/injectToPage/${e}.js`),(document.head||document.documentElement).appendChild(a)})("ShowTradeOffer","ShowTradeOfferScript")}))},F={2:"Currently Busy",3:"Currently Away",4:"Currently Snooze",5:"Currently Looking to Trade",6:"Currently Looking to Play"},q=()=>{chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.acceptOffer){let t=1;const r=setInterval((()=>{var a,o;t<=5&&(t+=1,(a=e.acceptOffer.offerID,o=e.acceptOffer.partnerID,new Promise(((e,t)=>{chrome.storage.local.get(["steamSessionID"],(({steamSessionID:n})=>{const r=new Headers;r.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");const i=new Request(`https://steamcommunity.com/tradeoffer/${a}/accept`,{method:"POST",headers:r,referrer:`https://steamcommunity.com/tradeoffer/${a}/`,body:`sessionid=${n}&serverid=1&tradeofferid=${a}&partner=${o}&captcha=`});fetch(i).then((e=>{if(e.ok)return e.json();console.log(`Error code: ${e.status} Status: ${e.statusText}`),t({status:e.status,statusText:e.statusText})})).then((t=>{e(t)})).catch((e=>{console.log(e),t(e)}))}))}))).then((()=>{clearInterval(r),n({success:!0})})).catch((e=>{console.log(e),n({success:!1})}))),clearInterval(r)}),5e3)}return!0}))};if(document.querySelector("body").classList.contains("profile_page")){(()=>{const{version:e}=chrome.runtime.getManifest();console.log(`CS2 Trader - Steam Trading Enhancer ${e} is running on this page. Changelog at: https://csgotrader.app/changelog/`),console.log("If you see any errors that seem related to the extension please email support@csgotrader.app.")})(),chrome.storage.local.get(["steamAcessToken","steamAcessTokenValid"],(({steamAcessToken:e,steamAcessTokenValid:t})=>{const n=document.getElementById("application_config")?.getAttribute("data-loyalty_webapi_token")?.replace('"',"").replace('"',"");!t||t&&e!==n?chrome.runtime.sendMessage({accessTokenToValidate:n},(e=>{e.valid?chrome.storage.local.set({steamAcessToken:n,steamAcessTokenValid:!0},(()=>{console.log("Steam access token updated")})):console.log("Steam access token could not be validated")})):console.log("Access token not changed")})),(()=>{const e=R();"false"!==e&&!1!==e&&null!==e&&chrome.storage.local.set({steamIDOfUser:e,steamSessionID:E("document.querySelector('body').setAttribute('sessionid', g_sessionID);",0,0,"sessionid")},(()=>{}))})(),(()=>{const e=document.getElementById("account_pulldown");if(null!==e){const t=e.innerText;chrome.storage.local.set({nickNameOfUser:t},(()=>{}))}})(),chrome.storage.local.get(["showUpdatedRibbon"],(({showUpdatedRibbon:e})=>{e&&(document.querySelector("body").insertAdjacentHTML("afterbegin",i().sanitize(`<div id="extensionUpdatedRibbon">\n                       CS2 Trader Extension was updated to ${chrome.runtime.getManifest().version}. Check out the \n                      <a href="https://csgotrader.app/changelog/" target="_blank" title="Open CS2Trader Changelog">\n                          Changelog\n                      </a>\n                      for details\n                      <span class="clickable" id="closeUpdatedRibbon" title="Close ribbon until the next update">Close</span>\n                    </div>`,{ADD_ATTR:["target"]})),document.getElementById("closeUpdatedRibbon").addEventListener("click",(()=>{chrome.storage.local.set({showUpdatedRibbon:!1},(()=>{document.getElementById("extensionUpdatedRibbon").classList.add("hidden")}))})))})),chrome.storage.local.get("linkFilterOff",(({linkFilterOff:e})=>{e&&document.querySelectorAll("a").forEach((e=>{const t=e.getAttribute("href");null!==t&&t.includes("https://steamcommunity.com/linkfilter/?url=")&&e.setAttribute("href",t.split("https://steamcommunity.com/linkfilter/?url=")[1])}))})),q(),setInterval((()=>{chrome.runtime?.id||window.location.reload()}),5e3);const e=E("document.querySelector('body').setAttribute('steamidOfProfileOwner', g_rgProfileData.steamid);",0,0,"steamidOfProfileOwner"),t=R(),n=document.getElementById("profile_action_dropdown"),r=null===n&&e!==t;O(),(()=>{const e=new MutationObserver((()=>{O()})),t=document.querySelector(".commentthread_comments");null!==t&&e.observe(t,{subtree:!0,attributes:!1,childList:!0})})(),chrome.storage.local.get(["markScammers","legitSiteBotGroup"],(({markScammers:e,legitSiteBotGroup:t})=>{e&&document.querySelectorAll(".profile_group_avatar a").forEach((e=>{const n=e.getAttribute("href").split("https://steamcommunity.com/groups/")[1];if(t.includes(n)){const e=chrome.runtime.getURL("images/verifiedBotAccount.jpg");document.querySelector("body").insertAdjacentHTML("afterbegin",i().sanitize(`<div style="background-color: green; color: white; padding: 5px; text-align: center;" class="legitSiteBot">\n                  <span>\n                      This profile belongs to a legit trade site, they are in the appropriate \n                      <a style="color: black; font-weight: bold" href='https://steamcommunity.com/groups/${n}'>Steam group.</a>\n                  </span>\n              </div>`)),document.querySelector(".no_header.profile_page").setAttribute("style",`background-image: url('${e}')`);const t=document.querySelector(".no_header.profile_page.has_profile_background").querySelector("video");null!==t&&t.remove()}}))}));const a=document.querySelector(".commentthread_entry_quotebox");if(null!==a&&a.setAttribute("style","width: 83%; display: inline-block;"),t===e)chrome.storage.local.get(["reoccuringMessage","showReoccButton"],(({reoccuringMessage:e,showReoccButton:t})=>{if(t){const t='<div style="float: right; text-align: center; margin-top: 6px;" class="commentthread_user_avatar playerAvatar"><span class="btn_green_white_innerfade btn_small" id="reocc" style="padding: 5px;">Reocc<span></div>';a.insertAdjacentHTML("afterend",i().sanitize(t)),document.getElementById("reocc").addEventListener("click",(()=>{document.querySelectorAll(".commentthread_comment.responsive_body_text").forEach((t=>{let n="";P.forEach((e=>{n+=`${e.replace("[","\\[").replace("]","\\]")}|`})),n+="\\s";const r=new RegExp(n,"g");t.querySelector(".commentthread_comment_text").innerText.replace(r,"")===e.replace(r,"")&&t.querySelectorAll("img")[1].click()})),document.querySelector(".commentthread_textarea").value=e,setTimeout((()=>{document.querySelectorAll(".btn_green_white_innerfade.btn_small")[1].click()}),2e3)}))}})),M("own_profile");else if(!r){const t=`\n      <a class="popup_menu_item" href="#" id="copy_profile_perma_link">\n        <img style="width: 16px; height: 16px" src="${chrome.runtime.getURL("images/paperclip.png")}">\n            &nbsp; Copy Profile Permalink\n      </a>`,r='\n        <a class="popup_menu_item" href="#" id="show_offer_history">\n            <img style="width: 16px; height: 16px" src="https://steamcommunity-a.akamaihd.net/public/images/profile/icon_tradeoffers.png">\n            &nbsp; Show Offer History\n        </a>',o=`\n      <a class="popup_menu_item" href="#" id="copy_trade_link">\n        <img style="width: 16px; height: 16px" src="${chrome.runtime.getURL("images/paperclip.png")}">\n            &nbsp; Copy Trade Link\n      </a>`,s=`\n      <a class="popup_menu_item" href="https://csgo-rep.com/profile/${e}">\n        <img style="width: 16px; height: 16px" src="${chrome.runtime.getURL("images/growth.png")}">\n            &nbsp; Open CSGO-REP Profile\n      </a>`;n.querySelector(".popup_body.popup_menu.shadow_content").insertAdjacentHTML("beforeend",t+r+o+s),document.getElementById("copy_profile_perma_link").addEventListener("click",(()=>{I(`https://steamcommunity.com/profiles/${e}`),document.querySelector(".playerAvatarAutoSizeInner").click()})),document.getElementById("show_offer_history").addEventListener("click",(()=>{chrome.storage.local.get([`offerHistory_${e}`,"apiKeyValid"],(t=>{let n=t[`offerHistory_${e}`],r="";t.apiKeyValid?(void 0===n&&(n={offers_received:0,offers_sent:0,last_received:0,last_sent:0}),r=`\n                        <div class="trade_partner_info_block" style="color: lightgray"> \n                            <div title=${C(n.last_received)}>\n                            Offers Received: ${n.offers_received} Last:  ${0!==n.offers_received?L(n.last_received):"-"}\n                            </div>\n                            <div title=${C(n.last_sent)}>\n                            Offers Sent: ${n.offers_sent} Last:  ${0!==n.offers_sent?L(n.last_sent):"-"}\n                            </div>\n                        </div>`):r='\n                        <div class="trade_partner_info_block" style="color: lightgray"> \n                            <div><b>CS2Trader Extension:</b> It looks like you don\'t have your Steam API Key set yet.</div>\n                            <div>If you had that you would see partner offer history here. Check the \n                                <a href="https://csgotrader.app/release-notes#1.23">Release Notes</a> \n                                for more info.\n                            </div>\n                        </div>';const a=document.querySelector(".responsive_status_info");null!==a?a.insertAdjacentHTML("beforeend",i().sanitize(r)):document.querySelector(".profile_header_badgeinfo").insertAdjacentHTML("beforeend",i().sanitize(r)),document.querySelector(".playerAvatarAutoSizeInner").click()}))})),document.getElementById("copy_trade_link").addEventListener("click",(()=>{let t=`https://steamcommunity.com/tradeoffer/new/?partner=${x(e)}`;document.querySelectorAll("a").forEach((n=>{const r=n.getAttribute("href");if(null!==r&&r.includes("steamcommunity.com/tradeoffer/new/?partner=")){r.split("new/?partner=")[1].split("&token")[0]===x(e).toString()&&(t=r)}})),I(t),document.querySelector(".playerAvatarAutoSizeInner").click()})),chrome.storage.local.get(["reputationMessage","showPlusRepButton"],(e=>{if(e.showPlusRepButton){const t='\n            <div style="float: right; text-align: center; margin-top: 6px;" class="commentthread_user_avatar playerAvatar">\n                <span class="btn_green_white_innerfade btn_small" id="repper" style="padding: 5px;">\n                    +rep\n                <span>\n            </div>';null!==a&&(a.insertAdjacentHTML("afterend",i().sanitize(t)),document.getElementById("repper").addEventListener("click",(()=>{document.querySelector(".commentthread_textarea").value=e.reputationMessage,setTimeout((()=>{document.querySelectorAll(".btn_green_white_innerfade.btn_small")[1].click()}),500)})))}})),M("profile")}chrome.storage.local.get(["nsfwFilter","removeAnimatedProfileBackgrounds"],(({nsfwFilter:e,removeAnimatedProfileBackgrounds:t})=>{e?(document.querySelector(".no_header.profile_page").setAttribute("style","background-image: url(https://steamcommunity-a.akamaihd.net/public/images/profile/profile_bg.jpg); background-repeat: repeat-x; background-color: #262627;"),document.querySelectorAll(".profile_content, body, .no_header.profile_page").forEach((e=>{e.classList.remove("has_profile_background")})),document.querySelectorAll(".profile_background_holder_content, .screenshot_showcase, .profile_animated_background, .award_icon, .badge_icon, .dynamiclink_preview, .item_image, .workshop_showcase_item_image, .guide_showcase_image, .showcase_award_icon, .game_capsule, .achievement_icon, .playerAvatarAutoSizeInner img, .playerAvatar img, .playerAvatarAutoSizeInner img, .profile_group_avatar a img, .favoritegroup_avatar a img, .favorite_game_cap a img").forEach((e=>{e.remove()})),null!==document.querySelector(".golden_profile")&&(((e,t)=>{if(null===document.getElementById(t)){const n=document.createElement("style");n.id=t,n.innerHTML=e,document.querySelector("body").appendChild(n)}})(".profile_header_bg:before {background-image: url()}","holidayheaderstyle"),document.querySelector(".golden_profile").classList.remove("golden_profile",".profile_customization_snow"),document.querySelector(".golden_profile_header").classList.remove("golden_profile_header"),document.querySelector(".profile_header_bg_texture").classList.remove("profile_header_bg_texture"),document.querySelector(".w19_side_background, .w19_pig, .w19_strings, .profile_header_bg, .profile_header_bg_texture").style.background="url()",document.querySelector(".w19_sides_position").innerHTML="")):(e||t)&&document.querySelectorAll(".profile_animated_background").forEach((e=>{e.remove()}))})),chrome.storage.local.get("showRealStatus",(t=>{if(t.showRealStatus&&!r){const t=document.querySelector(".profile_in_game.persona");if(null!==t&&t.classList.contains("online")){const n=t.querySelector(".profile_in_game_header");chrome.runtime.sendMessage({GetPersonaState:e},(e=>{e.apiKeyValid&&(n.innerText=F[e.personastate]?F[e.personastate]:n.innerText)}))}}})),U()}})()})();
//# sourceMappingURL=profile.bundle.js.map
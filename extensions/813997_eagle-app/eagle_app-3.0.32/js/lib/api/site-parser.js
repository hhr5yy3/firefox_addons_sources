class SiteParser{getMeta(){const o=location.href.toLowerCase();var e=this.#getTagsRules();let a=[];return e.forEach(t=>{var e;-1<o.indexOf(t.domain)&&(e=$(t.selector).map(function(){let e=$.trim($(this).text());return e=t.remove?e.replace(t.remove,""):e}).get(),a=e)}),{metaTags:a.join(","),metaDescription:$('meta[name="description"]').attr("content"),metaKeywords:$('meta[name="keywords"]').attr("content"),metaPicture:$('meta[property="og:image"]').attr("content")}}getVideoMeta(){var e,t=this.parseYoutubeVideoID(location.href),o=this.parseBiliBiliVideoID(location.href),a=this.parseVimeoVideoID(location.href);let i=$("meta[property='og:video:width']").attr("content"),r=$("meta[property='og:video:height']").attr("content"),s,n,m,c,l;return t&&(n=t,l="youtube",s=`https://i.ytimg.com/vi/${t}/hqdefault.jpg`,t=$(".ytp-time-duration:first").text())&&0<this.hmsToSecondsOnly(t)&&(m=this.hmsToSecondsOnly(t)),o&&(n=o,l="bilibili",s=(s=(s=$("meta[property='og:image']").attr("content")).startsWith("//")?location.protocol+s:s).replace(/@\d+w_\d+h_\S+\.\S+$/,""),i=$("meta[property='og:width']").attr("content"),r=$("meta[property='og:height']").attr("content"),c=`https://player.bilibili.com/player.html?bvid=${o}&page=1`,e=$(".bpx-player-ctrl-time-duration").text())&&0<this.hmsToSecondsOnly(e)&&(m=this.hmsToSecondsOnly(e)),a&&(n=a,l="vimeo",t=$(".vp-preview"),r=0<t.length?(s=t.attr("data-thumb"),o=new URL(s),i=o.searchParams.get("mw"),o.searchParams.get("mh")):(s=$("meta[property='og:image']").attr("content"),i=$("meta[property='og:video:width']").attr("content"),$("meta[property='og:video:height']").attr("content")),e=$(".vp-progress [aria-valuemax]").attr("aria-valuemax"))&&0<this.hmsToSecondsOnly(e)&&(m=this.hmsToSecondsOnly(e)),{videoWidth:i,videoHeight:r,videoThumb:s,videoID:n,videoDuration:m,videoEmbed:c,videoMedium:l}}#getTagsRules(){return[{domain:"instagram.com",selector:"span a:contains(#)",remove:"#"},{domain:"behance.net",selector:".object-tag"},{domain:"dribbble.com",selector:".popular-tags .tag a"},{domain:"lymma.net",selector:".tags .tag"},{domain:"designspiration.net",selector:".descriptionTag",remove:"#"},{domain:"500px.com",selector:".tag-container .tag"},{domain:"artstation.com",selector:".tags .label-tag",remove:"#"},{domain:"abduzeedo.com",selector:".field__items .field__item a"},{domain:"fubiz.net",selector:".post-full-tags a"},{domain:"medium.com",selector:".tags a"},{domain:"uxplanet.org",selector:".tags a"},{domain:"medium.muz.li",selector:".tags a"},{domain:"httpster.net",selector:".Snapshot__tags .Tag"},{domain:"land-book.com",selector:".icon-bookmark ~ .website-attribute a"},{domain:"ui.cn",selector:".works-tag a"},{domain:"uisdc.com",selector:".tags [rel='tag']"},{domain:"uiiiuiii.com",selector:".itags .cont a"},{domain:"logopond.com",selector:"strong:contains(Tags) ~ a"},{domain:"deviantart.com",selector:".discoverytag",remove:"#"},{domain:"mydesy.com",selector:".cb-tags [rel='tag']"},{domain:"uplabs.com",selector:".post__side-preview-tag a"},{domain:"onepagelove.com",selector:".review-tags a"},{domain:"design-milk.com",selector:".tags a"},{domain:"unsplash.com",selector:"p:contains(Related tags) ~ div a"},{domain:"pinterest.com",selector:".AggregatedCloseupCard a:contains(#)",remove:"#"},{domain:"flickr.com",selector:".tags-list li"},{domain:"huaban.com",selector:"#tag-group a"},{domain:"zcool.com.cn/article",selector:".work-taglist .worktag-con a"},{domain:"zcool.com.cn/work",selector:".works-tag-wrap a"},{domain:"zhuanlan.zhihu.com",selector:".PostIndex-topicItem"},{domain:"toutiao.com",selector:".tag-list .tag-item"},{domain:"zhihu.com",selector:".QuestionHeader-topics .Tag-content a"},{domain:"gooood.hk",selector:".entry-spec a"},{domain:"archdaily.com",selector:".single-tags-cats__module .more-btns"},{domain:"archdaily.cn",selector:".single-tags-cats__module .more-btns"},{domain:"freshome.com",selector:".tags-nav a"},{domain:"home-designing.com",selector:".post-tags a"},{domain:"justeasy.cn",selector:"#biaoqianactive li a"},{domain:"sj33.cn",selector:".tagc2"}]}parseYoutubeVideoID(e){return!(!(e=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/))||11!=e[1].length)&&e[1]}parseBiliBiliVideoID(e){try{return e.split("bilibili.com/video/")[1].split("/?")[0]}catch(e){}}parseVimeoVideoID(e){return(e=e.match(/^.+vimeo.com\/(.*\/)?(\d+)/))?e[2]:null}hmsToSecondsOnly(e){var t=e.split(":");let o=0,a=1;for(;0<t.length;)o+=a*parseInt(t.pop(),10),a*=60;return o}}eagle.siteParser=new SiteParser;
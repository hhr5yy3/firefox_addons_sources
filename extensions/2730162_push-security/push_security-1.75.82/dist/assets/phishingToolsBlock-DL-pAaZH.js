import{b as e}from"./browser-polyfill-BfqLb55p.js";import{s as t,p as a}from"./tippy-CQKUN4J0.js";import{S as s}from"./SafeHtml-KN4mTeRu.js";import{_ as l}from"./Button.vue_vue_type_script_setup_true_lang-DDaL3Au8.js";import{_ as o,a as n}from"./PhishingPreviewVariable.vue_vue_type_script_setup_true_lang-BmLiWZ8I.js";import{r as u,S as i,d as r,c as p,W as v,X as c,b as _,f as m,g as d,u as h,t as g,q as x,s as f,k as y,p as w,h as b,o as k,F as L,m as S,Y as T,U as O,J as P}from"./FontAwesome-CCo8GKtM.js";import{u as R}from"./useSettings-BaLXaLNb.js";/* empty css              */const U={class:"flex flex-col items-center gap-1 rounded-md px-4 font-thin text-sunny-orange"},j={class:"text-4xl font-light"},B={class:"max-w-[1000px] overflow-y-auto text-center text-xl"},$=r({__name:"PhishingToolsBlock",setup(t){const{mode:a,title:s,subtext:r,ignoreButtonText:O}=function(){const{settings:e}=R(),t=u("OFF"),a=u(""),s=u(""),l=u("");return i(e,(e=>{(null==e?void 0:e.phishing_tool_detection)&&(t.value=e.phishing_tool_detection.mode||"",a.value=e.phishing_tool_detection.title||"",s.value=e.phishing_tool_detection.subtext||"",l.value=e.phishing_tool_detection.ignore_button_text||"")})),{mode:t,title:a,subtext:s,ignoreButtonText:l}}(),P=u(!1),$=u("BLOCK"),I=u(""),E=u(""),G=u(""),H=u(""),A=u(""),C=u(null),F=p((()=>P.value?E.value.replace(/<a /g,'<a class="text-purple hover:underline"').split(/(\$(?:IDP|URL))/):r.value.replace(/<a /g,'<a class="text-purple hover:underline"').split(/(\$(?:IDP|URL))/))),N=p((()=>P.value?I.value:s.value)),K=p((()=>P.value?$.value:a.value)),M=p((()=>P.value?G.value:O.value));async function D(){!0===P.value?window.close():(await e.runtime.sendMessage({id:"REQUEST_TEMP_PHISHING_TOOLS_BLOCK_IGNORE",url:H.value,referrerUrl:A.value,mode:a.value,indicator:C.value}),window.history.back())}return v(N),e.runtime.onMessage.addListener((function(e){"PHISHING_TOOLS_BLOCK_PAGE_ARGS"===e.id&&("preview"===e.view?(P.value=!0,$.value=e.mode,I.value=e.title,E.value=e.subtext,G.value=e.ignoreButtonText):(A.value=e.referrerUrl,H.value=e.url,C.value=e.indicator))})),(e,t)=>{const a=o,s=n,u=l,i=c("safe-html");return k(),_(x,null,[m("div",U,[d(h(L),{class:"py-[5px] text-3xl",icon:["fasl","hexagon-exclamation"]}),m("h1",j,g(h(N)),1)]),m("div",B,[(k(!0),_(x,null,f(h(F),((e,t)=>(k(),_(x,null,[h(P)?(k(),_(x,{key:0},["$URL"===e?(k(),y(a,{key:`${t}-preview`,tooltip:"The actual URL that the user was on will be shown here."},{default:w((()=>[S(g(e),1)])),_:2},1024)):T((k(),_("span",{key:`${t}-part`})),[[i,e]])],64)):(k(),_(x,{key:1},["$URL"===e?(k(),y(s,{key:`${t}-url`,url:h(H)},null,8,["url"])):T((k(),_("span",{key:`${t}-part`})),[[i,e]])],64))],64)))),256))]),"WARN"===h(K)?(k(),y(u,{key:0,color:"dusty-orange",size:"lg",class:"mt-5",onClick:D},{default:w((()=>[S(g(h(M)),1)])),_:1})):b("",!0)],64)}}});t({theme:"push-light",placement:"bottom",animation:!1}),O({render:()=>P($)}).use(a,{component:"Tippy"}).use(s()).mount("#app");

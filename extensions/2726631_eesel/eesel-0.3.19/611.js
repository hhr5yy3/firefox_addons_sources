"use strict";(globalThis.webpackChunk_eesel_app=globalThis.webpackChunk_eesel_app||[]).push([[611],{44235:(e,t,r)=>{r.d(t,{z:()=>b});var o=r(3974),n=r(30130),a=r(21743),l=r(41473);const s=n.forwardRef(((e,t)=>n.createElement(l.x.button,Object.assign({alignItems:"center",appearance:"none",border:"none",borderRadius:"0.25rem",cursor:{_:"pointer",disabled:"default"},display:"inline-flex",fontWeight:"500",justifyContent:"center",outline:{_:"none",focus:"none"},overflow:"hidden",padding:"0.5rem 1rem",ref:t,textOverflow:"ellipsis",transitionDuration:(window.navigator.webdriver?1:128)+"ms",transitionProperty:"background-color, color",transitionTimingFunction:"ease",type:"button",whiteSpace:"nowrap"},e)))),i=(0,a.default)(n.forwardRef(((e,t)=>{var{color:r="primary"}=e,a=(0,o.__rest)(e,["color"]);const l=Object.assign(Object.assign(Object.assign({backgroundColor:"transparent",borderStyle:"solid",borderWidth:"1px"},"primary"===r?{borderColor:{_:"primary",disabled:"onBGSubtle"},color:{_:"primary",disabled:"onBGSubtle"}}:{}),"danger"===r?{borderColor:{_:"error",disabled:"onBGSubtle"},color:{_:"error",disabled:"onBGSubtle"}}:{}),"text"===r?{borderColor:{_:"onBG",disabled:"onBGSubtle"},color:{_:"onBG",disabled:"onBGSubtle"}}:{});return n.createElement(s,Object.assign({ref:t},l,a))})))`
  ${e=>e.color&&"primary"!==e.color?null:a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            border-color: primary;
            color: primary;
          }
        `}

  ${e=>"danger"===e.color?a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            border-color: error;
            color: error;
          }
        `:null}

  ${e=>"text"===e.color?a.css`
          &:hover:not(:disabled) {
            border-color: primary;
          }
        `:null}
`,c=(0,a.default)(n.forwardRef(((e,t)=>{var{color:r="primary"}=e,a=(0,o.__rest)(e,["color"]);const l=Object.assign(Object.assign(Object.assign(Object.assign({},"primary"===r?{backgroundColor:{_:"primary",disabled:"grey"},color:{_:"onPrimary",disabled:"onBGSubtle"}}:{}),"danger"===r?{backgroundColor:{_:"error",disabled:"grey"},color:{_:"onError",disabled:"onBGSubtle"}}:{}),"text"===r?{backgroundColor:{_:"bg03",disabled:"grey"},color:{_:"onBG03",disabled:"onBGSubtle"}}:{}),"white"===r?{backgroundColor:{_:"bg",disabled:"grey"},color:{_:"onBG",disabled:"onBGSubtle"}}:{});return n.createElement(s,Object.assign({ref:t},l,a))})))`
  ${e=>e.color&&"primary"!==e.color?null:a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            background-color: primary;
          }
        `}

  ${e=>"danger"===e.color?a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            background-color: error;
          }
        `:null}

  ${e=>"text"===e.color?a.css`
          &:hover:not(:disabled) {
            background-color: onBG;
          }
        `:null}
`,d=(0,a.default)(n.forwardRef(((e,t)=>{var{color:r="primary"}=e,a=(0,o.__rest)(e,["color"]);const l=Object.assign(Object.assign(Object.assign(Object.assign({backgroundColor:"transparent",borderRadius:0},"primary"===r?{color:{_:"primary",disabled:"onBGSubtle"}}:{}),"danger"===r?{color:{_:"error",disabled:"onBGSubtle"}}:{}),"text"===r?{color:{_:"onBG",disabled:"onBGSubtle"}}:{}),"white"===r?{color:{_:"onBG03",disabled:"onBGSubtle"}}:{});return n.createElement(s,Object.assign({ref:t},l,a))})))`
  ${e=>e.color&&"primary"!==e.color?null:a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            color: primary;
          }
        `}

  ${e=>"danger"===e.color?a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            color: error;
          }
        `:null}

  ${e=>"text"===e.color?a.css`
          &:hover:not(:disabled) {
            color: onBG;
          }
        `:null}

  ${e=>"white"===e.color?a.css`
          &:hover:not(:disabled) {
            color: onBG03;
          }
        `:null}
`,u=(0,a.default)(n.forwardRef(((e,t)=>{var{color:r="primary"}=e,a=(0,o.__rest)(e,["color"]);const l=Object.assign(Object.assign(Object.assign({borderRadius:"0",borderStyle:"solid",borderWidth:"0 0 2px 0",paddingLeft:"0",paddingRight:"0"},"primary"===r?{borderColor:{_:"primary",disabled:"onBGSubtle"}}:{}),"danger"===r?{borderColor:{_:"error",disabled:"onBGSubtle"}}:{}),"text"===r?{borderColor:{_:"onBG",disabled:"onBGSubtle"}}:{});return n.createElement(d,Object.assign({color:r,ref:t},l,a))})))`
  ${e=>e.color&&"primary"!==e.color?null:a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            border-color: primary;
          }
        `}

  ${e=>"danger"===e.color?a.css`
          &:focus:not(:disabled),
          &:hover:not(:disabled) {
            border-color: error;
          }
        `:null}

  ${e=>"text"===e.color?a.css`
          &:hover:not(:disabled) {
            border-color: onBG;
          }
        `:null}
`,b=n.forwardRef(((e,t)=>{var{shape:r}=e,a=(0,o.__rest)(e,["shape"]);switch(r){case"bordered":return n.createElement(i,Object.assign({},a,{ref:t}));case"icon":return n.createElement(d,Object.assign({border:"none",borderRadius:"0.25rem",padding:"0.5rem",ref:t},a));case"text":return n.createElement(d,Object.assign({},a,{ref:t}));case"underlinedText":return n.createElement(u,Object.assign({},a,{ref:t}));default:return n.createElement(c,Object.assign({},a,{ref:t}))}}))},47611:(e,t,r)=>{r.r(t),r.d(t,{Onboarding:()=>q});var o=r(30130),n=r(6844),a=r(10818),l=r(50094),s=r(31307),i=r(87228),c=r(17622),d=r(44235),u=r(21743),b=r(41473);const m=e=>o.createElement(b.x.div,Object.assign({alignItems:"center",color:"onBG",display:"flex",flexDirection:"column",h:"100%",justifyContent:"center"},e)),p=u.default.div`
  margin: 0;
  padding-bottom: 2;
  padding-top: 2;
  text-align: center;
`,g=u.default.h1`
  font-size: 8;
  font-weight: 500;
  margin: 0;
  padding-bottom: 2;
  padding-top: 2;
  text-align: center;
`,h=u.default.div`
  display: flex;
  justify-content: center;
  padding-top: 4;
  padding-left: 10%;
  padding-right: 10%;
  width: 100%;
`,y=({onClick:e})=>o.createElement(m,null,o.createElement(g,null,"What apps do you use for work?"),o.createElement(p,null,"eesel can automatically track pages of any app you use in your browser."),o.createElement(h,null,o.createElement(d.z,{color:"text",onClick:e,shape:"underlinedText"},"Add your first app"))),f=()=>{const e=o.useCallback((e=>window.parent.postMessage({payload:Object.assign({path:"/"},e),type:"eesel:spotlight:show"},"*")),[]),t=o.useCallback((()=>{e({path:"/settings/apps/add"})}),[e]);return o.createElement(y,{onClick:t})};var E=r(75278);const w=()=>o.createElement(m,null,o.createElement(p,null,o.createElement(E.a,null)),o.createElement(p,null,"eesel is being set up..."));var x=r(97879);const v=r.p+"onboarding-browser-action@x2.png";var k=r(68609);const C=(0,u.default)(p)`
  margin-top: 1rem;
`,j=()=>o.createElement(C,null,"All your work is finally in one place: eesel."),_=e=>{const[t,r]=o.useState(!1),n=window.navigator.webdriver?1:80,a={opacity:0,transition:`opacity ${n}ms ease-in-out`},s={entered:{opacity:1},entering:{opacity:0},exited:{opacity:0},exiting:{opacity:0}};return o.useEffect((()=>{const e=window.setTimeout((()=>r(!0)),window.navigator.webdriver?0:2e3);return()=>window.clearTimeout(e)}),[]),o.createElement(l.ZP,{appear:!0,in:t,timeout:n},(t=>o.createElement("div",Object.assign({},e,{style:Object.assign(Object.assign(Object.assign({},e.style),a),s[t])}))))},O=(0,u.default)((({className:e,shortcut:t})=>o.createElement(p,{className:e},o.createElement(k.ShortcutBar,{shortcut:t}))))`
  justify-content: center
  margin: -2;
`,S=({shortcut:e})=>o.createElement(o.Fragment,null,o.createElement(_,null,o.createElement(O,{shortcut:e})),o.createElement(j,null),o.createElement(_,null,o.createElement(p,null,"Press ",e.toString()))),B=u.default.img`
  display: block;
  max-height: 336rpx;
  max-width: 100%;
  padding-bottom: 3;
  padding-top: 3;
`,G=()=>o.createElement(o.Fragment,null,o.createElement(j,null),o.createElement(_,null,o.createElement(p,null,"Click the eesel icon near the address bar to open eesel:"),o.createElement(B,{alt:"Browser action hint",src:v}),o.createElement(p,null,"(we suggest pinning the icon to access it faster)"))),$=o.memo((({shortcut:e})=>o.createElement(m,null,(null==e?void 0:e.keys)?o.createElement(S,{shortcut:e}):o.createElement(G,null)))),T=()=>{const e=(0,i.u)();return o.useEffect((()=>{const e=document.querySelector('[data-id="eesel-spotlight"] > iframe');if(!e)return()=>{};const t=new MutationObserver((()=>{"visible"===e.style.visibility&&(0,x._P)("/onboarding-spotlight-intro")}));return t.observe(e,{attributes:!0,childList:!1,subtree:!1}),()=>t.disconnect()}),[]),e.loading?null:o.createElement($,{shortcut:e.data})};var R=r(92040),A=r(12530),W=r(24712);const P=r.p+"onboarding-shortcut-settings@x2.png",I=r.p+"onboarding-shortcut-settings-firefox@x2.png",L=({onNextClick:e,onSettingsClick:t,variant:r="chrome"})=>{const[n,a]=o.useState("firefox"===r),l=o.useCallback((e=>{e.preventDefault(),a(!0),t&&t(e)}),[t]);return o.createElement(m,{alignSelf:"stretch",h:"auto",py:"2rem"},o.createElement(g,null,"Choose a shortcut for eesel"),o.createElement(p,null,"firefox"===r?"You can do that in the Firefox shortcut settings page:":"You can do that in the Chrome shortcut settings:"),o.createElement(b.x.div,{flexGrow:1,h:0},o.createElement(b.x.img,{alt:"Shortcuts settings",h:"100%",maxWidth:"60rem",objectFit:"contain",src:"firefox"===r?I:P})),o.createElement(h,null,o.createElement("div",null,o.createElement(d.z,{color:"text",onClick:l,shape:n?"text":"underlinedText",style:{textAlign:"center"}},"firefox"===r?"Learn how to change the shortcut":"Open chrome shortcut settings")),n&&o.createElement("div",{style:{flexGrow:1,textAlign:"right"}},o.createElement(d.z,{color:"text",onClick:e,shape:"underlinedText"},"Next"))))},z=({onClick:e})=>{const t=o.useCallback((async()=>{try{await(0,W.b)({payload:{url:(0,R.Mk)()},type:"openURL"})}catch(e){(0,A.H)(e)}}),[]);return o.createElement(L,{onNextClick:e,onSettingsClick:t})};var U=r(79740),N=r(8330),D=r(72358);const F=({onClick:e})=>o.createElement(m,null,o.createElement(D.Header,{position:"absolute",top:"0",w:"100%"}),o.createElement(g,null,"Your data privacy matters"),o.createElement(p,null,o.createElement(u.x.div,{margin:"auto",maxWidth:"60rem",pt:"3rem",px:"3rem",textAlign:"left"},"Privacy is at the heart of how we built eesel from the start. Before you use eesel, it’s important that you understand how eesel will work with your data.",o.createElement(u.x.p,{text:"strongBody"},"The core of eesel runs entirely locally and your sensitive data never leaves your browser."),"In particular, the URL, title, and the content of the webpages you decide to track with eesel will be stored only on your local machine and never be sent to a server. This is how you can search across specific webpages by title or content, and not compromise on privacy.",o.createElement(u.x.p,null,"In addition to that, eesel will make some server calls to:"),o.createElement(u.x.ul,{listStyleType:"circle",pl:"3rem"},o.createElement(u.x.li,null,"Collect some anonymous statistical data on your interactions like when you last used eesel, how many times you used it, or when you changed your settings."),o.createElement(u.x.li,null,"Send a bug report when you hit a major error with an error code and your anonymous user ID. In addition, we collect your email only if you decide to share it with us so we can follow up for support."),o.createElement(u.x.li,null,"Check whether you’re eligible for some in-product messaging to onboard, communicate on bugs, and announce features.")))),o.createElement(h,null,o.createElement(d.z,{color:"text",onClick:()=>e(!1),pr:"2rem",shape:"text"},"No thanks, uninstall eesel"),o.createElement(d.z,{color:"text",onClick:()=>e(!0),shape:"underlinedText"},"Got it, start using eesel"))),H=U.Ps`
  mutation OnboardingAnalyticsContainerUserUpdateMutation($input: UserInput!) {
    userUpdate(input: $input) {
      id
    }
  }
`,M=({onSuccess:e})=>{const[t]=(0,N.D)(H),r=o.useCallback((async r=>{try{r?(await t({variables:{input:{preference:{analytics:!0}}}}),null==e||e()):browser.management.uninstallSelf()}catch(e){(0,A.H)(e)}}),[e,t]);return o.createElement(F,{onClick:r})};var Y=r(17683);const Z=U.Ps`
  query UserQuery {
    user {
      id
      preference {
        analytics
      }
    }
  }
`,q=()=>{const{data:{user:e}={},error:t,refetch:r}=(0,Y.useQuery)(Z),d=(0,i.u)(),{appList:u}=(0,c.Z7)(),[b,m]=o.useState(!1),p=(0,n.k6)(),g=(0,n.TH)(),h=window.navigator.webdriver?1:80,y={alignItems:"center",bottom:0,display:"flex",flexGrow:1,justifyContent:"center",left:0,opacity:0,position:"absolute",right:0,top:0,transition:`opacity ${h}ms ease-in-out`,width:"100%"},E={entered:{opacity:1,position:"static"},entering:{opacity:0,position:"static"},exited:{opacity:0,position:"absolute"},exiting:{opacity:0,position:"absolute"}};if(o.useEffect((()=>{const t=(({bypassShortcut:e,appList:t,shortcut:r,user:o})=>{var n;return t&&!r.loading&&o?(null===(n=null==o?void 0:o.preference)||void 0===n?void 0:n.analytics)?r.data.keys||e?t.some((({id:e})=>e!==s.mY))?"/onboarding/setup-done":"/onboarding/no-document":"/onboarding/no-shortcut":"/onboarding/analytics":"/onboarding/setting-up"})({appList:u,bypassShortcut:b,shortcut:d,user:e});t!==g.pathname&&p.push(t)}),[b,p,g.pathname,u,d,e]),t)throw t;return o.createElement(a.Z,null,o.createElement(l.ZP,{appear:!0,in:!0,key:g.pathname,timeout:h},(e=>o.createElement("div",{style:Object.assign(Object.assign({},y),E[e])},o.createElement(n.rs,{location:g},o.createElement(n.AW,{exact:!0,path:"/onboarding/no-document"},o.createElement(f,null)),o.createElement(n.AW,{exact:!0,path:"/onboarding/setting-up"},o.createElement(w,null)),o.createElement(n.AW,{exact:!0,path:"/onboarding/setup-done"},o.createElement(T,null)),o.createElement(n.AW,{exact:!0,path:"/onboarding/analytics"},o.createElement(M,{onSuccess:r})),o.createElement(n.AW,{exact:!0,path:"/onboarding/no-shortcut"},o.createElement(z,{onClick:()=>{m(!0)}})))))))}}}]);
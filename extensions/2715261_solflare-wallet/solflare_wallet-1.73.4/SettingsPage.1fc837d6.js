"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["SettingsPage"],{"./src/pages/Settings/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>ye});var n=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-router/dist/index.js"),o=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.mjs"),c=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/constants/index.js"),d=s("../../libs/shared/dist/constants/routes.js"),u=s("../../libs/shared/dist/features/addressBook/hooks/index.js"),g=s("../../libs/shared/dist/assets/empty-settings.svg");const x=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.MAIN,{replace:!0})}),center:e("address_book_title")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(c.EmptyState,{illustration:(0,n.jsx)("img",{src:g,alt:"No contacts"}),action:(0,n.jsx)(c.Button,{onClick:()=>t(d.s2.ADDRESS_BOOK.ADD),width:"fitContent",children:e("address_book_add_contact")}),title:(0,n.jsx)(c.Title,{textAlign:"center",children:e("address_book_empty_title")}),children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:e("address_book_empty_subtitle")})})})]})};var h=s("../../libs/shared/dist/features/pfp/components/index.js"),j=s("../../libs/shared/dist/utils/isPublicKeyValid.js"),_=s("../../libs/shared/dist/utils/truncateMiddle.js");const p=(e,t)=>t||m(e),m=e=>(0,j.Z)(e)?(0,_.r)(e):e,b=({address:e,pubkey:t,handleChangeAddress:s,errors:i,isAddressValid:a,isValidatingAddress:l})=>{const{t:d}=(0,o.$)();return a&&!l?(0,n.jsx)(c.Input,{label:(0,n.jsx)(c.InputLabelV2,{label:d("address_book_column_address")}),left:(0,n.jsx)(h.y,{size:"s",publicKey:t,"data-id":"contact-avatar"}),disabled:!0,right:(0,n.jsx)(c.ActionableIcon,{size:"m",icon:r.YIN,onClick:e=>s("")}),value:m(e),hint:i&&(0,n.jsx)(c.InputHint,{variant:"error",hint:i})},"resolved address"):(0,n.jsx)(c.Input,{onChange:e=>s(e.target.value),label:(0,n.jsx)(c.InputLabelV2,{label:d("address_book_column_address")}),placeholder:d("address_book_new_contact_address_solana"),value:e??"",variant:i?"error":void 0,hint:i&&(0,n.jsx)(c.InputHint,{variant:"error",hint:i})},"address")},C=()=>(0,n.jsx)(c.ListSection,{title:(0,n.jsx)(c.Section,{variant:"m",children:(0,n.jsx)(c.SkeletonSectionTitle,{})}),children:(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(c.GeneralList,{noHorizontalPadding:!0,extractKey:e=>e,data:[1,2,3,4],renderItem:e=>(0,n.jsx)(c.SkeletonListItemWallets,{})})})}),k=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),s=(0,i.useRef)(null),{address:g,pubkey:x}=(0,a.UO)(),h="undefined"===g?void 0:g,{handleChangeName:j,handleChangeAddress:_,address:p,name:m,isSubmitEnabled:C,isValidatingAddress:k,errors:I,isAddressValid:A,resolvedAddress:v}=(0,u.L8)({initialAddress:h??x,initialName:"",isAdd:!0}),{handleSubmitAddContact:S,isAddingContact:f}=(0,u.TA)();return(0,i.useEffect)((()=>{s.current&&s.current.focus()}),[]),(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>{t(d.s2.ADDRESS_BOOK.MAIN,{replace:!0})}}),center:e("address_book_new_contact")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsxs)(c.FormSection,{children:[(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(c.Input,{ref:s,onChange:j,label:(0,n.jsx)(c.InputLabelV2,{label:e("address_book_new_contact_name")}),placeholder:e("address_book_new_contact_name"),maxLength:l.go,variant:I.name?"error":"default",hint:I.name&&(0,n.jsx)(c.InputHint,{variant:"error",hint:I.name})})}),(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(b,{handleChangeAddress:_,address:p,pubkey:v??p,errors:I.address,isAddressValid:A,isValidatingAddress:k})})]})}),(0,n.jsx)(c.FooterActions,{children:(0,n.jsx)(c.Button,{processing:k||f,disabled:!C,onClick:()=>C&&S(m,p),children:e("action_save")})})]})},I=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{address:s,name:g}=(0,a.UO)(),x=(0,i.useRef)(null),{handleChangeName:h,handleChangeAddress:j,address:_,isAddressValid:p,isSubmitEnabled:m,isValidatingAddress:C,errors:k,name:I,resolvedAddress:A}=(0,u.L8)({initialAddress:s,initialName:g}),{handleSubmitEditContact:v,isEditingContact:S}=(0,u.TA)();return(0,i.useEffect)((()=>{x.current&&x.current.focus()}),[]),(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.ADDRESS_BOOK.MAIN,{replace:!0})}),center:e("address_book_edit_contact")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsxs)(c.FormSection,{children:[(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(c.Input,{ref:x,value:I,maxLength:l.go,onChange:h,label:(0,n.jsx)(c.InputLabelV2,{label:e("address_book_new_contact_name")}),placeholder:e("address_book_new_contact_name"),variant:k.name?"error":"default",hint:k.name&&(0,n.jsx)(c.InputHint,{variant:"error",hint:k.name})})}),(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(b,{handleChangeAddress:j,address:_,pubkey:A??_,errors:k.address,isAddressValid:p,isValidatingAddress:C})})]})}),(0,n.jsx)(c.FooterActions,{children:(0,n.jsx)(c.Button,{disabled:!m,onClick:()=>m&&s&&v(I,_,s),processing:C||S,children:e("action_save")})})]})};var A=s("../../libs/shared/dist/features/addressBook/context/index.js"),v=s("../../libs/shared/dist/features/recentAddresses/constants.js"),S=s("../../libs/shared/dist/features/recentAddresses/context/index.js"),f=s("../../libs/shared/dist/features/walletData/hooks/index.js"),w=s("../../libs/shared/dist/hooks/index.js");const P=({removeItem:e})=>{const{t}=(0,o.$)(),{handleRemoveContact:s,handleRemoveRecent:a}=(0,u.TA)(),[r,l]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{e&&l(!0)}),[e]),(0,n.jsxs)(c.Drawer,{onOpenChange:()=>l(!1),open:r,children:[(0,n.jsx)(c.DrawerTitle,{center:t("action_delete_contact")}),(0,n.jsx)(c.Section,{children:(0,n.jsxs)(c.RemoveItemSection,{children:[(0,n.jsx)(c.Paragraph,{children:t("address_book_delete_confirm_message")}),(0,n.jsx)(c.SectionContainer,{children:(0,n.jsx)(c.ListItemApp,{variant:"narrow",image:(0,n.jsx)(h.y,{publicKey:e.pubkey,"data-id":"contact-avatar"}),name:e.name,address:m(e.address)})})]})}),(0,n.jsx)(c.DrawerActions,{children:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:()=>{l(!1)},children:t("action_cancel")}),(0,n.jsx)(c.Button,{variant:"destructive",onClick:async()=>{"contact"===e.type?await s(e.address):a(e.address,e.name),l(!1)},children:t("action_confirm")})]})})]})},y=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{openExplorer:s}=(0,w.Vf)(),{copy:l}=(0,w.c)(),{accounts:u}=(0,f.Rg)(),{addresses:g,isLoading:j}=(0,A.b)(),{addresses:_,isLoading:b}=(0,S.g)(),[k,I]=(0,i.useState)(null),y=(0,i.useMemo)((()=>_.filter((e=>!g.find((t=>t.address===(e.name??e.address)))&&!u.find((t=>t.publicKey===e.pubkey)))).slice(0,v.R)),[u,g,_]),E=(0,i.useMemo)((()=>[{data:g,searchFn:(e,t)=>{const s=t.toLowerCase();return e.name.toLowerCase().includes(s)||e.address.toLowerCase().includes(s)||e.pubkey.toLowerCase().includes(s)}},{data:y,searchFn:(e,t)=>{const s=t.toLowerCase();return e.address.toLowerCase().includes(s)||e.pubkey.toLowerCase().includes(s)||e.name?.toLowerCase().includes(s)}}]),[g,y]),{searchTerm:T,isEmptySearch:L,setSearchTerm:D,searchedData:[N,R]}=(0,w.rE)(E),M=j||b;return M||0!==g.length||0!==y.length?(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>{t(d.s2.MAIN,{replace:!0})}}),center:e("address_book_title"),right:(0,n.jsx)(c.ActionableIcon,{icon:r.r8p,size:"l",onClick:()=>t(d.s2.ADDRESS_BOOK.ADD)})}),(0,n.jsxs)(c.PageContent,{noHorizontalPadding:!0,children:[(0,n.jsxs)(c.AddressBookContent,{children:[(0,n.jsx)(c.Section,{variant:"m",children:(0,n.jsx)(c.InputSearch,{placeholder:e("action_search"),value:T,onChange:e=>D(e.currentTarget.value),onClear:()=>D(""),disabled:j})}),L?(0,n.jsx)(c.EmptyState,{children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:e("address_book_empty_search")})}):(0,n.jsx)(c.AddressBookContentSections,{children:M?(0,n.jsx)(C,{}):(0,n.jsxs)(n.Fragment,{children:[N.length>0&&(0,n.jsx)(c.ListSection,{title:(0,n.jsx)(c.Section,{variant:"m",children:(0,n.jsx)(c.SectionTitle,{title:e("contacts_title")})}),children:(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(c.GeneralList,{noHorizontalPadding:!0,extractKey:e=>e.address,data:N,renderItem:({address:i,pubkey:a,name:o},u)=>(0,n.jsx)(c.ListItemWallets,{onClick:()=>t(d.s2.ADDRESS_BOOK.EDIT(i,a,o)),avatar:(0,n.jsx)(h.y,{publicKey:a}),name:o,address:m(i),actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.ActionableIcon,{icon:r.kZ_,onClick:e=>{e.stopPropagation(),l(i)}}),(0,n.jsxs)(c.MoreOptions,{trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,onClick:e=>{e.stopPropagation()}}),children:[(0,n.jsx)(c.MoreOptionsItem,{icon:r.IwR,onClick:e=>{e.stopPropagation(),t(d.s2.ADDRESS_BOOK.EDIT(i,a,o))},children:e("address_book_edit_contact")}),(0,n.jsx)(c.MoreOptionsItem,{icon:r.gJF,onClick:()=>{s({type:"account",address:a})},children:e("action_view_on_explorer")}),(0,n.jsx)(c.DividerV2,{}),(0,n.jsx)(c.MoreOptionsItem,{variant:"destructive",icon:r.I7k,onClick:()=>{I({index:u,pubkey:a,address:i,name:o,type:"contact"})},children:e("action_delete")})]})]})})})})}),R.length>0&&(0,n.jsx)(c.ListSection,{title:(0,n.jsx)(c.Section,{variant:"m",children:(0,n.jsx)(c.SectionTitle,{title:e("recent_title")})}),children:(0,n.jsx)(c.Section,{variant:"fullWidth",children:(0,n.jsx)(c.GeneralList,{noHorizontalPadding:!0,extractKey:e=>e.name||e.pubkey,data:R,renderItem:({name:i,pubkey:a,address:o})=>(0,n.jsx)(c.ListItemRecentContact,{avatar:(0,n.jsx)(h.y,{publicKey:a}),address:p(o,i),actions:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Button,{variant:"secondary",size:"s",onClick:()=>{t(d.s2.ADDRESS_BOOK.ADD_RECENT(a,i))},children:e("action_add")}),(0,n.jsxs)(c.MoreOptions,{trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo}),children:[(0,n.jsx)(c.MoreOptionsItem,{icon:r.kZ_,onClick:()=>l(i||a),children:e("action_copy_address")}),(0,n.jsx)(c.MoreOptionsItem,{icon:r.gJF,onClick:()=>{s({type:"account",address:a})},children:e("action_view_on_explorer")}),(0,n.jsx)(c.DividerV2,{}),(0,n.jsx)(c.MoreOptionsItem,{icon:r.I7k,variant:"destructive",onClick:()=>{I({pubkey:a,address:o,name:i??void 0,type:"recent"})},children:e("action_delete")})]})]})})})})})]})})]}),k&&(0,n.jsx)(P,{removeItem:k})]})]}):(0,n.jsx)(x,{})},E=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(a.j3,{}),children:[{index:!0,element:(0,n.jsx)(y,{})},{path:"add/:pubkey/:address",element:(0,n.jsx)(k,{})},{path:"add",element:(0,n.jsx)(k,{})},{path:"edit/:address/:pubkey/:name",element:(0,n.jsx)(I,{})}]}]);var T=s("../../libs/shared/dist/features/currencies/constants.js"),L=s("../../libs/shared/dist/features/settings/index.js");const D=()=>{const{t:e}=(0,o.$)(),{currencies:t,current:s,changeCurrency:i}=(0,L.q)(),l=(0,a.s0)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>l(d.s2.GENERAL.MAIN,{replace:!0})}),center:e("settings_primary_currency_title")}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsList,{data:t.map((e=>({selected:e.ticker===s,title:e.name,avatar:(0,n.jsx)(c.ImageIcon,{size:"s",src:T.ih[e.ticker]}),onClick:()=>(async e=>{await i(e.ticker),l(d.s2.GENERAL.MAIN,{replace:!0})})(e),key:e.ticker})))})})]})},N=()=>{const{t:e}=(0,o.$)(),{current:t,languages:s,changeLanguage:i}=(0,L.ix)(),l=(0,a.s0)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>l(d.s2.GENERAL.MAIN,{replace:!0})}),center:e("settings_language")}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsList,{data:s.map((e=>({selected:e.id===t,title:e.label,avatar:(0,n.jsx)(c.ImageIcon,{size:"s",src:e.flag}),onClick:()=>(e=>{i(e.id),l(d.s2.GENERAL.MAIN,{replace:!0})})(e),key:e.id})))})})]})};var R=s("../../libs/shared/dist/features/currencies/hooks/index.js"),M=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),z=s("../../libs/shared/dist/features/localization/index.js");const O=()=>{const{t:e,i18n:t}=(0,o.$)(),s=(0,a.s0)(),i=(0,R.Af)(),l=z.M[t.language]?.label||z.M.en.label,u=(0,M.LN)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>s(d.s2.MAIN,{replace:!0})}),center:e("settings_main_general")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(c.SettingsList,{data:[{title:e("settings_language"),subtitle:l,avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.Z_X}),onClick:()=>s(d.s2.GENERAL.LANGUAGE)},{title:e("settings_primary_currency"),subtitle:i.name,avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.egO}),onClick:()=>s(d.s2.GENERAL.CURRENCY)},{title:e("network_title"),subtitle:u.name,avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.UkD}),onClick:()=>s(d.s2.GENERAL.NETWORK)}]})})]})};var U=s("../../libs/shared/dist/constants/networks.js");const B=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{current:s,changeNetwork:i}=(0,L.Q$)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.GENERAL.MAIN,{replace:!0})}),center:e("network_change_title")}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsList,{data:Object.keys(U.g5).map((e=>{const n=U.g5[e];return{selected:e===s,title:n.name,onClick:()=>(async e=>{await i(e)&&t(d.s2.GENERAL.MAIN,{replace:!0})})(e),key:e}}))})})]})},G=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(a.j3,{}),children:[{index:!0,element:(0,n.jsx)(O,{})},{path:"language",element:(0,n.jsx)(N,{})},{path:"currency",element:(0,n.jsx)(D,{})},{path:"network",element:(0,n.jsx)(B,{})}]}]);var F=s("../../libs/shared/dist/utils/tabs.js");const $=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),s=(0,M.LN)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.PageTitle,{center:e("header_settings"),textAlign:"left"}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(c.SettingsList,{data:[{title:e("settings_main_general"),subtitle:e("settings_main_general_description2"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.cRF}),onClick:()=>t(d.s2.GENERAL.MAIN)},{title:e("settings_address_book_header"),subtitle:e("settings_address_book_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.hVn}),onClick:()=>t(d.s2.ADDRESS_BOOK.MAIN)},...s.cluster===U.EE.mainnet?[{title:e("settings_notifications"),subtitle:e("settings_main_notifications_description2"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.qmU}),onClick:()=>t(d.s2.NOTIFICATIONS.MAIN)}]:[],{title:e("settings_main_security_privacy"),subtitle:e("settings_main_security_privacy_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.isG}),onClick:()=>t(d.s2.SECURITY.MAIN)},{title:e("support_settings_ext_title"),subtitle:e("support_settings_ext_subtitle"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.P_s}),children:(0,n.jsx)(c.ActionableIcon,{icon:r.gJF}),onClick:()=>window.open("https://academy.solflare.com/guides/?get_help=true","_blank")},{title:e("settings_main_expanded_view"),subtitle:e("settings_main_expanded_view_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.TL5}),children:(0,n.jsx)(c.ActionableIcon,{icon:r.gJF}),onClick:()=>(0,F.A)("/wallet.html#/portfolio")}]})})]})};var V=s("../../libs/shared/dist/features/settings/hooks/index.js"),Z=s("../../libs/shared/dist/features/settings/notifications/notificationPreferences.js");const Y=({preference:e,onClose:t})=>{const{t:s}=(0,o.$)(),[a,r]=(0,i.useState)("current"),{accountName:l}=(0,f.rT)(),{accounts:d}=(0,f.Rg)(),{setPreferenceEnabled:u}=(0,V.up)(),g=!e.enabled;return(0,n.jsxs)(c.Drawer,{open:!0,onOpenChange:t,children:[(0,n.jsx)(c.DrawerTitle,{center:s(g?"platform_notifications_subscribe":"platform_notifications_unsubscribe")}),(0,n.jsx)(c.DrawerContent,{children:(0,n.jsxs)(c.SubscribeNotifications,{children:[(0,n.jsx)(c.Section,{children:(0,n.jsxs)(c.Paragraph,{children:[s(g?"platform_notifications_get_notifications_for":"platform_notifications_stop_notifications_for"),":"]})}),(0,n.jsx)(c.Section,{children:(0,n.jsxs)(c.SubscribeNotifications,{children:[(0,n.jsx)(c.SubscribeListItem,{title:(0,Z.Zj)(e.id,s)}),d&&d.length>1&&(0,n.jsxs)(c.RadioButtonGroup,{name:"applyFor",value:a,onValueChange:r,children:[(0,n.jsx)(c.RadioButton,{id:"current",value:"current",label:(0,n.jsx)(c.RadioButtonLabel,{htmlFor:"current",children:l})}),(0,n.jsx)(c.RadioButton,{id:"all",value:"all",label:(0,n.jsx)(c.RadioButtonLabel,{htmlFor:"all",children:s("notifications_apply_all_wallets")})})]})]})})]})}),(0,n.jsx)(c.DrawerActions,{children:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:t,children:s("action_cancel")}),(0,n.jsx)(c.Button,{variant:g?"primary":"destructive",onClick:async s=>{s.preventDefault(),await u(e.id,!e.enabled,"all"===a),t()},children:s("action_confirm")})]})})]})},K=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{preferences:s}=(0,L.up)(),[l,u]=(0,i.useState)(null);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.NOTIFICATIONS.MAIN,{replace:!0})}),center:e("notifications_settings_activity_title")}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsContent,{children:(0,n.jsx)(c.SettingsList,{data:s.map((t=>({title:(0,Z.Zj)(t.id,e),subtitle:(0,Z.vv)(t.id,e),children:(0,n.jsx)(c.Toggle,{checked:t.enabled,onCheckedChange:()=>u(t)}),key:t.id})))})})})]}),!!l&&(0,n.jsx)(Y,{preference:l,onClose:()=>u(null)})]})};var H=s("../../libs/shared/dist/features/notifications/hooks/index.js");const W=()=>{const e=(0,a.s0)(),{t}=(0,o.$)(),{webPushEnabled:s,webPushBlocked:i}=(0,L.up)(),{setNotificationsEnabled:l}=(0,H.c)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>e(d.s2.MAIN,{replace:!0})}),center:t("notifications_settings_title")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(c.SettingsList,{data:[{title:t("settings_notification_push_notifications_title"),subtitle:t(i?"settings_notification_push_notifications_permission_required":"settings_notification_push_notifications_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.qmU}),children:(0,n.jsx)(c.Toggle,{disabled:i,checked:s,onCheckedChange:()=>l(!s)}),disabled:i},...s?[{title:t("notifications_settings_activity_title_lowercase"),subtitle:t("notifications_settings_activity_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.On6}),onClick:()=>e(d.s2.NOTIFICATIONS.ACTIVITY)}]:[]]})})]})},q=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(a.j3,{}),children:[{index:!0,element:(0,n.jsx)(W,{})},{path:"activity",element:(0,n.jsx)(K,{})}]}]);var J=s("../../libs/shared/dist/constants/autolock.js");const Q=()=>{const{t:e}=(0,o.$)(),{autoLock:t,changeAutoLock:s}=(0,M.ec)(),i=(0,a.s0)(),{locked:l}=(0,f.Rg)();return l?(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>i(d.s2.SECURITY.MAIN,{replace:!0})}),center:e("settings_security_autolock_header")}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsContent,{children:(0,n.jsx)(c.SettingsList,{data:J.GC.map(((e,n)=>({selected:e.value===t.time,title:e.label,onClick:()=>(e=>{s(e),i(d.s2.SECURITY.MAIN,{replace:!0})})(e.value),key:n})))})})})]}):(0,n.jsx)(a.Fg,{to:d.s2.SECURITY.MAIN,replace:!0})},X=(0,s("../../../node_modules/@mui/material/styles/styled.js").ZP)(c.Input)({"& input:-webkit-autofill":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:hover":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:focus":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"},"& input:-webkit-autofill:active":{transition:"background-color 9999s ease-in-out 0s, color 9999s ease-in-out 0s"}}),ee=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{values:s,setValue:l,errors:u,changePassword:g,disableSubmit:x,requireCurrentPassword:h}=(0,L.LN)(),[j,_]=(0,i.useState)({}),p=e=>{l(e.target.name,e.target.value)},m=e=>()=>{_((t=>({...t,[e]:!t[e]})))},b=e=>j[e]?r.Aq:r.Mdf;return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.SECURITY.MAIN,{replace:!0})}),center:e(h?"password_change":"settings_security_set_password")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsxs)(c.SettingsContent,{children:[h&&(0,n.jsx)(X,{autoFocus:!0,placeholder:e("form_current_password_lowercase"),type:j.currentPassword?"text":"password",name:"currentPassword",value:s.currentPassword,onChange:p,variant:u.currentPassword?"error":"default",hint:u.currentPassword&&(0,n.jsx)(c.Label,{error:!0,children:u.currentPassword}),right:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,icon:b("currentPassword"),onClick:m("currentPassword")})}),(0,n.jsx)(X,{autoFocus:!h,placeholder:e("form_new_password_lowercase"),type:j.newPassword?"text":"password",name:"newPassword",value:s.newPassword,onChange:p,variant:"newPassword"in u?"error":"default",hint:u.newPassword&&(0,n.jsx)(c.Label,{error:!0,children:u.newPassword}),right:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,icon:b("newPassword"),onClick:m("newPassword")})}),(0,n.jsx)(X,{placeholder:e("form_repeat_password_lowercase"),type:j.repeatPassword?"text":"password",name:"repeatPassword",value:s.repeatPassword,onChange:p,variant:"repeatPassword"in u?"error":"default",hint:u.repeatPassword&&(0,n.jsx)(c.Label,{error:!0,children:u.repeatPassword}),right:(0,n.jsx)(c.ActionableIcon,{tabIndex:-1,icon:b("repeatPassword"),onClick:m("repeatPassword")})})]})}),(0,n.jsx)(c.FooterActions,{children:(0,n.jsx)(c.Button,{disabled:x,onClick:async e=>{e.preventDefault(),await g()&&t(d.s2.SECURITY.MAIN,{replace:!0})},children:e("action_confirm")})})]})};var te=s("../../../node_modules/@fortawesome/free-brands-svg-icons/index.mjs"),se=s("../../libs/shared/dist/features/confirmDialog/context/index.js"),ne=s("../../libs/shared/dist/utils/featureFlags.js"),ie=s("../../libs/shared/dist/features/shared/snackbar/index.js"),ae=s("../../libs/shared/dist/storage/solflareService.js"),oe=s("../../libs/shared/dist/utils/extension.js"),re=s("../../libs/shared/dist/hooks/useLogout.js");const ce=({onCancel:e})=>{const{t}=(0,o.$)(),s=(0,re.a)(),[a,r]=(0,i.useState)(!1);return(0,n.jsxs)(c.Drawer,{onOpenChange:e,open:!0,children:[(0,n.jsx)(c.DrawerTitle,{center:t("header_settings_logout")}),(0,n.jsx)(c.DrawerContent,{children:(0,n.jsxs)(c.InformationSection,{children:[(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Alert,{variant:"error",title:t("unlock_and_forgot_clear_warning_card_header"),message:t("settings_security_log_out_error")})}),(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Paragraph,{children:t("settings_security_log_out_notice")})}),(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Control,{id:"logout-check",label:t("settings_security_log_out_checkbox_label"),action:(0,n.jsx)(c.Checkbox,{checked:a,onChange:e=>r(!!e.target.checked)})})})]})}),(0,n.jsx)(c.DrawerActions,{children:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:e,children:t("action_cancel")}),(0,n.jsx)(c.Button,{variant:"destructive",onClick:async e=>{e.preventDefault(),a&&(await s(),window.location.reload())},disabled:!a,children:t("action_logout")})]})})]})},le=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{lock:s}=(0,f.bg)(),{locked:l}=(0,f.Rg)(),{autoLock:u}=(0,M.ec)(),{isBalanceHidden:g,setHideBalancesEnabled:x}=(0,L.sC)(),{confirm:h}=(0,se.O)(),[j,_]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),{enqueueSnackbar:b}=(0,ie.Ds)();return(0,i.useEffect)((()=>{!async function(){const e=await ae.Z.solanaActions.get();m(e)}()}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.MAIN,{replace:!0})}),center:e("settings_main_security_privacy")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(c.SettingsList,{data:[{title:e("settings_security_trusted_apps"),subtitle:e("settings_security_trusted_apps_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.M7i}),onClick:()=>t(d.s2.SECURITY.TRUSTED_APPS.MAIN)},{title:e("settings_security_spending_approvals"),subtitle:e("settings_security_spending_approvals_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.nNP}),onClick:()=>t(d.s2.SECURITY.SPENDING_APPROVALS.MAIN)},{title:e("settings_signed_logs"),subtitle:e("settings_signed_logs_details_label2"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.tRW}),onClick:()=>t(d.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN)},...l?[{title:e("settings_security_autolock_header"),subtitle:u.enabled?J.qA[u.time]||`${u.time} minutes`:e("settings_security_autolock_disabled"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.U$5}),onClick:()=>t(d.s2.SECURITY.AUTO_LOCK)}]:[],{title:e("settings_security_hide_balances"),subtitle:e("settings_security_hide_balances_subtitle"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.Aq}),children:(0,n.jsx)(c.Toggle,{checked:g,onCheckedChange:e=>{x(e)}})},...oe.Qd?[]:[{title:e("solana_actions"),subtitle:e("solana_actions_enable"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:te.NCc}),children:(0,n.jsx)(c.Toggle,{checked:p,onCheckedChange:async()=>{await ae.Z.solanaActions.set(!p),m(!p),(async e=>{ne.Z.c("SettingsSecurity","SolanaActions",{areSolanaActionsEnabled:e},{},{areSolanaActionsEnabled:e})})(!p),b(e("solana_actions_refresh_page"),{variant:"info",autoHideDuration:5e3})}})}],{title:e(l?"settings_security_change_password":"settings_security_set_password"),subtitle:e(l?"settings_security_change_password_description":"settings_security_set_password_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.DD4}),onClick:()=>t(d.s2.SECURITY.CHANGE_PASSWORD)},...l?[{title:e("action_lock"),subtitle:e("settings_security_lock_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.bkV}),onClick:async()=>{await s(),window.close()}}]:[],{title:e("action_logout"),subtitle:e("settings_security_anonymous_log_out"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.ZhI}),onClick:async()=>{const t=await h({title:e("header_settings_logout"),message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Alert,{title:e("unlock_and_forgot_caution_warning_card_header"),variant:"warning",message:e("settings_main_security_privacy_log_out_caution")})}),(0,n.jsx)(c.Section,{children:(0,n.jsx)(c.Paragraph,{children:e("settings_main_security_privacy_log_out_caution_description")})})]}),confirmButtonText:e("action_continue"),cancelButtonText:e("action_cancel")});_(t)}}]})})]}),j&&(0,n.jsx)(ce,{onCancel:()=>_(!1)})]})};var de=s("../../libs/shared/dist/utils/humanDate.js");const ue=()=>{const{t:e}=(0,o.$)(),{slug:t}=(0,w.nc)(["slug"]),{copy:s}=(0,w.c)(),l=(0,a.s0)(),{isLoading:u,logs:g,removeLog:x}=(0,L.nO)(),h=(0,i.useMemo)((()=>g.find((e=>e.id===t))),[g,t]);return u?null:h?(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>l(d.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,{replace:!0})}),center:h.title||h.origin,right:(0,n.jsx)(c.DropdownMenu,{modal:!1,trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.I7k,onClick:async()=>{await x(h)&&l(d.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,{replace:!0})},variant:"destructive",children:e("action_remove_message")})})}),(0,n.jsxs)(c.PageContent,{overflow:!0,children:[(0,n.jsx)(c.DetailsSectionRow,{title:(0,n.jsx)(c.SectionTitle,{title:e("table_date")}),content:(0,de.ZR)(1e3*h.timestamp)}),(0,n.jsx)(c.DetailsSectionRow,{title:(0,n.jsx)(c.SectionTitle,{title:e("table_website")}),content:(0,n.jsxs)(n.Fragment,{children:[h.origin,(0,n.jsx)(c.ActionableIcon,{onClick:()=>window.open(h.origin,"_blank"),icon:r.gJF,size:"s"})]})}),(0,n.jsx)(c.TxErrorMessage,{title:(0,n.jsx)(c.SectionTitle,{title:e("transaction_message")}),actions:(0,n.jsx)(c.Button,{size:"s",variant:"tertiary",left:(0,n.jsx)(c.Icon,{icon:r.kZ_,size:"s"}),onClick:()=>{s(h.message)},children:e("action_copy")}),children:(0,n.jsx)(c.Paragraph,{children:h.message})})]})]}):(0,n.jsx)(a.Fg,{to:d.s2.SECURITY.SIGNED_MESSAGES_LOGS.MAIN,replace:!0})};var ge=s("../../libs/shared/dist/components/index.js");const xe=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{isLoading:s,logs:i,removeAll:l,removeLog:u}=(0,L.nO)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>t(d.s2.SECURITY.MAIN,{replace:!0})}),center:e("settings_signed_messages_log"),right:s||i.length>0&&(0,n.jsx)(c.DropdownMenu,{modal:!1,trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.I7k,onClick:l,variant:"destructive",children:e("action_remove_all")})})}),(0,n.jsx)(c.PageContent,{children:s?null:s||0!==i.length?(0,n.jsx)(c.DateGroupedVirtualGeneralList,{data:i.map((e=>({...e,date:new Date(1e3*e.timestamp)}))),extractKey:e=>e.date.toISOString(),renderDate:e=>(0,de.pz)(e.getTime()),renderItem:s=>(0,n.jsx)(c.SettingsListItem,{title:s.title||s.origin,subtitle:s.title?s.origin:void 0,avatar:(0,n.jsx)(ge.iB,{host:s.origin}),onClick:()=>t(d.s2.SECURITY.SIGNED_MESSAGES_LOGS.DETAILS(encodeURIComponent(s.id))),children:(0,n.jsx)(c.DropdownMenu,{trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.I7k,onClick:()=>{u(s)},variant:"destructive",children:e("action_remove_message")})})})}):(0,n.jsx)(c.EmptyState,{illustration:(0,n.jsx)("img",{src:g,alt:"No signed message logs approvals"}),children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:e("settings_signed_logs_empty_extension")})})})]})},he=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(L.Qh,{children:(0,n.jsx)(a.j3,{})}),children:[{index:!0,element:(0,n.jsx)(xe,{})},{path:":slug",element:(0,n.jsx)(ue,{})}]}]);var je=s("../../libs/shared/dist/utils/displayPrice.js");const _e=()=>{const{t:e}=(0,o.$)(),t=(0,a.s0)(),{items:s,itemsById:r,isLoading:l}=(0,V.o4)(),{mode:u,selected:x,setSelected:h}=(0,V.L7)(),j="select"===u||x.size>0,p=(0,i.useCallback)((e=>()=>{h((t=>(t.has(e)?t.delete(e):t.set(e,!0),new Map(t))))}),[h]),m=(0,i.useCallback)((e=>{if(!j)return()=>{t(d.s2.SECURITY.SPENDING_APPROVALS.DETAILS(e))}}),[t,j]);return l?(0,n.jsx)(c.GeneralList,{data:Array.from({length:5}).map(((e,t)=>t)),renderItem:()=>(0,n.jsx)(c.DelegationCenterListItem,{isLoading:!0}),extractKey:e=>e}):0===s.length?(0,n.jsx)(c.EmptyState,{illustration:(0,n.jsx)("img",{src:g,alt:"No spending approvals"}),children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:e("settings_security_spending_approvals_empty")})}):(0,n.jsx)(c.GeneralList,{data:s,renderItem:e=>{const{type:t,tokenId:s,info:i,delegation:a}=r[e];return(0,n.jsx)(c.DelegationCenterListItem,{image:i.image??void 0,title:i.name||(0,_.r)(s),address:(0,_.r)(a.address),amount:"token"===t?(0,je.ED)({amount:a.uiAmount,displayType:"amount",pricePerCoin:i.price||0}):void 0,imageVariant:"nft"===t?"square":"circle",onClick:m(e),selectable:j,checked:!!x.get(e),onCheckClick:p(e)})},extractKey:e=>e})},pe=()=>{const{t:e}=(0,o.$)(),{items:t}=(0,V.o4)(),{selected:s,mode:i,setMode:a,setSelected:l}=(0,V.L7)(),d="select"===i||0!==s.size;return(0,n.jsxs)(c.DropdownMenu,{trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:[!d&&(0,n.jsx)(c.DropdownMenuItem,{size:"s",onClick:()=>a("select"),children:e("action_select")}),s.size!==t.length&&(0,n.jsx)(c.DropdownMenuItem,{size:"s",onClick:()=>{l(new Map(t.map((e=>[e,!0]))))},children:e("action_select_all")}),d&&s.size>0&&(0,n.jsx)(c.DropdownMenuItem,{size:"s",onClick:()=>{l(new Map),a("none")},children:e("action_deselect_all")})]})},me=()=>{const e=(0,a.s0)(),{t}=(0,o.$)(),{isLoading:s,items:l,revokeMultiple:u}=(0,L.o4)(),{mode:g,selected:x,setMode:h,setSelected:j}=(0,L.L7)(),_=(0,i.useCallback)((async()=>{0!==x.size&&(await u(Array.from(x.keys())),j(new Map),h("none"))}),[x,u,j,h]),p=(0,i.useCallback)((()=>{h("none"),j(new Map)}),[h,j]),m="select"===g||x.size>0;return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>e(d.s2.SECURITY.MAIN,{replace:!0})}),center:t("settings_security_spending_approvals_title"),right:(s||0!==l.length)&&(0,n.jsx)(pe,{})}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(_e,{})}),m&&(0,n.jsx)(c.FooterActions,{variant:"fixed",children:(0,n.jsxs)(c.ButtonGroup,{children:[(0,n.jsx)(c.Button,{variant:"secondary",onClick:p,children:t("action_cancel")}),(0,n.jsx)(c.Button,{variant:"destructive",onClick:_,disabled:0===x.size,children:t("action_revoke")})]})})]})};var be=s("../../libs/shared/dist/hooks/useResizedImage.js");const Ce=()=>{const e=(0,a.s0)(),{address:t}=(0,w.nc)(["address"]),{openExplorer:s}=(0,w.Vf)(),{copy:i}=(0,w.c)(),{isLoading:l,itemsById:u,revoke:g}=(0,L.o4)(),{t:x}=(0,o.$)(),j=u[t],{url:p}=(0,be.j)(j?.info?.image);return l?null:j?(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>e(d.s2.SECURITY.SPENDING_APPROVALS.MAIN,{replace:!0})}),center:j.info.name||(0,_.r)(j.tokenId),right:(0,n.jsx)(c.DropdownMenu,{modal:!1,trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:(0,n.jsx)(c.DropdownMenuItem,{size:"s",onClick:()=>s({type:"token",address:j.address}),children:x("action_view_in_explorer")})})}),(0,n.jsxs)(c.PageContent,{children:[(0,n.jsx)(c.DetailsSectionRow,{title:(0,n.jsx)(c.SectionTitle,{title:"nft"===j.type?x("table_collectible"):x("table_token")}),content:(0,n.jsxs)(n.Fragment,{children:["nft"===j.type?(0,n.jsx)(c.NFTAvatar,{src:p,size:"s"}):(0,n.jsx)(ge.yY,{src:p,verified:j.info.verified,size:"s"}),j.info.name||(0,_.r)(j.tokenId)]})}),(0,n.jsx)(c.Divider,{}),(0,n.jsx)(c.DetailsSectionRow,{title:(0,n.jsx)(c.SectionTitle,{title:x("table_amount")}),content:(0,je.ED)({amount:j.delegation.uiAmount,displayType:"amount",pricePerCoin:j.info.price||0,suffix:"token"===j.type&&j.info.symbol?` ${j.info.symbol}`:""})}),(0,n.jsx)(c.Divider,{}),(0,n.jsx)(c.DetailsSectionRow,{title:(0,n.jsx)(c.SectionTitle,{title:x("table_address")}),content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.y,{publicKey:j.delegation.address,size:"s"}),(0,_.r)(j.delegation.address),(0,n.jsx)(c.ActionableIcon,{size:"s",icon:r.kZ_,onClick:()=>i(j.delegation.address)})]})})]}),(0,n.jsx)(c.FooterActions,{children:(0,n.jsx)(c.Button,{variant:"destructive",onClick:async s=>{s.preventDefault(),await g(t),e(d.s2.SECURITY.SPENDING_APPROVALS.MAIN,{replace:!0})},children:x("action_revoke")})})]}):(0,n.jsx)(a.Fg,{to:d.s2.SECURITY.SPENDING_APPROVALS.MAIN,replace:!0})},ke=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(L.K7,{children:(0,n.jsx)(a.j3,{})}),children:[{index:!0,element:(0,n.jsx)(L.XB,{children:(0,n.jsx)(me,{})})},{path:":address",element:(0,n.jsx)(Ce,{})}]}]);var Ie=s("../../libs/shared/dist/features/shared/autoApproveApps/index.js");const Ae=()=>{const{t:e}=(0,o.$)(),{origin:t}=(0,w.nc)(["origin"]),s=(0,a.s0)(),i=decodeURIComponent(t),{appsByOrigin:l,setAppAutoConnect:u,setAppAutoApprove:g,canChangeAutoApprove:x,removeApp:h}=(0,L.Ql)(),j=x(i),_=l[i];return _?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>s(d.s2.SECURITY.TRUSTED_APPS.MAIN,{replace:!0})}),center:_.title||_.origin,right:(0,n.jsxs)(c.DropdownMenu,{modal:!1,trigger:(0,n.jsx)(c.ActionableIcon,{icon:r.Uwo,size:"l"}),children:[(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.gJF,onClick:()=>window.open(_.origin,"_blank","noopener noreferrer"),children:e("action_open_app")}),(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.I7k,onClick:async()=>{await h(_)&&s(d.s2.SECURITY.TRUSTED_APPS.MAIN,{replace:!0})},variant:"destructive",children:e("action_remove_app")})]})}),(0,n.jsx)(c.PageContent,{overflow:!0,children:(0,n.jsx)(c.SettingsContent,{children:(0,n.jsx)(c.SettingsList,{data:[{title:e("settings_trusted_apps_options_autoconnect"),subtitle:e("settings_trusted_apps_options_autoconnect_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.nNP}),children:(0,n.jsx)(c.Toggle,{checked:_.autoConnect,onCheckedChange:()=>u(i,!_.autoConnect)})},{disabled:!j,title:e("settings_trusted_apps_options_autoapprove"),subtitle:e(j?"settings_trusted_apps_options_autoapprove_description_burner":"settings_trusted_apps_options_autoapprove_description"),avatar:(0,n.jsx)(c.Icon,{size:"l",icon:r.BDt}),children:(0,n.jsx)(c.Toggle,{disabled:!j,checked:_.autoApprove,onCheckedChange:()=>g(i,!_.autoApprove)})}]})})})]})}):(0,n.jsx)(a.Fg,{to:d.s2.SECURITY.TRUSTED_APPS.MAIN,replace:!0})};var ve=s("../../../node_modules/lodash/lodash.js");const Se=({isLoading:e})=>{const{t}=(0,o.$)(),s=(0,a.s0)(),[l,u]=(0,i.useState)(""),{apps:x,removeApp:h}=(0,L.Ql)(),j=(0,i.useMemo)((()=>{const e=l.trim().toLowerCase();let t=x;return e&&(t=x.filter((t=>t.origin?.toLowerCase()?.includes(e)||t.title?.toLowerCase()?.includes(e)))),(0,ve.orderBy)(t.map((e=>{return{...e,originalOrigin:e.origin,origin:(t=e.origin,t.replace(/^https?:\/\//,"")),logoUrl:e.logoUrl||`https://www.google.com/s2/favicons?domain=${e.origin}&sz=128`,lastConnected:e.lastConnected||0};var t})),["lastConnected"],["desc"])}),[x,l]);return e||0!==x.length?(0,n.jsxs)(c.ManageAppsContent,{children:[!e&&(0,n.jsx)(c.InputSearch,{value:l,onChange:e=>u(e.currentTarget.value),onClear:()=>u(""),placeholder:t("form_search_placeholder")}),0===j.length?(0,n.jsx)(c.EmptyState,{children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:t("settings_trusted_apps_search_empty_message")})}):(0,n.jsx)(c.AppList,{data:j,onAppClick:e=>s(d.s2.SECURITY.TRUSTED_APPS.DETAILS(encodeURIComponent(e.originalOrigin)),{replace:!0}),renderRight:e=>(0,n.jsxs)(c.DropdownMenu,{trigger:(0,n.jsx)(c.AppConfigButton,{}),children:[(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.gJF,onClick:()=>window.open(e.originalOrigin,"_blank","noopener noreferrer"),children:t("action_open_app")}),(0,n.jsx)(c.DropdownMenuItem,{size:"s",icon:r.I7k,onClick:()=>h({...e,origin:e.originalOrigin}),variant:"destructive",children:t("action_remove_app")})]})})]}):(0,n.jsx)(c.EmptyState,{illustration:(0,n.jsx)("img",{src:g,alt:"No trusted apps"}),children:(0,n.jsx)(c.Paragraph,{textAlign:"center",children:t("settings_trusted_apps_empty_message")})})},fe=({isLoading:e})=>{const{t}=(0,o.$)(),s=(0,a.s0)();return(0,n.jsxs)(c.PagePortal,{children:[(0,n.jsx)(c.PageTitle,{left:(0,n.jsx)(c.ActionableIcon,{icon:r.acZ,size:"l",onClick:()=>s(d.s2.SECURITY.MAIN,{replace:!0})}),center:t("settings_security_trusted_apps_title")}),(0,n.jsx)(c.PageContent,{children:(0,n.jsx)(Se,{isLoading:e})})]})},we=()=>{const[e,t]=(0,i.useState)(!1);(0,Ie.L)();const{loadTrustedApps:s}=(0,L.ks)();return(0,i.useEffect)((()=>{s().then((()=>t(!0)))}),[s]),(0,a.V$)([{path:"",children:[{index:!0,element:(0,n.jsx)(fe,{isLoading:!e})},{path:":origin",element:(0,n.jsx)(Ae,{})}]}])},Pe=()=>(0,a.V$)([{path:"",element:(0,n.jsx)(a.j3,{}),children:[{index:!0,element:(0,n.jsx)(le,{})},{path:"trusted/*",element:(0,n.jsx)(we,{})},{path:"spending-approvals/*",element:(0,n.jsx)(ke,{})},{path:"logs/*",element:(0,n.jsx)(he,{})},{path:"autoLock",element:(0,n.jsx)(Q,{})},{path:"changePassword",element:(0,n.jsx)(ee,{})}]}]),ye=()=>(0,a.V$)([{index:!0,element:(0,n.jsx)($,{})},{path:"general/*",element:(0,n.jsx)(G,{})},{path:"notifications/*",element:(0,n.jsx)(q,{})},{path:"security/*",element:(0,n.jsx)(Pe,{})},{path:"address-book/*",element:(0,n.jsx)(E,{})}])},"../../libs/shared/dist/assets/empty-settings.svg":(e,t,s)=>{e.exports=s.p+"assets/empty-settings.22173c85..svg"}}]);
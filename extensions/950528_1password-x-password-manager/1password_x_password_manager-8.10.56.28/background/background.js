
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="db9f5c64-956d-5763-aac1-78e39db931a6")}catch(e){}}();
var Ele=Object.create;var s5=Object.defineProperty;var afA=Object.getOwnPropertyDescriptor;var xle=Object.getOwnPropertyNames;var ble=Object.getPrototypeOf,yle=Object.prototype.hasOwnProperty;var X8=(A=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(A,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):A)(function(A){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+A+'" is not supported')});var mA=(A,e)=>()=>(e||A((e={exports:{}}).exports,e),e.exports),Na=(A,e)=>{for(var t in e)s5(A,t,{get:e[t],enumerable:!0})},vle=(A,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of xle(e))!yle.call(A,a)&&a!==t&&s5(A,a,{get:()=>e[a],enumerable:!(r=afA(e,a))||r.enumerable});return A};var AA=(A,e,t)=>(t=A!=null?Ele(ble(A)):{},vle(e||!A||!A.__esModule?s5(t,"default",{value:A,enumerable:!0}):t,A));var ed=(A,e,t,r)=>{for(var a=r>1?void 0:r?afA(e,t):e,j=A.length-1,n;j>=0;j--)(n=A[j])&&(a=(r?n(e,t,a):n(a))||a);return r&&a&&s5(e,t,a),a},mF=(A,e)=>(t,r)=>e(t,r,A);var ifA=mA((PJ,nfA)=>{(function(A,e){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],e);else if(typeof PJ<"u")e(nfA);else{var t={exports:{}};e(t),A.browser=t.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:PJ,function(A){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let e="The message port closed before a response was received.",t=r=>{let a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class j extends WeakMap{constructor(O,I=void 0){super(I),this.createItem=O}get(O){return this.has(O)||this.set(O,this.createItem(O)),super.get(O)}}let n=T=>T&&typeof T=="object"&&typeof T.then=="function",i=(T,O)=>(...I)=>{r.runtime.lastError?T.reject(new Error(r.runtime.lastError.message)):O.singleCallbackArg||I.length<=1&&O.singleCallbackArg!==!1?T.resolve(I[0]):T.resolve(I)},o=T=>T==1?"argument":"arguments",s=(T,O)=>function(q,...K){if(K.length<O.minArgs)throw new Error(`Expected at least ${O.minArgs} ${o(O.minArgs)} for ${T}(), got ${K.length}`);if(K.length>O.maxArgs)throw new Error(`Expected at most ${O.maxArgs} ${o(O.maxArgs)} for ${T}(), got ${K.length}`);return new Promise((aA,nA)=>{if(O.fallbackToNoCallback)try{q[T](...K,i({resolve:aA,reject:nA},O))}catch(lA){console.warn(`${T} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,lA),q[T](...K),O.fallbackToNoCallback=!1,O.noCallback=!0,aA()}else O.noCallback?(q[T](...K),aA()):q[T](...K,i({resolve:aA,reject:nA},O))})},c=(T,O,I)=>new Proxy(O,{apply(q,K,aA){return I.call(K,T,...aA)}}),u=Function.call.bind(Object.prototype.hasOwnProperty),p=(T,O={},I={})=>{let q=Object.create(null),K={has(nA,lA){return lA in T||lA in q},get(nA,lA,qA){if(lA in q)return q[lA];if(!(lA in T))return;let UA=T[lA];if(typeof UA=="function")if(typeof O[lA]=="function")UA=c(T,T[lA],O[lA]);else if(u(I,lA)){let le=s(lA,I[lA]);UA=c(T,T[lA],le)}else UA=UA.bind(T);else if(typeof UA=="object"&&UA!==null&&(u(O,lA)||u(I,lA)))UA=p(UA,O[lA],I[lA]);else if(u(I,"*"))UA=p(UA,O[lA],I["*"]);else return Object.defineProperty(q,lA,{configurable:!0,enumerable:!0,get(){return T[lA]},set(le){T[lA]=le}}),UA;return q[lA]=UA,UA},set(nA,lA,qA,UA){return lA in q?q[lA]=qA:T[lA]=qA,!0},defineProperty(nA,lA,qA){return Reflect.defineProperty(q,lA,qA)},deleteProperty(nA,lA){return Reflect.deleteProperty(q,lA)}},aA=Object.create(T);return new Proxy(aA,K)},h=T=>({addListener(O,I,...q){O.addListener(T.get(I),...q)},hasListener(O,I){return O.hasListener(T.get(I))},removeListener(O,I){O.removeListener(T.get(I))}}),f=new j(T=>typeof T!="function"?T:function(I){let q=p(I,{},{getContent:{minArgs:0,maxArgs:0}});T(q)}),G=new j(T=>typeof T!="function"?T:function(I,q,K){let aA=!1,nA,lA=new Promise(yA=>{nA=function(we){aA=!0,yA(we)}}),qA;try{qA=T(I,q,nA)}catch(yA){qA=Promise.reject(yA)}let UA=qA!==!0&&n(qA);if(qA!==!0&&!UA&&!aA)return!1;let le=yA=>{yA.then(we=>{K(we)},we=>{let ge;we&&(we instanceof Error||typeof we.message=="string")?ge=we.message:ge="An unexpected error occurred",K({__mozWebExtensionPolyfillReject__:!0,message:ge})}).catch(we=>{console.error("Failed to send onMessage rejected reply",we)})};return le(UA?qA:lA),!0}),w=({reject:T,resolve:O},I)=>{r.runtime.lastError?r.runtime.lastError.message===e?O():T(new Error(r.runtime.lastError.message)):I&&I.__mozWebExtensionPolyfillReject__?T(new Error(I.message)):O(I)},y=(T,O,I,...q)=>{if(q.length<O.minArgs)throw new Error(`Expected at least ${O.minArgs} ${o(O.minArgs)} for ${T}(), got ${q.length}`);if(q.length>O.maxArgs)throw new Error(`Expected at most ${O.maxArgs} ${o(O.maxArgs)} for ${T}(), got ${q.length}`);return new Promise((K,aA)=>{let nA=w.bind(null,{resolve:K,reject:aA});q.push(nA),I.sendMessage(...q)})},E={devtools:{network:{onRequestFinished:h(f)}},runtime:{onMessage:h(G),onMessageExternal:h(G),sendMessage:y.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:y.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},$={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":$},services:{"*":$},websites:{"*":$}},p(r,E,a)};A.exports=t(chrome)}else A.exports=globalThis.browser})});var Ah=mA(sr=>{"use strict";var wle=sr&&sr.__spreadArray||function(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))};Object.defineProperty(sr,"__esModule",{value:!0});sr.dual=sr.getEndomorphismMonoid=sr.not=sr.SK=sr.hole=sr.pipe=sr.untupled=sr.tupled=sr.absurd=sr.decrement=sr.increment=sr.tuple=sr.flow=sr.flip=sr.constVoid=sr.constUndefined=sr.constNull=sr.constFalse=sr.constTrue=sr.constant=sr.unsafeCoerce=sr.identity=sr.apply=sr.getRing=sr.getSemiring=sr.getMonoid=sr.getSemigroup=sr.getBooleanAlgebra=void 0;var qle=function(A){return function(){return{meet:function(e,t){return function(r){return A.meet(e(r),t(r))}},join:function(e,t){return function(r){return A.join(e(r),t(r))}},zero:function(){return A.zero},one:function(){return A.one},implies:function(e,t){return function(r){return A.implies(e(r),t(r))}},not:function(e){return function(t){return A.not(e(t))}}}}};sr.getBooleanAlgebra=qle;var $le=function(A){return function(){return{concat:function(e,t){return function(r){return A.concat(e(r),t(r))}}}}};sr.getSemigroup=$le;var Ile=function(A){var e=(0,sr.getSemigroup)(A);return function(){return{concat:e().concat,empty:function(){return A.empty}}}};sr.getMonoid=Ile;var Ple=function(A){return{add:function(e,t){return function(r){return A.add(e(r),t(r))}},zero:function(){return A.zero},mul:function(e,t){return function(r){return A.mul(e(r),t(r))}},one:function(){return A.one}}};sr.getSemiring=Ple;var Sle=function(A){var e=(0,sr.getSemiring)(A);return{add:e.add,mul:e.mul,one:e.one,zero:e.zero,sub:function(t,r){return function(a){return A.sub(t(a),r(a))}}}};sr.getRing=Sle;var Cle=function(A){return function(e){return e(A)}};sr.apply=Cle;function CJ(A){return A}sr.identity=CJ;sr.unsafeCoerce=CJ;function W8(A){return function(){return A}}sr.constant=W8;sr.constTrue=W8(!0);sr.constFalse=W8(!1);sr.constNull=W8(null);sr.constUndefined=W8(void 0);sr.constVoid=sr.constUndefined;function Ole(A){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length>1?A(e[1],e[0]):function(r){return A(r)(e[0])}}}sr.flip=Ole;function ofA(A,e,t,r,a,j,n,i,o){switch(arguments.length){case 1:return A;case 2:return function(){return e(A.apply(this,arguments))};case 3:return function(){return t(e(A.apply(this,arguments)))};case 4:return function(){return r(t(e(A.apply(this,arguments))))};case 5:return function(){return a(r(t(e(A.apply(this,arguments)))))};case 6:return function(){return j(a(r(t(e(A.apply(this,arguments))))))};case 7:return function(){return n(j(a(r(t(e(A.apply(this,arguments)))))))};case 8:return function(){return i(n(j(a(r(t(e(A.apply(this,arguments))))))))};case 9:return function(){return o(i(n(j(a(r(t(e(A.apply(this,arguments)))))))))}}}sr.flow=ofA;function Tle(){for(var A=[],e=0;e<arguments.length;e++)A[e]=arguments[e];return A}sr.tuple=Tle;function _le(A){return A+1}sr.increment=_le;function Dle(A){return A-1}sr.decrement=Dle;function sfA(A){throw new Error("Called `absurd` function which should be uncallable")}sr.absurd=sfA;function zle(A){return function(e){return A.apply(void 0,e)}}sr.tupled=zle;function Mle(A){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return A(e)}}sr.untupled=Mle;function Rle(A,e,t,r,a,j,n,i,o){switch(arguments.length){case 1:return A;case 2:return e(A);case 3:return t(e(A));case 4:return r(t(e(A)));case 5:return a(r(t(e(A))));case 6:return j(a(r(t(e(A)))));case 7:return n(j(a(r(t(e(A))))));case 8:return i(n(j(a(r(t(e(A)))))));case 9:return o(i(n(j(a(r(t(e(A))))))));default:{for(var s=arguments[0],c=1;c<arguments.length;c++)s=arguments[c](s);return s}}}sr.pipe=Rle;sr.hole=sfA;var Kle=function(A,e){return e};sr.SK=Kle;function Lle(A){return function(e){return!A(e)}}sr.not=Lle;var Nle=function(){return{concat:function(A,e){return ofA(A,e)},empty:CJ}};sr.getEndomorphismMonoid=Nle;var Ule=function(A,e){var t=typeof A=="number"?function(r){return r.length>=A}:A;return function(){var r=Array.from(arguments);return t(arguments)?e.apply(this,r):function(a){return e.apply(void 0,wle([a],r,!1))}}};sr.dual=Ule});var J8=mA(fr=>{"use strict";var Hle=fr&&fr.__spreadArray||function(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))};Object.defineProperty(fr,"__esModule",{value:!0});fr.flatMapReader=fr.flatMapTask=fr.flatMapIO=fr.flatMapEither=fr.flatMapOption=fr.flatMapNullable=fr.liftOption=fr.liftNullable=fr.fromReadonlyNonEmptyArray=fr.has=fr.emptyRecord=fr.emptyReadonlyArray=fr.tail=fr.head=fr.isNonEmpty=fr.singleton=fr.right=fr.left=fr.isRight=fr.isLeft=fr.some=fr.none=fr.isSome=fr.isNone=void 0;var pF=Ah(),Vle=function(A){return A._tag==="None"};fr.isNone=Vle;var Xle=function(A){return A._tag==="Some"};fr.isSome=Xle;fr.none={_tag:"None"};var Wle=function(A){return{_tag:"Some",value:A}};fr.some=Wle;var Jle=function(A){return A._tag==="Left"};fr.isLeft=Jle;var Yle=function(A){return A._tag==="Right"};fr.isRight=Yle;var Zle=function(A){return{_tag:"Left",left:A}};fr.left=Zle;var Qle=function(A){return{_tag:"Right",right:A}};fr.right=Qle;var A6e=function(A){return[A]};fr.singleton=A6e;var e6e=function(A){return A.length>0};fr.isNonEmpty=e6e;var t6e=function(A){return A[0]};fr.head=t6e;var r6e=function(A){return A.slice(1)};fr.tail=r6e;fr.emptyReadonlyArray=[];fr.emptyRecord={};fr.has=Object.prototype.hasOwnProperty;var a6e=function(A){return Hle([A[0]],A.slice(1),!0)};fr.fromReadonlyNonEmptyArray=a6e;var j6e=function(A){return function(e,t){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var j=e.apply(void 0,r);return A.fromEither(j==null?(0,fr.left)(t.apply(void 0,r)):(0,fr.right)(j))}}};fr.liftNullable=j6e;var n6e=function(A){return function(e,t){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var j=e.apply(void 0,r);return A.fromEither((0,fr.isNone)(j)?(0,fr.left)(t.apply(void 0,r)):(0,fr.right)(j.value))}}};fr.liftOption=n6e;var i6e=function(A,e){return(0,pF.dual)(3,function(t,r,a){return e.flatMap(t,(0,fr.liftNullable)(A)(r,a))})};fr.flatMapNullable=i6e;var o6e=function(A,e){return(0,pF.dual)(3,function(t,r,a){return e.flatMap(t,(0,fr.liftOption)(A)(r,a))})};fr.flatMapOption=o6e;var s6e=function(A,e){return(0,pF.dual)(2,function(t,r){return e.flatMap(t,function(a){return A.fromEither(r(a))})})};fr.flatMapEither=s6e;var l6e=function(A,e){return(0,pF.dual)(2,function(t,r){return e.flatMap(t,function(a){return A.fromIO(r(a))})})};fr.flatMapIO=l6e;var c6e=function(A,e){return(0,pF.dual)(2,function(t,r){return e.flatMap(t,function(a){return A.fromTask(r(a))})})};fr.flatMapTask=c6e;var u6e=function(A,e){return(0,pF.dual)(2,function(t,r){return e.flatMap(t,function(a){return A.fromReader(r(a))})})};fr.flatMapReader=u6e});var _J=mA(Ao=>{"use strict";var d6e=Ao&&Ao.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),m6e=Ao&&Ao.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),p6e=Ao&&Ao.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&d6e(e,A,t);return m6e(e,A),e};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.sequenceS=Ao.sequenceT=Ao.getApplySemigroup=Ao.apS=Ao.apSecond=Ao.apFirst=Ao.ap=void 0;var k6e=Ah(),h6e=p6e(J8());function g6e(A,e){return function(t){return function(r){return A.ap(A.map(r,function(a){return function(j){return e.ap(a,j)}}),t)}}}Ao.ap=g6e;function f6e(A){return function(e){return function(t){return A.ap(A.map(t,function(r){return function(){return r}}),e)}}}Ao.apFirst=f6e;function B6e(A){return function(e){return function(t){return A.ap(A.map(t,function(){return function(r){return r}}),e)}}}Ao.apSecond=B6e;function E6e(A){return function(e,t){return function(r){return A.ap(A.map(r,function(a){return function(j){var n;return Object.assign({},a,(n={},n[e]=j,n))}}),t)}}}Ao.apS=E6e;function x6e(A){return function(e){return{concat:function(t,r){return A.ap(A.map(t,function(a){return function(j){return e.concat(a,j)}}),r)}}}}Ao.getApplySemigroup=x6e;function TJ(A,e,t){return function(r){for(var a=Array(t.length+1),j=0;j<t.length;j++)a[j]=t[j];return a[t.length]=r,e===0?A.apply(null,a):TJ(A,e-1,a)}}var OJ={1:function(A){return[A]},2:function(A){return function(e){return[A,e]}},3:function(A){return function(e){return function(t){return[A,e,t]}}},4:function(A){return function(e){return function(t){return function(r){return[A,e,t,r]}}}},5:function(A){return function(e){return function(t){return function(r){return function(a){return[A,e,t,r,a]}}}}}};function b6e(A){return h6e.has.call(OJ,A)||(OJ[A]=TJ(k6e.tuple,A-1,[])),OJ[A]}function y6e(A){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length,a=b6e(r),j=A.map(e[0],a),n=1;n<r;n++)j=A.ap(j,e[n]);return j}}Ao.sequenceT=y6e;function v6e(A){var e=A.length;switch(e){case 1:return function(t){var r;return r={},r[A[0]]=t,r};case 2:return function(t){return function(r){var a;return a={},a[A[0]]=t,a[A[1]]=r,a}};case 3:return function(t){return function(r){return function(a){var j;return j={},j[A[0]]=t,j[A[1]]=r,j[A[2]]=a,j}}};case 4:return function(t){return function(r){return function(a){return function(j){var n;return n={},n[A[0]]=t,n[A[1]]=r,n[A[2]]=a,n[A[3]]=j,n}}}};case 5:return function(t){return function(r){return function(a){return function(j){return function(n){var i;return i={},i[A[0]]=t,i[A[1]]=r,i[A[2]]=a,i[A[3]]=j,i[A[4]]=n,i}}}}};default:return TJ(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var a={},j=0;j<e;j++)a[A[j]]=t[j];return a},e-1,[])}}function F6e(A){return function(e){for(var t=Object.keys(e),r=t.length,a=v6e(t),j=A.map(e[t[0]],a),n=1;n<r;n++)j=A.ap(j,e[t[n]]);return j}}Ao.sequenceS=F6e});var l5=mA($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.asUnit=$l.as=$l.getFunctorComposition=$l.let=$l.bindTo=$l.flap=$l.map=void 0;var G6e=Ah();function lfA(A,e){return function(t){return function(r){return A.map(r,function(a){return e.map(a,t)})}}}$l.map=lfA;function w6e(A){return function(e){return function(t){return A.map(t,function(r){return r(e)})}}}$l.flap=w6e;function q6e(A){return function(e){return function(t){return A.map(t,function(r){var a;return a={},a[e]=r,a})}}}$l.bindTo=q6e;function $6e(A){return function(e,t){return function(r){return A.map(r,function(a){var j;return Object.assign({},a,(j={},j[e]=t(a),j))})}}}$l.let=$6e;function I6e(A,e){var t=lfA(A,e);return{map:function(r,a){return(0,G6e.pipe)(r,t(a))}}}$l.getFunctorComposition=I6e;function cfA(A){return function(e,t){return A.map(e,function(){return t})}}$l.as=cfA;function P6e(A){var e=cfA(A);return function(t){return e(t,void 0)}}$l.asUnit=P6e});var dfA=mA(kF=>{"use strict";Object.defineProperty(kF,"__esModule",{value:!0});kF.getApplicativeComposition=kF.getApplicativeMonoid=void 0;var ufA=_J(),S6e=Ah(),C6e=l5();function O6e(A){var e=(0,ufA.getApplySemigroup)(A);return function(t){return{concat:e(t).concat,empty:A.of(t.empty)}}}kF.getApplicativeMonoid=O6e;function T6e(A,e){var t=(0,C6e.getFunctorComposition)(A,e).map,r=(0,ufA.ap)(A,e);return{map:t,of:function(a){return A.of(e.of(a))},ap:function(a,j){return(0,S6e.pipe)(a,r(j))}}}kF.getApplicativeComposition=T6e});var DJ=mA(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.bind=pf.tap=pf.chainFirst=void 0;function _6e(A){var e=mfA(A);return function(t){return function(r){return e(r,t)}}}pf.chainFirst=_6e;function mfA(A){return function(e,t){return A.chain(e,function(r){return A.map(t(r),function(){return r})})}}pf.tap=mfA;function D6e(A){return function(e,t){return function(r){return A.chain(r,function(a){return A.map(t(a),function(j){var n;return Object.assign({},a,(n={},n[e]=j,n))})})}}}pf.bind=D6e});var pfA=mA(c5=>{"use strict";Object.defineProperty(c5,"__esModule",{value:!0});c5.tailRec=void 0;var z6e=function(A,e){for(var t=e(A);t._tag==="Left";)t=e(t.left);return t.right};c5.tailRec=z6e});var BfA=mA(Hn=>{"use strict";var M6e=Hn&&Hn.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),R6e=Hn&&Hn.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),K6e=Hn&&Hn.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&M6e(e,A,t);return R6e(e,A),e};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.tapEither=Hn.filterOrElse=Hn.chainFirstEitherK=Hn.chainEitherK=Hn.fromEitherK=Hn.chainOptionK=Hn.fromOptionK=Hn.fromPredicate=Hn.fromOption=void 0;var L6e=DJ(),kfA=Ah(),Nx=K6e(J8());function hfA(A){return function(e){return function(t){return A.fromEither(Nx.isNone(t)?Nx.left(e()):Nx.right(t.value))}}}Hn.fromOption=hfA;function N6e(A){return function(e,t){return function(r){return A.fromEither(e(r)?Nx.right(r):Nx.left(t(r)))}}}Hn.fromPredicate=N6e;function gfA(A){var e=hfA(A);return function(t){var r=e(t);return function(a){return(0,kfA.flow)(a,r)}}}Hn.fromOptionK=gfA;function U6e(A,e){var t=gfA(A);return function(r){var a=t(r);return function(j){return function(n){return e.chain(n,a(j))}}}}Hn.chainOptionK=U6e;function zJ(A){return function(e){return(0,kfA.flow)(e,A.fromEither)}}Hn.fromEitherK=zJ;function H6e(A,e){var t=zJ(A);return function(r){return function(a){return e.chain(a,t(r))}}}Hn.chainEitherK=H6e;function V6e(A,e){var t=ffA(A,e);return function(r){return function(a){return t(a,r)}}}Hn.chainFirstEitherK=V6e;function X6e(A,e){return function(t,r){return function(a){return e.chain(a,function(j){return A.fromEither(t(j)?Nx.right(j):Nx.left(r(j)))})}}}Hn.filterOrElse=X6e;function ffA(A,e){var t=zJ(A),r=(0,L6e.tap)(e);return function(a,j){return r(a,t(j))}}Hn.tapEither=ffA});var EfA=mA(kj=>{"use strict";Object.defineProperty(kj,"__esModule",{value:!0});kj.right=kj.left=kj.flap=kj.Functor=kj.Bifunctor=kj.URI=kj.bimap=kj.mapLeft=kj.map=kj.separated=void 0;var MJ=Ah(),W6e=l5(),J6e=function(A,e){return{left:A,right:e}};kj.separated=J6e;var Y6e=function(A,e){return(0,MJ.pipe)(A,(0,kj.map)(e))},Z6e=function(A,e){return(0,MJ.pipe)(A,(0,kj.mapLeft)(e))},Q6e=function(A,e,t){return(0,MJ.pipe)(A,(0,kj.bimap)(e,t))},Ace=function(A){return function(e){return(0,kj.separated)((0,kj.left)(e),A((0,kj.right)(e)))}};kj.map=Ace;var ece=function(A){return function(e){return(0,kj.separated)(A((0,kj.left)(e)),(0,kj.right)(e))}};kj.mapLeft=ece;var tce=function(A,e){return function(t){return(0,kj.separated)(A((0,kj.left)(t)),e((0,kj.right)(t)))}};kj.bimap=tce;kj.URI="Separated";kj.Bifunctor={URI:kj.URI,mapLeft:Z6e,bimap:Q6e};kj.Functor={URI:kj.URI,map:Y6e};kj.flap=(0,W6e.flap)(kj.Functor);var rce=function(A){return A.left};kj.left=rce;var ace=function(A){return A.right};kj.right=ace});var bfA=mA(U6=>{"use strict";var jce=U6&&U6.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),nce=U6&&U6.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),ice=U6&&U6.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&jce(e,A,t);return nce(e,A),e};Object.defineProperty(U6,"__esModule",{value:!0});U6.filterE=U6.witherDefault=U6.wiltDefault=void 0;var xfA=ice(J8());function oce(A,e){return function(t){var r=A.traverse(t);return function(a,j){return t.map(r(a,j),e.separate)}}}U6.wiltDefault=oce;function sce(A,e){return function(t){var r=A.traverse(t);return function(a,j){return t.map(r(a,j),e.compact)}}}U6.witherDefault=sce;function lce(A){return function(e){var t=A.wither(e);return function(r){return function(a){return t(a,function(j){return e.map(r(j),function(n){return n?xfA.some(j):xfA.none})})}}}}U6.filterE=lce});var Pl=mA(z=>{"use strict";var cce=z&&z.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),uce=z&&z.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),vfA=z&&z.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&cce(e,A,t);return uce(e,A),e};Object.defineProperty(z,"__esModule",{value:!0});z.match=z.foldW=z.matchW=z.isRight=z.isLeft=z.fromOption=z.fromPredicate=z.FromEither=z.MonadThrow=z.throwError=z.ChainRec=z.Extend=z.extend=z.Alt=z.alt=z.altW=z.Bifunctor=z.mapLeft=z.bimap=z.Traversable=z.sequence=z.traverse=z.Foldable=z.reduceRight=z.foldMap=z.reduce=z.Monad=z.Chain=z.Applicative=z.Apply=z.ap=z.apW=z.Pointed=z.of=z.asUnit=z.as=z.Functor=z.map=z.getAltValidation=z.getApplicativeValidation=z.getWitherable=z.getFilterable=z.getCompactable=z.getSemigroup=z.getEq=z.getShow=z.URI=z.flatMap=z.right=z.left=void 0;z.chainFirstW=z.chainFirst=z.chain=z.chainW=z.sequenceArray=z.traverseArray=z.traverseArrayWithIndex=z.traverseReadonlyArrayWithIndex=z.traverseReadonlyNonEmptyArrayWithIndex=z.ApT=z.apSW=z.apS=z.bindW=z.bind=z.let=z.bindTo=z.Do=z.exists=z.elem=z.toError=z.toUnion=z.chainNullableK=z.fromNullableK=z.tryCatchK=z.tryCatch=z.fromNullable=z.orElse=z.orElseW=z.swap=z.filterOrElseW=z.filterOrElse=z.flatMapOption=z.flatMapNullable=z.liftOption=z.liftNullable=z.chainOptionKW=z.chainOptionK=z.fromOptionK=z.duplicate=z.flatten=z.flattenW=z.tap=z.apSecondW=z.apSecond=z.apFirstW=z.apFirst=z.flap=z.getOrElse=z.getOrElseW=z.fold=void 0;z.getValidation=z.getValidationMonoid=z.getValidationSemigroup=z.getApplyMonoid=z.getApplySemigroup=z.either=z.stringifyJSON=z.parseJSON=void 0;var FfA=dfA(),Y8=_J(),GfA=vfA(DJ()),dce=pfA(),Z8=BfA(),zo=Ah(),Q8=l5(),td=vfA(J8()),eh=EfA(),yfA=bfA();z.left=td.left;z.right=td.right;z.flatMap=(0,zo.dual)(2,function(A,e){return(0,z.isLeft)(A)?A:e(A.right)});var Il=function(A,e){return(0,zo.pipe)(A,(0,z.map)(e))},Ux=function(A,e){return(0,zo.pipe)(A,(0,z.ap)(e))},AI=function(A,e,t){return(0,zo.pipe)(A,(0,z.reduce)(e,t))},eI=function(A){return function(e,t){var r=(0,z.foldMap)(A);return(0,zo.pipe)(e,r(t))}},tI=function(A,e,t){return(0,zo.pipe)(A,(0,z.reduceRight)(e,t))},u5=function(A){var e=(0,z.traverse)(A);return function(t,r){return(0,zo.pipe)(t,e(r))}},RJ=function(A,e,t){return(0,zo.pipe)(A,(0,z.bimap)(e,t))},KJ=function(A,e){return(0,zo.pipe)(A,(0,z.mapLeft)(e))},wfA=function(A,e){return(0,zo.pipe)(A,(0,z.alt)(e))},LJ=function(A,e){return(0,zo.pipe)(A,(0,z.extend)(e))},NJ=function(A,e){return(0,dce.tailRec)(e(A),function(t){return(0,z.isLeft)(t)?(0,z.right)((0,z.left)(t.left)):(0,z.isLeft)(t.right)?(0,z.left)(e(t.right.left)):(0,z.right)((0,z.right)(t.right.right))})};z.URI="Either";var mce=function(A,e){return{show:function(t){return(0,z.isLeft)(t)?"left(".concat(A.show(t.left),")"):"right(".concat(e.show(t.right),")")}}};z.getShow=mce;var pce=function(A,e){return{equals:function(t,r){return t===r||((0,z.isLeft)(t)?(0,z.isLeft)(r)&&A.equals(t.left,r.left):(0,z.isRight)(r)&&e.equals(t.right,r.right))}}};z.getEq=pce;var kce=function(A){return{concat:function(e,t){return(0,z.isLeft)(t)?e:(0,z.isLeft)(e)?t:(0,z.right)(A.concat(e.right,t.right))}}};z.getSemigroup=kce;var hce=function(A){var e=(0,z.left)(A.empty);return{URI:z.URI,_E:void 0,compact:function(t){return(0,z.isLeft)(t)?t:t.right._tag==="None"?e:(0,z.right)(t.right.value)},separate:function(t){return(0,z.isLeft)(t)?(0,eh.separated)(t,t):(0,z.isLeft)(t.right)?(0,eh.separated)((0,z.right)(t.right.left),e):(0,eh.separated)(e,(0,z.right)(t.right.right))}}};z.getCompactable=hce;var gce=function(A){var e=(0,z.left)(A.empty),t=(0,z.getCompactable)(A),r=t.compact,a=t.separate,j=function(i,o){return(0,z.isLeft)(i)||o(i.right)?i:e},n=function(i,o){return(0,z.isLeft)(i)?(0,eh.separated)(i,i):o(i.right)?(0,eh.separated)(e,(0,z.right)(i.right)):(0,eh.separated)((0,z.right)(i.right),e)};return{URI:z.URI,_E:void 0,map:Il,compact:r,separate:a,filter:j,filterMap:function(i,o){if((0,z.isLeft)(i))return i;var s=o(i.right);return s._tag==="None"?e:(0,z.right)(s.value)},partition:n,partitionMap:function(i,o){if((0,z.isLeft)(i))return(0,eh.separated)(i,i);var s=o(i.right);return(0,z.isLeft)(s)?(0,eh.separated)((0,z.right)(s.left),e):(0,eh.separated)(e,(0,z.right)(s.right))}}};z.getFilterable=gce;var fce=function(A){var e=(0,z.getFilterable)(A),t=(0,z.getCompactable)(A);return{URI:z.URI,_E:void 0,map:Il,compact:e.compact,separate:e.separate,filter:e.filter,filterMap:e.filterMap,partition:e.partition,partitionMap:e.partitionMap,traverse:u5,sequence:z.sequence,reduce:AI,foldMap:eI,reduceRight:tI,wither:(0,yfA.witherDefault)(z.Traversable,t),wilt:(0,yfA.wiltDefault)(z.Traversable,t)}};z.getWitherable=fce;var Bce=function(A){return{URI:z.URI,_E:void 0,map:Il,ap:function(e,t){return(0,z.isLeft)(e)?(0,z.isLeft)(t)?(0,z.left)(A.concat(e.left,t.left)):e:(0,z.isLeft)(t)?t:(0,z.right)(e.right(t.right))},of:z.of}};z.getApplicativeValidation=Bce;var Ece=function(A){return{URI:z.URI,_E:void 0,map:Il,alt:function(e,t){if((0,z.isRight)(e))return e;var r=t();return(0,z.isLeft)(r)?(0,z.left)(A.concat(e.left,r.left)):r}}};z.getAltValidation=Ece;var xce=function(A){return function(e){return(0,z.isLeft)(e)?e:(0,z.right)(A(e.right))}};z.map=xce;z.Functor={URI:z.URI,map:Il};z.as=(0,zo.dual)(2,(0,Q8.as)(z.Functor));z.asUnit=(0,Q8.asUnit)(z.Functor);z.of=z.right;z.Pointed={URI:z.URI,of:z.of};var bce=function(A){return function(e){return(0,z.isLeft)(e)?e:(0,z.isLeft)(A)?A:(0,z.right)(e.right(A.right))}};z.apW=bce;z.ap=z.apW;z.Apply={URI:z.URI,map:Il,ap:Ux};z.Applicative={URI:z.URI,map:Il,ap:Ux,of:z.of};z.Chain={URI:z.URI,map:Il,ap:Ux,chain:z.flatMap};z.Monad={URI:z.URI,map:Il,ap:Ux,of:z.of,chain:z.flatMap};var yce=function(A,e){return function(t){return(0,z.isLeft)(t)?A:e(A,t.right)}};z.reduce=yce;var vce=function(A){return function(e){return function(t){return(0,z.isLeft)(t)?A.empty:e(t.right)}}};z.foldMap=vce;var Fce=function(A,e){return function(t){return(0,z.isLeft)(t)?A:e(t.right,A)}};z.reduceRight=Fce;z.Foldable={URI:z.URI,reduce:AI,foldMap:eI,reduceRight:tI};var Gce=function(A){return function(e){return function(t){return(0,z.isLeft)(t)?A.of((0,z.left)(t.left)):A.map(e(t.right),z.right)}}};z.traverse=Gce;var wce=function(A){return function(e){return(0,z.isLeft)(e)?A.of((0,z.left)(e.left)):A.map(e.right,z.right)}};z.sequence=wce;z.Traversable={URI:z.URI,map:Il,reduce:AI,foldMap:eI,reduceRight:tI,traverse:u5,sequence:z.sequence};var qce=function(A,e){return function(t){return(0,z.isLeft)(t)?(0,z.left)(A(t.left)):(0,z.right)(e(t.right))}};z.bimap=qce;var $ce=function(A){return function(e){return(0,z.isLeft)(e)?(0,z.left)(A(e.left)):e}};z.mapLeft=$ce;z.Bifunctor={URI:z.URI,bimap:RJ,mapLeft:KJ};var Ice=function(A){return function(e){return(0,z.isLeft)(e)?A():e}};z.altW=Ice;z.alt=z.altW;z.Alt={URI:z.URI,map:Il,alt:wfA};var Pce=function(A){return function(e){return(0,z.isLeft)(e)?e:(0,z.right)(A(e))}};z.extend=Pce;z.Extend={URI:z.URI,map:Il,extend:LJ};z.ChainRec={URI:z.URI,map:Il,ap:Ux,chain:z.flatMap,chainRec:NJ};z.throwError=z.left;z.MonadThrow={URI:z.URI,map:Il,ap:Ux,of:z.of,chain:z.flatMap,throwError:z.throwError};z.FromEither={URI:z.URI,fromEither:zo.identity};z.fromPredicate=(0,Z8.fromPredicate)(z.FromEither);z.fromOption=(0,Z8.fromOption)(z.FromEither);z.isLeft=td.isLeft;z.isRight=td.isRight;var Sce=function(A,e){return function(t){return(0,z.isLeft)(t)?A(t.left):e(t.right)}};z.matchW=Sce;z.foldW=z.matchW;z.match=z.matchW;z.fold=z.match;var Cce=function(A){return function(e){return(0,z.isLeft)(e)?A(e.left):e.right}};z.getOrElseW=Cce;z.getOrElse=z.getOrElseW;z.flap=(0,Q8.flap)(z.Functor);z.apFirst=(0,Y8.apFirst)(z.Apply);z.apFirstW=z.apFirst;z.apSecond=(0,Y8.apSecond)(z.Apply);z.apSecondW=z.apSecond;z.tap=(0,zo.dual)(2,GfA.tap(z.Chain));z.flattenW=(0,z.flatMap)(zo.identity);z.flatten=z.flattenW;z.duplicate=(0,z.extend)(zo.identity);z.fromOptionK=(0,Z8.fromOptionK)(z.FromEither);z.chainOptionK=(0,Z8.chainOptionK)(z.FromEither,z.Chain);z.chainOptionKW=z.chainOptionK;var d5={fromEither:z.FromEither.fromEither};z.liftNullable=td.liftNullable(d5);z.liftOption=td.liftOption(d5);var qfA={flatMap:z.flatMap};z.flatMapNullable=td.flatMapNullable(d5,qfA);z.flatMapOption=td.flatMapOption(d5,qfA);z.filterOrElse=(0,Z8.filterOrElse)(z.FromEither,z.Chain);z.filterOrElseW=z.filterOrElse;var Oce=function(A){return(0,z.isLeft)(A)?(0,z.right)(A.left):(0,z.left)(A.right)};z.swap=Oce;var Tce=function(A){return function(e){return(0,z.isLeft)(e)?A(e.left):e}};z.orElseW=Tce;z.orElse=z.orElseW;var _ce=function(A){return function(e){return e==null?(0,z.left)(A):(0,z.right)(e)}};z.fromNullable=_ce;var Dce=function(A,e){try{return(0,z.right)(A())}catch(t){return(0,z.left)(e(t))}};z.tryCatch=Dce;var zce=function(A,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(0,z.tryCatch)(function(){return A.apply(void 0,t)},e)}};z.tryCatchK=zce;var Mce=function(A){var e=(0,z.fromNullable)(A);return function(t){return(0,zo.flow)(t,e)}};z.fromNullableK=Mce;var Rce=function(A){var e=(0,z.fromNullableK)(A);return function(t){return(0,z.flatMap)(e(t))}};z.chainNullableK=Rce;z.toUnion=(0,z.foldW)(zo.identity,zo.identity);function Kce(A){try{return A instanceof Error?A:new Error(String(A))}catch{return new Error}}z.toError=Kce;function $fA(A){return function(e,t){if(t===void 0){var r=$fA(A);return function(a){return r(e,a)}}return(0,z.isLeft)(t)?!1:A.equals(e,t.right)}}z.elem=$fA;var Lce=function(A){return function(e){return(0,z.isLeft)(e)?!1:A(e.right)}};z.exists=Lce;z.Do=(0,z.of)(td.emptyRecord);z.bindTo=(0,Q8.bindTo)(z.Functor);var Nce=(0,Q8.let)(z.Functor);z.let=Nce;z.bind=GfA.bind(z.Chain);z.bindW=z.bind;z.apS=(0,Y8.apS)(z.Apply);z.apSW=z.apS;z.ApT=(0,z.of)(td.emptyReadonlyArray);var Uce=function(A){return function(e){var t=A(0,td.head(e));if((0,z.isLeft)(t))return t;for(var r=[t.right],a=1;a<e.length;a++){var j=A(a,e[a]);if((0,z.isLeft)(j))return j;r.push(j.right)}return(0,z.right)(r)}};z.traverseReadonlyNonEmptyArrayWithIndex=Uce;var Hce=function(A){var e=(0,z.traverseReadonlyNonEmptyArrayWithIndex)(A);return function(t){return td.isNonEmpty(t)?e(t):z.ApT}};z.traverseReadonlyArrayWithIndex=Hce;z.traverseArrayWithIndex=z.traverseReadonlyArrayWithIndex;var Vce=function(A){return(0,z.traverseReadonlyArrayWithIndex)(function(e,t){return A(t)})};z.traverseArray=Vce;z.sequenceArray=(0,z.traverseArray)(zo.identity);z.chainW=z.flatMap;z.chain=z.flatMap;z.chainFirst=z.tap;z.chainFirstW=z.tap;function Xce(A,e){return(0,z.tryCatch)(function(){return JSON.parse(A)},e)}z.parseJSON=Xce;var Wce=function(A,e){return(0,z.tryCatch)(function(){var t=JSON.stringify(A);if(typeof t!="string")throw new Error("Converting unsupported structure to JSON");return t},e)};z.stringifyJSON=Wce;z.either={URI:z.URI,map:Il,of:z.of,ap:Ux,chain:z.flatMap,reduce:AI,foldMap:eI,reduceRight:tI,traverse:u5,sequence:z.sequence,bimap:RJ,mapLeft:KJ,alt:wfA,extend:LJ,chainRec:NJ,throwError:z.throwError};z.getApplySemigroup=(0,Y8.getApplySemigroup)(z.Apply);z.getApplyMonoid=(0,FfA.getApplicativeMonoid)(z.Applicative);var Jce=function(A,e){return(0,Y8.getApplySemigroup)((0,z.getApplicativeValidation)(A))(e)};z.getValidationSemigroup=Jce;var Yce=function(A,e){return(0,FfA.getApplicativeMonoid)((0,z.getApplicativeValidation)(A))(e)};z.getValidationMonoid=Yce;function Zce(A){var e=(0,z.getApplicativeValidation)(A).ap,t=(0,z.getAltValidation)(A).alt;return{URI:z.URI,_E:void 0,map:Il,of:z.of,chain:z.flatMap,bimap:RJ,mapLeft:KJ,reduce:AI,foldMap:eI,reduceRight:tI,extend:LJ,traverse:u5,sequence:z.sequence,chainRec:NJ,throwError:z.throwError,ap:e,alt:t}}z.getValidation=Zce});var OA=mA(eA=>{"use strict";var tn=eA&&eA.__extends||function(){var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&(r[j]=a[j])},A(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hF=eA&&eA.__assign||function(){return hF=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(A[a]=e[a])}return A},hF.apply(this,arguments)},Qce=eA&&eA.__spreadArray||function(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))};Object.defineProperty(eA,"__esModule",{value:!0});eA.partial=eA.PartialType=eA.type=eA.InterfaceType=eA.array=eA.ArrayType=eA.recursion=eA.RecursiveType=eA.Int=eA.brand=eA.RefinementType=eA.keyof=eA.KeyofType=eA.literal=eA.LiteralType=eA.void=eA.undefined=eA.null=eA.UnknownRecord=eA.AnyDictionaryType=eA.UnknownArray=eA.AnyArrayType=eA.boolean=eA.BooleanType=eA.bigint=eA.BigIntType=eA.number=eA.NumberType=eA.string=eA.StringType=eA.unknown=eA.UnknownType=eA.voidType=eA.VoidType=eA.UndefinedType=eA.nullType=eA.NullType=eA.getIndex=eA.getTags=eA.emptyTags=eA.mergeAll=eA.getDomainKeys=eA.appendContext=eA.getContextEntry=eA.getFunctionName=eA.identity=eA.Type=eA.success=eA.failure=eA.failures=void 0;eA.alias=eA.clean=eA.StrictType=eA.dictionary=eA.object=eA.ObjectType=eA.Dictionary=eA.getDefaultContext=eA.getValidationError=eA.interface=eA.Array=eA.taggedUnion=eA.TaggedUnionType=eA.Integer=eA.refinement=eA.any=eA.AnyType=eA.never=eA.NeverType=eA.Function=eA.FunctionType=eA.exact=eA.ExactType=eA.strict=eA.readonlyArray=eA.ReadonlyArrayType=eA.readonly=eA.ReadonlyType=eA.tuple=eA.TupleType=eA.intersection=eA.IntersectionType=eA.union=eA.UnionType=eA.record=eA.DictionaryType=void 0;var eo=Pl();eA.failures=eo.left;var Aue=function(A,e,t){return(0,eA.failures)([{value:A,context:e,message:t}])};eA.failure=Aue;eA.success=eo.right;var rn=function(){function A(e,t,r,a){this.name=e,this.is=t,this.validate=r,this.encode=a,this.decode=this.decode.bind(this)}return A.prototype.pipe=function(e,t){var r=this;return t===void 0&&(t="pipe(".concat(this.name,", ").concat(e.name,")")),new A(t,e.is,function(a,j){var n=r.validate(a,j);return(0,eo.isLeft)(n)?n:e.validate(n.right,j)},this.encode===eA.identity&&e.encode===eA.identity?eA.identity:function(a){return r.encode(e.encode(a))})},A.prototype.asDecoder=function(){return this},A.prototype.asEncoder=function(){return this},A.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},A}();eA.Type=rn;var eue=function(A){return A};eA.identity=eue;function SfA(A){return A.displayName||A.name||"<function".concat(A.length,">")}eA.getFunctionName=SfA;function tue(A,e){return{key:A,type:e}}eA.getContextEntry=tue;function km(A,e,t,r){for(var a=A.length,j=Array(a+1),n=0;n<a;n++)j[n]=A[n];return j[a]={key:e,type:t,actual:r},j}eA.appendContext=km;function th(A,e){for(var t=e.length,r=0;r<t;r++)A.push(e[r])}var Hx=Object.prototype.hasOwnProperty;function HJ(A){return Object.keys(A).map(function(e){return"".concat(e,": ").concat(A[e].name)}).join(", ")}function rI(A){for(var e=0;e<A.length;e++)if(A[e].encode!==eA.identity)return!1;return!0}function CfA(A){return"{ ".concat(HJ(A)," }")}function OfA(A){return"Partial<".concat(A,">")}function rue(A,e,t,r){r===void 0&&(r="{ [K in ".concat(e.name,"]: ").concat(t.name," }"));var a=A.length;return new ZJ(r,function(j){return eA.UnknownRecord.is(j)&&A.every(function(n){return t.is(j[n])})},function(j,n){var i=eA.UnknownRecord.validate(j,n);if((0,eo.isLeft)(i))return i;for(var o=i.right,s={},c=[],u=!1,p=0;p<a;p++){var h=A[p],f=o[h],G=t.validate(f,km(n,h,t,f));if((0,eo.isLeft)(G))th(c,G.left);else{var w=G.right;u=u||w!==f,s[h]=w}}return c.length>0?(0,eA.failures)(c):(0,eA.success)(u||Object.keys(o).length!==a?s:o)},t.encode===eA.identity?eA.identity:function(j){for(var n={},i=0;i<a;i++){var o=A[i];n[o]=t.encode(j[o])}return n},e,t)}function WJ(A){var e;if(DfA(A)){var t=A.value;if(eA.string.is(t))return e={},e[t]=null,e}else{if(sue(A))return A.keys;if(MfA(A)){var r=A.types.map(function(a){return WJ(a)});return r.some(m5.is)?void 0:Object.assign.apply(Object,Qce([{}],r,!1))}}}eA.getDomainKeys=WJ;function aue(A,e,t){return t===void 0&&(t="{ [K in ".concat(A.name,"]: ").concat(e.name," }")),new ZJ(t,function(r){return eA.UnknownRecord.is(r)?Object.keys(r).every(function(a){return A.is(a)&&e.is(r[a])}):PfA(e)&&Array.isArray(r)},function(r,a){if(eA.UnknownRecord.is(r)){for(var j={},n=[],i=Object.keys(r),o=i.length,s=!1,c=0;c<o;c++){var u=i[c],p=r[u],h=A.validate(u,km(a,u,A,u));if((0,eo.isLeft)(h))th(n,h.left);else{var f=h.right;s=s||f!==u,u=f;var G=e.validate(p,km(a,u,e,p));if((0,eo.isLeft)(G))th(n,G.left);else{var w=G.right;s=s||w!==p,j[u]=w}}}return n.length>0?(0,eA.failures)(n):(0,eA.success)(s?j:r)}return PfA(e)&&Array.isArray(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},A.encode===eA.identity&&e.encode===eA.identity?eA.identity:function(r){for(var a={},j=Object.keys(r),n=j.length,i=0;i<n;i++){var o=j[i];a[String(A.encode(o))]=e.encode(r[o])}return a},A,e)}function TfA(A){return"("+A.map(function(e){return e.name}).join(" | ")+")"}function VJ(A,e){for(var t=!0,r=!0,a=!eA.UnknownRecord.is(A),j=0,n=e;j<n.length;j++){var i=n[j];i!==A&&(t=!1),eA.UnknownRecord.is(i)&&(r=!1)}if(t)return A;if(r)return e[e.length-1];for(var o={},s=0,c=e;s<c.length;s++){var i=c[s];for(var u in i)(!Hx.call(o,u)||a||i[u]!==A[u])&&(o[u]=i[u])}return o}eA.mergeAll=VJ;function XJ(A){switch(A._tag){case"RefinementType":case"ReadonlyType":return XJ(A.type);case"InterfaceType":case"StrictType":case"PartialType":return A.props;case"IntersectionType":return A.types.reduce(function(e,t){return Object.assign(e,XJ(t))},{})}}function IfA(A,e){for(var t=Object.getOwnPropertyNames(A),r=!1,a={},j=0;j<t.length;j++){var n=t[j];Hx.call(e,n)?a[n]=A[n]:r=!0}return r?a:A}function jue(A){return zfA(A)?"{| ".concat(HJ(A.props)," |}"):lue(A)?OfA("{| ".concat(HJ(A.props)," |}")):"Exact<".concat(A.name,">")}function nue(A){return A.length>0}eA.emptyTags={};function _fA(A,e){for(var t=[],r=0,a=A;r<a.length;r++){var j=a[r];e.indexOf(j)!==-1&&t.push(j)}return t}function iue(A,e){if(A===eA.emptyTags)return e;if(e===eA.emptyTags)return A;var t=Object.assign({},A);for(var r in e)if(Hx.call(A,r)){var a=_fA(A[r],e[r]);if(nue(a))t[r]=a;else{t=eA.emptyTags;break}}else t[r]=e[r];return t}function oue(A,e){if(A===eA.emptyTags||e===eA.emptyTags)return eA.emptyTags;var t=eA.emptyTags;for(var r in A)if(Hx.call(e,r)){var a=_fA(A[r],e[r]);a.length===0&&(t===eA.emptyTags&&(t={}),t[r]=A[r].concat(e[r]))}return t}function PfA(A){return A._tag==="AnyType"}function DfA(A){return A._tag==="LiteralType"}function sue(A){return A._tag==="KeyofType"}function zfA(A){return A._tag==="InterfaceType"}function lue(A){return A._tag==="PartialType"}function cue(A){return A._tag==="StrictType"}function uue(A){return A._tag==="ExactType"}function due(A){return A._tag==="RefinementType"}function mue(A){return A._tag==="IntersectionType"}function MfA(A){return A._tag==="UnionType"}function pue(A){return A._tag==="RecursiveType"}var UJ=[];function kf(A){if(UJ.indexOf(A)!==-1)return eA.emptyTags;if(zfA(A)||cue(A)){var e=eA.emptyTags;for(var t in A.props){var r=A.props[t];DfA(r)&&(e===eA.emptyTags&&(e={}),e[t]=[r.value])}return e}else{if(uue(A)||due(A))return kf(A.type);if(mue(A))return A.types.reduce(function(j,n){return iue(j,kf(n))},eA.emptyTags);if(MfA(A))return A.types.slice(1).reduce(function(j,n){return oue(j,kf(n))},kf(A.types[0]));if(pue(A)){UJ.push(A);var a=kf(A.type);return UJ.pop(),a}}return eA.emptyTags}eA.getTags=kf;function RfA(A){var e=kf(A[0]),t=Object.keys(e),r=A.length,a=function(s){for(var c=e[s].slice(),u=[e[s]],p=1;p<r;p++){var h=A[p],f=kf(h),G=f[s];if(G===void 0)return"continue-keys";if(G.some(function(w){return c.indexOf(w)!==-1}))return"continue-keys";c.push.apply(c,G),u.push(G)}return{value:[s,u]}};A:for(var j=0,n=t;j<n.length;j++){var i=n[j],o=a(i);if(typeof o=="object")return o.value;switch(o){case"continue-keys":continue A}}}eA.getIndex=RfA;var KfA=function(A){tn(e,A);function e(){var t=A.call(this,"null",function(r){return r===null},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="NullType",t}return e}(rn);eA.NullType=KfA;eA.nullType=new KfA;eA.null=eA.nullType;var LfA=function(A){tn(e,A);function e(){var t=A.call(this,"undefined",function(r){return r===void 0},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="UndefinedType",t}return e}(rn);eA.UndefinedType=LfA;var m5=new LfA;eA.undefined=m5;var NfA=function(A){tn(e,A);function e(){var t=A.call(this,"void",m5.is,m5.validate,eA.identity)||this;return t._tag="VoidType",t}return e}(rn);eA.VoidType=NfA;eA.voidType=new NfA;eA.void=eA.voidType;var UfA=function(A){tn(e,A);function e(){var t=A.call(this,"unknown",function(r){return!0},eA.success,eA.identity)||this;return t._tag="UnknownType",t}return e}(rn);eA.UnknownType=UfA;eA.unknown=new UfA;var HfA=function(A){tn(e,A);function e(){var t=A.call(this,"string",function(r){return typeof r=="string"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="StringType",t}return e}(rn);eA.StringType=HfA;eA.string=new HfA;var VfA=function(A){tn(e,A);function e(){var t=A.call(this,"number",function(r){return typeof r=="number"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="NumberType",t}return e}(rn);eA.NumberType=VfA;eA.number=new VfA;var XfA=function(A){tn(e,A);function e(){var t=A.call(this,"bigint",function(r){return typeof r=="bigint"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="BigIntType",t}return e}(rn);eA.BigIntType=XfA;eA.bigint=new XfA;var WfA=function(A){tn(e,A);function e(){var t=A.call(this,"boolean",function(r){return typeof r=="boolean"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="BooleanType",t}return e}(rn);eA.BooleanType=WfA;eA.boolean=new WfA;var JfA=function(A){tn(e,A);function e(){var t=A.call(this,"UnknownArray",Array.isArray,function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="AnyArrayType",t}return e}(rn);eA.AnyArrayType=JfA;eA.UnknownArray=new JfA;eA.Array=eA.UnknownArray;var YfA=function(A){tn(e,A);function e(){var t=A.call(this,"UnknownRecord",function(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="AnyDictionaryType",t}return e}(rn);eA.AnyDictionaryType=YfA;eA.UnknownRecord=new YfA;var ZfA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.value=n,i._tag="LiteralType",i}return e}(rn);eA.LiteralType=ZfA;function kue(A,e){e===void 0&&(e=JSON.stringify(A));var t=function(r){return r===A};return new ZfA(e,t,function(r,a){return t(r)?(0,eA.success)(A):(0,eA.failure)(r,a)},eA.identity,A)}eA.literal=kue;var QfA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.keys=n,i._tag="KeyofType",i}return e}(rn);eA.KeyofType=QfA;function hue(A,e){e===void 0&&(e=Object.keys(A).map(function(r){return JSON.stringify(r)}).join(" | "));var t=function(r){return eA.string.is(r)&&Hx.call(A,r)};return new QfA(e,t,function(r,a){return t(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity,A)}eA.keyof=hue;var ABA=function(A){tn(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j)||this;return o.type=n,o.predicate=i,o._tag="RefinementType",o}return e}(rn);eA.RefinementType=ABA;function eBA(A,e,t){return AY(A,e,t)}eA.brand=eBA;eA.Int=eBA(eA.number,function(A){return Number.isInteger(A)},"Int");var JJ=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.runDefinition=n,i._tag="RecursiveType",i}return e}(rn);eA.RecursiveType=JJ;Object.defineProperty(JJ.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function gue(A,e){var t,r=function(){return t||(t=e(a),t.name=A),t},a=new JJ(A,function(j){return r().is(j)},function(j,n){return r().validate(j,n)},function(j){return r().encode(j)},r);return a}eA.recursion=gue;var tBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ArrayType",i}return e}(rn);eA.ArrayType=tBA;function rBA(A,e){return e===void 0&&(e="Array<".concat(A.name,">")),new tBA(e,function(t){return eA.UnknownArray.is(t)&&t.every(A.is)},function(t,r){var a=eA.UnknownArray.validate(t,r);if((0,eo.isLeft)(a))return a;for(var j=a.right,n=j.length,i=j,o=[],s=0;s<n;s++){var c=j[s],u=A.validate(c,km(r,String(s),A,c));if((0,eo.isLeft)(u))th(o,u.left);else{var p=u.right;p!==c&&(i===j&&(i=j.slice()),i[s]=p)}}return o.length>0?(0,eA.failures)(o):(0,eA.success)(i)},A.encode===eA.identity?eA.identity:function(t){return t.map(A.encode)},A)}eA.array=rBA;var aBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="InterfaceType",i}return e}(rn);eA.InterfaceType=aBA;function YJ(A,e){e===void 0&&(e=CfA(A));var t=Object.keys(A),r=t.map(function(j){return A[j]}),a=t.length;return new aBA(e,function(j){if(eA.UnknownRecord.is(j)){for(var n=0;n<a;n++){var i=t[n],o=j[i];if(o===void 0&&!Hx.call(j,i)||!r[n].is(o))return!1}return!0}return!1},function(j,n){var i=eA.UnknownRecord.validate(j,n);if((0,eo.isLeft)(i))return i;for(var o=i.right,s=o,c=[],u=0;u<a;u++){var p=t[u],h=s[p],f=r[u],G=f.validate(h,km(n,p,f,h));if((0,eo.isLeft)(G))th(c,G.left);else{var w=G.right;(w!==h||w===void 0&&!Hx.call(s,p))&&(s===o&&(s=hF({},o)),s[p]=w)}}return c.length>0?(0,eA.failures)(c):(0,eA.success)(s)},rI(r)?eA.identity:function(j){for(var n=hF({},j),i=0;i<a;i++){var o=t[i],s=r[i].encode;s!==eA.identity&&(n[o]=s(j[o]))}return n},A)}eA.type=YJ;eA.interface=YJ;var jBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="PartialType",i}return e}(rn);eA.PartialType=jBA;function fue(A,e){e===void 0&&(e=OfA(CfA(A)));var t=Object.keys(A),r=t.map(function(j){return A[j]}),a=t.length;return new jBA(e,function(j){if(eA.UnknownRecord.is(j)){for(var n=0;n<a;n++){var i=t[n],o=j[i];if(o!==void 0&&!A[i].is(o))return!1}return!0}return!1},function(j,n){var i=eA.UnknownRecord.validate(j,n);if((0,eo.isLeft)(i))return i;for(var o=i.right,s=o,c=[],u=0;u<a;u++){var p=t[u],h=s[p],f=A[p],G=f.validate(h,km(n,p,f,h));if((0,eo.isLeft)(G))h!==void 0&&th(c,G.left);else{var w=G.right;w!==h&&(s===o&&(s=hF({},o)),s[p]=w)}}return c.length>0?(0,eA.failures)(c):(0,eA.success)(s)},rI(r)?eA.identity:function(j){for(var n=hF({},j),i=0;i<a;i++){var o=t[i],s=j[o];s!==void 0&&(n[o]=r[i].encode(s))}return n},A)}eA.partial=fue;var ZJ=function(A){tn(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j)||this;return o.domain=n,o.codomain=i,o._tag="DictionaryType",o}return e}(rn);eA.DictionaryType=ZJ;function nBA(A,e,t){var r=WJ(A);return r?rue(Object.keys(r),A,e,t):aue(A,e,t)}eA.record=nBA;var QJ=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="UnionType",i}return e}(rn);eA.UnionType=QJ;function iBA(A,e){e===void 0&&(e=TfA(A));var t=RfA(A);if(t!==void 0&&A.length>0){var r=t[0],a=t[1],j=a.length,n=function(i){for(var o=0;o<j;o++)if(a[o].indexOf(i)!==-1)return o};return new p5(e,function(i){if(eA.UnknownRecord.is(i)){var o=n(i[r]);return o!==void 0?A[o].is(i):!1}return!1},function(i,o){var s=eA.UnknownRecord.validate(i,o);if((0,eo.isLeft)(s))return s;var c=s.right,u=n(c[r]);if(u===void 0)return(0,eA.failure)(i,o);var p=A[u];return p.validate(c,km(o,String(u),p,c))},rI(A)?eA.identity:function(i){var o=n(i[r]);if(o===void 0)throw new Error("no codec found to encode value in union codec ".concat(e));return A[o].encode(i)},A,r)}else return new QJ(e,function(i){return A.some(function(o){return o.is(i)})},function(i,o){for(var s=[],c=0;c<A.length;c++){var u=A[c],p=u.validate(i,km(o,String(c),u,i));if((0,eo.isLeft)(p))th(s,p.left);else return(0,eA.success)(p.right)}return(0,eA.failures)(s)},rI(A)?eA.identity:function(i){for(var o=0,s=A;o<s.length;o++){var c=s[o];if(c.is(i))return c.encode(i)}throw new Error("no codec found to encode value in union type ".concat(e))},A)}eA.union=iBA;var oBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="IntersectionType",i}return e}(rn);eA.IntersectionType=oBA;function Bue(A,e){e===void 0&&(e="(".concat(A.map(function(r){return r.name}).join(" & "),")"));var t=A.length;return new oBA(e,function(r){return A.every(function(a){return a.is(r)})},A.length===0?eA.success:function(r,a){for(var j=[],n=[],i=0;i<t;i++){var o=A[i],s=o.validate(r,km(a,String(i),o,r));(0,eo.isLeft)(s)?th(n,s.left):j.push(s.right)}return n.length>0?(0,eA.failures)(n):(0,eA.success)(VJ(r,j))},A.length===0?eA.identity:function(r){return VJ(r,A.map(function(a){return a.encode(r)}))},A)}eA.intersection=Bue;var sBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="TupleType",i}return e}(rn);eA.TupleType=sBA;function Eue(A,e){e===void 0&&(e="[".concat(A.map(function(r){return r.name}).join(", "),"]"));var t=A.length;return new sBA(e,function(r){return eA.UnknownArray.is(r)&&r.length===t&&A.every(function(a,j){return a.is(r[j])})},function(r,a){var j=eA.UnknownArray.validate(r,a);if((0,eo.isLeft)(j))return j;for(var n=j.right,i=n.length>t?n.slice(0,t):n,o=[],s=0;s<t;s++){var c=n[s],u=A[s],p=u.validate(c,km(a,String(s),u,c));if((0,eo.isLeft)(p))th(o,p.left);else{var h=p.right;h!==c&&(i===n&&(i=n.slice()),i[s]=h)}}return o.length>0?(0,eA.failures)(o):(0,eA.success)(i)},rI(A)?eA.identity:function(r){return A.map(function(a,j){return a.encode(r[j])})},A)}eA.tuple=Eue;var lBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ReadonlyType",i}return e}(rn);eA.ReadonlyType=lBA;function xue(A,e){return e===void 0&&(e="Readonly<".concat(A.name,">")),new lBA(e,A.is,A.validate,A.encode,A)}eA.readonly=xue;var cBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ReadonlyArrayType",i}return e}(rn);eA.ReadonlyArrayType=cBA;function bue(A,e){e===void 0&&(e="ReadonlyArray<".concat(A.name,">"));var t=rBA(A);return new cBA(e,t.is,t.validate,t.encode,A)}eA.readonlyArray=bue;var yue=function(A,e){return dBA(YJ(A),e)};eA.strict=yue;var uBA=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ExactType",i}return e}(rn);eA.ExactType=uBA;function dBA(A,e){e===void 0&&(e=jue(A));var t=XJ(A);return new uBA(e,A.is,function(r,a){var j=eA.UnknownRecord.validate(r,a);if((0,eo.isLeft)(j))return j;var n=A.validate(r,a);return(0,eo.isLeft)(n)?n:(0,eo.right)(IfA(n.right,t))},function(r){return A.encode(IfA(r,t))},A)}eA.exact=dBA;var mBA=function(A){tn(e,A);function e(){var t=A.call(this,"Function",function(r){return typeof r=="function"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="FunctionType",t}return e}(rn);eA.FunctionType=mBA;eA.Function=new mBA;var pBA=function(A){tn(e,A);function e(){var t=A.call(this,"never",function(r){return!1},function(r,a){return(0,eA.failure)(r,a)},function(){throw new Error("cannot encode never")})||this;return t._tag="NeverType",t}return e}(rn);eA.NeverType=pBA;eA.never=new pBA;var kBA=function(A){tn(e,A);function e(){var t=A.call(this,"any",function(r){return!0},eA.success,eA.identity)||this;return t._tag="AnyType",t}return e}(rn);eA.AnyType=kBA;eA.any=new kBA;function AY(A,e,t){return t===void 0&&(t="(".concat(A.name," | ").concat(SfA(e),")")),new ABA(t,function(r){return A.is(r)&&e(r)},function(r,a){var j=A.validate(r,a);if((0,eo.isLeft)(j))return j;var n=j.right;return e(n)?(0,eA.success)(n):(0,eA.failure)(n,a)},A.encode,A,e)}eA.refinement=AY;eA.Integer=AY(eA.number,Number.isInteger,"Integer");var p5=function(A){tn(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j,n)||this;return o.tag=i,o}return e}(QJ);eA.TaggedUnionType=p5;var vue=function(A,e,t){t===void 0&&(t=TfA(e));var r=iBA(e,t);return r instanceof p5?r:(console.warn("[io-ts] Cannot build a tagged union for ".concat(t,", returning a de-optimized union")),new p5(t,r.is,r.validate,r.encode,e,A))};eA.taggedUnion=vue;var Fue=function(A,e){return{value:A,context:e}};eA.getValidationError=Fue;var Gue=function(A){return[{key:"",type:A}]};eA.getDefaultContext=Gue;eA.Dictionary=eA.UnknownRecord;var hBA=function(A){tn(e,A);function e(){var t=A.call(this,"object",function(r){return r!==null&&typeof r=="object"},function(r,a){return t.is(r)?(0,eA.success)(r):(0,eA.failure)(r,a)},eA.identity)||this;return t._tag="ObjectType",t}return e}(rn);eA.ObjectType=hBA;eA.object=new hBA;eA.dictionary=nBA;var wue=function(A){tn(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="StrictType",i}return e}(rn);eA.StrictType=wue;function que(A){return A}eA.clean=que;function $ue(A){return function(){return A}}eA.alias=$ue});var yI=mA((aIt,RyA)=>{var Pbe="2.0.0",Sbe=Number.MAX_SAFE_INTEGER||9007199254740991,Cbe=16,Obe=250,Tbe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];RyA.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Cbe,MAX_SAFE_BUILD_LENGTH:Obe,MAX_SAFE_INTEGER:Sbe,RELEASE_TYPES:Tbe,SEMVER_SPEC_VERSION:Pbe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var vI=mA((jIt,KyA)=>{var _be=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...A)=>console.error("SEMVER",...A):()=>{};KyA.exports=_be});var rG=mA((sh,LyA)=>{var{MAX_SAFE_COMPONENT_LENGTH:CY,MAX_SAFE_BUILD_LENGTH:Dbe,MAX_LENGTH:zbe}=yI(),Mbe=vI();sh=LyA.exports={};var Rbe=sh.re=[],Kbe=sh.safeRe=[],Xt=sh.src=[],Wt=sh.t={},Lbe=0,OY="[a-zA-Z0-9-]",Nbe=[["\\s",1],["\\d",zbe],[OY,Dbe]],Ube=A=>{for(let[e,t]of Nbe)A=A.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return A},Ca=(A,e,t)=>{let r=Ube(e),a=Lbe++;Mbe(A,a,e),Wt[A]=a,Xt[a]=e,Rbe[a]=new RegExp(e,t?"g":void 0),Kbe[a]=new RegExp(r,t?"g":void 0)};Ca("NUMERICIDENTIFIER","0|[1-9]\\d*");Ca("NUMERICIDENTIFIERLOOSE","\\d+");Ca("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${OY}*`);Ca("MAINVERSION",`(${Xt[Wt.NUMERICIDENTIFIER]})\\.(${Xt[Wt.NUMERICIDENTIFIER]})\\.(${Xt[Wt.NUMERICIDENTIFIER]})`);Ca("MAINVERSIONLOOSE",`(${Xt[Wt.NUMERICIDENTIFIERLOOSE]})\\.(${Xt[Wt.NUMERICIDENTIFIERLOOSE]})\\.(${Xt[Wt.NUMERICIDENTIFIERLOOSE]})`);Ca("PRERELEASEIDENTIFIER",`(?:${Xt[Wt.NUMERICIDENTIFIER]}|${Xt[Wt.NONNUMERICIDENTIFIER]})`);Ca("PRERELEASEIDENTIFIERLOOSE",`(?:${Xt[Wt.NUMERICIDENTIFIERLOOSE]}|${Xt[Wt.NONNUMERICIDENTIFIER]})`);Ca("PRERELEASE",`(?:-(${Xt[Wt.PRERELEASEIDENTIFIER]}(?:\\.${Xt[Wt.PRERELEASEIDENTIFIER]})*))`);Ca("PRERELEASELOOSE",`(?:-?(${Xt[Wt.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Xt[Wt.PRERELEASEIDENTIFIERLOOSE]})*))`);Ca("BUILDIDENTIFIER",`${OY}+`);Ca("BUILD",`(?:\\+(${Xt[Wt.BUILDIDENTIFIER]}(?:\\.${Xt[Wt.BUILDIDENTIFIER]})*))`);Ca("FULLPLAIN",`v?${Xt[Wt.MAINVERSION]}${Xt[Wt.PRERELEASE]}?${Xt[Wt.BUILD]}?`);Ca("FULL",`^${Xt[Wt.FULLPLAIN]}$`);Ca("LOOSEPLAIN",`[v=\\s]*${Xt[Wt.MAINVERSIONLOOSE]}${Xt[Wt.PRERELEASELOOSE]}?${Xt[Wt.BUILD]}?`);Ca("LOOSE",`^${Xt[Wt.LOOSEPLAIN]}$`);Ca("GTLT","((?:<|>)?=?)");Ca("XRANGEIDENTIFIERLOOSE",`${Xt[Wt.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ca("XRANGEIDENTIFIER",`${Xt[Wt.NUMERICIDENTIFIER]}|x|X|\\*`);Ca("XRANGEPLAIN",`[v=\\s]*(${Xt[Wt.XRANGEIDENTIFIER]})(?:\\.(${Xt[Wt.XRANGEIDENTIFIER]})(?:\\.(${Xt[Wt.XRANGEIDENTIFIER]})(?:${Xt[Wt.PRERELEASE]})?${Xt[Wt.BUILD]}?)?)?`);Ca("XRANGEPLAINLOOSE",`[v=\\s]*(${Xt[Wt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Xt[Wt.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Xt[Wt.XRANGEIDENTIFIERLOOSE]})(?:${Xt[Wt.PRERELEASELOOSE]})?${Xt[Wt.BUILD]}?)?)?`);Ca("XRANGE",`^${Xt[Wt.GTLT]}\\s*${Xt[Wt.XRANGEPLAIN]}$`);Ca("XRANGELOOSE",`^${Xt[Wt.GTLT]}\\s*${Xt[Wt.XRANGEPLAINLOOSE]}$`);Ca("COERCEPLAIN",`(^|[^\\d])(\\d{1,${CY}})(?:\\.(\\d{1,${CY}}))?(?:\\.(\\d{1,${CY}}))?`);Ca("COERCE",`${Xt[Wt.COERCEPLAIN]}(?:$|[^\\d])`);Ca("COERCEFULL",Xt[Wt.COERCEPLAIN]+`(?:${Xt[Wt.PRERELEASE]})?(?:${Xt[Wt.BUILD]})?(?:$|[^\\d])`);Ca("COERCERTL",Xt[Wt.COERCE],!0);Ca("COERCERTLFULL",Xt[Wt.COERCEFULL],!0);Ca("LONETILDE","(?:~>?)");Ca("TILDETRIM",`(\\s*)${Xt[Wt.LONETILDE]}\\s+`,!0);sh.tildeTrimReplace="$1~";Ca("TILDE",`^${Xt[Wt.LONETILDE]}${Xt[Wt.XRANGEPLAIN]}$`);Ca("TILDELOOSE",`^${Xt[Wt.LONETILDE]}${Xt[Wt.XRANGEPLAINLOOSE]}$`);Ca("LONECARET","(?:\\^)");Ca("CARETTRIM",`(\\s*)${Xt[Wt.LONECARET]}\\s+`,!0);sh.caretTrimReplace="$1^";Ca("CARET",`^${Xt[Wt.LONECARET]}${Xt[Wt.XRANGEPLAIN]}$`);Ca("CARETLOOSE",`^${Xt[Wt.LONECARET]}${Xt[Wt.XRANGEPLAINLOOSE]}$`);Ca("COMPARATORLOOSE",`^${Xt[Wt.GTLT]}\\s*(${Xt[Wt.LOOSEPLAIN]})$|^$`);Ca("COMPARATOR",`^${Xt[Wt.GTLT]}\\s*(${Xt[Wt.FULLPLAIN]})$|^$`);Ca("COMPARATORTRIM",`(\\s*)${Xt[Wt.GTLT]}\\s*(${Xt[Wt.LOOSEPLAIN]}|${Xt[Wt.XRANGEPLAIN]})`,!0);sh.comparatorTrimReplace="$1$2$3";Ca("HYPHENRANGE",`^\\s*(${Xt[Wt.XRANGEPLAIN]})\\s+-\\s+(${Xt[Wt.XRANGEPLAIN]})\\s*$`);Ca("HYPHENRANGELOOSE",`^\\s*(${Xt[Wt.XRANGEPLAINLOOSE]})\\s+-\\s+(${Xt[Wt.XRANGEPLAINLOOSE]})\\s*$`);Ca("STAR","(<|>)?=?\\s*\\*");Ca("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ca("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Tz=mA((nIt,NyA)=>{var Hbe=Object.freeze({loose:!0}),Vbe=Object.freeze({}),Xbe=A=>A?typeof A!="object"?Hbe:A:Vbe;NyA.exports=Xbe});var TY=mA((iIt,VyA)=>{var UyA=/^[0-9]+$/,HyA=(A,e)=>{let t=UyA.test(A),r=UyA.test(e);return t&&r&&(A=+A,e=+e),A===e?0:t&&!r?-1:r&&!t?1:A<e?-1:1},Wbe=(A,e)=>HyA(e,A);VyA.exports={compareIdentifiers:HyA,rcompareIdentifiers:Wbe}});var Tl=mA((oIt,YyA)=>{var _z=vI(),{MAX_LENGTH:XyA,MAX_SAFE_INTEGER:Dz}=yI(),{safeRe:WyA,t:JyA}=rG(),Jbe=Tz(),{compareIdentifiers:aG}=TY(),_Y=class A{constructor(e,t){if(t=Jbe(t),e instanceof A){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>XyA)throw new TypeError(`version is longer than ${XyA} characters`);_z("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?WyA[JyA.LOOSE]:WyA[JyA.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Dz||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dz||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dz||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(a=>{if(/^[0-9]+$/.test(a)){let j=+a;if(j>=0&&j<Dz)return j}return a}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_z("SemVer.compare",this.version,this.options,e),!(e instanceof A)){if(typeof e=="string"&&e===this.version)return 0;e=new A(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof A||(e=new A(e,this.options)),aG(this.major,e.major)||aG(this.minor,e.minor)||aG(this.patch,e.patch)}comparePre(e){if(e instanceof A||(e=new A(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],a=e.prerelease[t];if(_z("prerelease compare",t,r,a),r===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(r===void 0)return-1;if(r===a)continue;return aG(r,a)}while(++t)}compareBuild(e){e instanceof A||(e=new A(e,this.options));let t=0;do{let r=this.build[t],a=e.build[t];if(_z("build compare",t,r,a),r===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(r===void 0)return-1;if(r===a)continue;return aG(r,a)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let a=Number(r)?1:0;if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[a];else{let j=this.prerelease.length;for(;--j>=0;)typeof this.prerelease[j]=="number"&&(this.prerelease[j]++,j=-2);if(j===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(a)}}if(t){let j=[t,a];r===!1&&(j=[t]),aG(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=j):this.prerelease=j}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};YyA.exports=_Y});var Ab=mA((sIt,QyA)=>{var ZyA=Tl(),Ybe=(A,e,t=!1)=>{if(A instanceof ZyA)return A;try{return new ZyA(A,e)}catch(r){if(!t)return null;throw r}};QyA.exports=Ybe});var evA=mA((lIt,AvA)=>{var Zbe=Ab(),Qbe=(A,e)=>{let t=Zbe(A,e);return t?t.version:null};AvA.exports=Qbe});var rvA=mA((cIt,tvA)=>{var Aye=Ab(),eye=(A,e)=>{let t=Aye(A.trim().replace(/^[=v]+/,""),e);return t?t.version:null};tvA.exports=eye});var nvA=mA((uIt,jvA)=>{var avA=Tl(),tye=(A,e,t,r,a)=>{typeof t=="string"&&(a=r,r=t,t=void 0);try{return new avA(A instanceof avA?A.version:A,t).inc(e,r,a).version}catch{return null}};jvA.exports=tye});var svA=mA((dIt,ovA)=>{var ivA=Ab(),rye=(A,e)=>{let t=ivA(A,null,!0),r=ivA(e,null,!0),a=t.compare(r);if(a===0)return null;let j=a>0,n=j?t:r,i=j?r:t,o=!!n.prerelease.length;if(!!i.prerelease.length&&!o)return!i.patch&&!i.minor?"major":n.patch?"patch":n.minor?"minor":"major";let c=o?"pre":"";return t.major!==r.major?c+"major":t.minor!==r.minor?c+"minor":t.patch!==r.patch?c+"patch":"prerelease"};ovA.exports=rye});var cvA=mA((mIt,lvA)=>{var aye=Tl(),jye=(A,e)=>new aye(A,e).major;lvA.exports=jye});var dvA=mA((pIt,uvA)=>{var nye=Tl(),iye=(A,e)=>new nye(A,e).minor;uvA.exports=iye});var pvA=mA((kIt,mvA)=>{var oye=Tl(),sye=(A,e)=>new oye(A,e).patch;mvA.exports=sye});var hvA=mA((hIt,kvA)=>{var lye=Ab(),cye=(A,e)=>{let t=lye(A,e);return t&&t.prerelease.length?t.prerelease:null};kvA.exports=cye});var md=mA((gIt,fvA)=>{var gvA=Tl(),uye=(A,e,t)=>new gvA(A,t).compare(new gvA(e,t));fvA.exports=uye});var EvA=mA((fIt,BvA)=>{var dye=md(),mye=(A,e,t)=>dye(e,A,t);BvA.exports=mye});var bvA=mA((BIt,xvA)=>{var pye=md(),kye=(A,e)=>pye(A,e,!0);xvA.exports=kye});var zz=mA((EIt,vvA)=>{var yvA=Tl(),hye=(A,e,t)=>{let r=new yvA(A,t),a=new yvA(e,t);return r.compare(a)||r.compareBuild(a)};vvA.exports=hye});var GvA=mA((xIt,FvA)=>{var gye=zz(),fye=(A,e)=>A.sort((t,r)=>gye(t,r,e));FvA.exports=fye});var qvA=mA((bIt,wvA)=>{var Bye=zz(),Eye=(A,e)=>A.sort((t,r)=>Bye(r,t,e));wvA.exports=Eye});var FI=mA((yIt,$vA)=>{var xye=md(),bye=(A,e,t)=>xye(A,e,t)>0;$vA.exports=bye});var Mz=mA((vIt,IvA)=>{var yye=md(),vye=(A,e,t)=>yye(A,e,t)<0;IvA.exports=vye});var DY=mA((FIt,PvA)=>{var Fye=md(),Gye=(A,e,t)=>Fye(A,e,t)===0;PvA.exports=Gye});var zY=mA((GIt,SvA)=>{var wye=md(),qye=(A,e,t)=>wye(A,e,t)!==0;SvA.exports=qye});var Rz=mA((wIt,CvA)=>{var $ye=md(),Iye=(A,e,t)=>$ye(A,e,t)>=0;CvA.exports=Iye});var Kz=mA((qIt,OvA)=>{var Pye=md(),Sye=(A,e,t)=>Pye(A,e,t)<=0;OvA.exports=Sye});var MY=mA(($It,TvA)=>{var Cye=DY(),Oye=zY(),Tye=FI(),_ye=Rz(),Dye=Mz(),zye=Kz(),Mye=(A,e,t,r)=>{switch(e){case"===":return typeof A=="object"&&(A=A.version),typeof t=="object"&&(t=t.version),A===t;case"!==":return typeof A=="object"&&(A=A.version),typeof t=="object"&&(t=t.version),A!==t;case"":case"=":case"==":return Cye(A,t,r);case"!=":return Oye(A,t,r);case">":return Tye(A,t,r);case">=":return _ye(A,t,r);case"<":return Dye(A,t,r);case"<=":return zye(A,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};TvA.exports=Mye});var DvA=mA((IIt,_vA)=>{var Rye=Tl(),Kye=Ab(),{safeRe:Lz,t:Nz}=rG(),Lye=(A,e)=>{if(A instanceof Rye)return A;if(typeof A=="number"&&(A=String(A)),typeof A!="string")return null;e=e||{};let t=null;if(!e.rtl)t=A.match(e.includePrerelease?Lz[Nz.COERCEFULL]:Lz[Nz.COERCE]);else{let o=e.includePrerelease?Lz[Nz.COERCERTLFULL]:Lz[Nz.COERCERTL],s;for(;(s=o.exec(A))&&(!t||t.index+t[0].length!==A.length);)(!t||s.index+s[0].length!==t.index+t[0].length)&&(t=s),o.lastIndex=s.index+s[1].length+s[2].length;o.lastIndex=-1}if(t===null)return null;let r=t[2],a=t[3]||"0",j=t[4]||"0",n=e.includePrerelease&&t[5]?`-${t[5]}`:"",i=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Kye(`${r}.${a}.${j}${n}${i}`,e)};_vA.exports=Lye});var MvA=mA((PIt,zvA)=>{var RY=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let a=this.map.keys().next().value;this.delete(a)}this.map.set(e,t)}return this}};zvA.exports=RY});var pd=mA((SIt,NvA)=>{var KY=class A{constructor(e,t){if(t=Uye(t),e instanceof A)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new A(e.raw,t);if(e instanceof LY)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(a=>!KvA(a[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let a of this.set)if(a.length===1&&Zye(a[0])){this.set=[a];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&Jye)|(this.options.loose&&Yye))+":"+e,a=RvA.get(r);if(a)return a;let j=this.options.loose,n=j?W6[c6.HYPHENRANGELOOSE]:W6[c6.HYPHENRANGE];e=e.replace(n,ove(this.options.includePrerelease)),ai("hyphen replace",e),e=e.replace(W6[c6.COMPARATORTRIM],Vye),ai("comparator trim",e),e=e.replace(W6[c6.TILDETRIM],Xye),ai("tilde trim",e),e=e.replace(W6[c6.CARETTRIM],Wye),ai("caret trim",e);let i=e.split(" ").map(u=>Qye(u,this.options)).join(" ").split(/\s+/).map(u=>ive(u,this.options));j&&(i=i.filter(u=>(ai("loose invalid filter",u,this.options),!!u.match(W6[c6.COMPARATORLOOSE])))),ai("range list",i);let o=new Map,s=i.map(u=>new LY(u,this.options));for(let u of s){if(KvA(u))return[u];o.set(u.value,u)}o.size>1&&o.has("")&&o.delete("");let c=[...o.values()];return RvA.set(r,c),c}intersects(e,t){if(!(e instanceof A))throw new TypeError("a Range is required");return this.set.some(r=>LvA(r,t)&&e.set.some(a=>LvA(a,t)&&r.every(j=>a.every(n=>j.intersects(n,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Hye(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(sve(this.set[t],e,this.options))return!0;return!1}};NvA.exports=KY;var Nye=MvA(),RvA=new Nye,Uye=Tz(),LY=GI(),ai=vI(),Hye=Tl(),{safeRe:W6,t:c6,comparatorTrimReplace:Vye,tildeTrimReplace:Xye,caretTrimReplace:Wye}=rG(),{FLAG_INCLUDE_PRERELEASE:Jye,FLAG_LOOSE:Yye}=yI(),KvA=A=>A.value==="<0.0.0-0",Zye=A=>A.value==="",LvA=(A,e)=>{let t=!0,r=A.slice(),a=r.pop();for(;t&&r.length;)t=r.every(j=>a.intersects(j,e)),a=r.pop();return t},Qye=(A,e)=>(ai("comp",A,e),A=tve(A,e),ai("caret",A),A=Ave(A,e),ai("tildes",A),A=ave(A,e),ai("xrange",A),A=nve(A,e),ai("stars",A),A),u6=A=>!A||A.toLowerCase()==="x"||A==="*",Ave=(A,e)=>A.trim().split(/\s+/).map(t=>eve(t,e)).join(" "),eve=(A,e)=>{let t=e.loose?W6[c6.TILDELOOSE]:W6[c6.TILDE];return A.replace(t,(r,a,j,n,i)=>{ai("tilde",A,r,a,j,n,i);let o;return u6(a)?o="":u6(j)?o=`>=${a}.0.0 <${+a+1}.0.0-0`:u6(n)?o=`>=${a}.${j}.0 <${a}.${+j+1}.0-0`:i?(ai("replaceTilde pr",i),o=`>=${a}.${j}.${n}-${i} <${a}.${+j+1}.0-0`):o=`>=${a}.${j}.${n} <${a}.${+j+1}.0-0`,ai("tilde return",o),o})},tve=(A,e)=>A.trim().split(/\s+/).map(t=>rve(t,e)).join(" "),rve=(A,e)=>{ai("caret",A,e);let t=e.loose?W6[c6.CARETLOOSE]:W6[c6.CARET],r=e.includePrerelease?"-0":"";return A.replace(t,(a,j,n,i,o)=>{ai("caret",A,a,j,n,i,o);let s;return u6(j)?s="":u6(n)?s=`>=${j}.0.0${r} <${+j+1}.0.0-0`:u6(i)?j==="0"?s=`>=${j}.${n}.0${r} <${j}.${+n+1}.0-0`:s=`>=${j}.${n}.0${r} <${+j+1}.0.0-0`:o?(ai("replaceCaret pr",o),j==="0"?n==="0"?s=`>=${j}.${n}.${i}-${o} <${j}.${n}.${+i+1}-0`:s=`>=${j}.${n}.${i}-${o} <${j}.${+n+1}.0-0`:s=`>=${j}.${n}.${i}-${o} <${+j+1}.0.0-0`):(ai("no pr"),j==="0"?n==="0"?s=`>=${j}.${n}.${i}${r} <${j}.${n}.${+i+1}-0`:s=`>=${j}.${n}.${i}${r} <${j}.${+n+1}.0-0`:s=`>=${j}.${n}.${i} <${+j+1}.0.0-0`),ai("caret return",s),s})},ave=(A,e)=>(ai("replaceXRanges",A,e),A.split(/\s+/).map(t=>jve(t,e)).join(" ")),jve=(A,e)=>{A=A.trim();let t=e.loose?W6[c6.XRANGELOOSE]:W6[c6.XRANGE];return A.replace(t,(r,a,j,n,i,o)=>{ai("xRange",A,r,a,j,n,i,o);let s=u6(j),c=s||u6(n),u=c||u6(i),p=u;return a==="="&&p&&(a=""),o=e.includePrerelease?"-0":"",s?a===">"||a==="<"?r="<0.0.0-0":r="*":a&&p?(c&&(n=0),i=0,a===">"?(a=">=",c?(j=+j+1,n=0,i=0):(n=+n+1,i=0)):a==="<="&&(a="<",c?j=+j+1:n=+n+1),a==="<"&&(o="-0"),r=`${a+j}.${n}.${i}${o}`):c?r=`>=${j}.0.0${o} <${+j+1}.0.0-0`:u&&(r=`>=${j}.${n}.0${o} <${j}.${+n+1}.0-0`),ai("xRange return",r),r})},nve=(A,e)=>(ai("replaceStars",A,e),A.trim().replace(W6[c6.STAR],"")),ive=(A,e)=>(ai("replaceGTE0",A,e),A.trim().replace(W6[e.includePrerelease?c6.GTE0PRE:c6.GTE0],"")),ove=A=>(e,t,r,a,j,n,i,o,s,c,u,p)=>(u6(r)?t="":u6(a)?t=`>=${r}.0.0${A?"-0":""}`:u6(j)?t=`>=${r}.${a}.0${A?"-0":""}`:n?t=`>=${t}`:t=`>=${t}${A?"-0":""}`,u6(s)?o="":u6(c)?o=`<${+s+1}.0.0-0`:u6(u)?o=`<${s}.${+c+1}.0-0`:p?o=`<=${s}.${c}.${u}-${p}`:A?o=`<${s}.${c}.${+u+1}-0`:o=`<=${o}`,`${t} ${o}`.trim()),sve=(A,e,t)=>{for(let r=0;r<A.length;r++)if(!A[r].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let r=0;r<A.length;r++)if(ai(A[r].semver),A[r].semver!==LY.ANY&&A[r].semver.prerelease.length>0){let a=A[r].semver;if(a.major===e.major&&a.minor===e.minor&&a.patch===e.patch)return!0}return!1}return!0}});var GI=mA((CIt,JvA)=>{var wI=Symbol("SemVer ANY"),HY=class A{static get ANY(){return wI}constructor(e,t){if(t=UvA(t),e instanceof A){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),UY("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===wI?this.value="":this.value=this.operator+this.semver.version,UY("comp",this)}parse(e){let t=this.options.loose?HvA[VvA.COMPARATORLOOSE]:HvA[VvA.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new XvA(r[2],this.options.loose):this.semver=wI}toString(){return this.value}test(e){if(UY("Comparator.test",e,this.options.loose),this.semver===wI||e===wI)return!0;if(typeof e=="string")try{e=new XvA(e,this.options)}catch{return!1}return NY(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof A))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new WvA(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new WvA(this.value,t).test(e.semver):(t=UvA(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||NY(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||NY(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};JvA.exports=HY;var UvA=Tz(),{safeRe:HvA,t:VvA}=rG(),NY=MY(),UY=vI(),XvA=Tl(),WvA=pd()});var qI=mA((OIt,YvA)=>{var lve=pd(),cve=(A,e,t)=>{try{e=new lve(e,t)}catch{return!1}return e.test(A)};YvA.exports=cve});var QvA=mA((TIt,ZvA)=>{var uve=pd(),dve=(A,e)=>new uve(A,e).set.map(t=>t.map(r=>r.value).join(" ").trim().split(" "));ZvA.exports=dve});var e0A=mA((_It,A0A)=>{var mve=Tl(),pve=pd(),kve=(A,e,t)=>{let r=null,a=null,j=null;try{j=new pve(e,t)}catch{return null}return A.forEach(n=>{j.test(n)&&(!r||a.compare(n)===-1)&&(r=n,a=new mve(r,t))}),r};A0A.exports=kve});var r0A=mA((DIt,t0A)=>{var hve=Tl(),gve=pd(),fve=(A,e,t)=>{let r=null,a=null,j=null;try{j=new gve(e,t)}catch{return null}return A.forEach(n=>{j.test(n)&&(!r||a.compare(n)===1)&&(r=n,a=new hve(r,t))}),r};t0A.exports=fve});var n0A=mA((zIt,j0A)=>{var VY=Tl(),Bve=pd(),a0A=FI(),Eve=(A,e)=>{A=new Bve(A,e);let t=new VY("0.0.0");if(A.test(t)||(t=new VY("0.0.0-0"),A.test(t)))return t;t=null;for(let r=0;r<A.set.length;++r){let a=A.set[r],j=null;a.forEach(n=>{let i=new VY(n.semver.version);switch(n.operator){case">":i.prerelease.length===0?i.patch++:i.prerelease.push(0),i.raw=i.format();case"":case">=":(!j||a0A(i,j))&&(j=i);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),j&&(!t||a0A(t,j))&&(t=j)}return t&&A.test(t)?t:null};j0A.exports=Eve});var o0A=mA((MIt,i0A)=>{var xve=pd(),bve=(A,e)=>{try{return new xve(A,e).range||"*"}catch{return null}};i0A.exports=bve});var Uz=mA((RIt,u0A)=>{var yve=Tl(),c0A=GI(),{ANY:vve}=c0A,Fve=pd(),Gve=qI(),s0A=FI(),l0A=Mz(),wve=Kz(),qve=Rz(),$ve=(A,e,t,r)=>{A=new yve(A,r),e=new Fve(e,r);let a,j,n,i,o;switch(t){case">":a=s0A,j=wve,n=l0A,i=">",o=">=";break;case"<":a=l0A,j=qve,n=s0A,i="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Gve(A,e,r))return!1;for(let s=0;s<e.set.length;++s){let c=e.set[s],u=null,p=null;if(c.forEach(h=>{h.semver===vve&&(h=new c0A(">=0.0.0")),u=u||h,p=p||h,a(h.semver,u.semver,r)?u=h:n(h.semver,p.semver,r)&&(p=h)}),u.operator===i||u.operator===o||(!p.operator||p.operator===i)&&j(A,p.semver))return!1;if(p.operator===o&&n(A,p.semver))return!1}return!0};u0A.exports=$ve});var m0A=mA((KIt,d0A)=>{var Ive=Uz(),Pve=(A,e,t)=>Ive(A,e,">",t);d0A.exports=Pve});var k0A=mA((LIt,p0A)=>{var Sve=Uz(),Cve=(A,e,t)=>Sve(A,e,"<",t);p0A.exports=Cve});var f0A=mA((NIt,g0A)=>{var h0A=pd(),Ove=(A,e,t)=>(A=new h0A(A,t),e=new h0A(e,t),A.intersects(e,t));g0A.exports=Ove});var E0A=mA((UIt,B0A)=>{var Tve=qI(),_ve=md();B0A.exports=(A,e,t)=>{let r=[],a=null,j=null,n=A.sort((c,u)=>_ve(c,u,t));for(let c of n)Tve(c,e,t)?(j=c,a||(a=c)):(j&&r.push([a,j]),j=null,a=null);a&&r.push([a,null]);let i=[];for(let[c,u]of r)c===u?i.push(c):!u&&c===n[0]?i.push("*"):u?c===n[0]?i.push(`<=${u}`):i.push(`${c} - ${u}`):i.push(`>=${c}`);let o=i.join(" || "),s=typeof e.raw=="string"?e.raw:String(e);return o.length<s.length?o:e}});var G0A=mA((HIt,F0A)=>{var x0A=pd(),WY=GI(),{ANY:XY}=WY,$I=qI(),JY=md(),Dve=(A,e,t={})=>{if(A===e)return!0;A=new x0A(A,t),e=new x0A(e,t);let r=!1;A:for(let a of A.set){for(let j of e.set){let n=Mve(a,j,t);if(r=r||n!==null,n)continue A}if(r)return!1}return!0},zve=[new WY(">=0.0.0-0")],b0A=[new WY(">=0.0.0")],Mve=(A,e,t)=>{if(A===e)return!0;if(A.length===1&&A[0].semver===XY){if(e.length===1&&e[0].semver===XY)return!0;t.includePrerelease?A=zve:A=b0A}if(e.length===1&&e[0].semver===XY){if(t.includePrerelease)return!0;e=b0A}let r=new Set,a,j;for(let h of A)h.operator===">"||h.operator===">="?a=y0A(a,h,t):h.operator==="<"||h.operator==="<="?j=v0A(j,h,t):r.add(h.semver);if(r.size>1)return null;let n;if(a&&j){if(n=JY(a.semver,j.semver,t),n>0)return null;if(n===0&&(a.operator!==">="||j.operator!=="<="))return null}for(let h of r){if(a&&!$I(h,String(a),t)||j&&!$I(h,String(j),t))return null;for(let f of e)if(!$I(h,String(f),t))return!1;return!0}let i,o,s,c,u=j&&!t.includePrerelease&&j.semver.prerelease.length?j.semver:!1,p=a&&!t.includePrerelease&&a.semver.prerelease.length?a.semver:!1;u&&u.prerelease.length===1&&j.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let h of e){if(c=c||h.operator===">"||h.operator===">=",s=s||h.operator==="<"||h.operator==="<=",a){if(p&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===p.major&&h.semver.minor===p.minor&&h.semver.patch===p.patch&&(p=!1),h.operator===">"||h.operator===">="){if(i=y0A(a,h,t),i===h&&i!==a)return!1}else if(a.operator===">="&&!$I(a.semver,String(h),t))return!1}if(j){if(u&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===u.major&&h.semver.minor===u.minor&&h.semver.patch===u.patch&&(u=!1),h.operator==="<"||h.operator==="<="){if(o=v0A(j,h,t),o===h&&o!==j)return!1}else if(j.operator==="<="&&!$I(j.semver,String(h),t))return!1}if(!h.operator&&(j||a)&&n!==0)return!1}return!(a&&s&&!j&&n!==0||j&&c&&!a&&n!==0||p||u)},y0A=(A,e,t)=>{if(!A)return e;let r=JY(A.semver,e.semver,t);return r>0?A:r<0||e.operator===">"&&A.operator===">="?e:A},v0A=(A,e,t)=>{if(!A)return e;let r=JY(A.semver,e.semver,t);return r<0?A:r>0||e.operator==="<"&&A.operator==="<="?e:A};F0A.exports=Dve});var Hz=mA((VIt,$0A)=>{var YY=rG(),w0A=yI(),Rve=Tl(),q0A=TY(),Kve=Ab(),Lve=evA(),Nve=rvA(),Uve=nvA(),Hve=svA(),Vve=cvA(),Xve=dvA(),Wve=pvA(),Jve=hvA(),Yve=md(),Zve=EvA(),Qve=bvA(),A0e=zz(),e0e=GvA(),t0e=qvA(),r0e=FI(),a0e=Mz(),j0e=DY(),n0e=zY(),i0e=Rz(),o0e=Kz(),s0e=MY(),l0e=DvA(),c0e=GI(),u0e=pd(),d0e=qI(),m0e=QvA(),p0e=e0A(),k0e=r0A(),h0e=n0A(),g0e=o0A(),f0e=Uz(),B0e=m0A(),E0e=k0A(),x0e=f0A(),b0e=E0A(),y0e=G0A();$0A.exports={parse:Kve,valid:Lve,clean:Nve,inc:Uve,diff:Hve,major:Vve,minor:Xve,patch:Wve,prerelease:Jve,compare:Yve,rcompare:Zve,compareLoose:Qve,compareBuild:A0e,sort:e0e,rsort:t0e,gt:r0e,lt:a0e,eq:j0e,neq:n0e,gte:i0e,lte:o0e,cmp:s0e,coerce:l0e,Comparator:c0e,Range:u0e,satisfies:d0e,toComparators:m0e,maxSatisfying:p0e,minSatisfying:k0e,minVersion:h0e,validRange:g0e,outside:f0e,gtr:B0e,ltr:E0e,intersects:x0e,simplifyRange:b0e,subset:y0e,SemVer:Rve,re:YY.re,src:YY.src,tokens:YY.t,SEMVER_SPEC_VERSION:w0A.SEMVER_SPEC_VERSION,RELEASE_TYPES:w0A.RELEASE_TYPES,compareIdentifiers:q0A.compareIdentifiers,rcompareIdentifiers:q0A.rcompareIdentifiers}});var Wr=mA(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.ItemDetailBannerType=v.ItemState=v.SortOrder=v.SortKey=v.QrCodeFormat=v.FillType=v.AppStoreProductAccountType=v.AppStoreProductIntroductoryPaymentMode=v.AppStoreProductSubscriptionPeriodUnit=v.AppLockState=v.VaultPermissionUpdateType=v.ApiReAuthRequestReason=v.ApiCacheBehavior=v.ApiGetUsersSortKey=v.UserType=v.GroupType=v.GroupState=v.ApiGetAccountsSortKey=v.ApiSortOrder=v.AccountOfflineStatus=v.ApiFilterMethod=v.AutoFillMethod=v.ContactType=v.FormDesignation=v.SuggestedIntegration=v.ResolveMode=v.ElementType=v.AutofilledBy=v.AddressSection=v.ActivityLogEntryType=v.ActivationHubDeviceTaskType=v.ActivationHubDeviceCategory=v.ActivationHubTaskName=v.AccountStatus=v.SignInButtonStyle=v.UserState=v.VaultType=v.AccountState=v.AccountType=v.BillingStatus=v.CalloutBannerVariant=v.ButtonStyle=v.ButtonState=v.ComponentName=v.EmptyContentBackground=v.BackupCredentialsAuthMethod=v.IconShape=v.IconBadge=v.Action=v.AutofillType=void 0;v.EssentialSetupFeatureIllustration=v.EssentialSetupIllustration=v.EmptyContentButtonStyle=v.EmergencyKitSignInButtonAction=v.TotpIndicatorColor=v.ItemDetailPrimaryAction=v.ViewItemSpacing=v.DateTimeVariant=v.ElementBorderStyle=v.EditItemSaveValueAddFieldType=v.EditItemIconMenuAction=v.EditItemElementInputAutoCapitalization=v.EditItemElementInputKeyboard=v.EditItemCreateBannerType=v.EditItemWarning=v.EditItemDateClassification=v.AddFileSource=v.DefaultIconFile=v.CredentialResultStatus=v.CredentialExchangeProvider=v.AttestationStatementFormatIdentifiers=v.SignInFieldViewContext=v.SignInFieldAction=v.PrivacyCardSpendLimitDuration=v.PrivacyCardType=v.CreateButtonStyle=v.ItemAction=v.TrayAction=v.HoldToRevealMode=v.AndroidAuthMethod=v.ThemeMode=v.Tristate=v.CancelSignInBehavior=v.BrexUserPermissionStatus=v.BrexUserStatus=v.BrexEnvironment=v.BrexLimitDuration=v.BrexCurrency=v.BrexLimitType=v.BrexCardType=v.BrexCardStatus=v.BiometryAvailability=v.BiometryMethod=v.BiometricPolicy=v.CopyOption=v.EditItemSectionKind=v.EditItemSpacing=v.B5xOpiLogLevel=v.ItemUrlMode=v.DismissAction=void 0;v.OfflineIndicatorAction=v.OauthErrorType=v.OAuthRejectedError=v.SignInResponseContext=v.SettingsCategoryId=v.LockState=v.FillStatus=v.MyceliumMode=v.InvitationRole=v.MobileTab=v.MobileHomeScreenFeature=v.MobileHomeScreenEditIdentifier=v.MessageBoxType=v.Roles=v.MdLinkType=v.ManualSignInSubmitAction=v.CancelButtonStyle=v.SignInTextInputId=v.ManageAccountTelemetrySettingsOptionId=v.ManageAccountIllustration=v.ManageAccountColor=v.TextInputFieldType=v.MaCategoryId=v.LockScreenAccountPreviewMode=v.Accessible=v.KeyOp=v.KeyType=v.KeyAlgorithm=v.ItemLocationMessageElementSize=v.ItemDetailState=v.RenderTarget=v.IndicatorPillColor=v.InAppPurchaseButtonStyle=v.TimePadding=v.HourCycle=v.HourIndexing=v.WebItemIntegrationInformation=v.Browser=v.AliasState=v.WordListType=v.SeparatorType=v.PasswordType=v.FileImportType=v.FileStatus=v.FundingAccountApiState=v.Status=v.SshPrivateKeyExportFormat=v.Format=v.EssentialSetupPageNavigationButtonEmphasis=v.EssentialSetupPageId=void 0;v.AddressType=v.AddLocationToItemResponse=v.ActionName=v.AccountLockState=v.AccessorType=v.ZoneISOFieldRequirement=v.ZoneISOFormatType=v.WelcomeScreenSlideID=v.WatchtowerCardType=v.VaultSimplifiedPermissionsSummary=v.VaultPermissionViewRemoveWarning=v.VaultSimplifiedPermissions=v.VaultCollectionDetailState=v.ValidOtpSchemes=v.ToastBehavior=v.ThemedIconFile=v.StepperChangeType=v.SilentUnlockReason=v.SidebarElementSpacerType=v.ManualSignInFormType=v.ShareItemTelemetryShareMethod=v.ShareItemLimitViewsCheckbox=v.ShareItemLinkExpirationMenuEntryId=v.ShareItemErrorFormat=v.ShareItemAvailableToMenuEntryId=v.TextJustification=v.SettingsElementRadioOptionIllustration=v.SettingsElementPillType=v.KnoxCalloutSeverity=v.SecondaryView=v.CreateItemType=v.UsoProvider=v.SaveManagerIntegration=v.SafariWebExtensionAccountType=v.BiometryType=v.ReleaseChannel=v.RecoveryKeyFileContentsFormat=v.QrCodeSource=v.QuickAccessOpenedBy=v.QXOnboardingAction=v.FieldPriorityOrder=v.PrivacySpendLimit=v.OpenUrlType=v.OpWebCoreAppTheme=v.PasswordGeneratorButtonAction=v.SyncFlag=v.QfSectionName=v.SbCollectionType=v.WindowType=v.OpAppAccountSignOutReason=void 0;v.ImportName=v.GetItemAtVersionError=v.FrontendAction=v.FreeFamilyOption=v.FillStatusError=v.ExperimentId=v.EssentialSetupRequest=v.ErrorRequestingDSecretProxy=v.Error=v.EmailAliasProvider=v.DistanceUnit=v.DeleteUnlockPasskeyResponse=v.ConfirmUserResponse=v.ComponentType=v.ComponentSource=v.CodeSignatureError=v.ClientDataType=v.CheckboxSetting=v.CcType=v.CancelInviteResponse=v.BrowserVerificationFailedReason=v.BrowserSupportResponse=v.BrowserHelperResponse=v.BiometricUnlock=v.BiometricAuthResponse=v.BindingError=v.B5xBrowser=v.AutoFillItemType=v.AuthorizedDeviceQrDisplayMyceliumSignInResponse=v.AuthPromptType=v.AppleNotificationAuthorizationStatusResponse=v.AppleNotificationAuthorizationResponse=v.AppStoreReviewPromptRequest=v.AppStoreError=v.ApiValidateVaultPermissionsChangeError=v.ApiValidateSignInAddressError=v.ApiValidateSecretKeyError=v.ApiValidateEmailError=v.ApiType=v.ApiManageVaultAccessError=v.ApiItemHistoryError=v.ApiGetUsersError=v.ApiGetTrustedDevicesError=v.ApiGetGroupsError=v.ApiGetAuthMethodError=v.ApiGetAccountSignInCredentialsError=v.ApiDeleteFoundAccountResponse=v.AndroidWebAuthnError=v.AlignMyceliumRegionWithCurrentAccountsResponse=v.AliasError=void 0;v.XpcDisconnectReason=v.WindowFocusPurpose=v.WebMdError=v.WebAuthnSignUpAddAccountResponse=v.VaultPermissionsMethod=v.VaultPermissionsCannotModifyReason=v.VaultItemViewability=v.VaultError=v.ValidateRecoveryCodeResponse=v.UserPromptResponse=v.TelemetryCategory=v.SystemUnlockResponse=v.SilentUnlockResponse=v.ShowCreateItemResponse=v.SettingsCalloutVariant=v.SetB5xDeviceUUIDError=v.ServiceIntegration=v.SaveManagerError=v.ResendInviteResponse=v.RecoveryKeyDeleteResponse=v.RecoveryKeyActivateResponse=v.PeriodDisplay=v.OpiRequestError=v.OpImportStage=v.OpAppBrowserSupportSetup=v.NumericMonthDayDisplay=v.NmRequestDelegatedSessionError=v.NmCurrentStatusRequest=v.NmCredentialBundleError=v.NmAuthorizationResponse=v.MonthDayDisplay=v.MobileHomeScreenType=v.MfaInProgressKind=v.MdError=v.ManageAccountUserVaultsListResponseError=v.ManageAccountUserType=v.ManageAccountResponseError=v.Level=v.ItemListWatchtower=v.ItemListEntryError=v.ItemCatalogTheme=v.InterfaceIdiom=void 0;var _0A;(function(A){A.SshKeyTitle="ssh-key-title",A.SshKey="ssh-key",A.None="none",A.Name="name",A.HonorificPrefix="honorific-prefix",A.GivenName="given-name",A.AdditionalName="additional-name",A.FamilyName="family-name",A.HonorificSuffix="honorific-suffix",A.Nickname="nickname",A.OrganizationTitle="organization-title",A.Username="username",A.NewPassword="new-password",A.CurrentPassword="current-password",A.OneTimeCode="one-time-code",A.Organization="organization",A.StreetAddress="street-address",A.AddressLine1="address-line1",A.AddressLine2="address-line2",A.AddressLine3="address-line3",A.AddressLevel1="address-level1",A.AddressLevel2="address-level2",A.AddressLevel3="address-level3",A.AddressLevel4="address-level4",A.Country="country",A.CountryName="country-name",A.PostalCode="postal-code",A.CcName="cc-name",A.CcGivenName="cc-given-name",A.CcAdditionalName="cc-additional-name",A.CcFamilyName="cc-family-name",A.CcNumber="cc-number",A.CcExp="cc-exp",A.CcExpMonth="cc-exp-month",A.CcExpYear="cc-exp-year",A.CcCsc="cc-csc",A.CcType="cc-type",A.TransactionCurrency="transaction-currency",A.TransactionAmount="transaction-amount",A.Language="language",A.Bday="bday",A.BdayDay="bday-day",A.BdayMonth="bday-month",A.BdayYear="bday-year",A.Sex="sex",A.Url="url",A.Photo="photo",A.Tel="tel",A.TelCountryCode="tel-country-code",A.TelNational="tel-national",A.TelAreaCode="tel-area-code",A.TelLocal="tel-local",A.TelLocalPrefix="tel-local-prefix",A.TelLocalSuffix="tel-local-suffix",A.TelExtension="tel-extension",A.Email="email",A.Impp="impp",A.CryptoAddress="crypto-address",A.CryptoRecoverySeed="crypto-recovery-seed",A.RecoveryCode="recovery-code"})(_0A||(v.AutofillType=_0A={}));var D0A;(function(A){A.ClickOpid="clickOpid",A.ClickQuerySelector="clickQuerySelector",A.FillOpid="fillOpid",A.FillQuerySelector="fillQuerySelector",A.FocusOpid="focusOpid",A.Submit="submit"})(D0A||(v.Action=D0A={}));var z0A;(function(A){A.Favorite="favorite",A.Lock="lock",A.Chevron="chevron",A.ChevronPressed="chevronPressed",A.Key="key"})(z0A||(v.IconBadge=z0A={}));var M0A;(function(A){A.Circle="circle",A.RoundedRect="roundedRect",A.Rect="rect"})(M0A||(v.IconShape=M0A={}));var R0A;(function(A){A.SecretKey="secretKey",A.Sso="sso",A.WebAuthn="webAuthn"})(R0A||(v.BackupCredentialsAuthMethod=R0A={}));var K0A;(function(A){A.Vault="vault",A.Archive="archive",A.Favorites="favorites",A.Categories="categories",A.WatchtowerCompromised="watchtowerCompromised",A.WatchtowerVulnerable="watchtowerVulnerable",A.WatchtowerReused="watchtowerReused",A.WatchtowerWeak="watchtowerWeak",A.WatchtowerUnsecured="watchtowerUnsecured",A.WatchtowerInactiveMfa="watchtowerInactiveMfa",A.WatchtowerInWrongAccount="watchtowerInWrongAccount",A.WatchtowerPasskeyAvailable="watchtowerPasskeyAvailable",A.WatchtowerExpiring="watchtowerExpiring"})(K0A||(v.EmptyContentBackground=K0A={}));var L0A;(function(A){A.LegacySearchResult="legacy_search_result",A.SmartSearchResult="smart_search_result",A.SmartSearchFilterVault="smart_search_filter_vault",A.LegacySearchFilterVault="legacy_search_filter_vault",A.SmartSearchFilterFavorite="smart_search_filter_favorite",A.LegacySearchFilterFavorite="legacy_search_filter_favorite",A.SmartSearchFilterCategory="smart_search_filter_category",A.LegacySearchFilterCategory="legacy_search_filter_category",A.SmartSearchFilterTag="smart_search_filter_tag",A.LegacySearchFilterTag="legacy_search_filter_tag",A.SmartSearchFilterUntag="smart_search_filter_untag",A.LegacySearchFilterUntag="legacy_search_filter_untag",A.SetUpAnotherDevice="set_up_another_device",A.CopyLink="copy_link",A.ShareLink="share_link",A.SetUpAnotherDeviceSetupCode="set_up_another_device_setup_code",A.RemoveCard="remove_card",A.SafariExtensionCard="safari_extension_card",A.ProfileCard="profile_card",A.LabsCard="labs_card",A.AppleWatchCard="apple_watch_card",A.CustomizeHomeCard="customize_home_card",A.PinnedFieldsCard="pinned_fields_card",A.AutofillCard="autofill_card",A.Watchtower="watchtower",A.WatchtowerPasswordStrengthBar="password_strength_bar",A.WatchtowerCompromisedWebsites="compromised_websites",A.WatchtowerVulnerablePasswords="vulnerable_passwords",A.WatchtowerPasskeysAvailable="passkeys_available",A.WatchtowerWrongAccount="items_wrong_account",A.WatchtowerReusedPasswords="reused_passwords",A.WatchtowerWeakPasswords="weak_passwords",A.WatchtowerUnsecuredWebsites="unsecured_websites",A.Watchtower2FA="2FA",A.WatchtowerExpiringItems="expiring_items",A.WatchtowerDuplicateItems="duplicate_items",A.WatchtowerConflictingShortcuts="conflicting_shortcuts",A.WatchtowerDeveloperCredentials="dev_credentials_learn_more",A.WatchtowerRecoveryCodes="setup_recovery_code",A.WatchtowerDataInvolvedInBreach="data_involved_in_breach",A.WatchtowerIgnoredAlerts="ignored_alerts",A.StartHere="start_here",A.AddToBrowser="add_to_browser",A.SetUpAutofill="set_up_autofill",A.OpenTutorial="open_tutorial",A.ImportNext="import_next",A.DevicesNext="devices_next",A.ImportAddFirstItems="add_first_items",A.ImportMoreToAdd="have_more_to_add",A.ImportAddItemsChooseMethod="add_items_choose_method",A.MigrateDataToOnePassword="migrate_data_to_1p",A.ImportDoNotAskAboutMigrationsAgain="dont_ask_migrations_again",A.ImportCreateSingleItem="create_one_new_item",A.Cancel="cancel",A.DismissMigrateDataTo1P="dismiss_migrate_data_to_1p",A.ItemImport="item_import",A.Safari="safari",A.Firefox="firefox",A.Chrome="chrome",A.Edge="edge",A.Brave="brave",A.DifferentBrowser="different_browser",A.LastPass="lastpass",A.ICloudKeychain="icloud_keychain",A.Dashlane="dashlane",A.Keepass="keepass",A.KeepassXc="keepass_xc",A.Roboform="roboform",A.DeliniaSecretServer="delinea_secret_server",A.OnePassword="1password",A.DifferentPasswordManager="different_password_manager",A.MemorizedPasswords="memorized_passwords",A.PenAndPaper="pen_and_paper",A.Spreadsheet="spreadsheet",A.Csv="csv",A.DoNotSeeMyOption="i_dont_see_my_option",A.AddNewItemScreenGettingStarted="getting_started",A.AddNewItemScreenDeveloperTools="developer_tools",A.AddNewItemScreenMostPopularLogins="popular_logins",A.AddNewItemScreenCryptoBasics="crypto_basics",A.AddNewItemScreenTravelEssentials="travel_essentials",A.PinExtension="pin_extension",A.Done="done",A.Skip="skip",A.GetExtension="get_extension",A.ClickOpenBrowser="click_open_browser",A.GoToAutofillSettings="go_to_autofill_settings",A.UseAutofill="use_autofill",A.AutofillIsOn="autofill_is_on",A.AutofillIsReady="autofill_is_ready",A.AutofillStepOne="autofill_step_1",A.AutofillStepTwo="autofill_step_2",A.AutofillStepThree="autofill_step_3",A.AutofillStepFour="autofill_step_4",A.ClickPasswordField="click_password_field",A.UseSuggestedPassword="use_suggested_password",A.PracticeSaveAndFill="practice_save_and_fill",A.SaveItem="save_item",A.SavedInOnePassword="saved_in_1password",A.SelectUsernameField="select_username_field",A.FillWithOneClick="fill_with_one_click",A.YouAreDone="youre_done",A.ManageAccount="manage_account",A.People="people",A.InvitePeople="invite_people",A.Invite="invite",A.Accounts="accounts",A.AccountPage="account_page",A.FindInList="find_in_list",A.ItemTemplate="item_template",A.ItemSharing="item_sharing",A.ExportData="export_data",A.GitCommitSigning="git_commit_signing",A.EditAutomatically="edit_automatically",A.CopySnippet="copy_snippet",A.Close="close",A.SettingsDeveloper="settings_developer",A.DeveloperExperienceOnboarding="developer_experience_onboarding",A.DeveloperExperienceEnable="developer_experience_enable",A.DeveloperExperienceDismiss="developer_experience_dismiss",A.DeveloperExperienceSetting="developer_experience_setting",A.DeveloperExperienceHome="developer_experience_home",A.DeveloperExperienceSsh="developer_experience_ssh",A.DeveloperExperienceCli="developer_experience_cli",A.DeveloperExperienceWatchtower="developer_experience_watchtower",A.DeveloperExperienceActivity="developer_experience_activity",A.CopySecretReference="copy_secret_reference",A.MobileHome="mobile_home"})(L0A||(v.ComponentName=L0A={}));var N0A;(function(A){A.Enabled="enabled",A.Disabled="disabled"})(N0A||(v.ButtonState=N0A={}));var U0A;(function(A){A.Default="default",A.Destructive="destructive",A.DestructiveAlt="destructiveAlt",A.Primary="primary",A.PrimaryAlt="primaryAlt",A.PrimaryWhite="primaryWhite",A.Transparent="transparent",A.TransparentBlue="transparentBlue"})(U0A||(v.ButtonStyle=U0A={}));var H0A;(function(A){A.Subtle="subtle",A.Warning="warning",A.Info="info",A.SolidBlue="solidBlue",A.SolidPurple="solidPurple",A.SolidGreen="solidGreen",A.SolidRed="solidRed"})(H0A||(v.CalloutBannerVariant=H0A={}));var V0A;(function(A){A.Active="A",A.Pending="P",A.CancelAtEnd="C",A.Frozen="F",A.Lapsed="L",A.Trialing="T",A.Unsupported="Unsupported"})(V0A||(v.BillingStatus=V0A={}));var X0A;(function(A){A.Individual="I",A.Family="F",A.Team="B",A.Unsupported="Unsupported"})(X0A||(v.AccountType=X0A={}));var W0A;(function(A){A.Registered="R",A.Active="A",A.Suspended="S",A.Deleted="D",A.Purging="X",A.Purged="Z",A.Unsupported="Unsupported"})(W0A||(v.AccountState=W0A={}));var J0A;(function(A){A.Personal="P",A.Everyone="E",A.Transfer="T",A.UserCreated="U",A.System="S",A.GeneratedPasswords="G",A.ManagedApplications="M",A.Unsupported="Unsupported"})(J0A||(v.VaultType=J0A={}));var Y0A;(function(A){A.PendingActivation="P",A.Active="A",A.Suspended="S",A.Deleted="D",A.MustMigrateAuth="M",A.RecoveryStarted="1",A.RecoveryAccepted="2",A.Registered="R",A.EmailVerifiedIncomplete="V",A.ProvisionPending="T",A.ProvisionStarted="3",A.ProvisionAccepted="4",A.ProvisionSuspended="5",A.Purging="X",A.Purged="Z",A.Unsupported="Unsupported"})(Y0A||(v.UserState=Y0A={}));var Z0A;(function(A){A.Primary="primary",A.PrimaryOutline="primaryOutline",A.DangerOutline="dangerOutline",A.Grey="grey",A.Invisible="invisible"})(Z0A||(v.SignInButtonStyle=Z0A={}));var Q0A;(function(A){A.Active="active",A.Frozen="frozen",A.Guest="guest",A.Locked="locked"})(Q0A||(v.AccountStatus=Q0A={}));var AFA;(function(A){A.DownloadExtension="download-extension",A.SetUpAutofill="set-up-autofill",A.MigrateData="migrate-data",A.Practice="practice",A.AccessPasswords="access-passwords"})(AFA||(v.ActivationHubTaskName=AFA={}));var eFA;(function(A){A.PhoneOrTablet="phoneOrTablet",A.Computer="computer"})(eFA||(v.ActivationHubDeviceCategory=eFA={}));var tFA;(function(A){A.AddDesktopApp="addDesktopApp",A.AddMobileApp="addMobileApp",A.AddExtension="addExtension"})(tFA||(v.ActivationHubDeviceTaskType=tFA={}));var rFA;(function(A){A.SshKeyUsage="SshKeyUsage",A.CliAccountAccess="CliAccountAccess"})(rFA||(v.ActivityLogEntryType=rFA={}));var aFA;(function(A){A.Street="Street",A.City="City",A.Country="Country",A.Zip="Zip",A.State="State"})(aFA||(v.AddressSection=aFA={}));var jFA;(function(A){A.Us="us",A.Browser="browser"})(jFA||(v.AutofilledBy=jFA={}));var nFA;(function(A){A.Unknown="unknown",A.Button="button",A.Checkbox="checkbox",A.Color="color",A.Date="date",A.DatetimeLocal="datetime-local",A.Email="email",A.File="file",A.Hidden="hidden",A.Image="image",A.Month="month",A.Number="number",A.Password="password",A.Radio="radio",A.Range="range",A.Reset="reset",A.Search="search",A.Submit="submit",A.Tel="tel",A.Text="text",A.Time="time",A.Url="url",A.Week="week",A.SelectOne="select-one",A.SelectMultiple="select-multiple",A.Textarea="textarea"})(nFA||(v.ElementType=nFA={}));var iFA;(function(A){A.ActiveFieldOnly="activeFieldOnly",A.AllFields="allFields",A.UserEdited="userEdited"})(iFA||(v.ResolveMode=iFA={}));var oFA;(function(A){A.Brex="Brex",A.Privacy="Privacy"})(oFA||(v.SuggestedIntegration=oFA={}));var sFA;(function(A){A.None="none",A.Login="login",A.Registration="registration",A.ChangePassword="change-password",A.OneTimeCode="one-time-code",A.ChangeEmail="change-email",A.SshKey="ssh-key",A.Payment="payment"})(sFA||(v.FormDesignation=sFA={}));var lFA;(function(A){A.Home="home",A.Work="work",A.Mobile="mobile",A.Fax="fax",A.Pager="pager"})(lFA||(v.ContactType=lFA={}));var cFA;(function(A){A.SystemPrompt="systemPrompt",A.ItemList="itemList",A.SaveAndFill="saveAndFill"})(cFA||(v.AutoFillMethod=cFA={}));var uFA;(function(A){A.Include="include",A.Exclude="exclude"})(uFA||(v.ApiFilterMethod=uFA={}));var dFA;(function(A){A.Online="Online",A.Offline="Offline",A.Unknown="Unknown"})(dFA||(v.AccountOfflineStatus=dFA={}));var mFA;(function(A){A.Ascending="ascending",A.Descending="descending"})(mFA||(v.ApiSortOrder=mFA={}));var pFA;(function(A){A.Name="name",A.LockState="lockState",A.SignedIn="signedIn"})(pFA||(v.ApiGetAccountsSortKey=pFA={}));var kFA;(function(A){A.Active="A",A.Deleted="D",A.Unsupported="Unsupported"})(kFA||(v.GroupState=kFA={}));var hFA;(function(A){A.Owners="O",A.Administrators="A",A.Recovery="R",A.ExternalAccountManagers="E",A.TeamMembers="M",A.UserDefined="U",A.Unsupported="Unsupported"})(hFA||(v.GroupType=hFA={}));var gFA;(function(A){A.Regular="R",A.Service="S",A.Guest="G",A.Unsupported="Unsupported"})(gFA||(v.UserType=gFA={}));var fFA;(function(A){A.Name="name",A.Email="email"})(fFA||(v.ApiGetUsersSortKey=fFA={}));var BFA;(function(A){A.CacheFirst="cacheFirst",A.NetworkOnly="networkOnly"})(BFA||(v.ApiCacheBehavior=BFA={}));var EFA;(function(A){A.EmailChanged="emailChanged",A.PasswordOrSecretKeyChanged="passwordOrSecretKeyChanged"})(EFA||(v.ApiReAuthRequestReason=EFA={}));var xFA;(function(A){A.Add="add",A.Remove="remove"})(xFA||(v.VaultPermissionUpdateType=xFA={}));var bFA;(function(A){A.Locked="locked",A.Unlocked="unlocked"})(bFA||(v.AppLockState=bFA={}));var yFA;(function(A){A.Day="day",A.Week="week",A.Month="month",A.Year="year"})(yFA||(v.AppStoreProductSubscriptionPeriodUnit=yFA={}));var vFA;(function(A){A.PayAsYouGo="payAsYouGo",A.PayUpFront="payUpFront",A.FreeTrial="freeTrial"})(vFA||(v.AppStoreProductIntroductoryPaymentMode=vFA={}));var FFA;(function(A){A.Individual="individual",A.Family="family",A.TeamStarterPack="teamStarterPack"})(FFA||(v.AppStoreProductAccountType=FFA={}));var GFA;(function(A){A.Password="password",A.OneTimePassword="oneTimePassword"})(GFA||(v.FillType=GFA={}));var wFA;(function(A){A.Png="png",A.Svg="svg"})(wFA||(v.QrCodeFormat=wFA={}));var qFA;(function(A){A.DateCreated="dateCreated",A.DateModified="dateModified",A.Title="title",A.RecentlyUsed="recentlyUsed",A.FrequentlyUsed="frequentlyUsed",A.PasswordStrength="passwordStrength",A.MostRelevant="mostRelevant"})(qFA||(v.SortKey=qFA={}));var $FA;(function(A){A.Ascending="ascending",A.Descending="descending"})($FA||(v.SortOrder=$FA={}));var IFA;(function(A){A.Active="Active",A.Archived="Archived",A.Deleted="Deleted"})(IFA||(v.ItemState=IFA={}));var PFA;(function(A){A.FrozenAccount="frozenAccount",A.SsoMigration="ssoMigration",A.RecentlyDeleted="recentlyDeleted"})(PFA||(v.ItemDetailBannerType=PFA={}));var SFA;(function(A){A.Dismiss="dismiss",A.Cancel="cancel"})(SFA||(v.DismissAction=SFA={}));var CFA;(function(A){A.Default="Default",A.Host="Host",A.Never="Never"})(CFA||(v.ItemUrlMode=CFA={}));var OFA;(function(A){A.Info="info",A.Warn="warn",A.Error="error",A.Exception="exception"})(OFA||(v.B5xOpiLogLevel=OFA={}));var TFA;(function(A){A.None="none",A.Single="single",A.Double="double"})(TFA||(v.EditItemSpacing=TFA={}));var _FA;(function(A){A.Title="title",A.Primary="primary",A.Secondary="secondary",A.Tags="tags",A.CallToAction="callToAction",A.ItemLocation="itemLocation"})(_FA||(v.EditItemSectionKind=_FA={}));var DFA;(function(A){A.RetainOriginal="RetainOriginal",A.TrashOriginal="TrashOriginal"})(DFA||(v.CopyOption=DFA={}));var zFA;(function(A){A.BiometricsOnly="BiometricsOnly",A.BiometricsOrWatch="BiometricsOrWatch",A.WatchOnly="WatchOnly",A.NoneAvailable="NoneAvailable"})(zFA||(v.BiometricPolicy=zFA={}));var MFA;(function(A){A.Unknown="Unknown",A.NoneAvailable="NoneAvailable",A.TouchId="TouchId",A.FaceId="FaceId"})(MFA||(v.BiometryMethod=MFA={}));var RFA;(function(A){A.Available="Available",A.NotAvailable="NotAvailable",A.SensorUnavailable="SensorUnavailable",A.NotEnrolled="NotEnrolled",A.Lockout="Lockout",A.NotInteractive="NotInteractive",A.WatchNotAvailable="WatchNotAvailable",A.EnrollmentChanged="EnrollmentChanged",A.Disconnected="Disconnected",A.NotPaired="NotPaired",A.Unknown="Unknown"})(RFA||(v.BiometryAvailability=RFA={}));var KFA;(function(A){A.Active="ACTIVE",A.Shipped="SHIPPED",A.Expired="EXPIRED",A.Locked="LOCKED",A.Terminated="TERMINATED"})(KFA||(v.BrexCardStatus=KFA={}));var LFA;(function(A){A.Virtual="VIRTUAL",A.Physical="PHYSICAL"})(LFA||(v.BrexCardType=LFA={}));var NFA;(function(A){A.Card="CARD",A.User="USER"})(NFA||(v.BrexLimitType=NFA={}));var UFA;(function(A){A.Usd="USD"})(UFA||(v.BrexCurrency=UFA={}));var HFA;(function(A){A.Monthly="MONTHLY",A.Quarterly="QUARTERLY",A.Yearly="YEARLY",A.OneTime="ONE_TIME"})(HFA||(v.BrexLimitDuration=HFA={}));var VFA;(function(A){A.Production="Production",A.Staging="Staging"})(VFA||(v.BrexEnvironment=VFA={}));var XFA;(function(A){A.Invited="INVITED",A.Active="ACTIVE",A.Closed="CLOSED",A.Disabled="DISABLED",A.Deleted="DELETED",A.PendingActivation="PENDING_ACTIVATION"})(XFA||(v.BrexUserStatus=XFA={}));var WFA;(function(A){A.Granted="GRANTED",A.Denied="DENIED",A.Unknown="UNKNOWN"})(WFA||(v.BrexUserPermissionStatus=WFA={}));var JFA;(function(A){A.SignOut="signOut",A.Lock="lock"})(JFA||(v.CancelSignInBehavior=JFA={}));var YFA;(function(A){A.Set="Set",A.Clear="Clear",A.Mixed="Mixed"})(YFA||(v.Tristate=YFA={}));var ZFA;(function(A){A.Dark="dark",A.Light="light",A.System="system"})(ZFA||(v.ThemeMode=ZFA={}));var QFA;(function(A){A.AndroidBiometricUnlock="AndroidBiometricUnlock",A.AndroidDeviceUnlock="AndroidDeviceUnlock",A.NoneAvailable="NoneAvailable"})(QFA||(v.AndroidAuthMethod=QFA={}));var AGA;(function(A){A.Option="option",A.CtrlAlt="ctrlAlt",A.None="none"})(AGA||(v.HoldToRevealMode=AGA={}));var eGA;(function(A){A.MainWindow="mainWindow",A.QuickAccess="quickAccess",A.Menu="menu"})(eGA||(v.TrayAction=eGA={}));var tGA;(function(A){A.Autofill="autofill",A.Download="download",A.Go="go",A.OpenURL="openURL",A.Move="move",A.Copy="copy",A.Archive="archive",A.Restore="restore",A.Export="export",A.Tag="tag",A.Share="share",A.CreatePrivacyCard="createPrivacyCard",A.CreateBrexVendorCard="createBrexVendorCard"})(tGA||(v.ItemAction=tGA={}));var rGA;(function(A){A.Transparent="transparent",A.Primary="primary"})(rGA||(v.CreateButtonStyle=rGA={}));var aGA;(function(A){A.MerchantLocked="MERCHANT_LOCKED",A.SingleUse="SINGLE_USE"})(aGA||(v.PrivacyCardType=aGA={}));var jGA;(function(A){A.Transaction="TRANSACTION",A.Monthly="MONTHLY",A.Annually="ANNUALLY",A.Forever="FOREVER"})(jGA||(v.PrivacyCardSpendLimitDuration=jGA={}));var nGA;(function(A){A.RevealSecretKey="revealSecretKey",A.ConcealSecretKey="concealSecretKey",A.CopySignInAddress="copySignInAddress",A.CopyEmail="copyEmail",A.CopySecretKey="copySecretKey",A.CopyLink="copyLink",A.CopySsoProvider="copySsoProvider",A.LargeTypeSignInAddress="largeTypeSignInAddress",A.LargeTypeEmail="largeTypeEmail",A.LargeTypeSecretKey="largeTypeSecretKey",A.LargeTypeSsoProvider="largeTypeSsoProvider",A.ChangeEmail="changeEmail",A.ChangeSecretKey="changeSecretKey"})(nGA||(v.SignInFieldAction=nGA={}));var iGA;(function(A){A.SetUpAnotherDevice="setUpAnotherDevice",A.ManageAccount="manageAccount",A.CreateVault="createVault"})(iGA||(v.SignInFieldViewContext=iGA={}));var oGA;(function(A){A.Packed="packed",A.Tpm="tpm",A.AndroidKey="android-key",A.AndroidSafetynet="android-safetynet",A.FidoU2f="fido-u2f",A.Apple="apple",A.None="none"})(oGA||(v.AttestationStatementFormatIdentifiers=oGA={}));var sGA;(function(A){A.Dashlane="dashlane"})(sGA||(v.CredentialExchangeProvider=sGA={}));var lGA;(function(A){A.AttentionSevere="attentionSevere",A.Attention="attention",A.Recommendation="recommendation"})(lGA||(v.CredentialResultStatus=lGA={}));var cGA;(function(A){A.AccountFamily="accountFamily",A.AccountIndividual="accountIndividual",A.AccountTeam="accountTeam",A.AllCategories="allCategories",A.AllItems="allItems",A.ApiCredentials="apiCredentials",A.Archive="archive",A.AutoFill1Password="autoFill1Password",A.AutoFillKey="autoFillKey",A.AutoFillKeyboard="autoFillKeyboard",A.AutoFillSettings="autoFillSettings",A.AutoFillToggle="autoFillToggle",A.BankAccount="bankAccount",A.BrexCorporate="brexCorporate",A.BrexVault="brexVault",A.BrexVendor="brexVendor",A.CreditCard="creditCard",A.CreditCardAmex="creditCardAmex",A.CreditCardDiscover="creditCardDiscover",A.CreditCardMastercard="creditCardMastercard",A.CreditCardVisa="creditCardVisa",A.CryptoWallet="cryptoWallet",A.Database="database",A.Developer="developer",A.DeveloperBiometrics="developerBiometrics",A.DeveloperCli="developerCli",A.DeveloperSsh="developerSsh",A.DeveloperWatchtower="developerWatchtower",A.DeviceListAndroidPhone="deviceListAndroidPhone",A.DeviceListAndroidTablet="deviceListAndroidTablet",A.DeviceListBrave="deviceListBrave",A.DeviceListChrome="deviceListChrome",A.DeviceListCLI="deviceListCLI",A.DeviceListEdge="deviceListEdge",A.DeviceListFirefox="deviceListFirefox",A.DeviceListGeneric="deviceListGeneric",A.DeviceListIMac="deviceListIMac",A.DeviceListIPad="deviceListIPad",A.DeviceListIPhone="deviceListIPhone",A.DeviceListMacbookPro="deviceListMacbookPro",A.DeviceListOpera="deviceListOpera",A.DeviceListPC="deviceListPC",A.DeviceListPCLaptop="deviceListPCLaptop",A.DeviceListBraveExtension="deviceListBraveExtension",A.DeviceListChromeExtension="deviceListChromeExtension",A.DeviceListOperaExtension="deviceListOperaExtension",A.DeviceListFirefoxExtension="deviceListFirefoxExtension",A.DeviceListEdgeExtension="deviceListEdgeExtension",A.DeviceListSafariExtension="deviceListSafariExtension",A.DeviceListSafari="deviceListSafari",A.Document="document",A.DocumentImage="documentImage",A.DocumentSpreadsheet="documentSpreadsheet",A.DocumentText="documentText",A.DocumentZip="documentZip",A.DriverLicense="driverLicense",A.Email="email",A.EmptyAllItems="emptyAllItems",A.EmptyArchive="emptyArchive",A.EmptyFavorites="emptyFavorites",A.EmptyNoVaults="emptyNoVaults",A.EmptyRecentlyDeleted="emptyRecentlyDeleted",A.EmptyWatchtowerCompromisedWebsites="emptyWatchtowerCompromisedWebsites",A.EmptyWatchtowerDashboard="emptyWatchtowerDashboard",A.EmptyWatchtowerExpiring="emptyWatchtowerExpiring",A.EmptyWatchtowerInactiveMfa="emptyWatchtowerInactiveMfa",A.EmptyWatchtowerInWrongAccount="emptyWatchtowerInWrongAccount",A.EmptyWatchtowerPasskeyAvailable="emptyWatchtowerPasskeyAvailable",A.EmptyWatchtowerPasswordStrength="emptyWatchtowerPasswordStrength",A.EmptyWatchtowerDuplicateItem="emptyWatchtowerDuplicateItem",A.EmptyWatchtowerReusedPasswords="emptyWatchtowerReusedPasswords",A.EmptyWatchtowerUnsecuredWebsites="emptyWatchtowerUnsecuredWebsites",A.EmptyWatchtowerVulnerablePasswords="emptyWatchtowerVulnerablePasswords",A.EmptyWatchtowerWeakPasswords="emptyWatchtowerWeakPasswords",A.Everything="everything",A.Fastmail="fastmail",A.Favorites="favorites",A.Git="git",A.HighlightsBrowserExtension="highlightsBrowserExtension",A.HighlightsDevices="highlightsDevices",A.HighlightsFaceID="highlightsFaceID",A.HighlightsFamily="highlightsFamily",A.HighlightsHandUp="highlightsHandUp",A.HighlightsItemCatalog="highlightsItemCatalog",A.HighlightsItemSharing="highlightsItemSharing",A.HighlightsKey="highlightsKey",A.HighlightsManaging="highlightsManaging",A.HighlightsPasswordlessAuthentication="highlightsPasswordlessAuthentication",A.HighlightsPerformance="highlightsPerformance",A.HighlightsPlatforms="highlightsPlatforms",A.HighlightsQuickAccess="highlightsQuickAccess",A.HighlightsRedesign="highlightsRedesign",A.HighlightsSecurity="highlightsSecurity",A.HighlightsStrongPasswords="highlightsStrongPasswords",A.HighlightsSupport="highlightsSupport",A.HighlightsTeam="highlightsTeam",A.HighlightsWatchtower="highlightsWatchtower",A.HighlightsWebsite="highlightsWebsite",A.HomeAllItems="homeAllItems",A.HomeArchived="homeArchived",A.HomeCategories="homeCategories",A.HomeFavorites="homeFavorites",A.HomeFrequentlyUsed="homeFrequentlyUsed",A.HomeNearby="homeNearby",A.HomePinned="homePinned",A.HomeRecentlyAdded="homeRecentlyAdded",A.HomeRecentlyCreated="homeRecentlyCreated",A.HomeRecentlyDeleted="homeRecentlyDeleted",A.HomeRecentlyModified="homeRecentlyModified",A.HomeRecentlyUsed="homeRecentlyUsed",A.HomeScreenBillboardAppleWatchTransparent="homeScreenBillboardAppleWatchTransparent",A.HomeScreenBillboardCustomizeHomeTransparent="homeScreenBillboardCustomizeHomeTransparent",A.HomeScreenBillboardIllustrationAppleWatch="homeScreenBillboardIllustrationAppleWatch",A.HomeScreenBillboardIllustrationAutoFill="homeScreenBillboardIllustrationAutoFill",A.HomeScreenBillboardIllustrationCustomizeHome="homeScreenBillboardIllustrationCustomizeHome",A.HomeScreenBillboardIllustrationLabs="homeScreenBillboardIllustrationLabs",A.HomeScreenBillboardIllustrationPinnedFields="homeScreenBillboardIllustrationPinnedFields",A.HomeScreenBillboardIllustrationSafariExtension="homeScreenBillboardIllustrationSafariExtension",A.HomeScreenBillboardLabsTransparent="homeScreenBillboardLabsTransparent",A.HomeScreenBillboardPinnedFieldsTransparent="homeScreenBillboardPinnedFieldsTransparent",A.HomeScreenBillboardProfileTransparent="homeScreenBillboardProfileTransparent",A.HomeScreenBillboardSafariTransparent="homeScreenBillboardSafariTransparent",A.HomeScreenBillboardTipsTransparent="homeScreenBillboardTipsTransparent",A.HomeScreenBillboardWarningTransparent="homeScreenBillboardWarningTransparent",A.HomeScreenInterstitialAppleWatch="homeScreenInterstitialAppleWatch",A.HomeScreenInterstitialEmptyHome="homeScreenInterstitialEmptyHome",A.HomeScreenInterstitialPinnedFields="homeScreenInterstitialPinnedFields",A.HomeTags="homeTags",A.HomeTips="homeTips",A.HomeVaults="homeVaults",A.HomeWatchtower="homeWatchtower",A.Identity="identity",A.ImportGuideCsv="importGuideCsv",A.ImportGuideDashlane="importGuideDashlane",A.ImportGuideDelinea="importGuideDelinea",A.ImportGuideKeypass="importGuideKeypass",A.ImportGuideKeypassXc="importGuideKeypassXc",A.ImportGuideLastPass="importGuideLastPass",A.ImportGuideMemorized="importGuideMemorized",A.ImportGuideOnePassword="importGuideOnePassword",A.ImportGuidePen="importGuidePen",A.ImportGuideRoboForm="importGuideRoboForm",A.ImportGuideSpreadsheet="importGuideSpreadsheet",A.ItemSharing="itemSharing",A.KeyEmpty="keyEmpty",A.KeyError="keyError",A.KeyFilled="keyFilled",A.LabsHero="labsHero",A.Login="login",A.ManageAccountBusiness="manageAccountBusiness",A.ManageAccountData="manageAccountData",A.ManageAccountDevices="manageAccountDevices",A.ManageAccountFamily="manageAccountFamily",A.ManageAccountIndividual="manageAccountIndividual",A.ManageAccountPeople="manageAccountPeople",A.ManageAccountSubscription="manageAccountSubscription",A.ManageAccountVaults="manageAccountVaults",A.ManageAccountTeam="manageAccountTeam",A.MedicalRecord="medicalRecord",A.Membership="membership",A.OperatingSystemAndroid="operatingSystemAndroid",A.OperatingSystemIos="operatingSystemIos",A.OperatingSystemLinux="operatingSystemLinux",A.OperatingSystemMac="operatingSystemMac",A.OperatingSystemOther="operatingSystemOther",A.OperatingSystemWindows="operatingSystemWindows",A.OutdoorLicense="outdoorLicense",A.Passkey="passkey",A.Passport="passport",A.Password="password",A.PinUnlockSettings="pinUnlockSettings",A.PinUnlockWarning="pinUnlockWarning",A.Placeholder="placeholder",A.PrivacyCom="privacyCom",A.Profile="profile",A.RecentlyCreated="recentlyCreated",A.RecentlyDeleted="recentlyDeleted",A.Rewards="rewards",A.Router="router",A.Search="search",A.SecureNote="secureNote",A.Server="server",A.SettingsAbout="settingsAbout",A.SettingsAccounts="settingsAccounts",A.SettingsAdvanced="settingsAdvanced",A.SettingsAppearance="settingsAppearance",A.SettingsAutoFill="settingsAutoFill",A.SettingsBrowser="settingsBrowser",A.SettingsCollections="settingsCollections",A.SettingsDeveloper="settingsDeveloper",A.SettingsGeneral="settingsGeneral",A.SettingsHelp="settingsHelp",A.SettingsLabs="settingsLabs",A.SettingsLabsExperimentFeatureFlags="settingsLabsExperimentFeatureFlags",A.SettingsLabsExperimentNearbyItems="settingsLabsExperimentNearbyItems",A.SettingsNotifications="settingsNotifications",A.SettingsPrivacy="settingsPrivacy",A.SettingsReview="settingsReview",A.SettingsSafariExtension="settingsSafariExtension",A.SettingsSecurity="settingsSecurity",A.SignIn1Password="signIn1Password",A.SignInAndRecovery="signInAndRecovery",A.SignInBannerIllustration="signInBannerIllustration",A.SignInEmergencyKit="signInEmergencyKit",A.SignInGoogle="signInGoogle",A.SignInManual="signInManual",A.SignInOkta="signInOkta",A.SignInPasskey="signInPasskey",A.SignInScanQR="signInScanQR",A.SignInSSO="signInSSO",A.Snippet="snippet",A.SocialSecurityNumber="socialSecurityNumber",A.SoftwareLicense="softwareLicense",A.Ssh="ssh",A.SsoDeviceIcon="ssoDeviceIcon",A.SsoLoginAmazon="ssoLoginAmazon",A.SsoLoginAmazonAttachment="ssoLoginAmazonAttachment",A.SsoLoginApple="ssoLoginApple",A.SsoLoginAppleAttachment="ssoLoginAppleAttachment",A.SsoLoginFacebook="ssoLoginFacebook",A.SsoLoginFacebookAttachment="ssoLoginFacebookAttachment",A.SsoLoginGitHub="ssoLoginGitHub",A.SsoLoginGitHubAttachment="ssoLoginGitHubAttachment",A.SsoLoginGoogle="ssoLoginGoogle",A.SsoLoginGoogleAttachment="ssoLoginGoogleAttachment",A.SsoLoginMicrosoft="ssoLoginMicrosoft",A.SsoLoginMicrosoftAttachment="ssoLoginMicrosoftAttachment",A.SsoLoginTwitter="ssoLoginTwitter",A.SsoLoginTwitterAttachment="ssoLoginTwitterAttachment",A.SsoLoginOkta="ssoLoginOkta",A.SsoLoginOktaAttachment="ssoLoginOktaAttachment",A.SsoLoginSlack="ssoLoginSlack",A.SsoLoginSlackAttachment="ssoLoginSlackAttachment",A.SsoLoginDiscord="ssoLoginDiscord",A.SsoLoginDiscordAttachment="ssoLoginDiscordAttachment",A.Suggestions="suggestions",A.Tag="tag",A.Tombstone="tombstone",A.TutorialGlobe="tutorialGlobe",A.UnknownCategory="unknownCategory",A.Vault="vault",A.VaultPlaceholder="vaultPlaceholder",A.VaultGuarded="vaultGuarded",A.Watchtower="watchtower"})(cGA||(v.DefaultIconFile=cGA={}));var uGA;(function(A){A.ChooseFile="chooseFile",A.ChoosePhoto="choosePhoto",A.CapturePhoto="capturePhoto",A.ScanDocument="scanDocument"})(uGA||(v.AddFileSource=uGA={}));var dGA;(function(A){A.DayMonthYear="dayMonthYear",A.MonthYear="monthYear"})(dGA||(v.EditItemDateClassification=dGA={}));var mGA;(function(A){A.WrongAccount="wrongAccount",A.WrongAccountByPolicy="wrongAccountByPolicy"})(mGA||(v.EditItemWarning=mGA={}));var pGA;(function(A){A.ShareWithFamily="ShareWithFamily",A.ShareWithTeam="ShareWithTeam"})(pGA||(v.EditItemCreateBannerType=pGA={}));var kGA;(function(A){A.DefaultKeyboard="DefaultKeyboard",A.NumberPad="NumberPad",A.NamePhonePad="NamePhonePad",A.NumbersAndPunctuation="NumbersAndPunctuation",A.EmailAddress="EmailAddress",A.Url="Url"})(kGA||(v.EditItemElementInputKeyboard=kGA={}));var hGA;(function(A){A.None="None",A.Words="Words",A.Sentences="Sentences",A.AllCharacters="AllCharacters"})(hGA||(v.EditItemElementInputAutoCapitalization=hGA={}));var gGA;(function(A){A.ChooseFile="chooseFile",A.ChoosePhoto="choosePhoto",A.RemoveIcon="removeIcon"})(gGA||(v.EditItemIconMenuAction=gGA={}));var fGA;(function(A){A.Text="text",A.Url="url",A.Email="email",A.Address="address",A.DayMonthYear="dayMonthYear",A.MonthYear="monthYear",A.OneTimePassword="oneTimePassword",A.Password="password",A.Phone="phone",A.SecurityQuestion="securityQuestion",A.File="file",A.SshKey="sshKey",A.SsoLogin="ssoLogin"})(fGA||(v.EditItemSaveValueAddFieldType=fGA={}));var BGA;(function(A){A.Top="Top",A.Middle="Middle",A.Bottom="Bottom",A.TopAndBottom="TopAndBottom"})(BGA||(v.ElementBorderStyle=BGA={}));var EGA;(function(A){A.Full="full",A.Long="long",A.Medium="medium",A.Short="short"})(EGA||(v.DateTimeVariant=EGA={}));var xGA;(function(A){A.Single="single",A.Double="double"})(xGA||(v.ViewItemSpacing=xGA={}));var bGA;(function(A){A.Edit="edit",A.Autofill="autofill",A.OpenAndFill="openAndFill",A.OpenUrl="openUrl"})(bGA||(v.ItemDetailPrimaryAction=bGA={}));var yGA;(function(A){A.Normal="Normal",A.Warning="Warning"})(yGA||(v.TotpIndicatorColor=yGA={}));var vGA;(function(A){A.Back="back",A.Import="import"})(vGA||(v.EmergencyKitSignInButtonAction=vGA={}));var FGA;(function(A){A.Default="default",A.Destructive="destructive",A.Primary="primary",A.Transparent="transparent"})(FGA||(v.EmptyContentButtonStyle=FGA={}));var GGA;(function(A){A.Success="success"})(GGA||(v.EssentialSetupIllustration=GGA={}));var wGA;(function(A){A.AutoFill="autoFill",A.Biometrics="biometrics",A.BiometricsFace="biometricsFace",A.SystemTray="systemTray",A.BrowserExtension="browserExtension",A.Telemetry="telemetry"})(wGA||(v.EssentialSetupFeatureIllustration=wGA={}));var qGA;(function(A){A.AutoFill="AutoFill",A.Biometrics="Biometrics",A.SystemTray="SystemTray",A.MigrateDataFromOpSeven="MigrateDataFromOpSeven",A.Telemetry="Telemetry"})(qGA||(v.EssentialSetupPageId=qGA={}));var $GA;(function(A){A.Strong="strong",A.Moderate="moderate"})($GA||(v.EssentialSetupPageNavigationButtonEmphasis=$GA={}));var IGA;(function(A){A.Csv="Csv",A.OnePif2="OnePif2",A.OnePex="OnePex",A.OnePux="OnePux"})(IGA||(v.Format=IGA={}));var PGA;(function(A){A.OpenSsh="OpenSSH",A.Pkcs8="PKCS#8",A.Pkcs1="PKCS#1"})(PGA||(v.SshPrivateKeyExportFormat=PGA={}));var SGA;(function(A){A.Finished="Finished",A.Running="Running",A.Failed="Failed"})(SGA||(v.Status=SGA={}));var CGA;(function(A){A.Enabled="ENABLED",A.Pending="PENDING"})(CGA||(v.FundingAccountApiState=CGA={}));var OGA;(function(A){A.Uploading="Uploading",A.Available="Available",A.Missing="Missing"})(OGA||(v.FileStatus=OGA={}));var TGA;(function(A){A.Safari="safari",A.ICloud="iCloud",A.OnePux="onePux",A.Chrome="chrome"})(TGA||(v.FileImportType=TGA={}));var _GA;(function(A){A.Characters="Characters",A.Words="Words",A.Pin="Pin",A.PasswordRules="PasswordRules"})(_GA||(v.PasswordType=_GA={}));var DGA;(function(A){A.Digits="Digits",A.DigitsAndSymbols="DigitsAndSymbols",A.Spaces="Spaces",A.Hyphens="Hyphens",A.Underscores="Underscores",A.Periods="Periods",A.Commas="Commas"})(DGA||(v.SeparatorType=DGA={}));var zGA;(function(A){A.FullWords="FullWords",A.Syllables="Syllables",A.ThreeLetters="ThreeLetters"})(zGA||(v.WordListType=zGA={}));var MGA;(function(A){A.Enabled="enabled",A.Disabled="disabled",A.Deleted="deleted"})(MGA||(v.AliasState=MGA={}));var RGA;(function(A){A.Chrome="chrome",A.Firefox="firefox",A.SafariMacos="safari-macos",A.SafariIos="safari-ios"})(RGA||(v.Browser=RGA={}));var KGA;(function(A){A.Brex="Brex"})(KGA||(v.WebItemIntegrationInformation=KGA={}));var LGA;(function(A){A.Zero="zero",A.One="one"})(LGA||(v.HourIndexing=LGA={}));var NGA;(function(A){A.Twelve="twelve",A.TwentyFour="twentyFour"})(NGA||(v.HourCycle=NGA={}));var UGA;(function(A){A.Raw="raw",A.Padded="padded"})(UGA||(v.TimePadding=UGA={}));var HGA;(function(A){A.Button="Button",A.Link="Link"})(HGA||(v.InAppPurchaseButtonStyle=HGA={}));var VGA;(function(A){A.Green="green",A.Grey="grey",A.Red="red",A.Purple="purple"})(VGA||(v.IndicatorPillColor=VGA={}));var XGA;(function(A){A.BaseApp="baseApp",A.AutoFillItemSelect="autoFillItemSelect",A.AutoFillFieldSelect="autoFillFieldSelect"})(XGA||(v.RenderTarget=XGA={}));var WGA;(function(A){A.Active="active",A.Deleted="deleted",A.Archived="archived"})(WGA||(v.ItemDetailState=WGA={}));var JGA;(function(A){A.Large="large",A.Medium="medium"})(JGA||(v.ItemLocationMessageElementSize=JGA={}));var YGA;(function(A){A.RSAOAEP="RSA-OAEP",A.RSAOAEP256="RSA-OAEP-256",A.A256GCM="A256GCM",A.ECDHES="ECDH-ES",A.ES256="ES256"})(YGA||(v.KeyAlgorithm=YGA={}));var ZGA;(function(A){A.RSA="RSA",A.Oct="oct",A.EC="EC",A.OKP="OKP"})(ZGA||(v.KeyType=ZGA={}));var QGA;(function(A){A.Sign="sign",A.Verify="verify",A.Encrypt="encrypt",A.Decrypt="decrypt",A.WrapKey="wrapKey",A.UnwrapKey="unwrapKey",A.DeriveKey="deriveKey",A.DeriveBits="deriveBits"})(QGA||(v.KeyOp=QGA={}));var AwA;(function(A){A.WhenUnlocked="WhenUnlocked",A.AfterFirstUnlock="AfterFirstUnlock",A.WhenPasscodeSetThisDeviceOnly="WhenPasscodeSetThisDeviceOnly",A.WhenUnlockedThisDeviceOnly="WhenUnlockedThisDeviceOnly",A.AfterFirstUnlockThisDeviceOnly="AfterFirstUnlockThisDeviceOnly"})(AwA||(v.Accessible=AwA={}));var ewA;(function(A){A.Locked="locked",A.Unlocked="unlocked",A.FailedToUnlock="failedToUnlock"})(ewA||(v.LockScreenAccountPreviewMode=ewA={}));var twA;(function(A){A.AccountOverview="accountOverview",A.YourDetails="yourDetails",A.People="people",A.TrustedDevices="trustedDevices",A.Telemetry="telemetry",A.SetUpAnotherDevice="setUpAnotherDevice",A.Subscription="subscription",A.EmergencyKit="emergencyKit",A.Vaults="vaults",A.SignInAndRecovery="signInAndRecovery"})(twA||(v.MaCategoryId=twA={}));var rwA;(function(A){A.Text="text",A.Numeric="numeric",A.Password="password"})(rwA||(v.TextInputFieldType=rwA={}));var awA;(function(A){A.GreyscaleWhite="greyscaleWhite",A.GreyscaleBlack="greyscaleBlack",A.ShadingHeavy="shadingHeavy",A.ShadingExtraFaint="shadingExtraFaint",A.ReadableGreen="readableGreen",A.ReadablePurple="readablePurple",A.ReadableBlue="readableBlue",A.ReadableRed="readableRed",A.TintGreen="tintGreen",A.TintPurple="tintPurple",A.TintBlue="tintBlue",A.TintRed="tintRed"})(awA||(v.ManageAccountColor=awA={}));var jwA;(function(A){A.CategoryBackground="categoryBackground",A.Invite="invite"})(jwA||(v.ManageAccountIllustration=jwA={}));var nwA;(function(A){A.TelemetryOptOut="TelemetryOptOut"})(nwA||(v.ManageAccountTelemetrySettingsOptionId=nwA={}));var iwA;(function(A){A.Address="Address",A.Email="Email",A.SecretKey="SecretKey",A.Password="Password"})(iwA||(v.SignInTextInputId=iwA={}));var owA;(function(A){A.Leftward="leftward",A.Rightward="rightward"})(owA||(v.CancelButtonStyle=owA={}));var swA;(function(A){A.SignIn="signIn",A.CheckAccount="checkAccount"})(swA||(v.ManualSignInSubmitAction=swA={}));var lwA;(function(A){A.Web="web",A.Email="email"})(lwA||(v.MdLinkType=lwA={}));var cwA;(function(A){A.ToggleFullScreen="toggleFullScreen",A.Services="services",A.Hide="hide",A.HideOthers="hideOthers",A.Unhide="unhide",A.ToggleDevTools="toggleDevTools",A.Undo="undo",A.Redo="redo",A.Cut="cut",A.Copy="copy",A.SelectAll="selectAll",A.Close="close",A.Minimize="minimize",A.Zoom="zoom",A.Front="front",A.Paste="paste",A.Reload="reload",A.StartSpeaking="startSpeaking",A.StopSpeaking="stopSpeaking",A.Help="help",A.Window="window",A.EditMenu="editMenu"})(cwA||(v.Roles=cwA={}));var uwA;(function(A){A.None="none",A.Info="info",A.Error="error",A.Question="question",A.Warning="warning"})(uwA||(v.MessageBoxType=uwA={}));var dwA;(function(A){A.Vaults="vaults",A.Favorites="favorites",A.RecentlyCreated="recentlyCreated",A.RecentlyModified="recentlyModified",A.RecentlyUsed="recentlyUsed",A.FrequentlyUsed="frequentlyUsed",A.Tags="tags",A.AllItems="allItems",A.Archived="archived",A.RecentlyDeleted="recentlyDeleted",A.Categories="categories",A.ItemFieldGroup="itemFieldGroup",A.BillboardGroup="billboardGroup",A.Profile="profile",A.Nearby="nearby",A.ActivationHub="activationHub"})(dwA||(v.MobileHomeScreenEditIdentifier=dwA={}));var mwA;(function(A){A.NearbyItems="nearbyItems"})(mwA||(v.MobileHomeScreenFeature=mwA={}));var pwA;(function(A){A.Home="Home",A.Items="Items",A.Search="Search",A.Watchtower="Watchtower"})(pwA||(v.MobileTab=pwA={}));var kwA;(function(A){A.Member="member",A.Organizer="organizer",A.Guest="guest"})(kwA||(v.InvitationRole=kwA={}));var hwA;(function(A){A.AuthorizedDriven="authorizedDriven",A.UnauthorizedDriven="unauthorizedDriven"})(hwA||(v.MyceliumMode=hwA={}));var gwA;(function(A){A.None="none",A.InProgress="inProgress"})(gwA||(v.FillStatus=gwA={}));var fwA;(function(A){A.Locked="Locked",A.Unlocked="Unlocked"})(fwA||(v.LockState=fwA={}));var BwA;(function(A){A.General="general",A.Appearance="appearance",A.Security="security",A.Privacy="privacy",A.Browser="browser",A.SafariExtension="safariExtension",A.Notifications="notifications",A.AutoFill="autoFill",A.Advanced="advanced",A.Help="help",A.About1Password="about1Password",A.Review="review",A.Developers="developers",A.ManageAccounts="manageAccounts",A.ManageCollections="manageCollections",A.Labs="labs",A.TestUserPreferences="testUserPreferences"})(BwA||(v.SettingsCategoryId=BwA={}));var EwA;(function(A){A.Unlock="unlock",A.AuthPrompt="authPrompt"})(EwA||(v.SignInResponseContext=EwA={}));var xwA;(function(A){A.InvalidRequest="InvalidRequest",A.UnAuthorizedClient="UnAuthorizedClient",A.AccessDenied="AccessDenied",A.UnSupportedResponseType="UnSupportedResponseType",A.InvalidScope="InvalidScope",A.ServerError="ServerError",A.TemporarilyUnavailable="TemporarilyUnavailable",A.Unknown="Unknown"})(xwA||(v.OAuthRejectedError=xwA={}));var bwA;(function(A){A.InvalidRequest="invalid_request",A.InvalidClient="invalid_client",A.InvalidGrant="invalid_grant",A.InvalidScope="invalid_scope",A.UnauthorizedClient="unauthorized_client",A.UnsupportedGrantType="unsupported_grant_type",A.Unknown="unknown"})(bwA||(v.OauthErrorType=bwA={}));var ywA;(function(A){A.SyncAll="syncAll"})(ywA||(v.OfflineIndicatorAction=ywA={}));var vwA;(function(A){A.AccountSignout="AccountSignout",A.Deletion="Deletion",A.Deauthorization="Deauthorization",A.SsoAccountSignout="SsoAccountSignout"})(vwA||(v.OpAppAccountSignOutReason=vwA={}));var FwA;(function(A){A.Primary="primary",A.ItemDetails="itemDetails",A.Settings="settings",A.QuickAccess="quickAccess",A.AuthPrompt="authPrompt",A.LargeType="largeType",A.KeyboardShortcutsQX="keyboardShortcutsQX",A.AutofillAccessibility="autofillAccessibility",A.LargeQrCode="largeQrCode",A.None="none"})(FwA||(v.WindowType=FwA={}));var GwA;(function(A){A.Account="account",A.LockedAccount="lockedAccount",A.VaultCollection="vaultCollection"})(GwA||(v.SbCollectionType=GwA={}));var wwA;(function(A){A.StandardSearch="standardSearch",A.SmartSearch="smartSearch",A.Meta="meta"})(wwA||(v.QfSectionName=wwA={}));var qwA;(function(A){A.ForceStatusUpdate="forceStatusUpdate",A.ResetAllFlags="resetAllFlags"})(qwA||(v.SyncFlag=qwA={}));var $wA;(function(A){A.Save="save",A.Generate="generate",A.Done="done"})($wA||(v.PasswordGeneratorButtonAction=$wA={}));var IwA;(function(A){A.Light="light",A.Dark="dark",A.System="system"})(IwA||(v.OpWebCoreAppTheme=IwA={}));var PwA;(function(A){A.Url="Url",A.Email="Email",A.Phone="Phone",A.MapApple="MapApple",A.MapGoogle="MapGoogle",A.MapDuckDuckGo="MapDuckDuckGo"})(PwA||(v.OpenUrlType=PwA={}));var SwA;(function(A){A.Once="Once",A.Transaction="Transaction",A.Monthly="Monthly",A.Annually="Annually",A.Forever="Forever"})(SwA||(v.PrivacySpendLimit=SwA={}));var CwA;(function(A){A.Primary="Primary",A.Secondary="Secondary",A.Tertiary="Tertiary"})(CwA||(v.FieldPriorityOrder=CwA={}));var OwA;(function(A){A.AutofillRequestAccessibilityPermissions="AutofillRequestAccessibilityPermissions"})(OwA||(v.QXOnboardingAction=OwA={}));var TwA;(function(A){A.AutofillShortcut="autofillShortcut",A.QuickAccessShortcut="quickAccessShortcut"})(TwA||(v.QuickAccessOpenedBy=TwA={}));var _wA;(function(A){A.Clipboard="clipboard",A.Desktop="desktop"})(_wA||(v.QrCodeSource=_wA={}));var DwA;(function(A){A.PlainText="plainText",A.Html="html"})(DwA||(v.RecoveryKeyFileContentsFormat=DwA={}));var zwA;(function(A){A.Production="Production",A.Beta="Beta",A.Nightly="Nightly"})(zwA||(v.ReleaseChannel=zwA={}));var MwA;(function(A){A.FaceID="faceID",A.TouchID="touchID",A.Passcode="passcode",A.None="none"})(MwA||(v.BiometryType=MwA={}));var RwA;(function(A){A.SecretKey="secretKey",A.Sso="sso",A.WebAuthn="webAuthn"})(RwA||(v.SafariWebExtensionAccountType=RwA={}));var KwA;(function(A){A.Ramp="ramp"})(KwA||(v.SaveManagerIntegration=KwA={}));var LwA;(function(A){A.Amazon="amazon",A.Apple="apple",A.Discord="discord",A.Facebook="facebook",A.GitHub="github",A.Google="google",A.Microsoft="microsoft",A.Okta="okta",A.Slack="slack",A.Twitter="twitter"})(LwA||(v.UsoProvider=LwA={}));var NwA;(function(A){A.Login="login",A.CreditCard="credit-card",A.ApiKey="api-key",A.CryptoWallet="crypto-wallet"})(NwA||(v.CreateItemType=NwA={}));var UwA;(function(A){A.CreateCollection="CreateCollection",A.ManageCollections="ManageCollections",A.SetUpAnotherDevice="SetUpAnotherDevice",A.AccountsManagement="AccountsManagement",A.AdminDashboard="AdminDashboard",A.Settings="Settings",A.ScanQrCode="ScanQrCode"})(UwA||(v.SecondaryView=UwA={}));var HwA;(function(A){A.Informational="informational",A.Success="success",A.Critical="critical",A.Warning="warning"})(HwA||(v.KnoxCalloutSeverity=HwA={}));var VwA;(function(A){A.Attention="attention",A.Critical="critical",A.Neutral="neutral",A.Informational="informational",A.Success="success"})(VwA||(v.SettingsElementPillType=VwA={}));var XwA;(function(A){A.InterfaceDensityCompact="interfaceDensityCompact",A.InterfaceDensityComfortable="interfaceDensityComfortable",A.AppIconLight="appIconLight",A.AppIconDark="appIconDark"})(XwA||(v.SettingsElementRadioOptionIllustration=XwA={}));var WwA;(function(A){A.Leading="leading",A.Centered="centered",A.Trailing="trailing"})(WwA||(v.TextJustification=WwA={}));var JwA;(function(A){A.AnyoneWithTheLink="AnyoneWithTheLink",A.OnlySomePeople="OnlySomePeople"})(JwA||(v.ShareItemAvailableToMenuEntryId=JwA={}));var YwA;(function(A){A.Modal="Modal",A.ErrorStrip="ErrorStrip"})(YwA||(v.ShareItemErrorFormat=YwA={}));var ZwA;(function(A){A.OneHour="OneHour",A.OneDay="OneDay",A.SevenDays="SevenDays",A.FourteenDays="FourteenDays",A.ThirtyDays="ThirtyDays"})(ZwA||(v.ShareItemLinkExpirationMenuEntryId=ZwA={}));var QwA;(function(A){A.Invisible="Invisible",A.VisibleChecked="VisibleChecked",A.VisibleUnchecked="VisibleUnchecked"})(QwA||(v.ShareItemLimitViewsCheckbox=QwA={}));var AqA;(function(A){A.CopyLink="CopyLink",A.ShareLink="ShareLink"})(AqA||(v.ShareItemTelemetryShareMethod=AqA={}));var eqA;(function(A){A.SecretKey="secretKey",A.Sso="sso",A.Passkey="passkey"})(eqA||(v.ManualSignInFormType=eqA={}));var tqA;(function(A){A.Header="header",A.List="list",A.ListFlexible="listFlexible"})(tqA||(v.SidebarElementSpacerType=tqA={}));var rqA;(function(A){A.QuickAccess="quickAccess",A.Autofill="autofill"})(rqA||(v.SilentUnlockReason=rqA={}));var aqA;(function(A){A.Increment="increment",A.Decrement="decrement",A.Reset="reset"})(aqA||(v.StepperChangeType=aqA={}));var jqA;(function(A){A.AllItems="allItems",A.AppleWatchAdd="appleWatchAdd",A.AppleWatchRemove="appleWatchRemove",A.Archive="archive",A.ArchiveLarge="archiveLarge",A.BiometricUnlockAppleFaceId="biometricUnlockAppleFaceId",A.BiometricUnlockAppleTouchId="biometricUnlockAppleTouchId",A.BiometricUnlockAppleWatch="biometricUnlockAppleWatch",A.BiometricUnlock="biometricUnlock",A.BiometricUnlockFingerprint="biometricUnlockFingerprint",A.BiometricUnlockWindowsHello="biometricUnlockWindowsHello",A.Cancel="cancel",A.CancelOutline="cancelOutline",A.Checkmark="checkmark",A.CheckmarkCircle="checkmarkCircle",A.CheckmarkFilled="checkmarkFilled",A.ChevronDown="chevronDown",A.ChevronLeft="chevronLeft",A.ChevronRight="chevronRight",A.ChevronUp="chevronUp",A.Close="close",A.CollapsedMenu="collapsedMenu",A.Copy="copy",A.CreditCard="creditCard",A.CustomizeHome="customizeHome",A.Delete="delete",A.DeleteRow="deleteRow",A.Disclosure="disclosure",A.Document="document",A.DocumentEmpty="documentEmpty",A.Download="download",A.DragHandle="dragHandle",A.Dropdown="dropdown",A.Edit="edit",A.Email="email",A.EmergencyKit="emergencyKit",A.ExternalLink="externalLink",A.FavoriteOff="favoriteOff",A.FavoriteOn="favoriteOn",A.Filter="filter",A.Find="find",A.Folder="folder",A.Frozen="frozen",A.Git="git",A.Help="help",A.HelpBubble="helpBubble",A.Hide="hide",A.Import="import",A.Information="information",A.InsertText="insertText",A.Integration="integration",A.ItemHistory="itemHistory",A.ItemSharing="itemSharing",A.Ladybug="ladybug",A.LargeType="largeType",A.Link="link",A.Lock="lock",A.Minus="minus",A.Missing="missing",A.ModeDark="modeDark",A.ModeLight="modeLight",A.ModeSystem="modeSystem",A.Move="move",A.NavigateBack="navigateBack",A.NavigateForward="navigateForward",A.NewWindow="newWindow",A.NoConnection="noConnection",A.NoConnectionLarge="noConnectionLarge",A.NoResults="noResults",A.Notifications="notifications",A.OnePassword="onePassword",A.OnePasswordLocked="onePasswordLocked",A.OpenInBrowser="openInBrowser",A.Overflow="overflow",A.OverflowApple="overflowApple",A.OverflowHorizontal="overflowHorizontal",A.Passkey="passkey",A.Password="password",A.Paste="paste",A.Pin="pin",A.PinUnlock="pinUnlock",A.Plus="plus",A.PlusSmall="plusSmall",A.PreviousSize="previousSize",A.Print="print",A.Unpin="unpin",A.QrCodeScan="qrCodeScan",A.RecentlyDeleted="recentlyDeleted",A.RecentlyDeletedLarge="recentlyDeletedLarge",A.Refresh="refresh",A.Report="report",A.Restore="restore",A.Review="review",A.Search="search",A.Select="select",A.Settings="settings",A.SettingsAdvanced="settingsAdvanced",A.Share="share",A.ShareHistory="shareHistory",A.Show="show",A.Sidebar="sidebar",A.SignIn="signIn",A.Sort="sort",A.Suggestions="suggestions",A.TabBarHome="tabBarHome",A.TabBarItems="tabBarItems",A.TabBarSearch="tabBarSearch",A.TabBarSettings="tabBarSettings",A.TabBarWatchtower="tabBarWatchtower",A.Tags="tags",A.Terminal="terminal",A.Trash="trash",A.TrashLarge="trashLarge",A.TravelMode="travelMode",A.Twitter="twitter",A.UnlockSettingBiometric="unlockSettingBiometric",A.UnlockSettingBiometricDisabled="unlockSettingBiometricDisabled",A.UnlockSettingBiometricAppleFaceId="unlockSettingBiometricAppleFaceId",A.UnlockSettingBiometricAppleFaceIdDisabled="unlockSettingBiometricAppleFaceIdDisabled",A.UnlockSettingBiometricAppleTouchId="unlockSettingBiometricAppleTouchId",A.UnlockSettingBiometricAppleTouchIdDisabled="unlockSettingBiometricAppleTouchIdDisabled",A.UnlockSettingBiometricAppleWatch="unlockSettingBiometricAppleWatch",A.UnlockSettingPassword="unlockSettingPassword",A.UnlockSettingPinUnlock="unlockSettingPinUnlock",A.UnlockSettingPinUnlockDisabled="unlockSettingPinUnlockDisabled",A.Upload="upload",A.User="user",A.Users="users",A.UserSmall="userSmall",A.UsersSmall="usersSmall",A.Warning="warning",A.WarningLarge="warningLarge",A.Watchtower="watchtower",A.WatchtowerCompromisedDomain="watchtowerCompromisedDomain",A.WatchtowerExpiring="watchtowerExpiring",A.WatchtowerReusedPassword="watchtowerReusedPassword",A.WatchtowerTwoFactorAvailable="watchtowerTwoFactorAvailable",A.WatchtowerUnsecuredWebsite="watchtowerUnsecuredWebsite",A.WatchtowerVulnerablePassword="watchtowerVulnerablePassword",A.WatchtowerWeakPassword="watchtowerWeakPassword",A.WatchtowerDuplicateItem="watchtowerDuplicateItem",A.WatchtowerWrongAccount="watchtowerWrongAccount",A.WhatsApp="whatsApp"})(jqA||(v.ThemedIconFile=jqA={}));var nqA;(function(A){A.ImportantEphemeral="importantEphemeral",A.Persistent="persistent",A.Ephemeral="ephemeral"})(nqA||(v.ToastBehavior=nqA={}));var iqA;(function(A){A.AppleOtpAuth="apple-otpauth",A.OtpAuth="otpauth",A.Yjotp="yjotp"})(iqA||(v.ValidOtpSchemes=iqA={}));var oqA;(function(A){A.New="New",A.Existing="Existing"})(oqA||(v.VaultCollectionDetailState=oqA={}));var sqA;(function(A){A.View="view",A.Edit="edit",A.Manage="manage"})(sqA||(v.VaultSimplifiedPermissions=sqA={}));var lqA;(function(A){A.NoViewersRemainingAndUserCanManageVaults="noViewersRemainingAndUserCanManageVaults",A.NoViewersRemainingAndUserCannotManageVaults="noViewersRemainingAndUserCannotManageVaults",A.YouCannotViewAndUserCanManageVaults="youCannotViewAndUserCanManageVaults",A.YouCannotViewAndUserCannotManageVaults="youCannotViewAndUserCannotManageVaults"})(lqA||(v.VaultPermissionViewRemoveWarning=lqA={}));var cqA;(function(A){A.View="view",A.ViewAndEdit="viewAndEdit",A.Manage="manage",A.ManageAndView="manageAndView",A.FullAccess="fullAccess",A.Custom="custom"})(cqA||(v.VaultSimplifiedPermissionsSummary=cqA={}));var uqA;(function(A){A.CompromisedLogins="compromisedLogins",A.VulnerablePasswords="vulnerablePasswords",A.WeakPasswords="weakPasswords",A.UnsecuredUrl="unsecuredUrl",A.DuplicatePassword="duplicatePassword",A.TwoFactorAvailable="twoFactorAvailable",A.PasskeyAvailable="passkeyAvailable",A.Expiring="expiring",A.LastpassImpacted="lastpassImpacted",A.WrongAccount="wrongAccount",A.DuplicateItem="duplicateItem",A.ConflictingShortcut="conflictingShortcut",A.DeveloperWatchtower="developerWatchtower",A.RecoveryCodes="recoveryCodes"})(uqA||(v.WatchtowerCardType=uqA={}));var dqA;(function(A){A.SlideOne="SlideOne",A.SlideTwo="SlideTwo",A.SlideThree="SlideThree",A.SlideFour="SlideFour",A.SlideFive="SlideFive"})(dqA||(v.WelcomeScreenSlideID=dqA={}));var mqA;(function(A){A.Basic="basic",A.Extended="extended"})(mqA||(v.ZoneISOFormatType=mqA={}));var pqA;(function(A){A.Required="required",A.Optional="optional",A.Excluded="excluded"})(pqA||(v.ZoneISOFieldRequirement=pqA={}));var kqA;(function(A){A.Group="group",A.User="user"})(kqA||(v.AccessorType=kqA={}));var hqA;(function(A){A.All="All",A.Locked="Locked",A.Unlocked="Unlocked"})(hqA||(v.AccountLockState=hqA={}));var gqA;(function(A){A.ExampleAction="example_action"})(gqA||(v.ActionName=gqA={}));var fqA;(function(A){A.Success="success",A.Failed="failed"})(fqA||(v.AddLocationToItemResponse=fqA={}));var BqA;(function(A){A.Shipping="shipping",A.Billing="billing"})(BqA||(v.AddressType=BqA={}));var EqA;(function(A){A.UnverifiedUser="UnverifiedUser",A.AddressInUse="AddressInUse",A.RateLimit="RateLimit",A.OverQuota="OverQuota",A.RequestError="RequestError",A.InternalError="InternalError"})(EqA||(v.AliasError=EqA={}));var xqA;(function(A){A.RegionMatchesAnAccount="regionMatchesAnAccount",A.RegionWillChange="regionWillChange",A.InvalidMyceliumData="invalidMyceliumData"})(xqA||(v.AlignMyceliumRegionWithCurrentAccountsResponse=xqA={}));var bqA;(function(A){A.Interrupted="Interrupted",A.NoCredential="NoCredential",A.UserCanceled="UserCanceled",A.Unknown="Unknown",A.UnexpectedCredentialType="UnexpectedCredentialType",A.ApplicationError="ApplicationError"})(bqA||(v.AndroidWebAuthnError=bqA={}));var yqA;(function(A){A.Removed="removed",A.NotFound="notFound",A.NotConfirmed="notConfirmed"})(yqA||(v.ApiDeleteFoundAccountResponse=yqA={}));var vqA;(function(A){A.AccountNotFound="accountNotFound",A.AccountLocked="accountLocked"})(vqA||(v.ApiGetAccountSignInCredentialsError=vqA={}));var FqA;(function(A){A.InvalidEmail="invalidEmail",A.InvalidSignInAddress="invalidSignInAddress",A.ServerRequestFailed="serverRequestFailed"})(FqA||(v.ApiGetAuthMethodError=FqA={}));var GqA;(function(A){A.ConnectionFailed="connectionFailed",A.AccountNotFound="accountNotFound",A.AccountLocked="accountLocked",A.UserGuest="userGuest",A.UserSuspended="userSuspended",A.FilterVaultNotFound="filterVaultNotFound",A.ServerRequestFailed="serverRequestFailed",A.Internal="internal"})(GqA||(v.ApiGetGroupsError=GqA={}));var wqA;(function(A){A.Internal="internal"})(wqA||(v.ApiGetTrustedDevicesError=wqA={}));var qqA;(function(A){A.NetworkConnectionFailed="networkConnectionFailed",A.AuthorizationAccountNotFound="authorizationAccountNotFound",A.AuthorizationAccountLocked="authorizationAccountLocked",A.AuthorizationUserGuest="authorizationUserGuest",A.AuthorizationUserSuspended="authorizationUserSuspended",A.SpecialFilterVaultNotFound="specialFilterVaultNotFound",A.SpecialFilterVaultCannotManageAccess="specialFilterVaultCannotManageAccess"})(qqA||(v.ApiGetUsersError=qqA={}));var $qA;(function(A){A.ClientError="clientError",A.ItemEntityIdParseError="itemEntityIdParseError",A.ItemNotFound="itemNotFound",A.CouldNotLoadPreviousItemVersion="couldNotLoadPreviousItemVersion",A.CouldNotRestorePreviousItemVersion="couldNotRestorePreviousItemVersion"})($qA||(v.ApiItemHistoryError=$qA={}));var IqA;(function(A){A.ConnectionFailed="connectionFailed",A.AccountNotFound="accountNotFound",A.AccountLocked="accountLocked",A.AccountFrozen="accountFrozen",A.AccountNotFamily="accountNotFamily",A.UserGuest="userGuest",A.UserSuspended="userSuspended",A.VaultNotFound="vaultNotFound",A.VaultAccessCannotBeManaged="vaultAccessCannotBeManaged",A.PermissionMissingManage="permissionMissingManage",A.Internal="internal"})(IqA||(v.ApiManageVaultAccessError=IqA={}));var PqA;(function(A){A.Android="Android",A.Apple="Apple",A.Mac="Mac",A.MacSystemPassword="MacSystemPassword"})(PqA||(v.ApiType=PqA={}));var SqA;(function(A){A.Invalid="invalid"})(SqA||(v.ApiValidateEmailError=SqA={}));var CqA;(function(A){A.BadLength="badLength",A.BadVersion="badVersion"})(CqA||(v.ApiValidateSecretKeyError=CqA={}));var OqA;(function(A){A.Empty="empty",A.MissingEnterpriseSubdomain="missingEnterpriseSubdomain",A.BadDomain="badDomain",A.MissingDomain="missingDomain",A.LooksLikeEmail="looksLikeEmail",A.ParseError="parseError"})(OqA||(v.ApiValidateSignInAddressError=OqA={}));var TqA;(function(A){A.CannotRemoveReadWithoutManage="cannotRemoveReadWithoutManage"})(TqA||(v.ApiValidateVaultPermissionsChangeError=TqA={}));var _qA;(function(A){A.NoAppStoreProvided="noAppStoreProvided",A.CannotMakePayment="cannotMakePayment",A.PurchaseFailed="purchaseFailed",A.ProductNotFound="productNotFound",A.CannotDecodeProductIdentifier="cannotDecodeProductIdentifier",A.NoAppStoreResult="noAppStoreResult",A.FailedToDeserializeResponse="failedToDeserializeResponse",A.ExistingPurchaseInProgress="existingPurchaseInProgress",A.UnsupportedPlatform="unsupportedPlatform"})(_qA||(v.AppStoreError=_qA={}));var DqA;(function(A){A.Check="Check",A.MarkAsShown="MarkAsShown"})(DqA||(v.AppStoreReviewPromptRequest=DqA={}));var zqA;(function(A){A.Granted="granted",A.NotGranted="notGranted"})(zqA||(v.AppleNotificationAuthorizationResponse=zqA={}));var MqA;(function(A){A.NotDetermined="notDetermined",A.Denied="denied",A.Authorized="authorized",A.Provisional="provisional",A.Ephemeral="ephemeral",A.Unknown="unknown"})(MqA||(v.AppleNotificationAuthorizationStatusResponse=MqA={}));var RqA;(function(A){A.Cli="Cli",A.Ssh="Ssh"})(RqA||(v.AuthPromptType=RqA={}));var KqA;(function(A){A.CredentialsSentSuccessfully="credentialsSentSuccessfully",A.IncorrectCodeChosen="incorrectCodeChosen",A.PromptTimeout="promptTimeout",A.PromptDenied="promptDenied",A.NetworkError="networkError",A.ChannelClosed="channelClosed",A.FeatureDisabled="featureDisabled"})(KqA||(v.AuthorizedDeviceQrDisplayMyceliumSignInResponse=KqA={}));var LqA;(function(A){A.Login="login",A.Password="password",A.CreditCard="creditCard",A.Identity="identity",A.Router="router"})(LqA||(v.AutoFillItemType=LqA={}));var NqA;(function(A){A.Chrome="chrome",A.Firefox="firefox",A.SafariMacos="safari-macos",A.SafariIos="safari-ios"})(NqA||(v.B5xBrowser=NqA={}));var UqA;(function(A){A.UrlParseFailed="UrlParseFailed",A.TemplateParseFailed="TemplateParseFailed",A.FailedToFindValueForFieldIdentifier="FailedToFindValueForFieldIdentifier",A.FailedToGenerateLargeType="FailedToGenerateLargeType",A.FailedToGenerateWatchtowerReport="FailedToGenerateWatchtowerReport",A.SshKeyParseFailed="SshKeyParseFailed",A.FailedToFindTemplateField="FailedToFindTemplateField",A.InvalidTemplateType="InvalidTemplateType"})(UqA||(v.BindingError=UqA={}));var HqA;(function(A){A.AuthenticationSuccessful="AuthenticationSuccessful",A.AuthenticationFailed="AuthenticationFailed",A.UserCancel="UserCancel",A.UserFallBack="UserFallBack",A.SystemCancel="SystemCancel",A.PasscodeNotSet="PasscodeNotSet",A.BiometryNotAvailable="BiometryNotAvailable",A.BiometryNotEnrolled="BiometryNotEnrolled",A.BiometryLockout="BiometryLockout",A.AppCancel="AppCancel",A.InvalidContext="InvalidContext",A.NotInteractive="NotInteractive",A.WatchNotAvailable="WatchNotAvailable",A.LocalizedStringsFailure="LocalizedStringsFailure",A.FailureReasonUnknown="FailureReasonUnknown",A.Timeout="Timeout",A.BiometryAlreadyInProgress="BiometryAlreadyInProgress"})(HqA||(v.BiometricAuthResponse=HqA={}));var VqA;(function(A){A.None="None",A.Biometry="Biometry",A.DeviceCredential="DeviceCredential"})(VqA||(v.BiometricUnlock=VqA={}));var XqA;(function(A){A.MainAppNotRunning="MainAppNotRunning"})(XqA||(v.BrowserHelperResponse=XqA={}));var WqA;(function(A){A.MainAppNotRunning="MainAppNotRunning",A.MainAppOpenTimeout="MainAppOpenTimeout",A.CannotOpenMainApp="CannotOpenMainApp",A.UnknownInvocation="UnknownInvocation",A.BrowserHelperNotRegistered="BrowserHelperNotRegistered"})(WqA||(v.BrowserSupportResponse=WqA={}));var JqA;(function(A){A.BrowserSignatureInvalid="BrowserSignatureInvalid",A.UnknownBrowser="UnknownBrowser"})(JqA||(v.BrowserVerificationFailedReason=JqA={}));var YqA;(function(A){A.Success="success",A.Failed="failed"})(YqA||(v.CancelInviteResponse=YqA={}));var ZqA;(function(A){A.Visa="Visa",A.Mastercard="Mastercard",A.AmericanExpress="AmericanExpress",A.Discover="Discover",A.Jcb="Jcb",A.Maestro="Maestro",A.VisaElectron="VisaElectron",A.UnionPay="UnionPay"})(ZqA||(v.CcType=ZqA={}));var QqA;(function(A){A.UseMaps="useMaps",A.LabsNearbyItems="labsNearbyItems",A.HideImportNudge="hideImportNudge"})(QqA||(v.CheckboxSetting=QqA={}));var A1A;(function(A){A.Create="webauthn.create",A.Get="webauthn.get",A.PaymentGet="payment.get"})(A1A||(v.ClientDataType=A1A={}));var e1A;(function(A){A.InvalidBrowserSignature="InvalidBrowserSignature",A.UnsupportedBrowser="UnsupportedBrowser",A.DoesNotMatchTeam="DoesNotMatchTeam",A.NotSigned="NotSigned",A.MissingRequirementInfo="MissingRequirementInfo"})(e1A||(v.CodeSignatureError=e1A={}));var t1A;(function(A){A.SetUpAnotherDeviceModal="set_up_another_device_modal",A.SetUpAnotherDeviceScreen="set_up_another_device_screen",A.HomepageScreen="homepage_screen",A.WatchtowerScreen="watchtower_screen",A.StartHereModal="start_here_modal",A.StartHereScreen="start_here_screen",A.AllItemsScreen="all_items_screen",A.AddItemsChooseMethodScreen="add_items_choose_method_screen",A.MigrateYourDataScreen="migrate_your_data_screen",A.PinExtensionScreen="pin_extension_screen",A.GetExtensionScreen="get_extension_screen",A.SetUpAutofillScreen="set_up_autofill_screen",A.PracticeSaveAndFillScreen="practice_save_and_fill_screen",A.AddNewItemScreen="add_new_item_screen",A.ProfileMenu="profile_menu",A.InvitePeopleModal="invite_people_modal",A.InvitePeopleScreen="invite_people_screen",A.ItemTemplateScreen="item_template_screen",A.ExportDataModal="export_data_modal",A.GitCommitSigningModal="git_commit_signing_modal",A.DeveloperExperienceHomeScreen="developer_experience_home_screen",A.DeveloperExperienceOnboardingCallout="developer_experience_onboarding_callout",A.SettingsDeveloperScreen="settings_developer_screen",A.CopyItemMenu="copy_item_menu"})(t1A||(v.ComponentSource=t1A={}));var r1A;(function(A){A.Button="button",A.TextLink="text_link",A.Modal="modal",A.Screen="screen",A.MediaCard="mediacard",A.Switch="switch",A.SwitchOn="switch_on",A.SwitchOff="switch_off",A.CheckboxOn="checkbox_on",A.CheckboxOff="checkbox_off",A.ToolTip="tooltip",A.Callout="callout"})(r1A||(v.ComponentType=r1A={}));var a1A;(function(A){A.Success="success",A.Failed="failed"})(a1A||(v.ConfirmUserResponse=a1A={}));var j1A;(function(A){A.Success="success",A.Failure="failure"})(j1A||(v.DeleteUnlockPasskeyResponse=j1A={}));var n1A;(function(A){A.Metric="metric",A.USImperial="uSImperial"})(n1A||(v.DistanceUnit=n1A={}));var i1A;(function(A){A.Fastmail="fastmail"})(i1A||(v.EmailAliasProvider=i1A={}));var o1A;(function(A){A.FailedMfaPrompt="FailedMfaPrompt",A.InvalidMfaPromptResponse="InvalidMfaPromptResponse",A.NoMfaOptions="NoMfaOptions",A.MfaTimedOut="MfaTimedOut"})(o1A||(v.Error=o1A={}));var s1A;(function(A){A.UnableToFindDevice="UnableToFindDevice",A.NoStoredDSecret="NoStoredDSecret"})(s1A||(v.ErrorRequestingDSecretProxy=s1A={}));var l1A;(function(A){A.Pages="pages",A.Signin="signin",A.Unlock="unlock"})(l1A||(v.EssentialSetupRequest=l1A={}));var c1A;(function(A){A.CustomBrowsers="customBrowsers",A.FeatureFlags="featureFlags",A.NearbyItems="nearbyItems",A.AutoType="autoType",A.Snippets="snippets"})(c1A||(v.ExperimentId=c1A={}));var u1A;(function(A){A.ReachedLimitingCondition="ReachedLimitingCondition",A.NoSession="NoSession",A.InvalidTabOrUrl="InvalidTabOrUrl",A.InvalidItem="InvalidItem",A.MismatchingUuid="MismatchingUuid",A.FillFailed="FillFailed"})(u1A||(v.FillStatusError=u1A={}));var d1A;(function(A){A.SignUp="signUp",A.LinkExisting="linkExisting"})(d1A||(v.FreeFamilyOption=d1A={}));var m1A;(function(A){A.ShowAddAccount="ShowAddAccount"})(m1A||(v.FrontendAction=m1A={}));var p1A;(function(A){A.NotFound="NotFound",A.NetworkError="NetworkError"})(p1A||(v.GetItemAtVersionError=p1A={}));var k1A;(function(A){A.Brave="brave",A.Chrome="chrome",A.Csv="csv",A.Dashlane="dashlane",A.Delinea="delinea",A.Edge="edge",A.Firefox="firefox",A.ICloud="iCloud",A.Keepass="keepass",A.KeePassXc="keePassXc",A.LastPass="lastPass",A.OnePux="onePux",A.RoboForm="roboForm",A.Safari="safari",A.Standalone="standalone"})(k1A||(v.ImportName=k1A={}));var h1A;(function(A){A.Desktop="Desktop",A.Phone="Phone",A.Tablet="Tablet",A.Browser="Browser"})(h1A||(v.InterfaceIdiom=h1A={}));var g1A;(function(A){A.Light="Light",A.Dark="Dark"})(g1A||(v.ItemCatalogTheme=g1A={}));var f1A;(function(A){A.InputJsonDeserializationFailed="InputJsonDeserializationFailed",A.MissingTemplateUuid="MissingTemplateUuid",A.MissingItemUrl="MissingItemUrl",A.BadVersionInt="BadVersionInt"})(f1A||(v.ItemListEntryError=f1A={}));var B1A;(function(A){A.Compromised="Compromised",A.Vulnerable="Vulnerable",A.Reused="Reused",A.Weak="Weak",A.Unsecured="Unsecured",A.InactiveMfa="InactiveMfa",A.PasskeyAvailable="PasskeyAvailable",A.Expiring="Expiring",A.PasswordStrength="PasswordStrength",A.Ignored="Ignored",A.LastpassImpacted="LastpassImpacted",A.WrongAccount="WrongAccount",A.DuplicateItem="DuplicateItem",A.ConflictingShortcut="ConflictingShortcut"})(B1A||(v.ItemListWatchtower=B1A={}));var E1A;(function(A){A.Error="Error",A.Warn="Warn",A.Info="Info",A.Debug="Debug",A.Trace="Trace"})(E1A||(v.Level=E1A={}));var x1A;(function(A){A.AccountNotFound="accountNotFound",A.FeatureDisabled="featureDisabled",A.AccountTypeNotSupported="accountTypeNotSupported"})(x1A||(v.ManageAccountResponseError=x1A={}));var b1A;(function(A){A.Member="member",A.Admin="admin",A.Owner="owner"})(b1A||(v.ManageAccountUserType=b1A={}));var y1A;(function(A){A.NetworkError="networkError",A.PermissionDenied="permissionDenied"})(y1A||(v.ManageAccountUserVaultsListResponseError=y1A={}));var v1A;(function(A){A.Failed="failed"})(v1A||(v.MdError=v1A={}));var F1A;(function(A){A.Code="Code",A.Yubikey="Yubikey"})(F1A||(v.MfaInProgressKind=F1A={}));var G1A;(function(A){A.Home="home",A.Items="items",A.Sidebar="sidebar"})(G1A||(v.MobileHomeScreenType=G1A={}));var w1A;(function(A){A.Decimal="decimal",A.PaddedDecimal="paddedDecimal",A.Abbreviated="abbreviated",A.Full="full",A.Narrow="narrow"})(w1A||(v.MonthDayDisplay=w1A={}));var q1A;(function(A){A.Ok="ok",A.Dismissed="dismissed",A.Timeout="timeout",A.AccountLocked="accountLocked",A.AccountNotFound="accountNotFound",A.UnsupportedClientType="unsupportedClientType",A.PasswordUnlockRequired="passwordUnlockRequired",A.AppMustBeLockedToContinue="appMustBeLockedToContinue",A.SystemAuthDisabled="systemAuthDisabled",A.NotAvailable="notAvailable",A.ClientOutOfDate="clientOutOfDate",A.PromptError="promptError"})(q1A||(v.NmAuthorizationResponse=q1A={}));var $1A;(function(A){A.InvalidRequest="InvalidRequest",A.JsonSerializeError="JsonSerializeError",A.DeviceKeyNotFound="DeviceKeyNotFound",A.EncryptCredentialBundleError="EncryptCredentialBundleError",A.DecryptCredentialBundleError="DecryptCredentialBundleError",A.StoreError="StoreError",A.DecryptDeviceKeyError="DecryptDeviceKeyError",A.DeviceKeyGenerationError="DeviceKeyGenerationError",A.WriteDeviceKeyToStorageError="WriteDeviceKeyToStorageError",A.EncryptDeviceKeyError="EncryptDeviceKeyError",A.Unknown="Unknown"})($1A||(v.NmCredentialBundleError=$1A={}));var I1A;(function(A){A.Working="working",A.PermissionErrors="permissionErrors",A.ValidationErrors="validationErrors",A.SynchronizationErrors="synchronizationErrors",A.IncompatibleSandbox="incompatibleSandbox",A.UnableToConnect="unableToConnect"})(I1A||(v.NmCurrentStatusRequest=I1A={}));var P1A;(function(A){A.UserSuspended="userSuspended",A.Other="other"})(P1A||(v.NmRequestDelegatedSessionError=P1A={}));var S1A;(function(A){A.Decimal="decimal",A.PaddedDecimal="paddedDecimal"})(S1A||(v.NumericMonthDayDisplay=S1A={}));var C1A;(function(A){A.Install="Install",A.Uninstall="Uninstall"})(C1A||(v.OpAppBrowserSupportSetup=C1A={}));var O1A;(function(A){A.Start="start",A.ProcessingExportedAccount="processingExportedAccount",A.Saving="saving"})(O1A||(v.OpImportStage=O1A={}));var T1A;(function(A){A.InvalidRequest="InvalidRequest",A.MissingAccountInformation="MissingAccountInformation",A.MissingUnlockInformationInKeychain="MissingUnlockInformationInKeychain",A.MissingDSecret="MissingDSecret",A.CannotUnlockAccounts="CannotUnlockAccounts",A.CannotEncodeResponse="CannotEncodeResponse",A.Unknown="Unknown",A.CannotEncryptCredentialBundle="CannotEncryptCredentialBundle",A.CannotDecryptCredentialBundle="CannotDecryptCredentialBundle",A.UserDefaultsError="UserDefaultsError"})(T1A||(v.OpiRequestError=T1A={}));var _1A;(function(A){A.Uppercase="uppercase",A.Lowercase="lowercase"})(_1A||(v.PeriodDisplay=_1A={}));var D1A;(function(A){A.Success="success",A.Failure="failure"})(D1A||(v.RecoveryKeyActivateResponse=D1A={}));var z1A;(function(A){A.Success="success",A.Failure="failure"})(z1A||(v.RecoveryKeyDeleteResponse=z1A={}));var M1A;(function(A){A.Success="success",A.Failed="failed"})(M1A||(v.ResendInviteResponse=M1A={}));var R1A;(function(A){A.InvalidSession="InvalidSession",A.SessionLocked="SessionLocked",A.SessionNotConfigured="SessionNotConfigured",A.NakedDomainFailed="NakedDomainFailed",A.InvalidItemTemplate="InvalidItemTemplate",A.BrainSaveObject="BrainSaveObject",A.InvalidSaveRequest="InvalidSaveRequest"})(R1A||(v.SaveManagerError=R1A={}));var K1A;(function(A){A.Default="default",A.Privacy="privacy",A.Ramp="ramp",A.Stripe="stripe"})(K1A||(v.ServiceIntegration=K1A={}));var L1A;(function(A){A.InvalidRequest="InvalidRequest",A.JsonSerializeError="JsonSerializeError",A.Unknown="Unknown"})(L1A||(v.SetB5xDeviceUUIDError=L1A={}));var N1A;(function(A){A.Warning="warning",A.Info="info"})(N1A||(v.SettingsCalloutVariant=N1A={}));var U1A;(function(A){A.ItemCreated="itemCreated",A.Cancelled="cancelled"})(U1A||(v.ShowCreateItemResponse=U1A={}));var H1A;(function(A){A.Accepted="Accepted",A.Denied="Denied"})(H1A||(v.SilentUnlockResponse=H1A={}));var V1A;(function(A){A.Accepted="Accepted",A.UserFallBack="UserFallBack",A.Cancelled="Cancelled",A.Denied="Denied",A.NotEnabled="NotEnabled"})(V1A||(v.SystemUnlockResponse=V1A={}));var X1A;(function(A){A.ItemSearch="item_search",A.SetUpAnotherDevice="set_up_another_device",A.Homepage="homepage",A.Watchtower="watchtower",A.ActivationHub="activation_hub",A.ManualItemCreate="manual_item_create",A.ItemImport="item_import",A.ExtensionSetup="extension_setup",A.SetUpAutofill="set_up_autofill",A.MobileAutofillTutorial="mobile_autofill_tutorial",A.ExtensionSaveFillTutorial="extension_save_fill_tutorial",A.ManageAccount="manage_account",A.Accounts="accounts",A.InviteMembers="invite_members",A.ItemSharing="item_sharing",A.ExportItems="export_items",A.GitCommitSigning="git_commit_signing",A.DeveloperExperience="developer_experience",A.Item="item",A.PasskeySave="passkey_save"})(X1A||(v.TelemetryCategory=X1A={}));var W1A;(function(A){A.Allow="allow",A.Deny="deny",A.Dismiss="dismiss"})(W1A||(v.UserPromptResponse=W1A={}));var J1A;(function(A){A.Success="success",A.Failure="failure"})(J1A||(v.ValidateRecoveryCodeResponse=J1A={}));var Y1A;(function(A){A.Initialization="initialization",A.Create="create",A.Edit="edit",A.Delete="delete"})(Y1A||(v.VaultError=Y1A={}));var Z1A;(function(A){A.Private="Private",A.Others="Others",A.Everyone="Everyone"})(Z1A||(v.VaultItemViewability=Z1A={}));var Q1A;(function(A){A.CannotRemoveReadWithoutManage="cannotRemoveReadWithoutManage"})(Q1A||(v.VaultPermissionsCannotModifyReason=Q1A={}));var A$A;(function(A){A.Simplified="simplified"})(A$A||(v.VaultPermissionsMethod=A$A={}));var e$A;(function(A){A.Success="success",A.Error="error"})(e$A||(v.WebAuthnSignUpAddAccountResponse=e$A={}));var t$A;(function(A){A.Failed="failed"})(t$A||(v.WebMdError=t$A={}));var r$A;(function(A){A.QuickAccess="quickAccess",A.SsoAuthPrompt="ssoAuthPrompt"})(r$A||(v.WindowFocusPurpose=r$A={}));var a$A;(function(A){A.CleanUp="CleanUp",A.ConnectionInterrupted="ConnectionInterrupted",A.ConnectionInvalidated="ConnectionInvalidated",A.ConnectionTimeout="ConnectionTimeout",A.ContextDropped="ContextDropped",A.ServerInvalid="ServerInvalid"})(a$A||(v.XpcDisconnectReason=a$A={}))});var al=mA((tZ,oG)=>{(function(A,e){typeof tZ=="object"&&typeof oG<"u"?oG.exports=e():typeof define=="function"&&define.amd?define(e):A.moment=e()})(tZ,function(){"use strict";var A;function e(){return A.apply(null,arguments)}function t(m){A=m}function r(m){return m instanceof Array||Object.prototype.toString.call(m)==="[object Array]"}function a(m){return m!=null&&Object.prototype.toString.call(m)==="[object Object]"}function j(m,g){return Object.prototype.hasOwnProperty.call(m,g)}function n(m){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(m).length===0;var g;for(g in m)if(j(m,g))return!1;return!0}function i(m){return m===void 0}function o(m){return typeof m=="number"||Object.prototype.toString.call(m)==="[object Number]"}function s(m){return m instanceof Date||Object.prototype.toString.call(m)==="[object Date]"}function c(m,g){var x=[],P,V=m.length;for(P=0;P<V;++P)x.push(g(m[P],P));return x}function u(m,g){for(var x in g)j(g,x)&&(m[x]=g[x]);return j(g,"toString")&&(m.toString=g.toString),j(g,"valueOf")&&(m.valueOf=g.valueOf),m}function p(m,g,x,P){return tf(m,g,x,P,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(m){return m._pf==null&&(m._pf=h()),m._pf}var G;Array.prototype.some?G=Array.prototype.some:G=function(m){var g=Object(this),x=g.length>>>0,P;for(P=0;P<x;P++)if(P in g&&m.call(this,g[P],P,g))return!0;return!1};function w(m){var g=null,x=!1,P=m._d&&!isNaN(m._d.getTime());if(P&&(g=f(m),x=G.call(g.parsedDateParts,function(V){return V!=null}),P=g.overflow<0&&!g.empty&&!g.invalidEra&&!g.invalidMonth&&!g.invalidWeekday&&!g.weekdayMismatch&&!g.nullInput&&!g.invalidFormat&&!g.userInvalidated&&(!g.meridiem||g.meridiem&&x),m._strict&&(P=P&&g.charsLeftOver===0&&g.unusedTokens.length===0&&g.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(m))m._isValid=P;else return P;return m._isValid}function y(m){var g=p(NaN);return m!=null?u(f(g),m):f(g).userInvalidated=!0,g}var E=e.momentProperties=[],$=!1;function T(m,g){var x,P,V,kA=E.length;if(i(g._isAMomentObject)||(m._isAMomentObject=g._isAMomentObject),i(g._i)||(m._i=g._i),i(g._f)||(m._f=g._f),i(g._l)||(m._l=g._l),i(g._strict)||(m._strict=g._strict),i(g._tzm)||(m._tzm=g._tzm),i(g._isUTC)||(m._isUTC=g._isUTC),i(g._offset)||(m._offset=g._offset),i(g._pf)||(m._pf=f(g)),i(g._locale)||(m._locale=g._locale),kA>0)for(x=0;x<kA;x++)P=E[x],V=g[P],i(V)||(m[P]=V);return m}function O(m){T(this,m),this._d=new Date(m._d!=null?m._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),$===!1&&($=!0,e.updateOffset(this),$=!1)}function I(m){return m instanceof O||m!=null&&m._isAMomentObject!=null}function q(m){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+m)}function K(m,g){var x=!0;return u(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,m),x){var P=[],V,kA,ce,Lt=arguments.length;for(kA=0;kA<Lt;kA++){if(V="",typeof arguments[kA]=="object"){V+=`
[`+kA+"] ";for(ce in arguments[0])j(arguments[0],ce)&&(V+=ce+": "+arguments[0][ce]+", ");V=V.slice(0,-2)}else V=arguments[kA];P.push(V)}q(m+`
Arguments: `+Array.prototype.slice.call(P).join("")+`
`+new Error().stack),x=!1}return g.apply(this,arguments)},g)}var aA={};function nA(m,g){e.deprecationHandler!=null&&e.deprecationHandler(m,g),aA[m]||(q(g),aA[m]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function lA(m){return typeof Function<"u"&&m instanceof Function||Object.prototype.toString.call(m)==="[object Function]"}function qA(m){var g,x;for(x in m)j(m,x)&&(g=m[x],lA(g)?this[x]=g:this["_"+x]=g);this._config=m,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function UA(m,g){var x=u({},m),P;for(P in g)j(g,P)&&(a(m[P])&&a(g[P])?(x[P]={},u(x[P],m[P]),u(x[P],g[P])):g[P]!=null?x[P]=g[P]:delete x[P]);for(P in m)j(m,P)&&!j(g,P)&&a(m[P])&&(x[P]=u({},x[P]));return x}function le(m){m!=null&&this.set(m)}var yA;Object.keys?yA=Object.keys:yA=function(m){var g,x=[];for(g in m)j(m,g)&&x.push(g);return x};var we={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ge(m,g,x){var P=this._calendar[m]||this._calendar.sameElse;return lA(P)?P.call(g,x):P}function ot(m,g,x){var P=""+Math.abs(m),V=g-P.length,kA=m>=0;return(kA?x?"+":"":"-")+Math.pow(10,Math.max(0,V)).toString().substr(1)+P}var ue=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,IA=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ne={},HA={};function KA(m,g,x,P){var V=P;typeof P=="string"&&(V=function(){return this[P]()}),m&&(HA[m]=V),g&&(HA[g[0]]=function(){return ot(V.apply(this,arguments),g[1],g[2])}),x&&(HA[x]=function(){return this.localeData().ordinal(V.apply(this,arguments),m)})}function XA(m){return m.match(/\[[\s\S]/)?m.replace(/^\[|\]$/g,""):m.replace(/\\/g,"")}function st(m){var g=m.match(ue),x,P;for(x=0,P=g.length;x<P;x++)HA[g[x]]?g[x]=HA[g[x]]:g[x]=XA(g[x]);return function(V){var kA="",ce;for(ce=0;ce<P;ce++)kA+=lA(g[ce])?g[ce].call(V,m):g[ce];return kA}}function or(m,g){return m.isValid()?(g=ve(g,m.localeData()),ne[g]=ne[g]||st(g),ne[g](m)):m.localeData().invalidDate()}function ve(m,g){var x=5;function P(V){return g.longDateFormat(V)||V}for(IA.lastIndex=0;x>=0&&IA.test(m);)m=m.replace(IA,P),IA.lastIndex=0,x-=1;return m}var gt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ge(m){var g=this._longDateFormat[m],x=this._longDateFormat[m.toUpperCase()];return g||!x?g:(this._longDateFormat[m]=x.match(ue).map(function(P){return P==="MMMM"||P==="MM"||P==="DD"||P==="dddd"?P.slice(1):P}).join(""),this._longDateFormat[m])}var It="Invalid date";function wt(){return this._invalidDate}var ar="%d",Ot=/\d{1,2}/;function zr(m){return this._ordinal.replace("%d",m)}var Ba={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function rj(m,g,x,P){var V=this._relativeTime[x];return lA(V)?V(m,g,x,P):V.replace(/%d/i,m)}function aj(m,g){var x=this._relativeTime[m>0?"future":"past"];return lA(x)?x(g):x.replace(/%s/i,g)}var cj={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function er(m){return typeof m=="string"?cj[m]||cj[m.toLowerCase()]:void 0}function pr(m){var g={},x,P;for(P in m)j(m,P)&&(x=er(P),x&&(g[x]=m[P]));return g}var ua={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function pn(m){var g=[],x;for(x in m)j(m,x)&&g.push({unit:x,priority:ua[x]});return g.sort(function(P,V){return P.priority-V.priority}),g}var ft=/\d/,pA=/\d\d/,wA=/\d{3}/,JA=/\d{4}/,Me=/[+-]?\d{6}/,Se=/\d\d?/,_t=/\d\d\d\d?/,qe=/\d\d\d\d\d\d?/,BA=/\d{1,3}/,dA=/\d{1,4}/,DA=/[+-]?\d{1,6}/,jt=/\d+/,Ga=/[+-]?\d+/,Pi=/Z|[+-]\d\d:?\d\d/gi,Bs=/Z|[+-]\d\d(?::?\d\d)?/gi,bj=/[+-]?\d+(\.\d{1,3})?/,gi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fi=/^[1-9]\d?/,jm=/^([1-9]\d|\d)/,Nc;Nc={};function Ft(m,g,x){Nc[m]=lA(g)?g:function(P,V){return P&&x?x:g}}function a6(m,g){return j(Nc,m)?Nc[m](g._strict,g._locale):new RegExp(Gl(m))}function Gl(m){return _o(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(g,x,P,V,kA){return x||P||V||kA}))}function _o(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Si(m){return m<0?Math.ceil(m)||0:Math.floor(m)}function da(m){var g=+m,x=0;return g!==0&&isFinite(g)&&(x=Si(g)),x}var _6={};function Lr(m,g){var x,P=g,V;for(typeof m=="string"&&(m=[m]),o(g)&&(P=function(kA,ce){ce[g]=da(kA)}),V=m.length,x=0;x<V;x++)_6[m[x]]=P}function ts(m,g){Lr(m,function(x,P,V,kA){V._w=V._w||{},g(x,V._w,V,kA)})}function C(m,g,x){g!=null&&j(_6,m)&&_6[m](g,x._a,x,m)}function H(m){return m%4===0&&m%100!==0||m%400===0}var L=0,B=1,Y=2,xA=3,PA=4,_=5,U=6,tA=7,J=8;KA("Y",0,0,function(){var m=this.year();return m<=9999?ot(m,4):"+"+m}),KA(0,["YY",2],0,function(){return this.year()%100}),KA(0,["YYYY",4],0,"year"),KA(0,["YYYYY",5],0,"year"),KA(0,["YYYYYY",6,!0],0,"year"),Ft("Y",Ga),Ft("YY",Se,pA),Ft("YYYY",dA,JA),Ft("YYYYY",DA,Me),Ft("YYYYYY",DA,Me),Lr(["YYYYY","YYYYYY"],L),Lr("YYYY",function(m,g){g[L]=m.length===2?e.parseTwoDigitYear(m):da(m)}),Lr("YY",function(m,g){g[L]=e.parseTwoDigitYear(m)}),Lr("Y",function(m,g){g[L]=parseInt(m,10)});function vA(m){return H(m)?366:365}e.parseTwoDigitYear=function(m){return da(m)+(da(m)>68?1900:2e3)};var gA=bA("FullYear",!0);function zA(){return H(this.year())}function bA(m,g){return function(x){return x!=null?(Ce(this,m,x),e.updateOffset(this,g),this):ee(this,m)}}function ee(m,g){if(!m.isValid())return NaN;var x=m._d,P=m._isUTC;switch(g){case"Milliseconds":return P?x.getUTCMilliseconds():x.getMilliseconds();case"Seconds":return P?x.getUTCSeconds():x.getSeconds();case"Minutes":return P?x.getUTCMinutes():x.getMinutes();case"Hours":return P?x.getUTCHours():x.getHours();case"Date":return P?x.getUTCDate():x.getDate();case"Day":return P?x.getUTCDay():x.getDay();case"Month":return P?x.getUTCMonth():x.getMonth();case"FullYear":return P?x.getUTCFullYear():x.getFullYear();default:return NaN}}function Ce(m,g,x){var P,V,kA,ce,Lt;if(!(!m.isValid()||isNaN(x))){switch(P=m._d,V=m._isUTC,g){case"Milliseconds":return void(V?P.setUTCMilliseconds(x):P.setMilliseconds(x));case"Seconds":return void(V?P.setUTCSeconds(x):P.setSeconds(x));case"Minutes":return void(V?P.setUTCMinutes(x):P.setMinutes(x));case"Hours":return void(V?P.setUTCHours(x):P.setHours(x));case"Date":return void(V?P.setUTCDate(x):P.setDate(x));case"FullYear":break;default:return}kA=x,ce=m.month(),Lt=m.date(),Lt=Lt===29&&ce===1&&!H(kA)?28:Lt,V?P.setUTCFullYear(kA,ce,Lt):P.setFullYear(kA,ce,Lt)}}function et(m){return m=er(m),lA(this[m])?this[m]():this}function at(m,g){if(typeof m=="object"){m=pr(m);var x=pn(m),P,V=x.length;for(P=0;P<V;P++)this[x[P].unit](m[x[P].unit])}else if(m=er(m),lA(this[m]))return this[m](g);return this}function Bt(m,g){return(m%g+g)%g}var De;Array.prototype.indexOf?De=Array.prototype.indexOf:De=function(m){var g;for(g=0;g<this.length;++g)if(this[g]===m)return g;return-1};function Gt(m,g){if(isNaN(m)||isNaN(g))return NaN;var x=Bt(g,12);return m+=(g-x)/12,x===1?H(m)?29:28:31-x%7%2}KA("M",["MM",2],"Mo",function(){return this.month()+1}),KA("MMM",0,0,function(m){return this.localeData().monthsShort(this,m)}),KA("MMMM",0,0,function(m){return this.localeData().months(this,m)}),Ft("M",Se,fi),Ft("MM",Se,pA),Ft("MMM",function(m,g){return g.monthsShortRegex(m)}),Ft("MMMM",function(m,g){return g.monthsRegex(m)}),Lr(["M","MM"],function(m,g){g[B]=da(m)-1}),Lr(["MMM","MMMM"],function(m,g,x,P){var V=x._locale.monthsParse(m,P,x._strict);V!=null?g[B]=V:f(x).invalidMonth=m});var tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ut=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lt=gi,re=gi;function je(m,g){return m?r(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||Ut).test(g)?"format":"standalone"][m.month()]:r(this._months)?this._months:this._months.standalone}function He(m,g){return m?r(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[Ut.test(g)?"format":"standalone"][m.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function xe(m,g,x){var P,V,kA,ce=m.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],P=0;P<12;++P)kA=p([2e3,P]),this._shortMonthsParse[P]=this.monthsShort(kA,"").toLocaleLowerCase(),this._longMonthsParse[P]=this.months(kA,"").toLocaleLowerCase();return x?g==="MMM"?(V=De.call(this._shortMonthsParse,ce),V!==-1?V:null):(V=De.call(this._longMonthsParse,ce),V!==-1?V:null):g==="MMM"?(V=De.call(this._shortMonthsParse,ce),V!==-1?V:(V=De.call(this._longMonthsParse,ce),V!==-1?V:null)):(V=De.call(this._longMonthsParse,ce),V!==-1?V:(V=De.call(this._shortMonthsParse,ce),V!==-1?V:null))}function pe(m,g,x){var P,V,kA;if(this._monthsParseExact)return xe.call(this,m,g,x);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),P=0;P<12;P++){if(V=p([2e3,P]),x&&!this._longMonthsParse[P]&&(this._longMonthsParse[P]=new RegExp("^"+this.months(V,"").replace(".","")+"$","i"),this._shortMonthsParse[P]=new RegExp("^"+this.monthsShort(V,"").replace(".","")+"$","i")),!x&&!this._monthsParse[P]&&(kA="^"+this.months(V,"")+"|^"+this.monthsShort(V,""),this._monthsParse[P]=new RegExp(kA.replace(".",""),"i")),x&&g==="MMMM"&&this._longMonthsParse[P].test(m))return P;if(x&&g==="MMM"&&this._shortMonthsParse[P].test(m))return P;if(!x&&this._monthsParse[P].test(m))return P}}function ye(m,g){if(!m.isValid())return m;if(typeof g=="string"){if(/^\d+$/.test(g))g=da(g);else if(g=m.localeData().monthsParse(g),!o(g))return m}var x=g,P=m.date();return P=P<29?P:Math.min(P,Gt(m.year(),x)),m._isUTC?m._d.setUTCMonth(x,P):m._d.setMonth(x,P),m}function gr(m){return m!=null?(ye(this,m),e.updateOffset(this,!0),this):ee(this,"Month")}function Nr(){return Gt(this.year(),this.month())}function kr(m){return this._monthsParseExact?(j(this,"_monthsRegex")||cA.call(this),m?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=lt),this._monthsShortStrictRegex&&m?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ur(m){return this._monthsParseExact?(j(this,"_monthsRegex")||cA.call(this),m?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=re),this._monthsStrictRegex&&m?this._monthsStrictRegex:this._monthsRegex)}function cA(){function m(Qr,Ja){return Ja.length-Qr.length}var g=[],x=[],P=[],V,kA,ce,Lt;for(V=0;V<12;V++)kA=p([2e3,V]),ce=_o(this.monthsShort(kA,"")),Lt=_o(this.months(kA,"")),g.push(ce),x.push(Lt),P.push(Lt),P.push(ce);g.sort(m),x.sort(m),P.sort(m),this._monthsRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+x.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+g.join("|")+")","i")}function ma(m,g,x,P,V,kA,ce){var Lt;return m<100&&m>=0?(Lt=new Date(m+400,g,x,P,V,kA,ce),isFinite(Lt.getFullYear())&&Lt.setFullYear(m)):Lt=new Date(m,g,x,P,V,kA,ce),Lt}function wa(m){var g,x;return m<100&&m>=0?(x=Array.prototype.slice.call(arguments),x[0]=m+400,g=new Date(Date.UTC.apply(null,x)),isFinite(g.getUTCFullYear())&&g.setUTCFullYear(m)):g=new Date(Date.UTC.apply(null,arguments)),g}function pa(m,g,x){var P=7+g-x,V=(7+wa(m,0,P).getUTCDay()-g)%7;return-V+P-1}function Zr(m,g,x,P,V){var kA=(7+x-P)%7,ce=pa(m,P,V),Lt=1+7*(g-1)+kA+ce,Qr,Ja;return Lt<=0?(Qr=m-1,Ja=vA(Qr)+Lt):Lt>vA(m)?(Qr=m+1,Ja=Lt-vA(m)):(Qr=m,Ja=Lt),{year:Qr,dayOfYear:Ja}}function Ea(m,g,x){var P=pa(m.year(),g,x),V=Math.floor((m.dayOfYear()-P-1)/7)+1,kA,ce;return V<1?(ce=m.year()-1,kA=V+Hr(ce,g,x)):V>Hr(m.year(),g,x)?(kA=V-Hr(m.year(),g,x),ce=m.year()+1):(ce=m.year(),kA=V),{week:kA,year:ce}}function Hr(m,g,x){var P=pa(m,g,x),V=pa(m+1,g,x);return(vA(m)-P+V)/7}KA("w",["ww",2],"wo","week"),KA("W",["WW",2],"Wo","isoWeek"),Ft("w",Se,fi),Ft("ww",Se,pA),Ft("W",Se,fi),Ft("WW",Se,pA),ts(["w","ww","W","WW"],function(m,g,x,P){g[P.substr(0,1)]=da(m)});function kn(m){return Ea(m,this._week.dow,this._week.doy).week}var za={dow:0,doy:6};function D(){return this._week.dow}function R(){return this._week.doy}function W(m){var g=this.localeData().week(this);return m==null?g:this.add((m-g)*7,"d")}function hA(m){var g=Ea(this,1,4).week;return m==null?g:this.add((m-g)*7,"d")}KA("d",0,"do","day"),KA("dd",0,0,function(m){return this.localeData().weekdaysMin(this,m)}),KA("ddd",0,0,function(m){return this.localeData().weekdaysShort(this,m)}),KA("dddd",0,0,function(m){return this.localeData().weekdays(this,m)}),KA("e",0,0,"weekday"),KA("E",0,0,"isoWeekday"),Ft("d",Se),Ft("e",Se),Ft("E",Se),Ft("dd",function(m,g){return g.weekdaysMinRegex(m)}),Ft("ddd",function(m,g){return g.weekdaysShortRegex(m)}),Ft("dddd",function(m,g){return g.weekdaysRegex(m)}),ts(["dd","ddd","dddd"],function(m,g,x,P){var V=x._locale.weekdaysParse(m,P,x._strict);V!=null?g.d=V:f(x).invalidWeekday=m}),ts(["d","e","E"],function(m,g,x,P){g[P]=da(m)});function de(m,g){return typeof m!="string"?m:isNaN(m)?(m=g.weekdaysParse(m),typeof m=="number"?m:null):parseInt(m,10)}function Fe(m,g){return typeof m=="string"?g.weekdaysParse(m)%7||7:isNaN(m)?null:m}function rt(m,g){return m.slice(g,7).concat(m.slice(0,g))}var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),An="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ji="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ws=gi,Js=gi,Uc=gi;function Qg(m,g){var x=r(this._weekdays)?this._weekdays:this._weekdays[m&&m!==!0&&this._weekdays.isFormat.test(g)?"format":"standalone"];return m===!0?rt(x,this._week.dow):m?x[m.day()]:x}function j6(m){return m===!0?rt(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort}function Ys(m){return m===!0?rt(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin}function Af(m,g,x){var P,V,kA,ce=m.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],P=0;P<7;++P)kA=p([2e3,1]).day(P),this._minWeekdaysParse[P]=this.weekdaysMin(kA,"").toLocaleLowerCase(),this._shortWeekdaysParse[P]=this.weekdaysShort(kA,"").toLocaleLowerCase(),this._weekdaysParse[P]=this.weekdays(kA,"").toLocaleLowerCase();return x?g==="dddd"?(V=De.call(this._weekdaysParse,ce),V!==-1?V:null):g==="ddd"?(V=De.call(this._shortWeekdaysParse,ce),V!==-1?V:null):(V=De.call(this._minWeekdaysParse,ce),V!==-1?V:null):g==="dddd"?(V=De.call(this._weekdaysParse,ce),V!==-1||(V=De.call(this._shortWeekdaysParse,ce),V!==-1)?V:(V=De.call(this._minWeekdaysParse,ce),V!==-1?V:null)):g==="ddd"?(V=De.call(this._shortWeekdaysParse,ce),V!==-1||(V=De.call(this._weekdaysParse,ce),V!==-1)?V:(V=De.call(this._minWeekdaysParse,ce),V!==-1?V:null)):(V=De.call(this._minWeekdaysParse,ce),V!==-1||(V=De.call(this._weekdaysParse,ce),V!==-1)?V:(V=De.call(this._shortWeekdaysParse,ce),V!==-1?V:null))}function Nu(m,g,x){var P,V,kA;if(this._weekdaysParseExact)return Af.call(this,m,g,x);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),P=0;P<7;P++){if(V=p([2e3,1]).day(P),x&&!this._fullWeekdaysParse[P]&&(this._fullWeekdaysParse[P]=new RegExp("^"+this.weekdays(V,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[P]=new RegExp("^"+this.weekdaysShort(V,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[P]=new RegExp("^"+this.weekdaysMin(V,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[P]||(kA="^"+this.weekdays(V,"")+"|^"+this.weekdaysShort(V,"")+"|^"+this.weekdaysMin(V,""),this._weekdaysParse[P]=new RegExp(kA.replace(".",""),"i")),x&&g==="dddd"&&this._fullWeekdaysParse[P].test(m))return P;if(x&&g==="ddd"&&this._shortWeekdaysParse[P].test(m))return P;if(x&&g==="dd"&&this._minWeekdaysParse[P].test(m))return P;if(!x&&this._weekdaysParse[P].test(m))return P}}function vx(m){if(!this.isValid())return m!=null?this:NaN;var g=ee(this,"Day");return m!=null?(m=de(m,this.localeData()),this.add(m-g,"d")):g}function RX(m){if(!this.isValid())return m!=null?this:NaN;var g=(this.day()+7-this.localeData()._week.dow)%7;return m==null?g:this.add(m-g,"d")}function KX(m){if(!this.isValid())return m!=null?this:NaN;if(m!=null){var g=Fe(m,this.localeData());return this.day(this.day()%7?g:g-7)}else return this.day()||7}function Cn(m){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||B8.call(this),m?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=Ws),this._weekdaysStrictRegex&&m?this._weekdaysStrictRegex:this._weekdaysRegex)}function bn(m){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||B8.call(this),m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Js),this._weekdaysShortStrictRegex&&m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function LX(m){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||B8.call(this),m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Uc),this._weekdaysMinStrictRegex&&m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function B8(){function m(Al,Yu){return Yu.length-Al.length}var g=[],x=[],P=[],V=[],kA,ce,Lt,Qr,Ja;for(kA=0;kA<7;kA++)ce=p([2e3,1]).day(kA),Lt=_o(this.weekdaysMin(ce,"")),Qr=_o(this.weekdaysShort(ce,"")),Ja=_o(this.weekdays(ce,"")),g.push(Lt),x.push(Qr),P.push(Ja),V.push(Lt),V.push(Qr),V.push(Ja);g.sort(m),x.sort(m),P.sort(m),V.sort(m),this._weekdaysRegex=new RegExp("^("+V.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+x.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function E8(){return this.hours()%12||12}function NX(){return this.hours()||24}KA("H",["HH",2],0,"hour"),KA("h",["hh",2],0,E8),KA("k",["kk",2],0,NX),KA("hmm",0,0,function(){return""+E8.apply(this)+ot(this.minutes(),2)}),KA("hmmss",0,0,function(){return""+E8.apply(this)+ot(this.minutes(),2)+ot(this.seconds(),2)}),KA("Hmm",0,0,function(){return""+this.hours()+ot(this.minutes(),2)}),KA("Hmmss",0,0,function(){return""+this.hours()+ot(this.minutes(),2)+ot(this.seconds(),2)});function nD(m,g){KA(m,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),g)})}nD("a",!0),nD("A",!1);function iD(m,g){return g._meridiemParse}Ft("a",iD),Ft("A",iD),Ft("H",Se,jm),Ft("h",Se,fi),Ft("k",Se,fi),Ft("HH",Se,pA),Ft("hh",Se,pA),Ft("kk",Se,pA),Ft("hmm",_t),Ft("hmmss",qe),Ft("Hmm",_t),Ft("Hmmss",qe),Lr(["H","HH"],xA),Lr(["k","kk"],function(m,g,x){var P=da(m);g[xA]=P===24?0:P}),Lr(["a","A"],function(m,g,x){x._isPm=x._locale.isPM(m),x._meridiem=m}),Lr(["h","hh"],function(m,g,x){g[xA]=da(m),f(x).bigHour=!0}),Lr("hmm",function(m,g,x){var P=m.length-2;g[xA]=da(m.substr(0,P)),g[PA]=da(m.substr(P)),f(x).bigHour=!0}),Lr("hmmss",function(m,g,x){var P=m.length-4,V=m.length-2;g[xA]=da(m.substr(0,P)),g[PA]=da(m.substr(P,2)),g[_]=da(m.substr(V)),f(x).bigHour=!0}),Lr("Hmm",function(m,g,x){var P=m.length-2;g[xA]=da(m.substr(0,P)),g[PA]=da(m.substr(P))}),Lr("Hmmss",function(m,g,x){var P=m.length-4,V=m.length-2;g[xA]=da(m.substr(0,P)),g[PA]=da(m.substr(P,2)),g[_]=da(m.substr(V))});function oD(m){return(m+"").toLowerCase().charAt(0)==="p"}var UX=/[ap]\.?m?\.?/i,Do=bA("Hours",!0);function x8(m,g,x){return m>11?x?"pm":"PM":x?"am":"AM"}var Op={calendar:we,longDateFormat:gt,invalidDate:It,ordinal:ar,dayOfMonthOrdinalParse:Ot,relativeTime:Ba,months:tt,monthsShort:Et,week:za,weekdays:Rt,weekdaysMin:Ji,weekdaysShort:An,meridiemParse:UX},On={},R7={},Es;function sD(m,g){var x,P=Math.min(m.length,g.length);for(x=0;x<P;x+=1)if(m[x]!==g[x])return x;return P}function b8(m){return m&&m.toLowerCase().replace("_","-")}function lD(m){for(var g=0,x,P,V,kA;g<m.length;){for(kA=b8(m[g]).split("-"),x=kA.length,P=b8(m[g+1]),P=P?P.split("-"):null;x>0;){if(V=Fx(kA.slice(0,x).join("-")),V)return V;if(P&&P.length>=x&&sD(kA,P)>=x-1)break;x--}g++}return Es}function cD(m){return!!(m&&m.match("^[^/\\\\]*$"))}function Fx(m){var g=null,x;if(On[m]===void 0&&typeof oG<"u"&&oG&&oG.exports&&cD(m))try{g=Es._abbr,x=X8,x("./locale/"+m),nm(g)}catch{On[m]=null}return On[m]}function nm(m,g){var x;return m&&(i(g)?x=Yi(m):x=Zs(m,g),x?Es=x:typeof console<"u"&&console.warn&&console.warn("Locale "+m+" not found. Did you forget to load it?")),Es._abbr}function Zs(m,g){if(g!==null){var x,P=Op;if(g.abbr=m,On[m]!=null)nA("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),P=On[m]._config;else if(g.parentLocale!=null)if(On[g.parentLocale]!=null)P=On[g.parentLocale]._config;else if(x=Fx(g.parentLocale),x!=null)P=x._config;else return R7[g.parentLocale]||(R7[g.parentLocale]=[]),R7[g.parentLocale].push({name:m,config:g}),null;return On[m]=new le(UA(P,g)),R7[m]&&R7[m].forEach(function(V){Zs(V.name,V.config)}),nm(m),On[m]}else return delete On[m],null}function HX(m,g){if(g!=null){var x,P,V=Op;On[m]!=null&&On[m].parentLocale!=null?On[m].set(UA(On[m]._config,g)):(P=Fx(m),P!=null&&(V=P._config),g=UA(V,g),P==null&&(g.abbr=m),x=new le(g),x.parentLocale=On[m],On[m]=x),nm(m)}else On[m]!=null&&(On[m].parentLocale!=null?(On[m]=On[m].parentLocale,m===nm()&&nm(m)):On[m]!=null&&delete On[m]);return On[m]}function Yi(m){var g;if(m&&m._locale&&m._locale._abbr&&(m=m._locale._abbr),!m)return Es;if(!r(m)){if(g=Fx(m),g)return g;m=[m]}return lD(m)}function VX(){return yA(On)}function K0(m){var g,x=m._a;return x&&f(m).overflow===-2&&(g=x[B]<0||x[B]>11?B:x[Y]<1||x[Y]>Gt(x[L],x[B])?Y:x[xA]<0||x[xA]>24||x[xA]===24&&(x[PA]!==0||x[_]!==0||x[U]!==0)?xA:x[PA]<0||x[PA]>59?PA:x[_]<0||x[_]>59?_:x[U]<0||x[U]>999?U:-1,f(m)._overflowDayOfYear&&(g<L||g>Y)&&(g=Y),f(m)._overflowWeeks&&g===-1&&(g=tA),f(m)._overflowWeekday&&g===-1&&(g=J),f(m).overflow=g),m}var Tp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,L0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,y8=/Z|[+-]\d\d(?::?\d\d)?/,hn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Uu=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v8=/^\/?Date\((-?\d+)/i,XX=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,F8={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uD(m){var g,x,P=m._i,V=Tp.exec(P)||L0.exec(P),kA,ce,Lt,Qr,Ja=hn.length,Al=Uu.length;if(V){for(f(m).iso=!0,g=0,x=Ja;g<x;g++)if(hn[g][1].exec(V[1])){ce=hn[g][0],kA=hn[g][2]!==!1;break}if(ce==null){m._isValid=!1;return}if(V[3]){for(g=0,x=Al;g<x;g++)if(Uu[g][1].exec(V[3])){Lt=(V[2]||" ")+Uu[g][0];break}if(Lt==null){m._isValid=!1;return}}if(!kA&&Lt!=null){m._isValid=!1;return}if(V[4])if(y8.exec(V[4]))Qr="Z";else{m._isValid=!1;return}m._f=ce+(Lt||"")+(Qr||""),w8(m)}else m._isValid=!1}function WX(m,g,x,P,V,kA){var ce=[JX(m),Et.indexOf(g),parseInt(x,10),parseInt(P,10),parseInt(V,10)];return kA&&ce.push(parseInt(kA,10)),ce}function JX(m){var g=parseInt(m,10);return g<=49?2e3+g:g<=999?1900+g:g}function dD(m){return m.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function N0(m,g,x){if(m){var P=An.indexOf(m),V=new Date(g[0],g[1],g[2]).getDay();if(P!==V)return f(x).weekdayMismatch=!0,x._isValid=!1,!1}return!0}function ef(m,g,x){if(m)return F8[m];if(g)return 0;var P=parseInt(x,10),V=P%100,kA=(P-V)/100;return kA*60+V}function mD(m){var g=XX.exec(dD(m._i)),x;if(g){if(x=WX(g[4],g[3],g[2],g[5],g[6],g[7]),!N0(g[1],x,m))return;m._a=x,m._tzm=ef(g[8],g[9],g[10]),m._d=wa.apply(null,m._a),m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),f(m).rfc2822=!0}else m._isValid=!1}function pD(m){var g=v8.exec(m._i);if(g!==null){m._d=new Date(+g[1]);return}if(uD(m),m._isValid===!1)delete m._isValid;else return;if(mD(m),m._isValid===!1)delete m._isValid;else return;m._strict?m._isValid=!1:e.createFromInputFallback(m)}e.createFromInputFallback=K("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(m){m._d=new Date(m._i+(m._useUTC?" UTC":""))});function K7(m,g,x){return m??g??x}function G8(m){var g=new Date(e.now());return m._useUTC?[g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()]:[g.getFullYear(),g.getMonth(),g.getDate()]}function Gx(m){var g,x,P=[],V,kA,ce;if(!m._d){for(V=G8(m),m._w&&m._a[Y]==null&&m._a[B]==null&&kD(m),m._dayOfYear!=null&&(ce=K7(m._a[L],V[L]),(m._dayOfYear>vA(ce)||m._dayOfYear===0)&&(f(m)._overflowDayOfYear=!0),x=wa(ce,0,m._dayOfYear),m._a[B]=x.getUTCMonth(),m._a[Y]=x.getUTCDate()),g=0;g<3&&m._a[g]==null;++g)m._a[g]=P[g]=V[g];for(;g<7;g++)m._a[g]=P[g]=m._a[g]==null?g===2?1:0:m._a[g];m._a[xA]===24&&m._a[PA]===0&&m._a[_]===0&&m._a[U]===0&&(m._nextDay=!0,m._a[xA]=0),m._d=(m._useUTC?wa:ma).apply(null,P),kA=m._useUTC?m._d.getUTCDay():m._d.getDay(),m._tzm!=null&&m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),m._nextDay&&(m._a[xA]=24),m._w&&typeof m._w.d<"u"&&m._w.d!==kA&&(f(m).weekdayMismatch=!0)}}function kD(m){var g,x,P,V,kA,ce,Lt,Qr,Ja;g=m._w,g.GG!=null||g.W!=null||g.E!=null?(kA=1,ce=4,x=K7(g.GG,m._a[L],Ea(yn(),1,4).year),P=K7(g.W,1),V=K7(g.E,1),(V<1||V>7)&&(Qr=!0)):(kA=m._locale._week.dow,ce=m._locale._week.doy,Ja=Ea(yn(),kA,ce),x=K7(g.gg,m._a[L],Ja.year),P=K7(g.w,Ja.week),g.d!=null?(V=g.d,(V<0||V>6)&&(Qr=!0)):g.e!=null?(V=g.e+kA,(g.e<0||g.e>6)&&(Qr=!0)):V=kA),P<1||P>Hr(x,kA,ce)?f(m)._overflowWeeks=!0:Qr!=null?f(m)._overflowWeekday=!0:(Lt=Zr(x,P,V,kA,ce),m._a[L]=Lt.year,m._dayOfYear=Lt.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function w8(m){if(m._f===e.ISO_8601){uD(m);return}if(m._f===e.RFC_2822){mD(m);return}m._a=[],f(m).empty=!0;var g=""+m._i,x,P,V,kA,ce,Lt=g.length,Qr=0,Ja,Al;for(V=ve(m._f,m._locale).match(ue)||[],Al=V.length,x=0;x<Al;x++)kA=V[x],P=(g.match(a6(kA,m))||[])[0],P&&(ce=g.substr(0,g.indexOf(P)),ce.length>0&&f(m).unusedInput.push(ce),g=g.slice(g.indexOf(P)+P.length),Qr+=P.length),HA[kA]?(P?f(m).empty=!1:f(m).unusedTokens.push(kA),C(kA,P,m)):m._strict&&!P&&f(m).unusedTokens.push(kA);f(m).charsLeftOver=Lt-Qr,g.length>0&&f(m).unusedInput.push(g),m._a[xA]<=12&&f(m).bigHour===!0&&m._a[xA]>0&&(f(m).bigHour=void 0),f(m).parsedDateParts=m._a.slice(0),f(m).meridiem=m._meridiem,m._a[xA]=q8(m._locale,m._a[xA],m._meridiem),Ja=f(m).era,Ja!==null&&(m._a[L]=m._locale.erasConvertYear(Ja,m._a[L])),Gx(m),K0(m)}function q8(m,g,x){var P;return x==null?g:m.meridiemHour!=null?m.meridiemHour(g,x):(m.isPM!=null&&(P=m.isPM(x),P&&g<12&&(g+=12),!P&&g===12&&(g=0)),g)}function $8(m){var g,x,P,V,kA,ce,Lt=!1,Qr=m._f.length;if(Qr===0){f(m).invalidFormat=!0,m._d=new Date(NaN);return}for(V=0;V<Qr;V++)kA=0,ce=!1,g=T({},m),m._useUTC!=null&&(g._useUTC=m._useUTC),g._f=m._f[V],w8(g),w(g)&&(ce=!0),kA+=f(g).charsLeftOver,kA+=f(g).unusedTokens.length*10,f(g).score=kA,Lt?kA<P&&(P=kA,x=g):(P==null||kA<P||ce)&&(P=kA,x=g,ce&&(Lt=!0));u(m,x||g)}function YX(m){if(!m._d){var g=pr(m._i),x=g.day===void 0?g.date:g.day;m._a=c([g.year,g.month,x,g.hour,g.minute,g.second,g.millisecond],function(P){return P&&parseInt(P,10)}),Gx(m)}}function hD(m){var g=new O(K0(wl(m)));return g._nextDay&&(g.add(1,"d"),g._nextDay=void 0),g}function wl(m){var g=m._i,x=m._f;return m._locale=m._locale||Yi(m._l),g===null||x===void 0&&g===""?y({nullInput:!0}):(typeof g=="string"&&(m._i=g=m._locale.preparse(g)),I(g)?new O(K0(g)):(s(g)?m._d=g:r(x)?$8(m):x?w8(m):I8(m),w(m)||(m._d=null),m))}function I8(m){var g=m._i;i(g)?m._d=new Date(e.now()):s(g)?m._d=new Date(g.valueOf()):typeof g=="string"?pD(m):r(g)?(m._a=c(g.slice(0),function(x){return parseInt(x,10)}),Gx(m)):a(g)?YX(m):o(g)?m._d=new Date(g):e.createFromInputFallback(m)}function tf(m,g,x,P,V){var kA={};return(g===!0||g===!1)&&(P=g,g=void 0),(x===!0||x===!1)&&(P=x,x=void 0),(a(m)&&n(m)||r(m)&&m.length===0)&&(m=void 0),kA._isAMomentObject=!0,kA._useUTC=kA._isUTC=V,kA._l=x,kA._i=m,kA._f=g,kA._strict=P,hD(kA)}function yn(m,g,x,P){return tf(m,g,x,P,!1)}var gD=K("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=yn.apply(null,arguments);return this.isValid()&&m.isValid()?m<this?this:m:y()}),ZX=K("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=yn.apply(null,arguments);return this.isValid()&&m.isValid()?m>this?this:m:y()});function fD(m,g){var x,P;if(g.length===1&&r(g[0])&&(g=g[0]),!g.length)return yn();for(x=g[0],P=1;P<g.length;++P)(!g[P].isValid()||g[P][m](x))&&(x=g[P]);return x}function QX(){var m=[].slice.call(arguments,0);return fD("isBefore",m)}function AW(){var m=[].slice.call(arguments,0);return fD("isAfter",m)}var eW=function(){return Date.now?Date.now():+new Date},Hu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tW(m){var g,x=!1,P,V=Hu.length;for(g in m)if(j(m,g)&&!(De.call(Hu,g)!==-1&&(m[g]==null||!isNaN(m[g]))))return!1;for(P=0;P<V;++P)if(m[Hu[P]]){if(x)return!1;parseFloat(m[Hu[P]])!==da(m[Hu[P]])&&(x=!0)}return!0}function rW(){return this._isValid}function P8(){return jj(NaN)}function wx(m){var g=pr(m),x=g.year||0,P=g.quarter||0,V=g.month||0,kA=g.week||g.isoWeek||0,ce=g.day||0,Lt=g.hour||0,Qr=g.minute||0,Ja=g.second||0,Al=g.millisecond||0;this._isValid=tW(g),this._milliseconds=+Al+Ja*1e3+Qr*6e4+Lt*1e3*60*60,this._days=+ce+kA*7,this._months=+V+P*3+x*12,this._data={},this._locale=Yi(),this._bubble()}function Hc(m){return m instanceof wx}function rf(m){return m<0?Math.round(-1*m)*-1:Math.round(m)}function aW(m,g,x){var P=Math.min(m.length,g.length),V=Math.abs(m.length-g.length),kA=0,ce;for(ce=0;ce<P;ce++)(x&&m[ce]!==g[ce]||!x&&da(m[ce])!==da(g[ce]))&&kA++;return kA+V}function BD(m,g){KA(m,0,0,function(){var x=this.utcOffset(),P="+";return x<0&&(x=-x,P="-"),P+ot(~~(x/60),2)+g+ot(~~x%60,2)})}BD("Z",":"),BD("ZZ",""),Ft("Z",Bs),Ft("ZZ",Bs),Lr(["Z","ZZ"],function(m,g,x){x._useUTC=!0,x._tzm=_p(Bs,m)});var jW=/([\+\-]|\d\d)/gi;function _p(m,g){var x=(g||"").match(m),P,V,kA;return x===null?null:(P=x[x.length-1]||[],V=(P+"").match(jW)||["-",0,0],kA=+(V[1]*60)+da(V[2]),kA===0?0:V[0]==="+"?kA:-kA)}function n6(m,g){var x,P;return g._isUTC?(x=g.clone(),P=(I(m)||s(m)?m.valueOf():yn(m).valueOf())-x.valueOf(),x._d.setTime(x._d.valueOf()+P),e.updateOffset(x,!1),x):yn(m).local()}function U0(m){return-Math.round(m._d.getTimezoneOffset())}e.updateOffset=function(){};function nW(m,g,x){var P=this._offset||0,V;if(!this.isValid())return m!=null?this:NaN;if(m!=null){if(typeof m=="string"){if(m=_p(Bs,m),m===null)return this}else Math.abs(m)<16&&!x&&(m=m*60);return!this._isUTC&&g&&(V=U0(this)),this._offset=m,this._isUTC=!0,V!=null&&this.add(V,"m"),P!==m&&(!g||this._changeInProgress?xD(this,jj(m-P,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?P:U0(this)}function iW(m,g){return m!=null?(typeof m!="string"&&(m=-m),this.utcOffset(m,g),this):-this.utcOffset()}function oW(m){return this.utcOffset(0,m)}function sW(m){return this._isUTC&&(this.utcOffset(0,m),this._isUTC=!1,m&&this.subtract(U0(this),"m")),this}function lW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var m=_p(Pi,this._i);m!=null?this.utcOffset(m):this.utcOffset(0,!0)}return this}function Dp(m){return this.isValid()?(m=m?yn(m).utcOffset():0,(this.utcOffset()-m)%60===0):!1}function $A(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Be(){if(!i(this._isDSTShifted))return this._isDSTShifted;var m={},g;return T(m,this),m=wl(m),m._a?(g=m._isUTC?p(m._a):yn(m._a),this._isDSTShifted=this.isValid()&&aW(m._a,g.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function ie(){return this.isValid()?!this._isUTC:!1}function Ht(){return this.isValid()?this._isUTC:!1}function oa(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Sj=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ho=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jj(m,g){var x=m,P=null,V,kA,ce;return Hc(m)?x={ms:m._milliseconds,d:m._days,M:m._months}:o(m)||!isNaN(+m)?(x={},g?x[g]=+m:x.milliseconds=+m):(P=Sj.exec(m))?(V=P[1]==="-"?-1:1,x={y:0,d:da(P[Y])*V,h:da(P[xA])*V,m:da(P[PA])*V,s:da(P[_])*V,ms:da(rf(P[U]*1e3))*V}):(P=ho.exec(m))?(V=P[1]==="-"?-1:1,x={y:im(P[2],V),M:im(P[3],V),w:im(P[4],V),d:im(P[5],V),h:im(P[6],V),m:im(P[7],V),s:im(P[8],V)}):x==null?x={}:typeof x=="object"&&("from"in x||"to"in x)&&(ce=D6(yn(x.from),yn(x.to)),x={},x.ms=ce.milliseconds,x.M=ce.months),kA=new wx(x),Hc(m)&&j(m,"_locale")&&(kA._locale=m._locale),Hc(m)&&j(m,"_isValid")&&(kA._isValid=m._isValid),kA}jj.fn=wx.prototype,jj.invalid=P8;function im(m,g){var x=m&&parseFloat(m.replace(",","."));return(isNaN(x)?0:x)*g}function ED(m,g){var x={};return x.months=g.month()-m.month()+(g.year()-m.year())*12,m.clone().add(x.months,"M").isAfter(g)&&--x.months,x.milliseconds=+g-+m.clone().add(x.months,"M"),x}function D6(m,g){var x;return m.isValid()&&g.isValid()?(g=n6(g,m),m.isBefore(g)?x=ED(m,g):(x=ED(g,m),x.milliseconds=-x.milliseconds,x.months=-x.months),x):{milliseconds:0,months:0}}function qx(m,g){return function(x,P){var V,kA;return P!==null&&!isNaN(+P)&&(nA(g,"moment()."+g+"(period, number) is deprecated. Please use moment()."+g+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),kA=x,x=P,P=kA),V=jj(x,P),xD(this,V,m),this}}function xD(m,g,x,P){var V=g._milliseconds,kA=rf(g._days),ce=rf(g._months);m.isValid()&&(P=P??!0,ce&&ye(m,ee(m,"Month")+ce*x),kA&&Ce(m,"Date",ee(m,"Date")+kA*x),V&&m._d.setTime(m._d.valueOf()+V*x),P&&e.updateOffset(m,kA||ce))}var af=qx(1,"add"),H0=qx(-1,"subtract");function $x(m){return typeof m=="string"||m instanceof String}function Hj(m){return I(m)||s(m)||$x(m)||o(m)||bD(m)||cW(m)||m===null||m===void 0}function cW(m){var g=a(m)&&!n(m),x=!1,P=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],V,kA,ce=P.length;for(V=0;V<ce;V+=1)kA=P[V],x=x||j(m,kA);return g&&x}function bD(m){var g=r(m),x=!1;return g&&(x=m.filter(function(P){return!o(P)&&$x(m)}).length===0),g&&x}function V0(m){var g=a(m)&&!n(m),x=!1,P=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],V,kA;for(V=0;V<P.length;V+=1)kA=P[V],x=x||j(m,kA);return g&&x}function uW(m,g){var x=m.diff(g,"days",!0);return x<-6?"sameElse":x<-1?"lastWeek":x<0?"lastDay":x<1?"sameDay":x<2?"nextDay":x<7?"nextWeek":"sameElse"}function dW(m,g){arguments.length===1&&(arguments[0]?Hj(arguments[0])?(m=arguments[0],g=void 0):V0(arguments[0])&&(g=arguments[0],m=void 0):(m=void 0,g=void 0));var x=m||yn(),P=n6(x,this).startOf("day"),V=e.calendarFormat(this,P)||"sameElse",kA=g&&(lA(g[V])?g[V].call(this,x):g[V]);return this.format(kA||this.localeData().calendar(V,this,yn(x)))}function mW(){return new O(this)}function X0(m,g){var x=I(m)?m:yn(m);return this.isValid()&&x.isValid()?(g=er(g)||"millisecond",g==="millisecond"?this.valueOf()>x.valueOf():x.valueOf()<this.clone().startOf(g).valueOf()):!1}function zp(m,g){var x=I(m)?m:yn(m);return this.isValid()&&x.isValid()?(g=er(g)||"millisecond",g==="millisecond"?this.valueOf()<x.valueOf():this.clone().endOf(g).valueOf()<x.valueOf()):!1}function W0(m,g,x,P){var V=I(m)?m:yn(m),kA=I(g)?g:yn(g);return this.isValid()&&V.isValid()&&kA.isValid()?(P=P||"()",(P[0]==="("?this.isAfter(V,x):!this.isBefore(V,x))&&(P[1]===")"?this.isBefore(kA,x):!this.isAfter(kA,x))):!1}function yD(m,g){var x=I(m)?m:yn(m),P;return this.isValid()&&x.isValid()?(g=er(g)||"millisecond",g==="millisecond"?this.valueOf()===x.valueOf():(P=x.valueOf(),this.clone().startOf(g).valueOf()<=P&&P<=this.clone().endOf(g).valueOf())):!1}function J0(m,g){return this.isSame(m,g)||this.isAfter(m,g)}function vD(m,g){return this.isSame(m,g)||this.isBefore(m,g)}function FD(m,g,x){var P,V,kA;if(!this.isValid())return NaN;if(P=n6(m,this),!P.isValid())return NaN;switch(V=(P.utcOffset()-this.utcOffset())*6e4,g=er(g),g){case"year":kA=L7(this,P)/12;break;case"month":kA=L7(this,P);break;case"quarter":kA=L7(this,P)/3;break;case"second":kA=(this-P)/1e3;break;case"minute":kA=(this-P)/6e4;break;case"hour":kA=(this-P)/36e5;break;case"day":kA=(this-P-V)/864e5;break;case"week":kA=(this-P-V)/6048e5;break;default:kA=this-P}return x?kA:Si(kA)}function L7(m,g){if(m.date()<g.date())return-L7(g,m);var x=(g.year()-m.year())*12+(g.month()-m.month()),P=m.clone().add(x,"months"),V,kA;return g-P<0?(V=m.clone().add(x-1,"months"),kA=(g-P)/(P-V)):(V=m.clone().add(x+1,"months"),kA=(g-P)/(V-P)),-(x+kA)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function GD(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ix(m){if(!this.isValid())return null;var g=m!==!0,x=g?this.clone().utc():this;return x.year()<0||x.year()>9999?or(x,g?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):lA(Date.prototype.toISOString)?g?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",or(x,"Z")):or(x,g?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function N7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var m="moment",g="",x,P,V,kA;return this.isLocal()||(m=this.utcOffset()===0?"moment.utc":"moment.parseZone",g="Z"),x="["+m+'("]',P=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",V="-MM-DD[T]HH:mm:ss.SSS",kA=g+'[")]',this.format(x+P+V+kA)}function Y0(m){m||(m=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var g=or(this,m);return this.localeData().postformat(g)}function pW(m,g){return this.isValid()&&(I(m)&&m.isValid()||yn(m).isValid())?jj({to:this,from:m}).locale(this.locale()).humanize(!g):this.localeData().invalidDate()}function kW(m){return this.from(yn(),m)}function hW(m,g){return this.isValid()&&(I(m)&&m.isValid()||yn(m).isValid())?jj({from:this,to:m}).locale(this.locale()).humanize(!g):this.localeData().invalidDate()}function Z0(m){return this.to(yn(),m)}function Px(m){var g;return m===void 0?this._locale._abbr:(g=Yi(m),g!=null&&(this._locale=g),this)}var Q0=K("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(m){return m===void 0?this.localeData():this.locale(m)});function wD(){return this._locale}var Sx=1e3,jf=60*Sx,AF=60*jf,Zi=(365*400+97)*24*AF;function Ci(m,g){return(m%g+g)%g}function qD(m,g,x){return m<100&&m>=0?new Date(m+400,g,x)-Zi:new Date(m,g,x).valueOf()}function $D(m,g,x){return m<100&&m>=0?Date.UTC(m+400,g,x)-Zi:Date.UTC(m,g,x)}function ID(m){var g,x;if(m=er(m),m===void 0||m==="millisecond"||!this.isValid())return this;switch(x=this._isUTC?$D:qD,m){case"year":g=x(this.year(),0,1);break;case"quarter":g=x(this.year(),this.month()-this.month()%3,1);break;case"month":g=x(this.year(),this.month(),1);break;case"week":g=x(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":g=x(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":g=x(this.year(),this.month(),this.date());break;case"hour":g=this._d.valueOf(),g-=Ci(g+(this._isUTC?0:this.utcOffset()*jf),AF);break;case"minute":g=this._d.valueOf(),g-=Ci(g,jf);break;case"second":g=this._d.valueOf(),g-=Ci(g,Sx);break}return this._d.setTime(g),e.updateOffset(this,!0),this}function gW(m){var g,x;if(m=er(m),m===void 0||m==="millisecond"||!this.isValid())return this;switch(x=this._isUTC?$D:qD,m){case"year":g=x(this.year()+1,0,1)-1;break;case"quarter":g=x(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":g=x(this.year(),this.month()+1,1)-1;break;case"week":g=x(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":g=x(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":g=x(this.year(),this.month(),this.date()+1)-1;break;case"hour":g=this._d.valueOf(),g+=AF-Ci(g+(this._isUTC?0:this.utcOffset()*jf),AF)-1;break;case"minute":g=this._d.valueOf(),g+=jf-Ci(g,jf)-1;break;case"second":g=this._d.valueOf(),g+=Sx-Ci(g,Sx)-1;break}return this._d.setTime(g),e.updateOffset(this,!0),this}function S8(){return this._d.valueOf()-(this._offset||0)*6e4}function Cx(){return Math.floor(this.valueOf()/1e3)}function C8(){return new Date(this.valueOf())}function nf(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function Ox(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function Tx(){return this.isValid()?this.toISOString():null}function eF(){return w(this)}function of(){return u({},f(this))}function fW(){return f(this).overflow}function BW(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}KA("N",0,0,"eraAbbr"),KA("NN",0,0,"eraAbbr"),KA("NNN",0,0,"eraAbbr"),KA("NNNN",0,0,"eraName"),KA("NNNNN",0,0,"eraNarrow"),KA("y",["y",1],"yo","eraYear"),KA("y",["yy",2],0,"eraYear"),KA("y",["yyy",3],0,"eraYear"),KA("y",["yyyy",4],0,"eraYear"),Ft("N",Wa),Ft("NN",Wa),Ft("NNN",Wa),Ft("NNNN",yW),Ft("NNNNN",vW),Lr(["N","NN","NNN","NNNN","NNNNN"],function(m,g,x,P){var V=x._locale.erasParse(m,P,x._strict);V?f(x).era=V:f(x).invalidEra=m}),Ft("y",jt),Ft("yy",jt),Ft("yyy",jt),Ft("yyyy",jt),Ft("yo",FW),Lr(["y","yy","yyy","yyyy"],L),Lr(["yo"],function(m,g,x,P){var V;x._locale._eraYearOrdinalRegex&&(V=m.match(x._locale._eraYearOrdinalRegex)),x._locale.eraYearOrdinalParse?g[L]=x._locale.eraYearOrdinalParse(m,V):g[L]=parseInt(m,10)});function EW(m,g){var x,P,V,kA=this._eras||Yi("en")._eras;for(x=0,P=kA.length;x<P;++x){switch(typeof kA[x].since){case"string":V=e(kA[x].since).startOf("day"),kA[x].since=V.valueOf();break}switch(typeof kA[x].until){case"undefined":kA[x].until=1/0;break;case"string":V=e(kA[x].until).startOf("day").valueOf(),kA[x].until=V.valueOf();break}}return kA}function xW(m,g,x){var P,V,kA=this.eras(),ce,Lt,Qr;for(m=m.toUpperCase(),P=0,V=kA.length;P<V;++P)if(ce=kA[P].name.toUpperCase(),Lt=kA[P].abbr.toUpperCase(),Qr=kA[P].narrow.toUpperCase(),x)switch(g){case"N":case"NN":case"NNN":if(Lt===m)return kA[P];break;case"NNNN":if(ce===m)return kA[P];break;case"NNNNN":if(Qr===m)return kA[P];break}else if([ce,Lt,Qr].indexOf(m)>=0)return kA[P]}function bW(m,g){var x=m.since<=m.until?1:-1;return g===void 0?e(m.since).year():e(m.since).year()+(g-m.offset)*x}function tF(){var m,g,x,P=this.localeData().eras();for(m=0,g=P.length;m<g;++m)if(x=this.clone().startOf("day").valueOf(),P[m].since<=x&&x<=P[m].until||P[m].until<=x&&x<=P[m].since)return P[m].name;return""}function _x(){var m,g,x,P=this.localeData().eras();for(m=0,g=P.length;m<g;++m)if(x=this.clone().startOf("day").valueOf(),P[m].since<=x&&x<=P[m].until||P[m].until<=x&&x<=P[m].since)return P[m].narrow;return""}function PD(){var m,g,x,P=this.localeData().eras();for(m=0,g=P.length;m<g;++m)if(x=this.clone().startOf("day").valueOf(),P[m].since<=x&&x<=P[m].until||P[m].until<=x&&x<=P[m].since)return P[m].abbr;return""}function X(){var m,g,x,P,V=this.localeData().eras();for(m=0,g=V.length;m<g;++m)if(x=V[m].since<=V[m].until?1:-1,P=this.clone().startOf("day").valueOf(),V[m].since<=P&&P<=V[m].until||V[m].until<=P&&P<=V[m].since)return(this.year()-e(V[m].since).year())*x+V[m].offset;return this.year()}function sf(m){return j(this,"_erasNameRegex")||om.call(this),m?this._erasNameRegex:this._erasRegex}function rF(m){return j(this,"_erasAbbrRegex")||om.call(this),m?this._erasAbbrRegex:this._erasRegex}function z6(m){return j(this,"_erasNarrowRegex")||om.call(this),m?this._erasNarrowRegex:this._erasRegex}function Wa(m,g){return g.erasAbbrRegex(m)}function yW(m,g){return g.erasNameRegex(m)}function vW(m,g){return g.erasNarrowRegex(m)}function FW(m,g){return g._eraYearOrdinalRegex||jt}function om(){var m=[],g=[],x=[],P=[],V,kA,ce,Lt,Qr,Ja=this.eras();for(V=0,kA=Ja.length;V<kA;++V)ce=_o(Ja[V].name),Lt=_o(Ja[V].abbr),Qr=_o(Ja[V].narrow),g.push(ce),m.push(Lt),x.push(Qr),P.push(ce),P.push(Lt),P.push(Qr);this._erasRegex=new RegExp("^("+P.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+g.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+x.join("|")+")","i")}KA(0,["gg",2],0,function(){return this.weekYear()%100}),KA(0,["GG",2],0,function(){return this.isoWeekYear()%100});function aF(m,g){KA(0,[m,m.length],0,g)}aF("gggg","weekYear"),aF("ggggg","weekYear"),aF("GGGG","isoWeekYear"),aF("GGGGG","isoWeekYear"),Ft("G",Ga),Ft("g",Ga),Ft("GG",Se,pA),Ft("gg",Se,pA),Ft("GGGG",dA,JA),Ft("gggg",dA,JA),Ft("GGGGG",DA,Me),Ft("ggggg",DA,Me),ts(["gggg","ggggg","GGGG","GGGGG"],function(m,g,x,P){g[P.substr(0,2)]=da(m)}),ts(["gg","GG"],function(m,g,x,P){g[P]=e.parseTwoDigitYear(m)});function GW(m){return SD.call(this,m,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function wW(m){return SD.call(this,m,this.isoWeek(),this.isoWeekday(),1,4)}function qW(){return Hr(this.year(),1,4)}function $W(){return Hr(this.isoWeekYear(),1,4)}function sm(){var m=this.localeData()._week;return Hr(this.year(),m.dow,m.doy)}function IW(){var m=this.localeData()._week;return Hr(this.weekYear(),m.dow,m.doy)}function SD(m,g,x,P,V){var kA;return m==null?Ea(this,P,V).year:(kA=Hr(m,P,V),g>kA&&(g=kA),PW.call(this,m,g,x,P,V))}function PW(m,g,x,P,V){var kA=Zr(m,g,x,P,V),ce=wa(kA.year,0,kA.dayOfYear);return this.year(ce.getUTCFullYear()),this.month(ce.getUTCMonth()),this.date(ce.getUTCDate()),this}KA("Q",0,"Qo","quarter"),Ft("Q",ft),Lr("Q",function(m,g){g[B]=(da(m)-1)*3});function SW(m){return m==null?Math.ceil((this.month()+1)/3):this.month((m-1)*3+this.month()%3)}KA("D",["DD",2],"Do","date"),Ft("D",Se,fi),Ft("DD",Se,pA),Ft("Do",function(m,g){return m?g._dayOfMonthOrdinalParse||g._ordinalParse:g._dayOfMonthOrdinalParseLenient}),Lr(["D","DD"],Y),Lr("Do",function(m,g){g[Y]=da(m.match(Se)[0])});var CD=bA("Date",!0);KA("DDD",["DDDD",3],"DDDo","dayOfYear"),Ft("DDD",BA),Ft("DDDD",wA),Lr(["DDD","DDDD"],function(m,g,x){x._dayOfYear=da(m)});function lm(m){var g=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return m==null?g:this.add(m-g,"d")}KA("m",["mm",2],0,"minute"),Ft("m",Se,jm),Ft("mm",Se,pA),Lr(["m","mm"],PA);var CW=bA("Minutes",!1);KA("s",["ss",2],0,"second"),Ft("s",Se,jm),Ft("ss",Se,pA),Lr(["s","ss"],_);var OW=bA("Seconds",!1);KA("S",0,0,function(){return~~(this.millisecond()/100)}),KA(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),KA(0,["SSS",3],0,"millisecond"),KA(0,["SSSS",4],0,function(){return this.millisecond()*10}),KA(0,["SSSSS",5],0,function(){return this.millisecond()*100}),KA(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),KA(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),KA(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),KA(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ft("S",BA,ft),Ft("SS",BA,pA),Ft("SSS",BA,wA);var Mp,OD;for(Mp="SSSS";Mp.length<=9;Mp+="S")Ft(Mp,jt);function TW(m,g){g[U]=da(("0."+m)*1e3)}for(Mp="S";Mp.length<=9;Mp+="S")Lr(Mp,TW);OD=bA("Milliseconds",!1),KA("z",0,0,"zoneAbbr"),KA("zz",0,0,"zoneName");function U7(){return this._isUTC?"UTC":""}function _W(){return this._isUTC?"Coordinated Universal Time":""}var it=O.prototype;it.add=af,it.calendar=dW,it.clone=mW,it.diff=FD,it.endOf=gW,it.format=Y0,it.from=pW,it.fromNow=kW,it.to=hW,it.toNow=Z0,it.get=et,it.invalidAt=fW,it.isAfter=X0,it.isBefore=zp,it.isBetween=W0,it.isSame=yD,it.isSameOrAfter=J0,it.isSameOrBefore=vD,it.isValid=eF,it.lang=Q0,it.locale=Px,it.localeData=wD,it.max=ZX,it.min=gD,it.parsingFlags=of,it.set=at,it.startOf=ID,it.subtract=H0,it.toArray=nf,it.toObject=Ox,it.toDate=C8,it.toISOString=Ix,it.inspect=N7,typeof Symbol<"u"&&Symbol.for!=null&&(it[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),it.toJSON=Tx,it.toString=GD,it.unix=Cx,it.valueOf=S8,it.creationData=BW,it.eraName=tF,it.eraNarrow=_x,it.eraAbbr=PD,it.eraYear=X,it.year=gA,it.isLeapYear=zA,it.weekYear=GW,it.isoWeekYear=wW,it.quarter=it.quarters=SW,it.month=gr,it.daysInMonth=Nr,it.week=it.weeks=W,it.isoWeek=it.isoWeeks=hA,it.weeksInYear=sm,it.weeksInWeekYear=IW,it.isoWeeksInYear=qW,it.isoWeeksInISOWeekYear=$W,it.date=CD,it.day=it.days=vx,it.weekday=RX,it.isoWeekday=KX,it.dayOfYear=lm,it.hour=it.hours=Do,it.minute=it.minutes=CW,it.second=it.seconds=OW,it.millisecond=it.milliseconds=OD,it.utcOffset=nW,it.utc=oW,it.local=sW,it.parseZone=lW,it.hasAlignedHourOffset=Dp,it.isDST=$A,it.isLocal=ie,it.isUtcOffset=Ht,it.isUtc=oa,it.isUTC=oa,it.zoneAbbr=U7,it.zoneName=_W,it.dates=K("dates accessor is deprecated. Use date instead.",CD),it.months=K("months accessor is deprecated. Use month instead",gr),it.years=K("years accessor is deprecated. Use year instead",gA),it.zone=K("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",iW),it.isDSTShifted=K("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Be);function Vc(m){return yn(m*1e3)}function DW(){return yn.apply(null,arguments).parseZone()}function TD(m){return m}var wj=le.prototype;wj.calendar=ge,wj.longDateFormat=Ge,wj.invalidDate=wt,wj.ordinal=zr,wj.preparse=TD,wj.postformat=TD,wj.relativeTime=rj,wj.pastFuture=aj,wj.set=qA,wj.eras=EW,wj.erasParse=xW,wj.erasConvertYear=bW,wj.erasAbbrRegex=rF,wj.erasNameRegex=sf,wj.erasNarrowRegex=z6,wj.months=je,wj.monthsShort=He,wj.monthsParse=pe,wj.monthsRegex=Ur,wj.monthsShortRegex=kr,wj.week=kn,wj.firstDayOfYear=R,wj.firstDayOfWeek=D,wj.weekdays=Qg,wj.weekdaysMin=Ys,wj.weekdaysShort=j6,wj.weekdaysParse=Nu,wj.weekdaysRegex=Cn,wj.weekdaysShortRegex=bn,wj.weekdaysMinRegex=LX,wj.isPM=oD,wj.meridiem=x8;function jF(m,g,x,P){var V=Yi(),kA=p().set(P,g);return V[x](kA,m)}function _D(m,g,x){if(o(m)&&(g=m,m=void 0),m=m||"",g!=null)return jF(m,g,x,"month");var P,V=[];for(P=0;P<12;P++)V[P]=jF(m,P,x,"month");return V}function nF(m,g,x,P){typeof m=="boolean"?(o(g)&&(x=g,g=void 0),g=g||""):(g=m,x=g,m=!1,o(g)&&(x=g,g=void 0),g=g||"");var V=Yi(),kA=m?V._week.dow:0,ce,Lt=[];if(x!=null)return jF(g,(x+kA)%7,P,"day");for(ce=0;ce<7;ce++)Lt[ce]=jF(g,(ce+kA)%7,P,"day");return Lt}function DD(m,g){return _D(m,g,"months")}function zW(m,g){return _D(m,g,"monthsShort")}function MW(m,g,x){return nF(m,g,x,"weekdays")}function O8(m,g,x){return nF(m,g,x,"weekdaysShort")}function Dx(m,g,x){return nF(m,g,x,"weekdaysMin")}nm("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(m){var g=m%10,x=da(m%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th";return m+x}}),e.lang=K("moment.lang is deprecated. Use moment.locale instead.",nm),e.langData=K("moment.langData is deprecated. Use moment.localeData instead.",Yi);var M6=Math.abs;function RW(){var m=this._data;return this._milliseconds=M6(this._milliseconds),this._days=M6(this._days),this._months=M6(this._months),m.milliseconds=M6(m.milliseconds),m.seconds=M6(m.seconds),m.minutes=M6(m.minutes),m.hours=M6(m.hours),m.months=M6(m.months),m.years=M6(m.years),this}function T8(m,g,x,P){var V=jj(g,x);return m._milliseconds+=P*V._milliseconds,m._days+=P*V._days,m._months+=P*V._months,m._bubble()}function KW(m,g){return T8(this,m,g,1)}function cm(m,g){return T8(this,m,g,-1)}function iF(m){return m<0?Math.floor(m):Math.ceil(m)}function H7(){var m=this._milliseconds,g=this._days,x=this._months,P=this._data,V,kA,ce,Lt,Qr;return m>=0&&g>=0&&x>=0||m<=0&&g<=0&&x<=0||(m+=iF(_8(x)+g)*864e5,g=0,x=0),P.milliseconds=m%1e3,V=Si(m/1e3),P.seconds=V%60,kA=Si(V/60),P.minutes=kA%60,ce=Si(kA/60),P.hours=ce%24,g+=Si(ce/24),Qr=Si(i6(g)),x+=Qr,g-=iF(_8(Qr)),Lt=Si(x/12),x%=12,P.days=g,P.months=x,P.years=Lt,this}function i6(m){return m*4800/146097}function _8(m){return m*146097/4800}function zD(m){if(!this.isValid())return NaN;var g,x,P=this._milliseconds;if(m=er(m),m==="month"||m==="quarter"||m==="year")switch(g=this._days+P/864e5,x=this._months+i6(g),m){case"month":return x;case"quarter":return x/3;case"year":return x/12}else switch(g=this._days+Math.round(_8(this._months)),m){case"week":return g/7+P/6048e5;case"day":return g+P/864e5;case"hour":return g*24+P/36e5;case"minute":return g*1440+P/6e4;case"second":return g*86400+P/1e3;case"millisecond":return Math.floor(g*864e5)+P;default:throw new Error("Unknown unit "+m)}}function Vu(m){return function(){return this.as(m)}}var lf=Vu("ms"),Rp=Vu("s"),MD=Vu("m"),LW=Vu("h"),oF=Vu("d"),NW=Vu("w"),RD=Vu("M"),rs=Vu("Q"),D8=Vu("y"),KD=lf;function Xu(){return jj(this)}function z8(m){return m=er(m),this.isValid()?this[m+"s"]():NaN}function Wu(m){return function(){return this.isValid()?this._data[m]:NaN}}var V7=Wu("milliseconds"),LD=Wu("seconds"),Qs=Wu("minutes"),M8=Wu("hours"),UW=Wu("days"),HW=Wu("months"),VW=Wu("years");function R8(){return Si(this.days()/7)}var um=Math.round,Ju={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ND(m,g,x,P,V){return V.relativeTime(g||1,!!x,m,P)}function XW(m,g,x,P){var V=jj(m).abs(),kA=um(V.as("s")),ce=um(V.as("m")),Lt=um(V.as("h")),Qr=um(V.as("d")),Ja=um(V.as("M")),Al=um(V.as("w")),Yu=um(V.as("y")),dm=kA<=x.ss&&["s",kA]||kA<x.s&&["ss",kA]||ce<=1&&["m"]||ce<x.m&&["mm",ce]||Lt<=1&&["h"]||Lt<x.h&&["hh",Lt]||Qr<=1&&["d"]||Qr<x.d&&["dd",Qr];return x.w!=null&&(dm=dm||Al<=1&&["w"]||Al<x.w&&["ww",Al]),dm=dm||Ja<=1&&["M"]||Ja<x.M&&["MM",Ja]||Yu<=1&&["y"]||["yy",Yu],dm[2]=g,dm[3]=+m>0,dm[4]=P,ND.apply(null,dm)}function WW(m){return m===void 0?um:typeof m=="function"?(um=m,!0):!1}function zx(m,g){return Ju[m]===void 0?!1:g===void 0?Ju[m]:(Ju[m]=g,m==="s"&&(Ju.ss=g-1),!0)}function JW(m,g){if(!this.isValid())return this.localeData().invalidDate();var x=!1,P=Ju,V,kA;return typeof m=="object"&&(g=m,m=!1),typeof m=="boolean"&&(x=m),typeof g=="object"&&(P=Object.assign({},Ju,g),g.s!=null&&g.ss==null&&(P.ss=g.s-1)),V=this.localeData(),kA=XW(this,!x,P,V),x&&(kA=V.pastFuture(+this,kA)),V.postformat(kA)}var K8=Math.abs;function Kp(m){return(m>0)-(m<0)||+m}function Mx(){if(!this.isValid())return this.localeData().invalidDate();var m=K8(this._milliseconds)/1e3,g=K8(this._days),x=K8(this._months),P,V,kA,ce,Lt=this.asSeconds(),Qr,Ja,Al,Yu;return Lt?(P=Si(m/60),V=Si(P/60),m%=60,P%=60,kA=Si(x/12),x%=12,ce=m?m.toFixed(3).replace(/\.?0+$/,""):"",Qr=Lt<0?"-":"",Ja=Kp(this._months)!==Kp(Lt)?"-":"",Al=Kp(this._days)!==Kp(Lt)?"-":"",Yu=Kp(this._milliseconds)!==Kp(Lt)?"-":"",Qr+"P"+(kA?Ja+kA+"Y":"")+(x?Ja+x+"M":"")+(g?Al+g+"D":"")+(V||P||m?"T":"")+(V?Yu+V+"H":"")+(P?Yu+P+"M":"")+(m?Yu+ce+"S":"")):"P0D"}var gj=wx.prototype;gj.isValid=rW,gj.abs=RW,gj.add=KW,gj.subtract=cm,gj.as=zD,gj.asMilliseconds=lf,gj.asSeconds=Rp,gj.asMinutes=MD,gj.asHours=LW,gj.asDays=oF,gj.asWeeks=NW,gj.asMonths=RD,gj.asQuarters=rs,gj.asYears=D8,gj.valueOf=KD,gj._bubble=H7,gj.clone=Xu,gj.get=z8,gj.milliseconds=V7,gj.seconds=LD,gj.minutes=Qs,gj.hours=M8,gj.days=UW,gj.weeks=R8,gj.months=HW,gj.years=VW,gj.humanize=JW,gj.toISOString=Mx,gj.toString=Mx,gj.toJSON=Mx,gj.locale=Px,gj.localeData=wD,gj.toIsoString=K("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mx),gj.lang=Q0,KA("X",0,0,"unix"),KA("x",0,0,"valueOf"),Ft("x",Ga),Ft("X",bj),Lr("X",function(m,g,x){x._d=new Date(parseFloat(m)*1e3)}),Lr("x",function(m,g,x){x._d=new Date(da(m))});return e.version="2.30.1",t(yn),e.fn=it,e.min=QX,e.max=AW,e.now=eW,e.utc=p,e.unix=Vc,e.months=DD,e.isDate=s,e.locale=nm,e.invalid=y,e.duration=jj,e.isMoment=I,e.weekdays=MW,e.parseZone=DW,e.localeData=Yi,e.isDuration=Hc,e.monthsShort=zW,e.weekdaysMin=Dx,e.defineLocale=Zs,e.updateLocale=HX,e.locales=VX,e.weekdaysShort=O8,e.normalizeUnits=er,e.relativeTimeRounding=WW,e.relativeTimeThreshold=zx,e.calendarFormat=uW,e.prototype=it,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var vs=mA((a4t,sG)=>{"use strict";var Z={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(A){this.toString=function(){return"CORRUPT: "+this.message},this.message=A},invalid:function(A){this.toString=function(){return"INVALID: "+this.message},this.message=A},bug:function(A){this.toString=function(){return"BUG: "+this.message},this.message=A},notReady:function(A){this.toString=function(){return"NOT READY: "+this.message},this.message=A}}};typeof sG<"u"&&sG.exports&&(sG.exports=Z);typeof define=="function"&&define([],function(){return Z});Z.bn=function(A){this.initWith(A)};Z.bn.prototype={radix:24,maxMul:8,l:Z.bn,copy:function(){return new this.l(this)},initWith:function(A){var e=0,t;switch(typeof A){case"object":this.limbs=A.limbs.slice(0);break;case"number":this.limbs=[A],this.normalize();break;case"string":for(A=A.replace(/^0x/,""),this.limbs=[],t=this.radix/4,e=0;e<A.length;e+=t)this.limbs.push(parseInt(A.substring(Math.max(A.length-e-t,0),A.length-e),16));break;default:this.limbs=[0]}return this},equals:function(A){typeof A=="number"&&(A=new this.l(A));var e=0,t;for(this.fullReduce(),A.fullReduce(),t=0;t<this.limbs.length||t<A.limbs.length;t++)e|=this.getLimb(t)^A.getLimb(t);return e===0},getLimb:function(A){return A>=this.limbs.length?0:this.limbs[A]},greaterEquals:function(A){typeof A=="number"&&(A=new this.l(A));var e=0,t=0,r,a,j;for(r=Math.max(this.limbs.length,A.limbs.length)-1;0<=r;r--)a=this.getLimb(r),j=A.getLimb(r),t|=j-a&~e,e|=a-j&~t;return(t|~e)>>>31},toString:function(){this.fullReduce();var A="",e,t,r=this.limbs;for(e=0;e<this.limbs.length;e++){for(t=r[e].toString(16);e<this.limbs.length-1&&6>t.length;)t="0"+t;A=t+A}return"0x"+A},addM:function(A){typeof A!="object"&&(A=new this.l(A));var e=this.limbs,t=A.limbs;for(A=e.length;A<t.length;A++)e[A]=0;for(A=0;A<t.length;A++)e[A]+=t[A];return this},doubleM:function(){var A,e=0,t,r=this.radix,a=this.radixMask,j=this.limbs;for(A=0;A<j.length;A++)t=j[A],t=t+t+e,j[A]=t&a,e=t>>r;return e&&j.push(e),this},halveM:function(){var A,e=0,t,r=this.radix,a=this.limbs;for(A=a.length-1;0<=A;A--)t=a[A],a[A]=t+e>>1,e=(t&1)<<r;return a[a.length-1]||a.pop(),this},subM:function(A){typeof A!="object"&&(A=new this.l(A));var e=this.limbs,t=A.limbs;for(A=e.length;A<t.length;A++)e[A]=0;for(A=0;A<t.length;A++)e[A]-=t[A];return this},mod:function(A){var e=!this.greaterEquals(new Z.bn(0));A=new Z.bn(A).normalize();var t=new Z.bn(this).normalize(),r=0;for(e&&(t=new Z.bn(0).subM(t).normalize());t.greaterEquals(A);r++)A.doubleM();for(e&&(t=A.sub(t).normalize());0<r;r--)A.halveM(),t.greaterEquals(A)&&t.subM(A).normalize();return t.trim()},inverseMod:function(A){var e=new Z.bn(1),t=new Z.bn(0),r=new Z.bn(this),a=new Z.bn(A),j,n=1;if(!(A.limbs[0]&1))throw new Z.exception.invalid("inverseMod: p must be odd");do for(r.limbs[0]&1&&(r.greaterEquals(a)||(j=r,r=a,a=j,j=e,e=t,t=j),r.subM(a),r.normalize(),e.greaterEquals(t)||e.addM(A),e.subM(t)),r.halveM(),e.limbs[0]&1&&e.addM(A),e.normalize(),e.halveM(),j=n=0;j<r.limbs.length;j++)n|=r.limbs[j];while(n);if(!a.equals(1))throw new Z.exception.invalid("inverseMod: p and x must be relatively prime");return t},add:function(A){return this.copy().addM(A)},sub:function(A){return this.copy().subM(A)},mul:function(A){typeof A=="number"&&(A=new this.l(A));var e,t=this.limbs,r=A.limbs,a=t.length,j=r.length,n=new this.l,i=n.limbs,o,s=this.maxMul;for(e=0;e<this.limbs.length+A.limbs.length+1;e++)i[e]=0;for(e=0;e<a;e++){for(o=t[e],A=0;A<j;A++)i[e+A]+=o*r[A];--s||(s=this.maxMul,n.cnormalize())}return n.cnormalize().reduce()},square:function(){return this.mul(this)},power:function(A){A=new Z.bn(A).normalize().trim().limbs;var e,t,r=new this.l(1),a=this;for(e=0;e<A.length;e++)for(t=0;t<this.radix&&(A[e]&1<<t&&(r=r.mul(a)),!(e==A.length-1&&!(A[e]>>t+1)));t++)a=a.square();return r},mulmod:function(A,e){return this.mod(e).mul(A.mod(e)).mod(e)},powermod:function(A,e){if(A=new Z.bn(A),e=new Z.bn(e),(e.limbs[0]&1)==1){var t=this.montpowermod(A,e);if(t!=0)return t}for(var r,a=A.normalize().trim().limbs,j=new this.l(1),n=this,t=0;t<a.length;t++)for(r=0;r<this.radix&&(a[t]&1<<r&&(j=j.mulmod(n,e)),!(t==a.length-1&&!(a[t]>>r+1)));r++)n=n.mulmod(n,e);return j},montpowermod:function(A,e){function t(G,w){var y=w%G.radix;return(G.limbs[Math.floor(w/G.radix)]&1<<y)>>y}function r(G,w){var y,E,$=(1<<s+1)-1;for(y=G.mul(w),E=y.mul(h),E.limbs=E.limbs.slice(0,o.limbs.length),E.limbs.length==o.limbs.length&&(E.limbs[o.limbs.length-1]&=$),E=E.mul(e),E=y.add(E).normalize().trim(),E.limbs=E.limbs.slice(o.limbs.length-1),y=0;y<E.limbs.length;y++)0<y&&(E.limbs[y-1]|=(E.limbs[y]&$)<<n-s-1),E.limbs[y]>>=s+1;return E.greaterEquals(e)&&E.subM(e),E}A=new Z.bn(A).normalize().trim(),e=new Z.bn(e);var a,j,n=this.radix,i=new this.l(1);a=this.copy();var o,s,c;for(c=A.bitLength(),o=new Z.bn({limbs:e.copy().normalize().trim().limbs.map(function(){return 0})}),s=this.radix;0<s;s--)if((e.limbs[e.limbs.length-1]>>s&1)==1){o.limbs[o.limbs.length-1]=1<<s;break}if(c==0)return this;c=18>c?1:48>c?3:144>c?4:768>c?5:6;var u=o.copy(),p=e.copy();j=new Z.bn(1);for(var h=new Z.bn(0),f=o.copy();f.greaterEquals(1);)f.halveM(),j.limbs[0]&1?(j.addM(p),j.halveM(),h.halveM(),h.addM(u)):(j.halveM(),h.halveM());if(j=j.normalize(),h=h.normalize(),u.doubleM(),p=u.mulmod(u,e),!u.mul(j).sub(e.mul(h)).equals(1))return!1;for(a=r(a,p),i=r(i,p),u={},j=(1<<c-1)-1,u[1]=a.copy(),u[2]=r(a,a),a=1;a<=j;a++)u[2*a+1]=r(u[2*a-1],u[2]);for(a=A.bitLength()-1;0<=a;)if(t(A,a)==0)i=r(i,i),--a;else{for(p=a-c+1;t(A,p)==0;)p++;for(f=0,j=p;j<=a;j++)f+=t(A,j)<<j-p,i=r(i,i);i=r(i,u[f]),a=p-1}return r(i,1)},trim:function(){var A=this.limbs,e;do e=A.pop();while(A.length&&e===0);return A.push(e),this},reduce:function(){return this},fullReduce:function(){return this.normalize()},normalize:function(){var A=0,e,t=this.placeVal,r=this.ipv,a,j=this.limbs,n=j.length,i=this.radixMask;for(e=0;e<n||A!==0&&A!==-1;e++)A=(j[e]||0)+A,a=j[e]=A&i,A=(A-a)*r;return A===-1&&(j[e-1]-=t),this.trim(),this},cnormalize:function(){var A=0,e,t=this.ipv,r,a=this.limbs,j=a.length,n=this.radixMask;for(e=0;e<j-1;e++)A=a[e]+A,r=a[e]=A&n,A=(A-r)*t;return a[e]+=A,this},toBits:function(A){this.fullReduce(),A=A||this.exponent||this.bitLength();var e=Math.floor((A-1)/24),t=Z.bitArray,r=[t.partial((A+7&-8)%this.radix||this.radix,this.getLimb(e))];for(e--;0<=e;e--)r=t.concat(r,[t.partial(Math.min(this.radix,A),this.getLimb(e))]),A-=this.radix;return r},bitLength:function(){this.fullReduce();for(var A=this.radix*(this.limbs.length-1),e=this.limbs[this.limbs.length-1];e;e>>>=1)A++;return A+7&-8}};Z.bn.fromBits=function(A){var e=new this,t=[],r=Z.bitArray,a=this.prototype,j=Math.min(this.bitLength||4294967296,r.bitLength(A)),n=j%a.radix||a.radix;for(t[0]=r.extract(A,0,n);n<j;n+=a.radix)t.unshift(r.extract(A,n,a.radix));return e.limbs=t,e};Z.bn.prototype.ipv=1/(Z.bn.prototype.placeVal=Math.pow(2,Z.bn.prototype.radix));Z.bn.prototype.radixMask=(1<<Z.bn.prototype.radix)-1;Z.bn.pseudoMersennePrime=function(A,e){function t(n){this.initWith(n)}var r=t.prototype=new Z.bn,a,j;for(a=r.modOffset=Math.ceil(j=A/r.radix),r.exponent=A,r.offset=[],r.factor=[],r.minOffset=a,r.fullMask=0,r.fullOffset=[],r.fullFactor=[],r.modulus=t.modulus=new Z.bn(Math.pow(2,A)),r.fullMask=0|-Math.pow(2,A%r.radix),a=0;a<e.length;a++)r.offset[a]=Math.floor(e[a][0]/r.radix-j),r.fullOffset[a]=Math.ceil(e[a][0]/r.radix-j),r.factor[a]=e[a][1]*Math.pow(.5,A-e[a][0]+r.offset[a]*r.radix),r.fullFactor[a]=e[a][1]*Math.pow(.5,A-e[a][0]+r.fullOffset[a]*r.radix),r.modulus.addM(new Z.bn(Math.pow(2,e[a][0])*e[a][1])),r.minOffset=Math.min(r.minOffset,-r.offset[a]);return r.l=t,r.modulus.cnormalize(),r.reduce=function(){var n,i,o,s=this.modOffset,c=this.limbs,u=this.offset,p=this.offset.length,h=this.factor,f;for(n=this.minOffset;c.length>s;){for(o=c.pop(),f=c.length,i=0;i<p;i++)c[f+u[i]]-=h[i]*o;n--,n||(c.push(0),this.cnormalize(),n=this.minOffset)}return this.cnormalize(),this},r.ga=r.fullMask===-1?r.reduce:function(){var n=this.limbs,i=n.length-1,o,s;if(this.reduce(),i===this.modOffset-1){for(s=n[i]&this.fullMask,n[i]-=s,o=0;o<this.fullOffset.length;o++)n[i+this.fullOffset[o]]-=this.fullFactor[o]*s;this.normalize()}},r.fullReduce=function(){var n,i;for(this.ga(),this.addM(this.modulus),this.addM(this.modulus),this.normalize(),this.ga(),i=this.limbs.length;i<this.modOffset;i++)this.limbs[i]=0;for(n=this.greaterEquals(this.modulus),i=0;i<this.limbs.length;i++)this.limbs[i]-=this.modulus.limbs[i]*n;return this.cnormalize(),this},r.inverse=function(){return this.power(this.modulus.sub(2))},t.fromBits=Z.bn.fromBits,t};var Qp=Z.bn.pseudoMersennePrime;Z.bn.prime={p127:Qp(127,[[0,-1]]),p25519:Qp(255,[[0,-19]]),p192k:Qp(192,[[32,-1],[12,-1],[8,-1],[7,-1],[6,-1],[3,-1],[0,-1]]),p224k:Qp(224,[[32,-1],[12,-1],[11,-1],[9,-1],[7,-1],[4,-1],[1,-1],[0,-1]]),p256k:Qp(256,[[32,-1],[9,-1],[8,-1],[7,-1],[6,-1],[4,-1],[0,-1]]),p192:Qp(192,[[0,-1],[64,-1]]),p224:Qp(224,[[0,1],[96,-1]]),p256:Qp(256,[[0,-1],[96,1],[192,1],[224,-1]]),p384:Qp(384,[[0,-1],[32,1],[96,-1],[128,-1]]),p521:Qp(521,[[0,-1]])};Z.bn.random=function(A,e){typeof A!="object"&&(A=new Z.bn(A));for(var t,r,a=A.limbs.length,j=A.limbs[a-1]+1,n=new Z.bn;;){do t=Z.random.randomWords(a,e),0>t[a-1]&&(t[a-1]+=4294967296);while(Math.floor(t[a-1]/j)===Math.floor(4294967296/j));for(t[a-1]%=j,r=0;r<a-1;r++)t[r]&=A.radixMask;if(n.limbs=t,!n.greaterEquals(A))return n}};Z.cipher.aes=function(A){this.I[0][0][0]||this.N();var e,t,r,a,j=this.I[0][4],n=this.I[1];e=A.length;var i=1;if(e!==4&&e!==6&&e!==8)throw new Z.exception.invalid("invalid aes key size");for(this.f=[r=A.slice(0),a=[]],A=e;A<4*e+28;A++)t=r[A-1],(A%e===0||e===8&&A%e===4)&&(t=j[t>>>24]<<24^j[t>>16&255]<<16^j[t>>8&255]<<8^j[t&255],A%e===0&&(t=t<<8^t>>>24^i<<24,i=i<<1^283*(i>>7))),r[A]=r[A-e]^t;for(e=0;A;e++,A--)t=r[e&3?A:A-4],a[e]=4>=A||4>e?t:n[0][j[t>>>24]]^n[1][j[t>>16&255]]^n[2][j[t>>8&255]]^n[3][j[t&255]]};Z.cipher.aes.prototype={encrypt:function(A){return j$A(this,A,0)},decrypt:function(A){return j$A(this,A,1)},I:[[[],[],[],[],[]],[[],[],[],[],[]]],N:function(){var A=this.I[0],e=this.I[1],t=A[4],r=e[4],a,j,n,i=[],o=[],s,c,u,p;for(a=0;256>a;a++)o[(i[a]=a<<1^283*(a>>7))^a]=a;for(j=n=0;!t[j];j^=s||1,n=o[n]||1)for(u=n^n<<1^n<<2^n<<3^n<<4,u=u>>8^u&255^99,t[j]=u,r[u]=j,c=i[a=i[s=i[j]]],p=16843009*c^65537*a^257*s^16843008*j,c=257*i[u]^16843008*u,a=0;4>a;a++)A[a][j]=c=c<<24^c>>>8,e[a][u]=p=p<<24^p>>>8;for(a=0;5>a;a++)A[a]=A[a].slice(0),e[a]=e[a].slice(0)}};function j$A(A,e,t){if(e.length!==4)throw new Z.exception.invalid("invalid aes block size");var r=A.f[t],a=e[0]^r[0],j=e[t?3:1]^r[1],n=e[2]^r[2];e=e[t?1:3]^r[3];var i,o,s,c=r.length/4-2,u,p=4,h=[0,0,0,0];i=A.I[t],A=i[0];var f=i[1],G=i[2],w=i[3],y=i[4];for(u=0;u<c;u++)i=A[a>>>24]^f[j>>16&255]^G[n>>8&255]^w[e&255]^r[p],o=A[j>>>24]^f[n>>16&255]^G[e>>8&255]^w[a&255]^r[p+1],s=A[n>>>24]^f[e>>16&255]^G[a>>8&255]^w[j&255]^r[p+2],e=A[e>>>24]^f[a>>16&255]^G[j>>8&255]^w[n&255]^r[p+3],p+=4,a=i,j=o,n=s;for(u=0;4>u;u++)h[t?3&-u:u]=y[a>>>24]<<24^y[j>>16&255]<<16^y[n>>8&255]<<8^y[e&255]^r[p++],i=a,a=j,j=n,n=e,e=i;return h}Z.bitArray={bitSlice:function(A,e,t){return A=Z.bitArray.fa(A.slice(e/32),32-(e&31)).slice(1),t===void 0?A:Z.bitArray.clamp(A,t-e)},extract:function(A,e,t){var r=Math.floor(-e-t&31);return((e+t-1^e)&-32?A[e/32|0]<<32-r^A[e/32+1|0]>>>r:A[e/32|0]>>>r)&(1<<t)-1},concat:function(A,e){if(A.length===0||e.length===0)return A.concat(e);var t=A[A.length-1],r=Z.bitArray.getPartial(t);return r===32?A.concat(e):Z.bitArray.fa(e,r,t|0,A.slice(0,A.length-1))},bitLength:function(A){var e=A.length;return e===0?0:32*(e-1)+Z.bitArray.getPartial(A[e-1])},clamp:function(A,e){if(32*A.length<e)return A;A=A.slice(0,Math.ceil(e/32));var t=A.length;return e=e&31,0<t&&e&&(A[t-1]=Z.bitArray.partial(e,A[t-1]&2147483648>>e-1,1)),A},partial:function(A,e,t){return A===32?e:(t?e|0:e<<32-A)+1099511627776*A},getPartial:function(A){return Math.round(A/1099511627776)||32},equal:function(A,e){if(Z.bitArray.bitLength(A)!==Z.bitArray.bitLength(e))return!1;var t=0,r;for(r=0;r<A.length;r++)t|=A[r]^e[r];return t===0},fa:function(A,e,t,r){var a;for(a=0,r===void 0&&(r=[]);32<=e;e-=32)r.push(t),t=0;if(e===0)return r.concat(A);for(a=0;a<A.length;a++)r.push(t|A[a]>>>e),t=A[a]<<32-e;return a=A.length?A[A.length-1]:0,A=Z.bitArray.getPartial(a),r.push(Z.bitArray.partial(e+A&31,32<e+A?t:r.pop(),1)),r},ya:function(A,e){return[A[0]^e[0],A[1]^e[1],A[2]^e[2],A[3]^e[3]]},byteswapM:function(A){var e,t;for(e=0;e<A.length;++e)t=A[e],A[e]=t>>>24|t>>>8&65280|(t&65280)<<8|t<<24;return A}};Z.codec.bytes={fromBits:function(A){var e=[],t=Z.bitArray.bitLength(A),r,a;for(r=0;r<t/8;r++)!(r&3)&&(a=A[r/4]),e.push(a>>>24),a<<=8;return e},toBits:function(A){var e=[],t,r=0;for(t=0;t<A.length;t++)r=r<<8|A[t],(t&3)===3&&(e.push(r),r=0);return t&3&&e.push(Z.bitArray.partial(8*(t&3),r)),e}};Z.codec.utf8String={fromBits:function(A){var e="",t=Z.bitArray.bitLength(A),r,a;for(r=0;r<t/8;r++)!(r&3)&&(a=A[r/4]),e+=String.fromCharCode(a>>>24),a<<=8;return decodeURIComponent(escape(e))},toBits:function(A){A=unescape(encodeURIComponent(A));var e=[],t,r=0;for(t=0;t<A.length;t++)r=r<<8|A.charCodeAt(t),(t&3)===3&&(e.push(r),r=0);return t&3&&e.push(Z.bitArray.partial(8*(t&3),r)),e}};Z.codec.hex={fromBits:function(A){var e="",t;for(t=0;t<A.length;t++)e+=((A[t]|0)+0xf00000000000).toString(16).substr(4);return e.substr(0,Z.bitArray.bitLength(A)/4)},toBits:function(A){var e,t=[],r;for(A=A.replace(/\s|0x/g,""),r=A.length,A=A+"00000000",e=0;e<A.length;e+=8)t.push(parseInt(A.substr(e,8),16)^0);return Z.bitArray.clamp(t,4*r)}};Z.codec.base32={L:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",ca:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(A,e,t){var r=Z.codec.base32.BASE,a=Z.codec.base32.REMAINING,j="",n=0,i=Z.codec.base32.L,o=0,s=Z.bitArray.bitLength(A);for(t&&(i=Z.codec.base32.ca),t=0;j.length*r<s;)j+=i.charAt((o^A[t]>>>n)>>>a),n<r?(o=A[t]<<r-n,n+=a,t++):(o<<=r,n-=r);for(;j.length&7&&!e;)j+="=";return j},toBits:function(A,e){A=A.replace(/\s|=/g,"").toUpperCase();var t=Z.codec.base32.BITS,r=Z.codec.base32.BASE,a=Z.codec.base32.REMAINING,j=[],n,i=0,o=Z.codec.base32.L,s=0,c,u="base32";for(e&&(o=Z.codec.base32.ca,u="base32hex"),n=0;n<A.length;n++){if(c=o.indexOf(A.charAt(n)),0>c){if(!e)try{return Z.codec.base32hex.toBits(A)}catch{}throw new Z.exception.invalid("this isn't "+u+"!")}i>a?(i-=a,j.push(s^c>>>i),s=c<<t-i):(i+=r,s^=c<<t-i)}return i&56&&j.push(Z.bitArray.partial(i&56,s,1)),j}};Z.codec.base32hex={fromBits:function(A,e){return Z.codec.base32.fromBits(A,e,1)},toBits:function(A){return Z.codec.base32.toBits(A,1)}};Z.codec.base64={L:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(A,e,t){var r="",a=0,j=Z.codec.base64.L,n=0,i=Z.bitArray.bitLength(A);for(t&&(j=j.substr(0,62)+"-_"),t=0;6*r.length<i;)r+=j.charAt((n^A[t]>>>a)>>>26),6>a?(n=A[t]<<6-a,a+=26,t++):(n<<=6,a-=6);for(;r.length&3&&!e;)r+="=";return r},toBits:function(A,e){A=A.replace(/\s|=/g,"");var t=[],r,a=0,j=Z.codec.base64.L,n=0,i;for(e&&(j=j.substr(0,62)+"-_"),r=0;r<A.length;r++){if(i=j.indexOf(A.charAt(r)),0>i)throw new Z.exception.invalid("this isn't base64: '"+A.charAt(r)+"', "+r+" -- "+A.length);26<a?(a-=26,t.push(n^i>>>a),n=i<<32-a):(a+=6,n^=i<<32-a)}return a&56&&t.push(Z.bitArray.partial(a&56,n,1)),t}};Z.codec.base64url={fromBits:function(A){return Z.codec.base64.fromBits(A,1,1)},toBits:function(A){return Z.codec.base64.toBits(A,1)}};Z.hash.sha256=function(A){this.f[0]||this.N(),A?(this.i=A.i.slice(0),this.g=A.g.slice(0),this.c=A.c):this.reset()};Z.hash.sha256.hash=function(A){return new Z.hash.sha256().update(A).finalize()};Z.hash.sha256.prototype={blockSize:512,reset:function(){return this.i=this.s.slice(0),this.g=[],this.c=0,this},update:function(A){typeof A=="string"&&(A=Z.codec.utf8String.toBits(A));var e,t=this.g=Z.bitArray.concat(this.g,A);if(e=this.c,A=this.c=e+Z.bitArray.bitLength(A),9007199254740991<A)throw new Z.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var r=new Uint32Array(t),a=0;for(e=512+e-(512+e&511);e<=A;e+=512)this.j(r.subarray(16*a,16*(a+1))),a+=1;t.splice(0,16*a)}else for(e=512+e-(512+e&511);e<=A;e+=512)this.j(t.splice(0,16));return this},finalize:function(){var A,t=this.g,e=this.i,t=Z.bitArray.concat(t,[Z.bitArray.partial(1,1)]);for(A=t.length+2;A&15;A++)t.push(0);for(t.push(Math.floor(this.c/4294967296)),t.push(this.c|0);t.length;)this.j(t.splice(0,16));return this.reset(),e},s:[],f:[],N:function(){function A(j){return 4294967296*(j-Math.floor(j))|0}for(var e=0,t=2,r,a;64>e;t++){for(a=!0,r=2;r*r<=t;r++)if(t%r===0){a=!1;break}a&&(8>e&&(this.s[e]=A(Math.pow(t,.5))),this.f[e]=A(Math.pow(t,1/3)),e++)}},j:function(A){var e,t,r,a=this.i,j=this.f,n=a[0],i=a[1],o=a[2],s=a[3],c=a[4],u=a[5],p=a[6],h=a[7];for(e=0;64>e;e++)16>e?t=A[e]:(t=A[e+1&15],r=A[e+14&15],t=A[e&15]=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+A[e&15]+A[e+9&15]|0),t=t+h+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(p^c&(u^p))+j[e],h=p,p=u,u=c,c=s+t|0,s=o,o=i,i=n,n=t+(i&o^s&(i^o))+(i>>>2^i>>>13^i>>>22^i<<30^i<<19^i<<10)|0;a[0]=a[0]+n|0,a[1]=a[1]+i|0,a[2]=a[2]+o|0,a[3]=a[3]+s|0,a[4]=a[4]+c|0,a[5]=a[5]+u|0,a[6]=a[6]+p|0,a[7]=a[7]+h|0}};Z.hash.sha1=function(A){A?(this.i=A.i.slice(0),this.g=A.g.slice(0),this.c=A.c):this.reset()};Z.hash.sha1.hash=function(A){return new Z.hash.sha1().update(A).finalize()};Z.hash.sha1.prototype={blockSize:512,reset:function(){return this.i=this.s.slice(0),this.g=[],this.c=0,this},update:function(A){typeof A=="string"&&(A=Z.codec.utf8String.toBits(A));var e,t=this.g=Z.bitArray.concat(this.g,A);if(e=this.c,A=this.c=e+Z.bitArray.bitLength(A),9007199254740991<A)throw new Z.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var r=new Uint32Array(t),a=0;for(e=this.blockSize+e-(this.blockSize+e&this.blockSize-1);e<=A;e+=this.blockSize)this.j(r.subarray(16*a,16*(a+1))),a+=1;t.splice(0,16*a)}else for(e=this.blockSize+e-(this.blockSize+e&this.blockSize-1);e<=A;e+=this.blockSize)this.j(t.splice(0,16));return this},finalize:function(){var A,t=this.g,e=this.i,t=Z.bitArray.concat(t,[Z.bitArray.partial(1,1)]);for(A=t.length+2;A&15;A++)t.push(0);for(t.push(Math.floor(this.c/4294967296)),t.push(this.c|0);t.length;)this.j(t.splice(0,16));return this.reset(),e},s:[1732584193,4023233417,2562383102,271733878,3285377520],f:[1518500249,1859775393,2400959708,3395469782],j:function(A){var e,t,r,a,j,n,i=this.i,o;if(typeof Uint32Array<"u")for(o=Array(80),t=0;16>t;t++)o[t]=A[t];else o=A;for(t=i[0],r=i[1],a=i[2],j=i[3],n=i[4],A=0;79>=A;A++)16<=A&&(e=o[A-3]^o[A-8]^o[A-14]^o[A-16],o[A]=e<<1|e>>>31),e=19>=A?r&a|~r&j:39>=A?r^a^j:59>=A?r&a|r&j|a&j:79>=A?r^a^j:void 0,e=(t<<5|t>>>27)+e+n+o[A]+this.f[Math.floor(A/20)]|0,n=j,j=a,a=r<<30|r>>>2,r=t,t=e;i[0]=i[0]+t|0,i[1]=i[1]+r|0,i[2]=i[2]+a|0,i[3]=i[3]+j|0,i[4]=i[4]+n|0}};Z.hash.sha512=function(A){this.f[0]||this.N(),A?(this.i=A.i.slice(0),this.g=A.g.slice(0),this.c=A.c):this.reset()};Z.hash.sha512.hash=function(A){return new Z.hash.sha512().update(A).finalize()};Z.hash.sha512.prototype={blockSize:1024,reset:function(){return this.i=this.s.slice(0),this.g=[],this.c=0,this},update:function(A){typeof A=="string"&&(A=Z.codec.utf8String.toBits(A));var e,t=this.g=Z.bitArray.concat(this.g,A);if(e=this.c,A=this.c=e+Z.bitArray.bitLength(A),9007199254740991<A)throw new Z.exception.invalid("Cannot hash more than 2^53 - 1 bits");if(typeof Uint32Array<"u"){var r=new Uint32Array(t),a=0;for(e=1024+e-(1024+e&1023);e<=A;e+=1024)this.j(r.subarray(32*a,32*(a+1))),a+=1;t.splice(0,32*a)}else for(e=1024+e-(1024+e&1023);e<=A;e+=1024)this.j(t.splice(0,32));return this},finalize:function(){var A,t=this.g,e=this.i,t=Z.bitArray.concat(t,[Z.bitArray.partial(1,1)]);for(A=t.length+4;A&31;A++)t.push(0);for(t.push(0),t.push(0),t.push(Math.floor(this.c/4294967296)),t.push(this.c|0);t.length;)this.j(t.splice(0,32));return this.reset(),e},s:[],ra:[12372232,13281083,9762859,1914609,15106769,4090911,4308331,8266105],f:[],ta:[2666018,15689165,5061423,9034684,4764984,380953,1658779,7176472,197186,7368638,14987916,16757986,8096111,1480369,13046325,6891156,15813330,5187043,9229749,11312229,2818677,10937475,4324308,1135541,6741931,11809296,16458047,15666916,11046850,698149,229999,945776,13774844,2541862,12856045,9810911,11494366,7844520,15576806,8533307,15795044,4337665,16291729,5553712,15684120,6662416,7413802,12308920,13816008,4303699,9366425,10176680,13195875,4295371,6546291,11712675,15708924,1519456,15772530,6568428,6495784,8568297,13007125,7492395,2515356,12632583,14740254,7262584,1535930,13146278,16321966,1853211,294276,13051027,13221564,1051980,4080310,6651434,14088940,4675607],N:function(){function A(n){return 4294967296*(n-Math.floor(n))|0}function e(n){return 1099511627776*(n-Math.floor(n))&255}for(var t=0,r=2,a,j;80>t;r++){for(j=!0,a=2;a*a<=r;a++)if(r%a===0){j=!1;break}j&&(8>t&&(this.s[2*t]=A(Math.pow(r,.5)),this.s[2*t+1]=e(Math.pow(r,.5))<<24|this.ra[t]),this.f[2*t]=A(Math.pow(r,1/3)),this.f[2*t+1]=e(Math.pow(r,1/3))<<24|this.ta[t],t++)}},j:function(A){var e,t,r=this.i,a=this.f,j=r[0],n=r[1],i=r[2],o=r[3],s=r[4],c=r[5],u=r[6],p=r[7],h=r[8],f=r[9],G=r[10],w=r[11],y=r[12],E=r[13],$=r[14],T=r[15],O;if(typeof Uint32Array<"u"){O=Array(160);for(var I=0;32>I;I++)O[I]=A[I]}else O=A;var I=j,q=n,K=i,aA=o,nA=s,lA=c,qA=u,UA=p,le=h,yA=f,we=G,ge=w,ot=y,ue=E,IA=$,ne=T;for(A=0;80>A;A++){if(16>A)e=O[2*A],t=O[2*A+1];else{t=O[2*(A-15)];var It=O[2*(A-15)+1];e=(It<<31|t>>>1)^(It<<24|t>>>8)^t>>>7;var wt=(t<<31|It>>>1)^(t<<24|It>>>8)^(t<<25|It>>>7);t=O[2*(A-2)];var XA=O[2*(A-2)+1],It=(XA<<13|t>>>19)^(t<<3|XA>>>29)^t>>>6,XA=(t<<13|XA>>>19)^(XA<<3|t>>>29)^(t<<26|XA>>>6),HA=O[2*(A-7)],or=O[2*(A-16)],ve=O[2*(A-16)+1];t=wt+O[2*(A-7)+1],e=e+HA+(t>>>0<wt>>>0?1:0),t+=XA,e+=It+(t>>>0<XA>>>0?1:0),t+=ve,e+=or+(t>>>0<ve>>>0?1:0)}O[2*A]=e|=0,O[2*A+1]=t|=0;var HA=le&we^~le&ot,KA=yA&ge^~yA&ue,XA=I&K^I&nA^K&nA,st=q&aA^q&lA^aA&lA,or=(q<<4|I>>>28)^(I<<30|q>>>2)^(I<<25|q>>>7),ve=(I<<4|q>>>28)^(q<<30|I>>>2)^(q<<25|I>>>7),gt=a[2*A],Ge=a[2*A+1],It=ne+((le<<18|yA>>>14)^(le<<14|yA>>>18)^(yA<<23|le>>>9)),wt=IA+((yA<<18|le>>>14)^(yA<<14|le>>>18)^(le<<23|yA>>>9))+(It>>>0<ne>>>0?1:0),It=It+KA,wt=wt+(HA+(It>>>0<KA>>>0?1:0)),It=It+Ge,wt=wt+(gt+(It>>>0<Ge>>>0?1:0)),It=It+t|0,wt=wt+(e+(It>>>0<t>>>0?1:0));t=ve+st,e=or+XA+(t>>>0<ve>>>0?1:0),IA=ot,ne=ue,ot=we,ue=ge,we=le,ge=yA,yA=UA+It|0,le=qA+wt+(yA>>>0<UA>>>0?1:0)|0,qA=nA,UA=lA,nA=K,lA=aA,K=I,aA=q,q=It+t|0,I=wt+e+(q>>>0<It>>>0?1:0)|0}n=r[1]=n+q|0,r[0]=j+I+(n>>>0<q>>>0?1:0)|0,o=r[3]=o+aA|0,r[2]=i+K+(o>>>0<aA>>>0?1:0)|0,c=r[5]=c+lA|0,r[4]=s+nA+(c>>>0<lA>>>0?1:0)|0,p=r[7]=p+UA|0,r[6]=u+qA+(p>>>0<UA>>>0?1:0)|0,f=r[9]=f+yA|0,r[8]=h+le+(f>>>0<yA>>>0?1:0)|0,w=r[11]=w+ge|0,r[10]=G+we+(w>>>0<ge>>>0?1:0)|0,E=r[13]=E+ue|0,r[12]=y+ot+(E>>>0<ue>>>0?1:0)|0,T=r[15]=T+ne|0,r[14]=$+IA+(T>>>0<ne>>>0?1:0)|0}};Z.mode.gcm={name:"gcm",encrypt:function(A,e,t,r,a){var j=e.slice(0);return e=Z.bitArray,r=r||[],A=Z.mode.gcm.aa(!0,A,j,r,t,a||128),e.concat(A.data,A.tag)},decrypt:function(A,e,t,r,a){var j=e.slice(0),n=Z.bitArray,i=n.bitLength(j);if(a=a||128,r=r||[],a<=i?(e=n.bitSlice(j,i-a),j=n.bitSlice(j,0,i-a)):(e=j,j=[]),A=Z.mode.gcm.aa(!1,A,j,r,t,a),!n.equal(A.tag,e))throw new Z.exception.corrupt("gcm: tag doesn't match");return A.data},qa:function(A,e){var t,r,a,j,n,i=Z.bitArray.ya;for(a=[0,0,0,0],j=e.slice(0),t=0;128>t;t++){for((r=(A[Math.floor(t/32)]&1<<31-t%32)!==0)&&(a=i(a,j)),n=(j[3]&1)!==0,r=3;0<r;r--)j[r]=j[r]>>>1|(j[r-1]&1)<<31;j[0]>>>=1,n&&(j[0]^=-520093696)}return a},D:function(A,e,t){var r,a=t.length;for(e=e.slice(0),r=0;r<a;r+=4)e[0]^=4294967295&t[r],e[1]^=4294967295&t[r+1],e[2]^=4294967295&t[r+2],e[3]^=4294967295&t[r+3],e=Z.mode.gcm.qa(e,A);return e},aa:function(A,e,t,r,a,j){var n,i,o,s,c,u,p,h,f=Z.bitArray;for(u=t.length,p=f.bitLength(t),h=f.bitLength(r),i=f.bitLength(a),n=e.encrypt([0,0,0,0]),i===96?(a=a.slice(0),a=f.concat(a,[1])):(a=Z.mode.gcm.D(n,[0,0,0,0],a),a=Z.mode.gcm.D(n,a,[0,0,Math.floor(i/4294967296),i&4294967295])),i=Z.mode.gcm.D(n,[0,0,0,0],r),c=a.slice(0),r=i.slice(0),A||(r=Z.mode.gcm.D(n,i,t)),s=0;s<u;s+=4)c[3]++,o=e.encrypt(c),t[s]^=o[0],t[s+1]^=o[1],t[s+2]^=o[2],t[s+3]^=o[3];return t=f.clamp(t,p),A&&(r=Z.mode.gcm.D(n,i,t)),A=[Math.floor(h/4294967296),h&4294967295,Math.floor(p/4294967296),p&4294967295],r=Z.mode.gcm.D(n,r,A),o=e.encrypt(a),r[0]^=o[0],r[1]^=o[1],r[2]^=o[2],r[3]^=o[3],{tag:f.bitSlice(r,0,j),data:t}}};Z.misc.hmac=function(A,e){this.ba=e=e||Z.hash.sha256;var t=[[],[]],r,a=e.prototype.blockSize/32;for(this.K=[new e,new e],A.length>a&&(A=e.hash(A)),r=0;r<a;r++)t[0][r]=A[r]^909522486,t[1][r]=A[r]^1549556828;this.K[0].update(t[0]),this.K[1].update(t[1]),this.Y=new e(this.K[0])};Z.misc.hmac.prototype.encrypt=Z.misc.hmac.prototype.mac=function(A){if(this.ha)throw new Z.exception.invalid("encrypt on already updated hmac called!");return this.update(A),this.digest(A)};Z.misc.hmac.prototype.reset=function(){this.Y=new this.ba(this.K[0]),this.ha=!1};Z.misc.hmac.prototype.update=function(A){this.ha=!0,this.Y.update(A)};Z.misc.hmac.prototype.digest=function(){var A=this.Y.finalize(),A=new this.ba(this.K[1]).update(A).finalize();return this.reset(),A};Z.misc.pbkdf2=function(A,e,t,r,a){if(t=t||1e4,0>r||0>t)throw new Z.exception.invalid("invalid params to pbkdf2");typeof A=="string"&&(A=Z.codec.utf8String.toBits(A)),typeof e=="string"&&(e=Z.codec.utf8String.toBits(e)),a=a||Z.misc.hmac,A=new a(A);var j,n,i,o,s=[],c=Z.bitArray;for(o=1;32*s.length<(r||1);o++){for(a=j=A.encrypt(c.concat(e,[o])),n=1;n<t;n++)for(j=A.encrypt(j),i=0;i<j.length;i++)a[i]^=j[i];s=s.concat(a)}return r&&(s=c.clamp(s,r)),s};Z.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},pa:function(A,e,t,r){t=t||{},r=r||{};var a=Z.json,j=a.w({iv:Z.random.randomWords(4,0)},a.defaults),n;if(a.w(j,t),t=j.adata,typeof j.salt=="string"&&(j.salt=Z.codec.base64.toBits(j.salt)),typeof j.iv=="string"&&(j.iv=Z.codec.base64.toBits(j.iv)),!Z.mode[j.mode]||!Z.cipher[j.cipher]||typeof A=="string"&&100>=j.iter||j.ts!==64&&j.ts!==96&&j.ts!==128||j.ks!==128&&j.ks!==192&&j.ks!==256||2>j.iv.length||4<j.iv.length)throw new Z.exception.invalid("json encrypt: invalid parameters");return typeof A=="string"?(n=Z.misc.cachedPbkdf2(A,j),A=n.key.slice(0,j.ks/32),j.salt=n.salt):Z.ecc&&A instanceof Z.ecc.elGamal.publicKey&&(n=A.kem(),j.kemtag=n.tag,A=n.key.slice(0,j.ks/32)),typeof e=="string"&&(e=Z.codec.utf8String.toBits(e)),typeof t=="string"&&(j.adata=t=Z.codec.utf8String.toBits(t)),n=new Z.cipher[j.cipher](A),a.w(r,j),r.key=A,j.ct=j.mode==="ccm"&&Z.arrayBuffer&&Z.arrayBuffer.ccm&&e instanceof ArrayBuffer?Z.arrayBuffer.ccm.encrypt(n,e,j.iv,t,j.ts):Z.mode[j.mode].encrypt(n,e,j.iv,t,j.ts),j},encrypt:function(A,e,t,r){var a=Z.json,j=a.pa.apply(a,arguments);return a.encode(j)},oa:function(A,e,t,r){t=t||{},r=r||{};var a=Z.json;e=a.w(a.w(a.w({},a.defaults),e),t,!0);var j,n;if(j=e.adata,typeof e.salt=="string"&&(e.salt=Z.codec.base64.toBits(e.salt)),typeof e.iv=="string"&&(e.iv=Z.codec.base64.toBits(e.iv)),!Z.mode[e.mode]||!Z.cipher[e.cipher]||typeof A=="string"&&100>=e.iter||e.ts!==64&&e.ts!==96&&e.ts!==128||e.ks!==128&&e.ks!==192&&e.ks!==256||!e.iv||2>e.iv.length||4<e.iv.length)throw new Z.exception.invalid("json decrypt: invalid parameters");return typeof A=="string"?(n=Z.misc.cachedPbkdf2(A,e),A=n.key.slice(0,e.ks/32),e.salt=n.salt):Z.ecc&&A instanceof Z.ecc.elGamal.secretKey&&(A=A.unkem(Z.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32)),typeof j=="string"&&(j=Z.codec.utf8String.toBits(j)),n=new Z.cipher[e.cipher](A),j=e.mode==="ccm"&&Z.arrayBuffer&&Z.arrayBuffer.ccm&&e.ct instanceof ArrayBuffer?Z.arrayBuffer.ccm.decrypt(n,e.ct,e.iv,e.tag,j,e.ts):Z.mode[e.mode].decrypt(n,e.ct,e.iv,j,e.ts),a.w(r,e),r.key=A,t.raw===1?j:Z.codec.utf8String.fromBits(j)},decrypt:function(A,e,t,r){var a=Z.json;return a.oa(A,a.decode(e),t,r)},encode:function(A){var e,t="{",r="";for(e in A)if(A.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new Z.exception.invalid("json encode: invalid property name");switch(t+=r+'"'+e+'":',r=",",typeof A[e]){case"number":case"boolean":t+=A[e];break;case"string":t+='"'+escape(A[e])+'"';break;case"object":t+='"'+Z.codec.base64.fromBits(A[e],0)+'"';break;default:throw new Z.exception.bug("json encode: unsupported type")}}return t+"}"},decode:function(A){if(A=A.replace(/\s/g,""),!A.match(/^\{.*\}$/))throw new Z.exception.invalid("json decode: this isn't json!");A=A.replace(/^\{|\}$/g,"").split(/,/);var e={},t,r;for(t=0;t<A.length;t++){if(!(r=A[t].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new Z.exception.invalid("json decode: this isn't json!");r[3]!=null?e[r[2]]=parseInt(r[3],10):r[4]!=null?e[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?Z.codec.base64.toBits(r[4]):unescape(r[4]):r[5]!=null&&(e[r[2]]=r[5]==="true")}return e},w:function(A,e,t){if(A===void 0&&(A={}),e===void 0)return A;for(var r in e)if(e.hasOwnProperty(r)){if(t&&A[r]!==void 0&&A[r]!==e[r])throw new Z.exception.invalid("required parameter overridden");A[r]=e[r]}return A},Aa:function(A,e){var t={},r;for(r in A)A.hasOwnProperty(r)&&A[r]!==e[r]&&(t[r]=A[r]);return t},za:function(A,e){var t={},r;for(r=0;r<e.length;r++)A[e[r]]!==void 0&&(t[e[r]]=A[e[r]]);return t}};Z.encrypt=Z.json.encrypt;Z.decrypt=Z.json.decrypt;Z.misc.wa={};Z.misc.cachedPbkdf2=function(A,e){var t=Z.misc.wa,r;return e=e||{},r=e.iter||1e3,t=t[A]=t[A]||{},r=t[r]=t[r]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):Z.random.randomWords(2,0)},t=e.salt===void 0?r.firstSalt:e.salt,r[t]=r[t]||Z.misc.pbkdf2(A,t,e.iter),{key:r[t].slice(0),salt:t.slice(0)}};Z.ecc={};Z.ecc.point=function(A,e,t){e===void 0?this.isIdentity=!0:(e instanceof Z.bn&&(e=new A.field(e)),t instanceof Z.bn&&(t=new A.field(t)),this.x=e,this.y=t,this.isIdentity=!1),this.curve=A};Z.ecc.point.prototype={toJac:function(){return new Z.ecc.pointJac(this.curve,this.x,this.y,new this.curve.field(1))},mult:function(A){return this.toJac().mult(A,this).toAffine()},mult2:function(A,e,t){return this.toJac().mult2(A,this,e,t).toAffine()},multiples:function(){var A,e,t;if(this.da===void 0)for(t=this.toJac().doubl(),A=this.da=[new Z.ecc.point(this.curve),this,t.toAffine()],e=3;16>e;e++)t=t.add(this),A.push(t.toAffine());return this.da},negate:function(){var A=new this.curve.field(0).sub(this.y).normalize().reduce();return new Z.ecc.point(this.curve,this.x,A)},isValid:function(){return this.y.square().equals(this.curve.b.add(this.x.mul(this.curve.a.add(this.x.square()))))},toBits:function(){return Z.bitArray.concat(this.x.toBits(),this.y.toBits())}};Z.ecc.pointJac=function(A,e,t,r){e===void 0?this.isIdentity=!0:(this.x=e,this.y=t,this.z=r,this.isIdentity=!1),this.curve=A};Z.ecc.pointJac.prototype={add:function(A){var e,t,r,a;if(this.curve!==A.curve)throw new Z.exception.invalid("sjcl['ecc']['add'](): Points must be on the same curve to add them!");return this.isIdentity?A.toJac():A.isIdentity?this:(e=this.z.square(),t=A.x.mul(e).subM(this.x),t.equals(0)?this.y.equals(A.y.mul(e.mul(this.z)))?this.doubl():new Z.ecc.pointJac(this.curve):(e=A.y.mul(e.mul(this.z)).subM(this.y),r=t.square(),A=e.square(),a=t.square().mul(t).addM(this.x.add(this.x).mul(r)),A=A.subM(a),e=this.x.mul(r).subM(A).mul(e),r=this.y.mul(t.square().mul(t)),e=e.subM(r),t=this.z.mul(t),new Z.ecc.pointJac(this.curve,A,e,t)))},doubl:function(){if(this.isIdentity)return this;var e=this.y.square(),t=e.mul(this.x.mul(4)),r=e.square().mul(8),e=this.z.square(),A=this.curve.a.toString()==new Z.bn(-3).toString()?this.x.sub(e).mul(3).mul(this.x.add(e)):this.x.square().mul(3).add(e.square().mul(this.curve.a)),e=A.square().subM(t).subM(t),t=t.sub(e).mul(A).subM(r),r=this.y.add(this.y).mul(this.z);return new Z.ecc.pointJac(this.curve,e,t,r)},toAffine:function(){if(this.isIdentity||this.z.equals(0))return new Z.ecc.point(this.curve);var A=this.z.inverse(),e=A.square();return new Z.ecc.point(this.curve,this.x.mul(e).fullReduce(),this.y.mul(e.mul(A)).fullReduce())},mult:function(A,e){typeof A=="number"?A=[A]:A.limbs!==void 0&&(A=A.normalize().limbs);var t,r,a=new Z.ecc.point(this.curve).toJac(),j=e.multiples();for(t=A.length-1;0<=t;t--)for(r=Z.bn.prototype.radix-4;0<=r;r-=4)a=a.doubl().doubl().doubl().doubl().add(j[A[t]>>r&15]);return a},mult2:function(A,e,t,r){typeof A=="number"?A=[A]:A.limbs!==void 0&&(A=A.normalize().limbs),typeof t=="number"?t=[t]:t.limbs!==void 0&&(t=t.normalize().limbs);var a,j=new Z.ecc.point(this.curve).toJac();e=e.multiples();var n=r.multiples(),i,o;for(r=Math.max(A.length,t.length)-1;0<=r;r--)for(i=A[r]|0,o=t[r]|0,a=Z.bn.prototype.radix-4;0<=a;a-=4)j=j.doubl().doubl().doubl().doubl().add(e[i>>a&15]).add(n[o>>a&15]);return j},negate:function(){return this.toAffine().negate().toJac()},isValid:function(){var e=this.z.square(),A=e.square(),e=A.mul(e);return this.y.square().equals(this.curve.b.mul(e).add(this.x.mul(this.curve.a.mul(A).add(this.x.square()))))}};Z.ecc.curve=function(A,e,t,r,a,j){this.field=A,this.r=new Z.bn(e),this.a=new A(t),this.b=new A(r),this.G=new Z.ecc.point(this,new A(a),new A(j))};Z.ecc.curve.prototype.fromBits=function(A){var e=Z.bitArray,t=this.field.prototype.exponent+7&-8;if(A=new Z.ecc.point(this,this.field.fromBits(e.bitSlice(A,0,t)),this.field.fromBits(e.bitSlice(A,t,2*t))),!A.isValid())throw new Z.exception.corrupt("not on the curve!");return A};Z.ecc.curves={c192:new Z.ecc.curve(Z.bn.prime.p192,"0xffffffffffffffffffffffff99def836146bc9b1b4d22831",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811"),c224:new Z.ecc.curve(Z.bn.prime.p224,"0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34"),c256:new Z.ecc.curve(Z.bn.prime.p256,"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),c384:new Z.ecc.curve(Z.bn.prime.p384,"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),c521:new Z.ecc.curve(Z.bn.prime.p521,"0x1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409",-3,"0x051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","0xC6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","0x11839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650"),k192:new Z.ecc.curve(Z.bn.prime.p192k,"0xfffffffffffffffffffffffe26f2fc170f69466a74defd8d",0,3,"0xdb4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d","0x9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"),k224:new Z.ecc.curve(Z.bn.prime.p224k,"0x010000000000000000000000000001dce8d2ec6184caf0a971769fb1f7",0,5,"0xa1455b334df099df30fc28a169a467e9e47075a90f7e650eb6b7a45c","0x7e089fed7fba344282cafbd6f7e319f7c0b0bd59e2ca4bdb556d61a5"),k256:new Z.ecc.curve(Z.bn.prime.p256k,"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",0,7,"0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};Z.ecc.curveName=function(A){for(var e in Z.ecc.curves)if(Z.ecc.curves.hasOwnProperty(e)&&Z.ecc.curves[e]===A)return e;throw new Z.exception.invalid("no such curve")};Z.ecc.deserialize=function(A){if(!A||!A.curve||!Z.ecc.curves[A.curve])throw new Z.exception.invalid("invalid serialization");if(["elGamal","ecdsa"].indexOf(A.type)===-1)throw new Z.exception.invalid("invalid type");var e=Z.ecc.curves[A.curve];if(A.secretKey){if(!A.exponent)throw new Z.exception.invalid("invalid exponent");var t=new Z.bn(A.exponent);return new Z.ecc[A.type].secretKey(e,t)}if(!A.point)throw new Z.exception.invalid("invalid point");return t=e.fromBits(Z.codec.hex.toBits(A.point)),new Z.ecc[A.type].publicKey(e,t)};Z.ecc.basicKey={publicKey:function(A,e){this.o=A,this.C=A.r.bitLength(),e instanceof Array?this.B=A.fromBits(e):this.B=e,this.serialize=function(){var t=Z.ecc.curveName(A);return{type:this.getType(),secretKey:!1,point:Z.codec.hex.fromBits(this.B.toBits()),curve:t}},this.get=function(){var a=this.B.toBits(),t=Z.bitArray.bitLength(a),r=Z.bitArray.bitSlice(a,0,t/2),a=Z.bitArray.bitSlice(a,t/2);return{x:r,y:a}}},secretKey:function(A,e){this.o=A,this.C=A.r.bitLength(),this.M=e,this.serialize=function(){var t=this.get(),r=Z.ecc.curveName(A);return{type:this.getType(),secretKey:!0,exponent:Z.codec.hex.fromBits(t),curve:r}},this.get=function(){return this.M.toBits()}}};Z.ecc.basicKey.generateKeys=function(A){return function(e,t,r){if(e=e||256,typeof e=="number"&&(e=Z.ecc.curves["c"+e],e===void 0))throw new Z.exception.invalid("no such curve");return r=r||Z.bn.random(e.r,t),t=e.G.mult(r),{pub:new Z.ecc[A].publicKey(e,t),sec:new Z.ecc[A].secretKey(e,r)}}};Z.ecc.elGamal={generateKeys:Z.ecc.basicKey.generateKeys("elGamal"),publicKey:function(A,e){Z.ecc.basicKey.publicKey.apply(this,arguments)},secretKey:function(A,e){Z.ecc.basicKey.secretKey.apply(this,arguments)}};Z.ecc.elGamal.publicKey.prototype={kem:function(A){A=Z.bn.random(this.o.r,A);var e=this.o.G.mult(A).toBits();return{key:Z.hash.sha256.hash(this.B.mult(A).toBits()),tag:e}},getType:function(){return"elGamal"}};Z.ecc.elGamal.secretKey.prototype={unkem:function(A){return Z.hash.sha256.hash(this.o.fromBits(A).mult(this.M).toBits())},dh:function(A){return Z.hash.sha256.hash(A.B.mult(this.M).toBits())},dhJavaEc:function(A){return A.B.mult(this.M).x.toBits()},getType:function(){return"elGamal"}};Z.ecc.ecdsa={generateKeys:Z.ecc.basicKey.generateKeys("ecdsa")};Z.ecc.ecdsa.publicKey=function(A,e){Z.ecc.basicKey.publicKey.apply(this,arguments)};Z.ecc.ecdsa.publicKey.prototype={verify:function(A,e,t){Z.bitArray.bitLength(A)>this.C&&(A=Z.bitArray.clamp(A,this.C));var j=Z.bitArray,r=this.o.r,i=this.C,a=Z.bn.fromBits(j.bitSlice(e,0,i)),j=Z.bn.fromBits(j.bitSlice(e,i,2*i)),n=t?j:j.inverseMod(r),i=Z.bn.fromBits(A).mul(n).mod(r),n=a.mul(n).mod(r),i=this.o.G.mult2(i,n,this.B).x;if(a.equals(0)||j.equals(0)||a.greaterEquals(r)||j.greaterEquals(r)||!i.equals(a)){if(t===void 0)return this.verify(A,e,!0);throw new Z.exception.corrupt("signature didn't check out")}return!0},getType:function(){return"ecdsa"}};Z.ecc.ecdsa.secretKey=function(A,e){Z.ecc.basicKey.secretKey.apply(this,arguments)};Z.ecc.ecdsa.secretKey.prototype={sign:function(A,e,t,r){Z.bitArray.bitLength(A)>this.C&&(A=Z.bitArray.clamp(A,this.C));var a=this.o.r,j=a.bitLength();return r=r||Z.bn.random(a.sub(1),e).add(1),e=this.o.G.mult(r).x.mod(a),A=Z.bn.fromBits(A).add(e.mul(this.M)),t=t?A.inverseMod(a).mul(r).mod(a):A.mul(r.inverseMod(a)).mod(a),Z.bitArray.concat(e.toBits(j),t.toBits(j))},getType:function(){return"ecdsa"}};Z.prng=function(A){this.m=[new Z.hash.sha256],this.F=[0],this.X=0,this.P={},this.W=0,this.$={},this.ea=this.u=this.H=this.na=0,this.f=[0,0,0,0,0,0,0,0],this.A=[0,0,0,0],this.U=void 0,this.V=A,this.O=!1,this.T={progress:{},seeded:{}},this.J=this.ma=0,this.R=1,this.S=2,this.ja=65536,this.Z=[0,48,64,96,128,192,256,384,512,768,1024],this.ka=3e4,this.ia=80};Z.prng.prototype={randomWords:function(A,e){var t=[],r;r=this.isReady(e);var a;if(r===this.J)throw new Z.exception.notReady("generator isn't seeded");if(r&this.S){r=!(r&this.R),a=[];var j=0,n;for(this.ea=a[0]=new Date().valueOf()+this.ka,n=0;16>n;n++)a.push(4294967296*Math.random()|0);for(n=0;n<this.m.length&&(a=a.concat(this.m[n].finalize()),j+=this.F[n],this.F[n]=0,r||!(this.X&1<<n));n++);for(this.X>=1<<this.m.length&&(this.m.push(new Z.hash.sha256),this.F.push(0)),this.u-=j,j>this.H&&(this.H=j),this.X++,this.f=Z.hash.sha256.hash(this.f.concat(a)),this.U=new Z.cipher.aes(this.f),r=0;4>r&&(this.A[r]=this.A[r]+1|0,!this.A[r]);r++);}for(r=0;r<A;r+=4)(r+1)%this.ja===0&&i$A(this),a=rZ(this),t.push(a[0],a[1],a[2],a[3]);return i$A(this),t.slice(0,A)},setDefaultParanoia:function(A,e){if(A===0&&e!=="Setting paranoia=0 will ruin your security; use it only for testing")throw new Z.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.V=A},addEntropy:function(A,e,t){t=t||"user";var r,a,j=new Date().valueOf(),n=this.P[t],i=this.isReady(),o=0;switch(r=this.$[t],r===void 0&&(r=this.$[t]=this.na++),n===void 0&&(n=this.P[t]=0),this.P[t]=(this.P[t]+1)%this.m.length,typeof A){case"number":e===void 0&&(e=1),this.m[n].update([r,this.W++,1,e,j,1,A|0]);break;case"object":if(t=Object.prototype.toString.call(A),t==="[object Uint32Array]"){for(a=[],t=0;t<A.length;t++)a.push(A[t]);A=a}else for(t!=="[object Array]"&&(o=1),t=0;t<A.length&&!o;t++)typeof A[t]!="number"&&(o=1);if(!o){if(e===void 0)for(t=e=0;t<A.length;t++)for(a=A[t];0<a;)e++,a=a>>>1;this.m[n].update([r,this.W++,2,e,j,A.length].concat(A))}break;case"string":e===void 0&&(e=A.length),this.m[n].update([r,this.W++,3,e,j,A.length]),this.m[n].update(A);break;default:o=1}if(o)throw new Z.exception.bug("random: addEntropy only supports number, array of numbers or string");this.F[n]+=e,this.u+=e,i===this.J&&(this.isReady()!==this.J&&n$A("seeded",Math.max(this.H,this.u)),n$A("progress",this.getProgress()))},isReady:function(A){return A=this.Z[A!==void 0?A:this.V],this.H&&this.H>=A?this.F[0]>this.ia&&new Date().valueOf()>this.ea?this.S|this.R:this.R:this.u>=A?this.S|this.J:this.J},getProgress:function(A){return A=this.Z[A||this.V],this.H>=A||this.u>A?1:this.u/A},startCollectors:function(){if(!this.O){if(this.h={loadTimeCollector:SI(this,this.ua),mouseCollector:SI(this,this.va),keyboardCollector:SI(this,this.sa),accelerometerCollector:SI(this,this.la),touchCollector:SI(this,this.xa)},window.addEventListener)window.addEventListener("load",this.h.loadTimeCollector,!1),window.addEventListener("mousemove",this.h.mouseCollector,!1),window.addEventListener("keypress",this.h.keyboardCollector,!1),window.addEventListener("devicemotion",this.h.accelerometerCollector,!1),window.addEventListener("touchmove",this.h.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.h.loadTimeCollector),document.attachEvent("onmousemove",this.h.mouseCollector),document.attachEvent("keypress",this.h.keyboardCollector);else throw new Z.exception.bug("can't attach event");this.O=!0}},stopCollectors:function(){this.O&&(window.removeEventListener?(window.removeEventListener("load",this.h.loadTimeCollector,!1),window.removeEventListener("mousemove",this.h.mouseCollector,!1),window.removeEventListener("keypress",this.h.keyboardCollector,!1),window.removeEventListener("devicemotion",this.h.accelerometerCollector,!1),window.removeEventListener("touchmove",this.h.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.h.loadTimeCollector),document.detachEvent("onmousemove",this.h.mouseCollector),document.detachEvent("keypress",this.h.keyboardCollector)),this.O=!1)},addEventListener:function(A,e){this.T[A][this.ma++]=e},removeEventListener:function(A,e){var t,r,a=this.T[A],j=[];for(r in a)a.hasOwnProperty(r)&&a[r]===e&&j.push(r);for(t=0;t<j.length;t++)r=j[t],delete a[r]},sa:function(){PI(this,1)},va:function(A){var e,t;try{e=A.x||A.clientX||A.offsetX||0,t=A.y||A.clientY||A.offsetY||0}catch{t=e=0}e!=0&&t!=0&&this.addEntropy([e,t],2,"mouse"),PI(this,0)},xa:function(A){A=A.touches[0]||A.changedTouches[0],this.addEntropy([A.pageX||A.clientX,A.pageY||A.clientY],1,"touch"),PI(this,0)},ua:function(){PI(this,2)},la:function(A){if(A=A.accelerationIncludingGravity.x||A.accelerationIncludingGravity.y||A.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;typeof e=="number"&&this.addEntropy(e,1,"accelerometer")}A&&this.addEntropy(A,2,"accelerometer"),PI(this,0)}};function n$A(A,e){var t,r=Z.random.T[A],a=[];for(t in r)r.hasOwnProperty(t)&&a.push(r[t]);for(t=0;t<a.length;t++)a[t](e)}function PI(A,e){typeof window<"u"&&window.performance&&typeof window.performance.now=="function"?A.addEntropy(window.performance.now(),e,"loadtime"):A.addEntropy(new Date().valueOf(),e,"loadtime")}function i$A(A){A.f=rZ(A).concat(rZ(A)),A.U=new Z.cipher.aes(A.f)}function rZ(A){for(var e=0;4>e&&(A.A[e]=A.A[e]+1|0,!A.A[e]);e++);return A.U.encrypt(A.A)}function SI(A,e){return function(){e.apply(A,arguments)}}Z.random=new Z.prng(6);A:try{if(rM=typeof sG<"u"&&sG.exports){try{aM=X8("crypto")}catch{aM=null}rM=tM=aM}if(rM&&tM.randomBytes)CI=tM.randomBytes(128),CI=new Uint32Array(new Uint8Array(CI).buffer),Z.random.addEntropy(CI,1024,"crypto['randomBytes']");else if(typeof window<"u"&&typeof Uint32Array<"u"){if(OI=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(OI);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(OI);else break A;Z.random.addEntropy(OI,1024,"crypto['getRandomValues']")}}catch(A){typeof window<"u"&&window.console}var CI,tM,OI,rM,aM});var wG=mA((ZM,hIA)=>{(function(){var A,e=0xdeadbeefcafe,t=(e&16777215)==15715070;function r(D,R,W){D!=null&&(typeof D=="number"?this.fromNumber(D,R,W):R==null&&typeof D!="string"?this.fromString(D,256):this.fromString(D,R))}function a(){return new r(null)}function j(D,R,W,hA,de,Fe){for(;--Fe>=0;){var rt=R*this[D++]+W[hA]+de;de=Math.floor(rt/67108864),W[hA++]=rt&67108863}return de}function n(D,R,W,hA,de,Fe){for(var rt=R&32767,Rt=R>>15;--Fe>=0;){var An=this[D]&32767,Ji=this[D++]>>15,Ws=Rt*An+Ji*rt;An=rt*An+((Ws&32767)<<15)+W[hA]+(de&1073741823),de=(An>>>30)+(Ws>>>15)+Rt*Ji+(de>>>30),W[hA++]=An&1073741823}return de}function i(D,R,W,hA,de,Fe){for(var rt=R&16383,Rt=R>>14;--Fe>=0;){var An=this[D]&16383,Ji=this[D++]>>14,Ws=Rt*An+Ji*rt;An=rt*An+((Ws&16383)<<14)+W[hA]+de,de=(An>>28)+(Ws>>14)+Rt*Ji,W[hA++]=An&268435455}return de}var o=typeof navigator<"u";o&&t&&navigator.appName=="Microsoft Internet Explorer"?(r.prototype.am=n,A=30):o&&t&&navigator.appName!="Netscape"?(r.prototype.am=j,A=26):(r.prototype.am=i,A=28),r.prototype.DB=A,r.prototype.DM=(1<<A)-1,r.prototype.DV=1<<A;var s=52;r.prototype.FV=Math.pow(2,s),r.prototype.F1=s-A,r.prototype.F2=2*A-s;var c="0123456789abcdefghijklmnopqrstuvwxyz",u=new Array,p,h;for(p=48,h=0;h<=9;++h)u[p++]=h;for(p=97,h=10;h<36;++h)u[p++]=h;for(p=65,h=10;h<36;++h)u[p++]=h;function f(D){return c.charAt(D)}function G(D,R){var W=u[D.charCodeAt(R)];return W??-1}function w(D){for(var R=this.t-1;R>=0;--R)D[R]=this[R];D.t=this.t,D.s=this.s}function y(D){this.t=1,this.s=D<0?-1:0,D>0?this[0]=D:D<-1?this[0]=D+this.DV:this.t=0}function E(D){var R=a();return R.fromInt(D),R}function $(D,R){var W;if(R==16)W=4;else if(R==8)W=3;else if(R==256)W=8;else if(R==2)W=1;else if(R==32)W=5;else if(R==4)W=2;else{this.fromRadix(D,R);return}this.t=0,this.s=0;for(var hA=D.length,de=!1,Fe=0;--hA>=0;){var rt=W==8?D[hA]&255:G(D,hA);if(rt<0){D.charAt(hA)=="-"&&(de=!0);continue}de=!1,Fe==0?this[this.t++]=rt:Fe+W>this.DB?(this[this.t-1]|=(rt&(1<<this.DB-Fe)-1)<<Fe,this[this.t++]=rt>>this.DB-Fe):this[this.t-1]|=rt<<Fe,Fe+=W,Fe>=this.DB&&(Fe-=this.DB)}W==8&&D[0]&128&&(this.s=-1,Fe>0&&(this[this.t-1]|=(1<<this.DB-Fe)-1<<Fe)),this.clamp(),de&&r.ZERO.subTo(this,this)}function T(){for(var D=this.s&this.DM;this.t>0&&this[this.t-1]==D;)--this.t}function O(D){if(this.s<0)return"-"+this.negate().toString(D);var R;if(D==16)R=4;else if(D==8)R=3;else if(D==2)R=1;else if(D==32)R=5;else if(D==4)R=2;else return this.toRadix(D);var W=(1<<R)-1,hA,de=!1,Fe="",rt=this.t,Rt=this.DB-rt*this.DB%R;if(rt-- >0)for(Rt<this.DB&&(hA=this[rt]>>Rt)>0&&(de=!0,Fe=f(hA));rt>=0;)Rt<R?(hA=(this[rt]&(1<<Rt)-1)<<R-Rt,hA|=this[--rt]>>(Rt+=this.DB-R)):(hA=this[rt]>>(Rt-=R)&W,Rt<=0&&(Rt+=this.DB,--rt)),hA>0&&(de=!0),de&&(Fe+=f(hA));return de?Fe:"0"}function I(){var D=a();return r.ZERO.subTo(this,D),D}function q(){return this.s<0?this.negate():this}function K(D){var R=this.s-D.s;if(R!=0)return R;var W=this.t;if(R=W-D.t,R!=0)return this.s<0?-R:R;for(;--W>=0;)if((R=this[W]-D[W])!=0)return R;return 0}function aA(D){var R=1,W;return(W=D>>>16)!=0&&(D=W,R+=16),(W=D>>8)!=0&&(D=W,R+=8),(W=D>>4)!=0&&(D=W,R+=4),(W=D>>2)!=0&&(D=W,R+=2),(W=D>>1)!=0&&(D=W,R+=1),R}function nA(){return this.t<=0?0:this.DB*(this.t-1)+aA(this[this.t-1]^this.s&this.DM)}function lA(D,R){var W;for(W=this.t-1;W>=0;--W)R[W+D]=this[W];for(W=D-1;W>=0;--W)R[W]=0;R.t=this.t+D,R.s=this.s}function qA(D,R){for(var W=D;W<this.t;++W)R[W-D]=this[W];R.t=Math.max(this.t-D,0),R.s=this.s}function UA(D,R){var W=D%this.DB,hA=this.DB-W,de=(1<<hA)-1,Fe=Math.floor(D/this.DB),rt=this.s<<W&this.DM,Rt;for(Rt=this.t-1;Rt>=0;--Rt)R[Rt+Fe+1]=this[Rt]>>hA|rt,rt=(this[Rt]&de)<<W;for(Rt=Fe-1;Rt>=0;--Rt)R[Rt]=0;R[Fe]=rt,R.t=this.t+Fe+1,R.s=this.s,R.clamp()}function le(D,R){R.s=this.s;var W=Math.floor(D/this.DB);if(W>=this.t){R.t=0;return}var hA=D%this.DB,de=this.DB-hA,Fe=(1<<hA)-1;R[0]=this[W]>>hA;for(var rt=W+1;rt<this.t;++rt)R[rt-W-1]|=(this[rt]&Fe)<<de,R[rt-W]=this[rt]>>hA;hA>0&&(R[this.t-W-1]|=(this.s&Fe)<<de),R.t=this.t-W,R.clamp()}function yA(D,R){for(var W=0,hA=0,de=Math.min(D.t,this.t);W<de;)hA+=this[W]-D[W],R[W++]=hA&this.DM,hA>>=this.DB;if(D.t<this.t){for(hA-=D.s;W<this.t;)hA+=this[W],R[W++]=hA&this.DM,hA>>=this.DB;hA+=this.s}else{for(hA+=this.s;W<D.t;)hA-=D[W],R[W++]=hA&this.DM,hA>>=this.DB;hA-=D.s}R.s=hA<0?-1:0,hA<-1?R[W++]=this.DV+hA:hA>0&&(R[W++]=hA),R.t=W,R.clamp()}function we(D,R){var W=this.abs(),hA=D.abs(),de=W.t;for(R.t=de+hA.t;--de>=0;)R[de]=0;for(de=0;de<hA.t;++de)R[de+W.t]=W.am(0,hA[de],R,de,0,W.t);R.s=0,R.clamp(),this.s!=D.s&&r.ZERO.subTo(R,R)}function ge(D){for(var R=this.abs(),W=D.t=2*R.t;--W>=0;)D[W]=0;for(W=0;W<R.t-1;++W){var hA=R.am(W,R[W],D,2*W,0,1);(D[W+R.t]+=R.am(W+1,2*R[W],D,2*W+1,hA,R.t-W-1))>=R.DV&&(D[W+R.t]-=R.DV,D[W+R.t+1]=1)}D.t>0&&(D[D.t-1]+=R.am(W,R[W],D,2*W,0,1)),D.s=0,D.clamp()}function ot(D,R,W){var hA=D.abs();if(!(hA.t<=0)){var de=this.abs();if(de.t<hA.t){R?.fromInt(0),W!=null&&this.copyTo(W);return}W==null&&(W=a());var Fe=a(),rt=this.s,Rt=D.s,An=this.DB-aA(hA[hA.t-1]);An>0?(hA.lShiftTo(An,Fe),de.lShiftTo(An,W)):(hA.copyTo(Fe),de.copyTo(W));var Ji=Fe.t,Ws=Fe[Ji-1];if(Ws!=0){var Js=Ws*(1<<this.F1)+(Ji>1?Fe[Ji-2]>>this.F2:0),Uc=this.FV/Js,Qg=(1<<this.F1)/Js,j6=1<<this.F2,Ys=W.t,Af=Ys-Ji,Nu=R??a();for(Fe.dlShiftTo(Af,Nu),W.compareTo(Nu)>=0&&(W[W.t++]=1,W.subTo(Nu,W)),r.ONE.dlShiftTo(Ji,Nu),Nu.subTo(Fe,Fe);Fe.t<Ji;)Fe[Fe.t++]=0;for(;--Af>=0;){var vx=W[--Ys]==Ws?this.DM:Math.floor(W[Ys]*Uc+(W[Ys-1]+j6)*Qg);if((W[Ys]+=Fe.am(0,vx,W,Af,0,Ji))<vx)for(Fe.dlShiftTo(Af,Nu),W.subTo(Nu,W);W[Ys]<--vx;)W.subTo(Nu,W)}R!=null&&(W.drShiftTo(Ji,R),rt!=Rt&&r.ZERO.subTo(R,R)),W.t=Ji,W.clamp(),An>0&&W.rShiftTo(An,W),rt<0&&r.ZERO.subTo(W,W)}}}function ue(D){var R=a();return this.abs().divRemTo(D,null,R),this.s<0&&R.compareTo(r.ZERO)>0&&D.subTo(R,R),R}function IA(D){this.m=D}function ne(D){return D.s<0||D.compareTo(this.m)>=0?D.mod(this.m):D}function HA(D){return D}function KA(D){D.divRemTo(this.m,null,D)}function XA(D,R,W){D.multiplyTo(R,W),this.reduce(W)}function st(D,R){D.squareTo(R),this.reduce(R)}IA.prototype.convert=ne,IA.prototype.revert=HA,IA.prototype.reduce=KA,IA.prototype.mulTo=XA,IA.prototype.sqrTo=st;function or(){if(this.t<1)return 0;var D=this[0];if(!(D&1))return 0;var R=D&3;return R=R*(2-(D&15)*R)&15,R=R*(2-(D&255)*R)&255,R=R*(2-((D&65535)*R&65535))&65535,R=R*(2-D*R%this.DV)%this.DV,R>0?this.DV-R:-R}function ve(D){this.m=D,this.mp=D.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<D.DB-15)-1,this.mt2=2*D.t}function gt(D){var R=a();return D.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),D.s<0&&R.compareTo(r.ZERO)>0&&this.m.subTo(R,R),R}function Ge(D){var R=a();return D.copyTo(R),this.reduce(R),R}function It(D){for(;D.t<=this.mt2;)D[D.t++]=0;for(var R=0;R<this.m.t;++R){var W=D[R]&32767,hA=W*this.mpl+((W*this.mph+(D[R]>>15)*this.mpl&this.um)<<15)&D.DM;for(W=R+this.m.t,D[W]+=this.m.am(0,hA,D,R,0,this.m.t);D[W]>=D.DV;)D[W]-=D.DV,D[++W]++}D.clamp(),D.drShiftTo(this.m.t,D),D.compareTo(this.m)>=0&&D.subTo(this.m,D)}function wt(D,R){D.squareTo(R),this.reduce(R)}function ar(D,R,W){D.multiplyTo(R,W),this.reduce(W)}ve.prototype.convert=gt,ve.prototype.revert=Ge,ve.prototype.reduce=It,ve.prototype.mulTo=ar,ve.prototype.sqrTo=wt;function Ot(){return(this.t>0?this[0]&1:this.s)==0}function zr(D,R){if(D>4294967295||D<1)return r.ONE;var W=a(),hA=a(),de=R.convert(this),Fe=aA(D)-1;for(de.copyTo(W);--Fe>=0;)if(R.sqrTo(W,hA),(D&1<<Fe)>0)R.mulTo(hA,de,W);else{var rt=W;W=hA,hA=rt}return R.revert(W)}function Ba(D,R){var W;return D<256||R.isEven()?W=new IA(R):W=new ve(R),this.exp(D,W)}r.prototype.copyTo=w,r.prototype.fromInt=y,r.prototype.fromString=$,r.prototype.clamp=T,r.prototype.dlShiftTo=lA,r.prototype.drShiftTo=qA,r.prototype.lShiftTo=UA,r.prototype.rShiftTo=le,r.prototype.subTo=yA,r.prototype.multiplyTo=we,r.prototype.squareTo=ge,r.prototype.divRemTo=ot,r.prototype.invDigit=or,r.prototype.isEven=Ot,r.prototype.exp=zr,r.prototype.toString=O,r.prototype.negate=I,r.prototype.abs=q,r.prototype.compareTo=K,r.prototype.bitLength=nA,r.prototype.mod=ue,r.prototype.modPowInt=Ba,r.ZERO=E(0),r.ONE=E(1);function rj(){var D=a();return this.copyTo(D),D}function aj(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function cj(){return this.t==0?this.s:this[0]<<24>>24}function er(){return this.t==0?this.s:this[0]<<16>>16}function pr(D){return Math.floor(Math.LN2*this.DB/Math.log(D))}function ua(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function pn(D){if(D==null&&(D=10),this.signum()==0||D<2||D>36)return"0";var R=this.chunkSize(D),W=Math.pow(D,R),hA=E(W),de=a(),Fe=a(),rt="";for(this.divRemTo(hA,de,Fe);de.signum()>0;)rt=(W+Fe.intValue()).toString(D).substr(1)+rt,de.divRemTo(hA,de,Fe);return Fe.intValue().toString(D)+rt}function ft(D,R){this.fromInt(0),R==null&&(R=10);for(var W=this.chunkSize(R),hA=Math.pow(R,W),de=!1,Fe=0,rt=0,Rt=0;Rt<D.length;++Rt){var An=G(D,Rt);if(An<0){D.charAt(Rt)=="-"&&this.signum()==0&&(de=!0);continue}rt=R*rt+An,++Fe>=W&&(this.dMultiply(hA),this.dAddOffset(rt,0),Fe=0,rt=0)}Fe>0&&(this.dMultiply(Math.pow(R,Fe)),this.dAddOffset(rt,0)),de&&r.ZERO.subTo(this,this)}function pA(D,R,W){if(typeof R=="number")if(D<2)this.fromInt(1);else for(this.fromNumber(D,W),this.testBit(D-1)||this.bitwiseTo(r.ONE.shiftLeft(D-1),dA,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>D&&this.subTo(r.ONE.shiftLeft(D-1),this);else{var hA=new Array,de=D&7;hA.length=(D>>3)+1,R.nextBytes(hA),de>0?hA[0]&=(1<<de)-1:hA[0]=0,this.fromString(hA,256)}}function wA(){var D=this.t,R=new Array;R[0]=this.s;var W=this.DB-D*this.DB%8,hA,de=0;if(D-- >0)for(W<this.DB&&(hA=this[D]>>W)!=(this.s&this.DM)>>W&&(R[de++]=hA|this.s<<this.DB-W);D>=0;)W<8?(hA=(this[D]&(1<<W)-1)<<8-W,hA|=this[--D]>>(W+=this.DB-8)):(hA=this[D]>>(W-=8)&255,W<=0&&(W+=this.DB,--D)),hA&128&&(hA|=-256),de==0&&(this.s&128)!=(hA&128)&&++de,(de>0||hA!=this.s)&&(R[de++]=hA);return R}function JA(D){return this.compareTo(D)==0}function Me(D){return this.compareTo(D)<0?this:D}function Se(D){return this.compareTo(D)>0?this:D}function _t(D,R,W){var hA,de,Fe=Math.min(D.t,this.t);for(hA=0;hA<Fe;++hA)W[hA]=R(this[hA],D[hA]);if(D.t<this.t){for(de=D.s&this.DM,hA=Fe;hA<this.t;++hA)W[hA]=R(this[hA],de);W.t=this.t}else{for(de=this.s&this.DM,hA=Fe;hA<D.t;++hA)W[hA]=R(de,D[hA]);W.t=D.t}W.s=R(this.s,D.s),W.clamp()}function qe(D,R){return D&R}function BA(D){var R=a();return this.bitwiseTo(D,qe,R),R}function dA(D,R){return D|R}function DA(D){var R=a();return this.bitwiseTo(D,dA,R),R}function jt(D,R){return D^R}function Ga(D){var R=a();return this.bitwiseTo(D,jt,R),R}function Pi(D,R){return D&~R}function Bs(D){var R=a();return this.bitwiseTo(D,Pi,R),R}function bj(){for(var D=a(),R=0;R<this.t;++R)D[R]=this.DM&~this[R];return D.t=this.t,D.s=~this.s,D}function gi(D){var R=a();return D<0?this.rShiftTo(-D,R):this.lShiftTo(D,R),R}function fi(D){var R=a();return D<0?this.lShiftTo(-D,R):this.rShiftTo(D,R),R}function jm(D){if(D==0)return-1;var R=0;return D&65535||(D>>=16,R+=16),D&255||(D>>=8,R+=8),D&15||(D>>=4,R+=4),D&3||(D>>=2,R+=2),D&1||++R,R}function Nc(){for(var D=0;D<this.t;++D)if(this[D]!=0)return D*this.DB+jm(this[D]);return this.s<0?this.t*this.DB:-1}function Ft(D){for(var R=0;D!=0;)D&=D-1,++R;return R}function a6(){for(var D=0,R=this.s&this.DM,W=0;W<this.t;++W)D+=Ft(this[W]^R);return D}function Gl(D){var R=Math.floor(D/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<D%this.DB)!=0}function _o(D,R){var W=r.ONE.shiftLeft(D);return this.bitwiseTo(W,R,W),W}function Si(D){return this.changeBit(D,dA)}function da(D){return this.changeBit(D,Pi)}function _6(D){return this.changeBit(D,jt)}function Lr(D,R){for(var W=0,hA=0,de=Math.min(D.t,this.t);W<de;)hA+=this[W]+D[W],R[W++]=hA&this.DM,hA>>=this.DB;if(D.t<this.t){for(hA+=D.s;W<this.t;)hA+=this[W],R[W++]=hA&this.DM,hA>>=this.DB;hA+=this.s}else{for(hA+=this.s;W<D.t;)hA+=D[W],R[W++]=hA&this.DM,hA>>=this.DB;hA+=D.s}R.s=hA<0?-1:0,hA>0?R[W++]=hA:hA<-1&&(R[W++]=this.DV+hA),R.t=W,R.clamp()}function ts(D){var R=a();return this.addTo(D,R),R}function C(D){var R=a();return this.subTo(D,R),R}function H(D){var R=a();return this.multiplyTo(D,R),R}function L(){var D=a();return this.squareTo(D),D}function B(D){var R=a();return this.divRemTo(D,R,null),R}function Y(D){var R=a();return this.divRemTo(D,null,R),R}function xA(D){var R=a(),W=a();return this.divRemTo(D,R,W),new Array(R,W)}function PA(D){this[this.t]=this.am(0,D-1,this,0,0,this.t),++this.t,this.clamp()}function _(D,R){if(D!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=D;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}}function U(){}function tA(D){return D}function J(D,R,W){D.multiplyTo(R,W)}function vA(D,R){D.squareTo(R)}U.prototype.convert=tA,U.prototype.revert=tA,U.prototype.mulTo=J,U.prototype.sqrTo=vA;function gA(D){return this.exp(D,new U)}function zA(D,R,W){var hA=Math.min(this.t+D.t,R);for(W.s=0,W.t=hA;hA>0;)W[--hA]=0;var de;for(de=W.t-this.t;hA<de;++hA)W[hA+this.t]=this.am(0,D[hA],W,hA,0,this.t);for(de=Math.min(D.t,R);hA<de;++hA)this.am(0,D[hA],W,hA,0,R-hA);W.clamp()}function bA(D,R,W){--R;var hA=W.t=this.t+D.t-R;for(W.s=0;--hA>=0;)W[hA]=0;for(hA=Math.max(R-this.t,0);hA<D.t;++hA)W[this.t+hA-R]=this.am(R-hA,D[hA],W,0,0,this.t+hA-R);W.clamp(),W.drShiftTo(1,W)}function ee(D){this.r2=a(),this.q3=a(),r.ONE.dlShiftTo(2*D.t,this.r2),this.mu=this.r2.divide(D),this.m=D}function Ce(D){if(D.s<0||D.t>2*this.m.t)return D.mod(this.m);if(D.compareTo(this.m)<0)return D;var R=a();return D.copyTo(R),this.reduce(R),R}function et(D){return D}function at(D){for(D.drShiftTo(this.m.t-1,this.r2),D.t>this.m.t+1&&(D.t=this.m.t+1,D.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);D.compareTo(this.r2)<0;)D.dAddOffset(1,this.m.t+1);for(D.subTo(this.r2,D);D.compareTo(this.m)>=0;)D.subTo(this.m,D)}function Bt(D,R){D.squareTo(R),this.reduce(R)}function De(D,R,W){D.multiplyTo(R,W),this.reduce(W)}ee.prototype.convert=Ce,ee.prototype.revert=et,ee.prototype.reduce=at,ee.prototype.mulTo=De,ee.prototype.sqrTo=Bt;function Gt(D,R){var W=D.bitLength(),hA,de=E(1),Fe;if(W<=0)return de;W<18?hA=1:W<48?hA=3:W<144?hA=4:W<768?hA=5:hA=6,W<8?Fe=new IA(R):R.isEven()?Fe=new ee(R):Fe=new ve(R);var rt=new Array,Rt=3,An=hA-1,Ji=(1<<hA)-1;if(rt[1]=Fe.convert(this),hA>1){var Ws=a();for(Fe.sqrTo(rt[1],Ws);Rt<=Ji;)rt[Rt]=a(),Fe.mulTo(Ws,rt[Rt-2],rt[Rt]),Rt+=2}var Js=D.t-1,Uc,Qg=!0,j6=a(),Ys;for(W=aA(D[Js])-1;Js>=0;){for(W>=An?Uc=D[Js]>>W-An&Ji:(Uc=(D[Js]&(1<<W+1)-1)<<An-W,Js>0&&(Uc|=D[Js-1]>>this.DB+W-An)),Rt=hA;!(Uc&1);)Uc>>=1,--Rt;if((W-=Rt)<0&&(W+=this.DB,--Js),Qg)rt[Uc].copyTo(de),Qg=!1;else{for(;Rt>1;)Fe.sqrTo(de,j6),Fe.sqrTo(j6,de),Rt-=2;Rt>0?Fe.sqrTo(de,j6):(Ys=de,de=j6,j6=Ys),Fe.mulTo(j6,rt[Uc],de)}for(;Js>=0&&!(D[Js]&1<<W);)Fe.sqrTo(de,j6),Ys=de,de=j6,j6=Ys,--W<0&&(W=this.DB-1,--Js)}return Fe.revert(de)}function tt(D){var R=this.s<0?this.negate():this.clone(),W=D.s<0?D.negate():D.clone();if(R.compareTo(W)<0){var hA=R;R=W,W=hA}var de=R.getLowestSetBit(),Fe=W.getLowestSetBit();if(Fe<0)return R;for(de<Fe&&(Fe=de),Fe>0&&(R.rShiftTo(Fe,R),W.rShiftTo(Fe,W));R.signum()>0;)(de=R.getLowestSetBit())>0&&R.rShiftTo(de,R),(de=W.getLowestSetBit())>0&&W.rShiftTo(de,W),R.compareTo(W)>=0?(R.subTo(W,R),R.rShiftTo(1,R)):(W.subTo(R,W),W.rShiftTo(1,W));return Fe>0&&W.lShiftTo(Fe,W),W}function Et(D){if(D<=0)return 0;var R=this.DV%D,W=this.s<0?D-1:0;if(this.t>0)if(R==0)W=this[0]%D;else for(var hA=this.t-1;hA>=0;--hA)W=(R*W+this[hA])%D;return W}function Ut(D){var R=D.isEven();if(this.isEven()&&R||D.signum()==0)return r.ZERO;for(var W=D.clone(),hA=this.clone(),de=E(1),Fe=E(0),rt=E(0),Rt=E(1);W.signum()!=0;){for(;W.isEven();)W.rShiftTo(1,W),R?((!de.isEven()||!Fe.isEven())&&(de.addTo(this,de),Fe.subTo(D,Fe)),de.rShiftTo(1,de)):Fe.isEven()||Fe.subTo(D,Fe),Fe.rShiftTo(1,Fe);for(;hA.isEven();)hA.rShiftTo(1,hA),R?((!rt.isEven()||!Rt.isEven())&&(rt.addTo(this,rt),Rt.subTo(D,Rt)),rt.rShiftTo(1,rt)):Rt.isEven()||Rt.subTo(D,Rt),Rt.rShiftTo(1,Rt);W.compareTo(hA)>=0?(W.subTo(hA,W),R&&de.subTo(rt,de),Fe.subTo(Rt,Fe)):(hA.subTo(W,hA),R&&rt.subTo(de,rt),Rt.subTo(Fe,Rt))}if(hA.compareTo(r.ONE)!=0)return r.ZERO;if(Rt.compareTo(D)>=0)return Rt.subtract(D);if(Rt.signum()<0)Rt.addTo(D,Rt);else return Rt;return Rt.signum()<0?Rt.add(D):Rt}var lt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],re=(1<<26)/lt[lt.length-1];function je(D){var R,W=this.abs();if(W.t==1&&W[0]<=lt[lt.length-1]){for(R=0;R<lt.length;++R)if(W[0]==lt[R])return!0;return!1}if(W.isEven())return!1;for(R=1;R<lt.length;){for(var hA=lt[R],de=R+1;de<lt.length&&hA<re;)hA*=lt[de++];for(hA=W.modInt(hA);R<de;)if(hA%lt[R++]==0)return!1}return W.millerRabin(D)}function He(D){var R=this.subtract(r.ONE),W=R.getLowestSetBit();if(W<=0)return!1;var hA=R.shiftRight(W);D=D+1>>1,D>lt.length&&(D=lt.length);for(var de=a(),Fe=0;Fe<D;++Fe){de.fromInt(lt[Math.floor(Math.random()*lt.length)]);var rt=de.modPow(hA,this);if(rt.compareTo(r.ONE)!=0&&rt.compareTo(R)!=0){for(var Rt=1;Rt++<W&&rt.compareTo(R)!=0;)if(rt=rt.modPowInt(2,this),rt.compareTo(r.ONE)==0)return!1;if(rt.compareTo(R)!=0)return!1}}return!0}r.prototype.chunkSize=pr,r.prototype.toRadix=pn,r.prototype.fromRadix=ft,r.prototype.fromNumber=pA,r.prototype.bitwiseTo=_t,r.prototype.changeBit=_o,r.prototype.addTo=Lr,r.prototype.dMultiply=PA,r.prototype.dAddOffset=_,r.prototype.multiplyLowerTo=zA,r.prototype.multiplyUpperTo=bA,r.prototype.modInt=Et,r.prototype.millerRabin=He,r.prototype.clone=rj,r.prototype.intValue=aj,r.prototype.byteValue=cj,r.prototype.shortValue=er,r.prototype.signum=ua,r.prototype.toByteArray=wA,r.prototype.equals=JA,r.prototype.min=Me,r.prototype.max=Se,r.prototype.and=BA,r.prototype.or=DA,r.prototype.xor=Ga,r.prototype.andNot=Bs,r.prototype.not=bj,r.prototype.shiftLeft=gi,r.prototype.shiftRight=fi,r.prototype.getLowestSetBit=Nc,r.prototype.bitCount=a6,r.prototype.testBit=Gl,r.prototype.setBit=Si,r.prototype.clearBit=da,r.prototype.flipBit=_6,r.prototype.add=ts,r.prototype.subtract=C,r.prototype.multiply=H,r.prototype.divide=B,r.prototype.remainder=Y,r.prototype.divideAndRemainder=xA,r.prototype.modPow=Gt,r.prototype.modInverse=Ut,r.prototype.pow=gA,r.prototype.gcd=tt,r.prototype.isProbablePrime=je,r.prototype.square=L,r.prototype.Barrett=ee;var xe,pe,ye;function gr(D){pe[ye++]^=D&255,pe[ye++]^=D>>8&255,pe[ye++]^=D>>16&255,pe[ye++]^=D>>24&255,ye>=za&&(ye-=za)}function Nr(){gr(new Date().getTime())}if(pe==null){pe=new Array,ye=0;var kr;if(typeof window<"u"&&window.crypto){if(window.crypto.getRandomValues){var Ur=new Uint8Array(32);for(window.crypto.getRandomValues(Ur),kr=0;kr<32;++kr)pe[ye++]=Ur[kr]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var cA=window.crypto.random(32);for(kr=0;kr<cA.length;++kr)pe[ye++]=cA.charCodeAt(kr)&255}}for(;ye<za;)kr=Math.floor(65536*Math.random()),pe[ye++]=kr>>>8,pe[ye++]=kr&255;ye=0,Nr()}function ma(){if(xe==null){for(Nr(),xe=kn(),xe.init(pe),ye=0;ye<pe.length;++ye)pe[ye]=0;ye=0}return xe.next()}function wa(D){var R;for(R=0;R<D.length;++R)D[R]=ma()}function pa(){}pa.prototype.nextBytes=wa;function Zr(){this.i=0,this.j=0,this.S=new Array}function Ea(D){var R,W,hA;for(R=0;R<256;++R)this.S[R]=R;for(W=0,R=0;R<256;++R)W=W+this.S[R]+D[R%D.length]&255,hA=this.S[R],this.S[R]=this.S[W],this.S[W]=hA;this.i=0,this.j=0}function Hr(){var D;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,D=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=D,this.S[D+this.S[this.i]&255]}Zr.prototype.init=Ea,Zr.prototype.next=Hr;function kn(){return new Zr}var za=256;r.SecureRandom=pa,r.BigInteger=r,typeof ZM<"u"?ZM=hIA.exports=r:(this.BigInteger=r,this.SecureRandom=pa)}).call(ZM)});var c4A=mA(()=>{});var u4A=mA((Jzt,qR)=>{(function(A){"use strict";var e=function(C){var H,L=new Float64Array(16);if(C)for(H=0;H<C.length;H++)L[H]=C[H];return L},t=function(){throw new Error("no PRNG")},r=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var j=e(),n=e([1]),i=e([56129,1]),o=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(C,H,L,B){C[H]=L>>24&255,C[H+1]=L>>16&255,C[H+2]=L>>8&255,C[H+3]=L&255,C[H+4]=B>>24&255,C[H+5]=B>>16&255,C[H+6]=B>>8&255,C[H+7]=B&255}function f(C,H,L,B,Y){var xA,PA=0;for(xA=0;xA<Y;xA++)PA|=C[H+xA]^L[B+xA];return(1&PA-1>>>8)-1}function G(C,H,L,B){return f(C,H,L,B,16)}function w(C,H,L,B){return f(C,H,L,B,32)}function y(C,H,L,B){for(var Y=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,xA=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,PA=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,_=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,U=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,tA=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,J=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,vA=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,gA=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,zA=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,bA=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,ee=L[16]&255|(L[17]&255)<<8|(L[18]&255)<<16|(L[19]&255)<<24,Ce=L[20]&255|(L[21]&255)<<8|(L[22]&255)<<16|(L[23]&255)<<24,et=L[24]&255|(L[25]&255)<<8|(L[26]&255)<<16|(L[27]&255)<<24,at=L[28]&255|(L[29]&255)<<8|(L[30]&255)<<16|(L[31]&255)<<24,Bt=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,De=Y,Gt=xA,tt=PA,Et=_,Ut=U,lt=tA,re=J,je=vA,He=gA,xe=zA,pe=bA,ye=ee,gr=Ce,Nr=et,kr=at,Ur=Bt,cA,ma=0;ma<20;ma+=2)cA=De+gr|0,Ut^=cA<<7|cA>>>25,cA=Ut+De|0,He^=cA<<9|cA>>>23,cA=He+Ut|0,gr^=cA<<13|cA>>>19,cA=gr+He|0,De^=cA<<18|cA>>>14,cA=lt+Gt|0,xe^=cA<<7|cA>>>25,cA=xe+lt|0,Nr^=cA<<9|cA>>>23,cA=Nr+xe|0,Gt^=cA<<13|cA>>>19,cA=Gt+Nr|0,lt^=cA<<18|cA>>>14,cA=pe+re|0,kr^=cA<<7|cA>>>25,cA=kr+pe|0,tt^=cA<<9|cA>>>23,cA=tt+kr|0,re^=cA<<13|cA>>>19,cA=re+tt|0,pe^=cA<<18|cA>>>14,cA=Ur+ye|0,Et^=cA<<7|cA>>>25,cA=Et+Ur|0,je^=cA<<9|cA>>>23,cA=je+Et|0,ye^=cA<<13|cA>>>19,cA=ye+je|0,Ur^=cA<<18|cA>>>14,cA=De+Et|0,Gt^=cA<<7|cA>>>25,cA=Gt+De|0,tt^=cA<<9|cA>>>23,cA=tt+Gt|0,Et^=cA<<13|cA>>>19,cA=Et+tt|0,De^=cA<<18|cA>>>14,cA=lt+Ut|0,re^=cA<<7|cA>>>25,cA=re+lt|0,je^=cA<<9|cA>>>23,cA=je+re|0,Ut^=cA<<13|cA>>>19,cA=Ut+je|0,lt^=cA<<18|cA>>>14,cA=pe+xe|0,ye^=cA<<7|cA>>>25,cA=ye+pe|0,He^=cA<<9|cA>>>23,cA=He+ye|0,xe^=cA<<13|cA>>>19,cA=xe+He|0,pe^=cA<<18|cA>>>14,cA=Ur+kr|0,gr^=cA<<7|cA>>>25,cA=gr+Ur|0,Nr^=cA<<9|cA>>>23,cA=Nr+gr|0,kr^=cA<<13|cA>>>19,cA=kr+Nr|0,Ur^=cA<<18|cA>>>14;De=De+Y|0,Gt=Gt+xA|0,tt=tt+PA|0,Et=Et+_|0,Ut=Ut+U|0,lt=lt+tA|0,re=re+J|0,je=je+vA|0,He=He+gA|0,xe=xe+zA|0,pe=pe+bA|0,ye=ye+ee|0,gr=gr+Ce|0,Nr=Nr+et|0,kr=kr+at|0,Ur=Ur+Bt|0,C[0]=De>>>0&255,C[1]=De>>>8&255,C[2]=De>>>16&255,C[3]=De>>>24&255,C[4]=Gt>>>0&255,C[5]=Gt>>>8&255,C[6]=Gt>>>16&255,C[7]=Gt>>>24&255,C[8]=tt>>>0&255,C[9]=tt>>>8&255,C[10]=tt>>>16&255,C[11]=tt>>>24&255,C[12]=Et>>>0&255,C[13]=Et>>>8&255,C[14]=Et>>>16&255,C[15]=Et>>>24&255,C[16]=Ut>>>0&255,C[17]=Ut>>>8&255,C[18]=Ut>>>16&255,C[19]=Ut>>>24&255,C[20]=lt>>>0&255,C[21]=lt>>>8&255,C[22]=lt>>>16&255,C[23]=lt>>>24&255,C[24]=re>>>0&255,C[25]=re>>>8&255,C[26]=re>>>16&255,C[27]=re>>>24&255,C[28]=je>>>0&255,C[29]=je>>>8&255,C[30]=je>>>16&255,C[31]=je>>>24&255,C[32]=He>>>0&255,C[33]=He>>>8&255,C[34]=He>>>16&255,C[35]=He>>>24&255,C[36]=xe>>>0&255,C[37]=xe>>>8&255,C[38]=xe>>>16&255,C[39]=xe>>>24&255,C[40]=pe>>>0&255,C[41]=pe>>>8&255,C[42]=pe>>>16&255,C[43]=pe>>>24&255,C[44]=ye>>>0&255,C[45]=ye>>>8&255,C[46]=ye>>>16&255,C[47]=ye>>>24&255,C[48]=gr>>>0&255,C[49]=gr>>>8&255,C[50]=gr>>>16&255,C[51]=gr>>>24&255,C[52]=Nr>>>0&255,C[53]=Nr>>>8&255,C[54]=Nr>>>16&255,C[55]=Nr>>>24&255,C[56]=kr>>>0&255,C[57]=kr>>>8&255,C[58]=kr>>>16&255,C[59]=kr>>>24&255,C[60]=Ur>>>0&255,C[61]=Ur>>>8&255,C[62]=Ur>>>16&255,C[63]=Ur>>>24&255}function E(C,H,L,B){for(var Y=B[0]&255|(B[1]&255)<<8|(B[2]&255)<<16|(B[3]&255)<<24,xA=L[0]&255|(L[1]&255)<<8|(L[2]&255)<<16|(L[3]&255)<<24,PA=L[4]&255|(L[5]&255)<<8|(L[6]&255)<<16|(L[7]&255)<<24,_=L[8]&255|(L[9]&255)<<8|(L[10]&255)<<16|(L[11]&255)<<24,U=L[12]&255|(L[13]&255)<<8|(L[14]&255)<<16|(L[15]&255)<<24,tA=B[4]&255|(B[5]&255)<<8|(B[6]&255)<<16|(B[7]&255)<<24,J=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,vA=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,gA=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,zA=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,bA=B[8]&255|(B[9]&255)<<8|(B[10]&255)<<16|(B[11]&255)<<24,ee=L[16]&255|(L[17]&255)<<8|(L[18]&255)<<16|(L[19]&255)<<24,Ce=L[20]&255|(L[21]&255)<<8|(L[22]&255)<<16|(L[23]&255)<<24,et=L[24]&255|(L[25]&255)<<8|(L[26]&255)<<16|(L[27]&255)<<24,at=L[28]&255|(L[29]&255)<<8|(L[30]&255)<<16|(L[31]&255)<<24,Bt=B[12]&255|(B[13]&255)<<8|(B[14]&255)<<16|(B[15]&255)<<24,De=Y,Gt=xA,tt=PA,Et=_,Ut=U,lt=tA,re=J,je=vA,He=gA,xe=zA,pe=bA,ye=ee,gr=Ce,Nr=et,kr=at,Ur=Bt,cA,ma=0;ma<20;ma+=2)cA=De+gr|0,Ut^=cA<<7|cA>>>25,cA=Ut+De|0,He^=cA<<9|cA>>>23,cA=He+Ut|0,gr^=cA<<13|cA>>>19,cA=gr+He|0,De^=cA<<18|cA>>>14,cA=lt+Gt|0,xe^=cA<<7|cA>>>25,cA=xe+lt|0,Nr^=cA<<9|cA>>>23,cA=Nr+xe|0,Gt^=cA<<13|cA>>>19,cA=Gt+Nr|0,lt^=cA<<18|cA>>>14,cA=pe+re|0,kr^=cA<<7|cA>>>25,cA=kr+pe|0,tt^=cA<<9|cA>>>23,cA=tt+kr|0,re^=cA<<13|cA>>>19,cA=re+tt|0,pe^=cA<<18|cA>>>14,cA=Ur+ye|0,Et^=cA<<7|cA>>>25,cA=Et+Ur|0,je^=cA<<9|cA>>>23,cA=je+Et|0,ye^=cA<<13|cA>>>19,cA=ye+je|0,Ur^=cA<<18|cA>>>14,cA=De+Et|0,Gt^=cA<<7|cA>>>25,cA=Gt+De|0,tt^=cA<<9|cA>>>23,cA=tt+Gt|0,Et^=cA<<13|cA>>>19,cA=Et+tt|0,De^=cA<<18|cA>>>14,cA=lt+Ut|0,re^=cA<<7|cA>>>25,cA=re+lt|0,je^=cA<<9|cA>>>23,cA=je+re|0,Ut^=cA<<13|cA>>>19,cA=Ut+je|0,lt^=cA<<18|cA>>>14,cA=pe+xe|0,ye^=cA<<7|cA>>>25,cA=ye+pe|0,He^=cA<<9|cA>>>23,cA=He+ye|0,xe^=cA<<13|cA>>>19,cA=xe+He|0,pe^=cA<<18|cA>>>14,cA=Ur+kr|0,gr^=cA<<7|cA>>>25,cA=gr+Ur|0,Nr^=cA<<9|cA>>>23,cA=Nr+gr|0,kr^=cA<<13|cA>>>19,cA=kr+Nr|0,Ur^=cA<<18|cA>>>14;C[0]=De>>>0&255,C[1]=De>>>8&255,C[2]=De>>>16&255,C[3]=De>>>24&255,C[4]=lt>>>0&255,C[5]=lt>>>8&255,C[6]=lt>>>16&255,C[7]=lt>>>24&255,C[8]=pe>>>0&255,C[9]=pe>>>8&255,C[10]=pe>>>16&255,C[11]=pe>>>24&255,C[12]=Ur>>>0&255,C[13]=Ur>>>8&255,C[14]=Ur>>>16&255,C[15]=Ur>>>24&255,C[16]=re>>>0&255,C[17]=re>>>8&255,C[18]=re>>>16&255,C[19]=re>>>24&255,C[20]=je>>>0&255,C[21]=je>>>8&255,C[22]=je>>>16&255,C[23]=je>>>24&255,C[24]=He>>>0&255,C[25]=He>>>8&255,C[26]=He>>>16&255,C[27]=He>>>24&255,C[28]=xe>>>0&255,C[29]=xe>>>8&255,C[30]=xe>>>16&255,C[31]=xe>>>24&255}function $(C,H,L,B){y(C,H,L,B)}function T(C,H,L,B){E(C,H,L,B)}var O=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function I(C,H,L,B,Y,xA,PA){var _=new Uint8Array(16),U=new Uint8Array(64),tA,J;for(J=0;J<16;J++)_[J]=0;for(J=0;J<8;J++)_[J]=xA[J];for(;Y>=64;){for($(U,_,PA,O),J=0;J<64;J++)C[H+J]=L[B+J]^U[J];for(tA=1,J=8;J<16;J++)tA=tA+(_[J]&255)|0,_[J]=tA&255,tA>>>=8;Y-=64,H+=64,B+=64}if(Y>0)for($(U,_,PA,O),J=0;J<Y;J++)C[H+J]=L[B+J]^U[J];return 0}function q(C,H,L,B,Y){var xA=new Uint8Array(16),PA=new Uint8Array(64),_,U;for(U=0;U<16;U++)xA[U]=0;for(U=0;U<8;U++)xA[U]=B[U];for(;L>=64;){for($(PA,xA,Y,O),U=0;U<64;U++)C[H+U]=PA[U];for(_=1,U=8;U<16;U++)_=_+(xA[U]&255)|0,xA[U]=_&255,_>>>=8;L-=64,H+=64}if(L>0)for($(PA,xA,Y,O),U=0;U<L;U++)C[H+U]=PA[U];return 0}function K(C,H,L,B,Y){var xA=new Uint8Array(32);T(xA,B,Y,O);for(var PA=new Uint8Array(8),_=0;_<8;_++)PA[_]=B[_+16];return q(C,H,L,PA,xA)}function aA(C,H,L,B,Y,xA,PA){var _=new Uint8Array(32);T(_,xA,PA,O);for(var U=new Uint8Array(8),tA=0;tA<8;tA++)U[tA]=xA[tA+16];return I(C,H,L,B,Y,U,_)}var nA=function(C){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var H,L,B,Y,xA,PA,_,U;H=C[0]&255|(C[1]&255)<<8,this.r[0]=H&8191,L=C[2]&255|(C[3]&255)<<8,this.r[1]=(H>>>13|L<<3)&8191,B=C[4]&255|(C[5]&255)<<8,this.r[2]=(L>>>10|B<<6)&7939,Y=C[6]&255|(C[7]&255)<<8,this.r[3]=(B>>>7|Y<<9)&8191,xA=C[8]&255|(C[9]&255)<<8,this.r[4]=(Y>>>4|xA<<12)&255,this.r[5]=xA>>>1&8190,PA=C[10]&255|(C[11]&255)<<8,this.r[6]=(xA>>>14|PA<<2)&8191,_=C[12]&255|(C[13]&255)<<8,this.r[7]=(PA>>>11|_<<5)&8065,U=C[14]&255|(C[15]&255)<<8,this.r[8]=(_>>>8|U<<8)&8191,this.r[9]=U>>>5&127,this.pad[0]=C[16]&255|(C[17]&255)<<8,this.pad[1]=C[18]&255|(C[19]&255)<<8,this.pad[2]=C[20]&255|(C[21]&255)<<8,this.pad[3]=C[22]&255|(C[23]&255)<<8,this.pad[4]=C[24]&255|(C[25]&255)<<8,this.pad[5]=C[26]&255|(C[27]&255)<<8,this.pad[6]=C[28]&255|(C[29]&255)<<8,this.pad[7]=C[30]&255|(C[31]&255)<<8};nA.prototype.blocks=function(C,H,L){for(var B=this.fin?0:2048,Y,xA,PA,_,U,tA,J,vA,gA,zA,bA,ee,Ce,et,at,Bt,De,Gt,tt,Et=this.h[0],Ut=this.h[1],lt=this.h[2],re=this.h[3],je=this.h[4],He=this.h[5],xe=this.h[6],pe=this.h[7],ye=this.h[8],gr=this.h[9],Nr=this.r[0],kr=this.r[1],Ur=this.r[2],cA=this.r[3],ma=this.r[4],wa=this.r[5],pa=this.r[6],Zr=this.r[7],Ea=this.r[8],Hr=this.r[9];L>=16;)Y=C[H+0]&255|(C[H+1]&255)<<8,Et+=Y&8191,xA=C[H+2]&255|(C[H+3]&255)<<8,Ut+=(Y>>>13|xA<<3)&8191,PA=C[H+4]&255|(C[H+5]&255)<<8,lt+=(xA>>>10|PA<<6)&8191,_=C[H+6]&255|(C[H+7]&255)<<8,re+=(PA>>>7|_<<9)&8191,U=C[H+8]&255|(C[H+9]&255)<<8,je+=(_>>>4|U<<12)&8191,He+=U>>>1&8191,tA=C[H+10]&255|(C[H+11]&255)<<8,xe+=(U>>>14|tA<<2)&8191,J=C[H+12]&255|(C[H+13]&255)<<8,pe+=(tA>>>11|J<<5)&8191,vA=C[H+14]&255|(C[H+15]&255)<<8,ye+=(J>>>8|vA<<8)&8191,gr+=vA>>>5|B,gA=0,zA=gA,zA+=Et*Nr,zA+=Ut*(5*Hr),zA+=lt*(5*Ea),zA+=re*(5*Zr),zA+=je*(5*pa),gA=zA>>>13,zA&=8191,zA+=He*(5*wa),zA+=xe*(5*ma),zA+=pe*(5*cA),zA+=ye*(5*Ur),zA+=gr*(5*kr),gA+=zA>>>13,zA&=8191,bA=gA,bA+=Et*kr,bA+=Ut*Nr,bA+=lt*(5*Hr),bA+=re*(5*Ea),bA+=je*(5*Zr),gA=bA>>>13,bA&=8191,bA+=He*(5*pa),bA+=xe*(5*wa),bA+=pe*(5*ma),bA+=ye*(5*cA),bA+=gr*(5*Ur),gA+=bA>>>13,bA&=8191,ee=gA,ee+=Et*Ur,ee+=Ut*kr,ee+=lt*Nr,ee+=re*(5*Hr),ee+=je*(5*Ea),gA=ee>>>13,ee&=8191,ee+=He*(5*Zr),ee+=xe*(5*pa),ee+=pe*(5*wa),ee+=ye*(5*ma),ee+=gr*(5*cA),gA+=ee>>>13,ee&=8191,Ce=gA,Ce+=Et*cA,Ce+=Ut*Ur,Ce+=lt*kr,Ce+=re*Nr,Ce+=je*(5*Hr),gA=Ce>>>13,Ce&=8191,Ce+=He*(5*Ea),Ce+=xe*(5*Zr),Ce+=pe*(5*pa),Ce+=ye*(5*wa),Ce+=gr*(5*ma),gA+=Ce>>>13,Ce&=8191,et=gA,et+=Et*ma,et+=Ut*cA,et+=lt*Ur,et+=re*kr,et+=je*Nr,gA=et>>>13,et&=8191,et+=He*(5*Hr),et+=xe*(5*Ea),et+=pe*(5*Zr),et+=ye*(5*pa),et+=gr*(5*wa),gA+=et>>>13,et&=8191,at=gA,at+=Et*wa,at+=Ut*ma,at+=lt*cA,at+=re*Ur,at+=je*kr,gA=at>>>13,at&=8191,at+=He*Nr,at+=xe*(5*Hr),at+=pe*(5*Ea),at+=ye*(5*Zr),at+=gr*(5*pa),gA+=at>>>13,at&=8191,Bt=gA,Bt+=Et*pa,Bt+=Ut*wa,Bt+=lt*ma,Bt+=re*cA,Bt+=je*Ur,gA=Bt>>>13,Bt&=8191,Bt+=He*kr,Bt+=xe*Nr,Bt+=pe*(5*Hr),Bt+=ye*(5*Ea),Bt+=gr*(5*Zr),gA+=Bt>>>13,Bt&=8191,De=gA,De+=Et*Zr,De+=Ut*pa,De+=lt*wa,De+=re*ma,De+=je*cA,gA=De>>>13,De&=8191,De+=He*Ur,De+=xe*kr,De+=pe*Nr,De+=ye*(5*Hr),De+=gr*(5*Ea),gA+=De>>>13,De&=8191,Gt=gA,Gt+=Et*Ea,Gt+=Ut*Zr,Gt+=lt*pa,Gt+=re*wa,Gt+=je*ma,gA=Gt>>>13,Gt&=8191,Gt+=He*cA,Gt+=xe*Ur,Gt+=pe*kr,Gt+=ye*Nr,Gt+=gr*(5*Hr),gA+=Gt>>>13,Gt&=8191,tt=gA,tt+=Et*Hr,tt+=Ut*Ea,tt+=lt*Zr,tt+=re*pa,tt+=je*wa,gA=tt>>>13,tt&=8191,tt+=He*ma,tt+=xe*cA,tt+=pe*Ur,tt+=ye*kr,tt+=gr*Nr,gA+=tt>>>13,tt&=8191,gA=(gA<<2)+gA|0,gA=gA+zA|0,zA=gA&8191,gA=gA>>>13,bA+=gA,Et=zA,Ut=bA,lt=ee,re=Ce,je=et,He=at,xe=Bt,pe=De,ye=Gt,gr=tt,H+=16,L-=16;this.h[0]=Et,this.h[1]=Ut,this.h[2]=lt,this.h[3]=re,this.h[4]=je,this.h[5]=He,this.h[6]=xe,this.h[7]=pe,this.h[8]=ye,this.h[9]=gr},nA.prototype.finish=function(C,H){var L=new Uint16Array(10),B,Y,xA,PA;if(this.leftover){for(PA=this.leftover,this.buffer[PA++]=1;PA<16;PA++)this.buffer[PA]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(B=this.h[1]>>>13,this.h[1]&=8191,PA=2;PA<10;PA++)this.h[PA]+=B,B=this.h[PA]>>>13,this.h[PA]&=8191;for(this.h[0]+=B*5,B=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=B,B=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=B,L[0]=this.h[0]+5,B=L[0]>>>13,L[0]&=8191,PA=1;PA<10;PA++)L[PA]=this.h[PA]+B,B=L[PA]>>>13,L[PA]&=8191;for(L[9]-=8192,Y=(B^1)-1,PA=0;PA<10;PA++)L[PA]&=Y;for(Y=~Y,PA=0;PA<10;PA++)this.h[PA]=this.h[PA]&Y|L[PA];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,xA=this.h[0]+this.pad[0],this.h[0]=xA&65535,PA=1;PA<8;PA++)xA=(this.h[PA]+this.pad[PA]|0)+(xA>>>16)|0,this.h[PA]=xA&65535;C[H+0]=this.h[0]>>>0&255,C[H+1]=this.h[0]>>>8&255,C[H+2]=this.h[1]>>>0&255,C[H+3]=this.h[1]>>>8&255,C[H+4]=this.h[2]>>>0&255,C[H+5]=this.h[2]>>>8&255,C[H+6]=this.h[3]>>>0&255,C[H+7]=this.h[3]>>>8&255,C[H+8]=this.h[4]>>>0&255,C[H+9]=this.h[4]>>>8&255,C[H+10]=this.h[5]>>>0&255,C[H+11]=this.h[5]>>>8&255,C[H+12]=this.h[6]>>>0&255,C[H+13]=this.h[6]>>>8&255,C[H+14]=this.h[7]>>>0&255,C[H+15]=this.h[7]>>>8&255},nA.prototype.update=function(C,H,L){var B,Y;if(this.leftover){for(Y=16-this.leftover,Y>L&&(Y=L),B=0;B<Y;B++)this.buffer[this.leftover+B]=C[H+B];if(L-=Y,H+=Y,this.leftover+=Y,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(L>=16&&(Y=L-L%16,this.blocks(C,H,Y),H+=Y,L-=Y),L){for(B=0;B<L;B++)this.buffer[this.leftover+B]=C[H+B];this.leftover+=L}};function lA(C,H,L,B,Y,xA){var PA=new nA(xA);return PA.update(L,B,Y),PA.finish(C,H),0}function qA(C,H,L,B,Y,xA){var PA=new Uint8Array(16);return lA(PA,0,L,B,Y,xA),G(C,H,PA,0)}function UA(C,H,L,B,Y){var xA;if(L<32)return-1;for(aA(C,0,H,0,L,B,Y),lA(C,16,C,32,L-32,C),xA=0;xA<16;xA++)C[xA]=0;return 0}function le(C,H,L,B,Y){var xA,PA=new Uint8Array(32);if(L<32||(K(PA,0,32,B,Y),qA(H,16,H,32,L-32,PA)!==0))return-1;for(aA(C,0,H,0,L,B,Y),xA=0;xA<32;xA++)C[xA]=0;return 0}function yA(C,H){var L;for(L=0;L<16;L++)C[L]=H[L]|0}function we(C){var H,L,B=1;for(H=0;H<16;H++)L=C[H]+B+65535,B=Math.floor(L/65536),C[H]=L-B*65536;C[0]+=B-1+37*(B-1)}function ge(C,H,L){for(var B,Y=~(L-1),xA=0;xA<16;xA++)B=Y&(C[xA]^H[xA]),C[xA]^=B,H[xA]^=B}function ot(C,H){var L,B,Y,xA=e(),PA=e();for(L=0;L<16;L++)PA[L]=H[L];for(we(PA),we(PA),we(PA),B=0;B<2;B++){for(xA[0]=PA[0]-65517,L=1;L<15;L++)xA[L]=PA[L]-65535-(xA[L-1]>>16&1),xA[L-1]&=65535;xA[15]=PA[15]-32767-(xA[14]>>16&1),Y=xA[15]>>16&1,xA[14]&=65535,ge(PA,xA,1-Y)}for(L=0;L<16;L++)C[2*L]=PA[L]&255,C[2*L+1]=PA[L]>>8}function ue(C,H){var L=new Uint8Array(32),B=new Uint8Array(32);return ot(L,C),ot(B,H),w(L,0,B,0)}function IA(C){var H=new Uint8Array(32);return ot(H,C),H[0]&1}function ne(C,H){var L;for(L=0;L<16;L++)C[L]=H[2*L]+(H[2*L+1]<<8);C[15]&=32767}function HA(C,H,L){for(var B=0;B<16;B++)C[B]=H[B]+L[B]}function KA(C,H,L){for(var B=0;B<16;B++)C[B]=H[B]-L[B]}function XA(C,H,L){var B,Y,xA=0,PA=0,_=0,U=0,tA=0,J=0,vA=0,gA=0,zA=0,bA=0,ee=0,Ce=0,et=0,at=0,Bt=0,De=0,Gt=0,tt=0,Et=0,Ut=0,lt=0,re=0,je=0,He=0,xe=0,pe=0,ye=0,gr=0,Nr=0,kr=0,Ur=0,cA=L[0],ma=L[1],wa=L[2],pa=L[3],Zr=L[4],Ea=L[5],Hr=L[6],kn=L[7],za=L[8],D=L[9],R=L[10],W=L[11],hA=L[12],de=L[13],Fe=L[14],rt=L[15];B=H[0],xA+=B*cA,PA+=B*ma,_+=B*wa,U+=B*pa,tA+=B*Zr,J+=B*Ea,vA+=B*Hr,gA+=B*kn,zA+=B*za,bA+=B*D,ee+=B*R,Ce+=B*W,et+=B*hA,at+=B*de,Bt+=B*Fe,De+=B*rt,B=H[1],PA+=B*cA,_+=B*ma,U+=B*wa,tA+=B*pa,J+=B*Zr,vA+=B*Ea,gA+=B*Hr,zA+=B*kn,bA+=B*za,ee+=B*D,Ce+=B*R,et+=B*W,at+=B*hA,Bt+=B*de,De+=B*Fe,Gt+=B*rt,B=H[2],_+=B*cA,U+=B*ma,tA+=B*wa,J+=B*pa,vA+=B*Zr,gA+=B*Ea,zA+=B*Hr,bA+=B*kn,ee+=B*za,Ce+=B*D,et+=B*R,at+=B*W,Bt+=B*hA,De+=B*de,Gt+=B*Fe,tt+=B*rt,B=H[3],U+=B*cA,tA+=B*ma,J+=B*wa,vA+=B*pa,gA+=B*Zr,zA+=B*Ea,bA+=B*Hr,ee+=B*kn,Ce+=B*za,et+=B*D,at+=B*R,Bt+=B*W,De+=B*hA,Gt+=B*de,tt+=B*Fe,Et+=B*rt,B=H[4],tA+=B*cA,J+=B*ma,vA+=B*wa,gA+=B*pa,zA+=B*Zr,bA+=B*Ea,ee+=B*Hr,Ce+=B*kn,et+=B*za,at+=B*D,Bt+=B*R,De+=B*W,Gt+=B*hA,tt+=B*de,Et+=B*Fe,Ut+=B*rt,B=H[5],J+=B*cA,vA+=B*ma,gA+=B*wa,zA+=B*pa,bA+=B*Zr,ee+=B*Ea,Ce+=B*Hr,et+=B*kn,at+=B*za,Bt+=B*D,De+=B*R,Gt+=B*W,tt+=B*hA,Et+=B*de,Ut+=B*Fe,lt+=B*rt,B=H[6],vA+=B*cA,gA+=B*ma,zA+=B*wa,bA+=B*pa,ee+=B*Zr,Ce+=B*Ea,et+=B*Hr,at+=B*kn,Bt+=B*za,De+=B*D,Gt+=B*R,tt+=B*W,Et+=B*hA,Ut+=B*de,lt+=B*Fe,re+=B*rt,B=H[7],gA+=B*cA,zA+=B*ma,bA+=B*wa,ee+=B*pa,Ce+=B*Zr,et+=B*Ea,at+=B*Hr,Bt+=B*kn,De+=B*za,Gt+=B*D,tt+=B*R,Et+=B*W,Ut+=B*hA,lt+=B*de,re+=B*Fe,je+=B*rt,B=H[8],zA+=B*cA,bA+=B*ma,ee+=B*wa,Ce+=B*pa,et+=B*Zr,at+=B*Ea,Bt+=B*Hr,De+=B*kn,Gt+=B*za,tt+=B*D,Et+=B*R,Ut+=B*W,lt+=B*hA,re+=B*de,je+=B*Fe,He+=B*rt,B=H[9],bA+=B*cA,ee+=B*ma,Ce+=B*wa,et+=B*pa,at+=B*Zr,Bt+=B*Ea,De+=B*Hr,Gt+=B*kn,tt+=B*za,Et+=B*D,Ut+=B*R,lt+=B*W,re+=B*hA,je+=B*de,He+=B*Fe,xe+=B*rt,B=H[10],ee+=B*cA,Ce+=B*ma,et+=B*wa,at+=B*pa,Bt+=B*Zr,De+=B*Ea,Gt+=B*Hr,tt+=B*kn,Et+=B*za,Ut+=B*D,lt+=B*R,re+=B*W,je+=B*hA,He+=B*de,xe+=B*Fe,pe+=B*rt,B=H[11],Ce+=B*cA,et+=B*ma,at+=B*wa,Bt+=B*pa,De+=B*Zr,Gt+=B*Ea,tt+=B*Hr,Et+=B*kn,Ut+=B*za,lt+=B*D,re+=B*R,je+=B*W,He+=B*hA,xe+=B*de,pe+=B*Fe,ye+=B*rt,B=H[12],et+=B*cA,at+=B*ma,Bt+=B*wa,De+=B*pa,Gt+=B*Zr,tt+=B*Ea,Et+=B*Hr,Ut+=B*kn,lt+=B*za,re+=B*D,je+=B*R,He+=B*W,xe+=B*hA,pe+=B*de,ye+=B*Fe,gr+=B*rt,B=H[13],at+=B*cA,Bt+=B*ma,De+=B*wa,Gt+=B*pa,tt+=B*Zr,Et+=B*Ea,Ut+=B*Hr,lt+=B*kn,re+=B*za,je+=B*D,He+=B*R,xe+=B*W,pe+=B*hA,ye+=B*de,gr+=B*Fe,Nr+=B*rt,B=H[14],Bt+=B*cA,De+=B*ma,Gt+=B*wa,tt+=B*pa,Et+=B*Zr,Ut+=B*Ea,lt+=B*Hr,re+=B*kn,je+=B*za,He+=B*D,xe+=B*R,pe+=B*W,ye+=B*hA,gr+=B*de,Nr+=B*Fe,kr+=B*rt,B=H[15],De+=B*cA,Gt+=B*ma,tt+=B*wa,Et+=B*pa,Ut+=B*Zr,lt+=B*Ea,re+=B*Hr,je+=B*kn,He+=B*za,xe+=B*D,pe+=B*R,ye+=B*W,gr+=B*hA,Nr+=B*de,kr+=B*Fe,Ur+=B*rt,xA+=38*Gt,PA+=38*tt,_+=38*Et,U+=38*Ut,tA+=38*lt,J+=38*re,vA+=38*je,gA+=38*He,zA+=38*xe,bA+=38*pe,ee+=38*ye,Ce+=38*gr,et+=38*Nr,at+=38*kr,Bt+=38*Ur,Y=1,B=xA+Y+65535,Y=Math.floor(B/65536),xA=B-Y*65536,B=PA+Y+65535,Y=Math.floor(B/65536),PA=B-Y*65536,B=_+Y+65535,Y=Math.floor(B/65536),_=B-Y*65536,B=U+Y+65535,Y=Math.floor(B/65536),U=B-Y*65536,B=tA+Y+65535,Y=Math.floor(B/65536),tA=B-Y*65536,B=J+Y+65535,Y=Math.floor(B/65536),J=B-Y*65536,B=vA+Y+65535,Y=Math.floor(B/65536),vA=B-Y*65536,B=gA+Y+65535,Y=Math.floor(B/65536),gA=B-Y*65536,B=zA+Y+65535,Y=Math.floor(B/65536),zA=B-Y*65536,B=bA+Y+65535,Y=Math.floor(B/65536),bA=B-Y*65536,B=ee+Y+65535,Y=Math.floor(B/65536),ee=B-Y*65536,B=Ce+Y+65535,Y=Math.floor(B/65536),Ce=B-Y*65536,B=et+Y+65535,Y=Math.floor(B/65536),et=B-Y*65536,B=at+Y+65535,Y=Math.floor(B/65536),at=B-Y*65536,B=Bt+Y+65535,Y=Math.floor(B/65536),Bt=B-Y*65536,B=De+Y+65535,Y=Math.floor(B/65536),De=B-Y*65536,xA+=Y-1+37*(Y-1),Y=1,B=xA+Y+65535,Y=Math.floor(B/65536),xA=B-Y*65536,B=PA+Y+65535,Y=Math.floor(B/65536),PA=B-Y*65536,B=_+Y+65535,Y=Math.floor(B/65536),_=B-Y*65536,B=U+Y+65535,Y=Math.floor(B/65536),U=B-Y*65536,B=tA+Y+65535,Y=Math.floor(B/65536),tA=B-Y*65536,B=J+Y+65535,Y=Math.floor(B/65536),J=B-Y*65536,B=vA+Y+65535,Y=Math.floor(B/65536),vA=B-Y*65536,B=gA+Y+65535,Y=Math.floor(B/65536),gA=B-Y*65536,B=zA+Y+65535,Y=Math.floor(B/65536),zA=B-Y*65536,B=bA+Y+65535,Y=Math.floor(B/65536),bA=B-Y*65536,B=ee+Y+65535,Y=Math.floor(B/65536),ee=B-Y*65536,B=Ce+Y+65535,Y=Math.floor(B/65536),Ce=B-Y*65536,B=et+Y+65535,Y=Math.floor(B/65536),et=B-Y*65536,B=at+Y+65535,Y=Math.floor(B/65536),at=B-Y*65536,B=Bt+Y+65535,Y=Math.floor(B/65536),Bt=B-Y*65536,B=De+Y+65535,Y=Math.floor(B/65536),De=B-Y*65536,xA+=Y-1+37*(Y-1),C[0]=xA,C[1]=PA,C[2]=_,C[3]=U,C[4]=tA,C[5]=J,C[6]=vA,C[7]=gA,C[8]=zA,C[9]=bA,C[10]=ee,C[11]=Ce,C[12]=et,C[13]=at,C[14]=Bt,C[15]=De}function st(C,H){XA(C,H,H)}function or(C,H){var L=e(),B;for(B=0;B<16;B++)L[B]=H[B];for(B=253;B>=0;B--)st(L,L),B!==2&&B!==4&&XA(L,L,H);for(B=0;B<16;B++)C[B]=L[B]}function ve(C,H){var L=e(),B;for(B=0;B<16;B++)L[B]=H[B];for(B=250;B>=0;B--)st(L,L),B!==1&&XA(L,L,H);for(B=0;B<16;B++)C[B]=L[B]}function gt(C,H,L){var B=new Uint8Array(32),Y=new Float64Array(80),xA,PA,_=e(),U=e(),tA=e(),J=e(),vA=e(),gA=e();for(PA=0;PA<31;PA++)B[PA]=H[PA];for(B[31]=H[31]&127|64,B[0]&=248,ne(Y,L),PA=0;PA<16;PA++)U[PA]=Y[PA],J[PA]=_[PA]=tA[PA]=0;for(_[0]=J[0]=1,PA=254;PA>=0;--PA)xA=B[PA>>>3]>>>(PA&7)&1,ge(_,U,xA),ge(tA,J,xA),HA(vA,_,tA),KA(_,_,tA),HA(tA,U,J),KA(U,U,J),st(J,vA),st(gA,_),XA(_,tA,_),XA(tA,U,vA),HA(vA,_,tA),KA(_,_,tA),st(U,_),KA(tA,J,gA),XA(_,tA,i),HA(_,_,J),XA(tA,tA,_),XA(_,J,gA),XA(J,U,Y),st(U,vA),ge(_,U,xA),ge(tA,J,xA);for(PA=0;PA<16;PA++)Y[PA+16]=_[PA],Y[PA+32]=tA[PA],Y[PA+48]=U[PA],Y[PA+64]=J[PA];var zA=Y.subarray(32),bA=Y.subarray(16);return or(zA,zA),XA(bA,bA,zA),ot(C,bA),0}function Ge(C,H){return gt(C,H,a)}function It(C,H){return t(H,32),Ge(C,H)}function wt(C,H,L){var B=new Uint8Array(32);return gt(B,L,H),T(C,r,B,O)}var ar=UA,Ot=le;function zr(C,H,L,B,Y,xA){var PA=new Uint8Array(32);return wt(PA,Y,xA),ar(C,H,L,B,PA)}function Ba(C,H,L,B,Y,xA){var PA=new Uint8Array(32);return wt(PA,Y,xA),Ot(C,H,L,B,PA)}var rj=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function aj(C,H,L,B){for(var Y=new Int32Array(16),xA=new Int32Array(16),PA,_,U,tA,J,vA,gA,zA,bA,ee,Ce,et,at,Bt,De,Gt,tt,Et,Ut,lt,re,je,He,xe,pe,ye,gr=C[0],Nr=C[1],kr=C[2],Ur=C[3],cA=C[4],ma=C[5],wa=C[6],pa=C[7],Zr=H[0],Ea=H[1],Hr=H[2],kn=H[3],za=H[4],D=H[5],R=H[6],W=H[7],hA=0;B>=128;){for(Ut=0;Ut<16;Ut++)lt=8*Ut+hA,Y[Ut]=L[lt+0]<<24|L[lt+1]<<16|L[lt+2]<<8|L[lt+3],xA[Ut]=L[lt+4]<<24|L[lt+5]<<16|L[lt+6]<<8|L[lt+7];for(Ut=0;Ut<80;Ut++)if(PA=gr,_=Nr,U=kr,tA=Ur,J=cA,vA=ma,gA=wa,zA=pa,bA=Zr,ee=Ea,Ce=Hr,et=kn,at=za,Bt=D,De=R,Gt=W,re=pa,je=W,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=(cA>>>14|za<<18)^(cA>>>18|za<<14)^(za>>>9|cA<<23),je=(za>>>14|cA<<18)^(za>>>18|cA<<14)^(cA>>>9|za<<23),He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,re=cA&ma^~cA&wa,je=za&D^~za&R,He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,re=rj[Ut*2],je=rj[Ut*2+1],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,re=Y[Ut%16],je=xA[Ut%16],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,tt=pe&65535|ye<<16,Et=He&65535|xe<<16,re=tt,je=Et,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=(gr>>>28|Zr<<4)^(Zr>>>2|gr<<30)^(Zr>>>7|gr<<25),je=(Zr>>>28|gr<<4)^(gr>>>2|Zr<<30)^(gr>>>7|Zr<<25),He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,re=gr&Nr^gr&kr^Nr&kr,je=Zr&Ea^Zr&Hr^Ea&Hr,He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,zA=pe&65535|ye<<16,Gt=He&65535|xe<<16,re=tA,je=et,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=tt,je=Et,He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,tA=pe&65535|ye<<16,et=He&65535|xe<<16,Nr=PA,kr=_,Ur=U,cA=tA,ma=J,wa=vA,pa=gA,gr=zA,Ea=bA,Hr=ee,kn=Ce,za=et,D=at,R=Bt,W=De,Zr=Gt,Ut%16===15)for(lt=0;lt<16;lt++)re=Y[lt],je=xA[lt],He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=Y[(lt+9)%16],je=xA[(lt+9)%16],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,tt=Y[(lt+1)%16],Et=xA[(lt+1)%16],re=(tt>>>1|Et<<31)^(tt>>>8|Et<<24)^tt>>>7,je=(Et>>>1|tt<<31)^(Et>>>8|tt<<24)^(Et>>>7|tt<<25),He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,tt=Y[(lt+14)%16],Et=xA[(lt+14)%16],re=(tt>>>19|Et<<13)^(Et>>>29|tt<<3)^tt>>>6,je=(Et>>>19|tt<<13)^(tt>>>29|Et<<3)^(Et>>>6|tt<<26),He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,Y[lt]=pe&65535|ye<<16,xA[lt]=He&65535|xe<<16;re=gr,je=Zr,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[0],je=H[0],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[0]=gr=pe&65535|ye<<16,H[0]=Zr=He&65535|xe<<16,re=Nr,je=Ea,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[1],je=H[1],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[1]=Nr=pe&65535|ye<<16,H[1]=Ea=He&65535|xe<<16,re=kr,je=Hr,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[2],je=H[2],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[2]=kr=pe&65535|ye<<16,H[2]=Hr=He&65535|xe<<16,re=Ur,je=kn,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[3],je=H[3],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[3]=Ur=pe&65535|ye<<16,H[3]=kn=He&65535|xe<<16,re=cA,je=za,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[4],je=H[4],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[4]=cA=pe&65535|ye<<16,H[4]=za=He&65535|xe<<16,re=ma,je=D,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[5],je=H[5],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[5]=ma=pe&65535|ye<<16,H[5]=D=He&65535|xe<<16,re=wa,je=R,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[6],je=H[6],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[6]=wa=pe&65535|ye<<16,H[6]=R=He&65535|xe<<16,re=pa,je=W,He=je&65535,xe=je>>>16,pe=re&65535,ye=re>>>16,re=C[7],je=H[7],He+=je&65535,xe+=je>>>16,pe+=re&65535,ye+=re>>>16,xe+=He>>>16,pe+=xe>>>16,ye+=pe>>>16,C[7]=pa=pe&65535|ye<<16,H[7]=W=He&65535|xe<<16,hA+=128,B-=128}return B}function cj(C,H,L){var B=new Int32Array(8),Y=new Int32Array(8),xA=new Uint8Array(256),PA,_=L;for(B[0]=1779033703,B[1]=3144134277,B[2]=1013904242,B[3]=2773480762,B[4]=1359893119,B[5]=2600822924,B[6]=528734635,B[7]=1541459225,Y[0]=4089235720,Y[1]=2227873595,Y[2]=4271175723,Y[3]=1595750129,Y[4]=2917565137,Y[5]=725511199,Y[6]=4215389547,Y[7]=327033209,aj(B,Y,H,L),L%=128,PA=0;PA<L;PA++)xA[PA]=H[_-L+PA];for(xA[L]=128,L=256-128*(L<112?1:0),xA[L-9]=0,h(xA,L-8,_/536870912|0,_<<3),aj(B,Y,xA,L),PA=0;PA<8;PA++)h(C,8*PA,B[PA],Y[PA]);return 0}function er(C,H){var L=e(),B=e(),Y=e(),xA=e(),PA=e(),_=e(),U=e(),tA=e(),J=e();KA(L,C[1],C[0]),KA(J,H[1],H[0]),XA(L,L,J),HA(B,C[0],C[1]),HA(J,H[0],H[1]),XA(B,B,J),XA(Y,C[3],H[3]),XA(Y,Y,s),XA(xA,C[2],H[2]),HA(xA,xA,xA),KA(PA,B,L),KA(_,xA,Y),HA(U,xA,Y),HA(tA,B,L),XA(C[0],PA,_),XA(C[1],tA,U),XA(C[2],U,_),XA(C[3],PA,tA)}function pr(C,H,L){var B;for(B=0;B<4;B++)ge(C[B],H[B],L)}function ua(C,H){var L=e(),B=e(),Y=e();or(Y,H[2]),XA(L,H[0],Y),XA(B,H[1],Y),ot(C,B),C[31]^=IA(L)<<7}function pn(C,H,L){var B,Y;for(yA(C[0],j),yA(C[1],n),yA(C[2],n),yA(C[3],j),Y=255;Y>=0;--Y)B=L[Y/8|0]>>(Y&7)&1,pr(C,H,B),er(H,C),er(C,C),pr(C,H,B)}function ft(C,H){var L=[e(),e(),e(),e()];yA(L[0],c),yA(L[1],u),yA(L[2],n),XA(L[3],c,u),pn(C,L,H)}function pA(C,H,L){var B=new Uint8Array(64),Y=[e(),e(),e(),e()],xA;for(L||t(H,32),cj(B,H,32),B[0]&=248,B[31]&=127,B[31]|=64,ft(Y,B),ua(C,Y),xA=0;xA<32;xA++)H[xA+32]=C[xA];return 0}var wA=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function JA(C,H){var L,B,Y,xA;for(B=63;B>=32;--B){for(L=0,Y=B-32,xA=B-12;Y<xA;++Y)H[Y]+=L-16*H[B]*wA[Y-(B-32)],L=Math.floor((H[Y]+128)/256),H[Y]-=L*256;H[Y]+=L,H[B]=0}for(L=0,Y=0;Y<32;Y++)H[Y]+=L-(H[31]>>4)*wA[Y],L=H[Y]>>8,H[Y]&=255;for(Y=0;Y<32;Y++)H[Y]-=L*wA[Y];for(B=0;B<32;B++)H[B+1]+=H[B]>>8,C[B]=H[B]&255}function Me(C){var H=new Float64Array(64),L;for(L=0;L<64;L++)H[L]=C[L];for(L=0;L<64;L++)C[L]=0;JA(C,H)}function Se(C,H,L,B){var Y=new Uint8Array(64),xA=new Uint8Array(64),PA=new Uint8Array(64),_,U,tA=new Float64Array(64),J=[e(),e(),e(),e()];cj(Y,B,32),Y[0]&=248,Y[31]&=127,Y[31]|=64;var vA=L+64;for(_=0;_<L;_++)C[64+_]=H[_];for(_=0;_<32;_++)C[32+_]=Y[32+_];for(cj(PA,C.subarray(32),L+32),Me(PA),ft(J,PA),ua(C,J),_=32;_<64;_++)C[_]=B[_];for(cj(xA,C,L+64),Me(xA),_=0;_<64;_++)tA[_]=0;for(_=0;_<32;_++)tA[_]=PA[_];for(_=0;_<32;_++)for(U=0;U<32;U++)tA[_+U]+=xA[_]*Y[U];return JA(C.subarray(32),tA),vA}function _t(C,H){var L=e(),B=e(),Y=e(),xA=e(),PA=e(),_=e(),U=e();return yA(C[2],n),ne(C[1],H),st(Y,C[1]),XA(xA,Y,o),KA(Y,Y,C[2]),HA(xA,C[2],xA),st(PA,xA),st(_,PA),XA(U,_,PA),XA(L,U,Y),XA(L,L,xA),ve(L,L),XA(L,L,Y),XA(L,L,xA),XA(L,L,xA),XA(C[0],L,xA),st(B,C[0]),XA(B,B,xA),ue(B,Y)&&XA(C[0],C[0],p),st(B,C[0]),XA(B,B,xA),ue(B,Y)?-1:(IA(C[0])===H[31]>>7&&KA(C[0],j,C[0]),XA(C[3],C[0],C[1]),0)}function qe(C,H,L,B){var Y,xA=new Uint8Array(32),PA=new Uint8Array(64),_=[e(),e(),e(),e()],U=[e(),e(),e(),e()];if(L<64||_t(U,B))return-1;for(Y=0;Y<L;Y++)C[Y]=H[Y];for(Y=0;Y<32;Y++)C[Y+32]=B[Y];if(cj(PA,C,L),Me(PA),pn(_,U,PA),ft(U,H.subarray(32)),er(_,U),ua(xA,_),L-=64,w(H,0,xA,0)){for(Y=0;Y<L;Y++)C[Y]=0;return-1}for(Y=0;Y<L;Y++)C[Y]=H[Y+64];return L}var BA=32,dA=24,DA=32,jt=16,Ga=32,Pi=32,Bs=32,bj=32,gi=32,fi=dA,jm=DA,Nc=jt,Ft=64,a6=32,Gl=64,_o=32,Si=64;A.lowlevel={crypto_core_hsalsa20:T,crypto_stream_xor:aA,crypto_stream:K,crypto_stream_salsa20_xor:I,crypto_stream_salsa20:q,crypto_onetimeauth:lA,crypto_onetimeauth_verify:qA,crypto_verify_16:G,crypto_verify_32:w,crypto_secretbox:UA,crypto_secretbox_open:le,crypto_scalarmult:gt,crypto_scalarmult_base:Ge,crypto_box_beforenm:wt,crypto_box_afternm:ar,crypto_box:zr,crypto_box_open:Ba,crypto_box_keypair:It,crypto_hash:cj,crypto_sign:Se,crypto_sign_keypair:pA,crypto_sign_open:qe,crypto_secretbox_KEYBYTES:BA,crypto_secretbox_NONCEBYTES:dA,crypto_secretbox_ZEROBYTES:DA,crypto_secretbox_BOXZEROBYTES:jt,crypto_scalarmult_BYTES:Ga,crypto_scalarmult_SCALARBYTES:Pi,crypto_box_PUBLICKEYBYTES:Bs,crypto_box_SECRETKEYBYTES:bj,crypto_box_BEFORENMBYTES:gi,crypto_box_NONCEBYTES:fi,crypto_box_ZEROBYTES:jm,crypto_box_BOXZEROBYTES:Nc,crypto_sign_BYTES:Ft,crypto_sign_PUBLICKEYBYTES:a6,crypto_sign_SECRETKEYBYTES:Gl,crypto_sign_SEEDBYTES:_o,crypto_hash_BYTES:Si,gf:e,D:o,L:wA,pack25519:ot,unpack25519:ne,M:XA,A:HA,S:st,Z:KA,pow2523:ve,add:er,set25519:yA,modL:JA,scalarmult:pn,scalarbase:ft};function da(C,H){if(C.length!==BA)throw new Error("bad key size");if(H.length!==dA)throw new Error("bad nonce size")}function _6(C,H){if(C.length!==Bs)throw new Error("bad public key size");if(H.length!==bj)throw new Error("bad secret key size")}function Lr(){for(var C=0;C<arguments.length;C++)if(!(arguments[C]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ts(C){for(var H=0;H<C.length;H++)C[H]=0}A.randomBytes=function(C){var H=new Uint8Array(C);return t(H,C),H},A.secretbox=function(C,H,L){Lr(C,H,L),da(L,H);for(var B=new Uint8Array(DA+C.length),Y=new Uint8Array(B.length),xA=0;xA<C.length;xA++)B[xA+DA]=C[xA];return UA(Y,B,B.length,H,L),Y.subarray(jt)},A.secretbox.open=function(C,H,L){Lr(C,H,L),da(L,H);for(var B=new Uint8Array(jt+C.length),Y=new Uint8Array(B.length),xA=0;xA<C.length;xA++)B[xA+jt]=C[xA];return B.length<32||le(Y,B,B.length,H,L)!==0?null:Y.subarray(DA)},A.secretbox.keyLength=BA,A.secretbox.nonceLength=dA,A.secretbox.overheadLength=jt,A.scalarMult=function(C,H){if(Lr(C,H),C.length!==Pi)throw new Error("bad n size");if(H.length!==Ga)throw new Error("bad p size");var L=new Uint8Array(Ga);return gt(L,C,H),L},A.scalarMult.base=function(C){if(Lr(C),C.length!==Pi)throw new Error("bad n size");var H=new Uint8Array(Ga);return Ge(H,C),H},A.scalarMult.scalarLength=Pi,A.scalarMult.groupElementLength=Ga,A.box=function(C,H,L,B){var Y=A.box.before(L,B);return A.secretbox(C,H,Y)},A.box.before=function(C,H){Lr(C,H),_6(C,H);var L=new Uint8Array(gi);return wt(L,C,H),L},A.box.after=A.secretbox,A.box.open=function(C,H,L,B){var Y=A.box.before(L,B);return A.secretbox.open(C,H,Y)},A.box.open.after=A.secretbox.open,A.box.keyPair=function(){var C=new Uint8Array(Bs),H=new Uint8Array(bj);return It(C,H),{publicKey:C,secretKey:H}},A.box.keyPair.fromSecretKey=function(C){if(Lr(C),C.length!==bj)throw new Error("bad secret key size");var H=new Uint8Array(Bs);return Ge(H,C),{publicKey:H,secretKey:new Uint8Array(C)}},A.box.publicKeyLength=Bs,A.box.secretKeyLength=bj,A.box.sharedKeyLength=gi,A.box.nonceLength=fi,A.box.overheadLength=A.secretbox.overheadLength,A.sign=function(C,H){if(Lr(C,H),H.length!==Gl)throw new Error("bad secret key size");var L=new Uint8Array(Ft+C.length);return Se(L,C,C.length,H),L},A.sign.open=function(C,H){if(Lr(C,H),H.length!==a6)throw new Error("bad public key size");var L=new Uint8Array(C.length),B=qe(L,C,C.length,H);if(B<0)return null;for(var Y=new Uint8Array(B),xA=0;xA<Y.length;xA++)Y[xA]=L[xA];return Y},A.sign.detached=function(C,H){for(var L=A.sign(C,H),B=new Uint8Array(Ft),Y=0;Y<B.length;Y++)B[Y]=L[Y];return B},A.sign.detached.verify=function(C,H,L){if(Lr(C,H,L),H.length!==Ft)throw new Error("bad signature size");if(L.length!==a6)throw new Error("bad public key size");var B=new Uint8Array(Ft+C.length),Y=new Uint8Array(Ft+C.length),xA;for(xA=0;xA<Ft;xA++)B[xA]=H[xA];for(xA=0;xA<C.length;xA++)B[xA+Ft]=C[xA];return qe(Y,B,B.length,L)>=0},A.sign.keyPair=function(){var C=new Uint8Array(a6),H=new Uint8Array(Gl);return pA(C,H),{publicKey:C,secretKey:H}},A.sign.keyPair.fromSecretKey=function(C){if(Lr(C),C.length!==Gl)throw new Error("bad secret key size");for(var H=new Uint8Array(a6),L=0;L<H.length;L++)H[L]=C[32+L];return{publicKey:H,secretKey:new Uint8Array(C)}},A.sign.keyPair.fromSeed=function(C){if(Lr(C),C.length!==_o)throw new Error("bad seed size");for(var H=new Uint8Array(a6),L=new Uint8Array(Gl),B=0;B<32;B++)L[B]=C[B];return pA(H,L,!0),{publicKey:H,secretKey:L}},A.sign.publicKeyLength=a6,A.sign.secretKeyLength=Gl,A.sign.seedLength=_o,A.sign.signatureLength=Ft,A.hash=function(C){Lr(C);var H=new Uint8Array(Si);return cj(H,C,C.length),H},A.hash.hashLength=Si,A.verify=function(C,H){return Lr(C,H),C.length===0||H.length===0||C.length!==H.length?!1:f(C,0,H,0,C.length)===0},A.setPRNG=function(C){t=C},function(){var C=typeof self<"u"?self.crypto||self.msCrypto:null;if(C&&C.getRandomValues){var H=65536;A.setPRNG(function(L,B){var Y,xA=new Uint8Array(B);for(Y=0;Y<B;Y+=H)C.getRandomValues(xA.subarray(Y,Y+Math.min(B-Y,H)));for(Y=0;Y<B;Y++)L[Y]=xA[Y];ts(xA)})}else typeof X8<"u"&&(C=c4A(),C&&C.randomBytes&&A.setPRNG(function(L,B){var Y,xA=C.randomBytes(B);for(Y=0;Y<B;Y++)L[Y]=xA[Y];ts(xA)}))}()})(typeof qR<"u"&&qR.exports?qR.exports:self.nacl=self.nacl||{})});var H4A=mA((_Mt,k$e)=>{k$e.exports="/assets/wasm/b5_hpke_bg-57LZZQD2.wasm"});var WOA=mA((vVt,tSe)=>{tSe.exports="/assets/wasm/confidential_computing_bg-R4IJHVD3.wasm"});var wN=mA(GN=>{"use strict";Object.defineProperty(GN,"__esModule",{value:!0});GN.ByteSequence=void 0;var OcA=class{constructor(e){this.base64Value=e}toBase64(){return this.base64Value}};GN.ByteSequence=OcA});var IO=mA(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.isByteSequence=Od.isInnerList=Od.isValidKeyStr=Od.isValidTokenStr=Od.isAscii=void 0;var UMe=/^[\x20-\x7E]*$/,HMe=/^[a-zA-Z*][:/!#$%&'*+\-.^_`|~A-Za-z0-9]*$/,VMe=/^[a-z*][*\-_.a-z0-9]*$/;function XMe(A){return UMe.test(A)}Od.isAscii=XMe;function WMe(A){return HMe.test(A)}Od.isValidTokenStr=WMe;function JMe(A){return VMe.test(A)}Od.isValidKeyStr=JMe;function YMe(A){return Array.isArray(A[0])}Od.isInnerList=YMe;function ZMe(A){return typeof A=="object"&&"base64Value"in A}Od.isByteSequence=ZMe});var $N=mA(qN=>{"use strict";Object.defineProperty(qN,"__esModule",{value:!0});qN.Token=void 0;var QMe=IO(),TcA=class{constructor(e){if(!(0,QMe.isValidTokenStr)(e))throw new TypeError("Invalid character in Token string. Tokens must start with *, A-Z and the rest of the string may only contain a-z, A-Z, 0-9, :/!#$%&'*+-.^_`|~");this.value=e}toString(){return this.value}};qN.Token=TcA});var EMA=mA(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.serializeKey=ln.serializeParameters=ln.serializeToken=ln.serializeByteSequence=ln.serializeBoolean=ln.serializeString=ln.serializeDecimal=ln.serializeInteger=ln.serializeBareItem=ln.serializeInnerList=ln.serializeItem=ln.serializeDictionary=ln.serializeList=ln.SerializeError=void 0;var ARe=wN(),eRe=$N(),IN=IO(),wE=class extends Error{};ln.SerializeError=wE;function tRe(A){return A.map(e=>(0,IN.isInnerList)(e)?_cA(e):PN(e)).join(", ")}ln.serializeList=tRe;function rRe(A){return Array.from(A.entries()).map(([e,t])=>{let r=zcA(e);return t[0]===!0?r+=SN(t[1]):(r+="=",(0,IN.isInnerList)(t)?r+=_cA(t):r+=PN(t)),r}).join(", ")}ln.serializeDictionary=rRe;function PN(A){return DcA(A[0])+SN(A[1])}ln.serializeItem=PN;function _cA(A){return`(${A[0].map(e=>PN(e)).join(" ")})${SN(A[1])}`}ln.serializeInnerList=_cA;function DcA(A){if(typeof A=="number")return Number.isInteger(A)?pMA(A):kMA(A);if(typeof A=="string")return hMA(A);if(A instanceof eRe.Token)return BMA(A);if(A instanceof ARe.ByteSequence)return fMA(A);if(typeof A=="boolean")return gMA(A);throw new wE(`Cannot serialize values of type ${typeof A}`)}ln.serializeBareItem=DcA;function pMA(A){if(A<-999999999999999||A>999999999999999)throw new wE("Structured headers can only encode integers in the range range of -999,999,999,999,999 to 999,999,999,999,999 inclusive");return A.toString()}ln.serializeInteger=pMA;function kMA(A){let e=A.toFixed(3).replace(/0+$/,"");if(e.split(".")[0].replace("-","").length>12)throw new wE("Fractional numbers are not allowed to have more than 12 significant digits before the decimal point");return e}ln.serializeDecimal=kMA;function hMA(A){if(!(0,IN.isAscii)(A))throw new wE("Only ASCII strings may be serialized");return`"${A.replace(/("|\\)/g,e=>"\\"+e)}"`}ln.serializeString=hMA;function gMA(A){return A?"?1":"?0"}ln.serializeBoolean=gMA;function fMA(A){return`:${A.toBase64()}:`}ln.serializeByteSequence=fMA;function BMA(A){return A.toString()}ln.serializeToken=BMA;function SN(A){return Array.from(A).map(([e,t])=>{let r=";"+zcA(e);return t!==!0&&(r+="="+DcA(t)),r}).join("")}ln.serializeParameters=SN;function zcA(A){if(!(0,IN.isValidKeyStr)(A))throw new wE("Keys in dictionaries must only contain lowercase letter, numbers, _-*. and must start with a letter or *");return A}ln.serializeKey=zcA});var yMA=mA(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.ParseError=sp.parseItem=sp.parseList=sp.parseDictionary=void 0;var aRe=wN(),xMA=$N(),jRe=IO();function nRe(A){return new C1(A).parseDictionary()}sp.parseDictionary=nRe;function iRe(A){return new C1(A).parseList()}sp.parseList=iRe;function oRe(A){return new C1(A).parseItem()}sp.parseItem=oRe;var ci=class extends Error{constructor(e,t){super(`Parse error: ${t} at offset ${e}`)}};sp.ParseError=ci;var C1=class{constructor(e){this.input=e,this.pos=0}parseDictionary(){this.skipWS();let e=new Map;for(;!this.eof();){let t=this.parseKey(),r;if(this.lookChar()==="="?(this.pos++,r=this.parseItemOrInnerList()):r=[!0,this.parseParameters()],e.set(t,r),this.skipOWS(),this.eof())return e;if(this.expectChar(","),this.pos++,this.skipOWS(),this.eof())throw new ci(this.pos,"Dictionary contained a trailing comma")}return e}parseList(){this.skipWS();let e=[];for(;!this.eof();){if(e.push(this.parseItemOrInnerList()),this.skipOWS(),this.eof())return e;if(this.expectChar(","),this.pos++,this.skipOWS(),this.eof())throw new ci(this.pos,"A list may not end with a trailing comma")}return e}parseItem(e=!0){e&&this.skipWS();let t=[this.parseBareItem(),this.parseParameters()];return e&&this.checkTrail(),t}parseItemOrInnerList(){return this.lookChar()==="("?this.parseInnerList():this.parseItem(!1)}parseInnerList(){this.expectChar("("),this.pos++;let e=[];for(;!this.eof();){if(this.skipWS(),this.lookChar()===")")return this.pos++,[e,this.parseParameters()];e.push(this.parseItem(!1));let t=this.lookChar();if(t!==" "&&t!==")")throw new ci(this.pos,"Expected a whitespace or ) after every item in an inner list")}throw new ci(this.pos,"Could not find end of inner list")}parseBareItem(){let e=this.lookChar();if(e===void 0)throw new ci(this.pos,"Unexpected end of string");if(e.match(/^[-0-9]/))return this.parseIntegerOrDecimal();if(e==='"')return this.parseString();if(e.match(/^[A-Za-z*]/))return this.parseToken();if(e===":")return this.parseByteSequence();if(e==="?")return this.parseBoolean();throw new ci(this.pos,"Unexpected input")}parseParameters(){let e=new Map;for(;!this.eof()&&this.lookChar()===";";){this.pos++,this.skipWS();let r=this.parseKey(),a=!0;this.lookChar()==="="&&(this.pos++,a=this.parseBareItem()),e.set(r,a)}return e}parseIntegerOrDecimal(){let e="integer",t=1,r="";if(this.lookChar()==="-"&&(t=-1,this.pos++),!bMA(this.lookChar()))throw new ci(this.pos,"Expected a digit (0-9)");for(;!this.eof();){let a=this.getChar();if(bMA(a))r+=a;else if(e==="integer"&&a==="."){if(r.length>12)throw new ci(this.pos,"Exceeded maximum decimal length");r+=".",e="decimal"}else{this.pos--;break}if(e==="integer"&&r.length>15)throw new ci(this.pos,"Exceeded maximum integer length");if(e==="decimal"&&r.length>16)throw new ci(this.pos,"Exceeded maximum decimal length")}if(e==="integer")return parseInt(r,10)*t;if(r.endsWith("."))throw new ci(this.pos,"Decimal cannot end on a period");if(r.split(".")[1].length>3)throw new ci(this.pos,"Number of digits after the decimal point cannot exceed 3");return parseFloat(r)*t}parseString(){let e="";for(this.expectChar('"'),this.pos++;!this.eof();){let t=this.getChar();if(t==="\\"){if(this.eof())throw new ci(this.pos,"Unexpected end of input");let r=this.getChar();if(r!=="\\"&&r!=='"')throw new ci(this.pos,"A backslash must be followed by another backslash or double quote");e+=r}else{if(t==='"')return e;if((0,jRe.isAscii)(t))e+=t;else throw new ci(this.pos,"Strings must be in the ASCII range")}}throw new ci(this.pos,"Unexpected end of input")}parseToken(){let e="";for(;!this.eof();){let t=this.lookChar();if(t===void 0||!/^[:/!#$%&'*+\-.^_`|~A-Za-z0-9]$/.test(t))return new xMA.Token(e);e+=this.getChar()}return new xMA.Token(e)}parseByteSequence(){this.expectChar(":"),this.pos++;let e=this.input.indexOf(":",this.pos);if(e===-1)throw new ci(this.pos,'Could not find a closing ":" character to mark end of Byte Sequence');let t=this.input.substring(this.pos,e);if(this.pos+=t.length+1,!/^[A-Za-z0-9+/=]*$/.test(t))throw new ci(this.pos,"ByteSequence does not contain a valid base64 string");return new aRe.ByteSequence(t)}parseBoolean(){this.expectChar("?"),this.pos++;let e=this.getChar();if(e==="1")return!0;if(e==="0")return!1;throw new ci(this.pos,'Unexpected character. Expected a "1" or a "0"')}parseKey(){var e;if(!(!((e=this.lookChar())===null||e===void 0)&&e.match(/^[a-z*]/)))throw new ci(this.pos,"A key must begin with an asterisk or letter (a-z)");let t="";for(;!this.eof();){let r=this.lookChar();if(r===void 0||!/^[a-z0-9_\-.*]$/.test(r))return t;t+=this.getChar()}return t}lookChar(){return this.input[this.pos]}expectChar(e){if(this.lookChar()!==e)throw new ci(this.pos,`Expected ${e}`)}getChar(){return this.input[this.pos++]}eof(){return this.pos>=this.input.length}skipOWS(){for(;;){let e=this.input.substr(this.pos,1);if(e===" "||e==="	")this.pos++;else break}}skipWS(){for(;this.lookChar()===" ";)this.pos++}checkTrail(){if(this.skipWS(),!this.eof())throw new ci(this.pos,"Unexpected characters at end of input")}};sp.default=C1;var sRe=/^[0-9]$/;function bMA(A){return A===void 0?!1:sRe.test(A)}});var vMA=mA(Td=>{"use strict";var lRe=Td&&Td.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),CN=Td&&Td.__exportStar||function(A,e){for(var t in A)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lRe(e,A,t)};Object.defineProperty(Td,"__esModule",{value:!0});Td.Token=void 0;CN(EMA(),Td);CN(yMA(),Td);CN(wN(),Td);CN(IO(),Td);var cRe=$N();Object.defineProperty(Td,"Token",{enumerable:!0,get:function(){return cRe.Token}})});var pdA=mA((ddA,mdA)=>{(function(A,e){typeof define=="function"&&define.amd?define([],e):typeof mdA=="object"&&typeof ddA<"u"?mdA.exports=e():A.Papa=e()})(ddA,function A(){"use strict";var e=typeof self<"u"?self:typeof window<"u"?window:e!==void 0?e:{},t=!e.document&&!!e.postMessage,r=e.IS_PAPA_WORKER||!1,a={},j=0,n={parse:function(I,q){var K=(q=q||{}).dynamicTyping||!1;if(O(K)&&(q.dynamicTypingFunction=K,K={}),q.dynamicTyping=K,q.transform=!!O(q.transform)&&q.transform,q.worker&&n.WORKERS_SUPPORTED){var aA=function(){if(!n.WORKERS_SUPPORTED)return!1;var lA=(UA=e.URL||e.webkitURL||null,le=A.toString(),n.BLOB_URL||(n.BLOB_URL=UA.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",le,")();"],{type:"text/javascript"})))),qA=new e.Worker(lA),UA,le;return qA.onmessage=w,qA.id=j++,a[qA.id]=qA}();return aA.userStep=q.step,aA.userChunk=q.chunk,aA.userComplete=q.complete,aA.userError=q.error,q.step=O(q.step),q.chunk=O(q.chunk),q.complete=O(q.complete),q.error=O(q.error),delete q.worker,void aA.postMessage({input:I,config:q,workerId:aA.id})}var nA=null;return n.NODE_STREAM_INPUT,typeof I=="string"?(I=function(lA){return lA.charCodeAt(0)===65279?lA.slice(1):lA}(I),nA=q.download?new s(q):new u(q)):I.readable===!0&&O(I.read)&&O(I.on)?nA=new p(q):(e.File&&I instanceof File||I instanceof Object)&&(nA=new c(q)),nA.stream(I)},unparse:function(I,q){var K=!1,aA=!0,nA=",",lA=`\r
`,qA='"',UA=qA+qA,le=!1,yA=null,we=!1;(function(){if(typeof q=="object"){if(typeof q.delimiter!="string"||n.BAD_DELIMITERS.filter(function(IA){return q.delimiter.indexOf(IA)!==-1}).length||(nA=q.delimiter),(typeof q.quotes=="boolean"||typeof q.quotes=="function"||Array.isArray(q.quotes))&&(K=q.quotes),typeof q.skipEmptyLines!="boolean"&&typeof q.skipEmptyLines!="string"||(le=q.skipEmptyLines),typeof q.newline=="string"&&(lA=q.newline),typeof q.quoteChar=="string"&&(qA=q.quoteChar),typeof q.header=="boolean"&&(aA=q.header),Array.isArray(q.columns)){if(q.columns.length===0)throw new Error("Option columns is empty");yA=q.columns}q.escapeChar!==void 0&&(UA=q.escapeChar+qA),(typeof q.escapeFormulae=="boolean"||q.escapeFormulae instanceof RegExp)&&(we=q.escapeFormulae instanceof RegExp?q.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ge=new RegExp(f(qA),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return ot(null,I,le);if(typeof I[0]=="object")return ot(yA||Object.keys(I[0]),I,le)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||yA),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),ot(I.fields||[],I.data||[],le);throw new Error("Unable to serialize unrecognized input");function ot(IA,ne,HA){var KA="";typeof IA=="string"&&(IA=JSON.parse(IA)),typeof ne=="string"&&(ne=JSON.parse(ne));var XA=Array.isArray(IA)&&0<IA.length,st=!Array.isArray(ne[0]);if(XA&&aA){for(var or=0;or<IA.length;or++)0<or&&(KA+=nA),KA+=ue(IA[or],or);0<ne.length&&(KA+=lA)}for(var ve=0;ve<ne.length;ve++){var gt=XA?IA.length:ne[ve].length,Ge=!1,It=XA?Object.keys(ne[ve]).length===0:ne[ve].length===0;if(HA&&!XA&&(Ge=HA==="greedy"?ne[ve].join("").trim()==="":ne[ve].length===1&&ne[ve][0].length===0),HA==="greedy"&&XA){for(var wt=[],ar=0;ar<gt;ar++){var Ot=st?IA[ar]:ar;wt.push(ne[ve][Ot])}Ge=wt.join("").trim()===""}if(!Ge){for(var zr=0;zr<gt;zr++){0<zr&&!It&&(KA+=nA);var Ba=XA&&st?IA[zr]:zr;KA+=ue(ne[ve][Ba],zr)}ve<ne.length-1&&(!HA||0<gt&&!It)&&(KA+=lA)}}return KA}function ue(IA,ne){if(IA==null)return"";if(IA.constructor===Date)return JSON.stringify(IA).slice(1,25);var HA=!1;we&&typeof IA=="string"&&we.test(IA)&&(IA="'"+IA,HA=!0);var KA=IA.toString().replace(ge,UA);return(HA=HA||K===!0||typeof K=="function"&&K(IA,ne)||Array.isArray(K)&&K[ne]||function(XA,st){for(var or=0;or<st.length;or++)if(-1<XA.indexOf(st[or]))return!0;return!1}(KA,n.BAD_DELIMITERS)||-1<KA.indexOf(nA)||KA.charAt(0)===" "||KA.charAt(KA.length-1)===" ")?qA+KA+qA:KA}}};if(n.RECORD_SEP="",n.UNIT_SEP="",n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r",`
`,'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!t&&!!e.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=10485760,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=G,n.ParserHandle=h,n.NetworkStreamer=s,n.FileStreamer=c,n.StringStreamer=u,n.ReadableStreamStreamer=p,e.jQuery){var i=e.jQuery;i.fn.parse=function(I){var q=I.config||{},K=[];return this.each(function(lA){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var qA=0;qA<this.files.length;qA++)K.push({file:this.files[qA],inputElem:this,instanceConfig:i.extend({},q)})}),aA(),this;function aA(){if(K.length!==0){var lA,qA,UA,le,yA=K[0];if(O(I.before)){var we=I.before(yA.file,yA.inputElem);if(typeof we=="object"){if(we.action==="abort")return lA="AbortError",qA=yA.file,UA=yA.inputElem,le=we.reason,void(O(I.error)&&I.error({name:lA},qA,UA,le));if(we.action==="skip")return void nA();typeof we.config=="object"&&(yA.instanceConfig=i.extend(yA.instanceConfig,we.config))}else if(we==="skip")return void nA()}var ge=yA.instanceConfig.complete;yA.instanceConfig.complete=function(ot){O(ge)&&ge(ot,yA.file,yA.inputElem),nA()},n.parse(yA.file,yA.instanceConfig)}else O(I.complete)&&I.complete()}function nA(){K.splice(0,1),aA()}}}function o(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(q){var K=$(q);K.chunkSize=parseInt(K.chunkSize),q.step||q.chunk||(K.chunkSize=null),this._handle=new h(K),(this._handle.streamer=this)._config=K}.call(this,I),this.parseChunk=function(q,K){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var aA=this._config.beforeFirstChunk(q);aA!==void 0&&(q=aA)}this.isFirstChunk=!1,this._halted=!1;var nA=this._partialLine+q;this._partialLine="";var lA=this._handle.parse(nA,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var qA=lA.meta.cursor;this._finished||(this._partialLine=nA.substring(qA-this._baseIndex),this._baseIndex=qA),lA&&lA.data&&(this._rowCount+=lA.data.length);var UA=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:lA,workerId:n.WORKER_ID,finished:UA});else if(O(this._config.chunk)&&!K){if(this._config.chunk(lA,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);lA=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(lA.data),this._completeResults.errors=this._completeResults.errors.concat(lA.errors),this._completeResults.meta=lA.meta),this._completed||!UA||!O(this._config.complete)||lA&&lA.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),UA||lA&&lA.meta.paused||this._nextChunk(),lA}this._halted=!0},this._sendError=function(q){O(this._config.error)?this._config.error(q):r&&this._config.error&&e.postMessage({workerId:n.WORKER_ID,error:q,finished:!1})}}function s(I){var q;(I=I||{}).chunkSize||(I.chunkSize=n.RemoteChunkSize),o.call(this,I),this._nextChunk=t?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(q=new XMLHttpRequest,this._config.withCredentials&&(q.withCredentials=this._config.withCredentials),t||(q.onload=T(this._chunkLoaded,this),q.onerror=T(this._chunkError,this)),q.open(this._config.downloadRequestBody?"POST":"GET",this._input,!t),this._config.downloadRequestHeaders){var K=this._config.downloadRequestHeaders;for(var aA in K)q.setRequestHeader(aA,K[aA])}if(this._config.chunkSize){var nA=this._start+this._config.chunkSize-1;q.setRequestHeader("Range","bytes="+this._start+"-"+nA)}try{q.send(this._config.downloadRequestBody)}catch(lA){this._chunkError(lA.message)}t&&q.status===0&&this._chunkError()}},this._chunkLoaded=function(){q.readyState===4&&(q.status<200||400<=q.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:q.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(K){var aA=K.getResponseHeader("Content-Range");return aA===null?-1:parseInt(aA.substring(aA.lastIndexOf("/")+1))}(q),this.parseChunk(q.responseText)))},this._chunkError=function(K){var aA=q.statusText||K;this._sendError(new Error(aA))}}function c(I){var q,K;(I=I||{}).chunkSize||(I.chunkSize=n.LocalChunkSize),o.call(this,I);var aA=typeof FileReader<"u";this.stream=function(nA){this._input=nA,K=nA.slice||nA.webkitSlice||nA.mozSlice,aA?((q=new FileReader).onload=T(this._chunkLoaded,this),q.onerror=T(this._chunkError,this)):q=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var nA=this._input;if(this._config.chunkSize){var lA=Math.min(this._start+this._config.chunkSize,this._input.size);nA=K.call(nA,this._start,lA)}var qA=q.readAsText(nA,this._config.encoding);aA||this._chunkLoaded({target:{result:qA}})},this._chunkLoaded=function(nA){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(nA.target.result)},this._chunkError=function(){this._sendError(q.error)}}function u(I){var q;o.call(this,I=I||{}),this.stream=function(K){return q=K,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var K,aA=this._config.chunkSize;return aA?(K=q.substring(0,aA),q=q.substring(aA)):(K=q,q=""),this._finished=!q,this.parseChunk(K)}}}function p(I){o.call(this,I=I||{});var q=[],K=!0,aA=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(nA){this._input=nA,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){aA&&q.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),q.length?this.parseChunk(q.shift()):K=!0},this._streamData=T(function(nA){try{q.push(typeof nA=="string"?nA:nA.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk(q.shift()))}catch(lA){this._streamError(lA)}},this),this._streamError=T(function(nA){this._streamCleanUp(),this._sendError(nA)},this),this._streamEnd=T(function(){this._streamCleanUp(),aA=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(I){var q,K,aA,nA=Math.pow(2,53),lA=-nA,qA=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,UA=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,le=this,yA=0,we=0,ge=!1,ot=!1,ue=[],IA={data:[],errors:[],meta:{}};if(O(I.step)){var ne=I.step;I.step=function(ve){if(IA=ve,XA())KA();else{if(KA(),IA.data.length===0)return;yA+=ve.data.length,I.preview&&yA>I.preview?K.abort():(IA.data=IA.data[0],ne(IA,le))}}}function HA(ve){return I.skipEmptyLines==="greedy"?ve.join("").trim()==="":ve.length===1&&ve[0].length===0}function KA(){return IA&&aA&&(or("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),aA=!1),I.skipEmptyLines&&(IA.data=IA.data.filter(function(ve){return!HA(ve)})),XA()&&function(){if(!IA)return;function ve(Ge,It){O(I.transformHeader)&&(Ge=I.transformHeader(Ge,It)),ue.push(Ge)}if(Array.isArray(IA.data[0])){for(var gt=0;XA()&&gt<IA.data.length;gt++)IA.data[gt].forEach(ve);IA.data.splice(0,1)}else IA.data.forEach(ve)}(),function(){if(!IA||!I.header&&!I.dynamicTyping&&!I.transform)return IA;function ve(Ge,It){var wt,ar=I.header?{}:[];for(wt=0;wt<Ge.length;wt++){var Ot=wt,zr=Ge[wt];I.header&&(Ot=wt>=ue.length?"__parsed_extra":ue[wt]),I.transform&&(zr=I.transform(zr,Ot)),zr=st(Ot,zr),Ot==="__parsed_extra"?(ar[Ot]=ar[Ot]||[],ar[Ot].push(zr)):ar[Ot]=zr}return I.header&&(wt>ue.length?or("FieldMismatch","TooManyFields","Too many fields: expected "+ue.length+" fields but parsed "+wt,we+It):wt<ue.length&&or("FieldMismatch","TooFewFields","Too few fields: expected "+ue.length+" fields but parsed "+wt,we+It)),ar}var gt=1;return!IA.data.length||Array.isArray(IA.data[0])?(IA.data=IA.data.map(ve),gt=IA.data.length):IA.data=ve(IA.data,0),I.header&&IA.meta&&(IA.meta.fields=ue),we+=gt,IA}()}function XA(){return I.header&&ue.length===0}function st(ve,gt){return Ge=ve,I.dynamicTypingFunction&&I.dynamicTyping[Ge]===void 0&&(I.dynamicTyping[Ge]=I.dynamicTypingFunction(Ge)),(I.dynamicTyping[Ge]||I.dynamicTyping)===!0?gt==="true"||gt==="TRUE"||gt!=="false"&&gt!=="FALSE"&&(function(It){if(qA.test(It)){var wt=parseFloat(It);if(lA<wt&&wt<nA)return!0}return!1}(gt)?parseFloat(gt):UA.test(gt)?new Date(gt):gt===""?null:gt):gt;var Ge}function or(ve,gt,Ge,It){var wt={type:ve,code:gt,message:Ge};It!==void 0&&(wt.row=It),IA.errors.push(wt)}this.parse=function(ve,gt,Ge){var It=I.quoteChar||'"';if(I.newline||(I.newline=function(Ot,zr){Ot=Ot.substring(0,1048576);var Ba=new RegExp(f(zr)+"([^]*?)"+f(zr),"gm"),rj=(Ot=Ot.replace(Ba,"")).split("\r"),aj=Ot.split(`
`),cj=1<aj.length&&aj[0].length<rj[0].length;if(rj.length===1||cj)return`
`;for(var er=0,pr=0;pr<rj.length;pr++)rj[pr][0]===`
`&&er++;return er>=rj.length/2?`\r
`:"\r"}(ve,It)),aA=!1,I.delimiter)O(I.delimiter)&&(I.delimiter=I.delimiter(ve),IA.meta.delimiter=I.delimiter);else{var wt=function(Ot,zr,Ba,rj,aj){var cj,er,pr,ua;aj=aj||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var pn=0;pn<aj.length;pn++){var ft=aj[pn],pA=0,wA=0,JA=0;pr=void 0;for(var Me=new G({comments:rj,delimiter:ft,newline:zr,preview:10}).parse(Ot),Se=0;Se<Me.data.length;Se++)if(Ba&&HA(Me.data[Se]))JA++;else{var _t=Me.data[Se].length;wA+=_t,pr!==void 0?0<_t&&(pA+=Math.abs(_t-pr),pr=_t):pr=_t}0<Me.data.length&&(wA/=Me.data.length-JA),(er===void 0||pA<=er)&&(ua===void 0||ua<wA)&&1.99<wA&&(er=pA,cj=ft,ua=wA)}return{successful:!!(I.delimiter=cj),bestDelimiter:cj}}(ve,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);wt.successful?I.delimiter=wt.bestDelimiter:(aA=!0,I.delimiter=n.DefaultDelimiter),IA.meta.delimiter=I.delimiter}var ar=$(I);return I.preview&&I.header&&ar.preview++,q=ve,K=new G(ar),IA=K.parse(q,gt,Ge),KA(),ge?{meta:{paused:!0}}:IA||{meta:{paused:!1}}},this.paused=function(){return ge},this.pause=function(){ge=!0,K.abort(),q=O(I.chunk)?"":q.substring(K.getCharIndex())},this.resume=function(){le.streamer._halted?(ge=!1,le.streamer.parseChunk(q,!0)):setTimeout(le.resume,3)},this.aborted=function(){return ot},this.abort=function(){ot=!0,K.abort(),IA.meta.aborted=!0,O(I.complete)&&I.complete(IA),q=""}}function f(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(I){var q,K=(I=I||{}).delimiter,aA=I.newline,nA=I.comments,lA=I.step,qA=I.preview,UA=I.fastMode,le=q=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(le=I.escapeChar),(typeof K!="string"||-1<n.BAD_DELIMITERS.indexOf(K))&&(K=","),nA===K)throw new Error("Comment character same as delimiter");nA===!0?nA="#":(typeof nA!="string"||-1<n.BAD_DELIMITERS.indexOf(nA))&&(nA=!1),aA!==`
`&&aA!=="\r"&&aA!==`\r
`&&(aA=`
`);var yA=0,we=!1;this.parse=function(ge,ot,ue){if(typeof ge!="string")throw new Error("Input must be a string");var IA=ge.length,ne=K.length,HA=aA.length,KA=nA.length,XA=O(lA),st=[],or=[],ve=[],gt=yA=0;if(!ge)return qe();if(I.header&&!ot){var Ge=ge.split(aA)[0].split(K),It=[],wt={},ar=!1;for(var Ot in Ge){var zr=Ge[Ot];O(I.transformHeader)&&(zr=I.transformHeader(zr,Ot));var Ba=zr,rj=wt[zr]||0;for(0<rj&&(ar=!0,Ba=zr+"_"+rj),wt[zr]=rj+1;It.includes(Ba);)Ba=Ba+"_"+rj;It.push(Ba)}if(ar){var aj=ge.split(aA);aj[0]=It.join(K),ge=aj.join(aA)}}if(UA||UA!==!1&&ge.indexOf(q)===-1){for(var cj=ge.split(aA),er=0;er<cj.length;er++){if(ve=cj[er],yA+=ve.length,er!==cj.length-1)yA+=aA.length;else if(ue)return qe();if(!nA||ve.substring(0,KA)!==nA){if(XA){if(st=[],JA(ve.split(K)),BA(),we)return qe()}else JA(ve.split(K));if(qA&&qA<=er)return st=st.slice(0,qA),qe(!0)}}return qe()}for(var pr=ge.indexOf(K,yA),ua=ge.indexOf(aA,yA),pn=new RegExp(f(le)+f(q),"g"),ft=ge.indexOf(q,yA);;)if(ge[yA]!==q)if(nA&&ve.length===0&&ge.substring(yA,yA+KA)===nA){if(ua===-1)return qe();yA=ua+HA,ua=ge.indexOf(aA,yA),pr=ge.indexOf(K,yA)}else if(pr!==-1&&(pr<ua||ua===-1))ve.push(ge.substring(yA,pr)),yA=pr+ne,pr=ge.indexOf(K,yA);else{if(ua===-1)break;if(ve.push(ge.substring(yA,ua)),_t(ua+HA),XA&&(BA(),we))return qe();if(qA&&st.length>=qA)return qe(!0)}else for(ft=yA,yA++;;){if((ft=ge.indexOf(q,ft+1))===-1)return ue||or.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:st.length,index:yA}),Se();if(ft===IA-1)return Se(ge.substring(yA,ft).replace(pn,q));if(q!==le||ge[ft+1]!==le){if(q===le||ft===0||ge[ft-1]!==le){pr!==-1&&pr<ft+1&&(pr=ge.indexOf(K,ft+1)),ua!==-1&&ua<ft+1&&(ua=ge.indexOf(aA,ft+1));var pA=Me(ua===-1?pr:Math.min(pr,ua));if(ge.substr(ft+1+pA,ne)===K){ve.push(ge.substring(yA,ft).replace(pn,q)),ge[yA=ft+1+pA+ne]!==q&&(ft=ge.indexOf(q,yA)),pr=ge.indexOf(K,yA),ua=ge.indexOf(aA,yA);break}var wA=Me(ua);if(ge.substring(ft+1+wA,ft+1+wA+HA)===aA){if(ve.push(ge.substring(yA,ft).replace(pn,q)),_t(ft+1+wA+HA),pr=ge.indexOf(K,yA),ft=ge.indexOf(q,yA),XA&&(BA(),we))return qe();if(qA&&st.length>=qA)return qe(!0);break}or.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:st.length,index:yA}),ft++}}else ft++}return Se();function JA(dA){st.push(dA),gt=yA}function Me(dA){var DA=0;if(dA!==-1){var jt=ge.substring(ft+1,dA);jt&&jt.trim()===""&&(DA=jt.length)}return DA}function Se(dA){return ue||(dA===void 0&&(dA=ge.substring(yA)),ve.push(dA),yA=IA,JA(ve),XA&&BA()),qe()}function _t(dA){yA=dA,JA(ve),ve=[],ua=ge.indexOf(aA,yA)}function qe(dA){return{data:st,errors:or,meta:{delimiter:K,linebreak:aA,aborted:we,truncated:!!dA,cursor:gt+(ot||0)}}}function BA(){lA(qe()),st=[],or=[]}},this.abort=function(){we=!0},this.getCharIndex=function(){return yA}}function w(I){var q=I.data,K=a[q.workerId],aA=!1;if(q.error)K.userError(q.error,q.file);else if(q.results&&q.results.data){var nA={abort:function(){aA=!0,y(q.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(O(K.userStep)){for(var lA=0;lA<q.results.data.length&&(K.userStep({data:q.results.data[lA],errors:q.results.errors,meta:q.results.meta},nA),!aA);lA++);delete q.results}else O(K.userChunk)&&(K.userChunk(q.results,nA,q.file),delete q.results)}q.finished&&!aA&&y(q.workerId,q.results)}function y(I,q){var K=a[I];O(K.userComplete)&&K.userComplete(q),K.terminate(),delete a[I]}function E(){throw new Error("Not implemented.")}function $(I){if(typeof I!="object"||I===null)return I;var q=Array.isArray(I)?[]:{};for(var K in I)q[K]=$(I[K]);return q}function T(I,q){return function(){I.apply(q,arguments)}}function O(I){return typeof I=="function"}return r&&(e.onmessage=function(I){var q=I.data;if(n.WORKER_ID===void 0&&q&&(n.WORKER_ID=q.workerId),typeof q.input=="string")e.postMessage({workerId:n.WORKER_ID,results:n.parse(q.input,q.config),finished:!0});else if(e.File&&q.input instanceof File||q.input instanceof Object){var K=n.parse(q.input,q.config);K&&e.postMessage({workerId:n.WORKER_ID,results:K,finished:!0})}}),(s.prototype=Object.create(o.prototype)).constructor=s,(c.prototype=Object.create(o.prototype)).constructor=c,(u.prototype=Object.create(u.prototype)).constructor=u,(p.prototype=Object.create(o.prototype)).constructor=p,n})});var jU=mA(Bg=>{"use strict";var YRA=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",nHe=YRA+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",ZRA="["+YRA+"]["+nHe+"]*",iHe=new RegExp("^"+ZRA+"$"),oHe=function(A,e){let t=[],r=e.exec(A);for(;r;){let a=[];a.startIndex=e.lastIndex-r[0].length;let j=r.length;for(let n=0;n<j;n++)a.push(r[n]);t.push(a),r=e.exec(A)}return t},sHe=function(A){let e=iHe.exec(A);return!(e===null||typeof e>"u")};Bg.isExist=function(A){return typeof A<"u"};Bg.isEmptyObject=function(A){return Object.keys(A).length===0};Bg.merge=function(A,e,t){if(e){let r=Object.keys(e),a=r.length;for(let j=0;j<a;j++)t==="strict"?A[r[j]]=[e[r[j]]]:A[r[j]]=e[r[j]]}};Bg.getValue=function(A){return Bg.isExist(A)?A:""};Bg.isName=sHe;Bg.getAllMatches=oHe;Bg.nameRegexp=ZRA});var EdA=mA(r9A=>{"use strict";var BdA=jU(),lHe={allowBooleanAttributes:!1,unpairedTags:[]};r9A.validate=function(A,e){e=Object.assign({},lHe,e);let t=[],r=!1,a=!1;A[0]==="\uFEFF"&&(A=A.substr(1));for(let j=0;j<A.length;j++)if(A[j]==="<"&&A[j+1]==="?"){if(j+=2,j=A9A(A,j),j.err)return j}else if(A[j]==="<"){let n=j;if(j++,A[j]==="!"){j=e9A(A,j);continue}else{let i=!1;A[j]==="/"&&(i=!0,j++);let o="";for(;j<A.length&&A[j]!==">"&&A[j]!==" "&&A[j]!=="	"&&A[j]!==`
`&&A[j]!=="\r";j++)o+=A[j];if(o=o.trim(),o[o.length-1]==="/"&&(o=o.substring(0,o.length-1),j--),!gHe(o)){let u;return o.trim().length===0?u="Invalid space after '<'.":u="Tag '"+o+"' is an invalid name.",So("InvalidTag",u,S6(A,j))}let s=dHe(A,j);if(s===!1)return So("InvalidAttr","Attributes for '"+o+"' have open quote.",S6(A,j));let c=s.value;if(j=s.index,c[c.length-1]==="/"){let u=j-c.length;c=c.substring(0,c.length-1);let p=t9A(c,e);if(p===!0)r=!0;else return So(p.err.code,p.err.msg,S6(A,u+p.err.line))}else if(i)if(s.tagClosed){if(c.trim().length>0)return So("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",S6(A,n));if(t.length===0)return So("InvalidTag","Closing tag '"+o+"' has not been opened.",S6(A,n));{let u=t.pop();if(o!==u.tagName){let p=S6(A,u.tagStartPos);return So("InvalidTag","Expected closing tag '"+u.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+o+"'.",S6(A,n))}t.length==0&&(a=!0)}}else return So("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",S6(A,j));else{let u=t9A(c,e);if(u!==!0)return So(u.err.code,u.err.msg,S6(A,j-c.length+u.err.line));if(a===!0)return So("InvalidXml","Multiple possible root nodes found.",S6(A,j));e.unpairedTags.indexOf(o)!==-1||t.push({tagName:o,tagStartPos:n}),r=!0}for(j++;j<A.length;j++)if(A[j]==="<")if(A[j+1]==="!"){j++,j=e9A(A,j);continue}else if(A[j+1]==="?"){if(j=A9A(A,++j),j.err)return j}else break;else if(A[j]==="&"){let u=kHe(A,j);if(u==-1)return So("InvalidChar","char '&' is not expected.",S6(A,j));j=u}else if(a===!0&&!QRA(A[j]))return So("InvalidXml","Extra text at the end",S6(A,j));A[j]==="<"&&j--}}else{if(QRA(A[j]))continue;return So("InvalidChar","char '"+A[j]+"' is not expected.",S6(A,j))}if(r){if(t.length==1)return So("InvalidTag","Unclosed tag '"+t[0].tagName+"'.",S6(A,t[0].tagStartPos));if(t.length>0)return So("InvalidXml","Invalid '"+JSON.stringify(t.map(j=>j.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return So("InvalidXml","Start tag expected.",1);return!0};function QRA(A){return A===" "||A==="	"||A===`
`||A==="\r"}function A9A(A,e){let t=e;for(;e<A.length;e++)if(A[e]=="?"||A[e]==" "){let r=A.substr(t,e-t);if(e>5&&r==="xml")return So("InvalidXml","XML declaration allowed only at the start of the document.",S6(A,e));if(A[e]=="?"&&A[e+1]==">"){e++;break}else continue}return e}function e9A(A,e){if(A.length>e+5&&A[e+1]==="-"&&A[e+2]==="-"){for(e+=3;e<A.length;e++)if(A[e]==="-"&&A[e+1]==="-"&&A[e+2]===">"){e+=2;break}}else if(A.length>e+8&&A[e+1]==="D"&&A[e+2]==="O"&&A[e+3]==="C"&&A[e+4]==="T"&&A[e+5]==="Y"&&A[e+6]==="P"&&A[e+7]==="E"){let t=1;for(e+=8;e<A.length;e++)if(A[e]==="<")t++;else if(A[e]===">"&&(t--,t===0))break}else if(A.length>e+9&&A[e+1]==="["&&A[e+2]==="C"&&A[e+3]==="D"&&A[e+4]==="A"&&A[e+5]==="T"&&A[e+6]==="A"&&A[e+7]==="["){for(e+=8;e<A.length;e++)if(A[e]==="]"&&A[e+1]==="]"&&A[e+2]===">"){e+=2;break}}return e}var cHe='"',uHe="'";function dHe(A,e){let t="",r="",a=!1;for(;e<A.length;e++){if(A[e]===cHe||A[e]===uHe)r===""?r=A[e]:r!==A[e]||(r="");else if(A[e]===">"&&r===""){a=!0;break}t+=A[e]}return r!==""?!1:{value:t,index:e,tagClosed:a}}var mHe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function t9A(A,e){let t=BdA.getAllMatches(A,mHe),r={};for(let a=0;a<t.length;a++){if(t[a][1].length===0)return So("InvalidAttr","Attribute '"+t[a][2]+"' has no space in starting.",jT(t[a]));if(t[a][3]!==void 0&&t[a][4]===void 0)return So("InvalidAttr","Attribute '"+t[a][2]+"' is without value.",jT(t[a]));if(t[a][3]===void 0&&!e.allowBooleanAttributes)return So("InvalidAttr","boolean attribute '"+t[a][2]+"' is not allowed.",jT(t[a]));let j=t[a][2];if(!hHe(j))return So("InvalidAttr","Attribute '"+j+"' is an invalid name.",jT(t[a]));if(!r.hasOwnProperty(j))r[j]=1;else return So("InvalidAttr","Attribute '"+j+"' is repeated.",jT(t[a]))}return!0}function pHe(A,e){let t=/\d/;for(A[e]==="x"&&(e++,t=/[\da-fA-F]/);e<A.length;e++){if(A[e]===";")return e;if(!A[e].match(t))break}return-1}function kHe(A,e){if(e++,A[e]===";")return-1;if(A[e]==="#")return e++,pHe(A,e);let t=0;for(;e<A.length;e++,t++)if(!(A[e].match(/\w/)&&t<20)){if(A[e]===";")break;return-1}return e}function So(A,e,t){return{err:{code:A,msg:e,line:t.line||t,col:t.col}}}function hHe(A){return BdA.isName(A)}function gHe(A){return BdA.isName(A)}function S6(A,e){let t=A.substring(0,e).split(/\r?\n/);return{line:t.length,col:t[t.length-1].length+1}}function jT(A){return A.startIndex+A[1].length}});var j9A=mA(xdA=>{var a9A={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(A,e){return e},attributeValueProcessor:function(A,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(A,e,t){return A}},fHe=function(A){return Object.assign({},a9A,A)};xdA.buildOptions=fHe;xdA.defaultOptions=a9A});var i9A=mA((ysr,n9A)=>{"use strict";var bdA=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};n9A.exports=bdA});var s9A=mA((vsr,o9A)=>{var BHe=jU();function EHe(A,e){let t={};if(A[e+3]==="O"&&A[e+4]==="C"&&A[e+5]==="T"&&A[e+6]==="Y"&&A[e+7]==="P"&&A[e+8]==="E"){e=e+9;let r=1,a=!1,j=!1,n="";for(;e<A.length;e++)if(A[e]==="<"&&!j){if(a&&yHe(A,e))e+=7,[entityName,val,e]=xHe(A,e+1),val.indexOf("&")===-1&&(t[wHe(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(a&&vHe(A,e))e+=8;else if(a&&FHe(A,e))e+=8;else if(a&&GHe(A,e))e+=9;else if(bHe)j=!0;else throw new Error("Invalid DOCTYPE");r++,n=""}else if(A[e]===">"){if(j?A[e-1]==="-"&&A[e-2]==="-"&&(j=!1,r--):r--,r===0)break}else A[e]==="["?a=!0:n+=A[e];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:t,i:e}}function xHe(A,e){let t="";for(;e<A.length&&A[e]!=="'"&&A[e]!=='"';e++)t+=A[e];if(t=t.trim(),t.indexOf(" ")!==-1)throw new Error("External entites are not supported");let r=A[e++],a="";for(;e<A.length&&A[e]!==r;e++)a+=A[e];return[t,a,e]}function bHe(A,e){return A[e+1]==="!"&&A[e+2]==="-"&&A[e+3]==="-"}function yHe(A,e){return A[e+1]==="!"&&A[e+2]==="E"&&A[e+3]==="N"&&A[e+4]==="T"&&A[e+5]==="I"&&A[e+6]==="T"&&A[e+7]==="Y"}function vHe(A,e){return A[e+1]==="!"&&A[e+2]==="E"&&A[e+3]==="L"&&A[e+4]==="E"&&A[e+5]==="M"&&A[e+6]==="E"&&A[e+7]==="N"&&A[e+8]==="T"}function FHe(A,e){return A[e+1]==="!"&&A[e+2]==="A"&&A[e+3]==="T"&&A[e+4]==="T"&&A[e+5]==="L"&&A[e+6]==="I"&&A[e+7]==="S"&&A[e+8]==="T"}function GHe(A,e){return A[e+1]==="!"&&A[e+2]==="N"&&A[e+3]==="O"&&A[e+4]==="T"&&A[e+5]==="A"&&A[e+6]==="T"&&A[e+7]==="I"&&A[e+8]==="O"&&A[e+9]==="N"}function wHe(A){if(BHe.isName(A))return A;throw new Error(`Invalid entity name ${A}`)}o9A.exports=EHe});var c9A=mA((Fsr,l9A)=>{var qHe=/^[-+]?0x[a-fA-F0-9]+$/,$He=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var IHe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function PHe(A,e={}){if(e=Object.assign({},IHe,e),!A||typeof A!="string")return A;let t=A.trim();if(e.skipLike!==void 0&&e.skipLike.test(t))return A;if(e.hex&&qHe.test(t))return Number.parseInt(t,16);{let r=$He.exec(t);if(r){let a=r[1],j=r[2],n=SHe(r[3]),i=r[4]||r[6];if(!e.leadingZeros&&j.length>0&&a&&t[2]!==".")return A;if(!e.leadingZeros&&j.length>0&&!a&&t[1]!==".")return A;{let o=Number(t),s=""+o;return s.search(/[eE]/)!==-1||i?e.eNotation?o:A:t.indexOf(".")!==-1?s==="0"&&n===""||s===n||a&&s==="-"+n?o:A:j?n===s||a+n===s?o:A:t===s||t===a+s?o:A}}else return A}}function SHe(A){return A&&A.indexOf(".")!==-1&&(A=A.replace(/0+$/,""),A==="."?A="0":A[0]==="."?A="0"+A:A[A.length-1]==="."&&(A=A.substr(0,A.length-1))),A}l9A.exports=PHe});var ydA=mA((Gsr,u9A)=>{function CHe(A){return typeof A=="function"?A:Array.isArray(A)?e=>{for(let t of A)if(typeof t=="string"&&e===t||t instanceof RegExp&&t.test(e))return!0}:()=>!1}u9A.exports=CHe});var p9A=mA((wsr,m9A)=>{"use strict";var d9A=jU(),nT=i9A(),OHe=s9A(),THe=c9A(),_He=ydA(),vdA=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=DHe,this.parseXml=LHe,this.parseTextData=zHe,this.resolveNameSpace=MHe,this.buildAttributesMap=KHe,this.isItStopNode=VHe,this.replaceEntitiesValue=UHe,this.readStopNodeData=WHe,this.saveTextToParentTag=HHe,this.addChild=NHe,this.ignoreAttributesFn=_He(this.options.ignoreAttributes)}};function DHe(A){let e=Object.keys(A);for(let t=0;t<e.length;t++){let r=e[t];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:A[r]}}}function zHe(A,e,t,r,a,j,n){if(A!==void 0&&(this.options.trimValues&&!r&&(A=A.trim()),A.length>0)){n||(A=this.replaceEntitiesValue(A));let i=this.options.tagValueProcessor(e,A,t,a,j);return i==null?A:typeof i!=typeof A||i!==A?i:this.options.trimValues?GdA(A,this.options.parseTagValue,this.options.numberParseOptions):A.trim()===A?GdA(A,this.options.parseTagValue,this.options.numberParseOptions):A}}function MHe(A){if(this.options.removeNSPrefix){let e=A.split(":"),t=A.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(A=t+e[1])}return A}var RHe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function KHe(A,e,t){if(this.options.ignoreAttributes!==!0&&typeof A=="string"){let r=d9A.getAllMatches(A,RHe),a=r.length,j={};for(let n=0;n<a;n++){let i=this.resolveNameSpace(r[n][1]);if(this.ignoreAttributesFn(i,e))continue;let o=r[n][4],s=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(s=this.options.transformAttributeName(s)),s==="__proto__"&&(s="#__proto__"),o!==void 0){this.options.trimValues&&(o=o.trim()),o=this.replaceEntitiesValue(o);let c=this.options.attributeValueProcessor(i,o,e);c==null?j[s]=o:typeof c!=typeof o||c!==o?j[s]=c:j[s]=GdA(o,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(j[s]=!0)}if(!Object.keys(j).length)return;if(this.options.attributesGroupName){let n={};return n[this.options.attributesGroupName]=j,n}return j}}var LHe=function(A){A=A.replace(/\r\n?/g,`
`);let e=new nT("!xml"),t=e,r="",a="";for(let j=0;j<A.length;j++)if(A[j]==="<")if(A[j+1]==="/"){let i=Tv(A,">",j,"Closing Tag is not closed."),o=A.substring(j+2,i).trim();if(this.options.removeNSPrefix){let u=o.indexOf(":");u!==-1&&(o=o.substr(u+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),t&&(r=this.saveTextToParentTag(r,t,a));let s=a.substring(a.lastIndexOf(".")+1);if(o&&this.options.unpairedTags.indexOf(o)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let c=0;s&&this.options.unpairedTags.indexOf(s)!==-1?(c=a.lastIndexOf(".",a.lastIndexOf(".")-1),this.tagsNodeStack.pop()):c=a.lastIndexOf("."),a=a.substring(0,c),t=this.tagsNodeStack.pop(),r="",j=i}else if(A[j+1]==="?"){let i=FdA(A,j,!1,"?>");if(!i)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,t,a),!(this.options.ignoreDeclaration&&i.tagName==="?xml"||this.options.ignorePiTags)){let o=new nT(i.tagName);o.add(this.options.textNodeName,""),i.tagName!==i.tagExp&&i.attrExpPresent&&(o[":@"]=this.buildAttributesMap(i.tagExp,a,i.tagName)),this.addChild(t,o,a)}j=i.closeIndex+1}else if(A.substr(j+1,3)==="!--"){let i=Tv(A,"-->",j+4,"Comment is not closed.");if(this.options.commentPropName){let o=A.substring(j+4,i-2);r=this.saveTextToParentTag(r,t,a),t.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}j=i}else if(A.substr(j+1,2)==="!D"){let i=OHe(A,j);this.docTypeEntities=i.entities,j=i.i}else if(A.substr(j+1,2)==="!["){let i=Tv(A,"]]>",j,"CDATA is not closed.")-2,o=A.substring(j+9,i);r=this.saveTextToParentTag(r,t,a);let s=this.parseTextData(o,t.tagname,a,!0,!1,!0,!0);s==null&&(s=""),this.options.cdataPropName?t.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):t.add(this.options.textNodeName,s),j=i+2}else{let i=FdA(A,j,this.options.removeNSPrefix),o=i.tagName,s=i.rawTagName,c=i.tagExp,u=i.attrExpPresent,p=i.closeIndex;this.options.transformTagName&&(o=this.options.transformTagName(o)),t&&r&&t.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,t,a,!1));let h=t;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(t=this.tagsNodeStack.pop(),a=a.substring(0,a.lastIndexOf("."))),o!==e.tagname&&(a+=a?"."+o:o),this.isItStopNode(this.options.stopNodes,a,o)){let f="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)o[o.length-1]==="/"?(o=o.substr(0,o.length-1),a=a.substr(0,a.length-1),c=o):c=c.substr(0,c.length-1),j=i.closeIndex;else if(this.options.unpairedTags.indexOf(o)!==-1)j=i.closeIndex;else{let w=this.readStopNodeData(A,s,p+1);if(!w)throw new Error(`Unexpected end of ${s}`);j=w.i,f=w.tagContent}let G=new nT(o);o!==c&&u&&(G[":@"]=this.buildAttributesMap(c,a,o)),f&&(f=this.parseTextData(f,o,a,!0,u,!0,!0)),a=a.substr(0,a.lastIndexOf(".")),G.add(this.options.textNodeName,f),this.addChild(t,G,a)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){o[o.length-1]==="/"?(o=o.substr(0,o.length-1),a=a.substr(0,a.length-1),c=o):c=c.substr(0,c.length-1),this.options.transformTagName&&(o=this.options.transformTagName(o));let f=new nT(o);o!==c&&u&&(f[":@"]=this.buildAttributesMap(c,a,o)),this.addChild(t,f,a),a=a.substr(0,a.lastIndexOf("."))}else{let f=new nT(o);this.tagsNodeStack.push(t),o!==c&&u&&(f[":@"]=this.buildAttributesMap(c,a,o)),this.addChild(t,f,a),t=f}r="",j=p}}else r+=A[j];return e.child};function NHe(A,e,t){let r=this.options.updateTag(e.tagname,t,e[":@"]);r===!1||(typeof r=="string"&&(e.tagname=r),A.addChild(e))}var UHe=function(A){if(this.options.processEntities){for(let e in this.docTypeEntities){let t=this.docTypeEntities[e];A=A.replace(t.regx,t.val)}for(let e in this.lastEntities){let t=this.lastEntities[e];A=A.replace(t.regex,t.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let t=this.htmlEntities[e];A=A.replace(t.regex,t.val)}A=A.replace(this.ampEntity.regex,this.ampEntity.val)}return A};function HHe(A,e,t,r){return A&&(r===void 0&&(r=Object.keys(e.child).length===0),A=this.parseTextData(A,e.tagname,t,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,r),A!==void 0&&A!==""&&e.add(this.options.textNodeName,A),A=""),A}function VHe(A,e,t){let r="*."+t;for(let a in A){let j=A[a];if(r===j||e===j)return!0}return!1}function XHe(A,e,t=">"){let r,a="";for(let j=e;j<A.length;j++){let n=A[j];if(r)n===r&&(r="");else if(n==='"'||n==="'")r=n;else if(n===t[0])if(t[1]){if(A[j+1]===t[1])return{data:a,index:j}}else return{data:a,index:j};else n==="	"&&(n=" ");a+=n}}function Tv(A,e,t,r){let a=A.indexOf(e,t);if(a===-1)throw new Error(r);return a+e.length-1}function FdA(A,e,t,r=">"){let a=XHe(A,e+1,r);if(!a)return;let j=a.data,n=a.index,i=j.search(/\s/),o=j,s=!0;i!==-1&&(o=j.substring(0,i),j=j.substring(i+1).trimStart());let c=o;if(t){let u=o.indexOf(":");u!==-1&&(o=o.substr(u+1),s=o!==a.data.substr(u+1))}return{tagName:o,tagExp:j,closeIndex:n,attrExpPresent:s,rawTagName:c}}function WHe(A,e,t){let r=t,a=1;for(;t<A.length;t++)if(A[t]==="<")if(A[t+1]==="/"){let j=Tv(A,">",t,`${e} is not closed`);if(A.substring(t+2,j).trim()===e&&(a--,a===0))return{tagContent:A.substring(r,t),i:j};t=j}else if(A[t+1]==="?")t=Tv(A,"?>",t+1,"StopNode is not closed.");else if(A.substr(t+1,3)==="!--")t=Tv(A,"-->",t+3,"StopNode is not closed.");else if(A.substr(t+1,2)==="![")t=Tv(A,"]]>",t,"StopNode is not closed.")-2;else{let j=FdA(A,t,">");j&&((j&&j.tagName)===e&&j.tagExp[j.tagExp.length-1]!=="/"&&a++,t=j.closeIndex)}}function GdA(A,e,t){if(e&&typeof A=="string"){let r=A.trim();return r==="true"?!0:r==="false"?!1:THe(A,t)}else return d9A.isExist(A)?A:""}m9A.exports=vdA});var g9A=mA(h9A=>{"use strict";function JHe(A,e){return k9A(A,e)}function k9A(A,e,t){let r,a={};for(let j=0;j<A.length;j++){let n=A[j],i=YHe(n),o="";if(t===void 0?o=i:o=t+"."+i,i===e.textNodeName)r===void 0?r=n[i]:r+=""+n[i];else{if(i===void 0)continue;if(n[i]){let s=k9A(n[i],e,o),c=QHe(s,e);n[":@"]?ZHe(s,n[":@"],o,e):Object.keys(s).length===1&&s[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?s=s[e.textNodeName]:Object.keys(s).length===0&&(e.alwaysCreateTextNode?s[e.textNodeName]="":s=""),a[i]!==void 0&&a.hasOwnProperty(i)?(Array.isArray(a[i])||(a[i]=[a[i]]),a[i].push(s)):e.isArray(i,o,c)?a[i]=[s]:a[i]=s}}}return typeof r=="string"?r.length>0&&(a[e.textNodeName]=r):r!==void 0&&(a[e.textNodeName]=r),a}function YHe(A){let e=Object.keys(A);for(let t=0;t<e.length;t++){let r=e[t];if(r!==":@")return r}}function ZHe(A,e,t,r){if(e){let a=Object.keys(e),j=a.length;for(let n=0;n<j;n++){let i=a[n];r.isArray(i,t+"."+i,!0,!0)?A[i]=[e[i]]:A[i]=e[i]}}}function QHe(A,e){let{textNodeName:t}=e,r=Object.keys(A).length;return!!(r===0||r===1&&(A[t]||typeof A[t]=="boolean"||A[t]===0))}h9A.prettify=JHe});var B9A=mA(($sr,f9A)=>{var{buildOptions:AVe}=j9A(),eVe=p9A(),{prettify:tVe}=g9A(),rVe=EdA(),wdA=class{constructor(e){this.externalEntities={},this.options=AVe(e)}parse(e,t){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(t){t===!0&&(t={});let j=rVe.validate(e,t);if(j!==!0)throw Error(`${j.err.msg}:${j.err.line}:${j.err.col}`)}let r=new eVe(this.options);r.addExternalEntities(this.externalEntities);let a=r.parseXml(e);return this.options.preserveOrder||a===void 0?a:tVe(a,this.options)}addEntity(e,t){if(t.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(t==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=t}};f9A.exports=wdA});var v9A=mA((Isr,y9A)=>{var aVe=`
`;function jVe(A,e){let t="";return e.format&&e.indentBy.length>0&&(t=aVe),x9A(A,e,"",t)}function x9A(A,e,t,r){let a="",j=!1;for(let n=0;n<A.length;n++){let i=A[n],o=nVe(i);if(o===void 0)continue;let s="";if(t.length===0?s=o:s=`${t}.${o}`,o===e.textNodeName){let f=i[o];iVe(s,e)||(f=e.tagValueProcessor(o,f),f=b9A(f,e)),j&&(a+=r),a+=f,j=!1;continue}else if(o===e.cdataPropName){j&&(a+=r),a+=`<![CDATA[${i[o][0][e.textNodeName]}]]>`,j=!1;continue}else if(o===e.commentPropName){a+=r+`<!--${i[o][0][e.textNodeName]}-->`,j=!0;continue}else if(o[0]==="?"){let f=E9A(i[":@"],e),G=o==="?xml"?"":r,w=i[o][0][e.textNodeName];w=w.length!==0?" "+w:"",a+=G+`<${o}${w}${f}?>`,j=!0;continue}let c=r;c!==""&&(c+=e.indentBy);let u=E9A(i[":@"],e),p=r+`<${o}${u}`,h=x9A(i[o],e,s,c);e.unpairedTags.indexOf(o)!==-1?e.suppressUnpairedNode?a+=p+">":a+=p+"/>":(!h||h.length===0)&&e.suppressEmptyNode?a+=p+"/>":h&&h.endsWith(">")?a+=p+`>${h}${r}</${o}>`:(a+=p+">",h&&r!==""&&(h.includes("/>")||h.includes("</"))?a+=r+e.indentBy+h+r:a+=h,a+=`</${o}>`),j=!0}return a}function nVe(A){let e=Object.keys(A);for(let t=0;t<e.length;t++){let r=e[t];if(A.hasOwnProperty(r)&&r!==":@")return r}}function E9A(A,e){let t="";if(A&&!e.ignoreAttributes)for(let r in A){if(!A.hasOwnProperty(r))continue;let a=e.attributeValueProcessor(r,A[r]);a=b9A(a,e),a===!0&&e.suppressBooleanAttributes?t+=` ${r.substr(e.attributeNamePrefix.length)}`:t+=` ${r.substr(e.attributeNamePrefix.length)}="${a}"`}return t}function iVe(A,e){A=A.substr(0,A.length-e.textNodeName.length-1);let t=A.substr(A.lastIndexOf(".")+1);for(let r in e.stopNodes)if(e.stopNodes[r]===A||e.stopNodes[r]==="*."+t)return!0;return!1}function b9A(A,e){if(A&&A.length>0&&e.processEntities)for(let t=0;t<e.entities.length;t++){let r=e.entities[t];A=A.replace(r.regex,r.val)}return A}y9A.exports=jVe});var G9A=mA((Psr,F9A)=>{"use strict";var oVe=v9A(),sVe=ydA(),lVe={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(A,e){return e},attributeValueProcessor:function(A,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function zE(A){this.options=Object.assign({},lVe,A),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=sVe(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=dVe),this.processTextOrObjNode=cVe,this.options.format?(this.indentate=uVe,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}zE.prototype.build=function(A){return this.options.preserveOrder?oVe(A,this.options):(Array.isArray(A)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(A={[this.options.arrayNodeName]:A}),this.j2x(A,0,[]).val)};zE.prototype.j2x=function(A,e,t){let r="",a="",j=t.join(".");for(let n in A)if(Object.prototype.hasOwnProperty.call(A,n))if(typeof A[n]>"u")this.isAttribute(n)&&(a+="");else if(A[n]===null)this.isAttribute(n)?a+="":n[0]==="?"?a+=this.indentate(e)+"<"+n+"?"+this.tagEndChar:a+=this.indentate(e)+"<"+n+"/"+this.tagEndChar;else if(A[n]instanceof Date)a+=this.buildTextValNode(A[n],n,"",e);else if(typeof A[n]!="object"){let i=this.isAttribute(n);if(i&&!this.ignoreAttributesFn(i,j))r+=this.buildAttrPairStr(i,""+A[n]);else if(!i)if(n===this.options.textNodeName){let o=this.options.tagValueProcessor(n,""+A[n]);a+=this.replaceEntitiesValue(o)}else a+=this.buildTextValNode(A[n],n,"",e)}else if(Array.isArray(A[n])){let i=A[n].length,o="",s="";for(let c=0;c<i;c++){let u=A[n][c];if(!(typeof u>"u"))if(u===null)n[0]==="?"?a+=this.indentate(e)+"<"+n+"?"+this.tagEndChar:a+=this.indentate(e)+"<"+n+"/"+this.tagEndChar;else if(typeof u=="object")if(this.options.oneListGroup){let p=this.j2x(u,e+1,t.concat(n));o+=p.val,this.options.attributesGroupName&&u.hasOwnProperty(this.options.attributesGroupName)&&(s+=p.attrStr)}else o+=this.processTextOrObjNode(u,n,e,t);else if(this.options.oneListGroup){let p=this.options.tagValueProcessor(n,u);p=this.replaceEntitiesValue(p),o+=p}else o+=this.buildTextValNode(u,n,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,n,s,e)),a+=o}else if(this.options.attributesGroupName&&n===this.options.attributesGroupName){let i=Object.keys(A[n]),o=i.length;for(let s=0;s<o;s++)r+=this.buildAttrPairStr(i[s],""+A[n][i[s]])}else a+=this.processTextOrObjNode(A[n],n,e,t);return{attrStr:r,val:a}};zE.prototype.buildAttrPairStr=function(A,e){return e=this.options.attributeValueProcessor(A,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+A:" "+A+'="'+e+'"'};function cVe(A,e,t,r){let a=this.j2x(A,t+1,r.concat(e));return A[this.options.textNodeName]!==void 0&&Object.keys(A).length===1?this.buildTextValNode(A[this.options.textNodeName],e,a.attrStr,t):this.buildObjectNode(a.val,e,a.attrStr,t)}zE.prototype.buildObjectNode=function(A,e,t,r){if(A==="")return e[0]==="?"?this.indentate(r)+"<"+e+t+"?"+this.tagEndChar:this.indentate(r)+"<"+e+t+this.closeTag(e)+this.tagEndChar;{let a="</"+e+this.tagEndChar,j="";return e[0]==="?"&&(j="?",a=""),(t||t==="")&&A.indexOf("<")===-1?this.indentate(r)+"<"+e+t+j+">"+A+a:this.options.commentPropName!==!1&&e===this.options.commentPropName&&j.length===0?this.indentate(r)+`<!--${A}-->`+this.newLine:this.indentate(r)+"<"+e+t+j+this.tagEndChar+A+this.indentate(r)+a}};zE.prototype.closeTag=function(A){let e="";return this.options.unpairedTags.indexOf(A)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${A}`,e};zE.prototype.buildTextValNode=function(A,e,t,r){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${A}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(r)+`<!--${A}-->`+this.newLine;if(e[0]==="?")return this.indentate(r)+"<"+e+t+"?"+this.tagEndChar;{let a=this.options.tagValueProcessor(e,A);return a=this.replaceEntitiesValue(a),a===""?this.indentate(r)+"<"+e+t+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+t+">"+a+"</"+e+this.tagEndChar}};zE.prototype.replaceEntitiesValue=function(A){if(A&&A.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let t=this.options.entities[e];A=A.replace(t.regex,t.val)}return A};function uVe(A){return this.options.indentBy.repeat(A)}function dVe(A){return A.startsWith(this.options.attributeNamePrefix)&&A!==this.options.textNodeName?A.substr(this.attrPrefixLen):!1}F9A.exports=zE});var qdA=mA((Ssr,w9A)=>{"use strict";var mVe=EdA(),pVe=B9A(),kVe=G9A();w9A.exports={XMLParser:pVe,XMLValidator:mVe,XMLBuilder:kVe}});var OKA=mA((uT,mU)=>{(function(A,e){"use strict";var t="1.0.37",r="",a="?",j="function",n="undefined",i="object",o="string",s="major",c="model",u="name",p="type",h="vendor",f="version",G="architecture",w="console",y="mobile",E="tablet",$="smarttv",T="wearable",O="embedded",I=500,q="Amazon",K="Apple",aA="ASUS",nA="BlackBerry",lA="Browser",qA="Chrome",UA="Edge",le="Firefox",yA="Google",we="Huawei",ge="LG",ot="Microsoft",ue="Motorola",IA="Opera",ne="Samsung",HA="Sharp",KA="Sony",XA="Xiaomi",st="Zebra",or="Facebook",ve="Chromium OS",gt="Mac OS",Ge=function(ft,pA){var wA={};for(var JA in ft)pA[JA]&&pA[JA].length%2===0?wA[JA]=pA[JA].concat(ft[JA]):wA[JA]=ft[JA];return wA},It=function(ft){for(var pA={},wA=0;wA<ft.length;wA++)pA[ft[wA].toUpperCase()]=ft[wA];return pA},wt=function(ft,pA){return typeof ft===o?ar(pA).indexOf(ar(ft))!==-1:!1},ar=function(ft){return ft.toLowerCase()},Ot=function(ft){return typeof ft===o?ft.replace(/[^\d\.]/g,r).split(".")[0]:e},zr=function(ft,pA){if(typeof ft===o)return ft=ft.replace(/^\s\s*/,r),typeof pA===n?ft:ft.substring(0,I)},Ba=function(ft,pA){for(var wA=0,JA,Me,Se,_t,qe,BA;wA<pA.length&&!qe;){var dA=pA[wA],DA=pA[wA+1];for(JA=Me=0;JA<dA.length&&!qe&&dA[JA];)if(qe=dA[JA++].exec(ft),qe)for(Se=0;Se<DA.length;Se++)BA=qe[++Me],_t=DA[Se],typeof _t===i&&_t.length>0?_t.length===2?typeof _t[1]==j?this[_t[0]]=_t[1].call(this,BA):this[_t[0]]=_t[1]:_t.length===3?typeof _t[1]===j&&!(_t[1].exec&&_t[1].test)?this[_t[0]]=BA?_t[1].call(this,BA,_t[2]):e:this[_t[0]]=BA?BA.replace(_t[1],_t[2]):e:_t.length===4&&(this[_t[0]]=BA?_t[3].call(this,BA.replace(_t[1],_t[2])):e):this[_t]=BA||e;wA+=2}},rj=function(ft,pA){for(var wA in pA)if(typeof pA[wA]===i&&pA[wA].length>0){for(var JA=0;JA<pA[wA].length;JA++)if(wt(pA[wA][JA],ft))return wA===a?e:wA}else if(wt(pA[wA],ft))return wA===a?e:wA;return ft},aj={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},cj={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},er={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,IA+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,IA]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[u,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+lA]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[u,"Smart Lenovo "+lA]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+lA],f],[/\bfocus\/([\w\.]+)/i],[f,[u,le+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,IA+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,IA+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+lA]],[/fxios\/([-\w\.]+)/i],[f,[u,le]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+lA]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+lA],f],[/samsungbrowser\/([\w\.]+)/i],[f,[u,ne+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,or],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,qA+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,qA+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+lA]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,rj,aj]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,le+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[G,"amd64"]],[/(ia32(?=;))/i],[[G,ar]],[/((?:i[346]|x)86)[;\)]/i],[[G,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/windows (ce|mobile); ppc;/i],[[G,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[G,/ower/,r,ar]],[/(sun4\w)[;\)]/i],[[G,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[G,ar]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[h,ne],[p,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[h,ne],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[h,K],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[h,K],[p,E]],[/(macintosh);/i],[c,[h,K]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[h,HA],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[h,we],[p,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[h,we],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[h,XA],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[h,XA],[p,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[h,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[h,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[h,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[h,ue],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[h,ue],[p,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[h,ge],[p,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[h,ge],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[h,"Lenovo"],[p,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[h,"Nokia"],[p,y]],[/(pixel c)\b/i],[c,[h,yA],[p,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[h,yA],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,KA],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[h,KA],[p,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[h,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[h,q],[p,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[h,q],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,h,[p,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[h,nA],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[h,aA],[p,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[h,aA],[p,y]],[/(nexus 9)/i],[c,[h,"HTC"],[p,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[c,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[h,"Acer"],[p,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[h,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[h,"Ulefone"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,c,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,c,[p,E]],[/(surface duo)/i],[c,[h,ot],[p,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[h,"Fairphone"],[p,y]],[/(u304aa)/i],[c,[h,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[c,[h,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[c,[h,"RCA"],[p,E]],[/\b(venue[\d ]{2,7}) b/i],[c,[h,"Dell"],[p,E]],[/\b(q(?:mv|ta)\w+) b/i],[c,[h,"Verizon"],[p,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[h,"Barnes & Noble"],[p,E]],[/\b(tm\d{3}\w+) b/i],[c,[h,"NuVision"],[p,E]],[/\b(k88) b/i],[c,[h,"ZTE"],[p,E]],[/\b(nx\d{3}j) b/i],[c,[h,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[c,[h,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[c,[h,"Swiss"],[p,E]],[/\b((zeki)?tb.*\b) b/i],[c,[h,"Zeki"],[p,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],c,[p,E]],[/\b(ns-?\w{0,9}) b/i],[c,[h,"Insignia"],[p,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[h,"NextBook"],[p,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],c,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],c,[p,y]],[/\b(ph-1) /i],[c,[h,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[h,"Envizen"],[p,E]],[/\b(trio[-\w\. ]+) b/i],[c,[h,"MachSpeed"],[p,E]],[/\btu_(1491) b/i],[c,[h,"Rotor"],[p,E]],[/(shield[\w ]+) b/i],[c,[h,"Nvidia"],[p,E]],[/(sprint) (\w+)/i],[h,c,[p,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,ot],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[h,st],[p,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[h,st],[p,y]],[/smart-tv.+(samsung)/i],[h,[p,$]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,ne],[p,$]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,ge],[p,$]],[/(apple) ?tv/i],[h,[c,K+" TV"],[p,$]],[/crkey/i],[[c,qA+"cast"],[h,yA],[p,$]],[/droid.+aft(\w+)( bui|\))/i],[c,[h,q],[p,$]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[h,HA],[p,$]],[/(bravia[\w ]+)( bui|\))/i],[c,[h,KA],[p,$]],[/(mitv-\w{5}) bui/i],[c,[h,XA],[p,$]],[/Hbbtv.*(technisat) (.*);/i],[h,c,[p,$]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,zr],[c,zr],[p,$]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,$]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,c,[p,w]],[/droid.+; (shield) bui/i],[c,[h,"Nvidia"],[p,w]],[/(playstation [345portablevi]+)/i],[c,[h,KA],[p,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[h,ot],[p,w]],[/((pebble))app/i],[h,c,[p,T]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[h,K],[p,T]],[/droid.+; (glass) \d/i],[c,[h,yA],[p,T]],[/droid.+; (wt63?0{2,3})\)/i],[c,[h,st],[p,T]],[/(quest( 2| pro)?)/i],[c,[h,or],[p,T]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,O]],[/(aeobc)\b/i],[c,[h,q],[p,O]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[p,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,UA+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[f,rj,cj]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,rj,cj],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,gt],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,nA]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,le+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[u,qA+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,ve],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,f]]},pr=function(ft,pA){if(typeof ft===i&&(pA=ft,ft=e),!(this instanceof pr))return new pr(ft,pA).getResult();var wA=typeof A!==n&&A.navigator?A.navigator:e,JA=ft||(wA&&wA.userAgent?wA.userAgent:r),Me=wA&&wA.userAgentData?wA.userAgentData:e,Se=pA?Ge(er,pA):er,_t=wA&&wA.userAgent==JA;return this.getBrowser=function(){var qe={};return qe[u]=e,qe[f]=e,Ba.call(qe,JA,Se.browser),qe[s]=Ot(qe[f]),_t&&wA&&wA.brave&&typeof wA.brave.isBrave==j&&(qe[u]="Brave"),qe},this.getCPU=function(){var qe={};return qe[G]=e,Ba.call(qe,JA,Se.cpu),qe},this.getDevice=function(){var qe={};return qe[h]=e,qe[c]=e,qe[p]=e,Ba.call(qe,JA,Se.device),_t&&!qe[p]&&Me&&Me.mobile&&(qe[p]=y),_t&&qe[c]=="Macintosh"&&wA&&typeof wA.standalone!==n&&wA.maxTouchPoints&&wA.maxTouchPoints>2&&(qe[c]="iPad",qe[p]=E),qe},this.getEngine=function(){var qe={};return qe[u]=e,qe[f]=e,Ba.call(qe,JA,Se.engine),qe},this.getOS=function(){var qe={};return qe[u]=e,qe[f]=e,Ba.call(qe,JA,Se.os),_t&&!qe[u]&&Me&&Me.platform!="Unknown"&&(qe[u]=Me.platform.replace(/chrome os/i,ve).replace(/macos/i,gt)),qe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return JA},this.setUA=function(qe){return JA=typeof qe===o&&qe.length>I?zr(qe,I):qe,this},this.setUA(JA),this};pr.VERSION=t,pr.BROWSER=It([u,f,s]),pr.CPU=It([G]),pr.DEVICE=It([c,h,p,w,y,$,E,T,O]),pr.ENGINE=pr.OS=It([u,f]),typeof uT!==n?(typeof mU!==n&&mU.exports&&(uT=mU.exports=pr),uT.UAParser=pr):typeof define===j&&define.amd?define(function(){return pr}):typeof A!==n&&(A.UAParser=pr);var ua=typeof A!==n&&(A.jQuery||A.Zepto);if(ua&&!ua.ua){var pn=new pr;ua.ua=pn.getResult(),ua.ua.get=function(){return pn.getUA()},ua.ua.set=function(ft){pn.setUA(ft);var pA=pn.getResult();for(var wA in pA)ua.ua[wA]=pA[wA]}}})(typeof window=="object"?window:uT)});var bmA=mA(o$=>{"use strict";Object.defineProperty(o$,"__esModule",{value:!0});var $Qe=/\s/g,IQe=/\W/g;o$.generator={plain:function(A){return A},hyphens:function(A){var e=A.trim().replace($Qe,"-").replace(IQe,"-");return e}};function PQe(A,e){var t=e.zero,r=e.one,a=e.other;return"{"+A+`, plural,
`+(t?"	=0{"+t+`}
`:"")+(r?"	one{"+r+`}
`:"")+("	other{"+a+"}}")}o$.Plural=PQe;var SQe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},CQe=function(A){return A.replace(/[&<>"']/g,function(e){return SQe[e]})};o$.splitAndEscapeReplacements=function(A){var e={},t={};for(var r in A)if(A.hasOwnProperty(r)){var a=A[r];typeof a=="function"?t[r]=a:typeof a=="string"?e[r]=CQe(a):e[r]=a}return[e,t]};o$.assign=function(A,e){var t=Object(A);for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}});var E3A=mA(ET=>{"use strict";Object.defineProperty(ET,"__esModule",{value:!0});ET.dateTimeFormats={short:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},dateTime:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}};ET.numberFormats={currency:{style:"currency",currency:"USD"},decimal:{style:"decimal"},percent:{style:"percent"}};function OQe(A){var e={};return function(t,r){var a=Array.prototype.slice.call(arguments),j=t+"-"+JSON.stringify(r);if(j in e)return e[j];var n=new((i=Function.prototype.bind).call.apply(i,[A,null].concat(a)));return e[j]=n,n;var i}}ET.default=OQe});var b3A=mA(ymA=>{"use strict";Object.defineProperty(ymA,"__esModule",{value:!0});var x3A={OPEN:"{",CLOSE:"}"};function TQe(A,e){if(!e)return A;for(var t="",r=[],a=0;a<A.length;a++)switch(A.charAt(a)){case x3A.OPEN:r.push(t),t="";break;case x3A.CLOSE:r.push(e[t]),t="";break;default:t+=A.charAt(a)}return r.push(t),r.join("")}ymA.default=TQe});var v3A=mA(GmA=>{"use strict";Object.defineProperty(GmA,"__esModule",{value:!0});var vmA="wrap",FmA;function _Qe(A,e){typeof FmA>"u"&&(FmA=new DOMParser);var t=FmA.parseFromString("<"+vmA+">"+A+"</"+vmA+">","text/xml");if(!t.firstChild||t.firstChild.nodeName!==vmA)throw new Error("Could not parse XML string");return y3A(t.firstChild,e,!0)}GmA.default=_Qe;var DQe=1,zQe=3;function y3A(A,e,t){if(t===void 0&&(t=!1),A.nodeType===zQe)return A.nodeValue?[A.nodeValue]:[];if(A.nodeType===DQe){var r=Array.prototype.slice.call(A.childNodes),a=r.reduce(function(j,n){return j.concat(y3A(n,e))},[]);return t||!e[A.nodeName]?a:[e[A.nodeName].apply(e,a)]}else return[]}});var G3A=mA(Lv=>{"use strict";Object.defineProperty(Lv,"__esModule",{value:!0});var s$=E3A(),IU=bmA(),MQe=b3A(),RQe=v3A(),F3A="en",KQe=function(A,e,t){var r=A[e],a=A[F3A];return r&&r[t]?r[t]:a&&a[t]?a[t]:""},LQe=function(A){if(typeof Intl>"u"){var e=function(){throw new Error("Missing Intl")};return{date:e,number:e}}var t=function(){var i=Intl.DateTimeFormat;function o(){var s=Array.prototype.slice.apply(arguments);return s[0]=s[0]||"en-US",s[1]=s[1]||{},s[1].timeZone=s[1].timeZone||"America/Toronto",i.apply(this,s)}return o.prototype=i.prototype,o};try{Intl.DateTimeFormat(),new Date().toLocaleString(),new Date().toLocaleDateString(),new Date().toLocaleTimeString()}catch{Date.prototype.toLocaleString=Date.prototype.toString,Date.prototype.toLocaleDateString=Date.prototype.toDateString,Date.prototype.toLocaleTimeString=Date.prototype.toTimeString,Intl.DateTimeFormat=t()}var r=s$.default(Intl.DateTimeFormat),a=s$.default(Intl.NumberFormat),j=function(i,o,s){o===void 0&&(o="long"),s===void 0&&(s=A());var c=s$.dateTimeFormats[o]||s$.dateTimeFormats.long;return r(s,c).format(i)},n=function(i,o,s){o===void 0&&(o="decimal"),s===void 0&&(s=A());var c=s$.numberFormats[o]||s$.numberFormats.decimal;return a(s,c).format(i)};return{date:j,number:n}};Lv.makeBasicT=function(){var A={},e=F3A,t=IU.generator.hyphens,r=function(s){return s===void 0&&(s={}),A=s.messages||A,e=s.locale||e,t=s.idGenerator||t,{messages:A,locale:e,idGenerator:t}},a=function(s){return t(s)},j=function(s,c,u){c===void 0&&(c={}),u===void 0&&(u="");var p=KQe(A,e,s)||u||s;return typeof p=="string"?MQe.default(p,c):p(c)},n=function(s,c,u){return c===void 0&&(c={}),u===void 0&&(u=""),j(u||a(s),c,s)},i=function(s,c,u){c===void 0&&(c={}),u===void 0&&(u="");var p=IU.splitAndEscapeReplacements(c),h=p[0],f=p[1],G=n(s,h,u);return RQe.default(G,f)},o={$:i,generateId:a,locale:function(){return e},lookup:j,set:r};return IU.assign(n,o)};Lv.makeT=function(){var A=Lv.makeBasicT(),e=LQe(A.locale);return IU.assign(A,e)};Lv.default=Lv.makeT()});var Ln=mA(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});var w3A=bmA();Nv.Plural=w3A.Plural;Nv.generator=w3A.generator;var wmA=G3A();Nv.T=wmA.default;Nv.makeBasicT=wmA.makeBasicT;Nv.makeT=wmA.makeT});var J3A=mA((M7r,OU)=>{var $3A,I3A,P3A,S3A,C3A,O3A,T3A,_3A,D3A,CU,$mA,z3A,M3A,u$,R3A,K3A,L3A,N3A,U3A,H3A,V3A,X3A,W3A;(function(A){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){A(t(e,t(r)))}):typeof OU=="object"&&typeof OU.exports=="object"?A(t(e,t(OU.exports))):A(t(e));function t(r,a){return r!==e&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(j,n){return r[j]=a?a(j,n):n}}})(function(A){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])};$3A=function(t,r){e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)},I3A=Object.assign||function(t){for(var r,a=1,j=arguments.length;a<j;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P3A=function(t,r){var a={};for(var j in t)Object.prototype.hasOwnProperty.call(t,j)&&r.indexOf(j)<0&&(a[j]=t[j]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,j=Object.getOwnPropertySymbols(t);n<j.length;n++)r.indexOf(j[n])<0&&Object.prototype.propertyIsEnumerable.call(t,j[n])&&(a[j[n]]=t[j[n]]);return a},S3A=function(t,r,a,j){var n=arguments.length,i=n<3?r:j===null?j=Object.getOwnPropertyDescriptor(r,a):j,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,r,a,j);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(n<3?o(i):n>3?o(r,a,i):o(r,a))||i);return n>3&&i&&Object.defineProperty(r,a,i),i},C3A=function(t,r){return function(a,j){r(a,j,t)}},O3A=function(t,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,r)},T3A=function(t,r,a,j){function n(i){return i instanceof a?i:new a(function(o){o(i)})}return new(a||(a=Promise))(function(i,o){function s(p){try{u(j.next(p))}catch(h){o(h)}}function c(p){try{u(j.throw(p))}catch(h){o(h)}}function u(p){p.done?i(p.value):n(p.value).then(s,c)}u((j=j.apply(t,r||[])).next())})},_3A=function(t,r){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},j,n,i,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(p){return c([u,p])}}function c(u){if(j)throw new TypeError("Generator is already executing.");for(;a;)try{if(j=1,n&&(i=u[0]&2?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=r.call(t,a)}catch(p){u=[6,p],n=0}finally{j=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},W3A=function(t,r,a,j){j===void 0&&(j=a),t[j]=r[a]},D3A=function(t,r){for(var a in t)a!=="default"&&!r.hasOwnProperty(a)&&(r[a]=t[a])},CU=function(t){var r=typeof Symbol=="function"&&Symbol.iterator,a=r&&t[r],j=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&j>=t.length&&(t=void 0),{value:t&&t[j++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},$mA=function(t,r){var a=typeof Symbol=="function"&&t[Symbol.iterator];if(!a)return t;var j=a.call(t),n,i=[],o;try{for(;(r===void 0||r-- >0)&&!(n=j.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(a=j.return)&&a.call(j)}finally{if(o)throw o.error}}return i},z3A=function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat($mA(arguments[r]));return t},M3A=function(){for(var t=0,r=0,a=arguments.length;r<a;r++)t+=arguments[r].length;for(var j=Array(t),n=0,r=0;r<a;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,n++)j[n]=i[o];return j},u$=function(t){return this instanceof u$?(this.v=t,this):new u$(t)},R3A=function(t,r,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=a.apply(t,r||[]),n,i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(f){j[f]&&(n[f]=function(G){return new Promise(function(w,y){i.push([f,G,w,y])>1||s(f,G)})})}function s(f,G){try{c(j[f](G))}catch(w){h(i[0][3],w)}}function c(f){f.value instanceof u$?Promise.resolve(f.value.v).then(u,p):h(i[0][2],f)}function u(f){s("next",f)}function p(f){s("throw",f)}function h(f,G){f(G),i.shift(),i.length&&s(i[0][0],i[0][1])}},K3A=function(t){var r,a;return r={},j("next"),j("throw",function(n){throw n}),j("return"),r[Symbol.iterator]=function(){return this},r;function j(n,i){r[n]=t[n]?function(o){return(a=!a)?{value:u$(t[n](o)),done:n==="return"}:i?i(o):o}:i}},L3A=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],a;return r?r.call(t):(t=typeof CU=="function"?CU(t):t[Symbol.iterator](),a={},j("next"),j("throw"),j("return"),a[Symbol.asyncIterator]=function(){return this},a);function j(i){a[i]=t[i]&&function(o){return new Promise(function(s,c){o=t[i](o),n(s,c,o.done,o.value)})}}function n(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}},N3A=function(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t},U3A=function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var a in t)Object.hasOwnProperty.call(t,a)&&(r[a]=t[a]);return r.default=t,r},H3A=function(t){return t&&t.__esModule?t:{default:t}},V3A=function(t,r){if(!r.has(t))throw new TypeError("attempted to get private field on non-instance");return r.get(t)},X3A=function(t,r,a){if(!r.has(t))throw new TypeError("attempted to set private field on non-instance");return r.set(t,a),a},A("__extends",$3A),A("__assign",I3A),A("__rest",P3A),A("__decorate",S3A),A("__param",C3A),A("__metadata",O3A),A("__awaiter",T3A),A("__generator",_3A),A("__exportStar",D3A),A("__createBinding",W3A),A("__values",CU),A("__read",$mA),A("__spread",z3A),A("__spreadArrays",M3A),A("__await",u$),A("__asyncGenerator",R3A),A("__asyncDelegator",K3A),A("__asyncValues",L3A),A("__makeTemplateObject",N3A),A("__importStar",U3A),A("__importDefault",H3A),A("__classPrivateFieldGet",V3A),A("__classPrivateFieldSet",X3A)})});var DLA=mA(QU=>{"use strict";Object.defineProperty(QU,"__esModule",{value:!0});QU.AccountType=void 0;var _LA;(function(A){A.Individual="I",A.Family="F",A.Team="B",A.Unsupported="Unsupported"})(_LA||(QU.AccountType=_LA={}))});var MLA=mA(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.BillingStatus=void 0;var zLA;(function(A){A.Active="A",A.Pending="P",A.CancelAtEnd="C",A.Frozen="F",A.Lapsed="L",A.Trialing="T",A.Unsupported="Unsupported"})(zLA||(AH.BillingStatus=zLA={}))});var Bl=mA(Yo=>{"use strict";var RLA=Yo&&Yo.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),FAt=Yo&&Yo.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),GAt=Yo&&Yo.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&RLA(e,A,t);return FAt(e,A),e},KLA=Yo&&Yo.__exportStar||function(A,e){for(var t in A)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&RLA(e,A,t)},LLA;Object.defineProperty(Yo,"__esModule",{value:!0});Yo.TelemetryStringC=Yo.TelemetryString=Yo.exactPartial=Yo.exactType=void 0;var r0=GAt(OA()),wAt=(A,e)=>r0.exact(r0.type(A),e);Yo.exactType=wAt;var qAt=(A,e)=>r0.exact(r0.partial(A),e);Yo.exactPartial=qAt;var $At=Symbol("string"),a0=class{constructor(e){this[LLA]=0,this.str=e}};Yo.TelemetryString=a0;LLA=$At;a0.assertSafeForTelemetry=A=>new a0(A);Yo.TelemetryStringC=new r0.Type("TelemetryString",A=>A instanceof a0,(A,e)=>A instanceof a0?r0.success(A.str):r0.failure(A,e,"cannot decode unknown value to TelemetryString"),A=>JSON.stringify(A.str));KLA(DLA(),Yo);KLA(MLA(),Yo)});var ULA=mA(Jk=>{"use strict";var IAt=Jk&&Jk.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),PAt=Jk&&Jk.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),SAt=Jk&&Jk.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&IAt(e,A,t);return PAt(e,A),e};Object.defineProperty(Jk,"__esModule",{value:!0});Jk.AccountContext=void 0;var Ks=SAt(OA()),NLA=Bl();Jk.AccountContext=Ks.exact(Ks.type({schema:Ks.literal("iglu:com.1password.core/account_context/jsonschema/1-0-0"),data:Ks.exact(Ks.intersection([Ks.type({user_uuid:NLA.TelemetryStringC,account_uuid:NLA.TelemetryStringC,account_type:Ks.union([Ks.literal("I"),Ks.literal("F"),Ks.literal("B")])}),Ks.partial({billing_status:Ks.union([Ks.literal("A"),Ks.literal("P"),Ks.literal("C"),Ks.literal("F"),Ks.literal("L"),Ks.literal("T")])})]))}))});var HLA=mA(Yk=>{"use strict";var CAt=Yk&&Yk.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),OAt=Yk&&Yk.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),TAt=Yk&&Yk.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&CAt(e,A,t);return OAt(e,A),e};Object.defineProperty(Yk,"__esModule",{value:!0});Yk.AppContext=void 0;var j0=TAt(OA()),eH=Bl();Yk.AppContext=j0.exact(j0.type({schema:j0.literal("iglu:com.1password.core/app_context/jsonschema/2-1-0"),data:j0.exact(j0.intersection([j0.type({name:eH.TelemetryStringC,version:eH.TelemetryStringC}),j0.partial({app_used_locale:eH.TelemetryStringC,app_default_locale:eH.TelemetryStringC})]))}))});var VLA=mA(Zk=>{"use strict";var _At=Zk&&Zk.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),DAt=Zk&&Zk.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),zAt=Zk&&Zk.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&_At(e,A,t);return DAt(e,A),e};Object.defineProperty(Zk,"__esModule",{value:!0});Zk.DeviceContext=void 0;var n0=zAt(OA()),tH=Bl();Zk.DeviceContext=n0.exact(n0.type({schema:n0.literal("iglu:com.1password.core/device_context/jsonschema/1-1-0"),data:n0.exact(n0.intersection([n0.type({device_uuid:tH.TelemetryStringC}),n0.partial({os_name:tH.TelemetryStringC,os_version:tH.TelemetryStringC,os_locale:tH.TelemetryStringC})]))}))});var XLA=mA(Qk=>{"use strict";var MAt=Qk&&Qk.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),RAt=Qk&&Qk.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),KAt=Qk&&Qk.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&MAt(e,A,t);return RAt(e,A),e};Object.defineProperty(Qk,"__esModule",{value:!0});Qk.ExperimentationContext=void 0;var f$=KAt(OA()),LAt=Bl();Qk.ExperimentationContext=f$.exact(f$.type({schema:f$.literal("iglu:com.1password.core/experimentation_context/jsonschema/1-0-0"),data:f$.exact(f$.type({assigned_experiments:f$.array(LAt.TelemetryStringC)}))}))});var WLA=mA(A7=>{"use strict";var NAt=A7&&A7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),UAt=A7&&A7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),HAt=A7&&A7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&NAt(e,A,t);return UAt(e,A),e};Object.defineProperty(A7,"__esModule",{value:!0});A7.FeatureFlagContext=void 0;var B$=HAt(OA()),VAt=Bl();A7.FeatureFlagContext=B$.exact(B$.type({schema:B$.literal("iglu:com.1password.core/feature_flag_context/jsonschema/1-0-0"),data:B$.exact(B$.type({assigned_flags:B$.array(VAt.TelemetryStringC)}))}))});var JLA=mA(rH=>{"use strict";Object.defineProperty(rH,"__esModule",{value:!0});rH.AllContexts=void 0;var XAt=ULA(),WAt=HLA(),JAt=VLA(),YAt=XLA(),ZAt=WLA();rH.AllContexts={AccountContext:XAt.AccountContext,AppContext:WAt.AppContext,DeviceContext:JAt.DeviceContext,ExperimentationContext:YAt.ExperimentationContext,FeatureFlagContext:ZAt.FeatureFlagContext}});var YLA=mA(e7=>{"use strict";var QAt=e7&&e7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Aet=e7&&e7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),eet=e7&&e7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&QAt(e,A,t);return Aet(e,A),e};Object.defineProperty(e7,"__esModule",{value:!0});e7.AppUnlock=void 0;var Co=eet(OA());e7.AppUnlock=Co.exact(Co.type({schema:Co.literal("iglu:com.1password.app/app_unlock/jsonschema/1-0-1"),data:Co.exact(Co.intersection([Co.type({unlock_method:Co.union([Co.literal("BIOMETRIC"),Co.literal("PASSWORD"),Co.literal("PIN"),Co.literal("SSO"),Co.literal("PASSKEY"),Co.literal("B5WEB"),Co.literal("SLS")]),status:Co.union([Co.literal("SUCCESS"),Co.literal("FAIL"),Co.literal("REQUEST")])}),Co.partial({count_locked:Co.Int,count_unlocked:Co.Int})]))}))});var ZLA=mA(t7=>{"use strict";var tet=t7&&t7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),ret=t7&&t7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),aet=t7&&t7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&tet(e,A,t);return ret(e,A),e};Object.defineProperty(t7,"__esModule",{value:!0});t7.AutolockDurationSettingUpdate=void 0;var Bp=aet(OA());t7.AutolockDurationSettingUpdate=Bp.exact(Bp.type({schema:Bp.literal("iglu:com.1password.app/autolock-duration-setting_update/jsonschema/1-0-0"),data:Bp.exact(Bp.type({autolock_duration_setting_status:Bp.union([Bp.literal("SUCCESSFUL"),Bp.literal("FAILED"),Bp.literal("REQUESTED")]),autolock_duration_before:Bp.Int,autolock_duration_after:Bp.Int}))}))});var ANA=mA(r7=>{"use strict";var jet=r7&&r7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),net=r7&&r7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),iet=r7&&r7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&jet(e,A,t);return net(e,A),e};Object.defineProperty(r7,"__esModule",{value:!0});r7.BackgroundAction=void 0;var i0=iet(OA()),QLA=Bl();r7.BackgroundAction=i0.exact(i0.type({schema:i0.literal("iglu:com.1password.app/background_action/jsonschema/1-0-1"),data:i0.exact(i0.intersection([i0.type({name:QLA.TelemetryStringC}),i0.partial({category:QLA.TelemetryStringC})]))}))});var tNA=mA(a7=>{"use strict";var oet=a7&&a7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),set=a7&&a7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),cet=a7&&a7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&oet(e,A,t);return set(e,A),e};Object.defineProperty(a7,"__esModule",{value:!0});a7.CliRequest=void 0;var o0=cet(OA()),eNA=Bl();a7.CliRequest=o0.exact(o0.type({schema:o0.literal("iglu:com.1password.app/cli_request/jsonschema/1-0-0"),data:o0.exact(o0.intersection([o0.type({command:eNA.TelemetryStringC}),o0.partial({command_alias:eNA.TelemetryStringC})]))}))});var rNA=mA(j7=>{"use strict";var uet=j7&&j7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),det=j7&&j7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),met=j7&&j7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&uet(e,A,t);return det(e,A),e};Object.defineProperty(j7,"__esModule",{value:!0});j7.Click=void 0;var s0=met(OA()),aH=Bl();j7.Click=s0.exact(s0.type({schema:s0.literal("iglu:com.1password.app/click/jsonschema/1-0-0"),data:s0.exact(s0.intersection([s0.type({component_type:aH.TelemetryStringC,component_name:aH.TelemetryStringC}),s0.partial({source:aH.TelemetryStringC,category:aH.TelemetryStringC})]))}))});var aNA=mA(n7=>{"use strict";var pet=n7&&n7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),ket=n7&&n7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),het=n7&&n7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&pet(e,A,t);return ket(e,A),e};Object.defineProperty(n7,"__esModule",{value:!0});n7.ExportDiagnosticsReport=void 0;var Oc=het(OA());n7.ExportDiagnosticsReport=Oc.exact(Oc.type({schema:Oc.literal("iglu:com.1password.app/export_diagnostics_report/jsonschema/1-0-0"),data:Oc.exact(Oc.intersection([Oc.type({report_source:Oc.union([Oc.literal("B5X"),Oc.literal("DESKTOP")])}),Oc.partial({export_status:Oc.union([Oc.literal("SUCCESSFUL"),Oc.literal("FAILED")]),browser_console_logs_included:Oc.Int})]))}))});var jNA=mA(i7=>{"use strict";var get=i7&&i7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),fet=i7&&i7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Bet=i7&&i7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&get(e,A,t);return fet(e,A),e};Object.defineProperty(i7,"__esModule",{value:!0});i7.InlineMenuRender=void 0;var Nn=Bet(OA());i7.InlineMenuRender=Nn.exact(Nn.type({schema:Nn.literal("iglu:com.1password.app/inline_menu_render/jsonschema/1-0-0"),data:Nn.exact(Nn.intersection([Nn.type({overall_status:Nn.union([Nn.literal("NOT_STARTED"),Nn.literal("INCOMPLETE"),Nn.literal("COMPLETED")]),dom_scan_status:Nn.union([Nn.literal("NOT_STARTED"),Nn.literal("INCOMPLETE"),Nn.literal("COMPLETED")]),analyze_frame_status:Nn.union([Nn.literal("NOT_STARTED"),Nn.literal("INCOMPLETE"),Nn.literal("COMPLETED")]),render_menu_status:Nn.union([Nn.literal("NOT_STARTED"),Nn.literal("INCOMPLETE"),Nn.literal("COMPLETED")])}),Nn.partial({overall_duration_ms:Nn.Int,dom_scan_duration_ms:Nn.Int,analyze_frame_duration_ms:Nn.Int,render_menu_duration_ms:Nn.Int})]))}))});var nNA=mA(o7=>{"use strict";var Eet=o7&&o7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),xet=o7&&o7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),bet=o7&&o7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Eet(e,A,t);return xet(e,A),e};Object.defineProperty(o7,"__esModule",{value:!0});o7.Input=void 0;var l0=bet(OA()),jH=Bl();o7.Input=l0.exact(l0.type({schema:l0.literal("iglu:com.1password.app/input/jsonschema/1-0-0"),data:l0.exact(l0.intersection([l0.type({component_type:jH.TelemetryStringC,component_name:jH.TelemetryStringC}),l0.partial({source:jH.TelemetryStringC,category:jH.TelemetryStringC})]))}))});var iNA=mA(s7=>{"use strict";var yet=s7&&s7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),vet=s7&&s7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Fet=s7&&s7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&yet(e,A,t);return vet(e,A),e};Object.defineProperty(s7,"__esModule",{value:!0});s7.InviteUser=void 0;var Nd=Fet(OA());s7.InviteUser=Nd.exact(Nd.type({schema:Nd.literal("iglu:com.1password.app/invite_user/jsonschema/1-0-0"),data:Nd.exact(Nd.type({member_type:Nd.union([Nd.literal("REGULAR"),Nd.literal("GUEST")]),invites_count:Nd.Int,status:Nd.union([Nd.literal("SUCCESS"),Nd.literal("FAIL")])}))}))});var oNA=mA(l7=>{"use strict";var Get=l7&&l7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),wet=l7&&l7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),qet=l7&&l7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Get(e,A,t);return wet(e,A),e};Object.defineProperty(l7,"__esModule",{value:!0});l7.ItemAutofill=void 0;var ct=qet(OA()),$et=Bl();l7.ItemAutofill=ct.exact(ct.type({schema:ct.literal("iglu:com.1password.app/item_autofill/jsonschema/1-0-3"),data:ct.exact(ct.intersection([ct.type({template_uuid:$et.TelemetryStringC,status:ct.union([ct.literal("SUCCESS"),ct.literal("FAIL"),ct.literal("REQUEST")])}),ct.partial({fill_method:ct.union([ct.literal("OPEN_AND_FILL"),ct.literal("QUICK_ACCESS"),ct.literal("INLINE"),ct.literal("POPUP"),ct.literal("UNIVERSAL_AUTOFILL"),ct.literal("USO_PROMPT"),ct.literal("KEYBOARD_SHORTCUT")]),social_login_type:ct.union([ct.literal("amazon"),ct.literal("apple"),ct.literal("discord"),ct.literal("facebook"),ct.literal("github"),ct.literal("google"),ct.literal("microsoft"),ct.literal("okta"),ct.literal("slack"),ct.literal("twitter")]),fields_filled:ct.array(ct.union([ct.literal("ssh-key-title"),ct.literal("ssh-key"),ct.literal("name"),ct.literal("honorific-prefix"),ct.literal("given-name"),ct.literal("additional-name"),ct.literal("family-name"),ct.literal("honorific-suffix"),ct.literal("nickname"),ct.literal("organization-title"),ct.literal("username"),ct.literal("new-password"),ct.literal("current-password"),ct.literal("one-time-code"),ct.literal("organization"),ct.literal("street-address"),ct.literal("address-line1"),ct.literal("address-line2"),ct.literal("address-line3"),ct.literal("address-level1"),ct.literal("address-level2"),ct.literal("address-level3"),ct.literal("address-level4"),ct.literal("country"),ct.literal("country-name"),ct.literal("postal-code"),ct.literal("cc-name"),ct.literal("cc-given-name"),ct.literal("cc-additional-name"),ct.literal("cc-family-name"),ct.literal("cc-number"),ct.literal("cc-exp"),ct.literal("cc-exp-month"),ct.literal("cc-exp-year"),ct.literal("cc-csc"),ct.literal("cc-type"),ct.literal("transaction-currency"),ct.literal("transaction-amount"),ct.literal("language"),ct.literal("bday"),ct.literal("bday-day"),ct.literal("bday-month"),ct.literal("bday-year"),ct.literal("sex"),ct.literal("url"),ct.literal("photo"),ct.literal("tel"),ct.literal("tel-country-code"),ct.literal("tel-national"),ct.literal("tel-area-code"),ct.literal("tel-local"),ct.literal("tel-local-prefix"),ct.literal("tel-local-suffix"),ct.literal("tel-extension"),ct.literal("email"),ct.literal("impp"),ct.literal("crypto-address"),ct.literal("crypto-recovery-seed"),ct.literal("recovery-code")])),is_default:ct.boolean,passkey_filled:ct.boolean})]))}))});var sNA=mA(c7=>{"use strict";var Iet=c7&&c7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Pet=c7&&c7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Cet=c7&&c7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Iet(e,A,t);return Pet(e,A),e};Object.defineProperty(c7,"__esModule",{value:!0});c7.ItemCreate=void 0;var ei=Cet(OA()),Oet=Bl();c7.ItemCreate=ei.exact(ei.type({schema:ei.literal("iglu:com.1password.app/item_create/jsonschema/1-0-3"),data:ei.exact(ei.intersection([ei.type({template_uuid:Oet.TelemetryStringC,status:ei.union([ei.literal("SUCCESS"),ei.literal("FAIL"),ei.literal("REQUEST")])}),ei.partial({create_method:ei.union([ei.literal("SAVE_DIALOG"),ei.literal("AUTOSAVE"),ei.literal("PASSKEY"),ei.literal("MANUAL")]),tags_added_count:ei.Int,vault_type:ei.union([ei.literal("PERSONAL"),ei.literal("EVERYONE"),ei.literal("TRANSFER"),ei.literal("USER_CREATED"),ei.literal("SYSTEM"),ei.literal("GENERATED_PASSWORDS"),ei.literal("MANAGED_APPLICATIONS")]),passkey_added:ei.boolean})]))}))});var lNA=mA(u7=>{"use strict";var Tet=u7&&u7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),_et=u7&&u7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Det=u7&&u7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Tet(e,A,t);return _et(e,A),e};Object.defineProperty(u7,"__esModule",{value:!0});u7.ItemImport=void 0;var ut=Det(OA());u7.ItemImport=ut.exact(ut.type({schema:ut.literal("iglu:com.1password.app/item_import/jsonschema/1-0-0"),data:ut.exact(ut.intersection([ut.type({import_source:ut.union([ut.literal("CHROME"),ut.literal("SAFARI"),ut.literal("FIREFOX"),ut.literal("EDGE"),ut.literal("BRAVE"),ut.literal("DIFFERENT_BROWSER"),ut.literal("LASTPASS"),ut.literal("ICLOUD_KEYCHAIN"),ut.literal("DASHLANE"),ut.literal("KEYPASS"),ut.literal("KEYPASSXC"),ut.literal("ROBOFORM"),ut.literal("DELINEA_SECRET_SERVER"),ut.literal("1PASSWORD"),ut.literal("DIFFERENT_PASSWORD_MANAGER"),ut.literal("MEMORIZED_PASSWORDS"),ut.literal("PEN_AND_PAPER"),ut.literal("SPREADSHEET"),ut.literal("CSV"),ut.literal("I_DONT_SEE_MY_OPTION")]),item_imported_count:ut.Int,login_imported_count:ut.Int}),ut.partial({import_source_category:ut.union([ut.literal("MY_BROWSER"),ut.literal("A_PASSWORD_MANAGER"),ut.literal("SOMEWHERE_ELSE")]),item_type_edited_count:ut.Int,item_label_added_count:ut.Int,import_error_stage:ut.union([ut.literal("START"),ut.literal("LOG_IN"),ut.literal("ADMIN_OPTIONS"),ut.literal("IMPORT"),ut.literal("FINALIZE")]),import_status:ut.union([ut.literal("SUCCESS"),ut.literal("FAIL"),ut.literal("REQUEST")]),import_error:ut.union([ut.literal("COULDNT_OPEN_FILE"),ut.literal("BAD_INPUT_FILE_TYPE"),ut.literal("NO_ACCOUNTS"),ut.literal("NO_VAULTS"),ut.literal("FAILED_DECRYPT_BYTES"),ut.literal("NO_ASSOCIATED_KEY_ID"),ut.literal("DOCUMENT_BAD_INTEGRITY_HASH"),ut.literal("DESERIALIZE_ERROR"),ut.literal("MALFORMED_ZIP"),ut.literal("ZIP_ERROR"),ut.literal("CSV"),ut.literal("IO_ERROR"),ut.literal("SERIALIZE_ERROR"),ut.literal("UNSUPPORTED_EXPORT_FORMAT"),ut.literal("UNBALANCED_QUOTE"),ut.literal("CRYPTO_ERROR"),ut.literal("DECRYPTED_FILE_ERROR"),ut.literal("CSV_FIELD_COUNT_MISMATCH"),ut.literal("IMPORT_CANCELLED"),ut.literal("NETWORK"),ut.literal("FAILED_TO_CREATE_VAULT"),ut.literal("BINARY_NOT_FOUND"),ut.literal("BINARY_FAILED_TO_START"),ut.literal("FAILED_TO_CONVERT_JSON"),ut.literal("FAILED_TO_COMMUNICATE"),ut.literal("MISSING_PRIVATE_VAULT"),ut.literal("MODEL"),ut.literal("OBJECT"),ut.literal("TEMPLATE_NOT_FOUND"),ut.literal("LP_APPLICATION"),ut.literal("LP_HTTP"),ut.literal("LP_LOGIN"),ut.literal("LP_USERNAME"),ut.literal("LP_PASSWORD"),ut.literal("LP_WRONG_OTP"),ut.literal("LP_LASTPASS_API_CHANGED"),ut.literal("LP_MALFORMED_FILE"),ut.literal("LP_SERVER"),ut.literal("LP_TOO_MANY_REQUESTS"),ut.literal("LP_IDP_NOT_SUPPORTED"),ut.literal("LP_PASSWORD_RESET_REQUESTED"),ut.literal("LP_SHARED_FOLDERS"),ut.literal("LP_OIDC"),ut.literal("LP_DUO_MFA"),ut.literal("LP_UNIFIED_LOGIN"),ut.literal("OTHER")])})]))}))});var cNA=mA(d7=>{"use strict";var zet=d7&&d7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Met=d7&&d7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Ret=d7&&d7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&zet(e,A,t);return Met(e,A),e};Object.defineProperty(d7,"__esModule",{value:!0});d7.ItemLocationUpdate=void 0;var Sg=Ret(OA()),Ket=Bl();d7.ItemLocationUpdate=Sg.exact(Sg.type({schema:Sg.literal("iglu:com.1password.app/item_location_update/jsonschema/1-0-0"),data:Sg.exact(Sg.type({template_uuid:Ket.TelemetryStringC,update:Sg.union([Sg.literal("SET_VIA_MAP"),Sg.literal("SET_VIA_TEXT"),Sg.literal("REMOVED")])}))}))});var uNA=mA(m7=>{"use strict";var Let=m7&&m7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Net=m7&&m7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Uet=m7&&m7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Let(e,A,t);return Net(e,A),e};Object.defineProperty(m7,"__esModule",{value:!0});m7.ItemShare=void 0;var $i=Uet(OA());m7.ItemShare=$i.exact($i.type({schema:$i.literal("iglu:com.1password.app/item_share/jsonschema/1-0-0"),data:$i.exact($i.intersection([$i.type({link_expire:$i.union([$i.literal("1_HOUR"),$i.literal("1_DAY"),$i.literal("7_DAYS"),$i.literal("14_DAYS"),$i.literal("30_DAYS")]),available_to:$i.union([$i.literal("ANYONE_WITH_LINK"),$i.literal("ONLY_SOME_PEOPLE")]),only_view_one_time:$i.boolean,status:$i.union([$i.literal("SUCCESS"),$i.literal("FAIL")])}),$i.partial({share_method:$i.union([$i.literal("COPY_LINK"),$i.literal("SHARE_LINK")]),email_added_count:$i.Int})]))}))});var dNA=mA(p7=>{"use strict";var Het=p7&&p7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Vet=p7&&p7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Xet=p7&&p7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Het(e,A,t);return Vet(e,A),e};Object.defineProperty(p7,"__esModule",{value:!0});p7.ItemUpdate=void 0;var Ls=Xet(OA()),Wet=Bl();p7.ItemUpdate=Ls.exact(Ls.type({schema:Ls.literal("iglu:com.1password.app/item_update/jsonschema/1-1-0"),data:Ls.exact(Ls.intersection([Ls.type({template_uuid:Wet.TelemetryStringC,status:Ls.union([Ls.literal("SUCCESS"),Ls.literal("FAIL"),Ls.literal("REQUEST")])}),Ls.partial({update_method:Ls.union([Ls.literal("SAVE_DIALOG"),Ls.literal("AUTOSAVE"),Ls.literal("PASSKEY"),Ls.literal("ONE_TIME_CODE")]),passkey_added:Ls.boolean,one_time_password_added:Ls.boolean})]))}))});var mNA=mA(k7=>{"use strict";var Jet=k7&&k7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Yet=k7&&k7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Zet=k7&&k7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Jet(e,A,t);return Yet(e,A),e};Object.defineProperty(k7,"__esModule",{value:!0});k7.PageView=void 0;var El=Zet(OA());k7.PageView=El.exact(El.type({schema:El.literal("iglu:com.1password.app/page_view/jsonschema/1-0-1"),data:El.exact(El.type({page_name:El.union([El.literal("PROFILE"),El.literal("ALL_ITEMS"),El.literal("FAVORITES"),El.literal("WATCHTOWER"),El.literal("VAULT"),El.literal("TAG"),El.literal("ARCHIVE"),El.literal("RECENTLY_DELETED"),El.literal("CATEGORIES"),El.literal("LABS_HOMEPAGE"),El.literal("LABS_NEARBY_ITEMS")])}))}))});var pNA=mA(h7=>{"use strict";var Qet=h7&&h7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Att=h7&&h7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),ett=h7&&h7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&Qet(e,A,t);return Att(e,A),e};Object.defineProperty(h7,"__esModule",{value:!0});h7.ProfileDefaultUpdate=void 0;var E$=ett(OA()),ttt=Bl();h7.ProfileDefaultUpdate=E$.exact(E$.type({schema:E$.literal("iglu:com.1password.app/profile-default_update/jsonschema/1-0-0"),data:E$.exact(E$.type({template_uuid:ttt.TelemetryStringC,set:E$.boolean}))}))});var kNA=mA(g7=>{"use strict";var rtt=g7&&g7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),att=g7&&g7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),jtt=g7&&g7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&rtt(e,A,t);return att(e,A),e};Object.defineProperty(g7,"__esModule",{value:!0});g7.SignIn=void 0;var di=jtt(OA());g7.SignIn=di.exact(di.type({schema:di.literal("iglu:com.1password.app/sign_in/jsonschema/1-0-2"),data:di.exact(di.intersection([di.type({unlock_method:di.union([di.literal("PASSWORD"),di.literal("SSO"),di.literal("PASSKEY"),di.literal("EXTENSION_DELEGATED")]),sign_in_flow:di.union([di.literal("MYCELIUM_QR_CODE"),di.literal("REDIRECT_FROM_BROWSER"),di.literal("MANUAL_ENTRY"),di.literal("SCAN_SETUP_CODE"),di.literal("FOUND_ACCOUNTS"),di.literal("MYCELIUM_QR_CODE_REVERSE")])}),di.partial({time_to_complete_sec:di.Int,accessed_find_emergency_kit_link:di.boolean,invalid_secret_key_error_count:di.Int,invalid_email_address_error_count:di.Int,invalid_sign_in_address_count:di.Int,unable_to_sign_in_error_count:di.Int})]))}))});var hNA=mA(f7=>{"use strict";var ntt=f7&&f7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),itt=f7&&f7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),ott=f7&&f7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&ntt(e,A,t);return itt(e,A),e};Object.defineProperty(f7,"__esModule",{value:!0});f7.SshAgentSignRequest=void 0;var Ns=ott(OA());f7.SshAgentSignRequest=Ns.exact(Ns.type({schema:Ns.literal("iglu:com.1password.app/ssh-agent_sign-request/jsonschema/1-0-1"),data:Ns.exact(Ns.intersection([Ns.type({key_type:Ns.union([Ns.literal("Ed25519"),Ns.literal("Rsa")])}),Ns.partial({workflow_git:Ns.boolean,workflow_signing:Ns.boolean,workflow_sftp:Ns.boolean,workflow_docker:Ns.boolean,workflow_wsl:Ns.boolean,workflow_terminal:Ns.boolean,workflow_agent_forwarding:Ns.boolean,workflow_background:Ns.boolean})]))}))});var gNA=mA(B7=>{"use strict";var stt=B7&&B7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),ltt=B7&&B7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),ctt=B7&&B7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&stt(e,A,t);return ltt(e,A),e};Object.defineProperty(B7,"__esModule",{value:!0});B7.SshAuthPromptApprove=void 0;var Zo=ctt(OA());B7.SshAuthPromptApprove=Zo.exact(Zo.type({schema:Zo.literal("iglu:com.1password.app/ssh-auth-prompt_approve/jsonschema/1-0-0"),data:Zo.exact(Zo.intersection([Zo.type({approval_method:Zo.union([Zo.literal("APPROVE_BUTTON"),Zo.literal("ACCOUNT_PASSWORD"),Zo.literal("SSO"),Zo.literal("SYSTEM_AUTH_EMBEDDED_TOUCH_ID"),Zo.literal("SYSTEM_AUTH_EMBEDDED_APPLE_WATCH"),Zo.literal("SYSTEM_AUTH_POPUP_TOUCH_ID"),Zo.literal("SYSTEM_AUTH_POPUP_APPLE_WATCH"),Zo.literal("SYSTEM_AUTH_POPUP_LINUX"),Zo.literal("SYSTEM_AUTH_POPUP_WINDOWS_HELLO"),Zo.literal("PASSKEY")]),for_all_applications:Zo.boolean}),Zo.partial({rich_auth_prompt:Zo.boolean})]))}))});var fNA=mA(E7=>{"use strict";var utt=E7&&E7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),dtt=E7&&E7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),mtt=E7&&E7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&utt(e,A,t);return dtt(e,A),e};Object.defineProperty(E7,"__esModule",{value:!0});E7.SshKeyExport=void 0;var Us=mtt(OA());E7.SshKeyExport=Us.exact(Us.type({schema:Us.literal("iglu:com.1password.app/ssh-key_export/jsonschema/1-0-0"),data:Us.exact(Us.intersection([Us.type({export_format:Us.union([Us.literal("PKCS8"),Us.literal("PKCS1"),Us.literal("OPENSSH")]),is_encrypted:Us.boolean,export_method:Us.union([Us.literal("COPY"),Us.literal("DOWNLOAD")])}),Us.partial({key_type:Us.union([Us.literal("RSA"),Us.literal("ED25519")])})]))}))});var BNA=mA(x7=>{"use strict";var ptt=x7&&x7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),ktt=x7&&x7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),htt=x7&&x7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&ptt(e,A,t);return ktt(e,A),e};Object.defineProperty(x7,"__esModule",{value:!0});x7.SwitchChange=void 0;var Cg=htt(OA());x7.SwitchChange=Cg.exact(Cg.type({schema:Cg.literal("iglu:com.1password.app/switch_change/jsonschema/1-0-0"),data:Cg.exact(Cg.type({switch_name:Cg.union([Cg.literal("LABS_EXPERIMENT_NEARBY_ITEMS"),Cg.literal("USE_MAPS")]),enabled:Cg.boolean}))}))});var ENA=mA(b7=>{"use strict";var gtt=b7&&b7.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),ftt=b7&&b7.__setModuleDefault||(Object.create?function(A,e){Object.defineProperty(A,"default",{enumerable:!0,value:e})}:function(A,e){A.default=e}),Btt=b7&&b7.__importStar||function(A){if(A&&A.__esModule)return A;var e={};if(A!=null)for(var t in A)t!=="default"&&Object.prototype.hasOwnProperty.call(A,t)&&gtt(e,A,t);return ftt(e,A),e};Object.defineProperty(b7,"__esModule",{value:!0});b7.View=void 0;var c0=Btt(OA()),nH=Bl();b7.View=c0.exact(c0.type({schema:c0.literal("iglu:com.1password.app/view/jsonschema/1-0-0"),data:c0.exact(c0.intersection([c0.type({component_type:nH.TelemetryStringC,component_name:nH.TelemetryStringC}),c0.partial({source:nH.TelemetryStringC,category:nH.TelemetryStringC})]))}))});var xNA=mA(iH=>{"use strict";Object.defineProperty(iH,"__esModule",{value:!0});iH.AllEvents=void 0;var Ett=YLA(),xtt=ZLA(),btt=ANA(),ytt=tNA(),vtt=rNA(),Ftt=aNA(),Gtt=jNA(),wtt=nNA(),qtt=iNA(),$tt=oNA(),Itt=sNA(),Ptt=lNA(),Stt=cNA(),Ctt=uNA(),Ott=dNA(),Ttt=mNA(),_tt=pNA(),Dtt=kNA(),ztt=hNA(),Mtt=gNA(),Rtt=fNA(),Ktt=BNA(),Ltt=ENA();iH.AllEvents={AppUnlock:Ett.AppUnlock,AutolockDurationSettingUpdate:xtt.AutolockDurationSettingUpdate,BackgroundAction:btt.BackgroundAction,CliRequest:ytt.CliRequest,Click:vtt.Click,ExportDiagnosticsReport:Ftt.ExportDiagnosticsReport,InlineMenuRender:Gtt.InlineMenuRender,Input:wtt.Input,InviteUser:qtt.InviteUser,ItemAutofill:$tt.ItemAutofill,ItemCreate:Itt.ItemCreate,ItemImport:Ptt.ItemImport,ItemLocationUpdate:Stt.ItemLocationUpdate,ItemShare:Ctt.ItemShare,ItemUpdate:Ott.ItemUpdate,PageView:Ttt.PageView,ProfileDefaultUpdate:_tt.ProfileDefaultUpdate,SignIn:Dtt.SignIn,SshAgentSignRequest:ztt.SshAgentSignRequest,SshAuthPromptApprove:Mtt.SshAuthPromptApprove,SshKeyExport:Rtt.SshKeyExport,SwitchChange:Ktt.SwitchChange,View:Ltt.View}});var y7=mA(Ep=>{"use strict";var Ntt=Ep&&Ep.__createBinding||(Object.create?function(A,e,t,r){r===void 0&&(r=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(A,r,a)}:function(A,e,t,r){r===void 0&&(r=t),A[r]=e[t]}),Utt=Ep&&Ep.__exportStar||function(A,e){for(var t in A)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ntt(e,A,t)};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.AllEvents=Ep.AllContexts=void 0;var Htt=JLA();Object.defineProperty(Ep,"AllContexts",{enumerable:!0,get:function(){return Htt.AllContexts}});var Vtt=xNA();Object.defineProperty(Ep,"AllEvents",{enumerable:!0,get:function(){return Vtt.AllEvents}});Utt(Bl(),Ep)});var y0=mA((D$,n_)=>{(function(){var A,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",j="Invalid `variable` option passed into `_.template`",n="__lodash_hash_undefined__",i=500,o="__lodash_placeholder__",s=1,c=2,u=4,p=1,h=2,f=1,G=2,w=4,y=8,E=16,$=32,T=64,O=128,I=256,q=512,K=30,aA="...",nA=800,lA=16,qA=1,UA=2,le=3,yA=1/0,we=9007199254740991,ge=17976931348623157e292,ot=NaN,ue=4294967295,IA=ue-1,ne=ue>>>1,HA=[["ary",O],["bind",f],["bindKey",G],["curry",y],["curryRight",E],["flip",q],["partial",$],["partialRight",T],["rearg",I]],KA="[object Arguments]",XA="[object Array]",st="[object AsyncFunction]",or="[object Boolean]",ve="[object Date]",gt="[object DOMException]",Ge="[object Error]",It="[object Function]",wt="[object GeneratorFunction]",ar="[object Map]",Ot="[object Number]",zr="[object Null]",Ba="[object Object]",rj="[object Promise]",aj="[object Proxy]",cj="[object RegExp]",er="[object Set]",pr="[object String]",ua="[object Symbol]",pn="[object Undefined]",ft="[object WeakMap]",pA="[object WeakSet]",wA="[object ArrayBuffer]",JA="[object DataView]",Me="[object Float32Array]",Se="[object Float64Array]",_t="[object Int8Array]",qe="[object Int16Array]",BA="[object Int32Array]",dA="[object Uint8Array]",DA="[object Uint8ClampedArray]",jt="[object Uint16Array]",Ga="[object Uint32Array]",Pi=/\b__p \+= '';/g,Bs=/\b(__p \+=) '' \+/g,bj=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gi=/&(?:amp|lt|gt|quot|#39);/g,fi=/[&<>"']/g,jm=RegExp(gi.source),Nc=RegExp(fi.source),Ft=/<%-([\s\S]+?)%>/g,a6=/<%([\s\S]+?)%>/g,Gl=/<%=([\s\S]+?)%>/g,_o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Si=/^\w*$/,da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_6=/[\\^$.*+?()[\]{}|]/g,Lr=RegExp(_6.source),ts=/^\s+/,C=/\s/,H=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,L=/\{\n\/\* \[wrapped with (.+)\] \*/,B=/,? & /,Y=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,xA=/[()=,{}\[\]\/\s]/,PA=/\\(\\)?/g,_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,U=/\w*$/,tA=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,vA=/^\[object .+?Constructor\]$/,gA=/^0o[0-7]+$/i,zA=/^(?:0|[1-9]\d*)$/,bA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ee=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,et="\\ud800-\\udfff",at="\\u0300-\\u036f",Bt="\\ufe20-\\ufe2f",De="\\u20d0-\\u20ff",Gt=at+Bt+De,tt="\\u2700-\\u27bf",Et="a-z\\xdf-\\xf6\\xf8-\\xff",Ut="\\xac\\xb1\\xd7\\xf7",lt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",re="\\u2000-\\u206f",je=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",He="A-Z\\xc0-\\xd6\\xd8-\\xde",xe="\\ufe0e\\ufe0f",pe=Ut+lt+re+je,ye="['\u2019]",gr="["+et+"]",Nr="["+pe+"]",kr="["+Gt+"]",Ur="\\d+",cA="["+tt+"]",ma="["+Et+"]",wa="[^"+et+pe+Ur+tt+Et+He+"]",pa="\\ud83c[\\udffb-\\udfff]",Zr="(?:"+kr+"|"+pa+")",Ea="[^"+et+"]",Hr="(?:\\ud83c[\\udde6-\\uddff]){2}",kn="[\\ud800-\\udbff][\\udc00-\\udfff]",za="["+He+"]",D="\\u200d",R="(?:"+ma+"|"+wa+")",W="(?:"+za+"|"+wa+")",hA="(?:"+ye+"(?:d|ll|m|re|s|t|ve))?",de="(?:"+ye+"(?:D|LL|M|RE|S|T|VE))?",Fe=Zr+"?",rt="["+xe+"]?",Rt="(?:"+D+"(?:"+[Ea,Hr,kn].join("|")+")"+rt+Fe+")*",An="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ji="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ws=rt+Fe+Rt,Js="(?:"+[cA,Hr,kn].join("|")+")"+Ws,Uc="(?:"+[Ea+kr+"?",kr,Hr,kn,gr].join("|")+")",Qg=RegExp(ye,"g"),j6=RegExp(kr,"g"),Ys=RegExp(pa+"(?="+pa+")|"+Uc+Ws,"g"),Af=RegExp([za+"?"+ma+"+"+hA+"(?="+[Nr,za,"$"].join("|")+")",W+"+"+de+"(?="+[Nr,za+R,"$"].join("|")+")",za+"?"+R+"+"+hA,za+"+"+de,Ji,An,Ur,Js].join("|"),"g"),Nu=RegExp("["+D+et+Gt+xe+"]"),vx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,RX=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],KX=-1,Cn={};Cn[Me]=Cn[Se]=Cn[_t]=Cn[qe]=Cn[BA]=Cn[dA]=Cn[DA]=Cn[jt]=Cn[Ga]=!0,Cn[KA]=Cn[XA]=Cn[wA]=Cn[or]=Cn[JA]=Cn[ve]=Cn[Ge]=Cn[It]=Cn[ar]=Cn[Ot]=Cn[Ba]=Cn[cj]=Cn[er]=Cn[pr]=Cn[ft]=!1;var bn={};bn[KA]=bn[XA]=bn[wA]=bn[JA]=bn[or]=bn[ve]=bn[Me]=bn[Se]=bn[_t]=bn[qe]=bn[BA]=bn[ar]=bn[Ot]=bn[Ba]=bn[cj]=bn[er]=bn[pr]=bn[ua]=bn[dA]=bn[DA]=bn[jt]=bn[Ga]=!0,bn[Ge]=bn[It]=bn[ft]=!1;var LX={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},B8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},E8={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},NX={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nD=parseFloat,iD=parseInt,oD=typeof global=="object"&&global&&global.Object===Object&&global,UX=typeof self=="object"&&self&&self.Object===Object&&self,Do=oD||UX||Function("return this")(),x8=typeof D$=="object"&&D$&&!D$.nodeType&&D$,Op=x8&&typeof n_=="object"&&n_&&!n_.nodeType&&n_,On=Op&&Op.exports===x8,R7=On&&oD.process,Es=function(){try{var $A=Op&&Op.require&&Op.require("util").types;return $A||R7&&R7.binding&&R7.binding("util")}catch{}}(),sD=Es&&Es.isArrayBuffer,b8=Es&&Es.isDate,lD=Es&&Es.isMap,cD=Es&&Es.isRegExp,Fx=Es&&Es.isSet,nm=Es&&Es.isTypedArray;function Zs($A,Be,ie){switch(ie.length){case 0:return $A.call(Be);case 1:return $A.call(Be,ie[0]);case 2:return $A.call(Be,ie[0],ie[1]);case 3:return $A.call(Be,ie[0],ie[1],ie[2])}return $A.apply(Be,ie)}function HX($A,Be,ie,Ht){for(var oa=-1,Sj=$A==null?0:$A.length;++oa<Sj;){var ho=$A[oa];Be(Ht,ho,ie(ho),$A)}return Ht}function Yi($A,Be){for(var ie=-1,Ht=$A==null?0:$A.length;++ie<Ht&&Be($A[ie],ie,$A)!==!1;);return $A}function VX($A,Be){for(var ie=$A==null?0:$A.length;ie--&&Be($A[ie],ie,$A)!==!1;);return $A}function K0($A,Be){for(var ie=-1,Ht=$A==null?0:$A.length;++ie<Ht;)if(!Be($A[ie],ie,$A))return!1;return!0}function Tp($A,Be){for(var ie=-1,Ht=$A==null?0:$A.length,oa=0,Sj=[];++ie<Ht;){var ho=$A[ie];Be(ho,ie,$A)&&(Sj[oa++]=ho)}return Sj}function L0($A,Be){var ie=$A==null?0:$A.length;return!!ie&&ef($A,Be,0)>-1}function y8($A,Be,ie){for(var Ht=-1,oa=$A==null?0:$A.length;++Ht<oa;)if(ie(Be,$A[Ht]))return!0;return!1}function hn($A,Be){for(var ie=-1,Ht=$A==null?0:$A.length,oa=Array(Ht);++ie<Ht;)oa[ie]=Be($A[ie],ie,$A);return oa}function Uu($A,Be){for(var ie=-1,Ht=Be.length,oa=$A.length;++ie<Ht;)$A[oa+ie]=Be[ie];return $A}function v8($A,Be,ie,Ht){var oa=-1,Sj=$A==null?0:$A.length;for(Ht&&Sj&&(ie=$A[++oa]);++oa<Sj;)ie=Be(ie,$A[oa],oa,$A);return ie}function XX($A,Be,ie,Ht){var oa=$A==null?0:$A.length;for(Ht&&oa&&(ie=$A[--oa]);oa--;)ie=Be(ie,$A[oa],oa,$A);return ie}function F8($A,Be){for(var ie=-1,Ht=$A==null?0:$A.length;++ie<Ht;)if(Be($A[ie],ie,$A))return!0;return!1}var uD=G8("length");function WX($A){return $A.split("")}function JX($A){return $A.match(Y)||[]}function dD($A,Be,ie){var Ht;return ie($A,function(oa,Sj,ho){if(Be(oa,Sj,ho))return Ht=Sj,!1}),Ht}function N0($A,Be,ie,Ht){for(var oa=$A.length,Sj=ie+(Ht?1:-1);Ht?Sj--:++Sj<oa;)if(Be($A[Sj],Sj,$A))return Sj;return-1}function ef($A,Be,ie){return Be===Be?BD($A,Be,ie):N0($A,pD,ie)}function mD($A,Be,ie,Ht){for(var oa=ie-1,Sj=$A.length;++oa<Sj;)if(Ht($A[oa],Be))return oa;return-1}function pD($A){return $A!==$A}function K7($A,Be){var ie=$A==null?0:$A.length;return ie?q8($A,Be)/ie:ot}function G8($A){return function(Be){return Be==null?A:Be[$A]}}function Gx($A){return function(Be){return $A==null?A:$A[Be]}}function kD($A,Be,ie,Ht,oa){return oa($A,function(Sj,ho,jj){ie=Ht?(Ht=!1,Sj):Be(ie,Sj,ho,jj)}),ie}function w8($A,Be){var ie=$A.length;for($A.sort(Be);ie--;)$A[ie]=$A[ie].value;return $A}function q8($A,Be){for(var ie,Ht=-1,oa=$A.length;++Ht<oa;){var Sj=Be($A[Ht]);Sj!==A&&(ie=ie===A?Sj:ie+Sj)}return ie}function $8($A,Be){for(var ie=-1,Ht=Array($A);++ie<$A;)Ht[ie]=Be(ie);return Ht}function YX($A,Be){return hn(Be,function(ie){return[ie,$A[ie]]})}function hD($A){return $A&&$A.slice(0,U0($A)+1).replace(ts,"")}function wl($A){return function(Be){return $A(Be)}}function I8($A,Be){return hn(Be,function(ie){return $A[ie]})}function tf($A,Be){return $A.has(Be)}function yn($A,Be){for(var ie=-1,Ht=$A.length;++ie<Ht&&ef(Be,$A[ie],0)>-1;);return ie}function gD($A,Be){for(var ie=$A.length;ie--&&ef(Be,$A[ie],0)>-1;);return ie}function ZX($A,Be){for(var ie=$A.length,Ht=0;ie--;)$A[ie]===Be&&++Ht;return Ht}var fD=Gx(LX),QX=Gx(B8);function AW($A){return"\\"+NX[$A]}function eW($A,Be){return $A==null?A:$A[Be]}function Hu($A){return Nu.test($A)}function tW($A){return vx.test($A)}function rW($A){for(var Be,ie=[];!(Be=$A.next()).done;)ie.push(Be.value);return ie}function P8($A){var Be=-1,ie=Array($A.size);return $A.forEach(function(Ht,oa){ie[++Be]=[oa,Ht]}),ie}function wx($A,Be){return function(ie){return $A(Be(ie))}}function Hc($A,Be){for(var ie=-1,Ht=$A.length,oa=0,Sj=[];++ie<Ht;){var ho=$A[ie];(ho===Be||ho===o)&&($A[ie]=o,Sj[oa++]=ie)}return Sj}function rf($A){var Be=-1,ie=Array($A.size);return $A.forEach(function(Ht){ie[++Be]=Ht}),ie}function aW($A){var Be=-1,ie=Array($A.size);return $A.forEach(function(Ht){ie[++Be]=[Ht,Ht]}),ie}function BD($A,Be,ie){for(var Ht=ie-1,oa=$A.length;++Ht<oa;)if($A[Ht]===Be)return Ht;return-1}function jW($A,Be,ie){for(var Ht=ie+1;Ht--;)if($A[Ht]===Be)return Ht;return Ht}function _p($A){return Hu($A)?iW($A):uD($A)}function n6($A){return Hu($A)?oW($A):WX($A)}function U0($A){for(var Be=$A.length;Be--&&C.test($A.charAt(Be)););return Be}var nW=Gx(E8);function iW($A){for(var Be=Ys.lastIndex=0;Ys.test($A);)++Be;return Be}function oW($A){return $A.match(Ys)||[]}function sW($A){return $A.match(Af)||[]}var lW=function $A(Be){Be=Be==null?Do:Dp.defaults(Do.Object(),Be,Dp.pick(Do,RX));var ie=Be.Array,Ht=Be.Date,oa=Be.Error,Sj=Be.Function,ho=Be.Math,jj=Be.Object,im=Be.RegExp,ED=Be.String,D6=Be.TypeError,qx=ie.prototype,xD=Sj.prototype,af=jj.prototype,H0=Be["__core-js_shared__"],$x=xD.toString,Hj=af.hasOwnProperty,cW=0,bD=function(){var l=/[^.]+$/.exec(H0&&H0.keys&&H0.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),V0=af.toString,uW=$x.call(jj),dW=Do._,mW=im("^"+$x.call(Hj).replace(_6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X0=On?Be.Buffer:A,zp=Be.Symbol,W0=Be.Uint8Array,yD=X0?X0.allocUnsafe:A,J0=wx(jj.getPrototypeOf,jj),vD=jj.create,FD=af.propertyIsEnumerable,L7=qx.splice,GD=zp?zp.isConcatSpreadable:A,Ix=zp?zp.iterator:A,N7=zp?zp.toStringTag:A,Y0=function(){try{var l=Rx(jj,"defineProperty");return l({},"",{}),l}catch{}}(),pW=Be.clearTimeout!==Do.clearTimeout&&Be.clearTimeout,kW=Ht&&Ht.now!==Do.Date.now&&Ht.now,hW=Be.setTimeout!==Do.setTimeout&&Be.setTimeout,Z0=ho.ceil,Px=ho.floor,Q0=jj.getOwnPropertySymbols,wD=X0?X0.isBuffer:A,Sx=Be.isFinite,jf=qx.join,AF=wx(jj.keys,jj),Zi=ho.max,Ci=ho.min,qD=Ht.now,$D=Be.parseInt,ID=ho.random,gW=qx.reverse,S8=Rx(Be,"DataView"),Cx=Rx(Be,"Map"),C8=Rx(Be,"Promise"),nf=Rx(Be,"Set"),Ox=Rx(Be,"WeakMap"),Tx=Rx(jj,"create"),eF=Ox&&new Ox,of={},fW=Kx(S8),BW=Kx(Cx),EW=Kx(C8),xW=Kx(nf),bW=Kx(Ox),tF=zp?zp.prototype:A,_x=tF?tF.valueOf:A,PD=tF?tF.toString:A;function X(l){if(Qi(l)&&!Sa(l)&&!(l instanceof Wa)){if(l instanceof z6)return l;if(Hj.call(l,"__wrapped__"))return bgA(l)}return new z6(l)}var sf=function(){function l(){}return function(d){if(!Oi(d))return{};if(vD)return vD(d);l.prototype=d;var k=new l;return l.prototype=A,k}}();function rF(){}function z6(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=A}X.templateSettings={escape:Ft,evaluate:a6,interpolate:Gl,variable:"",imports:{_:X}},X.prototype=rF.prototype,X.prototype.constructor=X,z6.prototype=sf(rF.prototype),z6.prototype.constructor=z6;function Wa(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function yW(){var l=new Wa(this.__wrapped__);return l.__actions__=R6(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=R6(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=R6(this.__views__),l}function vW(){if(this.__filtered__){var l=new Wa(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function FW(){var l=this.__wrapped__.value(),d=this.__dir__,k=Sa(l),b=d<0,M=k?l.length:0,Q=Xje(0,M,this.__views__),uA=Q.start,fA=Q.end,_A=fA-uA,$e=b?fA:uA-1,Oe=this.__iteratees__,We=Oe.length,Tt=0,hr=Ci(_A,this.__takeCount__);if(!k||!b&&M==_A&&hr==_A)return HhA(l,this.__actions__);var Vr=[];A:for(;_A--&&Tt<hr;){$e+=d;for(var Ya=-1,Xr=l[$e];++Ya<We;){var pj=Oe[Ya],yj=pj.iteratee,Jc=pj.type,s6=yj(Xr);if(Jc==UA)Xr=s6;else if(!s6){if(Jc==qA)continue A;break A}}Vr[Tt++]=Xr}return Vr}Wa.prototype=sf(rF.prototype),Wa.prototype.constructor=Wa;function om(l){var d=-1,k=l==null?0:l.length;for(this.clear();++d<k;){var b=l[d];this.set(b[0],b[1])}}function aF(){this.__data__=Tx?Tx(null):{},this.size=0}function GW(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function wW(l){var d=this.__data__;if(Tx){var k=d[l];return k===n?A:k}return Hj.call(d,l)?d[l]:A}function qW(l){var d=this.__data__;return Tx?d[l]!==A:Hj.call(d,l)}function $W(l,d){var k=this.__data__;return this.size+=this.has(l)?0:1,k[l]=Tx&&d===A?n:d,this}om.prototype.clear=aF,om.prototype.delete=GW,om.prototype.get=wW,om.prototype.has=qW,om.prototype.set=$W;function sm(l){var d=-1,k=l==null?0:l.length;for(this.clear();++d<k;){var b=l[d];this.set(b[0],b[1])}}function IW(){this.__data__=[],this.size=0}function SD(l){var d=this.__data__,k=M6(d,l);if(k<0)return!1;var b=d.length-1;return k==b?d.pop():L7.call(d,k,1),--this.size,!0}function PW(l){var d=this.__data__,k=M6(d,l);return k<0?A:d[k][1]}function SW(l){return M6(this.__data__,l)>-1}function CD(l,d){var k=this.__data__,b=M6(k,l);return b<0?(++this.size,k.push([l,d])):k[b][1]=d,this}sm.prototype.clear=IW,sm.prototype.delete=SD,sm.prototype.get=PW,sm.prototype.has=SW,sm.prototype.set=CD;function lm(l){var d=-1,k=l==null?0:l.length;for(this.clear();++d<k;){var b=l[d];this.set(b[0],b[1])}}function CW(){this.size=0,this.__data__={hash:new om,map:new(Cx||sm),string:new om}}function OW(l){var d=QD(this,l).delete(l);return this.size-=d?1:0,d}function Mp(l){return QD(this,l).get(l)}function OD(l){return QD(this,l).has(l)}function TW(l,d){var k=QD(this,l),b=k.size;return k.set(l,d),this.size+=k.size==b?0:1,this}lm.prototype.clear=CW,lm.prototype.delete=OW,lm.prototype.get=Mp,lm.prototype.has=OD,lm.prototype.set=TW;function U7(l){var d=-1,k=l==null?0:l.length;for(this.__data__=new lm;++d<k;)this.add(l[d])}function _W(l){return this.__data__.set(l,n),this}function it(l){return this.__data__.has(l)}U7.prototype.add=U7.prototype.push=_W,U7.prototype.has=it;function Vc(l){var d=this.__data__=new sm(l);this.size=d.size}function DW(){this.__data__=new sm,this.size=0}function TD(l){var d=this.__data__,k=d.delete(l);return this.size=d.size,k}function wj(l){return this.__data__.get(l)}function jF(l){return this.__data__.has(l)}function _D(l,d){var k=this.__data__;if(k instanceof sm){var b=k.__data__;if(!Cx||b.length<t-1)return b.push([l,d]),this.size=++k.size,this;k=this.__data__=new lm(b)}return k.set(l,d),this.size=k.size,this}Vc.prototype.clear=DW,Vc.prototype.delete=TD,Vc.prototype.get=wj,Vc.prototype.has=jF,Vc.prototype.set=_D;function nF(l,d){var k=Sa(l),b=!k&&Lx(l),M=!k&&!b&&mf(l),Q=!k&&!b&&!M&&uF(l),uA=k||b||M||Q,fA=uA?$8(l.length,ED):[],_A=fA.length;for(var $e in l)(d||Hj.call(l,$e))&&!(uA&&($e=="length"||M&&($e=="offset"||$e=="parent")||Q&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||J7($e,_A)))&&fA.push($e);return fA}function DD(l){var d=l.length;return d?l[ZW(0,d-1)]:A}function zW(l,d){return A5(R6(l),H7(d,0,l.length))}function MW(l){return A5(R6(l))}function O8(l,d,k){(k!==A&&!mm(l[d],k)||k===A&&!(d in l))&&cm(l,d,k)}function Dx(l,d,k){var b=l[d];(!(Hj.call(l,d)&&mm(b,k))||k===A&&!(d in l))&&cm(l,d,k)}function M6(l,d){for(var k=l.length;k--;)if(mm(l[k][0],d))return k;return-1}function RW(l,d,k,b){return Rp(l,function(M,Q,uA){d(b,M,k(M),uA)}),b}function T8(l,d){return l&&Lp(d,xs(d),l)}function KW(l,d){return l&&Lp(d,L6(d),l)}function cm(l,d,k){d=="__proto__"&&Y0?Y0(l,d,{configurable:!0,enumerable:!0,value:k,writable:!0}):l[d]=k}function iF(l,d){for(var k=-1,b=d.length,M=ie(b),Q=l==null;++k<b;)M[k]=Q?A:bJ(l,d[k]);return M}function H7(l,d,k){return l===l&&(k!==A&&(l=l<=k?l:k),d!==A&&(l=l>=d?l:d)),l}function i6(l,d,k,b,M,Q){var uA,fA=d&s,_A=d&c,$e=d&u;if(k&&(uA=M?k(l,b,M,Q):k(l)),uA!==A)return uA;if(!Oi(l))return l;var Oe=Sa(l);if(Oe){if(uA=Jje(l),!fA)return R6(l,uA)}else{var We=ql(l),Tt=We==It||We==wt;if(mf(l))return WhA(l,fA);if(We==Ba||We==KA||Tt&&!M){if(uA=_A||Tt?{}:mgA(l),!fA)return _A?zje(l,KW(uA,l)):Dje(l,T8(uA,l))}else{if(!bn[We])return M?l:{};uA=Yje(l,We,fA)}}Q||(Q=new Vc);var hr=Q.get(l);if(hr)return hr;Q.set(l,uA),LgA(l)?l.forEach(function(Xr){uA.add(i6(Xr,d,k,Xr,l,Q))}):RgA(l)&&l.forEach(function(Xr,pj){uA.set(pj,i6(Xr,d,k,pj,l,Q))});var Vr=$e?_A?sJ:oJ:_A?L6:xs,Ya=Oe?A:Vr(l);return Yi(Ya||l,function(Xr,pj){Ya&&(pj=Xr,Xr=l[pj]),Dx(uA,pj,i6(Xr,d,k,pj,l,Q))}),uA}function _8(l){var d=xs(l);return function(k){return zD(k,l,d)}}function zD(l,d,k){var b=k.length;if(l==null)return!b;for(l=jj(l);b--;){var M=k[b],Q=d[M],uA=l[M];if(uA===A&&!(M in l)||!Q(uA))return!1}return!0}function Vu(l,d,k){if(typeof l!="function")throw new D6(a);return H8(function(){l.apply(A,k)},d)}function lf(l,d,k,b){var M=-1,Q=L0,uA=!0,fA=l.length,_A=[],$e=d.length;if(!fA)return _A;k&&(d=hn(d,wl(k))),b?(Q=y8,uA=!1):d.length>=t&&(Q=tf,uA=!1,d=new U7(d));A:for(;++M<fA;){var Oe=l[M],We=k==null?Oe:k(Oe);if(Oe=b||Oe!==0?Oe:0,uA&&We===We){for(var Tt=$e;Tt--;)if(d[Tt]===We)continue A;_A.push(Oe)}else Q(d,We,b)||_A.push(Oe)}return _A}var Rp=AgA(Xu),MD=AgA(z8,!0);function LW(l,d){var k=!0;return Rp(l,function(b,M,Q){return k=!!d(b,M,Q),k}),k}function oF(l,d,k){for(var b=-1,M=l.length;++b<M;){var Q=l[b],uA=d(Q);if(uA!=null&&(fA===A?uA===uA&&!Wc(uA):k(uA,fA)))var fA=uA,_A=Q}return _A}function NW(l,d,k,b){var M=l.length;for(k=La(k),k<0&&(k=-k>M?0:M+k),b=b===A||b>M?M:La(b),b<0&&(b+=M),b=k>b?0:UgA(b);k<b;)l[k++]=d;return l}function RD(l,d){var k=[];return Rp(l,function(b,M,Q){d(b,M,Q)&&k.push(b)}),k}function rs(l,d,k,b,M){var Q=-1,uA=l.length;for(k||(k=Qje),M||(M=[]);++Q<uA;){var fA=l[Q];d>0&&k(fA)?d>1?rs(fA,d-1,k,b,M):Uu(M,fA):b||(M[M.length]=fA)}return M}var D8=egA(),KD=egA(!0);function Xu(l,d){return l&&D8(l,d,xs)}function z8(l,d){return l&&KD(l,d,xs)}function Wu(l,d){return Tp(d,function(k){return Y7(l[k])})}function V7(l,d){d=uf(d,l);for(var k=0,b=d.length;l!=null&&k<b;)l=l[Np(d[k++])];return k&&k==b?l:A}function LD(l,d,k){var b=d(l);return Sa(l)?b:Uu(b,k(l))}function Qs(l){return l==null?l===A?pn:zr:N7&&N7 in jj(l)?Vje(l):nne(l)}function M8(l,d){return l>d}function UW(l,d){return l!=null&&Hj.call(l,d)}function HW(l,d){return l!=null&&d in jj(l)}function VW(l,d,k){return l>=Ci(d,k)&&l<Zi(d,k)}function R8(l,d,k){for(var b=k?y8:L0,M=l[0].length,Q=l.length,uA=Q,fA=ie(Q),_A=1/0,$e=[];uA--;){var Oe=l[uA];uA&&d&&(Oe=hn(Oe,wl(d))),_A=Ci(Oe.length,_A),fA[uA]=!k&&(d||M>=120&&Oe.length>=120)?new U7(uA&&Oe):A}Oe=l[0];var We=-1,Tt=fA[0];A:for(;++We<M&&$e.length<_A;){var hr=Oe[We],Vr=d?d(hr):hr;if(hr=k||hr!==0?hr:0,!(Tt?tf(Tt,Vr):b($e,Vr,k))){for(uA=Q;--uA;){var Ya=fA[uA];if(!(Ya?tf(Ya,Vr):b(l[uA],Vr,k)))continue A}Tt&&Tt.push(Vr),$e.push(hr)}}return $e}function um(l,d,k,b){return Xu(l,function(M,Q,uA){d(b,k(M),Q,uA)}),b}function Ju(l,d,k){d=uf(d,l),l=ggA(l,d);var b=l==null?l:l[Np(Qu(d))];return b==null?A:Zs(b,l,k)}function ND(l){return Qi(l)&&Qs(l)==KA}function XW(l){return Qi(l)&&Qs(l)==wA}function WW(l){return Qi(l)&&Qs(l)==ve}function zx(l,d,k,b,M){return l===d?!0:l==null||d==null||!Qi(l)&&!Qi(d)?l!==l&&d!==d:JW(l,d,k,b,zx,M)}function JW(l,d,k,b,M,Q){var uA=Sa(l),fA=Sa(d),_A=uA?XA:ql(l),$e=fA?XA:ql(d);_A=_A==KA?Ba:_A,$e=$e==KA?Ba:$e;var Oe=_A==Ba,We=$e==Ba,Tt=_A==$e;if(Tt&&mf(l)){if(!mf(d))return!1;uA=!0,Oe=!1}if(Tt&&!Oe)return Q||(Q=new Vc),uA||uF(l)?cgA(l,d,k,b,M,Q):Uje(l,d,_A,k,b,M,Q);if(!(k&p)){var hr=Oe&&Hj.call(l,"__wrapped__"),Vr=We&&Hj.call(d,"__wrapped__");if(hr||Vr){var Ya=hr?l.value():l,Xr=Vr?d.value():d;return Q||(Q=new Vc),M(Ya,Xr,k,b,Q)}}return Tt?(Q||(Q=new Vc),Hje(l,d,k,b,M,Q)):!1}function K8(l){return Qi(l)&&ql(l)==ar}function Kp(l,d,k,b){var M=k.length,Q=M,uA=!b;if(l==null)return!Q;for(l=jj(l);M--;){var fA=k[M];if(uA&&fA[2]?fA[1]!==l[fA[0]]:!(fA[0]in l))return!1}for(;++M<Q;){fA=k[M];var _A=fA[0],$e=l[_A],Oe=fA[1];if(uA&&fA[2]){if($e===A&&!(_A in l))return!1}else{var We=new Vc;if(b)var Tt=b($e,Oe,_A,l,d,We);if(!(Tt===A?zx(Oe,$e,p|h,b,We):Tt))return!1}}return!0}function Mx(l){if(!Oi(l)||ene(l))return!1;var d=Y7(l)?mW:vA;return d.test(Kx(l))}function gj(l){return Qi(l)&&Qs(l)==cj}function m(l){return Qi(l)&&ql(l)==er}function g(l){return Qi(l)&&n5(l.length)&&!!Cn[Qs(l)]}function x(l){return typeof l=="function"?l:l==null?N6:typeof l=="object"?Sa(l)?Qr(l[0],l[1]):Lt(l):tfA(l)}function P(l){if(!U8(l))return AF(l);var d=[];for(var k in jj(l))Hj.call(l,k)&&k!="constructor"&&d.push(k);return d}function V(l){if(!Oi(l))return jne(l);var d=U8(l),k=[];for(var b in l)b=="constructor"&&(d||!Hj.call(l,b))||k.push(b);return k}function kA(l,d){return l<d}function ce(l,d){var k=-1,b=K6(l)?ie(l.length):[];return Rp(l,function(M,Q,uA){b[++k]=d(M,Q,uA)}),b}function Lt(l){var d=cJ(l);return d.length==1&&d[0][2]?kgA(d[0][0],d[0][1]):function(k){return k===l||Kp(k,l,d)}}function Qr(l,d){return dJ(l)&&pgA(d)?kgA(Np(l),d):function(k){var b=bJ(k,l);return b===A&&b===d?yJ(k,l):zx(d,b,p|h)}}function Ja(l,d,k,b,M){l!==d&&D8(d,function(Q,uA){if(M||(M=new Vc),Oi(Q))Al(l,d,uA,k,Ja,b,M);else{var fA=b?b(pJ(l,uA),Q,uA+"",l,d,M):A;fA===A&&(fA=Q),O8(l,uA,fA)}},L6)}function Al(l,d,k,b,M,Q,uA){var fA=pJ(l,k),_A=pJ(d,k),$e=uA.get(_A);if($e){O8(l,k,$e);return}var Oe=Q?Q(fA,_A,k+"",l,d,uA):A,We=Oe===A;if(We){var Tt=Sa(_A),hr=!Tt&&mf(_A),Vr=!Tt&&!hr&&uF(_A);Oe=_A,Tt||hr||Vr?Sa(fA)?Oe=fA:go(fA)?Oe=R6(fA):hr?(We=!1,Oe=WhA(_A,!0)):Vr?(We=!1,Oe=JhA(_A,!0)):Oe=[]:V8(_A)||Lx(_A)?(Oe=fA,Lx(fA)?Oe=HgA(fA):(!Oi(fA)||Y7(fA))&&(Oe=mgA(_A))):We=!1}We&&(uA.set(_A,Oe),M(Oe,_A,b,Q,uA),uA.delete(_A)),O8(l,k,Oe)}function Yu(l,d){var k=l.length;if(k)return d+=d<0?k:0,J7(d,k)?l[d]:A}function dm(l,d,k){d.length?d=hn(d,function(Q){return Sa(Q)?function(uA){return V7(uA,Q.length===1?Q[0]:Q)}:Q}):d=[N6];var b=-1;d=hn(d,wl(Mr()));var M=ce(l,function(Q,uA,fA){var _A=hn(d,function($e){return $e(Q)});return{criteria:_A,index:++b,value:Q}});return w8(M,function(Q,uA){return _je(Q,uA,k)})}function vje(l,d){return MhA(l,d,function(k,b){return yJ(l,b)})}function MhA(l,d,k){for(var b=-1,M=d.length,Q={};++b<M;){var uA=d[b],fA=V7(l,uA);k(fA,uA)&&L8(Q,uf(uA,l),fA)}return Q}function Fje(l){return function(d){return V7(d,l)}}function YW(l,d,k,b){var M=b?mD:ef,Q=-1,uA=d.length,fA=l;for(l===d&&(d=R6(d)),k&&(fA=hn(l,wl(k)));++Q<uA;)for(var _A=0,$e=d[Q],Oe=k?k($e):$e;(_A=M(fA,Oe,_A,b))>-1;)fA!==l&&L7.call(fA,_A,1),L7.call(l,_A,1);return l}function RhA(l,d){for(var k=l?d.length:0,b=k-1;k--;){var M=d[k];if(k==b||M!==Q){var Q=M;J7(M)?L7.call(l,M,1):eJ(l,M)}}return l}function ZW(l,d){return l+Px(ID()*(d-l+1))}function Gje(l,d,k,b){for(var M=-1,Q=Zi(Z0((d-l)/(k||1)),0),uA=ie(Q);Q--;)uA[b?Q:++M]=l,l+=k;return uA}function QW(l,d){var k="";if(!l||d<1||d>we)return k;do d%2&&(k+=l),d=Px(d/2),d&&(l+=l);while(d);return k}function nj(l,d){return kJ(hgA(l,d,N6),l+"")}function wje(l){return DD(dF(l))}function qje(l,d){var k=dF(l);return A5(k,H7(d,0,k.length))}function L8(l,d,k,b){if(!Oi(l))return l;d=uf(d,l);for(var M=-1,Q=d.length,uA=Q-1,fA=l;fA!=null&&++M<Q;){var _A=Np(d[M]),$e=k;if(_A==="__proto__"||_A==="constructor"||_A==="prototype")return l;if(M!=uA){var Oe=fA[_A];$e=b?b(Oe,_A,fA):A,$e===A&&($e=Oi(Oe)?Oe:J7(d[M+1])?[]:{})}Dx(fA,_A,$e),fA=fA[_A]}return l}var KhA=eF?function(l,d){return eF.set(l,d),l}:N6,$je=Y0?function(l,d){return Y0(l,"toString",{configurable:!0,enumerable:!1,value:FJ(d),writable:!0})}:N6;function Ije(l){return A5(dF(l))}function Zu(l,d,k){var b=-1,M=l.length;d<0&&(d=-d>M?0:M+d),k=k>M?M:k,k<0&&(k+=M),M=d>k?0:k-d>>>0,d>>>=0;for(var Q=ie(M);++b<M;)Q[b]=l[b+d];return Q}function Pje(l,d){var k;return Rp(l,function(b,M,Q){return k=d(b,M,Q),!k}),!!k}function UD(l,d,k){var b=0,M=l==null?b:l.length;if(typeof d=="number"&&d===d&&M<=ne){for(;b<M;){var Q=b+M>>>1,uA=l[Q];uA!==null&&!Wc(uA)&&(k?uA<=d:uA<d)?b=Q+1:M=Q}return M}return AJ(l,d,N6,k)}function AJ(l,d,k,b){var M=0,Q=l==null?0:l.length;if(Q===0)return 0;d=k(d);for(var uA=d!==d,fA=d===null,_A=Wc(d),$e=d===A;M<Q;){var Oe=Px((M+Q)/2),We=k(l[Oe]),Tt=We!==A,hr=We===null,Vr=We===We,Ya=Wc(We);if(uA)var Xr=b||Vr;else $e?Xr=Vr&&(b||Tt):fA?Xr=Vr&&Tt&&(b||!hr):_A?Xr=Vr&&Tt&&!hr&&(b||!Ya):hr||Ya?Xr=!1:Xr=b?We<=d:We<d;Xr?M=Oe+1:Q=Oe}return Ci(Q,IA)}function LhA(l,d){for(var k=-1,b=l.length,M=0,Q=[];++k<b;){var uA=l[k],fA=d?d(uA):uA;if(!k||!mm(fA,_A)){var _A=fA;Q[M++]=uA===0?0:uA}}return Q}function NhA(l){return typeof l=="number"?l:Wc(l)?ot:+l}function Xc(l){if(typeof l=="string")return l;if(Sa(l))return hn(l,Xc)+"";if(Wc(l))return PD?PD.call(l):"";var d=l+"";return d=="0"&&1/l==-yA?"-0":d}function cf(l,d,k){var b=-1,M=L0,Q=l.length,uA=!0,fA=[],_A=fA;if(k)uA=!1,M=y8;else if(Q>=t){var $e=d?null:Lje(l);if($e)return rf($e);uA=!1,M=tf,_A=new U7}else _A=d?[]:fA;A:for(;++b<Q;){var Oe=l[b],We=d?d(Oe):Oe;if(Oe=k||Oe!==0?Oe:0,uA&&We===We){for(var Tt=_A.length;Tt--;)if(_A[Tt]===We)continue A;d&&_A.push(We),fA.push(Oe)}else M(_A,We,k)||(_A!==fA&&_A.push(We),fA.push(Oe))}return fA}function eJ(l,d){return d=uf(d,l),l=ggA(l,d),l==null||delete l[Np(Qu(d))]}function UhA(l,d,k,b){return L8(l,d,k(V7(l,d)),b)}function HD(l,d,k,b){for(var M=l.length,Q=b?M:-1;(b?Q--:++Q<M)&&d(l[Q],Q,l););return k?Zu(l,b?0:Q,b?Q+1:M):Zu(l,b?Q+1:0,b?M:Q)}function HhA(l,d){var k=l;return k instanceof Wa&&(k=k.value()),v8(d,function(b,M){return M.func.apply(M.thisArg,Uu([b],M.args))},k)}function tJ(l,d,k){var b=l.length;if(b<2)return b?cf(l[0]):[];for(var M=-1,Q=ie(b);++M<b;)for(var uA=l[M],fA=-1;++fA<b;)fA!=M&&(Q[M]=lf(Q[M]||uA,l[fA],d,k));return cf(rs(Q,1),d,k)}function VhA(l,d,k){for(var b=-1,M=l.length,Q=d.length,uA={};++b<M;){var fA=b<Q?d[b]:A;k(uA,l[b],fA)}return uA}function rJ(l){return go(l)?l:[]}function aJ(l){return typeof l=="function"?l:N6}function uf(l,d){return Sa(l)?l:dJ(l,d)?[l]:xgA(en(l))}var Sje=nj;function df(l,d,k){var b=l.length;return k=k===A?b:k,!d&&k>=b?l:Zu(l,d,k)}var XhA=pW||function(l){return Do.clearTimeout(l)};function WhA(l,d){if(d)return l.slice();var k=l.length,b=yD?yD(k):new l.constructor(k);return l.copy(b),b}function jJ(l){var d=new l.constructor(l.byteLength);return new W0(d).set(new W0(l)),d}function Cje(l,d){var k=d?jJ(l.buffer):l.buffer;return new l.constructor(k,l.byteOffset,l.byteLength)}function Oje(l){var d=new l.constructor(l.source,U.exec(l));return d.lastIndex=l.lastIndex,d}function Tje(l){return _x?jj(_x.call(l)):{}}function JhA(l,d){var k=d?jJ(l.buffer):l.buffer;return new l.constructor(k,l.byteOffset,l.length)}function YhA(l,d){if(l!==d){var k=l!==A,b=l===null,M=l===l,Q=Wc(l),uA=d!==A,fA=d===null,_A=d===d,$e=Wc(d);if(!fA&&!$e&&!Q&&l>d||Q&&uA&&_A&&!fA&&!$e||b&&uA&&_A||!k&&_A||!M)return 1;if(!b&&!Q&&!$e&&l<d||$e&&k&&M&&!b&&!Q||fA&&k&&M||!uA&&M||!_A)return-1}return 0}function _je(l,d,k){for(var b=-1,M=l.criteria,Q=d.criteria,uA=M.length,fA=k.length;++b<uA;){var _A=YhA(M[b],Q[b]);if(_A){if(b>=fA)return _A;var $e=k[b];return _A*($e=="desc"?-1:1)}}return l.index-d.index}function ZhA(l,d,k,b){for(var M=-1,Q=l.length,uA=k.length,fA=-1,_A=d.length,$e=Zi(Q-uA,0),Oe=ie(_A+$e),We=!b;++fA<_A;)Oe[fA]=d[fA];for(;++M<uA;)(We||M<Q)&&(Oe[k[M]]=l[M]);for(;$e--;)Oe[fA++]=l[M++];return Oe}function QhA(l,d,k,b){for(var M=-1,Q=l.length,uA=-1,fA=k.length,_A=-1,$e=d.length,Oe=Zi(Q-fA,0),We=ie(Oe+$e),Tt=!b;++M<Oe;)We[M]=l[M];for(var hr=M;++_A<$e;)We[hr+_A]=d[_A];for(;++uA<fA;)(Tt||M<Q)&&(We[hr+k[uA]]=l[M++]);return We}function R6(l,d){var k=-1,b=l.length;for(d||(d=ie(b));++k<b;)d[k]=l[k];return d}function Lp(l,d,k,b){var M=!k;k||(k={});for(var Q=-1,uA=d.length;++Q<uA;){var fA=d[Q],_A=b?b(k[fA],l[fA],fA,k,l):A;_A===A&&(_A=l[fA]),M?cm(k,fA,_A):Dx(k,fA,_A)}return k}function Dje(l,d){return Lp(l,uJ(l),d)}function zje(l,d){return Lp(l,ugA(l),d)}function VD(l,d){return function(k,b){var M=Sa(k)?HX:RW,Q=d?d():{};return M(k,l,Mr(b,2),Q)}}function sF(l){return nj(function(d,k){var b=-1,M=k.length,Q=M>1?k[M-1]:A,uA=M>2?k[2]:A;for(Q=l.length>3&&typeof Q=="function"?(M--,Q):A,uA&&o6(k[0],k[1],uA)&&(Q=M<3?A:Q,M=1),d=jj(d);++b<M;){var fA=k[b];fA&&l(d,fA,b,Q)}return d})}function AgA(l,d){return function(k,b){if(k==null)return k;if(!K6(k))return l(k,b);for(var M=k.length,Q=d?M:-1,uA=jj(k);(d?Q--:++Q<M)&&b(uA[Q],Q,uA)!==!1;);return k}}function egA(l){return function(d,k,b){for(var M=-1,Q=jj(d),uA=b(d),fA=uA.length;fA--;){var _A=uA[l?fA:++M];if(k(Q[_A],_A,Q)===!1)break}return d}}function Mje(l,d,k){var b=d&f,M=N8(l);function Q(){var uA=this&&this!==Do&&this instanceof Q?M:l;return uA.apply(b?k:this,arguments)}return Q}function tgA(l){return function(d){d=en(d);var k=Hu(d)?n6(d):A,b=k?k[0]:d.charAt(0),M=k?df(k,1).join(""):d.slice(1);return b[l]()+M}}function lF(l){return function(d){return v8(AfA(QgA(d).replace(Qg,"")),l,"")}}function N8(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var k=sf(l.prototype),b=l.apply(k,d);return Oi(b)?b:k}}function Rje(l,d,k){var b=N8(l);function M(){for(var Q=arguments.length,uA=ie(Q),fA=Q,_A=cF(M);fA--;)uA[fA]=arguments[fA];var $e=Q<3&&uA[0]!==_A&&uA[Q-1]!==_A?[]:Hc(uA,_A);if(Q-=$e.length,Q<k)return igA(l,d,XD,M.placeholder,A,uA,$e,A,A,k-Q);var Oe=this&&this!==Do&&this instanceof M?b:l;return Zs(Oe,this,uA)}return M}function rgA(l){return function(d,k,b){var M=jj(d);if(!K6(d)){var Q=Mr(k,3);d=xs(d),k=function(fA){return Q(M[fA],fA,M)}}var uA=l(d,k,b);return uA>-1?M[Q?d[uA]:uA]:A}}function agA(l){return W7(function(d){var k=d.length,b=k,M=z6.prototype.thru;for(l&&d.reverse();b--;){var Q=d[b];if(typeof Q!="function")throw new D6(a);if(M&&!uA&&ZD(Q)=="wrapper")var uA=new z6([],!0)}for(b=uA?b:k;++b<k;){Q=d[b];var fA=ZD(Q),_A=fA=="wrapper"?lJ(Q):A;_A&&mJ(_A[0])&&_A[1]==(O|y|$|I)&&!_A[4].length&&_A[9]==1?uA=uA[ZD(_A[0])].apply(uA,_A[3]):uA=Q.length==1&&mJ(Q)?uA[fA]():uA.thru(Q)}return function(){var $e=arguments,Oe=$e[0];if(uA&&$e.length==1&&Sa(Oe))return uA.plant(Oe).value();for(var We=0,Tt=k?d[We].apply(this,$e):Oe;++We<k;)Tt=d[We].call(this,Tt);return Tt}})}function XD(l,d,k,b,M,Q,uA,fA,_A,$e){var Oe=d&O,We=d&f,Tt=d&G,hr=d&(y|E),Vr=d&q,Ya=Tt?A:N8(l);function Xr(){for(var pj=arguments.length,yj=ie(pj),Jc=pj;Jc--;)yj[Jc]=arguments[Jc];if(hr)var s6=cF(Xr),Yc=ZX(yj,s6);if(b&&(yj=ZhA(yj,b,M,hr)),Q&&(yj=QhA(yj,Q,uA,hr)),pj-=Yc,hr&&pj<$e){var fo=Hc(yj,s6);return igA(l,d,XD,Xr.placeholder,k,yj,fo,fA,_A,$e-pj)}var pm=We?k:this,Q7=Tt?pm[l]:l;return pj=yj.length,fA?yj=ine(yj,fA):Vr&&pj>1&&yj.reverse(),Oe&&_A<pj&&(yj.length=_A),this&&this!==Do&&this instanceof Xr&&(Q7=Ya||N8(Q7)),Q7.apply(pm,yj)}return Xr}function jgA(l,d){return function(k,b){return um(k,l,d(b),{})}}function WD(l,d){return function(k,b){var M;if(k===A&&b===A)return d;if(k!==A&&(M=k),b!==A){if(M===A)return b;typeof k=="string"||typeof b=="string"?(k=Xc(k),b=Xc(b)):(k=NhA(k),b=NhA(b)),M=l(k,b)}return M}}function nJ(l){return W7(function(d){return d=hn(d,wl(Mr())),nj(function(k){var b=this;return l(d,function(M){return Zs(M,b,k)})})})}function JD(l,d){d=d===A?" ":Xc(d);var k=d.length;if(k<2)return k?QW(d,l):d;var b=QW(d,Z0(l/_p(d)));return Hu(d)?df(n6(b),0,l).join(""):b.slice(0,l)}function Kje(l,d,k,b){var M=d&f,Q=N8(l);function uA(){for(var fA=-1,_A=arguments.length,$e=-1,Oe=b.length,We=ie(Oe+_A),Tt=this&&this!==Do&&this instanceof uA?Q:l;++$e<Oe;)We[$e]=b[$e];for(;_A--;)We[$e++]=arguments[++fA];return Zs(Tt,M?k:this,We)}return uA}function ngA(l){return function(d,k,b){return b&&typeof b!="number"&&o6(d,k,b)&&(k=b=A),d=Z7(d),k===A?(k=d,d=0):k=Z7(k),b=b===A?d<k?1:-1:Z7(b),Gje(d,k,b,l)}}function YD(l){return function(d,k){return typeof d=="string"&&typeof k=="string"||(d=Ad(d),k=Ad(k)),l(d,k)}}function igA(l,d,k,b,M,Q,uA,fA,_A,$e){var Oe=d&y,We=Oe?uA:A,Tt=Oe?A:uA,hr=Oe?Q:A,Vr=Oe?A:Q;d|=Oe?$:T,d&=~(Oe?T:$),d&w||(d&=~(f|G));var Ya=[l,d,M,hr,We,Vr,Tt,fA,_A,$e],Xr=k.apply(A,Ya);return mJ(l)&&fgA(Xr,Ya),Xr.placeholder=b,BgA(Xr,l,d)}function iJ(l){var d=ho[l];return function(k,b){if(k=Ad(k),b=b==null?0:Ci(La(b),292),b&&Sx(k)){var M=(en(k)+"e").split("e"),Q=d(M[0]+"e"+(+M[1]+b));return M=(en(Q)+"e").split("e"),+(M[0]+"e"+(+M[1]-b))}return d(k)}}var Lje=nf&&1/rf(new nf([,-0]))[1]==yA?function(l){return new nf(l)}:qJ;function ogA(l){return function(d){var k=ql(d);return k==ar?P8(d):k==er?aW(d):YX(d,l(d))}}function X7(l,d,k,b,M,Q,uA,fA){var _A=d&G;if(!_A&&typeof l!="function")throw new D6(a);var $e=b?b.length:0;if($e||(d&=~($|T),b=M=A),uA=uA===A?uA:Zi(La(uA),0),fA=fA===A?fA:La(fA),$e-=M?M.length:0,d&T){var Oe=b,We=M;b=M=A}var Tt=_A?A:lJ(l),hr=[l,d,k,b,M,Oe,We,Q,uA,fA];if(Tt&&ane(hr,Tt),l=hr[0],d=hr[1],k=hr[2],b=hr[3],M=hr[4],fA=hr[9]=hr[9]===A?_A?0:l.length:Zi(hr[9]-$e,0),!fA&&d&(y|E)&&(d&=~(y|E)),!d||d==f)var Vr=Mje(l,d,k);else d==y||d==E?Vr=Rje(l,d,fA):(d==$||d==(f|$))&&!M.length?Vr=Kje(l,d,k,b):Vr=XD.apply(A,hr);var Ya=Tt?KhA:fgA;return BgA(Ya(Vr,hr),l,d)}function sgA(l,d,k,b){return l===A||mm(l,af[k])&&!Hj.call(b,k)?d:l}function lgA(l,d,k,b,M,Q){return Oi(l)&&Oi(d)&&(Q.set(d,l),Ja(l,d,A,lgA,Q),Q.delete(d)),l}function Nje(l){return V8(l)?A:l}function cgA(l,d,k,b,M,Q){var uA=k&p,fA=l.length,_A=d.length;if(fA!=_A&&!(uA&&_A>fA))return!1;var $e=Q.get(l),Oe=Q.get(d);if($e&&Oe)return $e==d&&Oe==l;var We=-1,Tt=!0,hr=k&h?new U7:A;for(Q.set(l,d),Q.set(d,l);++We<fA;){var Vr=l[We],Ya=d[We];if(b)var Xr=uA?b(Ya,Vr,We,d,l,Q):b(Vr,Ya,We,l,d,Q);if(Xr!==A){if(Xr)continue;Tt=!1;break}if(hr){if(!F8(d,function(pj,yj){if(!tf(hr,yj)&&(Vr===pj||M(Vr,pj,k,b,Q)))return hr.push(yj)})){Tt=!1;break}}else if(!(Vr===Ya||M(Vr,Ya,k,b,Q))){Tt=!1;break}}return Q.delete(l),Q.delete(d),Tt}function Uje(l,d,k,b,M,Q,uA){switch(k){case JA:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case wA:return!(l.byteLength!=d.byteLength||!Q(new W0(l),new W0(d)));case or:case ve:case Ot:return mm(+l,+d);case Ge:return l.name==d.name&&l.message==d.message;case cj:case pr:return l==d+"";case ar:var fA=P8;case er:var _A=b&p;if(fA||(fA=rf),l.size!=d.size&&!_A)return!1;var $e=uA.get(l);if($e)return $e==d;b|=h,uA.set(l,d);var Oe=cgA(fA(l),fA(d),b,M,Q,uA);return uA.delete(l),Oe;case ua:if(_x)return _x.call(l)==_x.call(d)}return!1}function Hje(l,d,k,b,M,Q){var uA=k&p,fA=oJ(l),_A=fA.length,$e=oJ(d),Oe=$e.length;if(_A!=Oe&&!uA)return!1;for(var We=_A;We--;){var Tt=fA[We];if(!(uA?Tt in d:Hj.call(d,Tt)))return!1}var hr=Q.get(l),Vr=Q.get(d);if(hr&&Vr)return hr==d&&Vr==l;var Ya=!0;Q.set(l,d),Q.set(d,l);for(var Xr=uA;++We<_A;){Tt=fA[We];var pj=l[Tt],yj=d[Tt];if(b)var Jc=uA?b(yj,pj,Tt,d,l,Q):b(pj,yj,Tt,l,d,Q);if(!(Jc===A?pj===yj||M(pj,yj,k,b,Q):Jc)){Ya=!1;break}Xr||(Xr=Tt=="constructor")}if(Ya&&!Xr){var s6=l.constructor,Yc=d.constructor;s6!=Yc&&"constructor"in l&&"constructor"in d&&!(typeof s6=="function"&&s6 instanceof s6&&typeof Yc=="function"&&Yc instanceof Yc)&&(Ya=!1)}return Q.delete(l),Q.delete(d),Ya}function W7(l){return kJ(hgA(l,A,FgA),l+"")}function oJ(l){return LD(l,xs,uJ)}function sJ(l){return LD(l,L6,ugA)}var lJ=eF?function(l){return eF.get(l)}:qJ;function ZD(l){for(var d=l.name+"",k=of[d],b=Hj.call(of,d)?k.length:0;b--;){var M=k[b],Q=M.func;if(Q==null||Q==l)return M.name}return d}function cF(l){var d=Hj.call(X,"placeholder")?X:l;return d.placeholder}function Mr(){var l=X.iteratee||GJ;return l=l===GJ?x:l,arguments.length?l(arguments[0],arguments[1]):l}function QD(l,d){var k=l.__data__;return Ane(d)?k[typeof d=="string"?"string":"hash"]:k.map}function cJ(l){for(var d=xs(l),k=d.length;k--;){var b=d[k],M=l[b];d[k]=[b,M,pgA(M)]}return d}function Rx(l,d){var k=eW(l,d);return Mx(k)?k:A}function Vje(l){var d=Hj.call(l,N7),k=l[N7];try{l[N7]=A;var b=!0}catch{}var M=V0.call(l);return b&&(d?l[N7]=k:delete l[N7]),M}var uJ=Q0?function(l){return l==null?[]:(l=jj(l),Tp(Q0(l),function(d){return FD.call(l,d)}))}:$J,ugA=Q0?function(l){for(var d=[];l;)Uu(d,uJ(l)),l=J0(l);return d}:$J,ql=Qs;(S8&&ql(new S8(new ArrayBuffer(1)))!=JA||Cx&&ql(new Cx)!=ar||C8&&ql(C8.resolve())!=rj||nf&&ql(new nf)!=er||Ox&&ql(new Ox)!=ft)&&(ql=function(l){var d=Qs(l),k=d==Ba?l.constructor:A,b=k?Kx(k):"";if(b)switch(b){case fW:return JA;case BW:return ar;case EW:return rj;case xW:return er;case bW:return ft}return d});function Xje(l,d,k){for(var b=-1,M=k.length;++b<M;){var Q=k[b],uA=Q.size;switch(Q.type){case"drop":l+=uA;break;case"dropRight":d-=uA;break;case"take":d=Ci(d,l+uA);break;case"takeRight":l=Zi(l,d-uA);break}}return{start:l,end:d}}function Wje(l){var d=l.match(L);return d?d[1].split(B):[]}function dgA(l,d,k){d=uf(d,l);for(var b=-1,M=d.length,Q=!1;++b<M;){var uA=Np(d[b]);if(!(Q=l!=null&&k(l,uA)))break;l=l[uA]}return Q||++b!=M?Q:(M=l==null?0:l.length,!!M&&n5(M)&&J7(uA,M)&&(Sa(l)||Lx(l)))}function Jje(l){var d=l.length,k=new l.constructor(d);return d&&typeof l[0]=="string"&&Hj.call(l,"index")&&(k.index=l.index,k.input=l.input),k}function mgA(l){return typeof l.constructor=="function"&&!U8(l)?sf(J0(l)):{}}function Yje(l,d,k){var b=l.constructor;switch(d){case wA:return jJ(l);case or:case ve:return new b(+l);case JA:return Cje(l,k);case Me:case Se:case _t:case qe:case BA:case dA:case DA:case jt:case Ga:return JhA(l,k);case ar:return new b;case Ot:case pr:return new b(l);case cj:return Oje(l);case er:return new b;case ua:return Tje(l)}}function Zje(l,d){var k=d.length;if(!k)return l;var b=k-1;return d[b]=(k>1?"& ":"")+d[b],d=d.join(k>2?", ":" "),l.replace(H,`{
/* [wrapped with `+d+`] */
`)}function Qje(l){return Sa(l)||Lx(l)||!!(GD&&l&&l[GD])}function J7(l,d){var k=typeof l;return d=d??we,!!d&&(k=="number"||k!="symbol"&&zA.test(l))&&l>-1&&l%1==0&&l<d}function o6(l,d,k){if(!Oi(k))return!1;var b=typeof d;return(b=="number"?K6(k)&&J7(d,k.length):b=="string"&&d in k)?mm(k[d],l):!1}function dJ(l,d){if(Sa(l))return!1;var k=typeof l;return k=="number"||k=="symbol"||k=="boolean"||l==null||Wc(l)?!0:Si.test(l)||!_o.test(l)||d!=null&&l in jj(d)}function Ane(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function mJ(l){var d=ZD(l),k=X[d];if(typeof k!="function"||!(d in Wa.prototype))return!1;if(l===k)return!0;var b=lJ(k);return!!b&&l===b[0]}function ene(l){return!!bD&&bD in l}var tne=H0?Y7:IJ;function U8(l){var d=l&&l.constructor,k=typeof d=="function"&&d.prototype||af;return l===k}function pgA(l){return l===l&&!Oi(l)}function kgA(l,d){return function(k){return k==null?!1:k[l]===d&&(d!==A||l in jj(k))}}function rne(l){var d=a5(l,function(b){return k.size===i&&k.clear(),b}),k=d.cache;return d}function ane(l,d){var k=l[1],b=d[1],M=k|b,Q=M<(f|G|O),uA=b==O&&k==y||b==O&&k==I&&l[7].length<=d[8]||b==(O|I)&&d[7].length<=d[8]&&k==y;if(!(Q||uA))return l;b&f&&(l[2]=d[2],M|=k&f?0:w);var fA=d[3];if(fA){var _A=l[3];l[3]=_A?ZhA(_A,fA,d[4]):fA,l[4]=_A?Hc(l[3],o):d[4]}return fA=d[5],fA&&(_A=l[5],l[5]=_A?QhA(_A,fA,d[6]):fA,l[6]=_A?Hc(l[5],o):d[6]),fA=d[7],fA&&(l[7]=fA),b&O&&(l[8]=l[8]==null?d[8]:Ci(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=M,l}function jne(l){var d=[];if(l!=null)for(var k in jj(l))d.push(k);return d}function nne(l){return V0.call(l)}function hgA(l,d,k){return d=Zi(d===A?l.length-1:d,0),function(){for(var b=arguments,M=-1,Q=Zi(b.length-d,0),uA=ie(Q);++M<Q;)uA[M]=b[d+M];M=-1;for(var fA=ie(d+1);++M<d;)fA[M]=b[M];return fA[d]=k(uA),Zs(l,this,fA)}}function ggA(l,d){return d.length<2?l:V7(l,Zu(d,0,-1))}function ine(l,d){for(var k=l.length,b=Ci(d.length,k),M=R6(l);b--;){var Q=d[b];l[b]=J7(Q,k)?M[Q]:A}return l}function pJ(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var fgA=EgA(KhA),H8=hW||function(l,d){return Do.setTimeout(l,d)},kJ=EgA($je);function BgA(l,d,k){var b=d+"";return kJ(l,Zje(b,one(Wje(b),k)))}function EgA(l){var d=0,k=0;return function(){var b=qD(),M=lA-(b-k);if(k=b,M>0){if(++d>=nA)return arguments[0]}else d=0;return l.apply(A,arguments)}}function A5(l,d){var k=-1,b=l.length,M=b-1;for(d=d===A?b:d;++k<d;){var Q=ZW(k,M),uA=l[Q];l[Q]=l[k],l[k]=uA}return l.length=d,l}var xgA=rne(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(da,function(k,b,M,Q){d.push(M?Q.replace(PA,"$1"):b||k)}),d});function Np(l){if(typeof l=="string"||Wc(l))return l;var d=l+"";return d=="0"&&1/l==-yA?"-0":d}function Kx(l){if(l!=null){try{return $x.call(l)}catch{}try{return l+""}catch{}}return""}function one(l,d){return Yi(HA,function(k){var b="_."+k[0];d&k[1]&&!L0(l,b)&&l.push(b)}),l.sort()}function bgA(l){if(l instanceof Wa)return l.clone();var d=new z6(l.__wrapped__,l.__chain__);return d.__actions__=R6(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function sne(l,d,k){(k?o6(l,d,k):d===A)?d=1:d=Zi(La(d),0);var b=l==null?0:l.length;if(!b||d<1)return[];for(var M=0,Q=0,uA=ie(Z0(b/d));M<b;)uA[Q++]=Zu(l,M,M+=d);return uA}function lne(l){for(var d=-1,k=l==null?0:l.length,b=0,M=[];++d<k;){var Q=l[d];Q&&(M[b++]=Q)}return M}function cne(){var l=arguments.length;if(!l)return[];for(var d=ie(l-1),k=arguments[0],b=l;b--;)d[b-1]=arguments[b];return Uu(Sa(k)?R6(k):[k],rs(d,1))}var une=nj(function(l,d){return go(l)?lf(l,rs(d,1,go,!0)):[]}),dne=nj(function(l,d){var k=Qu(d);return go(k)&&(k=A),go(l)?lf(l,rs(d,1,go,!0),Mr(k,2)):[]}),mne=nj(function(l,d){var k=Qu(d);return go(k)&&(k=A),go(l)?lf(l,rs(d,1,go,!0),A,k):[]});function pne(l,d,k){var b=l==null?0:l.length;return b?(d=k||d===A?1:La(d),Zu(l,d<0?0:d,b)):[]}function kne(l,d,k){var b=l==null?0:l.length;return b?(d=k||d===A?1:La(d),d=b-d,Zu(l,0,d<0?0:d)):[]}function hne(l,d){return l&&l.length?HD(l,Mr(d,3),!0,!0):[]}function gne(l,d){return l&&l.length?HD(l,Mr(d,3),!0):[]}function fne(l,d,k,b){var M=l==null?0:l.length;return M?(k&&typeof k!="number"&&o6(l,d,k)&&(k=0,b=M),NW(l,d,k,b)):[]}function ygA(l,d,k){var b=l==null?0:l.length;if(!b)return-1;var M=k==null?0:La(k);return M<0&&(M=Zi(b+M,0)),N0(l,Mr(d,3),M)}function vgA(l,d,k){var b=l==null?0:l.length;if(!b)return-1;var M=b-1;return k!==A&&(M=La(k),M=k<0?Zi(b+M,0):Ci(M,b-1)),N0(l,Mr(d,3),M,!0)}function FgA(l){var d=l==null?0:l.length;return d?rs(l,1):[]}function Bne(l){var d=l==null?0:l.length;return d?rs(l,yA):[]}function Ene(l,d){var k=l==null?0:l.length;return k?(d=d===A?1:La(d),rs(l,d)):[]}function xne(l){for(var d=-1,k=l==null?0:l.length,b={};++d<k;){var M=l[d];b[M[0]]=M[1]}return b}function GgA(l){return l&&l.length?l[0]:A}function bne(l,d,k){var b=l==null?0:l.length;if(!b)return-1;var M=k==null?0:La(k);return M<0&&(M=Zi(b+M,0)),ef(l,d,M)}function yne(l){var d=l==null?0:l.length;return d?Zu(l,0,-1):[]}var vne=nj(function(l){var d=hn(l,rJ);return d.length&&d[0]===l[0]?R8(d):[]}),Fne=nj(function(l){var d=Qu(l),k=hn(l,rJ);return d===Qu(k)?d=A:k.pop(),k.length&&k[0]===l[0]?R8(k,Mr(d,2)):[]}),Gne=nj(function(l){var d=Qu(l),k=hn(l,rJ);return d=typeof d=="function"?d:A,d&&k.pop(),k.length&&k[0]===l[0]?R8(k,A,d):[]});function wne(l,d){return l==null?"":jf.call(l,d)}function Qu(l){var d=l==null?0:l.length;return d?l[d-1]:A}function qne(l,d,k){var b=l==null?0:l.length;if(!b)return-1;var M=b;return k!==A&&(M=La(k),M=M<0?Zi(b+M,0):Ci(M,b-1)),d===d?jW(l,d,M):N0(l,pD,M,!0)}function $ne(l,d){return l&&l.length?Yu(l,La(d)):A}var Ine=nj(wgA);function wgA(l,d){return l&&l.length&&d&&d.length?YW(l,d):l}function Pne(l,d,k){return l&&l.length&&d&&d.length?YW(l,d,Mr(k,2)):l}function Sne(l,d,k){return l&&l.length&&d&&d.length?YW(l,d,A,k):l}var Cne=W7(function(l,d){var k=l==null?0:l.length,b=iF(l,d);return RhA(l,hn(d,function(M){return J7(M,k)?+M:M}).sort(YhA)),b});function One(l,d){var k=[];if(!(l&&l.length))return k;var b=-1,M=[],Q=l.length;for(d=Mr(d,3);++b<Q;){var uA=l[b];d(uA,b,l)&&(k.push(uA),M.push(b))}return RhA(l,M),k}function hJ(l){return l==null?l:gW.call(l)}function Tne(l,d,k){var b=l==null?0:l.length;return b?(k&&typeof k!="number"&&o6(l,d,k)?(d=0,k=b):(d=d==null?0:La(d),k=k===A?b:La(k)),Zu(l,d,k)):[]}function _ne(l,d){return UD(l,d)}function Dne(l,d,k){return AJ(l,d,Mr(k,2))}function zne(l,d){var k=l==null?0:l.length;if(k){var b=UD(l,d);if(b<k&&mm(l[b],d))return b}return-1}function Mne(l,d){return UD(l,d,!0)}function Rne(l,d,k){return AJ(l,d,Mr(k,2),!0)}function Kne(l,d){var k=l==null?0:l.length;if(k){var b=UD(l,d,!0)-1;if(mm(l[b],d))return b}return-1}function Lne(l){return l&&l.length?LhA(l):[]}function Nne(l,d){return l&&l.length?LhA(l,Mr(d,2)):[]}function Une(l){var d=l==null?0:l.length;return d?Zu(l,1,d):[]}function Hne(l,d,k){return l&&l.length?(d=k||d===A?1:La(d),Zu(l,0,d<0?0:d)):[]}function Vne(l,d,k){var b=l==null?0:l.length;return b?(d=k||d===A?1:La(d),d=b-d,Zu(l,d<0?0:d,b)):[]}function Xne(l,d){return l&&l.length?HD(l,Mr(d,3),!1,!0):[]}function Wne(l,d){return l&&l.length?HD(l,Mr(d,3)):[]}var Jne=nj(function(l){return cf(rs(l,1,go,!0))}),Yne=nj(function(l){var d=Qu(l);return go(d)&&(d=A),cf(rs(l,1,go,!0),Mr(d,2))}),Zne=nj(function(l){var d=Qu(l);return d=typeof d=="function"?d:A,cf(rs(l,1,go,!0),A,d)});function Qne(l){return l&&l.length?cf(l):[]}function Aie(l,d){return l&&l.length?cf(l,Mr(d,2)):[]}function eie(l,d){return d=typeof d=="function"?d:A,l&&l.length?cf(l,A,d):[]}function gJ(l){if(!(l&&l.length))return[];var d=0;return l=Tp(l,function(k){if(go(k))return d=Zi(k.length,d),!0}),$8(d,function(k){return hn(l,G8(k))})}function qgA(l,d){if(!(l&&l.length))return[];var k=gJ(l);return d==null?k:hn(k,function(b){return Zs(d,A,b)})}var tie=nj(function(l,d){return go(l)?lf(l,d):[]}),rie=nj(function(l){return tJ(Tp(l,go))}),aie=nj(function(l){var d=Qu(l);return go(d)&&(d=A),tJ(Tp(l,go),Mr(d,2))}),jie=nj(function(l){var d=Qu(l);return d=typeof d=="function"?d:A,tJ(Tp(l,go),A,d)}),nie=nj(gJ);function iie(l,d){return VhA(l||[],d||[],Dx)}function oie(l,d){return VhA(l||[],d||[],L8)}var sie=nj(function(l){var d=l.length,k=d>1?l[d-1]:A;return k=typeof k=="function"?(l.pop(),k):A,qgA(l,k)});function $gA(l){var d=X(l);return d.__chain__=!0,d}function lie(l,d){return d(l),l}function e5(l,d){return d(l)}var cie=W7(function(l){var d=l.length,k=d?l[0]:0,b=this.__wrapped__,M=function(Q){return iF(Q,l)};return d>1||this.__actions__.length||!(b instanceof Wa)||!J7(k)?this.thru(M):(b=b.slice(k,+k+(d?1:0)),b.__actions__.push({func:e5,args:[M],thisArg:A}),new z6(b,this.__chain__).thru(function(Q){return d&&!Q.length&&Q.push(A),Q}))});function uie(){return $gA(this)}function die(){return new z6(this.value(),this.__chain__)}function mie(){this.__values__===A&&(this.__values__=NgA(this.value()));var l=this.__index__>=this.__values__.length,d=l?A:this.__values__[this.__index__++];return{done:l,value:d}}function pie(){return this}function kie(l){for(var d,k=this;k instanceof rF;){var b=bgA(k);b.__index__=0,b.__values__=A,d?M.__wrapped__=b:d=b;var M=b;k=k.__wrapped__}return M.__wrapped__=l,d}function hie(){var l=this.__wrapped__;if(l instanceof Wa){var d=l;return this.__actions__.length&&(d=new Wa(this)),d=d.reverse(),d.__actions__.push({func:e5,args:[hJ],thisArg:A}),new z6(d,this.__chain__)}return this.thru(hJ)}function gie(){return HhA(this.__wrapped__,this.__actions__)}var fie=VD(function(l,d,k){Hj.call(l,k)?++l[k]:cm(l,k,1)});function Bie(l,d,k){var b=Sa(l)?K0:LW;return k&&o6(l,d,k)&&(d=A),b(l,Mr(d,3))}function Eie(l,d){var k=Sa(l)?Tp:RD;return k(l,Mr(d,3))}var xie=rgA(ygA),bie=rgA(vgA);function yie(l,d){return rs(t5(l,d),1)}function vie(l,d){return rs(t5(l,d),yA)}function Fie(l,d,k){return k=k===A?1:La(k),rs(t5(l,d),k)}function IgA(l,d){var k=Sa(l)?Yi:Rp;return k(l,Mr(d,3))}function PgA(l,d){var k=Sa(l)?VX:MD;return k(l,Mr(d,3))}var Gie=VD(function(l,d,k){Hj.call(l,k)?l[k].push(d):cm(l,k,[d])});function wie(l,d,k,b){l=K6(l)?l:dF(l),k=k&&!b?La(k):0;var M=l.length;return k<0&&(k=Zi(M+k,0)),i5(l)?k<=M&&l.indexOf(d,k)>-1:!!M&&ef(l,d,k)>-1}var qie=nj(function(l,d,k){var b=-1,M=typeof d=="function",Q=K6(l)?ie(l.length):[];return Rp(l,function(uA){Q[++b]=M?Zs(d,uA,k):Ju(uA,d,k)}),Q}),$ie=VD(function(l,d,k){cm(l,k,d)});function t5(l,d){var k=Sa(l)?hn:ce;return k(l,Mr(d,3))}function Iie(l,d,k,b){return l==null?[]:(Sa(d)||(d=d==null?[]:[d]),k=b?A:k,Sa(k)||(k=k==null?[]:[k]),dm(l,d,k))}var Pie=VD(function(l,d,k){l[k?0:1].push(d)},function(){return[[],[]]});function Sie(l,d,k){var b=Sa(l)?v8:kD,M=arguments.length<3;return b(l,Mr(d,4),k,M,Rp)}function Cie(l,d,k){var b=Sa(l)?XX:kD,M=arguments.length<3;return b(l,Mr(d,4),k,M,MD)}function Oie(l,d){var k=Sa(l)?Tp:RD;return k(l,j5(Mr(d,3)))}function Tie(l){var d=Sa(l)?DD:wje;return d(l)}function _ie(l,d,k){(k?o6(l,d,k):d===A)?d=1:d=La(d);var b=Sa(l)?zW:qje;return b(l,d)}function Die(l){var d=Sa(l)?MW:Ije;return d(l)}function zie(l){if(l==null)return 0;if(K6(l))return i5(l)?_p(l):l.length;var d=ql(l);return d==ar||d==er?l.size:P(l).length}function Mie(l,d,k){var b=Sa(l)?F8:Pje;return k&&o6(l,d,k)&&(d=A),b(l,Mr(d,3))}var Rie=nj(function(l,d){if(l==null)return[];var k=d.length;return k>1&&o6(l,d[0],d[1])?d=[]:k>2&&o6(d[0],d[1],d[2])&&(d=[d[0]]),dm(l,rs(d,1),[])}),r5=kW||function(){return Do.Date.now()};function Kie(l,d){if(typeof d!="function")throw new D6(a);return l=La(l),function(){if(--l<1)return d.apply(this,arguments)}}function SgA(l,d,k){return d=k?A:d,d=l&&d==null?l.length:d,X7(l,O,A,A,A,A,d)}function CgA(l,d){var k;if(typeof d!="function")throw new D6(a);return l=La(l),function(){return--l>0&&(k=d.apply(this,arguments)),l<=1&&(d=A),k}}var fJ=nj(function(l,d,k){var b=f;if(k.length){var M=Hc(k,cF(fJ));b|=$}return X7(l,b,d,k,M)}),OgA=nj(function(l,d,k){var b=f|G;if(k.length){var M=Hc(k,cF(OgA));b|=$}return X7(d,b,l,k,M)});function TgA(l,d,k){d=k?A:d;var b=X7(l,y,A,A,A,A,A,d);return b.placeholder=TgA.placeholder,b}function _gA(l,d,k){d=k?A:d;var b=X7(l,E,A,A,A,A,A,d);return b.placeholder=_gA.placeholder,b}function DgA(l,d,k){var b,M,Q,uA,fA,_A,$e=0,Oe=!1,We=!1,Tt=!0;if(typeof l!="function")throw new D6(a);d=Ad(d)||0,Oi(k)&&(Oe=!!k.leading,We="maxWait"in k,Q=We?Zi(Ad(k.maxWait)||0,d):Q,Tt="trailing"in k?!!k.trailing:Tt);function hr(fo){var pm=b,Q7=M;return b=M=A,$e=fo,uA=l.apply(Q7,pm),uA}function Vr(fo){return $e=fo,fA=H8(pj,d),Oe?hr(fo):uA}function Ya(fo){var pm=fo-_A,Q7=fo-$e,rfA=d-pm;return We?Ci(rfA,Q-Q7):rfA}function Xr(fo){var pm=fo-_A,Q7=fo-$e;return _A===A||pm>=d||pm<0||We&&Q7>=Q}function pj(){var fo=r5();if(Xr(fo))return yj(fo);fA=H8(pj,Ya(fo))}function yj(fo){return fA=A,Tt&&b?hr(fo):(b=M=A,uA)}function Jc(){fA!==A&&XhA(fA),$e=0,b=_A=M=fA=A}function s6(){return fA===A?uA:yj(r5())}function Yc(){var fo=r5(),pm=Xr(fo);if(b=arguments,M=this,_A=fo,pm){if(fA===A)return Vr(_A);if(We)return XhA(fA),fA=H8(pj,d),hr(_A)}return fA===A&&(fA=H8(pj,d)),uA}return Yc.cancel=Jc,Yc.flush=s6,Yc}var Lie=nj(function(l,d){return Vu(l,1,d)}),Nie=nj(function(l,d,k){return Vu(l,Ad(d)||0,k)});function Uie(l){return X7(l,q)}function a5(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new D6(a);var k=function(){var b=arguments,M=d?d.apply(this,b):b[0],Q=k.cache;if(Q.has(M))return Q.get(M);var uA=l.apply(this,b);return k.cache=Q.set(M,uA)||Q,uA};return k.cache=new(a5.Cache||lm),k}a5.Cache=lm;function j5(l){if(typeof l!="function")throw new D6(a);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function Hie(l){return CgA(2,l)}var Vie=Sje(function(l,d){d=d.length==1&&Sa(d[0])?hn(d[0],wl(Mr())):hn(rs(d,1),wl(Mr()));var k=d.length;return nj(function(b){for(var M=-1,Q=Ci(b.length,k);++M<Q;)b[M]=d[M].call(this,b[M]);return Zs(l,this,b)})}),BJ=nj(function(l,d){var k=Hc(d,cF(BJ));return X7(l,$,A,d,k)}),zgA=nj(function(l,d){var k=Hc(d,cF(zgA));return X7(l,T,A,d,k)}),Xie=W7(function(l,d){return X7(l,I,A,A,A,d)});function Wie(l,d){if(typeof l!="function")throw new D6(a);return d=d===A?d:La(d),nj(l,d)}function Jie(l,d){if(typeof l!="function")throw new D6(a);return d=d==null?0:Zi(La(d),0),nj(function(k){var b=k[d],M=df(k,0,d);return b&&Uu(M,b),Zs(l,this,M)})}function Yie(l,d,k){var b=!0,M=!0;if(typeof l!="function")throw new D6(a);return Oi(k)&&(b="leading"in k?!!k.leading:b,M="trailing"in k?!!k.trailing:M),DgA(l,d,{leading:b,maxWait:d,trailing:M})}function Zie(l){return SgA(l,1)}function Qie(l,d){return BJ(aJ(d),l)}function Aoe(){if(!arguments.length)return[];var l=arguments[0];return Sa(l)?l:[l]}function eoe(l){return i6(l,u)}function toe(l,d){return d=typeof d=="function"?d:A,i6(l,u,d)}function roe(l){return i6(l,s|u)}function aoe(l,d){return d=typeof d=="function"?d:A,i6(l,s|u,d)}function joe(l,d){return d==null||zD(l,d,xs(d))}function mm(l,d){return l===d||l!==l&&d!==d}var noe=YD(M8),ioe=YD(function(l,d){return l>=d}),Lx=ND(function(){return arguments}())?ND:function(l){return Qi(l)&&Hj.call(l,"callee")&&!FD.call(l,"callee")},Sa=ie.isArray,ooe=sD?wl(sD):XW;function K6(l){return l!=null&&n5(l.length)&&!Y7(l)}function go(l){return Qi(l)&&K6(l)}function soe(l){return l===!0||l===!1||Qi(l)&&Qs(l)==or}var mf=wD||IJ,loe=b8?wl(b8):WW;function coe(l){return Qi(l)&&l.nodeType===1&&!V8(l)}function uoe(l){if(l==null)return!0;if(K6(l)&&(Sa(l)||typeof l=="string"||typeof l.splice=="function"||mf(l)||uF(l)||Lx(l)))return!l.length;var d=ql(l);if(d==ar||d==er)return!l.size;if(U8(l))return!P(l).length;for(var k in l)if(Hj.call(l,k))return!1;return!0}function doe(l,d){return zx(l,d)}function moe(l,d,k){k=typeof k=="function"?k:A;var b=k?k(l,d):A;return b===A?zx(l,d,A,k):!!b}function EJ(l){if(!Qi(l))return!1;var d=Qs(l);return d==Ge||d==gt||typeof l.message=="string"&&typeof l.name=="string"&&!V8(l)}function poe(l){return typeof l=="number"&&Sx(l)}function Y7(l){if(!Oi(l))return!1;var d=Qs(l);return d==It||d==wt||d==st||d==aj}function MgA(l){return typeof l=="number"&&l==La(l)}function n5(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=we}function Oi(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function Qi(l){return l!=null&&typeof l=="object"}var RgA=lD?wl(lD):K8;function koe(l,d){return l===d||Kp(l,d,cJ(d))}function hoe(l,d,k){return k=typeof k=="function"?k:A,Kp(l,d,cJ(d),k)}function goe(l){return KgA(l)&&l!=+l}function foe(l){if(tne(l))throw new oa(r);return Mx(l)}function Boe(l){return l===null}function Eoe(l){return l==null}function KgA(l){return typeof l=="number"||Qi(l)&&Qs(l)==Ot}function V8(l){if(!Qi(l)||Qs(l)!=Ba)return!1;var d=J0(l);if(d===null)return!0;var k=Hj.call(d,"constructor")&&d.constructor;return typeof k=="function"&&k instanceof k&&$x.call(k)==uW}var xJ=cD?wl(cD):gj;function xoe(l){return MgA(l)&&l>=-we&&l<=we}var LgA=Fx?wl(Fx):m;function i5(l){return typeof l=="string"||!Sa(l)&&Qi(l)&&Qs(l)==pr}function Wc(l){return typeof l=="symbol"||Qi(l)&&Qs(l)==ua}var uF=nm?wl(nm):g;function boe(l){return l===A}function yoe(l){return Qi(l)&&ql(l)==ft}function voe(l){return Qi(l)&&Qs(l)==pA}var Foe=YD(kA),Goe=YD(function(l,d){return l<=d});function NgA(l){if(!l)return[];if(K6(l))return i5(l)?n6(l):R6(l);if(Ix&&l[Ix])return rW(l[Ix]());var d=ql(l),k=d==ar?P8:d==er?rf:dF;return k(l)}function Z7(l){if(!l)return l===0?l:0;if(l=Ad(l),l===yA||l===-yA){var d=l<0?-1:1;return d*ge}return l===l?l:0}function La(l){var d=Z7(l),k=d%1;return d===d?k?d-k:d:0}function UgA(l){return l?H7(La(l),0,ue):0}function Ad(l){if(typeof l=="number")return l;if(Wc(l))return ot;if(Oi(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Oi(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=hD(l);var k=J.test(l);return k||gA.test(l)?iD(l.slice(2),k?2:8):tA.test(l)?ot:+l}function HgA(l){return Lp(l,L6(l))}function woe(l){return l?H7(La(l),-we,we):l===0?l:0}function en(l){return l==null?"":Xc(l)}var qoe=sF(function(l,d){if(U8(d)||K6(d)){Lp(d,xs(d),l);return}for(var k in d)Hj.call(d,k)&&Dx(l,k,d[k])}),VgA=sF(function(l,d){Lp(d,L6(d),l)}),o5=sF(function(l,d,k,b){Lp(d,L6(d),l,b)}),$oe=sF(function(l,d,k,b){Lp(d,xs(d),l,b)}),Ioe=W7(iF);function Poe(l,d){var k=sf(l);return d==null?k:T8(k,d)}var Soe=nj(function(l,d){l=jj(l);var k=-1,b=d.length,M=b>2?d[2]:A;for(M&&o6(d[0],d[1],M)&&(b=1);++k<b;)for(var Q=d[k],uA=L6(Q),fA=-1,_A=uA.length;++fA<_A;){var $e=uA[fA],Oe=l[$e];(Oe===A||mm(Oe,af[$e])&&!Hj.call(l,$e))&&(l[$e]=Q[$e])}return l}),Coe=nj(function(l){return l.push(A,lgA),Zs(XgA,A,l)});function Ooe(l,d){return dD(l,Mr(d,3),Xu)}function Toe(l,d){return dD(l,Mr(d,3),z8)}function _oe(l,d){return l==null?l:D8(l,Mr(d,3),L6)}function Doe(l,d){return l==null?l:KD(l,Mr(d,3),L6)}function zoe(l,d){return l&&Xu(l,Mr(d,3))}function Moe(l,d){return l&&z8(l,Mr(d,3))}function Roe(l){return l==null?[]:Wu(l,xs(l))}function Koe(l){return l==null?[]:Wu(l,L6(l))}function bJ(l,d,k){var b=l==null?A:V7(l,d);return b===A?k:b}function Loe(l,d){return l!=null&&dgA(l,d,UW)}function yJ(l,d){return l!=null&&dgA(l,d,HW)}var Noe=jgA(function(l,d,k){d!=null&&typeof d.toString!="function"&&(d=V0.call(d)),l[d]=k},FJ(N6)),Uoe=jgA(function(l,d,k){d!=null&&typeof d.toString!="function"&&(d=V0.call(d)),Hj.call(l,d)?l[d].push(k):l[d]=[k]},Mr),Hoe=nj(Ju);function xs(l){return K6(l)?nF(l):P(l)}function L6(l){return K6(l)?nF(l,!0):V(l)}function Voe(l,d){var k={};return d=Mr(d,3),Xu(l,function(b,M,Q){cm(k,d(b,M,Q),b)}),k}function Xoe(l,d){var k={};return d=Mr(d,3),Xu(l,function(b,M,Q){cm(k,M,d(b,M,Q))}),k}var Woe=sF(function(l,d,k){Ja(l,d,k)}),XgA=sF(function(l,d,k,b){Ja(l,d,k,b)}),Joe=W7(function(l,d){var k={};if(l==null)return k;var b=!1;d=hn(d,function(Q){return Q=uf(Q,l),b||(b=Q.length>1),Q}),Lp(l,sJ(l),k),b&&(k=i6(k,s|c|u,Nje));for(var M=d.length;M--;)eJ(k,d[M]);return k});function Yoe(l,d){return WgA(l,j5(Mr(d)))}var Zoe=W7(function(l,d){return l==null?{}:vje(l,d)});function WgA(l,d){if(l==null)return{};var k=hn(sJ(l),function(b){return[b]});return d=Mr(d),MhA(l,k,function(b,M){return d(b,M[0])})}function Qoe(l,d,k){d=uf(d,l);var b=-1,M=d.length;for(M||(M=1,l=A);++b<M;){var Q=l==null?A:l[Np(d[b])];Q===A&&(b=M,Q=k),l=Y7(Q)?Q.call(l):Q}return l}function Ase(l,d,k){return l==null?l:L8(l,d,k)}function ese(l,d,k,b){return b=typeof b=="function"?b:A,l==null?l:L8(l,d,k,b)}var JgA=ogA(xs),YgA=ogA(L6);function tse(l,d,k){var b=Sa(l),M=b||mf(l)||uF(l);if(d=Mr(d,4),k==null){var Q=l&&l.constructor;M?k=b?new Q:[]:Oi(l)?k=Y7(Q)?sf(J0(l)):{}:k={}}return(M?Yi:Xu)(l,function(uA,fA,_A){return d(k,uA,fA,_A)}),k}function rse(l,d){return l==null?!0:eJ(l,d)}function ase(l,d,k){return l==null?l:UhA(l,d,aJ(k))}function jse(l,d,k,b){return b=typeof b=="function"?b:A,l==null?l:UhA(l,d,aJ(k),b)}function dF(l){return l==null?[]:I8(l,xs(l))}function nse(l){return l==null?[]:I8(l,L6(l))}function ise(l,d,k){return k===A&&(k=d,d=A),k!==A&&(k=Ad(k),k=k===k?k:0),d!==A&&(d=Ad(d),d=d===d?d:0),H7(Ad(l),d,k)}function ose(l,d,k){return d=Z7(d),k===A?(k=d,d=0):k=Z7(k),l=Ad(l),VW(l,d,k)}function sse(l,d,k){if(k&&typeof k!="boolean"&&o6(l,d,k)&&(d=k=A),k===A&&(typeof d=="boolean"?(k=d,d=A):typeof l=="boolean"&&(k=l,l=A)),l===A&&d===A?(l=0,d=1):(l=Z7(l),d===A?(d=l,l=0):d=Z7(d)),l>d){var b=l;l=d,d=b}if(k||l%1||d%1){var M=ID();return Ci(l+M*(d-l+nD("1e-"+((M+"").length-1))),d)}return ZW(l,d)}var lse=lF(function(l,d,k){return d=d.toLowerCase(),l+(k?ZgA(d):d)});function ZgA(l){return vJ(en(l).toLowerCase())}function QgA(l){return l=en(l),l&&l.replace(bA,fD).replace(j6,"")}function cse(l,d,k){l=en(l),d=Xc(d);var b=l.length;k=k===A?b:H7(La(k),0,b);var M=k;return k-=d.length,k>=0&&l.slice(k,M)==d}function use(l){return l=en(l),l&&Nc.test(l)?l.replace(fi,QX):l}function dse(l){return l=en(l),l&&Lr.test(l)?l.replace(_6,"\\$&"):l}var mse=lF(function(l,d,k){return l+(k?"-":"")+d.toLowerCase()}),pse=lF(function(l,d,k){return l+(k?" ":"")+d.toLowerCase()}),kse=tgA("toLowerCase");function hse(l,d,k){l=en(l),d=La(d);var b=d?_p(l):0;if(!d||b>=d)return l;var M=(d-b)/2;return JD(Px(M),k)+l+JD(Z0(M),k)}function gse(l,d,k){l=en(l),d=La(d);var b=d?_p(l):0;return d&&b<d?l+JD(d-b,k):l}function fse(l,d,k){l=en(l),d=La(d);var b=d?_p(l):0;return d&&b<d?JD(d-b,k)+l:l}function Bse(l,d,k){return k||d==null?d=0:d&&(d=+d),$D(en(l).replace(ts,""),d||0)}function Ese(l,d,k){return(k?o6(l,d,k):d===A)?d=1:d=La(d),QW(en(l),d)}function xse(){var l=arguments,d=en(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var bse=lF(function(l,d,k){return l+(k?"_":"")+d.toLowerCase()});function yse(l,d,k){return k&&typeof k!="number"&&o6(l,d,k)&&(d=k=A),k=k===A?ue:k>>>0,k?(l=en(l),l&&(typeof d=="string"||d!=null&&!xJ(d))&&(d=Xc(d),!d&&Hu(l))?df(n6(l),0,k):l.split(d,k)):[]}var vse=lF(function(l,d,k){return l+(k?" ":"")+vJ(d)});function Fse(l,d,k){return l=en(l),k=k==null?0:H7(La(k),0,l.length),d=Xc(d),l.slice(k,k+d.length)==d}function Gse(l,d,k){var b=X.templateSettings;k&&o6(l,d,k)&&(d=A),l=en(l),d=o5({},d,b,sgA);var M=o5({},d.imports,b.imports,sgA),Q=xs(M),uA=I8(M,Q),fA,_A,$e=0,Oe=d.interpolate||ee,We="__p += '",Tt=im((d.escape||ee).source+"|"+Oe.source+"|"+(Oe===Gl?_:ee).source+"|"+(d.evaluate||ee).source+"|$","g"),hr="//# sourceURL="+(Hj.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++KX+"]")+`
`;l.replace(Tt,function(Xr,pj,yj,Jc,s6,Yc){return yj||(yj=Jc),We+=l.slice($e,Yc).replace(Ce,AW),pj&&(fA=!0,We+=`' +
__e(`+pj+`) +
'`),s6&&(_A=!0,We+=`';
`+s6+`;
__p += '`),yj&&(We+=`' +
((__t = (`+yj+`)) == null ? '' : __t) +
'`),$e=Yc+Xr.length,Xr}),We+=`';
`;var Vr=Hj.call(d,"variable")&&d.variable;if(!Vr)We=`with (obj) {
`+We+`
}
`;else if(xA.test(Vr))throw new oa(j);We=(_A?We.replace(Pi,""):We).replace(Bs,"$1").replace(bj,"$1;"),We="function("+(Vr||"obj")+`) {
`+(Vr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(fA?", __e = _.escape":"")+(_A?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+We+`return __p
}`;var Ya=efA(function(){return Sj(Q,hr+"return "+We).apply(A,uA)});if(Ya.source=We,EJ(Ya))throw Ya;return Ya}function wse(l){return en(l).toLowerCase()}function qse(l){return en(l).toUpperCase()}function $se(l,d,k){if(l=en(l),l&&(k||d===A))return hD(l);if(!l||!(d=Xc(d)))return l;var b=n6(l),M=n6(d),Q=yn(b,M),uA=gD(b,M)+1;return df(b,Q,uA).join("")}function Ise(l,d,k){if(l=en(l),l&&(k||d===A))return l.slice(0,U0(l)+1);if(!l||!(d=Xc(d)))return l;var b=n6(l),M=gD(b,n6(d))+1;return df(b,0,M).join("")}function Pse(l,d,k){if(l=en(l),l&&(k||d===A))return l.replace(ts,"");if(!l||!(d=Xc(d)))return l;var b=n6(l),M=yn(b,n6(d));return df(b,M).join("")}function Sse(l,d){var k=K,b=aA;if(Oi(d)){var M="separator"in d?d.separator:M;k="length"in d?La(d.length):k,b="omission"in d?Xc(d.omission):b}l=en(l);var Q=l.length;if(Hu(l)){var uA=n6(l);Q=uA.length}if(k>=Q)return l;var fA=k-_p(b);if(fA<1)return b;var _A=uA?df(uA,0,fA).join(""):l.slice(0,fA);if(M===A)return _A+b;if(uA&&(fA+=_A.length-fA),xJ(M)){if(l.slice(fA).search(M)){var $e,Oe=_A;for(M.global||(M=im(M.source,en(U.exec(M))+"g")),M.lastIndex=0;$e=M.exec(Oe);)var We=$e.index;_A=_A.slice(0,We===A?fA:We)}}else if(l.indexOf(Xc(M),fA)!=fA){var Tt=_A.lastIndexOf(M);Tt>-1&&(_A=_A.slice(0,Tt))}return _A+b}function Cse(l){return l=en(l),l&&jm.test(l)?l.replace(gi,nW):l}var Ose=lF(function(l,d,k){return l+(k?" ":"")+d.toUpperCase()}),vJ=tgA("toUpperCase");function AfA(l,d,k){return l=en(l),d=k?A:d,d===A?tW(l)?sW(l):JX(l):l.match(d)||[]}var efA=nj(function(l,d){try{return Zs(l,A,d)}catch(k){return EJ(k)?k:new oa(k)}}),Tse=W7(function(l,d){return Yi(d,function(k){k=Np(k),cm(l,k,fJ(l[k],l))}),l});function _se(l){var d=l==null?0:l.length,k=Mr();return l=d?hn(l,function(b){if(typeof b[1]!="function")throw new D6(a);return[k(b[0]),b[1]]}):[],nj(function(b){for(var M=-1;++M<d;){var Q=l[M];if(Zs(Q[0],this,b))return Zs(Q[1],this,b)}})}function Dse(l){return _8(i6(l,s))}function FJ(l){return function(){return l}}function zse(l,d){return l==null||l!==l?d:l}var Mse=agA(),Rse=agA(!0);function N6(l){return l}function GJ(l){return x(typeof l=="function"?l:i6(l,s))}function Kse(l){return Lt(i6(l,s))}function Lse(l,d){return Qr(l,i6(d,s))}var Nse=nj(function(l,d){return function(k){return Ju(k,l,d)}}),Use=nj(function(l,d){return function(k){return Ju(l,k,d)}});function wJ(l,d,k){var b=xs(d),M=Wu(d,b);k==null&&!(Oi(d)&&(M.length||!b.length))&&(k=d,d=l,l=this,M=Wu(d,xs(d)));var Q=!(Oi(k)&&"chain"in k)||!!k.chain,uA=Y7(l);return Yi(M,function(fA){var _A=d[fA];l[fA]=_A,uA&&(l.prototype[fA]=function(){var $e=this.__chain__;if(Q||$e){var Oe=l(this.__wrapped__),We=Oe.__actions__=R6(this.__actions__);return We.push({func:_A,args:arguments,thisArg:l}),Oe.__chain__=$e,Oe}return _A.apply(l,Uu([this.value()],arguments))})}),l}function Hse(){return Do._===this&&(Do._=dW),this}function qJ(){}function Vse(l){return l=La(l),nj(function(d){return Yu(d,l)})}var Xse=nJ(hn),Wse=nJ(K0),Jse=nJ(F8);function tfA(l){return dJ(l)?G8(Np(l)):Fje(l)}function Yse(l){return function(d){return l==null?A:V7(l,d)}}var Zse=ngA(),Qse=ngA(!0);function $J(){return[]}function IJ(){return!1}function Ale(){return{}}function ele(){return""}function tle(){return!0}function rle(l,d){if(l=La(l),l<1||l>we)return[];var k=ue,b=Ci(l,ue);d=Mr(d),l-=ue;for(var M=$8(b,d);++k<l;)d(k);return M}function ale(l){return Sa(l)?hn(l,Np):Wc(l)?[l]:R6(xgA(en(l)))}function jle(l){var d=++cW;return en(l)+d}var nle=WD(function(l,d){return l+d},0),ile=iJ("ceil"),ole=WD(function(l,d){return l/d},1),sle=iJ("floor");function lle(l){return l&&l.length?oF(l,N6,M8):A}function cle(l,d){return l&&l.length?oF(l,Mr(d,2),M8):A}function ule(l){return K7(l,N6)}function dle(l,d){return K7(l,Mr(d,2))}function mle(l){return l&&l.length?oF(l,N6,kA):A}function ple(l,d){return l&&l.length?oF(l,Mr(d,2),kA):A}var kle=WD(function(l,d){return l*d},1),hle=iJ("round"),gle=WD(function(l,d){return l-d},0);function fle(l){return l&&l.length?q8(l,N6):0}function Ble(l,d){return l&&l.length?q8(l,Mr(d,2)):0}return X.after=Kie,X.ary=SgA,X.assign=qoe,X.assignIn=VgA,X.assignInWith=o5,X.assignWith=$oe,X.at=Ioe,X.before=CgA,X.bind=fJ,X.bindAll=Tse,X.bindKey=OgA,X.castArray=Aoe,X.chain=$gA,X.chunk=sne,X.compact=lne,X.concat=cne,X.cond=_se,X.conforms=Dse,X.constant=FJ,X.countBy=fie,X.create=Poe,X.curry=TgA,X.curryRight=_gA,X.debounce=DgA,X.defaults=Soe,X.defaultsDeep=Coe,X.defer=Lie,X.delay=Nie,X.difference=une,X.differenceBy=dne,X.differenceWith=mne,X.drop=pne,X.dropRight=kne,X.dropRightWhile=hne,X.dropWhile=gne,X.fill=fne,X.filter=Eie,X.flatMap=yie,X.flatMapDeep=vie,X.flatMapDepth=Fie,X.flatten=FgA,X.flattenDeep=Bne,X.flattenDepth=Ene,X.flip=Uie,X.flow=Mse,X.flowRight=Rse,X.fromPairs=xne,X.functions=Roe,X.functionsIn=Koe,X.groupBy=Gie,X.initial=yne,X.intersection=vne,X.intersectionBy=Fne,X.intersectionWith=Gne,X.invert=Noe,X.invertBy=Uoe,X.invokeMap=qie,X.iteratee=GJ,X.keyBy=$ie,X.keys=xs,X.keysIn=L6,X.map=t5,X.mapKeys=Voe,X.mapValues=Xoe,X.matches=Kse,X.matchesProperty=Lse,X.memoize=a5,X.merge=Woe,X.mergeWith=XgA,X.method=Nse,X.methodOf=Use,X.mixin=wJ,X.negate=j5,X.nthArg=Vse,X.omit=Joe,X.omitBy=Yoe,X.once=Hie,X.orderBy=Iie,X.over=Xse,X.overArgs=Vie,X.overEvery=Wse,X.overSome=Jse,X.partial=BJ,X.partialRight=zgA,X.partition=Pie,X.pick=Zoe,X.pickBy=WgA,X.property=tfA,X.propertyOf=Yse,X.pull=Ine,X.pullAll=wgA,X.pullAllBy=Pne,X.pullAllWith=Sne,X.pullAt=Cne,X.range=Zse,X.rangeRight=Qse,X.rearg=Xie,X.reject=Oie,X.remove=One,X.rest=Wie,X.reverse=hJ,X.sampleSize=_ie,X.set=Ase,X.setWith=ese,X.shuffle=Die,X.slice=Tne,X.sortBy=Rie,X.sortedUniq=Lne,X.sortedUniqBy=Nne,X.split=yse,X.spread=Jie,X.tail=Une,X.take=Hne,X.takeRight=Vne,X.takeRightWhile=Xne,X.takeWhile=Wne,X.tap=lie,X.throttle=Yie,X.thru=e5,X.toArray=NgA,X.toPairs=JgA,X.toPairsIn=YgA,X.toPath=ale,X.toPlainObject=HgA,X.transform=tse,X.unary=Zie,X.union=Jne,X.unionBy=Yne,X.unionWith=Zne,X.uniq=Qne,X.uniqBy=Aie,X.uniqWith=eie,X.unset=rse,X.unzip=gJ,X.unzipWith=qgA,X.update=ase,X.updateWith=jse,X.values=dF,X.valuesIn=nse,X.without=tie,X.words=AfA,X.wrap=Qie,X.xor=rie,X.xorBy=aie,X.xorWith=jie,X.zip=nie,X.zipObject=iie,X.zipObjectDeep=oie,X.zipWith=sie,X.entries=JgA,X.entriesIn=YgA,X.extend=VgA,X.extendWith=o5,wJ(X,X),X.add=nle,X.attempt=efA,X.camelCase=lse,X.capitalize=ZgA,X.ceil=ile,X.clamp=ise,X.clone=eoe,X.cloneDeep=roe,X.cloneDeepWith=aoe,X.cloneWith=toe,X.conformsTo=joe,X.deburr=QgA,X.defaultTo=zse,X.divide=ole,X.endsWith=cse,X.eq=mm,X.escape=use,X.escapeRegExp=dse,X.every=Bie,X.find=xie,X.findIndex=ygA,X.findKey=Ooe,X.findLast=bie,X.findLastIndex=vgA,X.findLastKey=Toe,X.floor=sle,X.forEach=IgA,X.forEachRight=PgA,X.forIn=_oe,X.forInRight=Doe,X.forOwn=zoe,X.forOwnRight=Moe,X.get=bJ,X.gt=noe,X.gte=ioe,X.has=Loe,X.hasIn=yJ,X.head=GgA,X.identity=N6,X.includes=wie,X.indexOf=bne,X.inRange=ose,X.invoke=Hoe,X.isArguments=Lx,X.isArray=Sa,X.isArrayBuffer=ooe,X.isArrayLike=K6,X.isArrayLikeObject=go,X.isBoolean=soe,X.isBuffer=mf,X.isDate=loe,X.isElement=coe,X.isEmpty=uoe,X.isEqual=doe,X.isEqualWith=moe,X.isError=EJ,X.isFinite=poe,X.isFunction=Y7,X.isInteger=MgA,X.isLength=n5,X.isMap=RgA,X.isMatch=koe,X.isMatchWith=hoe,X.isNaN=goe,X.isNative=foe,X.isNil=Eoe,X.isNull=Boe,X.isNumber=KgA,X.isObject=Oi,X.isObjectLike=Qi,X.isPlainObject=V8,X.isRegExp=xJ,X.isSafeInteger=xoe,X.isSet=LgA,X.isString=i5,X.isSymbol=Wc,X.isTypedArray=uF,X.isUndefined=boe,X.isWeakMap=yoe,X.isWeakSet=voe,X.join=wne,X.kebabCase=mse,X.last=Qu,X.lastIndexOf=qne,X.lowerCase=pse,X.lowerFirst=kse,X.lt=Foe,X.lte=Goe,X.max=lle,X.maxBy=cle,X.mean=ule,X.meanBy=dle,X.min=mle,X.minBy=ple,X.stubArray=$J,X.stubFalse=IJ,X.stubObject=Ale,X.stubString=ele,X.stubTrue=tle,X.multiply=kle,X.nth=$ne,X.noConflict=Hse,X.noop=qJ,X.now=r5,X.pad=hse,X.padEnd=gse,X.padStart=fse,X.parseInt=Bse,X.random=sse,X.reduce=Sie,X.reduceRight=Cie,X.repeat=Ese,X.replace=xse,X.result=Qoe,X.round=hle,X.runInContext=$A,X.sample=Tie,X.size=zie,X.snakeCase=bse,X.some=Mie,X.sortedIndex=_ne,X.sortedIndexBy=Dne,X.sortedIndexOf=zne,X.sortedLastIndex=Mne,X.sortedLastIndexBy=Rne,X.sortedLastIndexOf=Kne,X.startCase=vse,X.startsWith=Fse,X.subtract=gle,X.sum=fle,X.sumBy=Ble,X.template=Gse,X.times=rle,X.toFinite=Z7,X.toInteger=La,X.toLength=UgA,X.toLower=wse,X.toNumber=Ad,X.toSafeInteger=woe,X.toString=en,X.toUpper=qse,X.trim=$se,X.trimEnd=Ise,X.trimStart=Pse,X.truncate=Sse,X.unescape=Cse,X.uniqueId=jle,X.upperCase=Ose,X.upperFirst=vJ,X.each=IgA,X.eachRight=PgA,X.first=GgA,wJ(X,function(){var l={};return Xu(X,function(d,k){Hj.call(X.prototype,k)||(l[k]=d)}),l}(),{chain:!1}),X.VERSION=e,Yi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){X[l].placeholder=X}),Yi(["drop","take"],function(l,d){Wa.prototype[l]=function(k){k=k===A?1:Zi(La(k),0);var b=this.__filtered__&&!d?new Wa(this):this.clone();return b.__filtered__?b.__takeCount__=Ci(k,b.__takeCount__):b.__views__.push({size:Ci(k,ue),type:l+(b.__dir__<0?"Right":"")}),b},Wa.prototype[l+"Right"]=function(k){return this.reverse()[l](k).reverse()}}),Yi(["filter","map","takeWhile"],function(l,d){var k=d+1,b=k==qA||k==le;Wa.prototype[l]=function(M){var Q=this.clone();return Q.__iteratees__.push({iteratee:Mr(M,3),type:k}),Q.__filtered__=Q.__filtered__||b,Q}}),Yi(["head","last"],function(l,d){var k="take"+(d?"Right":"");Wa.prototype[l]=function(){return this[k](1).value()[0]}}),Yi(["initial","tail"],function(l,d){var k="drop"+(d?"":"Right");Wa.prototype[l]=function(){return this.__filtered__?new Wa(this):this[k](1)}}),Wa.prototype.compact=function(){return this.filter(N6)},Wa.prototype.find=function(l){return this.filter(l).head()},Wa.prototype.findLast=function(l){return this.reverse().find(l)},Wa.prototype.invokeMap=nj(function(l,d){return typeof l=="function"?new Wa(this):this.map(function(k){return Ju(k,l,d)})}),Wa.prototype.reject=function(l){return this.filter(j5(Mr(l)))},Wa.prototype.slice=function(l,d){l=La(l);var k=this;return k.__filtered__&&(l>0||d<0)?new Wa(k):(l<0?k=k.takeRight(-l):l&&(k=k.drop(l)),d!==A&&(d=La(d),k=d<0?k.dropRight(-d):k.take(d-l)),k)},Wa.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Wa.prototype.toArray=function(){return this.take(ue)},Xu(Wa.prototype,function(l,d){var k=/^(?:filter|find|map|reject)|While$/.test(d),b=/^(?:head|last)$/.test(d),M=X[b?"take"+(d=="last"?"Right":""):d],Q=b||/^find/.test(d);M&&(X.prototype[d]=function(){var uA=this.__wrapped__,fA=b?[1]:arguments,_A=uA instanceof Wa,$e=fA[0],Oe=_A||Sa(uA),We=function(pj){var yj=M.apply(X,Uu([pj],fA));return b&&Tt?yj[0]:yj};Oe&&k&&typeof $e=="function"&&$e.length!=1&&(_A=Oe=!1);var Tt=this.__chain__,hr=!!this.__actions__.length,Vr=Q&&!Tt,Ya=_A&&!hr;if(!Q&&Oe){uA=Ya?uA:new Wa(this);var Xr=l.apply(uA,fA);return Xr.__actions__.push({func:e5,args:[We],thisArg:A}),new z6(Xr,Tt)}return Vr&&Ya?l.apply(this,fA):(Xr=this.thru(We),Vr?b?Xr.value()[0]:Xr.value():Xr)})}),Yi(["pop","push","shift","sort","splice","unshift"],function(l){var d=qx[l],k=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",b=/^(?:pop|shift)$/.test(l);X.prototype[l]=function(){var M=arguments;if(b&&!this.__chain__){var Q=this.value();return d.apply(Sa(Q)?Q:[],M)}return this[k](function(uA){return d.apply(Sa(uA)?uA:[],M)})}}),Xu(Wa.prototype,function(l,d){var k=X[d];if(k){var b=k.name+"";Hj.call(of,b)||(of[b]=[]),of[b].push({name:d,func:k})}}),of[XD(A,G).name]=[{name:"wrapper",func:A}],Wa.prototype.clone=yW,Wa.prototype.reverse=vW,Wa.prototype.value=FW,X.prototype.at=cie,X.prototype.chain=uie,X.prototype.commit=die,X.prototype.next=mie,X.prototype.plant=kie,X.prototype.reverse=hie,X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=gie,X.prototype.first=X.prototype.head,Ix&&(X.prototype[Ix]=pie),X},Dp=lW();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Do._=Dp,define(function(){return Dp})):Op?((Op.exports=Dp)._=Dp,x8._=Dp):Do._=Dp}).call(D$)});var tZA=mA((D_,E7A)=>{(function(e,t){typeof D_=="object"&&typeof E7A=="object"?E7A.exports=t():typeof define=="function"&&define.amd?define([],t):typeof D_=="object"?D_.jsQR=t():e.jsQR=t()})(typeof self<"u"?self:D_,function(){return function(A){var e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return A[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=A,t.c=e,t.d=function(r,a,j){t.o(r,a)||Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:j})},t.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(a,"a",a),a},t.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},t.p="",t(t.s=3)}([function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(j,n){this.width=n,this.height=j.length/n,this.data=j}return a.createEmpty=function(j,n){return new a(new Uint8ClampedArray(j*n),j)},a.prototype.get=function(j,n){return j<0||j>=this.width||n<0||n>=this.height?!1:!!this.data[n*this.width+j]},a.prototype.set=function(j,n,i){this.data[n*this.width+j]=i?1:0},a.prototype.setRegion=function(j,n,i,o,s){for(var c=n;c<n+o;c++)for(var u=j;u<j+i;u++)this.set(u,c,!!s)},a}();e.BitMatrix=r},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(2);function a(n,i){return n^i}e.addOrSubtractGF=a;var j=function(){function n(i,o,s){this.primitive=i,this.size=o,this.generatorBase=s,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var c=1,u=0;u<this.size;u++)this.expTable[u]=c,c=c*2,c>=this.size&&(c=(c^this.primitive)&this.size-1);for(var u=0;u<this.size-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return n.prototype.multiply=function(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]},n.prototype.inverse=function(i){if(i===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[i]-1]},n.prototype.buildMonomial=function(i,o){if(i<0)throw new Error("Invalid monomial degree less than 0");if(o===0)return this.zero;var s=new Uint8ClampedArray(i+1);return s[0]=o,new r.default(this,s)},n.prototype.log=function(i){if(i===0)throw new Error("Can't take log(0)");return this.logTable[i]},n.prototype.exp=function(i){return this.expTable[i]},n}();e.default=j},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),a=function(){function j(n,i){if(i.length===0)throw new Error("No coefficients.");this.field=n;var o=i.length;if(o>1&&i[0]===0){for(var s=1;s<o&&i[s]===0;)s++;if(s===o)this.coefficients=n.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(o-s);for(var c=0;c<this.coefficients.length;c++)this.coefficients[c]=i[s+c]}}else this.coefficients=i}return j.prototype.degree=function(){return this.coefficients.length-1},j.prototype.isZero=function(){return this.coefficients[0]===0},j.prototype.getCoefficient=function(n){return this.coefficients[this.coefficients.length-1-n]},j.prototype.addOrSubtract=function(n){var i;if(this.isZero())return n;if(n.isZero())return this;var o=this.coefficients,s=n.coefficients;o.length>s.length&&(i=[s,o],o=i[0],s=i[1]);for(var c=new Uint8ClampedArray(s.length),u=s.length-o.length,p=0;p<u;p++)c[p]=s[p];for(var p=u;p<s.length;p++)c[p]=r.addOrSubtractGF(o[p-u],s[p]);return new j(this.field,c)},j.prototype.multiply=function(n){if(n===0)return this.field.zero;if(n===1)return this;for(var i=this.coefficients.length,o=new Uint8ClampedArray(i),s=0;s<i;s++)o[s]=this.field.multiply(this.coefficients[s],n);return new j(this.field,o)},j.prototype.multiplyPoly=function(n){if(this.isZero()||n.isZero())return this.field.zero;for(var i=this.coefficients,o=i.length,s=n.coefficients,c=s.length,u=new Uint8ClampedArray(o+c-1),p=0;p<o;p++)for(var h=i[p],f=0;f<c;f++)u[p+f]=r.addOrSubtractGF(u[p+f],this.field.multiply(h,s[f]));return new j(this.field,u)},j.prototype.multiplyByMonomial=function(n,i){if(n<0)throw new Error("Invalid degree less than 0");if(i===0)return this.field.zero;for(var o=this.coefficients.length,s=new Uint8ClampedArray(o+n),c=0;c<o;c++)s[c]=this.field.multiply(this.coefficients[c],i);return new j(this.field,s)},j.prototype.evaluateAt=function(n){var i=0;if(n===0)return this.getCoefficient(0);var o=this.coefficients.length;if(n===1)return this.coefficients.forEach(function(c){i=r.addOrSubtractGF(i,c)}),i;i=this.coefficients[0];for(var s=1;s<o;s++)i=r.addOrSubtractGF(this.field.multiply(n,i),this.coefficients[s]);return i},j}();e.default=a},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(4),a=t(5),j=t(11),n=t(12);function i(c){var u=n.locate(c);if(!u)return null;for(var p=0,h=u;p<h.length;p++){var f=h[p],G=j.extract(c,f),w=a.decode(G.matrix);if(w)return{binaryData:w.bytes,data:w.text,chunks:w.chunks,version:w.version,location:{topRightCorner:G.mappingFunction(f.dimension,0),topLeftCorner:G.mappingFunction(0,0),bottomRightCorner:G.mappingFunction(f.dimension,f.dimension),bottomLeftCorner:G.mappingFunction(0,f.dimension),topRightFinderPattern:f.topRight,topLeftFinderPattern:f.topLeft,bottomLeftFinderPattern:f.bottomLeft,bottomRightAlignmentPattern:f.alignmentPattern}}}return null}var o={inversionAttempts:"attemptBoth"};function s(c,u,p,h){h===void 0&&(h={});var f=o;Object.keys(f||{}).forEach(function(O){f[O]=h[O]||f[O]});var G=f.inversionAttempts==="attemptBoth"||f.inversionAttempts==="invertFirst",w=f.inversionAttempts==="onlyInvert"||f.inversionAttempts==="invertFirst",y=r.binarize(c,u,p,G),E=y.binarized,$=y.inverted,T=i(w?$:E);return!T&&(f.inversionAttempts==="attemptBoth"||f.inversionAttempts==="invertFirst")&&(T=i(w?E:$)),T}s.default=s,e.default=s},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(0),a=8,j=24;function n(s,c,u){return s<c?c:s>u?u:s}var i=function(){function s(c,u){this.width=c,this.data=new Uint8ClampedArray(c*u)}return s.prototype.get=function(c,u){return this.data[u*this.width+c]},s.prototype.set=function(c,u,p){this.data[u*this.width+c]=p},s}();function o(s,c,u,p){if(s.length!==c*u*4)throw new Error("Malformed data passed to binarizer.");for(var h=new i(c,u),f=0;f<c;f++)for(var G=0;G<u;G++){var w=s[(G*c+f)*4+0],y=s[(G*c+f)*4+1],E=s[(G*c+f)*4+2];h.set(f,G,.2126*w+.7152*y+.0722*E)}for(var $=Math.ceil(c/a),T=Math.ceil(u/a),O=new i($,T),I=0;I<T;I++)for(var q=0;q<$;q++){for(var K=0,aA=1/0,nA=0,G=0;G<a;G++)for(var f=0;f<a;f++){var lA=h.get(q*a+f,I*a+G);K+=lA,aA=Math.min(aA,lA),nA=Math.max(nA,lA)}var qA=K/Math.pow(a,2);if(nA-aA<=j&&(qA=aA/2,I>0&&q>0)){var UA=(O.get(q,I-1)+2*O.get(q-1,I)+O.get(q-1,I-1))/4;aA<UA&&(qA=UA)}O.set(q,I,qA)}var le=r.BitMatrix.createEmpty(c,u),yA=null;p&&(yA=r.BitMatrix.createEmpty(c,u));for(var I=0;I<T;I++)for(var q=0;q<$;q++){for(var we=n(q,2,$-3),ge=n(I,2,T-3),K=0,ot=-2;ot<=2;ot++)for(var ue=-2;ue<=2;ue++)K+=O.get(we+ot,ge+ue);for(var IA=K/25,ot=0;ot<a;ot++)for(var ue=0;ue<a;ue++){var f=q*a+ot,G=I*a+ue,ne=h.get(f,G);le.set(f,G,ne<=IA),p&&yA.set(f,G,!(ne<=IA))}}return p?{binarized:le,inverted:yA}:{binarized:le}}e.binarize=o},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(0),a=t(6),j=t(9),n=t(10);function i(E,$){for(var T=E^$,O=0;T;)O++,T&=T-1;return O}function o(E,$){return $<<1|E}var s=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],c=[function(E){return(E.y+E.x)%2===0},function(E){return E.y%2===0},function(E){return E.x%3===0},function(E){return(E.y+E.x)%3===0},function(E){return(Math.floor(E.y/2)+Math.floor(E.x/3))%2===0},function(E){return E.x*E.y%2+E.x*E.y%3===0},function(E){return(E.y*E.x%2+E.y*E.x%3)%2===0},function(E){return((E.y+E.x)%2+E.y*E.x%3)%2===0}];function u(E){var $=17+4*E.versionNumber,T=r.BitMatrix.createEmpty($,$);T.setRegion(0,0,9,9,!0),T.setRegion($-8,0,8,9,!0),T.setRegion(0,$-8,9,8,!0);for(var O=0,I=E.alignmentPatternCenters;O<I.length;O++)for(var q=I[O],K=0,aA=E.alignmentPatternCenters;K<aA.length;K++){var nA=aA[K];q===6&&nA===6||q===6&&nA===$-7||q===$-7&&nA===6||T.setRegion(q-2,nA-2,5,5,!0)}return T.setRegion(6,9,1,$-17,!0),T.setRegion(9,6,$-17,1,!0),E.versionNumber>6&&(T.setRegion($-11,0,3,6,!0),T.setRegion(0,$-11,6,3,!0)),T}function p(E,$,T){for(var O=c[T.dataMask],I=E.height,q=u($),K=[],aA=0,nA=0,lA=!0,qA=I-1;qA>0;qA-=2){qA===6&&qA--;for(var UA=0;UA<I;UA++)for(var le=lA?I-1-UA:UA,yA=0;yA<2;yA++){var we=qA-yA;if(!q.get(we,le)){nA++;var ge=E.get(we,le);O({y:le,x:we})&&(ge=!ge),aA=o(ge,aA),nA===8&&(K.push(aA),nA=0,aA=0)}}lA=!lA}return K}function h(E){var $=E.height,T=Math.floor(($-17)/4);if(T<=6)return n.VERSIONS[T-1];for(var O=0,I=5;I>=0;I--)for(var q=$-9;q>=$-11;q--)O=o(E.get(q,I),O);for(var K=0,q=5;q>=0;q--)for(var I=$-9;I>=$-11;I--)K=o(E.get(q,I),K);for(var aA=1/0,nA,lA=0,qA=n.VERSIONS;lA<qA.length;lA++){var UA=qA[lA];if(UA.infoBits===O||UA.infoBits===K)return UA;var le=i(O,UA.infoBits);le<aA&&(nA=UA,aA=le),le=i(K,UA.infoBits),le<aA&&(nA=UA,aA=le)}if(aA<=3)return nA}function f(E){for(var $=0,T=0;T<=8;T++)T!==6&&($=o(E.get(T,8),$));for(var O=7;O>=0;O--)O!==6&&($=o(E.get(8,O),$));for(var I=E.height,q=0,O=I-1;O>=I-7;O--)q=o(E.get(8,O),q);for(var T=I-8;T<I;T++)q=o(E.get(T,8),q);for(var K=1/0,aA=null,nA=0,lA=s;nA<lA.length;nA++){var qA=lA[nA],UA=qA.bits,le=qA.formatInfo;if(UA===$||UA===q)return le;var yA=i($,UA);yA<K&&(aA=le,K=yA),$!==q&&(yA=i(q,UA),yA<K&&(aA=le,K=yA))}return K<=3?aA:null}function G(E,$,T){var O=$.errorCorrectionLevels[T],I=[],q=0;if(O.ecBlocks.forEach(function(ge){for(var ot=0;ot<ge.numBlocks;ot++)I.push({numDataCodewords:ge.dataCodewordsPerBlock,codewords:[]}),q+=ge.dataCodewordsPerBlock+O.ecCodewordsPerBlock}),E.length<q)return null;E=E.slice(0,q);for(var K=O.ecBlocks[0].dataCodewordsPerBlock,aA=0;aA<K;aA++)for(var nA=0,lA=I;nA<lA.length;nA++){var qA=lA[nA];qA.codewords.push(E.shift())}if(O.ecBlocks.length>1)for(var UA=O.ecBlocks[0].numBlocks,le=O.ecBlocks[1].numBlocks,aA=0;aA<le;aA++)I[UA+aA].codewords.push(E.shift());for(;E.length>0;)for(var yA=0,we=I;yA<we.length;yA++){var qA=we[yA];qA.codewords.push(E.shift())}return I}function w(E){var $=h(E);if(!$)return null;var T=f(E);if(!T)return null;var O=p(E,$,T),I=G(O,$,T.errorCorrectionLevel);if(!I)return null;for(var q=I.reduce(function(yA,we){return yA+we.numDataCodewords},0),K=new Uint8ClampedArray(q),aA=0,nA=0,lA=I;nA<lA.length;nA++){var qA=lA[nA],UA=j.decode(qA.codewords,qA.codewords.length-qA.numDataCodewords);if(!UA)return null;for(var le=0;le<qA.numDataCodewords;le++)K[aA++]=UA[le]}try{return a.decode(K,$.versionNumber)}catch{return null}}function y(E){if(E==null)return null;var $=w(E);if($)return $;for(var T=0;T<E.width;T++)for(var O=T+1;O<E.height;O++)E.get(T,O)!==E.get(O,T)&&(E.set(T,O,!E.get(T,O)),E.set(O,T,!E.get(O,T)));return w(E)}e.decode=y},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(7),a=t(8),j;(function(h){h.Numeric="numeric",h.Alphanumeric="alphanumeric",h.Byte="byte",h.Kanji="kanji",h.ECI="eci"})(j=e.Mode||(e.Mode={}));var n;(function(h){h[h.Terminator=0]="Terminator",h[h.Numeric=1]="Numeric",h[h.Alphanumeric=2]="Alphanumeric",h[h.Byte=4]="Byte",h[h.Kanji=8]="Kanji",h[h.ECI=7]="ECI"})(n||(n={}));function i(h,f){for(var G=[],w="",y=[10,12,14][f],E=h.readBits(y);E>=3;){var $=h.readBits(10);if($>=1e3)throw new Error("Invalid numeric value above 999");var T=Math.floor($/100),O=Math.floor($/10)%10,I=$%10;G.push(48+T,48+O,48+I),w+=T.toString()+O.toString()+I.toString(),E-=3}if(E===2){var $=h.readBits(7);if($>=100)throw new Error("Invalid numeric value above 99");var T=Math.floor($/10),O=$%10;G.push(48+T,48+O),w+=T.toString()+O.toString()}else if(E===1){var $=h.readBits(4);if($>=10)throw new Error("Invalid numeric value above 9");G.push(48+$),w+=$.toString()}return{bytes:G,text:w}}var o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(h,f){for(var G=[],w="",y=[9,11,13][f],E=h.readBits(y);E>=2;){var $=h.readBits(11),T=Math.floor($/45),O=$%45;G.push(o[T].charCodeAt(0),o[O].charCodeAt(0)),w+=o[T]+o[O],E-=2}if(E===1){var T=h.readBits(6);G.push(o[T].charCodeAt(0)),w+=o[T]}return{bytes:G,text:w}}function c(h,f){for(var G=[],w="",y=[8,16,16][f],E=h.readBits(y),$=0;$<E;$++){var T=h.readBits(8);G.push(T)}try{w+=decodeURIComponent(G.map(function(O){return"%"+("0"+O.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:G,text:w}}function u(h,f){for(var G=[],w="",y=[8,10,12][f],E=h.readBits(y),$=0;$<E;$++){var T=h.readBits(13),O=Math.floor(T/192)<<8|T%192;O<7936?O+=33088:O+=49472,G.push(O>>8,O&255),w+=String.fromCharCode(a.shiftJISTable[O])}return{bytes:G,text:w}}function p(h,f){for(var G,w,y,E,$=new r.BitStream(h),T=f<=9?0:f<=26?1:2,O={text:"",bytes:[],chunks:[],version:f};$.available()>=4;){var I=$.readBits(4);if(I===n.Terminator)return O;if(I===n.ECI)$.readBits(1)===0?O.chunks.push({type:j.ECI,assignmentNumber:$.readBits(7)}):$.readBits(1)===0?O.chunks.push({type:j.ECI,assignmentNumber:$.readBits(14)}):$.readBits(1)===0?O.chunks.push({type:j.ECI,assignmentNumber:$.readBits(21)}):O.chunks.push({type:j.ECI,assignmentNumber:-1});else if(I===n.Numeric){var q=i($,T);O.text+=q.text,(G=O.bytes).push.apply(G,q.bytes),O.chunks.push({type:j.Numeric,text:q.text})}else if(I===n.Alphanumeric){var K=s($,T);O.text+=K.text,(w=O.bytes).push.apply(w,K.bytes),O.chunks.push({type:j.Alphanumeric,text:K.text})}else if(I===n.Byte){var aA=c($,T);O.text+=aA.text,(y=O.bytes).push.apply(y,aA.bytes),O.chunks.push({type:j.Byte,bytes:aA.bytes,text:aA.text})}else if(I===n.Kanji){var nA=u($,T);O.text+=nA.text,(E=O.bytes).push.apply(E,nA.bytes),O.chunks.push({type:j.Kanji,bytes:nA.bytes,text:nA.text})}}if($.available()===0||$.readBits($.available())===0)return O}e.decode=p},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function a(j){this.byteOffset=0,this.bitOffset=0,this.bytes=j}return a.prototype.readBits=function(j){if(j<1||j>32||j>this.available())throw new Error("Cannot read "+j.toString()+" bits");var n=0;if(this.bitOffset>0){var i=8-this.bitOffset,o=j<i?j:i,s=i-o,c=255>>8-o<<s;n=(this.bytes[this.byteOffset]&c)>>s,j-=o,this.bitOffset+=o,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(j>0){for(;j>=8;)n=n<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,j-=8;if(j>0){var s=8-j,c=255>>s<<s;n=n<<j|(this.bytes[this.byteOffset]&c)>>s,this.bitOffset+=j}}return n},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}();e.BitStream=r},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),a=t(2);function j(s,c,u,p){var h;c.degree()<u.degree()&&(h=[u,c],c=h[0],u=h[1]);for(var f=c,G=u,w=s.zero,y=s.one;G.degree()>=p/2;){var E=f,$=w;if(f=G,w=y,f.isZero())return null;G=E;for(var T=s.zero,O=f.getCoefficient(f.degree()),I=s.inverse(O);G.degree()>=f.degree()&&!G.isZero();){var q=G.degree()-f.degree(),K=s.multiply(G.getCoefficient(G.degree()),I);T=T.addOrSubtract(s.buildMonomial(q,K)),G=G.addOrSubtract(f.multiplyByMonomial(q,K))}if(y=T.multiplyPoly(w).addOrSubtract($),G.degree()>=f.degree())return null}var aA=y.getCoefficient(0);if(aA===0)return null;var nA=s.inverse(aA);return[y.multiply(nA),G.multiply(nA)]}function n(s,c){var u=c.degree();if(u===1)return[c.getCoefficient(1)];for(var p=new Array(u),h=0,f=1;f<s.size&&h<u;f++)c.evaluateAt(f)===0&&(p[h]=s.inverse(f),h++);return h!==u?null:p}function i(s,c,u){for(var p=u.length,h=new Array(p),f=0;f<p;f++){for(var G=s.inverse(u[f]),w=1,y=0;y<p;y++)f!==y&&(w=s.multiply(w,r.addOrSubtractGF(1,s.multiply(u[y],G))));h[f]=s.multiply(c.evaluateAt(G),s.inverse(w)),s.generatorBase!==0&&(h[f]=s.multiply(h[f],G))}return h}function o(s,c){var u=new Uint8ClampedArray(s.length);u.set(s);for(var p=new r.default(285,256,0),h=new a.default(p,u),f=new Uint8ClampedArray(c),G=!1,w=0;w<c;w++){var y=h.evaluateAt(p.exp(w+p.generatorBase));f[f.length-1-w]=y,y!==0&&(G=!0)}if(!G)return u;var E=new a.default(p,f),$=j(p,p.buildMonomial(c,1),E,c);if($===null)return null;var T=n(p,$[0]);if(T==null)return null;for(var O=i(p,$[1],T),I=0;I<T.length;I++){var q=u.length-1-p.log(T[I]);if(q<0)return null;u[q]=r.addOrSubtractGF(u[q],O[I])}return u}e.decode=o},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t(0);function a(o,s,c,u){var p=o.x-s.x+c.x-u.x,h=o.y-s.y+c.y-u.y;if(p===0&&h===0)return{a11:s.x-o.x,a12:s.y-o.y,a13:0,a21:c.x-s.x,a22:c.y-s.y,a23:0,a31:o.x,a32:o.y,a33:1};var f=s.x-c.x,G=u.x-c.x,w=s.y-c.y,y=u.y-c.y,E=f*y-G*w,$=(p*y-G*h)/E,T=(f*h-p*w)/E;return{a11:s.x-o.x+$*s.x,a12:s.y-o.y+$*s.y,a13:$,a21:u.x-o.x+T*u.x,a22:u.y-o.y+T*u.y,a23:T,a31:o.x,a32:o.y,a33:1}}function j(o,s,c,u){var p=a(o,s,c,u);return{a11:p.a22*p.a33-p.a23*p.a32,a12:p.a13*p.a32-p.a12*p.a33,a13:p.a12*p.a23-p.a13*p.a22,a21:p.a23*p.a31-p.a21*p.a33,a22:p.a11*p.a33-p.a13*p.a31,a23:p.a13*p.a21-p.a11*p.a23,a31:p.a21*p.a32-p.a22*p.a31,a32:p.a12*p.a31-p.a11*p.a32,a33:p.a11*p.a22-p.a12*p.a21}}function n(o,s){return{a11:o.a11*s.a11+o.a21*s.a12+o.a31*s.a13,a12:o.a12*s.a11+o.a22*s.a12+o.a32*s.a13,a13:o.a13*s.a11+o.a23*s.a12+o.a33*s.a13,a21:o.a11*s.a21+o.a21*s.a22+o.a31*s.a23,a22:o.a12*s.a21+o.a22*s.a22+o.a32*s.a23,a23:o.a13*s.a21+o.a23*s.a22+o.a33*s.a23,a31:o.a11*s.a31+o.a21*s.a32+o.a31*s.a33,a32:o.a12*s.a31+o.a22*s.a32+o.a32*s.a33,a33:o.a13*s.a31+o.a23*s.a32+o.a33*s.a33}}function i(o,s){for(var c=j({x:3.5,y:3.5},{x:s.dimension-3.5,y:3.5},{x:s.dimension-6.5,y:s.dimension-6.5},{x:3.5,y:s.dimension-3.5}),u=a(s.topLeft,s.topRight,s.alignmentPattern,s.bottomLeft),p=n(u,c),h=r.BitMatrix.createEmpty(s.dimension,s.dimension),f=function(T,O){var I=p.a13*T+p.a23*O+p.a33;return{x:(p.a11*T+p.a21*O+p.a31)/I,y:(p.a12*T+p.a22*O+p.a32)/I}},G=0;G<s.dimension;G++)for(var w=0;w<s.dimension;w++){var y=w+.5,E=G+.5,$=f(y,E);h.set(w,G,o.get(Math.floor($.x),Math.floor($.y)))}return{matrix:h,mappingFunction:f}}e.extract=i},function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=4,a=.5,j=1.5,n=function(y,E){return Math.sqrt(Math.pow(E.x-y.x,2)+Math.pow(E.y-y.y,2))};function i(y){return y.reduce(function(E,$){return E+$})}function o(y,E,$){var T,O,I,q,K=n(y,E),aA=n(E,$),nA=n(y,$),lA,qA,UA;return aA>=K&&aA>=nA?(T=[E,y,$],lA=T[0],qA=T[1],UA=T[2]):nA>=aA&&nA>=K?(O=[y,E,$],lA=O[0],qA=O[1],UA=O[2]):(I=[y,$,E],lA=I[0],qA=I[1],UA=I[2]),(UA.x-qA.x)*(lA.y-qA.y)-(UA.y-qA.y)*(lA.x-qA.x)<0&&(q=[UA,lA],lA=q[0],UA=q[1]),{bottomLeft:lA,topLeft:qA,topRight:UA}}function s(y,E,$,T){var O=(i(u(y,$,T,5))/7+i(u(y,E,T,5))/7+i(u($,y,T,5))/7+i(u(E,y,T,5))/7)/4;if(O<1)throw new Error("Invalid module size");var I=Math.round(n(y,E)/O),q=Math.round(n(y,$)/O),K=Math.floor((I+q)/2)+7;switch(K%4){case 0:K++;break;case 2:K--;break}return{dimension:K,moduleSize:O}}function c(y,E,$,T){var O=[{x:Math.floor(y.x),y:Math.floor(y.y)}],I=Math.abs(E.y-y.y)>Math.abs(E.x-y.x),q,K,aA,nA;I?(q=Math.floor(y.y),K=Math.floor(y.x),aA=Math.floor(E.y),nA=Math.floor(E.x)):(q=Math.floor(y.x),K=Math.floor(y.y),aA=Math.floor(E.x),nA=Math.floor(E.y));for(var lA=Math.abs(aA-q),qA=Math.abs(nA-K),UA=Math.floor(-lA/2),le=q<aA?1:-1,yA=K<nA?1:-1,we=!0,ge=q,ot=K;ge!==aA+le;ge+=le){var ue=I?ot:ge,IA=I?ge:ot;if($.get(ue,IA)!==we&&(we=!we,O.push({x:ue,y:IA}),O.length===T+1))break;if(UA+=qA,UA>0){if(ot===nA)break;ot+=yA,UA-=lA}}for(var ne=[],HA=0;HA<T;HA++)O[HA]&&O[HA+1]?ne.push(n(O[HA],O[HA+1])):ne.push(0);return ne}function u(y,E,$,T){var O,I=E.y-y.y,q=E.x-y.x,K=c(y,E,$,Math.ceil(T/2)),aA=c(y,{x:y.x-q,y:y.y-I},$,Math.ceil(T/2)),nA=K.shift()+aA.shift()-1;return(O=aA.concat(nA)).concat.apply(O,K)}function p(y,E){var $=i(y)/i(E),T=0;return E.forEach(function(O,I){T+=Math.pow(y[I]-O*$,2)}),{averageSize:$,error:T}}function h(y,E,$){try{var T=u(y,{x:-1,y:y.y},$,E.length),O=u(y,{x:y.x,y:-1},$,E.length),I={x:Math.max(0,y.x-y.y)-1,y:Math.max(0,y.y-y.x)-1},q=u(y,I,$,E.length),K={x:Math.min($.width,y.x+y.y)+1,y:Math.min($.height,y.y+y.x)+1},aA=u(y,K,$,E.length),nA=p(T,E),lA=p(O,E),qA=p(q,E),UA=p(aA,E),le=Math.sqrt(nA.error*nA.error+lA.error*lA.error+qA.error*qA.error+UA.error*UA.error),yA=(nA.averageSize+lA.averageSize+qA.averageSize+UA.averageSize)/4,we=(Math.pow(nA.averageSize-yA,2)+Math.pow(lA.averageSize-yA,2)+Math.pow(qA.averageSize-yA,2)+Math.pow(UA.averageSize-yA,2))/yA;return le+we}catch{return 1/0}}function f(y,E){for(var $=Math.round(E.x);y.get($,Math.round(E.y));)$--;for(var T=Math.round(E.x);y.get(T,Math.round(E.y));)T++;for(var O=($+T)/2,I=Math.round(E.y);y.get(Math.round(O),I);)I--;for(var q=Math.round(E.y);y.get(Math.round(O),q);)q++;var K=(I+q)/2;return{x:O,y:K}}function G(y){for(var E=[],$=[],T=[],O=[],I=function(ue){for(var IA=0,ne=!1,HA=[0,0,0,0,0],KA=function(st){var or=y.get(st,ue);if(or===ne)IA++;else{HA=[HA[1],HA[2],HA[3],HA[4],IA],IA=1,ne=or;var ve=i(HA)/7,gt=Math.abs(HA[0]-ve)<ve&&Math.abs(HA[1]-ve)<ve&&Math.abs(HA[2]-3*ve)<3*ve&&Math.abs(HA[3]-ve)<ve&&Math.abs(HA[4]-ve)<ve&&!or,Ge=i(HA.slice(-3))/3,It=Math.abs(HA[2]-Ge)<Ge&&Math.abs(HA[3]-Ge)<Ge&&Math.abs(HA[4]-Ge)<Ge&&or;if(gt){var wt=st-HA[3]-HA[4],ar=wt-HA[2],Ot={startX:ar,endX:wt,y:ue},zr=$.filter(function(aj){return ar>=aj.bottom.startX&&ar<=aj.bottom.endX||wt>=aj.bottom.startX&&ar<=aj.bottom.endX||ar<=aj.bottom.startX&&wt>=aj.bottom.endX&&HA[2]/(aj.bottom.endX-aj.bottom.startX)<j&&HA[2]/(aj.bottom.endX-aj.bottom.startX)>a});zr.length>0?zr[0].bottom=Ot:$.push({top:Ot,bottom:Ot})}if(It){var Ba=st-HA[4],rj=Ba-HA[3],Ot={startX:rj,y:ue,endX:Ba},zr=O.filter(function(er){return rj>=er.bottom.startX&&rj<=er.bottom.endX||Ba>=er.bottom.startX&&rj<=er.bottom.endX||rj<=er.bottom.startX&&Ba>=er.bottom.endX&&HA[2]/(er.bottom.endX-er.bottom.startX)<j&&HA[2]/(er.bottom.endX-er.bottom.startX)>a});zr.length>0?zr[0].bottom=Ot:O.push({top:Ot,bottom:Ot})}}},XA=-1;XA<=y.width;XA++)KA(XA);E.push.apply(E,$.filter(function(st){return st.bottom.y!==ue&&st.bottom.y-st.top.y>=2})),$=$.filter(function(st){return st.bottom.y===ue}),T.push.apply(T,O.filter(function(st){return st.bottom.y!==ue})),O=O.filter(function(st){return st.bottom.y===ue})},q=0;q<=y.height;q++)I(q);E.push.apply(E,$.filter(function(ue){return ue.bottom.y-ue.top.y>=2})),T.push.apply(T,O);var K=E.filter(function(ue){return ue.bottom.y-ue.top.y>=2}).map(function(ue){var IA=(ue.top.startX+ue.top.endX+ue.bottom.startX+ue.bottom.endX)/4,ne=(ue.top.y+ue.bottom.y+1)/2;if(y.get(Math.round(IA),Math.round(ne))){var HA=[ue.top.endX-ue.top.startX,ue.bottom.endX-ue.bottom.startX,ue.bottom.y-ue.top.y+1],KA=i(HA)/HA.length,XA=h({x:Math.round(IA),y:Math.round(ne)},[1,1,3,1,1],y);return{score:XA,x:IA,y:ne,size:KA}}}).filter(function(ue){return!!ue}).sort(function(ue,IA){return ue.score-IA.score}).map(function(ue,IA,ne){if(IA>r)return null;var HA=ne.filter(function(XA,st){return IA!==st}).map(function(XA){return{x:XA.x,y:XA.y,score:XA.score+Math.pow(XA.size-ue.size,2)/ue.size,size:XA.size}}).sort(function(XA,st){return XA.score-st.score});if(HA.length<2)return null;var KA=ue.score+HA[0].score+HA[1].score;return{points:[ue].concat(HA.slice(0,2)),score:KA}}).filter(function(ue){return!!ue}).sort(function(ue,IA){return ue.score-IA.score});if(K.length===0)return null;var aA=o(K[0].points[0],K[0].points[1],K[0].points[2]),nA=aA.topRight,lA=aA.topLeft,qA=aA.bottomLeft,UA=w(y,T,nA,lA,qA),le=[];UA&&le.push({alignmentPattern:{x:UA.alignmentPattern.x,y:UA.alignmentPattern.y},bottomLeft:{x:qA.x,y:qA.y},dimension:UA.dimension,topLeft:{x:lA.x,y:lA.y},topRight:{x:nA.x,y:nA.y}});var yA=f(y,nA),we=f(y,lA),ge=f(y,qA),ot=w(y,T,yA,we,ge);return ot&&le.push({alignmentPattern:{x:ot.alignmentPattern.x,y:ot.alignmentPattern.y},bottomLeft:{x:ge.x,y:ge.y},topLeft:{x:we.x,y:we.y},topRight:{x:yA.x,y:yA.y},dimension:ot.dimension}),le.length===0?null:le}e.locate=G;function w(y,E,$,T,O){var I,q,K;try{I=s(T,$,O,y),q=I.dimension,K=I.moduleSize}catch{return null}var aA={x:$.x-T.x+O.x,y:$.y-T.y+O.y},nA=(n(T,O)+n(T,$))/2/K,lA=1-3/nA,qA={x:T.x+lA*(aA.x-T.x),y:T.y+lA*(aA.y-T.y)},UA=E.map(function(yA){var we=(yA.top.startX+yA.top.endX+yA.bottom.startX+yA.bottom.endX)/4,ge=(yA.top.y+yA.bottom.y+1)/2;if(y.get(Math.floor(we),Math.floor(ge))){var ot=[yA.top.endX-yA.top.startX,yA.bottom.endX-yA.bottom.startX,yA.bottom.y-yA.top.y+1],ue=i(ot)/ot.length,IA=h({x:Math.floor(we),y:Math.floor(ge)},[1,1,1],y),ne=IA+n({x:we,y:ge},qA);return{x:we,y:ge,score:ne}}}).filter(function(yA){return!!yA}).sort(function(yA,we){return yA.score-we.score}),le=nA>=15&&UA.length?UA[0]:qA;return{alignmentPattern:le,dimension:q}}}]).default})});var zZA=mA((pKr,DZA)=>{function uot(){this.__data__=[],this.size=0}DZA.exports=uot});var N_=mA((kKr,MZA)=>{function dot(A,e){return A===e||A!==A&&e!==e}MZA.exports=dot});var U_=mA((hKr,RZA)=>{var mot=N_();function pot(A,e){for(var t=A.length;t--;)if(mot(A[t][0],e))return t;return-1}RZA.exports=pot});var LZA=mA((gKr,KZA)=>{var kot=U_(),hot=Array.prototype,got=hot.splice;function fot(A){var e=this.__data__,t=kot(e,A);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():got.call(e,t,1),--this.size,!0}KZA.exports=fot});var UZA=mA((fKr,NZA)=>{var Bot=U_();function Eot(A){var e=this.__data__,t=Bot(e,A);return t<0?void 0:e[t][1]}NZA.exports=Eot});var VZA=mA((BKr,HZA)=>{var xot=U_();function bot(A){return xot(this.__data__,A)>-1}HZA.exports=bot});var WZA=mA((EKr,XZA)=>{var yot=U_();function vot(A,e){var t=this.__data__,r=yot(t,A);return r<0?(++this.size,t.push([A,e])):t[r][1]=e,this}XZA.exports=vot});var H_=mA((xKr,JZA)=>{var Fot=zZA(),Got=LZA(),wot=UZA(),qot=VZA(),$ot=WZA();function i8(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}i8.prototype.clear=Fot;i8.prototype.delete=Got;i8.prototype.get=wot;i8.prototype.has=qot;i8.prototype.set=$ot;JZA.exports=i8});var ZZA=mA((bKr,YZA)=>{var Iot=H_();function Pot(){this.__data__=new Iot,this.size=0}YZA.exports=Pot});var AQA=mA((yKr,QZA)=>{function Sot(A){var e=this.__data__,t=e.delete(A);return this.size=e.size,t}QZA.exports=Sot});var tQA=mA((vKr,eQA)=>{function Cot(A){return this.__data__.get(A)}eQA.exports=Cot});var aQA=mA((FKr,rQA)=>{function Oot(A){return this.__data__.has(A)}rQA.exports=Oot});var Y7A=mA((GKr,jQA)=>{var Tot=typeof global=="object"&&global&&global.Object===Object&&global;jQA.exports=Tot});var _0=mA((wKr,nQA)=>{var _ot=Y7A(),Dot=typeof self=="object"&&self&&self.Object===Object&&self,zot=_ot||Dot||Function("return this")();nQA.exports=zot});var Z7A=mA((qKr,iQA)=>{var Mot=_0(),Rot=Mot.Symbol;iQA.exports=Rot});var cQA=mA(($Kr,lQA)=>{var oQA=Z7A(),sQA=Object.prototype,Kot=sQA.hasOwnProperty,Lot=sQA.toString,V_=oQA?oQA.toStringTag:void 0;function Not(A){var e=Kot.call(A,V_),t=A[V_];try{A[V_]=void 0;var r=!0}catch{}var a=Lot.call(A);return r&&(e?A[V_]=t:delete A[V_]),a}lQA.exports=Not});var dQA=mA((IKr,uQA)=>{var Uot=Object.prototype,Hot=Uot.toString;function Vot(A){return Hot.call(A)}uQA.exports=Vot});var X_=mA((PKr,kQA)=>{var mQA=Z7A(),Xot=cQA(),Wot=dQA(),Jot="[object Null]",Yot="[object Undefined]",pQA=mQA?mQA.toStringTag:void 0;function Zot(A){return A==null?A===void 0?Yot:Jot:pQA&&pQA in Object(A)?Xot(A):Wot(A)}kQA.exports=Zot});var gx=mA((SKr,hQA)=>{function Qot(A){var e=typeof A;return A!=null&&(e=="object"||e=="function")}hQA.exports=Qot});var pX=mA((CKr,gQA)=>{var Ast=X_(),est=gx(),tst="[object AsyncFunction]",rst="[object Function]",ast="[object GeneratorFunction]",jst="[object Proxy]";function nst(A){if(!est(A))return!1;var e=Ast(A);return e==rst||e==ast||e==tst||e==jst}gQA.exports=nst});var BQA=mA((OKr,fQA)=>{var ist=_0(),ost=ist["__core-js_shared__"];fQA.exports=ost});var bQA=mA((TKr,xQA)=>{var Q7A=BQA(),EQA=function(){var A=/[^.]+$/.exec(Q7A&&Q7A.keys&&Q7A.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}();function sst(A){return!!EQA&&EQA in A}xQA.exports=sst});var vQA=mA((_Kr,yQA)=>{var lst=Function.prototype,cst=lst.toString;function ust(A){if(A!=null){try{return cst.call(A)}catch{}try{return A+""}catch{}}return""}yQA.exports=ust});var GQA=mA((DKr,FQA)=>{var dst=pX(),mst=bQA(),pst=gx(),kst=vQA(),hst=/[\\^$.*+?()[\]{}|]/g,gst=/^\[object .+?Constructor\]$/,fst=Function.prototype,Bst=Object.prototype,Est=fst.toString,xst=Bst.hasOwnProperty,bst=RegExp("^"+Est.call(xst).replace(hst,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yst(A){if(!pst(A)||mst(A))return!1;var e=dst(A)?bst:gst;return e.test(kst(A))}FQA.exports=yst});var qQA=mA((zKr,wQA)=>{function vst(A,e){return A?.[e]}wQA.exports=vst});var kX=mA((MKr,$QA)=>{var Fst=GQA(),Gst=qQA();function wst(A,e){var t=Gst(A,e);return Fst(t)?t:void 0}$QA.exports=wst});var AhA=mA((RKr,IQA)=>{var qst=kX(),$st=_0(),Ist=qst($st,"Map");IQA.exports=Ist});var W_=mA((KKr,PQA)=>{var Pst=kX(),Sst=Pst(Object,"create");PQA.exports=Sst});var OQA=mA((LKr,CQA)=>{var SQA=W_();function Cst(){this.__data__=SQA?SQA(null):{},this.size=0}CQA.exports=Cst});var _QA=mA((NKr,TQA)=>{function Ost(A){var e=this.has(A)&&delete this.__data__[A];return this.size-=e?1:0,e}TQA.exports=Ost});var zQA=mA((UKr,DQA)=>{var Tst=W_(),_st="__lodash_hash_undefined__",Dst=Object.prototype,zst=Dst.hasOwnProperty;function Mst(A){var e=this.__data__;if(Tst){var t=e[A];return t===_st?void 0:t}return zst.call(e,A)?e[A]:void 0}DQA.exports=Mst});var RQA=mA((HKr,MQA)=>{var Rst=W_(),Kst=Object.prototype,Lst=Kst.hasOwnProperty;function Nst(A){var e=this.__data__;return Rst?e[A]!==void 0:Lst.call(e,A)}MQA.exports=Nst});var LQA=mA((VKr,KQA)=>{var Ust=W_(),Hst="__lodash_hash_undefined__";function Vst(A,e){var t=this.__data__;return this.size+=this.has(A)?0:1,t[A]=Ust&&e===void 0?Hst:e,this}KQA.exports=Vst});var UQA=mA((XKr,NQA)=>{var Xst=OQA(),Wst=_QA(),Jst=zQA(),Yst=RQA(),Zst=LQA();function o8(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}o8.prototype.clear=Xst;o8.prototype.delete=Wst;o8.prototype.get=Jst;o8.prototype.has=Yst;o8.prototype.set=Zst;NQA.exports=o8});var XQA=mA((WKr,VQA)=>{var HQA=UQA(),Qst=H_(),Alt=AhA();function elt(){this.size=0,this.__data__={hash:new HQA,map:new(Alt||Qst),string:new HQA}}VQA.exports=elt});var JQA=mA((JKr,WQA)=>{function tlt(A){var e=typeof A;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?A!=="__proto__":A===null}WQA.exports=tlt});var J_=mA((YKr,YQA)=>{var rlt=JQA();function alt(A,e){var t=A.__data__;return rlt(e)?t[typeof e=="string"?"string":"hash"]:t.map}YQA.exports=alt});var QQA=mA((ZKr,ZQA)=>{var jlt=J_();function nlt(A){var e=jlt(this,A).delete(A);return this.size-=e?1:0,e}ZQA.exports=nlt});var eAe=mA((QKr,AAe)=>{var ilt=J_();function olt(A){return ilt(this,A).get(A)}AAe.exports=olt});var rAe=mA((A3r,tAe)=>{var slt=J_();function llt(A){return slt(this,A).has(A)}tAe.exports=llt});var jAe=mA((e3r,aAe)=>{var clt=J_();function ult(A,e){var t=clt(this,A),r=t.size;return t.set(A,e),this.size+=t.size==r?0:1,this}aAe.exports=ult});var iAe=mA((t3r,nAe)=>{var dlt=XQA(),mlt=QQA(),plt=eAe(),klt=rAe(),hlt=jAe();function s8(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}s8.prototype.clear=dlt;s8.prototype.delete=mlt;s8.prototype.get=plt;s8.prototype.has=klt;s8.prototype.set=hlt;nAe.exports=s8});var sAe=mA((r3r,oAe)=>{var glt=H_(),flt=AhA(),Blt=iAe(),Elt=200;function xlt(A,e){var t=this.__data__;if(t instanceof glt){var r=t.__data__;if(!flt||r.length<Elt-1)return r.push([A,e]),this.size=++t.size,this;t=this.__data__=new Blt(r)}return t.set(A,e),this.size=t.size,this}oAe.exports=xlt});var cAe=mA((a3r,lAe)=>{var blt=H_(),ylt=ZZA(),vlt=AQA(),Flt=tQA(),Glt=aQA(),wlt=sAe();function l8(A){var e=this.__data__=new blt(A);this.size=e.size}l8.prototype.clear=ylt;l8.prototype.delete=vlt;l8.prototype.get=Flt;l8.prototype.has=Glt;l8.prototype.set=wlt;lAe.exports=l8});var ehA=mA((j3r,uAe)=>{var qlt=kX(),$lt=function(){try{var A=qlt(Object,"defineProperty");return A({},"",{}),A}catch{}}();uAe.exports=$lt});var hX=mA((n3r,mAe)=>{var dAe=ehA();function Ilt(A,e,t){e=="__proto__"&&dAe?dAe(A,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):A[e]=t}mAe.exports=Ilt});var thA=mA((i3r,pAe)=>{var Plt=hX(),Slt=N_();function Clt(A,e,t){(t!==void 0&&!Slt(A[e],t)||t===void 0&&!(e in A))&&Plt(A,e,t)}pAe.exports=Clt});var hAe=mA((o3r,kAe)=>{function Olt(A){return function(e,t,r){for(var a=-1,j=Object(e),n=r(e),i=n.length;i--;){var o=n[A?i:++a];if(t(j[o],o,j)===!1)break}return e}}kAe.exports=Olt});var fAe=mA((s3r,gAe)=>{var Tlt=hAe(),_lt=Tlt();gAe.exports=_lt});var yAe=mA((Y_,c8)=>{var Dlt=_0(),bAe=typeof Y_=="object"&&Y_&&!Y_.nodeType&&Y_,BAe=bAe&&typeof c8=="object"&&c8&&!c8.nodeType&&c8,zlt=BAe&&BAe.exports===bAe,EAe=zlt?Dlt.Buffer:void 0,xAe=EAe?EAe.allocUnsafe:void 0;function Mlt(A,e){if(e)return A.slice();var t=A.length,r=xAe?xAe(t):new A.constructor(t);return A.copy(r),r}c8.exports=Mlt});var FAe=mA((l3r,vAe)=>{var Rlt=_0(),Klt=Rlt.Uint8Array;vAe.exports=Klt});var qAe=mA((c3r,wAe)=>{var GAe=FAe();function Llt(A){var e=new A.constructor(A.byteLength);return new GAe(e).set(new GAe(A)),e}wAe.exports=Llt});var IAe=mA((u3r,$Ae)=>{var Nlt=qAe();function Ult(A,e){var t=e?Nlt(A.buffer):A.buffer;return new A.constructor(t,A.byteOffset,A.length)}$Ae.exports=Ult});var SAe=mA((d3r,PAe)=>{function Hlt(A,e){var t=-1,r=A.length;for(e||(e=Array(r));++t<r;)e[t]=A[t];return e}PAe.exports=Hlt});var TAe=mA((m3r,OAe)=>{var Vlt=gx(),CAe=Object.create,Xlt=function(){function A(){}return function(e){if(!Vlt(e))return{};if(CAe)return CAe(e);A.prototype=e;var t=new A;return A.prototype=void 0,t}}();OAe.exports=Xlt});var DAe=mA((p3r,_Ae)=>{function Wlt(A,e){return function(t){return A(e(t))}}_Ae.exports=Wlt});var rhA=mA((k3r,zAe)=>{var Jlt=DAe(),Ylt=Jlt(Object.getPrototypeOf,Object);zAe.exports=Ylt});var ahA=mA((h3r,MAe)=>{var Zlt=Object.prototype;function Qlt(A){var e=A&&A.constructor,t=typeof e=="function"&&e.prototype||Zlt;return A===t}MAe.exports=Qlt});var KAe=mA((g3r,RAe)=>{var A6t=TAe(),e6t=rhA(),t6t=ahA();function r6t(A){return typeof A.constructor=="function"&&!t6t(A)?A6t(e6t(A)):{}}RAe.exports=r6t});var u8=mA((f3r,LAe)=>{function a6t(A){return A!=null&&typeof A=="object"}LAe.exports=a6t});var UAe=mA((B3r,NAe)=>{var j6t=X_(),n6t=u8(),i6t="[object Arguments]";function o6t(A){return n6t(A)&&j6t(A)==i6t}NAe.exports=o6t});var jhA=mA((E3r,XAe)=>{var HAe=UAe(),s6t=u8(),VAe=Object.prototype,l6t=VAe.hasOwnProperty,c6t=VAe.propertyIsEnumerable,u6t=HAe(function(){return arguments}())?HAe:function(A){return s6t(A)&&l6t.call(A,"callee")&&!c6t.call(A,"callee")};XAe.exports=u6t});var nhA=mA((x3r,WAe)=>{var d6t=Array.isArray;WAe.exports=d6t});var ihA=mA((b3r,JAe)=>{var m6t=9007199254740991;function p6t(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=m6t}JAe.exports=p6t});var gX=mA((y3r,YAe)=>{var k6t=pX(),h6t=ihA();function g6t(A){return A!=null&&h6t(A.length)&&!k6t(A)}YAe.exports=g6t});var QAe=mA((v3r,ZAe)=>{var f6t=gX(),B6t=u8();function E6t(A){return B6t(A)&&f6t(A)}ZAe.exports=E6t});var eee=mA((F3r,Aee)=>{function x6t(){return!1}Aee.exports=x6t});var ohA=mA((Z_,d8)=>{var b6t=_0(),y6t=eee(),aee=typeof Z_=="object"&&Z_&&!Z_.nodeType&&Z_,tee=aee&&typeof d8=="object"&&d8&&!d8.nodeType&&d8,v6t=tee&&tee.exports===aee,ree=v6t?b6t.Buffer:void 0,F6t=ree?ree.isBuffer:void 0,G6t=F6t||y6t;d8.exports=G6t});var iee=mA((G3r,nee)=>{var w6t=X_(),q6t=rhA(),$6t=u8(),I6t="[object Object]",P6t=Function.prototype,S6t=Object.prototype,jee=P6t.toString,C6t=S6t.hasOwnProperty,O6t=jee.call(Object);function T6t(A){if(!$6t(A)||w6t(A)!=I6t)return!1;var e=q6t(A);if(e===null)return!0;var t=C6t.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&jee.call(t)==O6t}nee.exports=T6t});var see=mA((w3r,oee)=>{var _6t=X_(),D6t=ihA(),z6t=u8(),M6t="[object Arguments]",R6t="[object Array]",K6t="[object Boolean]",L6t="[object Date]",N6t="[object Error]",U6t="[object Function]",H6t="[object Map]",V6t="[object Number]",X6t="[object Object]",W6t="[object RegExp]",J6t="[object Set]",Y6t="[object String]",Z6t="[object WeakMap]",Q6t="[object ArrayBuffer]",Act="[object DataView]",ect="[object Float32Array]",tct="[object Float64Array]",rct="[object Int8Array]",act="[object Int16Array]",jct="[object Int32Array]",nct="[object Uint8Array]",ict="[object Uint8ClampedArray]",oct="[object Uint16Array]",sct="[object Uint32Array]",hi={};hi[ect]=hi[tct]=hi[rct]=hi[act]=hi[jct]=hi[nct]=hi[ict]=hi[oct]=hi[sct]=!0;hi[M6t]=hi[R6t]=hi[Q6t]=hi[K6t]=hi[Act]=hi[L6t]=hi[N6t]=hi[U6t]=hi[H6t]=hi[V6t]=hi[X6t]=hi[W6t]=hi[J6t]=hi[Y6t]=hi[Z6t]=!1;function lct(A){return z6t(A)&&D6t(A.length)&&!!hi[_6t(A)]}oee.exports=lct});var cee=mA((q3r,lee)=>{function cct(A){return function(e){return A(e)}}lee.exports=cct});var dee=mA((Q_,m8)=>{var uct=Y7A(),uee=typeof Q_=="object"&&Q_&&!Q_.nodeType&&Q_,AD=uee&&typeof m8=="object"&&m8&&!m8.nodeType&&m8,dct=AD&&AD.exports===uee,shA=dct&&uct.process,mct=function(){try{var A=AD&&AD.require&&AD.require("util").types;return A||shA&&shA.binding&&shA.binding("util")}catch{}}();m8.exports=mct});var lhA=mA(($3r,kee)=>{var pct=see(),kct=cee(),mee=dee(),pee=mee&&mee.isTypedArray,hct=pee?kct(pee):pct;kee.exports=hct});var chA=mA((I3r,hee)=>{function gct(A,e){if(!(e==="constructor"&&typeof A[e]=="function")&&e!="__proto__")return A[e]}hee.exports=gct});var fee=mA((P3r,gee)=>{var fct=hX(),Bct=N_(),Ect=Object.prototype,xct=Ect.hasOwnProperty;function bct(A,e,t){var r=A[e];(!(xct.call(A,e)&&Bct(r,t))||t===void 0&&!(e in A))&&fct(A,e,t)}gee.exports=bct});var Eee=mA((S3r,Bee)=>{var yct=fee(),vct=hX();function Fct(A,e,t,r){var a=!t;t||(t={});for(var j=-1,n=e.length;++j<n;){var i=e[j],o=r?r(t[i],A[i],i,t,A):void 0;o===void 0&&(o=A[i]),a?vct(t,i,o):yct(t,i,o)}return t}Bee.exports=Fct});var bee=mA((C3r,xee)=>{function Gct(A,e){for(var t=-1,r=Array(A);++t<A;)r[t]=e(t);return r}xee.exports=Gct});var uhA=mA((O3r,yee)=>{var wct=9007199254740991,qct=/^(?:0|[1-9]\d*)$/;function $ct(A,e){var t=typeof A;return e=e??wct,!!e&&(t=="number"||t!="symbol"&&qct.test(A))&&A>-1&&A%1==0&&A<e}yee.exports=$ct});var Fee=mA((T3r,vee)=>{var Ict=bee(),Pct=jhA(),Sct=nhA(),Cct=ohA(),Oct=uhA(),Tct=lhA(),_ct=Object.prototype,Dct=_ct.hasOwnProperty;function zct(A,e){var t=Sct(A),r=!t&&Pct(A),a=!t&&!r&&Cct(A),j=!t&&!r&&!a&&Tct(A),n=t||r||a||j,i=n?Ict(A.length,String):[],o=i.length;for(var s in A)(e||Dct.call(A,s))&&!(n&&(s=="length"||a&&(s=="offset"||s=="parent")||j&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||Oct(s,o)))&&i.push(s);return i}vee.exports=zct});var wee=mA((_3r,Gee)=>{function Mct(A){var e=[];if(A!=null)for(var t in Object(A))e.push(t);return e}Gee.exports=Mct});var $ee=mA((D3r,qee)=>{var Rct=gx(),Kct=ahA(),Lct=wee(),Nct=Object.prototype,Uct=Nct.hasOwnProperty;function Hct(A){if(!Rct(A))return Lct(A);var e=Kct(A),t=[];for(var r in A)r=="constructor"&&(e||!Uct.call(A,r))||t.push(r);return t}qee.exports=Hct});var dhA=mA((z3r,Iee)=>{var Vct=Fee(),Xct=$ee(),Wct=gX();function Jct(A){return Wct(A)?Vct(A,!0):Xct(A)}Iee.exports=Jct});var See=mA((M3r,Pee)=>{var Yct=Eee(),Zct=dhA();function Qct(A){return Yct(A,Zct(A))}Pee.exports=Qct});var zee=mA((R3r,Dee)=>{var Cee=thA(),Aut=yAe(),eut=IAe(),tut=SAe(),rut=KAe(),Oee=jhA(),Tee=nhA(),aut=QAe(),jut=ohA(),nut=pX(),iut=gx(),out=iee(),sut=lhA(),_ee=chA(),lut=See();function cut(A,e,t,r,a,j,n){var i=_ee(A,t),o=_ee(e,t),s=n.get(o);if(s){Cee(A,t,s);return}var c=j?j(i,o,t+"",A,e,n):void 0,u=c===void 0;if(u){var p=Tee(o),h=!p&&jut(o),f=!p&&!h&&sut(o);c=o,p||h||f?Tee(i)?c=i:aut(i)?c=tut(i):h?(u=!1,c=Aut(o,!0)):f?(u=!1,c=eut(o,!0)):c=[]:out(o)||Oee(o)?(c=i,Oee(i)?c=lut(i):(!iut(i)||nut(i))&&(c=rut(o))):u=!1}u&&(n.set(o,c),a(c,o,r,j,n),n.delete(o)),Cee(A,t,c)}Dee.exports=cut});var Kee=mA((K3r,Ree)=>{var uut=cAe(),dut=thA(),mut=fAe(),put=zee(),kut=gx(),hut=dhA(),gut=chA();function Mee(A,e,t,r,a){A!==e&&mut(e,function(j,n){if(a||(a=new uut),kut(j))put(A,e,n,t,Mee,r,a);else{var i=r?r(gut(A,n),j,n+"",A,e,a):void 0;i===void 0&&(i=j),dut(A,n,i)}},hut)}Ree.exports=Mee});var mhA=mA((L3r,Lee)=>{function fut(A){return A}Lee.exports=fut});var Uee=mA((N3r,Nee)=>{function But(A,e,t){switch(t.length){case 0:return A.call(e);case 1:return A.call(e,t[0]);case 2:return A.call(e,t[0],t[1]);case 3:return A.call(e,t[0],t[1],t[2])}return A.apply(e,t)}Nee.exports=But});var Xee=mA((U3r,Vee)=>{var Eut=Uee(),Hee=Math.max;function xut(A,e,t){return e=Hee(e===void 0?A.length-1:e,0),function(){for(var r=arguments,a=-1,j=Hee(r.length-e,0),n=Array(j);++a<j;)n[a]=r[e+a];a=-1;for(var i=Array(e+1);++a<e;)i[a]=r[a];return i[e]=t(n),Eut(A,this,i)}}Vee.exports=xut});var Jee=mA((H3r,Wee)=>{function but(A){return function(){return A}}Wee.exports=but});var Qee=mA((V3r,Zee)=>{var yut=Jee(),Yee=ehA(),vut=mhA(),Fut=Yee?function(A,e){return Yee(A,"toString",{configurable:!0,enumerable:!1,value:yut(e),writable:!0})}:vut;Zee.exports=Fut});var ete=mA((X3r,Ate)=>{var Gut=800,wut=16,qut=Date.now;function $ut(A){var e=0,t=0;return function(){var r=qut(),a=wut-(r-t);if(t=r,a>0){if(++e>=Gut)return arguments[0]}else e=0;return A.apply(void 0,arguments)}}Ate.exports=$ut});var rte=mA((W3r,tte)=>{var Iut=Qee(),Put=ete(),Sut=Put(Iut);tte.exports=Sut});var jte=mA((J3r,ate)=>{var Cut=mhA(),Out=Xee(),Tut=rte();function _ut(A,e){return Tut(Out(A,e,Cut),A+"")}ate.exports=_ut});var ite=mA((Y3r,nte)=>{var Dut=N_(),zut=gX(),Mut=uhA(),Rut=gx();function Kut(A,e,t){if(!Rut(t))return!1;var r=typeof e;return(r=="number"?zut(t)&&Mut(e,t.length):r=="string"&&e in t)?Dut(t[e],A):!1}nte.exports=Kut});var ste=mA((Z3r,ote)=>{var Lut=jte(),Nut=ite();function Uut(A){return Lut(function(e,t){var r=-1,a=t.length,j=a>1?t[a-1]:void 0,n=a>2?t[2]:void 0;for(j=A.length>3&&typeof j=="function"?(a--,j):void 0,n&&Nut(t[0],t[1],n)&&(j=a<3?void 0:j,a=1),e=Object(e);++r<a;){var i=t[r];i&&A(e,i,r,j)}return e})}ote.exports=Uut});var cte=mA((Q3r,lte)=>{var Hut=Kee(),Vut=ste(),Xut=Vut(function(A,e,t){Hut(A,e,t)});lte.exports=Xut});var $te=mA(yX=>{"use strict";Object.defineProperty(yX,"__esModule",{value:!0});yX.GenericEntity=void 0;var bX=OA();yX.GenericEntity=bX.exact(bX.type({schema:bX.string,data:bX.UnknownRecord}))});var Ite=mA(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.SnowplowDataJsonKeys=Xs.SnowplowEvent=Xs.SnowplowEventData=Xs.SnowplowUrl=Xs.Platform=Xs.EventType=void 0;var pdt=$te(),Sn=OA(),GhA;(function(A){A.SelfDescribingEvent="ue",A.Unknown=""})(GhA=Xs.EventType||(Xs.EventType={}));var Zg;(function(A){A.Web="web",A.Mobile="mob",A.Desktop="pc",A.ServerSide="srv",A.App="app",A.Tv="tv",A.GameConsole="cnsl",A.Thing="iot"})(Zg=Xs.Platform||(Xs.Platform={}));var vX;(function(A){A.UnstructuredEvent="iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",A.Context="iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",A.PayloadData="iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4"})(vX=Xs.SnowplowUrl||(Xs.SnowplowUrl={}));var kdt=Sn.exact(Sn.type({schema:Sn.literal(vX.UnstructuredEvent),data:Sn.record(Sn.string,Sn.any)})),hdt=Sn.exact(Sn.type({schema:Sn.literal(vX.Context),data:Sn.array(pdt.GenericEntity)}));Xs.SnowplowEventData=Sn.exact(Sn.intersection([Sn.type({eventType:Sn.union([Sn.literal(GhA.SelfDescribingEvent),Sn.literal(GhA.Unknown)]),payload:kdt,platform:Sn.keyof({[Zg.App]:void 0,[Zg.Desktop]:void 0,[Zg.GameConsole]:void 0,[Zg.Mobile]:void 0,[Zg.ServerSide]:void 0,[Zg.Thing]:void 0,[Zg.Tv]:void 0,[Zg.Web]:void 0}),appId:Sn.string,trackerId:Sn.string,namespace:Sn.string,createdTimestamp:Sn.number}),Sn.partial({context:hdt,eventUuid:Sn.string,sentTimestamp:Sn.number})]));Xs.SnowplowEvent=Sn.exact(Sn.type({schema:Sn.literal(vX.PayloadData),data:Sn.array(Xs.SnowplowEventData)}));Xs.SnowplowDataJsonKeys={eventType:"e",payload:"ue_pr",context:"co",platform:"p",appId:"aid",trackerId:"tv",namespace:"tna",eventUuid:"eid",createdTimestamp:"dtm",sentTimestamp:"stm"}});var Pte=mA(h8=>{"use strict";Object.defineProperty(h8,"__esModule",{value:!0});h8.produceSnowplowJson=h8.buildSnowplowEvent=void 0;var k8=Ite();function gdt(A,e,t,r,a,j=Date.now(),n){let i={schema:k8.SnowplowUrl.PayloadData,data:[{eventType:k8.EventType.SelfDescribingEvent,payload:{schema:k8.SnowplowUrl.UnstructuredEvent,data:r},context:a&&a.length>0?{schema:k8.SnowplowUrl.Context,data:a}:null,platform:k8.Platform.Web,appId:A,trackerId:e,namespace:t,eventUuid:n,createdTimestamp:j,sentTimestamp:Date.now()}]};return Object.freeze(i)}h8.buildSnowplowEvent=gdt;function fdt(A){let e=Bdt(k8.SnowplowDataJsonKeys,A.data[0]);return JSON.stringify({schema:A.schema,data:[e]})}h8.produceSnowplowJson=fdt;var Bdt=(A,e)=>Object.keys(e).filter(t=>e[t]).reduce((t,r)=>({...t,[A[r]||r]:typeof e[r]=="string"?e[r]:JSON.stringify(e[r])}),{})});var Cte=mA(g8=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});g8.validateContexts=g8.validateEvent=void 0;var Ste=Pl();function Edt(A,e,t){let r=A[e],j={schema:r.type.props.schema.value,data:t},n=r.decode(j);if(Ste.isRight(n))return n.right;throw Error("Failed to validate event")}g8.validateEvent=Edt;function xdt(A,e){let t=[];if(!(!e||e.length==0))return e.forEach(r=>{let a=A[r.contextType],n={schema:a.type.props.schema.value,data:r.data},i=a.decode(n);if(Ste.isRight(i))t.push(i.right);else throw Error(`Failed to validate context for ${String(r.contextType)}`)}),t}g8.validateContexts=xdt});var _te=mA(FX=>{"use strict";Object.defineProperty(FX,"__esModule",{value:!0});FX.SnowplowTracker=void 0;var Ote=Pte(),Tte=Cte(),whA=class{constructor(e,t,r){this.config=e,this.allEvents=t,this.allContexts=r,this.config=e,this.allEvents=t,this.allContexts=r}async record(e,t,r){try{let a=(0,Tte.validateEvent)(this.allEvents,e,t),j=(0,Tte.validateContexts)(this.allContexts,r),n=(0,Ote.buildSnowplowEvent)(this.config.appId,this.config.trackerId,this.config.namespace,a,j),i=(0,Ote.produceSnowplowJson)(n);await this.sendToSnowplow(i)}catch(a){throw new Error(`{An error occurred during event recording. The event may not have been sent. Error Output: ${a}}`)}}async sendToSnowplow(e){await fetch(this.config.collectorUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:e})}};FX.SnowplowTracker=whA});var Dte=mA(GX=>{"use strict";Object.defineProperty(GX,"__esModule",{value:!0});GX.SnowplowTracker=void 0;var bdt=_te();Object.defineProperty(GX,"SnowplowTracker",{enumerable:!0,get:function(){return bdt.SnowplowTracker}})});var jfA;(function(A){(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=a(A);typeof t.Reflect>"u"?t.Reflect=A:r=a(t.Reflect,r),e(r);function a(j,n){return function(i,o){typeof j[i]!="function"&&Object.defineProperty(j,i,{configurable:!0,writable:!0,value:o}),n&&n(i,o)}}})(function(e){var t=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",a=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",j=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",n=typeof Object.create=="function",i={__proto__:[]}instanceof Array,o=!n&&!i,s={create:n?function(){return ft(Object.create(null))}:i?function(){return ft({__proto__:null})}:function(){return ft({})},has:o?function(pA,wA){return t.call(pA,wA)}:function(pA,wA){return wA in pA},get:o?function(pA,wA){return t.call(pA,wA)?pA[wA]:void 0}:function(pA,wA){return pA[wA]}},c=Object.getPrototypeOf(Function),u=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",p=!u&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:pr(),h=!u&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ua(),f=!u&&typeof WeakMap=="function"?WeakMap:pn(),G=new f;function w(pA,wA,JA,Me){if(ne(JA)){if(!It(pA))throw new TypeError;if(!ar(wA))throw new TypeError;return nA(pA,wA)}else{if(!It(pA))throw new TypeError;if(!XA(wA))throw new TypeError;if(!XA(Me)&&!ne(Me)&&!HA(Me))throw new TypeError;return HA(Me)&&(Me=void 0),JA=Ge(JA),lA(pA,wA,JA,Me)}}e("decorate",w);function y(pA,wA){function JA(Me,Se){if(!XA(Me))throw new TypeError;if(!ne(Se)&&!Ot(Se))throw new TypeError;ge(pA,wA,Me,Se)}return JA}e("metadata",y);function E(pA,wA,JA,Me){if(!XA(JA))throw new TypeError;return ne(Me)||(Me=Ge(Me)),ge(pA,wA,JA,Me)}e("defineMetadata",E);function $(pA,wA,JA){if(!XA(wA))throw new TypeError;return ne(JA)||(JA=Ge(JA)),UA(pA,wA,JA)}e("hasMetadata",$);function T(pA,wA,JA){if(!XA(wA))throw new TypeError;return ne(JA)||(JA=Ge(JA)),le(pA,wA,JA)}e("hasOwnMetadata",T);function O(pA,wA,JA){if(!XA(wA))throw new TypeError;return ne(JA)||(JA=Ge(JA)),yA(pA,wA,JA)}e("getMetadata",O);function I(pA,wA,JA){if(!XA(wA))throw new TypeError;return ne(JA)||(JA=Ge(JA)),we(pA,wA,JA)}e("getOwnMetadata",I);function q(pA,wA){if(!XA(pA))throw new TypeError;return ne(wA)||(wA=Ge(wA)),ot(pA,wA)}e("getMetadataKeys",q);function K(pA,wA){if(!XA(pA))throw new TypeError;return ne(wA)||(wA=Ge(wA)),ue(pA,wA)}e("getOwnMetadataKeys",K);function aA(pA,wA,JA){if(!XA(wA))throw new TypeError;ne(JA)||(JA=Ge(JA));var Me=qA(wA,JA,!1);if(ne(Me)||!Me.delete(pA))return!1;if(Me.size>0)return!0;var Se=G.get(wA);return Se.delete(JA),Se.size>0||G.delete(wA),!0}e("deleteMetadata",aA);function nA(pA,wA){for(var JA=pA.length-1;JA>=0;--JA){var Me=pA[JA],Se=Me(wA);if(!ne(Se)&&!HA(Se)){if(!ar(Se))throw new TypeError;wA=Se}}return wA}function lA(pA,wA,JA,Me){for(var Se=pA.length-1;Se>=0;--Se){var _t=pA[Se],qe=_t(wA,JA,Me);if(!ne(qe)&&!HA(qe)){if(!XA(qe))throw new TypeError;Me=qe}}return Me}function qA(pA,wA,JA){var Me=G.get(pA);if(ne(Me)){if(!JA)return;Me=new p,G.set(pA,Me)}var Se=Me.get(wA);if(ne(Se)){if(!JA)return;Se=new p,Me.set(wA,Se)}return Se}function UA(pA,wA,JA){var Me=le(pA,wA,JA);if(Me)return!0;var Se=er(wA);return HA(Se)?!1:UA(pA,Se,JA)}function le(pA,wA,JA){var Me=qA(wA,JA,!1);return ne(Me)?!1:ve(Me.has(pA))}function yA(pA,wA,JA){var Me=le(pA,wA,JA);if(Me)return we(pA,wA,JA);var Se=er(wA);if(!HA(Se))return yA(pA,Se,JA)}function we(pA,wA,JA){var Me=qA(wA,JA,!1);if(!ne(Me))return Me.get(pA)}function ge(pA,wA,JA,Me){var Se=qA(JA,Me,!0);Se.set(pA,wA)}function ot(pA,wA){var JA=ue(pA,wA),Me=er(pA);if(Me===null)return JA;var Se=ot(Me,wA);if(Se.length<=0)return JA;if(JA.length<=0)return Se;for(var _t=new h,qe=[],BA=0,dA=JA;BA<dA.length;BA++){var DA=dA[BA],jt=_t.has(DA);jt||(_t.add(DA),qe.push(DA))}for(var Ga=0,Pi=Se;Ga<Pi.length;Ga++){var DA=Pi[Ga],jt=_t.has(DA);jt||(_t.add(DA),qe.push(DA))}return qe}function ue(pA,wA){var JA=[],Me=qA(pA,wA,!1);if(ne(Me))return JA;for(var Se=Me.keys(),_t=Ba(Se),qe=0;;){var BA=aj(_t);if(!BA)return JA.length=qe,JA;var dA=rj(BA);try{JA[qe]=dA}catch(DA){try{cj(_t)}finally{throw DA}}qe++}}function IA(pA){if(pA===null)return 1;switch(typeof pA){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return pA===null?1:6;default:return 6}}function ne(pA){return pA===void 0}function HA(pA){return pA===null}function KA(pA){return typeof pA=="symbol"}function XA(pA){return typeof pA=="object"?pA!==null:typeof pA=="function"}function st(pA,wA){switch(IA(pA)){case 0:return pA;case 1:return pA;case 2:return pA;case 3:return pA;case 4:return pA;case 5:return pA}var JA=wA===3?"string":wA===5?"number":"default",Me=zr(pA,a);if(Me!==void 0){var Se=Me.call(pA,JA);if(XA(Se))throw new TypeError;return Se}return or(pA,JA==="default"?"number":JA)}function or(pA,wA){if(wA==="string"){var JA=pA.toString;if(wt(JA)){var Me=JA.call(pA);if(!XA(Me))return Me}var Se=pA.valueOf;if(wt(Se)){var Me=Se.call(pA);if(!XA(Me))return Me}}else{var Se=pA.valueOf;if(wt(Se)){var Me=Se.call(pA);if(!XA(Me))return Me}var _t=pA.toString;if(wt(_t)){var Me=_t.call(pA);if(!XA(Me))return Me}}throw new TypeError}function ve(pA){return!!pA}function gt(pA){return""+pA}function Ge(pA){var wA=st(pA,3);return KA(wA)?wA:gt(wA)}function It(pA){return Array.isArray?Array.isArray(pA):pA instanceof Object?pA instanceof Array:Object.prototype.toString.call(pA)==="[object Array]"}function wt(pA){return typeof pA=="function"}function ar(pA){return typeof pA=="function"}function Ot(pA){switch(IA(pA)){case 3:return!0;case 4:return!0;default:return!1}}function zr(pA,wA){var JA=pA[wA];if(JA!=null){if(!wt(JA))throw new TypeError;return JA}}function Ba(pA){var wA=zr(pA,j);if(!wt(wA))throw new TypeError;var JA=wA.call(pA);if(!XA(JA))throw new TypeError;return JA}function rj(pA){return pA.value}function aj(pA){var wA=pA.next();return wA.done?!1:wA}function cj(pA){var wA=pA.return;wA&&wA.call(pA)}function er(pA){var wA=Object.getPrototypeOf(pA);if(typeof pA!="function"||pA===c||wA!==c)return wA;var JA=pA.prototype,Me=JA&&Object.getPrototypeOf(JA);if(Me==null||Me===Object.prototype)return wA;var Se=Me.constructor;return typeof Se!="function"||Se===pA?wA:Se}function pr(){var pA={},wA=[],JA=function(){function qe(BA,dA,DA){this._index=0,this._keys=BA,this._values=dA,this._selector=DA}return qe.prototype["@@iterator"]=function(){return this},qe.prototype[j]=function(){return this},qe.prototype.next=function(){var BA=this._index;if(BA>=0&&BA<this._keys.length){var dA=this._selector(this._keys[BA],this._values[BA]);return BA+1>=this._keys.length?(this._index=-1,this._keys=wA,this._values=wA):this._index++,{value:dA,done:!1}}return{value:void 0,done:!0}},qe.prototype.throw=function(BA){throw this._index>=0&&(this._index=-1,this._keys=wA,this._values=wA),BA},qe.prototype.return=function(BA){return this._index>=0&&(this._index=-1,this._keys=wA,this._values=wA),{value:BA,done:!0}},qe}();return function(){function qe(){this._keys=[],this._values=[],this._cacheKey=pA,this._cacheIndex=-2}return Object.defineProperty(qe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),qe.prototype.has=function(BA){return this._find(BA,!1)>=0},qe.prototype.get=function(BA){var dA=this._find(BA,!1);return dA>=0?this._values[dA]:void 0},qe.prototype.set=function(BA,dA){var DA=this._find(BA,!0);return this._values[DA]=dA,this},qe.prototype.delete=function(BA){var dA=this._find(BA,!1);if(dA>=0){for(var DA=this._keys.length,jt=dA+1;jt<DA;jt++)this._keys[jt-1]=this._keys[jt],this._values[jt-1]=this._values[jt];return this._keys.length--,this._values.length--,BA===this._cacheKey&&(this._cacheKey=pA,this._cacheIndex=-2),!0}return!1},qe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=pA,this._cacheIndex=-2},qe.prototype.keys=function(){return new JA(this._keys,this._values,Me)},qe.prototype.values=function(){return new JA(this._keys,this._values,Se)},qe.prototype.entries=function(){return new JA(this._keys,this._values,_t)},qe.prototype["@@iterator"]=function(){return this.entries()},qe.prototype[j]=function(){return this.entries()},qe.prototype._find=function(BA,dA){return this._cacheKey!==BA&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=BA)),this._cacheIndex<0&&dA&&(this._cacheIndex=this._keys.length,this._keys.push(BA),this._values.push(void 0)),this._cacheIndex},qe}();function Me(qe,BA){return qe}function Se(qe,BA){return BA}function _t(qe,BA){return[qe,BA]}}function ua(){return function(){function pA(){this._map=new p}return Object.defineProperty(pA.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),pA.prototype.has=function(wA){return this._map.has(wA)},pA.prototype.add=function(wA){return this._map.set(wA,wA),this},pA.prototype.delete=function(wA){return this._map.delete(wA)},pA.prototype.clear=function(){this._map.clear()},pA.prototype.keys=function(){return this._map.keys()},pA.prototype.values=function(){return this._map.values()},pA.prototype.entries=function(){return this._map.entries()},pA.prototype["@@iterator"]=function(){return this.keys()},pA.prototype[j]=function(){return this.keys()},pA}()}function pn(){var pA=16,wA=s.create(),JA=Me();return function(){function dA(){this._key=Me()}return dA.prototype.has=function(DA){var jt=Se(DA,!1);return jt!==void 0?s.has(jt,this._key):!1},dA.prototype.get=function(DA){var jt=Se(DA,!1);return jt!==void 0?s.get(jt,this._key):void 0},dA.prototype.set=function(DA,jt){var Ga=Se(DA,!0);return Ga[this._key]=jt,this},dA.prototype.delete=function(DA){var jt=Se(DA,!1);return jt!==void 0?delete jt[this._key]:!1},dA.prototype.clear=function(){this._key=Me()},dA}();function Me(){var dA;do dA="@@WeakMap@@"+BA();while(s.has(wA,dA));return wA[dA]=!0,dA}function Se(dA,DA){if(!t.call(dA,JA)){if(!DA)return;Object.defineProperty(dA,JA,{value:s.create()})}return dA[JA]}function _t(dA,DA){for(var jt=0;jt<DA;++jt)dA[jt]=Math.random()*255|0;return dA}function qe(dA){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(dA)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(dA)):_t(new Uint8Array(dA),dA):_t(new Array(dA),dA)}function BA(){var dA=qe(pA);dA[6]=dA[6]&79|64,dA[8]=dA[8]&191|128;for(var DA="",jt=0;jt<pA;++jt){var Ga=dA[jt];(jt===4||jt===6||jt===8)&&(DA+="-"),Ga<16&&(DA+="0"),DA+=Ga.toString(16).toLowerCase()}return DA}}function ft(pA){return pA.__=void 0,delete pA.__,pA}})})(jfA||(jfA={}));self.browser||(self.browser=ifA());var SJ="contentScriptMetadata";var YA=AA(OA()),Iue=YA.union([YA.literal("none"),YA.literal("name"),YA.literal("honorific-prefix"),YA.literal("given-name"),YA.literal("additional-name"),YA.literal("family-name"),YA.literal("honorific-suffix"),YA.literal("nickname"),YA.literal("organization-title"),YA.literal("username"),YA.literal("new-password"),YA.literal("current-password"),YA.literal("one-time-code"),YA.literal("organization"),YA.literal("street-address"),YA.literal("address-line1"),YA.literal("address-line2"),YA.literal("address-line3"),YA.literal("address-level1"),YA.literal("address-level2"),YA.literal("address-level3"),YA.literal("address-level4"),YA.literal("country"),YA.literal("country-name"),YA.literal("postal-code"),YA.literal("cc-name"),YA.literal("cc-given-name"),YA.literal("cc-additional-name"),YA.literal("cc-family-name"),YA.literal("cc-number"),YA.literal("cc-exp"),YA.literal("cc-exp-month"),YA.literal("cc-exp-year"),YA.literal("cc-csc"),YA.literal("cc-type"),YA.literal("transaction-currency"),YA.literal("transaction-amount"),YA.literal("language"),YA.literal("bday"),YA.literal("bday-day"),YA.literal("bday-month"),YA.literal("bday-year"),YA.literal("sex"),YA.literal("url"),YA.literal("photo"),YA.literal("tel"),YA.literal("tel-country-code"),YA.literal("tel-national"),YA.literal("tel-area-code"),YA.literal("tel-local"),YA.literal("tel-local-prefix"),YA.literal("tel-local-suffix"),YA.literal("tel-extension"),YA.literal("email"),YA.literal("impp"),YA.literal("crypto-address"),YA.literal("crypto-recovery-seed")]),Pue=YA.union([YA.literal("001"),YA.literal("002"),YA.literal("003"),YA.literal("004"),YA.literal("005"),YA.literal("006"),YA.literal("100"),YA.literal("101"),YA.literal("102"),YA.literal("103"),YA.literal("104"),YA.literal("105"),YA.literal("106"),YA.literal("107"),YA.literal("108"),YA.literal("109"),YA.literal("110"),YA.literal("111"),YA.literal("112"),YA.literal("113"),YA.literal("114"),YA.literal("115")]),lpt=YA.union([YA.literal("login"),YA.literal("credit-card"),YA.literal("secure-note"),YA.literal("identity"),YA.literal("password"),YA.literal("document"),YA.literal("software-license"),YA.literal("bank-account"),YA.literal("database"),YA.literal("driver-license"),YA.literal("outdoor-license"),YA.literal("membership"),YA.literal("passport"),YA.literal("reward-program"),YA.literal("ssn"),YA.literal("wireless-router"),YA.literal("server"),YA.literal("email"),YA.literal("api-credential"),YA.literal("medical-record"),YA.literal("ssh"),YA.literal("crypto-wallet")]),Sue=YA.readonly(YA.strict({title:YA.string,fields:YA.array(YA.readonly(YA.strict({autocomplete:Iue,value:YA.union([YA.string,YA.array(YA.readonly(YA.number)),YA.undefined])}))),notes:YA.union([YA.string,YA.undefined])})),Cue=YA.readonly(YA.strict({type:Pue,saveRequest:Sue})),gBA=YA.union([YA.readonly(YA.strict({name:YA.literal("hello")})),YA.readonly(YA.strict({name:YA.literal("create-item"),data:Cue}))]),Oue=YA.readonly(YA.strict({buildNumber:YA.number})),Tue=YA.readonly(YA.strict({saved:YA.boolean})),cpt=YA.union([YA.readonly(YA.strict({name:YA.literal("hello"),data:Oue})),YA.readonly(YA.strict({name:YA.literal("create-item"),data:Tue}))]);function fBA(A){return A&&typeof A=="object"&&["Success","Error"].includes(A.type)}var Vx="OPShouldLockNotification",rd="OPDidLockNotification",Bo="OPDidUnlockNotification",H6="OPFeatureFlagsUpdatedNotification",aI="AccountHandlerDidLockNotification",jI="AccountHandlerAccountDestroyedNotification",gF="UpdateAccounts",fF="AccountRemoved",rh="AccountAdded",Xx="OPDidConnectToDesktop",$r="001",qj="002",BBA="003",ti="004",V6="005",k5="006",EBA="099",nI="100",xBA="101",bBA="102",h5="103",yBA="104",vBA="105",g5="106",FBA="0$$",GBA="107",f5="108",wBA="109",qBA="110",$BA="111",Zc="112",IBA="113",Sl="114",BF="115",PBA="116";var SBA="912",eY="P",tY="E",EF="B",xF="F",B5="I";var E5="_execute_action",x5="_execute_browser_action",b5="lock";function Due(A){return browser.runtime.getManifest().manifest_version===A}function $j(){return Due(3)}var CBA={ar:"ar-arab-eg","az-arab":"az-arab-ir","az-ir":"az-arab-ir",be:"be-cyrl-by",da:"da-latn-dk",el:"el-grek-gr",en:"en-latn-us",fa:"fa-arab-ir",ja:"ja-jpan-jp",ko:"ko-kore-kr",pt:"pt-latn-br",sr:"sr-cyrl-rs","sr-ru":"sr-latn-ru",sv:"sv-latn-se",ta:"ta-taml-in",uk:"uk-cyrl-ua",zh:"zh-hans-cn","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-gb":"zh-hant-gb","zh-us":"zh-hant-us"},Mue=["az","bg","cs","de","es","fi","fr","hu","it","lt","lv","nl","pl","ro","ru"];function OBA(A){if(CBA.hasOwnProperty(A))return new Up(CBA[A]);let e=new Up(A);return Mue.includes(e.language)?(e.region=e.language.toUpperCase(),e):null}var Rue="([a-z]{2,3}|\\*)",Kue="(?:-([a-z]{4}|\\*))",Lue="(?:-([a-z]{2}|\\*))",Nue="(?:-([a-z]{3}|\\*))",Uue=new RegExp(`^${Rue}${Kue}?${Lue}?${Nue}?$`,"i"),y5=["language","script","region","variant"],Up=class{constructor(e){let t=Uue.exec(e.replace(/_/g,"-"));if(!t){this.isWellFormed=!1;return}let[,r,a,j,n]=t;r&&(this.language=r.toLowerCase()),a&&(this.script=a[0].toUpperCase()+a.slice(1)),j&&(this.region=j.toUpperCase()),this.variant=n,this.isWellFormed=!0}isEqual(e){return y5.every(t=>this[t]===e[t])}matches(e,t=!1,r=!1){return y5.every(a=>t&&this[a]===void 0||r&&e[a]===void 0||this[a]===e[a])}toString(){return y5.map(e=>this[e]).filter(e=>e!==void 0).join("-")}clearVariants(){this.variant=void 0}clearRegion(){this.region=void 0}addLikelySubtags(){let e=OBA(this.toString().toLowerCase());return e?(y5.forEach(t=>this[t]=e[t]),!0):!1}};function rY(A,e,t){let r=new Set,a=new Map;for(let j of e)new Up(j).isWellFormed&&a.set(j,new Up(j));A:for(let j of A){let n=j.toLowerCase(),i=new Up(n);if(i.language!==void 0){for(let o of a.keys())if(n===o.toLowerCase()){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}for(let[o,s]of a.entries())if(s.matches(i,!0,!1)){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}if(i.addLikelySubtags()){for(let[o,s]of a.entries())if(s.matches(i,!0,!1)){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}}i.clearVariants();for(let[o,s]of a.entries())if(s.matches(i,!0,!0)){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}if(i.clearRegion(),i.addLikelySubtags()){for(let[o,s]of a.entries())if(s.matches(i,!0,!1)){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}}i.clearRegion();for(let[o,s]of a.entries())if(s.matches(i,!0,!0)){if(r.add(o),a.delete(o),t==="lookup")return Array.from(r);if(t==="filtering")continue;continue A}}}return Array.from(r)}function TBA(A,e,t,r,a){let j=A[e];if(j!==void 0){if(t==="boolean"?j=new Boolean(j):t==="string"&&(j=String(j)),r!==void 0&&r.indexOf(j)===-1)throw new Error("Invalid option value");return j}return a}function v5(A,e,t={}){let r=TBA(t,"defaultLocale","string"),a=TBA(t,"strategy","string",["filtering","matching","lookup"],"filtering");if(a==="lookup"&&!r)throw new Error("defaultLocale cannot be undefined for strategy `lookup`");let j=Array.from(Object(A)).map(o=>String(o)),n=Array.from(Object(e)).map(o=>String(o)),i=rY(j,n,a);return a==="lookup"?i.length===0&&i.push(r):r&&!i.includes(r)&&i.push(r),i}var SY={};Na(SY,{Browser:()=>Ij,OperatingSystem:()=>Fn,getBrowserInfo:()=>tG,getHighEntropyBrowserInfo:()=>DyA,getLimitedBrowserInfo:()=>MyA,getWindowsVersionFromClientHint:()=>zyA});var Hue=typeof global=="object"&&global&&global.Object===Object&&global,F5=Hue;var Vue=typeof self=="object"&&self&&self.Object===Object&&self,Xue=F5||Vue||Function("return this")(),Mj=Xue;var Wue=Mj.Symbol,bs=Wue;var _BA=Object.prototype,Jue=_BA.hasOwnProperty,Yue=_BA.toString,iI=bs?bs.toStringTag:void 0;function Zue(A){var e=Jue.call(A,iI),t=A[iI];try{A[iI]=void 0;var r=!0}catch{}var a=Yue.call(A);return r&&(e?A[iI]=t:delete A[iI]),a}var DBA=Zue;var Que=Object.prototype,Ade=Que.toString;function ede(A){return Ade.call(A)}var zBA=ede;var tde="[object Null]",rde="[object Undefined]",MBA=bs?bs.toStringTag:void 0;function ade(A){return A==null?A===void 0?rde:tde:MBA&&MBA in Object(A)?DBA(A):zBA(A)}var as=ade;function jde(A){return A!=null&&typeof A=="object"}var Tn=jde;var nde="[object Symbol]";function ide(A){return typeof A=="symbol"||Tn(A)&&as(A)==nde}var hm=ide;function ode(A,e){for(var t=-1,r=A==null?0:A.length,a=Array(r);++t<r;)a[t]=e(A[t],t,A);return a}var ys=ode;var sde=Array.isArray,qa=sde;var lde=1/0,RBA=bs?bs.prototype:void 0,KBA=RBA?RBA.toString:void 0;function LBA(A){if(typeof A=="string")return A;if(qa(A))return ys(A,LBA)+"";if(hm(A))return KBA?KBA.call(A):"";var e=A+"";return e=="0"&&1/A==-lde?"-0":e}var jd=LBA;var cde=/\s/;function ude(A){for(var e=A.length;e--&&cde.test(A.charAt(e)););return e}var NBA=ude;var dde=/^\s+/;function mde(A){return A&&A.slice(0,NBA(A)+1).replace(dde,"")}var G5=mde;function pde(A){var e=typeof A;return A!=null&&(e=="object"||e=="function")}var an=pde;var UBA=NaN,kde=/^[-+]0x[0-9a-f]+$/i,hde=/^0b[01]+$/i,gde=/^0o[0-7]+$/i,fde=parseInt;function Bde(A){if(typeof A=="number")return A;if(hm(A))return UBA;if(an(A)){var e=typeof A.valueOf=="function"?A.valueOf():A;A=an(e)?e+"":e}if(typeof A!="string")return A===0?A:+A;A=G5(A);var t=hde.test(A);return t||gde.test(A)?fde(A.slice(2),t?2:8):kde.test(A)?UBA:+A}var gm=Bde;var HBA=1/0,Ede=17976931348623157e292;function xde(A){if(!A)return A===0?A:0;if(A=gm(A),A===HBA||A===-HBA){var e=A<0?-1:1;return e*Ede}return A===A?A:0}var VBA=xde;function bde(A){var e=VBA(A),t=e%1;return e===e?t?e-t:e:0}var el=bde;function yde(A){return A}var nd=yde;var vde="[object AsyncFunction]",Fde="[object Function]",Gde="[object GeneratorFunction]",wde="[object Proxy]";function qde(A){if(!an(A))return!1;var e=as(A);return e==Fde||e==Gde||e==vde||e==wde}var bF=qde;var $de=Mj["__core-js_shared__"],w5=$de;var XBA=function(){var A=/[^.]+$/.exec(w5&&w5.keys&&w5.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}();function Ide(A){return!!XBA&&XBA in A}var WBA=Ide;var Pde=Function.prototype,Sde=Pde.toString;function Cde(A){if(A!=null){try{return Sde.call(A)}catch{}try{return A+""}catch{}}return""}var ah=Cde;var Ode=/[\\^$.*+?()[\]{}|]/g,Tde=/^\[object .+?Constructor\]$/,_de=Function.prototype,Dde=Object.prototype,zde=_de.toString,Mde=Dde.hasOwnProperty,Rde=RegExp("^"+zde.call(Mde).replace(Ode,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kde(A){if(!an(A)||WBA(A))return!1;var e=bF(A)?Rde:Tde;return e.test(ah(A))}var JBA=Kde;function Lde(A,e){return A?.[e]}var YBA=Lde;function Nde(A,e){var t=YBA(A,e);return JBA(t)?t:void 0}var X6=Nde;var Ude=X6(Mj,"WeakMap"),Wx=Ude;var Hde=Wx&&new Wx,yF=Hde;var Vde=yF?function(A,e){return yF.set(A,e),A}:nd,q5=Vde;var ZBA=Object.create,Xde=function(){function A(){}return function(e){if(!an(e))return{};if(ZBA)return ZBA(e);A.prototype=e;var t=new A;return A.prototype=void 0,t}}(),hf=Xde;function Wde(A){return function(){var e=arguments;switch(e.length){case 0:return new A;case 1:return new A(e[0]);case 2:return new A(e[0],e[1]);case 3:return new A(e[0],e[1],e[2]);case 4:return new A(e[0],e[1],e[2],e[3]);case 5:return new A(e[0],e[1],e[2],e[3],e[4]);case 6:return new A(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new A(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=hf(A.prototype),r=A.apply(t,e);return an(r)?r:t}}var jh=Wde;var Jde=1;function Yde(A,e,t){var r=e&Jde,a=jh(A);function j(){var n=this&&this!==Mj&&this instanceof j?a:A;return n.apply(r?t:this,arguments)}return j}var QBA=Yde;function Zde(A,e,t){switch(t.length){case 0:return A.call(e);case 1:return A.call(e,t[0]);case 2:return A.call(e,t[0],t[1]);case 3:return A.call(e,t[0],t[1],t[2])}return A.apply(e,t)}var gf=Zde;var Qde=Math.max;function Ame(A,e,t,r){for(var a=-1,j=A.length,n=t.length,i=-1,o=e.length,s=Qde(j-n,0),c=Array(o+s),u=!r;++i<o;)c[i]=e[i];for(;++a<n;)(u||a<j)&&(c[t[a]]=A[a]);for(;s--;)c[i++]=A[a++];return c}var $5=Ame;var eme=Math.max;function tme(A,e,t,r){for(var a=-1,j=A.length,n=-1,i=t.length,o=-1,s=e.length,c=eme(j-i,0),u=Array(c+s),p=!r;++a<c;)u[a]=A[a];for(var h=a;++o<s;)u[h+o]=e[o];for(;++n<i;)(p||a<j)&&(u[h+t[n]]=A[a++]);return u}var I5=tme;function rme(A,e){for(var t=A.length,r=0;t--;)A[t]===e&&++r;return r}var AEA=rme;function ame(){}var vF=ame;var jme=4294967295;function P5(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jme,this.__views__=[]}P5.prototype=hf(vF.prototype);P5.prototype.constructor=P5;var FF=P5;function nme(){}var S5=nme;var ime=yF?function(A){return yF.get(A)}:S5,C5=ime;var ome={},aY=ome;var sme=Object.prototype,lme=sme.hasOwnProperty;function cme(A){for(var e=A.name+"",t=aY[e],r=lme.call(aY,e)?t.length:0;r--;){var a=t[r],j=a.func;if(j==null||j==A)return a.name}return e}var eEA=cme;function O5(A,e){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}O5.prototype=hf(vF.prototype);O5.prototype.constructor=O5;var oI=O5;function ume(A,e){var t=-1,r=A.length;for(e||(e=Array(r));++t<r;)e[t]=A[t];return e}var ff=ume;function dme(A){if(A instanceof FF)return A.clone();var e=new oI(A.__wrapped__,A.__chain__);return e.__actions__=ff(A.__actions__),e.__index__=A.__index__,e.__values__=A.__values__,e}var tEA=dme;var mme=Object.prototype,pme=mme.hasOwnProperty;function T5(A){if(Tn(A)&&!qa(A)&&!(A instanceof FF)){if(A instanceof oI)return A;if(pme.call(A,"__wrapped__"))return tEA(A)}return new oI(A)}T5.prototype=vF.prototype;T5.prototype.constructor=T5;var rEA=T5;function kme(A){var e=eEA(A),t=rEA[e];if(typeof t!="function"||!(e in FF.prototype))return!1;if(A===t)return!0;var r=C5(t);return!!r&&A===r[0]}var aEA=kme;var hme=800,gme=16,fme=Date.now;function Bme(A){var e=0,t=0;return function(){var r=fme(),a=gme-(r-t);if(t=r,a>0){if(++e>=hme)return arguments[0]}else e=0;return A.apply(void 0,arguments)}}var _5=Bme;var Eme=_5(q5),D5=Eme;var xme=/\{\n\/\* \[wrapped with (.+)\] \*/,bme=/,? & /;function yme(A){var e=A.match(xme);return e?e[1].split(bme):[]}var jEA=yme;var vme=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Fme(A,e){var t=e.length;if(!t)return A;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),A.replace(vme,`{
/* [wrapped with `+e+`] */
`)}var nEA=Fme;function Gme(A){return function(){return A}}var iEA=Gme;var wme=function(){try{var A=X6(Object,"defineProperty");return A({},"",{}),A}catch{}}(),GF=wme;var qme=GF?function(A,e){return GF(A,"toString",{configurable:!0,enumerable:!1,value:iEA(e),writable:!0})}:nd,oEA=qme;var $me=_5(oEA),wF=$me;function Ime(A,e){for(var t=-1,r=A==null?0:A.length;++t<r&&e(A[t],t,A)!==!1;);return A}var z5=Ime;function Pme(A,e,t,r){for(var a=A.length,j=t+(r?1:-1);r?j--:++j<a;)if(e(A[j],j,A))return j;return-1}var M5=Pme;function Sme(A){return A!==A}var sEA=Sme;function Cme(A,e,t){for(var r=t-1,a=A.length;++r<a;)if(A[r]===e)return r;return-1}var lEA=Cme;function Ome(A,e,t){return e===e?lEA(A,e,t):M5(A,sEA,t)}var Bf=Ome;function Tme(A,e){var t=A==null?0:A.length;return!!t&&Bf(A,e,0)>-1}var R5=Tme;var _me=1,Dme=2,zme=8,Mme=16,Rme=32,Kme=64,Lme=128,Nme=256,Ume=512,Hme=[["ary",Lme],["bind",_me],["bindKey",Dme],["curry",zme],["curryRight",Mme],["flip",Ume],["partial",Rme],["partialRight",Kme],["rearg",Nme]];function Vme(A,e){return z5(Hme,function(t){var r="_."+t[0];e&t[1]&&!R5(A,r)&&A.push(r)}),A.sort()}var cEA=Vme;function Xme(A,e,t){var r=e+"";return wF(A,nEA(r,cEA(jEA(r),t)))}var K5=Xme;var Wme=1,Jme=2,Yme=4,Zme=8,uEA=32,dEA=64;function Qme(A,e,t,r,a,j,n,i,o,s){var c=e&Zme,u=c?n:void 0,p=c?void 0:n,h=c?j:void 0,f=c?void 0:j;e|=c?uEA:dEA,e&=~(c?dEA:uEA),e&Yme||(e&=~(Wme|Jme));var G=[A,e,a,h,u,f,p,i,o,s],w=t.apply(void 0,G);return aEA(A)&&D5(w,G),w.placeholder=r,K5(w,A,e)}var L5=Qme;function Ape(A){var e=A;return e.placeholder}var N5=Ape;var epe=9007199254740991,tpe=/^(?:0|[1-9]\d*)$/;function rpe(A,e){var t=typeof A;return e=e??epe,!!e&&(t=="number"||t!="symbol"&&tpe.test(A))&&A>-1&&A%1==0&&A<e}var Hp=rpe;var ape=Math.min;function jpe(A,e){for(var t=A.length,r=ape(e.length,t),a=ff(A);r--;){var j=e[r];A[r]=Hp(j,t)?a[j]:void 0}return A}var mEA=jpe;var pEA="__lodash_placeholder__";function npe(A,e){for(var t=-1,r=A.length,a=0,j=[];++t<r;){var n=A[t];(n===e||n===pEA)&&(A[t]=pEA,j[a++]=t)}return j}var Jx=npe;var ipe=1,ope=2,spe=8,lpe=16,cpe=128,upe=512;function kEA(A,e,t,r,a,j,n,i,o,s){var c=e&cpe,u=e&ipe,p=e&ope,h=e&(spe|lpe),f=e&upe,G=p?void 0:jh(A);function w(){for(var y=arguments.length,E=Array(y),$=y;$--;)E[$]=arguments[$];if(h)var T=N5(w),O=AEA(E,T);if(r&&(E=$5(E,r,a,h)),j&&(E=I5(E,j,n,h)),y-=O,h&&y<s){var I=Jx(E,T);return L5(A,e,kEA,w.placeholder,t,E,I,i,o,s-y)}var q=u?t:this,K=p?q[A]:A;return y=E.length,i?E=mEA(E,i):f&&y>1&&E.reverse(),c&&o<y&&(E.length=o),this&&this!==Mj&&this instanceof w&&(K=G||jh(K)),K.apply(q,E)}return w}var U5=kEA;function dpe(A,e,t){var r=jh(A);function a(){for(var j=arguments.length,n=Array(j),i=j,o=N5(a);i--;)n[i]=arguments[i];var s=j<3&&n[0]!==o&&n[j-1]!==o?[]:Jx(n,o);if(j-=s.length,j<t)return L5(A,e,U5,a.placeholder,void 0,n,s,void 0,void 0,t-j);var c=this&&this!==Mj&&this instanceof a?r:A;return gf(c,this,n)}return a}var hEA=dpe;var mpe=1;function ppe(A,e,t,r){var a=e&mpe,j=jh(A);function n(){for(var i=-1,o=arguments.length,s=-1,c=r.length,u=Array(c+o),p=this&&this!==Mj&&this instanceof n?j:A;++s<c;)u[s]=r[s];for(;o--;)u[s++]=arguments[++i];return gf(p,a?t:this,u)}return n}var gEA=ppe;var fEA="__lodash_placeholder__",jY=1,kpe=2,hpe=4,BEA=8,sI=128,EEA=256,gpe=Math.min;function fpe(A,e){var t=A[1],r=e[1],a=t|r,j=a<(jY|kpe|sI),n=r==sI&&t==BEA||r==sI&&t==EEA&&A[7].length<=e[8]||r==(sI|EEA)&&e[7].length<=e[8]&&t==BEA;if(!(j||n))return A;r&jY&&(A[2]=e[2],a|=t&jY?0:hpe);var i=e[3];if(i){var o=A[3];A[3]=o?$5(o,i,e[4]):i,A[4]=o?Jx(A[3],fEA):e[4]}return i=e[5],i&&(o=A[5],A[5]=o?I5(o,i,e[6]):i,A[6]=o?Jx(A[5],fEA):e[6]),i=e[7],i&&(A[7]=i),r&sI&&(A[8]=A[8]==null?e[8]:gpe(A[8],e[8])),A[9]==null&&(A[9]=e[9]),A[0]=e[0],A[1]=a,A}var xEA=fpe;var Bpe="Expected a function",bEA=1,Epe=2,nY=8,iY=16,oY=32,yEA=64,vEA=Math.max;function xpe(A,e,t,r,a,j,n,i){var o=e&Epe;if(!o&&typeof A!="function")throw new TypeError(Bpe);var s=r?r.length:0;if(s||(e&=~(oY|yEA),r=a=void 0),n=n===void 0?n:vEA(el(n),0),i=i===void 0?i:el(i),s-=a?a.length:0,e&yEA){var c=r,u=a;r=a=void 0}var p=o?void 0:C5(A),h=[A,e,t,r,a,c,u,j,n,i];if(p&&xEA(h,p),A=h[0],e=h[1],t=h[2],r=h[3],a=h[4],i=h[9]=h[9]===void 0?o?0:A.length:vEA(h[9]-s,0),!i&&e&(nY|iY)&&(e&=~(nY|iY)),!e||e==bEA)var f=QBA(A,e,t);else e==nY||e==iY?f=hEA(A,e,i):(e==oY||e==(bEA|oY))&&!a.length?f=gEA(A,e,t,r):f=U5.apply(void 0,h);var G=p?q5:D5;return K5(G(f,h),A,e)}var FEA=xpe;function bpe(A,e,t){e=="__proto__"&&GF?GF(A,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):A[e]=t}var Cl=bpe;function ype(A,e){return A===e||A!==A&&e!==e}var id=ype;var vpe=Object.prototype,Fpe=vpe.hasOwnProperty;function Gpe(A,e,t){var r=A[e];(!(Fpe.call(A,e)&&id(r,t))||t===void 0&&!(e in A))&&Cl(A,e,t)}var Ef=Gpe;function wpe(A,e,t,r){var a=!t;t||(t={});for(var j=-1,n=e.length;++j<n;){var i=e[j],o=r?r(t[i],A[i],i,t,A):void 0;o===void 0&&(o=A[i]),a?Cl(t,i,o):Ef(t,i,o)}return t}var Ol=wpe;var GEA=Math.max;function qpe(A,e,t){return e=GEA(e===void 0?A.length-1:e,0),function(){for(var r=arguments,a=-1,j=GEA(r.length-e,0),n=Array(j);++a<j;)n[a]=r[e+a];a=-1;for(var i=Array(e+1);++a<e;)i[a]=r[a];return i[e]=t(n),gf(A,this,i)}}var H5=qpe;function $pe(A,e){return wF(H5(A,e,nd),A+"")}var Vp=$pe;var Ipe=9007199254740991;function Ppe(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=Ipe}var qF=Ppe;function Spe(A){return A!=null&&qF(A.length)&&!bF(A)}var to=Spe;function Cpe(A,e,t){if(!an(t))return!1;var r=typeof e;return(r=="number"?to(t)&&Hp(e,t.length):r=="string"&&e in t)?id(t[e],A):!1}var Qc=Cpe;function Ope(A){return Vp(function(e,t){var r=-1,a=t.length,j=a>1?t[a-1]:void 0,n=a>2?t[2]:void 0;for(j=A.length>3&&typeof j=="function"?(a--,j):void 0,n&&Qc(t[0],t[1],n)&&(j=a<3?void 0:j,a=1),e=Object(e);++r<a;){var i=t[r];i&&A(e,i,r,j)}return e})}var $F=Ope;var Tpe=Object.prototype;function _pe(A){var e=A&&A.constructor,t=typeof e=="function"&&e.prototype||Tpe;return A===t}var Xp=_pe;function Dpe(A,e){for(var t=-1,r=Array(A);++t<A;)r[t]=e(t);return r}var IF=Dpe;var zpe="[object Arguments]";function Mpe(A){return Tn(A)&&as(A)==zpe}var sY=Mpe;var wEA=Object.prototype,Rpe=wEA.hasOwnProperty,Kpe=wEA.propertyIsEnumerable,Lpe=sY(function(){return arguments}())?sY:function(A){return Tn(A)&&Rpe.call(A,"callee")&&!Kpe.call(A,"callee")},fm=Lpe;function Npe(){return!1}var qEA=Npe;var PEA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$EA=PEA&&typeof module=="object"&&module&&!module.nodeType&&module,Upe=$EA&&$EA.exports===PEA,IEA=Upe?Mj.Buffer:void 0,Hpe=IEA?IEA.isBuffer:void 0,Vpe=Hpe||qEA,Bm=Vpe;var Xpe="[object Arguments]",Wpe="[object Array]",Jpe="[object Boolean]",Ype="[object Date]",Zpe="[object Error]",Qpe="[object Function]",Ake="[object Map]",eke="[object Number]",tke="[object Object]",rke="[object RegExp]",ake="[object Set]",jke="[object String]",nke="[object WeakMap]",ike="[object ArrayBuffer]",oke="[object DataView]",ske="[object Float32Array]",lke="[object Float64Array]",cke="[object Int8Array]",uke="[object Int16Array]",dke="[object Int32Array]",mke="[object Uint8Array]",pke="[object Uint8ClampedArray]",kke="[object Uint16Array]",hke="[object Uint32Array]",ri={};ri[ske]=ri[lke]=ri[cke]=ri[uke]=ri[dke]=ri[mke]=ri[pke]=ri[kke]=ri[hke]=!0;ri[Xpe]=ri[Wpe]=ri[ike]=ri[Jpe]=ri[oke]=ri[Ype]=ri[Zpe]=ri[Qpe]=ri[Ake]=ri[eke]=ri[tke]=ri[rke]=ri[ake]=ri[jke]=ri[nke]=!1;function gke(A){return Tn(A)&&qF(A.length)&&!!ri[as(A)]}var SEA=gke;function fke(A){return function(e){return A(e)}}var od=fke;var CEA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lI=CEA&&typeof module=="object"&&module&&!module.nodeType&&module,Bke=lI&&lI.exports===CEA,lY=Bke&&F5.process,Eke=function(){try{var A=lI&&lI.require&&lI.require("util").types;return A||lY&&lY.binding&&lY.binding("util")}catch{}}(),l6=Eke;var OEA=l6&&l6.isTypedArray,xke=OEA?od(OEA):SEA,xf=xke;var bke=Object.prototype,yke=bke.hasOwnProperty;function vke(A,e){var t=qa(A),r=!t&&fm(A),a=!t&&!r&&Bm(A),j=!t&&!r&&!a&&xf(A),n=t||r||a||j,i=n?IF(A.length,String):[],o=i.length;for(var s in A)(e||yke.call(A,s))&&!(n&&(s=="length"||a&&(s=="offset"||s=="parent")||j&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||Hp(s,o)))&&i.push(s);return i}var V5=vke;function Fke(A,e){return function(t){return A(e(t))}}var X5=Fke;var Gke=X5(Object.keys,Object),TEA=Gke;var wke=Object.prototype,qke=wke.hasOwnProperty;function $ke(A){if(!Xp(A))return TEA(A);var e=[];for(var t in Object(A))qke.call(A,t)&&t!="constructor"&&e.push(t);return e}var PF=$ke;function Ike(A){return to(A)?V5(A):PF(A)}var vn=Ike;var Pke=Object.prototype,Ske=Pke.hasOwnProperty,Cke=$F(function(A,e){if(Xp(e)||to(e)){Ol(e,vn(e),A);return}for(var t in e)Ske.call(e,t)&&Ef(A,t,e[t])}),cI=Cke;function Oke(A){var e=[];if(A!=null)for(var t in Object(A))e.push(t);return e}var _EA=Oke;var Tke=Object.prototype,_ke=Tke.hasOwnProperty;function Dke(A){if(!an(A))return _EA(A);var e=Xp(A),t=[];for(var r in A)r=="constructor"&&(e||!_ke.call(A,r))||t.push(r);return t}var DEA=Dke;function zke(A){return to(A)?V5(A,!0):DEA(A)}var sd=zke;var Mke=$F(function(A,e,t,r){Ol(e,vn(e),A,r)}),cY=Mke;var Rke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kke=/^\w*$/;function Lke(A,e){if(qa(A))return!1;var t=typeof A;return t=="number"||t=="symbol"||t=="boolean"||A==null||hm(A)?!0:Kke.test(A)||!Rke.test(A)||e!=null&&A in Object(e)}var SF=Lke;var Nke=X6(Object,"create"),nh=Nke;function Uke(){this.__data__=nh?nh(null):{},this.size=0}var zEA=Uke;function Hke(A){var e=this.has(A)&&delete this.__data__[A];return this.size-=e?1:0,e}var MEA=Hke;var Vke="__lodash_hash_undefined__",Xke=Object.prototype,Wke=Xke.hasOwnProperty;function Jke(A){var e=this.__data__;if(nh){var t=e[A];return t===Vke?void 0:t}return Wke.call(e,A)?e[A]:void 0}var REA=Jke;var Yke=Object.prototype,Zke=Yke.hasOwnProperty;function Qke(A){var e=this.__data__;return nh?e[A]!==void 0:Zke.call(e,A)}var KEA=Qke;var A7e="__lodash_hash_undefined__";function e7e(A,e){var t=this.__data__;return this.size+=this.has(A)?0:1,t[A]=nh&&e===void 0?A7e:e,this}var LEA=e7e;function CF(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}CF.prototype.clear=zEA;CF.prototype.delete=MEA;CF.prototype.get=REA;CF.prototype.has=KEA;CF.prototype.set=LEA;var uY=CF;function t7e(){this.__data__=[],this.size=0}var NEA=t7e;function r7e(A,e){for(var t=A.length;t--;)if(id(A[t][0],e))return t;return-1}var bf=r7e;var a7e=Array.prototype,j7e=a7e.splice;function n7e(A){var e=this.__data__,t=bf(e,A);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():j7e.call(e,t,1),--this.size,!0}var UEA=n7e;function i7e(A){var e=this.__data__,t=bf(e,A);return t<0?void 0:e[t][1]}var HEA=i7e;function o7e(A){return bf(this.__data__,A)>-1}var VEA=o7e;function s7e(A,e){var t=this.__data__,r=bf(t,A);return r<0?(++this.size,t.push([A,e])):t[r][1]=e,this}var XEA=s7e;function OF(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}OF.prototype.clear=NEA;OF.prototype.delete=UEA;OF.prototype.get=HEA;OF.prototype.has=VEA;OF.prototype.set=XEA;var yf=OF;var l7e=X6(Mj,"Map"),vf=l7e;function c7e(){this.size=0,this.__data__={hash:new uY,map:new(vf||yf),string:new uY}}var WEA=c7e;function u7e(A){var e=typeof A;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?A!=="__proto__":A===null}var JEA=u7e;function d7e(A,e){var t=A.__data__;return JEA(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Ff=d7e;function m7e(A){var e=Ff(this,A).delete(A);return this.size-=e?1:0,e}var YEA=m7e;function p7e(A){return Ff(this,A).get(A)}var ZEA=p7e;function k7e(A){return Ff(this,A).has(A)}var QEA=k7e;function h7e(A,e){var t=Ff(this,A),r=t.size;return t.set(A,e),this.size+=t.size==r?0:1,this}var AxA=h7e;function TF(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var r=A[e];this.set(r[0],r[1])}}TF.prototype.clear=WEA;TF.prototype.delete=YEA;TF.prototype.get=ZEA;TF.prototype.has=QEA;TF.prototype.set=AxA;var Yx=TF;var g7e="Expected a function";function dY(A,e){if(typeof A!="function"||e!=null&&typeof e!="function")throw new TypeError(g7e);var t=function(){var r=arguments,a=e?e.apply(this,r):r[0],j=t.cache;if(j.has(a))return j.get(a);var n=A.apply(this,r);return t.cache=j.set(a,n)||j,n};return t.cache=new(dY.Cache||Yx),t}dY.Cache=Yx;var exA=dY;var f7e=500;function B7e(A){var e=exA(A,function(r){return t.size===f7e&&t.clear(),r}),t=e.cache;return e}var txA=B7e;var E7e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x7e=/\\(\\)?/g,b7e=txA(function(A){var e=[];return A.charCodeAt(0)===46&&e.push(""),A.replace(E7e,function(t,r,a,j){e.push(a?j.replace(x7e,"$1"):r||t)}),e}),rxA=b7e;function y7e(A){return A==null?"":jd(A)}var Ti=y7e;function v7e(A,e){return qa(A)?A:SF(A,e)?[A]:rxA(Ti(A))}var ld=v7e;var F7e=1/0;function G7e(A){if(typeof A=="string"||hm(A))return A;var e=A+"";return e=="0"&&1/A==-F7e?"-0":e}var cd=G7e;function w7e(A,e){e=ld(e,A);for(var t=0,r=e.length;A!=null&&t<r;)A=A[cd(e[t++])];return t&&t==r?A:void 0}var Wp=w7e;function q7e(A,e,t){var r=A==null?void 0:Wp(A,e);return r===void 0?t:r}var uI=q7e;function $7e(A,e){for(var t=-1,r=e.length,a=A.length;++t<r;)A[a+t]=e[t];return A}var _F=$7e;var axA=bs?bs.isConcatSpreadable:void 0;function I7e(A){return qa(A)||fm(A)||!!(axA&&A&&A[axA])}var jxA=I7e;function nxA(A,e,t,r,a){var j=-1,n=A.length;for(t||(t=jxA),a||(a=[]);++j<n;){var i=A[j];e>0&&t(i)?e>1?nxA(i,e-1,t,r,a):_F(a,i):r||(a[a.length]=i)}return a}var Gf=nxA;function P7e(A){var e=A==null?0:A.length;return e?Gf(A,1):[]}var Em=P7e;function S7e(A){return wF(H5(A,void 0,Em),A+"")}var W5=S7e;var C7e=X5(Object.getPrototypeOf,Object),DF=C7e;var O7e="[object Object]",T7e=Function.prototype,_7e=Object.prototype,ixA=T7e.toString,D7e=_7e.hasOwnProperty,z7e=ixA.call(Object);function M7e(A){if(!Tn(A)||as(A)!=O7e)return!1;var e=DF(A);if(e===null)return!0;var t=D7e.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ixA.call(t)==z7e}var J5=M7e;function R7e(A,e,t){var r=-1,a=A.length;e<0&&(e=-e>a?0:a+e),t=t>a?a:t,t<0&&(t+=a),a=e>t?0:t-e>>>0,e>>>=0;for(var j=Array(a);++r<a;)j[r]=A[r+e];return j}var zF=R7e;function K7e(A,e,t){var r=A.length;return t=t===void 0?r:t,!e&&t>=r?A:zF(A,e,t)}var MF=K7e;var L7e="\\ud800-\\udfff",N7e="\\u0300-\\u036f",U7e="\\ufe20-\\ufe2f",H7e="\\u20d0-\\u20ff",V7e=N7e+U7e+H7e,X7e="\\ufe0e\\ufe0f",W7e="\\u200d",J7e=RegExp("["+W7e+L7e+V7e+X7e+"]");function Y7e(A){return J7e.test(A)}var RF=Y7e;function Z7e(A){return A.split("")}var oxA=Z7e;var sxA="\\ud800-\\udfff",Q7e="\\u0300-\\u036f",Ahe="\\ufe20-\\ufe2f",ehe="\\u20d0-\\u20ff",the=Q7e+Ahe+ehe,rhe="\\ufe0e\\ufe0f",ahe="["+sxA+"]",mY="["+the+"]",pY="\\ud83c[\\udffb-\\udfff]",jhe="(?:"+mY+"|"+pY+")",lxA="[^"+sxA+"]",cxA="(?:\\ud83c[\\udde6-\\uddff]){2}",uxA="[\\ud800-\\udbff][\\udc00-\\udfff]",nhe="\\u200d",dxA=jhe+"?",mxA="["+rhe+"]?",ihe="(?:"+nhe+"(?:"+[lxA,cxA,uxA].join("|")+")"+mxA+dxA+")*",ohe=mxA+dxA+ihe,she="(?:"+[lxA+mY+"?",mY,cxA,uxA,ahe].join("|")+")",lhe=RegExp(pY+"(?="+pY+")|"+she+ohe,"g");function che(A){return A.match(lhe)||[]}var pxA=che;function uhe(A){return RF(A)?pxA(A):oxA(A)}var wf=uhe;function dhe(A,e,t,r){var a=-1,j=A==null?0:A.length;for(r&&j&&(t=A[++a]);++a<j;)t=e(t,A[a],a,A);return t}var Y5=dhe;function mhe(A){return function(e){return A?.[e]}}var Z5=mhe;var phe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},khe=Z5(phe),kxA=khe;var hhe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ghe="\\u0300-\\u036f",fhe="\\ufe20-\\ufe2f",Bhe="\\u20d0-\\u20ff",Ehe=ghe+fhe+Bhe,xhe="["+Ehe+"]",bhe=RegExp(xhe,"g");function yhe(A){return A=Ti(A),A&&A.replace(hhe,kxA).replace(bhe,"")}var hxA=yhe;var vhe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Fhe(A){return A.match(vhe)||[]}var gxA=Fhe;var Ghe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function whe(A){return Ghe.test(A)}var fxA=whe;var yxA="\\ud800-\\udfff",qhe="\\u0300-\\u036f",$he="\\ufe20-\\ufe2f",Ihe="\\u20d0-\\u20ff",Phe=qhe+$he+Ihe,vxA="\\u2700-\\u27bf",FxA="a-z\\xdf-\\xf6\\xf8-\\xff",She="\\xac\\xb1\\xd7\\xf7",Che="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ohe="\\u2000-\\u206f",The=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",GxA="A-Z\\xc0-\\xd6\\xd8-\\xde",_he="\\ufe0e\\ufe0f",wxA=She+Che+Ohe+The,qxA="['\u2019]",BxA="["+wxA+"]",Dhe="["+Phe+"]",$xA="\\d+",zhe="["+vxA+"]",IxA="["+FxA+"]",PxA="[^"+yxA+wxA+$xA+vxA+FxA+GxA+"]",Mhe="\\ud83c[\\udffb-\\udfff]",Rhe="(?:"+Dhe+"|"+Mhe+")",Khe="[^"+yxA+"]",SxA="(?:\\ud83c[\\udde6-\\uddff]){2}",CxA="[\\ud800-\\udbff][\\udc00-\\udfff]",KF="["+GxA+"]",Lhe="\\u200d",ExA="(?:"+IxA+"|"+PxA+")",Nhe="(?:"+KF+"|"+PxA+")",xxA="(?:"+qxA+"(?:d|ll|m|re|s|t|ve))?",bxA="(?:"+qxA+"(?:D|LL|M|RE|S|T|VE))?",OxA=Rhe+"?",TxA="["+_he+"]?",Uhe="(?:"+Lhe+"(?:"+[Khe,SxA,CxA].join("|")+")"+TxA+OxA+")*",Hhe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vhe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xhe=TxA+OxA+Uhe,Whe="(?:"+[zhe,SxA,CxA].join("|")+")"+Xhe,Jhe=RegExp([KF+"?"+IxA+"+"+xxA+"(?="+[BxA,KF,"$"].join("|")+")",Nhe+"+"+bxA+"(?="+[BxA,KF+ExA,"$"].join("|")+")",KF+"?"+ExA+"+"+xxA,KF+"+"+bxA,Vhe,Hhe,$xA,Whe].join("|"),"g");function Yhe(A){return A.match(Jhe)||[]}var _xA=Yhe;function Zhe(A,e,t){return A=Ti(A),e=t?void 0:e,e===void 0?fxA(A)?_xA(A):gxA(A):A.match(e)||[]}var DxA=Zhe;var Qhe="['\u2019]",Age=RegExp(Qhe,"g");function ege(A){return function(e){return Y5(DxA(hxA(e).replace(Age,"")),A,"")}}var zxA=ege;var tge=Mj.isFinite,rge=Math.min;function age(A){var e=Math[A];return function(t,r){if(t=gm(t),r=r==null?0:rge(el(r),292),r&&tge(t)){var a=(Ti(t)+"e").split("e"),j=e(a[0]+"e"+(+a[1]+r));return a=(Ti(j)+"e").split("e"),+(a[0]+"e"+(+a[1]-r))}return e(t)}}var MxA=age;var jge=Math.ceil,nge=Math.max;function ige(A,e,t){(t?Qc(A,e,t):e===void 0)?e=1:e=nge(el(e),0);var r=A==null?0:A.length;if(!r||e<1)return[];for(var a=0,j=0,n=Array(jge(r/e));a<r;)n[j++]=zF(A,a,a+=e);return n}var Mo=ige;function oge(A,e,t){return A===A&&(t!==void 0&&(A=A<=t?A:t),e!==void 0&&(A=A>=e?A:e)),A}var LF=oge;function sge(A,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=gm(t),t=t===t?t:0),e!==void 0&&(e=gm(e),e=e===e?e:0),LF(gm(A),e,t)}var kY=sge;function lge(){this.__data__=new yf,this.size=0}var RxA=lge;function cge(A){var e=this.__data__,t=e.delete(A);return this.size=e.size,t}var KxA=cge;function uge(A){return this.__data__.get(A)}var LxA=uge;function dge(A){return this.__data__.has(A)}var NxA=dge;var mge=200;function pge(A,e){var t=this.__data__;if(t instanceof yf){var r=t.__data__;if(!vf||r.length<mge-1)return r.push([A,e]),this.size=++t.size,this;t=this.__data__=new Yx(r)}return t.set(A,e),this.size=t.size,this}var UxA=pge;function NF(A){var e=this.__data__=new yf(A);this.size=e.size}NF.prototype.clear=RxA;NF.prototype.delete=KxA;NF.prototype.get=LxA;NF.prototype.has=NxA;NF.prototype.set=UxA;var Jp=NF;function kge(A,e){return A&&Ol(e,vn(e),A)}var HxA=kge;function hge(A,e){return A&&Ol(e,sd(e),A)}var VxA=hge;var YxA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XxA=YxA&&typeof module=="object"&&module&&!module.nodeType&&module,gge=XxA&&XxA.exports===YxA,WxA=gge?Mj.Buffer:void 0,JxA=WxA?WxA.allocUnsafe:void 0;function fge(A,e){if(e)return A.slice();var t=A.length,r=JxA?JxA(t):new A.constructor(t);return A.copy(r),r}var Q5=fge;function Bge(A,e){for(var t=-1,r=A==null?0:A.length,a=0,j=[];++t<r;){var n=A[t];e(n,t,A)&&(j[a++]=n)}return j}var UF=Bge;function Ege(){return[]}var Az=Ege;var xge=Object.prototype,bge=xge.propertyIsEnumerable,ZxA=Object.getOwnPropertySymbols,yge=ZxA?function(A){return A==null?[]:(A=Object(A),UF(ZxA(A),function(e){return bge.call(A,e)}))}:Az,HF=yge;function vge(A,e){return Ol(A,HF(A),e)}var QxA=vge;var Fge=Object.getOwnPropertySymbols,Gge=Fge?function(A){for(var e=[];A;)_F(e,HF(A)),A=DF(A);return e}:Az,ez=Gge;function wge(A,e){return Ol(A,ez(A),e)}var AbA=wge;function qge(A,e,t){var r=e(A);return qa(A)?r:_F(r,t(A))}var tz=qge;function $ge(A){return tz(A,vn,HF)}var dI=$ge;function Ige(A){return tz(A,sd,ez)}var VF=Ige;var Pge=X6(Mj,"DataView"),rz=Pge;var Sge=X6(Mj,"Promise"),az=Sge;var Cge=X6(Mj,"Set"),qf=Cge;var ebA="[object Map]",Oge="[object Object]",tbA="[object Promise]",rbA="[object Set]",abA="[object WeakMap]",jbA="[object DataView]",Tge=ah(rz),_ge=ah(vf),Dge=ah(az),zge=ah(qf),Mge=ah(Wx),Zx=as;(rz&&Zx(new rz(new ArrayBuffer(1)))!=jbA||vf&&Zx(new vf)!=ebA||az&&Zx(az.resolve())!=tbA||qf&&Zx(new qf)!=rbA||Wx&&Zx(new Wx)!=abA)&&(Zx=function(A){var e=as(A),t=e==Oge?A.constructor:void 0,r=t?ah(t):"";if(r)switch(r){case Tge:return jbA;case _ge:return ebA;case Dge:return tbA;case zge:return rbA;case Mge:return abA}return e});var Au=Zx;var Rge=Object.prototype,Kge=Rge.hasOwnProperty;function Lge(A){var e=A.length,t=new A.constructor(e);return e&&typeof A[0]=="string"&&Kge.call(A,"index")&&(t.index=A.index,t.input=A.input),t}var nbA=Lge;var Nge=Mj.Uint8Array,XF=Nge;function Uge(A){var e=new A.constructor(A.byteLength);return new XF(e).set(new XF(A)),e}var WF=Uge;function Hge(A,e){var t=e?WF(A.buffer):A.buffer;return new A.constructor(t,A.byteOffset,A.byteLength)}var ibA=Hge;var Vge=/\w*$/;function Xge(A){var e=new A.constructor(A.source,Vge.exec(A));return e.lastIndex=A.lastIndex,e}var obA=Xge;var sbA=bs?bs.prototype:void 0,lbA=sbA?sbA.valueOf:void 0;function Wge(A){return lbA?Object(lbA.call(A)):{}}var cbA=Wge;function Jge(A,e){var t=e?WF(A.buffer):A.buffer;return new A.constructor(t,A.byteOffset,A.length)}var jz=Jge;var Yge="[object Boolean]",Zge="[object Date]",Qge="[object Map]",Afe="[object Number]",efe="[object RegExp]",tfe="[object Set]",rfe="[object String]",afe="[object Symbol]",jfe="[object ArrayBuffer]",nfe="[object DataView]",ife="[object Float32Array]",ofe="[object Float64Array]",sfe="[object Int8Array]",lfe="[object Int16Array]",cfe="[object Int32Array]",ufe="[object Uint8Array]",dfe="[object Uint8ClampedArray]",mfe="[object Uint16Array]",pfe="[object Uint32Array]";function kfe(A,e,t){var r=A.constructor;switch(e){case jfe:return WF(A);case Yge:case Zge:return new r(+A);case nfe:return ibA(A,t);case ife:case ofe:case sfe:case lfe:case cfe:case ufe:case dfe:case mfe:case pfe:return jz(A,t);case Qge:return new r;case Afe:case rfe:return new r(A);case efe:return obA(A);case tfe:return new r;case afe:return cbA(A)}}var ubA=kfe;function hfe(A){return typeof A.constructor=="function"&&!Xp(A)?hf(DF(A)):{}}var nz=hfe;var gfe="[object Map]";function ffe(A){return Tn(A)&&Au(A)==gfe}var dbA=ffe;var mbA=l6&&l6.isMap,Bfe=mbA?od(mbA):dbA,pbA=Bfe;var Efe="[object Set]";function xfe(A){return Tn(A)&&Au(A)==Efe}var kbA=xfe;var hbA=l6&&l6.isSet,bfe=hbA?od(hbA):kbA,gbA=bfe;var yfe=1,vfe=2,Ffe=4,fbA="[object Arguments]",Gfe="[object Array]",wfe="[object Boolean]",qfe="[object Date]",$fe="[object Error]",BbA="[object Function]",Ife="[object GeneratorFunction]",Pfe="[object Map]",Sfe="[object Number]",EbA="[object Object]",Cfe="[object RegExp]",Ofe="[object Set]",Tfe="[object String]",_fe="[object Symbol]",Dfe="[object WeakMap]",zfe="[object ArrayBuffer]",Mfe="[object DataView]",Rfe="[object Float32Array]",Kfe="[object Float64Array]",Lfe="[object Int8Array]",Nfe="[object Int16Array]",Ufe="[object Int32Array]",Hfe="[object Uint8Array]",Vfe="[object Uint8ClampedArray]",Xfe="[object Uint16Array]",Wfe="[object Uint32Array]",Vn={};Vn[fbA]=Vn[Gfe]=Vn[zfe]=Vn[Mfe]=Vn[wfe]=Vn[qfe]=Vn[Rfe]=Vn[Kfe]=Vn[Lfe]=Vn[Nfe]=Vn[Ufe]=Vn[Pfe]=Vn[Sfe]=Vn[EbA]=Vn[Cfe]=Vn[Ofe]=Vn[Tfe]=Vn[_fe]=Vn[Hfe]=Vn[Vfe]=Vn[Xfe]=Vn[Wfe]=!0;Vn[$fe]=Vn[BbA]=Vn[Dfe]=!1;function iz(A,e,t,r,a,j){var n,i=e&yfe,o=e&vfe,s=e&Ffe;if(t&&(n=a?t(A,r,a,j):t(A)),n!==void 0)return n;if(!an(A))return A;var c=qa(A);if(c){if(n=nbA(A),!i)return ff(A,n)}else{var u=Au(A),p=u==BbA||u==Ife;if(Bm(A))return Q5(A,i);if(u==EbA||u==fbA||p&&!a){if(n=o||p?{}:nz(A),!i)return o?AbA(A,VxA(n,A)):QxA(A,HxA(n,A))}else{if(!Vn[u])return a?A:{};n=ubA(A,u,i)}}j||(j=new Jp);var h=j.get(A);if(h)return h;j.set(A,n),gbA(A)?A.forEach(function(w){n.add(iz(w,e,t,w,A,j))}):pbA(A)&&A.forEach(function(w,y){n.set(y,iz(w,e,t,y,A,j))});var f=s?o?VF:dI:o?sd:vn,G=c?void 0:f(A);return z5(G||A,function(w,y){G&&(y=w,w=A[y]),Ef(n,y,iz(w,e,t,y,A,j))}),n}var JF=iz;var Jfe=4;function Yfe(A){return JF(A,Jfe)}var eu=Yfe;var Zfe=1,Qfe=4;function ABe(A){return JF(A,Zfe|Qfe)}var mI=ABe;function eBe(A){for(var e=-1,t=A==null?0:A.length,r=0,a=[];++e<t;){var j=A[e];j&&(a[r++]=j)}return a}var vj=eBe;var tBe="__lodash_hash_undefined__";function rBe(A){return this.__data__.set(A,tBe),this}var xbA=rBe;function aBe(A){return this.__data__.has(A)}var bbA=aBe;function oz(A){var e=-1,t=A==null?0:A.length;for(this.__data__=new Yx;++e<t;)this.add(A[e])}oz.prototype.add=oz.prototype.push=xbA;oz.prototype.has=bbA;var sz=oz;function jBe(A,e){for(var t=-1,r=A==null?0:A.length;++t<r;)if(e(A[t],t,A))return!0;return!1}var lz=jBe;function nBe(A,e){return A.has(e)}var cz=nBe;var iBe=1,oBe=2;function sBe(A,e,t,r,a,j){var n=t&iBe,i=A.length,o=e.length;if(i!=o&&!(n&&o>i))return!1;var s=j.get(A),c=j.get(e);if(s&&c)return s==e&&c==A;var u=-1,p=!0,h=t&oBe?new sz:void 0;for(j.set(A,e),j.set(e,A);++u<i;){var f=A[u],G=e[u];if(r)var w=n?r(G,f,u,e,A,j):r(f,G,u,A,e,j);if(w!==void 0){if(w)continue;p=!1;break}if(h){if(!lz(e,function(y,E){if(!cz(h,E)&&(f===y||a(f,y,t,r,j)))return h.push(E)})){p=!1;break}}else if(!(f===G||a(f,G,t,r,j))){p=!1;break}}return j.delete(A),j.delete(e),p}var uz=sBe;function lBe(A){var e=-1,t=Array(A.size);return A.forEach(function(r,a){t[++e]=[a,r]}),t}var ybA=lBe;function cBe(A){var e=-1,t=Array(A.size);return A.forEach(function(r){t[++e]=r}),t}var YF=cBe;var uBe=1,dBe=2,mBe="[object Boolean]",pBe="[object Date]",kBe="[object Error]",hBe="[object Map]",gBe="[object Number]",fBe="[object RegExp]",BBe="[object Set]",EBe="[object String]",xBe="[object Symbol]",bBe="[object ArrayBuffer]",yBe="[object DataView]",vbA=bs?bs.prototype:void 0,hY=vbA?vbA.valueOf:void 0;function vBe(A,e,t,r,a,j,n){switch(t){case yBe:if(A.byteLength!=e.byteLength||A.byteOffset!=e.byteOffset)return!1;A=A.buffer,e=e.buffer;case bBe:return!(A.byteLength!=e.byteLength||!j(new XF(A),new XF(e)));case mBe:case pBe:case gBe:return id(+A,+e);case kBe:return A.name==e.name&&A.message==e.message;case fBe:case EBe:return A==e+"";case hBe:var i=ybA;case BBe:var o=r&uBe;if(i||(i=YF),A.size!=e.size&&!o)return!1;var s=n.get(A);if(s)return s==e;r|=dBe,n.set(A,e);var c=uz(i(A),i(e),r,a,j,n);return n.delete(A),c;case xBe:if(hY)return hY.call(A)==hY.call(e)}return!1}var FbA=vBe;var FBe=1,GBe=Object.prototype,wBe=GBe.hasOwnProperty;function qBe(A,e,t,r,a,j){var n=t&FBe,i=dI(A),o=i.length,s=dI(e),c=s.length;if(o!=c&&!n)return!1;for(var u=o;u--;){var p=i[u];if(!(n?p in e:wBe.call(e,p)))return!1}var h=j.get(A),f=j.get(e);if(h&&f)return h==e&&f==A;var G=!0;j.set(A,e),j.set(e,A);for(var w=n;++u<o;){p=i[u];var y=A[p],E=e[p];if(r)var $=n?r(E,y,p,e,A,j):r(y,E,p,A,e,j);if(!($===void 0?y===E||a(y,E,t,r,j):$)){G=!1;break}w||(w=p=="constructor")}if(G&&!w){var T=A.constructor,O=e.constructor;T!=O&&"constructor"in A&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof O=="function"&&O instanceof O)&&(G=!1)}return j.delete(A),j.delete(e),G}var GbA=qBe;var $Be=1,wbA="[object Arguments]",qbA="[object Array]",dz="[object Object]",IBe=Object.prototype,$bA=IBe.hasOwnProperty;function PBe(A,e,t,r,a,j){var n=qa(A),i=qa(e),o=n?qbA:Au(A),s=i?qbA:Au(e);o=o==wbA?dz:o,s=s==wbA?dz:s;var c=o==dz,u=s==dz,p=o==s;if(p&&Bm(A)){if(!Bm(e))return!1;n=!0,c=!1}if(p&&!c)return j||(j=new Jp),n||xf(A)?uz(A,e,t,r,a,j):FbA(A,e,o,t,r,a,j);if(!(t&$Be)){var h=c&&$bA.call(A,"__wrapped__"),f=u&&$bA.call(e,"__wrapped__");if(h||f){var G=h?A.value():A,w=f?e.value():e;return j||(j=new Jp),a(G,w,t,r,j)}}return p?(j||(j=new Jp),GbA(A,e,t,r,a,j)):!1}var IbA=PBe;function PbA(A,e,t,r,a){return A===e?!0:A==null||e==null||!Tn(A)&&!Tn(e)?A!==A&&e!==e:IbA(A,e,t,r,PbA,a)}var mz=PbA;var SBe=1,CBe=2;function OBe(A,e,t,r){var a=t.length,j=a,n=!r;if(A==null)return!j;for(A=Object(A);a--;){var i=t[a];if(n&&i[2]?i[1]!==A[i[0]]:!(i[0]in A))return!1}for(;++a<j;){i=t[a];var o=i[0],s=A[o],c=i[1];if(n&&i[2]){if(s===void 0&&!(o in A))return!1}else{var u=new Jp;if(r)var p=r(s,c,o,A,e,u);if(!(p===void 0?mz(c,s,SBe|CBe,r,u):p))return!1}}return!0}var SbA=OBe;function TBe(A){return A===A&&!an(A)}var pz=TBe;function _Be(A){for(var e=vn(A),t=e.length;t--;){var r=e[t],a=A[r];e[t]=[r,a,pz(a)]}return e}var CbA=_Be;function DBe(A,e){return function(t){return t==null?!1:t[A]===e&&(e!==void 0||A in Object(t))}}var kz=DBe;function zBe(A){var e=CbA(A);return e.length==1&&e[0][2]?kz(e[0][0],e[0][1]):function(t){return t===A||SbA(t,A,e)}}var ObA=zBe;function MBe(A,e){return A!=null&&e in Object(A)}var TbA=MBe;function RBe(A,e,t){e=ld(e,A);for(var r=-1,a=e.length,j=!1;++r<a;){var n=cd(e[r]);if(!(j=A!=null&&t(A,n)))break;A=A[n]}return j||++r!=a?j:(a=A==null?0:A.length,!!a&&qF(a)&&Hp(n,a)&&(qa(A)||fm(A)))}var _bA=RBe;function KBe(A,e){return A!=null&&_bA(A,e,TbA)}var hz=KBe;var LBe=1,NBe=2;function UBe(A,e){return SF(A)&&pz(e)?kz(cd(A),e):function(t){var r=uI(t,A);return r===void 0&&r===e?hz(t,A):mz(e,r,LBe|NBe)}}var DbA=UBe;function HBe(A){return function(e){return e?.[A]}}var ZF=HBe;function VBe(A){return function(e){return Wp(e,A)}}var zbA=VBe;function XBe(A){return SF(A)?ZF(cd(A)):zbA(A)}var MbA=XBe;function WBe(A){return typeof A=="function"?A:A==null?nd:typeof A=="object"?qa(A)?DbA(A[0],A[1]):ObA(A):MbA(A)}var Xn=WBe;function JBe(A,e,t,r){for(var a=-1,j=A==null?0:A.length;++a<j;){var n=A[a];e(r,n,t(n),A)}return r}var RbA=JBe;function YBe(A){return function(e,t,r){for(var a=-1,j=Object(e),n=r(e),i=n.length;i--;){var o=n[A?i:++a];if(t(j[o],o,j)===!1)break}return e}}var gz=YBe;var ZBe=gz(),fz=ZBe;function QBe(A,e){return A&&fz(A,e,vn)}var $f=QBe;function AEe(A,e){return function(t,r){if(t==null)return t;if(!to(t))return A(t,r);for(var a=t.length,j=e?a:-1,n=Object(t);(e?j--:++j<a)&&r(n[j],j,n)!==!1;);return t}}var Bz=AEe;var eEe=Bz($f),Yp=eEe;function tEe(A,e,t,r){return Yp(A,function(a,j,n){e(r,a,t(a),n)}),r}var KbA=tEe;function rEe(A,e){return function(t,r){var a=qa(t)?RbA:KbA,j=e?e():{};return a(t,A,Xn(r,2),j)}}var If=rEe;var aEe=Object.prototype,jEe=aEe.hasOwnProperty,nEe=If(function(A,e,t){jEe.call(A,t)?++A[t]:Cl(A,t,1)}),gY=nEe;var iEe=8;function fY(A,e,t){e=t?void 0:e;var r=FEA(A,iEe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=fY.placeholder,r}fY.placeholder={};var BY=fY;var oEe=function(){return Mj.Date.now()},Ez=oEe;var sEe="Expected a function",lEe=Math.max,cEe=Math.min;function uEe(A,e,t){var r,a,j,n,i,o,s=0,c=!1,u=!1,p=!0;if(typeof A!="function")throw new TypeError(sEe);e=gm(e)||0,an(t)&&(c=!!t.leading,u="maxWait"in t,j=u?lEe(gm(t.maxWait)||0,e):j,p="trailing"in t?!!t.trailing:p);function h(I){var q=r,K=a;return r=a=void 0,s=I,n=A.apply(K,q),n}function f(I){return s=I,i=setTimeout(y,e),c?h(I):n}function G(I){var q=I-o,K=I-s,aA=e-q;return u?cEe(aA,j-K):aA}function w(I){var q=I-o,K=I-s;return o===void 0||q>=e||q<0||u&&K>=j}function y(){var I=Ez();if(w(I))return E(I);i=setTimeout(y,G(I))}function E(I){return i=void 0,p&&r?h(I):(r=a=void 0,n)}function $(){i!==void 0&&clearTimeout(i),s=0,r=o=a=i=void 0}function T(){return i===void 0?n:E(Ez())}function O(){var I=Ez(),q=w(I);if(r=arguments,a=this,o=I,q){if(i===void 0)return f(o);if(u)return clearTimeout(i),i=setTimeout(y,e),h(o)}return i===void 0&&(i=setTimeout(y,e)),n}return O.cancel=$,O.flush=T,O}var LbA=uEe;var NbA=Object.prototype,dEe=NbA.hasOwnProperty,mEe=Vp(function(A,e){A=Object(A);var t=-1,r=e.length,a=r>2?e[2]:void 0;for(a&&Qc(e[0],e[1],a)&&(r=1);++t<r;)for(var j=e[t],n=sd(j),i=-1,o=n.length;++i<o;){var s=n[i],c=A[s];(c===void 0||id(c,NbA[s])&&!dEe.call(A,s))&&(A[s]=j[s])}return A}),pI=mEe;function pEe(A,e,t){(t!==void 0&&!id(A[e],t)||t===void 0&&!(e in A))&&Cl(A,e,t)}var kI=pEe;function kEe(A){return Tn(A)&&to(A)}var QF=kEe;function hEe(A,e){if(!(e==="constructor"&&typeof A[e]=="function")&&e!="__proto__")return A[e]}var hI=hEe;function gEe(A){return Ol(A,sd(A))}var UbA=gEe;function fEe(A,e,t,r,a,j,n){var i=hI(A,t),o=hI(e,t),s=n.get(o);if(s){kI(A,t,s);return}var c=j?j(i,o,t+"",A,e,n):void 0,u=c===void 0;if(u){var p=qa(o),h=!p&&Bm(o),f=!p&&!h&&xf(o);c=o,p||h||f?qa(i)?c=i:QF(i)?c=ff(i):h?(u=!1,c=Q5(o,!0)):f?(u=!1,c=jz(o,!0)):c=[]:J5(o)||fm(o)?(c=i,fm(i)?c=UbA(i):(!an(i)||bF(i))&&(c=nz(o))):u=!1}u&&(n.set(o,c),a(c,o,r,j,n),n.delete(o)),kI(A,t,c)}var HbA=fEe;function VbA(A,e,t,r,a){A!==e&&fz(e,function(j,n){if(a||(a=new Jp),an(j))HbA(A,e,n,t,VbA,r,a);else{var i=r?r(hI(A,n),j,n+"",A,e,a):void 0;i===void 0&&(i=j),kI(A,n,i)}},sd)}var XbA=VbA;function BEe(A,e,t){for(var r=-1,a=A==null?0:A.length;++r<a;)if(t(e,A[r]))return!0;return!1}var WbA=BEe;function EEe(A){var e=A==null?0:A.length;return e?A[e-1]:void 0}var Pf=EEe;function xEe(A){return typeof A=="function"?A:nd}var JbA=xEe;var bEe=gz(!0),YbA=bEe;function yEe(A,e){return A&&YbA(A,e,vn)}var ZbA=yEe;var vEe=Bz(ZbA,!0),QbA=vEe;function FEe(A,e,t){A=Ti(A),e=jd(e);var r=A.length;t=t===void 0?r:LF(el(t),0,r);var a=t;return t-=e.length,t>=0&&A.slice(t,a)==e}var xz=FEe;var AyA=/[\\^$.*+?()[\]{}|]/g,GEe=RegExp(AyA.source);function wEe(A){return A=Ti(A),A&&GEe.test(A)?A.replace(AyA,"\\$&"):A}var EY=wEe;function qEe(A,e){var t=[];return Yp(A,function(r,a,j){e(r,a,j)&&t.push(r)}),t}var eyA=qEe;function $Ee(A,e){var t=qa(A)?UF:eyA;return t(A,Xn(e,3))}var Zp=$Ee;function IEe(A){return function(e,t,r){var a=Object(e);if(!to(e)){var j=Xn(t,3);e=vn(e),t=function(i){return j(a[i],i,a)}}var n=A(e,t,r);return n>-1?a[j?e[n]:n]:void 0}}var tyA=IEe;var PEe=Math.max;function SEe(A,e,t){var r=A==null?0:A.length;if(!r)return-1;var a=t==null?0:el(t);return a<0&&(a=PEe(r+a,0)),M5(A,Xn(e,3),a)}var gI=SEe;var CEe=tyA(gI),_i=CEe;function OEe(A,e,t){var r;return t(A,function(a,j,n){if(e(a,j,n))return r=j,!1}),r}var ryA=OEe;function TEe(A,e){return ryA(A,Xn(e,3),$f)}var xY=TEe;function _Ee(A){return A&&A.length?A[0]:void 0}var bz=_Ee;function DEe(A,e){var t=-1,r=to(A)?Array(A.length):[];return Yp(A,function(a,j,n){r[++t]=e(a,j,n)}),r}var yz=DEe;function zEe(A,e){var t=qa(A)?ys:yz;return t(A,Xn(e,3))}var ro=zEe;function MEe(A,e){return Gf(ro(A,e),1)}var ud=MEe;var REe=Object.prototype,KEe=REe.hasOwnProperty,LEe=If(function(A,e,t){KEe.call(A,t)?A[t].push(e):Cl(A,t,[e])}),ih=LEe;var NEe="[object String]";function UEe(A){return typeof A=="string"||!qa(A)&&Tn(A)&&as(A)==NEe}var vz=UEe;function HEe(A,e){return ys(e,function(t){return A[t]})}var ayA=HEe;function VEe(A){return A==null?[]:ayA(A,vn(A))}var Wn=VEe;var XEe=Math.max;function WEe(A,e,t,r){A=to(A)?A:Wn(A),t=t&&!r?el(t):0;var a=A.length;return t<0&&(t=XEe(a+t,0)),vz(A)?t<=a&&A.indexOf(e,t)>-1:!!a&&Bf(A,e,t)>-1}var ij=WEe;function JEe(A,e){return e.length<2?A:Wp(A,zF(e,0,-1))}var jyA=JEe;var YEe="[object Date]";function ZEe(A){return Tn(A)&&as(A)==YEe}var nyA=ZEe;var iyA=l6&&l6.isDate,QEe=iyA?od(iyA):nyA,fI=QEe;var Axe="[object Map]",exe="[object Set]",txe=Object.prototype,rxe=txe.hasOwnProperty;function axe(A){if(A==null)return!0;if(to(A)&&(qa(A)||typeof A=="string"||typeof A.splice=="function"||Bm(A)||xf(A)||fm(A)))return!A.length;var e=Au(A);if(e==Axe||e==exe)return!A.size;if(Xp(A))return!PF(A).length;for(var t in A)if(rxe.call(A,t))return!1;return!0}var BI=axe;function jxe(A){return A==null}var bY=jxe;var nxe="[object RegExp]";function ixe(A){return Tn(A)&&as(A)==nxe}var oyA=ixe;var syA=l6&&l6.isRegExp,oxe=syA?od(syA):oyA,lyA=oxe;var sxe=zxA(function(A,e,t){return A+(t?"-":"")+e.toLowerCase()}),Fz=sxe;var lxe=If(function(A,e,t){Cl(A,t,e)}),gn=lxe;function cxe(A,e){var t={};return e=Xn(e,3),$f(A,function(r,a,j){Cl(t,e(r,a,j),r)}),t}var Gz=cxe;function uxe(A,e){var t={};return e=Xn(e,3),$f(A,function(r,a,j){Cl(t,a,e(r,a,j))}),t}var tu=uxe;var dxe=$F(function(A,e,t){XbA(A,e,t)}),xm=dxe;function mxe(A,e){return e=ld(e,A),A=jyA(A,e),A==null||delete A[cd(Pf(e))]}var cyA=mxe;function pxe(A){return J5(A)?void 0:A}var uyA=pxe;var kxe=1,hxe=2,gxe=4,fxe=W5(function(A,e){var t={};if(A==null)return t;var r=!1;e=ys(e,function(j){return j=ld(j,A),r||(r=j.length>1),j}),Ol(A,VF(A),t),r&&(t=JF(t,kxe|hxe|gxe,uyA));for(var a=e.length;a--;)cyA(t,e[a]);return t}),tl=fxe;function Bxe(A,e,t,r){if(!an(A))return A;e=ld(e,A);for(var a=-1,j=e.length,n=j-1,i=A;i!=null&&++a<j;){var o=cd(e[a]),s=t;if(o==="__proto__"||o==="constructor"||o==="prototype")return A;if(a!=n){var c=i[o];s=r?r(c,o,i):void 0,s===void 0&&(s=an(c)?c:Hp(e[a+1])?[]:{})}Ef(i,o,s),i=i[o]}return A}var dyA=Bxe;function Exe(A,e,t){for(var r=-1,a=e.length,j={};++r<a;){var n=e[r],i=Wp(A,n);t(i,n)&&dyA(j,ld(n,A),i)}return j}var wz=Exe;function xxe(A,e){if(A==null)return{};var t=ys(VF(A),function(r){return[r]});return e=Xn(e),wz(A,t,function(r,a){return e(r,a[0])})}var yY=xxe;function bxe(A,e){var t=A.length;for(A.sort(e);t--;)A[t]=A[t].value;return A}var myA=bxe;function yxe(A,e){if(A!==e){var t=A!==void 0,r=A===null,a=A===A,j=hm(A),n=e!==void 0,i=e===null,o=e===e,s=hm(e);if(!i&&!s&&!j&&A>e||j&&n&&o&&!i&&!s||r&&n&&o||!t&&o||!a)return 1;if(!r&&!j&&!s&&A<e||s&&t&&a&&!r&&!j||i&&t&&a||!n&&a||!o)return-1}return 0}var pyA=yxe;function vxe(A,e,t){for(var r=-1,a=A.criteria,j=e.criteria,n=a.length,i=t.length;++r<n;){var o=pyA(a[r],j[r]);if(o){if(r>=i)return o;var s=t[r];return o*(s=="desc"?-1:1)}}return A.index-e.index}var kyA=vxe;function Fxe(A,e,t){e.length?e=ys(e,function(j){return qa(j)?function(n){return Wp(n,j.length===1?j[0]:j)}:j}):e=[nd];var r=-1;e=ys(e,od(Xn));var a=yz(A,function(j,n,i){var o=ys(e,function(s){return s(j)});return{criteria:o,index:++r,value:j}});return myA(a,function(j,n){return kyA(j,n,t)})}var hyA=Fxe;var Gxe=ZF("length"),gyA=Gxe;var ByA="\\ud800-\\udfff",wxe="\\u0300-\\u036f",qxe="\\ufe20-\\ufe2f",$xe="\\u20d0-\\u20ff",Ixe=wxe+qxe+$xe,Pxe="\\ufe0e\\ufe0f",Sxe="["+ByA+"]",vY="["+Ixe+"]",FY="\\ud83c[\\udffb-\\udfff]",Cxe="(?:"+vY+"|"+FY+")",EyA="[^"+ByA+"]",xyA="(?:\\ud83c[\\udde6-\\uddff]){2}",byA="[\\ud800-\\udbff][\\udc00-\\udfff]",Oxe="\\u200d",yyA=Cxe+"?",vyA="["+Pxe+"]?",Txe="(?:"+Oxe+"(?:"+[EyA,xyA,byA].join("|")+")"+vyA+yyA+")*",_xe=vyA+yyA+Txe,Dxe="(?:"+[EyA+vY+"?",vY,xyA,byA,Sxe].join("|")+")",fyA=RegExp(FY+"(?="+FY+")|"+Dxe+_xe,"g");function zxe(A){for(var e=fyA.lastIndex=0;fyA.test(A);)++e;return e}var FyA=zxe;function Mxe(A){return RF(A)?FyA(A):gyA(A)}var GyA=Mxe;var Rxe=If(function(A,e,t){A[t?0:1].push(e)},function(){return[[],[]]}),EI=Rxe;function Kxe(A,e){return wz(A,e,function(t,r){return hz(A,r)})}var wyA=Kxe;var Lxe=W5(function(A,e){return A==null?{}:wyA(A,e)}),AG=Lxe;function Nxe(A,e,t,r,a){return a(A,function(j,n,i){t=r?(r=!1,j):e(t,j,n,i)}),t}var qz=Nxe;function Uxe(A,e,t){var r=qa(A)?Y5:qz,a=arguments.length<3;return r(A,Xn(e,4),t,a,Yp)}var rl=Uxe;function Hxe(A,e,t,r){var a=A==null?0:A.length;for(r&&a&&(t=A[--a]);a--;)t=e(t,A[a],a,A);return t}var qyA=Hxe;function Vxe(A,e,t){var r=qa(A)?qyA:qz,a=arguments.length<3;return r(A,Xn(e,4),t,a,QbA)}var GY=Vxe;var Xxe=MxA("round"),$z=Xxe;var Wxe="[object Map]",Jxe="[object Set]";function Yxe(A){if(A==null)return 0;if(to(A))return vz(A)?GyA(A):A.length;var e=Au(A);return e==Wxe||e==Jxe?A.size:PF(A).length}var dd=Yxe;function Zxe(A,e){var t;return Yp(A,function(r,a,j){return t=e(r,a,j),!t}),!!t}var $yA=Zxe;function Qxe(A,e,t){var r=qa(A)?lz:$yA;return t&&Qc(A,e,t)&&(e=void 0),r(A,Xn(e,3))}var xI=Qxe;var Abe=Vp(function(A,e){if(A==null)return[];var t=e.length;return t>1&&Qc(A,e[0],e[1])?e=[]:t>2&&Qc(e[0],e[1],e[2])&&(e=[e[0]]),hyA(A,Gf(e,1),[])}),Iz=Abe;var ebe=4294967295;function tbe(A,e,t){return t&&typeof t!="number"&&Qc(A,e,t)&&(e=t=void 0),t=t===void 0?ebe:t>>>0,t?(A=Ti(A),A&&(typeof e=="string"||e!=null&&!lyA(e))&&(e=jd(e),!e&&RF(A))?MF(wf(A),0,t):A.split(e,t)):[]}var wY=tbe;function rbe(A,e,t){return A=Ti(A),t=t==null?0:LF(el(t),0,A.length),e=jd(e),A.slice(t,t+e.length)==e}var oh=rbe;var abe="Expected a function";function jbe(A,e,t){var r=!0,a=!0;if(typeof A!="function")throw new TypeError(abe);return an(t)&&(r="leading"in t?!!t.leading:r,a="trailing"in t?!!t.trailing:a),LbA(A,e,{leading:r,maxWait:e,trailing:a})}var qY=jbe;var nbe=9007199254740991,$Y=4294967295,ibe=Math.min;function obe(A,e){if(A=el(A),A<1||A>nbe)return[];var t=$Y,r=ibe(A,$Y);e=JbA(e),A-=$Y;for(var a=IF(r,e);++t<A;)e(t);return a}var Qx=obe;function sbe(A,e){for(var t=A.length;t--&&Bf(e,A[t],0)>-1;);return t}var IyA=sbe;function lbe(A,e){for(var t=-1,r=A.length;++t<r&&Bf(e,A[t],0)>-1;);return t}var Pz=lbe;function cbe(A,e,t){if(A=Ti(A),A&&(t||e===void 0))return G5(A);if(!A||!(e=jd(e)))return A;var r=wf(A),a=wf(e),j=Pz(r,a),n=IyA(r,a)+1;return MF(r,j,n).join("")}var IY=cbe;var ube=/^\s+/;function dbe(A,e,t){if(A=Ti(A),A&&(t||e===void 0))return A.replace(ube,"");if(!A||!(e=jd(e)))return A;var r=wf(A),a=Pz(r,wf(e));return MF(r,a).join("")}var eG=dbe;var mbe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},pbe=Z5(mbe),PyA=pbe;var SyA=/&(?:amp|lt|gt|quot|#39);/g,kbe=RegExp(SyA.source);function hbe(A){return A=Ti(A),A&&kbe.test(A)?A.replace(SyA,PyA):A}var CyA=hbe;var gbe=1/0,fbe=qf&&1/YF(new qf([,-0]))[1]==gbe?function(A){return new qf(A)}:S5,OyA=fbe;var Bbe=200;function Ebe(A,e,t){var r=-1,a=R5,j=A.length,n=!0,i=[],o=i;if(t)n=!1,a=WbA;else if(j>=Bbe){var s=e?null:OyA(A);if(s)return YF(s);n=!1,a=cz,o=new sz}else o=e?[]:i;A:for(;++r<j;){var c=A[r],u=e?e(c):c;if(c=t||c!==0?c:0,n&&u===u){for(var p=o.length;p--;)if(o[p]===u)continue A;e&&o.push(u),i.push(c)}else a(o,u,t)||(o!==i&&o.push(u),i.push(c))}return i}var Sz=Ebe;var xbe=Vp(function(A){return Sz(Gf(A,1,QF,!0))}),Cz=xbe;function bbe(A){return A&&A.length?Sz(A):[]}var bI=bbe;var ybe=Math.max;function vbe(A){if(!(A&&A.length))return[];var e=0;return A=UF(A,function(t){if(QF(t))return e=ybe(t.length,e),!0}),IF(e,function(t){return ys(A,ZF(t))})}var TyA=vbe;function Fbe(A,e){if(!(A&&A.length))return[];var t=TyA(A);return e==null?t:ys(t,function(r){return gf(e,void 0,r)})}var _yA=Fbe;var Gbe=Vp(function(A){var e=A.length,t=e>1?A[e-1]:void 0;return t=typeof t=="function"?(A.pop(),t):void 0,_yA(A,t)}),Oz=Gbe;var Ij;(function(A){A.Brave="Brave",A.Chrome="Chrome",A.Firefox="Firefox",A.Safari="Safari",A.Edge="Microsoft Edge",A.Opera="Opera",A.IE="Internet Explorer",A.AndroidBrowser="Android Browser",A.WebKit="WebKit",A.Other="Browser"})(Ij||(Ij={}));var Fn;(function(A){A.macOS="MacOSX",A.iOS="iOS",A.Windows="Windows",A.Android="Android",A.Linux="Linux",A.ChromeOS="ChromeOS",A.Other=""})(Fn||(Fn={}));var tG=async A=>{let e=await DyA(A);return e===void 0?MyA(A):e},wbe=new Map([["Brave",Ij.Brave],["Google Chrome",Ij.Chrome],["Microsoft Edge",Ij.Edge],["Opera",Ij.Opera],["Chromium",Ij.Chrome]]),qbe=new Map([["Android",Fn.Android],["Chrome OS",Fn.ChromeOS],["Fuchsia",Fn.Other],["iOS",Fn.iOS],["Linux",Fn.Linux],["macOS",Fn.macOS],["Windows",Fn.Windows],["Unknown",Fn.Other]]),DyA=async A=>{if(!navigator.userAgentData?.getHighEntropyValues)return;let e;try{e=await navigator.userAgentData.getHighEntropyValues(["fullVersionList","platformVersion"])}catch{return}if(!e.fullVersionList||!e.platform||!e.platformVersion)return;let{fullVersionList:t,platform:r,platformVersion:a}=e,j={name:Ij.Other,version:"0",osName:Fn.Other,osVersion:a};for(let[n,i]of wbe){if(j.version!=="0")break;for(let o of t)if(n===o.brand){j.name=i,j.version=o.version;break}}if(j.name===Ij.Opera){let n=PY(A,/OPR\/([\d.]+)/);if(n==="")return;j.version=n}if(j.version!=="0")return j.osName=qbe.get(r)??Fn.Other,j.osName===Fn.Windows&&(j.osVersion=zyA(j.osVersion)),j},zyA=A=>{let e=A.split(".");if(!e[0])return A;let t=Number.parseInt(e[0],10);if(Number.isNaN(t)||t<0)return A;if(t>0&&t<13)return"10.0";if(t>=13)return"11.0";if(!e[1])return A;switch(Number.parseInt(e[1],10)){case 1:return"7.0";case 2:return"8.0";case 3:return"8.1";default:return A}},MyA=A=>{A=A.toLowerCase();let e=_i($be,i=>ij(A,i.term)),t=e?e.name:Ij.Other;t===Ij.Chrome&&"brave"in navigator&&(t=Ij.Brave);let r=e?PY(A,e.versionRegex):"",a=_i(Ibe,i=>ij(A,i.term)),j=a?a.name:Fn.Other,n=a?PY(A,a.versionRegex):"";return j===Fn.macOS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(j=Fn.iOS,n=""),{name:t,version:r,osName:j,osVersion:n}},PY=(A,e)=>{if(!e)return"";let r=e.exec(A)?.[1];return r!==void 0?r.replace(/_/g,"."):""},$be=[{term:"msie",name:Ij.IE,versionRegex:/msie ([\d.]+)/},{term:"trident",name:Ij.IE,versionRegex:/rv:([\d.]+)/},{term:"edge",name:Ij.Edge,versionRegex:/edge\/([\d.]+)/},{term:"edg",name:Ij.Edge,versionRegex:/edg\/([\d.]+)/},{term:"opr",name:Ij.Opera,versionRegex:/opr\/([\d.]+)/},{term:"opera mobi",name:Ij.Opera,versionRegex:/version\/([\d.]+)/},{term:"opios",name:Ij.Opera,versionRegex:/opios\/([\d.]+)/},{term:"firefox",name:Ij.Firefox,versionRegex:/firefox\/([\d.]+)/},{term:"fxios",name:Ij.Firefox,versionRegex:/fxios\/([\d.]+)/},{term:"chrome",name:Ij.Chrome,versionRegex:/chrome\/([\d.]+)/},{term:"crios",name:Ij.Chrome,versionRegex:/crios\/([\d.]+)/},{term:"android",name:Ij.AndroidBrowser},{term:"safari",name:Ij.Safari,versionRegex:/version\/([\d.]+)/},{term:"applewebkit",name:Ij.WebKit,versionRegex:/applewebkit\/([\d.]+)/}],Ibe=[{term:"iphone",name:Fn.iOS,versionRegex:/os ([\d._]+)/},{term:"ipad",name:Fn.iOS,versionRegex:/os ([\d._]+)/},{term:"ipod",name:Fn.iOS,versionRegex:/os ([\d._]+)/},{term:"mac os x",name:Fn.macOS,versionRegex:/os x ([\d._]+)/},{term:"android;",name:Fn.Android,versionRegex:/android; ([\d.]+)/},{term:"android",name:Fn.Android,versionRegex:/android ([\d.]+)/},{term:"linux",name:Fn.Linux},{term:"cros",name:Fn.ChromeOS},{term:"windows",name:Fn.Windows,versionRegex:/windows nt ([\d.]+)/}];var Vz=AA(Hz()),WIt=[{name:Ij.Brave,minVersion:"109.0.0",displayVersion:"1.47.0"},{name:Ij.Chrome,minVersion:"109.0.0",displayVersion:"109"},{name:Ij.Edge,minVersion:"109.0.0",displayVersion:"109"},{name:Ij.Firefox,minVersion:"109.0.0",displayVersion:"109"},{name:Ij.Opera,minVersion:"95.0.0",displayVersion:"95"},{name:Ij.Safari,minVersion:"16.0.0",displayVersion:"16"}];async function eb(){return await tG(navigator.userAgent)}function I0A(A){if(A!==void 0)return v0e()?A.replace("MacCtrl","Ctrl"):A}function v0e(){return navigator.platform?.indexOf("Mac")>-1||navigator?.userAgentData?.platform==="macOS"}var jG=()=>!1,oj=()=>!0,Eo=()=>!1,Or=()=>!1,sa=()=>Eo()||Or();function P0A(){try{return WebAssembly&&typeof WebAssembly=="object"&&typeof WebAssembly.instantiate=="function"}catch{return!1}}async function Xz(){try{let{version:A}=await eb(),e=parseInt(A);if(sa()&&!Number.isNaN(e)&&e<16)return!1}catch{console.error("Failed to check for Safari 15 in the context of passkeys")}return!Or()}function Wz(){return{passwordType:"smart",length:4}}function Jz(){return{passwordType:"characters",length:20,requireDigits:!0,requireSymbols:!0}}function S0A(){return{passwordType:"words",length:4,separatorType:"hyphens",capitalize:!1,fullWords:!0}}function Yz(){return{passwordType:"pin",length:4}}function Zz(){return{passwordType:"words",fullWords:!1,length:5,separatorType:"hyphens",capitalize:!1}}function Qz(){return{passwordType:"ed25519",length:0}}function AM(){return{passwordType:"rsa",length:4096}}var w0e=["de","en","es","fr","it","ja","nl","ko","pt","ru","zh-CN","zh-TW"];var q0e=()=>"production";var $0e=20160,I0e=10,C0A=60,J6=-1,eM=1,ZY=$0e,QY="",AZ="config",bm={autoLockEnabled:!0,autoLockMinutes:I0e,autoLockOnDeviceSleep:!0,autoSaveExceptions:[],ignoreAccounts:[],inlineEnabled:!0,inlineSaveEnabled:!0,socialLoginsEnabled:!sa(),inlineShowAutomatically:!0,saveNewItemsIn:QY,showNotifications:!0,generator:[Wz(),Jz(),S0A(),Yz(),Zz(),Qz(),AM()],defaultPassGenType:"smart",syllables:!1,newHibpEnabled:!1,language:P0e(),languageChanged:!1,defaultPasswordManager:!1,showTags:!0,defaultItemList:"suggestions",watchtowerNotifications:!1,showChangelogPopupOnInteraction:!1,useSharedLockState:!0,slsChannel:q0e(),showRichIcons:!oj(),appTheme:"system",appWidth:"double-pane",blockGoogleSignInWith:!0,authenticatePasskeys:!Or(),shouldCachePasskeyIds:!0,devtoolsEnabled:!1,autoSaveEnabled:!0,autoSaveCreditCardsEnabled:!0,autoSaveIdentitiesEnabled:!0,autoSaveTotpEnabled:!0,autoSubmitLogins:!0,accountsEnabledForBiometry:[]};function P0e(){return typeof navigator>"u"?"en":v5(navigator.languages,w0e,{defaultLocale:"en",strategy:"lookup"})[0]}var eZ={};Na(eZ,{L:()=>sA,LoggableString:()=>TA,LoggableStringC:()=>T0A,assertLogSafe:()=>NA,assertLogSafeNum:()=>tb,joinLogsafe:()=>II});var nG=AA(OA()),O0A,S0e=Symbol(),TA=class{constructor(e){this[O0A]=0,this.toString=()=>this.str,this.toJSON=()=>this.str,this.loggableString=()=>this,this.replace=(t,r)=>NA(this.str.replace(t,r.str)),this.concat=t=>NA(this.str+t.str),this.str=e}};O0A=S0e;TA.assertLogSafe=A=>new TA(A);var II=(A,e)=>NA(A.map(t=>t.str).join(e?.str)),NA=TA.assertLogSafe,sA=(A,...e)=>II(A.flatMap((t,r)=>{let a=e[r];return a!==void 0?[NA(t),a]:[NA(t)]}),NA("")),tb=A=>NA(A.toString(10)),T0A=new nG.Type("LoggableString",A=>A instanceof TA,(A,e)=>A instanceof TA?nG.success(A):nG.failure(A,e,"cannot decode unknown value to LoggableString"),A=>A.str);function jr(A){throw new Error("Unexpected value, should have never reached this point.")}function iG(A,e){console.error(`Unexpected value of variable: "${e.str}"`)}var FhA=AA(Wr());var JKA=AA(al()),jQe=AA(vs());var he={};Na(he,{AccountAttrs:()=>ia,BeginDomainVerificationResponse:()=>gK,BoundCellType:()=>Eg,CCHeader:()=>Gi,CanOnlyPerformOidcAuth:()=>uYe,CanOnlyPerformPasswordAuth:()=>dYe,CanPerformOidcAuth:()=>lT,CanPerformPasswordAuth:()=>dU,CellAttr:()=>KE,CodeResponse:()=>m9,Context:()=>Fv,ContextInitialization:()=>FLe,DateFilterDirection:()=>Gb,DefaultByCreationParams:()=>jP,DsecretProxyResponse:()=>s9,DsecretResponse:()=>o9,DuoResponse:()=>c9,EMAIL_KEY_HANDLE:()=>ntA,EMAIL_VERIFICATION_LENGTH:()=>WZe,EmailVerificationError:()=>L1,FirewallRule:()=>b9,FirewallRuleAction:()=>Sb,FirewallRuleAnonymousType:()=>Cb,FirewallRuleScopeType:()=>bk,FirewallRuleType:()=>Pb,FirewallRules:()=>y9,GetAccountReportCsvResponse:()=>J9,GetVaultItemSnapshotsFilters:()=>qZe,GetVerifiedDomainsResponse:()=>EK,HIBPDataClass:()=>tuA,HeaderType:()=>sT,HibpUser:()=>hK,ImportFormat:()=>Gu,ItemKind:()=>Md,ItemShareAvailableTo:()=>Fk,ItemShareLinkExpiration:()=>xg,ItemShareRejectedRecipientsError:()=>lU,LoginHeader:()=>zd,MAX_CODE_ATTEMPTS_ALLOWED:()=>kZe,MEMBERSHIPS_BATCH_SIZE:()=>UO,MfaResponse:()=>p9,MfaType:()=>ll,MigratingUserEmails:()=>RKA,MigratingUserState:()=>TP,ModernAppVersion:()=>g9,MustEnableResponse:()=>d9,PendingVerifiedDomain:()=>BK,RecoveryAttemptPostCompletion:()=>fU,RecoveryCodeAttemptIdentityVerified:()=>mT,RecoveryCodeAuthenticationError:()=>zv,RecoveryCodeEmailResendError:()=>pT,RecoveryCodeEmailVerification:()=>gU,RecoveryCodeEmailVerificationError:()=>Q1,RecoveryCodeSelectVerification:()=>hU,SecureNoteHeader:()=>RE,SignupSource:()=>ck,TOTP_KEY_HANDLE:()=>jtA,TotpResponse:()=>l9,UserSignupType:()=>Y1,UsoTelemetryActions:()=>Yl,VaultsReportAttributes:()=>IP,VaultsReportTypes:()=>$P,VerifiedDomain:()=>fK,VerifiedDomainType:()=>CP,WebAuthnResponse:()=>u9,_checkPwnedPasswords:()=>_MA,acceptBanner:()=>MLe,acceptProvisionWithSSOIdentity:()=>iYe,acknowledgeNotification:()=>DWe,activateStripeBilling:()=>dNe,addAccessorToVaults:()=>MNe,addAccessorsToVault:()=>odA,addAclsToObjectData:()=>VRe,addAdminToProvisioningGroup:()=>LJe,addCard:()=>QLe,addCredentialBundle:()=>fYe,addMigratingUsers:()=>lZe,addObjectDataToGroup:()=>HRe,addOrUpdateAddress:()=>uNe,addRecoveryKeysetToGroup:()=>D1,aggregateVaultSnapshotsV2:()=>SZe,assignGroupsToApplication:()=>H3e,attachAsChildAccount:()=>ONe,batchGetWatchtowerReports:()=>JMA,beginAccountRegistration:()=>GKA,beginChangeEmail:()=>ILe,beginDomainVerification:()=>WYe,beginPasskeyAccountRegistration:()=>wKA,beginUserRecovery:()=>_Ke,beginUserSignup:()=>oYe,bootstrapObjectDataAccess:()=>WcA,brex:()=>vNe,browserSupportsWebAuthn:()=>IDe,calculatePercentageCompleted:()=>y9e,canAccessXamPql:()=>eQe,canOnlyPerformWebauthnAuth:()=>mYe,canPerformTrustedDeviceBasedAuth:()=>PKA,canPerformWebauthnAuth:()=>cT,cancelChangeEmail:()=>SLe,cancelDeviceEnrollment:()=>_Ye,cancelStripeSubscription:()=>oNe,cancelUserRecovery:()=>VO,changeDefaultCard:()=>edA,changeDefaultPaymentMethod:()=>wRA,changeDomain:()=>A3e,changeMasterPassword:()=>$Le,changeServiceAccountAvatar:()=>D3e,changeServiceAccountName:()=>_3e,changeTemplatesState:()=>$Ue,changeUserAvatar:()=>RKe,changeUserName:()=>KKe,changed:()=>Ms,checkChildAccountCode:()=>SNe,checkDomainAvailability:()=>YKe,checkGiftCard:()=>yUe,checkProvisioningEmailVerification:()=>gJe,checkPwnedPasswords:()=>ZcA,clearAllCaches:()=>TuA,clearAllCachesForContext:()=>_uA,clearContextCache:()=>lcA,clearPartialUserCache:()=>GuA,clearPartialUserCacheForContext:()=>wuA,clearServiceAccountCache:()=>CuA,clearServiceAccountCacheForContext:()=>OuA,clearUserCache:()=>fuA,clearUserCacheForContext:()=>BuA,clearVaultCache:()=>uuA,clearVaultCacheForContext:()=>duA,clearVaultWithPreviewsCache:()=>muA,clearVaultWithPreviewsCacheForContext:()=>puA,completeAccountRegistration:()=>qKA,completeActivationHubTask:()=>h3e,completeChangeEmailForPasswordUser:()=>CLe,completeChangeEmailForSsoUser:()=>OLe,completeDomainVerification:()=>JYe,completeMFASignInWithDSecret:()=>gLe,completeMFASignInWithDSecretProxy:()=>kLe,completeMFASignInWithDuo:()=>fLe,completeMFASignInWithEnable:()=>BLe,completeMFASignInWithTOTP:()=>pLe,completeMFASignInWithWebAuthn:()=>hLe,completePasskeyAccountRegistration:()=>$KA,completeReplyToConfirmation:()=>aWe,completeUserProvision:()=>BJe,completeUserRecovery:()=>DKe,completeUserSignup:()=>sYe,confirmUsers:()=>GKe,convertToBusiness:()=>NNe,convertToFamily:()=>LNe,convertToIndividual:()=>KNe,createAccountGatedFeatureTrial:()=>QZe,createAccountTemplateConfig:()=>m3e,createAccountTransferVaultPreflight:()=>luA,createAdminWatchtowerKeyset:()=>kRA,createAppleSubscription:()=>cNe,createChildAccountRelationship:()=>INe,createConnectToken:()=>q3e,createDataStreamingToken:()=>$3e,createDetailedVaultReportingKeysetV2:()=>vZe,createDetailedVaultReportingPubkeyV2:()=>KKA,createGeneratedPasswordsVault:()=>LO,createGroup:()=>HcA,createGroupMembership:()=>CE,createHealthMonitoringCheck:()=>FKA,createItemShare:()=>cWe,createManagedAccount:()=>F9e,createManagedVault:()=>M9e,createMonitoringCheck:()=>OWe,createNewContext:()=>bRA,createObjectData:()=>CO,createObjectDataAccess:()=>OO,createPersonalVault:()=>WO,createPlayStoreSubscription:()=>lNe,createProvisionManager:()=>MJe,createProvisionManagerSA:()=>vKA,createProvisionManagersGroup:()=>zJe,createProvisionUser:()=>VdA,createProvisioningProgressStep:()=>iZe,createRecoveryCodeAndPolicy:()=>NZe,createServiceAccountPreflight:()=>quA,createServiceAccountV3:()=>IuA,createSetupIntent:()=>MWe,createSharedVault:()=>WN,createSignedSupportRequest:()=>XJe,createSsoApplication:()=>R3e,createSsoSettings:()=>bYe,createSystemVault:()=>qv,createUserManagedServiceAccountObjectData:()=>KRe,createVault:()=>K9e,createVaultForAccountTransfer:()=>cuA,createVaultItems:()=>eKA,createWatchtowerPubkey:()=>juA,createWebauthnCredentials:()=>MKA,credentialBundleFromAuthResponse:()=>xYe,csvToVaultItems:()=>RdA,decryptItemShare:()=>mWe,decryptKeysets:()=>Uk,decryptObjectData:()=>XcA,delegateSession:()=>qLe,deleteAccessorFromVault:()=>TRA,deleteAccount:()=>e3e,deleteAccountCookie:()=>J3e,deleteCard:()=>eNe,deleteDevice:()=>TLe,deleteGroup:()=>CRe,deleteInactiveDevices:()=>_Le,deleteInviteVault:()=>XXe,deleteItemShare:()=>EWe,deleteObjectData:()=>PMA,deleteObjectDataAccess:()=>URe,deletePendingPaymentMethod:()=>tNe,deletePerson:()=>MKe,deleteRecoveryKey:()=>UZe,deleteSsoApplication:()=>K3e,deleteUserCookie:()=>Y3e,deleteUsers:()=>buA,deleteVault:()=>H9e,deleteVaultItemHistory:()=>oKe,deleteVaultPreflight:()=>U9e,deleteVerifiedDomain:()=>QYe,deleteWebauthnCredentialForUser:()=>jZe,derivePartsFromShareSecret:()=>pWe,detachChildAccount:()=>CNe,detailsToUser:()=>ERA,disableMFA:()=>yDe,disableServiceAccountAccess:()=>Y9e,disableTravelSafe:()=>W9e,dismissBanner:()=>RLe,enableMFA:()=>bDe,enableServiceAccountAccess:()=>J9e,enableTravelSafe:()=>X9e,encryptVaultForAPI:()=>NO,endTrialPeriod:()=>sNe,fetchAccountHandoffCertificate:()=>X3e,fetchCommonTemplates:()=>tT,fetchIdentityAccessToken:()=>MuA,fetchUserApplications:()=>M3e,filterVaultUuids:()=>LKA,findCachedUser:()=>HO,findDecryptedKeyset:()=>Ui,findLongestRowLength:()=>tU,findSsoSettings:()=>FYe,generateCredentialsFileAndBearerToken:()=>DNe,generateDSecretHmac:()=>UL,generateDemoVaultItems:()=>eUe,generateNewKeysetForGroup:()=>cp,generateReplyToConfirmation:()=>rWe,generateSessionFile:()=>UJe,generateSessionFileWithServiceAccount:()=>HJe,generateShareSecret:()=>kKA,generateWatchtowerReportForItem:()=>VMA,generateWatchtowerReportForItems:()=>auA,getAccountFeatures:()=>XuA,getAccountOverview:()=>yO,getAccountReport:()=>IJe,getAccountReportCSV:()=>CJe,getAccountShareSettings:()=>bWe,getAccountSsoApplications:()=>N3e,getAccountTemplateConfig:()=>d3e,getAccountTransfersDetails:()=>oZe,getAccountUserCounts:()=>u3e,getAccountWithAttrs:()=>Xo,getActivationHubTasks:()=>k3e,getActiveKeysetForGroup:()=>z1,getActivityFeed:()=>E3e,getAdministratorsGroup:()=>_N,getAllCreditCardItems:()=>lKe,getAllIntegrations:()=>LXe,getAllObjectDataRecordsWithDataSpec1:()=>XRe,getAllPolicies:()=>oJe,getAllTemplates:()=>wc,getAllowAccountCreationPolicy:()=>WWe,getAndSubmitAccessToken:()=>bLe,getApplicationDetails:()=>U3e,getApplicationsCatalog:()=>ZZe,getAutoDeleteSuspendedUsersPolicies:()=>tJe,getAutoLockPolicy:()=>VWe,getAutomatedQuest:()=>RZe,getAvailableTiers:()=>tdA,getAvailableTiersV3:()=>aNe,getB5xSupportsSharingSrpx:()=>aLe,getBanners:()=>zLe,getBillingStats:()=>mNe,getBrexClientInfo:()=>GNe,getCard:()=>rNe,getChildAccountRelationship:()=>PNe,getCombinedObjectAccessors:()=>RRe,getContextCache:()=>vO,getCreateVaultPreflight:()=>LN,getCustomIconForItem:()=>tKe,getDashboardReport:()=>yJe,getDateForVaultsFilter:()=>aP,getDefaultIdentityTemplate:()=>GUe,getDefaultTemplate:()=>wUe,getDefaultTiers:()=>nNe,getDefaultVaultPermissions:()=>bZe,getDeletedItemsForVault:()=>jKe,getDetailedVaultReportingStatsV2:()=>MZe,getDeveloperReport:()=>rUe,getDeveloperServiceAccountsReport:()=>oUe,getDeveloperServiceAccountsReportCsv:()=>sUe,getDeveloperSharedVaultsReport:()=>nUe,getDeveloperSharedVaultsReportCsv:()=>iUe,getDeveloperUsersReport:()=>aUe,getDeveloperUsersReportCsv:()=>jUe,getDeviceEnrollmentStatus:()=>SYe,getDocument:()=>iRA,getDocumentBlob:()=>Q9e,getDomain:()=>H1,getEmailSubscriptions:()=>lUe,getEmailTemplateByUuid:()=>dUe,getEmailTemplatePreview:()=>mUe,getEmailTemplates:()=>uUe,getEncryptedCredentialBundle:()=>BYe,getEnrollment:()=>TYe,getEntireAccount:()=>U1,getEveryoneVault:()=>gg,getFeatures:()=>DuA,getFile:()=>sRA,getFilteredActivityLogReports:()=>g3e,getFilteredActivityLogTotalReports:()=>B3e,getFirewallRules:()=>fUe,getGeneratedPasswordsVault:()=>KN,getGiftCards:()=>xUe,getGridSlackChannels:()=>OXe,getGridSlackGroups:()=>CXe,getGridSlackTeams:()=>_Xe,getGridSlackUsers:()=>TXe,getGroup:()=>In,getGroupDeadline:()=>qYe,getGroupMembersCsv:()=>_Re,getGroupMspPermissions:()=>$9e,getGroupPubKeys:()=>suA,getGroupUsersWithPermissions:()=>JO,getGroups:()=>$Re,getHibpDomainReport:()=>j9e,getHibpDomainReportCSV:()=>n9e,getHibpReport:()=>ruA,getIcons:()=>EXe,getIncomingPackages:()=>hKe,getInitializationExport:()=>xRA,getInitializationExportFromNewContext:()=>wLe,getInsightsTeamReport:()=>bXe,getInsightsTeamReportCsv:()=>yXe,getInsightsTeamReportOverview:()=>xXe,getIntegrations:()=>PuA,getInviteVaults:()=>HXe,getInvoiceDetails:()=>NLe,getInvoicePdf:()=>ULe,getInvoices:()=>LLe,getIsValidPurchaseOrderToken:()=>JLe,getIsValidStripePurchaseOrderToken:()=>YLe,getItemShareSettings:()=>iWe,getLastViewedReports:()=>DJe,getLaunchSessionData:()=>w9e,getMFA:()=>FDe,getMFAConfig:()=>GDe,getManagableGroups:()=>UcA,getManagedAccountBaseUri:()=>ZMA,getManagedAccountUri:()=>q9e,getManagedAccounts:()=>yWe,getManagedAccountsNetSeats:()=>wWe,getModernAppVersions:()=>TNe,getMonitoringStatus:()=>TWe,getMoreIncomingPackages:()=>gKe,getMspLastInvoice:()=>HLe,getMspProjectedInvoice:()=>VLe,getMukSrpXCredentials:()=>QuA,getNotifications:()=>_We,getObjectData:()=>IE,getObjectDataAccessPreflight:()=>OMA,getObjectDataAccessorsForObjectType:()=>CMA,getOidcAuthMethod:()=>SKA,getOidcProviderName:()=>gYe,getOidcWellKnownConfig:()=>$Ye,getOldDevicesReport:()=>SJe,getOpxSupportsDelegatedSessionSignInEvent:()=>nLe,getOpxSupportsSignInEvent:()=>ALe,getOpxSupportsSingleSignInEvent:()=>tLe,getOverviewReport:()=>PJe,getOwnersGroup:()=>DN,getPackagesForVaultItem:()=>pKe,getPartialUsers:()=>FuA,getPartialUsersV2:()=>v3e,getPasskeySitesList:()=>euA,getPaymentMethod:()=>KWe,getPendingDeviceEnrollments:()=>OYe,getPendingInvitation:()=>HWe,getPendingInvitations:()=>UXe,getPerson:()=>OE,getPersonalVault:()=>fg,getPersonalVaultOnlyIfCached:()=>z9e,getPreAuthFeatures:()=>zuA,getPreRegistrationFeature:()=>cJe,getPreRegistrationFeatures:()=>lJe,getPreviousVersionOfItem:()=>sKe,getProvisionDetails:()=>hJe,getProvisionManager:()=>KJe,getProvisionManagersGroup:()=>cU,getProvisionManagersV2:()=>RJe,getReceivingVault:()=>uRA,getRecoveryAttempts:()=>XZe,getRecoveryDetails:()=>LKe,getRecoveryGroup:()=>Rs,getRecoveryKeyDetails:()=>UKA,getRecoveryKeyset:()=>zN,getRecoveryPolicy:()=>NKA,getRecoveryPolicyAndKeyDetails:()=>VZe,getRecoveryPolicyUuids:()=>HZe,getRegisterURL:()=>JJe,getReleaseChannelsPolicy:()=>aJe,getRemainingAmount:()=>kNe,getResendDetails:()=>bJe,getRestrictFailedLoginAttemptsPolicy:()=>QWe,getSecurityGroup:()=>SRe,getServiceAccount:()=>ZO,getServiceAccountGroupMemberships:()=>SuA,getServiceAccountTypeSlug:()=>vXe,getServiceAccountVaultAccesses:()=>S3e,getServiceAccounts:()=>P3e,getShareAuditDetails:()=>kWe,getShareHistoryForItem:()=>jWe,getShareSeviceAuthToken:()=>BWe,getSidebarNavPolicies:()=>YWe,getSignInMethods:()=>cYe,getSignupDetails:()=>AYe,getSlackApp:()=>UdA,getSlackChannels:()=>SXe,getSlackGroups:()=>DXe,getSlackUsers:()=>MXe,getSpecialVault:()=>KO,getSshBookmarksPolicy:()=>nJe,getSsoSettings:()=>vYe,getSubscription:()=>P6,getSupportAccountsList:()=>KYe,getSystemVault:()=>dp,getTaxAdvice:()=>rdA,getTeamMembersGroup:()=>lp,getTemplates:()=>RRA,getTrustpilotReviewData:()=>VYe,getTwoFactorSitesList:()=>AuA,getUpgradeTiers:()=>jNe,getUsageReportsWithCursors:()=>GJe,getUsageReportsWithFilters:()=>FJe,getUserCombinedObjectDataAccess:()=>hg,getUserCombinedObjectDataAccesses:()=>MRe,getUserCombinedObjectDataAccessesForObjectTypes:()=>IMA,getUserCookies:()=>W3e,getUserMspPermissions:()=>G9e,getUserPubKeys:()=>vu,getUserReport:()=>vJe,getUserUsageReportOverview:()=>wJe,getValidPromotionFromCode:()=>WLe,getVault:()=>Xk,getVaultAccessUuids:()=>DZe,getVaultItemHistory:()=>iKe,getVaultItemSnapshotsByUuidsV2:()=>CZe,getVaultItemWithUuid:()=>aRA,getVaultItems:()=>Dd,getVaultItemsOverviews:()=>jRA,getVaultManagers:()=>XYe,getVaultReport:()=>qJe,getVaultReportingGroupMemberships:()=>zZe,getVaultReportingSync:()=>wZe,getVaultReportingVaultOverviews:()=>FZe,getVaultReportingVaultOverviewsPage:()=>GZe,getVaults:()=>SE,getVaultsByCreation:()=>T9e,getVaultsForAccountTransfer:()=>D9e,getVaultsReport:()=>$Je,getVaultsV2:()=>O9e,getVerifiedDomains:()=>YYe,getWatchtowerData:()=>QcA,getWatchtowerPubkey:()=>E9e,getWatchtowerReportCounts:()=>WMA,getWatchtowerReports:()=>x9e,getWatchtowerStats:()=>b9e,getWebAuthnAssertion:()=>$De,getWebauthnAuthMethod:()=>hYe,getWebauthnCredentialsForUser:()=>aZe,grantGroupAccessToWatchtowerKeyset:()=>n3e,handleDelegatedSessionRequest:()=>xLe,handleDelegatedSessionSignInSuccess:()=>YuA,handleLegacySignInSuccess:()=>BRA,handleObjectDataMigration:()=>WRe,handleSignInSuccess:()=>TE,handleTrustedDeviceUpgradeRequest:()=>YZe,hasAutoDeleteSuspendedUsersUnleashFlag:()=>eJe,importPasskeySitesList:()=>t9e,importTwoFactorSitesList:()=>e9e,importVaultItems:()=>tKA,importWatchtowerData:()=>A9e,importer:()=>NdA,initialize:()=>GLe,insightsTelemetry:()=>mZe,invalidateCache:()=>Ra,inviteUsersViaEmail:()=>WXe,inviteViaSlack:()=>JXe,isEncryptedOd:()=>JcA,isItemShareRejectedRecipientsError:()=>lWe,isOwnerOrSecurityOrEamGroupFromContext:()=>KcA,isSignedInAccountLoaded:()=>qRe,kickoffDeviceEnrollment:()=>PYe,legacySignUpAccount:()=>ZJe,linkAccountToPartner:()=>pNe,loadAllWatchtowerDataLists:()=>MO,loadCommonPasswordsList:()=>ZRe,loadHibpReport:()=>i9e,loadPasskeySitesList:()=>KMA,loadPassphraseWordList:()=>JRe,loadTwoFactorSitesList:()=>MMA,loadUniverse:()=>pRA,loadWatchtowerData:()=>DMA,lockedOutDeleteAccount:()=>r3e,lookUpInvitation:()=>ZXe,lookUpTeamInvitation:()=>QXe,makeWebAuthnCredential:()=>qDe,markAwayForTravel:()=>OKe,markBackFromTravel:()=>TKe,markGroupReadyForPurging:()=>ORe,markPackageAsRead:()=>fKe,markSignatureInvalid:()=>zYe,mergeInPubKeys:()=>R1,migrateVaults:()=>qWe,oAuthRefreshToken:()=>wNe,parse:()=>pp,parseMigratingUsersCsv:()=>cZe,patchSsoApplication:()=>L3e,patchVaultItems:()=>Fc,performSignInAccountChecks:()=>yuA,personalVaultName:()=>XN,postBrexRefreshToken:()=>CRA,postBrexVerifier:()=>FNe,postFastmailRefreshToken:()=>hUe,postFastmailVerifier:()=>kUe,postFirewallRules:()=>gUe,postHibpDomainReportNotify:()=>a9e,postImage:()=>vuA,postSlackAccessToken:()=>KXe,postSlackNonce:()=>RXe,postTemplate:()=>qUe,postUniqueUserCountForGroups:()=>DRe,postUpdatedCredentials:()=>vRA,prepProvisionUser:()=>XO,prepServiceAccount:()=>$uA,privacycom:()=>mJe,processIncomingPackages:()=>guA,promptConfirmChangeEmail:()=>PLe,purgeDeletedVaultItemForVault:()=>nKe,putGroupApplicationAssignment:()=>zRe,putVaultReportingSnapshotsV2:()=>imA,reEncryptRequiredData:()=>SMA,reactivateUsers:()=>zKe,receiveMsgA:()=>gZe,receiveMsgB:()=>rmA,receiveSharedCredentials:()=>xZe,receiveTagA:()=>BZe,receiveTagB:()=>jmA,recoverUserWithSSOIdentity:()=>nYe,recoveryVerifyEmailAuth:()=>HKe,recoveryVerifyEmailResend:()=>UKe,recoveryVerifyEmailStart:()=>NKe,recreateProvisionManager:()=>VJe,redeemGiftCard:()=>bUe,refreshKeysets:()=>fN,refreshKeysetsIfNecessary:()=>FO,regenerateSignUpLink:()=>eWe,registerAccount:()=>rYe,registerPasskeyAccount:()=>aYe,registerPasskeyForUser:()=>rZe,registerServiceAccountTokenRequest:()=>YO,registerUserWithSSOIdentity:()=>jYe,registerWebauthnCredential:()=>DKA,reloadUniverse:()=>XKe,removeEmptyColumns:()=>kdA,removePackage:()=>BKe,removePackages:()=>mKe,removeSCIMSetupAdministrator:()=>NJe,renameServiceAccountToken:()=>G3e,reportAuditEvent:()=>f3e,reportOutdatedBrowser:()=>UWe,reportUsoAction:()=>pZe,requestAccountDeletion:()=>LYe,requestBrexAccessToken:()=>qNe,requestInvoiceEmail:()=>ZLe,requestSupportEmail:()=>RYe,require2FAOnNextSignIn:()=>DLe,resendAllUserProvision:()=>xJe,resendInvitations:()=>YXe,resendProvisioningEmailVerification:()=>fJe,resendUserProvision:()=>EJe,resendVerificationEmail:()=>lYe,resetContext:()=>hN,revokeAllServiceAccountTokensForAccount:()=>w3e,revokeInvitations:()=>tWe,revokeServiceAccountToken:()=>F3e,revokeVaultAccess:()=>ldA,runBackgroundMigrations:()=>aQe,runBlockingMigrations:()=>rQe,saveDecryptedKeysets:()=>gN,saveNotificationSettings:()=>zWe,scrubClientSecret:()=>YdA,searchGroupsCount:()=>IRe,sendFeedback:()=>BUe,sendGroup:()=>PE,sendItemSnapshotToServer:()=>_Ze,sendMFACode:()=>vDe,sendMsgA:()=>tmA,sendMsgB:()=>fZe,sendNoSigninPastMonthEmail:()=>_Je,sendPackage:()=>kKe,sendPackages:()=>uKe,sendPerformanceTraces:()=>tQe,sendTagA:()=>amA,sendTagB:()=>EZe,sendTestEmailWithOverrides:()=>pUe,sendUnredeemedFamilyAccountEmail:()=>TJe,sendUnusedPrivateVaultEmail:()=>OJe,sendVault:()=>$v,setActiveUser:()=>EuA,setB5xSupportsSharingSrpx:()=>jLe,setCachedUsers:()=>vKe,setOpxSupportsDelegatedSessionSignInEvent:()=>iLe,setOpxSupportsSignInEvent:()=>eLe,setOpxSupportsSingleSignInEvent:()=>rLe,setUserCookie:()=>RuA,setupCredentialBundle:()=>EYe,setupMsp:()=>ouA,shareCredentials:()=>nmA,signIn:()=>Pv,signInWithCredentialBundle:()=>HuA,signInWithEmailAndPasswordGetUniverse:()=>lLe,signInWithFederatedSession:()=>oLe,signInWithPasskeyAuth:()=>sLe,signInWithRecoveryCodePasskeys:()=>cLe,signInWithRecoveryCodePwSk:()=>uLe,signOut:()=>vLe,signUpAccount:()=>QJe,signUpAndGetInfo:()=>YJe,ssoValidateEnd:()=>wYe,ssoValidateStart:()=>GYe,startOidcAuth:()=>LWe,startRecoveryWithRecoveryCode:()=>JZe,startUserProvision:()=>XdA,submitDepartureSurvey:()=>HYe,subscribeWithStripe:()=>iNe,suspendMigratedUser:()=>dZe,suspendUserProvision:()=>kJe,suspendUsers:()=>xuA,teamInvitePerson:()=>AWe,toWatchtowerReportForApi:()=>d9e,trimItemForSharing:()=>mKA,unlinkManagedAccount:()=>vWe,unloadAllWatchtowerDataLists:()=>RO,unloadCommonPasswordsList:()=>QRe,unloadPasskeySitesList:()=>LMA,unloadPassphraseWordList:()=>YRe,unloadTwoFactorSitesList:()=>RMA,unloadWatchtowerData:()=>zMA,unsafeCancelDeviceEnrollment:()=>DYe,unsafeGetDeviceEnrollmentStatus:()=>CYe,updateAccount:()=>ZKe,updateAccountGatedFeatureTrial:()=>AQe,updateAccountShareSettings:()=>xWe,updateAccountTemplateConfig:()=>p3e,updateAllowAccountCreationPolicy:()=>JWe,updateApplicationDeviceCheckStatus:()=>V3e,updateApplicationDeviceCheckStatuses:()=>gRA,updateAutoDeleteSuspendedUsersPolicies:()=>rJe,updateAutoLockPolicy:()=>XWe,updateBillingSettings:()=>QKe,updateBulkGroupVaultAccessPermissions:()=>sdA,updateCard:()=>ANe,updateDefaultVaultPermissions:()=>yZe,updateEmailSubscriptions:()=>cUe,updateGroup:()=>TRe,updateGroupMembershipRole:()=>xKe,updateGroupMemberships:()=>Iv,updateGroupMspPermissions:()=>I9e,updateGroupPermissions:()=>VcA,updateInviteVault:()=>VXe,updateLocalCredentials:()=>yRA,updateMigratingUserState:()=>uZe,updatePaymentMethod:()=>RWe,updateReleaseChannelsPolicy:()=>jJe,updateRestrictFailedLoginAttemptsPolicy:()=>AJe,updateServerSignup:()=>eYe,updateServerSignupAccountType:()=>tYe,updateServiceAccount:()=>z3e,updateSidebarNavPolicies:()=>ZWe,updateSlackApp:()=>zXe,updateSshBookmarksPolicy:()=>iJe,updateSsoSettings:()=>yYe,updateSubscription:()=>XLe,updateUser:()=>yKe,updateUserMemberships:()=>VN,updateVault:()=>UN,updateVaultAccessPermissions:()=>RNe,updateVaultClientAccess:()=>V9e,updateVerifiedDomain:()=>ZYe,updateWebauthnCredentialForUser:()=>nZe,upgradeGuestToMember:()=>$Ke,uploadDocument:()=>AKe,uploadFile:()=>eKe,uploadVaultItemSnapshots:()=>TZe,uploadWatchtowerReports:()=>B9e,verifyLockedOutAccountDeletion:()=>t3e,verifyMasterPassword:()=>AdA,verifyOidc:()=>NWe,verifyPasskey:()=>tZe,verifyTotp:()=>wDe,verifyWebauthnCredentialAttestation:()=>zKA});var RA={};Na(RA,{ACTIVITIES_BATCH_SIZE:()=>yIe,AbortSignal:()=>u2A,AccessorPreview:()=>C2A,Account:()=>tSA,AccountAttrs:()=>oP,AccountFlags:()=>HPA,AccountInfo:()=>mOA,AccountMeta:()=>JR,AccountRegistrationResponse:()=>pOA,AccountSettings:()=>r9,AccountSupportInfo:()=>bOA,AccountTemplatesResponse:()=>wPA,AccountTransferDetails:()=>OOA,AccountUserCounts:()=>jSA,Activity:()=>LtA,ActivityFeedType:()=>KtA,ActivityLogTotalReports:()=>kSA,ActivityWithCursor:()=>pSA,AddRecoverableMaterialRequest:()=>$ze,AddRecoverableMaterialResponse:()=>PzA,AffectedUserCountsResponse:()=>vPA,AggregateVaultSnapshotApp:()=>o5A,AggregateVaultSnapshotsRequest:()=>kDe,AggregateVaultSnapshotsResponse:()=>s5A,AllPoliciesResponse:()=>mCA,AllowAccountCreationLastUpdatedByUser:()=>aCA,AllowAccountCreationPolicyDefinition:()=>rCA,AllowAccountCreationPolicyResponse:()=>jCA,AllowedWatchtowerDomainsSettings:()=>iIe,ApplicationCatalogItem:()=>KzA,ApplicationCatalogReponse:()=>LzA,AttestationConveyancePreference:()=>a2A,Auth:()=>XtA,AuthMethod:()=>vk,AuthParams:()=>ew,AuthStates:()=>uP,AuthenticationExtensionsClientInputs:()=>l2A,AuthenticatorAssertionResponse:()=>m2A,AuthenticatorAttachment:()=>n2A,AuthenticatorAttestationResponse:()=>d2A,AuthenticatorSelectionCriteria:()=>o2A,AuthenticatorTransport:()=>j2A,AutoDeleteSuspendedUsersPolicyRequest:()=>ASA,AutoDeleteSuspendedUsersPolicyResponse:()=>ktA,AutoDeleteSuspendedUsersSettings:()=>oIe,AutoLockLastUpdatedByUser:()=>W2A,AutoLockPolicyDefinition:()=>X2A,AutoLockPolicyResponse:()=>J2A,BannerClosedStatus:()=>tw,BannerGroupTimeouts:()=>bSA,BannerInstance:()=>xSA,BannerInstances:()=>erA,BasePerson:()=>R9,BeginDomainVerificationResponse:()=>gK,BillingInfo:()=>WPA,BillingSettings:()=>XPA,BillingSupportInfo:()=>xOA,BleAuthenticatorTransport:()=>NSA,BrexClientInfoResponse:()=>ROA,BrexRefreshToken:()=>MOA,BrexRequestAccessTokenResponse:()=>KOA,BrexVerifier:()=>zOA,CheckDomainAvailabilityResponse:()=>rSA,CheckDomainRequest:()=>sIe,ClientRestrictionSettings:()=>ZPA,CodeResponse:()=>m9,CombinedObjectAccessor:()=>O2A,CompanyRole:()=>eK,CompleteAuthResponse:()=>k9,ConfirmKeyResponse:()=>fSA,CreateRecoveryKeyRequest:()=>bze,CreateRecoveryPolicyRequest:()=>wze,CreateRecoveryPolicyResponse:()=>IzA,CreateServiceAccountPreflightResponse:()=>nOA,CredentialAssertionResponse:()=>k4e,CredentialBundleAuthResponse:()=>aw,CredentialCreationOptions:()=>F9,CredentialCreationResponse:()=>p4e,DEFAULT_RELEASE_CHANNEL:()=>U9,DEFAULT_SNAPSHOT_RETRIEVAL_PAGE_SIZE:()=>JC,DataType:()=>xi,DefaultByCreationParams:()=>jP,DelegateSessionResponse:()=>BSA,DepartureReason:()=>BiA,DepartureType:()=>fiA,DetailedVaultReportingStatsResponseV2:()=>k5A,DeviceEnrollment:()=>EOA,DeviceEnrollmentRequest:()=>KPe,DeviceEnrollmentResponse:()=>BOA,DeviceEnrollmentState:()=>uK,DeviceEnrollmentStateCodec:()=>dK,DeviceEnrollmentStatusResponse:()=>iiA,DiscouragedUserVerificationRequirement:()=>JSA,DsecretProxyResponse:()=>s9,DsecretResponse:()=>o9,DuoResponse:()=>c9,DuoSettings:()=>ZR,Durations:()=>bPe,EMAIL_KEY_HANDLE:()=>ntA,EnableMfaResponse:()=>KPA,EncryptedCredentialBundle:()=>Ch,EncryptedDeviceCredentials:()=>n4e,EntityCounts:()=>a9,Event:()=>GIe,ExpiresIn:()=>JaA,ExtendedPartialUser:()=>RtA,FastmailAccountId:()=>DOA,FastmailVerifier:()=>_OA,Feature:()=>XOA,FeaturesList:()=>ioA,Feedback:()=>r4e,File:()=>brA,FileReference:()=>yCA,FindSsoGroupDeadlineResponse:()=>yPA,FirewallRule:()=>b9,FirewallRuleScope:()=>_SA,FirewallRules:()=>y9,GatedFeatureTrial:()=>eSA,GenericAccountPolicy:()=>dCA,GetAccountHandoffCertificateResponse:()=>VzA,GetAccountReportCsvResponse:()=>J9,GetActivationHubTasksResponse:()=>oSA,GetCombinedObjectAccessorsResponse:()=>_2A,GetDeviceTrustAccessTokenResponse:()=>UzA,GetEmailTemplatePreviewRequestIo:()=>A4e,GetEmailTemplateResponse:()=>SSA,GetEmailTemplatesResponse:()=>PSA,GetGroupMembersCsvResponse:()=>CPA,GetGroupsResponse:()=>tIe,GetIdentityAccessTokenResponse:()=>NzA,GetIntegrationsResponse:()=>jOA,GetPendingInvitationResponseIo:()=>N2A,GetServiceAccountsResponse:()=>rOA,GetSignInAttemptRequest:()=>SPe,GetSignInAttemptsResponse:()=>sOA,GetSignInAttemptsResponseV2:()=>lOA,GetSlackChannelsResponse:()=>XnA,GetSuggestedDomainResponse:()=>aSA,GetUserApplicationsResponse:()=>HzA,GetUserCredentialsResponse:()=>p2A,GetVaultItemSnapshotsByUuidsRequest:()=>hDe,GetVaultItemSnapshotsRequest:()=>pDe,GetVerifiedDomainsResponse:()=>EK,GetWebAuthnChallengeResponse:()=>LPA,Group:()=>QG,GroupApplicationAssignmentRequest:()=>aIe,GroupMembership:()=>Ha,GroupPubKey:()=>SPA,GroupUuidsBatch:()=>BDe,HibpBreach:()=>CiA,HibpDomainReport:()=>IOA,HibpDomainReportCsv:()=>POA,HibpUser:()=>hK,HybridAliasAuthenticatorTransport:()=>HSA,HybridAuthenticatorTransport:()=>USA,IconSet:()=>YG,IdentityProviders:()=>E6,IncomingPackage:()=>z9,IncomingPackageOverviewV2:()=>ejA,IncomingPackageV2:()=>L2A,InsightsBreachesSortAttrs:()=>qrA,InsightsPaginationQueryParams:()=>gP,InsightsReportsSortAttrs:()=>$rA,InsightsSortingQueryParams:()=>Sh,InsightsTeamReport:()=>MSA,InsightsTeamReportCsv:()=>RSA,InsightsTeamReportOverview:()=>DSA,InsightsTeamReportUser:()=>zSA,InsightsTeamUsageIssueType:()=>PrA,InsightsTeamUsageSortAttrs:()=>IrA,Integration:()=>aOA,InternalAuthenticatorTransport:()=>VSA,InviteSettings:()=>VPA,ItemDetailResponse:()=>vCA,ItemHistoryMetadata:()=>FCA,ItemHistoryResponse:()=>GCA,ItemShareAvailableTo:()=>Fk,ItemShareRecipientType:()=>Dm,ItemShareState:()=>$9,ItemUsageAction:()=>xP,ItemsResponse:()=>anA,LastAuthDeviceForEnrollment:()=>fOA,LastAuthDeviceType:()=>cK,LastAuthDeviceTypeCodec:()=>gOA,LastViewedReport:()=>YCA,LastViewedReports:()=>ZCA,LimitedVaultsResponse:()=>IPA,MAX_ALLOWED_FAILED_LOGIN_ATTEMPTS:()=>pPe,MAX_EMAIL_BATCH_SIZE:()=>PP,MAX_SNAPSHOTS_RETRIEVAL_VAULTS_COUNT:()=>XlA,MIN_ALLOWED_FAILED_LOGIN_ATTEMPTS:()=>L9,MIN_LOCKOUT_PERIOD:()=>N9,ManagedAccount:()=>xaA,ManagedAccountNetSeats:()=>y2A,ManagedAccountState:()=>I9,MasterPasswordPolicySettings:()=>e9,MasterPasswordPolicyType:()=>qb,MfaCodeParams:()=>TPA,MfaConfig:()=>RPA,MfaParams:()=>zPA,MfaResponse:()=>p9,MfaTotpParams:()=>_PA,MfaType:()=>ll,MfaWebAuthnParams:()=>DPA,MigratingUserState:()=>TP,ModernAppVersion:()=>g9,MonitoringStatus:()=>F2A,MsgA:()=>ySA,MsgB:()=>vSA,MspGroupPermissionsRequest:()=>Y4e,MspGroupPermissionsResponse:()=>w2A,MspUserPermissionsResponse:()=>G2A,MustEnableResponse:()=>d9,NativeOidcState:()=>u4e,NfcAuthenticatorTransport:()=>XSA,NotificationType:()=>SaA,ObjectData:()=>vP,ObjectDataAccess:()=>oB,ObjectDataAccessAcl:()=>Os,ObjectDataAccessAclCodec:()=>$2A,ObjectDataAccessAclScopeCodec:()=>I2A,ObjectDataAccessPreflightResponse:()=>z2A,ObjectDataAccessScope:()=>os,ObjectDataAccessScopeCodec:()=>O9,ObjectDataAccessState:()=>iw,ObjectDataAccessStateCodec:()=>P2A,ObjectDataAccessorType:()=>cc,ObjectDataAccessorTypeCodec:()=>DaA,ObjectDataAccessorsForObjectTypeResponse:()=>_9,ObjectDataAcl:()=>C9,ObjectDataAclCodec:()=>rPe,ObjectDataPreflightResponse:()=>D2A,ObjectDataValue:()=>S2A,ObjectDataWithSpec1Response:()=>M2A,ObjectType:()=>vo,OidcAuth:()=>fP,OidcAuthMethod:()=>h2A,OptionalVaultReportingSyncResponse:()=>c5A,Package:()=>R2A,PackageOverviews:()=>tjA,PartialUser:()=>Uo,PasswordAuth:()=>q9,PasswordAuthMethod:()=>k2A,PatchVaultItemsResponse:()=>wCA,PendingVerifiedDomain:()=>BK,PerfTrace:()=>Hze,Person:()=>sB,PolicyContexts:()=>bi,PolicyNames:()=>yi,PostRecoveryKeyUserRegistrationRequest:()=>Rze,PostRecoveryKeyUserRegistrationResponse:()=>RzA,PreferredUserVerificationRequirement:()=>YSA,PreviewGroup:()=>qPA,PreviewUser:()=>$PA,ProvisionedGroupKeyset:()=>kCA,ProvisionedKeys:()=>hCA,ProvisionedVaultKey:()=>pCA,ProvisioningSettings:()=>A9,PublicKeyCredentialCreationOptions:()=>c2A,PublicKeyCredentialDescriptor:()=>s2A,PublicKeyCredentialParameters:()=>e2A,PublicKeyCredentialRpEntity:()=>t2A,PublicKeyCredentialType:()=>v9,PublicKeyCredentialUserEntity:()=>r2A,ReadOnlyAuth:()=>f2A,RecoverableGroupKeyset:()=>fCA,RecoverableKeys:()=>ECA,RecoverableKeysForPeople:()=>xCA,RecoverablePackageKey:()=>BCA,RecoverableVaultKey:()=>gCA,RecoveryAttempt:()=>OzA,RecoveryAttemptIdentityVerificationCompleteAux:()=>_zA,RecoveryAttemptsResponse:()=>TzA,RecoveryGetAttemptStatusResponse:()=>DzA,RecoveryGetMaterialResponse:()=>MzA,RecoveryKeyResponse:()=>$zA,RecoveryKeyStartRequest:()=>hze,RecoveryKeyState:()=>X6A,RecoveryPolicyResponse:()=>CzA,RecoveryPolicyUuidsResponse:()=>SzA,RecoverySrpARequest:()=>fze,RecoverySrpBResponse:()=>wzA,RecoverySrpConfirmKeyRequest:()=>Eze,RecoverySrpConfirmKeyResponse:()=>qzA,ReleaseChannelsPolicyDefinition:()=>oCA,ReleaseChannelsPolicyResponse:()=>sCA,ReplyToEmailSettings:()=>JPA,ReportAccount:()=>LCA,ReportAccountUser:()=>RCA,ReportCursors:()=>CCA,ReportDashboardOverview:()=>bCA,ReportItem:()=>pnA,ReportItemUsage:()=>OCA,ReportOldDevice:()=>WCA,ReportOldDeviceDevice:()=>XCA,ReportOldDevices:()=>JCA,ReportOldDevicesOverview:()=>VCA,ReportOldDevicesOverviewClient:()=>HCA,ReportOverview:()=>UCA,ReportSectionAccountOverview:()=>KCA,ReportSectionExtendedAccountOverview:()=>NCA,ReportSectionUserItemUsage:()=>ICA,ReportSectionUserOverview:()=>qCA,ReportSectionVaultItemUsage:()=>DCA,ReportSectionVaultOverview:()=>TCA,ReportSections:()=>qP,ReportUser:()=>PCA,ReportUserItemUsage:()=>$CA,ReportUserItemUsageOverview:()=>SCA,ReportVault:()=>zCA,ReportVaultItemUsage:()=>_CA,ReportVaults:()=>MCA,RequiredUserVerificationRequirement:()=>ZSA,ResidentKeyRequirement:()=>MrA,RestrictFailedLoginAttemptsPolicyDefinition:()=>ACA,RestrictFailedLoginAttemptsPolicyResponse:()=>eCA,SendMfaCodeResponse:()=>MPA,SendMsgbRequest:()=>qIe,SendTagbRequest:()=>$Ie,Sender:()=>K2A,ServiceAccount:()=>eOA,ServiceAccountBillables:()=>CnA,ServiceAccountToken:()=>Q9,ServiceAccountType:()=>Aa,ServiceAccountUser:()=>tOA,ServiceAccountVaultAccess:()=>SnA,ServiceAccountsPartialUser:()=>dP,SessionKeyRestoreResponse:()=>UOA,SessionKeySaveResponse:()=>NOA,SetUpCredentialBundleRequest:()=>b4e,SetUpCredentialBundleResponse:()=>B2A,SharedCredentialBundle:()=>wSA,SidebarNavPolicy:()=>Z2A,SidebarNavigationPoliciesSettings:()=>t9,SignInAttemptReasons:()=>Dh,SignInAuxInfoTypes:()=>uB,SignInTokenDetails:()=>yk,Signup:()=>SP,SignupFeatureCreditCardForm:()=>cOA,SignupFeatureUnlockWithPasskey:()=>uOA,SignupFeatures:()=>dOA,SlackApp:()=>jK,SlackAppState:()=>Rm,SlackChannel:()=>oK,SlackGroup:()=>lK,SlackNonce:()=>nK,SlackSettings:()=>YR,SlackTeam:()=>sK,SlackUser:()=>iK,SlackUsers:()=>VnA,SrpResponse:()=>gSA,SshBookmarksPolicyDefinition:()=>cCA,SshBookmarksPolicyResponse:()=>uCA,SsoApplication:()=>bE,SsoAuthResponse:()=>LSA,SsoAuthenticationPolicy:()=>zR,SsoFederationSettings:()=>EPA,SsoGroup:()=>aeA,SsoMigrationGracePeriod:()=>rP,SsoOidcIdentity:()=>_Pe,SsoOidcState:()=>d4e,SsoOidcWellKnownSettingsRequest:()=>V8e,SsoSettings:()=>xPA,SsoSignInOptions:()=>x4e,SsoState:()=>MR,SsoValidateResponse:()=>bPA,StandardMfaParams:()=>VR,StartAuthResponse:()=>hSA,StartEmailVerificationRequest:()=>Tze,StartEmailVerificationResponse:()=>zzA,StartRecoveryResponse:()=>GzA,SubmitEmailVerificationRequest:()=>Dze,SupportGetAccounts:()=>FOA,SupportInfo:()=>vOA,SupportSettings:()=>QR,TOTP_KEY_HANDLE:()=>jtA,TagA:()=>FSA,TagB:()=>GSA,Task:()=>iSA,TeamMemberPoliciesSettings:()=>QPA,TimePeriod:()=>Gd,TotpResponse:()=>l9,TraceSubmissionResult:()=>WzA,TrustedDeviceUpgradeEventRequest:()=>i4e,TrustpilotData:()=>qOA,TwoFactorSettings:()=>YPA,UniqueUserCountForGroupsRequest:()=>rIe,UniqueUserCountResponse:()=>OPA,UpdateGroupMembershipsResponse:()=>YeA,UpdateObjectDataRequest:()=>aPe,UpdateSignupRequest:()=>TPe,UsbAuthenticatorTransport:()=>WSA,User:()=>iP,UserCombinedObjectDataAccess:()=>T9,UserCombinedObjectDataAccessResponse:()=>T2A,UserCookie:()=>$OA,UserFilterType:()=>cw,UserFlags:()=>UPA,UserKeysets:()=>x2A,UserMeta:()=>DPe,UserPubKey:()=>H2A,UserSupportInfo:()=>yOA,UserVerificationRequirement:()=>i2A,UserWebauthnCredential:()=>G9,Vault:()=>Kl,VaultAccess:()=>Tm,VaultClaim:()=>Z9,VaultItem:()=>_h,VaultItemSnapshotsByUuidsResponseV2:()=>l5A,VaultItemSnapshotsResponseV2:()=>i5A,VaultItemTemplate:()=>ZG,VaultItemTemplateAttrs:()=>GPA,VaultItemTemplateIcons:()=>FPA,VaultManagers:()=>SOA,VaultReportingGroupMembership:()=>m5A,VaultReportingGroupMembershipsResponse:()=>p5A,VaultReportingVaultAccess:()=>u5A,VaultReportingVaultAccessResponse:()=>d5A,VaultReportingVaultOverviewResponse:()=>n5A,VaultUuidsBatch:()=>fDe,VaultsReportAttributes:()=>IP,VaultsReportTypes:()=>$P,VerifiedDomain:()=>fK,VerifiedDomainType:()=>CP,VerifyMfaResponse:()=>Aw,WatchtowerReportItem:()=>lSA,WatchtowerReportVaultData:()=>sSA,WatchtowerReports:()=>cSA,WatchtowerStats:()=>uSA,WebAuthnResponse:()=>u9,WebauthnAssertion:()=>zrA,WebauthnAuth:()=>BP,WebauthnAuthMethod:()=>g2A,WebauthnCredentialDescriptor:()=>QSA,WebauthnPublicKeyRequest:()=>A2A,WellKnownUrlRequest:()=>X8e,WellKnownUrlResponse:()=>BPA,acceptProvision:()=>H9,acknowledgeNotification:()=>TaA,activateAccount:()=>gtA,activateRecoveryKey:()=>Gze,addCredentialBundle:()=>XrA,addDevice:()=>crA,addObjectData:()=>FP,addRecoverableMaterial:()=>Ize,addRecoveryKeysetToGroup:()=>etA,addVaultAccess:()=>UR,aggregateVaultSnapshotsV2:()=>JlA,beginChangeEmail:()=>dtA,beginDomainVerification:()=>MiA,beginRecovery:()=>QjA,billing:()=>br,cancelChangeEmail:()=>mtA,cancelDeviceEnrollment:()=>ciA,cancelRecovery:()=>AnA,changeAccountType:()=>sP,changeDomain:()=>GtA,changeTemplatesState:()=>heA,changeUserAvatar:()=>wP,changeUserName:()=>GP,checkDomainAvailability:()=>vtA,checkProvisioningEmailVerification:()=>UjA,completeActivationHubTask:()=>TtA,completeAuth:()=>YtA,completeChangeEmail:()=>WR,completeDomainVerification:()=>RiA,completeRecovery:()=>enA,completeReplyToConfirmation:()=>naA,completeUserProvision:()=>VjA,confirmKeyAuth:()=>JtA,confirmUsersWithMemberships:()=>djA,confirmUsersWithMembershipsAndVaultAccessList:()=>pjA,confirmUsersWithVaultAccessList:()=>mjA,continueRecovery:()=>V9,convertPwnedApiResponseToHashes:()=>wOA,createAccountGatedFeatureTrialAction:()=>ncA,createAccountTemplateConfig:()=>StA,createAccountTransferVaultPreflight:()=>qeA,createDetailedVaultReportingPubkeyV2:()=>UlA,createGroup:()=>XeA,createItemShare:()=>maA,createLaunchSession:()=>FaA,createManagedAccount:()=>yaA,createMonitoringCheck:()=>yP,createObjectData:()=>LaA,createObjectDataAccess:()=>MaA,createProvisionUser:()=>_jA,createProvisioningProgressStep:()=>UiA,createRecoveryKey:()=>yze,createRecoveryPolicy:()=>qze,createServiceAccountPreflight:()=>DnA,createServiceAccountV3:()=>OnA,createSsoApp:()=>Z6A,createSsoSettings:()=>jeA,createVault:()=>$eA,createVaultForAccountTransfer:()=>IeA,createWatchtowerPubkey:()=>MtA,delegateSession:()=>kP,deleteAccessorFromVault:()=>CeA,deleteAccount:()=>xtA,deleteAccountCookie:()=>PiA,deleteAllDevices:()=>ZIe,deleteDevice:()=>urA,deleteGroup:()=>WeA,deleteInactiveDevices:()=>drA,deleteInviteVault:()=>laA,deleteItemShare:()=>gaA,deleteObjectData:()=>HaA,deleteObjectDataAccess:()=>RaA,deletePerson:()=>ujA,deleteRecoveryKey:()=>Fze,deleteSsoApp:()=>Q6A,deleteUserCookie:()=>SiA,deleteUserCredential:()=>UrA,deleteUsers:()=>cjA,deleteVault:()=>SeA,deleteVaultItemHistory:()=>dnA,deleteVaultPreflight:()=>PeA,deleteVerifiedDomain:()=>NiA,destroySessionRestorationKey:()=>ASe,disableMfa:()=>otA,disableServiceAccountAccess:()=>ReA,disableTravelSafe:()=>zeA,enableMfa:()=>itA,enableMfaWithAuth:()=>QtA,enableServiceAccountAccess:()=>MeA,enableTravelSafe:()=>DeA,endpointForFile:()=>EA,extendSession:()=>mP,externalUserActorType:()=>FIe,findFirstDateOfDuration:()=>yPe,findOldestUsageDate:()=>vPe,findRecoveryDetails:()=>WjA,generateReplyToConfirmation:()=>jaA,getAccountApplications:()=>ecA,getAccountHandoffCertificate:()=>jcA,getAccountOverview:()=>$tA,getAccountReport:()=>xnA,getAccountReportCsv:()=>vnA,getAccountShareSettings:()=>BaA,getAccountTemplateConfig:()=>PtA,getAccountTemplates:()=>peA,getAccountTransfersDetails:()=>HiA,getAccountUserCounts:()=>qtA,getAccountWithAttrs:()=>htA,getActivationHubTasks:()=>OtA,getActivityFeed:()=>VtA,getActivityLogDefaultStartTime:()=>i9,getAffectedUserCounts:()=>J8e,getAllObjectDataWithDataSpec1:()=>XaA,getAllPolicies:()=>TjA,getAllowAcocuntCreationPolicy:()=>wjA,getAppDetails:()=>tcA,getApplicationsCatalog:()=>W6A,getAuthMethods:()=>VrA,getAutoDeleteSuspendedUsersPolicies:()=>$jA,getAutoLockPolicy:()=>xjA,getAutomatedQuest:()=>V6A,getBannersForSession:()=>trA,getBrexClientInfo:()=>AoA,getCombinedObjectAccessors:()=>UaA,getCommonPasswordsList:()=>viA,getCreateVaultPreflight:()=>weA,getDashboardReport:()=>rnA,getDateForVaultsFilter:()=>aP,getDefaultTemplate:()=>LR,getDefaultVaultPermissions:()=>joA,getDeletedVaultItems:()=>cnA,getDetailedVaultReportingPubkeyV2:()=>HlA,getDetailedVaultReportingStatsV2:()=>t6A,getDeveloperReport:()=>arA,getDeveloperServiceAccountsReport:()=>srA,getDeveloperServiceAccountsReportCsv:()=>lrA,getDeveloperSharedVaultsReport:()=>irA,getDeveloperSharedVaultsReportCsv:()=>orA,getDeveloperUsersReport:()=>jrA,getDeveloperUsersReportCsv:()=>nrA,getDeviceEnrollmentStatus:()=>oiA,getDeviceTrustAccessToken:()=>Nze,getEmailSubscriptions:()=>krA,getEmailTemplateByUuid:()=>frA,getEmailTemplatePreview:()=>ErA,getEmailTemplates:()=>grA,getEncryptedCredentialBundle:()=>JrA,getEnrollment:()=>diA,getEveryoneVault:()=>yeA,getFeatures:()=>ooA,getFile:()=>B9,getFileIdsFromItemUuid:()=>vrA,getFileKey:()=>E9,getFileV2:()=>yrA,getFileWithRedirect:()=>FrA,getFilteredActivityLogReports:()=>NtA,getFilteredActivityLogTotalReports:()=>UtA,getFirewallRules:()=>wrA,getGeneratedPasswordsVault:()=>veA,getGridSlackChannels:()=>YnA,getGridSlackGroups:()=>ZnA,getGridSlackTeams:()=>AiA,getGridSlackUsers:()=>QnA,getGroup:()=>NeA,getGroupDeadline:()=>seA,getGroupMembersCsv:()=>ttA,getGroupMspPermissions:()=>IaA,getGroupPubKeys:()=>UeA,getGroups:()=>HR,getHibpDomainReport:()=>TiA,getHibpDomainReportCsv:()=>_iA,getHibpReport:()=>OiA,getIcons:()=>meA,getIdentityAccessToken:()=>J6A,getIncomingPackage:()=>QaA,getIncomingPackageV2:()=>cPe,getIncomingPackages:()=>ZaA,getIncomingPackagesV2:()=>sPe,getInsightsTeamReport:()=>OrA,getInsightsTeamReportCsv:()=>TrA,getInsightsTeamReportOverview:()=>CrA,getIntegrations:()=>TnA,getInviteVaults:()=>oaA,getItemReportWithCursors:()=>hnA,getItemReportWithFilters:()=>gnA,getItemShareAuditDetails:()=>kaA,getItemSharePreflight:()=>daA,getKeysets:()=>EaA,getLastViewedReports:()=>qnA,getManagedAccounts:()=>baA,getManagedAccountsNetSeats:()=>GaA,getManagedVault:()=>xeA,getMfa:()=>ltA,getMfaConfig:()=>ctA,getModernAppVersions:()=>rrA,getMonitoringStatus:()=>waA,getMoreIncomingPackages:()=>lPe,getNotifications:()=>OaA,getNotifierUrl:()=>q2A,getObjectDataAccess:()=>KaA,getObjectDataAccessForUserAndType:()=>nPe,getObjectDataAccessPreflight:()=>sw,getObjectDataAccessorsForObjectType:()=>NaA,getObjectDataPreflight:()=>D9,getOldDevicesReport:()=>ynA,getOverviewReport:()=>bnA,getPackagesForVaultItem:()=>AjA,getPartialUsers:()=>jB,getPasskeySitesList:()=>wiA,getPassphraseWordList:()=>yiA,getPendingDeviceEnrollments:()=>liA,getPendingInvitation:()=>jjA,getPendingInvitations:()=>QrA,getPersonalVault:()=>beA,getPreAuthFeatures:()=>soA,getPreviousVersionOfItem:()=>lnA,getProvisionDetails:()=>LjA,getProvisionedPersonalVault:()=>HjA,getPwnedHashList:()=>biA,getRecoverableKeysForPeople:()=>tnA,getRecoveryAttempts:()=>Cze,getRecoveryKey:()=>vze,getRecoveryPolicies:()=>Pze,getRecoveryPolicy:()=>Sze,getReleaseChannelsPolicy:()=>PjA,getResendDetails:()=>KjA,getRestrictFailedLoginAttemptsPolicy:()=>FjA,getServiceAccount:()=>znA,getServiceAccounts:()=>_nA,getShareHistoryForItem:()=>uaA,getShareSeviceAuthToken:()=>haA,getSidebarNavPolicies:()=>yjA,getSignInAttempts:()=>CPe,getSignInAttemptsV2:()=>OPe,getSignupDetails:()=>rK,getSlackApp:()=>tiA,getSlackChannels:()=>JnA,getSlackGroups:()=>eiA,getSlackUsers:()=>WnA,getSshBookmarksPolicy:()=>CjA,getSsoSettings:()=>RR,getSuggestedDomain:()=>FtA,getSupportAccountsList:()=>hiA,getSystemVault:()=>EeA,getTrustpilotReviewData:()=>qiA,getTwoFactorSitesList:()=>GiA,getUser:()=>sjA,getUserApplications:()=>Y6A,getUserCombinedObjectDataAccess:()=>zaA,getUserCookies:()=>$iA,getUserCredentials:()=>NrA,getUserItemUsageOverview:()=>fnA,getUserMspPermissions:()=>$aA,getUserProvisionedKeys:()=>XjA,getUserPubKeys:()=>ljA,getUserReport:()=>knA,getVault:()=>BeA,getVaultItemDetails:()=>inA,getVaultItemHistory:()=>snA,getVaultItemSnapshotsByUuidsV2:()=>YlA,getVaultItemSnapshotsV2:()=>WlA,getVaultItemVersion:()=>onA,getVaultItems:()=>nnA,getVaultItemsOverviews:()=>jnA,getVaultManagers:()=>ziA,getVaultReport:()=>BnA,getVaultReportingGroupMemberships:()=>e6A,getVaultReportingSync:()=>ZlA,getVaultReportingVaultAccess:()=>A6A,getVaultReportingVaultOverviews:()=>VlA,getVaults:()=>NR,getVaultsByCreation:()=>feA,getVaultsForAccountTransfer:()=>geA,getVaultsReport:()=>EnA,getVerifiedDomains:()=>KiA,getWatchtowerData:()=>FiA,getWatchtowerPubkey:()=>j9,getWatchtowerReport:()=>DtA,getWatchtowerStats:()=>ztA,getWebAuthnChallenge:()=>nIe,insightsTelemetry:()=>toA,inviteUsersViaEmail:()=>eaA,inviteViaSlack:()=>AaA,isValidReportParams:()=>W9,joinAccount:()=>ftA,kickoffDeviceEnrollment:()=>niA,legacySignUpAccount:()=>RnA,lockedOutDeleteAccount:()=>ytA,lookUpInvitation:()=>YrA,lookUpTeamInvitation:()=>ZrA,markAwayForTravel:()=>hjA,markBackFromTravel:()=>gjA,markGroupReadyForPurging:()=>JeA,markPackageAsRead:()=>rjA,markSignatureInvalid:()=>miA,parseUrlSearchParamsFromObject:()=>U2A,patchApplicationDeviceCheckStatus:()=>acA,patchGroupMemberships:()=>QeA,patchMigratingUserState:()=>XiA,patchSsoApp:()=>AcA,patchUserMemberships:()=>AtA,patchVaultItems:()=>mnA,performBannerAction:()=>h9,postAccount:()=>aK,postAuth:()=>WtA,postBrexRefreshToken:()=>QiA,postBrexVerifier:()=>ZiA,postFastmailRefreshToken:()=>YiA,postFastmailVerifier:()=>JiA,postFirewallRules:()=>GrA,postHibpDomainReportNotify:()=>DiA,postImage:()=>wtA,postMigratingUsers:()=>ViA,postOidcWellKnownUrl:()=>leA,postPurgeDeletedVaultItems:()=>unA,postSlackAccessToken:()=>jiA,postSlackNonce:()=>aiA,postTemplate:()=>keA,postUniqueUserCountForGroups:()=>rtA,promptConfirmChangeEmail:()=>ptA,putApplicationGroupAssignments:()=>rcA,putGroupApplicationAssignment:()=>atA,putVaultReportingSnapshotsV2:()=>QlA,reactivateUsers:()=>fjA,reauthorizeDevice:()=>mrA,receiveMsgA:()=>PIe,receiveMsgB:()=>CIe,receiveSharedCredentialBundle:()=>zIe,receiveTagA:()=>TIe,receiveTagB:()=>DIe,recoveryKeyAuthV1Begin:()=>Bze,recoveryKeyAuthV1ConfirmKey:()=>xze,recoveryKeyBeginAttempt:()=>gze,recoveryKeyGetAttemptStatus:()=>Oze,recoveryKeyGetMaterial:()=>Mze,recoveryKeyPostRegistration:()=>Kze,recoveryKeyStartEmailVerification:()=>_ze,recoveryKeySubmitEmailVerification:()=>zze,recoveryVerifyEmailAuth:()=>ZjA,recoveryVerifyEmailResend:()=>YjA,recoveryVerifyEmailStart:()=>JjA,regenerateSignUpLink:()=>iaA,registerServiceAccountToken:()=>AK,registerWebauthnCredential:()=>KrA,regularUserActorType:()=>vIe,removePackageV2:()=>ajA,removePackages:()=>M9,renameServiceAccountToken:()=>$nA,reportAuditEvent:()=>HtA,reportItemUsage:()=>$4e,reportOutdatedBrowser:()=>WaA,reportUsoAction:()=>roA,requestAccountDeletion:()=>giA,requestBrexAccessToken:()=>eoA,requestSupportEmail:()=>kiA,require2FAOnNextSignIn:()=>prA,resendAllUsersProvision:()=>RjA,resendInvitations:()=>raA,resendProvisioningEmailVerification:()=>NjA,resendUserProvision:()=>MjA,resendVerificationEmail:()=>HnA,restoreSessionRestorationKey:()=>QPe,revokeAllServiceAccountTokensForAccount:()=>PnA,revokeInvitations:()=>aaA,revokeServiceAccountToken:()=>InA,saveNotificationSettings:()=>_aA,saveSessionRestorationKey:()=>ZPe,searchGroupsCount:()=>LeA,sendFeedback:()=>xrA,sendMfaCode:()=>stA,sendMsgA:()=>IIe,sendMsgB:()=>SIe,sendNoSigninPastMonthEmail:()=>wnA,sendPackageV2:()=>oPe,sendPackages:()=>YaA,sendPerformanceTraces:()=>ocA,sendTagA:()=>OIe,sendTagB:()=>_Ie,sendTestEmailWithOverrides:()=>BrA,sendUnredeemedFamilyAccountEmail:()=>GnA,sendUnusedPrivateVaultEmail:()=>FnA,setUserCookie:()=>IiA,setupCredentialBundle:()=>WrA,setupMsp:()=>qaA,shareCredentialBundle:()=>MIe,signOut:()=>pP,signUpAccount:()=>KnA,signUpAndGetInfo:()=>UnA,signUpUser:()=>tK,ssoValidateEnd:()=>oeA,ssoValidateStart:()=>ieA,startAuth:()=>nB,startOidcAuth:()=>_rA,startUserProvision:()=>DjA,submitDepartureSurvey:()=>EiA,submitNewUserAuth:()=>ArA,suspendMigratedUser:()=>WiA,suspendUserProvision:()=>zjA,suspendUsers:()=>kjA,teamInvitePerson:()=>taA,timePeriodToDate:()=>X9,unlinkManagedAccount:()=>vaA,unsafeCancelDeviceEnrollment:()=>uiA,unsafeGetDeviceEnrollmentStatus:()=>siA,updateAccount:()=>BtA,updateAccountGatedFeatureTrialAction:()=>icA,updateAccountShareSettings:()=>faA,updateAccountTemplateConfig:()=>CtA,updateAllowAccountCreationPolicy:()=>qjA,updateAutoDeleteSuspendedUsersPolicies:()=>IjA,updateAutoLockPolicy:()=>bjA,updateBillingSettings:()=>EtA,updateBulkGroupVaultAccessPermissions:()=>_eA,updateDefaultVaultPermissions:()=>noA,updateEmailSubscriptions:()=>hrA,updateGroup:()=>HeA,updateGroupMembershipRole:()=>ZeA,updateGroupMspPermissions:()=>PaA,updateGroupPermissions:()=>VeA,updateGroupVaultAccessPermissions:()=>TeA,updateInviteVault:()=>saA,updateObjectData:()=>VaA,updatePersonVaultAccessPermissions:()=>OeA,updateReleaseChannelsPolicy:()=>SjA,updateRestrictFailedLoginAttemptsPolicy:()=>GjA,updateServiceAccount:()=>MnA,updateSidebarNavPolicies:()=>vjA,updateSignup:()=>LnA,updateSignupAccountType:()=>NnA,updateSlackApp:()=>riA,updateSshBookmarksPolicy:()=>OjA,updateSsoSettings:()=>neA,updateUser:()=>BjA,updateUserCredential:()=>HrA,updateVault:()=>FeA,updateVaultClientAccess:()=>GeA,updateVerifiedDomain:()=>LiA,upgradeGuestToMember:()=>EjA,uploadFile:()=>x9,uploadWatchtowerReport:()=>_tA,userFilterTypeOptions:()=>GPe,validateItemShareRecipients:()=>paA,verifyLockedOutAccountDeletion:()=>btA,verifyMfa:()=>ZtA,verifyOidc:()=>DrA,verifyPasskey:()=>RrA,verifyTotp:()=>utA,verifyWebauthnCredentialAttestation:()=>LrA});var WA=AA(OA());var F={};Na(F,{ACCOUNT_NAME_MAX_LENGTH:()=>uIA,ClientInfo:()=>lAA,ClientShortCode:()=>SG,ClientShortCodeCodec:()=>DIA,CountryCode:()=>uk,CountryRequiresProvince:()=>$qe,DEBUG:()=>iqe,DEVICE_ENROLLMENT_CODE_LENGTH:()=>NIA,DOMAIN_INVALID_CHARS:()=>aqe,DOMAIN_MAX_LENGTH:()=>CQ,DOMAIN_MIN_LENGTH:()=>tqe,ExceptionType:()=>_l,IDENTITY_REDIRECT:()=>oAA,IsoStringDate:()=>Ro,LoggableError:()=>fn,MULTIPLE_FORWARD_SLASH_REGEX:()=>pIA,MasterPasswordPolicyMinLength:()=>oR,NEVER:()=>Eb,OpUserAgentConfig:()=>b1e,OptionalIsoStringDate:()=>oM,PASS_CHAR_SET:()=>dk,PROMO_CODE_MAX_LENGTH:()=>mqe,RfcNumericDate:()=>LI,SERVICE_ACCOUNT_NAME_MAX_LENGTH:()=>Qwe,SERVICE_ACCOUNT_TOKEN_NAME_MAX_LENGTH:()=>Aqe,SHORT_DOMAIN_MIN_LENGTH:()=>rqe,UNSANITARY_CHARACTERS_REGEX:()=>mIA,URL_MAX_LENGTH:()=>eqe,UUID_LENGTH:()=>vIA,VAULT_AND_GROUP_DESC_MAX_LENGTH:()=>nqe,VAULT_AND_GROUP_NAME_MAX_LENGTH:()=>jqe,ab2str:()=>Di,addMinimumWait:()=>fqe,addProtocolToUrlIfNeeded:()=>pb,arrayBuffer:()=>KI,arrayEquals:()=>u1e,asValidAccountName:()=>Gqe,asValidDomain:()=>Fqe,base32ToBytes:()=>oZ,base64ToBase64url:()=>iM,base64byteLength:()=>sZ,base64urlToBytes:()=>Je,batchChain:()=>jo,batchPromiseAll:()=>JM,bitsAsClientUuid:()=>GIA,blobToBase64DataURI:()=>db,browserInfo:()=>SY,bytesAsBase64Url:()=>s$A,bytesAsClientUuid:()=>Nf,bytesToBase32:()=>RI,bytesToBase64url:()=>Ye,bytesToBits:()=>Rj,bytesToHex:()=>xo,calculatePasswordStrength:()=>CG,canReadSnapshots:()=>x$e,canUseTrustedDeviceAuth:()=>P1e,chainPromises:()=>Bqe,clean:()=>xqe,combineComparators:()=>S4,commaSeparatedListToArray:()=>dIA,compact:()=>Rf,compactFilter:()=>sqe,compare:()=>nl,compareDates:()=>mAA,compareStrings:()=>P4,composeComparator:()=>Pm,concatUint8Arrays:()=>ws,config:()=>Fj,count:()=>c1e,crypto:()=>QA,dateFromGolang:()=>_n,dateToGolang:()=>lh,decode:()=>Ke,decryptSnapshots:()=>b$e,deriveHmacSha256:()=>iAA,ep:()=>cqe,errors:()=>oe,events:()=>vb,filterCharacters:()=>wqe,flipCoin:()=>ZQ,formatCommaSeparatedList:()=>Eqe,fromStringEnum:()=>cr,generateDeviceEnrollmentCode:()=>S1e,generatePassphrase:()=>cAA,generatePassword:()=>xh,generateRandomID:()=>G4,generateUUID:()=>lr,generateUUIDStyleHash:()=>e1e,getCallbackPromise:()=>WM,getCountryCodeFromDomain:()=>YM,getFileExtension:()=>yqe,getHostnameFromUrl:()=>XAA,getIdentityStateAndRedirect:()=>sAA,getModifierKey:()=>bqe,getObfuscatedCardNumber:()=>m1e,getOpUserAgentString:()=>iR,getOrderedComparator:()=>$1e,getRandomNumberWithByteLength:()=>$IA,getRandomValueFromRange:()=>ji,getSanitizedName:()=>kIA,getServerDomainFromAccountDomain:()=>jl,getTime:()=>AP,getUuidModulo:()=>t1e,getValidGroupUuid:()=>$m,getValidUserUuid:()=>ns,getValidVaultUuid:()=>F4,hasCommonPasswordsList:()=>v1e,hasDetailedVaultReportingFeature:()=>E$e,hasExtensionInstalled:()=>k1e,hexToBytes:()=>ch,hmacSha256Hex:()=>h1e,hmacWithSecretAndData:()=>Bb,ignore:()=>jA,inBetween:()=>DQ,isBusinessRelated:()=>HAA,isDebugMode:()=>uh,isItemInWrongAccount:()=>WAA,isNonWebSignupSource:()=>hqe,isPaymentMethod:()=>$4,isValidAccessorUuid:()=>JQ,isValidAccountUuid:()=>Zqe,isValidDomain:()=>k4,isValidEmail:()=>mb,isValidGroupUuid:()=>WQ,isValidIPAddressOrCIDR:()=>x1e,isValidInvitationUuid:()=>Qqe,isValidInviteDomain:()=>uqe,isValidItemUuid:()=>v4,isValidNumber:()=>p4,isValidPromoCodeFormat:()=>_Q,isValidPurchaseOrderTokenFormat:()=>XM,isValidServerToken:()=>dqe,isValidSignupSource:()=>kqe,isValidSignupVerificationCode:()=>gqe,isValidTemplateUuid:()=>A1e,isValidUserUuid:()=>y4,isValidVaultUuid:()=>hb,joinPath:()=>VM,json:()=>Fs,json2ab:()=>Ua,jsonAsBase64Url:()=>Of,jsonBytes:()=>xr,logsafe:()=>eZ,mapObject:()=>OQ,maskString:()=>I1e,moveArrayItem:()=>lqe,normalizeAndFilterUniqueUrls:()=>VAA,normalizeSnapshots:()=>Q4A,normalizeToUrl:()=>ePA,normalizeUTF8:()=>TQ,notification:()=>la,numToUint8Array:()=>iZ,obfuscateCardWithBrand:()=>p1e,passwordIsInDictionary:()=>w1e,prehash:()=>uAA,readFile:()=>vqe,readonlyArrayOmitNullish:()=>jb,reportError:()=>$s,reportErrors:()=>w4,reportInvalid:()=>h6,rsa:()=>g4,secureDecodeReporter:()=>uZ,selectRandomElement:()=>j1e,sentry:()=>tAA,setCommonPasswordsList:()=>cR,setDebugMode:()=>K0e,setIdentityStateAndRedirect:()=>g1e,setPassphraseWordList:()=>lR,shouldReportForPrivateVaults:()=>pAA,shouldReportWithSnapshots:()=>UAA,str2ab:()=>mt,stringify:()=>oqe,totp:()=>YAA,unsafeDecodeAs:()=>s1e,usTerritories:()=>Iqe,utf8:()=>o$A,wait:()=>qs,withDefault:()=>ke,withDefaultUndefined:()=>Xe,withEncoding:()=>R0e,withFallback:()=>m6});var _l;(function(A){A.ContextError=sA`ContextError`,A.RequestError=sA`RequestError`,A.ValidationError=sA`ValidationError`})(_l||(_l={}));var fn=class extends Error{get loggableMessage(){return this._message}set loggableMessage(e){this._message=e}get loggableName(){return this._name}set loggableName(e){this._name=e}get message(){return this._message.str}set message(e){this._message=e}get name(){return this._name.str}set name(e){this._name=e}constructor(e){super(),this._message=sA``,this._name=sA`Error`,e.message&&(this.message=e.message),e.stackOverrideError instanceof Error&&(this.stack=e.stackOverrideError.stack),this.metaData=e.metaData,this.name=e.errorClass,this.severityLevel=e.severityLevel,this.tags=e.tags,this.userUuid=e.userUuid,this.sampleRate=e.sampleRate}};var lG=AA(Pl()),tr=AA(OA());var _n=A=>typeof A!="string"||A.indexOf("0001")===0?void 0:new Date(A),lh=A=>A?A.toISOString():"";var oe={};Na(oe,{ClientError:()=>Cf,ClientErrorCode:()=>Ak,HTTPStatusCode:()=>ru,ItemStatusCode:()=>aZ,LegacyServerError:()=>jM,SecretKeyIdOrFormatMismatchedError:()=>_I,SecretKeyMissingError:()=>TI,ServerError:()=>Sf,ServerErrorCode:()=>rb,ServerErrorReason:()=>Y6,getError:()=>DI,getErrorMessage:()=>Dn,getErrorString:()=>zI,isClientError:()=>ab,isErrorLike:()=>ym,isLegacyServerError:()=>nZ,isNewServerError:()=>ek,isNewServerErrorWithStatus:()=>jZ,isOldKeyError:()=>O0e,isSecretKeyIdOrFormatMismatchedError:()=>_0e,isSecretKeyMissingError:()=>T0e,isSecretKeyPrefixInvalidError:()=>D0e,isServerError:()=>MI});var Y6;(function(A){A.deprecated="deprecated",A.cannotHandleRequest="cannot_handle_request",A.firewallRule="firewall_rule",A.provisioningEnabled="provisioning_enabled",A.billingBadCardCVV="bad_cc_cvv",A.billingCardDeclined="cc_declined",A.billingCardProcessingError="cc_processing_error",A.billingBadCardNumber="bad_cc_number",A.billingBadCardExpiry="bad_cc_expiry",A.billingCardExpired="cc_expired",A.billingBadCardZIP="bad_cc_zip",A.billingCardMissing="cc_missing",A.billingRateLimiting="too_many_billing_requests",A.billingBadProvider="billing_provider_incorrect",A.billingInsufficientCredit="insufficient_credit",A.billingGiftCardAcceptedInsufficientCredit="gift_card_accepted_insufficient_credit",A.billingStripeDown="stripe_down",A.billingSubscriptionIncomplete="subscription_incomplete",A.billingFrozen="billing_is_frozen",A.slackUserLimitReached="slack_users_limit_reached",A.slackInvitesZeroSent="slack_invites_zero_sent",A.slackTimeout="slack_timeout",A.userSuspended="user_suspended",A.userDeleted="user_deleted",A.userIsGuest="user_is_guest",A.recoveryAccepted="recovery_accepted",A.transferAccepted="transfer_accepted",A.notEnrolled="not_enrolled",A.provisionSuspended="provision_suspended",A.dnsRecordNotFound="dns_record_not_found",A.maxAttemptExceeded="max_attempt_exceeded",A.accountTierMismatchOnSubscribe="account_tier_mismatch_subscribe",A.tooManyVaultAccessCreditsInUseToChangeAccountType="too_many_vault_access_credits_in_use_to_change_account_type",A.maxVaultAccessCredits="maximum_vault_access_credits",A.pendingProvisioningUsers="pending_provisioning_users",A.incorrectSetupIntentStatus="incorrect_setup_intent_status",A.membershipUpdateRequiresRecovery="membership_update_requires_recovery",A.provisioningNotManager="not_provision_manager",A.invalidSkPrefixFormat="invalid_sk_prefix_format",A.activeManagedAccountsExist="active_managed_accounts_exist",A.alreadyUsed="already_used",A.accountTypeMismatch="account_type_mismatch",A.partnershipAccountTypeMismatch="partnership_account_type_mismatch",A.partnershipAlreadyUsed="partnership_api_activation_code_already_used",A.emailAlreadyInUse="email_already_in_use",A.invitesLimitReached="invites_limit_reached",A.invitesRateLimitReached="invites_rate_limit_reached",A.invitesBatchLimitReached="invites_batch_limit_reached",A.invitesLimitReachedIAP="invites_limit_reached_iap",A.confirmationLimitReached="confirmation_limit_reached",A.accountMaxGuestsExceeded="account_max_guests_exceeded",A.accountMaxMembersExceeded="account_max_members_exceeded",A.passwordAuthNotAllowed="password_auth_not_allowed",A.oidcUserDoesNotMatch="oidc_user_does_not_match",A.oidcGenericDomainNotAllowed="oidc_generic_domain_not_allowed",A.ownersGroupCannotSso="owners_group_sso_not_allowed",A.idpConfigurationNotAllowed="identity_provider_config_permission_not_allowed",A.privateAppWithoutSecret="private_app_without_secret",A.publicAppWithSecret="public_app_with_secret",A.missingOidcClientSecret="missing_oidc_client_secret",A.oidcUserPendingProvision="oidc_user_pending_provision_started",A.accountAlreadyExists="account_already_exists",A.accountCreationForbidden="account_creation_forbidden",A.accountCreationForbiddenInvitePending="account_creation_forbidden_invite_pending",A.accountCreationForbiddenInviteExpired="account_creation_forbidden_invite_expired",A.addressIncomplete="address_incomplete",A.addressIncorrect="address_incorrect",A.avataxAPI="avatax_api",A.taxAdviceInvalidRequest="taxadvice_invalid_request",A.unsupported="unsupported",A.accountPolicy="account_policy",A.mustEnrollInitialTrustedDevice="must_enroll_initial_device",A.deviceNotEnrolled="device_not_enrolled",A.ssoMigrationDeadlinePassed="sso_migration_deadline_passed",A.maximumAttemptsReached="maximum_attempts_reached",A.incorrectValue="incorrect_value",A.expired="expired",A.recentRecoveryAborted="recent_recovery_aborted",A.recentLogin="recent_login",A.noOwnerExists="no_owner_exists",A.domainNotAvailable="domain_not_available",A.mfaRequired="mfa_required",A.reauthenticationRequired="reauthentication_required"})(Y6||(Y6={}));var Sf=class extends Error{constructor(e,t){super(),this.code=e,this.reason=t,this.name="ServerError",this.message=this.code+(this.reason?` (${this.reason})`:"")}},rb;(function(A){A[A.badRequest=100]="badRequest",A[A.operationNotPermitted=101]="operationNotPermitted",A[A.authenticationRequired=102]="authenticationRequired",A[A.internalServerError=103]="internalServerError",A[A.incorrectVersionValue=104]="incorrectVersionValue",A[A.unknownImageFormat=105]="unknownImageFormat",A[A.registrationFailed=106]="registrationFailed",A[A.suspendedLoginFailed=107]="suspendedLoginFailed",A[A.oneMustRemain=108]="oneMustRemain",A[A.deletedLoginFailed=109]="deletedLoginFailed",A[A.cannotHandleRequest=110]="cannotHandleRequest",A[A.domainNotAvailable=112]="domainNotAvailable",A[A.recoveryAcceptedLoginFailed=113]="recoveryAcceptedLoginFailed",A[A.resourceAlreadyUsed=115]="resourceAlreadyUsed",A[A.cannotRemoveYourselfFromGroup=116]="cannotRemoveYourselfFromGroup",A[A.resourceNotFound=117]="resourceNotFound",A[A.requestTooLarge=118]="requestTooLarge",A[A.resourceInvalid=119]="resourceInvalid",A[A.blockedEmailDomain=122]="blockedEmailDomain",A[A.deprecatedClient=125]="deprecatedClient",A[A.invalidPromotionCoupon=126]="invalidPromotionCoupon",A[A.incorrectAttrVersion=127]="incorrectAttrVersion",A[A.emailDomainIsRestricted=129]="emailDomainIsRestricted",A[A.cardBadCVV=200]="cardBadCVV",A[A.cardDeclined=201]="cardDeclined",A[A.cardProcessingError=202]="cardProcessingError",A[A.cardBadNum=203]="cardBadNum",A[A.cardBadExpiry=204]="cardBadExpiry",A[A.cardExpired=205]="cardExpired",A[A.cardBadZip=206]="cardBadZip",A[A.cardMissing=207]="cardMissing",A[A.stripeRateLimit=208]="stripeRateLimit",A[A.badProvider=481]="badProvider",A[A.insufficientCredit=482]="insufficientCredit",A[A.addressIncomplete=483]="addressIncomplete",A[A.resourceExpired=410]="resourceExpired",A[A.resourceLocked=423]="resourceLocked",A[A.reauthenticationRequired=450]="reauthenticationRequired",A[A.memberConfirmationLimitReached=484]="memberConfirmationLimitReached",A[A.guestConfirmationLimitReached=485]="guestConfirmationLimitReached",A[A.memberReactivationLimitReached=486]="memberReactivationLimitReached",A[A.guestReactivationLimitReached=487]="guestReactivationLimitReached",A[A.unknownError=900]="unknownError"})(rb||(rb={}));var ru;(function(A){A[A.badRequest=400]="badRequest",A[A.unauthorized=401]="unauthorized",A[A.forbidden=403]="forbidden",A[A.notFound=404]="notFound",A[A.conflict=409]="conflict",A[A.locked=423]="locked",A[A.tooManyRequests=429]="tooManyRequests",A[A.registrationFailed=432]="registrationFailed",A[A.userOrDeviceNotAllowed=433]="userOrDeviceNotAllowed",A[A.applicationError=434]="applicationError",A[A.suspendedUserError=435]="suspendedUserError",A[A.deletedUserError=436]="deletedUserError",A[A.resourceInvalid=441]="resourceInvalid",A[A.deprecatedClient=445]="deprecatedClient",A[A.internalServerError=500]="internalServerError"})(ru||(ru={}));var aZ;(function(A){A[A.ok=0]="ok",A[A.expired=1]="expired",A[A.validationError=100]="validationError",A[A.permissionError=101]="permissionError",A[A.serverError=103]="serverError",A[A.incorrectItemVersion=104]="incorrectItemVersion"})(aZ||(aZ={}));var jM=class extends Error{constructor(e,t){super(),this.code=e,this.message=t?`${t} (${e})`:e.toString(),this.name="LegacyServerError"}},Ak;(function(A){A[A.incorrectMasterPassword=102]="incorrectMasterPassword",A[A.invalidEmailOrPassword=103]="invalidEmailOrPassword",A[A.mustVerifyEmail=104]="mustVerifyEmail",A[A.serverRequestTimedOut=105]="serverRequestTimedOut",A[A.deviceDeleted=106]="deviceDeleted",A[A.sequenceNumberTooLarge=107]="sequenceNumberTooLarge",A[A.invalidImage=108]="invalidImage",A[A.invalidMFA=110]="invalidMFA",A[A.noRsaOaep256Support=111]="noRsaOaep256Support",A[A.invalidSigningKeyPair=112]="invalidSigningKeyPair",A[A.invalidFileType=113]="invalidFileType",A[A.signatureVerificationFailed=114]="signatureVerificationFailed",A[A.restrictedCountry=115]="restrictedCountry",A[A.fileTooLarge=116]="fileTooLarge",A[A.unexpectedFetchError=117]="unexpectedFetchError",A[A.corruptedFile=118]="corruptedFile",A[A.unsupportedMFA=119]="unsupportedMFA",A[A.emailAlreadyInUseByGuest=120]="emailAlreadyInUseByGuest",A[A.emailAlreadyInUseByMember=121]="emailAlreadyInUseByMember",A[A.missingFileId=122]="missingFileId",A[A.popupFailed=123]="popupFailed",A[A.popupBlocked=124]="popupBlocked",A[A.unknownError=900]="unknownError"})(Ak||(Ak={}));var Cf=class extends Error{constructor(e,t){super(),this.code=e,this.message=t?`${t} (${e})`:e.toString(),this.name="ClientError"}},DI=(A,e)=>{let t=Dn(A),r=e?`${e} ${t}`:t;return ab(A)?new Cf(A.code,r):nZ(A)?new jM(A.code,r):ek(A)?A:new Error(r)},ym=A=>typeof A=="object"&&A!==null&&"name"in A&&typeof A.name=="string"&&"message"in A&&typeof A.message=="string",C0e=A=>"StringifiedError: "+JSON.stringify(A),zI=A=>{try{if(typeof A=="object"){let e=A?.toString?.();if(e&&e!=="[object Object]"&&e!=="[object Error]")return e}return C0e(A)}catch(e){return zI(e)}},Dn=A=>ym(A)?A.message:"An unexpected error occurred",ab=(A,e)=>ym(A)&&A.name==="ClientError"&&(!e||e===A.code||Array.isArray(e)&&ij(e,A.code)),MI=(A,e,t)=>ek(A,e,t)||nZ(A,e),ek=(A,e,t)=>{if(!ym(A))return!1;let r=!e||e===A.reason||Array.isArray(e)&&ij(e,A.reason),a=t!==void 0&&t===A.code;return A.name==="ServerError"&&(r||a)},jZ=(A,e)=>ym(A)&&A.name==="ServerError"&&e===A.code,nZ=(A,e)=>ym(A)&&A.name==="LegacyServerError"&&(!e||e===A.code||Array.isArray(e)&&ij(e,A.code)),O0e=A=>ym(A)&&A.message==="Unsupported JWK algorithm RSA-OAEP-256",TI=class A extends Error{constructor(e){super(),this.message="Secret Key ("+e+") not found",this.name=A.ERROR_NAME}};TI.ERROR_NAME="SecretKeyMissingError";var T0e=A=>ym(A)&&A.name===TI.ERROR_NAME,_I=class A extends Error{constructor(e,t,r,a){super(),this.message=`User's Secret Key ID (${t}) or format (${a}) doesn't match either response's Secret Key ID (${e}) or format (${r})`,this.name=A.ERROR_NAME}};_I.ERROR_NAME="SecretKeyIdOrFormatIsWrong";var _0e=A=>ym(A)&&A.name===_I.ERROR_NAME,D0e=A=>ek(A,Y6.invalidSkPrefixFormat);var d6=AA(vs()),z0e=()=>{if(typeof TextDecoder>"u")return A=>{if(typeof A!="object"||A===null||!("byteLength"in A))throw new TypeError("Failed to decode bytes: The provided value is not of type '(ArrayBuffer or ArrayBufferView)'.");return d6.codec.utf8String.fromBits(d6.codec.bytes.toBits(new Uint8Array(A)))};{let A=new TextDecoder;return A.decode.bind(A)}},M0e=()=>{if(typeof TextEncoder>"u")return A=>new Uint8Array(d6.codec.bytes.fromBits(d6.codec.utf8String.toBits(A)));{let A=new TextEncoder;return A.encode.bind(A)}},Di=z0e(),mt=M0e(),Ua=A=>mt(JSON.stringify(A)),iZ=(A,e)=>{if(!Number.isInteger(A)||!Number.isInteger(e)||Number.isNaN(A)||Number.isNaN(e))throw new TypeError("A parameter to numToUint8Array wasn't an integer.");if(A<0)throw new Error("numToUint8Array doesn't allow negative numbers.");if(A>Math.pow(2,e*8)-1)throw new Error("Number requires a byte array greater than specified output length.");let t=new Uint8Array(e);for(let r=0;r<e;r++)t[r]=A%256,A=A>>>8;return t},Rj=d6.codec.bytes.toBits.bind(d6.codec.bytes),Ye=A=>{let e="";for(let r,a=A.length,j=0,n=0;n<a;n++)r=n%3,j|=A[n]<<(16>>>r&24),(r===2||a-n===1)&&(e+=String.fromCharCode(nM(j>>>18&63),nM(j>>>12&63),nM(j>>>6&63),nM(j&63)),j=0);let t=(3-A.length%3)%3;return t===0?e:e.slice(0,-t)},nM=A=>A<26?A+65:A<52?A+71:A<62?A-4:A===62?45:95,oZ=A=>new Uint8Array(d6.codec.bytes.fromBits(d6.codec.base32.toBits(A))),RI=A=>d6.codec.base32.fromBits(Rj(A),!0),Je=A=>(A=iM(A),new Uint8Array(d6.codec.bytes.fromBits(d6.codec.base64url.toBits(A)))),iM=A=>A.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),sZ=A=>{let e=A.length;return A[e-1]==="="&&(e-=1,A[e-1]==="="&&(e-=1)),Math.floor(3*e/4)},xo=A=>d6.codec.hex.fromBits(Rj(A)),ch=A=>{let e=A.length%2===1?"0"+A:A;return new Uint8Array(d6.codec.bytes.fromBits(d6.codec.hex.toBits(e)))};var ke=(A,e)=>new tr.Type(`withDefault(${A.name}, ${JSON.stringify(e)})`,A.is,(t,r)=>A.validate(t??mI(e),r),A.encode),Xe=A=>{let e=tr.union([A,tr.undefined]);return new tr.Type(`withDefaultUndefined(${A.name})`,e.is,(t,r)=>tr.undefined.is(t??void 0)?tr.success(void 0):A.validate(t,r),e.encode)},m6=(A,e)=>new tr.Type(`withFallback(${A.name})`,A.is,(t,r)=>{let a=A.validate(t,r);try{return(0,lG.isLeft)(a)?tr.success(e(t)):a}catch(j){return tr.failure(t,r,Dn(j))}},A.encode),R0e=(A,e,t=e.name)=>new tr.Type(t,e.is,e.validate,A),cr=(A,e)=>{let t=r=>typeof r=="string"&&Wn(A).includes(r);return new tr.Type(e,t,(r,a)=>t(r)?tr.success(r):tr.failure(r,a),tr.identity)},jb=A=>{let e=r=>r!==null&&typeof r<"u",t=tr.readonlyArray(tr.union([A,tr.null,tr.undefined]));return new tr.Type(`readonlyArrayOmitNullish(${A.name})`,r=>t.is(r)&&r.every(e),(r,a)=>{let j=t.validate(r,a);return j._tag==="Left"?j:tr.success(j.right.filter(e))},tr.identity)},jA=new tr.Type("ignore",tr.void.is,()=>tr.success(void 0),tr.void.encode),o$A=new tr.Type("utf8",tr.string.is,(A,e)=>{try{return tr.success(Di(A))}catch(t){return tr.failure(A,e,Dn(t))}},mt),Fs=new tr.Type("json",tr.unknown.is,(A,e)=>{let t=tr.string.validate(A,e);if((0,lG.isLeft)(t))return t;try{let r=JSON.parse(t.right);return tr.success(r)}catch(r){return tr.failure(A,e,Dn(r))}},JSON.stringify),xr=o$A.pipe(Fs,"jsonBytes"),s$A=new tr.Type("bytesAsBase64Url",A=>A instanceof Uint8Array,(A,e)=>{let t=tr.string.validate(A,e);if((0,lG.isLeft)(t))return t;try{return tr.success(Je(t.right))}catch(r){return tr.failure(A,e,Dn(r))}},Ye),Of=s$A.pipe(xr,"jsonAsBase64Url"),KI=new tr.Type("arrayBuffer",A=>A instanceof ArrayBuffer,(A,e)=>A instanceof ArrayBuffer?tr.success(A):tr.failure(A,e),tr.identity),LI=new tr.Type("RfcNumericDate",A=>fI(A),(A,e)=>{let t=tr.number.validate(A,e);if((0,lG.isLeft)(t))return t;try{let r=new Date(t.right*1e3);if(Number.isNaN(r.getTime()))throw new TypeError("Invalid Date input");return tr.success(r)}catch(r){return tr.failure(A,e,Dn(r))}},A=>{let e=A.getTime();if(Number.isNaN(e))throw new TypeError("Invalid Date object");return Math.floor(e/1e3)}),Ro=new tr.Type("IsoStringDate",A=>fI(A),(A,e)=>{let t=tr.string.validate(A,e);if((0,lG.isLeft)(t))return t;try{let r=_n(t.right);if(!r)throw new TypeError("Invalid Date input");if(Number.isNaN(r.getTime()))throw new TypeError("Invalid Date input");return tr.success(r)}catch(r){return tr.failure(A,e,Dn(r))}},A=>{let e=A.getTime();if(Number.isNaN(e))throw new TypeError("Invalid Date object");return A.toISOString()}),oM=new tr.Type("OptionalIsoStringDate",A=>typeof A>"u"||fI(A),(A,e)=>{if(typeof A!="string"||A.indexOf("0001")===0)return tr.success(void 0);try{let t=new Date(A);if(Number.isNaN(t.getTime()))throw new TypeError("Invalid Date input");return tr.success(t)}catch(t){return tr.failure(A,e,Dn(t))}},A=>{let e=A?.getTime();if(Number.isNaN(e))throw new TypeError("Invalid Date object");return A?.toISOString()});var SIA=AA(Pl());var lZ=!1,K0e=A=>{lZ!==A&&(lZ=A)},uh=()=>lZ;var l$A=AA(Pl()),sM=class{get message(){return this.msg.str}constructor(e){this.name="LoggableTypeError",this.toString=()=>this.name+": "+this.message,this.msg=e}},c$A=(A,e)=>(0,l$A.isLeft)(A)?au(A.left,e):tk(A.right),tk=A=>({type:"ok",value:A,unwrap:()=>A}),au=(A,e)=>({type:"err",value:A,unwrap:()=>{throw e?e(A):A}});var uZ={};Na(uZ,{SecurePathReporter:()=>cZ,stringify:()=>m$A});var d$A=AA(Pl());var m$A=A=>typeof A=="function"?A.displayName||A.name||`<function ${A.length}>`:typeof A=="number"&&!Number.isFinite(A)?Number.isNaN(A)?"NaN":A>0?"Infinity":"-Infinity":A===null?"null":typeof A>"u"?"undefined":typeof A=="object"&&Array.isArray(A)?"(type: array)":`(type: ${typeof A})`,L0e=A=>A.map(({key:e,type:t})=>e+": "+t.name).join("/"),N0e=A=>sA`Invalid value ${NA(m$A(A.value))} supplied to ${NA(L0e(A.context))}`,u$A=A=>A.map(N0e),U0e=()=>[sA`No errors!`],cZ={report:(0,d$A.fold)(u$A,U0e),reportFailure:u$A};var tAA={};Na(tAA,{ExceptionType:()=>QQ,assertLogSafeAndNormalizeDevice:()=>PIA,init:()=>i1e,isInitialized:()=>o1e,reportError:()=>$s,reportErrors:()=>w4});var p$A=Object.prototype.toString;function NI(A){switch(p$A.call(A)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ak(A,Error)}}function cG(A,e){return p$A.call(A)===`[object ${e}]`}function uG(A){return cG(A,"ErrorEvent")}function lM(A){return cG(A,"DOMError")}function dZ(A){return cG(A,"DOMException")}function Z6(A){return cG(A,"String")}function dG(A){return typeof A=="object"&&A!==null&&"__sentry_template_string__"in A&&"__sentry_template_values__"in A}function nb(A){return A===null||dG(A)||typeof A!="object"&&typeof A!="function"}function vm(A){return cG(A,"Object")}function ib(A){return typeof Event<"u"&&ak(A,Event)}function mZ(A){return typeof Element<"u"&&ak(A,Element)}function pZ(A){return cG(A,"RegExp")}function rk(A){return!!(A&&A.then&&typeof A.then=="function")}function kZ(A){return vm(A)&&"nativeEvent"in A&&"preventDefault"in A&&"stopPropagation"in A}function hZ(A){return typeof A=="number"&&A!==A}function ak(A,e){try{return A instanceof e}catch{return!1}}function UI(A){return!!(typeof A=="object"&&A!==null&&(A.__isVue||A._isVue))}function jk(A,e=0){return typeof A!="string"||e===0||A.length<=e?A:`${A.slice(0,e)}...`}function cM(A,e){if(!Array.isArray(A))return"";let t=[];for(let r=0;r<A.length;r++){let a=A[r];try{UI(a)?t.push("[VueViewModel]"):t.push(String(a))}catch{t.push("[value cannot be serialized]")}}return t.join(e)}function k$A(A,e,t=!1){return Z6(A)?pZ(e)?e.test(A):Z6(e)?t?A===e:A.includes(e):!1:!1}function mG(A,e=[],t=!1){return e.some(r=>k$A(A,r,t))}function HI(A,e,t=250,r,a,j,n){if(!j.exception||!j.exception.values||!n||!ak(n.originalException,Error))return;let i=j.exception.values.length>0?j.exception.values[j.exception.values.length-1]:void 0;i&&(j.exception.values=H0e(gZ(A,e,a,n.originalException,r,j.exception.values,i,0),t))}function gZ(A,e,t,r,a,j,n,i){if(j.length>=t+1)return j;let o=[...j];if(ak(r[a],Error)){h$A(n,i);let s=A(e,r[a]),c=o.length;g$A(s,a,c,i),o=gZ(A,e,t,r[a],a,[s,...o],s,c)}return Array.isArray(r.errors)&&r.errors.forEach((s,c)=>{if(ak(s,Error)){h$A(n,i);let u=A(e,s),p=o.length;g$A(u,`errors[${c}]`,p,i),o=gZ(A,e,t,s,a,[u,...o],u,p)}}),o}function h$A(A,e){A.mechanism=A.mechanism||{type:"generic",handled:!0},A.mechanism={...A.mechanism,...A.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function g$A(A,e,t,r){A.mechanism=A.mechanism||{type:"generic",handled:!0},A.mechanism={...A.mechanism,type:"chained",source:e,exception_id:t,parent_id:r}}function H0e(A,e){return A.map(t=>(t.value&&(t.value=jk(t.value,e)),t))}function uM(A){return A&&A.Math==Math?A:void 0}var xa=typeof globalThis=="object"&&uM(globalThis)||typeof window=="object"&&uM(window)||typeof self=="object"&&uM(self)||typeof global=="object"&&uM(global)||function(){return this}()||{};function ob(){return xa}function VI(A,e,t){let r=t||xa,a=r.__SENTRY__=r.__SENTRY__||{};return a[A]||(a[A]=e())}var fZ=ob(),V0e=80;function XI(A,e={}){if(!A)return"<unknown>";try{let t=A,r=5,a=[],j=0,n=0,i=" > ",o=i.length,s,c=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||V0e;for(;t&&j++<r&&(s=X0e(t,c),!(s==="html"||j>1&&n+a.length*o+s.length>=u));)a.push(s),n+=s.length,t=t.parentNode;return a.reverse().join(i)}catch{return"<unknown>"}}function X0e(A,e){let t=A,r=[],a,j,n,i,o;if(!t||!t.tagName)return"";if(fZ.HTMLElement&&t instanceof HTMLElement&&t.dataset&&t.dataset.sentryComponent)return t.dataset.sentryComponent;r.push(t.tagName.toLowerCase());let s=e&&e.length?e.filter(u=>t.getAttribute(u)).map(u=>[u,t.getAttribute(u)]):null;if(s&&s.length)s.forEach(u=>{r.push(`[${u[0]}="${u[1]}"]`)});else if(t.id&&r.push(`#${t.id}`),a=t.className,a&&Z6(a))for(j=a.split(/\s+/),o=0;o<j.length;o++)r.push(`.${j[o]}`);let c=["aria-label","type","name","title","alt"];for(o=0;o<c.length;o++)n=c[o],i=t.getAttribute(n),i&&r.push(`[${n}="${i}"]`);return r.join("")}function BZ(){try{return fZ.document.location.href}catch{return""}}function EZ(A){if(!fZ.HTMLElement)return null;let e=A,t=5;for(let r=0;r<t;r++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}var nk=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var W0e="Sentry Logger ",WI=["debug","info","warn","error","log","assert","trace"],pG={};function Tf(A){if(!("console"in xa))return A();let e=xa.console,t={},r=Object.keys(pG);r.forEach(a=>{let j=pG[a];t[a]=e[a],e[a]=j});try{return A()}finally{r.forEach(a=>{e[a]=t[a]})}}function J0e(){let A=!1,e={enable:()=>{A=!0},disable:()=>{A=!1},isEnabled:()=>A};return nk?WI.forEach(t=>{e[t]=(...r)=>{A&&Tf(()=>{xa.console[t](`${W0e}[${t}]:`,...r)})}}):WI.forEach(t=>{e[t]=()=>{}}),e}var Vt=J0e();var Y0e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Z0e(A){return A==="http"||A==="https"}function kd(A,e=!1){let{host:t,path:r,pass:a,port:j,projectId:n,protocol:i,publicKey:o}=A;return`${i}://${o}${e&&a?`:${a}`:""}@${t}${j?`:${j}`:""}/${r&&`${r}/`}${n}`}function f$A(A){let e=Y0e.exec(A);if(!e){Tf(()=>{console.error(`Invalid Sentry Dsn: ${A}`)});return}let[t,r,a="",j,n="",i]=e.slice(1),o="",s=i,c=s.split("/");if(c.length>1&&(o=c.slice(0,-1).join("/"),s=c.pop()),s){let u=s.match(/^\d+/);u&&(s=u[0])}return B$A({host:j,pass:a,path:o,projectId:s,port:n,protocol:t,publicKey:r})}function B$A(A){return{protocol:A.protocol,publicKey:A.publicKey||"",pass:A.pass||"",host:A.host,port:A.port||"",path:A.path||"",projectId:A.projectId}}function Q0e(A){if(!nk)return!0;let{port:e,projectId:t,protocol:r}=A;return["protocol","publicKey","host","projectId"].find(n=>A[n]?!1:(Vt.error(`Invalid Sentry Dsn: ${n} missing`),!0))?!1:t.match(/^\d+$/)?Z0e(r)?e&&isNaN(parseInt(e,10))?(Vt.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Vt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Vt.error(`Invalid Sentry Dsn: Invalid projectId ${t}`),!1)}function dM(A){let e=typeof A=="string"?f$A(A):B$A(A);if(!(!e||!Q0e(e)))return e}var Dl=class extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}};function Bi(A,e,t){if(!(e in A))return;let r=A[e],a=t(r);typeof a=="function"&&mM(a,r),A[e]=a}function dh(A,e,t){try{Object.defineProperty(A,e,{value:t,writable:!0,configurable:!0})}catch{nk&&Vt.log(`Failed to add non-enumerable property "${e}" to object`,A)}}function mM(A,e){try{let t=e.prototype||{};A.prototype=e.prototype=t,dh(A,"__sentry_original__",e)}catch{}}function sb(A){return A.__sentry_original__}function bZ(A){return Object.keys(A).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(A[e])}`).join("&")}function pM(A){if(NI(A))return{message:A.message,name:A.name,stack:A.stack,...x$A(A)};if(ib(A)){let e={type:A.type,target:E$A(A.target),currentTarget:E$A(A.currentTarget),...x$A(A)};return typeof CustomEvent<"u"&&ak(A,CustomEvent)&&(e.detail=A.detail),e}else return A}function E$A(A){try{return mZ(A)?XI(A):Object.prototype.toString.call(A)}catch{return"<unknown>"}}function x$A(A){if(typeof A=="object"&&A!==null){let e={};for(let t in A)Object.prototype.hasOwnProperty.call(A,t)&&(e[t]=A[t]);return e}else return{}}function yZ(A,e=40){let t=Object.keys(pM(A));if(t.sort(),!t.length)return"[object has no keys]";if(t[0].length>=e)return jk(t[0],e);for(let r=t.length;r>0;r--){let a=t.slice(0,r).join(", ");if(!(a.length>e))return r===t.length?a:jk(a,e)}return""}function p6(A){return xZ(A,new Map)}function xZ(A,e){if(AFe(A)){let t=e.get(A);if(t!==void 0)return t;let r={};e.set(A,r);for(let a of Object.keys(A))typeof A[a]<"u"&&(r[a]=xZ(A[a],e));return r}if(Array.isArray(A)){let t=e.get(A);if(t!==void 0)return t;let r=[];return e.set(A,r),A.forEach(a=>{r.push(xZ(a,e))}),r}return A}function AFe(A){if(!vm(A))return!1;try{let e=Object.getPrototypeOf(A).constructor.name;return!e||e==="Object"}catch{return!0}}var v$A=50,b$A=/\(error: (.*)\)/,y$A=/captureMessage|captureException/;function kM(...A){let e=A.sort((t,r)=>t[0]-r[0]).map(t=>t[1]);return(t,r=0)=>{let a=[],j=t.split(`
`);for(let n=r;n<j.length;n++){let i=j[n];if(i.length>1024)continue;let o=b$A.test(i)?i.replace(b$A,"$1"):i;if(!o.match(/\S*Error: /)){for(let s of e){let c=s(o);if(c){a.push(c);break}}if(a.length>=v$A)break}}return F$A(a)}}function FZ(A){return Array.isArray(A)?kM(...A):A}function F$A(A){if(!A.length)return[];let e=Array.from(A);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),y$A.test(e[e.length-1].function||"")&&(e.pop(),y$A.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,v$A).map(t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"}))}var vZ="<anonymous>";function hd(A){try{return!A||typeof A!="function"?vZ:A.name||vZ}catch{return vZ}}var hM={},G$A={};function Q6(A,e){hM[A]=hM[A]||[],hM[A].push(e)}function Ac(A,e){G$A[A]||(e(),G$A[A]=!0)}function Gs(A,e){let t=A&&hM[A];if(t)for(let r of t)try{r(e)}catch(a){nk&&Vt.error(`Error while triggering instrumentation handler.
Type: ${A}
Name: ${hd(r)}
Error:`,a)}}function GZ(A){let e="console";Q6(e,A),Ac(e,eFe)}function eFe(){"console"in xa&&WI.forEach(function(A){A in xa.console&&Bi(xa.console,A,function(e){return pG[A]=e,function(...t){Gs("console",{args:t,level:A});let a=pG[A];a&&a.apply(xa.console,t)}})})}function js(){let A=xa,e=A.crypto||A.msCrypto,t=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(t=()=>{let r=new Uint8Array(1);return e.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function w$A(A){return A.exception&&A.exception.values?A.exception.values[0]:void 0}function Fm(A){let{message:e,event_id:t}=A;if(e)return e;let r=w$A(A);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||t||"<unknown>":t||"<unknown>"}function kG(A,e,t){let r=A.exception=A.exception||{},a=r.values=r.values||[],j=a[0]=a[0]||{};j.value||(j.value=e||""),j.type||(j.type=t||"Error")}function mh(A,e){let t=w$A(A);if(!t)return;let r={type:"generic",handled:!0},a=t.mechanism;if(t.mechanism={...r,...a,...e},e&&"data"in e){let j={...a&&a.data,...e.data};t.mechanism.data=j}}function gM(A){if(A&&A.__sentry_captured__)return!0;try{dh(A,"__sentry_captured__",!0)}catch{}return!1}function JI(A){return Array.isArray(A)?A:[A]}var hG=xa,tFe=1e3,q$A,wZ,qZ;function $Z(A){let e="dom";Q6(e,A),Ac(e,rFe)}function rFe(){if(!hG.document)return;let A=Gs.bind(null,"dom"),e=$$A(A,!0);hG.document.addEventListener("click",e,!1),hG.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(t=>{let r=hG[t]&&hG[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Bi(r,"addEventListener",function(a){return function(j,n,i){if(j==="click"||j=="keypress")try{let o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},c=s[j]=s[j]||{refCount:0};if(!c.handler){let u=$$A(A);c.handler=u,a.call(this,j,u,i)}c.refCount++}catch{}return a.call(this,j,n,i)}}),Bi(r,"removeEventListener",function(a){return function(j,n,i){if(j==="click"||j=="keypress")try{let o=this,s=o.__sentry_instrumentation_handlers__||{},c=s[j];c&&(c.refCount--,c.refCount<=0&&(a.call(this,j,c.handler,i),c.handler=void 0,delete s[j]),Object.keys(s).length===0&&delete o.__sentry_instrumentation_handlers__)}catch{}return a.call(this,j,n,i)}}))})}function aFe(A){if(A.type!==wZ)return!1;try{if(!A.target||A.target._sentryId!==qZ)return!1}catch{}return!0}function jFe(A,e){return A!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function $$A(A,e=!1){return t=>{if(!t||t._sentryCaptured)return;let r=nFe(t);if(jFe(t.type,r))return;dh(t,"_sentryCaptured",!0),r&&!r._sentryId&&dh(r,"_sentryId",js());let a=t.type==="keypress"?"input":t.type;aFe(t)||(A({event:t,name:a,global:e}),wZ=t.type,qZ=r?r._sentryId:void 0),clearTimeout(q$A),q$A=hG.setTimeout(()=>{qZ=void 0,wZ=void 0},tFe)}}function nFe(A){try{return A.target}catch{return null}}var IZ=ob();function fM(){if(!("fetch"in IZ))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function YI(A){return A&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(A.toString())}function PZ(){if(typeof EdgeRuntime=="string")return!0;if(!fM())return!1;if(YI(IZ.fetch))return!0;let A=!1,e=IZ.document;if(e&&typeof e.createElement=="function")try{let t=e.createElement("iframe");t.hidden=!0,e.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(A=YI(t.contentWindow.fetch)),e.head.removeChild(t)}catch(t){nk&&Vt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return A}function CZ(A){let e="fetch";Q6(e,A),Ac(e,iFe)}function iFe(){PZ()&&Bi(xa,"fetch",function(A){return function(...e){let{method:t,url:r}=oFe(e),a={args:e,fetchData:{method:t,url:r},startTimestamp:Date.now()};return Gs("fetch",{...a}),A.apply(xa,e).then(j=>{let n={...a,endTimestamp:Date.now(),response:j};return Gs("fetch",n),j},j=>{let n={...a,endTimestamp:Date.now(),error:j};throw Gs("fetch",n),j})}})}function SZ(A,e){return!!A&&typeof A=="object"&&!!A[e]}function I$A(A){return typeof A=="string"?A:A?SZ(A,"url")?A.url:A.toString?A.toString():"":""}function oFe(A){if(A.length===0)return{method:"GET",url:""};if(A.length===2){let[t,r]=A;return{url:I$A(t),method:SZ(r,"method")?String(r.method).toUpperCase():"GET"}}let e=A[0];return{url:I$A(e),method:SZ(e,"method")?String(e.method).toUpperCase():"GET"}}var BM=null;function OZ(A){let e="error";Q6(e,A),Ac(e,sFe)}function sFe(){BM=xa.onerror,xa.onerror=function(A,e,t,r,a){return Gs("error",{column:r,error:a,line:t,msg:A,url:e}),BM&&!BM.__SENTRY_LOADER__?BM.apply(this,arguments):!1},xa.onerror.__SENTRY_INSTRUMENTED__=!0}var EM=null;function TZ(A){let e="unhandledrejection";Q6(e,A),Ac(e,lFe)}function lFe(){EM=xa.onunhandledrejection,xa.onunhandledrejection=function(A){return Gs("unhandledrejection",A),EM&&!EM.__SENTRY_LOADER__?EM.apply(this,arguments):!0},xa.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var xM=ob();function P$A(){let A=xM.chrome,e=A&&A.app&&A.app.runtime,t="history"in xM&&!!xM.history.pushState&&!!xM.history.replaceState;return!e&&t}var ZI=xa,bM;function QI(A){let e="history";Q6(e,A),Ac(e,cFe)}function cFe(){if(!P$A())return;let A=ZI.onpopstate;ZI.onpopstate=function(...t){let r=ZI.location.href,a=bM;if(bM=r,Gs("history",{from:a,to:r}),A)try{return A.apply(this,t)}catch{}};function e(t){return function(...r){let a=r.length>2?r[2]:void 0;if(a){let j=bM,n=String(a);bM=n,Gs("history",{from:j,to:n})}return t.apply(this,r)}}Bi(ZI.history,"pushState",e),Bi(ZI.history,"replaceState",e)}var uFe=xa,lb="__sentry_xhr_v3__";function _Z(A){let e="xhr";Q6(e,A),Ac(e,dFe)}function dFe(){if(!uFe.XMLHttpRequest)return;let A=XMLHttpRequest.prototype;Bi(A,"open",function(e){return function(...t){let r=Date.now(),a=Z6(t[0])?t[0].toUpperCase():void 0,j=mFe(t[1]);if(!a||!j)return e.apply(this,t);this[lb]={method:a,url:j,request_headers:{}},a==="POST"&&j.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let n=()=>{let i=this[lb];if(i&&this.readyState===4){try{i.status_code=this.status}catch{}let o={args:[a,j],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Gs("xhr",o)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Bi(this,"onreadystatechange",function(i){return function(...o){return n(),i.apply(this,o)}}):this.addEventListener("readystatechange",n),Bi(this,"setRequestHeader",function(i){return function(...o){let[s,c]=o,u=this[lb];return u&&Z6(s)&&Z6(c)&&(u.request_headers[s.toLowerCase()]=c),i.apply(this,o)}}),e.apply(this,t)}}),Bi(A,"send",function(e){return function(...t){let r=this[lb];if(!r)return e.apply(this,t);t[0]!==void 0&&(r.body=t[0]);let a={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Gs("xhr",a),e.apply(this,t)}})}function mFe(A){if(Z6(A))return A;try{return A.toString()}catch{}}function DZ(){return"npm"}function S$A(){let A=typeof WeakSet=="function",e=A?new WeakSet:[];function t(a){if(A)return e.has(a)?!0:(e.add(a),!1);for(let j=0;j<e.length;j++)if(e[j]===a)return!0;return e.push(a),!1}function r(a){if(A)e.delete(a);else for(let j=0;j<e.length;j++)if(e[j]===a){e.splice(j,1);break}}return[t,r]}function Gm(A,e=100,t=1/0){try{return yM("",A,e,t)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function vM(A,e=3,t=100*1024){let r=Gm(A,e);return gFe(r)>t?vM(A,e-1,t):r}function yM(A,e,t=1/0,r=1/0,a=S$A()){let[j,n]=a;if(e==null||["number","boolean","string"].includes(typeof e)&&!hZ(e))return e;let i=pFe(A,e);if(!i.startsWith("[object "))return i;if(e.__sentry_skip_normalization__)return e;let o=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:t;if(o===0)return i.replace("object ","");if(j(e))return"[Circular ~]";let s=e;if(s&&typeof s.toJSON=="function")try{let h=s.toJSON();return yM("",h,o-1,r,a)}catch{}let c=Array.isArray(e)?[]:{},u=0,p=pM(e);for(let h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(u>=r){c[h]="[MaxProperties ~]";break}let f=p[h];c[h]=yM(h,f,o-1,r,a),u++}return n(e),c}function pFe(A,e){try{if(A==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(A==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(UI(e))return"[VueViewModel]";if(kZ(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${hd(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let t=kFe(e);return/^HTML(\w*)Element$/.test(t)?`[HTMLElement: ${t}]`:`[object ${t}]`}catch(t){return`**non-serializable** (${t})`}}function kFe(A){let e=Object.getPrototypeOf(A);return e?e.constructor.name:"null prototype"}function hFe(A){return~-encodeURI(A).split(/%..|./).length}function gFe(A){return hFe(JSON.stringify(A))}var ph;(function(A){A[A.PENDING=0]="PENDING";let t=1;A[A.RESOLVED=t]="RESOLVED";let r=2;A[A.REJECTED=r]="REJECTED"})(ph||(ph={}));function wm(A){return new ju(e=>{e(A)})}function cb(A){return new ju((e,t)=>{t(A)})}var ju=class A{constructor(e){A.prototype.__init.call(this),A.prototype.__init2.call(this),A.prototype.__init3.call(this),A.prototype.__init4.call(this),this._state=ph.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new A((r,a)=>{this._handlers.push([!1,j=>{if(!e)r(j);else try{r(e(j))}catch(n){a(n)}},j=>{if(!t)a(j);else try{r(t(j))}catch(n){a(n)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new A((t,r)=>{let a,j;return this.then(n=>{j=!1,a=n,e&&e()},n=>{j=!0,a=n,e&&e()}).then(()=>{if(j){r(a);return}t(a)})})}__init(){this._resolve=e=>{this._setResult(ph.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ph.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===ph.PENDING){if(rk(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ph.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===ph.RESOLVED&&t[1](this._value),this._state===ph.REJECTED&&t[2](this._value),t[0]=!0)})}}};function zZ(A){let e=[];function t(){return A===void 0||e.length<A}function r(n){return e.splice(e.indexOf(n),1)[0]}function a(n){if(!t())return cb(new Dl("Not adding Promise because buffer limit was reached."));let i=n();return e.indexOf(i)===-1&&e.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i}function j(n){return new ju((i,o)=>{let s=e.length;if(!s)return i(!0);let c=setTimeout(()=>{n&&n>0&&i(!1)},n);e.forEach(u=>{wm(u).then(()=>{--s||(clearTimeout(c),i(!0))},o)})})}return{$:e,add:a,drain:j}}function A4(A){if(!A)return{};let e=A.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let t=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:t,hash:r,relative:e[5]+t+r}}var C$A=["fatal","error","warning","log","info","debug"];function MZ(A){return A==="warn"?"warning":C$A.includes(A)?A:"log"}var O$A=1e3;function ik(){return Date.now()/O$A}function fFe(){let{performance:A}=xa;if(!A||!A.now)return ik;let e=Date.now()-A.now(),t=A.timeOrigin==null?e:A.timeOrigin;return()=>(t+A.now())/O$A}var gG=fFe();var e4,BFe=(()=>{let{performance:A}=xa;if(!A||!A.now){e4="none";return}let e=3600*1e3,t=A.now(),r=Date.now(),a=A.timeOrigin?Math.abs(A.timeOrigin+t-r):e,j=a<e,n=A.timing&&A.timing.navigationStart,o=typeof n=="number"?Math.abs(n+t-r):e,s=o<e;return j||s?a<=o?(e4="timeOrigin",A.timeOrigin):(e4="navigationStart",n):(e4="dateNow",r)})();function gd(A,e=[]){return[A,e]}function KZ(A,e){let[t,r]=A;return[t,[...r,e]]}function FM(A,e){let t=A[1];for(let r of t){let a=r[0].type;if(e(r,a))return!0}return!1}function RZ(A,e){return(e||new TextEncoder).encode(A)}function LZ(A,e){let[t,r]=A,a=JSON.stringify(t);function j(n){typeof a=="string"?a=typeof n=="string"?a+n:[RZ(a,e),n]:a.push(typeof n=="string"?RZ(n,e):n)}for(let n of r){let[i,o]=n;if(j(`
${JSON.stringify(i)}
`),typeof o=="string"||o instanceof Uint8Array)j(o);else{let s;try{s=JSON.stringify(o)}catch{s=JSON.stringify(Gm(o))}j(s)}}return typeof a=="string"?a:EFe(a)}function EFe(A){let e=A.reduce((a,j)=>a+j.length,0),t=new Uint8Array(e),r=0;for(let a of A)t.set(a,r),r+=a.length;return t}function NZ(A,e){let t=typeof A.data=="string"?RZ(A.data,e):A.data;return[p6({type:"attachment",length:t.length,filename:A.filename,content_type:A.contentType,attachment_type:A.attachmentType}),t]}var xFe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function GM(A){return xFe[A]}function wM(A){if(!A||!A.sdk)return;let{name:e,version:t}=A.sdk;return{name:e,version:t}}function UZ(A,e,t,r){let a=A.sdkProcessingMetadata&&A.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:A.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!t&&r&&{dsn:kd(r)},...a&&{trace:p6({...a})}}}function HZ(A,e,t){let r=[{type:"client_report"},{timestamp:t||ik(),discarded_events:A}];return gd(e?{dsn:e}:{},[r])}function T$A(A,e=Date.now()){let t=parseInt(`${A}`,10);if(!isNaN(t))return t*1e3;let r=Date.parse(`${A}`);return isNaN(r)?6e4:r-e}function _$A(A,e){return A[e]||A.all||0}function VZ(A,e,t=Date.now()){return _$A(A,e)>t}function XZ(A,{statusCode:e,headers:t},r=Date.now()){let a={...A},j=t&&t["x-sentry-rate-limits"],n=t&&t["retry-after"];if(j)for(let i of j.trim().split(",")){let[o,s,,,c]=i.split(":",5),u=parseInt(o,10),p=(isNaN(u)?60:u)*1e3;if(!s)a.all=r+p;else for(let h of s.split(";"))h==="metric_bucket"?(!c||c.split(";").includes("custom"))&&(a[h]=r+p):a[h]=r+p}else n?a.all=r+T$A(n,r):e===429&&(a.all=r+60*1e3);return a}function D$A(A,e){return A(e.stack||"",1)}function WZ(A,e){let t={type:e.name||e.constructor.name,value:e.message},r=D$A(A,e);return r.length&&(t.stacktrace={frames:r}),t}var Cj=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var _f="production";function t4(){return VI("globalEventProcessors",()=>[])}function JZ(A){t4().push(A)}function fG(A,e,t,r=0){return new ju((a,j)=>{let n=A[r];if(e===null||typeof n!="function")a(e);else{let i=n({...e},t);Cj&&n.id&&i===null&&Vt.log(`Event processor "${n.id}" dropped event`),rk(i)?i.then(o=>fG(A,o,t,r+1).then(a)).then(null,j):fG(A,i,t,r+1).then(a).then(null,j)}})}function qM(A){let e=gG(),t={sid:js(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>bFe(t)};return A&&qm(t,A),t}function qm(A,e={}){if(e.user&&(!A.ipAddress&&e.user.ip_address&&(A.ipAddress=e.user.ip_address),!A.did&&!e.did&&(A.did=e.user.id||e.user.email||e.user.username)),A.timestamp=e.timestamp||gG(),e.abnormal_mechanism&&(A.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(A.ignoreDuration=e.ignoreDuration),e.sid&&(A.sid=e.sid.length===32?e.sid:js()),e.init!==void 0&&(A.init=e.init),!A.did&&e.did&&(A.did=`${e.did}`),typeof e.started=="number"&&(A.started=e.started),A.ignoreDuration)A.duration=void 0;else if(typeof e.duration=="number")A.duration=e.duration;else{let t=A.timestamp-A.started;A.duration=t>=0?t:0}e.release&&(A.release=e.release),e.environment&&(A.environment=e.environment),!A.ipAddress&&e.ipAddress&&(A.ipAddress=e.ipAddress),!A.userAgent&&e.userAgent&&(A.userAgent=e.userAgent),typeof e.errors=="number"&&(A.errors=e.errors),e.status&&(A.status=e.status)}function $M(A,e){let t={};e?t={status:e}:A.status==="ok"&&(t={status:"exited"}),qm(A,t)}function bFe(A){return p6({sid:`${A.sid}`,init:A.init,started:new Date(A.started*1e3).toISOString(),timestamp:new Date(A.timestamp*1e3).toISOString(),status:A.status,errors:A.errors,did:typeof A.did=="number"||typeof A.did=="string"?`${A.did}`:void 0,duration:A.duration,abnormal_mechanism:A.abnormal_mechanism,attrs:{release:A.release,environment:A.environment,ip_address:A.ipAddress,user_agent:A.userAgent}})}var yFe=1;function z$A(A){let{spanId:e,traceId:t}=A.spanContext(),{data:r,op:a,parent_span_id:j,status:n,tags:i,origin:o}=Df(A);return p6({data:r,op:a,parent_span_id:j,span_id:e,status:n,tags:i,trace_id:t,origin:o})}function Df(A){return vFe(A)?A.getSpanJSON():typeof A.toJSON=="function"?A.toJSON():{}}function vFe(A){return typeof A.getSpanJSON=="function"}function M$A(A){let{traceFlags:e}=A.spanContext();return!!(e&yFe)}function K$A(A,e,t,r,a,j){let{normalizeDepth:n=3,normalizeMaxBreadth:i=1e3}=A,o={...e,event_id:e.event_id||t.event_id||js(),timestamp:e.timestamp||ik()},s=t.integrations||A.integrations.map(w=>w.name);FFe(o,A),qFe(o,s),e.type===void 0&&GFe(o,A.stackParser);let c=IFe(r,t.captureContext);t.mechanism&&mh(o,t.mechanism);let u=a&&a.getEventProcessors?a.getEventProcessors():[],p=N$A().getScopeData();if(j){let w=j.getScopeData();YZ(p,w)}if(c){let w=c.getScopeData();YZ(p,w)}let h=[...t.attachments||[],...p.attachments];h.length&&(t.attachments=h),IM(o,p);let f=[...u,...t4(),...p.eventProcessors];return fG(f,o,t).then(w=>(w&&wFe(w),typeof n=="number"&&n>0?$Fe(w,n,i):w))}function FFe(A,e){let{environment:t,release:r,dist:a,maxValueLength:j=250}=e;"environment"in A||(A.environment="environment"in e?t:_f),A.release===void 0&&r!==void 0&&(A.release=r),A.dist===void 0&&a!==void 0&&(A.dist=a),A.message&&(A.message=jk(A.message,j));let n=A.exception&&A.exception.values&&A.exception.values[0];n&&n.value&&(n.value=jk(n.value,j));let i=A.request;i&&i.url&&(i.url=jk(i.url,j))}var R$A=new WeakMap;function GFe(A,e){let t=xa._sentryDebugIds;if(!t)return;let r,a=R$A.get(e);a?r=a:(r=new Map,R$A.set(e,r));let j=Object.keys(t).reduce((n,i)=>{let o,s=r.get(i);s?o=s:(o=e(i),r.set(i,o));for(let c=o.length-1;c>=0;c--){let u=o[c];if(u.filename){n[u.filename]=t[i];break}}return n},{});try{A.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.filename&&(i.debug_id=j[i.filename])})})}catch{}}function wFe(A){let e={};try{A.exception.values.forEach(r=>{r.stacktrace.frames.forEach(a=>{a.debug_id&&(a.abs_path?e[a.abs_path]=a.debug_id:a.filename&&(e[a.filename]=a.debug_id),delete a.debug_id)})})}catch{}if(Object.keys(e).length===0)return;A.debug_meta=A.debug_meta||{},A.debug_meta.images=A.debug_meta.images||[];let t=A.debug_meta.images;Object.keys(e).forEach(r=>{t.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function qFe(A,e){e.length>0&&(A.sdk=A.sdk||{},A.sdk.integrations=[...A.sdk.integrations||[],...e])}function $Fe(A,e,t){if(!A)return null;let r={...A,...A.breadcrumbs&&{breadcrumbs:A.breadcrumbs.map(a=>({...a,...a.data&&{data:Gm(a.data,e,t)}}))},...A.user&&{user:Gm(A.user,e,t)},...A.contexts&&{contexts:Gm(A.contexts,e,t)},...A.extra&&{extra:Gm(A.extra,e,t)}};return A.contexts&&A.contexts.trace&&r.contexts&&(r.contexts.trace=A.contexts.trace,A.contexts.trace.data&&(r.contexts.trace.data=Gm(A.contexts.trace.data,e,t))),A.spans&&(r.spans=A.spans.map(a=>{let j=Df(a).data;return j&&(a.data=Gm(j,e,t)),a})),r}function IFe(A,e){if(!e)return A;let t=A?A.clone():new ok;return t.update(e),t}function L$A(A){if(A)return PFe(A)?{captureContext:A}:CFe(A)?{captureContext:A}:A}function PFe(A){return A instanceof ok||typeof A=="function"}var SFe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function CFe(A){return Object.keys(A).some(e=>SFe.includes(e))}function BG(A,e){return ec().captureException(A,L$A(e))}function r4(A,e){return ec().captureEvent(A,e)}function sk(A,e){ec().addBreadcrumb(A,e)}function EG(...A){let e=ec();if(A.length===2){let[t,r]=A;return t?e.withScope(()=>(e.getStackTop().scope=t,r(t))):e.withScope(r)}return e.withScope(A[0])}function ao(){return ec().getClient()}function kh(){return ec().getScope()}function a4(A){let e=ao(),t=xG(),r=kh(),{release:a,environment:j=_f}=e&&e.getOptions()||{},{userAgent:n}=xa.navigator||{},i=qM({release:a,environment:j,user:r.getUser()||t.getUser(),...n&&{userAgent:n},...A}),o=t.getSession();return o&&o.status==="ok"&&qm(o,{status:"exited"}),PM(),t.setSession(i),r.setSession(i),i}function PM(){let A=xG(),e=kh(),t=e.getSession()||A.getSession();t&&$M(t),U$A(),A.setSession(),e.setSession()}function U$A(){let A=xG(),e=kh(),t=ao(),r=e.getSession()||A.getSession();r&&t&&t.captureSession&&t.captureSession(r)}function j4(A=!1){if(A){PM();return}U$A()}function SM(A){return A.transaction}function ZZ(A,e,t){let r=e.getOptions(),{publicKey:a}=e.getDsn()||{},{segment:j}=t&&t.getUser()||{},n=p6({environment:r.environment||_f,release:r.release,user_segment:j,public_key:a,trace_id:A});return e.emit&&e.emit("createDsc",n),n}function H$A(A){let e=ao();if(!e)return{};let t=ZZ(Df(A).trace_id||"",e,kh()),r=SM(A);if(!r)return t;let a=r&&r._frozenDynamicSamplingContext;if(a)return a;let{sampleRate:j,source:n}=r.metadata;j!=null&&(t.sample_rate=`${j}`);let i=Df(r);return n&&n!=="url"&&(t.transaction=i.description),t.sampled=String(M$A(r)),e.emit&&e.emit("createDsc",t),t}function IM(A,e){let{fingerprint:t,span:r,breadcrumbs:a,sdkProcessingMetadata:j}=e;OFe(A,e),r&&DFe(A,r),zFe(A,t),TFe(A,a),_Fe(A,j)}function YZ(A,e){let{extra:t,tags:r,user:a,contexts:j,level:n,sdkProcessingMetadata:i,breadcrumbs:o,fingerprint:s,eventProcessors:c,attachments:u,propagationContext:p,transactionName:h,span:f}=e;n4(A,"extra",t),n4(A,"tags",r),n4(A,"user",a),n4(A,"contexts",j),n4(A,"sdkProcessingMetadata",i),n&&(A.level=n),h&&(A.transactionName=h),f&&(A.span=f),o.length&&(A.breadcrumbs=[...A.breadcrumbs,...o]),s.length&&(A.fingerprint=[...A.fingerprint,...s]),c.length&&(A.eventProcessors=[...A.eventProcessors,...c]),u.length&&(A.attachments=[...A.attachments,...u]),A.propagationContext={...A.propagationContext,...p}}function n4(A,e,t){if(t&&Object.keys(t).length){A[e]={...A[e]};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(A[e][r]=t[r])}}function OFe(A,e){let{extra:t,tags:r,user:a,contexts:j,level:n,transactionName:i}=e,o=p6(t);o&&Object.keys(o).length&&(A.extra={...o,...A.extra});let s=p6(r);s&&Object.keys(s).length&&(A.tags={...s,...A.tags});let c=p6(a);c&&Object.keys(c).length&&(A.user={...c,...A.user});let u=p6(j);u&&Object.keys(u).length&&(A.contexts={...u,...A.contexts}),n&&(A.level=n),i&&(A.transaction=i)}function TFe(A,e){let t=[...A.breadcrumbs||[],...e];A.breadcrumbs=t.length?t:void 0}function _Fe(A,e){A.sdkProcessingMetadata={...A.sdkProcessingMetadata,...e}}function DFe(A,e){A.contexts={trace:z$A(e),...A.contexts};let t=SM(e);if(t){A.sdkProcessingMetadata={dynamicSamplingContext:H$A(e),...A.sdkProcessingMetadata};let r=Df(t).description;r&&(A.tags={transaction:r,...A.tags})}}function zFe(A,e){A.fingerprint=A.fingerprint?JI(A.fingerprint):[],e&&(A.fingerprint=A.fingerprint.concat(e)),A.fingerprint&&!A.fingerprint.length&&delete A.fingerprint}var MFe=100,QZ,ok=class A{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=V$A()}static clone(e){return e?e.clone():new A}clone(){let e=new A;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&qm(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t=typeof e=="function"?e(this):e;if(t instanceof A){let r=t.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(vm(t)){let r=e;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=V$A(),this}addBreadcrumb(e,t){let r=typeof t=="number"?t:MFe;if(r<=0)return this;let a={timestamp:ik(),...e},j=this._breadcrumbs;return j.push(a),this._breadcrumbs=j.length>r?j.slice(-r):j,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:t,_contexts:r,_tags:a,_extra:j,_user:n,_level:i,_fingerprint:o,_eventProcessors:s,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:p,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:r,tags:a,extra:j,user:n,level:i,fingerprint:o||[],eventProcessors:s,propagationContext:c,sdkProcessingMetadata:u,transactionName:p,span:h}}applyToEvent(e,t={},r=[]){IM(e,this.getScopeData());let a=[...r,...t4(),...this._eventProcessors];return fG(a,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){let r=t&&t.event_id?t.event_id:js();if(!this._client)return Vt.warn("No client configured on scope - will not capture exception!"),r;let a=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:a,...t,event_id:r},this),r}captureMessage(e,t,r){let a=r&&r.event_id?r.event_id:js();if(!this._client)return Vt.warn("No client configured on scope - will not capture message!"),a;let j=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:j,...r,event_id:a},this),a}captureEvent(e,t){let r=t&&t.event_id?t.event_id:js();return this._client?(this._client.captureEvent(e,{...t,event_id:r},this),r):(Vt.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function N$A(){return QZ||(QZ=new ok),QZ}function V$A(){return{traceId:js(),spanId:js().substring(16)}}var bG="7.118.0";var X$A=parseFloat(bG),RFe=100,i4=class{constructor(e,t,r,a=X$A){this._version=a;let j;t?j=t:(j=new ok,j.setClient(e));let n;r?n=r:(n=new ok,n.setClient(e)),this._stack=[{scope:j}],e&&this.bindClient(e),this._isolationScope=n}isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let t=this.pushScope(),r;try{r=e(t)}catch(a){throw this.popScope(),a}return rk(r)?r.then(a=>(this.popScope(),a),a=>{throw this.popScope(),a}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let r=this._lastEventId=t&&t.event_id?t.event_id:js(),a=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:a,...t,event_id:r}),r}captureMessage(e,t,r){let a=this._lastEventId=r&&r.event_id?r.event_id:js(),j=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:j,...r,event_id:a}),a}captureEvent(e,t){let r=t&&t.event_id?t.event_id:js();return e.type||(this._lastEventId=r),this.getScope().captureEvent(e,{...t,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:r,client:a}=this.getStackTop();if(!a)return;let{beforeBreadcrumb:j=null,maxBreadcrumbs:n=RFe}=a.getOptions&&a.getOptions()||{};if(n<=0)return;let o={timestamp:ik(),...e},s=j?Tf(()=>j(o,t)):o;s!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,n))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){let{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){let t=AQ(this);try{e(this)}finally{AQ(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch{return Cj&&Vt.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){let r=this._callExtensionMethod("startTransaction",e,t);return Cj&&!r&&(this.getClient()?Vt.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):Vt.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop().scope,r=t.getSession();r&&$M(r),this._sendSessionUpdate(),t.setSession()}startSession(e){let{scope:t,client:r}=this.getStackTop(),{release:a,environment:j=_f}=r&&r.getOptions()||{},{userAgent:n}=xa.navigator||{},i=qM({release:a,environment:j,user:t.getUser(),...n&&{userAgent:n},...e}),o=t.getSession&&t.getSession();return o&&o.status==="ok"&&qm(o,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return!!(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop(),r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_callExtensionMethod(e,...t){let a=OM().__SENTRY__;if(a&&a.extensions&&typeof a.extensions[e]=="function")return a.extensions[e].apply(this,t);Cj&&Vt.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function OM(){return xa.__SENTRY__=xa.__SENTRY__||{extensions:{},hub:void 0},xa}function AQ(A){let e=OM(),t=CM(e);return W$A(e,A),t}function ec(){let A=OM();if(A.__SENTRY__&&A.__SENTRY__.acs){let e=A.__SENTRY__.acs.getCurrentHub();if(e)return e}return KFe(A)}function xG(){return ec().getIsolationScope()}function KFe(A=OM()){return(!LFe(A)||CM(A).isOlderThan(X$A))&&W$A(A,new i4),CM(A)}function LFe(A){return!!(A&&A.__SENTRY__&&A.__SENTRY__.hub)}function CM(A){return VI("hub",()=>new i4,A)}function W$A(A,e){if(!A)return!1;let t=A.__SENTRY__=A.__SENTRY__||{};return t.hub=e,!0}function NFe(A,e){return e&&(A.sdk=A.sdk||{},A.sdk.name=A.sdk.name||e.name,A.sdk.version=A.sdk.version||e.version,A.sdk.integrations=[...A.sdk.integrations||[],...e.integrations||[]],A.sdk.packages=[...A.sdk.packages||[],...e.packages||[]]),A}function J$A(A,e,t,r){let a=wM(t),j={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&e&&{dsn:kd(e)}},n="aggregates"in A?[{type:"sessions"},A]:[{type:"session"},A.toJSON()];return gd(j,[n])}function Y$A(A,e,t,r){let a=wM(t),j=A.type&&A.type!=="replay_event"?A.type:"event";NFe(A,t&&t.sdk);let n=UZ(A,a,r,e);return delete A.sdkProcessingMetadata,gd(n,[[{type:j},A]])}var UFe="7";function HFe(A){let e=A.protocol?`${A.protocol}:`:"",t=A.port?`:${A.port}`:"";return`${e}//${A.host}${t}${A.path?`/${A.path}`:""}/api/`}function VFe(A){return`${HFe(A)}${A.projectId}/envelope/`}function XFe(A,e){return bZ({sentry_key:A.publicKey,sentry_version:UFe,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Z$A(A,e={}){let t=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return t||`${VFe(A)}?${XFe(A,r)}`}var Q$A=[];function WFe(A){let e={};return A.forEach(t=>{let{name:r}=t,a=e[r];a&&!a.isDefaultInstance&&t.isDefaultInstance||(e[r]=t)}),Object.keys(e).map(t=>e[t])}function eQ(A){let e=A.defaultIntegrations||[],t=A.integrations;e.forEach(n=>{n.isDefaultInstance=!0});let r;Array.isArray(t)?r=[...e,...t]:typeof t=="function"?r=JI(t(e)):r=e;let a=WFe(r),j=JFe(a,n=>n.name==="Debug");if(j!==-1){let[n]=a.splice(j,1);a.push(n)}return a}function A8A(A,e){let t={};return e.forEach(r=>{r&&rQ(A,r,t)}),t}function tQ(A,e){for(let t of e)t&&t.afterAllSetup&&t.afterAllSetup(A)}function rQ(A,e,t){if(t[e.name]){Cj&&Vt.log(`Integration skipped because it was already installed: ${e.name}`);return}if(t[e.name]=e,Q$A.indexOf(e.name)===-1&&(e.setupOnce(JZ,ec),Q$A.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(A),A.on&&typeof e.preprocessEvent=="function"){let r=e.preprocessEvent.bind(e);A.on("preprocessEvent",(a,j)=>r(a,j,A))}if(A.addEventProcessor&&typeof e.processEvent=="function"){let r=e.processEvent.bind(e),a=Object.assign((j,n)=>r(j,n,A),{id:e.name});A.addEventProcessor(a)}Cj&&Vt.log(`Integration installed: ${e.name}`)}function JFe(A,e){for(let t=0;t<A.length;t++)if(e(A[t])===!0)return t;return-1}function bo(A,e){return Object.assign(function(...r){return e(...r)},{id:A})}function e8A(A){let e="";for(let t of A){let r=Object.entries(t.tags),a=r.length>0?`|#${r.map(([j,n])=>`${j}:${n}`).join(",")}`:"";e+=`${t.name}@${t.unit}:${t.metric}|${t.metricType}${a}|T${t.timestamp}
`}return e}function t8A(A,e,t,r){let a={sent_at:new Date().toISOString()};t&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),r&&e&&(a.dsn=kd(e));let j=YFe(A);return gd(a,[j])}function YFe(A){let e=e8A(A);return[{type:"statsd",length:e.length},e]}var r8A="Not capturing exception because it's already been captured.",o4=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=dM(e.dsn):Cj&&Vt.warn("No DSN provided, client will not send events."),this._dsn){let t=Z$A(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,r){if(gM(e)){Cj&&Vt.log(r8A);return}let a=t&&t.event_id;return this._process(this.eventFromException(e,t).then(j=>this._captureEvent(j,t,r)).then(j=>{a=j})),a}captureMessage(e,t,r,a){let j=r&&r.event_id,n=dG(e)?e:String(e),i=nb(e)?this.eventFromMessage(n,t,r):this.eventFromException(e,r);return this._process(i.then(o=>this._captureEvent(o,r,a)).then(o=>{j=o})),j}captureEvent(e,t,r){if(t&&t.originalException&&gM(t.originalException)){Cj&&Vt.log(r8A);return}let a=t&&t.event_id,n=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,n||r).then(i=>{a=i})),a}captureSession(e){typeof e.release!="string"?Cj&&Vt.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),qm(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(r=>t.flush(e).then(a=>r&&a))):wm(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return Cj&&Vt.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){let t=this._integrations[e.name];rQ(this,e,this._integrations),t||tQ(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let r=Y$A(e,this._dsn,this._options._metadata,this._options.tunnel);for(let j of t.attachments||[])r=KZ(r,NZ(j,this._options.transportOptions&&this._options.transportOptions.textEncoder));let a=this._sendEnvelope(r);a&&a.then(j=>this.emit("afterSendEvent",e,j),null)}sendSession(e){let t=J$A(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){let a=`${e}:${t}`;Cj&&Vt.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}captureAggregateMetrics(e){Cj&&Vt.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let t=t8A(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(r=>r(...t))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=A8A(this,e),tQ(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let r=!1,a=!1,j=t.exception&&t.exception.values;if(j){a=!0;for(let o of j){let s=o.mechanism;if(s&&s.handled===!1){r=!0;break}}}let n=e.status==="ok";(n&&e.errors===0||n&&r)&&(qm(e,{...r&&{status:"crashed"},errors:e.errors||Number(a||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ju(t=>{let r=0,a=1,j=setInterval(()=>{this._numProcessing==0?(clearInterval(j),t(!0)):(r+=a,e&&r>=e&&(clearInterval(j),t(!1)))},a)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,r,a=xG()){let j=this.getOptions(),n=Object.keys(this._integrations);return!t.integrations&&n.length>0&&(t.integrations=n),this.emit("preprocessEvent",e,t),K$A(j,e,t,r,this,a).then(i=>{if(i===null)return i;let o={...a.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(i.contexts&&i.contexts.trace)&&o){let{traceId:c,spanId:u,parentSpanId:p,dsc:h}=o;i.contexts={trace:{trace_id:c,span_id:u,parent_span_id:p},...i.contexts};let f=h||ZZ(c,this,r);i.sdkProcessingMetadata={dynamicSamplingContext:f,...i.sdkProcessingMetadata}}return i})}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then(a=>a.event_id,a=>{if(Cj){let j=a;j.logLevel==="log"?Vt.log(j.message):Vt.warn(j)}})}_processEvent(e,t,r){let a=this.getOptions(),{sampleRate:j}=a,n=j8A(e),i=a8A(e),o=e.type||"error",s=`before send for type \`${o}\``;if(i&&typeof j=="number"&&Math.random()>j)return this.recordDroppedEvent("sample_rate","error",e),cb(new Dl(`Discarding event because it's not included in the random sample (sampling rate = ${j})`,"log"));let c=o==="replay_event"?"replay":o,p=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",c,e),new Dl("An event processor returned `null`, will not send event.","log");if(t.data&&t.data.__sentry__===!0)return h;let G=QFe(a,h,t);return ZFe(G,s)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",c,e),new Dl(`${s} returned \`null\`, will not send event.`,"log");let f=r&&r.getSession();!n&&f&&this._updateSessionFromEvent(f,h);let G=h.transaction_info;if(n&&G&&h.transaction!==e.transaction){let w="custom";h.transaction_info={...G,source:w}}return this.sendEvent(h,t),h}).then(null,h=>{throw h instanceof Dl?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new Dl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,t=>{Cj&&Vt.error("Error while sending event:",t)});Cj&&Vt.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[r,a]=t.split(":");return{reason:r,category:a,quantity:e[t]}})}};function ZFe(A,e){let t=`${e} must return \`null\` or a valid event.`;if(rk(A))return A.then(r=>{if(!vm(r)&&r!==null)throw new Dl(t);return r},r=>{throw new Dl(`${e} rejected with ${r}`)});if(!vm(A)&&A!==null)throw new Dl(t);return A}function QFe(A,e,t){let{beforeSend:r,beforeSendTransaction:a}=A;return a8A(e)&&r?r(e,t):j8A(e)&&a?a(e,t):e}function a8A(A){return A.type===void 0}function j8A(A){return A.type==="transaction"}function aQ(A,e){e.debug===!0&&(Cj?Vt.enable():Tf(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),kh().update(e.initialScope);let r=new A(e);jQ(r),AGe(r)}function jQ(A){let t=ec().getStackTop();t.client=A,t.scope.setClient(A)}function AGe(A){A.init?A.init():A.setupIntegrations&&A.setupIntegrations()}var eGe=30;function yG(A,e,t=zZ(A.bufferSize||eGe)){let r={},a=n=>t.drain(n);function j(n){let i=[];if(FM(n,(u,p)=>{let h=GM(p);if(VZ(r,h)){let f=n8A(u,p);A.recordDroppedEvent("ratelimit_backoff",h,f)}else i.push(u)}),i.length===0)return wm();let o=gd(n[0],i),s=u=>{FM(o,(p,h)=>{let f=n8A(p,h);A.recordDroppedEvent(u,GM(h),f)})},c=()=>e({body:LZ(o,A.textEncoder)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&Cj&&Vt.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=XZ(r,u),u),u=>{throw s("network_error"),u});return t.add(c).then(u=>u,u=>{if(u instanceof Dl)return Cj&&Vt.error("Skipped sending event because buffer is full."),s("queue_overflow"),wm();throw u})}return j.__sentry__baseTransport__=!0,{send:j,flush:a}}function n8A(A,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(A)?A[1]:void 0}function nQ(A,e,t=[e],r="npm"){let a=A._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${e}`,packages:t.map(j=>({name:`${r}:@sentry/${j}`,version:bG})),version:bG}),A._metadata=a}var tGe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],rGe=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],i8A="InboundFilters",aGe=(A={})=>({name:i8A,setupOnce(){},processEvent(e,t,r){let a=r.getOptions(),j=jGe(A,a);return nGe(e,j)?null:e}}),s4=aGe,_M=bo(i8A,s4);function jGe(A={},e={}){return{allowUrls:[...A.allowUrls||[],...e.allowUrls||[]],denyUrls:[...A.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...A.ignoreErrors||[],...e.ignoreErrors||[],...A.disableErrorDefaults?[]:tGe],ignoreTransactions:[...A.ignoreTransactions||[],...e.ignoreTransactions||[],...A.disableTransactionDefaults?[]:rGe],ignoreInternal:A.ignoreInternal!==void 0?A.ignoreInternal:!0}}function nGe(A,e){return e.ignoreInternal&&uGe(A)?(Cj&&Vt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Fm(A)}`),!0):iGe(A,e.ignoreErrors)?(Cj&&Vt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Fm(A)}`),!0):oGe(A,e.ignoreTransactions)?(Cj&&Vt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Fm(A)}`),!0):sGe(A,e.denyUrls)?(Cj&&Vt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Fm(A)}.
Url: ${TM(A)}`),!0):lGe(A,e.allowUrls)?!1:(Cj&&Vt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Fm(A)}.
Url: ${TM(A)}`),!0)}function iGe(A,e){return A.type||!e||!e.length?!1:cGe(A).some(t=>mG(t,e))}function oGe(A,e){if(A.type!=="transaction"||!e||!e.length)return!1;let t=A.transaction;return t?mG(t,e):!1}function sGe(A,e){if(!e||!e.length)return!1;let t=TM(A);return t?mG(t,e):!1}function lGe(A,e){if(!e||!e.length)return!0;let t=TM(A);return t?mG(t,e):!0}function cGe(A){let e=[];A.message&&e.push(A.message);let t;try{t=A.exception.values[A.exception.values.length-1]}catch{}return t&&t.value&&(e.push(t.value),t.type&&e.push(`${t.type}: ${t.value}`)),Cj&&e.length===0&&Vt.error(`Could not extract message for event ${Fm(A)}`),e}function uGe(A){try{return A.exception.values[0].type==="SentryError"}catch{}return!1}function dGe(A=[]){for(let e=A.length-1;e>=0;e--){let t=A[e];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function TM(A){try{let e;try{e=A.exception.values[0].stacktrace.frames}catch{}return e?dGe(e):null}catch{return Cj&&Vt.error(`Cannot extract url for event ${Fm(A)}`),null}}var o8A,l8A="FunctionToString",s8A=new WeakMap,mGe=()=>({name:l8A,setupOnce(){o8A=Function.prototype.toString;try{Function.prototype.toString=function(...A){let e=sb(this),t=s8A.has(ao())&&e!==void 0?e:this;return o8A.apply(t,A)}}catch{}},setup(A){s8A.set(A,!0)}}),ub=mGe,DM=bo(l8A,ub);var pGe="cause",kGe=5,c8A="LinkedErrors",hGe=(A={})=>{let e=A.limit||kGe,t=A.key||pGe;return{name:c8A,setupOnce(){},preprocessEvent(r,a,j){let n=j.getOptions();HI(WZ,n.stackParser,n.maxValueLength,t,e,r,a)}}},gGe=hGe,u8A=bo(c8A,gGe);var iQ={};Na(iQ,{FunctionToString:()=>DM,InboundFilters:()=>_M,LinkedErrors:()=>u8A});var d8A=iQ;var hj=xa,oQ=0;function sQ(){return oQ>0}function TGe(){oQ++,setTimeout(()=>{oQ--})}function zf(A,e={},t){if(typeof A!="function")return A;try{let a=A.__sentry_wrapped__;if(a)return a;if(sb(A))return A}catch{return A}let r=function(){let a=Array.prototype.slice.call(arguments);try{t&&typeof t=="function"&&t.apply(this,arguments);let j=a.map(n=>zf(n,e));return A.apply(this,j)}catch(j){throw TGe(),EG(n=>{n.addEventProcessor(i=>(e.mechanism&&(kG(i,void 0,void 0),mh(i,e.mechanism)),i.extra={...i.extra,arguments:a},i)),BG(j)}),j}};try{for(let a in A)Object.prototype.hasOwnProperty.call(A,a)&&(r[a]=A[a])}catch{}mM(r,A),dh(A,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return A.name}})}catch{}return r}var k6=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function uQ(A,e){let t=dQ(A,e),r={type:e&&e.name,value:MGe(e)};return t.length&&(r.stacktrace={frames:t}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _Ge(A,e,t,r){let a=ao(),j=a&&a.getOptions().normalizeDepth,n={exception:{values:[{type:ib(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:RGe(e,{isUnhandledRejection:r})}]},extra:{__serialized__:vM(e,j)}};if(t){let i=dQ(A,t);i.length&&(n.exception.values[0].stacktrace={frames:i})}return n}function lQ(A,e){return{exception:{values:[uQ(A,e)]}}}function dQ(A,e){let t=e.stacktrace||e.stack||"",r=zGe(e);try{return A(t,r)}catch{}return[]}var DGe=/Minified React error #\d+;/i;function zGe(A){if(A){if(typeof A.framesToPop=="number")return A.framesToPop;if(DGe.test(A.message))return 1}return 0}function MGe(A){let e=A&&A.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function m8A(A,e,t,r){let a=t&&t.syntheticException||void 0,j=zM(A,e,a,r);return mh(j),j.level="error",t&&t.event_id&&(j.event_id=t.event_id),wm(j)}function p8A(A,e,t="info",r,a){let j=r&&r.syntheticException||void 0,n=cQ(A,e,j,a);return n.level=t,r&&r.event_id&&(n.event_id=r.event_id),wm(n)}function zM(A,e,t,r,a){let j;if(uG(e)&&e.error)return lQ(A,e.error);if(lM(e)||dZ(e)){let n=e;if("stack"in e)j=lQ(A,e);else{let i=n.name||(lM(n)?"DOMError":"DOMException"),o=n.message?`${i}: ${n.message}`:i;j=cQ(A,o,t,r),kG(j,o)}return"code"in n&&(j.tags={...j.tags,"DOMException.code":`${n.code}`}),j}return NI(e)?lQ(A,e):vm(e)||ib(e)?(j=_Ge(A,e,t,a),mh(j,{synthetic:!0}),j):(j=cQ(A,e,t,r),kG(j,`${e}`,void 0),mh(j,{synthetic:!0}),j)}function cQ(A,e,t,r){let a={};if(r&&t){let j=dQ(A,t);j.length&&(a.exception={values:[{value:e,stacktrace:{frames:j}}]})}if(dG(e)){let{__sentry_template_string__:j,__sentry_template_values__:n}=e;return a.logentry={message:j,params:n},a}return a.message=e,a}function RGe(A,{isUnhandledRejection:e}){let t=yZ(A),r=e?"promise rejection":"exception";return uG(A)?`Event \`ErrorEvent\` captured as ${r} with message \`${A.message}\``:ib(A)?`Event \`${KGe(A)}\` (type=${A.type}) captured as ${r}`:`Object captured as ${r} with keys: ${t}`}function KGe(A){try{let e=Object.getPrototypeOf(A);return e?e.constructor.name:void 0}catch{}}function k8A(A,{metadata:e,tunnel:t,dsn:r}){let a={event_id:A.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!t&&!!r&&{dsn:kd(r)}},j=LGe(A);return gd(a,[j])}function LGe(A){return[{type:"user_report"},A]}var MM=class extends o4{constructor(e){let t=hj.SENTRY_SDK_SOURCE||DZ();nQ(e,"browser",["browser"],t),super(e),e.sendClientReports&&hj.document&&hj.document.addEventListener("visibilitychange",()=>{hj.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,t){return m8A(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return p8A(this._options.stackParser,e,t,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){k6&&Vt.warn("SDK not enabled, will not capture user feedback.");return}let t=k8A(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){let e=this._clearOutcomes();if(e.length===0){k6&&Vt.log("No outcomes to send");return}if(!this._dsn){k6&&Vt.log("No dsn provided, will not send outcomes");return}k6&&Vt.log("Sending outcomes:",e);let t=HZ(e,this._options.tunnel&&kd(this._dsn));this._sendEnvelope(t)}};var l4;function h8A(){if(l4)return l4;if(YI(hj.fetch))return l4=hj.fetch.bind(hj);let A=hj.document,e=hj.fetch;if(A&&typeof A.createElement=="function")try{let t=A.createElement("iframe");t.hidden=!0,A.head.appendChild(t);let r=t.contentWindow;r&&r.fetch&&(e=r.fetch),A.head.removeChild(t)}catch(t){k6&&Vt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return l4=e.bind(hj)}function g8A(){l4=void 0}function f8A(A,e=h8A()){let t=0,r=0;function a(j){let n=j.body.length;t+=n,r++;let i={body:j.body,method:"POST",referrerPolicy:"origin",headers:A.headers,keepalive:t<=6e4&&r<15,...A.fetchOptions};try{return e(A.url,i).then(o=>(t-=n,r--,{statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return g8A(),t-=n,r--,cb(o)}}return yG(A,a)}var NGe=4;function B8A(A){function e(t){return new ju((r,a)=>{let j=new XMLHttpRequest;j.onerror=a,j.onreadystatechange=()=>{j.readyState===NGe&&r({statusCode:j.status,headers:{"x-sentry-rate-limits":j.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":j.getResponseHeader("Retry-After")}})},j.open("POST",A.url);for(let n in A.headers)Object.prototype.hasOwnProperty.call(A.headers,n)&&j.setRequestHeader(n,A.headers[n]);j.send(t.body)})}return yG(A,e)}var RM="?";var UGe=30,HGe=40,VGe=50;function mQ(A,e,t,r){let a={filename:A,function:e,in_app:!0};return t!==void 0&&(a.lineno=t),r!==void 0&&(a.colno=r),a}var XGe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,WGe=/\((\S*)(?::(\d+))(?::(\d+))\)/,JGe=A=>{let e=XGe.exec(A);if(e){if(e[2]&&e[2].indexOf("eval")===0){let j=WGe.exec(e[2]);j&&(e[2]=j[1],e[3]=j[2],e[4]=j[3])}let[r,a]=x8A(e[1]||RM,e[2]);return mQ(a,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},YGe=[UGe,JGe],ZGe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,QGe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Awe=A=>{let e=ZGe.exec(A);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let j=QGe.exec(e[3]);j&&(e[1]=e[1]||"eval",e[3]=j[1],e[4]=j[2],e[5]="")}let r=e[3],a=e[1]||RM;return[a,r]=x8A(a,r),mQ(r,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},ewe=[VGe,Awe],twe=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rwe=A=>{let e=twe.exec(A);return e?mQ(e[2],e[1]||RM,+e[3],e[4]?+e[4]:void 0):void 0},awe=[HGe,rwe];var jwe=[YGe,ewe,awe],E8A=kM(...jwe),x8A=(A,e)=>{let t=A.indexOf("safari-extension")!==-1,r=A.indexOf("safari-web-extension")!==-1;return t||r?[A.indexOf("@")!==-1?A.split("@")[0]:RM,t?`safari-extension:${e}`:`safari-web-extension:${e}`]:[A,e]};var KM=1024,b8A="Breadcrumbs",nwe=(A={})=>{let e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...A};return{name:b8A,setupOnce(){},setup(t){e.console&&GZ(swe(t)),e.dom&&$Z(owe(t,e.dom)),e.xhr&&_Z(lwe(t)),e.fetch&&CZ(cwe(t)),e.history&&QI(uwe(t)),e.sentry&&t.on&&t.on("beforeSendEvent",iwe(t))}}},pQ=nwe,y8A=bo(b8A,pQ);function iwe(A){return function(t){ao()===A&&sk({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Fm(t)},{event:t})}}function owe(A,e){return function(r){if(ao()!==A)return;let a,j,n=typeof e=="object"?e.serializeAttribute:void 0,i=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;i&&i>KM&&(k6&&Vt.warn(`\`dom.maxStringLength\` cannot exceed ${KM}, but a value of ${i} was configured. Sentry will use ${KM} instead.`),i=KM),typeof n=="string"&&(n=[n]);try{let s=r.event,c=dwe(s)?s.target:s;a=XI(c,{keyAttrs:n,maxStringLength:i}),j=EZ(c)}catch{a="<unknown>"}if(a.length===0)return;let o={category:`ui.${r.name}`,message:a};j&&(o.data={"ui.component_name":j}),sk(o,{event:r.event,name:r.name,global:r.global})}}function swe(A){return function(t){if(ao()!==A)return;let r={category:"console",data:{arguments:t.args,logger:"console"},level:MZ(t.level),message:cM(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)r.message=`Assertion failed: ${cM(t.args.slice(1)," ")||"console.assert"}`,r.data.arguments=t.args.slice(1);else return;sk(r,{input:t.args,level:t.level})}}function lwe(A){return function(t){if(ao()!==A)return;let{startTimestamp:r,endTimestamp:a}=t,j=t.xhr[lb];if(!r||!a||!j)return;let{method:n,url:i,status_code:o,body:s}=j,c={method:n,url:i,status_code:o},u={xhr:t.xhr,input:s,startTimestamp:r,endTimestamp:a};sk({category:"xhr",data:c,type:"http"},u)}}function cwe(A){return function(t){if(ao()!==A)return;let{startTimestamp:r,endTimestamp:a}=t;if(a&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){let j=t.fetchData,n={data:t.error,input:t.args,startTimestamp:r,endTimestamp:a};sk({category:"fetch",data:j,level:"error",type:"http"},n)}else{let j=t.response,n={...t.fetchData,status_code:j&&j.status},i={input:t.args,response:j,startTimestamp:r,endTimestamp:a};sk({category:"fetch",data:n,type:"http"},i)}}}function uwe(A){return function(t){if(ao()!==A)return;let r=t.from,a=t.to,j=A4(hj.location.href),n=r?A4(r):void 0,i=A4(a);(!n||!n.path)&&(n=j),j.protocol===i.protocol&&j.host===i.host&&(a=i.relative),j.protocol===n.protocol&&j.host===n.host&&(r=n.relative),sk({category:"navigation",data:{from:r,to:a}})}}function dwe(A){return!!A&&!!A.target}var G8A="Dedupe",mwe=()=>{let A;return{name:G8A,setupOnce(){},processEvent(e){if(e.type)return e;try{if(pwe(e,A))return k6&&Vt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return A=e}}},kQ=mwe,w8A=bo(G8A,kQ);function pwe(A,e){return e?!!(kwe(A,e)||hwe(A,e)):!1}function kwe(A,e){let t=A.message,r=e.message;return!(!t&&!r||t&&!r||!t&&r||t!==r||!$8A(A,e)||!q8A(A,e))}function hwe(A,e){let t=v8A(e),r=v8A(A);return!(!t||!r||t.type!==r.type||t.value!==r.value||!$8A(A,e)||!q8A(A,e))}function q8A(A,e){let t=F8A(A),r=F8A(e);if(!t&&!r)return!0;if(t&&!r||!t&&r||(t=t,r=r,r.length!==t.length))return!1;for(let a=0;a<r.length;a++){let j=r[a],n=t[a];if(j.filename!==n.filename||j.lineno!==n.lineno||j.colno!==n.colno||j.function!==n.function)return!1}return!0}function $8A(A,e){let t=A.fingerprint,r=e.fingerprint;if(!t&&!r)return!0;if(t&&!r||!t&&r)return!1;t=t,r=r;try{return t.join("")===r.join("")}catch{return!1}}function v8A(A){return A.exception&&A.exception.values&&A.exception.values[0]}function F8A(A){let e=A.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var P8A="GlobalHandlers",gwe=(A={})=>{let e={onerror:!0,onunhandledrejection:!0,...A};return{name:P8A,setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(fwe(t),I8A("onerror")),e.onunhandledrejection&&(Bwe(t),I8A("onunhandledrejection"))}}},hQ=gwe,S8A=bo(P8A,hQ);function fwe(A){OZ(e=>{let{stackParser:t,attachStacktrace:r}=O8A();if(ao()!==A||sQ())return;let{msg:a,url:j,line:n,column:i,error:o}=e,s=o===void 0&&Z6(a)?bwe(a,j,n,i):C8A(zM(t,o||a,void 0,r,!1),j,n,i);s.level="error",r4(s,{originalException:o,mechanism:{handled:!1,type:"onerror"}})})}function Bwe(A){TZ(e=>{let{stackParser:t,attachStacktrace:r}=O8A();if(ao()!==A||sQ())return;let a=Ewe(e),j=nb(a)?xwe(a):zM(t,a,void 0,r,!0);j.level="error",r4(j,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Ewe(A){if(nb(A))return A;let e=A;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return A}function xwe(A){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(A)}`}]}}}function bwe(A,e,t,r){let a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,j=uG(A)?A.message:A,n="Error",i=j.match(a);return i&&(n=i[1],j=i[2]),C8A({exception:{values:[{type:n,value:j}]}},e,t,r)}function C8A(A,e,t,r){let a=A.exception=A.exception||{},j=a.values=a.values||[],n=j[0]=j[0]||{},i=n.stacktrace=n.stacktrace||{},o=i.frames=i.frames||[],s=isNaN(parseInt(r,10))?void 0:r,c=isNaN(parseInt(t,10))?void 0:t,u=Z6(e)&&e.length>0?e:BZ();return o.length===0&&o.push({colno:s,filename:u,function:"?",in_app:!0,lineno:c}),A}function I8A(A){k6&&Vt.log(`Global Handler attached: ${A}`)}function O8A(){let A=ao();return A&&A.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var T8A="HttpContext",ywe=()=>({name:T8A,setupOnce(){},preprocessEvent(A){if(!hj.navigator&&!hj.location&&!hj.document)return;let e=A.request&&A.request.url||hj.location&&hj.location.href,{referrer:t}=hj.document||{},{userAgent:r}=hj.navigator||{},a={...A.request&&A.request.headers,...t&&{Referer:t},...r&&{"User-Agent":r}},j={...A.request,...e&&{url:e},headers:a};A.request=j}}),gQ=ywe,_8A=bo(T8A,gQ);var vwe="cause",Fwe=5,D8A="LinkedErrors",Gwe=(A={})=>{let e=A.limit||Fwe,t=A.key||vwe;return{name:D8A,setupOnce(){},preprocessEvent(r,a,j){let n=j.getOptions();HI(uQ,n.stackParser,n.maxValueLength,t,e,r,a)}}},fQ=Gwe,z8A=bo(D8A,fQ);var wwe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],R8A="TryCatch",qwe=(A={})=>{let e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...A};return{name:R8A,setupOnce(){e.setTimeout&&Bi(hj,"setTimeout",M8A),e.setInterval&&Bi(hj,"setInterval",M8A),e.requestAnimationFrame&&Bi(hj,"requestAnimationFrame",$we),e.XMLHttpRequest&&"XMLHttpRequest"in hj&&Bi(XMLHttpRequest.prototype,"send",Iwe);let t=e.eventTarget;t&&(Array.isArray(t)?t:wwe).forEach(Pwe)}}},BQ=qwe,K8A=bo(R8A,BQ);function M8A(A){return function(...e){let t=e[0];return e[0]=zf(t,{mechanism:{data:{function:hd(A)},handled:!1,type:"instrument"}}),A.apply(this,e)}}function $we(A){return function(e){return A.apply(this,[zf(e,{mechanism:{data:{function:"requestAnimationFrame",handler:hd(A)},handled:!1,type:"instrument"}})])}}function Iwe(A){return function(...e){let t=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in t&&typeof t[a]=="function"&&Bi(t,a,function(j){let n={mechanism:{data:{function:a,handler:hd(j)},handled:!1,type:"instrument"}},i=sb(j);return i&&(n.mechanism.data.handler=hd(i)),zf(j,n)})}),A.apply(this,e)}}function Pwe(A){let e=hj,t=e[A]&&e[A].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(Bi(t,"addEventListener",function(r){return function(a,j,n){try{typeof j.handleEvent=="function"&&(j.handleEvent=zf(j.handleEvent,{mechanism:{data:{function:"handleEvent",handler:hd(j),target:A},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[a,zf(j,{mechanism:{data:{function:"addEventListener",handler:hd(j),target:A},handled:!1,type:"instrument"}}),n])}}),Bi(t,"removeEventListener",function(r){return function(a,j,n){let i=j;try{let o=i&&i.__sentry_wrapped__;o&&r.call(this,a,o,n)}catch{}return r.call(this,a,i,n)}}))}var L8A=[s4(),ub(),BQ(),pQ(),hQ(),fQ(),kQ(),gQ()];function N8A(A){return[...L8A]}function EQ(A={}){A.defaultIntegrations===void 0&&(A.defaultIntegrations=N8A()),A.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(A.release=__SENTRY_RELEASE__),hj.SENTRY_RELEASE&&hj.SENTRY_RELEASE.id&&(A.release=hj.SENTRY_RELEASE.id)),A.autoSessionTracking===void 0&&(A.autoSessionTracking=!0),A.sendClientReports===void 0&&(A.sendClientReports=!0);let e={...A,stackParser:FZ(A.stackParser||E8A),integrations:eQ(A),transport:A.transport||(fM()?f8A:B8A)};aQ(MM,e),A.autoSessionTracking&&Swe()}function Swe(){if(typeof hj.document>"u"){k6&&Vt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}a4({ignoreDuration:!0}),j4(),QI(({from:A,to:e})=>{A!==void 0&&A!==e&&(a4({ignoreDuration:!0}),j4())})}var xQ={};Na(xQ,{Breadcrumbs:()=>y8A,Dedupe:()=>w8A,GlobalHandlers:()=>S8A,HttpContext:()=>_8A,LinkedErrors:()=>z8A,TryCatch:()=>K8A});var U8A=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var X8A="Dedupe",Cwe=()=>{let A;return{name:X8A,setupOnce(){},processEvent(e){if(e.type)return e;try{if(Twe(e,A))return U8A&&Vt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return A=e}}},c4=Cwe,Owe=bo(X8A,c4);function Twe(A,e){return e?!!(_we(A,e)||Dwe(A,e)):!1}function _we(A,e){let t=A.message,r=e.message;return!(!t&&!r||t&&!r||!t&&r||t!==r||!J8A(A,e)||!W8A(A,e))}function Dwe(A,e){let t=H8A(e),r=H8A(A);return!(!t||!r||t.type!==r.type||t.value!==r.value||!J8A(A,e)||!W8A(A,e))}function W8A(A,e){let t=V8A(A),r=V8A(e);if(!t&&!r)return!0;if(t&&!r||!t&&r||(t=t,r=r,r.length!==t.length))return!1;for(let a=0;a<r.length;a++){let j=r[a],n=t[a];if(j.filename!==n.filename||j.lineno!==n.lineno||j.colno!==n.colno||j.function!==n.function)return!1}return!0}function J8A(A,e){let t=A.fingerprint,r=e.fingerprint;if(!t&&!r)return!0;if(t&&!r||!t&&r)return!1;t=t,r=r;try{return t.join("")===r.join("")}catch{return!1}}function H8A(A){return A.exception&&A.exception.values&&A.exception.values[0]}function V8A(A){let e=A.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var Y8A={};hj.Sentry&&hj.Sentry.Integrations&&(Y8A=hj.Sentry.Integrations);var h_t={...Y8A,...d8A,...xQ};var Fj={};Na(Fj,{clientDescriptor:()=>vQ,device:()=>NM,getDevice:()=>FQ,getb5xDevice:()=>UM,initializeDevice:()=>Rwe,isEdge:()=>u4,setDevice:()=>AIA,setDeviceUsesCredentialBundle:()=>GQ,setIsEdge:()=>Kwe});var yQ=!1,NM,vQ,Z8A,Q8A,LM,bQ,FQ=()=>NM,UM=()=>LM,AIA=(A,e)=>{let t=Number.parseInt(A.clientVersion,10)||0,r=A.clientName+"/"+t;e&&(yQ=!0),A.fromDeviceInit?(LM=A,bQ=r,Mwe()):(Z8A=A,Q8A=r,wQ())},GQ=()=>{yQ=!0,wQ()},wQ=()=>{NM=Z8A,vQ=Q8A},Mwe=()=>{yQ||(LM&&bQ?(NM=LM,vQ=bQ):wQ())},Rwe=AIA,u4=!1,Kwe=A=>u4=A;var QA={};Na(QA,{Jwe:()=>qG,JweB:()=>no,JweHeader:()=>Kqe,JwkEcPriKey:()=>Lf,JwkEcPriKeyDeprecated:()=>Mqe,JwkEcPubKey:()=>kb,JwkRsaPriKey:()=>fh,JwkRsaPubKey:()=>Kf,JwkSymKey:()=>Ml,JwkSymKeyOptionalKid:()=>Dqe,Jws:()=>Lqe,JwsB:()=>Rqe,JwsHeader:()=>Nqe,JwtHeader:()=>Uqe,KeysetCiphertext:()=>tc,KeysetCiphertextV2:()=>Hqe,correctJwkEcPriKey:()=>LQ,correctJwkEcPubKey:()=>NQ,correctJwkNumber:()=>zl,correctJwkRsaPriKeyIfNeeded:()=>B4,correctJwkRsaPubKeyIfNeeded:()=>f4,exportKey:()=>x4,exportUnvalidatedKey:()=>E4,getRandomBytes:()=>Kj,getRandomValues:()=>b4,getRsaKeySize:()=>KQ,getSalt:()=>UQ,init:()=>yIA,isUsingWebkitSubtle:()=>bIA,keyOpsToBitMask:()=>Oqe,setSupport:()=>Yqe,sha256:()=>Tqe,subtle:()=>$a,supports:()=>gh,testsComplete:()=>Wqe,testsError:()=>Jqe,unsafeHashStringSha1UpperHex:()=>_qe,waitForInit:()=>Vqe,waitForTests:()=>Xqe,webkitSubtle:()=>AR});var MA=AA(OA());var ba="A256GCM",d4=A=>A===ba,hh="mp",eIA={name:"AES-GCM",length:256},vG=A=>{if(A===ba)return eIA;throw new Error("Unexpected enc")};var tIA=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global};var Lwe=function(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))};function qQ(A,e,t,r,a,j,n,i,o){switch(arguments.length){case 1:return A;case 2:return function(){return e(A.apply(this,arguments))};case 3:return function(){return t(e(A.apply(this,arguments)))};case 4:return function(){return r(t(e(A.apply(this,arguments))))};case 5:return function(){return a(r(t(e(A.apply(this,arguments)))))};case 6:return function(){return j(a(r(t(e(A.apply(this,arguments))))))};case 7:return function(){return n(j(a(r(t(e(A.apply(this,arguments)))))))};case 8:return function(){return i(n(j(a(r(t(e(A.apply(this,arguments))))))))};case 9:return function(){return o(i(n(j(a(r(t(e(A.apply(this,arguments)))))))))}}}function $Q(A,e,t,r,a,j,n,i,o){switch(arguments.length){case 1:return A;case 2:return e(A);case 3:return t(e(A));case 4:return r(t(e(A)));case 5:return a(r(t(e(A))));case 6:return j(a(r(t(e(A)))));case 7:return n(j(a(r(t(e(A))))));case 8:return i(n(j(a(r(t(e(A)))))));case 9:return o(i(n(j(a(r(t(e(A))))))));default:{for(var s=arguments[0],c=1;c<arguments.length;c++)s=arguments[c](s);return s}}}var FG=function(A,e){var t=typeof A=="number"?function(r){return r.length>=A}:A;return function(){var r=Array.from(arguments);return t(arguments)?e.apply(this,r):function(a){return e.apply(void 0,Lwe([a],r,!1))}}};var rIA=function(A){return A._tag==="Some"},aIA={_tag:"None"},jIA=function(A){return{_tag:"Some",value:A}};function IQ(A){return function(e,t){return A.map(e,function(){return t})}}function nIA(A){var e=IQ(A);return function(t){return e(t,void 0)}}function HM(A){return function(e,t){return A.chain(e,function(r){return A.map(t(r),function(){return r})})}}function iIA(A){return function(e){return qQ(e,A.fromEither)}}function oIA(A,e){var t=iIA(A),r=HM(e);return function(a,j){return r(a,t(j))}}var Mf=aIA,GG=jIA;var Hwe=function(A){return A._tag==="Left"?Mf:GG(A.right)},sIA=function(A,e){return $Q(A,Xwe(e))},Vwe=function(A,e){return $Q(A,Wwe(e))};var PQ="Option";var Xwe=function(A){return function(e){return m4(e)?Mf:GG(A(e.value))}},lIA={URI:PQ,map:sIA},L_t=FG(2,IQ(lIA)),N_t=nIA(lIA);var Wwe=function(A){return function(e){return m4(e)||m4(A)?Mf:GG(e.value(A.value))}};var Jwe=FG(2,function(A,e){return m4(A)?Mf:e(A.value)}),cIA={URI:PQ,map:sIA,ap:Vwe,chain:Jwe};var U_t=FG(2,function(A,e){return m4(A)?e():A});var Ywe=Hwe,Zwe={URI:PQ,fromEither:Ywe},SQ=rIA,m4=function(A){return A._tag==="None"};var H_t=FG(2,HM(cIA)),V_t=FG(2,oIA(Zwe,cIA));var ck;(function(A){A.Web="B",A.iOS="I",A.Android="A",A.Windows="W",A.Mac="M",A.CLI="C",A.API="P",A.ThirdParty="T",A.MobileWeb="O"})(ck||(ck={}));var uIA=60,Qwe=64,Aqe=64,eqe=100,CQ=32,tqe=5,rqe=3,aqe=/\W|_/g,jqe=60,nqe=255,iqe=!1,oqe=A=>JSON.stringify(A)||typeof A,Rf=vj,sqe=(A,e)=>A.filter(t=>!!t&&e(t)),OQ=(A,e,t)=>rl(t,(r,a,j)=>({...r,[A(a,j)]:e(a,j)}),{}),VM=(...A)=>A.reduce((e,t)=>typeof t!="string"||t.length===0?e:e.length===0?t:xz(e,"/")&&oh(t,"/")?e+t.slice(1):xz(e,"/")||oh(t,"/")?e+t:e+"/"+t,""),lqe=(A,e,t)=>{if(e<0||e>=A.length)throw new Error("moveArrayItem: currentIndex out of bounds");if(t<0||t>=A.length)throw new Error("moveArrayItem: newIndex out of bounds");return e===t?A.slice():A.map((r,a)=>a===t?A[e]:e<=a&&a<t?A[a+1]:t<a&&a<=e?A[a-1]:r)},TQ=A=>A?A.trim().normalize("NFKD"):"",db=async A=>new Promise((e,t)=>{let r=new FileReader;r.onloadend=()=>{let a=r.result;if(typeof a!="string"){t(new Error("Invalid FileReader result."));return}let j="data:attachment/file"+a.slice(a.search(/[,;]/));e(j)},r.readAsDataURL(A)}),ws=A=>{let e=A.reduce((r,a)=>r+a.byteLength,0),t=new Uint8Array(e);return A.reduce((r,a)=>(t.set(a,r),r+a.byteLength),0),t},cqe=(A,e)=>A.trim().toLowerCase()+":"+e,p4=A=>typeof A=="number"&&!Number.isNaN(A),mb=A=>{if(!A||A.length<6||A.length>255)return!1;let e=A.trim().split("@"),t=e[1];return e.length===2&&/^[\w'+-]([\w'+.-]*[\w'+-])?@\w([\w.-]*\w)?\.[A-Za-z]{2,20}$/.test(A)&&t!==void 0&&k4(t)},k4=A=>/^([\da-z]([\da-z-]*[\da-z])?\.)+[\da-z]{2,}$/i.test(A),uqe=A=>{let e=oh(A,"*.")?A.slice(2):A;return k4(e)},dqe=A=>/^[2-7A-Z]{13}$/.test(A),mqe=20,_Q=A=>/^[\dA-Z]{1,11}(-[\dA-Z]{8})?$/.test(A),XM=A=>/^[\dA-Z]{26}$/.test(A),pqe=["B","I","A","W","M","C","P","T"],kqe=A=>ij(pqe,A),hqe=A=>A!==ck.Web&&A!==ck.MobileWeb&&A!==ck.ThirdParty,gqe=A=>/^\d{6}$/.test(A),qs=async A=>new Promise(e=>{setTimeout(e,A)}),fqe=async(A,e)=>(await qs(A),e),WM=()=>{let A,e,t=Mf,r=Mf,a=()=>{if(SQ(t))return"Promise was already resolved";if(SQ(r))return"Promise was already rejected"},j=new Promise((n,i)=>{A=o=>{let s=a();return s||(t=GG(o),n(o)),s},e=o=>{let s=a();return s||(r=GG(o),i(o)),s}});if(!A||!e)throw new Error("CallbackPromise functions were not initialized");return{resolve:A,reject:e,promise:j}},jo=async(A,e,t)=>Mo(t,e).reduce(async(r,a)=>r.then(async j=>{let n=await A(a);return[...j,...n]}),Promise.resolve([])),JM=async(A,e,t)=>jo(async r=>Promise.all(r.map(A)),e,t),Bqe=async(A,e)=>{let t=[];for(let r=0;r<e;r++)t.push(await A());return t},dIA=A=>A?A.split(",").map(e=>e.trim()).filter(e=>e!==""):[],Eqe=(A,e)=>{if(!A)return"";let t=e?", ":",";return dIA(A).join(t)},xqe=A=>A.toLowerCase().replace(/\s/g,""),bqe=()=>navigator.userAgent.includes("Mac OS X")?"\u2318":"ctrl",yqe=A=>!A||!A.includes(".")?"":Pf(A.split("."))?.toLowerCase()??"",mIA=/["%;<>[\\\]{}]/g,pIA=/\/{2,}/g,kIA=A=>A?A.replace(mIA,"").replace(pIA,"/"):"",vqe=async A=>new Promise((e,t)=>{let r=new FileReader;r.addEventListener("load",()=>{if(!r.result||typeof r.result!="object"||!("byteLength"in r.result)){t(new Error("Invalid FileReader result."));return}r.result.byteLength,e(r.result)}),r.addEventListener("error",()=>{t(r.error)}),r.readAsArrayBuffer(A)}),Fqe=A=>{let e=A.trim().toLowerCase().replace(/^https:\/\//,"").replace(/\.1password\.com(.*)/,"").replace(/\s+/g,"-").replace(/[^\da-z-]/g,"").replace(/-+/g,"-");return e.length>CQ&&(e=e.slice(0,CQ)),e},Gqe=A=>kIA(A).slice(0,uIA),wqe=(A,e)=>{if(!A)return"";if(!e)return A;let t=new RegExp("[^"+e+"]","g");return A.replace(t,"")},qqe=/[\d+.A-Za-z-]+/,pb=A=>new RegExp("^"+qqe.source+":").test(A)?A:"https://"+A,jl=A=>{if(!A)return"";let e=A.split(".");return!e||e.length<2?"":e.slice(1).join(".")},uk;(function(A){A.US="us",A.CA="ca",A.EU="eu",A.ES="es",A.IN="in"})(uk||(uk={}));var $qe=[uk.US,uk.CA,uk.ES,uk.IN],Iqe=["as","gu","mh","mp","fm","pw","pr","vi"],YM=A=>{if(!A)return uk.US;let e=A.split(".");if(!e||e.length<2)return uk.US;let t=e[e.length-1];if(t!==void 0&&ij(t,":")){let[r]=t.split(":");r!==void 0&&(t=r)}return t==="com"?uk.US:t},DQ=(A,e,t)=>A>e&&A<=t;var g4={};Na(g4,{primesAreReversed:()=>fIA,swapPrimes:()=>BIA,swapPrimesIfNeeded:()=>zQ});var gIA=AA(wG()),h4=AA(vs()),fIA=A=>QM(A.p).compareTo(QM(A.q))<0,zQ=A=>fIA(A)?BIA(A):A,BIA=A=>({...A,p:A.q,q:A.p,dp:A.dq,dq:A.dp,qi:Sqe(A.q,A.p)}),QM=A=>{let e=h4.codec.hex.fromBits(h4.codec.base64url.toBits(A));return new gIA.BigInteger(e,16)},Pqe=A=>{let e=A.toString(16),t=e.length%2===1?"0"+e:e;return h4.codec.base64url.fromBits(h4.codec.hex.toBits(t))},Sqe=(A,e)=>Pqe(QM(e).modInverse(QM(A)));var EIA=sA`web-api/util/crypto.ts`,zl=(A,e,t)=>{if(!A)return A;let r=Je(A);if(!r||r.length===0)return A;if(r.length>e)throw new Error("JWK number is longer than expected");if(t==="pad"){if(r.length===e)return A;let a=new Uint8Array(e);a.set(r,e-r.length),r=a}else{if(r[0]!==0)return A;let a=0;for(;a<r.length&&r[a]===0;)a+=1;r=r.subarray(a)}return Ye(r)},tR=A=>tl(A,"use"),f4=A=>{let e=u4?"pad":"trim",t={...A,e:zl(A.e,3,e),n:zl(A.n,KQ(A),e)};return tR(t)},B4=A=>{let e=u4?"pad":"trim",t=KQ(A),r=t/2,a={...A,d:zl(A.d,t,e),dp:zl(A.dp,r,e),dq:zl(A.dq,r,e),e:zl(A.e,3,e),n:zl(A.n,t,e),p:zl(A.p,r,e),q:zl(A.q,r,e),qi:zl(A.qi,r,e)};return zQ(tR(a))},KQ=A=>{let e=sZ(A.n),t=[256,384,512].find(r=>r>=e);if(!t)throw new Error("RSA modulus is larger than 4096-bit");return t},LQ=A=>tR({...A,x:zl(A.x,32,"pad"),y:zl(A.y,32,"pad"),d:zl(A.d,32,"pad")}),NQ=A=>tR({...A,x:zl(A.x,32,"pad"),y:zl(A.y,32,"pad")}),Cqe={sign:1,verify:2,encrypt:4,decrypt:8,wrapKey:16,unwrapKey:32,deriveKey:64,deriveBits:128},Oqe=A=>A.reduce((e,t)=>e|Cqe[t],0),Tqe=async A=>{let e=await $a.digest({name:"SHA-256"},A);return new Uint8Array(e)},_qe=async A=>Promise.resolve().then(async()=>$a.digest({name:"SHA-1"},mt(A)).then(e=>xo(new Uint8Array(e)).toUpperCase())),UQ=A=>Ye(Kj(A/8)),eR=A=>"byteLength"in A&&typeof A.byteLength=="number",E4=async(A,e)=>{let t=await $a.exportKey("jwk",e);return eR(t)&&h6([sA`Unexpected ArrayBuffer: data`],EIA,sA`exportUnvalidatedKey`),{...eR(t)?Ke(t,xr).unwrap():t,kid:A}},x4=async(A,e,t)=>{let r=await $a.exportKey("jwk",e);eR(r)&&h6([sA`Unexpected ArrayBuffer: data`],EIA,sA`exportKey`);let a=eR(r)?Ke(r,xr).unwrap():r;return Ke({...a,kid:A},t).unwrap()},xIA=MA.union([MA.tuple([MA.literal("encrypt"),MA.literal("decrypt")]),MA.tuple([MA.literal("decrypt"),MA.literal("encrypt")])]),Ml=MA.readonly(MA.type({kid:MA.string,ext:MA.boolean,kty:MA.literal("oct"),key_ops:xIA,alg:MA.string,k:MA.string}),"JwkSymKey"),Dqe=MA.readonly(MA.type({kid:ke(MA.string,""),ext:MA.boolean,kty:MA.literal("oct"),key_ops:xIA,alg:MA.string,k:MA.string}),"JwkSymKeyOptionalKid"),Kf=MA.readonly(MA.intersection([MA.type({kid:MA.string,ext:MA.boolean,key_ops:MA.tuple([MA.literal("encrypt")]),kty:MA.literal("RSA"),alg:MA.string,e:MA.string,n:MA.string},"type"),MA.partial({use:MA.literal("enc")},"partial")]),"JwkRsaPubKey"),fh=MA.readonly(MA.intersection([MA.type({kid:MA.string,ext:MA.boolean,key_ops:m6(MA.tuple([MA.literal("decrypt")]),()=>["decrypt"]),kty:MA.literal("RSA"),alg:MA.string,e:MA.string,n:MA.string,d:MA.string,dp:MA.string,dq:MA.string,p:MA.string,q:MA.string,qi:MA.string},"type"),MA.partial({use:MA.literal("enc")},"partial")]),"JwkRsaPriKey"),HQ=MA.union([MA.literal("P-256"),MA.literal("P-384")]),kb=MA.readonly(MA.intersection([MA.type({kid:MA.string,ext:MA.boolean,kty:MA.literal("EC"),key_ops:MA.tuple([MA.literal("verify")]),crv:HQ,x:MA.string,y:MA.string},"type"),MA.partial({use:MA.literal("sig")},"partial")]),"JwkEcPubKey"),Lf=MA.readonly(MA.intersection([MA.type({kid:MA.string,ext:MA.boolean,kty:MA.literal("EC"),key_ops:MA.tuple([MA.literal("sign")]),crv:HQ,x:MA.string,y:MA.string,d:MA.string},"type"),MA.partial({use:MA.literal("sig")},"partial")]),"JwkEcPriKey"),zqe=MA.union([MA.tuple([MA.literal("sign"),MA.literal("verify")]),MA.tuple([MA.literal("verify"),MA.literal("sign")]),MA.tuple([MA.literal("sign")])]),Mqe=MA.readonly(MA.intersection([MA.type({kid:MA.string,ext:MA.boolean,kty:MA.literal("EC"),key_ops:zqe,crv:HQ,x:MA.string,y:MA.string,d:MA.string},"type"),MA.partial({use:MA.literal("sig")},"partial")]),"JwkEcPriKeyDeprecated"),Rqe=MA.readonly(MA.type({kid:MA.string,alg:MA.string,s:MA.string}),"JwsB"),no=MA.intersection([MA.type({kid:MA.string,enc:MA.string,cty:MA.string,data:MA.string},"type"),MA.partial({iv:Xe(MA.string),alg:MA.string,p2c:MA.number,p2s:MA.string},"partial")],"JweB"),qG=MA.readonly(MA.type({protected:MA.string,encrypted_key:MA.string,iv:MA.string,ciphertext:MA.string,tag:MA.string}),"Jwe"),Kqe=MA.readonly(MA.type({typ:MA.literal("jose+json"),alg:MA.string,enc:MA.literal(ba),kid:MA.string}),"JweHeader"),Lqe=MA.readonly(MA.type({protected:MA.string,payload:MA.string,signature:MA.string}),"Jws"),Nqe=MA.readonly(MA.type({typ:MA.literal("jose+json"),alg:MA.string,kid:MA.string}),"JwsHeader"),Uqe=MA.readonly(MA.type({typ:MA.literal("JWT"),kid:MA.union([MA.string,MA.undefined]),alg:MA.literal("ES256")}),"JwtHeader"),tc=MA.readonly(MA.intersection([MA.type({uuid:MA.string,sn:MA.number,encryptedBy:MA.string,encSymKey:no,pubKey:Kf,encPriKey:no},"type"),MA.partial({spubKey:kb,encSPriKey:no},"partial")]),"KeysetCiphertext"),Hqe=MA.readonly(MA.type({uuid:MA.string,sn:MA.number,spec:MA.literal(2),ePubKey:Kf,sPubKey:kb,encKeyData:qG}),"KeysetCiphertextV2"),b4,Kj=A=>b4(new Uint8Array(A)),$a,AR,bIA=!1,MQ=WM(),VQ=WM(),Vqe=MQ.promise,Xqe=VQ.promise,Wqe=VQ.resolve,Jqe=VQ.reject,RQ=tIA(),yIA=(A=RQ?.crypto)=>{try{if(typeof A>"u")throw new TypeError("Crypto is unavailable");b4=A.getRandomValues.bind(A),$a=A.subtle,AR=A.webkitSubtle,!$a&&AR&&($a=AR,bIA=!0),MQ.resolve()}catch(e){MQ.reject(e)}};RQ?.crypto&&yIA(RQ.crypto);var gh={jwkImport:!0,rsaOaep256:!0,nativeAesGcm:!0,nativePbes2:!0,nativeEcdsa:!0},Yqe=A=>{gh={...gh,...A}};var Bh=AA(vs());var vIA=26,lr=()=>G4(16),XQ=A=>/^[2-7A-Z]{26}$/.test(A),rR=A=>/^[\da-z]{26}$/.test(A),Zqe=XQ,y4=XQ,Qqe=XQ,v4=rR,hb=rR,WQ=rR,A1e=rR,JQ=A=>A==="group"?WQ:y4,YQ=A=>e=>typeof e=="string"?A(e)?e:"":e&&e.uuid&&A(e.uuid)?e.uuid:"",FIA=A=>Bh.codec.base32.fromBits(A,!0).slice(0,vIA),GIA=A=>FIA(A).toLowerCase(),Nf=A=>GIA(Bh.codec.bytes.toBits(A)),e1e=A=>FIA(Bh.hash.sha256.hash(A.toLowerCase())),t1e=(A,e)=>{let t=A.slice(0,8);try{let r=Bh.codec.base32.toBits(t);return Bh.bitArray.extract(r,0,Bh.bitArray.bitLength(r))%e}catch{return 0}},ns=YQ(y4),F4=YQ(hb),$m=YQ(WQ);var r1e=9007199254740991,a1e=-9007199254740991,wIA=6,G4=A=>{let e=Kj(A||4);return Nf(e)},j1e=A=>{if(A.length===0)throw new Error("selectRandomElement: Cannot select element of empty array");return A[ji(0,A.length-1)]},qIA=2,n1e=2**(qIA*8),ZQ=(A=.5)=>$IA(qIA)/n1e<A,ji=(A,e)=>{if(typeof e!="number"||typeof A!="number")throw new TypeError("Boundaries must be defined");if(e<A)throw new Error("Upper boundary cannot be less than lower boundary");if(e===A)return A;let t=e-A+1,r=Math.ceil(Math.log(t)/Math.log(2)/8);if(r>wIA||e>r1e||A<a1e)throw new Error("Boundaries are too large for JavaScript");let a=256**r,j=a-a%t,n=new Uint8Array(r),i;do i=IIA(b4(n));while(i>=j);let o=i%t+A;if(o<A||e<o)throw new Error("Somehow managed to generate a result out of range");return o},$IA=A=>{if(A>wIA||A<1)throw new Error("Byte length must be in [1, 6]");return IIA(Kj(A))},IIA=A=>rl(A,(e,t,r)=>e+t*256**r,0);var QQ;(function(A){A.ContextError=sA`ContextError`,A.RequestError=sA`RequestError`,A.ValidationError=sA`ValidationError`})(QQ||(QQ={}));var $s=A=>{if(!eAA||A.sampleRate!==void 0&&!ZQ(A.sampleRate))return;let e=FQ();EG(t=>{let r=xm({},e?PIA(e):{},A.metaData??{});for(let[a,j]of Object.entries(r))t.setContext(a,j);if(A.severityLevel&&t.setLevel(A.severityLevel),A.userUuid&&t.setUser({id:A.userUuid.str}),AAA&&t.setTag("source",AAA),A.tags)for(let[a,j]of Object.entries(A.tags))t.setTag(a,j.str);BG(A)})},PIA=A=>{let e=A.osName==="MacOSX"?"macOS":A.osName;return{app:{device_app_hash:NA(A.uuid??""),app_name:NA(A.clientName??""),app_build:NA(A.clientVersion??"")},browser:{name:NA(A.name??""),version:NA(A.model??"")},os:{name:NA(e??""),version:NA(A.osVersion??"")}}},w4=A=>{for(let e of A)$s(e)},eAA=!1,AAA,i1e=({appVersion:A,dsn:e,environment:t,sampleRate:r=1,source:a})=>{EQ({defaultIntegrations:!1,sendDefaultPii:!1,autoSessionTracking:!1,dsn:e,environment:t,integrations:[c4(),ub()],release:A,sampleRate:r}),AAA=a,eAA=!0},o1e=()=>eAA;var Ke=(A,e,t)=>{let r=t?.mode??"default",a=c$A((0,SIA.mapLeft)(cZ.reportFailure)(e.decode(A)),l1e);return a.type==="err"&&((r==="unsafe_report_only"||t?.file||t?.func)&&h6(a.value,t?.file||sA`unknown`,t?.func||sA`unknown`,t?.errorClass,t?.context),r==="unsafe_report_only"&&!uh())?tk(A):a},s1e=A=>e=>Ke(e,A).unwrap(),l1e=A=>new sM(II(A,sA`\n`)),h6=(A,e,t,r,a)=>{let j=A.map(n=>{let i=II(vj([a,n]),sA`: `);return console.error(`${e.str}#${t.str} failed to decode: ${i.str}`),new fn({errorClass:r||_l.ValidationError,message:i})});w4(j)};var c1e=(A,e)=>A.reduce((t,r,a,j)=>e(r,a,j)?t+1:t,0),u1e=(A,e)=>A.length===e.length&&A.every(t=>e.includes(t));var fb={};Na(fb,{BUSINESS_TIER:()=>d1e,Card:()=>Im,CurrencyCodes:()=>rAA,GiftCard:()=>q4,InAppPurchaseSelectedSubscriptionTier:()=>jAA,Invoice:()=>aR,Subscription:()=>rc,getBlankTier:()=>nR});var Im;(function(A){let e;(function(r){r.Visa="visa",r.Mastercard="mastercard",r.Amex="amex",r.Discover="discover",r.UsBankAccount="us_bank_account",r.AcssDebit="acss_debit",r.SepaDebit="sepa_debit",r.Unknown="unknown",r.AmericanExpress="american express"})(e=A.Brand||(A.Brand={}));let t=new Map([[e.Visa,"Visa"],[e.Mastercard,"Mastercard"],[e.Amex,"American Express"],[e.Discover,"Discover"],[e.UsBankAccount,"US Bank Account"],[e.AcssDebit,"ACSS Debit"],[e.SepaDebit,"SEPA Debit"],[e.Unknown,"Unknown"]]);A.getBrandText=r=>t.has(r)?t.get(r)||"Unknown":t.get(e.Unknown)||"Unknown",A.getValidBrand=r=>{switch(r=r?.toLocaleLowerCase(),r){case e.Visa:case e.Mastercard:case e.Discover:case e.AcssDebit:case e.SepaDebit:case e.UsBankAccount:return r;case e.AmericanExpress:case e.Amex:return e.Amex;default:return e.Unknown}},A.isExpired=r=>{if(!r.expYear||!r.expMonth)return!1;let a=new Date;return new Date(r.expYear,r.expMonth-1)<a}})(Im||(Im={}));var rAA;(function(A){A.None="none",A.USD="USD",A.CAD="CAD",A.EUR="EUR"})(rAA||(rAA={}));var q4;(function(A){A.create=e=>Object.freeze({code:"",redeemedAt:"",amount:0,description:"",purchaserEmail:"",...e}),A.CodePrefix="GC"})(q4||(q4={}));var aR;(function(A){A.getSubscriptionLineItems=e=>Zp(e.lines,t=>t.quantity>0),A.getAdjustmentLineItems=e=>Zp(e.lines,t=>!t.quantity),A.getDiscountAmount=e=>{if(e.discount&&e.discount.coupon){let t=rl(e.lines,(r,a)=>a.discountable?r+a.amount:r,0);return e.discount.coupon.amountOff||t*e.discount.coupon.percentOff/100}return 0}})(aR||(aR={}));var nu=AA(OA());var CIA=(A,e)=>e?A==="\u2757\uFE0F LastPass Imported Shared Folders Metadata":!1;var $G;(function(A){A.Monthly="M",A.Yearly="Y",A.Daily="D",A.ThreeYear="3",A.FiveYear="5",A.Other="O"})($G||($G={}));var IG=cr($G,"Frequency"),gb=nu.readonly(nu.type({frequency:IG,sortOrder:nu.number,currency:nu.string,display:nu.readonly(nu.type({amount:nu.number,isPerUser:nu.boolean}))}),"Plan");var aAA={"test-feature-flag":!1,"b5web-auto-sign-in":!1,"b5web-mycelium-forward-sign-in":!1,"b5web-south-africa-vat-banner":!1,"b5web-new-zealand-vat-banner":!1,"b5web-dark-mode":!1,"safari-web-extension-iap":!1,"b5web-b2b-signup-requirePhoneNumber":!1,"b5-bpo-client-notification":!1};var jR={"b2b-individual-vault-reporting":!1,"b2b-complete-trust-application-insights":!1,"b2b-complete-trust-identity":!1,"b2b-xam-identity-device-trust-handoff":!1,"b2b-private-vault-reporting-in-business-watchtower":!1,"b5web-core-app-ui-v1-opt-in":!1,"b5web-core-app-ui-v1-opt-out":!1,"b5web-core-app-ui-v1-no-opt":!1,"b5web-msp-admin-console":!1,"b5web-msp-billing-page":!1,"msp-foundation":!1,"msp-force-mfa-enrolment":!1,"b5web-billing-signup-payment-form":!1,"b5web-extension-client-restriction":!1,"b5web-telemetry-data-collection":!1,"b5web-b2b-telemetry-data-collection":!1,"b2b-telemetry-setting-UI":!1,"telemetry-feature-flag-context":!1,"b5web-vault-details-paginate-people":!1,"b5web-vault-details-paginate-groups":!1,"b5web-group-details-paginate-people":!1,"b5web-person-details-paginate-groups":!1,"b5web-admin-vaults-overview-knox-table":!1,"b5web-admin-knox-groups-table":!1,"b5web-admin-new-invitations-page":!1,"hide-lastpass-importer-metadata-vault":!1,"b5web-admin-policies-ui":!1,"ct-minimum-client-version":!1,"b5web-admin-developer-report":!1,"b5web-service-accounts-for-all":!1,"b5-multiple-authentication-types":!1,"b5web-cc-app-insights-aggregation":!1,"b2b-b5web-sidebar-talk-to-sales":!1,"b5web-generate-recovery-code-individual":!1,"b5web-generate-recovery-code-family":!1,"b5-auto-lock-policy":!1,"core-ssh-bookmarks":!1,"b5-policies-framework":!1,"b5web-hosted-provisioning":!1,"b5web-admin-custom-emails":!1,"b5-policies-restrict-failed-login-attempts":!1,"b5-policies-auto-delete-suspended-users":!1,"b5web-restricted-domain-policy":!1,"b5-policies-auto-delete-suspended-users-dev-time-options":!1,"b5-policies-release-channels":!1,"b5-developer-addon":!1,"b5web-developer-tools-active-page-improvements":!1,"b2b-b5-excluded-groups":!1,"b2b-device-trust-admin-nav":!1,"b5web-sub-management-consolidation":!1,"b5-integrations-crowdstrike":!1,"b5-integrations-blumira":!1,"b5-integrations-rapid7":!1,"b5-integrations-stellarcyber":!1,"b2b-xam-sso-configuration-beta-iteration":!1,"b5web-b2b-xam-pql":!1,"b5web-b2b-xam-pql-ab-testing":!1,"b5web-business-support-email":!1,"auth-self-serve-migration-v1":!1};var d1e="20180220_b_business",OIA=()=>({...jR,accountSettings:!1,activityLog:!1,businessSupportPhone:!1,businessSupportEmail:!1,clientVaultAccess:!1,customGroups:!1,customTemplates:!1,enforced2FA:!1,fineACL:!1,customDefaultAcl:!1,groups:!1,groupPermissions:!1,guests:!1,itemSendingV1:!1,itemSharing:!1,members:!1,mfaDuo:!1,prioritySupport:!1,reports:!1,slack:!1,slackInvite:!1,teamInvite:!1,travelAdminMode:!1,familyChildAccounts:!1,firewallRules:!1,firewallRulesForGroups:!1,masterPasswordPolicy:!1,clientRestrictions:!1,signInAttemptsReport:!1,dontNotifyAdmins:!1,disableWebNotifMenu:!1,peoplePageServerSearch:!1,chronologicallySortedVaultPage:!1,customSupport:!1,dontShareWithOwners:!1,mpRequirementsCustom:!1,limitGroupVaultAccess:!1,vaultsReport:!1,email2fa:!1,replyToInviteEmail:!1,accountTransfer:!1,autoDeleteSuspendedUsers:!1,hibpDomainReport:!1,provisioning:!1,keepAdminWatchtowerReports:!1,viewAdminWatchtowerReports:!1,keepAdminWatchtowerPrivateVaultReports:!1,integrationHubProvisioning:!1,integrationHubDataStreaming:!1,itemUsageDataStreaming:!1,integrationHubMFA:!1,integrationHubAlerts:!1,integrationHubRequestAccessBusiness:!1,integrationHubRequestAccessTeams:!1,integrationHubRequestAccessFamilies:!1,insightsDashboard:!1,churnSurvey:!1,npsSurvey:!1,integrationHubEmailAlias:!1,shareService:!1,shareServiceAdminControl:!1,itemSharingDomainRecipients:!1,itemSharingFiles:!1,integrationHubJumpCloud:!1,integrationHubGoogleWorkspace:!1,keepItemUsageAction:!1,singleSignOn:!1,singleSignOnAuth0:!1,singleSignOnAzure:!1,singleSignOnGeneric:!1,singleSignOnGoogle:!1,integrationHubUserManagedServiceAccounts:!1,managedServiceAccountTierAQuota:!1,managedServiceAccountTierBQuota:!1,managedServiceAccountTierARateLimit:!1,integrationHubBrex:!1,integrationHubRamp:!1,phantomIntegration:!1,deferActiveUserSubscriptionDowngrade:!1,liveBusinessChat:!1,emergencyKitSetting:!1,billingInfoDataMigrated:!1,unlockWithPasskey:!1,detailPageLimits:!1,telemetry:!1,automatedQuest:!1,unredeemedFamilyAccountEmails:!1,itemsInWrongAccountPolicy:!1,eraseClientForSuspendedUsers:!1,eraseClientForUsersOutsideGracePeriod:!1,detailedVaultReporting:!1,managedServiceProvider:!1,requireStrongAuthOnSensitiveActions:!1,developerAddon:!1,developerAddonLegacyServiceAccounts:!1,developerAddonLegacyConnect:!1,b2bXamDeviceTrust:!1,b2bXam:!1}),nR=A=>({name:A||"",accountType:"",sortOrder:0,isPublic:!1,trialDays:0,backupDays:0,guestsIncluded:0,maxGuests:0,membersIncluded:0,maxMembers:0,minQuantity:0,storagePerAccount:0,storagePerUser:0,plans:[],marketingText:{name:"",localizedFeatures:[],defaultPriceDisplayFrequency:$G.Yearly,viewDetailsURL:""},hasFeature:OIA(),hasGatedFeature:OIA(),tierChangeMappings:[]});var rc;(function(A){A.create=()=>({freezesAt:"2100-01-01T00:00:00.000Z",guests:0,members:0,provider:"",status:"",storageUsed:0,tier:void 0,settings:{billingCompanyName:"",billingAddress:"",billingEmails:""},balance:0,cards:[],coupon:void 0,pendingCreditAmount:0,nextInvoice:void 0,hasInvoices:!1,plan:void 0,stripe:void 0,purchaseOrder:void 0,stripePurchaseOrder:void 0,customerAddress:{country:"",provinceOrState:"",zip:""},billingStats:void 0,availableTiers:[],pendingPaymentMethods:[]});let e;(function(t){t.Trial="T",t.Active="A",t.Lapsed="L",t.CancelAtPeriodEnd="C",t.Frozen="F",t.Pending="P"})(e=A.Status||(A.Status={})),A.Provider={Undefined:"U",Stripe:"S",StripePurchaseOrder:"C",PurchaseOrder:"O",ThirdParty:"T",NotBilled:"N",ParentAccount:"R",AppleSubscription:"A",PayPal:"P",GooglePlayStore:"G",ManagedServiceProvider:"M"},A.canBillForAdditionalUsers=t=>!ij([A.Provider.AppleSubscription,A.Provider.GooglePlayStore],t.provider),A.isDirectlyBilled=t=>ij([A.Provider.Stripe,A.Provider.StripePurchaseOrder,A.Provider.Undefined],t.provider),A.isDirectlyBilledPurchaseOrder=t=>t.provider===A.Provider.StripePurchaseOrder,A.shouldShowBilling=t=>ij([A.Provider.Undefined,A.Provider.Stripe,A.Provider.StripePurchaseOrder,A.Provider.AppleSubscription,A.Provider.GooglePlayStore,A.Provider.ParentAccount,A.Provider.PurchaseOrder,A.Provider.ThirdParty,A.Provider.NotBilled,A.Provider.ManagedServiceProvider],t.provider),A.shouldShowBillingAndSeats=t=>ij([A.Provider.Undefined,A.Provider.Stripe],t.provider),A.canChangeAccountType=t=>!ij([A.Provider.AppleSubscription,A.Provider.GooglePlayStore,A.Provider.PurchaseOrder,A.Provider.ThirdParty,A.Provider.NotBilled,A.Provider.ManagedServiceProvider],t.provider),A.hasFeature=t=>t.tier?t.tier.hasFeature:nR().hasFeature,A.hasGatedFeature=t=>t.tier?t.tier.hasGatedFeature:nR().hasGatedFeature,A.hasPendingCredit=t=>typeof t.pendingCreditAmount=="number"&&t.pendingCreditAmount>0,A.hasAvailableCredit=t=>-1*t.balance+t.pendingCreditAmount>0,A.hasCoupon=t=>t.coupon!==void 0&&t.coupon.stripeCouponUID!==""&&(t.coupon.amountOff||t.coupon.percentOff)!==0,A.hasTrialTimeLeft=t=>{if(t.stripe===void 0)return!1;let r=_n(t.stripe.trialEnd);return t.stripe.status==="trialing"&&!!r&&r.getTime()>Date.now()},A.getDefaultCardholderName=t=>{let r=_i(t.cards,a=>a.isDefault);return r?r.name:void 0},A.getCurrency=t=>{if(t.plan)return t.plan.currency;if(t.availableTiers&&t.availableTiers[0]&&t.availableTiers[0].plans&&t.availableTiers[0].plans[0])return t.availableTiers[0].plans[0].currency}})(rc||(rc={}));var jAA;(function(A){A.FamilyAnnual="family.annual",A.FamilyMonthly="family.monthly",A.IndividualAnnual="individual.annual",A.IndividualMonthly="individual.monthly"})(jAA||(jAA={}));var m1e=(A,e)=>{switch(e){case Im.Brand.SepaDebit:case Im.Brand.AcssDebit:case Im.Brand.UsBankAccount:return`\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${A.slice(-4)}`;default:return`${e===Im.Brand.Amex?"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022\u2022 \u2022":"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 "}${A.slice(-4)}`}},p1e=(A,e)=>{if(e===Im.Brand.Unknown)return`Ending in ${A.slice(-4)}`;let t=String.fromCodePoint(8226).repeat(4);return`${Im.getBrandText(e)} ${t}${A.slice(-4)}`},$4=A=>A.startsWith("pm_");var k1e=()=>{let A=!!document?.body?.dataset?.onepasswordExtensionVersion,e=!!document?.body?.dataset?.b5xBuildNumber;return A||e};var iu=AA(vs()),nAA=(A,e)=>new iu.default.misc.hmac(A,iu.default.hash.sha256).encrypt(e),h1e=(A,e)=>{let t=iu.default.codec.hex.toBits(A),r=iu.default.codec.hex.toBits(e),a=nAA(t,r);return iu.default.codec.hex.fromBits(a)},iAA=(A,e)=>{let t=iu.default.codec.base64url.toBits(A),r=iu.default.codec.utf8String.toBits(e),a=nAA(t,r);return new iu.default.misc.hmac(a,iu.default.hash.sha256)},Bb=(A,e)=>{if(A.byteLength!==32)throw new Error("Invalid secret length: "+A.byteLength);let t=iu.default.codec.bytes.toBits(A),r=iu.default.codec.utf8String.toBits(e),a=iu.default.codec.bytes.fromBits(nAA(t,r));return new Uint8Array(a)};var oAA=["/idp/oidc/continue","/idp/saml/continue"],sAA=A=>{let e=sessionStorage.getItem(A);if(e!==null)return JSON.parse(e)},g1e=(A,e)=>{sessionStorage.setItem(A,JSON.stringify(e))};var Eh="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ko="[a-fA-F\\d]{1,4}",TIA=`
(
(?:${Ko}:){7}(?:${Ko}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${Ko}:){6}(?:${Eh}|:${Ko}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${Ko}:){5}(?::${Eh}|(:${Ko}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${Ko}:){4}(?:(:${Ko}){0,1}:${Eh}|(:${Ko}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${Ko}:){3}(?:(:${Ko}){0,2}:${Eh}|(:${Ko}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${Ko}:){2}(?:(:${Ko}){0,3}:${Eh}|(:${Ko}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${Ko}:){1}(?:(:${Ko}){0,4}:${Eh}|(:${Ko}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::((?::${Ko}){0,5}:${Eh}|(?::${Ko}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),f1e=`${Eh}\\/(3[0-2]|[12]?[0-9])`,B1e=`${TIA}\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])`,PG;(function(A){A[A.v4=1]="v4",A[A.v6=2]="v6",A[A.v4cidr=3]="v4cidr",A[A.v6cidr=4]="v6cidr"})(PG||(PG={}));var E1e=A=>{if(new RegExp(`^${Eh}$`).test(A))return PG.v4;if(new RegExp(`^${TIA}$`).test(A))return PG.v6;if(new RegExp(`^${f1e}$`).test(A))return PG.v4cidr;if(new RegExp(`^${B1e}$`).test(A))return PG.v6cidr},x1e=A=>!!E1e(A);var Ei=AA(OA());var SG;(function(A){A.OnePasswordForAndroid="A",A.OnePasswordForWeb="B",A.OnePasswordCli="C",A.OnePasswordForIos="I",A.OnePasswordForLinux="L",A.OnePasswordForMac="M",A.OnePasswordForTeamsApi="P",A.OnePasswordScimBridge="S",A.OnePasswordExtension="X",A.OnePasswordForWindows="W",A.BackofficeCli="BOC",A.OnePasswordConnect="CON",A.CsExtension="CSX",A.ExtendedAccessManagement="XAM"})(SG||(SG={}));var DIA=cr(SG,"ClientShortCode"),lAA=Ei.readonly(Ei.intersection([Ei.type({shortCode:DIA,buildNum:Ei.number},"type"),Ei.partial({channel:Ei.keyof({beta:!0,nightly:!0,dev:!0}),commitHash:Ei.string},"partial")]),"ClientInfo"),b1e=Ei.readonly(Ei.intersection([Ei.type({client:lAA,deviceUuid:Ei.string},"type"),Ei.partial({innerClient:lAA,browserName:Ei.string,browserVersion:Ei.string,osName:Ei.string,osVersion:Ei.string,architecture:Ei.string},"partial")]),"OpUserAgentInit"),y1e=1,iR=(A,e)=>[y1e,A.client.shortCode,_IA(A.client),A.deviceUuid,A.innerClient?.shortCode||"",_IA(A.innerClient),A.browserName||e.name||"unknown",A.browserVersion||e.version||"unknown",A.osName||e.osName||"unknown",A.osVersion||e.osVersion||"unknown",A.architecture||""].join("|"),_IA=A=>A?A.channel&&A.commitHash?[A.buildNum,A.channel,A.commitHash].join("-"):A.channel?[A.buildNum,A.channel].join("-"):A.buildNum.toString(10):"";var sR=AA(vs());var oR;(function(A){A[A.Minimum=10]="Minimum",A[A.Medium=12]="Medium",A[A.Strict=14]="Strict"})(oR||(oR={}));var I4,Uf,lR=A=>{I4=A},cR=A=>{Uf=A},v1e=()=>!!Uf,dk={UPPERCASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",LOWERCASE:"abcdefghijklmnopqrstuvwxyz",DIGITS:"0123456789",SYMBOLS:"#$%&()*+,.;<=>?@[]^{}"},xh=(A,e)=>{let t="";for(let a=0;a<e;++a){let j=ji(0,A.length-1);t+=A[j]}let r=e*Math.log(A.length)/Math.log(2);return[t,r]},cAA=A=>{if(!I4)throw new Error("Word list is not loaded");A=Math.max(1,Math.min(20,Math.ceil(A)));let e=[];for(let r=1;r<=A;r++){let a=I4[ji(0,I4.length-1)];a!==void 0&&e.push(a)}let t=A*Math.log(I4.length)/Math.log(2);return[e,t]},CG=(A,e)=>{if(!A)return 0;let t=[...A].length;typeof e=="string"&&e.length>0&&A.toLowerCase().includes(e.toLowerCase())&&(t-=[...e].length+1,t=Math.max(0,t));let r=G1e(t);if(r=r*2,Uf&&Uf.includes(A.toLowerCase()))return 1;let a=A.toLowerCase();a=a.replace(/0/g,"o"),a=a.replace(/1/g,"l"),a=a.replace(/3/g,"e"),a=a.replace(/4/g,"a"),a=a.replace(/5/g,"s"),a=a.replace(/7/g,"t"),Uf&&Uf.includes(a)&&(r=4);let j=[dk.LOWERCASE,dk.UPPERCASE,dk.DIGITS," ",`.?!,;:-"'()`,"`~@#$%^&*[]{}+=_|\\/<>"],n=0;for(let i of j)F1e(A,i)&&(n+=1);return r+=(n-1)*6,Math.min(100,Math.round(r))},F1e=(A,e)=>{if(!A)return!1;let t=new Set(e);return[...A].some(r=>t.has(r))},G1e=A=>{let e=[0,4,6,8,10,12,14,16,18,20,21],t=0;return A>20&&(t+=A-20,A=20),A>10&&(t+=(A-10)*1.5,A=10),t+=e[A]??0,t},w1e=A=>{let e=A.toLowerCase(),t=q1e(e);return Uf?xI(Uf,r=>r.length<oR.Minimum?!1:r===e||t.test(r)):!1},q1e=A=>{let e={0:"o",1:"[li]",2:"too?",3:"e",4:"(a|for)",5:"s",7:"t",8:"a(te?)?","@":"at?",$:"s",x:"(c?ks|x)",z:"[sz]"},t="",r="";for(let a of[...A])e[a]?(t+=zIA(r)+e[a],r=""):r+=a;return t+=zIA(r),new RegExp(`^${t}$`)},zIA=A=>A?EY(A):"",uAA=A=>{if(A.length===0)return"";let e=sR.hash.sha256.hash(A);return sR.codec.base64url.fromBits(e).replace(/=+$/,"")};var dAA=AA(al()),S4=(...A)=>GY(A,(e,t)=>(r,a)=>t(r,a)||e(r,a),(e,t)=>0),Pm=A=>e=>(t,r)=>A(e(t),e(r)),$1e=(A,e=!0)=>e?A:OG(A),OG=A=>(e,t)=>A(t,e),MIA=(A=0,e=0)=>A-e,RIA=(A=!1,e=!1)=>A===e?0:A?1:-1,P4=(A="",e="")=>A.localeCompare(e,void 0,{numeric:!0}),Eb="0001-01-01T00:00:00Z",mAA=(A=new Date(Eb),e=new Date(Eb))=>A.getTime()-e.getTime(),KIA=(A=Eb,e=Eb)=>LIA(A).diff(LIA(e)),LIA=(A=Eb)=>{let e=(0,dAA.default)(A);return e.isValid()?e:(0,dAA.default)(Eb)},nl={booleans:Pm(RIA),dates:Pm(mAA),moments:Pm(KIA),numbers:Pm(MIA),strings:Pm(P4),desc:{booleans:Pm(OG(RIA)),dates:Pm(OG(mAA)),moments:Pm(OG(KIA)),numbers:Pm(OG(MIA)),strings:Pm(OG(P4))}};var I1e=(A,e)=>{let t=new Set(e);return[...A].filter(r=>t.has(r)).join("")};var P1e=A=>A.account?A.account?.hasFeature.singleSignOn||A.account?.hasFeature.unlockWithPasskey:!1,NIA=8,S1e=()=>{let A=dk.UPPERCASE,[e,t]=xh(A,NIA);return e};var pAA=A=>A?.hasFeature["b2b-private-vault-reporting-in-business-watchtower"]&&A?.hasFeature.keepAdminWatchtowerPrivateVaultReports||!1;var No={};Na(No,{Auk:()=>Ta,CredentialBundle:()=>ol,CryptoVersion:()=>ac,CurrentItemSnapshotPayloadVersion:()=>NG,DEFAULT_SRP_METHOD:()=>gR,DeviceKey:()=>f6,EncryptedVaultItemSnapshot:()=>Z4,EncryptedVaultItemSnapshotWithServerData:()=>Q4,Envelope:()=>lu,EnvelopeC:()=>SAA,InputRecoveryKey:()=>yb,JwkX25519PriKey:()=>CR,JwkX25519PubKey:()=>LG,KeyDerivationInfo:()=>pR,ManagedAccountKey:()=>vh,PAPER_KEY_PREFIX:()=>bb,RECOVERY_CODE_LENGTH:()=>b4A,RecoveryKey:()=>Ed,SecretKey:()=>Gn,SecretKeyFormat:()=>yo,ServiceAccountThrottleKeypair:()=>MG,SnapshotWatchtowerReport:()=>NAA,SrpMethod:()=>il,SrpMethodPrefix:()=>pk,SrpStarter:()=>Vf,SrpV:()=>Xf,SrpX:()=>Is,TagRouteKey:()=>KG,UrlAutofillParentKey:()=>RG,UrlAutofillSessionKey:()=>xb,VaultItemSnapshotEnvelope:()=>wh,VaultItemSnapshotServerData:()=>OR,VaultItemSnapshotV2:()=>Y4,VaultItemSnapshotWithAdditionalAndServerData:()=>Z4A,VaultReportingPrivateKey:()=>Sm,VaultReportingPublicKey:()=>fk,VaultSnapshotAdditionalData:()=>H4,exactPartial:()=>l$e,exactType:()=>IR,password_key_derivation_consts:()=>Ih,unsafePrimitives:()=>Lo});var Wf=AA(OA());var Oa=()=>{throw new Error("JSON.stringify has been disabled for this type. Seralization for this type is either disallowed, or must be invoked explicitly.")};var Bd=AA(OA());var C4,TG="mp",C1e=16,UIA=C1e*8,_G="A256GCM",kAA="AES-GCM",O1e={name:kAA,length:256},bh=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_PRIMITIVES_Aes256EncryptionResult",this.data=e,this.iv=t}};bh.new=A=>new bh(A.data,A.iv);var g6=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_PRIMITIVES_Aes256EncryptionKey",this.toJSON=Oa,this.encryptRaw=async(r,a=void 0)=>{let j=await T1e(),n={name:kAA,iv:j,tagLength:UIA};a!==void 0&&(n.additionalData=a);let i=await $a.encrypt(n,this.encryptionKey,r),o=new Uint8Array(i);return bh.new({data:o,iv:j})},this.decryptRaw=async(r,a=void 0)=>{let j={name:kAA,iv:r.iv,tagLength:UIA};a!==void 0&&(j.additionalData=a);let n=await $a.decrypt(j,this.encryptionKey,r.data);return new Uint8Array(n)},this.exportJwk=async()=>{let r=await $a.exportKey("jwk",this.encryptionKey);return Ke({...r,kid:this.kid},Ml).unwrap()},this.exportCryptoKey=async()=>this.encryptionKey,this.exportRawBytes=async()=>new Uint8Array(await $a.exportKey("raw",this.encryptionKey)),this.encryptionKey=e,this.kid=t}};C4=g6;g6.generate=async()=>C4.fromRawBytes(Kj(32),lr());g6.fromRawBytes=async(A,e)=>{if(A.length!==32)throw new Error("Bad key len");let t=await $a.importKey("raw",A,O1e,!0,["encrypt","decrypt"]);return new C4(t,e)};g6.inspectJwk=async A=>{if(A.alg!==_G)throw new Error(`Unexpected alg: ${A.alg}`);if(A.ext!==!0)throw new Error("Unexpected ext");if(A.key_ops.length!==2||!A.key_ops.includes("encrypt")||!A.key_ops.includes("decrypt"))throw new Error(`Invalid key_ops: ${JSON.stringify(A.key_ops)}`);if(A.kty!=="oct")throw new Error(`Unexpected kty: ${A.kty}`)};g6.fromJwk=async A=>{await C4.inspectJwk(A);let e=Je(A.k);return C4.fromRawBytes(e,A.kid)};var T1e=async()=>Kj(12);var O4,HIA="b5+jwk+json",is=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_PRIMITIVES_GENERALIZED_KEYS_JwebAes256EncryptionKey",this.toJSON=Oa,this.encryptRaw=async(t,r=void 0)=>this.encryptionKey.encryptRaw(t,r),this.decryptRaw=async(t,r=void 0)=>this.encryptionKey.decryptRaw(t,r),this.processJweB=(t,r=!1)=>{if(t.kid!==this.kid)throw new Error("Invalid JweB: bad KID");if(t.enc!==_G)throw new Error("Invalid JweB: bad enc");if(t.cty!==HIA)throw new Error("Invalid JweB: bad cty");if(t.iv===void 0||t.iv.length<12)throw new Error("Invalid JweB: bad iv length");if(t.data.length<32)throw new Error("Invalid JweB: bad data length");let a=Je(t.data),j=Je(t.iv),n=bh.new({data:a,iv:j});if(r){if(this.kid!==TG)throw new Error("Cannot extract derivation info if not MP");if(t.alg===void 0||t.p2c===void 0||t.p2s===void 0)return{encrypted:n,kdfInfo:void 0};let i={alg:t.alg,enc:t.enc,iterations:t.p2c,salt:t.p2s};return{encrypted:n,kdfInfo:i}}if(t.alg!==void 0||t.p2c!==void 0||t.p2s!==void 0)throw new Error("Unexpected derivation info");return{encrypted:n,kdfInfo:void 0}},this.encryptJweB=async(t,r=void 0)=>{let{data:a,iv:j}=await this.encryptRaw(t,r);return{kid:this.kid,enc:_G,cty:HIA,iv:Ye(j),data:Ye(a)}},this.decryptJweB=async(t,r=void 0)=>{let{encrypted:a,kdfInfo:j}=this.processJweB(t,!1);return this.decryptRaw(a,r)},this.encryptAndEncodeUnauthenticatedKdfInfo=async(t,r,a=void 0)=>{let j=await this.encryptJweB(t,a);return j.alg=r.alg,j.p2c=r.iterations,j.p2s=r.salt,j},this.decryptAndExtractUnauthenticatedKdfInfo=async(t,r=void 0)=>{let{encrypted:a,kdfInfo:j}=this.processJweB(t,!0);return{plaintext:await this.decryptRaw(a,r),unverifiedKdfInfo:j}},this.exportJwk=async()=>this.encryptionKey.exportJwk(),this.exportCryptoKey=async()=>this.encryptionKey.exportCryptoKey(),this.exportRawBytes=async()=>this.encryptionKey.exportRawBytes(),this.encryptionKey=e,this.kid=e.kid}};O4=is;is.generate=async()=>new O4(await g6.generate());is.fromRawBytes=async(A,e)=>O4.fromAes256Key(await g6.fromRawBytes(A,e));is.fromAes256Key=async A=>new O4(A);is.fromJwk=async A=>O4.fromAes256Key(await g6.fromJwk(A));var fd=async(A,e,t,r,a)=>{let j=await $a.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"]),n={name:"HKDF",hash:A,info:t,salt:r},i=await $a.deriveBits(n,j,a*8);return new Uint8Array(i)};var Lj;(function(A){A.Sha256="SHA-256",A.Sha384="SHA-384",A.Sha512="SHA-512"})(Lj||(Lj={}));var ou=async(A,e=Lj.Sha256)=>{let t=await $a.digest({name:e},A);return new Uint8Array(t)};var XIA=1e5,VIA=1e4,uR=65e4,WIA=128,_1e=async(A,e,t,r,a)=>{if(r<VIA)throw new Error(`PBKDF2 cannot operate with fewer than ${VIA} interations, ${r} was supplied.`);let j=mt(e),n=await $a.importKey("raw",j,{name:"PBKDF2"},!1,["deriveBits"]),i={name:"PBKDF2",salt:t,iterations:r,hash:{name:A}},o=await $a.deriveBits(i,n,a*8);return new Uint8Array(o)},T4=async(A,e,t,r)=>{let a=D1e(A);return _1e(a.alg,e,t,r,a.length)},hAA="PBES2-HS256";var dR="PBES2g-HS256";var mR=dR,D1e=A=>{switch(A){case hAA:case dR:return{alg:Lj.Sha256,length:32};default:throw new Error(`Invalid PBKDF2 alg: ${A}`)}};var mk,pR=Bd.readonly(Bd.exact(Bd.type({alg:Bd.string,iterations:Bd.number,salt:Bd.string,enc:Bd.string})),"KeyDerivationInfo"),Ta=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_Auk",this.toJSON=Oa,this.KID=()=>"mp",this.exportJwk=async()=>this.key.exportJwk(),this.exportJwkJSON=async()=>JSON.stringify(await this.key.exportJwk()),this.verifyMasterPassword=async(r,a)=>{let n=await(await mk.derive(r,a)).__crypto_internal.deriveConfirmationKey();return(await this.__crypto_internal.deriveConfirmationKey()).every((o,s)=>o===n[s])},this.__crypto_internal={deriveConfirmationKey:async()=>{let r=new Uint8Array;return fd(Lj.Sha256,await this.key.exportRawBytes(),mt("confirmationsigner"),r,32)}},this.encrypt=async r=>{if(this.derivationInfo===void 0)throw new Error("Missing derivation info for AUK");return this.key.encryptAndEncodeUnauthenticatedKdfInfo(r,this.derivationInfo)},this.decrypt=async r=>{let{plaintext:a,unverifiedKdfInfo:j}=await this.key.decryptAndExtractUnauthenticatedKdfInfo(r);return this.derivationInfo===void 0&&(this.derivationInfo=j),a},this.key=e,this.derivationInfo=t}};mk=Ta;Ta.fromRawBytes=async(A,e)=>{if(A.length!==32)throw new Error("Bad key len");return new mk(await is.fromRawBytes(A,TG),e)};Ta.generateForTrustedDevice=async()=>mk.fromRawBytes(Kj(32),kR());Ta.__testGenerate=async()=>mk.fromRawBytes(Kj(32),kR());Ta.fromJwk=async(A,e=void 0)=>{if(A.kid!==TG)throw new Error("KeyID for Auk is incorrect");return new mk(await is.fromJwk(A),e)};Ta.fromJwkWithRandomKdfInfoSsoOnly=async A=>{if(A.kid!==TG)throw new Error("KeyID for Auk is incorrect");return new mk(await is.fromJwk(A),kR())};Ta.deriveKdfBytes=async(A,e)=>{let{email:t,password:r}=e,{alg:a,iterations:j,salt:n}=A,i=t.trim().toLowerCase(),o=M1e(r);if(a.startsWith("PBES2-")){let s=await z1e(r);return T4(a,`${i}:${s}`,Je(n),j)}else if(a.startsWith("PBES2g-")){let s=mt(i),c=mt(a),u=await fd(Lj.Sha256,Je(n),c,s,32);return T4(a,o,u,j)}else throw new Error("Unknown derivation alg")};Ta.derive=async(A,e)=>{let{email:t,password:r,secretKey:a}=e,j=await mk.deriveKdfBytes(A,{email:t,password:r}),n=await a.combineWithBytes(j);return mk.fromRawBytes(n,A)};Ta.deriveDefaultKdf=async A=>mk.derive(kR(),A);var kR=()=>({alg:mR,iterations:uR,enc:_G,salt:UQ(WIA)}),z1e=async A=>{if(A.length===0)return"";let e=await ou(mt(A),Lj.Sha256);return Ye(e).replace(/=+$/,"")},M1e=A=>A?A.trim().normalize("NFKD"):"";var QIA=AA(wG());var Hf=AA(wG());var JIA,DG=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_SessionKey",this.toJSON=Oa,this.rawKey=e}};JIA=DG;DG.__crypto_internal={new:async A=>new JIA(A)};var gAA,YIA,yh;(function(A){A.Group4096="4096"})(yh||(yh={}));var pk;(function(A){A.Srp="SRP-",A.SrpG="SRPg-"})(pk||(pk={}));var il=class{constructor(e,t){this.toString=()=>this.prefix+this.srpGroupName,this.prefix=e,this.srpGroupName=t}get group(){return fR[this.srpGroupName]}};il.fromParts=(A,e)=>new il(A,e);il.fromString=A=>{let e=K1e[A];if(!e)throw new Error("Unknown SRP method");return e};var R1e=[il.fromParts(pk.Srp,yh.Group4096),il.fromParts(pk.SrpG,yh.Group4096)],K1e=Object.fromEntries(R1e.map(A=>[A.toString(),A])),L1e=yh.Group4096,N1e=pk.SrpG,gR=il.fromParts(N1e,L1e),fR={[yh.Group4096]:{N:new Hf.BigInteger("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A92108011A723C12A787E6D788719A10BDBA5B2699C327186AF4E23C1A946834B6150BDA2583E9CA2AD44CE8DBBBC2DB04DE8EF92E8EFC141FBECAA6287C59474E6BC05D99B2964FA090C3A2233BA186515BE7ED1F612970CEE2D7AFB81BDD762170481CD0069127D5B05AA993B4EA988D8FDDC186FFB7DC90A6C08F4DF435C934063199FFFFFFFFFFFFFFFF",16),g:new Hf.BigInteger("5")}},Vf=class{constructor(e,t,r,a,j,n){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_SrpStarter",this.toJSON=Oa,this.recieveBigBhex=async i=>{let{g:o,N:s}=this.group,c=new Hf.BigInteger(i,16);if(c.mod(s).equals(Hf.BigInteger.ZERO)||c.mod(s).equals(Hf.BigInteger.ONE))throw new Error("Invalid SRP B value");let[u,p]=await Promise.all([U1e(this.group),H1e(this.group,this.bigA,c)]),h=this.littleA.add(p.multiply(this.x)),f=c.subtract(o.modPow(this.x,s).multiply(u)),G=mt(hR(f.modPow(h,s))),w=await ou(G,Lj.Sha256);return _4.__crypto_internal.new(w,this.group,this.bigA,c,this.salt,this.identity)},this.littleA=e,this.bigA=t,this.group=r,this.x=a,this.salt=j,this.identity=n}get bigAhex(){return hR(this.bigA)}};gAA=Vf;Vf.__crypto_internal={new:async(A,e,t,r)=>{let a=BAA(Kj(32)),{g:j,N:n}=e,i=j.modPow(a,n);return new gAA(a,i,e,A,t,r)},__testNew:async(A,e,t,r,a,j)=>new gAA(a,j,e,A,t,r)};var hR=A=>A.toString(16).replace(/^(0x)?0*/,""),BAA=A=>new Hf.BigInteger(xo(A),16),zG=A=>ch(A.toString(16)),U1e=async A=>{let{g:e,N:t}=A,r=fAA(e,t),a=await ou(ws([zG(t),r]),Lj.Sha256);return BAA(a)},fAA=(A,e)=>{let t=ch(e.toString(16)).byteLength,r=ch(A.mod(e).toString(16)),a=t-r.byteLength;if(a===0)return r;if(a<0)return r.slice(-2);let j=new Uint8Array(t);return j.set(r,a),j},H1e=async(A,e,t)=>{let{g:r,N:a}=A,j=fAA(e,a),n=fAA(t,a),i=await ou(ws([j,n]),Lj.Sha256),o=BAA(i);if(o.mod(a).equals(Hf.BigInteger.ZERO))throw new Error("Invalid SRP u value (u mod N = 0)");return o},_4=class{constructor(e,t,r){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_UnconfirmedSrpSessionKey",this.toJSON=Oa,this.recieveServerHash=async a=>{let j=await ou(ws([zG(this.bigA),this.m,this.rawKey]),Lj.Sha256),n=Ye(j);if(a!==n)throw new Error("Invalid server hash");return DG.__crypto_internal.new(this.rawKey)},this.__crypto_internal={rawKey:()=>this.rawKey},this.rawKey=e,this.m=t,this.bigA=r}get clientHash(){return Ye(this.m)}};YIA=_4;_4.__crypto_internal={new:async(A,e,t,r,a,j)=>{let n=await V1e(e,j,a,t,r,A);return new YIA(A,n,t)}};var V1e=async(A,e,t,r,a,j)=>{let{g:n,N:i}=A,[o,s]=await Promise.all([ou(zG(i),Lj.Sha256),ou(zG(n),Lj.Sha256)]),c=X1e(o,s),u=await ou(mt(e),Lj.Sha256);return ou(ws([c,u,t,zG(r),zG(a),j]),Lj.Sha256)},X1e=(A,e)=>{if(A.length!==e.length)throw new Error("cannot xor with mismatched lengths");let t=new Uint8Array(A.length);for(let[r,a]of A.entries()){let j=e[r];if(j===void 0)throw new Error("xor: bByte undefined");t[r]=a^j}return t};var ZIA,Xf=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_SrpV",this.toJSON=Oa,this.exportServerHex=async()=>hR(this.v),this.group=e,this.v=t}};ZIA=Xf;Xf.__crypto_internal={fromBigInt:async(A,e)=>new ZIA(A,e)};var BR,EAA=32,Is=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_SrpX",this.toJSON=Oa,this.exportBytes=()=>{let t=ch(this.x.toString(16)),r=EAA-t.length;if(r===0)return t;if(r<0)throw new Error(`SrpX bytes exceeded expected length ${r}`);let a=new Uint8Array(EAA).fill(0);return a.set(t,r),a},this.exportHex=()=>xo(this.exportBytes()),this.exportBase64Url=()=>Ye(ch(this.exportHex())),this.verifier=async t=>{let{g:r,N:a}=t;return Xf.__crypto_internal.fromBigInt(t,r.modPow(this.x,a))},this.beginAuth=async(t,r,a)=>Vf.__crypto_internal.new(this.x,t,r,a),this.x=e}};BR=Is;Is.fromRawBytes=async A=>{if(A.length>EAA)throw new Error("Bad key len");return new BR(new QIA.BigInteger(xo(A),16))};Is.generateForTrustedDevice=async()=>BR.fromRawBytes(Kj(32));Is.fromHex=async A=>BR.fromRawBytes(ch(A));var D4,A4A=Wf.readonly(Wf.exact(Wf.type({srpx:Wf.string,auk:Ml})),"SerializedCredentialBundle"),ol=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_CredentialBundle",this.toJSON=Oa,this.__crypto_internal={serialize:async()=>Ua(A4A.encode({srpx:Ye(this.srpx.exportBytes()),auk:await this.auk.exportJwk()}))},this.srpx=e,this.auk=t}};D4=ol;ol.new=async A=>new D4(A.srpx,A.auk);ol.generateForTrustedDevice=async()=>D4.new({srpx:await Is.generateForTrustedDevice(),auk:await Ta.generateForTrustedDevice()});ol.forActiveUser=async A=>{if(!A.user?.masterKey)throw new Error("No auk found");let e=A.user?.masterKey;if(!(e instanceof Ta))throw new TypeError("Master key is not a valid Auk");if(!A.session.auth?.srpX)throw new Error("No srpx found");let t=await Is.fromHex(A.session.auth.srpX);return D4.new({srpx:t,auk:e})};ol.unsafeIfInputNotTrustworthyDeserialize=async A=>{let e=Ke(A,xr.pipe(A4A)).unwrap();return D4.new({srpx:await Is.fromRawBytes(Je(e.srpx)),auk:await Ta.fromJwkWithRandomKdfInfoSsoOnly(e.auk)})};var e4A,vh=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_ManagedAccountKey",this.toJSON=Oa,this.KID=()=>this.uuid,this.exportJwk=async()=>this.key.exportJwk(),this.encrypt=async r=>this.key.encryptJweB(r),this.decrypt=async r=>this.key.decryptJweB(r),this.key=e,this.uuid=t}};e4A=vh;vh.fromJwk=async A=>new e4A(await is.fromJwk(A),A.kid);var hk=AA(OA());var wAA={};Na(wAA,{deobfuscate:()=>K4,obfuscate:()=>R4});var GR=AA(vs());var Fh=AA(vs());var xAA=()=>Kj(12);var W1e=async A=>QA.supports.nativeAesGcm?bAA(A,"cek"):yAA(A,"cek"),bAA=async(A,e)=>{let t=e||lr(),r=await QA.subtle.generateKey(vG(A),!0,["encrypt","decrypt"]);return{type:"native",jwk:await QA.exportKey(t,r,QA.JwkSymKey),imported:r}},yAA=async(A,e)=>await vR({uuid:e||lr(),enc:A,rawKey:QA.getRandomBytes(32)}),r4A=128,t4A=16,Jf=A=>({ciphertext:A.slice(0,-t4A),tag:A.slice(-t4A)}),a4A=async({enc:A,plaintext:e,additionalData:t})=>{let r=await W1e(A);return{...await J1e({key:r,plaintext:e,additionalData:t}),cek:Je(r.jwk.k)}},J1e=async({key:A,plaintext:e,additionalData:t})=>A.type==="native"?ER({key:A.imported,plaintext:e,additionalData:t}):xR({cipher:A.imported,plaintext:e,additionalData:t}),ER=async({key:A,plaintext:e,additionalData:t})=>{let r=xAA(),a={name:A.algorithm.name,iv:r,...t?{additionalData:t}:{},tagLength:r4A},j=await QA.subtle.encrypt(a,A,e),n=new Uint8Array(j);return{iv:r,...Jf(n)}},xR=async({cipher:A,plaintext:e,additionalData:t})=>{let r=xAA(),a=Fh.mode.gcm.encrypt(A,Rj(e),Rj(r),t?Rj(t):void 0,r4A),j=new Uint8Array(Fh.codec.bytes.fromBits(a));return{iv:r,...Jf(j)}},j4A=async({enc:A,cek:e,iv:t,ciphertext:r,additionalData:a,tag:j})=>{let n=await Z1e({enc:A,rawKey:e,uuid:"cek"});return Y1e({key:n,iv:t,ciphertext:r,additionalData:a,tag:j})},Y1e=async({key:A,iv:e,ciphertext:t,additionalData:r,tag:a})=>A.type==="native"?bR({key:A.imported,iv:e,ciphertext:t,additionalData:r,tag:a}):yR({cipher:A.imported,iv:e,ciphertext:t,additionalData:r,tag:a}),bR=async({key:A,ciphertext:e,tag:t,additionalData:r,iv:a})=>{let j={name:A.algorithm.name,iv:a,...r?{additionalData:r}:{},tagLength:t.byteLength*8},n=ws([e,t]),i=await QA.subtle.decrypt(j,A,n);return new Uint8Array(i)},yR=async({cipher:A,ciphertext:e,tag:t,additionalData:r,iv:a})=>{let j=ws([e,t]),n=Fh.mode.gcm.decrypt(A,Rj(j),Rj(a),r?Rj(r):void 0,t.byteLength*8);return new Uint8Array(Fh.codec.bytes.fromBits(n))},vAA=async A=>{let e=vG(A.alg);return await QA.subtle.importKey("jwk",A,e,!0,["encrypt","decrypt"])},n4A=async A=>{let e=Je(A.k);return new Fh.cipher.aes(Rj(e))},Z1e=async A=>QA.supports.nativeAesGcm?FAA(A):vR(A),FAA=async({uuid:A,enc:e,rawKey:t})=>{let r=vG(e);if(t.length*8!==r.length)throw new Error("Invalid raw key length");let a=await QA.subtle.importKey("raw",t,r,!0,["encrypt","decrypt"]);return{type:"native",jwk:await QA.exportKey(A,a,QA.JwkSymKey),imported:a}},vR=async({uuid:A,enc:e,rawKey:t})=>{let r=vG(e);if(t.length*8!==r.length)throw new Error("Invalid raw key length");let a=new Fh.cipher.aes(Rj(t));return{type:"sjcl",jwk:{kid:A,alg:e,kty:"oct",key_ops:["encrypt","decrypt"],k:Ye(t),ext:!0},imported:a}};var i4A,z4="b5+jwk+json",M4=A=>{if(A.kid!==hh)throw new Error("Data is not encrypted with master key");if(!A.alg||!A.p2c||!A.p2s)throw new Error("Missing derivation info");return{alg:A.alg,enc:A.enc,iterations:A.p2c,salt:A.p2s}},su=class{constructor(e=""){this.generate=async(t,r)=>{if(this.uuid)throw new Error("SymmetricKey UUID already exists, will not regenerate.");let{imported:a,jwk:j}=await bAA(t,r);return this.key=a,this.jwk=j,this.uuid=j.kid,this.jwk},this.importRawKey=async(t,r)=>{let{imported:a,jwk:j}=await FAA({uuid:this.uuid,enc:t,rawKey:r});return this.key=a,this.jwk=j,this.uuid=j.kid,this.jwk},this.encrypt=async t=>{if(!this.key)throw new Error("Missing key");if(!this.jwk||!this.jwk.alg)throw new Error("Missing JWK alg");if(this.uuid===hh&&!this.derivation)throw new Error("Missing derivation info for MUK");let{iv:r,ciphertext:a,tag:j}=await ER({key:this.key,plaintext:t}),n=ws([a,j]);return{kid:this.uuid,enc:this.jwk.alg,cty:z4,iv:Ye(r),data:Ye(n)}},this.decrypt=async t=>{if(z4!==t.cty)throw new Error("Unexpected content type");if(t.kid!==this.uuid)throw new Error("Key IDs do not match");if(!t.iv)throw new Error("Missing initialization vector");if(!this.key)throw new Error("Missing key");let{ciphertext:r,tag:a}=Jf(Je(t.data));return await bR({key:this.key,ciphertext:r,tag:a,iv:Je(t.iv)})},this.encryptFile=async t=>{if(!this.key)throw new Error("Missing key");if(!this.jwk||!this.jwk.alg)throw new Error("Missing JWK alg");let{iv:r,ciphertext:a,tag:j}=await ER({key:this.key,plaintext:t});return{data:ws([a,j]),iv:Ye(r)}},this.decryptFile=async t=>{let{data:r,iv:a}=t;if(!a)throw new Error("Missing initialization vector");if(!this.key)throw new Error("Missing key");let{ciphertext:j,tag:n}=Jf(r);return await bR({key:this.key,ciphertext:j,tag:n,iv:Je(a)})},this.decryptWithKeyset=async(t,r)=>d4(r.enc)?this.decryptWithKey(t.symKey,r):this.decryptWithKey(t.ekeyPair,r),this.decryptWithKey=async(t,r)=>{let a=await t.decrypt(r);return this.jwk=Ke(a,xr.pipe(Ml)).unwrap(),this.uuid=this.jwk.kid,this.key=await vAA(this.jwk),this},this.encryptWithKey=async t=>{if(!this.jwk)throw new Error("Missing JWK");return t.encrypt(Ua(this.jwk))},this.uuid=e}};i4A=su;su.newFromJwkSymKey=async A=>{let e=new i4A(A.kid);return e.key=await vAA(A),e.jwk=A,e};var o4A="b5+jwk+json",aa=A=>gh.nativeAesGcm?new su(A):new FR(A),A$e=async(A,e)=>{let t=aa(hh);return await t.importRawKey(A,e),t},FR=class extends su{constructor(e){super(e),this.generate=async(t,r)=>{if(this.uuid)throw new Error("SymmetricKeyPf UUID already exists, will not regenerate");let{imported:a,jwk:j}=await yAA(t,r);return this.jwk=j,this.uuid=j.kid,this.cipher=a,j},this.importRawKey=async(t,r)=>{let{imported:a,jwk:j}=await vR({uuid:this.uuid,enc:t,rawKey:r});return this.cipher=a,this.jwk=j,this.jwk},this.encrypt=async t=>{if(!this.jwk||!this.jwk.alg)throw new Error("Missing JWK alg.");if(!this.cipher)throw new Error("Missing cipher");if(this.uuid===hh&&!this.derivation)throw new Error("Missing derivation info for MUK");let{iv:r,ciphertext:a,tag:j}=await xR({cipher:this.cipher,plaintext:t}),n=ws([a,j]);return{kid:this.uuid,enc:this.jwk.alg,cty:o4A,iv:Ye(r),data:Ye(n)}},this.decrypt=async t=>{if(o4A!==t.cty)throw new Error("Unexpected content type.");if(t.kid!==this.uuid)throw new Error("Key IDs do not match.");if(!t.iv)throw new Error("Missing initialization vector");if(!this.cipher)throw new Error("Missing cipher");let{ciphertext:r,tag:a}=Jf(Je(t.data));return await yR({cipher:this.cipher,ciphertext:r,tag:a,iv:Je(t.iv)})},this.encryptFile=async t=>{if(!this.key)throw new Error("Missing key");if(!this.jwk||!this.jwk.alg)throw new Error("Missing JWK alg");if(!this.cipher)throw new Error("Missing cipher");let{iv:r,ciphertext:a,tag:j}=await xR({cipher:this.cipher,plaintext:t});return{data:ws([a,j]),iv:Ye(r)}},this.decryptFile=async t=>{let{data:r,iv:a}=t;if(!a)throw new Error("Missing initialization vector");if(!this.key)throw new Error("Missing key");if(!this.cipher)throw new Error("Missing cipher");let{ciphertext:j,tag:n}=Jf(r);return await yR({cipher:this.cipher,ciphertext:j,tag:n,iv:Je(a)})},this.decryptWithKey=async(t,r)=>{let a=await t.decrypt(r),j=xr.pipe(Ml);return this.jwk=Ke(a,j).unwrap(),this.uuid=this.jwk.kid,this.cipher=await n4A(this.jwk),this}}};var s4A="03h4kf8euth5ks9skel3lfis9s",e$e="f737s0",GAA="3tnqywhecddkhvl375l6yu7qri",t$e="Obfuscation Does Not Provide Security But It Doesn't Hurt",l4A=GR.codec.hex.fromBits(GR.hash.sha1.hash(t$e)).slice(0,32),R4=async A=>{let e=mt(l4A),t=aa(GAA);return await t.importRawKey(ba,e),t.encrypt(mt(A))},K4=async A=>{if(!A)return"";let e="",t="";if(A.kid===s4A)e=Fj.device.uuid+e$e,t=s4A;else if(A.kid===GAA)e=l4A,t=GAA;else throw new Error("Unrecognized key ID.");if(e.length!==32)throw new Error("Missing or invalid obfuscation key.");let r=aa(t);await r.importRawKey(ba,mt(e));let a=await r.decrypt(A);return Di(a)};var qAA,kk=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_PRIMITIVES_GENERALIZED_KEYS_HkdfKey",this.toJSON=Oa,this.deriveExportableCryptoKey=async(r,a,j)=>$a.deriveKey({name:"HKDF",...r},this.kdfKey,a,!0,j),this.deriveAes256Key=async(r,a)=>{let j=await this.deriveExportableCryptoKey(r,{name:"AES-GCM",length:256},["encrypt","decrypt"]),n=new Uint8Array(await $a.exportKey("raw",j));return g6.fromRawBytes(n,a)},this.deriveCryptoKey=async(r,a,j)=>$a.deriveKey({name:"HKDF",...r},this.kdfKey,a,!1,j),this.hkdfOutput=async r=>this.hkdfOutputWithCustomSalt({hash:r.hash,info:r.info,salt:new Uint8Array,len:r.len}),this.hkdfOutputWithCustomSalt=async r=>{let a={name:"HKDF",hash:r.hash,info:r.info,salt:r.salt};return new Uint8Array(await $a.deriveBits(a,this.kdfKey,r.len*8))},this.exportRawIkm=()=>this.rawIkm,this.rawIkm=e,this.kdfKey=t,this.length=e.length}};qAA=kk;kk.generate=async()=>qAA.fromRawBytes(Kj(32));kk.fromRawBytes=async A=>{if(A.length<32)throw new Error("Bad key len");let e=await $a.importKey("raw",A,{name:"HKDF"},!1,["deriveKey","deriveBits"]);return new qAA(A,e)};var L4,r$e="2",a$e=hk.readonly(hk.exact(hk.type({kid:hk.string,k:hk.string,s:hk.string})),"SerializedDeviceKey"),wR=class{constructor(){this.KEY_DOMAIN_SEPARATOR="1P_SSO_CREDENTIAL_BUNDLE_KEY:LOCAL",this.AD_DOMAIN_SEPARATOR="1P_SSO_CREDENTIAL_BUNDLE:LOCAL"+r$e}async serialize(e){return e.__crypto_internal.serialize()}async deserialize(e){return ol.unsafeIfInputNotTrustworthyDeserialize(e)}},f6=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_DeviceKey",this.toJSON=Oa,this.computeContextSummary=async(r,a)=>{let j=await this.hkdfKey.deriveCryptoKey({hash:"SHA-384",info:mt("1P_DEVICE_KEY_CONTEXT_SUMMARY_KEY"),salt:mt(this.kid)},{name:"HMAC",hash:"SHA-384"},["sign"]),n=await $a.sign({name:"HMAC"},j,Ua({accountUuid:r,userUuid:a}));return Ye(new Uint8Array(n))},this.serialize=async(r,a)=>{let j={kid:this.kid,k:Ye(this.hkdfKey.exportRawIkm()),s:await this.computeContextSummary(r,a)};return JSON.stringify(j)},this.deriveAes256JwebKey=async r=>is.fromAes256Key(await this.hkdfKey.deriveAes256Key({hash:"SHA-384",info:mt(r.KEY_DOMAIN_SEPARATOR),salt:mt(this.kid)},this.kid)),this.encrypt=async(r,a)=>(await this.deriveAes256JwebKey(r)).encryptJweB(await r.serialize(a),mt(r.AD_DOMAIN_SEPARATOR)),this.decrypt=async(r,a)=>{let n=await(await this.deriveAes256JwebKey(r)).decryptJweB(a,mt(r.AD_DOMAIN_SEPARATOR));return r.deserialize(n)},this.encryptCredentialBundle=async r=>this.encrypt(new wR,r),this.decryptCredentialBundle=async r=>this.decrypt(new wR,r),this.exportObfuscated=async(r,a)=>{let j=await R4(await this.serialize(r,a));return JSON.stringify(j)},this.kid=e,this.hkdfKey=t}};L4=f6;f6.generate=async()=>L4.fromRawBytes(Kj(32),lr());f6.fromRawBytes=async(A,e)=>{if(A.length!==32)throw new Error("Bad key len");return new L4(e,await kk.fromRawBytes(A))};f6.fromSerialized=async(A,e,t)=>{let r=Ke(A,Fs.pipe(a$e)).unwrap(),a=await L4.fromRawBytes(Je(r.k),r.kid);if(await a.computeContextSummary(e,t)!==r.s)throw new Error("Bad summary value");return a};f6.fromObfuscated=async(A,e,t)=>{let r=Ke(A,Fs.pipe(no)).unwrap();return L4.fromSerialized(await K4(r),e,t)};var p4A=AA(u4A());var d4A,m4A,j$e=Symbol(),MG=class{constructor(e,t){this[m4A]="B5_CRYPTO_KEYS_ServiceAccountThrottleKeypair",this.toJSON=Oa,this.exportSeed=()=>this.seed,this.getPublicKey=async()=>this.pub,this.getPublicKeyHex=async()=>xo(this.pub),this.seed=e,this.pub=t}};d4A=MG,m4A=j$e;MG.generate=async()=>{let A=Kj(32),e=p4A.sign.keyPair.fromSeed(A);return new d4A(A,e.publicKey)};var gk,yo;(function(A){A.A2="A2",A.A3="A3",A.TrustedDevice="TD"})(yo||(yo={}));var $AA=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_SecretKey_UnknownFormat",this.format=e}toString(){return this.format}},$R="23456789ABCDEFGHJKLMNPQRSTVWXYZ",Gn=class{constructor(e,t,r){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_SecretKey",this.toJSON=Oa,this.identifier=()=>`${this.format.toString()}-${this.id}`,this.maskedString=()=>this.identifier()+" \u2022\u2022\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022",this.unwrapFormatAsKnown=()=>{let a=this.format;switch(a){case yo.A3:case yo.A2:case yo.TrustedDevice:return a;default:throw new Error("Unknown secret key format")}},this.formatKey=()=>{let a=this.rawKeyMaterial,j;try{j=this.unwrapFormatAsKnown()}catch{throw new Error("Cannot display secret key with unknown format")}switch(j){case yo.A3:return[a.slice(0,6),a.slice(6,11),a.slice(11,16),a.slice(16,21),a.slice(21,26)].join("-");case yo.A2:return[a.slice(0,5),a.slice(5,10),a.slice(10,15),a.slice(15,20),a.slice(20,25)].join("-");case yo.TrustedDevice:return new Array(6).join("*")}},this.exportSensitiveReadableString=()=>{let a=this.formatKey();return`${this.identifier()}-${a}`},this.combineWithBytes=async a=>{let j=mt(this.rawKeyMaterial),n=mt(this.format.toString()),i=mt(this.id),o=await fd(Lj.Sha256,j,n,i,a.length),s=new Uint8Array(a.length);for(let[c,u]of a.entries()){let p=o[c];if(p===void 0)throw new Error("combineWithBytes: personalByte undefined");s[c]=u^p}return s},this.id=e,this.format=t,this.rawKeyMaterial=r}async exportObfuscated(){return R4(this.exportSensitiveReadableString())}static async fromObfuscated(e){return gk.fromInput(await K4(e))}isTrustedDeviceFormat(){return this.format===yo.TrustedDevice}__testKeyStrLen(){return this.rawKeyMaterial.length}__testKeyMaterialEquals(e){return this.rawKeyMaterial===e.rawKeyMaterial}};gk=Gn;Gn.validateExpectedFormat=(A,e)=>{let{id:t,rawKeyMaterial:r}=e;switch(A){case yo.A2:{if(e.id.length!==6)throw new Error(`Invalid SecretKey ID length; expected 6, got: ${t.length}`);if(e.rawKeyMaterial.length!==25)throw new Error(`Invalid SecretKey key length; expected 25, got: ${r.length}`);break}case yo.A3:{if(e.id.length!==6)throw new Error(`Invalid SecretKey ID length; expected 6, got: ${t.length}`);if(e.rawKeyMaterial.length!==26)throw new Error(`Invalid SecretKey key length; expected 26, got: ${r.length}`);break}case yo.TrustedDevice:{if(t.length!==6)throw new Error(`Invalid SecretKey ID length; expected 6, got: ${t.length}`);if(r.length!==0)throw new Error(`Invalid SecretKey key length; expected 0, got: ${r.length}`);break}default:throw new Error("Unreachable")}};Gn.validateParams=A=>{let{id:e,format:t,rawKeyMaterial:r}=A,a;switch(A.format){case yo.A2:case yo.A3:case yo.TrustedDevice:{a=A.format,gk.validateExpectedFormat(a,{id:e,rawKeyMaterial:r});break}default:{a=new $AA(A.format),gk.validateExpectedFormat(yo.A3,{id:e,rawKeyMaterial:r});break}}return{id:e,format:a,rawKeyMaterial:r}};Gn.new=A=>{let{id:e,format:t,rawKeyMaterial:r}=gk.validateParams(A);return new gk(e,t,r)};Gn.generate=async()=>gk.new({id:xh($R,6)[0],format:yo.A3,rawKeyMaterial:xh($R,26)[0]});Gn.generateForTrustedDevice=async()=>gk.new({id:xh($R,6)[0],format:yo.TrustedDevice,rawKeyMaterial:""});Gn.forTrustedDevice=async A=>gk.new({id:A,format:yo.TrustedDevice,rawKeyMaterial:""});Gn.fromInput=A=>{let e=new RegExp(`[^${$R}]`,"gmi");A=A.toUpperCase().replace(e,"");let t=A.slice(0,2),r=A.slice(2,8),a=A.slice(8);return gk.new({id:r,format:t,rawKeyMaterial:a})};var k4A,h4A,g4A="b5x_autofill_parent_key",RG=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_UrlAutofillParentKey",this.toJSON=Oa,this.deriveSessionKey=async t=>{let r=Math.floor(t/1e3),a=iZ(r-r%10,8),j=new Uint8Array(0),n=await fd(Lj.Sha256,this.rawKey,a,j,32);return xb.fromBytes(n)},this.rawKey=e,this.kid=g4A}};k4A=RG;RG.fromAuk=async A=>{let e=await A.exportJwk(),t=mt(g4A),r=new Uint8Array(0),a=await fd(Lj.Sha256,Je(e.k),t,r,32);return new k4A(a)};var n$e="b5x_session_subkey",xb=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_UrlAutofillSessionKey",this.toJSON=Oa,this.decrypt=async t=>{if(t.length!==54)throw new Error("Input bytes to decrypt() are incorrect length.");let j=t.slice(0,12),n=t.slice(12),i=bh.new({data:n,iv:j}),o=await this.key.decryptRaw(i);return Di(o)},this.key=e}};h4A=xb;xb.fromBytes=async A=>{let e=await g6.fromRawBytes(A,n$e);return new h4A(e)};var PAA,Gh,E4A,x4A,ac;(function(A){A.V1="v1"})(ac||(ac={}));var bMt=ac.V1,bb="1PRK",IAA=52,b4A=IAA+bb.length,i$e=mt("1P_RECOVERY_KEY_UUID"),o$e="1P_RECOVERY_KEY_AUTH_",f4A="1P_RECOVERY_KEY_ENC_",B4A=mt("1P_RECOVERY_KEY_ENC_RECOVERABLE_MATERIAL_v1"),y4A=mt("1P_ENC_KEY_RECOVERY_KEY_AD_v1"),yb=class{constructor(e,t){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_InputRecoveryKey",this.toJSON=Oa,this.toRecoveryKey=async r=>Ed.__crypto_internal.fromHkdfKey(r,this.rawKey),this.rawKey=t,this.kid=e}};PAA=yb;yb.fromBytes=async A=>{if(A.length!==32)throw new Error(`Bad key length: ${A.length}`);let e=await kk.fromRawBytes(A),t=await v4A(e);return new PAA(t,e)};yb.fromPaperKey=async A=>{if(!A.startsWith(bb))throw new Error("Bad paper key: unknown prefix");let t=A.slice(bb.length).replace(new RegExp("[-]","g"),"").toUpperCase().replace(new RegExp("[0]","g"),"O").replace(new RegExp("[1]","g"),"I"),r=await s$e(t);return PAA.fromBytes(r)};var v4A=async A=>RI(await A.hkdfOutput({hash:Lj.Sha256,info:i$e,len:16})).toLowerCase(),s$e=async A=>{let e=oZ(A);if(RI(e)!==A)throw new Error("invalid base32 input");return e},Ed=class{constructor(e,t,r,a,j){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_RecoveryKey",this.toJSON=Oa,this.__crypto_internal={authKey:()=>this.authKey,encKey:()=>this.encKey},this.rawKeyAsBase32=()=>RI(this.rawKey.exportRawIkm()).toUpperCase(),this.rawKeyAsChunkedBase32=()=>{let n=this.rawKeyAsBase32();if(n.length!==IAA)throw new Error(`Malformed recovery key: bad serialised length: ${n.length}`);let i=[],o=4;for(let s=0;s<IAA;s+=o)i.push(n.slice(s,s+o));return i.join("-")},this.serialiseToSensitivePaperKey=async()=>bb+"-"+this.rawKeyAsChunkedBase32(),this.serialiseToObfuscatedPaperKey=async()=>{let n=this.rawKeyAsChunkedBase32(),i=n.slice(n.length-4);return bb+" \u2022\u2022\u2022\u2022\u2022\u2022 "+i},this.encryptSelfAndKeyset=async n=>{switch(this.version){case ac.V1:{let[i,o]=await Promise.all([this.encryptSelfWithKeysetV1(n),this.encKey.encryptKeyset(n)]);return{encRecoveryKey:i,encKeysetSymKey:o}}}},this.decryptKeysetSymKey=async n=>this.encKey.decryptKeysetSymKey(n),this.beginAuth=async()=>this.authKey.beginAuth(this.kid),this.exportVerifier=async()=>this.authKey.exportVerifier().then(n=>({srpv:n})),this.checkIntegrity=async(n,i,o,s)=>{if(n.symKey.jwk===void 0)throw new Error("missing user keyset symmetric key");let c=await ou(Ua(i),Lj.Sha256);if(Ye(c)!==o)throw new Error("integrity check failed for recoverable material");if((await this.decryptKeysetSymKey(i)).k!==n.symKey.jwk.k)throw new Error("decrypted keyset does not match expected keyset");let p=await Gh.decryptFromKeyset(this.version,n,s);if(Ye(p.rawKey.exportRawIkm())!==Ye(this.rawKey.exportRawIkm()))throw new Error("decrypted recovery key does not match recovery key")},this.encryptSelfWithKeysetV1=async n=>{if(n.symKey.jwk===void 0)throw new Error("Keyset symmetric key not exportable");return(await is.fromJwk(n.symKey.jwk)).encryptJweB(this.rawKey.exportRawIkm(),y4A)},this.version=e,this.rawKey=r,this.kid=t,this.authKey=a,this.encKey=j}};Gh=Ed;Ed.__crypto_internal={fromHkdfKey:async(A,e)=>{let t=await v4A(e),[r,a]=await Promise.all([Gh.deriveAuthKeyV1(e),Gh.deriveEncKeyV1(t,e)]);return new Gh(A,t,e,r,a)},fromBytes:async(A,e)=>{let t=await kk.fromRawBytes(e);return Gh.__crypto_internal.fromHkdfKey(A,t)}};Ed.generate=async(A=ac.V1)=>Gh.__crypto_internal.fromBytes(A,Kj(32));Ed.decryptFromKeyset=async(A,e,t)=>{if(e.symKey.jwk===void 0)throw new Error("Keyset symmetric key not exportable");switch(A){case ac.V1:return Gh.decryptRecoveryKeyWithKeysetV1(e,t)}};Ed.deriveAuthKeyV1=async A=>N4.fromBytes(await A.hkdfOutput({hash:Lj.Sha256,info:mt(o$e+ac.V1),len:32}));Ed.deriveEncKeyV1=async(A,e)=>U4.fromBytes(await e.hkdfOutput({hash:Lj.Sha256,info:mt(f4A+ac.V1),len:32}),A+":"+f4A+ac.V1);Ed.decryptRecoveryKeyWithKeysetV1=async(A,e)=>{if(A.symKey.jwk===void 0)throw new Error("Keyset symmetric key not exportable");let r=await(await is.fromJwk(A.symKey.jwk)).decryptJweB(e,y4A);return Gh.__crypto_internal.fromBytes(ac.V1,r)};var N4=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_RecoveryAuthKeyV1",this.toJSON=Oa,this.beginAuth=async t=>this.srpx.beginAuth(fR[yh.Group4096],new Uint8Array(16).fill(0),t),this.exportVerifier=async()=>this.srpx.verifier(fR[yh.Group4096]).then(async t=>t.exportServerHex()),this.__crypto_internal={srpx:()=>this.srpx},this.srpx=e}};E4A=N4;N4.fromBytes=async A=>new E4A(await Is.fromRawBytes(A));var U4=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPERATOR="B5_CRYPTO_KEYS_RecoveryEncKeyV1",this.toJSON=Oa,this.encryptKeyset=async t=>{if(t.symKey.jwk===void 0)throw new Error("Keyset symmetric key not exportable");return this.key.encryptJweB(Ua(Ml.encode(t.symKey.jwk)),B4A)},this.decryptKeysetSymKey=async t=>{let r=await this.key.decryptJweB(t,B4A);return Ke(r,xr.pipe(Ml)).unwrap()},this.__crypto_internal={key:()=>this.key},this.key=e}};x4A=U4;U4.fromBytes=async(A,e)=>new x4A(await is.fromRawBytes(A,e));var F4A,G4A="1P_WEB_TAG_ROUTE_HKDF_KEY",KG=class{constructor(e){this._PHANTOM_TYPE_DOMAIN_SEPARATOR="B5_CRYPTO_KEYS_TagRouteKey",this.toJSON=Oa,this.hmacTag=t=>{let r=Bb(this.rawKey,t);return Nf(r)},this.rawKey=e,this.kid=G4A}};F4A=KG;KG.fromActiveKeyset=async A=>{let e=A.symKey.jwk;if(!e)throw new Error("fromActiveKeyset could not find symmetric key");let t=mt(G4A),r=new Uint8Array(0),a=await fd(Lj.Sha256,Je(e.k),t,r,32);return new F4A(a)};var sj=AA(OA());var jc=AA(OA());var IR=(A,e)=>jc.exact(jc.type(A),e),l$e=(A,e)=>jc.exact(jc.partial(A),e),$4A=1,Yf=2,lu=class{constructor(e,t,r,a){this.toBytes=()=>{let j=new ArrayBuffer(1+Yf+this.kid.length+Yf+this.purpose.length+Yf+this.content.length),n=new DataView(j),i=0;n.setUint8(i,$4A),i+=1;let o=mt(this.kid);i+=w4A(n,i,o);let s=mt(this.purpose);if(i+=w4A(n,i,s),i+=I4A(n,i,this.purposeVersion),i+=P4A(n,i,this.content),i!==j.byteLength)throw new Error("written invalid byte length");return new Uint8Array(j)},this.toBase64Url=()=>Ye(this.toBytes()),this.toJSON=this.toBase64Url,this.kid=e,this.purpose=t,this.purposeVersion=r,this.content=a}};lu.fromParts=A=>new lu(A.kid,A.purpose,A.purposeVersion,A.content);lu.fromBytes=A=>{let e=A.buffer,t=new DataView(e),r=0,a=t.getUint8(r);if(r+=1,a!==$4A)throw new Error(`unknown envelope format version ${a}`);let{bytes:j,len:n}=q4A(t,r);r+=n;let{bytes:i,len:o}=q4A(t,r);r+=o;let s=S4A(t,r);r+=Yf;let c=Di(j),u=Di(i),p=C4A(t,r,t.byteLength-r);return lu.fromParts({kid:c,purpose:u,purposeVersion:s,content:p})};lu.fromBase64Url=A=>lu.fromBytes(Je(A));var I4A=(A,e,t)=>{if(t>65535||t<0)throw new Error("unsupported number");return A.setUint16(e,t,!0),Yf},P4A=(A,e,t)=>{for(let[r,a]of t.entries())A.setUint8(e+r,a);return t.length},w4A=(A,e,t)=>{let r=I4A(A,e,t.length);return Yf+P4A(A,e+r,t)},S4A=(A,e)=>A.getUint16(e,!0),C4A=(A,e,t)=>{let r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=A.getUint8(e+a);return r},q4A=(A,e)=>{let t=S4A(A,e),r=C4A(A,e+Yf,t);return{len:Yf+t,bytes:r}},SAA=new jc.Type("Envelope",A=>A instanceof lu,(A,e)=>{if(typeof A!="string")return jc.failure(A,e,"input is not a string");let t;try{t=lu.fromBase64Url(A)}catch{return jc.failure(A,e,"failed to decode input")}return jc.success(t)},A=>A.toBase64Url());var nc=AA(OA());var CAA,O4A="1P_ENVELOPE_VAULT_REPORTING_ITEM_SNAPSHOT",T4A=1,_4A=IR({encKey:nc.string,data:nc.string,additionalData:nc.string},"VaultSnapshotContent"),H4=IR({clientCreatedAt:nc.string,hasUrl:nc.boolean,itemVersion:nc.number,payloadVersion:nc.number,templateUuid:nc.string,timestamp:nc.string,vaultItemUuid:nc.string,isBusinessRelated:nc.boolean},"VaultSnapshotAdditionalData"),wh=class{constructor(e,t,r,a){this.toEnvelope=()=>{let j={encKey:Ye(this.encKey),data:Ye(this.data),additionalData:Ye(this.unauthenticatedRawAd)};return lu.fromParts({kid:this.kid,purpose:O4A,purposeVersion:T4A,content:xr.pipe(_4A).encode(j)})},this.kid=e,this.encKey=t,this.data=r,this.unauthenticatedRawAd=a,this.unauthenticatedDecoded=Ke(a,xr.pipe(H4)).unwrap()}};CAA=wh;wh.fromEnvelope=async A=>{if(A.purpose!==O4A)throw new Error("invalid purpose");if(A.purposeVersion!==T4A)throw new Error("invalid purpose version");let e=Ke(A.content,xr.pipe(_4A)).unwrap();return new CAA(A.kid,Je(e.encKey),Je(e.data),Je(e.additionalData))};wh.fromPieces=(A,e,t,r)=>new CAA(A,e,t,r);var Ir,$h=new Array(128).fill(void 0);$h.push(void 0,null,!0,!1);function ni(A){return $h[A]}var W4=$h.length;function c$e(A){A<132||($h[A]=W4,W4=A)}function PR(A){let e=ni(A);return c$e(A),e}var M4A=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&M4A.decode();var V4=null;function DAA(){return(V4===null||V4.byteLength===0)&&(V4=new Uint8Array(Ir.memory.buffer)),V4}function OAA(A,e){return A=A>>>0,M4A.decode(DAA().subarray(A,A+e))}function zi(A){W4===$h.length&&$h.push($h.length+1);let e=W4;return W4=$h[e],$h[e]=A,e}var X4=null;function B6(){return(X4===null||X4.byteLength===0)&&(X4=new Int32Array(Ir.memory.buffer)),X4}function J4(A,e){return A=A>>>0,DAA().subarray(A/1,A/1+e)}var ic=0;function cu(A,e){let t=e(A.length*1,1)>>>0;return DAA().set(A,t/1),ic=A.length,t}function R4A(A,e,t,r){try{let i=Ir.__wbindgen_add_to_stack_pointer(-16),o=cu(A,Ir.__wbindgen_malloc),s=ic,c=cu(e,Ir.__wbindgen_malloc),u=ic,p=cu(t,Ir.__wbindgen_malloc),h=ic,f=cu(r,Ir.__wbindgen_malloc),G=ic;Ir.seal_x25519_chacha20poly1305(i,o,s,c,u,p,h,f,G);var a=B6()[i/4+0],j=B6()[i/4+1],n=B6()[i/4+2];if(n)throw PR(j);return TAA.__wrap(a)}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}function K4A(A,e,t,r,a){try{let c=Ir.__wbindgen_add_to_stack_pointer(-16),u=cu(A,Ir.__wbindgen_malloc),p=ic,h=cu(e,Ir.__wbindgen_malloc),f=ic,G=cu(t,Ir.__wbindgen_malloc),w=ic,y=cu(r,Ir.__wbindgen_malloc),E=ic,$=cu(a,Ir.__wbindgen_malloc),T=ic;Ir.open_x25519_chacha20poly1305(c,u,p,h,f,G,w,y,E,$,T);var j=B6()[c/4+0],n=B6()[c/4+1],i=B6()[c/4+2],o=B6()[c/4+3];if(o)throw PR(i);var s=J4(j,n).slice();return Ir.__wbindgen_free(j,n*1,1),s}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}function qh(A,e){try{return A.apply(this,e)}catch(t){Ir.__wbindgen_exn_store(zi(t))}}var D4A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>Ir.__wbg_encappedkeyandciphertext_free(A>>>0)),TAA=class A{static __wrap(e){e=e>>>0;let t=Object.create(A.prototype);return t.__wbg_ptr=e,D4A.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,D4A.unregister(this),e}free(){let e=this.__destroy_into_raw();Ir.__wbg_encappedkeyandciphertext_free(e)}get encapped_key(){try{let a=Ir.__wbindgen_add_to_stack_pointer(-16);Ir.__wbg_get_encappedkeyandciphertext_encapped_key(a,this.__wbg_ptr);var e=B6()[a/4+0],t=B6()[a/4+1],r=J4(e,t).slice();return Ir.__wbindgen_free(e,t*1,1),r}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}set encapped_key(e){let t=cu(e,Ir.__wbindgen_malloc),r=ic;Ir.__wbg_set_encappedkeyandciphertext_encapped_key(this.__wbg_ptr,t,r)}get ciphertext(){try{let a=Ir.__wbindgen_add_to_stack_pointer(-16);Ir.__wbg_get_encappedkeyandciphertext_ciphertext(a,this.__wbg_ptr);var e=B6()[a/4+0],t=B6()[a/4+1],r=J4(e,t).slice();return Ir.__wbindgen_free(e,t*1,1),r}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}set ciphertext(e){let t=cu(e,Ir.__wbindgen_malloc),r=ic;Ir.__wbg_set_encappedkeyandciphertext_ciphertext(this.__wbg_ptr,t,r)}},z4A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>Ir.__wbg_hpkeerror_free(A>>>0)),_AA=class A{static __wrap(e){e=e>>>0;let t=Object.create(A.prototype);return t.__wbg_ptr=e,z4A.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,z4A.unregister(this),e}free(){let e=this.__destroy_into_raw();Ir.__wbg_hpkeerror_free(e)}},u$e=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>Ir.__wbg_x25519keypair_free(A>>>0)),SR=class{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,u$e.unregister(this),e}free(){let e=this.__destroy_into_raw();Ir.__wbg_x25519keypair_free(e)}get public_key(){try{let a=Ir.__wbindgen_add_to_stack_pointer(-16);Ir.__wbg_get_encappedkeyandciphertext_encapped_key(a,this.__wbg_ptr);var e=B6()[a/4+0],t=B6()[a/4+1],r=J4(e,t).slice();return Ir.__wbindgen_free(e,t*1,1),r}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}set public_key(e){let t=cu(e,Ir.__wbindgen_malloc),r=ic;Ir.__wbg_set_encappedkeyandciphertext_encapped_key(this.__wbg_ptr,t,r)}get private_key(){try{let a=Ir.__wbindgen_add_to_stack_pointer(-16);Ir.__wbg_get_encappedkeyandciphertext_ciphertext(a,this.__wbg_ptr);var e=B6()[a/4+0],t=B6()[a/4+1],r=J4(e,t).slice();return Ir.__wbindgen_free(e,t*1,1),r}finally{Ir.__wbindgen_add_to_stack_pointer(16)}}set private_key(e){let t=cu(e,Ir.__wbindgen_malloc),r=ic;Ir.__wbg_set_encappedkeyandciphertext_ciphertext(this.__wbg_ptr,t,r)}constructor(){let e=Ir.x25519keypair_new();return this.__wbg_ptr=e>>>0,this}};async function d$e(A,e){if(typeof Response=="function"&&A instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(A,e)}catch(r){if(A.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let t=await A.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{let t=await WebAssembly.instantiate(A,e);return t instanceof WebAssembly.Instance?{instance:t,module:A}:t}}function m$e(){let A={};return A.wbg={},A.wbg.__wbg_hpkeerror_new=function(e){let t=_AA.__wrap(e);return zi(t)},A.wbg.__wbindgen_object_drop_ref=function(e){PR(e)},A.wbg.__wbg_crypto_1d1f22824a6a080c=function(e){let t=ni(e).crypto;return zi(t)},A.wbg.__wbindgen_is_object=function(e){let t=ni(e);return typeof t=="object"&&t!==null},A.wbg.__wbg_process_4a72847cc503995b=function(e){let t=ni(e).process;return zi(t)},A.wbg.__wbg_versions_f686565e586dd935=function(e){let t=ni(e).versions;return zi(t)},A.wbg.__wbg_node_104a2ff8d6ea03a2=function(e){let t=ni(e).node;return zi(t)},A.wbg.__wbindgen_is_string=function(e){return typeof ni(e)=="string"},A.wbg.__wbg_require_cca90b1a94a0255b=function(){return qh(function(){let e=module.require;return zi(e)},arguments)},A.wbg.__wbindgen_is_function=function(e){return typeof ni(e)=="function"},A.wbg.__wbindgen_string_new=function(e,t){let r=OAA(e,t);return zi(r)},A.wbg.__wbg_msCrypto_eb05e62b530a1508=function(e){let t=ni(e).msCrypto;return zi(t)},A.wbg.__wbg_randomFillSync_5c9c955aa56b6049=function(){return qh(function(e,t){ni(e).randomFillSync(PR(t))},arguments)},A.wbg.__wbg_getRandomValues_3aa56aa6edec874c=function(){return qh(function(e,t){ni(e).getRandomValues(ni(t))},arguments)},A.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){let r=new Function(OAA(e,t));return zi(r)},A.wbg.__wbg_call_27c0f87801dedf93=function(){return qh(function(e,t){let r=ni(e).call(ni(t));return zi(r)},arguments)},A.wbg.__wbindgen_object_clone_ref=function(e){let t=ni(e);return zi(t)},A.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return qh(function(){let e=self.self;return zi(e)},arguments)},A.wbg.__wbg_window_c6fb939a7f436783=function(){return qh(function(){let e=window.window;return zi(e)},arguments)},A.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return qh(function(){let e=globalThis.globalThis;return zi(e)},arguments)},A.wbg.__wbg_global_207b558942527489=function(){return qh(function(){let e=global.global;return zi(e)},arguments)},A.wbg.__wbindgen_is_undefined=function(e){return ni(e)===void 0},A.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return qh(function(e,t,r){let a=ni(e).call(ni(t),ni(r));return zi(a)},arguments)},A.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){let t=ni(e).buffer;return zi(t)},A.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,r){let a=new Uint8Array(ni(e),t>>>0,r>>>0);return zi(a)},A.wbg.__wbg_new_63b92bc8671ed464=function(e){let t=new Uint8Array(ni(e));return zi(t)},A.wbg.__wbg_set_a47bac70306a19a7=function(e,t,r){ni(e).set(ni(t),r>>>0)},A.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){let t=new Uint8Array(e>>>0);return zi(t)},A.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,r){let a=ni(e).subarray(t>>>0,r>>>0);return zi(a)},A.wbg.__wbindgen_throw=function(e,t){throw new Error(OAA(e,t))},A.wbg.__wbindgen_memory=function(){let e=Ir.memory;return zi(e)},A}function p$e(A,e){return Ir=A.exports,L4A.__wbindgen_wasm_module=e,X4=null,V4=null,Ir}async function L4A(A){if(Ir!==void 0)return Ir;typeof A>"u"&&(A=new URL("b5_hpke_bg.wasm",import.meta.url));let e=m$e();(typeof A=="string"||typeof Request=="function"&&A instanceof Request||typeof URL=="function"&&A instanceof URL)&&(A=fetch(A));let{instance:t,module:r}=await d$e(await A,e);return p$e(t,r)}var N4A=L4A;var sl=AA(OA());var U4A=(A,e)=>{let t=!1;return async()=>{if(!t&&typeof A=="function"){t=!0;try{await A(await e())}catch(r){throw t=!1,r}}}};var zAA,V4A,MAA,X4A,RAA=U4A(N4A,async()=>{let{default:A}=await Promise.resolve().then(()=>AA(H4A()));return A}),h$e=Symbol(),Zf=class{constructor(e){this[V4A]=0,this.toJSON=Oa,this.exportJwk=async t=>({kid:t,kty:"OKP",crv:"X25519",x:Ye(this.publicKey)}),this.seal=async(t,r,a)=>{let j=R4A(this.publicKey,t,r,a);return{ciphertext:j.ciphertext,encappedKey:j.encapped_key}},this.publicKey=e}};zAA=Zf,V4A=h$e;Zf.fromJwk=async A=>{await RAA();let e=Je(A.x);return zAA.__crypto_internal.fromBytes(e)};Zf.__crypto_internal={fromBytes:async A=>{if(A.length!==32)throw new Error(`invalid length: ${A.length}`);return new zAA(A)}};var g$e=Symbol(),Qf=class{constructor(e,t){this[X4A]=0,this.toJSON=Oa,this.exportSensitiveJwk=async r=>({kid:r,kty:"OKP",crv:"X25519",d:Ye(this.privateKey),x:Ye(this.rawPublicKey)}),this.publicKey=async()=>Zf.__crypto_internal.fromBytes(this.rawPublicKey),this.open=async(r,a,j,n)=>K4A(this.privateKey,r,a,j,n),this.privateKey=e,this.rawPublicKey=t}};MAA=Qf,X4A=g$e;Qf.fromJwk=async A=>{await RAA();let e=Je(A.x),t=Je(A.d);if(e.length!==32)throw new Error(`invalid (pub) length: ${e.length}`);if(t.length!==32)throw new Error(`invalid (pri) length: ${t.length}`);return new MAA(Je(A.d),Je(A.x))};Qf.generate=async()=>{await RAA();let A=new SR;return new MAA(A.private_key,A.public_key)};var LG=sl.readonly(sl.type({kid:sl.string,kty:sl.literal("OKP"),crv:sl.literal("X25519"),x:sl.string},"type"),"JwkX25519PubKey"),CR=sl.readonly(sl.type({kid:sl.string,kty:sl.literal("OKP"),crv:sl.literal("X25519"),d:sl.string,x:sl.string},"type"),"JwkX25519PriKey");var KAA,W4A,LAA,J4A,Y4A=mt("1P_VAULT_REPORTING_ITEM_SNAPSHOT_V1"),f$e=Symbol(),fk=class{constructor(e,t){this[W4A]=0,this.toJSON=Oa,this.exportJwk=async()=>this.publicKey.exportJwk(this.kid),this.encrypt=async r=>{let a=xr.pipe(H4).encode(r.additionalData),j=xr.pipe(Y4).encode(r.snapshot),n=await this.publicKey.seal(Y4A,j,a);return wh.fromPieces(this.kid,n.encappedKey,n.ciphertext,a).toEnvelope()},this.kid=e,this.publicKey=t}};KAA=fk,W4A=f$e;fk.fromJwk=async A=>new KAA(A.kid,await Zf.fromJwk(A));fk.__crypto_internal={fromPubkey:async(A,e)=>new KAA(A,e)};var B$e=Symbol(),Sm=class{constructor(e,t){this[J4A]=0,this.toJSON=Oa,this.exportSensitiveJwk=async()=>this.privateKey.exportSensitiveJwk(this.uuid),this.publicKey=async()=>fk.__crypto_internal.fromPubkey(this.uuid,await this.privateKey.publicKey()),this.decrypt=async r=>{let a=await wh.fromEnvelope(r.encryptedSnapshot);if(a.kid!==this.uuid)throw new Error("Incorrect kid");let j=await this.privateKey.open(a.encKey,Y4A,a.data,a.unauthenticatedRawAd);return{snapshot:Ke(j,xr.pipe(Y4)).unwrap(),additionalData:a.unauthenticatedDecoded,serverData:r.serverData}},this.uuid=e,this.privateKey=t}};LAA=Sm,J4A=B$e;Sm.fromJwk=async A=>new LAA(A.kid,await Qf.fromJwk(A));Sm.generate=async()=>new LAA(lr(),await Qf.generate());var NAA=sj.exact(sj.partial({compromisedDomain:sj.string,vulnerablePassword:sj.boolean,passwordStrength:sj.number,reusedPassword:sj.boolean,unsecuredWebsite:sj.boolean,inactiveTwoFactor:sj.string,inactivePasskey:sj.string,expiringSoon:sj.boolean,expired:sj.boolean,itemsInWrongAccount:sj.boolean},"SnapshotWatchtowerReport")),Y4=sj.intersection([sj.exact(sj.type({title:ke(sj.string,"")},"required")),sj.exact(sj.partial({username:sj.string,domains:sj.array(sj.string),watchtowerReport:NAA,vaultName:sj.string},"optional"))],"VaultItemSnapshot"),NG=4,Z4=SAA,OR=sj.type({uuid:sj.string,trashed:sj.string,vaultUuid:sj.string},"VaultItemSnapshotServerData"),Q4=sj.type({encryptedSnapshot:Z4,serverData:OR},"EncryptedVaultItemSnapshotWithServerData"),Z4A=sj.readonly(sj.exact(sj.type({snapshot:Y4,additionalData:H4,serverData:OR})),"VaultItemSnapshotWithAdditionalAndServerData");var Lo;(function(A){A.rawHkdf=fd,A.rawPbkdf2UsingPbes2Alg=T4,A.Sha2Mode=Lj})(Lo||(Lo={}));var Ih;(function(A){A.PBES2_ALG_256=hAA,A.PBES2_ALG_256_G=dR,A.DEFAULT_PBES2_ALG=mR,A.DEFAULT_ITERATIONS=uR,A.ITERATIONS_100_000=XIA})(Ih||(Ih={}));var E$e=A=>A?.hasBackOfficeFeature.detailedVaultReporting&&A?.hasUnleashFeature["b2b-individual-vault-reporting"]||!1,UAA=A=>!A||!A.detailedVaultReporting?!1:A.detailedVaultReporting.isEnabled&&NG===A.detailedVaultReporting.serverItemSnapshotPayloadVersion,x$e=A=>!!A.accountOverview?.detailedVaultReporting?.isEnabledForRead,b$e=async(A,e)=>{let r=Mo(A,300),a=[],j="snapshotsDecrypt";console.time(j);for(let n=0,i=r.length;n<i;n++){let o=r[n];if(!o)break;let s=Promise.all(o.map(async c=>e.decrypt(c)));a.push(...Q4A(await s))}return console.timeEnd(j),a},Q4A=A=>A.map(e=>({...e.snapshot,...e.additionalData,...e.serverData})),HAA=(A,e,t)=>{if(!e)return!1;if(!t||!mb(t))return!0;if(A.length===0)return!1;let r=t.split("@");return r[1]?A.includes(r[1].trim().toLowerCase()):!0};var APA=AA(al()),AP=A=>A instanceof Date?A.valueOf():typeof A=="string"?(0,APA.default)(A).valueOf():0;var ePA=A=>{let e=A;return A.split("://").length===1&&(e="https://"+e),e.toLowerCase()},VAA=A=>{let e=A.flatMap(t=>{let r=ePA(t);try{return new URL(r).host}catch{return}}).filter(t=>t!==void 0);return bI(e)},XAA=A=>{let e=A.replace(/^\w+:\/\//,"");if(!e)return"";try{return new URL(`https://${e}`).hostname.replace(/^www\./,"")}catch{return""}};var WAA=(A,e)=>{if(e.length===0)return!1;let t=A.username?A.username.value:"";if(!t)return!1;let r=t.split("@");return r[1]?!e.includes(r[1].trim().toLowerCase()):!1};var vb={};Na(vb,{EventEmitter:()=>JAA});var JAA=class{constructor(){this._events={}}emit(e,...t){let r=this._events["~"+e];return r?(r.forEach(a=>{a.once&&this.off(e,a.fn,!0),a.fn(...t)}),!0):!1}on(e,t,r=!1){let a={fn:t,once:r},j="~"+e,n=this._events[j];return n?n.push(a):this._events[j]=[a],this}off(e,t,r=!1){let a="~"+e,j=this._events[a];if(!j)return this;let n=j.filter(i=>i.fn!==t||r&&!i.once);return n.length>0?this._events[a]=n:delete this._events[a],this}removeAllListeners(e){return e?delete this._events["~"+e]:this._events={},this}};var la={};Na(la,{ClientStateChanged:()=>G$e,LanguageRefreshed:()=>I$e,RecoveryStarted:()=>K$e,ReloadForced:()=>_$e,ServerChanged:()=>w$e,ServerChangedFromSelf:()=>S$e,ServerChangedWithData:()=>$$e,ServerConnected:()=>q$e,SessionExpired:()=>D$e,SessionInitError:()=>O$e,SessionInitialized:()=>C$e,SessionRequestIdChanged:()=>T$e,SignedIn:()=>z$e,SignedOut:()=>M$e,SpecialNavChanged:()=>v$e,TimeoutWarning:()=>R$e,TopBarContentChanged:()=>y$e,UniverseReloaded:()=>F$e,UsersChanged:()=>P$e});var y$e="TopBarContentChanged",v$e="SpecialNavChanged",F$e="UniverseReloaded",G$e="ClientStateChanged",w$e="ServerChanged",q$e="ServerConnected",$$e="ServerChangedWithData",I$e="LanguageRefreshed",P$e="UsersChanged",S$e="ServerChangedFromSelf",C$e="SessionInitialized",O$e="SessionInitError",T$e="SessionRequestIdChanged",_$e="ReloadForced",D$e="SessionExpired",z$e="SignedIn",M$e="SignedOut",R$e="TimeoutWarning",K$e="RecoveryStarted";var YAA={};Na(YAA,{DEFAULT_DIGITS:()=>L$e,DEFAULT_PERIOD:()=>N$e,generateSecret:()=>U$e});var tPA=AA(vs());var L$e=6,N$e=30,U$e=()=>tPA.codec.base32.fromBits(Rj(Kj(10)));var br={};Na(br,{AvailableTiers:()=>gPA,BillingStats:()=>TR,Card:()=>eB,Charge:()=>iPA,ChildAccountRelationship:()=>teA,Coupon:()=>UG,CustomerAddress:()=>ZAA,Discount:()=>oPA,Feature:()=>hPA,Frequency:()=>$G,FrequencyCodec:()=>IG,GiftCard:()=>aPA,Invoice:()=>XG,InvoiceLine:()=>nPA,InvoicePdf:()=>sPA,MspLastInvoice:()=>lPA,MspProjectedInvoice:()=>cPA,OpTaxNumber:()=>jPA,PendingPaymentMethod:()=>AeA,Plan:()=>gb,Promotion:()=>HG,PurchaseOrder:()=>dPA,PurchaseOrderStatus:()=>_R,RemainingAmount:()=>fPA,SetupIntent:()=>reA,StripePurchaseOrder:()=>mPA,StripePurchaseOrderStatus:()=>eeA,StripeSubscription:()=>uPA,Subscription:()=>pPA,TaxAdvice:()=>kPA,Tier:()=>tB,UpdatePaymentMethodRequest:()=>D8e,activateStripeBilling:()=>F8e,addCard:()=>J$e,addOrUpdateAddress:()=>W$e,attachAsChildAccount:()=>S8e,cancelStripeSubscription:()=>f8e,changeDefaultCard:()=>Y$e,changeDefaultPaymentMethod:()=>R8e,checkChildAccountCode:()=>C8e,checkGiftCard:()=>j8e,createAppleSubscription:()=>b8e,createChildAccountRelationship:()=>I8e,createPlayStoreSubscription:()=>x8e,createSetupIntent:()=>T8e,createUnverifiedSetupIntent:()=>_8e,deleteCard:()=>Z$e,deletePaymentMethod:()=>K8e,deletePendingPaymentMethod:()=>p8e,detachChildAccount:()=>O8e,endTrialPeriod:()=>B8e,getAvailableTiers:()=>G8e,getAvailableTiersV3:()=>w8e,getBillingStats:()=>d8e,getCard:()=>A8e,getChildAccountRelationship:()=>P8e,getDefaultTiers:()=>$8e,getGiftCards:()=>a8e,getInvoiceDetails:()=>i8e,getInvoicePdf:()=>o8e,getInvoices:()=>n8e,getIsValidPurchaseOrderToken:()=>y8e,getIsValidStripePurchaseOrderToken:()=>v8e,getMspLastInvoice:()=>l8e,getMspProjectedInvoice:()=>c8e,getPaymentMethod:()=>M8e,getRemainingAmount:()=>H8e,getSubscription:()=>k8e,getTaxAdvice:()=>E8e,getUpgradeTiers:()=>q8e,getValidPromotionFromCode:()=>t8e,linkAccountToPartner:()=>N8e,redeemGiftCard:()=>r8e,requestInvoiceEmail:()=>s8e,subscribeWithStripe:()=>g8e,updateCard:()=>Q$e,updatePaymentMethod:()=>z8e,updateStripeSubscription:()=>h8e});var AB=AA(OA());var EA=A=>e=>H$e((...t)=>({...e(...t),filename:A})),rPA=NA,H$e=A=>async(e,...t)=>{let r={body:void 0,...A(...t)},j=r.responseType===jA?{...r.options??{},responseType:"ignore"}:r.options,n=r.encrypted??!0,i=rPA(r.name),o=rPA(r.filename),s=await e.request({name:i,method:r.method,url:r.url,body:r.body,encrypted:n,decryptResponse:r.decryptResponse,options:j}),c=await V$e({response:s,responseType:j?.responseType??"json",endpointName:i});return Ke(c,r.responseType,{mode:r.validation,file:o,func:i}).unwrap()},V$e=async({response:A,responseType:e,endpointName:t})=>{try{switch(e){case"json":{let r=await A.text();return r===""?void 0:JSON.parse(r)}case"arraybuffer":return await A.arrayBuffer();case"text":return await A.text();case"ignore":return}}catch{let r=NA(e),a=sA`Failed to decode response as ${r} for ${t}`,j=new fn({errorClass:_l.ValidationError,message:a});throw console.error(a.str),$s(j),j}};var X$e=EA("web-api/api/billing/customer_address.ts"),ZAA=AB.readonly(AB.type({country:AB.string,provinceOrState:AB.string,zip:AB.string}),"CustomerAddress"),W$e=X$e(A=>({name:"addOrUpdateAddress",method:"POST",url:"/api/v1/billing/address",body:A,responseType:jA}));var Mi=AA(OA());var eP=EA("web-api/api/billing/card.ts"),eB=Mi.readonly(Mi.type({stripeCardUid:Mi.string,brand:Mi.string,country:Mi.string,isDefault:Mi.boolean,expMonth:Mi.number,expYear:Mi.number,name:Mi.string,state:Mi.union([Mi.string,Mi.undefined]),zip:Mi.union([Mi.string,Mi.undefined]),lastFour:ke(Mi.string,"")}),"Card"),J$e=eP(A=>({name:"addCard",method:"POST",url:"/api/v1/cards",body:A,responseType:jA})),Y$e=eP(A=>({name:"changeDefaultCard",method:"PATCH",url:`/api/v1/cards/${A.stripeCardUid}/default`,responseType:jA})),Z$e=eP(A=>({name:"deleteCard",method:"DELETE",url:`/api/v1/cards/${A}`,responseType:jA})),Q$e=eP((A,e)=>({name:"updateCard",method:"PATCH",url:`/api/v1/card/${A}`,body:e,responseType:jA})),A8e=eP(A=>({name:"getCard",method:"GET",url:`/api/v1/cards/${A}`,responseType:eB}));var wn=AA(OA());var e8e=EA("web-api/api/billing/coupon.ts"),UG=wn.readonly(wn.type({stripeCouponUID:wn.string,amountOff:wn.number,percentOff:wn.number,createdAt:wn.string,currency:wn.string,duration:wn.string,durationInMonths:wn.number}),"Coupon"),HG=wn.readonly(wn.type({name:wn.string,description:wn.string,trialDays:wn.number,addTrialDays:wn.boolean,coupon:wn.union([UG,wn.undefined]),suppressPromotionDescription:wn.boolean,thirdPartyBilling:wn.boolean,automatedPartnership:wn.boolean,showBilling:wn.boolean}),"Promotion"),t8e=e8e((A,e)=>({name:"getValidPromotionFromCode",method:"GET",url:`/api/v2/coupon/${A}/${e}/check`,encrypted:!1,responseType:HG}));var uu=AA(OA());var QAA=EA("web-api/api/billing/gift_card.ts"),aPA=uu.readonly(uu.type({code:uu.string,redeemedAt:uu.string,amount:uu.number,description:uu.string,purchaserEmail:uu.string}),"GiftCard"),r8e=QAA(A=>({name:"redeemGiftCard",method:"POST",url:"/api/v1/giftcard/redeem",body:A,responseType:jA})),a8e=QAA(()=>({name:"getGiftCards",method:"GET",url:"/api/v1/giftcards",responseType:uu.readonlyArray(aPA)})),j8e=QAA(A=>({name:"checkGiftCard",method:"POST",url:`/api/v1/giftcard/${encodeURIComponent(A)}/check`,responseType:jA}));var be=AA(OA());var VG=EA("web-api/api/billing/invoice.ts"),jPA=be.readonly(be.type({label:be.string,number:be.string,effective:be.string}),"OpTaxNumber"),nPA=be.readonly(be.type({stripeInvoiceLineUID:be.string,amount:be.number,currency:be.string,description:be.string,periodStart:be.string,periodEnd:be.string,planUID:be.union([be.string,be.undefined]),quantity:ke(be.number,0),proration:ke(be.boolean,!1),discountable:ke(be.boolean,!1),taxName:ke(be.string,"")}),"InvoiceLine"),iPA=be.readonly(be.type({uid:be.string,amount:be.number,captured:be.boolean,created:be.string,currency:be.string,paid:be.boolean,refunded:be.boolean,amountRefunded:be.number,desc:be.string,failMsg:be.string,failCode:be.string,meta:ke(be.record(be.string,be.string),{}),email:be.string,statement:be.string,status:be.string,source:be.union([eB,be.null])}),"Charge"),oPA=be.readonly(be.type({coupon:be.union([UG,be.null]),start:be.string,end:be.string}),"Discount"),XG=be.readonly(be.type({stripeInvoiceUID:be.string,accountName:be.string,address:be.string,amountDue:be.number,attemptCount:be.number,attempted:be.boolean,billTo:be.string,charge:be.union([iPA,be.null]),closed:be.boolean,currency:be.string,date:be.string,description:be.string,discount:be.union([oPA,be.null]),endingBalance:be.number,forgiven:be.boolean,lines:ke(jb(nPA),[]),metadata:ke(be.record(be.string,be.string),{}),nextPaymentAttempt:be.string,willRetry:be.boolean,paid:be.boolean,periodStart:be.string,periodEnd:be.string,startingBalance:be.number,statementDescriptor:be.string,subtotal:be.number,tax:be.number,taxPercent:be.number,total:be.number,taxName:be.string,taxNumber:ke(be.string,""),isTaxExempt:ke(be.boolean,!1),opTaxNumbers:be.union([be.readonlyArray(jPA),be.null]),showDefaultTaxMsg:be.boolean}),"Invoice"),sPA=be.readonly(be.type({fileName:be.string,contentType:be.string,contents:be.string}),"InvoicePDF"),lPA=be.readonly(be.union([be.type({invoice:be.union([XG,be.null]),netSeats:be.number,pricePerSeat:be.number,credit:be.number}),be.null])),cPA=be.readonly(be.union([be.type({periodStart:be.string,periodEnd:be.string,mspName:be.string,projectedNetSeats:be.number,pricePerSeat:be.number,taxRate:be.number,currency:be.string}),be.null])),n8e=VG((A=0,e=20)=>({name:"getInvoices",method:"GET",url:`/api/v1/invoices?page=${A}&limit=${e}`,responseType:be.readonlyArray(XG)})),i8e=VG(A=>({name:"getInvoiceDetails",method:"GET",url:`/api/v1/invoice/${A}`,responseType:XG})),o8e=VG(A=>({name:"getInvoicePdf",method:"GET",url:`/api/v1/invoice/${A}/pdf`,responseType:sPA})),s8e=VG(A=>({name:"requestInvoiceEmail",method:"POST",url:`/api/v1/invoice/${A}/email`,responseType:jA})),l8e=VG(()=>({name:"getMspLastInvoice",method:"GET",url:"/api/v1/billing/msp/last-invoice",responseType:lPA})),c8e=VG(()=>({name:"getMspProjectedInvoice",method:"GET",url:"/api/v1/billing/msp/projected-invoice",responseType:cPA}));var kt=AA(OA());var Ph=AA(OA());var u8e=EA("web-api/api/billing/billing_stats.ts"),TR=Ph.readonly(Ph.type({activeMembers:Ph.number,activeGuests:Ph.number,billedMembers:Ph.number,billedGuests:Ph.number}),"BillingStats"),d8e=u8e(()=>({name:"getBillingStats",method:"GET",url:"/api/v1/billing/stats",responseType:TR}));var xd=AA(OA());var m8e=EA("web-api/api/billing/pendingpaymentmethod.ts"),AeA=xd.readonly(xd.type({id:xd.number,accountId:xd.number,setupIntentUid:xd.string,isDefault:xd.boolean,isFailed:xd.boolean}),"PendingPaymentMethod"),p8e=m8e(A=>({name:"deletePendingPaymentMethod",method:"DELETE",url:`/api/v1/pendingPaymentMethod/${A}`,responseType:jA}));var Cm=EA("web-api/api/billing/subscription.ts"),uPA=kt.readonly(kt.type({stripeSubscriptionUid:kt.string,cancelAtPeriodEnd:kt.boolean,canceledAt:kt.string,currentPeriodEnd:kt.string,currentPeriodStart:kt.string,endedAt:kt.string,quantity:kt.number,start:kt.string,status:kt.string,taxPercent:kt.number,effectiveTaxRate:kt.number,trialEnd:kt.string,trialStart:kt.string,taxNumber:kt.string,isTaxExempt:kt.boolean,country:kt.string,provinceOrState:kt.string,zip:kt.string}),"StripeSubscription"),_R;(function(A){A.Paid="P",A.Outstanding="O",A.Special="S"})(_R||(_R={}));var dPA=kt.readonly(kt.type({state:kt.string,teamMembers:kt.number,totalPrice:kt.number,paymentStatus:cr(_R,"PurchaseOrderStatus"),startDate:kt.string,endDate:kt.string}),"PurchaseOrder"),eeA;(function(A){A.Approved="A",A.Pending="P",A.Canceled="C",A.Delinquent="D"})(eeA||(eeA={}));var mPA=kt.readonly(kt.type({state:kt.string,teamMembers:kt.number,memberPrice:kt.number,billingStartDate:kt.string,customerPO:kt.string,frequency:kt.union([kt.literal("Y"),kt.literal("M")]),secretsAutomationPrice:kt.number,vaultAccessCredits:kt.number}),"StripePurchaseOrder"),pPA=kt.readonly(kt.type({balance:kt.number,subscription:uPA,plan:kt.union([gb,kt.undefined]),cards:kt.union([kt.readonlyArray(eB),kt.null]),nextInvoice:kt.union([XG,kt.undefined]),hasInvoices:kt.boolean,purchaseOrder:kt.union([dPA,kt.undefined]),stripePurchaseOrder:kt.union([mPA,kt.undefined]),customerAddress:kt.union([ZAA,kt.undefined]),pendingCreditAmount:ke(kt.number,0),coupon:kt.union([UG,kt.undefined]),pendingPaymentMethods:kt.union([kt.array(AeA),kt.undefined]),billingStats:kt.union([TR,kt.undefined])}),"Subscription"),k8e=Cm(()=>({name:"getSubscription",method:"GET",url:"/api/v2/billing",responseType:pPA})),h8e=Cm(A=>({name:"updateStripeSubscription",method:"POST",url:"/api/v2/subscription",body:A,responseType:jA})),g8e=Cm(A=>({name:"subscribeWithStripe",method:"POST",url:"/api/v1/billing/activate",body:A,responseType:jA})),f8e=Cm(()=>({name:"cancelStripeSubscription",method:"DELETE",url:"/api/v1/subscription",responseType:jA})),B8e=Cm(()=>({name:"endTrialPeriod",method:"DELETE",url:"/api/v1/subscription/trial",responseType:jA})),kPA=kt.readonly(kt.type({countryCode:kt.string,provinceCode:kt.string,postalCode:kt.string,taxRate:kt.number,taxRateString:kt.string,effectiveTaxRate:kt.number,effectiveTaxRateString:kt.string,taxName:kt.string,originalPrice:kt.number,totalPrice:kt.number,totalTax:kt.number,useTaxData:kt.boolean}),"TaxAdvice"),E8e=Cm(A=>({name:"getTaxAdvice",method:"POST",url:"/api/v2/taxadvice",body:A,responseType:kPA,encrypted:!1})),x8e=Cm(A=>({name:"createPlayStoreSubscription",method:"POST",url:"/api/v1/subscriptions/playstore",body:A,responseType:jA})),b8e=Cm(A=>({name:"createAppleSubscription",method:"POST",url:"/api/v1/subscriptions/apple",body:A,options:{dataType:"arraybuffer"},responseType:jA})),y8e=Cm(A=>({name:"getIsValidPurchaseOrderToken",method:"GET",url:`/api/v1/purchase_order/${A}/check`,responseType:jA})),v8e=Cm(A=>({name:"getIsValidStripePurchaseOrderToken",method:"GET",url:`/api/v1/stripe_purchase_order/${A}/check`,responseType:jA})),F8e=Cm(A=>({name:"activateStripeBilling",method:"POST",url:"/api/v1/billing/activate",body:A,responseType:jA}));var _a=AA(OA());var DR=EA("web-api/api/billing/tier.ts"),hPA=_a.readonly(_a.type({title:_a.string,desc:_a.string}),"Feature"),tB=_a.readonly(_a.type({name:_a.string,accountType:_a.string,isPublic:_a.boolean,sortOrder:_a.number,trialDays:_a.number,backupDays:_a.number,guestsIncluded:_a.number,maxGuests:_a.number,membersIncluded:_a.number,maxMembers:_a.number,minQuantity:_a.number,storagePerAccount:_a.number,storagePerUser:_a.number,marketingText:_a.readonly(_a.type({defaultPriceDisplayFrequency:IG,localizedFeatures:ke(_a.readonlyArray(hPA),[]),name:_a.string,viewDetailsURL:_a.string})),features:ke(_a.readonlyArray(_a.string),[]),gatedFeatures:ke(_a.readonlyArray(_a.string),[]),plans:ke(_a.readonlyArray(gb),[]),tierChangeMappings:ke(_a.readonlyArray(_a.string),[])}),"Tier"),gPA=_a.readonly(_a.type({currentTier:tB,listOfTiers:_a.readonlyArray(tB)}),"AvailableTiers"),G8e=DR(()=>({name:"getAvailableTiers",method:"GET",url:"/api/v2/billing/tiers",responseType:_a.readonlyArray(tB)})),w8e=DR(()=>({name:"getAvailableTiersV3",method:"GET",url:"/api/v3/billing/tiers",responseType:gPA})),q8e=DR(()=>({name:"getUpgradeTiers",method:"GET",url:"/api/v2/billing/tiers/upgrades",responseType:_a.readonlyArray(tB)})),$8e=DR(()=>({name:"getDefaultTiers",method:"GET",url:"/api/v2/billing/tiers/defaults",responseType:_a.readonlyArray(tB)}));var Fb=AA(OA());var tP=EA("web-api/api/billing/child_account_relationship.ts"),teA=Fb.readonly(Fb.type({code:Fb.string,state:Fb.string}),"ChildAccountRelationship"),I8e=tP(()=>({name:"createChildAccountRelationship",method:"POST",url:"/api/v1/account/child",responseType:teA})),P8e=tP(()=>({name:"getChildAccountRelationship",method:"GET",url:"/api/v1/account/child",responseType:teA})),S8e=tP(A=>({name:"attachAsChildAccount",method:"POST",url:"/api/v1/account/child/attach",body:{code:A},responseType:jA})),C8e=tP(A=>({name:"checkChildAccountCode",method:"POST",url:`/api/v1/account/child/${encodeURIComponent(A)}/check`,responseType:jA})),O8e=tP(()=>({name:"detachChildAccount",method:"DELETE",url:"/api/v1/account/child",responseType:jA}));var Rl=AA(OA());var WG=EA("web-api/api/billing/payment.ts"),reA=Rl.readonly(Rl.type({uid:Rl.string,clientSecret:Rl.string}),"SetupIntent"),T8e=WG(()=>({name:"createSetupIntent",method:"POST",url:"/api/v1/billing/payment/setup_intents",encrypted:!0,responseType:reA})),_8e=WG((A,e)=>({name:"createUnverifiedSetupIntent",method:"POST",url:"/api/v1/billing/payment/unverified_setup_intents",body:{setupIntentCode:A,signupUid:e},encrypted:!1,responseType:reA})),D8e=Rl.readonly(Rl.type({name:Rl.string,country:Rl.string,state:Rl.string,zip:Rl.string,expYear:Rl.number,expMonth:Rl.number}),"UpdatePaymentMethodRequest"),z8e=WG((A,e)=>({name:"updatePaymentMethod",method:"PATCH",url:`/api/v1/paymentmethod/${A}`,body:e,responseType:jA})),M8e=WG(A=>({name:"getPaymentMethod",method:"GET",url:`/api/v1/paymentmethod/${A}`,responseType:eB})),R8e=WG(A=>({name:"changeDefaultPaymentMethod",method:"PATCH",url:`/api/v1/paymentmethod/${A}/default`,responseType:jA})),K8e=WG(A=>({name:"deletePaymentMethod",method:"DELETE",url:`/api/v1/paymentmethod/${A}`,responseType:jA}));var L8e=EA("web-api/api/billing/partnership.ts"),N8e=L8e(A=>({name:"linkAccountToPartner",method:"POST",url:"/api/v1/billing/partnership/link",body:A,responseType:jA}));var JG=AA(OA());var U8e=EA("web-api/api/billing/remaining_amount.ts"),fPA=JG.readonly(JG.type({remainingAmount:JG.number})),H8e=U8e(()=>({name:"getRemainingAmount",method:"GET",url:"/api/v1/billing/remaining",responseType:fPA}));var yr=AA(OA());var Dt=AA(OA());var rB=EA("web-api/api/sso_settings.ts"),E6;(function(A){A.Okta="Okta",A.Azure="Azure",A.Google="Google",A.Duo="Duo",A.OneLogin="OneLogin",A.JumpCloud="JumpCloud",A.Ping="Ping",A.Unknown="Unknown",A.Generic="Generic",A.Auth0="Auth0"})(E6||(E6={}));var zR;(function(A){A.None="N",A.Everyone="E",A.SelectedGroups="S",A.ExceptGuests="G",A.ExcludedGroups="X"})(zR||(zR={}));var MR;(function(A){A.Active="A",A.Disabled="D"})(MR||(MR={}));var aeA=Dt.type({enabledAt:Dt.string,deadline:Dt.string},"SsoGroup"),rP=Dt.readonly(Dt.partial({remainingUnlocks:Dt.number,deadlineDate:Dt.string,state:Dt.string}),"SsoMigrationGracePeriod"),V8e=Dt.type({clientId:Dt.string,identityProvider:Dt.string,wellKnownUrl:Dt.string},"SsoOidcWellKnownSettingsRequest"),BPA=Dt.readonly(Dt.type({authorizationEndpoint:Dt.string,issuer:Dt.string,tokenEndpoint:Dt.string,userInfoEndpoint:Dt.string}),"WellKnownUrlResponse"),X8e=Dt.readonly(Dt.type({url:Dt.string}),"WellKnownUrlRequest"),W8e=Dt.intersection([Dt.type({clientId:Dt.string,authEndpoint:Dt.string,identityProvider:cr(E6,"IdentityProviders"),issuer:Dt.string,tokenEndpoint:Dt.string,userInfoEndpoint:Dt.string,privateApp:Dt.boolean,displayName:Xe(Dt.string)},"type"),Dt.partial({wellKnownExpiresAt:Dt.string,wellKnownUrl:Dt.string,clientSecret:Dt.string},"partial")],"SsoOidcSettings"),EPA=Dt.readonly(Dt.type({oidcSettings:W8e}),"SsoFederationSettings"),xPA=Dt.readonly(Dt.intersection([Dt.type({authenticationPolicy:cr(zR,"SsoAuthenticationPolicy"),federationType:Dt.string,state:cr(MR,"SsoState"),federationSettings:EPA},"type"),Dt.partial({gracePeriodAuthCount:Dt.number,ssoGroups:Dt.array(Dt.string,"ssoGroups"),gracePeriodDuration:Dt.number,lastVerifiedAt:Dt.union([Dt.string,Dt.undefined],"lastVerifiedAt"),offlineAccessSessionDuration:Dt.number},"partial")]),"SsoSettings"),bPA=Dt.readonly(Dt.type({authRedirect:Dt.string}),"SsoValidateResponse"),yPA=Dt.readonly(Dt.type({deadline:Dt.string}),"FindSsoGroupDeadlineResponse"),vPA=Dt.readonly(Dt.type({totalRecoveryUsers:Dt.number,usersToRecover:Dt.array(Dt.string,"usersToRecover"),groupsSsoBreakdowns:Dt.array(Dt.type({groupUuid:Dt.string,userCount:Dt.number}),"groupsSsoBreakdowns")}),"AffectedUserCounts"),RR=rB(()=>({name:"getSsoSettings",method:"GET",url:"/api/v2/sso/settings",responseType:xPA})),jeA=rB(A=>({name:"createSsoSettings",method:"POST",url:"/api/v2/sso/settings",body:A,responseType:jA})),neA=rB(A=>({name:"updateSsoSettings",method:"PUT",url:"/api/v2/sso/settings",responseType:jA,body:A})),ieA=rB(A=>({name:"ssoValidateStart",method:"POST",url:"/api/v2/sso/settings/oidc/validate/start",body:A,responseType:bPA})),oeA=rB(A=>({name:"ssoValidateEnd",method:"POST",url:"/api/v2/sso/settings/oidc/validate/verify",body:A,responseType:jA})),J8e=rB((A,e,t)=>({name:"getAffectedUserCounts",method:"POST",url:"/api/v3/sso/settings/recovery/breakdown",body:{ssoGroupsIncluded:A,ssoGroupsExcluded:e,authPolicyType:t},responseType:vPA})),seA=rB(A=>({name:"getGroupDeadline",method:"GET",url:`/api/v2/sso/group/${A}/deadline`,responseType:yPA})),leA=rB(A=>({name:"postOidcWellKnownUrl",method:"POST",url:"/api/v2/sso/wellknown",body:A,responseType:BPA}));var aB=AA(OA());var ceA=AA(al()),Ia=A=>{let e=tu(A,a=>Y8e(a)),t=yY(e,a=>a.length>0),r=ro(t,(a,j)=>encodeURIComponent(j)+"="+a);return r.length>0?"?"+r.join("&"):""},Y8e=A=>Array.isArray(A)?A.map(e=>encodeURIComponent(ueA(e))).join(","):encodeURIComponent(ueA(A)),ueA=A=>typeof A>"u"||A===null?"":typeof A=="string"?A:Array.isArray(A)?A.map(e=>ueA(e)).join(","):JSON.stringify(A),Bk=(A,e)=>e.slice(0,15).filter((t,r)=>(A&1<<r)!==0),deA=(A,e)=>{let t=r=>typeof r=="string"&&Wn(A).includes(r);return new aB.Type(e,t,(r,a)=>t(r)?aB.success(r):aB.failure(r,a),aB.identity)},Gb;(function(A){A.Older="older",A.Newer="newer"})(Gb||(Gb={}));var aP=(A,e)=>A===Gb.Newer?ceA.default.utc(e).startOf("day"):ceA.default.utc(e).endOf("day");var Jt=AA(OA());var Om=AA(OA());var Q8e=EA("web-api/api/icons.ts"),YG=Om.readonly(Om.type({version:Om.string,icons:Om.readonlyArray(Om.type({url:Om.string,description:Om.string}))}),"IconSet"),meA=Q8e(A=>({name:"getIcons",method:"GET",url:`/api/v1/icons/${A}`,responseType:YG}));var Vj=AA(OA());var KR=EA("web-api/api/vault_item_template.ts"),FPA=Vj.readonly(Vj.partial({source:Vj.string,detail:Vj.string}),"VaultItemTemplateIcons"),GPA=Vj.partial({subtitle:Vj.string,hidden:Vj.string,availability:Vj.string,icons:FPA},"VaultItemTemplateAttrs"),ZG=Vj.intersection([Vj.type({uuid:Vj.string,singularName:Vj.string,pluralName:Vj.string,icon:Vj.string,sourceIcon:Vj.string,activeItemCount:ke(Vj.number,0),state:ke(Vj.string,""),version:ke(Vj.number,0),createdAt:oM,updatedAt:oM},"type"),Vj.partial({templateUuid:Vj.string,attrs:GPA},"partial")],"VaultItemTemplate"),wPA=Vj.readonly(Vj.type({version:Vj.number,templates:Vj.readonlyArray(ZG)}),"AccountTemplatesResponse"),peA=KR(A=>{let e="/api/v3/templates";return A&&(e+="/all"),{name:"getAccountTemplates",method:"GET",url:e,responseType:wPA}}),LR=KR(A=>({name:"getDefaultTemplate",method:"GET",url:`/api/v2/template/default/${A}`,responseType:ZG,encrypted:!1})),keA=KR(A=>({name:"postTemplate",method:"POST",url:"/api/v1/template",body:ZG.encode(A),responseType:jA})),heA=KR((A,e)=>({name:"changeTemplatesState",method:"PATCH",url:`/api/v1/template/${A.join(",")}/state/${e}`,responseType:jA}));var Jn=EA("web-api/api/vault.ts"),qPA=Jt.readonly(Jt.type({uuid:Jt.string,avatar:Jt.string,type:Jt.string}),"PreviewGroup"),$PA=Jt.readonly(Jt.type({uuid:Jt.string,avatar:Jt.string,initials:Jt.string}),"PreviewUser"),Tm=Jt.readonly(Jt.type({vaultUuid:Jt.string,accessorType:Jt.keyof({group:!0,user:!0}),accessorUuid:Jt.string,vaultKeySN:Jt.number,encVaultKey:Jt.union([QA.JweB,Jt.undefined]),encryptedBy:Jt.string,acl:Jt.number,leaseTimeout:Jt.number}),"VaultAccess"),Kl=Jt.readonly(Jt.intersection([Jt.type({uuid:Jt.string,type:Jt.string,attrVersion:Jt.number,contentVersion:Jt.number,encAttrs:QA.JweB},"type"),Jt.partial({createdAt:Jt.string,updatedAt:Jt.string,access:Jt.readonlyArray(Tm),combinedAccess:Tm,activeItemCount:Jt.number,clientAccess:Jt.number,archivedKeys:Jt.readonlyArray(QA.JweB),itemCategories:Jt.readonlyArray(ZG),previewGroups:Jt.readonlyArray(qPA),previewUsers:Jt.readonlyArray($PA)},"partial")]),"Vault"),AIe=["accessors","archived-keys","categories","combined-access"],NR=Jn(A=>{let e=[A.withAccessorPreviews?"accessor-previews":void 0,"combined-access"].filter(r=>r!==void 0).join(",");return{name:"getVaults",method:"GET",url:`/api/v1/vaults${Ia({user:A.user,group:A.group,permission:A.permission,attrs:e||void 0,limit:A.limit})}`,responseType:Jt.array(Kl)}}),geA=Jn(()=>({name:"getVaultsForAccountTransfer",method:"GET",url:"/api/v1/vaults/account-transfer",responseType:Jt.array(Kl)}));var jP={getDateString:A=>aP(A,void 0).toISOString(),direction:Gb.Older,limit:25},IPA=Jt.readonly(Jt.type({vaults:Jt.readonlyArray(Kl),hasMoreData:Jt.boolean}),"LimitedVaultsResponse"),feA=Jn((A,e,t)=>{let r=encodeURIComponent(A||jP.getDateString(e)),a=Ia({limit:t.limit||jP.limit});return{name:"getVaultsByCreation",method:"GET",url:`/api/v1/vaults/timeline/${r}/${e}${a}`,responseType:IPA}}),BeA=Jn((A,e)=>{let t=Bk(e,AIe),r=t.length>0?"?attrs="+t.join(","):"";return{name:"getVault",method:"GET",url:`/api/v3/vault/${A}${r}`,responseType:Kl}}),nP=Xe(Kl),EeA=Jn(()=>({name:"getSystemVault",method:"GET",url:"/api/v1/vault/system",responseType:nP})),xeA=Jn(()=>({name:"getManagedVault",method:"GET",url:"/api/v1/vault/managed",responseType:nP})),beA=Jn(()=>({name:"getPersonalVault",method:"GET",url:"/api/v1/vault/personal",responseType:nP})),yeA=Jn(()=>({name:"getEveryoneVault",method:"GET",url:"/api/v1/vault/everyone",responseType:nP})),veA=Jn(()=>({name:"getGeneratedPasswordsVault",method:"GET",url:"/api/v1/vault/generatedpasswords",responseType:nP})),FeA=Jn(A=>({name:"updateVault",method:"PUT",url:`/api/v3/vault/${A.uuid}/attrs`,body:A,responseType:jA})),GeA=Jn((A,e)=>({name:"updateVaultClientAccess",method:"PUT",url:"/api/v1/vault/clientaccess",body:{uuid:A,clientAccess:e},responseType:jA})),UR=Jn((A,e)=>({name:"addVaultAccess",method:"PATCH",url:`/api/v2/vault/${A}/vaultaccess`,body:{vaultaccess:e},responseType:jA})),PPA=Jt.readonly(Jt.intersection([Jt.type({mandatoryGroupUuids:Jt.readonlyArray(Jt.string),adminGroupUuids:Jt.readonlyArray(Jt.string),enableAdminGroupsByDefault:Jt.boolean}),Jt.partial({iconSet:YG})]),"CreateVaultPreflight"),weA=Jn(A=>({name:"getCreateVaultPreflight",method:"GET",url:`/api/v1/vault/preflight/create?type=${A}`,responseType:PPA})),qeA=Jn(()=>({name:"createAccountTransferVaultPreflight",method:"GET",url:"/api/v1/vault/preflight/account-transfer/create",responseType:PPA})),$eA=Jn(A=>({name:"createVault",method:"POST",url:"/api/v2/vault",body:A,responseType:jA})),IeA=Jn(A=>({name:"createVaultForAccountTransfer",method:"POST",url:"/api/v1/vault/account-transfer",body:A,responseType:jA})),eIe=Jt.readonly(Jt.type({archivedItemCount:Jt.number}),"DeleteVaultPreflight"),PeA=Jn(A=>({name:"deleteVaultPreflight",method:"GET",url:`/api/v1/vault/preflight/delete/${A}`,responseType:eIe})),SeA=Jn(A=>({name:"deleteVault",method:"DELETE",url:`/api/v4/vault/${A}`,responseType:jA})),CeA=Jn((A,e,t)=>({name:"deleteAccessorFromVault",method:"DELETE",url:`/api/v1/vault/${A}/${t?"group":"person"}/${e}`,responseType:jA})),OeA=Jn((A,e,t)=>({name:"updatePersonVaultAccessPermissions",method:"PATCH",url:`/api/v1/acl/person/${A}/${e}/${t}`,responseType:jA})),TeA=Jn((A,e,t)=>({name:"updateGroupVaultAccessPermissions",method:"PATCH",url:`/api/v1/acl/group/${A}/${e}/${t}`,responseType:jA})),_eA=Jn(A=>({name:"updateBulkGroupVaultAccessPermissions",method:"PATCH",url:"/api/v2/acl/groups",body:A,responseType:jA})),DeA=Jn(A=>({name:"enableTravelSafe",method:"PUT",url:`/api/v1/vault/${A}/enabletravel`,responseType:jA})),zeA=Jn(A=>({name:"disableTravelSafe",method:"PUT",url:`/api/v1/vault/${A}/disabletravel`,responseType:jA})),MeA=Jn(A=>({name:"enableServiceAccountAccess",method:"PUT",url:`/api/v1/vault/${A}/enableserviceaccountaccess`,responseType:jA})),ReA=Jn(A=>({name:"enableServiceAccountAccess",method:"PUT",url:`/api/v1/vault/${A}/disableserviceaccountaccess`,responseType:jA}));var Ll=EA("web-api/api/groups.ts"),Ha;(function(A){let e;(function(j){j.Manager="A",j.Member="R"})(e=A.Role||(A.Role={}));let t=cr(e,"Role"),r;(function(j){j.Active="A",j.Deleted="D",j.Inactive="I"})(r=A.State||(A.State={}));let a=cr(r,"State");A.Type=yr.readonly(yr.type({groupUuid:yr.string,memberUuid:yr.string,role:t,state:a,version:yr.number}),"GroupMembership")})(Ha||(Ha={}));var KeA=["pubkey","memberships","vault-access","recoverable-ks","user-counts"],QG=yr.intersection([yr.type({uuid:yr.string,name:yr.string,type:yr.string,desc:yr.string,attrVersion:yr.number,activeKeysetUuid:yr.string,permissions:yr.number},"type"),yr.partial({createdAt:yr.string,updatedAt:yr.string,avatar:yr.string,archivedKeysets:yr.readonlyArray(QA.KeysetCiphertext),userMembership:Ha.Type,sso:aeA,recoverableKeyset:QA.KeysetCiphertext,recoveryKeyset:QA.KeysetCiphertext,pubKey:QA.JwkRsaPubKey,memberships:yr.array(Ha.Type),vaultAccess:yr.readonlyArray(Tm),userCount:yr.number},"partial")],"Group"),tIe=yr.readonly(yr.type({groups:yr.array(QG),totalCount:yr.number}),"GroupsResponse"),HR=Ll((A,e)=>{let t=Bk(A,KeA);return{name:"getGroups",method:"GET",url:`/api/v1/groups${Ia({limit:e?.limit,offset:e?.offset,search:e?.search,user:e?.user,vault:e?.vault,sort:e?.sort,sortDir:e?.sortDir,membershipsOnly:e?.membershipsOnly,attrs:t})}`,responseType:yr.array(QG)}}),LeA=Ll((A,e)=>{let t=Bk(A,KeA),r=t.length>0?"?attrs="+t.join(","):"",a=Ia({search:e?.search,user:e?.user,vault:e?.vault});return{name:"searchGroupsCount",method:"GET",url:`/api/v1/groups/count${r}${a}`,responseType:yr.number}}),NeA=Ll((A,e)=>{let t=Bk(e,KeA),r=t.length>0?"?attrs="+t.join(","):"";return{name:"getGroup",method:"GET",url:`/api/v2/group/${A}${r}`,responseType:QG}}),SPA=yr.readonly(yr.type({uuid:yr.string,pubKey:QA.JwkRsaPubKey}),"GroupPubKey"),UeA=Ll(A=>({name:"getGroupPubKeys",method:"GET",url:`/api/v1/group/pubkeys?uuids=${A.join(",")}`,responseType:yr.array(SPA)})),HeA=Ll(A=>({name:"updateGroup",method:"PUT",url:`/api/v1/group/${A.uuid}/attrs`,body:A,responseType:jA})),VeA=Ll((A,e)=>({name:"updateGroupPermissions",method:"PUT",url:`/api/v1/group/${A}/permissions`,body:{permissions:e},responseType:jA})),XeA=Ll(A=>({name:"createGroup",method:"POST",url:"/api/v1/group",body:A,responseType:jA})),WeA=Ll(A=>({name:"deleteGroup",method:"DELETE",url:`/api/v1/group/${A}`,responseType:jA})),JeA=Ll(A=>({name:"markGroupReadyForPurging",method:"POST",url:`/api/v1/group/${A}/purge`,responseType:jA})),YeA=yr.readonly(yr.partial({currentUserMustResetPassword:yr.boolean}),"UpdateGroupMembershipsResponse"),ZeA=Ll((A,e,t)=>({name:"updateGroupMembershipRole",method:"PATCH",url:`/api/v1/group/${e}/person/${A}/role/${t}`,responseType:jA})),QeA=Ll((A,e)=>({name:"patchGroupMemberships",method:"PATCH",url:`/api/v3/group/${A}/membership`,body:e,responseType:YeA})),AtA=Ll((A,e)=>({name:"patchUserMemberships",method:"PATCH",url:`/api/v2/user/${A}/membership`,body:e,responseType:YeA})),etA=Ll(A=>({name:"addRecoveryKeysetToGroup",method:"PUT",url:`/api/v1/group/${A.uuid}/recoverykeyset`,body:A,responseType:jA})),CPA=yr.readonly(yr.type({csv:yr.string}),"GetGroupMembersCsvResponse"),ttA=Ll(A=>({name:"getGroupMembersCsv",method:"GET",url:`/api/v1/group/${A}/members/csv`,responseType:CPA})),OPA=yr.readonly(yr.type({count:yr.number}),"UniqueUserCountResponse"),rIe=yr.readonly(yr.type({groupUuids:yr.array(yr.string)}),"UniqueUserCountForGroupsRequest"),rtA=Ll(A=>({name:"postUniqueUserCountForGroups",method:"POST",url:"/api/v3/group/unique/users",body:A,responseType:OPA})),aIe=yr.readonly(yr.type({applicationUuids:yr.array(yr.string)}),"GroupApplicationAssignmentRequest"),atA=Ll((A,e)=>({name:"putGroupApplicationAssignment",method:"PUT",url:`/api/v1/group/${A}/assign-applications`,body:e,responseType:jA}));var Tr=AA(OA());var wb=EA("web-api/api/mfa.ts"),jtA="totp",ntA="email",ll;(function(A){A.Totp="T",A.Duo="D",A.Dsecret="S",A.DsecretProxy="P",A.WebAuthn="W",A.Email="E"})(ll||(ll={}));var VR=Tr.readonly(Tr.intersection([Tr.type({type:cr(ll,"MfaType"),keyHandle:Tr.string,keyValue:Tr.string},"type"),Tr.partial({createdAt:Tr.string,updatedAt:Tr.string},"partial")]),"StandardMfaParams"),TPA=Tr.readonly(Tr.intersection([VR,Tr.type({digits:Tr.number,code:Tr.string})]),"MfaCodeParams"),_PA=Tr.readonly(Tr.intersection([VR,Tr.partial({digits:Tr.number,totpClientData:Tr.string})]),"MfaTotpParams"),DPA=Tr.readonly(Tr.intersection([VR,Tr.partial({keyName:Tr.string,webAuthnClientData:Tr.string})]),"MfaWebAuthnParams"),zPA=Tr.union([_PA,DPA,TPA]),Aw=Tr.partial({dsecret:Tr.string,ssoMigrationGracePeriod:rP},"VerifyMfaResponse"),MPA=Tr.readonly(Tr.type({length:Tr.number,method:Tr.string}),"SendMfaCodeResponse"),RPA=Tr.readonly(Tr.type({allowedTypes:Tr.array(cr(ll,"MfaType")),canDisableAll:Tr.boolean,enforced:Tr.boolean,hasMFA:Tr.boolean}),"MfaConfig"),KPA=Tr.union([Aw,Tr.null],"EnableMfaResponse"),itA=wb(A=>({name:"enableMfa",method:"POST",url:"/api/v1/user/mfa",body:A,responseType:KPA})),otA=wb(A=>({name:"disableMfa",method:"PUT",url:`/api/v1/user/mfa/${A}`,responseType:jA})),stA=wb(A=>({name:"sendMfaCode",method:"POST",url:"/api/v1/user/mfa/code",body:A,responseType:MPA,encrypted:!1})),ltA=wb(()=>({name:"getMfa",method:"GET",url:"/api/v1/user/mfa",responseType:Tr.array(zPA)})),ctA=wb(()=>({name:"getMfaConfig",method:"GET",url:"/api/v1/user/mfa/config",responseType:RPA})),utA=wb(A=>({name:"verifyTotp",method:"POST",url:"/api/v1/user/mfa/totp/verify",body:{totpCode:A},responseType:Aw})),LPA=Tr.readonly(Tr.type({challenge:Tr.string,rpid:Tr.string}),"GetWebAuthnChallengeResponse"),nIe=wb(()=>({name:"getWebAuthnChallenge",method:"GET",url:"/api/v1/user/mfa/webauthn/challenge",responseType:LPA}));var vr=AA(OA());var XR=EA("web-api/api/user.ts"),dtA=XR(A=>({name:"beginChangeEmail",method:"POST",url:"/api/v1/emailchange/begin",body:{email:A},responseType:jA})),WR=XR((A,e)=>({name:"completeChangeEmail",method:"POST",url:"/api/v1/emailchange/complete",body:{auth:A,token:e},responseType:jA})),mtA=XR(A=>({name:"cancelChangeEmail",method:"POST",url:"/api/v1/emailchange/cancel",body:{email:A},responseType:jA})),ptA=XR(()=>({name:"promptConfirmChangeEmail",method:"POST",url:"/api/v1/emailchange/propose/verify",responseType:jA})),iP=vr.readonly(vr.intersection([vr.type({uuid:vr.string,createdAt:vr.string,lastAuthAt:vr.string,email:vr.string,firstName:vr.string,lastName:vr.string,name:vr.string,attrVersion:vr.number,keysetVersion:vr.number,state:vr.string,type:vr.string,avatar:vr.string,language:vr.string,accountKeyFormat:vr.string,accountKeyUuid:vr.string,combinedPermissions:vr.number,newsletterPrefs:vr.number,preferences:vr.number,keysets:vr.union([vr.readonlyArray(QA.KeysetCiphertext),vr.null]),vaultAccess:vr.union([vr.readonlyArray(Tm),vr.null]),hasMFAEnabled:vr.boolean},"type"),vr.partial({updatedAt:vr.string,memberships:vr.array(Ha.Type),externalGUID:vr.string,csToken:vr.string},"partial")]),"User"),NPA=vr.readonly(vr.intersection([vr.type({uuid:vr.string,firstName:vr.string,lastName:vr.string,name:vr.string,email:vr.string,avatar:vr.string,state:vr.string,type:vr.string}),vr.partial({combinedPermissions:vr.number})]));var oc=EA("web-api/api/account.ts"),JR=WA.partial({companySize:WA.string},"AccountMeta"),UPA=WA.readonly(WA.type({hasPackages:WA.boolean,hasNativeClient:WA.boolean,hasNonSafariClient:WA.boolean,hasMspConsoleAccess:WA.boolean,mustMigrate:WA.boolean}),"UserFlags"),HPA=WA.readonly(WA.type({hasRecoveryMembers:WA.boolean,isAccountManaged:WA.boolean}),"AccountFlags"),VPA=WA.readonly(WA.type({inviteSecret:WA.string,inviteEmailDomains:Xe(WA.string)}),"InviteSettings"),XPA=WA.readonly(WA.type({billingCompanyName:ke(WA.string,""),billingAddress:ke(WA.string,""),billingEmails:ke(WA.string,"")}),"BillingSettings"),WPA=WA.readonly(WA.type({trialStartedAt:WA.string,trialDays:WA.number,status:WA.string,provider:WA.string,freezesAt:WA.string,members:WA.number,guests:WA.number,settings:XPA}),"BillingInfo"),YR=WA.type({alerts:WA.string,notifications:WA.string},"SlackSettings"),ZR=WA.partial({isEnabled:WA.boolean,rememberDays:WA.number,integrationKey:WA.string,secretKey:WA.string,host:WA.string},"DuoSettings"),QR=WA.readonly(WA.type({url:Xe(WA.string)}),"SupportSettings"),JPA=WA.readonly(WA.type({address:WA.string,verified:WA.boolean}),"ReplyToEmailSettings"),A9=WA.readonly(WA.partial({isEnabled:WA.boolean,notificationEmails:WA.string,monitoringEnabled:WA.boolean,monitoringDomain:WA.string,deploymentOption:WA.string,identityProvider:WA.string,replyToEmail:JPA}),"ProvisioningSettings"),qb;(function(A){A.Minimum="",A.Medium="M",A.Strict="S",A.Custom="C"})(qb||(qb={}));var e9=WA.readonly(WA.type({type:cr(qb,"MasterPasswordPolicyType"),customString:ke(WA.string,"")}),"MasterPasswordPolicySettings"),YPA=WA.readonly(WA.intersection([WA.type({enforced:ke(WA.boolean,!1)},"type"),WA.partial({availableTypes:Xe(WA.readonlyArray(cr(ll,"MfaType")))},"partial")]),"TwoFactorSettings"),iIe=WA.readonlyArray(WA.string),ZPA=WA.readonly(WA.type({requireModernApps:ke(WA.boolean,!1)}),"ClientRestrictionSettings"),t9=WA.readonly(WA.partial({hideDeveloperTools:ke(WA.boolean,!1),hideIntegrations:ke(WA.boolean,!1),updatedAt:Ro}),"SidebarNavigationPoliciesSettings"),QPA=WA.readonly(WA.partial({blockFileStorage:ke(WA.boolean,!1),blockPasskeyAuthenticator:ke(WA.boolean,!1),privateVaultsBusinessWatchtowerReportingEnabled:ke(WA.boolean,!0),allowedWatchtowerDomains:Xe(WA.string),telemetryOptOut:ke(WA.boolean,!1)}),"TeamMemberPoliciesSettings"),oIe=WA.readonly(WA.type({isEnabled:ke(WA.boolean,!1),daysUntilDelete:Xe(WA.number)}),"AutoDeleteSuspendedUsersSettings"),ASA=WA.readonly(WA.type({enabled:ke(WA.boolean,!1),daysUntilDelete:Xe(WA.number)})),ktA=WA.readonly(WA.type({definition:ASA}),"AutoDeleteSuspendedUsersPolicyResponse"),r9=WA.type({slackURLs:Xe(YR),betaIsEnabled:ke(WA.boolean,!1),richIconsAreDisabled:ke(WA.boolean,!1),duo:Xe(ZR),support:Xe(QR),provisioning:Xe(A9),masterPasswordPolicy:Xe(e9),twoFactor:Xe(YPA),clientRestrictions:Xe(ZPA),teamMemberPolicies:Xe(QPA),disableEmergencyKit:ke(WA.boolean,!1),sidebarNavigationPolicies:Xe(t9)},"AccountSettings"),a9=WA.readonly(WA.type({groups:WA.number,invitations:WA.number,users:WA.number,vaults:WA.number,activeGuests:WA.number,activeUsers:WA.number,activeManagedAccounts:WA.number}),"EntityCounts"),eSA=WA.type({gatedFeature:WA.string,trialDays:WA.number,remainingDays:WA.number,optedOut:WA.boolean},"GatedFeatureTrial"),tSA=WA.readonly(WA.intersection([WA.type({uuid:WA.string,name:WA.string,domain:WA.string,type:WA.string,state:WA.string,avatar:WA.string,attrVersion:WA.number,createdAt:WA.string},"type"),WA.partial({storageUsed:WA.number,baseAttachmentURL:WA.string,baseAvatarURL:WA.string,me:iP,meta:JR,counts:a9,users:WA.array(NPA),groups:WA.array(QG),tier:tB,userFlags:UPA,accountFlags:HPA,invite:VPA,billing:WPA,promotions:WA.array(HG),settings:r9,gatedFeatureTrials:WA.array(eSA)},"partial")]),"Account"),sIe=WA.readonly(WA.partial({domain:WA.string,email:WA.string}),"CheckDomainRequests"),oP;(function(A){A.AccountFlags="account-flags",A.Billing="billing",A.Counts="counts",A.Groups="groups",A.Invite="invite",A.Me="me",A.MeMemberships="me.memberships",A.Meta="meta",A.Promotions="promotions",A.Settings="settings",A.SettingsTeamMemberPolicies="settings.team-member-policies",A.Tier="tier",A.UserFlags="user-flags",A.Users="users",A.GatedFeatureTrials="account-gated-feature-trials"})(oP||(oP={}));var htA=oc(A=>({name:"getAccountWithAttrs",method:"GET",url:`/api/v3/account${Ia({attrs:A})}`,responseType:tSA})),gtA=oc((A,e)=>({name:"activateAccount",method:"PUT",url:"/api/v1/account/activate",body:{vaults:A,groups:e},responseType:jA})),ftA=oc(A=>({name:"joinAccount",method:"PUT",url:"/api/v1/person/join",body:{vault:A},responseType:jA})),BtA=oc(A=>({name:"updateAccount",method:"PUT",url:"/api/v1/account/attrs",body:A,responseType:jA})),EtA=oc(A=>({name:"updateBillingSettings",method:"PUT",url:"/api/v1/account/billingsettings",body:A,responseType:jA})),xtA=oc(()=>({name:"deleteAccount",method:"DELETE",url:"/api/v1/account",responseType:jA})),btA=oc((A,e)=>({name:"verifyLockedOutAccountDeletion",method:"GET",url:`/api/v1/account/${A}/${e}/verifydeletion`,responseType:jA})),ytA=oc((A,e)=>({name:"lockedOutDeleteAccount",method:"DELETE",url:`/api/v1/account/${A}/${e}`,responseType:jA})),rSA=WA.readonly(WA.type({result:WA.boolean}),"CheckDomainAvailabilityResponse"),vtA=oc((A,e)=>({name:"checkDomainAvailability",method:"POST",url:"/api/v1/domain/check",body:{domain:A,email:e},responseType:rSA,encrypted:!1})),aSA=WA.readonly(WA.type({domain:WA.string}),"GetSuggestedDomainResponse"),FtA=oc(A=>({name:"getSuggestedDomain",method:"POST",url:"/api/v1/domain/suggestion",body:{accountName:A},responseType:aSA,encrypted:!1})),GtA=oc(A=>({name:"changeDomain",method:"PUT",url:`/api/v1/account/domain/${A}`,responseType:jA})),wtA=oc(A=>({name:"postImage",method:"POST",url:"/api/v1/image",body:A,responseType:WA.string,options:{dataType:"arraybuffer",responseType:"text"},encrypted:!1})),sP=oc(A=>({name:"changeAccountType",method:"PUT",url:"/api/v2/account/type",body:A,responseType:jA})),jSA=WA.readonly(WA.type({activeMembers:WA.number,activeGuests:WA.number,billedMembers:WA.number,billedGuests:WA.number}),"AccountUserCounts"),qtA=oc(()=>({name:"getAccountUserCounts",method:"GET",url:"/api/v1/account/counts",responseType:jSA}));var Fr=AA(OA());var lIe=EA("web-api/api/account_overview.ts"),cIe=Fr.readonly(Fr.intersection([Fr.type({accessVersion:Fr.number,attrVersion:Fr.number,contentVersion:Fr.number,uuid:Fr.string},"type"),Fr.partial({snapshotContentVersion:Fr.number,watchtowerReportNeedsUpdating:Fr.boolean},"partial")]),"VaultOverview"),uIe=Fr.readonly(Fr.type({permissions:Fr.number}),"UserOverview"),dIe=Fr.readonly(Fr.intersection([Fr.type({status:Fr.keyof({A:!0,C:!0,F:!0,L:!0,T:!0,P:!0}),storageUsed:ke(Fr.number,0)},"type"),Fr.partial({accountWillFreezeAt:Fr.string,storageCapacity:Fr.number},"partial")]),"BillingOverview"),mIe=Fr.readonly(Fr.type({isEnabled:Fr.boolean,serverItemSnapshotPayloadVersion:Fr.number,isEnabledForRead:Fr.boolean}),"DetailedVaultReporting"),pIe=Fr.readonly(Fr.type({lastUpdatedAt:Fr.number}),"ActivationHubOverview"),kIe=Fr.readonly(Fr.intersection([Fr.type({notifier:Fr.string,accountVersion:Fr.number,billingVersion:Fr.number,templateVersion:Fr.number,userVersion:Fr.number,keysetVersion:Fr.number,policiesVersion:Fr.union([Fr.number,Fr.undefined]),userOverview:uIe,billingOverview:dIe,hasPackages:Fr.boolean,supportsItemUsage:Fr.boolean},"type"),Fr.partial({vaults:Fr.readonlyArray(cIe),watchtowerReportVersion:Fr.number,detailedVaultReporting:mIe,activationHubOverview:pIe},"partial")]),"AccountOverview"),$tA=lIe(()=>({name:"getAccountOverview",method:"GET",url:"/api/v2/overview",responseType:kIe}));var _m=AA(OA());var ItA=EA("web-api/api/email_templates.ts"),hIe=_m.type({createdAt:_m.string,subjectOverride:_m.string,templateConfig:_m.string,templateUuid:_m.string,updatedAt:_m.string},"IoAccountTemplateConfig"),PtA=ItA(A=>({name:"getAccountTemplateConfig",method:"GET",url:`/api/v1/email-templates/account-template-config/${A}`,responseType:hIe})),StA=ItA(A=>({name:"createAccountTemplateConfig",body:{...A},method:"POST",url:"/api/v1/email-templates/account-template-config",responseType:_m.null})),CtA=ItA(A=>({name:"updateAccountTemplateConfig",body:{...A},method:"PUT",url:"/api/v1/email-templates/account-template-config",responseType:_m.null}));var Ri=AA(OA());var nSA=EA("web-api/api/activation_hub.ts"),iSA=Ri.readonly(Ri.type({uuid:Ri.string,name:Ri.string,description:Ri.string,dismissable:Ri.boolean,tags:Ri.array(Ri.string),ordering:Ri.number,dependencies:Ri.array(Ri.string),completedAt:Xe(Ri.string),dismissed:Xe(Ri.boolean)}),"Task"),oSA=Ri.readonly(Ri.type({total:Ri.number,tasks:Ri.array(iSA)},"GetActivationHubTasksResponse")),OtA=nSA(A=>({name:"getActivationHubTasks",method:"GET",url:`/api/v2/activation-hub/tasks/list${Ia({product:A.product,platform:A.platform,audience:A.audience,limit:A.limit})}`,responseType:oSA})),TtA=nSA(A=>({name:"completeActivationHubTask",method:"PUT",url:`/api/v1/activation-hub/tasks/${A.uuid}/completed`,body:{dismissed:A.dismiss,completedAt:A.completedAt},responseType:jA}));var Oj=AA(OA());var lP=EA("web-api/api/admin_watchtower.ts"),gIe=Oj.readonly(Oj.type({pubKey:Kf}),"WatchtowerPubkey"),sSA=Oj.readonly(Oj.type({encryptedBy:Oj.string,vaultKeySn:Oj.number,encVaultKey:QA.JweB,encVaultAttrs:QA.JweB,combinedAcl:Oj.number}),"WatchtowerReportVaultData"),lSA=Oj.readonly(Oj.intersection([Oj.type({uuid:Oj.string,vaultUuid:Oj.string,vaultType:Oj.string,updatedAt:Oj.string,isOutdated:Oj.boolean,encData:QA.Jwe},"type"),Oj.partial({vaultName:Oj.string,vaultData:sSA},"partial")]),"WatchtowerReportItem"),cSA=Oj.readonly(Oj.type({reports:Oj.array(lSA),nextStartUuid:Oj.string}),"WatchtowerReports"),uSA=Oj.readonly(Oj.type({accountVaultCount:Oj.number,accountEmptyVaultCount:Oj.number}),"WatchtowerStats"),j9=lP(()=>({name:"getWatchtowerPubkey",method:"GET",url:"/api/v1/report/watchtower/pubkey",responseType:gIe})),_tA=lP((A,e)=>({name:"uploadWatchtowerReport",method:"POST",url:`/api/v1/report/watchtower/vault/${A}`,body:e,responseType:jA})),DtA=lP((A,e)=>({name:"getWatchtowerReport",method:"GET",url:`/api/v1/report/watchtower${Ia({vaultTypes:A,startUuid:e})}`,responseType:cSA})),ztA=lP(A=>({name:"getWatchtowerStats",method:"GET",url:`/api/v1/report/watchtower/stats${Ia({vaultTypes:A})}`,responseType:uSA})),MtA=lP((A,e)=>({name:"createWatchtowerPubkey",method:"POST",url:`/api/v1/report/watchtower/pubkey/${A}`,body:{pubKey:e},responseType:jA}));var uj=AA(OA()),mSA=AA(al());var Gj=AA(OA());var cP=A=>A?encodeURIComponent(A).length>150:!1;var fIe=EA("web-api/api/partial_user.ts"),Uo=Gj.readonly(Gj.type({uuid:Gj.string,name:Gj.string,email:Gj.string,avatar:Gj.string,state:Gj.string,type:Gj.string}),"PartialUser"),Aa;(function(A){A.Provisioning="P",A.Connect="C",A.DataStreaming="D",A.Cli="X",A.UserManaged="M",A.Na="",A.Slack="slack",A.Duo="duo",A.MaskedEmails="MaskedEmails",A.Brex="Brex",A.PrivacyCom="PrivacyCom"})(Aa||(Aa={}));var dP=Gj.intersection([Uo,Gj.readonly(Gj.type({createdAt:Gj.string,creatorUuid:Gj.string,serviceAccountType:cr(Aa,"ServiceAccountType")},"type")),Gj.partial({canActiveUserViewDetails:Gj.boolean,permissions:Gj.number},"partial")],"ServiceAccountsPartialUser"),uP;(function(A){A.Migrated="MIGRATED",A.PendingMigration="PENDING_MIGRATION",A.InAuthRecovery="IN_AUTH_RECOVERY",A.PendingAuthRecovery="PENDING_AUTH_RECOVERY",A.Other="OTHER"})(uP||(uP={}));var RtA=Gj.readonly(Gj.intersection([Uo,Gj.partial({combinedPermissions:Gj.number,authState:cr(uP,"AuthStates")},"partial")]),"ExtendedPartialUser"),BIe=Gj.readonly(Gj.intersection([Gj.type({totalCount:Gj.number,users:Gj.readonlyArray(RtA)},"type"),Gj.partial({serviceAccounts:Gj.readonlyArray(dP)},"partial")]),"GetPartialUsersResponse"),EIe=350,jB=async(A,e,t)=>{if(cP(e.search))return{totalCount:0,users:[],serviceAccounts:[]};let r=e.emails?bI(e.emails):[],a=[];for(let n of r){let i=a.length-1,o=a[i];i>=0&&o!==void 0&&o.length+n.length<EIe?a[i]+=","+n:a.push(n)}let j=bIe(e.attrs);if(a.length>0){let n=a.map(async o=>{let s={...e,attrs:j,membershipLimit:t,emails:o,limit:e.limit,offset:e.offset,sort:e.sort,sortDir:e.sortDir};return dSA(A,Ia(s))});return(await Promise.all(n)).reduce((o,s)=>({totalCount:o.totalCount+s.totalCount,users:[...o.users,...s.users],serviceAccounts:[...o.serviceAccounts||[],...s.serviceAccounts||[]]}),{totalCount:0,users:[],serviceAccounts:[]})}else{let n={...e,attrs:j,limit:e.limit,offset:e.offset,sort:e.sort,sortDir:e.sortDir};return dSA(A,Ia(n))}},dSA=fIe(A=>({name:"getUsers",method:"GET",url:`/api/v3/users${A}`,responseType:BIe})),xIe={combinedPermissions:"combined-permissions",authState:"auth-state"},bIe=A=>A.map(e=>xIe[e]);var n9=EA("web-api/api/activity.ts"),yIe=100,vIe="regular_user",FIe="external_user",i9=()=>(0,mSA.default)().subtract(13,"month"),LtA=uj.readonly(uj.intersection([uj.type({actor:Uo,time:uj.string,ipAddress:uj.string,action:uj.string},"type"),uj.partial({eid:uj.number,uuid:uj.string,objectType:uj.string,objectUuid:uj.string,auxInfo:uj.string,auxUUID:uj.string,sessionUuid:uj.string,actorType:uj.string},"partial")]),"Activity"),GIe=uj.readonly(uj.type({objectType:uj.string,action:uj.string}),"Event"),pSA=uj.readonly(uj.type({auditEvents:uj.readonlyArray(LtA),cursor:uj.string,hasMore:uj.boolean,totalCount:uj.number}),"ActivityWithCursor"),NtA=n9((A,e,t,r,a,j,n,i,o)=>({name:"getFilteredActivityLogReports",method:"POST",url:"/api/v4/auditevents",body:{cursor:A,limit:e,startTime:t,endTime:r,direction:a,events:j,actorUuids:n,memberUuids:i,genericUuids:o},responseType:pSA})),kSA=uj.readonly(uj.type({count:uj.number,hasMore:uj.boolean}),"AuditEventsTotalReports"),UtA=n9((A,e,t,r,a,j)=>({name:"getFilteredActivityLogTotalReports",method:"POST",url:"/api/v1/auditevents/summary",body:{startTime:A,endTime:e,events:t,actorUuids:r,memberUuids:a,genericUuids:j},responseType:kSA})),HtA=n9(A=>({name:"reportAuditEvent",method:"POST",url:"/api/v1/auditevents/report",body:A,responseType:jA})),KtA;(function(A){A.Group="G",A.Vault="V",A.Person="P",A.ServiceAccount="S"})(KtA||(KtA={}));var VtA=n9((A,e)=>{let t=Ia({type:A});return{name:"getActivityFeed",method:"GET",url:`/api/v1/auditevents/feed/${e}${t}`,responseType:uj.readonlyArray(LtA)}});var Ct=AA(OA());var Ek=EA("web-api/api/auth.ts"),XtA=Ct.type({method:Ct.string,alg:Ct.string,iterations:Ct.number,salt:Ct.string,v:Ct.string}),ew=Ct.type({method:Ct.string,alg:Ct.string,iterations:Ct.number,salt:Ct.string},"AuthParams"),hSA=Ct.intersection([Ct.type({status:Ct.string},"type"),Ct.partial({sessionID:Ct.string,accountKeyFormat:Ct.string,accountKeyUuid:Ct.string,userAuth:ew,newDomain:Ct.string,newHost:Ct.string,newEmail:Ct.string},"partial")],"StartAuthResponse"),nB=Ek(A=>({name:"startAuth",method:"POST",url:"/api/v3/auth/start",body:A,responseType:hSA,encrypted:!1})),gSA=Ct.type({userB:Ct.string},"SrpResponse"),WtA=Ek(A=>({name:"postAuth",method:"POST",url:"/api/v2/auth",body:{userA:A},responseType:gSA,encrypted:!1})),fSA=Ct.type({serverVerifyHash:Ct.string},"SrpResponse"),JtA=Ek(A=>({name:"confirmKeyAuth",method:"POST",url:"/api/v2/auth/confirm-key",body:{clientVerifyHash:A},responseType:fSA,encrypted:!1})),o9=Ct.type({enabled:Ct.boolean},"DsecretResponse"),s9=Ct.type({enabled:Ct.boolean},"DsecretProxyResponse"),l9=Ct.type({enabled:Ct.boolean,digits:Ct.number},"TotpResponse"),c9=Ct.intersection([Ct.type({enabled:Ct.boolean,host:Ct.string,sigRequest:Ct.string},"type"),Ct.partial({authURL:Ct.string},"partial")],"DuoResponse"),u9=Ct.type({enabled:Ct.boolean,keyHandles:Ct.array(Ct.string),challenge:Ct.string,rpid:Ct.string},"WebAuthnResponse"),d9=Ct.intersection([Ct.type({enabled:Ct.boolean,availableTypes:ke(Ct.readonlyArray(cr(ll,"MfaType")),[])},"type"),Ct.partial({webAuthnChallenge:Ct.string,webAuthnRpid:Ct.string},"partial")],"MustEnableResponse"),m9=Ct.readonly(Ct.type({enabled:Ct.boolean,digits:ke(Ct.number,0),methods:Ct.array(Ct.string)}),"CodeResponse"),p9=Ct.partial({dsecret:o9,dsecretProxy:s9,totp:l9,duo:c9,webAuthn:u9,mustEnable:d9,code:m9},"MfaResponse"),k9=Ct.intersection([Ct.type({notifier:Ct.string},"type"),Ct.partial({accountUuid:Ct.string,userUuid:Ct.string,mfa:p9,ssoMigrationGracePeriod:rP},"partial")],"CompleteAuthResponse"),YtA=Ek(A=>({name:"completeAuth",method:"POST",url:"/api/v2/auth/complete",body:A,responseType:k9})),ZtA=Ek(A=>({name:"verifyMfa",method:"POST",url:"/api/v1/auth/mfa",body:A,responseType:Aw})),QtA=Ek(A=>({name:"enableMfaWithAuth",method:"POST",url:"/api/v1/auth/mfa/enable",body:A,responseType:Aw})),ArA=Ek(A=>({name:"submitNewUserAuth",method:"POST",url:"/api/v1/user/auth",body:A,responseType:jA})),mP=Ek(()=>({name:"extendSession",method:"PUT",url:"/api/v1/session/touch",responseType:jA})),pP=Ek(()=>({name:"signOut",method:"PUT",url:"/api/v1/session/signout",responseType:jA})),BSA=Ct.readonly(Ct.type({sessionUuid:Ct.string,sessionKey:QA.JwkSymKey,notifier:Ct.string},"DelegateSessionResponse")),kP=Ek((A,e)=>({name:"delegateSession",method:"POST",url:"/api/v2/delegatesession",body:{device:A,isNewPhysicalDevice:e},responseType:BSA}));var Ps=AA(OA());var ESA=EA("web-api/api/banners.ts"),tw;(function(A){A.Accept="A",A.Dismiss="D"})(tw||(tw={}));var xSA=Ps.readonly(Ps.type({uuid:Ps.string,banner:Ps.string,group:Ps.number}),"BannerInstance"),bSA=Ps.readonlyArray(Ps.type({group:Ps.number,until:Ps.string}),"BannerGroupTimeouts"),erA=Ps.readonly(Ps.type({instances:Xe(Ps.array(xSA)),snooze:ke(bSA,[])}),"BannerInstances"),trA=ESA(A=>({name:"getBannersForSession",method:"GET",url:`/api/v2/banner/instances?groups=${A}`,responseType:erA})),h9=ESA((A,e)=>({name:"performBannerAction",method:"POST",url:`/api/v2/banner/instance/${A}/status`,body:{status:e},responseType:erA}));var sc=AA(OA());var wIe=EA("web-api/api/client_restrictions.ts"),g9=sc.readonly(sc.intersection([sc.type({clientName:sc.string,version:sc.string},"type"),sc.partial({osVersion:sc.string},"partial")]),"ModernAppVersion"),rrA=wIe(()=>({name:"getModernAppVersions",method:"GET",url:"/api/v1/modern-app-versions",responseType:sc.array(g9)}));var ii=AA(OA());var xk=EA("web-api/api/cpace.ts"),ySA=ii.readonly(ii.type({msga:ii.string}),"MsgA"),vSA=ii.readonly(ii.type({msgb:ii.string}),"MsgB"),FSA=ii.readonly(ii.type({taga:ii.string}),"TagA"),GSA=ii.readonly(ii.type({tagb:ii.string}),"TagB"),qIe=ii.readonly(ii.type({msgb:ii.string,signInToken:ii.string}),"SendMsgbRequest"),$Ie=ii.readonly(ii.type({tagb:ii.string,signInToken:ii.string}),"SendTagbRequest"),wSA=ii.readonly(ii.type({encCreds:QA.JweB}),"SharedCredentialBundle"),IIe=xk((A,e)=>({name:"sendMsgA",method:"PUT",url:`/api/v3/device/enrollments/${e}/cpace/msga`,body:{msga:A},responseType:jA})),PIe=xk((A,e)=>({name:"receiveMsgA",method:"POST",url:`/api/v3/device/enrollments/${e}/cpace/msga`,body:{signInToken:A},responseType:Xe(ySA),encrypted:!1})),SIe=xk((A,e,t)=>({name:"sendMsgB",method:"PUT",url:`/api/v3/device/enrollments/${t}/cpace/msgb`,body:{msgb:A,signInToken:e},responseType:jA,encrypted:!1})),CIe=xk(A=>({name:"receiveMsgB",method:"GET",url:`/api/v3/device/enrollments/${A}/cpace/msgb`,responseType:Xe(vSA),decryptResponse:"mustDecryptExceptUndefined"})),OIe=xk((A,e)=>({name:"sendTagA",method:"PUT",url:`/api/v3/device/enrollments/${e}/cpace/taga`,body:{taga:A},responseType:jA})),TIe=xk((A,e)=>({name:"receiveTagA",method:"POST",url:`/api/v3/device/enrollments/${e}/cpace/taga`,body:{signInToken:A},responseType:Xe(FSA),encrypted:!1})),_Ie=xk((A,e,t)=>({name:"sendTagB",method:"PUT",url:`/api/v3/device/enrollments/${t}/cpace/tagb`,body:{tagb:A,signInToken:e},responseType:jA,encrypted:!1})),DIe=xk(A=>({name:"receiveTagB",method:"GET",url:`/api/v3/device/enrollments/${A}/cpace/tagb`,responseType:Xe(GSA),decryptResponse:"mustDecryptExceptUndefined"})),zIe=xk((A,e)=>({name:"receiveSharedCredentialBundle",method:"POST",url:`/api/v3/device/enrollments/${e}/share/credentials`,body:{signInToken:A},responseType:Xe(wSA),encrypted:!1})),MIe=xk((A,e)=>({name:"shareCredentialBundle",method:"PUT",url:`/api/v3/device/enrollments/${A}/share/credentials`,body:{encCreds:e},responseType:jA}));var bt=AA(OA());var $b=EA("web-api/api/developer_report.ts"),qSA=bt.readonly(bt.type({count:bt.number,templateUuid:bt.string}),"DeveloperReportItemCount"),RIe=bt.readonly(bt.type({numInPrivateVaults:bt.number,numInSharedVaults:bt.number}),"DeveloperReportItems"),KIe=bt.readonly(bt.type({developerItems:bt.record(bt.string,RIe),numUsers:bt.number,numUsersCli:bt.number,numUsersSsh:bt.number,numServiceAccounts:bt.number,numServiceAccountsActive:bt.number}),"DeveloperReport"),arA=$b(A=>({name:"getDeveloperReport",method:"POST",url:"/api/v1/report/developer",responseType:KIe,body:{filterGroups:A}})),LIe=bt.readonly(bt.type({avatar:bt.string,cliLastAccessed:bt.union([bt.string,bt.null]),developerItems:bt.readonlyArray(qSA),firstName:bt.string,lastName:bt.string,uuid:bt.string}),"DeveloperUsersReportUser"),NIe=bt.readonly(bt.type({numUsers:bt.number,users:bt.array(LIe)}),"DeveloperUsersReport"),jrA=$b((A,e,t,r,a)=>({name:"getDeveloperUsersReport",method:"POST",url:"/api/v1/report/developer/users",body:{filterGroups:t,pageNum:A,perPage:e,sortBy:r,sortDir:a},responseType:NIe})),UIe=bt.readonly(bt.type({csv:bt.string}),"DeveloperUsersReportCsv"),nrA=$b((A,e,t)=>({name:"getDeveloperUsersReportCsv",method:"POST",url:"/api/v1/report/developer/users/csv",responseType:UIe,body:{filterGroups:A,sortBy:e,sortDir:t}})),HIe=bt.readonly(bt.type({developerItems:bt.readonlyArray(qSA),uuid:bt.string,vault:bt.union([Kl,bt.null])}),"DeveloperSharedVaultsReportVault"),VIe=bt.readonly(bt.type({numSharedVaults:bt.number,sharedVaults:bt.array(HIe)}),"DeveloperSharedVaultsReport"),irA=$b((A,e,t,r,a)=>({name:"getDeveloperSharedVaultsReport",method:"POST",url:"/api/v1/report/developer/shared-vaults",responseType:VIe,body:{filterGroups:t,pageNum:A,perPage:e,sortBy:r,sortDir:a}})),XIe=bt.readonly(bt.type({csv:bt.string}),"DeveloperSharedVaultsReportCsv"),orA=$b((A,e,t)=>({name:"getDeveloperSharedVaultsReportCsv",method:"POST",url:"/api/v1/report/developer/shared-vaults/csv",responseType:XIe,body:{filterGroups:A,sortBy:e,sortDir:t}})),WIe=bt.readonly(bt.type({numAccounts:bt.number,avatar:bt.string,canCreateVaults:bt.boolean,isCreatorActive:bt.boolean,lastAccessedAt:bt.union([bt.string,bt.null]),name:bt.string,numDeveloperItems:bt.number,numVaults:bt.number,tokenCreatedAt:bt.string,tokenExpiry:bt.union([bt.string,bt.null]),tokenLastRotatedAt:bt.union([bt.string,bt.null]),uuid:bt.string},"DeveloperServiceAccountItem")),JIe=bt.readonly(bt.type({numServiceAccounts:bt.number,serviceAccounts:bt.array(WIe)}),"DeveloperServiceAccountsReport"),srA=$b((A,e,t,r)=>({name:"getDeveloperServiceAccountsReport",method:"POST",url:"/api/v1/report/developer/service-accounts",responseType:JIe,body:{pageNum:A,perPage:e,sortBy:t,sortDir:r}})),YIe=bt.readonly(bt.type({csv:bt.string}),"DeveloperServiceAccountsReportCsv"),lrA=$b((A,e)=>({name:"getDeveloperServiceAccountsReportCsv",method:"POST",url:"/api/v1/report/developer/service-accounts/csv",responseType:YIe,body:{sortBy:A,sortDir:e}}));var rw=EA("web-api/api/device.ts"),crA=rw(A=>({name:"addDevice",method:"POST",url:"/api/v1/device",body:A,encrypted:!1,responseType:jA})),urA=rw((A,e)=>({name:"deleteDevice",method:"DELETE",url:e?`/api/v1/device/${A}/${e}`:`/api/v1/device/${A}`,responseType:jA})),drA=rw(()=>({name:"deleteInactiveDevices",method:"DELETE",url:"/api/v1/device/old",responseType:jA})),mrA=rw(A=>({name:"reauthorizeDevice",method:"PUT",url:`/api/v1/device/${A}/reauthorize`,responseType:jA})),prA=rw(A=>({name:"require2FAOnNextSignIn",method:"DELETE",url:`/api/v1/device/${A}/dsecret`,responseType:jA})),ZIe=rw(A=>({name:"deleteAllDevices",method:"DELETE",url:`/api/v2/devices/${A}`,responseType:jA}));var bd=AA(OA());var $SA=EA("web-api/api/email_subscriptions.ts"),QIe=bd.readonly(bd.type({subscriptions:bd.type({newsletter:bd.boolean,events:bd.boolean,content:bd.boolean,announcements:bd.boolean,research:bd.boolean,unsubscribed:bd.boolean})}),"EmailSubscriptions"),krA=$SA(()=>({name:"getEmailSubscriptions",method:"GET",url:"/api/v1/emailsubscriptions",responseType:QIe})),hrA=$SA(A=>({name:"updateEmailSubscriptions",method:"PUT",url:"/api/v1/emailsubscriptions",body:A,responseType:jA}));var oi=AA(OA());var f9=EA("web-api/api/email_templates.ts"),ISA=oi.type({canCustomize:oi.boolean,content:oi.string,createdAt:oi.string,description:oi.string,options:oi.string,subjectLine:oi.string,title:oi.string,updatedAt:oi.string,templateUuid:oi.string}),PSA=oi.array(ISA),SSA=ISA,grA=f9(()=>({name:"getEmailTemplates",method:"GET",url:"/api/v1/email-templates",responseType:PSA})),frA=f9(A=>({name:"getEmailTemplateByUuid",method:"GET",url:`/api/v1/email-templates/${A}`,responseType:SSA})),BrA=f9(A=>({name:"sendTestEmailWithOverrides",method:"POST",body:{recipientUserUUID:A.recipientUserUuid,templateUUID:A.templateUuid,unsafeTemplateOverride:A.templateOverride,unsafeSubjectLine:A.subjectLine},url:"/api/v1/email-templates/send-preview",responseType:oi.void})),A4e=oi.type({templateUuid:oi.string,contentOverrides:oi.string,subjectOverrides:oi.string}),e4e=oi.type({renderedHtml:oi.string,plaintextContent:oi.string,subjectLine:oi.string}),ErA=f9(A=>({name:"getEmailTemplatePreview",method:"POST",url:"/api/v1/email-templates/preview",body:{...A},responseType:e4e}));var Ib=AA(OA());var t4e=EA("web-api/api/feedback.ts"),r4e=Ib.type({message:Ib.string,canContact:Ib.boolean,url:Ib.string},"Feedback"),xrA=t4e(A=>({name:"sendFeedback",method:"POST",url:"/api/v1/feedback",body:A,responseType:jA}));var yd=AA(OA());var hP=EA("web-api/api/file.ts"),brA=yd.intersection([yd.type({fileId:yd.string},"type"),yd.partial({signingKey:QA.JwkSymKey},"partial")],"File"),CSA=42e4,OSA=A=>"fileId"in A?A.fileId:A.documentId,B9=async(A,e,t,r)=>{let a=OSA(e);if(!a)throw new oe.ClientError(oe.ClientErrorCode.missingFileId,"Missing file ID");let j=e.signingKey?`/api/v2/file/${r}/${t}/${encodeURIComponent(a)}`:`/api/v1/file/${encodeURIComponent(a)}`,n=await FrA(A,j);if(typeof n=="object"&&n?.byteLength===2&&Di(n)==="{}"){let i=sA`Requested corrupted file ${NA(a)} for vault ${NA(r)} and item ${NA(t)}`;throw console.error(i),$s(new fn({errorClass:sA`CorruptedFileError`,message:i,severityLevel:"warning"})),new oe.ClientError(oe.ClientErrorCode.corruptedFile,"This file is corrupted.")}return n},yrA=async(A,e,t,r)=>{let a=OSA(e);if(!a)throw new oe.ClientError(oe.ClientErrorCode.missingFileId,"Missing file ID");let j=`/api/v2/file/${r}/${t}/${encodeURIComponent(a)}`,n=await FrA(A,j);if(typeof n=="object"&&n?.byteLength===2&&Di(n)==="{}"){let i=sA`Requested corrupted file ${NA(a)} for vault ${NA(r)} and item ${NA(t)}`;throw console.error(i),$s(new fn({errorClass:sA`CorruptedFileError`,message:i,severityLevel:"warning"})),new oe.ClientError(oe.ClientErrorCode.corruptedFile,"This file is corrupted.")}return n},vrA=hP((A,e)=>({name:"getFileIdsFromItemUuid",method:"GET",url:`/api/v1/files/${e}/${A}`,responseType:yd.array(yd.string)})),E9=hP(A=>({name:"getFileKey",method:"GET",url:`/api/v3/filekey/${A}`,responseType:brA})),x9=hP(A=>({name:"uploadFile",method:"POST",url:"/api/v2/file",body:A,options:{timeout:CSA,dataType:"arraybuffer"},responseType:brA,encrypted:!1,decryptResponse:"mustDecrypt"})),FrA=async(A,e)=>{let t=await a4e(A,e);return await j4e(A,t)},a4e=hP(A=>({name:"getFileRedirectUrl",method:"GET",url:A,options:{responseType:"text",headers:{"X-Use-302-Redirect":"false"}},responseType:yd.string,encrypted:!1})),j4e=hP(A=>({name:"getFileFromUrl",method:"GET",url:A,options:{responseType:"arraybuffer",timeout:CSA},responseType:KI,encrypted:!1}));var qn=AA(OA());var Pb;(function(A){A.Country="country",A.Continent="continent",A.Ip="ip",A.Anonymous="anonymous",A.All="all"})(Pb||(Pb={}));var Sb;(function(A){A.Allow="allow",A.Report="report",A.Challenge="challenge",A.Deny="deny",A.Continue="continue"})(Sb||(Sb={}));var Cb;(function(A){A.Tor="T",A.Vpn="V",A.Proxy="P",A.CloudProvider="C"})(Cb||(Cb={}));var bk;(function(A){A.Group="group",A.Global="global"})(bk||(bk={}));var TSA=EA("web-api/api/firewall_rules.ts"),_SA=qn.readonly(qn.intersection([qn.type({type:cr(bk,"FirewallRuleScopeType")},"type"),qn.partial({uuid:qn.string},"partial")]),"FirewallRuleScope"),b9=qn.readonly(qn.intersection([qn.type({type:cr(Pb,"FirewallRuleType"),action:cr(Sb,"FirewallRuleAction"),value:qn.readonly(ke(qn.array(qn.union([cr(Cb,"FirewallRuleAnonymousType"),qn.string])),[]))},"type"),qn.partial({scope:qn.readonlyArray(_SA)},"partial")]),"FirewallRule"),y9=qn.readonly(qn.type({rules:qn.union([qn.readonlyArray(b9),qn.null])}),"FirewallRules"),GrA=TSA(A=>({name:"postFirewallRules",method:"POST",url:"/api/v1/firewallrules",body:A,responseType:jA})),wrA=TSA(()=>({name:"getFirewallRules",method:"GET",url:"/api/v1/firewallrules",responseType:y9}));var jn=AA(OA());var SrA=EA("web-api/api/insights.ts"),Sh;(function(A){A.Filter="filter",A.Attribute="sort-by",A.Direction="sort-direction"})(Sh||(Sh={}));var qrA;(function(A){A.Email="email",A.BreachesCount="breaches-count",A.BreachName="breach-name",A.Date="date",A.MembersCount="members-count",A.Invited="invited"})(qrA||(qrA={}));var $rA;(function(A){A.VaultName="vault-name",A.VaultType="vault-type",A.ItemsCount="items-count",A.IssuesCount="issues-count"})($rA||($rA={}));var IrA;(function(A){A.TeamMember="team-member",A.AccessDate="access-date",A.JoinDate="join-date"})(IrA||(IrA={}));var DSA=jn.readonly(jn.type({noLinkedAccountCount:jn.number,notUsing1PasswordCount:jn.number,notUsingPrivateCount:jn.number,teamMembersCount:jn.number,guestUsersCount:jn.number}),"InsightsTeamReportOverview"),CrA=SrA(()=>({name:"getInsightsTeamReportOverview",method:"GET",url:"/api/v1/insights/teamusage/overview",responseType:DSA})),zSA=jn.readonly(jn.type({uuid:jn.string,email:jn.string,name:jn.string,createdAt:jn.string,avatar:Xe(jn.string),lastAuthAt:Xe(jn.string),isNotified:jn.boolean,numGroups:Xe(jn.number),privateVaultItems:Xe(jn.number)}),"InsightsTeamReportUser"),gP;(function(A){A.PageNumber="page-number",A.ItemsPerPage="items-per-page"})(gP||(gP={}));var PrA;(function(A){A.Signins="no-recent-usage",A.FamilyAccount="no-family-accounts",A.PrivateVault="no-private-vault-usage"})(PrA||(PrA={}));var MSA=jn.readonly(jn.type({users:jn.readonlyArray(zSA)}),"InsightsTeamReport"),OrA=SrA((A,e,t,r,a)=>({name:"getInsightsTeamReport",method:"GET",url:`/api/v1/insights/teamusage${Ia({[Sh.Filter]:A,[gP.PageNumber]:e,[gP.ItemsPerPage]:t,[Sh.Attribute]:r,[Sh.Direction]:a})}`,responseType:MSA})),RSA=jn.readonly(jn.type({csv:jn.string}),"InsightsTeamReportCsv"),TrA=SrA((A,e,t)=>({name:"getInsightsTeamReportCsv",method:"GET",url:"/api/v1/insights/teamusage/csv"+Ia({[Sh.Filter]:A,[Sh.Attribute]:e,[Sh.Direction]:t}),responseType:RSA}));var nt=AA(OA());var ka=AA(OA());var Da=AA(OA());var Ss=AA(OA());var yk=Ss.type({token:Ss.string,publicKey:Ss.string},"signInTokenDetails"),n4e=Ss.readonly(Ss.type({encCredentials:qG,v:Ss.literal(1)}),"EncryptedDeviceCredentials"),Ch=Ss.readonly(Ss.type({encCredentials:no,v:Ss.literal(2)}),"EncryptedCredentialBundle"),i4e=Ss.type({requestId:Ss.number,accountUuid:Ss.string,userUuid:Ss.string},"TrustedDeviceUpgradeEventRequest");var KSA=EA("web-api/api/oidc.ts"),o4e=Da.readonly(Da.type({authRedirect:Da.string}),"StartOidcAuthResponse"),_rA=KSA(A=>({name:"startOidcAuth",method:"POST",url:"/api/v3/auth/sso/oidc/start",body:A,options:{headers:{"X-AgileBits-Client":Fj.clientDescriptor}},responseType:o4e,encrypted:!1})),s4e=Da.readonly(Da.type({accountUuid:Da.string,userUuid:Da.string,email:Da.string,sessionUuid:Da.string}),"VerifyOidcResponseUserData"),l4e=Da.union([Da.literal("found"),Da.literal("must_enroll_initial_device"),Da.literal("device_not_enrolled"),Da.literal("sso_migration_deadline_passed")],"VerifyOidcResponseType"),LSA=Da.intersection([Da.type({signInTokenDetails:yk},"signInTokenDetails"),Da.partial({encSignInRefreshTokenDetails:qG},"encSignInRefreshTokenDetails")]),aw=Da.intersection([Ch,Da.readonly(Da.type({accountKeyFormat:Da.string,accountKeyUuid:Da.string,userAuth:ew}),"extra")],"CredentialBundleAuthResponse"),c4e=Da.intersection([Da.type({type:l4e},"type"),Da.type({user:s4e},"user"),Da.partial({auth:aw},"auth"),Da.type({ssoAuth:LSA},"ssoAuth")],"VerifyOidcResponse"),DrA=KSA((A,e,t,r)=>({name:"verifyOIDC",method:"POST",url:"/api/v3/auth/sso/oidc/verify",options:{headers:{"X-AgileBits-Client":Fj.clientDescriptor}},encrypted:!1,body:{code:A,state:e,device:t,signInRefreshTokenClientKey:r},responseType:c4e})),u4e=Da.readonly(Da.type({b5_state:Da.string,redirect_uuid:Da.string}),"NativeOidcState"),d4e=Da.readonly(Da.type({b5State:Da.string,accountUuid:Da.string,clientShortCode:Da.string}),"SsoOidcState");var me=AA(OA());var jw=EA("web-api/api/webauthn.ts"),v9=me.literal("public-key"),NSA=me.literal("ble"),USA=me.literal("hybrid"),HSA=me.literal("cable"),VSA=me.literal("internal"),XSA=me.literal("nfc"),WSA=me.literal("usb"),JSA=me.literal("discouraged"),YSA=me.literal("preferred"),ZSA=me.literal("required"),QSA=me.type({type:v9,id:me.string,transports:Xe(me.array(me.union([NSA,USA,HSA,VSA,XSA,WSA],"WebauthnCredentialDescriptorType")))},"WebauthnCredentialDescriptor"),m4e=me.type({appid:Xe(me.string),credProps:Xe(me.boolean),hmacSecret:Xe(me.boolean)},"WebauthnCredentialExtensionClientInputs"),A2A=me.type({challenge:me.string,timeout:Xe(me.number),rpId:Xe(me.string),allowCredentials:Xe(me.array(QSA)),userVerification:Xe(me.union([JSA,YSA,ZSA])),extensions:Xe(m4e)},"WebauthnPublicKeyRequest"),zrA=me.readonly(me.type({publicKey:A2A},"WebauthnAssertion")),e2A=me.readonly(me.type({alg:me.number,type:v9}),"PublicKeyCredentialParameters"),t2A=me.readonly(me.intersection([me.type({name:me.string}),me.partial({id:me.string})]),"PublicKeyCredentialRpEntity"),r2A=me.readonly(me.type({displayName:me.string,id:me.string,name:me.string}),"PublicKeyCredentialUserEntity"),a2A=me.keyof({direct:void 0,enterprise:void 0,indirect:void 0,none:void 0}),j2A=me.keyof({ble:void 0,hybrid:void 0,internal:void 0,nfc:void 0,usb:void 0}),n2A=me.keyof({"cross-platform":void 0,platform:void 0}),MrA=me.keyof({discouraged:void 0,preferred:void 0,required:void 0}),i2A=MrA,o2A=me.readonly(me.partial({authenticatorAttachment:n2A,requireResidentKey:me.boolean,residentKey:MrA,userVerification:i2A}),"AuthenticatorSelectionCriteria"),s2A=me.readonly(me.intersection([me.type({id:KI,type:v9}),me.partial({transports:me.array(j2A)})]),"PublicKeyCredentialDescriptor"),l2A=me.readonly(me.partial({appId:me.string,credProps:me.boolean,hmacCreateSecret:me.boolean}),"AuthenticationExtensionsClientInputs"),c2A=me.readonly(me.intersection([me.type({challenge:me.string,pubKeyCredParams:me.array(e2A),rp:t2A,user:r2A}),me.partial({attestation:a2A,authenticatorSelection:o2A,excludeCredentials:me.array(s2A),extensions:l2A,timeout:me.number})]),"PublicKeyCredentialCreationOptions"),u2A=me.readonly(me.type({aborted:me.boolean,onabort:me.Function,reason:me.any,throwIfAborted:me.Function,addEventListener:me.Function,removeEventListener:me.Function}),"AbortSignal"),F9=me.readonly(me.partial({publicKey:c2A,signal:u2A}),"CredentialCreationOptions"),d2A=me.exact(me.type({clientDataJSON:me.string,attestationObject:Xe(me.string),transports:Xe(me.array(me.string))})),p4e=me.exact(me.type({id:me.string,type:me.string,rawId:me.string,response:d2A}),"CredentialCreationResponse"),m2A=me.exact(me.type({clientDataJSON:me.string,authenticatorData:Xe(me.string),signature:Xe(me.string),userHandle:Xe(me.string)})),k4e=me.exact(me.type({id:me.string,type:me.string,rawId:me.string,response:m2A}),"CredentialAssertionResponse"),h4e=me.readonly(me.type({accountUuid:me.string,userUuid:me.string,email:me.string,sessionUuid:me.string}),"VerifyPasskeyResponseUserData"),g4e=me.union([me.literal("found"),me.literal("must_enroll_initial_device"),me.literal("device_not_enrolled")],"VerifyPasskeyResponseType"),f4e=me.type({type:g4e,user:h4e,auth:Xe(aw),signInTokenDetails:yk},"VerifyPasskeyResponse"),B4e=me.type({challenge:F9},"RegisterWebauthnCredentialResponse"),G9=me.readonly(me.type({name:me.string,createdAt:me.string,updatedAt:me.string,credentialId:me.string})),RrA=jw((A,e,t,r)=>({name:"verifyPasskey",method:"POST",url:"/api/v3/auth/passkey/verify",options:{headers:{"X-AgileBits-Client":Fj.clientDescriptor}},encrypted:!1,body:{userUuid:A,device:e,assertion:t,keyId:r},responseType:f4e})),KrA=jw(()=>({name:"registerWebauthnCredential",method:"POST",url:"/api/v2/auth/webauthn/register",encrypted:!0,responseType:B4e})),LrA=jw((A,e)=>({name:"verifyWebauthnCredentialAttestation",method:"POST",url:"/api/v2/auth/webauthn/register/challenge",encrypted:!0,body:{name:A,attestation:e},responseType:G9})),p2A=me.readonly(me.type({credentials:me.array(G9,"credentials")})),NrA=jw(A=>({name:"getUserCredentials",method:"GET",url:`/api/v2/users/${A}/credentials`,responseType:p2A})),UrA=jw((A,e)=>({name:"deleteUserCredential",method:"DELETE",url:`/api/v2/users/${A}/credentials/${e}`,responseType:jA})),HrA=jw((A,e)=>({name:"updateUserCredentials",method:"PATCH",url:`/api/v2/users/credential/${A}`,encrypted:!0,body:{name:e},responseType:G9}));var w9=EA("web-api/api/auth_methods.ts"),q9="PASSWORD+SK",fP="OIDC",BP="WEBAUTHN",k2A=ka.type({type:ka.literal(q9)},"PasswordAuthMethod"),h2A=ka.intersection([ka.type({type:ka.literal(fP)},"type"),ka.partial({provider:ka.string,iconUrl:ka.string},"partial")],"OidcAuthMethod"),g2A=ka.type({type:ka.literal(BP),assertion:zrA},"type"),vk=ka.readonly(ka.union([k2A,h2A,g2A]),"AuthMethod"),E4e=ka.intersection([ka.readonly(ka.type({authMethods:ke(ka.array(vk),[])}),"authMethods"),ka.partial({userUuid:ka.string},"userUuid"),ka.partial({signInAddress:ka.string},"signInAddress")],"AuthMethodResponse"),VrA=w9((A,e)=>({name:"getAuthMethods",method:"POST",url:"/api/v2/auth/methods",body:{email:A,userUuid:e},responseType:E4e,encrypted:!1})),f2A=ka.readonly(ka.type({method:ka.string,alg:ka.string,iterations:ka.number,salt:ka.string,v:ka.string}),"ReadOnlyAuth"),x4e=ka.readonly(ka.partial({authOnly:ka.boolean,landingPage:ka.string}),"SsoSignInOptions"),XrA=w9((A,e,t)=>({name:"addCredentialBundle",method:"POST",url:"/api/v3/user/devicecredentials",body:{deviceCredentials:A,keyId:e,enrollmentUuid:t},responseType:jA})),b4e=ka.readonly(ka.type({deviceCredentials:Ch,auth:f2A,activeKeyset:tc}),"SetUpCredentialBundleRequest"),B2A=ka.readonly(ka.type({accountKeyUuid:ka.string}),"SetUpCredentialBundleResponse"),WrA=w9((A,e,t)=>({name:"setupCredentialBundle",method:"PUT",url:"/api/v3/user/devicecredentials",body:{deviceCredentials:A,auth:e,activeKeyset:t},responseType:B2A})),JrA=w9(A=>({name:"getEncryptedCredentialBundle",method:"GET",url:`/api/v3/auth/devicecredentials?keyUuid=${A}`,responseType:aw}));var lc=EA("web-api/api/invitation.ts"),y4e=nt.readonly(nt.type({secret:nt.string,accountName:nt.string}),"TeamInvitationDetails"),EP=nt.readonly(nt.type({uuid:nt.string,token:nt.union([nt.string,nt.undefined]),accountUuid:nt.string,accountName:nt.union([nt.string,nt.undefined]),accountType:nt.union([nt.string,nt.undefined]),accountHost:nt.string,disableEmergencyKit:ke(nt.boolean,!1),email:nt.string,language:nt.string,senderFullName:nt.union([nt.string,nt.undefined]),senderEmail:nt.union([nt.string,nt.undefined]),state:nt.union([nt.string,nt.undefined]),type:nt.union([nt.string,nt.undefined]),sentAt:nt.union([nt.string,nt.undefined]),timeout:nt.union([nt.number,nt.undefined]),acceptedAt:nt.union([nt.string,nt.undefined]),revokedAt:nt.union([nt.string,nt.undefined]),migratingFrom:nt.union([nt.string,nt.undefined]),accountUsesNewKeysets:nt.boolean,passwordRules:nt.string,iconSet:Xe(YG),accountAuthMethods:ke(nt.array(vk),[]),isManaged:ke(nt.boolean,!1)}),"InvitationDetails"),v4e=nt.readonly(nt.type({email:nt.string,reason:nt.union([nt.literal("is_existing_user"),nt.literal("is_existing_guest")])}),"FailedInvites"),F4e=nt.readonly(nt.type({successfulInvites:nt.array(EP),failedInvites:nt.array(v4e)}),"InviteResponse"),G4e=nt.readonly(nt.type({state:nt.string,inviteUuid:nt.union([nt.string,nt.undefined]),userUuid:nt.union([nt.string,nt.undefined]),vaultAcl:nt.union([nt.number,nt.undefined]),vaultUuid:nt.union([nt.string,nt.undefined]),shouldConfirm:nt.boolean}),"InviteVaultV2"),YrA=lc((A,e)=>({name:"lookUpInvitation",method:"GET",url:`/api/v1/invite/${A}/${e}`,responseType:EP,encrypted:!1})),ZrA=lc(A=>({name:"lookUpTeamInvitation",method:"GET",url:`/api/v1/teaminvite/${A}`,encrypted:!1,responseType:y4e})),QrA=lc(()=>({name:"getPendingInvitations",method:"GET",url:"/api/v1/invites",responseType:nt.array(EP)})),AaA=lc(A=>({name:"inviteViaSlack",method:"POST",url:"/api/v1/invite/slack",body:A,options:{timeout:6e4},responseType:nt.array(EP)})),eaA=lc((A,e,t)=>({name:"inviteUsersViaEmail",method:"POST",url:`/api/v1/invite${t?`?source=${t}`:""}`,body:{invites:A,type:e},responseType:nt.array(F4e)})),taA=lc(A=>({name:"teamInvitePerson",method:"POST",url:"/api/v1/teaminvite",body:A,responseType:jA,encrypted:!1})),raA=lc(A=>({name:"resendInvitations",method:"GET",url:`/api/v1/invite/resend/${A.join(",")}`,responseType:nt.array(EP)})),aaA=lc(A=>({name:"revokeInvitations",method:"DELETE",url:`/api/v1/invite/${A.join(",")}`,responseType:jA})),jaA=lc(A=>({name:"generateReplyToConfirmation",method:"POST",url:"/api/v1/invite/replyto/begin",body:{email:A},responseType:jA})),naA=lc((A,e)=>({name:"completeReplyToConfirmation",method:"POST",url:"/api/v1/invite/replyto/complete",body:{token:e,email:A},responseType:jA})),w4e=nt.readonly(nt.type({inviteSecret:nt.string}),"RegenerateSignUpLinkResponse"),iaA=lc(()=>({name:"regenerateSignUpLink",method:"PUT",url:"/api/v1/account/teaminvite/regenerate",responseType:w4e})),oaA=lc(A=>({name:"getInviteVaults",method:"GET",url:`/api/v2/invitevault${Ia(A)}`,responseType:nt.array(G4e)})),saA=lc(A=>({name:"updateInviteVault",method:"PUT",url:"/api/v2/invitevault",body:A,responseType:jA})),laA=lc(A=>({name:"deleteInviteVault",method:"DELETE",url:"/api/v2/invitevault",body:A,responseType:jA}));var q4e=EA("web-api/api/item_usage.ts"),xP;(function(A){A.Fill="fill",A.SelectSsoProvider="select-sso-provider",A.EnterItemEditMode="enter-item-edit-mode",A.Export="export",A.Share="share",A.SecureCopy="secure-copy",A.Reveal="reveal"})(xP||(xP={}));var $4e=q4e(A=>({name:"reportItemUsage",method:"POST",url:"/api/v3/user/itemusage",body:A,responseType:jA}));var ze=AA(OA());var Oh=EA("web-api/api/item_share.ts"),Fk;(function(A){A.AnyoneWithTheLink="P",A.OnlySomePeople="A"})(Fk||(Fk={}));var bP=cr(Fk,"ItemShareAvailableTo"),Dm;(function(A){A.Email="E",A.Domain="D"})(Dm||(Dm={}));var E2A=cr(Dm,"ItemShareRecipientType"),I4e=ze.intersection([ze.type({allowed:ze.boolean,maxSize:ze.number}),ze.partial({allowedTypes:ze.readonlyArray(bP),allowedRecipientTypes:ze.readonlyArray(E2A),maxExpiry:ze.number,defaultExpiry:ze.number,maxViews:ze.union([ze.number,ze.undefined])})]),P4e=ze.readonly(ze.type({allowedTypes:ze.readonlyArray(bP),allowedRecipientTypes:ze.readonlyArray(E2A),maxExpiry:ze.number,defaultExpiry:ze.number,maxViews:ze.union([ze.number,ze.undefined]),files:I4e}),"ItemSharePreflightResponse"),$9;(function(A){A.Active="A",A.Inactive="I"})($9||($9={}));var S4e=cr($9,"ItemShareState"),C4e=ze.readonly(ze.type({type:ze.literal(Dm.Email),email:ze.string}),"ItemShareRecipientEmail"),O4e=ze.readonly(ze.type({type:ze.literal(Dm.Domain),domain:ze.string}),"ItemShareRecipientDomain"),caA=ze.union([C4e,O4e]),T4e=ze.readonly(ze.type({uuid:ze.string,state:S4e,itemVersion:ze.number,createdAt:Ro,expiresAt:Ro,sharedBy:ze.readonly(ze.type({uuid:ze.string,name:ze.union([ze.string,ze.undefined])})),encShareSecret:ze.union([no,ze.undefined]),url:ze.string,type:bP,recipients:ze.union([ze.readonlyArray(caA),ze.undefined]),viewCount:ze.number,maxViews:ze.union([ze.number,ze.undefined]),canDelete:ze.boolean})),_4e=ze.readonly(ze.type({shares:ze.readonlyArray(T4e)})),uaA=Oh((A,e)=>({name:"getSharedHistoryForItem",method:"GET",url:`/api/v4/itemshare/${A}/${e}`,responseType:_4e})),daA=Oh((A,e)=>({name:"getItemSharePreflight",method:"GET",url:`/api/v4/itemshare/preflight/${A}/${e}`,responseType:P4e})),D4e=ze.readonly(ze.type({url:ze.string}),"CreateItemShareResponse"),maA=Oh(A=>({name:"createItemShare",method:"POST",url:"/api/v4/itemshare",body:A,responseType:D4e})),z4e=ze.readonly(ze.type({rejectedRecipients:ze.readonlyArray(caA)})),paA=Oh(A=>({name:"validateItemShareRecipients",method:"POST",url:"/api/v4/itemshare/validate-recipients",body:A,responseType:z4e})),M4e=ze.readonly(ze.type({uuid:ze.string,ip:ze.string,accessorEmail:ze.string,timestamp:Ro,action:ze.string,location:ze.union([ze.readonly(ze.type({city:ze.string,country:ze.string,countryCode:ze.string}),"ItemShareAuditLocation"),ze.undefined])}),"ItemShareAuditEvent"),R4e=ze.readonly(ze.type({createdAt:Ro,expiresAt:Ro,maxViews:ze.union([ze.number,ze.undefined]),state:ze.string,accessType:bP,sharedBy:ze.string,recipients:ke(ze.readonlyArray(caA),[]),events:ke(ze.readonlyArray(M4e),[])}),"ItemShareAuditDetailsResponse"),kaA=Oh(A=>({name:"getItemShareAuditDetails",method:"GET",url:`/api/v3/itemshare/audit/${A}`,responseType:R4e})),K4e=ze.readonly(ze.type({token:ze.string,email:ze.string,expiresAt:Ro}),"ShareSeviceAuthTokenResponse"),haA=Oh(()=>({name:"getShareSeviceAuthToken",method:"GET",url:"/api/v3/itemshare/token",responseType:K4e})),gaA=Oh((A,e,t)=>({name:"deleteItemShare",method:"DELETE",url:`/api/v3/itemshare/${A}/${e}/${t}`,responseType:jA})),faA=Oh(A=>({name:"updateAccountShareSettings",method:"POST",url:"/api/v3/itemshare/admin/settings",body:A,responseType:jA})),L4e=ze.readonly(ze.type({allowedDomains:ke(ze.readonlyArray(ze.string),[]),allowedTypes:ze.readonlyArray(bP),enforceAllowedDomains:ze.boolean,allowFiles:ze.union([ze.boolean,ze.undefined]),defaultExpiry:ze.number,maxExpiry:ze.number,maxViews:ze.union([ze.number,ze.undefined]),allowTeamJoin:ze.boolean})),BaA=Oh(()=>({name:"getAccountShareSettings",method:"GET",url:"/api/v3/itemshare/admin/settings",responseType:L4e}));var iB=AA(OA());var U4e=EA("web-api/api/keyset.ts"),x2A=iB.readonly(iB.type({version:iB.number,keysets:iB.readonlyArray(tc)}),"UserKeysets"),EaA=U4e(()=>({name:"getKeysets",method:"GET",url:"/api/v2/account/keysets",responseType:x2A}));var ya=AA(OA());var P9=EA("web-api/api/managed_account.ts"),I9;(function(A){A.Active="A",A.Unlinked="U"})(I9||(I9={}));var xaA=ya.readonly(ya.type({uuid:ya.string,name:ya.string,domain:Xe(ya.string),state:cr(I9,"ManagedAccountState"),activeSeats:Xe(ya.number)},"ManagedAccount")),H4e=ya.readonly(ya.intersection([ya.type({name:ya.string,country:ya.string}),ya.partial({website:ya.string,region:ya.string,zip:ya.string})]),"CompanyDetails"),b2A=ya.readonly(ya.type({kid:ya.string,encryptedBy:ya.string,encKey:QA.JweB},"ManagedAccountKey")),zLt=ya.readonly(ya.type({companyDetails:H4e,managedAccountKey:b2A,eamUserKeyset:QA.KeysetCiphertext},"CreateManagedAccountRequest")),MLt=ya.readonly(ya.type({managedAccountUuid:ya.string})),V4e=ya.readonly(ya.type({sessionUuid:ya.string,sessionKey:QA.JwkSymKey,managedAccountKey:b2A,mspKey:QA.KeysetCiphertext,notifier:ya.string},"LaunchSessionResponse")),RLt=ya.readonly(ya.type({type:ya.string,accountUuid:ya.string,sessionUuid:ya.string,sessionKey:QA.JwkSymKey,managedAccountKey:QA.JwkSymKey,mspKey:QA.KeysetCiphertext,notifier:ya.string}),"LaunchSessionData"),KLt=ya.readonly(ya.type({type:ya.string},"MessageRelayReady")),baA=P9(()=>({name:"getManagedAccounts",method:"GET",url:"/api/v1/msp/managed-accounts",responseType:ya.array(xaA)})),yaA=P9(A=>({name:"createManagedAccount",method:"POST",url:"/api/v1/msp/managed-accounts",body:A,responseType:xaA})),vaA=P9(A=>({name:"unlinkManagedAccount",method:"DELETE",url:`/api/v1/msp/managed-accounts/${A}`,responseType:jA})),FaA=P9(A=>({name:"createLaunchSession",method:"POST",url:"/api/v1/msp/launch",body:A,responseType:V4e}));var cl=AA(OA());var X4e=EA("web-api/api/managed_account_net_seats.ts"),y2A=cl.readonly(cl.type({uuid:cl.string,name:cl.string,netSeats:cl.number,avatar:Xe(cl.string),website:Xe(cl.string),domain:cl.string},"ManagedAccountNetSeats")),HLt=cl.type({startDate:Xe(cl.string),endDate:Xe(cl.string)}),GaA=X4e(A=>{let e=new URLSearchParams;return A.startDate&&e.set("startDate",A.startDate),A.endDate&&e.set("endDate",A.endDate),{name:"getManagedAccountsNetSeats",method:"GET",url:`/api/v1/msp/managed-accounts/net-seats?${e.toString()}`,responseType:cl.array(y2A)}});var vd=AA(OA());var v2A=EA("web-api/api/monitoring.ts"),F2A=vd.readonly(vd.partial({status:vd.union([vd.literal("error"),vd.literal("ok"),vd.literal("unknown")]),lastChecked:vd.string}),"MonitoringStatus"),yP=v2A(A=>({name:"createMonitoringCheck",method:"POST",url:"/api/v1/monitoring",body:A,responseType:jA})),waA=v2A(()=>({name:"getMonitoringStatus",method:"GET",url:"/api/v1/monitoring/status",responseType:F2A}));var Xj=AA(OA());var S9=EA("web-api/api/msp.ts"),W4e=Xj.readonly(Xj.type({accessorUuid:Xj.string,accessorType:Xj.string,encKey:tc,encryptedBy:Xj.string},"MspAccess")),J4e=Xj.readonly(Xj.array(W4e)),ANt=Xj.readonly(Xj.type({access:J4e})),G2A=Xj.readonly(Xj.intersection([Xj.type({acl:Xj.array(Xj.string)}),Xj.partial({encKeyset:tc})]),"MspUserPermissionsResponse"),w2A=Xj.readonly(Xj.type({acl:ke(Xj.array(Xj.string),[])},"MspGroupPermissionsResponse")),Y4e=Xj.intersection([Xj.type({acl:ke(Xj.array(Xj.string),[])}),Xj.partial({encKey:tc,encryptedBy:Xj.string})],"MspGroupPermissionsRequest"),qaA=S9(A=>({name:"setupMsp",method:"POST",url:"/api/v1/msp",body:A,responseType:jA})),$aA=S9(()=>({name:"getUserMspPermissions",method:"GET",url:"/api/v1/msp",responseType:G2A})),IaA=S9(A=>({name:"getGroupMspPermissions",method:"GET",url:`/api/v1/msp/access/group/${A}`,responseType:w2A})),PaA=S9((A,e)=>({name:"updateGroupMspPermissions",method:"PUT",url:`/api/v1/msp/access/group/${A}`,body:e,responseType:jA}));var Cs=AA(OA());var CaA=EA("web-api/api/notifications.ts"),SaA;(function(A){A.DeviceEnrollment="DEVICE_ENROLL"})(SaA||(SaA={}));var Z4e=Cs.intersection([Cs.type({uuid:Cs.string,type:Cs.string},"type"),Cs.partial({payload:Cs.string},"partial")],"Notification"),Q4e=Cs.readonly(Cs.type({notifications:Cs.readonlyArray(Z4e)}),"NotificationsResponse"),OaA=CaA(()=>({name:"getNotifications",method:"GET",url:"/api/v2/notification",responseType:Q4e})),TaA=CaA(A=>({name:"acknowledgeNotification",method:"POST",url:"/api/v2/notification/acknowledge",body:A,responseType:jA})),aNt=Cs.readonly(Cs.type({token:Cs.string}),"SaveSettingsRequest"),_aA=CaA(A=>({name:"saveNotificationSettings",method:"POST",url:"/api/v2/notification/settings",body:A,responseType:jA}));var nw=AA(OA());var APe=EA("web-api/api/notifier.ts"),ePe=nw.readonly(nw.type({notifierUrl:nw.string},"type"),"GetNotifierUrlResponse"),q2A=APe(()=>({name:"getNotifierUrl",method:"GET",url:"/api/v2/notifier/url",responseType:ePe}));var qt=AA(OA());var uc=EA("web-api/api/object_access.ts"),xi;(function(A){A.ConnectCredentialsFull="full",A.ConnectCredentialsSigningPrivateKeyToken="signing-private-key,token",A.SigningPrivateKey="signing-private-key",A.AdminWatchtowerKeysetPrivateKey="private-key",A.DetailedVaultReportingKeysetPrivateKey="private-key",A.UserManagedServiceAccountCreator="usermanaged-service-account-creator",A.None=""})(xi||(xi={}));var tPe=cr(xi,"DataType"),vo;(function(A){A.ServiceAccountConnect="serviceaccount.connect",A.ServiceAccountDataStreaming="serviceaccount.streaming",A.AdminWatchtowerKeyset="keyset.adminwatchtower",A.ServiceAccountUserManaged="serviceaccount.usermanaged",A.DetailedVaultReportingKeyset="keyset.detailedvaultreporting"})(vo||(vo={}));var ow=cr(vo,"ObjectType"),os;(function(A){A.Manage="scope:manage",A.Every="scope:every",A.Some="scope:some"})(os||(os={}));var O9=cr(os,"ObjectDataAccessScope"),Os;(function(A){A.ServiceAccountTokenCreate="token-create",A.ServiceAccountTokenRevoke="token-delete",A.ServiceAccountTokenEdit="token-edit",A.ServiceAccountCreate="sa-create",A.ServiceAccountEdit="sa-edit",A.ServiceAccountDelete="sa-delete",A.ServiceAccountCreatorManaged="sa-creator-managed",A.ServiceAccountConnectVaultAccessEdit="vault-access-edit",A.ServiceAccountConnectAddRemove="add-remove"})(Os||(Os={}));var $2A=cr(Os,"ObjectDataAccessAcl"),I2A=qt.union([O9,$2A]),C9;C9||(C9={});var rPe=cr(C9,"ObjectDataAcl"),iw;(function(A){A.Active="A"})(iw||(iw={}));var P2A=cr(iw,"ObjectDataAccessState"),cc;(function(A){A.Group="G",A.User="U"})(cc||(cc={}));var DaA=cr(cc,"ObjectDataAccessorType"),S2A=qt.readonly(qt.union([qt.type({dataType:tPe,encKey:QA.JweB,encData:QA.JweB}),qt.type({dataType:qt.literal(xi.None)}),qt.intersection([qt.type({dataType:qt.literal(xi.UserManagedServiceAccountCreator)}),qt.partial({creatorUuid:qt.string})])]),"ObjectDataValue"),vP=qt.readonly(qt.type({objectType:ow,objectUuid:qt.string,data:S2A,encryptedBy:qt.string,acl:qt.readonlyArray(qt.string)})),aPe=qt.readonly(qt.type({data:vP}),"UpdateObjectDataRequest"),C2A=qt.readonly(qt.type({avatar:qt.string,name:qt.string,type:qt.string}),"AccessorPreview"),O2A=qt.readonly(qt.intersection([qt.type({accessorType:DaA,accessorUuid:qt.string,acl:qt.readonlyArray(qt.string),objectType:qt.string,objectUuid:qt.string,scope:O9},"type"),qt.partial({accessorPreview:C2A},"partial")],"CombinedObjectAccessor")),T9=qt.readonly(qt.type({objectType:ow,scope:O9,keysets:qt.readonlyArray(QA.KeysetCiphertext),data:qt.readonlyArray(vP)}),"UserCombinedObjectDataAccess"),T2A=qt.readonly(qt.type({combinedAccess:T9}),"UserCombinedObjectDataAccessResponse"),zaA=uc(A=>({name:"getUserCombinedObjectDataAccess",method:"GET",url:`/api/v1/objects/${A}/access/combined`,responseType:T2A})),_2A=qt.readonly(qt.type({access:qt.array(O2A)})),oB=qt.readonly(qt.intersection([qt.type({state:P2A,objectType:ow,accessorUuid:qt.string,accessorType:DaA,kid:qt.string,pubKey:QA.JwkRsaPubKey,encryptedBy:qt.string,createdAt:qt.string,updatedAt:qt.string,acl:qt.array(I2A)},"type"),qt.partial({encKeyset:QA.KeysetCiphertext},"partial")]),"ObjectDataAccess"),MaA=uc(A=>({name:"createObjectDataAccess",method:"POST",url:`/api/v1/objects/${A.access.objectType}/access`,body:A,responseType:jA})),RaA=uc((A,e,t)=>({name:"deleteObjectDataAccess",method:"DELETE",url:`/api/v1/objects/${A}/access/${t}/${e}`,responseType:jA})),_9=qt.readonly(qt.type({access:qt.readonlyArray(oB)})),KaA=uc((A,e,t)=>({name:"getObjectDataAccess",method:"GET",url:`/api/v1/objects/${A}/access/${e}/${t}`,responseType:_9})),LaA=uc((A,e)=>({name:"createObjectData",method:"POST",url:`/api/v1/objects/${A}`,body:e,responseType:jA})),NaA=uc(A=>({name:"getObjectDataAccessorsForObjectType",method:"GET",url:`/api/v1/objects/${A}/access`,responseType:_9})),D2A=qt.readonly(qt.type({objectType:ow,accessors:qt.readonlyArray(oB)}),"ObjectDataPreflightResponse"),UaA=uc((A,e,t)=>{let r=Ia({accessorDetails:t.accessorDetails});return{name:"getCombinedObjectAccessors",method:"GET",url:`/api/v1/objects/${A}/${e}/access/combined${r}`,responseType:_2A}}),D9=async(A,e)=>{try{return await jPe(A,e)}catch(t){let r=DI(t);if(jZ(r,ru.notFound))return;throw r}},jPe=uc(A=>({name:"getObjectDataPreflightWith404",method:"GET",url:`/api/v2/objects/${A}/preflight`,responseType:D2A})),z2A=qt.readonly(qt.type({objectType:ow,requiredGroups:ke(qt.readonlyArray(qt.string),[]),existingAccess:qt.union([oB,qt.undefined]),keyset:qt.union([QA.KeysetCiphertext,qt.undefined]),data:ke(qt.readonlyArray(vP),[])}),"ObjectDataAccessPreflightResponse"),sw=uc((A,e,t)=>{let r=`/api/v1/objects/${A}/access/preflight/${e}`;return t&&(r+=`?accessoruuid=${t}`),{name:"getObjectDataAccessPreflight",method:"GET",url:r,responseType:z2A}}),FP=uc((A,e)=>({name:"addObjectData",method:"PATCH",url:`/api/v1/objects/${A}`,body:e,responseType:jA})),HaA=uc((A,e,t,r)=>({name:"deleteObjectData",method:"DELETE",url:`/api/v1/objects/${A}/${e}/${t}/${r}`,responseType:jA})),nPe=uc(A=>({name:"getObjectDataAccessForUserAndType",method:"GET",url:`/api/v1/objects/${A}/access/user`,responseType:_9})),VaA=uc((A,e,t,r,a)=>({name:"updateObjectData",method:"PUT",url:`/api/v1/objects/${A}/${e}/${t}/${r}`,body:a,responseType:jA})),M2A=qt.readonly(qt.type({objectType:ow,objectData:qt.readonlyArray(vP)}),"ObjectDataWithSpec1Response"),XaA=uc(A=>({name:"getAllObjectDataWithDataSpec1",method:"GET",url:`/api/v1/objects/${A}/dataspec/1`,responseType:M2A}));var iPe=EA("web-api/api/outdated_browser.ts"),WaA=iPe(A=>({name:"reportOutdatedBrowser",method:"POST",url:"/api/v2/report-outdated-browser",body:A,responseType:jA}));var Jr=AA(OA());var zm=EA("web-api/api/package.ts"),R2A=Jr.intersection([Jr.type({sourceVaultUuid:Jr.string,senderUuid:Jr.string,recipientUuid:Jr.string,itemUuid:Jr.string,itemVersion:Jr.number,templateUuid:Jr.string,encKey:QA.JweB,recoverableEncKey:QA.JweB,encOverview:QA.JweB,signature:QA.JwsB},"type"),Jr.partial({uuid:Jr.string,createdAt:Jr.string,updatedAt:Jr.string,clientCreatedAt:Jr.string,clientUpdatedAt:Jr.string,encDetails:QA.JweB},"partial")],"Package"),z9=Jr.readonly(Jr.intersection([R2A,Jr.type({uuid:Jr.string},"type")]),"IncomingPackage"),YaA=zm(A=>({name:"sendPackages",method:"PATCH",url:"/api/v1/packages",body:A,responseType:jA})),ZaA=zm(()=>({name:"getIncomingPackages",method:"GET",url:"/api/v1/packages/incoming",responseType:Jr.array(z9)})),QaA=zm(A=>({name:"getIncomingPackage",method:"GET",url:`/api/v1/package/${A}`,responseType:z9})),AjA=zm((A,e)=>({name:"getPackagesForVaultItem",method:"GET",url:`/api/v1/packages/sent/${A}/${e}`,responseType:Jr.array(z9)})),M9=zm(A=>({name:"removePackages",method:"DELETE",url:"/api/v1/packages",body:A,responseType:jA})),K2A=Jr.readonly(Jr.type({uuid:Jr.string,name:Jr.string,email:Jr.string,avatar:Jr.string,signingKey:QA.JwkEcPubKey}),"Sender"),ejA=Jr.readonly(Jr.intersection([Jr.type({uuid:Jr.string,formatVersion:Jr.number,sender:K2A,createdAt:Jr.string,expiresAt:Jr.string,encOverview:QA.JweB},"type"),Jr.partial({readAt:Jr.string},"partial")]),"IncomingPackageOverviewV2"),L2A=Jr.readonly(Jr.intersection([ejA,Jr.type({encDetails:QA.JweB},"type")]),"IncomingPackageV2"),JaA;(function(A){A[A.OneDay=86400]="OneDay",A[A.OneWeek=604800]="OneWeek",A[A.OneMonth=2678400]="OneMonth",A[A.TwoMonths=5356800]="TwoMonths"})(JaA||(JaA={}));var tjA=Jr.readonly(Jr.type({packages:Jr.readonlyArray(ejA),totalCount:Jr.number}),"PackageOverviews"),oPe=zm(A=>({name:"sendPackageV2",method:"POST",url:"/api/v2/packages",body:A,responseType:jA})),sPe=zm(()=>({name:"getIncomingPackagesV2",method:"GET",url:"/api/v2/packages",responseType:tjA})),lPe=zm(A=>({name:"getMoreIncomingPackages",method:"GET",url:`/api/v2/packages${Ia(A)}`,responseType:tjA})),cPe=zm(A=>({name:"getIncomingPackageV2",method:"GET",url:`/api/v2/packages/${A}`,responseType:L2A})),rjA=zm(A=>({name:"markPackageAsRead",method:"PATCH",url:`/api/v2/packages/${A}/read`,responseType:jA})),ajA=zm(A=>({name:"removePackageV2",method:"DELETE",url:`/api/v2/packages/${A}`,responseType:jA}));var du=AA(OA());var uPe=EA("web-api/api/pending_invitations.ts"),dPe=du.type({uuid:du.string,email:du.string,userType:du.string,expiresAt:du.string,status:du.string}),N2A=du.type({pendingInvitations:du.array(dPe),totalCount:du.number},"GetPendingInvitationResponse"),U2A=A=>{let e=new URLSearchParams;return Object.entries(A).forEach(([t,r])=>{e.append(t,r.toString())}),e.toString()},jjA=uPe(A=>({name:"getPendingInvitation",method:"GET",url:`/api/v1/pending-invitations?${U2A(A)}`,responseType:N2A}));var Pr=AA(OA());var ojA={};Na(ojA,{AppBuild:()=>njA,AppRelease:()=>Fd,AppReleases:()=>ijA,Device:()=>dc});var Yn=AA(OA());var dc;(function(A){A.Type=Yn.intersection([Yn.type({uuid:Yn.string,clientName:Yn.string,clientVersion:Yn.string}),Yn.partial({name:Yn.string,model:Yn.string,osName:Yn.string,osVersion:Yn.string,userAgent:Yn.string,lastAuthIP:Yn.string,avatar:Yn.string,locationCity:Yn.string,locationCountry:Yn.string,locationCountryCode:Yn.string,state:Yn.string,createdAt:Yn.string,updatedAt:Yn.string,lastAuthAt:Yn.string,fromDeviceInit:Yn.boolean})],"Device");let e=5184e6;A.isInactive=t=>{let r=Date.now()-e;return!!t.lastAuthAt&&AP(t.lastAuthAt)<r},A.compareAuthDates=(t,r)=>AP(r.lastAuthAt)-AP(t.lastAuthAt)})(dc||(dc={}));var ha=AA(OA()),njA=ha.readonly(ha.type({version:ha.string,url:ha.union([ha.string,ha.undefined]),buildnum:ha.number,bbn:ha.union([ha.string,ha.undefined])},"AppBuild")),Fd=ha.readonly(ha.type({release:ha.union([njA,ha.undefined]),beta:ha.union([njA,ha.undefined])},"AppRelease")),ijA=ha.readonly(ha.type({B:ha.union([Fd,ha.undefined]),CLI:ha.union([Fd,ha.undefined]),KNOX:ha.union([Fd,ha.undefined]),OPA4:ha.union([Fd,ha.undefined]),OPI4:ha.union([Fd,ha.undefined]),OPM4:ha.union([Fd,ha.undefined]),OPM7:ha.union([Fd,ha.undefined]),OPM8:ha.union([Fd,ha.undefined]),OPW4:ha.union([Fd,ha.undefined]),OPW8:ha.union([Fd,ha.undefined]),SCIM:ha.union([Fd,ha.undefined])},"AppReleases"));var x6=EA("web-api/api/person.ts"),R9=Pr.intersection([Pr.type({uuid:Pr.string,email:Pr.string,name:Pr.string,state:Pr.string,type:Pr.string,attrVersion:Pr.number,keysetVersion:Pr.number},"type"),Pr.partial({avatar:Pr.string,language:Pr.string,combinedPermissions:Pr.number,newsletterPrefs:Pr.number,preferences:Pr.number,externalGUID:Pr.string,createdAt:Pr.string,updatedAt:Pr.string,lastAuthAt:Pr.string},"partial")],"BasePerson"),sB=Pr.intersection([R9,Pr.partial({hasMFAEnabled:Pr.boolean,proposedEmail:Pr.string,pubKey:QA.JwkRsaPubKey},"partial"),Pr.type({personalItemsCount:Pr.union([Pr.number,Pr.null]),keysets:Pr.union([Pr.readonlyArray(QA.KeysetCiphertext),Pr.null]),memberships:Pr.union([Pr.readonlyArray(Ha.Type),Pr.null]),vaultAccess:Pr.union([Pr.readonlyArray(Tm),Pr.null]),devices:Pr.union([Pr.readonlyArray(dc.Type),Pr.null])},"type")],"Person"),mPe=["pubkey","keysets","groups","vault-access","devices","personal-items-count","proposed-email-change"],sjA=x6((A,e)=>{let t="?states=all",r=Bk(e,mPe),a=r.length>0?"&attrs="+r.join(","):"";return{name:"getUser",method:"GET",url:`/api/v2/user/${A}${t}${a}`,responseType:sB}}),H2A=Pr.readonly(Pr.type({uuid:Pr.string,pubKey:QA.JwkRsaPubKey}),"UserPubKey"),ljA=x6(A=>({name:"getUserPubKeys",method:"GET",url:`/api/v1/user/pubkeys?uuids=${A.join(",")}`,responseType:Pr.array(H2A)})),GP=x6(A=>({name:"changeUserName",method:"POST",url:"/api/v1/person/name",body:A,responseType:jA})),wP=x6(A=>({name:"changeUserAvatar",method:"POST",url:"/api/v1/person/avatar",body:A,responseType:jA})),cjA=x6(A=>({name:"deleteUsers",method:"DELETE",url:`/api/v1/people/${A.join(",")}`,responseType:jA})),ujA=x6((A,e)=>({name:"deletePerson",method:"DELETE",url:"/api/v2/people",body:{uuid:A,reason:e},responseType:jA})),djA=x6((A,e)=>({name:"confirmUsersWithMemberships",method:"PUT",url:"/api/v2/people/confirm",body:{peopleUuids:A,groupMemberships:e},responseType:jA})),mjA=x6((A,e)=>({name:"confirmUsersWithVaultAccessList",method:"PUT",url:"/api/v2/people/confirm",body:{peopleUuids:A,vaultaccess:e},responseType:jA})),pjA=x6((A,e,t)=>({name:"confirmUsersWithMembershipsAndVaultAccessList",method:"PUT",url:"/api/v2/people/confirm",body:{peopleUuids:A,groupMemberships:e,vaultaccess:t},responseType:jA})),kjA=x6(A=>({name:"suspendUsers",method:"PUT",url:`/api/v1/people/suspend/${A.join(",")}`,responseType:jA})),hjA=x6(A=>({name:"markAwayForTravel",method:"PUT",url:"/api/v1/people/enabletravel",body:{uuids:A},responseType:jA})),gjA=x6(A=>({name:"markBackFromTravel",method:"PUT",url:"/api/v1/people/disabletravel",body:{uuids:A},responseType:jA})),fjA=x6(A=>({name:"reactivateUsers",method:"PUT",url:`/api/v1/people/reactivate/${A.join(",")}`,responseType:jA})),BjA=x6(A=>({name:"updateUser",method:"POST",url:"/api/v1/user/attrs",body:A,responseType:jA})),EjA=x6((A,e,t)=>({name:"upgradeGuestToMember",method:"PUT",responseType:jA,url:`/api/v3/user/upgrade-guest/${A}`,body:{vault:e,membership:t}}));var Wj=AA(OA());var Fo=AA(OA());var V2A=EA("web-api/api/policies/auto_lock.ts"),X2A=Fo.readonly(Fo.type({enabled:ke(Fo.boolean,!1),lockAfterIdleTimeMin:ke(Fo.number,480)}),"AutoLockPolicyDefinition"),W2A=Fo.readonly(Fo.partial({uuid:Fo.string,firstName:Fo.string,lastName:Fo.string}),"AutoLockLastUpdatedByUser"),J2A=Fo.readonly(Fo.intersection([Fo.type({definition:X2A}),Fo.partial({lastUpdated:Fo.string,lastUpdatedByUser:W2A})]),"AutoLockPolicyResponse"),xjA=V2A(()=>({name:"getAutoLockPolicy",method:"GET",url:`/api/v1/policies/${bi.AdminExperience}/${yi.AutoLock}`,responseType:J2A})),bjA=V2A(A=>({name:"updateAutoLockPolicy",method:"POST",url:`/api/v1/policies/${bi.AdminExperience}/${yi.AutoLock}`,body:{definition:A},responseType:jA}));var K9=AA(OA());var Y2A=EA("web-api/api/policies/sidebar_navigation.ts"),Z2A=K9.readonly(K9.type({definition:t9}),"SidebarNavPolicy"),yjA=Y2A(()=>({name:"getSidebarNavPolicies",method:"GET",url:`/api/v1/policies/${bi.AdminExperience}/${yi.SidebarNav}`,responseType:Z2A})),vjA=Y2A(A=>({name:"updateSidebarNavPolicies",method:"POST",url:`/api/v1/policies/${bi.AdminExperience}/${yi.SidebarNav}`,body:{definition:A},responseType:jA}));var Mm=AA(OA());var Q2A=EA("web-api/api/policies/restrict_failed_login_attempts.ts"),L9=3,pPe=10,N9=10,ACA=Mm.readonly(Mm.type({enabled:ke(Mm.boolean,!1),allowedAttempts:ke(Mm.number,L9),lockoutPeriodMin:ke(Mm.number,N9)}),"RestrictFailedLoginAttemptsPolicyDefinition"),eCA=Mm.readonly(Mm.type({definition:ACA}),"RestrictFailedLoginAttemptsPolicyResponse"),FjA=Q2A(()=>({name:"getRestrictFailedLoginAttemptsPolicy",method:"GET",url:`/api/v2/policies/${bi.AdminExperience}/${yi.RestrictFailedLoginAttempts}`,responseType:eCA})),GjA=Q2A(A=>({name:"updateRestrictFailedLoginAttemptsPolicy",method:"POST",url:`/api/v2/policies/${bi.AdminExperience}/${yi.RestrictFailedLoginAttempts}`,body:{definition:A},responseType:jA}));var ss=AA(OA());var tCA=EA("web-api/api/policies/allow_account_creation.ts"),rCA=ss.readonly(ss.type({enabled:ke(ss.boolean,!1)}),"AllowAccountCreationDefinition"),aCA=ss.readonly(ss.partial({uuid:ss.string,firstName:ss.string,lastName:ss.string}),"AllowAccountCreationLastUpdatedByUser"),jCA=ss.readonly(ss.intersection([ss.type({definition:rCA}),ss.partial({lastUpdated:ss.string,lastUpdatedByUser:aCA})]),"AllowAccountCreationResponse"),wjA=tCA(()=>({name:"getAllowAccountCreationPolicy",method:"GET",url:`/api/v2/policies/${bi.AdminExperience}/${yi.AllowAccountCreation}`,responseType:jCA})),qjA=tCA(A=>({name:"updateAllowAccountCreationPolicy",method:"POST",url:`/api/v2/policies/${bi.AdminExperience}/${yi.AllowAccountCreation}`,body:{definition:A},responseType:jA}));var nCA=EA("web-api/api/policies/auto_delete_suspended_users.ts"),$jA=nCA(()=>({name:"getAutoDeleteSuspendedUsersPolicies",method:"GET",url:`/api/v2/policies/${bi.AdminExperience}/${yi.AutoDeleteSuspendedUsers}`,responseType:ktA})),IjA=nCA(A=>({name:"updateAutoDeleteSuspendedUsersPolicies",method:"POST",url:`/api/v2/policies/${bi.AdminExperience}/${yi.AutoDeleteSuspendedUsers}`,body:{definition:A},responseType:jA}));var lB=AA(OA());var iCA=EA("web-api/api/policies/release_channels.ts"),U9=200,oCA=lB.readonly(lB.type({restrictTo:ke(lB.number,U9)}),"ReleaseChannelsPolicyDefinition"),sCA=lB.readonly(lB.type({definition:oCA}),"ReleaseChannelsPolicyResponse"),PjA=iCA(()=>({name:"getReleaseChannelsPolicy",method:"GET",url:`/api/v2/policies/${bi.AdminExperience}/${yi.ReleseChannels}`,responseType:sCA})),SjA=iCA(A=>({name:"updateReleaseChannelsPolicy",method:"POST",url:`/api/v2/policies/${bi.AdminExperience}/${yi.ReleseChannels}`,body:{definition:A},responseType:jA}));var cB=AA(OA());var lCA=EA("web-api/api/policies/ssh_bookmarks.ts"),cCA=cB.readonly(cB.type({allowSshBookmarksSyncToDisk:ke(cB.boolean,!0)})),uCA=cB.readonly(cB.type({definition:cCA}),"SshBookmarksPolicyResponse"),CjA=lCA(()=>({name:"getSshBookmarksPolicy",method:"GET",url:`/api/v2/policies/${bi.Developer}/${yi.SshBookmarks}`,responseType:uCA})),OjA=lCA(A=>({name:"updateSshBookmarksPolicy",method:"POST",url:`/api/v2/policies/${bi.Developer}/${yi.SshBookmarks}`,body:{definition:A},responseType:jA}));var bi;(function(A){A.AdminExperience="admin-exp",A.Developer="developer"})(bi||(bi={}));var yi;(function(A){A.AllowAccountCreation="allow-account-creation",A.AutoLock="auto-lock",A.SidebarNav="sidebar-nav",A.RestrictFailedLoginAttempts="restrict-failed-login-attempts",A.AutoDeleteSuspendedUsers="auto-delete-suspended-users",A.ReleseChannels="release-channels",A.SshBookmarks="ssh-bookmarks"})(yi||(yi={}));var kPe=EA("web-api/api/policies/index.ts"),dCA=Wj.readonly(Wj.type({uuid:Wj.union([Wj.string,Wj.undefined]),policyContext:Wj.string,policyName:Wj.string,definition:Wj.any,lastUpdated:Wj.union([Wj.string,Wj.undefined]),lastUpdatedByUser:Wj.union([Wj.readonly(Wj.type({uuid:Wj.string,firstName:Wj.string,lastName:Wj.string})),Wj.undefined]),version:Wj.number}),"GenericAccountPolicyResponse"),mCA=Wj.readonly(Wj.type({policies:Wj.readonlyArray(dCA),version:Wj.number}),"AllPoliciesResponse"),TjA=kPe(()=>({name:"getAllPolicies",method:"GET",url:"/api/v1/policies/all",responseType:mCA}));var ga=AA(OA());var mu=EA("web-api/api/provision.ts"),hPe=ga.readonly(ga.type({uuid:ga.string,accountName:ga.string,accountType:ga.string,accountUuid:ga.string,domain:ga.string,name:ga.string,email:ga.string,passwordRules:ga.string,accountUsesNewKeysets:ga.union([ga.boolean,ga.undefined]),accountAuthMethods:ga.readonlyArray(vk),account2faTypes:ke(ga.readonlyArray(cr(ll,"MfaType")),[]),enforce2faSetup:ga.boolean,disableEmergencyKit:ke(ga.boolean,!1)}),"Provision"),gPe=ga.readonly(ga.type({valid:ga.boolean}),"ProvisioningEmailVerificationValidity"),fPe=ga.readonly(ga.type({lastResendAt:ga.union([ga.string,ga.undefined]),resendAllCooldown:ga.number}),"ResendDetails"),_jA=mu(A=>({name:"createProvisionUser",method:"POST",url:"/api/v1/provision/user",body:A,responseType:sB})),DjA=mu((A,e)=>({name:"startUserProvision",method:"PUT",url:`/api/v1/provision/user/${encodeURIComponent(A)}/start${Ia(e)}`,responseType:jA})),zjA=mu(A=>({name:"suspendUserProvision",method:"PUT",url:`/api/v2/provision/user/${encodeURIComponent(A)}/suspend`,responseType:jA})),MjA=mu(A=>({name:"resendUserProvision",method:"PUT",url:"/api/v1/provision/resend",body:A,responseType:jA})),RjA=mu(()=>({name:"resendAllUsersProvision",method:"PUT",url:"/api/v1/provision/resend-all",body:{},responseType:jA})),KjA=mu(()=>({name:"getResendDetails",method:"GET",url:"/api/v1/provision/resend-all/details",responseType:fPe})),LjA=mu((A,e)=>({name:"getProvisionDetails",method:"GET",url:`/api/v1/provision/user/${encodeURIComponent(A)}/${e}`,responseType:hPe,encrypted:!1})),NjA=mu((A,e)=>({name:"resendProvisioningEmailVerification",method:"PUT",url:`/api/v2/provision/user/${encodeURIComponent(A)}/${e}/resend-verification`,responseType:jA})),UjA=mu((A,e,t)=>({name:"checkProvisioningEmailVerification",method:"GET",url:`/api/v2/provision/user/${encodeURIComponent(A)}/${e}/${t}`,encrypted:!1,responseType:gPe})),H9=mu(A=>({name:"acceptProvision",method:"POST",url:"/api/v1/provision/user/accept",body:A,responseType:jA,encrypted:!1})),HjA=mu(A=>({name:"getProvisionedPersonalVault",method:"GET",url:`/api/v1/provision/user/${encodeURIComponent(A)}/personalvault`,responseType:Kl})),pCA=ga.readonly(ga.type({vaultUuid:ga.string,vaultKeySN:ga.number,encryptedBy:ga.string,encVaultKey:QA.JweB}),"ProvisionedVaultKey"),kCA=ga.readonly(ga.type({groupUuid:ga.string,keyset:QA.KeysetCiphertext}),"ProvisionedGroupKeyset"),hCA=ga.readonly(ga.type({keyset:QA.KeysetCiphertext,vaultKeys:ga.readonlyArray(pCA),groupKeysets:ga.readonlyArray(kCA)}),"ProvisionedKeys"),VjA=mu((A,e)=>({name:"completeUserProvision",method:"PUT",url:`/api/v1/provision/user/${encodeURIComponent(A)}/complete`,body:e,responseType:jA})),XjA=mu(A=>({name:"getUserProvisionedKeys",method:"GET",url:`/api/v1/provision/user/${encodeURIComponent(A)}/keys`,responseType:hCA}));var Sr=AA(OA());var Th=EA("web-api/api/recovery.ts"),BPe=Sr.readonly(Sr.type({uuid:Sr.string,accountUuid:Sr.string,accountName:Sr.string,accountType:Sr.string,domain:Sr.string,name:Sr.string,email:Sr.string,passwordRules:Sr.string,accountUsesNewKeysets:Sr.union([Sr.boolean,Sr.undefined]),accountAuthMethods:Sr.array(vk),disableEmergencyKit:ke(Sr.boolean,!1),recoveryKeysExist:ke(Sr.boolean,!1)}),"Recovery"),$Ut=Sr.readonly(Sr.type({token:Sr.string}),"FindRecoveryDetails"),IUt=Sr.readonly(Sr.type({token:Sr.string,emailVerificationChallenge:Sr.string}),"RecoveryChallengeVerify"),EPe=Sr.readonly(Sr.type({emailVerificationSuccessToken:Sr.string}),"RecoveryChallengeVerifyResponse"),WjA=Th((A,e)=>({name:"findRecoveryDetails",method:"POST",url:`/api/v1/recover/${encodeURIComponent(A)}/details`,body:e,responseType:BPe,encrypted:!1})),JjA=Th((A,e)=>({name:"recoveryVerifyEmailStart",method:"POST",url:`/api/v2/recover/${encodeURIComponent(A)}/verify-email/start`,body:e,responseType:jA,encrypted:!1})),YjA=Th((A,e)=>({name:"recoveryVerifyEmailResend",method:"POST",url:`/api/v2/recover/${encodeURIComponent(A)}/verify-email/resend`,body:e,responseType:jA,encrypted:!1})),ZjA=Th((A,e)=>({name:"recoveryVerifyEmailAuth",method:"POST",url:`/api/v2/recover/${encodeURIComponent(A)}/verify-email/verify`,body:e,responseType:EPe,encrypted:!1})),QjA=Th(A=>({name:"beginRecovery",method:"PUT",url:`/api/v1/recover/begin/${A.join(",")}`,responseType:jA})),V9=Th(A=>({name:"continueRecovery",method:"POST",url:"/api/v2/recover/continue",body:A,responseType:jA,encrypted:!1})),AnA=Th(A=>({name:"cancelRecovery",method:"PUT",url:`/api/v1/recover/cancel/${A.join(",")}`,responseType:jA})),gCA=Sr.readonly(Sr.type({vaultUuid:Sr.string,vaultKeySN:Sr.number,encryptedBy:Sr.string,encVaultKey:QA.JweB}),"RecoverableVaultKey"),fCA=Sr.readonly(Sr.type({groupUuid:Sr.string,keyset:QA.KeysetCiphertext}),"RecoverableGroupKeyset"),BCA=Sr.readonly(Sr.type({packageUuid:Sr.string,key:QA.JweB}),"RecoverablePackageKey"),ECA=Sr.readonly(Sr.type({vaultKeys:Sr.readonlyArray(gCA),groupKeysets:Sr.readonlyArray(fCA),packageKeys:Sr.readonlyArray(BCA)}),"RecoverableKeys"),xCA=Sr.readonly(Sr.type({keys:Sr.readonlyArray(ECA)}),"RecoverableKeysForPeople"),enA=Th((A,e)=>({name:"completeRecovery",method:"PUT",url:`/api/v1/recover/complete/${A.join(",")}`,body:e,responseType:jA})),tnA=Th(A=>({name:"getRecoverableKeysForPeople",method:"GET",url:`/api/v1/recover/keys/${A.join(",")}`,responseType:xCA}));var Ts=AA(OA());var xPe=EA("web-api/api/dashboard.ts"),bCA=Ts.readonly(Ts.type({activeUsersCount:Ts.number,deletedUsersCount:Ts.number,invitedUsersCount:Ts.number,invitedUsersToConfirm:Ts.array(Uo),invitedUsersToConfirmCount:Ts.number,guestUsersCount:Ts.number,recoveredUsersToConfirm:Ts.array(Uo),recoveredUsersToConfirmCount:Ts.number,recoveringUsersCount:Ts.number,suspendedUsersCount:Ts.number,travelingUsers:Ts.array(Uo),travelingUsersCount:Ts.number}),"ReportDashboardOverview"),rnA=xPe(()=>({name:"getDashboardReport",method:"GET",url:"/api/v1/report/dashboard",responseType:bCA}));var LA=AA(OA());var lw=AA(al()),Gd;(function(A){A[A.AllTime=0]="AllTime",A[A.LastWeek=7]="LastWeek",A[A.LastMonth=30]="LastMonth",A[A.Last2Months=60]="Last2Months",A[A.Last3Months=90]="Last3Months",A[A.Last6Months=180]="Last6Months",A[A.Last12Months=365]="Last12Months"})(Gd||(Gd={}));var X9=A=>{if(A===Gd.AllTime)return new Date(0);let e=A<30?{days:A}:{months:A/30};return(0,lw.default)().subtract(e).toDate()},bPe=[Gd.LastWeek,Gd.LastMonth,Gd.Last2Months,Gd.Last3Months,Gd.Last6Months,Gd.Last12Months,Gd.AllTime],yPe=A=>e=>e===Gd.AllTime?0:(0,lw.default)(A).subtract(e,"days").valueOf(),vPe=A=>e=>rl(e,(t,r)=>(0,lw.default)(r.lastUsedAt).isSameOrBefore(t)?(0,lw.default)(r.lastUsedAt):t,(0,lw.default)(A)).valueOf();var ur=AA(OA());var Gk=EA("web-api/api/vault_item.ts"),yCA=ur.readonly(ur.type({fileId:ur.string,signature:ur.string}),"FileReference"),_h=ur.intersection([ur.type({uuid:ur.string,templateUuid:ur.string,itemVersion:ur.number,encryptedBy:ur.string,encOverview:QA.JweB},"type"),ur.partial({faveIndex:ur.number,trashed:ur.string,createdAt:ur.string,updatedAt:ur.string,changerUuid:ur.string,packageUuid:ur.string,encDetails:QA.JweB,fileReferences:ur.readonlyArray(yCA)},"partial")],"VaultItem"),anA=ur.intersection([ur.type({contentVersion:ur.number,batchComplete:ur.boolean},"type"),ur.partial({items:ur.readonlyArray(_h),deletedItemUuids:ur.readonlyArray(ur.string)},"partial")],"ItemsResponse"),jnA=Gk(A=>({name:"getVaultItemsOverviews",method:"GET",url:`/api/v1/vault/${A}/items/overviews`,responseType:anA})),nnA=Gk((A,e)=>({name:"getVaultItems",method:"GET",url:`/api/v2/vault/${A}/${e}/items`,responseType:anA})),vCA=ur.readonly(ur.type({item:_h}),"ItemDetailResponse"),inA=Gk((A,e)=>({name:"getVaultItemDetails",method:"GET",url:`/api/v1/vault/${A}/item/${e}`,responseType:vCA})),onA=Gk((A,e)=>({name:"getVaultItemVersion",method:"GET",url:`/api/v1/vault/${A}/itemversion/${e}`,responseType:ur.number})),FCA=ur.readonly(ur.type({changerUUID:ur.string,changerFullName:ur.string,changerEmail:ur.string,changerAvatar:ur.string,updatedAt:ur.string,itemVersion:ur.number}),"ItemHistoryMetadata"),GCA=ur.readonly(ur.type({history:ur.array(FCA)}),"ItemHistoryResponse"),snA=Gk((A,e)=>({name:"getVaultItemHistory",method:"GET",url:`/api/v1/vault/${A}/item/${e}/history`,responseType:GCA})),lnA=Gk((A,e,t)=>({name:"getPreviousVersionOfItem",method:"GET",url:`/api/v1/vault/${A}/item/${e}/history/${t}`,responseType:_h})),FPe=ur.type({retentionDays:ur.number,since:ur.string,items:ur.array(_h)},"DeletedVaultItemsResponse"),cnA=Gk(A=>({name:"getDeletedVaultItems",method:"GET",url:`/api/v2/vault/${A}/items/deleted`,responseType:FPe})),unA=Gk((A,e)=>({name:"postPurgeDeletedVaultItems",method:"POST",url:`/api/v2/vault/${A}/items/deleted/purge`,body:{itemUuids:e},responseType:jA})),dnA=Gk((A,e)=>({name:"deleteVaultItemHistory",method:"DELETE",url:`/api/v1/vault/${A}/item/${e}/history/all`,responseType:jA})),wCA=ur.type({contentVersion:ur.number,updatedItems:ke(ur.record(ur.string,ur.number),{}),failedItems:ke(ur.record(ur.string,ur.number),{})},"PatchVaultItemsResponse"),mnA=Gk((A,e,t)=>({name:"patchVaultItems",method:"PATCH",url:`/api/v3/vault/${A}/${e}/items`,body:t,responseType:wCA}));var mc=EA("web-api/api/report.ts"),PP=50,qP;(function(A){A.Overview="overview",A.ExtendedOverview="extended",A.Users="users"})(qP||(qP={}));var $P;(function(A){A.NoManager="nomanager",A.HighPopulation="highlyshared"})($P||($P={}));var IP;(function(A){A.UsersCount="userscount"})(IP||(IP={}));var cw;(function(A){A.Active="active",A.All="all",A.Inactive="inactive"})(cw||(cw={}));var GPe=[cw.All,cw.Active,cw.Inactive],wPe=LA.type({vaultUuid:LA.string,count:LA.number}),qCA=LA.readonly(LA.type({user:sB,groupCount:LA.number,vaultCount:LA.number,itemCount:LA.number}),"ReportSectionUserOverview"),$CA=LA.readonly(LA.type({vaultUuid:LA.string,itemUuid:LA.string,lastUsedAt:LA.string,lastUsedVersion:LA.number,action:LA.union([LA.string,LA.undefined])}),"ReportUserItemUsage"),ICA=LA.readonly(LA.type({itemUsages:LA.readonlyArray($CA),vaults:LA.readonlyArray(Kl),vaultItemsByVault:LA.record(LA.string,LA.readonlyArray(_h))}),"ReportSectionUserItemUsage"),PCA=LA.readonly(LA.partial({overview:qCA,itemUsage:ICA}),"ReportUser"),SCA=LA.readonly(LA.type({usageByVaults:LA.array(wPe),totalUsage:LA.number}),"ReportUserItemUsageOverview"),CCA=LA.readonly(LA.partial({current:LA.string,later:LA.string,earlier:LA.string}),"ReportCursors"),OCA=LA.readonly(LA.type({vaultUuid:LA.string,userUuid:LA.string,itemUuid:LA.string,usedAt:LA.string,usedVersion:LA.number,action:LA.union([LA.string,LA.undefined])}),"ReportItemUsage"),pnA=LA.readonly(LA.type({cursors:CCA,itemUsages:LA.readonlyArray(OCA),vaults:LA.record(LA.string,Kl),vaultItems:LA.record(LA.string,_h),partialUsers:LA.record(LA.string,Uo),hasMore:LA.boolean}),"ReportItem"),TCA=LA.readonly(LA.type({vault:Kl,userCount:LA.number,groupCount:LA.number,currentUserUuids:LA.array(LA.string)}),"ReportSectionVaultOverview"),_CA=LA.readonly(LA.type({userUuid:LA.string,itemUuid:LA.string,lastUsedAt:LA.string,lastUsedVersion:LA.number,action:LA.union([LA.string,LA.undefined])}),"ReportVaultItemUsage"),DCA=LA.readonly(LA.type({itemUsages:LA.readonlyArray(_CA),vault:Kl,vaultItems:LA.readonlyArray(_h),usersByUserUuid:LA.record(LA.string,Uo)}),"ReportSectionVaultItemUsage"),zCA=LA.readonly(LA.partial({overview:TCA,itemUsage:DCA}),"ReportVault"),qPe=LA.readonly(LA.type({usersCount:LA.number,vault:Kl}),"ReportVaultsItem"),MCA=LA.readonly(LA.type({items:LA.readonlyArray(qPe)}),"ReportVaults"),RCA=LA.readonly(LA.type({deviceCount:LA.number,hasMFAEnabled:LA.boolean,hasLinkedAccount:LA.boolean,lastAuthAt:Xe(LA.string),createdAt:LA.string,personalItemCount:LA.number,personalVaultContentVersion:LA.number,user:Uo}),"ReportAccountUser"),KCA=LA.readonly(LA.type({userCount:LA.number,groupCount:LA.number,vaultCount:LA.number}),"ReportSectionAccountOverview"),LCA=LA.readonly(LA.partial({overview:KCA,users:LA.readonlyArray(RCA)}),"ReportAccount"),NCA=LA.readonly(LA.type({userActiveCount:LA.number,userSuspendedCount:LA.number,userPendingCount:LA.number,userInRecoveryCount:LA.number,userGuestCount:LA.number,invitesPendingCount:LA.number,groupCount:LA.number,vaultCount:LA.number,vaultSharedCount:LA.number,privateVaultCount:LA.number,privateVaultItemsCount:LA.number,itemCount:LA.number,itemSharedCount:LA.number,deviceCount:LA.number,fileCount:LA.number,fileSize:LA.number}),"ReportSectionExtendedAccountOverview"),UCA=LA.readonly(LA.type({extended:NCA}),"ReportOverview"),HCA=LA.readonly(LA.type({clientName:LA.string,count:LA.number,modernCount:LA.number}),"ReportOldDevicesOverviewClient"),VCA=LA.readonly(LA.type({clients:LA.readonlyArray(HCA)}),"ReportOldDevicesOverview"),XCA=LA.readonly(LA.type({uuid:LA.string,name:LA.string,clientName:LA.string,osName:LA.string,osVersion:LA.string,lastAuthAt:LA.string}),"ReportOldDeviceDevice"),WCA=LA.readonly(LA.type({device:XCA,user:Uo}),"ReportOldDevice"),JCA=LA.readonly(LA.type({overview:VCA,devices:LA.readonlyArray(WCA)}),"ReportOldDevices"),YCA=LA.readonly(LA.type({reportName:LA.string,lastViewedAt:LA.string}),"LastViewedReport"),ZCA=LA.readonly(LA.type({reports:LA.readonlyArray(YCA)}),"LastViewedReports"),W9=A=>"itemUuid"in A&&v4(A.itemUuid)?hb(A.vaultUuid):"vaultUuid"in A&&hb(A.vaultUuid)||"userUuid"in A&&y4(A.userUuid),knA=mc((A,e)=>({name:"getUserReport",method:"GET",url:`/api/v1/report/user/${A}?sections=${e.join(",")}`,responseType:PCA})),hnA=mc((A,e)=>({name:"getItemReportWithCursors",method:"GET",url:`/api/v1/report/itemusage/history${Ia({...Gz(A,(r,a)=>Fz(a)),cursor:e.earlier})}`,responseType:pnA,validation:"unsafe_report_only"})),gnA=mc((A,e)=>({name:"getItemReportWithFilters",method:"GET",url:`/api/v1/report/itemusage/history${Ia({...Gz(A,(r,a)=>Fz(a)),date:e.date.toISOString(),todate:X9(e.toDate).toISOString(),limit:e.limit})}`,responseType:pnA,validation:"unsafe_report_only"})),fnA=mc((A,e)=>({name:"getUserItemUsageOverview",method:"GET",url:`/api/v1/report/itemusage/overview${Ia({"user-uuid":A,date:e.date.toISOString(),todate:X9(e.toDate).toISOString()})}`,responseType:SCA})),BnA=mc((A,e)=>({name:"getVaultReport",method:"GET",url:`/api/v1/report/vault/${A}?sections=${e.join(",")}`,responseType:zCA})),EnA=mc((A,e)=>{let t=`/api/v1/report/vaults/${A}`;return e.length>0&&(t+=`?attrs=${e.join(",")}`),{name:"getVaultsReport",method:"GET",url:t,responseType:MCA}}),xnA=mc(A=>({name:"getAccountReport",method:"GET",url:`/api/v2/report/account?sections=${A.join(",")}`,responseType:LCA})),bnA=mc(A=>({name:"getOverviewReport",method:"GET",url:`/api/v1/report/overview?sections=${A.join(",")}`,responseType:UCA,options:{timeout:6e4}})),ynA=mc(()=>({name:"getOldDevicesReport",method:"GET",url:"/api/v1/report/devices/old",responseType:JCA})),J9=LA.readonly(LA.type({csv:LA.string}),"GetAccountReportCsvResponse"),vnA=mc(()=>({name:"getAccountReportCsv",method:"GET",url:"/api/v1/report/account/csv",responseType:J9})),FnA=mc(A=>({name:"sendUnusedPrivateVaultEmail",method:"POST",url:"/api/v1/report/teamusage/unused-private-vault/notify",body:{recipients:A},responseType:jA})),GnA=mc(A=>({name:"sendUnredeemedFamilyAccountEmail",method:"POST",url:"/api/v1/report/teamusage/unredeemed-family-account/notify",body:{recipients:A},responseType:jA})),wnA=mc(A=>({name:"sendNoSigninPastMonthEmail",method:"POST",url:"/api/v1/report/teamusage/no-signin-past-month/notify",body:{recipients:A},responseType:jA})),qnA=mc(()=>({name:"getLastViewedReports",method:"GET",url:"/api/v1/report/lastviewed",responseType:ZCA}));var Br=AA(OA());var Ma=AA(OA());var Y9=EA("web-api/api/serviceaccount_tokens.ts"),Z9=Ma.type({u:Ma.string,a:Ma.number},"VaultClaim"),QCA=Ma.intersection([Ma.type({jti:Ma.string,issuer:Ma.string,audience:Ma.string,features:Ma.readonlyArray(Ma.string)},"type"),Ma.partial({expiry:Ma.string,vaults:Ma.readonlyArray(Z9),signatureHash:Ma.string},"partial")],"TokenInfo"),Q9=Ma.intersection([Ma.type({name:Ma.string,state:Ma.string,signedBy:Ma.string,createdAt:Ma.string,tokenInfo:QCA},"type"),Ma.partial({expiresAt:Ma.string},"partial")],"ServiceAccountToken"),ZUt=Ma.type({name:Ma.string,subject:Ma.string,account_uuid:Ma.string,token_info:Ma.intersection([QCA,Ma.type({signatureHash:Ma.string})]),kid:Ma.string},"RegisterServiceAccountTokenRequest"),$Pe=Ma.readonly(Ma.type({id:Ma.string}),"RegisterServiceAccountTokenResponse"),QUt=Ma.type({name:Ma.string},"RenameServiceAccountTokenRequest"),AK=Y9(A=>({name:"registerServiceAccountToken",method:"POST",url:"/api/v2/serviceaccounts/token",body:A,responseType:$Pe})),$nA=Y9((A,e,t)=>{let r=encodeURIComponent(A),a=encodeURIComponent(e);return{name:"renameServiceAccountToken",method:"PATCH",url:`/api/v1/serviceaccounts/${r}/tokens/${a}`,body:t,responseType:jA}}),InA=Y9((A,e)=>{let t=encodeURIComponent(A),r=encodeURIComponent(e);return{name:"revokeServiceAccountToken",method:"DELETE",url:`/api/v1/serviceaccounts/${t}/tokens/${r}`,responseType:jA}}),PnA=Y9(()=>({name:"revokeAllServiceAccountTokensForAccount",method:"DELETE",url:"/api/v1/serviceaccounts/tokens",responseType:jA}));var uw=EA("web-api/api/serviceaccounts.ts"),SnA=Br.type({totalVaults:Br.number,displayable:Br.array(Tm)},"ServiceAccountVaultAccess"),CnA=Br.type({credits:Br.number},"ServiceAccountBillables"),AOA=cr(Aa,"ServiceAccountType"),eOA=Br.intersection([R9,Br.readonly(Br.type({creatorUuid:Br.string,serviceAccountType:AOA},"type")),Br.partial({tokens:Br.readonlyArray(Q9),serviceAccountVaultAccess:Br.readonly(SnA),billables:Br.readonly(CnA),permissions:Br.number,rotatedAt:Br.string,expiresAt:Br.string},"partial")],"ServiceAccount"),tOA=Br.intersection([iP,Br.readonly(Br.type({createdAt:Br.string,creatorUuid:Br.string,serviceAccountType:AOA,tokensVersion:Br.number},"type")),Br.partial({creatorFirstName:Br.string,creatorLastName:Br.string,creatorState:Br.string,tokens:Br.array(Q9),devices:Br.array(dc.Type),serviceAccountVaultAccess:Br.readonly(SnA),billables:Br.readonly(CnA),rotatedAt:Br.string},"partial")],"ServiceAccountUser"),rOA=Br.readonly(Br.type({serviceAccounts:Br.array(dP)}),"GetServiceAccountsResponse"),aOA=Br.readonly(Br.intersection([Br.type({serviceAccount:tOA},"type"),Br.partial({devices:Br.array(dc.Type)},"partial")],"Integration")),jOA=Br.readonly(Br.intersection([Br.type({integrations:Br.array(aOA)},"type"),Br.partial({releases:ijA},"partial")],"GetIntegrationsResponse")),OnA=uw(A=>({name:"createServiceAccountV3",method:"POST",url:"/api/v3/serviceaccounts",body:A,responseType:sB})),TnA=uw(()=>({name:"getIntegrations",method:"GET",url:"/api/v1/integrations?attrs=vault-access,groups,devices,app-releases",responseType:jOA})),_nA=uw(()=>({name:"getServiceAccounts",method:"GET",url:"/api/v1/serviceaccounts",responseType:rOA})),nOA=Br.readonly(Br.type({email:Br.string,token:Br.string,uuid:Br.string,throttleKey:Br.string,accessors:Br.readonlyArray(oB)},"CreateServiceAccountPreflightResponse")),DnA=uw(A=>({name:"createServiceAccountPreflight",method:"GET",url:`/api/v1/serviceaccounts/preflight/${encodeURIComponent(A)}`,responseType:nOA})),znA=uw((A,e)=>({name:"getServiceAccount",method:"GET",url:`/api/v1/serviceaccount/${A}${e.length>0?Ia({attrs:e}):""}`,responseType:eOA})),MnA=uw((A,e)=>({name:"updateServiceAccount",method:"PATCH",url:`/api/v1/serviceaccount/${A}`,body:e,responseType:jA}));var mr=AA(OA());var iOA=EA("web-api/api/sign_in_attempts.ts"),Dh;(function(A){A.Reported="report_firewall_rule",A.Blocked="firewall_rule",A.Credentials="credentials",A.Mfa="mfa",A.AppVersion="app_version",A.Sso="sso"})(Dh||(Dh={}));var uB;(function(A){A.Country="country",A.Continent="continent",A.Ip="ip",A.Anonymous="anonymous",A.All="all"})(uB||(uB={}));var IPe=mr.union([mr.literal(Dh.Reported),mr.literal(Dh.Blocked),mr.literal(Dh.Credentials),mr.literal(Dh.Mfa),mr.literal(Dh.AppVersion),mr.literal(Dh.Sso)],"SignInAttemptReasonsEnum"),PPe=mr.union([mr.literal(uB.Country),mr.literal(uB.Continent),mr.literal(uB.Ip),mr.literal(uB.Anonymous),mr.literal(uB.All)],"SignInAuxInfoTypesEnum"),oOA=mr.readonly(mr.intersection([mr.type({country:mr.string,date:mr.string,deviceUuid:mr.string,email:mr.string,ip:mr.string,location:mr.string,osName:mr.string,clientName:mr.string,point:mr.type({lat:mr.number,lon:mr.number}),reason:IPe,userUuid:mr.string,uuid:mr.string},"type"),mr.partial({auxInfo:mr.partial({type:PPe,value:mr.string})},"partial")]),"SignInAttempt"),sOA=mr.readonly(mr.type({attempts:mr.readonlyArray(oOA)}),"GetSignInAttemptsResponse"),SPe=mr.readonly(mr.partial({userUuid:mr.string,includeStates:mr.array(mr.string),excludeStates:mr.array(mr.string),limit:mr.number,cursor:mr.string}),"GetSignInAttemptRequest"),lOA=mr.readonly(mr.type({attempts:mr.array(oOA),cursor:mr.string,hasMore:mr.boolean,totalCount:mr.number}),"GetSignInAttemptsResponseV2"),CPe=iOA(()=>({name:"getSignInAttempts",method:"GET",url:"/api/v1/signinattempts",responseType:sOA})),OPe=iOA(A=>({name:"getSigninAttemptsV2",method:"POST",url:"/api/v2/signinattempts",body:A,responseType:lOA}));var Pt=AA(OA());var zh=EA("web-api/api/signup.ts"),TPe=Pt.readonly(Pt.partial({promoCode:Pt.string},"partial"),"UpdateSignupRequest"),cOA=Pt.readonly(Pt.type({isEnabled:Pt.boolean,isRequired:Pt.boolean}),"SignupFeatureCreditCardForm"),uOA=Pt.readonly(Pt.type({isRequired:Pt.boolean,challenge:F9}),"SignupFeatureUnlockWithPasskey"),dOA=Pt.readonly(Pt.partial({creditCardForm:cOA,passkey:uOA}),"SignupFeatures"),mOA=Pt.readonly(Pt.type({accountUuid:Pt.string,accountName:Pt.string,domain:Pt.string,avatar:Pt.string,type:Pt.string,userAvatar:Pt.string,accountKeyFormat:Pt.string,accountKeyUuid:Pt.string,lastAuthAt:Pt.string,createdAt:Pt.string}),"AccountInfo"),SP=Pt.readonly(Pt.intersection([Pt.type({uuid:Pt.string,domain:Pt.string,state:Pt.string,createdAt:Pt.string,completedAt:Pt.string,expiresAt:Pt.string,name:Pt.string,type:Pt.string,source:Pt.string,email:Pt.string,language:Pt.string,availablePlans:Pt.array(gb),tierName:Pt.string,trialEndsAt:Pt.string,features:dOA,setupIntentCode:Pt.string},"SignupRequired"),Pt.partial({stepUuid:Pt.string,promoCode:Pt.string,flowServiceUuid:Pt.string,setupIntentCode:Pt.string,defaultBillingFrequency:IG,duplicateAccounts:Pt.array(mOA),accountCreationDisabled:Pt.boolean},"SignupPartial")],"Signup")),_Pe=Pt.readonly(Pt.type({type:Pt.literal("O"),payload:Pt.type({code:Pt.string,state:Pt.string})}),"SsoOidcIdentity"),eK;(function(A){A.CtoCiso="CTO/CISO",A.Devops="DevOps",A.Engineering="Engineering",A.Executive="Executive",A.Finance="Finance",A.Hr="HR",A.It="IT",A.Legal="Legal",A.Marketing="Marketing",A.Operations="Operations",A.Sales="Sales",A.Security="Security",A.Other="Other"})(eK||(eK={}));var DPe=Pt.readonly(Pt.type({companyRole:cr(eK,"CompanyRole")}),"UserMeta"),zPe=Pt.readonly(Pt.type({emailResendToken:Pt.string}),"AccountSignUp"),RnA=zh(A=>({name:"legacySignUpAccount",method:"POST",url:"/api/v1/signup",body:A,responseType:jA,encrypted:!1})),KnA=zh(A=>({name:"signUpAccount",method:"POST",url:"/api/v2/signup",body:A,responseType:zPe,encrypted:!1})),MPe=Pt.intersection([Pt.readonly(Pt.type({userUuid:Pt.string},"readonlyUserUuid")),Pt.readonly(Pt.partial({sessionUuid:Pt.string,signInTokenDetails:yk},"readonlyAuthDetails"))],"UserRegistrationResponse"),tK=zh(A=>({name:"signUpUser",method:"POST",url:"/api/v2/user",body:A,responseType:MPe,encrypted:!1})),rK=zh(A=>({name:"getSignupDetails",method:"GET",url:`/api/v2/signup/${A}`,responseType:SP,encrypted:!1})),LnA=zh((A,e)=>({name:"updateSignup",method:"PATCH",url:`/api/v3/signup/${A}`,body:e,responseType:SP})),NnA=zh((A,e)=>({name:"updateSignupAccountType",method:"PATCH",url:`/api/v2/signup/${A}`,body:e,responseType:SP})),UnA=zh((A,e,t)=>({name:"signUpAndGetInfo",method:"GET",url:`/api/v2/signup/${A}?email=${encodeURIComponent(e)}&account-type=${t}`,responseType:SP,encrypted:!1})),pOA=Pt.readonly(Pt.type({accountUuid:Pt.string,userUuid:Pt.string,signInTokenDetails:Xe(yk)}),"AccountRegistrationResponse"),aK=zh(A=>({name:"postAccount",method:"POST",url:"/api/v1/account",body:A,responseType:pOA,encrypted:!1})),HnA=zh(A=>({name:"resendVerificationEmail",method:"POST",url:`/api/v1/signup/resend/${A}`,responseType:jA}));var Yt=AA(OA());var Km=EA("web-api/api/slack.ts"),kOA=9e4,Rm;(function(A){A.Active="A",A.Inactive="I",A.NotLoaded="N"})(Rm||(Rm={}));var jK=Yt.readonly(Yt.type({state:cr(Rm,"SlackAppState"),notifChannelUid:Yt.string,alertChannelUid:Yt.string,scope:Yt.string,teamName:Yt.string,alertNotifTeamUid:Yt.string,enterpriseUid:Yt.string,enterpriseName:Yt.string,enterpriseUrl:Yt.string,enterpriseTeams:ke(Yt.readonlyArray(Yt.string),[]),isGranular:Yt.boolean}),"SlackApp"),nK=Yt.readonly(Yt.type({nonce:Yt.string}),"SlackNonce"),iK=Yt.readonly(Yt.intersection([Yt.type({email:Yt.string,hasPendingInvite:Yt.boolean,hasTeamUser:Yt.boolean,name:Yt.string,uid:Yt.string},"type"),Yt.partial({avatar:Yt.string,handle:Yt.string},"partial")]),"SlackUser"),VnA=Yt.readonly(Yt.type({users:Yt.array(iK)}),"SlackUsers"),oK=Yt.readonly(Yt.intersection([Yt.type({name:Yt.string,uid:Yt.string,numMembers:Yt.number,isPrivate:Yt.boolean},"type"),Yt.partial({topic:Yt.string},"partial")]),"SlackChannel"),XnA=Yt.readonly(Yt.type({channels:Yt.array(oK),cursor:Yt.string}),"GetSlackChannelsResponse"),sK=Yt.readonly(Yt.type({uid:Yt.string,name:Yt.string}),"SlackTeam"),RPe=Yt.readonly(Yt.type({teams:Yt.array(sK)}),"SlackTeams"),lK=Yt.readonly(Yt.type({uid:Yt.string,name:Yt.string,numMembers:Yt.number,handle:Yt.string}),"SlackGroup"),hOA=Yt.readonly(Yt.type({userGroups:Yt.array(lK)}),"SlackGroups"),WnA=Km(()=>({name:"getSlackUsers",method:"GET",url:"/api/v1/slack/users",responseType:VnA})),JnA=Km(A=>({name:"getSlackChannels",method:"GET",options:{timeout:kOA},url:`/api/v3/slack/channels${Ia({cursor:A})}`,responseType:XnA})),YnA=Km((A,e)=>({name:"getGridSlackChannels",method:"GET",options:{timeout:kOA},url:`/api/v3/slack/grid/teams/${A}/channels${Ia({cursor:e})}`,responseType:XnA})),ZnA=Km(A=>({name:"getGridSlackGroups",method:"GET",url:`/api/v3/slack/grid/teams/${A}/usergroups`,responseType:hOA})),QnA=Km(A=>({name:"getGridSlackUsers",method:"GET",url:`/api/v1/slack/grid/teams/${A}/users`,responseType:VnA})),AiA=Km(()=>({name:"getGridSlackTeams",method:"GET",url:"/api/v1/slack/grid/teams",responseType:RPe})),eiA=Km(()=>({name:"getSlackGroups",method:"GET",url:"/api/v1/slack/usergroups",responseType:hOA})),tiA=Km(()=>({name:"getSlackApp",method:"GET",url:"/api/v2/slack/app",responseType:jK})),riA=Km(A=>({name:"updateSlackApp",method:"PUT",url:"/api/v1/slack/app",body:A,responseType:jA})),aiA=Km(()=>({name:"postSlackNonce",method:"POST",url:"/api/v1/slack/oauth/nonce",responseType:nK})),jiA=Km(A=>({name:"postSlackAccessToken",method:"POST",url:"/api/v1/slack/oauth/verify",body:A,responseType:jA}));var nn=AA(OA());var dB=EA("web-api/api/sso_enrollment.ts"),cK;(function(A){A.Web="WEB",A.Core="CORE",A.B5x="B5X",A.Unknown="UNKNOWN"})(cK||(cK={}));var gOA=cr(cK,"LastAuthDeviceType"),fOA=nn.intersection([nn.type({clientType:gOA},"type"),nn.partial({clientName:nn.string},"partial")],"LastAuthDeviceForEnrollment"),KPe=nn.readonly(nn.type({signInToken:nn.string}),"DeviceEnrollmentRequest"),BOA=nn.intersection([nn.type({enrollmentUuid:nn.string,accountKeyUuid:nn.string},"type"),nn.partial({lastDevice:fOA},"partial")],"DeviceEnrollmentResponse"),uK;(function(A){A.SelectingVerifier="SELECTING_VERIFIER",A.WaitingForCode="WAITING_FOR_CODE",A.PendingValidation="PENDING_VALIDATION",A.Success="SUCCESS"})(uK||(uK={}));var dK=cr(uK,"DeviceEnrollmentState"),niA=dB(A=>({name:"kickoffDeviceEnrollment",method:"POST",url:"/api/v3/device/enrollments",encrypted:!1,body:{signInToken:A},responseType:BOA})),iiA=nn.readonly(nn.type({status:dK}),"DeviceEnrollmentStatusResponse"),oiA=dB(A=>({name:"getDeviceEnrollmentStatus",method:"GET",url:`/api/v3/device/enrollments/${A}/status`,responseType:iiA})),siA=dB((A,e)=>({name:"unsafeGetDeviceEnrollmentStatus",method:"POST",url:"/api/v3/device/enrollments/status",encrypted:!1,body:{enrollmentUuid:A,signInToken:e},responseType:iiA})),LPe=nn.readonly(nn.type({enrollmentUuid:nn.string,status:dK,device:dc.Type}),"TrustedDeviceEnrollment"),NPe=nn.readonly(nn.type({enrollments:nn.array(LPe)}),"AvailableTrustedDeviceEnrollmentsResponse"),liA=dB(()=>({name:"getPendingDeviceEnrollments",method:"GET",responseType:NPe,url:"/api/v3/device/enrollments"})),ciA=dB(A=>({name:"cancelDeviceEnrollment",method:"DELETE",url:`/api/v2/device/enrollments/${A}`,responseType:jA,options:{responseType:"text"}})),uiA=dB((A,e)=>({name:"unsafeCancelDeviceEnrollment",method:"DELETE",url:"/api/v2/device/enrollments",body:{enrollmentUuid:A,signInToken:e},encrypted:!1,responseType:jA,options:{responseType:"text"}})),EOA=nn.readonly(nn.type({newDeviceUuid:nn.string,verifyingDeviceUuid:nn.string,status:dK}),"DeviceEnrollment"),diA=dB(A=>({name:"getEnrollment",method:"GET",responseType:EOA,url:`/api/v3/device/enrollments/${A}`})),miA=dB(A=>({name:"markSignatureInvalid",method:"POST",url:`/api/v3/device/enrollments/${A}/invalid`,responseType:jA,options:{responseType:"text"}}));var Jj=AA(OA());var piA=EA("web-api/api/support.ts"),xOA=Jj.readonly(Jj.type({provider:Jj.string,status:Jj.string}),"BillingSupportInfo"),bOA=Jj.readonly(Jj.type({name:Jj.string,uuid:Jj.string,domain:Jj.string,type:Jj.string,state:Jj.string,tierName:Jj.string,avatar:Jj.string,createdAt:Jj.string,canBeDeleted:Jj.boolean,billing:xOA}),"AccountSupportInfo"),yOA=Jj.readonly(Jj.type({avatar:Jj.string,accountKeyFormat:Jj.string,accountKeyUuid:Jj.string,lastAuthAt:Jj.string}),"UserSupportInfo"),vOA=Jj.readonly(Jj.type({account:bOA,user:yOA}),"SupportInfo"),FOA=Jj.readonly(Jj.type({accounts:Jj.array(vOA)}),"SupportGetAccounts"),kiA=piA(A=>({name:"requestSupportEmail",method:"GET",url:`/api/v1/support/start/${encodeURIComponent(A)}`,responseType:jA})),hiA=piA((A,e)=>({name:"getSupportAccountsList",method:"GET",url:`/api/v1/support/getaccounts/${encodeURIComponent(A)}/token/${e}`,encrypted:!1,responseType:FOA})),giA=piA((A,e,t)=>{let r=`email=${encodeURIComponent(e)}&token=${t}`;return{name:"requestAccountDeletion",method:"GET",url:`/api/v1/support/senddelete/account/${A}?${r}`,responseType:jA}});var HPe=EA("web-api/api/survey.ts"),fiA;(function(A){A.Cancellation="cancellation",A.Deletion="deletion"})(fiA||(fiA={}));var BiA;(function(A){A.DuplicateAccount="duplicate_account",A.DidNotUse="did_not_use",A.CouldNotUnderstand="could_not_understand",A.TooExpensive="too_expensive",A.MeNotYou="me_not_you",A.Other="other"})(BiA||(BiA={}));var EiA=HPe(A=>({name:"submitDepartureSurvey",method:"POST",url:"/api/v1/survey",body:A,responseType:jA,encrypted:!1}));var b6=AA(OA());var mK=async(A,e,t,r)=>VPe(r?.timeout,r?.abortController,e,{method:A,body:xiA(t,r?.dataType),cache:r?.cache?"default":"reload",credentials:r?.withCredentials?"include":void 0,headers:r?.headers}),xiA=(A,e)=>{if(!(typeof A>"u"||A===null)){if(A instanceof ArrayBuffer&&(A=new Uint8Array(A)),A instanceof Uint8Array){if(e==="arraybuffer")return A;throw new TypeError("Expected arraybuffer data type")}if(typeof A=="string"){if(e==="text")return mt(A);throw new TypeError("Expected text data type")}if(e==="json")return Ua(A);throw new TypeError("Unexpected request body and data type")}},VPe=async(A,e,t,r)=>{if(typeof A>"u")return fetch(t,r);if(typeof AbortController>"u")return Promise.race([fetch(t,r),new Promise((j,n)=>{setTimeout(()=>n(GOA()),A)})]);let a=e??new AbortController;return Promise.race([fetch(t,{...r,signal:a.signal}),new Promise((j,n)=>{setTimeout(()=>{n(GOA()),a.abort()},A)})])},GOA=()=>new Cf(Ak.serverRequestTimedOut,"The request took too long. Check your Internet connection and try again.");var dw=async(A,e)=>mK("GET",A,void 0,e).then(async t=>{if(t.status<200||t.status>=300)throw new Sf(t.status);return e?.responseType==="text"?t.text():t.json()}),biA=async A=>{let e=`https://api.pwnedpasswords.com/range/${A}`;return dw(e,{responseType:"text",timeout:5e3,cache:!0}).then(t=>Ke(t,b6.string).unwrap()).then(wOA(A))},wOA=A=>e=>e.trim().split(`
`).map(t=>`${A}${t.slice(0,35)}`),yiA=async A=>dw(VM(A,"generator/combined_words.txt"),{responseType:"text"}).then(e=>Ke(e,b6.string).unwrap()).then(e=>e.trim().split(`
`)),viA=async A=>dw(VM(A,"banlist/combined_words.txt"),{responseType:"text"}).then(e=>Ke(e,b6.string).unwrap()).then(e=>e.trim().split(`
`)),FiA=async()=>dw("https://watchtower.1password.com/api/v1/compromised-sites",{cache:!0}).then(A=>Ke(A,b6.record(b6.string,b6.number)).unwrap()),GiA=async()=>dw("https://watchtower.1password.com/api/v1/2fa-sites",{cache:!0}).then(A=>Ke(A,b6.record(b6.string,b6.string)).unwrap()),wiA=async()=>dw("https://watchtower.1password.com/api/v1/passkey-sites",{cache:!0}).then(A=>Ke(A,b6.record(b6.string,b6.string)).unwrap());var Mh=AA(OA());var XPe=EA("web-api/api/trustpilot.ts"),qOA=Mh.readonly(Mh.type({reviewLink:Mh.string,rating:Mh.number,numberOfReviews:Mh.number}),"TrustpilotData"),qiA=XPe(()=>({name:"getTrustpilotReviewData",method:"GET",url:"/api/v1/trustpilot-review",responseType:qOA}));var ls=AA(OA());var pK=EA("web-api/api/user_cookie.ts"),$OA=ls.readonly(ls.type({userUuid:ls.string,userEmail:ls.string,userName:ls.string,userAvatarURL:ls.string,usingMyDomain:ls.boolean,accountUuid:ls.string,accountType:ls.string,accountName:ls.string,accountDomain:ls.string,accountAvatarURL:ls.string,hasPrioritySupport:ls.boolean}),"UserCookie"),$iA=pK(A=>({name:"getUserCookies",method:"GET",url:`https://accounts.${A}/api/v1/accountcookies`,options:{withCredentials:!0,timeout:5e3},responseType:ke(ls.array($OA),[]),encrypted:!1})),IiA=pK(A=>({name:"setUserCookie",method:"PATCH",url:`https://accounts.${A}/api/v1/accountcookie`,options:{withCredentials:!0},responseType:jA})),PiA=pK((A,e)=>({name:"deleteAccountCookie",method:"DELETE",url:`https://accounts.${A}/api/v1/accountcookie/account/${e}`,options:{withCredentials:!0},responseType:jA})),SiA=pK((A,e)=>({name:"deleteUserCookie",method:"DELETE",url:`https://accounts.${A}/api/v1/accountcookie/user/${e}`,options:{withCredentials:!0},responseType:jA}));var va=AA(OA());var kK=EA("web-api/api/hibp.ts"),CiA=va.readonly(va.type({name:va.string,domain:va.string,title:va.string,date:va.string,addedDate:va.string,description:va.string,dataClasses:va.array(va.string),isSpamList:ke(va.boolean,!1),notifiedDate:Xe(va.string)}),"HibpBreach"),hK=va.readonly(va.intersection([va.type({email:va.string,breachNames:va.array(va.string)},"type"),va.partial({aliases:va.array(va.string),user:Uo,invitePending:va.boolean,inviteExpired:va.boolean},"partial")]),"HibpUser"),IOA=va.readonly(va.type({domains:va.array(va.string),users:va.array(hK),breaches:va.array(CiA),lastRunAt:Xe(va.string),isTruncated:va.boolean,numActive:va.number,numInactive:va.number}),"HibpDomainReport"),POA=va.readonly(va.type({csv:va.string}),"HibpDomainReportCsv"),OiA=kK(()=>({name:"getHibpReport",method:"GET",url:"/api/v1/report/hibp",options:{timeout:6e4},responseType:va.array(CiA)})),TiA=kK(A=>({name:"getHibpDomainReport",method:"GET",url:`/api/v1/report/hibp/domain/${A}`,options:{timeout:6e4},responseType:IOA})),_iA=kK((A,e)=>{let t=Ia({reportType:e});return{name:"getHibpDomainReportCsv",method:"GET",url:`/api/v1/report/hibp/domain/${A}/csv${t}`,options:{timeout:6e4},responseType:POA}}),DiA=kK(A=>({name:"postHibpDomainReportNotify",method:"POST",url:"/api/v1/report/hibp/domain/notify",body:A,responseType:jA}));var mw=AA(OA());var WPe=EA("web-api/api/vault_managers.ts"),SOA=mw.readonly(mw.type({managers:mw.readonlyArray(Uo)}),"VaultManagers"),ziA=WPe(A=>({name:"getVaultManagers",method:"GET",url:`/api/v1/vault/${A}/managers`,responseType:SOA}));var Zn=AA(OA());var OP=EA("web-api/api/verified_domain.ts"),CP;(function(A){A.Email="E",A.Dns="D"})(CP||(CP={}));var gK=Zn.readonly(Zn.partial({txtRecord:Zn.string}),"BeginDomainVerificationResponse"),MiA=OP((A,e,t)=>({name:"beginDomainVerification",method:"POST",url:"/api/v1/verifieddomains/begin",body:{type:A,domain:e,emailMailbox:t},responseType:gK})),RiA=OP((A,e,t)=>({name:"completeDomainVerification",method:"POST",url:"/api/v1/verifieddomains/complete",body:{type:A,domain:e,token:t},responseType:jA})),fK=Zn.readonly(Zn.intersection([Zn.type({domain:Zn.string},"type"),Zn.partial({aliasOf:Zn.string},"partial")]),"VerifiedDomain"),BK=Zn.readonly(Zn.intersection([Zn.type({domain:Zn.string,type:Zn.string},"type"),Zn.partial({txtRecord:Zn.string},"partial")]),"PendingVerifiedDomain"),EK=Zn.readonly(Zn.type({verified:Zn.readonlyArray(fK),pending:Zn.readonlyArray(BK)}),"GetVerifiedDomainsResponse"),KiA=OP(()=>({name:"getVerifiedDomains",method:"GET",url:"/api/v1/verifieddomains",responseType:EK})),LiA=OP(A=>({name:"updateVerifiedDomain",method:"PUT",url:"/api/v1/verifieddomains/update",body:A,responseType:jA})),NiA=OP(A=>({name:"deleteVerifiedDomain",method:"DELETE",url:`/api/v1/verifieddomains/${A}`,responseType:jA}));var JPe=EA("web-api/api/wizard_progress.ts"),UiA=JPe(A=>({name:"createProvisioningProgressStep",method:"POST",url:"/api/v1/wizard/provisioning/progress",body:A,responseType:jA}));var Go=AA(OA());var xK=EA("web-api/api/account_transfer.ts"),COA=Go.readonly(Go.intersection([Go.type({uuid:Go.string},"type"),Go.partial({domain:Go.string},"partial")]),"AccountTransferAccount"),YPe=Go.readonly(Go.type({pending:Go.number,complete:Go.number,declined:Go.number}),"AccountTransferUserCounts"),OOA=Go.readonly(Go.intersection([Go.type({originAccount:COA,destinationAccount:COA},"type"),Go.partial({userCounts:YPe},"partial")]),"AccountTransferDetails"),HiA=xK(()=>({name:"getAccountTransfersDetails",method:"GET",url:"/api/v1/account/transfer",responseType:OOA})),ViA=xK(A=>({name:"postMigratingUsers",method:"POST",url:"/api/v1/accountmigration/users",body:A,responseType:jA})),TP;(function(A){A.Pending="P",A.Complete="C",A.Declined="D",A.Inactive="I"})(TP||(TP={}));var XiA=xK(A=>({name:"patchMigratingUserState",method:"PATCH",url:`/api/v1/accountmigration/user/${A}`,responseType:jA})),WiA=xK(()=>({name:"suspendMigratedUser",method:"PUT",url:"/api/v1/accountmigration/user/suspend",responseType:jA}));var Lm=AA(OA());var TOA=EA("web-api/api/fastmail.ts"),_OA=Lm.readonly(Lm.type({verifier:Lm.string,nonce:Lm.string}),"FastmailVerifier"),DOA=Lm.readonly(Lm.type({accountId:Lm.string,refreshToken:Lm.string},"FastmailAccountId")),JiA=TOA(()=>({name:"postFastmailVerifier",method:"POST",url:"/api/v1/fastmail/verifier",responseType:_OA})),YiA=TOA(A=>({name:"postFastmailRefreshToken",method:"POST",url:"/api/v1/fastmail/oauth/exchange",body:A,responseType:DOA}));var wo=AA(OA());var bK=EA("web-api/api/brex.ts"),zOA=wo.readonly(wo.type({nonce:wo.string,verifier:Xe(wo.string)}),"BrexVerifier"),MOA=wo.readonly(wo.type({refreshToken:wo.string,accountId:wo.string},"BrexRefreshToken")),ZiA=bK(()=>({name:"postBrexVerifier",method:"POST",url:"/api/v1/brex/verifier",responseType:zOA})),QiA=bK(A=>({name:"postBrexRefreshToken",method:"POST",url:"/api/v1/brex/oauth/exchange",body:A,responseType:MOA})),ROA=wo.readonly(wo.type({clientSecret:Xe(wo.string),clientId:wo.string},"BrexClientInfoResponse")),KOA=wo.readonly(wo.type({refreshToken:wo.string,accessToken:wo.string,expiresIn:wo.number},"BrexRequestAccessTokenResponse")),AoA=bK(()=>({name:"getBrexClientInfo",method:"GET",url:"/api/v1/brex/clientinfo",responseType:ROA})),eoA=bK(A=>({name:"requestBrexAccessToken",method:"POST",url:"/api/v1/brex/oauth/accesstoken",body:A,responseType:KOA}));var LOA=EA("web-api/api/telemetry.ts"),toA=LOA((A,e)=>{let t=Ia(e||{});return{name:"insightsTelemetry",method:"POST",url:`/api/v1/insights/telemetry/${A}${t}`,body:e,responseType:jA}}),roA=LOA(A=>({name:"reportUsoAction",method:"POST",url:`/api/v1/uso/telemetry/${A}`,responseType:jA}));var Rh=AA(OA());var aoA=EA("web-api/api/session_restoration.ts"),NOA=Rh.readonly(Rh.type({sessionRestorationToken:Rh.string,tokenPubKey:Rh.string},"SessionKeySaveResponse")),ZPe=aoA((A,e)=>({name:"saveSessionRestorationKey",method:"POST",url:"/api/v2/session-restore/save-key",body:{jwk:A,redirectState:e},responseType:NOA,decryptResponse:"dontDecrypt"})),UOA=Rh.readonly(Rh.type({sessionRestorationKey:QA.JwkSymKey},"SessionKeyRestoreResponse")),QPe=aoA((A,e)=>({name:"saveSessionRestorationKey",method:"POST",encrypted:!1,url:"/api/v2/session-restore/restore-key",body:{sessionRestorationToken:A,redirectState:e},responseType:UOA})),ASe=aoA(A=>({name:"destroySessionRestorationKey",method:"DELETE",encrypted:!1,url:"/api/v2/session-restore/destroy-key",body:{sessionRestorationToken:A},responseType:jA}));var pw=AA(OA());var HOA=EA("web-api/api/default_vault_permissions.ts"),eSe=pw.readonly(pw.type({acl:pw.number})),joA=HOA(()=>({name:"getDefaultVaultPermissions",method:"GET",responseType:eSe,url:"/api/v3/account/defaultvaultacl"})),noA=HOA(A=>({name:"getDefaultVaultPermissions",method:"PUT",responseType:jA,url:"/api/v3/account/defaultvaultacl",body:A}));var wk=AA(OA());var VOA=EA("web-api/api/features.ts"),XOA=wk.readonly(wk.type({name:wk.string}),"Feature"),ioA=wk.readonly(wk.type({features:wk.readonlyArray(XOA)}),"FeaturesList"),ooA=VOA(A=>({name:"getFeatures",method:"POST",url:"/api/v2/features",body:{features:A},responseType:ioA})),soA=VOA(A=>({name:"getPreAuthFeatures",method:"POST",url:"/api/v2/pre-registration-features",body:{features:A},responseType:ioA,encrypted:!1}));var Qe=AA(OA());var y6=AA(OA()),loA=y6.readonly(y6.intersection([y6.type({uuid:y6.string,type:y6.string,state:y6.string,activeItemCount:y6.number}),y6.partial({userUuid:y6.string})]),"VaultReportingVaultOverview");var rSe=Object.create,olA=Object.defineProperty,aSe=Object.getOwnPropertyDescriptor,CTA=Object.getOwnPropertyNames,jSe=Object.getPrototypeOf,nSe=Object.prototype.hasOwnProperty,iSe=(A,e,t)=>e in A?olA(A,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):A[e]=t,Ho=(A,e)=>function(){return e||(0,A[CTA(A)[0]])((e={exports:{}}).exports,e),e.exports},oSe=(A,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of CTA(e))!nSe.call(A,a)&&a!==t&&olA(A,a,{get:()=>e[a],enumerable:!(r=aSe(e,a))||r.enumerable});return A},sv=(A,e,t)=>(t=A!=null?rSe(jSe(A)):{},oSe(e||!A||!A.__esModule?olA(t,"default",{value:A,enumerable:!0}):t,A)),ev=(A,e,t)=>(iSe(A,typeof e!="symbol"?e+"":e,t),t),mE=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/function.js"(A){"use strict";var e=A&&A.__spreadArray||function(q,K,aA){if(aA||arguments.length===2)for(var nA=0,lA=K.length,qA;nA<lA;nA++)(qA||!(nA in K))&&(qA||(qA=Array.prototype.slice.call(K,0,nA)),qA[nA]=K[nA]);return q.concat(qA||Array.prototype.slice.call(K))};Object.defineProperty(A,"__esModule",{value:!0}),A.dual=A.getEndomorphismMonoid=A.not=A.SK=A.hole=A.pipe=A.untupled=A.tupled=A.absurd=A.decrement=A.increment=A.tuple=A.flow=A.flip=A.constVoid=A.constUndefined=A.constNull=A.constFalse=A.constTrue=A.constant=A.unsafeCoerce=A.identity=A.apply=A.getRing=A.getSemiring=A.getMonoid=A.getSemigroup=A.getBooleanAlgebra=void 0;var t=function(q){return function(){return{meet:function(K,aA){return function(nA){return q.meet(K(nA),aA(nA))}},join:function(K,aA){return function(nA){return q.join(K(nA),aA(nA))}},zero:function(){return q.zero},one:function(){return q.one},implies:function(K,aA){return function(nA){return q.implies(K(nA),aA(nA))}},not:function(K){return function(aA){return q.not(K(aA))}}}}};A.getBooleanAlgebra=t;var r=function(q){return function(){return{concat:function(K,aA){return function(nA){return q.concat(K(nA),aA(nA))}}}}};A.getSemigroup=r;var a=function(q){var K=(0,A.getSemigroup)(q);return function(){return{concat:K().concat,empty:function(){return q.empty}}}};A.getMonoid=a;var j=function(q){return{add:function(K,aA){return function(nA){return q.add(K(nA),aA(nA))}},zero:function(){return q.zero},mul:function(K,aA){return function(nA){return q.mul(K(nA),aA(nA))}},one:function(){return q.one}}};A.getSemiring=j;var n=function(q){var K=(0,A.getSemiring)(q);return{add:K.add,mul:K.mul,one:K.one,zero:K.zero,sub:function(aA,nA){return function(lA){return q.sub(aA(lA),nA(lA))}}}};A.getRing=n;var i=function(q){return function(K){return K(q)}};A.apply=i;function o(q){return q}A.identity=o,A.unsafeCoerce=o;function s(q){return function(){return q}}A.constant=s,A.constTrue=s(!0),A.constFalse=s(!1),A.constNull=s(null),A.constUndefined=s(void 0),A.constVoid=A.constUndefined;function c(q){return function(){for(var K=[],aA=0;aA<arguments.length;aA++)K[aA]=arguments[aA];return K.length>1?q(K[1],K[0]):function(nA){return q(nA)(K[0])}}}A.flip=c;function u(q,K,aA,nA,lA,qA,UA,le,yA){switch(arguments.length){case 1:return q;case 2:return function(){return K(q.apply(this,arguments))};case 3:return function(){return aA(K(q.apply(this,arguments)))};case 4:return function(){return nA(aA(K(q.apply(this,arguments))))};case 5:return function(){return lA(nA(aA(K(q.apply(this,arguments)))))};case 6:return function(){return qA(lA(nA(aA(K(q.apply(this,arguments))))))};case 7:return function(){return UA(qA(lA(nA(aA(K(q.apply(this,arguments)))))))};case 8:return function(){return le(UA(qA(lA(nA(aA(K(q.apply(this,arguments))))))))};case 9:return function(){return yA(le(UA(qA(lA(nA(aA(K(q.apply(this,arguments)))))))))}}}A.flow=u;function p(){for(var q=[],K=0;K<arguments.length;K++)q[K]=arguments[K];return q}A.tuple=p;function h(q){return q+1}A.increment=h;function f(q){return q-1}A.decrement=f;function G(q){throw new Error("Called `absurd` function which should be uncallable")}A.absurd=G;function w(q){return function(K){return q.apply(void 0,K)}}A.tupled=w;function y(q){return function(){for(var K=[],aA=0;aA<arguments.length;aA++)K[aA]=arguments[aA];return q(K)}}A.untupled=y;function E(q,K,aA,nA,lA,qA,UA,le,yA){switch(arguments.length){case 1:return q;case 2:return K(q);case 3:return aA(K(q));case 4:return nA(aA(K(q)));case 5:return lA(nA(aA(K(q))));case 6:return qA(lA(nA(aA(K(q)))));case 7:return UA(qA(lA(nA(aA(K(q))))));case 8:return le(UA(qA(lA(nA(aA(K(q)))))));case 9:return yA(le(UA(qA(lA(nA(aA(K(q))))))));default:{for(var we=arguments[0],ge=1;ge<arguments.length;ge++)we=arguments[ge](we);return we}}}A.pipe=E,A.hole=G;var $=function(q,K){return K};A.SK=$;function T(q){return function(K){return!q(K)}}A.not=T;var O=function(){return{concat:function(q,K){return u(q,K)},empty:o}};A.getEndomorphismMonoid=O;var I=function(q,K){var aA=typeof q=="number"?function(nA){return nA.length>=q}:q;return function(){var nA=Array.from(arguments);return aA(arguments)?K.apply(this,nA):function(lA){return K.apply(void 0,e([lA],nA,!1))}}};A.dual=I}}),DL=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/internal.js"(A){"use strict";var e=A&&A.__spreadArray||function(q,K,aA){if(aA||arguments.length===2)for(var nA=0,lA=K.length,qA;nA<lA;nA++)(qA||!(nA in K))&&(qA||(qA=Array.prototype.slice.call(K,0,nA)),qA[nA]=K[nA]);return q.concat(qA||Array.prototype.slice.call(K))};Object.defineProperty(A,"__esModule",{value:!0}),A.flatMapReader=A.flatMapTask=A.flatMapIO=A.flatMapEither=A.flatMapOption=A.flatMapNullable=A.liftOption=A.liftNullable=A.fromReadonlyNonEmptyArray=A.has=A.emptyRecord=A.emptyReadonlyArray=A.tail=A.head=A.isNonEmpty=A.singleton=A.right=A.left=A.isRight=A.isLeft=A.some=A.none=A.isSome=A.isNone=void 0;var t=mE(),r=function(q){return q._tag==="None"};A.isNone=r;var a=function(q){return q._tag==="Some"};A.isSome=a,A.none={_tag:"None"};var j=function(q){return{_tag:"Some",value:q}};A.some=j;var n=function(q){return q._tag==="Left"};A.isLeft=n;var i=function(q){return q._tag==="Right"};A.isRight=i;var o=function(q){return{_tag:"Left",left:q}};A.left=o;var s=function(q){return{_tag:"Right",right:q}};A.right=s;var c=function(q){return[q]};A.singleton=c;var u=function(q){return q.length>0};A.isNonEmpty=u;var p=function(q){return q[0]};A.head=p;var h=function(q){return q.slice(1)};A.tail=h,A.emptyReadonlyArray=[],A.emptyRecord={},A.has=Object.prototype.hasOwnProperty;var f=function(q){return e([q[0]],q.slice(1),!0)};A.fromReadonlyNonEmptyArray=f;var G=function(q){return function(K,aA){return function(){for(var nA=[],lA=0;lA<arguments.length;lA++)nA[lA]=arguments[lA];var qA=K.apply(void 0,nA);return q.fromEither(qA==null?(0,A.left)(aA.apply(void 0,nA)):(0,A.right)(qA))}}};A.liftNullable=G;var w=function(q){return function(K,aA){return function(){for(var nA=[],lA=0;lA<arguments.length;lA++)nA[lA]=arguments[lA];var qA=K.apply(void 0,nA);return q.fromEither((0,A.isNone)(qA)?(0,A.left)(aA.apply(void 0,nA)):(0,A.right)(qA.value))}}};A.liftOption=w;var y=function(q,K){return(0,t.dual)(3,function(aA,nA,lA){return K.flatMap(aA,(0,A.liftNullable)(q)(nA,lA))})};A.flatMapNullable=y;var E=function(q,K){return(0,t.dual)(3,function(aA,nA,lA){return K.flatMap(aA,(0,A.liftOption)(q)(nA,lA))})};A.flatMapOption=E;var $=function(q,K){return(0,t.dual)(2,function(aA,nA){return K.flatMap(aA,function(lA){return q.fromEither(nA(lA))})})};A.flatMapEither=$;var T=function(q,K){return(0,t.dual)(2,function(aA,nA){return K.flatMap(aA,function(lA){return q.fromIO(nA(lA))})})};A.flatMapIO=T;var O=function(q,K){return(0,t.dual)(2,function(aA,nA){return K.flatMap(aA,function(lA){return q.fromTask(nA(lA))})})};A.flatMapTask=O;var I=function(q,K){return(0,t.dual)(2,function(aA,nA){return K.flatMap(aA,function(lA){return q.fromReader(nA(lA))})})};A.flatMapReader=I}}),OTA=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Apply.js"(A){"use strict";var e=A&&A.__createBinding||(Object.create?function(y,E,$,T){T===void 0&&(T=$);var O=Object.getOwnPropertyDescriptor(E,$);(!O||("get"in O?!E.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return E[$]}}),Object.defineProperty(y,T,O)}:function(y,E,$,T){T===void 0&&(T=$),y[T]=E[$]}),t=A&&A.__setModuleDefault||(Object.create?function(y,E){Object.defineProperty(y,"default",{enumerable:!0,value:E})}:function(y,E){y.default=E}),r=A&&A.__importStar||function(y){if(y&&y.__esModule)return y;var E={};if(y!=null)for(var $ in y)$!=="default"&&Object.prototype.hasOwnProperty.call(y,$)&&e(E,y,$);return t(E,y),E};Object.defineProperty(A,"__esModule",{value:!0}),A.sequenceS=A.sequenceT=A.getApplySemigroup=A.apS=A.apSecond=A.apFirst=A.ap=void 0;var a=mE(),j=r(DL());function n(y,E){return function($){return function(T){return y.ap(y.map(T,function(O){return function(I){return E.ap(O,I)}}),$)}}}A.ap=n;function i(y){return function(E){return function($){return y.ap(y.map($,function(T){return function(){return T}}),E)}}}A.apFirst=i;function o(y){return function(E){return function($){return y.ap(y.map($,function(){return function(T){return T}}),E)}}}A.apSecond=o;function s(y){return function(E,$){return function(T){return y.ap(y.map(T,function(O){return function(I){var q;return Object.assign({},O,(q={},q[E]=I,q))}}),$)}}}A.apS=s;function c(y){return function(E){return{concat:function($,T){return y.ap(y.map($,function(O){return function(I){return E.concat(O,I)}}),T)}}}}A.getApplySemigroup=c;function u(y,E,$){return function(T){for(var O=Array($.length+1),I=0;I<$.length;I++)O[I]=$[I];return O[$.length]=T,E===0?y.apply(null,O):u(y,E-1,O)}}var p={1:function(y){return[y]},2:function(y){return function(E){return[y,E]}},3:function(y){return function(E){return function($){return[y,E,$]}}},4:function(y){return function(E){return function($){return function(T){return[y,E,$,T]}}}},5:function(y){return function(E){return function($){return function(T){return function(O){return[y,E,$,T,O]}}}}}};function h(y){return j.has.call(p,y)||(p[y]=u(a.tuple,y-1,[])),p[y]}function f(y){return function(){for(var E=[],$=0;$<arguments.length;$++)E[$]=arguments[$];for(var T=E.length,O=h(T),I=y.map(E[0],O),q=1;q<T;q++)I=y.ap(I,E[q]);return I}}A.sequenceT=f;function G(y){var E=y.length;switch(E){case 1:return function($){var T;return T={},T[y[0]]=$,T};case 2:return function($){return function(T){var O;return O={},O[y[0]]=$,O[y[1]]=T,O}};case 3:return function($){return function(T){return function(O){var I;return I={},I[y[0]]=$,I[y[1]]=T,I[y[2]]=O,I}}};case 4:return function($){return function(T){return function(O){return function(I){var q;return q={},q[y[0]]=$,q[y[1]]=T,q[y[2]]=O,q[y[3]]=I,q}}}};case 5:return function($){return function(T){return function(O){return function(I){return function(q){var K;return K={},K[y[0]]=$,K[y[1]]=T,K[y[2]]=O,K[y[3]]=I,K[y[4]]=q,K}}}}};default:return u(function(){for(var $=[],T=0;T<arguments.length;T++)$[T]=arguments[T];for(var O={},I=0;I<E;I++)O[y[I]]=$[I];return O},E-1,[])}}function w(y){return function(E){for(var $=Object.keys(E),T=$.length,O=G($),I=y.map(E[$[0]],O),q=1;q<T;q++)I=y.ap(I,E[$[q]]);return I}}A.sequenceS=w}}),slA=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Functor.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.asUnit=A.as=A.getFunctorComposition=A.let=A.bindTo=A.flap=A.map=void 0;var e=mE();function t(s,c){return function(u){return function(p){return s.map(p,function(h){return c.map(h,u)})}}}A.map=t;function r(s){return function(c){return function(u){return s.map(u,function(p){return p(c)})}}}A.flap=r;function a(s){return function(c){return function(u){return s.map(u,function(p){var h;return h={},h[c]=p,h})}}}A.bindTo=a;function j(s){return function(c,u){return function(p){return s.map(p,function(h){var f;return Object.assign({},h,(f={},f[c]=u(h),f))})}}}A.let=j;function n(s,c){var u=t(s,c);return{map:function(p,h){return(0,e.pipe)(p,u(h))}}}A.getFunctorComposition=n;function i(s){return function(c,u){return s.map(c,function(){return u})}}A.as=i;function o(s){var c=i(s);return function(u){return c(u,void 0)}}A.asUnit=o}}),sSe=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Applicative.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getApplicativeComposition=A.getApplicativeMonoid=void 0;var e=OTA(),t=mE(),r=slA();function a(n){var i=(0,e.getApplySemigroup)(n);return function(o){return{concat:i(o).concat,empty:n.of(o.empty)}}}A.getApplicativeMonoid=a;function j(n,i){var o=(0,r.getFunctorComposition)(n,i).map,s=(0,e.ap)(n,i);return{map:o,of:function(c){return n.of(i.of(c))},ap:function(c,u){return(0,t.pipe)(c,s(u))}}}A.getApplicativeComposition=j}}),TTA=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Chain.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.bind=A.tap=A.chainFirst=void 0;function e(a){var j=t(a);return function(n){return function(i){return j(i,n)}}}A.chainFirst=e;function t(a){return function(j,n){return a.chain(j,function(i){return a.map(n(i),function(){return i})})}}A.tap=t;function r(a){return function(j,n){return function(i){return a.chain(i,function(o){return a.map(n(o),function(s){var c;return Object.assign({},o,(c={},c[j]=s,c))})})}}}A.bind=r}}),lSe=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/ChainRec.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.tailRec=void 0;var e=function(t,r){for(var a=r(t);a._tag==="Left";)a=r(a.left);return a.right};A.tailRec=e}}),cSe=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/FromEither.js"(A){"use strict";var e=A&&A.__createBinding||(Object.create?function(w,y,E,$){$===void 0&&($=E);var T=Object.getOwnPropertyDescriptor(y,E);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[E]}}),Object.defineProperty(w,$,T)}:function(w,y,E,$){$===void 0&&($=E),w[$]=y[E]}),t=A&&A.__setModuleDefault||(Object.create?function(w,y){Object.defineProperty(w,"default",{enumerable:!0,value:y})}:function(w,y){w.default=y}),r=A&&A.__importStar||function(w){if(w&&w.__esModule)return w;var y={};if(w!=null)for(var E in w)E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)&&e(y,w,E);return t(y,w),y};Object.defineProperty(A,"__esModule",{value:!0}),A.tapEither=A.filterOrElse=A.chainFirstEitherK=A.chainEitherK=A.fromEitherK=A.chainOptionK=A.fromOptionK=A.fromPredicate=A.fromOption=void 0;var a=TTA(),j=mE(),n=r(DL());function i(w){return function(y){return function(E){return w.fromEither(n.isNone(E)?n.left(y()):n.right(E.value))}}}A.fromOption=i;function o(w){return function(y,E){return function($){return w.fromEither(y($)?n.right($):n.left(E($)))}}}A.fromPredicate=o;function s(w){var y=i(w);return function(E){var $=y(E);return function(T){return(0,j.flow)(T,$)}}}A.fromOptionK=s;function c(w,y){var E=s(w);return function($){var T=E($);return function(O){return function(I){return y.chain(I,T(O))}}}}A.chainOptionK=c;function u(w){return function(y){return(0,j.flow)(y,w.fromEither)}}A.fromEitherK=u;function p(w,y){var E=u(w);return function($){return function(T){return y.chain(T,E($))}}}A.chainEitherK=p;function h(w,y){var E=G(w,y);return function($){return function(T){return E(T,$)}}}A.chainFirstEitherK=h;function f(w,y){return function(E,$){return function(T){return y.chain(T,function(O){return w.fromEither(E(O)?n.right(O):n.left($(O)))})}}}A.filterOrElse=f;function G(w,y){var E=u(w),$=(0,a.tap)(y);return function(T,O){return $(T,E(O))}}A.tapEither=G}}),uSe=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Separated.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.right=A.left=A.flap=A.Functor=A.Bifunctor=A.URI=A.bimap=A.mapLeft=A.map=A.separated=void 0;var e=mE(),t=slA(),r=function(p,h){return{left:p,right:h}};A.separated=r;var a=function(p,h){return(0,e.pipe)(p,(0,A.map)(h))},j=function(p,h){return(0,e.pipe)(p,(0,A.mapLeft)(h))},n=function(p,h,f){return(0,e.pipe)(p,(0,A.bimap)(h,f))},i=function(p){return function(h){return(0,A.separated)((0,A.left)(h),p((0,A.right)(h)))}};A.map=i;var o=function(p){return function(h){return(0,A.separated)(p((0,A.left)(h)),(0,A.right)(h))}};A.mapLeft=o;var s=function(p,h){return function(f){return(0,A.separated)(p((0,A.left)(f)),h((0,A.right)(f)))}};A.bimap=s,A.URI="Separated",A.Bifunctor={URI:A.URI,mapLeft:j,bimap:n},A.Functor={URI:A.URI,map:a},A.flap=(0,t.flap)(A.Functor);var c=function(p){return p.left};A.left=c;var u=function(p){return p.right};A.right=u}}),dSe=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Witherable.js"(A){"use strict";var e=A&&A.__createBinding||(Object.create?function(o,s,c,u){u===void 0&&(u=c);var p=Object.getOwnPropertyDescriptor(s,c);(!p||("get"in p?!s.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(o,u,p)}:function(o,s,c,u){u===void 0&&(u=c),o[u]=s[c]}),t=A&&A.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),r=A&&A.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var c in o)c!=="default"&&Object.prototype.hasOwnProperty.call(o,c)&&e(s,o,c);return t(s,o),s};Object.defineProperty(A,"__esModule",{value:!0}),A.filterE=A.witherDefault=A.wiltDefault=void 0;var a=r(DL());function j(o,s){return function(c){var u=o.traverse(c);return function(p,h){return c.map(u(p,h),s.separate)}}}A.wiltDefault=j;function n(o,s){return function(c){var u=o.traverse(c);return function(p,h){return c.map(u(p,h),s.compact)}}}A.witherDefault=n;function i(o){return function(s){var c=o.wither(s);return function(u){return function(p){return c(p,function(h){return s.map(u(h),function(f){return f?a.some(h):a.none})})}}}}A.filterE=i}}),zL=Ho({"../../node_modules/.pnpm/fp-ts@2.16.0/node_modules/fp-ts/lib/Either.js"(A){"use strict";var e=A&&A.__createBinding||(Object.create?function(BA,dA,DA,jt){jt===void 0&&(jt=DA);var Ga=Object.getOwnPropertyDescriptor(dA,DA);(!Ga||("get"in Ga?!dA.__esModule:Ga.writable||Ga.configurable))&&(Ga={enumerable:!0,get:function(){return dA[DA]}}),Object.defineProperty(BA,jt,Ga)}:function(BA,dA,DA,jt){jt===void 0&&(jt=DA),BA[jt]=dA[DA]}),t=A&&A.__setModuleDefault||(Object.create?function(BA,dA){Object.defineProperty(BA,"default",{enumerable:!0,value:dA})}:function(BA,dA){BA.default=dA}),r=A&&A.__importStar||function(BA){if(BA&&BA.__esModule)return BA;var dA={};if(BA!=null)for(var DA in BA)DA!=="default"&&Object.prototype.hasOwnProperty.call(BA,DA)&&e(dA,BA,DA);return t(dA,BA),dA};Object.defineProperty(A,"__esModule",{value:!0}),A.match=A.foldW=A.matchW=A.isRight=A.isLeft=A.fromOption=A.fromPredicate=A.FromEither=A.MonadThrow=A.throwError=A.ChainRec=A.Extend=A.extend=A.Alt=A.alt=A.altW=A.Bifunctor=A.mapLeft=A.bimap=A.Traversable=A.sequence=A.traverse=A.Foldable=A.reduceRight=A.foldMap=A.reduce=A.Monad=A.Chain=A.Applicative=A.Apply=A.ap=A.apW=A.Pointed=A.of=A.asUnit=A.as=A.Functor=A.map=A.getAltValidation=A.getApplicativeValidation=A.getWitherable=A.getFilterable=A.getCompactable=A.getSemigroup=A.getEq=A.getShow=A.URI=A.flatMap=A.right=A.left=void 0,A.chainFirstW=A.chainFirst=A.chain=A.chainW=A.sequenceArray=A.traverseArray=A.traverseArrayWithIndex=A.traverseReadonlyArrayWithIndex=A.traverseReadonlyNonEmptyArrayWithIndex=A.ApT=A.apSW=A.apS=A.bindW=A.bind=A.let=A.bindTo=A.Do=A.exists=A.elem=A.toError=A.toUnion=A.chainNullableK=A.fromNullableK=A.tryCatchK=A.tryCatch=A.fromNullable=A.orElse=A.orElseW=A.swap=A.filterOrElseW=A.filterOrElse=A.flatMapOption=A.flatMapNullable=A.liftOption=A.liftNullable=A.chainOptionKW=A.chainOptionK=A.fromOptionK=A.duplicate=A.flatten=A.flattenW=A.tap=A.apSecondW=A.apSecond=A.apFirstW=A.apFirst=A.flap=A.getOrElse=A.getOrElseW=A.fold=void 0,A.getValidation=A.getValidationMonoid=A.getValidationSemigroup=A.getApplyMonoid=A.getApplySemigroup=A.either=A.stringifyJSON=A.parseJSON=void 0;var a=sSe(),j=OTA(),n=r(TTA()),i=lSe(),o=cSe(),s=mE(),c=slA(),u=r(DL()),p=uSe(),h=dSe();A.left=u.left,A.right=u.right,A.flatMap=(0,s.dual)(2,function(BA,dA){return(0,A.isLeft)(BA)?BA:dA(BA.right)});var f=function(BA,dA){return(0,s.pipe)(BA,(0,A.map)(dA))},G=function(BA,dA){return(0,s.pipe)(BA,(0,A.ap)(dA))},w=function(BA,dA,DA){return(0,s.pipe)(BA,(0,A.reduce)(dA,DA))},y=function(BA){return function(dA,DA){var jt=(0,A.foldMap)(BA);return(0,s.pipe)(dA,jt(DA))}},E=function(BA,dA,DA){return(0,s.pipe)(BA,(0,A.reduceRight)(dA,DA))},$=function(BA){var dA=(0,A.traverse)(BA);return function(DA,jt){return(0,s.pipe)(DA,dA(jt))}},T=function(BA,dA,DA){return(0,s.pipe)(BA,(0,A.bimap)(dA,DA))},O=function(BA,dA){return(0,s.pipe)(BA,(0,A.mapLeft)(dA))},I=function(BA,dA){return(0,s.pipe)(BA,(0,A.alt)(dA))},q=function(BA,dA){return(0,s.pipe)(BA,(0,A.extend)(dA))},K=function(BA,dA){return(0,i.tailRec)(dA(BA),function(DA){return(0,A.isLeft)(DA)?(0,A.right)((0,A.left)(DA.left)):(0,A.isLeft)(DA.right)?(0,A.left)(dA(DA.right.left)):(0,A.right)((0,A.right)(DA.right.right))})};A.URI="Either";var aA=function(BA,dA){return{show:function(DA){return(0,A.isLeft)(DA)?"left(".concat(BA.show(DA.left),")"):"right(".concat(dA.show(DA.right),")")}}};A.getShow=aA;var nA=function(BA,dA){return{equals:function(DA,jt){return DA===jt||((0,A.isLeft)(DA)?(0,A.isLeft)(jt)&&BA.equals(DA.left,jt.left):(0,A.isRight)(jt)&&dA.equals(DA.right,jt.right))}}};A.getEq=nA;var lA=function(BA){return{concat:function(dA,DA){return(0,A.isLeft)(DA)?dA:(0,A.isLeft)(dA)?DA:(0,A.right)(BA.concat(dA.right,DA.right))}}};A.getSemigroup=lA;var qA=function(BA){var dA=(0,A.left)(BA.empty);return{URI:A.URI,_E:void 0,compact:function(DA){return(0,A.isLeft)(DA)?DA:DA.right._tag==="None"?dA:(0,A.right)(DA.right.value)},separate:function(DA){return(0,A.isLeft)(DA)?(0,p.separated)(DA,DA):(0,A.isLeft)(DA.right)?(0,p.separated)((0,A.right)(DA.right.left),dA):(0,p.separated)(dA,(0,A.right)(DA.right.right))}}};A.getCompactable=qA;var UA=function(BA){var dA=(0,A.left)(BA.empty),DA=(0,A.getCompactable)(BA),jt=DA.compact,Ga=DA.separate,Pi=function(bj,gi){return(0,A.isLeft)(bj)||gi(bj.right)?bj:dA},Bs=function(bj,gi){return(0,A.isLeft)(bj)?(0,p.separated)(bj,bj):gi(bj.right)?(0,p.separated)(dA,(0,A.right)(bj.right)):(0,p.separated)((0,A.right)(bj.right),dA)};return{URI:A.URI,_E:void 0,map:f,compact:jt,separate:Ga,filter:Pi,filterMap:function(bj,gi){if((0,A.isLeft)(bj))return bj;var fi=gi(bj.right);return fi._tag==="None"?dA:(0,A.right)(fi.value)},partition:Bs,partitionMap:function(bj,gi){if((0,A.isLeft)(bj))return(0,p.separated)(bj,bj);var fi=gi(bj.right);return(0,A.isLeft)(fi)?(0,p.separated)((0,A.right)(fi.left),dA):(0,p.separated)(dA,(0,A.right)(fi.right))}}};A.getFilterable=UA;var le=function(BA){var dA=(0,A.getFilterable)(BA),DA=(0,A.getCompactable)(BA);return{URI:A.URI,_E:void 0,map:f,compact:dA.compact,separate:dA.separate,filter:dA.filter,filterMap:dA.filterMap,partition:dA.partition,partitionMap:dA.partitionMap,traverse:$,sequence:A.sequence,reduce:w,foldMap:y,reduceRight:E,wither:(0,h.witherDefault)(A.Traversable,DA),wilt:(0,h.wiltDefault)(A.Traversable,DA)}};A.getWitherable=le;var yA=function(BA){return{URI:A.URI,_E:void 0,map:f,ap:function(dA,DA){return(0,A.isLeft)(dA)?(0,A.isLeft)(DA)?(0,A.left)(BA.concat(dA.left,DA.left)):dA:(0,A.isLeft)(DA)?DA:(0,A.right)(dA.right(DA.right))},of:A.of}};A.getApplicativeValidation=yA;var we=function(BA){return{URI:A.URI,_E:void 0,map:f,alt:function(dA,DA){if((0,A.isRight)(dA))return dA;var jt=DA();return(0,A.isLeft)(jt)?(0,A.left)(BA.concat(dA.left,jt.left)):jt}}};A.getAltValidation=we;var ge=function(BA){return function(dA){return(0,A.isLeft)(dA)?dA:(0,A.right)(BA(dA.right))}};A.map=ge,A.Functor={URI:A.URI,map:f},A.as=(0,s.dual)(2,(0,c.as)(A.Functor)),A.asUnit=(0,c.asUnit)(A.Functor),A.of=A.right,A.Pointed={URI:A.URI,of:A.of};var ot=function(BA){return function(dA){return(0,A.isLeft)(dA)?dA:(0,A.isLeft)(BA)?BA:(0,A.right)(dA.right(BA.right))}};A.apW=ot,A.ap=A.apW,A.Apply={URI:A.URI,map:f,ap:G},A.Applicative={URI:A.URI,map:f,ap:G,of:A.of},A.Chain={URI:A.URI,map:f,ap:G,chain:A.flatMap},A.Monad={URI:A.URI,map:f,ap:G,of:A.of,chain:A.flatMap};var ue=function(BA,dA){return function(DA){return(0,A.isLeft)(DA)?BA:dA(BA,DA.right)}};A.reduce=ue;var IA=function(BA){return function(dA){return function(DA){return(0,A.isLeft)(DA)?BA.empty:dA(DA.right)}}};A.foldMap=IA;var ne=function(BA,dA){return function(DA){return(0,A.isLeft)(DA)?BA:dA(DA.right,BA)}};A.reduceRight=ne,A.Foldable={URI:A.URI,reduce:w,foldMap:y,reduceRight:E};var HA=function(BA){return function(dA){return function(DA){return(0,A.isLeft)(DA)?BA.of((0,A.left)(DA.left)):BA.map(dA(DA.right),A.right)}}};A.traverse=HA;var KA=function(BA){return function(dA){return(0,A.isLeft)(dA)?BA.of((0,A.left)(dA.left)):BA.map(dA.right,A.right)}};A.sequence=KA,A.Traversable={URI:A.URI,map:f,reduce:w,foldMap:y,reduceRight:E,traverse:$,sequence:A.sequence};var XA=function(BA,dA){return function(DA){return(0,A.isLeft)(DA)?(0,A.left)(BA(DA.left)):(0,A.right)(dA(DA.right))}};A.bimap=XA;var st=function(BA){return function(dA){return(0,A.isLeft)(dA)?(0,A.left)(BA(dA.left)):dA}};A.mapLeft=st,A.Bifunctor={URI:A.URI,bimap:T,mapLeft:O};var or=function(BA){return function(dA){return(0,A.isLeft)(dA)?BA():dA}};A.altW=or,A.alt=A.altW,A.Alt={URI:A.URI,map:f,alt:I};var ve=function(BA){return function(dA){return(0,A.isLeft)(dA)?dA:(0,A.right)(BA(dA))}};A.extend=ve,A.Extend={URI:A.URI,map:f,extend:q},A.ChainRec={URI:A.URI,map:f,ap:G,chain:A.flatMap,chainRec:K},A.throwError=A.left,A.MonadThrow={URI:A.URI,map:f,ap:G,of:A.of,chain:A.flatMap,throwError:A.throwError},A.FromEither={URI:A.URI,fromEither:s.identity},A.fromPredicate=(0,o.fromPredicate)(A.FromEither),A.fromOption=(0,o.fromOption)(A.FromEither),A.isLeft=u.isLeft,A.isRight=u.isRight;var gt=function(BA,dA){return function(DA){return(0,A.isLeft)(DA)?BA(DA.left):dA(DA.right)}};A.matchW=gt,A.foldW=A.matchW,A.match=A.matchW,A.fold=A.match;var Ge=function(BA){return function(dA){return(0,A.isLeft)(dA)?BA(dA.left):dA.right}};A.getOrElseW=Ge,A.getOrElse=A.getOrElseW,A.flap=(0,c.flap)(A.Functor),A.apFirst=(0,j.apFirst)(A.Apply),A.apFirstW=A.apFirst,A.apSecond=(0,j.apSecond)(A.Apply),A.apSecondW=A.apSecond,A.tap=(0,s.dual)(2,n.tap(A.Chain)),A.flattenW=(0,A.flatMap)(s.identity),A.flatten=A.flattenW,A.duplicate=(0,A.extend)(s.identity),A.fromOptionK=(0,o.fromOptionK)(A.FromEither),A.chainOptionK=(0,o.chainOptionK)(A.FromEither,A.Chain),A.chainOptionKW=A.chainOptionK;var It={fromEither:A.FromEither.fromEither};A.liftNullable=u.liftNullable(It),A.liftOption=u.liftOption(It);var wt={flatMap:A.flatMap};A.flatMapNullable=u.flatMapNullable(It,wt),A.flatMapOption=u.flatMapOption(It,wt),A.filterOrElse=(0,o.filterOrElse)(A.FromEither,A.Chain),A.filterOrElseW=A.filterOrElse;var ar=function(BA){return(0,A.isLeft)(BA)?(0,A.right)(BA.left):(0,A.left)(BA.right)};A.swap=ar;var Ot=function(BA){return function(dA){return(0,A.isLeft)(dA)?BA(dA.left):dA}};A.orElseW=Ot,A.orElse=A.orElseW;var zr=function(BA){return function(dA){return dA==null?(0,A.left)(BA):(0,A.right)(dA)}};A.fromNullable=zr;var Ba=function(BA,dA){try{return(0,A.right)(BA())}catch(DA){return(0,A.left)(dA(DA))}};A.tryCatch=Ba;var rj=function(BA,dA){return function(){for(var DA=[],jt=0;jt<arguments.length;jt++)DA[jt]=arguments[jt];return(0,A.tryCatch)(function(){return BA.apply(void 0,DA)},dA)}};A.tryCatchK=rj;var aj=function(BA){var dA=(0,A.fromNullable)(BA);return function(DA){return(0,s.flow)(DA,dA)}};A.fromNullableK=aj;var cj=function(BA){var dA=(0,A.fromNullableK)(BA);return function(DA){return(0,A.flatMap)(dA(DA))}};A.chainNullableK=cj,A.toUnion=(0,A.foldW)(s.identity,s.identity);function er(BA){return BA instanceof Error?BA:new Error(String(BA))}A.toError=er;function pr(BA){return function(dA,DA){if(DA===void 0){var jt=pr(BA);return function(Ga){return jt(dA,Ga)}}return(0,A.isLeft)(DA)?!1:BA.equals(dA,DA.right)}}A.elem=pr;var ua=function(BA){return function(dA){return(0,A.isLeft)(dA)?!1:BA(dA.right)}};A.exists=ua,A.Do=(0,A.of)(u.emptyRecord),A.bindTo=(0,c.bindTo)(A.Functor);var pn=(0,c.let)(A.Functor);A.let=pn,A.bind=n.bind(A.Chain),A.bindW=A.bind,A.apS=(0,j.apS)(A.Apply),A.apSW=A.apS,A.ApT=(0,A.of)(u.emptyReadonlyArray);var ft=function(BA){return function(dA){var DA=BA(0,u.head(dA));if((0,A.isLeft)(DA))return DA;for(var jt=[DA.right],Ga=1;Ga<dA.length;Ga++){var Pi=BA(Ga,dA[Ga]);if((0,A.isLeft)(Pi))return Pi;jt.push(Pi.right)}return(0,A.right)(jt)}};A.traverseReadonlyNonEmptyArrayWithIndex=ft;var pA=function(BA){var dA=(0,A.traverseReadonlyNonEmptyArrayWithIndex)(BA);return function(DA){return u.isNonEmpty(DA)?dA(DA):A.ApT}};A.traverseReadonlyArrayWithIndex=pA,A.traverseArrayWithIndex=A.traverseReadonlyArrayWithIndex;var wA=function(BA){return(0,A.traverseReadonlyArrayWithIndex)(function(dA,DA){return BA(DA)})};A.traverseArray=wA,A.sequenceArray=(0,A.traverseArray)(s.identity),A.chainW=A.flatMap,A.chain=A.flatMap,A.chainFirst=A.tap,A.chainFirstW=A.tap;function JA(BA,dA){return(0,A.tryCatch)(function(){return JSON.parse(BA)},dA)}A.parseJSON=JA;var Me=function(BA,dA){return(0,A.tryCatch)(function(){var DA=JSON.stringify(BA);if(typeof DA!="string")throw new Error("Converting unsupported structure to JSON");return DA},dA)};A.stringifyJSON=Me,A.either={URI:A.URI,map:f,of:A.of,ap:G,chain:A.flatMap,reduce:w,foldMap:y,reduceRight:E,traverse:$,sequence:A.sequence,bimap:T,mapLeft:O,alt:I,extend:q,chainRec:K,throwError:A.throwError},A.getApplySemigroup=(0,j.getApplySemigroup)(A.Apply),A.getApplyMonoid=(0,a.getApplicativeMonoid)(A.Applicative);var Se=function(BA,dA){return(0,j.getApplySemigroup)((0,A.getApplicativeValidation)(BA))(dA)};A.getValidationSemigroup=Se;var _t=function(BA,dA){return(0,a.getApplicativeMonoid)((0,A.getApplicativeValidation)(BA))(dA)};A.getValidationMonoid=_t;function qe(BA){var dA=(0,A.getApplicativeValidation)(BA).ap,DA=(0,A.getAltValidation)(BA).alt;return{URI:A.URI,_E:void 0,map:f,of:A.of,chain:A.flatMap,bimap:T,mapLeft:O,reduce:w,foldMap:y,reduceRight:E,extend:q,traverse:$,sequence:A.sequence,chainRec:K,throwError:A.throwError,ap:dA,alt:DA}}A.getValidation=qe}}),mSe=Ho({"../../node_modules/.pnpm/io-ts@2.2.20_fp-ts@2.16.0/node_modules/io-ts/lib/index.js"(A){"use strict";var e=A&&A.__extends||function(){var _=function(U,tA){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,vA){J.__proto__=vA}||function(J,vA){for(var gA in vA)Object.prototype.hasOwnProperty.call(vA,gA)&&(J[gA]=vA[gA])},_(U,tA)};return function(U,tA){if(typeof tA!="function"&&tA!==null)throw new TypeError("Class extends value "+String(tA)+" is not a constructor or null");_(U,tA);function J(){this.constructor=U}U.prototype=tA===null?Object.create(tA):(J.prototype=tA.prototype,new J)}}(),t=A&&A.__assign||function(){return t=Object.assign||function(_){for(var U,tA=1,J=arguments.length;tA<J;tA++){U=arguments[tA];for(var vA in U)Object.prototype.hasOwnProperty.call(U,vA)&&(_[vA]=U[vA])}return _},t.apply(this,arguments)},r=A&&A.__spreadArray||function(_,U,tA){if(tA||arguments.length===2)for(var J=0,vA=U.length,gA;J<vA;J++)(gA||!(J in U))&&(gA||(gA=Array.prototype.slice.call(U,0,J)),gA[J]=U[J]);return _.concat(gA||Array.prototype.slice.call(U))};Object.defineProperty(A,"__esModule",{value:!0}),A.partial=A.PartialType=A.type=A.InterfaceType=A.array=A.ArrayType=A.recursion=A.RecursiveType=A.Int=A.brand=A.RefinementType=A.keyof=A.KeyofType=A.literal=A.LiteralType=A.void=A.undefined=A.null=A.UnknownRecord=A.AnyDictionaryType=A.UnknownArray=A.AnyArrayType=A.boolean=A.BooleanType=A.bigint=A.BigIntType=A.number=A.NumberType=A.string=A.StringType=A.unknown=A.UnknownType=A.voidType=A.VoidType=A.UndefinedType=A.nullType=A.NullType=A.getIndex=A.getTags=A.emptyTags=A.mergeAll=A.getDomainKeys=A.appendContext=A.getContextEntry=A.getFunctionName=A.identity=A.Type=A.success=A.failure=A.failures=void 0,A.alias=A.clean=A.StrictType=A.dictionary=A.object=A.ObjectType=A.Dictionary=A.getDefaultContext=A.getValidationError=A.interface=A.Array=A.taggedUnion=A.TaggedUnionType=A.Integer=A.refinement=A.any=A.AnyType=A.never=A.NeverType=A.Function=A.FunctionType=A.exact=A.ExactType=A.strict=A.readonlyArray=A.ReadonlyArrayType=A.readonly=A.ReadonlyType=A.tuple=A.TupleType=A.intersection=A.IntersectionType=A.union=A.UnionType=A.record=A.DictionaryType=void 0;var a=zL();A.failures=a.left;var j=function(_,U,tA){return(0,A.failures)([{value:_,context:U,message:tA}])};A.failure=j,A.success=a.right;var n=function(){function _(U,tA,J,vA){this.name=U,this.is=tA,this.validate=J,this.encode=vA,this.decode=this.decode.bind(this)}return _.prototype.pipe=function(U,tA){var J=this;return tA===void 0&&(tA="pipe(".concat(this.name,", ").concat(U.name,")")),new _(tA,U.is,function(vA,gA){var zA=J.validate(vA,gA);return(0,a.isLeft)(zA)?zA:U.validate(zA.right,gA)},this.encode===A.identity&&U.encode===A.identity?A.identity:function(vA){return J.encode(U.encode(vA))})},_.prototype.asDecoder=function(){return this},_.prototype.asEncoder=function(){return this},_.prototype.decode=function(U){return this.validate(U,[{key:"",type:this,actual:U}])},_}();A.Type=n;var i=function(_){return _};A.identity=i;function o(_){return _.displayName||_.name||"<function".concat(_.length,">")}A.getFunctionName=o;function s(_,U){return{key:_,type:U}}A.getContextEntry=s;function c(_,U,tA,J){for(var vA=_.length,gA=Array(vA+1),zA=0;zA<vA;zA++)gA[zA]=_[zA];return gA[vA]={key:U,type:tA,actual:J},gA}A.appendContext=c;function u(_,U){for(var tA=U.length,J=0;J<tA;J++)_.push(U[J])}var p=Object.prototype.hasOwnProperty;function h(_){return Object.keys(_).map(function(U){return"".concat(U,": ").concat(_[U].name)}).join(", ")}function f(_){for(var U=0;U<_.length;U++)if(_[U].encode!==A.identity)return!1;return!0}function G(_){return"{ ".concat(h(_)," }")}function w(_){return"Partial<".concat(_,">")}function y(_,U,tA,J){J===void 0&&(J="{ [K in ".concat(U.name,"]: ").concat(tA.name," }"));var vA=_.length;return new dA(J,function(gA){return A.UnknownRecord.is(gA)&&_.every(function(zA){return tA.is(gA[zA])})},function(gA,zA){var bA=A.UnknownRecord.validate(gA,zA);if((0,a.isLeft)(bA))return bA;for(var ee=bA.right,Ce={},et=[],at=!1,Bt=0;Bt<vA;Bt++){var De=_[Bt],Gt=ee[De],tt=tA.validate(Gt,c(zA,De,tA,Gt));if((0,a.isLeft)(tt))u(et,tt.left);else{var Et=tt.right;at=at||Et!==Gt,Ce[De]=Et}}return et.length>0?(0,A.failures)(et):(0,A.success)(at||Object.keys(ee).length!==vA?Ce:ee)},tA.encode===A.identity?A.identity:function(gA){for(var zA={},bA=0;bA<vA;bA++){var ee=_[bA];zA[ee]=tA.encode(gA[ee])}return zA},U,tA)}function E(_){var U;if(le(_)){var tA=_.value;if(A.string.is(tA))return U={},U[tA]=null,U}else{if(yA(_))return _.keys;if(HA(_)){var J=_.types.map(function(vA){return E(vA)});return J.some(Ge.is)?void 0:Object.assign.apply(Object,r([{}],J,!1))}}}A.getDomainKeys=E;function $(_,U,tA){return tA===void 0&&(tA="{ [K in ".concat(_.name,"]: ").concat(U.name," }")),new dA(tA,function(J){return A.UnknownRecord.is(J)?Object.keys(J).every(function(vA){return _.is(vA)&&U.is(J[vA])}):UA(U)&&Array.isArray(J)},function(J,vA){if(A.UnknownRecord.is(J)){for(var gA={},zA=[],bA=Object.keys(J),ee=bA.length,Ce=!1,et=0;et<ee;et++){var at=bA[et],Bt=J[at],De=_.validate(at,c(vA,at,_,at));if((0,a.isLeft)(De))u(zA,De.left);else{var Gt=De.right;Ce=Ce||Gt!==at,at=Gt;var tt=U.validate(Bt,c(vA,at,U,Bt));if((0,a.isLeft)(tt))u(zA,tt.left);else{var Et=tt.right;Ce=Ce||Et!==Bt,gA[at]=Et}}}return zA.length>0?(0,A.failures)(zA):(0,A.success)(Ce?gA:J)}return UA(U)&&Array.isArray(J)?(0,A.success)(J):(0,A.failure)(J,vA)},_.encode===A.identity&&U.encode===A.identity?A.identity:function(J){for(var vA={},gA=Object.keys(J),zA=gA.length,bA=0;bA<zA;bA++){var ee=gA[bA];vA[String(_.encode(ee))]=U.encode(J[ee])}return vA},_,U)}function T(_){return"("+_.map(function(U){return U.name}).join(" | ")+")"}function O(_,U){for(var tA=!0,J=!0,vA=!A.UnknownRecord.is(_),gA=0,zA=U;gA<zA.length;gA++){var bA=zA[gA];bA!==_&&(tA=!1),A.UnknownRecord.is(bA)&&(J=!1)}if(tA)return _;if(J)return U[U.length-1];for(var ee={},Ce=0,et=U;Ce<et.length;Ce++){var bA=et[Ce];for(var at in bA)(!p.call(ee,at)||vA||bA[at]!==_[at])&&(ee[at]=bA[at])}return ee}A.mergeAll=O;function I(_){switch(_._tag){case"RefinementType":case"ReadonlyType":return I(_.type);case"InterfaceType":case"StrictType":case"PartialType":return _.props;case"IntersectionType":return _.types.reduce(function(U,tA){return Object.assign(U,I(tA))},{})}}function q(_,U){for(var tA=Object.getOwnPropertyNames(_),J=!1,vA={},gA=0;gA<tA.length;gA++){var zA=tA[gA];p.call(U,zA)?vA[zA]=_[zA]:J=!0}return J?vA:_}function K(_){return we(_)?"{| ".concat(h(_.props)," |}"):ge(_)?w("{| ".concat(h(_.props)," |}")):"Exact<".concat(_.name,">")}function aA(_){return _.length>0}A.emptyTags={};function nA(_,U){for(var tA=[],J=0,vA=_;J<vA.length;J++){var gA=vA[J];U.indexOf(gA)!==-1&&tA.push(gA)}return tA}function lA(_,U){if(_===A.emptyTags)return U;if(U===A.emptyTags)return _;var tA=Object.assign({},_);for(var J in U)if(p.call(_,J)){var vA=nA(_[J],U[J]);if(aA(vA))tA[J]=vA;else{tA=A.emptyTags;break}}else tA[J]=U[J];return tA}function qA(_,U){if(_===A.emptyTags||U===A.emptyTags)return A.emptyTags;var tA=A.emptyTags;for(var J in _)if(p.call(U,J)){var vA=nA(_[J],U[J]);vA.length===0&&(tA===A.emptyTags&&(tA={}),tA[J]=_[J].concat(U[J]))}return tA}function UA(_){return _._tag==="AnyType"}function le(_){return _._tag==="LiteralType"}function yA(_){return _._tag==="KeyofType"}function we(_){return _._tag==="InterfaceType"}function ge(_){return _._tag==="PartialType"}function ot(_){return _._tag==="StrictType"}function ue(_){return _._tag==="ExactType"}function IA(_){return _._tag==="RefinementType"}function ne(_){return _._tag==="IntersectionType"}function HA(_){return _._tag==="UnionType"}function KA(_){return _._tag==="RecursiveType"}var XA=[];function st(_){if(XA.indexOf(_)!==-1)return A.emptyTags;if(we(_)||ot(_)){var U=A.emptyTags;for(var tA in _.props){var J=_.props[tA];le(J)&&(U===A.emptyTags&&(U={}),U[tA]=[J.value])}return U}else{if(ue(_)||IA(_))return st(_.type);if(ne(_))return _.types.reduce(function(gA,zA){return lA(gA,st(zA))},A.emptyTags);if(HA(_))return _.types.slice(1).reduce(function(gA,zA){return qA(gA,st(zA))},st(_.types[0]));if(KA(_)){XA.push(_);var vA=st(_.type);return XA.pop(),vA}}return A.emptyTags}A.getTags=st;function or(_){var U=st(_[0]),tA=Object.keys(U),J=_.length,vA=function(Ce){for(var et=U[Ce].slice(),at=[U[Ce]],Bt=1;Bt<J;Bt++){var De=_[Bt],Gt=st(De),tt=Gt[Ce];if(tt===void 0)return"continue-keys";if(tt.some(function(Et){return et.indexOf(Et)!==-1}))return"continue-keys";et.push.apply(et,tt),at.push(tt)}return{value:[Ce,at]}};A:for(var gA=0,zA=tA;gA<zA.length;gA++){var bA=zA[gA],ee=vA(bA);if(typeof ee=="object")return ee.value;switch(ee){case"continue-keys":continue A}}}A.getIndex=or;var ve=function(_){e(U,_);function U(){var tA=_.call(this,"null",function(J){return J===null},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="NullType",tA}return U}(n);A.NullType=ve,A.nullType=new ve,A.null=A.nullType;var gt=function(_){e(U,_);function U(){var tA=_.call(this,"undefined",function(J){return J===void 0},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="UndefinedType",tA}return U}(n);A.UndefinedType=gt;var Ge=new gt;A.undefined=Ge;var It=function(_){e(U,_);function U(){var tA=_.call(this,"void",Ge.is,Ge.validate,A.identity)||this;return tA._tag="VoidType",tA}return U}(n);A.VoidType=It,A.voidType=new It,A.void=A.voidType;var wt=function(_){e(U,_);function U(){var tA=_.call(this,"unknown",function(J){return!0},A.success,A.identity)||this;return tA._tag="UnknownType",tA}return U}(n);A.UnknownType=wt,A.unknown=new wt;var ar=function(_){e(U,_);function U(){var tA=_.call(this,"string",function(J){return typeof J=="string"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="StringType",tA}return U}(n);A.StringType=ar,A.string=new ar;var Ot=function(_){e(U,_);function U(){var tA=_.call(this,"number",function(J){return typeof J=="number"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="NumberType",tA}return U}(n);A.NumberType=Ot,A.number=new Ot;var zr=function(_){e(U,_);function U(){var tA=_.call(this,"bigint",function(J){return typeof J=="bigint"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="BigIntType",tA}return U}(n);A.BigIntType=zr,A.bigint=new zr;var Ba=function(_){e(U,_);function U(){var tA=_.call(this,"boolean",function(J){return typeof J=="boolean"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="BooleanType",tA}return U}(n);A.BooleanType=Ba,A.boolean=new Ba;var rj=function(_){e(U,_);function U(){var tA=_.call(this,"UnknownArray",Array.isArray,function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="AnyArrayType",tA}return U}(n);A.AnyArrayType=rj,A.UnknownArray=new rj,A.Array=A.UnknownArray;var aj=function(_){e(U,_);function U(){var tA=_.call(this,"UnknownRecord",function(J){return J!==null&&typeof J=="object"&&!Array.isArray(J)},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="AnyDictionaryType",tA}return U}(n);A.AnyDictionaryType=aj,A.UnknownRecord=new aj;var cj=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.value=zA,bA._tag="LiteralType",bA}return U}(n);A.LiteralType=cj;function er(_,U){U===void 0&&(U=JSON.stringify(_));var tA=function(J){return J===_};return new cj(U,tA,function(J,vA){return tA(J)?(0,A.success)(_):(0,A.failure)(J,vA)},A.identity,_)}A.literal=er;var pr=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.keys=zA,bA._tag="KeyofType",bA}return U}(n);A.KeyofType=pr;function ua(_,U){U===void 0&&(U=Object.keys(_).map(function(J){return JSON.stringify(J)}).join(" | "));var tA=function(J){return A.string.is(J)&&p.call(_,J)};return new pr(U,tA,function(J,vA){return tA(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity,_)}A.keyof=ua;var pn=function(_){e(U,_);function U(tA,J,vA,gA,zA,bA){var ee=_.call(this,tA,J,vA,gA)||this;return ee.type=zA,ee.predicate=bA,ee._tag="RefinementType",ee}return U}(n);A.RefinementType=pn;function ft(_,U,tA){return Lr(_,U,tA)}A.brand=ft,A.Int=ft(A.number,function(_){return Number.isInteger(_)},"Int");var pA=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.runDefinition=zA,bA._tag="RecursiveType",bA}return U}(n);A.RecursiveType=pA,Object.defineProperty(pA.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function wA(_,U){var tA,J=function(){return tA||(tA=U(vA),tA.name=_),tA},vA=new pA(_,function(gA){return J().is(gA)},function(gA,zA){return J().validate(gA,zA)},function(gA){return J().encode(gA)},J);return vA}A.recursion=wA;var JA=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.type=zA,bA._tag="ArrayType",bA}return U}(n);A.ArrayType=JA;function Me(_,U){return U===void 0&&(U="Array<".concat(_.name,">")),new JA(U,function(tA){return A.UnknownArray.is(tA)&&tA.every(_.is)},function(tA,J){var vA=A.UnknownArray.validate(tA,J);if((0,a.isLeft)(vA))return vA;for(var gA=vA.right,zA=gA.length,bA=gA,ee=[],Ce=0;Ce<zA;Ce++){var et=gA[Ce],at=_.validate(et,c(J,String(Ce),_,et));if((0,a.isLeft)(at))u(ee,at.left);else{var Bt=at.right;Bt!==et&&(bA===gA&&(bA=gA.slice()),bA[Ce]=Bt)}}return ee.length>0?(0,A.failures)(ee):(0,A.success)(bA)},_.encode===A.identity?A.identity:function(tA){return tA.map(_.encode)},_)}A.array=Me;var Se=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.props=zA,bA._tag="InterfaceType",bA}return U}(n);A.InterfaceType=Se;function _t(_,U){U===void 0&&(U=G(_));var tA=Object.keys(_),J=tA.map(function(gA){return _[gA]}),vA=tA.length;return new Se(U,function(gA){if(A.UnknownRecord.is(gA)){for(var zA=0;zA<vA;zA++){var bA=tA[zA],ee=gA[bA];if(ee===void 0&&!p.call(gA,bA)||!J[zA].is(ee))return!1}return!0}return!1},function(gA,zA){var bA=A.UnknownRecord.validate(gA,zA);if((0,a.isLeft)(bA))return bA;for(var ee=bA.right,Ce=ee,et=[],at=0;at<vA;at++){var Bt=tA[at],De=Ce[Bt],Gt=J[at],tt=Gt.validate(De,c(zA,Bt,Gt,De));if((0,a.isLeft)(tt))u(et,tt.left);else{var Et=tt.right;(Et!==De||Et===void 0&&!p.call(Ce,Bt))&&(Ce===ee&&(Ce=t({},ee)),Ce[Bt]=Et)}}return et.length>0?(0,A.failures)(et):(0,A.success)(Ce)},f(J)?A.identity:function(gA){for(var zA=t({},gA),bA=0;bA<vA;bA++){var ee=tA[bA],Ce=J[bA].encode;Ce!==A.identity&&(zA[ee]=Ce(gA[ee]))}return zA},_)}A.type=_t,A.interface=_t;var qe=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.props=zA,bA._tag="PartialType",bA}return U}(n);A.PartialType=qe;function BA(_,U){U===void 0&&(U=w(G(_)));var tA=Object.keys(_),J=tA.map(function(gA){return _[gA]}),vA=tA.length;return new qe(U,function(gA){if(A.UnknownRecord.is(gA)){for(var zA=0;zA<vA;zA++){var bA=tA[zA],ee=gA[bA];if(ee!==void 0&&!_[bA].is(ee))return!1}return!0}return!1},function(gA,zA){var bA=A.UnknownRecord.validate(gA,zA);if((0,a.isLeft)(bA))return bA;for(var ee=bA.right,Ce=ee,et=[],at=0;at<vA;at++){var Bt=tA[at],De=Ce[Bt],Gt=_[Bt],tt=Gt.validate(De,c(zA,Bt,Gt,De));if((0,a.isLeft)(tt))De!==void 0&&u(et,tt.left);else{var Et=tt.right;Et!==De&&(Ce===ee&&(Ce=t({},ee)),Ce[Bt]=Et)}}return et.length>0?(0,A.failures)(et):(0,A.success)(Ce)},f(J)?A.identity:function(gA){for(var zA=t({},gA),bA=0;bA<vA;bA++){var ee=tA[bA],Ce=gA[ee];Ce!==void 0&&(zA[ee]=J[bA].encode(Ce))}return zA},_)}A.partial=BA;var dA=function(_){e(U,_);function U(tA,J,vA,gA,zA,bA){var ee=_.call(this,tA,J,vA,gA)||this;return ee.domain=zA,ee.codomain=bA,ee._tag="DictionaryType",ee}return U}(n);A.DictionaryType=dA;function DA(_,U,tA){var J=E(_);return J?y(Object.keys(J),_,U,tA):$(_,U,tA)}A.record=DA;var jt=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.types=zA,bA._tag="UnionType",bA}return U}(n);A.UnionType=jt;function Ga(_,U){U===void 0&&(U=T(_));var tA=or(_);if(tA!==void 0&&_.length>0){var J=tA[0],vA=tA[1],gA=vA.length,zA=function(bA){for(var ee=0;ee<gA;ee++)if(vA[ee].indexOf(bA)!==-1)return ee};return new ts(U,function(bA){if(A.UnknownRecord.is(bA)){var ee=zA(bA[J]);return ee!==void 0?_[ee].is(bA):!1}return!1},function(bA,ee){var Ce=A.UnknownRecord.validate(bA,ee);if((0,a.isLeft)(Ce))return Ce;var et=Ce.right,at=zA(et[J]);if(at===void 0)return(0,A.failure)(bA,ee);var Bt=_[at];return Bt.validate(et,c(ee,String(at),Bt,et))},f(_)?A.identity:function(bA){var ee=zA(bA[J]);if(ee===void 0)throw new Error("no codec found to encode value in union codec ".concat(U));return _[ee].encode(bA)},_,J)}else return new jt(U,function(bA){return _.some(function(ee){return ee.is(bA)})},function(bA,ee){for(var Ce=[],et=0;et<_.length;et++){var at=_[et],Bt=at.validate(bA,c(ee,String(et),at,bA));if((0,a.isLeft)(Bt))u(Ce,Bt.left);else return(0,A.success)(Bt.right)}return(0,A.failures)(Ce)},f(_)?A.identity:function(bA){for(var ee=0,Ce=_;ee<Ce.length;ee++){var et=Ce[ee];if(et.is(bA))return et.encode(bA)}throw new Error("no codec found to encode value in union type ".concat(U))},_)}A.union=Ga;var Pi=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.types=zA,bA._tag="IntersectionType",bA}return U}(n);A.IntersectionType=Pi;function Bs(_,U){U===void 0&&(U="(".concat(_.map(function(J){return J.name}).join(" & "),")"));var tA=_.length;return new Pi(U,function(J){return _.every(function(vA){return vA.is(J)})},_.length===0?A.success:function(J,vA){for(var gA=[],zA=[],bA=0;bA<tA;bA++){var ee=_[bA],Ce=ee.validate(J,c(vA,String(bA),ee,J));(0,a.isLeft)(Ce)?u(zA,Ce.left):gA.push(Ce.right)}return zA.length>0?(0,A.failures)(zA):(0,A.success)(O(J,gA))},_.length===0?A.identity:function(J){return O(J,_.map(function(vA){return vA.encode(J)}))},_)}A.intersection=Bs;var bj=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.types=zA,bA._tag="TupleType",bA}return U}(n);A.TupleType=bj;function gi(_,U){U===void 0&&(U="[".concat(_.map(function(J){return J.name}).join(", "),"]"));var tA=_.length;return new bj(U,function(J){return A.UnknownArray.is(J)&&J.length===tA&&_.every(function(vA,gA){return vA.is(J[gA])})},function(J,vA){var gA=A.UnknownArray.validate(J,vA);if((0,a.isLeft)(gA))return gA;for(var zA=gA.right,bA=zA.length>tA?zA.slice(0,tA):zA,ee=[],Ce=0;Ce<tA;Ce++){var et=zA[Ce],at=_[Ce],Bt=at.validate(et,c(vA,String(Ce),at,et));if((0,a.isLeft)(Bt))u(ee,Bt.left);else{var De=Bt.right;De!==et&&(bA===zA&&(bA=zA.slice()),bA[Ce]=De)}}return ee.length>0?(0,A.failures)(ee):(0,A.success)(bA)},f(_)?A.identity:function(J){return _.map(function(vA,gA){return vA.encode(J[gA])})},_)}A.tuple=gi;var fi=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.type=zA,bA._tag="ReadonlyType",bA}return U}(n);A.ReadonlyType=fi;function jm(_,U){return U===void 0&&(U="Readonly<".concat(_.name,">")),new fi(U,_.is,_.validate,_.encode,_)}A.readonly=jm;var Nc=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.type=zA,bA._tag="ReadonlyArrayType",bA}return U}(n);A.ReadonlyArrayType=Nc;function Ft(_,U){U===void 0&&(U="ReadonlyArray<".concat(_.name,">"));var tA=Me(_);return new Nc(U,tA.is,tA.validate,tA.encode,_)}A.readonlyArray=Ft;var a6=function(_,U){return _o(_t(_),U)};A.strict=a6;var Gl=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.type=zA,bA._tag="ExactType",bA}return U}(n);A.ExactType=Gl;function _o(_,U){U===void 0&&(U=K(_));var tA=I(_);return new Gl(U,_.is,function(J,vA){var gA=A.UnknownRecord.validate(J,vA);if((0,a.isLeft)(gA))return gA;var zA=_.validate(J,vA);return(0,a.isLeft)(zA)?zA:(0,a.right)(q(zA.right,tA))},function(J){return _.encode(q(J,tA))},_)}A.exact=_o;var Si=function(_){e(U,_);function U(){var tA=_.call(this,"Function",function(J){return typeof J=="function"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="FunctionType",tA}return U}(n);A.FunctionType=Si,A.Function=new Si;var da=function(_){e(U,_);function U(){var tA=_.call(this,"never",function(J){return!1},function(J,vA){return(0,A.failure)(J,vA)},function(){throw new Error("cannot encode never")})||this;return tA._tag="NeverType",tA}return U}(n);A.NeverType=da,A.never=new da;var _6=function(_){e(U,_);function U(){var tA=_.call(this,"any",function(J){return!0},A.success,A.identity)||this;return tA._tag="AnyType",tA}return U}(n);A.AnyType=_6,A.any=new _6;function Lr(_,U,tA){return tA===void 0&&(tA="(".concat(_.name," | ").concat(o(U),")")),new pn(tA,function(J){return _.is(J)&&U(J)},function(J,vA){var gA=_.validate(J,vA);if((0,a.isLeft)(gA))return gA;var zA=gA.right;return U(zA)?(0,A.success)(zA):(0,A.failure)(zA,vA)},_.encode,_,U)}A.refinement=Lr,A.Integer=Lr(A.number,Number.isInteger,"Integer");var ts=function(_){e(U,_);function U(tA,J,vA,gA,zA,bA){var ee=_.call(this,tA,J,vA,gA,zA)||this;return ee.tag=bA,ee}return U}(jt);A.TaggedUnionType=ts;var C=function(_,U,tA){tA===void 0&&(tA=T(U));var J=Ga(U,tA);return J instanceof ts?J:(console.warn("[io-ts] Cannot build a tagged union for ".concat(tA,", returning a de-optimized union")),new ts(tA,J.is,J.validate,J.encode,U,_))};A.taggedUnion=C;var H=function(_,U){return{value:_,context:U}};A.getValidationError=H;var L=function(_){return[{key:"",type:_}]};A.getDefaultContext=L,A.Dictionary=A.UnknownRecord;var B=function(_){e(U,_);function U(){var tA=_.call(this,"object",function(J){return J!==null&&typeof J=="object"},function(J,vA){return tA.is(J)?(0,A.success)(J):(0,A.failure)(J,vA)},A.identity)||this;return tA._tag="ObjectType",tA}return U}(n);A.ObjectType=B,A.object=new B,A.dictionary=DA;var Y=function(_){e(U,_);function U(tA,J,vA,gA,zA){var bA=_.call(this,tA,J,vA,gA)||this;return bA.props=zA,bA._tag="StrictType",bA}return U}(n);A.StrictType=Y;function xA(_){return _}A.clean=xA;function PA(_){return function(){return _}}A.alias=PA}}),_TA=Ho({"../../node_modules/.pnpm/io-ts@2.2.20_fp-ts@2.16.0/node_modules/io-ts/lib/PathReporter.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PathReporter=A.success=A.failure=void 0;var e=mSe(),t=zL();function r(o){return typeof o=="function"?(0,e.getFunctionName)(o):typeof o=="number"&&!isFinite(o)?isNaN(o)?"NaN":o>0?"Infinity":"-Infinity":JSON.stringify(o)}function a(o){return o.map(function(s){var c=s.key,u=s.type;return"".concat(c,": ").concat(u.name)}).join("/")}function j(o){return o.message!==void 0?o.message:"Invalid value ".concat(r(o.value)," supplied to ").concat(a(o.context))}function n(o){return o.map(j)}A.failure=n;function i(){return["No errors!"]}A.success=i,A.PathReporter={report:(0,t.fold)(n,i)}}}),pSe=Ho({"../../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js"(A){"use strict";A.byteLength=o,A.toByteArray=c,A.fromByteArray=h;var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(j=0,n=a.length;j<n;++j)e[j]=a[j],t[a.charCodeAt(j)]=j;var j,n;t[45]=62,t[95]=63;function i(f){var G=f.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=f.indexOf("=");w===-1&&(w=G);var y=w===G?0:4-w%4;return[w,y]}function o(f){var G=i(f),w=G[0],y=G[1];return(w+y)*3/4-y}function s(f,G,w){return(G+w)*3/4-w}function c(f){var G,w=i(f),y=w[0],E=w[1],$=new r(s(f,y,E)),T=0,O=E>0?y-4:y,I;for(I=0;I<O;I+=4)G=t[f.charCodeAt(I)]<<18|t[f.charCodeAt(I+1)]<<12|t[f.charCodeAt(I+2)]<<6|t[f.charCodeAt(I+3)],$[T++]=G>>16&255,$[T++]=G>>8&255,$[T++]=G&255;return E===2&&(G=t[f.charCodeAt(I)]<<2|t[f.charCodeAt(I+1)]>>4,$[T++]=G&255),E===1&&(G=t[f.charCodeAt(I)]<<10|t[f.charCodeAt(I+1)]<<4|t[f.charCodeAt(I+2)]>>2,$[T++]=G>>8&255,$[T++]=G&255),$}function u(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function p(f,G,w){for(var y,E=[],$=G;$<w;$+=3)y=(f[$]<<16&16711680)+(f[$+1]<<8&65280)+(f[$+2]&255),E.push(u(y));return E.join("")}function h(f){for(var G,w=f.length,y=w%3,E=[],$=16383,T=0,O=w-y;T<O;T+=$)E.push(p(f,T,T+$>O?O:T+$));return y===1?(G=f[w-1],E.push(e[G>>2]+e[G<<4&63]+"==")):y===2&&(G=(f[w-2]<<8)+f[w-1],E.push(e[G>>10]+e[G>>4&63]+e[G<<2&63]+"=")),E.join("")}}}),llA=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/types.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ByteSequence=void 0;var e=class{constructor(t){this.base64Value=t}toBase64(){return this.base64Value}};A.ByteSequence=e}}),ML=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/util.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isByteSequence=A.isInnerList=A.isValidKeyStr=A.isValidTokenStr=A.isAscii=void 0;var e=/^[\x20-\x7E]*$/,t=/^[a-zA-Z*][:/!#$%&'*+\-.^_`|~A-Za-z0-9]*$/,r=/^[a-z*][*\-_.a-z0-9]*$/;function a(s){return e.test(s)}A.isAscii=a;function j(s){return t.test(s)}A.isValidTokenStr=j;function n(s){return r.test(s)}A.isValidKeyStr=n;function i(s){return Array.isArray(s[0])}A.isInnerList=i;function o(s){return typeof s=="object"&&"base64Value"in s}A.isByteSequence=o}}),clA=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/token.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Token=void 0;var e=ML(),t=class{constructor(r){if(!(0,e.isValidTokenStr)(r))throw new TypeError("Invalid character in Token string. Tokens must start with *, A-Z and the rest of the string may only contain a-z, A-Z, 0-9, :/!#$%&'*+-.^_`|~");this.value=r}toString(){return this.value}};A.Token=t}}),kSe=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/serializer.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.serializeKey=A.serializeParameters=A.serializeToken=A.serializeByteSequence=A.serializeBoolean=A.serializeString=A.serializeDecimal=A.serializeInteger=A.serializeBareItem=A.serializeInnerList=A.serializeItem=A.serializeDictionary=A.serializeList=A.SerializeError=void 0;var e=llA(),t=clA(),r=ML(),a=class extends Error{};A.SerializeError=a;function j(E){return E.map($=>(0,r.isInnerList)($)?o($):i($)).join(", ")}A.serializeList=j;function n(E){return Array.from(E.entries()).map(([$,T])=>{let O=y($);return T[0]===!0?O+=w(T[1]):(O+="=",(0,r.isInnerList)(T)?O+=o(T):O+=i(T)),O}).join(", ")}A.serializeDictionary=n;function i(E){return s(E[0])+w(E[1])}A.serializeItem=i;function o(E){return`(${E[0].map($=>i($)).join(" ")})${w(E[1])}`}A.serializeInnerList=o;function s(E){if(typeof E=="number")return Number.isInteger(E)?c(E):u(E);if(typeof E=="string")return p(E);if(E instanceof t.Token)return G(E);if(E instanceof e.ByteSequence)return f(E);if(typeof E=="boolean")return h(E);throw new a(`Cannot serialize values of type ${typeof E}`)}A.serializeBareItem=s;function c(E){if(E<-999999999999999||E>999999999999999)throw new a("Structured headers can only encode integers in the range range of -999,999,999,999,999 to 999,999,999,999,999 inclusive");return E.toString()}A.serializeInteger=c;function u(E){let $=E.toFixed(3).replace(/0+$/,"");if($.split(".")[0].replace("-","").length>12)throw new a("Fractional numbers are not allowed to have more than 12 significant digits before the decimal point");return $}A.serializeDecimal=u;function p(E){if(!(0,r.isAscii)(E))throw new a("Only ASCII strings may be serialized");return`"${E.replace(/("|\\)/g,$=>"\\"+$)}"`}A.serializeString=p;function h(E){return E?"?1":"?0"}A.serializeBoolean=h;function f(E){return`:${E.toBase64()}:`}A.serializeByteSequence=f;function G(E){return E.toString()}A.serializeToken=G;function w(E){return Array.from(E).map(([$,T])=>{let O=";"+y($);return T!==!0&&(O+="="+s(T)),O}).join("")}A.serializeParameters=w;function y(E){if(!(0,r.isValidKeyStr)(E))throw new a("Keys in dictionaries must only contain lowercase letter, numbers, _-*. and must start with a letter or *");return E}A.serializeKey=y}}),hSe=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/parser.js"(A){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ParseError=A.parseItem=A.parseList=A.parseDictionary=void 0;var e=llA(),t=clA(),r=ML();function a(u){return new o(u).parseDictionary()}A.parseDictionary=a;function j(u){return new o(u).parseList()}A.parseList=j;function n(u){return new o(u).parseItem()}A.parseItem=n;var i=class extends Error{constructor(u,p){super(`Parse error: ${p} at offset ${u}`)}};A.ParseError=i;var o=class{constructor(u){this.input=u,this.pos=0}parseDictionary(){this.skipWS();let u=new Map;for(;!this.eof();){let p=this.parseKey(),h;if(this.lookChar()==="="?(this.pos++,h=this.parseItemOrInnerList()):h=[!0,this.parseParameters()],u.set(p,h),this.skipOWS(),this.eof())return u;if(this.expectChar(","),this.pos++,this.skipOWS(),this.eof())throw new i(this.pos,"Dictionary contained a trailing comma")}return u}parseList(){this.skipWS();let u=[];for(;!this.eof();){if(u.push(this.parseItemOrInnerList()),this.skipOWS(),this.eof())return u;if(this.expectChar(","),this.pos++,this.skipOWS(),this.eof())throw new i(this.pos,"A list may not end with a trailing comma")}return u}parseItem(u=!0){u&&this.skipWS();let p=[this.parseBareItem(),this.parseParameters()];return u&&this.checkTrail(),p}parseItemOrInnerList(){return this.lookChar()==="("?this.parseInnerList():this.parseItem(!1)}parseInnerList(){this.expectChar("("),this.pos++;let u=[];for(;!this.eof();){if(this.skipWS(),this.lookChar()===")")return this.pos++,[u,this.parseParameters()];u.push(this.parseItem(!1));let p=this.lookChar();if(p!==" "&&p!==")")throw new i(this.pos,"Expected a whitespace or ) after every item in an inner list")}throw new i(this.pos,"Could not find end of inner list")}parseBareItem(){let u=this.lookChar();if(u===void 0)throw new i(this.pos,"Unexpected end of string");if(u.match(/^[-0-9]/))return this.parseIntegerOrDecimal();if(u==='"')return this.parseString();if(u.match(/^[A-Za-z*]/))return this.parseToken();if(u===":")return this.parseByteSequence();if(u==="?")return this.parseBoolean();throw new i(this.pos,"Unexpected input")}parseParameters(){let u=new Map;for(;!this.eof()&&this.lookChar()===";";){this.pos++,this.skipWS();let h=this.parseKey(),f=!0;this.lookChar()==="="&&(this.pos++,f=this.parseBareItem()),u.set(h,f)}return u}parseIntegerOrDecimal(){let u="integer",p=1,h="";if(this.lookChar()==="-"&&(p=-1,this.pos++),!c(this.lookChar()))throw new i(this.pos,"Expected a digit (0-9)");for(;!this.eof();){let f=this.getChar();if(c(f))h+=f;else if(u==="integer"&&f==="."){if(h.length>12)throw new i(this.pos,"Exceeded maximum decimal length");h+=".",u="decimal"}else{this.pos--;break}if(u==="integer"&&h.length>15)throw new i(this.pos,"Exceeded maximum integer length");if(u==="decimal"&&h.length>16)throw new i(this.pos,"Exceeded maximum decimal length")}if(u==="integer")return parseInt(h,10)*p;if(h.endsWith("."))throw new i(this.pos,"Decimal cannot end on a period");if(h.split(".")[1].length>3)throw new i(this.pos,"Number of digits after the decimal point cannot exceed 3");return parseFloat(h)*p}parseString(){let u="";for(this.expectChar('"'),this.pos++;!this.eof();){let p=this.getChar();if(p==="\\"){if(this.eof())throw new i(this.pos,"Unexpected end of input");let h=this.getChar();if(h!=="\\"&&h!=='"')throw new i(this.pos,"A backslash must be followed by another backslash or double quote");u+=h}else{if(p==='"')return u;if((0,r.isAscii)(p))u+=p;else throw new i(this.pos,"Strings must be in the ASCII range")}}throw new i(this.pos,"Unexpected end of input")}parseToken(){let u="";for(;!this.eof();){let p=this.lookChar();if(p===void 0||!/^[:/!#$%&'*+\-.^_`|~A-Za-z0-9]$/.test(p))return new t.Token(u);u+=this.getChar()}return new t.Token(u)}parseByteSequence(){this.expectChar(":"),this.pos++;let u=this.input.indexOf(":",this.pos);if(u===-1)throw new i(this.pos,'Could not find a closing ":" character to mark end of Byte Sequence');let p=this.input.substring(this.pos,u);if(this.pos+=p.length+1,!/^[A-Za-z0-9+/=]*$/.test(p))throw new i(this.pos,"ByteSequence does not contain a valid base64 string");return new e.ByteSequence(p)}parseBoolean(){this.expectChar("?"),this.pos++;let u=this.getChar();if(u==="1")return!0;if(u==="0")return!1;throw new i(this.pos,'Unexpected character. Expected a "1" or a "0"')}parseKey(){var u;if(!(!((u=this.lookChar())===null||u===void 0)&&u.match(/^[a-z*]/)))throw new i(this.pos,"A key must begin with an asterisk or letter (a-z)");let p="";for(;!this.eof();){let h=this.lookChar();if(h===void 0||!/^[a-z0-9_\-.*]$/.test(h))return p;p+=this.getChar()}return p}lookChar(){return this.input[this.pos]}expectChar(u){if(this.lookChar()!==u)throw new i(this.pos,`Expected ${u}`)}getChar(){return this.input[this.pos++]}eof(){return this.pos>=this.input.length}skipOWS(){for(;;){let u=this.input.substr(this.pos,1);if(u===" "||u==="	")this.pos++;else break}}skipWS(){for(;this.lookChar()===" ";)this.pos++}checkTrail(){if(this.skipWS(),!this.eof())throw new i(this.pos,"Unexpected characters at end of input")}};A.default=o;var s=/^[0-9]$/;function c(u){return u===void 0?!1:s.test(u)}}}),gSe=Ho({"../../node_modules/.pnpm/structured-headers@1.0.1/node_modules/structured-headers/dist/index.js"(A){"use strict";var e=A&&A.__createBinding||(Object.create?function(a,j,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(j,n);(!o||("get"in o?!j.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return j[n]}}),Object.defineProperty(a,i,o)}:function(a,j,n,i){i===void 0&&(i=n),a[i]=j[n]}),t=A&&A.__exportStar||function(a,j){for(var n in a)n!=="default"&&!Object.prototype.hasOwnProperty.call(j,n)&&e(j,a,n)};Object.defineProperty(A,"__esModule",{value:!0}),A.Token=void 0,t(kSe(),A),t(hSe(),A),t(llA(),A),t(ML(),A);var r=clA();Object.defineProperty(A,"Token",{enumerable:!0,get:function(){return r.Token}})}}),Yj,sg=new Array(128).fill(void 0);sg.push(void 0,null,!0,!1);var yC=sg.length;function Za(A){yC===sg.length&&sg.push(sg.length+1);let e=yC;return yC=sg[e],sg[e]=A,e}function ea(A){return sg[A]}var sE=0,YP=null;function r1(){return(YP===null||YP.byteLength===0)&&(YP=new Uint8Array(Yj.memory.buffer)),YP}var YK=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},fSe=typeof YK.encodeInto=="function"?function(A,e){return YK.encodeInto(A,e)}:function(A,e){let t=YK.encode(A);return e.set(t),{read:A.length,written:t.length}};function VoA(A,e,t){if(t===void 0){let i=YK.encode(A),o=e(i.length,1)>>>0;return r1().subarray(o,o+i.length).set(i),sE=i.length,o}let r=A.length,a=e(r,1)>>>0,j=r1(),n=0;for(;n<r;n++){let i=A.charCodeAt(n);if(i>127)break;j[a+n]=i}if(n!==r){n!==0&&(A=A.slice(n)),a=t(a,r,r=n+A.length*3,1)>>>0;let i=r1().subarray(a+n,a+r),o=fSe(A,i);n+=o.written,a=t(a,r,n,1)>>>0}return sE=n,a}function coA(A){return A==null}var ZP=null;function Cd(){return(ZP===null||ZP.byteLength===0)&&(ZP=new Int32Array(Yj.memory.buffer)),ZP}var DTA=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&DTA.decode();function yK(A,e){return A=A>>>0,DTA.decode(r1().subarray(A,A+e))}function BSe(A){A<132||(sg[A]=yC,yC=A)}function Tk(A){let e=ea(A);return BSe(A),e}var QP=null;function ESe(){return(QP===null||QP.byteLength===0)&&(QP=new Float64Array(Yj.memory.buffer)),QP}function XoA(A){let e=typeof A;if(e=="number"||e=="boolean"||A==null)return`${A}`;if(e=="string")return`"${A}"`;if(e=="symbol"){let a=A.description;return a==null?"Symbol":`Symbol(${a})`}if(e=="function"){let a=A.name;return typeof a=="string"&&a.length>0?`Function(${a})`:"Function"}if(Array.isArray(A)){let a=A.length,j="[";a>0&&(j+=XoA(A[0]));for(let n=1;n<a;n++)j+=", "+XoA(A[n]);return j+="]",j}let t=/\[object ([^\]]+)\]/.exec(toString.call(A)),r;if(t.length>1)r=t[1];else return toString.call(A);if(r=="Object")try{return"Object("+JSON.stringify(A)+")"}catch{return"Object"}return A instanceof Error?`${A.name}: ${A.message}
${A.stack}`:r}var JOA=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>{Yj.__wbindgen_export_2.get(A.dtor)(A.a,A.b)});function xSe(A,e,t,r){let a={a:A,b:e,cnt:1,dtor:t},j=(...n)=>{a.cnt++;let i=a.a;a.a=0;try{return r(i,a.b,...n)}finally{--a.cnt===0?(Yj.__wbindgen_export_2.get(a.dtor)(i,a.b),JOA.unregister(a)):a.a=i}};return j.original=a,JOA.register(j,a,a),j}function bSe(A,e,t){Yj._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha158c354573d3b4a(A,e,Za(t))}function YOA(A,e){let t=e(A.length*1,1)>>>0;return r1().set(A,t/1),sE=A.length,t}function ySe(A,e){return A=A>>>0,r1().subarray(A/1,A/1+e)}function vSe(A,e,t){let r=Yj.createSession(Za(A),Za(e),Za(t));return Tk(r)}function Kh(A,e){try{return A.apply(this,e)}catch(t){Yj.__wbindgen_exn_store(Za(t))}}function FSe(A,e,t,r){Yj.wasm_bindgen__convert__closures__invoke2_mut__h3eaf44239706b535(A,e,Za(t),Za(r))}var ZOA=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>Yj.__wbg_enclavesession_free(A>>>0)),GSe=class zTA{static __wrap(e){e=e>>>0;let t=Object.create(zTA.prototype);return t.__wbg_ptr=e,ZOA.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ZOA.unregister(this),e}free(){let e=this.__destroy_into_raw();Yj.__wbg_enclavesession_free(e)}decryptMessage(e){try{let i=Yj.__wbindgen_add_to_stack_pointer(-16),o=YOA(e,Yj.__wbindgen_malloc),s=sE;Yj.enclavesession_decryptMessage(i,this.__wbg_ptr,o,s);var t=Cd()[i/4+0],r=Cd()[i/4+1],a=Cd()[i/4+2],j=Cd()[i/4+3];if(j)throw Tk(a);var n=ySe(t,r).slice();return Yj.__wbindgen_free(t,r*1,1),n}finally{Yj.__wbindgen_add_to_stack_pointer(16)}}encryptMessage(e,t){try{let n=Yj.__wbindgen_add_to_stack_pointer(-16),i=VoA(e,Yj.__wbindgen_malloc,Yj.__wbindgen_realloc),o=sE,s=YOA(t,Yj.__wbindgen_malloc),c=sE;Yj.enclavesession_encryptMessage(n,this.__wbg_ptr,i,o,s,c);var r=Cd()[n/4+0],a=Cd()[n/4+1],j=Cd()[n/4+2];if(j)throw Tk(a);return Tk(r)}finally{Yj.__wbindgen_add_to_stack_pointer(16)}}};async function wSe(A,e){if(typeof Response=="function"&&A instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(A,e)}catch(r){if(A.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let t=await A.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{let t=await WebAssembly.instantiate(A,e);return t instanceof WebAssembly.Instance?{instance:t,module:A}:t}}function qSe(){let A={};return A.wbg={},A.wbg.__wbindgen_memory=function(){let e=Yj.memory;return Za(e)},A.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){let t=ea(e).buffer;return Za(t)},A.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,t,r){let a=new Uint8Array(ea(e),t>>>0,r>>>0);return Za(a)},A.wbg.__wbg_new_63b92bc8671ed464=function(e){let t=new Uint8Array(ea(e));return Za(t)},A.wbg.__wbg_from_89e3fc3ba5e6fb48=function(e){let t=Array.from(ea(e));return Za(t)},A.wbg.__wbindgen_string_get=function(e,t){let r=ea(t),a=typeof r=="string"?r:void 0;var j=coA(a)?0:VoA(a,Yj.__wbindgen_malloc,Yj.__wbindgen_realloc),n=sE;Cd()[e/4+1]=n,Cd()[e/4+0]=j},A.wbg.__wbg_enclavesession_new=function(e){let t=GSe.__wrap(e);return Za(t)},A.wbg.__wbg_new_72fb9a18b5ae2624=function(){let e=new Object;return Za(e)},A.wbg.__wbindgen_string_new=function(e,t){let r=yK(e,t);return Za(r)},A.wbg.__wbg_set_841ac57cff3d672b=function(e,t,r){ea(e)[Tk(t)]=Tk(r)},A.wbg.__wbg_then_a73caa9a87991566=function(e,t,r){let a=ea(e).then(ea(t),ea(r));return Za(a)},A.wbg.__wbindgen_object_clone_ref=function(e){let t=ea(e);return Za(t)},A.wbg.__wbindgen_is_object=function(e){let t=ea(e);return typeof t=="object"&&t!==null},A.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(e,t){let r=ea(e)[ea(t)];return Za(r)},A.wbg.__wbindgen_is_undefined=function(e){return ea(e)===void 0},A.wbg.__wbindgen_in=function(e,t){return ea(e)in ea(t)},A.wbg.__wbindgen_error_new=function(e,t){let r=new Error(yK(e,t));return Za(r)},A.wbg.__wbg_new_16b304a2cfa7ff4a=function(){let e=new Array;return Za(e)},A.wbg.__wbg_set_d4638f722068f043=function(e,t,r){ea(e)[t>>>0]=Tk(r)},A.wbg.__wbg_new_81740750da40724f=function(e,t){try{var r={a:e,b:t},a=(n,i)=>{let o=r.a;r.a=0;try{return FSe(o,r.b,n,i)}finally{r.a=o}};let j=new Promise(a);return Za(j)}finally{r.a=r.b=0}},A.wbg.__wbindgen_object_drop_ref=function(e){Tk(e)},A.wbg.__wbg_crypto_d05b68a3572bb8ca=function(e){let t=ea(e).crypto;return Za(t)},A.wbg.__wbg_process_b02b3570280d0366=function(e){let t=ea(e).process;return Za(t)},A.wbg.__wbg_versions_c1cb42213cedf0f5=function(e){let t=ea(e).versions;return Za(t)},A.wbg.__wbg_node_43b1089f407e4ec2=function(e){let t=ea(e).node;return Za(t)},A.wbg.__wbindgen_is_string=function(e){return typeof ea(e)=="string"},A.wbg.__wbg_require_9a7e0f667ead4995=function(){return Kh(function(){let e=module.require;return Za(e)},arguments)},A.wbg.__wbindgen_is_function=function(e){return typeof ea(e)=="function"},A.wbg.__wbg_msCrypto_10fc94afee92bd76=function(e){let t=ea(e).msCrypto;return Za(t)},A.wbg.__wbg_newwithlength_e9b4878cebadb3d3=function(e){let t=new Uint8Array(e>>>0);return Za(t)},A.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return Kh(function(){let e=self.self;return Za(e)},arguments)},A.wbg.__wbg_window_c6fb939a7f436783=function(){return Kh(function(){let e=window.window;return Za(e)},arguments)},A.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return Kh(function(){let e=globalThis.globalThis;return Za(e)},arguments)},A.wbg.__wbg_global_207b558942527489=function(){return Kh(function(){let e=global.global;return Za(e)},arguments)},A.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,t){let r=new Function(yK(e,t));return Za(r)},A.wbg.__wbg_call_27c0f87801dedf93=function(){return Kh(function(e,t){let r=ea(e).call(ea(t));return Za(r)},arguments)},A.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return Kh(function(e,t,r){let a=ea(e).call(ea(t),ea(r));return Za(a)},arguments)},A.wbg.__wbg_set_a47bac70306a19a7=function(e,t,r){ea(e).set(ea(t),r>>>0)},A.wbg.__wbg_length_c20a40f15020d68a=function(e){return ea(e).length},A.wbg.__wbg_now_3014639a94423537=function(){return Date.now()},A.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return Kh(function(e,t){ea(e).randomFillSync(Tk(t))},arguments)},A.wbg.__wbg_subarray_a1f73cd4b5b42fe1=function(e,t,r){let a=ea(e).subarray(t>>>0,r>>>0);return Za(a)},A.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return Kh(function(e,t){ea(e).getRandomValues(ea(t))},arguments)},A.wbg.__wbindgen_jsval_loose_eq=function(e,t){return ea(e)==ea(t)},A.wbg.__wbindgen_boolean_get=function(e){let t=ea(e);return typeof t=="boolean"?t?1:0:2},A.wbg.__wbindgen_number_get=function(e,t){let r=ea(t),a=typeof r=="number"?r:void 0;ESe()[e/8+1]=coA(a)?0:a,Cd()[e/4+0]=!coA(a)},A.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(e){let t;try{t=ea(e)instanceof Uint8Array}catch{t=!1}return t},A.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(e){let t;try{t=ea(e)instanceof ArrayBuffer}catch{t=!1}return t},A.wbg.__wbindgen_debug_string=function(e,t){let r=XoA(ea(t)),a=VoA(r,Yj.__wbindgen_malloc,Yj.__wbindgen_realloc),j=sE;Cd()[e/4+1]=j,Cd()[e/4+0]=a},A.wbg.__wbindgen_throw=function(e,t){throw new Error(yK(e,t))},A.wbg.__wbindgen_cb_drop=function(e){let t=Tk(e).original;return t.cnt--==1?(t.a=0,!0):!1},A.wbg.__wbg_then_0c86a60e8fcfe9f6=function(e,t){let r=ea(e).then(ea(t));return Za(r)},A.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(ea(e))},A.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){let t=ea(e).queueMicrotask;return Za(t)},A.wbg.__wbg_resolve_b0083a7967828ec8=function(e){let t=Promise.resolve(ea(e));return Za(t)},A.wbg.__wbindgen_closure_wrapper474=function(e,t,r){let a=xSe(e,t,210,bSe);return Za(a)},A}function $Se(A,e){return Yj=A.exports,MTA.__wbindgen_wasm_module=e,QP=null,ZP=null,YP=null,Yj}async function MTA(A){if(Yj!==void 0)return Yj;typeof A>"u"&&(A=new URL("confidential_computing_bg.wasm",import.meta.url));let e=qSe();(typeof A=="string"||typeof Request=="function"&&A instanceof Request||typeof URL=="function"&&A instanceof URL)&&(A=fetch(A));let{instance:t,module:r}=await wSe(await A,e);return $Se(t,r)}var ISe=MTA,PSe=sv(zL(),1),SSe=sv(_TA(),1),CSe=(A,e)=>{let t=e.decode(A);if((0,PSe.isLeft)(t))throw new Error("Failed to decode: "+(0,SSe.failure)(t.left).join(", "));return t.right},OSe=A=>typeof A=="object"&&A!==null&&"name"in A&&typeof A.name=="string"&&"message"in A&&typeof A.message=="string",TSe="[object ArrayBuffer]",_r=class WoA{static isArrayBuffer(e){return Object.prototype.toString.call(e)===TSe}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e).slice().buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,t){if(e.constructor===t)return e;if(this.isArrayBuffer(e))return new t(e);if(this.isArrayBufferView(e))return new t(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,t){let r=WoA.toUint8Array(e),a=WoA.toUint8Array(t);if(r.length!==a.byteLength)return!1;for(let j=0;j<r.length;j++)if(r[j]!==a[j])return!1;return!0}static concat(...e){if(Array.isArray(e[0])){let t=e[0],r=0;for(let n of t)r+=n.byteLength;let a=new Uint8Array(r),j=0;for(let n of t){let i=this.toUint8Array(n);a.set(i,j),j+=i.length}return e[1]?this.toView(a,e[1]):a.buffer}else return this.concat(e)}},QOA=class{static fromString(A){let e=unescape(encodeURIComponent(A)),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t.buffer}static toString(A){let e=_r.toUint8Array(A),t="";for(let a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return decodeURIComponent(escape(t))}},qk=class{static toString(A,e=!1){let t=_r.toArrayBuffer(A),r=new DataView(t),a="";for(let j=0;j<t.byteLength;j+=2){let n=r.getUint16(j,e);a+=String.fromCharCode(n)}return a}static fromString(A,e=!1){let t=new ArrayBuffer(A.length*2),r=new DataView(t);for(let a=0;a<A.length;a++)r.setUint16(a*2,A.charCodeAt(a),e);return t}},ja=class bw{static isHex(e){return typeof e=="string"&&/^[a-z0-9]+$/i.test(e)}static isBase64(e){return typeof e=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}static isBase64Url(e){return typeof e=="string"&&/^[a-zA-Z0-9-_]+$/i.test(e)}static ToString(e,t="utf8"){let r=_r.toUint8Array(e);switch(t.toLowerCase()){case"utf8":return this.ToUtf8String(r);case"binary":return this.ToBinary(r);case"hex":return this.ToHex(r);case"base64":return this.ToBase64(r);case"base64url":return this.ToBase64Url(r);case"utf16le":return qk.toString(r,!0);case"utf16":case"utf16be":return qk.toString(r);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromString(e,t="utf8"){if(!e)return new ArrayBuffer(0);switch(t.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return qk.fromString(e,!0);case"utf16":case"utf16be":return qk.fromString(e);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToBase64(e){let t=_r.toUint8Array(e);if(typeof btoa<"u"){let r=this.ToString(t,"binary");return btoa(r)}else return Buffer.from(t).toString("base64")}static FromBase64(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!bw.isBase64(t))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(t)):new Uint8Array(Buffer.from(t,"base64")).buffer}static FromBase64Url(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!bw.isBase64Url(t))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(t.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,t=bw.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.FromBinary(e);case"utf8":return QOA.fromString(e);case"utf16":case"utf16be":return qk.fromString(e);case"utf16le":case"usc2":return qk.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static ToUtf8String(e,t=bw.DEFAULT_UTF8_ENCODING){switch(t){case"ascii":return this.ToBinary(e);case"utf8":return QOA.toString(e);case"utf16":case"utf16be":return qk.toString(e);case"utf16le":case"usc2":return qk.toString(e,!0);default:throw new Error(`Unknown type of encoding '${t}'`)}}static FromBinary(e){let t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return r.buffer}static ToBinary(e){let t=_r.toUint8Array(e),r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r}static ToHex(e){let t=_r.toUint8Array(e),r="",a=[],j=t.length;for(let n=0;n<j;n++){let i=t[n].toString(16).padStart(2,"0");a.push(i)}return a.join(r)}static FromHex(e){let t=this.formatString(e);if(!t)return new ArrayBuffer(0);if(!bw.isHex(t))throw new TypeError("Argument 'hexString' is not HEX encoded");t.length%2&&(t=`0${t}`);let r=new Uint8Array(t.length/2);for(let a=0;a<t.length;a=a+2){let j=t.slice(a,a+2);r[a/2]=parseInt(j,16)}return r.buffer}static ToUtf16String(e,t=!1){return qk.toString(e,t)}static FromUtf16String(e,t=!1){return qk.fromString(e,t)}static Base64Padding(e){let t=4-e.length%4;if(t<4)for(let r=0;r<t;r++)e+="=";return e}static formatString(e){return e?.replace(/[\n\r\t ]/g,"")||""}};ja.DEFAULT_UTF8_ENCODING="utf8";function S(A,e,t){var r;return A instanceof Object&&(r=A[e])!==null&&r!==void 0?r:t}function ATA(A,e=0,t=A.byteLength-e,r=!1){let a="";for(let j of new Uint8Array(A,e,t)){let n=j.toString(16).toUpperCase();n.length===1&&(a+="0"),a+=n,r&&(a+=" ")}return a.trim()}function nv(A,e){let t=0;if(A.length===1)return A[0];for(let r=A.length-1;r>=0;r--)t+=A[A.length-1-r]*Math.pow(2,e*r);return t}function cg(A,e,t=-1){let r=t,a=A,j=0,n=Math.pow(2,e);for(let i=1;i<8;i++){if(A<n){let o;if(r<0)o=new ArrayBuffer(i),j=i;else{if(r<i)return new ArrayBuffer(0);o=new ArrayBuffer(r),j=r}let s=new Uint8Array(o);for(let c=i-1;c>=0;c--){let u=Math.pow(2,c*e);s[j-c-1]=Math.floor(a/u),a-=s[j-c-1]*u}return o}n*=Math.pow(2,e)}return new ArrayBuffer(0)}function a1(...A){let e=0,t=0;for(let j of A)e+=j.byteLength;let r=new ArrayBuffer(e),a=new Uint8Array(r);for(let j of A)a.set(new Uint8Array(j),t),t+=j.byteLength;return r}function JoA(...A){let e=0,t=0;for(let j of A)e+=j.length;let r=new ArrayBuffer(e),a=new Uint8Array(r);for(let j of A)a.set(j,t),t+=j.length;return a}function RTA(){let A=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){let i=A[0]===255&&A[1]&128,o=A[0]===0&&(A[1]&128)===0;(i||o)&&this.warnings.push("Needlessly long format")}let e=new ArrayBuffer(this.valueHex.byteLength),t=new Uint8Array(e);for(let i=0;i<this.valueHex.byteLength;i++)t[i]=0;t[0]=A[0]&128;let r=nv(t,8),a=new ArrayBuffer(this.valueHex.byteLength),j=new Uint8Array(a);for(let i=0;i<this.valueHex.byteLength;i++)j[i]=A[i];return j[0]&=127,nv(j,8)-r}function _Se(A){let e=A<0?A*-1:A,t=128;for(let r=1;r<8;r++){if(e<=t){if(A<0){let n=t-e,i=cg(n,8,r),o=new Uint8Array(i);return o[0]|=128,i}let a=cg(e,8,r),j=new Uint8Array(a);if(j[0]&128){let n=a.slice(0),i=new Uint8Array(n);a=new ArrayBuffer(a.byteLength+1),j=new Uint8Array(a);for(let o=0;o<n.byteLength;o++)j[o+1]=i[o];j[0]=0}return a}t*=Math.pow(2,8)}return new ArrayBuffer(0)}function s1(A,e){if(A.byteLength!==e.byteLength)return!1;let t=new Uint8Array(A),r=new Uint8Array(e);for(let a=0;a<t.length;a++)if(t[a]!==r[a])return!1;return!0}function pu(A,e){let t=A.toString(10);if(e<t.length)return"";let r=e-t.length,a=new Array(r);for(let n=0;n<r;n++)a[n]="0";return a.join("").concat(t)}var KTA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",LTA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function YoA(A,e=!1,t=!1,r=!1){let a=0,j=0,n=0,i="",o=e?LTA:KTA;if(r){let s=0;for(let c=0;c<A.length;c++)if(A.charCodeAt(c)!==0){s=c;break}A=A.slice(s)}for(;a<A.length;){let s=A.charCodeAt(a++);a>=A.length&&(j=1);let c=A.charCodeAt(a++);a>=A.length&&(n=1);let u=A.charCodeAt(a++),p=s>>2,h=(s&3)<<4|c>>4,f=(c&15)<<2|u>>6,G=u&63;j===1?f=G=64:n===1&&(G=64),t?f===64?i+=`${o.charAt(p)}${o.charAt(h)}`:G===64?i+=`${o.charAt(p)}${o.charAt(h)}${o.charAt(f)}`:i+=`${o.charAt(p)}${o.charAt(h)}${o.charAt(f)}${o.charAt(G)}`:i+=`${o.charAt(p)}${o.charAt(h)}${o.charAt(f)}${o.charAt(G)}`}return i}function PC(A,e=!1,t=!1){let r=e?LTA:KTA;function a(o){for(let s=0;s<64;s++)if(r.charAt(s)===o)return s;return 64}function j(o){return o===64?0:o}let n=0,i="";for(;n<A.length;){let o=a(A.charAt(n++)),s=n>=A.length?0:a(A.charAt(n++)),c=n>=A.length?0:a(A.charAt(n++)),u=n>=A.length?0:a(A.charAt(n++)),p=j(o)<<2|j(s)>>4,h=(j(s)&15)<<4|j(c)>>2,f=(j(c)&3)<<6|j(u);i+=String.fromCharCode(p),c!==64&&(i+=String.fromCharCode(h)),u!==64&&(i+=String.fromCharCode(f))}if(t){let o=i.length,s=-1;for(let c=o-1;c>=0;c--)if(i.charCodeAt(c)!==0){s=c;break}s!==-1?i=i.slice(0,s+1):i=""}return i}function dL(A){let e="",t=new Uint8Array(A);for(let r of t)e+=String.fromCharCode(r);return e}function l1(A){let e=A.length,t=new ArrayBuffer(e),r=new Uint8Array(t);for(let a=0;a<e;a++)r[a]=A.charCodeAt(a);return t}var DSe=Math.log(2);function zSe(A){let e=Math.log(A)/DSe,t=Math.floor(e),r=Math.round(e);return t===r?t:r}function Le(A,e){for(let t of e)delete A[t]}function mL(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ulA(A){let e=0,t=0;for(let a=0;a<A.length;a++){let j=A[a];e+=j.byteLength}let r=new Uint8Array(e);for(let a=0;a<A.length;a++){let j=A[a];r.set(new Uint8Array(j),t),t+=j.byteLength}return r.buffer}function ug(A,e,t,r){return e instanceof Uint8Array?e.byteLength?t<0?(A.error="Wrong parameter: inputOffset less than zero",!1):r<0?(A.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-t-r<0?(A.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(A.error="Wrong parameter: inputBuffer has zero length",!1):(A.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}var dlA=class{constructor(){this.items=[]}write(A){this.items.push(A)}final(){return ulA(this.items)}},_P=[new Uint8Array([1])],eTA="0123456789",uoA="name",tTA="valueHexView",MSe="isHexOnly",RSe="idBlock",KSe="tagClass",LSe="tagNumber",NSe="isConstructed",USe="fromBER",HSe="toBER",VSe="local",gc="",ep=new ArrayBuffer(0),RL=new Uint8Array(0),SC="EndOfContent",NTA="OCTET STRING",UTA="BIT STRING";function dg(A){var e;return e=class extends A{constructor(...r){var a;super(...r);let j=r[0]||{};this.isHexOnly=(a=j.isHexOnly)!==null&&a!==void 0?a:!1,this.valueHexView=j.valueHex?_r.toUint8Array(j.valueHex):RL}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(r){this.valueHexView=new Uint8Array(r)}fromBER(r,a,j){let n=r instanceof ArrayBuffer?new Uint8Array(r):r;if(!ug(this,n,a,j))return-1;let i=a+j;return this.valueHexView=n.subarray(a,i),this.valueHexView.length?(this.blockLength=j,i):(this.warnings.push("Zero buffer length"),a)}toBER(r=!1){return this.isHexOnly?r?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",ep)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:ja.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}var lv=class{constructor({blockLength:A=0,error:e=gc,warnings:t=[],valueBeforeDecode:r=RL}={}){this.blockLength=A,this.error=e,this.warnings=t,this.valueBeforeDecodeView=_r.toUint8Array(r)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(A){this.valueBeforeDecodeView=new Uint8Array(A)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:ja.ToHex(this.valueBeforeDecodeView)}}};lv.NAME="baseBlock";var fc=class extends lv{fromBER(A,e,t){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(A,e){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}};fc.NAME="valueBlock";var HTA=class extends dg(lv){constructor({idBlock:A={}}={}){var e,t,r,a;super(),A?(this.isHexOnly=(e=A.isHexOnly)!==null&&e!==void 0?e:!1,this.valueHexView=A.valueHex?_r.toUint8Array(A.valueHex):RL,this.tagClass=(t=A.tagClass)!==null&&t!==void 0?t:-1,this.tagNumber=(r=A.tagNumber)!==null&&r!==void 0?r:-1,this.isConstructed=(a=A.isConstructed)!==null&&a!==void 0?a:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(A=!1){let e=0;switch(this.tagClass){case 1:e|=0;break;case 2:e|=64;break;case 3:e|=128;break;case 4:e|=192;break;default:return this.error="Unknown tag class",ep}if(this.isConstructed&&(e|=32),this.tagNumber<31&&!this.isHexOnly){let r=new Uint8Array(1);if(!A){let a=this.tagNumber;a&=31,e|=a,r[0]=e}return r.buffer}if(!this.isHexOnly){let r=cg(this.tagNumber,7),a=new Uint8Array(r),j=r.byteLength,n=new Uint8Array(j+1);if(n[0]=e|31,!A){for(let i=0;i<j-1;i++)n[i+1]=a[i]|128;n[j]=a[j-1]}return n.buffer}let t=new Uint8Array(this.valueHexView.byteLength+1);if(t[0]=e|31,!A){let r=this.valueHexView;for(let a=0;a<r.length-1;a++)t[a+1]=r[a]|128;t[this.valueHexView.byteLength]=r[r.length-1]}return t.buffer}fromBER(A,e,t){let r=_r.toUint8Array(A);if(!ug(this,r,e,t))return-1;let a=r.subarray(e,e+t);if(a.length===0)return this.error="Zero buffer length",-1;switch(a[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(a[0]&32)===32,this.isHexOnly=!1;let n=a[0]&31;if(n!==31)this.tagNumber=n,this.blockLength=1;else{let i=1,o=this.valueHexView=new Uint8Array(255),s=255;for(;a[i]&128;){if(o[i-1]=a[i]&127,i++,i>=a.length)return this.error="End of input reached before message was fully decoded",-1;if(i===s){s+=255;let u=new Uint8Array(s);for(let p=0;p<o.length;p++)u[p]=o[p];o=this.valueHexView=new Uint8Array(s)}}this.blockLength=i+1,o[i-1]=a[i]&127;let c=new Uint8Array(i);for(let u=0;u<i;u++)c[u]=o[u];o=this.valueHexView=new Uint8Array(i),o.set(c),this.blockLength<=9?this.tagNumber=nv(o,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return e+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}};HTA.NAME="identificationBlock";var VTA=class extends lv{constructor({lenBlock:A={}}={}){var e,t,r;super(),this.isIndefiniteForm=(e=A.isIndefiniteForm)!==null&&e!==void 0?e:!1,this.longFormUsed=(t=A.longFormUsed)!==null&&t!==void 0?t:!1,this.length=(r=A.length)!==null&&r!==void 0?r:0}fromBER(A,e,t){let r=_r.toUint8Array(A);if(!ug(this,r,e,t))return-1;let a=r.subarray(e,e+t);if(a.length===0)return this.error="Zero buffer length",-1;if(a[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=a[0]===128,this.isIndefiniteForm)return this.blockLength=1,e+this.blockLength;if(this.longFormUsed=!!(a[0]&128),this.longFormUsed===!1)return this.length=a[0],this.blockLength=1,e+this.blockLength;let j=a[0]&127;if(j>8)return this.error="Too big integer",-1;if(j+1>a.length)return this.error="End of input reached before message was fully decoded",-1;let n=e+1,i=r.subarray(n,n+j);return i[j-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=nv(i,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=j+1,e+this.blockLength}toBER(A=!1){let e,t;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return e=new ArrayBuffer(1),A===!1&&(t=new Uint8Array(e),t[0]=128),e;if(this.longFormUsed){let r=cg(this.length,8);if(r.byteLength>127)return this.error="Too big length",ep;if(e=new ArrayBuffer(r.byteLength+1),A)return e;let a=new Uint8Array(r);t=new Uint8Array(e),t[0]=r.byteLength|128;for(let j=0;j<r.byteLength;j++)t[j+1]=a[j];return e}return e=new ArrayBuffer(1),A===!1&&(t=new Uint8Array(e),t[0]=this.length),e}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}};VTA.NAME="lengthBlock";var Zt={},F6=class extends lv{constructor({name:A=gc,optional:e=!1,primitiveSchema:t,...r}={},a){super(r),this.name=A,this.optional=e,t&&(this.primitiveSchema=t),this.idBlock=new HTA(r),this.lenBlock=new VTA(r),this.valueBlock=a?new a(r):new fc(r)}fromBER(A,e,t){let r=this.valueBlock.fromBER(A,e,this.lenBlock.isIndefiniteForm?t:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}toBER(A,e){let t=e||new dlA;e||XTA(this);let r=this.idBlock.toBER(A);if(t.write(r),this.lenBlock.isIndefiniteForm)t.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(A,t),t.write(new ArrayBuffer(2));else{let a=this.valueBlock.toBER(A);this.lenBlock.length=a.byteLength;let j=this.lenBlock.toBER(A);t.write(j),t.write(a)}return e?ep:t.final()}toJSON(){let A={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(A.primitiveSchema=this.primitiveSchema.toJSON()),A}toString(A="ascii"){return A==="ascii"?this.onAsciiEncoding():ja.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${ja.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(A){if(this===A)return!0;if(!(A instanceof this.constructor))return!1;let e=this.toBER(),t=A.toBER();return s1(e,t)}};F6.NAME="BaseBlock";function XTA(A){if(A instanceof Zt.Constructed)for(let e of A.valueBlock.value)XTA(e)&&(A.lenBlock.isIndefiniteForm=!0);return!!A.lenBlock.isIndefiniteForm}var WTA=class extends F6{constructor({value:A=gc,...e}={},t){super(e,t),A&&this.fromString(A)}getValue(){return this.valueBlock.value}setValue(A){this.valueBlock.value=A}fromBER(A,e,t){let r=this.valueBlock.fromBER(A,e,this.lenBlock.isIndefiniteForm?t:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}};WTA.NAME="BaseStringBlock";var JTA=class extends dg(fc){constructor({isHexOnly:A=!0,...e}={}){super(e),this.isHexOnly=A}};JTA.NAME="PrimitiveValueBlock";var YTA,Cr=class extends F6{constructor(A={}){super(A,JTA),this.idBlock.isConstructed=!1}};YTA=Cr;Zt.Primitive=YTA;Cr.NAME="PRIMITIVE";function XSe(A,e){if(A instanceof e)return A;let t=new e;return t.idBlock=A.idBlock,t.lenBlock=A.lenBlock,t.warnings=A.warnings,t.valueBeforeDecodeView=A.valueBeforeDecodeView,t}function HC(A,e=0,t=A.length){let r=e,a=new F6({},fc),j=new lv;if(!ug(j,A,e,t))return a.error=j.error,{offset:-1,result:a};if(!A.subarray(e,e+t).length)return a.error="Zero buffer length",{offset:-1,result:a};let i=a.idBlock.fromBER(A,e,t);if(a.idBlock.warnings.length&&a.warnings.concat(a.idBlock.warnings),i===-1)return a.error=a.idBlock.error,{offset:-1,result:a};if(e=i,t-=a.idBlock.blockLength,i=a.lenBlock.fromBER(A,e,t),a.lenBlock.warnings.length&&a.warnings.concat(a.lenBlock.warnings),i===-1)return a.error=a.lenBlock.error,{offset:-1,result:a};if(e=i,t-=a.lenBlock.blockLength,!a.idBlock.isConstructed&&a.lenBlock.isIndefiniteForm)return a.error="Indefinite length form used for primitive encoding form",{offset:-1,result:a};let o=F6;switch(a.idBlock.tagClass){case 1:if(a.idBlock.tagNumber>=37&&a.idBlock.isHexOnly===!1)return a.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:a};switch(a.idBlock.tagNumber){case 0:if(a.idBlock.isConstructed&&a.lenBlock.length>0)return a.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:a};o=Zt.EndOfContent;break;case 1:o=Zt.Boolean;break;case 2:o=Zt.Integer;break;case 3:o=Zt.BitString;break;case 4:o=Zt.OctetString;break;case 5:o=Zt.Null;break;case 6:o=Zt.ObjectIdentifier;break;case 10:o=Zt.Enumerated;break;case 12:o=Zt.Utf8String;break;case 13:o=Zt.RelativeObjectIdentifier;break;case 14:o=Zt.TIME;break;case 15:return a.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:a};case 16:o=Zt.Sequence;break;case 17:o=Zt.Set;break;case 18:o=Zt.NumericString;break;case 19:o=Zt.PrintableString;break;case 20:o=Zt.TeletexString;break;case 21:o=Zt.VideotexString;break;case 22:o=Zt.IA5String;break;case 23:o=Zt.UTCTime;break;case 24:o=Zt.GeneralizedTime;break;case 25:o=Zt.GraphicString;break;case 26:o=Zt.VisibleString;break;case 27:o=Zt.GeneralString;break;case 28:o=Zt.UniversalString;break;case 29:o=Zt.CharacterString;break;case 30:o=Zt.BmpString;break;case 31:o=Zt.DATE;break;case 32:o=Zt.TimeOfDay;break;case 33:o=Zt.DateTime;break;case 34:o=Zt.Duration;break;default:{let s=a.idBlock.isConstructed?new Zt.Constructed:new Zt.Primitive;s.idBlock=a.idBlock,s.lenBlock=a.lenBlock,s.warnings=a.warnings,a=s}}break;case 2:case 3:case 4:default:o=a.idBlock.isConstructed?Zt.Constructed:Zt.Primitive}return a=XSe(a,o),i=a.fromBER(A,e,a.lenBlock.isIndefiniteForm?t:a.lenBlock.length),a.valueBeforeDecodeView=A.subarray(r,r+a.blockLength),{offset:i,result:a}}function qo(A){if(!A.byteLength){let e=new F6({},fc);return e.error="Input buffer has zero length",{offset:-1,result:e}}return HC(_r.toUint8Array(A).slice(),0,A.byteLength)}function WSe(A,e){return A?1:e}var lE=class extends fc{constructor({value:A=[],isIndefiniteForm:e=!1,...t}={}){super(t),this.value=A,this.isIndefiniteForm=e}fromBER(A,e,t){let r=_r.toUint8Array(A);if(!ug(this,r,e,t))return-1;if(this.valueBeforeDecodeView=r.subarray(e,e+t),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),e;let a=e;for(;WSe(this.isIndefiniteForm,t)>0;){let j=HC(r,a,t);if(j.offset===-1)return this.error=j.result.error,this.warnings.concat(j.result.warnings),-1;if(a=j.offset,this.blockLength+=j.result.blockLength,t-=j.result.blockLength,this.value.push(j.result),this.isIndefiniteForm&&j.result.constructor.NAME===SC)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===SC?this.value.pop():this.warnings.push("No EndOfContent block encoded")),a}toBER(A,e){let t=e||new dlA;for(let r=0;r<this.value.length;r++)this.value[r].toBER(A,t);return e?ep:t.final()}toJSON(){let A={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(let e of this.value)A.value.push(e.toJSON());return A}};lE.NAME="ConstructedValueBlock";var ZTA,SA=class extends F6{constructor(A={}){super(A,lE),this.idBlock.isConstructed=!0}fromBER(A,e,t){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;let r=this.valueBlock.fromBER(A,e,this.lenBlock.isIndefiniteForm?t:this.lenBlock.length);return r===-1?(this.error=this.valueBlock.error,r):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),r)}onAsciiEncoding(){let A=[];for(let t of this.valueBlock.value)A.push(t.toString("ascii").split(`
`).map(r=>`  ${r}`).join(`
`));let e=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return A.length?`${e} :
${A.join(`
`)}`:`${e} :`}};ZTA=SA;Zt.Constructed=ZTA;SA.NAME="CONSTRUCTED";var QTA=class extends fc{fromBER(A,e,t){return e}toBER(A){return ep}};QTA.override="EndOfContentValueBlock";var A_A,e_A=class extends F6{constructor(A={}){super(A,QTA),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}};A_A=e_A;Zt.EndOfContent=A_A;e_A.NAME=SC;var t_A,io=class extends F6{constructor(A={}){super(A,fc),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(A,e,t){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=t,e+t>A.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):e+t}toBER(A,e){let t=new ArrayBuffer(2);if(!A){let r=new Uint8Array(t);r[0]=5,r[1]=0}return e&&e.write(t),t}onAsciiEncoding(){return`${this.constructor.NAME}`}};t_A=io;Zt.Null=t_A;io.NAME="NULL";var r_A=class extends dg(fc){constructor({value:A,...e}={}){super(e),e.valueHex?this.valueHexView=_r.toUint8Array(e.valueHex):this.valueHexView=new Uint8Array(1),A&&(this.value=A)}get value(){for(let A of this.valueHexView)if(A>0)return!0;return!1}set value(A){this.valueHexView[0]=A?255:0}fromBER(A,e,t){let r=_r.toUint8Array(A);return ug(this,r,e,t)?(this.valueHexView=r.subarray(e,e+t),t>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,RTA.call(this),this.blockLength=t,e+t):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}};r_A.NAME="BooleanValueBlock";var a_A,zk=class extends F6{constructor(A={}){super(A,r_A),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(A){this.valueBlock.value=A}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};a_A=zk;Zt.Boolean=a_A;zk.NAME="BOOLEAN";var j_A=class extends dg(lE){constructor({isConstructed:A=!1,...e}={}){super(e),this.isConstructed=A}fromBER(A,e,t){let r=0;if(this.isConstructed){if(this.isHexOnly=!1,r=lE.prototype.fromBER.call(this,A,e,t),r===-1)return r;for(let a=0;a<this.value.length;a++){let j=this.value[a].constructor.NAME;if(j===SC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(j!==NTA)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,r=super.fromBER(A,e,t),this.blockLength=t;return r}toBER(A,e){return this.isConstructed?lE.prototype.toBER.call(this,A,e):A?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}};j_A.NAME="OctetStringValueBlock";var n_A,At=class i_A extends F6{constructor({idBlock:e={},lenBlock:t={},...r}={}){var a,j;(a=r.isConstructed)!==null&&a!==void 0||(r.isConstructed=!!(!((j=r.value)===null||j===void 0)&&j.length)),super({idBlock:{isConstructed:r.isConstructed,...e},lenBlock:{...t,isIndefiniteForm:!!r.isIndefiniteForm},...r},j_A),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,t,r){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,r===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),t;if(!this.valueBlock.isConstructed){let j=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(t,t+r);try{if(j.byteLength){let n=HC(j,0,j.byteLength);n.offset!==-1&&n.offset===r&&(this.valueBlock.value=[n.result])}}catch{}}return super.fromBER(e,t,r)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?SA.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${ja.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;let e=[];for(let t of this.valueBlock.value)t instanceof i_A&&e.push(t.valueBlock.valueHexView);return _r.concat(e)}};n_A=At;Zt.OctetString=n_A;At.NAME=NTA;var o_A=class extends dg(lE){constructor({unusedBits:A=0,isConstructed:e=!1,...t}={}){super(t),this.unusedBits=A,this.isConstructed=e,this.blockLength=this.valueHexView.byteLength}fromBER(A,e,t){if(!t)return e;let r=-1;if(this.isConstructed){if(r=lE.prototype.fromBER.call(this,A,e,t),r===-1)return r;for(let n of this.value){let i=n.constructor.NAME;if(i===SC){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(i!==UTA)return this.error="BIT STRING may consists of BIT STRINGs only",-1;let o=n.valueBlock;if(this.unusedBits>0&&o.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=o.unusedBits}return r}let a=_r.toUint8Array(A);if(!ug(this,a,e,t))return-1;let j=a.subarray(e,e+t);if(this.unusedBits=j[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){let n=j.subarray(1);try{if(n.byteLength){let i=HC(n,0,n.byteLength);i.offset!==-1&&i.offset===t-1&&(this.value=[i.result])}}catch{}}return this.valueHexView=j.subarray(1),this.blockLength=j.length,e+t}toBER(A,e){if(this.isConstructed)return lE.prototype.toBER.call(this,A,e);if(A)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return ep;let t=new Uint8Array(this.valueHexView.length+1);return t[0]=this.unusedBits,t.set(this.valueHexView,1),t.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}};o_A.NAME="BitStringValueBlock";var s_A,Qa=class extends F6{constructor({idBlock:A={},lenBlock:e={},...t}={}){var r,a;(r=t.isConstructed)!==null&&r!==void 0||(t.isConstructed=!!(!((a=t.value)===null||a===void 0)&&a.length)),super({idBlock:{isConstructed:t.isConstructed,...A},lenBlock:{...e,isIndefiniteForm:!!t.isIndefiniteForm},...t},o_A),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(A,e,t){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(A,e,t)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return SA.prototype.onAsciiEncoding.call(this);{let A=[],e=this.valueBlock.valueHexView;for(let r of e)A.push(r.toString(2).padStart(8,"0"));let t=A.join("");return`${this.constructor.NAME} : ${t.substring(0,t.length-this.valueBlock.unusedBits)}`}}};s_A=Qa;Zt.BitString=s_A;Qa.NAME=UTA;var l_A;function JSe(A,e){let t=new Uint8Array([0]),r=new Uint8Array(A),a=new Uint8Array(e),j=r.slice(0),n=j.length-1,i=a.slice(0),o=i.length-1,s=0,c=o<n?n:o,u=0;for(let p=c;p>=0;p--,u++){switch(!0){case u<i.length:s=j[n-u]+i[o-u]+t[0];break;default:s=j[n-u]+t[0]}switch(t[0]=s/10,!0){case u>=j.length:j=JoA(new Uint8Array([s%10]),j);break;default:j[n-u]=s%10}}return t[0]>0&&(j=JoA(t,j)),j}function rTA(A){if(A>=_P.length)for(let e=_P.length;e<=A;e++){let t=new Uint8Array([0]),r=_P[e-1].slice(0);for(let a=r.length-1;a>=0;a--){let j=new Uint8Array([(r[a]<<1)+t[0]]);t[0]=j[0]/10,r[a]=j[0]%10}t[0]>0&&(r=JoA(t,r)),_P.push(r)}return _P[A]}function YSe(A,e){let t=0,r=new Uint8Array(A),a=new Uint8Array(e),j=r.slice(0),n=j.length-1,i=a.slice(0),o=i.length-1,s,c=0;for(let u=o;u>=0;u--,c++)switch(s=j[n-c]-i[o-c]-t,!0){case s<0:t=1,j[n-c]=s+10;break;default:t=0,j[n-c]=s}if(t>0)for(let u=n-o+1;u>=0;u--,c++)if(s=j[n-c]-t,s<0)t=1,j[n-c]=s+10;else{t=0,j[n-c]=s;break}return j.slice()}var mlA=class extends dg(fc){constructor({value:A,...e}={}){super(e),this._valueDec=0,e.valueHex&&this.setValueHex(),A!==void 0&&(this.valueDec=A)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=RTA.call(this)))}set valueDec(A){this._valueDec=A,this.isHexOnly=!1,this.valueHexView=new Uint8Array(_Se(A))}get valueDec(){return this._valueDec}fromDER(A,e,t,r=0){let a=this.fromBER(A,e,t);if(a===-1)return a;let j=this.valueHexView;return j[0]===0&&j[1]&128?this.valueHexView=j.subarray(1):r!==0&&j.length<r&&(r-j.length>1&&(r=j.length+1),this.valueHexView=j.subarray(r-j.length)),a}toDER(A=!1){let e=this.valueHexView;switch(!0){case(e[0]&128)!==0:{let t=new Uint8Array(this.valueHexView.length+1);t[0]=0,t.set(e,1),this.valueHexView=t}break;case(e[0]===0&&(e[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(A)}fromBER(A,e,t){let r=super.fromBER(A,e,t);return r===-1||this.setValueHex(),r}toBER(A){return A?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){let A=this.valueHexView.length*8-1,e=new Uint8Array(this.valueHexView.length*8/3),t=0,r,a=this.valueHexView,j="",n=!1;for(let i=a.byteLength-1;i>=0;i--){r=a[i];for(let o=0;o<8;o++){if((r&1)===1)switch(t){case A:e=YSe(rTA(t),e),j="-";break;default:e=JSe(e,rTA(t))}t++,r>>=1}}for(let i=0;i<e.length;i++)e[i]&&(n=!0),n&&(j+=eTA.charAt(e[i]));return n===!1&&(j+=eTA.charAt(0)),j}};l_A=mlA;mlA.NAME="IntegerValueBlock";Object.defineProperty(l_A.prototype,"valueHex",{set:function(A){this.valueHexView=new Uint8Array(A),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var c_A,Ae=class ZK extends F6{constructor(e={}){super(e,mlA),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return mL(),BigInt(this.valueBlock.toString())}static fromBigInt(e){mL();let t=BigInt(e),r=new dlA,a=t.toString(16).replace(/^-/,""),j=new Uint8Array(ja.FromHex(a));if(t<0){let i=new Uint8Array(j.length+(j[0]&128?1:0));i[0]|=128;let s=BigInt(`0x${ja.ToHex(i)}`)+t,c=_r.toUint8Array(ja.FromHex(s.toString(16)));c[0]|=128,r.write(c)}else j[0]&128&&r.write(new Uint8Array([0])),r.write(j);return new ZK({valueHex:r.final()})}convertToDER(){let e=new ZK({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new ZK({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}};c_A=Ae;Zt.Integer=c_A;Ae.NAME="INTEGER";var u_A,iv=class extends Ae{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}};u_A=iv;Zt.Enumerated=u_A;iv.NAME="ENUMERATED";var ZoA=class extends dg(fc){constructor({valueDec:A=-1,isFirstSid:e=!1,...t}={}){super(t),this.valueDec=A,this.isFirstSid=e}fromBER(A,e,t){if(!t)return e;let r=_r.toUint8Array(A);if(!ug(this,r,e,t))return-1;let a=r.subarray(e,e+t);this.valueHexView=new Uint8Array(t);for(let n=0;n<t&&(this.valueHexView[n]=a[n]&127,this.blockLength++,!!(a[n]&128));n++);let j=new Uint8Array(this.blockLength);for(let n=0;n<this.blockLength;n++)j[n]=this.valueHexView[n];return this.valueHexView=j,a[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=nv(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),e+this.blockLength)}set valueBigInt(A){mL();let e=BigInt(A).toString(2);for(;e.length%7;)e="0"+e;let t=new Uint8Array(e.length/7);for(let r=0;r<t.length;r++)t[r]=parseInt(e.slice(r*7,r*7+7),2)+(r+1<t.length?128:0);this.fromBER(t.buffer,0,t.length)}toBER(A){if(this.isHexOnly){if(A)return new ArrayBuffer(this.valueHexView.byteLength);let r=this.valueHexView,a=new Uint8Array(this.blockLength);for(let j=0;j<this.blockLength-1;j++)a[j]=r[j]|128;return a[this.blockLength-1]=r[this.blockLength-1],a.buffer}let e=cg(this.valueDec,7);if(e.byteLength===0)return this.error="Error during encoding SID value",ep;let t=new Uint8Array(e.byteLength);if(!A){let r=new Uint8Array(e),a=e.byteLength-1;for(let j=0;j<a;j++)t[j]=r[j]|128;t[a]=r[a]}return t}toString(){let A="";if(this.isHexOnly)A=ja.ToHex(this.valueHexView);else if(this.isFirstSid){let e=this.valueDec;this.valueDec<=39?A="0.":this.valueDec<=79?(A="1.",e-=40):(A="2.",e-=80),A+=e.toString()}else A=this.valueDec.toString();return A}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}};ZoA.NAME="sidBlock";var d_A=class extends fc{constructor({value:A=gc,...e}={}){super(e),this.value=[],A&&this.fromString(A)}fromBER(A,e,t){let r=e;for(;t>0;){let a=new ZoA;if(r=a.fromBER(A,r,t),r===-1)return this.blockLength=0,this.error=a.error,r;this.value.length===0&&(a.isFirstSid=!0),this.blockLength+=a.blockLength,t-=a.blockLength,this.value.push(a)}return r}toBER(A){let e=[];for(let t=0;t<this.value.length;t++){let r=this.value[t].toBER(A);if(r.byteLength===0)return this.error=this.value[t].error,ep;e.push(r)}return ulA(e)}fromString(A){this.value=[];let e=0,t=0,r="",a=!1;do if(t=A.indexOf(".",e),t===-1?r=A.substring(e):r=A.substring(e,t),e=t+1,a){let j=this.value[0],n=0;switch(j.valueDec){case 0:break;case 1:n=40;break;case 2:n=80;break;default:this.value=[];return}let i=parseInt(r,10);if(isNaN(i))return;j.valueDec=i+n,a=!1}else{let j=new ZoA;if(r>Number.MAX_SAFE_INTEGER){mL();let n=BigInt(r);j.valueBigInt=n}else if(j.valueDec=parseInt(r,10),isNaN(j.valueDec))return;this.value.length||(j.isFirstSid=!0,a=!0),this.value.push(j)}while(t!==-1)}toString(){let A="",e=!1;for(let t=0;t<this.value.length;t++){e=this.value[t].isHexOnly;let r=this.value[t].toString();t!==0&&(A=`${A}.`),e?(r=`{${r}}`,this.value[t].isFirstSid?A=`2.{${r} - 80}`:A+=r):A+=r}return A}toJSON(){let A={...super.toJSON(),value:this.toString(),sidArray:[]};for(let e=0;e<this.value.length;e++)A.sidArray.push(this.value[e].toJSON());return A}};d_A.NAME="ObjectIdentifierValueBlock";var m_A,Nt=class extends F6{constructor(A={}){super(A,d_A),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(A){this.valueBlock.fromString(A)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};m_A=Nt;Zt.ObjectIdentifier=m_A;Nt.NAME="OBJECT IDENTIFIER";var QoA=class extends dg(lv){constructor({valueDec:A=0,...e}={}){super(e),this.valueDec=A}fromBER(A,e,t){if(t===0)return e;let r=_r.toUint8Array(A);if(!ug(this,r,e,t))return-1;let a=r.subarray(e,e+t);this.valueHexView=new Uint8Array(t);for(let n=0;n<t&&(this.valueHexView[n]=a[n]&127,this.blockLength++,!!(a[n]&128));n++);let j=new Uint8Array(this.blockLength);for(let n=0;n<this.blockLength;n++)j[n]=this.valueHexView[n];return this.valueHexView=j,a[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=nv(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),e+this.blockLength)}toBER(A){if(this.isHexOnly){if(A)return new ArrayBuffer(this.valueHexView.byteLength);let r=this.valueHexView,a=new Uint8Array(this.blockLength);for(let j=0;j<this.blockLength-1;j++)a[j]=r[j]|128;return a[this.blockLength-1]=r[this.blockLength-1],a.buffer}let e=cg(this.valueDec,7);if(e.byteLength===0)return this.error="Error during encoding SID value",ep;let t=new Uint8Array(e.byteLength);if(!A){let r=new Uint8Array(e),a=e.byteLength-1;for(let j=0;j<a;j++)t[j]=r[j]|128;t[a]=r[a]}return t.buffer}toString(){let A="";return this.isHexOnly?A=ja.ToHex(this.valueHexView):A=this.valueDec.toString(),A}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}};QoA.NAME="relativeSidBlock";var p_A=class extends fc{constructor({value:A=gc,...e}={}){super(e),this.value=[],A&&this.fromString(A)}fromBER(A,e,t){let r=e;for(;t>0;){let a=new QoA;if(r=a.fromBER(A,r,t),r===-1)return this.blockLength=0,this.error=a.error,r;this.blockLength+=a.blockLength,t-=a.blockLength,this.value.push(a)}return r}toBER(A,e){let t=[];for(let r=0;r<this.value.length;r++){let a=this.value[r].toBER(A);if(a.byteLength===0)return this.error=this.value[r].error,ep;t.push(a)}return ulA(t)}fromString(A){this.value=[];let e=0,t=0,r="";do{t=A.indexOf(".",e),t===-1?r=A.substring(e):r=A.substring(e,t),e=t+1;let a=new QoA;if(a.valueDec=parseInt(r,10),isNaN(a.valueDec))return!0;this.value.push(a)}while(t!==-1);return!0}toString(){let A="",e=!1;for(let t=0;t<this.value.length;t++){e=this.value[t].isHexOnly;let r=this.value[t].toString();t!==0&&(A=`${A}.`),e&&(r=`{${r}}`),A+=r}return A}toJSON(){let A={...super.toJSON(),value:this.toString(),sidArray:[]};for(let e=0;e<this.value.length;e++)A.sidArray.push(this.value[e].toJSON());return A}};p_A.NAME="RelativeObjectIdentifierValueBlock";var k_A,h_A=class extends F6{constructor(A={}){super(A,p_A),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(A){this.valueBlock.fromString(A)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}};k_A=h_A;Zt.RelativeObjectIdentifier=k_A;h_A.NAME="RelativeObjectIdentifier";var g_A,iA=class extends SA{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}};g_A=iA;Zt.Sequence=g_A;iA.NAME="SEQUENCE";var f_A,oo=class extends SA{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};f_A=oo;Zt.Set=f_A;oo.NAME="SET";var B_A=class extends dg(fc){constructor({...A}={}){super(A),this.isHexOnly=!0,this.value=gc}toJSON(){return{...super.toJSON(),value:this.value}}};B_A.NAME="StringValueBlock";var E_A=class extends B_A{};E_A.NAME="SimpleStringValueBlock";var fu=class extends WTA{constructor({...A}={}){super(A,E_A)}fromBuffer(A){this.valueBlock.value=String.fromCharCode.apply(null,_r.toUint8Array(A))}fromString(A){let e=A.length,t=this.valueBlock.valueHexView=new Uint8Array(e);for(let r=0;r<e;r++)t[r]=A.charCodeAt(r);this.valueBlock.value=A}};fu.NAME="SIMPLE STRING";var x_A=class extends fu{fromBuffer(A){this.valueBlock.valueHexView=_r.toUint8Array(A);try{this.valueBlock.value=ja.ToUtf8String(A)}catch(e){this.warnings.push(`Error during "decodeURIComponent": ${e}, using raw string`),this.valueBlock.value=ja.ToBinary(A)}}fromString(A){this.valueBlock.valueHexView=new Uint8Array(ja.FromUtf8String(A)),this.valueBlock.value=A}};x_A.NAME="Utf8StringValueBlock";var b_A,Qm=class extends x_A{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}};b_A=Qm;Zt.Utf8String=b_A;Qm.NAME="UTF8String";var y_A=class extends fu{fromBuffer(A){this.valueBlock.value=ja.ToUtf16String(A),this.valueBlock.valueHexView=_r.toUint8Array(A)}fromString(A){this.valueBlock.value=A,this.valueBlock.valueHexView=new Uint8Array(ja.FromUtf16String(A))}};y_A.NAME="BmpStringValueBlock";var v_A,CC=class extends y_A{constructor({...A}={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}};v_A=CC;Zt.BmpString=v_A;CC.NAME="BMPString";var F_A=class extends fu{fromBuffer(A){let e=ArrayBuffer.isView(A)?A.slice().buffer:A.slice(0),t=new Uint8Array(e);for(let r=0;r<t.length;r+=4)t[r]=t[r+3],t[r+1]=t[r+2],t[r+2]=0,t[r+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(e))}fromString(A){let e=A.length,t=this.valueBlock.valueHexView=new Uint8Array(e*4);for(let r=0;r<e;r++){let a=cg(A.charCodeAt(r),8),j=new Uint8Array(a);if(j.length>4)continue;let n=4-j.length;for(let i=j.length-1;i>=0;i--)t[r*4+i+n]=j[i]}this.valueBlock.value=A}};F_A.NAME="UniversalStringValueBlock";var G_A,OC=class extends F_A{constructor({...A}={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}};G_A=OC;Zt.UniversalString=G_A;OC.NAME="UniversalString";var w_A,j1=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}};w_A=j1;Zt.NumericString=w_A;j1.NAME="NumericString";var q_A,Ym=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}};q_A=Ym;Zt.PrintableString=q_A;Ym.NAME="PrintableString";var $_A,TC=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}};$_A=TC;Zt.TeletexString=$_A;TC.NAME="TeletexString";var I_A,plA=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}};I_A=plA;Zt.VideotexString=I_A;plA.NAME="VideotexString";var P_A,KL=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}};P_A=KL;Zt.IA5String=P_A;KL.NAME="IA5String";var S_A,klA=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}};S_A=klA;Zt.GraphicString=S_A;klA.NAME="GraphicString";var C_A,LL=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}};C_A=LL;Zt.VisibleString=C_A;LL.NAME="VisibleString";var O_A,hlA=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}};O_A=hlA;Zt.GeneralString=O_A;hlA.NAME="GeneralString";var T_A,glA=class extends fu{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}};T_A=glA;Zt.CharacterString=T_A;glA.NAME="CharacterString";var __A,c1=class extends LL{constructor({value:A,valueDate:e,...t}={}){if(super(t),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,A){this.fromString(A),this.valueBlock.valueHexView=new Uint8Array(A.length);for(let r=0;r<A.length;r++)this.valueBlock.valueHexView[r]=A.charCodeAt(r)}e&&(this.fromDate(e),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(A){this.fromString(String.fromCharCode.apply(null,_r.toUint8Array(A)))}toBuffer(){let A=this.toString(),e=new ArrayBuffer(A.length),t=new Uint8Array(e);for(let r=0;r<A.length;r++)t[r]=A.charCodeAt(r);return e}fromDate(A){this.year=A.getUTCFullYear(),this.month=A.getUTCMonth()+1,this.day=A.getUTCDate(),this.hour=A.getUTCHours(),this.minute=A.getUTCMinutes(),this.second=A.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(A){let t=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(A);if(t===null){this.error="Wrong input string for conversion";return}let r=parseInt(t[1],10);r>=50?this.year=1900+r:this.year=2e3+r,this.month=parseInt(t[2],10),this.day=parseInt(t[3],10),this.hour=parseInt(t[4],10),this.minute=parseInt(t[5],10),this.second=parseInt(t[6],10)}toString(A="iso"){if(A==="iso"){let e=new Array(7);return e[0]=pu(this.year<2e3?this.year-1900:this.year-2e3,2),e[1]=pu(this.month,2),e[2]=pu(this.day,2),e[3]=pu(this.hour,2),e[4]=pu(this.minute,2),e[5]=pu(this.second,2),e[6]="Z",e.join("")}return super.toString(A)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}};__A=c1;Zt.UTCTime=__A;c1.NAME="UTCTime";var D_A,si=class extends c1{constructor(A={}){var e;super(A),(e=this.millisecond)!==null&&e!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(A){super.fromDate(A),this.millisecond=A.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(A){let e=!1,t="",r="",a=0,j,n=0,i=0;if(A[A.length-1]==="Z")t=A.substring(0,A.length-1),e=!0;else{let c=new Number(A[A.length-1]);if(isNaN(c.valueOf()))throw new Error("Wrong input string for conversion");t=A}if(e){if(t.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(t.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let c=1,u=t.indexOf("+"),p="";if(u===-1&&(u=t.indexOf("-"),c=-1),u!==-1){if(p=t.substring(u+1),t=t.substring(0,u),p.length!==2&&p.length!==4)throw new Error("Wrong input string for conversion");let h=parseInt(p.substring(0,2),10);if(isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");if(n=c*h,p.length===4){if(h=parseInt(p.substring(2,4),10),isNaN(h.valueOf()))throw new Error("Wrong input string for conversion");i=c*h}}}let o=t.indexOf(".");if(o===-1&&(o=t.indexOf(",")),o!==-1){let c=new Number(`0${t.substring(o)}`);if(isNaN(c.valueOf()))throw new Error("Wrong input string for conversion");a=c.valueOf(),r=t.substring(0,o)}else r=t;switch(!0){case r.length===8:if(j=/(\d{4})(\d{2})(\d{2})/ig,o!==-1)throw new Error("Wrong input string for conversion");break;case r.length===10:if(j=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,o!==-1){let c=60*a;this.minute=Math.floor(c),c=60*(c-this.minute),this.second=Math.floor(c),c=1e3*(c-this.second),this.millisecond=Math.floor(c)}break;case r.length===12:if(j=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,o!==-1){let c=60*a;this.second=Math.floor(c),c=1e3*(c-this.second),this.millisecond=Math.floor(c)}break;case r.length===14:if(j=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,o!==-1){let c=1e3*a;this.millisecond=Math.floor(c)}break;default:throw new Error("Wrong input string for conversion")}let s=j.exec(r);if(s===null)throw new Error("Wrong input string for conversion");for(let c=1;c<s.length;c++)switch(c){case 1:this.year=parseInt(s[c],10);break;case 2:this.month=parseInt(s[c],10);break;case 3:this.day=parseInt(s[c],10);break;case 4:this.hour=parseInt(s[c],10)+n;break;case 5:this.minute=parseInt(s[c],10)+i;break;case 6:this.second=parseInt(s[c],10);break;default:throw new Error("Wrong input string for conversion")}if(e===!1){let c=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=c.getUTCFullYear(),this.month=c.getUTCMonth(),this.day=c.getUTCDay(),this.hour=c.getUTCHours(),this.minute=c.getUTCMinutes(),this.second=c.getUTCSeconds(),this.millisecond=c.getUTCMilliseconds()}}toString(A="iso"){if(A==="iso"){let e=[];return e.push(pu(this.year,4)),e.push(pu(this.month,2)),e.push(pu(this.day,2)),e.push(pu(this.hour,2)),e.push(pu(this.minute,2)),e.push(pu(this.second,2)),this.millisecond!==0&&(e.push("."),e.push(pu(this.millisecond,3))),e.push("Z"),e.join("")}return super.toString(A)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}};D_A=si;Zt.GeneralizedTime=D_A;si.NAME="GeneralizedTime";var z_A,M_A=class extends Qm{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};z_A=M_A;Zt.DATE=z_A;M_A.NAME="DATE";var R_A,K_A=class extends Qm{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}};R_A=K_A;Zt.TimeOfDay=R_A;K_A.NAME="TimeOfDay";var L_A,N_A=class extends Qm{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}};L_A=N_A;Zt.DateTime=L_A;N_A.NAME="DateTime";var U_A,H_A=class extends Qm{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}};U_A=H_A;Zt.Duration=U_A;H_A.NAME="Duration";var V_A,X_A=class extends Qm{constructor(A={}){super(A),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}};V_A=X_A;Zt.TIME=V_A;X_A.NAME="TIME";var Dr=class{constructor({name:A=gc,optional:e=!1}={}){this.name=A,this.optional=e}},li=class extends Dr{constructor({value:A=[],...e}={}){super(e),this.value=A}},ta=class extends Dr{constructor({value:A=new Dr,local:e=!1,...t}={}){super(t),this.value=A,this.local=e}},pL=class{constructor({data:A=RL}={}){this.dataView=_r.toUint8Array(A)}get data(){return this.dataView.slice().buffer}set data(A){this.dataView=_r.toUint8Array(A)}fromBER(A,e,t){let r=e+t;return this.dataView=_r.toUint8Array(A).subarray(e,r),r}toBER(A){return this.dataView.slice().buffer}};function Te(A,e,t){if(t instanceof li){for(let j=0;j<t.value.length;j++)if(Te(A,e,t.value[j]).verified)return{verified:!0,result:A};{let j={verified:!1,result:{error:"Wrong values for Choice type"}};return t.hasOwnProperty(uoA)&&(j.name=t.name),j}}if(t instanceof Dr)return t.hasOwnProperty(uoA)&&(A[t.name]=e),{verified:!0,result:A};if(!(A instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(RSe in t))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(USe in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(HSe in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let r=t.idBlock.toBER(!1);if(r.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(t.idBlock.fromBER(r,0,r.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(t.idBlock.hasOwnProperty(KSe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:A};if(t.idBlock.hasOwnProperty(LSe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:A};if(t.idBlock.hasOwnProperty(NSe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:A};if(!(MSe in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(t.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:A};if(t.idBlock.isHexOnly){if(!(tTA in t.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};let j=t.idBlock.valueHexView,n=e.idBlock.valueHexView;if(j.length!==n.length)return{verified:!1,result:A};for(let i=0;i<j.length;i++)if(j[i]!==n[1])return{verified:!1,result:A}}if(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&(A[t.name]=e)),t instanceof Zt.Constructed){let j=0,n={verified:!1,result:{error:"Unknown error"}},i=t.valueBlock.value.length;if(i>0&&t.valueBlock.value[0]instanceof ta&&(i=e.valueBlock.value.length),i===0)return{verified:!0,result:A};if(e.valueBlock.value.length===0&&t.valueBlock.value.length!==0){let o=!0;for(let s=0;s<t.valueBlock.value.length;s++)o=o&&(t.valueBlock.value[s].optional||!1);return o?{verified:!0,result:A}:(t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&delete A[t.name]),A.error="Inconsistent object length",{verified:!1,result:A})}for(let o=0;o<i;o++)if(o-j>=e.valueBlock.value.length){if(t.valueBlock.value[o].optional===!1){let s={verified:!1,result:A};return A.error="Inconsistent length between ASN.1 data and schema",t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&(delete A[t.name],s.name=t.name)),s}}else if(t.valueBlock.value[0]instanceof ta){if(n=Te(A,e.valueBlock.value[o],t.valueBlock.value[0].value),n.verified===!1)if(t.valueBlock.value[0].optional)j++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&delete A[t.name]),n;if(uoA in t.valueBlock.value[0]&&t.valueBlock.value[0].name.length>0){let s={};VSe in t.valueBlock.value[0]&&t.valueBlock.value[0].local?s=e:s=A,typeof s[t.valueBlock.value[0].name]>"u"&&(s[t.valueBlock.value[0].name]=[]),s[t.valueBlock.value[0].name].push(e.valueBlock.value[o])}}else if(n=Te(A,e.valueBlock.value[o-j],t.valueBlock.value[o]),n.verified===!1)if(t.valueBlock.value[o].optional)j++;else return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&delete A[t.name]),n;if(n.verified===!1){let o={verified:!1,result:A};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&(delete A[t.name],o.name=t.name)),o}return{verified:!0,result:A}}if(t.primitiveSchema&&tTA in e.valueBlock){let j=HC(e.valueBlock.valueHexView);if(j.offset===-1){let n={verified:!1,result:j.result};return t.name&&(t.name=t.name.replace(/^\s+|\s+$/g,gc),t.name&&(delete A[t.name],n.name=t.name)),n}return Te(A,j.result,t.primitiveSchema)}return{verified:!0,result:A}}var Sd=class qd{constructor(e={}){if("view"in e)this.fromUint8Array(e.view);else if("buffer"in e)this.fromArrayBuffer(e.buffer);else if("string"in e)this.fromString(e.string);else if("hexstring"in e)this.fromHexString(e.hexstring);else if("length"in e&&e.length>0){if(this.length=e.length,e.stub)for(let t=0;t<this._view.length;t++)this._view[t]=e.stub}else this.length=0}set buffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}get view(){return this._view}get length(){return this.view.byteLength}set length(e){this._buffer=new ArrayBuffer(e),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}fromUint8Array(e){this.fromArrayBuffer(new Uint8Array(e).buffer)}fromString(e){let t=e.length;this.length=t;for(let r=0;r<t;r++)this.view[r]=e.charCodeAt(r)}toString(e=0,t=this.view.length-e){let r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let a=e;a<e+t;a++)r+=String.fromCharCode(this.view[a]);return r}fromHexString(e){let t=e.length;this.buffer=new ArrayBuffer(t>>1),this.view=new Uint8Array(this.buffer);let r=new Map;r.set("0",0),r.set("1",1),r.set("2",2),r.set("3",3),r.set("4",4),r.set("5",5),r.set("6",6),r.set("7",7),r.set("8",8),r.set("9",9),r.set("A",10),r.set("a",10),r.set("B",11),r.set("b",11),r.set("C",12),r.set("c",12),r.set("D",13),r.set("d",13),r.set("E",14),r.set("e",14),r.set("F",15),r.set("f",15);let a=0,j=0;for(let n=0;n<t;n++)n%2?(j|=r.get(e.charAt(n)),this.view[a]=j,a++):j=r.get(e.charAt(n))<<4}toHexString(e=0,t=this.view.length-e){let r="";(e>=this.view.length||e<0)&&(e=0),(t>=this.view.length||t<0)&&(t=this.view.length-e);for(let a=e;a<e+t;a++){let j=this.view[a].toString(16).toUpperCase();r=r+(j.length==1?"0":"")+j}return r}copy(e=0,t=this.length-e){if(!e&&!this.length)return new qd;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new qd({buffer:this._buffer.slice(e,e+t)})}slice(e=0,t=this.length){if(!e&&!this.length)return new qd;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new qd({buffer:this._buffer.slice(e,t)})}realloc(e){let t=new ArrayBuffer(e),r=new Uint8Array(t);e>this._view.length?r.set(this._view):r.set(new Uint8Array(this._buffer,0,e)),this._buffer=t,this._view=new Uint8Array(this._buffer)}append(e){let t=this.length,r=e.length,a=e._view.subarray();this.realloc(t+r),this._view.set(a,t)}insert(e,t=0,r=this.length-t){return t>this.length-1?!1:(r>this.length-t&&(r=this.length-t),r>e.length&&(r=e.length),r==e.length?this._view.set(e._view,t):this._view.set(e._view.subarray(0,r),t),!0)}isEqual(e){if(this.length!=e.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e.view[t])return!1;return!0}isEqualView(e){if(e.length!=this.view.length)return!1;for(let t=0;t<e.length;t++)if(this.view[t]!=e[t])return!1;return!0}findPattern(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o=e.length;if(o>n)return-1;let s=[];for(let c=0;c<o;c++)s.push(e.view[c]);for(let c=0;c<=n-o;c++){let u=!0,p=i?j-o-c:j+c;for(let h=0;h<o;h++)if(this.view[h+p]!=s[h]){u=!1;break}if(u)return i?j-o-c:j+o+c}return-1}findFirstIn(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o={id:-1,position:i?0:j+n,length:0};for(let s=0;s<e.length;s++){let c=this.findPattern(e[s],j,n,i);if(c!=-1){let u=!1,p=e[s].length;i?c-p>=o.position-o.length&&(u=!0):c-p<=o.position-o.length&&(u=!0),u&&(o.position=c,o.id=s,o.length=p)}}return o}findAllIn(e,t,r){let{start:a,length:j}=this.prepareFindParameters(t,r),n=[],i={id:-1,position:a};do{let o=i.position;if(i=this.findFirstIn(e,i.position,j),i.id==-1)break;j-=i.position-o,n.push({id:i.id,position:i.position})}while(!0);return n}findAllPatternIn(e,t,r){let{start:a,length:j}=this.prepareFindParameters(t,r),n=[],i=e.length;if(i>j)return-1;let o=Array.from(e.view);for(let s=0;s<=j-i;s++){let c=!0,u=a+s;for(let p=0;p<i;p++)if(this.view[p+u]!=o[p]){c=!1;break}c&&(n.push(a+i+s),s+=i-1)}return n}findFirstNotIn(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o={left:{id:-1,position:j},right:{id:-1,position:0},value:new qd},s=n;for(;s>0;){if(o.right=this.findFirstIn(e,i?j-n+s:j+n-s,s,i),o.right.id==-1){n=s,i?j-=n:j=o.left.position,o.value=new qd({buffer:this._buffer.slice(j,j+n)});break}if(o.right.position!=(i?o.left.position-e[o.right.id].length:o.left.position+e[o.right.id].length)){i?(j=o.right.position+e[o.right.id].length,n=o.left.position-o.right.position-e[o.right.id].length):(j=o.left.position,n=o.right.position-o.left.position-e[o.right.id].length),o.value=new qd({buffer:this._buffer.slice(j,j+n)});break}o.left=o.right,s-=e[o.right.id].length}if(i){let c=o.right;o.right=o.left,o.left=c}return o}findAllNotIn(e,t,r){let{start:a,length:j}=this.prepareFindParameters(t,r),n=[],i={left:{id:-1,position:a},right:{id:-1,position:a},value:new qd};do{let o=i.right.position;i=this.findFirstNotIn(e,i.right.position,j),j-=i.right.position-o,n.push({left:{id:i.left.id,position:i.left.position},right:{id:i.right.id,position:i.right.position},value:i.value})}while(i.right.id!=-1);return n}findFirstSequence(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o=this.skipNotPatterns(e,j,n,i);if(o==-1)return{position:-1,value:new qd};let s=this.skipPatterns(e,o,n-(i?j-o:o-j),i);i?(j=s,n=o-s):(j=o,n=s-o);let c=new qd({buffer:this._buffer.slice(j,j+n)});return{position:s,value:c}}findAllSequences(e,t,r){let{start:a,length:j}=this.prepareFindParameters(t,r),n=[],i={position:a,value:new qd};do{let o=i.position;i=this.findFirstSequence(e,i.position,j),i.position!=-1&&(j-=i.position-o,n.push({position:i.position,value:i.value}))}while(i.position!=-1);return n}findPairedPatterns(e,t,r,a){let j=[];if(e.isEqual(t))return j;let{start:n,length:i}=this.prepareFindParameters(r,a),o=0,s=this.findAllPatternIn(e,n,i);if(!Array.isArray(s)||s.length==0)return j;let c=this.findAllPatternIn(t,n,i);if(!Array.isArray(c)||c.length==0)return j;for(;o<s.length&&c.length!=0;){if(s[0]==c[0]){j.push({left:s[0],right:c[0]}),s.splice(0,1),c.splice(0,1);continue}if(s[o]>c[0])break;for(;s[o]<c[0]&&(o++,!(o>=s.length)););j.push({left:s[o-1],right:c[0]}),s.splice(o-1,1),c.splice(0,1),o=0}return j.sort((u,p)=>u.left-p.left),j}findPairedArrays(e,t,r,a){let{start:j,length:n}=this.prepareFindParameters(r,a),i=[],o=0,s=this.findAllIn(e,j,n);if(s.length==0)return i;let c=this.findAllIn(t,j,n);if(c.length==0)return i;for(;o<s.length&&c.length!=0;){if(s[0].position==c[0].position){i.push({left:s[0],right:c[0]}),s.splice(0,1),c.splice(0,1);continue}if(s[o].position>c[0].position)break;for(;s[o].position<c[0].position&&(o++,!(o>=s.length)););i.push({left:s[o-1],right:c[0]}),s.splice(o-1,1),c.splice(0,1),o=0}return i.sort((u,p)=>u.left.position-p.left.position),i}replacePattern(e,t,r,a,j=null){let n=[],i,o={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:s,length:c}=this.prepareFindParameters(r,a);if(j==null){if(n=this.findAllIn([e],s,c),n.length==0)return o}else n=j;o.searchPatternPositions.push(...Array.from(n,f=>f.position));let u=e.length-t.length,p=new ArrayBuffer(this.view.length-n.length*u),h=new Uint8Array(p);for(h.set(new Uint8Array(this.buffer,0,s)),i=0;i<n.length;i++){let f=i==0?s:n[i-1].position;h.set(new Uint8Array(this.buffer,f,n[i].position-e.length-f),f-i*u),h.set(t.view,n[i].position-e.length-i*u),o.replacePatternPositions.push(n[i].position-e.length-i*u)}return i--,h.set(new Uint8Array(this.buffer,n[i].position,this.length-n[i].position),n[i].position-e.length+t.length-i*u),this.buffer=p,this.view=new Uint8Array(this.buffer),o.status=1,o}skipPatterns(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o=j;for(let s=0;s<e.length;s++){let c=e[s].length,u=i?o-c:o,p=!0;for(let h=0;h<c;h++)if(this.view[h+u]!=e[s].view[h]){p=!1;break}if(p){if(s=-1,i){if(o-=c,o<=0)return o}else if(o+=c,o>=j+n)return o}}return o}skipNotPatterns(e,t,r,a){let{start:j,length:n,backward:i}=this.prepareFindParameters(t,r,a),o=-1;for(let s=0;s<n;s++){for(let c=0;c<e.length;c++){let u=e[c].length,p=i?j-s-u:j+s,h=!0;for(let f=0;f<u;f++)if(this.view[f+p]!=e[c].view[f]){h=!1;break}if(h){o=i?j-s:j+s;break}}if(o!=-1)break}return o}prepareFindParameters(e=null,t=null,r=!1){return e===null&&(e=r?this.length:0),e>this.length&&(e=this.length),r?(t===null&&(t=e),t>e&&(t=e)):(t===null&&(t=this.length-e),t>this.length-e&&(t=this.length-e)),{start:e,length:t,backward:r}}},ZSe=16777216,n1=class W_A{constructor(e={}){this._stream=new Sd,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,"view"in e?this.stream=new Sd({view:e.view}):"buffer"in e?this.stream=new Sd({buffer:e.buffer}):"string"in e?this.stream=new Sd({string:e.string}):"hexstring"in e?this.stream=new Sd({hexstring:e.hexstring}):"stream"in e?this.stream=e.stream.slice():this.stream=new Sd,"backward"in e&&e.backward&&(this.backward=e.backward,this._start=this.stream.length),"length"in e&&e.length>0&&(this._length=e.length),"start"in e&&e.start&&e.start>0&&(this._start=e.start),"appendBlock"in e&&e.appendBlock&&e.appendBlock>0&&(this.appendBlock=e.appendBlock)}set stream(e){this._stream=e,this.prevLength=this._length,this._length=e.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(e){this.prevLength=this._length,this._length=e}get length(){return this.appendBlock?this.start:this._length}set start(e){e>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-e:e-this._start,this._start=e)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(e,t=null){(t==null||t>this.length)&&(t=this.length);let r=this.stream.findPattern(e,this.start,this.length,this.backward);if(r==-1)return r;if(this.backward){if(r<this.start-e.length-t)return-1}else if(r>this.start+e.length+t)return-1;return this.start=r,r}findFirstIn(e,t=null){(t==null||t>this.length)&&(t=this.length);let r=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(r.id==-1)return r;if(this.backward){if(r.position<this.start-e[r.id].length-t)return{id:-1,position:this.backward?0:this.start+this.length}}else if(r.position>this.start+e[r.id].length+t)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=r.position,r}findAllIn(e){let t=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,t,this.length)}findFirstNotIn(e,t=null){(t==null||t>this._length)&&(t=this._length);let r=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(r.left.id==-1&&r.right.id==-1)return r;if(this.backward){if(r.right.id!=-1&&r.right.position<this._start-e[r.right.id].length-t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Sd}}else if(r.left.id!=-1&&r.left.position>this._start+e[r.left.id].length+t)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Sd};return this.backward?r.left.id==-1?this.start=0:this.start=r.left.position:r.right.id==-1?this.start=this._start+this._length:this.start=r.right.position,r}findAllNotIn(e){let t=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,t,this._length)}findFirstSequence(e,t=null,r=null){(t==null||t>this._length)&&(t=this._length),(r==null||r>t)&&(r=t);let a=this._stream.findFirstSequence(e,this._start,t,this.backward);if(a.value.length==0)return a;if(this.backward){if(a.position<this._start-a.value.length-r)return{position:-1,value:new Sd}}else if(a.position>this._start+a.value.length+r)return{position:-1,value:new Sd};return this.start=a.position,a}findAllSequences(e){let t=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,t,this.length)}findPairedPatterns(e,t,r=null){(r==null||r>this.length)&&(r=this.length);let a=this.backward?this.start-this.length:this.start,j=this.stream.findPairedPatterns(e,t,a,this.length);if(j.length){if(this.backward){if(j[0].right<this.start-t.length-r)return[]}else if(j[0].left>this.start+e.length+r)return[]}return j}findPairedArrays(e,t,r=null){(r==null||r>this.length)&&(r=this.length);let a=this.backward?this.start-this.length:this.start,j=this.stream.findPairedArrays(e,t,a,this.length);if(j.length){if(this.backward){if(j[0].right.position<this.start-t[j[0].right.id].length-r)return[]}else if(j[0].left.position>this.start+e[j[0].left.id].length+r)return[]}return j}replacePattern(e,t){let r=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,t,r,this.length)}skipPatterns(e){let t=this.stream.skipPatterns(e,this.start,this.length,this.backward);return this.start=t,t}skipNotPatterns(e){let t=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);return t==-1?-1:(this.start=t,t)}append(e){this.beforeAppend(e.length),this._stream.view.set(e.view,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendView(e){this.beforeAppend(e.length),this._stream.view.set(e,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendChar(e){this.beforeAppend(1),this._stream.view[this._start]=e,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(e){this.beforeAppend(2);let t=new Uint16Array([e]),r=new Uint8Array(t.buffer);this.stream.view[this._start]=r[1],this._stream.view[this._start+1]=r[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(e){this.beforeAppend(3);let t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[2],this._stream.view[this._start+1]=r[1],this._stream.view[this._start+2]=r[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(e){this.beforeAppend(4);let t=new Uint32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3],this._stream.view[this._start+1]=r[2],this._stream.view[this._start+2]=r[1],this._stream.view[this._start+3]=r[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(e){this.beforeAppend(2);let t=new Int16Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[1],this._stream.view[this._start+1]=r[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(e){this.beforeAppend(4);let t=new Int32Array([e]),r=new Uint8Array(t.buffer);this._stream.view[this._start]=r[3],this._stream.view[this._start+1]=r[2],this._stream.view[this._start+2]=r[1],this._stream.view[this._start+3]=r[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(e,t=!0){if(this._length<=0)return new Uint8Array(0);this._length<e&&(e=this._length);let r;if(this.backward){let a=this._stream.view.subarray(this._length-e,this._length);r=new Uint8Array(e);for(let j=0;j<e;j++)r[e-1-j]=a[j]}else r=this._stream.view.subarray(this._start,this._start+e);return t&&(this.start+=this.backward?-1*e:e),r}getUint16(e=!0){let t=this.getBlock(2,e);return t.length<2?0:t[0]<<8|t[1]}getInt16(e=!0){let t=this.getUint16(e),r=32768;return t&r?-(r-(t^r)):t}getUint24(e=!0){let t=this.getBlock(4,e);return t.length<3?0:t[0]<<16|t[1]<<8|t[2]}getUint32(e=!0){let t=this.getBlock(4,e);return t.length<4?0:t[0]*ZSe+(t[1]<<16)+(t[2]<<8)+t[3]}getInt32(e=!0){let t=this.getUint32(e),r=2147483648;return t&r?-(r-(t^r)):t}beforeAppend(e){this._start+e>this._stream.length&&(e>this.appendBlock&&(this.appendBlock=e+W_A.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}};n1.APPEND_BLOCK=1e3;var $o=new ArrayBuffer(0),N="",$n=class AsA extends TypeError{constructor(){super(...arguments),this.name=AsA.NAME}static isType(e,t){if(typeof t=="string"){if(t==="Array"&&Array.isArray(e))return!0;if(t==="ArrayBuffer"&&e instanceof ArrayBuffer)return!0;if(t==="ArrayBufferView"&&ArrayBuffer.isView(e))return!0;if(typeof e===t)return!0}else if(e instanceof t)return!0;return!1}static assert(e,t,...r){for(let j of r)if(this.isType(e,j))return;let a=r.map(j=>j instanceof Function&&"name"in j?j.name:`${j}`);throw new AsA(`Parameter '${t}' is not of type ${a.length>1?`(${a.join(" or ")})`:a[0]}`)}};$n.NAME="ArgumentError";var Tj=class QK extends TypeError{constructor(e,t=null,r){super(),this.name=QK.NAME,this.field=e,t&&(this.target=t),r?this.message=r:this.message=`Absent mandatory parameter '${e}' ${t?` in '${t}'`:N}`}static assert(...e){let t=null,r,a;typeof e[0]=="string"?(t=e[0],r=e[1],a=e.slice(2)):(r=e[0],a=e.slice(1)),$n.assert(r,"parameters","object");for(let j of a){let n=r[j];if(n==null)throw new QK(j,t)}}static assertEmpty(e,t,r){if(e==null)throw new QK(t,r)}};Tj.NAME="ParameterError";var fe=class J_A extends Error{static assertSchema(e,t){if(!e.verified)throw new Error(`Object's schema was not verified against input data for ${t}`)}static assert(e,t){if(e.offset===-1)throw new J_A(`Error during parsing of ASN.1 data. Data is not correct for '${t}'.`)}constructor(e){super(e),this.name="AsnError"}},Ie=class{static blockName(){return this.CLASS_NAME}static fromBER(A){let e=qo(A);fe.assert(e,this.name);try{return new this({schema:e.result})}catch{throw new fe(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(A){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${A}`)}static schema(A={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(A="hex"){let e;try{e=this.toSchema()}catch{e=this.toSchema(!0)}return ja.ToString(e.toBER(),A)}};Ie.CLASS_NAME="PkiObject";function iE(A){let e=!1,t=N,r=A.trim();for(let a=0;a<r.length;a++)r.charCodeAt(a)===32?e===!1&&(e=!0):(e&&(t+=" ",e=!1),t+=r[a]);return t.toLowerCase()}var DP="type",doA="value",esA=class AS extends Ie{constructor(e={}){super(),this.type=S(e,DP,AS.defaultValues(DP)),this.value=S(e,doA,AS.defaultValues(doA)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case DP:return N;case doA:return{};default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.type||N}),new Dr({name:t.value||N})]})}fromSchema(e){Le(e,[DP,"typeValue"]);let t=Te(e,e,AS.schema({names:{type:DP,value:"typeValue"}}));fe.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.value=t.result.typeValue}toSchema(){return new iA({value:[new Nt({value:this.type}),this.value]})}toJSON(){let e={type:this.type};return Object.keys(this.value).length!==0?e.value=this.value.toJSON():e.value=this.value,e}isEqual(e){let t=[Qm.blockName(),CC.blockName(),OC.blockName(),j1.blockName(),Ym.blockName(),TC.blockName(),plA.blockName(),KL.blockName(),klA.blockName(),LL.blockName(),hlA.blockName(),glA.blockName()];if(e instanceof ArrayBuffer)return _r.isEqual(this.value.valueBeforeDecodeView,e);if(e.constructor.blockName()===AS.blockName()){if(this.type!==e.type)return!1;let r=[!1,!1],a=this.value.constructor.blockName();for(let n of t)a===n&&(r[0]=!0),e.value.constructor.blockName()===n&&(r[1]=!0);if(r[0]!==r[1])return!1;if(r[0]&&r[1]){let n=iE(this.value.valueBlock.value),i=iE(e.value.valueBlock.value);if(n.localeCompare(i)!==0)return!1}else if(!_r.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return!1;return!0}return!1}};esA.CLASS_NAME="AttributeTypeAndValue";var Ob="typesAndValues",vK="valueBeforeDecode",aTA="RDN",Qn=class eS extends Ie{constructor(e={}){super(),this.typesAndValues=S(e,Ob,eS.defaultValues(Ob)),this.valueBeforeDecode=S(e,vK,eS.defaultValues(vK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ob:return[];case vK:return $o;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ob:return t.length===0;case vK:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.repeatedSequence||N,value:new oo({value:[new ta({name:t.repeatedSet||N,value:esA.schema(t.typeAndValue||{})})]})})]})}fromSchema(e){Le(e,[aTA,Ob]);let t=Te(e,e,eS.schema({names:{blockName:aTA,repeatedSet:Ob}}));fe.assertSchema(t,this.className),Ob in t.result&&(this.typesAndValues=Array.from(t.result.typesAndValues,r=>new esA({schema:r}))),this.valueBeforeDecode=t.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(this.valueBeforeDecode.byteLength===0)return new iA({value:[new oo({value:Array.from(this.typesAndValues,t=>t.toSchema())})]});let e=qo(this.valueBeforeDecode);if(fe.assert(e,"RelativeDistinguishedNames"),!(e.result instanceof iA))throw new Error("ASN.1 result should be SEQUENCE");return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,e=>e.toJSON())}}isEqual(e){if(e instanceof eS){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(let[t,r]of this.typesAndValues.entries())if(r.isEqual(e.typesAndValues[t])===!1)return!1;return!0}return e instanceof ArrayBuffer?s1(this.valueBeforeDecode,e):!1}};Qn.CLASS_NAME="RelativeDistinguishedNames";var tS="type",rS="value";function QSe(A={},e=!1){let t=S(A,"names",{});return new iA({optional:e,value:[new SA({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:t.country_name||N,value:[new li({value:[new j1,new Ym]})]}),new SA({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:t.administration_domain_name||N,value:[new li({value:[new j1,new Ym]})]}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:t.network_address||N,isHexOnly:!0}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:t.terminal_identifier||N,isHexOnly:!0}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:t.private_domain_name||N,value:[new li({value:[new j1,new Ym]})]}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:t.organization_name||N,isHexOnly:!0}),new Cr({optional:!0,name:t.numeric_user_identifier||N,idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new SA({optional:!0,name:t.personal_name||N,idBlock:{tagClass:3,tagNumber:5},value:[new Cr({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new SA({optional:!0,name:t.organizational_unit_names||N,idBlock:{tagClass:3,tagNumber:6},value:[new ta({value:new Ym})]})]})}function A2e(A=!1){return new iA({optional:A,value:[new Ym,new Ym]})}function e2e(A=!1){return new oo({optional:A,value:[new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Dr]})]})}var Bn=class yw extends Ie{constructor(e={}){super(),this.type=S(e,tS,yw.defaultValues(tS)),this.value=S(e,rS,yw.defaultValues(rS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case tS:return 9;case rS:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case tS:return t===yw.defaultValues(e);case rS:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new li({value:[new SA({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||N,value:[new Nt,new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr]})]}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:1}}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:2}}),new SA({idBlock:{tagClass:3,tagNumber:3},name:t.blockName||N,value:[QSe(t.builtInStandardAttributes||{},!1),A2e(!0),e2e(!0)]}),new SA({idBlock:{tagClass:3,tagNumber:4},name:t.blockName||N,value:[Qn.schema(t.directoryName||{})]}),new SA({idBlock:{tagClass:3,tagNumber:5},name:t.blockName||N,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new li({value:[new TC,new Ym,new OC,new Qm,new CC]})]}),new SA({idBlock:{tagClass:3,tagNumber:1},value:[new li({value:[new TC,new Ym,new OC,new Qm,new CC]})]})]}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:6}}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:7}}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){Le(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);let t=Te(e,e,yw.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(fe.assertSchema(t,this.className),this.type=t.result.blockName.idBlock.tagNumber,this.type){case 0:this.value=t.result.blockName;break;case 1:case 2:case 6:{let r=t.result.blockName;r.idBlock.tagClass=1,r.idBlock.tagNumber=22;let a=r.toBER(!1),j=qo(a);fe.assert(j,"GeneralName value"),this.value=j.result.valueBlock.value}break;case 3:this.value=t.result.blockName;break;case 4:this.value=new Qn({schema:t.result.directoryName});break;case 5:this.value=t.result.ediPartyName;break;case 7:this.value=new At({valueHex:t.result.blockName.valueBlock.valueHex});break;case 8:{let r=t.result.blockName;r.idBlock.tagClass=1,r.idBlock.tagNumber=6;let a=r.toBER(!1),j=qo(a);fe.assert(j,"GeneralName registeredID"),this.value=j.result.valueBlock.toString()}break}}toSchema(){switch(this.type){case 0:case 3:case 5:return new SA({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{let e=new KL({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 4:return new SA({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{let e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{let e=new Nt({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}default:return yw.schema()}}toJSON(){let e={type:this.type,value:N};if(typeof this.value=="string")e.value=this.value;else try{e.value=this.value.toJSON()}catch{}return e}};Bn.CLASS_NAME="GeneralName";var aS="accessMethod",jS="accessLocation",t2e=[aS,jS],tsA=class A3 extends Ie{constructor(e={}){super(),this.accessMethod=S(e,aS,A3.defaultValues(aS)),this.accessLocation=S(e,jS,A3.defaultValues(jS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case aS:return N;case jS:return new Bn;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.accessMethod||N}),Bn.schema(t.accessLocation||{})]})}fromSchema(e){Le(e,t2e);let t=Te(e,e,A3.schema({names:{accessMethod:aS,accessLocation:{names:{blockName:jS}}}}));fe.assertSchema(t,this.className),this.accessMethod=t.result.accessMethod.valueBlock.toString(),this.accessLocation=new Bn({schema:t.result.accessLocation})}toSchema(){return new iA({value:[new Nt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}};tsA.CLASS_NAME="AccessDescription";var kB="seconds",hB="millis",gB="micros",zb=class vw extends Ie{constructor(e={}){super(),kB in e&&(this.seconds=S(e,kB,vw.defaultValues(kB))),hB in e&&(this.millis=S(e,hB,vw.defaultValues(hB))),gB in e&&(this.micros=S(e,gB,vw.defaultValues(gB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case kB:case hB:case gB:return 0;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case kB:case hB:case gB:return t===vw.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,optional:!0,value:[new Ae({optional:!0,name:t.seconds||N}),new Cr({name:t.millis||N,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Cr({name:t.micros||N,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Le(e,[kB,hB,gB]);let t=Te(e,e,vw.schema({names:{seconds:kB,millis:hB,micros:gB}}));if(fe.assertSchema(t,this.className),"seconds"in t.result&&(this.seconds=t.result.seconds.valueBlock.valueDec),"millis"in t.result){let r=new Ae({valueHex:t.result.millis.valueBlock.valueHex});this.millis=r.valueBlock.valueDec}if("micros"in t.result){let r=new Ae({valueHex:t.result.micros.valueBlock.valueHex});this.micros=r.valueBlock.valueDec}}toSchema(){let e=[];if(this.seconds!==void 0&&e.push(new Ae({value:this.seconds})),this.millis!==void 0){let t=new Ae({value:this.millis});e.push(new Cr({idBlock:{tagClass:3,tagNumber:0},valueHex:t.valueBlock.valueHexView}))}if(this.micros!==void 0){let t=new Ae({value:this.micros});e.push(new Cr({idBlock:{tagClass:3,tagNumber:1},valueHex:t.valueBlock.valueHexView}))}return new iA({value:e})}toJSON(){let e={};return this.seconds!==void 0&&(e.seconds=this.seconds),this.millis!==void 0&&(e.millis=this.millis),this.micros!==void 0&&(e.micros=this.micros),e}};zb.CLASS_NAME="Accuracy";var FK="algorithmId",zP="algorithmParams",Y_A="algorithm",rsA="params",r2e=[Y_A,rsA],te=class nS extends Ie{constructor(e={}){super(),this.algorithmId=S(e,FK,nS.defaultValues(FK)),zP in e&&(this.algorithmParams=S(e,zP,nS.defaultValues(zP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case FK:return N;case zP:return new Dr;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case FK:return t===N;case zP:return t instanceof Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,optional:t.optional||!1,value:[new Nt({name:t.algorithmIdentifier||N}),new Dr({name:t.algorithmParams||N,optional:!0})]})}fromSchema(e){Le(e,r2e);let t=Te(e,e,nS.schema({names:{algorithmIdentifier:Y_A,algorithmParams:rsA}}));fe.assertSchema(t,this.className),this.algorithmId=t.result.algorithm.valueBlock.toString(),rsA in t.result&&(this.algorithmParams=t.result.params)}toSchema(){let e=[];return e.push(new Nt({value:this.algorithmId})),this.algorithmParams&&!(this.algorithmParams instanceof Dr)&&e.push(this.algorithmParams),new iA({value:e})}toJSON(){let e={algorithmId:this.algorithmId};return this.algorithmParams&&!(this.algorithmParams instanceof Dr)&&(e.algorithmParams=this.algorithmParams.toJSON()),e}isEqual(e){return!(e instanceof nS)||this.algorithmId!==e.algorithmId?!1:this.algorithmParams?e.algorithmParams?JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams):!1:!e.algorithmParams}};te.CLASS_NAME="AlgorithmIdentifier";var Fw="altNames",a2e=[Fw],asA=class jsA extends Ie{constructor(e={}){super(),this.altNames=S(e,Fw,jsA.defaultValues(Fw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Fw:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.altNames||N,value:Bn.schema()})]})}fromSchema(e){Le(e,a2e);let t=Te(e,e,jsA.schema({names:{altNames:Fw}}));fe.assertSchema(t,this.className),Fw in t.result&&(this.altNames=Array.from(t.result.altNames,r=>new Bn({schema:r})))}toSchema(){return new iA({value:Array.from(this.altNames,e=>e.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,e=>e.toJSON())}}};asA.CLASS_NAME="AltName";var Gw="type",ww="values",j2e=[Gw,ww],lo=class e3 extends Ie{constructor(e={}){super(),this.type=S(e,Gw,e3.defaultValues(Gw)),this.values=S(e,ww,e3.defaultValues(ww)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gw:return N;case ww:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Gw:return t===N;case ww:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.type||N}),new oo({name:t.setName||N,value:[new ta({name:t.values||N,value:new Dr})]})]})}fromSchema(e){Le(e,j2e);let t=Te(e,e,e3.schema({names:{type:Gw,values:ww}}));fe.assertSchema(t,this.className),this.type=t.result.type.valueBlock.toString(),this.values=t.result.values}toSchema(){return new iA({value:[new Nt({value:this.type}),new oo({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,e=>e.toJSON())}}};lo.CLASS_NAME="Attribute";var iS="notBeforeTime",oS="notAfterTime",n2e=[iS,oS],tv=class t3 extends Ie{constructor(e={}){super(),this.notBeforeTime=S(e,iS,t3.defaultValues(iS)),this.notAfterTime=S(e,oS,t3.defaultValues(oS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case iS:case oS:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new si({name:t.notBeforeTime||N}),new si({name:t.notAfterTime||N})]})}fromSchema(e){Le(e,n2e);let t=Te(e,e,t3.schema({names:{notBeforeTime:iS,notAfterTime:oS}}));fe.assertSchema(t,this.className),this.notBeforeTime=t.result.notBeforeTime.toDate(),this.notAfterTime=t.result.notAfterTime.toDate()}toSchema(){return new iA({value:[new si({valueDate:this.notBeforeTime}),new si({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}};tv.CLASS_NAME="AttCertValidityPeriod";var MP="names",jTA="generalNames",ul=class nsA extends Ie{constructor(e={}){super(),this.names=S(e,MP,nsA.defaultValues(MP)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"names":return[];default:return super.defaultValues(e)}}static schema(e={},t=!1){let r=S(e,MP,{});return new iA({optional:t,name:r.blockName||N,value:[new ta({name:r.generalNames||N,value:Bn.schema()})]})}fromSchema(e){Le(e,[MP,jTA]);let t=Te(e,e,nsA.schema({names:{blockName:MP,generalNames:jTA}}));fe.assertSchema(t,this.className),this.names=Array.from(t.result.generalNames,r=>new Bn({schema:r}))}toSchema(){return new iA({value:Array.from(this.names,e=>e.toSchema())})}toJSON(){return{names:Array.from(this.names,e=>e.toJSON())}}};ul.CLASS_NAME="GeneralNames";var i2e="2.5.29.9",o2e="2.5.29.14",s2e="2.5.29.15",l2e="2.5.29.16",Z_A="2.5.29.17",Q_A="2.5.29.18",flA="2.5.29.19",c2e="2.5.29.20",u2e="2.5.29.27",d2e="2.5.29.21",m2e="2.5.29.24",ADA="2.5.29.28",eDA="2.5.29.29",tDA="2.5.29.30",rDA="2.5.29.31",BlA="2.5.29.46",aDA="2.5.29.32",wd="2.5.29.32.0",p2e="1.3.6.1.4.1.311.21.10",jDA="2.5.29.33",ElA="2.5.29.35",nDA="2.5.29.36",k2e="2.5.29.37",h2e="2.5.29.54",xlA="1.3.6.1.5.5.7.1.1",g2e="1.3.6.1.5.5.7.1.11",f2e="1.3.6.1.4.1.11129.2.4.2",B2e="1.3.6.1.4.1.311.21.7",E2e="1.3.6.1.4.1.311.21.1",x2e="1.3.6.1.5.5.7.1.3",blA="1.2.840.113549.1.7.1",iDA="1.2.840.113549.1.7.2",oDA="1.2.840.113549.1.7.3",sDA="1.2.840.113549.1.7.6",b2e="1.2.840.113549.1.9.16.1.4",nTA="1.2.840.113549.1.9.22.1",y2e="1.2.840.113549.1.9.22.2",iTA="1.2.840.113549.1.9.22.3",oTA="1.2.840.113549.1.9.23.1",v2e="1.3.6.1.5.5.7",ylA=`${v2e}.48`,r3=`${ylA}.1.1`,GVt=`${ylA}.2`,wVt=`${ylA}.1`,Mb="keyIdentifier",Rb="authorityCertIssuer",Kb="authorityCertSerialNumber",F2e=[Mb,Rb,Kb],vlA=class sS extends Ie{constructor(e={}){super(),Mb in e&&(this.keyIdentifier=S(e,Mb,sS.defaultValues(Mb))),Rb in e&&(this.authorityCertIssuer=S(e,Rb,sS.defaultValues(Rb))),Kb in e&&(this.authorityCertSerialNumber=S(e,Kb,sS.defaultValues(Kb))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Mb:return new At;case Rb:return[];case Kb:return new Ae;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Cr({name:t.keyIdentifier||N,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ta({name:t.authorityCertIssuer||N,value:Bn.schema()})]}),new Cr({name:t.authorityCertSerialNumber||N,optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){Le(e,F2e);let t=Te(e,e,sS.schema({names:{keyIdentifier:Mb,authorityCertIssuer:Rb,authorityCertSerialNumber:Kb}}));fe.assertSchema(t,this.className),Mb in t.result&&(this.keyIdentifier=new At({valueHex:t.result.keyIdentifier.valueBlock.valueHex})),Rb in t.result&&(this.authorityCertIssuer=Array.from(t.result.authorityCertIssuer,r=>new Bn({schema:r}))),Kb in t.result&&(this.authorityCertSerialNumber=new Ae({valueHex:t.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){let e=[];return this.keyIdentifier&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,t=>t.toSchema())})),this.authorityCertSerialNumber&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new iA({value:e})}toJSON(){let e={};return this.keyIdentifier&&(e.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,t=>t.toJSON())),this.authorityCertSerialNumber&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}};vlA.CLASS_NAME="AuthorityKeyIdentifier";var Tb="pathLenConstraint",_b="cA",FlA=class a3 extends Ie{constructor(e={}){super(),this.cA=S(e,_b,!1),Tb in e&&(this.pathLenConstraint=S(e,Tb,0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _b:return!1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new zk({optional:!0,name:t.cA||N}),new Ae({optional:!0,name:t.pathLenConstraint||N})]})}fromSchema(e){Le(e,[_b,Tb]);let t=Te(e,e,a3.schema({names:{cA:_b,pathLenConstraint:Tb}}));fe.assertSchema(t,this.className),_b in t.result&&(this.cA=t.result.cA.valueBlock.value),Tb in t.result&&(t.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=t.result.pathLenConstraint:this.pathLenConstraint=t.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){let e=[];return this.cA!==a3.defaultValues(_b)&&e.push(new zk({value:this.cA})),Tb in this&&(this.pathLenConstraint instanceof Ae?e.push(this.pathLenConstraint):e.push(new Ae({value:this.pathLenConstraint}))),new iA({value:e})}toJSON(){let e={};return this.cA!==a3.defaultValues(_b)&&(e.cA=this.cA),Tb in this&&(this.pathLenConstraint instanceof Ae?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}};FlA.CLASS_NAME="BasicConstraints";var moA="certificateIndex",poA="keyIndex",lDA=class isA extends Ie{constructor(e={}){super(),this.certificateIndex=S(e,moA,isA.defaultValues(moA)),this.keyIndex=S(e,poA,isA.defaultValues(poA)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case moA:case poA:return 0;default:return super.defaultValues(e)}}static schema(){return new Ae}fromSchema(e){if(e.constructor.blockName()!==Ae.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let t=e.valueBlock.valueHex.slice(0),r=new Uint8Array(t);switch(!0){case t.byteLength<4:{let u=new ArrayBuffer(4);new Uint8Array(u).set(r,4-t.byteLength),t=u.slice(0)}break;case t.byteLength>4:{let u=new ArrayBuffer(4);new Uint8Array(u).set(r.slice(0,4)),t=u.slice(0)}break}let a=t.slice(0,2),j=new Uint8Array(a),n=j[0];j[0]=j[1],j[1]=n;let i=new Uint16Array(a);this.keyIndex=i[0];let o=t.slice(2),s=new Uint8Array(o);n=s[0],s[0]=s[1],s[1]=n;let c=new Uint16Array(o);this.certificateIndex=c[0]}toSchema(){let e=new ArrayBuffer(2),t=new Uint16Array(e);t[0]=this.certificateIndex;let r=new Uint8Array(e),a=r[0];r[0]=r[1],r[1]=a;let j=new ArrayBuffer(2),n=new Uint16Array(j);n[0]=this.keyIndex;let i=new Uint8Array(j);return a=i[0],i[0]=i[1],i[1]=a,new Ae({valueHex:a1(j,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}};lDA.CLASS_NAME="CAVersion";var lS="policyQualifierId",cS="qualifier",G2e=[lS,cS],osA=class j3 extends Ie{constructor(e={}){super(),this.policyQualifierId=S(e,lS,j3.defaultValues(lS)),this.qualifier=S(e,cS,j3.defaultValues(cS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case lS:return N;case cS:return new Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.policyQualifierId||N}),new Dr({name:t.qualifier||N})]})}fromSchema(e){Le(e,G2e);let t=Te(e,e,j3.schema({names:{policyQualifierId:lS,qualifier:cS}}));fe.assertSchema(t,this.className),this.policyQualifierId=t.result.policyQualifierId.valueBlock.toString(),this.qualifier=t.result.qualifier}toSchema(){return new iA({value:[new Nt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}};osA.CLASS_NAME="PolicyQualifierInfo";var uS="policyIdentifier",Lb="policyQualifiers",w2e=[uS,Lb],ssA=class n3 extends Ie{constructor(e={}){super(),this.policyIdentifier=S(e,uS,n3.defaultValues(uS)),Lb in e&&(this.policyQualifiers=S(e,Lb,n3.defaultValues(Lb))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case uS:return N;case Lb:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.policyIdentifier||N}),new iA({optional:!0,value:[new ta({name:t.policyQualifiers||N,value:osA.schema()})]})]})}fromSchema(e){Le(e,w2e);let t=Te(e,e,n3.schema({names:{policyIdentifier:uS,policyQualifiers:Lb}}));fe.assertSchema(t,this.className),this.policyIdentifier=t.result.policyIdentifier.valueBlock.toString(),Lb in t.result&&(this.policyQualifiers=Array.from(t.result.policyQualifiers,r=>new osA({schema:r})))}toSchema(){let e=[];return e.push(new Nt({value:this.policyIdentifier})),this.policyQualifiers&&e.push(new iA({value:Array.from(this.policyQualifiers,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(e.policyQualifiers=Array.from(this.policyQualifiers,t=>t.toJSON())),e}};ssA.CLASS_NAME="PolicyInformation";var dS="certificatePolicies",q2e=[dS],lsA=class csA extends Ie{constructor(e={}){super(),this.certificatePolicies=S(e,dS,csA.defaultValues(dS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dS:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.certificatePolicies||N,value:ssA.schema()})]})}fromSchema(e){Le(e,q2e);let t=Te(e,e,csA.schema({names:{certificatePolicies:dS}}));fe.assertSchema(t,this.className),this.certificatePolicies=Array.from(t.result.certificatePolicies,r=>new ssA({schema:r}))}toSchema(){return new iA({value:Array.from(this.certificatePolicies,e=>e.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,e=>e.toJSON())}}};lsA.CLASS_NAME="CertificatePolicies";var mS="templateID",Nh="templateMajorVersion",Uh="templateMinorVersion",$2e=[mS,Nh,Uh],I2e=class pS extends Ie{constructor(e={}){super(),this.templateID=S(e,mS,pS.defaultValues(mS)),Nh in e&&(this.templateMajorVersion=S(e,Nh,pS.defaultValues(Nh))),Uh in e&&(this.templateMinorVersion=S(e,Uh,pS.defaultValues(Uh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mS:return N;case Nh:case Uh:return 0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.templateID||N}),new Ae({name:t.templateMajorVersion||N,optional:!0}),new Ae({name:t.templateMinorVersion||N,optional:!0})]})}fromSchema(e){Le(e,$2e);let t=Te(e,e,pS.schema({names:{templateID:mS,templateMajorVersion:Nh,templateMinorVersion:Uh}}));fe.assertSchema(t,this.className),this.templateID=t.result.templateID.valueBlock.toString(),Nh in t.result&&(this.templateMajorVersion=t.result.templateMajorVersion.valueBlock.valueDec),Uh in t.result&&(this.templateMinorVersion=t.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){let e=[];return e.push(new Nt({value:this.templateID})),Nh in this&&e.push(new Ae({value:this.templateMajorVersion})),Uh in this&&e.push(new Ae({value:this.templateMinorVersion})),new iA({value:e})}toJSON(){let e={templateID:this.templateID};return Nh in this&&(e.templateMajorVersion=this.templateMajorVersion),Uh in this&&(e.templateMinorVersion=this.templateMinorVersion),e}},Nb="distributionPoint",cDA="distributionPointNames",Ub="reasons",Hb="cRLIssuer",uDA="cRLIssuerNames",P2e=[Nb,cDA,Ub,Hb,uDA],usA=class kS extends Ie{constructor(e={}){super(),Nb in e&&(this.distributionPoint=S(e,Nb,kS.defaultValues(Nb))),Ub in e&&(this.reasons=S(e,Ub,kS.defaultValues(Ub))),Hb in e&&(this.cRLIssuer=S(e,Hb,kS.defaultValues(Hb))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Nb:return[];case Ub:return new Qa;case Hb:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new li({value:[new SA({name:t.distributionPoint||N,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ta({name:t.distributionPointNames||N,value:Bn.schema()})]}),new SA({name:t.distributionPoint||N,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Qn.schema().valueBlock.value})]})]}),new Cr({name:t.reasons||N,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new SA({name:t.cRLIssuer||N,optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new ta({name:t.cRLIssuerNames||N,value:Bn.schema()})]})]})}fromSchema(e){Le(e,P2e);let t=Te(e,e,kS.schema({names:{distributionPoint:Nb,distributionPointNames:cDA,reasons:Ub,cRLIssuer:Hb,cRLIssuerNames:uDA}}));fe.assertSchema(t,this.className),Nb in t.result&&(t.result.distributionPoint.idBlock.tagNumber===0&&(this.distributionPoint=Array.from(t.result.distributionPointNames,r=>new Bn({schema:r}))),t.result.distributionPoint.idBlock.tagNumber===1&&(this.distributionPoint=new Qn({schema:new iA({value:t.result.distributionPoint.valueBlock.value})}))),Ub in t.result&&(this.reasons=new Qa({valueHex:t.result.reasons.valueBlock.valueHex})),Hb in t.result&&(this.cRLIssuer=Array.from(t.result.cRLIssuerNames,r=>new Bn({schema:r})))}toSchema(){let e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new SA({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,r=>r.toSchema())}):t=new SA({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}return this.reasons&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&e.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,t=>t.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.reasons&&(e.reasons=this.reasons.toJSON()),this.cRLIssuer&&(e.cRLIssuer=Array.from(this.cRLIssuer,t=>t.toJSON())),e}};usA.CLASS_NAME="DistributionPoint";var hS="distributionPoints",S2e=[hS],kL=class dsA extends Ie{constructor(e={}){super(),this.distributionPoints=S(e,hS,dsA.defaultValues(hS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hS:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.distributionPoints||N,value:usA.schema()})]})}fromSchema(e){Le(e,S2e);let t=Te(e,e,dsA.schema({names:{distributionPoints:hS}}));fe.assertSchema(t,this.className),this.distributionPoints=Array.from(t.result.distributionPoints,r=>new usA({schema:r}))}toSchema(){return new iA({value:Array.from(this.distributionPoints,e=>e.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,e=>e.toJSON())}}};kL.CLASS_NAME="CRLDistributionPoints";var gS="keyPurposes",C2e=[gS],dDA=class msA extends Ie{constructor(e={}){super(),this.keyPurposes=S(e,gS,msA.defaultValues(gS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gS:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.keyPurposes||N,value:new Nt})]})}fromSchema(e){Le(e,C2e);let t=Te(e,e,msA.schema({names:{keyPurposes:gS}}));fe.assertSchema(t,this.className),this.keyPurposes=Array.from(t.result.keyPurposes,r=>r.valueBlock.toString())}toSchema(){return new iA({value:Array.from(this.keyPurposes,e=>new Nt({value:e}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}};dDA.CLASS_NAME="ExtKeyUsage";var RP="accessDescriptions",psA=class ksA extends Ie{constructor(e={}){super(),this.accessDescriptions=S(e,RP,ksA.defaultValues(RP)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case RP:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.accessDescriptions||N,value:tsA.schema()})]})}fromSchema(e){Le(e,[RP]);let t=Te(e,e,ksA.schema({names:{accessDescriptions:RP}}));fe.assertSchema(t,this.className),this.accessDescriptions=Array.from(t.result.accessDescriptions,r=>new tsA({schema:r}))}toSchema(){return new iA({value:Array.from(this.accessDescriptions,e=>e.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,e=>e.toJSON())}}};psA.CLASS_NAME="InfoAccess";var Vb="distributionPoint",mDA="distributionPointNames",fB="onlyContainsUserCerts",BB="onlyContainsCACerts",EB="onlySomeReasons",xB="indirectCRL",bB="onlyContainsAttributeCerts",O2e=[Vb,mDA,fB,BB,EB,xB,bB],pDA=class Ul extends Ie{constructor(e={}){super(),Vb in e&&(this.distributionPoint=S(e,Vb,Ul.defaultValues(Vb))),this.onlyContainsUserCerts=S(e,fB,Ul.defaultValues(fB)),this.onlyContainsCACerts=S(e,BB,Ul.defaultValues(BB)),EB in e&&(this.onlySomeReasons=S(e,EB,Ul.defaultValues(EB))),this.indirectCRL=S(e,xB,Ul.defaultValues(xB)),this.onlyContainsAttributeCerts=S(e,bB,Ul.defaultValues(bB)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vb:return[];case fB:return!1;case BB:return!1;case EB:return 0;case xB:return!1;case bB:return!1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new li({value:[new SA({name:t.distributionPoint||N,idBlock:{tagClass:3,tagNumber:0},value:[new ta({name:t.distributionPointNames||N,value:Bn.schema()})]}),new SA({name:t.distributionPoint||N,idBlock:{tagClass:3,tagNumber:1},value:Qn.schema().valueBlock.value})]})]}),new Cr({name:t.onlyContainsUserCerts||N,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Cr({name:t.onlyContainsCACerts||N,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new Cr({name:t.onlySomeReasons||N,optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new Cr({name:t.indirectCRL||N,optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new Cr({name:t.onlyContainsAttributeCerts||N,optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){Le(e,O2e);let t=Te(e,e,Ul.schema({names:{distributionPoint:Vb,distributionPointNames:mDA,onlyContainsUserCerts:fB,onlyContainsCACerts:BB,onlySomeReasons:EB,indirectCRL:xB,onlyContainsAttributeCerts:bB}}));if(fe.assertSchema(t,this.className),Vb in t.result)switch(!0){case t.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(t.result.distributionPointNames,r=>new Bn({schema:r}));break;case t.result.distributionPoint.idBlock.tagNumber===1:this.distributionPoint=new Qn({schema:new iA({value:t.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(fB in t.result){let r=new Uint8Array(t.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=r[0]!==0}if(BB in t.result){let r=new Uint8Array(t.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=r[0]!==0}if(EB in t.result){let r=new Uint8Array(t.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=r[0]}if(xB in t.result){let r=new Uint8Array(t.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=r[0]!==0}if(bB in t.result){let r=new Uint8Array(t.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=r[0]!==0}}toSchema(){let e=[];if(this.distributionPoint){let t;this.distributionPoint instanceof Array?t=new SA({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,r=>r.toSchema())}):(t=this.distributionPoint.toSchema(),t.idBlock.tagClass=3,t.idBlock.tagNumber=1),e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(this.onlyContainsUserCerts!==Ul.defaultValues(fB)&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==Ul.defaultValues(BB)&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),this.onlySomeReasons!==void 0){let t=new ArrayBuffer(1),r=new Uint8Array(t);r[0]=this.onlySomeReasons,e.push(new Cr({idBlock:{tagClass:3,tagNumber:3},valueHex:t}))}return this.indirectCRL!==Ul.defaultValues(xB)&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==Ul.defaultValues(bB)&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new iA({value:e})}toJSON(){let e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,t=>t.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==Ul.defaultValues(fB)&&(e.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==Ul.defaultValues(BB)&&(e.onlyContainsCACerts=this.onlyContainsCACerts),EB in this&&(e.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==Ul.defaultValues(xB)&&(e.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==Ul.defaultValues(bB)&&(e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),e}};pDA.CLASS_NAME="IssuingDistributionPoint";var fS="base",qw="minimum",yB="maximum",T2e=[fS,qw,yB],BS=class ES extends Ie{constructor(e={}){super(),this.base=S(e,fS,ES.defaultValues(fS)),this.minimum=S(e,qw,ES.defaultValues(qw)),yB in e&&(this.maximum=S(e,yB,ES.defaultValues(yB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fS:return new Bn;case qw:return 0;case yB:return 0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[Bn.schema(t.base||{}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ae({name:t.minimum||N})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ae({name:t.maximum||N})]})]})}fromSchema(e){Le(e,T2e);let t=Te(e,e,ES.schema({names:{base:{names:{blockName:fS}},minimum:qw,maximum:yB}}));fe.assertSchema(t,this.className),this.base=new Bn({schema:t.result.base}),qw in t.result&&(t.result.minimum.valueBlock.isHexOnly?this.minimum=t.result.minimum:this.minimum=t.result.minimum.valueBlock.valueDec),yB in t.result&&(t.result.maximum.valueBlock.isHexOnly?this.maximum=t.result.maximum:this.maximum=t.result.maximum.valueBlock.valueDec)}toSchema(){let e=[];if(e.push(this.base.toSchema()),this.minimum!==0){let t=0;this.minimum instanceof Ae?t=this.minimum:t=new Ae({value:this.minimum}),e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[t]}))}if(yB in this){let t=0;this.maximum instanceof Ae?t=this.maximum:t=new Ae({value:this.maximum}),e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[t]}))}return new iA({value:e})}toJSON(){let e={base:this.base.toJSON()};return this.minimum!==0&&(typeof this.minimum=="number"?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),this.maximum!==void 0&&(typeof this.maximum=="number"?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}};BS.CLASS_NAME="GeneralSubtree";var Xb="permittedSubtrees",Wb="excludedSubtrees",_2e=[Xb,Wb],kDA=class i3 extends Ie{constructor(e={}){super(),Xb in e&&(this.permittedSubtrees=S(e,Xb,i3.defaultValues(Xb))),Wb in e&&(this.excludedSubtrees=S(e,Wb,i3.defaultValues(Wb))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xb:case Wb:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ta({name:t.permittedSubtrees||N,value:BS.schema()})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ta({name:t.excludedSubtrees||N,value:BS.schema()})]})]})}fromSchema(e){Le(e,_2e);let t=Te(e,e,i3.schema({names:{permittedSubtrees:Xb,excludedSubtrees:Wb}}));fe.assertSchema(t,this.className),Xb in t.result&&(this.permittedSubtrees=Array.from(t.result.permittedSubtrees,r=>new BS({schema:r}))),Wb in t.result&&(this.excludedSubtrees=Array.from(t.result.excludedSubtrees,r=>new BS({schema:r})))}toSchema(){let e=[];return this.permittedSubtrees&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,t=>t.toSchema())})),this.excludedSubtrees&&e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={};return this.permittedSubtrees&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,t=>t.toJSON())),this.excludedSubtrees&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,t=>t.toJSON())),e}};kDA.CLASS_NAME="NameConstraints";var Hh="requireExplicitPolicy",Vh="inhibitPolicyMapping",D2e=[Hh,Vh],hDA=class o3 extends Ie{constructor(e={}){super(),Hh in e&&(this.requireExplicitPolicy=S(e,Hh,o3.defaultValues(Hh))),Vh in e&&(this.inhibitPolicyMapping=S(e,Vh,o3.defaultValues(Vh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hh:return 0;case Vh:return 0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Cr({name:t.requireExplicitPolicy||N,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Cr({name:t.inhibitPolicyMapping||N,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Le(e,D2e);let t=Te(e,e,o3.schema({names:{requireExplicitPolicy:Hh,inhibitPolicyMapping:Vh}}));if(fe.assertSchema(t,this.className),Hh in t.result){let r=t.result.requireExplicitPolicy;r.idBlock.tagClass=1,r.idBlock.tagNumber=2;let a=r.toBER(!1),j=qo(a);fe.assert(j,"Integer"),this.requireExplicitPolicy=j.result.valueBlock.valueDec}if(Vh in t.result){let r=t.result.inhibitPolicyMapping;r.idBlock.tagClass=1,r.idBlock.tagNumber=2;let a=r.toBER(!1),j=qo(a);fe.assert(j,"Integer"),this.inhibitPolicyMapping=j.result.valueBlock.valueDec}}toSchema(){let e=[];if(Hh in this){let t=new Ae({value:this.requireExplicitPolicy});t.idBlock.tagClass=3,t.idBlock.tagNumber=0,e.push(t)}if(Vh in this){let t=new Ae({value:this.inhibitPolicyMapping});t.idBlock.tagClass=3,t.idBlock.tagNumber=1,e.push(t)}return new iA({value:e})}toJSON(){let e={};return Hh in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),Vh in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}};hDA.CLASS_NAME="PolicyConstraints";var xS="issuerDomainPolicy",bS="subjectDomainPolicy",z2e=[xS,bS],hsA=class s3 extends Ie{constructor(e={}){super(),this.issuerDomainPolicy=S(e,xS,s3.defaultValues(xS)),this.subjectDomainPolicy=S(e,bS,s3.defaultValues(bS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xS:return N;case bS:return N;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.issuerDomainPolicy||N}),new Nt({name:t.subjectDomainPolicy||N})]})}fromSchema(e){Le(e,z2e);let t=Te(e,e,s3.schema({names:{issuerDomainPolicy:xS,subjectDomainPolicy:bS}}));fe.assertSchema(t,this.className),this.issuerDomainPolicy=t.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=t.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new iA({value:[new Nt({value:this.issuerDomainPolicy}),new Nt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}};hsA.CLASS_NAME="PolicyMapping";var yS="mappings",M2e=[yS],gDA=class gsA extends Ie{constructor(e={}){super(),this.mappings=S(e,yS,gsA.defaultValues(yS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case yS:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.mappings||N,value:hsA.schema()})]})}fromSchema(e){Le(e,M2e);let t=Te(e,e,gsA.schema({names:{mappings:yS}}));fe.assertSchema(t,this.className),this.mappings=Array.from(t.result.mappings,r=>new hsA({schema:r}))}toSchema(){return new iA({value:Array.from(this.mappings,e=>e.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,e=>e.toJSON())}}};gDA.CLASS_NAME="PolicyMappings";var vB="notBefore",FB="notAfter",R2e=[vB,FB],fDA=class l3 extends Ie{constructor(e={}){super(),vB in e&&(this.notBefore=S(e,vB,l3.defaultValues(vB))),FB in e&&(this.notAfter=S(e,FB,l3.defaultValues(FB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vB:return new Date;case FB:return new Date;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Cr({name:t.notBefore||N,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new Cr({name:t.notAfter||N,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){Le(e,R2e);let t=Te(e,e,l3.schema({names:{notBefore:vB,notAfter:FB}}));if(fe.assertSchema(t,this.className),vB in t.result){let r=new si;r.fromBuffer(t.result.notBefore.valueBlock.valueHex),this.notBefore=r.toDate()}if(FB in t.result){let r=new si({valueHex:t.result.notAfter.valueBlock.valueHex});r.fromBuffer(t.result.notAfter.valueBlock.valueHex),this.notAfter=r.toDate()}}toSchema(){let e=[];return vB in this&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:0},valueHex:new si({valueDate:this.notBefore}).valueBlock.valueHexView})),FB in this&&e.push(new Cr({idBlock:{tagClass:3,tagNumber:1},valueHex:new si({valueDate:this.notAfter}).valueBlock.valueHexView})),new iA({value:e})}toJSON(){let e={};return this.notBefore&&(e.notBefore=this.notBefore),this.notAfter&&(e.notAfter=this.notAfter),e}};fDA.CLASS_NAME="PrivateKeyUsagePeriod";var $w="id",Xh="type",Iw="values",K2e=[$w,Xh],L2e=[Iw],fsA=class c3 extends Ie{constructor(e={}){super(),this.id=S(e,$w,c3.defaultValues($w)),Xh in e&&(this.type=S(e,Xh,c3.defaultValues(Xh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $w:return N;case Xh:return new io;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $w:return t===N;case Xh:return t instanceof io;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.id||N}),new Dr({name:t.type||N,optional:!0})]})}fromSchema(e){Le(e,K2e);let t=Te(e,e,c3.schema({names:{id:$w,type:Xh}}));fe.assertSchema(t,this.className),this.id=t.result.id.valueBlock.toString(),Xh in t.result&&(this.type=t.result.type)}toSchema(){let e=[new Nt({value:this.id})];return Xh in this&&e.push(this.type),new iA({value:e})}toJSON(){let e={id:this.id};return this.type&&(e.type=this.type.toJSON()),e}};fsA.CLASS_NAME="QCStatement";var BDA=class BsA extends Ie{constructor(e={}){super(),this.values=S(e,Iw,BsA.defaultValues(Iw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Iw:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Iw:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.values||N,value:fsA.schema(t.value||{})})]})}fromSchema(e){Le(e,L2e);let t=Te(e,e,BsA.schema({names:{values:Iw}}));fe.assertSchema(t,this.className),this.values=Array.from(t.result.values,r=>new fsA({schema:r}))}toSchema(){return new iA({value:Array.from(this.values,e=>e.toSchema())})}toJSON(){return{values:Array.from(this.values,e=>e.toJSON())}}};BDA.CLASS_NAME="QCStatements";var Jb,cE=class{static register(A,e,t){this.namedCurves[A.toLowerCase()]=this.namedCurves[e]={name:A,id:e,size:t}}static find(A){return this.namedCurves[A.toLowerCase()]||null}};Jb=cE;cE.namedCurves={};Jb.register("P-256","1.2.840.10045.3.1.7",32),Jb.register("P-384","1.3.132.0.34",48),Jb.register("P-521","1.3.132.0.35",66),Jb.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Jb.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Jb.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);var GK="x",wK="y",qK="namedCurve",og=class Pw extends Ie{constructor(e={}){super(),this.x=S(e,GK,Pw.defaultValues(GK)),this.y=S(e,wK,Pw.defaultValues(wK)),this.namedCurve=S(e,qK,Pw.defaultValues(qK)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case GK:case wK:return $o;case qK:return N;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case GK:case wK:return t instanceof ArrayBuffer&&s1(t,Pw.defaultValues(e));case qK:return typeof t=="string"&&t===Pw.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new pL}fromSchema(e){let t=_r.toUint8Array(e);if(t[0]!==4)throw new Error("Object's schema was not verified against input data for ECPublicKey");let r=cE.find(this.namedCurve);if(!r)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);let a=r.size;if(t.byteLength!==a*2+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=r.name,this.x=t.slice(1,a+1).buffer,this.y=t.slice(1+a,a*2+1).buffer}toSchema(){return new pL({data:a1(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){let e=cE.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:YoA(dL(this.x),!0,!0,!1),y:YoA(dL(this.y),!0,!0,!1)}}fromJSON(e){Tj.assert("json",e,"crv","x","y");let t=0,r=cE.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);let a=l1(PC(e.x,!0));if(a.byteLength<t){this.x=new ArrayBuffer(t);let n=new Uint8Array(this.x),i=new Uint8Array(a);n.set(i,1)}else this.x=a.slice(0,t);let j=l1(PC(e.y,!0));if(j.byteLength<t){this.y=new ArrayBuffer(t);let n=new Uint8Array(this.y),i=new Uint8Array(j);n.set(i,1)}else this.y=j.slice(0,t)}};og.CLASS_NAME="ECPublicKey";var vS="modulus",FS="publicExponent",N2e=[vS,FS],EsA=class u3 extends Ie{constructor(e={}){super(),this.modulus=S(e,vS,u3.defaultValues(vS)),this.publicExponent=S(e,FS,u3.defaultValues(FS)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vS:return new Ae;case FS:return new Ae;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.modulus||N}),new Ae({name:t.publicExponent||N})]})}fromSchema(e){Le(e,N2e);let t=Te(e,e,u3.schema({names:{modulus:vS,publicExponent:FS}}));fe.assertSchema(t,this.className),this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent}toSchema(){return new iA({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:ja.ToBase64Url(this.modulus.valueBlock.valueHexView),e:ja.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){Tj.assert("json",e,"n","e");let t=l1(PC(e.n,!0));this.modulus=new Ae({valueHex:t.slice(0,Math.pow(2,zSe(t.byteLength)))}),this.publicExponent=new Ae({valueHex:l1(PC(e.e,!0)).slice(0,3)})}};EsA.CLASS_NAME="RSAPublicKey";var GS="algorithm",wS="subjectPublicKey",U2e=[GS,wS],Zm=class d3 extends Ie{constructor(e={}){super(),this.algorithm=S(e,GS,d3.defaultValues(GS)),this.subjectPublicKey=S(e,wS,d3.defaultValues(wS));let t=S(e,"parsedKey",null);t&&(this.parsedKey=t),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}get parsedKey(){if(this._parsedKey===void 0){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Nt.blockName())try{this._parsedKey=new og({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch{}break;case"1.2.840.113549.1.1.1":{let e=qo(this.subjectPublicKey.valueBlock.valueHexView);if(e.offset!==-1)try{this._parsedKey=new EsA({schema:e.result})}catch{}}break}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(e){this._parsedKey=e}static defaultValues(e){switch(e){case GS:return new te;case wS:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.algorithm||{}),new Qa({name:t.subjectPublicKey||N})]})}fromSchema(e){Le(e,U2e);let t=Te(e,e,d3.schema({names:{algorithm:{names:{blockName:GS}},subjectPublicKey:wS}}));fe.assertSchema(t,this.className),this.algorithm=new te({schema:t.result.algorithm}),this.subjectPublicKey=t.result.subjectPublicKey}toSchema(){return new iA({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};let e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}let t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new og({json:e}),this.algorithm=new te({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Nt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new EsA({json:e}),this.algorithm=new te({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new io});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new Qa({valueHex:this.parsedKey.toSchema().toBER(!1)})}}async importKey(e,t=Fa(!0)){try{if(!e)throw new Error("Need to provide publicKey input parameter");let r=await t.exportKey("spki",e),a=qo(r);try{this.fromSchema(a.result)}catch{throw new Error("Error during initializing object from schema")}}catch(r){let a=r instanceof Error?r.message:`${r}`;throw new Error(`Error during exporting public key: ${a}`)}}};Zm.CLASS_NAME="PublicKeyInfo";var Sw="version",Cw="privateKey",Nm="namedCurve",GB="publicKey",H2e=[Sw,Cw,Nm,GB],xsA=class Wh extends Ie{constructor(e={}){super(),this.version=S(e,Sw,Wh.defaultValues(Sw)),this.privateKey=S(e,Cw,Wh.defaultValues(Cw)),Nm in e&&(this.namedCurve=S(e,Nm,Wh.defaultValues(Nm))),GB in e&&(this.publicKey=S(e,GB,Wh.defaultValues(GB))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sw:return 1;case Cw:return new At;case Nm:return N;case GB:return new og;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Sw:return t===Wh.defaultValues(e);case Cw:return t.isEqual(Wh.defaultValues(e));case Nm:return t===N;case GB:return og.compareWithDefault(Nm,t.namedCurve)&&og.compareWithDefault("x",t.x)&&og.compareWithDefault("y",t.y);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new At({name:t.privateKey||N}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Nt({name:t.namedCurve||N})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Qa({name:t.publicKey||N})]})]})}fromSchema(e){Le(e,H2e);let t=Te(e,e,Wh.schema({names:{version:Sw,privateKey:Cw,namedCurve:Nm,publicKey:GB}}));if(fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKey=t.result.privateKey,Nm in t.result&&(this.namedCurve=t.result.namedCurve.valueBlock.toString()),GB in t.result){let r={schema:t.result.publicKey.valueBlock.valueHex};Nm in this&&(r.namedCurve=this.namedCurve),this.publicKey=new og(r)}}toSchema(){let e=[new Ae({value:this.version}),this.privateKey];return this.namedCurve&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Nt({value:this.namedCurve})]})),this.publicKey&&e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[new Qa({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new iA({value:e})}toJSON(){if(!this.namedCurve||Wh.compareWithDefault(Nm,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let e=cE.find(this.namedCurve),t={crv:e?e.name:this.namedCurve,d:ja.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){let r=this.publicKey.toJSON();t.x=r.x,t.y=r.y}return t}fromJSON(e){Tj.assert("json",e,"crv","d");let t=0,r=cE.find(e.crv);r&&(this.namedCurve=r.id,t=r.size);let a=ja.FromBase64Url(e.d);if(a.byteLength<t){let j=new ArrayBuffer(t),n=new Uint8Array(j),i=new Uint8Array(a);n.set(i,1),this.privateKey=new At({valueHex:j})}else this.privateKey=new At({valueHex:a.slice(0,t)});e.x&&e.y&&(this.publicKey=new og({json:e}))}};xsA.CLASS_NAME="ECPrivateKey";var qS="prime",$S="exponent",IS="coefficient",V2e=[qS,$S,IS],m3=class PS extends Ie{constructor(e={}){super(),this.prime=S(e,qS,PS.defaultValues(qS)),this.exponent=S(e,$S,PS.defaultValues($S)),this.coefficient=S(e,IS,PS.defaultValues(IS)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case qS:return new Ae;case $S:return new Ae;case IS:return new Ae;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.prime||N}),new Ae({name:t.exponent||N}),new Ae({name:t.coefficient||N})]})}fromSchema(e){Le(e,V2e);let t=Te(e,e,PS.schema({names:{prime:qS,exponent:$S,coefficient:IS}}));fe.assertSchema(t,this.className),this.prime=t.result.prime.convertFromDER(),this.exponent=t.result.exponent.convertFromDER(),this.coefficient=t.result.coefficient.convertFromDER()}toSchema(){return new iA({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:ja.ToBase64Url(this.prime.valueBlock.valueHexView),d:ja.ToBase64Url(this.exponent.valueBlock.valueHexView),t:ja.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){Tj.assert("json",e,"r","d","r"),this.prime=new Ae({valueHex:ja.FromBase64Url(e.r)}),this.exponent=new Ae({valueHex:ja.FromBase64Url(e.d)}),this.coefficient=new Ae({valueHex:ja.FromBase64Url(e.t)})}};m3.CLASS_NAME="OtherPrimeInfo";var SS="version",CS="modulus",OS="publicExponent",TS="privateExponent",_S="prime1",DS="prime2",zS="exponent1",MS="exponent2",RS="coefficient",Yb="otherPrimeInfos",X2e=[SS,CS,OS,TS,_S,DS,zS,MS,RS,Yb],bsA=class $d extends Ie{constructor(e={}){super(),this.version=S(e,SS,$d.defaultValues(SS)),this.modulus=S(e,CS,$d.defaultValues(CS)),this.publicExponent=S(e,OS,$d.defaultValues(OS)),this.privateExponent=S(e,TS,$d.defaultValues(TS)),this.prime1=S(e,_S,$d.defaultValues(_S)),this.prime2=S(e,DS,$d.defaultValues(DS)),this.exponent1=S(e,zS,$d.defaultValues(zS)),this.exponent2=S(e,MS,$d.defaultValues(MS)),this.coefficient=S(e,RS,$d.defaultValues(RS)),Yb in e&&(this.otherPrimeInfos=S(e,Yb,$d.defaultValues(Yb))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case SS:return 0;case CS:return new Ae;case OS:return new Ae;case TS:return new Ae;case _S:return new Ae;case DS:return new Ae;case zS:return new Ae;case MS:return new Ae;case RS:return new Ae;case Yb:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new Ae({name:t.modulus||N}),new Ae({name:t.publicExponent||N}),new Ae({name:t.privateExponent||N}),new Ae({name:t.prime1||N}),new Ae({name:t.prime2||N}),new Ae({name:t.exponent1||N}),new Ae({name:t.exponent2||N}),new Ae({name:t.coefficient||N}),new iA({optional:!0,value:[new ta({name:t.otherPrimeInfosName||N,value:m3.schema(t.otherPrimeInfo||{})})]})]})}fromSchema(e){Le(e,X2e);let t=Te(e,e,$d.schema({names:{version:SS,modulus:CS,publicExponent:OS,privateExponent:TS,prime1:_S,prime2:DS,exponent1:zS,exponent2:MS,coefficient:RS,otherPrimeInfo:{names:{blockName:Yb}}}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.modulus=t.result.modulus.convertFromDER(256),this.publicExponent=t.result.publicExponent,this.privateExponent=t.result.privateExponent.convertFromDER(256),this.prime1=t.result.prime1.convertFromDER(128),this.prime2=t.result.prime2.convertFromDER(128),this.exponent1=t.result.exponent1.convertFromDER(128),this.exponent2=t.result.exponent2.convertFromDER(128),this.coefficient=t.result.coefficient.convertFromDER(128),Yb in t.result&&(this.otherPrimeInfos=Array.from(t.result.otherPrimeInfos,r=>new m3({schema:r})))}toSchema(){let e=[];return e.push(new Ae({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&e.push(new iA({value:Array.from(this.otherPrimeInfos,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={n:ja.ToBase64Url(this.modulus.valueBlock.valueHexView),e:ja.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:ja.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:ja.ToBase64Url(this.prime1.valueBlock.valueHexView),q:ja.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:ja.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:ja.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:ja.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(e.oth=Array.from(this.otherPrimeInfos,t=>t.toJSON())),e}fromJSON(e){Tj.assert("json",e,"n","e","d","p","q","dp","dq","qi"),this.modulus=new Ae({valueHex:ja.FromBase64Url(e.n)}),this.publicExponent=new Ae({valueHex:ja.FromBase64Url(e.e)}),this.privateExponent=new Ae({valueHex:ja.FromBase64Url(e.d)}),this.prime1=new Ae({valueHex:ja.FromBase64Url(e.p)}),this.prime2=new Ae({valueHex:ja.FromBase64Url(e.q)}),this.exponent1=new Ae({valueHex:ja.FromBase64Url(e.dp)}),this.exponent2=new Ae({valueHex:ja.FromBase64Url(e.dq)}),this.coefficient=new Ae({valueHex:ja.FromBase64Url(e.qi)}),e.oth&&(this.otherPrimeInfos=Array.from(e.oth,t=>new m3({json:t})))}};bsA.CLASS_NAME="RSAPrivateKey";var KS="version",LS="privateKeyAlgorithm",NS="privateKey",Zb="attributes",$K="parsedKey",W2e=[KS,LS,NS,Zb],_C=class Qb extends Ie{constructor(e={}){super(),this.version=S(e,KS,Qb.defaultValues(KS)),this.privateKeyAlgorithm=S(e,LS,Qb.defaultValues(LS)),this.privateKey=S(e,NS,Qb.defaultValues(NS)),Zb in e&&(this.attributes=S(e,Zb,Qb.defaultValues(Zb))),$K in e&&(this.parsedKey=S(e,$K,Qb.defaultValues($K))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case KS:return 0;case LS:return new te;case NS:return new At;case Zb:return[];case $K:return{};default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),te.schema(t.privateKeyAlgorithm||{}),new At({name:t.privateKey||N}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ta({name:t.attributes||N,value:lo.schema()})]})]})}fromSchema(e){Le(e,W2e);let t=Te(e,e,Qb.schema({names:{version:KS,privateKeyAlgorithm:{names:{blockName:LS}},privateKey:NS,attributes:Zb}}));switch(fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new te({schema:t.result.privateKeyAlgorithm}),this.privateKey=t.result.privateKey,Zb in t.result&&(this.attributes=Array.from(t.result.attributes,r=>new lo({schema:r}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{let r=qo(this.privateKey.valueBlock.valueHexView);r.offset!==-1&&(this.parsedKey=new bsA({schema:r.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Nt){let r=qo(this.privateKey.valueBlock.valueHexView);r.offset!==-1&&(this.parsedKey=new xsA({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:r.result}))}break}}toSchema(){let e=[new Ae({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,t=>t.toSchema())})),new iA({value:e})}toJSON(){if(!this.parsedKey){let r={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(r.attributes=Array.from(this.attributes,a=>a.toJSON())),r}let e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}let t=this.parsedKey.toJSON();return Object.assign(e,t),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new xsA({json:e}),this.privateKeyAlgorithm=new te({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Nt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new bsA({json:e}),this.privateKeyAlgorithm=new te({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new io});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new At({valueHex:this.parsedKey.toSchema().toBER(!1)})}}};_C.CLASS_NAME="PrivateKeyInfo";var Ow="contentType",Tw="contentEncryptionAlgorithm",Ay="encryptedContent",J2e=[Ow,Tw,Ay],sTA=1024,Vl=class US extends Ie{constructor(e={}){if(super(),this.contentType=S(e,Ow,US.defaultValues(Ow)),this.contentEncryptionAlgorithm=S(e,Tw,US.defaultValues(Tw)),Ay in e&&e.encryptedContent&&(this.encryptedContent=e.encryptedContent,this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4&&this.encryptedContent.idBlock.isConstructed===!1&&!e.disableSplit)){let t=new At({idBlock:{isConstructed:!0},isConstructed:!0}),r=0,a=this.encryptedContent.valueBlock.valueHexView.slice().buffer,j=a.byteLength;for(;j>0;){let n=new Uint8Array(a,r,r+sTA>a.byteLength?a.byteLength-r:sTA),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let s=0;s<o.length;s++)o[s]=n[s];t.valueBlock.value.push(new At({valueHex:i})),j-=n.length,r+=n.length}this.encryptedContent=t}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ow:return N;case Tw:return new te;case Ay:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Ow:return t===N;case Tw:return t.algorithmId===N&&!("algorithmParams"in t);case Ay:return t.isEqual(US.defaultValues(Ay));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.contentType||N}),te.schema(t.contentEncryptionAlgorithm||{}),new li({value:[new SA({name:t.encryptedContent||N,idBlock:{tagClass:3,tagNumber:0},value:[new ta({value:new At})]}),new Cr({name:t.encryptedContent||N,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){Le(e,J2e);let t=Te(e,e,US.schema({names:{contentType:Ow,contentEncryptionAlgorithm:{names:{blockName:Tw}},encryptedContent:Ay}}));fe.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new te({schema:t.result.contentEncryptionAlgorithm}),Ay in t.result&&(this.encryptedContent=t.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){let e={isIndefiniteForm:!1},t=[];if(t.push(new Nt({value:this.contentType})),t.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;let r=this.encryptedContent;r.idBlock.tagClass=3,r.idBlock.tagNumber=0,r.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,t.push(r)}return new iA({lenBlock:e,value:t})}toJSON(){let e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(e.encryptedContent=this.encryptedContent.toJSON()),e}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return At.prototype.getValue.call(this.encryptedContent)}};Vl.CLASS_NAME="EncryptedContentInfo";var wB="hashAlgorithm",qB="maskGenAlgorithm",$B="saltLength",IB="trailerField",Y2e=[wB,qB,$B,IB],p3=class pc extends Ie{constructor(e={}){super(),this.hashAlgorithm=S(e,wB,pc.defaultValues(wB)),this.maskGenAlgorithm=S(e,qB,pc.defaultValues(qB)),this.saltLength=S(e,$B,pc.defaultValues($B)),this.trailerField=S(e,IB,pc.defaultValues(IB)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wB:return new te({algorithmId:"1.3.14.3.2.26",algorithmParams:new io});case qB:return new te({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new te({algorithmId:"1.3.14.3.2.26",algorithmParams:new io}).toSchema()});case $B:return 20;case IB:return 1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[te.schema(t.hashAlgorithm||{})]}),new SA({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[te.schema(t.maskGenAlgorithm||{})]}),new SA({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new Ae({name:t.saltLength||N})]}),new SA({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new Ae({name:t.trailerField||N})]})]})}fromSchema(e){Le(e,Y2e);let t=Te(e,e,pc.schema({names:{hashAlgorithm:{names:{blockName:wB}},maskGenAlgorithm:{names:{blockName:qB}},saltLength:$B,trailerField:IB}}));fe.assertSchema(t,this.className),wB in t.result&&(this.hashAlgorithm=new te({schema:t.result.hashAlgorithm})),qB in t.result&&(this.maskGenAlgorithm=new te({schema:t.result.maskGenAlgorithm})),$B in t.result&&(this.saltLength=t.result.saltLength.valueBlock.valueDec),IB in t.result&&(this.trailerField=t.result.trailerField.valueBlock.valueDec)}toSchema(){let e=[];return this.hashAlgorithm.isEqual(pc.defaultValues(wB))||e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(pc.defaultValues(qB))||e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==pc.defaultValues($B)&&e.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:[new Ae({value:this.saltLength})]})),this.trailerField!==pc.defaultValues(IB)&&e.push(new SA({idBlock:{tagClass:3,tagNumber:3},value:[new Ae({value:this.trailerField})]})),new iA({value:e})}toJSON(){let e={};return this.hashAlgorithm.isEqual(pc.defaultValues(wB))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(pc.defaultValues(qB))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==pc.defaultValues($B)&&(e.saltLength=this.saltLength),this.trailerField!==pc.defaultValues(IB)&&(e.trailerField=this.trailerField),e}};p3.CLASS_NAME="RSASSAPSSParams";var _w="salt",HS="iterationCount",Um="keyLength",Jh="prf",Z2e=[_w,HS,Um,Jh],i1=class $k extends Ie{constructor(e={}){super(),this.salt=S(e,_w,$k.defaultValues(_w)),this.iterationCount=S(e,HS,$k.defaultValues(HS)),Um in e&&(this.keyLength=S(e,Um,$k.defaultValues(Um))),Jh in e&&(this.prf=S(e,Jh,$k.defaultValues(Jh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _w:return{};case HS:return-1;case Um:return 0;case Jh:return new te({algorithmId:"1.3.14.3.2.26",algorithmParams:new io});default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new li({value:[new At({name:t.saltPrimitive||N}),te.schema(t.saltConstructed||{})]}),new Ae({name:t.iterationCount||N}),new Ae({name:t.keyLength||N,optional:!0}),te.schema(t.prf||{names:{optional:!0}})]})}fromSchema(e){Le(e,Z2e);let t=Te(e,e,$k.schema({names:{saltPrimitive:_w,saltConstructed:{names:{blockName:_w}},iterationCount:HS,keyLength:Um,prf:{names:{blockName:Jh,optional:!0}}}}));fe.assertSchema(t,this.className),this.salt=t.result.salt,this.iterationCount=t.result.iterationCount.valueBlock.valueDec,Um in t.result&&(this.keyLength=t.result.keyLength.valueBlock.valueDec),Jh in t.result&&(this.prf=new te({schema:t.result.prf}))}toSchema(){let e=[];return e.push(this.salt),e.push(new Ae({value:this.iterationCount})),Um in this&&$k.defaultValues(Um)!==this.keyLength&&e.push(new Ae({value:this.keyLength})),this.prf&&$k.defaultValues(Jh).isEqual(this.prf)===!1&&e.push(this.prf.toSchema()),new iA({value:e})}toJSON(){let e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return Um in this&&$k.defaultValues(Um)!==this.keyLength&&(e.keyLength=this.keyLength),this.prf&&$k.defaultValues(Jh).isEqual(this.prf)===!1&&(e.prf=this.prf.toJSON()),e}};i1.CLASS_NAME="PBKDF2Params";var VS="keyDerivationFunc",XS="encryptionScheme",Q2e=[VS,XS],ysA=class k3 extends Ie{constructor(e={}){super(),this.keyDerivationFunc=S(e,VS,k3.defaultValues(VS)),this.encryptionScheme=S(e,XS,k3.defaultValues(XS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case VS:return new te;case XS:return new te;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.keyDerivationFunc||{}),te.schema(t.encryptionScheme||{})]})}fromSchema(e){Le(e,Q2e);let t=Te(e,e,k3.schema({names:{keyDerivationFunc:{names:{blockName:VS}},encryptionScheme:{names:{blockName:XS}}}}));fe.assertSchema(t,this.className),this.keyDerivationFunc=new te({schema:t.result.keyDerivationFunc}),this.encryptionScheme=new te({schema:t.result.encryptionScheme})}toSchema(){return new iA({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}};ysA.CLASS_NAME="PBES2Params";var ACe=class{constructor(A){this.crypto=A.crypto,this.subtle="webkitSubtle"in A.crypto?A.crypto.webkitSubtle:A.crypto.subtle,this.name=S(A,"name",N)}async encrypt(...A){return this.subtle.encrypt(...A)}async decrypt(...A){return this.subtle.decrypt(...A)}sign(...A){return this.subtle.sign(...A)}async verify(...A){return this.subtle.verify(...A)}async digest(...A){return this.subtle.digest(...A)}async generateKey(...A){return this.subtle.generateKey(...A)}async deriveKey(...A){return this.subtle.deriveKey(...A)}async deriveBits(...A){return this.subtle.deriveBits(...A)}async wrapKey(...A){return this.subtle.wrapKey(...A)}async unwrapKey(...A){return this.subtle.unwrapKey(...A)}exportKey(...A){return this.subtle.exportKey(...A)}importKey(...A){return this.subtle.importKey(...A)}getRandomValues(A){return this.crypto.getRandomValues(A)}};async function lTA(A,e,t,r,a,j){let n,i,o=[];switch(e.toUpperCase()){case"SHA-1":n=20,i=64;break;case"SHA-256":n=32,i=64;break;case"SHA-384":n=48,i=128;break;case"SHA-512":n=64,i=128;break;default:throw new Error("Unsupported hashing algorithm")}let s=new Uint8Array(r),c=new ArrayBuffer(r.byteLength*2+2),u=new Uint8Array(c);for(let UA=0;UA<s.length;UA++)u[UA*2]=0,u[UA*2+1]=s[UA];u[u.length-2]=0,u[u.length-1]=0,r=c.slice(0);let p=new ArrayBuffer(i),h=new Uint8Array(p);for(let UA=0;UA<p.byteLength;UA++)h[UA]=3;let f=a.byteLength,G=i*Math.ceil(f/i),w=new ArrayBuffer(G),y=new Uint8Array(w),E=new Uint8Array(a);for(let UA=0;UA<G;UA++)y[UA]=E[UA%f];let $=r.byteLength,T=i*Math.ceil($/i),O=new ArrayBuffer(T),I=new Uint8Array(O),q=new Uint8Array(r);for(let UA=0;UA<T;UA++)I[UA]=q[UA%$];let K=w.byteLength+O.byteLength,aA=new ArrayBuffer(K),nA=new Uint8Array(aA);nA.set(y),nA.set(I,y.length);let lA=Math.ceil((t>>3)/n),qA=Promise.resolve(aA);for(let UA=0;UA<=lA;UA++){qA=qA.then(le=>{let yA=new ArrayBuffer(p.byteLength+le.byteLength),we=new Uint8Array(yA);return we.set(h),we.set(nA,h.length),yA});for(let le=0;le<j;le++)qA=qA.then(yA=>A.digest({name:e},new Uint8Array(yA)));qA=qA.then(le=>{let yA=new ArrayBuffer(i),we=new Uint8Array(yA);for(let ne=0;ne<yA.byteLength;ne++)we[ne]=le[ne%le.byteLength];let ge=Math.ceil(f/i)+Math.ceil($/i),ot=[],ue=0,IA=i;for(let ne=0;ne<ge;ne++){let HA=Array.from(new Uint8Array(aA.slice(ue,ue+IA)));ue+=i,ue+i>aA.byteLength&&(IA=aA.byteLength-ue);let KA=511;for(let XA=yA.byteLength-1;XA>=0;XA--)KA>>=8,KA+=we[XA]+HA[XA],HA[XA]=KA&255;ot.push(...HA)}return aA=new ArrayBuffer(ot.length),nA=new Uint8Array(aA),nA.set(ot),o.push(...new Uint8Array(le)),aA})}return qA=qA.then(()=>{let UA=new ArrayBuffer(t>>3);return new Uint8Array(UA).set(new Uint8Array(o).slice(0,t>>3)),UA}),qA}function EDA(A){let e=typeof A=="string"?{name:A}:A;return"hash"in e?{...e,hash:EDA(e.hash)}:e}var DC=class extends ACe{async importKey(A,e,t,r,a){var j,n,i,o,s,c;let u={},p=EDA(t);switch(A.toLowerCase()){case"raw":return this.subtle.importKey("raw",e,t,r,a);case"spki":{let h=qo(_r.toArrayBuffer(e));fe.assert(h,"keyData");let f=new Zm;try{f.fromSchema(h.result)}catch{throw new $n("Incorrect keyData")}switch(p.name.toUpperCase()){case"RSA-PSS":{if(!p.hash)throw new Tj("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":u.alg="PS1";break;case"SHA-256":u.alg="PS256";break;case"SHA-384":u.alg="PS384";break;case"SHA-512":u.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}case"RSASSA-PKCS1-V1_5":{if(a=["verify"],u.kty="RSA",u.ext=r,u.key_ops=a,f.algorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect public key algorithm: ${f.algorithm.algorithmId}`);if(!u.alg){if(!p.hash)throw new Tj("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":u.alg="RS1";break;case"SHA-256":u.alg="RS256";break;case"SHA-384":u.alg="RS384";break;case"SHA-512":u.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}let G=f.toJSON();Object.assign(u,G)}break;case"ECDSA":a=["verify"];case"ECDH":{if(u={kty:"EC",ext:r,key_ops:a},f.algorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect public key algorithm: ${f.algorithm.algorithmId}`);let G=f.toJSON();Object.assign(u,G)}break;case"RSA-OAEP":{if(u.kty="RSA",u.ext=r,u.key_ops=a,this.name.toLowerCase()==="safari")u.alg="RSA-OAEP";else{if(!p.hash)throw new Tj("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":u.alg="RSA-OAEP";break;case"SHA-256":u.alg="RSA-OAEP-256";break;case"SHA-384":u.alg="RSA-OAEP-384";break;case"SHA-512":u.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}let G=f.toJSON();Object.assign(u,G)}break;case"RSAES-PKCS1-V1_5":{u.kty="RSA",u.ext=r,u.key_ops=a,u.alg="PS1";let G=f.toJSON();Object.assign(u,G)}break;default:throw new Error(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"pkcs8":{let h=new _C,f=qo(_r.toArrayBuffer(e));fe.assert(f,"keyData");try{h.fromSchema(f.result)}catch{throw new Error("Incorrect keyData")}if(!h.parsedKey)throw new Error("Incorrect keyData");switch(p.name.toUpperCase()){case"RSA-PSS":switch((j=p.hash)===null||j===void 0?void 0:j.name.toUpperCase()){case"SHA-1":u.alg="PS1";break;case"SHA-256":u.alg="PS256";break;case"SHA-384":u.alg="PS384";break;case"SHA-512":u.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${(n=p.hash)===null||n===void 0?void 0:n.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(a=["sign"],u.kty="RSA",u.ext=r,u.key_ops=a,h.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect private key algorithm: ${h.privateKeyAlgorithm.algorithmId}`);if(!("alg"in u))switch((i=p.hash)===null||i===void 0?void 0:i.name.toUpperCase()){case"SHA-1":u.alg="RS1";break;case"SHA-256":u.alg="RS256";break;case"SHA-384":u.alg="RS384";break;case"SHA-512":u.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${(o=p.hash)===null||o===void 0?void 0:o.name.toUpperCase()}`)}let G=h.toJSON();Object.assign(u,G)}break;case"ECDSA":a=["sign"];case"ECDH":{if(u={kty:"EC",ext:r,key_ops:a},h.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect algorithm: ${h.privateKeyAlgorithm.algorithmId}`);let G=h.toJSON();Object.assign(u,G)}break;case"RSA-OAEP":{if(u.kty="RSA",u.ext=r,u.key_ops=a,this.name.toLowerCase()==="safari")u.alg="RSA-OAEP";else switch((s=p.hash)===null||s===void 0?void 0:s.name.toUpperCase()){case"SHA-1":u.alg="RSA-OAEP";break;case"SHA-256":u.alg="RSA-OAEP-256";break;case"SHA-384":u.alg="RSA-OAEP-384";break;case"SHA-512":u.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${(c=p.hash)===null||c===void 0?void 0:c.name.toUpperCase()}`)}let G=h.toJSON();Object.assign(u,G)}break;case"RSAES-PKCS1-V1_5":{a=["decrypt"],u.kty="RSA",u.ext=r,u.key_ops=a,u.alg="PS1";let G=h.toJSON();Object.assign(u,G)}break;default:throw new Error(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"jwk":u=e;break;default:throw new Error(`Incorrect format: ${A}`)}if(this.name.toLowerCase()==="safari")try{return this.subtle.importKey("jwk",l1(JSON.stringify(u)),t,r,a)}catch{return this.subtle.importKey("jwk",u,t,r,a)}return this.subtle.importKey("jwk",u,t,r,a)}async exportKey(A,e){let t=await this.subtle.exportKey("jwk",e);switch(this.name.toLowerCase()==="safari"&&t instanceof ArrayBuffer&&(t=JSON.parse(dL(t))),A.toLowerCase()){case"raw":return this.subtle.exportKey("raw",e);case"spki":{let r=new Zm;try{r.fromJSON(t)}catch{throw new Error("Incorrect key data")}return r.toSchema().toBER(!1)}case"pkcs8":{let r=new _C;try{r.fromJSON(t)}catch{throw new Error("Incorrect key data")}return r.toSchema().toBER(!1)}case"jwk":return t;default:throw new Error(`Incorrect format: ${A}`)}}async convert(A,e,t,r,a,j){if(A.toLowerCase()===e.toLowerCase())return t;let n=await this.importKey(A,t,r,a,j);return this.exportKey(e,n)}getAlgorithmByOID(A,e=!1,t){switch(A){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(e)throw new Error(`Unsupported algorithm identifier ${t?`for ${t} `:N}: ${A}`);return{}}getOIDByAlgorithm(A,e=!1,t){let r=N;switch(A.name.toUpperCase()){case"RSAES-PKCS1-V1_5":r="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(A.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.1.1.5";break;case"SHA-256":r="1.2.840.113549.1.1.11";break;case"SHA-384":r="1.2.840.113549.1.1.12";break;case"SHA-512":r="1.2.840.113549.1.1.13";break}break;case"RSA-PSS":r="1.2.840.113549.1.1.10";break;case"RSA-OAEP":r="1.2.840.113549.1.1.7";break;case"ECDSA":switch(A.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.10045.4.1";break;case"SHA-256":r="1.2.840.10045.4.3.2";break;case"SHA-384":r="1.2.840.10045.4.3.3";break;case"SHA-512":r="1.2.840.10045.4.3.4";break}break;case"ECDH":switch(A.kdf.toUpperCase()){case"SHA-1":r="1.3.133.16.840.63.0.2";break;case"SHA-256":r="1.3.132.1.11.1";break;case"SHA-384":r="1.3.132.1.11.2";break;case"SHA-512":r="1.3.132.1.11.3";break}break;case"AES-CTR":break;case"AES-CBC":switch(A.length){case 128:r="2.16.840.1.101.3.4.1.2";break;case 192:r="2.16.840.1.101.3.4.1.22";break;case 256:r="2.16.840.1.101.3.4.1.42";break}break;case"AES-CMAC":break;case"AES-GCM":switch(A.length){case 128:r="2.16.840.1.101.3.4.1.6";break;case 192:r="2.16.840.1.101.3.4.1.26";break;case 256:r="2.16.840.1.101.3.4.1.46";break}break;case"AES-CFB":switch(A.length){case 128:r="2.16.840.1.101.3.4.1.4";break;case 192:r="2.16.840.1.101.3.4.1.24";break;case 256:r="2.16.840.1.101.3.4.1.44";break}break;case"AES-KW":switch(A.length){case 128:r="2.16.840.1.101.3.4.1.5";break;case 192:r="2.16.840.1.101.3.4.1.25";break;case 256:r="2.16.840.1.101.3.4.1.45";break}break;case"HMAC":switch(A.hash.name.toUpperCase()){case"SHA-1":r="1.2.840.113549.2.7";break;case"SHA-256":r="1.2.840.113549.2.9";break;case"SHA-384":r="1.2.840.113549.2.10";break;case"SHA-512":r="1.2.840.113549.2.11";break}break;case"DH":r="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":r="1.3.14.3.2.26";break;case"SHA-256":r="2.16.840.1.101.3.4.2.1";break;case"SHA-384":r="2.16.840.1.101.3.4.2.2";break;case"SHA-512":r="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":r="1.2.840.113549.1.5.12";break;case"P-256":r="1.2.840.10045.3.1.7";break;case"P-384":r="1.3.132.0.34";break;case"P-521":r="1.3.132.0.35";break}if(!r&&e)throw new Error(`Unsupported algorithm ${t?`for ${t} `:N}: ${A.name}`);return r}getAlgorithmParameters(A,e){let t={algorithm:{},usages:[]};switch(A.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(e.toLowerCase()){case"generatekey":t={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":t={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(e.toLowerCase()){case"sign":case"verify":t={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":t={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":t={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(e.toLowerCase()){case"encrypt":case"decrypt":t={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":t={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":t={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(e.toLowerCase()){case"generatekey":t={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":t={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":t={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(e.toLowerCase()){case"exportkey":case"importkey":case"generatekey":t={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":t={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(e.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(e.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(e.toLowerCase()){case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":t={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(e.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":t={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(e.toLowerCase()){case"sign":case"verify":t={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":t={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(e.toLowerCase()){case"derivekey":t={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(e.toLowerCase()){case"derivekey":t={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break}return t}getHashAlgorithm(A){let e=N;switch(A.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":e="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":e="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":e="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":e="SHA-512";break;case"1.2.840.113549.1.1.10":try{let t=new p3({schema:A.algorithmParams});if(t.hashAlgorithm){let r=this.getAlgorithmByOID(t.hashAlgorithm.algorithmId);if("name"in r)e=r.name;else return N}else e="SHA-1"}catch{}break}return e}async encryptEncryptedContentInfo(A){Tj.assert(A,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");let e=this.getOIDByAlgorithm(A.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),t=this.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),r=this.getOIDByAlgorithm({name:"HMAC",hash:{name:A.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),a=new ArrayBuffer(16),j=new Uint8Array(a);this.getRandomValues(j);let n=new ArrayBuffer(64),i=new Uint8Array(n);this.getRandomValues(i);let o=new Uint8Array(A.contentToEncrypt),s=new i1({salt:new At({valueHex:n}),iterationCount:A.iterationCount,prf:new te({algorithmId:r,algorithmParams:new io})}),c=new Uint8Array(A.password),u=await this.importKey("raw",c,"PBKDF2",!1,["deriveKey"]),p=await this.deriveKey({name:"PBKDF2",hash:{name:A.hmacHashAlgorithm},salt:i,iterations:A.iterationCount},u,A.contentEncryptionAlgorithm,!1,["encrypt"]),h=await this.encrypt({name:A.contentEncryptionAlgorithm.name,iv:j},p,o),f=new ysA({keyDerivationFunc:new te({algorithmId:t,algorithmParams:s.toSchema()}),encryptionScheme:new te({algorithmId:e,algorithmParams:new At({valueHex:a})})});return new Vl({contentType:A.contentType,contentEncryptionAlgorithm:new te({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:f.toSchema()}),encryptedContent:new At({valueHex:h})})}async decryptEncryptedContentInfo(A){if(Tj.assert(A,"password","encryptedContentInfo"),A.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")throw new Error(`Unknown "contentEncryptionAlgorithm": ${A.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let e;try{e=new ysA({schema:A.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbes2Parameters"')}let t;try{t=new i1({schema:e.keyDerivationFunc.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbkdf2Params"')}let r=this.getAlgorithmByOID(e.encryptionScheme.algorithmId,!0),a=e.encryptionScheme.algorithmParams.valueBlock.valueHex,j=new Uint8Array(a),n=t.salt.valueBlock.valueHex,i=new Uint8Array(n),o=t.iterationCount,s="SHA-1";t.prf&&(s=this.getAlgorithmByOID(t.prf.algorithmId,!0).hash.name);let c=await this.importKey("raw",A.password,"PBKDF2",!1,["deriveKey"]),u=await this.deriveKey({name:"PBKDF2",hash:{name:s},salt:i,iterations:o},c,r,!1,["decrypt"]),p=A.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:r.name,iv:j},u,p)}async stampDataWithPassword(A){if(!(A instanceof Object))throw new Error('Parameters must have type "Object"');Tj.assert(A,"password","hashAlgorithm","iterationCount","salt","contentToStamp");let e;switch(A.hashAlgorithm.toLowerCase()){case"sha-1":e=160;break;case"sha-256":e=256;break;case"sha-384":e=384;break;case"sha-512":e=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${A.hashAlgorithm}`)}let t={name:"HMAC",length:e,hash:{name:A.hashAlgorithm}},r=await lTA(this,A.hashAlgorithm,e,A.password,A.salt,A.iterationCount),a=await this.importKey("raw",new Uint8Array(r),t,!1,["sign"]);return this.sign(t,a,new Uint8Array(A.contentToStamp))}async verifyDataStampedWithPassword(A){Tj.assert(A,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let e=0;switch(A.hashAlgorithm.toLowerCase()){case"sha-1":e=160;break;case"sha-256":e=256;break;case"sha-384":e=384;break;case"sha-512":e=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${A.hashAlgorithm}`)}let t={name:"HMAC",length:e,hash:{name:A.hashAlgorithm}},r=await lTA(this,A.hashAlgorithm,e,A.password,A.salt,A.iterationCount),a=await this.importKey("raw",new Uint8Array(r),t,!1,["verify"]);return this.verify(t,a,new Uint8Array(A.signatureToVerify),new Uint8Array(A.contentToVerify))}async getSignatureParameters(A,e="SHA-1"){this.getOIDByAlgorithm({name:e},!0,"hashAlgorithm");let t=new te,r=this.getAlgorithmParameters(A.algorithm.name,"sign");if(!Object.keys(r.algorithm).length)throw new Error("Parameter 'algorithm' is empty");let a=r.algorithm;switch(a.hash.name=e,A.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":t.algorithmId=this.getOIDByAlgorithm(a,!0);break;case"RSA-PSS":{switch(e.toUpperCase()){case"SHA-256":a.saltLength=32;break;case"SHA-384":a.saltLength=48;break;case"SHA-512":a.saltLength=64;break}let j={};if(e.toUpperCase()!=="SHA-1"){let i=this.getOIDByAlgorithm({name:e},!0,"hashAlgorithm");j.hashAlgorithm=new te({algorithmId:i,algorithmParams:new io}),j.maskGenAlgorithm=new te({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:j.hashAlgorithm.toSchema()})}a.saltLength!==20&&(j.saltLength=a.saltLength);let n=new p3(j);t.algorithmId="1.2.840.113549.1.1.10",t.algorithmParams=n.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${A.algorithm.name}`)}return{signatureAlgorithm:t,parameters:r}}async signWithPrivateKey(A,e,t){let r=await this.sign(t.algorithm,e,A);return t.algorithm.name==="ECDSA"?tCe(r):r}fillPublicKeyParameters(A,e){let t={},r=this.getHashAlgorithm(e);if(r===N)throw new Error(`Unsupported signature algorithm: ${e.algorithmId}`);let a;e.algorithmId==="1.2.840.113549.1.1.10"?a=e.algorithmId:a=A.algorithm.algorithmId;let j=this.getAlgorithmByOID(a,!0);if(t.algorithm=this.getAlgorithmParameters(j.name,"importKey"),"hash"in t.algorithm.algorithm&&(t.algorithm.algorithm.hash.name=r),j.name==="ECDSA"){let n=A.algorithm;if(!n.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");let i=n.algorithmParams;if("idBlock"in n.algorithmParams&&!(i.idBlock.tagClass===1&&i.idBlock.tagNumber===6))throw new Error("Incorrect type for ECDSA public key parameters");let o=this.getAlgorithmByOID(i.valueBlock.toString(),!0);t.algorithm.algorithm.namedCurve=o.name}return t}async getPublicKey(A,e,t){t||(t=this.fillPublicKeyParameters(A,e));let r=A.toSchema().toBER(!1);return this.importKey("spki",r,t.algorithm.algorithm,!0,t.algorithm.usages)}async verifyWithPublicKey(A,e,t,r,a){let j;if(a){let o={},s;r.algorithmId==="1.2.840.113549.1.1.10"?s=r.algorithmId:s=t.algorithm.algorithmId;let c=this.getAlgorithmByOID(s,!0);if(o.algorithm=this.getAlgorithmParameters(c.name,"importKey"),"hash"in o.algorithm.algorithm&&(o.algorithm.algorithm.hash.name=a),c.name==="ECDSA"){let u=!1;if("algorithmParams"in t.algorithm&&"idBlock"in t.algorithm.algorithmParams&&t.algorithm.algorithmParams.idBlock.tagClass===1&&t.algorithm.algorithmParams.idBlock.tagNumber===6&&(u=!0),u===!1)throw new Error("Incorrect type for ECDSA public key parameters");let p=this.getAlgorithmByOID(t.algorithm.algorithmParams.valueBlock.toString(),!0);o.algorithm.algorithm.namedCurve=p.name}j=await this.getPublicKey(t,null,o)}else{if(a=this.getHashAlgorithm(r),!a)throw new Error(`Unsupported signature algorithm: ${r.algorithmId}`);j=await this.getPublicKey(t,r)}let n=this.getAlgorithmParameters(j.algorithm.name,"verify");"hash"in n.algorithm&&(n.algorithm.hash.name=a);let i=e.valueBlock.valueHexView;if(j.algorithm.name==="ECDSA"){let o=cE.find(j.algorithm.namedCurve);if(!o)throw new Error("Unsupported named curve in use");let s=qo(i);fe.assert(s,"Signature value"),i=rCe(s.result,o.size)}if(j.algorithm.name==="RSA-PSS"){let o=new p3({schema:r.algorithmParams});"saltLength"in o?n.algorithm.saltLength=o.saltLength:n.algorithm.saltLength=20;let s="SHA-1";"hashAlgorithm"in o&&(s=this.getAlgorithmByOID(o.hashAlgorithm.algorithmId,!0).name),n.algorithm.hash.name=s}return this.verify(n.algorithm,j,i,A)}},xDA={name:"none",crypto:null};function cTA(A){return!!(A&&typeof A=="object"&&"crypto"in A)}function vsA(A,...e){let t=null;if(e.length<2)e.length?t=e[0]:t=typeof self<"u"&&self.crypto?new DC({name:"browser",crypto:self.crypto}):null;else{let r=e[0],a=e[1];cTA(a)?t=a:cTA(r)?t=r:"subtle"in r&&"getRandomValues"in r&&(t=new DC({crypto:r}))}if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if(typeof global[process.pid]!="object")throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if(typeof global[process.pid].pkijs!="object")throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:A,crypto:t}}else xDA={name:A,crypto:t}}function eCe(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let A;try{A=global[process.pid].pkijs.engine}catch{throw new Error("Please call 'setEngine' before call to 'getEngine'")}return A}return xDA}function Fa(A=!1){let e=eCe();if(!e.crypto&&A)throw new Error("Unable to create WebCrypto object");return e.crypto}function tCe(A){if(A.byteLength%2!==0)return $o;let e=A.byteLength/2,t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(A,0,e));let a=new Ae({valueHex:t}),j=new ArrayBuffer(e);new Uint8Array(j).set(new Uint8Array(A,e,e));let i=new Ae({valueHex:j});return new iA({value:[a.convertToDER(),i.convertToDER()]}).toBER(!1)}function rCe(A,e){if(!(A instanceof iA&&A.valueBlock.value.length===2&&A.valueBlock.value[0]instanceof Ae&&A.valueBlock.value[1]instanceof Ae))return $o;let t=A.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,r=A.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,a=new Uint8Array(e*2);return a.set(t,e-t.byteLength),a.set(r,2*e-r.byteLength),a.buffer}async function aCe(A,e,t,r,a){switch(A.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:throw new $n(`Unknown hash function: ${A}`)}if($n.assert(e,"zBuffer","ArrayBuffer"),e.byteLength===0)throw new $n("'zBuffer' has zero length, error");if($n.assert(r,"SharedInfo","ArrayBuffer"),t>255)throw new $n("Please set 'Counter' argument to value less or equal to 255");let j=new ArrayBuffer(4),n=new Uint8Array(j);n[0]=0,n[1]=0,n[2]=0,n[3]=t;let i=$o;i=a1(i,e),i=a1(i,j),i=a1(i,r);let o=await a.digest({name:A},i);return{counter:t,result:o}}async function uTA(A,e,t,r,a=Fa(!0)){let j=0,n=1;switch(A.toUpperCase()){case"SHA-1":j=160;break;case"SHA-256":j=256;break;case"SHA-384":j=384;break;case"SHA-512":j=512;break;default:throw new $n(`Unknown hash function: ${A}`)}if($n.assert(e,"Zbuffer","ArrayBuffer"),e.byteLength===0)throw new $n("'Zbuffer' has zero length, error");$n.assert(r,"SharedInfo","ArrayBuffer");let i=t/j;Math.floor(i)>0&&(n=Math.floor(i),i-n>0&&n++);let o=[];for(let p=1;p<=n;p++)o.push(await aCe(A,e,p,r,a));let s=$o,c=1,u=!0;for(;u;){u=!1;for(let p of o)if(p.counter===c){s=a1(s,p.result),u=!0;break}c++}if(t>>=3,s.byteLength>t){let p=new ArrayBuffer(t),h=new Uint8Array(p),f=new Uint8Array(s);for(let G=0;G<t;G++)h[G]=f[G];return p}return s}var koA="version",hoA="logID",goA="extensions",foA="timestamp",BoA="hashAlgorithm",EoA="signatureAlgorithm",xoA="signature",dTA="none",mTA="md5",pTA="sha1",kTA="sha224",hTA="sha256",gTA="sha384",fTA="sha512",BTA="anonymous",ETA="rsa",xTA="dsa",bTA="ecdsa",bDA=class PB extends Ie{constructor(e={}){super(),this.version=S(e,koA,PB.defaultValues(koA)),this.logID=S(e,hoA,PB.defaultValues(hoA)),this.timestamp=S(e,foA,PB.defaultValues(foA)),this.extensions=S(e,goA,PB.defaultValues(goA)),this.hashAlgorithm=S(e,BoA,PB.defaultValues(BoA)),this.signatureAlgorithm=S(e,EoA,PB.defaultValues(EoA)),this.signature=S(e,xoA,PB.defaultValues(xoA)),"stream"in e&&e.stream&&this.fromStream(e.stream),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case koA:return 0;case hoA:case goA:return $o;case foA:return new Date(0);case BoA:case EoA:return N;case xoA:return new Dr;default:return super.defaultValues(e)}}fromSchema(e){if(!(e instanceof pL))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");let t=new n1({stream:new Sd({buffer:e.data})});this.fromStream(t)}fromStream(e){let t=e.getUint16();if(this.version=e.getBlock(1)[0],this.version===0){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date(nv(new Uint8Array(e.getBlock(8)),8));let r=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(r)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm=dTA;break;case 1:this.hashAlgorithm=mTA;break;case 2:this.hashAlgorithm=pTA;break;case 3:this.hashAlgorithm=kTA;break;case 4:this.hashAlgorithm=hTA;break;case 5:this.hashAlgorithm=gTA;break;case 6:this.hashAlgorithm=fTA;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=BTA;break;case 1:this.signatureAlgorithm=ETA;break;case 2:this.signatureAlgorithm=xTA;break;case 3:this.signatureAlgorithm=bTA;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}let a=e.getUint16(),j=new Uint8Array(e.getBlock(a)).buffer.slice(0),n=qo(j);if(fe.assert(n,"SignedCertificateTimestamp"),this.signature=n.result,t!==47+r+a)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){let e=this.toStream();return new pL({data:e.stream.buffer})}toStream(){let e=new n1;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));let t=new ArrayBuffer(8),r=new Uint8Array(t),a=cg(this.timestamp.valueOf(),8);r.set(new Uint8Array(a),8-a.byteLength),e.appendView(r),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions));let j;switch(this.hashAlgorithm.toLowerCase()){case dTA:j=0;break;case mTA:j=1;break;case pTA:j=2;break;case kTA:j=3;break;case hTA:j=4;break;case gTA:j=5;break;case fTA:j=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}e.appendChar(j);let n;switch(this.signatureAlgorithm.toLowerCase()){case BTA:n=0;break;case ETA:n=1;break;case xTA:n=2;break;case bTA:n=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(n);let i=this.signature.toBER(!1);return e.appendUint16(i.byteLength),e.appendView(new Uint8Array(i)),e}toJSON(){return{version:this.version,logID:ATA(this.logID),timestamp:this.timestamp,extensions:ATA(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,t,r=0,a=Fa(!0)){let j=YoA(dL(this.logID)),n=null,i=new n1;for(let h of e)if(h.log_id===j){n=h.key;break}if(!n)throw new Error(`Public key not found for CT with logId: ${j}`);let o=l1(PC(n)),s=Zm.fromBER(o);i.appendChar(0),i.appendChar(0);let c=new ArrayBuffer(8),u=new Uint8Array(c),p=cg(this.timestamp.valueOf(),8);return u.set(new Uint8Array(p),8-p.byteLength),i.appendView(u),i.appendUint16(r),r===0&&i.appendUint24(t.byteLength),i.appendView(new Uint8Array(t)),i.appendUint16(this.extensions.byteLength),this.extensions.byteLength!==0&&i.appendView(new Uint8Array(this.extensions)),a.verifyWithPublicKey(i.buffer.slice(0,i.length),new At({valueHex:this.signature.toBER(!1)}),s,{algorithmId:N},"SHA-256")}};bDA.CLASS_NAME="SignedCertificateTimestamp";var IK="timestamps",yDA=class vDA extends Ie{constructor(e={}){super(),this.timestamps=S(e,IK,vDA.defaultValues(IK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case IK:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case IK:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){var t;let r=S(e,"names",{});return(t=r.optional)!==null&&t!==void 0||(r.optional=!1),new At({name:r.blockName||"SignedCertificateTimestampList",optional:r.optional})}fromSchema(e){if(!(e instanceof At))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");let t=new n1({stream:new Sd({buffer:e.valueBlock.valueHex})});if(t.getUint16()!==t.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;t.length;)this.timestamps.push(new bDA({stream:t}))}toSchema(){let e=new n1,t=0,r=[];for(let a of this.timestamps){let j=a.toStream();r.push(j),t+=j.stream.buffer.byteLength}e.appendUint16(t);for(let a of r)e.appendView(a.stream.view);return new At({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,e=>e.toJSON())}}};yDA.CLASS_NAME="SignedCertificateTimestampList";var WS="attributes",jCe=[WS],FDA=class FsA extends Ie{constructor(e={}){super(),this.attributes=S(e,WS,FsA.defaultValues(WS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case WS:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.attributes||N,value:lo.schema()})]})}fromSchema(e){Le(e,jCe);let t=Te(e,e,FsA.schema({names:{attributes:WS}}));fe.assertSchema(t,this.className),this.attributes=Array.from(t.result.attributes,r=>new lo({schema:r}))}toSchema(){return new iA({value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,e=>e.toJSON())}}};FDA.CLASS_NAME="SubjectDirectoryAttributes";var nCe=class Ki{static getItems(){return this.types||(this.types={},Ki.register(Z_A,"SubjectAltName",asA),Ki.register(Q_A,"IssuerAltName",asA),Ki.register(ElA,"AuthorityKeyIdentifier",vlA),Ki.register(flA,"BasicConstraints",FlA),Ki.register(E2e,"MicrosoftCaVersion",lDA),Ki.register(aDA,"CertificatePolicies",lsA),Ki.register(p2e,"CertificatePoliciesMicrosoft",lsA),Ki.register(B2e,"MicrosoftCertTemplateV2",I2e),Ki.register(rDA,"CRLDistributionPoints",kL),Ki.register(BlA,"FreshestCRL",kL),Ki.register(k2e,"ExtKeyUsage",dDA),Ki.register(eDA,"CertificateIssuer",ul),Ki.register(xlA,"AuthorityInfoAccess",psA),Ki.register(g2e,"SubjectInfoAccess",psA),Ki.register(ADA,"IssuingDistributionPoint",pDA),Ki.register(tDA,"NameConstraints",kDA),Ki.register(nDA,"PolicyConstraints",hDA),Ki.register(jDA,"PolicyMappings",gDA),Ki.register(l2e,"PrivateKeyUsagePeriod",fDA),Ki.register(x2e,"QCStatements",BDA),Ki.register(f2e,"SignedCertificateTimestampList",yDA),Ki.register(i2e,"SubjectDirectoryAttributes",FDA)),this.types}static fromBER(e,t){let r=qo(t);if(r.offset===-1)return null;let a=this.find(e);if(a)try{return new a.type({schema:r.result})}catch{let n=new a.type;return n.parsingError=`Incorrectly formatted value of extension ${a.name} (${e})`,n}return r.result}static find(e){return this.getItems()[e]||null}static register(e,t,r){this.getItems()[e]={name:t,type:r}}},JS="extnID",SB="critical",YS="extnValue",PK="parsedValue",iCe=[JS,SB,YS],gu=class CB extends Ie{constructor(e={}){super(),this.extnID=S(e,JS,CB.defaultValues(JS)),this.critical=S(e,SB,CB.defaultValues(SB)),YS in e?this.extnValue=new At({valueHex:e.extnValue}):this.extnValue=CB.defaultValues(YS),PK in e&&(this.parsedValue=S(e,PK,CB.defaultValues(PK))),e.schema&&this.fromSchema(e.schema)}get parsedValue(){if(this._parsedValue===void 0){let e=nCe.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||void 0}set parsedValue(e){this._parsedValue=e}static defaultValues(e){switch(e){case JS:return N;case SB:return!1;case YS:return new At;case PK:return{};default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.extnID||N}),new zk({name:t.critical||N,optional:!0}),new At({name:t.extnValue||N})]})}fromSchema(e){Le(e,iCe);let t=Te(e,e,CB.schema({names:{extnID:JS,critical:SB,extnValue:YS}}));fe.assertSchema(t,this.className),this.extnID=t.result.extnID.valueBlock.toString(),SB in t.result&&(this.critical=t.result.critical.valueBlock.value),this.extnValue=t.result.extnValue}toSchema(){let e=[];return e.push(new Nt({value:this.extnID})),this.critical!==CB.defaultValues(SB)&&e.push(new zk({value:this.critical})),e.push(this.extnValue),new iA({value:e})}toJSON(){let e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==CB.defaultValues(SB)&&(e.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(e.parsedValue=this.parsedValue.toJSON()),e}};gu.CLASS_NAME="Extension";var ZS="extensions",oCe=[ZS],Ds=class GsA extends Ie{constructor(e={}){super(),this.extensions=S(e,ZS,GsA.defaultValues(ZS)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ZS:return[];default:return super.defaultValues(e)}}static schema(e={},t=!1){let r=S(e,"names",{});return new iA({optional:t,name:r.blockName||N,value:[new ta({name:r.extensions||N,value:gu.schema(r.extension||{})})]})}fromSchema(e){Le(e,oCe);let t=Te(e,e,GsA.schema({names:{extensions:ZS}}));fe.assertSchema(t,this.className),this.extensions=Array.from(t.result.extensions,r=>new gu({schema:r}))}toSchema(){return new iA({value:Array.from(this.extensions,e=>e.toSchema())})}toJSON(){return{extensions:this.extensions.map(e=>e.toJSON())}}};Ds.CLASS_NAME="Extensions";var QS="issuer",A2="serialNumber",ey="issuerUID",sCe=[QS,A2,ey],_k=class e2 extends Ie{constructor(e={}){super(),this.issuer=S(e,QS,e2.defaultValues(QS)),this.serialNumber=S(e,A2,e2.defaultValues(A2)),ey in e&&(this.issuerUID=S(e,ey,e2.defaultValues(ey))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case QS:return new ul;case A2:return new Ae;case ey:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[ul.schema(t.issuer||{}),new Ae({name:t.serialNumber||N}),new Qa({optional:!0,name:t.issuerUID||N})]})}fromSchema(e){Le(e,sCe);let t=Te(e,e,e2.schema({names:{issuer:{names:{blockName:QS}},serialNumber:A2,issuerUID:ey}}));fe.assertSchema(t,this.className),this.issuer=new ul({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber,ey in t.result&&(this.issuerUID=t.result.issuerUID)}toSchema(){let e=new iA({value:[this.issuer.toSchema(),this.serialNumber]});return this.issuerUID&&e.valueBlock.value.push(this.issuerUID),e}toJSON(){let e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return this.issuerUID&&(e.issuerUID=this.issuerUID.toJSON()),e}};_k.CLASS_NAME="IssuerSerial";var t2="version",ty="baseCertificateID",ry="subjectName",r2="issuer",a2="signature",j2="serialNumber",n2="attrCertValidityPeriod",i2="attributes",ay="issuerUniqueID",jy="extensions",lCe=[t2,ty,ry,r2,a2,j2,n2,i2,ay,jy],h3=class Id extends Ie{constructor(e={}){super(),this.version=S(e,t2,Id.defaultValues(t2)),ty in e&&(this.baseCertificateID=S(e,ty,Id.defaultValues(ty))),ry in e&&(this.subjectName=S(e,ry,Id.defaultValues(ry))),this.issuer=S(e,r2,Id.defaultValues(r2)),this.signature=S(e,a2,Id.defaultValues(a2)),this.serialNumber=S(e,j2,Id.defaultValues(j2)),this.attrCertValidityPeriod=S(e,n2,Id.defaultValues(n2)),this.attributes=S(e,i2,Id.defaultValues(i2)),ay in e&&(this.issuerUniqueID=S(e,ay,Id.defaultValues(ay))),jy in e&&(this.extensions=S(e,jy,Id.defaultValues(jy))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case t2:return 0;case ty:return new _k;case ry:return new ul;case r2:return new ul;case a2:return new te;case j2:return new Ae;case n2:return new tv;case i2:return[];case ay:return new Qa;case jy:return new Ds;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new li({value:[new SA({name:t.baseCertificateID||N,idBlock:{tagClass:3,tagNumber:0},value:_k.schema().valueBlock.value}),new SA({name:t.subjectName||N,idBlock:{tagClass:3,tagNumber:1},value:ul.schema().valueBlock.value})]}),ul.schema({names:{blockName:t.issuer||N}}),te.schema(t.signature||{}),new Ae({name:t.serialNumber||N}),tv.schema(t.attrCertValidityPeriod||{}),new iA({name:t.attributes||N,value:[new ta({value:lo.schema()})]}),new Qa({optional:!0,name:t.issuerUniqueID||N}),Ds.schema(t.extensions||{},!0)]})}fromSchema(e){Le(e,lCe);let t=Te(e,e,Id.schema({names:{version:t2,baseCertificateID:ty,subjectName:ry,issuer:r2,signature:{names:{blockName:a2}},serialNumber:j2,attrCertValidityPeriod:{names:{blockName:n2}},attributes:i2,issuerUniqueID:ay,extensions:{names:{blockName:jy}}}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,ty in t.result&&(this.baseCertificateID=new _k({schema:new iA({value:t.result.baseCertificateID.valueBlock.value})})),ry in t.result&&(this.subjectName=new ul({schema:new iA({value:t.result.subjectName.valueBlock.value})})),this.issuer=t.result.issuer,this.signature=new te({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new tv({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,r=>new lo({schema:r})),ay in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),jy in t.result&&(this.extensions=new Ds({schema:t.result.extensions}))}toSchema(){let e=new iA({value:[new Ae({value:this.version})]});return this.baseCertificateID&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.subjectName&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new iA({value:Array.from(this.attributes,t=>t.toSchema())})),this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){let e={version:this.version};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.subjectName&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,t=>t.toJSON()),this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}};h3.CLASS_NAME="AttributeCertificateInfoV1";var o2="acinfo",s2="signatureAlgorithm",l2="signatureValue",cCe=[o2,l2,s2],hL=class c2 extends Ie{constructor(e={}){super(),this.acinfo=S(e,o2,c2.defaultValues(o2)),this.signatureAlgorithm=S(e,s2,c2.defaultValues(s2)),this.signatureValue=S(e,l2,c2.defaultValues(l2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case o2:return new h3;case s2:return new te;case l2:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[h3.schema(t.acinfo||{}),te.schema(t.signatureAlgorithm||{}),new Qa({name:t.signatureValue||N})]})}fromSchema(e){Le(e,cCe);let t=Te(e,e,c2.schema({names:{acinfo:{names:{blockName:o2}},signatureAlgorithm:{names:{blockName:s2}},signatureValue:l2}}));fe.assertSchema(t,this.className),this.acinfo=new h3({schema:t.result.acinfo}),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new iA({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}};hL.CLASS_NAME="AttributeCertificateV1";var u2="digestedObjectType",ny="otherObjectTypeID",d2="digestAlgorithm",m2="objectDigest",uCe=[u2,ny,d2,m2],rv=class Dw extends Ie{constructor(e={}){super(),this.digestedObjectType=S(e,u2,Dw.defaultValues(u2)),ny in e&&(this.otherObjectTypeID=S(e,ny,Dw.defaultValues(ny))),this.digestAlgorithm=S(e,d2,Dw.defaultValues(d2)),this.objectDigest=S(e,m2,Dw.defaultValues(m2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case u2:return new iv;case ny:return new Nt;case d2:return new te;case m2:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new iv({name:t.digestedObjectType||N}),new Nt({optional:!0,name:t.otherObjectTypeID||N}),te.schema(t.digestAlgorithm||{}),new Qa({name:t.objectDigest||N})]})}fromSchema(e){Le(e,uCe);let t=Te(e,e,Dw.schema({names:{digestedObjectType:u2,otherObjectTypeID:ny,digestAlgorithm:{names:{blockName:d2}},objectDigest:m2}}));fe.assertSchema(t,this.className),this.digestedObjectType=t.result.digestedObjectType,ny in t.result&&(this.otherObjectTypeID=t.result.otherObjectTypeID),this.digestAlgorithm=new te({schema:t.result.digestAlgorithm}),this.objectDigest=t.result.objectDigest}toSchema(){let e=new iA({value:[this.digestedObjectType]});return this.otherObjectTypeID&&e.valueBlock.value.push(this.otherObjectTypeID),e.valueBlock.value.push(this.digestAlgorithm.toSchema()),e.valueBlock.value.push(this.objectDigest),e}toJSON(){let e={digestedObjectType:this.digestedObjectType.toJSON(),digestAlgorithm:this.digestAlgorithm.toJSON(),objectDigest:this.objectDigest.toJSON()};return this.otherObjectTypeID&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e}};rv.CLASS_NAME="ObjectDigestInfo";var iy="issuerName",oy="baseCertificateID",sy="objectDigestInfo",dCe=[iy,oy,sy],wsA=class p2 extends Ie{constructor(e={}){super(),iy in e&&(this.issuerName=S(e,iy,p2.defaultValues(iy))),oy in e&&(this.baseCertificateID=S(e,oy,p2.defaultValues(oy))),sy in e&&(this.objectDigestInfo=S(e,sy,p2.defaultValues(sy))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case iy:return new ul;case oy:return new _k;case sy:return new rv;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[ul.schema({names:{blockName:t.issuerName}},!0),new SA({optional:!0,name:t.baseCertificateID||N,idBlock:{tagClass:3,tagNumber:0},value:_k.schema().valueBlock.value}),new SA({optional:!0,name:t.objectDigestInfo||N,idBlock:{tagClass:3,tagNumber:1},value:rv.schema().valueBlock.value})]})}fromSchema(e){Le(e,dCe);let t=Te(e,e,p2.schema({names:{issuerName:iy,baseCertificateID:oy,objectDigestInfo:sy}}));fe.assertSchema(t,this.className),iy in t.result&&(this.issuerName=new ul({schema:t.result.issuerName})),oy in t.result&&(this.baseCertificateID=new _k({schema:new iA({value:t.result.baseCertificateID.valueBlock.value})})),sy in t.result&&(this.objectDigestInfo=new rv({schema:new iA({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){let e=new iA;return this.issuerName&&e.valueBlock.value.push(this.issuerName.toSchema()),this.baseCertificateID&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){let e={};return this.issuerName&&(e.issuerName=this.issuerName.toJSON()),this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}};wsA.CLASS_NAME="V2Form";var ly="baseCertificateID",cy="entityName",uy="objectDigestInfo",mCe=[ly,cy,uy],g3=class k2 extends Ie{constructor(e={}){super(),ly in e&&(this.baseCertificateID=S(e,ly,k2.defaultValues(ly))),cy in e&&(this.entityName=S(e,cy,k2.defaultValues(cy))),uy in e&&(this.objectDigestInfo=S(e,uy,k2.defaultValues(uy))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ly:return new _k;case cy:return new ul;case uy:return new rv;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({optional:!0,name:t.baseCertificateID||N,idBlock:{tagClass:3,tagNumber:0},value:_k.schema().valueBlock.value}),new SA({optional:!0,name:t.entityName||N,idBlock:{tagClass:3,tagNumber:1},value:ul.schema().valueBlock.value}),new SA({optional:!0,name:t.objectDigestInfo||N,idBlock:{tagClass:3,tagNumber:2},value:rv.schema().valueBlock.value})]})}fromSchema(e){Le(e,mCe);let t=Te(e,e,k2.schema({names:{baseCertificateID:ly,entityName:cy,objectDigestInfo:uy}}));fe.assertSchema(t,this.className),ly in t.result&&(this.baseCertificateID=new _k({schema:new iA({value:t.result.baseCertificateID.valueBlock.value})})),cy in t.result&&(this.entityName=new ul({schema:new iA({value:t.result.entityName.valueBlock.value})})),uy in t.result&&(this.objectDigestInfo=new rv({schema:new iA({value:t.result.objectDigestInfo.valueBlock.value})}))}toSchema(){let e=new iA;return this.baseCertificateID&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.entityName&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){let e={};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.entityName&&(e.entityName=this.entityName.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}};g3.CLASS_NAME="Holder";var h2="version",g2="holder",f2="issuer",B2="signature",E2="serialNumber",x2="attrCertValidityPeriod",b2="attributes",dy="issuerUniqueID",my="extensions",pCe=[h2,g2,f2,B2,E2,x2,b2,dy,my],f3=class Hm extends Ie{constructor(e={}){super(),this.version=S(e,h2,Hm.defaultValues(h2)),this.holder=S(e,g2,Hm.defaultValues(g2)),this.issuer=S(e,f2,Hm.defaultValues(f2)),this.signature=S(e,B2,Hm.defaultValues(B2)),this.serialNumber=S(e,E2,Hm.defaultValues(E2)),this.attrCertValidityPeriod=S(e,x2,Hm.defaultValues(x2)),this.attributes=S(e,b2,Hm.defaultValues(b2)),dy in e&&(this.issuerUniqueID=S(e,dy,Hm.defaultValues(dy))),my in e&&(this.extensions=S(e,my,Hm.defaultValues(my))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case h2:return 1;case g2:return new g3;case f2:return{};case B2:return new te;case E2:return new Ae;case x2:return new tv;case b2:return[];case dy:return new Qa;case my:return new Ds;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),g3.schema(t.holder||{}),new li({value:[ul.schema({names:{blockName:t.issuer||N}}),new SA({name:t.issuer||N,idBlock:{tagClass:3,tagNumber:0},value:wsA.schema().valueBlock.value})]}),te.schema(t.signature||{}),new Ae({name:t.serialNumber||N}),tv.schema(t.attrCertValidityPeriod||{}),new iA({name:t.attributes||N,value:[new ta({value:lo.schema()})]}),new Qa({optional:!0,name:t.issuerUniqueID||N}),Ds.schema(t.extensions||{},!0)]})}fromSchema(e){Le(e,pCe);let t=Te(e,e,Hm.schema({names:{version:h2,holder:{names:{blockName:g2}},issuer:f2,signature:{names:{blockName:B2}},serialNumber:E2,attrCertValidityPeriod:{names:{blockName:x2}},attributes:b2,issuerUniqueID:dy,extensions:{names:{blockName:my}}}}));switch(fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.holder=new g3({schema:t.result.holder}),t.result.issuer.idBlock.tagClass){case 3:this.issuer=new wsA({schema:new iA({value:t.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorrect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new te({schema:t.result.signature}),this.serialNumber=t.result.serialNumber,this.attrCertValidityPeriod=new tv({schema:t.result.attrCertValidityPeriod}),this.attributes=Array.from(t.result.attributes.valueBlock.value,r=>new lo({schema:r})),dy in t.result&&(this.issuerUniqueID=t.result.issuerUniqueID),my in t.result&&(this.extensions=new Ds({schema:t.result.extensions}))}toSchema(){let e=new iA({value:[new Ae({value:this.version}),this.holder.toSchema(),new SA({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new iA({value:Array.from(this.attributes,t=>t.toSchema())})]});return this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){let e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,t=>t.toJSON())};return this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}};f3.CLASS_NAME="AttributeCertificateInfoV2";var y2="acinfo",v2="signatureAlgorithm",F2="signatureValue",kCe=[y2,v2,F2],oE=class G2 extends Ie{constructor(e={}){super(),this.acinfo=S(e,y2,G2.defaultValues(y2)),this.signatureAlgorithm=S(e,v2,G2.defaultValues(v2)),this.signatureValue=S(e,F2,G2.defaultValues(F2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case y2:return new f3;case v2:return new te;case F2:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[f3.schema(t.acinfo||{}),te.schema(t.signatureAlgorithm||{}),new Qa({name:t.signatureValue||N})]})}fromSchema(e){Le(e,kCe);let t=Te(e,e,G2.schema({names:{acinfo:{names:{blockName:y2}},signatureAlgorithm:{names:{blockName:v2}},signatureValue:F2}}));fe.assertSchema(t,this.className),this.acinfo=new f3({schema:t.result.acinfo}),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}toSchema(){return new iA({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}};oE.CLASS_NAME="AttributeCertificateV2";var py="contentType",zw="content",hCe=[py,zw],Li=class B3 extends Ie{constructor(e={}){super(),this.contentType=S(e,py,B3.defaultValues(py)),this.content=S(e,zw,B3.defaultValues(zw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case py:return N;case zw:return new Dr;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case py:return typeof t=="string"&&t===this.defaultValues(py);case zw:return t instanceof Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return"optional"in t||(t.optional=!1),new iA({name:t.blockName||"ContentInfo",optional:t.optional,value:[new Nt({name:t.contentType||py}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.content||zw})]})]})}fromSchema(e){Le(e,hCe);let t=Te(e,e,B3.schema());fe.assertSchema(t,this.className),this.contentType=t.result.contentType.valueBlock.toString(),this.content=t.result.content}toSchema(){return new iA({value:[new Nt({value:this.contentType}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){let e={contentType:this.contentType};return this.content instanceof Dr||(e.content=this.content.toJSON()),e}};Li.CLASS_NAME="ContentInfo";Li.DATA=blA;Li.SIGNED_DATA=iDA;Li.ENVELOPED_DATA=oDA;Li.ENCRYPTED_DATA=sDA;var boA="type",yoA="value",qsA="utcTimeName",$sA="generalTimeName",gCe=[qsA,$sA],yTA;(function(A){A[A.UTCTime=0]="UTCTime",A[A.GeneralizedTime=1]="GeneralizedTime",A[A.empty=2]="empty"})(yTA||(yTA={}));var dl=class E3 extends Ie{constructor(e={}){super(),this.type=S(e,boA,E3.defaultValues(boA)),this.value=S(e,yoA,E3.defaultValues(yoA)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case boA:return 0;case yoA:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},t=!1){let r=S(e,"names",{});return new li({optional:t,value:[new c1({name:r.utcTimeName||N}),new si({name:r.generalTimeName||N})]})}fromSchema(e){Le(e,gCe);let t=Te(e,e,E3.schema({names:{utcTimeName:qsA,generalTimeName:$sA}}));fe.assertSchema(t,this.className),qsA in t.result&&(this.type=0,this.value=t.result.utcTimeName.toDate()),$sA in t.result&&(this.type=1,this.value=t.result.generalTimeName.toDate())}toSchema(){return this.type===0?new c1({valueDate:this.value}):this.type===1?new si({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}};dl.CLASS_NAME="Time";var voA="tbs",OB="version",x3="serialNumber",b3="signature",y3="issuer",v3="notBefore",F3="notAfter",G3="subject",w3="subjectPublicKeyInfo",w2="issuerUniqueID",q2="subjectUniqueID",$2="extensions",I2="signatureAlgorithm",P2="signatureValue",Bu="tbsCertificate",gL=`${Bu}.${OB}`,GlA=`${Bu}.${x3}`,wlA=`${Bu}.${b3}`,qlA=`${Bu}.${y3}`,fL=`${Bu}.${v3}`,BL=`${Bu}.${F3}`,$lA=`${Bu}.${G3}`,IlA=`${Bu}.${w3}`,EL=`${Bu}.${w2}`,xL=`${Bu}.${q2}`,vC=`${Bu}.${$2}`,fCe=[Bu,gL,GlA,wlA,qlA,fL,BL,$lA,IlA,EL,xL,vC,I2,P2];function BCe(A={}){let e=S(A,"names",{});return new iA({name:e.blockName||Bu,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ae({name:e.tbsCertificateVersion||gL})]}),new Ae({name:e.tbsCertificateSerialNumber||GlA}),te.schema(e.signature||{names:{blockName:wlA}}),Qn.schema(e.issuer||{names:{blockName:qlA}}),new iA({name:e.tbsCertificateValidity||"tbsCertificate.validity",value:[dl.schema(e.notBefore||{names:{utcTimeName:fL,generalTimeName:fL}}),dl.schema(e.notAfter||{names:{utcTimeName:BL,generalTimeName:BL}})]}),Qn.schema(e.subject||{names:{blockName:$lA}}),Zm.schema(e.subjectPublicKeyInfo||{names:{blockName:IlA}}),new Cr({name:e.tbsCertificateIssuerUniqueID||EL,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new Cr({name:e.tbsCertificateSubjectUniqueID||xL,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Ds.schema(e.extensions||{names:{blockName:vC}})]})]})}var Io=class cs extends Ie{constructor(e={}){super(),this.tbsView=new Uint8Array(S(e,voA,cs.defaultValues(voA))),this.version=S(e,OB,cs.defaultValues(OB)),this.serialNumber=S(e,x3,cs.defaultValues(x3)),this.signature=S(e,b3,cs.defaultValues(b3)),this.issuer=S(e,y3,cs.defaultValues(y3)),this.notBefore=S(e,v3,cs.defaultValues(v3)),this.notAfter=S(e,F3,cs.defaultValues(F3)),this.subject=S(e,G3,cs.defaultValues(G3)),this.subjectPublicKeyInfo=S(e,w3,cs.defaultValues(w3)),w2 in e&&(this.issuerUniqueID=S(e,w2,cs.defaultValues(w2))),q2 in e&&(this.subjectUniqueID=S(e,q2,cs.defaultValues(q2))),$2 in e&&(this.extensions=S(e,$2,cs.defaultValues($2))),this.signatureAlgorithm=S(e,I2,cs.defaultValues(I2)),this.signatureValue=S(e,P2,cs.defaultValues(P2)),e.schema&&this.fromSchema(e.schema)}get tbs(){return _r.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case voA:return $o;case OB:return 0;case x3:return new Ae;case b3:return new te;case y3:return new Qn;case v3:return new dl;case F3:return new dl;case G3:return new Qn;case w3:return new Zm;case w2:return $o;case q2:return $o;case $2:return[];case I2:return new te;case P2:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[BCe(t.tbsCertificate),te.schema(t.signatureAlgorithm||{names:{blockName:I2}}),new Qa({name:t.signatureValue||P2})]})}fromSchema(e){Le(e,fCe);let t=Te(e,e,cs.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:vC}}}}}}));fe.assertSchema(t,this.className),this.tbsView=t.result.tbsCertificate.valueBeforeDecodeView,gL in t.result&&(this.version=t.result[gL].valueBlock.valueDec),this.serialNumber=t.result[GlA],this.signature=new te({schema:t.result[wlA]}),this.issuer=new Qn({schema:t.result[qlA]}),this.notBefore=new dl({schema:t.result[fL]}),this.notAfter=new dl({schema:t.result[BL]}),this.subject=new Qn({schema:t.result[$lA]}),this.subjectPublicKeyInfo=new Zm({schema:t.result[IlA]}),EL in t.result&&(this.issuerUniqueID=t.result[EL].valueBlock.valueHex),xL in t.result&&(this.subjectUniqueID=t.result[xL].valueBlock.valueHex),vC in t.result&&(this.extensions=Array.from(t.result[vC],r=>new gu({schema:r}))),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){let e=[];return OB in this&&this.version!==cs.defaultValues(OB)&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ae({value:this.version})]})),e.push(this.serialNumber),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(new iA({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),e.push(this.subject.toSchema()),e.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&e.push(new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&e.push(new Cr({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new iA({value:Array.from(this.extensions,t=>t.toSchema())})]})),new iA({value:e})}toSchema(e=!1){let t;if(e===!1){if(!this.tbsView.byteLength)return cs.schema().value[0];let r=qo(this.tbsView);fe.assert(r,"TBS Certificate"),t=r.result}else t=this.encodeTBS();return new iA({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){let e={tbs:ja.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return OB in this&&this.version!==cs.defaultValues(OB)&&(e.version=this.version),this.issuerUniqueID&&(e.issuerUniqueID=ja.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(e.subjectUniqueID=ja.ToHex(this.subjectUniqueID)),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}async getPublicKey(e,t=Fa(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",t=Fa(!0)){return t.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,t="SHA-1",r=Fa(!0)){if(!e)throw new Error("Need to provide a private key for signing");let a=await r.getSignatureParameters(e,t),j=a.parameters;this.signature=a.signatureAlgorithm,this.signatureAlgorithm=a.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());let n=await r.signWithPrivateKey(this.tbsView,e,j);this.signatureValue=new Qa({valueHex:n})}async verify(e,t=Fa(!0)){let r;if(e?r=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(r=this.subjectPublicKeyInfo),!(r instanceof Zm))throw new Error("Please provide issuer certificate as a parameter");return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}};Io.CLASS_NAME="Certificate";function GDA(A,e=null){if(e&&A.issuer.isEqual(e.issuer)&&A.serialNumber.isEqual(e.serialNumber))return null;let t=!1;if(A.extensions){for(let r of A.extensions)if(r.extnID===flA&&r.parsedValue instanceof FlA&&r.parsedValue.cA){t=!0;break}}return t?A:null}var Mw="certId",Rw="certValue",kw="parsedValue",ECe=[Mw,Rw],wDA=class S2 extends Ie{constructor(e={}){super(),this.certId=S(e,Mw,S2.defaultValues(Mw)),this.certValue=S(e,Rw,S2.defaultValues(Rw)),kw in e&&(this.parsedValue=S(e,kw,S2.defaultValues(kw))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Mw:return N;case Rw:return new Dr;case kw:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Mw:return t===N;case Rw:return t instanceof Dr;case kw:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.id||"id"}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.value||"value"})]})]})}fromSchema(e){Le(e,ECe);let t=Te(e,e,S2.schema({names:{id:Mw,value:Rw}}));fe.assertSchema(t,this.className),this.certId=t.result.certId.valueBlock.toString(),this.certValue=t.result.certValue;let r=this.certValue.valueBlock.valueHexView;switch(this.certId){case nTA:try{this.parsedValue=Io.fromBER(r)}catch{oE.fromBER(r)}break;case iTA:this.parsedValue=oE.fromBER(r);break;case y2e:default:throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`)}}toSchema(){return kw in this&&("acinfo"in this.parsedValue?this.certId=iTA:this.certId=nTA,this.certValue=new At({valueHex:this.parsedValue.toSchema().toBER(!1)})),new iA({value:[new Nt({value:this.certId}),new SA({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}};wDA.CLASS_NAME="CertBag";var C2="userCertificate",Kw="revocationDate",ky="crlEntryExtensions",xCe=[C2,Kw,ky],qDA=class O2 extends Ie{constructor(e={}){super(),this.userCertificate=S(e,C2,O2.defaultValues(C2)),this.revocationDate=S(e,Kw,O2.defaultValues(Kw)),ky in e&&(this.crlEntryExtensions=S(e,ky,O2.defaultValues(ky))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case C2:return new Ae;case Kw:return new dl;case ky:return new Ds;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.userCertificate||C2}),dl.schema({names:{utcTimeName:t.revocationDate||Kw,generalTimeName:t.revocationDate||Kw}}),Ds.schema({names:{blockName:t.crlEntryExtensions||ky}},!0)]})}fromSchema(e){Le(e,xCe);let t=Te(e,e,O2.schema());fe.assertSchema(t,this.className),this.userCertificate=t.result.userCertificate,this.revocationDate=new dl({schema:t.result.revocationDate}),ky in t.result&&(this.crlEntryExtensions=new Ds({schema:t.result.crlEntryExtensions}))}toSchema(){let e=[this.userCertificate,this.revocationDate.toSchema()];return this.crlEntryExtensions&&e.push(this.crlEntryExtensions.toSchema()),new iA({value:e})}toJSON(){let e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON()};return this.crlEntryExtensions&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}};qDA.CLASS_NAME="RevokedCertificate";var FoA="tbs",KP="version",GoA="signature",woA="issuer",qoA="thisUpdate",SK="nextUpdate",CK="revokedCertificates",OK="crlExtensions",T2="signatureAlgorithm",_2="signatureValue",mg="tbsCertList",bL=`${mg}.version`,PlA=`${mg}.signature`,SlA=`${mg}.issuer`,yL=`${mg}.thisUpdate`,zC=`${mg}.nextUpdate`,vL=`${mg}.revokedCertificates`,FL=`${mg}.extensions`,bCe=[mg,bL,PlA,SlA,yL,zC,vL,FL,T2,_2];function yCe(A={}){let e=S(A,"names",{});return new iA({name:e.blockName||mg,value:[new Ae({optional:!0,name:e.tbsCertListVersion||bL,value:2}),te.schema(e.signature||{names:{blockName:PlA}}),Qn.schema(e.issuer||{names:{blockName:SlA}}),dl.schema(e.tbsCertListThisUpdate||{names:{utcTimeName:yL,generalTimeName:yL}}),dl.schema(e.tbsCertListNextUpdate||{names:{utcTimeName:zC,generalTimeName:zC}},!0),new iA({optional:!0,value:[new ta({name:e.tbsCertListRevokedCertificates||vL,value:new iA({value:[new Ae,dl.schema(),Ds.schema({},!0)]})})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Ds.schema(e.crlExtensions||{names:{blockName:FL}})]})]})}var vCe=[ElA,Q_A,c2e,u2e,ADA,BlA,xlA,d2e,m2e,eDA],ov=class v6 extends Ie{constructor(e={}){super(),this.tbsView=new Uint8Array(S(e,FoA,v6.defaultValues(FoA))),this.version=S(e,KP,v6.defaultValues(KP)),this.signature=S(e,GoA,v6.defaultValues(GoA)),this.issuer=S(e,woA,v6.defaultValues(woA)),this.thisUpdate=S(e,qoA,v6.defaultValues(qoA)),SK in e&&(this.nextUpdate=S(e,SK,v6.defaultValues(SK))),CK in e&&(this.revokedCertificates=S(e,CK,v6.defaultValues(CK))),OK in e&&(this.crlExtensions=S(e,OK,v6.defaultValues(OK))),this.signatureAlgorithm=S(e,T2,v6.defaultValues(T2)),this.signatureValue=S(e,_2,v6.defaultValues(_2)),e.schema&&this.fromSchema(e.schema)}get tbs(){return _r.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case FoA:return $o;case KP:return 0;case GoA:return new te;case woA:return new Qn;case qoA:return new dl;case SK:return new dl;case CK:return[];case OK:return new Ds;case T2:return new te;case _2:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||"CertificateList",value:[yCe(e),te.schema(t.signatureAlgorithm||{names:{blockName:T2}}),new Qa({name:t.signatureValue||_2})]})}fromSchema(e){Le(e,bCe);let t=Te(e,e,v6.schema());fe.assertSchema(t,this.className),this.tbsView=t.result.tbsCertList.valueBeforeDecodeView,bL in t.result&&(this.version=t.result[bL].valueBlock.valueDec),this.signature=new te({schema:t.result[PlA]}),this.issuer=new Qn({schema:t.result[SlA]}),this.thisUpdate=new dl({schema:t.result[yL]}),zC in t.result&&(this.nextUpdate=new dl({schema:t.result[zC]})),vL in t.result&&(this.revokedCertificates=Array.from(t.result[vL],r=>new qDA({schema:r}))),FL in t.result&&(this.crlExtensions=new Ds({schema:t.result[FL]})),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){let e=[];return this.version!==v6.defaultValues(KP)&&e.push(new Ae({value:this.version})),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(this.thisUpdate.toSchema()),this.nextUpdate&&e.push(this.nextUpdate.toSchema()),this.revokedCertificates&&e.push(new iA({value:Array.from(this.revokedCertificates,t=>t.toSchema())})),this.crlExtensions&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new iA({value:e})}toSchema(e=!1){let t;if(e)t=this.encodeTBS();else{if(!this.tbsView.byteLength)return v6.schema();let r=qo(this.tbsView);fe.assert(r,"TBS Certificate Revocation List"),t=r.result}return new iA({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){let e={tbs:ja.ToHex(this.tbsView),version:this.version,signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==v6.defaultValues(KP)&&(e.version=this.version),this.nextUpdate&&(e.nextUpdate=this.nextUpdate.toJSON()),this.revokedCertificates&&(e.revokedCertificates=Array.from(this.revokedCertificates,t=>t.toJSON())),this.crlExtensions&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!this.issuer.isEqual(e.issuer)||!this.revokedCertificates)return!1;for(let t of this.revokedCertificates)if(t.userCertificate.isEqual(e.serialNumber))return!0;return!1}async sign(e,t="SHA-1",r=Fa(!0)){if(!e)throw new Error("Need to provide a private key for signing");let a=await r.getSignatureParameters(e,t),{parameters:j}=a;this.signature=a.signatureAlgorithm,this.signatureAlgorithm=a.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());let n=await r.signWithPrivateKey(this.tbsView,e,j);this.signatureValue=new Qa({valueHex:n})}async verify(e={},t=Fa(!0)){let r;if(e.issuerCertificate&&(r=e.issuerCertificate.subjectPublicKeyInfo,!this.issuer.isEqual(e.issuerCertificate.subject)))return!1;if(e.publicKeyInfo&&(r=e.publicKeyInfo),!r)throw new Error("Issuer's certificate must be provided as an input parameter");if(this.crlExtensions){for(let a of this.crlExtensions.extensions)if(a.critical&&!vCe.includes(a.extnID))return!1}return t.verifyWithPublicKey(this.tbsView,this.signatureValue,r,this.signatureAlgorithm)}};ov.CLASS_NAME="CertificateRevocationList";var Lw="crlId",Nw="crlValue",LP="parsedValue",FCe=[Lw,Nw],$DA=class D2 extends Ie{constructor(e={}){super(),this.crlId=S(e,Lw,D2.defaultValues(Lw)),this.crlValue=S(e,Nw,D2.defaultValues(Nw)),LP in e&&(this.parsedValue=S(e,LP,D2.defaultValues(LP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lw:return N;case Nw:return new Dr;case LP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Lw:return t===N;case Nw:return t instanceof Dr;case LP:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.id||"id"}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.value||"value"})]})]})}fromSchema(e){Le(e,FCe);let t=Te(e,e,D2.schema({names:{id:Lw,value:Nw}}));switch(fe.assertSchema(t,this.className),this.crlId=t.result.crlId.valueBlock.toString(),this.crlValue=t.result.crlValue,this.crlId){case oTA:this.parsedValue=ov.fromBER(this.certValue.valueBlock.valueHex);break;default:throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`)}}toSchema(){return this.parsedValue&&(this.crlId=oTA,this.crlValue=new At({valueHex:this.parsedValue.toSchema().toBER(!1)})),new iA({value:[new Nt({value:this.crlId}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}};$DA.CLASS_NAME="CRLBag";var Uw="version",Hw="encryptedContentInfo",TB="unprotectedAttrs",GCe=[Uw,Hw,TB],MC=class z2 extends Ie{constructor(e={}){super(),this.version=S(e,Uw,z2.defaultValues(Uw)),this.encryptedContentInfo=S(e,Hw,z2.defaultValues(Hw)),TB in e&&(this.unprotectedAttrs=S(e,TB,z2.defaultValues(TB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uw:return 0;case Hw:return new Vl;case TB:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Uw:return t===0;case Hw:return Vl.compareWithDefault("contentType",t.contentType)&&Vl.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&Vl.compareWithDefault("encryptedContent",t.encryptedContent);case TB:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),Vl.schema(t.encryptedContentInfo||{}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ta({name:t.unprotectedAttrs||N,value:lo.schema()})]})]})}fromSchema(e){Le(e,GCe);let t=Te(e,e,z2.schema({names:{version:Uw,encryptedContentInfo:{names:{blockName:Hw}},unprotectedAttrs:TB}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.encryptedContentInfo=new Vl({schema:t.result.encryptedContentInfo}),TB in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,r=>new lo({schema:r})))}toSchema(){let e=[];return e.push(new Ae({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,t=>t.toJSON())),e}async encrypt(e,t=Fa(!0)){$n.assert(e,"parameters","object");let r={...e,contentType:"1.2.840.113549.1.7.1"};this.encryptedContentInfo=await t.encryptEncryptedContentInfo(r)}async decrypt(e,t=Fa(!0)){$n.assert(e,"parameters","object");let r={...e,encryptedContentInfo:this.encryptedContentInfo};return t.decryptEncryptedContentInfo(r)}};MC.CLASS_NAME="EncryptedData";var hy="encryptionAlgorithm",_B="encryptedData",NP="parsedValue",wCe=[hy,_B],IDA=class Vw extends Ie{constructor(e={}){super(),this.encryptionAlgorithm=S(e,hy,Vw.defaultValues(hy)),this.encryptedData=S(e,_B,Vw.defaultValues(_B)),NP in e&&(this.parsedValue=S(e,NP,Vw.defaultValues(NP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hy:return new te;case _B:return new At;case NP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case hy:return te.compareWithDefault("algorithmId",t.algorithmId)&&!("algorithmParams"in t);case _B:return t.isEqual(Vw.defaultValues(e));case NP:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.encryptionAlgorithm||{names:{blockName:hy}}),new li({value:[new At({name:t.encryptedData||_B}),new At({idBlock:{isConstructed:!0},name:t.encryptedData||_B})]})]})}fromSchema(e){Le(e,wCe);let t=Te(e,e,Vw.schema({names:{encryptionAlgorithm:{names:{blockName:hy}},encryptedData:_B}}));fe.assertSchema(t,this.className),this.encryptionAlgorithm=new te({schema:t.result.encryptionAlgorithm}),this.encryptedData=t.result.encryptedData}toSchema(){return new iA({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}async parseInternalValues(e,t=Fa(!0)){let a=await new MC({encryptedContentInfo:new Vl({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})}).decrypt(e,t);this.parsedValue=_C.fromBER(a)}async makeInternalValues(e,t=Fa(!0)){if(!this.parsedValue)throw new Error('Please initialize "parsedValue" first');let r=new MC,a={...e,contentToEncrypt:this.parsedValue.toSchema().toBER(!1)};if(await r.encrypt(a,t),!r.encryptedContentInfo.encryptedContent)throw new Error("The filed `encryptedContent` in EncryptedContentInfo is empty");this.encryptionAlgorithm=r.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=r.encryptedContentInfo.encryptedContent}};IDA.CLASS_NAME="PKCS8ShroudedKeyBag";var Xw="secretTypeId",Ww="secretValue",qCe=[Xw,Ww],PDA=class q3 extends Ie{constructor(e={}){super(),this.secretTypeId=S(e,Xw,q3.defaultValues(Xw)),this.secretValue=S(e,Ww,q3.defaultValues(Ww)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xw:return N;case Ww:return new Dr;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Xw:return t===N;case Ww:return t instanceof Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.id||"id"}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.value||"value"})]})]})}fromSchema(e){Le(e,qCe);let t=Te(e,e,q3.schema({names:{id:Xw,value:Ww}}));fe.assertSchema(t,this.className),this.secretTypeId=t.result.secretTypeId.valueBlock.toString(),this.secretValue=t.result.secretValue}toSchema(){return new iA({value:[new Nt({value:this.secretTypeId}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}};PDA.CLASS_NAME="SecretBag";var $Ce=class gy{static getItems(){return this.items||(this.items={},gy.register("1.2.840.113549.1.12.10.1.1",_C),gy.register("1.2.840.113549.1.12.10.1.2",IDA),gy.register("1.2.840.113549.1.12.10.1.3",wDA),gy.register("1.2.840.113549.1.12.10.1.4",$DA),gy.register("1.2.840.113549.1.12.10.1.5",PDA),gy.register("1.2.840.113549.1.12.10.1.6",t1)),this.items}static register(e,t){this.getItems()[e]=t}static find(e){return this.getItems()[e]||null}},fy="bagId",By="bagValue",Yh="bagAttributes",ICe=[fy,By,Yh],IsA=class M2 extends Ie{constructor(e={}){super(),this.bagId=S(e,fy,M2.defaultValues(fy)),this.bagValue=S(e,By,M2.defaultValues(By)),Yh in e&&(this.bagAttributes=S(e,Yh,M2.defaultValues(Yh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fy:return N;case By:return new Dr;case Yh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case fy:return t===N;case By:return t instanceof Dr;case Yh:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.bagId||fy}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.bagValue||By})]}),new oo({optional:!0,value:[new ta({name:t.bagAttributes||Yh,value:lo.schema()})]})]})}fromSchema(e){Le(e,ICe);let t=Te(e,e,M2.schema({names:{bagId:fy,bagValue:By,bagAttributes:Yh}}));fe.assertSchema(t,this.className),this.bagId=t.result.bagId.valueBlock.toString();let r=$Ce.find(this.bagId);if(!r)throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);this.bagValue=new r({schema:t.result.bagValue}),Yh in t.result&&(this.bagAttributes=Array.from(t.result.bagAttributes,a=>new lo({schema:a})))}toSchema(){let e=[new Nt({value:this.bagId}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return this.bagAttributes&&e.push(new oo({value:Array.from(this.bagAttributes,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return this.bagAttributes&&(e.bagAttributes=Array.from(this.bagAttributes,t=>t.toJSON())),e}};IsA.CLASS_NAME="SafeBag";var hw="safeBags",t1=class PsA extends Ie{constructor(e={}){super(),this.safeBags=S(e,hw,PsA.defaultValues(hw)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case hw:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case hw:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.safeBags||N,value:IsA.schema()})]})}fromSchema(e){Le(e,[hw]);let t=Te(e,e,PsA.schema({names:{safeBags:hw}}));fe.assertSchema(t,this.className),this.safeBags=Array.from(t.result.safeBags,r=>new IsA({schema:r}))}toSchema(){return new iA({value:Array.from(this.safeBags,e=>e.toSchema())})}toJSON(){return{safeBags:Array.from(this.safeBags,e=>e.toJSON())}}};t1.CLASS_NAME="SafeContents";var R2="otherCertFormat",K2="otherCert",PCe=[R2,K2],$3=class I3 extends Ie{constructor(e={}){super(),this.otherCertFormat=S(e,R2,I3.defaultValues(R2)),this.otherCert=S(e,K2,I3.defaultValues(K2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case R2:return N;case K2:return new Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.otherCertFormat||R2}),new Dr({name:t.otherCert||K2})]})}fromSchema(e){Le(e,PCe);let t=Te(e,e,I3.schema());fe.assertSchema(t,this.className),this.otherCertFormat=t.result.otherCertFormat.valueBlock.toString(),this.otherCert=t.result.otherCert}toSchema(){return new iA({value:[new Nt({value:this.otherCertFormat}),this.otherCert]})}toJSON(){let e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof Dr||(e.otherCert=this.otherCert.toJSON()),e}},L2="certificates",SCe=[L2],av=class SsA extends Ie{constructor(e={}){super(),this.certificates=S(e,L2,SsA.defaultValues(L2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case L2:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new oo({name:t.blockName||N,value:[new ta({name:t.certificates||L2,value:new li({value:[Io.schema(),new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Dr]}),new SA({idBlock:{tagClass:3,tagNumber:1},value:[new iA]}),new SA({idBlock:{tagClass:3,tagNumber:2},value:oE.schema().valueBlock.value}),new SA({idBlock:{tagClass:3,tagNumber:3},value:$3.schema().valueBlock.value})]})})]})}fromSchema(e){Le(e,SCe);let t=Te(e,e,SsA.schema());fe.assertSchema(t,this.className),this.certificates=Array.from(t.result.certificates||[],r=>{let a=r.idBlock.tagNumber;if(r.idBlock.tagClass===1)return new Io({schema:r});let j=new iA({value:r.valueBlock.value});switch(a){case 1:return j.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec===1?new oE({schema:j}):new hL({schema:j});case 2:return new oE({schema:j});case 3:return new $3({schema:j})}return r})}toSchema(){return new oo({value:Array.from(this.certificates,e=>{switch(!0){case e instanceof Io:return e.toSchema();case e instanceof hL:return new SA({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof oE:return new SA({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof $3:return new SA({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e.toSchema()})})}toJSON(){return{certificates:Array.from(this.certificates,e=>e.toJSON())}}};av.CLASS_NAME="CertificateSet";var N2="otherRevInfoFormat",U2="otherRevInfo",CCe=[N2,U2],FC=class P3 extends Ie{constructor(e={}){super(),this.otherRevInfoFormat=S(e,N2,P3.defaultValues(N2)),this.otherRevInfo=S(e,U2,P3.defaultValues(U2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case N2:return N;case U2:return new Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.otherRevInfoFormat||N2}),new Dr({name:t.otherRevInfo||U2})]})}fromSchema(e){Le(e,CCe);let t=Te(e,e,P3.schema());fe.assertSchema(t,this.className),this.otherRevInfoFormat=t.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=t.result.otherRevInfo}toSchema(){return new iA({value:[new Nt({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){let e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof Dr||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}};FC.CLASS_NAME="OtherRevocationInfoFormat";var H2="crls",$oA="otherRevocationInfos",OCe=[H2],GC=class S3 extends Ie{constructor(e={}){super(),this.crls=S(e,H2,S3.defaultValues(H2)),this.otherRevocationInfos=S(e,$oA,S3.defaultValues($oA)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case H2:return[];case $oA:return[];default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new oo({name:t.blockName||N,value:[new ta({name:t.crls||N,value:new li({value:[ov.schema(),new SA({idBlock:{tagClass:3,tagNumber:1},value:[new Nt,new Dr]})]})})]})}fromSchema(e){Le(e,OCe);let t=Te(e,e,S3.schema({names:{crls:H2}}));if(fe.assertSchema(t,this.className),t.result.crls)for(let r of t.result.crls)r.idBlock.tagClass===1?this.crls.push(new ov({schema:r})):this.otherRevocationInfos.push(new FC({schema:r}))}toSchema(){let e=[];return e.push(...Array.from(this.crls,t=>t.toSchema())),e.push(...Array.from(this.otherRevocationInfos,t=>{let r=t.toSchema();return r.idBlock.tagClass=3,r.idBlock.tagNumber=1,r})),new oo({value:e})}toJSON(){return{crls:Array.from(this.crls,e=>e.toJSON()),otherRevocationInfos:Array.from(this.otherRevocationInfos,e=>e.toJSON())}}};GC.CLASS_NAME="RevocationInfoChoices";var V2="certs",Ey="crls",TCe=[V2,Ey],C3=class CsA extends Ie{constructor(e={}){super(),this.crls=S(e,Ey,CsA.defaultValues(Ey)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case V2:return new av;case Ey:return new GC;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case V2:return t.certificates.length===0;case Ey:return t.crls.length===0&&t.otherRevocationInfos.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({name:t.certs||N,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:av.schema().valueBlock.value}),new SA({name:t.crls||N,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:GC.schema().valueBlock.value})]})}fromSchema(e){Le(e,TCe);let t=Te(e,e,CsA.schema({names:{certs:V2,crls:Ey}}));fe.assertSchema(t,this.className),V2 in t.result&&(this.certs=new av({schema:new oo({value:t.result.certs.valueBlock.value})})),Ey in t.result&&(this.crls=new GC({schema:new oo({value:t.result.crls.valueBlock.value})}))}toSchema(){let e=[];return this.certs&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),this.crls&&e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new iA({value:e})}toJSON(){let e={};return this.certs&&(e.certs=this.certs.toJSON()),this.crls&&(e.crls=this.crls.toJSON()),e}};C3.CLASS_NAME="OriginatorInfo";var X2="issuer",W2="serialNumber",_Ce=[X2,W2],ml=class O3 extends Ie{constructor(e={}){super(),this.issuer=S(e,X2,O3.defaultValues(X2)),this.serialNumber=S(e,W2,O3.defaultValues(W2)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case X2:return new Qn;case W2:return new Ae;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[Qn.schema(t.issuer||{}),new Ae({name:t.serialNumber||N})]})}fromSchema(e){Le(e,_Ce);let t=Te(e,e,O3.schema({names:{issuer:{names:{blockName:X2}},serialNumber:W2}}));fe.assertSchema(t,this.className),this.issuer=new Qn({schema:t.result.issuer}),this.serialNumber=t.result.serialNumber}toSchema(){return new iA({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}};ml.CLASS_NAME="IssuerAndSerialNumber";var TK="variant",UP="value",DCe=["blockName"],SDA=class T3 extends Ie{constructor(e={}){super(),this.variant=S(e,TK,T3.defaultValues(TK)),UP in e&&(this.value=S(e,UP,T3.defaultValues(UP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case TK:return-1;case UP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case TK:return t===-1;case UP:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new li({value:[ml.schema({names:{blockName:t.blockName||N}}),new Cr({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(e){Le(e,DCe);let t=Te(e,e,T3.schema({names:{blockName:"blockName"}}));fe.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new ml({schema:t.result.blockName})):(this.variant=2,this.value=new At({valueHex:t.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:if(!(this.value instanceof ml))throw new Error("Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.");return this.value.toSchema();case 2:if(!(this.value instanceof At))throw new Error("Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.");return new Cr({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHexView});default:return new Dr}}toJSON(){let e={variant:this.variant};return(this.variant===1||this.variant===2)&&this.value&&(e.value=this.value.toJSON()),e}};SDA.CLASS_NAME="RecipientIdentifier";var xy="version",Jw="rid",Yw="keyEncryptionAlgorithm",Zw="encryptedKey",_K="recipientCertificate",zCe=[xy,Jw,Yw,Zw],GL=class Zh extends Ie{constructor(e={}){super(),this.version=S(e,xy,Zh.defaultValues(xy)),this.rid=S(e,Jw,Zh.defaultValues(Jw)),this.keyEncryptionAlgorithm=S(e,Yw,Zh.defaultValues(Yw)),this.encryptedKey=S(e,Zw,Zh.defaultValues(Zw)),this.recipientCertificate=S(e,_K,Zh.defaultValues(_K)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xy:return-1;case Jw:return{};case Yw:return new te;case Zw:return new At;case _K:return new Io;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xy:return t===Zh.defaultValues(xy);case Jw:return Object.keys(t).length===0;case Yw:case Zw:return t.isEqual(Zh.defaultValues(e));case _K:return!1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),SDA.schema(t.rid||{}),te.schema(t.keyEncryptionAlgorithm||{}),new At({name:t.encryptedKey||N})]})}fromSchema(e){Le(e,zCe);let t=Te(e,e,Zh.schema({names:{version:xy,rid:{names:{blockName:Jw}},keyEncryptionAlgorithm:{names:{blockName:Yw}},encryptedKey:Zw}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,t.result.rid.idBlock.tagClass===3?this.rid=new At({valueHex:t.result.rid.valueBlock.valueHex}):this.rid=new ml({schema:t.result.rid}),this.keyEncryptionAlgorithm=new te({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){let e=[];return this.rid instanceof ml?(this.version=0,e.push(new Ae({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new Ae({value:this.version})),e.push(new Cr({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHexView}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new iA({value:e})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}};GL.CLASS_NAME="KeyTransRecipientInfo";var Qw="algorithm",Aq="publicKey",MCe=[Qw,Aq],wL=class J2 extends Ie{constructor(e={}){super(),this.algorithm=S(e,Qw,J2.defaultValues(Qw)),this.publicKey=S(e,Aq,J2.defaultValues(Aq)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qw:return new te;case Aq:return new Qa;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Qw:case Aq:return t.isEqual(J2.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.algorithm||{}),new Qa({name:t.publicKey||N})]})}fromSchema(e){Le(e,MCe);let t=Te(e,e,J2.schema({names:{algorithm:{names:{blockName:Qw}},publicKey:Aq}}));fe.assertSchema(t,this.className),this.algorithm=new te({schema:t.result.algorithm}),this.publicKey=t.result.publicKey}toSchema(){return new iA({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}};wL.CLASS_NAME="OriginatorPublicKey";var DK="variant",HP="value",RCe=["blockName"],wC=class _3 extends Ie{constructor(e={}){super(),this.variant=S(e,DK,_3.defaultValues(DK)),HP in e&&(this.value=S(e,HP,_3.defaultValues(HP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case DK:return-1;case HP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case DK:return t===-1;case HP:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new li({value:[ml.schema({names:{blockName:t.blockName||N}}),new Cr({idBlock:{tagClass:3,tagNumber:0},name:t.blockName||N}),new SA({idBlock:{tagClass:3,tagNumber:1},name:t.blockName||N,value:wL.schema().valueBlock.value})]})}fromSchema(e){Le(e,RCe);let t=Te(e,e,_3.schema({names:{blockName:"blockName"}}));fe.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new ml({schema:t.result.blockName})):t.result.blockName.idBlock.tagNumber===0?(t.result.blockName.idBlock.tagClass=1,t.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=t.result.blockName):(this.variant=3,this.value=new wL({schema:new iA({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{let e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new Dr}}toJSON(){let e={variant:this.variant};return(this.variant===1||this.variant===2||this.variant===3)&&(e.value=this.value.toJSON()),e}};wC.CLASS_NAME="OriginatorIdentifierOrKey";var eq="keyAttrId",Ik="keyAttr",KCe=[eq,Ik],jv=class D3 extends Ie{constructor(e={}){super(),this.keyAttrId=S(e,eq,D3.defaultValues(eq)),Ik in e&&(this.keyAttr=S(e,Ik,D3.defaultValues(Ik))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case eq:return N;case Ik:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case eq:return typeof t=="string"&&t===N;case Ik:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({optional:t.optional||!0,name:t.blockName||N,value:[new Nt({name:t.keyAttrId||N}),new Dr({optional:!0,name:t.keyAttr||N})]})}fromSchema(e){Le(e,KCe);let t=Te(e,e,D3.schema({names:{keyAttrId:eq,keyAttr:Ik}}));fe.assertSchema(t,this.className),this.keyAttrId=t.result.keyAttrId.valueBlock.toString(),Ik in t.result&&(this.keyAttr=t.result.keyAttr)}toSchema(){let e=[];return e.push(new Nt({value:this.keyAttrId})),Ik in this&&e.push(this.keyAttr),new iA({value:e})}toJSON(){let e={keyAttrId:this.keyAttrId};return Ik in this&&(e.keyAttr=this.keyAttr.toJSON()),e}};jv.CLASS_NAME="OtherKeyAttribute";var by="subjectKeyIdentifier",DB="date",zB="other",LCe=[by,DB,zB],qL=class tq extends Ie{constructor(e={}){super(),this.subjectKeyIdentifier=S(e,by,tq.defaultValues(by)),DB in e&&(this.date=S(e,DB,tq.defaultValues(DB))),zB in e&&(this.other=S(e,zB,tq.defaultValues(zB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case by:return new At;case DB:return new si;case zB:return new jv;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case by:return t.isEqual(tq.defaultValues(by));case DB:return t.year===0&&t.month===0&&t.day===0&&t.hour===0&&t.minute===0&&t.second===0&&t.millisecond===0;case zB:return t.keyAttrId===N&&!("keyAttr"in t);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new At({name:t.subjectKeyIdentifier||N}),new si({optional:!0,name:t.date||N}),jv.schema(t.other||{})]})}fromSchema(e){Le(e,LCe);let t=Te(e,e,tq.schema({names:{subjectKeyIdentifier:by,date:DB,other:{names:{blockName:zB}}}}));fe.assertSchema(t,this.className),this.subjectKeyIdentifier=t.result.subjectKeyIdentifier,DB in t.result&&(this.date=t.result.date),zB in t.result&&(this.other=new jv({schema:t.result.other}))}toSchema(){let e=[];return e.push(this.subjectKeyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new iA({value:e})}toJSON(){let e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return this.date&&(e.date=this.date.toJSON()),this.other&&(e.other=this.other.toJSON()),e}};qL.CLASS_NAME="RecipientKeyIdentifier";var zK="variant",MK="value",NCe=["blockName"],o1=class z3 extends Ie{constructor(e={}){super(),this.variant=S(e,zK,z3.defaultValues(zK)),this.value=S(e,MK,z3.defaultValues(MK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zK:return-1;case MK:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case zK:return t===-1;case MK:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new li({value:[ml.schema(t.issuerAndSerialNumber||{names:{blockName:t.blockName||N}}),new SA({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:0},value:qL.schema(t.rKeyId||{names:{blockName:t.blockName||N}}).valueBlock.value})]})}fromSchema(e){Le(e,NCe);let t=Te(e,e,z3.schema({names:{blockName:"blockName"}}));fe.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new ml({schema:t.result.blockName})):(this.variant=2,this.value=new qL({schema:new iA({value:t.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new SA({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new Dr}}toJSON(){let e={variant:this.variant};return(this.variant===1||this.variant===2)&&(e.value=this.value.toJSON()),e}};o1.CLASS_NAME="KeyAgreeRecipientIdentifier";var rq="rid",yy="encryptedKey",UCe=[rq,yy],$L=class Y2 extends Ie{constructor(e={}){super(),this.rid=S(e,rq,Y2.defaultValues(rq)),this.encryptedKey=S(e,yy,Y2.defaultValues(yy)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rq:return new o1;case yy:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case rq:return t.variant===-1&&!("value"in t);case yy:return t.isEqual(Y2.defaultValues(yy));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[o1.schema(t.rid||{}),new At({name:t.encryptedKey||N})]})}fromSchema(e){Le(e,UCe);let t=Te(e,e,Y2.schema({names:{rid:{names:{blockName:rq}},encryptedKey:yy}}));fe.assertSchema(t,this.className),this.rid=new o1({schema:t.result.rid}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new iA({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}};$L.CLASS_NAME="RecipientEncryptedKey";var RK="encryptedKeys",CDA="RecipientEncryptedKeys",HCe=[CDA],qC=class OsA extends Ie{constructor(e={}){super(),this.encryptedKeys=S(e,RK,OsA.defaultValues(RK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case RK:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case RK:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.RecipientEncryptedKeys||N,value:$L.schema()})]})}fromSchema(e){Le(e,HCe);let t=Te(e,e,OsA.schema({names:{RecipientEncryptedKeys:CDA}}));fe.assertSchema(t,this.className),this.encryptedKeys=Array.from(t.result.RecipientEncryptedKeys,r=>new $L({schema:r}))}toSchema(){return new iA({value:Array.from(this.encryptedKeys,e=>e.toSchema())})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,e=>e.toJSON())}}};qC.CLASS_NAME="RecipientEncryptedKeys";var aq="version",jq="originator",Qh="ukm",nq="keyEncryptionAlgorithm",iq="recipientEncryptedKeys",KK="recipientCertificate",LK="recipientPublicKey",VCe=[aq,jq,Qh,nq,iq],IL=class Pk extends Ie{constructor(e={}){super(),this.version=S(e,aq,Pk.defaultValues(aq)),this.originator=S(e,jq,Pk.defaultValues(jq)),Qh in e&&(this.ukm=S(e,Qh,Pk.defaultValues(Qh))),this.keyEncryptionAlgorithm=S(e,nq,Pk.defaultValues(nq)),this.recipientEncryptedKeys=S(e,iq,Pk.defaultValues(iq)),this.recipientCertificate=S(e,KK,Pk.defaultValues(KK)),this.recipientPublicKey=S(e,LK,Pk.defaultValues(LK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case aq:return 0;case jq:return new wC;case Qh:return new At;case nq:return new te;case iq:return new qC;case KK:return new Io;case LK:return null;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case aq:return t===0;case jq:return t.variant===-1&&!("value"in t);case Qh:return t.isEqual(Pk.defaultValues(Qh));case nq:return t.algorithmId===N&&!("algorithmParams"in t);case iq:return t.encryptedKeys.length===0;case KK:return!1;case LK:return!1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new SA({idBlock:{tagClass:3,tagNumber:0},value:[wC.schema(t.originator||{})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new At({name:t.ukm||N})]}),te.schema(t.keyEncryptionAlgorithm||{}),qC.schema(t.recipientEncryptedKeys||{})]})}fromSchema(e){Le(e,VCe);let t=Te(e,e,Pk.schema({names:{version:aq,originator:{names:{blockName:jq}},ukm:Qh,keyEncryptionAlgorithm:{names:{blockName:nq}},recipientEncryptedKeys:{names:{blockName:iq}}}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.originator=new wC({schema:t.result.originator}),Qh in t.result&&(this.ukm=t.result.ukm),this.keyEncryptionAlgorithm=new te({schema:t.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new qC({schema:t.result.recipientEncryptedKeys})}toSchema(){let e=[];return e.push(new Ae({value:this.version})),e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),this.ukm&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new iA({value:e})}toJSON(){let e={version:this.version,originator:this.originator.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),recipientEncryptedKeys:this.recipientEncryptedKeys.toJSON()};return this.ukm&&(e.ukm=this.ukm.toJSON()),e}};IL.CLASS_NAME="KeyAgreeRecipientInfo";var vy="keyIdentifier",MB="date",RB="other",XCe=[vy,MB,RB],$C=class oq extends Ie{constructor(e={}){super(),this.keyIdentifier=S(e,vy,oq.defaultValues(vy)),MB in e&&(this.date=S(e,MB,oq.defaultValues(MB))),RB in e&&(this.other=S(e,RB,oq.defaultValues(RB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case vy:return new At;case MB:return new si;case RB:return new jv;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case vy:return t.isEqual(oq.defaultValues(vy));case MB:return t.year===0&&t.month===0&&t.day===0&&t.hour===0&&t.minute===0&&t.second===0&&t.millisecond===0;case RB:return t.compareWithDefault("keyAttrId",t.keyAttrId)&&!("keyAttr"in t);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new At({name:t.keyIdentifier||N}),new si({optional:!0,name:t.date||N}),jv.schema(t.other||{})]})}fromSchema(e){Le(e,XCe);let t=Te(e,e,oq.schema({names:{keyIdentifier:vy,date:MB,other:{names:{blockName:RB}}}}));fe.assertSchema(t,this.className),this.keyIdentifier=t.result.keyIdentifier,MB in t.result&&(this.date=t.result.date),RB in t.result&&(this.other=new jv({schema:t.result.other}))}toSchema(){let e=[];return e.push(this.keyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new iA({value:e})}toJSON(){let e={keyIdentifier:this.keyIdentifier.toJSON()};return this.date&&(e.date=this.date),this.other&&(e.other=this.other.toJSON()),e}};$C.CLASS_NAME="KEKIdentifier";var sq="version",lq="kekid",cq="keyEncryptionAlgorithm",Fy="encryptedKey",NK="preDefinedKEK",WCe=[sq,lq,cq,Fy],PL=class Ag extends Ie{constructor(e={}){super(),this.version=S(e,sq,Ag.defaultValues(sq)),this.kekid=S(e,lq,Ag.defaultValues(lq)),this.keyEncryptionAlgorithm=S(e,cq,Ag.defaultValues(cq)),this.encryptedKey=S(e,Fy,Ag.defaultValues(Fy)),this.preDefinedKEK=S(e,NK,Ag.defaultValues(NK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sq:return 0;case lq:return new $C;case cq:return new te;case Fy:return new At;case NK:return $o;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"KEKRecipientInfo":return t===Ag.defaultValues(sq);case lq:return t.compareWithDefault("keyIdentifier",t.keyIdentifier)&&!("date"in t)&&!("other"in t);case cq:return t.algorithmId===N&&!("algorithmParams"in t);case Fy:return t.isEqual(Ag.defaultValues(Fy));case NK:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),$C.schema(t.kekid||{}),te.schema(t.keyEncryptionAlgorithm||{}),new At({name:t.encryptedKey||N})]})}fromSchema(e){Le(e,WCe);let t=Te(e,e,Ag.schema({names:{version:sq,kekid:{names:{blockName:lq}},keyEncryptionAlgorithm:{names:{blockName:cq}},encryptedKey:Fy}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.kekid=new $C({schema:t.result.kekid}),this.keyEncryptionAlgorithm=new te({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){return new iA({value:[new Ae({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}};PL.CLASS_NAME="KEKRecipientInfo";var uq="version",KB="keyDerivationAlgorithm",dq="keyEncryptionAlgorithm",Gy="encryptedKey",UK="password",JCe=[uq,KB,dq,Gy],SL=class LB extends Ie{constructor(e={}){super(),this.version=S(e,uq,LB.defaultValues(uq)),KB in e&&(this.keyDerivationAlgorithm=S(e,KB,LB.defaultValues(KB))),this.keyEncryptionAlgorithm=S(e,dq,LB.defaultValues(dq)),this.encryptedKey=S(e,Gy,LB.defaultValues(Gy)),this.password=S(e,UK,LB.defaultValues(UK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case uq:return-1;case KB:return new te;case dq:return new te;case Gy:return new At;case UK:return $o;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case uq:return t===-1;case KB:case dq:return t.algorithmId===N&&!("algorithmParams"in t);case Gy:return t.isEqual(LB.defaultValues(Gy));case UK:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new SA({name:t.keyDerivationAlgorithm||N,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:te.schema().valueBlock.value}),te.schema(t.keyEncryptionAlgorithm||{}),new At({name:t.encryptedKey||N})]})}fromSchema(e){Le(e,JCe);let t=Te(e,e,LB.schema({names:{version:uq,keyDerivationAlgorithm:KB,keyEncryptionAlgorithm:{names:{blockName:dq}},encryptedKey:Gy}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,KB in t.result&&(this.keyDerivationAlgorithm=new te({schema:new iA({value:t.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new te({schema:t.result.keyEncryptionAlgorithm}),this.encryptedKey=t.result.encryptedKey}toSchema(){let e=[];return e.push(new Ae({value:this.version})),this.keyDerivationAlgorithm&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new iA({value:e})}toJSON(){let e={version:this.version,keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()};return this.keyDerivationAlgorithm&&(e.keyDerivationAlgorithm=this.keyDerivationAlgorithm.toJSON()),e}};SL.CLASS_NAME="PasswordRecipientInfo";var mq="oriType",wy="oriValue",YCe=[mq,wy],TsA=class Z2 extends Ie{constructor(e={}){super(),this.oriType=S(e,mq,Z2.defaultValues(mq)),this.oriValue=S(e,wy,Z2.defaultValues(wy)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mq:return N;case wy:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case mq:return t===N;case wy:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.oriType||N}),new Dr({name:t.oriValue||N})]})}fromSchema(e){Le(e,YCe);let t=Te(e,e,Z2.schema({names:{oriType:mq,oriValue:wy}}));fe.assertSchema(t,this.className),this.oriType=t.result.oriType.valueBlock.toString(),this.oriValue=t.result.oriValue}toSchema(){return new iA({value:[new Nt({value:this.oriType}),this.oriValue]})}toJSON(){let e={oriType:this.oriType};return Z2.compareWithDefault(wy,this.oriValue)||(e.oriValue=this.oriValue.toJSON()),e}};TsA.CLASS_NAME="OtherRecipientInfo";var HK="variant",VP="value",ZCe=["blockName"],qy=class Q2 extends Ie{constructor(e={}){super(),this.variant=S(e,HK,Q2.defaultValues(HK)),VP in e&&(this.value=S(e,VP,Q2.defaultValues(VP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case HK:return-1;case VP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case HK:return t===Q2.defaultValues(e);case VP:return Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new li({value:[GL.schema({names:{blockName:t.blockName||N}}),new SA({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:1},value:IL.schema().valueBlock.value}),new SA({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:2},value:PL.schema().valueBlock.value}),new SA({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:3},value:SL.schema().valueBlock.value}),new SA({name:t.blockName||N,idBlock:{tagClass:3,tagNumber:4},value:TsA.schema().valueBlock.value})]})}fromSchema(e){Le(e,ZCe);let t=Te(e,e,Q2.schema({names:{blockName:"blockName"}}));if(fe.assertSchema(t,this.className),t.result.blockName.idBlock.tagClass===1)this.variant=1,this.value=new GL({schema:t.result.blockName});else{let r=new iA({value:t.result.blockName.valueBlock.value});switch(t.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new IL({schema:r});break;case 2:this.variant=3,this.value=new PL({schema:r});break;case 3:this.variant=4,this.value=new SL({schema:r});break;case 4:this.variant=5,this.value=new TsA({schema:r});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){Tj.assertEmpty(this.value,"value","RecipientInfo");let e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new Dr}}toJSON(){let e={variant:this.variant};return this.value&&this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}};qy.CLASS_NAME="RecipientInfo";var NB="hashAlgorithm",UB="maskGenAlgorithm",HB="pSourceAlgorithm",QCe=[NB,UB,HB],M3=class Vm extends Ie{constructor(e={}){super(),this.hashAlgorithm=S(e,NB,Vm.defaultValues(NB)),this.maskGenAlgorithm=S(e,UB,Vm.defaultValues(UB)),this.pSourceAlgorithm=S(e,HB,Vm.defaultValues(HB)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case NB:return new te({algorithmId:"1.3.14.3.2.26",algorithmParams:new io});case UB:return new te({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new te({algorithmId:"1.3.14.3.2.26",algorithmParams:new io}).toSchema()});case HB:return new te({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new At({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new SA({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[te.schema(t.hashAlgorithm||{})]}),new SA({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[te.schema(t.maskGenAlgorithm||{})]}),new SA({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[te.schema(t.pSourceAlgorithm||{})]})]})}fromSchema(e){Le(e,QCe);let t=Te(e,e,Vm.schema({names:{hashAlgorithm:{names:{blockName:NB}},maskGenAlgorithm:{names:{blockName:UB}},pSourceAlgorithm:{names:{blockName:HB}}}}));fe.assertSchema(t,this.className),NB in t.result&&(this.hashAlgorithm=new te({schema:t.result.hashAlgorithm})),UB in t.result&&(this.maskGenAlgorithm=new te({schema:t.result.maskGenAlgorithm})),HB in t.result&&(this.pSourceAlgorithm=new te({schema:t.result.pSourceAlgorithm}))}toSchema(){let e=[];return this.hashAlgorithm.isEqual(Vm.defaultValues(NB))||e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Vm.defaultValues(UB))||e.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(Vm.defaultValues(HB))||e.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new iA({value:e})}toJSON(){let e={};return this.hashAlgorithm.isEqual(Vm.defaultValues(NB))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Vm.defaultValues(UB))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(Vm.defaultValues(HB))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}};M3.CLASS_NAME="RSAESOAEPParams";var pq="keyInfo",VB="entityUInfo",kq="suppPubInfo",AOe=[pq,VB,kq],_sA=class hq extends Ie{constructor(e={}){super(),this.keyInfo=S(e,pq,hq.defaultValues(pq)),VB in e&&(this.entityUInfo=S(e,VB,hq.defaultValues(VB))),this.suppPubInfo=S(e,kq,hq.defaultValues(kq)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case pq:return new te;case VB:return new At;case kq:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case pq:case VB:case kq:return t.isEqual(hq.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.keyInfo||{}),new SA({name:t.entityUInfo||N,idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new At]}),new SA({name:t.suppPubInfo||N,idBlock:{tagClass:3,tagNumber:2},value:[new At]})]})}fromSchema(e){Le(e,AOe);let t=Te(e,e,hq.schema({names:{keyInfo:{names:{blockName:pq}},entityUInfo:VB,suppPubInfo:kq}}));fe.assertSchema(t,this.className),this.keyInfo=new te({schema:t.result.keyInfo}),VB in t.result&&(this.entityUInfo=t.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=t.result.suppPubInfo.valueBlock.value[0]}toSchema(){let e=[];return e.push(this.keyInfo.toSchema()),this.entityUInfo&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new iA({value:e})}toJSON(){let e={keyInfo:this.keyInfo.toJSON(),suppPubInfo:this.suppPubInfo.toJSON()};return this.entityUInfo&&(e.entityUInfo=this.entityUInfo.toJSON()),e}};_sA.CLASS_NAME="ECCCMSSharedInfo";var gq="version",XB="originatorInfo",fq="recipientInfos",Bq="encryptedContentInfo",WB="unprotectedAttrs",eOe=[gq,XB,fq,Bq,WB],vTA={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},tOe={"P-256":256,"P-384":384,"P-521":528},DsA=class JB extends Ie{constructor(e={}){super(),this.version=S(e,gq,JB.defaultValues(gq)),XB in e&&(this.originatorInfo=S(e,XB,JB.defaultValues(XB))),this.recipientInfos=S(e,fq,JB.defaultValues(fq)),this.encryptedContentInfo=S(e,Bq,JB.defaultValues(Bq)),WB in e&&(this.unprotectedAttrs=S(e,WB,JB.defaultValues(WB))),this.policy={disableSplit:!!e.disableSplit},e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gq:return 0;case XB:return new C3;case fq:return[];case Bq:return new Vl;case WB:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case gq:return t===JB.defaultValues(e);case XB:return t.certs.certificates.length===0&&t.crls.crls.length===0;case fq:case WB:return t.length===0;case Bq:return Vl.compareWithDefault("contentType",t.contentType)&&Vl.compareWithDefault("contentEncryptionAlgorithm",t.contentEncryptionAlgorithm)&&Vl.compareWithDefault("encryptedContent",t.encryptedContent);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||N}),new SA({name:t.originatorInfo||N,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:C3.schema().valueBlock.value}),new oo({value:[new ta({name:t.recipientInfos||N,value:qy.schema()})]}),Vl.schema(t.encryptedContentInfo||{}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ta({name:t.unprotectedAttrs||N,value:lo.schema()})]})]})}fromSchema(e){Le(e,eOe);let t=Te(e,e,JB.schema({names:{version:gq,originatorInfo:XB,recipientInfos:fq,encryptedContentInfo:{names:{blockName:Bq}},unprotectedAttrs:WB}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,XB in t.result&&(this.originatorInfo=new C3({schema:new iA({value:t.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(t.result.recipientInfos,r=>new qy({schema:r})),this.encryptedContentInfo=new Vl({schema:t.result.encryptedContentInfo}),WB in t.result&&(this.unprotectedAttrs=Array.from(t.result.unprotectedAttrs,r=>new lo({schema:r})))}toSchema(){let e=[];return e.push(new Ae({value:this.version})),this.originatorInfo&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new oo({value:Array.from(this.recipientInfos,t=>t.toSchema())})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={version:this.version,recipientInfos:Array.from(this.recipientInfos,t=>t.toJSON()),encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.originatorInfo&&(e.originatorInfo=this.originatorInfo.toJSON()),this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,t=>t.toJSON())),e}addRecipientByCertificate(e,t,r,a=Fa(!0)){let j=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},vTA,t||{});if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549")!==-1)r=1;else if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045")!==-1)r=2;else throw new Error(`Unknown type of certificate's public key: ${e.subjectPublicKeyInfo.algorithm.algorithmId}`);switch(r){case 1:{let n,i;if(j.useOAEP===!0){n=a.getOIDByAlgorithm({name:"RSA-OAEP"},!0,"keyEncryptionAlgorithm");let s=a.getOIDByAlgorithm({name:j.oaepHashAlgorithm},!0,"RSAES-OAEP-params"),c=new te({algorithmId:s,algorithmParams:new io});i=new M3({hashAlgorithm:c,maskGenAlgorithm:new te({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:c.toSchema()})}).toSchema()}else{if(n=a.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"}),n===N)throw new Error("Can not find OID for RSAES-PKCS1-v1_5");i=new io}let o=new GL({version:0,rid:new ml({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new te({algorithmId:n,algorithmParams:i}),recipientCertificate:e});this.recipientInfos.push(new qy({variant:1,value:o}))}break;case 2:{let n=new o1({variant:1,value:new ml({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(n,j,{recipientCertificate:e},a)}break;default:throw new Error(`Unknown "variant" value: ${r}`)}return!0}addRecipientByPreDefinedData(e,t={},r,a=Fa(!0)){if($n.assert(e,"preDefinedData","ArrayBuffer"),!e.byteLength)throw new Error("Pre-defined data could have zero length");if(!t.keyIdentifier){let j=new ArrayBuffer(16),n=new Uint8Array(j);a.getRandomValues(n),t.keyIdentifier=j}switch(t.hmacHashAlgorithm||(t.hmacHashAlgorithm="SHA-512"),t.iterationCount===void 0&&(t.iterationCount=2048),t.keyEncryptionAlgorithm||(t.keyEncryptionAlgorithm={name:"AES-KW",length:256}),t.keyEncryptionAlgorithmParams||(t.keyEncryptionAlgorithmParams=new io),r){case 1:{let j=a.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),n=new PL({version:4,kekid:new $C({keyIdentifier:new At({valueHex:t.keyIdentifier})}),keyEncryptionAlgorithm:new te({algorithmId:j,algorithmParams:t.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new qy({variant:3,value:n}))}break;case 2:{let j=a.getOIDByAlgorithm({name:"PBKDF2"},!0,"keyDerivationAlgorithm"),n=new ArrayBuffer(64),i=new Uint8Array(n);a.getRandomValues(i);let o=a.getOIDByAlgorithm({name:"HMAC",hash:{name:t.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),s=new i1({salt:new At({valueHex:n}),iterationCount:t.iterationCount,prf:new te({algorithmId:o,algorithmParams:new io})}),c=a.getOIDByAlgorithm(t.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),u=new SL({version:0,keyDerivationAlgorithm:new te({algorithmId:j,algorithmParams:s.toSchema()}),keyEncryptionAlgorithm:new te({algorithmId:c,algorithmParams:t.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new qy({variant:4,value:u}))}break;default:throw new Error(`Unknown value for "variant": ${r}`)}}addRecipientByKeyIdentifier(e,t,r,a=Fa(!0)){let j=Object.assign({},vTA,r||{}),n=new o1({variant:2,value:new qL({subjectKeyIdentifier:new At({valueHex:t})})});this._addKeyAgreeRecipientInfo(n,j,{recipientPublicKey:e},a)}_addKeyAgreeRecipientInfo(e,t,r,a=Fa(!0)){let j=new $L({rid:e}),n=a.getOIDByAlgorithm({name:"AES-KW",length:t.kekEncryptionLength},!0,"keyEncryptionAlgorithm"),i=new te({algorithmId:n}),o=a.getOIDByAlgorithm({name:"ECDH",kdf:t.kdfAlgorithm},!0,"KeyAgreeRecipientInfo"),s=new ArrayBuffer(64),c=new Uint8Array(s);a.getRandomValues(c);let u={version:3,ukm:new At({valueHex:s}),keyEncryptionAlgorithm:new te({algorithmId:o,algorithmParams:i.toSchema()}),recipientEncryptedKeys:new qC({encryptedKeys:[j]})},p=new IL(Object.assign(u,r));this.recipientInfos.push(new qy({variant:2,value:p}))}async encrypt(e,t,r=Fa(!0)){let a=new ArrayBuffer(16),j=new Uint8Array(a);r.getRandomValues(j);let n=new Uint8Array(t),i=r.getOIDByAlgorithm(e,!0,"contentEncryptionAlgorithm"),o=await r.generateKey(e,!0,["encrypt"]),s=await r.encrypt({name:e.name,iv:j},o,n),c=await r.exportKey("raw",o);this.version=2,this.encryptedContentInfo=new Vl({disableSplit:this.policy.disableSplit,contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new te({algorithmId:i,algorithmParams:new At({valueHex:a})}),encryptedContent:new At({valueHex:s})});let u=async w=>{let y=this.recipientInfos[w].value,E,$;if(y.recipientPublicKey)E=y.recipientPublicKey.algorithm.namedCurve,$=y.recipientPublicKey;else if(y.recipientCertificate){let IA=y.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(IA.constructor.blockName()!==Nt.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${w}`);switch(IA.valueBlock.toString()){case"1.2.840.10045.3.1.7":E="P-256";break;case"1.3.132.0.34":E="P-384";break;case"1.3.132.0.35":E="P-521";break;default:throw new Error(`Incorrect curve OID for index ${w}`)}$=await y.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:E},usages:[]}},r)}else throw new Error("Unsupported RecipientInfo");let T=tOe[E],O=await r.generateKey({name:"ECDH",namedCurve:E},!0,["deriveBits"]),I=await r.exportKey("spki",O.publicKey),q=await r.deriveBits({name:"ECDH",public:$},O.privateKey,T),K=new te({schema:y.keyEncryptionAlgorithm.algorithmParams}),aA=r.getAlgorithmByOID(K.algorithmId,!0,"aesKWAlgorithm"),nA=aA.length,lA=new ArrayBuffer(4),qA=new Uint8Array(lA);for(let IA=3;IA>=0;IA--)qA[IA]=nA,nA>>=8;let le=new _sA({keyInfo:new te({algorithmId:K.algorithmId}),entityUInfo:y.ukm,suppPubInfo:new At({valueHex:lA})}).toSchema().toBER(!1),yA=r.getAlgorithmByOID(y.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm"),we=await uTA(yA.kdf,q,aA.length,le,r),ge=await r.importKey("raw",we,{name:"AES-KW"},!0,["wrapKey"]),ot=await r.wrapKey("raw",o,ge,{name:"AES-KW"}),ue=new wC;return ue.variant=3,ue.value=wL.fromBER(I),y.originator=ue,y.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new At({valueHex:ot}),{ecdhPrivateKey:O.privateKey}},p=async w=>{let y=this.recipientInfos[w].value,E=r.getAlgorithmByOID(y.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(E.name==="RSA-OAEP"){let $=y.keyEncryptionAlgorithm.algorithmParams,T=new M3({schema:$});if(E.hash=r.getAlgorithmByOID(T.hashAlgorithm.algorithmId),!("name"in E.hash))throw new Error(`Incorrect OID for hash algorithm: ${T.hashAlgorithm.algorithmId}`)}try{let $=await y.recipientCertificate.getPublicKey({algorithm:{algorithm:E,usages:["encrypt","wrapKey"]}},r),T=await r.encrypt($.algorithm,$,c);y.encryptedKey=new At({valueHex:T})}catch{}},h=async w=>{let y=this.recipientInfos[w].value,E=r.getAlgorithmByOID(y.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),$=await r.importKey("raw",new Uint8Array(y.preDefinedKEK),E,!0,["wrapKey"]),T=await r.wrapKey("raw",o,$,E);y.encryptedKey=new At({valueHex:T})},f=async w=>{let y=this.recipientInfos[w].value,E;if(!y.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!y.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{E=new i1({schema:y.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}let $=new Uint8Array(y.password),T=await r.importKey("raw",$,"PBKDF2",!1,["deriveKey"]),O=r.getAlgorithmByOID(y.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),I="SHA-1";E.prf&&(I=r.getAlgorithmByOID(E.prf.algorithmId,!0,"prfAlgorithm").hash.name);let q=new Uint8Array(E.salt.valueBlock.valueHex),K=E.iterationCount,aA=await r.deriveKey({name:"PBKDF2",hash:{name:I},salt:q,iterations:K},T,O,!0,["wrapKey"]),nA=await r.wrapKey("raw",o,aA,O);y.encryptedKey=new At({valueHex:nA})},G=[];for(let w=0;w<this.recipientInfos.length;w++)switch(this.recipientInfos[w].variant){case 1:G.push(await p(w));break;case 2:G.push(await u(w));break;case 3:G.push(await h(w));break;case 4:G.push(await f(w));break;default:throw new Error(`Unknown recipient type in array with index ${w}`)}return G}async decrypt(e,t,r=Fa(!0)){let a=t||{};if(e+1>this.recipientInfos.length)throw new Error(`Maximum value for "index" is: ${this.recipientInfos.length-1}`);let j=async G=>{let w=this.recipientInfos[G].value,y,E,$,T=w.originator;if(a.recipientCertificate){let yA=a.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(yA.constructor.blockName()!==Nt.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${G}`);y=yA.valueBlock.toString()}else if(T.value.algorithm.algorithmParams){let yA=T.value.algorithm.algorithmParams;if(yA.constructor.blockName()!==Nt.blockName())throw new Error(`Incorrect originator for index ${G}`);y=yA.valueBlock.toString()}else throw new Error('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');if(!a.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(y){case"1.2.840.10045.3.1.7":E="P-256",$=256;break;case"1.3.132.0.34":E="P-384",$=384;break;case"1.3.132.0.35":E="P-521",$=528;break;default:throw new Error(`Incorrect curve OID for index ${G}`)}let O,I=r;_r.isBufferSource(a.recipientPrivateKey)?O=await r.importKey("pkcs8",a.recipientPrivateKey,{name:"ECDH",namedCurve:E},!0,["deriveBits"]):(O=a.recipientPrivateKey,"crypto"in a&&a.crypto&&(I=a.crypto.subtle)),"algorithmParams"in T.value.algorithm||(T.value.algorithm.algorithmParams=new Nt({value:y}));let q=T.value.toSchema().toBER(!1),K=await r.importKey("spki",q,{name:"ECDH",namedCurve:E},!0,[]),aA=await I.deriveBits({name:"ECDH",public:K},O,$);async function nA(yA){yA=yA||!1;let we=new te({schema:w.keyEncryptionAlgorithm.algorithmParams}),ge=r.getAlgorithmByOID(we.algorithmId,!0,"kwAlgorithm"),ot=ge.length,ue=new ArrayBuffer(4),IA=new Uint8Array(ue);for(let st=3;st>=0;st--)IA[st]=ot,ot>>=8;let ne={algorithmId:we.algorithmId};yA&&(ne.algorithmParams=new io);let KA=new _sA({keyInfo:new te(ne),entityUInfo:w.ukm,suppPubInfo:new At({valueHex:ue})}).toSchema().toBER(!1),XA=r.getAlgorithmByOID(w.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm");if(!XA.name)throw new Error(`Incorrect OID for key encryption algorithm: ${w.keyEncryptionAlgorithm.algorithmId}`);return uTA(XA.kdf,aA,ge.length,KA,r)}let lA=await nA(),qA=async yA=>r.importKey("raw",yA,{name:"AES-KW"},!0,["unwrapKey"]),UA=await qA(lA),le=async yA=>{let we=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,ge=r.getAlgorithmByOID(we,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",w.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView,yA,{name:"AES-KW"},ge,!0,["decrypt"])};try{return await le(UA)}catch{let yA=await nA(!0),we=await qA(yA);return le(we)}},n=async G=>{let w=this.recipientInfos[G].value;if(!a.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');let y=r.getAlgorithmByOID(w.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(y.name==="RSA-OAEP"){let q=w.keyEncryptionAlgorithm.algorithmParams,K=new M3({schema:q});if(y.hash=r.getAlgorithmByOID(K.hashAlgorithm.algorithmId),!("name"in y.hash))throw new Error(`Incorrect OID for hash algorithm: ${K.hashAlgorithm.algorithmId}`)}let E,$=r;_r.isBufferSource(a.recipientPrivateKey)?E=await r.importKey("pkcs8",a.recipientPrivateKey,y,!0,["decrypt"]):(E=a.recipientPrivateKey,"crypto"in a&&a.crypto&&($=a.crypto.subtle));let T=await $.decrypt(E.algorithm,E,w.encryptedKey.valueBlock.valueHexView),O=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,I=r.getAlgorithmByOID(O,!0,"contentEncryptionAlgorithm");if(!("name"in I))throw new Error(`Incorrect "contentEncryptionAlgorithm": ${O}`);return r.importKey("raw",T,I,!0,["decrypt"])},i=async G=>{let w=this.recipientInfos[G].value;if(!a.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');let y=r.getAlgorithmByOID(w.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),E=await r.importKey("raw",a.preDefinedData,y,!0,["unwrapKey"]),$=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,T=r.getAlgorithmByOID($,!0,"contentEncryptionAlgorithm");if(!T.name)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${$}`);return r.unwrapKey("raw",w.encryptedKey.valueBlock.valueHexView,E,y,T,!0,["decrypt"])},o=async G=>{let w=this.recipientInfos[G].value,y;if(!a.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if(!w.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!w.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{y=new i1({schema:w.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}let E=await r.importKey("raw",a.preDefinedData,"PBKDF2",!1,["deriveKey"]),$=r.getAlgorithmByOID(w.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm"),T=y.prf?r.getAlgorithmByOID(y.prf.algorithmId,!0,"prfAlgorithm").hash.name:"SHA-1",O=new Uint8Array(y.salt.valueBlock.valueHex),I=y.iterationCount,q=await r.deriveKey({name:"PBKDF2",hash:{name:T},salt:O,iterations:I},E,$,!0,["unwrapKey"]),K=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,aA=r.getAlgorithmByOID(K,!0,"contentEncryptionAlgorithm");return r.unwrapKey("raw",w.encryptedKey.valueBlock.valueHexView,q,$,aA,!0,["decrypt"])},s;switch(this.recipientInfos[e].variant){case 1:s=await n(e);break;case 2:s=await j(e);break;case 3:s=await i(e);break;case 4:s=await o(e);break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}let c=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,u=r.getAlgorithmByOID(c,!0,"contentEncryptionAlgorithm"),p=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,h=new Uint8Array(p);if(!this.encryptedContentInfo.encryptedContent)throw new Error("Required property `encryptedContent` is empty");let f=this.encryptedContentInfo.getEncryptedContent();return r.decrypt({name:u.name,iv:h},s,f)}};DsA.CLASS_NAME="EnvelopedData";var gw="safeContents",XP="parsedValue",FTA="contentInfos",zsA=class R3 extends Ie{constructor(e={}){super(),this.safeContents=S(e,gw,R3.defaultValues(gw)),XP in e&&(this.parsedValue=S(e,XP,R3.defaultValues(XP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case gw:return[];case XP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case gw:return t.length===0;case XP:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new ta({name:t.contentInfos||N,value:Li.schema()})]})}fromSchema(e){Le(e,[FTA]);let t=Te(e,e,R3.schema({names:{contentInfos:FTA}}));fe.assertSchema(t,this.className),this.safeContents=Array.from(t.result.contentInfos,r=>new Li({schema:r}))}toSchema(){return new iA({value:Array.from(this.safeContents,e=>e.toSchema())})}toJSON(){return{safeContents:Array.from(this.safeContents,e=>e.toJSON())}}async parseInternalValues(e,t=Fa(!0)){if(Tj.assert(e,gw),$n.assert(e.safeContents,gw,"Array"),e.safeContents.length!==this.safeContents.length)throw new $n('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');this.parsedValue={safeContents:[]};for(let[r,a]of this.safeContents.entries()){let j=e.safeContents[r],n=`parameters.safeContents[${r}]`;switch(a.contentType){case blA:{$n.assert(a.content,"this.safeContents[j].content",At);let i=a.content.getValue();this.parsedValue.safeContents.push({privacyMode:0,value:t1.fromBER(i)})}break;case oDA:{let i=new DsA({schema:a.content});Tj.assert(n,j,"recipientCertificate","recipientKey");let o=j,s=o.recipientCertificate,c=o.recipientKey,u=await i.decrypt(0,{recipientCertificate:s,recipientPrivateKey:c},t);this.parsedValue.safeContents.push({privacyMode:2,value:t1.fromBER(u)})}break;case sDA:{let i=new MC({schema:a.content});Tj.assert(n,j,"password");let o=j.password,s=await i.decrypt({password:o},t);this.parsedValue.safeContents.push({privacyMode:1,value:t1.fromBER(s)})}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${a.contentType}`)}}}async makeInternalValues(e,t=Fa(!0)){if(!this.parsedValue)throw new Error('Please run "parseValues" first or add "parsedValue" manually');if($n.assert(this.parsedValue,"this.parsedValue","object"),$n.assert(this.parsedValue.safeContents,"this.parsedValue.safeContents","Array"),$n.assert(e,"parameters","object"),Tj.assert(e,"safeContents"),$n.assert(e.safeContents,"parameters.safeContents","Array"),e.safeContents.length!==this.parsedValue.safeContents.length)throw new $n('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');this.safeContents=[];for(let[r,a]of this.parsedValue.safeContents.entries())switch(Tj.assert("content",a,"privacyMode","value"),$n.assert(a.value,"content.value",t1),a.privacyMode){case 0:{let j=a.value.toSchema().toBER(!1);this.safeContents.push(new Li({contentType:"1.2.840.113549.1.7.1",content:new At({valueHex:j})}))}break;case 1:{let j=new MC,n=e.safeContents[r];n.contentToEncrypt=a.value.toSchema().toBER(!1),await j.encrypt(n,t),this.safeContents.push(new Li({contentType:"1.2.840.113549.1.7.6",content:j.toSchema()}))}break;case 2:{let j=new DsA,n=a.value.toSchema().toBER(!1),i=e.safeContents[r];switch(Tj.assert(`parameters.safeContents[${r}]`,i,"encryptingCertificate","encryptionAlgorithm"),!0){case i.encryptionAlgorithm.name.toLowerCase()==="aes-cbc":case i.encryptionAlgorithm.name.toLowerCase()==="aes-gcm":break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${i.encryptionAlgorithm}`)}switch(!0){case i.encryptionAlgorithm.length===128:case i.encryptionAlgorithm.length===192:case i.encryptionAlgorithm.length===256:break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${i.encryptionAlgorithm.length}`)}let o=i.encryptionAlgorithm;j.addRecipientByCertificate(i.encryptingCertificate,{},void 0,t),await j.encrypt(o,n,t),this.safeContents.push(new Li({contentType:"1.2.840.113549.1.7.3",content:j.toSchema()}))}break;default:throw new Error(`Incorrect value for "content.privacyMode": ${a.privacyMode}`)}return this}};zsA.CLASS_NAME="AuthenticatedSafe";var $y="hashAlgorithm",Eq="issuerNameHash",xq="issuerKeyHash",Iy="serialNumber",rOe=[$y,Eq,xq,Iy],ku=class YB extends Ie{constructor(e={}){super(),this.hashAlgorithm=S(e,$y,YB.defaultValues($y)),this.issuerNameHash=S(e,Eq,YB.defaultValues(Eq)),this.issuerKeyHash=S(e,xq,YB.defaultValues(xq)),this.serialNumber=S(e,Iy,YB.defaultValues(Iy)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=Fa(!0)){let a=new YB;return await a.createForCertificate(e,t,r),a}static defaultValues(e){switch(e){case $y:return new te;case Eq:case xq:return new At;case Iy:return new Ae;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $y:return t.algorithmId===N&&!("algorithmParams"in t);case Eq:case xq:case Iy:return t.isEqual(YB.defaultValues(Iy));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.hashAlgorithmObject||{names:{blockName:t.hashAlgorithm||N}}),new At({name:t.issuerNameHash||N}),new At({name:t.issuerKeyHash||N}),new Ae({name:t.serialNumber||N})]})}fromSchema(e){Le(e,rOe);let t=Te(e,e,YB.schema({names:{hashAlgorithm:$y,issuerNameHash:Eq,issuerKeyHash:xq,serialNumber:Iy}}));fe.assertSchema(t,this.className),this.hashAlgorithm=new te({schema:t.result.hashAlgorithm}),this.issuerNameHash=t.result.issuerNameHash,this.issuerKeyHash=t.result.issuerKeyHash,this.serialNumber=t.result.serialNumber}toSchema(){return new iA({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return!(this.hashAlgorithm.algorithmId!==e.hashAlgorithm.algorithmId||!_r.isEqual(this.issuerNameHash.valueBlock.valueHexView,e.issuerNameHash.valueBlock.valueHexView)||!_r.isEqual(this.issuerKeyHash.valueBlock.valueHexView,e.issuerKeyHash.valueBlock.valueHexView)||!this.serialNumber.isEqual(e.serialNumber))}async createForCertificate(e,t,r=Fa(!0)){Tj.assert(t,$y,"issuerCertificate");let a=r.getOIDByAlgorithm({name:t.hashAlgorithm},!0,"hashAlgorithm");this.hashAlgorithm=new te({algorithmId:a,algorithmParams:new io});let j=t.issuerCertificate;this.serialNumber=e.serialNumber;let n=await r.digest({name:t.hashAlgorithm},j.subject.toSchema().toBER(!1));this.issuerNameHash=new At({valueHex:n});let i=j.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,o=await r.digest({name:t.hashAlgorithm},i);this.issuerKeyHash=new At({valueHex:o})}};ku.CLASS_NAME="CertID";var bq="certID",yq="certStatus",vq="thisUpdate",ZB="nextUpdate",Py="singleExtensions",aOe=[bq,yq,vq,ZB,Py],MsA=class QB extends Ie{constructor(e={}){super(),this.certID=S(e,bq,QB.defaultValues(bq)),this.certStatus=S(e,yq,QB.defaultValues(yq)),this.thisUpdate=S(e,vq,QB.defaultValues(vq)),ZB in e&&(this.nextUpdate=S(e,ZB,QB.defaultValues(ZB))),Py in e&&(this.singleExtensions=S(e,Py,QB.defaultValues(Py))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bq:return new ku;case yq:return{};case vq:case ZB:return new Date(0,0,0);case Py:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case bq:return ku.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&ku.compareWithDefault("issuerNameHash",t.issuerNameHash)&&ku.compareWithDefault("issuerKeyHash",t.issuerKeyHash)&&ku.compareWithDefault("serialNumber",t.serialNumber);case yq:return Object.keys(t).length===0;case vq:case ZB:return t===QB.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[ku.schema(t.certID||{}),new li({value:[new Cr({name:t.certStatus||N,idBlock:{tagClass:3,tagNumber:0}}),new SA({name:t.certStatus||N,idBlock:{tagClass:3,tagNumber:1},value:[new si,new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new iv]})]}),new Cr({name:t.certStatus||N,idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new si({name:t.thisUpdate||N}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new si({name:t.nextUpdate||N})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Ds.schema(t.singleExtensions||{})]})]})}fromSchema(e){Le(e,aOe);let t=Te(e,e,QB.schema({names:{certID:{names:{blockName:bq}},certStatus:yq,thisUpdate:vq,nextUpdate:ZB,singleExtensions:{names:{blockName:Py}}}}));fe.assertSchema(t,this.className),this.certID=new ku({schema:t.result.certID}),this.certStatus=t.result.certStatus,this.thisUpdate=t.result.thisUpdate.toDate(),ZB in t.result&&(this.nextUpdate=t.result.nextUpdate.toDate()),Py in t.result&&(this.singleExtensions=Array.from(t.result.singleExtensions.valueBlock.value,r=>new gu({schema:r})))}toSchema(){let e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new si({valueDate:this.thisUpdate})),this.nextUpdate&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[new si({valueDate:this.nextUpdate})]})),this.singleExtensions&&e.push(new iA({value:Array.from(this.singleExtensions,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return this.nextUpdate&&(e.nextUpdate=this.nextUpdate),this.singleExtensions&&(e.singleExtensions=Array.from(this.singleExtensions,t=>t.toJSON())),e}};MsA.CLASS_NAME="SingleResponse";var VK="tbs",Sy="version",AC="responderID",eC="producedAt",tC="responses",Fq="responseExtensions",cv="ResponseData",K3=`${cv}.${Sy}`,Gq=`${cv}.${AC}`,RsA=`${cv}.${eC}`,KsA=`${cv}.${tC}`,L3=`${cv}.${Fq}`,jOe=[cv,K3,Gq,RsA,KsA,L3],eg=class Sk extends Ie{constructor(e={}){super(),this.tbsView=new Uint8Array(S(e,VK,Sk.defaultValues(VK))),Sy in e&&(this.version=S(e,Sy,Sk.defaultValues(Sy))),this.responderID=S(e,AC,Sk.defaultValues(AC)),this.producedAt=S(e,eC,Sk.defaultValues(eC)),this.responses=S(e,tC,Sk.defaultValues(tC)),Fq in e&&(this.responseExtensions=S(e,Fq,Sk.defaultValues(Fq))),e.schema&&this.fromSchema(e.schema)}get tbs(){return _r.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case Sy:return 0;case VK:return $o;case AC:return{};case eC:return new Date(0,0,0);case tC:case Fq:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case VK:return t.byteLength===0;case AC:return Object.keys(t).length===0;case eC:return t===Sk.defaultValues(e);case tC:case Fq:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||cv,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ae({name:t.version||K3})]}),new li({value:[new SA({name:t.responderID||Gq,idBlock:{tagClass:3,tagNumber:1},value:[Qn.schema(t.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new SA({name:t.responderID||Gq,idBlock:{tagClass:3,tagNumber:2},value:[new At({name:t.ResponseDataByKey||"ResponseData.byKey"})]})]}),new si({name:t.producedAt||RsA}),new iA({value:[new ta({name:KsA,value:MsA.schema(t.response||{})})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Ds.schema(t.extensions||{names:{blockName:L3}})]})]})}fromSchema(e){Le(e,jOe);let t=Te(e,e,Sk.schema());fe.assertSchema(t,this.className),this.tbsView=t.result.ResponseData.valueBeforeDecodeView,K3 in t.result&&(this.version=t.result[K3].valueBlock.valueDec),t.result[Gq].idBlock.tagNumber===1?this.responderID=new Qn({schema:t.result[Gq].valueBlock.value[0]}):this.responderID=t.result[Gq].valueBlock.value[0],this.producedAt=t.result[RsA].toDate(),this.responses=Array.from(t.result[KsA],r=>new MsA({schema:r})),L3 in t.result&&(this.responseExtensions=Array.from(t.result[L3].valueBlock.value,r=>new gu({schema:r})))}toSchema(e=!1){let t;if(e===!1){if(!this.tbsView.byteLength)return Sk.schema();let r=qo(this.tbsView);fe.assert(r,"TBS Response Data"),t=r.result}else{let r=[];Sy in this&&r.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Ae({value:this.version})]})),this.responderID instanceof Qn?r.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):r.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),r.push(new si({valueDate:this.producedAt})),r.push(new iA({value:Array.from(this.responses,a=>a.toSchema())})),this.responseExtensions&&r.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[new iA({value:Array.from(this.responseExtensions,a=>a.toSchema())})]})),t=new iA({value:r})}return t}toJSON(){let e={};return Sy in this&&(e.version=this.version),this.responderID&&(e.responderID=this.responderID),this.producedAt&&(e.producedAt=this.producedAt),this.responses&&(e.responses=Array.from(this.responses,t=>t.toJSON())),this.responseExtensions&&(e.responseExtensions=Array.from(this.responseExtensions,t=>t.toJSON())),e}};eg.CLASS_NAME="ResponseData";var IoA="trustedCerts",PoA="certs",SoA="crls",CoA="ocsps",OoA="checkDate",ToA="findOrigin",_oA="findIssuer",Wy;(function(A){A[A.unknown=-1]="unknown",A[A.success=0]="success",A[A.noRevocation=11]="noRevocation",A[A.noPath=60]="noPath",A[A.noValidPath=97]="noValidPath"})(Wy||(Wy={}));var wq=class ODA extends Error{constructor(e,t){super(t),this.name=ODA.NAME,this.code=e,this.message=t}};wq.NAME="ChainValidationError";function nOe(A,e){for(let t=0;t<e.length;t++)if(_r.isEqual(A.tbsView,e[t].tbsView))return!0;return!1}var NL=class TDA{constructor(e={}){this.trustedCerts=S(e,IoA,this.defaultValues(IoA)),this.certs=S(e,PoA,this.defaultValues(PoA)),this.crls=S(e,SoA,this.defaultValues(SoA)),this.ocsps=S(e,CoA,this.defaultValues(CoA)),this.checkDate=S(e,OoA,this.defaultValues(OoA)),this.findOrigin=S(e,ToA,this.defaultValues(ToA)),this.findIssuer=S(e,_oA,this.defaultValues(_oA))}static defaultFindOrigin(e,t){e.tbsView.byteLength===0&&(e.tbsView=new Uint8Array(e.encodeTBS().toBER()));for(let r of t.certs)if(r.tbsView.byteLength===0&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),_r.isEqual(e.tbsView,r.tbsView))return"Intermediate Certificates";for(let r of t.trustedCerts)if(r.tbsView.byteLength===0&&(r.tbsView=new Uint8Array(r.encodeTBS().toBER())),_r.isEqual(e.tbsView,r.tbsView))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(e,t,r=Fa(!0)){let a=[],j=null,n=null,i=null;if(e.subject.isEqual(e.issuer))try{if(await e.verify(void 0,r))return[e]}catch{}if(e.extensions){for(let s of e.extensions)if(s.extnID===ElA&&s.parsedValue instanceof vlA){s.parsedValue.keyIdentifier?j=s.parsedValue.keyIdentifier:(s.parsedValue.authorityCertIssuer&&(n=s.parsedValue.authorityCertIssuer),s.parsedValue.authorityCertSerialNumber&&(i=s.parsedValue.authorityCertSerialNumber));break}}function o(s){if(j!==null&&s.extensions){let u=!1;for(let p of s.extensions)if(p.extnID===o2e&&p.parsedValue){u=!0,_r.isEqual(p.parsedValue.valueBlock.valueHex,j.valueBlock.valueHexView)&&a.push(s);break}if(u)return}let c=!1;i!==null&&(c=s.serialNumber.isEqual(i)),n!==null?s.subject.isEqual(n)&&c&&a.push(s):e.issuer.isEqual(s.subject)&&a.push(s)}for(let s of t.trustedCerts)o(s);for(let s of t.certs)o(s);for(let s=0;s<a.length;s++)try{await e.verify(a[s],r)===!1&&a.splice(s,1)}catch{a.splice(s,1)}return a}defaultValues(e){switch(e){case IoA:return[];case PoA:return[];case SoA:return[];case CoA:return[];case OoA:return new Date;case ToA:return TDA.defaultFindOrigin;case _oA:return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(e=!1,t=Fa(!0)){let r=[],a=async(f,G)=>{let w=[];function y($){let T=!0;for(let O=0;O<$.length;O++){for(let I=0;I<$.length;I++)if(I!==O&&$[O]===$[I]){T=!1;break}if(!T)break}return T}if(nOe(f,this.trustedCerts))return[[f]];let E=await this.findIssuer(f,this,G);if(E.length===0)throw new Error("No valid certificate paths found");for(let $=0;$<E.length;$++){if(_r.isEqual(E[$].tbsView,f.tbsView)){w.push([E[$]]);continue}let T=await a(E[$],G);for(let O=0;O<T.length;O++){let I=T[O].slice();I.splice(0,0,E[$]),y(I)?w.push(I):w.push(T[O])}}return w},j=async f=>{let G=[],w=[],y=[];if(G.push(...r.filter(E=>f.issuer.isEqual(E.subject))),G.length===0)return{status:1,statusMessage:"No certificate's issuers"};if(w.push(...this.crls.filter(E=>E.issuer.isEqual(f.issuer))),w.length===0)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let E=0;E<w.length;E++){let $=w[E];if(!($.nextUpdate&&$.nextUpdate.value<this.checkDate))for(let T=0;T<G.length;T++)try{if(await w[E].verify({issuerCertificate:G[T]},t)){y.push({crl:w[E],certificate:G[T]});break}}catch{}}return y.length?{status:0,statusMessage:N,result:y}:{status:3,statusMessage:"No valid CRLs found"}},n=async(f,G)=>{let w=t.getAlgorithmByOID(f.signatureAlgorithm.algorithmId);if(!w.name||!w.hash)return 1;for(let y=0;y<this.ocsps.length;y++){let $=await this.ocsps[y].getCertificateStatus(f,G,t);if($.isForCertificate)return $.status===0?0:1}return 2};async function i(f,G=!1){let w=!1,y=!1,E=!1,$=!1;if(f.extensions){for(let T=0;T<f.extensions.length;T++){let O=f.extensions[T];if(O.critical&&!O.parsedValue)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${O.extnID}`};if(O.extnID===s2e){E=!0;let I=new Uint8Array(O.parsedValue.valueBlock.valueHex);(I[0]&4)===4&&(y=!0),(I[0]&2)===2&&($=!0)}O.extnID===flA&&"cA"in O.parsedValue&&O.parsedValue.cA===!0&&(w=!0)}if(y===!0&&w===!1)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstraints'};if(E===!0&&w===!0&&y===!1)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(w===!0&&E===!0&&G&&$===!1)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return w===!1?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:N}}let o=async(f,G)=>{for(let w=0;w<f.length;w++)if(f[w].notBefore.value>G||f[w].notAfter.value<G)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(f.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let w=f.length-2;w>=0;w--)if(f[w].issuer.isEqual(f[w].subject)===!1&&f[w].issuer.isEqual(f[w+1].subject)===!1)return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(this.crls.length!==0||this.ocsps.length!==0)for(let w=0;w<f.length-1;w++){let y=2,E={status:0,statusMessage:N};if(this.ocsps.length!==0)switch(y=await n(f[w],f[w+1]),y){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(this.crls.length!==0){if(E=await j(f[w]),E.status===0&&E.result)for(let $=0;$<E.result.length;$++){if(E.result[$].crl.isCertificateRevoked(f[w]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if((await i(E.result[$].certificate,!0)).result===!1)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(e===!1)throw new wq(Wy.noRevocation,`No revocation values found for one of certificates: ${E.statusMessage}`)}else if(y===2)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(y===2&&E.status===2&&e){let $=f[w+1],T=!1;if($.extensions)for(let O of $.extensions)switch(O.extnID){case rDA:case BlA:case xlA:T=!0;break}if(T)throw new wq(Wy.noRevocation,`No revocation values found for one of certificates: ${E.statusMessage}`)}}for(let[w,y]of f.entries()){if(!w)continue;if(!(await i(y)).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"}}return{result:!0}};r.push(...this.trustedCerts),r.push(...this.certs);for(let f=0;f<r.length;f++)for(let G=0;G<r.length;G++)if(f!==G&&_r.isEqual(r[f].tbsView,r[G].tbsView)){r.splice(G,1),f=0;break}let s=r[r.length-1],c,u=[s];if(c=await a(s,t),c.length===0)throw new wq(Wy.noPath,"Unable to find certificate path");for(let f=0;f<c.length;f++){let G=!1;for(let w=0;w<c[f].length;w++){let y=c[f][w];for(let E=0;E<this.trustedCerts.length;E++)if(_r.isEqual(y.tbsView,this.trustedCerts[E].tbsView)){G=!0;break}if(G)break}G||(c.splice(f,1),f=0)}if(c.length===0)throw new wq(Wy.noValidPath,"No valid certificate paths found");let p=c[0].length,h=0;for(let f=0;f<c.length;f++)c[f].length<p&&(p=c[f].length,h=f);for(let f=0;f<c[h].length;f++)u.push(c[h][f]);if(c=await o(u,this.checkDate),c.result===!1)throw c;return u}async verify(e={},t=Fa(!0)){function r(o,s){let c=iE(o),u=iE(s),p=c.split("."),h=u.split("."),f=p.length,G=h.length;if(f===0||G===0||f<G)return!1;for(let w=0;w<f;w++)if(p[w].length===0)return!1;for(let w=0;w<G;w++)if(h[w].length===0){if(w===0){if(G===1)return!1;continue}return!1}for(let w=0;w<G;w++)if(h[G-1-w].length!==0&&p[f-1-w].localeCompare(h[G-1-w])!==0)return!1;return!0}function a(o,s){let c=iE(o),u=iE(s),p=c.split("@"),h=u.split("@");if(p.length===0||h.length===0||p.length<h.length)return!1;if(h.length===1){if(r(p[1],h[0])){let G=p[1].split("."),w=h[0].split(".");return w[0].length===0?!0:G.length===w.length}return!1}return c.localeCompare(u)===0}function j(o,s){let c=iE(o),u=iE(s),p=c.split("/");if(u.split("/").length>1)return!1;if(p.length>1){for(let G=0;G<p.length;G++)if(p[G].length>0&&p[G].charAt(p[G].length-1)!==":"){c=p[G].split(":")[0];break}}if(r(c,u)){let G=c.split("."),w=u.split(".");return w[0].length===0?!0:G.length===w.length}return!1}function n(o,s){let c=o.valueBlock.valueHexView,u=s.valueBlock.valueHexView;if(c.length===4&&u.length===8){for(let p=0;p<4;p++)if((c[p]^u[p])&u[p+4])return!1;return!0}if(c.length===16&&u.length===32){for(let p=0;p<16;p++)if((c[p]^u[p])&u[p+16])return!1;return!0}return!1}function i(o,s){if(o.typesAndValues.length===0||s.typesAndValues.length===0)return!0;if(o.typesAndValues.length<s.typesAndValues.length)return!1;let c=!0,u=0;for(let p=0;p<s.typesAndValues.length;p++){let h=!1;for(let f=u;f<o.typesAndValues.length;f++)if(h=o.typesAndValues[f].isEqual(s.typesAndValues[p]),o.typesAndValues[f].type===s.typesAndValues[p].type&&(c=c&&h),h===!0)if(u===0||u===f){u=f+1;break}else return!1;if(h===!1)return!1}return u===0?!1:c}try{if(this.certs.length===0)throw new Error("Empty certificate array");let o=e.passedWhenNotRevValues||!1,s=e.initialPolicySet||[wd],c=e.initialExplicitPolicy||!1,u=e.initialPolicyMappingInhibit||!1,p=e.initialInhibitPolicy||!1,h=e.initialPermittedSubtreesSet||[],f=e.initialExcludedSubtreesSet||[],G=e.initialRequiredNameForms||[],w=c,y=u,E=p,$=[!1,!1,!1],T=0,O=0,I=0,q=h,K=f,aA=G,nA=1;this.certs=await this.sort(o,t);let lA=[];lA.push(wd);let qA=[],UA=new Array(this.certs.length-1);for(let IA=0;IA<this.certs.length-1;IA++)UA[IA]=!0;qA.push(UA);let le=new Array(this.certs.length-1),yA=new Array(this.certs.length-1),we=w?this.certs.length-1:-1;for(let IA=this.certs.length-2;IA>=0;IA--,nA++){let ne=this.certs[IA];if(ne.extensions){for(let HA=0;HA<ne.extensions.length;HA++){let KA=ne.extensions[HA];if(KA.extnID===aDA){yA[IA]=KA.parsedValue;for(let XA=0;XA<lA.length;XA++)if(lA[XA]===wd){delete qA[XA][IA];break}for(let XA=0;XA<KA.parsedValue.certificatePolicies.length;XA++){let st=-1,or=KA.parsedValue.certificatePolicies[XA].policyIdentifier;for(let ve=0;ve<lA.length;ve++)if(or===lA[ve]){st=ve;break}if(st===-1){lA.push(or);let ve=new Array(this.certs.length-1);ve[IA]=!0,qA.push(ve)}else qA[st][IA]=!0}}if(KA.extnID===jDA){if(y)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};le[IA]=KA.parsedValue}KA.extnID===nDA&&w===!1&&(KA.parsedValue.requireExplicitPolicy===0?(w=!0,we=IA):$[0]===!1?($[0]=!0,T=KA.parsedValue.requireExplicitPolicy):T=T>KA.parsedValue.requireExplicitPolicy?KA.parsedValue.requireExplicitPolicy:T,KA.parsedValue.inhibitPolicyMapping===0?y=!0:$[1]===!1?($[1]=!0,O=KA.parsedValue.inhibitPolicyMapping+1):O=O>KA.parsedValue.inhibitPolicyMapping+1?KA.parsedValue.inhibitPolicyMapping+1:O),KA.extnID===h2e&&E===!1&&(KA.parsedValue.valueBlock.valueDec===0?E=!0:$[2]===!1?($[2]=!0,I=KA.parsedValue.valueBlock.valueDec):I=I>KA.parsedValue.valueBlock.valueDec?KA.parsedValue.valueBlock.valueDec:I)}if(E===!0){let HA=-1;for(let KA=0;KA<lA.length;KA++)if(lA[KA]===wd){HA=KA;break}HA!==-1&&delete qA[0][IA]}w===!1&&$[0]===!0&&(T--,T===0&&(w=!0,we=IA,$[0]=!1)),y===!1&&$[1]===!0&&(O--,O===0&&(y=!0,$[1]=!1)),E===!1&&$[2]===!0&&(I--,I===0&&(E=!0,$[2]=!1))}}for(let IA=0;IA<this.certs.length-1;IA++)if(IA<this.certs.length-2&&typeof le[IA+1]<"u")for(let ne=0;ne<le[IA+1].mappings.length;ne++){if(le[IA+1].mappings[ne].issuerDomainPolicy===wd||le[IA+1].mappings[ne].subjectDomainPolicy===wd)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let HA=-1,KA=-1;for(let XA=0;XA<lA.length;XA++)lA[XA]===le[IA+1].mappings[ne].issuerDomainPolicy&&(HA=XA),lA[XA]===le[IA+1].mappings[ne].subjectDomainPolicy&&(KA=XA);typeof qA[HA][IA]<"u"&&delete qA[HA][IA];for(let XA=0;XA<yA[IA].certificatePolicies.length;XA++)if(le[IA+1].mappings[ne].subjectDomainPolicy===yA[IA].certificatePolicies[XA].policyIdentifier&&HA!==-1&&KA!==-1)for(let st=0;st<=IA;st++)typeof qA[KA][st]<"u"&&(qA[HA][st]=!0,delete qA[KA][st])}for(let IA=0;IA<lA.length;IA++)if(lA[IA]===wd)for(let ne=0;ne<we;ne++)delete qA[IA][ne];let ge=[];for(let IA=0;IA<qA.length;IA++){let ne=!0;for(let HA=0;HA<this.certs.length-1;HA++){let KA=!1;if(HA<we&&lA[IA]===wd&&lA.length>1){ne=!1;break}if(typeof qA[IA][HA]>"u"){if(HA>=we){for(let XA=0;XA<lA.length;XA++)if(lA[XA]===wd){qA[XA][HA]===!0&&(KA=!0);break}}if(!KA){ne=!1;break}}}ne===!0&&ge.push(lA[IA])}let ot=[];if(s.length===1&&s[0]===wd&&w===!1)ot=s;else if(ge.length===1&&ge[0]===wd)ot=s;else for(let IA=0;IA<ge.length;IA++)for(let ne=0;ne<s.length;ne++)if(s[ne]===ge[IA]||s[ne]===wd){ot.push(ge[IA]);break}let ue={result:ot.length>0,resultCode:0,resultMessage:ot.length>0?N:'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:ge,userConstrPolicies:ot,explicitPolicyIndicator:w,policyMappings:le,certificatePath:this.certs};if(ot.length===0||ue.result===!1)return ue;nA=1;for(let IA=this.certs.length-2;IA>=0;IA--,nA++){let ne=this.certs[IA],HA=[],KA=[],XA=[];if(ne.extensions)for(let gt=0;gt<ne.extensions.length;gt++){let Ge=ne.extensions[gt];Ge.extnID===tDA&&("permittedSubtrees"in Ge.parsedValue&&(KA=KA.concat(Ge.parsedValue.permittedSubtrees)),"excludedSubtrees"in Ge.parsedValue&&(XA=XA.concat(Ge.parsedValue.excludedSubtrees))),Ge.extnID===Z_A&&(HA=HA.concat(Ge.parsedValue.altNames))}let st=aA.length<=0;for(let gt=0;gt<aA.length;gt++)switch(aA[gt].base.type){case 4:{if(aA[gt].base.value.typesAndValues.length!==ne.subject.typesAndValues.length)continue;st=!0;for(let Ge=0;Ge<ne.subject.typesAndValues.length;Ge++)if(ne.subject.typesAndValues[Ge].type!==aA[gt].base.value.typesAndValues[Ge].type){st=!1;break}if(st===!0)break}break;default:}if(st===!1)throw ue.result=!1,ue.resultCode=21,ue.resultMessage="No necessary name form found",ue;let or=[[],[],[],[],[]];for(let gt=0;gt<q.length;gt++)switch(q[gt].base.type){case 1:or[0].push(q[gt]);break;case 2:or[1].push(q[gt]);break;case 4:or[2].push(q[gt]);break;case 6:or[3].push(q[gt]);break;case 7:or[4].push(q[gt]);break;default:}for(let gt=0;gt<5;gt++){let Ge=!1,It=!1,wt=or[gt];for(let ar=0;ar<wt.length;ar++){switch(gt){case 0:if(HA.length>0)for(let Ot=0;Ot<HA.length;Ot++)HA[Ot].type===1&&(It=!0,Ge=Ge||a(HA[Ot].value,wt[ar].base.value));else for(let Ot=0;Ot<ne.subject.typesAndValues.length;Ot++)(ne.subject.typesAndValues[Ot].type==="1.2.840.113549.1.9.1"||ne.subject.typesAndValues[Ot].type==="0.9.2342.19200300.100.1.3")&&(It=!0,Ge=Ge||a(ne.subject.typesAndValues[Ot].value.valueBlock.value,wt[ar].base.value));break;case 1:if(HA.length>0)for(let Ot=0;Ot<HA.length;Ot++)HA[Ot].type===2&&(It=!0,Ge=Ge||r(HA[Ot].value,wt[ar].base.value));break;case 2:It=!0,Ge=i(ne.subject,wt[ar].base.value);break;case 3:if(HA.length>0)for(let Ot=0;Ot<HA.length;Ot++)HA[Ot].type===6&&(It=!0,Ge=Ge||j(HA[Ot].value,wt[ar].base.value));break;case 4:if(HA.length>0)for(let Ot=0;Ot<HA.length;Ot++)HA[Ot].type===7&&(It=!0,Ge=Ge||n(HA[Ot].value,wt[ar].base.value));break;default:}if(Ge)break}if(Ge===!1&&wt.length>0&&It)throw ue.result=!1,ue.resultCode=41,ue.resultMessage='Failed to meet "permitted sub-trees" name constraint',ue}let ve=!1;for(let gt=0;gt<K.length;gt++){switch(K[gt].base.type){case 1:if(HA.length>=0)for(let Ge=0;Ge<HA.length;Ge++)HA[Ge].type===1&&(ve=ve||a(HA[Ge].value,K[gt].base.value));else for(let Ge=0;Ge<ne.subject.typesAndValues.length;Ge++)(ne.subject.typesAndValues[Ge].type==="1.2.840.113549.1.9.1"||ne.subject.typesAndValues[Ge].type==="0.9.2342.19200300.100.1.3")&&(ve=ve||a(ne.subject.typesAndValues[Ge].value.valueBlock.value,K[gt].base.value));break;case 2:if(HA.length>0)for(let Ge=0;Ge<HA.length;Ge++)HA[Ge].type===2&&(ve=ve||r(HA[Ge].value,K[gt].base.value));break;case 4:ve=ve||i(ne.subject,K[gt].base.value);break;case 6:if(HA.length>0)for(let Ge=0;Ge<HA.length;Ge++)HA[Ge].type===6&&(ve=ve||j(HA[Ge].value,K[gt].base.value));break;case 7:if(HA.length>0)for(let Ge=0;Ge<HA.length;Ge++)HA[Ge].type===7&&(ve=ve||n(HA[Ge].value,K[gt].base.value));break;default:}if(ve)break}if(ve===!0)throw ue.result=!1,ue.resultCode=42,ue.resultMessage='Failed to meet "excluded sub-trees" name constraint',ue;q=q.concat(KA),K=K.concat(XA)}return ue}catch(o){return o instanceof Error?o instanceof wq?{result:!1,resultCode:o.code,resultMessage:o.message,error:o}:{result:!1,resultCode:Wy.unknown,resultMessage:o.message,error:o}:o&&typeof o=="object"&&"resultMessage"in o?o:{result:!1,resultCode:-1,resultMessage:`${o}`}}}},N3="tbsResponseData",rC="signatureAlgorithm",aC="signature",qq="certs",VC="BasicOCSPResponse",LsA=`${VC}.${N3}`,NsA=`${VC}.${rC}`,UsA=`${VC}.${aC}`,U3=`${VC}.${qq}`,iOe=[LsA,NsA,UsA,U3],IC=class Cy extends Ie{constructor(e={}){super(),this.tbsResponseData=S(e,N3,Cy.defaultValues(N3)),this.signatureAlgorithm=S(e,rC,Cy.defaultValues(rC)),this.signature=S(e,aC,Cy.defaultValues(aC)),qq in e&&(this.certs=S(e,qq,Cy.defaultValues(qq))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case N3:return new eg;case rC:return new te;case aC:return new Qa;case qq:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case"type":{let r=eg.compareWithDefault("tbs",t.tbs)&&eg.compareWithDefault("responderID",t.responderID)&&eg.compareWithDefault("producedAt",t.producedAt)&&eg.compareWithDefault("responses",t.responses);return"responseExtensions"in t&&(r=r&&eg.compareWithDefault("responseExtensions",t.responseExtensions)),r}case rC:return t.algorithmId===N&&!("algorithmParams"in t);case aC:return t.isEqual(Cy.defaultValues(e));case qq:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||VC,value:[eg.schema(t.tbsResponseData||{names:{blockName:LsA}}),te.schema(t.signatureAlgorithm||{names:{blockName:NsA}}),new Qa({name:t.signature||UsA}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new iA({value:[new ta({name:U3,value:Io.schema(t.certs||{})})]})]})]})}fromSchema(e){Le(e,iOe);let t=Te(e,e,Cy.schema());fe.assertSchema(t,this.className),this.tbsResponseData=new eg({schema:t.result[LsA]}),this.signatureAlgorithm=new te({schema:t.result[NsA]}),this.signature=t.result[UsA],U3 in t.result&&(this.certs=Array.from(t.result[U3],r=>new Io({schema:r})))}toSchema(){let e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[new iA({value:Array.from(this.certs,t=>t.toSchema())})]})),new iA({value:e})}toJSON(){let e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,t=>t.toJSON())),e}async getCertificateStatus(e,t,r=Fa(!0)){let a={isForCertificate:!1,status:2},j={},n=[];for(let i of this.tbsResponseData.responses){let o=r.getAlgorithmByOID(i.certID.hashAlgorithm.algorithmId,!0,"CertID.hashAlgorithm");if(!j[o.name]){j[o.name]=1;let s=new ku;n.push(s),await s.createForCertificate(e,{hashAlgorithm:o.name,issuerCertificate:t},r)}}for(let i of this.tbsResponseData.responses)for(let o of n)if(i.certID.isEqual(o)){a.isForCertificate=!0;try{switch(i.certStatus.idBlock.isConstructed){case!0:i.certStatus.idBlock.tagNumber===1&&(a.status=1);break;case!1:switch(i.certStatus.idBlock.tagNumber){case 0:a.status=0;break;case 2:a.status=2;break;default:}break;default:}}catch{}return a}return a}async sign(e,t="SHA-1",r=Fa(!0)){if(!e)throw new Error("Need to provide a private key for signing");let a=await r.getSignatureParameters(e,t),j=a.parameters.algorithm;if(!("name"in j))throw new Error("Empty algorithm");this.signatureAlgorithm=a.signatureAlgorithm,this.tbsResponseData.tbsView=new Uint8Array(this.tbsResponseData.toSchema(!0).toBER());let n=await r.signWithPrivateKey(this.tbsResponseData.tbsView,e,{algorithm:j});this.signature=new Qa({valueHex:n})}async verify(e={},t=Fa(!0)){let r=null,a=-1,j=e.trustedCerts||[];if(!this.certs)throw new Error("No certificates attached to the BasicOCSPResponse");switch(!0){case this.tbsResponseData.responderID instanceof Qn:for(let[s,c]of this.certs.entries())if(c.subject.isEqual(this.tbsResponseData.responderID)){a=s;break}break;case this.tbsResponseData.responderID instanceof At:for(let[s,c]of this.certs.entries()){let u=await t.digest({name:"sha-1"},c.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(s1(u,this.tbsResponseData.responderID.valueBlock.valueHex)){a=s;break}}break;default:throw new Error("Wrong value for responderID")}if(a===-1)throw new Error("Correct certificate was not found in OCSP response");r=this.certs[a];let n=[r];for(let s of this.certs){let c=await GDA(s,r);c&&n.push(c)}if(!(await new NL({certs:n,trustedCerts:j}).verify({},t)).result)throw new Error("Validation of signer's certificate failed");return t.verifyWithPublicKey(this.tbsResponseData.tbsView,this.signature,this.certs[a].subjectPublicKeyInfo,this.signatureAlgorithm)}};IC.CLASS_NAME="BasicOCSPResponse";var DoA="tbs",zoA="version",MoA="subject",RoA="subjectPublicKeyInfo",fw="attributes",jC="signatureAlgorithm",nC="signatureValue",k1="CertificationRequestInfo",ClA=`${k1}.version`,OlA=`${k1}.subject`,TlA=`${k1}.subjectPublicKeyInfo`,CL=`${k1}.attributes`,oOe=[k1,ClA,OlA,TlA,CL,jC,nC];function sOe(A={}){let e=S(A,"names",{});return new iA({name:e.CertificationRequestInfo||k1,value:[new Ae({name:e.CertificationRequestInfoVersion||ClA}),Qn.schema(e.subject||{names:{blockName:OlA}}),Zm.schema({names:{blockName:TlA}}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ta({optional:!0,name:e.CertificationRequestInfoAttributes||CL,value:lo.schema(e.attributes||{})})]})]})}var lOe=class Ck extends Ie{constructor(e={}){super(),this.tbsView=new Uint8Array(S(e,DoA,Ck.defaultValues(DoA))),this.version=S(e,zoA,Ck.defaultValues(zoA)),this.subject=S(e,MoA,Ck.defaultValues(MoA)),this.subjectPublicKeyInfo=S(e,RoA,Ck.defaultValues(RoA)),fw in e&&(this.attributes=S(e,fw,Ck.defaultValues(fw))),this.signatureAlgorithm=S(e,jC,Ck.defaultValues(jC)),this.signatureValue=S(e,nC,Ck.defaultValues(nC)),e.schema&&this.fromSchema(e.schema)}get tbs(){return _r.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case DoA:return $o;case zoA:return 0;case MoA:return new Qn;case RoA:return new Zm;case fw:return[];case jC:return new te;case nC:return new Qa;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({value:[sOe(t.certificationRequestInfo||{}),new iA({name:t.signatureAlgorithm||jC,value:[new Nt,new Dr({optional:!0})]}),new Qa({name:t.signatureValue||nC})]})}fromSchema(e){Le(e,oOe);let t=Te(e,e,Ck.schema());fe.assertSchema(t,this.className),this.tbsView=t.result.CertificationRequestInfo.valueBeforeDecodeView,this.version=t.result[ClA].valueBlock.valueDec,this.subject=new Qn({schema:t.result[OlA]}),this.subjectPublicKeyInfo=new Zm({schema:t.result[TlA]}),CL in t.result&&(this.attributes=Array.from(t.result[CL],r=>new lo({schema:r}))),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signatureValue=t.result.signatureValue}encodeTBS(){let e=[new Ae({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return fw in this&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes||[],t=>t.toSchema())})),new iA({value:e})}toSchema(e=!1){let t;if(e===!1){if(this.tbsView.byteLength===0)return Ck.schema();let r=qo(this.tbsView);fe.assert(r,"PKCS#10 Certificate Request"),t=r.result}else t=this.encodeTBS();return new iA({value:[t,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){let e={tbs:ja.ToHex(this.tbsView),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return fw in this&&(e.attributes=Array.from(this.attributes||[],t=>t.toJSON())),e}async sign(e,t="SHA-1",r=Fa(!0)){if(!e)throw new Error("Need to provide a private key for signing");let a=await r.getSignatureParameters(e,t),j=a.parameters;this.signatureAlgorithm=a.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());let n=await r.signWithPrivateKey(this.tbsView,e,j);this.signatureValue=new Qa({valueHex:n})}async verify(e=Fa(!0)){return e.verifyWithPublicKey(this.tbsView,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}async getPublicKey(e,t=Fa(!0)){return t.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}};lOe.CLASS_NAME="CertificationRequest";var Oy="digestAlgorithm",Ty="digest",cOe=[Oy,Ty],Jy=class iC extends Ie{constructor(e={}){super(),this.digestAlgorithm=S(e,Oy,iC.defaultValues(Oy)),this.digest=S(e,Ty,iC.defaultValues(Ty)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Oy:return new te;case Ty:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Oy:return te.compareWithDefault("algorithmId",t.algorithmId)&&!("algorithmParams"in t);case Ty:return t.isEqual(iC.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.digestAlgorithm||{names:{blockName:Oy}}),new At({name:t.digest||Ty})]})}fromSchema(e){Le(e,cOe);let t=Te(e,e,iC.schema({names:{digestAlgorithm:{names:{blockName:Oy}},digest:Ty}}));fe.assertSchema(t,this.className),this.digestAlgorithm=new te({schema:t.result.digestAlgorithm}),this.digest=t.result.digest}toSchema(){return new iA({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}};Jy.CLASS_NAME="DigestInfo";var $q="eContentType",Xm="eContent",uOe=[$q,Xm],Yy=class _y extends Ie{constructor(e={}){if(super(),this.eContentType=S(e,$q,_y.defaultValues($q)),Xm in e&&(this.eContent=S(e,Xm,_y.defaultValues(Xm)),this.eContent.idBlock.tagClass===1&&this.eContent.idBlock.tagNumber===4&&this.eContent.idBlock.isConstructed===!1)){let t=new At({idBlock:{isConstructed:!0},isConstructed:!0}),r=0,a=this.eContent.valueBlock.valueHexView.slice().buffer,j=a.byteLength;for(;j>0;){let n=new Uint8Array(a,r,r+65536>a.byteLength?a.byteLength-r:65536),i=new ArrayBuffer(n.length),o=new Uint8Array(i);for(let s=0;s<o.length;s++)o[s]=n[s];t.valueBlock.value.push(new At({valueHex:i})),j-=n.length,r+=n.length}this.eContent=t}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case $q:return N;case Xm:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case $q:return t===N;case Xm:return t.idBlock.tagClass===1&&t.idBlock.tagNumber===4?t.isEqual(_y.defaultValues(Xm)):!1;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.eContentType||N}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Dr({name:t.eContent||N})]})]})}fromSchema(e){Le(e,uOe);let t=Te(e,e,_y.schema({names:{eContentType:$q,eContent:Xm}}));fe.assertSchema(t,this.className),this.eContentType=t.result.eContentType.valueBlock.toString(),Xm in t.result&&(this.eContent=t.result.eContent)}toSchema(){let e=[];return e.push(new Nt({value:this.eContentType})),this.eContent&&_y.compareWithDefault(Xm,this.eContent)===!1&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new iA({value:e})}toJSON(){let e={eContentType:this.eContentType};return this.eContent&&_y.compareWithDefault(Xm,this.eContent)===!1&&(e.eContent=this.eContent.toJSON()),e}};Yy.CLASS_NAME="EncapsulatedContentInfo";var Dy="mac",zy="macSalt",tg="iterations",dOe=[Dy,zy,tg],AE=class My extends Ie{constructor(e={}){super(),this.mac=S(e,Dy,My.defaultValues(Dy)),this.macSalt=S(e,zy,My.defaultValues(zy)),tg in e&&(this.iterations=S(e,tg,My.defaultValues(tg))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dy:return new Jy;case zy:return new At;case tg:return 1;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Dy:return Jy.compareWithDefault("digestAlgorithm",t.digestAlgorithm)&&Jy.compareWithDefault("digest",t.digest);case zy:return t.isEqual(My.defaultValues(e));case tg:return t===My.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,optional:t.optional||!0,value:[Jy.schema(t.mac||{names:{blockName:Dy}}),new At({name:t.macSalt||zy}),new Ae({optional:!0,name:t.iterations||tg})]})}fromSchema(e){Le(e,dOe);let t=Te(e,e,My.schema({names:{mac:{names:{blockName:Dy}},macSalt:zy,iterations:tg}}));fe.assertSchema(t,this.className),this.mac=new Jy({schema:t.result.mac}),this.macSalt=t.result.macSalt,tg in t.result&&(this.iterations=t.result.iterations.valueBlock.valueDec)}toSchema(){let e=[this.mac.toSchema(),this.macSalt];return this.iterations!==void 0&&e.push(new Ae({value:this.iterations})),new iA({value:e})}toJSON(){let e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return this.iterations!==void 0&&(e.iterations=this.iterations),e}};AE.CLASS_NAME="MacData";var Zy="hashAlgorithm",Qy="hashedMessage",mOe=[Zy,Qy],Jm=class Iq extends Ie{constructor(e={}){super(),this.hashAlgorithm=S(e,Zy,Iq.defaultValues(Zy)),this.hashedMessage=S(e,Qy,Iq.defaultValues(Qy)),e.schema&&this.fromSchema(e.schema)}static async create(e,t,r=Fa(!0)){let a=r.getOIDByAlgorithm({name:e},!0,"hashAlgorithm"),j=await r.digest(e,t);return new Iq({hashAlgorithm:new te({algorithmId:a,algorithmParams:new io}),hashedMessage:new At({valueHex:j})})}static defaultValues(e){switch(e){case Zy:return new te;case Qy:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Zy:return t.algorithmId===N&&!("algorithmParams"in t);case Qy:return t.isEqual(Iq.defaultValues(e))===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.hashAlgorithm||{}),new At({name:t.hashedMessage||N})]})}fromSchema(e){Le(e,mOe);let t=Te(e,e,Iq.schema({names:{hashAlgorithm:{names:{blockName:Zy}},hashedMessage:Qy}}));fe.assertSchema(t,this.className),this.hashAlgorithm=new te({schema:t.result.hashAlgorithm}),this.hashedMessage=t.result.hashedMessage}toSchema(){return new iA({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}};Jm.CLASS_NAME="MessageImprint";var Pq="reqCert",eE="singleRequestExtensions",pOe=[Pq,eE],OL=class oC extends Ie{constructor(e={}){super(),this.reqCert=S(e,Pq,oC.defaultValues(Pq)),eE in e&&(this.singleRequestExtensions=S(e,eE,oC.defaultValues(eE))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Pq:return new ku;case eE:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Pq:return t.isEqual(oC.defaultValues(e));case eE:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[ku.schema(t.reqCert||{}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[gu.schema(t.extensions||{names:{blockName:t.singleRequestExtensions||N}})]})]})}fromSchema(e){Le(e,pOe);let t=Te(e,e,oC.schema({names:{reqCert:{names:{blockName:Pq}},extensions:{names:{blockName:eE}}}}));fe.assertSchema(t,this.className),this.reqCert=new ku({schema:t.result.reqCert}),eE in t.result&&(this.singleRequestExtensions=Array.from(t.result.singleRequestExtensions.valueBlock.value,r=>new gu({schema:r})))}toSchema(){let e=[];return e.push(this.reqCert.toSchema()),this.singleRequestExtensions&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new iA({value:Array.from(this.singleRequestExtensions,t=>t.toSchema())})]})),new iA({value:e})}toJSON(){let e={reqCert:this.reqCert.toJSON()};return this.singleRequestExtensions&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,t=>t.toJSON())),e}};OL.CLASS_NAME="Request";var XK="tbs",Sq="version",Cq="requestorName",WK="requestList",Oq="requestExtensions",h1="TBSRequest",H3=`${h1}.${Sq}`,V3=`${h1}.${Cq}`,HsA=`${h1}.requests`,X3=`${h1}.${Oq}`,kOe=[h1,H3,V3,HsA,X3],rg=class ag extends Ie{constructor(e={}){super(),this.tbsView=new Uint8Array(S(e,XK,ag.defaultValues(XK))),Sq in e&&(this.version=S(e,Sq,ag.defaultValues(Sq))),Cq in e&&(this.requestorName=S(e,Cq,ag.defaultValues(Cq))),this.requestList=S(e,WK,ag.defaultValues(WK)),Oq in e&&(this.requestExtensions=S(e,Oq,ag.defaultValues(Oq))),e.schema&&this.fromSchema(e.schema)}get tbs(){return _r.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case XK:return $o;case Sq:return 0;case Cq:return new Bn;case WK:case Oq:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case XK:return t.byteLength===0;case Sq:return t===ag.defaultValues(e);case Cq:return t.type===Bn.defaultValues("type")&&Object.keys(t.value).length===0;case WK:case Oq:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||h1,value:[new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ae({name:t.TBSRequestVersion||H3})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Bn.schema(t.requestorName||{names:{blockName:V3}})]}),new iA({name:t.requestList||"TBSRequest.requestList",value:[new ta({name:t.requests||HsA,value:OL.schema(t.requestNames||{})})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[Ds.schema(t.extensions||{names:{blockName:t.requestExtensions||X3}})]})]})}fromSchema(e){Le(e,kOe);let t=Te(e,e,ag.schema());fe.assertSchema(t,this.className),this.tbsView=t.result.TBSRequest.valueBeforeDecodeView,H3 in t.result&&(this.version=t.result[H3].valueBlock.valueDec),V3 in t.result&&(this.requestorName=new Bn({schema:t.result[V3]})),this.requestList=Array.from(t.result[HsA],r=>new OL({schema:r})),X3 in t.result&&(this.requestExtensions=Array.from(t.result[X3].valueBlock.value,r=>new gu({schema:r})))}toSchema(e=!1){let t;if(e===!1){if(this.tbsView.byteLength===0)return ag.schema();let r=qo(this.tbsView);if(fe.assert(r,"TBS Request"),!(r.result instanceof iA))throw new Error("ASN.1 result should be SEQUENCE");t=r.result}else{let r=[];this.version!==void 0&&r.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[new Ae({value:this.version})]})),this.requestorName&&r.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),r.push(new iA({value:Array.from(this.requestList,a=>a.toSchema())})),this.requestExtensions&&r.push(new SA({idBlock:{tagClass:3,tagNumber:2},value:[new iA({value:Array.from(this.requestExtensions,a=>a.toSchema())})]})),t=new iA({value:r})}return t}toJSON(){let e={};return this.version!=null&&(e.version=this.version),this.requestorName&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,t=>t.toJSON()),this.requestExtensions&&(e.requestExtensions=Array.from(this.requestExtensions,t=>t.toJSON())),e}};rg.CLASS_NAME="TBSRequest";var Bw="signatureAlgorithm",Ew="signature",mB="certs",Ry=class Tq extends Ie{constructor(e={}){super(),this.signatureAlgorithm=S(e,Bw,Tq.defaultValues(Bw)),this.signature=S(e,Ew,Tq.defaultValues(Ew)),mB in e&&(this.certs=S(e,mB,Tq.defaultValues(mB))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bw:return new te;case Ew:return new Qa;case mB:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Bw:return t.algorithmId===N&&!("algorithmParams"in t);case Ew:return t.isEqual(Tq.defaultValues(e));case mB:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[te.schema(t.signatureAlgorithm||{}),new Qa({name:t.signature||N}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new iA({value:[new ta({name:t.certs||N,value:Io.schema({})})]})]})]})}fromSchema(e){Le(e,[Bw,Ew,mB]);let t=Te(e,e,Tq.schema({names:{signatureAlgorithm:{names:{blockName:Bw}},signature:Ew,certs:mB}}));fe.assertSchema(t,this.className),this.signatureAlgorithm=new te({schema:t.result.signatureAlgorithm}),this.signature=t.result.signature,mB in t.result&&(this.certs=Array.from(t.result.certs,r=>new Io({schema:r})))}toSchema(){let e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new iA({value:Array.from(this.certs,t=>t.toSchema())})]})),new iA({value:e})}toJSON(){let e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,t=>t.toJSON())),e}};Ry.CLASS_NAME="Signature";var _q="tbsRequest",tE="optionalSignature",hOe=[_q,tE],gOe=class W3 extends Ie{constructor(e={}){super(),this.tbsRequest=S(e,_q,W3.defaultValues(_q)),tE in e&&(this.optionalSignature=S(e,tE,W3.defaultValues(tE))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _q:return new rg;case tE:return new Ry;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case _q:return rg.compareWithDefault("tbs",t.tbs)&&rg.compareWithDefault("version",t.version)&&rg.compareWithDefault("requestorName",t.requestorName)&&rg.compareWithDefault("requestList",t.requestList)&&rg.compareWithDefault("requestExtensions",t.requestExtensions);case tE:return Ry.compareWithDefault("signatureAlgorithm",t.signatureAlgorithm)&&Ry.compareWithDefault("signature",t.signature)&&Ry.compareWithDefault("certs",t.certs);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||"OCSPRequest",value:[rg.schema(t.tbsRequest||{names:{blockName:_q}}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Ry.schema(t.optionalSignature||{names:{blockName:tE}})]})]})}fromSchema(e){Le(e,hOe);let t=Te(e,e,W3.schema());fe.assertSchema(t,this.className),this.tbsRequest=new rg({schema:t.result.tbsRequest}),tE in t.result&&(this.optionalSignature=new Ry({schema:t.result.optionalSignature}))}toSchema(e=!1){let t=[];return t.push(this.tbsRequest.toSchema(e)),this.optionalSignature&&t.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new iA({value:t})}toJSON(){let e={tbsRequest:this.tbsRequest.toJSON()};return this.optionalSignature&&(e.optionalSignature=this.optionalSignature.toJSON()),e}async createForCertificate(e,t,r=Fa(!0)){let a=new ku;await a.createForCertificate(e,t,r),this.tbsRequest.requestList.push(new OL({reqCert:a}))}async sign(e,t="SHA-1",r=Fa(!0)){if(Tj.assertEmpty(e,"privateKey","OCSPRequest.sign method"),!this.optionalSignature)throw new Error('Need to create "optionalSignature" field before signing');let a=await r.getSignatureParameters(e,t),j=a.parameters;this.optionalSignature.signatureAlgorithm=a.signatureAlgorithm;let n=this.tbsRequest.toSchema(!0).toBER(!1),i=await r.signWithPrivateKey(n,e,j);this.optionalSignature.signature=new Qa({valueHex:i})}verify(){}};gOe.CLASS_NAME="OCSPRequest";var Dq="responseType",zq="response",fOe=[Dq,zq],Mq=class sC extends Ie{constructor(e={}){super(),this.responseType=S(e,Dq,sC.defaultValues(Dq)),this.response=S(e,zq,sC.defaultValues(zq)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Dq:return N;case zq:return new At;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Dq:return t===N;case zq:return t.isEqual(sC.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Nt({name:t.responseType||N}),new At({name:t.response||N})]})}fromSchema(e){Le(e,fOe);let t=Te(e,e,sC.schema({names:{responseType:Dq,response:zq}}));fe.assertSchema(t,this.className),this.responseType=t.result.responseType.valueBlock.toString(),this.response=t.result.response}toSchema(){return new iA({value:[new Nt({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}};Mq.CLASS_NAME="ResponseBytes";var xw="responseStatus",Lh="responseBytes",BOe=class lC extends Ie{constructor(e={}){super(),this.responseStatus=S(e,xw,lC.defaultValues(xw)),Lh in e&&(this.responseBytes=S(e,Lh,lC.defaultValues(Lh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xw:return new iv;case Lh:return new Mq;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xw:return t.isEqual(lC.defaultValues(e));case Lh:return Mq.compareWithDefault("responseType",t.responseType)&&Mq.compareWithDefault("response",t.response);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||"OCSPResponse",value:[new iv({name:t.responseStatus||xw}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Mq.schema(t.responseBytes||{names:{blockName:Lh}})]})]})}fromSchema(e){Le(e,[xw,Lh]);let t=Te(e,e,lC.schema());fe.assertSchema(t,this.className),this.responseStatus=t.result.responseStatus,Lh in t.result&&(this.responseBytes=new Mq({schema:t.result.responseBytes}))}toSchema(){let e=[];return e.push(this.responseStatus),this.responseBytes&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new iA({value:e})}toJSON(){let e={responseStatus:this.responseStatus.toJSON()};return this.responseBytes&&(e.responseBytes=this.responseBytes.toJSON()),e}async getCertificateStatus(e,t,r=Fa(!0)){let a,j={isForCertificate:!1,status:2};if(!this.responseBytes||this.responseBytes.responseType!==r3)return j;try{let n=qo(this.responseBytes.response.valueBlock.valueHexView);fe.assert(n,"Basic OCSP response"),a=new IC({schema:n.result})}catch{return j}return a.getCertificateStatus(e,t,r)}async sign(e,t,r=Fa(!0)){var a;if(this.responseBytes&&this.responseBytes.responseType===r3)return IC.fromBER(this.responseBytes.response.valueBlock.valueHexView).sign(e,t,r);throw new Error(`Unknown ResponseBytes type: ${((a=this.responseBytes)===null||a===void 0?void 0:a.responseType)||"Unknown"}`)}async verify(e=null,t=Fa(!0)){var r;if(!(Lh in this))throw new Error("Empty ResponseBytes field");if(this.responseBytes&&this.responseBytes.responseType===r3){let a=IC.fromBER(this.responseBytes.response.valueBlock.valueHexView);return e!==null&&(a.certs||(a.certs=[]),a.certs.push(e)),a.verify({},t)}throw new Error(`Unknown ResponseBytes type: ${((r=this.responseBytes)===null||r===void 0?void 0:r.responseType)||"Unknown"}`)}};BOe.CLASS_NAME="OCSPResponse";var Db="type",jg="attributes",JK="encodedValue",EOe=[jg],hc=class Ok extends Ie{constructor(e={}){super(),this.type=S(e,Db,Ok.defaultValues(Db)),this.attributes=S(e,jg,Ok.defaultValues(jg)),this.encodedValue=S(e,JK,Ok.defaultValues(JK)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Db:return-1;case jg:return[];case JK:return $o;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Db:return t===Ok.defaultValues(Db);case jg:return t.length===0;case JK:return t.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new SA({name:t.blockName||N,optional:!0,idBlock:{tagClass:3,tagNumber:t.tagNumber||0},value:[new ta({name:t.attributes||N,value:lo.schema()})]})}fromSchema(e){Le(e,EOe);let t=Te(e,e,Ok.schema({names:{tagNumber:this.type,attributes:jg}}));fe.assertSchema(t,this.className),this.type=t.result.idBlock.tagNumber,this.encodedValue=_r.toArrayBuffer(t.result.valueBeforeDecodeView);let r=new Uint8Array(this.encodedValue);if(r[0]=49,!(jg in t.result)){if(this.type===0)throw new Error("Wrong structure of SignedUnsignedAttributes");return}this.attributes=Array.from(t.result.attributes,a=>new lo({schema:a}))}toSchema(){if(Ok.compareWithDefault(Db,this.type)||Ok.compareWithDefault(jg,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new SA({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){if(Ok.compareWithDefault(Db,this.type)||Ok.compareWithDefault(jg,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,e=>e.toJSON())}}};hc.CLASS_NAME="SignedAndUnsignedAttributes";var Rq="version",Ky="sid",Kq="digestAlgorithm",rE="signedAttrs",Lq="signatureAlgorithm",cC="signature",aE="unsignedAttrs",pE="SignerInfo",VsA=`${pE}.${Rq}`,uC=`${pE}.${Ky}`,XsA=`${pE}.${Kq}`,J3=`${pE}.${rE}`,WsA=`${pE}.${Lq}`,JsA=`${pE}.${cC}`,Y3=`${pE}.${aE}`,xOe=[VsA,uC,XsA,J3,WsA,JsA,Y3],TL=class _s extends Ie{constructor(e={}){super(),this.version=S(e,Rq,_s.defaultValues(Rq)),this.sid=S(e,Ky,_s.defaultValues(Ky)),this.digestAlgorithm=S(e,Kq,_s.defaultValues(Kq)),rE in e&&(this.signedAttrs=S(e,rE,_s.defaultValues(rE))),this.signatureAlgorithm=S(e,Lq,_s.defaultValues(Lq)),this.signature=S(e,cC,_s.defaultValues(cC)),aE in e&&(this.unsignedAttrs=S(e,aE,_s.defaultValues(aE))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Rq:return 0;case Ky:return new Dr;case Kq:return new te;case rE:return new hc({type:0});case Lq:return new te;case cC:return new At;case aE:return new hc({type:1});default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Rq:return _s.defaultValues(Rq)===t;case Ky:return t instanceof Dr;case Kq:return t instanceof te?t.isEqual(_s.defaultValues(Kq)):!1;case rE:return hc.compareWithDefault("type",t.type)&&hc.compareWithDefault("attributes",t.attributes)&&hc.compareWithDefault("encodedValue",t.encodedValue);case Lq:return t instanceof te?t.isEqual(_s.defaultValues(Lq)):!1;case cC:case aE:return hc.compareWithDefault("type",t.type)&&hc.compareWithDefault("attributes",t.attributes)&&hc.compareWithDefault("encodedValue",t.encodedValue);default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:pE,value:[new Ae({name:t.version||VsA}),new li({value:[ml.schema(t.sidSchema||{names:{blockName:uC}}),new li({value:[new SA({optional:!0,name:t.sid||uC,idBlock:{tagClass:3,tagNumber:0},value:[new At]}),new Cr({optional:!0,name:t.sid||uC,idBlock:{tagClass:3,tagNumber:0}})]})]}),te.schema(t.digestAlgorithm||{names:{blockName:XsA}}),hc.schema(t.signedAttrs||{names:{blockName:J3,tagNumber:0}}),te.schema(t.signatureAlgorithm||{names:{blockName:WsA}}),new At({name:t.signature||JsA}),hc.schema(t.unsignedAttrs||{names:{blockName:Y3,tagNumber:1}})]})}fromSchema(e){Le(e,xOe);let t=Te(e,e,_s.schema());fe.assertSchema(t,this.className),this.version=t.result[VsA].valueBlock.valueDec;let r=t.result[uC];r.idBlock.tagClass===1?this.sid=new ml({schema:r}):this.sid=r,this.digestAlgorithm=new te({schema:t.result[XsA]}),J3 in t.result&&(this.signedAttrs=new hc({type:0,schema:t.result[J3]})),this.signatureAlgorithm=new te({schema:t.result[WsA]}),this.signature=t.result[JsA],Y3 in t.result&&(this.unsignedAttrs=new hc({type:1,schema:t.result[Y3]}))}toSchema(){if(_s.compareWithDefault(Ky,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');let e=[];return e.push(new Ae({value:this.version})),this.sid instanceof ml?e.push(this.sid.toSchema()):e.push(this.sid),e.push(this.digestAlgorithm.toSchema()),this.signedAttrs&&_s.compareWithDefault(rE,this.signedAttrs)===!1&&e.push(this.signedAttrs.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.unsignedAttrs&&_s.compareWithDefault(aE,this.unsignedAttrs)===!1&&e.push(this.unsignedAttrs.toSchema()),new iA({value:e})}toJSON(){if(_s.compareWithDefault(Ky,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');let e={version:this.version,digestAlgorithm:this.digestAlgorithm.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.sid instanceof Dr||(e.sid=this.sid.toJSON()),this.signedAttrs&&_s.compareWithDefault(rE,this.signedAttrs)===!1&&(e.signedAttrs=this.signedAttrs.toJSON()),this.unsignedAttrs&&_s.compareWithDefault(aE,this.unsignedAttrs)===!1&&(e.unsignedAttrs=this.unsignedAttrs.toJSON()),e}};TL.CLASS_NAME="SignerInfo";var dC="version",mC="policy",pC="messageImprint",kC="serialNumber",hC="genTime",Ly="ordering",Ny="nonce",Nq="accuracy",Uq="tsa",Hq="extensions",tp="TSTInfo",YsA=`${tp}.${dC}`,ZsA=`${tp}.${mC}`,QsA=`${tp}.${pC}`,AlA=`${tp}.${kC}`,elA=`${tp}.${hC}`,Z3=`${tp}.${Nq}`,Q3=`${tp}.${Ly}`,AL=`${tp}.${Ny}`,eL=`${tp}.${Uq}`,tL=`${tp}.${Hq}`,bOe=[YsA,ZsA,QsA,AlA,elA,Z3,Q3,AL,eL,tL],_DA=class kc extends Ie{constructor(e={}){super(),this.version=S(e,dC,kc.defaultValues(dC)),this.policy=S(e,mC,kc.defaultValues(mC)),this.messageImprint=S(e,pC,kc.defaultValues(pC)),this.serialNumber=S(e,kC,kc.defaultValues(kC)),this.genTime=S(e,hC,kc.defaultValues(hC)),Nq in e&&(this.accuracy=S(e,Nq,kc.defaultValues(Nq))),Ly in e&&(this.ordering=S(e,Ly,kc.defaultValues(Ly))),Ny in e&&(this.nonce=S(e,Ny,kc.defaultValues(Ny))),Uq in e&&(this.tsa=S(e,Uq,kc.defaultValues(Uq))),Hq in e&&(this.extensions=S(e,Hq,kc.defaultValues(Hq))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dC:return 0;case mC:return N;case pC:return new Jm;case kC:return new Ae;case hC:return new Date(0,0,0);case Nq:return new zb;case Ly:return!1;case Ny:return new Ae;case Uq:return new Bn;case Hq:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case dC:case mC:case hC:case Ly:return t===kc.defaultValues(Ly);case pC:return Jm.compareWithDefault(Zy,t.hashAlgorithm)&&Jm.compareWithDefault(Qy,t.hashedMessage);case kC:case Ny:return t.isEqual(kc.defaultValues(Ny));case Nq:return zb.compareWithDefault(kB,t.seconds)&&zb.compareWithDefault(hB,t.millis)&&zb.compareWithDefault(gB,t.micros);case Uq:return Bn.compareWithDefault(tS,t.type)&&Bn.compareWithDefault(rS,t.value);case Hq:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||tp,value:[new Ae({name:t.version||YsA}),new Nt({name:t.policy||ZsA}),Jm.schema(t.messageImprint||{names:{blockName:QsA}}),new Ae({name:t.serialNumber||AlA}),new si({name:t.genTime||elA}),zb.schema(t.accuracy||{names:{blockName:Z3}}),new zk({name:t.ordering||Q3,optional:!0}),new Ae({name:t.nonce||AL,optional:!0}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Bn.schema(t.tsa||{names:{blockName:eL}})]}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new ta({name:t.extensions||tL,value:gu.schema(t.extension||{})})]})]})}fromSchema(e){Le(e,bOe);let t=Te(e,e,kc.schema());fe.assertSchema(t,this.className),this.version=t.result[YsA].valueBlock.valueDec,this.policy=t.result[ZsA].valueBlock.toString(),this.messageImprint=new Jm({schema:t.result[QsA]}),this.serialNumber=t.result[AlA],this.genTime=t.result[elA].toDate(),Z3 in t.result&&(this.accuracy=new zb({schema:t.result[Z3]})),Q3 in t.result&&(this.ordering=t.result[Q3].valueBlock.value),AL in t.result&&(this.nonce=t.result[AL]),eL in t.result&&(this.tsa=new Bn({schema:t.result[eL]})),tL in t.result&&(this.extensions=Array.from(t.result[tL],r=>new gu({schema:r})))}toSchema(){let e=[];return e.push(new Ae({value:this.version})),e.push(new Nt({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new si({valueDate:this.genTime})),this.accuracy&&e.push(this.accuracy.toSchema()),this.ordering!==void 0&&e.push(new zk({value:this.ordering})),this.nonce&&e.push(this.nonce),this.tsa&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),this.extensions&&e.push(new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return this.accuracy&&(e.accuracy=this.accuracy.toJSON()),this.ordering!==void 0&&(e.ordering=this.ordering),this.nonce&&(e.nonce=this.nonce.toJSON()),this.tsa&&(e.tsa=this.tsa.toJSON()),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}async verify(e,t=Fa(!0)){if(!e.data)throw new Error('"data" is a mandatory attribute for TST_INFO verification');let r=e.data;if(e.notBefore&&this.genTime<e.notBefore)throw new Error("Generation time for TSTInfo object is less than notBefore value");if(e.notAfter&&this.genTime>e.notAfter)throw new Error("Generation time for TSTInfo object is more than notAfter value");let a=t.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId,!0,"MessageImprint.hashAlgorithm"),j=await t.digest(a.name,new Uint8Array(r));return _r.isEqual(j,this.messageImprint.hashedMessage.valueBlock.valueHexView)}};_DA.CLASS_NAME="TSTInfo";var Vq="version",gC="digestAlgorithms",fC="encapContentInfo",Xq="certificates",Wq="crls",BC="signerInfos",WP="ocsps",uv="SignedData",tlA=`${uv}.${Vq}`,rL=`${uv}.${gC}`,rlA=`${uv}.${fC}`,aL=`${uv}.${Xq}`,jL=`${uv}.${Wq}`,nL=`${uv}.${BC}`,yOe=[tlA,rL,rlA,aL,jL,nL],Nl=class extends Error{constructor({message:A,code:e=0,date:t=new Date,signatureVerified:r=null,signerCertificate:a=null,signerCertificateVerified:j=null,timestampSerial:n=null,certificatePath:i=[]}){super(A),this.name="SignedDataVerifyError",this.date=t,this.code=e,this.timestampSerial=n,this.signatureVerified=r,this.signerCertificate=a,this.signerCertificateVerified=j,this.certificatePath=i}},u1=class Wm extends Ie{constructor(e={}){super(),this.version=S(e,Vq,Wm.defaultValues(Vq)),this.digestAlgorithms=S(e,gC,Wm.defaultValues(gC)),this.encapContentInfo=S(e,fC,Wm.defaultValues(fC)),Xq in e&&(this.certificates=S(e,Xq,Wm.defaultValues(Xq))),Wq in e&&(this.crls=S(e,Wq,Wm.defaultValues(Wq))),WP in e&&(this.ocsps=S(e,WP,Wm.defaultValues(WP))),this.signerInfos=S(e,BC,Wm.defaultValues(BC)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vq:return 0;case gC:return[];case fC:return new Yy;case Xq:return[];case Wq:return[];case WP:return[];case BC:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Vq:return t===Wm.defaultValues(Vq);case fC:return Yy.compareWithDefault("eContentType",t.eContentType)&&Yy.compareWithDefault("eContent",t.eContent);case gC:case Xq:case Wq:case WP:case BC:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return t.optional===void 0&&(t.optional=!1),new iA({name:t.blockName||uv,optional:t.optional,value:[new Ae({name:t.version||tlA}),new oo({value:[new ta({name:t.digestAlgorithms||rL,value:te.schema()})]}),Yy.schema(t.encapContentInfo||{names:{blockName:rlA}}),new SA({name:t.certificates||aL,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:av.schema().valueBlock.value}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:GC.schema(t.crls||{names:{crls:jL}}).valueBlock.value}),new oo({value:[new ta({name:t.signerInfos||nL,value:TL.schema()})]})]})}fromSchema(e){Le(e,yOe);let t=Te(e,e,Wm.schema());if(fe.assertSchema(t,this.className),this.version=t.result[tlA].valueBlock.valueDec,rL in t.result&&(this.digestAlgorithms=Array.from(t.result[rL],r=>new te({schema:r}))),this.encapContentInfo=new Yy({schema:t.result[rlA]}),aL in t.result){let r=new av({schema:new oo({value:t.result[aL].valueBlock.value})});this.certificates=r.certificates.slice(0)}jL in t.result&&(this.crls=Array.from(t.result[jL],r=>r.idBlock.tagClass===1?new ov({schema:r}):(r.idBlock.tagClass=1,r.idBlock.tagNumber=16,new FC({schema:r})))),nL in t.result&&(this.signerInfos=Array.from(t.result[nL],r=>new TL({schema:r})))}toSchema(e=!1){let t=[];if(this.certificates&&this.certificates.length&&this.certificates.some(r=>r instanceof $3)||this.crls&&this.crls.length&&this.crls.some(r=>r instanceof FC)?this.version=5:this.certificates&&this.certificates.length&&this.certificates.some(r=>r instanceof oE)?this.version=4:this.certificates&&this.certificates.length&&this.certificates.some(r=>r instanceof hL)||this.signerInfos.some(r=>r.version===3)||this.encapContentInfo.eContentType!==Wm.ID_DATA?this.version=3:this.version=1,t.push(new Ae({value:this.version})),t.push(new oo({value:Array.from(this.digestAlgorithms,r=>r.toSchema())})),t.push(this.encapContentInfo.toSchema()),this.certificates){let a=new av({certificates:this.certificates}).toSchema();t.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:a.valueBlock.value}))}return this.crls&&t.push(new SA({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,r=>{if(r instanceof FC){let a=r.toSchema();return a.idBlock.tagClass=3,a.idBlock.tagNumber=1,a}return r.toSchema(e)})})),t.push(new oo({value:Array.from(this.signerInfos,r=>r.toSchema())})),new iA({value:t})}toJSON(){let e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,t=>t.toJSON()),encapContentInfo:this.encapContentInfo.toJSON(),signerInfos:Array.from(this.signerInfos,t=>t.toJSON())};return this.certificates&&(e.certificates=Array.from(this.certificates,t=>t.toJSON())),this.crls&&(e.crls=Array.from(this.crls,t=>t.toJSON())),e}async verify({signer:e=-1,data:t=$o,trustedCerts:r=[],checkDate:a=new Date,checkChain:j=!1,passedWhenNotRevValues:n=!1,extendedMode:i=!1,findOrigin:o=null,findIssuer:s=null}={},c=Fa(!0)){let u=null,p=null;try{let h=$o,f=N,G=[],w=this.signerInfos[e];if(!w)throw new Nl({date:a,code:1,message:"Unable to get signer by supplied index"});if(!this.certificates)throw new Nl({date:a,code:2,message:"No certificates attached to this signed data"});if(w.sid instanceof ml){for(let T of this.certificates)if(T instanceof Io&&T.issuer.isEqual(w.sid.issuer)&&T.serialNumber.isEqual(w.sid.serialNumber)){u=T;break}}else{let T=w.sid,O=T.idBlock.isConstructed?T.valueBlock.value[0].valueBlock.valueHex:T.valueBlock.valueHex;for(let I of this.certificates){if(!(I instanceof Io))continue;let q=await c.digest({name:"sha-1"},I.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(s1(q,O)){u=I;break}}}if(!u)throw new Nl({date:a,code:3,message:"Unable to find signer certificate"});if(this.encapContentInfo.eContentType===b2e){if(!this.encapContentInfo.eContent)throw new Nl({date:a,code:15,message:"Error during verification: TSTInfo eContent is empty",signatureVerified:null,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0});let T;try{T=_DA.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView)}catch{throw new Nl({date:a,code:15,message:"Error during verification: TSTInfo wrong ASN.1 schema ",signatureVerified:null,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0})}if(a=T.genTime,p=T.serialNumber.valueBlock.valueHexView.slice(),t.byteLength===0)throw new Nl({date:a,code:4,message:"Missed detached data input array"});if(!await T.verify({data:t},c))throw new Nl({date:a,code:15,message:"Error during verification: TSTInfo verification is failed",signatureVerified:!1,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0})}if(j){let T=this.certificates.filter(K=>K instanceof Io&&!!GDA(K,u)),O={checkDate:a,certs:T,trustedCerts:r};s&&(O.findIssuer=s),o&&(O.findOrigin=o);let I=new NL(O);if(I.certs.push(u),this.crls)for(let K of this.crls)"thisUpdate"in K?I.crls.push(K):K.otherRevInfoFormat===r3&&I.ocsps.push(new IC({schema:K.otherRevInfo}));this.ocsps&&I.ocsps.push(...this.ocsps);let q=await I.verify({passedWhenNotRevValues:n},c).catch(K=>{throw new Nl({date:a,code:5,message:`Validation of signer's certificate failed with error: ${K instanceof Object?K.resultMessage:K}`,signerCertificate:u,signerCertificateVerified:!1})});if(q.certificatePath&&(G=q.certificatePath),!q.result)throw new Nl({date:a,code:5,message:`Validation of signer's certificate failed: ${q.resultMessage}`,signerCertificate:u,signerCertificateVerified:!1})}let y=c.getAlgorithmByOID(w.digestAlgorithm.algorithmId);if(!("name"in y))throw new Nl({date:a,code:7,message:`Unsupported signature algorithm: ${w.digestAlgorithm.algorithmId}`,signerCertificate:u,signerCertificateVerified:!0});f=y.name;let E=this.encapContentInfo.eContent;if(E)E.idBlock.tagClass===1&&E.idBlock.tagNumber===4?t=E.getValue():t=E.valueBlock.valueBeforeDecodeView;else if(t.byteLength===0)throw new Nl({date:a,code:8,message:"Missed detached data input array",signerCertificate:u,signerCertificateVerified:!0});if(w.signedAttrs){let T=!1,O=!1;for(let I of w.signedAttrs.attributes)if(I.type==="1.2.840.113549.1.9.3"&&(T=!0),I.type==="1.2.840.113549.1.9.4"&&(O=!0,h=I.values[0].valueBlock.valueHex),T&&O)break;if(T===!1)throw new Nl({date:a,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signerCertificate:u,signerCertificateVerified:!0});if(O===!1)throw new Nl({date:a,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:u,signerCertificateVerified:!0})}if(w.signedAttrs){let T=await c.digest(f,new Uint8Array(t));if(!s1(T,h))throw new Nl({date:a,code:15,message:"Error during verification: Message digest doesn't match",signatureVerified:null,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0});t=w.signedAttrs.encodedValue}let $=await c.verifyWithPublicKey(t,w.signature,u.subjectPublicKeyInfo,u.signatureAlgorithm,f);return i?{date:a,code:14,message:N,signatureVerified:$,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0,certificatePath:G}:$}catch(h){throw h instanceof Nl?h:new Nl({date:a,code:15,message:`Error during verification: ${h instanceof Error?h.message:h}`,signatureVerified:null,signerCertificate:u,timestampSerial:p,signerCertificateVerified:!0})}}async sign(e,t,r="SHA-1",a=$o,j=Fa(!0)){if(!e)throw new Error("Need to provide a private key for signing");let n=j.getOIDByAlgorithm({name:r},!0,"hashAlgorithm");this.digestAlgorithms.filter(u=>u.algorithmId===n).length===0&&this.digestAlgorithms.push(new te({algorithmId:n,algorithmParams:new io}));let i=this.signerInfos[t];if(!i)throw new RangeError("SignerInfo index is out of range");i.digestAlgorithm=new te({algorithmId:n,algorithmParams:new io});let o=await j.getSignatureParameters(e,r),s=o.parameters;if(i.signatureAlgorithm=o.signatureAlgorithm,i.signedAttrs)if(i.signedAttrs.encodedValue.byteLength!==0)a=i.signedAttrs.encodedValue;else{a=i.signedAttrs.toSchema().toBER();let u=_r.toUint8Array(a);u[0]=49}else{let u=this.encapContentInfo.eContent;if(u)u.idBlock.tagClass===1&&u.idBlock.tagNumber===4?a=u.getValue():a=u.valueBlock.valueBeforeDecodeView;else if(a.byteLength===0)throw new Error("Missed detached data input array")}let c=await j.signWithPrivateKey(a,e,s);i.signature=new At({valueHex:c})}};u1.CLASS_NAME="SignedData";u1.ID_DATA=blA;var Uy="version",Hy="authSafe",ng="macData",JP="parsedValue",vOe=[Uy,Hy,ng],FOe=class Vy extends Ie{constructor(e={}){super(),this.version=S(e,Uy,Vy.defaultValues(Uy)),this.authSafe=S(e,Hy,Vy.defaultValues(Hy)),ng in e&&(this.macData=S(e,ng,Vy.defaultValues(ng))),JP in e&&(this.parsedValue=S(e,JP,Vy.defaultValues(JP))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uy:return 3;case Hy:return new Li;case ng:return new AE;case JP:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Uy:return t===Vy.defaultValues(e);case Hy:return Li.compareWithDefault("contentType",t.contentType)&&Li.compareWithDefault("content",t.content);case ng:return AE.compareWithDefault("mac",t.mac)&&AE.compareWithDefault("macSalt",t.macSalt)&&AE.compareWithDefault("iterations",t.iterations);case JP:return t instanceof Object&&Object.keys(t).length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.version||Uy}),Li.schema(t.authSafe||{names:{blockName:Hy}}),AE.schema(t.macData||{names:{blockName:ng,optional:!0}})]})}fromSchema(e){Le(e,vOe);let t=Te(e,e,Vy.schema({names:{version:Uy,authSafe:{names:{blockName:Hy}},macData:{names:{blockName:ng}}}}));fe.assertSchema(t,this.className),this.version=t.result.version.valueBlock.valueDec,this.authSafe=new Li({schema:t.result.authSafe}),ng in t.result&&(this.macData=new AE({schema:t.result.macData}))}toSchema(){let e=[new Ae({value:this.version}),this.authSafe.toSchema()];return this.macData&&e.push(this.macData.toSchema()),new iA({value:e})}toJSON(){let e={version:this.version,authSafe:this.authSafe.toJSON()};return this.macData&&(e.macData=this.macData.toJSON()),e}async makeInternalValues(e={},t=Fa(!0)){if($n.assert(e,"parameters","object"),!this.parsedValue)throw new Error('Please call "parseValues" function first in order to make "parsedValue" data');switch(Tj.assertEmpty(this.parsedValue.integrityMode,"integrityMode","parsedValue"),Tj.assertEmpty(this.parsedValue.authenticatedSafe,"authenticatedSafe","parsedValue"),this.parsedValue.integrityMode){case 0:{if(!("iterations"in e))throw new Tj("iterations");Tj.assertEmpty(e.pbkdf2HashAlgorithm,"pbkdf2HashAlgorithm"),Tj.assertEmpty(e.hmacHashAlgorithm,"hmacHashAlgorithm"),Tj.assertEmpty(e.password,"password");let r=new ArrayBuffer(64),a=new Uint8Array(r);t.getRandomValues(a);let j=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new Li({contentType:Li.DATA,content:new At({valueHex:j})});let n=await t.stampDataWithPassword({password:e.password,hashAlgorithm:e.hmacHashAlgorithm,salt:r,iterationCount:e.iterations,contentToStamp:j});this.macData=new AE({mac:new Jy({digestAlgorithm:new te({algorithmId:t.getOIDByAlgorithm({name:e.hmacHashAlgorithm},!0,"hmacHashAlgorithm")}),digest:new At({valueHex:n})}),macSalt:new At({valueHex:r}),iterations:e.iterations})}break;case 1:{if(!("signingCertificate"in e))throw new Tj("signingCertificate");Tj.assertEmpty(e.privateKey,"privateKey"),Tj.assertEmpty(e.hashAlgorithm,"hashAlgorithm");let r=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),a=new u1({version:1,encapContentInfo:new Yy({eContentType:"1.2.840.113549.1.7.1",eContent:new At({valueHex:r})}),certificates:[e.signingCertificate]}),j=await t.digest({name:e.hashAlgorithm},new Uint8Array(r)),n=[];n.push(new lo({type:"1.2.840.113549.1.9.3",values:[new Nt({value:"1.2.840.113549.1.7.1"})]})),n.push(new lo({type:"1.2.840.113549.1.9.5",values:[new c1({valueDate:new Date})]})),n.push(new lo({type:"1.2.840.113549.1.9.4",values:[new At({valueHex:j})]})),a.signerInfos.push(new TL({version:1,sid:new ml({issuer:e.signingCertificate.issuer,serialNumber:e.signingCertificate.serialNumber}),signedAttrs:new hc({type:0,attributes:n})})),await a.sign(e.privateKey,0,e.hashAlgorithm,void 0,t),this.authSafe=new Li({contentType:"1.2.840.113549.1.7.2",content:a.toSchema(!0)})}break;default:throw new Error(`Parameter "integrityMode" has unknown value: ${this.parsedValue.integrityMode}`)}}async parseInternalValues(e,t=Fa(!0)){switch($n.assert(e,"parameters","object"),e.checkIntegrity===void 0&&(e.checkIntegrity=!0),this.parsedValue={},this.authSafe.contentType){case Li.DATA:{Tj.assertEmpty(e.password,"password"),this.parsedValue.integrityMode=0,$n.assert(this.authSafe.content,"authSafe.content",At);let r=this.authSafe.content.getValue();if(this.parsedValue.authenticatedSafe=zsA.fromBER(r),e.checkIntegrity){if(!this.macData)throw new Error('Absent "macData" value, can not check PKCS#12 data integrity');let a=t.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId,!0,"digestAlgorithm");if(!await t.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:a.name,salt:_r.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),iterationCount:this.macData.iterations||1,contentToVerify:r,signatureToVerify:_r.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView)}))throw new Error("Integrity for the PKCS#12 data is broken!")}}break;case Li.SIGNED_DATA:{this.parsedValue.integrityMode=1;let r=new u1({schema:this.authSafe.content}),a=r.encapContentInfo.eContent;Tj.assert(a,"eContent","cmsSigned.encapContentInfo"),$n.assert(a,"eContent",At);let j=a.getValue();if(this.parsedValue.authenticatedSafe=zsA.fromBER(j),!await r.verify({signer:0,checkChain:!1},t))throw new Error("Integrity for the PKCS#12 data is broken!")}break;default:throw new Error(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}}};FOe.CLASS_NAME="PFX";var Jq="status",jE="statusStrings",nE="failInfo",GOe=[Jq,jE,nE],GTA;(function(A){A[A.granted=0]="granted",A[A.grantedWithMods=1]="grantedWithMods",A[A.rejection=2]="rejection",A[A.waiting=3]="waiting",A[A.revocationWarning=4]="revocationWarning",A[A.revocationNotification=5]="revocationNotification"})(GTA||(GTA={}));var EC=class Xy extends Ie{constructor(e={}){super(),this.status=S(e,Jq,Xy.defaultValues(Jq)),jE in e&&(this.statusStrings=S(e,jE,Xy.defaultValues(jE))),nE in e&&(this.failInfo=S(e,nE,Xy.defaultValues(nE))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jq:return 2;case jE:return[];case nE:return new Qa;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case Jq:return t===Xy.defaultValues(e);case jE:return t.length===0;case nE:return t.isEqual(Xy.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||N,value:[new Ae({name:t.status||N}),new iA({optional:!0,value:[new ta({name:t.statusStrings||N,value:new Qm})]}),new Qa({name:t.failInfo||N,optional:!0})]})}fromSchema(e){Le(e,GOe);let t=Te(e,e,Xy.schema({names:{status:Jq,statusStrings:jE,failInfo:nE}}));fe.assertSchema(t,this.className);let r=t.result.status;if(r.valueBlock.isHexOnly===!0||r.valueBlock.valueDec<0||r.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=r.valueBlock.valueDec,jE in t.result&&(this.statusStrings=t.result.statusStrings),nE in t.result&&(this.failInfo=t.result.failInfo)}toSchema(){let e=[];return e.push(new Ae({value:this.status})),this.statusStrings&&e.push(new iA({optional:!0,value:this.statusStrings})),this.failInfo&&e.push(this.failInfo),new iA({value:e})}toJSON(){let e={status:this.status};return this.statusStrings&&(e.statusStrings=Array.from(this.statusStrings,t=>t.toJSON())),this.failInfo&&(e.failInfo=this.failInfo.toJSON()),e}};EC.CLASS_NAME="PKIStatusInfo";var xC="version",bC="messageImprint",Yq="reqPolicy",Zq="nonce",ig="certReq",Qq="extensions",dv="TimeStampReq",alA=`${dv}.${xC}`,jlA=`${dv}.${bC}`,iL=`${dv}.${Yq}`,oL=`${dv}.${Zq}`,sL=`${dv}.${ig}`,lL=`${dv}.${Qq}`,wOe=[alA,jlA,iL,oL,sL,lL],qOe=class Pd extends Ie{constructor(e={}){super(),this.version=S(e,xC,Pd.defaultValues(xC)),this.messageImprint=S(e,bC,Pd.defaultValues(bC)),Yq in e&&(this.reqPolicy=S(e,Yq,Pd.defaultValues(Yq))),Zq in e&&(this.nonce=S(e,Zq,Pd.defaultValues(Zq))),ig in e&&(this.certReq=S(e,ig,Pd.defaultValues(ig))),Qq in e&&(this.extensions=S(e,Qq,Pd.defaultValues(Qq))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xC:return 0;case bC:return new Jm;case Yq:return N;case Zq:return new Ae;case ig:return!1;case Qq:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case xC:case Yq:case ig:return t===Pd.defaultValues(e);case bC:return Jm.compareWithDefault("hashAlgorithm",t.hashAlgorithm)&&Jm.compareWithDefault("hashedMessage",t.hashedMessage);case Zq:return t.isEqual(Pd.defaultValues(e));case Qq:return t.length===0;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||dv,value:[new Ae({name:t.version||alA}),Jm.schema(t.messageImprint||{names:{blockName:jlA}}),new Nt({name:t.reqPolicy||iL,optional:!0}),new Ae({name:t.nonce||oL,optional:!0}),new zk({name:t.certReq||sL,optional:!0}),new SA({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new ta({name:t.extensions||lL,value:gu.schema()})]})]})}fromSchema(e){Le(e,wOe);let t=Te(e,e,Pd.schema());fe.assertSchema(t,this.className),this.version=t.result[alA].valueBlock.valueDec,this.messageImprint=new Jm({schema:t.result[jlA]}),iL in t.result&&(this.reqPolicy=t.result[iL].valueBlock.toString()),oL in t.result&&(this.nonce=t.result[oL]),sL in t.result&&(this.certReq=t.result[sL].valueBlock.value),lL in t.result&&(this.extensions=Array.from(t.result[lL],r=>new gu({schema:r})))}toSchema(){let e=[];return e.push(new Ae({value:this.version})),e.push(this.messageImprint.toSchema()),this.reqPolicy&&e.push(new Nt({value:this.reqPolicy})),this.nonce&&e.push(this.nonce),ig in this&&Pd.compareWithDefault(ig,this.certReq)===!1&&e.push(new zk({value:this.certReq})),this.extensions&&e.push(new SA({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,t=>t.toSchema())})),new iA({value:e})}toJSON(){let e={version:this.version,messageImprint:this.messageImprint.toJSON()};return this.reqPolicy!==void 0&&(e.reqPolicy=this.reqPolicy),this.nonce!==void 0&&(e.nonce=this.nonce.toJSON()),this.certReq!==void 0&&Pd.compareWithDefault(ig,this.certReq)===!1&&(e.certReq=this.certReq),this.extensions&&(e.extensions=Array.from(this.extensions,t=>t.toJSON())),e}};qOe.CLASS_NAME="TimeStampReq";var A1="status",e1="timeStampToken",_lA="TimeStampResp",nlA=`${_lA}.${A1}`,cL=`${_lA}.${e1}`,$Oe=[nlA,cL],IOe=class uL extends Ie{constructor(e={}){super(),this.status=S(e,A1,uL.defaultValues(A1)),e1 in e&&(this.timeStampToken=S(e,e1,uL.defaultValues(e1))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case A1:return new EC;case e1:return new Li;default:return super.defaultValues(e)}}static compareWithDefault(e,t){switch(e){case A1:return EC.compareWithDefault(A1,t.status)&&!("statusStrings"in t)&&!("failInfo"in t);case e1:return t.contentType===N&&t.content instanceof Dr;default:return super.defaultValues(e)}}static schema(e={}){let t=S(e,"names",{});return new iA({name:t.blockName||_lA,value:[EC.schema(t.status||{names:{blockName:nlA}}),Li.schema(t.timeStampToken||{names:{blockName:cL,optional:!0}})]})}fromSchema(e){Le(e,$Oe);let t=Te(e,e,uL.schema());fe.assertSchema(t,this.className),this.status=new EC({schema:t.result[nlA]}),cL in t.result&&(this.timeStampToken=new Li({schema:t.result[cL]}))}toSchema(){let e=[];return e.push(this.status.toSchema()),this.timeStampToken&&e.push(this.timeStampToken.toSchema()),new iA({value:e})}toJSON(){let e={status:this.status.toJSON()};return this.timeStampToken&&(e.timeStampToken=this.timeStampToken.toJSON()),e}async sign(e,t,r=Fa(!0)){return this.assertContentType(),new u1({schema:this.timeStampToken.content}).sign(e,0,t,void 0,r)}async verify(e={signer:0,trustedCerts:[],data:$o},t=Fa(!0)){return this.assertContentType(),new u1({schema:this.timeStampToken.content}).verify(e,t)}assertContentType(){if(!this.timeStampToken)throw new Error("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!==iDA)throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`)}};IOe.CLASS_NAME="TimeStampResp";function POe(){if(typeof self<"u"){if("crypto"in self){let A="webcrypto";"webkitSubtle"in self.crypto&&(A="safari"),vsA(A,new DC({name:A,crypto}))}}else if(typeof crypto<"u"&&"webcrypto"in crypto){let A="NodeJS ^15",e=crypto.webcrypto;vsA(A,new DC({name:A,crypto:e}))}}POe();var SOe=async A=>{let e=Io.fromBER(A.endCert),t=A.intermediateCerts.map(i=>Io.fromBER(i)),r=Io.fromBER(A.rootCert),a=[...t,e],n=await new NL({certs:a,trustedCerts:[r],ocsps:[],crls:[]}).verify();if(!n.result)throw new Error("Failed to verify certificate chain.");if(!n.certificatePath||n.certificatePath.length!==a.length)throw new Error("Certificate path has unexpected length.")},DDA=sv(pSe(),1),COe=new TextEncoder,OOe=new TextDecoder,TOe=A=>COe.encode(A),Ap=A=>(0,DDA.toByteArray)(A),_Oe=A=>OOe.decode(Ap(A)),RC=A=>KC(Ap(A)),d1=A=>(0,DDA.fromByteArray)(A),KC=A=>[...A].map(e=>e.toString(16).padStart(2,"0")).join(""),zDA={baseUrl:"https://rekor.sigstore.dev",hashAlgorithm:"SHA2_256",publicKey:{rawBytes:"MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE2G2Y+2tabdTV5BcGiBIx0a9fAFwrkBbmLSGtks4L3qX6yYY0zufBnhC8Ur/iy55GhWP/9A/bY2LhC30M9+RYtw==",keyDetails:"PKIX_ECDSA_P256_SHA_256",validFor:{start:"2021-01-12T11:53:27.000Z"}},logId:{keyId:"wNI9atQGlz+VWfO6LRygH4QUfY/8W4RFwiT5i5WRgB0="}},DOe="MIICFjCCAZugAwIBAgIQYmuPu/5cIPSMDFxAqdP9szAKBggqhkjOPQQDAzBLMQswCQYDVQQGEwJDQTEYMBYGA1UECgwPQWdpbGVCaXRzLCBJbmMuMSIwIAYDVQQDDBkxUGFzc3dvcmQgUm9vdCBDQSAxIChERVYpMCAXDTIzMTExNjAyMDM1NFoYDzIwNzMxMTE2MDMwMzU0WjBLMQswCQYDVQQGEwJDQTEYMBYGA1UECgwPQWdpbGVCaXRzLCBJbmMuMSIwIAYDVQQDDBkxUGFzc3dvcmQgUm9vdCBDQSAxIChERVYpMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEFJx3d/v/TFpOJIzm5vexk40JlimjJ9ktm/QsFpsh8ziZk3PMQYnUciCiS10nR7gD7d8h8w3AaiFe4WiN3spbJnBGFPFL1NXUNg9OeSw0iFc/4hfwt3OzCY0WM03+OCy3o0IwQDAPBgNVHRMBAf8EBTADAQH/MB0GA1UdDgQWBBSQajj6MNhbVbnOvEFn4AomUaPSojAOBgNVHQ8BAf8EBAMCAYYwCgYIKoZIzj0EAwMDaQAwZgIxAKWlfvW0o0Tf1CSOFcBk2BzQfy9wIOe8sKzyeBlMxIiLYCeJb8K0GYvrmdb7CDPxUQIxAIuiYpmHx37LjhxksMwPAqmil5jhiIGd2DSp/zU/PHDe5xgn/JfkbbqTDxXHL1abIA==",zOe="MIICCjCCAZCgAwIBAgIRAPZ7+BzbLmqjhTdZW5Y1z9IwCgYIKoZIzj0EAwMwRTELMAkGA1UEBhMCQ0ExGDAWBgNVBAoMD0FnaWxlQml0cywgSW5jLjEcMBoGA1UEAwwTMVBhc3N3b3JkIFJvb3QgQ0EgMTAgFw0yMzEyMDEyMDU3MzNaGA8yMDczMTIwMTIxNTczM1owRTELMAkGA1UEBhMCQ0ExGDAWBgNVBAoMD0FnaWxlQml0cywgSW5jLjEcMBoGA1UEAwwTMVBhc3N3b3JkIFJvb3QgQ0EgMTB2MBAGByqGSM49AgEGBSuBBAAiA2IABMoCwiV1vmEdnZrSBo1h79qaYXnektIRgH4O4qQJqOjnroZ5ucvsgLkwfAVj/28k2jxb8RGIF0Gvf0DwhOUcdzZ5wpzIvLtUKIzpKl1XTyOLXJKqkfLQJ2mydhFenxo02aNCMEAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQU1kJCo+7mYV5f+qrDpbwB0D4SJAgwDgYDVR0PAQH/BAQDAgGGMAoGCCqGSM49BAMDA2gAMGUCMHuKoaYioa0r4biWtFs4B8FOEbaXeDKaEqrt4EYhsYUvUmmGdXCh1a3lkRL2+vI3XgIxAIz1eTOhSRz9Gc2pbdE+2bvLY3Gn5qXTnJDOBgaLyWkOCY6P/nDVZVNneQktN63J8A==",DlA=A=>Ap(A?DOe:zOe),MOe=A=>Io.fromBER(DlA(A)),ROe=function(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))};function KOe(A){return A}function MDA(A,e,t,r,a,j,n,i,o){switch(arguments.length){case 1:return A;case 2:return e(A);case 3:return t(e(A));case 4:return r(t(e(A)));case 5:return a(r(t(e(A))));case 6:return j(a(r(t(e(A)))));case 7:return n(j(a(r(t(e(A))))));case 8:return i(n(j(a(r(t(e(A)))))));case 9:return o(i(n(j(a(r(t(e(A))))))));default:{for(var s=arguments[0],c=1;c<arguments.length;c++)s=arguments[c](s);return s}}}var zlA=function(A,e){var t=typeof A=="number"?function(r){return r.length>=A}:A;return function(){var r=Array.from(arguments);return t(arguments)?e.apply(this,r):function(a){return e.apply(void 0,ROe([a],r,!1))}}},LOe=function(A){return A._tag==="Left"},NOe=function(A){return{_tag:"Left",left:A}},UOe=function(A){return{_tag:"Right",right:A}};function RDA(A){return function(e,t){return A.map(e,function(){return t})}}function HOe(A){var e=RDA(A);return function(t){return e(t,void 0)}}function VOe(A){return function(e,t){return A.chain(e,function(r){return A.map(t(r),function(){return r})})}}var XOe=NOe,MlA=UOe,WOe=zlA(2,function(A,e){return G6(A)?A:e(A.right)}),KDA=function(A,e){return MDA(A,YOe(e))},JOe=function(A,e){return MDA(A,QOe(e))},RlA="Either",YOe=function(A){return function(e){return G6(e)?e:MlA(A(e.right))}},LDA={URI:RlA,map:KDA},qVt=zlA(2,RDA(LDA)),$Vt=HOe(LDA),ZOe=function(A){return function(e){return G6(e)?e:G6(A)?A:MlA(e.right(A.right))}},QOe=ZOe,ATe={URI:RlA,map:KDA,ap:JOe,chain:WOe},eTe={URI:RlA,fromEither:KOe},G6=LOe,IVt=zlA(2,VOe(ATe)),PVt={fromEither:eTe.fromEither},on=function(){var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var j in a)Object.prototype.hasOwnProperty.call(a,j)&&(r[j]=a[j])},A(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");A(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),m1=function(){return m1=Object.assign||function(A){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(A[a]=e[a])}return A},m1.apply(this,arguments)},g1=XOe,zs=function(A,e,t){return g1([{value:A,context:e,message:t}])},vi=MlA,_j=function(){function A(e,t,r,a){this.name=e,this.is=t,this.validate=r,this.encode=a,this.decode=this.decode.bind(this)}return A.prototype.pipe=function(e,t){var r=this;return t===void 0&&(t="pipe(".concat(this.name,", ").concat(e.name,")")),new A(t,e.is,function(a,j){var n=r.validate(a,j);return G6(n)?n:e.validate(n.right,j)},this.encode===Ai&&e.encode===Ai?Ai:function(a){return r.encode(e.encode(a))})},A.prototype.asDecoder=function(){return this},A.prototype.asEncoder=function(){return this},A.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},A}(),Ai=function(A){return A};function tTe(A){return A.displayName||A.name||"<function".concat(A.length,">")}function p1(A,e,t,r){for(var a=A.length,j=Array(a+1),n=0;n<a;n++)j[n]=A[n];return j[a]={key:e,type:t,actual:r},j}function XC(A,e){for(var t=e.length,r=0;r<t;r++)A.push(e[r])}var LC=Object.prototype.hasOwnProperty;function rTe(A){return Object.keys(A).map(function(e){return"".concat(e,": ").concat(A[e].name)}).join(", ")}function _L(A){for(var e=0;e<A.length;e++)if(A[e].encode!==Ai)return!1;return!0}function NDA(A){return"{ ".concat(rTe(A)," }")}function aTe(A){return"Partial<".concat(A,">")}function jTe(A){return"("+A.map(function(e){return e.name}).join(" | ")+")"}function wTA(A,e){for(var t=!0,r=!0,a=!dE.is(A),j=0,n=e;j<n.length;j++){var i=n[j];i!==A&&(t=!1),dE.is(i)&&(r=!1)}if(t)return A;if(r)return e[e.length-1];for(var o={},s=0,c=e;s<c.length;s++){var i=c[s];for(var u in i)(!LC.call(o,u)||a||i[u]!==A[u])&&(o[u]=i[u])}return o}function nTe(A){return A.length>0}var hu={};function UDA(A,e){for(var t=[],r=0,a=A;r<a.length;r++){var j=a[r];e.indexOf(j)!==-1&&t.push(j)}return t}function iTe(A,e){if(A===hu)return e;if(e===hu)return A;var t=Object.assign({},A);for(var r in e)if(LC.call(A,r)){var a=UDA(A[r],e[r]);if(nTe(a))t[r]=a;else{t=hu;break}}else t[r]=e[r];return t}function oTe(A,e){if(A===hu||e===hu)return hu;var t=hu;for(var r in A)if(LC.call(e,r)){var a=UDA(A[r],e[r]);a.length===0&&(t===hu&&(t={}),t[r]=A[r].concat(e[r]))}return t}function sTe(A){return A._tag==="LiteralType"}function lTe(A){return A._tag==="InterfaceType"}function cTe(A){return A._tag==="StrictType"}function uTe(A){return A._tag==="ExactType"}function dTe(A){return A._tag==="RefinementType"}function mTe(A){return A._tag==="IntersectionType"}function pTe(A){return A._tag==="UnionType"}function kTe(A){return A._tag==="RecursiveType"}var KoA=[];function Av(A){if(KoA.indexOf(A)!==-1)return hu;if(lTe(A)||cTe(A)){var e=hu;for(var t in A.props){var r=A.props[t];sTe(r)&&(e===hu&&(e={}),e[t]=[r.value])}return e}else{if(uTe(A)||dTe(A))return Av(A.type);if(mTe(A))return A.types.reduce(function(j,n){return iTe(j,Av(n))},hu);if(pTe(A))return A.types.slice(1).reduce(function(j,n){return oTe(j,Av(n))},Av(A.types[0]));if(kTe(A)){KoA.push(A);var a=Av(A.type);return KoA.pop(),a}}return hu}function hTe(A){var e=Av(A[0]),t=Object.keys(e),r=A.length,a=function(s){for(var c=e[s].slice(),u=[e[s]],p=1;p<r;p++){var h=A[p],f=Av(h),G=f[s];if(G===void 0)return"continue-keys";if(G.some(function(w){return c.indexOf(w)!==-1}))return"continue-keys";c.push.apply(c,G),u.push(G)}return{value:[s,u]}};A:for(var j=0,n=t;j<n.length;j++){var i=n[j],o=a(i);if(typeof o=="object")return o.value;switch(o){case"continue-keys":continue A}}}var gTe=function(A){on(e,A);function e(){var t=A.call(this,"null",function(r){return r===null},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="NullType",t}return e}(_j),SVt=new gTe,fTe=function(A){on(e,A);function e(){var t=A.call(this,"undefined",function(r){return r===void 0},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="UndefinedType",t}return e}(_j),qTA=new fTe,BTe=function(A){on(e,A);function e(){var t=A.call(this,"void",qTA.is,qTA.validate,Ai)||this;return t._tag="VoidType",t}return e}(_j),CVt=new BTe,ETe=function(A){on(e,A);function e(){var t=A.call(this,"unknown",function(r){return!0},vi,Ai)||this;return t._tag="UnknownType",t}return e}(_j),OVt=new ETe,xTe=function(A){on(e,A);function e(){var t=A.call(this,"string",function(r){return typeof r=="string"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="StringType",t}return e}(_j),Dk=new xTe,bTe=function(A){on(e,A);function e(){var t=A.call(this,"number",function(r){return typeof r=="number"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="NumberType",t}return e}(_j),KlA=new bTe,yTe=function(A){on(e,A);function e(){var t=A.call(this,"bigint",function(r){return typeof r=="bigint"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="BigIntType",t}return e}(_j),TVt=new yTe,vTe=function(A){on(e,A);function e(){var t=A.call(this,"boolean",function(r){return typeof r=="boolean"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="BooleanType",t}return e}(_j),_Vt=new vTe,FTe=function(A){on(e,A);function e(){var t=A.call(this,"UnknownArray",Array.isArray,function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="AnyArrayType",t}return e}(_j),$TA=new FTe,GTe=function(A){on(e,A);function e(){var t=A.call(this,"UnknownRecord",function(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="AnyDictionaryType",t}return e}(_j),dE=new GTe,wTe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.value=n,i._tag="LiteralType",i}return e}(_j);function lg(A,e){e===void 0&&(e=JSON.stringify(A));var t=function(r){return r===A};return new wTe(e,t,function(r,a){return t(r)?vi(A):zs(r,a)},Ai,A)}var DVt=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.keys=n,i._tag="KeyofType",i}return e}(_j),qTe=function(A){on(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j)||this;return o.type=n,o.predicate=i,o._tag="RefinementType",o}return e}(_j);function HDA(A,e,t){return XDA(A,e,t)}var zVt=HDA(KlA,function(A){return Number.isInteger(A)},"Int"),$Te=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.runDefinition=n,i._tag="RecursiveType",i}return e}(_j);Object.defineProperty($Te.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var ITe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ArrayType",i}return e}(_j);function PTe(A,e){return e===void 0&&(e="Array<".concat(A.name,">")),new ITe(e,function(t){return $TA.is(t)&&t.every(A.is)},function(t,r){var a=$TA.validate(t,r);if(G6(a))return a;for(var j=a.right,n=j.length,i=j,o=[],s=0;s<n;s++){var c=j[s],u=A.validate(c,p1(r,String(s),A,c));if(G6(u))XC(o,u.left);else{var p=u.right;p!==c&&(i===j&&(i=j.slice()),i[s]=p)}}return o.length>0?g1(o):vi(i)},A.encode===Ai?Ai:function(t){return t.map(A.encode)},A)}var STe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="InterfaceType",i}return e}(_j);function Ni(A,e){e===void 0&&(e=NDA(A));var t=Object.keys(A),r=t.map(function(j){return A[j]}),a=t.length;return new STe(e,function(j){if(dE.is(j)){for(var n=0;n<a;n++){var i=t[n],o=j[i];if(o===void 0&&!LC.call(j,i)||!r[n].is(o))return!1}return!0}return!1},function(j,n){var i=dE.validate(j,n);if(G6(i))return i;for(var o=i.right,s=o,c=[],u=0;u<a;u++){var p=t[u],h=s[p],f=r[u],G=f.validate(h,p1(n,p,f,h));if(G6(G))XC(c,G.left);else{var w=G.right;(w!==h||w===void 0&&!LC.call(s,p))&&(s===o&&(s=m1({},o)),s[p]=w)}}return c.length>0?g1(c):vi(s)},_L(r)?Ai:function(j){for(var n=m1({},j),i=0;i<a;i++){var o=t[i],s=r[i].encode;s!==Ai&&(n[o]=s(j[o]))}return n},A)}var CTe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="PartialType",i}return e}(_j);function OTe(A,e){e===void 0&&(e=aTe(NDA(A)));var t=Object.keys(A),r=t.map(function(j){return A[j]}),a=t.length;return new CTe(e,function(j){if(dE.is(j)){for(var n=0;n<a;n++){var i=t[n],o=j[i];if(o!==void 0&&!A[i].is(o))return!1}return!0}return!1},function(j,n){var i=dE.validate(j,n);if(G6(i))return i;for(var o=i.right,s=o,c=[],u=0;u<a;u++){var p=t[u],h=s[p],f=A[p],G=f.validate(h,p1(n,p,f,h));if(G6(G))h!==void 0&&XC(c,G.left);else{var w=G.right;w!==h&&(s===o&&(s=m1({},o)),s[p]=w)}}return c.length>0?g1(c):vi(s)},_L(r)?Ai:function(j){for(var n=m1({},j),i=0;i<a;i++){var o=t[i],s=j[o];s!==void 0&&(n[o]=r[i].encode(s))}return n},A)}var MVt=function(A){on(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j)||this;return o.domain=n,o.codomain=i,o._tag="DictionaryType",o}return e}(_j),VDA=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="UnionType",i}return e}(_j);function TTe(A,e){e===void 0&&(e=jTe(A));var t=hTe(A);if(t!==void 0&&A.length>0){var r=t[0],a=t[1],j=a.length,n=function(i){for(var o=0;o<j;o++)if(a[o].indexOf(i)!==-1)return o};return new NTe(e,function(i){if(dE.is(i)){var o=n(i[r]);return o!==void 0?A[o].is(i):!1}return!1},function(i,o){var s=dE.validate(i,o);if(G6(s))return s;var c=s.right,u=n(c[r]);if(u===void 0)return zs(i,o);var p=A[u];return p.validate(c,p1(o,String(u),p,c))},_L(A)?Ai:function(i){var o=n(i[r]);if(o===void 0)throw new Error("no codec found to encode value in union codec ".concat(e));return A[o].encode(i)},A,r)}else return new VDA(e,function(i){return A.some(function(o){return o.is(i)})},function(i,o){for(var s=[],c=0;c<A.length;c++){var u=A[c],p=u.validate(i,p1(o,String(c),u,i));if(G6(p))XC(s,p.left);else return vi(p.right)}return g1(s)},_L(A)?Ai:function(i){for(var o=0,s=A;o<s.length;o++){var c=s[o];if(c.is(i))return c.encode(i)}throw new Error("no codec found to encode value in union type ".concat(e))},A)}var _Te=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="IntersectionType",i}return e}(_j);function DTe(A,e){e===void 0&&(e="(".concat(A.map(function(r){return r.name}).join(" & "),")"));var t=A.length;return new _Te(e,function(r){return A.every(function(a){return a.is(r)})},A.length===0?vi:function(r,a){for(var j=[],n=[],i=0;i<t;i++){var o=A[i],s=o.validate(r,p1(a,String(i),o,r));G6(s)?XC(n,s.left):j.push(s.right)}return n.length>0?g1(n):vi(wTA(r,j))},A.length===0?Ai:function(r){return wTA(r,A.map(function(a){return a.encode(r)}))},A)}var RVt=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.types=n,i._tag="TupleType",i}return e}(_j),zTe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ReadonlyType",i}return e}(_j);function so(A,e){return e===void 0&&(e="Readonly<".concat(A.name,">")),new zTe(e,A.is,A.validate,A.encode,A)}var MTe=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ReadonlyArrayType",i}return e}(_j);function LlA(A,e){e===void 0&&(e="ReadonlyArray<".concat(A.name,">"));var t=PTe(A);return new MTe(e,t.is,t.validate,t.encode,A)}var KVt=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.type=n,i._tag="ExactType",i}return e}(_j),RTe=function(A){on(e,A);function e(){var t=A.call(this,"Function",function(r){return typeof r=="function"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="FunctionType",t}return e}(_j),LVt=new RTe,KTe=function(A){on(e,A);function e(){var t=A.call(this,"never",function(r){return!1},function(r,a){return zs(r,a)},function(){throw new Error("cannot encode never")})||this;return t._tag="NeverType",t}return e}(_j),NVt=new KTe,LTe=function(A){on(e,A);function e(){var t=A.call(this,"any",function(r){return!0},vi,Ai)||this;return t._tag="AnyType",t}return e}(_j),UVt=new LTe;function XDA(A,e,t){return t===void 0&&(t="(".concat(A.name," | ").concat(tTe(e),")")),new qTe(t,function(r){return A.is(r)&&e(r)},function(r,a){var j=A.validate(r,a);if(G6(j))return j;var n=j.right;return e(n)?vi(n):zs(n,a)},A.encode,A,e)}var HVt=XDA(KlA,Number.isInteger,"Integer"),NTe=function(A){on(e,A);function e(t,r,a,j,n,i){var o=A.call(this,t,r,a,j,n)||this;return o.tag=i,o}return e}(VDA),UTe=function(A){on(e,A);function e(){var t=A.call(this,"object",function(r){return r!==null&&typeof r=="object"},function(r,a){return t.is(r)?vi(r):zs(r,a)},Ai)||this;return t._tag="ObjectType",t}return e}(_j),VVt=new UTe,XVt=function(A){on(e,A);function e(t,r,a,j,n){var i=A.call(this,t,r,a,j)||this;return i.props=n,i._tag="StrictType",i}return e}(_j),WC=sv(zL(),1),HTe=sv(_TA(),1),WDA=sv(mE(),1),Hl=class oA extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,oA.prototype),e>oA.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return oA.__zero();if(oA.__isOneDigitInt(e))return 0>e?oA.__oneDigit(-e,!0):oA.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return oA.__fromDouble(e)}if(typeof e=="string"){let a=oA.__fromString(e);if(a===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return a}if(typeof e=="boolean")return e===!0?oA.__oneDigit(1,!1):oA.__zero();if(typeof e=="object"){if(e.constructor===oA)return e;let a=oA.__toPrimitive(e);return oA.BigInt(a)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){let e=["BigInt["];for(let t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?oA.__toStringGeneric(this,e,!1):oA.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){let t=e.length;if(t===0)return 0;if(t===1){let w=e.__unsignedDigit(0);return e.sign?-w:w}let r=e.__digit(t-1),a=oA.__clz30(r),j=30*t-a;if(1024<j)return e.sign?-1/0:1/0;let n=j-1,i=r,o=t-1,s=a+3,c=s===32?0:i<<s;c>>>=12;let u=s-12,p=12<=s?0:i<<20+s,h=20+s;for(0<u&&0<o&&(o--,i=e.__digit(o),c|=i>>>30-u,p=i<<u+2,h=u+2);0<h&&0<o;)o--,i=e.__digit(o),p|=30<=h?i<<h-30:i>>>30-h,h-=30;let f=oA.__decideRounding(e,h,o,i);if((f===1||f===0&&(1&p)==1)&&(p=p+1>>>0,p===0&&(c++,c>>>20!=0&&(c=0,n++,1023<n))))return e.sign?-1/0:1/0;let G=e.sign?-2147483648:0;return n=n+1023<<20,oA.__kBitConversionInts[1]=G|n|c,oA.__kBitConversionInts[0]=p,oA.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;let t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?oA.__absoluteSubOne(e).__trim():oA.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return oA.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&t.__digit(0))?oA.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=oA.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){let n=1+(0|r/30),i=e.sign&&(1&r)!=0,o=new oA(n,i);o.__initializeDigits();let s=1<<r%30;return o.__setDigit(n-1,s),o}let a=null,j=e;for(1&r&&(a=e),r>>=1;r!==0;r>>=1)j=oA.multiply(j,j),1&r&&(a===null?a=j:a=oA.multiply(a,j));return a}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;let a=new oA(r,e.sign!==t.sign);a.__initializeDigits();for(let j=0;j<e.length;j++)oA.__multiplyAccumulate(t,e.__digit(j),a,j);return a.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>oA.__absoluteCompare(e,t))return oA.__zero();let r=e.sign!==t.sign,a=t.__unsignedDigit(0),j;if(t.length===1&&32767>=a){if(a===1)return r===e.sign?e:oA.unaryMinus(e);j=oA.__absoluteDivSmall(e,a,null)}else j=oA.__absoluteDivLarge(e,t,!0,!1);return j.sign=r,j.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>oA.__absoluteCompare(e,t))return e;let r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return oA.__zero();let j=oA.__absoluteModSmall(e,r);return j===0?oA.__zero():oA.__oneDigit(j,e.sign)}let a=oA.__absoluteDivLarge(e,t,!1,!0);return a.sign=e.sign,a.__trim()}static add(e,t){let r=e.sign;return r===t.sign?oA.__absoluteAdd(e,t,r):0<=oA.__absoluteCompare(e,t)?oA.__absoluteSub(e,t,r):oA.__absoluteSub(t,e,!r)}static subtract(e,t){let r=e.sign;return r===t.sign?0<=oA.__absoluteCompare(e,t)?oA.__absoluteSub(e,t,r):oA.__absoluteSub(t,e,!r):oA.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?oA.__rightShiftByAbsolute(e,t):oA.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?oA.__leftShiftByAbsolute(e,t):oA.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>oA.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=oA.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<oA.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=oA.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!oA.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return oA.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){let a=r(e.length,t.length)+1,j=oA.__absoluteSubOne(e,a),n=oA.__absoluteSubOne(t);return j=oA.__absoluteOr(j,n,j),oA.__absoluteAddOne(j,!0,j).__trim()}return e.sign&&([e,t]=[t,e]),oA.__absoluteAndNot(e,oA.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return oA.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){let n=r(e.length,t.length),i=oA.__absoluteSubOne(e,n),o=oA.__absoluteSubOne(t);return oA.__absoluteXor(i,o,i).__trim()}let a=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let j=oA.__absoluteSubOne(t,a);return j=oA.__absoluteXor(j,e,j),oA.__absoluteAddOne(j,!0,j).__trim()}static bitwiseOr(e,t){var r=Math.max;let a=r(e.length,t.length);if(!e.sign&&!t.sign)return oA.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let n=oA.__absoluteSubOne(e,a),i=oA.__absoluteSubOne(t);return n=oA.__absoluteAnd(n,i,n),oA.__absoluteAddOne(n,!0,n).__trim()}e.sign&&([e,t]=[t,e]);let j=oA.__absoluteSubOne(t,a);return j=oA.__absoluteAndNot(j,e,j),oA.__absoluteAddOne(j,!0,j).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return oA.__zero();if(e>=oA.__kMaxLengthBits)return t;let a=0|(e+29)/30;if(t.length<a)return t;let j=t.__unsignedDigit(a-1),n=1<<(e-1)%30;if(t.length===a&&j<n)return t;if((j&n)!==n)return oA.__truncateToNBits(e,t);if(!t.sign)return oA.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(j&n-1)){for(let i=a-2;0<=i;i--)if(t.__digit(i)!==0)return oA.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===a&&j===n?t:oA.__truncateToNBits(e,t)}return oA.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return oA.__zero();if(t.sign){if(e>oA.__kMaxLengthBits)throw new RangeError("BigInt too big");return oA.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=oA.__kMaxLengthBits)return t;let a=0|(e+29)/30;if(t.length<a)return t;let j=e%30;return t.length==a&&(j===0||!(t.__digit(a-1)>>>j))?t:oA.__truncateToNBits(e,t)}static ADD(e,t){if(e=oA.__toPrimitive(e),t=oA.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=oA.__toNumeric(e),t=oA.__toNumeric(t),oA.__isBigInt(e)&&oA.__isBigInt(t))return oA.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return oA.__compare(e,t,0)}static LE(e,t){return oA.__compare(e,t,1)}static GT(e,t){return oA.__compare(e,t,2)}static GE(e,t){return oA.__compare(e,t,3)}static EQ(e,t){for(;;){if(oA.__isBigInt(e))return oA.__isBigInt(t)?oA.equal(e,t):oA.EQ(t,e);if(typeof e=="number"){if(oA.__isBigInt(t))return oA.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=oA.__toPrimitive(t)}else if(typeof e=="string"){if(oA.__isBigInt(t))return e=oA.__fromString(e),e!==null&&oA.equal(e,t);if(typeof t!="object")return e==t;t=oA.__toPrimitive(t)}else if(typeof e=="boolean"){if(oA.__isBigInt(t))return oA.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=oA.__toPrimitive(t)}else if(typeof e=="symbol"){if(oA.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=oA.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==oA)return e==t;e=oA.__toPrimitive(e)}else return e==t}}static NE(e,t){return!oA.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return oA.asIntN(64,oA.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){let[a,j]=r?[4,0]:[0,4],n=e.getUint32(t+a,r),i=e.getUint32(t+j,r),o=new oA(3,!1);return o.__setDigit(0,1073741823&i),o.__setDigit(1,(268435455&n)<<2|i>>>30),o.__setDigit(2,n>>>28),o.__trim()}static DataViewSetBigInt64(e,t,r,a=!1){oA.DataViewSetBigUint64(e,t,r,a)}static DataViewSetBigUint64(e,t,r,a=!1){r=oA.asUintN(64,r);let j=0,n=0;if(0<r.length&&(n=r.__digit(0),1<r.length)){let s=r.__digit(1);n|=s<<30,j=s>>>2,2<r.length&&(j|=r.__digit(2)<<28)}let[i,o]=a?[4,0]:[0,4];e.setUint32(t+i,j,a),e.setUint32(t+o,n,a)}static __zero(){return new oA(0,!1)}static __oneDigit(e,t){let r=new oA(1,t);return r.__setDigit(0,e),r}__copy(){let e=new oA(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,a){if(0<t)return-1;let j;if(0>t)j=-t-1;else{if(r===0)return-1;r--,a=e.__digit(r),j=29}let n=1<<j;if(!(a&n))return-1;if(n-=1,(a&n)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){oA.__kBitConversionDouble[0]=e;let t=2047&oA.__kBitConversionInts[1]>>>20,r=t-1023,a=(0|r/30)+1,j=new oA(a,0>e),n=1048575&oA.__kBitConversionInts[1]|1048576,i=oA.__kBitConversionInts[0],o=20,s=r%30,c,u=0;if(s<20){let p=o-s;u=p+32,c=n>>>p,n=n<<32-p|i>>>p,i<<=32-p}else if(s===20)u=32,c=n,n=i,i=0;else{let p=s-o;u=32-p,c=n<<p|i>>>32-p,n=i<<p,i=0}j.__setDigit(a-1,c);for(let p=a-2;0<=p;p--)0<u?(u-=30,c=n>>>2,n=n<<30|i>>>2,i<<=30):c=0,j.__setDigit(p,c);return j.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0,a=e.length,j=0;if(j===a)return oA.__zero();let n=e.charCodeAt(j);for(;oA.__isWhitespace(n);){if(++j===a)return oA.__zero();n=e.charCodeAt(j)}if(n===43){if(++j===a)return null;n=e.charCodeAt(j),r=1}else if(n===45){if(++j===a)return null;n=e.charCodeAt(j),r=-1}if(t===0){if(t=10,n===48){if(++j===a)return oA.__zero();if(n=e.charCodeAt(j),n===88||n===120){if(t=16,++j===a)return null;n=e.charCodeAt(j)}else if(n===79||n===111){if(t=8,++j===a)return null;n=e.charCodeAt(j)}else if(n===66||n===98){if(t=2,++j===a)return null;n=e.charCodeAt(j)}}}else if(t===16&&n===48){if(++j===a)return oA.__zero();if(n=e.charCodeAt(j),n===88||n===120){if(++j===a)return null;n=e.charCodeAt(j)}}if(r!=0&&t!==10)return null;for(;n===48;){if(++j===a)return oA.__zero();n=e.charCodeAt(j)}let i=a-j,o=oA.__kMaxBitsPerChar[t],s=oA.__kBitsPerCharTableMultiplier-1;if(i>1073741824/o)return null;let c=o*i+s>>>oA.__kBitsPerCharTableShift,u=new oA(0|(c+29)/30,!1),p=10>t?t:10,h=10<t?t-10:0;if(t&t-1){u.__initializeDigits();let f=!1,G=0;do{let w=0,y=1;for(;;){let $;if(n-48>>>0<p)$=n-48;else if((32|n)-97>>>0<h)$=(32|n)-87;else{f=!0;break}let T=y*t;if(1073741823<T)break;if(y=T,w=w*t+$,G++,++j===a){f=!0;break}n=e.charCodeAt(j)}s=30*oA.__kBitsPerCharTableMultiplier-1;let E=0|(o*G+s>>>oA.__kBitsPerCharTableShift)/30;u.__inplaceMultiplyAdd(y,w,E)}while(!f)}else{o>>=oA.__kBitsPerCharTableShift;let f=[],G=[],w=!1;do{let y=0,E=0;for(;;){let $;if(n-48>>>0<p)$=n-48;else if((32|n)-97>>>0<h)$=(32|n)-87;else{w=!0;break}if(E+=o,y=y<<o|$,++j===a){w=!0;break}if(n=e.charCodeAt(j),30<E+o)break}f.push(y),G.push(E)}while(!w);oA.__fillFromParts(u,f,G)}if(j!==a){if(!oA.__isWhitespace(n))return null;for(j++;j<a;j++)if(n=e.charCodeAt(j),!oA.__isWhitespace(n))return null}return u.sign=r==-1,u.__trim()}static __fillFromParts(e,t,r){let a=0,j=0,n=0;for(let i=t.length-1;0<=i;i--){let o=t[i],s=r[i];j|=o<<n,n+=s,n===30?(e.__setDigit(a++,j),n=0,j=0):30<n&&(e.__setDigit(a++,1073741823&j),n-=30,j=o>>>s-n)}if(j!==0){if(a>=e.length)throw new Error("implementation bug");e.__setDigit(a++,j)}for(;a<e.length;a++)e.__setDigit(a,0)}static __toStringBasePowerOfTwo(e,t){let r=e.length,a=t-1;a=(85&a>>>1)+(85&a),a=(51&a>>>2)+(51&a),a=(15&a>>>4)+(15&a);let j=a,n=t-1,i=e.__digit(r-1),o=oA.__clz30(i),s=0|(30*r-o+j-1)/j;if(e.sign&&s++,268435456<s)throw new Error("string too long");let c=Array(s),u=s-1,p=0,h=0;for(let G=0;G<r-1;G++){let w=e.__digit(G),y=(p|w<<h)&n;c[u--]=oA.__kConversionChars[y];let E=j-h;for(p=w>>>E,h=30-E;h>=j;)c[u--]=oA.__kConversionChars[p&n],p>>>=j,h-=j}let f=(p|i<<h)&n;for(c[u--]=oA.__kConversionChars[f],p=i>>>j-h;p!==0;)c[u--]=oA.__kConversionChars[p&n],p>>>=j;if(e.sign&&(c[u--]="-"),u!=-1)throw new Error("implementation bug");return c.join("")}static __toStringGeneric(e,t,r){let a=e.length;if(a===0)return"";if(a===1){let G=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(G="-"+G),G}let j=30*a-oA.__clz30(e.__digit(a-1)),n=oA.__kMaxBitsPerChar[t],i=n-1,o=j*oA.__kBitsPerCharTableMultiplier;o+=i-1,o=0|o/i;let s=o+1>>1,c=oA.exponentiate(oA.__oneDigit(t,!1),oA.__oneDigit(s,!1)),u,p,h=c.__unsignedDigit(0);if(c.length===1&&32767>=h){u=new oA(e.length,!1),u.__initializeDigits();let G=0;for(let w=2*e.length-1;0<=w;w--){let y=G<<15|e.__halfDigit(w);u.__setHalfDigit(w,0|y/h),G=0|y%h}p=G.toString(t)}else{let G=oA.__absoluteDivLarge(e,c,!0,!0);u=G.quotient;let w=G.remainder.__trim();p=oA.__toStringGeneric(w,t,!0)}u.__trim();let f=oA.__toStringGeneric(u,t,!0);for(;p.length<s;)p="0"+p;return r===!1&&e.sign&&(f="-"+f),f+p}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){let r=e.sign;if(r!==t.sign)return oA.__unequalSign(r);let a=oA.__absoluteCompare(e,t);return 0<a?oA.__absoluteGreater(r):0>a?oA.__absoluteLess(r):0}static __compareToNumber(e,t){if(oA.__isOneDigitInt(t)){let r=e.sign,a=0>t;if(r!==a)return oA.__unequalSign(r);if(e.length===0){if(a)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return oA.__absoluteGreater(r);let j=Math.abs(t),n=e.__unsignedDigit(0);return n>j?oA.__absoluteGreater(r):n<j?oA.__absoluteLess(r):0}return oA.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;let r=e.sign;if(r!==0>t)return oA.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;oA.__kBitConversionDouble[0]=t;let a=2047&oA.__kBitConversionInts[1]>>>20;if(a==2047)throw new Error("implementation bug: handled elsewhere");let j=a-1023;if(0>j)return oA.__absoluteGreater(r);let n=e.length,i=e.__digit(n-1),o=oA.__clz30(i),s=30*n-o,c=j+1;if(s<c)return oA.__absoluteLess(r);if(s>c)return oA.__absoluteGreater(r);let u=1048576|1048575&oA.__kBitConversionInts[1],p=oA.__kBitConversionInts[0],h=20,f=29-o;if(f!==(0|(s-1)%30))throw new Error("implementation bug");let G,w=0;if(20>f){let y=h-f;w=y+32,G=u>>>y,u=u<<32-y|p>>>y,p<<=32-y}else if(f===20)w=32,G=u,u=p,p=0;else{let y=f-h;w=32-y,G=u<<y|p>>>32-y,u=p<<y,p=0}if(i>>>=0,G>>>=0,i>G)return oA.__absoluteGreater(r);if(i<G)return oA.__absoluteLess(r);for(let y=n-2;0<=y;y--){0<w?(w-=30,G=u>>>2,u=u<<30|p>>>2,p<<=30):G=0;let E=e.__unsignedDigit(y);if(E>G)return oA.__absoluteGreater(r);if(E<G)return oA.__absoluteLess(r)}if(u!==0||p!==0){if(w===0)throw new Error("implementation bug");return oA.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return oA.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):oA.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=oA.__toPrimitive(e),t=oA.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(oA.__isBigInt(e)&&typeof t=="string")return t=oA.__fromString(t),t!==null&&oA.__comparisonResultToBool(oA.__compareToBigInt(e,t),r);if(typeof e=="string"&&oA.__isBigInt(t))return e=oA.__fromString(e),e!==null&&oA.__comparisonResultToBool(oA.__compareToBigInt(e,t),r);if(e=oA.__toNumeric(e),t=oA.__toNumeric(t),oA.__isBigInt(e)){if(oA.__isBigInt(t))return oA.__comparisonResultToBool(oA.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return oA.__comparisonResultToBool(oA.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(oA.__isBigInt(t))return oA.__comparisonResultToBool(oA.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return oA.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return oA.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:oA.unaryMinus(e);let a=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&a++;let j=new oA(a,r),n=0,i=0;for(;i<t.length;i++){let o=e.__digit(i)+t.__digit(i)+n;n=o>>>30,j.__setDigit(i,1073741823&o)}for(;i<e.length;i++){let o=e.__digit(i)+n;n=o>>>30,j.__setDigit(i,1073741823&o)}return i<j.length&&j.__setDigit(i,n),j.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:oA.unaryMinus(e);let a=new oA(e.length,r),j=0,n=0;for(;n<t.length;n++){let i=e.__digit(n)-t.__digit(n)-j;j=1&i>>>30,a.__setDigit(n,1073741823&i)}for(;n<e.length;n++){let i=e.__digit(n)-j;j=1&i>>>30,a.__setDigit(n,1073741823&i)}return a.__trim()}static __absoluteAddOne(e,t,r=null){let a=e.length;r===null?r=new oA(a,t):r.sign=t;let j=1;for(let n=0;n<a;n++){let i=e.__digit(n)+j;j=i>>>30,r.__setDigit(n,1073741823&i)}return j!=0&&r.__setDigitGrow(a,1),r}static __absoluteSubOne(e,t){let r=e.length;t=t||r;let a=new oA(t,!1),j=1;for(let n=0;n<r;n++){let i=e.__digit(n)-j;j=1&i>>>30,a.__setDigit(n,1073741823&i)}if(j!=0)throw new Error("implementation bug");for(let n=r;n<t;n++)a.__setDigit(n,0);return a}static __absoluteAnd(e,t,r=null){let a=e.length,j=t.length,n=j;if(a<j){n=a;let s=e,c=a;e=t,a=j,t=s,j=c}let i=n;r===null?r=new oA(i,!1):i=r.length;let o=0;for(;o<n;o++)r.__setDigit(o,e.__digit(o)&t.__digit(o));for(;o<i;o++)r.__setDigit(o,0);return r}static __absoluteAndNot(e,t,r=null){let a=e.length,j=t.length,n=j;a<j&&(n=a);let i=a;r===null?r=new oA(i,!1):i=r.length;let o=0;for(;o<n;o++)r.__setDigit(o,e.__digit(o)&~t.__digit(o));for(;o<a;o++)r.__setDigit(o,e.__digit(o));for(;o<i;o++)r.__setDigit(o,0);return r}static __absoluteOr(e,t,r=null){let a=e.length,j=t.length,n=j;if(a<j){n=a;let s=e,c=a;e=t,a=j,t=s,j=c}let i=a;r===null?r=new oA(i,!1):i=r.length;let o=0;for(;o<n;o++)r.__setDigit(o,e.__digit(o)|t.__digit(o));for(;o<a;o++)r.__setDigit(o,e.__digit(o));for(;o<i;o++)r.__setDigit(o,0);return r}static __absoluteXor(e,t,r=null){let a=e.length,j=t.length,n=j;if(a<j){n=a;let s=e,c=a;e=t,a=j,t=s,j=c}let i=a;r===null?r=new oA(i,!1):i=r.length;let o=0;for(;o<n;o++)r.__setDigit(o,e.__digit(o)^t.__digit(o));for(;o<a;o++)r.__setDigit(o,e.__digit(o));for(;o<i;o++)r.__setDigit(o,0);return r}static __absoluteCompare(e,t){let r=e.length-t.length;if(r!=0)return r;let a=e.length-1;for(;0<=a&&e.__digit(a)===t.__digit(a);)a--;return 0>a?0:e.__unsignedDigit(a)>t.__unsignedDigit(a)?1:-1}static __multiplyAccumulate(e,t,r,a){if(t===0)return;let j=32767&t,n=t>>>15,i=0,o=0;for(let s,c=0;c<e.length;c++,a++){s=r.__digit(a);let u=e.__digit(c),p=32767&u,h=u>>>15,f=oA.__imul(p,j),G=oA.__imul(p,n),w=oA.__imul(h,j),y=oA.__imul(h,n);s+=o+f+i,i=s>>>30,s&=1073741823,s+=((32767&G)<<15)+((32767&w)<<15),i+=s>>>30,o=y+(G>>>15)+(w>>>15),r.__setDigit(a,1073741823&s)}for(;i!=0||o!==0;a++){let s=r.__digit(a);s+=i+o,o=0,i=s>>>30,r.__setDigit(a,1073741823&s)}}static __internalMultiplyAdd(e,t,r,a,j){let n=r,i=0;for(let o=0;o<a;o++){let s=e.__digit(o),c=oA.__imul(32767&s,t),u=oA.__imul(s>>>15,t),p=c+((32767&u)<<15)+i+n;n=p>>>30,i=u>>>15,j.__setDigit(o,1073741823&p)}if(j.length>a)for(j.__setDigit(a++,n+i);a<j.length;)j.__setDigit(a++,0);else if(n+i!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);let a=32767&e,j=e>>>15,n=0,i=t;for(let o=0;o<r;o++){let s=this.__digit(o),c=32767&s,u=s>>>15,p=oA.__imul(c,a),h=oA.__imul(c,j),f=oA.__imul(u,a),G=oA.__imul(u,j),w=i+p+n;n=w>>>30,w&=1073741823,w+=((32767&h)<<15)+((32767&f)<<15),n+=w>>>30,i=G+(h>>>15)+(f>>>15),this.__setDigit(o,1073741823&w)}if(n!=0||i!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new oA(e.length,!1));let a=0;for(let j,n=2*e.length-1;0<=n;n-=2){j=(a<<15|e.__halfDigit(n))>>>0;let i=0|j/t;a=0|j%t,j=(a<<15|e.__halfDigit(n-1))>>>0;let o=0|j/t;a=0|j%t,r.__setDigit(n>>>1,i<<15|o)}return r}static __absoluteModSmall(e,t){let r=0;for(let a=2*e.length-1;0<=a;a--)r=0|((r<<15|e.__halfDigit(a))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,a){let j=t.__halfDigitLength(),n=t.length,i=e.__halfDigitLength()-j,o=null;r&&(o=new oA(i+2>>>1,!1),o.__initializeDigits());let s=new oA(j+2>>>1,!1);s.__initializeDigits();let c=oA.__clz15(t.__halfDigit(j-1));0<c&&(t=oA.__specialLeftShift(t,c,0));let u=oA.__specialLeftShift(e,c,1),p=t.__halfDigit(j-1),h=0;for(let f,G=i;0<=G;G--){f=32767;let w=u.__halfDigit(G+j);if(w!==p){let E=(w<<15|u.__halfDigit(G+j-1))>>>0;f=0|E/p;let $=0|E%p,T=t.__halfDigit(j-2),O=u.__halfDigit(G+j-2);for(;oA.__imul(f,T)>>>0>($<<16|O)>>>0&&(f--,$+=p,!(32767<$)););}oA.__internalMultiplyAdd(t,f,0,n,s);let y=u.__inplaceSub(s,G,j+1);y!==0&&(y=u.__inplaceAdd(t,G,j),u.__setHalfDigit(G+j,32767&u.__halfDigit(G+j)+y),f--),r&&(1&G?h=f<<15:o.__setDigit(G>>>1,h|f))}if(a)return u.__inplaceRightShift(c),r?{quotient:o,remainder:u}:u;if(r)return o;throw new Error("unreachable")}static __clz15(e){return oA.__clz30(e)-15}__inplaceAdd(e,t,r){let a=0;for(let j=0;j<r;j++){let n=this.__halfDigit(t+j)+e.__halfDigit(j)+a;a=n>>>15,this.__setHalfDigit(t+j,32767&n)}return a}__inplaceSub(e,t,r){let a=0;if(1&t){t>>=1;let j=this.__digit(t),n=32767&j,i=0;for(;i<r-1>>>1;i++){let c=e.__digit(i),u=(j>>>15)-(32767&c)-a;a=1&u>>>15,this.__setDigit(t+i,(32767&u)<<15|32767&n),j=this.__digit(t+i+1),n=(32767&j)-(c>>>15)-a,a=1&n>>>15}let o=e.__digit(i),s=(j>>>15)-(32767&o)-a;if(a=1&s>>>15,this.__setDigit(t+i,(32767&s)<<15|32767&n),t+i+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(j=this.__digit(t+i+1),n=(32767&j)-(o>>>15)-a,a=1&n>>>15,this.__setDigit(t+e.length,1073709056&j|32767&n))}else{t>>=1;let j=0;for(;j<e.length-1;j++){let c=this.__digit(t+j),u=e.__digit(j),p=(32767&c)-(32767&u)-a;a=1&p>>>15;let h=(c>>>15)-(u>>>15)-a;a=1&h>>>15,this.__setDigit(t+j,(32767&h)<<15|32767&p)}let n=this.__digit(t+j),i=e.__digit(j),o=(32767&n)-(32767&i)-a;a=1&o>>>15;let s=0;!(1&r)&&(s=(n>>>15)-(i>>>15)-a,a=1&s>>>15),this.__setDigit(t+j,(32767&s)<<15|32767&o)}return a}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e,r=this.length-1;for(let a=0;a<r;a++){let j=this.__digit(a+1);this.__setDigit(a,1073741823&j<<30-e|t),t=j>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){let a=e.length,j=new oA(a+r,!1);if(t===0){for(let i=0;i<a;i++)j.__setDigit(i,e.__digit(i));return 0<r&&j.__setDigit(a,0),j}let n=0;for(let i=0;i<a;i++){let o=e.__digit(i);j.__setDigit(i,1073741823&o<<t|n),n=o>>>30-t}return 0<r&&j.__setDigit(a,n),j}static __leftShiftByAbsolute(e,t){let r=oA.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");let a=0|r/30,j=r%30,n=e.length,i=j!==0&&e.__digit(n-1)>>>30-j!=0,o=n+a+(i?1:0),s=new oA(o,e.sign);if(j===0){let c=0;for(;c<a;c++)s.__setDigit(c,0);for(;c<o;c++)s.__setDigit(c,e.__digit(c-a))}else{let c=0;for(let u=0;u<a;u++)s.__setDigit(u,0);for(let u=0;u<n;u++){let p=e.__digit(u);s.__setDigit(u+a,1073741823&p<<j|c),c=p>>>30-j}if(i)s.__setDigit(n+a,c);else if(c!==0)throw new Error("implementation bug")}return s.__trim()}static __rightShiftByAbsolute(e,t){let r=e.length,a=e.sign,j=oA.__toShiftAmount(t);if(0>j)return oA.__rightShiftByMaximum(a);let n=0|j/30,i=j%30,o=r-n;if(0>=o)return oA.__rightShiftByMaximum(a);let s=!1;if(a){if(e.__digit(n)&(1<<i)-1)s=!0;else for(let u=0;u<n;u++)if(e.__digit(u)!==0){s=!0;break}}s&&i===0&&!~e.__digit(r-1)&&o++;let c=new oA(o,a);if(i===0){c.__setDigit(o-1,0);for(let u=n;u<r;u++)c.__setDigit(u-n,e.__digit(u))}else{let u=e.__digit(n)>>>i,p=r-n-1;for(let h=0;h<p;h++){let f=e.__digit(h+n+1);c.__setDigit(h,1073741823&f<<30-i|u),u=f>>>i}c.__setDigit(p,u)}return s&&(c=oA.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(e){return e?oA.__oneDigit(1,!0):oA.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;let t=e.__unsignedDigit(0);return t>oA.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===oA)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let j=e[Symbol.toPrimitive];if(j){let n=j(t);if(typeof n!="object")return n;throw new TypeError("Cannot convert object to primitive value")}}let r=e.valueOf;if(r){let j=r.call(e);if(typeof j!="object")return j}let a=e.toString;if(a){let j=a.call(e);if(typeof j!="object")return j}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return oA.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===oA}static __truncateToNBits(e,t){let r=0|(e+29)/30,a=new oA(r,t.sign),j=r-1;for(let i=0;i<j;i++)a.__setDigit(i,t.__digit(i));let n=t.__digit(j);if(e%30!=0){let i=32-e%30;n=n<<i>>>i}return a.__setDigit(j,n),a.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var a=Math.min;let j=0|(e+29)/30,n=new oA(j,r),i=0,o=j-1,s=0;for(let h=a(o,t.length);i<h;i++){let f=0-t.__digit(i)-s;s=1&f>>>30,n.__setDigit(i,1073741823&f)}for(;i<o;i++)n.__setDigit(i,0|1073741823&-s);let c=o<t.length?t.__digit(o):0,u=e%30,p;if(u==0)p=0-c-s,p&=1073741823;else{let h=32-u;c=c<<h>>>h;let f=1<<32-h;p=f-c-s,p&=f-1}return n.__setDigit(o,p),n.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){let e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){let r=e>>>1,a=this.__digit(r),j=1&e?32767&a|t<<15:1073709056&a|32767&t;this.__setDigit(r,j)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}};Hl.__kMaxLength=33554432,Hl.__kMaxLengthBits=Hl.__kMaxLength<<5,Hl.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],Hl.__kBitsPerCharTableShift=5,Hl.__kBitsPerCharTableMultiplier=1<<Hl.__kBitsPerCharTableShift,Hl.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hl.__kBitConversionBuffer=new ArrayBuffer(8),Hl.__kBitConversionDouble=new Float64Array(Hl.__kBitConversionBuffer),Hl.__kBitConversionInts=new Int32Array(Hl.__kBitConversionBuffer),Hl.__clz30=Math.clz32?function(A){return Math.clz32(A)-2}:function(A){return A===0?30:0|29-(0|Math.log(A>>>0)/Math.LN2)},Hl.__imul=Math.imul||function(A,e){return 0|A*e};var us=Hl,NlA=(A,e)=>{let t=e.decode(A);if((0,WC.isLeft)(t))throw new Error("Failed to decode: "+(0,HTe.failure)(t.left).join(", "));return t.right},NC=new _j("bytesAsBase64",A=>A instanceof Uint8Array,(A,e)=>{let t=uE.validate(A,e);if((0,WC.isLeft)(t))return t;try{return vi(Ap(t.right))}catch(r){return zs(A,e,r.message)}},d1),uE=HDA(Dk,A=>A.length>0,"NonEmptyString"),VTe=new _j("NumberFromString",KlA.is,(A,e)=>(0,WDA.pipe)(Dk.validate(A,e),(0,WC.chain)(t=>{let r=Number(t);return Number.isNaN(r)||t.trim()===""?zs(A,e):vi(r)})),String),LoA=new _j("BigIntFromString",A=>A instanceof us,(A,e)=>{let t=uE.validate(A,e);if((0,WC.isLeft)(t))return t;try{return vi(us.BigInt(t.right))}catch(r){return zs(A,e,r.message)}},A=>A.toString()),ITA=new _j("DateFromISOString",A=>A instanceof Date,(A,e)=>(0,WDA.pipe)(Dk.validate(A,e),(0,WC.chain)(t=>{let r=new Date(t);return Number.isNaN(r.getTime())?zs(A,e):vi(r)})),A=>A.toISOString()),JDA=TTe([lg("SHA2_256"),lg("SHA2_384"),lg("SHA2_512")]),XTe=so(Ni({signature:so(Ni({content:Dk,publicKey:so(Ni({content:Dk}))})),data:so(Ni({hash:so(Ni({algorithm:lg("sha256"),value:Dk}))}))}),"HashedRekordEntry"),WTe=so(Ni({apiVersion:lg("0.0.1"),kind:lg("hashedrekord"),spec:XTe}),"TLogEntryBody"),JTe=so(Ni({logIndex:LoA,logId:so(Ni({keyId:uE})),kindVersion:so(Ni({kind:lg("hashedrekord"),version:lg("0.0.1")})),integratedTime:VTe,inclusionProof:so(Ni({logIndex:LoA,rootHash:NC,treeSize:LoA,hashes:LlA(NC),checkpoint:so(Ni({envelope:Dk}))})),canonicalizedBody:uE}),"TLogEntry"),YTe=so(Ni({messageDigest:so(Ni({algorithm:JDA,digest:uE})),signature:NC}),"MessageSignature"),ZTe=so(Ni({certificates:LlA(Ni({rawBytes:NC}))}),"X509CertificateChain"),QTe=so(Ni({mediaType:lg("application/vnd.dev.sigstore.bundle+json;version=0.2"),verificationMaterial:so(Ni({x509CertificateChain:ZTe,tlogEntries:LlA(JTe)})),messageSignature:YTe}),"SignatureBundle"),A_e=so(Ni({baseUrl:uE,hashAlgorithm:JDA,publicKey:so(Ni({rawBytes:NC,keyDetails:uE,validFor:so(DTe([Ni({start:ITA}),OTe({end:ITA})]))})),logId:so(Ni({keyId:uE}))}),"TransparencyLogInstance"),e_e=128,YDA=0,t_e=32,r_e=16,a_e=2,j_e=r_e|t_e|YDA<<6,PTA=a_e|YDA<<6,n_e=A=>A.name==="ECDSA",i_e=A=>{if(!n_e(A))throw new Error("Unsupported algorithm.");switch(A.namedCurve){case"P-256":return 256;case"P-384":return 384;case"P-512":return 512;default:throw new Error("Unsupported named curve.")}},o_e=A=>(A/8|0)+(A%8===0?0:1),s_e=(A,e)=>{let t=o_e(i_e(e)),r=t+1,a=A.length,j=0;if(A[j++]!==j_e)throw new Error('Could not find expected "seq"');let n=A[j++];if(n===(e_e|1)&&(n=A[j++]),a-j<n)throw new Error('"seq" specified length of "'+n.toString()+'", only "'+(a-j).toString()+'" remaining');if(A[j++]!==PTA)throw new Error('Could not find expected "int" for "r"');let i=A[j++];if(a-j-2<i)throw new Error('"r" specified length of "'+i.toString()+'", only "'+(a-j-2).toString()+'" available');if(r<i)throw new Error('"r" specified length of "'+i.toString()+'", max of "'+r.toString()+'" is acceptable');let o=j;if(j+=i,A[j++]!==PTA)throw new Error('Could not find expected "int" for "s"');let s=A[j++];if(a-j!==s)throw new Error('"s" specified length of "'+s.toString()+'", expected "'+(a-j).toString()+'"');if(r<s)throw new Error('"s" specified length of "'+s.toString()+'", max of "'+r.toString()+'" is acceptable');let c=j;if(j+=s,j!==a)throw new Error('Expected to consume entire buffer, but "'+(a-j).toString()+'" bytes remain');let u=t-i,p=t-s,h=new Uint8Array(u+i+p+s);for(j=0;j<u;++j)h[j]=0;Uint8Array.prototype.set.call(h,A.subarray(o+Math.max(-u,0),o+i),j),j=t;for(let f=j;j<f+p;++j)h[j]=0;return Uint8Array.prototype.set.call(h,A.subarray(c+Math.max(-p,0),c+s),j),h},l_e={name:"ECDSA",namedCurve:"P-256"},ZDA={name:"ECDSA",namedCurve:"P-384"},c_e={name:"ECDSA",namedCurve:"P-512"},u_e=A=>{switch(!0){case A.includes("_ECDSA_P256_"):return l_e;case A.includes("_ECDSA_P384_"):return ZDA;case A.includes("_ECDSA_P512_"):return c_e;default:throw new Error("Unsupported import algorithm.")}},d_e={name:"ECDSA",hash:{name:"SHA-256"}},m_e={name:"ECDSA",hash:{name:"SHA-384"}},p_e={name:"ECDSA",hash:{name:"SHA-512"}},k_e=A=>{switch(A){case"SHA2_256":return d_e;case"SHA2_384":return m_e;case"SHA2_512":return p_e;default:throw new Error("Unsupported signature algorithm.")}},h_e=A=>{switch(A){case"SHA2_256":case"SHA-256":return"SHA-256";case"SHA2_384":case"SHA-384":return"SHA-384";case"SHA2_512":case"SHA-512":return"SHA-512";default:throw new Error("Unsupported hash algorithm.")}},g_e=async(A,e)=>crypto.subtle.importKey("spki",e,u_e(A),!1,["verify"]),QDA=async(A,e,t,r)=>{let a=s_e(r,t.algorithm);return crypto.subtle.verify(k_e(A),t,a,e)},UC=async(A,e)=>d1(new Uint8Array(await crypto.subtle.digest(h_e(A),e))),f_e=(A,e)=>{let{kind:t,version:r}=A.kindVersion,a=NlA(JSON.parse(_Oe(A.canonicalizedBody)),WTe);if(t!==a.kind||r!==a.apiVersion)throw new Error("Bundle and TLog metadata does not match.");switch(a.kind){case"hashedrekord":B_e(a,e);break;default:throw new Error(`Unsupported kind in TLog entry: ${t}`)}},B_e=(A,e)=>{let t=e.messageSignature;switch(A.apiVersion){case"0.0.1":E_e(A.spec,t);break;default:throw new Error(`Unsupported hashedrekord version: ${A.apiVersion}`)}},E_e=(A,e)=>{let t=e.signature,r=A.signature.content;if(d1(t)!==r)throw new Error("Bundle and TLog signature do not match.");let a=RC(e.messageDigest.digest),j=A.data.hash.value;if(a!==j)throw new Error("Bundle and TLog digest do not match.")},NoA=`

`,x_e=/\u2014 (\S+) (\S+)\n/g,b_e=async(A,e)=>{let t=F_e(e,A.logId.keyId,A.integratedTime);if(t.length===0)throw new Error("No valid TLog found.");let r=A.inclusionProof,a=y_e.fromString(r.checkpoint.envelope),j=v_e.fromString(a.note);if(KC(j.logHash)!==KC(r.rootHash))throw new Error("Root hashes do not match.");await a.verify(t)},y_e=class A5A{constructor(e,t){ev(this,"note"),ev(this,"signatures"),this.note=e,this.signatures=t}static fromString(e){if(!e.includes(NoA))throw new Error("malformed checkpoint: no separator");let t=e.indexOf(NoA),r=e.slice(0,t+1),n=[...e.slice(t+NoA.length).matchAll(x_e)].map(i=>{let[,o,s]=i,c=Ap(s);if(c.length<5)throw new Error("malformed checkpoint: invalid signature");return{name:o,keyHint:c.subarray(0,4),signature:c.subarray(4)}});if(n.length===0)throw new Error("malformed checkpoint: no signatures");return new A5A(r,n)}async verify(e){let t=TOe(this.note);await Promise.all(this.signatures.map(async r=>{let a=e.find(i=>{let o=Ap(i.logId.keyId).subarray(0,4);return d1(o)===d1(r.keyHint)});if(!a)throw new Error("Failed to find matching TLog.");let j=await g_e(a.publicKey.keyDetails,a.publicKey.rawBytes);if(!await QDA(a.hashAlgorithm,t,j,r.signature))throw new Error("Failed to verify checkpoint.")}))}},v_e=class e5A{constructor(e,t,r,a){ev(this,"origin"),ev(this,"logSize"),ev(this,"logHash"),ev(this,"rest"),this.origin=e,this.logSize=t,this.logHash=r,this.rest=a}static fromString(e){let t=e.trimEnd().split(`
`);if(t.length<3)throw new Error("malformed checkpoint: too few lines in header");let r=t[0],a=us.BigInt(t[1]),j=Ap(t[2]),n=t.slice(3);return new e5A(r,a,j,n)}},F_e=(A,e,t)=>{let r=new Date(t*1e3);return A.filter(a=>{if(a.logId.keyId!==e)return!1;let j=a.publicKey;if(j===void 0||j.rawBytes===void 0)return!1;let n=j.validFor;return n===void 0?!0:n.start!==void 0&&n.start<=r&&(n.end===void 0||r<=n.end)})},G_e=Uint8Array.from([0]),w_e=Uint8Array.from([1]),q_e=async A=>{let e=A.inclusionProof,t=e.logIndex,r=e.treeSize;if(us.lessThan(t,us.BigInt(0))||us.greaterThanOrEqual(t,r))throw new Error("invalid inclusion proof index");let{inner:a,border:j}=$_e(t,r);if(e.hashes.length!==a+j)throw new Error("invalid inclusion proof length");let n=e.hashes.slice(0,a),i=e.hashes.slice(a),o=await T_e(Ap(A.canonicalizedBody)),s=await P_e(await I_e(o,n,t),i);if(KC(s)!==KC(e.rootHash))throw new Error("Calculated hash does not match root hash.")},$_e=(A,e)=>{let t=S_e(A,e),r=C_e(us.signedRightShift(A,us.BigInt(t)));return{inner:t,border:r}},I_e=async(A,e,t)=>e.reduce(async(r,a,j)=>us.notEqual(us.bitwiseAnd(us.signedRightShift(t,us.BigInt(j)),us.BigInt(1)),us.BigInt(0))?await ilA(a,await r):await ilA(await r,a),Promise.resolve(A)),P_e=async(A,e)=>e.reduce(async(t,r)=>await ilA(r,await t),Promise.resolve(A)),S_e=(A,e)=>O_e(us.bitwiseXor(A,us.subtract(e,us.BigInt(1)))),C_e=A=>A.toString(2).split("1").length-1,O_e=A=>us.equal(A,us.BigInt(0))?0:A.toString(2).length,ilA=async(A,e)=>{let t=new Uint8Array([...w_e,...A,...e]);return new Uint8Array(await crypto.subtle.digest("SHA-256",t))},T_e=async A=>{let e=new Uint8Array([...G_e,...A]);return new Uint8Array(await crypto.subtle.digest("SHA-256",e))},__e=async(A,e)=>{let t=D_e(A);if(A.verificationMaterial.tlogEntries.length===0)throw new Error("Expected at least 1 TLog entry.");await Promise.all(A.verificationMaterial.tlogEntries.map(async r=>z_e(r,A,e,t)))},D_e=A=>{let e=A.verificationMaterial.x509CertificateChain.certificates[0];return Io.fromBER(e.rawBytes)},z_e=async(A,e,t,r)=>{let a=()=>{if(!M_e(r,new Date(A.integratedTime*1e3)))throw new Error("TLog integration time not valid.")};f_e(A,e),await q_e(A),await b_e(A,t),a()},M_e=(A,e)=>A.notBefore.value<=e&&e<=A.notAfter.value,R_e="2.5.29.31",UoA="Certificate does not have CRL endpoint.",HoA={},K_e=async(A,e)=>{let t=[];for(let a of A){if(await L_e(a,e))continue;let n=a.extensions.find(c=>c.extnID===R_e)?.parsedValue;if(!(n instanceof kL))throw new TypeError(UoA);let i=n?.distributionPoints[0]?.distributionPoint[0];if(!(i instanceof Bn))throw new TypeError(UoA);let o=i.value;if(!o||typeof o!="string")throw new Error(UoA);let s=o.replace("http://","https://");t.includes(s)||t.push(s)}let r=await Promise.all(t.map(async a=>{if(HoA[a]){let o=HoA[a],s=ov.fromBER(Ap(o));if(STA(s))return s}let j=await fetch(a);if(!j.ok)throw new Error("Failed to fetch CRL.");let n=await j.arrayBuffer();HoA[a]=d1(new Uint8Array(n));let i=ov.fromBER(n);if(!STA(i))throw new Error("CRL is expired.");return i}));if(r.length===0)throw new Error("Did not find any CRLs.");return r},STA=A=>{let e=new Date;return A.thisUpdate.value<=e&&A.nextUpdate&&e<=A.nextUpdate.value},L_e=async(A,e)=>{let t=RC(await UC("SHA-256",new Uint8Array(A.toSchema().toBER()))),r=RC(await UC("SHA-256",DlA(e)));return t===r},N_e="2.5.4.3",U_e=class{constructor(A){if(ev(this,"commonName"),vsA("WebCrypto",new DC({name:"WebCrypto",crypto,subtle:crypto.subtle})),!A)throw new Error("Missing common name.");this.commonName=A}async verify(A,e,t){await this.verifyArtifactSignature(A,e),await this.verifySigningCertificate(A,t),await this.verifyTLogEntries(A)}async verifyArtifactSignature(A,e){let t=await this.getPublicKey(A);await V_e(e,A.messageSignature,t)}async verifyTLogEntries(A){let e=[NlA(zDA,A_e)];return __e(A,e)}async verifySigningCertificate(A,e){let t=A.verificationMaterial.x509CertificateChain.certificates.map(s=>Io.fromBER(s.rawBytes)).reverse(),r=await K_e(t,e),j=await new NL({certs:t,crls:r,trustedCerts:[MOe(e)]}).verify();if(!j.result)throw new Error("Failed to verify certificate chain: "+j.resultMessage);if(j.certificatePath.length!==t.length+1)throw new Error(`Certificate path has unexpected length. Expected "${t.length}", got "${j.certificatePath.length}".`);let i=j.certificatePath[0].subject.typesAndValues.find(s=>s.type===N_e),o=i?.value.valueBlock.value;if(i?.value.valueBlock.value!==this.commonName)throw new Error(`Common name does not match. Expected "${this.commonName}", got "${o}"`)}async getPublicKey(A){return H_e(A.verificationMaterial.x509CertificateChain)}},H_e=async A=>{if(A.certificates.length===0)throw new Error("Expected at least 1 certificate in the chain.");return Io.fromBER(A.certificates[0].rawBytes).getPublicKey({algorithm:{algorithm:ZDA,usages:["verify"]}})},V_e=async(A,e,t)=>{let{signature:r,messageDigest:a}=e;if(await UC(a.algorithm,A)!==a.digest)throw new Error("Message digest verification failed.");if(!await QDA(a.algorithm,A,t,r))throw new Error("Artifact signature verification failed.")},X_e=async(A,e,t,r)=>{let a=NlA(e,QTe);return new U_e(A).verify(a,t,r)},W_e=async(A,e)=>RC(await UC(A,DlA(e))),J_e=async A=>RC(await UC(A,Ap(zDA.publicKey.rawBytes))),Y_e="com.1password.enclave-application",Z_e="session-bridge",Q_e=async(A,e)=>{let t=new TextEncoder,r=JSON.parse(A.signatureBundleJson);if(await X_e(Y_e,r,t.encode(`${Z_e}::${A.pcr0}`),e),await W_e(A.rootCa.alg,e)!==A.rootCa.fingerprint)throw new Error("Root certificate fingerprint mismatch.");if(await J_e(A.tlog.alg)!==A.tlog.fingerprint)throw new Error("Transparency log public key fingerprint mismatch.")},ADe=sv(gSe(),1);var eDe="Proxy-Status",tDe="SessionBridge",t5A="Session expired";var rDe=async A=>{switch(aDe(A.headers)){case 1:return{encryptedResponse:new Uint8Array(await A.arrayBuffer())};case 0:throw A.status===401?new Error(t5A):new Error("Failed to proxy request to enclave service");case 2:throw new Error("Failed to proxy request to Session Bridge");default:throw new Error("Unsupported response origin")}},aDe=A=>{let e=A.get(eDe);if(!e)return 2;let r=(0,ADe.parseList)(e)[0];if(!r)return 2;let[a,j]=r,n=j.get("error");return a.toString()===tDe?n?0:1:2},jDe=so(Ni({handshakeMessage:Dk,sessionUuid:Dk},"SessionHandshakeResponse")),WVt=so(Ni({handshakeMessage:Dk}),"SessionHandshakeRequest");var nDe=async A=>{if(!A.ok)throw new Error(`Failed to complete request with status ${A.status}: ${await A.text()}`);return CSe(await A.json(),jDe)},iDe=class r5A{constructor(e){this.sessionFactory=e,this.session=void 0}static create(e){let{devMode:t,performSessionHandshake:r}=e,a=async()=>vSe(async j=>r({handshakeMessage:j}).then(nDe),SOe,async j=>{try{return await Q_e(j,!!t)}catch(n){throw console.error(n),n}});return new r5A(a)}async fetch(e){try{return await this.fetchWithoutRefresh(e)}catch(t){if(OSe(t)&&t.message===t5A)return this.freeSession(),await this.fetchWithoutRefresh(e);throw t}}async fetchWithoutRefresh({destinationPath:e,bytes:t,sendRequest:r}){this.session??(this.session=await this.sessionFactory());let{message:a,sessionUuid:j}=this.session.encryptMessage(e,t),{encryptedResponse:n}=await r({sessionUuid:j,encryptedRequest:a}).then(rDe);return this.session.decryptMessage(n)}freeSession(){this.session&&(this.session.free(),this.session=void 0)}},pB,a5A=async A=>pB?(pB=await pB,pB):(pB=oDe(A),pB=await pB,pB),oDe=async A=>{let{default:e}=await Promise.resolve().then(()=>AA(WOA(),1));return await ISe(e),iDe.create(A)};var sDe=!1,j5A=A=>async(e,t,...r)=>{let{name:a,url:j,method:n="POST",destinationPath:i,body:o,responseType:s,timeout:c=3e4,abortController:u}=A(...r);if(sDe){let G=await e.request({name:a,url:j,method:n,encrypted:!0,body:xr.encode(o),options:{dataType:"arraybuffer",headers:{"Enclave-Session-Uuid":lr()},timeout:c,abortController:u}}).then(w=>w.arrayBuffer());return Ke(G,xr.pipe(s)).unwrap()}let p=cDe(t),f=await(await a5A({performSessionHandshake:uDe({session:e}),devMode:p})).fetch({bytes:xr.encode(o),destinationPath:i,sendRequest:dDe({session:e,name:a,url:j,method:n,timeout:c,abortController:u})});return Ke(f,xr.pipe(s)).unwrap()},lDe=["b5local.com","b5dev.com","b5dev.ca","b5dev.eu","b5test.com","b5test.ca","b5test.eu","b5rev.com"],cDe=A=>lDe.some(e=>A.split(":",1)[0]?.endsWith(`.${e}`)),uDe=({session:A})=>async e=>await A.request({encrypted:!0,method:"POST",name:sA`confidentialComputingCreateSession`,url:"/api/v1/confidential-computing/session",body:e}),dDe=({session:A,name:e,url:t,method:r,timeout:a,abortController:j})=>async({encryptedRequest:n,sessionUuid:i})=>await A.request({name:e,url:t,method:r,body:n,encrypted:!0,options:{dataType:"arraybuffer",headers:{"Enclave-Session-Uuid":i},timeout:a,abortController:j}});var Mk=EA("web-api/api/detailed_vault_reporting.ts"),mDe=Qe.readonly(Qe.type({pubKey:LG}),"DetailedVaultReportingPubkeyV2"),UlA=Mk((A,e)=>({name:"createDetailedVaultReportingPubkeyV2",method:"POST",url:`/api/v2/report/dvr/pubkey/${A}`,body:{pubKey:e},responseType:jA})),HlA=Mk(()=>({name:"getDetailedVaultReportingPubkeyV2",method:"GET",url:"/api/v2/report/dvr/pubkey",responseType:mDe})),n5A=Qe.readonly(Qe.type({vaultOverviews:Qe.array(loA),pageSize:Qe.number,page:Qe.number}),"VaultReportingVaultOverviewResponse"),VlA=Mk(A=>({name:"getVaultReportingVaultOverviews",method:"GET",url:`/api/v1/report/dvr/vaults?page=${A}`,responseType:n5A})),XlA=100,JC=1e3,pDe=Qe.readonly(Qe.partial({uuid:Qe.string,cursor:Qe.string,limit:Qe.number,endTime:Qe.string,hasUrl:Qe.boolean,vaultUuids:Qe.array(Qe.string),templateUuids:Qe.array(Qe.string),trashedStates:Qe.array(Qe.string),isBusinessRelated:Qe.boolean}),"GetVaultItemSnapshotsRequest"),i5A=Qe.readonly(Qe.type({snapshots:Qe.array(Q4),cursor:Qe.string,hasMore:Qe.boolean,totalCount:Qe.number}),"VaultItemSnapshotsResponseV2"),WlA=Mk(A=>({name:"getVaultItemSnapshotsV2",method:"POST",url:"/api/v2/report/dvr/snapshots",body:A,responseType:i5A})),kDe=Qe.readonly(Qe.intersection([Qe.type({dvrPrivateKey:Qe.string}),Qe.partial({vaultUuids:Qe.array(Qe.string),hasUrl:Qe.boolean,templateUuids:Qe.array(Qe.string),trashedStates:Qe.array(Qe.string),isBusinessRelated:Qe.boolean})]),"AggregateVaultSnapshotsRequest"),o5A=Qe.readonly(Qe.type({hostname:Qe.string,snapshots:Qe.array(Qe.string),vaults:Qe.array(Qe.string)}),"AggregateVaultSnapshotApp"),s5A=Qe.readonly(Qe.type({apps:Qe.array(o5A)}),"AggregateVaultSnapshotsResponse"),JlA=j5A((A,e)=>({method:"POST",name:sA`aggregateVaultSnapshots`,url:"/api/v2/report/dvr/aggregate-vault-snapshots",destinationPath:"/app-insights-aggregation/api/v2/aggregate-vault-snapshots",body:A,responseType:s5A,abortController:e})),hDe=Qe.readonly(Qe.type({snapshotUuids:Qe.array(Qe.string)}),"GetVaultItemSnapshotsByUuidsRequest"),l5A=Qe.readonly(Qe.type({snapshots:Qe.array(Q4)}),"VaultItemSnapshotsByUuidsResponseV2"),YlA=Mk(A=>({name:"getVaultItemSnapshotsByUuidsV2",method:"POST",url:"/api/v2/report/dvr/snapshotsbyuuids",body:A,responseType:l5A})),gDe=Qe.readonly(Qe.intersection([Qe.type({vaultUuid:Qe.string}),Qe.partial({items:Qe.array(Qe.string,"vaultItemUuids")})]),"VaultReportingSyncResponse"),c5A=Xe(gDe),ZlA=Mk(()=>({name:"getVaultReportingSync",method:"GET",url:"/api/v1/report/dvr/sync",responseType:c5A})),QlA=Mk(A=>({name:"putVaultReportingSnapshotsV2",method:"PUT",url:"/api/v2/report/dvr/snapshots",body:A,responseType:jA})),fDe=Qe.type({vaultUuids:Qe.array(Qe.string)},"VaultUuidsBatch"),u5A=Qe.type({vaultUuid:Qe.string,userUuids:Qe.array(Qe.string),groupUuids:Qe.array(Qe.string)},"VaultReportingVaultAccess"),d5A=Qe.readonly(Qe.type({vaultAccess:Qe.array(u5A)}),"VaultReportingVaultAccessResponse"),A6A=Mk(A=>({name:"getVaultReportingVaultAccess",method:"POST",url:"/api/v1/report/dvr/vaults/access",body:A,responseType:d5A})),BDe=Qe.type({groupUuids:Qe.array(Qe.string)},"GroupUuidsBatch"),m5A=Qe.type({groupUuid:Qe.string,userUuids:Qe.array(Qe.string)},"VaultReportingGroupMembership"),p5A=Qe.readonly(Qe.type({groupMemberships:Qe.array(m5A)}),"VaultReportingGroupMembershipsResponse"),e6A=Mk(A=>({name:"getVaultReportingGroupMemberships",method:"POST",url:"/api/v1/report/dvr/groups/membership",body:A,responseType:p5A})),k5A=Qe.readonly(Qe.type({numPrivateVaultsSearchedForSnapshots:Qe.number,numSharedVaultsSearchedForSnapshots:Qe.number,numPrivateVaultsTotal:Qe.number,numSharedVaultsTotal:Qe.number}),"DetailedVaultReportingStatsResponseV2"),t6A=Mk(()=>({name:"getDetailedVaultReportingStats",method:"GET",url:"/api/v2/report/dvr/stats",responseType:k5A}));var Po=AA(OA());var ZA={};Na(ZA,{Account:()=>dr,AccountMeta:()=>JR,AccountSettings:()=>r9,Activity:()=>v1,AdminWatchtowerKeysetObjectDataValue:()=>aN,AuditEventReportRequest:()=>l5e,Auth:()=>Zj,AuthCodec:()=>f6A,AuthParams:()=>F1,BasicNewsletter:()=>U5e,BitSet:()=>pt,CONTENT_TYPE:()=>z4,ChildAccountRelationship:()=>hv,ColorType:()=>$1,DEFAULT_ISSUER:()=>M6A,DataType:()=>xi,DetailedVaultReportingObjectDataValue:()=>pzA,DetailedVaultReportingObjectDataValueV2:()=>nN,DisplayPermission:()=>R5e,DuoSettings:()=>ZR,ECDSAPrivateKey:()=>gE,ECDSAPrivateKeyPF:()=>f1,ECDSAPublicKey:()=>Fi,ECDSAPublicKeyPF:()=>B1,EmailProviderDomains:()=>f5e,EmptyObjectDataValue:()=>hzA,EncryptedVaultItemSnapshotBatchV2:()=>ize,EncryptionKeyPair:()=>Ec,EncryptionKeyPairPlaintext:()=>TDe,EntityCounts:()=>a9,Env:()=>B6A,ExternalVaultItem:()=>_6A,File:()=>tO,FirewallRuleAction:()=>Sb,FirewallRuleAnonymousType:()=>Cb,FirewallRuleScopeType:()=>bk,FirewallRuleType:()=>Pb,GENERATED_FAMILY_DOMAIN_PREFIX:()=>o5e,Group:()=>VA,GroupMembershipWithKeyset:()=>ZC,IntegrationTranslatableValues:()=>E6A,Invitation:()=>Kk,InviteVaultV2:()=>EE,InviteVaultV2List:()=>AN,JWK_ALG_A256GCM:()=>ba,KID_MASTER_PASSWORD:()=>hh,Keyset:()=>zn,KeysetCiphertext:()=>tc,LocalAuth:()=>Lk,LocalAuthVerifier:()=>rO,MY_DOMAIN:()=>xc,MasterPasswordPolicySettings:()=>e9,MasterPasswordPolicyType:()=>qb,MspPermission:()=>C6A,Named:()=>pg,ObjectDataAccess:()=>oB,ObjectDataAccessAcl:()=>Os,ObjectDataAccessScope:()=>os,ObjectDataAccessorType:()=>cc,ObjectDataType:()=>S6A,ObjectType:()=>vo,OldUser:()=>ds,PASSWORD_ENTROPY:()=>uO,PASSWORD_STRENGTH:()=>cO,Package:()=>Ev,PackageV2:()=>D6A,Permission:()=>Gr,Person:()=>Dj,Preference:()=>fv,Promotion:()=>HG,ProvisionedGroupKeyset:()=>mO,ProvisionedKeys:()=>pO,ProvisionedVaultKey:()=>dO,ProvisioningSettings:()=>A9,RSAPrivateKey:()=>hE,RSAPublicKey:()=>Nj,RecoverableGroupKeyset:()=>hO,RecoverableKeys:()=>fO,RecoverableKeysForPeople:()=>BO,RecoverablePackageKey:()=>gO,RecoverableVaultKey:()=>kO,RecoveryKeysetPermissions:()=>O6A,START_DOMAIN:()=>D5A,SerializableLocalAuthCredentials:()=>N5A,ServiceAccountActions:()=>bzA,ServiceAccountConnectObjectDataValue:()=>jN,ServiceAccountJwtClaims:()=>EzA,ServiceAccountJwtPrivateClaims:()=>BzA,ServiceAccountStreamingObjectDataValue:()=>mzA,ServiceAccountTokenState:()=>Aze,ServiceAccountUser:()=>q6,ServiceAccountUserManagedObjectDataValue:()=>kzA,SigningKeyPair:()=>fE,SlackApp:()=>jK,SlackAppState:()=>Rm,SlackChannel:()=>oK,SlackGroup:()=>lK,SlackInvitationScope:()=>L6A,SlackNonce:()=>nK,SlackSettings:()=>YR,SlackTeam:()=>sK,SlackUser:()=>iK,SnapshotVaultTypes:()=>U6A,SupportSettings:()=>QR,SymmetricKey:()=>su,SymmetricKeyPf:()=>FR,TEMPLATE_TITLE_MAX_LENGTH:()=>qZt,TokenFeatures:()=>xO,User:()=>St,UserCombinedObjectDataAccess:()=>T9,UserCookie:()=>bO,Vault:()=>_e,VaultAccess:()=>na,VaultAttrs:()=>oN,VaultClientAccess:()=>Bv,VaultItem:()=>GA,VaultItemDetails:()=>cN,VaultItemOverview:()=>lN,VaultItemTemplate:()=>dt,VaultReportingVaultOverview:()=>loA,VaultSnapshotInsertScopeType:()=>q1,WC_ALG_A256GCM:()=>eIA,WatchtowerDataStructureV1:()=>c5e,WatchtowerDataStructureV2:()=>g6A,WatchtowerStructureVersion:()=>QL,billing:()=>fb,compareSlackUsers:()=>eze,createEmptySlackApp:()=>N6A,createServiceAccountJwt:()=>R6A,createServiceAccountTokenInfo:()=>Y5e,createSymmetricKey:()=>aa,crypto1:()=>wAA,crypto2:()=>EO,cryptoTests:()=>kN,decryptSigningKeyPair:()=>WL,ecdsa:()=>nO,extractDerivationInfo:()=>M4,getAcceptedInviteVaultsKeyedByUserUuid:()=>B5e,getImportedPubKey:()=>mv,getNativeKeyAlg:()=>vG,getSlackUserInitials:()=>tze,importMasterKey:()=>A$e,importPubKey:()=>Bc,isGenericDomain:()=>s5e,isSlackGridApp:()=>jze,isSymKeyAlg:()=>d4,localAuthCredentialsToSerializable:()=>U5A,newSnapshotForItemV2:()=>mN,rsa:()=>eN,slackAppHasScope:()=>rze,slackAppIsActive:()=>aze,tokenSignatureHash:()=>K6A,validServiceAccountAcl:()=>Q5e,vaultACL:()=>Kt});var kE=AA(vs());var Va=_n,Eu=lh;var fj=BY((A,e,t)=>{throw console.error(`[${A}#${e}]`,t),t});var Ne=A=>async(e,t)=>Promise.resolve().then(t).catch(fj(A,e)),Vo=async(A,e,t=0)=>{let r=A.join("#"),a=r6A[r];if(a?.promise&&EDe(a,t))return a.promise;let j=Promise.resolve().then(e);return r6A[r]={promise:j,timeFinished:1/0},j.then(n=>(h5A(r),n),n=>{throw h5A(r),n})},EDe=(A,e)=>Date.now()-A.timeFinished<e,r6A={},h5A=A=>{let e=r6A[A];e&&(e.timeFinished=Date.now())};var xDe="action/mfa",YC=Ne(xDe);var bDe=async(A,e)=>YC("enableMFA",async()=>{let t=await itA(A.session,e);return A.user&&(t&&t.dsecret&&(A.user.dSecret=t.dsecret),A.user.hasMFAEnabled=!0),t??void 0}),yDe=async(A,e)=>{try{await otA(A.session,e),A.user&&(A.user.dSecret=void 0,A.user.hasMFAEnabled=!1)}catch(t){throw console.error("disableMfa failed: "+t),t}},vDe=async(A,e)=>YC("sendMFACode",async()=>stA(A.session,e)),FDe=async A=>YC("getMFA",async()=>(await ltA(A.session)).map(t=>({...t,createdAt:Va(t.createdAt),updatedAt:Va(t.updatedAt)}))),GDe=async A=>YC("getMFAConfig",async()=>ctA(A.session)),wDe=async(A,e)=>YC("verifyTotp",async()=>utA(A.session,e)),UL=(A,e)=>{let r=new kE.misc.hmac(kE.codec.base64url.toBits(A),kE.hash.sha256).encrypt(kE.codec.base32.toBits(e));return kE.codec.base64url.fromBits(r).slice(0,8)},g5A=A=>({type:"public-key",id:Je(A)}),qDe=async(A,e,t,r,a)=>{if(!navigator.credentials||!navigator.credentials.create)throw new Error("Browser does not support WebAuthn.");if(!A.user)throw new Error("Missing user");let j=t.map(c=>g5A(c)),n=await navigator.credentials.create({publicKey:{challenge:Je(r),rp:{id:a,name:"1Password"},user:{id:mt(A.user.uuid),name:A.user.email,displayName:A.user.name},pubKeyCredParams:[{type:"public-key",alg:-7}],timeout:6e4,attestation:"none",authenticatorSelection:{authenticatorAttachment:"cross-platform",userVerification:"discouraged",residentKey:"discouraged"},excludeCredentials:j}});if(!n)throw new Error("Credential is missing.");let{attestationObject:i,clientDataJSON:o}=n.response;return{type:ll.WebAuthn,keyHandle:n.id,keyValue:Ye(new Uint8Array(i)),keyName:e,webAuthnClientData:Ye(new Uint8Array(o))}},$De=async(A,e,t)=>{if(!navigator.credentials||!navigator.credentials.get)throw Error;let r=A.map(o=>g5A(o));if(r.length===0)throw Error;let a=await navigator.credentials.get({publicKey:{challenge:Je(e),rpId:t,allowCredentials:r,userVerification:"discouraged",timeout:6e4}});if(!a)throw Error;let{signature:j,authenticatorData:n,clientDataJSON:i}=a.response;return{keyHandle:a.id,signature:Ye(new Uint8Array(j)),authData:Ye(new Uint8Array(n)),clientData:Ye(new Uint8Array(i))}},IDe=()=>{let A=navigator.credentials;return!!(A&&A.get&&A.create&&window.PublicKeyCredential)};var v5A=AA(OA());var a6A=AA(wG());var xu=A=>new a6A.BigInteger(A.toString(10),10),HL=A=>Number.parseInt(A.toString(10),10),f5A=(A,e)=>xu(A).and(xu(e)).equals(xu(e)),B5A=(A,e)=>xu(A).and(xu(e)).compareTo(a6A.BigInteger.ZERO)>0,E5A=(A,e)=>HL(xu(A).or(xu(e))),x5A=(A,e)=>HL(xu(A).xor(xu(e))),b5A=(A,e)=>HL(xu(A).andNot(xu(e))),y5A=A=>HL(rl(A,(e,t)=>e.or(xu(t)),xu(0)));var pt;(function(A){A.codec=v5A.number,A.empty=()=>0,A.equals=(e,t)=>e===t,A.fromHex=e=>Number.parseInt(e,16),A.toHex=e=>e.toString(16),A.combine=y5A,A.disable=b5A,A.enable=E5A,A.includes=f5A,A.includesAny=B5A,A.toggle=x5A})(pt||(pt={}));var ZC;(function(A){A.create=e=>({...SDe,...e})})(ZC||(ZC={}));var SDe={role:Ha.Role.Member,state:Ha.State.Active,version:1};var XL=AA(OA());var CDe="model/rsa_public_key",ODe=fj(CDe),mv=async A=>Promise.resolve().then(async()=>"jwk"in A?A:Bc(A)),Bc=async A=>new Nj(A.kid,void 0,A).import(),Nj=class A{constructor(e,t,r){this.encrypt=async a=>Promise.resolve().then(async()=>{let j,n;if(a.length>2048/8)throw new Error("Plaintext is too large.");if(!this.jwk)throw new Error("Missing JWK encryption key.");if(!this.key)throw new Error("Missing encryption key.");if(this.jwk.alg===A.JWK_ALG_RSA_OAEP)n=A.JWK_ALG_RSA_OAEP,j=A.WC_ALG_RSA_OAEP;else if(this.jwk.alg===A.JWK_ALG_RSA_OAEP_256)n=A.JWK_ALG_RSA_OAEP_256,j=A.WC_ALG_RSA_OAEP_256;else throw new Error("Unsupported encryption alg");return QA.subtle.encrypt(j,this.key,a).then(i=>{let o=new Uint8Array(i),s=Ye(o);return{kid:this.uuid,enc:n,cty:A.CONTENT_TYPE,data:s}})}).catch(ODe("encrypt")),this.import=async a=>{if(a&&(this.jwk=a),!this.jwk)throw new Error("Missing JWK");let j=this.jwk.kid,n=!0,i;if(this.jwk.alg===A.JWK_ALG_RSA_OAEP_256)i=A.WC_ALG_RSA_OAEP_256;else if(this.jwk.alg===A.JWK_ALG_RSA_OAEP)i=A.WC_ALG_RSA_OAEP;else throw new Error("Unexpected algorithm");return this.jwk=f4(this.jwk),this.key=await QA.subtle.importKey("jwk",this.jwk,i,n,["encrypt"]),this.uuid=j,this},this.exportKey=async()=>{if(!this.key)throw new Error("Missing key");return this.jwk=await E4(this.uuid,this.key),this.jwk},this.uuid=e,this.key=t,this.jwk=r}};Nj.CONTENT_TYPE="b5+jwk+json";Nj.JWK_ALG_RSA_OAEP_256="RSA-OAEP-256";Nj.WC_ALG_RSA_OAEP_256={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}};Nj.JWK_ALG_RSA_OAEP="RSA-OAEP";Nj.WC_ALG_RSA_OAEP={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}};Nj.DEFAULT_ALG=Nj.WC_ALG_RSA_OAEP;var VL=sA`model/rsa_private_key`,F5A=fj(VL.str),hE=class{constructor(e,t,r){this.decrypt=async a=>Promise.resolve().then(async()=>{typeof a=="string"&&h6([sA`Unexpected JSON string: json`],VL,sA`decrypt`);let j=Ke(typeof a=="string"?JSON.parse(a):a,no,{mode:"unsafe_report_only",file:VL,func:sA`decrypt`}).unwrap();if(Nj.CONTENT_TYPE!==j.cty)throw new Error("Unexpected content type");if(j.kid!==this.uuid)throw new Error("Content encrypted with wrong key");if(!this.key)throw new Error("Missing decryption key");let n;if(j.enc===Nj.JWK_ALG_RSA_OAEP_256){if(!gh.rsaOaep256)throw new oe.ClientError(oe.ClientErrorCode.noRsaOaep256Support,"Browser does not support RSA-OAEP-256");n=Nj.WC_ALG_RSA_OAEP_256}else if(j.enc===Nj.JWK_ALG_RSA_OAEP)n=Nj.WC_ALG_RSA_OAEP;else throw new Error("Unexpected algorithm");let i=Je(j.data);return QA.subtle.decrypt(n,this.key,i).then(o=>new Uint8Array(o))}).catch(F5A("decrypt")),this.import=async a=>Promise.resolve().then(async()=>{if(a&&(this.jwk=a),!this.jwk)throw new Error("Missing JWK");let j=this.jwk.kid,n=!0,i;if(this.jwk.alg===Nj.JWK_ALG_RSA_OAEP_256)i=Nj.WC_ALG_RSA_OAEP_256;else if(this.jwk.alg===Nj.JWK_ALG_RSA_OAEP)i=Nj.WC_ALG_RSA_OAEP;else throw new Error("RSAPrivateKey failed to import, unexpected alg");return this.jwk=B4(this.jwk),QA.subtle.importKey("jwk",this.jwk,i,n,["decrypt"]).then(o=>(this.key=o,this.uuid=j,this))}).catch(F5A("import")),this.exportKey=async()=>{if(!this.key)throw new Error("Missing key");return this.jwk=await E4(this.uuid,this.key),this.jwk},this.encryptWithKey=async a=>{if(!this.jwk)throw new Error("Missing JWK");return a.encrypt(Ua(this.jwk))},this.decryptWithKey=async(a,j)=>{let n=await a.decrypt(j),i=Ke(n,xr).unwrap(),o=Ke(i,fh,{mode:"unsafe_report_only",file:VL,func:sA`decryptWithKey`}).unwrap();return this.import(o)},this.uuid=e,this.key=t,this.jwk=r}};var j6A=sA`web-api/model/encryption_key_pair.ts`,TDe=XL.readonly(XL.type({pubKey:Kf,priKey:fh}),"EncryptionKeyPairPlaintext"),Ec=class{constructor(e,t,r){this.uuid=e,this.pubKey=t,this.priKey=r,this.encryptWithKey=async a=>{let j=await this.priKey.encryptWithKey(a),n=this.pubKey.jwk;if(!n)throw new Error("Missing public key");return{pubKey:n,encPriKey:j}},this.encrypt=t.encrypt,this.decrypt=r.decrypt}};(function(A){A.generate=async e=>{let t=async()=>_De(e).then(DDe),a=Qx(31,()=>t),j=t();return rl(a,async(i,o)=>i.catch(async()=>o()),j).catch(i=>{throw new Error(`Failed to generate valid encryption keys after 32 attempts. <${Dn(i)}>`)})},A.decryptWithKey=async(e,{pubKey:t,encPriKey:r})=>{let a={mode:"unsafe_report_only",file:j6A,func:sA`decryptWithKey`};typeof t=="string"&&h6([sA`Unexpected JSON string: pubKey`],j6A,sA`decryptWithKey`),typeof r=="string"&&h6([sA`Unexpected JSON string: encPriKey`],j6A,sA`decryptWithKey`);let j=Ke(typeof t=="string"?JSON.parse(t):t,Kf,a).unwrap(),n=Ke(typeof r=="string"?JSON.parse(r):r,no,a).unwrap(),i=j.kid,[o,s]=await Promise.all([new Nj(i).import(j),new hE(i).decryptWithKey(e,n)]);if(o.uuid!==s.uuid)throw new Error("Public and private key IDs do not match");return new A(i,o,s)}})(Ec||(Ec={}));var _De=async A=>{let e=["encrypt","decrypt"],r=Nj.DEFAULT_ALG,a=A||lr(),{publicKey:j,privateKey:n}=await QA.subtle.generateKey(r,!0,e);if(!j||!n)throw new Error("Did not generate key pair properly");let i=new Nj(a,j),o=new hE(a,n);return await Promise.all([i.exportKey(),o.exportKey()]),new Ec(a,i,o)},DDe=async A=>{let e={pubKey:A.pubKey.jwk,priKey:A.priKey.jwk};if(g4.primesAreReversed(e.priKey))throw new Error("p < q");let t=aa(),r=t.generate(ba).then(async()=>A.encryptWithKey(t)).then(async i=>Ec.decryptWithKey(t,i)),a="I've got a golden ticket!",j=r.then(async i=>i.encrypt(mt(a)));return Promise.all([r,j]).then(async([i,o])=>i.decrypt(o)).then(async i=>Di(i)===a?Promise.resolve():Promise.reject(new Error("Decryption failed"))).then(()=>A)};var I5A=AA(vs());var G5A="model/ecdsa_public_key",zDe=fj(G5A),MDe=Ne(G5A),Fi=class A{constructor(e,t,r){this.verify=async(a,j)=>Promise.resolve().then(async()=>{if(j.alg!=="ES256")throw new Error("Unknown jwk signature alg:"+j.alg);let n=A.DEFAULT_SIGN_ALG;if(j.kid!==this.uuid)throw new Error("Unexpected signature kid:"+j.kid+" != "+this.uuid);if(!this.key)throw new Error("Missing public key");return QA.subtle.verify(n,this.key,Je(j.s),a).then(i=>!!i)}).catch(zDe("verify")),this.import=async a=>MDe("import",async()=>{if(a&&(this.jwk=a),!this.jwk)throw new Error("Missing JWK key");let j=this.jwk.kid;if(this.jwk=NQ(this.jwk),this.jwk.kty!=="EC"||this.jwk.crv!=="P-256")throw new Error("Unexpected EC key/crv: "+this.jwk.kty+", "+this.jwk.crv+".");let n=!0,i=A.KEY_ALG_ES256,o=["verify"],s=await QA.subtle.importKey("jwk",this.jwk,i,n,o).catch(()=>{throw new oe.ClientError(oe.ClientErrorCode.invalidSigningKeyPair,"Invalid public key")});return this.uuid=j,this.key=s,this}),this.exportKey=async()=>{if(!this.key)throw new Error("Missing key");return this.jwk=await x4(this.uuid,this.key,kb),this.jwk},this.uuid=e||"",this.key=t,this.jwk=r}};Fi.KEY_ALG_ES256={name:"ECDSA",namedCurve:"P-256"};Fi.SIGN_ALG_ES256={name:"ECDSA",hash:{name:"SHA-256"},jwkAlgorithmIdentifier:"ES256"};Fi.DEFAULT_KEY_ALG=Fi.KEY_ALG_ES256;Fi.DEFAULT_SIGN_ALG=Fi.SIGN_ALG_ES256;var n6A=sA`web-api/model/ecdsa_private_key.ts`,RDe=fj(n6A.str),KDe=Ne(n6A.str),gE=class{constructor(e,t,r){this.sign=async a=>Promise.resolve().then(async()=>{if(!this.key)throw new Error("Missing private key");let j=Fi.DEFAULT_SIGN_ALG;return QA.subtle.sign(j,this.key,a).then(n=>({kid:this.uuid,alg:j.jwkAlgorithmIdentifier,s:Ye(new Uint8Array(n))}))}).catch(RDe("sign")),this.import=async a=>KDe("import",async()=>{if(a&&(this.jwk=a),!this.jwk)throw new Error("Missing JWK key");let j=this.jwk.kid;if(this.jwk=LQ(this.jwk),this.jwk.kty!=="EC"||this.jwk.crv!=="P-256")throw new Error("Unexpected EC key/crv: "+this.jwk.kty+", "+this.jwk.crv+".");let n=Fi.KEY_ALG_ES256,i=!0,o=["sign"],s=await QA.subtle.importKey("jwk",this.jwk,n,i,o).catch(()=>{throw new oe.ClientError(oe.ClientErrorCode.invalidSigningKeyPair,"Invalid private key")});return this.key=s,this.uuid=j,this}),this.exportKey=async()=>{if(!this.key)throw new Error("Missing key");return this.jwk=await x4(this.uuid,this.key,Lf),this.jwk},this.encryptWithKey=async a=>{if(!this.jwk)throw new Error("Missing JWK");if(!a)throw new Error("No key given");let j=Ua(this.jwk);if(!j)throw new Error("Missing plaintext");return a.encrypt(j)},this.decryptWithKey=async(a,j)=>{let n=await a.decrypt(j),i=Ke(n,xr).unwrap(),o=Ke(i,Lf,{mode:"unsafe_report_only",file:n6A,func:sA`decryptWithKey`}).unwrap();return this.import(o)},this.uuid=e||"",this.key=t,this.jwk=r}};var Rk=AA(vs());var LDe="model/ecdsa_private_key_pf",i6A=fj(LDe),f1=class extends gE{constructor(e,t,r,a){super(e,void 0,a),this.sign=async j=>Promise.resolve().then(()=>{if(!this.sjclKey)throw new Error("Missing private key");let n=Fi.DEFAULT_SIGN_ALG,i=Rk.hash.sha256.hash(Rj(j)),o=this.sjclKey.sign(i,1,!1);return{kid:this.uuid,alg:n.jwkAlgorithmIdentifier,s:Ye(new Uint8Array(Rk.codec.bytes.fromBits(o)))}}).catch(i6A("sign")),this.import=async j=>Promise.resolve().then(()=>{if(j&&(this.jwk=j),!this.jwk)throw new Error("Missing JWK key");let n=Je(this.jwk.d),i=Rk.bn.fromBits(Rj(n));return this.sjclKey=new Rk.ecc.ecdsa.secretKey(Rk.ecc.curves.c256,i),this}).catch(i6A("import")),this.exportKey=async()=>Promise.resolve().then(async()=>{if(!this.pubKey)throw new Error("Missing public key");if(!this.sjclKey)throw new Error("Missing private key");let j=this.sjclKey;return this.pubKey.exportKey().then(n=>{let i=Rk.codec.bytes.fromBits(j.get());return this.jwk={crv:"P-256",ext:!0,key_ops:["sign"],kty:"EC",kid:this.uuid,d:Ye(new Uint8Array(i)),x:n.x,y:n.y},this.jwk})}).catch(i6A("exportKey")),this.sjclKey=r,this.pubKey=t}};var rp=AA(vs());var NDe="model/ecdsa_public_key_pf",o6A=fj(NDe),B1=class extends Fi{constructor(e,t,r){super(e,void 0,r),this.verify=async(a,j)=>Promise.resolve().then(()=>{let n=Fi.DEFAULT_SIGN_ALG;if(!this.sjclKey)throw new Error("Missing public key");if(j.kid!==this.uuid)throw new Error("Signing key mismatch, expected '"+this.uuid+"' got '"+j.kid+"'");if(j.alg!==n.jwkAlgorithmIdentifier)throw new Error("Unsupported signature algorithm: "+j.alg);let i=Rj(Je(j.s)),o=rp.hash.sha256.hash(Rj(a));return this.sjclKey.verify(o,i,!1)}).catch(o6A("verify")),this.import=async a=>Promise.resolve().then(()=>{if(a&&(this.jwk=a),!this.jwk)throw new Error("Missing JWK key");let j=Je(this.jwk.x),n=Je(this.jwk.y),i=rp.codec.hex.fromBits(Rj(j))+rp.codec.hex.fromBits(Rj(n));return this.sjclKey=new rp.ecc.ecdsa.publicKey(rp.ecc.curves.c256,rp.codec.hex.toBits(i)),this}).catch(o6A("import")),this.exportKey=async()=>Promise.resolve().then(()=>{if(!this.sjclKey)throw new Error("Missing public key");let a=this.sjclKey.get();return this.jwk={crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",kid:this.uuid,x:Ye(new Uint8Array(rp.codec.bytes.fromBits(a.x))),y:Ye(new Uint8Array(rp.codec.bytes.fromBits(a.y)))},this.jwk}).catch(o6A("exportKey")),this.sjclKey=t}};var E1=sA`web-api/model/signing_key_pair.ts`,s6A=fj(E1.str),w5A=Ne(E1.str),fE=class{constructor(e){this.generate=async t=>Promise.resolve().then(async()=>{let r=QA.supports.nativeEcdsa?this._generateNative:this._generatePolyfill,a=async()=>r(t).then(XDe),j=5,n=Qx(j-1,()=>a),i=a();return rl(n,async(s,c)=>s.catch(async()=>c()),i).catch(s=>{throw new Error(`Failed to generate valid signing keys after ${j} attempts. <${Dn(s)}>`)})}),this._generateNative=async t=>{let r=["sign","verify"],j=Fi.DEFAULT_KEY_ALG;this.uuid=t||lr();let n=await QA.subtle.generateKey(j,!0,r);this.pubKey=new Fi(this.uuid,n.publicKey),this.priKey=new gE(this.uuid,n.privateKey);let i=this.pubKey.exportKey(),o=this.priKey.exportKey();return await Promise.all([o,i]),this},this._generatePolyfill=async t=>{let r=Fi.DEFAULT_SIGN_ALG.jwkAlgorithmIdentifier;if(r!=="ES256")throw new Error("Unsupported ECDSA polyfill: "+r);t=t||lr(),this.uuid=t;let a=I5A.ecc.ecdsa.generateKeys(256,1),j=new B1(t,a.pub),n=new f1(t,j,a.sec);this.pubKey=j,this.priKey=n;let i=this.pubKey.exportKey(),o=this.priKey.exportKey();return await Promise.all([o,i]),this},this.sign=async t=>Promise.resolve().then(async()=>{if(!this.priKey)throw new Error("Missing signing key");return this.priKey.sign(t)}).catch(s6A("sign")),this.verify=async(t,r)=>Promise.resolve().then(async()=>{if(!this.pubKey)throw new Error("Missing public key");return this.pubKey.verify(t,r)}).catch(s6A("verify")),this.export=async()=>Promise.resolve().then(async()=>{if(!this.pubKey)throw new Error("Missing public key");if(!this.priKey)throw new Error("Missing private key");return Promise.all([this.pubKey.exportKey(),this.priKey.exportKey()]).then(()=>this)}).catch(s6A("export")),this.import=async t=>w5A("import",async()=>{if(t.pubKey.kid!==t.priKey.kid)throw new Error("invalid signing keypair");if(this.uuid=t.pubKey.kid,!this.pubKey||!this.priKey){let r=VDe(this.uuid);this.pubKey=r.pubKey,this.priKey=r.priKey}return await Promise.all([this.pubKey.import(t.pubKey),this.priKey.import(t.priKey)]),this}),this.encryptWithKey=async t=>{if(!this.priKey)throw new Error("Missing private key");if(!this.pubKey||!this.pubKey.jwk)throw new Error("Missing public key");let r=await this.priKey.encryptWithKey(t);return{pubKey:this.pubKey.jwk,encPriKey:r}},this.decryptWithKey=async(t,r)=>w5A("decryptWithKey",async()=>{let{pubKey:a,encPriKey:j}=UDe(r);this.uuid=a.kid;let n=await HDe(t,j);if(n.kid!==a.kid)throw new Error("Public and private key IDs do not match.");return this.import({pubKey:a,priKey:n})}),this.uuid=e||""}plaintextJSON(){if(!this.pubKey)throw new Error("Missing public key");if(!this.priKey)throw new Error("Missing private key");return{pubKey:this.pubKey.jwk,priKey:this.priKey.jwk}}},UDe=A=>{typeof A.pubKey=="string"&&h6([sA`Unexpected JSON string: json.pubKey`],E1,sA`parseStringsIfNecessary`),typeof A.encPriKey=="string"&&h6([sA`Unexpected JSON string: json.encPriKey`],E1,sA`parseStringsIfNecessary`);let e={mode:"unsafe_report_only",file:E1,func:sA`parseStringsIfNecessary`};return{pubKey:Ke(q5A(A.pubKey),kb,e).unwrap(),encPriKey:Ke(q5A(A.encPriKey),no,e).unwrap()}},q5A=A=>typeof A=="string"?JSON.parse(A):A,HDe=async(A,e)=>{let t=Ke(await A.decrypt(e),xr).unwrap();return Ke(t,Lf,{mode:"unsafe_report_only",file:E1,func:sA`decryptJson`}).unwrap()},VDe=A=>{if(QA.supports.nativeEcdsa)return{pubKey:new Fi(A),priKey:new gE(A)};{let e=new B1(A);return{pubKey:e,priKey:new f1(A,e)}}},$5A=new Uint8Array([73,39,118,101,32,103,111,116,32,97,32,103,111,108,100,101,110,32,116,105,99,107,101,116,33]),XDe=async A=>Promise.resolve().then(async()=>{let e=A.plaintextJSON(),t=new fE().import(e),r=t.then(async j=>j.sign($5A));return Promise.all([t,r]).then(async([j,n])=>j.verify($5A,n)).then(j=>{if(!j)throw new Error("Signature failed verification")}).then(()=>A)});var zn=class{constructor(e,t,r,a,j=0){this.uuid=e,this.symKey=t,this.ekeyPair=r,this.skeyPair=a,this.sn=j,this.generateSigningKeys=async()=>(this.skeyPair=new fE(this.uuid),this.skeyPair.generate(this.uuid)),this.sign=async n=>{if(!this.skeyPair)throw new Error("Failed to sign, skeyPair missing");return this.skeyPair.sign(n)},this.verify=async(n,i)=>{if(!this.skeyPair)throw new Error("Failed to verify, skeyPair missing");return this.skeyPair.verify(n,i)},this.encrypt=async n=>this.ekeyPair.encrypt(n),this.decrypt=async n=>this.ekeyPair.decrypt(n),this.encryptWithKey=async n=>{let[i,o,s]=await Promise.all([this.symKey.encryptWithKey(n),this.ekeyPair.encryptWithKey(this.symKey),this.skeyPair&&this.skeyPair.priKey?this.skeyPair.encryptWithKey(this.symKey):Promise.resolve(void 0)]);return{uuid:this.uuid,sn:this.sn,encryptedBy:i.kid,encSymKey:i,pubKey:o.pubKey,encPriKey:o.encPriKey,spubKey:s?.pubKey,encSPriKey:s?.encPriKey}}}hasSigningKeys(){return!!this.skeyPair&&!!this.skeyPair.pubKey}};(function(A){A.generateWithSigningKeys=async()=>P5A(!0),A.generateWithoutSigningKeys=async()=>P5A(!1),A.decryptWithKeyset=async(e,t)=>{let r=t.encSymKey.enc,a=d4(r)?e.symKey:e.ekeyPair;return A.decryptWithKey(a,t)},A.decryptWithKey=async(e,t)=>{let{sn:r,uuid:a,pubKey:j,encSymKey:n,encPriKey:i,spubKey:o,encSPriKey:s}=t,c=await aa().decryptWithKey(e,n),[u,p]=await Promise.all([Ec.decryptWithKey(c,{pubKey:j,encPriKey:i}),WL(c,{pubKey:o,encPriKey:s})]);return new A(a,c,u,p,r)}})(zn||(zn={}));var P5A=async A=>{let e=lr(),t=aa(),[,r,a]=await Promise.all([t.generate(ba,e),Ec.generate(e),A?new fE(e).generate(e):Promise.resolve(void 0)]);return new zn(e,t,r,a)},WL=async(A,{pubKey:e,encPriKey:t})=>{if(!(!e||!t))try{return await new fE().decryptWithKey(A,{pubKey:e,encPriKey:t})}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.invalidSigningKeyPair))return;throw r}};var Kt={};Na(Kt,{ALL:()=>JDe,ALL_EXPORT:()=>m6A,ALL_READ:()=>C5A,ALL_WRITE:()=>O5A,ArchiveItem:()=>b1,CreateItem:()=>kv,DEFAULT_VAULT_CREATION_ACL:()=>t5e,DeleteItem:()=>y1,Export:()=>u6A,Import:()=>c6A,MANAGED_VAULT_ACL:()=>A5e,Manage:()=>pv,NoAccess:()=>WDe,Print:()=>d6A,RWE:()=>YL,ReadItem:()=>x1,Recover:()=>S5A,RevealPassword:()=>JL,SendItem:()=>l6A,TOKEN_READ:()=>YDe,TOKEN_WRITE:()=>ZDe,UMSA_TOKEN_WRITE:()=>QDe,UpdateItem:()=>BE,ViewHistory:()=>QC,changeVaultAccessPermissions:()=>r5e,includesFrozenACL:()=>AO,isEffectivelyZero:()=>e5e,vaultAccessDependencies:()=>T5A});var WDe=0,S5A=1,pv=2,JL=16,x1=32,BE=64,kv=128,b1=256,y1=512,QC=1024,l6A=1048576,c6A=2097152,u6A=4194304,d6A=8388608,JDe=2147483646,C5A=pt.combine([x1,JL,QC]),O5A=pt.combine([BE,kv,c6A,b1,y1]),m6A=pt.combine([u6A,d6A,l6A]),YDe=pt.combine([x1,JL]),ZDe=pt.combine([BE,kv,b1]),QDe=pt.combine([kv,BE,y1,b1]),YL=pt.combine([C5A,O5A,m6A]),A5e=pt.combine([x1,BE,kv,y1,QC]),e5e=A=>{let e=pt.combine([YL,pv,S5A]);return!pt.includesAny(A,e)},t5e=YL,AO=A=>(A&BE)>0||(A&kv)>0||(A&y1)>0||(A&b1)>0,r5e=(A,e)=>{let t=0,r=0;j5e(A,e)?t=pt.enable(A,e):t=pt.toggle(A,e);for(let a of T5A)r=pt.toggle(A,t),t=a5e(t,r,a.parent,a.children);return t},T5A=[{parent:x1,children:pt.disable(YL,x1)},{parent:kv,children:c6A},{parent:BE,children:pt.combine([b1,y1])},{parent:JL,children:pt.combine([m6A,QC,BE])},{parent:QC,children:pt.combine([u6A,d6A,l6A])}],a5e=(A,e,t,r)=>{let a=pt.disable(t,A);return pt.includesAny(e,a)?pt.disable(A,r):pt.includesAny(A,r)?pt.enable(A,t):A},j5e=(A,e)=>{let t=pt.includesAny(A,e),r=pt.includes(A,e);return t&&!r};var p6A=tu,n5e="model/group",k6A=Ne(n5e),VA=class A{constructor(e){this.accessorType="group",this.decryptRecoverableKeyset=async t=>k6A("decryptRecoverableKeyset",async()=>this.recoverableKeyset?t.uuid!==this.recoverableKeyset.encryptedBy?Promise.reject(new Error("Cannot decrypt the group's keyset. It is not encrypted by the given keyset.")):zn.decryptWithKeyset(t,this.recoverableKeyset):Promise.reject(new Error("Missing recoverable keyset."))),this.createMembership=async(t,r,a)=>k6A("createMembership",async()=>{if(!r.pubKey)throw new Error("Missing member's public key.");if(!t)throw new Error("Missing group's active keyset.");let j=await mv(r.pubKey),n=await t.encryptWithKey(j);return ZC.create({keyset:n,groupUuid:this.uuid,memberUuid:r.uuid,...a})}),this.addMembership=async(t,r,a)=>k6A("addMembership",async()=>this.createMembership(t,r,a).then(j=>(this._memberships[j.memberUuid]=j,j))),this.setVaultAccessList=t=>{this._vaultACLs=void 0,this._vaultAccessMap=gn(t,r=>r.vaultUuid)},this.enableKeysetRecovery=async(t,r)=>{if(!r.pubKey)throw new Error("Missing recovery group's public key");return this.recoverableKeyset=await t.encryptWithKey(r.pubKey),this},this.enableRecoverCapability=async t=>{if(!t)throw new Error("Missing recovery keyset.");if(!this.pubKey)throw new Error("Missing public key");let r=await t.encryptWithKey(this.pubKey);return this.recoveryKeyset=r,this},this.uuid=e.uuid?e.uuid:lr(),this.name=e.name,this.type=e.type,this.desc=e.desc,this.activeKeysetUuid=e.activeKeysetUuid,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.attrVersion=e.attrVersion||0,this.avatar=e.avatar||"",this.permissions=e.permissions||pt.empty(),this.userCount=e.userCount,this.archivedKeysets=[],this._memberships={},this._sso=e.sso,this._vaultAccessMap={},this._vaultACLs=void 0,this._attrMask=0}hasAttrMask(e){return(this._attrMask&e)===e}addAttrMask(e){this._attrMask|=e}get isTypeUserDefined(){return this.type===A.TypeUserDefined}get isTypeTeamMembers(){return this.type===A.TypeTeamMembers}get isTypeOwners(){return this.type===A.TypeOwners}get isTypeAdmins(){return this.type===A.TypeAdmins}get isTypeSecurity(){return this.type===A.TypeSecurity}get isTypeMSPAdministrators(){return this.type===A.TypeMSPAdministrators}get isTypeExternalAccountManagers(){return this.type===A.TypeExternalAccountManagers}setOverview(e){this.uuid=e.uuid?e.uuid:lr(),this.name=e.name,this.type=e.type,this.desc=e.desc,this.activeKeysetUuid=e.activeKeysetUuid,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.attrVersion=e.attrVersion||0,this.avatar=e.avatar||"",this.permissions=e.permissions||pt.empty(),this.userCount=e.userCount,this._sso=e.sso}_getLoadedVaultAccessMap(){if(!this.hasAttrMask(A.Attr.VaultAccess))throw new Error("Vault access list has not been loaded");return this._vaultAccessMap}getAccessorVaultUuids(){return this.getVaultUuids()}getVaultUuids(){return p6A(this._getLoadedVaultAccessMap(),()=>!0)}getVaultAccessMap(){return this._getLoadedVaultAccessMap()}getVaultACLs(){return this._vaultACLs||(this._vaultACLs=p6A(this._getLoadedVaultAccessMap(),e=>e.acl)),this._vaultACLs}hasVaultACL(e,t,r){return r&&AO(t)?!1:((this.getVaultACLs()[e.uuid]||0)&t)===t}hasPermission(...e){return pt.includes(this.permissions,pt.combine(e))}getPeopleUuids(){return p6A(this._memberships,()=>!0)}get pubKey(){return this._pubKey}set pubKey(e){e&&(this._pubKey=e,this.addAttrMask(A.Attr.PubKey))}getMembership(e){return this._memberships[e]}get memberships(){return vj(Wn(this._memberships))}set memberships(e){if(this._memberships={},e){for(let t of e)this._memberships[t.memberUuid]=t;this.addAttrMask(A.Attr.Memberships)}}get ssoConfig(){return this._sso}removeMember(e){this._memberships=tl(this._memberships,e.uuid)}get vaultAccessList(){return vj(Wn(this._getLoadedVaultAccessMap()))}getUnsafeVaultAccessList(){return vj(Wn(this._vaultAccessMap))}setVaultAccess(e){this._vaultACLs=void 0,this._vaultAccessMap={...this._vaultAccessMap,[e.vaultUuid]:e}}removeVaultAccess(e){this._vaultAccessMap=tl(this._vaultAccessMap,e.uuid)}clearCachedAccessInfo(){this._memberships={},this._vaultAccessMap={},this._vaultACLs=void 0,this.recoveryKeyset=void 0}compare(e){return _5A(this)-_5A(e)||P4(this.name,e.name)}toString(){return"[object Group]"}};VA.TypeOwners="O";VA.TypeAdmins="A";VA.TypeRecovery="R";VA.TypeTeamMembers="M";VA.TypeUserDefined="U";VA.TypeMSPAdministrators="T";VA.TypeExternalAccountManagers="E";VA.TypeSecurity="S";VA.TypeReplacement="P";VA.TypeBackofficeUsers="X";VA.TypeBackofficeBilling="Y";VA.TypeBackofficeSecurity="W";VA.TypeBackofficeDevelopers="V";VA.TypeBackofficeFinance="F";VA.TypeBackofficeContent="C";VA.TypeBackofficeOwners="Z";VA.TypeBackofficeAdvanced="D";VA.Attr={None:0,PubKey:1,Memberships:2,VaultAccess:4,RecoverableKeyset:8,UserCounts:16,All:255};var _5A=A=>i5e[A.type]||0,i5e=[VA.TypeOwners,VA.TypeAdmins,VA.TypeRecovery,VA.TypeSecurity,VA.TypeTeamMembers,VA.TypeBackofficeOwners,VA.TypeBackofficeSecurity,VA.TypeBackofficeAdvanced,VA.TypeBackofficeDevelopers,VA.TypeBackofficeContent,VA.TypeBackofficeBilling,VA.TypeBackofficeUsers,VA.TypeUserDefined].reduce((A,e,t)=>({...A,[e]:t}),{});var ZL=class{constructor(){this.groupsByUuid={},this.clearAll()}clearAll(){this.setGroups([])}setGroups(e){this.groupsByUuid={},this.recoveryGroup=void 0;let t={};for(let r of e){if(r.type===VA.TypeRecovery){this.recoveryGroup=r;continue}else this.groupsByUuid[r.uuid]=r;ij([VA.TypeAdmins,VA.TypeOwners,VA.TypeTeamMembers,VA.TypeSecurity,VA.TypeMSPAdministrators],r.type)&&(t[r.type]=r)}this.administratorsGroup=t[VA.TypeAdmins],this.ownersGroup=t[VA.TypeOwners],this.teamMembersGroup=t[VA.TypeTeamMembers],this.securityGroup=t[VA.TypeSecurity],this.mspAdministratorsGroup=t[VA.TypeMSPAdministrators]}getGroup(e){let t=this.groupsByUuid[e];return!t&&this.recoveryGroup&&this.recoveryGroup.uuid===e?this.recoveryGroup:t}getGroups(){return(this.recoveryGroup?[this.recoveryGroup]:[]).concat(Wn(this.groupsByUuid))}getManagableGroups(){return Wn(this.groupsByUuid)}};var h6A=(A,e)=>A?.subscription.status===e;var xc="my",D5A="start",o5e="pg8-;",s5e=A=>A===xc||A===D5A,dr=class A{static isValidType(e){return e===A.Type.Family||e===A.Type.Individual||e===A.Type.Business}constructor(e){this.uuid=e.uuid,this.type=e.type,this.avatar=e.avatar||"",this.domain=e.domain||"",this.inviteEmail=e.invite&&e.invite.inviteEmailDomains||"",this.inviteSecret=e.invite&&e.invite.inviteSecret||"",this.name=e.name||"",this.state=e.state,this.attrVersion=e.attrVersion,this.baseAvatarURL=e.baseAvatarURL,this.baseAttachmentURL=e.baseAttachmentURL,this.settings=e.settings?pI({},e.settings,A.defaultSettings):A.defaultSettings,this.features={},this.gatedFeatures={},this.gatedFeatureTrials=[],this.hasNativeClient=e.userFlags?e.userFlags.hasNativeClient:!1,this.hasNonSafariClient=e.userFlags?e.userFlags.hasNonSafariClient:!1,this.hasPackages=e.userFlags?e.userFlags.hasPackages:!1,this.hasMspConsoleAccess=e.userFlags?e.userFlags.hasMspConsoleAccess:!1,this.mustMigrate=e.userFlags?e.userFlags.mustMigrate:!1,this.hasRecoveryMembers=e.accountFlags?e.accountFlags.hasRecoveryMembers:!1,this.isAccountManaged=e.accountFlags?e.accountFlags.isAccountManaged:!1,this.activities=[],this.promotions=[],this.meta={companySize:void 0},this.counts={groups:0,invitations:0,users:0,vaults:0,activeGuests:0,activeUsers:0,activeManagedAccounts:0},this.subscription=rc.create(),this.trialDays=e.billing?.trialDays||0,this._cache=new ZL}setAttrs(e){this.uuid=e.uuid,this.type=e.type,this.avatar=e.avatar||"",this.domain=e.domain||"",e.invite&&(this.inviteEmail=e.invite.inviteEmailDomains||"",this.inviteSecret=e.invite.inviteSecret||""),this.name=e.name||"",this.state=e.state,this.attrVersion=e.attrVersion,this.baseAvatarURL=e.baseAvatarURL,this.baseAttachmentURL=e.baseAttachmentURL,e.settings?this.settings=pI({},e.settings,A.defaultSettings):this.settings=pI({},this.settings,A.defaultSettings),e.userFlags&&(this.hasNativeClient=e.userFlags.hasNativeClient,this.hasNonSafariClient=e.userFlags.hasNonSafariClient,this.hasPackages=e.userFlags.hasPackages,this.hasMspConsoleAccess=e.userFlags.hasMspConsoleAccess,this.mustMigrate=e.userFlags.mustMigrate),e.accountFlags&&(this.hasRecoveryMembers=e.accountFlags.hasRecoveryMembers,this.isAccountManaged=e.accountFlags.isAccountManaged),e.billing&&(this.trialDays=e.billing.trialDays)}get hasFeature(){return{...rc.hasFeature(this.subscription),...this.features}}get hasBackOfficeFeature(){return{...rc.hasFeature(this.subscription)}}get hasUnleashFeature(){return{...this.features}}get fspPhase(){return this.features["b5web-core-app-ui-v1-no-opt"]?"no-opt":this.features["b5web-core-app-ui-v1-opt-out"]?"opt-out":this.features["b5web-core-app-ui-v1-opt-in"]?"opt-in":void 0}get hasGatedFeature(){return rc.hasGatedFeature(this.subscription)}get isFamily(){return this.type===A.Type.Family}get isIndividual(){return this.type===A.Type.Individual}get isBusiness(){return this.type===A.Type.Business}get isManagedServiceProvider(){return!!this.hasBackOfficeFeature?.managedServiceProvider&&!!this.hasUnleashFeature?.["b5web-msp-billing-page"]}get isBackoffice(){return this.domain==="backoffice"}urlHost(e){return(this.isIndividual?xc:this.domain)+"."+e}urlOrigin(e){return"https://"+this.urlHost(e)}supportsBetaFeatures(){let e=this.hasFeature;return e.mfaDuo||e.customTemplates||e.itemSendingV1||e.reports}get administratorsGroup(){return this._cache.administratorsGroup}get ownersGroup(){return this._cache.ownersGroup}get recoveryGroup(){return this._cache.recoveryGroup}get teamMembersGroup(){return this._cache.teamMembersGroup}get securityGroup(){return this._cache.securityGroup}get mspAdministratorsGroup(){return this._cache.mspAdministratorsGroup}get groups(){return this._cache.getManagableGroups()}findGroup(e){return this._cache.getGroup(e)}setGroups(e){this._cache.setGroups(e)}pushGroup(e){this._cache.groupsByUuid[e.uuid]=e,e.isTypeSecurity&&(this._cache.securityGroup=e)}removeGroup(e){let t=$m(e);delete this._cache.groupsByUuid[t]}};dr.StateRegistered="R";dr.StateActive="A";dr.StateSuspended="S";dr.StateDeleted="D";dr.defaultMfaTypes=[ll.Totp,ll.WebAuthn];dr.defaultSettings={slackURLs:{alerts:"",notifications:""},betaIsEnabled:!1,richIconsAreDisabled:!1,duo:{isEnabled:!1,rememberDays:30,integrationKey:"",secretKey:"",host:""},support:{url:""},provisioning:{isEnabled:!1,notificationEmails:"",monitoringEnabled:!1,monitoringDomain:"",deploymentOption:"",identityProvider:"",replyToEmail:{address:"",verified:!1}},masterPasswordPolicy:{type:qb.Minimum,customString:""},twoFactor:{enforced:!1},clientRestrictions:{requireModernApps:!1},teamMemberPolicies:{blockFileStorage:!1,blockPasskeyAuthenticator:!1,privateVaultsBusinessWatchtowerReportingEnabled:!0,allowedWatchtowerDomains:"",telemetryOptOut:!1},disableEmergencyKit:!1,sidebarNavigationPolicies:{hideDeveloperTools:!1,hideIntegrations:!1}};(function(A){let e;(function(t){t.Individual="I",t.Family="F",t.Business="B"})(e=A.Type||(A.Type={})),A.isProvisioningEnabled=t=>!!t?.settings.provisioning?.isEnabled,A.isDuoEnabled=t=>!!t?.settings.duo?.isEnabled,A.isFrozen=t=>h6A(t,rc.Status.Frozen),A.isTrial=t=>h6A(t,rc.Status.Trial),A.isActive=t=>h6A(t,rc.Status.Active),A.isInExtendedPromotionalTrial=t=>t?.trialDays>=60,A.getAllowedWatchtowerDomains=t=>t?.settings?.teamMemberPolicies?.allowedWatchtowerDomains?t?.settings.teamMemberPolicies.allowedWatchtowerDomains.split(","):[]})(dr||(dr={}));var bu=AA(OA());var l5e=bu.readonly(bu.intersection([bu.type({objectType:bu.string,action:bu.string},"required"),bu.partial({objectUUID:bu.string,reportType:bu.string},"optional")]),"AuditEventReportRequest"),v1;(function(A){A.fromApi=e=>({actor:e.actor,eid:e.eid||0,uuid:e.uuid||"",time:_n(e.time),ipAddress:e.ipAddress,action:e.action,objectType:e.objectType||"",objectUuid:e.objectUuid||"",auxInfo:e.auxInfo||"",auxUuid:e.auxUUID||"",actorType:e.actorType||""}),A.ObjectType={Account:"account",Billing:"billing",User:"user",Signup:"signup",Device:"device",Group:"group",Tier:"tier",Plan:"plan",GroupMembership:"gm",Vault:"vault",VaultItem:"item",VaultItems:"items",VaultItemHistory:"itemhist",VaultKey:"vaultkey",Template:"template",UserVaultAccess:"uva",GroupVaultAccess:"gva",Invite:"invite",EmailChange:"ec",ServiceAccount:"sa",StripeSubscription:"sub",StripeCard:"card",StripePaymentMethod:"pm",StripeEvent:"strpevnt",Report:"report",SlackApp:"slackapp",File:"file",FamilyChildAccount:"famchild",Promotion:"promo",PromotionOffer:"promoffr",CJPartner:"cjprtner",ServiceAccountToken:"satoken",MigratingUser:"miguser",ObjectDelegatedSession:"dlgdsess",SsoSettings:"sso",SignInToken:"ssotkn",RecoveryKey:"rkey",ManagedAccount:"mngdacc"},A.Action={Verify:"verify",Activate:"activate",Reactivate:"reactive",Suspend:"suspend",BeginRecovery:"beginr",CancelRecovery:"cancelr",CompleteRecovery:"completr",UpgradeGuestToMember:"upguest",Begin:"begin",Complete:"complete",Propose:"propose",Provision:"provsn",Join:"join",Create:"create",Update:"update",Delete:"delete",Purge:"purge",View:"view",Export:"export",ReAuth:"reauth",Convert:"convert",Cancel:"cancel",EnableMFA:"enblmfa",UpdateMFA:"updatmfa",DisableMFA:"disblmfa",EnableDuo:"enblduo",UpdateDuo:"updatduo",DisableDuo:"disblduo",Hide:"hide",Unhide:"unhide",Patch:"patch",Grant:"grant",Revoke:"revoke",TokenRename:"trename",TokenRevoke:"trevoke",TokenVerify:"tverify",Expire:"expire",GroupJoin:"join",GroupLeave:"leave",GroupRole:"role",Refund:"refund",ResetBilling:"resbill",AddPromotion:"addpromo",RemovePromotion:"rmpromo",RedeemPromotion:"rdmpromo",RevokePromotion:"rvkpromo",EnableThanksGivingPromo:"enbltgp",DisableThanksGivingPromo:"disbltgp",AddCoupon:"addcoupn",EmailDeletion:"emaildel",ResendEmail:"rsndmail",SendProvisionStartedEmail:"sendts",ResendProvisionStartedEmail:"resendts",ResendAllProvisionStartedEmail:"prsndall",EnableTravel:"trvlaway",DisableTravel:"trvlback",ChangeKeyset:"changeks",ChangeMasterPassword:"changemp",ChangeSecretKey:"changesk",ChangeName:"changenm",ChangeLanguage:"changela",UpdateAttributes:"updatea",AttachChild:"attchild",DetachChild:"detchild",RedeemChild:"rdmchild",UpdateFirewallRule:"updatfw",DeauthorizeOldDevices:"deolddev",DeauthorizeAllDevices:"dealldev",Send:"sendpkg",Share:"share",DeleteShare:"delshare",Unknown:"unknown",Reject:"reject",AddCredit:"addcred",SetCoupon:"setcoupn",RemoveCoupon:"rmcoupn",ChangeTier:"changetr",ResetTrial:"restrial",EndTrial:"endtrial",RecalculateAccountTrial:"recaltrl",AddPurchaseOrder:"addpo",AddStripePurchaseOrder:"addspo",RetryInvoice:"retryinv",Ignore:"ignore",Requeue:"requeue",ClearCache:"clrcache",ResetInviteRateLimit:"rsivrtlt",UpdatePurchaseOrder:"updatepo",UpdateStripePurchaseOrder:"udatespo",ClearFailedMFACount:"clrflmfa",AddTaxNumber:"addtxnum",RemoveTaxNumber:"rmtaxnum",RetryAppleReceipt:"rtaplrct",Replace:"replace",AutoDelete:"autodel",UserLockout:"lockout",AddVerifiedDomain:"vrfydmn",UpdateVerifiedDomain:"uvrfydmn",DeleteVerifiedDomain:"dvrfydmn",UpdateItemShareAdminSettings:"uisas",ActionMigratingUserComplete:"musercom",ActionMigratingUserDeclined:"muserdec",ActionAddAccountTransfer:"addaxfr",ActionRemoveAccountTransfer:"remaxfr",ActionEnableSSO:"enblsso",ActionDisableSSO:"disblsso",ActionChangeSSOAuthenticationPolicy:"chngpsso",ActionChangeSSOGracePeriodAuthCount:"chngasso",ActionChangeSSOGracePeriodDuration:"chngdsso",ActionDeleteSSOGroup:"delgsso",ActionAddSSOGroup:"addgsso",ActionEnrollTrustedDevice:"tdvcsso",ActionSetupCredentialBundleAuth:"sdvcsso",ActionDelegateSession:"dlgsess",NewSignInToken:"ssotkn",RatchetSignInToken:"ssotknr",SignInWithSignInToken:"ssotknv",ActionEnableDVR:"enbldvr",ActionDisableDVR:"disbldvr",LaunchInto:"launchi",Unlink:"unlink"},A.ReportType={ReportBusinessWatchtower:"business-watchtower",ReportInsightsPasswordHealth:"insights-password-health",ReportDomainBreach:"domain-breach-report",ReportInsightsBreachChecks:"insights-breach-checks",ReportInsightsTeamUsage:"insights-team-usage",ReportSignInAttempts:"sign-in-attempts",ReportActivityLog:"activity-log",ReportUserItemUsages:"user-usage-report",ReportVaultItemUsages:"vault-usage-report",ReportItemUsages:"item-usage-report",ReportDevice:"device-report",ReportTeam:"team-report",ReportOverview:"overview-report",ReportDeveloper:"developer-report",ReportFoundApps:"found-apps-report",ReportFoundAppDetails:"found-app-details-report"}})(v1||(v1={}));var sn=AA(OA()),QL=2,c5e=sn.readonly(sn.intersection([sn.type({cw:sn.number,rp:sn.number,wp:sn.number,i2fa:sn.number,exp:sn.number,tot:sn.number}),sn.partial({uw:sn.number,vp:sn.number})])),g6A=sn.readonly(sn.intersection([sn.type({cw:sn.number,rp:sn.number,wp:sn.number,i2fa:sn.number,exp:sn.number,tot:sn.number}),sn.partial({uw:sn.number,vp:sn.number,wa:sn.number})]));var yu=AA(OA()),M5A=AA(wG()),eO=AA(vs());var F1=yu.readonly(yu.type({method:yu.string,alg:yu.string,iterations:yu.number,salt:yu.string}),"AuthParams"),f6A=yu.readonly(yu.type({params:F1,srpX:yu.string}),"Auth"),Zj;(function(A){A.generate=async e=>A.generateWithParams(e,z5A()),A.generateWithParams=async(e,t)=>{let r=await d5e(e,t);return{params:t,srpX:r}},A.createFromPreComputedX=(e,t)=>({srpX:xo(e),params:t||z5A()}),A.getForUpload=e=>({...e.params,v:k5e(e)})})(Zj||(Zj={}));var u5e=128,z5A=()=>({method:gR.toString(),alg:Ih.DEFAULT_PBES2_ALG,iterations:Ih.DEFAULT_ITERATIONS,salt:QA.getSalt(u5e)}),d5e=async(A,e)=>{switch(il.fromString(e.method).prefix){case pk.SrpG:return m5e(A,e);case pk.Srp:return p5e(A,e)}},m5e=async(A,e)=>{let{email:t,secretKey:r,password:a}=R5A(A),j=Je(e.salt),n=mt(t),i=mt(e.method),o=await Lo.rawHkdf(Lo.Sha2Mode.Sha256,j,i,n,32),s=await Lo.rawPbkdf2UsingPbes2Alg(e.alg,a,o,e.iterations),c=await r.combineWithBytes(s);return xo(c)},p5e=async(A,e)=>{let{email:t,secretKey:r,password:a}=R5A(A),j=Je(e.salt),n=await Lo.rawPbkdf2UsingPbes2Alg(e.alg,uAA(a),j,e.iterations),i=await r.combineWithBytes(n),o=new eO.hash.sha1;o.update(Rj(j)),o.update(eO.hash.sha1.hash(t+":"+xo(i)));let s=o.finalize();return eO.codec.hex.fromBits(s)},k5e=A=>{let{g:e,N:t}=il.fromString(A.params.method).group,r=h5e(A.srpX);return g5e(e.modPow(r,t))},R5A=({email:A,password:e,secretKey:t})=>({email:A.trim().toLowerCase(),password:TQ(e),secretKey:t}),h5e=A=>new M5A.BigInteger(A,16),g5e=A=>A.toString(16).replace(/^(0x)?0*/,"");var hv;(function(A){A.create=t=>Object.freeze({code:"",state:"",...t}),A.CodePrefix="CA";let e;(function(t){t.Active="A",t.Ready="R"})(e=A.State||(A.State={}))})(hv||(hv={}));var B6A;(function(A){A.Prd="1password.com",A.Pca="1password.ca",A.Peu="1password.eu",A.Ent="ent.1password.com",A.Stg="b5staging.com",A.Dev="b5dev.com",A.Dca="b5dev.ca",A.Deu="b5dev.eu",A.Tst="b5test.com",A.Tca="b5test.ca",A.Teu="b5test.eu",A.Lcl="b5local.com:3000",A.LclHot="b5local.com:4000"})(B6A||(B6A={}));var gv=AA(vs()),tO=class{constructor(e,t){if(!e){let r=new Error("Created new File without a file ID");console.warn(r)}if(!t){let r=new Error(`Created new File (${e}) without a signing key`);console.warn(r)}this.fileId=e,this.signingKey=t}signReference(e,t){let r=new gv.misc.hmac(gv.codec.base64url.toBits(this.signingKey.k),gv.hash.sha256),a=this.signingKey.kid+this.fileId+e+t.toString();return gv.codec.base64url.fromBits(r.encrypt(a))}};var pg;(function(A){A.getInitials=({name:e})=>wY(IY(e)," ").filter(t=>!!t).slice(0,2).reduce((t,r)=>t+[...r][0],"").toLocaleUpperCase()})(pg||(pg={}));var E6A;(function(A){A.workspace="workspace"})(E6A||(E6A={}));var K5A=AA(al());var f5e=["126.com","163.com","aim.com","airmail.com","aol.com","att.net","bellsouth.net","charter.net","comcast.net","cox.net","earthlink.net","facebook.com","fastmail.com","fastmail.fm","gmail.com","guerrillamail.com","hotmail.com","hushmail.com","icloud.com","inbox.ru","juno.com","live.com","mac.com","mail.ru","mailinator.com","me.com","msn.com","outlook.com","protonmail.com","qq.com","sbcglobal.net","snkmail.com","tempmail.us","thrma.com","trbvm.com","verizon.net","yahoo.com","yandex.com","yandex.ru","yp.ycare.de","zoho.com"],Kk=class{constructor(e){this.uuid=e.uuid,this.email=e.email||"",this.accountName=e.accountName||"",this.accountType=e.accountType||"",this.language=e.language,this.state=e.state||"",this.type=e.type||"",this.sentAt=_n(e.sentAt),this.timeout=e.timeout||0,this.revokedAt=_n(e.revokedAt),this.acceptedAt=_n(e.acceptedAt)}get expiresAt(){return(0,K5A.default)(this.sentAt).add(this.timeout,"hours").toDate()}get isExpired(){return Date.now()-this.expiresAt.valueOf()>0}get joined(){}get lastAuthAt(){}travelModeIsEnabled(){return!1}};Kk.StatePending="P";Kk.StateAccepted="A";Kk.StateRevoked="R";Kk.TypeRegular="R";Kk.TypeGuest="G";var EE=class{constructor(e){this.state=e.state,this.shouldConfirm=e.shouldConfirm,this.inviteUuid=e.inviteUuid,this.userUuid=e.userUuid,this.vaultUuid=e.vaultUuid,this.vaultAcl=e.vaultAcl}};EE.StatePending="P";EE.StateAccepted="A";var AN=class{constructor(e){this.vaults=e}get shouldConfirm(){return this.vaults.every(e=>e.shouldConfirm)}},B5e=A=>{let e=A.vaults.filter(t=>t.state===EE.StateAccepted&&t.userUuid);return tu(ih(e,t=>t.userUuid),t=>new AN(t))};var bc=AA(OA());var E5e=sA`web-api/model/local_auth.ts`,x5e="localauthv2keykid",L5A="fool me twice",b5e="shame on you",N5A=bc.readonly(bc.type({email:bc.string,srpX:bc.string,muk:Ml,secretKey:Xe(bc.string),signInAddress:bc.string,userAuth:F1,throttleSecret:Xe(bc.readonly(bc.type({seed:bc.string,uuid:bc.string}))),deviceUuid:Xe(bc.string)}),"SerializableLocalAuthCredentials"),U5A=(A,e)=>{let t=A.throttleKeypair?xo(A.throttleKeypair.exportSeed()):void 0;return{signInAddress:A.signInAddress,userAuth:A.userAuth,email:A.email,srpX:A.srpX,muk:A.muk,secretKey:A.secretKey,throttleSecret:t&&e?{seed:t,uuid:e}:void 0,deviceUuid:A.deviceUuid}},Lk;(function(A){A.generate=async e=>{let{bearerToken:t,...r}=await A.generateVerifierAndToken();try{let a=await rO.deriveKey(r,t),j=xr.encode(U5A(e)),n=await a.encrypt(j);return{localAuth:{verifier:r,encCredentials:n},credentials:e,bearerToken:t}}catch(a){throw new Error("new LocalAuth failed: "+a)}},A.decryptCredentials=async(e,t)=>{try{let a=await(await rO.deriveKey(e.verifier,t)).decrypt(e.encCredentials),j=Ke(a,xr).unwrap();return Ke(j,N5A,{mode:"unsafe_report_only",file:E5e,func:sA`decryptCredentials`}).unwrap()}catch(r){throw new Error("credentials failed: "+r)}},A.generateVerifierAndToken=async()=>{let e=y5e();return{...await F5e(e),bearerToken:e}}})(Lk||(Lk={}));var y5e=()=>{let A=Kj(24);return Ye(A)},v5e=()=>{let A=Kj(16);return Ye(A)},F5e=async A=>{let e=v5e(),t=await x6A(A,e),r=Bb(t,L5A),a=Ye(r);return{salt:e,localHash:a}},rO;(function(A){let e=async(t,r)=>{try{let a=await x6A(r,t.salt),j=Bb(a,L5A),n=Ye(j);if(t.localHash!==n)throw new Error("Authentication failed, invalid bearer token")}catch(a){throw new Error("validateBearerToken failed: "+a)}};A.deriveKey=async(t,r)=>{try{await e(t,r);let a=await x6A(r,t.salt),j=Bb(a,b5e),n=aa(x5e);return await n.importRawKey(ba,j),n}catch(a){throw new Error("deriveKey failed: "+a)}}})(rO||(rO={}));var x6A=async(A,e)=>{try{let t=Je(e);return Lo.rawPbkdf2UsingPbes2Alg(Ih.PBES2_ALG_256,A,t,Ih.ITERATIONS_100_000)}catch(t){throw new Error("token PBKDF2 failed: "+t)}};var sO=AA(Pl()),lj=AA(OA());var tN=AA(OA());var nO={};Na(nO,{DEFAULT_KEY_ALG:()=>J5A,DEFAULT_SIGN_ALG:()=>G5e,JWK_ALG_ES256:()=>ap,JWK_CRV_ES256:()=>V5A,WC_IMPORT_ALG_ES256:()=>b6A,WC_SIGN_ALG_ES256:()=>y6A,_importPriKeyNative:()=>Z5A,_importPriKeySjcl:()=>tzA,_importPubKeyNative:()=>Q5A,_importPubKeySjcl:()=>rzA,_signNative:()=>AzA,_signSjcl:()=>azA,_verifyNative:()=>ezA,_verifySjcl:()=>jzA,generateJwkPair:()=>v6A,generateKeyPair:()=>Y5A,importPriKey:()=>G1,importPubKey:()=>aO,sign:()=>w1,verify:()=>jO});var pl=AA(vs());var ap="ES256",V5A="P-256",b6A={name:"ECDSA",namedCurve:"P-256"},y6A={name:"ECDSA",hash:{name:"SHA-256"}},X5A=A=>{if(A.kty==="EC"||A.crv===V5A)return b6A;throw new Error("Unexpected EC kty/crv: "+A.kty+", "+A.crv+".")},W5A=A=>{if(A!==ap)throw new Error("Unexpected algorithm identifier");return y6A},J5A=b6A,G5e=y6A,v6A=async A=>{let{priKey:e,pubKey:t}=await Y5A(A);return{priKey:e.jwk,pubKey:t.jwk}},Y5A=async A=>{let e=QA.supports.nativeEcdsa?w5e:q5e,t=async()=>e(A).then(P5e),r=5,a=Qx(r-1,()=>t),j=t();return rl(a,async(i,o)=>i.catch(async()=>o()),j).catch(i=>{throw new Error(`Failed to generate valid signing keys after ${r} attempts. <${Dn(i)}>`)})},G1=async A=>"imported"in A?A:QA.supports.nativeEcdsa?await Z5A(A):await tzA(A),aO=async A=>"imported"in A?A:QA.supports.nativeEcdsa?await Q5A(A):await rzA(A),w1=async({alg:A,key:e,signingInput:t})=>e.type==="native"?AzA({alg:A,key:e.imported,signingInput:t}):azA({alg:A,key:e.imported,signingInput:t}),jO=async({alg:A,key:e,signingInput:t,signature:r})=>e.type==="native"?ezA({alg:A,key:e.imported,signingInput:t,signature:r}):jzA({alg:A,key:e.imported,signingInput:t,signature:r}),w5e=async A=>{let e=["sign","verify"],r=J5A,a=A||lr(),{publicKey:j,privateKey:n}=await QA.subtle.generateKey(r,!0,e);if(!j||!n)throw new Error("Did not generate key pair properly");let[i,o]=await Promise.all([QA.exportKey(a,j,QA.JwkEcPubKey),QA.exportKey(a,n,QA.JwkEcPriKey)]);return{uuid:a,priKey:{type:"native",jwk:o,imported:n},pubKey:{type:"native",jwk:i,imported:j}}},Z5A=async A=>{let e=X5A(A),t=QA.correctJwkEcPriKey(A),r=await QA.subtle.importKey("jwk",t,e,!0,["sign"]).catch(()=>{throw new oe.ClientError(oe.ClientErrorCode.invalidSigningKeyPair,"Invalid private key")});return{type:"native",jwk:t,imported:r}},Q5A=async A=>{let e=X5A(A),t=QA.correctJwkEcPubKey(A),r=await QA.subtle.importKey("jwk",t,e,!0,["verify"]).catch(()=>{throw new oe.ClientError(oe.ClientErrorCode.invalidSigningKeyPair,"Invalid public key")});return{type:"native",jwk:t,imported:r}},AzA=async({alg:A,key:e,signingInput:t})=>{let r=await QA.subtle.sign(W5A(A),e,t);return new Uint8Array(r)},ezA=async({alg:A,key:e,signingInput:t,signature:r})=>{let a=await QA.subtle.verify(W5A(A),e,r,t);if(typeof a!="boolean")throw new TypeError("Unknown verification value: "+a);return a},q5e=async A=>{let e=A||lr(),{pub:t,sec:r}=pl.ecc.ecdsa.generateKeys(256,1),a=await I5e(t,e),j=await $5e(r,a);return{uuid:e,priKey:{type:"sjcl",jwk:j,imported:r},pubKey:{type:"sjcl",jwk:a,imported:t}}},tzA=async A=>{let e=QA.correctJwkEcPriKey(A),t=Je(e.d),r=pl.bn.fromBits(Rj(t)),a=new pl.ecc.ecdsa.secretKey(pl.ecc.curves.c256,r);return{type:"sjcl",jwk:e,imported:a}},rzA=async A=>{let e=QA.correctJwkEcPubKey(A),t=Je(e.x),r=Je(e.y),a=xo(t)+xo(r);if(a.length!==128)throw new Error("Invalid length for ECDSA point: "+a.length);let j=new pl.ecc.ecdsa.publicKey(pl.ecc.curves.c256,pl.codec.hex.toBits(a));return{type:"sjcl",jwk:e,imported:j}},azA=async({alg:A,key:e,signingInput:t})=>{if(A!==ap)throw new Error("Unsupported algorithm");let r=pl.hash.sha256.hash(Rj(t)),a=e.sign(r,1,!1);return new Uint8Array(pl.codec.bytes.fromBits(a))},jzA=async({alg:A,key:e,signingInput:t,signature:r})=>{if(A!==ap)throw new Error("Unsupported signature algorithm: "+A);let a=Rj(r),j=pl.hash.sha256.hash(Rj(t));return e.verify(j,a,!1)},$5e=async(A,e)=>{let t=new Uint8Array(pl.codec.bytes.fromBits(A.get()));return{...e,key_ops:["sign"],d:Ye(t)}},I5e=async(A,e)=>{let{x:t,y:r}=A.get();return{crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",kid:e,x:Ye(new Uint8Array(pl.codec.bytes.fromBits(t))),y:Ye(new Uint8Array(pl.codec.bytes.fromBits(r)))}},H5A=mt("I've got a golden ticket!"),P5e=async A=>{let e=await G1(A.priKey.jwk),t=await w1({alg:ap,key:e,signingInput:H5A}),r=await aO(A.pubKey.jwk);if(!await jO({alg:ap,key:r,signingInput:H5A,signature:t}))throw new Error("Signature failed verification");return A};var eN={};Na(eN,{DEFAULT_PARAMS:()=>C5e,JWK_ALG_RSA_OAEP:()=>ozA,JWK_ALG_RSA_OAEP_256:()=>nzA,WC_KEY_GEN_RSA_OAEP:()=>G6A,WC_KEY_GEN_RSA_OAEP_256:()=>izA,_decrypt:()=>uzA,_encrypt:()=>dzA,_importPriKey:()=>lzA,_importPubKey:()=>czA,decrypt:()=>$6A,decryptJweB:()=>O5e,encrypt:()=>q6A,encryptJweB:()=>T5e,generateKeyPair:()=>w6A});var S5e="model/rsa",F6A=Ne(S5e),nzA="RSA-OAEP-256",izA={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},ozA="RSA-OAEP",G6A={name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},C5e=G6A,w6A=async A=>F6A("generateKeyPair",async()=>{let e=await Ec.generate(A),t=e.pubKey.jwk,r=e.priKey.jwk;if(!t||!r)throw new Error("Missing plain text key pair.");return{pubKey:t,priKey:r}}),O5e=async(A,e)=>F6A("decrypt",async()=>(await new hE(A.kid,void 0,A).import()).decrypt(e)),T5e=async(A,e)=>F6A("encrypt",async()=>(await Bc(A)).encrypt(e)),_5e=A=>{switch(A){case nzA:{if(!gh.rsaOaep256)throw new oe.ClientError(oe.ClientErrorCode.noRsaOaep256Support,"Browser does not support RSA-OAEP-256");return izA}case ozA:return G6A}throw new Error("Unexpected alg: "+A)},szA=A=>{let{name:e,hash:t}=_5e(A);return{name:e,hash:t}},q6A=async(A,e)=>await dzA(await czA(A),e),$6A=async(A,e)=>await uzA(await lzA(A),e),lzA=async A=>{let e=szA(A.alg),t=B4(A);return $a.importKey("jwk",t,e,!0,["decrypt"])},czA=async A=>{let e=szA(A.alg),t=f4(A);return $a.importKey("jwk",t,e,!0,["encrypt"])},uzA=async(A,e)=>{let t=await $a.decrypt(A.algorithm,A,e);return new Uint8Array(t)},dzA=async(A,e)=>{if(e.length>256)throw new Error("Plaintext is too large.");let t=await $a.encrypt({name:A.algorithm.name},A,e);return new Uint8Array(t)};var iO=async(A,e)=>{let t="jwk"in A?A.jwk:"encryptionKeyPair"in A?A.encryptionKeyPair.pubKey:A;if(typeof t>"u")throw new TypeError("Missing JWK");if(t.kty!=="RSA")throw new Error(`Unexpected key type: ${t.kty}`);return D5e(t,e)},oO=async(A,e)=>{let t="jwk"in A?A.jwk:"encryptionKeyPair"in A?A.encryptionKeyPair.priKey:A;if(typeof t>"u")throw new TypeError("Missing JWK");if(t.kty!=="RSA")throw new Error(`Unexpected key type: ${t.kty}`);return z5e(t,e)},D5e=async(A,e)=>{let t={alg:A.alg,enc:ba,kid:A.kid,typ:"jose+json"},r=Ye(Ua(t)),{cek:a,ciphertext:j,tag:n,iv:i}=await a4A({enc:t.enc,plaintext:e,additionalData:mt(r)}),o=await q6A(A,a);return{protected:r,encrypted_key:Ye(o),iv:Ye(i),ciphertext:Ye(j),tag:Ye(n)}},z5e=async(A,e)=>{let t=Ke(e.protected,Of.pipe(QA.JweHeader)).unwrap();if(t.kid!==A.kid)throw new Error("Encrypted with incorrect key");if(t.alg!==A.alg)throw new Error("Key algorithm does not match encrypted data");let r=Je(e.encrypted_key),a=await $6A(A,r);return{content:await j4A({enc:t.enc,cek:a,iv:Je(e.iv),ciphertext:Je(e.ciphertext),additionalData:mt(e.protected),tag:Je(e.tag)}),header:t}};var rN=tN.readonly(tN.type({ePriKey:fh,sPriKey:Lf}),"KeysetEncKeyData"),I6A;(function(A){A.fromClassicKeyset=e=>{if(!e.ekeyPair.priKey.jwk||!e.ekeyPair.pubKey.jwk)throw new Error("Missing encryption key pair");if(!e.skeyPair?.priKey?.jwk||!e.skeyPair?.pubKey?.jwk)throw new Error("Missing signing key pair");return{uuid:e.uuid,sn:e.sn,spec:2,encryptionKeyPair:{priKey:e.ekeyPair.priKey.jwk,pubKey:e.ekeyPair.pubKey.jwk},signingKeyPair:{priKey:e.skeyPair.priKey.jwk,pubKey:e.skeyPair.pubKey.jwk}}},A.generate=async()=>{let e=lr(),[t,r]=await Promise.all([w6A(e),v6A(e)]);return{uuid:e,sn:0,spec:2,encryptionKeyPair:t,signingKeyPair:r}},A.encryptKeyset=async(e,t)=>{let r={ePriKey:t.encryptionKeyPair.priKey,sPriKey:t.signingKeyPair.priKey},a=await iO(e,xr.encode(r));return{uuid:t.uuid,sn:t.sn,spec:2,ePubKey:t.encryptionKeyPair.pubKey,sPubKey:t.signingKeyPair.pubKey,encKeyData:a}},A.decryptKeyset=async(e,t)=>{let{uuid:r,sn:a,spec:j,ePubKey:n,sPubKey:i,encKeyData:o}=t,s=await oO(e,o),{ePriKey:c,sPriKey:u}=Ke(s.content,xr.pipe(rN)).unwrap();return{uuid:r,sn:a,spec:j,encryptionKeyPair:{priKey:c,pubKey:n},signingKeyPair:{priKey:u,pubKey:i}}}})(I6A||(I6A={}));var aN=rN,WYt=lj.readonly(lj.type({email:lj.string,hexMuk:lj.string,srpComputedX:lj.readonly(lj.type({hexX:lj.string,userAuth:F1})),url:lj.string,userUuid:lj.string}),"Credentials"),mzA=lj.readonly(lj.type({signingKey:QA.JwkEcPriKeyDeprecated}),"ServiceAccountStreamingODValue"),P6A=lj.readonly(lj.strict({token:lj.string,sPriKey:QA.JwkEcPriKey})),M5e=lj.readonly(lj.type({token:lj.string,signingKey:QA.JwkEcPriKeyDeprecated})),jN=new lj.Type("ServiceAccountConnectObjectDataValue",P6A.is,A=>{let e=lj.union([M5e,P6A]).decode(A);if((0,sO.isRight)(e)){let t=e.right;return"signingKey"in t?(0,sO.right)({token:t.token,sPriKey:{...t.signingKey,key_ops:["sign"]}}):(0,sO.right)(t)}return e},P6A.encode),pzA=lj.readonly(lj.exact(lj.type({ePriKey:fh})),"DetailedVaultReportingObjectDataValue"),nN=lj.readonly(lj.exact(lj.type({ePriKey:CR})),"DetailedVaultReportingObjectDataValueV2"),kzA=lj.readonly(lj.type({creatorUuid:lj.string}),"ServiceAccountUserManagedObjectDataValue"),hzA=lj.readonly(lj.undefined,"EmptyObjectDataValue"),S6A=lj.union([aN,pzA,nN,jN,mzA,kzA,hzA],"ObjectDataType");var Aj=pt.fromHex,Gr={BelongsToTeamMembersGroup:Aj("000000001"),BelongsToOwnersGroup:Aj("000000002"),BelongsToAdminsGroup:Aj("000000004"),BelongsToRecoveryGroup:Aj("000000008"),BelongsToUserDefinedGroup:Aj("000000010"),BelongsToSecurityGroup:Aj("000000020"),BelongsToExternalAccountManagersGroup:Aj("000000040"),Recover:Aj("000000100"),ViewAdminConsole:Aj("000000200"),ViewActivities:Aj("000000400"),ViewTemplates:Aj("000000800"),ViewPeople:Aj("000001000"),AddPerson:Aj("000002000"),ChangePersonName:Aj("000004000"),SuspendPerson:Aj("000008000"),DeletePerson:Aj("000010000"),ViewVaults:Aj("000020000"),UsePersonalVault:Aj("000040000"),CreateVault:Aj("000080000"),ManageTemplates:Aj("000100000"),ManageVaults:Aj("000200000"),ViewGroups:Aj("000400000"),ManageGroups:Aj("000800000"),ViewTeamSettings:Aj("001000000"),ChangeTeamSettings:Aj("002000000"),ChangeTeamAttrs:Aj("004000000"),ChangeTeamDomain:Aj("008000000"),SuspendTeam:Aj("010000000"),DeleteTeam:Aj("020000000"),ViewBilling:Aj("040000000"),ManageBilling:Aj("080000000"),ProvisionPeople:Aj("10000000000"),BeginRecovery:Aj("80000000000"),ViewSecurityReports:Aj("20000000000"),BackofficeView:Aj("0100000000000"),BackofficeViewAdvanced:Aj("0200000000000"),BackofficeUpdate:Aj("0400000000000"),BackofficeChangeDomain:Aj("0800000000000"),BackofficeSuspendTeam:Aj("1000000000000"),BackofficeDeleteTeam:Aj("2000000000000")},R5e={Recovery:Gr.Recover,ViewAdminConsole:pt.combine([Gr.ViewAdminConsole,Gr.ViewActivities,Gr.ViewPeople,Gr.ViewVaults,Gr.ViewTemplates,Gr.ViewGroups,Gr.ViewTeamSettings]),ManagePeople1:pt.combine([Gr.AddPerson,Gr.DeletePerson]),ManagePeople2:Gr.ChangePersonName,SuspendPerson:Gr.SuspendPerson,CreateVault:Gr.CreateVault,ManageAllVaults:Gr.ManageVaults,ManageAllGroups:Gr.ManageGroups,ManageTeamSettings:pt.combine([Gr.ChangeTeamSettings,Gr.ChangeTeamAttrs,Gr.ChangeTeamDomain,Gr.ManageTemplates]),DeleteTeam:pt.combine([Gr.SuspendTeam,Gr.DeleteTeam]),ManageBilling:pt.combine([Gr.ViewBilling,Gr.ManageBilling]),ProvisionPeople:pt.combine([Gr.ProvisionPeople,Gr.BeginRecovery]),ViewSecurityReports:Gr.ViewSecurityReports},O6A=pt.combine([Gr.Recover,Gr.ManageGroups,Gr.ManageVaults]),C6A;(function(A){A.ViewConsole="view-console",A.Add="add",A.Unlink="unlink",A.Launch="launch",A.Edit="edit",A.FreezeUnfreeze="freeze-unfreeze"})(C6A||(C6A={}));var xE=pt.fromHex,fv={TravelMode:xE("000000001"),WelcomeMessageDismissed:xE("000000002"),ReviewBannerDismissed:xE("000000004"),TrashArchiveRenameAcknowledged:xE("000000008"),EKitDownloaded:xE("000000010"),TelemetryNotificationAcknowledged:xE("000000020"),TelemetryOptIn:xE("000000040"),ImportBannerDismissed:xE("000000080")};var St;(function(A){let e;(function(a){a.Registered="R",a.VerifiedIncomplete="V",a.PendingActivation="P",a.Active="A",a.Suspended="S",a.Deleted="D",a.RecoveryStarted="1",a.RecoveryAccepted="2",a.ProvisionPending="T",a.ProvisionStarted="3",a.ProvisionAccepted="4",a.ProvisionSuspended="5",a.Purging="X",a.Purged="Z",a.MustMigrateAuth="M"})(e=A.State||(A.State={})),A.AllStates=[A.State.Registered,A.State.VerifiedIncomplete,A.State.PendingActivation,A.State.Active,A.State.Suspended,A.State.Deleted,A.State.RecoveryStarted,A.State.RecoveryAccepted,A.State.ProvisionPending,A.State.ProvisionStarted,A.State.ProvisionAccepted,A.State.ProvisionSuspended,A.State.Purging,A.State.Purged,A.State.MustMigrateAuth];let t;(function(a){a.Regular="R",a.Guest="G",a.ServiceAccount="S",a.ExternalAccountManagement="E"})(t=A.Type||(A.Type={})),A.getInitials=pg.getInitials,A.compareByFullName=nl.strings(a=>a.name),A.isOwner=a=>{if(typeof a.combinedPermissions>"u")throw new TypeError("missing combinedPermissions");return pt.includes(a.combinedPermissions,Gr.BelongsToOwnersGroup)},A.isSecurity=a=>{if(typeof a.combinedPermissions>"u")throw new TypeError("missing combinedPermissions");return pt.includes(a.combinedPermissions,Gr.BelongsToSecurityGroup)},A.isAdmin=a=>{if(typeof a.combinedPermissions>"u")throw new TypeError("missing combinedPermissions");return pt.includes(a.combinedPermissions,Gr.BelongsToAdminsGroup)},A.isProvisionManager=a=>{if(typeof a.combinedPermissions>"u")throw new TypeError("missing combinedPermissions");return pt.includes(a.combinedPermissions,Gr.ProvisionPeople)&&!A.isOwner(a)&&!A.isAdmin(a)},A.isGuest=a=>a.type===t.Guest,A.isMember=a=>a.type===t.Regular,A.isExternalAccountManagement=a=>a.type===t.ExternalAccountManagement,A.isServiceAccount=a=>a.type===t.ServiceAccount,A.isActive=a=>a.state===e.Active,A.isSuspended=a=>a.state===e.Suspended,A.isProvisionStarted=a=>a.state===e.ProvisionStarted,A.isProvisionSuspended=a=>a.state===e.ProvisionSuspended,A.isEnrolled=a=>ij([e.Active,e.ProvisionPending,e.ProvisionStarted,e.ProvisionSuspended,e.Suspended,e.RecoveryStarted,e.RecoveryAccepted],a.state),A.canBeRecovered=a=>a.state===e.Active&&(a.type===t.Regular||a.type===t.Guest),A.canBeDeleted=a=>{switch(a.state){case e.Suspended:case e.PendingActivation:case e.ProvisionPending:case e.ProvisionStarted:case e.ProvisionAccepted:case e.ProvisionSuspended:return!0;case e.Active:return a.type===t.ServiceAccount;default:return!1}},A.canHaveNameChanged=a=>ij([e.Active,e.PendingActivation,e.RecoveryStarted,e.RecoveryAccepted,e.ProvisionPending,e.ProvisionStarted,e.ProvisionAccepted,e.ProvisionSuspended],a.state),A.canUseTravelMode=a=>(a.state===e.Active||a.state===e.RecoveryStarted||a.state===e.RecoveryAccepted)&&(a.type===t.Regular||a.type===t.Guest),A.managesSomeGroup=a=>!a||!a.groupMemberships||a.groupMemberships.length===0?!1:A.isOwner(a)||A.isAdmin(a)||a.hasPermission(Gr.ManageGroups)||a.groupMemberships.some(j=>j.role===Ha.Role.Manager),A.canHaveGroupsManaged=a=>!A.isGuest(a)&&A.isEnrolled(a),A.canHaveVaultsManaged=A.isEnrolled,A.canReceivePackage=a=>A.isMember(a)&&ij([A.State.PendingActivation,A.State.Active,A.State.Suspended,A.State.RecoveryStarted,A.State.RecoveryAccepted,A.State.ProvisionAccepted],a.state),A.canCreateReportOn=a=>ij([e.Registered,e.Active,e.Suspended,e.Deleted,e.RecoveryStarted,e.RecoveryAccepted,e.ProvisionPending,e.ProvisionStarted,e.ProvisionAccepted,e.ProvisionSuspended],a.state);let r;(function(a){a.Recoverable="Recoverable",a.CanHaveGroupsManaged="CanHaveGroupsManaged",a.CanUseTravelMode="CanUseTravelMode",a.CanReceivePackage="CanReceivePackage",a.CanCreateReportOn="CanCreateReportOn"})(r=A.FilterTypes||(A.FilterTypes={})),A.Filters={[r.Recoverable]:{states:[A.State.Active],types:[A.Type.Regular,A.Type.Guest]},[r.CanHaveGroupsManaged]:{states:[A.State.Active,A.State.RecoveryAccepted,A.State.RecoveryStarted,A.State.Suspended],types:[A.Type.Regular]},[r.CanUseTravelMode]:{states:[e.Active,e.RecoveryStarted,e.RecoveryAccepted],types:[t.Regular,t.Guest]},[r.CanReceivePackage]:{states:[A.State.PendingActivation,A.State.Active,A.State.Suspended,A.State.RecoveryStarted,A.State.RecoveryAccepted,A.State.ProvisionAccepted],types:[t.Regular]},[r.CanCreateReportOn]:{states:[A.State.Registered,A.State.Active,A.State.Suspended,A.State.Deleted,A.State.RecoveryStarted,A.State.RecoveryAccepted,A.State.ProvisionPending,A.State.ProvisionStarted,A.State.ProvisionAccepted,A.State.ProvisionSuspended],types:[A.Type.Regular,A.Type.Guest]}}})(St||(St={}));var iN=Wn,K5e=ud,Dj=class A{constructor(e){this.accessorType="user",this.uuid=e.uuid||"",this.name=e.name||"",this.state=e.state||"",this.type=e.type||"",this.attrVersion=e.attrVersion||0,this.keysetVersion=e.keysetVersion||0,this.avatar=e.avatar||"",this.language=e.language||"en",this.combinedPermissions=e.combinedPermissions||pt.empty(),this.newsletterPrefs=e.newsletterPrefs||0,this.preferences=e.preferences||pt.empty(),this.externalGUID=e.externalGUID,this.hasMFAEnabled=e.hasMFAEnabled,this.proposedEmail=e.proposedEmail,this.email=e.email||"",this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.lastAuthAt=e.lastAuthAt,this.csToken=e.csToken,this.pubKey=void 0,this.activeKeyset=void 0,this.archivedKeysets=[],this._groupMemberships=[],this._directVaultAccessMap={},this._groupVaultAccessMap={},this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0,this._attrMask=0,this.devices=[],this.personalItemsCount=void 0}hasAttrMask(e){return(this._attrMask&e)===e}addAttrMask(e){this._attrMask|=e}isOwner(){return this.hasPermission(Gr.BelongsToOwnersGroup)}setAttrs(e){return this.name=e.name||"",this.state=e.state||"",this.type=e.type||"",this.attrVersion=e.attrVersion||0,this.keysetVersion=e.keysetVersion||0,this.avatar=e.avatar||"",this.language=e.language||"en",this.combinedPermissions=e.combinedPermissions||pt.empty(),this.newsletterPrefs=e.newsletterPrefs||0,this.preferences=e.preferences||pt.empty(),this.externalGUID=e.externalGUID,this.hasMFAEnabled=e.hasMFAEnabled,this.proposedEmail=e.proposedEmail,this.email=e.email||"",this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.lastAuthAt=e.lastAuthAt,this.csToken=e.csToken,this}setActiveKeyset(e){e?(this.activeKeyset=e,this.pubKey=e.ekeyPair.pubKey):(this.activeKeyset=void 0,this.pubKey=void 0)}hasPermission(...e){return pt.includes(this.combinedPermissions,pt.combine(e))}hasPreference(...e){return this.preferences?pt.includes(this.preferences,pt.combine(e)):!1}async generateNewKeyset(){return Promise.reject(new Error("Not supported"))}get joined(){return this.createdAt}get initials(){return this._initials||(this._initials=pg.getInitials(this)),this._initials}clearCachedInitials(){this._initials=""}travelModeIsEnabled(){return this.preferences!==void 0&&pt.includes(this.preferences,fv.TravelMode)}getAccessorVaultUuids(){return tu(this._directVaultAccessMap,()=>!0)}getVaultUuids(){let e=Cz(vn(this._directVaultAccessMap),vn(this._groupVaultAccessMap)),t={};return e.forEach(r=>{t[r]=!0}),t}getVaultACLs(){if(!this._combinedVaultACLs){let e=Cz(vn(this._directVaultAccessMap),vn(this._groupVaultAccessMap)),t={};e.forEach(r=>{let a=this._directVaultAccessMap[r],j=a?a.acl:0,i=iN(this._groupVaultAccessMap[r]||{}).reduce((o,s)=>o|s.acl,j);t[r]=i}),this._combinedVaultACLs=t}return this._combinedVaultACLs}hasVaultACL(e,t,r){return r&&AO(t)?!1:((this.getVaultACLs()[e.uuid]||0)&t)===t}getGroupUuids(){let e={};for(let t of this._groupMemberships)e[t.groupUuid]=!0;return e}getGroupMembership(e){return _i(this._groupMemberships,t=>t.groupUuid===e.uuid)}setState(e){this.state=e}get isActive(){return this.state===St.State.Active}get isEnrolled(){switch(this.state){case St.State.Active:case St.State.RecoveryAccepted:case St.State.RecoveryStarted:case St.State.Suspended:return!0;default:return!1}}get isMember(){return this.type===St.Type.Regular}get isGuest(){return this.type===St.Type.Guest}get isExternalAccountManagement(){return this.type===St.Type.ExternalAccountManagement}vaultAccessForVault(e){let t=uI(this._directVaultAccessMap,e.uuid,void 0),r=iN(this._groupVaultAccessMap[e.uuid]||{}),a=t?[t,...r]:r;if(!a||a.length===0)throw new Error("Vault access for this vault has not been loaded.");return a}getDirectVaultAccessMap(){return eu(this._directVaultAccessMap)}getGroupVaultAccessMap(){return eu(this._groupVaultAccessMap)}getUnsafeVaultAccessList(){if(!this._fullVaultAccessList){let e=iN(this._directVaultAccessMap),t=K5e(this._groupVaultAccessMap,r=>iN(r));this._fullVaultAccessList=e.concat(t)}return this._fullVaultAccessList}get vaultAccessList(){if(!this.hasAttrMask(A.Attr.VaultAccess))throw new Error("Vault access list has not been loaded");return eu(this.getUnsafeVaultAccessList())}set vaultAccessList(e){let[t,r]=EI(e,a=>a.accessorType==="group");this._directVaultAccessMap=gn(r,a=>a.vaultUuid),this._groupVaultAccessMap=N5e(t),this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0}setVaultAccess(e){e.accessorType==="group"?this._groupVaultAccessMap=L5e(this._groupVaultAccessMap,e):this._directVaultAccessMap={...this._directVaultAccessMap,[e.vaultUuid]:e},this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0}removeVaultAccess(e){this._directVaultAccessMap=tl(this._directVaultAccessMap,e.uuid),this._groupVaultAccessMap=tl(this._groupVaultAccessMap,e.uuid),this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0}get unsafeGroupMemberships(){return this._groupMemberships}get groupMemberships(){return eu(this._groupMemberships)}set groupMemberships(e){this._groupMemberships=e.slice(),this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0}pushGroupMembership(e){this._groupMemberships.push(e),this._fullVaultAccessList=void 0,this._combinedVaultACLs=void 0}markTraveling(e){e?this.preferences=pt.enable(this.preferences,fv.TravelMode):this.preferences=pt.disable(this.preferences,fv.TravelMode),this.updatedAt=new Date,this.attrVersion++}compare(e){return this.name.localeCompare(e.name)}toString(){return"[object Person]"}};Dj.UUIDNewlyCreatedProvisionUser="ANEWLYCREATEDTRANSFERUSER2";Dj.UUIDNewlyCreatedServiceAccount="NEWLYCREATEDSERVICEACCOUNT";Dj.Attr={None:0,PubKey:1,Keysets:2,Groups:4,VaultAccess:8,Devices:16,PersonalItemsCount:32,ProposedEmailChange:64,All:255};var L5e=(A,e)=>{let t=e.vaultUuid,r=e.accessorUuid;return{...A,[t]:{...A[t],[r]:e}}},N5e=A=>{let e={};return A.forEach(t=>{let r=t.vaultUuid,a=t.accessorUuid,j=e[r]||{};e[r]=j,j[a]=t}),e};var yc=AA(OA());var w6=pt.fromHex,Bv={Offline:w6("000000001"),Web:w6("000000002"),Mac:w6("000000004"),Windows:w6("000000008"),IOS:w6("000000010"),Android:w6("000000020"),CLI:w6("000000040"),Extension:w6("000000080"),SCIM:w6("000000100"),CSExtension:w6("000000200"),Linux:w6("000000400"),Connect:w6("000000800"),ServiceAccount:w6("000001000"),All:w6("0FFFFFFFF"),Travel:w6("100000000")};var gzA=sA`web-api/model/vault.ts`,T6A=fj(gzA.str),lO=(A,e=!1)=>t=>{if(typeof t=="string")return t;let r=typeof t,a=`Unexpected vault attr type. Expected ${A} to be string, received ${r}.`;return!e&&(r==="number"||r==="boolean")?(uh()&&console.warn(`${a} Converting ${A} to string.`),String(t)):(uh()&&console.warn(`${a} Setting ${A} to empty string.`),"")},oN=yc.readonly(yc.type({name:m6(yc.string,lO("name")),type:m6(yc.string,lO("type")),desc:m6(yc.string,lO("desc")),uuid:m6(yc.string,lO("uuid")),avatar:m6(yc.string,lO("avatar",!0)),defaultAcl:m6(yc.union([pt.codec,yc.undefined]),A=>{uh()&&console.warn(`Unexpected vault attr type. Expected defaultAcl to be number, received ${typeof A}. Setting defaultAcl to undefined.`)})},"VaultAttrs")),_e=class A{constructor(e){this.generateNewKey=async()=>{this.uuid||(this.uuid=lr());let t=this.activeKey,r=aa();return await r.generate(ba),r.sn=t?(t.sn||1)+1:1,this.activeKey=r,this.keys.unshift(r),await this.encryptAttrs(),this},this.revokeAccess=async t=>Promise.resolve().then(()=>{this.clearCachedAccessInfo(),this.accessList=Zp(this.accessList,r=>r.accessorUuid!==t.uuid),t.accessorType==="user"?this.previewUsers=Zp(this.previewUsers,r=>r.uuid!==t.uuid):this.previewGroups=Zp(this.previewGroups,r=>r.uuid!==t.uuid),t.removeVaultAccess(this)}),this.getAttrs=()=>({uuid:this.uuid,name:this.name,type:this.type,desc:this.desc,avatar:this.avatar,defaultAcl:this.defaultAcl}),this.encryptAttrs=async()=>Promise.resolve().then(async()=>{if(!this.activeKey)throw new Error("Missing active key");return this.uuid||(this.uuid=lr()),this.activeKey.encrypt(Ua(this.getAttrs())).then(t=>(this.encAttrs=t,this))}).catch(T6A("encryptAttrs")),this.encrypt=async t=>Promise.resolve().then(async()=>{if(!this.activeKey)throw new Error("Missing active key");return this.activeKey.encrypt(t)}).catch(T6A("encrypt")),this.decrypt=async t=>Promise.resolve().then(async()=>{if(!this.activeKey)throw new Error("Missing active key");return this.activeKey.decrypt(t)}).catch(T6A("decrypt")),this.decryptAttrs=async t=>{let r=await this.activeKey?.decrypt(t).then(a=>{let j=Ke(a,xr).unwrap();return Ke(j,oN,{mode:"unsafe_report_only",file:gzA,func:sA`decryptAttrs`}).unwrap()}).catch(()=>{});return r?.uuid||(r={uuid:this.uuid,name:"Corrupted vault",type:"",desc:"Corrupted vault",avatar:"",defaultAcl:void 0}),this.uuid=r.uuid,this.name=r.name,this.type=r.type,this.desc=r.desc,this.avatar=r.avatar,this.defaultAcl=r.defaultAcl,this},this.uuid=e.uuid?e.uuid:lr(),this.name=typeof e.name=="string"?e.name:"",this.type=e.type,this.desc=typeof e.desc=="string"?e.desc:"",this.defaultAcl=e.defaultAcl,this.avatar=e.avatar||"",this.leaseTimeout=0,this.clientAccess=Bv.All,this.createdAt=new Date,this.contentVersion=1,this.activeItemCount=0,this.keys=[],this.accessList=[],this.itemTemplates=[],this.previewGroups=[],this.previewUsers=[],this._attrMask=0,this.attrVersion=1}hasAttrMask(e){return pt.equals(e,A.Attr.None)?pt.equals(this._attrMask,A.Attr.None):pt.includes(this._attrMask,e)}addAttrMask(e){this._attrMask=pt.combine([this._attrMask,e])}get isPersonal(){return this.type===A.TypePersonal}get isSystem(){return this.type===A.TypeSystem}get isGeneratedPasswords(){return this.type===A.TypeGeneratedPasswords}get isManaged(){return this.type===A.TypeManagedApplications}hasClientAccess(...e){return this.clientAccess?pt.includes(this.clientAccess,pt.combine(e)):!1}getPeopleUuids(){if(!this._userUuidMap){let e={};for(let t of this.accessList)t.accessorType!=="group"&&(e[t.accessorUuid]=!0);this._userUuidMap=e}return this._userUuidMap}getGroupUuids(){if(!this._groupUuidMap){let e={};for(let t of this.accessList)t.accessorType==="group"&&(e[t.accessorUuid]=!0);this._groupUuidMap=e}return this._groupUuidMap}clearCachedAccessInfo(){this._userUuidMap=void 0,this._groupUuidMap=void 0}setCombinedAcl(e){this._combinedAcl=e,this.addAttrMask(A.Attr.CombinedAccess)}getCombinedAcl(){return this._combinedAcl}setAccessList(e){this.accessList=e,this.clearCachedAccessInfo();let t=[];for(let a of e)a.vaultKey&&(a.vaultKey.sn=a.vaultKeySN,t.push(a.vaultKey));if(t.length===0){console.warn("No vault keys in access list.");return}let r=t.sort((a,j)=>typeof a.sn>"u"?1:typeof j.sn>"u"?-1:j.sn-a.sn);this.activeKey=r[0]}clearAccessList(){this.accessList=[],this.clearCachedAccessInfo()}toString(){return"[object Vault]"}};_e.StateActive="A";_e.StateDeleted="D";_e.TypePersonal="P";_e.TypeEveryone="E";_e.TypeUserCreated="U";_e.TypeProvision="T";_e.TypeSystem="S";_e.TypeGeneratedPasswords="G";_e.TypeReplacement="R";_e.TypeManagedApplications="M";_e.TypeClientPlaceholder="-";_e.DefaultDescMarker="GYkuBJsjEZmMUuiP";_e.Attr={None:0,Accessors:1,ArchivedKeys:2,ItemCategories:4,CombinedAccess:8,All:255};(function(A){A.compare=S4((e,t)=>e.type===A.TypePersonal?-1:t.type===A.TypePersonal||e.type===A.TypeEveryone?1:t.type===A.TypeEveryone?-1:0,nl.strings(e=>e.name),nl.dates(e=>e.createdAt),nl.strings(e=>e.uuid)),A.activeUserHasAcl=(e,t)=>{let r=e.getCombinedAcl();if(typeof r>"u")throw new TypeError("combinedPermissions not found on vault");return pt.includes(r,t)}})(_e||(_e={}));var U5e=1,ds=class extends Dj{constructor(e){super(e),this.generateNewKeyset=async()=>{let t=await zn.generateWithSigningKeys();if(this.activeKeyset){t.sn=this.activeKeyset.sn+1;let r=await this.activeKeyset.encryptWithKey(t.symKey);this.archivedKeysets=[r,...this.archivedKeysets]}else t.sn=1;return this.setActiveKeyset(t),this},this.encryptActiveKeysetWithMasterKey=async()=>{if(!this.activeKeyset)throw new Error("Missing activeKeyset");if(!this.masterKey)throw new Error("Missing masterKey");return this.activeKeyset.encryptWithKey(this.masterKey)},this.getCredentials=()=>{if(!this.email)throw new Error("Missing email");if(!this.password)throw new Error("Missing password");if(!this.secretKey)throw new Error("Missing Secret Key");return{email:this.email,password:this.password,secretKey:this.secretKey}},this.canManageVault=t=>t?_e.activeUserHasAcl(t,pv):!1,this.password=e.password,this.secretKey=e.secretKey,this.meta=e.meta}};var CA=AA(OA());var sN=AA(al());var qZt=30,dt;(function(A){A.LoginUuid="001",A.CreditCardUuid="002",A.SecureNoteUuid="003",A.IdentityUuid="004",A.PasswordUuid="005",A.DocumentUuid="006",A.SoftwareUuid="100",A.BankAccountUuid="101",A.DatabaseUuid="102",A.DriverLicenseUuid="103",A.OutdoorLicenseUuid="104",A.MembershipUuid="105",A.PassportUuid="106",A.RewardsUuid="107",A.SocialSecurityNumberUuid="108",A.RouterUuid="109",A.ServerUuid="110",A.EmailUuid="111",A.ApiCredentialUuid="112",A.MedicalRecordUuid="113",A.SshKeyUuid="114",A.CryptoWalletUuid="115",A.SnippetUuid="116",A.InboxKeysUuid="901",A.ManagedApplicationUuid="912",A.sort=e=>{let t={};t[A.LoginUuid]=1,t[A.SecureNoteUuid]=2,t[A.CreditCardUuid]=3,t[A.IdentityUuid]=4,t[A.PasswordUuid]=5,t[A.DocumentUuid]=6;let r=[],a=[];return e.forEach(j=>{t[j.uuid]?r.push(j):a.push(j)}),r.sort((j,n)=>{let i=t[j.uuid]||10,o=t[n.uuid]||10;return i-o}),a.sort((j,n)=>j.singularName.localeCompare(n.singularName)),r.concat(a)},A.StateActive="A",A.StateHidden="H",A.StateDeleted="D"})(dt||(dt={}));var fzA=sA`model/vault_item`,H5e=fj(fzA.str),cO;(function(A){A[A.FANTASTIC=100]="FANTASTIC",A[A.EXCELLENT=85]="EXCELLENT",A[A.VERY_GOOD=73]="VERY_GOOD",A[A.GOOD=60]="GOOD",A[A.FAIR=53]="FAIR",A[A.WEAK=44]="WEAK",A[A.TERRIBLE=26]="TERRIBLE"})(cO||(cO={}));var uO;(function(A){A[A.FANTASTIC=75]="FANTASTIC",A[A.EXCELLENT=64]="EXCELLENT",A[A.VERY_GOOD=55]="VERY_GOOD",A[A.GOOD=45]="GOOD",A[A.FAIR=40]="FAIR",A[A.WEAK=33]="WEAK",A[A.TERRIBLE=20]="TERRIBLE"})(uO||(uO={}));var GA=class A{constructor(e,t,r){this.addToPasswordHistory=a=>{this.details.passwordHistory||(this.details.passwordHistory=[]);let j={time:Math.floor(Date.now()/1e3),value:a};this.details.passwordHistory.push(j)},this.getSortedPasswordHistory=()=>!this.details||!this.details.passwordHistory?[]:this.details.passwordHistory.slice().sort((a,j)=>typeof a.time=="number"&&typeof j.time=="number"?j.time-a.time:typeof a.time=="number"?-1:typeof j.time=="number"?1:0),this.parseTemplate=a=>{if(!a||(this.templateUuid=a.uuid,!a.attrs||!a.attrs.contents))return;let j=a.attrs.contents,{localizedStrings:n}=a.attrs;for(let i of j){let o=i.fields,s=[];if(o)for(let c of o){let u="";c.type===A.FieldType.Address&&(u={street:"",city:"",country:"",zip:"",state:""}),(c.type===A.FieldType.MonthYear||c.type===A.FieldType.Date)&&(u=void 0),s.push({k:c.type,n:c.name,v:u,t:c.title||n[c.name]||"",a:c.attributes,inputTraits:c.inputTraits,m:c.menuitems})}this.details.sections.push({name:i.set,title:i.title||n["set."+i.set]||"",fields:s})}},this.decryptWithKey=async(a,j,n)=>{this.encOverview=j,this.encDetails=n;try{let i={mode:"unsafe_report_only",file:sA`web-api/model/vault_item.ts`,func:sA`decryptWithKey`,errorClass:sA`VaultItemValidationError`,context:sA`Error decoding decrypted bytes for vault/${NA(this.vault.uuid)}/item/${NA(this.uuid)}: `},o=a.decrypt(j).then(c=>{let u=Ke(c,xr).unwrap(),p=Ke(u,lN,i);this.overview=p.unwrap()}),s=n&&a.decrypt(n).then(c=>{let u=Ke(c,xr).unwrap(),p=Ke(u,cN,i);this.details=p.unwrap()});await Promise.all(vj([o,s]))}catch(i){console.error("Item is corrupt:",this.vault.uuid,this.uuid,i),this.overview={title:"Corrupted Item",url:"",ainfo:"",ps:0,pbe:0,pgrng:!1}}return(this.details===null||typeof this.details!="object"||this.overview===null||typeof this.overview!="object")&&(this.overview={title:"Corrupted Item",url:"",ainfo:"",ps:0,pbe:0,pgrng:!1},this.details={sections:[]},console.error("Item is corrupt:",this.vault.uuid,this.uuid)),Array.isArray(this.details.sections)||(this.details.sections=[]),this},this.decrypt=async(a,j)=>{if(!this.vault.activeKey)throw new Error("Missing vault's active key");return this.decryptWithKey(this.vault.activeKey,a,j)},this.encryptWithKey=async a=>Promise.resolve().then(async()=>{if(!this.details)throw new Error("Missing item details");return Promise.all([a.encrypt(xr.pipe(lN).encode(this.overview)),a.encrypt(xr.pipe(cN).encode(this.details))])}).catch(H5e("encryptWithKey")),this.encrypt=async()=>{let a=this.vault.activeKey;if(!a)throw new Error("Missing vault's active key");let[j,n]=await this.encryptWithKey(a);return this.encryptedBy=a.uuid,this.encOverview=j,this.encDetails=n,this},this.clone=()=>{let a=mI(this),j=new A(this.vault);return j.overview=a.overview,j.details=a.details,j.faveIndex=a.faveIndex,j.state=a.state,j.templateUuid=a.templateUuid,j.createdAt=a.createdAt,j.updatedAt=a.updatedAt,j},this.exportToJson=()=>{let a={overview:this.overview,details:this.details,createdAt:this.createdAt,updatedAt:this.updatedAt,faveIndex:this.faveIndex||0,trashed:this.state,templateUuid:this.templateUuid,uuid:this.uuid};return Fs.pipe(_6A).encode(a)},this.vault=e,this.uuid=r||lr(),this.itemVersion=0,this.createdAt=new Date,this.updatedAt=this.createdAt,this.state=A.ItemState.Active,this.overview={title:"",url:"",ainfo:"",ps:0,pbe:0,pgrng:!1,URLs:[]},this.details={sections:[],fields:[]},this.isNewItem=!1,this.isRestoredItem=!1,this.parseTemplate(t)}get title(){return this.overview.title||""}set title(e){this.overview.title=e}get subtitle(){return this.templateUuid===dt.SecureNoteUuid&&this.notes?this.notes.slice(0,80).split(`
`)[0]||"":typeof this.overview.ainfo!="string"?"":this.overview.ainfo||""}get notes(){return this.details&&this.details.notesPlain||""}set notes(e){this.details.notesPlain=e,this.templateUuid===dt.SecureNoteUuid&&(this.overview.ainfo=e.slice(0,80).split(`
`)[0]||"")}get tags(){return this.overview.tags||[]}set tags(e){this.overview.tags=e.filter(t=>t.length>0)||[]}addTag(e){let t=this.tags||[];e.length===0||t.includes(e)||(this.tags=[...t,e])}removeTag(e){let t=this.tags||[];this.tags=t.filter(r=>r!==e)}get webFormFields(){return this.details?this.details.fields||[]:[]}set webFormFields(e){this.details.fields=e}get username(){if(!(!this.details||!this.details.fields))return _i(this.details.fields,e=>e.designation==="username")}set username(e){e&&(this.details&&this.details.fields?this.details.fields.push(e):this.details.fields=[e])}get url(){return this.overview&&this.overview.url||""}set url(e){this.overview.url=e;let t={l:"",u:e};this.overview.URLs?this.overview.URLs=[...this.overview.URLs,t]:this.overview.URLs=[t]}setUsername(e){this.username?this.username.value=e:this.username={name:"username",value:e,type:"T",designation:"username"},this.overview.ainfo=e}getPassword(){if(this.details){if(this.templateUuid===dt.LoginUuid){let e=_i(this.details.fields,t=>t.designation==="password");return e?e.value:""}else if(this.templateUuid===dt.PasswordUuid)return this.details.password}}setPassword(e,t=!1,r=0){if(!this.details||this.templateUuid!==dt.LoginUuid&&this.templateUuid!==dt.PasswordUuid)return;let a=this.getPassword();a&&a!==e&&this.addToPasswordHistory(a),this.templateUuid===dt.LoginUuid?this.details.fields=W5e(n=>n.designation==="password",{name:"password",value:e,type:"P",designation:"password"},this.details.fields):this.templateUuid===dt.PasswordUuid&&(this.details.password=e),this.overview.pbe=t?$z(r,6):0,this.overview.pgrng=t;let j=t?A.getPasswordStrengthFromEntropy(r):CG(e,this.username?this.username.value:"");this.overview.ps=$z(j,6)}get passwordUpdatedAt(){let e=this.getSortedPasswordHistory()[0];return e?e.time:typeof this.getPassword()=="string"&&this.createdAt?Math.floor(this.createdAt.getTime()/1e3):0}toString(){return"[object VaultItem]"}};(function(A){A.SectionFieldAdditionalAttributes=CA.partial({guarded:CA.string,clipboardFilter:CA.string,multiline:CA.string,generate:CA.string,placeholder:CA.string,provider:CA.type({type:CA.literal("fastmail"),data:CA.type({aliasId:CA.string,accountId:CA.string})},"EmailProvider"),sshKeyAttributes:CA.type({fingerprint:CA.string,keyType:CA.intersection([CA.type({t:CA.string},"required"),CA.partial({c:CA.number},"partial")]),privateKey:CA.string,publicKey:CA.string})},"SectionFieldAdditionalAttributes"),A.SectionFieldInputTraits=CA.partial({keyboard:CA.string,autocorrection:CA.string,autocapitalization:CA.string},"SectionFieldInputTraits");let e=new CA.Type("GeneratedString",p=>CA.string.is(p)&&p.length>0,(p,h)=>{let f=CA.string.validate(p??"",h);return f._tag==="Left"?f:CA.success(f.right||lr())},CA.string.encode);A.SectionField=CA.intersection([CA.type({k:ke(CA.string,"string"),n:e,v:CA.unknown,t:ke(CA.string,"")},"required"),CA.partial({a:A.SectionFieldAdditionalAttributes,inputTraits:Xe(A.SectionFieldInputTraits),m:CA.readonlyArray(CA.string)},"partial")],"SectionField"),A.Section=CA.type({name:ke(CA.string,""),title:ke(CA.string,""),fields:Xe(CA.array(A.SectionField))},"Section"),A.WebFormField=CA.intersection([CA.type({value:ke(CA.string,""),type:ke(CA.string,"T")},"required"),CA.partial({designation:CA.string,id:CA.string,name:CA.string},"partial")],"WebFormField"),A.PreviouslyUsedPassword=CA.type({time:Xe(CA.number),value:m6(CA.string,()=>"")},"PreviouslyUsedPassword"),A.DocumentAttributes=CA.intersection([CA.type({fileName:CA.string,documentId:ke(CA.string,""),unencryptedSize:CA.number,encryptedSize:CA.number,integrityHash:CA.string,encryptionKey:QA.JwkSymKeyOptionalKid,nonce:CA.string},"required"),CA.partial({signingKey:QA.JwkSymKey},"partial")],"DocumentAttributes"),A.FileAttributes=CA.intersection([CA.type({fileId:ke(CA.string,""),encryptionKey:QA.JwkSymKey,nonce:CA.string},"required"),CA.partial({signingKey:QA.JwkSymKey},"partial")],"FileAttributes"),A.UrlField=CA.intersection([CA.type({l:ke(CA.string,""),u:ke(CA.string,"")},"required"),CA.partial({m:ke(CA.string,"default")},"partial")]),A.PasskeyPrfOverview=CA.type({numCreds:CA.number},"PasskeyPrfOverview"),A.PasskeyOverview=CA.type({credentialId:CA.string,rpId:Xe(CA.string),userHandle:Xe(CA.string),prf:Xe(A.PasskeyPrfOverview)},"PasskeyOverview"),A.GeoLocation=CA.type({lat:CA.number,lon:CA.number},"GeoLocation"),A.ItemLocation=CA.type({k:CA.string,n:CA.string,v:CA.union([A.GeoLocation,CA.undefined,CA.null])},"ItemLocation");let t;(function(p){p.Amazon="amazon",p.Apple="apple",p.Discord="discord",p.Facebook="facebook",p.Github="github",p.Google="google",p.Microsoft="microsoft",p.Okta="okta",p.Slack="slack",p.Twitter="twitter"})(t=A.SsoLoginProvider||(A.SsoLoginProvider={})),A.SsoLoginItemReference=CA.type({itemUuid:CA.string,vaultUuid:CA.string,accountUuid:CA.string},"SsoLoginItemReference"),A.SsoLoginField=CA.intersection([CA.type({provider:CA.string}),CA.partial({item:A.SsoLoginItemReference})],"SsoFieldData"),A.ManagedApplicationField=CA.type({applicationUuid:CA.string,email:CA.string,loginInitiationUrl:CA.string}),A.Icons=CA.type({detail:Xe(A.FileAttributes)},"Icons"),A.WatchtowerExclusions=CA.type({compromised:CA.boolean,vulnerable:CA.boolean,reused:CA.boolean,weak:CA.boolean,unsecured:CA.boolean,inactiveMfa:CA.boolean,expiring:CA.boolean},"WatchtowerExclusions"),A.PasskeyPrf=CA.type({alg:CA.literal("HMAC_SHA256"),credWithUv:CA.string},"PasskeyPrf");let r=CA.type({type:CA.literal("webauthn"),createdAt:CA.number,privateKey:CA.string,userHandle:CA.string,prf:Xe(A.PasskeyPrf)},"WebAuthnPasskey"),a=CA.type({type:CA.literal("passage"),createdAt:CA.number,privateKey:CA.string,userHandle:CA.string,passageIdentifier:CA.string},"PassagePasskey");A.UnknownPasskey=CA.intersection([CA.type({type:CA.string,createdAt:CA.number},"UnknownPasskey"),CA.UnknownRecord]),A.Passkey=CA.union([r,a],"Passkey"),A.isKnownPasskey=p=>!!p&&(p.type==="webauthn"||p.type==="passage");let j;(function(p){p.String="string",p.Concealed="concealed",p.Date="date",p.Phone="phone",p.Address="address",p.Url="URL",p.Email="email",p.MonthYear="monthYear",p.Gender="gender",p.CreditCardType="cctype",p.Reference="reference",p.Menu="menu",p.Country="country",p.Month="month",p.OneTimePassword="totp",p.File="file",p.SshKey="sshKey",p.SsoLogin="ssoLogin",p.PasskeyType="passkeyType",p.ManagedApplication="managedApplication"})(j=A.FieldType||(A.FieldType={})),A.TOTP_PREFIX="TOTP_",A.isTotpField=p=>p.k===j.Concealed&&oh(p.n,A.TOTP_PREFIX);let n=1024*32,i=1024*1024*4;A.MaxOverviewSize=n/1.5,A.MaxDetailSize=i/1.5,A.FieldName={CreditCard:{CreditCardNumber:"ccnum",Expiry:"expiry"},Identity:{FirstName:"firstname",LastName:"lastname"},Passport:{Expiry:"expiry_date"},DriverLicense:{Expiry:"expiry_date"},Membership:{Expiry:"expiry_date"},MedicalRecord:{Date:"date"}};let o;(function(p){p.Active="N",p.Archived="Y",p.Deleted="D"})(o=A.ItemState||(A.ItemState={})),A.getDateValueFromString=p=>{let h=sN.default.utc(p.trim(),"YYYY-MM-DD",!0).set({hours:12,minutes:1,seconds:0,milliseconds:0}).unix();return p4(h)?h:void 0},A.getDateStringFromValue=p=>{if(typeof p!="number")return"";let h="YYYY-MM-DD",f=sN.default.utc(p,"X").format(h);return A.getDateValueFromString(f)===p?f:(0,sN.default)(p,"X").format(h)},A.findFieldWithName=(p,h)=>{if(!(!h.details||!h.details.sections))for(let f of h.details.sections){let G=_i(f.fields,w=>w.n===p);if(G)return G}};let s=p=>{try{return new URL(pb(p)).hostname}catch{return}};A.getHighlightedUrl=p=>{let h=s(p);if(!h)return[{type:"Plain",content:p}];let f=p.toLowerCase().indexOf(h);if(f===-1)return[{type:"Plain",content:p}];let G=f+h.length;return vj([f!==0&&{type:"Plain",content:p.slice(0,f)},{type:"Highlighted",content:p.slice(f,G)},G!==p.length&&{type:"Plain",content:p.slice(G)}])},A.getAddressValue=p=>{let{v:h}=p;if(V5e(h))return{street:typeof h.street=="string"?h.street:"",city:typeof h.city=="string"?h.city:"",state:typeof h.state=="string"?h.state:"",zip:typeof h.zip=="string"?h.zip:"",country:typeof h.country=="string"?h.country:""}},A.getManagedApplicationValues=p=>p.k===A.FieldType.ManagedApplication&&"v"in p&&A.ManagedApplicationField.is(p.v)?p.v:void 0,A.getSsoValue=p=>{if(p.k===A.FieldType.SsoLogin&&"v"in p&&typeof p.v=="object")return p.v},A.getStringValue=p=>"value"in p&&typeof p.value=="string"?p.value:"v"in p&&typeof p.v=="string"?p.v:"",A.getNumberValue=p=>"v"in p&&typeof p.v=="number"&&!Number.isNaN(p.v)?p.v:void 0,A.getDocumentAttributesFromField=p=>{if(p.k===A.FieldType.File&&"v"in p&&typeof p.v=="object")return p.v??void 0},A.getPasswordStrengthFromEntropy=p=>kY(p,0,uO.FANTASTIC)/uO.FANTASTIC*100,A.getPasswordStrength=(p,h,f,G)=>typeof f=="boolean"&&f&&typeof G=="number"?A.getPasswordStrengthFromEntropy(G):CG(p,h),A.getCreditCardSubtitle=p=>{if(p.length>=8){let h=p.slice(0,4),f=p.slice(-4);return h+" **** "+f}return""},A.copyAsCorruptedItem=p=>{let h=new A(p.vault,void 0,p.uuid);return h.overview={title:"Corrupted Item",url:"",ainfo:"",ps:0,pbe:0,pgrng:!1},h.details={sections:[]},h.createdAt=p.createdAt,h.updatedAt=p.updatedAt,h.faveIndex=p.faveIndex,h.state=p.state,h.templateUuid=p.templateUuid,h.itemVersion=p.itemVersion,h},A.importFromJson=(p,h,f)=>{let G=Ke(h,Fs).unwrap(),w=Ke(G,_6A,{mode:"unsafe_report_only",file:fzA,func:sA`importFromJson`}).unwrap(),y=f?.generateNewUuid||!v4(w.uuid)?void 0:w.uuid,E=new A(p,void 0,y);return E.overview=w.overview,E.details=w.details,E.createdAt=w.createdAt?new Date(w.createdAt):new Date,E.updatedAt=w.updatedAt?new Date(w.updatedAt):new Date,E.faveIndex=w.faveIndex,E.state=w.trashed,E.templateUuid=w.templateUuid,E},A.getRichIconUrl=({templateUuid:p,title:h,url:f},G=64)=>{if(dt.SoftwareUuid===p)return`https://c.1password.com/richicons/images/software/${G}/${u(h)}.png`;if(dt.LoginUuid===p){if(!f)return"";/^[\w-]+:\/\//.test(f)||(f="https://"+f);try{let y=new URL(f).hostname;return X5e(y)?`https://c.1password.com/richicons/images/login/${G}/${y}.png`:""}catch{return""}}return""};let c=[" serial number"," software license"," company license"," family license"," license"," app"," shareware"," lizenz"],u=p=>{let h=p.toLowerCase().replace(/[^\d a-z]/g," ").replace(/ {2,}/g," ").trim();h.startsWith("license for ")&&(h=h.slice(12));for(let f of c)if(h.endsWith(f)){h=h.slice(0,-f.length);break}return h.replace(/ /g,"")}})(GA||(GA={}));var lN=CA.intersection([CA.type({title:ke(CA.string,""),ainfo:m6(ke(CA.string,""),A=>{if(typeof A=="number")return A.toString(10);throw new Error("Unexpected ainfo type")})},"required"),CA.partial({url:CA.string,ps:Xe(CA.number),pbe:CA.number,pgrng:CA.boolean,passkey:Xe(GA.PasskeyOverview),tags:Xe(jb(CA.string)),locations:Xe(jb(GA.ItemLocation)),URLs:CA.array(GA.UrlField),icons:GA.Icons,watchtowerExclusions:GA.WatchtowerExclusions,b5UserUUID:CA.string,b5AccountUUID:CA.string,integration:CA.string},"partial")],"VaultItemOverview"),cN=CA.intersection([CA.type({sections:ke(CA.array(GA.Section),[])},"required"),CA.partial({fields:Xe(CA.array(GA.WebFormField)),backupKeys:CA.array(CA.string),notesPlain:CA.string,password:Xe(CA.string),passwordHistory:CA.array(GA.PreviouslyUsedPassword),passkey:Xe(CA.union([GA.Passkey,GA.UnknownPasskey])),documentAttributes:GA.DocumentAttributes,customData:CA.record(CA.string,CA.unknown)},"partial")],"VaultItemDetails"),_6A=CA.type({uuid:CA.string,templateUuid:Xe(CA.string),faveIndex:Xe(CA.number),createdAt:Xe(Ro),updatedAt:Xe(Ro),overview:lN,details:cN,trashed:CA.string},"ExternalVaultItem"),V5e=A=>typeof A=="object"&&A!==null,X5e=A=>{let e=A.split(".");return e.length>=2&&e.every(t=>t.length>0)},W5e=(A,e,t)=>{if(typeof t>"u")return[e];let r=gI(t,A);return r>-1?t.map((a,j)=>j===r?e:a):[...t,e]};var Ev=class{constructor(e,t,r){this.encryptAndSign=async a=>{if(!this.item)throw new Error("Missing item.");if(!this.recipient.pubKey)throw new Error("Missing recipient's public key");this.key=aa();let[j]=await Promise.all([Bc(this.recipient.pubKey),this.key.generate(ba)]);if(!this.key.jwk)throw new Error("Missing JWK.");this.encKey=await j.encrypt(Ua(this.key.jwk));let[n,i]=await this.item.encryptWithKey(this.key);this.encOverview=n,this.encDetails=i;let o=ws([mt(this.sender.uuid),mt(this.recipient.uuid),Ua(this.encOverview),Ua(this.encDetails)]);if(!this.sender.activeKeyset)throw new Error("Missing active keyset.");return this.signature=await this.sender.activeKeyset.sign(o),await this._enableKeyRecovery(a),this},this._enableKeyRecovery=async a=>{if(!a.pubKey)throw new Error("Missing group's public key");if(!this.key)throw new Error("Missing key");return this.recoverableEncKey=await this.key.encryptWithKey(a.pubKey),this},this.verifyAndDecrypt=async(a,j)=>{this.key=aa();let n=new GA(a,void 0,this.uuid);if(!this.templateUuid)throw new Error("Missing template UUID");if(!this.itemUuid)throw new Error("Missing item UUID");if(!this.encOverview)throw new Error("Missing encrypted overview");if(!this.encKey)throw new Error("Missing encryption key");return await this.key.decryptWithKeyset(j,this.encKey),await n.decryptWithKey(this.key,this.encOverview,this.encDetails),n.templateUuid=this.templateUuid,n.packageUuid=this.uuid,n.uuid=this.itemUuid,n.itemVersion=1,n.state=GA.ItemState.Active,n.createdAt=this.clientCreatedAt,n.updatedAt=this.clientUpdatedAt,this.item=n,this},this.sender=e,this.recipient=t,this.item=r,this.createdAt=new Date}},D6A;(function(A){A.encryptAndSign=async(e,t,r)=>{},A.verifyAndDecrypt=async e=>{}})(D6A||(D6A={}));var dO=class{constructor(e,t){this.vaultUuid=e,this.vaultKey=t,this.encryptWithKey=async r=>{if(typeof this.vaultKey.sn>"u")throw new TypeError("Missing vault key SN");let a=await this.vaultKey.encryptWithKey(r);return{vaultUuid:this.vaultUuid,vaultKeySN:this.vaultKey.sn,encryptedBy:a.kid,encVaultKey:a}}}},mO=class{constructor(e,t){this.groupUuid=e,this.keyset=t,this.encryptWithKey=async r=>({groupUuid:this.groupUuid,keyset:await this.keyset.encryptWithKey(r)})}},pO=class{constructor(e,t){this.vaultKeys=e,this.groupKeysets=t,this.encryptForPerson=async r=>{let a=r.pubKey;if(!a)throw new Error("Missing user's public key");return this.encryptWithPubKey(a)},this.encryptWithPubKey=async r=>{let[a,j]=await Promise.all([Promise.all(this.vaultKeys.map(async n=>n.encryptWithKey(r))),Promise.all(this.groupKeysets.map(async n=>n.encryptWithKey(r)))]);return{vaultKeys:a,groupKeysets:j}}}};var kO=class{constructor(e,t){this.vaultUuid=e,this.vaultKey=t,this.encryptWithKey=async r=>{if(typeof this.vaultKey.sn>"u")throw new TypeError("Missing vault key SN");let a=await this.vaultKey.encryptWithKey(r);return{vaultUuid:this.vaultUuid,vaultKeySN:this.vaultKey.sn,encryptedBy:a.kid,encVaultKey:a}}}},hO=class{constructor(e,t){this.groupUuid=e,this.keyset=t,this.encryptWithKey=async r=>{let a=await this.keyset.encryptWithKey(r);return{groupUuid:this.groupUuid,keyset:a}}}},gO=class{constructor(e,t){this.packageUuid=e,this.key=t,this.encryptWithKey=async r=>{let a=await this.key.encryptWithKey(r);return{packageUuid:this.packageUuid,key:a}}}},fO=class{constructor(e,t,r){this.vaultKeys=e,this.groupKeysets=t,this.packageKeys=r,this.encryptForPerson=async a=>{if(!a.pubKey)throw new Error("Missing user's public key");let j=await Bc(a.pubKey),[n,i,o]=await Promise.all([Promise.all(this.vaultKeys.map(async s=>s.encryptWithKey(j))),Promise.all(this.groupKeysets.map(async s=>s.encryptWithKey(j))),Promise.all(this.packageKeys.map(async s=>s.encryptWithKey(j)))]);return{vaultKeys:n,groupKeysets:i,packageKeys:o}}}},BO=class{constructor(e){this.keys=e,this.encryptForPeople=async t=>{if(this.keys.length!==t.length)throw new Error("Number of keys and people do not match.");let r=this.keys.map(async(a,j)=>{let n=t[j];if(n===void 0)throw new Error("encryptForPeople: user not found.");return a.encryptForPerson(n)});return{keys:await Promise.all(r)}}}};var Xl=AA(OA());var EO={};Na(EO,{JwtStandardClaims:()=>uN,Keyset:()=>I6A,KeysetEncKeyData:()=>rN,createToken:()=>dN,decrypt:()=>oO,encrypt:()=>iO,sign:()=>z6A,verify:()=>J5e});var z6A=async(A,e)=>{let t=await G1(A),r={alg:ap,kid:A.kid,typ:"jose+json"},a=Ye(Ua(r)),j=Ye(e),n=mt(a+"."+j),i=await w1({alg:r.alg,key:t,signingInput:n});return{protected:a,payload:j,signature:Ye(i)}},J5e=async(A,e)=>{let t=await aO(A),r=Of.pipe(QA.JwsHeader),a=Ke(e.protected,r).unwrap();if(a.alg!==ap)throw new Error("Unexpected algorithm");if(a.kid!==A.kid)throw new Error("Incorrect signing key");let j=mt(e.protected+"."+e.payload),n=Je(e.signature);return{isValid:await jO({alg:a.alg,key:t,signingInput:j,signature:n}),header:a}};var jp=AA(OA());var uN=jp.readonly(jp.partial({iss:jp.string,sub:jp.string,aud:jp.readonlyArray(jp.string),exp:LI,nbf:LI,iat:LI,jti:jp.string}),"JwtStandardClaims"),dN=async(A,e,t)=>{let r={alg:ap,kid:A.kid,typ:"JWT"},a=Ye(Ua(r)),j=Ye(Ua(t.encode(e))),n=mt(a+"."+j),i={...A,key_ops:["sign"]},o=await G1(i),s=await w1({alg:r.alg,key:o,signingInput:n});return a+"."+j+"."+Ye(s)};var M6A="com.1password.b5",xO;(function(A){A.AccessVaults="vaultaccess"})(xO||(xO={}));var Y5e=({audience:A,features:e,...t})=>{let r={audience:A,features:e,jti:lr(),issuer:t.issuer||M6A,vaults:t.vaultAccess?Z5e(t.vaultAccess):void 0,expiry:t.expiry?t.expiry.toISOString():void 0};return xzA(r),r},BzA=Xl.readonly(Xl.intersection([Xl.type({"1password.com/auuid":Xl.string,"1password.com/fts":Xl.readonlyArray(Xl.string)}),Xl.partial({"1password.com/token":Xl.string,"1password.com/vts":Xl.readonlyArray(Z9)})]),"ServiceAccountJwtPrivateClaims"),EzA=Xl.intersection([uN,BzA],"ServiceAccountJwtClaims"),R6A=async({signingKey:A,accountUuid:e,serviceAccountUuid:t,createTokenInfo:r,...a})=>{if(!t)throw new Error("SAJWT subject claim not provided.");xzA(r);let j={"1password.com/auuid":e,"1password.com/token":a.bearerToken,"1password.com/fts":r.features,"1password.com/vts":r.vaults,aud:[r.audience],sub:t,exp:r.expiry?new Date(r.expiry):void 0,iat:new Date,nbf:a.notValidBefore,iss:r.issuer||M6A,jti:r.jti};return await dN(A,j,EzA)},xzA=A=>{if(!A.audience)throw new Error("Audience claim is required.");if(A.features.length===0)throw new Error("Token 'features' claim not provided");if(A.vaults?.length&&A.vaults?.length>0&&!A.features.includes(xO.AccessVaults))throw new Error(`Feature ${xO.AccessVaults} is required if including Vault claims.`)},Z5e=A=>A.map(({vaultUuid:e,acl:t})=>({u:e,a:t})),K6A=async A=>{let e=A.split(".")[2];if(!e)throw new Error("corrupted token");let t=await QA.sha256(mt(e));return xo(t)};var q6=class A{constructor(e){this.uuid=e.uuid||"",this.email=e.email||"",this.creatorUuid=e.creatorUuid,this.serviceAccountType=e.serviceAccountType,this.attrVersion=e.attrVersion||0,this.keysetVersion=e.keysetVersion||0,this.name=e.name||"",this.state=e.state||"",this.type=e.type||"",this.avatar=e.avatar||"",this.language=e.language||"en",this.permissions=e.permissions||0,this.combinedPermissions=e.combinedPermissions||pt.empty(),this.newsletterPrefs=e.newsletterPrefs||0,this.preferences=e.preferences||pt.empty(),this.externalGUID=e.externalGUID,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this.lastAuthAt=e.lastAuthAt,this.billables=e.billables,this.rotatedAt=e.rotatedAt,this.expiresAt=e.expiresAt,this._tokenJtiMap={},this._attrMask=0,this._serviceAccountVaultAccess=e.serviceAccountVaultAccess}hasAttrMask(e){return(this._attrMask&e)===e}addAttrMask(e){this._attrMask|=e}static translateAttrMaskNames(e){let t=Object.keys(A.Attr).filter(r=>!["None","All"].includes(r)).map(r=>r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/^-+|-+$/g,"").toLowerCase());return Bk(e,t)}get tokens(){if(!this.hasAttrMask(A.Attr.Tokens))throw new TypeError("Service Account token list has not been loaded");return Object.values(this._tokenJtiMap)}set tokens(e){this._tokenJtiMap=gn(e,t=>t.tokenInfo.jti)}getToken(e){if(!this.hasAttrMask(A.Attr.Tokens))throw new TypeError("Service Account token list has not been loaded");return this._tokenJtiMap[e]}get displayableVaultAccess(){if(!this.hasAttrMask(A.Attr.VaultAccess)||!this._serviceAccountVaultAccess)throw new TypeError("Service Account Vault Access has not been loaded.");return this._serviceAccountVaultAccess.displayable}get totalAccessibleVaults(){if(!this.hasAttrMask(A.Attr.VaultAccess)||!this._serviceAccountVaultAccess)throw new TypeError("Service Account Vault Access has not been loaded.");return this._serviceAccountVaultAccess.totalVaults}};q6.Attr={None:0,Tokens:1,VaultAccess:2,Billables:4,All:255};var bzA={CreateToken:Os.ServiceAccountTokenCreate,RevokeToken:Os.ServiceAccountTokenRevoke,EditToken:Os.ServiceAccountTokenEdit,CreateServiceAccount:Os.ServiceAccountCreate,EditServiceAccount:Os.ServiceAccountEdit,DeleteServiceAccount:Os.ServiceAccountDelete,EditVaultAccess:Os.ServiceAccountConnectVaultAccessEdit},Q5e=Object.values(bzA),Aze={Active:"A",Revoked:"R"};var L6A;(function(A){A.UsersRead="users:read",A.EmailRead="users:read.email",A.GroupsRead="usergroups:read"})(L6A||(L6A={}));var eze=()=>{S4((A,e)=>A.hasTeamUser&&!e.hasTeamUser?1:!A.hasTeamUser&&e.hasTeamUser?-1:0,(A,e)=>A.hasPendingInvite&&!e.hasPendingInvite?1:!A.hasPendingInvite&&e.hasPendingInvite?-1:0,nl.strings(A=>A.name),nl.strings(A=>A.email))},tze=pg.getInitials,rze=(A,e)=>A?.scope?A.scope.split(",").some(r=>r===e):!1,aze=A=>A===Rm.Active,jze=A=>!!A?.enterpriseUid&&!!A.isGranular,N6A=(A=Rm.NotLoaded)=>({state:A,notifChannelUid:"",alertChannelUid:"",scope:"",teamName:"",alertNotifTeamUid:"",enterpriseUid:"",enterpriseName:"",enterpriseUrl:"",enterpriseTeams:[],isGranular:!1});var bO=class{constructor(e){this.setDomainBasedInfo=()=>{this.countryCode=YM(this.accountDomain),this.server=jl(this.accountDomain)},this.getSignInDomain=()=>this.usingMyDomain?xc+"."+this.server:this.accountDomain,this.update=t=>{let r=!1;return this.userUuid!==t.userUuid&&(this.userUuid=t.userUuid,r=!0),this.userEmail!==t.userEmail&&(this.userEmail=t.userEmail,r=!0),this.userName!==t.userName&&(this.userName=t.userName,r=!0),this.userAvatarURL!==t.userAvatarURL&&(this.userAvatarURL=t.userAvatarURL,r=!0),this.usingMyDomain!==t.usingMyDomain&&(this.usingMyDomain=t.usingMyDomain,r=!0),this.accountType!==t.accountType&&(this.accountType=t.accountType,r=!0),this.accountName!==t.accountName&&(this.accountName=t.accountName,r=!0),this.accountDomain!==t.accountDomain&&(this.accountDomain=t.accountDomain,this.setDomainBasedInfo(),r=!0),this.accountAvatarURL!==t.accountAvatarURL&&(this.accountAvatarURL=t.accountAvatarURL,r=!0),this.hasPrioritySupport!==t.hasPrioritySupport&&(this.hasPrioritySupport=t.hasPrioritySupport,r=!0),r},this.userUuid=e.userUuid,this.userEmail=e.userEmail,this.userName=e.userName,this.userAvatarURL=e.userAvatarURL,this.usingMyDomain=e.usingMyDomain,this.accountUuid=e.accountUuid,this.accountType=e.accountType,this.accountName=e.accountName,this.accountDomain=e.accountDomain,this.accountAvatarURL=e.accountAvatarURL,this.hasPrioritySupport=e.hasPrioritySupport,this.countryCode=YM(this.accountDomain),this.server=jl(this.accountDomain)}toString(){return"[object UserCookie]"}};var yzA,nze="model/vault_access",vzA=Ne(nze),na=class{constructor(e){if(this.canManageVault=t=>this.vaultUuid===t.uuid&&(this.acl&pv)===pv,this.encryptVaultKey=async t=>vzA("encryptVaultKey",async()=>{if(!this.vaultKey)throw new Error("Missing vault key");if(!t)throw new Error("Missing accessor");if(!t.pubKey)throw new Error("Missing accessor's pubKey");return this.vaultKey.encryptWithKey(t.pubKey).then(r=>(this.encVaultKey=r,r))}),this.decryptVaultKey=async t=>{if(!this.encVaultKey)throw new Error("Missing encrypted vault key.");if(!t)throw new Error("Missing keyset");return this.vaultKey=await aa().decryptWithKeyset(t,this.encVaultKey),this.vaultKey},!hb(e.vaultUuid))throw new Error("Invalid vault UUID");if(!JQ(e.accessorType)(e.accessorUuid))throw new Error("Invalid accessor UUID");this.vaultUuid=e.vaultUuid,this.accessorType=e.accessorType,this.accessorUuid=e.accessorUuid,this.vaultKeySN=e.vaultKeySN,this.encVaultKey=e.encVaultKey&&"kid"in e.encVaultKey&&e.encVaultKey.kid?e.encVaultKey:void 0,this.encryptedBy=e.encryptedBy,this.acl=e.acl,this.leaseTimeout=e.leaseTimeout}static combineACLs(e){return e?e.reduce((t,r)=>t|r.acl,0):0}toApi(){return{vaultUuid:this.vaultUuid,accessorType:this.accessorType,accessorUuid:this.accessorUuid,vaultKeySN:this.vaultKeySN,encVaultKey:this.encVaultKey,encryptedBy:this.encryptedBy,acl:this.acl,leaseTimeout:this.leaseTimeout}}};yzA=na;na.generate=async(A,e,t)=>vzA("generate",async()=>{if(!A||!A.activeKey)throw new Error("Missing vault key");if(typeof A.activeKey.sn>"u")throw new TypeError("Missing active key SN");if(!e||!e.pubKey)throw new Error("Missing accessor's public key");let r=await mv(e.pubKey),a=await A.activeKey.encryptWithKey(r),j=new yzA({accessorType:e.accessorType,accessorUuid:e.uuid,encryptedBy:r.uuid,encVaultKey:a,leaseTimeout:0,vaultKeySN:A.activeKey.sn,vaultUuid:A.uuid,...t});return j.vaultKey=A.activeKey,j});var np=AA(OA());var U6A=[_e.TypePersonal,_e.TypeEveryone,_e.TypeUserCreated],q1;(function(A){A.Patch="patch",A.Full="full"})(q1||(q1={}));var ize=np.type({scope:np.string,contentVersion:np.number,isFinal:np.boolean,vaultUuid:np.string,snapshots:np.array(Z4)},"EncryptedVaultItemSnapshotBatchV2"),mN=async(A,e,t)=>{let r={title:A.overview.title};if(A.templateUuid===dt.LoginUuid&&A.username!==void 0&&(r.username=A.username.value),A.vault.type!==_e.TypePersonal&&(r.vaultName=A.vault.name),A.overview.URLs){let i=A.overview.URLs.map(o=>o.u);r.domains=VAA(i)}t&&(r.watchtowerReport=t);let a=!!r.domains?.some(i=>!!i),j={uuid:"",trashed:A.state,vaultUuid:A.vault.uuid},n={clientCreatedAt:lh(A.createdAt),hasUrl:a,itemVersion:A.itemVersion,payloadVersion:NG,templateUuid:A.templateUuid||"",timestamp:lh(new Date),vaultItemUuid:A.uuid,isBusinessRelated:HAA(e,A.templateUuid===dt.LoginUuid,r.username)};return{snapshot:r,additionalData:n,serverData:j}};var $1;(function(A){A.Lavender="lavender",A.Algae="algae",A.LightBlue="light_blue",A.Sand="sand",A.Red="red",A.Peach="peach"})($1||($1={}));var kN={};Na(kN,{logCryptoSupport:()=>sze,run:()=>H6A});var H6A=async()=>{if(QA.waitForInit!==void 0){await QA.waitForInit;try{await oze(),QA.testsComplete()}catch(A){QA.testsError(A)}}},FzA,oze=async()=>{let A=performance.now(),[e,t,r,a]=await Promise.all([pN(mze),pN(lze),pN(cze),pN(uze)]),j=performance.now();FzA=Math.round(j-A).toString(10),QA.setSupport({jwkImport:e,rsaOaep256:t,nativeAesGcm:r,nativeEcdsa:a})},sze=()=>{let{jwkImport:A,rsaOaep256:e,nativeAesGcm:t,nativeEcdsa:r}=QA.supports;(uh()||Object.values(QA.supports).includes(!1))&&`${FzA}${A}${e}${t}${r}`},pN=async A=>Promise.resolve().then(A).then(()=>!0,()=>!1),lze=async()=>{let A={alg:"RSA-OAEP-256",e:"AQAB",ext:!0,key_ops:["encrypt"],kid:"pdmixa3yhjitikm7uv2fd7veme",kty:"RSA",n:"1HfpUoQjzFj9sXJc1-BsZ5oWYsBhDTZkjLYzPqam5DhezPAIDkoZfBw1B4jG43ez-_WifZf_kRc9zyHl3aoe0bUmVJnr58kGvStscTD0b1n5xkLHsuADf5YqjxYTmBZEkmrewV5xG7TdiYdx7ZboUpRVD6g7yg3xakfYvZuGuIkPlxHvxb4qx-wMe1M81sPZAAoSQl923uMCCIO6y236f2oMSsSDbm-6FynwMo4rWvRuN588pZCfHzhYzchembABVdt2HsHUwZC36fV9T_EuHEjTIiWaSYj1UyMUWvD8bVwehlDV4_NBiU-IuL3s8SDJCSQW4zHiTQG8qVEUpkPBew"};return new Nj("").import(A)},cze=async()=>{let A=new su;await A.generate(ba,void 0),await A.encrypt(mt("A3-TEST"));let e=A.jwk?.k;if(!e)throw new Error("Missing key value");let t=Je(e);await new su().importRawKey(ba,t)},uze=async()=>QA.subtle.generateKey(Fi.DEFAULT_KEY_ALG,!0,["sign","verify"]),dze={alg:"RSA-OAEP",e:"AQAB",ext:!0,key_ops:["encrypt"],kty:"RSA",n:"lW5zhTLlU1ayN9uDy4_9uNT3I2bTX24565Gr5yuKnNRGpE3rT9rGzjgPDamcKPIi4fPCP0HFFpS35D6F1zlOsy2uPFwXC6HGZVRvXoHaAcTq3HRTkQ2HpWnxI9R0XwJMDaxCwDFalAYSEYkQC6k7CFT87PPTKzCgnfVqX3aHAU2LzfjlQL1KtVU1Qy8QwUv_LgI9tjbbFrn62sAWruJItG65pHbWH0Gyp_Kna4HCiL4zjiWVxMOqwLt1Qkj_vkJwJ8pA7ooJEuTXCpxkoikEyxxRCDWxSbICyaD90MVpyXt2iaFaZc8ntS_JiofeMmm0iZ0uNJ3B0oT-twe0Dn2Edw",kid:"tyy2gvlws7xxnpqvayhqeg5e5y"},mze=async()=>QA.subtle.importKey("jwk",dze,Nj.WC_ALG_RSA_OAEP,!0,["encrypt"]);var pze=EA("web-api/api/quest.ts"),kze=Po.readonly(Po.intersection([Po.type({id:Po.number,title:Po.string,description:Po.string,url:Po.string,priorityLevel:Po.number,image:Po.string,badgeColor:deA($1,"ColorType"),questColor:deA($1,"ColorType")}),Po.partial({badgeText:Po.string})]),"Quest"),V6A=pze(()=>({name:"getAutomatedQuest",method:"GET",url:"/api/v1/quest",responseType:Po.union([kze,Po.null])}));var ae=AA(OA());var kl=EA("web-api/api/recovery_key.ts"),hze=ae.exact(ae.type({recoveryKeyUuid:ae.string}),"RecoveryKeyStartRequest"),GzA=ae.exact(ae.type({sessionUuid:ae.string,cryptoVersion:ae.string}),"StartRecoveryResponse"),gze=kl(A=>({name:"recoveryKeyBeginAttempt",method:"POST",url:"/api/v2/recovery-keys/session/new",body:A,responseType:GzA,encrypted:!1})),fze=ae.exact(ae.type({bigA:ae.string}),"RecoverySrpARequest"),wzA=ae.exact(ae.type({bigB:ae.string}),"RecoverySrpBResponse"),Bze=kl(A=>({name:"recoveryKeyAuthV1Begin",method:"POST",url:"/api/v2/recovery-keys/session/auth/cv1/start",body:A,responseType:wzA,encrypted:!1})),Eze=ae.exact(ae.type({clientHash:ae.string}),"RecoverySrpConfirmKeyRequest"),qzA=ae.exact(ae.type({serverHash:ae.string}),"RecoverySrpConfirmKeyResponse"),xze=kl(A=>({name:"recoveryKeyAuthV1ConfirmKey",method:"POST",url:"/api/v2/recovery-keys/session/auth/cv1/confirm",body:A,responseType:qzA,encrypted:!1})),bze=ae.type({uuid:ae.string,label:ae.union([ae.string,ae.null]),enc:ae.string,encryptedBy:ae.string,cryptoVersion:ae.string,verifierParam:ae.string}),yze=kl(A=>({name:"createRecoveryKey",method:"POST",url:"/api/v2/recovery-keys/keys",body:A,responseType:jA})),X6A;(function(A){A.Provisional="PROVISIONAL",A.PolicyAdded="PROVISIONAL_POLICY_ADDED",A.PendingActivation="PENDING_ACTIVATION",A.Active="ACTIVE",A.Suspended="SUSPENDED",A.Deleted="DELETED",A.Displaced="DISPLACED"})(X6A||(X6A={}));var $zA=ae.type({uuid:ae.string,label:ae.union([ae.string,ae.null]),state:ae.string,enc:ae.string,encryptedBy:ae.string,cryptoVersion:ae.string,verifierParam:ae.string,createdAt:ae.string,updatedAt:ae.string}),vze=kl(A=>({name:"getRecoveryKey",method:"GET",url:`/api/v2/recovery-keys/keys/${A}`,responseType:$zA})),Fze=kl(A=>({name:"deleteRecoveryKey",method:"DELETE",url:`/api/v2/recovery-keys/keys/${A}`,responseType:jA})),Gze=kl(A=>({name:"activateRecoveryKey",method:"POST",url:`/api/v2/recovery-keys/keys/${A}/activate`,responseType:jA})),wze=ae.type({recoveryKeyUuid:ae.string,feature:ae.string,custody:ae.string,configuration:ae.type({userVerification:ae.array(ae.string),delaySecs:ae.number}),specVersion:ae.string}),IzA=ae.type({uuid:ae.string}),qze=kl(A=>({name:"createRecoveryPolicy",method:"POST",url:"/api/v2/recovery-keys/policies",body:A,responseType:IzA})),$ze=ae.type({encryptedKeyMaterial:ae.string}),PzA=ae.type({integrity:ae.string}),Ize=kl((A,e)=>({name:"addRecoverableMaterial",method:"POST",url:`/api/v2/recovery-keys/keys/${A}/material`,body:e,responseType:PzA})),SzA=ae.type({policyUuids:ae.array(ae.string)}),Pze=kl((A,e)=>({name:"getRecoveryPolicies",method:"GET",url:`/api/v2/recovery-keys/policies${Ia({feature:A,state:e})}`,responseType:SzA})),CzA=ae.exact(ae.type({uuid:ae.string,recoveryKeyUuid:ae.string,feature:ae.string,custody:ae.string,configuration:ae.exact(ae.type({userVerification:ae.array(ae.string),delaySecs:ae.number})),specVersion:ae.string,createdAt:ae.string,updatedAt:ae.string})),Sze=kl(A=>({name:"getRecoveryPolicy",method:"GET",url:`/api/v2/recovery-keys/policies/${A}`,responseType:CzA})),OzA=ae.type({uuid:ae.string,policyUuid:ae.string,state:ae.string,createdAt:ae.string,updatedAt:ae.string,expiresAt:ae.string}),TzA=ae.type({recoveryAttempts:ae.array(OzA)}),Cze=kl(()=>({name:"getRecoveryAttempts",method:"GET",url:"/api/v2/recovery-keys/attempts",responseType:TzA})),_zA=ae.type({userUuid:ae.string,accountUuid:ae.string,accountName:ae.string,accountType:ae.string,domain:ae.string,name:ae.string,email:ae.string,passwordRules:ae.string,accountUsesNewKeysets:ae.boolean,accountAuthMethods:ae.array(vk),disableEmergencyKit:ae.boolean}),DzA=ae.union([ae.type({attemptState:ae.union([ae.literal("KEY_VERIFIER_ACCEPTED"),ae.literal("EMAIL_VERIFICATION_PENDING")]),policySpecVersion:ae.string,custody:ae.string,aux:ae.type({verificationModes:ae.array(ae.string)})}),ae.type({attemptState:ae.literal("ID_VERIFICATION_COMPLETE"),policySpecVersion:ae.string,custody:ae.string,aux:_zA})],"RecoveryGetAttemptStatusResponse"),Oze=kl(()=>({name:"recoveryKeyGetAttemptStatus",method:"GET",url:"/api/v2/recovery-keys/session/status",responseType:DzA,encrypted:!0})),Tze=ae.exact(ae.type({email:ae.union([ae.string,ae.undefined])})),zzA=ae.exact(ae.type({sentToEmail:ae.string})),_ze=kl((A,e)=>({name:"recoveryKeyStartEmailVerification",method:"POST",url:`/api/v2/recovery-keys/session/identity-verification/email/start${A?"?resend=true":""}`,body:e,responseType:zzA,encrypted:!0})),Dze=ae.exact(ae.type({emailVerificationChallenge:ae.string})),zze=kl(A=>({name:"recoveryKeySubmitEmailVerification",method:"POST",url:"/api/v2/recovery-keys/session/identity-verification/email/submit",body:A,responseType:jA,encrypted:!0})),MzA=ae.exact(ae.type({encryptedKeyMaterial:ae.string,encryptedKeyset:tc}),"RecoveryGetMaterialResponse"),Mze=kl(()=>({name:"recoveryKeyGetMaterial",method:"GET",url:"/api/v2/recovery-keys/session/material",responseType:MzA,encrypted:!0})),Rze=ae.exact(ae.type({accountKeyFormat:ae.string,accountKeyUuid:ae.string,language:ae.string,device:dc.Type,keyset:tc,userAuth:XtA,deviceCredentials:ae.union([Ch,ae.undefined])})),RzA=ae.exact(ae.type({sessionUuid:ae.string,signInTokenDetails:ae.union([yk,ae.undefined]),email:ae.string,userUuid:ae.string,accountUuid:ae.string})),Kze=kl(A=>({name:"recoveryKeyPostRegistration",method:"POST",url:"/api/v2/recovery-keys/session/complete",body:A,responseType:RzA,encrypted:!0}));var hl=AA(OA());var Lze=EA("web-api/api/applications_catalog.ts"),KzA=hl.readonly(hl.exact(hl.type({uuid:hl.string,name:hl.string,url:hl.string,isEnabled:hl.boolean})),"ApplicationCatalogItem"),LzA=hl.readonly(hl.exact(hl.type({data:hl.array(KzA)})),"ApplicationCatalogItemReponse"),W6A=Lze(()=>({name:"getApplicationsCatalog",method:"GET",url:"/api/v1/applications/catalog",responseType:LzA}));var Ue=AA(OA());var ip=EA("web-api/api/identity.ts"),NzA=Ue.readonly(Ue.type({identityAccessToken:Ue.string})),UzA=Ue.readonly(Ue.type({token:Ue.string})),bE;(function(A){let e;(function(u){u.Oidc="OIDC",u.Saml="SAML"})(e=A.SsoProtocolType||(A.SsoProtocolType={}));let t;(function(u){u.Group="group",u.User="user"})(t=A.ApplicationAssignmentResourceType||(A.ApplicationAssignmentResourceType={}));let r=cr(e,"SsoProtocolType"),a=cr(t,"ApplicationAssignmentResourceType"),j;(function(u){u.Active="active",u.Inactive="inactive",u.Pending="pending"})(j=A.ApplicationStatusType||(A.ApplicationStatusType={}));let n=cr(j,"ApplicationStatusType"),i=Ue.readonly(Ue.partial({allowed_redirect_uris:Ue.array(Ue.string),allowed_logout_uris:Ue.array(Ue.string),initiate_login_uri:Ue.string,client_secret:Ue.union([Ue.string,Ue.undefined])})),o=Ue.readonly(Ue.partial({configuration_type:Ue.union([Ue.literal("metadata"),Ue.literal("explicit")]),service_provider_metadata_url:Ue.union([Ue.string,Ue.undefined]),service_provider_metadata_xml:Ue.union([Ue.string,Ue.undefined]),acs_url:Ue.union([Ue.string,Ue.undefined]),entity_id:Ue.union([Ue.string,Ue.undefined]),relay_state:Ue.union([Ue.string,Ue.undefined]),name_id_format:Ue.union([Ue.string,Ue.undefined]),logout_url:Ue.union([Ue.string,Ue.undefined]),binding_type:Ue.union([Ue.string,Ue.undefined]),user_attributes:Ue.record(Ue.string,Ue.string),group_attributes:Ue.record(Ue.string,Ue.string)})),s=Ue.readonly(Ue.partial({OidcConfiguration:Ue.union([i,Ue.undefined]),SamlConfiguration:Ue.union([o,Ue.undefined])})),c=Ue.readonly(Ue.type({resource_type:Ue.union([a,Ue.string]),resource_uuid:Ue.string}));A.ManagedApplication=Ue.readonly(Ue.type({assignments:Ue.union([Ue.array(c),Ue.undefined]),catalog_uuid:Ue.union([Ue.string,Ue.undefined]),configuration:s,created_at:Ue.string,kolide_enabled:Ue.boolean,name:Ue.string,status:n,type:Ue.union([r,Ue.string]),updated_at:Ue.string,url:Ue.union([Ue.string,Ue.undefined]),uuid:Ue.string}),"SsoApplication"),A.ManagedApplicationsResponse=Ue.readonly(Ue.type({applications:Ue.array(A.ManagedApplication)})),A.ManagedApplicationConfiguration=Ue.readonly(Ue.type({configuration:s,name:Ue.string,type:Ue.union([r,Ue.string])}),"SsoApplication"),A.ManagedApplicationDisplayProperties=Ue.readonly(Ue.type({login_initiation_url:Ue.string,name:Ue.string,uuid:Ue.string,service_provider_url:Ue.string}))})(bE||(bE={}));var HzA=Ue.readonly(Ue.type({userApplications:Ue.array(bE.ManagedApplicationDisplayProperties)},"UserApplication")),VzA=Ue.readonly(Ue.type({certificate:Ue.string})),J6A=ip(()=>({name:"getIdentityAccessToken",method:"POST",url:"/api/v1/oidc/token",responseType:NzA})),Y6A=ip(()=>({name:"getUserApplications",method:"GET",url:"/api/v1/user/applications",responseType:HzA})),Z6A=ip(A=>({name:"createSsoApp",method:"POST",url:"/api/v1/idp/application",body:A,responseType:bE.ManagedApplication})),Q6A=ip(A=>({name:"deleteSsoApp",method:"DELETE",url:`/api/v1/idp/applications/${A}`,responseType:jA})),AcA=ip(A=>({name:"patchSsoApp",method:"PATCH",url:`/api/v1/idp/applications/${A.uuid}`,body:A,responseType:bE.ManagedApplication})),ecA=ip(()=>({name:"getAccountApplications",method:"GET",url:"/api/v1/idp/applications",responseType:bE.ManagedApplicationsResponse})),tcA=ip(A=>({name:"getApplicationDetails",method:"GET",url:`/api/v1/idp/applications/${A}`,responseType:bE.ManagedApplication})),rcA=ip((A,e)=>({name:"putApplicationGroupAssignment",method:"PUT",url:`/api/v1/applications/${A}/assign-groups`,body:{groupUuids:e},responseType:jA})),acA=ip(A=>({name:"patchApplicationDeviceCheckStatus",method:"PATCH",url:"/api/v1/idp/applications/device_check_status",body:A,responseType:jA})),jcA=ip(()=>({name:"getAccountHandoffCertificate",method:"GET",url:"/api/v1/idp/account-certificate",responseType:VzA})),Nze=ip(()=>({name:"getDeviceTrustAccessToken",method:"GET",url:"/api/v1/device-trust/token",responseType:UzA}));var XzA=EA("web-api/api/account_gated_feature_trials.ts"),ncA=XzA(A=>({name:"createAccountGatedFeatureTrialAction",method:"POST",url:"/api/v1/accountgatedfeaturetrial",body:A,responseType:jA})),icA=XzA(A=>({name:"updateAccountGatedFeatureTrialAction",method:"PATCH",url:"/api/v1/accountgatedfeaturetrial",body:A,responseType:jA}));var En=AA(OA());var Uze=EA("web-api/api/tracing.ts"),Hze=En.readonly(En.intersection([En.type({name:En.string,traceId:En.number,spanId:En.number,start:En.number,duration:En.number,service:En.string,resource:En.string}),En.partial({parentId:En.number,type:En.string,meta:En.record(En.string,En.string),metrics:En.record(En.string,En.number)})]),"PerfTrace"),WzA=En.readonly(En.type({success:En.number}),"TraceSubmissionResult"),ocA=Uze(A=>({name:"sendPerformanceTraces",method:"PUT",url:"/api/v2/perftrace",body:A,responseType:WzA}));var Mn={};Na(Mn,{PARSE_WATCHTOWER_REPORT_STEPS:()=>sMA,accountToAPI:()=>EN,billing:()=>Nk,decryptDocument:()=>xN,decryptFile:()=>S1,encryptDocument:()=>kcA,encryptFile:()=>gcA,fileId:()=>vN,groupToAPI:()=>bv,packageFromAPI:()=>bN,packageToAPI:()=>BcA,packagesFromAPI:()=>fcA,parseAccount:()=>pcA,parseAdminWatchtowerReports:()=>IcA,parseAndDecryptVaultAccessList:()=>GO,parseFirewallRules:()=>hcA,parseGroup:()=>BN,parseGroups:()=>P1,parsePerson:()=>op,parseProvisionedGroupKeyset:()=>jMA,parseProvisionedKeys:()=>xcA,parseProvisionedVaultKey:()=>aMA,parseServiceAccount:()=>wcA,parseVault:()=>$6,parseVaults:()=>vE,personToAPI:()=>wO,recoverableKeysForPeopleFromAPI:()=>ycA,reportSectionItemUsageFromApi:()=>yN,serviceAccountToApi:()=>$Me,signupFromAPI:()=>qcA,userCookiesFromAPI:()=>$cA,userReportFromAPI:()=>vcA,vaultAccessToAPI:()=>vc,vaultItemFromAPI:()=>GE,vaultItemTemplateFromAPI:()=>yE,vaultItemTemplatesFromAPI:()=>ucA,vaultItemToApi:()=>qO,vaultItemsFromAPI:()=>FE,vaultReportFromAPI:()=>FcA,vaultToAPI:()=>Hk,vaultsReportFromAPI:()=>GcA,vaultsToAPI:()=>mcA});var Nk={};Na(Nk,{parseAvailableTiersFromAPI:()=>Wze,parseAvailableTiersV3:()=>Jze,parseTiersFromAPI:()=>JzA,subscriptionDetailAttrsFromAPI:()=>Vze,tierFromAPI:()=>I1});var Vze=A=>{let e=A.cards&&A.cards.length>0?A.cards.slice().sort(Xze):[];return{balance:A.balance||0,cards:e,pendingCreditAmount:A.pendingCreditAmount||0,plan:A.plan,coupon:A.coupon,nextInvoice:A.nextInvoice,hasInvoices:A.hasInvoices,stripe:A.subscription,purchaseOrder:A.purchaseOrder,stripePurchaseOrder:A.stripePurchaseOrder,customerAddress:A.customerAddress,pendingPaymentMethods:A.pendingPaymentMethods||[],billingStats:A.billingStats}},Xze=(A,e)=>A.expYear!==e.expYear?e.expYear-A.expYear:A.expMonth!==e.expMonth?e.expMonth-A.expMonth:A.name!==e.name?A.name.localeCompare(e.name):A.stripeCardUid.localeCompare(e.stripeCardUid);var Wze=(A,e)=>{if(!A||A.length===0)return[];let t=[];for(let r of A){let a=I1(r);e.tier&&e.tier.name===a.name&&(e.tier.plans=a.plans,a.sortOrder=-1),t.push(a)}return Iz(t,"sortOrder")},Jze=A=>({currentTier:I1(A.currentTier),listOfTiers:JzA(A.listOfTiers)}),JzA=A=>A.map(e=>I1(e)),I1=(A,e)=>{let t=A.features.reduce((i,o)=>({...i,[o]:!0}),fb.getBlankTier().hasFeature),r=A.gatedFeatures.reduce((i,o)=>({...i,[o]:!0}),fb.getBlankTier().hasGatedFeature),a=[];A.plans&&(a=Iz(A.plans,"sortOrder"));let j=[];A.tierChangeMappings.length>0&&(j=A.tierChangeMappings);let n={...tl(A,["features"]),...tl(A,["gatedFeatures"]),marketingText:{...A.marketingText,localizedFeatures:A.marketingText.localizedFeatures},hasFeature:t,hasGatedFeature:r,plans:a,tierChangeMappings:j};return n.plans.length===0&&e&&e.plans&&e.plans.length>0&&e.name===n.name&&(n.plans=e.plans),n};var yO=async A=>await $tA(A.session);var vO=(A,e)=>({getEntry:Qze(A.id,e),getEntries:Zze(A.id,e),saveEntry:AMe(A.id,e),saveEntries:YzA(A.id,e)}),hN=A=>{let e=Yze();return xv={...xv,[A]:e},e},xv={},Yze=()=>({keysets:{}}),scA=(A,e)=>(xv[A]||hN(A))[e],Zze=(A,e)=>()=>scA(A,e),Qze=(A,e)=>t=>scA(A,e)[t],AMe=(A,e)=>(t,r)=>{YzA(A,e)({[t]:r})},YzA=(A,e)=>t=>{let r=scA(A,e);xv={...xv,[A]:{...xv[A],[e]:cI({},r,t)}}},lcA=()=>{xv={}};var eMe="action/keyset",ccA=Ne(eMe),gN=(A,e)=>{let t=gn(e,"uuid");vO(A,"keysets").saveEntries(t)},Uk=async(A,e)=>ccA("decryptKeysets",async()=>{let t=A.user&&A.user.masterKey,r=gn(e,n=>n.uuid),a=vO(A,"keysets"),j=Promise.resolve([]);for(let n of e)j=j.then(async i=>ZzA(n.uuid,r,a,t).then(o=>(A.user&&n.encryptedBy===t?.KID()&&(A.user.activeKeyset=o,A.user.pubKey=o.ekeyPair.pubKey),[...i,o])));return j}),Ui=(A,e)=>vO(A,"keysets").getEntry(e),ZzA=async(A,e,t,r,a=0)=>ccA("getDecryptedKeyset",async()=>{if(a>50)throw new Error("Infinite loop!");let j=t.getEntry(A);if(j)return j;let n=e[A];if(n)return tMe(n,e,t,r,a+1).then(i=>(t.saveEntry(i.uuid,i),i));throw new Error("Could not find keyset. <"+A+">")}),tMe=async(A,e,t,r,a=0)=>ccA("decryptKeysetFindParent",async()=>{if(A.encryptedBy===r?.KID())return r?zn.decryptWithKey(r,A):Promise.reject(new Error("Missing master key"));let j=A.encryptedBy||A.encSymKey.kid;if(!j)throw new Error("Missing encryptedBy.");if(j===A.uuid)throw new Error("Keyset is self-encrypted.");return ZzA(j,e,t,r,a).then(async n=>zn.decryptWithKeyset(n,A))}),FO=async A=>{if(!A.user)return;let e=A.accountOverview;if(A.accountOverview=await yO(A),!e||A.accountOverview&&A.accountOverview.keysetVersion!==e.keysetVersion)return fN(A)},fN=async A=>{let{keysets:e}=await EaA(A.session);if(!A.user)throw new Error("Missing user");if(!A.user.masterKey){let t=e.find(a=>a.encryptedBy===hh);if(!t)throw new Error("Could not find active keyset");let r=M4(t.encSymKey);A.user.masterKey=await Ta.derive(r,A.user.getCredentials())}return Uk(A,e)};var vc=A=>{if(!A.acl||Kt.isEffectivelyZero(A.acl))throw new Error("invalid vault acl");if(!A.encVaultKey)throw new Error("missing vault access key");return{vaultUuid:A.vaultUuid,accessorType:A.accessorType,accessorUuid:A.accessorUuid,acl:A.acl,leaseTimeout:A.leaseTimeout,vaultKeySN:A.vaultKeySN,encryptedBy:A.encVaultKey.kid,encVaultKey:A.encVaultKey}};var ucA=A=>A.map(yE).sort(nl.strings(e=>e.uuid)),yE=A=>{let e=A.uuid||A.templateUuid||"",t={uuid:e,localizedStrings:{},contents:[],...A.attrs};return{...A,uuid:e,sidebarIcon:A.sourceIcon,attrs:t}};var rMe="parser/vault",dcA=Ne(rMe),vE=async(A,e)=>dcA("parseVaults",async()=>e?Promise.all(e.map(async t=>$6(A,t))):[]),QzA=async(A,e,t)=>dcA("parseAndDecryptVaultAccessRecord",async()=>{let r=new na({...t,vaultUuid:e.uuid});if(!r.encVaultKey)return r;let a=Ui(A,r.encVaultKey.kid);return a?r.decryptVaultKey(a).then(j=>(e.activeKey||(e.activeKey=j),r)).catch(j=>(console.error("parser/vault#parseAndDecryptVaultAccessRecord",j),r)):r}),aMe=A=>new _e({uuid:A,name:"",type:_e.TypeClientPlaceholder,desc:""}),GO=async(A,e)=>dcA("parseAndDecryptVaultAccessList",async()=>{if(!e)return Promise.resolve(void 0);if(e.length===0)return Promise.resolve([]);let t=ro(e,async r=>QzA(A,aMe(r.vaultUuid),r));return Promise.all(t)}),$6=async(A,e,t,r)=>{let a=r||new _e({uuid:e.uuid,name:"",type:e.type,desc:""});if(a.createdAt=Va(e.createdAt),a.updatedAt=Va(e.updatedAt),a.attrVersion=e.attrVersion,a.contentVersion=e.contentVersion,a.activeItemCount=e.activeItemCount||0,a.clientAccess=e.clientAccess||pt.empty(),e.previewUsers&&(a.previewUsers=e.previewUsers.slice()),e.previewGroups&&(a.previewGroups=e.previewGroups.slice()),e.itemCategories&&(a.itemTemplates=ucA(e.itemCategories.slice())),e.combinedAccess&&a.setCombinedAcl(e.combinedAccess.acl),!e.access)throw new Error(`Missing vault access information: ${e.uuid}`);let j=e.access.map(async i=>QzA(A,a,i)),n=await Promise.all(j);return a.setAccessList(n),await a.decryptAttrs(e.encAttrs),t&&a.addAttrMask(t),a},mcA=(A,e)=>{let t=e?ih(e,"vaultUuid"):{};return A.map(r=>Hk(r,t[r.uuid]))},Hk=(A,e)=>{if(!A.uuid)throw new Error("Vault missing uuid");if(!A.encAttrs)throw new Error("Vault missing EncAttrs");if(!A.type)throw new Error("Vault missing type");return{uuid:A.uuid,type:A.type,attrVersion:A.attrVersion,contentVersion:A.contentVersion,encAttrs:A.encAttrs,access:e&&e.length>0?e.map(vc):void 0}};var jMe="parser/group",AMA=Ne(jMe),P1=async(A,e)=>AMA("parseGroups",async()=>Promise.all(e.map(async t=>BN(A,t)))),BN=async(A,e,t,r)=>AMA("parseGroup",async()=>{let a={uuid:e.uuid,name:e.name,desc:e.desc,type:e.type,activeKeysetUuid:e.activeKeysetUuid,createdAt:Va(e.createdAt),updatedAt:Va(e.updatedAt),attrVersion:e.attrVersion,avatar:e.avatar,permissions:e.permissions,userCount:e.userCount,sso:e.sso},j=r||new VA(a);r&&j.setOverview(a),e.recoverableKeyset&&(j.recoverableKeyset=e.recoverableKeyset);let n=Promise.resolve(),i;return e.pubKey&&(i=new Nj(e.pubKey.kid,void 0,e.pubKey),n=i.import()),n.then(async()=>(j.clearCachedAccessInfo(),e.memberships&&(j.memberships=e.memberships),i&&(j.pubKey=i),t&&j.addAttrMask(t),e.vaultAccess&&e.vaultAccess.length>0?GO(A,e.vaultAccess).then(o=>{o&&j.setVaultAccessList(o)}).catch(o=>{throw console.error("Failed to parse accessList:",o),o}):Promise.resolve())).then(async()=>e.recoveryKeyset?(j.recoveryKeyset=e.recoveryKeyset,Ui(A,e.activeKeysetUuid)&&j.type!==VA.TypeRecovery?Uk(A,[j.recoveryKeyset]).catch(async()=>Promise.resolve()):Promise.resolve()):Promise.resolve()).then(async()=>Promise.resolve(j))}),bv=(A,e)=>{let t={uuid:A.uuid,name:A.name,type:A.type,desc:A.desc,activeKeysetUuid:A.activeKeysetUuid||"",attrVersion:A.attrVersion,recoverableKeyset:A.recoverableKeyset,recoveryKeyset:A.recoveryKeyset,avatar:A.avatar,permissions:A.permissions};if(A.archivedKeysets.length>0&&(t.archivedKeysets=A.archivedKeysets),e&VA.Attr.PubKey&&A.pubKey&&(t.pubKey=A.pubKey.jwk),e&VA.Attr.Memberships&&(t.memberships=A.memberships),e&VA.Attr.VaultAccess){let r=A.getUnsafeVaultAccessList();r&&r.length>0&&(t.vaultAccess=r.map(vc))}return t};var nMe="parser/person",eMA=Ne(nMe),iMe=async A=>eMA("_importPubKey",async()=>A?new Nj(A.kid,void 0,A).import():Promise.resolve(void 0)),op=async(A,e,t=0,r)=>eMA("parsePerson",async()=>{let a=oMe(e),j=r?r.setAttrs(a):new Dj(a);j.addAttrMask(t);let n=e.personalItemsCount;n&&(j.personalItemsCount=n);let i=e.devices;i&&(j.devices=i);let o=e.proposedEmail;return o&&(j.proposedEmail=o),e.memberships&&e.memberships.length>0&&(j.groupMemberships=e.memberships),iMe(e.pubKey).then(async s=>(s&&(j.pubKey=s),GO(A,e.vaultAccess))).then(s=>(s&&(j.vaultAccessList=s),j))}),oMe=A=>{let e=A.csToken??void 0;return{uuid:A.uuid,name:A.name,state:A.state,type:A.type,attrVersion:A.attrVersion,keysetVersion:A.keysetVersion,language:A.language,avatar:A.avatar,combinedPermissions:A.combinedPermissions,newsletterPrefs:A.newsletterPrefs,preferences:A.preferences,externalGUID:A.externalGUID||"",hasMFAEnabled:A.hasMFAEnabled,email:A.email,createdAt:Va(A.createdAt),updatedAt:Va(A.updatedAt),lastAuthAt:Va(A.lastAuthAt),csToken:e}},wO=A=>({uuid:A.uuid,email:A.email,name:A.name,attrVersion:A.attrVersion,keysetVersion:A.keysetVersion,state:A.state,type:A.type,avatar:A.avatar,language:A.language,newsletterPrefs:A.newsletterPrefs,preferences:A.preferences,externalGUID:A.externalGUID,hasMFAEnabled:A.hasMFAEnabled,keysets:null,memberships:null,vaultAccess:null,devices:null,personalItemsCount:null});var sMe="parser/account",lMe=Ne(sMe),pcA=async(A,e)=>lMe("parseAccount",async()=>{if(!e)return Promise.reject(new Error("Server JSON is empty"));A.account?A.account.setAttrs(e):A.account=new dr(e);let t=A.account;if(A.account.createdAt=Va(e.createdAt),e.me&&A.setUserUUID(e.me.uuid),e.billing){A.account.trialStartedAt=Va(e.billing.trialStartedAt),A.account.trialDays=e.billing.trialDays;let n=e.tier?I1(e.tier,A.account.subscription.tier):A.account.subscription.tier,i={billingCompanyName:"",billingAddress:"",billingEmails:""};A.account.subscription={...A.account.subscription,freezesAt:e.billing.freezesAt,guests:e.billing.guests,members:e.billing.members,provider:e.billing.provider,status:e.billing.status,storageUsed:e.storageUsed||0,tier:n,settings:{...i,...e.billing.settings}}}e.meta&&(A.account.meta=e.meta),e.promotions&&(A.account.promotions=e.promotions),e.counts&&(A.account.counts=e.counts);let r=Promise.resolve();if(!A.user)return Promise.reject(new Error("Missing user"));if(e.gatedFeatureTrials&&(A.account.gatedFeatureTrials=e.gatedFeatureTrials),e.groups){let n=e.groups;r=r.then(async()=>P1(A,n)).then(i=>{t.setGroups(i)})}let j;if(e.me){let n=e.me;r=r.then(async()=>{let i=Dj.Attr.PubKey|Dj.Attr.Groups|Dj.Attr.VaultAccess;return op(A,n,i,A.user)}).then(async i=>(A.config.inWebView||(A.session.setLanguage(i.language),A.nc.emit(la.LanguageRefreshed)),j=i,Promise.resolve([])))}return r.then(async()=>A.account?Promise.resolve({account:A.account,activeUser:j}):Promise.reject(new Error("Missing account")))}),EN=A=>{if(!A.uuid)throw new Error("Account missing uuid");if(!A.type)throw new Error("Account missing type");return{uuid:A.uuid,type:A.type,attrVersion:A.attrVersion,avatar:A.avatar,createdAt:Eu(A.createdAt),domain:A.domain,invite:{inviteEmailDomains:A.inviteEmail,inviteSecret:A.inviteSecret},name:A.name,state:A.state,trialStartedAt:Eu(A.trialStartedAt),trialDays:A.trialDays,settings:A.settings,billingSettings:A.subscription.settings}};var xN=async(A,e)=>{let t=A.encryptionKey;if(!t.alg)throw new Error("Missing key algorithm");let r=t.alg,a=aa(t.kid),j=new Uint8Array(e);if(await tMA(j)!==iM(A.integrityHash))throw new Error("Integrity hash does not match.");return await a.importRawKey(r,Je(t.k)),a.decryptFile({data:j,iv:A.nonce})},kcA=async(A,e)=>{let t=aa(),r=await t.generate(ba),a=new Uint8Array(A),{data:j,iv:n}=await t.encryptFile(a);if(!n)throw new Error("Missing nonce");return{data:j.buffer,attributes:{documentId:"",encryptedSize:j.byteLength||0,encryptionKey:r,fileName:e||"",integrityHash:await tMA(j),nonce:n,unencryptedSize:A.byteLength||0}}},tMA=async A=>{let e=await QA.subtle.digest({name:"SHA-256"},A);return Ye(new Uint8Array(e))};var cMe="parser/firewall_rules",uMe=Ne(cMe),hcA=async A=>uMe("parseFirewallRules",async()=>{let e=[],t=[],r=[];if(A.rules===null)return{globalRules:e,groupRules:t};for(let a of A.rules){if(a===void 0)continue;let j={type:a.type,scope:a.scope,value:a.value,action:a.action};if(a.scope&&a.scope.length>1)throw new Error("More firewall scopes than expected. Scope may only be either 'Global' or 'Group'");if(a.scope===void 0||a.scope[0]?.type===bk.Global){e.push(j);continue}if(a.scope[0]?.type===bk.Group){let n=r[0]?.scope&&r[0]?.scope[0]?.uuid?r[0].scope[0]?.uuid:"";if(r.length===0){r.push(j);continue}if(a.scope[0]?.uuid===n){r.push(j);continue}let i={rules:[...r],groupUuid:n};t.push(i),r.length=0,r.push(j)}}if(r.length!==0){let a={rules:[...r],groupUuid:r[0]?.scope&&r[0]?.scope[0]?.uuid?r[0].scope[0]?.uuid:""};t.push(a)}return{globalRules:e,groupRules:t}});var S1=async(A,e)=>{let t=A.encryptionKey;if(!t.alg)throw new Error("Missing key algorithm");let r={kid:t.kid,enc:t.alg,cty:z4,iv:A.nonce,data:Ye(new Uint8Array(e))},a=aa(t.kid);return await a.importRawKey(t.alg,Je(t.k)),a.decrypt(r)},gcA=async A=>{let e=aa();await e.generate(ba);let t=await e.encrypt(new Uint8Array(A)),r=Je(t.data);if(!t.iv)throw new Error("Missing iv");if(!e.jwk)throw new Error("No encryption key.");return{data:r.buffer,attributes:{fileId:"",encryptionKey:e.jwk,nonce:t.iv}}};var dMe="parser/package",rMA=Ne(dMe),fcA=async(A,e,t,r)=>rMA("packagesFromAPI",async()=>!t||t.length===0?[]:Promise.all(t.map(async a=>bN(A,e,a,r))).catch(()=>[])),bN=async(A,e,t,r)=>rMA("packageFromAPI",async()=>{let a=await r([t.senderUuid,t.recipientUuid]),j=a.find(u=>u.uuid===t.recipientUuid),n=a.find(u=>u.uuid===t.senderUuid);if(!j||!n)throw new Error("Missing recipient or sender.");let i=await Bc(n.pubKey),o=new Dj({uuid:n.uuid});o.pubKey=i;let s=new Ev(o,j);if(s.uuid=t.uuid,s.createdAt=Va(t.createdAt),s.updatedAt=Va(t.updatedAt),s.itemUuid=t.itemUuid,s.itemVersion=t.itemVersion,s.templateUuid=t.templateUuid,s.clientCreatedAt=Va(t.clientCreatedAt),s.clientUpdatedAt=Va(t.clientUpdatedAt),s.encKey=t.encKey,s.recoverableEncKey=t.recoverableEncKey,s.encOverview=t.encOverview,s.encDetails=t.encDetails,s.signature=t.signature,!A.user)throw new Error("Missing user");let c=j.uuid===A.user.uuid&&A.user.activeKeyset;return c?s.verifyAndDecrypt(e,c):s}),BcA=A=>{if(!A.item)throw new Error("Missing item");if(!A.encKey)throw new Error("Missing encKey");if(!A.recoverableEncKey)throw new Error("Missing recoverableEncKey");if(!A.encOverview)throw new Error("Missing encOverview");if(!A.signature)throw new Error("Missing signature");if(!A.item.templateUuid)throw new Error("Missing template UUID");let e={uuid:A.uuid,senderUuid:A.sender.uuid,recipientUuid:A.recipient.uuid,sourceVaultUuid:A.item.vault.uuid,itemUuid:A.item.uuid,itemVersion:A.item.itemVersion,templateUuid:A.item.templateUuid,encKey:A.encKey,recoverableEncKey:A.recoverableEncKey,encOverview:A.encOverview,encDetails:A.encDetails,signature:A.signature};return A.createdAt&&(e.createdAt=Eu(A.createdAt)),A.updatedAt&&(e.updatedAt=Eu(A.updatedAt)),A.item.createdAt&&(e.clientCreatedAt=Eu(A.item.createdAt)),A.item.updatedAt&&(e.clientUpdatedAt=Eu(A.item.updatedAt)),e};var mMe="parser/provisioned_keys",EcA=Ne(mMe),aMA=async(A,e)=>EcA("parseProvisionedVaultKey",async()=>aa().decryptWithKeyset(e,A.encVaultKey).then(t=>(t.sn=A.vaultKeySN,new dO(A.vaultUuid,t)))),jMA=async(A,e)=>EcA("parseProvisionedGroupKeyset",async()=>zn.decryptWithKeyset(e,A.keyset).then(t=>new mO(A.groupUuid,t))),xcA=async(A,e)=>EcA("parseProvisionedKeys",async()=>{let t=Ui(A,e.keyset.encryptedBy);return t?zn.decryptWithKeyset(t,e.keyset).then(async r=>{let a=Promise.all(ro(e.vaultKeys,async n=>aMA(n,r))),j=Promise.all(ro(e.groupKeysets,async n=>jMA(n,r)));return Promise.all([a,j])}).then(([r,a])=>new pO(r,a)):Promise.reject(new Error("Missing keyset for decrypting provisioned user keyset"))});var pMe="parser/recoverable_keys",bcA=Ne(pMe),kMe=async(A,e)=>bcA("recoverableVaultKeyFromAPI",async()=>{let t=Ui(A,e.encryptedBy);return t?aa().decryptWithKeyset(t,e.encVaultKey).then(r=>(r.sn=e.vaultKeySN,new kO(e.vaultUuid,r))):Promise.reject(new Error("Could not find keyset"))}),hMe=async(A,e)=>bcA("recoverableGroupKeysetFromAPI",async()=>{let t=Ui(A,e.keyset.encryptedBy);return t?zn.decryptWithKeyset(t,e.keyset).then(r=>new hO(e.groupUuid,r)):Promise.reject(new Error("Could not find keyset"))}),gMe=async(A,e)=>bcA("recoverablePackageKeyFromAPI",async()=>{let t=Ui(A,e.key.kid);return t?aa().decryptWithKeyset(t,e.key).then(r=>new gO(e.packageUuid,r)):Promise.reject(new Error("Could not find keyset"))}),fMe=async(A,e)=>{let[t,r,a]=await Promise.all([Promise.all(e.vaultKeys.map(async j=>kMe(A,j))),Promise.all(e.groupKeysets.map(async j=>hMe(A,j))),Promise.all(e.packageKeys.map(async j=>gMe(A,j)))]);return new fO(t,r,a)},ycA=async(A,e)=>{let t=e.keys.map(async a=>fMe(A,a)),r=await Promise.all(t);return new BO(r)};var BMe="parser/vault_item",nMA=Ne(BMe),yN=async(A,e)=>{if(e.itemUsages.length===0)return[];let t=vj(Wn(e.vaults)),r=gn(await Promise.all(ro(t,async n=>$6(A,n))),"uuid"),a={};return(await Promise.all(e.itemUsages.map(async n=>{let i=e.vaultItems[n.itemUuid];if(!i)return;let o=r[n.vaultUuid];if(o&&!a[n.itemUuid])return GE(i,o)}))).forEach(n=>{n&&(a[n.uuid]=n)}),vj(e.itemUsages.map(n=>{let i=a[n.itemUuid];if(i!==void 0)return{...n,vaultItem:i}}))},FE=async(A,e)=>nMA("vaultItemsFromAPI",async()=>Promise.all(A.map(async t=>GE(t,e)))),GE=async(A,e)=>nMA("vaultItemFromAPI",async()=>{let t=e instanceof _e?new GA(e,void 0,A.uuid):e;return t.templateUuid=A.templateUuid,t.faveIndex=A.faveIndex||0,t.state=A.trashed||"",t.createdAt=Va(A.createdAt),t.updatedAt=Va(A.updatedAt),t.changerUuid=A.changerUuid||"",t.itemVersion=A.itemVersion,t.encryptedBy=A.encryptedBy,t.decrypt(A.encOverview,A.encDetails)}),qO=async A=>{let e=await A.encrypt();if(!e.templateUuid)throw new Error("Missing templateUuid");if(!e.encryptedBy)throw new Error("Missing encryptedBy");if(!e.encOverview)throw new Error("Missing encOverview");let t={uuid:e.uuid,templateUuid:e.templateUuid,packageUuid:e.packageUuid,itemVersion:e.itemVersion,encryptedBy:e.encryptedBy,encOverview:e.encOverview,encDetails:e.encDetails,trashed:e.state};e.updatedAt&&(t.updatedAt=Eu(e.updatedAt)),e.createdAt&&(t.createdAt=Eu(e.createdAt)),typeof e.faveIndex=="number"&&e.faveIndex>0&&(t.faveIndex=e.faveIndex);let r=ud(A.details.sections??[],a=>vj((a.fields??[]).map(j=>GA.getDocumentAttributesFromField(j))));return t.fileReferences=Rf([e.details.documentAttributes,e.overview?.icons?.detail,...r].map(a=>{if(!a)return;if(!a.signingKey){console.error(new Error("Cannot handle file with no signing key"));return}let j=new tO(vN(a),a.signingKey);return{fileId:j.fileId,signature:j.signReference(e.uuid,e.itemVersion)}})),t},vN=A=>A.documentId||A.fileId;var EMe="parser/report",yv=Ne(EMe),xMe=ro,bMe=async(A,e,t)=>yv("parseUserOverview",async()=>e?op(A,e.user,void 0,t).then(r=>({user:r,groupCount:e.groupCount,vaultCount:e.vaultCount,itemCount:e.itemCount})):Promise.resolve(void 0)),yMe=async(A,e)=>yv("parseVaultOverview",async()=>e?$6(A,e.vault).then(t=>({vault:t,userCount:e.userCount,groupCount:e.groupCount,currentUserUuids:e.currentUserUuids})):Promise.resolve(void 0)),vMe=async(A,e)=>yv("parseUserItemUsage",async()=>e?vE(A,e.vaults).then(async t=>{let r=gn(t,"uuid"),a=xMe(e.vaultItemsByVault,async(j,n)=>{let i=r[n];if(i&&j&&j.length>0)return FE(j,i)});return Rf(await Promise.all(a))}).then(t=>{let r=Em(t);return{itemUsages:iMA(r,e.itemUsages)}}):Promise.resolve(void 0)),FMe=async(A,e)=>yv("parseVaultItemUsage",async()=>e?$6(A,e.vault).then(async t=>t?FE(e.vaultItems,t):Promise.reject(new Error("Server vault is empty"))).then(t=>({itemUsages:iMA(t,e.itemUsages),usersByUserUuid:e.usersByUserUuid})):Promise.resolve(void 0)),vcA=async(A,e,t)=>yv("userReportFromAPI",async()=>{if(!e)return Promise.reject(new Error("Server JSON is empty"));let{overview:r,itemUsage:a}=e,[j,n]=await Promise.all([bMe(A,r,t),vMe(A,a)]);return{overview:j,itemUsage:n}}),FcA=async(A,e)=>yv("vaultReportFromAPI",async()=>{if(!e)return Promise.reject(new Error("Server JSON is empty"));let{overview:t,itemUsage:r}=e,[a,j]=await Promise.all([yMe(A,t),FMe(A,r)]);return{overview:a,itemUsage:j}}),GcA=async(A,e)=>yv("vaultsReportFromAPI",async()=>{if(!e)return Promise.reject(new Error("Server JSON is empty"));let t=e.items.map(async r=>{let a=await $6(A,r.vault);return{...r,vault:a}});return Promise.all(t)}),iMA=(A,e)=>{let t=gn(A,"uuid");return e.map(r=>{let a=t[r.itemUuid];if(a===void 0)throw new Error("itemUsagesFromApi: vaultItem not found");return{...r,vaultItem:a}})};var GMe="parser/serviceaccounts",wMe=Ne(GMe),wcA=async(A,e=0,t)=>wMe("parseServiceAccount",async()=>{let r=qMe(A),a=t?new q6({...t,...r}):new q6(r);return a.addAttrMask(e),A.tokens&&A.tokens.length>0&&(a.tokens=[...A.tokens]),a}),qMe=A=>({uuid:A.uuid,name:A.name,state:A.state,type:A.type,attrVersion:A.attrVersion,keysetVersion:A.keysetVersion,language:A.language,permissions:A.permissions,avatar:A.avatar,combinedPermissions:A.combinedPermissions,newsletterPrefs:A.newsletterPrefs,preferences:A.preferences,externalGUID:A.externalGUID||"",email:A.email,createdAt:Va(A.createdAt),updatedAt:Va(A.updatedAt),lastAuthAt:Va(A.lastAuthAt),creatorUuid:A.creatorUuid,serviceAccountType:A.serviceAccountType,serviceAccountVaultAccess:A.serviceAccountVaultAccess?IMe(A.serviceAccountVaultAccess):void 0,billables:A.billables,rotatedAt:Va(A.rotatedAt),expiresAt:Va(A.expiresAt)}),$Me=A=>({uuid:A.uuid,name:A.name,state:A.state,type:A.type,attrVersion:A.attrVersion,keysetVersion:A.keysetVersion,language:A.language,avatar:A.avatar,permissions:A.permissions,combinedPermissions:A.combinedPermissions,newsletterPrefs:A.newsletterPrefs,preferences:A.preferences,externalGUID:A.externalGUID||"",email:A.email,creatorUuid:A.creatorUuid,serviceAccountType:A.serviceAccountType}),IMe=({totalVaults:A,displayable:e})=>({totalVaults:A,displayable:e.map(t=>new na(t))});var qcA=A=>({availablePlans:A.availablePlans||[],completedAt:Va(A.completedAt),createdAt:Va(A.createdAt),domain:A.domain,email:A.email,expiresAt:Va(A.expiresAt),language:A.language,name:A.name,source:A.source,state:A.state,promoCode:A.promoCode,tierName:A.tierName,defaultBillingFrequency:A.defaultBillingFrequency,trialEndsAt:Va(A.trialEndsAt),type:A.type,uuid:A.uuid,stepUuid:A.stepUuid,features:A.features,duplicateAccounts:A.duplicateAccounts,flowServiceUuid:A.flowServiceUuid,setupIntentCode:A.setupIntentCode});var $cA=A=>A.map(e=>new bO({userUuid:e.userUuid,userEmail:e.userEmail,userName:e.userName,userAvatarURL:e.userAvatarURL,usingMyDomain:!!e.usingMyDomain,accountUuid:e.accountUuid,accountType:e.accountType,accountName:e.accountName,accountDomain:e.accountDomain,accountAvatarURL:e.accountAvatarURL,hasPrioritySupport:!!e.hasPrioritySupport}));var oMA=sA`parser/admin_watchtower`,PMe=Ne(oMA.str),sMA=2,IcA=async(A,e,t,r)=>{let a=!!A.account?.hasFeature.itemsInWrongAccountPolicy;return(await PMe("parseAdminWatchtowerReports",async()=>Promise.all(e.map(async n=>{try{return await SMe(A,n,t,a,r)}catch(i){if(r!==void 0)for(let o=0;o<sMA;o++)r();return}})))).filter(n=>n!==void 0)},SMe=async(A,e,t,r,a)=>{if(!t.data)throw new Error("Admin Watchtower decryption key does not exist");let j=await CMe(t.data.ePriKey,e.encData,a),n=await OMe(A,e.vaultData,a),i=j.cw+j.rp+(j.vp??0)+j.wp+(j.uw??0)+j.i2fa+j.exp+(r&&j.wa||0);return{uuid:e.uuid,vaultUuid:e.vaultUuid,vaultType:e.vaultType,vaultName:e.vaultName,combinedAcl:e.vaultData?.combinedAcl,updatedAt:e.updatedAt,isOutdated:e.isOutdated,reportData:j,totalIssues:i,vaultAttrs:n}},CMe=async(A,e,t)=>{let r=await oO(A,e),a=Ke(r.content,xr.pipe(g6A)).unwrap();return t?.(),a},OMe=async(A,e,t)=>{if(e===void 0){t?.();return}let r=Ui(A,e.encVaultKey.kid);if(!r)throw new Error("No vault access keyset found");let n=await(await aa().decryptWithKeyset(r,e.encVaultKey)).decrypt(e.encVaultAttrs),i=Ke(n,xr).unwrap(),o=Ke(i,oN,{mode:"unsafe_report_only",file:oMA,func:sA`parseAndDecryptVaultAttrs`}).unwrap();return t?.(),o};var $MA=AA(al());var kg=AA(OA());var lMA=1e3,TMe=15e3,cMA=kg.readonly(kg.type({account:kg.string,user:kg.string,device:kg.string,session:kg.string}),"ServerNotification"),FN=class{constructor(e,t){this.connect=r=>{if(!r){console.warn("Notifier not available");return}""+r,this.websocket=new WebSocket(r),this._closing=!1,this.websocket.addEventListener("open",()=>{""+r,(this._disconnected===void 0||this._disconnected&&Date.now()-this._disconnected>this._notifierReconnectJitter)&&this.connectHandler(),this._disconnected=void 0}),this.websocket.addEventListener("close",()=>{if(""+r,this.websocket=void 0,!this._closing){this._notifierReconnectDelay*=1.3;let a=this._notifierReconnectDelay;if(!this._disconnected){this._disconnected=Date.now();let j=ji(0,this._notifierReconnectJitter);a+=j}`${a}`,setTimeout(()=>this.connect(r),a)}}),this.websocket.addEventListener("message",a=>{this._notifierReconnectDelay=lMA,this.eventHandler(a)})},this.disconnect=()=>{this._closing=!0,this.websocket?.close(),this.websocket=void 0},this.eventHandler=e,this.connectHandler=t,this._notifierReconnectDelay=lMA,this._notifierReconnectJitter=TMe,this._closing=!1}};var uMA=tu,_Me=Wn,I6=()=>({contexts:{},getAllEntries(A){return DMe(this,A)},getEntry(A,e,t){return MMe(this,A,e,t)},withEntries(A,e,t){return RMe(this,A,e,t)},withOnlyEntries(A,e,t){return KMe(this,A,e,t)},withoutEntries(A,e){return LMe(this,A,e)},withoutContext(A){return NMe(this,A)}}),ScA=A=>{PcA={...PcA,[A]:Date.now()}},DMe=(A,e)=>{let t=A.contexts[e];if(t&&t.timestamp>mMA(e))return ro(_Me(t.entries),r=>r.value)},zMe=A=>({attrMask:0,...A}),MMe=(A,e,t,r)=>{let{attrMask:a}=zMe(r),j=A.contexts[e],n=j&&j.entries[t];if(n&&n.timestamp>mMA(e)&&(n.attrMask&a)===a)return n.value},dMA=A=>({attrMask:0,timestamp:Date.now(),...A}),RMe=(A,e,t,r)=>{let{attrMask:a,timestamp:j}=dMA(r),n=A.contexts[e],i=n&&n.entries||{},o=uMA(t,c=>({attrMask:a,value:c,timestamp:j})),s={...i,...o};return CcA(A,e,{entries:s})},KMe=(A,e,t,r)=>{let{attrMask:a,timestamp:j}=dMA(r),n=uMA(t,i=>({attrMask:a,value:i,timestamp:j}));return CcA(A,e,{entries:n,timestamp:j})},LMe=(A,e,t)=>{let r=A.contexts[e],a=r&&r.entries||{},j=tl(a,t);return CcA(A,e,{entries:j})},NMe=(A,e)=>({...A,contexts:tl(A.contexts,e)}),CcA=(A,e,t)=>{let r=A.contexts[e]||{};return{...A,contexts:{...A.contexts,[e]:{entries:{},timestamp:0,...r,...t}}}},PcA={},mMA=A=>PcA[A]||0;var $E=AA(OA());var vv=AA(vs()),wMA=AA(vMA());var TN,uRe="action/Session",ON=Ne(uRe),qMA="v1",dRe="He never wears a Mac, in the pouring rain. Very strange.",mRe=6e5,pRe=21e5,kRe=A=>{[`\u2B06\uFE0F ${A.method} ${A.url}`,`Session: ${A.sessionUuid}`,`Request: ${A.requestId instanceof TA?A.requestId.str:A.requestId}`].join(`
`)},McA=(A,e,t)=>{[`\u2705 ${A.method} ${A.url}`,`Session: ${A.sessionUuid}`,`Request: ${A.requestId instanceof TA?A.requestId.str:A.requestId}`,`Time: ${Math.round(e-A.start)} ms`,typeof t=="number"&&`Bytes: ${t}`].filter(a=>typeof a=="string").join(`
`)},RcA=(A,e,t)=>{[`\u274C (${t}) ${A.method} ${A.url}`,`Session: ${A.sessionUuid}`,`Request: ${A.requestId instanceof TA?A.requestId.str:A.requestId}`,`Time: ${Math.round(e-A.start)} ms`].join(`
`)},qE=class{constructor(e,t,r,a={}){this.setOpUserAgent=async j=>{await tG(navigator.userAgent).then(n=>this._opuaStr=iR(j,n))},this.clearSessionKey=()=>{this._sessionKey=void 0},this.refreshSession=()=>{if(!this.isSignedIn)return;let j=this._lastSessionExtension?Date.now()-this._lastSessionExtension:void 0;if(j!==void 0&&j>pRe){this.nc.emit(la.SessionExpired);return}(j===void 0||j>mRe)&&(mP(this).catch(n=>{}),this._lastSessionExtension=Date.now())},this.setSessionUuid=j=>{this._sessionUuid=j},this.setLanguage=j=>{xm(this._options,{headers:{"Accept-Language":j}})},this.importSessionKey=async j=>ON("importSessionKey",async()=>{let n=aa(this._sessionUuid);return n.importRawKey(ba,j).then(async()=>(this._sessionKey=n,n.jwk?(this._sessionHmac=TN.createSessionHmac(n.jwk.k),Promise.resolve(void 0)):Promise.reject(new Error("Missing JWK"))))}),this.importAdditionalRestoreContext=j=>{this._additionalRestoreContext=j},this.importAuth=j=>{this._auth=j},this.getAdditionalRestoreContext=()=>{let j=this._additionalRestoreContext;if(this._additionalRestoreContext=void 0,j===void 0)throw new Error("Missing context restore key");return j},this.createMacHeaderValueForRequest=async(j,n)=>{if(!this._sessionHmac)throw new Error("Missing session HMAC");if(!this._sessionUuid)throw new Error("Missing session ID");if(!this.requestId)throw new Error("Missing request ID");let i=this.requestId++,o=TN.getMacMessage(this._sessionUuid,j,n,i);return[await TN.createMacHeaderValue(o,i,this._sessionHmac),i]},this.request=async j=>{let{encrypted:n,method:i,url:o,body:s,options:c,name:u}=j,p=o[0]==="/"?`https://${this._host}${o}`:o,h=new URL(p).host,f=`accounts.${jl(this._host)}`,G=h===this._host||h===f,w,y=xm({},this._options,c),E=y.headers||{};if(G){if(E["OP-User-Agent"]=this._opuaStr||iR(this._opua,await tG(navigator.userAgent)),this._sessionUuid&&(E["X-AgileBits-Session-ID"]=this._sessionUuid,this._sessionKey)){let[q,K]=await this.createMacHeaderValueForRequest(i,p);w=K,E["X-AgileBits-MAC"]=q,this.nc.emit(la.SessionRequestIdChanged)}y={...y,headers:E}}let $=s;if(n&&s){if(!this._sessionKey)throw new Error("Missing session key");let q=xiA(s,y.dataType);q&&($=await this._sessionKey.encrypt(q),y.dataType="json")}w||(w=NA(G4(8)));let T=y.responseType??"json",O=j.decryptResponse??(T==="json"&&n?"mustDecrypt":"dontDecrypt"),I={name:u,method:i,url:o,sessionUuid:this._sessionUuid||"[none]",requestId:w,start:performance.now(),responseType:T,decryptResponse:O};return kRe(I),mK(i,p,$,y).then(BRe(I,this._sessionKey,q=>{this.isSignedIn&&this.nc.emit(la.SessionExpired,{isReauthenticationRequired:q?.isReauthenticationRequired??!1})}),bRe(I))},this.encrypt=async j=>ON("encrypt",async()=>this._sessionKey?this._sessionKey.encrypt(Ua(j)):Promise.reject(new Error("Missing session key"))),this._startAuth=async(j,n)=>{if(!Fj.device)throw new Error("Missing device identifier");if(!j.secretKey)throw new Error("Missing Secret Key");this._sessionKey&&console.warn("SessionKey already exist, will reset sessionKey and sessionUuid");let i=j.secretKey,o=Fj.device;this.requestId=0,this._sessionHmac=void 0,this.setSessionUuid(void 0),this._sessionKey=void 0;let s={email:j.email,skFormat:i.format.toString(),skid:i.id,deviceUuid:o.uuid,userUuid:j.uuid},c=await nB(this,s);if(c.newHost)return{type:"domain_changed",newHost:c.newHost};if(c.newEmail)return{type:"email_changed",newEmail:c.newEmail};if(c.status==="device-not-registered"){this.setSessionUuid(c.sessionID),await crA(this,o);let u={email:j.email,skFormat:i.format.toString(),skid:i.id,deviceUuid:o.uuid,userUuid:j.uuid},p=await nB(this,u);return this._handleStartAuthResponse(p,j)}if(c.status==="device-deleted")if(n){this.setSessionUuid(c.sessionID),await mrA(this,o.uuid);let u={email:j.email,skFormat:i.format.toString(),skid:i.id,deviceUuid:o.uuid,userUuid:j.uuid},p=await nB(this,u);return this._handleStartAuthResponse(p,j)}else throw new oe.ClientError(oe.ClientErrorCode.deviceDeleted,"This device has been deauthorized. Sign in again to reauthorize it.");return this._handleStartAuthResponse(c,j)},this._handleStartAuthResponse=async(j,n)=>{if(!j.accountKeyFormat)throw new Error("Invalid response, missing accountKeyFormat");if(!j.accountKeyUuid)throw new Error("Invalid response, missing accountKeyUuid");if(!j.sessionID)throw new Error("Invalid response, missing sessionID");if(!j.userAuth)throw new Error("Invalid response, missing userAuth");if(!n.secretKey)throw new oe.SecretKeyMissingError(j.accountKeyUuid);if(n.secretKey.id!==j.accountKeyUuid||n.secretKey.format!==j.accountKeyFormat)throw new oe.SecretKeyIdOrFormatMismatchedError(j.accountKeyUuid,n.secretKey.id,j.accountKeyFormat,n.secretKey.format.toString());return{type:"auth_success",secretKey:n.secretKey,sessionUuid:j.sessionID,authParams:j.userAuth}},this._performSrpExchange=async(j,n,i)=>{try{if(!this._sessionUuid)throw new Error("Missing session ID");let s=yRe(n,i),c=await(await Is.fromHex(j.srpX)).beginAuth(il.fromString(j.params.method).group,Je(j.params.salt),s),u=await WtA(this,c.bigAhex),p=await c.recieveBigBhex(u.userB),h=await JtA(this,p.clientHash);return(await p.recieveServerHash(h.serverVerifyHash)).rawKey}catch(o){throw oe.isServerError(o,oe.ServerErrorCode.authenticationRequired,oe.HTTPStatusCode.unauthorized)?new oe.ClientError(oe.ClientErrorCode.invalidEmailOrPassword,"Invalid email or password"):o}},this.initialize=async j=>{this._isVerified=!0,this.setSessionUuid(j.sessionUuid),this._serverConfig=j.serverConfig,this.requestId=j.requestId,this._auth=j.auth,await this.importSessionKey(j.rawSessionKey)},this.signin=async(j,n,i)=>{this._isVerified=!1;let o=await this._startAuth(j,n);if(o.type!=="auth_success")return o;if(this.setSessionUuid(o.sessionUuid),j.secretKey=o.secretKey,i)this._auth={srpX:i,params:o.authParams};else if(j.password)this._auth=await Zj.generateWithParams({email:j.email,password:j.password,secretKey:j.secretKey},o.authParams);else throw new Error("Missing password or srpX");this.requestId=1;let s=await this._performSrpExchange(this._auth,j.secretKey.id,j.email);return await this.importSessionKey(s),this.complete(j)},this.signInWithCredentialBundle=async(j,n,i,o,s)=>{this._isVerified=!1,this._auth={srpX:n.exportHex(),params:j},this.requestId=1;let c=await this._performSrpExchange(this._auth,o,s);return await this.importSessionKey(c),this.complete(void 0,i)},this.complete=async(j,n)=>{if(!this._sessionUuid)return Promise.reject(new Error("Missing session ID"));let i={client:Fj.clientDescriptor,signInToken:n};Fj.device.name&&(i.device=Fj.device);try{let o=await YtA(this,i);return this._serverConfig=o,this._ssoMigrationGracePeriod=o.ssoMigrationGracePeriod,j&&o.userUuid&&(j.uuid=o.userUuid),j&&this.ssoMigrationGracePeriod?.state===St.State.MustMigrateAuth&&(j.state=St.State.MustMigrateAuth),o.mfa?{type:"mfa_required",details:o.mfa}:(this._isVerified=!0,this._lastSessionExtension=Date.now(),{type:"verified_session",session:this})}catch(o){throw this._isVerified=!1,o}},this.verifyOidc=async(j,n,i)=>{let o=await DrA(this,j,n,i,void 0);return this.setSessionUuid(o.user.sessionUuid),o},this.verifyPasskey=async(j,n,i,o)=>{let s=await RrA(this,j,n,i,o);return this.setSessionUuid(s.user.sessionUuid),s},this.registerWebauthnCredential=async()=>KrA(this),this.verifyWebauthnCredentialAttestation=async(j,n)=>LrA(this,j,n),this.verifyMfa=async j=>ON("verifyMfa",async()=>{if(!this._sessionUuid)return Promise.reject(new Error("Missing session ID"));let n={sessionId:this._sessionUuid,client:Fj.clientDescriptor};switch(j.type){case"dSecret":{n.dsecret={dshmac:j.dshmac};break}case"dSecretProxy":{n.dsecretProxy={deviceUuid:j.deviceUuid,dshmac:j.dshmac};break}case"totp":{n.totp={code:j.code};break}case"email":{n.code={code:j.code};break}case"webAuthn":{n.webAuthn=j.data;break}case"duo":{n.duo={sigResponse:j.sigResponse};break}case"duov4":{n.duov4={code:j.code};break}}return ZtA(this,n).then(async i=>(this._isVerified=!0,this._lastSessionExtension=Date.now(),this._ssoMigrationGracePeriod=i.ssoMigrationGracePeriod,Promise.resolve(i))).catch(async i=>(this._isVerified=!1,oe.isServerError(i,oe.ServerErrorCode.authenticationRequired,oe.HTTPStatusCode.unauthorized)?Promise.reject(new oe.ClientError(oe.ClientErrorCode.invalidMFA,"MFA authentication failed")):Promise.reject(i)))}),this.enableMfaWithAuth=async j=>ON("enableMfaWithAuth",async()=>{if(!this._sessionUuid)throw new Error("Missing session ID");let n={sessionId:this._sessionUuid,client:Fj.clientDescriptor,mfa:j};try{let i=await QtA(this,n);return this._isVerified=!0,this._lastSessionExtension=Date.now(),i}catch(i){throw this._isVerified=!1,oe.isServerError(i,oe.ServerErrorCode.badRequest,oe.HTTPStatusCode.badRequest)?new oe.ClientError(oe.ClientErrorCode.invalidMFA,"MFA authentication failed"):i}}),this._host=e,this.nc=new vb.EventEmitter,this._onRequestIdChange=a.onRequestIdChange,this._options={dataType:"json",responseType:"json",cache:!1,attempts:1,timeout:3e4},this._isVerified=!1,this._requestId=0,this._sessionHmac=void 0,this.setSessionUuid(void 0),this._sessionKey=void 0,this.setLanguage(t),this._opuaStr=void 0,this._opua=r,this.setOpUserAgent(r)}get auth(){return this._auth}get requestId(){return this._requestId}set requestId(e){this._requestId=e,this._sessionUuid&&this._onRequestIdChange?.(e,this._sessionUuid)}get sessionUuid(){return this._sessionUuid||""}get sessionKey(){return this._sessionKey}get serverConfig(){return this._serverConfig}get ssoMigrationGracePeriod(){return this._ssoMigrationGracePeriod}get isSignedIn(){return!!this._sessionKey&&this._isVerified}};TN=qE;qE.createSessionHmac=A=>iAA(A,dRe);qE.getMacMessage=(A,e,t,r)=>{let a=new URL(t);return[A,e.toUpperCase(),`${a.hostname}/${eG(a.pathname,"/")}?${eG(a.search,"?")}`,qMA,r].join("|")};qE.createMacHeaderValue=async(A,e,t)=>{let r=new Uint8Array(vv.codec.bytes.fromBits(t.encrypt(A))),a=Ye(r.subarray(0,12));return[qMA,e,a].join("|")};var hRe=$E.type({reason:$E.string}),gRe=$E.type({errorCode:$E.number,errorMessage:$E.string}),fRe=(A,e,t)=>{if(A===oe.HTTPStatusCode.tooManyRequests){let r=t("X-Rate-Limit-Retry-In"),a=r?Number.parseInt(r,10):void 0,j=new oe.ServerError(oe.HTTPStatusCode.tooManyRequests);return j.waitLength=a,j}return A===oe.HTTPStatusCode.deprecatedClient?new oe.ServerError(A,oe.ServerErrorReason.deprecated):gRe.is(e)?new oe.LegacyServerError(e.errorCode,e.errorMessage):hRe.is(e)?new oe.ServerError(A,e.reason):typeof e=="string"&&e.length>0?new oe.ServerError(A,e):new oe.ServerError(A)},BRe=(A,e,t)=>async r=>{let a=ERe(r.headers.get("Proxy-Status"));return a?a.error?GMA(A,t,r):FMA(A,e,r):r.status>=200&&r.status<300?FMA(A,e,r):GMA(A,t,r)},ERe=A=>{if(!A)return;let e=(0,wMA.parseList)(A).map(([t,r])=>({svc:t.toString(),params:r})).find(({svc:t})=>t==="B5");if(e)return{error:e.params.get("error")?.toString()}},O1;(function(A){A.ActuallyEmpty="ActuallyEmpty",A.Success1="Success1",A.EmptyArray="EmptyArray",A.EmptyDict="EmptyDict"})(O1||(O1={}));var xRe=A=>{if(A.length===0)return O1.ActuallyEmpty;switch(Di(A)){case'{"success": 1}':return O1.Success1;case"[]":return O1.EmptyArray;case"{}":return O1.EmptyDict;default:return!1}},FMA=async(A,e,t)=>{if(A.responseType!=="json")return McA(A,performance.now()),t;let r=t.clone(),a=new Uint8Array(await t.arrayBuffer()),j=performance.now(),n=xRe(a);if((()=>{switch(A.decryptResponse){case"mustDecrypt":return!0;case"mustDecryptExceptUndefined":return!n;case"dontDecrypt":return!1}})()){if(!e)throw T1(sA`handleRequestSuccess`,sA`Response should be decrypted but session is missing`,A),new Error("Response should be decrypted but session is missing");if(n){let o=s=>NA(s);T1(sA`handleRequestSuccess`,sA`Response should be decrypted but it wasn't present: THIS WILL FAIL IN FUTURE PLEASE FIX ME. "empty" variant: ${o(n)}`,A)}else try{let o=Ke(a,xr.pipe(no)).unwrap(),s=await e.decrypt(o);return McA(A,j,s.byteLength),new Response(s,t)}catch(o){throw console.error("Failed to decrypt response",o),T1(sA`handleRequestSuccess`,sA`Failed to decrypt response`,A),o}}return McA(A,j),r},GMA=async(A,e,t)=>{RcA(A,performance.now(),t.status);let r,a=t.headers.get("Content-Type");if(a==="text/plain; charset=utf-8")try{let n=await t.text();try{r=JSON.parse(n)}catch{r=n}}catch(n){let i=sA`Failed to read ${tb(t.status)} response body as text`;throw console.error(i,n),t.status!==oe.HTTPStatusCode.unauthorized&&T1(sA`handleRequestError`,i,A),new oe.ServerError(t.status)}else{let n=sA`Unexpected content type for ${tb(t.status)} response: ${a?NA(a):sA``}`;throw console.error(n),T1(sA`handleRequestError`,n,A),new oe.ServerError(t.status)}let j=fRe(t.status,r,n=>t.headers.get(n));throw oe.isNewServerError(j,oe.ServerErrorReason.reauthenticationRequired)||oe.isLegacyServerError(j,oe.ServerErrorCode.reauthenticationRequired)?e({isReauthenticationRequired:!0}):oe.isServerError(j,oe.ServerErrorCode.authenticationRequired,oe.HTTPStatusCode.unauthorized)&&e(),j},bRe=A=>e=>{if(oe.isClientError(e,oe.ClientErrorCode.serverRequestTimedOut))throw RcA(A,performance.now(),"timeout"),e;RcA(A,performance.now(),"no status"),console.error("Unexpected fetch error:",e);let t=(()=>{if(e instanceof Error)switch(e.name){case"AbortError":return sA`AbortError`;case"NotAllowedError":return sA`NotAllowedError`;case"TypeError":return sA`TypeError`;default:return sA`[Unexpected error name]`}else return sA`[Invalid error type]`})();throw T1(sA`handleFetchError`,sA`Unexpected fetch error: ${t}`,A),new oe.ClientError(oe.ClientErrorCode.unexpectedFetchError,"The request failed unexpectedly. Check your Internet connection and try again.")},T1=async(A,e,{name:t=sA`unknown`,sessionUuid:r,requestId:a})=>$s(new fn({errorClass:_l.RequestError,message:sA`${e}: func: ${A} req: ${t}`,metaData:{request:{name:t,sessionUuid:NA(r),requestId:typeof a=="number"?tb(a):a}}})),yRe=(A,e)=>{let t=vv.hash.sha256.hash(Rj(mt(A))),r=e.trim().normalize("NFKD").toLowerCase(),a=vv.hash.sha256.hash(Rj(mt(r))),j=new vv.hash.sha256;return j.update(t),j.update(a),Ye(new Uint8Array(vv.codec.bytes.fromBits(j.finalize())))};var vRe=sA`web-api/action/context.ts"`,FRe=0,Fv=class{constructor(e){this.updateOpuaConfig=async a=>{this.config.opua=xm({},this.config.opua,a),await this.session.setOpUserAgent(this.config.opua)},this.onNotifierConnected=()=>{Ra(this),this.sendServerEvent(la.ServerConnected)},this.onNotificationReceived=a=>{let j=Ke(a.data,Fs.pipe(cMA),{file:vRe,func:sA`onNotificationReceived`});j.type==="ok"?j.value.session===this.session.sessionUuid?this.nc.emit(la.ServerChangedFromSelf):(Ra(this),this.sendServerEvent(la.ServerChanged)):console.error(new Error("Invalid server notification"))},this.sendServerEvent=qY(async a=>{let j;try{j=await FO(this)}catch(n){console.error("Failed to refresh keysets",n)}this.nc.emit(a),j&&this.nc.emit(la.ServerChangedWithData,{keysets:j})},5e3,{leading:!0,trailing:!0}),this.config=cY({demoGeneratorIsEnabled:!1,host:"start.1password.com",env:"prd",internalFeaturesAreEnabled:!1,inWebView:!1,server:"1password.com",shouldResetWhenSessionExpires:!0,siblingDomains:[],txtBase:"/txt",opua:{client:{shortCode:SG.OnePasswordForWeb,buildNum:0},deviceUuid:""}},e,(a,j)=>bY(j)||typeof j=="string"&&j.length===0?a:j),this.nc=new vb.EventEmitter,this.id=++FRe,ScA(this.id);let{notifier:t,session:r}=this.reset();this.notifier=t,this.session=r}reset(){let e=this.config.lang||navigator.language||"en";return this.session=new qE(this.config.host,e,this.config.opua,{onRequestIdChange:this.config.onRequestIdChange}),this.notifier&&this.notifier.disconnect(),this.notifier=new FN(this.onNotificationReceived,this.onNotifierConnected),this.session.nc.on(la.SessionExpired,t=>{this.nc.emit(la.SessionExpired,t),this.config.shouldResetWhenSessionExpires&&this.reset()}),this.nc.on(la.SignedOut,()=>{this.reset()}),this.account=void 0,this.user=void 0,this.userAuth=void 0,this.accountOverview=void 0,{notifier:this.notifier,session:this.session}}get user(){return this._user}set user(e){this._user=e}setUserUUID(e){if(!this._user)throw new Error("User is not set yet");this._user.uuid=e}get account(){return this._account}set account(e){this._account=e}get domain(){if(this.account)return this.account.domain;let e=this.config.host.split(".").shift();if(!e)throw new Error("No domain found, invalid host provided.");return e}resetWithHost(e){if(!GRe(e))throw new Error("Invalid host");let t=wRe(e);if(!t)throw new Error("Invalid host");this.config.host=e,this.config.server=t,this.reset()}isSignedIn(){return this.session.isSignedIn}loadVaultReportingPubKey(){this.dvrPubKey||(this.dvrPubKey=(async()=>{try{let e=await HlA(this.session);return fk.fromJwk(e.pubKey)}catch(e){throw console.error("Failed to retrieve Detailed Vault Reporting public key",e),e}})())}loadVaultReportingPriKey(){this.dvrPriKey||KcA(this)&&(this.dvrPriKey=(async()=>{try{let e=await hg(this,vo.DetailedVaultReportingKeyset),t=e.data.find(a=>a.objectType===vo.DetailedVaultReportingKeyset);if(!t)throw new Error("No access");let r=await IE(this,e,t.objectUuid,nN);if(!r.data?.ePriKey)throw new Error("Failed to retrieve vault reporting private key from OD.");return Sm.fromJwk(r.data.ePriKey)}catch(e){throw console.error("Failed to retrieve Detailed Vault Reporting private key"),e}})())}},GRe=A=>{try{let e=new URL(`https://${A}`);return A===e.host}catch{return!1}},wRe=A=>typeof A!="string"||!A?"":A.slice(A.indexOf(".")+1),Ra=A=>{ScA(A.id)},Ms=A=>{A.nc.emit(la.ClientStateChanged)},qRe=A=>A.session.isSignedIn&&A.user&&A.user.uuid&&A.user.keysetVersion>0&&A.user.attrVersion>0;var LcA="action/group",PO=fj(LcA),_1=Ne(LcA),NcA={attrs:VA.Attr.None},$Re=async(A,e)=>_1("getGroups",async()=>{let{attrs:t,limit:r,offset:a,search:j,user:n,vault:i,sort:o,sortDir:s,membershipsOnly:c}={...NcA,...e};return cP(e?.search)?[]:HR(A.session,t,{limit:r,offset:a,search:j,user:n,vault:i,sort:o,sortDir:s,membershipsOnly:c||!1}).then(async u=>P1(A,u))}),IRe=async(A,e)=>_1("searchGroupsCount",async()=>{let{attrs:t,search:r,user:a,vault:j}={...NcA,...e};return cP(e?.search)?0:LeA(A.session,t,{search:r,user:a,vault:j}).then(async n=>n)}),UcA=async(A,e,t)=>_1("getManagableGroups",async()=>{let{attrs:r}={...NcA,...e};return HR(A.session,r).then(async a=>P1(A,a.filter(j=>t?j.type!==VA.TypeRecovery:j.type!==VA.TypeRecovery&&j.type!==VA.TypeExternalAccountManagers)))}),PRe={attrs:VA.Attr.None,mustReload:!1},In=async(A,e,t)=>_1("getGroup",async()=>{let r=$m(e);if(!r)throw new Error("Invalid group reference");let{attrs:a,mustReload:j}={...PRe,...t},n=A.account&&A.account.findGroup(r);return n&&!j&&n.hasAttrMask(a)?n:NeA(A.session,r,a).then(async i=>BN(A,i,a,n))}),Rs=async(A,e)=>Promise.resolve().then(async()=>{let t=A.account&&A.account.recoveryGroup;if(!t)throw new Error("Missing recovery group");return In(A,t,e)}).catch(PO("getRecoveryGroup")),_N=async(A,e)=>Promise.resolve().then(async()=>{let t=A.account&&A.account.administratorsGroup;if(!t)throw new Error("Missing administrators group");return In(A,t,e)}).catch(PO("getAdministratorsGroup")),DN=async(A,e)=>Promise.resolve().then(async()=>{let t=A.account&&A.account.ownersGroup;if(!t)throw new Error("Missing owners group");return In(A,t,e)}).catch(PO("getOwnersGroup")),lp=async(A,e)=>Promise.resolve().then(async()=>{let t=A.account&&A.account.teamMembersGroup;if(!t)throw new Error("Missing members group");return In(A,t,e)}).catch(PO("getTeamMembersGroup")),SRe=async(A,e)=>Promise.resolve().then(async()=>{let t=A.account&&A.account.securityGroup;if(!t)throw new Error("Missing security group");return In(A,t,e)}).catch(PO("getSecurityGroup")),cp=async(A,e,t)=>_1("generateNewKeysetForGroup",async()=>zn.generateWithoutSigningKeys().then(async r=>(gN(A,[r]),Promise.resolve().then(async()=>{if(e.activeKeysetUuid){let a=Ui(A,e.activeKeysetUuid);return a?(r.sn=a.sn+1,a.encryptWithKey(r.symKey).then(j=>{e.archivedKeysets=[j,...e.archivedKeysets]})):Promise.reject(new Error("Missing current active keyset."))}return r.sn=1,Promise.resolve()}).then(async()=>r.ekeyPair.pubKey?(e.pubKey=r.ekeyPair.pubKey,e.activeKeysetUuid=r.uuid,e.enableKeysetRecovery(r,t)):Promise.reject(new Error("Missing public key."))).then(()=>r)))),HcA=async(A,e)=>{let t=new VA(e),r=await Rs(A,{attrs:VA.Attr.PubKey}),a=await cp(A,t,r);return A.user?(A.user.isExternalAccountManagement||await t.addMembership(a,A.user,{role:Ha.Role.Manager}),await PE(A,t)):Promise.reject(new Error("Missing user"))},PE=async(A,e)=>{let t=bv(e,VA.Attr.All);if(await XeA(A.session,t),A.account&&A.account.pushGroup(e),A.user){let r=e.getMembership(A.user.uuid);r&&A.user.pushGroupMembership(r)}return e},CRe=async(A,e)=>{await WeA(A.session,e.uuid),Ra(A),A.account&&A.account.removeGroup(e)},ORe=async(A,e)=>{await JeA(A.session,e.uuid),Ra(A),A.account&&A.account.removeGroup(e)},TRe=async(A,e)=>{let t=await In(A,e);t!==e&&A.account&&(A.account.removeGroup(t),A.account.pushGroup(e),console.warn(new Error("Stale group reference."))),await HeA(A.session,bv(e,VA.Attr.None)),e.attrVersion++,Ms(A)},zN=async A=>{let e=await Rs(A);if(!e.activeKeysetUuid)throw new Error("Missing group's active keyset UUID.");return Ui(A,e.activeKeysetUuid)},VcA=async(A,e,t)=>{if(e=await In(A,e),pt.includesAny(t,O6A)&&!e.recoveryKeyset){let r=await zN(A);if(!r)throw new Error("Failed to find Recovery keyset");await D1(A,e,r)}return e.permissions=t,await VeA(A.session,e.uuid,t),e},D1=async(A,e,t)=>{if(e=await In(A,e,{attrs:VA.Attr.PubKey}),!e.pubKey)throw new Error("Missing group's public key");let r=await t.encryptWithKey(e.pubKey);e.recoveryKeyset=r;let a=bv(e,VA.Attr.None);return await etA(A.session,a),e},_Re=async(A,e)=>Vo([LcA,"getGroupMemberCSV",A.id],async()=>ttA(A.session,e.uuid)),z1=async(A,e)=>_1("getActiveKeysetForGroup",async()=>{let t=e.activeKeysetUuid;if(!t)return Promise.reject(new Error("Missing group's active keyset UUID."));let r=Ui(A,t);return r?Promise.resolve(r):fN(A).then(async()=>{let a=Ui(A,t);return a?Promise.resolve(a):In(A,e,{attrs:VA.Attr.RecoverableKeyset}).then(async j=>{if(j.recoverableKeyset){let n=Ui(A,j.recoverableKeyset.encryptedBy);if(n)return j.decryptRecoverableKeyset(n).then(i=>(gN(A,[i]),i))}return Promise.reject(new Error("Missing group's active keyset."))})})}),DRe=async(A,e)=>rtA(A.session,{groupUuids:e}),zRe=async(A,e,t)=>atA(A.session,e,{applicationUuids:t});var hg=async(A,e)=>(await zaA(A.session,e)).combinedAccess,SO;(function(A){A[A.Fulfilled=0]="Fulfilled",A[A.Rejected=1]="Rejected"})(SO||(SO={}));var MRe=async A=>IMA(A,Object.values(vo)),IMA=async(A,e)=>{let t=await Promise.all(e.map(async a=>{try{return{status:SO.Fulfilled,value:await hg(A,a)}}catch{return{status:SO.Rejected}}})),r=[];return t.forEach(a=>{a.status===SO.Fulfilled&&r.push(a.value)}),r},RRe=async(A,e,t,r)=>UaA(A.session,e,t,r||{}),XcA=async(A,e,t)=>{let r=e.find(j=>j.uuid===A.encryptedBy);if(!r)throw new Error("None of the keysets match this object data");let a;if(A.data.dataType!==xi.None&&A.data.dataType!==xi.UserManagedServiceAccountCreator){let n=await(await aa().decryptWithKeyset(r,A.data.encKey)).decrypt(A.data.encData);a=Ke(n,xr.pipe(t)).unwrap()}return{objectUuid:A.objectUuid,data:a,acl:A.acl}},IE=async(A,e,t,r)=>{let a=e.data.find(n=>n.objectUuid===t&&n.data.dataType!==xi.None);if(!a)throw new Error("Unable to find object data for uuid");if(JcA(a)){let n=await Uk(A,e.keysets);return XcA(a,n,r)}let j=Ke(a.data,r).unwrap();return{objectUuid:a.objectUuid,data:j,acl:a.acl}},WcA=async(A,e,t)=>{let r=await sw(A.session,e,t);for(let a of r.requiredGroups){let j=await In(A,a,{attrs:VA.Attr.PubKey});await OO(A,e,os.Manage,j,[],r)}return await D9(A.session,e)},CO=async(A,e,t,r,a,j=[])=>{let n=await D9(A.session,e);if(n||(n=await WcA(A,e,r)),!n)throw new Error("Unable to get or bootstrap object data preflight.");let i=await M1(e,a.objectUuid,t,a,[...n.accessors,...j]);await LaA(A.session,e,{objectUuid:a.objectUuid,data:i})},KRe=async(A,e)=>{let t=[...e.accessors],r=vo.ServiceAccountUserManaged;if(!e.accessors?.length){let a=await WcA(A,r,os.Manage);if(!a)throw new Error("Unable to get or bootstrap object data preflight.");t=[...a.accessors]}return t.map(a=>({objectType:r,objectUuid:e.uuid,data:{dataType:xi.UserManagedServiceAccountCreator},encryptedBy:a.kid,acl:[Os.ServiceAccountCreatorManaged]}))},PMA=async(A,e,t,r,a)=>{await HaA(A.session,e,t,a,r)},M1=async(A,e,t,r,a)=>Promise.all(a.map(async j=>{let n;if(r.data&&LRe(t,r.acl,j.acl)){let i=j.encKeyset?.pubKey||j.pubKey;if(!i)throw new Error("missing encryption public key for ODA");let o=aa();await o.generate(ba);let s=await o.encrypt(Ua(r.data)),c=await Bc(i),u=await o.encryptWithKey(c);n={dataType:t,encKey:u,encData:s}}else n={dataType:xi.None};return{objectType:A,objectUuid:e,data:n,encryptedBy:j.kid,acl:r.acl}})),LRe=(A,e,t)=>A===xi.ConnectCredentialsSigningPrivateKeyToken||A===xi.ConnectCredentialsFull?e.some(a=>a===Os.ServiceAccountTokenCreate)||t.some(a=>a===Os.ServiceAccountTokenCreate||a===os.Manage):!0,NRe=A=>{let e;switch(A.accessorType){case"group":{e=cc.Group;break}case"user":{e=cc.User;break}default:throw new Error("Accessor type not supported")}return e},OO=async(A,e,t,r,a,j)=>{if(!r.pubKey)throw new Error("Unable to add object data access for group.");let n=(0,$MA.default)().toISOString(),i=await zn.generateWithSigningKeys();i.sn+=1;let o=await i.encryptWithKey(r.pubKey),s={state:iw.Active,objectType:e,accessorUuid:r.uuid,accessorType:NRe(r),kid:i.uuid,pubKey:o.pubKey,encKeyset:o,encryptedBy:r.pubKey.uuid,acl:[t,...a],createdAt:n,updatedAt:n},c=await SMA(A,j,s),u={access:s,data:c};return await MaA(A.session,u),s},URe=async(A,e,t,r)=>RaA(A.session,e,t,r),SMA=async(A,e,t)=>{if(!e.keyset)return[];if(!t.encKeyset)throw new Error("Missing encKeyset");let[r]=await Uk(A,[e.keyset]);if(r===void 0)throw new Error("reEncryptRequiredData: Error decrypting ODA preflight keyset");return Promise.all(e.data.map(async a=>{if(!JcA(a))return{objectType:a.objectType,objectUuid:a.objectUuid,data:a.data,encryptedBy:t.kid,acl:a.acl};let j=await XcA(a,[r],S6A),[n]=await M1(a.objectType,a.objectUuid,a.data.dataType,j,[t]);if(n===void 0)throw new Error("Error encrypting ODA");return n}))},JcA=A=>"encKey"in A.data&&"encData"in A.data,CMA=async(A,e)=>NaA(A.session,e),OMA=async(A,e,t,r)=>sw(A.session,e,t,r),HRe=async(A,e,t,r,a)=>{let j=await Promise.all(e.map(async s=>{let c=await OMA(A,t,os.Some,s);if(c.existingAccess)return c.existingAccess;let u=await In(A,s,{attrs:VA.Attr.PubKey});return OO(A,t,os.Some,u,[],c)})),n=await hg(A,t),i=await IE(A,n,r,a),o=await M1(t,r,xi.ConnectCredentialsSigningPrivateKeyToken,i,j);await FP(A.session,t,{objectUuid:r,data:o})},VRe=async(A,e,t,r,a,j)=>{let i=(await KaA(A.session,t,cc.Group,e)).access[0];if(i){let o=await hg(A,t),s=await IE(A,o,r,a);await PMA(A,t,r,e,cc.Group);let c={...s,acl:j},u=await M1(t,r,xi.ConnectCredentialsSigningPrivateKeyToken,c,[i]);try{await FP(A.session,t,{objectUuid:r,data:u})}catch(p){let h=await M1(t,r,xi.ConnectCredentialsSigningPrivateKeyToken,s,[i]);throw await FP(A.session,t,{objectUuid:r,data:h}),p}}},XRe=async(A,e)=>{try{return await XaA(A.session,e)}catch(t){let r=oe.getError(t);if(oe.isNewServerErrorWithStatus(r,oe.HTTPStatusCode.notFound))return;if(oe.isNewServerErrorWithStatus(r,oe.HTTPStatusCode.forbidden)){console.warn("Not enough access for getAllObjectDataWithDataSpec1.",r);return}console.error("Failed to getAllObjectDataRecordsWithDataSpec1:",r)}},WRe=async(A,{objectData:e,objectType:t})=>{let r=await hg(A,t),a=await CMA(A,t);e.map(async j=>{let n=await IE(A,r,j.objectUuid,jN),i=a.access.find(s=>s.kid===j.encryptedBy);if(i===void 0)throw new Error("Error finding matching accessor for ObjectData");let[o]=await M1(t,j.objectUuid,xi.ConnectCredentialsSigningPrivateKeyToken,n,[i]);if(o===void 0)throw new Error("Error encrypting ODA");await VaA(A.session,t,j.objectUuid,i.accessorType,i.accessorUuid,{data:o})})};var _d=AA(OA());var YcA="action/text",MN,TO,_O,DO,zO,TMA={},ZcA=async A=>Ne(YcA)("checkPwnedPasswords",async()=>_MA(A,biA)),_MA=async(A,e)=>{let t=await QA.unsafeHashStringSha1UpperHex(A),r=TMA[t];if(r!==void 0)return r;{let a=t.slice(0,5),j=await e(a),n=ij(j,t);return TMA[t]=n,n}},QcA=()=>_O||{},AuA=()=>DO||{},euA=()=>zO||{},JRe=async A=>{MN||(MN=await yiA(A.config.txtBase),lR(MN))},YRe=()=>{MN=void 0,lR(void 0)},ZRe=async A=>(TO||(TO=await viA(A.config.txtBase),cR(TO)),TO),MO=async()=>{await DMA(),await MMA(),await KMA()},RO=()=>{zMA(),RMA(),LMA()},QRe=()=>{TO=void 0,cR(void 0)},DMA=async()=>{_O||(_O=await FiA())},A9e=A=>{try{_O=Ke(JSON.parse(A),_d.record(_d.string,_d.number)).unwrap()}catch(e){throw console.error("Unable to import Watchtower data, provided JSON has invalid format.",e),new Error("Provided JSON has invalid format.")}},zMA=()=>{_O=void 0},MMA=async()=>Ne(YcA)("loadTwoFactorSitesList",async()=>{if(!DO)return GiA().then(A=>{DO=A})}),e9e=A=>{try{DO=Ke(JSON.parse(A),_d.record(_d.string,_d.string)).unwrap()}catch(e){throw console.error("Unable to import two-factor sites, provided JSON has invalid format.",e),new Error("Provided JSON has invalid format.")}},RMA=()=>{DO=void 0},KMA=async()=>Ne(YcA)("loadPasskeySitesList",async()=>{if(!zO)return wiA().then(A=>{zO=A})}),t9e=A=>{try{zO=Ke(JSON.parse(A),_d.record(_d.string,_d.string)).unwrap()}catch(e){throw console.error("Unable to import passkey sites, provided JSON has invalid format.",e),new Error("Provided JSON has invalid format.")}},LMA=()=>{zO=void 0};var RN=AA(al());var tuA;(function(A){A.Passwords="Passwords"})(tuA||(tuA={}));var NMA="action/hibp",r9e=Ne(NMA),UMA,a9e=async(A,e)=>DiA(A.session,e),j9e=async(A,e)=>{let t=await TiA(A.session,e);return{...t,users:t.users,breaches:t.breaches.map(r=>({...r,addedDate:Va(r.addedDate),notifiedDate:Va(r.notifiedDate)})),lastRunAt:Va(t.lastRunAt),isTruncated:t.isTruncated,numActive:t.numActive,numInactive:t.numInactive}},n9e=async(A,e,t)=>Vo([NMA,"getHibpDomainReportCSV",A.id],async()=>_iA(A.session,e,t)),ruA=()=>UMA,i9e=async A=>r9e("getHibpReport",async()=>OiA(A.session).then(e=>{let t=e.map(r=>({...r,addedDate:Va(r.addedDate),notifiedDate:Va(r.notifiedDate)}));UMA=gn(t,r=>r.domain)}));var o9e="action/vault_item_watchtower",HMA=Ne(o9e),s9e=23328e3,l9e=5184e3,c9e=5184e3,u9e=5184e3,d9e=A=>({compromisedDomain:A.compromisedDomain,expired:A.expired,expiringSoon:A.expiringSoon,inactivePasskey:A.inactivePasskey,inactiveTwoFactor:A.inactiveTwoFactor,itemsInWrongAccount:A.itemsInWrongAccount,passwordStrength:A.passwordStrength,reusedPassword:A.reusedPassword,unsecuredWebsite:A.unsecuredWebsite,vulnerablePassword:A.vulnerablePassword}),m9e=async A=>{try{let e=await Promise.all(A.map(ZcA));return ij(e,!0)}catch(e){return console.error("Failed to check pwned passwords.",e),!1}},VMA=async(A,e,t,r,a)=>HMA("generateWatchtowerReportForItem",async()=>{let j={};if(A.overview.b5UserUUID)return j;let n=e?m9e:async()=>Promise.resolve(!1),i=a||XMA(A);return n(i).then(o=>{let s=p9e(A);if(s){j.compromisedDomain=s;let h=ruA();h&&h[s]&&(j.hibpReport=h[s])}t&&WAA(A,r)&&(j.itemsInWrongAccount=!0),o&&(j.vulnerablePassword=!0);let c=A.username?A.username.value:"";for(let h of i){let f=CG(h,c);(!j.passwordStrength||j.passwordStrength>f)&&(j.passwordStrength=f)}if(A.overview.URLs){for(let h of A.overview.URLs)if(oh(h.u.toLowerCase(),"http://")){j.unsecuredWebsite=!0;break}}if(A.templateUuid===dt.LoginUuid&&A.overview.URLs&&!h9e(A))for(let h of A.overview.URLs){let f=k9e(h.u);if(f){j.inactiveTwoFactor=f;break}}if(A.templateUuid===dt.LoginUuid&&A.overview.URLs&&!f9e(A))for(let h of A.overview.URLs){let f=g9e(h.u);if(f){j.inactivePasskey=f;break}}let u,p=0;switch(A.templateUuid){case dt.PassportUuid:{let h=GA.findFieldWithName(GA.FieldName.Passport.Expiry,A);h&&(u=GA.getNumberValue(h),p=s9e);break}case dt.DriverLicenseUuid:{let h=GA.findFieldWithName(GA.FieldName.DriverLicense.Expiry,A);h&&(u=(0,RN.default)(GA.getNumberValue(h),"YYYYMM").unix(),p=c9e);break}case dt.CreditCardUuid:{let h=GA.findFieldWithName(GA.FieldName.CreditCard.Expiry,A);h&&(u=(0,RN.default)(GA.getNumberValue(h),"YYYYMM").endOf("month").unix(),p=l9e);break}case dt.MembershipUuid:{let h=GA.findFieldWithName(GA.FieldName.Membership.Expiry,A);h&&(u=(0,RN.default)(GA.getNumberValue(h),"YYYYMM").endOf("month").unix(),p=u9e);break}default:break}if(typeof u=="number"&&!Number.isNaN(u)){let h=Math.floor(Date.now()/1e3);h>u?j.expired=!0:h>u-p&&(j.expiringSoon=!0)}return j})}),auA=async(A,e,t,r)=>HMA("generateWatchtowerReportForItems",async()=>{let a={},j=A.filter(c=>c.state===GA.ItemState.Active),n=tu(gn(j,"uuid"),c=>XMA(c)),i=gY(Wn(n)),o=[];for(;j.length>0;)o.push(j.splice(0,10));let s=Promise.resolve([]);for(let c of o)s=s.then(async()=>{let u=[];for(let p of c)u.push(VMA(p,e,t,r,n[p.uuid]).then(h=>{let f=n[p.uuid];if(f)for(let G of f)(i[G]??0)>1&&(h.reusedPassword=!0);a[p.uuid]=h}));return Promise.all(u)});return s.then(()=>a)}),p9e=A=>{let e=QcA();if(!A.getPassword())return;let t=A.overview?A.overview.URLs:void 0;if(!t)return;let r={};for(let j of t){let n;try{n=new URL(pb(j.u)).hostname,n=n.replace(/^www\./,"")}catch{continue}let i=e[n];i&&(r[n]=i)}if(Object.keys(r).length===0)return;let a=A.passwordUpdatedAt;if(a)return xY(r,j=>typeof j=="number"&&j>a)},XMA=A=>{let e=[];if(A.templateUuid===dt.LoginUuid||A.templateUuid===dt.PasswordUuid){let t=A.getPassword();t&&(A.overview.url||t.length>6||/\D/.test(t))&&e.push(t)}else if(A.details&&A.details.sections)for(let t of A.details.sections){if(!t.fields)continue;let r=t.fields.filter(a=>a.k===GA.FieldType.Concealed&&ij(a.n,"password"));for(let a of r)a.v&&e.push(GA.getStringValue(a))}return e},k9e=A=>{if(!A)return;let e=AuA();try{let r=new URL(pb(A)).hostname;if(e[r])return e[r];let a=r.split(".");a.shift();let j=a.join(".");return e[j]?e[j]:void 0}catch{return}},h9e=A=>{if(A.tags.some(e=>!!e&&e.toLowerCase()==="2fa"))return!0;if(!A.details||!A.details.sections)return!1;for(let e of A.details.sections){let t=_i(e.fields,r=>GA.isTotpField(r));if(t&&t.v)return!0}return!1},g9e=A=>{if(!A)return;let e=euA();try{let r=new URL(pb(A)).hostname;if(e[r])return e[r];let a=r.split(".");a.shift();let j=a.join(".");return e[j]?e[j]:void 0}catch{return}},f9e=A=>!!A.details.passkey;var WMA=A=>{let e=0,t=0,r=0,a=0,j=0,n=0,i=0,o=0,s=0;return Wn(A).forEach(c=>{c&&(r=c.reusedPassword?r+1:r,e=c.compromisedDomain?e+1:e,t=c.vulnerablePassword?t+1:t,c.passwordStrength&&(a=DQ(c.passwordStrength,0,cO.WEAK)?a+1:a),j=c.unsecuredWebsite?j+1:j,n=c.inactiveTwoFactor?n+1:n,i=c.expiringSoon?i+1:i,i=c.expired?i+1:i,o=c.itemsInWrongAccount?o+1:o,s+=1)}),{cw:e,vp:t,rp:r,wp:a,uw:j,i2fa:n,exp:i,tot:s,wa:o}},B9e=async(A,e,t,r,a)=>{if(!A.account?.hasFeature.keepAdminWatchtowerReports)return;let j=await yO(A),n=j.watchtowerReportVersion&&j.watchtowerReportVersion===QL&&j.vaults?j.vaults.filter(u=>u.watchtowerReportNeedsUpdating):[];if(n.length===0){a?.(n.length);return}let i;try{i=await j9(A.session)}catch(u){if(MI(u,rb.resourceNotFound,ru.notFound))return;throw u}let o=A.account.hasFeature.itemsInWrongAccountPolicy,s=dr.getAllowedWatchtowerDomains(A.account);await MO();let c=async u=>{let p=await t(A,u);if(!p){console.warn("Unable to find vault with uuid:",u);return}let h=["U","E"];if(pAA(A.account)&&h.push("P"),h.includes(p.type)){let f=await r(A,p);if(f.length===0)return;let G=await auA(f,!0,o,s),w=WMA(G),y=await iO(i.pubKey,Ua(w)),E={version:QL,vaultContentVersion:p.contentVersion,encData:y};await _tA(A.session,p.uuid,E),e&&await qs(1e3)}};for(let u of n)await c(u.uuid),a?.(n.length);RO()},juA=async(A,e,t)=>MtA(A.session,e,t),E9e=async A=>j9(A.session),x9e=async(A,e,t,r)=>{let a=await JMA(A,e);if(t?.(a.reports.length),a.reports.length===0)return{reports:[]};let j=await hg(A,vo.AdminWatchtowerKeyset),n=j.data.find(s=>s.objectType===vo.AdminWatchtowerKeyset);if(!n?.data)throw new Error("Admin watchtower keyset oda does not exist.");let i=await IE(A,j,n.objectUuid,aN);return{reports:await IcA(A,a.reports,i,r)}},JMA=async(A,e)=>{let t=[],r;do{let a=await DtA(A.session,e,r);t.push(...a.reports),r=a.nextStartUuid}while(r);return{reports:t}},b9e=async(A,e)=>ztA(A.session,e),y9e=(A,e)=>{if(e<=0||A<=0)return 0;let t=Math.floor(A/e*100);return Math.min(Math.max(t,1),100)};var YMA="action/msp",nuA=fj(YMA),iuA=Ne(YMA),v9e=new Set([VA.TypeMSPAdministrators,VA.TypeOwners,VA.TypeAdmins]),ouA=async A=>{let e=await Xo(A,[ia.Groups]),t=await zn.generateWithSigningKeys();t.sn=1;let r=await Promise.all(e.groups.filter(a=>v9e.has(a.type)).map(async a=>{if(a=await In(A,a,{attrs:VA.Attr.PubKey,mustReload:!0}),!a.pubKey)throw new Error("Missing public key");let j=await t.encryptWithKey(a.pubKey);return{accessorUuid:a.uuid,accessorType:cc.Group,encKey:j,encryptedBy:j.encryptedBy}}));return qaA(A.session,{access:r})},F9e=async(A,e,t)=>{let r=await Bc(t.pubKey),a=aa();await a.generate(ba);let j=await a.encryptWithKey(r),n=await zn.generateWithSigningKeys();n.sn=1;let i=await n.encryptWithKey(a);return yaA(A.session,{companyDetails:e,managedAccountKey:{kid:a.uuid,encryptedBy:t.uuid,encKey:j},eamUserKeyset:i})},G9e=async A=>iuA("getUserMspPermissions",async()=>$aA(A.session).catch(nuA("getUserMspPermissions"))),w9e=async(A,e)=>{let t=await FaA(A.session,{managedAccountUuid:e}),[r]=await Uk(A,[t.mspKey]);if(!r)throw new Error("Keyset missing");if(!t.managedAccountKey)throw new Error("Managed Account Keyset missing");let a=await aa(t.managedAccountKey.kid).decryptWithKeyset(r,t.managedAccountKey.encKey);if(!a.jwk)throw new Error("Managed Account Keyset missing");return{type:"transfer_credentials",accountUuid:e,...t,managedAccountKey:a.jwk}},q9e=(A,e,t)=>{let a=`${ZMA(A,e)}/launch-ma`;return t?`${a}?landing-page=${t}`:a},ZMA=(A,e)=>`https://${e}.${A.config.server}`,$9e=async(A,e)=>iuA("getGroupMspPermissions",async()=>IaA(A.session,e).catch(nuA("getGroupMspPermissions"))),I9e=async(A,e,t,r)=>{let a={acl:t};if(t.length!==0){if(!e.pubKey)return Promise.reject(new Error("Missing public key"));let[j]=await Uk(A,[r]);if(!j)return Promise.reject(new Error("Keyset missing"));j.sn=1,a.encKey=await j.encryptWithKey(e.pubKey),a.encryptedBy=e.pubKey.uuid}return iuA("updateGroupMspPermissions",async()=>PaA(A.session,e.uuid,a).catch(nuA("updateGroupMspPermissions")))};var P9e="action/pub_key",S9e=Ne(P9e),QMA=195,R1=(A,e)=>{let t=gn(A,"uuid");return e.map(r=>{let a=t[r.uuid];if(a===void 0)throw new Error("mergeInPubKeys: accessor not found");return{...a,pubKey:r.pubKey}})},vu=async(A,e)=>{let t=vj(e.map(ns));return t.length===0?[]:jo(async a=>ljA(A.session,a),QMA,t)},suA=async(A,e)=>S9e("getGroupPubKeys",async()=>{let t=vj(e.map($m));return t.length===0?[]:jo(async a=>UeA(A.session,a),QMA,t)});var K1="action/vault",wv=Ne(K1),ARA={attrs:_e.Attr.None,mustReload:!1},C9e={mustReload:!1,withAccessorPreviews:!1},up=I6(),Gv=I6(),O9e=async(A,e)=>{let{hasClientAccess:t,permissions:r,types:a}=e,j=r&&pt.includes(r,Kt.ReadItem),n=AG({...ARA,...e,permission:j?"read":void 0},"user","withAccessorPreviews","group","permission","limit");return(await Vo([K1,"getVaultsV2",A.id,JSON.stringify(n)],async()=>{let o=await NR(A.session,n);return await vE(A,o)},e.cacheAllowanceMs)).filter(o=>(!t||o.hasClientAccess(Bv.Web))&&(!a||a.includes(o.type))&&(!r||_e.activeUserHasAcl(o,r))&&!CIA(o.name,A.account?.features["hide-lastpass-importer-metadata-vault"]))};var T9e=async(A,e,t,r)=>Vo([K1,"getVaultsV2",A.id,JSON.stringify({...r,date:e,direction:t})],async()=>{let{vaults:a,hasMoreData:j}=await feA(A.session,e,t,r||{}),n=await vE(A,a);return{hasMoreData:j,vaults:n}}),SE=async(A,e)=>wv("getVaults",async()=>{let t={...C9e,...e},{mustReload:r,withAccessorPreviews:a}=t;if(!r){let j=a?Gv.getAllEntries(A.id):up.getAllEntries(A.id)||Gv.getAllEntries(A.id);if(j)return j}return Vo([K1,"getVaults",A.id],async()=>NR(A.session,{withAccessorPreviews:a}).then(async j=>Promise.all([vE(A,j),Date.now()])).then(([j,n])=>{let i=gn(j,"uuid");return a?Gv=Gv.withOnlyEntries(A.id,i,{timestamp:n}):up=up.withOnlyEntries(A.id,i,{timestamp:n}),j}))}),Xk=async(A,e,t)=>wv("getVault",async()=>{let r=F4(e);if(!r)throw new Error("Invalid vault reference");let{attrs:a,mustReload:j}={...ARA,...t},n=j?void 0:up.getEntry(A.id,r,{attrMask:a});return n&&n.hasAttrMask(a)?n:Vo([K1,"getVault",A.id,r],async()=>BeA(A.session,r,a).then(async i=>Promise.all([$6(A,i,a,n),Date.now()])).then(([i,o])=>(up=up.withEntries(A.id,{[r]:i},{attrMask:a,timestamp:o}),i)))}),_9e=new Map([[_e.TypePersonal,beA],[_e.TypeEveryone,yeA],[_e.TypeSystem,EeA],[_e.TypeManagedApplications,xeA],[_e.TypeGeneratedPasswords,veA]]),Vk=I6(),KO=async(A,e,t)=>{let r=_9e.get(e);if(!r)throw new Error("Unsupported vault type.");if(!t||!t.mustReload){let n=Vk.getEntry(A.id,e);if(n)return n}let a=await r(A.session);if(!a)return;let j=await $6(A,a);return Vk=Vk.withEntries(A.id,{[e]:j}),j},gg=async(A,e)=>KO(A,_e.TypeEveryone,e),fg=async(A,e)=>KO(A,_e.TypePersonal,e),D9e=async A=>Vo([K1,"getVaultsForAccountTransfer",A.id],async()=>{let e=await geA(A.session);return vE(A,e)}),z9e=A=>Vk.getEntry(A.id,_e.TypePersonal),dp=async A=>KO(A,_e.TypeSystem),qv=async A=>wv("createSystemVault",async()=>{if(!A.user)throw new Error("Missing user");let{mandatoryGroupUuids:e}=await LN(A,_e.TypeSystem),t=new _e({desc:_e.DefaultDescMarker,name:"System",type:_e.TypeSystem});await t.generateNewKey();let r=await eRA(A,t,e),{uuid:a}=await $v(A,t,r),j=await Xk(A,a,{attrs:_e.Attr.All,mustReload:!0});return Vk=Vk.withEntries(A.id,{[_e.TypeSystem]:j}),j}),M9e=async A=>wv("createManagedVault",async()=>{if(!A.user)throw new Error("Missing user");let{mandatoryGroupUuids:e}=await LN(A,_e.TypeManagedApplications),t=new _e({desc:_e.DefaultDescMarker,name:"Managed",type:_e.TypeManagedApplications});await t.generateNewKey();let r=await R9e(A,t,e),a=await $v(A,t,r);return Vk=Vk.withEntries(A.id,{[_e.TypeManagedApplications]:a}),a}),KN=async A=>KO(A,_e.TypeGeneratedPasswords),LO=async A=>wv("createGeneratedPasswordsVault",async()=>{if(!A.user)throw new Error("Missing user");let{mandatoryGroupUuids:e}=await LN(A,_e.TypeGeneratedPasswords),t=new _e({desc:_e.DefaultDescMarker,name:"Generated Passwords",type:_e.TypeGeneratedPasswords});await t.generateNewKey();let r=await eRA(A,t,e),a=await $v(A,t,r);return Vk=Vk.withEntries(A.id,{[_e.TypeGeneratedPasswords]:a}),a}),eRA=async(A,e,t)=>{if(!A.user)throw new Error("Missing user");return Promise.all([na.generate(e,A.user,{acl:Kt.DEFAULT_VAULT_CREATION_ACL}),...t.map(NN(A,e))])},R9e=async(A,e,t)=>{if(!A.user)throw new Error("Missing user");return Promise.all([na.generate(e,A.user,{acl:Kt.MANAGED_VAULT_ACL}),...t.map(NN(A,e))])},LN=async(A,e)=>wv("getCreateVaultPreflight",async()=>weA(A.session,e)),luA=async A=>qeA(A.session),K9e=async(A,e,t)=>{let r=new _e(e);if(await r.generateNewKey(),!A.user)throw new Error("Missing user");let a=A.user.type!==St.Type.ExternalAccountManagement,j=await Promise.all([...a?[na.generate(r,A.user,{acl:Kt.ALL})]:[],...t.map(NN(A,r))]);return $v(A,r,j)},cuA=async(A,e,t)=>{let r={...e,type:_e.TypeUserCreated},a=new _e(r);if(await a.generateNewKey(),!A.user)throw new Error("Missing user");let j=await Promise.all([na.generate(a,A.user,{acl:Kt.ALL}),...t.map(NN(A,a))]);return N9e(A,a,j)},L9e={[VA.TypeRecovery]:Kt.Recover,[VA.TypeOwners]:Kt.Manage,[VA.TypeAdmins]:Kt.Manage,[VA.TypeExternalAccountManagers]:Kt.Manage},NN=(A,e)=>async t=>{let r=await In(A,t,{attrs:VA.Attr.PubKey}),a=L9e[r.type];if(typeof a!="number"||a===0)throw new Error("System group ACL is not defined for this group");return na.generate(e,r,{acl:a})},NO=async(A,e,t)=>{if(await e.encryptAttrs(),!A.user)throw new Error("Missing user");if(!A.user.activeKeyset)throw new Error("Missing user");if(!e.activeKey)throw new Error("Missing active key");return await e.activeKey.encryptWithKey(A.user.activeKeyset.ekeyPair),Hk(e,t)},tRA=(A,e)=>{A.getCombinedAcl()===void 0&&A.setCombinedAcl(e.reduce((t,r)=>t|r.acl,0))},$v=async(A,e,t)=>{let r=await NO(A,e,t);return await $eA(A.session,r),tRA(e,t),e},N9e=async(A,e,t)=>{let r=await NO(A,e,t);return await IeA(A.session,r),tRA(e,t),e},U9e=async(A,e)=>PeA(A.session,e.uuid),H9e=async(A,e)=>{await SeA(A.session,e.uuid),up=up.withoutEntries(A.id,[e.uuid])},UN=async(A,e)=>wv("updateVault",async()=>e.encryptAttrs().then(async t=>FeA(A.session,Hk(t)))),V9e=async(A,e,t)=>{await GeA(A.session,e,t)},X9e=async(A,e)=>{await DeA(A.session,e.uuid),Ra(A)},W9e=async(A,e)=>{await zeA(A.session,e.uuid),Ra(A)},J9e=async(A,e)=>{await MeA(A.session,e.uuid),Ra(A)},Y9e=async(A,e)=>{await ReA(A.session,e.uuid),Ra(A)},uuA=()=>{up=I6()},duA=A=>{up=up.withoutContext(A.id)},muA=()=>{Gv=I6()},puA=A=>{Gv=Gv.withoutContext(A.id)};var rRA="action/vault_item",Z9e=fj(rRA),kuA=Ne(rRA),aRA=async(A,e,t,r)=>{let a=(await inA(A.session,e.uuid,t)).item;return GE(a,r||e)},jRA=async(A,e)=>Promise.resolve().then(async()=>{if(!e)throw new Error("Missing vault");let t=e.uuid;return jnA(A.session,t).then(async r=>FE(r.items||[],e))}).catch(Z9e("getVaultItemsOverviews")),Dd=async(A,e)=>kuA("getVaultItems",async()=>nRA(A,e,0,[]).then(async t=>FE(t,e))),nRA=async(A,e,t,r)=>kuA("getVaultItemsBatch",async()=>nnA(A.session,e.uuid,t).then(async a=>{let j=a.items?r.concat(a.items):r;return a.batchComplete?Promise.resolve(j):nRA(A,e,a.contentVersion,j)})),iRA=async(A,e,t)=>{try{let r=await B9(A.session,t,e.uuid,e.vault.uuid);return xN(t,r)}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.missingFileId))return oRA(A,e.uuid,e.vault.uuid,t);throw new Error(`Failed to retrieve document: ${r}`)}},oRA=async(A,e,t,r)=>{let a=await vrA(A.session,e,t);for(let j of a)try{let n={...r,..."fileId"in r?{fileId:j}:{documentId:j}},i=await yrA(A.session,n,e,t);return"fileId"in r?S1(r,i):xN(r,i)}catch(n){console.error(`Decryption failed for file ${j}: ${n}. Moving to next file `);continue}throw new Error(`Unable to decrypt any files linked to item ${e}`)},Q9e=async(A,e,t)=>{let r=await iRA(A,e,t);return new Blob([r],{type:"application/octet-stream"})},AKe=async(A,e,t)=>{let{data:r,attributes:a}=await kcA(e,t),{fileId:j,signingKey:n}=await x9(A.session,r);if(j)return{...a,documentId:j,signingKey:n};throw new Error("Session did not provide file ID.")},sRA=async(A,e,t)=>{try{let r=await B9(A.session,t,e.uuid,e.vault.uuid);return S1(t,r)}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.missingFileId))return oRA(A,e.uuid,e.vault.uuid,t);throw new Error(`Failed to retrieve file: ${r}`)}},eKe=async(A,e)=>{let{data:t,attributes:r}=await gcA(e),{fileId:a,signingKey:j}=await x9(A.session,t);if(a)return{...r,fileId:a,signingKey:j};throw new Error("Session did not provide file ID.")},tKe=async(A,e)=>{if(!e.overview.icons||!e.overview.icons.detail)throw new Error("Missing icon");let t=await sRA(A,e,e.overview.icons.detail);return db(new Blob([t]))},Fc=async(A,e,t)=>{let r=await Xk(A,t.uuid),a=Mo(e,100),j={contentVersion:0,updatedItems:{},failedItems:{}};for(let n of a){let i=await rKe(A,n,r);for(let o of n)i.failedItems&&i.failedItems[o.uuid]||o.itemVersion++;r.contentVersion=i.contentVersion,j.contentVersion=i.contentVersion,j.updatedItems=xm(j.updatedItems,i.updatedItems),j.failedItems=xm(j.failedItems,i.failedItems)}if(dd(j.updatedItems)===0&&dd(j.failedItems)>0)throw new Error("Failed to patch vault items.");return j},rKe=async(A,e,t)=>{let r=await aKe(A,e),a=await Promise.all(r.map(qO)),j=await mnA(A.session,t.uuid,t.contentVersion,a),n=dd(j.updatedItems),i=dd(j.failedItems);if(n===0&&i===1){let o=Object.keys(j.failedItems)[0];if(o!==void 0&&j.failedItems[o]===oe.ItemStatusCode.incorrectItemVersion)throw new Error("This item has been edited by someone else. Refresh and make your edits again.")}else i>0&&console.error(`${i} item(s) failed to save. ${n} item(s) saved successfully.`);return j},aKe=async(A,e)=>{let t=[],r={};for(let j of e){let n=j.details.documentAttributes;if(n&&!n.signingKey){if(!n.documentId)throw new Error("Invalid document item, missing document ID.");r[n.documentId]=n,t.push(E9(A.session,n.documentId))}let i=j.overview&&j.overview.icons&&j.overview.icons.detail;i&&!i.signingKey&&(i.fileId?(r[i.fileId]=i,t.push(E9(A.session,i.fileId))):delete j.overview.icons)}let a=await Promise.all(t);for(let j of a){let n=r[j.fileId];if(!n)throw new Error("Missing file attributes.");n.signingKey=j.signingKey}return e},jKe=async(A,e)=>{if(_e.activeUserHasAcl(e,pt.combine([Kt.ViewHistory,Kt.UpdateItem]))){let{items:r}=await cnA(A.session,e.uuid);return FE(r,e)}return[]},nKe=async(A,e,t)=>{await unA(A.session,e.uuid,[t])},iKe=async(A,e)=>await snA(A.session,e.vault.uuid,e.uuid),oKe=async(A,e)=>{await dnA(A.session,e.vault.uuid,e.uuid)},sKe=async(A,e,t,r)=>{let a=e.uuid,j=await lnA(A.session,a,t.uuid,r);return GE(j,e)},lKe=async A=>kuA("getAllCreditCardItems",async()=>fg(A)).then(async e=>e?jRA(A,e):Promise.reject(new Error("Missing Personal vault"))).then(async e=>{let r=Zp(e,a=>a.templateUuid===dt.CreditCardUuid&&a.state===GA.ItemState.Active).map(async a=>aRA(A,a.vault,a.uuid,a));return Promise.all(r)});var lRA="action/package",huA=fj(lRA),cRA=Ne(lRA),guA=async A=>Promise.resolve().then(async()=>{if(A.account&&!A.account.hasPackages)return Promise.resolve(void 0);let e;return uRA(A,{mustReload:!0}).then(async t=>(e=t,ZaA(A.session))).then(async t=>Promise.all(ro(t,async r=>QaA(A.session,r.uuid)))).then(async t=>Promise.all(ro(t,async r=>bN(A,e,r,async a=>vu(A,a))))).then(async t=>{let r=await Promise.all(ro(t,cKe(A,e))),[a,j]=r.reduce(([n,i],o)=>typeof o=="string"?[[...n,o],i]:[n,[...i,o]],[[],[]]);if(a.length>0&&(await M9(A.session,a),console.warn(`Removed ${a.length} invalid packages`)),j.length>0){let n=await Fc(A,j,e);return`${j.length}`,n}})}).catch(huA("processIncomingPackages")),cKe=(A,e)=>async t=>{if(!t.uuid)throw new Error("Really messed up package, missing UUID");if(!t.item)return console.warn(`Removing package with no item: ${t.uuid}`),t.uuid;let r=t.item.details.documentAttributes;if(r&&!r.documentId)return console.warn(`Removing package with no document ID: ${t.uuid}`),t.uuid;let a=t.item;return a.itemVersion=await onA(A.session,e.uuid,a.uuid),a},uKe=async(A,e,t)=>cRA("sendPackages",async()=>{let r=await Rs(A,{attrs:VA.Attr.PubKey}),a=await vu(A,t),j=await dKe(A,e,a,r),n=j.map(BcA);return await YaA(A.session,n),j}),dKe=async(A,e,t,r)=>cRA("createPackagesForPeople",async()=>{let a=A.user;if(!a)throw new Error("Missing user");let j=Em(t.map(n=>e.map(async i=>new Ev(a,n,i).encryptAndSign(r))));return Promise.all(j)}),mKe=async(A,e)=>{let t=e.map(r=>{if(!r.uuid)throw new Error("Missing package UUID");return r.uuid});return M9(A.session,t)},pKe=async(A,e)=>Promise.resolve().then(async()=>AjA(A.session,e.vault.uuid,e.uuid).then(async t=>fcA(A,e.vault,t,async r=>vu(A,r)))).catch(huA("getPackagesForVaultItem")),uRA=async(A,e)=>Promise.resolve().then(async()=>A.user&&St.isGuest(A.user)?SE(A,{mustReload:!0}).then(t=>bz(t)):fg(A,e)).then(t=>{if(!t)throw new Error("Current user does not have a receiving vault");return t}).catch(huA("getReceivingVault")),kKe=async(A,e)=>{},hKe=async A=>{},gKe=async(A,e)=>{},fKe=async(A,e)=>rjA(A.session,e),BKe=async(A,e)=>ajA(A.session,e);var EKe="action/group_membership",HN=Ne(EKe),UO=100,CE=async(A,e,t,r)=>HN("createGroupMembership",async()=>z1(A,t).then(async a=>t.createMembership(a,e,r))),xKe=async(A,e)=>HN("updateGroupMembershipRole",async()=>ZeA(A.session,e.memberUuid,e.groupUuid,e.role).then(()=>Ra(A))),Iv=async(A,e)=>HN("updateGroupMemberships",async()=>{let{add:t,remove:r,group:a}=e;if(t.length+r.length===0)return{currentUserMustResetPassword:!1};let j=await In(A,a),n=await z1(A,j),i=async c=>{let u=await vu(A,t.map(h=>h.uuid)),p=gn(u,"uuid");return Promise.all(c.map(async h=>{let f=p[h.uuid];if(f===void 0)throw new Error("updateGroupMemberships: userPubKey undefined");return{memberUuid:h.uuid,keyset:await bKe(n,f),role:h.role||Ha.Role.Member}}))},o=Oz(Mo(t,UO),Mo(r,UO),(c,u)=>({add:c&&i(c)||[],remove:u&&u.map(ns)||[]})),s=[];for(let c of o){let p={add:await c.add,remove:c.remove},h=await QeA(A.session,j.uuid,p);s=[...s,h]}return j.hasPermission(Gr.Recover)&&A.account&&(A.account.hasRecoveryMembers=!0),Ra(A),{currentUserMustResetPassword:s.some(c=>!!c.currentUserMustResetPassword)}}),VN=async(A,e)=>HN("updateUserMemberships",async()=>{let{add:t,remove:r,user:a}=e;if(t.length+r.length===0)return{currentUserMustResetPassword:!1};let j=ns(a),[n]=await vu(A,[j]);if(!n||n.uuid!==j)throw new Error("Missing user's public key.");let i=async c=>{let u=await In(A,c.uuid);return CE(A,n,u,{role:c.role||Ha.Role.Member})},o=Oz(Mo(t,UO),Mo(r,UO),(c,u)=>({add:c&&c.map(i)||[],remove:u&&u.map($m)||[]})),s=[];for(let c of o){let p={add:await Promise.all(c.add),remove:c.remove},h=await AtA(A.session,j,p);s=[...s,h]}return Ra(A),{currentUserMustResetPassword:s.some(c=>!!c.currentUserMustResetPassword)}}),bKe=async(A,e)=>{let t=await mv(e.pubKey);return A.encryptWithKey(t)};var dRA="action/user",ms=Ne(dRA),N1=15,mp=I6(),yKe=async(A,e)=>ms("updateUser",async()=>{let t=e||A.user;return t?BjA(A.session,wO(t)):Promise.reject(new Error("Missing user"))}),HO=(A,e)=>mp.getEntry(A.id,e),vKe=(A,e)=>{mp=mp.withOnlyEntries(A.id,gn(e,"uuid"))},fuA=()=>{mp=I6()},BuA=A=>{mp=mp.withoutContext(A.id)},EuA=(A,e)=>{mp=mp.withEntries(A.id,{[e.uuid]:e})},FKe={attrs:Dj.Attr.None,mustReload:!1},OE=async(A,e,t)=>ms("getPerson",async()=>{let r=ns(e);if(!r)throw new Error("Invalid user reference");let{attrs:a,mustReload:j}={...FKe,...t},n=j?void 0:mp.getEntry(A.id,r,{attrMask:a});return n&&n.hasAttrMask(a)?n:Vo([dRA,"getPerson",A.id,r,a],async()=>sjA(A.session,r,a).then(async i=>{let o=Date.now();return Promise.all([op(A,i,a,n),o])}).then(([i,o])=>(mp=mp.withEntries(A.id,{[r]:i},{attrMask:a,timestamp:o}),i)))}),mRA=async(A,e)=>{let t=await vu(A,e);return R1(e,t)},GKe=async(A,e,t)=>ms("confirmUsers",async()=>{if(!BI(e)){if(A.account&&A.account.hasFeature.members)A.account.teamMembersGroup?await qKe(A,e,t):await CKe(A,e);else throw new Error("Cannot confirm members for this account");Ra(A),A.nc.emit(la.UsersChanged)}}),wKe=25,qKe=async(A,e,t)=>ms("confirmWithTeamMembersGroup",async()=>{let r=await lp(A);await jo(async j=>{let n=await mRA(A,j),i=n.filter(s=>s.type===St.Type.Regular),o=await IKe(A,i,r);return t?await SKe(A,n,o,t):await PKe(A,n,o),[]},wKe,e)}),$Ke=async(A,e)=>{if(!A.account)throw new Error("Failed to get account.");let t=WO(A.account.type,e.avatar),r=Rs(A,{attrs:VA.Attr.PubKey}),a=lp(A,{attrs:VA.Attr.PubKey}),j=t.generateNewKey(),[n,i]=await Promise.all([r,a,j]),o=CE(A,e,i,{role:Ha.Role.Member}),s=na.generate(t,e,{acl:Kt.RWE|Kt.Manage}),c=na.generate(t,n,{acl:Kt.Recover}),[u,p,h]=await Promise.all([o,s,c]),f=await NO(A,t,[p,h]);return EjA(A.session,e.uuid,f,u)},IKe=async(A,e,t)=>ms("addMembersToGroup",async()=>{if(!t.activeKeysetUuid)throw new Error("Missing group's active keyset UUID.");let r=Ui(A,t.activeKeysetUuid);if(!r)throw new Error("Could not find group's active keyset.");return Promise.all(e.map(async a=>t.createMembership(r,a,{role:Ha.Role.Member})))}),PKe=async(A,e,t)=>ms("confirmWithGroupMemberships",async()=>{let r=vj(e.map(ns));return djA(A.session,r,t)}),SKe=async(A,e,t,r)=>ms("confirmWithGroupMembershipsAndVaults",async()=>{let a=vj(e.map(i=>ns(i.uuid))),j=OQ(i=>i.uuid,i=>i,e),n=[];for(let i of r){let o=await Xk(A,i.vaultUuid,{attrs:_e.Attr.All});if(!o)throw new Error(`Missing vault for ${i.vaultUuid}`);let s=j[i.accessorUuid];s?.type===St.Type.Regular&&n.push(await na.generate(o,{...s,accessorType:i.accessorType},{acl:i.acl}))}return pjA(A.session,a,t,n)}),CKe=async(A,e)=>ms("confirmWithEveryoneVault",async()=>{let t=await gg(A,{attrs:_e.Attr.All});if(!t)throw new Error("Missing Everyone vault");let r=await mRA(A,e),a=r.filter(o=>o.type===St.Type.Regular).map(async o=>na.generate(t,{...o,accessorType:"user"},{acl:Kt.RWE})),n=(await Promise.all(a)).map(vc),i=vj(r.map(ns));return mjA(A.session,i,n)}),xuA=async(A,e)=>ms("suspendUsers",async()=>{await jo(async r=>(await kjA(A.session,r),[]),N1,e.map(ns)),Ra(A),A.nc.emit(la.UsersChanged)}),OKe=async(A,e)=>ms("markAwayForTravel",async()=>hjA(A.session,e.map(ns)).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)})),TKe=async(A,e)=>ms("markBackFromTravel",async()=>gjA(A.session,e.map(ns)).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)})),_Ke=async(A,e)=>ms("beginUserRecovery",async()=>{await jo(async r=>(await QjA(A.session,r),[]),N1,e.map(ns)),Ra(A),A.nc.emit(la.UsersChanged)}),VO=async(A,e)=>ms("cancelUserRecovery",async()=>{await jo(async r=>(await AnA(A.session,r),[]),N1,e.map(ns)),Ra(A),A.nc.emit(la.UsersChanged)}),DKe=async(A,e)=>ms("completeUserRecovery",async()=>{let t=await vu(A,e);await jo(async a=>{let j=a.map(s=>s.uuid),n=await tnA(A.session,j),o=await(await ycA(A,n)).encryptForPeople(a);return await enA(A.session,j,o),[]},N1,t),Ra(A),A.nc.emit(la.UsersChanged)}),zKe=async(A,e)=>ms("reactivateUsers",async()=>{await jo(async r=>(await fjA(A.session,r),[]),N1,e.map(ns)),Ra(A),A.nc.emit(la.UsersChanged)}),buA=async(A,e)=>ms("deleteUsers",async()=>{let t=e.filter(j=>j.state===St.State.RecoveryStarted),r=e.filter(j=>!St.canBeDeleted(j)),a=Promise.resolve();return t.length>0&&(a=a.then(async()=>VO(A,t))),r.length>0&&(a=a.then(async()=>xuA(A,r))),a.then(async()=>jo(async j=>(await cjA(A.session,j),[]),N1,e.map(j=>j.uuid))).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)})}),MKe=async(A,e,t)=>ms("deletePerson",async()=>{let r=Promise.resolve();return e.state===St.State.RecoveryStarted&&(r=r.then(async()=>VO(A,[e]))),St.canBeDeleted(e)||(r=r.then(async()=>xuA(A,[e]))),r.then(async()=>await ujA(A.session,e.uuid,t)).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)})}),RKe=async(A,e,t)=>{let r={...wO(e),imageId:t};return wP(A.session,r)},KKe=async(A,e,t)=>ms("changeUserName",async()=>{let r=cI(wO(e),{name:t});return GP(A.session,r)}).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)}),LKe=async(A,e,t)=>ms("getRecoveryDetails",async()=>WjA(A.session,e,{token:t})),NKe=async(A,e,t)=>JjA(A.session,e,{token:t}),UKe=async(A,e,t)=>YjA(A.session,e,{token:t}),L1;(function(A){A.INCORRECT_CODE="INCORRECT_CODE",A.ATTEMPT_LIMIT_REACHED="ATTEMPT_LIMIT_REACHED",A.CODE_EXPIRED="CODE_EXPIRED"})(L1||(L1={}));var HKe=async(A,e,t,r)=>ZjA(A.session,e,{token:t,emailVerificationChallenge:r}).catch(a=>{if(oe.isNewServerError(a))switch(a.reason){case oe.ServerErrorReason.maximumAttemptsReached:return L1.ATTEMPT_LIMIT_REACHED;case oe.ServerErrorReason.incorrectValue:return L1.INCORRECT_CODE;case oe.ServerErrorReason.expired:return L1.CODE_EXPIRED;default:throw a}else throw a}),XO=async(A,e,t,r)=>{let a={email:e,secretKey:await Gn.generate(),password:lr()},j=new ds({...a,uuid:r,name:t,language:A.user?.language||"en",newsletterPrefs:0}),n=await Zj.generate(a);return j.masterKey=await Ta.deriveDefaultKdf(a),await j.generateNewKeyset(),{user:j,userAuth:n}};var VKe="action/account",Gc=Ne(VKe),ia=oP;var Xo=async(A,e)=>Gc("getAccountWithAttrs",async()=>{let t=!!A.account;return(ij(e,ia.Me)?FO(A):Promise.resolve()).then(async()=>htA(A.session,e)).then(async a=>pcA(A,a)).then(async({account:a,activeUser:j})=>(j&&EuA(A,j),A.user?WKe(A,a,A.user,t).then(()=>(Ms(A),a)):Promise.reject(new Error("Missing user"))))}),U1=async(A,e)=>Gc("getEntireAccount",async()=>Xo(A,[ia.AccountFlags,ia.Billing,ia.Counts,ia.Invite,ia.Me,ia.MeMemberships,ia.Meta,ia.Promotions,ia.Settings,ia.Tier,ia.UserFlags,ia.GatedFeatureTrials,...e]).then(t=>(A.nc.emit(la.UniverseReloaded),t))),pRA=async A=>Gc("loadUniverse",async()=>U1(A,[ia.Groups,ia.Users])),XKe=pRA,WKe=async(A,e,t,r)=>Gc("performGetAccountChecks",async()=>{if(e.state===dr.StateActive&&ij([St.State.Active,St.State.PendingActivation],t.state))return guA(A).then(()=>{JKe()}).catch(a=>{console.error("Failed to process incoming packages",a)});if(t.state===St.State.RecoveryStarted&&r)return pP(A.session).catch(()=>{}).then(()=>{A.nc.emit(la.RecoveryStarted)})}),JKe=()=>{globalThis.document&&document.dispatchEvent(new CustomEvent("B5ProcessIncomingPackagesCompleted",{bubbles:!1,cancelable:!1}))},yuA=async(A,e,t,r,a)=>Gc("performSignInAccountChecks",async()=>{if(e.state===dr.StateRegistered)return o3e(A,r,a);if(t.state===St.State.VerifiedIncomplete)return s3e(A,a);if(t.state===St.State.Registered)throw new oe.ClientError(oe.ClientErrorCode.mustVerifyEmail,"Account not verified");if(t.state===St.State.RecoveryStarted&&(await VO(A,[t]),await Xo(A,[ia.Me])),e.state===dr.StateActive&&ij([St.State.Active,St.State.PendingActivation,St.State.MustMigrateAuth],t.state))return Promise.resolve();throw new Error("Unsupported account state")}),YKe=async(A,e,t)=>Gc("checkDomainAvailability",async()=>!e||!t?Promise.resolve(!1):vtA(A.session,e,t).then(r=>r.result).catch(async r=>oe.isServerError(r,oe.ServerErrorCode.badRequest,oe.HTTPStatusCode.badRequest)?Promise.resolve(!1):Promise.reject(r))),H1=async(A,e)=>Gc("getDomain",async()=>e?(await FtA(A.session,e)).domain:xc),ZKe=async A=>Gc("updateAccount",async()=>{let e=A.account;if(!e)throw new Error("Missing account");await BtA(A.session,EN(e)),e.attrVersion++,Ra(A),Ms(A)}),QKe=async A=>Gc("updateBillingSettings",async()=>{let e=A.account;if(!e)throw new Error("Missing account");await EtA(A.session,EN(e)),e.attrVersion++,Ra(A),Ms(A)}),A3e=async(A,e)=>Gc("changeDomain",async()=>{let t=A.account;if(!t)throw new Error("Missing account");await GtA(A.session,e),t.attrVersion++,Ra(A),Ms(A)}),e3e=async A=>Gc("deleteAccount",async()=>A.account?xtA(A.session):Promise.reject(new Error("Missing account"))),t3e=async(A,e,t)=>{await btA(A.session,e,t)},r3e=async(A,e,t)=>{await ytA(A.session,e,t)},vuA=async(A,e)=>wtA(A.session,e),a3e=()=>new _e({desc:_e.DefaultDescMarker,name:"System",type:_e.TypeSystem}),j3e=()=>new _e({desc:_e.DefaultDescMarker,name:"Generated Passwords",type:_e.TypeGeneratedPasswords}),WO=(A,e)=>new _e({type:_e.TypePersonal,name:XN(A),desc:_e.DefaultDescMarker,avatar:e}),XN=A=>A===dr.Type.Individual?"Personal":"Private",WN=()=>new _e({type:_e.TypeEveryone,name:"Shared",desc:_e.DefaultDescMarker}),kRA=async A=>{let e=await EO.Keyset.generate(),t={objectUuid:e.uuid,data:{ePriKey:e.encryptionKeyPair.priKey,sPriKey:e.signingKeyPair.priKey},acl:[]};await CO(A,vo.AdminWatchtowerKeyset,xi.AdminWatchtowerKeysetPrivateKey,os.Manage,t),await juA(A,e.uuid,e.encryptionKeyPair.pubKey)},n3e=async(A,e)=>{e.pubKey||(e=await In(A,e,{attrs:VA.Attr.PubKey,mustReload:!0}));let t=await sw(A.session,vo.AdminWatchtowerKeyset,os.Manage);await OO(A,vo.AdminWatchtowerKeyset,os.Manage,e,[],t)},i3e={[VA.TypeRecovery]:!0,[VA.TypeOwners]:!0,[VA.TypeAdmins]:!0,[VA.TypeExternalAccountManagers]:!0},o3e=async(A,e,t=!0)=>Gc("setupAccount",async()=>{let r=A.account;if(!r)return Promise.reject(new Error("Missing account"));let a=A.user;if(!a)return Promise.reject(new Error("Missing user"));let j="setupAccount";console.time(j);let n=new VA({name:"Recovery",type:VA.TypeRecovery,desc:"Can reset user passwords if account recovery is enabled."}),i=new VA({name:"Owners",type:VA.TypeOwners,desc:"Access to billing and account administration."}),o=new VA({name:"Administrators",type:VA.TypeAdmins,desc:"Administration of users, groups, and vaults."}),s=new VA({name:"Team Members",type:VA.TypeTeamMembers,desc:"All team members."}),c="Access to security reports and account activity.",u=new VA({name:"Security",type:VA.TypeSecurity,desc:e?e[c]():c}),p=new VA({name:"MSP Administrators",type:VA.TypeMSPAdministrators,desc:"Access to add, view, administer, and unlink managed companies as an external account manager."}),h=new VA({name:"External Account Managers",type:VA.TypeExternalAccountManagers,desc:"Administration of users, groups, and vaults as external account managers."}),f=[n,i,o];r.hasFeature.members&&f.push(s),r.hasFeature.members&&A.config.internalFeaturesAreEnabled&&f.push(u),r.hasFeature.managedServiceProvider&&f.push(p),r.isAccountManaged&&f.push(h),r.domain==="backoffice"&&f.push(new VA({name:"Backoffice Users",type:VA.TypeBackofficeUsers,desc:""}),new VA({name:"Backoffice Billing",type:VA.TypeBackofficeBilling,desc:""}),new VA({name:"Backoffice Security",type:VA.TypeBackofficeSecurity,desc:""}),new VA({name:"Backoffice Developers",type:VA.TypeBackofficeDevelopers,desc:""}),new VA({name:"Backoffice Finance",type:VA.TypeBackofficeFinance,desc:""}),new VA({name:"Backoffice Content",type:VA.TypeBackofficeContent,desc:""}),new VA({name:"Backoffice Owners",type:VA.TypeBackofficeOwners,desc:""}),new VA({name:"Backoffice Advanced",type:VA.TypeBackofficeAdvanced,desc:""}));let G=async(K,aA,nA)=>{let lA=[];return K.type===VA.TypeRecovery||K.type===VA.TypeMSPAdministrators||r.isAccountManaged&&K.type!==VA.TypeExternalAccountManagers||lA.push(K.addMembership(aA,a,{role:Ha.Role.Manager})),i3e[K.type]&&lA.push(K.enableRecoverCapability(nA)),Promise.all(lA)},w=cp(A,n,n).then(async K=>{let aA=f.slice(1);return Promise.all([G(n,K,K),...aA.map(async nA=>cp(A,nA,n).then(async lA=>G(nA,lA,K)))])}),y=WO(r.type),E=WN(),$=j3e(),T=a3e(),O=!r.isAccountManaged,I=[];O&&(I.push(y),t&&I.push($,T)),r.hasFeature.members&&I.push(E);let q=[w];for(let K of I)q.push(K.generateNewKey());return Promise.all(q).then(async()=>{let K=[];O&&(K.push(na.generate(y,a,{acl:Kt.RWE|Kt.Manage}),na.generate(y,n,{acl:Kt.Recover})),t&&K.push(na.generate(T,a,{acl:Kt.DEFAULT_VAULT_CREATION_ACL}),na.generate(T,n,{acl:Kt.Recover}),na.generate($,a,{acl:Kt.DEFAULT_VAULT_CREATION_ACL}),na.generate($,n,{acl:Kt.Recover})));let aA=[];return r.hasFeature.members&&(aA.push(na.generate(E,i,{acl:Kt.Manage}),na.generate(E,o,{acl:Kt.Manage}),na.generate(E,n,{acl:Kt.Recover}),na.generate(E,s,{acl:Kt.ALL_READ|Kt.ALL_WRITE|Kt.ALL_EXPORT})),r.isAccountManaged&&aA.push(na.generate(E,h,{acl:Kt.Manage}))),Promise.all([...K,...aA])}).then(async K=>l3e(A,I,K,f)).then(async()=>{if(A.account?.hasFeature.managedServiceProvider)return ouA(A)}).then(async()=>{if(A.config.internalFeaturesAreEnabled){if(!i.activeKeysetUuid)throw new Error("Missing owners group");return kRA(A)}}).then(async()=>(console.timeEnd(j),U1(A,[ia.Groups]))).then(async()=>Promise.resolve(void 0))}),s3e=async(A,e=!0)=>Gc("setupUser",async()=>{let t=A.user;if(!t)return Promise.reject(new Error("Missing user"));let r=A.account;if(!r)return Promise.reject(new Error("Missing account"));let a=WO(r.type),j=Rs(A,{attrs:VA.Attr.PubKey}),n=a.generateNewKey();return Promise.all([j,n]).then(async i=>{let o=i[0],s=[na.generate(a,t,{acl:Kt.RWE|Kt.Manage}),na.generate(a,o,{acl:Kt.Recover})];return Promise.all(s)}).then(async i=>c3e(A,a,i)).then(async()=>{if(e)return Promise.all([LO(A),qv(A)])}).then(async()=>r.hasFeature.accountTransfer?Xo(A,[ia.UserFlags]):void 0).then(()=>{t.state=St.State.PendingActivation})}),l3e=async(A,e,t,r)=>Gc("activateAccount",async()=>gtA(A.session,mcA(e,t),r.map(a=>bv(a,VA.Attr.PubKey|VA.Attr.Memberships)))),c3e=async(A,e,t)=>{await ftA(A.session,Hk(e,t))},u3e=async A=>qtA(A.session).then(e=>({activeMembers:e.activeMembers,activeGuests:e.activeGuests,billedGuests:e.billedGuests,billedMembers:e.billedMembers}));var d3e=async(A,e)=>PtA(A.session,e),m3e=async(A,e)=>StA(A.session,e),p3e=async(A,e)=>CtA(A.session,e);var k3e=async(A,e)=>OtA(A.session,e),h3e=async(A,e)=>TtA(A.session,e);var g3e=async(A,e,t,r,a,j,n,i,o,s)=>{let c=r||i9().toISOString();return r=e?void 0:c,a=e?void 0:a||new Date().toISOString(),t=e?void 0:t,NtA(A.session,e,t,r,a,s,j,n,i,o).then(u=>({auditEvents:u?u.auditEvents.map(v1.fromApi):[],cursor:u.cursor,hasMore:u.hasMore,totalCount:u.totalCount}),u=>{throw console.error("getFilteredActivityLogReports failed:",u),u})},f3e=async(A,e,t,r,a)=>{let j={objectType:e,objectUUID:r,action:t,reportType:a};try{await HtA(A.session,j)}catch(n){throw console.error("reportAuditEvent failed:",n),n}},B3e=async(A,e,t,r,a,j,n)=>UtA(A.session,e||i9().toISOString(),t||new Date().toISOString(),r,a,j,n).then(i=>({count:i.count,hasMore:i.hasMore}),i=>{throw console.error("getFilteredActivityLogTotalReports failed:",i),i}),E3e=async(A,e,t)=>VtA(A.session,e,t).then(r=>r?r.map(v1.fromApi):[],r=>{throw console.error("getActivityFeed failed:",r),r});var Wo=AA(OA());var x3e=EA("web-api/internal/user.ts"),hRA=x3e(A=>({name:"migrateKeyset",method:"POST",url:"/internal/v1/user/keyset",body:{keyset:A},responseType:jA}));var JN="action/partial_user",y3e=Ne(JN),v3e=async(A,{scopes:e={},attrs:t=[],...r})=>{let a={...r,vault:e?.vaultUuid,group:e?.groupUuid,attrs:t};return Vo([JN,"getPartialUsersV2",A.id,JSON.stringify(a)],async()=>{let{serviceAccounts:j=[],...n}=await jB(A.session,a);return{...n,serviceAccounts:j}})},V1=I6(),FuA=async(A,e={},t={})=>y3e("getPartialUsers",async()=>{let{mustReload:r,limit:a,offset:j}={mustReload:!1,...t},n=!a&&BI(e);if(!r&&n){let o=V1.getAllEntries(A.id);if(o)return Wn(o)}let i={attrs:[],emails:e.emails,states:vj([e.state]),types:vj([e.type]),limit:a,offset:j,search:e.search,sort:e.sort,sortDir:e.sortDir};return Vo([JN,"getPartialUsers",A.id,JSON.stringify(i)],async()=>jB(A.session,i).then(({users:o})=>{if(!o)throw new Error("Missing users from getPartialUsers");return n&&(V1=V1.withOnlyEntries(A.id,gn(o,"uuid"),{timestamp:Date.now()})),o}))}),JO=async(A,e)=>Vo([JN,"getGroupUsersWithPermissions",A.id,e],async()=>jB(A.session,{group:e,attrs:["combinedPermissions"]}).then(({users:t,serviceAccounts:r=[]})=>{if(!t&&!r)throw new Error("Missing users.");return{users:t,serviceAccounts:r}})),GuA=()=>{V1=I6()},wuA=A=>{V1=V1.withoutContext(A.id)};var F3e=async(A,e,t)=>InA(A.session,e,t),G3e=async(A,e,t,r)=>{let a={name:r};return $nA(A.session,e,t,a)},w3e=async A=>PnA(A.session),q3e=async(A,e,t,r,a)=>{let{saJwt:j,registerTokenRequest:n}=await YO(A,e,r,a,t.token,t.sPriKey.kid,t.sPriKey);return await AK(A.session,n),j},$3e=async(A,e,t,r,a)=>{let{saJwt:j,registerTokenRequest:n}=await YO(A,e,r,a,void 0,t.signingKey.kid,t.signingKey);return await AK(A.session,n),j},YO=async(A,e,t,r,a,j,n)=>{if(!A.account)throw new Error("Cannot register token without Account information");let i=await R6A({signingKey:n,accountUuid:A.account.uuid,serviceAccountUuid:e,createTokenInfo:r,bearerToken:a}),o=await K6A(i),s={kid:j,subject:e,name:t,account_uuid:A.account.uuid,token_info:{...r,signatureHash:o}};return{saJwt:i,registerTokenRequest:s}};var I3e="action/serviceaccounts",quA=async(A,e)=>DnA(A.session,e),X1=I6(),$uA=async(A,e,t,r)=>{let{user:a,userAuth:j}=await XO(A,e,t,r);if(!a.masterKey)throw new Error("Missing master key");if(!a.secretKey)throw new Error("Missing secret key");let n=await a.encryptActiveKeysetWithMasterKey(),i={email:a.email,muk:await a.masterKey.exportJwk(),secretKey:a.secretKey.exportSensitiveReadableString(),srpX:j.srpX,signInAddress:A.account&&A.account.urlHost(A.config.server)||"",userAuth:j.params};return{user:a,encKeyset:n,creds:i}},IuA=async(A,e,t,r,a,j,n,i,o,s,c,u,p)=>{let h,f;if(o&&({saJwt:h,registerTokenRequest:f}=await YO(A,o.serviceAccountUuid,o.tokenName,o.tokenInfo,o.bearerToken,o.kid,o.signingKey),f.subject!==r.uuid))throw new Error("Token subject must match Service Account UUID from preflight response.");let G=t.getCredentials(),w={access:i,serviceAccountType:j,keyset:e,preflightToken:r.token,permissions:n,userAuth:Zj.getForUpload(a),userRegistration:{uuid:r.uuid,email:r.email,name:t.name,avatar:s,accountKeyFormat:G.secretKey.format.toString(),accountKeyUuid:G.secretKey.id,newsletterPrefs:0,language:t.language},registerSAToken:f,throttleKeyData:c,rotated:u,objectData:p},y=await OnA(A.session,w);return{person:await op(A,y,0,void 0),saJwt:h}},PuA=async A=>TnA(A.session),P3e=async A=>_nA(A.session),SuA=async(A,e,t,r)=>{r=r||O3e();let a=[];for(let j of t){let n=await CE(A,e,j,r);a.push(n)}return a},S3e=async(A,e,t)=>{let r={...A,accessorType:"user"};t=t||T3e();let a=[];for(let j of e){let n=await na.generate(j,r,t),i=vc(n);a.push(i)}return a},C3e={attrs:q6.Attr.None,mustReload:!1},ZO=async(A,e,t)=>{let{attrs:r,mustReload:a}={...C3e,...t},j=a?void 0:X1.getEntry(A.id,e,{attrMask:r});return j&&j.hasAttrMask(r)?j:Vo([I3e,"getServiceAccount",A.id,e,r],async()=>{let n=await znA(A.session,e,q6.translateAttrMaskNames(r)),i=await wcA(n,r,j);return X1=X1.withEntries(A.id,{[e]:i},{attrMask:r,timestamp:Date.now()}),i})},O3e=()=>({role:Ha.Role.Member,state:Ha.State.Active}),T3e=()=>({acl:Kt.RWE,leaseTimeout:0}),_3e=async(A,e,t)=>{let r={uuid:e.uuid,...AG(e,["type","attrVersion","state","email"]),name:t};await GP(A.session,r),Ra(A),A.nc.emit(la.UsersChanged)},D3e=async(A,e,t)=>{let r={uuid:e.uuid,...AG(e,["type","attrVersion","state","email"]),imageId:t};await wP(A.session,r),Ra(A),A.nc.emit(la.UsersChanged)},z3e=async(A,e,t)=>{let j=t*3600*1e9;await MnA(A.session,e,{expiresIn:j})},CuA=()=>{X1=I6()},OuA=A=>{X1=X1.withoutContext(A.id)};var TuA=()=>{lcA(),fuA(),uuA(),muA(),CuA(),GuA()},_uA=A=>{hN(A.id),BuA(A),duA(A),puA(A),OuA(A),wuA(A)};var DuA=async(A,e)=>ooA(A.session,e),zuA=async(A,e)=>soA(A.session,e);var MuA=A=>J6A(A.session),M3e=A=>Y6A(A.session),R3e=(A,e)=>Z6A(A.session,e),K3e=(A,e)=>Q6A(A.session,e),L3e=(A,e)=>AcA(A.session,e),N3e=A=>ecA(A.session),U3e=(A,e)=>tcA(A.session,e),H3e=(A,e,t)=>rcA(A.session,e,t),V3e=(A,e,t)=>gRA(A,{[e]:t}),gRA=(A,e)=>acA(A.session,e),X3e=async A=>(await jcA(A.session)).certificate;var W3e=async A=>{if(!navigator.cookieEnabled)return[];let e=eu(A.config.siblingDomains);e.push(A.config.server);let t=e.map(async j=>{try{return await $iA(A.session,j)}catch{return[]}}),r=await Promise.all(t),a=Em(r);return $cA(a)},RuA=async A=>{navigator.cookieEnabled&&await IiA(A.session,A.config.server)},J3e=async(A,e)=>{navigator.cookieEnabled&&await PiA(A.session,A.config.server,e)},Y3e=async(A,e)=>{navigator.cookieEnabled&&await SiA(A.session,A.config.server,e)};var Z3e="action/auth",QO=Ne(Z3e),KuA;(function(A){A.Password="PASSWORD",A.TrustedDevice="TRUSTED_DEVICE"})(KuA||(KuA={}));var Q3e=Wo.type({accountKey:Wo.string,masterPassword:Wo.string},"PasswordAccountCredentials"),Iir=Wo.type({type:Wo.literal(KuA.Password),data:Q3e},"AccountCredentials"),LuA=!1,ALe=()=>LuA,eLe=A=>{LuA=A},NuA=!1,tLe=()=>NuA,rLe=A=>{NuA=A},fRA=!1,aLe=()=>fRA,jLe=A=>{fRA=A},UuA=!1,nLe=()=>UuA,iLe=A=>{UuA=A},YN=(A,e,t)=>{$s(new fn({errorClass:_l.RequestError,userUuid:t?NA(t):void 0,message:sA`${A}: func: ${e}`}))},oLe=async(A,e)=>{await A.session.initialize({rawSessionKey:Je(e.sessionKey.k),requestId:1,serverConfig:{notifier:e.notifier},sessionUuid:e.sessionUuid}),A.config.initializedWithExistingSession=!0,A.user=new ds({}),A.user.masterKey=await vh.fromJwk(e.managedAccountKey),await TE(A,{shouldLoadUniverse:!0,isDesignatedAsPublic:!0,shouldAddAccountToExtension:!1}),await lp(A).then(t=>{z1(A,t)})},Pv=async(A,e,t)=>{A.account=void 0,A.userAuth=void 0,A.user=void 0,A.accountOverview=void 0;let r="muk"in e?await mLe(A,e,t):await dLe(A,e,t);if(r.type==="verified_session")return await TE(A,t),{type:"verified_context",context:A};if(r.type==="email_changed"){let a=r.newEmail;return Pv(A,{...e,email:a},t)}else return r},sLe=async(A,e,t,r)=>{A.userAuth||(A.userAuth=Zj.createFromPreComputedX(e.credentialBundle.srpx.exportBytes()));let a=A.user?.secretKey;a||(a=await Gn.forTrustedDevice(e.secretKeyUuid)),A.user=new ds({email:e.email,uuid:e.userUuid,secretKey:a});let j=await nB(A.session,{email:A.user.email,skFormat:e.secretKeyFormat,skid:e.secretKeyUuid,signInToken:t,deviceUuid:Fj.device.uuid,userUuid:e.userUuid});if(!j.userAuth)throw new Error("Did not receive userAuth params from startAuth");A.session.setSessionUuid(j.sessionID),A.user.masterKey=e.credentialBundle.auk;let n=await A.session.signInWithCredentialBundle(j.userAuth,e.credentialBundle.srpx,t,e.secretKeyUuid,e.email);return n.type==="verified_session"?(await TE(A,r),{type:"verified_context",context:A}):n},lLe=async(A,e,t)=>Pv(A,e,{...t,shouldLoadUniverse:!0}),HuA=async(A,e,t,r)=>{A.account=void 0,A.userAuth=void 0,A.user=void 0,A.accountOverview=void 0;let{userAuth:a}=e;if(!a){let o=await nB(A.session,{signInToken:t,deviceUuid:Fj.device.uuid,userUuid:e.userUuid});if(!o.userAuth)throw new Error("Did not receive userAuth params from startAuth");a=o.userAuth}let j=await Gn.forTrustedDevice(e.secretKeyUuid),n=e.credentialBundle.srpx;A.user=new ds({email:e.email,uuid:e.userUuid,secretKey:j}),A.user.masterKey=e.credentialBundle.auk;let i=await A.session.signInWithCredentialBundle(a,n,t,e.secretKeyUuid,e.email);return i.type==="verified_session"?(await TE(A,r),{type:"verified_context",context:A}):i},cLe=async(A,e,t)=>{if(!A.config.lang)throw new Error("Missing language");let[r,a,j]=await Promise.all([ol.generateForTrustedDevice(),f6.generate(),Gn.generateForTrustedDevice()]),n=Zj.createFromPreComputedX(r.srpx.exportBytes()),i;try{i=await e.completeRecovery(Fj.device,r,j,n.params,A.config.lang,a),await t(i.details.accountUuid,i.details.userUuid,a)}catch(o){throw console.error("signInWithRecoveryCodePasskeys Failed to save device key:",o),new Error(`There was an issue saving the device key: ${zI(o)}`)}try{return i.signIn(A,{shouldLoadUniverse:!0,isDesignatedAsPublic:!1})}catch(o){throw console.error("signInWithRecoveryCodePasskeys Failed to sign in:",o),new Error(`There was an issue while signing in to your account: ${zI(o)}`)}},uLe=async(A,e,t,r)=>{let a=await Gn.generate();A.user=new ds({email:t.aux.email,language:r,name:t.aux.name,secretKey:a}),A.userAuth=await Zj.generate({email:t.aux.email,password:e,secretKey:a}),A.user.masterKey=await Ta.deriveDefaultKdf({email:t.aux.email,password:e,secretKey:a});let j=await Is.fromHex(A.userAuth.srpX),n=await ol.new({srpx:j,auk:A.user.masterKey});return(await t.completeRecovery(Fj.device,n,a,A.userAuth.params,r,void 0)).signIn(A,{shouldLoadUniverse:!0,isDesignatedAsPublic:!1})},dLe=async(A,e,t)=>{let r=new ds({email:e.email,password:e.password,secretKey:e.secretKey,uuid:e.uuid});return A.user=r,A.session.signin(r,t.allowReauthorization)},mLe=async(A,e,t)=>{let{email:r,secretKey:a,muk:j,srpX:n,uuid:i}=e;if(!j.alg)throw new Error("Missing MUK alg.");if(!n)throw new Error("Missing SRP-x.");let o=a?Gn.fromInput(a):void 0;if(a&&!o)throw new Error("Secret Key is invalid");let s=new ds({email:r,secretKey:o,uuid:i});return A.user=s,A.user.masterKey=await Ta.fromJwk(j),A.session.signin(s,t.allowReauthorization,n)},ZN=async(A,e,t)=>{try{let r=await A.session.verifyMfa(e);r.dsecret&&A.user&&(A.user.dSecret=r.dsecret)}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.invalidMFA))return VuA(A,r);throw r}return TE(A,t)},pLe=async(A,e,t,r)=>ZN(A,{type:t,code:e},r),kLe=async(A,e,t,r)=>ZN(A,{type:"dSecretProxy",dshmac:e,deviceUuid:t},r),hLe=async(A,e,t)=>ZN(A,{type:"webAuthn",data:e},t),gLe=async(A,e,t)=>{try{A.user&&(A.user.dSecret=e);let r=UL(e,A.session.sessionUuid);await A.session.verifyMfa({type:"dSecret",dshmac:r})}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.invalidMFA)&&A.user)return A.user.dSecret=void 0,VuA(A,r);throw r}return TE(A,t)},fLe=async(A,e,t)=>ZN(A,e,t),BLe=async(A,e,t)=>{try{let r=await A.session.enableMfaWithAuth(e);r.dsecret&&A.user&&(A.user.dSecret=r.dsecret)}catch(r){if(oe.isClientError(r,oe.ClientErrorCode.invalidMFA)||oe.isServerError(r,oe.ServerErrorCode.authenticationRequired,oe.HTTPStatusCode.unauthorized))return VuA(A,r);throw r}return TE(A,t)},VuA=async(A,e)=>{if(!A.session||!A.session.auth||!A.user)throw new Error("Missing auth or user data.");let t=A.session.auth.srpX,r=await A.session.signin(A.user,!1,t);throw r.type==="mfa_required"?e:new Error(`Unexpected sign-in response ${r.type}`)},ELe=3e3,XuA=async A=>{let e=Object.keys(jR);try{return(await Promise.race([DuA(A,e),new Promise((r,a)=>{setTimeout(()=>a("Timeout"),ELe)})])).features.reduce((r,a)=>(r[a.name]=!0,r),{})}catch(t){return console.error("Failed to retrieve feature flags:",t),{}}},TE=async(A,e)=>QO("handleSignInSuccess",async()=>{let t=A.user;if(!t)return Promise.reject(new Error("Missing user"));let a=(async()=>e.shouldLoadUniverse?U1(A,[ia.Groups]):Xo(A,[ia.Me,ia.MeMemberships,ia.UserFlags,ia.AccountFlags,ia.Billing,ia.Tier,ia.Promotions,ia.GatedFeatureTrials]))().then(async n=>yuA(A,n,t,e.translators,e.setupWithSystemVaults)).then(async()=>e.shouldLoadUniverse?yLe(A):Promise.resolve()).then(async()=>{if(A.session.ssoMigrationGracePeriod?.state===St.State.MustMigrateAuth)return{notifierEnabled:!1};if(!A.session.serverConfig)throw new Error("Missing server config");return A.notifier.connect(A.session.serverConfig.notifier),{notifierEnabled:!0}}).then(async({notifierEnabled:n})=>{n&&A.nc.emit(la.SignedIn),LuA&&A.account&&A.user&&!e.suppressClientNotifications&&(UuA?await YuA(A,e):await BRA(A,e)),t.password=void 0}),j=XuA(A);return Promise.all([j,a]).then(([n,i])=>{A.account!==void 0&&(A.account.features=n)})}),WuA=(A,e)=>{if(A.account&&A.user)return{accountUuid:A.account.uuid,domain:A.account.urlHost(A.config.server),email:A.user.email,userUuid:A.user.uuid,deviceIsPublic:e.isDesignatedAsPublic?"true":"false"}},JuA=(A,e,t)=>{t?RuA(e).catch(r=>{console.error("Setting account cookie failed.",r)}).then(()=>{A()}).catch(()=>{}):A()},BRA=async(A,e)=>{if(!A.account||!A.user)return;let t=WuA(A,e);if(!t)return;let r=A.user.secretKey&&A.user.secretKey.exportSensitiveReadableString();Fj.device&&Fj.device.fromDeviceInit&&A.user.dSecret&&(t.dSecret=A.user.dSecret),e.authOnly&&(t.authOnly=!0);let a=r&&A.user.password,j=A.user?.secretKey&&A.user.secretKey.isTrustedDeviceFormat();if(a){if(!A.user.password)return;let n={...t,accountKey:r,masterPassword:A.user.password,shouldAddAccountToExtension:e.shouldAddAccountToExtension};JuA(()=>{document.dispatchEvent(new CustomEvent("B5SignInSucceeded",{bubbles:!1,cancelable:!1,detail:n}))},A,e.authOnly)}else if(j)return YuA(A,e)},YuA=async(A,e)=>{let t=WuA(A,e);if(!t||!A.user||!A.user.masterKey)return;if(e.authOnly&&(t.authOnly=!0),!(A.user.masterKey instanceof Ta))throw YN(sA`Master key is not a valid Auk`,sA`handleDelegatedSessionSignInSuccess`,A.user.uuid),new TypeError("Master key is not a valid Auk");let r={...t,shouldAddAccountToExtension:e.shouldAddAccountToExtension,masterKey:await A.user.masterKey.exportJwkJSON()};if(!NuA||e.authOnly)try{let a=await kP(A.session,ZuA(UM()),!1);r.session=a}catch(a){console.error("Could not create delegated session:",a);return}JuA(()=>{document.dispatchEvent(new CustomEvent("B5DelegatedSignInSucceeded",{bubbles:!1,cancelable:!1,detail:r}))},A,e.authOnly)},xLe=async(A,e)=>{if(e.account&&e.user?.masterKey&&A.accountUuid===e.account?.uuid){let t=await kP(e.session,ZuA(UM()),!1),r=WuA(e,{});if(!r)return;if(!(e.user.masterKey instanceof Ta))throw YN(sA`Master key is not a valid Auk`,sA`handleDelegatedSessionRequest`,e.user.uuid),new TypeError("Master key is not a valid Auk");let a={...r,accountUuid:e.account.uuid,requestId:A.requestId,sessionDetail:{masterKey:await e.user.masterKey.exportJwkJSON(),session:t}};JuA(()=>{document.dispatchEvent(new CustomEvent("B5RequestDelegatedSessionResponse",{bubbles:!1,cancelable:!1,detail:a}))},e,!1)}},bLe=async(A,e,t,r)=>{if(!t&&r){let n=sAA(r);if(n&&({state:t,redirectUri:e}=n,e&&!oAA.includes(e)))return}let j=(await MuA(A)).identityAccessToken;if(j&&t&&e){let n=new URL(window.location.origin+e);n.searchParams.set("state",t),n.searchParams.set("token",j),window.location.replace(n)}},yLe=async A=>QO("addSigningKeysIfNeeded",async()=>{let e=A.user;if(!e)throw new Error("Missing user.");let t=e.activeKeyset;if(!t)throw new Error("Missing user's active keyset.");if(!t.hasSigningKeys())return t.generateSigningKeys().then(async()=>e.encryptActiveKeysetWithMasterKey()).then(async r=>hRA(A.session,r)).then(()=>{})}),vLe=async A=>QO("signOut",async()=>(_uA(A),pP(A.session).catch(e=>{console.error("signout failed:",e)}).then(()=>{A.nc.emit(la.SignedOut)}))),FLe=Wo.intersection([Wo.type({accountKey:Xe(Wo.string),email:Wo.string,requestID:Wo.number,serverConfig:k9,sessionKey:QA.JwkSymKey}),Wo.partial({masterKey:QA.JwkSymKey,derivationInfo:pR,dSecret:Wo.string,password:Wo.string,auth:f6A,ssoNonce:Wo.string})],"ContextInitialization"),ERA=async(A,e=!1)=>{if(!A||!A.email||!A.serverConfig||!A.serverConfig.notifier||!A.sessionKey||!A.sessionKey.k||!A.sessionKey.kid)throw new Error("Invalid details object");if(!e&&(!A.masterKey||!A.masterKey.alg||!A.masterKey.k))throw new Error("Invalid details object");let t=A.accountKey?Gn.fromInput(A.accountKey):void 0;if(A.accountKey&&!t)throw new Error("Invalid Secret Key");let r=new ds({email:A.email,secretKey:t});return A.masterKey&&(A.masterKey.kid==="mp"?r.masterKey=await Ta.fromJwk(A.masterKey,A.derivationInfo):r.masterKey=await vh.fromJwk(A.masterKey)),A.dSecret&&(r.dSecret=A.dSecret),A.password&&(r.password=A.password),r},GLe=async(A,e,t,{includeFeatureFlags:r=!1}={})=>{if(e!==1)throw new Error("Invalid API version");if(!t||!t.email||!t.masterKey||!t.masterKey.alg||!t.masterKey.k||!t.serverConfig||!t.serverConfig.notifier||!t.sessionKey||!t.sessionKey.k||!t.sessionKey.kid)throw new Error("Invalid details object");A.user=await ERA(t);try{if(await A.session.initialize({rawSessionKey:Je(t.sessionKey.k),requestId:t.requestID,serverConfig:t.serverConfig,sessionUuid:t.sessionKey.kid,auth:t.auth}),await mP(A.session),await U1(A,[ia.Groups]),r){let a=await XuA(A);A.account!==void 0&&(A.account.features=a)}if(!A.session.serverConfig)throw new Error("Missing server config");return A.notifier.connect(A.session.serverConfig.notifier),A.config.initializedWithExistingSession=!0,t.ssoNonce||A.nc.emit(la.SessionInitialized),A}catch(a){throw A.nc.emit(la.SessionInitError,a),a}},wLe=async A=>QO("getInitializationExportFromNewContext",async()=>bRA(A).then(async e=>xRA(e))),xRA=async(A,{allowMissingAuk:e=!1,includeAuth:t=!1}={})=>{let{user:r,session:a}=A;if(!r)throw new Error("Missing user");let j=r.secretKey&&r.secretKey.exportSensitiveReadableString();if(!r.masterKey&&!e)throw new Error("Missing master key");if(!a.sessionKey||!a.sessionKey.jwk)throw new Error("Missing session key");if(!a.serverConfig)throw new Error("Missing server config");let n={accountKey:j,email:r.email,masterKey:void 0,derivationInfo:void 0,requestID:a.requestId,serverConfig:{notifier:a.serverConfig.notifier},sessionKey:a.sessionKey.jwk,dSecret:r.dSecret,password:r.password};return t&&(n.auth=a.auth),r.masterKey&&(n.masterKey=await r.masterKey.exportJwk(),r.masterKey instanceof Ta&&(n.derivationInfo=r.masterKey.derivationInfo)),n},ZuA=A=>{let e=Number.parseInt(A.clientVersion,10).toString();return{...A,clientVersion:e}},qLe=async(A,e,t)=>{let r=A.user;if(!r)throw new Error("Missing user");let a=r.secretKey&&r.secretKey.exportSensitiveReadableString();if(r.secretKey&&!a)throw new Error("Invalid Secret Key");if(!r.masterKey)throw new Error("Missing master key");let j=await kP(A.session,ZuA(e),t);if(!(r.masterKey instanceof Ta))throw YN(sA`Master key is not a valid Auk`,sA`delegateSession`,r.uuid),new TypeError("Master key is not a valid Auk");return{accountKey:a,email:r.email,masterKey:await r.masterKey.exportJwk(),derivationInfo:r.masterKey.derivationInfo,requestID:1,serverConfig:{notifier:j.notifier,userUuid:r.uuid},sessionKey:j.sessionKey,dSecret:void 0}},bRA=async A=>{let e=new Fv(A.config),t=A.user;if(!t)throw new Error("Missing current user");if(e.user=new ds({email:t.email,secretKey:t.secretKey,uuid:t.uuid}),e.user.dSecret=t.dSecret,e.user.masterKey=t.masterKey,!A.session||!A.session.auth)throw new Error("Auth info not available.");let r=A.session.auth.srpX,a=await e.session.signin(e.user,!1,r);if(a.type==="mfa_required")if(a.details.dsecret?.enabled){let n=e.user?.dSecret;if(!n)throw new Error("No dSecret available.");await e.session.verifyMfa({type:"dSecret",dshmac:UL(n,e.session.sessionUuid)})}else throw new Error("Unable to complete MFA, dSecret option not available.");return e},QuA=async A=>!A.isSignedIn()||A.user===void 0||A.user.masterKey===void 0||!A.session.auth?void 0:{email:A.user.email,muk:await A.user.masterKey.exportJwk(),secretKey:A.user.secretKey?A.user.secretKey.exportSensitiveReadableString():void 0,srpX:A.session.auth.srpX},yRA=async(A,{currentPassword:e,newPassword:t,generateNewSecretKey:r=!1,generateNewKeyset:a=!1,checkCurrentPassword:j=!0})=>{if(!A.user)throw new Error("Active user is missing");let n=A.user;if(!A.user.secretKey)throw new Error("Active user is missing secretKey");if(!t&&!r&&!a)throw new Error("Nothing to do");let i={oldSecretKey:A.user.secretKey,oldMasterKey:A.user.masterKey,oldActiveKeyset:A.user.activeKeyset,oldUserAuth:A.userAuth};try{j&&await AdA(A,e);let o=r?await Gn.generate():i.oldSecretKey;n.secretKey=o,n.password=t,A.userAuth=await Zj.generate({email:n.email,password:t,secretKey:o}),n.masterKey=await Ta.deriveDefaultKdf({email:n.email,password:t,secretKey:o}),a&&await n.generateNewKeyset();let s=await n.encryptActiveKeysetWithMasterKey();return n.password=void 0,[s,i]}catch(o){throw FRA(A,n,i),o}},$Le=async(A,e)=>{let[t,r]=await yRA(A,e);await vRA(A,t,r)},vRA=async(A,e,t)=>{if(!A.user)throw new Error("Active user is missing");let r=A.user;try{let a=A.userAuth;if(!a)throw new Error("User's auth info is missing");let j={email:r.email,auth:Zj.getForUpload(a),activeKeyset:e},n=r.secretKey;if(!n)throw new Error("Missing user's Secret Key");return n.id!==t.oldSecretKey.id&&(j.accountKeyFormat=n.format.toString(),j.accountKeyUuid=n.id),r.archivedKeysets.length>0&&(j.archivedKeyset=r.archivedKeysets[0]),ArA(A.session,j)}catch(a){throw FRA(A,r,t),a}},FRA=(A,e,t)=>{e.password=void 0,e.masterKey=t.oldMasterKey,e.activeKeyset=t.oldActiveKeyset,e.secretKey=t.oldSecretKey,A.userAuth=t.oldUserAuth},AdA=async(A,e)=>{let t=A.user;if(!t)throw new Error("User is missing");let r=t.masterKey;if(!r)throw new Error("Missing current master key");if(!(r instanceof Ta))throw YN(sA`Master key is not a valid Auk`,sA`verifyMasterPassword`,t.uuid),new TypeError("Master key is not a valid Auk");let a=r.derivationInfo;if(a===void 0)throw new Error("Missing current derivation info");if(t.secretKey===void 0)throw new Error("Missing secret key");if(!await r.verifyMasterPassword(a,{email:t.email,secretKey:t.secretKey,password:e}))throw new oe.ClientError(oe.ClientErrorCode.incorrectMasterPassword,"Your email address, Secret Key, or password is incorrect.")},ILe=async(A,e)=>{await dtA(A.session,e)},PLe=async A=>{try{await ptA(A.session)}catch(e){throw console.error("[promptConfirmChangeEmail] Failed to send email change token:",e),e}},SLe=async(A,e)=>{await mtA(A.session,e)},CLe=async(A,e,t,r)=>QO("completeChangeEmailForPasswordUser",async()=>{if(!A.user)throw new Error("User is missing");let a=A.user,j=a.email,n=A.userAuth,i=a.masterKey,o=a.activeKeyset;return AdA(A,t).then(async()=>(a.email=e,a.password=t,a.secretKey?(A.userAuth=await Zj.generate({email:e,password:t,secretKey:a.secretKey}),a.masterKey=await Ta.deriveDefaultKdf({email:e,password:t,secretKey:a.secretKey}),Promise.resolve()):Promise.reject(new Error("Missing Secret Key")))).then(async()=>a.encryptActiveKeysetWithMasterKey()).then(async s=>{if(!A.userAuth)throw new Error("User's auth info is missing");let c={email:e,auth:Zj.getForUpload(A.userAuth),activeKeyset:s};return WR(A.session,c,r)}).then(()=>{a.password=void 0}).catch(s=>{throw a.email=j,a.masterKey=i,a.activeKeyset=o,a.password=void 0,A.userAuth=n,s})}),OLe=async(A,e,t)=>{if(!A.user)throw new Error("User is missing");let r=A.user;if(!A.session?.auth)throw new Error("User's auth info is missing");let a=A.session.auth;if(!r.secretKey)throw new Error("Missing Secret Key");let j=r.email;try{r.email=e;let n=await r.encryptActiveKeysetWithMasterKey(),i={email:e,auth:Zj.getForUpload(a),activeKeyset:n};await WR(A.session,i,t)}catch(n){throw r.email=j,n}},TLe=async(A,e,t)=>urA(A.session,e.uuid,t),_Le=async A=>drA(A.session),DLe=async(A,e)=>prA(A.session,e.uuid);var zLe=async(A,e)=>trA(A.session,e),MLe=async(A,e,t)=>{let a=(await h9(A.session,e,tw.Accept)).snooze.find(j=>j.group===t);if(a)return _n(a.until)},RLe=async(A,e,t)=>{let a=(await h9(A.session,e,tw.Dismiss)).snooze.find(j=>j.group===t);if(a)return _n(a.until)};var KLe="action/billing",Wk=Ne(KLe),P6=async A=>Wk("getSubscription",async()=>{let e=A.account;return e?br.getSubscription(A.session).then(t=>{let r=Nk.subscriptionDetailAttrsFromAPI(t);return e.subscription={...e.subscription,...r},e.subscription}):Promise.reject(new Error("Missing account"))}),LLe=async(A,e=0,t=20)=>br.getInvoices(A.session,e,t),NLe=async(A,e)=>br.getInvoiceDetails(A.session,e),ULe=async(A,e)=>br.getInvoicePdf(A.session,e),HLe=async A=>Wk("getMspLastInvoice",async()=>br.getMspLastInvoice(A.session)),VLe=async A=>Wk("getMspProjectedInvoice",async()=>br.getMspProjectedInvoice(A.session)),XLe=async(A,e,t,r,a)=>Wk("updateSubscription",async()=>{let j=A.account;if(!j)return Promise.reject(new Error("Missing account"));let n=e||j.subscription.tier,i=t||j.subscription.plan;if(!n)return Promise.reject(new Error("Missing tier"));if(!i)return Promise.reject(new Error("Missing plan"));let o={frequency:i.frequency,tierName:n.name,taxNumber:"",isTaxExempt:!1,country:"",provinceOrState:"",zip:""};return r&&(o.taxNumber=r.taxNumber,o.isTaxExempt=r.isTaxExempt),a&&(o.country=a.country,o.provinceOrState=a.provinceOrState,o.zip=a.zip),br.updateStripeSubscription(A.session,o).then(async()=>(j.subscription={...j.subscription,tier:n,plan:i},Xo(A,[]))).then(async()=>P6(A)).then(s=>(Ms(A),s))}),WLe=async(A,e,t)=>Wk("getValidPromotionFromCode",async()=>_Q(e)?br.getValidPromotionFromCode(A.session,e,t):Promise.reject(new Error("Promo code format is invalid."))),JLe=async(A,e)=>Wk("getIsValidPurchaseOrderToken",async()=>XM(e)?br.getIsValidPurchaseOrderToken(A.session,e):Promise.reject(new Error("Purchase order token format is invalid."))),YLe=async(A,e)=>Wk("getIsValidStripePurchaseOrderToken",async()=>XM(e)?br.getIsValidStripePurchaseOrderToken(A.session,e):Promise.reject(new Error("Stripe purchase order token format is invalid."))),ZLe=async(A,e)=>br.requestInvoiceEmail(A.session,e),GRA=A=>xI(A.cards,e=>e.isDefault),QLe=async(A,e)=>{await br.addCard(A.session,e);let t=await P6(A),r=t.cards[0];return r!==void 0&&!GRA(t)?edA(A,r):t},ANe=async(A,e,t)=>br.updateCard(A.session,e,t).then(async()=>P6(A)),eNe=async(A,e)=>{let t=br.deleteCard;$4(e.stripeCardUid)&&(t=br.deletePaymentMethod),await t(A.session,e.stripeCardUid);let r=await P6(A),a=r.cards[0];return a!==void 0&&!GRA(r)?edA(A,a):r},tNe=async(A,e)=>(await br.deletePendingPaymentMethod(A.session,e.setupIntentUid),await P6(A)),rNe=async(A,e)=>$4(e)?br.getPaymentMethod(A.session,e):br.getCard(A.session,e),edA=async(A,e)=>$4(e.stripeCardUid)?wRA(A,e.stripeCardUid):br.changeDefaultCard(A.session,e).then(async()=>P6(A)),wRA=async(A,e)=>br.changeDefaultPaymentMethod(A.session,e).then(async()=>P6(A)),tdA=async A=>Wk("getAvailableTiers",async()=>{let e=A.account;return e?br.getAvailableTiers(A.session).then(t=>{let r=Nk.parseAvailableTiersFromAPI(t,e.subscription);return e.subscription={...e.subscription,availableTiers:r},e.subscription}):Promise.reject(new Error("Missing account"))}),aNe=async A=>Wk("getAvailableTiersV3",async()=>A.account?br.getAvailableTiersV3(A.session).then(t=>Nk.parseAvailableTiersV3(t)):Promise.reject(new Error("Missing account"))),jNe=async A=>br.getUpgradeTiers(A.session).then(e=>Nk.parseTiersFromAPI(e)).catch(e=>{throw console.error("getUpgradeTiers failed:",e),e}),nNe=async A=>br.getDefaultTiers(A.session).then(e=>Nk.parseTiersFromAPI(e)).catch(e=>{throw console.error("getDefaultTiers failed:",e),e}),iNe=async(A,e)=>Wk("subscribeWithStripe",async()=>{let t=A.account;return t?br.subscribeWithStripe(A.session,{setupIntentUiD:e.token,tierName:e.tier?e.tier.name:"",frequency:e.plan?e.plan.frequency:"",country:e.country,province:e.province,postalCode:e.postalCode,taxNumber:e.taxNumber,isTaxExempt:e.isTaxExempt,giftCardCode:e.giftCardCode}).then(async()=>(t.subscription={...t.subscription,tier:e.tier},Xo(A,[ia.Billing]))).then(async()=>P6(A)).then(r=>(Ms(A),r)):Promise.reject(new Error("Missing account"))}),oNe=async A=>br.cancelStripeSubscription(A.session).then(async()=>Xo(A,[ia.Billing])).then(async()=>P6(A)).then(e=>(Ms(A),e)),sNe=async A=>br.endTrialPeriod(A.session),rdA=async(A,e,t,r,a)=>br.getTaxAdvice(A.session,{country:t,province:r,postalCode:a,price:e}).then(j=>({countryCode:j.countryCode.toLowerCase(),provinceOrStateCode:j.provinceCode?j.provinceCode.toLowerCase():"",postalCode:j.postalCode,taxRate:j.taxRate,taxRateString:j.taxRateString,effectiveTaxRate:j.effectiveTaxRate,effectiveTaxRateString:j.effectiveTaxRateString,taxName:j.taxName,isTaxed:j.originalPrice===0&&j.taxRate>0||j.totalTax>0,totalPrice:j.totalPrice,originalPrice:j.originalPrice,useTaxData:j.useTaxData})),lNe=async(A,e)=>br.createPlayStoreSubscription(A.session,e),cNe=async({session:A},e)=>br.createAppleSubscription(A,e),uNe=async(A,e)=>(await br.addOrUpdateAddress(A.session,e),P6(A)),dNe=async(A,e)=>{await br.activateStripeBilling(A.session,e)},mNe=async A=>br.getBillingStats(A.session).then(e=>({activeMembers:e.activeMembers,activeGuests:e.activeGuests,billedGuests:e.billedGuests,billedMembers:e.billedMembers})),pNe=async(A,e)=>{await br.linkAccountToPartner(A.session,e)},kNe=async A=>br.getRemainingAmount(A.session).then(e=>({remainingAmount:e.remainingAmount}));var adA={};Na(adA,{deobfuscate:()=>gNe,obfuscate:()=>fNe});var qRA="klp4y2ywpkpczwhhutf2fqy5ri",hNe="This value works around an OAuth implementation limitation. It has no other value or permissions.",$RA=async()=>Lo.rawHkdf(Lo.Sha2Mode.Sha256,mt(hNe),new Uint8Array,mt("brex-oauth-obfuscation"),32),gNe=async A=>{if(!A)return"";let e=aa(qRA);await e.importRawKey(ba,await $RA());let t=await e.decrypt(A);return Di(t)},fNe=async A=>{let e=aa(qRA);return await e.importRawKey(ba,await $RA()),e.encrypt(mt(A))};var ndA={};Na(ndA,{createOrUpdateBrexAccess:()=>bNe,deleteBrexItemByUuid:()=>yNe,findBrexCredentials:()=>ENe,findBrexItemByRefreshToken:()=>PRA,findBrexItemByUuid:()=>SRA,getBrexRedirectUri:()=>jdA,getOrCreateSystemVault:()=>IRA});var IRA=async A=>{let e=await dp(A);return e||await qv(A)},BNe=(A,e,t)=>{let r=new GA(A);return r.overview.integration="brex",r.details.sections=[{name:"brex",title:"brex",fields:[{k:"string",n:"accountId",t:"accountId",v:e},{k:"string",n:"refreshToken",t:"refreshToken",v:t}]}],r.templateUuid="800",r},ENe=A=>{let e=A.details.sections?.find(a=>a.name==="brex"),t=e?.fields?.find(a=>a.n==="refreshToken")?.v,r=e?.fields?.find(a=>a.n==="accountId")?.v;if(!t||typeof t!="string")throw new Error("Brex Integration Item is malformed: missing refreshToken");if(!r||typeof r!="string")throw new Error("Brex Integration Item is malformed: missing accountId");return{refreshToken:t,accountId:r}},PRA=(A,e)=>A.find(t=>t.templateUuid==="800"&&t.state===GA.ItemState.Active&&t.overview.integration==="brex"&&t.details.sections?.find(r=>r.name==="brex"&&r.fields?.some(a=>a.n==="refreshToken"&&a.v===e))),SRA=(A,e)=>A.find(t=>t.overview.integration==="brex"&&t.uuid===e),xNe=(A,e)=>{let r=A.details.sections?.find(a=>a.name==="brex")?.fields?.find(a=>a.n==="refreshToken");if(!r)throw new Error("Expected refresh token in existing Brex item");return r.v=e,A.updatedAt=new Date,A},bNe=async(A,e,t,r)=>{let a=await IRA(A),j=await Dd(A,a),n=r||PRA(j,t),i;return n?i=xNe(n,t):i=BNe(a,e,t),await Fc(A,[i],a)},yNe=async(A,e)=>{let t=await dp(A);if(!t)throw new Error("The system vault was expected but missing during Brex deletion");let r=await Dd(A,t),a=SRA(r,e);if(!a)throw new Error("The Brex record was expected but missing during Brex deletion");a.state=GA.ItemState.Deleted;let j=await Fc(A,[a],t);if(j.failedItems[e])throw new Error("The Brex record was unable to be deleted");return j},jdA=A=>`https://${xc}.${A.server}/api/v1/brex/redirect`;var vNe={...ndA,...adA},FNe=async A=>ZiA(A.session),CRA=async(A,e)=>QiA(A.session,e),GNe=async A=>AoA(A.session),wNe=async(A,e,t)=>{let r=t.get("code")||"",a=t.get("state")||"";if(!r)throw new Error("OAuth code is missing");if(!a)throw new Error("OAuth state is missing");return CRA(A,{code:r,redirect:jdA(e),nonce:a})},qNe=async(A,e)=>eoA(A.session,e);var $Ne="action/child_account",idA=Ne($Ne),INe=async A=>idA("createChildAccountRelationship",async()=>br.createChildAccountRelationship(A.session).then(hv.create)),PNe=async A=>idA("getChildAccountRelationship",async()=>{try{let e=await br.getChildAccountRelationship(A.session);return hv.create(e)}catch(e){let t=DI(e);if(MI(t,rb.resourceNotFound))return hv.create({});throw t}}),SNe=async(A,e)=>br.checkChildAccountCode(A.session,e),CNe=async A=>br.detachChildAccount(A.session),ONe=async(A,e)=>idA("attachAsChildAccount",async()=>br.attachAsChildAccount(A.session,e).then(async()=>Xo(A,[ia.Billing])).then(async()=>P6(A)).then(t=>(Ms(A),t)));var TNe=async A=>rrA(A.session);var _Ne="2",DNe=async(A,e)=>{if(!A.account)throw new Error("Account is missing.");if(!e.userAuth)throw new Error("Missing credential auth information.");let[t,r]=await Promise.all([Lk.generate(e),aa().generate(ba)]),a={...t.localAuth,version:_Ne,deviceUuid:lr(),uniqueKey:r};return{bearerToken:t.bearerToken,fileContents:JSON.stringify(a)}};var zNe="action/vault_access",Sv=Ne(zNe),ORA=async(A,e)=>Sv("getAccessorsWithPubKeys",async()=>{let[t,r]=EI(e,n=>n.accessorType==="group"),a=await suA(A,t),j=await vu(A,r);return[...R1(t,a),...R1(r,j)]}),odA=async(A,e,t,r)=>Sv("addAccessorsToVault",async()=>{let j=(await ORA(A,e)).map(async s=>na.generate(t,s,r.byUuid&&r.byUuid[s.uuid]||r.default)),i=(await Promise.all(j)).map(vc);await jo(async s=>(await UR(A.session,t.uuid,s),[]),100,i)}),MNe=async(A,e,t,r)=>Sv("addAccessorToVaults",async()=>{let[a]=await ORA(A,[e]);if(!a)throw new Error("Missing accessor with public key.");let j=t.map(async n=>(n.defaultAcl!==void 0&&(r.acl=n.defaultAcl),na.generate(n,a,r).then(async i=>{let o=vc(i);return UR(A.session,n.uuid,[o])})));return Promise.all(j).then(()=>{})}),RNe=async(A,e)=>Sv("updateVaultAccessPermissions",async()=>{if(Kt.isEffectivelyZero(e.acl))await ldA(A,e);else return e.accessorType==="group"?TeA(A.session,e.vaultUuid,e.accessorUuid,e.acl):OeA(A.session,e.vaultUuid,e.accessorUuid,e.acl)}),sdA=async(A,e)=>{if(e.some(t=>t.accessorType!=="group"))throw new Error("Some of the vaultAccess objects in updateBulkGroupVaultAccessPermissions were not groups");return Sv("updateBulkGroupVaultAccessPermissions",async()=>(await Promise.all(e.filter(t=>Kt.isEffectivelyZero(t.acl)).map(async t=>ldA(A,t))),_eA(A.session,e.map(t=>({vaultUuid:t.vaultUuid,groupUuid:t.accessorUuid,permission:t.acl})))))},TRA=async(A,e,t,r)=>Sv("deleteAccessorFromVault",async()=>{let a=r==="group",j=a?$m(e):ns(e);if(!j)return Promise.reject(new Error("Invalid accessor reference"));let n=F4(t);return n?CeA(A.session,n,j,a).then(async()=>{let i=a?In(A,j,{attrs:VA.Attr.VaultAccess,mustReload:!0}):OE(A,j,{attrs:Dj.Attr.VaultAccess,mustReload:!0});return Promise.all([Xk(A,n,{attrs:_e.Attr.Accessors,mustReload:!0}),i])}):Promise.reject(new Error("Invalid vault reference"))}),ldA=async(A,e)=>Sv("revokeVaultAccess",async()=>TRA(A,e.accessorUuid,e.vaultUuid,e.accessorType));var AT=Ne("action/convert_account"),KNe=async A=>{if(!A.user)throw new Error("Missing user");let{user:e}=A;await cdA(A,dr.Type.Individual,async()=>sP(A.session,{type:dr.Type.Individual,accountName:e.name}))},LNe=async(A,e,t)=>{await cdA(A,dr.Type.Family,async()=>sP(A.session,{type:dr.Type.Family,accountName:e,childAccountCode:t}))},NNe=async(A,e)=>{let t=await H1(A,e);await cdA(A,dr.Type.Business,async()=>sP(A.session,{type:dr.Type.Business,accountName:e,domain:t}))},cdA=async(A,e,t)=>{UNe(A),await _RA(A),await XNe(A,e),await t(),await HNe(A,e),await VNe(A)},UNe=A=>{let{account:e,user:t}=A;if(!e)throw new Error("Missing account");if(!t)throw new Error("Missing user")},HNe=async(A,e)=>{let{account:t}=A;t&&(t.type=e,await _RA(A))},VNe=async A=>{let{account:e}=A;if(!e)return;let{subscription:{availableTiers:t}}=e;t&&t.length>0&&await tdA(A),Ms(A)},_RA=async A=>AT("reload",async()=>{let e=Xo(A,[ia.Billing,ia.Invite,ia.Settings,ia.Tier,ia.UserFlags,ia.Groups]),t=SE(A);return Promise.all([e,t])}),XNe=async(A,e)=>{switch(e){case dr.Type.Business:return WNe(A);case dr.Type.Family:return JNe(A);case dr.Type.Individual:return;default:throw new Error("Unknown account type")}},WNe=async A=>AT("convertToBusiness",async()=>{let e=A.user;if(!e)return Promise.reject(new Error("Missing user"));let t={attrs:VA.Attr.Memberships|VA.Attr.PubKey};return Promise.all([_N(A,t),DN(A,t),Rs(A,t)]).then(async r=>{let[a,j,n]=r;return DRA(A,e,n).then(async i=>zRA(A,j,a,n,i))}).then(()=>{})}),JNe=async A=>AT("convertToFamily",async()=>{let e=A.user;if(!e)return Promise.reject(new Error("Missing user"));let t,r,a,j={attrs:VA.Attr.Memberships|VA.Attr.PubKey};return Promise.all([_N(A,j),DN(A,j),Rs(A,j)]).then(async n=>([t,r,a]=n,jB(A.session,{attrs:["combinedPermissions"]}))).then(async({users:n})=>{let i=n.filter(s=>St.isOwner(s)&&!St.isAdmin(s)).map(s=>({uuid:s.uuid,role:Ha.Role.Manager})),o=n.filter(s=>St.isAdmin(s)&&!St.isOwner(s)).map(s=>({uuid:s.uuid,role:Ha.Role.Manager}));return Promise.all([Iv(A,{group:t,add:i,remove:[]}),Iv(A,{group:r,add:o,remove:[]})])}).then(async()=>SE(A)).then(async n=>{let i=[],o=n.filter(p=>p.type!==_e.TypePersonal&&_e.activeUserHasAcl(p,Kt.Manage)),s=ud(o,p=>{let h=!1,f=!1,G=p.accessList.filter(y=>y.accessorType==="group").map(y=>{let E=A.account&&A.account.findGroup(y.accessorUuid);if(!E)throw new Error("Missing group "+y.accessorUuid);switch(E.type){case VA.TypeOwners:return h=!0,y.acl=Kt.Manage,y;case VA.TypeAdmins:return f=!0,y.acl=Kt.Manage,y;default:{let $=(y.acl&Kt.RWE)>(y.acl&Kt.ALL_READ);return y.acl=$?Kt.RWE:Kt.ALL_READ,y}}}),w=[];if(h||w.push(r),f||w.push(t),w.length>0){let y=w.map(E=>({accessorType:E.accessorType,uuid:E.uuid}));i.push(odA(A,y,p,{default:{acl:Kt.Manage}}))}return G}),c=100,u=1;return await jo(async p=>(`${Math.min(s.length,u++*c)}${s.length}`,await sdA(A,p),[]),c,s),Promise.all(i)}).then(async()=>DRA(A,e,a)).then(async n=>zRA(A,r,t,a,n)).then(()=>{})}),DRA=async(A,e,t)=>AT("createTeamMembersGroupIfNeeded",async()=>{if(A.account&&A.account.teamMembersGroup)return lp(A,{attrs:VA.Attr.PubKey});let r=new VA({desc:"All team members.",name:"Team Members",type:VA.TypeTeamMembers});return cp(A,r,t).then(async a=>r.addMembership(a,e,{role:Ha.Role.Member})).then(async()=>PE(A,r))}),zRA=async(A,e,t,r,a)=>AT("createTeamVaultIfNeeded",async()=>gg(A).then(async j=>{if(j)return j;let n=WN();return n.generateNewKey().then(async()=>Promise.all([na.generate(n,e,{acl:Kt.Manage}),na.generate(n,t,{acl:Kt.Manage}),na.generate(n,r,{acl:Kt.Recover}),na.generate(n,a,{acl:Kt.ALL_READ|Kt.ALL_WRITE|Kt.ALL_EXPORT})])).then(async i=>$v(A,n,i))}));var eT=AA(OA());var udA=AA(al());var YNe=EA("web-api/action/demo_vault_items.ts"),ZNe=["wendy","wendyappleseed","wendy@appleseed.com"],QNe=["has_credit_card","has_address"],AUe=eT.record(eT.string,eT.string),eUe=async(A,e,t,r)=>{let a=await tUe(A.session),j=eu(a),n=_i(r,s=>s.uuid===dt.LoginUuid),i=[],o=1;for(let s=0;s<e;s++){let c=new GA(t,n),u=dd(j);u===0&&(j=eu(a),u=dd(j),o++);let p=ji(0,u-1),h=Object.keys(j)[p];if(h===void 0)continue;delete j[h];let f=o>1?` (${o.toString()})`:"";c.title=a[h]+f,c.overview.URLs=[{l:"website",u:"https://"+h}],c.overview.url="https://"+h;let G=ZNe[ji(0,2)];G!==void 0&&c.setUsername(G);let[w,y]=QN();c.setPassword(w,!0,y);let E=ji(1,40)===1;c.faveIndex=E?1:0;let $=ji((0,udA.default)().unix()-31536e3,(0,udA.default)().unix());if(c.createdAt=new Date($*1e3),c.updatedAt=new Date($*1e3),ji(1,10)===1){let O={time:$-ji(2e6,6e6),value:QN()[0]};c.details.passwordHistory=[O]}let T=[];if(ji(1,15)===1){let O={k:GA.FieldType.Concealed,n:GA.TOTP_PREFIX+lr(),v:lr(),t:"one-time password"},I={name:lr(),title:"",fields:[O]};T.push(I)}if(ji(1,15)===1){let O={k:GA.FieldType.Concealed,n:lr(),v:QN()[0],t:"First pet's name?"},I={k:GA.FieldType.Concealed,n:lr(),v:QN()[0],t:"Mother's maiden name?"},q={name:lr(),title:"Security Questions",fields:[O,I]};T.push(q)}if(ji(1,15)===1){let O={k:GA.FieldType.Email,n:lr(),v:"support@"+h,t:"email"},I={k:GA.FieldType.Phone,n:lr(),v:"1-800-"+ji(100,999).toString()+"-"+ji(1e3,9999).toString(),t:"phone"},q={name:lr(),title:"Contact Info",fields:[O,I]};T.push(q)}if(c.details.sections=T,ji(1,15)===1){let O=QNe[ji(0,1)];O!==void 0&&(c.tags=[O])}ji(1,15)===1&&(c.notes="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suam denique cuique naturam esse ad vivendum ducem."),i.push(c)}await Fc(A,i,t)},QN=()=>{if(ji(0,1)===1){let[A,e]=cAA(ji(4,5));return[A.join(" "),e]}else{let A=dk.UPPERCASE+dk.LOWERCASE+dk.DIGITS;return xh(A,ji(15,25))}},tUe=YNe(()=>({name:"getDemoWebsites",method:"GET",url:"/demo-data/websites.json",responseType:AUe}));var rUe=async(A,e)=>arA(A.session,e),aUe=async(A,e,t,r,a,j)=>jrA(A.session,e,t,r,a,j),jUe=async(A,e,t,r)=>nrA(A.session,e,t,r),nUe=async(A,e,t,r,a,j)=>{let{numSharedVaults:n,sharedVaults:i}=await irA(A.session,e,t,r,a,j),o=await Promise.all(i.map(async({developerItems:s,uuid:c,vault:u})=>{if(!u)return{developerItems:s,uuid:c};let p=await $6(A,u);return{developerItems:s,vault:p,uuid:c}}));return{numSharedVaults:n,sharedVaults:o}},iUe=async(A,e,t,r)=>orA(A.session,e,t,r),oUe=async(A,e,t,r,a)=>srA(A.session,e,t,r,a),sUe=async(A,e,t)=>lrA(A.session,e,t);var lUe=async A=>await krA(A.session),cUe=async(A,e)=>hrA(A.session,e);var uUe=async A=>grA(A.session),dUe=async(A,e)=>frA(A.session,e),mUe=async(A,e)=>ErA(A.session,e),pUe=async(A,e)=>BrA(A.session,e);var kUe=async A=>JiA(A.session),hUe=async(A,e)=>YiA(A.session,e);var gUe=async(A,e)=>GrA(A.session,e),fUe=async A=>wrA(A.session).then(async e=>hcA(e));var BUe=async(A,e)=>xrA(A.session,e);var EUe="action/gift_card",MRA=Ne(EUe),xUe=async A=>MRA("getGiftCards",async()=>br.getGiftCards(A.session).then(e=>e.map(q4.create))),bUe=async(A,e)=>MRA("redeemGiftCard",async()=>br.redeemGiftCard(A.session,e)),yUe=async(A,e)=>br.checkGiftCard(A.session,e);var NdA={};Na(NdA,{BoundCellType:()=>Eg,CCHeader:()=>Gi,CellAttr:()=>KE,HeaderType:()=>sT,ImportFormat:()=>Gu,ItemKind:()=>Md,LoginHeader:()=>zd,SecureNoteHeader:()=>RE,createVaultItems:()=>eKA,csvToVaultItems:()=>RdA,findLongestRowLength:()=>tU,importVaultItems:()=>tKA,parse:()=>pp,removeEmptyColumns:()=>kdA});var vUe="action/vault_item_template",FUe=Ne(vUe),RRA=async(A,e=!1)=>(await peA(A.session,e)).templates.map(yE),wc=async A=>RRA(A,!0),GUe=async A=>{let e=await LR(A.session,dt.IdentityUuid);return yE(e)},wUe=async(A,e)=>FUe("getDefaultTemplate",async()=>{let t=await LR(A.session,e);return yE(t)}),qUe=async(A,e)=>keA(A.session,{...tl(e,"sidebarIcon"),sourceIcon:e.sidebarIcon}),$Ue=async(A,e,t)=>{let r=e.map(a=>a.uuid);return heA(A.session,r,t)},tT=async A=>{let e=await wc(A),t=e.find(n=>n.uuid===dt.LoginUuid);if(!t)throw new Error("login template not found");let r=e.find(n=>n.uuid===dt.CreditCardUuid);if(!r)throw new Error("credit card template not found");let a=e.find(n=>n.uuid===dt.SecureNoteUuid);if(!a)throw new Error("secure note template not found");let j=e.find(n=>n.uuid===dt.IdentityUuid);if(!j)throw new Error("identity template not found");return{loginTemplate:t,creditCardTemplate:r,secureNoteTemplate:a,identityTemplate:j}};var zt;(function(A){A.populateVaultItemSectionField=(t,r,a,j,n,i)=>{typeof j<"u"?e(t,a,j,n):A.addFieldToOtherFieldsSection(t,r,a,i)};let e=(t,r,a,j)=>{let n=_i(t.details.sections,o=>o.name===a.section||o.title===a.section);n||(n={name:F.generateUUID(),title:a.section,fields:[]},t.details.sections.push(n));let i=n?.fields?.find(o=>o.n===a.field);if(i){a.v?i.v=a.v(i,r):i.v=r;let o=A.getItemOverview(j,i,t);o!==""&&(t.overview.ainfo=o)}else{n.fields||(n.fields=[]);let o=A.createSectionField({kind:a.kind||GA.FieldType.String,title:a.field,value:r,attributes:a.attributes||void 0,inputTraits:a.inputTraits||void 0,menuItems:a.menuItems||void 0});a.v&&(o.v=a.v(o,r)),n.fields.push(o)}};A.addFieldToOtherFieldsSection=(t,r,a,j)=>{let n=_i(t.details.sections,i=>i.title===j["Other Fields"]());n?(n.fields||(n.fields=[]),n.fields.push(A.createSectionField({kind:GA.FieldType.String,title:r,value:a}))):t.details.sections.push({name:F.generateUUID(),title:j["Other Fields"](),fields:[A.createSectionField({kind:GA.FieldType.String,title:r,value:a})]})},A.createSectionField=t=>({k:t.kind,v:t.value,t:t.title,n:F.generateUUID(),a:t.attributes,inputTraits:t.inputTraits,m:t.menuItems}),A.getItemOverview=(t,r,a)=>{if(t&&t.attrs.subtitle===r.n)return GA.getStringValue(r);if(a.templateUuid===ZA.VaultItemTemplate.CreditCardUuid&&r.n===GA.FieldName.CreditCard.CreditCardNumber){let j=GA.getStringValue(r);return GA.getCreditCardSubtitle(j)}return""},A.getVaultItemTemplate=(t,r)=>{let a=r.find(j=>j.uuid===t);if(!a)throw new Error(`Could not find template with ID "${t}"`);return a},A.getValueFromRecord=(t,r)=>{let a=t[r];return a===void 0?"":a}})(zt||(zt={}));var W1=async(A,e,t)=>wc(A).then(r=>{let a=zt.getVaultItemTemplate(dt.LoginUuid,r);return e.map(j=>{let n=new GA(t),[i,o,s,c]=j;return n.templateUuid=dt.LoginUuid,n.title=i||a.singularName,o&&(n.url=o),s&&n.setUsername(s),c&&n.setPassword(c),n})}).catch(r=>{throw r});var AU=AA(pdA());var pp=A=>{let e=KRA(A,{skipEmptyLines:!0}),t=e.errors.length>0;return t&&console.error("Possible errors importing data:",e.errors),{parsedData:e.data,hasErrors:t}},eU=A=>KRA(A,{skipEmptyLines:!0,header:!0}).data;var KRA=(A,e)=>(IUe(),AU.parse(A,e));var IUe=()=>{if(typeof AU>"u")throw new TypeError("Papa Parse must be loaded first.")};var kdA=A=>{let e=tU(A),t=[];for(let r=0;r<e;r++){let a=A.some(j=>j[r]);t.push(a)}return A.map(r=>r.filter((a,j)=>t[j]))};var tU=A=>A.reduce((e,t)=>t.length>e?t.length:e,0),PUe=(A,e)=>{if(!(!A.details||!A.details.sections))return _i(A.details.sections,t=>t.title.toLowerCase()===e.toLowerCase())},Fu=(A,e,t)=>{if(A.length===0)return;A.indexOf("apple-otpauth://")===0&&(A=A.slice(6));let r={k:GA.FieldType.Concealed,n:GA.TOTP_PREFIX+lr(),v:A,t:t["one-time password"]()},a=PUe(e,t.security());if(a)a.fields?a.fields.push(r):a.fields=[r];else{let j={name:"Section_"+lr(),title:t.security(),fields:[r]};e.details&&e.details.sections?e.details.sections.push(j):e.details.sections=[j]}};var SUe="action/import/apple",CUe=Ne(SUe),LRA=async(A,e,t)=>CUe("parseAppleExport",async()=>{let r=pp(e).parsedData;return r.length===0?[]:(r[0]&&r[0][0]==="Title"&&r.shift(),W1(A,r,t))});var xt=AA(OA()),HRA=AA(al());var OUe="action/import/bitwarden",TUe=Ne(OUe),_E;(function(A){A.BadEncType="bad encType attribute",A.BadData="the encrypted data has a different format than expected",A.BadMac="failed to verify mac"})(_E||(_E={}));var VRA=(A,e,t,r,a)=>TUe("parseBitwardenExport",async()=>{let j,n=Ke(mt(e),xr.pipe(KUe));switch(n.type){case"ok":{j=n.value;break}case"err":throw new Error(r.unsupportedBitwardenExport())}if(!j.encrypted||!j.passwordProtected)throw new Error(r.unsupportedBitwardenExport());if(j.kdfType!==hdA.Pbkdf2Sha256)throw new Error(r.unsupportedBitwardenKdfType(j.kdfType));let i=await _Ue(j,a.bitwardenExportPasssword);a.bitwardenExportPasssword="";try{await URA(i,j.encKeyValidation_DO_NOT_EDIT)}catch{throw new Error(r.bitwardenBadPassword())}let o;try{o=await URA(i,j.data)}catch{throw new Error(r.bitwardenFailedToDecrypt())}let s=Ke(o,Fs.pipe(XUe)),c;switch(s.type){case"ok":{c=s.value;break}case"err":throw h6(s.value,sA`action/import/bitwarden`,sA`parseBitwardenExport`),new Error(r.unsupportedBitwardenExport())}return await DUe(A,t,r,c)}),aU={name:"HMAC",hash:"SHA-256"},_Ue=async(A,e)=>{let t=await $a.importKey("raw",mt(e),"PBKDF2",!1,["deriveBits"]),r=await $a.deriveBits({name:"PBKDF2",hash:"SHA-256",salt:mt(A.salt),iterations:A.kdfIterations},t,256),a=await $a.importKey("raw",r,aU,!1,["sign"]),j=await NRA(a,mt("enc"),32),n=await NRA(a,mt("mac"),32);return{enc:await $a.importKey("raw",j,"AES-CBC",!1,["decrypt"]),mac:await $a.importKey("raw",n,aU,!1,["verify"])}},NRA=async(A,e,t)=>{let r=Math.ceil(t/32),a=new Uint8Array,j=new Uint8Array(t),n=0;for(let i=1;i<=r&&n<t;++i){let o=new Uint8Array(a.byteLength+e.byteLength+1);o.set(a),o.set(e,a.byteLength),o.set([i],a.byteLength+e.byteLength),a=new Uint8Array(await $a.sign(aU,A,o)),j.set(a,n),n+=a.byteLength}return j},URA=async(A,e)=>{let t=e.split("."),r=t[0],a=t[1],j=rT.AesCbc256WithHmacSha256;if(r!==void 0){let s=parseInt(r,10);if(!(s in rT))throw new Error(_E.BadEncType);j=s}else throw new Error(_E.BadEncType);if(a===void 0)throw new Error(_E.BadData);let n=a.split("|");if(n[0]===void 0||n[1]===void 0)throw new Error(_E.BadData);let i=Je(n[0]),o=Je(n[1]);switch(j){case rT.AesCbc256WithHmacSha256:{if(n[2]===void 0)throw new Error(_E.BadData);let s=Je(n[2]),c=new Uint8Array(i.byteLength+o.byteLength);if(c.set(i,0),c.set(o,i.byteLength),!await $a.verify(aU,A.mac,s,c))throw new Error(_E.BadMac);return Di(await $a.decrypt({name:"AES-CBC",iv:i},A.enc,o))}default:return""}},rT;(function(A){A[A.AesCbc256WithHmacSha256=2]="AesCbc256WithHmacSha256"})(rT||(rT={}));var hdA;(function(A){A[A.Pbkdf2Sha256=0]="Pbkdf2Sha256"})(hdA||(hdA={}));var DUe=async(A,e,t,r)=>{let{loginTemplate:a,creditCardTemplate:j,secureNoteTemplate:n,identityTemplate:i}=await tT(A),o={};r.folders&&r.folders.forEach(u=>o[u.id]=u.name);let s=[];return(r.items?r.items:[]).forEach(u=>{if(u.deletedDate||u.collectionId)return;let p=new GA(e);if(p.isNewItem=!0,u.folderId){let f=o[u.folderId];f&&p.addTag(f)}p.title=u.name,u.notes&&(p.notes=u.notes),p.faveIndex=u.favorite?1:0,u.creationDate&&(p.createdAt=new Date(u.creationDate)),u.revisionDate&&(p.updatedAt=new Date(u.revisionDate));let h=[];if(u.fields)for(let f of u.fields){let G="T";switch(f.type){case gdA.Boolean:{G="C";break}default:break}h.push({value:f.value?f.value:"",type:G,name:f.name?f.name:""})}if(p.webFormFields=h,u.passwordHistory)for(let f of u.passwordHistory)p.details.passwordHistory||(p.details.passwordHistory=[]),p.details.passwordHistory.push({time:f.lastUsed?.getTime(),value:f.password});switch(u.type){case aT.Card:{zUe(p,j,t,u);break}case void 0:case aT.Login:{MUe(p,a,t,u);break}case aT.Identity:{RUe(p,i,t,u);break}default:{p.parseTemplate(n);break}}s.push(p)}),s},zUe=(A,e,t,r)=>{A.parseTemplate(e);let a=r.card;if(a)for(let j of[{key:"cardholder",value:a.cardholderName},{key:"type",value:a.brand},{key:"ccnum",value:a.number},{key:"cvv",value:a.code},{key:"expiry",value:(0,HRA.default)(`${a.expMonth}/${a.expYear}`,["MM/YYYY","M/YYYY"]).format("YYYYMM")}])j.value&&zt.populateVaultItemSectionField(A,j.key,j.value,{section:"",field:j.key},e,t)},MUe=(A,e,t,r)=>{A.parseTemplate(e);let a=r.login;if(a){if(a.username&&A.setUsername(a.username),a.password&&A.setPassword(a.password),a.uris)for(let j of a.uris)j.uri&&(A.url=j.uri);a.totp&&Fu(a.totp,A,t)}},RUe=(A,e,t,r)=>{A.parseTemplate(e);let a=r.identity;if(a)for(let j of[{section:"name",key:"title",value:a.title},{section:"name",key:"firstname",value:a.firstName},{section:"name",key:"middle name",value:a.middleName},{section:"name",key:"lastname",value:a.lastName},{section:"name",key:"company",value:a.company},{section:"name",key:"ssn",value:a.ssn,kind:GA.FieldType.Concealed},{section:"name",key:"passportnumber",value:a.passportNumber,kind:GA.FieldType.Concealed},{section:"name",key:"licensenumber",value:a.licenseNumber,kind:GA.FieldType.Concealed},{section:"address",key:"address",v:{street:[a.address1,a.address2,a.address3].join(`
`),city:a.city,state:a.state,zip:a.postalCode,country:a.country}},{section:"address",key:"defphone",value:a.phone},{section:"internet",key:"email",value:a.email},{section:"internet",key:"username",value:a.username}])zt.populateVaultItemSectionField(A,j.key,j.value?j.value:"",{section:j.section,field:j.key,kind:j.kind,v:j.value?void 0:(n,i)=>j.v},e,t)},KUe=xt.readonly(xt.type({encrypted:xt.boolean,passwordProtected:xt.boolean,salt:xt.string,kdfType:xt.number,kdfIterations:xt.number,encKeyValidation_DO_NOT_EDIT:xt.string,data:xt.string}),"EncryptedFileFormat"),LUe=xt.readonly(xt.type({id:xt.string,name:xt.string}),"Folder"),Rr=A=>ke(xt.union([A,xt.undefined,xt.null]),void 0),aT;(function(A){A[A.Login=1]="Login",A[A.SecureNote=2]="SecureNote",A[A.Card=3]="Card",A[A.Identity=4]="Identity"})(aT||(aT={}));var NUe=xt.readonly(xt.type({uris:Rr(xt.readonlyArray(xt.type({uri:Rr(xt.string)}))),username:Rr(xt.string),password:Rr(xt.string),totp:Rr(xt.string)}),"LoginItemType"),UUe=xt.readonly(xt.type({cardholderName:Rr(xt.string),brand:Rr(xt.string),number:Rr(xt.string),expMonth:Rr(xt.string),expYear:Rr(xt.string),code:Rr(xt.string)}),"CardItemType"),HUe=xt.readonly(xt.type({title:Rr(xt.string),firstName:Rr(xt.string),middleName:Rr(xt.string),lastName:Rr(xt.string),address1:Rr(xt.string),address2:Rr(xt.string),address3:Rr(xt.string),city:Rr(xt.string),state:Rr(xt.string),postalCode:Rr(xt.string),country:Rr(xt.string),company:Rr(xt.string),email:Rr(xt.string),phone:Rr(xt.string),ssn:Rr(xt.string),username:Rr(xt.string),passportNumber:Rr(xt.string),licenseNumber:Rr(xt.string)}),"IdentityItemType"),gdA;(function(A){A[A.Text=0]="Text",A[A.Hidden=1]="Hidden",A[A.Boolean=2]="Boolean",A[A.Linked=3]="Linked"})(gdA||(gdA={}));var VUe=xt.readonly(xt.type({id:xt.string,organizationId:Rr(xt.string),folderId:Rr(xt.string),collectionId:Rr(xt.string),type:Rr(xt.number),name:xt.string,notes:Rr(xt.string),fields:Rr(xt.readonlyArray(xt.type({name:Rr(xt.string),value:Rr(xt.string),type:Rr(xt.number),linkedId:Rr(xt.number)}))),favorite:Rr(xt.boolean),login:Rr(NUe),card:Rr(UUe),identity:Rr(HUe),reprompt:Rr(xt.number),passwordHistory:Rr(xt.readonlyArray(xt.type({password:xt.string,lastUsed:Rr(Ro)}))),revisionDate:Rr(Ro),creationDate:Rr(Ro),deletedDate:Rr(Ro)}),"Item"),XUe=xt.readonly(xt.type({folders:Rr(xt.readonlyArray(LUe)),items:Rr(xt.readonlyArray(VUe))}),"FileFormat");var WUe="action/import/chrome",JUe=Ne(WUe),XRA=async(A,e,t)=>JUe("parseChromeExport",async()=>{let r=pp(e).parsedData;return r.length===0?[]:(r[0]&&r[0][0]==="name"&&r.shift(),W1(A,r,t))});var fdA=AA(al());var WRA=async(A,e,t,r)=>new Promise((a,j)=>{wc(A).then(async n=>{let i=eU(e),o=!1;if(i[0]){let s=Object.keys(i[0]);Object.values(DE).forEach(c=>{let u=aHe[c];u?.[0]===s[0]&&u?.[1]===s[1]&&s[0]===Hi.UsernameOne&&(o=!0)})}a(i.map(s=>o?YUe(s,t,zt.getVaultItemTemplate(dt.LoginUuid,n),r):ZUe(s,t,n,r)))}).catch(n=>{j(n)})}),YUe=(A,e,t,r)=>{let a=new GA(e,t);a.title=zt.getValueFromRecord(A,Hi.Title)||t.singularName,a.url=zt.getValueFromRecord(A,Hi.Url),a.notes=zt.getValueFromRecord(A,Hi.Note);let j=zt.getValueFromRecord(A,Hi.Category);a.tags=j.length>0?[j]:[];let n=zt.getValueFromRecord(A,Hi.OtpSecret);n.length>0&&Fu(n,a,r),a.setPassword(zt.getValueFromRecord(A,Hi.Password));let i=zt.getValueFromRecord(A,Hi.UsernameOne),o=zt.getValueFromRecord(A,Hi.UsernameTwo),s=zt.getValueFromRecord(A,Hi.UsernameThree),c=JRA[wr.Login];o.length===0&&s.length===0?a.setUsername(i):o.length>0&&s.length===0?(a.setUsername(o),zt.populateVaultItemSectionField(a,"email",i,c?.email,t,r)):s.length>0&&(a.setUsername(o),zt.populateVaultItemSectionField(a,"email",i,c?.email,t,r),zt.populateVaultItemSectionField(a,"secondary login",s,c?.secondaryLogin,t,r));let u=new Set(Object.values(Hi).map(p=>p.toString()));return Object.entries(A).filter(([p,h])=>!u.has(p)).forEach(([p,h])=>{zt.populateVaultItemSectionField(a,p,h,void 0,t,r)}),a},ZUe=(A,e,t,r)=>{let a=zt.getValueFromRecord(A,"type")||wr.SecureNote,j=zt.getVaultItemTemplate(jHe[a]??dt.SecureNoteUuid,t),n=new GA(e,j);n.title=QUe(A,a,j);let i=zt.getValueFromRecord(A,eHe(a))||"";n.notes=i;let o=JRA[a];if(Object.entries(A).forEach(([s,c])=>{tHe(a,s,c)&&zt.populateVaultItemSectionField(n,s,c,o?.[s],j,r)}),a===wr.CreditCard){let s=zt.getValueFromRecord(A,Pn.ExpirationYear)+zt.getValueFromRecord(A,Pn.ExpirationMonth);zt.populateVaultItemSectionField(n,"expirationDate",s,o?.expirationDate,j,r)}else if(a===wr.Address){let s=JSON.stringify({region:"",city:zt.getValueFromRecord(A,nr.City),country:zt.getValueFromRecord(A,nr.Country),street:zt.getValueFromRecord(A,nr.Address),zip:zt.getValueFromRecord(A,nr.Zip),state:zt.getValueFromRecord(A,nr.State)});zt.populateVaultItemSectionField(n,nr.Address,s,o?.[nr.Address],j,r)}return n},QUe=(A,e,t)=>e===wr.TaxNumber?"Tax Number":e===wr.Name?zt.getValueFromRecord(A,nr.FirstName)+" "+zt.getValueFromRecord(A,nr.LastName):zt.getValueFromRecord(A,AHe(e))||t.singularName,AHe=A=>{switch(A){case wr.Bank:case wr.CreditCard:return Pn.AccountName;case wr.IdCard:case wr.Passport:case wr.DriverLicense:case wr.SocialSecurityNumber:return Rn.Name;case wr.SecureNote:return Ov.Title;case wr.Address:case wr.Company:case wr.Email:case wr.Number:case wr.Website:return nr.ItemName}return""},eHe=A=>A===wr.SecureNote?Ov.Notes:"",tHe=(A,e,t)=>!(t===""||e==="type"||A===wr.CreditCard&&(e===Pn.ExpirationMonth||e===Pn.ExpirationYear)||A===wr.Bank&&e===Pn.AccountName||A===wr.SecureNote&&(e===Ov.Title||e===Hi.Note)||A===wr.Email&&e===nr.ItemName||A===wr.Number&&e===nr.ItemName||A===wr.Address&&(e===nr.ItemName||e===nr.Address||e===nr.Country||e===nr.State||e===nr.City||e===nr.Zip)||A===wr.Website&&e===nr.ItemName),Cv=(A,e)=>{if(A.k===GA.FieldType.Date){let t=fdA.default.utc(e.trim(),["YYYY-MM-DD","YYYY-M-DD","YYYY-MM-D","YYYY-M-D"],!0).set({hours:12,minutes:1,seconds:0,milliseconds:0}).unix();return F.isValidNumber(t)?t:e}else return Number((0,fdA.default)(e,["YYYY-MM-DD","YYYY-M-DD","YYYY-MM-D","YYYY-M-D"],!0).format("YYYYMM"))||0},rHe=(A,e)=>{switch(e){case"MR":return"Mr.";case"MME":return"Mrs.";case"MLLE":return"Miss.";case"MS":return"Ms.";case"MX":return"Mx.";default:return}},DE;(function(A){A.Ids="ids.csv",A.Payments="payments.csv",A.Credentials="credentials.csv",A.PersonalInfo="personalInfo.csv",A.SecureNotes="securenotes.csv"})(DE||(DE={}));var Pn;(function(A){A.Type="type",A.AccountName="account_name",A.AccountHolder="account_holder",A.CreditCardNumber="cc_number",A.Code="code",A.ExpirationMonth="expiration_month",A.ExpirationYear="expiration_year",A.RoutingNumber="routing_number",A.AccountNumber="account_number",A.Country="country",A.IssuingBank="issuing_bank"})(Pn||(Pn={}));var Rn;(function(A){A.Type="type",A.Number="number",A.Name="name",A.IssueDate="issue_date",A.ExpirationDate="expiration_date",A.PlaceOfIssue="place_of_issue",A.State="state"})(Rn||(Rn={}));var Hi;(function(A){A.UsernameOne="username",A.UsernameTwo="username2",A.UsernameThree="username3",A.Title="title",A.Password="password",A.Note="note",A.Url="url",A.Category="category",A.OtpSecret="otpSecret"})(Hi||(Hi={}));var nr;(function(A){A.Type="type",A.Title="title",A.FirstName="first_name",A.MiddleName="middle_name",A.LastName="last_name",A.Login="login",A.DateOfBirth="date_of_birth",A.PlaceOfBirth="place_of_birth",A.Email="email",A.EmailType="email_type",A.ItemName="item_name",A.PhoneNumber="phone_number",A.Address="address",A.Country="country",A.State="state",A.City="city",A.Zip="zip",A.AddressRecipient="address_recipient",A.AddressBuilding="address_building",A.AddressApartment="address_apartment",A.AddressFloor="address_floor",A.AddressDoorCode="address_door_code",A.JobTitle="job_title",A.Url="url"})(nr||(nr={}));var Ov;(function(A){A.Title="title",A.Notes="note"})(Ov||(Ov={}));var aHe={[DE.Ids]:[Rn.Type,Rn.Number,Rn.Name,Rn.IssueDate,Rn.ExpirationDate,Rn.PlaceOfIssue,Rn.State],[DE.Payments]:[Pn.Type,Pn.AccountName,Pn.AccountHolder,Pn.CreditCardNumber,Pn.Code,Pn.ExpirationMonth,Pn.ExpirationYear,Pn.RoutingNumber,Pn.AccountNumber,Pn.Country,Pn.IssuingBank],[DE.Credentials]:[Hi.UsernameOne,Hi.UsernameTwo,Hi.UsernameThree,Hi.Title,Hi.Password,Hi.Note,Hi.Url,Hi.Category,Hi.OtpSecret],[DE.PersonalInfo]:[nr.Type,nr.Title,nr.FirstName,nr.MiddleName,nr.LastName,nr.Login,nr.DateOfBirth,nr.PlaceOfBirth,nr.Email,nr.EmailType,nr.ItemName,nr.PhoneNumber,nr.Address,nr.Country,nr.State,nr.City,nr.Zip,nr.AddressRecipient,nr.AddressBuilding,nr.AddressApartment,nr.AddressFloor,nr.AddressDoorCode,nr.JobTitle,nr.Url],[DE.SecureNotes]:[Ov.Title,Ov.Notes]},wr;(function(A){A.Login="login",A.Bank="bank",A.CreditCard="credit_card",A.IdCard="card",A.Passport="passport",A.DriverLicense="license",A.SocialSecurityNumber="social_security",A.TaxNumber="tax_number",A.Name="name",A.Email="email",A.Number="number",A.Address="address",A.Company="company",A.Website="website",A.SecureNote="secure_note"})(wr||(wr={}));var jHe={[wr.Bank]:dt.BankAccountUuid,[wr.CreditCard]:dt.CreditCardUuid,[wr.IdCard]:dt.IdentityUuid,[wr.Passport]:dt.PassportUuid,[wr.DriverLicense]:dt.DriverLicenseUuid,[wr.SocialSecurityNumber]:dt.SocialSecurityNumberUuid,[wr.TaxNumber]:dt.SecureNoteUuid,[wr.Name]:dt.IdentityUuid,[wr.Email]:dt.IdentityUuid,[wr.Number]:dt.IdentityUuid,[wr.Address]:dt.IdentityUuid,[wr.Company]:dt.IdentityUuid,[wr.Website]:dt.IdentityUuid,[wr.SecureNote]:dt.SecureNoteUuid},JRA={[wr.Login]:{email:{field:"email",section:"additional logins"},secondaryLogin:{field:"secondary login",section:"additional logins"}},[wr.CreditCard]:{[Pn.AccountName]:{field:"cardholder",section:""},[Pn.CreditCardNumber]:{field:"ccnum",section:""},[Pn.Code]:{field:"cvv",section:""},[Pn.Country]:{field:"country",section:"details",inputTraits:{autocapitalization:"Words",keyboard:"Default"}},expirationDate:{field:"expiry",section:""}},[wr.Bank]:{[Pn.IssuingBank]:{field:"bankName",section:""},[Pn.AccountHolder]:{field:"owner",section:""},[Pn.RoutingNumber]:{field:"swift",section:""},[Pn.AccountNumber]:{field:"iban",section:""},[Pn.Country]:{field:"country",section:"branchInfo",inputTraits:{autocapitalization:"Words",keyboard:"Default"}}},[wr.SecureNote]:{},[wr.Passport]:{[Rn.Name]:{field:"fullname",section:""},[Rn.Number]:{field:"number",section:""},[Rn.IssueDate]:{field:"issue_date",section:"",v:Cv},[Rn.ExpirationDate]:{field:"expiry_date",section:"",v:Cv},[Rn.PlaceOfIssue]:{field:"issuing_country",section:""}},[wr.DriverLicense]:{[Rn.Name]:{field:"fullname",section:""},[Rn.Number]:{field:"number",section:""},[Rn.IssueDate]:{field:"issue date",section:"",kind:GA.FieldType.MonthYear,v:Cv},[Rn.ExpirationDate]:{field:"expiry_date",section:"",v:Cv},[Rn.State]:{field:"state",section:""}},[wr.SocialSecurityNumber]:{[Rn.Name]:{field:"name",section:""},[Rn.Number]:{field:"number",section:""}},[wr.TaxNumber]:{[Rn.Number]:{field:"number",section:"",kind:GA.FieldType.Concealed,inputTraits:{keyboard:"NamePhonePad"}}},[wr.IdCard]:{[Rn.Name]:{field:"full name",section:"",inputTraits:{autocapitalization:"Words"}},[Rn.Number]:{field:"number",section:"",inputTraits:{keyboard:"NamePhonePad"}},[Rn.IssueDate]:{field:"issue date",section:"",kind:GA.FieldType.Date,v:Cv},[Rn.ExpirationDate]:{field:"expiry date",section:"",kind:GA.FieldType.Date,v:Cv}},[wr.Name]:{[nr.Title]:{field:"title",section:"name",menuItems:["Mr","Mme","Mlle","Ms","Mx"],v:rHe},[nr.FirstName]:{field:"firstname",section:"name"},[nr.MiddleName]:{field:"middle name",section:"name",attributes:{guarded:"yes"},inputTraits:{autocapitalization:"Words"}},[nr.LastName]:{field:"lastname",section:"name"},[nr.Login]:{field:"username",section:"internet"},[nr.DateOfBirth]:{field:"birthdate",section:"name",v:Cv},[nr.PlaceOfBirth]:{field:"place of birth",section:"name",attributes:{guarded:"yes"},inputTraits:{autocapitalization:"Words"}}},[wr.Email]:{[nr.Email]:{field:"email",section:"internet"},[nr.EmailType]:{field:"email type",section:"internet"}},[wr.Number]:{[nr.PhoneNumber]:{field:"defphone",section:"address"}},[wr.Address]:{[nr.Address]:{field:"address",section:"address",v:(A,e)=>JSON.parse(e)},[nr.AddressRecipient]:{field:"recipient",section:"address",inputTraits:{autocapitalization:"Words"}},[nr.AddressBuilding]:{field:"building",section:"address"},[nr.AddressApartment]:{field:"apartment",section:"address"},[nr.AddressFloor]:{field:"floor",section:"address"},[nr.AddressDoorCode]:{field:"door code",section:"address"}},[wr.Company]:{[nr.ItemName]:{field:"company",section:"name"},[nr.JobTitle]:{field:"jobtitle",section:"name"}},[wr.Website]:{[nr.Url]:{field:"website",section:"internet"}}};var I9A=AA(qdA()),Qj=AA(OA());var nU=A=>{let e=A.toLowerCase();return e.includes("electron")?"visaelectron":e.includes("visa")?"visa":e.includes("maestro")||e.includes("m\xE6stro")?"maestro":e.includes("mastercard")||e.includes("master card")||e.includes("mc")?"mc":e.includes("amex")||e.includes("american express")?"amex":e.includes("discover")?"discover":e.includes("diner")?"diners":e.includes("unionpay")||["cup","upi"].includes(e)?"unionpay":e.includes("japan credit bureau")||e==="jcb"?"jcb":e.includes("interac")?"interac":e.includes("laser")?"laser":""};var q9A=AA(al()),$9A=A=>{let e=(0,q9A.default)(A,["MMYY","MM/YY","MM-YY","MMYYYY","MM/YYYY","MM-YYYY","YYYY/MM","YYYY-MM"]);return e.isValid()?e.format("YYYYMM"):""};var iU=A=>(e,t,r,a)=>A.some(j=>{if(e===j.tagName){let n=t.split(".").reverse();return n.length<2?!1:n[1]===j.parentTagName}else return!1});var P9A=async(A,e,t,r)=>{let a=new I9A.XMLParser(FVe()),j=Ke(a.parse(e,!0),vVe).unwrap(),n=BVe(j),{loginTemplate:i,creditCardTemplate:o,secureNoteTemplate:s}=await tT(A),c=[];return n.vaultItems.forEach(u=>{switch(u.templateName){case"Credit Card":{c.push(hVe(u,o,t,r));break}case"Web Password":{c.push(C9A(u,i,t,r));break}case"Password":{c.push(gVe(u,i,t,r));break}default:{c.push(fVe(u,s,t,r));break}}}),await Promise.all(c)},hVe=async(A,e,t,r)=>{let a=new GA(t);a.parseTemplate(e),a.templateUuid=e.uuid,a.title=A.name||e.singularName,a.tags=A.tags;let j={"full-name":{templateField:"cardholder",transform:i=>i},"card-number":{templateField:"ccnum",transform:i=>i},"card-type":{templateField:"type",transform:nU},"expiration-date":{templateField:"expiry",transform:$9A}},n=[];return A.fields.forEach(i=>{let o=!1,s=j[i.slug];if(s){let c=GA.findFieldWithName(s.templateField,a);c&&(c.v=s.transform(i.value),o=!0)}else i.slug==="notes"&&(a.notes=i.value,o=!0);o||n.push(i)}),n.length>0&&a.details.sections.push($dA(r,n)),a},$dA=(A,e)=>{let t=new Set(["client-secret","group-auth-password","passphrase","password","private-key-passphrase","secret-key",oU]),r=new Set([oU]),a=e.map(j=>({k:t.has(j.slug)?GA.FieldType.Concealed:GA.FieldType.String,n:lr(),v:j.value||"",t:j.name,a:{multiline:r.has(j.slug)?"yes":"no"}}));return{name:lr(),title:A["Other Fields"](),fields:vj(a)}},oU="totp-backup-codes",S9A="totp backup codes",C9A=async(A,e,t,r)=>{let a=new GA(t);a.templateUuid=e.uuid,a.title=A.name||e.singularName,a.tags=A.tags;let j=[];return A.fields.forEach(n=>{switch(n.slug){case"username":{a.setUsername(n.value);break}case"password":{a.setPassword(n.value);break}case"url":{a.url=n.value;break}case"notes":{a.notes=n.value;break}default:{j.push(n);break}}}),A.totpBackupCodes&&j.push({name:S9A,value:A.totpBackupCodes,slug:oU}),a.details.sections.push($dA(r,j)),A.totpKey&&A.totpKey.length>0&&Fu(A.totpKey,a,r),a},gVe=async(A,e,t,r)=>{let a=A.fields.filter(n=>n.slug==="resource"),j=A.fields.filter(n=>n.slug==="url");if(a.length===1&&j.length===0){let n=a[0];n&&(n.name="URL",n.slug="url")}return C9A(A,e,t,r)},fVe=async(A,e,t,r)=>{let a=new GA(t);a.templateUuid=e.uuid,a.title=A.name||e.singularName,a.tags=A.tags;let j=[];return A.fields.forEach(n=>{n.slug==="notes"?a.notes=n.value:j.push(n)}),A.totpBackupCodes&&j.push({name:S9A,value:A.totpBackupCodes,slug:oU}),a.details.sections.push($dA(r,j)),A.totpKey&&A.totpKey.length>0&&Fu(A.totpKey,a,r),a},BVe=A=>({vaultItems:A.ImportFile.Secrets.Secret.map(e=>{let r={fields:(typeof e.SecretItems=="string"?[]:e.SecretItems.SecretItem).map(a=>({name:a.FieldName,slug:a.Slug,value:a.Value})),folderPath:e.FolderPath,name:e.SecretName,tags:EVe(e.FolderPath),templateName:e.SecretTemplateName};return e.TotpKey&&(r.totpKey=e.TotpKey),e.TotpBackupCodes&&(r.totpBackupCodes=e.TotpBackupCodes),r})}),EVe=A=>A?[CyA(eG(A,"\\")).replace(/\\/g,"/")]:[],xVe=Qj.type({FieldName:Qj.string,Slug:ke(Qj.string,""),Value:Qj.string},"SecretItem"),bVe=Qj.intersection([Qj.readonly(Qj.type({FolderPath:Qj.string,SecretItems:Qj.union([Qj.type({SecretItem:Qj.array(xVe)}),Qj.string]),SecretName:Qj.string,SecretTemplateName:Qj.string},"Secret"),"ReadonlySecret"),Qj.readonly(Qj.partial({TotpBackupCodes:Qj.string,TotpKey:Qj.string},"TotpSection"),"ReadonlyTotpSection")]),yVe=Qj.readonly(Qj.type({Secrets:Qj.type({Secret:Qj.array(bVe)},"Secrets")},"ImportFile"),"ReadonlyImportFile"),vVe=Qj.readonly(Qj.type({ImportFile:yVe},"XmlImport"),"ReadonlyXmlImport"),FVe=()=>({parseTagValue:!1,parseAttributeValue:!1,isArray:iU(GVe)}),GVe=[{parentTagName:"Secrets",tagName:"Secret"},{parentTagName:"SecretItems",tagName:"SecretItem"}];var wVe="action/import/firefox",qVe=Ne(wVe),T9A=async(A,e,t)=>qVe("parseFirefoxExport",async()=>{let r=pp(e).parsedData;if(r.length===0)return[];r[0]&&r[0][0]==="url"&&r.shift();let a=0;for(let j of r)r[a]=[j[0]?$Ve(j[0]):"Login",...j],a++;return W1(A,r,t)}),$Ve=A=>{let e="Login";try{/^[A-Za-z]+:\/\//.test(A)||(A="https://"+A);let r=new URL(A).hostname;r.length!==0&&r.at(-1)==="."&&(r=r.slice(0,-1));let a=r.split(".").filter(n=>n.length>0),j=a.at(-2);if(j!==void 0)e=O9A(j);else{let n=a.at(-1);n!==void 0&&(e=O9A(n))}}catch{}return e},O9A=A=>!A||!A[0]?A:A[0].toUpperCase()+A.slice(1).toLowerCase();var IdA=AA(qdA()),Bj=AA(OA());var z9A=async(A,e,t,r)=>wc(A).then(async a=>{let j;try{let o=new IdA.XMLParser(D9A(!1));j=Ke(o.parse(e,!0),_9A).unwrap()}catch{let o=new IdA.XMLParser(D9A(!0));j=Ke(o.parse(e,!0),_9A).unwrap()}let i=zt.getVaultItemTemplate(dt.LoginUuid,a);return ud(j.KeePassFile.Root.Group,o=>{let s=o.Name;return M9A(o,s,t,r,i,!0)})}),M9A=(A,e,t,r,a,j)=>{let n=A.Entry,i=A.Group,o=[];return o=o.concat(n.map(s=>IVe(s,e,t,r,a,j))),o.concat(ud(i,s=>M9A(s,e+"/"+s.Name,t,r,a,j)))},IVe=(A,e,t,r,a,j)=>{let n=new GA(t,a);return n.title=iT(A,ME.Title)||a.singularName,n.notes=iT(A,ME.Notes),n.url=iT(A,ME.Url),n.tags=A.Tags.length>0?A.Tags.split(";").concat([e]):[e],n.setUsername(iT(A,ME.Username)),n.setPassword(iT(A,ME.Password)),A.OverrideURL.length>0&&zt.populateVaultItemSectionField(n,r["override url"](),A.OverrideURL,void 0,a,r),SVe(A).forEach(o=>{let s="",c=!0;typeof o.Value!="string"?(s=PdA(o.Value)?o.Value.contents:"",c=PVe(o)):(c=!j,s=o.Value),s.length>0&&zt.populateVaultItemSectionField(n,o.Key,s,c?{section:r["Other Fields"](),field:o.Key,kind:GA.FieldType.Concealed}:void 0,a,r)}),n},PVe=A=>PdA(A.Value)?CVe.is(A.Value.attr)?A.Value.attr.ProtectInMemory.toLowerCase()==="true":!1:!0,iT=(A,e)=>{let t=A.String,r="";return t.forEach(a=>{e===a.Key&&(typeof a.Value!="string"?r=PdA(a.Value)?a.Value.contents:"":r=a.Value)}),r},SVe=A=>{let e=A.String,t=new Set(Object.values(ME).map(r=>r.toString()));return e.filter(r=>!t.has(r.Key))},CVe=Bj.type({ProtectInMemory:Bj.string},"KnownAttributes"),OVe=Bj.type({contents:Bj.string,attr:Bj.unknown},"AttributeValue"),PdA=A=>OVe.is(A),ME;(function(A){A.Title="Title",A.Username="UserName",A.Password="Password",A.Url="URL",A.Notes="Notes"})(ME||(ME={}));var TVe=Bj.type({Key:Bj.string,Value:Bj.union([ke(Bj.string,""),Bj.record(Bj.string,Bj.unknown)])},"EntryStringField"),_Ve=Bj.readonly(Bj.type({OverrideURL:Bj.string,Tags:Bj.string,String:ke(Bj.array(TVe),[])},"Entry"),"ReadonlyEntry"),R9A=Bj.recursion("RecursiveGroup",()=>Bj.type({Name:Bj.string,Entry:ke(Bj.array(_Ve),[]),Group:ke(Bj.array(R9A),[])},"Group")),DVe=Bj.readonly(Bj.type({Root:Bj.type({Group:ke(Bj.array(R9A),[])},"Root")},"KeePassFile"),"ReadonlyKeePassFile"),_9A=Bj.readonly(Bj.type({KeePassFile:DVe},"XmlImport"),"ReadonlyXmlImport"),D9A=A=>({attributeNamePrefix:"",attributesGroupName:"attr",textNodeName:"contents",ignoreAttributes:A,parseTagValue:!1,parseAttributeValue:!1,isArray:iU(zVe)}),zVe=[{parentTagName:"Root",tagName:"Group"},{parentTagName:"Group",tagName:"Group"},{parentTagName:"Group",tagName:"Entry"},{parentTagName:"Entry",tagName:"String"}];var Jl=AA(OA());var TdA=AA(al());var K9A={AFG:"93",ALB:"355",DZA:"213",ASM:"1-684",AND:"376",AGO:"244",AIA:"1-264",ATA:"672",ATG:"1-268",ARG:"54",ARM:"374",ABW:"297",AUS:"61",AUT:"43",AZE:"994",BHS:"1-242",BHR:"973",BGD:"880",BRB:"1-246",BLR:"375",BEL:"32",BLZ:"501",BEN:"229",BMU:"1-441",BTN:"975",BOL:"591",BIH:"387",BWA:"267",BRA:"55",IOT:"246",VGB:"1-284",BRN:"673",BGR:"359",BFA:"226",BDI:"257",KHM:"855",CMR:"237",CAN:"1",CPV:"238",CYM:"1-345",CAF:"236",TCD:"235",CHL:"56",CHN:"86",CXR:"61",CCK:"61",COL:"57",COM:"269",COK:"682",CRI:"506",HRV:"385",CUB:"53",CUW:"599",CYP:"357",CZE:"420",COD:"243",DNK:"45",DJI:"253",DMA:"1-767",DOM:"1",TLS:"670",ECU:"593",EGY:"20",SLV:"503",GNQ:"240",ERI:"291",EST:"372",ETH:"251",FLK:"500",FRO:"298",FJI:"679",FIN:"358",FRA:"33",PYF:"689",GAB:"241",GMB:"220",GEO:"995",DEU:"49",GHA:"233",GIB:"350",GRC:"30",GRL:"299",GRD:"1-473",GUM:"1-671",GTM:"502",GGY:"44-1481",GIN:"224",GNB:"245",GUY:"592",HTI:"509",HND:"504",HKG:"852",HUN:"36",ISL:"354",IND:"91",IDN:"62",IRN:"98",IRQ:"964",IRL:"353",IMN:"44-1624",ISR:"972",ITA:"39",CIV:"225",JAM:"1-876",JPN:"81",JEY:"44-1534",JOR:"962",KAZ:"7",KEN:"254",KIR:"686",XKX:"383",KWT:"965",KGZ:"996",LAO:"856",LVA:"371",LBN:"961",LSO:"266",LBR:"231",LBY:"218",LIE:"423",LTU:"370",LUX:"352",MAC:"853",MKD:"389",MDG:"261",MWI:"265",MYS:"60",MDV:"960",MLI:"223",MLT:"356",MHL:"692",MRT:"222",MUS:"230",MYT:"262",MEX:"52",FSM:"691",MDA:"373",MCO:"377",MNG:"976",MNE:"382",MSR:"1-664",MAR:"212",MOZ:"258",MMR:"95",NAM:"264",NRU:"674",NPL:"977",NLD:"31",ANT:"599",NCL:"687",NZL:"64",NIC:"505",NER:"227",NGA:"234",NIU:"683",PRK:"850",MNP:"1-670",NOR:"47",OMN:"968",PAK:"92",PLW:"680",PSE:"970",PAN:"507",PNG:"675",PRY:"595",PER:"51",PHL:"63",PCN:"64",POL:"48",PRT:"351",PRI:"1",QAT:"974",COG:"242",REU:"262",ROU:"40",RUS:"7",RWA:"250",BLM:"590",SHN:"290",KNA:"1-869",LCA:"1-758",MAF:"590",SPM:"508",VCT:"1-784",WSM:"685",SMR:"378",STP:"239",SAU:"966",SEN:"221",SRB:"381",SYC:"248",SLE:"232",SGP:"65",SXM:"1-721",SVK:"421",SVN:"386",SLB:"677",SOM:"252",ZAF:"27",KOR:"82",SSD:"211",ESP:"34",LKA:"94",SDN:"249",SUR:"597",SJM:"47",SWZ:"268",SWE:"46",CHE:"41",SYR:"963",TWN:"886",TJK:"992",TZA:"255",THA:"66",TGO:"228",TKL:"690",TON:"676",TTO:"1-868",TUN:"216",TUR:"90",TKM:"993",TCA:"1-649",TUV:"688",VIR:"1-340",UGA:"256",UKR:"380",ARE:"971",GBR:"44",USA:"1",URY:"598",UZB:"998",VUT:"678",VAT:"379",VEN:"58",VNM:"84",WLF:"681",ESH:"212",YEM:"967",ZMB:"260",ZWE:"263"};var N9A=sA`action/import/lastpass`,MVe=Ne(N9A.str),Wl;(function(A){A.url="url",A.username="username",A.password="password",A.otp="totp",A.notes="extra",A.title="name",A.tags="grouping",A.fav="fav"})(Wl||(Wl={}));var U9A=async(A,e,t,r,a)=>MVe("parseLastPassExportNew",async()=>{let j=eU(e);if(j[0]&&j[0].profilename!==void 0)throw new Error(r["Form Fill importing is not supported. Use a normal LastPass export file."]());return wc(A).then(n=>{let i=zt.getVaultItemTemplate(dt.LoginUuid,n);return a.lastPassIncludeSharedItems||(j=j.filter(o=>o[Wl.tags]?.indexOf("Shared-")!==0)),j.map(o=>o[Wl.url]==="http://sn"?RVe(o,t,n,r):UVe(o,t,i,r))})}),RVe=(A,e,t,r)=>{let a=zt.getValueFromRecord(A,Wl.notes),j=LVe(t,a),n=new GA(e,j),{notes:i,fieldValues:o}=NVe(j,a),s=zt.getValueFromRecord(A,Wl.title),c=zt.getValueFromRecord(A,Wl.tags),u=zt.getValueFromRecord(A,Wl.fav)==="1"?1:0;n.title=s||j.singularName,n.notes=i,n.tags=X9A(c),n.faveIndex=u;let p=zdA(a),h=p.length===2&&p[1]||dj.SecureNote,f=L9A[h]||L9A[dj.SecureNote];if(typeof f>"u")return n;for(let G of vn(o)){let w=o[G]||"",y=f[G];typeof y<"u"?y.field==="username"&&j.uuid===dt.LoginUuid?n.setUsername(w):y.field==="password"&&j.uuid===dt.LoginUuid?n.setPassword(w):KVe(n,w,y,j,r):zt.addFieldToOtherFieldsSection(n,G,w,r)}return n},KVe=(A,e,t,r,a)=>{let j=_i(A.details.sections,i=>i.name===t.section||i.title===t.section);j||(j={name:lr(),title:t.section,fields:[]},A.details.sections.push(j));let n=j?.fields?.find(i=>i.n===t.field);if(n){t.v?n.v=t.v(n,e):n.v=DdA(e,n.k),n.k===GA.FieldType.Concealed&&YVe(n,A,r,a);let i=zt.getItemOverview(r,n,A);i!==""&&(A.overview.ainfo=i)}else{j.fields||(j.fields=[]);let i=zt.createSectionField({kind:t.kind||GA.FieldType.String,title:t.field,value:e});t.v?i.v=t.v(i,e):i.v=DdA(e,i.k),j.fields.push(i)}},zdA=A=>{let e=/^NoteType:(.+)/.exec(A);return e?.[0]!==void 0&&e?.[1]!==void 0?[e[0],e[1]]:["",""]},LVe=(A,e)=>{let t=zdA(e),r=t.length===2&&ZVe[t[1]]||dt.SecureNoteUuid;return zt.getVaultItemTemplate(r,A)},NVe=(A,e)=>{let t=zdA(e);if(A.uuid===dt.SecureNoteUuid&&t[0]==="")return{notes:e,fieldValues:{}};let[r,a]=e.slice(t[0].length).split(`
Notes:`),j={};if(r!==void 0){let n=/-{5}BEGIN(.+)PRIVATE KEY(.+)(\n.+)*END(.+)PRIVATE KEY-{5}/.exec(r),i=/-{5}BEGIN(.+)PUBLIC KEY(.+)(\n.+)*END(.+)PUBLIC KEY-{5}/.exec(r),o=r.trim().split(`
`);for(let s of o){let[c,u]=s.split(/:(.+)?/,2);c!==void 0&&u!==void 0&&c!=="Language"&&(j[c]=u),c==="Private Key"&&n&&(j[c]=String(n[0])),c==="Public Key"&&i&&(j[c]=String(i[0]))}}return{notes:a?a.trim():"",fieldValues:j}},UVe=(A,e,t,r)=>{let a=new GA(e,t),j=zt.getValueFromRecord(A,Wl.url),n=zt.getValueFromRecord(A,Wl.username),i=zt.getValueFromRecord(A,Wl.password),o=zt.getValueFromRecord(A,Wl.otp),s=zt.getValueFromRecord(A,Wl.notes),c=zt.getValueFromRecord(A,Wl.title),u=zt.getValueFromRecord(A,Wl.tags),p=zt.getValueFromRecord(A,Wl.fav)==="1"?1:0;a.templateUuid=dt.LoginUuid,a.title=c||t.singularName,a.url=j,a.notes=s,a.tags=X9A(u),a.faveIndex=p,o.length>0&&Fu(o,a,r);let h=_dA(n),f=_dA(i),G=vj([h!==n&&XVe(t,n),f!==i&&V9A(t,i)]);return G.length>0&&(a.details.sections=[...a.details.sections,H9A(G,r)]),a.setUsername(h),a.setPassword(f),a},_dA=A=>{let e=HVe(A)||A;return VVe(e)||A},HVe=A=>{if(!A)return;let e=A.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(A!==e)return e},VVe=A=>A&&(/^ [+=-]/.test(A)&&!/^ [+=-][\d.]+$/.test(A)?A.slice(1):A),H9A=(A,e)=>({name:lr(),title:e["Original Values"](),fields:[...A,zt.createSectionField({kind:GA.FieldType.Url,title:e["what's this?"](),value:"https://support.1password.com/import-lastpass/#get-help"})]}),XVe=(A,e)=>zt.createSectionField({kind:GA.FieldType.String,title:A.attrs.localizedStrings.username||"username",value:e}),V9A=(A,e)=>zt.createSectionField({kind:GA.FieldType.Concealed,title:A.attrs.localizedStrings.password||"password",value:e}),X9A=A=>A?[A.replace(/\\/g,"/")]:[],SdA=A=>(e,t)=>{let r=e.v;return Jl.record(Jl.string,Jl.string).is(r)&&(r[A]=t),r},CdA=(A,e)=>{let t=A.v;return Jl.record(Jl.string,Jl.string).is(t)&&(t.street=[t.street,e].join(" ")),t},WVe=(A,e)=>{let t=A.v;return Jl.record(Jl.string,Jl.string).is(t)&&(t.country=e.toLowerCase()),t},JVe=A=>{if(typeof A>"u"||A==="")return"";if(A[0]!=="{")return A;let e=Jl.type({cc3l:ke(Jl.string,""),num:ke(Jl.string,""),ext:ke(Jl.string,"")}),t;try{t=Ke(A,Fs.pipe(e),{file:N9A,func:sA`convertLastPassPhoneNumber`}).unwrap()}catch{return""}if(typeof t>"u")return"";let{cc3l:r,num:a,ext:j}=t,n=[];if(typeof r=="string"&&r!==""){let i=K9A[r];typeof i=="string"&&n.push(`+${i}`)}return typeof a=="string"&&a!==""&&n.push(a),typeof j=="string"&&j!==""&&n.push(j),n.join(" ")},OdA=(A,e)=>DdA(e,GA.FieldType.Gender),YVe=(A,e,t,r)=>{let a=_dA(GA.getStringValue(A));a!==A.v&&(e.details.sections=[...e.details.sections,H9A([V9A(t,GA.getStringValue(A))],r)]),A.v=a},DdA=(A,e)=>{let t=A.toLowerCase();switch(e){case GA.FieldType.MonthYear:return Number((0,TdA.default)(A).format("YYYYMM"))||0;case GA.FieldType.Date:{let r=TdA.default.utc(A.trim(),"MMMM,D,YYYY",!0).set({hours:12,minutes:1,seconds:0,milliseconds:0}).unix();return p4(r)?r:void 0}case GA.FieldType.Gender:return t==="m"||t==="male"?"male":t==="f"||t==="female"?"female":t;case GA.FieldType.CreditCardType:return ij(t,"visa")?"visa":ij(t,"mastercard")?"mc":ij(t,"amex")||ij(t,"american express")?"amex":ij(t,"discover")?"discover":"";case GA.FieldType.Menu:return t;case GA.FieldType.Phone:return JVe(A);default:return A}},dj;(function(A){A.BankAccount="Bank Account",A.CreditCard="Credit Card",A.DriverLicense="Driver's License",A.SocialSecurity="Social Security",A.SoftwareLicense="Software License",A.WifiPassword="Wi-Fi Password",A.Passport="Passport",A.Database="Database",A.EmailAccount="Email Account",A.Membership="Membership",A.Server="Server",A.Address="Address",A.SshKey="SSH Key",A.Insurance="Insurance",A.HealthInsurance="Health Insurance",A.InstantMessagingAccount="Instant Messenger",A.SecureNote="secure_note"})(dj||(dj={}));var ZVe={[dj.BankAccount]:dt.BankAccountUuid,[dj.CreditCard]:dt.CreditCardUuid,[dj.DriverLicense]:dt.DriverLicenseUuid,[dj.SocialSecurity]:dt.SocialSecurityNumberUuid,[dj.SoftwareLicense]:dt.SoftwareUuid,[dj.WifiPassword]:dt.RouterUuid,[dj.Passport]:dt.PassportUuid,[dj.Database]:dt.DatabaseUuid,[dj.EmailAccount]:dt.EmailUuid,[dj.Membership]:dt.MembershipUuid,[dj.Server]:dt.ServerUuid,[dj.Address]:dt.IdentityUuid,[dj.SshKey]:dt.SecureNoteUuid,[dj.Insurance]:dt.SecureNoteUuid,[dj.HealthInsurance]:dt.SecureNoteUuid,[dj.InstantMessagingAccount]:dt.LoginUuid,[dj.SecureNote]:dt.SecureNoteUuid},L9A={[dj.SecureNote]:{},[dj.CreditCard]:{"Name on Card":{field:"cardholder",section:""},Type:{field:"type",section:""},Number:{field:"ccnum",section:""},"Security Code":{field:"cvv",section:""},"Start Date":{field:"validFrom",section:""},"Expiration Date":{field:"expiry",section:""}},[dj.BankAccount]:{"Bank Name":{field:"bankName",section:""},"Account Type":{field:"accountType",section:""},"Routing Number":{field:"routingNo",section:""},"Account Number":{field:"accountNo",section:""},"SWIFT Code":{field:"swift",section:""},"IBAN Number":{field:"iban",section:""},Pin:{field:"telephonePin",section:""},"Branch Address":{field:"branchAddress",section:"branchInfo"},"Branch Phone":{field:"branchPhone",section:"branchInfo"}},[dj.DriverLicense]:{Number:{field:"number",section:""},"Expiration Date":{field:"expiry_date",section:""},"License Class":{field:"class",section:""},Name:{field:"fullname",section:""},Address:{field:"address",section:""},"City / Town":{field:"city",section:""},State:{field:"state",section:""},"ZIP / Postal Code":{field:"zip / postal code",section:""},Country:{field:"country",section:""},"Date of Birth":{field:"birthdate",section:""},Sex:{field:"gender",section:"",v:OdA},Height:{field:"height",section:""}},[dj.SocialSecurity]:{Name:{field:"name",section:""},Number:{field:"number",section:""}},[dj.SoftwareLicense]:{"License Key":{field:"reg_code",section:""},Licensee:{field:"reg_name",section:"customer"},Version:{field:"product_version",section:""},Publisher:{field:"publisher_name",section:"publisher"},"Support Email":{field:"support_email",section:"publisher"},Website:{field:"publisher_website",section:"publisher"},Price:{field:"retail_price",section:"publisher"},"Purchase Date":{field:"purchase date",section:"order"},"Order Number":{field:"order_number",section:"order"},"Number of Licenses":{field:"number of licenses",section:"order"},"Order Total":{field:"order_total",section:"order"}},[dj.WifiPassword]:{SSID:{field:"network_name",section:""},Password:{field:"wireless_password",section:""},"Connection Type":{field:"connection type",section:""},"Connection Mode":{field:"connection mode",section:""},Authentication:{field:"authentication",section:""},Encryption:{field:"encryption",section:""},"Use 802.1X":{field:"use 802.1X",section:""},"FIPS Mode":{field:"FIPS mode",section:""},"Key Type":{field:"key type",section:""},Protected:{field:"protected",section:""},"Key Index":{field:"key index",section:""}},[dj.Passport]:{Type:{field:"type",section:""},Name:{field:"fullname",section:""},Country:{field:"issuing_country",section:""},Number:{field:"number",section:""},Sex:{field:"gender",section:"",v:OdA},Nationality:{field:"nationality",section:""},"Issuing Authority":{field:"issuing_authority",section:""},"Date of Birth":{field:"birthdate",section:""},"Issued Date":{field:"issue_date",section:""},"Expiration Date":{field:"expiry_date",section:""}},[dj.Database]:{Type:{field:"database_type",section:""},Hostname:{field:"hostname",section:""},Port:{field:"port",section:""},Database:{field:"database",section:""},Username:{field:"username",section:""},Password:{field:"password",section:""},SID:{field:"sid",section:""},Alias:{field:"alias",section:""}},[dj.EmailAccount]:{Username:{field:"pop_username",section:""},Password:{field:"pop_password",section:""},Server:{field:"pop_server",section:""},Port:{field:"pop_port",section:""},Type:{field:"pop_type",section:""},"SMTP Server":{field:"smtp_server",section:"SMTP"},"SMTP Port":{field:"smtp_port",section:"SMTP"}},[dj.Membership]:{Organization:{field:"org_name",section:""},"Membership Number":{field:"membership_no",section:""},"Member Name":{field:"member_name",section:""},"Start Date":{field:"member_since",section:""},"Expiration Date":{field:"expiry_date",section:""},Website:{field:"website",section:""},Telephone:{field:"phone",section:""},Password:{field:"pin",section:""}},[dj.Server]:{Hostname:{field:"url",section:""},Username:{field:"username",section:""},Password:{field:"password",section:""}},[dj.Address]:{Title:{field:"title",section:"name"},"First Name":{field:"firstname",section:"name"},"Middle Name":{field:"middle name",section:"name"},"Last Name":{field:"lastname",section:"name"},Username:{field:"username",section:"internet"},Gender:{field:"gender",section:"name",v:OdA},Birthday:{field:"birthdate",section:"name"},Company:{field:"company",section:"name"},"Address 1":{field:"address",section:"address",v:CdA},"Address 2":{field:"address",section:"address",v:CdA},"Address 3":{field:"address",section:"address",v:CdA},"City / Town":{field:"address",section:"address",v:SdA("city")},County:{field:"county",section:"address"},State:{field:"address",section:"address",v:SdA("state")},"Zip / Postal Code":{field:"address",section:"address",v:SdA("zip")},Country:{field:"address",section:"address",v:WVe},Timezone:{field:"timezone",section:"address"},"Email Address":{field:"email",section:"internet"},Phone:{field:"defphone",section:"address"},"Evening Phone":{field:"homephone",section:"address"},"Mobile Phone":{field:"cellphone",section:"address"},Fax:{field:"fax",section:"address"}},[dj.SshKey]:{Format:{field:"key type",section:""},"Private Key":{field:"private key",section:"",kind:GA.FieldType.Concealed},"Public Key":{field:"public key",section:""},Passphrase:{field:"passphrase",section:"additional info",kind:GA.FieldType.Concealed},"Bit Strength":{field:"bit strength",section:""},Hostname:{field:"hostname",section:"additional info"},Date:{field:"date",section:"additional info",kind:GA.FieldType.Date}},[dj.Insurance]:{Company:{field:"company",section:"policy"},"Policy Type":{field:"policy type",section:"policy"},"Policy Number":{field:"policy number",section:"policy"},Expiration:{field:"expiration date",section:"policy",kind:GA.FieldType.Date},URL:{field:"website",section:"policy"},"Agent Name":{field:"agent name",section:"agent"},"Agent Phone":{field:"agent phone",section:"agent"}},[dj.HealthInsurance]:{"Policy Type":{field:"policy type",section:"policy"},"Policy Number":{field:"policy number",section:"policy"},"Group ID":{field:"group id",section:"policy"},"Member Name":{field:"member name",section:"policy"},"Member ID":{field:"member id",section:"policy"},"Co-pay":{field:"co-pay",section:"policy"},Company:{field:"company",section:"company"},"Company Phone":{field:"company phone",section:"company"},"Physician Name":{field:"physician name",section:"physician"},"Physician Phone":{field:"physician phone",section:"physician"},"Physician Address":{field:"physician address",section:"physician"}},[dj.InstantMessagingAccount]:{Type:{field:"type",section:""},Username:{field:"username",section:""},Password:{field:"password",section:""},Server:{field:"server",section:""},Port:{field:"port",section:""}}};var QVe="action/import/roboform",AXe=Ne(QVe),oT;(function(A){A[A.Title=0]="Title",A[A.Url=1]="Url",A[A.MatchUrl=2]="MatchUrl",A[A.Username=3]="Username",A[A.Password=4]="Password",A[A.Notes=5]="Notes",A[A.Tags=6]="Tags",A[A.RfExtraFields=7]="RfExtraFields"})(oT||(oT={}));var MdA={Name:"title",Url:"url",Login:"username",Pwd:"password",Note:"notes",Folder:"tags",RfFieldsV2:"rfExtraFields"},J9A=async(A,e,t,r)=>AXe("parseRoboFormExport",async()=>{let a=pp(e).parsedData;if(a.length===0)return[];let j;return a[0]&&a[0].includes("Name")&&a[0].includes("Url")?(j=W9A(a[0]),a.shift()):j=W9A(["Name","Url","MatchUrl","Login","Pwd","Note","Folder","RfFieldsV2"]),wc(A).then(n=>{let i=zt.getVaultItemTemplate(dt.LoginUuid,n),o=zt.getVaultItemTemplate(dt.SecureNoteUuid,n);return a.map(s=>eXe(s[oT.MatchUrl],s[oT.Username],s[oT.Password])?tXe(o,s,t,j,r):rXe(i,s,t,j,r))}).catch(n=>{throw n})}),W9A=A=>{let e={};return A.forEach((t,r)=>{let a=MdA[t];a&&(e[a]=r)}),e},eXe=(A,e,t)=>A===""&&e===""&&t==="",Y9A=(A,e)=>{let t={title:"",url:"",username:"",password:"",notes:"",tags:[],rfExtraFields:[]};return Object.keys(e).reduce((r,a)=>{let j=e[a];if(j===void 0)return r;if(a===MdA.RfFieldsV2)return{...r,rfExtraFields:A.slice(j)};if(a===MdA.Folder){let n=A[j];return{...r,[a]:n?[n.replace(/^(\/)/,"")]:[]}}else return{...r,[a]:A[j]}},t)},tXe=(A,e,t,r,a)=>{let j=new GA(t,A),{title:n,url:i,notes:o,tags:s}=Y9A(e,r);return j.title=n||A.singularName,j.notes=o,j.tags=s,j.url=i,j.notes===""&&j.url&&(j.notes=a.bookmark(),j.tags=[a.bookmark()],zt.populateVaultItemSectionField(j,a.website(),j.url,void 0,A,a)),j},rXe=(A,e,t,r,a)=>{let j=new GA(t,A),{title:n,url:i,username:o,password:s,notes:c,tags:u,rfExtraFields:p}=Y9A(e,r);if(j.title=n||A.singularName,j.notes=c,j.tags=u,j.url=i,!p||p.length===0)return j.setUsername(o),j.setPassword(s),j;let h=p.map(E=>E.split(","));h.forEach(E=>{if(E[qc.Identifier]==="TOTP KEY$"&&E[qc.Value]){let $=E[qc.Value]??"";Fu($,j,a)}else if(E[qc.Value]&&o!==E[qc.Value]&&s!==E[qc.Value]&&E[qc.Format]!==$c.Check&&E[qc.Format]!==$c.Radio){let $=E[qc.Name]||"";zt.populateVaultItemSectionField(j,$,E[qc.Value]??"",void 0,A,a)}});let f=Rf(h.map(E=>{if(!(E[qc.Identifier]==="TOTP KEY$"&&E[qc.Value]))return aXe(o,s,E)})),{username:G=[],password:w=[],undefined:y=[]}=ih(f,"designation");return j.webFormFields=Rf([...j.webFormFields,Pf(G),Pf(w),...y]),j.setUsername(o),j.setPassword(s),j},aXe=(A,e,t)=>{if(t.length<5)return;let[r,a,j,n,i]=t;if(!i)return;let o=n?jXe(n):"T",s,c;return A===i&&n===$c.Text?(s=$c.Username,c=a===""?$c.Username:void 0):e===i&&n===$c.Password&&(s=$c.Password,c=a===""?$c.Password:void 0),{designation:s,name:c||a,type:o,value:i}},$c;(function(A){A.Username="username",A.Password="pwd",A.Check="chk",A.Radio="rad",A.Text="txt"})($c||($c={}));var qc;(function(A){A[A.Identifier=0]="Identifier",A[A.Name=1]="Name",A[A.Unknown=2]="Unknown",A[A.Format=3]="Format",A[A.Value=4]="Value"})(qc||(qc={}));var jXe=A=>{switch(A){case $c.Password:return"P";case $c.Radio:return"R";case $c.Check:return"C";case $c.Text:return"T";default:return"T"}};var Z9A=AA(al());var nXe="action/import/csv",iXe=fj(nXe),RdA=async(A,e)=>{let t=await wc(e.context);try{switch(A.kind){case Md.Login:return oXe(A,e,zt.getVaultItemTemplate(dt.LoginUuid,t));case Md.CreditCard:return cXe(A,e,zt.getVaultItemTemplate(dt.CreditCardUuid,t));case Md.SecureNote:return lXe(A,e,zt.getVaultItemTemplate(dt.SecureNoteUuid,t))}}catch(r){return iXe("csvToVaultItems",r)}},oXe=(A,e,t)=>A.rows.map(r=>sXe(e.vault,t,e.translators,r)),sXe=(A,e,t,r)=>{let a=new GA(A);a.templateUuid=e.uuid;let j=r.filter(i=>i.type===Eg.Template),n=KdA(r);return j?.forEach(i=>{let{cellValue:o,headerValue:s}=i;switch(s){case zd.Title:{a.title=o||e.singularName;break}case zd.Username:{a.setUsername(o);break}case zd.Password:{o.length>0&&a.setPassword(o);break}case zd.Website:{o.length>0&&(a.url=o);break}case zd.Tags:{o.length>0&&(a.tags=AKA(i));break}case zd.Notes:{o.length>0&&(a.notes=o);break}case zd.OneTimePassword:{o.length>0&&Fu(o,a,t);break}}}),n&&n.length!==0&&LdA(a,n,e,t),a},lXe=(A,e,t)=>A.rows.map(r=>{let a=new GA(e.vault,t),j=r.filter(i=>i.type===Eg.Template),n=KdA(r);return Q9A(a,RE.Title,RE.Tags,RE.Notes,j,t),n&&n.length!==0&&LdA(a,n,t,e.translators),a}),cXe=(A,e,t)=>A.rows.map(r=>uXe(r,e.vault,t,e.translators)),uXe=(A,e,t,r)=>{let a=new GA(e,t),j=A.filter(o=>o.type===Eg.Template),n=KdA(A),i=Q9A(a,Gi.Title,Gi.Tags,Gi.Notes,j,t);return i&&dXe(a,i,Md.CreditCard,t,r),n&&n.length!==0&&LdA(a,n,t,r),a},Q9A=(A,e,t,r,a,j)=>{let n=a.find(s=>s.headerValue===e);A.title=n?.cellValue||j.singularName;let i=a.find(s=>s.headerValue===t);i&&(A.tags=AKA(i));let o=a.find(s=>s.headerValue===r);return o&&(A.notes=o.cellValue),a.filter(s=>s.headerValue!==r&&s.headerValue!==t&&s.headerValue!==e)},KdA=A=>A.filter(e=>e.type===Eg.Custom),LdA=(A,e,t,r)=>{e.forEach(a=>{zt.populateVaultItemSectionField(A,a.headerValue,a.cellValue||"",void 0,t,r)})},dXe=(A,e,t,r,a)=>{let j=kXe[t];e.forEach(n=>{zt.populateVaultItemSectionField(A,n.headerValue,n.cellValue||"",j[n.headerValue]?.v?j[n.headerValue]:pXe(j[n.headerValue],n.cellAttrs?.[KE.Date]||""),r,a)})},AKA=A=>A.cellAttrs?.[KE.Tag]===void 0?[A.cellValue]:A.cellValue.split(A.cellAttrs[KE.Tag]).map(e=>e.trim()),mXe=A=>(e,t)=>{t||(t="");let r=t.toLowerCase();switch(e.k){case GA.FieldType.MonthYear:{let a=Number((0,Z9A.default)(t,A).format("YYYYMM"));return a||(a=0),a}case GA.FieldType.Gender:return r==="m"||r==="male"?"male":r==="f"||r==="female"?"female":r;case GA.FieldType.CreditCardType:return nU(r);case GA.FieldType.Menu:return r;default:return t}},pXe=(A,e)=>{if(A!==void 0)return{...A,v:mXe(e)}},Md;(function(A){A.Login="login",A.CreditCard="credit card",A.SecureNote="secure note"})(Md||(Md={}));var zd;(function(A){A.Title="title",A.Username="username",A.Password="password",A.Website="website",A.Notes="notes",A.OneTimePassword="otp",A.Tags="tags"})(zd||(zd={}));var Gi;(function(A){A.Title="title",A.CardHolder="cardholder",A.CardType="type",A.CardNumber="ccnum",A.Cvv="cvv",A.Expiry="expiry",A.ValidFrom="validFrom",A.Notes="notes",A.BankName="bank",A.BankPhoneLocal="phoneLocal",A.BankPhoneTollfree="phoneTollFree",A.BankPhoneIntl="phoneIntl",A.Website="website",A.Pin="pin",A.CashWithdrawalLimit="cashLimit",A.InterestRate="interestRate",A.IssueNumber="issueNumber",A.CreditLimit="creditLimit",A.Tags="tags"})(Gi||(Gi={}));var RE;(function(A){A.Title="title",A.Notes="notes",A.Tags="tags"})(RE||(RE={}));var sT;(function(A){A[A.Template=0]="Template",A[A.Custom=1]="Custom",A[A.NotImported=2]="NotImported",A[A.NotDefined=3]="NotDefined"})(sT||(sT={}));var Eg;(function(A){A[A.Template=0]="Template",A[A.Custom=1]="Custom"})(Eg||(Eg={}));var KE;(function(A){A.Date="Date",A.Tag="Tag"})(KE||(KE={}));var kXe={[Md.Login]:{},[Md.SecureNote]:{},[Md.CreditCard]:{[Gi.CardHolder]:{field:"cardholder",section:""},[Gi.CardType]:{field:"type",section:""},[Gi.CardNumber]:{field:"ccnum",section:""},[Gi.Cvv]:{field:"cvv",section:""},[Gi.Expiry]:{field:"expiry",section:""},[Gi.ValidFrom]:{field:"validFrom",section:""},[Gi.BankName]:{field:"bank",section:"contactInfo"},[Gi.BankPhoneLocal]:{field:"phoneLocal",section:"contactInfo"},[Gi.BankPhoneTollfree]:{field:"phoneTollFree",section:"contactInfo"},[Gi.BankPhoneIntl]:{field:"phoneIntl",section:"contactInfo"},[Gi.Website]:{field:"website",section:"contactInfo"},[Gi.Pin]:{field:"pin",section:"details"},[Gi.CreditLimit]:{field:"creditLimit",section:"details"},[Gi.CashWithdrawalLimit]:{field:"cashLimit",section:"details"},[Gi.InterestRate]:{field:"interest",section:"details"},[Gi.IssueNumber]:{field:"issuenumber",section:"details"}}};var hXe="action/import/index",gXe=Ne(hXe),Gu;(function(A){A.OnePassword="1pif",A.LastPass="lastpass",A.Dashlane="dashlane",A.Bitwarden="bitwarden",A.SplashID="splashid",A.RoboForm="roboform",A.Chrome="chrome",A.Firefox="firefox",A.KeePassXC="keepassxc",A.KeePass="keepass",A.Apple="apple",A.CSV="csv",A.Delinea="delinea",A.Memorized="memorized",A.PenPaper="pen-paper",A.Safari="safari",A.Edge="edge",A.Brave="brave",A.Spreadsheet="spreadsheet"})(Gu||(Gu={}));var eKA=async(A,e,t,r,a,j,n)=>gXe("importData",async()=>await fXe(e)(A,t,r,a,j,n)),tKA=async(A,e,t)=>{let r=[];for(let j of t)BXe(j)&&r.push(j);if(r.length===0)throw new Error("No importable items were found in the selected file.");let a=await Fc(A,r,e);return Ra(A),a.updatedItems},fXe=A=>{switch(A){case Gu.LastPass:return U9A;case Gu.Dashlane:return WRA;case Gu.RoboForm:return J9A;case Gu.Chrome:return XRA;case Gu.Firefox:return T9A;case Gu.Apple:return LRA;case Gu.Delinea:return P9A;case Gu.KeePass:return z9A;case Gu.Bitwarden:return VRA;default:throw new Error("Invalid import format.")}},BXe=A=>{let e=JSON.stringify(A.overview);if(e&&e.length>GA.MaxOverviewSize)return!1;let t=JSON.stringify(A.details);return!!t&&t.length<=GA.MaxDetailSize};var EXe=async(A,e)=>meA(A.session,e);var xXe=async A=>CrA(A.session),bXe=async(A,e,t,r,a,j)=>OrA(A.session,e,t,r,a,j),yXe=async(A,e,t,r)=>TrA(A.session,e,t,r?"asc":"desc");var vXe=A=>{switch(A){case Aa.Provisioning:return"provisioning";case Aa.Connect:return"infrastructure-secrets/connect";case Aa.DataStreaming:return"events_reporting";case Aa.Cli:return"cli";case Aa.Slack:return"slack";case Aa.Duo:return"duo";case Aa.MaskedEmails:return"fastmail";case Aa.Brex:return"brex";case Aa.PrivacyCom:return"privacycom";case Aa.UserManaged:return"infrastructure-secrets/serviceaccount";default:return"na"}};var rKA=async({CTX:A,sa:e,devices:t,usersVaults:r})=>{let a,j,n;try{j=await ZO(A,e.uuid,{attrs:q6.Attr.Tokens|q6.Attr.VaultAccess}),a=FXe(j.tokens).length,n=GXe(j.tokens).length}catch(c){console.error(`Could not get tokens and vault access for ${e.uuid}`,c)}let i=()=>!j.displayableVaultAccess||!r?[]:j.displayableVaultAccess.map(c=>{let u=r.find(p=>p.uuid===c.vaultUuid);if(!u)throw new Error(`Could not find vault "${c.vaultUuid}"`);return{uuid:c.accessorUuid,avatar:u.avatar,type:u.type}}),o=()=>j.totalAccessibleVaults,s=t&&t.filter(qXe).sort(dc.compareAuthDates).shift();return{title:e.name,icon:e.avatar,active:a,tokens:void 0,expiredTokens:n,groups:[],syncActivity:_n(e.lastAuthAt),createdAt:_n(e.createdAt),version:s?.clientVersion,vaults:{displayable:i(),total:o()}}},FXe=A=>{let e=new Date;return A.filter(t=>{let r=t.expiresAt&&new Date(t.expiresAt)<e;return t.state==="A"&&!r})},GXe=A=>{let e=new Date;return A.filter(t=>{let r=t.expiresAt&&new Date(t.expiresAt)<e;return t.state==="A"&&r})},wXe="1passwordconnect",qXe=({clientName:A})=>A.replace(/\s+/g,"").toLowerCase()===wXe;var aKA=async({CTX:A,sa:e})=>{let t,r,a;try{let j=await ZO(A,e.uuid,{attrs:q6.Attr.Tokens,mustReload:!0});t=$Xe(j.tokens),r=t.length,a=IXe(j.tokens).length}catch(j){console.error(`Could not get tokens for ${e.uuid}`,j)}return{title:e.name,icon:e.avatar,groups:[],active:r,expiredTokens:a,tokens:t,createdAt:_n(e.createdAt),syncActivity:void 0,version:"",vaults:{displayable:[],total:0}}},$Xe=A=>{let e=new Date;return A.filter(t=>{let r=t.expiresAt&&new Date(t.expiresAt)<e;return t.state==="A"&&!r})},IXe=A=>{let e=new Date;return A.filter(t=>{let r=t.expiresAt&&new Date(t.expiresAt)<e;return t.state==="A"&&r})};var jKA=async({CTX:A,sa:e,releases:t})=>{let r=()=>{switch(A.account?.settings.provisioning?.identityProvider){case"Microsoft Entra ID":return"/entra-logo.svg";case"Okta":return"/okta-logo.svg";case"OneLogin":return"/onelogin-logo.svg";case"Rippling":return"/rippling-logo.svg";case"JumpCloud":return"/jumpcloud-logo.svg";case"Google Workspace":return"/google-workspace-logo.svg";default:return"/entra-logo.svg"}},a=async()=>{if(!e.memberships)return[];let j=await UcA(A);return e.memberships.filter(i=>i.role===Ha.Role.Manager).map(i=>{let o=j.find(s=>s.uuid===i.groupUuid);if(!o)throw new Error(`Could not find group "${i.groupUuid}"`);return{uuid:i.groupUuid,avatar:o.avatar,type:o.type}})};return{title:e.name,icon:r(),groups:await a(),active:void 0,expiredTokens:void 0,tokens:void 0,syncActivity:void 0,createdAt:_n(e.createdAt),version:"",buildNumber:t?.SCIM?.release?.buildnum,vaults:{displayable:[],total:0}}};var kp=async({serviceAccount:A,devices:e,releases:t,slackApp:r,type:a,CTX:j,usersVaults:n,vaultItem:i})=>{let o,s="",c,u;switch(a){case Aa.Connect:case Aa.UserManaged:{if(A)return await rKA({CTX:j,sa:A,devices:e,usersVaults:n});break}case Aa.Provisioning:{if(A)return await jKA({CTX:j,sa:A,releases:t});break}case Aa.DataStreaming:{if(A)return await aKA({CTX:j,sa:A});break}case Aa.Duo:{c="icon-duo.svg";break}case Aa.Slack:{s=r?r.teamName:"",c="slack-icon-v2.svg";break}case Aa.MaskedEmails:{c="icon-fastmail-60.svg";break}case Aa.Brex:{c="icon-brex.svg";break}case Aa.PrivacyCom:{c="icon-privacycom.svg";break}case Aa.Cli:case Aa.Na:break}return{title:s,active:o,expiredTokens:u,icon:c,groups:[],syncActivity:void 0,createdAt:void 0,tokens:void 0,version:"",vaults:{displayable:[],total:0},vaultItem:i}};var nKA=async A=>{let e=A.account?.settings,t=A.user?.hasPermission(Gr.ChangeTeamSettings);if(!(!e?.duo?.isEnabled||!t))return{type:"S",uuid:"",name:"Duo",createdAt:"",state:"",creatorUuid:"",serviceAccountType:Aa.Duo,email:"",avatar:"",summary:await kp({type:Aa.Duo,CTX:A})}};var iKA=async A=>{if(!A.account?.hasFeature?.integrationHubEmailAlias)return[];let t=await dp(A);if(!t)return[];let a=(await Dd(A,t)).filter(j=>j.overview.integration==="fastmail");return await Promise.all(a.map(async j=>({type:"S",uuid:j.uuid,name:"Fastmail",createdAt:"",state:"",creatorUuid:"",serviceAccountType:Aa.MaskedEmails,email:"",avatar:"",summary:await kp({type:Aa.MaskedEmails,vaultItem:j,CTX:A})})))};var oKA=async A=>{let{integrations:e,releases:t}=await PuA(A),r=e.filter(({serviceAccount:j})=>j.serviceAccountType!==Aa.Cli);if(r.length===0)return[];r.sort(nl.strings(({serviceAccount:j})=>j.serviceAccountType));let a=await SE(A);return Promise.all(r.map(async({serviceAccount:j,devices:n})=>({...j,devices:n,type:"S",creatorUUID:"",serviceAccountSubtype:"na",serviceAccountType:j.serviceAccountType,summary:await kp({serviceAccount:j,devices:n,releases:t,usersVaults:a,type:j.serviceAccountType,CTX:A})})))};var PXe="action/slack",J1=fj(PXe),UdA=async A=>{try{return{type:"slack-app",slackApp:await tiA(A.session)}}catch(e){return oe.isNewServerError(e)?{type:"server-error",error:e}:{type:"error",error:e}}},SXe=async(A,e)=>{let t=[],r="";do try{let a=await JnA(A.session,r);t.push(...a.channels),r=a.cursor??""}catch(a){return J1("getSlackChannels",a)}while(r!==""&&(!e||t.length<e));return t},CXe=async(A,e)=>{try{return(await ZnA(A.session,e)).userGroups}catch(t){return J1("getSlackGroups",t)}},OXe=async(A,e,t)=>{let r=[],a="";do try{let j=await YnA(A.session,e,a);r.push(...j.channels),a=j.cursor??""}catch(j){return J1("getGridSlackChannels",j)}while(a!==""&&(!t||r.length<t));return r},TXe=async(A,e)=>{try{return{type:"slack_users_response",slackUsers:await QnA(A.session,e)}}catch(t){return oe.isServerError(t,oe.ServerErrorReason.slackUserLimitReached)?{type:"slack_users_response_large_team_error"}:{type:"slack_users_response_other_error"}}},_Xe=async A=>{try{return(await AiA(A.session)).teams}catch(e){return J1("getGridSlackTeams",e)}},DXe=async A=>{try{return(await eiA(A.session)).userGroups}catch(e){return J1("getSlackGroups",e)}},zXe=async(A,e)=>{let t=eu(e);return riA(A.session,t).catch(J1("updateSlackApp"))},MXe=async A=>{try{return{type:"slack_users_response",slackUsers:await WnA(A.session)}}catch(e){return oe.isServerError(e,oe.ServerErrorReason.slackUserLimitReached)?{type:"slack_users_response_large_team_error"}:{type:"slack_users_response_other_error"}}},RXe=async A=>{try{let{nonce:e}=await aiA(A.session);return e}catch(e){return console.error("Failed to get nonce:",e),oe.isNewServerError(e)?{type:"server-error",error:e}:{type:"error",error:e}}},KXe=async(A,e)=>{await jiA(A.session,e)};var sKA=async A=>{if(!A.account?.hasFeature.slack)return;let e=await UdA(A),t=N6A(Rm.Inactive);if(e.type!=="slack-app"||e.slackApp.state===Rm.Inactive)return;let r=e.type==="slack-app"?e.slackApp:t;return{type:"S",uuid:"",name:"Slack",createdAt:"",state:r.state,creatorUuid:"",serviceAccountType:Aa.Slack,email:"",avatar:"",summary:await kp({slackApp:r,type:Aa.Slack,CTX:A})}};var lKA=async A=>{let e=await dp(A);if(!e)return[];let t=await Dd(A,e),a=[...t.filter(n=>n.overview.integration==="privacy").map(async n=>({type:"S",uuid:n.uuid,name:"Privacy.com",createdAt:"",state:"",creatorUuid:"",serviceAccountType:Aa.PrivacyCom,email:"",avatar:"",summary:await kp({type:Aa.PrivacyCom,vaultItem:n,CTX:A})}))];if(A.account?.hasFeature?.integrationHubBrex){let n=t.filter(i=>i.overview.integration==="brex").map(async i=>({type:"S",uuid:i.uuid,name:"Brex",createdAt:"",state:"",creatorUuid:"",serviceAccountType:Aa.Brex,email:"",avatar:"",summary:await kp({type:Aa.Brex,vaultItem:i,CTX:A})}));a.push(...n)}return await Promise.all(a)};var LXe=async A=>{let[e,t,r,a,j]=await Promise.all([oKA(A),sKA(A),nKA(A),iKA(A),lKA(A)]);return t&&e.push(t),r&&e.push(r),[...e,...a,...j]};var NXe=15,sU=A=>A.filter(e=>e.email).map(e=>new Kk(e)),UXe=async A=>{let e=await QrA(A.session);return sU(e)},HXe=async(A,e)=>(await oaA(A.session,e)).map(r=>new EE(r)),VXe=async(A,e)=>{await saA(A.session,e)},XXe=async(A,e)=>{await laA(A.session,e)},WXe=async(A,e,t,r,a)=>{let n=await jo(async s=>{let c=s.map(u=>({email:u,language:"en",vaults:r}));return eaA(A.session,c,t,a)},100,e),o=(s=>{let c=s.reduce((u,p)=>({successfulInvites:[...u.successfulInvites,...p.successfulInvites],failedInvites:[...u.failedInvites,...p.failedInvites]}),{successfulInvites:[],failedInvites:[]});return{successfulInvites:sU(c.successfulInvites),failedInvites:c.failedInvites}})(n);if(o.failedInvites.length===1&&o.successfulInvites.length===0&&o.failedInvites[0]?.reason)throw new oe.ClientError(o.failedInvites[0]?.reason==="is_existing_guest"?oe.ClientErrorCode.emailAlreadyInUseByGuest:oe.ClientErrorCode.emailAlreadyInUseByMember);return o},JXe=async(A,e)=>{let t=await AaA(A.session,e);return sU(t)},YXe=async(A,e)=>{let t=e.map(j=>j.uuid),a=await jo(async j=>(await raA(A.session,j),[]),NXe,t);return sU(a)},ZXe=async(A,e,t)=>await YrA(A.session,e,t),QXe=async(A,e)=>await ZrA(A.session,e),AWe=async(A,e)=>await taA(A.session,e),eWe=async A=>{let e=await iaA(A.session);return A.account&&(A.account.inviteSecret=e.inviteSecret,A.account.attrVersion++,Ms(A)),e},tWe=async(A,e)=>{let t=e.map(r=>r.uuid);await aaA(A.session,t)},rWe=async(A,e)=>await jaA(A.session,e),aWe=async(A,e,t)=>await naA(A.session,e,t);var xg;(function(A){A[A.OneHour=3600]="OneHour",A[A.OneDay=86400]="OneDay",A[A.SevenDays=604800]="SevenDays",A[A.FourteenDays=1209600]="FourteenDays",A[A.ThirtyDays=2592e3]="ThirtyDays"})(xg||(xg={}));var cKA=[xg.OneHour,xg.OneDay,xg.SevenDays,xg.FourteenDays,xg.ThirtyDays],uKA=[Fk.AnyoneWithTheLink,Fk.OnlySomePeople],jWe=async(A,e)=>{let t=await uaA(A.session,e.vault.uuid,e.uuid);return{shares:await Promise.all(t.shares.map(async r=>nWe(r,e)))}},nWe=async(A,e)=>{let t=e.vault.activeKey;if(!t)throw new Error("Missing vault key");let r=A.encShareSecret?Di(await t.decrypt(A.encShareSecret)):"",a=r?`${A.url}#${r}`:void 0;return{uuid:A.uuid,state:A.state,itemVersion:A.itemVersion,createdAt:A.createdAt,expiresAt:A.expiresAt,sharedBy:A.sharedBy,shareLink:a,type:A.type,recipients:A.recipients,viewCount:A.viewCount,maxViews:A.maxViews,canDelete:A.canDelete}},iWe=async(A,e,t)=>{try{let r=await daA(A.session,e.vault.uuid,e.uuid),a=r.files.allowed&&dKA(e,r.files.maxSize,!!t).length>0,{allowedRecipientTypes:j,allowedTypes:n,maxExpiry:i,defaultExpiry:o,maxViews:s}=oWe(r,a),c=uKA.find(u=>n.includes(u));if(!c)throw new Error("No allowed availability options found");return{type:"settings",allowedRecipientTypes:j,expirationMenu:{entries:cKA.filter(sWe(i)),default:cKA.includes(o)?o:xg.OneHour},availabilityMenu:{entries:uKA.filter(u=>n.includes(u)),default:c},maxExpiry:i,maxViews:s,includeFiles:a}}catch(r){if(oe.isNewServerError(r,oe.ServerErrorReason.unsupported,oe.HTTPStatusCode.forbidden))return{type:"unsupported"};if(oe.isNewServerError(r,oe.ServerErrorReason.accountPolicy,oe.HTTPStatusCode.forbidden))return{type:"accountPolicy"};throw r}},oWe=(A,e)=>{let t=e&&A.files.allowedRecipientTypes?A.files.allowedRecipientTypes:A.allowedRecipientTypes,r=e&&A.files.allowedTypes?A.files.allowedTypes:A.allowedTypes,a=e&&A.files.maxExpiry?A.files.maxExpiry:A.maxExpiry,j=e&&A.files.defaultExpiry?A.files.defaultExpiry:A.defaultExpiry,n=e&&"maxViews"in A.files?A.files.maxViews:A.maxViews;return{allowedRecipientTypes:t,maxExpiry:a,allowedTypes:r,defaultExpiry:j,maxViews:n}},dKA=(A,e,t)=>{if(A.details.documentAttributes&&!A.details.documentAttributes.signingKey)throw new Error("Document doesn't have signing key.");let r=t?ud(A.details.sections??[],j=>vj((j.fields??[]).map(n=>GA.getDocumentAttributesFromField(n)))):[];return vj([A.details.documentAttributes,...r]).filter(j=>j.signingKey).map(j=>{if(e&&j.encryptedSize>e)throw new oe.ClientError(oe.ClientErrorCode.fileTooLarge,"File is too large to share.");return{fileUuid:vN(j)}})},sWe=A=>e=>e<=A,lU=class extends Error{constructor(e){super(),this.name="ItemShareRejectedRecipientsError",this.message="Item share contains rejected recipients.",this.recipients=e}},lWe=A=>oe.isErrorLike(A)&&A.name==="ItemShareRejectedRecipientsError",cWe=async(A,e,t)=>{let{secret:r,uuid:a,token:j,rawKey:n}=await kKA(),i=aa(a);await i.importRawKey(ba,n);let o=new _e({name:"Fake Vault",type:"",desc:""});o.activeKey=i;let s=mKA(e.clone(),t.includeFiles);s.vault=o,await s.encrypt();let c=await qO(s);if(!c.encDetails)throw new Error("Missing item details");let u=t.includeFiles?dKA(e,void 0,!!t.includeAttachments):[],p=t.recipients.map(y=>{if(mb(y))return{type:Dm.Email,email:y};if(k4(y))return{type:Dm.Domain,domain:y};throw new Error("Invalid recipient")});if(p.length>0){let{rejectedRecipients:y}=await paA(A.session,{recipients:p});if(y.length>0)throw new lU(y)}if(!e.vault.activeKey)throw new Error("Missing vault key");let h=await e.vault.activeKey.encrypt(mt(r)),f={uuid:a,token:j,vaultUuid:e.vault.uuid,itemUuid:e.uuid,itemVersion:e.itemVersion,encOverview:c.encOverview,encDetails:c.encDetails,encShareSecret:h,fileReferences:u,type:t.availability,recipients:p,expiry:t.expiration,maxViews:t.maxViews||void 0},{url:G}=await maA(A.session,f),w=[G,r].join("#");try{new URL(w)}catch(y){throw new Error(`Could not construct share link: ${Dn(y)}`)}return w},mKA=(A,e)=>(A.details.passwordHistory=void 0,A.overview.icons=void 0,e&&A.details.documentAttributes?.signingKey?A.details.documentAttributes.signingKey=void 0:A.details.documentAttributes=void 0,A.details.sections=A.details.sections.map(t=>({...t,fields:(t.fields??[]).filter(dWe(e)).map(r=>{let a=GA.getDocumentAttributesFromField(r);return a?{...r,v:{...a,signingKey:void 0}}:r})})),A),uWe=cr(GA.FieldType,"VaultItem.FieldType"),dWe=A=>e=>{if(!uWe.is(e.k))return!1;if(e.k===GA.FieldType.File)return GA.getDocumentAttributesFromField(e)?.signingKey?A:!1;switch(e.k){case GA.FieldType.String:case GA.FieldType.Concealed:case GA.FieldType.Date:case GA.FieldType.Phone:case GA.FieldType.Address:case GA.FieldType.Url:case GA.FieldType.Email:case GA.FieldType.MonthYear:case GA.FieldType.Gender:case GA.FieldType.CreditCardType:case GA.FieldType.Menu:case GA.FieldType.Country:case GA.FieldType.Month:case GA.FieldType.OneTimePassword:case GA.FieldType.SshKey:return!0;case GA.FieldType.Reference:case GA.FieldType.SsoLogin:case GA.FieldType.ManagedApplication:return!1;case GA.FieldType.PasskeyType:return!1}},mWe=async(A,e)=>{let t={...A,itemVersion:1,encryptedBy:A.encOverview.kid},r=aa(A.uuid);await r.importRawKey(ba,e);let a=new _e({name:"Fake Vault",type:"",desc:""});return a.activeKey=r,await GE(t,a)},pWe=async A=>{let e;try{e=Je(A)}catch{throw new Error("invalid base64")}return await pKA(e)},pKA=async A=>{if(A.byteLength!==32)throw new Error("Incorrect secret byte length: "+A.byteLength.toString(10));let e=Nf(await Lo.rawHkdf(Lo.Sha2Mode.Sha256,A,mt("share_item_uuid"),new Uint8Array,16)),t=Nf(await Lo.rawHkdf(Lo.Sha2Mode.Sha256,A,mt("share_item_token"),new Uint8Array,16)),r=await Lo.rawHkdf(Lo.Sha2Mode.Sha256,A,mt("share_item_encryption_key"),new Uint8Array,32);return{uuid:e,token:t,rawKey:r}},kKA=async()=>{let A=Kj(32),{uuid:e,token:t,rawKey:r}=await pKA(A);return{secret:Ye(A),uuid:e,token:t,rawKey:r}},kWe=async(A,e)=>{let t=await kaA(A.session,e);return hWe(t)},hWe=A=>{let{events:e,accessType:t}=A;if(t===Fk.OnlySomePeople){let r=gWe(A.recipients),a=A.recipients.map(j=>j.type===Dm.Email?{type:"email",value:j.email,events:e.filter(n=>n.accessorEmail===j.email)}:{type:"domain",value:j.domain,events:e.filter(n=>fWe(n.accessorEmail,j.domain)&&!r.includes(n.accessorEmail))}).sort(nl.strings(j=>j.value));return{...A,accessType:t,sortedEvents:a}}else{let r=ih(e,j=>j.timestamp.toISOString().slice(0,10)),a=ro(r,(j,n)=>({dateString:n,events:j})).sort(nl.desc.dates(j=>new Date(j.dateString)));return{...A,accessType:t,sortedEvents:a}}},gWe=A=>A.filter(t=>t.type===Dm.Email).map(t=>t.email),fWe=(A,e)=>A.slice(A.indexOf("@")+1)===e,BWe=async A=>haA(A.session),EWe=async(A,e,t,r)=>gaA(A.session,e,t,r),xWe=async(A,e)=>faA(A.session,e),bWe=async A=>BaA(A.session);var hKA="action/managed_account",gKA=fj(hKA),fKA=Ne(hKA),yWe=async A=>fKA("getManagedAccounts",async()=>baA(A.session).catch(gKA("getManagedAccounts"))),vWe=async(A,e)=>fKA("unlinkManagedAccount",async()=>vaA(A.session,e).catch(gKA("unlinkManagedAccount")));var FWe="action/managed_account_net_seats",GWe=Ne(FWe),wWe=async(A,e)=>GWe("getManagedAccountsNetSeats",async()=>GaA(A.session,e));var qWe=async(A,e,t,r)=>{if(t.find(o=>o.type!==_e.TypeUserCreated))throw new Error("Unsupported vault type included in selected vaults.");let a=[await BKA(A),await KN(A),...t],j=t.length>0?await luA(e):void 0,n=await JM(async o=>({vaultItems:await Dd(A,o),vault:o.type===_e.TypeUserCreated?await Xk(A,o,{attrs:_e.Attr.Accessors,mustReload:!0}):o}),10,a.filter(o=>!!o));await Xo(A,[ia.Groups]);let i={successfulVaults:[],failedVaults:[],failedItems:{}};return await JM(async o=>{try{let s=await $We(e,j,A,o.vault,r),c=o.vaultItems.map(u=>GA.importFromJson(s,u.exportToJson()));return Fc(e,c,s).then(u=>{i.successfulVaults.push(o.vault);let p=Object.keys(u.failedItems);p.length>0&&(console.error("Failed to patch some vault items",s.uuid,u.failedItems),i.failedItems[s.uuid]=p)}).catch(u=>{i.failedVaults.push(s.uuid),console.error("Failed to patch vault items",s.uuid,u)})}catch(s){return console.error("Failed to migrate vault",o.vault.uuid,s),i.failedVaults.push(o.vault.uuid),Promise.resolve()}},10,n),i},$We=async(A,e,t,r,a)=>{let j=t.account?.administratorsGroup?.uuid;switch(r.type){case _e.TypePersonal:return await BKA(A);case _e.TypeGeneratedPasswords:return await KN(A)||await LO(A);case _e.TypeUserCreated:{if(!e)throw new Error("Missing destination preflight.");return await cuA(A,{name:r.name,desc:r.desc,type:_e.TypeUserCreated,avatar:await PWe(t,A,r,a)},IWe(r,j,e))}default:throw new Error("Can't get destination vault for unsupported type.")}},IWe=(A,e,t)=>{let r=[...t.mandatoryGroupUuids];if(!e)return r;for(let a of t.adminGroupUuids)a&&!t.mandatoryGroupUuids.includes(a)&&A.accessList.find(j=>j.accessorType==="group"&&j.accessorUuid===e)&&r.push(a);return[...r]},BKA=async A=>{let e=await fg(A);if(!e)throw new Error("Missing personal vault.");return e},PWe=async(A,e,t,r)=>{if(!t.avatar)return"";let a=r(t.avatar,A.account),j=await fetch(a,{cache:"no-store"}).then(async n=>n.arrayBuffer());return await vuA(e,j)};var SWe="action/monitoring",CWe=Ne(SWe),OWe=async(A,e)=>CWe("createMonitoringCheck",async()=>await yP(A.session,e)),TWe=async A=>await waA(A.session);var _We=async A=>(await OaA(A.session)).notifications,DWe=async(A,e)=>{await TaA(A.session,{uuid:e})},zWe=async(A,e)=>{await _aA(A.session,{token:e})};var MWe=async(A,e,t)=>A.isSignedIn()?br.createSetupIntent(A.session):br.createUnverifiedSetupIntent(A.session,e,t),RWe=async(A,e,t)=>br.updatePaymentMethod(A.session,e,t).then(async()=>P6(A)),KWe=async(A,e)=>br.getPaymentMethod(A.session,e);var LWe=async(A,e={})=>{let t;try{t=await _rA(A.session,e)}catch(r){throw oe.isNewServerError(r)&&r.reason===oe.ServerErrorReason.oidcGenericDomainNotAllowed||$s(new fn({message:sA`StartOIDC failed to get redirect URL`,errorClass:_l.RequestError,userUuid:e.userUuid?NA(e.userUuid):void 0,stackOverrideError:r,severityLevel:"error",metaData:{request:{accountUuidPresent:e.accountUuid?sA`true`:sA`false`,keyIdPresent:e.keyId?sA`true`:sA`false`}},tags:EKA(r)})),r}if(!t||!t.authRedirect)throw new Error("expected an IdP redirect URL");return t.authRedirect},NWe=async(A,e,t,r)=>{try{return await A.session.verifyOidc(e,t,r)}catch(a){throw $s(new fn({message:sA`VerifyOIDC failed to get user identity`,errorClass:_l.RequestError,stackOverrideError:a,severityLevel:"error",tags:EKA(a)})),a}},EKA=A=>{let e={};return oe.isNewServerError(A)&&A.reason&&Object.values(oe.ServerErrorReason).includes(A.reason)&&(e={...e,serverErrorReason:NA(A.reason)}),e};var UWe=async(A,e)=>WaA(A.session,e).catch(t=>{console.error("Failed to report outdated browser:",t)});var HWe=async(A,e)=>jjA(A.session,e);var VWe=async A=>xjA(A.session),XWe=async(A,e)=>(e=e||{enabled:!1,lockAfterIdleTimeMin:480},bjA(A.session,e));var WWe=async A=>wjA(A.session),JWe=async(A,e)=>(e=e||{enabled:!1},qjA(A.session,e));var YWe=async A=>yjA(A.session),ZWe=async(A,e)=>(e=e||{hideDeveloperTools:!1,hideIntegrations:!1,updatedAt:new Date(Date.now())},vjA(A.session,e));var QWe=async A=>FjA(A.session),AJe=async(A,e)=>(e=e||{enabled:!1,allowedAttempts:L9,lockoutPeriodMin:N9},GjA(A.session,e));var eJe=A=>A.account?A.account.hasFeature["b5-policies-auto-delete-suspended-users"]:!1,tJe=async A=>$jA(A.session),rJe=async(A,e)=>(e=e||{enabled:!1,daysUntilDelete:30},IjA(A.session,e));var aJe=async A=>PjA(A.session),jJe=async(A,e)=>(e=e||{restrictTo:U9},SjA(A.session,e));var nJe=async A=>CjA(A.session),iJe=async(A,e)=>(e=e||{allowSshBookmarksSyncToDisk:!0},OjA(A.session,e));var oJe=async A=>TjA(A.session);var sJe=3e3,xKA=async(A,e)=>{try{return(await Promise.race([zuA(e,A),new Promise((r,a)=>{setTimeout(()=>a("Timeout"),sJe)})])).features.reduce((r,a)=>(Object.keys(aAA).includes(a.name)&&(r[a.name]=!0),r),{})}catch(t){return console.error("Failed to retrieve pre-registration feature flags:",t),{}}},lJe=async A=>{let e=Object.keys(aAA);return xKA(e,A)},cJe=async(A,e)=>xKA([A],e);var HdA={};Na(HdA,{deletePrivacyComItemByUuid:()=>dJe,findPrivacyComItemByUuid:()=>bKA,getOrCreateSystemVault:()=>uJe});var uJe=async A=>{let e=await dp(A);return e||await qv(A)},bKA=(A,e)=>A.find(t=>t.overview.integration==="privacy"&&t.uuid===e),dJe=async(A,e)=>{let t=await dp(A);if(!t)throw new Error("The system vault was expected but missing during Privacy.com deletion");let r=await Dd(A,t),a=bKA(r,e);if(!a)throw new Error("The Privacy.com record was expected but missing during Privacy.com deletion");a.state=GA.ItemState.Deleted;let j=await Fc(A,[a],t);if(j.failedItems[e])throw new Error("The Privacy.com record was unable to be deleted");return j};var mJe={...HdA};var pJe="action/provision",bg=Ne(pJe),VdA=async(A,e,t)=>bg("createProvisionUser",async()=>{let r=A.user;if(!r)return Promise.reject(new Error("Missing user."));if(!r.activeKeyset)return Promise.reject(new Error("Missing active keyset."));let j=e.activeKeyset;if(!j)return Promise.reject(new Error("Missing provision user's active keyset"));let n=A.account;if(!n)return Promise.reject(new Error("Missing account."));let i=n.teamMembersGroup;if(!i)return Promise.reject(new Error("No Team Members group found."));e.uuid=Dj.UUIDNewlyCreatedProvisionUser;let o=new _e({name:"Private",type:_e.TypeProvision,desc:_e.DefaultDescMarker,avatar:e.avatar}),s=Rs(A,{attrs:VA.Attr.PubKey}),c=o.generateNewKey(),u=gg(A,{attrs:_e.Attr.All}),p=cU(A,{attrs:VA.Attr.PubKey}),h=CE(A,e,i,{role:Ha.Role.Member});return Promise.all([s,c,u,p,h]).then(async([f,G,w,y,E])=>{if(y===void 0)return Promise.reject(new Error("Provision Managers group not found."));let $=y.activeKeysetUuid?Ui(A,y.activeKeysetUuid):void 0;if(!$)return Promise.reject(new Error("Provision Managers group keyset not found."));let T=na.generate(o,e,{acl:Kt.RWE|Kt.Manage}),O=na.generate(o,y,{acl:Kt.RWE}),I=na.generate(o,f,{acl:Kt.Recover}),q=j.encryptWithKey($.symKey);return Promise.all([T,O,I,E,q])}).then(async([f,G,w,y,E])=>{let $={vaults:[vc(f)],groups:[y]};if(!e.secretKey)return Promise.reject(new Error("Missing Secret Key."));let T={user:{email:e.email,language:e.language,name:e.name,newsletterPrefs:e.newsletterPrefs,externalGUID:e.externalGUID,accountKeyFormat:e.secretKey.format.toString(),accountKeyUuid:e.secretKey.id,avatar:e.avatar},keyset:E,userAuth:Zj.getForUpload(t),vault:Hk(o,[G,w]),access:$};return _jA(A.session,T)}).then(async f=>{let G=Dj.Attr.VaultAccess|Dj.Attr.PubKey|Dj.Attr.Keysets;return op(A,f,G,HO(A,f.uuid))})}),XdA=async(A,e,t)=>bg("startUserProvision",async()=>{let r=e.uuid;await DjA(A.session,r,t||{}),Ra(A),A.nc.emit(la.UsersChanged)}),kJe=async(A,e)=>bg("suspendUserProvision",async()=>{let t=e.uuid;await zjA(A.session,t),Ra(A),A.nc.emit(la.UsersChanged)}),hJe=async(A,e,t)=>bg("getProvisionDetails",async()=>LjA(A.session,e,t)),gJe=async(A,e,t,r)=>UjA(A.session,e,t,r),fJe=async(A,e,t)=>bg("resendProvisioningEmailVerification",async()=>NjA(A.session,e,t)),BJe=async(A,e)=>bg("completeUserProvision",async()=>{let t=HjA(A.session,e.uuid).then(async a=>$6(A,a,_e.Attr.None,void 0)).then(async a=>A.account?(a.name=XN(A.account.type),a.type=_e.TypePersonal,a.encryptAttrs()):Promise.reject(new Error("Missing account."))).then(a=>Hk(a)),r=XjA(A.session,e.uuid).then(async a=>xcA(A,a)).then(async a=>a.encryptForPerson(e));return Promise.all([t,r]).then(async([a,j])=>{let n={provisionedKeys:j,personalVault:a};return VjA(A.session,e.uuid,n)}).then(()=>{Ra(A),A.nc.emit(la.UsersChanged)})}),EJe=async(A,e,t)=>bg("resendUserProvision",async()=>{let r={userUuids:e.map(a=>a.uuid),useToken:t};await MjA(A.session,r),Ra(A),A.nc.emit(la.UsersChanged)}),xJe=async A=>bg("resendAllUsersProvision",async()=>{await RjA(A.session),Ra(A),A.nc.emit(la.UsersChanged)}),bJe=async A=>bg("getResendDetails",async()=>{let e=await KjA(A.session);return{lastResendAt:_n(e.lastResendAt),resendAllCooldown:e.resendAllCooldown}}),cU=async(A,e)=>{let t=A.account;if(!t)throw new Error("Missing account.");let r=t.groups.find(a=>!a.isTypeOwners&&!a.isTypeAdmins&&a.hasPermission(Gr.ProvisionPeople));if(r)return In(A,r,e)};var yKA="action/report",_v=fj(yKA);var yJe=async A=>Promise.resolve().then(async()=>rnA(A.session)).catch(_v("getDashboardReport")),vJe=async(A,e,t)=>Promise.resolve().then(async()=>knA(A.session,e,t)).then(async r=>vcA(A,r,HO(A,e))).catch(_v("getUserReport")),FJe=async(A,e,t)=>{if(!W9(e))throw new Error("report params are invalid");try{let r=await gnA(A.session,e,t),a=await yN(A,r);return{apiReportItem:r,itemUsages:a}}catch(r){return _v("getUsageReportsWithFilters",r)}},GJe=async(A,e,t)=>{if(!W9(e))throw new Error("report params are invalid");try{let r=await hnA(A.session,e,t),a=await yN(A,r);return{apiReportItem:r,itemUsages:a}}catch(r){return _v("getUsageReportsWithCursors",r)}},wJe=async(A,e,t)=>fnA(A.session,e,t),qJe=async(A,e,t)=>Promise.resolve().then(async()=>BnA(A.session,e,t)).then(async r=>FcA(A,r)).catch(_v("getVaultReport")),$Je=async(A,e,t)=>{try{let r=await EnA(A.session,e,t);return GcA(A,r)}catch(r){return _v("getVaultsReport",r)}},IJe=async(A,e)=>e.length===0?{}:xnA(A.session,e),PJe=async A=>bnA(A.session,[qP.ExtendedOverview]).catch(_v("getOverviewReport")),SJe=async A=>ynA(A.session),CJe=async A=>Vo([yKA,"getAccountReportCSV",A.id],async()=>vnA(A.session)),WdA=A=>A.map(e=>({uuid:e})),OJe=async(A,e)=>{let t=WdA(e),r=Mo(t,PP);try{for(let a of r)await FnA(A.session,a),await qs(1500)}catch(a){throw console.error("Failed to send unused private vault email.",a),a}},TJe=async(A,e)=>{let t=WdA(e),r=Mo(t,PP);try{for(let a of r)await GnA(A.session,a),await qs(1500)}catch(a){throw console.error("Failed to send unredeemed family account email.",a),a}},_Je=async(A,e)=>{let t=WdA(e),r=Mo(t,PP);try{for(let a of r)await wnA(A.session,a),await qs(1500)}catch(a){throw console.error("Failed to send no signin past month email.",a),a}},DJe=async A=>qnA(A.session);var zJe=async A=>{let t={name:"Provision Managers",type:VA.TypeUserDefined,desc:"",avatar:void 0,permissions:pt.combine([Gr.ProvisionPeople,Gr.BeginRecovery])},r=await HcA(A,t),a=await In(A,r.uuid,{attrs:VA.Attr.PubKey|VA.Attr.Memberships}),j=pt.combine([a.permissions,Gr.ProvisionPeople,Gr.BeginRecovery]),n=await VcA(A,a,j);return await Xo(A,[ia.Me]),n},vKA=async(A,e,t)=>{let r=await quA(A,Aa.Provisioning),{user:a,encKeyset:j,creds:n}=await $uA(A,r.email,"Automated User Provisioning"),i={uuid:Dj.UUIDNewlyCreatedServiceAccount,pubKey:j.pubKey},o=await lp(A),s=await SuA(A,i,[e,o],t),c={srpX:n.srpX,params:n.userAuth};return{user:(await IuA(A,j,a,r,c,Aa.Provisioning,pt.empty(),{groups:s})).person,creds:n}},MJe=async(A,e,t)=>{let{user:r,userAuth:a}=await XO(A,e,"Provision Manager");await r.encryptActiveKeysetWithMasterKey();let j=await VdA(A,r,a);return await VN(A,{user:j,add:[{uuid:t.uuid,role:Ha.Role.Member}],remove:[]}),await XdA(A,j,{token:!0}),{user:j,creds:r.getCredentials()}},RJe=async(A,e)=>{let r=(await JO(A,e.uuid)).users.filter(a=>St.isProvisionManager(a)&&St.isActive(a)&&!St.isServiceAccount(a));if(r.length!==0)return r},KJe=async(A,e)=>{let r=(await JO(A,e.uuid)).users.find(a=>!St.isOwner(a)&&!St.isAdmin(a));if(r)return OE(A,r.uuid,{attrs:Dj.Attr.PubKey,mustReload:!1})},LJe=async(A,e)=>{if(!A.user)throw new Error("User is missing");(await JO(A,e.uuid)).users.find(a=>a.uuid===A.user?.uuid)||await Iv(A,{group:e,add:[{uuid:A.user.uuid,role:Ha.Role.Manager}],remove:[]})},NJe=A=>async()=>{let e=await cU(A,{attrs:VA.Attr.Memberships,mustReload:!0});if(!e)throw new Error("Provision Managers group is missing");if(!e.memberships)throw new Error("Provision Managers group is empty");let t=e.memberships.find(r=>r.memberUuid===A.user?.uuid);t&&await Iv(A,{group:e,add:[],remove:[t.memberUuid]})},FKA=async(A,e,t)=>{try{await yP(A.session,{domain:e,bearerToken:t})}catch{throw new Error("Couldn\u2019t turn on SCIM bridge health monitoring.")}},UJe=(A,e)=>async(t,r,a,j)=>{if(!A.account)throw new Error("Account is missing.");let n=new Fv(A.config),i={allowReauthorization:!0,suppressClientNotifications:!0,isDesignatedAsPublic:!1},o=r.type===St.Type.ServiceAccount,s;if(o)if("userAuth"in t){if(s=t,s.userAuth===void 0)throw new Error("Missing credential auth information")}else throw new Error("srpCredentials are missing.");else{await Pv(n,t,i).catch($=>{throw new Error(`Failed to authenticate the Provision Manager: ${Dn($)}`)});let y=await QuA(n);if(y===void 0)throw new Error("srpCredentials are missing.");let E=n.session.auth?.params;if(E===void 0)throw new Error("Missing session auth information");s={...y,signInAddress:A.account&&A.account.urlHost(A.config.server)||"",userAuth:E}}let c=await Lk.generate(s),{bearerToken:u,...p}=await Lk.generateVerifierAndToken();if(j){if(!a)throw new Error("Enter the address where the SCIM bridge will be available.");await FKA(A,a,u)}let h={version:"2",...c.localAuth,healthVerifier:p,deviceUuid:lr(),domain:e},f=c.bearerToken,G=JSON.stringify(h);return{bearerToken:f,healthVerifierBearerToken:u,fileContents:G}},HJe=async(A,e,t)=>{if(!A.account)throw new Error("Account is missing.");if(!e.userAuth)throw new Error("Missing credential auth information.");let r=await Lk.generate(e),{bearerToken:a,...j}=await Lk.generateVerifierAndToken(),n={version:"2",...r.localAuth,healthVerifier:j,deviceUuid:lr(),domain:t},i=r.bearerToken,o=JSON.stringify(n);return{bearerToken:i,healthVerifierBearerToken:a,fileContents:o}},VJe=async(A,e,t)=>{let r=await OE(A,e.uuid,{attrs:Dj.Attr.Groups}),a=await lp(A),j=r.groupMemberships.filter(o=>o.groupUuid!==t.uuid&&o.groupUuid!==a.uuid).map(o=>o.groupUuid),{user:n,creds:i}=await vKA(A,t);if(j.length>0){let o=j.map(c=>({uuid:c,role:Ha.Role.Manager})),s={user:n.uuid,add:o,remove:[]};await VN(A,s)}return await buA(A,[e]),{user:n,creds:i}};var XJe=async(A,e)=>{if(!A.user)throw new Error("Missing user.");if(!A.account)throw new Error("Missing account.");if(!A.config.env)throw new Error("Missing env.");let t={...e,userUuid:A.user.uuid,email:A.user.email,name:A.user.name,env:A.config.env,accountUuid:A.account.uuid,timestamp:new Date().toISOString()};return WJe(A,t)},WJe=async(A,e)=>{if(!A.user)throw new Error("Missing user.");if(!A.user.activeKeyset)throw new Error("User does not have active keyset.");if(!A.user.activeKeyset.hasSigningKeys||!A.user.activeKeyset.skeyPair?.priKey?.jwk)throw new Error("User does not have signing keys.");return z6A(A.user.activeKeyset.skeyPair.priKey.jwk,Ua(e))};var Y1;(function(A){A[A.Invite=1]="Invite",A[A.Recovery=2]="Recovery",A[A.Provision=3]="Provision"})(Y1||(Y1={}));var JJe=async(A,e,t,r)=>rK(A.session,`${e}?email=${encodeURIComponent(t)}`).then(a=>{let j=a.type===dr.Type.Business?a.domain:xc;return r.set("l",a.language),`https://${j}.${A.config.server}/register-account/${a.uuid}?${r}`}),YJe=async(A,e,t,r)=>UnA(A.session,e,t,r).then(async a=>{let j=a.defaultBillingFrequency||br.Frequency.Yearly,n=a.availablePlans.find(o=>o.frequency===j);if(!n)throw new Error("Could not find default plan");let i={uuid:a.uuid,domain:a.domain,plan:n,tierName:a.tierName,trialEndsAt:_n(a.trialEndsAt),taxAdvice:void 0,features:a.features,duplicateAccounts:a.duplicateAccounts||[],accountCreationDisabled:a.accountCreationDisabled,promoCode:a.promoCode,setupIntentCode:a.setupIntentCode};return rdA(A,n.display.amount,"").then(o=>(i.taxAdvice=o,i)).catch(()=>i)}),ZJe=async(A,e)=>{let t={email:e.email,domain:e.domain,name:e.accountName,type:e.accountType,language:e.language,promoCode:e.promoCode,referrer:e.referrer,source:e.source||ck.Web,tierName:e.tierName},r=e.accountType===dr.Type.Business?await H1(A,e.accountName):xc;t.domain=r,e.accountType===dr.Type.Individual&&(t.name=t.email),await RnA(A.session,t)},QJe=async(A,e)=>{let t={email:e.email,domain:"",name:e.accountName||e.userName,type:e.accountType,language:e.language,promoCode:e.promoCode,purchaseOrderToken:e.purchaseOrderToken,stripePurchaseOrderToken:e.stripePurchaseOrderToken,referrer:e.referrer,source:e.source||ck.Web,tierName:e.tierName,companySize:e.companySize,phoneNumber:e.phoneNumber},r=e.accountType===dr.Type.Business?await H1(A,e.accountName):xc;t.domain!==xc&&(t.domain=r);let j=(await KnA(A.session,t)).emailResendToken||void 0;return{domain:r,emailResendToken:j}},AYe=async(A,e)=>{let t=await rK(A.session,e);return qcA(t)},eYe=async(A,e,t)=>LnA(A.session,e,t),tYe=async(A,e,t)=>{try{return NnA(A.session,e,t)}catch(r){throw console.error("[updateServerSignup] Failed to update signup details:",r),r}},uU={},rYe=async(A,e)=>(await GKA(A,e),qKA(A)),aYe=async(A,e)=>(await wKA(A,e),$KA(A,e.challenge,e.encryptedDeviceCredential,e.auth)),GKA=async(A,e)=>{if(uU[A.id]=e.signupUuid,A.account=new dr({uuid:"",type:e.accountType,state:dr.StateRegistered,name:e.accountName,domain:e.domain,avatar:e.accountAvatar||"",attrVersion:1,createdAt:lh(new Date)}),!e.name)throw new Error("Name is missing");if(!A.account)throw new Error("Unexpected error, missing account.");let t=e.secretKey||await Gn.generate();A.user=new ds({email:e.email,password:e.password,language:e.language,name:e.name,newsletterPrefs:e.newsletterPrefs,secretKey:t,avatar:e.avatar}),A.userAuth=await Zj.generate({email:e.email,password:e.password,secretKey:t}),A.user.masterKey=await Ta.deriveDefaultKdf({email:e.email,password:e.password,secretKey:t}),await A.user.generateNewKeyset()},wKA=async(A,e)=>{if(uU[A.id]=e.signupUuid,A.account=new dr({uuid:"",type:e.accountType,state:dr.StateRegistered,name:e.accountName,domain:e.domain,avatar:e.accountAvatar||"",attrVersion:1,createdAt:lh(new Date)}),!e.name)throw new Error("Name is missing");if(!A.account)throw new Error("Unexpected error, missing account.");let t;e.accountKeyUuid?t=await Gn.forTrustedDevice(e.accountKeyUuid):t=await Gn.generateForTrustedDevice(),A.user=new ds({email:e.email,language:e.language,name:e.name,newsletterPrefs:e.newsletterPrefs,avatar:e.avatar,secretKey:t}),A.user.masterKey=e.auk,await A.user.generateNewKeyset()},qKA=async A=>{if(!Fj.device)throw new Error("Missing device identifier");let e=Fj.device,t=A.user;if(!t)throw new Error("Missing user.");if(!t.secretKey)throw new Error("Missing Secret Key.");let r=await t.encryptActiveKeysetWithMasterKey(),a=A.userAuth;if(!a)throw new Error("Missing auth for user.");let j=A.account;if(!j)throw new Error("Missing account.");let n=uU[A.id];if(!n)throw new Error("Missing signup identifier.");let i={signupUuid:n,user:{email:t.email,language:t.language,name:t.name,newsletterPrefs:t.newsletterPrefs,accountKeyFormat:t.secretKey.format.toString(),accountKeyUuid:t.secretKey.id,avatar:t.avatar},account:{name:j.name,domain:j.domain,type:j.type,avatar:j.avatar},device:e,keyset:r,userAuth:Zj.getForUpload(a)};if(!i.user.name)throw new Error("Name is missing");return aK(A.session,i)},$KA=async(A,e,t,r)=>{if(!Fj.device)throw new Error("Missing device identifier");let a=Fj.device,j=A.user;if(!j)throw new Error("Missing user.");if(!j.name)throw new Error("Name is missing");if(!j.secretKey)throw new Error("Missing Secret Key.");let n=await j.encryptActiveKeysetWithMasterKey();if(!A.account)throw new Error("Missing account.");let i=uU[A.id];if(!i)throw new Error("Missing signup identifier.");let o={signupUuid:i,user:{email:j.email,language:j.language,name:j.name,newsletterPrefs:j.newsletterPrefs,accountKeyFormat:j.secretKey.format.toString(),accountKeyUuid:j.secretKey.id,avatar:j.avatar,challenge:e,deviceCredential:{v:2,encCredentials:t}},account:{name:A.account.name,domain:A.account.domain,type:A.account.type,avatar:A.account.avatar},device:a,keyset:n,userAuth:r};return aK(A.session,o)},IKA={},JdA=async A=>{let e=new ds({language:A.language,avatar:A.avatar,newsletterPrefs:A.newsletterPrefs,secretKey:await Gn.generateForTrustedDevice()});return e.masterKey=A.credentialBundle.auk,await e.generateNewKeyset(),{user:e,userAuth:Zj.createFromPreComputedX(A.credentialBundle.srpx.exportBytes())}},jYe=async(A,e,t,r)=>{let{user:a,userAuth:j}=await JdA(e);if(A.user=a,A.userAuth=j,!a.secretKey)throw new Error("User does not have a Secret Key");let[n,i]=await Promise.all([a.encryptActiveKeysetWithMasterKey(),r.encryptCredentialBundle(e.credentialBundle)]),o={invite:{uuid:e.uuid,token:e.token},user:{identity:e.identity,accountKeyFormat:a.secretKey.format.toString(),accountKeyUuid:a.secretKey.id,email:"",name:"",language:a.language,newsletterPrefs:a.newsletterPrefs,avatar:a.avatar},device:t,keyset:n,userAuth:Zj.getForUpload(j),deviceCredentials:{v:2,encCredentials:i}},s=await tK(A.session,o);if(!s.sessionUuid)throw new Error("signUpUser did not return sessionUuid");return A.session.setSessionUuid(s.sessionUuid),s},nYe=async(A,e,t,r)=>{let{user:a,userAuth:j}=await JdA(e);if(A.user=a,A.userAuth=j,!a.secretKey)throw new Error("User does not have a Secret Key");let[n,i]=await Promise.all([a.encryptActiveKeysetWithMasterKey(),r.encryptCredentialBundle(e.credentialBundle)]),o={token:e.token,uuid:e.uuid,accountKeyFormat:a.secretKey.format.toString(),accountKeyUuid:a.secretKey.id,language:a.language,userAuth:Zj.getForUpload(j),identity:e.identity,deviceCredentials:{v:2,encCredentials:i},device:t,keyset:n};return V9(A.session,o)},iYe=async(A,e,t,r)=>{let{user:a,userAuth:j}=await JdA(e);if(A.user=a,A.userAuth=j,!a.secretKey)throw new Error("User does not have a Secret Key");let[n,i]=await Promise.all([a.encryptActiveKeysetWithMasterKey(),r.encryptCredentialBundle(e.credentialBundle)]),o={token:e.token,uuid:e.uuid,accountKeyFormat:a.secretKey.format.toString(),accountKeyUuid:a.secretKey.id,language:a.language,userAuth:Zj.getForUpload(j),identity:e.identity,deviceCredentials:{v:2,encCredentials:i},device:t,keyset:n};return H9(A.session,o)},oYe=async(A,e)=>{IKA[A.id]=e;let t=e.secretKey||await Gn.generate();A.user=new ds({email:e.email,password:e.password,language:e.language,name:e.name,secretKey:t,avatar:e.avatar,newsletterPrefs:e.newsletterPrefs,meta:e.meta}),A.userAuth=await Zj.generate({email:e.email,password:e.password,secretKey:t}),A.user.masterKey=await Ta.deriveDefaultKdf({email:e.email,password:e.password,secretKey:t}),await A.user.generateNewKeyset()},sYe=async A=>{if(!Fj.device)throw new Error("Missing device identifier");let e=A.user;if(!e)throw new Error("Missing user.");if(!e.secretKey)throw new Error("Missing Secret Key.");let t=await e.encryptActiveKeysetWithMasterKey(),r=A.userAuth;if(!r)throw new Error("Missing auth for user.");let a=IKA[A.id];if(!a)throw new Error("Missing signup.");switch(a.source){case Y1.Invite:{let j={invite:{uuid:a.uuid,token:a.token},user:{email:e.email,language:e.language,name:e.name,newsletterPrefs:e.newsletterPrefs,accountKeyFormat:e.secretKey.format.toString(),accountKeyUuid:e.secretKey.id,avatar:e.avatar,meta:e.meta},device:Fj.device,keyset:t,userAuth:Zj.getForUpload(r)};return tK(A.session,j)}case Y1.Recovery:{if(a.emailVerification===void 0)throw new Error("Missing email verification success token");let j={accountKeyFormat:e.secretKey.format.toString(),accountKeyUuid:e.secretKey.id,device:Fj.device,keyset:t,language:e.language,token:a.token,emailVerificationSuccessToken:a.emailVerification,userAuth:Zj.getForUpload(r),uuid:a.uuid};return V9(A.session,j)}case Y1.Provision:{let j={accountKeyFormat:e.secretKey.format.toString(),accountKeyUuid:e.secretKey.id,device:Fj.device,keyset:t,language:e.language,token:a.token,userAuth:Zj.getForUpload(r),uuid:a.uuid,userMfa:a.userMfa,emailVerification:a.emailVerification};return H9(A.session,j)}default:throw new Error("Invalid signup source")}},lYe=async(A,e)=>HnA(A.session,e);var yg=AA(OA());var cYe=async(A,e,t)=>{try{let r=await VrA(A.session,e,t);return PKA(r.authMethods)&&GQ(),r}catch{return{authMethods:[]}}},PKA=A=>lT(A)||cT(A),lT=A=>A===void 0||A.length===0?!1:A.some(e=>e.type===fP),uYe=A=>lT(A)&&A.length===1,dU=A=>A===void 0||A.length===0?!1:A.some(e=>e.type===q9),dYe=A=>dU(A)&&A.length===1,cT=A=>A===void 0||A.length===0?!1:A.some(e=>e.type===BP),mYe=A=>cT(A)&&A.length===1,pYe=A=>A.type===fP?A:void 0,kYe=A=>A.type===BP?A:void 0,hYe=A=>{if(A)return A.map(kYe).find(e=>e)},SKA=A=>{if(A)return A.map(pYe).find(e=>e)},gYe=A=>{let e=SKA(A);if(e&&e.provider)return e.provider},fYe=async(A,e,t,r)=>{let a=await t.encryptCredentialBundle(e);return XrA(A.session,{encCredentials:a,v:2},t.kid,r)},BYe=async(A,e)=>JrA(A.session,e),EYe=async(A,e,t,r)=>WrA(A.session,e,t,r),Tur=yg.intersection([Ch,yg.readonly(yg.type({accountKeyFormat:yg.string,accountKeyUuid:yg.string,userAuth:ew}),"extra")],"CredentialBundleAuthResponse"),xYe=async(A,e)=>{let t=await A.decryptCredentialBundle(e.encCredentials);return{type:"found",secretKeyFormat:e.accountKeyFormat,secretKeyUuid:e.accountKeyUuid,spec:e.v,credentialBundle:t,userAuth:e.userAuth}};var bYe=async(A,e)=>{await jeA(A.session,e)},yYe=async(A,e)=>{await neA(A.session,e)},vYe=async A=>{let e=await RR(A.session);return YdA(A,e)},FYe=async A=>{try{let e=await RR(A.session);return YdA(A,e)}catch(e){if(oe.isNewServerErrorWithStatus(e,oe.HTTPStatusCode.notFound)||oe.isNewServerErrorWithStatus(e,oe.HTTPStatusCode.forbidden))return;throw e}},GYe=async(A,e)=>(await ieA(A.session,e)).authRedirect,wYe=async(A,e,t)=>oeA(A.session,{code:e,state:t}),qYe=async(A,e)=>seA(A.session,e),$Ye=async(A,e)=>leA(A.session,e),YdA=(A,e)=>(e.federationSettings.oidcSettings.clientSecret!==void 0&&(CKA({message:sA`unexpected non-nil clientSecret returned`,userUuid:A.user?NA(A.user?.uuid):void 0}),delete e.federationSettings.oidcSettings.clientSecret),IYe(e.federationSettings.oidcSettings.identityProvider)||e.federationSettings.oidcSettings.privateApp&&(CKA({message:sA`unexpected truthy privateApp returned`,userUuid:A.user?NA(A.user?.uuid):void 0}),e.federationSettings.oidcSettings.privateApp=!1),e),CKA=A=>{let{message:e,userUuid:t}=A;$s(new fn({errorClass:_l.ContextError,userUuid:t,message:e}))},IYe=A=>{switch(A){case E6.Generic:case E6.Unknown:case E6.Ping:case E6.JumpCloud:case E6.OneLogin:case E6.Okta:case E6.Auth0:case E6.Duo:return!1;case E6.Azure:case E6.Google:return!0;default:throw new Error("unexpected identity provider")}};var PYe=async(A,e)=>niA(A.session,e),SYe=async(A,e)=>oiA(A.session,e),CYe=async(A,e,t)=>siA(A.session,e,t),OYe=async A=>(await liA(A.session)).enrollments,TYe=async(A,e)=>diA(A.session,e),_Ye=async(A,e)=>ciA(A.session,e),DYe=async(A,e,t)=>uiA(A.session,e,t),zYe=async(A,e)=>miA(A.session,e);var MYe="action/support",ZdA=Ne(MYe),RYe=async(A,e)=>ZdA("requestSupportEmail",async()=>kiA(A.session,e)),KYe=async(A,e,t)=>ZdA("getSupportAccountsList",async()=>{let{accounts:r}=await hiA(A.session,e,t);return r}),LYe=async(A,e,t,r)=>ZdA("requestAccountDeletion",async()=>giA(A.session,e,t,r));var NYe="action/survey",UYe=Ne(NYe),HYe=async(A,e)=>UYe("submitDepartureSurvey",async()=>EiA(A.session,e));var VYe=async A=>qiA(A.session);var XYe=async(A,e)=>ziA(A.session,e);var WYe=async(A,e,t,r)=>MiA(A.session,e,t,r||""),JYe=async(A,e,t,r)=>RiA(A.session,e,t,r),YYe=async A=>KiA(A.session),ZYe=async(A,e)=>LiA(A.session,e),QYe=async(A,e)=>NiA(A.session,e);var eZe=AA(OKA(),1),AmA=(A,e,t)=>new Promise((r,a)=>{var j=o=>{try{i(t.next(o))}catch(s){a(s)}},n=o=>{try{i(t.throw(o))}catch(s){a(s)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(j,n);i((t=t.apply(A,e)).next())}),AZe=(A,e)=>AmA(void 0,null,function*(){let t,r=new Promise(a=>{t=setTimeout(a,e)});return Promise.race([A,r]).then(a=>(clearTimeout(t),a))}),QdA=class{static encodeBytes(A){let e=btoa(String.fromCharCode(...new Uint8Array(A))).replace(/\+/g,"-").replace(/\//g,"_");return TKA(e)}static decodeBytes(A){let e=A.replace(/-/g,"+").replace(/_/g,"/"),t=TKA(e);return Uint8Array.from(atob(t),r=>r.charCodeAt(0))}},TKA=A=>{let e=A.indexOf("=");return A.slice(0,e===-1?A.length:e)},_KA=class{static createCredentialAvailable(){return AmA(this,null,function*(){let A={securityKey:!1,platform:!1,isAvailable:!1};return window.PublicKeyCredential&&(A.securityKey=!0,A.isAvailable=!0,yield AZe(window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(e=>{A.platform=e}).catch(()=>console.log("Something went wrong.")),500)),A})}static parsePublicKey(A){if(A.challenge=QdA.decodeBytes(A.challenge.toString()),A.user.id=QdA.decodeBytes(A.user.id.toString()),A.excludeCredentials)for(let e=0;e<A.excludeCredentials.length;e++){let t=A.excludeCredentials[e];t.id=QdA.decodeBytes(t.id.toString())}return A}static getTransports(A){let e=[];return A.response.getTransports&&typeof A.response.getTransports=="function"&&(e=A.response.getTransports()),e}static createCredential(A){return AmA(this,null,function*(){let e={credential:null,transports:[]},t=this.parsePublicKey(A),r=yield navigator.credentials.create({publicKey:t}).then(a=>a);return r==null||(e.credential=r,e.transports=this.getTransports(r)),e})}};var pU=AA(OA());var tZe=async(A,e,t,r,a)=>A.session.verifyPasskey(e,r,t,a),DKA=async A=>A.session.registerWebauthnCredential(),zKA=async(A,e,t)=>A.session.verifyWebauthnCredentialAttestation(e,t),MKA=async A=>{if(!(await _KA.createCredentialAvailable()).isAvailable)throw new Error("Browser does not support WebAuthn.");if(!A?.publicKey)throw new Error("included credential options do not include the passkey challenge");let{publicKey:t}=A,r={publicKey:{...t,challenge:Je(t.challenge),user:{...t.user,id:Je(t.user.id)}}},a=await navigator.credentials.create(r);if(!a)throw new Error("Unable to create webauthn credentials. Credentials not present");if(!("response"in a))throw new Error("Missing response field in rawCredentialFromBrowser");let j=a.response;if(j===null||typeof j!="object")throw new TypeError("attestationResponse has no properties");if(!("clientDataJSON"in j&&j.clientDataJSON instanceof ArrayBuffer)||!("attestationObject"in j&&j.attestationObject instanceof ArrayBuffer))throw new TypeError("Attestation response has incorrect format");if(!("rawId"in a&&a.rawId instanceof ArrayBuffer))throw new TypeError("Credential raw id has incorrect format");let n;return"getTransports"in j&&typeof j.getTransports=="function"&&(n=Ke(j.getTransports(),pU.array(pU.string)).unwrap()),{id:a.id,rawId:Ye(new Uint8Array(a.rawId)),type:a.type,response:{clientDataJSON:Ye(new Uint8Array(j.clientDataJSON)),attestationObject:Ye(new Uint8Array(j.attestationObject)),transports:n}}},rZe=async(A,e)=>{let t=await DKA(A),r=await MKA(t.challenge);return zKA(A,e,r)},aZe=async(A,e)=>NrA(A.session,e),jZe=async(A,e,t)=>UrA(A.session,e,t),nZe=async(A,e,t)=>HrA(A.session,e,t);var iZe=async(A,e)=>await UiA(A.session,e);var Z1=AA(OA());var emA=AA(pdA());var oZe=async A=>HiA(A.session),sZe=500,lZe=async(A,e)=>{await jo(async r=>(await ViA(A.session,{emails:r}),[]),sZe,e)},RKA=Z1.readonly(Z1.array(Z1.string)),cZe=A=>{if(typeof emA>"u")throw new TypeError("Papa Parse must be loaded first.");try{let e=emA.parse(A,{skipEmptyLines:!0}),t=Em(e.data);if(e.data.length!==t.length)throw new Error("Unexpected columns in row.");let a=Ke(t,RKA).unwrap().filter(j=>mb(j));if(a.length===0)throw new Error("No valid emails.");return a}catch(e){throw console.error("Failed to parse, CSV is not in expected format.",e),e}};var uZe=async(A,e)=>{await XiA(A.session,e),A.account&&(A.account.mustMigrate=!1)},dZe=async A=>WiA(A.session);var mZe=async(A,e,t)=>toA(A.session,e,t),Yl;(function(A){A.Filled="filled-login-with-provider",A.Linked="linked-item-to-provider",A.SavingPasskeySuccess="saving-passkey-success",A.UsingPasskeySuccess="using-passkey-success",A.SavingPasskeyFailureInternal="saving-passkey-failure-internal",A.SavingPasskeyFailureTimeout="saving-passkey-failure-timeout",A.SavingPasskeyFailureUnknown="saving-passkey-failure-unknown",A.SavingPasskeyFailureBadinput="saving-passkey-failure-badinput",A.UsingPasskeyFailureInternal="using-passkey-failure-internal",A.UsingPasskeyFailureMissingItem="using-passkey-failure-missing-item",A.UsingPasskeyFailureTimeout="using-passkey-failure-timeout",A.UsingPasskeyFailureUnknown="using-passkey-failure-unknown",A.UsingPasskeyFailureBadinput="using-passkey-failure-badinput",A.AutoSaveSaveItem="autosave-save-item",A.AutoSaveSaveItemSpg="autosave-save-item-spg",A.AutoSaveSaveItemCreditCard="autosave-save-item-credit-card",A.AutoSaveSaveItemIdentity="autosave-save-item-identity",A.AutoSaveUpdateItem="autosave-update-item",A.AutoSaveUpdateItemSpg="autosave-update-item-spg",A.AutoSaveUpdateItemCreditCard="autosave-update-item-credit-card",A.AutoSaveUpdateItemIdentity="autosave-update-item-identity",A.AutoSaveUpdateItem2fa="autosave-update-item-2fa",A.AutoSaveEditItem="autosave-edit-item",A.AutoSaveDismiss="autosave-dismiss",A.SaveDialogSaveItem="save-dialog-save-item",A.SaveDialogUpdateItem="save-dialog-update-item"})(Yl||(Yl={}));var pZe=async(A,e)=>{if(!(new Date>new Date("2025-01-01T00:00:00Z")))return roA(A.session,e)};var kZe=3,dT=10,hZe=dT*10,tmA=(A,e)=>async t=>RA.sendMsgA(A.session,t,e),gZe=(A,e,t)=>{let r=async(a=0)=>{let j=await RA.receiveMsgA(A.session,e,t);if(j?.msga)return j.msga;if(a>=dT)throw new Error("receiveMsgA timed out");return await qs(1e3),r(a+1)};return r},fZe=(A,e,t)=>async r=>RA.sendMsgB(A.session,r,e,t),rmA=(A,e)=>{let t=async(r=0)=>{let a=await RA.receiveMsgB(A.session,e);if(a?.msgb)return a.msgb;if(r===hZe)throw new Error("receiveMsgB timed out");return await qs(1e3),t(r+1)};return t},amA=(A,e)=>async t=>RA.sendTagA(A.session,t,e),BZe=(A,e,t)=>{let r=async(a=0)=>{let j=await RA.receiveTagA(A.session,e,t);if(j?.taga)return j.taga;if(a===dT)throw new Error("receiveTagA timed out");return await qs(1e3),r(a+1)};return r},EZe=(A,e,t)=>async r=>RA.sendTagB(A.session,r,e,t),jmA=(A,e)=>{let t=async(r=0)=>{let a=await RA.receiveTagB(A.session,e);if(a?.tagb)return a.tagb;if(r===dT)throw new Error("receiveTagB timed out");return await qs(1e3),t(r+1)};return t},xZe=(A,e,t)=>{let r=async(a=0)=>{let j=await RA.receiveSharedCredentialBundle(A.session,t,e);if(j)return j;if(a===dT)throw new Error("receiveSharedCredentials timed out");return await qs(1e3),r(a+1)};return r},nmA=(A,e)=>async t=>RA.shareCredentialBundle(A.session,e,t);var bZe=async A=>(await joA(A.session)).acl,yZe=async(A,e)=>noA(A.session,{acl:e});var C6=AA(OA());var KKA=async(A,e,t)=>UlA(A.session,e,t),vZe=async A=>{let e=await Sm.generate(),t={objectUuid:e.uuid,data:{ePriKey:await e.exportSensitiveJwk()},acl:[]};await CO(A,vo.DetailedVaultReportingKeyset,xi.DetailedVaultReportingKeysetPrivateKey,os.Manage,t),await KKA(A,e.uuid,await e.publicKey().then(r=>r.exportJwk()))},FZe=async A=>{let e="getVaultOverviews";console.time(e);let t=[],r,a=1;do r=await he.getVaultReportingVaultOverviewsPage(A,a),t=t.concat(r.vaultOverviews),a++;while(r.vaultOverviews.length>=r.pageSize);return console.timeEnd(e),t},GZe=async(A,e)=>VlA(A.session,e),wZe=async A=>ZlA(A.session),qZe=C6.readonly(C6.partial({vaultUuids:C6.array(C6.string),templateUuids:C6.array(C6.string),hasUrl:C6.boolean,trashedStates:C6.array(C6.string),isBusinessRelated:C6.boolean}),"GetVaultItemSnapshotsFilters"),$Ze=async(A,e,t)=>{let r="snapshotsDownload";console.time(r);let a=[],j=new Date().toISOString(),n,i=!0;for(;i;){let o=await WlA(A.session,{hasUrl:e.hasUrl,isBusinessRelated:e.isBusinessRelated,vaultUuids:t,templateUuids:e.templateUuids,trashedStates:e.trashedStates,...n?{cursor:n}:{limit:JC,endTime:j}});a.push(...o.snapshots),n=o.cursor,i=o.hasMore}return console.timeEnd(r),a},IZe=async A=>{let e=new Map,t="snapshotsAggregate";return console.time(t),A.forEach(r=>{new Set(r.domains).forEach(j=>{let n=XAA(j);if(!n)return;let i=e.get(n);i||(i={hostname:n,vaults:new Set,snapshots:new Set},e.set(n,i));let{uuid:o,vaultUuid:s}=r;o&&i.snapshots.add(o),i.vaults.add(s)})}),console.timeEnd(t),e},PZe=async(A,e,t,r)=>{let a=await $Ze(A,e,t),j=await F.decryptSnapshots(a,r);return IZe(j)},LKA=(A,e)=>{if(A.vaultUuids!==void 0)return e.reduce((t,r)=>(A.vaultUuids!==void 0&&!A.vaultUuids.includes(r.uuid)||t.push(r.uuid),t),[])},SZe=async(A,e,t,r)=>{if(!A.account)throw new Error("Missing account");if(!A.dvrPriKey)throw new Error("Missing detailed vault reporting private key");let a=LKA(e,t);if(a&&a?.length>XlA)throw new Error("There are too many vaults to filter by");let j=await A.dvrPriKey;if(A.account.hasUnleashFeature["b5web-cc-app-insights-aggregation"]){let n=Of.pipe(LG).encode(await j.exportSensitiveJwk()),i="enclaveAggregation";console.time(i);let{apps:o}=await JlA(A.session,A.config.host,{dvrPrivateKey:n,vaultUuids:a,hasUrl:e.hasUrl,templateUuids:e.templateUuids,trashedStates:e.trashedStates,isBusinessRelated:e.isBusinessRelated},r);return console.timeEnd(i),new Map(o.map(s=>[s.hostname,{hostname:s.hostname,vaults:new Set(s.vaults),snapshots:new Set(s.snapshots)}]))}else return PZe(A,e,a,j)},CZe=async(A,e)=>{if(!A.account)throw new Error("Missing account");if(!A.session)throw new Error("Missing session");if(A.dvrPriKey===void 0)throw new Error("Detailed vault reporting private key has not been initialized");let t=await A.dvrPriKey,r=[];for(let a=0;a<e.length;a+=JC){let j=e.slice(a,a+JC),n=await YlA(A.session,{snapshotUuids:j}),i=await F.decryptSnapshots(n.snapshots,t);r.push(...i)}return r},OZe=100,imA=async(A,e,t,r,a)=>{let j=Mo(r,OZe),n=dd(r),i=0;for(let o of j){i+=dd(o);let s={scope:a,contentVersion:t,isFinal:i===n,vaultUuid:e,snapshots:o};await QlA(A.session,s)}},TZe=async(A,e,t,r)=>{if(!A.account||!A.accountOverview||!A.accountOverview.vaults||!F.shouldReportWithSnapshots(A.accountOverview)||!A.accountOverview.vaults.some(o=>o.snapshotContentVersion===void 0||o.snapshotContentVersion<o.contentVersion))return;let j;try{let o=await A.dvrPubKey;if(o!==void 0)j=o;else return}catch{return}let n=A.account?.hasBackOfficeFeature.itemsInWrongAccountPolicy,i=dr.getAllowedWatchtowerDomains(A.account);for(await MO();;){let o;try{o=await he.getVaultReportingSync(A)}catch(f){console.error("Error retrieving vault reporting assignment",f);break}if(o===void 0)break;let s=await t(A,o.vaultUuid,{mustReload:!0});if(s===void 0)break;let c=await r(A,s);if(o.items?.length===0)continue;let u=o.items===void 0?c:c.filter(f=>o?.items?.includes(f.uuid)),p;try{p=await he.generateWatchtowerReportForItems(u,!0,n,i)}catch(f){console.error("Error generating Watchtower reports on vault items",f);break}let h=await Promise.all(u.map(async f=>{let G=p[f.uuid],w=G!==void 0?he.toWatchtowerReportForApi(G):void 0,y=await mN(f,i,w);return j.encrypt(y)}));try{await imA(A,s.uuid,s.contentVersion,h,q1.Full)}catch(f){console.error("Error saving vault item snapshots",f);break}e&&await F.wait(1e3)}RO()},_Ze=async(A,e,t,r)=>{if(!A.account||!A.accountOverview||!A.dvrPubKey)return;let a;try{let c=await A.dvrPubKey;if(c!==void 0)a=c;else return}catch{return}let j=A.account?.hasBackOfficeFeature.itemsInWrongAccountPolicy,n=dr.getAllowedWatchtowerDomains(A.account);if(!(U6A.includes(e.vault.type)&&F.shouldReportWithSnapshots(A.accountOverview)))return;let i;try{i=he.toWatchtowerReportForApi(r??await he.generateWatchtowerReportForItem(e,!0,j,n))}catch(c){console.error("Error generating Watchtower report on vault item",c);return}let o=await mN(e,n,i),s=await a.encrypt(o);try{await imA(A,e.vault.uuid,t,[s],q1.Patch)}catch(c){console.error("Error saving vault item snapshots",c)}},DZe=async(A,e)=>{let t="vaultAccessUuids";console.time(t);let r={},a={},n=Mo(e,20);for(let i=0,o=n.length;i<o;i++){let s=n[i];if(!s)break;let{vaultAccess:c}=await A6A(A.session,{vaultUuids:s});c.forEach(u=>{r[u.vaultUuid]=u.userUuids,a[u.vaultUuid]=u.groupUuids})}return console.timeEnd(t),{vaultAccessUserUuids:r,vaultAccessGroupUuids:a}},zZe=async(A,e)=>{let t="vaultReportingGroupMemberships";console.time(t);let r={},j=Mo(e,20);for(let n=0,i=j.length;n<i;n++){let o=j[n];if(!o)break;let{groupMemberships:s}=await e6A(A.session,{groupUuids:o});s.forEach(c=>{r[c.groupUuid]=c.userUuids})}return console.timeEnd(t),r},MZe=async A=>t6A(A.session);var RZe=async A=>V6A(A.session).then(async e=>e);var cn=AA(OA());var Dv=class{constructor(e,t,r){this.uuid=e,this.recoveryKeyUuid=t,this.policy=r}};(function(A){let e;(function(j){j.V1="1"})(e=A.SpecVersion||(A.SpecVersion={}));let t;(function(j){j.PaperKey="PAPER_KEY"})(t=A.Feature||(A.Feature={}));let r;(function(j){j.Email="EMAIL",j.CustomerSupport="CUSTOMER_SUPPORT"})(r=A.UserVerification||(A.UserVerification={}));let a;(function(j){j.Self="SELF"})(a=A.Custody||(A.Custody={})),A.newForRecoveryCode=()=>({feature:t.PaperKey,specVersion:e.V1,custody:a.Self,configuration:{userVerification:[r.Email,r.CustomerSupport],delaySecs:0}}),A.Codec=cn.exact(cn.type({feature:cn.string,specVersion:cn.string,custody:cn.string,configuration:cn.exact(cn.type({userVerification:cn.array(cn.string),delaySecs:cn.number}))}))})(Dv||(Dv={}));var ydr=cn.exact(cn.type({uuid:cn.string,label:cn.union([cn.string,cn.null]),state:cn.string,enc:cn.string,encryptedBy:cn.string,cryptoVersion:cn.string,verifierParam:cn.string,createdAt:cn.string,updatedAt:cn.string})),kU=class{constructor(e,t){this.policy=e,this.keyDetails=t}},vg=class{constructor(e,t,r,a,j,n){this.uuid=e,this.policyUuid=t,this.state=r,this.createdAt=a,this.updatedAt=j,this.expiresAt=n}};vg.fromParts=A=>new vg(A.uuid,A.policyUuid,LZe(vg.KnownState,A.state),A.createdAt,A.updatedAt,A.expiresAt);(function(A){let e;(function(t){t.KeyVerifierAccepted="KEY_VERIFIER_ACCEPTED",t.Aborted="ABORTED",t.EmailVerificationPending="EMAIL_VERIFICATION_PENDING",t.MaterialReleased="MATERIAL_RELEASED"})(e=A.KnownState||(A.KnownState={}))})(vg||(vg={}));var KZe=A=>{let e=Object.values(A);return t=>e.includes(t)},LZe=(A,e)=>KZe(A)(e)?tk(e):au(e);var NZe=async(A,e,t,r)=>{let[a,j]=await Promise.all([t.encryptSelfAndKeyset(r),t.exportVerifier()]);await RA.createRecoveryKey(A.session,{uuid:t.kid,label:e,enc:Ye(Ua(a.encRecoveryKey)),encryptedBy:a.encRecoveryKey.kid,cryptoVersion:t.version,verifierParam:Ye(Ua(j))});let n=Dv.newForRecoveryCode();await RA.createRecoveryPolicy(A.session,{recoveryKeyUuid:t.kid,...n});let i=await RA.addRecoverableMaterial(A.session,t.kid,{encryptedKeyMaterial:Ye(Ua(a.encKeysetSymKey))}),o=await RA.getRecoveryKey(A.session,t.kid).then(s=>{let c=Je(s.enc);return Ke(c,xr.pipe(no)).unwrap()});await t.checkIntegrity(r,a.encKeysetSymKey,i.integrity,o),await RA.activateRecoveryKey(A.session,t.kid)},UZe=async(A,e)=>{await RA.deleteRecoveryKey(A.session,e)},HZe=async(A,e,t)=>RA.getRecoveryPolicies(A.session,e,t).then(r=>r.policyUuids),NKA=async(A,e)=>{let t=await RA.getRecoveryPolicy(A.session,e);return new Dv(e,t.recoveryKeyUuid,t)},VZe=async(A,e)=>{let t=await NKA(A,e),r=await UKA(A,t.recoveryKeyUuid);return new kU(t,r)},UKA=async(A,e)=>RA.getRecoveryKey(A.session,e),XZe=async A=>(await RA.getRecoveryAttempts(A.session).then(e=>e.recoveryAttempts)).map(vg.fromParts);var WZe=6,hU=class{constructor(e,t,r){this.startEmailVerification=async a=>{try{let j=await RA.recoveryKeyStartEmailVerification(this.session,!1,{email:a});return tk(new gU(this.key,this.session,j.sentToEmail))}catch(j){if(ek(j)&&j.reason===Y6.maximumAttemptsReached)return au(pT.ResendLimitReached);throw j}},this.proceedToVerified=async a=>new mT(this.key,this.session,a),this.key=e,this.session=t,this.state=r}},gU=class{constructor(e,t,r){this.verifyEmail=async a=>{try{await RA.recoveryKeySubmitEmailVerification(this.session,{emailVerificationChallenge:a})}catch(n){if(ek(n))switch(n.reason){case Y6.incorrectValue:return au(Q1.IncorrectCode);case Y6.maximumAttemptsReached:return au(Q1.AttemptLimitReached);case Y6.expired:return au(Q1.CodeExpired);default:throw n}else throw n}let j=await RA.recoveryKeyGetAttemptStatus(this.session);if(j.attemptState!=="ID_VERIFICATION_COMPLETE")throw new Error(`recovery attempt not in expected state (${j.attemptState})`);return tk(new mT(this.key,this.session,j.aux))},this.resendEmailVerificationCode=async()=>{try{await RA.recoveryKeyStartEmailVerification(this.session,!0,{email:void 0})}catch(a){if(ek(a)&&a.reason===Y6.maximumAttemptsReached)return au(pT.ResendLimitReached);throw a}return tk(void 0)},this.key=e,this.session=t,this.emailToDisplay=r}},mT=class{constructor(e,t,r){this.decryptKeyset=async(a,j)=>{let n=await this.key.decryptKeysetSymKey(a).then(async s=>su.newFromJwkSymKey(s)),[i,o]=await Promise.all([Ec.decryptWithKey(n,{pubKey:j.pubKey,encPriKey:j.encPriKey}),WL(n,{pubKey:j.spubKey,encPriKey:j.encSPriKey})]);return new zn(j.uuid,n,i,o,j.sn)},this.encryptKeyset=async(a,j)=>j.encryptWithKey(a),this.completeRecovery=async(a,j,n,i,o,s)=>{let c={...i,v:await j.srpx.verifier(il.fromString(i.method).group).then(async O=>O.exportServerHex())},{encMaterial:u,encKeyset:p}=await RA.recoveryKeyGetMaterial(this.session).then(async O=>{let I=Je(O.encryptedKeyMaterial);return{encMaterial:Ke(I,xr.pipe(no)).unwrap(),encKeyset:O.encryptedKeyset}}),h=await this.decryptKeyset(u,p),f=await this.encryptKeyset(j.auk,h),G=s?await s.encryptCredentialBundle(j):void 0,{sessionUuid:w,signInTokenDetails:y,email:E,userUuid:$,accountUuid:T}=await RA.recoveryKeyPostRegistration(this.session,{accountKeyFormat:n.format.toString(),accountKeyUuid:n.id,language:o,device:a,keyset:f,userAuth:c,deviceCredentials:G?{v:2,encCredentials:G}:void 0});return new fU(w,y?.token,j,{email:E,userUuid:$,accountUuid:T},n)},this.key=e,this.session=t,this.aux=r}},fU=class{constructor(e,t,r,a,j){this.signIn=async(n,i)=>{n.session.clearSessionKey(),n.session.setSessionUuid(this.sessionUuid);let o=await RA.getAuthMethods(n.session,void 0,this.details.userUuid);if(lT(o.authMethods))throw new Error("Not implemented");if(cT(o.authMethods)){if(this.signInToken===void 0)throw new Error("Missing sign in token");return HuA(n,{email:this.details.email,userUuid:this.details.userUuid,credentialBundle:this.credentialBundle,secretKeyFormat:this.secretKey.unwrapFormatAsKnown(),secretKeyUuid:this.secretKey.id},this.signInToken,i)}if(dU(o.authMethods))return Pv(n,{email:this.details.email,muk:await this.credentialBundle.auk.exportJwk(),secretKey:this.secretKey.exportSensitiveReadableString(),srpX:this.credentialBundle.srpx.exportHex()},i);throw new Error("Could not auth with any auth methods")},this.sessionUuid=e,this.signInToken=t,this.credentialBundle=r,this.details=a,this.secretKey=j}},JZe=async(A,e)=>{let t;try{t=await RA.recoveryKeyBeginAttempt(A.session,{recoveryKeyUuid:e.kid})}catch(p){if(ek(p)&&p.code===ru.notFound)return au(zv.NotFound);throw p}let{sessionUuid:r,cryptoVersion:a}=t;if(a!==ac.V1)throw new Error("unknown crypto version");let j=await e.toRecoveryKey(a),n=await j.beginAuth();A.session.setSessionUuid(r);let i=await RA.recoveryKeyAuthV1Begin(A.session,{bigA:n.bigAhex}),o=await n.recieveBigBhex(i.bigB),s;try{s=await RA.recoveryKeyAuthV1ConfirmKey(A.session,{clientHash:o.clientHash})}catch(p){if(ek(p)){if(p.code===ru.unauthorized)return au(zv.AuthenticationFailed);switch(p.reason){case Y6.recentRecoveryAborted:return au(zv.RecentAbortedAttempt);case Y6.recentLogin:return au(zv.RecentLogin);default:throw p}}else throw p}let c=await o.recieveServerHash(s.serverHash);A.session.setSessionUuid(r),await A.session.importSessionKey(c.rawKey),A.session.requestId=1;let u=await RA.recoveryKeyGetAttemptStatus(A.session);return tk(new hU(j,A.session,u))},zv;(function(A){A.RecentAbortedAttempt="RECENT_ABORTED_ATTEMPT",A.RecentLogin="RECENT_LOGIN",A.AuthenticationFailed="AUTHENTICATION_FAILED",A.NotFound="NOT_FOUND"})(zv||(zv={}));var Q1;(function(A){A.IncorrectCode="INCORRECT_CODE",A.AttemptLimitReached="ATTEMPT_LIMIT_REACHED",A.CodeExpired="CODE_EXPIRED"})(Q1||(Q1={}));var pT;(function(A){A.ResendLimitReached="RESEND_LIMIT_REACHED"})(pT||(pT={}));var YZe=async(A,e)=>{let t=(()=>{if(!(!A.account||!A.user)&&A.account.uuid===e.accountUuid&&A.user.uuid===e.userUuid&&A.user.secretKey?.isTrustedDeviceFormat())return A.session.auth?.srpX})();return{requestId:e.requestId,srpx:t}};var ZZe=async A=>W6A(A.session);var QZe=async(A,e)=>ncA(A.session,e),AQe=async(A,e)=>icA(A.session,e);var KcA=A=>!!(A.user?.hasPermission(ZA.Permission.BelongsToSecurityGroup)||A.user?.hasPermission(ZA.Permission.BelongsToOwnersGroup)||A.user?.hasPermission(ZA.Permission.BelongsToExternalAccountManagersGroup)),eQe=A=>!!(A.user?.hasPermission(ZA.Permission.BelongsToSecurityGroup)||A.user?.hasPermission(ZA.Permission.BelongsToOwnersGroup)||A.user?.hasPermission(ZA.Permission.BelongsToAdminsGroup));var tQe=async(A,e)=>ocA(A.session,e);var HKA=async A=>{if(!A.user||!A.account)return;let e=A.user.isOwner()||St.isAdmin(A.user),t=A.account.hasBackOfficeFeature.members&&A.account.hasBackOfficeFeature.managedServiceProvider;if(!(A.account.mspAdministratorsGroup||!e||!t))return async()=>{let r=new VA({name:"MSP Administrators",type:VA.TypeMSPAdministrators,desc:"Access to add, view, administer, and unlink managed companies as an external account manager."}),a=await Rs(A,{attrs:VA.Attr.PubKey});await cp(A,r,a),await PE(A,r)}};var VKA=async A=>{if(!(!A.user||!A.account||!A.user.hasPermission(Gr.ManageGroups)||A.account.teamMembersGroup||!A.account.hasFeature.members))return async()=>{let e=new VA({name:"Team Members",type:VA.TypeTeamMembers,desc:"All team members."}),t=await Rs(A,{attrs:VA.Attr.PubKey}),[r,a]=await Promise.all([cp(A,e,t),FuA(A)]),j=a.filter(n=>n.type===St.Type.Regular).map(async n=>{let i=await OE(A,n,{attrs:Dj.Attr.PubKey});await e.addMembership(r,i,{role:Ha.Role.Member})});await Promise.all(j),await PE(A,e)}};var XKA=async A=>{if(!A.user||!A.account||!A.user.hasPermission(Gr.BelongsToRecoveryGroup))return;let e=A.account.recoveryGroup,t=A.account.ownersGroup,r=A.account.administratorsGroup,a=await zN(A).catch(o=>{});if(!e||!a)return;let j=!!e.recoveryKeyset,n=!t||t.hasPermission(Gr.Recover),i=!r||r.hasPermission(Gr.Recover);if(!(j&&n&&i))return async()=>{console.warn("Running keyset migration!"),j||(console.warn("Running RecoveryGroup keyset migration!"),await D1(A,e,a)),t&&!n&&(console.warn("Running OwnersGroup keyset migration!"),await D1(A,t,a)),r&&!i&&(console.warn("Running AdminGroup keyset migration!"),await D1(A,r,a))}};var WKA=async A=>{let e=new Date(2017,4,10),t=A.account?.createdAt||new Date,r=A.user?.createdAt||new Date;if(t>e)return;let[a,j]=await Promise.all([r<e?fg(A):Promise.resolve(void 0),A.user?.hasPermission(Gr.ViewAdminConsole)?gg(A):Promise.resolve(void 0)]),n=a&&a.desc!==_e.DefaultDescMarker,i=j&&A.user&&A.user.canManageVault(j)&&j.desc!==_e.DefaultDescMarker;if(!n&&!i)return;let o=[];return a&&n&&(a.desc=_e.DefaultDescMarker,o.push(UN(A,a))),j&&i&&(j.desc=_e.DefaultDescMarker,o.push(UN(A,j))),Promise.all(o).then(()=>{})};var rQe=async A=>Promise.resolve(),aQe=async A=>{let e=await Promise.all([WKA(A),XKA(A),VKA(A),HKA(A)]);await Promise.all(vj(e).map(async t=>t()))};typeof window<"u"&&(window.b5={action:he,api:RA,crypto:No,model:ZA,util:F,shared:ojA,parser:Mn},window.sjcl=jQe,window.moment=JKA.default);H6A();var BU=class A{constructor(e){this.isExcluded=(e,t)=>{let r=this.excluded[e];return r===void 0?!1:t?r.includes(t):r.includes("all")};this.toggle=(e,t)=>{let r=this.excluded[e];if(r===void 0)r=t?[t]:["all"],this.excluded[e]=r;else if(t===null)r.indexOf("all")===-1?r.push("all"):r.splice(r.indexOf("all"),1);else if(r.indexOf(t)===-1)r.push(t),this.excluded[e]=r;else{let a=r.indexOf(t);r.splice(a,1),this.excluded[e]=r}};this.clone=()=>new A(Object.assign({},this.excluded));this.excluded=e}};var Xa=class{constructor(e=""){this.log=(e,...t)=>{this.isPermitted()&&(this.message(e),[...t])};this.debug=(e,...t)=>{this.isPermitted()&&(this.message(e),[...t])};this.info=(e,...t)=>{this.isPermitted()&&console.info(this.message(e),...t)};this.warn=(e,...t)=>{this.isPermitted()&&console.warn(this.message(e),...t)};this.error=(e,...t)=>{this.isPermitted()&&console.error(this.message(e),...t)};this.isPermitted=()=>!1;this.message=e=>this._prependMessage?`${this._prependMessage}: ${e}`:e;this._prependMessage=e}};var EU=class{constructor(e,t,r){this.maxBytes=r.maxBytes,this.maxTimeInSeconds=r.maxTimeInSeconds,this.sender=t,this.storage=e}send(e){let t=this.storage.getItem("performance-spans");t||(t=""),t=t.concat(JSON.stringify(e)),t.length>this.maxBytes&&(this.sender(omA(t)),t=""),this.storage.setItem("performance-spans",t),this.batchTimer&&clearTimeout(this.batchTimer),this.batchTimer=setTimeout(()=>this.sendBatch(),this.maxTimeInSeconds*1e3)}sendBatch(){let e=this.storage.getItem("performance-spans");e||(e=""),e.length>0&&(this.sender(omA(e)),this.storage.setItem("performance-spans","")),this.batchTimer=void 0}spans(){let e=this.storage.getItem("performance-spans");return e||(e=""),omA(e)}},omA=A=>{let e=0,t=[],r=0;for(let a=0;a<A.length;a++)if(A[a]==="{"&&e++,A[a]==="}"&&e--,e===0&&a>r){let j=A.slice(r,a+1);r=a+1,t.push(j)}return t.map(a=>JSON.parse(a))};var kT=()=>Number(crypto.getRandomValues(new Uint32Array(1))[0]);var A$=class A{constructor(e,t){this.appName=e;this.traceReporter=t;this.appName=e,this.observerId=String(crypto.randomUUID()),this.performanceObserver=new PerformanceObserver(r=>{r.getEntries().filter(a=>!!a.detail?.spanId).forEach(a=>{let j=this.buildDataDogPayload(a);try{this.traceReporter.send(j)}catch(n){console.error("Error in sending trace",n)}})}),this.startObserver()}startObserver(){this.performanceObserver.observe({entryTypes:["mark","measure"]})}stopObserver(){this.performanceObserver.disconnect()}calculateEpochTime(e){return Math.round(e+performance.timeOrigin)}buildDataDogPayload(e){return{name:e.name,traceId:e.detail.traceId,spanId:e.detail.spanId,parentId:e.detail.parentSpanId,start:this.calculateEpochTime(e.startTime),duration:Math.round(e.duration*1e6),service:this.appName,resource:e.name,type:"web",error:e.detail.error?1:0,meta:{observerId:this.observerId,entryType:e.entryType}}}static async observe(e,t,r){let a={name:e,spanId:kT(),traceId:r?r.traceId:kT(),parentSpanId:r?r.spanId:void 0,error:!1},j=(n=!1)=>{performance.measure(e,{start:`start-${e}`,detail:{...a,error:n}})};try{performance.mark(`start-${e}`,{detail:a});let n=await t(a);return j(),n}catch(n){throw j(!0),n}}static createActiveSpan(e,t){let r={name:e,spanId:kT(),traceId:t?t.traceId:kT(),parentSpanId:t?t.spanId:void 0,error:!1};return performance.mark(`start-${e}`,{detail:r}),r}static endActiveSpan(e,t=!1){performance.measure(e.name,{start:`start-${e.name}`,detail:{...e,error:t}})}static async conditionalObserve(e,...t){let[r,a,j]=t,n=a;return e?A.observe(r,n,j):a({name:"",spanId:0,traceId:0,parentSpanId:void 0,error:!1})}};var cmA=AA(Pl());var smA=nQe;function nQe(A,e){var t={};typeof e=="string"&&(e=[].slice.call(arguments,1));for(var r=e.length,a=0;a<r;a++){var j=e[a];j in A&&(t[j]=A[j])}return t}var gl=AA(OA()),lmA=gl.union([gl.type({type:gl.literal("Success"),data:gl.unknown}),gl.type({type:gl.literal("Error"),message:gl.unknown}),gl.type({type:gl.literal("NoListener")})]),YKA=gl.type({name:gl.string,data:gl.unknown});var ZKA=async(A,e)=>new Promise((t,r)=>chrome.runtime.sendMessage(A,e,a=>{if(chrome.runtime.lastError){let j=chrome.runtime.lastError?.message||"Unable to send message with chrome.runtime.sendMessage";r(new Error(j))}else t(a)})),QKA=async(A,e,t)=>new Promise((r,a)=>chrome.tabs.sendMessage(A,e,t,j=>{if(chrome.runtime.lastError){let n=chrome.runtime.lastError?.message||"Unable to send message with chrome.tabs.sendMessage";a(new Error(n))}else r(j)}));var iQe=A=>typeof A=="object"&&A!==null&&"name"in A&&typeof A.name=="string"&&"message"in A&&typeof A.message=="string",xU=A=>iQe(A)?A.message:"An unknown error occurred";var umA=async(A,e)=>e.tabId===void 0?oQe(A,e):sQe(A,e),oQe=async(A,e)=>{let t;try{t=await ZKA(A,e)}catch(a){let j=xU(a);if(A3A(j))`${A.name}`;else if(e3A(j))`${A.name}`;else if(!j)`${A.name}`;else throw new Error(`Unhandled error response received for message <${A.name}>`);return{type:"NoListener"}}if(!t)return{type:"Success",data:void 0};let r=lmA.decode(t);if((0,cmA.isLeft)(r))throw Error(`Unable to decode response for message <${A.name}>`);return r.right},sQe=async(A,{tabId:e,...t})=>{let r;try{let j=smA(t,["documentId","frameId"]),n=smA(t,["targetParent"]);r=await QKA(e,{...A,...n},j)}catch(j){let n=j instanceof Error?j.message:String(j);if(A3A(n))`${A.name}`;else if(e3A(n))`${A.name}`;else if(!n)`${A.name}`;else throw new Error(`Unhandled error response received for tab message <${A.name}>`);return{type:"NoListener"}}if(!r)return{type:"Success",data:void 0};let a=lmA.decode(r);if((0,cmA.isLeft)(a))throw Error(`Unable to decode response for tab message <${A.name}>`);return a.right},A3A=A=>A.includes("Receiving end does not exist"),e3A=A=>A.includes("The message port closed");var Kr=async(A,e,t={enableTracing:!1})=>{let r;try{let{enableTracing:a,...j}=t;r=a?await A$.observe(`invoke-${A}`,async n=>umA({name:A,data:e,span:n},j)):await umA({name:A,data:e},j)}catch(a){return{ok:!1,type:"error",error:a instanceof Error?a:Error(`Unhandled response type when receiving response to <${A}>`)}}switch(r.type){case"Success":return{ok:!0,data:r.data};case"Error":return{ok:!1,type:"error",error:Error(`Error response received for message <${A}>`)};case"NoListener":return{ok:!1,type:"nolistener"};default:return{ok:!1,type:"error",error:Error(`Unhandled response type when receiving response to <${A}>`)}}};var Mv=new Map,bU,t3A=A=>{bU=A};var lQe=A=>{let e=Mv.get(A);e?(chrome.runtime.onMessage.removeListener(e),Mv.delete(A)||console.warn(`Failed to remove listener <${A}> from LISTENERS`)):console.warn(`Attempting to remove listener <${A}>, but it does not exist.`)},r3A=()=>{Mv.forEach((A,e)=>{lQe(e)})},dmA=A=>Mv.has(A);var mmA=(A,e=Promise.resolve())=>{t3A(e),(A===1||A===2)&&addEventListener("pagehide",r3A,{once:!0})};var n3A=AA(Pl());var cQe=()=>!1,uQe=()=>!0,j3A=A=>{let e=chrome.runtime.getURL("");if(e.endsWith("/")&&(e=e.slice(0,-1)),cQe())return!0;if(uQe()){if(!A.url)return!1;let t=new URL(A.url),r=t.protocol+"//"+t.host;return r.endsWith("/")&&(r=r.slice(0,-1)),r===e}return!!A.origin&&A.origin===e};var se=(A,e,t=!1)=>{if(bU===void 0)throw new Error(`Attempting to register a listener <${A}> before 'initialize()' has			 been called. Please call 'initialize()' from '@1password/b5x-messaging'			 before attempting to register listeners.`);if(dmA(A))throw new Error(`Attempting to register the listener <${A}>. A listener by that name already exists.`);let r=dQe(A,e,t);chrome.runtime.onMessage.addListener(r),Mv.set(A,r)},dQe=(A,e,t=!1)=>(r,a,j)=>{let n=YKA.decode(r);return!(0,n3A.isRight)(n)||n.right.name!==A?!1:t&&!j3A(a)?(j({type:"Error",message:"Invalid origin for request"}),!1):(pQe(e,n.right,a).then(i=>j({type:"Success",data:i})).catch(i=>mQe(i,A,j)),!0)},mQe=(A,e,t)=>{let r=xU(A);console.error(`Exception while handling request <${e}>: ${r}`),t({type:"Error",message:r})},pQe=async(A,e,t)=>{if(await bU,kQe(A)){let{tab:r,frameId:a,url:j}=t;if(!r||!r.id||typeof a!="number")throw new Error(`Unable to respond to request <${e.name}> due to lack of tab and frame information.`);return A(e,{tab:r,frameId:a,url:j})}else return A(e)},kQe=A=>A.length===2;var yU=class{constructor(){this._cache=new Map}clear(){return this._cache.clear()}get(e){return this._cache.get(e)}set(e,t){this._cache.set(e,t)}};function e$(A){return JSON.stringify([...A])}function t$(A){return new Map(JSON.parse(A))}var Kn={};Na(Kn,{getRejectingTimeout:()=>kmA,getResolvingTimeout:()=>fl,makePromiseCompleter:()=>Ic,withTimeout:()=>pmA});var pmA=(A,e=5e3,t,r)=>{let a,j=new Promise((n,i)=>{a=globalThis.setTimeout(()=>{console.warn(`Promise timed out.${t?` ${t}`:""}`),i(r)},e)});return Promise.race([A,j]).finally(()=>clearTimeout(a))},fl=A=>new Promise(e=>{A&&setTimeout(()=>e({type:"timeout"}),A)}),kmA=A=>new Promise((e,t)=>{A&&setTimeout(()=>t("timeout"),A)}),Ic=()=>{let A,e=new Promise(r=>{A=r});return{resolve:r=>A(r),promise:e}};var LE={};Na(LE,{fqURL:()=>Rd,isHttp:()=>i3A,isHttpOrHttps:()=>hT,isHttps:()=>o3A,matchesHostUrl:()=>gmA,parseLoose:()=>vU,subdomainFromSignInAddress:()=>gQe,urlComponentsForUnsafeURL:()=>Sc,usoProviderFromUrl:()=>hmA});var Pc=AA(Wr());function i3A(A){return!!A&&A.protocol==="http:"}function o3A(A){return!!A&&A.protocol==="https:"}function hT(A){return i3A(A)||o3A(A)}function Sc(A){if(!(A==null||A.length===0))try{return new URL(A)}catch{try{return new URL("https://"+A)}catch{return}}}function gQe(A){return new URL(A).host.split(".")[0]}function vU(A){let e=A.trim();try{return new URL(e)}catch{try{return new URL(`https://${e}`)}catch{}}}function Rd(A){return A?A.indexOf("http://")===0||A.indexOf("https://")===0?A:`https://${A}`:""}function hmA(A){if(A.length===0)return;let e;try{e=new URL(Rd(A))}catch{return}switch(e.host.toLowerCase().split(".").slice(-2).join(".")){case"amazon.com":return Pc.UsoProvider.Amazon;case"apple.com":return Pc.UsoProvider.Apple;case"discord.com":return Pc.UsoProvider.Discord;case"facebook.com":return Pc.UsoProvider.Facebook;case"github.com":return Pc.UsoProvider.GitHub;case"google.com":case"youtube.com":return Pc.UsoProvider.Google;case"live.com":case"microsoft.com":case"microsoftonline.com":case"hotmail.com":case"office.com":return Pc.UsoProvider.Microsoft;case"okta.com":return Pc.UsoProvider.Okta;case"slack.com":return Pc.UsoProvider.Slack;case"twitter.com":return Pc.UsoProvider.Twitter;default:return}}function gmA(A,e,t){return A.urls.some(a=>a.mode===Pc.ItemUrlMode.Host?vU(a.url)?.host===e:a.mode===Pc.ItemUrlMode.Never?!1:A.urlToNakedDomains[a.url]===t)}var wu={};Na(wu,{createLoggableId:()=>a$,createNumericId:()=>FU,createUniqueId:()=>r$});function r$(){return FU().toString(36)}function FU(){return globalThis.crypto.getRandomValues(new Uint32Array(1))[0]}function a$(){return TA.assertLogSafe(r$())}var Uj=AA(Wr());async function s3A(A,e,t,r){let a=crypto.subtle,j=await a.importKey("raw",A,{name:"PBKDF2"},!1,["deriveBits"]);return a.deriveBits({name:"PBKDF2",salt:e,iterations:t,hash:"SHA-256"},j,r*8)}var qr,Gg=new Array(128).fill(void 0);Gg.push(void 0,null,!0,!1);function Ee(A){return Gg[A]}var BT=Gg.length;function fQe(A){A<132||(Gg[A]=BT,BT=A)}function Rv(A){let e=Ee(A);return fQe(A),e}var c3A=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&c3A.decode();var gT=null;function j$(){return(gT===null||gT.byteLength===0)&&(gT=new Uint8Array(qr.memory.buffer)),gT}function co(A,e){return A=A>>>0,c3A.decode(j$().subarray(A,A+e))}function yt(A){BT===Gg.length&&Gg.push(Gg.length+1);let e=BT;return BT=Gg[e],Gg[e]=A,e}var Zl=0,wU=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},BQe=typeof wU.encodeInto=="function"?function(A,e){return wU.encodeInto(A,e)}:function(A,e){let t=wU.encode(A);return e.set(t),{read:A.length,written:t.length}};function Ld(A,e,t){if(t===void 0){let i=wU.encode(A),o=e(i.length,1)>>>0;return j$().subarray(o,o+i.length).set(i),Zl=i.length,o}let r=A.length,a=e(r,1)>>>0,j=j$(),n=0;for(;n<r;n++){let i=A.charCodeAt(n);if(i>127)break;j[a+n]=i}if(n!==r){n!==0&&(A=A.slice(n)),a=t(a,r,r=n+A.length*3,1)>>>0;let i=j$().subarray(a+n,a+r),o=BQe(A,i);n+=o.written,a=t(a,r,n,1)>>>0}return Zl=n,a}function fmA(A){return A==null}var fT=null;function Kd(){return(fT===null||fT.byteLength===0)&&(fT=new Int32Array(qr.memory.buffer)),fT}function BmA(A){let e=typeof A;if(e=="number"||e=="boolean"||A==null)return`${A}`;if(e=="string")return`"${A}"`;if(e=="symbol"){let a=A.description;return a==null?"Symbol":`Symbol(${a})`}if(e=="function"){let a=A.name;return typeof a=="string"&&a.length>0?`Function(${a})`:"Function"}if(Array.isArray(A)){let a=A.length,j="[";a>0&&(j+=BmA(A[0]));for(let n=1;n<a;n++)j+=", "+BmA(A[n]);return j+="]",j}let t=/\[object ([^\]]+)\]/.exec(toString.call(A)),r;if(t.length>1)r=t[1];else return toString.call(A);if(r=="Object")try{return"Object("+JSON.stringify(A)+")"}catch{return"Object"}return A instanceof Error?`${A.name}: ${A.message}
${A.stack}`:r}var l3A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>{qr.__wbindgen_export_2.get(A.dtor)(A.a,A.b)});function EQe(A,e,t,r){let a={a:A,b:e,cnt:1,dtor:t},j=(...n)=>{a.cnt++;let i=a.a;a.a=0;try{return r(i,a.b,...n)}finally{--a.cnt===0?(qr.__wbindgen_export_2.get(a.dtor)(i,a.b),l3A.unregister(a)):a.a=i}};return j.original=a,l3A.register(j,a,a),j}function xQe(A,e,t){qr._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h247f2f2af6df142f(A,e,yt(t))}function u3A(A){let e=Ld(A,qr.__wbindgen_malloc,qr.__wbindgen_realloc),t=Zl,r=qr.wasmMessage(e,t);return Rv(r)}function bQe(A,e){let t=e(A.length*1,1)>>>0;return j$().set(A,t/1),Zl=A.length,t}function d3A(A,e,t,r,a,j,n,i,o,s,c){let u=Ld(A,qr.__wbindgen_malloc,qr.__wbindgen_realloc),p=Zl,h=Ld(e,qr.__wbindgen_malloc,qr.__wbindgen_realloc),f=Zl,G=Ld(t,qr.__wbindgen_malloc,qr.__wbindgen_realloc),w=Zl,y=Ld(r,qr.__wbindgen_malloc,qr.__wbindgen_realloc),E=Zl,$=Ld(a,qr.__wbindgen_malloc,qr.__wbindgen_realloc),T=Zl,O=bQe(j,qr.__wbindgen_malloc),I=Zl,q=qr.enrollTrustedDevice(u,p,h,f,G,w,y,E,$,T,O,I,yt(n),yt(i),yt(o),yt(s),yt(c));return Rv(q)}function m3A(A){let e,t;try{let j=qr.__wbindgen_add_to_stack_pointer(-16),n=Ld(A,qr.__wbindgen_malloc,qr.__wbindgen_realloc),i=Zl;qr.richIconBackgroundColor(j,n,i);var r=Kd()[j/4+0],a=Kd()[j/4+1];return e=r,t=a,co(r,a)}finally{qr.__wbindgen_add_to_stack_pointer(16),qr.__wbindgen_free(e,t,1)}}function p3A(A){let e,t;try{let j=qr.__wbindgen_add_to_stack_pointer(-16),n=Ld(A,qr.__wbindgen_malloc,qr.__wbindgen_realloc),i=Zl;qr.nakedDomainForUrlString(j,n,i);var r=Kd()[j/4+0],a=Kd()[j/4+1];return e=r,t=a,co(r,a)}finally{qr.__wbindgen_add_to_stack_pointer(16),qr.__wbindgen_free(e,t,1)}}function k3A(){let A=qr.onLock();return Rv(A)}function mj(A,e){try{return A.apply(this,e)}catch(t){qr.__wbindgen_exn_store(yt(t))}}function GU(A,e){return A=A>>>0,j$().subarray(A/1,A/1+e)}function yQe(A,e,t,r){qr.wasm_bindgen__convert__closures__invoke2_mut__hcb3d484db79c0b1b(A,e,yt(t),yt(r))}var c7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_intounderlyingbytesource_free(A>>>0));var u7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_intounderlyingsink_free(A>>>0));var d7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_intounderlyingsource_free(A>>>0));var m7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_pipeoptions_free(A>>>0));var p7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_queuingstrategy_free(A>>>0));var k7r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(A=>qr.__wbg_readablestreamgetreaderoptions_free(A>>>0));async function vQe(A,e){if(typeof Response=="function"&&A instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(A,e)}catch(r){if(A.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let t=await A.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{let t=await WebAssembly.instantiate(A,e);return t instanceof WebAssembly.Instance?{instance:t,module:A}:t}}function FQe(){let A={};return A.wbg={},A.wbg.__wbindgen_object_drop_ref=function(e){Rv(e)},A.wbg.__wbindgen_string_new=function(e,t){let r=co(e,t);return yt(r)},A.wbg.__wbg_derivePbkdf2_e3361d976301b5f2=function(e,t,r,a,j){let n=s3A(Rv(e),GU(t,r),a>>>0,j);return yt(n)},A.wbg.__wbindgen_is_string=function(e){return typeof Ee(e)=="string"},A.wbg.__wbg_static_accessor_performance_4712ac7ffe142ed8=function(){return yt(performance)},A.wbg.__wbindgen_cb_drop=function(e){let t=Rv(e).original;return t.cnt--==1?(t.a=0,!0):!1},A.wbg.__wbg_new_abda76e883ba8a5f=function(){let e=new Error;return yt(e)},A.wbg.__wbg_stack_658279fe44541cf6=function(e,t){let r=Ee(t).stack,a=Ld(r,qr.__wbindgen_malloc,qr.__wbindgen_realloc),j=Zl;Kd()[e/4+1]=j,Kd()[e/4+0]=a},A.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let r,a;try{r=e,a=t,console.error(co(e,t))}finally{qr.__wbindgen_free(r,a,1)}},A.wbg.__wbindgen_number_new=function(e){return yt(e)},A.wbg.__wbg_static_accessor_performance_da77b3a901a72934=function(){return yt(performance)},A.wbg.__wbg_window_42e63f18d10f9092=function(){return mj(function(){let e=window.window;return yt(e)},arguments)},A.wbg.__wbg_self_8cec4475a97d8902=function(){return mj(function(){let e=self.self;return yt(e)},arguments)},A.wbg.__wbindgen_string_get=function(e,t){let r=Ee(t),a=typeof r=="string"?r:void 0;var j=fmA(a)?0:Ld(a,qr.__wbindgen_malloc,qr.__wbindgen_realloc),n=Zl;Kd()[e/4+1]=n,Kd()[e/4+0]=j},A.wbg.__wbindgen_object_clone_ref=function(e){let t=Ee(e);return yt(t)},A.wbg.__wbg_fetch_381efb5e862610fa=function(e){let t=fetch(Ee(e));return yt(t)},A.wbg.__wbg_byobRequest_08c18cee35def1f4=function(e){let t=Ee(e).byobRequest;return fmA(t)?0:yt(t)},A.wbg.__wbg_view_231340b0dd8a2484=function(e){let t=Ee(e).view;return fmA(t)?0:yt(t)},A.wbg.__wbg_byteLength_5299848ed3264181=function(e){return Ee(e).byteLength},A.wbg.__wbg_close_da7e6fb9d9851e5a=function(e){Ee(e).close()},A.wbg.__wbg_respond_8fadc5f5c9d95422=function(e,t){Ee(e).respond(t>>>0)},A.wbg.__wbg_buffer_4e79326814bdd393=function(e){let t=Ee(e).buffer;return yt(t)},A.wbg.__wbg_byteOffset_b69b0a07afccce19=function(e){return Ee(e).byteOffset},A.wbg.__wbg_close_e9110ca16e2567db=function(e){Ee(e).close()},A.wbg.__wbg_enqueue_d71a1a518e21f5c3=function(e,t){Ee(e).enqueue(Ee(t))},A.wbg.__wbg_instanceof_Window_cee7a886d55e7df5=function(e){let t;try{t=Ee(e)instanceof Window}catch{t=!1}return t},A.wbg.__wbg_signal_8fbb4942ce477464=function(e){let t=Ee(e).signal;return yt(t)},A.wbg.__wbg_new_92cc7d259297256c=function(){return mj(function(){let e=new AbortController;return yt(e)},arguments)},A.wbg.__wbg_abort_510372063dd66b29=function(e){Ee(e).abort()},A.wbg.__wbg_newwithu8arraysequenceandoptions_5a265a21dee7aa0c=function(){return mj(function(e,t){let r=new Blob(Ee(e),Ee(t));return yt(r)},arguments)},A.wbg.__wbg_instanceof_Crypto_af775e7e85e3bbf2=function(e){let t;try{t=Ee(e)instanceof Crypto}catch{t=!1}return t},A.wbg.__wbg_subtle_f3448bf1c2e543c8=function(e){let t=Ee(e).subtle;return yt(t)},A.wbg.__wbg_getRandomValues_b18a81f304000295=function(){return mj(function(e,t,r){let a=Ee(e).getRandomValues(GU(t,r));return yt(a)},arguments)},A.wbg.__wbg_close_df5fa26162fe8038=function(e){Ee(e).close()},A.wbg.__wbg_flush_7e47c71db89b5fbb=function(){return mj(function(e){Ee(e).flush()},arguments)},A.wbg.__wbg_getSize_b883ae5c24b4ec58=function(){return mj(function(e){return Ee(e).getSize()},arguments)},A.wbg.__wbg_read_d4221357e7680b23=function(){return mj(function(e,t,r,a){return Ee(e).read(GU(t,r),Ee(a))},arguments)},A.wbg.__wbg_truncate_24b8e74e5d32facd=function(){return mj(function(e,t){Ee(e).truncate(t>>>0)},arguments)},A.wbg.__wbg_write_21a9f396909bfbec=function(){return mj(function(e,t,r,a){return Ee(e).write(GU(t,r),Ee(a))},arguments)},A.wbg.__wbg_new_681a946ae825e532=function(){return mj(function(){let e=new FormData;return yt(e)},arguments)},A.wbg.__wbg_append_04f5dda5e9d89f98=function(){return mj(function(e,t,r,a){Ee(e).append(co(t,r),Ee(a))},arguments)},A.wbg.__wbg_append_4eb4a1007457eee4=function(){return mj(function(e,t,r,a,j,n){Ee(e).append(co(t,r),Ee(a),co(j,n))},arguments)},A.wbg.__wbg_new_4db22fd5d40c5665=function(){return mj(function(){let e=new Headers;return yt(e)},arguments)},A.wbg.__wbg_append_b2e8ed692fc5eb6e=function(){return mj(function(e,t,r,a,j){Ee(e).append(co(t,r),co(a,j))},arguments)},A.wbg.__wbg_languages_8a5b1a50268bad76=function(e){let t=Ee(e).languages;return yt(t)},A.wbg.__wbg_instanceof_Performance_48398135bd5634ca=function(e){let t;try{t=Ee(e)instanceof Performance}catch{t=!1}return t},A.wbg.__wbg_getEntriesByType_b5d23015f11c1e22=function(e,t,r){let a=Ee(e).getEntriesByType(co(t,r));return yt(a)},A.wbg.__wbg_mark_87f9cd5cb7372f0a=function(){return mj(function(e,t,r){Ee(e).mark(co(t,r))},arguments)},A.wbg.__wbg_measure_8c627bb59c627f88=function(){return mj(function(e,t,r,a,j,n,i){Ee(e).measure(co(t,r),co(a,j),co(n,i))},arguments)},A.wbg.__wbg_now_ef71656beb948bc8=function(e){return Ee(e).now()},A.wbg.__wbg_newwithstrandinit_11fbc38beb4c26b0=function(){return mj(function(e,t,r){let a=new Request(co(e,t),Ee(r));return yt(a)},arguments)},A.wbg.__wbg_instanceof_Response_b5451a06784a2404=function(e){let t;try{t=Ee(e)instanceof Response}catch{t=!1}return t},A.wbg.__wbg_url_e319aee56d26ddf1=function(e,t){let r=Ee(t).url,a=Ld(r,qr.__wbindgen_malloc,qr.__wbindgen_realloc),j=Zl;Kd()[e/4+1]=j,Kd()[e/4+0]=a},A.wbg.__wbg_status_bea567d1049f0b6a=function(e){return Ee(e).status},A.wbg.__wbg_headers_96d9457941f08a33=function(e){let t=Ee(e).headers;return yt(t)},A.wbg.__wbg_arrayBuffer_eb2005809be09726=function(){return mj(function(e){let t=Ee(e).arrayBuffer();return yt(t)},arguments)},A.wbg.__wbg_exportKey_9517fcbbeaa28d5b=function(){return mj(function(e,t,r,a){let j=Ee(e).exportKey(co(t,r),Ee(a));return yt(j)},arguments)},A.wbg.__wbg_generateKey_1a8c865b75e100ec=function(){return mj(function(e,t,r,a){let j=Ee(e).generateKey(Ee(t),r!==0,Ee(a));return yt(j)},arguments)},A.wbg.__wbg_navigator_b1003b77e05fcee9=function(e){let t=Ee(e).navigator;return yt(t)},A.wbg.__wbg_instanceof_WorkerGlobalScope_42acbb685bed964e=function(e){let t;try{t=Ee(e)instanceof WorkerGlobalScope}catch{t=!1}return t},A.wbg.__wbg_navigator_c4e08c660a8b3adc=function(e){let t=Ee(e).navigator;return yt(t)},A.wbg.__wbg_fetch_10edd7d7da150227=function(e,t){let r=Ee(e).fetch(Ee(t));return yt(r)},A.wbg.__wbg_languages_023e8138f4c69ca2=function(e){let t=Ee(e).languages;return yt(t)},A.wbg.__wbg_debug_7d82cf3cd21e00b0=function(e){Ee(e)},A.wbg.__wbg_error_b834525fe62708f5=function(e){console.error(Ee(e))},A.wbg.__wbg_info_12174227444ccc71=function(e){console.info(Ee(e))},A.wbg.__wbg_log_79d3c56888567995=function(e){Ee(e)},A.wbg.__wbg_warn_2a68e3ab54e55f28=function(e){console.warn(Ee(e))},A.wbg.__wbindgen_error_new=function(e,t){let r=new Error(co(e,t));return yt(r)},A.wbg.__wbg_queueMicrotask_f82fc5d1e8f816ae=function(e){let t=Ee(e).queueMicrotask;return yt(t)},A.wbg.__wbindgen_is_function=function(e){return typeof Ee(e)=="function"},A.wbg.__wbg_queueMicrotask_f61ee94ee663068b=function(e){queueMicrotask(Ee(e))},A.wbg.__wbg_crypto_566d7465cdbb6b7a=function(e){let t=Ee(e).crypto;return yt(t)},A.wbg.__wbindgen_is_object=function(e){let t=Ee(e);return typeof t=="object"&&t!==null},A.wbg.__wbg_process_dc09a8c7d59982f6=function(e){let t=Ee(e).process;return yt(t)},A.wbg.__wbg_versions_d98c6400c6ca2bd8=function(e){let t=Ee(e).versions;return yt(t)},A.wbg.__wbg_node_caaf83d002149bd5=function(e){let t=Ee(e).node;return yt(t)},A.wbg.__wbg_require_94a9da52636aacbf=function(){return mj(function(){let e=module.require;return yt(e)},arguments)},A.wbg.__wbg_msCrypto_0b84745e9245cdf6=function(e){let t=Ee(e).msCrypto;return yt(t)},A.wbg.__wbg_randomFillSync_290977693942bf03=function(){return mj(function(e,t){Ee(e).randomFillSync(Rv(t))},arguments)},A.wbg.__wbg_getRandomValues_260cc23a41afad9a=function(){return mj(function(e,t){Ee(e).getRandomValues(Ee(t))},arguments)},A.wbg.__wbg_self_05040bd9523805b9=function(){return mj(function(){let e=self.self;return yt(e)},arguments)},A.wbg.__wbg_window_adc720039f2cb14f=function(){return mj(function(){let e=window.window;return yt(e)},arguments)},A.wbg.__wbg_globalThis_622105db80c1457d=function(){return mj(function(){let e=globalThis.globalThis;return yt(e)},arguments)},A.wbg.__wbg_global_f56b013ed9bcf359=function(){return mj(function(){let e=global.global;return yt(e)},arguments)},A.wbg.__wbindgen_is_undefined=function(e){return Ee(e)===void 0},A.wbg.__wbg_newnoargs_cfecb3965268594c=function(e,t){let r=new Function(co(e,t));return yt(r)},A.wbg.__wbg_call_3f093dd26d5569f8=function(){return mj(function(e,t){let r=Ee(e).call(Ee(t));return yt(r)},arguments)},A.wbg.__wbg_get_0ee8ea3c7c984c45=function(e,t){let r=Ee(e)[t>>>0];return yt(r)},A.wbg.__wbg_new_75208e29bddfd88c=function(){let e=new Array;return yt(e)},A.wbg.__wbg_next_586204376d2ed373=function(e){let t=Ee(e).next;return yt(t)},A.wbg.__wbg_next_b2d3366343a208b3=function(){return mj(function(e){let t=Ee(e).next();return yt(t)},arguments)},A.wbg.__wbg_done_90b14d6f6eacc42f=function(e){return Ee(e).done},A.wbg.__wbg_value_3158be908c80a75e=function(e){let t=Ee(e).value;return yt(t)},A.wbg.__wbg_iterator_40027cdd598da26b=function(){return yt(Symbol.iterator)},A.wbg.__wbg_get_3fddfed2c83f434c=function(){return mj(function(e,t){let r=Reflect.get(Ee(e),Ee(t));return yt(r)},arguments)},A.wbg.__wbg_new_632630b5cec17f21=function(){let e=new Object;return yt(e)},A.wbg.__wbg_isArray_e783c41d0dd19b44=function(e){return Array.isArray(Ee(e))},A.wbg.__wbg_push_0239ee92f127e807=function(e,t){return Ee(e).push(Ee(t))},A.wbg.__wbg_values_9ebf712f22759fe1=function(e){let t=Ee(e).values();return yt(t)},A.wbg.__wbg_wait_f8fe815683e87991=function(){return mj(function(e,t,r,a){let j=Atomics.wait(Ee(e),t>>>0,r,a);return yt(j)},arguments)},A.wbg.__wbg_new_73a5987615ec8862=function(e,t){let r=new Error(co(e,t));return yt(r)},A.wbg.__wbg_call_67f2111acd2dfdb6=function(){return mj(function(e,t,r){let a=Ee(e).call(Ee(t),Ee(r));return yt(a)},arguments)},A.wbg.__wbg_call_ef6edd65b3d356b6=function(){return mj(function(e,t,r,a){let j=Ee(e).call(Ee(t),Ee(r),Ee(a));return yt(j)},arguments)},A.wbg.__wbg_getFullYear_58caf6b282c65af0=function(e){return Ee(e).getFullYear()},A.wbg.__wbg_getTimezoneOffset_840b552f34917133=function(e){return Ee(e).getTimezoneOffset()},A.wbg.__wbg_new_a9d80688888b4894=function(e){let t=new Date(Ee(e));return yt(t)},A.wbg.__wbg_new0_7a6141101f2206da=function(){return yt(new Date)},A.wbg.__wbg_now_ba25f0a487340763=function(){return Date.now()},A.wbg.__wbg_toLocaleDateString_93730fabda1cdb40=function(e,t,r,a){let j=Ee(e).toLocaleDateString(co(t,r),Ee(a));return yt(j)},A.wbg.__wbg_has_ad45eb020184f624=function(){return mj(function(e,t){return Reflect.has(Ee(e),Ee(t))},arguments)},A.wbg.__wbg_set_961700853a212a39=function(){return mj(function(e,t,r){return Reflect.set(Ee(e),Ee(t),Ee(r))},arguments)},A.wbg.__wbg_buffer_b914fb8b50ebbc3e=function(e){let t=Ee(e).buffer;return yt(t)},A.wbg.__wbg_parse_1ed8bea2409da238=function(){return mj(function(e,t){let r=JSON.parse(co(e,t));return yt(r)},arguments)},A.wbg.__wbg_stringify_865daa6fb8c83d5a=function(){return mj(function(e){let t=JSON.stringify(Ee(e));return yt(t)},arguments)},A.wbg.__wbg_new_70828a4353259d4b=function(e,t){try{var r={a:e,b:t},a=(n,i)=>{let o=r.a;r.a=0;try{return yQe(o,r.b,n,i)}finally{r.a=o}};let j=new Promise(a);return yt(j)}finally{r.a=r.b=0}},A.wbg.__wbg_resolve_5da6faf2c96fd1d5=function(e){let t=Promise.resolve(Ee(e));return yt(t)},A.wbg.__wbg_then_f9e58f5a50f43eae=function(e,t){let r=Ee(e).then(Ee(t));return yt(r)},A.wbg.__wbg_then_20a5920e447d1cb1=function(e,t,r){let a=Ee(e).then(Ee(t),Ee(r));return yt(a)},A.wbg.__wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e=function(e,t,r){let a=new Uint8Array(Ee(e),t>>>0,r>>>0);return yt(a)},A.wbg.__wbg_new_b1f2d6842d615181=function(e){let t=new Uint8Array(Ee(e));return yt(t)},A.wbg.__wbg_set_7d988c98e6ced92d=function(e,t,r){Ee(e).set(Ee(t),r>>>0)},A.wbg.__wbg_length_21c4b0ae73cba59d=function(e){return Ee(e).length},A.wbg.__wbg_newwithlength_01596b991d6d854e=function(e){let t=new Int32Array(e>>>0);return yt(t)},A.wbg.__wbg_newwithlength_0d03cef43b68a530=function(e){let t=new Uint8Array(e>>>0);return yt(t)},A.wbg.__wbg_subarray_adc418253d76e2f1=function(e,t,r){let a=Ee(e).subarray(t>>>0,r>>>0);return yt(a)},A.wbg.__wbindgen_debug_string=function(e,t){let r=BmA(Ee(t)),a=Ld(r,qr.__wbindgen_malloc,qr.__wbindgen_realloc),j=Zl;Kd()[e/4+1]=j,Kd()[e/4+0]=a},A.wbg.__wbindgen_throw=function(e,t){throw new Error(co(e,t))},A.wbg.__wbindgen_memory=function(){let e=qr.memory;return yt(e)},A.wbg.__wbindgen_closure_wrapper14517=function(e,t,r){let a=EQe(e,t,4471,xQe);return yt(a)},A}function GQe(A,e){return qr=A.exports,h3A.__wbindgen_wasm_module=e,fT=null,gT=null,qr.__wbindgen_start(),qr}async function h3A(A){if(qr!==void 0)return qr;let e=FQe();(typeof A=="string"||typeof Request=="function"&&A instanceof Request||typeof URL=="function"&&A instanceof URL)&&(A=fetch(A));let{instance:t,module:r}=await vQe(await A,e);return GQe(t,r)}var g3A=h3A;var f3A="/assets/wasm/op_wasm_b5x_bg-GSOLZQ3B.wasm";var phA=AA(Wr());var n$=class{constructor(e,t,r=!1){this.localizedPluralName=()=>{let e=this.template;if(!e)return this.uuid;if(e.attrs&&e.attrs.localizedStrings){let t=e.attrs.localizedStrings.__pluralTitle__;if(t)return t}return e.pluralName};this.uuid=e,this.template=t,this.hasItems=r}localizedSingularName(){let e=this.template;if(!e)return this.uuid;if(e.attrs&&e.attrs.localizedStrings){let t=e.attrs.localizedStrings.__title__;if(t)return t}return e.pluralName}get hasHiddenTemplate(){return!this.template}};var ui=AA(Wr());var i$=(K=>(K.Login="001",K.CreditCard="002",K.SecureNote="003",K.Identity="004",K.Password="005",K.Document="006",K.SoftwareLicense="100",K.BankAccount="101",K.Database="102",K.DriverLicense="103",K.OutdoorLicense="104",K.Membership="105",K.Passport="106",K.RewardProgram="107",K.SocialSecurityNumber="108",K.Router="109",K.Server="110",K.Email="111",K.ApiCredential="112",K.MedicalRecord="113",K.SshKey="114",K.CryptoWallet="115",K.Snippets="116",K.ManagedApplication="912",K))(i$||{});var wg={uuid:A=>typeof A=="string"&&A.length===26,boolean:A=>typeof A=="boolean",string:A=>typeof A=="string",nonEmptyString:A=>wg.string(A)&&A.length>0,array:A=>Array.isArray(A),number:A=>typeof A=="number",stringOrNumber:A=>typeof A=="string"||typeof A=="number",date:A=>wg.stringOrNumber(A)&&!isNaN(Number(new Date(A)))};function Kv(A,e,t){if(A(e))return e;if(t!==void 0)return t;throw new Error(`The "${A.name}" validator found an invalid value.`)}var qU=class{constructor(e){this.uuid=Kv(wg.string,e.uuid,"001"),this.title=Kv(wg.string,e.title,"Unknown"),this.pluralTitle=Kv(wg.string,e.pluralTitle,"Unknown"),this.hasHiddenTemplate=Kv(wg.boolean,e.hasHiddenTemplate,!0),this.disableCreation=Kv(wg.boolean,e.disableCreation,!1),this.hasItems=Kv(wg.boolean,e.hasItems,!1),this.localizedStrings=e.localizedStrings??{}}get iconUuid(){return Object.values(i$).some(e=>e===this.uuid)?this.uuid:"000"}get iconName(){switch(this.iconUuid){case"001":return ui.DefaultIconFile.Login;case"002":return ui.DefaultIconFile.CreditCard;case"003":return ui.DefaultIconFile.SecureNote;case"004":return ui.DefaultIconFile.Identity;case"005":return ui.DefaultIconFile.Password;case"006":return ui.DefaultIconFile.Document;case"100":return ui.DefaultIconFile.SoftwareLicense;case"101":return ui.DefaultIconFile.BankAccount;case"102":return ui.DefaultIconFile.Database;case"103":return ui.DefaultIconFile.DriverLicense;case"104":return ui.DefaultIconFile.OutdoorLicense;case"105":return ui.DefaultIconFile.Membership;case"106":return ui.DefaultIconFile.Passport;case"107":return ui.DefaultIconFile.Rewards;case"108":return ui.DefaultIconFile.SocialSecurityNumber;case"109":return ui.DefaultIconFile.Router;case"110":return ui.DefaultIconFile.Server;case"111":return ui.DefaultIconFile.Email;case"112":return ui.DefaultIconFile.ApiCredentials;case"113":return ui.DefaultIconFile.MedicalRecord;case"114":return ui.DefaultIconFile.Ssh;case"115":return ui.DefaultIconFile.CryptoWallet;case"116":return ui.DefaultIconFile.Snippet;default:return ui.DefaultIconFile.UnknownCategory}}};function EmA(A,e){if(!A||A.length===0)return 0;let t=0;for(let r of A){if(!r)continue;let a=0,j=Sc(r.u);if(!j)continue;let n=j.hostname.split("."),i=n.length-1;for(let o=e.length-1;o>-1&&i>-1&&e[o]===n[i];o--){a++;i--}if(t<a&&(t=a),a===e.length)break}return t}function B3A(A){let e=new URL(A);return e.protocol+"//"+e.host}function $U(A){return A.origin+A.pathname}var q3A=AA(Ln()),NQe=[$r,ti,qj,V6,Zc,Sl],PU=A=>!!A.templateUuid&&(A.templateUuid===$r||A.templateUuid===V6||A.templateUuid===Zc||A.templateUuid===qj&&!!A.overview.URLs&&A.overview.URLs?.length>0),Qt={combine(...A){return function(e){return A.every(t=>t(e))}},invert(A){return function(e){return!A(e)}},if(A,e){return t=>A(t)?e(t):!0},active(A){return A.state===ZA.VaultItem.ItemState.Active},archived(A){return A.state===ZA.VaultItem.ItemState.Archived},managed(A){return A.vault.type===ZA.Vault.TypeManagedApplications},logins(A){return A.templateUuid===$r},passwords(A){return A.templateUuid===V6},loginsAndPasswords(A){return A.templateUuid===$r||A.templateUuid===V6},creditCards(A){return A.templateUuid===qj},identities(A){return A.templateUuid===ti},apiKeys(A){return A.templateUuid===Zc},cryptoWallets(A){return A.templateUuid===BF},sshKeys(A){return A.templateUuid===Sl},vaultTypePersonal(A){return A.vault.type===ZA.Vault.TypePersonal},favorited(A){return!!A.faveIndex&&A.faveIndex>0},fillable(A){return!!A.templateUuid&&NQe.includes(A.templateUuid)},frozenAccountItem(A){return e=>{if(typeof e.vault.localId!="number")return!1;let t=A.accountForVaultID(e.vault.localId);return t?A.frozenAccountIds.includes(t.uuid):!1}},searchBy(A){return e=>UQe(e,A)&&e.state===ZA.VaultItem.ItemState.Active},template(A){return e=>A===e.templateUuid},templates(A){return e=>!!e.templateUuid&&!!A.includes(e.templateUuid)},account(A){return e=>!!e.overview.b5AccountUUID&&e.overview.b5AccountUUID===A},async tabInfo(A){let e=await A.nakedDomain();return t=>PU(t)?(t.overview.URLs??[]).some(j=>j.m==="host"?vU(j.u)?.host===A.URL()?.host:j.m==="never"?!1:t.urlToNakedDomains?.[j.u]===e):Qt.identities(t)||Qt.creditCards(t)||Qt.apiKeys(t)||Qt.sshKeys(t)},nakedDomain(A){return e=>PU(e)&&e.urlToNakedDomains?Object.values(e.urlToNakedDomains).includes(A):!0},userSelected(A,e,t,r){return a=>{if(e)return a.vault.uuid===e.uuid;if(!a.vault.localId)return!1;let j=r.accountForVaultID(a.vault.localId);return j?t?A&&A.isExcluded(t.uuid,a.vault.uuid)?!1:j.uuid===t.uuid:!A?.isExcluded(j.uuid,a.vault.uuid):!1}},tag(A){return e=>{if(!e.overview.tags)return!1;for(let t=0;t<e.overview.tags.length;t++){let r=e.overview.tags[t];if(r.startsWith(A)&&(r.length===A.length||r[A.length]==="/"))return!0}return!1}},usoProviderLogins(A){return e=>Qt.logins(e)&&!Qt.archived(e)&&[e.url,e.overview.url??"",...e.overview.URLs?.map(t=>t.u)??[]].some(t=>t&&hmA(t)===A)}};function l$(A,...e){return!!A&&e.includes(A)}function c$(A,e){return e.some(t=>{let r=(a,j)=>j&&A.templateUuid===a&&A.uuid===j.itemUuid&&A.vault.uuid===j.vaultUuid;return r(ti,t.preferredDetails?.identity)||r(qj,t.preferredDetails?.paymentCard)})}var wi={faved(A,e){return(e.faveIndex??0)-(A.faveIndex??0)},loginsBeforePasswords(A,e,t){if(!A.templateUuid&&!e.templateUuid)return 0;if(A.templateUuid&&!e.templateUuid)return-1;if(!A.templateUuid&&e.templateUuid)return 1;let r=l$(A.templateUuid,"001","005"),a=l$(e.templateUuid,"001","005");return!r&&!a?0:r&&!a?-1:!r&&a?1:A.templateUuid===e.templateUuid?wi.faved(A,e)||(t?t(A,e):0):A.templateUuid==="001"?-1:A.templateUuid==="005"?1:t?t(A,e):0},matchingCardsFirst(A,e){if(!(A.templateUuid&&e.templateUuid))return 0;let t=l$(A.templateUuid,"002"),r=l$(e.templateUuid,"002");if(!t&&!r)return 0;if(t&&!r)return-1;if(!t&&r)return 1;let a=A.overview.URLs!==void 0&&A.overview.URLs.length>0,j=e.overview.URLs!==void 0&&e.overview.URLs.length>0;return a&&j?0:a&&!j?-1:!a&&j?1:0},cardsBeforeIdentities(A,e){if(!(A.templateUuid&&e.templateUuid))return 0;let t=l$(A.templateUuid,"002","004"),r=l$(e.templateUuid,"002","004");return!t&&!r?0:t&&!r?-1:!t&&r?1:A.templateUuid===e.templateUuid?wi.matchingCardsFirst(A,e)||wi.faved(A,e):A.templateUuid==="002"?-1:A.templateUuid==="004"?1:0},localized(A){return(e,t)=>{let r=A.compare(e.title,t.title);return r!==0||e.overview.ainfo&&t.overview.ainfo&&(r=A.compare(e.overview.ainfo,t.overview.ainfo),r!==0)?r:e.uuid<t.uuid?-1:1}},tabInfo(A){let e=A.URL()?.hostname.split(".")||[];return(t,r)=>{let a=EmA(t.overview.URLs,e),j=EmA(r.overview.URLs,e);return a===j?0:a>j?-1:1}},suggestedSort(A){let e=wi.tabInfo(A);return(t,r)=>wi.loginsBeforePasswords(t,r,e)||wi.cardsBeforeIdentities(t,r)},fieldContextSort(A,e,t){let r=(n,i)=>{let o=c$(n,t),s=c$(i,t);return o&&!s?-1:!o&&s?1:0},a=(n,i)=>r(n,i)||wi.faved(n,i)||wi.tabInfo(A)(n,i);if(!e)return a;let j=(n,i)=>{let o=p=>(p.overview.ainfo??"").toLowerCase(),s=e.toLowerCase(),c=o(n),u=o(i);return c===u?0:c===s?-1:u===s?1:0};return(n,i)=>j(n,i)||a(n,i)},vaultSort(A,e){return ZA.Vault.compare(A,e)}},SU=class{constructor(e,t,r,a,j,n){this.allAvailableCategories=e=>{let t=new Set;return this.items(j=>Qt.archived(j)||e&&!e(j)||!j.templateUuid?!1:(t.add(j.templateUuid),!0)),Array.from(t).sort(this.sorter.compare).map(j=>new n$(j,this.templateWithUUID(j)))};this.templateWithUUID=e=>{for(let[,t]of Object.entries(this.templates)){let r=t.find(a=>a.uuid===e);if(r)return r}};this.sorter=new Intl.Collator(q3A.T.set().locale,{sensitivity:"base"}),this.accounts=e,this.usersByAccountUUID=t,this.itemOverviews=r,this.templates=a,this.vaults=j,this.frozenAccountIds=n}items(e,t){let r=this.itemOverviews;e&&(r=this.itemOverviews.filter(e));let a=wi.localized(this.sorter);return r.sort((j,n)=>(t?t(j,n):0)||a(j,n)),r}tags(e,t){let r=this.items(e,t),a=[];for(let j=0;j<r.length;j++){let n=r[j];if(n.overview.tags&&n.overview.tags.length>0)for(let i=0;i<n.overview.tags.length;i++){let o=n.overview.tags[i];a.indexOf(o)===-1&&a.push(o)}}return a}activeItems(e=()=>!0){return this.items(t=>e(t)&&t.state===ZA.VaultItem.ItemState.Active)}archivedItems(e=()=>!0){return this.items(t=>e(t)&&t.state===ZA.VaultItem.ItemState.Archived)}async itemsForTab(e,t,r){let a=await Qt.tabInfo(e),j=t?Qt.combine(t,a):a;return this.fillableItems(j,r)}fillableItems(e,t){let r=[Qt.invert(Qt.archived),Qt.fillable,Qt.invert(Qt.frozenAccountItem(this))];return e&&r.push(e),this.items(Qt.combine(...r),t)}accountWithUUID(e){if(e)return this.accounts.find(t=>t.uuid===e)}vaultWithUUID(e,t){if(!t||!e)return;let r=this.vaults[t];if(r)return r.find(a=>a.uuid===e)}itemWithUUID(e,t){if(!e)return;let r=this.itemOverviews,a=t?n=>n.uuid===e&&n.vault.uuid===t:n=>n.uuid===e;return r.find(a)}itemWithLocalId(e){if(e)return this.itemOverviews.find(t=>e.type==="databaseId"?t.localId===e.data&&!t.cacheInformation:e.type==="cachedItem"?t.uuid===e.data.id&&t.cacheInformation?.provider===e.data.type:void 0)}accountForVaultID(e){for(let t of Object.keys(this.vaults))if(this.vaults[t].find(j=>j.localId===e))return this.accounts.find(j=>j.uuid===t)}userForAccountUUID(e){return this.usersByAccountUUID[e]}totalItemCount(){return this.items().length}categoriesForNewPopup(e,t){let r=new Map,a=e?[e]:Object.keys(this.templates);for(let i of a)for(let o of this.templates[i])r.set(o.uuid,!1);this.items(i=>Qt.archived(i)||t&&i.vault.uuid!==t||!i.vault.localId||e&&this.accountForVaultID(i.vault.localId)?.uuid!==e||!i.templateUuid?!1:(r.set(i.templateUuid,!0),!0));let j=Array.from(r).sort(([i],[o])=>this.sorter.compare(i,o)),n=!1;return j.reduce((i,[o,s],c)=>{let u=this.templateWithUUID(o);return u?i.push(new n$(o,u,s)):n=!0,c===j.length-1&&n&&i.push(new n$("000",void 0,!0)),i},[])}};function UQe(A,e){if(!e||(e=e.toUpperCase(),A.title.toUpperCase().indexOf(e)!==-1))return!0;if(A.overview.URLs)for(let t=0;t<A.overview.URLs.length;t++){let r=A.overview.URLs[t];if(r.u&&r.u.toUpperCase().indexOf(e)!==-1||r.l&&r.l.toUpperCase().indexOf(e)!==-1)return!0}if(A.overview.ainfo&&A.overview.ainfo.toUpperCase().indexOf(e)!==-1)return!0;if(A.overview.tags){for(let t=0;t<A.overview.tags.length;t++)if(A.overview.tags[t].toUpperCase().indexOf(e)!==-1)return!0}return!1}var qmA;(function(A){A[A.Transient=0]="Transient",A[A.Singleton=1]="Singleton",A[A.ResolutionScoped=2]="ResolutionScoped",A[A.ContainerScoped=3]="ContainerScoped"})(qmA||(qmA={}));var qi=qmA;var Y3A=AA(J3A(),1),{__extends:d$,__assign:R7r,__rest:HQe,__decorate:K7r,__param:L7r,__metadata:N7r,__awaiter:Z3A,__generator:Q3A,__exportStar:U7r,__createBinding:H7r,__values:xT,__read:bT,__spread:hp,__spreadArrays:V7r,__await:X7r,__asyncGenerator:W7r,__asyncDelegator:J7r,__asyncValues:Y7r,__makeTemplateObject:Z7r,__importStar:Q7r,__importDefault:Ahr,__classPrivateFieldGet:ehr,__classPrivateFieldSet:thr}=Y3A.default;var ImA="injectionTokens";function PmA(A){var e=Reflect.getMetadata("design:paramtypes",A)||[],t=Reflect.getOwnMetadata(ImA,A)||{};return Object.keys(t).forEach(function(r){e[+r]=t[r]}),e}function yT(A,e){return function(t,r,a){var j=Reflect.getOwnMetadata(ImA,t)||{};j[a]=e?{token:A,transform:e.transformToken,transformArgs:e.args||[]}:A,Reflect.defineMetadata(ImA,j,t)}}function vT(A){return!!A.useClass}function m$(A){return!!A.useFactory}var TU=function(){function A(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return A.prototype.createProxy=function(e){var t=this,r={},a=!1,j,n=function(){return a||(j=e(t.wrap()),a=!0),j};return new Proxy(r,this.createHandler(n))},A.prototype.createHandler=function(e){var t={},r=function(a){t[a]=function(){for(var j=[],n=0;n<arguments.length;n++)j[n]=arguments[n];j[0]=e();var i=Reflect[a];return i.apply(void 0,hp(j))}};return this.reflectMethods.forEach(r),t},A}();function NE(A){return typeof A=="string"||typeof A=="symbol"}function SmA(A){return typeof A=="object"&&"token"in A&&"multiple"in A}function _U(A){return typeof A=="object"&&"token"in A&&"transform"in A}function ALA(A){return typeof A=="function"||A instanceof TU}function Uv(A){return!!A.useToken}function Hv(A){return A.useValue!=null}function eLA(A){return vT(A)||Hv(A)||Uv(A)||m$(A)}var VQe=function(){function A(){this._registryMap=new Map}return A.prototype.entries=function(){return this._registryMap.entries()},A.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},A.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},A.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},A.prototype.setAll=function(e,t){this._registryMap.set(e,t)},A.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},A.prototype.clear=function(){this._registryMap.clear()},A.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},A}(),FT=VQe;var XQe=function(A){d$(e,A);function e(){return A!==null&&A.apply(this,arguments)||this}return e}(FT),tLA=XQe;var WQe=function(){function A(){this.scopedResolutions=new Map}return A}(),CmA=WQe;function JQe(A,e){if(A===null)return"at position #"+e;var t=A.split(",")[e].trim();return'"'+t+'" at position #'+e}function YQe(A,e,t){return t===void 0&&(t="    "),hp([A],e.message.split(`
`).map(function(r){return t+r})).join(`
`)}function OmA(A,e,t){var r=bT(A.toString().match(/constructor\(([\w, ]+)\)/)||[],2),a=r[1],j=a===void 0?null:a,n=JQe(j,e);return YQe("Cannot inject the dependency "+n+' of "'+A.name+'" constructor. Reason:',t)}function rLA(A){if(typeof A.dispose!="function")return!1;var e=A.dispose;return!(e.length>0)}var ZQe=function(A){d$(e,A);function e(){return A!==null&&A.apply(this,arguments)||this}return e}(FT);var QQe=function(A){d$(e,A);function e(){return A!==null&&A.apply(this,arguments)||this}return e}(FT);var AAt=function(){function A(){this.preResolution=new ZQe,this.postResolution=new QQe}return A}(),aLA=AAt;var TmA=new Map,eAt=function(){function A(e){this.parent=e,this._registry=new tLA,this.interceptors=new aLA,this.disposed=!1,this.disposables=new Set}return A.prototype.register=function(e,t,r){r===void 0&&(r={lifecycle:qi.Transient}),this.ensureNotDisposed();var a;if(eLA(t)?a=t:a={useClass:t},Uv(a))for(var j=[e],n=a;n!=null;){var i=n.useToken;if(j.includes(i))throw new Error("Token registration cycle detected! "+hp(j,[i]).join(" -> "));j.push(i);var o=this._registry.get(i);o&&Uv(o.provider)?n=o.provider:n=null}if((r.lifecycle===qi.Singleton||r.lifecycle==qi.ContainerScoped||r.lifecycle==qi.ResolutionScoped)&&(Hv(a)||m$(a)))throw new Error('Cannot use lifecycle "'+qi[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:a,options:r}),this},A.prototype.registerType=function(e,t){return this.ensureNotDisposed(),NE(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},A.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},A.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),NE(e)){if(NE(t))return this.register(e,{useToken:t},{lifecycle:qi.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:qi.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!NE(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:qi.Singleton})},A.prototype.resolve=function(e,t){t===void 0&&(t=new CmA),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&NE(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var a=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,a,"Single"),a}if(ALA(e)){var a=this.construct(e,t);return this.executePostResolutionInterceptor(e,a,"Single"),a}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},A.prototype.executePreResolutionInterceptor=function(e,t){var r,a;if(this.interceptors.preResolution.has(e)){var j=[];try{for(var n=xT(this.interceptors.preResolution.getAll(e)),i=n.next();!i.done;i=n.next()){var o=i.value;o.options.frequency!="Once"&&j.push(o),o.callback(e,t)}}catch(s){r={error:s}}finally{try{i&&!i.done&&(a=n.return)&&a.call(n)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,j)}},A.prototype.executePostResolutionInterceptor=function(e,t,r){var a,j;if(this.interceptors.postResolution.has(e)){var n=[];try{for(var i=xT(this.interceptors.postResolution.getAll(e)),o=i.next();!o.done;o=i.next()){var s=o.value;s.options.frequency!="Once"&&n.push(s),s.callback(e,t,r)}}catch(c){a={error:c}}finally{try{o&&!o.done&&(j=i.return)&&j.call(i)}finally{if(a)throw a.error}}this.interceptors.postResolution.setAll(e,n)}},A.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===qi.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r=e.options.lifecycle===qi.Singleton,a=e.options.lifecycle===qi.ContainerScoped,j=r||a,n;return Hv(e.provider)?n=e.provider.useValue:Uv(e.provider)?n=j?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):vT(e.provider)?n=j?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):m$(e.provider)?n=e.provider.useFactory(this):n=this.construct(e.provider,t),e.options.lifecycle===qi.ResolutionScoped&&t.scopedResolutions.set(e,n),n},A.prototype.resolveAll=function(e,t){var r=this;t===void 0&&(t=new CmA),this.ensureNotDisposed();var a=this.getAllRegistrations(e);if(!a&&NE(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),a){var j=a.map(function(i){return r.resolveRegistration(i,t)});return this.executePostResolutionInterceptor(e,j,"All"),j}var n=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,n,"All"),n},A.prototype.isRegistered=function(e,t){return t===void 0&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},A.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},A.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=xT(this._registry.entries()),a=r.next();!a.done;a=r.next()){var j=bT(a.value,2),n=j[0],i=j[1];this._registry.setAll(n,i.filter(function(o){return!Hv(o.provider)}).map(function(o){return o.instance=void 0,o}))}}catch(o){e={error:o}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},A.prototype.createChildContainer=function(){var e,t;this.ensureNotDisposed();var r=new A(this);try{for(var a=xT(this._registry.entries()),j=a.next();!j.done;j=a.next()){var n=bT(j.value,2),i=n[0],o=n[1];o.some(function(s){var c=s.options;return c.lifecycle===qi.ContainerScoped})&&r._registry.setAll(i,o.map(function(s){return s.options.lifecycle===qi.ContainerScoped?{provider:s.provider,options:s.options}:s}))}}catch(s){e={error:s}}finally{try{j&&!j.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},A.prototype.beforeResolution=function(e,t,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},A.prototype.afterResolution=function(e,t,r){r===void 0&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},A.prototype.dispose=function(){return Z3A(this,void 0,void 0,function(){var e;return Q3A(this,function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(r){var a=r.dispose();a&&e.push(a)}),[4,Promise.all(e)];case 1:return t.sent(),[2]}})})},A.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},A.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},A.prototype.construct=function(e,t){var r=this;if(e instanceof TU)return e.createProxy(function(j){return r.resolve(j,t)});var a=function(){var j=TmA.get(e);if(!j||j.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var n=j.map(r.resolveParams(t,e));return new(e.bind.apply(e,hp([void 0],n)))}();return rLA(a)&&this.disposables.add(a),a},A.prototype.resolveParams=function(e,t){var r=this;return function(a,j){var n,i,o;try{return SmA(a)?_U(a)?a.multiple?(n=r.resolve(a.transform)).transform.apply(n,hp([r.resolveAll(a.token)],a.transformArgs)):(i=r.resolve(a.transform)).transform.apply(i,hp([r.resolve(a.token,e)],a.transformArgs)):a.multiple?r.resolveAll(a.token):r.resolve(a.token,e):_U(a)?(o=r.resolve(a.transform,e)).transform.apply(o,hp([r.resolve(a.token,e)],a.transformArgs)):r.resolve(a,e)}catch(s){throw new Error(OmA(t,j,s))}}},A.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},A}(),rr=new eAt;function tAt(A){return yT(A)}var Vv=tAt;function rAt(){return function(A){TmA.set(A,PmA(A))}}var DU=rAt;function aAt(){return function(A){DU()(A),rr.registerSingleton(A)}}var qu=aAt;if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);var Xv=class{initialize(...e){return this}subscribe(e,t,r){return globalThis.addEventListener(e,t,r),this}unsubscribe(e,t){return globalThis.removeEventListener(e,t),this}};Xv=ed([qu()],Xv);var GT="[GlobalListener]",jLA=new Xa(GT),Wv=class{constructor(){this.options=new Map;this.subscriptions=new Map;this.initialized=!1;this.initialize=this.initialize.bind(this),this.listener=this.listener.bind(this)}getOptions(e,t){let r=this.options.get(e);if(!r)throw new Error(`${GT}: No event registered with type ${e}. Global events must be registered at initial runtime.`);return r.get(t)}getSubscription(e){let t=this.subscriptions.get(e);if(!t)throw new Error(`${GT}: No event registered with type ${e}. Global events must be registered at initial runtime.`);return t}listener(e){let t=this.subscriptions.get(e.type);t&&t.forEach(r=>{r(e),this.getOptions(e.type,r)?.once&&this.unsubscribe(e.type,r)})}initialize(...e){return this.initialized?(jLA.warn(`Attempted to initialize with events: ${e.join()}, but was already initialized`),this):(e.forEach(t=>{this.subscriptions.has(t)||(this.subscriptions.set(t,new Set),this.options.set(t,new WeakMap),globalThis.addEventListener(t,this.listener))}),this.initialized=!0,this)}subscribe(e,t,r){let a=this.subscriptions.get(e);if(!a)throw new Error(`${GT}: No event registered with type ${e}. Global events must be registered at initial runtime.`);return a.has(t)?jLA.warn(`Duplicate listener attempted to register for event ${e}`):(a.add(t),r&&this.options.get(e)?.set(t,r)),this}unsubscribe(e,t){let r=this.getSubscription(e);if(!r.has(t))throw new Error(`${GT}: Cannot unsubscribe listener to event ${e}: listener is not subscribed to event ${e}`);return r.delete(t),this.options.get(e)?.delete(t),this}};Wv=ed([qu()],Wv);var $u="GlobalListener",_mA=()=>rr.resolve($u),uo={initialize:(...A)=>_mA().initialize(...A),subscribe:(A,e,t)=>_mA().subscribe(A,e,t),unsubscribe:(A,e)=>_mA().unsubscribe(A,e)};var jAt="SessionStorage",DmA="context-initialization",zmA=A=>wT().get(A),zU=A=>{if(!A){console.warn("Missing data when attempting to set cache");return}let e=wT(),t=zmA(A.accountUuid),r={...A,session:A.session||t?.session,srpX:A.srpX||t?.srpX};e.set(r.accountUuid,r),lLA(e)},nLA=(A,e,t)=>{let r=zmA(A);r&&(r.session=e,r.srpX=t,zU(r))},iLA=(A,e)=>{let t=zmA(A);t&&t.session&&(t.session={...t.session,requestID:e},zU(t))},oLA=A=>{let e=wT();e.delete(A),lLA(e)},sLA=()=>MmA().removeItem(DmA),wT=()=>{let A=MmA().getItem(DmA);return A?new Map(JSON.parse(atob(A))):new Map},lLA=A=>{MmA().setItem(DmA,btoa(JSON.stringify([...A])))},MmA=()=>rr.resolve(jAt);var iAt={"test-pre-reg-feature":!1,"b5x-sso-unlock":!1,"b5x-safari-biometry":!1,"b5x-account-hydration":!1},p$=Object.keys(iAt);var qg={"account-test-feature":!1,"b2b-individual-vault-reporting":!1,"xam-dvr-hpke-encryption":!1,"b5x-autosave-identities":!1,"b5x-autosave-suggested-password":!1,"b5x-autosave-totp":!1,"b5x-b2b-telemetry-data-collection":!1,"b5x-equal-inline-width":!1,"b5x-ignore-autocomplete-off-identities":!1,"b5x-next-gen-inline":!1,"b5x-recollect-fields-for-identities":!1,"b5x-telemetry-data-collection":!1,"core-date-time-localization":!1,"hide-lastpass-importer-metadata-vault":!1,"b5x-fix-filling-events":!1,"b2b-complete-trust-identity":!1,"b5x-new-accounts-and-vaults":!1,"b5x-filling-saving-telemetry":!1,"b5x-watchtower-breach-notification":!0,"securityDevelopment-passkeyPRF":!1,"securityDevelopment-autolock-extendedDurationOptions":!1,"b5x-single-pane-popup":!1,"b5x-extension-survey-q4-2024":!1,"core-securityDevelopment-sync-notifierConnection":!1,"frameworks-autolock-longerDefault":!1,"telemetry-feature-flag-context":!1,"b5x-trusted-mouse-down-events":!1,"b5x-client-performance-tracing":!1,"auth-self-serve-migration-v1":!1,"b5x-metric-gate-inline-menu-render":!1,"b5x-a-a-test":!1,"b5x-inline-menu-prominent-cta":!1,"b5x-auto-lock-policies":!1,"experiment-b5x-a-a-test-all-users-20241128":!1,"experiment-b5x-inline-menu-prominent-cta-all-users-20241128":!1},UE=Object.keys(qg);function RmA(A,e,t,r){function a(j){return j instanceof t?j:new t(function(n){n(j)})}return new(t||(t=Promise))(function(j,n){function i(c){try{s(r.next(c))}catch(u){n(u)}}function o(c){try{s(r.throw(c))}catch(u){n(u)}}function s(c){c.done?j(c.value):a(c.value).then(i,o)}s((r=r.apply(A,e||[])).next())})}function KmA(A,e){var t={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},r,a,j,n;return n={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function i(s){return function(c){return o([s,c])}}function o(s){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,a&&(j=s[0]&2?a.return:s[0]?a.throw||((j=a.return)&&j.call(a),0):a.next)&&!(j=j.call(a,s[1])).done)return j;switch(a=0,j&&(s=[s[0]&2,j.value]),s[0]){case 0:case 1:j=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,a=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(j=t.trys,!(j=j.length>0&&j[j.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!j||s[1]>j[0]&&s[1]<j[3])){t.label=s[1];break}if(s[0]===6&&t.label<j[1]){t.label=j[1],j=s;break}if(j&&t.label<j[2]){t.label=j[2],t.ops.push(s);break}j[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(A,t)}catch(c){s=[6,c],a=0}finally{r=j=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function MU(A,e){var t=typeof Symbol=="function"&&A[Symbol.iterator];if(!t)return A;var r=t.call(A),a,j=[],n;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)j.push(a.value)}catch(i){n={error:i}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(n)throw n.error}}return j}function Zv(A,e,t){if(t||arguments.length===2)for(var r=0,a=e.length,j;r<a;r++)(j||!(r in e))&&(j||(j=Array.prototype.slice.call(e,0,r)),j[r]=e[r]);return A.concat(j||Array.prototype.slice.call(e))}var oAt={withStackTrace:!1},uLA=function(A,e,t){t===void 0&&(t=oAt);var r=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},a=t.withStackTrace?new Error().stack:void 0;return{data:r,message:A,stack:a}},k$=function(){function A(e){this._promise=e}return A.fromSafePromise=function(e){var t=e.then(function(r){return new Jv(r)});return new A(t)},A.fromPromise=function(e,t){var r=e.then(function(a){return new Jv(a)}).catch(function(a){return new Yv(t(a))});return new A(r)},A.combine=function(e){return lAt(e)},A.combineWithAllErrors=function(e){return cAt(e)},A.prototype.map=function(e){var t=this;return new A(this._promise.then(function(r){return RmA(t,void 0,void 0,function(){var a;return KmA(this,function(j){switch(j.label){case 0:return r.isErr()?[2,new Yv(r.error)]:(a=Jv.bind,[4,e(r.value)]);case 1:return[2,new(a.apply(Jv,[void 0,j.sent()]))]}})})}))},A.prototype.mapErr=function(e){var t=this;return new A(this._promise.then(function(r){return RmA(t,void 0,void 0,function(){var a;return KmA(this,function(j){switch(j.label){case 0:return r.isOk()?[2,new Jv(r.value)]:(a=Yv.bind,[4,e(r.error)]);case 1:return[2,new(a.apply(Yv,[void 0,j.sent()]))]}})})}))},A.prototype.andThen=function(e){return new A(this._promise.then(function(t){if(t.isErr())return new Yv(t.error);var r=e(t.value);return r instanceof A?r._promise:r}))},A.prototype.orElse=function(e){var t=this;return new A(this._promise.then(function(r){return RmA(t,void 0,void 0,function(){return KmA(this,function(a){return r.isErr()?[2,e(r.error)]:[2,new Jv(r.value)]})})}))},A.prototype.match=function(e,t){return this._promise.then(function(r){return r.match(e,t)})},A.prototype.unwrapOr=function(e){return this._promise.then(function(t){return t.unwrapOr(e)})},A.prototype.then=function(e,t){return this._promise.then(e,t)},A}();var cLA=function(A){return new k$(Promise.resolve(new Yv(A)))},gfr=k$.fromPromise,ffr=k$.fromSafePromise,sAt=function(A){return function(e){return Zv(Zv([],MU(e),!1),[A],!1)}},dLA=function(A){return A.reduce(function(e,t){return e.isOk()?t.isErr()?Pe(t.error):e.map(sAt(t.value)):e},vt([]))},lAt=function(A){return k$.fromSafePromise(Promise.all(A)).andThen(dLA)},mLA=function(A){return A.reduce(function(e,t){return t.isErr()?e.isErr()?Pe(Zv(Zv([],MU(e.error),!1),[t.error],!1)):Pe([t.error]):e.isErr()?e:vt(Zv(Zv([],MU(e.value),!1),[t.value],!1))},vt([]))},cAt=function(A){return k$.fromSafePromise(Promise.all(A)).andThen(mLA)},Qv;(function(A){function e(a,j){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{var o=a.apply(void 0,Zv([],MU(n),!1));return vt(o)}catch(s){return Pe(j?j(s):s)}}}A.fromThrowable=e;function t(a){return dLA(a)}A.combine=t;function r(a){return mLA(a)}A.combineWithAllErrors=r})(Qv||(Qv={}));var vt=function(A){return new Jv(A)},Pe=function(A){return new Yv(A)},Jv=function(){function A(e){this.value=e}return A.prototype.isOk=function(){return!0},A.prototype.isErr=function(){return!this.isOk()},A.prototype.map=function(e){return vt(e(this.value))},A.prototype.mapErr=function(e){return vt(this.value)},A.prototype.andThen=function(e){return e(this.value)},A.prototype.orElse=function(e){return vt(this.value)},A.prototype.asyncAndThen=function(e){return e(this.value)},A.prototype.asyncMap=function(e){return k$.fromSafePromise(e(this.value))},A.prototype.unwrapOr=function(e){return this.value},A.prototype.match=function(e,t){return e(this.value)},A.prototype._unsafeUnwrap=function(e){return this.value},A.prototype._unsafeUnwrapErr=function(e){throw uLA("Called `_unsafeUnwrapErr` on an Ok",this,e)},A}(),Yv=function(){function A(e){this.error=e}return A.prototype.isOk=function(){return!1},A.prototype.isErr=function(){return!this.isOk()},A.prototype.map=function(e){return Pe(this.error)},A.prototype.mapErr=function(e){return Pe(e(this.error))},A.prototype.andThen=function(e){return Pe(this.error)},A.prototype.orElse=function(e){return e(this.error)},A.prototype.asyncAndThen=function(e){return cLA(this.error)},A.prototype.asyncMap=function(e){return cLA(this.error)},A.prototype.unwrapOr=function(e){return e},A.prototype.match=function(e,t){return t(this.error)},A.prototype._unsafeUnwrap=function(e){throw uLA("Called `_unsafeUnwrap` on an Err",this,e)},A.prototype._unsafeUnwrapErr=function(e){return this.error},A}(),Bfr=Qv.fromThrowable;var mi={};Na(mi,{activeTab:()=>ca,activeTabs:()=>Xg,addAccountPrompt:()=>jX,addAccountPromptNotification:()=>lZA,allTabs:()=>kx,blurActiveField:()=>ZkA,captureVisibleTab:()=>iZA,clickUsoProviderButton:()=>SkA,closeMigration:()=>G7A,closeSsoTab:()=>C_,collectUsoProviders:()=>PkA,computeSuggestions:()=>AX,createTabSpecificContextMenus:()=>FkA,currentWindow:()=>RpA,decodeTotpQrCode:()=>oZA,downloadData:()=>n8,executeScript:()=>kZA,getFrameInfoFromContentScript:()=>z_,getTab:()=>xl,getTabForB5AccountCreation:()=>O7A,handleCollectedPageDetails:()=>b7A,handleOpenImportPage:()=>T7A,handleOpenTab:()=>$7A,injectInlineCSS:()=>sZA,isBrowserFocused:()=>m7A,isCreditCardField:()=>S7A,isEmptyPageURL:()=>h7A,isIdentityField:()=>C7A,isInAccountCreationOnboarding:()=>M_,notifyActiveTabsCanRequestUnlockChanged:()=>P7A,notifyActiveTabsInlineMenuRefresh:()=>Fp,notifyActiveTabsLockStateChanged:()=>d_,notifyFrozenAccountInfoChanged:()=>k7A,notifySettingsChanged:()=>TkA,openAccountProfilePage:()=>PV,openB5Tab:()=>Rg,openBenchmarking:()=>v7A,openBrowserTab:()=>r_,openChangelog:()=>j7A,openContactFormWithDiagnostics:()=>y7A,openEmailPreferencesPage:()=>n7A,openErrorMessage:()=>XE,openHelp:()=>Hit,openHomePage:()=>_7A,openHomePageInB5Web:()=>hZA,openImportPage:()=>tX,openIntegrationsPage:()=>_kA,openItemForSharing:()=>gkA,openItemInB5:()=>jx,openItemUrl:()=>k_,openMfaTab:()=>HkA,openMigration:()=>F7A,openMigrationEnforcement:()=>A7A,openNewItemPage:()=>QkA,openSettings:()=>O$,openWatchtowerSection:()=>XH,openWithData:()=>qV,removeInlineExclusionOnActiveTab:()=>I7A,requestFillAuthorization:()=>T0,scanTotpQrCode:()=>e_,showInlineInFirstLoginField:()=>p7A,showPrivacyIntegrationPage:()=>Vit,showReadyToGoPage:()=>w7A,showWelcomePage:()=>Jg,showWelcomePageInOnboardingTab:()=>q7A,showWhatsNewPrivacyBlogPost:()=>Xit});var RU=AA(Wr());function $g(A){if(!A)return!1;A=A.toLowerCase();let e=["1password.ca","1password.com","1password.eu","b5dev.ca","b5dev.com","b5dev.eu","b5local.com","b5staging.com","b5test.ca","b5test.com","b5test.eu","b5rev.com"];for(let t of e)if(A===t||A.endsWith("."+t))return!0;return!1}var LmA=(...A)=>{if(A.length===0)return"";if(A.length===1)return A[0];let e=A.shift();if(e){for(let t of A)t.length!==0&&(e.slice(-1)==="/"&&t.charAt(0)==="/"?e=e+t.slice(1):e.slice(-1)==="/"||t.charAt(0)==="/"?e=e+t:e=e+"/"+t);return e}return""},uAt=A=>{let e=atob(A.split(",")[1]),t=A.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),a=new Uint8Array(r);for(let j=0;j<e.length;j++)a[j]=e.charCodeAt(j);return new Blob([r],{type:t})};async function pLA(A){let e=uAt(A);return $j()?dAt(e):mAt(e)}async function dAt(A){let e=await createImageBitmap(A),r=new OffscreenCanvas(e.width,e.height).getContext("2d");if(!r)throw Error("Unable to retrieve 2d context");return r.drawImage(e,0,0),{imageData:r.getImageData(0,0,e.width,e.height),width:e.width,height:e.height}}async function mAt(A){let e=URL.createObjectURL(A);return new Promise(t=>{let r=document.createElement("canvas"),a=r.getContext("2d");if(a){let j=new Image;j.addEventListener("load",()=>{r.width=j.width,r.height=j.height,a.drawImage(j,0,0,r.width,r.height),t({imageData:a.getImageData(0,0,r.width,r.height),width:r.width,height:r.height})},!1),j.src=e}})}function qT(A){try{let e=new URL(A);return e.protocol===`${RU.ValidOtpSchemes.OtpAuth}:`||e.protocol===`${RU.ValidOtpSchemes.Yjotp}:`||e.protocol===`${RU.ValidOtpSchemes.AppleOtpAuth}:`}catch{return!1}}var kLA=()=>{let t=0;return oj()?t=25:t=22,{width:600,height:450+t}};async function NmA(A,e){for(let t of A)if(await e(t))return t}function hLA(A){let e=[];for(let t of A){if(t.isErr())return Pe(t.error);e.push(t.value)}return vt(e)}var HE=AA(Wr());var $T=Object.values(HE.UsoProvider);var gLA={disabled:!0,"fallback-requested":!0,"missing-url":!0,"missing-public-key":!0,"unexpected-response":!0,"port-error":!0,timeout:!0,unauthorized:!0,unknown:!0,"user-cancelled":!0,"vault-data-failed":!0,"messenger-error":!0,"internal-error":!0},fLA={...gLA,"create-passkey-failed":!0,duplicate:!0,"preview-failed":!0,"save-passkey-failed":!0},BLA={...gLA,"authenticating-failed":!0,"bad-rp-id":!0,"conflicting-state":!0,"corrupted-item":!0,"missing-cached-id":!0,"missing-item":!0,"vault-icons-failed":!0};var IT=(r=>(r.Login="login",r.CreditCard="creditCard",r.Identity="identity",r))(IT||{}),Cc={login:{priority:0,setting:"autoSaveEnabled",templateUuid:$r,triggers:[HE.AutofillType.CurrentPassword,HE.AutofillType.NewPassword]},creditCard:{priority:1,setting:"autoSaveCreditCardsEnabled",templateUuid:qj,triggers:[HE.AutofillType.CcNumber]},identity:{featureFlag:"b5x-autosave-identities",priority:2,setting:"autoSaveIdentitiesEnabled",templateUuid:ti,triggers:[HE.AutofillType.AddressLine1,HE.AutofillType.StreetAddress]}};var To=AA(Wr());var KU=(A,e)=>e.some(t=>A instanceof t),ELA,xLA;function pAt(){return ELA||(ELA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kAt(){return xLA||(xLA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bLA=new WeakMap,HmA=new WeakMap,yLA=new WeakMap,UmA=new WeakMap,PT=new WeakMap;function hAt(A){let e=new Promise((t,r)=>{let a=()=>{A.removeEventListener("success",j),A.removeEventListener("error",n)},j=()=>{t(gp(A.result)),a()},n=()=>{r(A.error),a()};A.addEventListener("success",j),A.addEventListener("error",n)});return e.then(t=>{t instanceof IDBCursor&&bLA.set(t,A)}).catch(()=>{}),PT.set(e,A),e}function gAt(A){if(HmA.has(A))return;let e=new Promise((t,r)=>{let a=()=>{A.removeEventListener("complete",j),A.removeEventListener("error",n),A.removeEventListener("abort",n)},j=()=>{t(),a()},n=()=>{r(A.error||new DOMException("AbortError","AbortError")),a()};A.addEventListener("complete",j),A.addEventListener("error",n),A.addEventListener("abort",n)});HmA.set(A,e)}var VmA={get(A,e,t){if(A instanceof IDBTransaction){if(e==="done")return HmA.get(A);if(e==="objectStoreNames")return A.objectStoreNames||yLA.get(A);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return gp(A[e])},set(A,e,t){return A[e]=t,!0},has(A,e){return A instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in A}};function LU(A){VmA=A(VmA)}function fAt(A){return A===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=A.call(h$(this),e,...t);return yLA.set(r,e.sort?e.sort():[e]),gp(r)}:kAt().includes(A)?function(...e){return A.apply(h$(this),e),gp(bLA.get(this))}:function(...e){return gp(A.apply(h$(this),e))}}function BAt(A){return typeof A=="function"?fAt(A):(A instanceof IDBTransaction&&gAt(A),KU(A,pAt())?new Proxy(A,VmA):A)}function gp(A){if(A instanceof IDBRequest)return hAt(A);if(UmA.has(A))return UmA.get(A);let e=BAt(A);return e!==A&&(UmA.set(A,e),PT.set(e,A)),e}var h$=A=>PT.get(A);function NU(A,e,{blocked:t,upgrade:r,blocking:a,terminated:j}={}){let n=indexedDB.open(A,e),i=gp(n);return r&&n.addEventListener("upgradeneeded",o=>{r(gp(n.result),o.oldVersion,o.newVersion,gp(n.transaction),o)}),t&&n.addEventListener("blocked",o=>t(o.oldVersion,o.newVersion,o)),i.then(o=>{j&&o.addEventListener("close",()=>j()),a&&o.addEventListener("versionchange",s=>a(s.oldVersion,s.newVersion,s))}).catch(()=>{}),i}function FLA(A,{blocked:e}={}){let t=indexedDB.deleteDatabase(A);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),gp(t).then(()=>{})}var EAt=["get","getKey","getAll","getAllKeys","count"],xAt=["put","add","delete","clear"],XmA=new Map;function vLA(A,e){if(!(A instanceof IDBDatabase&&!(e in A)&&typeof e=="string"))return;if(XmA.get(e))return XmA.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,a=xAt.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||EAt.includes(t)))return;let j=async function(n,...i){let o=this.transaction(n,a?"readwrite":"readonly"),s=o.store;return r&&(s=s.index(i.shift())),(await Promise.all([s[t](...i),a&&o.done]))[0]};return XmA.set(e,j),j}LU(A=>({...A,get:(e,t,r)=>vLA(e,t)||A.get(e,t,r),has:(e,t)=>!!vLA(e,t)||A.has(e,t)}));var bAt=["continue","continuePrimaryKey","advance"],GLA={},WmA=new WeakMap,qLA=new WeakMap,yAt={get(A,e){if(!bAt.includes(e))return A[e];let t=GLA[e];return t||(t=GLA[e]=function(...r){WmA.set(this,qLA.get(this)[e](...r))}),t}};async function*vAt(...A){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...A)),!e)return;e=e;let t=new Proxy(e,yAt);for(qLA.set(t,e),PT.set(t,h$(e));e;)yield t,e=await(WmA.get(t)||e.continue()),WmA.delete(t)}function wLA(A,e){return e===Symbol.asyncIterator&&KU(A,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&KU(A,[IDBIndex,IDBObjectStore])}LU(A=>({...A,get(e,t,r){return wLA(e,t)?vAt:A.get(e,t,r)},has(e,t){return wLA(e,t)||A.has(e,t)}}));var $LA="b5x",ps="accounts",A0="keysets",ks="vaults",Iu="items",Ig="item-details",fp="item-usage",Pg="item-templates",ST="device",CT="icons",e0="cache",t0="policies",JmA="a_by_uuid",UU="k_by_account_id",YmA="v_by_uuid",ZmA="v_by_account_id",QmA="v_by_account_id_and_type",ILA="i_by_uuid",ApA="i_by_account_id",epA="i_by_vault_id",PLA="d_by_account_id",tpA="u_by_account_id",HU="t_by_account_id",rpA="f_by_file_id",SLA="c_by_account_id",apA="c_by_account_id_type",CLA="p_by_account_uuid",g$=class A{constructor(e){this.saveEncryptedCache=async e=>{let r=this.db.transaction(e0,"readwrite").objectStore(e0),j=await r.index(apA).getKey([e.account_id,e.type]);return j?r.put(e,j):r.put(e)};this.getEncryptedCache=async(e,t)=>this.db.transaction(e0,"readonly").objectStore(e0).index(apA).get([e,t]);this.saveAccount=async e=>{let a=await this.db.transaction(ps,"readwrite").objectStore(ps).put(e);e.id=a};this.getAllAccounts=async()=>(await this.db.transaction(ps,"readonly").objectStore(ps).getAll()).sort((a,j)=>(a.id??0)-(j.id??0));this.findAccountByUUID=e=>this.db.transaction(ps,"readonly").objectStore(ps).index(JmA).get(e);this.deleteAccountWithUUID=async e=>{let t=await this.findAccountByUUID(e);if(t){if(!t?.id)return Promise.reject(new Error("Unable to delete account. Account id is undefined."))}else return Promise.reject(new Error("Unable to delete account. Account with the given UUID could not be found."));let r=this.db.transaction([ps,A0,ks,Iu,Ig,Pg,fp,e0],"readwrite");r.objectStore(ps).delete(t.id);let j=r.objectStore(A0),n=j.index(UU);for await(let $ of n.iterate(IDBKeyRange.only(t.id))){if(!$)break;j.delete($.primaryKey)}let i=r.objectStore(ks),o=i.index(ZmA);for await(let $ of o.iterate(IDBKeyRange.only(t.id))){if(!$)break;i.delete($.primaryKey)}let s=r.objectStore(Iu);s.index(ApA).getAllKeys(IDBKeyRange.only(t.id)).then($=>{for(let T of $)s.delete(T)});let u=r.objectStore(Ig);u.index(PLA).getAllKeys(IDBKeyRange.only(t.id)).then($=>{for(let T of $)u.delete(T)});let h=r.objectStore(Pg);h.index(HU).getAllKeys(IDBKeyRange.only(t.id)).then($=>{for(let T of $)h.delete(T)});let G=r.objectStore(fp);G.index(tpA).getAllKeys(IDBKeyRange.only(t.id)).then($=>{for(let T of $)G.delete(T)});let y=r.objectStore(e0),E=y.index(SLA);for(let $ of await E.getAllKeys(IDBKeyRange.only(t.id)))y.delete($);await r.done};this.getKeysetsForAccount=e=>this.db.transaction(A0,"readonly").objectStore(A0).index(UU).getAll(e);this.replaceAccountKeysets=(e,t)=>{let r=this.db.transaction([ps,A0],"readwrite"),a=r.objectStore(ps),j=r.objectStore(A0);j.index(UU).getAllKeys(IDBKeyRange.only(e.id)).then(i=>{for(let o of i)j.delete(o)});for(let i of t.keysets)i.account_id=e.id,j.put(i);return e.keysetVersion=t.version,a.put(e),r.done};this.resetAccountKeysets=e=>this.replaceAccountKeysets(e,{version:0,keysets:[]});this.getAllVaultsForAccount=e=>this.db.transaction(ks,"readonly").objectStore(ks).index(ZmA).getAll(e);this.getVaultWithUUID=(e,t)=>this.db.transaction(ks,"readonly").objectStore(ks).index(YmA).get([e,t]);this.getGeneratedPasswordVault=async e=>{let j=await this.db.transaction(ks,"readonly").objectStore(ks).index(QmA).get([e,"G"]);if(j)return Array.isArray(j)?j[0]:j};this.getSystemVault=async e=>{let r=await this.db.transaction(ks,"readonly").objectStore(ks).index(QmA).get([e,ZA.Vault.TypeSystem]);if(r)return Array.isArray(r)?r[0]:r};this.getAccountUUIDForVaultUUID=async e=>{let t=this.db.transaction([ps,ks],"readonly"),r=t.objectStore(ps),j=t.objectStore(ks).index(YmA),n=await r.getAllKeys();for(let i of n){if(!await j.get([i,e]))continue;let s=await r.get(i);return s?s.uuid:void 0}};this.hasGeneratedPasswordVault=async e=>!!await this.getGeneratedPasswordVault(e);this.hasSystemVault=async e=>!!await this.getSystemVault(e);this.saveVault=async e=>{let a=await this.db.transaction(ks,"readwrite").objectStore(ks).put(e);return e.id=a,e};this.deleteVault=async e=>{let t=this.db.transaction([ks,Iu,Ig],"readwrite");t.objectStore(ks).delete(e);let a=t.objectStore(Iu),j=t.objectStore(Ig);return a.index(epA).getAllKeys(IDBKeyRange.only(e)).then(i=>{for(let o of i)a.delete(o),j.delete(o)}),t.done};this.getItem=async e=>{let t=this.db.transaction([Iu,Ig],"readonly"),r=t.objectStore(Iu),a=t.objectStore(Ig),[j,n]=await Promise.all([r.get(e),a.get(e)]);if(j)return j.encDetails=n,j};this.updateItemsFromServer=async(e,t)=>{let r=this.db.transaction([ks,Iu,Ig],"readwrite"),a=r.objectStore(ks),j=r.objectStore(Iu),n=r.objectStore(Ig),i=j.index(ILA);if(!e?.id)return Promise.reject(new Error("Unable to update items from server. Given vault has undefined ID."));if(t.deletedItemUuids)for(let o of t.deletedItemUuids){let s=await i.getKey([e.id,o]);s&&(await j.delete(s),await n.delete(s))}if(t.items)for(let o of t.items){let s={account_id:e.account_id,vault_id:e.id,...o};if(s.packageUuid===""&&delete s.packageUuid,!s.encDetails)continue;let c={account_id:s.account_id,...s.encDetails};delete s.encDetails;let u=await i.getKey([e.id,s.uuid]);u&&(s.id=u),u=await j.put(s),await n.put(c,u)}return e.contentVersion=t.contentVersion,await a.put(e),r.done};this.getItemOverviewsForAccount=async e=>this.db.transaction(Iu,"readonly").objectStore(Iu).index(ApA).getAll(e);this.getItemOverviewsForVault=async e=>this.db.transaction(Iu,"readonly").objectStore(Iu).index(epA).getAll(e);this.markItemUsed=async(e,t,r,a)=>{let n=this.db.transaction([fp],"readwrite").objectStore(fp),i={account_id:e,item_uuid:t.uuid,vault_uuid:r.uuid,used_at:Date.now(),used_version:t.itemVersion,action:a};await n.put(i)};this.findItemUsageRequiringSync=async e=>{let a=this.db.transaction([fp],"readonly").objectStore(fp).index(tpA),j=[];for await(let n of a.iterate(IDBKeyRange.only(e))){if(!n)break;let i=n.value;i.id=n.primaryKey,j.push(i)}return j};this.markItemUsageSynced=async e=>{let r=this.db.transaction([fp],"readwrite").objectStore(fp);for(let a of e)a?.id&&await r.delete(a.id)};this.saveTemplates=async(e,t)=>{let r=this.db.transaction([ps,Pg],"readwrite"),a=r.objectStore(ps),j=r.objectStore(Pg),n=j.index(HU),i=t.templates,o=await n.getAll(e.id),s=[],c=o.filter(u=>!i.find(p=>p.uuid===u.uuid));for(let u of c)u?.id&&s.push(j.delete(u.id));for(let u of i){u.account_id=e.id;let p=o.find(h=>u.uuid===h.uuid);p?(u.id=p.id,u.account_id=p.account_id,s.push(j.put(u))):(u.account_id=e.id,s.push(j.put(u)))}return await Promise.all(s),Jo({languageChanged:!1}),e.templateVersion=t.version,await a.put(e),r.done};this.getTemplates=e=>this.db.transaction(Pg,"readonly").objectStore(Pg).index(HU).getAll(e);this.getAllTemplates=()=>this.db.transaction(Pg,"readonly").objectStore(Pg).getAll();this.getDeviceUUID=async()=>{let t=this.db.transaction(ST,"readwrite").objectStore(ST),r=await t.getAll();if(r&&r.length>0)return r[0].uuid;let a=F.generateUUID();return await t.put({uuid:a}),a};this.getSWEDeviceUUID=async()=>{let r=await this.db.transaction(ST,"readwrite").objectStore(ST).getAll();if(r&&r.length>0)return r[0].uuid};this.saveIcon=async(e,t)=>{let a=this.db.transaction(CT,"readwrite").objectStore(CT);await a.index(rpA).count(e)<1&&a.put({fileId:e,encryptedFile:t})};this.getIcon=async e=>{let j=await this.db.transaction(CT,"readonly").objectStore(CT).index(rpA).get(e);return j?j.encryptedFile:null};this.saveAccountPolicies=async(e,t)=>{let a=this.db.transaction(t0,"readwrite").objectStore(t0);for(let j of t)await a.put({...j,account_uuid:e})};this.getAccountPolicies=e=>this.db.transaction(t0,"readonly").objectStore(t0).index(CLA).getAll(e);this.savePoliciesVersionForAccount=async(e,t)=>{let a=this.db.transaction(ps,"readwrite").objectStore(ps),n=await a.index(JmA).get(e);n&&(n.policiesVersion=t,await a.put(n))};this.resetDatabase=async()=>{this.db.close(),await FLA($LA)};this.db=e}static{this.open=async e=>{let r=await NU($LA,12,{upgrade:async(a,j)=>{switch(console.info(`Upgrading database from version ${j} to 12.`,a),j){case 0:let n=a.createObjectStore(ps,{keyPath:"id",autoIncrement:!0}),i=a.createObjectStore(A0,{keyPath:"id",autoIncrement:!0}),o=a.createObjectStore(ks,{keyPath:"id",autoIncrement:!0}),s=a.createObjectStore(Iu,{keyPath:"id",autoIncrement:!0}),c=a.createObjectStore(Ig);n.createIndex(JmA,"uuid",{unique:!0}),i.createIndex(UU,"account_id"),o.createIndex(YmA,["account_id","uuid"],{unique:!0}),o.createIndex(ZmA,"account_id"),o.createIndex(QmA,["account_id","type"]),s.createIndex(ILA,["vault_id","uuid"],{unique:!0}),s.createIndex(epA,"vault_id"),s.createIndex(ApA,"account_id"),c.createIndex(PLA,"account_id");case 2:a.createObjectStore(Pg,{keyPath:"id",autoIncrement:!0}).createIndex(HU,"account_id");case 3:a.createObjectStore(ST,{keyPath:"id",autoIncrement:!0});case 4:a.createObjectStore(CT,{keyPath:"id",autoIncrement:!0}).createIndex(rpA,"fileId",{unique:!0});case 8:let h=a;h.objectStoreNames.contains("device-keys")&&h.deleteObjectStore("device-keys"),h.objectStoreNames.contains("public-device-keys")&&h.deleteObjectStore("public-device-keys");case 9:let f=a.createObjectStore(e0,{autoIncrement:!0});f.createIndex(SLA,"account_id"),f.createIndex(apA,["account_id","type"],{unique:!0});case 10:a.objectStoreNames.contains(fp)&&a.deleteObjectStore(fp),a.createObjectStore(fp,{autoIncrement:!0}).createIndex(tpA,"account_id");case 11:a.objectStoreNames.contains(t0)&&a.deleteObjectStore(t0),a.createObjectStore(t0,{keyPath:["policyContext","policyName"]}).createIndex(CLA,"account_uuid")}},terminated(){console.error("\u{1F494} The browser closed our database connection for reasons beyond our control."),e&&e()},blocked(){console.error("\u{1F494} The database connection was blocked by a lower version connection still being open.")}});return r.addEventListener("versionchange",a=>{console.error("\u{1F494} This database connection is blocking newer versions from connecting."),console.error("event.dataLoss:",a.dataLoss),console.error("event.dataLossMessage:",a.dataLossMessage)}),new A(r)}}async checkThatDatabaseIsAvailable(){try{return this.db.transaction(ps,"readonly").objectStore(ps).count(),!0}catch{return!1}}};function jpA(A){let e=`${A} not yet initialized. Try awaiting for this.init() to resolve before calling.`,t=new F.LoggableError({errorClass:F.logsafe.assertLogSafe("BrowserStorage"),message:F.logsafe.assertLogSafe(e)});return ht(t),t}var XU=class{constructor(e,t){this._getStorage=()=>{switch(this._storageType){case"PersistentStorage":return browser.storage.local;default:return browser.storage.session}};this._storageType=e,this._initError=t}async init(){return this._initPromise?this._initPromise.then(()=>this):(this._initPromise=new Promise(async e=>{console.info(`[BackgroundStorage] Using browser.storage.${this._storageType.replace("Storage","").toLowerCase()}`);let t=this._getStorage();this._memoryStore=await t.get(),t.setAccessLevel&&t.setAccessLevel({accessLevel:"TRUSTED_CONTEXTS"}),e(void 0)}),this._initPromise.then(()=>this))}async reconcileItems(){this._memoryStore=await this._getStorage().get()}getItem(e){if(!this._memoryStore)throw this._initError(this._storageType);return this._memoryStore[e]??void 0}setItem(e,t){if(!this._memoryStore)throw this._initError(this._storageType);let r=this._memoryStore[e];this._memoryStore[e]=t,this._getStorage().set({[e]:t}).catch(()=>{this._memoryStore={...this._memoryStore,[e]:r}})}removeItem(e){if(!this._memoryStore)throw this._initError(this._storageType);let t=this._memoryStore[e];this._memoryStore[e]=void 0,this._getStorage().remove(e).catch(()=>{this._memoryStore={...this._memoryStore,[e]:t}})}clear(){if(!this._memoryStore)throw this._initError(this._storageType);let e={...this._memoryStore};this._memoryStore={},this._getStorage().clear().catch(()=>{this._memoryStore=e})}},WU=class extends XU{constructor(){super("PersistentStorage",jpA)}},JU=class extends XU{constructor(){super("SessionStorage",jpA)}};var YU=class{constructor(){this._inited=!1;this._storage=new Map}async init(){return this._inited||(this._inited=!0,console.info("[BackgroundStorage] Using MemoryStorage")),this}async reconcileItems(){}getItem(e){return this._storage.get(e)}setItem(e,t){this._storage.set(e,t)}removeItem(e){this._storage.delete(e)}clear(){this._storage.clear()}};var npA=class{constructor(e){this._inited=!1;this._getStorage=()=>{switch(this._storageType){case"PersistentStorage":return window.localStorage;default:return window.sessionStorage}};this._storageType=e}async init(){return this._inited||(this._inited=!0,console.info(`[BackgroundStorage] Using ${this._storageType}`)),this}async reconcileItems(){}getItem(e){return this._getStorage().getItem(e)??void 0}setItem(e,t){this._getStorage().setItem(e,t)}removeItem(e){this._getStorage().removeItem(e)}clear(){this._getStorage().clear()}},ZU=class extends npA{constructor(){super("PersistentStorage")}};var OLA=A=>({init:()=>A().init(),reconcileItems:()=>A().reconcileItems(),getItem:e=>A().getItem(e),setItem:(e,t)=>A().setItem(e,t),removeItem:e=>A().removeItem(e),clear:()=>A().clear()}),Ze=OLA(()=>rr.resolve("PersistentStorage")),fa=OLA(()=>rr.resolve("SessionStorage"));var TT="open-db-terminated-error-page",TLA=A=>{if(A instanceof Error){if(A.name==="QuotaExceededError")return console.error("Storage quota exceeded. Try freeing up disk space."),"db-quota-exceeded";if(A.name==="InvalidStateError"&&A.message==="A mutation operation was attempted on a database that did not allow mutations."&&oj())return console.error('Could not open the database because "Never Remember History" was enabled.'),"db-invalid-state"}return"db-unknown"};var _T=class{constructor(){this.getDatabase=()=>{if(!this._database)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("GetDatabaseError"),message:F.logsafe.assertLogSafe("The database has not been initialized yet.")});return this._database};this.initDatabase=async()=>{try{return this._database=await this.openDatabase(),!0}catch(e){return XE(TLA(e)),this.reportDatabaseError(e instanceof Error?e.message:"We were unable to open the database."),!1}};this.isInitialized=()=>!!this._database;this.openDatabase=async(e=Symbol())=>{for(let t=0;t<5;t++){let r=2e3+t*1e3;try{return await Kn.withTimeout(g$.open(this.handleDbTerminated),r,`Opening the database timed out using a ${r/1e3} second limit.`,e)}catch(a){if(a!==e)throw a}}return Kn.withTimeout(g$.open(this.handleDbTerminated),6e4,"Opening the database timed out using a 60 second limit.")};this.handleDbTerminated=()=>this.resetDatabase(!0);this.resetDatabase=async(e=!1)=>{try{await this.getDatabase().resetDatabase(),Ze.clear()}finally{e&&Eo()?XE("db-terminated"):e&&!Or()&&Ze.setItem(TT,"enabled"),chrome.runtime.reload()}};this.checkThatDatabaseCanBeReopened=async()=>{try{return(await g$.open(this.handleDbTerminated)).checkThatDatabaseIsAvailable()}catch(e){return console.error(e),!1}};this._hasAttemptedToReopenDatabase=!1;this.checkThatDatabaseIsAvailable=async()=>{let e=await this.getDatabase().checkThatDatabaseIsAvailable();return!e&&!this._hasAttemptedToReopenDatabase&&(console.info(`\u{1F6E0} Attempted to reopen database. Success: ${await this.checkThatDatabaseCanBeReopened()}`),this._hasAttemptedToReopenDatabase=!0,this.reportDatabaseError("The database is currently not available and may have become corrupt.")),e}}reportDatabaseError(e){ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("DatabaseConnection"),message:F.logsafe.assertLogSafe(e)}))}},Ve=rr.resolve(_T);var a8=AA(Wr()),HYA=AA(y7());var v7=async(A,e)=>{let t=e??Ic();try{chrome.tabs.sendMessage(A,{name:"active-notification"},t.resolve)}catch{console.error("Failed to get active notification");return}let r=await t.promise;return r?TA.assertLogSafe(r):void 0},oH=async(A,e,t)=>{if(t<=0)throw new Error("showNotificationWithRetries expects a positive integer for retries");let r=t+1,a;for(let j=0;j<r&&typeof a>"u";j++)a=await xp(A,e),a||(await fl(500),j+1);return a||console.error(`Could not show notification after ${r} attempts`),a},xp=async(A,e)=>{let t=Ic();try{chrome.tabs.sendMessage(A,{name:"show-notification",data:{type:e.type,requiresExplicitHide:!0,params:e.params}},t.resolve)}catch{console.error("Failed to show-notification");return}let r=await t.promise;return r?TA.assertLogSafe(r):void 0},WE=async(A,e)=>{let t=Ic();chrome.tabs.sendMessage(A,{name:"hide-notification",data:{id:e}},t.resolve);let r=await t.promise;return r?TA.assertLogSafe(r):void 0},x$=async(A,e,t)=>{let r=Ic();try{chrome.tabs.sendMessage(A,{name:"replace-notification",data:{id:e,type:t.type,params:t.params,requiresExplicitHide:!0}},r.resolve)}catch{return}let a=await r.promise;return a?TA.assertLogSafe(a):void 0};var bNA="autosubmit-notified",Xtt=6,ipA,Wtt=()=>ipA,yNA=async A=>{let e=Wtt();if(e&&!(e.tabId!==A.id||rA.allAccountHandlersAreLocked))if(e.remainingCount>0){let t=await v7(A.id);if(!e.notificationId&&!t?e.notificationId=await xp(A.id,{type:"autosubmit"}):e.notificationId&&e.notificationId.str!==t?.str&&(e.notificationId=void 0),!e.notificationId)return;e.remainingCount-=1}else e.notificationId&&WE(A.id,e.notificationId),opA()},vNA=async A=>{Ze.getItem(bNA)||(Ze.setItem(bNA,"true"),ipA={tabId:A.id,notificationId:void 0,remainingCount:Xtt})},opA=()=>{ipA=void 0},FNA=async A=>{let e=await xl(A);e&&yNA(e)},GNA=async A=>{yNA(A)};async function Jtt(A){let e=await new Promise(r=>chrome.tabs.create({url:A},r)),t=await Kn.withTimeout(new Promise(r=>{chrome.webRequest.onHeadersReceived.addListener(function a(j){j.statusCode>=300&&j.statusCode<400||(chrome.webRequest.onHeadersReceived.removeListener(a),r(j))},{tabId:e.id,urls:["<all_urls>"]})}),5e3,"No response from tab");return{tab:e,statusCode:t.statusCode}}async function wNA(A){return await FA.getAppleChangePasswordUrl(A.toString())??A.origin}async function Ytt(A,e){await new Promise(t=>{chrome.tabs.executeScript(A,{allFrames:!1,code:`
          chrome.runtime.onMessage.addListener(function onCheckWellKnown(message, sender, sendResponse) {
            if (message.name !== "check-well-known") return;
            chrome.runtime.onMessage.removeListener(onCheckWellKnown);

            const base = message.data;

            try {
              fetch(new URL("/.well-known/resource-that-should-not-exist-whose-status-code-should-not-be-200", base), {
                mode: "no-cors",
              }).then((result) => {
                const status = result.status;
                sendResponse(status < 200 || status > 299);
              }).catch(() => sendResponse(false));
            } catch {
              sendResponse(false);
            }

            return true;
          });
        `},t)});try{let t=new Promise(r=>chrome.tabs.sendMessage(A,{name:"check-well-known",data:e.origin},r));return await Kn.withTimeout(t,1500)}catch{return!1}}async function b$(A){let e=Sc(A.url);if(!e)throw new Error("Unable to parse URL from item");let{tab:t,statusCode:r}=await Jtt(`${e.origin}/.well-known/change-password`);if(typeof t.id!="number"){console.error("Opened tab was missing id");return}if(r<200||r>299){chrome.tabs.update(t.id,{url:await wNA(e)});return}await Ytt(t.id,e)||chrome.tabs.update(t.id,{url:await wNA(e)})}var O0=AA(Wr());var lH=class{constructor(e,t){this._connectivityStatus="online",this._navigator=e,this._notifyStatusChanged=t}get connectivityStatus(){return this._connectivityStatus}set connectivityStatus(e){this._connectivityStatus=e,this._notifyStatusChanged(e)}async queryForUpdate(e){if(!this._navigator.onLine){this.connectivityStatus="networkOffline";return}let t=!1;e.type==="DesktopConnectionManager"&&Ud()&&(t=await this._queryDesktopConnectionManagerForUpdate(e.src)),e.type==="AccountHandler"&&(t=this._queryAccountHandlersForUpdate(e.src)),this.connectivityStatus=t?"offlineAuthenticationFailed":"online"}async _queryDesktopConnectionManagerForUpdate(e){return e.getState().type!=="Connected"?!1:(await e.offlineStatus()).authFailed}_queryAccountHandlersForUpdate(e){return e.some(t=>t.isUnlocked&&(!t.client||t.client.invalid))}};var DT=class{constructor(){this._connectivityStatusManager=new lH(globalThis.navigator,e=>Kr("update-connectivity-status",e))}getPossiblyOutdatedConnectivityStatus(){return this._connectivityStatusManager.connectivityStatus}async connectivityStatus(){return await this.updateConnectivityStatus(),this._connectivityStatusManager.connectivityStatus}async updateConnectivityStatusHandler(){return this.updateConnectivityStatus()}async updateConnectivityStatus(e){if(e!==void 0){this._connectivityStatusManager.connectivityStatus=e?"offlineAuthenticationFailed":"online";return}if(Mt.desktopConnectionManager&&Mt.desktopConnectionManager.getState().type==="Connected")try{await this._connectivityStatusManager.queryForUpdate({type:"DesktopConnectionManager",src:Mt.desktopConnectionManager});return}catch{}return this._connectivityStatusManager.queryForUpdate({type:"AccountHandler",src:rA.getAccountHandlers})}},Yr=rr.resolve(DT);var zT={UnhandledSLSMessage:"UnhandledSLSMessage",PasswordTimeboxUnavailable:"PasswordTimeboxUnavailable",DuoAuthenticatorUndefined:"DuoAuthenticatorUndefined"};var xYA=AA(Wr());async function lpA(){let e=(await Promise.all(rA.getAccountHandlers.map(async t=>{try{return t.shouldShowFreeFamilyAccountNotification()}catch{return!1}}))).indexOf(!0);return e!==-1?rA.getAccountHandlers[e]:void 0}function cpA(){return rA.getAccountHandlers.find(A=>{try{return A.shouldShowEmailPreferencesNotification()}catch{return!1}})}async function qNA(){Promise.all(rA.getAccountHandlers.filter(A=>A.isUnlocked).map(A=>A.waitForClient().catch(()=>{}))).then(async()=>{let A=await lpA();spA("free-family",!!A);let e=cpA();spA("email-preferences",!!e)})}var MT=AA(Wr());var y$=AA(Ln());var $NA={type:"free-family",limit:{type:"ONCE"},onClick:async()=>{Tc({id:"free-family-alert",title:(0,y$.T)("Do you have an existing account?"),text:(0,y$.T)("You can choose to link an existing family account or create a new one."),primaryAction:{id:"free-family-sign-up",label:(0,y$.T)("Sign Up"),destructive:!1,action:{type:"RedeemFreeFamily",content:MT.FreeFamilyOption.SignUp}},secondaryAction:{id:"free-family-link-existing",label:(0,y$.T)("Link Existing"),destructive:!1,action:{type:"RedeemFreeFamily",content:MT.FreeFamilyOption.LinkExisting}},cancelAction:(0,y$.T)("Cancel")})},hideOnClick:!1};async function INA(A){let e=await lpA();if(e&&e.client?.CTX){let t=await e.getFreeFamilyCode();switch(A.data.option){case MT.FreeFamilyOption.LinkExisting:await ir.openTab({url:`https://start.${e.client.CTX.config.server}/billing?ref=inproduct-b5x-business-family&f=${t}`});break;case MT.FreeFamilyOption.SignUp:await ir.openTab({url:`https://start.${e.client.CTX.config.server}/sign-up/family?ref=inproduct-b5x-business-family&f=${t}`});break}v$("free-family")}}var Pj=AA(Wr());var mo=AA(Ln());var bp="/assets/png/onepassword-128-47NWBQHU.png";var cH=class extends Error{constructor(e,t){super(),this.code=e,this.message=t||"",this.name="B5XClientError"}toString(){return`B5XClientError: ${this.message} (${this.code})`}},PNA=(A,e)=>ym(A)&&A.name==="B5XClientError"&&(!e||e===A.code);var gHA=AA(Wr());var S7=AA(Wr()),LH=AA(Wr());var WUA=AA(Wr());var kUA=AA(Wr()),vpA=AA(y7());var ej=AA(Wr());var d0=AA(Wr());function YE(A,e,t){let r=rA.findAccountHandlerByUuid(A);if(!r)return Pe(new Error(`Attempted to create item for non-existent account: <${A}>`));let a=r.findVaultWithUUIDAndCreatePermission(e);if(!a)return Pe(new Error(`Attempted to create item for non-existent vault <${e}> in account <${A}>`));let j=new GA(a);return j.details=t.details,j.overview=t.overview,j.overview.b5AccountUUID=r.uuid,j.templateUuid=t.templateUuid,j.vault=a,vt(j)}function F$(A,e){let t=A.overview.b5AccountUUID;return A.details=e.details,A.overview=e.overview,A.overview.b5AccountUUID=t,A}var G7=()=>!oj(),upA=async(A,e,t,r)=>{let a=t?`${t}: `:"",j=r?` - ${r.str}`:"";`${a}${e.str}${j}`;let n;try{n=await A()}catch(i){let o=`${a}invoked  "${e.str}"${j}: failed`;throw i}return`${a}${e.str}${j}`,n};var SNA=A=>A instanceof Error;var uH=()=>{let A=new Date;return`${A.getFullYear()}-${A.getMonth()+1}-${A.getDate()}`},CNA=()=>{let A=new Date;return`${A.getHours()}-${A.getMinutes()}-${A.getSeconds()}`};var Qtt="b5x-diagnostics",u0="logs",Art="cl_by_date",ert=7,RT=class A{constructor(e){this.getConsoleLogs=async()=>this.db.transaction(u0,"readonly").objectStore(u0).getAll();this.saveConsoleLog=async e=>{await this.db.transaction(u0,"readwrite").objectStore(u0).put(e)};this.purgeOutdatedConsoleLogs=async(e=ert)=>{let t=new Date;t.setDate(t.getDate()-e);let r=t.getTime(),j=this.db.transaction(u0,"readwrite").objectStore(u0);for await(let n of j)n.value.timestamp<r&&await j.delete(n.primaryKey)};this.db=e}static{this.open=async()=>{let t=await NU(Qtt,1,{upgrade:async(r,a)=>{switch(console.info(`Upgrading diagnostics database from version ${a} to 1.`,r),a){case 0:r.createObjectStore(u0,{keyPath:"id",autoIncrement:!0}).createIndex(Art,"date")}},terminated(){console.error("\u{1F494} The browser closed our diagnostics database connection for reasons beyond our control.")},blocked(){console.error("\u{1F494} The diagnostics database connection was blocked by a lower version connection still being open.")}});return t.addEventListener("versionchange",r=>{console.error("\u{1F494} This diagnostics database connection is blocking newer versions from connecting."),console.error("diagnostics.event.dataLoss:",r.dataLoss),console.error("diagnostics.event.dataLossMessage:",r.dataLossMessage)}),new A(t)}}};var w7=class{constructor(){this._preInitializationQueue=[];this.openDatabase=async(e=Symbol())=>{for(let t=0;t<5;t++){let r=2e3+t*1e3;try{return await Kn.withTimeout(RT.open(),r,`Opening the diagnostics database timed out using a ${r/1e3} second limit.`,e)}catch(a){if(a!==e)throw a}}return Kn.withTimeout(RT.open(),6e4,"Opening the diagnostics database timed out using a 60 second limit.")};this.initDatabase=async()=>{if(!G7())return!1;try{return this._database=await this.openDatabase(),await this._database.purgeOutdatedConsoleLogs(),!0}catch{return console.error("We were unable to open the diagnostics database."),!1}};this.isInitialized=e=>!!e;this.getConsoleLogs=async()=>this._database?.getConsoleLogs()??[];this.saveConsoleLog=async(e,t)=>{let r=e.filter(j=>!(typeof j=="string"&&j.includes("color:"))).map(j=>typeof j=="string"?j.replace("%c",""):JSON.stringify(j)).join(" ").replace(/(\r\n|\n|\r)/gm," "),a={date:uH(),timestamp:Date.now(),message:r,type:t};if(!this.isInitialized(this._database)){this._preInitializationQueue.push(a);return}if(this._preInitializationQueue.length>0){let j=this._preInitializationQueue;this._preInitializationQueue=[];for(let n of j)await this._database?.saveConsoleLog(n)}await this._database.saveConsoleLog(a)};this.purgeOutdatedConsoleLogs=async e=>{if(!this.isInitialized(this._database)){console.warn("Unable to clear the logs. The diagnostics database was not initialized.");return}await this._database.purgeOutdatedConsoleLogs(e)}}},Hd=rr.resolve(w7);var ra=A=>A instanceof F.LoggableError,dH=(A,e)=>G7()?(...r)=>{for(let a=0;a<r.length;a++){let j=r[a];SNA(j)&&!ra(j)&&(r[a]="<redacted>")}A.apply(console,r);try{Hd.saveConsoleLog(r,e)}catch{}}:A;var ONA="privacy-key-updated",dpA="privacy-key-sandbox-api-key",trt="privacy-force-sandbox";async function mH(){return KT()!==null?!0:art()}async function TNA(A,e,t,r){let a=YE(e,t,A);if(a.isErr())return a;let j=a.value;return r&&(j.addTag("privacy.com"),j=await un(j,!0)),vt(j)}function mpA(){return!!KT()||!!Ze.getItem(trt)}function KT(){return Ze.getItem(dpA)??null}function _NA(A){A?Ze.setItem(dpA,A):Ze.removeItem(dpA),globalThis.dispatchEvent(new Event(ONA))}async function DNA(){let A=KT(),e=A?[A]:await zNA();return FA.getPrivacyFundingAccounts({apiKeys:e,useSandboxApi:mpA()})}async function rrt(A){let e=rA.findAccountHandlerByUuid(A);if(e)try{let t=(await e.loadSystemVaultItems()).filter(r=>r.overview.integration==="privacy");return t.length>1&&console.error("Multiple Privacy integration items in user's system vault."),t[0]}catch(t){ra(t)&&ht(t);return}}async function ppA(){let A=[];for(let e of rA.getAccountHandlers)try{if(!e.isLocked&&e._vaults){let r=(await e.loadSystemVaultItems()).filter(a=>a.templateUuid==="800"&&a.overview.integration==="privacy"&&a.state===GA.ItemState.Active);A.push(...r)}}catch(t){ra(t)&&ht(t)}return A}async function zNA(){return(await ppA()).map(e=>e.details.fields?.find(t=>t.designation==="password")?.value).filter(e=>!!e)}async function art(){return(await zNA()).length>0}async function MNA(A,e){let{vault:t}=await rA.getSystemVaultForAccount(A),r=await rrt(A);r||(r=new GA(t)),r.vault=t,r.templateUuid="800",r.overview=e.overview,r.state=GA.ItemState.Active,r.overview.integration="privacy",r.details=e.details,await un(r,!1,A,()=>globalThis.dispatchEvent(new Event(ONA)))}async function LT(){let[A,e]=await Promise.all([mH(),KNA()]);return[e?d0.SuggestedIntegration.Brex:void 0,A?d0.SuggestedIntegration.Privacy:void 0].filter(t=>!!t)}function pH(A){if(A.provider==="brex")switch(A.category){case"vendor":return d0.DefaultIconFile.BrexVendor;case"corporate":return d0.DefaultIconFile.BrexCorporate;default:jr(A.category)}}function RNA(A){if(A.provider==="brex")return d0.DefaultIconFile.BrexVault}async function nrt(A,e){let t=await S1(A,e),r=new Blob([t]);return db(r)}function LNA(A){return A.overview.icons?.detail?.fileId}async function kH(A){try{if(!(A.overview.icons&&A.overview.icons.detail))return vt(void 0);let e=A.overview.icons.detail,t=await Ve.getDatabase().getIcon(e.fileId);if(!t){let r=$t.itemCache?.accountForVaultID(Un(A.vault));if(!r)throw console.error("getCustomIconForItem: Unable to find account by vault localId"),new Error;let a=r.uuid,j=rA.getAccountHandlers.find(n=>n.b5account.uuid===a);if(!j)throw console.error(`getCustomIconForItem: Unable to find account handler for UUID <${a}>`),new Error;if(t=await j.getFile(A,e).catch(()=>{}),!t)return Pe({type:"FailedToLoadFile"});Ve.getDatabase().saveIcon(e.fileId,t)}return vt(await nrt(e,t))}catch{return Pe({type:"UnknownError"})}}async function Pu(A,e,t,r){let a=A.templateUuid==="912",j=(A.faveIndex??0)>0&&A.state===GA.ItemState.Active?ej.IconBadge.Favorite:void 0,n=[];if(LNA(A)&&n.push({type:"CustomIcon",content:{fileId:JSON.stringify(m0(A))}}),t){let c=ZA.VaultItem.getRichIconUrl({templateUuid:a?"001":A.templateUuid,title:A.title,url:A.url??""},e);c!==""&&n.push({type:"RichIcon",content:{url:c,masked:A.templateUuid!==nI,description:void 0}})}if(A.templateUuid===$r&&!r){let c=A.overview.title?.replace(/\s+/g,"")??"";n.push({type:"MonogramIcon",content:{value:c.length>1?c.slice(0,2):c.charAt(0),color:A.uuid?FA.generateRichIconBackgroundColor(A.uuid):""}})}let o,s=A;return s.cacheInformation?.provider!==void 0&&(o=pH(s.cacheInformation)),o=o??await hH(A.subtitle,A.templateUuid),n.push({type:"DefaultIcon",content:{file:o,masked:!1,description:void 0}}),{id:"",sources:n,badge:j,shape:ej.IconShape.RoundedRect}}async function hH(A,e){switch(e){case $r:return ej.DefaultIconFile.Login;case qj:switch(await FA.getCreditCardType(A)){case ej.CcType.Visa:return ej.DefaultIconFile.CreditCardVisa;case ej.CcType.Mastercard:return ej.DefaultIconFile.CreditCardMastercard;case ej.CcType.AmericanExpress:return ej.DefaultIconFile.CreditCardAmex;case ej.CcType.Discover:return ej.DefaultIconFile.CreditCardDiscover;default:return ej.DefaultIconFile.CreditCard}case BBA:return ej.DefaultIconFile.SecureNote;case ti:return ej.DefaultIconFile.Identity;case V6:return ej.DefaultIconFile.Password;case k5:return ej.DefaultIconFile.Document;case EBA:return ej.DefaultIconFile.Tombstone;case FBA:return ej.DefaultIconFile.Placeholder;case nI:return ej.DefaultIconFile.SoftwareLicense;case xBA:return ej.DefaultIconFile.BankAccount;case bBA:return ej.DefaultIconFile.Database;case h5:return ej.DefaultIconFile.DriverLicense;case yBA:return ej.DefaultIconFile.OutdoorLicense;case vBA:return ej.DefaultIconFile.Membership;case g5:return ej.DefaultIconFile.Passport;case GBA:return ej.DefaultIconFile.Rewards;case f5:return ej.DefaultIconFile.SocialSecurityNumber;case wBA:return ej.DefaultIconFile.Router;case qBA:return ej.DefaultIconFile.Server;case $BA:return ej.DefaultIconFile.Email;case Zc:return ej.DefaultIconFile.ApiCredentials;case IBA:return ej.DefaultIconFile.MedicalRecord;case Sl:return ej.DefaultIconFile.Ssh;case BF:return ej.DefaultIconFile.CryptoWallet;case PBA:return ej.DefaultIconFile.Snippet;default:return ej.DefaultIconFile.UnknownCategory}}async function gH(A){let e=$t.itemCache?.accountForVaultID(Un(A.vault));if(!e)throw new Error("Unable to find account by vault localId");let t=await Ve.getDatabase().findAccountByUUID(e.uuid);return t?FA.generateSharableItemLink({accountUuid:e.uuid,itemUuid:A.uuid,vaultUuid:A.vault.uuid,host:t.signinAddress}):Promise.reject(new Error("Unable to generate sharable item link. Account with the given UUID could not be found."))}async function Vd(A,e,t){let r=rA.findAccountHandlerByUuid(A);if(r)return r.getIntegrationProviderAccessToken(e,t)}async function fH(A,e,t){rA.findAccountHandlerByUuid(A)?.removeProviderAccessToken(e,t)}async function BH(A){let e=rA.findAccountHandlerByUuid(A);return e?e.getIntegrationCredentials("fastmail"):[]}async function p0(){for(let A of rA.getAccountHandlers){if(A.isLocked)continue;if((await A.getIntegrationCredentials("fastmail")).length>0)return!0}return!1}async function NNA(A,e,t,r){let a=await Vd(A,t,"fastmail");if(!a)throw new Error("Could not obtain Fastmail access token.");return FA.updateEmailAlias(a.accessToken,e,r)}async function UNA(A,e,t){let r=await Vd(A,t,"fastmail");if(!r)throw new Error("Could not obtain Fastmail access token.");return FA.getEmailAliasState(r.accessToken,e)}async function HNA(A,e){let t=await FA.getOauthAccessToken({url:"https://api.fastmail.com/oauth/refresh",client_id:"35c941ae",grant_type:"refresh_token",refresh_token:e});return t.type==="Error"?(console.error("Could not generate new access token."),Pe({type:"RequestError"})):vt({refreshToken:e,accessToken:t.content.accessToken,expiresIn:t.content.expiresIn,context:void 0})}async function xH(A,e){if(e==="001"&&await p0())return(await FA.getEmailAliasSessionStatus(A.id,A.unparsedUrl))?.alias}async function VNA(A,e){try{return(await BH(A)).some(r=>r.accountId===e.fastmailAccountId)}catch(t){return ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogGetSaveAccountsAndVaultsFor"),message:TA.assertLogSafe("Could not get fastmail credentials for account."),userUuid:TA.assertLogSafe(A),stackOverrideError:t instanceof Error?t:void 0})),e.accountUuid===A}}async function Og(A,e,t,r){let a=await FA.getEmailAliasSessionStatus(A,e);if(!a){if(r)return r();throw new Error("There is no current Masked Email session")}let j=(await Vd(a.accountUuid,a.fastmailAccountId,"fastmail"))?.accessToken;if(!j){if(r)return r();throw new Error("Could not get Fastmail access token.")}try{return await t(j,a)}catch(n){throw fH(a.accountUuid,a.fastmailAccountId,"fastmail"),n}}async function XNA(A){await Su,await p0()&&Og(A,void 0,e=>FA.endEmailAliasSession(A,e),()=>FA.endEmailAliasSession(A))}var EH;async function WNA(A,e){await p0()&&(EH&&await EH,EH=new Promise(async t=>{try{let r=await FA.getEmailAliasSessionStatus(A);if(!r)return;(FA.nakedDomainForUrl(e)!==r.nakedDomain||!r.enabled)&&await Og(A,void 0,j=>FA.endEmailAliasSession(A,j),()=>FA.endEmailAliasSession(A))}finally{EH=void 0,t()}}))}async function bH(A,e){if(e.templateUuid==="001"&&await p0()){try{let t=await FA.getEmailAliasSessionStatus(A.id,A.unparsedUrl);if(!t?.alias||t.alias?.type!=="Fastmail")return;let r=await gH(e);await Og(A.id,A.unparsedUrl,async(a,j)=>{!j?.alias||j.alias?.type!=="Fastmail"||await FA.updateEmailAlias(a,j.alias.content.alias_id,{url:r})})}catch{console.error(`Could not set the url property on the email alias for item ${e.uuid}`)}try{await Og(A.id,A.unparsedUrl,t=>FA.endEmailAliasSession(A.id,t),()=>FA.endEmailAliasSession(A.id))}catch{}}}async function JNA(A){if(!A.details||!A.details.sections)return{};let e={};for(let t of A.details.sections)if(t.fields)for(let r of t.fields){if(r.k!=="email"||!r.a)continue;let a=r.a.provider;if(!(!a||a.type!=="fastmail")){if(!a.data.aliasId||!a.data.accountId){console.error("Provider data is malformed.");continue}try{let j=await UNA(ZE(A),a.data.aliasId,a.data.accountId);j&&(e[a.data.aliasId]=j)}catch{continue}}}return e}async function UT(A){return browser.webNavigation.getAllFrames({tabId:A}).then(e=>e??[]).then(e=>e.filter(({url:t})=>{try{return hT(new URL(t))}catch{return!1}}))}async function dn(A,e){if(bl(A)){let r=await kpA(A);if(r.isOk())return r.value}let t=await UT(A.id).then(r=>Promise.all(r.map(a=>YNA(A.id,a.frameId,a.url,{excludeValues:e})))).then(r=>{let a=r.filter(j=>j.isOk());return a.length<r.length&&console.warn("Could not collect all frames that were initially found."),Qv.combine(a).unwrapOr([])});return{unparsedUrl:A.unparsedUrl,title:A.title,frames:t}}var yH={timeout:5e3,errorMessage:"Could not collect frame details",timeoutMessage:"Timed out while collecting frame details"};function YNA(A,e,t,r={}){let a=async()=>{let{version:j}=await eb();return sa()&&parseInt(j)<16};return Kn.withTimeout(a().then(j=>browser.tabs.sendMessage(A,{name:"collect-frame-details",data:{options:r,frameUrl:t,checkFrame:j}},{frameId:e})).then(j=>j?vt(j):Promise.reject()).catch(()=>Pe(new Error(yH.errorMessage))),yH.timeout,"Collect Frame").catch(j=>j||Pe(yH.timeoutMessage))}async function kpA(A){return Kn.withTimeout(YNA(A.id,0,A.unparsedUrl).then(e=>e.isOk()?(e.value.fields=[...(e.value.fields??[]).map(t=>({...t,tabIndex:void 0}))],vt({unparsedUrl:A.unparsedUrl,title:A.title,frames:[e.value]})):vt([])).catch(e=>e||Pe(yH.timeoutMessage)))}function bl(A){let e=A.URL();return(e?chrome.runtime.getURL("").toLowerCase().startsWith(e.origin):!1)&&e?.pathname==="/inline/tutorial/tutorial.html"}var BpA=AA(Wr());var Cu=AA(y7());var hpA=async()=>{let{language:A}=Re(),e=await Ii();return{contextType:"AppContext",data:{version:Cu.TelemetryString.assertSafeForTelemetry(e.clientVersion),name:Cu.TelemetryString.assertSafeForTelemetry(e.clientName),app_default_locale:Cu.TelemetryString.assertSafeForTelemetry(bm.language),app_used_locale:Cu.TelemetryString.assertSafeForTelemetry(A)}}},gpA=async()=>{let A=await Ii(),e=A.osName?A.osName:"N/A",t=A.osVersion?A.osVersion:"N/A";return{contextType:"DeviceContext",data:{device_uuid:Cu.TelemetryString.assertSafeForTelemetry(A.uuid),os_name:Cu.TelemetryString.assertSafeForTelemetry(e),os_version:Cu.TelemetryString.assertSafeForTelemetry(t),os_locale:navigator?Cu.TelemetryString.assertSafeForTelemetry(navigator.language):void 0}}},ZNA=async A=>{let e=await Ve.getDatabase().findAccountByUUID(A);if(!e)throw new Error("Account handler not found.");return{contextType:"AccountContext",data:{account_uuid:Cu.TelemetryString.assertSafeForTelemetry(e.uuid),account_type:e.type,billing_status:e.billingStatus,user_uuid:Cu.TelemetryString.assertSafeForTelemetry(e.userUUID)}}},irt=A=>{let e=[];for(let t of Ar.getAllFlagsForAccount(A))e.push(Cu.TelemetryString.assertSafeForTelemetry(t.name));return{contextType:"FeatureFlagContext",data:{assigned_flags:e}}},fpA=new Map;fpA.set("experiment-b5x-a-a-test-all-users-20241128","b5x-a-a-test");fpA.set("experiment-b5x-inline-menu-prominent-cta-all-users-20241128","b5x-inline-menu-prominent-cta");var ort=()=>fpA,srt=(A,e)=>{let t=`${A}:${e}`;return Cu.TelemetryString.assertSafeForTelemetry(t)},QNA=async A=>{let e=[];for(let[t,r]of ort())if(Ar.accountHasFlag(A,t)){let n=Ar.accountHasFlag(A,r)?"enabled":"disabled";e.push(srt(t,n))}return{contextType:"ExperimentationContext",data:{assigned_experiments:e}}},AUA=async A=>await Ar.accountHasFlag(A,"telemetry-feature-flag-context")?Promise.all([ZNA(A),hpA(),gpA(),irt(A),QNA(A)]):Promise.all([ZNA(A),hpA(),gpA(),QNA(A)]),eUA=()=>Promise.all([hpA(),gpA()]);var k0=class{constructor(e){this.tracker=e;this.TELEMETRY_LOGGER=new Xa("\u{1F4CA} B5x Telemetry Dev Env Log");this.recordEvent=(e,t,r)=>{this.checkTelemetryFlag(r).then(a=>{!oj()&&a&&this.checkUserTelemetryPreference(r)&&AUA(r).then(j=>Promise.all([j,this.tracker.record(e,t,j)])).then(([j])=>{this.TELEMETRY_LOGGER.info("EventType:",e,"Data:",t,"Contexts:",j,`
					----------------------------------------------`)}).catch(j=>{this.TELEMETRY_LOGGER.error("Telemetry Error - event not recorded: ",j)})})};this.recordPreAuthEvent=(e,t)=>{oj()||eUA().then(r=>Promise.all([r,this.tracker.record(e,t,r)])).then(([r])=>{this.TELEMETRY_LOGGER.info("Pre-Auth EventType:",e,"Data:",t,"Contexts:",r,`
					----------------------------------------------`)}).catch(r=>{this.TELEMETRY_LOGGER.error("Telemetry Error - event not recorded: ",r)})};this.tracker=e,this.TELEMETRY_LOGGER.info("TelemetryProvider created")}async checkTelemetryFlag(e){let t=rA.findAccountHandlerByUuid(e);return t?FA.parseAccountType(t.b5account.type)===BpA.AccountType.Team?await Ar.accountHasFlag(e,"b5x-b2b-telemetry-data-collection"):await Ar.accountHasFlag(e,"b5x-telemetry-data-collection"):!1}checkUserTelemetryPreference(e){let t=rA.findAccountHandlerByUuid(e);return t?FA.parseAccountType(t.b5account.type)===BpA.AccountType.Team?!t.serveraccount.teamMemberPolicies?.telemetryOptOut:t.getPreference("TelemetryOptIn"):!1}};k0=ed([qu(),mF(0,Vv("SnowplowTracker"))],k0);var tj=(A,e,t)=>rr.resolve(k0).recordEvent(A,e,t);var ypA=AA(Ln());var vH=class A{get id(){return new Promise(async(e,t)=>{if(sa()){let r=await this.getAllFrames(),a=r.find(n=>n.frameId===this._id)?.frameId;if(typeof a=="number")return e(a);if(this._id===0){let n=r.find(i=>i.parentFrameId===-1)?.frameId;if(typeof n=="number")return e(n)}`${this._id}`;let j=r.find(n=>n.url===this.unparsedUrl)?.frameId;return typeof j=="number"?e(j):t("Frame no longer exists")}e(this._id)})}get parentFrameId(){return new Promise(async e=>{if(typeof this._parentFrameId=="number")return e(this._parentFrameId);let{parentFrameId:t}=await this.getFrameDetails();return this._parentFrameId=t,e(this.parentFrameId)})}constructor(e,t,r){this._id=e,this.tabId=r,this.unparsedUrl=t}static createWithRuntimeMessageSender({frameId:e,tab:t,url:r}){if(!(!t?.id||typeof t.id!="number")&&typeof e=="number")return new A(e,r??"",t.id)}async parent(){let e=await this.parentFrameId;if(e!==-1)return e}URL(){return Sc(this.unparsedUrl)}async getFrameDetails(){return new Promise(async(e,t)=>{let r=await this.id;chrome.webNavigation.getFrame({tabId:this.tabId,frameId:r},a=>{a?.url!==this.unparsedUrl&&(console.warn(`URL for frame ${this.id} tab ${this.tabId}`),this.unparsedUrl=a?.url),a?e(a):t("Frame no longer exists")})})}async getAllFrames(){return new Promise((e,t)=>{chrome.webNavigation.getAllFrames({tabId:this.tabId},r=>{r?e(r):t("Frames no longer exists")})})}};var EpA=class{constructor(e,t,r,a){this.id=e,this.unparsedUrl=t,this.title=r,this.openerTabId=a}isHttpOrHttps(){return hT(this.URL())}async nakedDomain(){let e=this.unparsedUrl;if(this.cachedNakedDomain&&this.cachedNakedDomain.unparsedUrl===e)return this.cachedNakedDomain.nakedDomain;let t=FA.nakedDomainForUrl(e);return this.cachedNakedDomain={unparsedUrl:e,nakedDomain:t},t}URL(){return this.cachedUrl||(this.cachedUrl=Sc(this.unparsedUrl)),this.cachedUrl}};function Tg(A){if(A&&A.id&&A.url)return G$(A.id,A.url,A.title,A.openerTabId)}function tUA(A){if(!A||!A.tab)return;let e=Tg(A.tab);if(e)return e}function rUA(A){return G$(A.tabId,A.url)}function G$(A,e,t="",r){return new EpA(A,e,t,r)}function Ka(A){return A.onEvent?(A.timeStamp=Date.now(),jUA([A.onEvent],{[A.onEvent]:()=>{aUA(A)}},{once:typeof A.repeat=="boolean"?!A.repeat:!0,tab:A.tabId})):aUA(A)}function HT(A){jUA(Object.keys(A),A)}async function lrt(A,e,t){if(_g||await Su,A.length===2){let r=tUA(t);if(!r)throw new Error(`Unable to respond to request <${e.name}> due to lack of TabInfo`);let a=vH.createWithRuntimeMessageSender(t);if(!a)throw new Error(`Unable to respond to request <${e.name}> due to lack of FrameInfo`);return A(e,{tab:r,frame:a})}else return A(e)}function crt(A){let e=browser.runtime.getURL("");if(e.endsWith("/")&&(e=e.slice(0,-1)),sa())return!0;if(oj()){if(!A.url)return!1;let t=new URL(A.url),r=t.protocol+"//"+t.host;return r.endsWith("/")&&(r=r.slice(0,-1)),r===e}else return!!A.origin&&A.origin===e}function urt(A){return A?Object.keys(xpA).indexOf(A)!==-1:!1}async function jUA(A,e,t={}){if(!chrome.runtime.onMessage)return;function r(a){return a?A.indexOf(a)!==-1:!1}chrome.runtime.onMessage.addListener(function a(j,n,i){let o=new Xa("ChromeListener addition"),s=j.name;if(!r(s)||typeof t.tab=="number"&&n.tab?.id!==t.tab)return!1;if(urt(s)&&!crt(n))return console.error(`Exception while handling request <${s}>`),o.error("Invalid origin for request"),i({type:"Error",message:"Invalid origin for request"}),!1;t.once&&chrome.runtime.onMessage.removeListener(a);try{let c=lrt(e[s],j,n);return c instanceof Promise?(c.then(u=>i({type:"Success",data:u})).catch(u=>{console.error(`Exception while handling request <${s}>`),o.error(Dn(u)),i({type:"Error",message:Dn(u)})}),!0):(i({type:"Success",data:c}),!1)}catch(c){console.error(`Exception while handling request <${s}>`);let u=c instanceof Error?c.message:"Unknown error occurred";return o.error(u),i({type:"Error",message:u}),!1}})}function aUA(A){return new Promise(e=>{chrome.tabs.sendMessage(A.tabId,A.message,t=>{e(t)})})}var nUA="/assets/png/avatar-business-default-OYJAR4FY.png";var iUA="/assets/png/avatar-family-default-HYPXNDYE.png";var oUA="/assets/png/avatar-individual-default-NHZIYQUS.png";var bpA="/assets/png/avatar-vault-default-3MEYO6T2.png";function FH(A,e,t){if(A&&t.baseAvatarURL){if(A.avatar)return QE(t.baseAvatarURL,t.uuid,A.avatar);if(A.type===eY&&e&&e.avatar)return QE(t.baseAvatarURL,t.uuid,e.avatar);if(A.type===tY&&t.avatar)return QE(t.baseAvatarURL,t.uuid,t.avatar)}return bpA}function sUA(A){return A.avatar&&A.baseAvatarURL?QE(A.baseAvatarURL,A.uuid,A.avatar):cUA(A.type)}function lUA(A,e,t,r,a,j){return A&&j?QE(j,a,A):r===eY&&e&&j?QE(j,a,e):r===tY&&t&&j?QE(j,a,t):bpA}function VT(A,e,t,r){return t&&e?QE(e,A,t):cUA(r)}function cUA(A){return A===EF?nUA:A===xF?iUA:oUA}function QE(A,e,t){return t[0]==="/"?LmA(A,t):LmA(A,e,t)}var w$=AA(Wr()),uUA=AA(Wr());async function yl(A=!1){let e=await Ve.getDatabase().getAllAccounts(),t=[];for(let r of e){let a=hrt(r);if(A&&r.id&&!a.locked){let j=await Ve.getDatabase().getAllVaultsForAccount(r.id);a.vaults=j.map(n=>grt(n)).filter(n=>!!n)}else a.vaults=[];t.push(a)}return t}function dUA(){let A="\u2757\uFE0F LastPass Imported Shared Folders Metadata",e=rA.getAccountHandlers.map(async t=>{let r=await Ar.accountHasFlag(t.uuid,"hide-lastpass-importer-metadata-vault"),a=t.isLocked?[]:[...t.vaults].sort(wi.vaultSort).map(j=>({uuid:j.uuid,name:j.name,avatar:FH(j,t.user,t.b5account),accountUuid:t.uuid,canCreate:t.user?.hasVaultACL(j,Kt.CreateItem)??!1})).filter(j=>r?j.name!==A:j);return{uuid:t.b5account.uuid,name:t.serveraccount.name,email:t.serveraccount.email,locked:t.isLocked,mustMigrateAuth:t.client?.CTX?.session.ssoMigrationGracePeriod?.state===St.State.MustMigrateAuth,avatar:VT(t.serveraccount.uuid,t.serveraccount.baseAvatarURL,t.serveraccount.avatar,t.serveraccount.type),vaults:a}});return Promise.all(e)}async function GH(){let A=Ej(),e=[];for(let t of rA.getAccountHandlers){await t.waitForDecrypt();let r=t.isLocked?[]:[...t.vaults].sort(wi.vaultSort).map(a=>{let j=a.isVirtualVault??a.type===ZA.Vault.TypeManagedApplications;return{id:Un(a),uuid:a.uuid,name:a.name,avatar:j&&a.type!==ZA.Vault.TypeManagedApplications?`/images/popup/${w$.DefaultIconFile.BrexVault}.png`:FH(a,t.user,t.b5account),type:a.type,disabled:A.isExcluded(t.uuid,a.uuid),isVirtualVault:j}});e.push({id:wH(t.serveraccount),uuid:t.serveraccount.uuid,type:t.serveraccount.type,name:t.serveraccount.name,email:t.serveraccount.email,secretKey:t.serveraccount.secretKey,createdAt:t.serveraccount.createdAt.replace(/"/g,""),userCreatedAt:t.serveraccount.userCreatedAt,locked:t.isLocked,disabled:!1,userSuspended:t.serveraccount.userState===St.State.Suspended,state:t.serveraccount.state,avatar:VT(t.serveraccount.uuid,t.serveraccount.baseAvatarURL,t.serveraccount.avatar,t.serveraccount.type),signinAddress:t.serveraccount.signinAddress,vaults:r,userPreferences:t.serveraccount.userPreferences,itemsInWrongAccountAllowedDomains:t.serveraccount.teamMemberPolicies?.allowedWatchtowerDomains?t.serveraccount.teamMemberPolicies.allowedWatchtowerDomains.split(","):[]})}return e}function hrt(A){let e=!0,t=rA.findAccountHandlerByUuid(A.uuid);t&&(e=t.isLocked);let r=Ej();return{id:wH(A),uuid:A.uuid,type:A.type,name:A.name,email:A.email,locked:e,disabled:r.isExcluded(A.uuid),userSuspended:A.userState===St.State.Suspended,state:A.state,createdAt:A.createdAt,userCreatedAt:A.userCreatedAt,avatar:VT(A.uuid,A.baseAvatarURL,A.avatar,A.type),signinAddress:A.signinAddress,userPreferences:A.userPreferences,itemsInWrongAccountAllowedDomains:A.teamMemberPolicies?.allowedWatchtowerDomains?A.teamMemberPolicies.allowedWatchtowerDomains.split(","):[]}}function grt(A){if(!A.account_id)return null;let e=rA.findAccountHandlerByID(A.account_id);if(!e)throw new Error(`No account handler found for vault ${A.uuid} in account ${A.account_id}`);let t=e.b5account,r=e._findVaultWithUUID(A.uuid),a=Ej();return r?{id:mUA(A),uuid:A.uuid,name:r.name,avatar:FH(r,e.user,t),type:A.type,disabled:a.isExcluded(t.uuid,A.uuid),isVirtualVault:!1}:null}function Ax(A=!1){return rA.getAccountHandlers.map(e=>{let t=wH(e.serveraccount).toString(),r=e.isUnlocked?w$.LockScreenAccountPreviewMode.Unlocked:A?w$.LockScreenAccountPreviewMode.FailedToUnlock:w$.LockScreenAccountPreviewMode.Locked,a={type:"secretKey"},j,n;if(he.CanOnlyPerformOidcAuth(e.serveraccount.authMethods)){let i=he.getOidcAuthMethod(e.serveraccount.authMethods);if(!i){console.error(`unable to find OIDC auth method in list of auth methods for account ${e.uuid}`);return}if(!i.provider){console.error(`OIDC auth method for account ${e.uuid} did not have a provider`);return}let o=i.provider;if(!o){console.error(`OIDC auth method for account ${e.uuid} had an unknown provider string`);return}n=i.iconUrl,a={type:"sso",content:o}}else he.canOnlyPerformWebauthnAuth(e.serveraccount.authMethods)&&(a={type:"webAuthn"});return{id:t,name:e.serveraccount.name,email:e.serveraccount.email,uuid:e.uuid,mode:r,signInProvider:a,signInProviderIconUrl:n,icon:{id:t+"-icon",sources:[{type:"RichIcon",content:{masked:!0,url:VT(e.serveraccount.uuid,e.serveraccount.baseAvatarURL,e.serveraccount.avatar,e.serveraccount.type)}}],badge:j,shape:uUA.IconShape.RoundedRect}}}).filter(e=>e!==void 0)}function q$(A,e,t,r){return A?FA.getAccountIcon(A,e,t,r):Promise.resolve({id:`account-icon-${e}`,sources:[]})}function h0(A,e,t){return A?FA.getVaultIcon(A,e,t):Promise.resolve({id:`vault-icon-${e}`,sources:[]})}async function frt(A){let e=await $t.loadItemCache();return e?e.activeItems(Qt.combine(Qt.userSelected(Ej(),void 0,void 0,e),Qt.account(A))):[]}async function qH(A,e,t){let r=await frt(A),a=[];try{a=await xrt()}catch(j){ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe("Failed to get watchtower accounts"),stackOverrideError:j instanceof Error?j:void 0}))}return{usernameSuggestions:Brt(r),tagSuggestions:Ert(r),relatedItems:Ort(r,e,t?Crt(t):[]),watchtowerAccounts:a}}function Brt(A){return A.filter(Qt.logins).map(e=>e.overview.ainfo).filter(e=>e&&e.trim().length)}function Ert(A){return A.reduce((e,t)=>(t.overview.tags&&e.push(...t.overview.tags),e),[])}async function xrt(){return yl().then(A=>A.map(e=>({email:e.email,accountName:e.name,accountUuid:e.uuid,itemsInWrongAccountAllowedDomains:e.itemsInWrongAccountAllowedDomains})))}var brt="amazon",yrt="apple",vrt="discord",Frt="facebook",Grt="github",wrt="google",qrt="microsoft",$rt="okta",Irt="slack",Prt="twitter";function Srt(A){switch(A){case"amazon.com":return brt;case"apple.com":return yrt;case"discord.com":return vrt;case"facebook.com":return Frt;case"github.com":return Grt;case"google.com":return wrt;case"microsoft.com":return qrt;case"okta.com":return $rt;case"slack.com":return Irt;case"twitter.com":return Prt;default:return}}function Crt(A){if(!A.details||!A.details.sections)return[];let e=r=>r.provider!==void 0,t=[];for(let r of A.details.sections)if(r.fields){for(let a of r.fields)if(a.k==="ssoLogin"&&e(a.v)){let j=a.v.item;j&&t.push({itemUuid:j.itemUuid,vaultUuid:j.vaultUuid})}}return t}function Ort(A,e,t){if(!e&&t.length===0)return[];let r=(j,n,i)=>i.indexOf(j)===n,a=[];for(let j of A){let n=t.some(({itemUuid:s,vaultUuid:c})=>j.uuid===s&&j.vault.uuid===c),o=(e&&j.templateUuid===$r||n)&&j.urlToNakedDomains?Object.values(j.urlToNakedDomains).filter(r).map(Srt).filter(s=>!!s):[];(n||o.length>0)&&a.push({itemOverview:Hs(j),itemUuid:j.uuid,vaultUuid:j.vault.uuid,accountUuid:j.overview.b5AccountUUID??"",providers:o})}return a}var g0=({msg:A,userMessage:e,logRootError:t=!1})=>r=>{let a="[Save Dialog]";throw t?console.error(`${a} ${A}`,r):console.error(`${a} ${A}`),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe(e??A)})},q7=A=>{let[e,t,r]=A.split("-");return{itemUuid:e,vaultUuid:t,accountUuid:r}};var Trt=async(A,e,t,r,a)=>{switch(a.name){case"new-item":return{type:"new-item",data:await f0(A,e,t,!0)};case"suggested-item":return r.length===1?{type:"update-item",data:await XT(A,r[0],t,!0)}:{type:"new-item",data:await f0(A,e,t,!0)};case"update-item":let j;try{j=await mn(a.data.itemUuid)}catch(n){ht(new F.LoggableError({errorClass:TA.assertLogSafe("ConfigureSaveSession"),message:TA.assertLogSafe("Failed to load item selected for update item."),stackOverrideError:n instanceof Error?n:void 0}))}return j?{type:"update-item",data:await XT(A,j,t,!0)}:{type:"new-item",data:await f0(A,e,t,!0)};default:jr(a)}},_rt=async(A,e,t,r)=>{if(r){let a;try{a=await mn(r)}catch(j){ht(new F.LoggableError({errorClass:TA.assertLogSafe("UnlockSaveSession"),message:TA.assertLogSafe("Failed to load item selected for update item."),stackOverrideError:j instanceof Error?j:void 0}))}if(a)return{type:"update-item",data:await XT(A,a,t,!0)}}return{type:"new-item",data:await f0(A,e,t,!0)}},Drt=async(A,e,t,r)=>{if(r){let a;try{a=await mn(r)}catch(j){ht(new F.LoggableError({errorClass:TA.assertLogSafe("VerifyUnlockedSession"),message:TA.assertLogSafe("Failed to load item selected for update item."),stackOverrideError:j instanceof Error?j:void 0}))}return a?{type:"update-item",data:await XT(A,a,t,!1)}:{type:"new-item",data:await f0(A,e,t,!0)}}return{type:"new-item",data:await f0(A,e,t,!1)}};async function hUA(A,{tab:e}){let t;try{t=await FA.saveManagerStatus(e)}catch(o){return ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to load save session for tab."),stackOverrideError:o instanceof Error?o:void 0})),{type:"error",data:void 0}}let r;try{r=await FA.getEmailAliasSessionStatus(e.id)}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to load masked email session for tab."),stackOverrideError:o instanceof Error?o:void 0}))}let a=[];try{a=await yp(r)}catch(o){return ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to load account information for Save Dialog."),stackOverrideError:o instanceof Error?o:void 0})),{type:"error",data:void 0}}let j=[];try{j=t.isUpdatable?await WT(t.templateUuid,t.associatedNakedDomains,r):[]}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to load account information for Save Dialog."),stackOverrideError:o instanceof Error?o:void 0}))}let n=[];try{n=await zrt(e,j,t.templateUuid)}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to find matching items for tab."),stackOverrideError:o instanceof Error?o:void 0}))}let i;try{i=j.length>0?{hasMatchForPage:n.length>0,itemListElements:await B0(a,j)}:void 0}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to find matching items for tab."),stackOverrideError:o instanceof Error?o:void 0}))}try{switch(t.state.type){case"Unconfigured":let o=await Trt(e,a,t,n,t.state.data);return{type:"success",data:{initialView:o,updatableItems:i,showUpdatableItemList:t.state.data.name==="suggested-item"&&o.type==="new-item"&&!!i?.hasMatchForPage}};case"Locked":return{type:"success",data:{initialView:await _rt(e,a,t,t.state.data),updatableItems:i,showUpdatableItemList:!1}};case"Unlocked":return{type:"success",data:{initialView:await Drt(e,a,t,t.state.data),updatableItems:i,showUpdatableItemList:!1}};default:jr(t.state)}}catch(o){return ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogConfiguration"),message:TA.assertLogSafe("Failed to generate save dialog configuration."),stackOverrideError:o instanceof Error?o:void 0})),{type:"error",data:void 0}}}async function zrt(A,e,t){if(e.length===0)return[];let r=await FA.saveManagerMatchingItems(A,e,t);return r.length===0?[]:e.filter(a=>r.includes(a.uuid))}async function WT(A,e,t){let r=await $t.loadItemCache();if(!r)return[];let a=i=>!!i.urlToNakedDomains&&e.some(o=>Qt.nakedDomain(o)(i)),j=r.items(Qt.combine(Qt.invert(Qt.frozenAccountItem(r)),Qt.invert(Qt.managed),Qt.active,Qt.template(A),Qt.userSelected(Ej(),void 0,void 0,r),Qt.if(PU,a)));return(await Promise.all(j.map(i=>Oo(i)))).filter(i=>i?t?i.overview.b5AccountUUID===t.accountUuid:!0:!1)}async function B0(A,e,t){let{showRichIcons:r}=Re(),a=[];for(let j of A)for(let n of j.vaults){let i=e.filter(o=>o.vault.uuid===n.uuid);if(i.length!==0){a.length>0&&a.push({type:"separator",data:{id:`separator-${n.uuid}`}}),a.push({type:"header",data:{id:`header-${n.uuid}`,accountLabel:j.name,accountIcon:await q$(j.baseAvatarUrl,j.uuid,j.avatar,j.type),vaultLabel:n.name,vaultIcon:await h0(n.baseAvatarUrl,j.uuid,n.avatar)}});for(let o of i)a.push({type:"option",data:{id:`${o.uuid}-${n.uuid}-${j.uuid}`,label:o.title,subtitle:o.subtitle,icon:await Pu(o,60,r),isDefault:t?o.localId===t:void 0}})}}return a}async function yp(A){let e=Ej(),t=[];for(let r of rA.getUnlockedAccountOverviews){if(r.vaults.length===0||e.isExcluded(r.uuid)||r.vaults.every(j=>e.isExcluded(r.uuid,j.uuid)||j.type===ZA.Vault.TypeManagedApplications))continue;let a=!1;A&&(a=!await VNA(r.uuid,A)),t.push({uuid:r.uuid,name:r.name,baseAvatarUrl:r.baseAvatarUrl,avatar:r.avatar,type:r.type,disabled:a,vaults:r.vaults.filter(j=>!e.isExcluded(r.uuid,j.uuid)&&j.type!==ZA.Vault.TypeManagedApplications).map(j=>({uuid:j.uuid,name:j.name,baseAvatarUrl:j.baseAvatarUrl,avatar:j.avatar}))})}return t}async function gUA(A,e){let t=A.find(a=>e&&a.uuid===e.accountUuid),r=t?t.vaults.find(a=>e&&a.uuid===e.vaultUuid):void 0;if(t&&r){let a=[{icon:await q$(t.baseAvatarUrl,t.uuid,t.avatar,t.type),text:t.name},{icon:await h0(r.baseAvatarUrl,t.uuid,r.avatar),text:r.name}];return{elements:await pUA(A,e),selectedOption:a}}else return{elements:await pUA(A,void 0),selectedOption:void 0}}async function pUA(A,e){A.sort((r,a)=>r.disabled>=a.disabled?1:-1);let t=[];for(let r of A)if(r.vaults.length!==0){t.length>0&&t.push({type:"separator",data:{id:`separator-${r.uuid}`}}),t.push({type:"header",data:{id:`header-${r.uuid}`,label:r.name.toUpperCase()}});for(let a of r.vaults){let j=e&&e.accountUuid===r.uuid&&e.vaultUuid===a.uuid;t.push({type:"option",data:{id:`${r.uuid}-${a.uuid}`,icon:await h0(a.baseAvatarUrl,r.uuid,a.avatar),label:a.name,state:j?"selected":r.disabled?"disabled":"enabled"}})}}return t}async function fUA(A,{tab:e}){let t=await FA.getEmailAliasSessionStatus(e.id),r=await yp(t),a=await FA.saveManagerStatus(e);return f0(e,r,a,!0)}async function BUA(A,{tab:e}){let{itemUuid:t,vaultUuid:r}=q7(A.data.id),a=await mn(t,r);if(!a)throw new F.LoggableError({errorClass:TA.assertLogSafe("SaveDialogHandleUpdateItemView"),message:TA.assertLogSafe("Could not load selected item.")});let j=await FA.saveManagerStatus(e);return XT(e,a,j,!0)}async function EUA(A,{tab:e}){let[t,r]=A.data.split("-"),a={accountUuid:t,vaultUuid:r},j=await FA.saveManagerStatus(e).catch(g0({msg:"Failed to get save session status",logRootError:!0})),n;(!j.vaultSelector.saveLocation||a.accountUuid!==j.vaultSelector.saveLocation?.accountUuid)&&(n=await qH(a.accountUuid,j.isUso).catch(g0({msg:"Failed to get related item data"})));let i=await FA.saveManagerAction({type:"vault-selector",content:{tabInfo:{tabId:e.id,tabUrl:e.unparsedUrl},saveLocation:a,relatedData:n}}).catch(g0({msg:"Failed to update vault selection in save session",logRootError:!0}));if(i.type!=="vault-selector")throw new Error("Invalid response type.");let o;try{o=await FA.getEmailAliasSessionStatus(e.id)}catch{}let s=await yp(o);return{vaultSelector:await gUA(s,i.content.vaultSelector),viewModel:i.content.viewModel}}async function xUA(A,{tab:e}){let t;try{let{type:r,data:a}=A.data,j=await FA.saveManagerStatus(e).catch(g0({msg:"Failed to get save session status",logRootError:!0})),n=await FA.saveManagerAction({type:r,content:{saveValues:a.values,tabInfo:{tabId:e.id,tabUrl:e.unparsedUrl}}}).catch(g0({msg:`Failed to run save manager action ${r}`,logRootError:!0}));switch(t=j.vaultSelector?.saveLocation?.accountUuid,n.type){case"update":return{type:"viewModel",data:n.content};case"save":let{item:i,isNewItem:o}=n.content,s=F.decode(i,F.json.pipe($7),{mode:"unsafe_report_only",file:TA.assertLogSafe("background/save-new-dialog/handler.ts"),func:TA.assertLogSafe("handleEditItem")}).unwrap(),c;o?c=await Mrt(e,j,s):c=await Rrt(s),await bH(e,c).catch(g0({msg:"Failed to update fastmail"})),j.isUso&&o&&j.vaultSelector.saveLocation&&Tu(j.vaultSelector.saveLocation.accountUuid,he.UsoTelemetryActions.Linked),j.isShellPlugin&&await Ka({tabId:e.id,message:{name:"show-notification",data:{type:"shellPluginsSuccess"}}}),$$(e,!0);case"vault-selector":case"clear":return{type:"error",data:{message:"Invalid action during update."}};default:jr(n)}}catch(r){let a=rA.findAccountHandlerByUuid(t??"");return ra(r)?ht(r):ht(new F.LoggableError({errorClass:TA.assertLogSafe("HandleEditItemError"),message:TA.assertLogSafe(ypA.T.lookup("unexpected-error")),userUuid:TA.assertLogSafe(a?.accountIdentifier.userUUID??""),stackOverrideError:r instanceof Error?r:void 0})),{type:"error",data:{message:ypA.T.lookup("unexpected-error")}}}}async function Mrt(A,e,t){let{saveLocation:r}=e.vaultSelector;if(!r)throw console.error("Could not save item, vault selector not configured."),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe("Item not saved: problem with vault selector.")});let a=YE(r.accountUuid,r.vaultUuid,t);if(a.isErr())throw console.error("Error creating item:",a.error),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe("Item not saved: problem with item form.")});if(bl(A))return $H(A,a.value),a.value;{let j;e.integration===kUA.SaveManagerIntegration.Ramp?j=await vUA(r.accountUuid,a.value):j=await un(a.value);try{j.templateUuid&&tj("ItemCreate",{template_uuid:vpA.TelemetryString.assertSafeForTelemetry(j.templateUuid),status:"SUCCESS",create_method:"SAVE_DIALOG"},r.accountUuid)}catch{}return j}}async function Rrt(A){if(!A.uuid)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe("Item not saved: problem with UUID.")});let e=await mn(A.uuid);if(!e)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveNewError"),message:F.logsafe.assertLogSafe("Item not saved: problem finding item.")});let t=F$(e,A);try{e.overview.b5AccountUUID&&e.templateUuid&&tj("ItemUpdate",{template_uuid:vpA.TelemetryString.assertSafeForTelemetry(e.templateUuid),status:"SUCCESS",update_method:"SAVE_DIALOG"},e.overview.b5AccountUUID)}catch{}return un(t)}var f0=async(A,e,t,r)=>{let a=o=>!e.some(s=>!s.disabled&&s.uuid===o.accountUuid&&s.vaults.some(c=>c.uuid===o.vaultUuid)),j,n=t.vaultSelector;if(!n.saveLocation||a(n.saveLocation))try{let[o,s]=rA.defaultSavingLocation(),c={accountUuid:o.uuid,vaultUuid:s.uuid};n.saveLocationSuggestion&&n.saveLocationSuggestion.accountUuid!==o.uuid&&!a(n.saveLocationSuggestion)?(j={type:"set",data:{saveLocation:n.saveLocationSuggestion,isDefaultLocation:!1}},n.saveLocation=n.saveLocationSuggestion):a(c)?(j={type:"reset"},n.saveLocation=void 0):(j={type:"set",data:{saveLocation:c,isDefaultLocation:!0}},n.saveLocation=c)}catch{j={type:"reset"},n.saveLocation=void 0,console.error("[Save Dialog] Could not get default saving location, resetting location.")}let i=await FA.saveManagerConfigure(A,j,r?{type:"new"}:void 0,n.saveLocation?await qH(n.saveLocation.accountUuid,t.isUso):void 0);return{inTutorial:bl(A),vaultSelector:await gUA(e,n.saveLocation),viewModel:i}};async function XT(A,e,t,r){if(!e.overview.b5AccountUUID)throw new F.LoggableError({errorClass:TA.assertLogSafe("createUpdateItemView"),message:TA.assertLogSafe("Attempted to update an item without an associated b5 account.")});let a=await FA.saveManagerConfigure(A,void 0,r?{type:"existing",data:e}:void 0,await qH(e.overview.b5AccountUUID,t.isUso,e));return{itemLocation:await Krt(e),viewModel:a}}async function Krt(A){if(!A.overview.b5AccountUUID)return[];let e=rA.getUnlockedAccountOverviews.find(r=>r.uuid===A.overview.b5AccountUUID);if(!e)return[];let t=e.vaults.find(r=>r.uuid===A.vault.uuid);return t?[{text:e.name,icon:await q$(e.baseAvatarUrl,e.uuid,e.avatar,e.type)},{text:A.vault.name,icon:await h0(t.baseAvatarUrl,t.accountUuid,t.avatar)}]:[]}async function bUA(A,e){chrome.tabs.create({url:"https://support.1password.com/contact/?s=Get+help+with+1Password&b=x",active:!0})}async function yUA(A,e){return await FA.editItemFilter(A.data)}var TpA=AA(Ln());var FUA=AA(Pl());function GUA(A,e,t,r){if(!chrome.runtime.onMessageExternal)return;let a=Object.keys(t);function j(i){return i?a.indexOf(i)!==-1:!1}function n(i){if(typeof i!="string")return Pe(void 0);let o=Qv.fromThrowable(JSON.parse,()=>{})(i);if(o.isErr())return Pe(void 0);let s=r.decode(o.value);return(0,FUA.isLeft)(s)?Pe(void 0):vt(s.right)}chrome.runtime.onMessageExternal.addListener(function(o,s,c){if(typeof s.id!="string"||!(Array.isArray(A)?A.includes(s.id):A===s.id))return!1;let p=n(o);if(p.isErr())return`${e}`,!1;let h=p.value,f=h.name;if(!j(f))return!1;try{let G=t[f],w=_g?G({...h,data:h.data??void 0}):Su.then(()=>G({...h,data:h.data??void 0}));return w instanceof Promise?(w.then(y=>c(y)).catch(y=>{console.error(`Exception while handling external request <${f}> from <${e}>`,y)}),!0):(c(w),!1)}catch(G){return console.error(`Exception while handling external request <${f}> from <${e}>`,G),!1}})}var wUA=AA(Pl()),ex=AA(OA()),Urt=ex.array(ex.tuple([ex.number,ex.any])),JT=class{constructor(e){this.storageKey=e,this.lockName=`session-manager_${e}_${r$()}`}async with(e){return navigator.locks.request(this.lockName,async t=>{if(!this.cachedSessions)try{let r=fa.getItem(this.storageKey);if(r){let a=JSON.parse(r),j=Urt.decode(a);if(!(0,wUA.isRight)(j))throw new Error("Malformed SessionManager");this.cachedSessions=new Map(j.right)}else this.cachedSessions=new Map}catch{console.error("[SessionManager] SessionManager contained malformed data."),this.cachedSessions=new Map}try{return await e(this.cachedSessions)}finally{fa.setItem(this.storageKey,JSON.stringify(Array.from(this.cachedSessions.entries())))}})}},qUA=JT;var ZT=AA(Wr()),SUA=AA(y7());var IH=class{constructor(){this.cache={},this.canDebug=!1,this.label="Cache",this.log=new Xa(this.label)}cacheValues(){return Object.values(this.cache)}cacheIdsByTab(e){return this.cacheValues().filter(t=>t.tabId===e).map(t=>t.uuid)}cacheIdsByType(e){return this.cacheValues().filter(t=>t.grouping===e).map(t=>t.uuid)}cacheValuesByTab(e){return this.cacheIdsByTab(e).map(t=>this.cache[t])}cacheValuesByGrouping(e){return this.cacheIdsByType(e).map(t=>this.cache[t])}cacheValuesByTabAndGrouping(e,t){return this.cacheValues().filter(r=>r.tabId===e&&r.grouping===t)}debug(e){this.canDebug&&this.log.debug(e)}cacheIds(){return Object.keys(this.cache)}upsertValueToCache(e,t,r,a){let j=a||a$().str;return this.cache[j]={data:r,tabId:e,grouping:t,uuid:j},this.debug(`${a} upserted. Cache ids=${JSON.stringify(this.cacheIds())}`),j}getAllCachedData(e,t){return!e&&!t?this.cacheValues().map(r=>r.data):e&&!t?this.cacheValuesByTab(e).map(r=>r.data):!e&&t?this.cacheValuesByGrouping(t).map(r=>r.data):e&&t?this.cacheValuesByTabAndGrouping(e,t).map(r=>r.data):[]}hasCachedData(e,t){return this.getAllCachedData(e,t).length!==0}hasCachedDataForUuid(e){return!!this.cache[e]}getCachedData(e){let t=this.cache[e];if(t)return t.data}getCachedValue(e){let t=this.cache[e];if(t)return t}removeCachedData(e){let t=!!this.cache[e];delete this.cache[e],t?this.debug(`${e} removed. Cache ids=${JSON.stringify(this.cacheIds())}`):this.debug(`${e} already removed. Cache ids=${JSON.stringify(this.cacheIds())}`)}turnOnDebug(e){this.canDebug=!0,this.log=new Xa(e||this.label)}turnOffDebug(){this.canDebug=!1}};var $UA={"autosave-prompt":!0,"autosave-2fa-prompt":!0,"inline-menu":!0,"passkey-register-success":!0,"passkey-save-prompt":!0,"passkey-signin-prompt":!0,"watchtower-breach":!0};var PH,_c=()=>PH||(PH=new FpA($UA),PH);var FpA=class{constructor(e){this.debug=!1;this.onConnect=async e=>{let t=this.parsePort(e);if(!t){this.log.debug(`${e.name} connection is not formatted for support - ignoring`);return}let{portType:r,tabId:a,portId:j,params:n}=t;if(await this.closeUnhealthyPorts(a,r),n.reconnectId){let p=this.activePorts.getPort(n.reconnectId);if(p){this.log.debug(`${e.name} replacing port ${r}/${n.reconnectId}`),p.port.replace(e,j),this.activePorts.removePort(n.reconnectId),this.activePorts.upsertPort(a,r,p,j);return}}let i=this.createWrappedPort(e,j,r,n.reconnect);this.log.info(`${e.name} opened from peer but not yet tracked - ${this.oIds(a)}`);let o=this.pendingPortRequests.getPendingRequest(a,r,n),s=`${r}/${j}`;if(!o){let p={port:i,state:"Open",id:j,params:n};this.activePorts.upsertPort(a,r,p,j),this.log.info(`${s} nobody waiting in background - ${this.pIds(a)}`),this.log.info(`${s} added to open - ${this.oIds(a)}`);return}this.log.info(`${r}/${o.id} waiting in background - ${this.pIds(a)}`);let c={port:i,state:"Connected",id:j,params:n};this.activePorts.upsertPort(a,r,c,j),this.log.info(`${s} added to connected - ${this.cIds(a)}`),this.pendingPortRequests.removePort(o.id),o.resolve(i);let u=`${s} resolved pending ${o.id}`;this.log.info(`${u} - ${this.cIds(a)}`)};this.createWrappedPort=(e,t,r,a)=>new GpA({browserPort:e,id:t,name:r,reconnect:!!a,onDisconnect:j=>{this.activePorts.removePort(j)},onLost:j=>{let n=this.activePorts.getPortRow(j);if(!n){this.log.debug("Port lost when it's not tracked - skipping recovery setup");return}if(n.data.state==="Open"){this.log.debug("Port lost before background ever connected - prefer closing over recovery"),n.data.port.close();return}n.data.state="Recoverable",this.activePorts.upsertPort(n.tabId,r,n.data,j)}});this.sendMessage=async(e,t,r)=>{await this.closeUnhealthyPorts(e,t);let a=this.activePorts.getOpenPort(e,t);if(!a){this.log.error(`No port with given tab and type - ${this.oIds(e)}`);return}a.port.postMessage(r)};this.parsePort=e=>{let t=e.name.split("/");if(t.length!==2){this.log.debug(`${e.name} A port connection with an unformatted name was opened - ignoring`);return}let[r,a]=t,j=r;if(!this.supportedPorts[j]){this.log.debug(`${e.name} A port connection was opened with an unsupported name - ignoring`);return}let n=TA.assertLogSafe(j);if(a.length===0){this.log.debug(`${e.name} A port connection was opened with an incorrect id & query param format - ignoring`);return}let[i,o]=a.split("?");if(i.length===0){this.log.debug(`${e.name} A port connection was opened without a valid port id - ignoring`);return}let s=TA.assertLogSafe(i),c={};if(o){let u=new URLSearchParams(o),p=u.get("reqId")??void 0;c.reqId=p?TA.assertLogSafe(p):void 0;let h=u.get("reconnect");c.reconnect=h==="true";let f=u.get("reconnectId")??void 0;c.reconnectId=f?TA.assertLogSafe(f):void 0}if(!e.sender?.tab?.id){this.log.error("A port connection was opened without a tab id - ignoring");return}return{portType:n,tabId:e.sender.tab.id,portId:s,params:c}};this.oIds=e=>"open="+JSON.stringify(this.activePorts.getFilteredPortIds(e,"Open"));this.cIds=e=>"connected="+JSON.stringify(this.activePorts.getFilteredPortIds(e,"Connected"));this.pIds=e=>"pending="+JSON.stringify(this.pendingPortRequests.getFilteredPortIds(e,"Requesting"));this.activeIds=()=>"active="+JSON.stringify(this.activePorts.getAllPortIds());this.wasPortConnected=(e,t)=>!!this.activePorts.getConnectedPort(t,e);this.getPort=async(e,t,r,a={})=>{if(!this.supportedPorts[e.str])throw new Error(`${e} is not registered, update PortManager constructor`);a?.reqId||await this.closeUnhealthyPorts(t,e);let j=this.activePorts.getOpenPort(t,e,a);if(j){let c=`${e}/${j.id}`;return this.log.debug(`${c} background requested an open port - ${this.oIds(t)}`),j.state="Connected",this.activePorts.upsertPort(t,e,j,j.id),this.log.debug(`${c} upserted port as connected - ${this.cIds(t)}`),Promise.resolve(j.port)}let n=a$(),i=`${e}/${n}`;this.log.debug(`${i} background requested an inactive port - ${this.pIds(t)}`);let o=new Promise(c=>{this.log.debug(`${i} creating pending request to be resolved later`);let u={resolve:c,id:n,params:a,state:"Requesting"};this.pendingPortRequests.upsertPort(t,e,u,n)}),s=fl(r).then(()=>{throw this.log.debug(`${i} hit getPort timeout - will remove from ${this.pIds(t)}`),this.pendingPortRequests.removePort(n),new Error("unavailable")});return Promise.race([o,s])};this.broadcast=e=>{let{type:t}=e;this.log.info(`${t} broadcasting across all ${this.activeIds()}`),this.activePorts.getAllPorts().forEach(r=>{r.port.postMessage(e)})};this.closeUnhealthyPorts=async(e,t)=>{let j=this.activePorts.getAllPorts(e,t).map(n=>n.port.closeIfUnhealthy(100,!0));await Promise.all(j)};this.activePorts=new SH,this.pendingPortRequests=new SH,this.supportedPorts=e,this.log=new Xa("PortManager"),this.debug&&(this.activePorts.turnOnDebug("PortManager: PortCache"),this.pendingPortRequests.turnOnDebug("PortManager: PendingCache")),chrome.runtime.onConnect.addListener(this.onConnect.bind(this))}},GpA=class{constructor({browserPort:e,id:t,onDisconnect:r,onLost:a,name:j,reconnect:n}){this.setConfig=(e,t,r,a)=>{this.port=e,this.id=t,this.name=r,this.logPrefix=`PortManager: ${r.str}/${t.str}`,this.reconnect=a};this.addPortListeners=()=>{this.port.onMessage.addListener(this.onMessage.bind(this)),this.port.onDisconnect.addListener(this.peerDisconnect.bind(this))};this.removePortListeners=()=>{this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.peerDisconnect)};this.setHealthCheckToDefaults=()=>{this.healthCheckCompleter=null,this.healthCheckId=null};this.closeIfUnhealthy=async(e,t=!1)=>{if(this.healthCheckCompleter!==null){`${this.logPrefix}`,await this.healthCheckCompleter.promise;return}this.healthCheckCompleter=Ic(),this.healthCheckId=a$();try{let a={type:"pm-health-check-request",data:{id:this.healthCheckId.str}};this.port.postMessage(a)}catch{`${this.logPrefix}`;return}let r=await Promise.race([this.healthCheckCompleter.promise,fl(e)]);if(r.type==="timeout"){this.healthCheckCompleter.resolve(r);let a="did not receive health check response - closing port";console.warn(`${this.logPrefix} ${a}`),this.onDisconnect(!0,a);return}if(r.data.windowClosed!==!1){let a="sender window has been closed - closing port";console.warn(`${this.logPrefix} ${a}`),this.onDisconnect(!1,a);return}t&&`${this.logPrefix}`,this.healthCheckCompleter=null,this.healthCheckId=null};this.handleHealthCheckResponse=e=>{if(this.healthCheckId===null||this.healthCheckCompleter===null){console.error(`${this.logPrefix} received health check response when no request is in flight - ignoring`);return}if(e.data.id!==this.healthCheckId.str){console.warn(`${this.logPrefix} received health check response for stale request - ignoring`);return}this.healthCheckCompleter.resolve(e)};this.onMessage=e=>{if(`${this.logPrefix}${e.type}`,e.type==="pm-health-check-response"){this.handleHealthCheckResponse(e);return}if(this.pendingMessageResolver!==null){this.pendingMessageResolver(e),this.pendingMessageResolver=null,this.pendingMessage=null;return}this.messages.push(e)};this.postMessage=e=>{try{this.port.postMessage(e),`${this.logPrefix}${e.type}`}catch{console.warn(`${this.logPrefix} failed to send: ${e.type}`)}};this.raceDisconnect=async(e,t)=>{if(e.length===0&&(typeof t!="number"||t<0))throw new Error("raceDisconnect must include a known ending - include a positive timeout");let r,a,j;if(sa()){let i=()=>{this.closeIfUnhealthy(50)};i(),a=setInterval(i,50)}try{r=await Promise.race([this.getResolvingDisconnect(),fl(t),...e])}catch(n){j=n}if(a&&clearInterval(a),j)throw j;return r};this.getResolvingDisconnect=()=>new Promise(e=>{this.disconnectPromise.then(t=>{e({type:"disconnected",data:{error:t}})})});this.readMessage=()=>{if(this.messages.length>0){let e=this.messages[0];return this.messages.shift(),Promise.resolve(e)}if(this.pendingMessageResolver!==null)throw new Error("out of bounds");return this.pendingMessage=new Promise(e=>{this.pendingMessageResolver=e}),this.pendingMessage};this.readUntil=async e=>{for(;;){let t=await this.readMessage();if(e.some(r=>r===t.type))return t}};this.sendErrorAndClose=e=>{this.port.postMessage({type:"error",data:{loggableReason:e}}),this.close(e)};this.close=e=>{e?console.error(`${this.logPrefix} closed by background with error "${e}"`):`${this.logPrefix}`,this.onDisconnect(!1,e)};this.replace=(e,t)=>{this.setConfig(e,t,this.name,this.reconnect),this.addPortListeners(),this.setHealthCheckToDefaults()};this.peerDisconnect=()=>{let e=chrome.runtime.lastError?.message;e?console.error(`${this.logPrefix} closed by browser with error "${e}"`):`${this.logPrefix}`;let t=!!e;this.onDisconnect(t,e)};this.onDisconnect=(e,t)=>{if(this.reconnect&&e){this.notifyManagerOfLostPeer?.(this.id),`${this.logPrefix}`;return}this.removePortListeners();try{this.port.disconnect()}catch{}this.disconnectResolver(t),this.notifyDisconnect&&(this.notifyDisconnect(this.id),this.notifyDisconnect=void 0)};this.setConfig(e,t,j,n),this.addPortListeners(),this.notifyDisconnect=r,this.notifyManagerOfLostPeer=a,this.disconnectPromise=new Promise(i=>{this.disconnectResolver=i}),this.messages=[],this.pendingMessage=null,this.pendingMessageResolver=null,this.setHealthCheckToDefaults()}},SH=class extends IH{constructor(){super()}upsertPort(e,t,r,a){return super.upsertValueToCache(e,t.str,r,a?.str)}getAllPortIds(){return super.cacheIds()}getFilteredPortIds(e,t){return super.getAllCachedData(e).filter(a=>a.state===t).map(a=>a.id)}getAllPorts(e,t){return super.getAllCachedData(e,t?.str)}findRecord(e,t,r,a){return super.getAllCachedData(e,t.str).filter(n=>n.state===r).find(n=>a?.reqId?a.reqId.str===n.params.reqId?.str:typeof n.params?.reqId>"u")}getPendingRequest(e,t,r){return this.findRecord(e,t,"Requesting",r)}getOpenPort(e,t,r){return this.findRecord(e,t,"Open",r)}getConnectedPort(e,t,r){return this.findRecord(e,t,"Connected",r)}getPort(e){return super.getCachedData(e.str)}getPortRow(e){return super.getCachedValue(e.str)}removePort(e){return super.removeCachedData(e.str)}turnOnDebug(e){super.turnOnDebug(e)}};var CUA=AA(Ln());var YT=AA(Wr());var wpA=async()=>{let A=[];for(let e of Object.values(IT))await Xrt(e)&&A.push(e);return A},tx=async()=>(await wpA()).length!==0;async function qpA(A,e){let t=await $t.loadItemCache();if(!t)return[];let r=t.fillableItems(Qt.combine(Qt.template(A),Qt.userSelected(Ej(),void 0,void 0,t),j=>e?Qt.nakedDomain(e)(j):!0));return(await Promise.all(r.map(Oo))).filter(j=>!!j)}function $pA(A,e,t){let r=a=>{if(a.templateUuid!==A)return!1;switch(A){case $r:let j=Hrt(a,"password"),n=Dg(t,YT.AutofillType.CurrentPassword)??Dg(t,YT.AutofillType.NewPassword);return j&&n&&j===n;case qj:let i=w=>w?.replace(/[^a-zA-Z0-9]/g,""),o=Vrt(a,"ccnum"),s=typeof o=="string"?i(o):void 0,c=i(Dg(t,YT.AutofillType.CcNumber));return s&&c&&s===c;case ti:let u=ZA.VaultItem.findFieldWithName("address",a),p=u?ZA.VaultItem.getAddressValue(u):void 0,h=w=>{let y=/\b(ave|avenue|blvd|boulevard|ct|court|dr|drive|hwy|highway|ln|lane|pkwy|parkway|pl|place|rdg|ridge|rd|road|st|str|street|ter|terrace)\b/i;if(!w)return;let E=w.toLowerCase().split(","),$=E[0].search(y);return{line1:($>0?E[0].substring(0,$):w).trim(),line2:E[1]?.trim()}},f=h(p?.street),G=h(Dg(t,YT.AutofillType.StreetAddress));return!u||!p||!f?.line1||!G?.line1||f?.line1!==G?.line1?!1:!G.line2||G.line2===f.line2;default:return!1}};return e.length>0&&e.some(r)}function Dg(A,e){let t=A.fields.find(r=>r.designation.autofillType===e);return t?t.value:void 0}function Hrt(A,e){if(!A.details?.fields)return;let t=A.details.fields.find(r=>r.designation===e);return t?t.value:void 0}var Vrt=(A,e)=>{if(A.details?.sections){for(let t of A.details.sections)if(t.fields){for(let r of t.fields)if(r.n===e)return r.v}}},Xrt=async A=>{let e=Re(),t=Cc[A],r=!!e[t.setting];return t.featureFlag?r&&await Ar.anyAccountHasFlag(t.featureFlag):r},CH=async A=>{let{showRichIcons:e}=Re();return{title:A.title,subtitle:A.subtitle,icon:await Pu(A,120,e)}};var IUA="AUTOSAVE_2FA_INTERACTION",PUA=async A=>{let e=await yp(void 0),t=await WT($r,[await A.nakedDomain()],void 0);return{accounts:e,updateableItems:t}},OUA=async(A,e)=>{let t=await PUA(A);if(t.updateableItems.length===0)return;let r=await xp(A.id,{type:"autosaveTotp"});if(!r)throw new Error("Failed to spawn a notification with an id");let a;try{a=await _c().getPort(TA.assertLogSafe("autosave-2fa-prompt"),A.id,3e3,{reqId:r})}catch{throw new Error("Failed to obtain the Autosave for 2FA port.")}let j=async({accounts:s,updateableItems:c})=>({type:"autosave-2fa-configuration",data:{updatableItemListElements:await B0(s,c,void 0),firstRun:Ze.getItem(IUA)!=="true"}});a.postMessage(await j(t));let n=async s=>{switch(s.type){case"autosave-2fa-save":try{let{itemUuid:c}=q7(s.data.id),u=await Jrt(c,e,s.data.overwrite);if(!u)return a.postMessage({type:"autosave-2fa-overwrite",data:{id:s.data.id}}),!1;Ze.setItem(IUA,"true"),a.postMessage({type:"autosave-success",data:await CH(u)});try{Wrt(A,e)}catch{}return a.close(),!0}catch{return a.postMessage({type:"error",data:{loggableReason:"save-error"}}),!1}case"autosave-unlocked":try{a.postMessage(await j(await PUA(A)))}catch{a.postMessage({type:"error",data:{loggableReason:"unlock-error"}})}return!1;case"disconnected":return a.close(),!0;case"timeout":return a.sendErrorAndClose("timeout"),!0;default:jr(s)}},i=fl(3e5),o;for(;o=await a.raceDisconnect([a.readMessage(),i]),!(!o||await n(o)););};async function Wrt(A,e){let t=await FA.generateOneTimePasswordFromUrl(e),r=await dn(A);QT(A,r,{fillTargets:[{type:"Url",data:A.unparsedUrl}],fields:[{designation:ZT.AutofillType.OneTimeCode,fieldTypes:[ZT.ElementType.Text,ZT.ElementType.Password],value:t,label:"",htmlId:"",htmlName:"",checked:!1,restricted:!0}]},!1)}async function Jrt(A,e,t){let r=await mn(A);if(!r)throw new Error("Could not load item");r.details.sections||(r.details.sections=[]);let a;for(let n of r.details.sections)if(n.fields){for(let i of n.fields)if(ZA.VaultItem.isTotpField(i)){a=i;break}}if(a)if(t)a.v=e;else return;else r.details.sections.push({title:"",fields:[{k:"concealed",n:"TOTP_"+F.generateUUID(),v:e,t:(0,CUA.T)("one-time password")}],name:"Section_"+F.generateUUID()});let j=await un(r);try{j.templateUuid&&j.overview.b5AccountUUID&&(Tu(j.overview.b5AccountUUID,he.UsoTelemetryActions.AutoSaveUpdateItem2fa),tj("ItemUpdate",{template_uuid:SUA.TelemetryString.assertSafeForTelemetry(j.templateUuid),status:"SUCCESS",update_method:"AUTOSAVE",one_time_password_added:!0},j.overview.b5AccountUUID))}catch{}return j}var I7=AA(Wr()),IpA=AA(y7());var A_=AA(Ln());var Zrt=_c();async function Qrt(A,e){let t;try{t=await Zrt.getPort(TA.assertLogSafe("autosave-prompt"),A.id,3e3,{reqId:e})}catch{throw new Error("Failed to get port")}return t}async function _UA(A,e,t){let r=await Qrt(A,t);r.postMessage(await TUA(A,e));let a=async i=>{switch(i.type){case"autosave-dismissed":return r.close(),rx(A.id),!0;case"autosave-edit":return await Aat(A,e,i.data.id),r.close(),!0;case"autosave-unlocked":return r.postMessage(await TUA(A,e)),!1;case"autosave-save":try{let o=await rat(A,e,i.data);return r.postMessage({type:"autosave-success",data:bl(A)?DUA():await CH(o)}),r.close(),rx(A.id),!0}catch(o){r.postMessage({type:"error",data:{loggableReason:"save-error"}}),ht(new fn({errorClass:TA.assertLogSafe("handleAutosaveNotification"),message:TA.assertLogSafe("Autosave failed to save item."),stackOverrideError:o instanceof Error?o:void 0}))}return!1;case"disconnected":return r.close(),!0;case"timeout":return r.sendErrorAndClose("timeout"),!0;default:jr(i)}},j=fl(3e5),n;for(;n=await r.raceDisconnect([r.readMessage(),j]),!(!n||await a(n)););e.ready&&(e.ready.notificationId=void 0)}var Aat=async(A,e,t)=>{let r=async n=>{try{let i;if(n)i=(await $t.loadItemCache())?.itemWithUUID(n)?.overview.b5AccountUUID;else{let[o]=rA.defaultSavingLocation();i=o.uuid}i&&Tu(i,he.UsoTelemetryActions.AutoSaveEditItem)}catch{}},a;if(t){let{itemUuid:n}=q7(t);r(n),a={name:"update-item",data:{itemUuid:n}}}else r(void 0),a={name:"new-item"};let{templateUuid:j}=Cc[e.saveType];Vi(A,j,{name:"save-object",data:await PpA(e)},a),rx(A.id)},DUA=()=>({icon:{id:"autosave-tutorial-icon",sources:[{type:"DefaultIcon",content:{file:I7.DefaultIconFile.TutorialGlobe}}]},title:(0,A_.T)("Any Website"),subtitle:"user.name@example.com"}),eat=async(A,e,t)=>{if(bl(A))return DUA();switch(e){case"login":let{showRichIcons:r}=Re(),a=Dg(t,I7.AutofillType.Username)??"\u2014",[j,n]=await Promise.all([FA.getRichIconForUrl(t.urls[0],t.title??"",r),FA.inferBestTitle(t.title??"",t.urls[0])]);return{icon:j,title:n??(0,A_.T)("Login"),subtitle:a};case"creditCard":let i=Dg(t,I7.AutofillType.CcNumber)??"\u2014";return{icon:{id:"",sources:[{type:"DefaultIcon",content:{file:await hH(i,Cc[e].templateUuid),masked:!1,description:void 0}}],shape:I7.IconShape.RoundedRect},title:t.title??(0,A_.T)("Credit Card"),subtitle:await FA.concealCreditCardNumber(i)};case"identity":let o=Dg(t,I7.AutofillType.GivenName)??"",s=Dg(t,I7.AutofillType.FamilyName)??"",c=`${o} ${s}`.trim()||"\u2014";return{icon:{id:"",sources:[{type:"DefaultIcon",content:{file:await hH(c,Cc[e].templateUuid),masked:!1,description:void 0}}],shape:I7.IconShape.RoundedRect},title:t.title??(0,A_.T)("Identity"),subtitle:c};default:jr(e)}},TUA=async(A,e)=>{let{templateUuid:t}=Cc[e.saveType],r=await PpA(e),a;try{a=await FA.getEmailAliasSessionStatus(A.id)}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("sendVaultItemUpdate"),message:TA.assertLogSafe("Failed to load masked email session for tab."),stackOverrideError:o instanceof Error?o:void 0}))}let{defaultSuggestedVaultId:j,vaultListElements:n}=await E0(a,{includeDontSaveOption:!1}),i=[];try{i=await tat(A,t,r,a)}catch(o){ra(o)?ht(o):ht(new F.LoggableError({errorClass:TA.assertLogSafe("AutosaveGetConfiguration"),message:TA.assertLogSafe("Failed to load updatable items for session."),stackOverrideError:o instanceof Error?o:void 0}))}return{type:"autosave-configuration",data:{preview:await eat(A,e.saveType,r),saveType:e.saveType,vaultListElements:n,defaultSuggestedVaultId:j,updatableItemListElements:i}}},tat=async(A,e,t,r)=>{let a=t.urls.map(c=>FA.nakedDomainForUrl(c)),j=await yp(r),n=await WT(e,a,r),i=n.length>0?await FA.autoSaveMatchingItems(n,t,e):[],o=n.filter(c=>i.includes(c.uuid)),s=o.length>0?o[0]:void 0;return B0(j,n,s?.localId)},rat=async(A,e,t)=>{let{templateUuid:r}=Cc[e.saveType],a;try{a=await xH(A,r)}catch(o){ht(new fn({errorClass:TA.assertLogSafe("saveItemFromSession"),message:TA.assertLogSafe("Autosave failed to check for masked email data"),stackOverrideError:o instanceof Error?o:void 0}))}let j=await Dc(r),n=await PpA(e);if(!j)throw new fn({errorClass:TA.assertLogSafe("saveItemFromSession"),message:TA.assertLogSafe(`Autosave failed to load item template ${r}`)});let i=await aat(j,n,a,t);return bl(A)?($H(A,i),i):jat(A,e,i,t)},PpA=async A=>{let{templateUuid:e}=Cc[A.saveType];return A.ready?A.ready.saveObject:FA.createSaveObject(e,A.collectedPageDetails)},aat=async(A,e,t,r)=>{let a=async j=>FA.mergeSaveObjectWithItem(A,j,e,t);switch(r.type){case"new":let j=r.data.vaultSelector,n=YE(j.accountUuid,j.vaultUuid,await a(void 0));if(n.isErr())throw n.error;return n.value;case"update":let{itemUuid:i}=q7(r.data.id),o=await mn(i);if(!o)throw new Error("Could not load item");return F$(o,await a(o));default:jr(r)}},jat=async(A,e,t,r)=>{try{await bH(A,t)}catch{}let a=await un(t,!1);try{if(a.templateUuid&&a.overview.b5AccountUUID)switch(r.type){case"new":Tu(a.overview.b5AccountUUID,nat(e,a.templateUuid)),tj("ItemCreate",{template_uuid:IpA.TelemetryString.assertSafeForTelemetry(a.templateUuid),status:"SUCCESS",create_method:"AUTOSAVE"},a.overview.b5AccountUUID);break;case"update":Tu(a.overview.b5AccountUUID,iat(e,a.templateUuid)),tj("ItemUpdate",{template_uuid:IpA.TelemetryString.assertSafeForTelemetry(a.templateUuid),status:"SUCCESS",update_method:"AUTOSAVE"},a.overview.b5AccountUUID);break;default:jr(r)}}catch{}return a};function nat(A,e){switch(e){case $r:return A.generatePasswordDetails?he.UsoTelemetryActions.AutoSaveSaveItemSpg:he.UsoTelemetryActions.AutoSaveSaveItem;case qj:return he.UsoTelemetryActions.AutoSaveSaveItemCreditCard;case ti:return he.UsoTelemetryActions.AutoSaveSaveItemIdentity;default:return he.UsoTelemetryActions.AutoSaveSaveItem}}function iat(A,e){switch(e){case $r:return A.generatePasswordDetails?he.UsoTelemetryActions.AutoSaveUpdateItemSpg:he.UsoTelemetryActions.AutoSaveUpdateItem;case qj:return he.UsoTelemetryActions.AutoSaveUpdateItemCreditCard;case ti:return he.UsoTelemetryActions.AutoSaveUpdateItemIdentity;default:return he.UsoTelemetryActions.AutoSaveUpdateItem}}var oat=4,ax=new qUA("autosave-sessions");function zUA(){rr.resolve($u).subscribe(Bo,dat).subscribe(rd,cat)}async function MUA(A,{tab:e}){let t=A.data;t&&Ka({tabId:e.id,message:{name:"autosave-notify-capture",data:!0}});let r=await dn(e);return ax.with(async a=>{let j=a.get(e.id);if(j)j.collectedPageDetails=r,t&&Cc[t].priority<Cc[j.saveType].priority&&(j.saveType=t);else{if(!t)return;a.set(e.id,{saveType:t,collectedPageDetails:r,ready:void 0})}})}function SpA(A,e){return{hasBeenCheckedAfterUnlock:!1,readyTimestamp:Date.now(),saveObject:e,expirationNavigationCount:oat,notificationId:void 0,isTutorial:bl(A)}}async function RUA(A,{tab:e}){let t=await ax.with(async r=>{let a=r.get(e.id);if(!a)return;let{templateUuid:j,triggers:n}=Cc[a.saveType],i=await FA.createSaveObject(j,a.collectedPageDetails,a.generatePasswordDetails);if(i.fields.some(s=>n.includes(s.designation.autofillType)))if(rA.allAccountHandlersAreLocked){a.ready=SpA(e,i);return}else{let s=i.urls.length>0?FA.nakedDomainForUrl(i.urls[0]):void 0;return $pA(j,await qpA(j,s),i)?void 0:(a.ready=SpA(e,i),a)}});t&&OH(e,t)}async function KUA(A,{tab:e}){if(await v7(e.id)!==void 0)return;let r=await e_();r.isOk()&&OUA(e,r.value)}function LUA(A){ax.with(async e=>sat(e,A))}function sat(A,e){Ka({tabId:e,message:{name:"autosave-notify-capture",data:!1}});let t=A.get(e);if(t){if(!t.ready){A.delete(e);return}if(t.ready.isTutorial){A.delete(e);return}t.ready.expirationNavigationCount-=1,t.ready.expirationNavigationCount<=0&&(A.delete(e),t.ready.notificationId&&(WE(e,t.ready.notificationId),t.ready.notificationId=void 0))}}async function NUA(A){await tx()&&ax.with(async t=>{let r=t.get(A.id);if(r){if(!r.ready){t.delete(A.id);return}rA.allAccountHandlersAreLocked||OH(A,r)}})}async function UUA(A,e){ax.with(async t=>lat(A,t,e))}async function lat(A,e,t){Ka({tabId:A.id,message:{name:"autosave-notify-capture",data:!0}});let r=await dn(A),a=await FA.createSaveObject($r,r,t),j={generatePasswordDetails:t,collectedPageDetails:r,saveType:"login",ready:SpA(A,a)};e.set(A.id,j),OH(A,j)}async function OH(A,e){if(!e.ready)return;let t=A.URL()?.host||"",r=await A.nakedDomain(),a=[];for(let o of rA.getAccountHandlers){let s=await o.getManagedVaultFromDb();if(typeof s<"u"&&typeof s.localId<"u"){let c=await o.getVaultItems(s.localId);a.push(...c)}}if(a.some(o=>gmA({urls:CpA(o),urlToNakedDomains:o.urlToNakedDomains||{}},t,r))||await v7(A.id))return;let i=await xp(A.id,{type:"autosave",params:{tutorialMode:bl(A)}});i&&(e.ready.notificationId=i,_UA(A,e,i))}async function cat(){ax.with(async A=>uat(A))}async function uat(A){await tx()&&A.forEach(t=>{t.ready&&(t.ready.hasBeenCheckedAfterUnlock=!1)})}async function dat(){ax.with(async A=>pat(A))}var mat=A=>Date.now()-A>12e4;async function pat(A){if(await tx()){for(let[t,r]of A)if(r.ready){if(r.ready.hasBeenCheckedAfterUnlock)return;r.ready.hasBeenCheckedAfterUnlock=!0;let a=await xl(t);if(!a){A.delete(t);return}if(await v7(t))return;if(mat(r.ready.readyTimestamp)){A.delete(t);return}let{templateUuid:j}=Cc[r.saveType],n=r.ready.saveObject.urls.length>0?FA.nakedDomainForUrl(r.ready.saveObject.urls[0]):void 0;if($pA(j,await qpA(j,n),r.ready.saveObject)){r.ready=void 0;return}OH(a,r)}}}function rx(A){ax.with(async e=>{e.delete(A)})}async function Vi(A,e,t,r={name:"suggested-item",data:void 0}){try{rx(A.id)}catch{}let a=await Dc(e);if(!a){console.error(`Unable to load template with UUID ${e} when attempting to open the save dialog.`);return}let{showRichIcons:j,language:n}=Re(),i=await xH(A,e);return await FA.saveManagerCreate(A,!1,a,i,t,r,j,n).catch(o=>console.error("Failed to start save session",o)),vp(A.id,{name:"save-dialog"})}async function HUA(A,e,t={name:"suggested-item",data:void 0}){let r=await Dc(A);if(!r){console.error(`Unable to load template with UUID ${A} in showSavePromptInNewTab`);return}return VUA("save-dialog",async a=>{let{showRichIcons:j,language:n}=Re();await FA.saveManagerCreate(a,!0,r,void 0,e,t,j,n).catch(i=>console.error("Failed to start save session",i))})}async function _H(A){if(Pa())return;let e=await ca();e?.isHttpOrHttps()&&await Vi(e,A,{name:"collected-page-details",data:{collectedPageDetails:await dn(e)}})}function kat(){switch("firefox"){case"chromium":return["bfnaelmomeimhlpmgjnjophhpkkoljpa","ghdnndoidmmnfjgddnaogdjcaopnlcdm"];case"firefox":return["{7c42eea1-b3e4-4be4-a56f-82a5852b12dc}"];default:return[]}}function hat(){return{buildNumber:parseInt(A6())}}var OpA,zH;async function gat(A){let{saveRequest:e,type:t}=A.data;for(let a of e.fields)Array.isArray(a.value)&&(a.value=new TextDecoder("utf-8").decode(new Uint8Array(a.value)));let r=await HUA(t,{name:"save-request",data:{data:JSON.stringify(e),urls:[]}});return new Promise(a=>{zH=a,OpA=r?.id})}function XUA(A,e){A!==OpA||!zH||(zH({saved:e}),zH=void 0,OpA=void 0)}GUA(kat(),"Phantom",{hello:hat,"create-item":gat},gBA);var JUA="/inline/save-dialog/save-dialog.html",_pA="DoNotSaveIn1PasswordAccountUuid",MH="DoNotSaveIn1PasswordVaultUuid",DpA=new JT("privacy-integration-sessions");async function YUA(A,e){return DpA.with(async t=>{let r=await Dc($r);if(!r){console.error("Unable to load login item template in showEnablePrivacyPrompt");return}t.set(A.id,{data:JSON.parse(e),urls:[A.unparsedUrl],itemTemplate:JSON.stringify(r)}),vp(A.id,{name:"privacy-enable-integration",data:void 0})})}async function ZUA(A,e){return DpA.with(async t=>{let r=t.get(A.id);if(!r){console.error("Attempted to save a privacy integration item without session.");return}t.delete(A.id);let a=await FA.createItemFromSaveRequest(r);return MNA(e,a)})}function vp(A,e){Ka({tabId:A,message:{name:"show-save-dialog",data:{sessionId:A,type:e}}})}async function VUA(A,e){let t=chrome.runtime.getURL(JUA),r=await ir.openTab({url:`${t}#loading`,waitForLoad:!0});if(!r.id){console.error("Tab in showSavePromptInNewTab was missing an ID");return}let a=G$(r.id,t);return e(a),chrome.tabs.update(r.id,{url:`${t}#${A}`}),a}async function QUA(){let{language:A,appTheme:e}=Re(),t=P7();return{appTheme:e,locale:A,locked:Pa(),connectivityStatus:await Yr.connectivityStatus(),unleashFeatures:t}}async function E0(A,{accountsFilter:e,includeDontSaveOption:t}={includeDontSaveOption:!1}){let r=await yp(A).then(n=>e?n.filter(i=>e(i.uuid)):n);r.sort((n,i)=>n.disabled>=i.disabled?1:-1);let a=[];t&&a.push({type:"DoNotSave",content:{id:{accountUuid:_pA,vaultUuid:MH},name:(0,TpA.T)("Don't Save in 1Password"),icon:{id:"id",sources:[{type:"ThemedIcon",content:{file:WUA.ThemedIconFile.Delete}}]}}});for(let n of r)if(a.length>0&&a.push({type:"Separator",content:`separator-${n.uuid}`}),a.push({type:"SectionHeader",content:{id:n.uuid,label:n.name.toUpperCase(),accessibilityLabel:n.name}}),n.disabled)a.push({type:"Text",content:{id:`${n.uuid}-unlinked`,text:(0,TpA.T)("To save an item in this account you need to link it to the previously selected Masked Email account")}});else for(let i of n.vaults)a.push({type:"Vault",content:{id:{vaultUuid:i.uuid,accountUuid:n.uuid},accountIcon:await q$(n.baseAvatarUrl,n.uuid,n.avatar,n.type),accountName:n.name,icon:await h0(i.baseAvatarUrl,n.uuid,i.avatar),name:i.name,accessibilityLabel:i.name}});let j;try{let[n,i]=rA.defaultSavingLocation();r.some(s=>!s.disabled&&s.uuid===n?.uuid&&s.vaults.some(c=>c.uuid===i?.uuid))&&(j={accountUuid:n.uuid,vaultUuid:i.uuid})}catch{console.error("Could not get default saving location, resetting location.")}return{vaultListElements:a,defaultSuggestedVaultId:j}}async function RH(A,e,t){let r=!1;await Su,r=await FA.saveManagerAction({type:"clear",content:{tabId:A,tabUrl:e}}).then(a=>a.type==="clear"&&a.content).catch(a=>(console.error("Failed to clear save session",a),!1)),r&&XUA(A,t),await DpA.with(async a=>{a.delete(A)})}function $$(A,e){let t={name:"hide-save-dialog",data:{saved:e}},r=A.URL();r&&$U(r).toLowerCase()===chrome.runtime.getURL(JUA)?chrome.tabs.remove(A.id):Ka({tabId:A.id,message:t}),RH(A.id,void 0,e)}function AHA(A,{tab:e}){$$(e,!1)}function eHA(A){RH(A,void 0,!1)}async function tHA(A,{tab:e}){let t=await FA.inferBestTitle(e.title,e.unparsedUrl)??"SSH Key";return{vaults:await E0(),title:t}}async function KH(A){let e=JSON.parse(A),t=await $t.loadItemCache();if(!t)return;let r=t.accountForVaultID(Un(e.vault));if(!r)return;let a=t.vaultWithUUID(e.vault.uuid,r.uuid);if(a){let j=new ZA.VaultItem(a);return j.details=e.details,j.localId=-1,j.overview=e.overview,j.templateUuid=e.templateUuid,j}}function $H(A,e){let t=A.id,r=A.URL()?.origin;e.details.fields&&!e.details.fields[0].value?.length&&(e.details.fields[0]={designation:"username",id:"",name:"",type:"T",value:"user.name@example.com"},e.overview.ainfo="user.name@example.com"),(!e.details.password||e.details.password==="")&&e.details.fields?.push({designation:"password",id:"",name:"",type:"P",value:"SecurePass123!"}),e.title="Any Website",(!e.overview.url||e.overview.url==="")&&(e.overview={title:"Any Website",ainfo:"user.name@example.com",url:r,URLs:[{u:r||"",l:"website",m:"default"}],ps:100,pbe:84.24922180175781,pgrng:!0}),fa.setItem("tutorial-save",JSON.stringify(e)),Ka({tabId:t,message:{name:"tutorial-save-finished",data:void 0}})}var C7=AA(Ln());var rHA="/assets/png/brex_vendor_32@2x-UDSNK3PG.png";var aHA="/assets/png/privacy-TJGPEKHB.png";async function jHA(A,e,t,{showRichIcons:r,hasHiddenTemplate:a=!1,iconSize:j=A.templateUuid===nI?128:120}){let n=A.uuid,i=A.vault.uuid,o=A.overview.b5AccountUUID,s=a?"000":A.templateUuid,c=[...A.tags].sort(),u;return s===qj&&(u=await FA.getCreditCardType(A.overview.ainfo)),{id:m0(A),uuid:n,vaultUuid:i,accountUuid:o,version:A.itemVersion,title:A.title,secondary:s===$r?A.overview.ainfo||"\u2013":A.overview.ainfo,formattedSecondary:await nHA(A,u),favorite:(A.faveIndex??0)>0,templateUuid:s,urls:CpA(A),action:yat(A,e,t),trashed:A.state===GA.ItemState.Archived,urlToNakedDomains:A.urlToNakedDomains||{},coreIcon:await Pu(A,j,r),suggested:!1,tags:c,hasCustomIcon:!!(A.overview.icons&&A.overview.icons.detail),isManagedApplication:A.templateUuid==="912"}}function CpA(A){return A.overview.URLs?A.overview.URLs.filter(e=>e.u).map(e=>{let t;switch(e.m){case"host":t=LH.ItemUrlMode.Host;break;case"never":t=LH.ItemUrlMode.Never;break;default:t=LH.ItemUrlMode.Default}return{url:e.u,mode:t}}):[]}var nHA=async(A,e)=>{let t=A.overview.ainfo;switch(A.templateUuid){case qj:if(!t)return"";if(e===S7.CcType.AmericanExpress&&t.length>10){let r=t.substr(0,4),a=t.substr(t.length-5);return`${r} \u2022\u2022\u2022\u2022\u2022\u2022 ${a}`}if(e===S7.CcType.AmericanExpress&&t.length>5)return`\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022\u2022\u2022 ${t.substr(t.length-5)}`;if(t.length>8){let r=t.substr(0,4),a=t.substr(t.length-4);return`${r} \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${a}`}return t.length>4?`\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${t.substr(t.length-4)}`:t;case V6:return A.createdAt?.toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric"});default:return}};function xat(A,e,t){if(!t)return"";let r=A;if(r.cacheInformation?.provider){let{provider:a,category:j}=r.cacheInformation;return`../images/${a}_${j}_32@2x.png`}else return ZA.VaultItem.getRichIconUrl(A,e)}async function zpA(A,{title:e,secondary:t,icon:r,designationFilter:a,accessory:j}){let n=JSON.stringify(m0(A));return{name:"entry",data:{id:wu.createUniqueId(),title:e,secondary:t,icon:r,accessory:j,action:{name:"fill-item",data:{itemId:n,designationFilter:a}}}}}async function iHA(A,{showRichIcons:e,iconSize:t=60,isPersonItem:r=!1}){let a=JSON.stringify(m0(A)),j=A.templateUuid??"000",n,i;j===qj&&(n=await FA.getCreditCardType(A.overview.ainfo)),j===$r&&A.overview.passkey?.credentialId&&(i="passkey"),r&&(i="profile");let o=async()=>{let u=await nHA(A,n)??A.overview.ainfo;return j===$r&&!u&&(u="\u2014"),u},s=!!(A.overview.icons&&A.overview.icons.detail),c={favorite:(A.faveIndex??0)>0,richIconUrl:xat(A,t,e),iconColor:A.uuid?FA.generateRichIconBackgroundColor(A.uuid):"",customIcon:s?a:void 0,templateUuid:j,ccType:n};return zpA(A,{title:A.title,secondary:await o(),icon:c,accessory:i})}async function oHA(A){return{name:"entry",data:{id:wu.createUniqueId(),title:(0,C7.T)("Use Suggested Password"),secondary:A.password,icon:{templateUuid:V6},action:{name:"fill-generated-password",data:A}}}}async function sHA(){return{name:"action",data:{id:wu.createUniqueId(),title:(0,C7.T)("Create SSH Key\u2026"),icon:{templateUuid:Sl},action:{name:"show-ssh-create-dialog",data:void 0}}}}async function lHA(){return{name:"action",data:{id:wu.createUniqueId(),title:(0,C7.T)("Create Privacy Card\u2026"),icon:{richIconUrl:aHA},action:{name:"show-privacy-dialog",data:void 0}}}}async function cHA(){return{name:"action",data:{id:wu.createUniqueId(),title:(0,C7.T)("Create Masked Email\u2026"),action:{name:"show-email-alias-dialog",data:void 0}}}}async function uHA(){return{name:"action",data:{id:wu.createUniqueId(),title:(0,C7.T)("Create Brex vendor card\u2026"),icon:{richIconUrl:rHA},action:{name:"show-brex-create-dialog",data:void 0}}}}async function dHA(){return{name:"action",data:{id:wu.createUniqueId(),title:(0,C7.T)("Fill Masked Email\u2026"),action:{name:"fill-existing-alias",data:void 0}}}}function mHA(A,e){return new qU({uuid:A.uuid,title:A.localizedSingularName(),pluralTitle:A.localizedPluralName(),hasHiddenTemplate:A.hasHiddenTemplate,disableCreation:e,hasItems:A.hasItems,localizedStrings:A.template?.attrs.localizedStrings??{}})}var bat=/^([a-z]*):\/\//;function yat(A,e,t){let r=e?A.urlToNakedDomains&&Object.values(A.urlToNakedDomains).includes(e):!1,a;if(A.templateUuid===$r&&A.url){let j=bat.exec(A.url.toLowerCase())?.[1];a=!j||j==="http"||j==="https"?r?S7.ItemAction.Autofill:S7.ItemAction.Go:null}else e&&(A.templateUuid===qj||A.templateUuid===ti||A.templateUuid===Sl)?a=S7.ItemAction.Autofill:a=null;return t&&a&&a===S7.ItemAction.Autofill&&(a=null),t&&a&&a===S7.ItemAction.Go&&(a=S7.ItemAction.OpenURL),a}function m0(A){return A.cacheInformation?.provider==="brex"?{type:"cachedItem",data:{type:"brex",id:A.uuid}}:{type:"databaseId",data:zg(A)}}function Un(A){if(typeof A.localId!="number")throw new Error("Vault was missing localId in getLocalIdForVault");return A.localId}function zg(A){if(typeof A.localId!="number")throw new Error("Item was missing localId in getLocalIdForItem");return A.localId}function ZE(A){if(typeof A.overview.b5AccountUUID!="string")throw new Error("Item was missing b5AccountUUID in getB5AccountUUIDForItem");return A.overview.b5AccountUUID}function wH(A){if(typeof A.id!="number")throw new Error("Account was missing id in getIdForServerAccount");return A.id}function mUA(A){if(typeof A.id!="number")throw new Error("Vault was missing id in getIdForServerVault");return A.id}function NH(){return{id:"requires-1password-8-alert",title:(0,C7.T)("1Password 8 Required"),text:(0,C7.T)("Creating and editing SSH keys requires 1Password 8."),primaryAction:{id:"requires-op8-id",label:(0,C7.T)("Ok"),destructive:!1,action:{type:"Ok",content:void 0}}}}async function pHA(){let A=fa.getItem("tutorial-save");if(A){let e=await KH(A);if(e){let t={richIconUrl:"../images/tutorial_globe_logo.svg",iconColor:"",templateUuid:$r};return[{name:"entry",data:{id:wu.createUniqueId(),title:e.overview.title,secondary:e.overview.ainfo,icon:t,action:{name:"fill-tutorial-item",data:void 0}}}]}}return[]}var UH=AA(Ln());var MpA=AA(Wr()),vat={apiUrl:"https://platform.staging.brexapps.com/v2",tokenUrl:"https://accounts.staging.brexapps.com/oauth2/v1/token",dashboardUrl:"https://dashboard.staging.brexapps.com",type:MpA.BrexEnvironment.Staging},Fat={apiUrl:"https://platform.brexapis.com/v2",tokenUrl:"https://accounts.brex.com/oauth2/v1/token",dashboardUrl:"https://dashboard.brex.com",type:MpA.BrexEnvironment.Production};function Gat(A){return A.endsWith("d0f")}function Mg(A){return Gat(A)?vat:Fat}async function KNA(){return(await P$()).some(e=>e.canCreateVendorCard)}async function fHA(A,e){try{let t=await he.getBrexClientInfo(A),r=await he.requestBrexAccessToken(A,{refreshToken:e}),{accessToken:a,expiresIn:j,refreshToken:n}=r;return vt({refreshToken:n,accessToken:a,expiresIn:j,context:{clientId:t.clientId,clientSecret:t.clientSecret}})}catch{return console.error("Unable to get an access token for Brex"),Pe({type:"RequestError"})}}async function BHA(A,e,t,r){for(let a of e)a.details.sections=[{name:"brex",title:"brex",fields:[{k:"string",n:"accountId",t:"accountId",v:t},{k:"string",n:"refreshToken",t:"refreshToken",v:r}]}],await new Promise(j=>un(a,!1,A,j))}async function EHA(A,e,t){try{let r=await fetch(`${A.apiUrl}${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});return vt(r)}catch(r){return Pe({type:"RequestError",data:r})}}async function xHA(A,e){let t=await FA.getCurrentBrexUser({access_token:e,environment:A.type});return t.type==="Error"?(console.error("Unable to make request:",t.content),Pe({type:"RequestError",data:t.content})):vt(t.content)}async function bHA(A,e,t){let r=await FA.getAllCardsForBrexUser({access_token:e,user_id:t,environment:A.type});return r.type==="Error"?(console.error("Unable to make request for getAllUserCards"),Pe({type:"RequestError",data:r.content})):vt(r.content.filter(a=>a.status==="ACTIVE"))}async function yHA(A,e,t){let r=await xHA(A,e);return r.isErr()?(console.error("Unable to get information about the current user when requesting cards"),Pe({type:"RequestError",data:r.error})):vt((await Promise.all(t.map(a=>wat(A,a,r.value.first_name,r.value.last_name,e)))).filter(a=>!!a))}function kHA(A){return A==="CARD"?"vendor":"corporate"}function hHA(A){return`$${A>0?A.toString().slice(0,-2):0}.00`}async function wat(A,e,t,r,a){try{let j=await qat(A,e.id,a);if(j.isErr())throw console.error("Failed to get card number details for brex card:",j.error.type),new Error;let{cvv:n,number:i,expiration_date:o}=j.value,s=await FA.getCreditCardType(i),c=parseInt(`${o.year}${o.month.toString().padStart(2,"0")}`),u=e.spend_controls?.lock_after_date?Math.floor(new Date(`${e.spend_controls?.lock_after_date} 00:00:00`).getTime()/1e3):null,p=kHA(e.limit_type)==="vendor"?(0,UH.T)("Vendor Card"):(0,UH.T)("Corporate Card"),h="lock after date",f="spend limit",G="billing address",w="None",y=u?{t:h,n:F.generateUUID(),k:"date",v:u.toString(),inputTraits:{autocorrection:"no",autocapitalization:"none"}}:{t:h,n:F.generateUUID(),k:"string",v:w,inputTraits:{autocorrection:"no",autocapitalization:"Sentences"}},E=e?.spend_controls?.spend_limit?.amount&&e?.spend_controls?.spend_available?.amount&&e?.spend_controls?.spend_duration?{t:f,n:F.generateUUID(),k:"string",v:`${hHA(e?.spend_controls?.spend_limit?.amount-e?.spend_controls?.spend_available.amount)} / ${hHA(e?.spend_controls?.spend_limit?.amount)} ${(e?.spend_controls?.spend_duration).toLowerCase().replace(/_/g," ")}`,inputTraits:{autocorrection:"no",autocapitalization:"Sentences"}}:{t:f,n:F.generateUUID(),k:"string",v:w,inputTraits:{autocorrection:"no",autocapitalization:"Sentences"}},$=[{t:"cardholder name",v:`${t} ${r}`,k:"string",n:"cardholder",a:{guarded:"yes"},inputTraits:{keyboard:"Default",autocapitalization:"Words"}},{t:"type",v:s,k:"cctype",n:"type",a:{guarded:"yes"}},{t:"number",v:i,k:"string",n:"ccnum",a:{guarded:"yes",clipboardFilter:"0123456789"},inputTraits:{keyboard:"NumberPad"}},{t:"verification number",v:n,k:"concealed",n:"cvv",a:{guarded:"yes",generate:"off"},inputTraits:{keyboard:"NumberPad"}},{t:"expiry date",v:c,k:"monthYear",n:"expiry",a:{guarded:"yes"}},{t:"valid from",v:"",k:"monthYear",n:"validFrom",a:{guarded:"yes"}},{t:"type",n:F.generateUUID(),k:"string",v:p,inputTraits:{autocorrection:"no",autocapitalization:"Sentences"}},y,E],T=[{t:G,n:F.generateUUID(),k:"address",v:{street:e.billing_address?.line2?`${e.billing_address.line1??""} ${e.billing_address?.line2}`:`${e.billing_address?.line1??""}`,city:e.billing_address?.city??"",state:e.billing_address?.state??"",zip:e.billing_address?.postal_code??"",country:e.billing_address?.country??""},inputTraits:{autocorrection:"no",autocapitalization:"Words"}}];return{id:e.id,category:kHA(e.limit_type),card:{templateUuid:qj,overview:{title:e.card_name??(0,UH.T)("Physical Card"),url:"",ainfo:i,ps:0,pbe:0,pgrng:!1},details:{sections:[{name:"",title:"",fields:$},{name:"",title:"",fields:T}]}}}}catch{console.warn("Unable to create card for brex card",e.id);return}}async function qat(A,e,t){let r=await EHA(A,`/cards/${e}/pan`,t);if(r.isErr())return console.error("Unable to make request:",r.error.type),Pe(r.error);let a=await r.value.json();return vt(a)}async function vHA(A,e,t){let r=await EHA(A,`/cards/${e}`,t);if(r.isErr())return console.error("Unable to make request:",r.error.type),Pe(r.error);try{let a=await r.value.json();return vt(a)}catch{return console.warn("Unable to parse JSON when getting the card"),Pe({type:"RequestError",data:"Unable to parse card JSON"})}}async function FHA(A,e,t,r,a,j,n,i,o){let s=parseInt(`${a}`),c=await FA.createBrexVendorCardForUser({access_token:e,card_name:r,account_id:t,limit:s,duration:j.toUpperCase(),reason:n,lock_after_date:o,idempotency_key:i,environment:A});return c.type==="Error"?(console.error("Could not generate new vendor card."),Pe({type:"RequestError",data:"Unable to parse card JSON"})):vt({cardId:c.content.id})}async function GHA(A){let e=rA.findAccountHandlerByUuid(ZE(A));if(!e)return;let t=await e.getIntegrationCredentials("brex");if(!t||t.length===0)return;let r=await e.getIntegrationProviderAccessToken(t[0].accountId,"brex");if(!r||!r.context)return;if(!A.cacheInformation){console.error("Item was missing cacheInformation in handleEditBrexCard");return}let a=btoa(`Card:${A.cacheInformation.cardId}`),j=Mg(r.context.clientId);ir.openTab({url:`${j.dashboardUrl}/card/transactions/yours?card=${a}`})}async function HH(A,e){let t=rA.findAccountHandlerByUuid(A);if(!t){console.error("Unable to get account handler");return}return await t.syncBrexCards(),t.items?.find(r=>r.cacheInformation?.provider==="brex"&&r.cacheInformation?.cardId===e)}async function P$(){return(await Promise.all(rA.getAccountHandlers.map(async A=>{let[e]=await A.getIntegrationCredentials("brex");if(!e)return;let t=await Vd(A.uuid,e.accountId,"brex");if(!t||!t.context)return;let r=await xHA(Mg(t.context.clientId),t.accessToken);if(!r.isErr())return{accountUuid:A.uuid,accountId:e.accountId,refreshToken:e.refreshToken,canCreateVendorCard:r.value.permissions?.create_vendor_cards===gHA.BrexUserPermissionStatus.Granted}}))).filter(A=>!!A)}function S$(A){let e;switch("8"){case"7":e="onepassword7://";break;case"8":e="onepassword8://";break;default:jr("8")}return A?e+A:e}async function wHA(A){if(A.templateUuid===SBA)return;if(A.cacheInformation?.provider==="brex")return GHA(A);(await $at(A,"edit-item")).isOk()||(await qHA(A,"edit")).isOk()||jx(A,"edit")}async function VH(A,e){if(Or())return jx(A);let t=()=>{browser.windows.create({url:chrome.runtime.getURL("/popup/index.html#detached"),type:"popup",...kLA()})};if(A.cacheInformation?.provider==="brex")return t();if((await qHA(A,"view")).isErr())switch(e){case"notification":return jx(A);case"openInNewWindow":return t();default:jr(e)}}async function $at(A,e){if(Or()){let t=$t.itemCache?.accountForVaultID(Un(A.vault));if(!t)return Pe("Unable to find account with vault ID");let r=await ca();return await ir.openTab({url:S$(`${e}/?a=${t.uuid}&v=${A.vault.uuid}&i=${A.uuid}`),openerTabId:r?.id}),vt(void 0)}else return Pe("cannot open item in OPI when not on iOS")}async function qHA(A,e){let t=$t.itemCache?.accountForVaultID(Un(A.vault));if(!t)return Pe(void 0);let r=Mt.desktopConnectionManager?.getDesktopApp();if(r&&Mt.getDesktopAppState().type==="Connected"){let a={accountUuid:t.uuid,vaultUuid:A.vault.uuid,itemUuid:A.uuid},j=!1;if(e==="edit"?j=await r.editItem(a):e==="view"&&(j=await r.viewItem(a)),j)return vt(void 0)}return Pe(void 0)}function IHA(A){if(!Re().showNotifications||sa())return;let t="add-account-"+globalThis.crypto.getRandomValues(new Uint32Array(1));chrome.notifications.create(t,{type:"basic",iconUrl:bp,title:(0,mo.T)("1Password account added"),message:(0,mo.T)('"{accountName}" was added to 1Password.',{accountName:A}),priority:2}),C$("click",t,()=>O$())}async function PHA(A){if(!Re().showNotifications||sa())return;let r=(await RpA()).incognito?(0,mo.T)("New item saved in 1Password."):(0,mo.T)('"{itemName}" was saved in "{vaultName}".',{itemName:A.title,vaultName:A.vault.name}),a={[qj]:(0,mo.T)("Credit card"),[ti]:(0,mo.T)("Identity"),[Zc]:(0,mo.T)("API Key"),[$r]:(0,mo.T)("Login")},j=(A.templateUuid&&a[A.templateUuid])??(0,mo.T)("Item"),n="item-saved-"+globalThis.crypto.getRandomValues(new Uint32Array(1));chrome.notifications.create(n,{type:"basic",iconUrl:bp,title:(0,mo.T)("{itemType} saved",{itemType:j}),message:r}),C$("click",n,()=>{VH(A,"notification")})}function SHA(A){if(!Re().showNotifications||sa())return;let t=`up-to-date-${new Date().getTime()}`;chrome.notifications.create(t,{type:"basic",iconUrl:bp,title:(0,mo.T)("1Password is up to date"),message:(0,mo.T)("Thank you for running the latest version ({version}) of 1Password!",{version:A})})}function CHA(){if(!Re().showNotifications||sa())return;chrome.notifications.create("storage-exceeded",{type:"basic",iconUrl:bp,title:(0,mo.T)("Disk space too low"),message:(0,mo.T)("1Password can't open its database because there isn't enough disk space available for {browser}. To use 1Password, free up some space.",{browser:"firefox"}),requireInteraction:jG()?!0:void 0})}function Pat(A){if(!Re().showNotifications||sa())return;let t=`duoauthrequired-${A}`;chrome.notifications.getAll(r=>{let a=r[t],j={type:"basic",iconUrl:bp,title:(0,mo.T)("Duo Authentication Required"),message:(0,mo.T)("Sign in to your 1Password account ({accountName}) and authenticate with Duo to continue.",{accountName:A})};oj()||(j.requireInteraction=!0),a&&!oj()&&!sa()?chrome.notifications.update(t,j):(chrome.notifications.create(t,j),C$("click",t,()=>{Qo()}))})}function Sat(A,e){if(!Re().showNotifications||sa())return;let r=`authrequired-${A}`;chrome.notifications.getAll(a=>{let j=a[r],n={type:"basic",iconUrl:bp,title:(0,mo.T)("Authentication Required"),message:(0,mo.T)("Sign in to your 1Password account ({accountName}) to continue.",{accountName:A})};oj()||(n.requireInteraction=!0),j&&!oj()&&!sa()?chrome.notifications.update(r,n):(chrome.notifications.create(r,n),C$("click",r,()=>{Rg({url:e})}))})}function OHA(A){if(!Re().showNotifications||sa())return;let{items:e}=A,t=`watchtower-compromised-item-${new Date().getTime()}`;chrome.notifications.create(t,{type:"basic",iconUrl:bp,title:(0,mo.T)("Watchtower Alert"),message:(0,mo.T)("A website has been added to Watchtower in {count} of your accounts.",{count:new Set(e.map(r=>r.accountUUID)).size})}),C$("click",t,async()=>{let r=0;for(let a of new Set(e.map(j=>j.accountUUID))){let j=e.filter(n=>n.accountUUID===a);for(let n of new Set(j.map(i=>i.vaultUUID))){let i=j.filter(o=>o.vaultUUID===n);if(i.length===1){let o=i[0];await XH(n,a,"compromised-logins",o.itemUUID)}else await XH(n,a,"compromised-logins");if(++r===5)return}}})}function THA(A,e,t){if(!Re().showNotifications||sa())return;let a=`td-enrollment-${e}`,j={type:"basic",iconUrl:bp,title:(0,mo.T)("New app or browser found"),message:A,isClickable:!!t};chrome.notifications.create(a,j),t&&C$("click",a,t)}var x0={},$HA=(A,e,t)=>{let r=x0[A+e];r&&(r.callback(t),delete x0[A+e]),chrome.notifications.clear(e)};function C$(A,e,t){x0[A+e]={id:e,type:A,callback:t}}sa()||(chrome.notifications.onClicked.addListener(A=>$HA("click",A)),chrome.notifications.onButtonClicked.addListener((A,e)=>$HA("buttonClick",A,e)),chrome.notifications.onClosed.addListener(A=>{x0.hasOwnProperty("click"+A)?delete x0["click"+A]:x0.hasOwnProperty("buttonClick"+A)&&delete x0["buttonClick"+A]}));function _HA(A,e){if(!A)return;let t=`${e.signinAddress}/signin?a=${e.userUUID}`;A.name==="SecretKeyIdOrFormatIsWrong"||A.message==="No dSecret available."||A.message==="Unable to complete MFA, dSecret option not available."||F.errors.isClientError(A,F.errors.ClientErrorCode.invalidMFA)||F.errors.isClientError(A,F.errors.ClientErrorCode.invalidEmailOrPassword)?Sat(e.name,t):PNA(A,0)&&Pat(e.name)}var DHA="/assets/png/ramp-TWWGW3RM.png";async function un(A,e=!0,t,r){if(Pa())throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe("Unable to save item. 1Password was locked.")});let a;if(t?a=rA.findAccountHandlerByUuid(t):a=rA.findAccountHandlerByVault(A.vault),!a)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe(`Unable to save item. Unable to find account for vault: <${A.vault.uuid}>`)});A.itemVersion&&A.itemVersion>0&&(A.updatedAt=new Date);let j=await a.saveItem(A,r);return e&&PHA(j),j}async function vUA(A,e){let t=rA.findAccountHandlerByUuid(A);if(!t)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:F.logsafe.assertLogSafe(`Unable to find handler for account <${A}> to save new ramp item`)});let r=new Request(DHA),j=await(await fetch(r)).arrayBuffer(),n=await t.uploadFile(j);return e.overview.icons={detail:n},un(e)}async function zHA(A,e){if(!A.masterKey)throw new Error("User AUK is missing");if(!(A.masterKey instanceof Ta))throw new Error("User Master key is not a valid Auk");let t=A.masterKey,r=await No.SrpX.fromHex(e);return No.CredentialBundle.new({srpx:r,auk:t})}async function MHA(A,e,t){if(!A.CTX)throw new Error("Client CTX is undefined");try{await he.addCredentialBundle(A.CTX,e,t)}catch(r){let a=A.user()?.uuid;throw F.errors.isServerError(r)?new F.LoggableError({errorClass:sA`UploadCredentialBundleError`,message:F.logsafe.assertLogSafe(`Server error (code: ${r.code}) while uploading CredentialBundle for device ${A.deviceUuid}.`),userUuid:a?F.logsafe.assertLogSafe(a):void 0}):new F.LoggableError({errorClass:sA`UploadCredentialBundleError`,message:F.logsafe.assertLogSafe(`Failed to encrypt and upload CredentialBundle for device ${A.deviceUuid}`),userUuid:a?F.logsafe.assertLogSafe(a):void 0})}}async function RHA(A,e,t){if(!A.CTX?.session)throw new Error("no session");try{await RA.addCredentialBundle(A.CTX.session,{encCredentials:e,v:2},t)}catch(r){let a=A.user()?.uuid;throw F.errors.isServerError(r)?new F.LoggableError({errorClass:sA`UploadEncryptedCredentialBundleError`,message:F.logsafe.assertLogSafe(`Server error (code: ${r.code}) while uploading encrypted CredentialBundle for device ${A.deviceUuid}.`),userUuid:a?F.logsafe.assertLogSafe(a):void 0}):new F.LoggableError({errorClass:sA`UploadEncryptedCredentialBundleError`,message:F.logsafe.assertLogSafe(`Failed to encrypt and upload encrypted CredentialBundle for device ${A.deviceUuid}`),userUuid:a?F.logsafe.assertLogSafe(a):void 0})}}var AVA=AA(Wr());var NHA=AA(Wr());var T$=AA(Wr());function KHA(A){return{watchtowerNotifications:A.watchtowerEnabled,showRichIcons:A.showRichIcons,language:A.language,autoLockEnabled:!0,autoLockMinutes:A.requireAuthenticationAfter}}function LHA(A){let e=/Code=(\d+)/,t=A.match(e)?.[1];if(!t)return T$.OpiRequestError.Unknown;switch(Number(t)){case 0:return T$.OpiRequestError.Unknown;case 1:return T$.OpiRequestError.InvalidRequest;case 2:return T$.OpiRequestError.CannotEncodeResponse;default:return T$.OpiRequestError.Unknown}}function UHA(){return Kg("request-app-data")}function KpA(A){return Kg("request-unlocked-accounts",A)}function HHA(A){return Kg("decrypt-credential-bundle",A)}async function VHA(A){return Kg("delete-device-key",A)}function XHA(A){return Kg("encrypt-credential-bundle",A)}function WHA(A){return Kg("d-secret-proxy",A)}function JHA(){return Kg("notify-unlocked")}function YHA(A){return Kg("log-message",A)}function ZHA(){return Kg("notify-locked")}async function Kg(A,e){let t=await ir.sendNativeMessage(A,e);if(t.isErr())return Pe(LHA(t.error.message));let r=JSON.parse(t.value);return r.type==="error"?Pe(r.data):r.data.name!==A?Pe(NHA.OpiRequestError.CannotEncodeResponse):vt(r.data.data)}var eVA="SAFARI_KEYCHAIN";function nx(){if(Eo())return new NpA;if(Or())return new LpA;throw new Error("Extension not running in Safari")}var LpA=class{constructor(){this.logger=new Xa("\u{1F34E} MobileSafariCredentialBundleEncryptor")}async deleteDeviceKey(e,t){let r=await VHA({accountUuid:e.uuid,deviceKeyId:t});if(r.isErr()||r.value.type==="Error")throw new F.LoggableError({errorClass:sA`B5XSafariMobileDeleteDeviceKey`,message:sA`SafariIOSWebExtension failed to delete DeviceKey`,userUuid:F.logsafe.assertLogSafe(e.userUUID)})}async encrypt(e,t){let r=await t.__crypto_internal.serialize(),a={accountUuid:e.uuid,credentialBundle:Array.from(r)},j=await XHA(a);if(j.isErr()||j.value.type==="Error")throw new F.LoggableError({errorClass:sA`B5XSafariMobileEncryptCredentialBundle`,message:sA`SafariIOSWebExtension failed to encrypt CredentialBundle`,userUuid:F.logsafe.assertLogSafe(e.userUUID)});let n=j.value.content.credentialBundle,i=F.decode(new Uint8Array(n),F.jsonBytes.pipe(F.crypto.JweB)).unwrap();return this.logger.info("Successfully encrypted CredentialBundle"),{deviceKeyId:j.value.content.deviceKeyId,encryptedCredentialBundle:i}}async decrypt(e,t,r){let a=F.json2ab(r.encCredentials),j=await HHA({accountUuid:e.uuid,deviceKeyId:t,credentialBundle:Array.from(a)});if(j.isErr()||j.value.type==="Error")throw new F.LoggableError({errorClass:sA`B5XSafariMobile DecryptCredentialBundle`,message:sA`SafariIOSWebExtension failed to decrypt CredentialBundle`,userUuid:F.logsafe.assertLogSafe(e.userUUID)});let n=new Uint8Array(j.value.content.credentialBundle),i=await ol.unsafeIfInputNotTrustworthyDeserialize(n);return this.logger.info("Successfully decrypted CredentialBundle"),{credentialBundle:i}}},NpA=class{constructor(){this.logger=new Xa("\u{1F34E} DesktopSafariCredentialBundleEncryptor")}async deleteDeviceKey(e,t){let r=await this.invoke({type:"DeleteDeviceKey",data:{accountUuid:e.uuid,deviceKeyId:t}});if(r.isErr())throw new F.LoggableError({errorClass:sA`B5XSafariDesktopDeleteDeviceKey`,message:sA`SafariWebExtension failed to delete Device Key`,userUuid:F.logsafe.assertLogSafe(e.userUUID),tags:{invocationError:F.logsafe.assertLogSafe(r.error.type)}})}async encrypt(e,t){let r=await t.__crypto_internal.serialize(),a={accountUuid:e.uuid,credentialBundle:Array.from(r)},j=await this.invoke({type:"EncryptCredentialBundle",data:a});if(j.isErr())throw new F.LoggableError({errorClass:sA`B5XSafariDesktopEncryptCredentialBundle`,message:sA`SafariWebExtension failed to encrypt CredentialBundle`,tags:{invocationError:F.logsafe.assertLogSafe(j.error.type)},userUuid:F.logsafe.assertLogSafe(e.userUUID)});let n=F.decode(new Uint8Array(j.value.credentialBundle),F.jsonBytes.pipe(F.crypto.JweB)).unwrap();return this.logger.info("Successfully encrypted CredentialBundle"),{deviceKeyId:j.value.deviceKeyId,encryptedCredentialBundle:n}}async decrypt(e,t,r){let a=F.json2ab(r.encCredentials),j=await this.invoke({type:"DecryptCredentialBundle",data:{accountUuid:e.uuid,deviceKeyId:t,credentialBundle:Array.from(a)}});if(j.isErr())throw new F.LoggableError({errorClass:sA`B5XSafariDesktop DecryptCredentialBundle`,message:sA`SafariWebExtension failed to decrypt CredentialBundle`,userUuid:F.logsafe.assertLogSafe(e.userUUID),tags:{invocationError:F.logsafe.assertLogSafe(j.error.type)}});let n=new Uint8Array(j.value.credentialBundle),i=await ol.unsafeIfInputNotTrustworthyDeserialize(n);return this.logger.info("Successfully decrypted CredentialBundle"),{credentialBundle:i}}async invoke(e){this.logger.info(`Invoking SafariWebExtension <${e.type}>`);let t=browser.runtime.sendNativeMessage("",{name:"core",data:JSON.stringify({type:e.type,data:e.data})}).then(a=>{if(a.type==="Error")return this.logger.error(`Invocation <${e.type}> failed with error <${a.content}>`),Pe({type:a.content});let j=a.content;return j.type!==e.type?Pe({type:AVA.NmCredentialBundleError.InvalidRequest}):vt(j.content)}),r=new Promise(a=>{setTimeout(()=>{a(Pe({type:"Timeout"}))},2e3)});return this.logger.info(`Invoking SafariWebExtension <${e.type}>`),Promise.race([t,r]).catch(a=>{throw this.logger.warn(`Invocation failed to send: ${a}`),a})}};async function tVA(){return No.DeviceKey.generate()}var aVA="UpgradeToTrustedDeviceError";async function WH(A,e,t){let r=A.CTX?.user;if(!r)throw new Error("User for Client instance undefined");let a=await zHA(r,t);if(sa()){let s=await nx().encrypt(e.serveraccount,a);await RHA(A,s.encryptedCredentialBundle,s.deviceKeyId),await rVA(e,{deviceUuid:A.deviceUUID,deviceKeyId:s.deviceKeyId,deviceKey:eVA});return}let j=await tVA(),n;try{n=await j.exportObfuscated(e.serveraccount.uuid,e.serveraccount.userUUID)}catch{throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe(aVA),message:F.logsafe.assertLogSafe(`Failed to export device key for device ${A.deviceUuid}`),userUuid:F.logsafe.assertLogSafe(e.serveraccount.userUUID)})}await MHA(A,a,j);let i={deviceUuid:A.deviceUUID,deviceKeyId:j.kid,deviceKey:n};await rVA(e,i)}function JH(){return Mt.getDesktopAppState()}async function rVA(A,e){try{await A.saveDeviceCredentials(e)}catch{throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe(aVA),message:F.logsafe.assertLogSafe(`Failed to persist DeviceKey for device ${e.deviceUuid}`),userUuid:F.logsafe.assertLogSafe(A.serveraccount.userUUID)})}}var ki=AA(Ln());var Rc={};Na(Rc,{disableBiometry:()=>EXA,enableBiometry:()=>kkA,enableBiometryForNewAccounts:()=>Fjt,getBiometryConfig:()=>BXA,isBiometryAvailable:()=>yjt,isBiometryConfigured:()=>xXA,promptForBiometricsAndUnlock:()=>vjt,removeAccountFromBiometryConfig:()=>Gjt,setBiometryConfig:()=>bjt});var q0=AA(Wr());var jVA="1",YH=class{constructor(){this._cache=new Set}deserializeAndMerge(e){this._cache=new Set([...this._cache,...JSON.parse(e)])}serialize(){return JSON.stringify(Array.from(this._cache))}addIgnoredHost(e){this.isIgnored(e)||this._cache.add(e)}isIgnored(e){return this._cache.has(e)}};var t_=class{constructor(){this._saveIgnoreCache=new YH}get saveIgnoreCache(){return this._saveIgnoreCache}async loadSaveIgnoreForUnlockedAccounts(){if(await tx())for(let t of rA.getAccountHandlers.filter(r=>r.isUnlocked)){let r=await t.getDecryptedCache("saveIgnore");r&&this._saveIgnoreCache.deserializeAndMerge(r)}}async addHostToSaveIgnoreList(e){if(!await tx())return[];this._saveIgnoreCache.addIgnoredHost(e);let r=this._saveIgnoreCache.serialize(),a=[];for(let j of rA.getAccountHandlers.filter(n=>n.isUnlocked))a.push(j.encryptAndSaveCache("saveIgnore",jVA,r));return Promise.all(a)}async isHostInSaveIgnoreList(e){let t=await tx();return this._saveIgnoreCache.isIgnored(e)}},nVA=rr.resolve(t_);var dVA=AA(Wr());var UpA=5*60*1e3,ZH;function iVA(A){ZH=Oat(A)}function HpA(A){if(ZH)return ZH(A)}function Oat(A){let e={password:A};return setTimeout(()=>{e.password=void 0},UpA),t=>{let r=e.password;return t&&r?!0:(e.password=void 0,r)}}var QH=class{constructor(){this._resolveAuthCompleted=e=>({});this._rejectAuthCompleted=()=>({});this._authCompleted=new Promise((e,t)=>{this._resolveAuthCompleted=e,this._rejectAuthCompleted=r=>t(r?.reason)}),this._timeout=setTimeout(()=>{this._removeDuoTab(),this._rejectAuthCompleted({reason:`Did not receive code within ${UpA}ms time out`})},UpA)}async beginAuth(e){this._initTabListeners(),this._spawnDuoTab(e)}cancelAuth(){this._removeDuoTab(),this._rejectAuthCompleted({reason:"Duo Auth cancelled"}),ZH=void 0}_initTabListeners(){let e=this._signinCallback.bind(this),t=this._removedCallback.bind(this);browser.tabs.onUpdated.addListener(e),browser.tabs.onRemoved.addListener(t),this._removeTabListeners=()=>{browser.tabs.onUpdated.removeListener(e),browser.tabs.onRemoved.removeListener(t)}}async _spawnDuoTab(e){let t=e.duo?.authURL;if(!t)throw new Error("No auth URL present in MFA response");this._tabId=await r_(t)}async _signinCallback(e,t){if(e===this._tabId&&t.url?.includes("duo-sign-in")){this._removeTabListeners&&this._removeTabListeners(),this._removeDuoTab();try{let r=new URL(t.url),a=Tat(r);this._resolveAuthCompleted(a)}catch{this._rejectAuthCompleted({reason:"Could not parse duo_code from tab"})}finally{clearTimeout(this._timeout)}}}async _removedCallback(e){e===this._tabId&&(this._tabId=void 0,this._rejectAuthCompleted({reason:"Duo MFA tab closed before code was returned"}))}completed(){return this._authCompleted}async _removeDuoTab(){if(this._tabId){try{await browser.tabs.remove(this._tabId)}catch(e){console.warn("[Duo MFA] Failed to close Duo MFA tab:",e)}this._tabId=void 0}}};function Tat(A){return A.searchParams.get("duo_code")||""}async function a_(A,e){if(Mt.getDesktopAppState().type==="Connected"||Mt.getDesktopAppState().type==="Connecting")return;let t=A.accountUUID;if(t&&A.CTX)switch(e){case"All":nLA(t,await he.getInitializationExport(A.CTX),A.CTX.session.auth?.srpX);break;case"Request":iLA(t,A.CTX.session.requestId);break;default:jr(e)}}async function oVA(){if(!["Connected","Connecting"].includes(Mt.getDesktopAppState().type))for(let A of rA.getAccountHandlers.filter(e=>e.isUnlocked)){if(!A.masterKey){console.warn("Missing JWK when attempting to save context init cache");continue}let e={accountUuid:A.uuid,masterKey:await A.masterKey.exportJwk()};A.client?.CTX&&A.hasSignedInClient&&(e.srpX=A.client.CTX.session.auth?.srpX,e.session={...await he.getInitializationExport(A.client.CTX)}),zU(e)}}async function AV(A,e,t,r){let a=await _u(),j=await VpA(A,a,e);return new b0({signinAddress:A,signedInContext:j,deviceUuid:a,requestDelegatedSession:t,srpX:r})}async function sVA(A,e){let t={accountUuid:A.accountUUID,sessionId:e};return Or()?lVA(t):Mt.desktopConnectionManager?.requestDsecretProxy(t)}var mVA=AA(Ln());var cVA=A=>F.errors.isServerError(A,F.errors.ServerErrorCode.authenticationRequired,F.errors.HTTPStatusCode.unauthorized);var eV,XpA,pVA;function kVA(){if(!eV)throw new Error("duo authenticator not initialized");return console.info("[Duo MFA] Opening and navigating to the Duo MFA URL"),eV()}function WpA(){XpA?.(),XpA=void 0,eV=void 0}function hVA(){return pVA}function uVA(A){pVA=A}function gVA(){return!!HpA(!0)}async function Wd({credentials:A,device:e,onServerChanged:t,onClientInvalidated:r,accountAttrs:a,additionalSignInOptions:j}){let n=await _at(A,e,a,j);if(!n)throw new Error("No context provided to sign into account.");return new b0({signinAddress:A.signinAddress,signedInContext:n,deviceUuid:e.uuid,onServerChanged:t,onClientInvalidated:r})}async function VpA(A,e,t){let r=e6(A,e);return await he.initialize(r,1,t),r}var O7=class extends Error{constructor(){super(...arguments);this.name="InvalidClientError"}},b0=class{constructor({signinAddress:e,signedInContext:t,deviceUuid:r,onServerChanged:a,onClientInvalidated:j,requestDelegatedSession:n,srpX:i}){this._invalid=!1;this._registerContext=e=>{this._dangerousInnerCTX=e,this._dangerousInnerCTX.nc.on(F.notification.ServerChanged,this.handleServerDidChange),this._dangerousInnerCTX.nc.on(F.notification.ServerConnected,this.handleServerDidConnect),this._dangerousInnerCTX.session.nc.on(F.notification.SessionRequestIdChanged,this.handleSessionRequestIdChanged),a_(this,"All")};this.getChildSessionInit=()=>{if(!this.CTX){let e="Unable to get child session init. CTX is undefined.";throw console.error(e),new Error(e)}return he.getInitializationExportFromNewContext(this.CTX)};this.getDelegateSessionInit=async e=>this.handleWithReauth(sA`getDelegateSessionInit`,t=>he.delegateSession(t,e,!1));this.signOut=async()=>{if(!this.CTX){po(new Error("Client Sign-out Failed"),sA`cannot sign out a context that is not defined`);return}await this._signOutClient(this.CTX,sA`MANUAL`)};this.getLatestUserPreferences=async()=>{if(!this.CTX){let t=sA`Unable to get user preferences. CTX is undefined`;throw console.error(t.str),new F.LoggableError({errorClass:sA`ClientError`,message:t})}return this.CTX.user?(await RA.getUser(this.CTX.session,this.CTX.user.uuid,Dj.Attr.None)).preferences:void 0};this.isSignedIn=()=>this.CTX?.isSignedIn()??!1;this.saveItem=async(e,t)=>(await this.saveItems([e],t),e);this.saveItems=async(e,t)=>{let r=sA``,a;try{a=await this.handleWithReauth(sA`saveItems`,j=>RA.patchVaultItems(j.session,t.uuid,t.contentVersion,e))}catch(j){F.errors.isServerError(j)?r=sA`: saveItem returned server error (code: ${NA(`${j.code}`)})`:r=sA`: saveItem request failed`}if(a&&a.updatedItems&&Object.keys(a.updatedItems).length>0)return e.forEach(j=>{j.itemVersion=a.updatedItems[j.uuid]}),e;{let j=F.logsafe.assertLogSafe(`Failed to save ${e.length} item(s) with vault ${t.uuid} in ${this.accountUUID}${r}`);throw console.error(j),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SaveItemError"),message:j,userUuid:this.CTX?.user?.uuid?F.logsafe.assertLogSafe(this.CTX.user.uuid):void 0})}};this.getAccountOverview=async()=>this.handleWithReauth(sA`getAccountOverview`,async e=>RA.getAccountOverview(e.session));this.handleWithReauth=async(e,t)=>{if(this.reauthenticating){`${this.logPrefix}${e.str}`;let i=await this.reauthenticating.promise;if(i.type==="failure"){let o=`Did not request "${e.str}" in flight reauthentication failed: ${i.reason.str}`;throw new O7(o)}}if(!this.CTX){let i=`Cannot invoke "${e.str}" or reauthenticate a context that doesn't exist`;throw console.error(i),new O7(i)}let r=this.CTX;if(!r.account?.uuid){let i=`Will not invoke "${e.str}" or reauthenticate a context without an account uuid`;throw console.error(i),new O7(i)}let a=r.account.uuid,j;try{return await upA(()=>t(r),e,this.logPrefix,sA`with reauth support`)}catch(i){j=i}if(!cVA(j))throw`${this.logPrefix}${e.str}`,j;let n=await this.handleReauthenticate(e,a,r);if(n.type==="success"&&this.mustMigrate(n.ctx)){await xVA((0,mVA.T)("Grace period for authentication method migration has expired. Please sign in again.")),this.invalidate(sA`must-migrate`);let i=`failed to request "${e.str}" and reauthenticated ctx must be migrated`;throw new O7(i)}if(n.type!=="success"){let i=`failed to request "${e.str}" and failed to reauthenticate: ${n.reason.str}`;throw new O7(i)}return await upA(()=>t(n.ctx),e,this.logPrefix,sA`with reauth support - attempt 2`)};this.invalidate=async e=>{if(console.info(`${this.logPrefix}: "${e.str}" start invalidating`),this._invalid){`${this.logPrefix}${e.str}`;return}`${this.logPrefix}${e.str}`,this._invalid=!0,this.CTX&&await this._signOutClient(this.CTX,e);try{this.onClientInvalidated?.(this)}catch(t){po(t,sA`Encountered error while invoking invalidate callback`)}`${this.logPrefix}${e.str}`};this.getAccount=async()=>this.handleWithReauth(sA`getAccount`,e=>RA.getAccountWithAttrs(e.session,[RA.AccountAttrs.Me,RA.AccountAttrs.Billing,RA.AccountAttrs.SettingsTeamMemberPolicies]));this.getKeysets=async()=>this.handleWithReauth(sA`getKeysets`,e=>RA.getKeysets(e.session));this.getVault=async e=>{if(!this.CTX)throw new Error("Unable to get vault. CTX is undefined.");return(await this.CTX.session.request({name:NA("getVault"),method:"GET",url:"/api/v2/vault/"+e+"?attrs=combined-access,archived-keys",encrypted:!0})).json()};this.getItemTemplates=async()=>this.handleWithReauth(sA`getItemTemplates`,e=>RA.getAccountTemplates(e.session,!1));this.postItemUsage=e=>{let t=e.map(r=>{let a=new Date;return a.setTime(r.used_at),{vaultUuid:r.vault_uuid,itemUuid:r.item_uuid,usedAt:Eu(a),usedVersion:r.used_version,action:r.action}});return this.handleWithReauth(sA`postItemUsage`,r=>RA.reportItemUsage(r.session,t))};this.getFile=(e,t)=>this.handleWithReauth(sA`getFile`,r=>RA.getFile(r.session,t,e.uuid,e.vault.uuid));this.uploadFile=async e=>{let{data:t,attributes:r}=await Mn.encryptFile(e),{fileId:a,signingKey:j}=await this.handleWithReauth(sA`uploadFile`,n=>RA.uploadFile(n.session,t));if(a)return{...r,fileId:a,signingKey:j};throw new Error("Session did not provide file ID.")};this.getDocumentBlob=(e,t)=>this.handleWithReauth(sA`getDocumentBlob`,r=>he.getDocumentBlob(r,e,t));this.getPendingDeviceEnrollments=async()=>{try{return await this.handleWithReauth(sA`getPendingDeviceEnrollments`,e=>he.getPendingDeviceEnrollments(e))}catch(e){if(e instanceof O7){console.warn("Failed to get pending device enrollments: ",e);return}let t=F.errors.isServerError(e)?F.logsafe.assertLogSafe(`getPendingDeviceEnrollments returned server error (code: ${e.code})`):F.logsafe.assertLogSafe("getPendingDeviceEnrollments request failed");po(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("GetPendingDeviceEnrollments"),message:t,userUuid:this.CTX?.user?.uuid?F.logsafe.assertLogSafe(this.CTX?.user?.uuid):void 0,stackOverrideError:e instanceof Error?e:void 0}),sA`Failed to get pending device enrollments`);return}};this.cancelPendingDeviceEnrollment=e=>this.handleWithReauth(sA`cancelPendingDeviceEnrollment`,t=>he.cancelDeviceEnrollment(t,e));this.fetchPolicies=async()=>{if(!this.CTX)throw new Error("CTX undefined.");return this.handleWithReauth(sA`fetchPolicies`,()=>he.getAllPolicies(this.CTX))};this.handleServerDidConnect=async()=>{!this.accountUUID||!await Ar.accountHasFlag(this.accountUUID,"core-securityDevelopment-sync-notifierConnection")||this.handleServerDidChange()};this.handleServerDidChange=async()=>{this.CTX?.isSignedIn()&&this.onServerChanged&&this.onServerChanged(this)};this.handleSessionRequestIdChanged=()=>{a_(this,"Request")};this.uuid=t.account?.uuid,this.signinAddress=B3A(e),this.deviceUuid=r,this.debugName=t.account?.name+"/"+t.domain,this._registerContext(t),this.onClientInvalidated=j,this.onServerChanged=a,this.requestDelegatedSession=n,this._srpX=i,this.logPrefix=NA(`Client-${this.uuid?this.uuid:"unknown"}`)}get invalid(){return this._invalid}get CTX(){return this._dangerousInnerCTX}get accountUUID(){return this.uuid}get deviceUUID(){return this.deviceUuid}account(){return this.CTX?.account}user(){return this.CTX?.user}get srpX(){if(this._srpX)return this._srpX;if(this.CTX?.session?.auth?.srpX)return this.CTX.session.auth.srpX;let e="Failed to determine srpX";throw console.error(e),new Error(e)}async handleReauthenticate(e,t,r){if(`${this.logPrefix}${e.str}`,this.reauthenticating)return`${this.logPrefix}${e.str}`,this.reauthenticating.promise;this.reauthenticating=Ic();let a=await this.safeReauthWithDelegatedSession(e,t,r);return a.type==="failure"&&(a.reason.str==="user-suspended"?`${this.logPrefix}${e.str}`:(`${this.logPrefix}${e.str}${a.reason.str}`,a=await this.safeReauthWithMukSrpX(e,t,r))),a.type==="failure"&&(console.info(`${this.logPrefix}: "${e.str}" could not reauthenticate: ${a.reason} - invalidate context`),await this.invalidate(e)),a.type==="success"&&(`${this.logPrefix}${e.str}`,this._registerContext(a.ctx),this._signOut(r).catch(j=>{po(j,sA`Could not sign stale CTX out - continuing reauthentication`)})),this.reauthenticating.resolve(a),this.reauthenticating=void 0,a}safeReauthWithDelegatedSession(e,t,r){return this.unsafeReauthWithDelegatedSession(e,t,r).catch(()=>({type:"failure",reason:NA("unknown")}))}async unsafeReauthWithDelegatedSession(e,t,r){if(`${this.logPrefix}${e.str}`,!this.requestDelegatedSession)return{type:"failure",reason:NA("no-delegated-session-available")};let a;try{a=await this.requestDelegatedSession(t)}catch{return{type:"failure",reason:NA("delegating-session")}}if(a.isErr())return a.error.type==="RequestError"&&a.error.content===dVA.NmRequestDelegatedSessionError.UserSuspended?{type:"failure",reason:NA("user-suspended")}:{type:"failure",reason:NA(`session-error-${a.error.type}`)};let{notifier:j,sessionKey:n}=a.value,i;try{i=await he.getInitializationExport(r)}catch{return{type:"failure",reason:NA("initializing-context")}}let o;try{o=await VpA(this.signinAddress,this.deviceUUID,{...i,serverConfig:{notifier:j},sessionKey:n})}catch{return{type:"failure",reason:NA("building-new-context")}}return{type:"success",ctx:o}}safeReauthWithMukSrpX(e,t,r){return this.unsafeReauthWithMukSrpX(e,t,r).catch(()=>({type:"failure",reason:NA("unknown")}))}async unsafeReauthWithMukSrpX(e,t,r){`${this.uuid}${e.str}`;let a=await this.buildMukSrpXCredentials(t,r);if(a.type==="failure")return a;let j;try{j=e6(this.signinAddress,this.deviceUUID)}catch{return{type:"failure",reason:NA("failed-initializing-new-ctx")}}let n;try{n=await fVA(j,a.credentials,void 0)}catch(i){let o="muk-request-failed-unknown";return F.errors.isServerError(i)&&(o=`muk-request-failed-${i.code}`),`${this.uuid}${e.str}${o}`,{type:"failure",reason:NA(o)}}return{type:"success",ctx:n}}async buildMukSrpXCredentials(e,t){if(!t.user?.uuid)return{type:"failure",reason:NA("missing-user-uuid")};if(!t.user.masterKey)return{type:"failure",reason:NA("missing-master-key")};if(!t.user.secretKey)return{type:"failure",reason:NA("missing-secret-key")};let r;try{r=await t.user.masterKey.exportJwk()}catch{return{type:"failure",reason:NA("export-jwk-failed")}}let a;try{a=t.user.secretKey.exportSensitiveReadableString()}catch{return{type:"failure",reason:NA("readable-secret-key-failed")}}return{type:"success",credentials:{accountIdentifier:{accountUUID:e,userUUID:t.user.uuid,server:t.config.server},uuid:t.user.uuid,email:t.user.email,muk:r,secretKey:a,signinAddress:this.signinAddress,srpX:this.srpX,dSecret:t.user.dSecret}}}async _signOutClient(e,t){try{await this._signOut(e)}catch(r){po(r,sA`Could not sign CTX out - continuing sign out cleanup`,void 0,{initiator:t})}this.onServerChanged=void 0,this._srpX=void 0,this._dangerousInnerCTX=void 0}async _signOut(e){e.nc.off(F.notification.ServerChanged,this.handleServerDidChange),e.nc.off(F.notification.ServerConnected,this.handleServerDidConnect),e.session.nc.off(F.notification.SessionRequestIdChanged,this.handleSessionRequestIdChanged),await he.signOut(e)}mustMigrate(e){return!e.account?.uuid||!Ar.accountHasFlag(e.account.uuid,"auth-self-serve-migration-v1")?!1:e.session.ssoMigrationGracePeriod?.state===St.State.MustMigrateAuth}},_at=async(A,e,t,r)=>{let{signinAddress:a}=A;F.config.setDevice(e);let j=e6(a,e.uuid);return"accountPassword"in A?Dat(j,A,t):fVA(j,A,t,r)},j_={shouldLoadUniverse:!1,isDesignatedAsPublic:!1},fVA=async(A,e,t,r)=>{let a={...j_,...r},j=await he.signIn(A,e,a);if(j.type==="domain_changed"&&(A.resetWithHost(j.newHost),j=await he.signIn(A,e,a),j.type==="domain_changed"))throw new Error("Failed to sign in using new domain from server.");if(j.type==="mfa_required"&&(e.dSecret&&!j.details.dsecret?.enabled&&console.info("MFA flow: B5 signin returned undefined or false dsecret.enabled"),await EVA(A,j.details,e)),!A.user){let n=new Error("Missing CTX user when signing in with Muk and SrpX.");throw po(n,NA("Missing CTX user")),n}return A.account=await BVA(A,t),A},Dat=async(A,e,t)=>{let r=performance.now(),a=No.SecretKey.fromInput(e.secretKey);if(!a)throw new Error(`Secret Key for account ${e.accountIdentifier.accountUUID} invalid.`);let j={email:e.email,secretKey:a,password:e.accountPassword};try{let n=await he.signIn(A,j,j_);if(n.type==="domain_changed"&&(A.resetWithHost(n.newHost),n=await he.signIn(A,j,j_),n.type==="domain_changed"))throw new Error("Failed to sign in using new domain from server.");n.type==="mfa_required"&&(n.details.duo?.enabled&&iVA(j.password),await EVA(A,n.details,e))}catch(n){if(!A.isSignedIn())throw n}return A.user?(A.user.password=e.accountPassword,A.account=await BVA(A,t),A.user.password=void 0,console.info(`Signed in successfully to ${A.account.uuid} and loaded account details. %cElapse time ${(performance.now()-r).toFixed(0)}ms.`,"color:blue"),A):Promise.reject("Missing user")},BVA=async(A,e)=>{let t=await RA.getAccountWithAttrs(A.session,[RA.AccountAttrs.Me,RA.AccountAttrs.SettingsTeamMemberPolicies,...e||[]]);return(await Mn.parseAccount(A,t)).account},EVA=async(A,e,t)=>{if(t.dSecret&&e.dsecret?.enabled){console.info("[MFA] Completing sign-in with dSecret...");try{await he.completeMFASignInWithDSecret(A,t.dSecret,j_);return}catch(r){if(ab(r,Ak.invalidMFA))console.error("Unable to complete MFA sign-in with stored dSecret. Device deauthorized?");else throw po(r,F.logsafe.assertLogSafe("Unexpected error when completing MFA with stored dSecret"),F.logsafe.assertLogSafe(t.accountIdentifier.userUUID)),r}}if(e.duo?.enabled){console.info("[Duo MFA] Completing MFA sign-in with Duo..."),uVA(t.accountIdentifier.accountUUID);try{A.user&&(A.user.password=void 0);let r=new QH;hs(),Or()?await r.beginAuth(e):eV=()=>r.beginAuth(e),XpA=()=>r.cancelAuth();let a=await r.completed();if(A.user){let j=HpA();typeof j=="string"&&(A.user.password=j)}await he.completeMFASignInWithDuo(A,{type:"duov4",code:a},{isDesignatedAsPublic:!0,shouldLoadUniverse:!0}),console.info("\u2705 Duo code successfully submitted!");return}catch(r){throw uVA(void 0),console.error("\u26D4 Duo auth failed:",r),new cH(0,"Unable to finish sign in because Duo MFA failed.")}finally{WpA()}}if(e.dsecretProxy?.enabled){console.info("[MFA] Completing MFA sign-in with dSecret proxy...");try{let r=await sVA(t.accountIdentifier,A.session.sessionUuid);if(!r)throw new Error("No dSecret proxy returned");try{await he.completeMFASignInWithDSecretProxy(A,r.dsecretHmac,r.deviceUUID,j_);return}catch(a){po(a,F.logsafe.assertLogSafe("Unable to complete MFA sign-in with dSecret proxy."),F.logsafe.assertLogSafe(t.accountIdentifier.userUUID))}}catch{console.error("Desktop App not connected or dSecret not available")}}throw new Cf(F.errors.ClientErrorCode.invalidMFA,"Unable to sign in with available MFA options.")};var bVA=AA(y0());var zat="\u{1F9F0} Configuring content script metadata",Mat="Content script metadata updated.",Rat="Unable to update content script metadata.",Kat="Unable to retrieve content script metadata.",v0=new Xa(zat),z$=A=>{if(!(0,bVA.isEqual)(A,YpA())){v0.info(Mat);try{fa.setItem(SJ,JSON.stringify(A)),tV(Pa()?"locked":"unlocked")}catch{v0.error(Rat)}}},YpA=()=>{let A;try{A=JSON.parse(fa.getItem(SJ)??"{}")}catch{v0.error(Kat),A={prefersColorSchemeDark:!1}}return A};var aV=AA(Wr());var Lat=4;var rV=class{constructor(){this.sessions=new Map}dismisAll(){this.sessions.clear()}get(e){for(let r of this.sessions.values())if(r.secondaryTabId===e)return r;let t=this.sessions.get(e);if(t)return t}async getOrCreate(e){let t=this.get(e.id);return t||await this.create(e)}async createOrUpdate(e,t){let r=this.get(e.id);return r?(r=Object.assign(r,t),this.sessions.set(r.id,r),r):await this.create(e,t)}complete(e){if(this.sessions.has(e)){this.sessions.delete(e);return}for(let[t,r]of this.sessions)if(r.secondaryTabId===e){this.sessions.delete(t);return}}async inlineNotificationExpired(e){let t=this.get(e.id);return!t||t.step!=="ssh-next-steps-notification"?!1:await e.nakedDomain()!==t.nakedDomain||t.nextStepsNotificationPageCount>Lat}async cleanup(){let e=[];for(let[t,r]of this.sessions)(!r.secondaryTabId&&!await yVA(t,r.nakedDomain)||r.secondaryTabId&&!await yVA(r.secondaryTabId,r.nakedDomain))&&e.push(t);e.forEach(t=>this.sessions.delete(t))}async create(e,t){let r=Object.assign({id:e.id,nakedDomain:await e.nakedDomain(),step:"ssh-feature-intro",nextStepsNotificationPageCount:0},t??{});return this.sessions.set(e.id,r),r}},yVA=async(A,e)=>new Promise(t=>{try{chrome.tabs.get(A,r=>{if(!r?.url)return t(!1);let a=Tg(r);if(!a)return t(!1);a.nakedDomain().then(j=>t(j===e))})}catch{t(!1)}});var Du=new rV,QpA={github:{sshCreateUrl:()=>"https://github.com/settings/ssh/new",activationUrlPattern:/^https?:\/\/github\.com/,variant:"github",nakedDomain:"github.com"},gitlab:{sshCreateUrl:()=>"https://gitlab.com/-/profile/keys",activationUrlPattern:/^https?:\/\/gitlab\.com/,variant:"gitlab",nakedDomain:"gitlab.com"},google_compute_engine:{sshCreateUrl:A=>{let e=new URL("https://console.cloud.google.com/compute/metadata?tab=sshkeys"),r=new URL(A).searchParams.get("authuser");return r&&e.searchParams.set("authuser",r),e.toString()},activationUrlPattern:/https?:\/\/console\.cloud\.google\.com\/compute/,variant:"google_compute_engine",nakedDomain:"google.com"},bitbucket:{sshCreateUrl:()=>"https://bitbucket.org/account/settings/ssh-keys/",activationUrlPattern:/https?:\/\/bitbucket\.org/,variant:"bitbucket",nakedDomain:"bitbucket.org"},azure_devops:{sshCreateUrl:A=>`https://dev.azure.com/${new URL(A).pathname.split("/").filter(Boolean)[0]??""}/_usersSettings/keys`,activationUrlPattern:/https?:\/\/dev\.azure\.com/,variant:"azure_devops",nakedDomain:"azure.com"},digitalocean:{sshCreateUrl:()=>"https://cloud.digitalocean.com/account/security",activationUrlPattern:/https?:\/\/.*\.digitalocean\.com/,variant:"digitalocean",nakedDomain:"digitalocean.com"}},vVA="ssh_onboarding_dismissed",Nat="https://developer.1password.com/docs/ssh/agent/?utm_medium=direct&utm_source=browser_extension&utm_campaign=ssh-onboarding",Uat="onepassword://settings/developers";function Hat(){let A=Re().language.toLowerCase();return A==="ja"&&(A="jp"),A==="en"&&(A=""),`https://1password.com/${A.length>0?`${A}/`:""}downloads/?utm_medium=direct&utm_source=browser_extension&utm_campaign=ssh-onboarding`}function M$(){try{return JSON.parse(Ze.getItem(vVA)??"false")===!0}catch{return!1}}function R$(){return!Or()}async function FVA(){let A=await $t.loadItemCache();return A?A.items(Qt.combine(Qt.invert(Qt.archived),Qt.sshKeys,Qt.vaultTypePersonal)).length:(console.warn("Failed to load cache checking SSH key count."),0)}function Vat(A,e){let t=Object.values(QpA).find(r=>r.nakedDomain===A);return t?t.activationUrlPattern.test(e):!1}function Xat(A){!R$()||M$()||Ka({tabId:A.id,message:{name:"show-notification",data:{type:"sshOnboardingNextSteps"}}})}async function jV(A,e){if(!(!R$()||M$()||Pa()||await FVA()>0)){for(let t of Object.values(QpA))if(t.nakedDomain===A&&t.activationUrlPattern.test(e))return t}}async function ZpA(){Ze.setItem(vVA,JSON.stringify(!0))}async function Wat(A){if(!R$()||M$())return;let e=Du.get(A.id);if(!e||e.step!=="create-ssh-key-page")return;let t=await A.nakedDomain();if(!Vat(t,A.unparsedUrl))return;let r=A.URL();if(!r||!Object.values(QpA).some(i=>i.sshCreateUrl(A.unparsedUrl).includes(r.pathname)))return;let a=await dn(A,!0),n=(await FA.analyzePage(a,!1,[])).resolvedPage.frames.map((i,o)=>{let s=i.fields.find(c=>c.designation.autofillType===aV.AutofillType.SshKey);return{allowedTargets:{type:"Targets",data:[{type:"Url",data:t}]},operations:s?[{action:aV.Action.FocusOpid,opid:s.opid,value:""}]:[],uuid:a.frames[o].uuid}});return{filledDesignations:[],frames:n}}async function nV(){if(M$()||!R$())return!1;let A=await ca();if(!A||!await jV(await A.nakedDomain(),A.unparsedUrl))return!1;let e=Du.get(A.id);return!(e&&e.step!=="ssh-feature-intro"&&e.secondaryTabId===A.id)}async function GVA(){console.info("[SSH Onboarding]: Dismissing SSH onboarding flow."),Du.dismisAll(),ZpA(),Xi({updateIconOnly:!0})}async function wVA(){let A=await ca();if(!A){console.warn("[SSH Onboarding]: No active tab.");return}let e=await jV(await A.nakedDomain(),A.unparsedUrl);if(!e)return;let t=await Du.getOrCreate(A);return{variant:e.variant,operatingSystem:(await ir.getBrowserInfo()).osName,isOnSshKeyCreatePage:t.step==="create-ssh-key-page"&&A.id===t.secondaryTabId}}async function qVA(){let A=await ca();if(!A){console.warn("[SSH Onboarding]: No active tab.");return}let e=await jV(await A.nakedDomain(),A.unparsedUrl);if(!e)return;let t=new URL(e.sshCreateUrl(A.unparsedUrl));chrome.tabs.create({url:t.toString()},r=>{Du.createOrUpdate(A,{step:"create-ssh-key-page",secondaryTabId:r.id})}),As()}async function $VA(A){if(!R$()||M$()||Pa()||await FVA()>0)return;let e=await ca();if(!e){console.warn("[SSH Onboarding]: No active tab.");return}Du.createOrUpdate(e,{step:"ssh-next-steps-notification"})}async function IVA(){return{isConnectedToOp8:Ud(),learnMoreUrl:Nat}}async function PVA(A){if(!Ud()){console.info("[SSH Onboarding]: Not connected to OP8, directing to download URL."),chrome.tabs.create({url:Hat(),active:!0}),Du.dismisAll(),await ZpA();return}chrome.tabs.create({url:Uat,active:!0}),Du.dismisAll(),await ZpA()}async function SVA(A){let e=await ca();if(!e){console.warn("[SSH Onboarding]: No active tab.");return}let t=Du.get(e.id);if(t?.step!=="create-ssh-key-page"||!t?.secondaryTabId)return;let r=await xl(t.secondaryTabId);if(!r)return;let a=await Wat(r);a&&Ka({tabId:r.id,message:{name:"perform-fill",data:{payload:{fillPayload:a},authorizedUnsafeHttp:!1}}})}async function CVA(A){if(Xi({updateIconOnly:!0}),!R$())return;let e=Du.get(A.id);if(e){if(console.info("[SSH Onboarding]: Step: ",e.step),await Du.inlineNotificationExpired(A))Du.complete(A.id);else if(e.step==="ssh-next-steps-notification")e.nextStepsNotificationPageCount+=1,Xat(A);else if(e.step==="create-ssh-key-page"&&e.secondaryTabId){let t=await xl(e.secondaryTabId);if(t){let r=await jV(await t.nakedDomain(),A.unparsedUrl);r&&chrome.tabs.sendMessage(t.id,{name:"ssh-focus-create-form",data:r.variant})}}}Du.cleanup(),M$()}var Jat="/images/icons/app_icon-dark_bg-color-",Yat="/images/icons/app_icon-light_bg-color-",Zat="Using the dark icon.",Qat="Using the light icon.",Ajt="Using the icon with notification dot.",ejt=async A=>(Or()&&(A="unlocked"),(rA.anyAccountHasUnseenDeviceEnrollments||await nV())&&(A+="-notification",v0.info(Ajt)),YpA()?.prefersColorSchemeDark?(v0.info(Zat),`${Jat}${A}`):(v0.info(Qat),`${Yat}${A}`)),tV=async A=>{let e=await ejt(A),t={path:{12:e+"-12.png",16:e+"-16.png",19:e+"-19.png",24:e+"-24.png",32:e+"-32.png",38:e+"-38.png",48:e+"-48.png",72:e+"-72.png"}};$j()?browser.action.setIcon(t):browser.browserAction.setIcon(t)};function oV(A){return $j()?browser.action.setPopup({popup:A}):browser.browserAction.setPopup({popup:A})}function Xi(A={}){let t={...{skipIconUpdate:!1},...A},r=t.desktopAppState||Mt.getDesktopAppState();if(t.skipIconUpdate||r.type==="Connecting"||tV(Pa()?"locked":"unlocked"),!t.updateIconOnly)return r.type==="Connected"||Or()?oV("/popup/index.html"):rA.hasAccountHandlers?oV("/popup/index.html"):oV("")}var K$=AA(Ln()),OVA=async A=>{if(!A.isLocked)return await $t.loadAndDecryptItemCache(),i_(),Promise.resolve()};async function i_(){Kr("vaults-changed",void 0),Fp()}var TVA=async(A,e)=>{switch(e.type){case _e.TypePersonal:switch(A){case dr.Type.Individual:return(0,K$.T)("Personal");case dr.Type.Business:return(0,K$.T)("Employee");case dr.Type.Family:default:return(0,K$.T)("Private")}case _e.TypeEveryone:return e.name==="Shared"?(0,K$.T)("Shared"):e.name;case _e.TypeManagedApplications:return(0,K$.T)("Managed");default:return e.name}},AkA=async(A,e)=>A._findVaultWithUUID(e),ekA=async(A,e)=>A.items?(await Promise.all(A.items.filter(r=>r.vault.uuid===e.uuid&&r.cacheInformation===void 0).map(r=>r.localId?A.getItem({type:"databaseId",data:r.localId}):void 0))).filter(r=>!!r):Promise.resolve([]);var _VA="watchtower_settings",tkA="watchtower-sites",sV=864e5,tjt=36e5,rjt=3e5,F0=class A{constructor(e=!1){this.qaTesting=e;this.logger=new Xa("\u{1F5FC} Watchtower events")}wait(e){browser.alarms.create(tkA,{when:Date.now()+e}),this.listener===void 0&&(this.listener=t=>{t.name===tkA&&this.updateReportAndCompare()}),browser.alarms.onAlarm.addListener(this.listener)}async updateReportAndCompare(){if(Pa()){this.clear();return}this.logger.debug("Updating report and comparing");let e=await $t.loadItemCache();if(!e)return;let t=await this.updateWatchtowerReport();if(!t){this.wait(rjt);return}let{showNotifications:r,watchtowerNotifications:a}=Re(),j=A.loadSettings();if(this.saveReport(t),!!j){if(r&&a&&j.report){let n=await FA.compareWatchTowerDiff(j.report,t);if(Object.keys(n.compromisedWebsitesDiff).length>0){let i=[];for(let s of e.activeItems()){let c=s.overview.URLs?.filter(h=>!!h.u).map(h=>h.u)??[];if(c.length===0)continue;let u=e.accounts.find(h=>e.vaults[h.uuid].some(f=>f.uuid===s.vault.uuid));if(!u)continue;let p={accountUUID:u.uuid,itemUUID:s.uuid,lastPasswordChangeTimestamp:s.passwordUpdatedAt??0,vaultUUID:s.vault.uuid,websites:c};i.push(p)}let o=await FA.newCompromisedWebsiteItems({compromisedWebsitesDiff:n.compromisedWebsitesDiff,items:i});o.items.length>0&&OHA(o)}}this.wait(sV)}}async begin(){if(this.listener||sa())return;this.logger.debug("Beginning watchtower events");let e=A.loadSettings(),{showNotifications:t,watchtowerNotifications:r}=Re(),a=t&&!r;if(!e&&a?zu("enable-watchtower-compromised-sites"):a||G0("enable-watchtower-compromised-sites"),!e){let n=await this.updateWatchtowerReport();n?(this.saveReport(n),this.wait(sV)):this.wait(tjt);return}let j=e.lastUpdate?new Date().getTime()-new Date(e.lastUpdate).getTime():0;j>=sV&&(this.clear(),await this.updateReportAndCompare(),j=0),this.wait(sV-j)}clear(){this.logger.debug("Clearing watchtower events"),browser.alarms.clear(tkA),this.listener&&(browser.alarms.onAlarm.removeListener(this.listener),this.listener=void 0)}async updateWatchtowerReport(){try{return this.qaTesting?A.fakeWatchtowerData():(he.unloadWatchtowerData(),await he.loadWatchtowerData(),he.getWatchtowerData())}catch(e){console.warn("Unable to update Watchtower report!",e)}}saveReport(e){if(this.qaTesting)return;let t={lastUpdate:new Date().getTime(),report:e};Ze.setItem(_VA,JSON.stringify(t))}static loadSettings(){let e=Ze.getItem(_VA);return e?JSON.parse(e):void 0}static async fakeWatchtowerData(){return new Promise(e=>{fetch("https://bucket.agilebits.com/qa/watchtower/compromised-sites.json").then(t=>t.text()).then(t=>{let r=JSON.parse(t);e(r)})})}static async watchtowerQA(){let e=new A(!0);await e.updateReportAndCompare(),e.clear()}},lV=rr.resolve(F0);async function T7(){return Ve.isInitialized()?(await Ve.getDatabase().getAllAccounts()).length>0:!1}function o_(A,e,t){return{uuid:A.uuid,name:A.name,state:A.state,email:e.email,signinAddress:t.signinAddress,domain:A.domain,secretKey:t.secretKey,deviceCredentials:t.deviceCredentials,dSecret:t.dSecret||void 0,userUUID:e.uuid,type:A.type,avatar:A.avatar,attrVersion:A.attrVersion,createdAt:JSON.stringify(A.createdAt),baseAvatarURL:A.baseAvatarURL,accountVersion:A.attrVersion,templateVersion:0,userState:e.state,userVersion:e.attrVersion,userCreatedAt:e.createdAt,userPreferences:e.preferences,keysetVersion:0,userOverview:{permissions:0},authMethods:t.authMethods,billingStatus:A.subscription.status,teamMemberPolicies:A.settings?.teamMemberPolicies}}function DVA(A,e){return{uuid:A.accountUuid,name:A.teamName,state:A.accountState,email:A.userEmail,signinAddress:A.signInUrl,domain:LE.subdomainFromSignInAddress(A.signInUrl)??"",secretKey:A.signInProvider.type==="secretKey"?A.signInProvider.data:void 0,dSecret:void 0,userUUID:A.userUuid,type:A.accountType,avatar:A.teamAvatar,createdAt:"",baseAvatarURL:A.baseAvatarUrl,attrVersion:0,accountVersion:0,templateVersion:0,userState:A.userState,userVersion:0,userPreferences:void 0,userCreatedAt:void 0,keysetVersion:0,userOverview:{permissions:0},authMethods:e,billingStatus:A.billingStatus}}var zVA=AA(Pl()),L$=AA(OA()),MVA=AA(Ln());var rkA="page-exclusion-list",ajt=L$.record(L$.string,L$.boolean),jkA=class{constructor(){this._pageExclusionList={}}init(){this.#e()}async checkPermission(e){if(Object.keys(this._pageExclusionList).length>0)return Promise.resolve(!0);let t=Ic();return chrome.tabs.sendMessage(e.id,{name:"get-hide-on-this-page-permission",data:(0,MVA.T)(`1Password will no longer make autofill suggestions on this page.

The list of hidden pages is remembered in this web browser. You can clear the list at any time in settings.`)},t.resolve),t.promise}append(e){this._pageExclusionList[akA(e.unparsedUrl)]=!0,this._onChange(e)}has(e){return!!this._pageExclusionList[akA(e.unparsedUrl)]}remove(e){delete this._pageExclusionList[akA(e.unparsedUrl)],this._onChange(e)}clear(){this._pageExclusionList={},this.#A()}_onChange(e){this.#A();let t=this.has(e);chrome.tabs.sendMessage(e.id,{name:"page-excluded",data:t})}async#e(){try{let e=Ze.getItem(rkA);if(!e)throw new Error;let t=ajt.decode(JSON.parse(e));if((0,zVA.isLeft)(t))throw new Error;this._pageExclusionList=t.right}catch{Ze.setItem(rkA,JSON.stringify({}))}}async#A(){Ze.setItem(rkA,JSON.stringify(this._pageExclusionList))}};function akA(A){let e=new URL(A);return $U(e)}var es=new jkA;var c_=AA(y0());async function N$(A){if(!A)return A??"";let e=await crypto.subtle.digest("SHA-256",F.str2ab(A.toLowerCase()));return F.ab2str(e)}var U$=AA(Pl()),zc=AA(OA()),jjt="webauthn",nkA=A=>`${jjt}/${A}`,ikA=async A=>(await N$(A)).substring(0,6-1),RVA=zc.type({credentialIds:zc.array(zc.string)},"WebAuthnConfigCodec"),KVA=new zc.Type("WebAuthnStorageCodec",A=>{if(typeof A!="object"||A===null)return!1;let e=RVA.decode(A);return!(0,U$.isLeft)(e)},(A,e)=>{if(typeof A!="string")return zc.failure(A,e);let t;try{t=JSON.parse(A)}catch{zc.failure(A,e)}let r=RVA.decode(t);return(0,U$.isLeft)(r)?zc.failure(A,e):zc.success(r.right)},A=>JSON.stringify(A)),LVA=A=>{let e=nkA(A),t=Ze.getItem(e);if(!t)return cV();let r=KVA.decode(t);return(0,U$.isRight)(r)?r.right:((0,U$.isLeft)(r)&&(ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("GetWebAuthnConfig"),message:F.logsafe.assertLogSafe("failed to parse local storage - making new config")})),console.error("Could not parse local config - making new config")),cV())},NVA=A=>{let e=nkA(A);Ze.removeItem(e)},UVA=(A,e)=>{let t=nkA(A),r=KVA.encode(e);Ze.setItem(t,r)},cV=()=>({credentialIds:[]}),okA=async(A,e)=>{let t=rA.findAccountHandlerByUuid(A);if(!t)return;let r=[];t.items?.forEach(n=>{n.overview.b5AccountUUID===A&&n.state===GA.ItemState.Active&&n?.overview?.passkey&&(e.isExcluded(A,n.vault.uuid)||r.push(ikA(n.overview.passkey.credentialId)))});let a=await Promise.all(r),j=cV();j.credentialIds=a,UVA(A,j)},skA=A=>{let e=cV();UVA(A,e)},HVA=()=>{if(rA.anyAccountIsSyncing){let A=TA.assertLogSafe("Could not remove passkey cache while sync is in progress");return console.error(A.str),!1}return rA.getAccountHandlers.forEach(A=>{skA(A.accountIdentifier.accountUUID)}),!0},VVA=()=>{if(rA.anyAccountIsSyncing){let e=TA.assertLogSafe("Could cache passkeys while sync is in progress");return console.error(e.str),!1}let A=Ej();return rA.getAccountHandlers.forEach(async e=>{okA(e.accountIdentifier.accountUUID,A)}),!0};var uV=A=>atob(A.replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>e.charCodeAt(0)),XVA=async A=>{let e=await $t.loadItemCache();if(!e)return[];let t=Ej();return e.itemsForTab(A,r=>{if(r.state!==GA.ItemState.Active||r.templateUuid!==$r||r.overview.passkey)return!1;let a=r.vault.localId?e.accountForVaultID(r.vault.localId):void 0;return!(!a||t.isExcluded(a.uuid,r.vault.uuid))})},WVA=A=>{let e=new Map;return A.forEach(t=>{e.set(t.uuid,t)}),Array.from(e.values())},_7=A=>btoa(String.fromCharCode.apply(null,A)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");async function dV(A,e=[]){let t=await $t.loadItemCache();if(!t)return[];let r=Ej(),a=e.map(j=>({...j,id:_7(j.id)}));return t.fillableItems(j=>{if(j.state!==GA.ItemState.Active||j.overview.b5AccountUUID&&!H$(j.overview.b5AccountUUID))return!1;let n=j.vault.localId?t.accountForVaultID(j.vault.localId):void 0;if(!n||r.isExcluded(n.uuid,j.vault.uuid)||j.overview.passkey&&typeof j.overview.passkey.credentialId!="string")return!1;let i=j.overview.passkey?.credentialId;if(!j.overview.passkey||typeof j.overview.passkey.rpId!="string"||j.overview.passkey.rpId!==A)return!1;let o=a.some(s=>s.type==="public-key"&&s.id===i);return!(e.length>0&&!o)})}function JVA(A){let e=A.overview.passkey,t=A.details.passkey;return!e||!t||!ZA.VaultItem.isKnownPasskey(t)||t.type!=="webauthn"?(console.warn("Item was missing required key data"),Pe(void 0)):vt({credential_id:uV(e.credentialId),key:uV(t.privateKey),user_handle:uV(t.userHandle),rp_id:e.rpId??"",prf:njt(t.prf)})}function njt(A){return A?{alg:A.alg,cred_with_uv:uV(A.credWithUv)}:void 0}function YVA(A){if(A)return{numCreds:1}}function ZVA(A){if(A&&A.alg==="HMAC_SHA256")return{alg:A.alg,credWithUv:_7(A.cred_with_uv)}}var mV=A=>A instanceof Error?A.message in fLA?TA.assertLogSafe(A.message):(A.message,TA.assertLogSafe("unknown")):TA.assertLogSafe("unknown"),pV=A=>A instanceof Error?A.message in BLA?TA.assertLogSafe(A.message):(A.message,TA.assertLogSafe("unknown")):TA.assertLogSafe("unknown"),kV=()=>{throw new Error("timeout")},Mu=(A,e)=>(s_(A,e),hV(A)),Yd=(A,e)=>(lkA(A,e),hV(A)),lkA=(A,e)=>{if(!e)try{let[r]=rA.defaultSavingLocation();e=r.uuid}catch{}let t="";try{e&&(t=rA.findAccountHandlerByUuid(e)?.accountIdentifier.userUUID??""),s_(A,e),ht(new F.LoggableError({errorClass:TA.assertLogSafe("HandleGetCredential"),message:A,userUuid:TA.assertLogSafe(t)}))}catch{console.error("An error was encountered while reporting handleGetCredential")}},s_=(A,e)=>{switch(A.str){case"timeout":Jd(Yl.UsingPasskeyFailureTimeout,e);break;case"disabled":case"unauthorized":case"missing-url":case"missing-public-key":case"bad-rp-id":Jd(Yl.UsingPasskeyFailureBadinput,e);break;case"authenticating-failed":case"corrupted-item":case"internal-error":case"messenger-error":case"port-error":case"unexpected-response":case"vault-data-failed":case"vault-icons-failed":case"conflicting-state":Jd(Yl.UsingPasskeyFailureInternal,e);break;case"unknown":Jd(Yl.UsingPasskeyFailureUnknown,e);break;case"missing-item":Jd(Yl.UsingPasskeyFailureMissingItem,e);break;case"missing-cached-id":case"user-cancelled":case"fallback-requested":break;default:jr(A.str)}},hV=A=>({type:"get-credential-error",data:{reason:A.str}}),QVA=(A,e)=>({type:"get-credential-success",data:{credential:A,accountUuid:e}}),Zd=(A,e)=>(AXA(A,e),eXA(A)),Gp=(A,e)=>(w0(A,e),eXA(A)),w0=(A,e)=>{if(!e)try{let[r]=rA.defaultSavingLocation();e=r.uuid}catch{}let t="";try{e&&(t=rA.findAccountHandlerByUuid(e)?.accountIdentifier.userUUID??""),AXA(A),ht(new F.LoggableError({errorClass:TA.assertLogSafe("HandleCreateCredential"),message:A,userUuid:TA.assertLogSafe(t)}))}catch{console.error("An error was encountered while reporting handleCreateCredential")}},AXA=(A,e)=>{switch(A.str){case"timeout":Jd(Yl.SavingPasskeyFailureTimeout,e);break;case"disabled":case"missing-public-key":case"missing-url":case"unauthorized":case"duplicate":Jd(Yl.SavingPasskeyFailureBadinput,e);break;case"create-passkey-failed":case"internal-error":case"messenger-error":case"port-error":case"unexpected-response":case"preview-failed":case"save-passkey-failed":case"vault-data-failed":Jd(Yl.SavingPasskeyFailureInternal,e);break;case"unknown":Jd(Yl.SavingPasskeyFailureUnknown,e);break;case"user-cancelled":case"fallback-requested":break;default:jr(A.str)}},eXA=A=>({type:"create-credential-error",data:{reason:A.str}}),tXA=(A,e)=>({type:"create-credential-success",data:{credential:A,accountUuid:e}}),Jd=(A,e)=>{if(!e){try{let[t]=rA.defaultSavingLocation();Tu(t.uuid,A)}catch{}return}Tu(e,A)},ijt=()=>rA.getAccountHandlers.reduce((e,t)=>{let r=LVA(t.accountIdentifier.accountUUID);return e.concat(r.credentialIds)},[]),rXA=async A=>{let e=ijt(),t=A.map(a=>_7(a.id)).map(ikA);return(await Promise.all(t)).some(a=>e.includes(a))};async function ckA(){let A=await Ve.getDatabase().getAllAccounts();return A.length===0?!0:A.some(e=>e.teamMemberPolicies===void 0?!1:e.teamMemberPolicies.blockPasskeyAuthenticator)}async function ukA(){let A=await Ve.getDatabase().getAllAccounts();return A.length===0?!0:A.every(e=>e.teamMemberPolicies===void 0?!1:e.teamMemberPolicies.blockPasskeyAuthenticator)}function H$(A){let e=rA.findAccountHandlerByUuid(A);if(!e)return!0;let{teamMemberPolicies:t}=e.serveraccount;return t?!t.blockPasskeyAuthenticator:!0}var l_=_c(),gV=A=>{A||l_.broadcast({type:"b5x-unlocked",data:{}}),A&&l_.broadcast({type:"b5x-locked",data:{}})};async function ojt(A,e){let t=await oH(A.id,{type:"passkeyRegisterSuccess"},5);if(!t)return;let r;try{r=await l_.getPort(TA.assertLogSafe("passkey-register-success"),A.id,3e3,{reqId:t})}catch{return}r.postMessage({type:"registration-success-data",data:e}),await r.raceDisconnect([],3500),r.close()}var aXA=async(A,e,t)=>{if(e!=="google.com"||A.origin!=="https://accounts.google.com")return;let r=(t||[]).map(n=>_7(n.id));if(r.length===0)return;let a=await dV(e,[]),j=(0,c_.compact)(a).filter(n=>typeof n.overview.passkey?.credentialId>"u"?!1:r.includes(n.overview.passkey.credentialId));if(j.length!==0)return console.warn("Failed to validateExcludeCredentials: duplicate"),{reason:TA.assertLogSafe("duplicate"),accountUuid:j[0].overview.b5AccountUUID}};async function lXA(A,e){let t;try{t=await sjt(A,e)}catch(r){return console.error("_handleCreateCredential threw exception",r),Gp(TA.assertLogSafe("unknown"),void 0)}return t.type==="create-credential-success"&&Jd(Yl.SavingPasskeySuccess,t.data.accountUuid),t}async function sjt(A,{tab:e,frame:t}){let r=rA?.allAccountHandlersAreLocked??!0,[a,j]=await Promise.all([ckA(),ukA()]).catch(E=>(ra(E)?ht(E):ht(new F.LoggableError({errorClass:TA.assertLogSafe("HandleCreateCredential"),message:TA.assertLogSafe("db-policy-lookup-failed")})),[!0,!0]));if(r&&a||!r&&j)return console.warn("Could not complete _handleCreateCredential: disabled"),Zd(TA.assertLogSafe("disabled"),void 0);if(!A.data?.publicKey)return console.warn("Could not complete _handleCreateCredential: missing-public-key"),Zd(TA.assertLogSafe("missing-public-key"),void 0);let n=A.data.publicKey,i=fl(n.timeout),o=e.URL(),s=t.URL();if(!o||!s)return console.error("Failed to _handleCreateCredential: missing-url"),Gp(TA.assertLogSafe("missing-url"),void 0);if(!r){let E=await aXA(s,n.rp.id,n.excludeCredentials);if(E)return console.error("Failed to _handleCreateCredential:",E.reason.str),Zd(E.reason,E.accountUuid)}let c=await oH(e.id,{type:"passkeySavePrompt"},5);if(!c)return console.error("Failed to send message: messenger-error"),Gp(TA.assertLogSafe("messenger-error"),void 0);let u;try{u=await l_.getPort(TA.assertLogSafe("passkey-save-prompt"),e.id,3e3,{reqId:c})}catch{return await x$(e.id,c,{type:"passkeyGenericError"})||(console.error("Failed to replaceNotification: messenger-error"),w0(TA.assertLogSafe("messenger-error"),void 0)),console.error("Failed to _handleCreateCredential: port-error"),Gp(TA.assertLogSafe("port-error"),void 0)}let p;try{p=await ljt(n,o,e)}catch{return await x$(e.id,c,{type:"passkeyGenericError"})||(console.error("Failed to replaceNotification: messenger-error"),w0(TA.assertLogSafe("messenger-error"),void 0)),u.close(),console.error("Failed to _handleCreateCredential: preview-failed"),Gp(TA.assertLogSafe("preview-failed"),void 0)}if(rA.allAccountHandlersAreLocked){u.postMessage({type:"locked-preview-passkey-data",data:p});let E=await u.raceDisconnect([u.readMessage(),i]);if(E.type==="use-system-passkeys")return u.close(),console.warn("Could not complete _handleCreateCredential while locked: use-system-passkeys"),Zd(TA.assertLogSafe("fallback-requested"),void 0);if(E.type==="disconnected")return u.close(),console.warn("Could not complete _handleCreateCredential while locked: disconnected"),Zd(TA.assertLogSafe("fallback-requested"),void 0);if(E.type!=="passkey-unlocked")return u.sendErrorAndClose("unexpected-response"),console.error("Failed to _handleCreateCredential while locked: unexpected-response"),Zd(TA.assertLogSafe("unexpected-response"),void 0)}let h=await aXA(s,n.rp.id,n.excludeCredentials);if(h)return WE(e.id,c).catch(()=>{w0(TA.assertLogSafe("messenger-error"),void 0)}),u.close(),console.warn("Could not complete _handleCreateCredential: validate-credentials-failed"),Zd(h.reason,h.accountUuid);try{await jXA(u,p),await nXA(u,e,s,n)}catch{return await x$(e.id,c,{type:"passkeyGenericError"})||(console.error("Failed to replaceNotification: messenger-error"),w0(TA.assertLogSafe("messenger-error"),void 0)),u.close(),console.error("Failed to _handleCreateCredential: vault-data-failed"),Gp(TA.assertLogSafe("vault-data-failed"),void 0)}let f,G="";for(;f=await u.raceDisconnect([u.readMessage(),i]);){if(f.type==="update-passkey-save"){let{accountUuid:E}=q7(f.data.id);G=E;break}if(f.type==="new-passkey-save"){G=f.data.accountVaultUuid.accountUuid;break}if(f.type==="passkey-unlocked")try{await jXA(u,p),await nXA(u,e,s,n);continue}catch{return await x$(e.id,c,{type:"passkeyGenericError"})||(console.error("Failed to replaceNotification: messenger-error"),w0(TA.assertLogSafe("messenger-error"),void 0)),u.close(),console.error("Failed to _handleCreateCredential after unlock: vault-data-failed"),Gp(TA.assertLogSafe("vault-data-failed"),void 0)}if(f.type!=="passkey-locked"){if(f.type==="use-system-passkeys")return u.close(),console.warn("Could not complete _handleCreateCredential: use-system-passkeys"),Zd(TA.assertLogSafe("fallback-requested"),void 0);if(f.type==="disconnected")return u.close(),console.warn("Could not complete _handleCreateCredential: disconnected"),Zd(TA.assertLogSafe("fallback-requested"),void 0);if(f.type==="timeout")return u.sendErrorAndClose("timeout"),console.warn("Could not complete _handleCreateCredential: timeout"),Zd(TA.assertLogSafe("timeout"),void 0);iG(f.type,TA.assertLogSafe("response.type"))}}if(!(G?H$(G):!0))return console.error("User attempted to save passkey on account with passkey blocking policy"),u.sendErrorAndClose("disabled"),console.warn("Could not complete _handleCreateCredential: disabled"),Zd(TA.assertLogSafe("disabled"),G);let y;try{let E={publicKey:n};y=await Promise.race([FA.webAuthnRegister({url:s.origin,request:E,isPrfEnabled:await pXA()}).catch($=>{let T=$ instanceof Error?$.message:$;throw console.error("Failed to core.webAuthnRegister:",T),new Error("create-passkey-failed")}),i.then(kV)])}catch(E){let $=mV(E);return u.sendErrorAndClose($.str),console.error("Failed to _handleCreateCredential:",$.str),Gp($,G)}if(f.type==="update-passkey-save")try{let E=await Promise.race([mjt(f.data.id,n,y,o,s).catch(()=>{throw new Error("save-passkey-failed")}),i.then(kV)]);E.username&&(p.username=E.username.value)}catch(E){let $=mV(E);return u.sendErrorAndClose($.str),console.error("Failed to _handleCreateCredential:",$.str),Gp($,G)}if(f.type==="new-passkey-save")try{await Promise.race([djt(e.title,o,s,f.data.accountVaultUuid,n,y).catch(()=>{throw new Error("save-passkey-failed")}),i.then(kV)])}catch(E){let $=mV(E);return u.sendErrorAndClose($.str),console.error("Failed to _handleCreateCredential:",$.str),Gp($,G)}return u.close(),ojt(e,p),tXA(y.public_key,G)}var ljt=async(A,e,t)=>{let r=Re(),a=A.user.name,j=await FA.getRichIconForUrl(e.href,t.title,r.showRichIcons),n=await FA.inferBestTitle(t.title,t.unparsedUrl)??t.title;return{username:a,icon:j,title:n}},jXA=async(A,e)=>{let{defaultSuggestedVaultId:t,vaultListElements:r}=await E0(void 0,{includeDontSaveOption:!1,accountsFilter:H$});r.length===0&&console.warn("No vaults available to save passkey to");let a={...e,vaultListElements:r,defaultSuggestedVaultId:t};return A.postMessage({type:"new-passkey-data",data:a}),a},nXA=async(A,e,t,r)=>{let a=_7(r.user.id),j=r.rp.id||t.host,n=await cjt(e,j,r);if(n.length===0){A.postMessage({type:"update-passkey-data",data:[]});return}let i=pjt(n,a,r.user),o=await yp(void 0),s=await B0(o.filter(c=>H$(c.uuid)),n,i?.localId);if(!i){for(let c of s)if(c.type==="option"){c.data.isDefault=!0;break}}A.postMessage({type:"update-passkey-data",data:s})},cjt=async(A,e,t)=>{let r=_7(t.user.id),a=await dV(e),n=(await Promise.all(a.map(s=>Oo(s)))).filter(s=>!!s).filter(s=>s?.details.passkey?.userHandle===r),i=await XVA(A);return WVA([...n,...i]).filter(({overview:s})=>s.b5AccountUUID?H$(s.b5AccountUUID):!0)},cXA=(A,e)=>{A.details.fields=A.details.fields??[],A.details.fields.push({id:"identifier",type:"T",value:e,designation:"username"}),A.overview.ainfo=e},uXA=(A,e,t)=>{let r=ujt(e,t);A.overview.URLs=r,A.overview.url=r[0].u},ujt=(A,e)=>(0,c_.uniqBy)([{l:"website",u:A.origin},{l:"website",u:e.origin}],"u"),djt=async(A,e,t,r,a,j)=>{let n=rA.findAccountHandlerByUuid(r.accountUuid);if(!n)throw new Error("No valid account handler available.");let i=n.vaults.find(s=>s.uuid===r.vaultUuid);if(!i)throw new Error("Vault does not exist.");let o=new GA(i);return o.vault=i,o.state=GA.ItemState.Active,o.templateUuid=$r,o.overview.b5AccountUUID=r.accountUuid,o.overview.title=await FA.inferBestTitle(A,e.origin)??A,uXA(o,e,t),cXA(o,a.user.name),dXA(o,a,j),await un(o),o},mjt=async(A,e,t,r,a)=>{let{itemUuid:j}=q7(A),n=await mn(j);if(!n)throw new Error("could not find item to update");return n.overview.URLs&&n.overview.URLs.length>0||uXA(n,r,a),n.details.fields?.find(s=>s.designation==="username")||cXA(n,e.user.name),dXA(n,e,t),await un(n),n},dXA=async(A,e,t)=>{A.overview.passkey={credentialId:t.public_key.id,rpId:t.private_key.rp_id,userHandle:_7(e.user.id),prf:YVA(t.private_key.prf)},A.details.passkey={type:"webauthn",createdAt:Math.floor(new Date().getTime()/1e3),privateKey:_7(t.private_key.key),userHandle:_7(e.user.id),prf:ZVA(t.private_key.prf)}};function pjt(A,e,t){let r=A.find(a=>a?.details.passkey?.userHandle===e);return r||(r=A.find(a=>{let j=a.overview.ainfo===t.name,n=a.overview.ainfo===t.displayName;if(j||n)return a})),r}async function mXA(A,e){let t;try{t=await kjt(A,e)}catch(r){return console.error("_handleGetCredential threw exception",r),Yd(TA.assertLogSafe("unknown"),void 0)}return t.type==="get-credential-success"&&Jd(Yl.UsingPasskeySuccess,t.data.accountUuid),t}async function kjt(A,{tab:e,frame:t}){let r=rA?.allAccountHandlersAreLocked??!0,[a,j]=await Promise.all([ckA(),ukA()]).catch(O=>(ra(O)?ht(O):ht(new F.LoggableError({errorClass:TA.assertLogSafe("HandleGetCredential"),message:TA.assertLogSafe("db-policy-lookup-failed")})),[!0,!0]));if(r&&a||!r&&j)return console.warn("Could not complete _handleGetCredential: disabled"),Mu(TA.assertLogSafe("disabled"),void 0);let n=A.data?.publicKey;if(!n)return console.warn("Could not complete _handleGetCredential: missing-public-key"),Mu(TA.assertLogSafe("missing-public-key"),void 0);let i=fl(n.timeout);if(r&&n.allowCredentials&&n.allowCredentials.length>0&&!await rXA(n.allowCredentials)){let I=TA.assertLogSafe("missing-cached-id");return console.warn("Could not complete _handleGetCredential:",I),Mu(I,void 0)}let o=e.URL(),s=t.URL();if(!s||!o)return console.error("Failed to _handleGetCredential: missing-url"),Yd(TA.assertLogSafe("missing-url"),void 0);let c;try{if(c=await T7(),!c)throw console.warn("Could not complete _handleGetCredential: no-available-accounts"),new Error("no available accounts to retrieve passkey from")}catch{return console.warn("Could not complete _handleGetCredential: missing-item"),Mu(TA.assertLogSafe("missing-item"),void 0)}let u;if(r){try{u=await sXA(e.id,A.data?.mediation)}catch(I){let q=pV(I);return console.error("Failed to _handleGetCredential:",q),Yd(q,void 0)}let O=await u.raceDisconnect([u.readMessage(),i]);if(O.type==="use-system-passkeys")return u.close(),console.warn("Could not complete _handleGetCredential: fallback-requested"),Mu(TA.assertLogSafe("fallback-requested"),void 0);if(O.type==="timeout")return u.sendErrorAndClose("timeout"),console.warn("Could not complete _handleGetCredential: timeout"),Mu(TA.assertLogSafe("timeout"),void 0);if(O.type==="disconnected")return u.close(),console.warn("Could not complete _handleGetCredential: disconnected"),Mu(TA.assertLogSafe("fallback-requested"),void 0);if(O.type!=="passkey-unlocked")return u.sendErrorAndClose("unexpected-response"),console.error("Failed to _handleGetCredential: unexpected-response"),Yd(TA.assertLogSafe("unexpected-response"),void 0)}let p=Re(),h=await oXA(s,n,p.showRichIcons);if(h.status!=="success"){if(console.error("Failed to _handleGetCredential:",h.reason),!u){if(h.reason.str==="bad-rp-id")return console.error("Failed to _handleGetCredential while unlocked: bad-rp-id"),Yd(h.reason,h.accountUuid);if(h.reason.str==="missing-item")return console.warn("Could not complete _handleGetCredential while unlocked: missing-item"),Mu(h.reason,h.accountUuid);if(h.reason.str==="vault-icons-failed")return console.error("Failed to _handleGetCredential while unlocked: vault-icons-failed"),Yd(h.reason,h.accountUuid);jr(h.reason.str)}if(h.reason.str==="missing-item")console.warn("Could not complete _handleGetCredential while locked: missing-item"),s_(h.reason,h.accountUuid);else if(h.reason.str==="vault-icons-failed")console.error("Failed to _handleGetCredential while locked: vault-icons-failed"),lkA(h.reason,h.accountUuid);else{if(h.reason.str==="bad-rp-id")return console.error("Failed to _handleGetCredential while locked: bad-rp-id"),Yd(h.reason,h.accountUuid);jr(h.reason.str)}return await iXA(u,i,h.reason)}let f=h.data.items;if(!u)try{u=await sXA(e.id,A.data?.mediation)}catch(O){let I=pV(O);return console.error("Failed to _handleGetCredential:",I.str),Yd(I,f[0].overview.b5AccountUUID)}u.postMessage({type:"sign-in-with-passkey",data:{options:h.data.options}});let G,w;for(;G=await u.raceDisconnect([u.readMessage(),i]);){if(G.type==="select-passkey-item"){w=G.data.localId;break}if(G.type==="passkey-unlocked"){let O=await oXA(s,n,p.showRichIcons);if(O.status!=="success"){let{reason:I}=O;return console.warn("Could not complete _handleGetCredential:",I.str),s_(I,O.accountUuid),await iXA(u,i,I)}f=O.data.items,u.postMessage({type:"sign-in-with-passkey",data:{options:O.data.options}});continue}if(G.type!=="passkey-locked"){if(G.type==="use-system-passkeys")return u.close(),console.warn("Could not complete _handleGetCredential: use-system-passkeys"),Mu(TA.assertLogSafe("fallback-requested"),void 0);if(G.type==="disconnected")return u.close(),console.warn("Could not complete _handleGetCredential: disconnected"),Mu(TA.assertLogSafe("fallback-requested"),f[0].overview.b5AccountUUID);if(G.type==="timeout")return u.sendErrorAndClose("timeout"),console.warn("Could not complete _handleGetCredential: timeout"),Mu(TA.assertLogSafe("timeout"),f[0].overview.b5AccountUUID);iG(G.type,TA.assertLogSafe("notificationState.type"))}}let y=f.find(O=>O.localId===w),E=await Oo(y);if(!E)return console.error("User picked a localId that doesn't exist:",w),u.sendErrorAndClose("conflicting-state"),console.error("Failed to _handleGetCredential: conflicting-state"),Yd(TA.assertLogSafe("conflicting-state"),void 0);let $=JVA(E);if($.isErr())return console.error("Unable to find key to sign in with."),u.sendErrorAndClose("corrupted-item"),console.error("Failed to _handleGetCredential: corrupted-item"),Yd(TA.assertLogSafe("corrupted-item"),E.overview.b5AccountUUID);let T;try{T=await Promise.race([FA.webAuthnLogin({url:s.origin,passkey:$.value,request:{publicKey:n},isPrfEnabled:await pXA()}).then(O=>({type:"auth-success",data:{credential:O.credential}})).catch(O=>{let I=O instanceof Error?O.message:O;throw console.error("Failed to core.webAuthnLogin:",I),new Error("authenticating-failed")}),i])}catch(O){let I=pV(O);return u.sendErrorAndClose(I.str),console.error("Failed to _handleGetCredential:",I.str),Yd(I,E.overview.b5AccountUUID)}return T.type!=="auth-success"?(u.sendErrorAndClose("timeout"),console.warn("Could not complete _handleGetCredential: timeout"),Mu(TA.assertLogSafe("timeout"),E.overview.b5AccountUUID)):(u.postMessage({type:"sign-in-success",data:{}}),await u.raceDisconnect([],3500),u.close(),QVA(T.data.credential,E.overview.b5AccountUUID))}async function pXA(){let A=qg["securityDevelopment-passkeyPRF"];try{A=await Promise.race([Ar.anyAccountHasFlag("securityDevelopment-passkeyPRF"),kmA(1e3)])}catch{console.error(sA`Failed to get user feature flags for prf`)}return A}var iXA=async(A,e,t)=>{A.postMessage({type:"error",data:{loggableReason:t.str}});let r,a;for(;r=await A.raceDisconnect([A.readMessage(),e]);){if(r.type==="use-system-passkeys"){a=TA.assertLogSafe("fallback-requested");break}if(r.type==="disconnected"){a=TA.assertLogSafe("fallback-requested");break}if(r.type==="timeout"){A.postMessage({type:"error",data:{loggableReason:"timeout"}}),a=TA.assertLogSafe("timeout");break}if(r.type==="passkey-unlocked"){A.postMessage({type:"error",data:{loggableReason:t.str}});continue}}return a||(a=TA.assertLogSafe("internal-error")),A.close(),hV(a)};async function kXA(A,e){return!(!Re().authenticatePasskeys||es.has(e.tab)||!await Xz())}var oXA=async(A,e,t)=>{let r=await FA.webAuthnRPValidate({url:A.toString(),rpId:e.rpId}).then(i=>({status:"success",rpId:i})).catch(i=>{let o=i instanceof Error?i.message:i;return console.error("Failed to core.webAuthnRPValidate:",o),{status:"failure",reason:TA.assertLogSafe("bad-rp-id"),accountUuid:void 0}});if(r.status==="failure")return r;let a=await dV(r.rpId,e.allowCredentials);if(a.length===0)return console.warn("Unable to find any fillable passkeys"),{status:"failure",reason:TA.assertLogSafe("missing-item"),accountUuid:void 0};let j=await Promise.all(a.filter(i=>typeof i.localId<"u").map(i=>Pu(i,120,t).then(o=>({username:i.overview.ainfo,title:i.overview.title,icon:o,localId:i.localId})).catch(()=>{console.warn("Failed to load icon for item",i.uuid)}))),n=(0,c_.compact)(j);return n.length===0?(console.warn("Unable to load icons"),{status:"failure",reason:TA.assertLogSafe("vault-icons-failed"),accountUuid:a[0].overview.b5AccountUUID}):{status:"success",data:{options:n,items:a}}};async function sXA(A,e){let t=e?{mediation:e}:void 0,r=await oH(A,{type:"passkeySigningIn",params:t},5);if(!r)throw new Error("messenger-error");try{return await l_.getPort(TA.assertLogSafe("passkey-signin-prompt"),A,3e3,{reqId:r})}catch{throw await x$(A,r,{type:"passkeyGenericError"})?new Error("port-error"):(console.error("Failed to replaceNotification: messenger-error"),new Error("messenger-error"))}}async function gjt(){Kr("lock-state-changed",{locked:!1,unlockedAccounts:rA.getAccountHandlers.filter(A=>A.isUnlocked).map(A=>A.uuid)}),await d_(!1)}function u_(){oVA(),Xi(),Mc.startAutoLockMonitor(),i_(),gjt(),nVA.loadSaveIgnoreForUnlockedAccounts(),lV.begin(),globalThis.dispatchEvent(new Event(Bo)),gXA(),qNA(),gV(!1)}async function fV(){if(Mt.getDesktopAppState().type==="Connected"&&!rA.allAccountHandlersHasUserSuspended)return{name:"yes",data:void 0};if(BV())return{name:"yes",data:void 0};let A=await ir.getShortcuts();return{name:"no",data:{keyboardShortcut:A.browserAction!==""?A.browserAction:void 0}}}async function dkA(){return X$("inline"),fV()}async function V$(A){return Or()?fXA(A):Lg({type:"AccountPassword",data:A})}function fjt(A){return rA.getAccountHandlers.filter(e=>{switch(A.type){case"AccountPassword":return e.isLocked;case"DelegatedSession":return Array.isArray(A.data)?A.data.find(t=>t.accountUuid===e.uuid):e.uuid===A.data.accountUuid;case"SingleSignOn":return A.data.ssoResponse.user.accountUuid===e.uuid}})}function Bjt(A,e){return e.map(async t=>{try{switch(A.type){case"AccountPassword":return t.unlockWithAccountPassword(A.data);case"DelegatedSession":let r=Array.isArray(A.data)?A.data.find(a=>a.accountUuid===t.uuid):A.data;return r?t.unlockWithMasterUnlockKey(r.muk,r.client?{type:"Other",data:{client:r.client}}:void 0):Promise.resolve(t);case"SingleSignOn":return t.unlockWithCredentialBundle(A.data.ssoResponse,A.data.unverifiedContext);default:return jr(A)}}catch{return t}})}async function Ejt(A,e){for(let t of A){let r;switch(e.type){case"AccountPassword":r={type:"Credentials",data:{credentials:t.credentials({accountPassword:e.data})}};break;case"DelegatedSession":let a=Array.isArray(e.data)?e.data.find(j=>j.accountUuid===t.uuid)?.client:e.data.client;a&&(r={type:"Other",data:{client:a}});break;case"SingleSignOn":r={type:"Other",data:{client:t.client}};break}r&&t.startSync(r).catch(t.handleSyncError)}u_()}async function Lg(A){if(!rA.hasAccountHandlers)return Pe({type:"NoSavedAccounts"});let e=fjt(A);if(e.length===0)return console.warn("UnlockViaB5x: No locked accounts found"),vt(void 0);let t=Bjt(A,e),r=await Promise.all(t),a=r.filter(j=>j.isUnlocked);if(A.type==="AccountPassword"){let j=await rA.updateSuspendedAccounts(r,a,A.data);if(j.isErr())return j}return a.length===0?Pe({type:"FailedToUnlock"}):(await $t.loadAndDecryptItemCache(A.options?.persistRestorePoint),await Ejt(a,A),vt(void 0))}async function hXA(){let A=wT();if(A.size===0)return;let e=[];for(let r of A.values()){let a=async()=>{let j=await Ve.getDatabase().findAccountByUUID(r.accountUuid);if(!j)throw new Error("Unable to create client for unknown account");if(r.session)try{return await AV(j.signinAddress,r.session,void 0,r.srpX)}catch{console.warn("Failed to sign in using existing session, falling back to sign in...")}if(j&&j.secretKey&&r.srpX)return Wd({credentials:{accountIdentifier:{accountUUID:j.uuid,userUUID:j.userUUID,server:jl(j.signinAddress)},email:j.email,muk:r.masterKey,secretKey:j.secretKey,signinAddress:j.signinAddress,srpX:r.srpX,dSecret:j.dSecret},device:await Ii()}).finally(()=>Yr.updateConnectivityStatus());throw new fn({errorClass:sA`SigninError`,message:sA`Failed to sign in using context init cache.`,severityLevel:"warning",userUuid:j?.userUUID?NA(j.userUUID):void 0})};e.push({client:a,accountUuid:r.accountUuid,muk:r.masterKey})}let t=await Lg({type:"DelegatedSession",data:e,options:{persistRestorePoint:!0}});t.isErr()&&console.warn(`Unable to unlock accounts with a context initialization cache: ${t.error.type}`)}var J$={};Na(J$,{getAuthMethod:()=>pkA,getBiometryUnlockAccounts:()=>xjt,getBiometryUnlockSecrets:()=>mkA});var W$=AA(Wr());var mkA=async A=>{let e=[];for await(let t of A.filter(r=>r.isUnlocked)){let r=await t.masterKey?.exportJwk();r?e.push({accountUuid:t.serveraccount.uuid,userUuid:t.serveraccount.userUUID,accountType:pkA(t.serveraccount.authMethods),muk:{kty:r.kty,kid:r.kid,alg:r.alg,k:r.k,ext:r.ext,key_ops:r.key_ops},srpX:t.client?.CTX?.session.auth?.srpX}):console.warn("Unable to retrieve master unlock key for account:",t.serveraccount.uuid)}return e=e.filter(t=>t.accountType===W$.SafariWebExtensionAccountType.SecretKey),e.length>0?console.info("Retrieved biometry unlock secrets for the account(s):",e.map(t=>t.accountUuid)):console.info("No biometry unlock secrets found."),e},xjt=A=>{let e=A.map(t=>({accountUuid:t.serveraccount.uuid,userUuid:t.serveraccount.userUUID,accountType:pkA(t.serveraccount.authMethods)}));return e=e.filter(t=>t.accountType===W$.SafariWebExtensionAccountType.SecretKey),e},pkA=A=>{if(A.find(e=>e.type===RA.OidcAuth))return W$.SafariWebExtensionAccountType.Sso;if(A.find(e=>e.type===RA.PasswordAuth))return W$.SafariWebExtensionAccountType.SecretKey;if(A.find(e=>e.type===RA.WebauthnAuth))return W$.SafariWebExtensionAccountType.WebAuthn;throw new F.LoggableError({errorClass:sA`UnsupportedAuthMethodBiometryError`,message:sA`Unable to find a supported auth method to use for biometry`})};var BXA=async()=>{let A=Eo()&&Ar.hasPreRegistrationFlag("b5x-safari-biometry");return{isUserEnabled:Re().accountsEnabledForBiometry.length>0,isFeatureEnabled:A}},bjt=async A=>A.data.isUserEnabled?kkA():EXA(),kkA=async(A=rA.getAccountHandlers)=>{try{let e=await mkA(A);if(e.length===0)return console.warn("No biometry unlock secrets were found"),{succeeded:!1};let r=(await ix.saveBiometryUnlockSecrets(e)).filter(a=>a.succeeded).map(a=>a.accountUuid);if(r.length===0)throw new F.LoggableError({errorClass:sA`SaveBiometryError`,message:sA`No succeeded accounts were returned when saving the biometry unlock secrets`});return r=r.concat(Re().accountsEnabledForBiometry),Jo({accountsEnabledForBiometry:r}),console.info("The following accounts are now configured to use biometry:",r),{succeeded:!0,accountsEnabledForBiometry:r}}catch(e){return e instanceof F.LoggableError&&F.reportError(e),console.error("Unable to save the biometry unlock secrets:",e),{succeeded:!1}}},EXA=async()=>{try{let A=Re().accountsEnabledForBiometry;if(A.length===0)return console.warn("No enabled accounts were found in the app config to remove."),{succeeded:!0};let e=J$.getBiometryUnlockAccounts(rA.getAccountHandlers.filter(t=>A.includes(t.serveraccount.uuid)));return e.length>0?await ix.removeBiometryUnlockSecrets(e):console.warn("No biometry unlock accounts were found to remove from the secure enclave."),Jo({accountsEnabledForBiometry:[]}),console.info("Successfully disabled the biometry configuration."),{succeeded:!0}}catch(A){return A instanceof F.LoggableError&&F.reportError(A),console.error("Unable to remove the biometry unlock secrets:",A),{succeeded:!1}}},xXA=async()=>{let A=await BXA();return A.isUserEnabled&&A.isFeatureEnabled},yjt=async()=>{try{let A=await ix.getBiometryAvailability(),e=A.current_availability===q0.BiometryAvailability.Available,t=A.current_method===q0.BiometryMethod.TouchId,r=A.current_policy===q0.BiometricPolicy.BiometricsOnly||A.current_policy===q0.BiometricPolicy.BiometricsOrWatch;if(e&&t&&r)return!0;console.warn("Biometry is unavailable. Biometry status:",A)}catch(A){A instanceof F.LoggableError&&F.reportError(A),console.error("An error occurred determining the biometry availability:",A)}return!1},vjt=async()=>{let A=Re().accountsEnabledForBiometry;if(A.length===0)return console.warn("No enabled accounts were found in the app config to unlock."),Pe({type:"NoSavedAccounts"});let e=J$.getBiometryUnlockAccounts(rA.getAccountHandlers.filter(n=>A.includes(n.serveraccount.uuid)));if(e.length===0)return console.warn("No biometry unlock accounts were found."),Pe({type:"NoSavedAccounts"});let t=[];try{t=await ix.getBiometryUnlockSecrets(e)}catch(n){return console.error("Unable to unlock account(s) using biometry:",n),Pe({type:"FailedToUnlock"})}if(t.length===0)return console.error("No biometry unlock secrets were found."),Pe({type:"FailedToUnlock"});let r=[],a=await Ii();for await(let n of t){let i=await Ve.getDatabase().findAccountByUUID(n.accountUuid);if(!i)console.warn(`Unable to create client for account <${n.accountUuid}>: Unable to retrieve database account.`);else if(!i.secretKey)console.warn(`Unable to create client for account <${n.accountUuid}>: No secret key found.`);else if(!n.srpX)console.warn(`Unable to create client for account <${n.accountUuid}>: No srpX found.`);else try{let o=Qd(n.muk),s=await Wd({credentials:{accountIdentifier:{accountUUID:n.accountUuid,userUUID:n.userUuid,server:jl(i.signinAddress)},email:i.email,muk:o,secretKey:i.secretKey,signinAddress:i.signinAddress,srpX:n.srpX,dSecret:i.dSecret},device:a}).finally(()=>Yr.updateConnectivityStatus());r.push({client:s,accountUuid:n.accountUuid,muk:o})}catch(o){console.error(`Unable to initialize a client for account <${n.accountUuid}>:`,o)}}if(r.length===0)return console.error("No delegated sessions were created to use to unlock the extension."),Pe({type:"FailedToUnlock"});let j=await Lg({type:"DelegatedSession",data:r});return j.isErr()?(console.error(`Unable to unlock account(s): ${j.error.type}`),Pe({type:"FailedToUnlock"})):vt(void 0)},Fjt=async()=>{if(!await xXA())return;let A=Re().accountsEnabledForBiometry,e=rA.getAccountHandlers.filter(t=>t.isUnlocked&&!A.includes(t.serveraccount.uuid));e.length!==0&&kkA(e)},Gjt=async A=>{try{let e=Re().accountsEnabledForBiometry;if(e.filter(r=>r===A.serveraccount.uuid).length===0){console.info(`Unable to remove account from biometry config. Account ${A.serveraccount.uuid} is not configured for biometry`);return}let t=J$.getBiometryUnlockAccounts([A]);t.length>0?(await ix.removeBiometryUnlockSecrets(t),console.info(`Removed account ${A.serveraccount.uuid} from the secure enclave.`)):console.warn(`Unable to remove account ${A.serveraccount.uuid} from the secure enclave. No biometry unlock accounts were retrieved.`),Jo({accountsEnabledForBiometry:e.filter(r=>r!==A.serveraccount.uuid)}),console.info(`Removed account ${A.serveraccount.uuid} from the B5X configuration.`)}catch(e){F.reportError(new F.LoggableError({errorClass:sA`RemoveAccountBiometryError`,message:sA`Unable to remove the biometry unlock secrets for an account`})),console.error("Unable to remove the biometry unlock secrets:",e)}};var ix={};Na(ix,{getBiometryAvailability:()=>Ijt,getBiometryUnlockSecrets:()=>$jt,removeBiometryUnlockSecrets:()=>wjt,saveBiometryUnlockSecrets:()=>qjt});var m_=AA(Ln()),EV=1e4,wjt=async A=>Kn.withTimeout(browser.runtime.sendNativeMessage("",{name:"core",data:JSON.stringify({type:"Biometry",data:{type:"remove",data:{accounts:A,useBiometry:!0,useAppleWatch:!1,fallbackPhrase:(0,m_.T)("Enter Account Password"),unlockPhrase:(0,m_.T)("Unlock")}}})}),EV,"Unable to remove the biometry unlock secrets"),qjt=async A=>{let e=await Kn.withTimeout(browser.runtime.sendNativeMessage("",{name:"core",data:JSON.stringify({type:"Biometry",data:{type:"save",data:{secrets:A}}})}),EV,"Unable to save the biometry unlock secrets");if(e&&e.type==="save")return e.data.results;throw new F.LoggableError({errorClass:sA`BiometryNativeMessaging`,message:sA`Expected save response type incorrect`})},$jt=async A=>{let e=await Kn.withTimeout(browser.runtime.sendNativeMessage("",{name:"core",data:JSON.stringify({type:"Biometry",data:{type:"unlock",data:{accounts:A,useBiometry:!0,useAppleWatch:!1,fallbackPhrase:(0,m_.T)("Enter Account Password"),unlockPhrase:(0,m_.T)("Unlock")}}})}),EV,"Unable to retrieve the biometry unlock secrets");if(e&&e.type==="unlock")return e.data.secrets;throw new F.LoggableError({errorClass:sA`BiometryNativeMessaging`,message:sA`Expected unlock response type incorrect`})},Ijt=async()=>{let A=await Kn.withTimeout(browser.runtime.sendNativeMessage("",{name:"core",data:JSON.stringify({type:"Biometry",data:{type:"biometryAvailability"}})}),EV,"Unable to determine if biometry is available");if(A&&A.type==="biometryAvailability")return A.data;throw new F.LoggableError({errorClass:sA`BiometryNativeMessaging`,message:sA`Expected biometryAvailability response type incorrect`})};var xV=A=>()=>Promise.reject(new Error(`clients.${A} is only available in service workers.`)),bXA=$j()&&"clients"in globalThis?globalThis.clients:{claim:xV("claim"),get:xV("get"),matchAll:xV("matchAll"),openWindow:xV("openWindow")};async function hkA(A,e){switch("firefox"){case"safari-ios":return Pjt(A);case"safari-macos":return browser.runtime.sendNativeMessage("",{name:"copy-to-clipboard",data:JSON.stringify({value:A,concealed:e})}),!0;default:return!1}}async function wp(A,e=!1,t){if(await hkA(A,e))return!0;if(t){let a={type:"targeted-inline-message",data:{message:{name:"copy-to-clipboard-in-content-script",data:{textToCopy:A}}}};return _c().sendMessage(t.id,TA.assertLogSafe("inline-menu"),a).then(()=>!0).catch(()=>(console.error("Could not send copy event to inline menu over port"),!1))}return(await Kr("copy-to-clipboard-in-content-script",{textToCopy:A})).ok}async function Pjt(A){if($j())return console.error("Cannot copy directly to clipboard in Manifest V3."),!1;try{return navigator.clipboard.writeText(A).then(()=>!0)}catch{let e=document.createElement("textarea");e.style.opacity="0",e.textContent=A;let t=document.getElementsByTagName("body")[0];t.appendChild(e),e.select();let r=document.execCommand("copy");return t.removeChild(e),r}}var Sjt="b5xReloaded",$0=class{constructor(e){this.isEnabled=()=>{let{devtoolsEnabled:e}=Re();return e};this.addAccountPromptEnabled=()=>this._persistentStorage.getItem("devtools-add-account-prompt")!=="N";this.sendLocalSentryEnabled=()=>{let e=this._persistentStorage.getItem("devtools-send-local-sentry");return e?e==="Y":!1};this.reloadExtension=()=>{sa()||chrome.notifications.create(Sjt,this.getReloadNotification(),()=>{chrome.runtime.reload()})};this.toggleAddAccountPrompt=()=>{this._persistentStorage.setItem("devtools-add-account-prompt",this.addAccountPromptEnabled()?"N":"Y")};this.toggleSendLocalSentry=()=>{this._persistentStorage.setItem("devtools-send-local-sentry",this.sendLocalSentryEnabled()?"N":"Y")};this.getReloadNotification=()=>({type:"basic",iconUrl:bp,title:"1Password Reloaded \u{1F504}\u2705",message:"Don't forget to reload any open tabs before testing."});this._persistentStorage=e}};$0=ed([qu(),mF(0,Vv("PersistentStorage"))],$0);var Vs=()=>rr.resolve($0),Cjt=A=>{let e=Vs();e.isEnabled()&&A.url.startsWith("http://reload.1password")&&(e.reloadExtension(),chrome.tabs.remove(A.tabId))};chrome.webNavigation.onBeforeNavigate.addListener(Cjt);var Kc=AA(Wr());var zj=AA(Ln());var p_=AA(Wr());var ox=AA(Ln());async function bV(A){let e=await e_();if(e.isOk()){try{await Ojt(A.uuid,e.value)}catch{if(await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"scan-qr-toast-element",message:(0,ox.T)("Unable to add one-time password field to item"),behavior:p_.ToastBehavior.Ephemeral});return}try{let t=await FA.generateOneTimePasswordFromUrl(e.value);await wp(t)}catch{xj({id:"scan-qr-toast-element",message:(0,ox.T)("Unable to generate and copy one-time password"),behavior:p_.ToastBehavior.Ephemeral});return}xj({id:"scan-qr-toast-element",message:(0,ox.T)("Copied one-time password"),behavior:p_.ToastBehavior.Ephemeral})}else xj({id:"scan-qr-toast-element",message:(0,ox.T)("No QR code found for 2FA"),behavior:p_.ToastBehavior.Ephemeral,primary:{id:"scan-qr-toast-element-open-support-article",value:{type:"text",content:(0,ox.T)("Learn More\u2026")},action:{type:"OpenLink",content:"https://support.1password.com/one-time-passwords/"}}})}async function Ojt(A,e){let t=await mn(A);if(!t)throw new Error("Could not load item");let r=!1;return t.details.sections||(t.details.sections=[]),t.details.sections.push({title:(0,ox.T)("Security"),fields:[{k:"concealed",n:"TOTP_"+F.generateUUID(),v:e,t:(0,ox.T)("one-time password")}],name:"Section_"+F.generateUUID()}),un(t,r)}var Tjt=["Edit","Favorite","Archive","Delete","Restore","Move","Share","ScanQrTotpCode"];function _jt(A){return Tjt.includes(A)}async function vXA(A){if(_jt(A.action.type)&&await Yr.connectivityStatus()!=="online"){hs();return}let e=hLA(await Promise.all(A.itemIds.map(r=>Ru(r))));if(!e.isOk()){console.error("Unable to load one or more items while handling item action");return}let t=e.value.map(r=>r.cacheInformation===void 0?r:void 0).filter(r=>!!r);switch(A.action.type){case"Autosubmit":return zjt(e.value);case"Favorite":return Mjt(t);case"CopyLink":return Rjt(t);case"CopyJson":return Kjt(e.value);case"CopyUuid":return Ljt(t);case"Archive":return Njt(A,A.action,t);case"Delete":return Ujt(A,A.action,t);case"Edit":return Hjt(e.value);case"Autofill":return Vjt(e.value);case"OpenAndFill":return Xjt(t);case"OpenUrl":return Wjt(t);case"ScanQrTotpCode":return Jjt(t);case"OpenInNewWindow":return yXA(e.value);case"OpenInNewWindowFromQX":return yXA(t);case"ChangePassword":return Zjt(t);case"Share":return Qjt(t);case"OpenInWeb":return Yjt(t);case"RestoreRecentlyDeleted":case"Move":case"MoveToVault":case"Tag":case"Restore":case"Print":case"Select":case"Open":case"CopyField":case"CopyFieldFromQX":case"SharingDetails":case"Purge":case"CommitSigning":case"ToggleAppleWatch":case"OpenAgentConfigFile":case"ExpandSnippet":case"ViewItemUsageReport":return;default:jr(A.action)}}var Djt=A=>A.overview.autosubmit!=="never";async function zjt(A){let e=A.every(a=>Djt(a));try{await Promise.all(A.map(async a=>(a.overview.autosubmit=e?"never":void 0,un(a,!1))))}catch(a){if(console.error("Failed to handleAutosubmit",a),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"autosubmit-items-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}let t=A.length>1?(0,zj.T)("Disabled sign in automatically on {count} items",{count:A.length}):(0,zj.T)("Disabled sign in automatically on \u201C{title}\u201D",{title:A[0].title}),r=A.length>1?(0,zj.T)("Enabled sign in automatically on {count} items",{count:A.length}):(0,zj.T)("Enabled sign in automatically on \u201C{title}\u201D",{title:A[0].title});xj({id:"autosubmit-items-toast-element",message:e?t:r,behavior:Kc.ToastBehavior.Ephemeral})}async function Mjt(A){let e=A.every(a=>a.faveIndex!==0);try{await Promise.all(A.map(async a=>{await FXA(a.uuid,!e)}))}catch(a){if(console.error("Failed to handleFavoriteAction",a),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"favorite-items-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}let t=A.length>1?(0,zj.T)("{count} Items removed from favorites",{count:A.length}):(0,zj.T)("Removed \u201C{title}\u201D from favorites",{title:A[0].title}),r=A.length>1?(0,zj.T)("{count} Items favorited",{count:A.length}):(0,zj.T)("Favorited \u201C{title}\u201D",{title:A[0].title});xj({id:"favorite-items-toast-element",message:e?t:r,behavior:Kc.ToastBehavior.Ephemeral})}async function Rjt(A,e){if(A.length===0)return;let t=await gH(A[0]);wp(t,void 0,e),xj({id:"copy-item-link-element",message:(0,zj.T)("Copied item link"),behavior:Kc.ToastBehavior.Ephemeral})}async function Kjt(A){if(A.length===0)return;let e=A[0];wp(e.exportToJson()),t6(e,RA.ItemUsageAction.SecureCopy),xj({id:"copy-item-link-element",message:(0,zj.T)("Copied item JSON"),behavior:Kc.ToastBehavior.Ephemeral})}async function Ljt(A){if(A.length===0)return;let e=A[0];wp(e.uuid),xj({id:"copy-item-uuid-element",message:(0,zj.T)("Copied item UUID"),behavior:Kc.ToastBehavior.Ephemeral})}async function Njt(A,e,t){if(t.length===0)return;if(e.content.confirmed){try{await Promise.all(t.map(async j=>{await GXA(j.uuid)}))}catch(j){if(console.error("Failed to handleArchiveItem",j),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"archive-item-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}xj({id:"archive-item-toast-element",message:t.length>1?(0,zj.T)("{count} Items archived",{count:t.length}):(0,zj.T)("Archived \u201C{title}\u201D",{title:t[0].title}),behavior:Kc.ToastBehavior.Ephemeral});return}let a={id:"archive-item-alert",title:t.length>1?(0,zj.T)("Archive {count} items?",{count:t.length}):(0,zj.T)("Are you sure you want to archive \u201C{itemName}\u201D?",{itemName:t[0].title}),text:(0,zj.T)("Archived items won\u2019t show up in filling suggestions for websites or in apps."),primaryAction:{id:"archive-action-id",label:(0,zj.T)("Archive"),destructive:!1,action:{type:"ItemAction",content:{itemIds:A.itemIds.map(j=>JSON.stringify(j)),route:A.route,action:{type:"Archive",content:{confirmed:!0,skipAlert:!1}}}}},cancelAction:(0,zj.T)("Cancel")};Tc(a)}async function Ujt(A,e,t){if(t.length!==0)if(e.content.confirmed){try{await Promise.all(t.map(async r=>{await yV(r.uuid)}))}catch(r){if(console.error("Failed to handleDeleteItem",r),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"delete-item-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}xj({id:"delete-item-toast-element",message:t.length>1?(0,zj.T)("{count} Items deleted",{count:t.length}):(0,zj.T)("Deleted \u201C{title}\u201D",{title:t[0].title}),behavior:Kc.ToastBehavior.Ephemeral})}else{let r=t.length>1?(0,zj.T)("Are you sure you want to delete {count, plural, one {# item} other {# items}}?",{count:t.length}):(0,zj.T)("Are you sure you want to delete \u201C{itemName}\u201D?",{itemName:t[0].title}),a=t.length>1?(0,zj.T)("All of these items will be removed immediately. You can recover items for a limited time on 1Password.com."):(0,zj.T)("This item will be removed immediately. You can recover items for a limited time on 1Password.com."),j={id:"delete-action-item-id",title:r,text:a,primaryAction:{id:"delete-action-id",label:(0,zj.T)("Delete"),destructive:!0,action:{type:"ItemAction",content:{itemIds:A.itemIds.map(n=>JSON.stringify(n)),route:A.route,action:{type:"Delete",content:{confirmed:!0}}}}},cancelAction:(0,zj.T)("Cancel")};Tc(j)}}async function Hjt(A){if(A.length!==0){if(A[0].templateUuid===Sl&&!Ud()){Tc(NH());return}try{await wHA(A[0])}catch(e){if(console.error("Failed to handleEditItem",e),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"edit-item-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}}}async function Vjt(A){A.length!==0&&await Ng(A[0],!1,"POPUP")}async function Xjt(A){A.length!==0&&await sx(A[0])}async function Wjt(A){A.length!==0&&await k_(A[0])}async function Jjt(A){A.length!==0&&bV(A[0])}async function yXA(A){A.length!==0&&(await VH(A[0],"openInNewWindow"),As())}async function Yjt(A){A.length!==0&&(jx(A[0]),As())}async function Zjt(A){A.length!==0&&b$(A[0])}async function Qjt(A){if(A.length!==0)try{gkA(A[0])}catch(e){if(console.error("Failed to handleShareItem",e),await Yr.connectivityStatus()!=="online"){hs();return}xj({id:"share-item-toast-element",message:(0,zj.T)("An error occurred. Please try again."),behavior:Kc.ToastBehavior.Ephemeral});return}}var Ku=AA(Wr());async function wXA(A,e){let t=$t.itemCache?.accountForVaultID(Un(A.vault)),r=t&&rA.getAccountHandlers.find(j=>j.uuid===t.uuid);if(!r)throw new Error("No account found with that uuid.");let a=await r.getDocumentBlob(A,e);if(!a)throw new Error("No document blob found for item");return t6(A,xP.Reveal),ir.downloadFile(e.fileName,a)}var D7=AA(Ln());async function qXA(A){let e=await Ru(A.itemId);if(!e.isOk()){console.error("Unable to load item while handling item field action");return}switch(A.action.type){case"SecureCopy":case"SecureCopyCountry":case"SecureCopyZip":case"SecureCopyRegion":case"SecureCopyState":case"SecureCopyCity":case"SecureCopyStreet":return ent(e.value,A.action.content);case"SecureCopyFormattedString":return tnt(e.value,A.action.content);case"OpenUrl":return rnt(e.value,A.action.content);case"OpenAndAutoFillUrl":return ant(e.value,A.action.content);case"OpenNetworkLocation":return jnt(e.value,A.action.content);case"ToggleReveal":case"ViewRelatedItem":case"ViewPasswordHistory":case"LargeType":case"LargeTypeFormattedString":return;case"Download":return nnt(e.value,A.action.content);case"ShowSshPrivateKeyExportPrompt":case"SecureCopySshPrivateKey":case"ExportSshKey":case"Preview":case"OpenFile":case"ShowInFileBrowser":case"PinFieldToMobileHomeScreen":case"UnPinFieldFromMobileHomeScreen":case"SetDefaultMobileHomeScreenActionToCopy":case"SetDefaultMobileHomeScreenActionToLargeType":case"SetDefaultMobileHomeScreenActionToShowQrCode":case"SetDefaultMobileHomeScreenActionToGoToItem":case"TypeInWindow":case"SecureCopySecretReference":case"LargeMap":case"DisplayWifiQrCode":case"ShareQrCode":case"Fill":case"ConnectToSshHost":return;case"ToggleAlias":return int(e.value,A.action.content);default:jr(A.action)}}async function ent(A,e){let t=await FA.fieldValueByIdentifier(A,e.fieldIdentifier);if(t.isOk()){let{text:r,title:a,mustRecordItemUsage:j}=t.value;try{await wp(r);let n=a?(0,D7.T)("Copied {fieldTitle}",{fieldTitle:a}):(0,D7.T)("Copied field");xj({id:`secure-copy-field-item${A.localId}`,message:n,behavior:Ku.ToastBehavior.Ephemeral})}catch{xj({id:`secure-copy-field-item${A.localId}`,message:(0,D7.T)("Failed to copy field"),behavior:Ku.ToastBehavior.Ephemeral})}j&&t6(A,RA.ItemUsageAction.SecureCopy)}else console.warn("Unable to find matching field when handling secure copy")}async function tnt(A,e){let t=await FA.fieldValueByIdentifier(A,e.fieldIdentifier);if(t.isOk()){wp(e.clientFormattedString);let{mustRecordItemUsage:r,title:a}=t.value,j=a?(0,D7.T)("Copied {fieldTitle}",{fieldTitle:a}):(0,D7.T)("Copied field");xj({id:`secure-copy-field-item${A.localId}`,message:j,behavior:Ku.ToastBehavior.Ephemeral}),r&&t6(A,RA.ItemUsageAction.SecureCopy)}else console.warn("Unable to find matching field when handling secure copy")}async function rnt(A,e){let t=await FA.fieldValueByIdentifier(A,e.field_identifier);if(t.isOk()){switch(e.open_type){case"Url":break;case"Email":t.value.text=`mailto:${t.value.text}`;break;case"Phone":t.value.text=`tel:${t.value.text}`;break}ir.openTab({url:t.value.text})}}async function ant(A,e){let t=await FA.fieldValueByIdentifier(A,e);t.isOk()&&sx(A,{url:t.value.text})}async function jnt(A,e){let t=await FA.fieldValueByIdentifier(A,e);t.isOk()&&ir.openTab({url:t.value.text})}async function nnt(A,e){let t=await FA.unOpaqueFilePosition(e),r=ont(A,t);function a(){xj({id:"download-complete-toast",message:(0,D7.T)("Download failed"),behavior:Ku.ToastBehavior.Ephemeral})}try{r.isOk()?(await wXA(A,r.value),xj({id:"download-complete-toast",message:(0,D7.T)("{fileName} downloaded",{fileName:r.value.fileName}),behavior:Ku.ToastBehavior.Ephemeral})):a()}catch{a()}}async function int(A,e){let t;e.state===Ku.AliasState.Enabled?t=Ku.AliasState.Disabled:t=Ku.AliasState.Enabled;try{await NNA(ZE(A),e.aliasId,e.accountId,{state:t});let r=e.state===Ku.AliasState.Enabled?(0,D7.T)("Email blocked"):(0,D7.T)("Email unblocked");xj({id:"alias-toggled-toast",message:r,behavior:Ku.ToastBehavior.Ephemeral})}catch{xj({id:"alias-toggled-toast",message:"Something went wrong toggling alias",behavior:Ku.ToastBehavior.Ephemeral});return}}function ont(A,e){switch(e.type){case"Root":return A.details.documentAttributes?vt(A.details.documentAttributes):Pe(void 0);case"Field":let t;for(let r of A.details.sections)if(r.name===e.content.sectionId&&r.fields)for(let a of r.fields)a.n===e.content.fieldId&&(t=a.v);return t?vt(t):Pe(void 0);case"CustomIcon":return Pe(void 0)}}var fkA="lastUserActivity";async function BkA(){if(Or()){let A=await ir.sendNativeMessage("Safari-iOS-Lock-Monitor",{message:"getSystemBootTime"});if(A.isOk())return JSON.parse(A.value)}return Date.now()}async function Wi(){Ze.setItem(fkA,(await BkA()).toString())}function vV(){Ze.removeItem(fkA)}function EkA(){return parseInt(Ze.getItem(fkA)??"0")}async function $XA(){let A=[];for(let e of rA.getAccountHandlers)if(!e.isLocked)try{let t=await e.loadPasswordHistory();for(let r of t)r.state===GA.ItemState.Active&&A.push({itemUuid:r.uuid,password:r.getPassword()||r.details.fields?.find(a=>a.designation==="password")?.value||"",timestamp:r.createdAt?.toISOString()??"",url:r.url,itemId:zg(r)})}catch(t){console.error(t)}return A}async function IXA(A){let e=await Ve.getDatabase().getItem(A);if(!e)return console.error("Unable to delete password history, item with the given ID could not be found."),Pe({type:"ITEM_IN_DB_NOT_FOUND"});if(typeof e.account_id!="number")return console.error("Item was missing account_id"),Pe({type:"MISSING_ACCOUNT_ID"});let t=rA.findAccountHandlerByID(e.account_id);return t?t.getItem({type:"databaseId",data:A}).then(async r=>{if(!r)return console.error("Unable to delete password history, item with the given ID could not be found."),Pe({type:"ITEM_IN_HANDLER_NOT_FOUND"});r.state=GA.ItemState.Deleted;let a=await t.saveItem(r);return vt(a)}):(console.error(`Unable to delete password history, missing account handler with account ID <${e.account_id}>`),Pe({type:"NO_ACCOUNT_HANDLER"}))}async function h_(A,e){let t;try{[t]=rA.defaultSavingLocation()}catch(i){throw console.error("Error retrieving default saving location:",i),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Error retrieving default saving location.")})}let r=rA.findAccountHandlerByUuid(t.uuid);if(!r)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Account handler not found.")});let a;try{a=await Yr.connectivityStatus()}catch{let i="Error retrieving connectivity status.";throw console.error(i),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe(`Unable to save password history. ${i}`)})}if(a!=="online")throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Account is offline.")});let j;try{j=await r.getGeneratedPasswordVault()}catch(i){throw console.error("Error retrieving generated password vault:",i),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Error retrieving generated password vault.")})}if(!j)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Missing generated password vault.")});let n=new GA(j);return n.templateUuid=V6,n.vault=j,n.details.password=A.password,n.overview.title=e?.URL()?.hostname??"",n.overview.ainfo=new Date().toLocaleDateString(),n.overview.pgrng=!0,n.overview.pbe=A.entropy,n.overview.ps=A.strengthPercent,n.url=e?.unparsedUrl??"",un(n,!1,t?.uuid).catch(i=>{throw console.error("Error saving new item to vault:",i),ra(i)?i:new F.LoggableError({errorClass:F.logsafe.assertLogSafe("SavePasswordHistory"),message:F.logsafe.assertLogSafe("Unable to save password history. Error saving new item to vault.")})}).finally(()=>Yr.updateConnectivityStatus())}var mWA=AA(y7());var PXA=A=>chrome.declarativeNetRequest.updateEnabledRulesets({enableRulesetIds:[A]}),SXA=A=>chrome.declarativeNetRequest.updateEnabledRulesets({disableRulesetIds:[A]}),xkA=()=>typeof chrome.declarativeNetRequest<"u";var CXA=()=>{Re().blockGoogleSignInWith?bkA():ykA()},bkA=()=>{if(xkA()){PXA("block_3rd_party_prompts");return}chrome.webRequest.onBeforeRequest.addListener(OXA,{urls:["https://accounts.google.com/gsi/status*"]},["blocking"])},ykA=()=>{if(xkA()){SXA("block_3rd_party_prompts");return}chrome.webRequest.onBeforeRequest.removeListener(OXA)},OXA=()=>({cancel:!0});var TXA="https://op8.agilebits.com/extension/report-issue";var em=AA(Ln());var g_=class{static async createContextMenuGroup(){Vs().isEnabled()&&(Or()||(Am.createContextMenu({id:"clippy",title:"Clippy",contexts:["all"],parentId:"devtools"}),Am.createContextMenu({id:"clippyDesignationDebugging",title:"Designation Debugging",type:"checkbox",contexts:["all"],parentId:"clippy"})))}static toggleDesignationDebugging(){console.warn("Clippy is disabled in PRODUCTION builds, ignoring request to toggle");return;try{Am.updateContextMenu("clippyDesignationDebugging",{checked:this.designationListener!==void 0})}catch{}}};var vkA={};Na(vkA,{brexInformation:()=>DXA,clearBrexTokens:()=>dnt,clearDSecret:()=>zXA,funcsForContextMenu:()=>FV,getBrexTokens:()=>unt,removePrivacyAPIKey:()=>_XA});var FV=[{name:"Remove Privacy.com API Key",func:_XA},{name:"View Brex Informatation",func:DXA},{name:"Clear DSecrets for 2FA",func:zXA}];async function _XA(){let A=[];for(let e of await ppA()){let t=rA.getAccountHandlers.find(a=>{let j=a.getSystemVault();return!a.isLocked&&j&&j.uuid===e.vault.uuid})?.serveraccount.uuid;e.state=GA.ItemState.Archived;let r=new Promise(a=>un(e,!1,t,a));A.push(r)}await Promise.all(A)}async function unt(A){let e=rA.findAccountHandlerByUuid(A);if(!e)throw new Error("Unable to find account handler for accountUuid in getBrexTokens");try{if(!e.isLocked&&e._vaults)return(await e.loadSystemVaultItems()).filter(r=>r.templateUuid==="800"&&r.overview.integration==="brex"&&r.state===ZA.VaultItem.ItemState.Active)}catch(t){ra(t)?ht(t):ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("BrexError"),message:F.logsafe.assertLogSafe("Failed to get Brex tokens"),stackOverrideError:t instanceof Error?t:void 0}))}return[]}async function DXA(){}async function dnt(A){if(!A){console.warn("This function requires a 1Password account UUID");return}let e=rA.findAccountHandlerByUuid(A);if(!e){console.error(`Unable to find 1Password account with UUID - ${A}`);return}let t=await e._getRawIntegrationCredentialItems("brex");for(let r of t)try{r.state=ZA.VaultItem.ItemState.Deleted,await e.saveItem(r)}catch{console.error(`Unable to remove system vault item - ${r.uuid}`)}t.length===0?console.info("No credentials are stored"):console.info("Credentials have been cleared")}function zXA(){rA.getAccountHandlers.forEach(async A=>{await rA.updateAccount(A.serveraccount.uuid,{dSecret:void 0}).catch(()=>console.error(`Unable to clear dSecret for account ${A.serveraccount.uuid}`))})}var mnt=!0,f_=$j()?"action":"browser_action";var Am=class A{constructor(e,t,r,a,j,n,i,o,s,c){this.didLock=()=>{this.updateAvailableItems(!1)};this.didUnlock=()=>{this.updateAvailableItems(!0)};this.updateAvailableItems=e=>{"contextMenus"in chrome&&"removeAll"in chrome.contextMenus&&chrome.contextMenus.removeAll(async()=>{await Ze.init(),this.addItems(e)})};this.onClick=async(e,t)=>{let{menuItemId:r}=e;if(r.startsWith("feature_")){this.featureOnClick(r.slice(8));return}else if(r.startsWith("devFunc_")){this.devFuncOnClick(r.slice(8));return}switch(r){case"settings":this.onopensettings();break;case"lock":this.onlock(),globalThis.dispatchEvent(new Event(lx));break;case"saveLogin":this.onSaveLogin();break;case"saveCreditCard":this.onSaveCreditCard();break;case"saveIdentity":this.onSaveIdentity();break;case"getHelp":this.onGetHelp();break;case"collectFields":this.onCollectPageDetails({includeValues:!1,action:"download"});break;case"collectFieldsWithValues":this.onCollectPageDetails({includeValues:!0,action:"open"});break;case"update":this.onupdatecheck();break;case"reload":Vs().reloadExtension();break;case"runSocialLoginButtonDetection":t?.id?chrome.tabs.sendMessage(t.id,{name:"uso-devtools-run-button-detection"}):console.error("[USO][devtools] No active tab detected.");break;case"debugSocialLoginButtonDetection":this.debugSocialMediaDetection(t);break;case"highlightSocialLoginButtons":t?.id?chrome.tabs.sendMessage(t.id,{name:"uso-devtools-highlight-buttons"}):console.error("[USO][devtools] No active tab detected.");break;case"addAccountPrompt":Vs().toggleAddAccountPrompt();break;case"sendLocalSentry":Vs().toggleSendLocalSentry();break;case"watchtowerNotificationsQATest":F0.watchtowerQA();break;case"benchmark":this.onopenbenchmarking();break;case"clippyDesignationDebugging":g_.toggleDesignationDebugging();break;case"tabToggleExclusion":if(t?.id){let a=Tg(t);a&&(es.has(a)?es.remove(a):es.checkPermission(a).then(j=>{j&&es.append(a)}))}break;case"report":chrome.tabs.create({url:TXA,active:!0});break;default:}};this.featureOnClick=e=>{let t=rA.getUnlockedAccountOverviews[0];Ar.devToggleAccountFeature(t.uuid,e)};this.devFuncOnClick=async e=>{let t=FV.find(r=>r.name===e)?.func;if(t){let r=t();r instanceof Promise&&await r}};this.addItems=async e=>{if(A.createContextMenu({id:"settings",title:(0,em.T)("Settings"),contexts:[f_]}),e&&(A.createContextMenu({id:"lock",title:(0,em.T)("Lock"),contexts:["all"]}),A.createContextMenu({id:"save",title:(0,em.T)("Save"),contexts:["all"]}),A.createContextMenu({id:"saveLogin",title:(0,em.T)("Login"),contexts:["all"],parentId:"save"}),A.createContextMenu({id:"saveCreditCard",title:(0,em.T)("Credit Card"),contexts:["all"],parentId:"save"}),A.createContextMenu({id:"saveIdentity",title:(0,em.T)("Identity"),contexts:["all"],parentId:"save"})),A.createContextMenu({id:"report",title:(0,em.T)("Report Issue"),contexts:["all"]}),A.createContextMenu({id:"help",title:(0,em.T)("Help"),contexts:["all"]}),A.createContextMenu({id:"getHelp",title:(0,em.T)("Get Help"),contexts:["all"],parentId:"help"}),A.createContextMenu({id:"collectFields",title:(0,em.T)("Collect Page Structure"),contexts:["all"],parentId:"help"}),Vs().isEnabled()){A.createContextMenu({id:"devtools",title:"Developer Tools",contexts:["all"]}),A.createContextMenu({id:"featureFlags",title:"Feature Flags",contexts:["all"],parentId:"devtools"});let t=[];for(let r of Object.keys(qg)){let a=await Ar.anyAccountHasFlag(r);t.push({name:r,enabled:a})}for(let{name:r,enabled:a}of t)A.createContextMenu({type:"checkbox",id:`feature_${r}`,title:r,contexts:["all"],parentId:"featureFlags",checked:a});A.createContextMenu({id:"devFuncs",title:"Dev Console Funcs",contexts:["all"],parentId:"devtools"});for(let r of FV)A.createContextMenu({id:`devFunc_${r.name}`,title:r.name,contexts:["all"],parentId:"devFuncs"});A.createContextMenu({id:"reload",title:"Reload",contexts:["all"],parentId:"devtools"}),A.createContextMenu({id:"socialLoginButtonDetection",title:"Social Login Button Detection",contexts:["all"],parentId:"devtools"}),A.createContextMenu({id:"runSocialLoginButtonDetection",title:"Run Social Login button detection",contexts:["all"],parentId:"socialLoginButtonDetection"}),A.createContextMenu({id:"debugSocialLoginButtonDetection",title:"Debug Social Login button detection",contexts:["all"],parentId:"socialLoginButtonDetection"}),A.createContextMenu({id:"highlightSocialLoginButtons",title:"Highlight Social Login Buttons",contexts:["all"],parentId:"socialLoginButtonDetection"}),A.createContextMenu({id:"collectFieldsWithValues",title:"Collect Page Details",contexts:["all"],parentId:"devtools"}),A.createContextMenu({type:"checkbox",id:"addAccountPrompt",title:"Turn on Add Account Prompt",contexts:[f_],checked:Vs().addAccountPromptEnabled(),parentId:"devtools"}),A.createContextMenu({type:"checkbox",id:"sendLocalSentry",title:"Send local errors to Sentry",contexts:[f_],checked:Vs().sendLocalSentryEnabled(),parentId:"devtools"}),A.createContextMenu({id:"watchtowerNotificationsQATest",title:"Trigger Watchtower Notification",contexts:[f_],parentId:"devtools"}),mnt||g_.createContextMenuGroup(),A.createContextMenu({id:"benchmark",title:(0,em.T)("Benchmarking"),contexts:[f_],parentId:"devtools"})}FkA()};this.debugSocialMediaDetection=e=>{try{if(!e?.id){console.error("[USO][devtools] No active tab detected.");return}let t=prompt("Enter CSS selector of element to debug Social Login button detection ranking on: ");if(!t)return;let r=prompt(`Enter provider name (one of: ${$T.join(", ")}) to run detection for, or leave empty to run for all providers:`)??void 0,a=$T.find(j=>j===r?.toLowerCase());chrome.tabs.sendMessage(e.id,{name:"uso-devtools-button-detection-debug",data:{selector:t,provider:a}})}catch{console.error("[USO][devtools] No active tab detected.")}};this.onlock=e,this.onSaveLogin=t,this.onSaveCreditCard=r,this.onSaveIdentity=a,this.onopensettings=j,this.onshowinline=n,this.onupdatecheck=i,this.onopenbenchmarking=o,this.onGetHelp=s,this.onCollectPageDetails=c,uo.subscribe(rd,this.didLock).subscribe(Bo,this.didUnlock),chrome.contextMenus.onClicked.addListener(this.onClick),this.updateAvailableItems(!1)}static{this.createContextMenu=async e=>{"contextMenus"in chrome&&"create"in chrome.contextMenus&&chrome.contextMenus.create(e,()=>{chrome.runtime.lastError&&chrome.runtime.lastError})}}static{this.updateContextMenu=async(e,t)=>new Promise((r,a)=>{"contextMenus"in chrome&&"update"in chrome.contextMenus?chrome.contextMenus.update(e,t,()=>{chrome.runtime.lastError&&a(`Failed to update context menu ${chrome.runtime.lastError}`),r()}):r()})}};var GkA=class{constructor(){this.getContextMenu=()=>this._contextMenu;this.setContextMenu=(e,t,r,a,j,n,i,o,s,c)=>this._contextMenu=new Am(e,t,r,a,j,n,i,o,s,c);this.initContextMenu=()=>{uo.subscribe(H6,()=>{this._contextMenu&&this._contextMenu.updateAvailableItems(!Pa())})}}},B_=new GkA;var MXA="insiders-enabled",pnt=["AKHM3DPGNZFUJOY7N4UAWAMLIE","SYZR254TC5D3HOXVETU2KXJQLQ","7FNUWANXYRCEPEJ4PB3RULLBDQ"],knt=["b5dev.ca","b5dev.com","b5dev.eu","b5local.com","b5staging.com","b5test.ca","b5test.com","b5test.eu","b5rev.com"],O6=class A{static hasInsiderAccount(){let e=pnt.some(a=>rA.hasAccountHandler(a)),r=rA.getAccountHandlers.map(a=>new URL(a.serveraccount.signinAddress).hostname).some(a=>knt.some(j=>a===j||a.endsWith("."+j)));return e||r}static hasInsiderAccess(){return this.hasInsiderAccount()||Ze.getItem(MXA)==="true"}static enableInsiderIfAppropriate(){this.hasInsiderAccess()&&(this.enableConsoleUtilFuncs(),console.info("\u{1F49C} Insider features enabled"))}static enableInsiderDev(){Ze.setItem(MXA,"true"),A.enableInsiderIfAppropriate()}static enableConsoleUtilFuncs(){globalThis.bg={tabs:mi,core:FA,pm:_c(),dev:vkA,enableInsiders:A.enableInsiderDev}}};var RXA=AA(Wr());var KXA=AA(Ln());function LXA(A){let e=Mt.desktopConnectionManager?.getDesktopApp();if(!e||Mt.getDesktopAppState().type!=="Connected")throw new Error("Unable to check about accounts when not connected");return e.shouldPromptToAddAccount({accountUuid:A})}function GV(A){let e=Mt.desktopConnectionManager?.getDesktopApp();if(!e||Mt.getDesktopAppState().type!=="Connected")throw new Error("Unable to prompt to add account when not connected");e.promptDesktopAppToSignIn(A)}async function Ug(){let A=Mt.desktopConnectionManager?.getDesktopApp();if(!A)throw new Error("Unable to unlock Desktop app when not connected");try{await A.showUnlock()}catch(e){console.warn("Unable to show the unlock screen",e)}}async function NXA(A){let e=Mt.desktopConnectionManager?.getDesktopApp();if(!e)throw new Error("Unable to unlock Desktop app when not connected");await e.showUnlockAccount(A)||(console.warn("Unable to show the unlock account screen"),xj({id:"unlock-account-from-desktop",message:(0,KXA.T)("Unlock account from the desktop app"),behavior:RXA.ToastBehavior.Ephemeral}))}function UXA(){uo.subscribe(Xx,Ug,{once:!0});let A=globalThis.setInterval(()=>{wkA(),clearInterval(A)},5e3)}function wkA(){try{uo.unsubscribe(Xx,Ug)}catch{}}async function HXA(A){let e=Mt.desktopConnectionManager?.getDesktopApp();if(!e)throw new Error("Unable to show desktop app settings page when not connected");try{await e.showDesktopSettingsPage({category:A})}catch(t){console.warn("Unable to show desktop app settings",t)}}var VXA=AA(y7());function XXA(A){return $T.find(e=>e===A)}function hnt(A){let e=rWA(A);if(e.length===0)return[];let t=[];return e.forEach(r=>{let a=r.v,j=XXA(a.provider);if(!j)return;let n;a.item&&(n={vaultUuid:a.item.vaultUuid,itemUuid:a.item.itemUuid}),t.push({provider:j,item:n})}),t}async function qkA(A){let e=await $t.loadItemCache();if(!e)return[];let t=Qt.userSelected(Ej(),void 0,void 0,e),r=await e.itemsForTab(A,j=>t(j)&&Qt.logins(j),wi.faved);return(await Promise.all(r.map(async j=>{let n=await Oo(j),i=n?hnt(n):[];return{item:j,providers:i}}))).filter(({providers:j})=>j.length>0)}async function gnt(A,e){if(rA.allAccountHandlersAreLocked)return!0;let t=await qkA(A);if(!e.usoAccount){let r=t.some(({providers:a})=>a.some(j=>j.provider===e.provider));return r&&console.info("[USO] Should skip save notification because an UsoLogin field for this provider and site already exists."),r}switch(e.usoAccount.type){case"Username":let r=e.usoAccount.content,a=!!await NmA(t,async({providers:s})=>!!await NmA(s,async({provider:c,item:u})=>{if(!u||c!==e.provider)return!1;let p=await mn(u.itemUuid,u.vaultUuid);return p?r===await N$(p.username?.value):!1}));return a&&console.info("[USO] Should skip save notification because an item with a matching username for this provider already exists."),a;case"Item":let{accountUuid:j,vaultUuid:n,itemUuid:i}=e.usoAccount.content,o=t.some(({item:s,providers:c})=>s.overview.b5AccountUUID===j&&c.find(({provider:u,item:p})=>p&&u===e.provider&&p.itemUuid===i&&p.vaultUuid===n));return o&&console.info("[USO] Should skip save notification because the filled provider item has already been saved."),o;default:jr(e.usoAccount)}}async function WXA(A){if(!$kA()||es.has(A))return;let e=await FA.usoContext({tabId:A.id,updateTitle:{title:A.title,nakedDomain:await A.nakedDomain()}});e&&await JXA(A,e)}async function JXA(A,e){await gnt(A,e)?await FA.usoCompleteSession({tabId:A.id}):(console.info("[USO] There is a valid USO session, showing save notification."),Ka({tabId:A.id,message:{name:"show-notification",data:{type:"saveSocialLogin"}}}))}async function YXA(A,e){if(!$kA()||e.templateUuid!==$r)return;let t=await $t.loadItemCache();if(!t)return;let r=e.overview.b5AccountUUID??t.accountForVaultID(Un(e.vault))?.uuid;r&&FA.usoContextAccount({tabId:A.id,usoAccount:{type:"Item",content:{itemUuid:e.uuid,vaultUuid:e.vault.uuid,accountUuid:r}}})}async function fnt(A,e){if(A.usoAccount)switch(A.usoAccount.type){case"Username":let t=A.usoAccount.content;return(await Promise.all(e.map(async j=>{let n=await Oo(j),i=await N$(n?.username?.value);return{item:j,hashedUsername:i}}))).find(j=>j.hashedUsername===t)?.item;case"Item":let a=A.usoAccount.content;return e.find(j=>j.uuid===a.itemUuid&&j.vault.uuid===a.vaultUuid&&j.overview.b5AccountUUID===a.accountUuid);default:jr(A.usoAccount)}}async function Bnt(A,e){let t=await $t.loadItemCache();return t?t.items(Qt.combine(Qt.userSelected(Ej(),void 0,void 0,t),r=>e?r.overview.b5AccountUUID?e===r.overview.b5AccountUUID&&Qt.usoProviderLogins(A)(r):!1:Qt.usoProviderLogins(A)(r)),wi.faved):[]}async function ZXA(A){await qV(A.data)}async function QXA(A,{tab:e}){if(rA.allAccountHandlersAreLocked||es.has(e))return;let t=A.data;t.length===0||(await qkA(e)).length<1||await v7(e.id)!==void 0||(console.info(`[USO] USO session detected ${t} and there are UsoLogin items available, showing notification.`),Ka({tabId:e.id,message:{name:"show-notification",data:{type:"suggestSocialLogin"}}}))}async function Ent(A){let{displayName:e,icon:t}=await FA.usoProviderConfig(A);return{title:e,icon:t}}async function AWA(A,{tab:e}){let t=[],r=await $t.loadItemCache();if(!r)return{accounts:t};let{showRichIcons:a}=Re(),j=await PkA(e),n=await qkA(e);for(let i of n){let o=[];for(let s of i.providers){let c=j.includes(s.provider)?s.provider:void 0,u=s.item&&r.itemWithUUID(s.item.itemUuid),p=c?{provider:c,itemUuid:i.item.uuid,vaultUuid:i.item.vault.uuid,linkedItem:s.item}:void 0;u?o.push({title:u.title,subtitle:u.subtitle,icon:await Pu(u,120,a),clickProvider:p}):o.push({...await Ent(s.provider),clickProvider:p})}t.push({title:i.item.title,icon:await Pu(i.item,120,a),items:o})}return{accounts:t}}async function eWA(A,{tab:e}){let t=A.data;t.type==="Username"&&t.content&&(t.content=await N$(t.content)),FA.usoContextAccount({tabId:e.id,usoAccount:t})}async function tWA(A,e,t,r,a=!1){let{provider:j,itemUuid:n,vaultUuid:i,linkedItem:o}=A,s=await $t.loadItemCache();if(r=r??s?.itemWithUUID(n,i),r&&(t6(r,RA.ItemUsageAction.SelectSsoProvider),r.templateUuid&&r.overview.b5AccountUUID?(Tu(r.overview.b5AccountUUID,he.UsoTelemetryActions.Filled),t&&tj("ItemAutofill",{template_uuid:VXA.TelemetryString.assertSafeForTelemetry(r.templateUuid),status:"REQUEST",fill_method:t,social_login_type:j,is_default:!1},r.overview.b5AccountUUID)):console.error("[USO] Tried to report item with missing accountUuid")),o){let c=s?.itemWithUUID(o.itemUuid,o.vaultUuid);if(c)try{await FA.usoStartFillSession({tabId:e.id,url:e.unparsedUrl,item:{provider:j,itemId:zg(c).toString()},autoSubmitEnabled:Re().autoSubmitLogins})}catch{console.error("[USO] Could not get a itemId from linked item to start fill session.")}}SkA(e,j,a)}function rWA(A){if(!A.details)return[];if(!A.details.sections||A.details.sections.length===0)return[];let e=[];for(let t of A.details.sections){if(!t.fields||t.fields.length===0)continue;let r=t.fields.filter(a=>a.k==="ssoLogin");r.length>0&&e.push(...r)}return e}async function aWA(A,e,t,r){if(A.templateUuid!==$r)return!1;let a=rWA(A);if(!a||a.length===0||A.details.fields?.some(s=>s.value&&s.designation==="username")||A.details.fields?.some(s=>s.value&&s.designation==="password"))return!1;let n=a[0].v,i=XXA(n.provider);if(!i)return!1;console.info("[USO] Handling Fill for a USO item.");let o=n.item;return tWA({itemUuid:A.uuid,vaultUuid:A.vault.uuid,provider:i,linkedItem:o},e,t,A,r),!0}async function jWA({data:A},{tab:e}){return tWA(A,e,"INLINE")}async function nWA(A,{tab:e}){let{showRichIcons:t}=Re(),r=await FA.usoContext({tabId:e.id});if(!r)throw new Error("Attempted to get USO save configuration without context");let a=r.provider,{displayName:j,icon:n}=await FA.usoProviderConfig(a),i=await FA.getRichIconForUrl(r.url,r.title,t),o=await FA.inferBestTitle(r.title,r.url)??"";return{icon:i,providerDisplayString:j,providerIcon:n,title:o}}async function iWA(A,{tab:e}){let t=await FA.usoCompleteSession({tabId:e.id});if(!t)throw console.error("[USO] USO session was invalid when attempting to complete it."),new Error("No uso context");let r=await Bnt(t.provider),a=await $t.loadItemCache(),j=o=>{let s=o.overview.b5AccountUUID??a?.accountForVaultID(Un(o.vault))?.uuid;if(s)return{type:"Item",content:{accountUuid:s,vaultUuid:o.vault.uuid,itemUuid:o.uuid}}},n=await fnt(t,r),i;n?i=j(n):r.length===0?i={type:"Provider"}:r.length===1&&(i=j(r[0])),Vi(e,$r,{name:"uso-context",data:{context:t,suggestedItem:i}})}async function oWA(A,{tab:e}){await FA.usoCompleteSession({tabId:e.id})}async function xnt(A){await E_({tabId:A.tabId,event:{type:"on-committed",data:{url:A.url,transitionQualifiers:A.transitionQualifiers,transitionType:A.transitionType}}})}async function bnt(A){await E_({tabId:A.tabId,event:{type:"on-created-navigation-target",data:{url:A.url,sourceTabId:A.sourceTabId}}})}async function ynt(A,e){let t=await E_({tabId:A,event:{type:"on-tab-removed",data:{isWindowClosing:e.isWindowClosing}}});if(t)try{let r=await xl(t.tabId);r&&JXA(r,t)}catch{console.warn(`Main tab has Main tab Id ${t.tabId} not found. Could not display save dialog exited, cannot display save message.`)}}async function vnt(A){A.statusCode===302&&await E_({tabId:A.tabId,event:{type:"on-before-redirect",data:{url:A.url,redirect_url:A.redirectUrl}}})}function sWA(A){chrome.webNavigation.onCommitted[A](xnt),chrome.tabs.onRemoved[A](ynt),chrome.webNavigation.onCreatedNavigationTarget&&chrome.webNavigation.onCreatedNavigationTarget[A](bnt),chrome.webRequest?.onBeforeRedirect&&chrome.webRequest.onBeforeRedirect[A](vnt,{urls:["<all_urls>"],types:["main_frame"]})}function $kA(){let A=Re().socialLoginsEnabled;return A&&"firefox".includes("safari")?(console.info("[USO] Skipping USO session management because of unsupported APIs in Safari."),!1):A}function lWA(){IkA()}function IkA(){$kA()&&sWA("addListener")}function cWA(){sWA("removeListener")}var CkA="restore-point";function uWA(){return fa.getItem(CkA)}function dWA(A){fa.setItem(CkA,A)}function cx(){fa.removeItem(CkA)}function pWA(){rr.resolve($u).subscribe(rd,x_).subscribe(Bo,x_).subscribe(ux,Gnt).subscribe(gF,x_).subscribe(fF,x_).subscribe(rh,x_).subscribe(H6,wnt)}async function $V(){let A=await GH(),e;try{let[,t]=rA.defaultSavingLocation();e=t.uuid}catch{}return{accounts:A,defaultVault:e}}async function kWA(){return rA.allAccountHandlersAreLocked?{type:"app-locked",data:void 0}:{type:"app-unlocked",data:void 0}}async function x_(){let A=await kWA(),{accounts:e,defaultVault:t}=await $V();Kr("settings-page-changed",{b5xAppState:A,accounts:e,defaultVault:t,hasInsiderAccess:O6.hasInsiderAccess()})}async function Gnt(){Kr("settings-page-changed",{desktopAppState:Mt.getDesktopAppState()})}async function wnt(){let A=DkA();Kr("settings-page-changed",{unleashFeatures:A})}async function hWA(){let A=await kWA(),e=Re(),t=await ir.getShortcuts(),r=await Xz(),{accounts:a,defaultVault:j}=await $V(),n=DkA(),i={accounts:a,autoLockEnabled:e.autoLockEnabled,autoLockOnDeviceSleep:e.autoLockOnDeviceSleep,autoLockMinutes:e.autoLockMinutes,newHibpEnabled:e.newHibpEnabled,language:e.language,languageChanged:e.languageChanged,defaultItemList:e.defaultItemList,defaultPasswordManager:e.defaultPasswordManager,inlineEnabled:e.inlineEnabled,inlineShowAutomatically:e.inlineShowAutomatically,inlineSaveEnabled:e.inlineSaveEnabled,socialLoginsEnabled:e.socialLoginsEnabled,showNotifications:e.showNotifications,watchtowerNotifications:e.watchtowerNotifications,keyboardShortcut:t.browserAction,lockShortcut:t.lock,saveNewItemsIn:e.saveNewItemsIn,defaultVault:j,b5xAppState:A,desktopAppState:Mt.getDesktopAppState(),useSharedLockState:e.useSharedLockState,slsChannel:e.slsChannel,showRichIcons:e.showRichIcons,appTheme:e.appTheme,appWidth:e.appWidth,hasInsiderAccess:O6.hasInsiderAccess(),blockGoogleSignInWith:e.blockGoogleSignInWith,authenticatePasskeys:e.authenticatePasskeys,shouldCachePasskeyIds:e.shouldCachePasskeyIds,devtoolsEnabled:e.devtoolsEnabled,showPasskeySetting:r,autoSaveEnabled:e.autoSaveEnabled,autoSaveCreditCardsEnabled:e.autoSaveCreditCardsEnabled,autoSaveIdentitiesEnabled:e.autoSaveIdentitiesEnabled,autoSaveTotpEnabled:e.autoSaveTotpEnabled,unleashFeatures:n,autoSubmitLogins:e.autoSubmitLogins};return await Hg().resolveSettings(i)}async function gWA(A){let e=Re(),t=A.data;if(t.language&&(t.languageChanged=!0),(!t.showNotifications||t.watchtowerNotifications)&&G0("enable-watchtower-compromised-sites"),!(t.shouldCachePasskeyIds!==void 0&&!await qnt(t.shouldCachePasskeyIds))){if(t.autoLockMinutes){let{accounts:r}=await $V();r.forEach(a=>{tj("AutolockDurationSettingUpdate",{autolock_duration_setting_status:"REQUESTED",autolock_duration_before:e.autoLockMinutes,autolock_duration_after:t.autoLockMinutes},a.uuid)})}if(await TWA(t),Kr("settings-page-changed",t),TkA(t),t.autoLockMinutes){let{accounts:r}=await $V();r.forEach(a=>{tj("AutolockDurationSettingUpdate",{autolock_duration_setting_status:"SUCCESSFUL",autolock_duration_before:e.autoLockMinutes,autolock_duration_after:t.autoLockMinutes},a.uuid)})}if(t.appWidth!==void 0&&cx(),t.devtoolsEnabled!==void 0){let r=B_.getContextMenu();r&&r.updateAvailableItems(!Pa())}t.socialLoginsEnabled===!0&&e.socialLoginsEnabled===!1?IkA():t.socialLoginsEnabled===!1&&e.socialLoginsEnabled===!0&&cWA(),t.blockGoogleSignInWith===!0?bkA():t.blockGoogleSignInWith===!1&&ykA()}}function fWA(A){if(A.data.kind==="account-based"){let e=rA.getUnlockedAccountOverviews[0];if(!e||!UE.includes(A.data.featureName))return;Ar.devToggleAccountFeature(e.uuid,A.data.featureName)}else Ar.devTogglePreRegFeature(A.data.featureName)}async function qnt(A){return A===!0?VVA():A===!1?HVA():(iG(A,TA.assertLogSafe("shouldCachePasskeyIds")),!1)}async function BWA(){return KT()}async function EWA(A){_NA(A.data)}async function xWA(A){let{name:e,shortcut:t}=A.data,r;try{r=await ir.updateShortcut(e,t)}catch{r=t,console.warn("Failed to set new shortcut.")}switch(e){case E5:case x5:Kr("settings-page-changed",{keyboardShortcut:r});break;case b5:Kr("settings-page-changed",{lockShortcut:r});break;default:jr(e)}}function bWA(A){let e=A.data.account,t=A.data.isEnabled,r=Ej(),a=b_(r);e.vaults?.forEach(n=>{let i=a.includes(n.uuid);(!i&&t||i&&!t)&&r.toggle(e.uuid,n.uuid)}),SV(r.excluded);let j=b_(r);Kr("accounts-and-vaults-changed",j),Fp()}function yWA(A){let{accountUuid:e,vaultUuid:t}=A.data,r=Ej();r.toggle(e,t),SV(r.excluded),Kr("accounts-and-vaults-changed",b_(r)),Fp()}function vWA(A){let e=Ej();for(let t of A.data.accounts)if(t.vaults)for(let r of t.vaults){let a=e.isExcluded(t.uuid,r.uuid);(t.disabled&&!r.disabled||!r.disabled&&a||r.disabled&&!a)&&(e.toggle(t.uuid,r.uuid),Kr("accounts-and-vaults-changed",b_(e)))}SV(e.excluded),Fp()}function OkA(A){rr.resolve($u).subscribe(H6,async()=>{await Ar.accountHasFlag(A,"frameworks-autolock-longerDefault")&&(Kr("settings-page-changed",{autoLockMinutes:C0A}),tj("BackgroundAction",{name:mWA.TelemetryString.assertSafeForTelemetry("unlock_setting_changed")},A))},{once:!0})}function IV(){return b_(Ej())}function b_(A){let e=[];for(let t in A.excluded)e.push(...A.excluded[t]);return e}async function FWA(A){rA.removeAccount(A.data.accountUuid)}async function GWA(A){let{accountUuid:e}=A.data;return rA.findAccountHandlerByUuid(e)?.hasDeletePermission()||!1}async function wWA(A){let{accountUuid:e}=A.data;rA.deleteAccountPermanently(e)}async function qWA(){Ve.resetDatabase()}function $WA(A){let e=A.data.accountUuid;_kA(e)}function IWA(A){let{accountUuid:e}=A.data;return PV(e)}function PWA(){let[A]=rA.defaultSavingLocation();PV(A.uuid)}async function SWA(A){let{settingsCategory:e}=A.data;if(Or()){let t=await ca();ir.openTab({url:S$(`settings/${e}`),openerTabId:t?.id})}else HXA(e)}async function CWA(A){let{accountUuid:e,password:t}=A.data;return rA.findAccountHandlerByUuid(e)?.verifyAccountPassword(t)||!1}async function OWA(){es.clear()}var I0=AA(Wr());var y_=class{constructor(e){this._cache=new Map,this._refreshTokenHandler=e}deserializeToCache(e){this._cache=t$(e)}serialize(){return e$(this._cache)}clear(){this._cache.clear()}async get(e,t,r,a){let j=this._cache.get(r),n=j&&(typeof t=="string"?j.itemUuid!==t:j.refreshToken!==a);if(j&&j.expiresIn>Date.now()&&!n)return vt({itemUuid:j.itemUuid,accessToken:j.accessToken,refreshToken:j.refreshToken,updated:!1,context:j.context});let i=await this._refreshTokenHandler(e,a);if(i.isErr())return Pe({type:"RequestError"});let o=Date.now()+i.value.expiresIn*1e3-3e3,s=typeof i.value.refreshToken<"u"?i.value.refreshToken:a;return this.set(r,{itemUuid:t,accessToken:i.value.accessToken,refreshToken:s,expiresIn:o,context:i.value.context}),vt({itemUuid:t,accessToken:i.value.accessToken,refreshToken:s,updated:!0,context:i.value.context})}delete(e){this._cache.delete(e)}set(e,t){this._cache.set(e,t)}};var CV=class{constructor(e){this._cache=new Map,this._nakedDomainForUrl=e}deserializeToCache(e){this._cache=t$(e)}clear(){this._cache.clear()}get(e){let t=this._cache.get(e);if(t)return t;let r=this._nakedDomainForUrl(e);return this.set(e,r),r}serialize(){return e$(this._cache)}set(e,t){this._cache.set(e,t)}};var _WA=A=>{switch(A.toLowerCase()){case"download-extension":return"download-extension";case"practice-extension":return"practice-extension";case"migrate-data":return"migrate-data";case"access-passwords":return"access-passwords";default:return"unknown"}};var zkA={"download-extension":"AH-downloadExtension","set-up-autofill":"AH-setUpAutofill","migrate-data":"AH-migrateData","access-passwords":"AH-accessPasswords","practice-extension":"AH-practiceExtension",practice:"AH-practice",unknown:"AH-unknown"};var DWA=7,v_=(A,e)=>{let t=zkA[e];return Ze.getItem(`${A}-${t}`)},OV=(A,e)=>{let t=zkA[e];Ze.setItem(`${A}-${t}`,"true")},zWA=()=>{MkA(),RkA()},MkA=A=>{let e=A?[A]:rA.getAccountHandlers;for(let t of e)t.isUnlocked&&!t.mustMigrateAuth&&t.completeActivationHubTaskByName("download-extension")},RkA=async A=>{let e=A?[A]:rA.getAccountHandlers;for(let t of e)if(t.isUnlocked&&!v_(t.uuid,"migrate-data")){let r=0,a=t.vaults.filter(j=>t.user?.isOwner()?j.type==="E"||j.type==="P":j.isPersonal);for(let j of a)if(j.localId){let n=await t.getVaultItems(j.localId);if(r+=n.length,r>=DWA)break}r>=DWA&&t.completeActivationHubTaskByName("migrate-data")}},MWA=()=>{let A=rA.getAccountHandlers;for(let e of A)e.isUnlocked&&e.completeActivationHubTaskByName("practice-extension")};var TV=class{get hasTasks(){return!!this._cache}constructor(){this._cache=void 0,this.updatedAt=void 0}async getTasks(e,t,r){if(this._cache&&!t)return this._cache;let a={total:0,tasks:[]};if(!e||!e.account)return console.warn("No client context for account, unable to get tasks"),a;let j=await he.getActivationHubTasks(e,{product:"password-manager",platform:"extension",audience:Pnt(e.account.type,e.user?e.user.isOwner():!1),limit:10}),n=e.user?.isGuest,i={...j,tasks:j.tasks.sort((s,c)=>s.ordering-c.ordering).map(s=>({...s,name:_WA(s.name)})).filter(s=>s.name!=="unknown"&&(!n||s.name!=="migrate-data"))};i.total=i.tasks.length,this._cache=i,r&&(this.updatedAt=r);let o=e.account.uuid;return i.tasks.forEach(s=>{s.completedAt&&!v_(o,s.name)&&OV(o,s.name)}),Kr("refresh-activation-hub",{accountUuid:e.account.uuid}),i}clear(){this._cache=void 0,this.updatedAt=void 0}async updateCacheIfNecessary(e,t){return this.updatedAt===void 0||t>this.updatedAt?(await this.getTasks(e,!0,t),!0):!1}},Pnt=(A,e)=>{if(!e)return"individual";switch(A){case dr.Type.Individual:return"individual";case dr.Type.Family:return"family-owner";case dr.Type.Business:return"business-owner";default:return"individual"}};var KWA=new Error("No credentials to use"),_V=class{constructor(){this._isRunning=!1;this._cache=[]}get hasCards(){return this._cache.length>0}async update(e){let t=!1;if(this._isRunning)return{itemsUpdated:t};this._isRunning=!0;try{let r=await e();if(!r)throw KWA;let a=this._cache.reduce((o,s)=>(o[s.id]=s,o),{});this._cache=[];let j=Mg(r.clientId),n=await bHA(j,r.accessToken,r.accountId),i=[];if(n.isOk())for(let o of n.value){let s=a[o.id];s?this._cache.push(s):i.push(o)}if(i.length>0){t=!0;let o=await yHA(j,r.accessToken,i);o.isOk()&&this._cache.push(...o.value)}}catch(r){r!==KWA&&console.warn("Unable to sync Brex cards"),t=!1}return this._isRunning=!1,{itemsUpdated:t}}clear(){this._cache=[]}cards(e,t){let r=0;return this._cache.map(a=>{let j=new ZA.VaultItem(t);return j.details=a.card.details,j.overview=a.card.overview,j.templateUuid=a.card.templateUuid,j.vault=t,j.localId=r++,j.overview.b5AccountUUID=e,j.cacheInformation={provider:"brex",cardId:a.id,category:a.category},j})}};var DV=class{constructor(e){this.accountHandler=e}async getManagedApplications(){let e=this.accountHandler.client?.CTX?.session;if(!e)throw new Error("This account handler does not have a valid session and therefore cannot fetch applications");let{userApplications:t}=await RA.getUserApplications(e);return t}};var zV=class{constructor(e,t,r){this.b5Api=e;this.vaultApi=t;this.user=r}async syncManagedVaultItems(){if(!this.vaultApi.isCompleteTrustIdentityEnabled()){console.info("Managed Apps - Feature flag is NOT enabled");return}if(console.info("Managed Apps - Feature flag is enabled"),St.isGuest(this.user||{type:""})){console.info("Managed Apps - User is guest, managed vault will not be created");return}try{let t=await this.getManagedVaultFunc(),r=await this.b5Api.getManagedApplications(),a=await this.vaultApi.getLocalManagedApplications(t);console.info(`Managed Apps - Found ${a.length} managed apps stored locally`),await this.deleteUnassignedApplications(a,r),await this.createOrMergeVaultItems(t,a,r)}catch(t){ra(t)?ht(t):console.error("Managed Apps - error in syncManagedVaultItems",t)}}async getManagedVaultFunc(){if(!this.vaultApi.hasFetchedVaults())throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("VaultFetchingRaceCondition"),message:F.logsafe.assertLogSafe("Attempted to check for managed vaults before vaults were fetched")});try{return await this.vaultApi.getManagedVault()||this.createManagedVaultFunc()}catch(e){return console.error("Error getting managed vault:",e),this.createManagedVaultFunc()}}async createManagedVaultFunc(){try{return await this.vaultApi.createManagedVault()}catch(e){if(console.error("Error creating managed vault:",e),F.errors.isServerError(e,F.errors.ServerErrorCode.badRequest,F.errors.HTTPStatusCode.badRequest))return await this.getManagedVaultFunc();throw new Error("Could not find or create managed vault")}}createVaultItem(e,t){let r=new GA(e);return r.vault=e,r.uuid=Snt(t.uuid),r.templateUuid=dt.ManagedApplicationUuid,r.overview.title=t.name,r.overview.url=t.service_provider_url,r.overview.URLs=[{l:"",u:t.service_provider_url}],r.state=GA.ItemState.Active,r.details.sections.push(this.createManagedAppSection(t)),r}createManagedAppSection(e){let t={applicationUuid:e.uuid,email:this.vaultApi.getAccount().email,loginInitiationUrl:e.login_initiation_url};return{name:"",title:"",fields:[{k:GA.FieldType.ManagedApplication,n:GA.FieldType.ManagedApplication,t:e.name,v:t}]}}merge(e,t){if(!t)throw console.warn("Merge should never be called when there is not a local item. You should be creating a new item instead."),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("InvalidManagedApplicationItemState"),message:F.logsafe.assertLogSafe("Merge should never be called when there is not a local item. You should be creating a new item instead.")});let r=t;return r.overview.title=e.name,r.overview.url=e.service_provider_url,r.overview.URLs=[{l:"",u:e.service_provider_url}],r.details.sections=r.details.sections.map(a=>!a.fields?.some(n=>n.k===GA.FieldType.ManagedApplication)?a:this.createManagedAppSection(e)),r.updatedAt=new Date,r}async createOrMergeVaultItems(e,t,r){let a=[];for(let j of r){let n=t.find(i=>this.vaultItemsRepresentSameApplication(i,j));n?this.shouldUpdateItem(j,n)&&(console.info("Managed Apps - Decided to update item after finding a change in managed fields from the remote",j.uuid),a.push(this.merge(j,n))):(console.info("Managed Apps - Did not find local item with app uuid. An item will be created.",j.uuid),a.push(this.createVaultItem(e,j)))}if(a.length===0){console.info("Managed Apps - No managed applications to save. This sync operation (for managed apps) is a no-op.");return}await this.vaultApi.saveVaultItems(e,a)}shouldUpdateItem(e,t){let r=this.findManagedApplicationField(t);if(!r)return!0;let a=this.urlHasChanged(e.service_provider_url,t.url),j=this.urlHasChanged(e.login_initiation_url,r.loginInitiationUrl);return a||j||e.name!==t.overview.title?!0:r.email!==this.vaultApi.getAccount().email}async deleteUnassignedApplications(e,t){let r=e.filter(a=>!t.find(n=>this.vaultItemsRepresentSameApplication(a,n)));console.info(`Managed Apps - Found ${r.length} local items to delete`);try{await Promise.all(r.map(a=>{a.vault.contentVersion+=1,this.vaultApi.deleteVaultItem(a)}))}catch(a){ra(a)?ht(a):console.error("Managed Apps",a)}}vaultItemsRepresentSameApplication(e,t){let r=this.findManagedApplicationField(e);if(!r)return!1;let{applicationUuid:a}=r;return a===t.uuid}findManagedApplicationField(e){let t=ZA.VaultItem.findFieldWithName(GA.FieldType.ManagedApplication,e);if(GA.ManagedApplicationField.is(t?.v))return t?.v}urlHasChanged(e,t){let r=Sc(e),a=Sc(t);return!r&&!a?!1:!a&&r||a&&!r?!0:r?.hostname!==a?.hostname||r?.pathname!==a?.pathname||r?.protocol!==a?.protocol}};function Snt(A){return A.replace(/-/g,"").toLowerCase().substring(0,26)}var KkA=AA(y0()),pi=sA`SyncError`,Y$=(u=>(u[u.all=0]="all",u[u.account=1]="account",u[u.billing=2]="billing",u[u.itemTemplates=3]="itemTemplates",u[u.itemUsage=4]="itemUsage",u[u.keysets=5]="keysets",u[u.managedApplications=6]="managedApplications",u[u.newDeviceEnrollment=7]="newDeviceEnrollment",u[u.vaults=8]="vaults",u[u.activationHub=9]="activationHub",u[u.policies=10]="policies",u))(Y$||{}),MV=class{constructor(e,t){this.stop=()=>{this.isRunning=!1};this.reinitializeClientIfUndefined=()=>this.accountHandler.reinitializeClient();this.syncAccount=async e=>{if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync account. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});let t=await this.accountHandler.client.getAccount(),r=this.dbAccount;if(!r)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync account. DB Account could not be found.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});r.name=t.name,r.state=t.state,t.me&&t.me.email&&(r.email=t.me.email,r.userVersion=t.me.attrVersion,r.userState=t.me.state,r.userPreferences=t.me.preferences);let a=t.type===ZA.Account.Type.Individual?"my":t.domain;return r.domain=a,r.signinAddress=Cnt(r.signinAddress,a),r.type=t.type,r.avatar=t.avatar,r.baseAvatarURL=t.baseAvatarURL,r.accountVersion=t.attrVersion,r.billingStatus=e.billingOverview.status,t.settings?.teamMemberPolicies&&(r.teamMemberPolicies=t.settings.teamMemberPolicies),r.createdAt=t.createdAt,this.syncMustBeRunning(),this.accountHandler.serveraccount=r,this.accountHandler.b5account=new ZA.Account(r),Ve.getDatabase().saveAccount(r)};this.syncAccountBilling=async e=>{let t=this.dbAccount;if(!t)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync account billing. DB Account could not be found.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});return t.accountVersion=e.accountVersion,t.billingStatus=e.billingOverview.status,this.syncMustBeRunning(),this.accountHandler.serveraccount=t,this.accountHandler.b5account=new ZA.Account(t),Ve.getDatabase().saveAccount(t)};this.syncKeysets=async()=>{if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync keysets. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});return this.accountHandler.client.getKeysets().then(e=>(this.syncMustBeRunning(),this.dbAccount?Ve.getDatabase().replaceAccountKeysets(this.dbAccount,e):Promise.reject(new F.LoggableError({errorClass:pi,message:sA`Unable to sync keysets. DB Account could not be found.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0}))))};this.syncVaults=e=>new Promise((t,r)=>this.dbAccount?.id?Ve.getDatabase().getAllVaultsForAccount(this.dbAccount.id).then(a=>{let j={};for(let o of a)j[o.uuid]=o;let n=!1,i=[];for(let o of e){let s=o.uuid,c=j[s];if(!c){n=!0,i.push(this.downloadVault(o));continue}(c.attrVersion!==o.attrVersion||c.accessVersion!==o.accessVersion)&&(n=!0,i.push(this.syncVaultAttrs(c,o.accessVersion))),c.contentVersion!==o.contentVersion&&(n=!0,i.push(this.syncVaultContent(c))),delete j[s]}for(let o in j){let s=j[o];if(!s?.id)return r(new F.LoggableError({errorClass:pi,message:sA`Unable to delete vault during sync. Vault id was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0}));i.push(Ve.getDatabase().deleteVault(s.id)),n=!0}return Promise.all(i).then(()=>{t(n)})}).catch(a=>{r(a)}):r(new F.LoggableError({errorClass:pi,message:sA`Unable to sync vaults. DB Account could not be found.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0})));this.syncManagedApplications=async()=>{try{await this.managedApplicationsSyncer.syncManagedVaultItems()}catch{}};this.syncItemTemplates=()=>Promise.resolve().then(async()=>{if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync item templates. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});return this.accountHandler.client.getItemTemplates()}).then(e=>(this.syncMustBeRunning(),this.dbAccount?Ve.getDatabase().saveTemplates(this.dbAccount,e):Promise.reject(new F.LoggableError({errorClass:pi,message:sA`Unable to sync item templates. DB Account could not be found`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0}))));this.syncItemUsage=async e=>{let r=((a,j)=>a.reduce((n,i,o,s)=>o%j?n:n.concat(s.slice(o,o+j)),[]))(e,100);if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync item usage. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});for(let[,a]of r.entries())await this.accountHandler.client.postItemUsage([a]),await Ve.getDatabase().markItemUsageSynced([a])};this.downloadVault=async e=>{let t;if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to download vault during sync. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});return this.accountHandler.client.getVault(e.uuid).then(r=>(t=r,this.dbAccount?.id?(t.account_id=this.dbAccount.id,t.accessVersion=e.accessVersion,t.contentVersion=0,delete t.access,this.syncMustBeRunning(),Ve.getDatabase().saveVault(t)):Promise.reject(new F.LoggableError({errorClass:pi,message:sA`Unable to download vault during sync. DB Account could not be found`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0})))).then(()=>this.syncVaultContent(t))};this.syncVaultAttrs=async(e,t)=>{if(await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to sync vault attributes. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});return this.accountHandler.client.getVault(e.uuid).then(r=>(e.accessVersion=t,e.type=r.type,e.createdAt=r.createdAt,e.updatedAt=r.updatedAt,e.encAttrs=r.encAttrs,e.combinedAccess=r.combinedAccess,e.archivedKeys=r.archivedKeys,e.attrVersion=r.attrVersion,e.clientAccess=r.clientAccess,e.activeItemCount=r.activeItemCount,this.syncMustBeRunning(),Ve.getDatabase().saveVault(e)))};this.syncVaultContent=e=>{if(this.syncMustBeRunning(),!this.accountHandler.client?.CTX)return Promise.reject(new F.LoggableError({errorClass:pi,message:sA`Unable to sync vault content. CTX is undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0}));let t;return RA.getVaultItems(this.accountHandler.client.CTX.session,e.uuid,e.contentVersion).then(r=>(this.syncMustBeRunning(),t=r,Ve.getDatabase().updateItemsFromServer(e,t))).then(()=>t.batchComplete?Promise.resolve():this.syncVaultContent(e))};this.syncPolicies=async e=>{let t=Hg();if(!F_.isValidAccountType(this.accountHandler.b5account.type)||e.policiesVersion===await t.getPoliciesVersion(this.accountHandler.uuid))return!1;if((await t.initializePolicies([this.accountHandler])).length>0){let a=await Hg().resolveSettings({});Kr("settings-page-changed",a)}return!0};this.accountHandler=e,this.managedApplicationsSyncer=t,this.isRunning=!1}async run(e){e.includes(0)&&(e=Object.values(Y$).filter(a=>typeof a=="number"));let t=e.includes(0)?["all"]:e.map(a=>Y$[a]);console.info(`\u{1F4E5} Sync started for account ${this.accountHandler.uuid} - syncing ${t.join(", ")}`),performance.mark("sync-start");let r={accountUpdated:!1,alreadyRunning:this.isRunning,itemTemplatesUpdated:!1,itemUsageUpdated:!1,keysetsUpdated:!1,vaultsUpdated:!1,billingUpdated:!1,newDeviceEnrollment:!1,policiesUpdated:!1};if(r.alreadyRunning)return console.info(`Syncer already running for account <${this.accountHandler.uuid}>`),r;this.isRunning=!0;try{let a=await Ve.getDatabase().findAccountByUUID(this.accountHandler.uuid);if(!a)throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. Account with the given UUID could not be found.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});if(this.dbAccount=a,await this.reinitializeClientIfUndefined(),!this.accountHandler.client)throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. Account handler client was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});if(!this.accountHandler.client?.CTX)throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. Account handler client CTX was undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});let{language:j,languageChanged:n,shouldCachePasskeyIds:i}=Re();if(n)if(this.accountHandler.client)this.accountHandler.client.CTX.session.setLanguage(j);else throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. Failed to set language.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});let o=await this.accountHandler.client.getAccountOverview();if(e.includes(1)){let c=await this.accountHandler.client.getLatestUserPreferences();r.accountUpdated=this.dbAccount.accountVersion!==o.accountVersion||this.dbAccount.userVersion!==o.userVersion||this.dbAccount.userPreferences!==c,r.accountUpdated&&(this.dbAccount.billingStatus!==o.billingOverview.status&&(r.billingUpdated=!0),await this.syncAccount(o))}if(!r.accountUpdated&&e.includes(2)&&(r.billingUpdated=this.dbAccount.billingStatus!==o.billingOverview.status,r.billingUpdated&&await this.syncAccountBilling(o)),(e.includes(5)||e.includes(8)||e.includes(3)||r.billingUpdated)&&(r.keysetsUpdated=this.dbAccount.keysetVersion!==o.keysetVersion,r.keysetsUpdated&&await this.syncKeysets()),e.includes(8))if(r.vaultsUpdated=await this.syncVaults(o.vaults||[]),i){let c=Ej();okA(a.uuid,c)}else skA(a.uuid);if(e.includes(3)){let{languageChanged:c}=Re();r.itemTemplatesUpdated=c||this.dbAccount.templateVersion!==o.templateVersion,r.itemTemplatesUpdated&&await this.syncItemTemplates()}if(!this.dbAccount?.id)throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. DB Account could not be found`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0});if(e.includes(4)){let c=await Ve.getDatabase().findItemUsageRequiringSync(this.dbAccount.id);o.supportsItemUsage?(r.itemUsageUpdated=c.length>0,r.itemUsageUpdated&&await this.syncItemUsage(c)):await Ve.getDatabase().markItemUsageSynced(c)}e.includes(9)&&o.activationHubOverview?.lastUpdatedAt&&await this.accountHandler.updateActivationHubCacheIfNecessary(o.activationHubOverview.lastUpdatedAt),e.includes(7)&&this.accountHandler.isUnlocked&&(await this.getPendingEnrollmentNotifications()).length>0&&(r.newDeviceEnrollment=!0),e.includes(6)&&await this.syncManagedApplications(),e.includes(10)&&(r.policiesUpdated=await this.syncPolicies(o)),performance.mark("sync-end");let s=performance.measure("sync","sync-start","sync-end").duration;return console.info(`\u2705 Sync completed for account ${this.accountHandler.uuid} - took ${(0,KkA.round)(s)}ms`),this.isRunning=!1,r}catch(a){a instanceof DOMException&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED")&&(CHA(),console.error("Storage quota exceeded; try freeing up disk space.")),performance.mark("sync-end");let j=performance.measure("sync","sync-start","sync-end").duration;throw console.info(`\u{1F6AB} Sync failed for account ${this.accountHandler.uuid} - took ${(0,KkA.round)(j)}ms`),this.isRunning=!1,a}}syncMustBeRunning(){if(!this.isRunning)throw new F.LoggableError({errorClass:pi,message:sA`Unable to run syncer. Sync is stopped but must be running.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0})}async getPendingEnrollmentNotifications(){if(!this.accountHandler.client?.CTX)return Promise.reject(new F.LoggableError({errorClass:pi,message:sA`Unable to sync device enrollment notifications. CTX is undefined.`,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0}));try{return(await he.getNotifications(this.accountHandler.client?.CTX)).filter(t=>t.type===RA.NotificationType.DeviceEnrollment)}catch(e){if(F.errors.isNewServerErrorWithStatus(e,F.errors.HTTPStatusCode.notFound))return await ht(new F.LoggableError({errorClass:sA`NotificationError`,message:sA`Failed to get notifications during sync.`,stackOverrideError:e,userUuid:this.accountHandler.user?.uuid?NA(this.accountHandler.user.uuid):void 0})),[];throw e}}};function Cnt(A,e){let t=new URL(A),r=t.host.split(".");return r[0]=e,t.protocol+"//"+r.join(".")}var RV=class{constructor(e){this.accountHandler=e}getManagedVault(){return this.accountHandler.getManagedVaultFromDb()}async createManagedVault(){let e=this.accountHandler.client?.CTX;if(!e)throw console.warn("Unable to create a managed vault because the supplied account handler's context is undefined"),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("NoSessionAvailableError"),message:F.logsafe.assertLogSafe("Unable to create a managed vault because the supplied account handler's context is undefined"),userUuid:this.accountHandler.user?.uuid?F.logsafe.assertLogSafe(this.accountHandler.user?.uuid):void 0});let r=(await Ve.getDatabase().findAccountByUUID(this.accountHandler.uuid))?.id;if(!r)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("MissingLocalAccountId"),message:F.logsafe.assertLogSafe(`Unable to find account id in local database for account uuid ${this.accountHandler.accountIdentifier.accountUUID}`),userUuid:F.logsafe.assertLogSafe(this.accountHandler.accountIdentifier.userUUID)});try{let a=await he.createManagedVault(e),j=await RA.getManagedVault(e.session);return j.account_id=r,j.contentVersion=0,await Ve.getDatabase().saveVault(j),a}catch(a){throw console.error("Error creating managed vault:",a),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("ManagedVaultCreationError"),message:F.logsafe.assertLogSafe(`Error creating managed vault for account ${this.accountHandler.accountIdentifier.accountUUID}`),userUuid:F.logsafe.assertLogSafe(this.accountHandler.accountIdentifier.userUUID)})}}getAccount(){return this.accountHandler.serveraccount}hasFetchedVaults(){return typeof this.accountHandler._vaults<"u"}getLocalManagedApplications(e){let t=e.localId;return t?this.accountHandler.getVaultItems(t):Promise.resolve([])}saveVaultItems(e,t){return t.length===0?Promise.resolve([]):this.accountHandler.saveItems(e,t,()=>{this.accountHandler.runSyncer([8]).catch(()=>console.error("Sync job failed after saving managed applications"))})}deleteVaultItem(e){return yV(e.uuid)}isCompleteTrustIdentityEnabled(){return Ar.accountHasFlag(this.accountHandler.serveraccount.uuid,"b2b-complete-trust-identity")}};var UV=AA(Ln());var $p=AA(OA()),Ont=$p.partial({user:$p.exact($p.type({sessionId:F.logsafe.LoggableStringC,authMethods:F.logsafe.LoggableStringC}))}),Tnt=$p.partial({app:$p.exact($p.type({ophConnection:F.logsafe.LoggableStringC}))}),M2r=$p.intersection([Ont,Tnt]);function G_(A){return A?sA`yes`:sA`no`}var xn=AA(OA()),_nt=xn.type({uuid:xn.string,clientName:xn.string,clientVersion:xn.string,locationCity:xn.union([xn.string,xn.undefined],"locationCity"),locationCountry:xn.union([xn.string,xn.undefined],"locationCountry"),name:xn.union([xn.string,xn.undefined],"deviceName")},"DeviceForEnrollment"),Dnt=xn.keyof({SELECTING_VERIFIER:null,WAITING_FOR_CODE:null,PENDING_VALIDATION:null,SUCCESS:null}),znt=xn.exact(xn.type({enrollmentUuid:xn.string,status:Dnt,device:_nt},"DeviceEnrollment")),LWA=xn.exact(xn.type({accountUuid:xn.string,accountName:xn.string,enrollments:xn.array(znt)}),"PendingEnrollmentsForAccount");var dx=AA(OA()),NWA=(A,e,t)=>({kid:Mnt(t),enc:ba,cty:"b5+jwk+json",data:A,iv:e});function Mnt(A){switch(A){case"sso":return"1P_SSO_ENROLLMENT_TRANSPORT_KEY";case"webauthn":return"1P_WEBAUTHN_ENROLLMENT_TRANSPORT_KEY"}}var UWA=dx.exact(dx.type({ttl:dx.number,enrollments:dx.array(LWA)},"CachedEnrollments"));var KV="enrollments",Rnt=1e3*30,Knt=3;async function LV(A,e){if(!e?.forceRefresh){let r=Vnt();if(r&&r.size>0)return r}let t=await Hnt(A);return HWA(t),t}async function Z$(A,e){if(!e.client?.CTX)throw new Error("Missing CTX for canceling pending device enrollment");try{await e.client.cancelPendingDeviceEnrollment(A),tm(void 0),fa.removeItem(KV)}catch(t){console.error(`Could not delete pending device enrollment ${A}: ${t}`)}}async function Lnt(A){if(!A.client||!A.client.CTX||!A.user){po(new F.LoggableError({errorClass:TA.assertLogSafe("GetDeviceCredentials"),message:sA`Insufficient context, client, or user for enrollment`}),sA`failed to decrypt Credential Bundle during enrollment`,A.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(A.serveraccount.userUUID):void 0);return}let e=await A.getDeviceCredentials();if(e.isErr()||!e.value.deviceKey){po(new F.LoggableError({errorClass:TA.assertLogSafe("GetDeviceCredentials"),message:sA`Failed to get device credentials`}),sA`failed to decrypt Credential Bundle during enrollment`,A.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(A.serveraccount.userUUID):void 0,{isDeviceCredentialsPresent:G_(!!A.serveraccount.deviceCredentials),isDeviceKeyUUIDPresent:G_(!!A.serveraccount.deviceCredentials?.deviceKeyId)});return}try{if(sa()){let j=nx(),n=await he.getEncryptedCredentialBundle(A.client.CTX,e.value.deviceKeyId);return(await j.decrypt(A.serveraccount,e.value.deviceKeyId,n)).credentialBundle}let t=await he.getEncryptedCredentialBundle(A.client.CTX,e.value.deviceKeyId);return await(await f6.fromObfuscated(e.value.deviceKey,A.uuid,A.user.uuid)).decryptCredentialBundle({kid:t.encCredentials.kid,enc:t.encCredentials.enc,cty:t.encCredentials.cty,data:t.encCredentials.data,iv:t.encCredentials.iv})}catch(t){po(t,sA`failed to decrypt Credential Bundle during enrollment`,A.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(A.serveraccount.userUUID):void 0);return}}async function Nnt(A,e,t){if(F.errors.isNewServerErrorWithStatus(e,F.errors.HTTPStatusCode.notFound)){let r=LkA();r&&r.enrollmentUuid===t.enrollmentUuid&&(await Ip({type:"cancelled",accountUuid:r.accountUuid,enrollmentUuid:r.enrollmentUuid}),await Z$(r.enrollmentUuid,A));return}if(e.message.toLowerCase()==="invalid code used"){if(A.client?.CTX?.session&&(await RA.markSignatureInvalid(A.client.CTX.session,t.enrollmentUuid),await qs(1e3)),t.attempts>=Knt){await Z$(t.enrollmentUuid,A),tm({...t,error:{type:"TooManyAttempts"}}),await Ip({type:"failed",accountUuid:t.accountUuid,enrollmentUuid:t.enrollmentUuid,content:{type:"TooManyAttempts"}});return}let r=F.generateDeviceEnrollmentCode(),a={...t,verificationCode:r,attempts:t.attempts+1};tm(a),await Ip({type:"showNewCodeViewModel",accountUuid:a.accountUuid,enrollmentUuid:a.enrollmentUuid,content:{verificationCode:a.verificationCode}}),await NV(a,A);return}po(e,sA`failed to enrollTrustedDevice`,A.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(A.serveraccount.userUUID):void 0,F.errors.isServerError(e)?{serverErrorReason:TA.assertLogSafe(e.message)}:{}),await Z$(t.enrollmentUuid,A),tm({...t,error:{type:"UnhandledError",message:e.message}}),await Ip({type:"failed",accountUuid:t.accountUuid,enrollmentUuid:t.enrollmentUuid,content:{type:"UnhandledError"}})}async function NV(A,e){if(!e.client?.CTX||!e.user){tm({...A,error:{type:"AccountNotFound"}}),await Ip({type:"failed",accountUuid:A.accountUuid,enrollmentUuid:A.enrollmentUuid,content:{type:"AccountNotFound"}});return}if(!A.verificationCode){let r={...A,attempts:1,verificationCode:F.generateDeviceEnrollmentCode()};tm(r),await Ip({type:"showNewCodeViewModel",accountUuid:r.accountUuid,enrollmentUuid:r.enrollmentUuid,content:{verificationCode:r.verificationCode}}),await NV(r,e);return}let t=await Lnt(e);if(!t){tm({...A,error:{type:"UnhandledError"}}),await Ip({type:"failed",accountUuid:A.accountUuid,enrollmentUuid:A.enrollmentUuid,content:{type:"UnhandledError"}});return}try{await Unt(e,{setupCode:A.verificationCode,email:e.serveraccount.email,signInAddress:e.serveraccount.signinAddress,enrollmentUuid:A.enrollmentUuid},t,"sso")}catch(r){if(r instanceof Error)return Nnt(e,r,A);await Z$(A.enrollmentUuid,e),tm({...A,error:{type:"UnhandledError"}}),await Ip({type:"failed",accountUuid:A.accountUuid,enrollmentUuid:A.enrollmentUuid,content:{type:"UnhandledError"}});return}tm(void 0),HWA(new Map),await Ip({type:"dismissed",accountUuid:A.accountUuid,enrollmentUuid:A.enrollmentUuid})}async function Unt(A,e,t,r){if(!A?.client)throw new Error("Client is undefined");if(!A.client.CTX)throw new Error("Client CTX is undefined");let a=A.client.CTX,{enrollmentUuid:j,email:n}=e,i=async(u,p)=>{let h=NWA(u,p,r);return nmA(a,j)(h)},s={credentialBundle:await t.__crypto_internal.serialize(),sendMsgA:tmA(a,j),recvMsgB:rmA(a,j),sendAuthA:amA(a,j),recvAuthB:jmA(a,j),sendCredentials:i},c={useCase:r,...e,...s,email:n.toLocaleLowerCase()};await FA.enrollTrustedDevice(c)}async function Hnt(A){let e=new Map;for(let t of A){if(!t.client||t.mustMigrateAuth)continue;let r=await t.client.getPendingDeviceEnrollments();r&&e.set(t.uuid,{accountName:t.b5account.name,accountUuid:t.uuid,enrollments:r.map(Xnt)})}return e}function HWA(A){let e={ttl:new Date().getTime()+Rnt,enrollments:[...A.values()]};try{fa.setItem(KV,JSON.stringify(e))}catch{console.error("Error saving enrollments.")}}function Vnt(){try{let A=fa.getItem(KV);if(!A)return;let e=F.decode(A,F.json.pipe(UWA)).unwrap();if(e.ttl<new Date().getTime()){fa.removeItem(KV);return}return new Map(e.enrollments.map(t=>[t.accountUuid,t]))}catch(A){po(new F.LoggableError({errorClass:sA`GetPendingDeviceEnrollments`,message:sA`Failed to load enrollments from sessionStorage`,stackOverrideError:A instanceof Error?A:void 0}),sA`Failed to load enrollments from extension cache`);return}}var Xnt=({enrollmentUuid:A,device:e,status:t})=>({device:{uuid:e.uuid,clientName:e.clientName,clientVersion:e.clientVersion,locationCity:e.locationCity,locationCountry:e.locationCountry,name:e.name},enrollmentUuid:A,status:t}),LkA=()=>{let A=Ze.getItem("activeDeviceEnrollment");if(A)return JSON.parse(A)},tm=A=>{A?Ze.setItem("activeDeviceEnrollment",JSON.stringify(A)):Ze.removeItem("activeDeviceEnrollment")};async function Ip(A){await Kr("trusted-device-enrollment-complete",A)}async function VWA(A){let t=(await LV([A],{forceRefresh:!0})).get(A.uuid);if(!t||t.enrollments.length===0)return;Kr("new-device-enrollments",void 0),!await NkA()&&(A.hasUnseenDeviceEnrollments=!0,Xi({updateIconOnly:!0}),Wnt(t))}function Wnt(A){let e=Jnt();for(let t of A.enrollments)t.status==="SELECTING_VERIFIER"&&THA(Ynt(A.accountName,t,!!e),t.enrollmentUuid,e)}function Jnt(){if(JH().type==="Connected")return()=>{Q$()}}function Ynt(A,e,t){let r=e.device.locationCity&&e.device.locationCountry?`${e.device.locationCity}, ${e.device.locationCountry}`:"an unknown location",a=e.device.name||e.device.clientName||(0,UV.T)("Unknown Device");return t?(0,UV.T)("{deviceName} near {location} is trying to sign in to your {accountName} account.",{deviceName:a,location:r,accountName:A}):(0,UV.T)("{deviceName} near {location} is trying to sign in to your {accountName} account. Open 1Password in your browser's toolbar to view.",{deviceName:a,location:r,accountName:A})}function XWA(){rA.markAllDeviceEnrollmentsSeen(),Xi({updateIconOnly:!0})}var T6=new Xa("\u26F3\uFE0F Feature flags"),A8=class A{constructor(){this.compileTimeFlags=A.getCompileTimeFlags()}static getCompileTimeFlags(){return new Set}};var WWA=async A=>{if(A.isLocked)return;await $t.loadAndDecryptItemCache();let e=await rA.getFrozenAccountsInfo();return JWA(e),Promise.resolve()};var YWA=async A=>{if(!A.client?.CTX)throw new Error("Missing CTX for setting detailed vault reporting keys");if(!A.client.CTX.account)throw new Error("Missing account for setting detailed vault reporting keys");UAA(A.client.CTX.accountOverview)&&A.client.CTX.loadVaultReportingPubKey()};var Qnt=[{storageKey:"compromised-sites",importFn:he.importWatchtowerData,loadFn:he.loadWatchtowerData,getFn:he.getWatchtowerData},{storageKey:"2fa-sites",importFn:he.importTwoFactorSitesList,loadFn:he.loadTwoFactorSitesList,getFn:he.getTwoFactorSitesList},{storageKey:"passkey-sites",importFn:he.importPasskeySitesList,loadFn:he.loadPasskeySitesList,getFn:he.getPasskeySitesList}],w_;async function HV(){if(w_!==void 0){await w_;return}let A=Qnt.map(e=>{let t=!1;try{let r=fa.getItem(e.storageKey);r!==void 0&&(e.importFn(r),t=!0)}catch{console.error(`Error importing Watchtower data from session storage with key ${e.storageKey}`)}return(async()=>{if(await e.loadFn(),t===!1){let r=e.getFn();Object.keys(r).length>0&&fa.setItem(e.storageKey,JSON.stringify(r))}})()});w_=Promise.all(A),await w_,w_=void 0}var q_="CreateSystemVaultError",Vg=class A{constructor(e,t){this.markAccountDeviceEnrollmentsSeen=()=>{this.hasUnseenDeviceEnrollments=!1};this.credentials=e=>{let t=this.serveraccount;return{...e,email:t.email,signinAddress:t.signinAddress,secretKey:t.secretKey,dSecret:t.dSecret,accountIdentifier:this.accountIdentifier}};this.saveDeviceCredentials=async e=>rA.updateAccount(this.serveraccount.uuid,{deviceCredentials:e});this.getDeviceCredentials=async()=>this.serveraccount.deviceCredentials?.deviceKey&&this.serveraccount.deviceCredentials.deviceKeyId?vt(this.serveraccount.deviceCredentials):Pe(void 0);this.reinitializeClient=async()=>{this.client?.CTX||(await QWA(this.serveraccount.uuid),this.client?.CTX?console.info(`Successfully reinitialized client for account ${this.serveraccount.uuid}.`):console.warn(`Unable to reinitialize client for account ${this.serveraccount.uuid}.`))};this.hasDeviceCredentials=async()=>this.serveraccount.deviceCredentials!==void 0;this.hasDeletePermission=async()=>!!this.client?.CTX?.user?.hasPermission(ZA.Permission.DeleteTeam);this.verifyAccountPassword=async e=>{if(!this.serveraccount.id)return Promise.reject(new Error("Missing ID for server account."));let t=await _u(),r=UkA(this.serveraccount,t);if(!r.user)return Promise.reject(new Error("Missing user."));r.user.password=e;let a=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id);if(a.length>0)try{return await this.decryptKeysets(r,a),!0}catch{return!1}return!1};this.unlockWithCredentialBundle=async({auth:e,ssoAuth:{signInTokenDetails:t},user:r},a)=>{if(!this.serveraccount.id)return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Missing ID for server account."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}));if(!e)return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Missing auth in OIDC response."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}));if(this.serveraccount.userUUID!==r.userUuid||this.serveraccount.email!==r.email)return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Provided OIDC user does not match server account user."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}));let j=await this.getDeviceCredentials();if(j.isErr()||!j.value.deviceKey)return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Failed to fetch device credentials during B5X unlock."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}));let n;sa()?n=(await nx().decrypt(this.serveraccount,j.value.deviceKeyId,e)).credentialBundle:n=await(await f6.fromObfuscated(j.value.deviceKey,this.uuid,this.serveraccount.userUUID)).decryptCredentialBundle(e.encCredentials);let i={email:r.email,userUuid:r.userUuid,userAuth:e.userAuth,secretKeyFormat:e.accountKeyFormat,secretKeyUuid:e.accountKeyUuid,credentialBundle:n},o=await he.signInWithCredentialBundle(a,i,t.token,{isDesignatedAsPublic:!1});if(o.type!=="verified_context")return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Unexpected signInResult when authenticating post-registration."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}));let{context:s}=o,c=new b0({signedInContext:s,signinAddress:this.serveraccount.signinAddress,deviceUuid:this.deviceJson.uuid});this.setClient(c);let u=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id);if(u.length>0)try{await he.decryptKeysets(s,u)}catch{return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Failed to decrypt keysets."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}))}else try{await this.startSync(),u=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id),await he.decryptKeysets(s,u)}catch{return Promise.reject(new F.LoggableError({errorClass:NA("UnlockError"),message:NA("Failed to decrypt keysets."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0}))}return tj("AppUnlock",{unlock_method:"SSO",status:"SUCCESS"},this.uuid),this.context=s,this};this.unlockWithAccountPassword=async e=>{if(!this.serveraccount.id)return Promise.reject(new Error("Missing ID for server account."));let t=await _u(),r=UkA(this.serveraccount,t);if(!r.user)return Promise.reject(new Error("Missing user."));r.user.password=e;let a=this.credentials({accountPassword:e}),j=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id);if(j.length>0)try{await this.decryptKeysets(r,j),tj("AppUnlock",{unlock_method:"PASSWORD",status:"SUCCESS"},this.serveraccount.uuid)}catch{try{await this.startSync({type:"Credentials",data:{credentials:a}})}catch{return this}if(!this.serveraccount.secretKey)return Promise.reject(new Error("Missing secret key for server account."));j=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id),r.user=new ZA.OldUser({uuid:this.serveraccount.userUUID,email:this.serveraccount.email,password:e,secretKey:No.SecretKey.fromInput(this.serveraccount.secretKey)});try{await this.decryptKeysets(r,j),tj("AppUnlock",{unlock_method:"PASSWORD",status:"SUCCESS"},this.serveraccount.uuid)}catch{return this}}else try{await this.startSync({type:"Credentials",data:{credentials:a}}),j=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id),await this.decryptKeysets(r,j),tj("AppUnlock",{unlock_method:"PASSWORD",status:"SUCCESS"},this.serveraccount.uuid)}catch{return await this.lock(!1),this}return this.context=r,this};this.lock=async(e=!0)=>{if(this.items=void 0,this.templates=void 0,this._vaults=void 0,this.vaultsById=void 0,this._hasUnseenDeviceEnrollments=!1,this._signInPromise=void 0,this.context&&(he.clearAllCachesForContext(this.context),this.context=void 0),this._nakedDomainCache.clear(),this._brexCardCache.clear(),this._activationHubCache.clear(),Object.keys(this._integrationProviderTokenCache).forEach(t=>{let r=t;this._integrationProviderTokenCache[r].clear()}),this.syncer&&(this.syncer.stop(),this.syncer=void 0),!!this.client)try{await this.client.signOut()}finally{this.destroyClient(),e&&globalThis.dispatchEvent(new CustomEvent(aI,{detail:{accountUuid:this.uuid}}))}};this.destroyClient=()=>{this._client=void 0};this.loadAndDecryptItemsLogger=new Xa("\u{1F513} Load and decrypt item overviews");this.loadAndDecryptItemOverviews=async()=>{if(this.isLocked)throw new F.LoggableError({errorClass:NA("LoadAndDecryptItemOverviewsError"),message:NA("loadAndDecryptItemOverviews failed: Must be unlocked."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});if(this.loadAndDecryptItemsLogger.info(`Beginning to load and decrypt item overviews for account with UUID ${this.uuid}.`),!this.serveraccount.id)throw new F.LoggableError({errorClass:NA("LoadAndDecryptItemOverviewsError"),message:NA("loadAndDecryptItemOverviews failed: Missing ID for server account."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});let e=Ic();this.decryptingOverviews=e.promise;let t={},r=await Ve.getDatabase().getAllVaultsForAccount(this.serveraccount.id),a=[];for(let h of r){if(!h.id){console.error("Unable to load vault due to missing ID.");continue}t[h.uuid]=h.id,a.push(this.parseVault(this.b5account.type,h))}let j=await Promise.all(a);this._vaults=j;let n;this._brexCardCache.hasCards&&(n=Ait(),n.localId?(t[n.uuid]=n.localId,this._vaults.push(n)):console.error("Unable to load brex vault due to missing ID.")),this._vaults.sort(wi.vaultSort);let i={};for(let h of j){let f=t[h.uuid];i[f]=h}this.vaultsById=i,await this.loadNakedDomainCache();let o=await Ve.getDatabase().getItemOverviewsForAccount(this.serveraccount.id);this.loadAndDecryptItemsLogger.info(`${o?.length} dbItems found for server account ID ${this.serveraccount.id}`);let s=[];for(let h of o){if(!h.vault_id){console.warn(`Missing vault ID for server account ID ${this.serveraccount.id}`);continue}let f=this.vaultsById[h.vault_id];f.type===ZA.Vault.TypeGeneratedPasswords||f.type===ZA.Vault.TypeSystem||s.push(this.itemFromDatabase(f,h))}let c=await Promise.all(s);this.items=c,RkA(this),MkA(this),n!==void 0&&this.items.push(...this._brexCardCache.cards(this.uuid,n)),this.loadAndDecryptItemsLogger.info(`${this.items?.length} items were loaded from the database for server account ID ${this.serveraccount.id}!`);let u=await Ve.getDatabase().getTemplates(this.serveraccount.id),p=Mn.vaultItemTemplatesFromAPI(u);this.templates=p.filter(h=>h!==null&&typeof h<"u"),await this.saveNakedDomainCache(),await this.loadIntegrationProviderTokenCache(["fastmail","brex"]),this.loadAndDecryptItemsLogger.info(`Finished loading and decrypting item overviews for account with UUID ${this.uuid}`),e.resolve()};this.getItem=e=>new Promise(t=>e.type!=="databaseId"&&e.type!=="cachedItem"?(console.warn("Asked to load non-database/cached item from an account handler"),t(void 0)):e.type==="databaseId"?Ve.getDatabase().getItem(e.data).then(r=>{if(!this.vaultsById||!r?.vault_id)return console.warn("Asked to load item with insufficient vault ID from an account handler"),t(void 0);let a=this.vaultsById[r.vault_id];t(this.itemFromDatabase(a,r))}):t(this.items?.find(r=>r.uuid===e.data.id&&r.cacheInformation?.provider===e.data.type)));this.itemFromDatabase=(e,t)=>new Promise(async r=>{let a=await Mn.vaultItemFromAPI(t,e);if(a.overview.b5AccountUUID=this.serveraccount.uuid,a.localId=t.id,a.vault=e,a.overview.URLs){let j=a.overview.URLs.map(n=>({url:n.u,nakedDomain:this._nakedDomainCache.get(n.u)}));a.urlToNakedDomains={};for(let{url:n,nakedDomain:i}of j)a.urlToNakedDomains[n]=i}r(a)});this.setClient=e=>{this._client=e,this._client.onClientInvalidated=this.onClientInvalidated,this._client.onServerChanged=this.onServerChanged,a_(this._client,"All")};this.startSync=async e=>{if(this.syncer)return this.runSyncer([0]).catch(this.handleSyncError);await this.signin(e),T6.info("Collecting account-based flags on account sync."),await AJA([this]).finally(()=>{let t=this.createManagedApplicationsSyncer();return this.syncer=new MV(this,t),this.runSyncer([0]).catch(this.handleSyncError)})};this.createManagedApplicationsSyncer=()=>{let e=new RV(this),t=new DV(this),r=this.client?.CTX?.user;return new zV(t,e,r)};this.signin=async e=>{if(!this.hasSignedInClient){if(!e)throw new F.LoggableError({errorClass:sA`SigninError`,message:sA`Attempted to run signin but no initData was provided`,userUuid:this.user?.uuid?NA(this.user.uuid):void 0});return this._signInPromise=new Promise(async(t,r)=>{try{if(e.type==="Credentials"&&this.serveraccount.id){let{credentials:a,additionalSignInOptions:j}=e.data,n=await Ve.getDatabase().hasGeneratedPasswordVault(this.serveraccount.id),i=await Wd({credentials:a,device:this.deviceJson,onClientInvalidated:this.onClientInvalidated,onServerChanged:this.onServerChanged,accountAttrs:n?void 0:[RA.AccountAttrs.Groups],additionalSignInOptions:j});this.setClient(i)}else if(e.type==="Other"){let{client:a}=e.data;this.setClient(typeof a=="function"?await a():a)}else throw new F.LoggableError({errorClass:sA`SigninError`,message:sA`Attempted to run signin but no initData was provided`,userUuid:this.user?.uuid?NA(this.user.uuid):void 0});await this.updateAccountFromContext(),t()}catch(a){r(a)}finally{this._signInPromise=void 0}})}};this.waitForClient=async()=>{if(this.client)return this.client;if(this._signInPromise===void 0)throw new Error("waitForClient called, but client does not exist and no sign-in is in progress");if(await Kn.withTimeout(this._signInPromise,30*1e3,"waitForClient"),!this.client)throw new Error("_signInPromise resolved but client is undefined");return this.client};this.hasGeneratedPasswordVault=async()=>!!this.serveraccount.id&&!!await Ve.getDatabase().getGeneratedPasswordVault(this.serveraccount.id);this.getGeneratedPasswordVault=async()=>(await this.createGeneratedPasswordsVaultIfNeeded(),this._vaults?.find(e=>e.type===ZA.Vault.TypeGeneratedPasswords));this.getSystemVault=()=>this._vaults?.find(e=>e.type===ZA.Vault.TypeSystem);this.getManagedVaultFromDb=async()=>{let e=this._vaults?.find(a=>a.type===ZA.Vault.TypeManagedApplications),t=this.serveraccount.id;if(!e||!t)return;let r=await Ve.getDatabase().getVaultWithUUID(t,e.uuid);if(r)return await this.parseVault(this.b5account.type,r)};this.runSyncer=async e=>{if(!this.syncer)return;if(this.mustMigrateAuth){await this.syncer.run([5,1]).finally(()=>Yr.updateConnectivityStatus());return}let t=await this.syncer.run(e).finally(()=>Yr.updateConnectivityStatus()),r=await this._brexCardCache.update(async()=>{let a=await this.getIntegrationCredentials("brex");if(a.length>0){let j=a[0].accountId,n=await this.getIntegrationProviderAccessToken(j,"brex");if(n)return{accountId:j,accessToken:n.accessToken,clientId:n.context.clientId,clientSecret:n.context.clientSecret}}});if(this.isUnlocked){t.billingUpdated&&await WWA(this),t.newDeviceEnrollment&&await VWA(this),(t.vaultsUpdated||t.itemTemplatesUpdated||r.itemsUpdated)&&(await this.loadAndDecryptItemOverviews(),await OVA(this)),this.uploadWatchtowerReports();try{await YWA(this),this.uploadVaultItemSnapshots()}catch(a){console.error("There was an issue uploading vault item snapshots to server:",a)}}};this.saveItem=async(e,t)=>{let r=await this.getVaultWithUUID(e.vault.uuid);if(!r)throw new F.LoggableError({errorClass:NA("SaveItemError"),message:NA(`Unable to save item for account ${this.serveraccount.uuid}. Tried to save item ${e.uuid} to non-existent vault ${e.vault.uuid}.`),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});return await this.saveItems(r,[e],t),e};this.saveItems=async(e,t,r)=>{if(await this.reinitializeClient(),!this.client)throw new F.LoggableError({errorClass:NA("SaveItemError"),message:NA(`Unable to save item for account ${this.serveraccount.uuid}. Tried to save ${t.length} item(s) with undefined client.`),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});let a=await Promise.all(t.map(this.parseVaultItemToAPI)),j;try{j=await this.client.saveItems(a,e)}catch{await this.runSyncer([8]).catch(this.handleSyncError),j=e?await this.client.saveItems(a,e):void 0}if(!j)throw new F.LoggableError({errorClass:NA("SaveItemError"),message:NA(`Unable to save item for account ${this.serveraccount.uuid}. Could not save item even after running the syncer.`),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});for(let n of await Mn.vaultItemsFromAPI(j,e))this.sendItemSnapshotToServer(n).catch(i=>{console.error("There was an issue uploading vault item snapshots to server:",i)});return r?this.runSyncer([4,8]).catch(this.handleSyncError).then(r):this.runSyncer([4,8]).catch(this.handleSyncError),t};this.createChildSessionContextInitialization=()=>{if(!this.client)throw new Error("Account handler doesn't have a client so it can't create a child session");return this.client.getChildSessionInit()};this.createDelegateSessionContextInitialization=e=>{if(!this.client)throw console.error("Account handler doesn't have a client so it can't create a delegated session"),new Error("Account handler doesn't have a client so it can't create a delegated session");return this.client.getDelegateSessionInit(e)};this.createAccountVaultOverview=()=>{let e=this.serveraccount,t=[];for(let r of this.vaults){if(!this.user)throw new Error("Missing user.");this.user.hasVaultACL(r,ZA.vaultACL.CreateItem)&&t.push({uuid:r.uuid,accountUuid:e.uuid,name:r.name,baseAvatarUrl:e.baseAvatarURL,avatar:r.avatar,fullAvatarUrl:lUA(r.avatar,"",e.avatar,r.type,e.uuid,e.baseAvatarURL),type:r.type})}return{uuid:e.uuid,name:e.name,baseAvatarUrl:e.baseAvatarURL,avatar:e.avatar,fullAvatarUrl:sUA(new ZA.Account(e)),type:e.type,vaults:t}};this._findVaultWithUUID=e=>{if(!(!this._vaults||!this.vaults||!this.user)){for(let t of this.vaults)if(t.uuid===e)return t}};this.findVaultWithUUIDAndCreatePermission=e=>{let t=this._findVaultWithUUID(e);if(!(t&&!this.user?.hasVaultACL(t,ZA.vaultACL.CreateItem)))return t};this.markItemUsed=(e,t)=>e.cacheInformation?.provider==="brex"?Promise.resolve():this.serveraccount.id?Ve.getDatabase().markItemUsed(this.serveraccount.id,e,e.vault,t):Promise.reject(new Error("Unable to mark item as used. Missing ID for server account."));this.getVaultItems=async e=>{let t=await Ve.getDatabase().getItemOverviewsForVault(e);return(await Promise.all(t.map(a=>a.id?this.getItem({type:"databaseId",data:a.id}):void 0))).filter(a=>!!a)};this.loadPasswordHistory=async()=>{let e=await this.getGeneratedPasswordVault();return e?.localId?this.getVaultItems(e.localId):Promise.reject(new Error("Unable to load password history. Invalid generated password vault"))};this.loadSystemVaultItems=async()=>{let{newlyCreated:e,vault:t}=await this.getOrCreateSystemVault();if(!t?.localId){if(e&&t.activeItemCount===0)return[];throw new F.LoggableError({errorClass:NA("SystemVaultError"),message:NA("Unable to load system vault items. Invalid system vault"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0})}return this.getVaultItems(t.localId)};this._getChildAccountRelationship=async e=>{let t="CACHED_CHILD_ACCOUNT_RELATIONSHIPS",r=fa.getItem(t),a=new Map(r?JSON.parse(r):[]),j=a.get(this.uuid);if(j)return j;let n=await he.getChildAccountRelationship(e);return a.set(this.uuid,n),fa.setItem(t,JSON.stringify(Array.from(a))),n};this.loadPersonItem=async()=>{let t=(await this.loadSystemVaultItems()).find(r=>r.templateUuid==="910");if(t)return t.details};this.shouldShowFreeFamilyAccountNotification=async()=>{if(this.isLocked||!this.client||!this.hasFeature?.familyChildAccounts||this.client.account()?.subscription.status!==rc.Status.Active)return!1;let e=this.client.user();if(!e||St.isGuest(e)||e.state!==St.State.Active||!this.client.CTX)return!1;try{let{state:t}=await this._getChildAccountRelationship(this.client.CTX);return t===""||t===ZA.ChildAccountRelationship.State.Ready}catch(t){return console.error("Unable to determine child account relationship for account:",t),!1}};this.shouldShowEmailPreferencesNotification=()=>{if(this.isLocked||!this.client)return!1;let e=this.client.account(),t=this.client.user();return!e||!t?!1:e.type===ZA.Account.Type.Business&&(St.isOwner(t)||St.isAdmin(t))&&t.newsletterPrefs===0&&!!e.createdAt&&e.createdAt.getTime()<new Date(Date.UTC(2021,5,1)).getTime()};this.getFreeFamilyCode=async()=>{if(!this.client?.CTX)return;let{state:e,code:t}=await this._getChildAccountRelationship(this.client.CTX);switch(e){case ZA.ChildAccountRelationship.State.Ready:return t;case"":return(await he.createChildAccountRelationship(this.client.CTX)).code;default:return}};this.updateSigninDetails=async e=>{this.serveraccount=e};this.setUserState=async e=>rA.updateAccount(this.serveraccount.uuid,{userState:e});this.onClientInvalidated=()=>{this.destroyClient(),Yr.updateConnectivityStatus()};this.onServerChanged=()=>{this.isLocked||this.syncer&&(this.syncer.isRunning||this.runSyncer([0]).catch(this.handleSyncError))};this.getVaultWithUUID=async e=>{if(!this.serveraccount.id){console.warn("Get vault with UUID. Missing server account ID.");return}let t=await Ve.getDatabase().getVaultWithUUID(this.serveraccount.id,e);if(!t){console.warn("Get vault with UUID. Missing server vault.");return}return await this.parseVault(this.b5account.type,t)};this.parseVaultItemToAPI=async e=>{let t=await Mn.vaultItemToApi(e);return e.localId&&(t.id=e.localId),t};this.parseVault=(e,t)=>Promise.resolve().then(()=>{let r=new ZA.Vault({uuid:t.uuid,name:"",type:t.type,desc:""});if(r.localId=t.id,r.createdAt=t.createdAt?ZWA(t.createdAt):void 0,r.updatedAt=t.updatedAt?ZWA(t.updatedAt):void 0,r.attrVersion=t.attrVersion,r.contentVersion=t.contentVersion,r.activeItemCount=t.activeItemCount??r.activeItemCount,r.clientAccess=t.clientAccess??r.clientAccess,!t.combinedAccess)throw new Error("Missing vault combinedAccess information");return r.setCombinedAcl(t.combinedAccess.acl),this.parseAndDecryptVaultAccessRecord(r,t.combinedAccess).then(a=>(r.setAccessList([a]),r.decryptAttrs(t.encAttrs).then(()=>TVA(e,r)).then(j=>this.user?(this.user.setVaultAccess(a),r.name=j,r):Promise.reject("Missing user."))))});this.parseAndDecryptVaultAccessRecord=(e,t)=>new Promise((r,a)=>{if(!this.context)throw new Error(`Missing context. Unable to parse and decrypt vault: <${e.uuid}>`);let j=new ZA.VaultAccess(t);if(!j.encVaultKey)throw new Error(`Missing encrypted vault key for vault: <${e.uuid}>`);let n=he.findDecryptedKeyset(this.context,j.encVaultKey.kid);if(!n)throw new Error(`Missing keyset for vault: <${e.uuid}>`);j.decryptVaultKey(n).then(i=>{i.sn=t.vaultKeySN,j.vaultKey=i,e.activeKey||(e.activeKey=i),r(j)}).catch(i=>{a(i)})});this.loadNakedDomainCache=async()=>{if(this.masterKey&&this.serveraccount.id)try{let e=await Ve.getDatabase().getEncryptedCache(this.serveraccount.id,"nakedDomain");if(e?.key==="374a996859c8"){let t=await this.masterKey.decrypt(e.cache);this._nakedDomainCache.deserializeToCache(F.ab2str(t))}}catch{console.info("Failed to load encrypted cache.")}};this.saveNakedDomainCache=async()=>{if(this.masterKey&&this.serveraccount.id)try{let e=this._nakedDomainCache.serialize(),t=await this.masterKey.encrypt(F.str2ab(e));if(t){let r={account_id:this.serveraccount.id,cache:t,type:"nakedDomain",key:"374a996859c8"};Ve.getDatabase().saveEncryptedCache(r)}}catch{console.info("Failed to save encrypted domain cache.")}};this.getIntegrationCredentials=async e=>{if(this.isLocked||this.mustMigrateAuth)return[];try{let r=(await this.loadSystemVaultItems()).filter(j=>j.templateUuid==="800"&&j.state===ZA.VaultItem.ItemState.Active&&j.overview.integration===e),a=[];for(let j of r){let n=j.details.sections.find(s=>s.name===e),i=n?.fields?.find(s=>s.n==="accountId"),o=n?.fields?.find(s=>s.n==="refreshToken");if(!i||!o){console.error(`${e} Integration Item ${j.uuid} is malformed.`);continue}a.push({itemUuid:j.uuid,accountId:i.v,refreshToken:o.v})}return a}catch(t){return ra(t)&&ht(t),[]}};this.getIntegrationProviderAccessToken=async(e,t)=>{let a=(await this.getIntegrationCredentials(t)).find(n=>n.accountId===e);if(!a)return;if(!this.client?.CTX){console.warn(`No client context for account ${this.uuid}, unable to get ${t} access token`);return}let j=await this._integrationProviderTokenCache[t].get(this.client.CTX,t==="brex"?a.itemUuid:void 0,a.accountId,a.refreshToken);if(j.isOk())return j.value.updated&&(await this.saveProviderTokenCache(t,this._integrationProviderTokenCache[t]),t==="brex"&&await this.updateBrexSystemVaultItems(e,j.value.refreshToken)),{...j.value,context:j.value.context}};this.removeProviderAccessToken=async(e,t)=>{this._integrationProviderTokenCache[t].delete(e),await this.saveProviderTokenCache(t,this._integrationProviderTokenCache[t])};this.loadIntegrationProviderTokenCache=async e=>{if(this.masterKey&&this.serveraccount.id)try{e.forEach(async t=>{if(!(this.masterKey&&this.serveraccount.id))return;let r=await Ve.getDatabase().getEncryptedCache(this.serveraccount.id,`${t}Token`);if(r?.key==="374a996859c8"){let a=await this.masterKey.decrypt(r.cache);this._integrationProviderTokenCache[t].deserializeToCache(F.ab2str(a))}})}catch{console.info("Failed to load encrypted cache.")}};this.saveProviderTokenCache=async(e,t)=>{if(this.masterKey&&this.serveraccount.id)try{let r=t.serialize(),a=await this.masterKey.encrypt(F.str2ab(r));if(a){let j={account_id:this.serveraccount.id,cache:a,type:`${e}Token`,key:"374a996859c8"};Ve.getDatabase().saveEncryptedCache(j)}}catch{console.info("Failed to save encrypted domain cache.")}};this.updateBrexSystemVaultItems=async(e,t)=>{try{let a=(await this.loadSystemVaultItems()).filter(j=>j.templateUuid==="800"&&j.state===ZA.VaultItem.ItemState.Active&&j.overview.integration==="brex");await BHA(this.uuid,a,e,t)}catch(r){ra(r)&&ht(r)}};this._getRawIntegrationCredentialItems=async e=>{try{return(await this.loadSystemVaultItems()).filter(r=>r.templateUuid==="800"&&r.state===ZA.VaultItem.ItemState.Active&&r.overview.integration===e)}catch(t){return ra(t)&&ht(t),[]}};this.syncBrexCards=()=>this.runSyncer([8]).catch(this.handleSyncError);this.destroyAccount=()=>{Ve.getDatabase().deleteAccountWithUUID(this.b5account.uuid).then(()=>globalThis.dispatchEvent(new Event(jI))),this.lock(!1)};this.getOrCreateSystemVault=()=>this._createSystemVaultPromise!==void 0?this._createSystemVaultPromise:(this._createSystemVaultPromise=this._createSystemVault().catch(e=>{throw ra(e)&&ht(e),new Error("Unable to create a system vault")}),this._createSystemVaultPromise);this.waitForDecrypt=()=>typeof this.decryptingOverviews>"u"?Promise.resolve():this.decryptingOverviews;this.getAndParseSystemVaultFromDatabase=async()=>{if(!this.serveraccount.id)return;let e=await Ve.getDatabase().getSystemVault(this.serveraccount.id);if(e)return await this.parseVault(this.b5account.type,e)};this._createSystemVault=async()=>{if(!this.serveraccount.id)throw new F.LoggableError({errorClass:NA(q_),message:NA("Cannot create system vault due to missing server account ID"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});let e=this.getSystemVault();if(e)return{newlyCreated:!1,vault:e};let t=await this.getAndParseSystemVaultFromDatabase();if(t)return{newlyCreated:!1,vault:t};if(this.isLocked)throw new F.LoggableError({errorClass:NA(q_),message:NA("Cannot create system vault while locked"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});if(!this.client)throw new F.LoggableError({errorClass:NA(q_),message:NA("Cannot create system vault due to missing client"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});if(!this.client.CTX)throw new F.LoggableError({errorClass:NA(q_),message:NA("Cannot create system vault due to missing client CTX"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0});try{let r=await he.getSystemVault(this.client.CTX);if(r){console.info(`System vault already created for account ${this.serveraccount.id}.`),await Promise.race([this.runSyncer([8]).catch(this.handleSyncError),new Promise(j=>setTimeout(j,500))]);let a=await this.getAndParseSystemVaultFromDatabase();return a?{newlyCreated:!1,vault:a}:{newlyCreated:!1,vault:r}}}catch(r){console.error(`Unable to determine if system vault exists ${this.serveraccount.id}.`,r)}try{return{newlyCreated:!0,vault:await he.createSystemVault(this.client.CTX)}}catch(r){throw console.error(`Failed to create system vault for account ${this.serveraccount.id}.`,r),new F.LoggableError({errorClass:NA(q_),message:NA("Failed to create system vault for account"),userUuid:this.user?.uuid?NA(this.user.uuid):void 0})}finally{this.runSyncer([8]).catch(this.handleSyncError)}};this.getFile=(e,t)=>this.client?this.client.getFile(e,t):Promise.resolve(void 0);this.uploadFile=e=>this.client?this.client.uploadFile(e):Promise.resolve(void 0);this.getDocumentBlob=(e,t)=>this.client?this.client.getDocumentBlob(e,t):Promise.resolve(void 0);this.handleSyncError=e=>{this.logSyncError(e),(F.errors.isClientError(e,F.errors.ClientErrorCode.invalidMFA)||e.message==="Unable to complete MFA, dSecret option not available.")&&(HkA(this.serveraccount),console.info(`\u{1F4DD} Removing dSecret for account ${this.serveraccount.uuid}`),rA.updateAccount(this.serveraccount.uuid,{dSecret:void 0})),F.errors.isClientError(e,F.errors.ClientErrorCode.incorrectMasterPassword)||F.errors.isClientError(e,F.errors.ClientErrorCode.invalidEmailOrPassword)?(console.info(`Account password changed since we last synced keysets for account ${this.uuid}. Locking.`),Ve.getDatabase().resetAccountKeysets(this.serveraccount),this.lock()):F.errors.isServerError(e,F.errors.ServerErrorCode.suspendedLoginFailed)||F.errors.isServerError(e,F.errors.ServerErrorReason.userSuspended)?(this.setUserState(St.State.Suspended),this.lock()):F.errors.isServerError(e,F.errors.ServerErrorCode.deletedLoginFailed)||F.errors.isServerError(e,F.errors.ServerErrorReason.userDeleted)||F.errors.isServerError(e,F.errors.ServerErrorCode.registrationFailed)||F.errors.isClientError(e,F.errors.ClientErrorCode.deviceDeleted)?(console.info(`Destroying ${this.uuid} (error code ${e.code}).`),this.destroyAccount()):F.errors.isNewServerError(e,F.errors.ServerErrorReason.passwordAuthNotAllowed)?(console.info(`Account ${this.uuid} migrated to SSO. Locking.`),this.lock()):(_HA(e,this.serveraccount),Hg().initializePolicies([this])),Yr.updateConnectivityStatus()};this.logSyncError=e=>{if(ra(e))ht(e),console.error(`Sync error: ${e.message}`);else if(e instanceof O7)ht(new F.LoggableError({errorClass:pi,message:sA`Unable to reauthenticate automatically during sync`,severityLevel:"warning",stackOverrideError:e,userUuid:this.user?.uuid?NA(this.user.uuid):void 0})),console.error("Sync error: Unable to reauthenticate automatically");else if(e.code&&typeof e.code=="number"){if(console.error(`Sync error: ${e.name} ${e.code}`),ab(e,Ak.unexpectedFetchError)||ab(e,Ak.serverRequestTimedOut)||e instanceof Sf&&e.code===ru.tooManyRequests||e instanceof Sf&&e.code===ru.unauthorized)return;ht(new F.LoggableError({errorClass:pi,message:sA`Sync error: `.concat(NA(e.name)).concat(sA` `).concat(tb(e.code)),stackOverrideError:e,userUuid:this.user?.uuid?NA(this.user.uuid):void 0}))}else F.errors.getErrorMessage(e).startsWith("Missing keyset for vault")?(ht(new F.LoggableError({errorClass:pi,message:sA`Missing keyset for vault.`,stackOverrideError:e,userUuid:this.user?.uuid?NA(this.user.uuid):void 0})),console.error("Sync error: Missing keyset for vault.")):console.error("Unknown sync error.")};this.updateAccountFromContext=async()=>{let{client:e,serveraccount:t}=this,r=[];return e?.CTX?.user?.email&&e.CTX.user.email!==t.email&&(`${t.uuid}`,r.push(rA.updateAccount(t.uuid,{email:e.CTX.user.email}).catch(()=>console.error(`Failed update: email for ${t.uuid}`)))),e?.CTX?.user?.dSecret&&e.CTX.user.dSecret!==t.dSecret&&(`${t.uuid}`,r.push(rA.updateAccount(t.uuid,{dSecret:e.CTX.user.dSecret}).catch(()=>console.error(`Failed update: dSecret for ${t.uuid}`)))),e?.CTX?.account?.domain&&e.CTX.account.domain!==t.domain&&(`${t.uuid}`,r.push(rA.updateAccount(t.uuid,{domain:e.CTX.account.domain}).catch(()=>console.error(`Failed update: domain for ${t.uuid}`)))),Rc.enableBiometryForNewAccounts(),Promise.all(r)};this.getDecryptedCache=async e=>{if(this.masterKey&&this.serveraccount.id)try{let t=await Ve.getDatabase().getEncryptedCache(this.serveraccount.id,e);if(!t)return;let r=await this.masterKey.decrypt(t.cache);return F.ab2str(r)}catch{return}};this.reportUsoAction=e=>{this.client?.CTX&&he.reportUsoAction(this.client.CTX,e).catch(t=>{})};this.encryptAndSaveCache=async(e,t,r)=>{if(this.masterKey&&this.serveraccount.id)try{let a=await this.masterKey.encrypt(F.str2ab(r));if(a){let j={account_id:this.serveraccount.id,cache:a,type:e,key:t};Ve.getDatabase().saveEncryptedCache(j)}}catch{console.info("Failed to save encrypted cache: ",e)}};this.uploadWatchtowerReports=async()=>{if(!this._isWatchtowerReportsUploading){this._isWatchtowerReportsUploading=!0;try{if(!this.client?.CTX)throw new Error("Missing CTX for uploading Watchtower reports");await HV(),await he.uploadWatchtowerReports(this.client?.CTX,!0,(e,t)=>AkA(this,t),(e,t)=>ekA(this,t))}catch{console.error("There was an issue uploading Watchtower reports")}this._isWatchtowerReportsUploading=!1}};this.uploadVaultItemSnapshots=async()=>{if(!this._isDetailedVaultsReportingUploading){if(!this.client?.CTX)throw new Error("Missing CTX for uploading vault item snapshots");if(this.client.account()?.type===ZA.Account.Type.Business)try{this._isDetailedVaultsReportingUploading=!0,await he.uploadVaultItemSnapshots(this.client.CTX,!0,(e,t)=>AkA(this,t),(e,t)=>ekA(this,t))}catch{throw new F.LoggableError({errorClass:NA("UploadVaultItemSnapshotsError"),message:NA("There was an issue uploading vault item snapshots to server."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0})}finally{this._isDetailedVaultsReportingUploading=!1}}};this.sendItemSnapshotToServer=async e=>{if(this._isDetailedVaultsReportingUploading)return;if(!this.client?.CTX)throw new Error("Missing CTX for uploading vault item snapshots to server");if(this.client.account()?.type!==ZA.Account.Type.Business)return;let t=e.vault.contentVersion+1;try{this._isDetailedVaultsReportingUploading=!0,await he.sendItemSnapshotToServer(this.client.CTX,e,t)}catch{throw new F.LoggableError({errorClass:NA("UploadVaultItemSnapshotsError"),message:NA("There was an issue uploading vault item snapshots to server."),userUuid:this.user?.uuid?NA(this.user.uuid):void 0})}finally{this._isDetailedVaultsReportingUploading=!1}};this.getFeatureFlags=async()=>{if(!this.client?.CTX)throw new Error(`Unable to get features for account ${this.client?.accountUUID}. CTX is undefined.`);return(await he.getFeatures(this.client?.CTX,UE)).features.reduce((t,r)=>(Object.keys(qg).includes(r.name)&&(t[r.name]=!0),t),{})};this.updateActivationHubCacheIfNecessary=async e=>this._activationHubCache.updateCacheIfNecessary(this.client?.CTX,e);this.getActivationHubTasks=async(e,t)=>this._activationHubCache.getTasks(this.client?.CTX,e,t);this.completeActivationHubTask=async(e,t)=>{if(!this.client?.CTX){console.warn(`No client context for account ${this.uuid}, unable to get activation hub tasks`);return}let r=new Date().toISOString();return he.completeActivationHubTask(this.client.CTX,{uuid:t,dismiss:e,completedAt:r})};this.completeActivationHubTaskByName=async e=>{if(!v_(this.uuid,e)){let r=(await this.getActivationHubTasks()).tasks.find(a=>a.name===e&&a.completedAt===void 0);r&&(await this.completeActivationHubTask(!1,r.uuid),await this.getActivationHubTasks(!0)),OV(this.uuid,e)}};this.serveraccount=e,this._nakedDomainCache=new CV(r=>FA.nakedDomainForUrl(r)),this._integrationProviderTokenCache={fastmail:new y_(HNA),brex:new y_(fHA)},this._brexCardCache=new _V,this._activationHubCache=new TV,this._isWatchtowerReportsUploading=!1,this._isDetailedVaultsReportingUploading=!1,this.b5account=new ZA.Account(e),this.deviceJson=t,this._hasUnseenDeviceEnrollments=!1,this.primeIconColorCache()}get accountIdentifier(){let{uuid:e,userUUID:t,signinAddress:r}=this.serveraccount,a=jl(r);return{accountUUID:e,userUUID:t,server:a}}get hasFeature(){return this.client?.CTX?.account?.hasFeature}get client(){return this._client}get hasSignedInClient(){return this.client?.isSignedIn()??!1}get isLocked(){return!this.masterKey}get isUnlocked(){return!this.isLocked}get user(){return this.context?.user}get isUserSuspended(){return this.serveraccount.userState===St.State.Suspended}get masterKey(){return this.context?.user?.masterKey}get uuid(){return this.serveraccount.uuid}get vaults(){let e=a=>a.hasClientAccess(Bv.Extension),t=a=>a.type!==ZA.Vault.TypeGeneratedPasswords,r=a=>a.type!==ZA.Vault.TypeSystem;return this._vaults?.filter(a=>e(a)&&t(a)&&r(a))??[]}get hasUnseenDeviceEnrollments(){return this.isUnlocked&&this._hasUnseenDeviceEnrollments}set hasUnseenDeviceEnrollments(e){this._hasUnseenDeviceEnrollments=this.isUnlocked&&e}get mustMigrateAuth(){return Ar.accountHasFlag(this.uuid,"auth-self-serve-migration-v1")&&this.client?.CTX?.session.ssoMigrationGracePeriod?.state===ZA.User.State.MustMigrateAuth}getPreference(e){return this.serveraccount.userPreferences?pt.includes(this.serveraccount.userPreferences,fv[e]):!1}decryptKeysets(e,t){return new Promise(async(r,a)=>{let j=async()=>{if(!e.user)return Promise.reject(new Error("Missing user."));if(e.user.masterKey)return Promise.resolve();let n=t.find(o=>o.encryptedBy===ZA.KID_MASTER_PASSWORD);if(!n)return Promise.reject(new Error("Missing active keyset."));let i=M4(n.encSymKey);e.user.masterKey=await Ta.derive(i,e.user.getCredentials())};try{await j(),await he.decryptKeysets(e,t),r()}catch(n){a(n)}})}static async expectMuk(e){if(e.alg!==ba)throw new Error(`Unexpected alg: ${e.alg}`);if(!e.ext)throw new Error("Unexpected ext");if(!e.key_ops||e.key_ops.length!==2)throw new Error(`Invalid key_ops: ${JSON.stringify(e.key_ops)}`);if(e.kty!=="oct")throw new Error(`Unexpected kty: ${e.kty}`);if(!e.k)throw new Error("undefined key material");return{alg:e.alg,ext:e.ext,key_ops:["decrypt","encrypt"],kty:e.kty,kid:e.kid,k:e.k}}async unlockWithMasterUnlockKey(e,t){let r=await A.expectMuk(e);if(!this.serveraccount.id)return console.error("Missing server account ID in unlockWithMasterUnlockKey"),Promise.reject(new Error("Invalid server account ID."));if(!e.alg||!e.k)return console.error("Invalid muk in unlockWithMasterUnlockKey"),Promise.reject(new Error("Invalid muk."));let a=await _u(),j=UkA(this.serveraccount,a);if(!j.user)return console.error("Missing user in unlockWithMasterUnlockKey"),Promise.reject(new Error("Missing user."));let n=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id);if(j.user.masterKey=await Ta.fromJwk(r),n.length>0)try{await this.decryptKeysets(j,n)}catch{try{await this.startSync(t)}catch{return this}n=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id);let o=this.serveraccount.secretKey?No.SecretKey.fromInput(this.serveraccount.secretKey):void 0;j.user=new ZA.OldUser({uuid:this.serveraccount.userUUID,email:this.serveraccount.email,secretKey:o}),j.user.masterKey=await Ta.fromJwk(r);try{await this.decryptKeysets(j,n)}catch{return this}}else await this.startSync(t),n=await Ve.getDatabase().getKeysetsForAccount(this.serveraccount.id),await this.decryptKeysets(j,n);return this.context=j,console.info(`Hooray!; Unlocked account ${this.uuid} with MUK; \u{1F389}`),this}async createGeneratedPasswordsVaultIfNeeded(){if(!this.serveraccount.id){console.warn("Create Generated Passwords Vault: Missing server account ID.");return}if(!await Ve.getDatabase().hasGeneratedPasswordVault(this.serveraccount.id)&&!(this.isLocked||this.mustMigrateAuth)){if(!this.client?.CTX){console.warn("Create Generated Passwords Vault: Missing client CTX.");return}try{await he.createGeneratedPasswordsVault(this.client.CTX)}finally{return this.runSyncer([8]).catch(this.handleSyncError)}}}async primeIconColorCache(){if(!this.serveraccount.id){console.warn("Prime Icon Color Cache: Missing ID for server account.");return}let e=await Ve.getDatabase().getItemOverviewsForAccount(this.serveraccount.id);for(let{uuid:t}of e)FA.generateRichIconBackgroundColor(t)}canUseTrustedDeviceAuth(){return he.canPerformTrustedDeviceBasedAuth(this.serveraccount.authMethods)}canOnlyUseWebAuthn(){return he.canOnlyPerformWebauthnAuth(this.serveraccount.authMethods)}},ZWA=A=>{if(typeof A=="string")return A.indexOf("0001")===0?void 0:new Date(A)},UkA=(A,e)=>{let t=e6(A.signinAddress,e),r;if(A.secretKey){let j=No.SecretKey.fromInput(A.secretKey);if(!j)throw new Error("Secret Key is invalid");r=j}let a=new ZA.OldUser({uuid:A.userUUID,email:A.email,secretKey:r});return t.user=a,t};function Ait(){let A=new ZA.Vault({uuid:F.generateUUID(),name:"Brex",type:ZA.Vault.TypeUserCreated,desc:""});return A.setCombinedAcl(ZA.vaultACL.ALL_READ),A.localId=globalThis.crypto.getRandomValues(new Uint32Array(1))[0],A.isVirtualVault=!0,A}var VkA=AA(Wr());async function e8(A){let e=Qd(A.muk),t=await eJA(A.details.accountUuid);if(t.isErr()){if(t.error.type==="RequestError")switch(console.error(`Failed to request delegated session: ${t.error.type}`),t.error.content){case VkA.NmRequestDelegatedSessionError.UserSuspended:throw new F.errors.ServerError(F.errors.ServerErrorCode.suspendedLoginFailed,F.errors.ServerErrorReason.userSuspended);case VkA.NmRequestDelegatedSessionError.Other:break}throw new F.LoggableError({errorClass:sA`SigninError`,message:sA`Failed to request delegated session: ${NA(t.error?.type)}`,severityLevel:"warning"})}return $_({email:A.details.email,signInAddress:A.details.signInAddress,secretKey:A.secretKey},e,t.value)}async function $_(A,e,t,r=!0){return AV(A.signInAddress,{requestID:t.requestId??1,email:A.email,accountKey:A.secretKey,masterKey:e,serverConfig:{notifier:t.notifier},sessionKey:t.sessionKey},r?eJA:void 0)}async function eJA(A){let e={accountUuid:A,device:await Ii()};if(!Mt.desktopConnectionManager)return Pe({type:"NoConnectionManager"});let t=await Mt.desktopConnectionManager.requestDelegatedSession(e);return t.type==="Error"?Pe({type:"RequestError",content:t.content}):vt({notifier:t.content.notifier,sessionKey:Qd(t.content.sessionKey)})}async function tJA(A,e=!0){if(rA.accountIsUnlocked(A.data.accountIdentifier.accountUUID))return;let t=await Ii(),r;if(A.type==="AccountPasswordCredentials")r=await Wd({credentials:A.data,device:t}).finally(()=>Yr.updateConnectivityStatus());else{let{email:u,signinAddress:p}=A.data;r=await $_({email:u,signInAddress:p},A.data.muk,A.data.session,!1)}if(!r.CTX)return Promise.reject("Missing context on the client.");let a=r.account();if(!a)return Promise.reject("Missing account after signin.");let j=r.user();if(!j)return Promise.reject("Missing user after signin.");Mc.startAutoLockMonitor();let n,{authMethods:i}=await he.getSignInMethods(r.CTX,j.email,j.uuid);A.type==="AccountPasswordCredentials"?n=o_(a,j,{...A.data,authMethods:i}):n=o_(a,j,{signinAddress:A.data.signinAddress,authMethods:i}),await Ve.getDatabase().saveAccount(n);let o=A.type==="DelegatedSession"&&he.canPerformTrustedDeviceBasedAuth(i),s=new Vg(n,t);if(s.setClient(r),rA.addAccountHandler(s),o&&A.data.srpx)try{await WH(r,s,A.data.srpx)}catch(u){console.error("Failed to upgrade B5X to a Trusted Device for delegated session",u),ra(u)&&ht(u)}let c;A.type==="AccountPasswordCredentials"?c=await V$(A.data.accountPassword):c=await Lg({type:"DelegatedSession",data:{accountUuid:A.data.accountIdentifier.accountUUID,muk:A.data.muk,client:r}}),c.isErr()&&console.warn(`Failed to unlock newly added account: ${c.error.type}`),await s.createGeneratedPasswordsVaultIfNeeded(),await s.primeIconColorCache(),rA.numberOfAccountHandlers===1&&(I_(),[dr.Type.Individual,dr.Type.Family].includes(n.type)&&OkA(n.uuid)),e&&IHA(s.serveraccount.name),O6.enableInsiderIfAppropriate(),globalThis.dispatchEvent(new Event(rh))}async function rJA(A){let e=await Ii(),t=DVA(A,[]);await Ve.getDatabase().saveAccount(t);let r=new Vg(t,e),a=rA.addAccountHandler(r),j=e6(r.serveraccount.signinAddress,await _u()),n=await he.getSignInMethods(j,r.serveraccount.email,r.serveraccount.userUUID);rA.updateAccount(r.serveraccount.uuid,{authMethods:n.authMethods}).catch(()=>console.error(`Failed to set auth methods for ${r.serveraccount.uuid}`)),a===1&&(I_(),[dr.Type.Individual,dr.Type.Family].includes(t.type)&&OkA(t.uuid)),O6.enableInsiderIfAppropriate(),globalThis.dispatchEvent(new Event(rh))}async function XkA(A){switch(A.type){case"B5SignInSucceeded":let e={accountIdentifier:{userUUID:A.details.userUuid,accountUUID:A.details.accountUuid,server:jl(A.details.signinAddress)},dSecret:A.details.dSecret,email:A.details.email,accountPassword:A.details.masterPassword,secretKey:A.details.accountKey,signinAddress:A.details.signinAddress};await tJA({type:"AccountPasswordCredentials",data:e});break;case"B5DelegatedSignInSucceeded":let{accountUuid:t,session:r,masterKey:a,email:j,signinAddress:n,srpx:i}=A.details;if(!a){console.warn("Unable to add account without master key");return}if(!r){console.warn("Unable to add account without session");return}let o=Qd(JSON.parse(a));await tJA({type:"DelegatedSession",data:{email:j,signinAddress:n,accountIdentifier:{accountUUID:t},muk:o,session:r,srpx:i}});break;default:jr(A)}}var P_;async function VV(A,e={}){if(P_)return P_;P_=new Promise(async r=>{try{let j=0;for(let n of A){let i=rA.getAccountHandlers.find(o=>o.serveraccount.uuid===n.accountUuid);if(i&&i.serveraccount.uuid===n.accountUuid&&i.serveraccount.userUUID!==n.userUuid){console.warn(`Unable to add secondary user from account ${n.accountUuid}`);continue}i||(j++,await rJA(n))}if(e.removeExtraAccounts){let n=function(i,o){return i.serveraccount.uuid===o.accountUuid&&i.serveraccount.userUUID===o.userUuid};var a=n;for(let i of rA.getAccountHandlers)A.find(o=>n(i,o))||(j++,await rA.removeAccount(i.uuid))}r(j>0)}catch{throw new Error("When adding a locked account from OPI we ran in to a problem.")}});let t=await P_;return P_=void 0,t}async function XV(A,e={}){try{let j=function(n,i){let{accountUuid:o}=i.type==="Locked"?i.content:i.content.details;return n.serveraccount.uuid===o};var t=j;let r=[],a=0;for(let n of A)try{if(n.type!=="Unlocked")continue;let i=n.content,o=rA.getAccountHandlers.find(s=>s.serveraccount.uuid===i.details.accountUuid);if(o&&o.serveraccount.uuid===i.details.accountUuid&&o.serveraccount.userUUID!==i.details.userUuid){console.warn(`Unable to add secondary user from account ${i.details.accountUuid}`);continue}if(o?.isUnlocked){(!o.client||!o.client.isSignedIn)&&(await WV(o,i),o.startSync());continue}if(o){let s=n.content.details.userState??I0.UserState.Active;if(s!==o.serveraccount.userState){if(s===I0.UserState.Unsupported)throw new Error("User state unsupported");await o.setUserState(s)}switch(s){case I0.UserState.Suspended:continue;case(I0.UserState.Deleted||I0.UserState.Purging||I0.UserState.Purged):o.destroyAccount();continue;default:}let c=i.srpX&&i.secretKey?{type:"Credentials",data:{credentials:o.credentials({muk:Qd(i.muk),srpX:i.srpX}),additionalSignInOptions:{allowReauthorization:!0}}}:{type:"Other",data:{client:()=>e8(i)}};try{await aJA(o,i),o.serveraccount.deviceCredentials&&rA.updateAccount(o.serveraccount.uuid,{deviceCredentials:void 0}),await o.unlockWithMasterUnlockKey(i.muk,c),a++,tj("AppUnlock",{unlock_method:"SLS",status:"SUCCESS"},i.details.accountUuid),r.push(()=>o.startSync(c).catch(u=>{console.error(`Sync error for account: ${i.details.accountUuid}`),o.handleSyncError(u)}))}catch(u){try{await o.startSync(c),await o.unlockWithMasterUnlockKey(i.muk,c),a++,tj("AppUnlock",{unlock_method:"SLS",status:"SUCCESS"},i.details.accountUuid)}catch{console.error("Unable to unlock account after attempting to sync updated keysets.",u)}}}else try{await eit(i)&&(a++,tj("AppUnlock",{unlock_method:"SLS",status:"SUCCESS"},i.details.accountUuid))}catch(s){console.error("Unable to add new account",s)}}catch{let{accountUuid:i}=n.type==="Locked"?n.content:n.content.details,s=rA.findAccountHandlerByUuid(i)?.serveraccount?.authMethods.map(c=>c.type);console.error(`Something went wrong when trying to unlock account with UUID ${i}, account auth methods: ${s}`)}if(e.removeExtraAccounts)for(let n of rA.getAccountHandlers)try{A.find(i=>j(n,i))||(console.warn(`Account ${n.uuid} is not in the native app, and b5x is cleaning up extra accounts. Removing account from B5x.`),await rA.removeAccount(n.uuid))}catch{console.error(`Error checking extra account removal for ${n.uuid}`)}if(!Or())for(let n of rA.getAccountHandlers)try{let i=!A.find(c=>j(n,c));if(!n.serveraccount.authMethods){console.warn(`authMethods are empty for account ${n.uuid}.`);continue}let o=n.serveraccount.authMethods.some(c=>c.type==="OIDC"),s=(await n.getDeviceCredentials()).isErr();i&&o&&s&&(console.warn(`SSO Account ${n.uuid} is not in native app and does not have device credentials. Removing account from B5x.`),await rA.removeAccount(n.uuid))}catch{console.error(`Error checking extra SSO account removal for ${n.uuid}`)}return r.forEach(n=>n()),{numberOfUnlockedAccounts:a}}catch{throw new Error("When adding an account from an app we ran in to a problem.")}}async function eit(A){let e=await Ii(),t=Qd(A.muk),r;if(!A.srpX||!A.secretKey?r=await e8(A):r=await Wd({credentials:{accountIdentifier:{accountUUID:A.details.accountUuid,userUUID:A.details.userUuid,server:A.details.server},uuid:A.details.userUuid,email:A.details.email,muk:t,secretKey:A.secretKey,signinAddress:A.details.signInAddress,srpX:A.srpX},device:e,additionalSignInOptions:{allowReauthorization:!0}}).finally(()=>Yr.updateConnectivityStatus()),!r.CTX)return Promise.reject("Missing context on the client.");let a=r.account();if(!a)return Promise.reject("Missing account after signin.");let j=r.user();if(!j)return Promise.reject("Missing user after signin.");Mc.startAutoLockMonitor();let n=await he.getSignInMethods(r.CTX,j.email,j.uuid),i=o_(a,j,{secretKey:A.secretKey,signinAddress:A.details.signInAddress,dSecret:void 0,authMethods:n.authMethods});await Ve.getDatabase().saveAccount(i);let o=new Vg(i,e),s=rA.addAccountHandler(o);try{o.setClient(r),await o.startSync(),await o.unlockWithMasterUnlockKey(A.muk)}catch(c){o.handleSyncError(c)}return await o.createGeneratedPasswordsVaultIfNeeded(),await o.primeIconColorCache(),s===1&&I_(),O6.enableInsiderIfAppropriate(),globalThis.dispatchEvent(new Event(rh)),o.isUnlocked}async function jJA(A){switch(A.type){case"OpenLink":return tit(A.content);case"PerformUndoAction":case"PerformItemAction":case"View":case"RetryFailedUpdate":case"RunUpdate":case"FileAction":case"HideToast":case"PerformSync":case"ShowSshAgentPromoModal":return;default:jr(A)}}async function tit(A){ir.openTab({url:A}),As()}var ait,jit,YV,WkA=!1;function iJA(){rr.resolve($u).subscribe(Vx,nit).subscribe(ux,iit),Re()?.inlineEnabled||zu("autofill-disabled")}function oJA(){WkA=!0}function As(){Kr("close-popup",void 0),wkA()}function sJA(){return new Promise(A=>{chrome.windows.getCurrent(e=>{A(e.type==="popup")})})}function nit(){As()}function lJA(){let A=uWA();return A||JSON.stringify({})}var cJA="contextual-import-dismiss";async function uJA(){return Ze.getItem(cJA)}function dJA(A){return Ze.setItem(cJA,JSON.stringify(A.data))}function mJA(A){dWA(A.data)}async function pJA(A){Wi(),mYA(),XWA(),YV&&P0(YV),await z$({prefersColorSchemeDark:A.data.prefersColorSchemeDark})}async function kJA(A){let e=await ca();if(!e)return;let t=e.URL()?.hostname,r=e.URL()?.host;if(!(t&&r))return;let a={id:e.id,unparsedUrl:e.unparsedUrl,hostname:t,host:r,nakedDomain:e?.unparsedUrl?.startsWith("http")?await e.nakedDomain():""},j=await AX(e,A.data?.collectedPageDetailsHash);return j&&(a.suggestions=j.suggestions,a.collectedPageDetailsHash=j.collectedPageDetailsHash),a}async function hJA(A){Wi();let e=await $t.loadItemCache();if(!e)return[];let t=await ca(),r,a=!1;a=t?.isHttpOrHttps()??!1,a&&(r=await t?.nakedDomain());let j=[],n=A.data.options||{},{suggestions:i,favorites:o,templateUuids:s,accountUuid:c,vaultUuid:u,searchEverywhere:p}=n,h=Boolean,f=c&&e.accountWithUUID(c);if(!p&&(h=Qt.userSelected(Ej(),void 0,void 0,e),f)){let $=u?e.vaultWithUUID(u,f.uuid):void 0;h=Qt.userSelected(Ej(),$,f,e)}if(i)if(t){let O=((await AX(t))?.suggestions??[]).filter(I=>I.type==="SuggestedCategory").map(I=>I.data.type);j=await e.itemsForTab(t,I=>h(I)&&!!I.templateUuid&&O.includes(I.templateUuid),wi.suggestedSort(t))}else j=[];else if(o)j=e.activeItems($=>h($)&&Qt.favorited($));else if(s){let $=Qt.templates(s);j=e.activeItems(T=>h(T)&&$(T))}else j=e.activeItems(h);let{showRichIcons:G}=Re(),y=(await rA.getFrozenAccountsInfo()).frozenAccounts,E=j.map($=>{let T=$.templateUuid?e.templateWithUUID($.templateUuid):void 0,O=$.overview.b5AccountUUID?y.includes($.overview.b5AccountUUID):!1;return jHA($,r,O,{hasHiddenTemplate:!T,showRichIcons:G})});return await Promise.all(E)}async function gJA(A){Wi();try{let e=await $t.loadItemCache();if(!e)return{type:"NoItem"};let t=e.itemWithLocalId(A.data.itemId);if(!t)return{type:"NoItem"};let r=t.vault,a=e.accountForVaultID(Un(r));if(!a)throw new Error("failed to find an account or vault overview");let{showRichIcons:j,newHibpEnabled:n,autoSubmitLogins:i}=Re(),o=await ca(),s=await Oo(t);if(!s)throw new Error("Failed to find decrypted item.");let c=Vs().isEnabled(),u,p=s;p.cacheInformation&&p.cacheInformation.provider==="brex"&&(u=Pj.WebItemIntegrationInformation.Brex);let h={},f={};A.data.gatherAsyncData&&(h=await he.generateWatchtowerReportForItem(s,n,!!a.hasFeature.itemsInWrongAccountPolicy,dr.getAllowedWatchtowerDomains(a)),f=await JNA(s));let G=(await yl()).map(nA=>({email:nA.email,accountName:nA.name,accountUuid:nA.uuid,itemsInWrongAccountAllowedDomains:nA.itemsInWrongAccountAllowedDomains})),w=t.overview.b5AccountUUID,y=r.getCombinedAcl();if(typeof y!="number")return console.error("Failed to load item details due to missing vaultACL"),{type:"UnknownError"};let $=(await rA.getFrozenAccountsInfo()).frozenAccounts.some(nA=>nA===a.uuid),T=rA.getUserStateForAccount(a.uuid),O=rA.findAccountHandlerByUuid(a.uuid),I=!!await O?.shouldShowFreeFamilyAccountNotification(),q=!!O?.hasFeature?.familyChildAccounts,K=await Ar.anyAccountHasFlag("core-date-time-localization"),aA=await FA.getItemDetails(s,{vaultUuid:r.uuid,name:r.name,baseAvatarUrl:a.baseAvatarURL??"",accountUuid:a.uuid,avatarFilename:r.avatar,vaultType:FA.parseVaultType(r.type)},{name:a.name,baseAvatarUrl:a.baseAvatarURL??"",accountUuid:a.uuid,avatarFilename:a.avatar,accountType:FA.parseAccountType(a.type)},FA.buildPermissionBundle(y,$,T),{mfaInformationPage:h.inactiveTwoFactor,hasVulnerablePassword:!!h.vulnerablePassword,compromisedDomain:h.compromisedDomain,passkeyInformationPage:h.inactivePasskey,checkForCompromisedWebsites:!0,checkForTwoFactorAuthentication:!0,checkForPasskeys:!0,checkForVulnerablePasswords:n,watchtowerAccounts:G,accountUuidForItem:w},o?.unparsedUrl,j,A.data.revealedFieldIds??[],c,f,I,q,K,i,u);if(p.cacheInformation){let nA=aA.elements.find(le=>le.type==="Title")?.content,lA=pH(p.cacheInformation);nA&&lA&&(nA.icon.sources=[{type:"DefaultIcon",content:{file:lA,masked:!1,description:void 0}}]);let qA=aA.header.locationBar.elements.find(le=>le.type==="Vault")?.content,UA=RNA(p.cacheInformation);qA&&UA&&(qA.icon.sources=[{type:"DefaultIcon",content:{file:UA,masked:!1,description:void 0}}])}return aA.mustRecordItemUsage&&t6(t,RA.ItemUsageAction.Reveal),{type:"Success",data:{...aA,itemTitle:t.title,shortcuts:{primaryCopyAction:void 0,secondaryCopyAction:void 0,tertiaryCopyAction:void 0},itemId:zg(t).toString()}}}catch{return console.error("Unable to generate item details"),{type:"UnknownError"}}}async function nJA(A){As();let e=await ca();await ir.openTab({url:A,openerTabId:e?.id})}async function fJA(A){if(A.data.itemId.type!=="databaseId"){console.warn("Unable to perform watchtower actions on non-database items");return}let e=await Ru(A.data.itemId);if(!e.isOk())throw new Error("No matching item");if(A.data.action.type==="changePasswordOnWebsite")return As(),b$(e.value);if(A.data.action.type==="scanQrCode")return bV(e.value);if(A.data.action.type==="openSupportUrl"){let a="https://support.1password.com/"+A.data.action.content;nJA(a);return}if(A.data.action.type==="usePasskey"){nJA(A.data.action.content);return}let t=await FA.handleWatchtowerAction(A.data.action,e.value),r=F$(e.value,t);await un(r)}async function BJA(A){let e=await Ru(A.data.itemId);if(!e.isOk())throw new Error("No matching item");let t=await FA.getLargeTypeWithClientFormattedString(e.value,A.data.clientFormattedString);return t.isConfidential&&t6(e.value,RA.ItemUsageAction.Reveal),t}async function EJA(A){let e=await Ru(A.data.itemId);if(!e.isOk())throw new Error("No matching item");let t=await FA.getLargeTypeWithFieldIdentifier(e.value,A.data.fieldIdentifier);return t.isConfidential&&t6(e.value,RA.ItemUsageAction.Reveal),t}function P0(A){YV=A,Kr("popup-view-state-changed",A)}var xJA="activation-hub-tooltip-seen";async function bJA(){return Ze.getItem(xJA)==="true"}async function yJA(){Ze.setItem(xJA,"true")}async function JV(A,e,t,r){let a=async()=>{if(e){if(e.isErr())return{type:Pj.BiometryType.None};if(eX(e.value.settings),e.value.accountsState.type!=="noAccounts"&&!rA.hasAccountHandlers)return{type:Pj.BiometryType.None};switch(e.value.accountsState.type){case"noAccounts":return{type:Pj.BiometryType.None};case"hasLockedAccounts":return{type:Pj.BiometryType.None};case"onlyHasStandaloneVaults":return{type:Pj.BiometryType.None};case"allAccountsUnlockable":return{type:e.value.biometryType}}}else return r&&rA.hasAccountHandlers?{type:r}:{type:Pj.BiometryType.None}},j=Ax(),n,i=j.find(c=>c.signInProvider.type==="sso");if(i&&i.signInProvider.content){let c,u=i.signInProviderIconUrl;u?c={id:"valid",sources:[{type:"RichIcon",content:{url:u}}]}:c={id:"not-valid",sources:[{type:"DefaultIcon",content:{file:Pj.DefaultIconFile.Identity}}]};let p=i.signInProvider.content;p.toLowerCase()==="microsoft entra id"&&(p="Microsoft"),n={ssoSignInButton:{label:(0,ki.T)("Sign in with {authProvider}",{authProvider:p}),action:{type:"signIn",content:{type:"account",content:{accountUuid:i.uuid,provider:{providerName:i.signInProvider.content,iconUrl:i.signInProviderIconUrl},context:Pj.SignInResponseContext.Unlock}}},icon:c,state:Pj.ButtonState.Enabled,style:Pj.ButtonStyle.TransparentBlue},accountLabel:i.name,accountUuid:i.id}}let o=j.filter(c=>c.signInProvider.type==="webAuthn").map(c=>({accountUuid:c.uuid,accountLabel:c.name,signInButton:{label:(0,ki.T)("Sign in with passkey"),action:{type:"withAccount",content:{accountUuid:c.uuid,context:Pj.SignInResponseContext.Unlock}},icon:{id:"passkey",sources:[{type:"ThemedIcon",content:{file:Pj.ThemedIconFile.Passkey}}]},state:Pj.ButtonState.Enabled,style:Pj.ButtonStyle.TransparentBlue}})),s={accounts:Ax(),biometry:await a(),unlockWithPassword:j.some(c=>c.signInProvider.type==="secretKey"),unlockWithSso:n,unlockWithPasskey:o};if(A.type==="Disconnected"&&A.hasEverConnectedToDesktopApp&&A.invalidBrowserState===0){let c=await ir.getBrowserInfo(),u=c.name===F.browserInfo.Browser.Other?(0,ki.T)("your browser"):c.name;s.message=[{type:"plainText",content:{text:(0,ki.T)("You\u2019re asked to re-enter your password because {browserName} has an update available.",{browserName:u})}}]}return Or()&&Wg().then(async c=>{if(c.isOk()&&await VV(c.value.accounts,{removeExtraAccounts:!0})){let p=Mt.getDesktopAppState();P0(Pa()?{state:"AccountPasswordRequired",details:await JV(p)}:{state:"Unlocked"})}}),t&&(s.message=[{type:"plainText",content:{text:t}}]),s}async function iit(A){let{state:e}=A.detail;!await NkA()||e.type==="Connecting"||ZV({initiatedByUserAction:!1,desktopAppState:e}).then(P0)}async function ZV(A){let e=await oit({...A});return YV=e,e}async function oit({initiatedByUserAction:A,desktopAppState:e=Mt.getDesktopAppState(),lockScreenMessage:t}){let r=Ax();if(e.type==="Connecting")return A&&UXA(),{state:"AttemptingToConnectToDesktopApp",details:{accounts:r}};if(e.type==="Connected"){if(e.lockState==="Syncing")return{state:"SyncingViaDesktopApp",details:{accounts:r}};if(e.lockState==="Unlocking")return{state:"UnlockingViaDesktopApp",details:{accounts:r}};if(rA.allAccountHandlersHasUserSuspended)return{state:"AccountPasswordRequired",details:{...await JV(e),error:!0,message:YkA({type:"SuspendedAccounts"})}};if(e.lockState==="Locked")return A&&(Ug(),cit()),{state:"PendingDesktopUnlock",details:{accounts:r}}}let a=A&&X$("popup",async o=>{o.isOk()?(o.value.numberOfUnlockedAccounts===0&&(Pa()||await Qo(),Ug()),P0({state:"UnlockingViaDesktopApp",details:{accounts:r}})):o.error.type==="NotAttempted"&&console.info("Decided not to attempt reconnection to the desktop app.")}),j=Pa(),n;if(j&&a&&vl())return{state:"AttemptingToConnectToDesktopApp",details:{accounts:r}};let i;if(Or()){if(n=j?await Wg():void 0,j&&n&&n.isOk()){if(n.value.accountsState.type==="noAccounts")return console.info("No accounts found when connecting to the 1Password App"),{state:"NoSavedAccountsInOPI"};if(n.value.accountsState.type==="onlyHasStandaloneVaults")return{state:"OnlyStandaloneVaultsInOPI"};n.value.accountsState.type==="allAccountsUnlockable"&&n.value.biometryType!==Pj.BiometryType.None&&A&&S0(!0)}}else j&&await Rc.isBiometryConfigured()&&(await Rc.isBiometryAvailable()?i=Pj.BiometryType.TouchID:(i=Pj.BiometryType.None,t=(0,ki.T)("Biometry is currently unavailable.")));return Pa&&A&&rA.updateAccountAuthMethods().then(async o=>{if(o){let s=Mt.getDesktopAppState();P0(Pa()?{state:"AccountPasswordRequired",details:await JV(s)}:{state:"Unlocked"})}}),j?{state:"AccountPasswordRequired",details:await JV(e,n,t,i)}:{state:"Unlocked"}}async function vJA(){let A=Re(),e=await ir.getBrowserInfo(),t=WkA;WkA=!1;let r;await Ar.anyAccountHasFlag("b5x-single-pane-popup")?r=A.appWidth:r="double-pane",Or()&&await ZkA();let a=await rA.getFrozenAccountsInfo(),j=a.frozenAccounts,n=a.areAllAccountsFrozen,i=P7();return{checkForRepaintWorkaround:e.osName===F.browserInfo.OperatingSystem.macOS&&jG(),isSafariIos:Or(),isProduction:!0,sendPopupHeartbeat:Or(),connectivityStatus:await Yr.connectivityStatus(),accountUuid:jit,vaultUuid:ait,locale:A.language,initialView:await ZV({initiatedByUserAction:!0}),defaultItemList:await nV()?"suggestions":A.defaultItemList,devToolsEnabled:Vs().isEnabled(),appTheme:A.appTheme,appWidth:r,openedByInlineForUnlock:t,frozenAccounts:j,areAllAccountsFrozen:n,unleashFeatures:i}}async function FJA(A){let{itemUuid:e,action:t,url:r}=A.data,a=await mn(e);if(!a){console.error(`Unable to load item uuid ${e} for fill.`);return}t===Pj.ItemAction.Autofill?await Ng(a,!1,"POPUP"):t===Pj.ItemAction.Go?await sx(a,{url:r}):t===Pj.ItemAction.OpenURL&&await k_(a,{url:r})}async function GJA(A){let{accountUuid:e,vaultUuid:t}=A.data,r=await $t.loadItemCache();return r?r.categoriesForNewPopup(e,t).map(j=>mHA(j,!1)):[]}async function wJA(){chrome.tabs.create({url:chrome.runtime.getURL("/app/app.html#/page/settings")})}async function qJA(A){A7A(A.data.accountUuid)}async function $JA(){await Qo(),globalThis.dispatchEvent(new Event(lx))}async function IJA(){}async function PJA(){chrome.tabs.create({url:"https://support.1password.com/getting-started-browser",active:!0})}async function SJA(A){let{url:e}=A.data;chrome.tabs.create({url:e,active:!0})}async function CJA(A){return rA.findAccountHandlerByUuid(A.data)?.client?.user()?.name}async function OJA(){let A;if(await Rc.isBiometryConfigured()?A=await Rc.promptForBiometricsAndUnlock():A=await S0(!0),A.isOk()){let e=Ax(!0);return e.forEach(async t=>{tj("AppUnlock",{unlock_method:"BIOMETRIC",status:"SUCCESS"},t.uuid)}),{error:!1,accounts:e}}else return{error:!0,message:YkA(A.error)}}async function TJA(A){let{password:e}=A.data,t=await Ve.checkThatDatabaseIsAvailable();try{return await sit(e)}catch{return{error:!0,message:[{type:"plainText",content:{text:t?(0,ki.T)("An unknown error has occurred."):(0,ki.T)("A database error occurred.")}},{type:"plainText",content:{text:" "}},{type:"linkText",content:{text:(0,ki.T)("Report error\u2026"),url:"https://support.1password.com/contact/?s=Get%20help%20with%201Password&b=x"}}]}}}async function _JA(A){let{action:e}=A.data,t=rA.getFirstSsoAccountForKind(e.content),r=()=>({error:!0,message:[{type:"plainText",content:{text:(0,ki.T)("An unknown error has occurred.")}},{type:"plainText",content:{text:" "}},{type:"linkText",content:{text:(0,ki.T)("Report error\u2026"),url:"https://support.1password.com/contact/?s=Get%20help%20with%201Password&b=x"}}]});if(!t)return console.error("no account handler found for SSO account ID"),r();let a=t.serveraccount,j=await t.getDeviceCredentials(),n=Ar.hasPreRegistrationFlag("b5x-sso-unlock");try{let i=await ca();if(n&&j.isOk()){let o=e6(t.serveraccount.signinAddress,t.deviceJson.uuid),s=await he.startOidcAuth(o,{accountUuid:a.uuid,userUuid:a.userUUID,keyId:j.value.deviceKeyId}),c=new URL(s),u=c.searchParams.get("state"),p={accountUuid:a.uuid,b5State:u,clientShortCode:F.ClientShortCode.OnePasswordExtension};c.searchParams.set("state",JSON.stringify(p)),await r_(c.toString()),As()}else{let o=`${a.signinAddress}/signin/?a=${a.userUUID}&auth-only=1`;Rg({url:o,openerTabId:i?.id,ignoreIfDuplicate:{activateExisting:!0,customDuplicateCheck:s=>`${s.url}&auth-only=1`===o}}),As()}tj("AppUnlock",{unlock_method:"SSO",status:"REQUEST"},a.uuid)}catch{return r()}return{error:!1,accounts:Ax(!0)}}async function DJA(A){let{action:e}=A.data;if(e.type==="withAccount"){let t=await Ve.getDatabase().findAccountByUUID(e.content.accountUuid);if(!t)return{error:!0,message:[{type:"plainText",content:{text:(0,ki.T)("Unable to unlock account.")}},{type:"plainText",content:{text:" "}},{type:"linkText",content:{text:(0,ki.T)("Report error\u2026"),url:"https://support.1password.com/contact/?s=Get%20help%20with%201Password&b=x"}}]};let r=await ca(),a=await Rg({url:`${t.signinAddress}/signin/?a=${t.userUUID}&auth-only=1`,openerTabId:r?.id});tj("AppUnlock",{unlock_method:"PASSKEY",status:"REQUEST"},t.uuid),uo.subscribe(Bo,j=>{a.id?chrome.tabs.remove(a.id):console.warn("Webauthn auth tab had no ID; unable to remove after unlock")},{once:!0})}return{error:!1,accounts:Ax(!0)}}function YkA(A){switch(A.type){case"AppCommunicationFailed":return[{type:"plainText",content:{text:(0,ki.T)("Could not connect to the 1Password App. Try unlocking again.")}}];case"FailedToUnlock":return[{type:"plainText",content:{text:(0,ki.T)("That didn't work. Check your password and try again.")}}];case"NoSavedAccounts":return[{type:"plainText",content:{text:(0,ki.T)("No accounts found.")}},{type:"plainText",content:{text:" "}},{type:"linkText",content:{text:(0,ki.T)("Add account\u2026"),url:"https://start.1password.com/signin/?auth-only=1"}}];case"SuspendedAccounts":return[{type:"plainText",content:{text:(0,ki.T)("Your account is suspended. Contact your family organizer or team administrator for more information.")}}]}}async function sit(A){let e=await V$(A);return e.isOk()?{error:!1,accounts:Ax(!0)}:{error:!0,message:YkA(e.error)}}async function zJA(A){let e=A.data.accountUuid;return!!rA.findAccountHandlerByUuid(e)?.client?.user()?.isGuest}async function QV(){return await dUA()}async function MJA(A){let{templateUuid:e}=A.data,[t,r]=rA.defaultSavingLocation();if(!t)throw new Error("Unable to create a new item because all accounts are locked.");if(e===Sl&&!Ud()){Tc(NH());return}As(),QkA(r,A.data.templateUuid)}async function RJA(){let A=await rA.getFrozenAccountsInfo();if(Ud()&&!A.areAllAccountsFrozen)return!0;let[e]=rA.defaultSavingLocation();return!A.frozenAccounts.includes(e.uuid)}async function KJA(A){return FA.parseMarkdown(A.data.markdown)}async function LJA(A){let{data:{value:e,concealed:t}}=A;return hkA(e,t)}async function NJA(A){let{itemId:e,confirmed:t}=A.data;if(!t)Tc({id:"delete-generator-history-item-id",title:(0,ki.T)("Are you sure you want to delete this password?"),text:(0,ki.T)("This entry will be removed immediately."),primaryAction:{id:"delete-action-id",label:(0,ki.T)("Delete"),destructive:!0,action:{type:"DeleteGeneratorHistoryItem",content:e.toString()}},cancelAction:(0,ki.T)("Cancel")});else{let r=await IXA(e);r.isErr()&&(console.error("Unable to delete password history item:",r.error.type),xj({id:"failed-to-delete-password",message:(0,ki.T)("Failed to delete password"),behavior:Pj.ToastBehavior.Ephemeral}))}}async function UJA(A){try{let e=await $t.loadItemCache(),t=JSON.parse(A.data.itemId),r=e?.itemWithLocalId(t);if(!r)throw new Error;let a=await kH(r);return a.isOk()&&a.value||""}catch{return""}}async function HJA(A){(await Xg()).forEach(r=>browser.tabs.sendMessage(r.id,{name:"item-detail-value-drag-start"}));let{dragData:t}=A.data;if(t){let r=await Ru(t.itemId);if(!r.isOk())throw Error("Failed to load item");let a=await FA.fieldValueByIdentifier(r.value,t.action.identifier);if(!a.isOk())throw Error("Failed to get field value by identifier");a.value.mustRecordItemUsage&&t6(r.value,RA.ItemUsageAction.SecureCopy)}}async function VJA(){(await Xg()).forEach(e=>browser.tabs.sendMessage(e.id,{name:"item-detail-value-drag-end"}))}async function XJA(A){let e=await ca();if(typeof e?.id!="number")return console.error("Call to handleShowVirtualCardCreateDialog but tab id was missing"),!0;switch(A.data.provider){case Pj.SuggestedIntegration.Privacy:vp(e.id,{name:"privacy-create-credit-card",data:{}});break;case Pj.SuggestedIntegration.Brex:vp(e.id,{name:"brex-create-credit-card",data:{}});break;default:jr(A.data.provider)}return!0}async function WJA(A){return Wi(),vXA(A.data.request)}async function JJA(A){return Wi(),qXA(A.data)}async function YJA(A){return Wi(),jJA(A.data)}async function ZJA(A){return FA.refreshTotp(A.data.request)}async function QJA(){let A=await pYA();A&&(await Qo({closePopup:!1}),ZV({initiatedByUserAction:!0,lockScreenMessage:lit(A)}).then(P0))}function lit(A){switch(A){case"UnhandledSLSMessage":return(0,ki.T)("Couldn't complete authentication. Update 1Password for desktop and try again.");case"PasswordTimeboxUnavailable":case"DuoAuthenticatorUndefined":return(0,ki.T)("Authentication was interrupted or timed out. Please try again.");default:return jr(A)}}async function Q$(){if(Or()){let A=await ca();await ir.openTab({url:S$(),openerTabId:A?.id})}else await ir.openTab({url:"onepassword://"})}async function NkA(){if($j()){let A=`chrome-extension://${browser.runtime.id}/popup/index.html`;return bXA.matchAll({type:"window"}).then(e=>e.some(({url:t,visibilityState:r})=>t.startsWith(A)&&r==="visible")).catch(()=>!0)}else return browser.extension.getViews({type:"popup"}).length>0}function BV(){return!oj()&&(browser.action?.openPopup!==void 0||browser.browserAction?.openPopup!==void 0)}function mx(){if(browser.action?.openPopup!==void 0){try{browser.action.openPopup()}catch{console.info("The pop-up cannot be programatically opened.")}return}if(browser.browserAction?.openPopup!==void 0){try{browser.browserAction.openPopup()}catch{console.info("The pop-up cannot be programatically opened.")}return}console.info("Opening the popup is not supported in this browser.")}function cit(){let A=setTimeout(()=>{try{uo.unsubscribe(Bo,e)}catch{console.info("Unlock listener was already unsubscribed or was never registered")}},3e4),e=()=>{Eo()?setTimeout(()=>{mx()},500):mx(),clearTimeout(A)};uo.subscribe(Bo,e,{once:!0})}async function AYA(){return kYA()}async function eYA(A){let e=new Map,{data:t}=A,r=rA.getAccountHandlers.filter(a=>a.isUnlocked&&a.hasSignedInClient&&a.canUseTrustedDeviceAuth());return r.length===0?{enrollments:[]}:(e=await LV(r,t),e?{enrollments:Array.from(e.values())}:{enrollments:[]})}async function tYA(A){let e=rA.findAccountHandlerByUuid(A.data.accountUuid);if(!e||!e.hasSignedInClient){tm(void 0),await Ip({type:"failed",accountUuid:A.data.accountUuid,enrollmentUuid:A.data.enrollmentUuid,content:{type:"AccountNotFound"}});return}await NV({accountUuid:A.data.accountUuid,enrollmentUuid:A.data.enrollmentUuid,verificationCode:"",attempts:0},e)}async function rYA(A){if(A.data.type!=="cancel"){console.error(`Invalid type ${A.data.type}, expected "cancel"`,A);return}let{accountUuid:e,enrollmentUuid:t}=A.data.content,r=rA.getAccountHandlers.filter(j=>j.isUnlocked&&j.hasSignedInClient&&j.canUseTrustedDeviceAuth());if(r.length===0){console.error("Failed to find any accounts in scope for trusted device enrollment");return}let a=r.find(j=>j.uuid===e);if(!a){console.error(`Failed to find account ${e} for enrollment ${t}`);return}try{await Z$(t,a)}catch(j){console.error(`Failed to cancelEnrollment for account ${e} and enrollment ${t}:`,j)}}async function aYA(A){return LkA()}async function jYA(A){tm(A.data.activeDeviceEnrollment)}async function nYA(){let A=await GH(),e=IV();return{accounts:A,exclusions:e}}async function iYA(){return JH()}async function oYA(A){return!!rA.getMustMigrateAuthAccount(A.data.accountUuid)}async function sYA(A){return!!rA.getMustMigrateAuthAccount()}async function lYA(A){let e=rA.findAccountHandlerByUuid(A.data.accountUuid);return e&&!e.mustMigrateAuth?e.getActivationHubTasks():{total:0,tasks:[]}}async function cYA(A){let e=rA.findAccountHandlerByUuid(A.data.accountUuid);if(e&&e.isUnlocked)return e.completeActivationHubTaskByName(A.data.taskName)}async function uYA(){let A=chrome.runtime.getURL("");await ir.openTab({url:`${A}inline/tutorial/tutorial.html?close=true`})}async function xVA(A){await Qo({closePopup:!1}),ZV({initiatedByUserAction:!0,lockScreenMessage:A}).then(e=>{P0(e)})}async function dYA(A){let e=rA.findAccountHandlerByUuid(A.data.accountUuid);return e&&e.user&&e.client?.CTX?(await he.getPerson(e.client.CTX,{uuid:e.user.uuid},{attrs:ZA.Person.Attr.Devices,mustReload:!0})).devices:[]}var hYA=AA(Hz()),mit="2.0.0",e7A="firefox-already-disabled-rich-icons",Pp=class A{static currentVersion(){return chrome.runtime.getManifest().version}static onInstalled(e){switch(e.reason){case"install":return A.onExtensionInstall();case"update":return e.previousVersion?A.onExtensionUpdate(e.previousVersion):void 0;case"browser_update":case"chrome_update":return A.onBrowserUpdated()}}static onUpdateCheck(){let e=A.currentVersion();chrome.runtime.requestUpdateCheck(t=>{if(console.info(`1Password (${e}) update status: ${t}`),t!=="update_available")return SHA(e)})}static async onExtensionInstall(){let e=new Date;if(console.info(`1Password ${A.currentVersion()} has been installed on ${e}.`),await Su,!(sa()&&await T7()))return oj()&&(v$("firefox-rich-icon-enable"),Ze.setItem(e7A,"true")),Jg()}static async onExtensionUpdate(e){let t=A.currentVersion();if(console.info(`1Password has been updated to ${t} on ${new Date}.`),e!==t){if(oj()&&Ze.getItem(e7A)!=="true"&&(Ze.setItem(e7A,"true"),Jo({showRichIcons:!1}),zu("firefox-rich-icon-enable")),(0,hYA.lt)(e,mit))return Jo({showChangelogPopupOnInteraction:!0}),Xi();zu("update")}}static onBrowserUpdated(){console.info("\u{1F195} The browser was updated.")}};function t8(){return Pp.currentVersion()}var gYA="notification-history",t7A=[{type:"enable-watchtower-compromised-sites",limit:{type:"ONCE"},onClick:()=>{Jo({showNotifications:!0,watchtowerNotifications:!0})}},{type:"import",limit:{type:"ONCE"},onClick:()=>{tX()}},{type:"update",data:()=>({version:t8()}),onClick:()=>{j7A()}},$NA,{type:"email-preferences",limit:{type:"ONCE"},onClick:()=>{let A=cpA();A&&n7A(A.uuid)}},{type:"autofill-disabled",onClick:()=>{Jo({inlineEnabled:!0})}},{type:"firefox-rich-icon-enable",limit:{type:"ONCE"},onClick:()=>{Jo({showRichIcons:!0})}},{type:"extension-survey-q4-2024",limit:{type:"ONCE"},featureFlag:"b5x-extension-survey-q4-2024",onClick:()=>{ir.openTab({url:"https://op8.agilebits.com/extension-survey-q4-2024"}),As()}}];function spA(A,e){e?zu(A):G0(A)}async function zu(A){let e=t7A.find(t=>t.type===A);if(!e){console.warn("Unable to find notification with type:",A);return}if(!(e.limit?.type==="ONCE"&&S_().has(A))){if(e.expires&&e.expires<new Date){G0(A);return}if(e.featureFlag&&!await Ar.anyAccountHasFlag(e.featureFlag)){G0(A);return}fYA(e),pit(A)}}function fYA(A){let{type:e,data:t}=A;Kr("show-alert",{id:e,data:t?.()})}function BYA(A){let{clicked:e}=A.data,t=t7A.find(i=>i.type===A.data.type);if(!t){console.warn("Unable to find notification with type:",A.data.type);return}let{type:r,onClick:a,onDismiss:j,hideOnClick:n}=t;if(e){if(a(),typeof n=="boolean"&&!n)return;v$(r),r7A(r)}else j?.(),v$(r)}function r7A(A){Kr("hide-alert",A)}function mYA(){let A=S_();for(let e of t7A){if(e.expires&&e.expires<new Date)continue;let t=A.get(e.type);t&&!t.dismissed&&fYA(e)}}function S_(){try{let A=Ze.getItem(gYA);return A?t$(A):new Map}catch{return new Map}}function a7A(A){Ze.setItem(gYA,e$(A))}function pit(A){let e=S_();e.set(A,{lastSeen:new Date().getTime(),dismissed:!1}),a7A(e)}function v$(A){let e=S_(),t=e.get(A);t&&(t.dismissed=!0,a7A(e),r7A(A))}function G0(A){let e=S_(),t=e.get(A);t&&!t.dismissed&&(e.delete(A),a7A(e),r7A(A))}function Tc(A){Kr("show-core-alert",A)}function xj(A){Kr("show-core-toast",A)}function I_(){EYA().then(A=>{Jo({defaultPasswordManager:!0}),A&&(jG()||oj())&&zu("import")})}var C0=AA(Ln());async function pYA(){let A=gVA();if(Ud())try{await Mt.desktopConnectionManager?.requestUpgradeFromOfflineState();return}catch(e){let t=e===xYA.BrowserSupportResponse.UnknownInvocation;if(!A)return console.warn("Could not requestUpgradeFromOfflineState",{activeTimebox:A,ophRequestTypeUnsupported:t}),t?zT.UnhandledSLSMessage:zT.PasswordTimeboxUnavailable}if(!A)return zT.PasswordTimeboxUnavailable;try{await kVA(),oj()&&As()}catch(e){return console.error("[Duo MFA] Could not complete Duo Authentication in browser",e),zT.DuoAuthenticatorUndefined}}async function hs(){Yr.updateConnectivityStatus();let A=hVA(),e={id:"must-upgrade-offline",title:(0,C0.T)("Your account is offline"),accountUuid:A};if(await Yr.connectivityStatus()==="offlineAuthenticationFailed"){Tc({...e,text:(0,C0.T)("You won't be able to save changes until you finish signing in."),primaryAction:{id:"open-mfa-prompt-id",label:(0,C0.T)("Continue Signing In"),destructive:!1,action:{type:"BeginDuoMfa"}},cancelAction:(0,C0.T)("Stay Offline")});return}if(await Yr.connectivityStatus()==="networkOffline"){Tc({...e,text:(0,C0.T)("You won't be able to save changes until you are signed in and online."),primaryAction:{id:"ok",label:(0,C0.T)("Ok"),destructive:!1,action:{type:"Ok"}}});return}}var px=class{constructor(){this.queue=[];this.currentTask=null}push(e){let t,r,a=new Promise((n,i)=>{t=n,r=i});if(!t||!r)return Promise.reject("Unable to process work");let j={work:e,resolve:t,reject:r};return this.queue.push(j),setTimeout(()=>this.process()),a}async process(){if(this.currentTask)return;let e=this.queue.shift();if(e){this.currentTask=e;try{let t=await e.work();e.resolve(t)}catch(t){e.reject(t)}this.currentTask=null,setTimeout(()=>this.process())}}};var bYA;function yYA(){bYA=chrome.runtime.connectNative(""),bYA.onMessage.addListener(kit)}function kit(A){if(i7A(A)){Jg();return}}function i7A(A){return typeof A=="object"&&A.name&&A.name==="openWelcomePage"}var rX=class A{constructor(e,t){this.desktopAppIdentifier=e;this.notificationFn=t;this.callbackHandlers=new Map;this.port=null;this.connect=async()=>{this.port||(console.info(`\u{1F4AB} Looking for desktop app ${this.desktopAppIdentifier}`),this.port=browser.runtime.connectNative(this.desktopAppIdentifier),this.port.onDisconnect.addListener(this.onDisconnect),this.port.onMessage.addListener(this.onMessage))};this.disconnect=()=>{this.port&&(this.port.disconnect(),this.port=null)};this.onDisconnect=e=>{let t;if(oj()){let r="Error: None";e.error&&(r=`${e.error}`),console.info(`Desktop app port disconnected. ${r}`),t=r.indexOf("No such native application")!==-1?"HostNotFound":"PortClosed"}else{let r=chrome.runtime.lastError?.message??"None";console.info(`Desktop app port disconnected. Error: ${r}`),t=r.indexOf("Specified native messaging host not found")!==-1?"HostNotFound":"PortClosed"}this.port=null,this.callbackHandlers.forEach((r,a)=>{r.reject({type:t,content:`Terminating handler <${a}> as native messaging port was closed`}),this.callbackHandlers.delete(a)})};this.onMessage=e=>{let t=this.parseMessage(e);if(t)switch(t.type){case"Success":let r=this.callbackHandlers.get(t.content.callbackId);if(!r)return;console.info(`\u{1F4E5} Received message <${t.content.response.type}> from native core <${t.content.callbackId}>`),r.resolve(t.content.response),this.callbackHandlers.delete(t.content.callbackId);break;case"Failure":case"BrowserSupport":let a=this.callbackHandlers.get(t.content.callbackId);if(!a)return;t.type==="BrowserSupport"?console.info(`\u{1F4E5} Received failure for message <${t.content.response}> from Browser Support <${t.content.callbackId}>`):console.info(`\u{1F4E5} Received failure for message <${t.content.response.type}> from native core <${t.content.callbackId}>`),a?.reject(t.content.response),this.callbackHandlers.delete(t.content.callbackId);break;case"Notification":console.info(`Received <${t.content.type}> from the native core`),this.notificationFn(t.content),(t.content.type==="AppQuit"||t.content.type==="BrowserVerificationFailed")&&this.callbackHandlers.forEach(({reject:j})=>j({type:"PortClosed",content:"Desktop app has closed the connection"}));break}}}invoke(e){if(!this.port)return Promise.reject(`\u{1F4A5} Failed to send <${e.type}> because our port was disconnected.`);let r=A.generateId();return console.info(`\u{1F4E4} Sending <${e.type}> message to native core <${r}>`),Promise.race([new Promise((a,j)=>{this.callbackHandlers.set(r,{resolve:a,reject:j});let n=this.formatMessage({callbackId:r,invocation:e});this.port?.postMessage(n)}),new Promise((a,j)=>setTimeout(()=>{this.callbackHandlers.delete(r)&&console.warn(`\u23F3 Timeout waiting for response to <${e.type}> from native core <${r}>`),j({type:"Timeout",content:`Timeout waiting for response to <${e.type}>`})},1e4))])}static{this.generateId=()=>globalThis.crypto.getRandomValues(new Uint32Array(1))[0]}},o7A=class extends rX{constructor(){super(...arguments);this.parseMessage=t=>t;this.formatMessage=t=>t}},s7A=class extends rX{constructor(){super(...arguments);this.parseMessage=t=>{if(this.isNotification(t))return t.userInfo.message;if(this.isNmhResponse(t))return t;i7A(t)||console.warn("Safari produced an unexpectedly shaped message")};this.formatMessage=t=>({name:"core",data:JSON.stringify({type:this.messageTypeFromRequest(t),data:t})})}messageTypeFromRequest(t){switch(t.invocation.type){default:return"Sls"}}isNotification(t){return typeof t=="object"&&t.name&&t.name==="notification"&&typeof t.userInfo=="object"&&typeof t.userInfo.message=="object"}isNmhResponse(t){return typeof t=="object"&&typeof t.type=="string"&&typeof t.content=="object"}};function vYA(A,e){return Eo()?new s7A(A,e):new o7A(A,e)}var lx="DesktopAppShouldSendLock",wYA=1,git="com.1password.1password",fit="com.1password.1password_debug",Bit="com.1password.1password7",Eit="com.1password.1password7_debug",l7A=class{constructor(e,t){this.messageQueue=new px;this.state={type:"Start"};this.clientCreatedInProgress=!1;this.init=async e=>{uo.subscribe(lx,this.onLock);let t=this.requestAndUnlockAccountsFromApp(!1,e);return this.nextState({type:"Connecting",connectionPromise:t.then(()=>this.state)}),t};this.hasAccounts=async()=>{switch(this.state.type){case"Connected":return this.state.accountUuids.length>0;case"Connecting":let e=await this.state.connectionPromise;if(e.type==="Connected")return e.accountUuids.length>0}return!1};this.requestDsecretHmac=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")throw new Error("Currently disconnected from Desktop app");return this.invoke({type:"NmRequestDSecretProxy",content:e})};this.requestDelegatedSession=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")throw new Error("Currently disconnected from Desktop app");return this._invokeWithoutDisconnect({type:"NmRequestDelegatedSession",content:e})};this.requestUpgradeFromOfflineState=async()=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")throw new Error("Currently disconnected from Desktop app");return this._invokeWithoutDisconnect({type:"NmRequestUpgradeOffline",content:void 0})};this.showUnlock=async()=>{if(!(this.state.type!=="Connected"&&this.state.type!=="Connecting"))return this.invoke({type:"NmShowUnlock",content:void 0})};this.showUnlockAccount=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")return!1;try{return await this._invokeWithoutDisconnect({type:"NmShowUnlockAccount",content:e}),!0}catch{return!1}};this.showDesktopSettingsPage=async e=>{if(!(this.state.type!=="Connected"&&this.state.type!=="Connecting"))return this.invoke({type:"NmShowDesktopSettingsPage",content:e})};this.editItem=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")return!1;try{return await this._invokeWithoutDisconnect({type:"NmEditItem",content:e}),!0}catch{return!1}};this.viewItem=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")return!1;try{return await this._invokeWithoutDisconnect({type:"NmViewItem",content:e}),!0}catch{return!1}};this.createItem=async e=>{if(this.state.type!=="Connected"&&this.state.type!=="Connecting")return!1;try{return await this._invokeWithoutDisconnect({type:"NmCreateItem",content:e}),!0}catch{return!1}};this.lockState=async()=>{if(this.state.type!=="Connected")return{lockState:O0.LockState.Locked};try{return await this.invoke({type:"NmLockState",content:void 0},!1)}catch{return{lockState:O0.LockState.Locked}}};this.offlineStatus=async()=>{if(this.state.type!=="Connected")return{authFailed:!0};try{return await this._invokeWithoutDisconnect({type:"NmOfflineStatus",content:void 0})}catch{throw new Error("Unable to check offline status")}};this.shouldPromptToAddAccount=async e=>{if(this.state.type!=="Connected")throw new Error("Unable to check about accounts when Desktop app is not connected");return this.invoke({type:"NmShouldPromptToAddAccount",content:e})};this.promptDesktopAppToSignIn=async e=>{if(this.state.type!=="Connected")throw new Error("Unable to prompt Desktop app when not connected");return this.invoke({type:"NmPromptToAddAccount",content:e})};this.sendCollectedPageDetails=async e=>{if(this.state.type!=="Connected")throw new Error("Unable to prompt Desktop app when not connected");return this._invokeWithoutDisconnect({type:"NmCollectedPageDetails",content:{collectedPageDetails:e}})};this.handleDesktopAppNotification=async e=>{switch(e.type){case"LockStateChanged":switch(e.content){case O0.LockState.Locked:await Qo(),this.nextState({type:"Locked"});break;case O0.LockState.Unlocked:this.requestAndUnlockAccountsFromApp();break}break;case"Offline":Yr.updateConnectivityStatus(!0);break;case"RequestingMfa":Yr.updateConnectivityStatus(!0),hs();break;case"ClientCreated":if(this.clientCreatedInProgress)return;this.clientCreatedInProgress=!0;try{await IYA()}finally{this.clientCreatedInProgress=!1}Yr.updateConnectivityStatus();break;case"SsoMigrationStarted":await Qo(),this.nextState({type:"Locked"});break;case"SsoMigrationCompleted":this.requestAndUnlockAccountsFromApp();break;case"CloseTab":C_(e.content.url);break;case"AppQuit":this.nextState({type:"Disconnected",reason:8});break;case"BrowserVerificationFailed":this.nextState({type:"Disconnected",reason:e.content===O0.BrowserVerificationFailedReason.UnknownBrowser?5:4});break;case"AccountRemoved":rA.removeAccount(e.content.accountUuid);break;case"FillShortcutActivated":let t=await ca();if(!t){console.warn("Cannot fill: Failed to resolve information on active tab");return}$YA(t);break;case"CollectActivePageDetails":try{let a=await ca();if(!a)throw new Error("Cannot collect page details: Failed to resolve information on active tab");let j=await dn(a);this.sendCollectedPageDetails(j)}catch{console.warn("Unable to send active page details back to the desktop app")}break;case"BrowserHelperNotRegistered":this.nextState({type:"Disconnected",reason:2});break;case"FillItem":try{if(!await m7A()){console.info("We were asked to fill an item but we aren't the active browser");return}}catch{return}let r=!1;try{let a=await mn(e.content.itemUuid);if(!a)throw new Error(`Unable to load item uuid ${e.content.itemUuid} for fill.`);await Ng(a,!1,"KEYBOARD_SHORTCUT"),r=!0}finally{this._invokeWithoutDisconnect({type:"NmAcknowledgeFillItem",content:{success:r}})}break}};this.requestAccountsFromApp=async(e=!0,t=!1)=>{let r=(await this.invoke({type:"NmRequestAccounts",content:{version:wYA,userRequested:t,supportsDelegation:!0}},e)).accounts;return r.forEach(xit),r};this.requestAndUnlockAccountsFromApp=async(e=!0,t=!1)=>{try{let r;try{r=await this.requestAccountsFromApp(e,t)}catch(c){throw console.error("Failed to request accounts in requestAndUnlockAccountsFromApp:",c),c}let a=r.every(c=>c.type==="Locked"),j=r.map(c=>c.type==="Locked"?c.content.accountUuid:c.content.details.accountUuid);try{this.nextState({type:"AddingAccounts",accountUuids:j,unlockingUuids:j.filter(c=>!rA.hasAccountHandler(c))})}catch(c){throw console.error("Failed to perform AddingAccounts state transition:",c),c}let{numberOfUnlockedAccounts:n}=await XV(r,{removeExtraAccounts:!1}),i=rA.signedInAccounts.length;a&&(Qo(),i=0);try{this.nextState({type:"FinishedAddingAccounts",numberOfUnlockedAccounts:i})}catch(c){throw console.error("Failed to perform FinishedAddingAccounts transition"),c}let o=r.filter(c=>c.type==="Unlocked").length,s=r.filter(c=>c.type==="Locked").length;return console.info(`We successfully unlocked ${n} account(s) from a Desktop app with ${o} unlocked and ${s} locked account(s).`),!0}catch{return console.info("When requesting accounts we ran into a problem"),!1}};this.onLock=async()=>{if(this.state.type==="Connected")try{await this.invoke({type:"Lock",content:void 0},!1)}catch{}};this.desktopAppMessenger=vYA(e,this.handleDesktopAppNotification),this.isOp7=e.includes("1password7"),this.desktopAppMessenger.connect(),this.stateCallback=t}nextState(e){switch(e.type){case"Connecting":if(this.state.type==="Start"||this.state.type==="Disconnected")return this.updateState({type:"Connecting",connectionPromise:e.connectionPromise});break;case"AddingAccounts":if(this.state.type==="Connecting"||this.state.type==="Connected"||this.state.type==="Reconnecting"){Ze.setItem("sls_app_connected","true");let j="Unlocking";return this.state.type==="Connected"&&this.state.lockState==="Unlocked"?j="Unlocked":e.unlockingUuids.length>0&&(j="Syncing"),this.updateState({type:"Connected",accountUuids:e.accountUuids,lockState:j})}break;case"FinishedAddingAccounts":if(this.state.type==="Connected")return this.updateState({type:"Connected",accountUuids:this.state.accountUuids,lockState:this.state.lockState==="Unlocked"||e.numberOfUnlockedAccounts>0?"Unlocked":"Locked"});break;case"Locked":if(this.state.type==="Connected"||this.state.type==="Reconnecting")return this.updateState({type:"Connected",accountUuids:this.state.accountUuids,lockState:"Locked"});break;case"Timeout":if(this.state.type==="Connecting")return this.reconnect();if(this.state.type==="Connected"||this.state.type==="Reconnecting")return this.state.type!=="Reconnecting"||this.state.attempts<2?this.reconnect():(this.desktopAppMessenger.disconnect(),this.updateState({type:"Disconnected",latestReason:3,browserSignatureInvalid:!1,browserIsUnknown:!1,hasEverConnectedToDesktopApp:vl()}));break;case"ReattemptConnection":if(this.state.type==="Disconnected")return this.updateState({type:"Connecting",connectionPromise:e.connectionPromise});break;case"Disconnected":let t=e.reason??0,r=e.reason===4,a=e.reason===5;if(this.state.type==="Start"&&(e.reason===8||e.reason===4||e.reason===5||e.reason===7)){this.desktopAppMessenger.disconnect(),this.state={type:"Disconnected",latestReason:t,browserSignatureInvalid:r,browserIsUnknown:a,hasEverConnectedToDesktopApp:vl()};return}if(this.state.type==="Disconnected")return this.desktopAppMessenger.disconnect(),this.updateState({type:"Disconnected",latestReason:t,browserSignatureInvalid:this.state.browserSignatureInvalid||r,browserIsUnknown:this.state.browserIsUnknown||a,hasEverConnectedToDesktopApp:vl()});if(this.state.type==="Connecting"||this.state.type==="Connected"||this.state.type==="Reconnecting")return e.shouldAttemptReconnect!==!1&&t===1&&(this.state.type!=="Reconnecting"||this.state.attempts<2)?this.reconnect():(this.desktopAppMessenger.disconnect(),this.updateState({type:"Disconnected",latestReason:t,browserSignatureInvalid:r,browserIsUnknown:a,hasEverConnectedToDesktopApp:vl()}));break}throw this.desktopAppMessenger.disconnect(),new Error(`Invalid State Request to <${e.type}> while in state <${this.state.type}>`)}updateState(e){this.state=e,this.stateCallback(this,e)}async invoke(e,t=!0){return this.messageQueue.push(async()=>{try{return(await this.desktopAppMessenger.invoke(e)).content}catch(r){if(vit(r)&&r?.type==="Timeout"&&t)this.nextState({type:"Timeout"});else{let a=c7A(r);this.nextState({type:"Disconnected",reason:a,shouldAttemptReconnect:t})}throw r}})}async _invokeWithoutDisconnect(e){return this.messageQueue.push(async()=>{try{return(await this.desktopAppMessenger.invoke(e)).content}catch(t){throw t}})}reconnect(){let e=this.state.type==="Reconnecting"?this.state.attempts+1:0,t=this.state.type==="Connected"?this.state.accountUuids:[];return this.updateState({type:"Reconnecting",accountUuids:t,attempts:e,connectionPromise:new Promise(r=>{setTimeout(async()=>{try{this.desktopAppMessenger.connect(),await this.invoke({type:"NmLockState",content:void 0})}catch{}r(this.state)},2500)})})}disconnect(){this.nextState({type:"Disconnected",reason:6,shouldAttemptReconnect:!1})}disconnectWith(e){this.state={type:"Disconnected",latestReason:e,browserIsUnknown:e===5,browserSignatureInvalid:e===4,hasEverConnectedToDesktopApp:vl()}}async resetConnection(){this.state={type:"Start"},await this.desktopAppMessenger.connect()}};async function qYA(A,e=!1){let r=(await ir.getBrowserInfo()).osName===F.browserInfo.OperatingSystem.Linux,{slsChannel:a}=Re(),j=await FYA(bit(a),e,r?2:1,A);return j.isOk()||j.error.invalidBrowserState!==2||j.error.latestReason===7?j:!r&&!Eo()?await FYA(yit(a),e,1,A):j}function c7A(A){return A.reason==="ExtensionSupportDisabled"||A?.type==="ExtensionSupportDisabled"?6:A?.type==="PortClosed"?1:A?.type==="HostNotFound"?2:A==="MainAppNotRunning"?7:0}async function FYA(A,e,t,r){let a=new l7A(A,r),j;for(let o=0;o<t;o++)try{await a.resetConnection();let{accounts:s}=(await a.desktopAppMessenger.invoke({type:"NmRequestAccounts",content:{version:wYA,userRequested:e,supportsDelegation:!0}})).content;return vt({desktopApp:a,numberOfUnlockedAccounts:s.filter(c=>c.type==="Unlocked").length})}catch(s){if(j=s,c7A(j)===6){a.desktopAppMessenger.disconnect();break}else a.desktopAppMessenger.disconnect()}let n=a.state,i=c7A(j);return n.type!=="Disconnected"&&i===7&&a.disconnectWith(i),n.type!=="Disconnected"&&i===6?Pe({type:"Disabled",invalidBrowserState:3,latestReason:i,hasEverConnectedToDesktopApp:vl()}):Pe({type:"Disconnected",invalidBrowserState:n.type==="Disconnected"?d7A(n):2,latestReason:i,hasEverConnectedToDesktopApp:vl()})}function d7A(A){if(A.type!=="Disconnected")return 2;let{latestReason:e,browserSignatureInvalid:t,browserIsUnknown:r}=A;return e===6?2:t||r&&vl()?0:r?1:2}function Qd(A){if(!A.alg)throw new Error("Missing `alg` from Muk");if(!A.ext)throw new Error("Missing `ext` from Muk");if(!A.k)throw new Error("Missing `k` from Muk");if(!A.kid)throw new Error("Missing `kid` from Muk");return{alg:A.alg,ext:A.ext,k:A.k,key_ops:["encrypt","decrypt"],kid:A.kid,kty:"oct"}}function xit(A){A.type==="Locked"?A.content.signInAddress=GYA(A.content.signInAddress):A.content.details.signInAddress=GYA(A.content.details.signInAddress)}function GYA(A){return A.endsWith("/")?A.slice(0,A.length-1):A}function vl(){return Ze.getItem("sls_app_connected")==="true"}function bit(A){return A==="production"?git:fit}function yit(A){return A==="production"?Bit:Eit}async function $YA(A){try{if(Pa()){let j=Date.now(),n=async()=>{let i=Date.now(),o=await ca();A.id===o?.id&&A.unparsedUrl===o?.unparsedUrl&&i-j<6e4?$YA(A):console.warn("Tab changed or timeout exceeded after fill shortcut activated.")};uo.subscribe(Bo,n,{once:!0});return}let e=await $t.loadItemCache();if(!e)throw new Error("The item cache was not initialized during fill from desktop app");let t=Qt.loginsAndPasswords,r=Qt.userSelected(Ej(),void 0,void 0,e),a=await e.itemsForTab(A,j=>r(j)&&t(j),wi.suggestedSort(A));if(a.length===1){let j=await Oo(a[0]);if(!j)throw new Error("Could not decrypt item during fill from desktop app");Ng(j,!0,"KEYBOARD_SHORTCUT",{postFill:{type:"focusLastFilledField"}})}else p7A(A)}catch{console.warn("Unable to handle fill shortcut event from the desktop app")}}function vit(A){return!!(A&&typeof A=="object"&&"type"in A&&"content"in A)}var r8=(A,e)=>t=>e?t.serveraccount.uuid===A&&t.serveraccount.userUUID===e:t.serveraccount.uuid===A,PYA=(A,e)=>t=>e?t.serveraccount.uuid!==A&&t.serveraccount.userUUID!==e:t.serveraccount.uuid!==A;async function WV(A,e){let t=await Ii(),r=Qd(e.muk),a;if(!e.srpX||!e.secretKey?a=await e8(e):a=await Wd({credentials:{accountIdentifier:{accountUUID:e.details.accountUuid,userUUID:e.details.userUuid,server:e.details.server},uuid:e.details.userUuid,email:e.details.email,muk:r,secretKey:e.secretKey,signinAddress:e.details.signInAddress,srpX:e.srpX},device:t,additionalSignInOptions:{allowReauthorization:!0}}).finally(()=>Yr.updateConnectivityStatus()),!a.CTX)return Promise.reject("Missing context on the client.");A.setClient(a)}async function IYA(){let A=new Xa("\u{1F501} reInitializeAllUnlockedAccountHandlerClients"),e=Mt.desktopConnectionManager?.getDesktopApp();if(!e||Mt.getDesktopAppState().type!=="Connected"){A.info("The user is not connected to the desktop app.");return}if(!rA.hasAccountHandlers||rA.allAccountHandlersAreLocked){A.info("No accountHandlers, or all handlers are locked");return}let t=n=>n.isLocked?!1:n.client?n.client.invalid||!n.client.isSignedIn:!0,r=rA.getAccountHandlers.filter(n=>t(n));if(!r.length)return;let a;try{a=await e.requestAccountsFromApp()}catch(n){throw A.error("Failed to request accounts from desktop app."),n}if(!a?.length){A.info("No accounts were found from the desktop app.");return}let j=[];for(let n of r){let i=a.find(o=>o.type==="Unlocked"&&o.content.details.accountUuid===n.uuid);if(!i){A.info(`The unlocked account ${n.uuid} was not found.`);continue}if(i.type==="Locked"){A.info(`Ignoring unexpectedly locked account ${n.uuid}.`);continue}j.push(WV(n,i.content).catch(()=>{A.error(`Unable to upgrade account handler client from NmAccount for ${n.uuid}`)}))}A.info(`Attempting to reinitialize ${j.length} clients.`),await Promise.all(j)}async function QWA(A){let e=new Xa(`\u{1F501} Reinitialize client for ${A}`),t=Mt.desktopConnectionManager?.getDesktopApp();if(!(t&&Mt.getDesktopAppState().type==="Connected")){e.info("The user is not connected to the desktop app.");return}let r=rA.findAccountHandlerByUuid(A);if(!r){e.info("We could not find the account handler.");return}if(r.isLocked){e.info("The account handler is locked.");return}let a;try{a=await t.requestAccountsFromApp()}catch(n){throw e.error("Failed to request accounts from desktop app."),n}if(!a?.length){e.info("No accounts were found from the desktop app.");return}let j=a.find(n=>n.type==="Unlocked"&&n.content.details.accountUuid===A)?.content;if(!j){e.info(`The unlocked account ${A} was not found.`);return}e.info("Attempting to reinitialize the client.");try{await WV(r,j)}catch{e.error("Unable to upgrade the account handler client from NmAccount")}}async function JWA(A){Kr("frozen-accounts-changed",{frozenAccountsInfo:A}),await k7A(A)}async function aJA(A,e){let t=A.serveraccount.email===e.details.email,r=A.serveraccount.secretKey===e.secretKey,a=A.serveraccount.signinAddress===e.details.signInAddress,j=t&&r&&a,n=typeof e.details.userVersion!="number"||A.serveraccount.userVersion>=e.details.userVersion;if(!j&&!n){console.info(`Sign in details did not match, stayed the same: (email: ${t}, secret key: ${r}, sign in address: ${a})...`);let i={secretKey:e.secretKey,signinAddress:e.details.signInAddress,email:e.details.email,userVersion:e.details.userVersion};await rA.updateAccount(A.serveraccount.uuid,i)}}function Tu(A,e){let t=rA.findAccountHandlerByUuid(A);t&&t.reportUsoAction(e)}async function Dc(A){let e=async a=>(await Ve.getDatabase().getAllTemplates()).find(n=>n.uuid===a);if(rA.allAccountHandlersAreLocked){let a=await e(A);return a?yE(a):void 0}let t=await $t.loadItemCache();if(!t)throw new Error("Error loading item cache");let r=t.templateWithUUID(A);if(!r)throw new Error("Error loading item template");return r}async function kYA(){let A;for(let e of rA.getAccountHandlers)if(!e.isLocked){for(let t of e.vaults)if(t.localId){let r=await e.getVaultItems(t.localId);A?A+=r.length:A=r.length}}return A}function Oo(A){if(!A||!A.vault||!$t.itemCache)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("LoadItemDetailsError"),message:F.logsafe.assertLogSafe("Unable to load item.")});let e=$t.itemCache.accountForVaultID(Un(A.vault));if(!e)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("LoadItemDetailsError"),message:F.logsafe.assertLogSafe("Unable to find account for vault")});let t=rA.getAccountHandlers.find(r8(e.uuid));if(!t)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("LoadItemDetailsError"),message:F.logsafe.assertLogSafe("Unable to find handler for account")});return t.getItem(m0(A))}async function mn(A,e){if(!A)return null;let r=(await $t.loadItemCache())?.itemWithUUID(A,e);return r?Oo(r):null}async function Ru(A){if(typeof A!="object"||A.type!=="databaseId"&&A.type!=="cachedItem")return Pe(new Error("Id must be shaped like a LocalId"));let t=(await $t.loadItemCache())?.itemWithLocalId(A);if(!t)return Pe(new Error("No item found with matching ID"));let r=await Oo(t);return r?vt(r):Pe(new Error("No item details found with matching ID"))}async function FXA(A,e){let t=await mn(A);if(!t)return;let r=t.faveIndex!==0,a=typeof e=="boolean"?e:!r;return t.faveIndex=a?1:0,un(t,!1)}function t6(A,e){let t=rA.findAccountHandlerByVault(A.vault);if(!t){console.error(`Failed to record item usage for vault <${A.vault.uuid}> with missing account handler`);return}t.markItemUsed(A,e)}async function GXA(A){let e=await mn(A);if(!e)throw new Error(`Unable to load item: <${A}>`);let t=rA.findAccountHandlerByVault(e.vault);if(!t)throw new Error(`Unable to find account for vault: <${e.vault.uuid}>`);return e.state=GA.ItemState.Archived,t.saveItem(e)}async function yV(A){let e=await mn(A);if(!e)throw new Error(`Unable to load item: <${A}>`);let t=rA.findAccountHandlerByVault(e.vault);if(!t)throw new Error(`Unable to find account for vault: <${e.vault.uuid}>`);return e.state=GA.ItemState.Deleted,t.saveItem(e)}function SYA(A,e,t){let r=rA.findAccountHandlerByUuid(A);if(!r)throw new Error(`Attempted to create item for non-existent account: <${A}>`);let a=r.findVaultWithUUIDAndCreatePermission(e);if(!a)throw new Error(`Attempted to create item for non-existent vault <${e}> in account <${A}>`);let j=new GA(a);return j.templateUuid=t,j.vault=a,j}async function OYA(A,e){try{let t=_YA(e);t&&TYA(t,A)}catch(t){ra(t)?console.error("Unable to parse open and fill details:",t):console.error("Unable to parse open and fill details")}}async function TYA(A,e){if(rA.allAccountHandlersAreLocked){console.warn("Asked to open and fill but nobody's unlocked");return}let t=A.itemUuid;if(A.uuidIsEncrypted){let n=Date.now(),i=await Fit(t,n);if(i)t=i,wit();else{console.error(`Unable to decrypt item uuid ${A.itemUuid} for open and fill.`);return}}let r=await mn(t);if(!r){console.error(`Unable to load item uuid ${t} for open and fill.`);return}let a=r.overview.URLs&&r.overview.URLs.length>0;if(!(r.overview.url||a)){console.error(`Item uuid ${t} is not eligible for open and fill.`);return}await sx(r,{url:A.url,tabId:e})}function _YA(A){try{let e=new URL(A),t=CYA(e,0),r=!0;return!t&&!qit()&&(t=CYA(e,1),r=!1),t?{itemUuid:t,uuidIsEncrypted:r,url:e.href}:void 0}catch{return}}function CYA(A,e){let a=e===0?72:26,[,j]=Array.from(A.searchParams.entries()).find(([n,i])=>typeof n=="string"&&n.length===26&&typeof i=="string"&&i.length===a)??[];return j}async function Fit(A,e){let t=Je(A),r=rA.getAccountHandlers.filter(j=>j.isUnlocked),a;for(let j of r){let n=j.masterKey;if(!n||!(n instanceof Ta))continue;let i=await No.UrlAutofillParentKey.fromAuk(n),o=await i.deriveSessionKey(e);try{a=await o.decrypt(t),a||(o=await i.deriveSessionKey(e-10*1e3),a=await o.decrypt(t))}catch(s){""+s;continue}if(a)break}return a}var Git="b5x-encrypted-uuid-autofill-ratchet";function wit(){Ze.setItem(Git,"Y")}function qit(){return!1}async function gXA(){let A=await ca();if(!A){console.info("Failed to get active tab when checking for an open and fill tab");return}if(!A.unparsedUrl||!A.id)return;let e=_YA(A.unparsedUrl);e&&await TYA(e,A.id)}async function DYA(A,e){let t=e??A.overview.url;if(!t)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("CreateOpenAndFillTabError"),message:F.logsafe.assertLogSafe("Item does not have a URL.")});let r=await ca();return new Promise(a=>{chrome.tabs.create({url:Rd(t)},j=>{h7A(r?.unparsedUrl)&&r?.id&&chrome.tabs.remove(r.id),a(j)})})}async function MYA(A){try{let e=await $it(A);if(e&&e.compromisedDomain)return!0}catch(e){console.error("Error during breach check:",e)}return!1}async function $it(A){let{newHibpEnabled:e}=Re(),t=await Oo(A);if(!t)throw new Error("Failed to find decrypted item.");let r=A.vault,a=await $t.loadItemCache();if(!a)return;let j=Un(r),n=a.accountForVaultID(j);if(!n)throw new Error("failed to find an account or vault overview");return await he.generateWatchtowerReportForItem(t,e,!!n.hasFeature.itemsInWrongAccountPolicy,dr.getAllowedWatchtowerDomains(n))}var Iit=3e3,RYA={async handleWatchtowerBreach(A,e){let t=await $t.loadItemCache();if(!t)return;let r=t.itemWithUUID(e);if(!r)return null;if(!await MYA(r)||!r.localId)return;let j=Re(),{showRichIcons:n}=j,i=await Pu(r,120,n),o={title:r.title,ainfo:r.overview.ainfo,icon:i.sources,itemId:r.localId},s=await xp(A.id,{type:"watchtowerBreachDetected"});return(await _c().getPort(TA.assertLogSafe("watchtower-breach"),A.id,Iit,{reqId:s})).postMessage({type:"watchtower-breach-notification-data",data:o}),s}};var Pit=6,O_,Sit=()=>O_,KYA=async A=>{let e=Sit();if(!e||e.tabId!==A.id||rA.allAccountHandlersAreLocked)return;let t={...e};if(t.remainingCount>0){let r=await v7(A.id);if(!t.notificationId&&!r)try{t.notificationId=await RYA.handleWatchtowerBreach(A,t.itemUuid)||void 0}catch(a){console.error("Error in watchtowerNotificationHandler.handleWatchtowerBreach:",a)}else t.notificationId&&t.notificationId.str!==r?.str&&(t.notificationId=void 0);if(!t.notificationId){O_=t;return}t.remainingCount-=1}else t.notificationId&&WE(A.id,t.notificationId),Cit();O_=t},LYA=async(A,e)=>{O_={tabId:A.id,notificationId:void 0,remainingCount:Pit,itemUuid:e}},Cit=()=>{O_=void 0},NYA=async A=>{let e=await xl(A);e&&KYA(e)},UYA=async A=>{KYA(A)};var aX,VYA="uuid",Tit=[qj,g5,f5,h5];async function E_(A){let{fillSessionUuid:e,usoContext:t}=await FA.usoBrowserEvent(A);return e&&f7A(e),t}async function XYA(){aX=fa.getItem(VYA)}async function WYA(A,e){f7A(await FA.startFillSession(A,e))}async function Ng(A,e,t,r){let a=await ca();if(!a)throw new Error("Unable to find active tab");return j8(a,A,e,t,r)}async function j8(A,e,t,r,a){return JYA(A,e,t,!1,r,a)}async function sx(A,e,t){let r=e?.tabId;typeof r!="number"&&({id:r}=await DYA(A,e?.url));let a=e?.url??A.url,j=G$(r,a);return JYA(j,A,!1,!0,"OPEN_AND_FILL",t)}async function JYA(A,e,t,r,a,j){if(await aWA(e,A,a,r))return;if(typeof A.id=="number"&&await ZYA(A,e))return Promise.resolve();(!j||!j.preserveSession&&!j.designationFilter)&&f7A(await FA.startFillSession(e,A));let n=Dit(A,e,t,{...j,postFill:j?.postFill??{type:"contextual",content:{autosubmitEnabled:await _it(e)}}}).then(async i=>{let o=await Lit(e),s=Kit(i);e.overview.b5AccountUUID&&Ar.accountHasFlag(e.overview.b5AccountUUID,"b5x-watchtower-breach-notification")&&await LYA(A,e.uuid),a&&e.templateUuid&&e.overview.b5AccountUUID&&tj("ItemAutofill",{template_uuid:HYA.TelemetryString.assertSafeForTelemetry(e.templateUuid),status:"REQUEST",fill_method:a,is_default:o,fields_filled:s},e.overview.b5AccountUUID)});return j?.skipItemUsage||t6(e,RA.ItemUsageAction.Fill),YXA(A,e),n}async function _it(A){let{autoSubmitLogins:e}=Re();return e?A.overview.autosubmit!=="never":!1}function f7A(A){aX=A,fa.setItem(VYA,A)}async function Dit(A,e,t,r){let a=await dn(A),j;if(r?.designationFilter)j={response:await FA.fillItem(e,a,r),status:a8.FillStatus.None};else{if(typeof aX!="string")return;j=await FA.nextFill(e,a,A,aX,r)}let n=!1,i=()=>{let s=A.URL();return Tit.some(c=>c===e.templateUuid)?j.response.fillPayload.frames.some(c=>c.allowedTargets.type==="Anywhere")&&s&&!$g(s.hostname):!1},o=zit(a,j.response.fillPayload);if(o.isErr()){console.error(`Could not check for authorized protocol for frame ${o.error}`);return}if(o.value.requiresAuthorization){let{authorized:s}=await T0(A,3);if(s)n=!0;else throw new Error("User did not authorize to fill.")}else if(t&&i()){let{authorized:s}=await T0(A,1);if(!s)throw new Error("User did not authorize to fill.")}return r?.postFill?.type==="contextual"&&r?.postFill.content&&j.response.fillPayload.frames.some(s=>s.postFill?.action===a8.Action.Submit)&&vNA(A),chrome.tabs.sendMessage(A.id,{name:"perform-fill",data:{payload:j,authorizedUnsafeHttp:n}}),j}function zit(A,e){for(let t of e.frames){let r=A.frames.find(j=>j.uuid===t.uuid);if(!r)return Pe(t?.uuid);if(!r.origin||r.origin.type==="appId")continue;let a=!1;try{if(r.origin?.type==="url")a=new URL(r.origin.content.origin).protocol==="https:";else continue}catch{continue}if(!(a||t.allowUnsafeHttp))return vt({requiresAuthorization:!0})}return vt({requiresAuthorization:!1})}async function QT(A,e,t,r,a){let j=await FA.fill(t,e,a);chrome.tabs.sendMessage(A.id,{name:"perform-fill",data:{payload:j,authorizedUnsafeHttp:r}})}async function T_(A,e){let t=await dn(A);await QT(A,t,{fillTargets:[{type:"Url",data:A.unparsedUrl}],fields:[{designation:a8.AutofillType.Username,value:e,label:"email address",htmlId:"",htmlName:"",fieldTypes:[],checked:!1,restricted:!1}]},!1,{postFill:{type:"focusNextField"}});let r=await FA.shouldPromptToSave(t);return r.shouldPrompt&&await Vi(A,$r,{name:"collected-page-details",data:{collectedPageDetails:t}}),r.shouldPrompt}var Mit=["ssh-key-title","ssh-key","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","one-time-code","organization","street-address","address-line1","address-line2","address-line3","address-level1","address-level2","address-level3","address-level4","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp","crypto-address","crypto-recovery-seed","recovery-code"];function Rit(A){return Mit.includes(A)}function Kit(A){if(!A)return[];let e=[];return A.response.fillPayload.filledDesignations.forEach(t=>{Rit(t)&&e.push(t)}),e}async function Lit(A){let e=await rA.getPersonItemsForAccounts();return c$(A,e)}async function YYA(A){let e=await Ru(A.data.itemId);if(!e.isOk())throw new Error("No matching item");return b$(e.value)}var __;function QYA(){__=new Set}async function AZA(A,e){let t=await Uit(A);return e&&e(t),t}async function Nit(A){let e=await FA.fillSessionStatus(A);if(e.status!=="inProgress"||!e.itemUuid)return;let t=await mn(e.itemUuid),r=await A.nakedDomain();if(!(!t||!t.urlToNakedDomains||!Object.values(t.urlToNakedDomains).includes(r)))return await FA.clearFillSession(),{username:t.username?.value??"",password:t.getPassword()??""}}async function Uit(A){let e=rUA(A),t=await Nit(e);return t?(__.delete(e.id),{authCredentials:t}):(__.add(e.id),{})}async function ZYA(A,e){return __.has(A.id)?(await WYA(e,A),chrome.tabs.reload(A.id),!0):!1}function eZA(A){__.delete(A)}var jZA=AA(tZA()),nZA=AA(y0());var x7A=AA(Ln());if(chrome.tabs.onActivated.addListener(Yit),chrome.tabs.onUpdated.addListener(Aot),chrome.tabs.onRemoved.addListener(Zit),chrome.webNavigation.onDOMContentLoaded.addListener(eot),chrome.webNavigation.onBeforeNavigate.addListener(Qit),!sa()){let A=oj()?"blocking":"asyncBlocking";browser.webRequest.onAuthRequired.addListener(AZA,{urls:["<all_urls>"]},[A])}function ca(){let A=new Promise(e=>{browser.tabs.query({active:!0,currentWindow:!0}).then(t=>{if(t===void 0||t.length===0){e(void 0);return}let r=t[0],a=Tg(r);e(a)})});return Or()?Kn.withTimeout(A,500,"tab-manager:activeTab"):A}function Xg(){return new Promise(A=>{chrome.tabs.query({active:!0},e=>{A(e.map(Tg).filter(t=>t!==void 0))})})}function xl(A){return new Promise(e=>{chrome.tabs.get(A,t=>{e(Tg(t))})})}function RpA(){return new Promise((A,e)=>{chrome.windows.getCurrent({},t=>{if(chrome.runtime.lastError||!t)return e();A(t)})})}function m7A(){return new Promise((A,e)=>{chrome.windows.getAll({},t=>{if(chrome.runtime.lastError||!t)return e();A(!!t.find(r=>r.focused))})})}function iZA(){return new Promise(A=>{chrome.tabs.captureVisibleTab({quality:100,format:"jpeg"},async e=>{A(e)})})}async function oZA(A){let{imageData:e,width:t,height:r}=await pLA(A);if("BarcodeDetector"in globalThis){let n=await new BarcodeDetector().detect(e);for(let i of n)if(qT(i.rawValue))return i.rawValue}let a=(0,jZA.default)(e.data,t,r);if(a&&a.data&&qT(a.data))return a.data}async function e_(){try{let A=await iZA(),e=await oZA(A);if(e)return vt(e);let t=await ca(),r=await t?.nakedDomain();if(t&&r==="epicgames.com"){let j=await kZA(t,"var _a; (_a = document.querySelector('.manual-key-entry')) === null || _a === void 0 ? void 0 : _a.innerText;",!0);for(let n of j)if(typeof n=="string"&&n.length===52)return vt(n)}return Pe(0)}catch{return Pe(1)}}async function sZA(A,e){$j()?await browser.scripting.insertCSS({origin:"USER",target:{tabId:A,frameIds:[e]},files:["/inline/injected/styles/injected.css"]}):await browser.tabs.insertCSS(A,{file:"/inline/injected/styles/injected.css",cssOrigin:"user",frameId:e})}async function qV(A){let e=A instanceof String?A:JSON.stringify(A,null,"	"),t;if($j())t=`data:application/json;charset=UTF-8,${encodeURIComponent(e)}`;else{let r=new Blob([e],{type:"application/json"});t=URL.createObjectURL(r)}await new Promise(r=>chrome.tabs.create({url:t},r)),sa()||$j()||URL.revokeObjectURL(t)}async function n8(A,e){let t=e instanceof String?e:JSON.stringify(e,null,"	");ir.downloadFile(A,new Blob([t],{type:"application/json"}))}function Hit(){chrome.tabs.create({url:Rd("https://support.1password.com/getting-started-browser")})}async function b7A(A){let e=await ca();if(!e){console.warn("Cannot collect page details: Failed to resolve information on active tab");return}let t=await dn(e,!A.includeValues);switch(A.action){case"open":await qV(t);break;case"download":await n8("collected_page_structure.json",t);break}}async function j7A(){let t=Rd("https://releases.1password.com/b5x/stable/#whats-new");chrome.tabs.create({url:t})}async function y7A(){chrome.tabs.create({url:Rd("https://support.1password.com")})}function O$(A){let e=(t,r)=>{let a=t;if(r){let j=Object.keys(r);a+=`?${j.filter(n=>r[n]!==void 0).map(n=>`${n}=${r[n]}`).join("&")}`}return a};A?chrome.tabs.create({url:e("/app/app.html#/page/settings",{categoryId:A.data.categoryId,highlightRowIds:A.data.highlightRowIds})}):chrome.tabs.create({url:e("/app/app.html#/page/settings")})}function v7A(){let A=chrome.runtime.getURL("/app/app.html#/page/benchmark");chrome.tabs.create({url:A})}async function XE(A){await ir.openTab({url:browser.runtime.getURL(`/app/app.html#/page/error?code=${A}`),ignoreIfDuplicate:!0})}async function F7A(){browser.tabs.create({url:browser.runtime.getURL("/app/app.html#/page/migration"),active:!1})}async function G7A(){let A=await browser.tabs.query({url:browser.runtime.getURL("/app/app.html")});if(A){let e=A.find(t=>t.url?.includes("#/page/migration"));e?.id&&browser.tabs.remove(e.id)}}function w7A(A){let e=chrome.runtime.getURL("/app/app.html")+"#/page/ready";chrome.tabs.update(A.id,{active:!0,url:e})}async function Jg(){let{language:A}=Re(),e=chrome.runtime.getURL("/app/app.html");if(!await M_(!0)&&!(Ze.getItem("seenWelcomePage")&&rA.hasAccountHandlers))return new Promise(t=>{chrome.tabs.query({url:e},async r=>{let a=r.find(j=>j.url?.includes("#/page/welcome"));if(Ze.setItem("seenWelcomePage","true"),!a||a.id===void 0){await ir.openTab({url:`${e}#/page/welcome?${new URLSearchParams({language:A}).toString()}`});return}chrome.tabs.update(a.id,{active:!0},j=>{!j||j.id===void 0||chrome.tabs.reload(j.id,{},()=>{t()})})})})}function q7A(A){let{language:e}=Re(),t=chrome.runtime.getURL("/app/app.html");return new Promise(async r=>{let a=await O7A(await kx()),j=A.data.accountType??"F",n=A.data.owner??!0,i=A.data.accountUuid?A.data.accountUuid:"none",o=`${t}?type=${j}&owner=${n}&uuid=${i}#/page/welcome?${new URLSearchParams({language:e}).toString()}`;a&&a.id?chrome.tabs.update(a.id,{url:o}):chrome.tabs.create({url:o}),Ze.setItem("seenWelcomePage","true"),r()})}async function $7A(A){let e=A.data;await ir.openTab({url:e})}function Vit(){chrome.tabs.create({url:Rd("https://app.privacy.com/account")})}function Xit(){chrome.tabs.create({url:Rd("http://1password.com/cards")})}async function I7A(){let A=await ca();A?es.remove(A):console.warn("Attempted to remove URL from exclusion list but was unable to create TabInfo")}async function p7A(A){let e=await dn(A),t=await FA.analyzePage(e,!1,await LT()),r;for(let a of t.resolvedPage.frames){let j=a.fields.find(n=>n.designation.autofillType==="username"||n.designation.autofillType==="current-password"||n.designation.autofillType==="one-time-code");if(j){r=j.opid;break}}r||`${A.id}`,A.id&&Ka({tabId:A.id,message:{name:"show-inline",data:{opid:r}}})}async function HkA(A){Rg({url:`${A.signinAddress}/signin/?a=${A.userUUID}&auth-only=1`,ignoreIfDuplicate:{activateExisting:!0,customDuplicateCheck:e=>e.url?.startsWith(`${A.signinAddress}/signin/?a=${A.userUUID}`)??!1}},{name:"display-mfa-required",data:{content:(0,x7A.T)("Your session has expired. 1Password in the browser would like you to sign in again to authenticate.")}}).catch(async e=>{console.info("Did not open a new B5 signin tab as one or more already exist (for MFA).");let t=e?.firstDuplicateTabId;t!==void 0&&Ka({tabId:t,message:{name:"show-notification",data:{type:"signInTo1Password"}}})})}async function Rg(A,e){let t=new URL(A.url);if(!$g(t.hostname))throw new Error("Requested to open b5 tab with invalid hostname");A.url=Rd(A.url);let r=await ir.openTab(A);return r.id&&e&&Ka({tabId:r.id,onEvent:"b5Ready",repeat:!1,message:e}),r}async function lZA(A,e){await xp(A,{type:"addAccount",params:{uuid:e}})}async function jX(A,e){let t=new URL(chrome.runtime.getURL("/inline/notification/notification.html"));await lZA(A,e);try{return await Kn.withTimeout(new Promise(a=>{HT({"add-account-response":j=>{j.data.uuid===e&&a(j.data.response)}})}),3e5,"Timed out waiting for add account response")}finally{Ka({tabId:A,message:{name:"close-add-account-prompt",data:t.toString()}})}}async function d_(A){let e;A?e=await kx():e=await Xg(),e.forEach(t=>{t.id!==void 0&&cZA(t.id,A)})}async function cZA(A,e){Kr("lock-state-changed",{locked:e},{tabId:A})}async function k7A(A){(await kx()).forEach(t=>{t.id!==void 0&&Kr("frozen-accounts-changed",{frozenAccountsInfo:A},{tabId:t.id})})}async function ZkA(){let A=await ca();A?.id!==void 0&&Ka({tabId:A.id,message:{name:"blur-active-field",data:void 0}})}async function P7A(){let A=await fV();(await Xg()).forEach(t=>{t.id!==void 0&&uZA(t.id,A)})}async function uZA(A,e){Ka({tabId:A,message:{name:"can-request-unlock-changed",data:e}})}async function Fp(){(await Xg()).forEach(e=>{e.id!==void 0&&dZA(e.id)})}async function dZA(A){Ka({tabId:A,message:{name:"refresh-items",data:void 0}})}async function TkA(A){(await kx()).forEach(t=>{t.id!==void 0&&Ka({tabId:t.id,message:{name:"notify-settings-changed",data:A}})})}async function PkA(A){let e=await UT(A.id).then(r=>Promise.all(r.map(a=>Wit(A,a.frameId,a.url).catch(Error)))),t=new Set;for(let r of e)if(r instanceof Error)console.warn("Could not collect providers from all frames that were initially found.");else for(let a of r)t.add(a);return[...t]}function Wit(A,e,t){return Kn.withTimeout(new Promise((r,a)=>{chrome.tabs.sendMessage(A.id,{name:"uso-collect-providers",data:t},{frameId:e},j=>{if(!j){a("Could not collect frame details");return}r(j)})}),5e3,"Collect Uso Providers")}async function SkA(A,e,t=!1){t&&await new Promise(a=>setTimeout(a,1500));let r=await UT(A.id);for(let a of r)chrome.tabs.sendMessage(A.id,{name:"uso-click-provider-button",data:{provider:e,withRetryTimeout:t}},{frameId:a.frameId})}function kx(){return new Promise(A=>{chrome.tabs&&chrome.tabs.query({},e=>{A(e)})})}async function z_(A,e){let t=wu.createUniqueId();return Ka({tabId:A,message:{name:"get-frame-origin",data:{uuid:t,frameIdentifier:e}}}),new Promise(r=>{HT({"provide-frame-origin":(a,j)=>{a.data.uuid===t&&r(j.frame)}})})}async function T0(A,e){return Ka({tabId:A.id,message:{name:"request-fill-authorization",data:e}})}var S7A=A=>[To.AutofillType.CcNumber,To.AutofillType.CcCsc,To.AutofillType.CcName,To.AutofillType.CcGivenName,To.AutofillType.CcAdditionalName,To.AutofillType.CcFamilyName,To.AutofillType.CcExp,To.AutofillType.CcExpMonth,To.AutofillType.CcExpYear].includes(A),C7A=A=>[To.AutofillType.Name,To.AutofillType.GivenName,To.AutofillType.AdditionalName,To.AutofillType.FamilyName,To.AutofillType.StreetAddress,To.AutofillType.AddressLine1,To.AutofillType.AddressLine2,To.AutofillType.AddressLevel1,To.AutofillType.AddressLevel2,To.AutofillType.Country,To.AutofillType.PostalCode].includes(A);async function Jit(A){A.frames.forEach(j=>j.uuid="");let e=JSON.stringify(A),t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-1",t);return Array.from(new Uint8Array(r)).map(j=>j.toString(16).padStart(2,"0")).join("")}async function AX(A,e){if(!A){console.warn("Cannot collect page details to compute suggestions: Failed to resolve information on active tab");return}let t=performance.now(),r=await dn(A),a=performance.now(),j=await Jit((0,nZA.cloneDeep)(r));if(j===e)return;let n=performance.now();return console.info(`%cLoaded page details in ${a-t} ms.`,"color:green"),console.info(`%cAnalyzed the page in ${n-a} ms.`,"color:green"),{suggestions:(await FA.analyzePage(r,!1,await LT())).suggestions,collectedPageDetailsHash:j}}async function Yit(A){let e=await xl(A.tabId);if(Xi({updateIconOnly:!0}),pZA(e),e){let t=Pa(),r=await fV();uZA(e.id,r),cZA(e.id,t),dZA(e.id)}}function Zit(A){eHA(A),XNA(A),rx(A)}function Qit(A){A.parentFrameId===-1&&mZA(A.tabId,A.url)}function Aot(A,e){if(typeof e.url=="string"){Xi({updateIconOnly:!0}),mZA(A,e.url);try{LUA(A)}catch{console.error("Unable to handle autosave on page change.")}try{FNA(A)}catch{console.error("Unable to handle autosubmit on page change.")}if(Ar.anyAccountHasFlag("b5x-watchtower-breach-notification"))try{NYA(A)}catch{console.error("Unable to handle watchtowerBreach on page change.")}}}async function mZA(A,e){try{let t=await xl(A);pZA(t)}catch(t){console.error("Unable to update tab context menus:",t)}try{WNA(A,e)}catch(t){console.error("Unable to handle Fastmail onPageChange:",t)}try{RH(A,e,!1)}catch(t){console.error("Unable to clear save session:",t)}}async function eot(A){try{let e=new URL(A.url);if(!LE.isHttpOrHttps(e)||await tot(e)||(eZA(A.tabId),!await T7()))return;sa()||await sZA(A.tabId,A.frameId)}catch{console.warn("Unable to inject for a URL (redacted)")}}async function C_(A){let e=new URL(A),t=e.searchParams.get("state");if(!t){let i=e.hash?.substring(1);t=new URLSearchParams(i).get("state")}if(!t||t.length===0){console.error("No state parameter present in the redirect URL");return}let r=FA.nakedDomainForUrl(A);r.includes("microsoft")&&(r="microsoftonline.com");let a=await browser.tabs.query({url:`*://*.${r}/*`,active:!0,lastFocusedWindow:!0});if(await rZA(t,a))return;let n=await browser.tabs.query({url:"*://*/sso/oidc/redirect/*",active:!0,lastFocusedWindow:!0});await rZA(t,n)}var rZA=async(A,e)=>{let t=e.filter(r=>r.id!==0&&(r.url?.includes(A)||r.pendingUrl?.includes(A)));return t.length!==1?!1:t[0].id?(browser.tabs.remove(t[0].id),!0):(console.error("found tab to be closed but without an ID"),!1)},aZA=["audio","editable","frame","image","link","page","selection","video",...oj()?["tab","password"]:[]];async function FkA(){let A=await ca();Am.createContextMenu({id:"tabSeparator",type:"separator",contexts:aZA}),Am.createContextMenu({id:"tabToggleExclusion",type:"checkbox",title:(0,x7A.T)("Hide on this page"),contexts:aZA,checked:A&&es.has(A),enabled:!!A})}function pZA(A){return Am.updateContextMenu("tabToggleExclusion",{checked:A&&es.has(A),enabled:!!A})}function h7A(A){return A==="chrome://newtab/"||A==="edge://newtab/"||A==="about:blank"||A==="about:newtab"}async function tot(A){return(await ir.getBrowserInfo()).name===F.browserInfo.Browser.Edge?A.origin==="https://devtools.azureedge.net":!1}function kZA(A,e,t){return new Promise(r=>{$j()?chrome.scripting.executeScript({target:{tabId:A.id,allFrames:t},files:[e]},a=>{r(a)}):chrome.tabs.executeScript(A.id,{code:e,allFrames:t},a=>{r(a)})})}async function O7A(A){let e=/https:\/\/\S+[.]1password.(com|eu|ca)(\/join\/|\/sign-up)\S*|https:\/\/\S+[.]b5local.com:(4000|3000)(\/join\/|\/sign-up)\S*|https:\/\/\S+[.]b5test.(com|eu|ca)(\/join\/|\/sign-up)\S*|https:\/\/\S+[.]b5dev.(com|eu|ca)(\/join\/|\/sign-up)\S*|https:\/\/\S+[.]b5rev.(com|eu|ca)(\/join\/|\/sign-up)\S*/,t=A.filter(r=>r.url?.match(e)?.length);if(t.length)return t[0]}async function M_(A){let e=await O7A(await kx());return e&&e.id?(A&&(browser.tabs.update(e.id,{active:!0}),browser.tabs.reload(e.id)),!0):!1}async function QkA(A,e){let t=Mt.desktopConnectionManager?.getDesktopApp();if(t&&Mt.getDesktopAppState().type==="Connected"){let j;try{let[,i]=rA.defaultSavingLocation();j=i.uuid}catch{}if(await t.createItem({category:e,defaultVaultUuid:j}))return}let r=$t.itemCache?.accountForVaultID(Un(A));if(!r)throw new Error("Unable to find account by vault localId");let a=`/vaults/${A.uuid}/${e}/?action=add`;z7(r.uuid,a)}function PV(A){return z7(A,"/profile")}function T7A(A){tX(A.data?.importPath,A.data?.accountUuid)}function tX(A,e){let[t]=rA.defaultSavingLocation(),r=t.uuid,a=e||r;A?z7(a,A):z7(a,"/import")}function _kA(A){return z7(A,"/integrations/directory")}async function XH(A,e,t,r){let a=`/vaults/${A}/${t}/`;r&&(a+=r),await z7(e,a)}function hZA(A,e){let t=rA.findAccountHandlerByUuid(A);if(!t){console.error("Unable to find account to open home page");return}let r=new URLSearchParams;r.set("a",t.serveraccount.userUUID),e&&r.set("auth-only","1");let a=r.toString();if(t.isLocked){chrome.tabs.create({url:`${t.serveraccount.signinAddress}/signin/?${a}`}),As();return}z7(A,"/home")}async function _7A(A){let e=Mt.getDesktopAppState();if(e.type==="Connected")if(e.accountUuids.includes(A.data.accountUuid))NXA({accountUuid:A.data.accountUuid});else{let t=await Ve.getDatabase().findAccountByUUID(A.data.accountUuid);if(!t)return Promise.reject(new Error("Unable to open home page. Account with the given UUID could not be found."));GV({components:{emailAddress:t.email,secretKey:t.secretKey,server:t.signinAddress,isSsoAccount:he.CanOnlyPerformOidcAuth(t.authMethods)},accountUuid:A.data.accountUuid})}else hZA(A.data.accountUuid,A.data.authOnly)}async function jx(A,e){let t=$t.itemCache?.accountForVaultID(Un(A.vault));if(!t)throw new Error("Unable to find account by in openItemInB5");let r=`/vaults/${A.vault.uuid}/allitems/${A.uuid}${e?`/?action=${e}`:""}`;return z7(t.uuid,r)}function n7A(A){z7(A,"/profile/email-subscriptions")}function A7A(A){let e="/sso/migration",t=rA.getMustMigrateAuthAccount(A);if(!t){let r="Unable to find account handler in expired auth migration state";throw new Error(r+(A?` with UUID <${A}>`:""))}return z7(t.uuid,e)}async function z7(A,e){let t=rA.findAccountHandlerByUuid(A);if(!t)throw new Error(`Unable to find account handler with UUID <${A}>`);let r=t.serveraccount.signinAddress+e,a=new URL(r),j=new globalThis.URLSearchParams(a.search);j.set("session-init","1");let n=j.toString();n!==""&&(a.search="?"+n);try{let i=await Ii();Rg({url:a.toString()},{name:"auto-sign-in-to-b5",data:await t.createDelegateSessionContextInitialization(i)})}catch{console.error("Unable to automatically sign into b5 tab"),a.searchParams.delete("session-init"),Rg({url:a.toString()})}As()}async function r_(A){let e=await ca();return(await ir.openTab({url:A,openerTabId:e?.id})).id}async function gkA(A){jx(A,"share")}async function k_(A,e){let t;e?.url?t=e.url:t=A.overview.url,t&&await ir.openTab({url:Rd(t)})}function rot(A){return[E5,x5].includes(A)}function z7A(A){return A===b5}var D7A={},aot=new Xa("[BROWSER]"),ir=class{static async downloadFile(e,t){let r=await db(t);switch("firefox"){case"safari-ios":case"safari-macos":{let a=r.split("base64,")[1];return new Promise((j,n)=>{chrome.runtime.sendNativeMessage("",{name:"save-download",data:JSON.stringify({base64Blob:a,filename:e})},i=>{if(!i)return n();j()})})}case"firefox":return r=URL.createObjectURL(t),browser.downloads.download({url:r,filename:e}).then(a=>{let j=n=>{n.id===a&&n.state?.current!=="in_progress"&&(URL.revokeObjectURL(r),browser.downloads.onChanged.removeListener(j))};browser.downloads.onChanged.addListener(j)}).catch(a=>{aot.error(Dn(a)),URL.revokeObjectURL(r)});case"chromium":return browser.downloads.download({url:r,filename:e}).then(a=>{let j=n=>{n.id===a&&n.filename?.current&&browser.downloads.onChanged.removeListener(j)};browser.downloads.onChanged.addListener(j)});default:jr("firefox")}}static async getShortcuts(){return browser.commands.getAll().then(e=>{let t={browserAction:"",lock:""};try{let r=e.find(({name:j})=>j&&rot(j)),a=e.find(({name:j})=>j&&z7A(j));t={browserAction:this.normalizeCtrlOnMac(r?.shortcut)??"",lock:this.normalizeCtrlOnMac(a?.shortcut)??""}}finally{return t}})}static async updateShortcut(e,t){return await browser.commands.update({name:e,shortcut:t}),this.normalizeCtrlOnMac(t)??""}static normalizeCtrlOnMac(e){return I0A(e)}static async getBrowserInfo(){return eb()}static async openTab(e){if(e.ignoreIfDuplicate){let a=(await kx()).filter(j=>j.id!==0).filter(typeof e.ignoreIfDuplicate=="object"&&e.ignoreIfDuplicate?.customDuplicateCheck?e.ignoreIfDuplicate.customDuplicateCheck:j=>j.url===e.url);if(a.length>0){let j=a[0].id;return typeof e.ignoreIfDuplicate=="object"&&e.ignoreIfDuplicate?.activateExisting===!0&&await browser.tabs.update(j,{active:!0}),Promise.reject({message:"Did not open a new tab since existing tabs already open",firstDuplicateTabId:j})}}let t,r=new Promise(a=>{chrome.tabs.create({url:e.url,openerTabId:e.openerTabId},async j=>{!j.openerTabId&&e.openerTabId&&j.id&&(D7A[j.id]=e.openerTabId),e.waitForLoad?chrome.tabs.onUpdated.addListener(t=(n,{status:i})=>{n===j.id&&i==="complete"&&(chrome.tabs.onUpdated.removeListener(t),a(j))}):a(j)})});try{return await Kn.withTimeout(r,5e3,"openTab")}finally{t&&chrome.tabs.onUpdated.removeListener(t)}}static async sendNativeMessage(e,t){try{return vt(await chrome.runtime.sendNativeMessage("",JSON.stringify({name:e,data:t})))}catch(r){return Pe(r)}}};function jot(A,e){let t=D7A[A];t&&(chrome.tabs.update(t,{active:!0}),delete D7A[A])}chrome.tabs.onRemoved.addListener(jot);var M7A="1Password Extension";async function Ii(){let A=fa.getItem("device-json");if(A)return JSON.parse(A);let e=await ir.getBrowserInfo(),t={uuid:await _u(),clientName:M7A,clientVersion:A6(),name:e.name,model:e.version,osName:e.osName,osVersion:e.osVersion,userAgent:navigator.userAgent};return fa.setItem("device-json",JSON.stringify(t)),t}async function _u(){return await Ve.getDatabase().getDeviceUUID()}var R7A="account-feature-flags",nX=class extends A8{constructor(){super();this.storage=Ze;this.accountBasedCompileTimeFlags=new Set;this.cache=new Map,UE.forEach(t=>{this.compileTimeFlags.has(t)&&this.accountBasedCompileTimeFlags.add(t)})}async initializeCache(){(await this.getFeaturesFromStorage()).forEach((r,a,j)=>{this.cache.set(a,r)})}updateFlag(t,r){let a=this.cache.get(r);if(a===void 0)a=[t];else{let j=a.findIndex(n=>n.name===t.name);j<0?a.push(t):a[j]=t}this.cache.set(r,a),this.updateStorage()}getFlag(t,r){if(this.accountBasedCompileTimeFlags.has(t))return{name:t,enabled:!0,metadata:{isOverridden:!0}};let a=this.cache.get(r)?.find(j=>j.name===t);return a||null}removeFlag(t,r){let a=this.cache.get(r);if(a){let j=a.findIndex(n=>n.name===t);j>=0&&a.splice(j,1),a.length===0?this.cache.delete(r):this.cache.set(r,a),this.updateStorage()}}getAllFlags(t){let r={};for(let j of this.compileTimeFlags.values())r[j]={name:j,enabled:!0,metadata:{isOverridden:!0}};let a=this.cache.get(t)||[];for(let j of a)r.hasOwnProperty(j.name)||(r[j.name]=j);return Object.values(r)}removeAllFlags(t){this.cache.delete(t),this.updateStorage()}get accounts(){return this.cache.keys()}async getFeaturesFromStorage(){await this.storage.init();let t=this.storage.getItem(R7A);return t?new Map(JSON.parse(t)):new Map}updateStorage(){this.cache.size===0?this.storage.removeItem(R7A):this.storage.setItem(R7A,JSON.stringify([...this.cache]))}getCache(){return this.cache}};var K7A="pre-registration-features",gZA="pre-registration-feature-updates",iX=class extends A8{constructor(){super();this.storage=Ze;this.preRegCompileTimeFlags=new Set;this.cache=new Map,p$.forEach(t=>{this.compileTimeFlags.has(t)&&this.preRegCompileTimeFlags.add(t)})}async initializeCache(){let t=await this.getFeaturesFromStorage();this.cache=t,T6.info(`Loading pre-registration flags from persistent storage:
			${Array.from(t.keys())}`)}getFlag(t){if(this.preRegCompileTimeFlags.has(t))return{name:t,enabled:!0,metadata:{isOverridden:!0}};let r=this.cache.get(t);return r||null}updateFlag(t){this.cache.set(t.name,t),this.updateStorage()}removeFlag(t){this.cache.delete(t),this.updateStorage()}removeAllFlags(){this.cache.clear(),this.updateStorage()}async getFeaturesFromStorage(){await this.storage.init();let t=this.storage.getItem(K7A);return t?new Map(JSON.parse(t)):new Map}async getLastUpdated(){await this.storage.init();let t=this.storage.getItem(gZA);if(t){let r=parseInt(t);return Number.isInteger(r)?r:null}else return null}setLastUpdated(){this.storage.setItem(gZA,Date.now().toString())}getCache(){return this.cache}updateStorage(){this.cache.size===0?this.storage.removeItem(K7A):this.storage.setItem(K7A,JSON.stringify([...this.cache]))}};var not=1e3*60,oX=class{constructor(){this.anyAccountHasFlag=e=>{let t=this.accountBasedStore.accounts,r=!1;for(let a of t){let j=this.accountBasedStore.getFlag(e,a);if(j&&j.enabled)return!0}return r};this.accountHasFlag=(e,t)=>{let r=this.accountBasedStore.getFlag(t,e);return r?r.enabled:!1};this.hasPreRegistrationFlag=e=>{let t=this.preRegStore.getFlag(e);return t?t.enabled:!1};this.getAllFlagsForAccount=e=>this.accountBasedStore.getAllFlags(e);this.updateFlagsForAccount=async(e,t)=>{let r=await this.accountBasedStore.getFeaturesFromStorage(),a=new Set(r.get(e)?.map(n=>n.name)),j=new Set;this.accountBasedStore.removeAllFlags(e);for(let n in t)a.delete(n)||j.add(n),this.accountBasedStore.updateFlag({name:n,enabled:!0},e);T6.info(`Updating account-based flags in persistent storage:
		AccountUuid: ${e}
		Downloaded Flags: ${JSON.stringify(t)}
		Updated Flags:
			- Removed: ${JSON.stringify([...a])}
			- Added: ${JSON.stringify([...j])}`)};this.updatePreRegistrationFlags=async e=>{let t=await this.preRegStore.getFeaturesFromStorage(),r=new Set(t.keys()),a=new Set;this.preRegStore.removeAllFlags();for(let j in e)r.delete(j)||a.add(j),this.preRegStore.updateFlag({name:j,enabled:!0});this.preRegStore.setLastUpdated(),T6.info(`Updating pre-registration flags in persistent storage:
			Downloaded Flags: ${JSON.stringify(e)}
			Updated Flags:
				- Removed: ${JSON.stringify([...r])}
				- Added: ${JSON.stringify([...a])}`)};this.shouldUpdatePreRegFeatures=async()=>{let e=await this.preRegStore.getLastUpdated();return Date.now()-(e??0)>not};this.removeAccount=e=>{T6.info(`Cleared flags for account ${e}`),this.accountBasedStore.removeAllFlags(e),globalThis.dispatchEvent(new Event(H6))};this.devToggleAccountFeature=(e,t)=>{let r=this.anyAccountHasFlag(t);this.accountBasedStore.updateFlag({name:t,enabled:!r,metadata:{isOverridden:!0}},e),globalThis.dispatchEvent(new Event(H6)),T6.info(`Toggled flag ${t} for account ${e}. New value: ${!r}`)};this.devTogglePreRegFeature=e=>{let t=this.hasPreRegistrationFlag(e);this.preRegStore.updateFlag({name:e,enabled:!t,metadata:{isOverridden:!0}}),globalThis.dispatchEvent(new Event(H6)),T6.info(`Toggled pre-registration flag ${e}. New value: ${!t}`)};this.getUnlockedAccountHandlersForFlag=e=>rA.getAccountHandlers.filter(t=>t.isUnlocked&&this.accountHasFlag(t.uuid,e));this.accountBasedStore=new nX,this.preRegStore=new iX,T6.info("Initialized feature flags manager.")}async initializeFeatureFlagsCache(){await this.accountBasedStore.initializeCache(),await this.preRegStore.initializeCache()}getAllAccountBasedFlags(){return this.accountBasedStore.getCache()}getAllPreRegistrationFlags(){return this.preRegStore.getCache()}};var Ar=new oX,AJA=A=>Promise.all(A.map(async e=>{let t=e.uuid;await e.getFeatureFlags().then(async r=>{await Ar.updateFlagsForAccount(t,r)}).catch(r=>{T6.error(`Failed to retrieve flags from server: ${r}`)})})).then(()=>{globalThis.dispatchEvent(new Event(H6))}),fZA=async()=>{try{if(await Ar.shouldUpdatePreRegFeatures()){let A=await iot(p$);await Ar.updatePreRegistrationFlags(A)}}catch(A){T6.error(`Failed to retrieve preregistration flags from server: ${A}`)}};function P7(){let A=Object.keys(qg),e={};for(let t of A){let r=Ar.anyAccountHasFlag(t);e[t]=r}return e}function DkA(){let A={accountBased:{},preRegistration:{}};return p$.forEach(e=>{A.preRegistration[e]=Ar.hasPreRegistrationFlag(e)}),UE.forEach(e=>{A.accountBased[e]=Ar.anyAccountHasFlag(e)}),A}var BZA=()=>Ar.getAllAccountBasedFlags(),iot=async A=>{let e=await _u(),t=e6("https://my.1password.com",e);return(await he.getPreAuthFeatures(t,A)).features.reduce((a,j)=>(p$.includes(j.name)?a[j.name]=!0:T6.warn("Non-preregistration feature returned from pre-auth endpoint!"),a),{})};var sX=AA(y0());var F_=class{constructor(){this.policies={},this.listeners=[]}async initializePolicies(e){for(let t of e)try{let r;if(!t.client)r=await Ve.getDatabase().getAccountPolicies(t.uuid);else{let a=await t.client.fetchPolicies();r=a.policies,await Ve.getDatabase().saveAccountPolicies(t.uuid,r),this.setPolicyVersion(t.uuid,a.version)}this.policies[t.uuid]=r.map(a=>({policyName:a.policyName,definition:a.definition}))}catch(r){console.error("Failed to initialize policies for account",{account:t.uuid,err:r})}return await this.notifyListeners(),(0,sX.flatten)(Object.values(this.policies))}async effectivePolicies(){return(await FA.calculateEffectivePolicies(this.policies)).filter(r=>{if(r.policy.definition?.enabled!==!0)return!1;let{policyName:a}=r.policy;switch(a){case"auto-lock":return Ar.accountHasFlag(r.account_uuid,"b5x-auto-lock-policies");case"release-channels":case"ssh-bookmarks":case"Unsupported":return!1;default:jr(a)}})}async resolveSettings(e){let t=(0,sX.cloneDeep)(e),r={},a=await this.effectivePolicies();for(let{account_uuid:j,policy:n}of a){let{policyName:i}=n;switch(i){case"auto-lock":t.autoLockMinutes=n.definition.lockAfterIdleTimeMin,t.autoLockEnabled=!0,r.autoLockMinutes=j,r.autoLockEnabled=j;break;case"release-channels":case"ssh-bookmarks":case"Unsupported":continue;default:jr(i)}}return Object.keys(r).length>0&&(t.managedSettings=r),t}subscribe(e){this.listeners.push(e)}async notifyListeners(){let e=await this.effectivePolicies();this.listeners.forEach(t=>t(e))}async setPolicyVersion(e,t){await Ve.getDatabase().savePoliciesVersionForAccount(e,t)}async getPoliciesVersion(e){return(await Ve.getDatabase().findAccountByUUID(e))?.policiesVersion??0}static isValidAccountType(e){return e===dr.Type.Business}},L7A,Hg=()=>(L7A||(L7A=new F_),L7A);var yZA=AA(Wr());var xZA=AA(Pl()),bZA=AA(Ah()),M7=AA(OA());var N7A=M7.type({state:M7.union([M7.literal("active"),M7.literal("idle"),M7.literal("locked")]),ts:M7.number}),lX="lockMonitor",U7A="lastIdleQueryTime",H7A="cachedQueryState",hx=6e4,EZA=hx;var Sp=A=>[`%c[LM] ${A}`,"color:orange"],Cp=class{constructor(){this.autoLockOnDeviceSleep=!0;this.autoLockTimeInMinutes=1;this.currentUserState="active";this.alarmIntervalInMinutes=1;this.heartbeatIntervalInMs=15*1e3;this.monitorHeartbeat=null;this.hasPostedNotification=!1;this.postShouldLockNotification=()=>{this.hasPostedNotification||(this.hasPostedNotification=!0,console.info(...Sp("User went Idle. Posting lock notification.")),globalThis.dispatchEvent(new Event(Vx)))};this.queryState=async(e=EZA)=>{let t=Date.now(),r=await this.shouldLock(e,t);r&&this.postShouldLockNotification();let a=r?"locked":"active";return this.setCachedQueryState(a),a};this.queryCachedState=()=>this.getCachedQueryState()?.state??"locked";this.shouldLock=async(e=EZA,t=Date.now())=>{let r=!1;if(e===J6*hx)return r;await this.getCurrentUserStatus()!=="active"&&(r=!0,console.info(...Sp(`User deemed inactive due to system inactivity at ${new Date}.`)));let j=t-this.getLastIdleQueryTime(t),n=e*2;return!r&&this.autoLockOnDeviceSleep&&j>n&&(console.info(...Sp(`User deemed inactive due to last idle query timeout at ${new Date}. timeSinceLastIdleQuery: ${j} = intervalTime: ${e}`)),r=!0),this.setLastIdleQueryTime(t),r};this.handleAlarm=e=>{e.name===lX&&this.queryState(this.alarmIntervalInMinutes*hx)};this.configInfo=()=>`minutes=${this.autoLockTimeInMinutes}, lock on sleep=${this.autoLockOnDeviceSleep}`;this.getStorage=()=>fa}async start(){let e=Date.now();this.setCachedQueryState("active"),this.hasPostedNotification=!1,this.queryState(this.autoLockTimeInMinutes*hx),this.startHeartbeat(),await this.startAlarm(),console.info(...Sp(`Started ${this.name} at ${e} (${this.configInfo()}).`))}async stop(){await this.stopAlarm(),this.stopHeartbeat(),vV(),this.clearCachedQueryState(),this.clearLastIdleQueryTime(),console.info(...Sp("Stopped."))}updateAutoLockSettings(e,t){this.autoLockTimeInMinutes=e,this.autoLockOnDeviceSleep=t,console.info(...Sp(`Updated autolock settings (${this.configInfo()})`))}async startAlarm(){browser.alarms.get(lX).then(e=>{e||browser.alarms.create(lX,{delayInMinutes:this.alarmIntervalInMinutes,periodInMinutes:this.alarmIntervalInMinutes})}),browser.alarms.onAlarm.hasListener(this.handleAlarm)||browser.alarms.onAlarm.addListener(this.handleAlarm)}async stopAlarm(){return browser.alarms.clear(lX).then(e=>{e?console.info(...Sp("Lock monitor alarm cleared")):console.error("[LM] Lock monitor stopped, without clearing alarm. \u{1F6A8}")}).then(()=>{browser.alarms.onAlarm.removeListener(this.handleAlarm)})}startHeartbeat(){this.monitorHeartbeat||(this.monitorHeartbeat=globalThis.setInterval(()=>{this.queryState(this.heartbeatIntervalInMs)},this.heartbeatIntervalInMs))}stopHeartbeat(){this.monitorHeartbeat&&globalThis.clearInterval(this.monitorHeartbeat)}getLastIdleQueryTime(e=Date.now()){let t=this.getStorage().getItem(U7A);return t?parseInt(t):e}setLastIdleQueryTime(e=Date.now()){this.getStorage().setItem(U7A,e.toString())}clearLastIdleQueryTime(){this.getStorage().removeItem(U7A)}getCachedQueryState(){let e=this.getStorage().getItem(H7A);if(e)try{return(0,bZA.pipe)(e,JSON.parse,N7A.decode,xZA.fold(()=>{throw new Error},N7A.encode))}catch{console.error("[LM] CachedQueryState is corrupt, discarding."),this.clearCachedQueryState();return}}setCachedQueryState(e){let t=N7A.encode({state:e,ts:Date.now()});this.getStorage().setItem(H7A,JSON.stringify(t))}clearCachedQueryState(){this.getStorage().removeItem(H7A)}};var R_=class extends Cp{constructor(t){super();this.desktopApp=t;this.name="Desktop Lock Monitor";this.configInfo=()=>"Connected to desktop app";this.updateAutoLockSettings=()=>{};this.getCurrentUserStatus=async()=>(await this.desktopApp.lockState())?.lockState===yZA.LockState.Unlocked?"active":"locked";this.queryState=async()=>{let t=await this.getCurrentUserStatus();return this.setCachedQueryState(t),t!=="active"&&(console.info(...Sp("User went inactive. Posting lock notification.")),this.postShouldLockNotification()),t}}async start(){this.setLastIdleQueryTime(),await super.start()}},vZA=A=>A instanceof R_;var V7A="LAST_KNOWN_ACTIVITY_TIMESTAMP",X7A=60,cX=class extends Cp{constructor(t,r){super();this.autoLockTimeInMinutes=t;this.autoLockOnDeviceSleep=r;this.name="Extension Lock Monitor";this.getCurrentUserStatus=async()=>{if(this.autoLockTimeInMinutes===J6)return"active";let t=Date.now(),r=await browser.idle.queryState(this.autoLockTimeInMinutes*X7A);switch(r){case"active":return fa.setItem(V7A,t.toString()),r;case"idle":return r;case"locked":return this.autoLockOnDeviceSleep?r:parseInt(fa.getItem(V7A)??"0")+this.autoLockTimeInMinutes*hx<=t?"idle":"active";default:jr(r)}};this.idleListener=this.idleListener.bind(this)}async start(){this.autoLockTimeInMinutes!==J6&&browser.idle.setDetectionInterval(this.autoLockTimeInMinutes*X7A),browser.idle.onStateChanged.addListener(this.idleListener),super.start()}async stop(){fa.removeItem(V7A),browser.idle.onStateChanged.removeListener(this.idleListener),super.stop()}updateAutoLockSettings(t,r){t!==this.autoLockTimeInMinutes&&t!==J6&&browser.idle.setDetectionInterval(t*X7A),super.updateAutoLockSettings(t,r)}idleListener(t){t!=="active"&&this.autoLockOnDeviceSleep&&this.postShouldLockNotification()}};var uX=class extends Cp{constructor(t){super();this.autoLockTimeInMinutes=t;this.name="Safari iOS Lock Monitor";this.autoLockOnDeviceSleep=!1;this.getCurrentUserStatus=async()=>{if(this.autoLockTimeInMinutes===J6)return"active";let r=await BkA()-EkA(),n=this.autoLockTimeInMinutes*60*1e3,i=n-r;return console.warn("[LM] Lock countdown: "+i+"ms"),r<n?(Wi(),"active"):(vV(),"idle")};this.queryState=async(t=hx)=>{await this.updateSettingsFromApp();let r=await this.shouldLock(t);r?this.postShouldLockNotification():W7A();let a=r?"locked":"active";return this.setCachedQueryState(a),a};this.updateSettingsFromApp=this.updateSettingsFromApp.bind(this)}async start(){await this.updateSettingsFromApp(),EkA()||Wi(),await super.start()}startHeartbeat(){}async updateSettingsFromApp(){(await Wg()).match(({settings:{requireAuthenticationAfter:r}})=>{r!==this.autoLockTimeInMinutes&&this.updateAutoLockSettings(r,this.autoLockOnDeviceSleep)},()=>{console.warn("[LM] Unable to connect to OPI; autolock settings may be stale.")})}};var oot=60,dX=class A extends Cp{constructor(t,r){super();this.autoLockTimeInMinutes=t;this.autoLockOnDeviceSleep=r;this.name="Safari macOS Lock Monitor";this.getCurrentUserStatus=async()=>this.autoLockTimeInMinutes===J6?"active":browser.runtime.sendNativeMessage("",{name:"query-active-status",data:JSON.stringify({maximumIdleTimeInSeconds:this.autoLockTimeInMinutes*oot})}).then(t=>t).catch(()=>(console.error("[LM] Unable to communicate with native app, locking."),"locked"));this.port=browser.runtime.connectNative(""),this.onSweMessage=this.onSweMessage.bind(this)}async start(){this.port.onMessage.addListener(this.onSweMessage),await super.start()}async stop(){this.port.onMessage.removeListener(this.onSweMessage),await super.stop()}startHeartbeat(){}onSweMessage(t){A.isLockMonitorNotification(t)&&(console.info(...Sp(`Received lock notification. Lock reason: ${t.userInfo.message.type}`)),this.postShouldLockNotification())}static isLockMonitorNotification(t){return typeof t=="object"&&t.name&&t.name==="lockMonitorNotification"&&typeof t.userInfo=="object"&&typeof t.userInfo.message=="object"}};async function FZA(A,e,t){let r=e;return r!==J6&&(r=Math.max(e,eM)),A&&await A.hasAccounts()?new R_(A):Eo()?new dX(r,t):Or()?new uX(r):new cX(r,t)}var K_=class{constructor(){this._lockMonitor=null,this._logger=new Xa("\u{1F512} Lock monitor"),Hg().subscribe(e=>{(async()=>{let t=e.find(a=>a.policy.policyName==="auto-lock");if(!t)return;this._lockMonitor||await this.startAutoLockMonitor();let r=Re();this._lockMonitor?.updateAutoLockSettings(t.policy.definition.lockAfterIdleTimeMin,r.autoLockOnDeviceSleep)})()})}get lockMonitor(){return this._lockMonitor}async startAutoLockMonitor(){let e=Re();if(!e.autoLockEnabled)return;let t=Mt.desktopConnectionManager?.getDesktopApp();this._lockMonitor&&t&&!vZA(this._lockMonitor)&&await this.stopAutoLockMonitor(),this._lockMonitor||(this._lockMonitor=await FZA(t,e.autoLockMinutes,e.autoLockOnDeviceSleep)),this._logger.debug("Starting auto lock monitor"),this._lockMonitor.start()}async stopAutoLockMonitor(){this._lockMonitor&&(this._logger.debug("Stopping auto lock monitor"),await this._lockMonitor.stop(),this._lockMonitor=null)}},Mc=rr.resolve(K_);var sot={closePopup:!0};async function Qo(A=sot){for(let e of rA.getAccountHandlers)await e.lock(!1);TuA(),sLA(),wZA(A)}async function GZA(A){let{accountUuid:e}=A.detail;oLA(e),wZA()}async function wZA(A){if(cx(),!rA.allAccountHandlersAreLocked){await $t.loadAndDecryptItemCache();return}$t.clearItemCache(),lot(A),FA.onLock(),i_(),Xi(),Mc.stopAutoLockMonitor(),lV.clear(),WpA(),gV(!0),globalThis.dispatchEvent(new Event(rd)),console.info(`%c[OP] Locked at ${new Date}`,"color:blue")}function qZA(){return Mc.lockMonitor&&Mc.lockMonitor.queryCachedState()!=="active"?(Qo(),!0):!1}async function lot(A){Kr("lock-state-changed",{locked:!0,...A}),await d_(!0)}function Pa(){return rA.allAccountHandlersAreLocked}function $ZA(){rr.resolve($u).subscribe(Bo,W7A).subscribe(rd,ZHA)}async function fXA(A){let e=await KpA({type:"unlockUsingPrimaryAccountPassword",data:A});return IZA(e,"password")}async function S0(A){let e=await KpA({type:"unlockFromKeychainData",data:{initiatedByUserAction:A}});return IZA(e,"keychain")}async function IZA(A,e){if(A.isOk()){let t=A.value;return await XV(t.accounts,{removeExtraAccounts:!0}),Pa()?t.accounts.length===0?Pe({type:"NoSavedAccounts"}):e==="password"?Pe({type:"FailedToUnlock"}):Pe({type:"AppCommunicationFailed"}):($t.loadAndDecryptItemCache().then(()=>{u_()}),t.accounts.map(async r=>{r.type==="Unlocked"&&e==="password"&&tj("AppUnlock",{unlock_method:"PASSWORD",status:"SUCCESS"},r.content.details.accountUuid)}),vt(void 0))}else return console.error(`Failed to connect to 1Password App due to error: ${A.error}`),Pe({type:"AppCommunicationFailed"})}function eX(A){let e=KHA(A);Jo(e)}async function Wg(){return UHA()}function cot(A){return WHA(A)}function W7A(){return JHA()}function PZA(A){return YHA(A)}async function lVA(A){let e=await cot(A);if(e.isOk())return e.value;throw new Error("DSecret proxy request failed")}async function SZA(){if(Mt.initializeDesktopConnectionManager(),!Mt.desktopConnectionManager)throw new Error("Unable to initialize the desktop connection manager.");if(Mt.desktopConnectionManager.getState().type==="Disabled"&&Or()){$ZA();let A=await S0(!1);A.isErr()&&console.warn(`Failed to unlock accounts from OPI via keychain: ${A.error.type}`),Wg().then(e=>{e.isOk()&&(eX(e.value.settings),VV(e.value.accounts,{removeExtraAccounts:!0}))})}}function X$(A,e){let t=o=>{let s=`[${A}] Not attempting to connect to desktop app: ${o}`;return A==="popup"&&console.info(s),e?.(Pe({type:"NotAttempted"})),!1};if(!_g)return t("initialization hasn't finished");if(!Re().useSharedLockState)return t("extension has integration turned off");let r=Mt.getDesktopAppState(),a=r.type==="Disconnected",j=r.type==="Disconnected"&&r.latestReason===6;if(!(a&&!j))return t(a&&j?"desktop app has integration turned off":a?"unknown reason":"already connected or connecting to desktop app");let i=A==="popup";return setTimeout(()=>{Mt.desktopConnectionManager?.reconnectWithDesktop(i).then(o=>{e?.(o)})},50),!0}async function CZA(A){A?Mt.desktopConnectionManager?.enableSharedLockState():Mt.desktopConnectionManager?.disableSharedLockState()}async function OZA(){Re().useSharedLockState&&(Mt.desktopConnectionManager?.disableSharedLockState(),Mt.desktopConnectionManager?.enableSharedLockState())}async function TZA(A){let{state:e,prevState:t}=A.detail;if(e.type,e.type==="Connected"&&e.lockState==="Unlocked")return $t.loadAndDecryptItemCache().then(()=>{u_()});Xi({desktopAppState:e}),t.type==="Connected"&&e.type==="Disconnected"&&!rA.allAccountHandlersAreLocked&&Qo()}async function _ZA(A){Kr("desktop-app-state-changed",A)}function Ud(){let A=Mt.desktopConnectionManager?.getDesktopApp();return A?!A.isOp7:!1}var ux="DesktopAppStateChanged",mX=class{constructor(e){if(this.canEnableFeature=e.browser!=="safari-ios",this._baseDisconnectionReason={type:"Disconnected",invalidBrowserState:2,hasEverConnectedToDesktopApp:vl(),latestReason:0},e.useSharedLockState&&this.canEnableFeature){this.state={type:"Initial"};let t=!vl()||!e.hasAccounts;this.connectWithDesktopApp({spawnMainApp:t}),chrome.windows.onFocusChanged.addListener(this.onBrowserWindowFocusChange.bind(this))}else this.state={type:"Disabled"}}getState(){return J7A(this.state)}getDesktopApp(){return this.state.type==="ValidConnection"?this.state.desktopApp:void 0}async enableSharedLockState(){if(this.state.type==="Connecting"||this.state.type==="ValidConnection"||!this.canEnableFeature){this.canEnableFeature||console.info("Asked to enable Shared Lock State when on browser-ios");return}this.state={type:"Initial"},this.connectWithDesktopApp()}disableSharedLockState(){this.state.type!=="Disabled"&&(this.state.type==="ValidConnection"&&this.state.desktopApp.disconnect(),this.updateState({type:"Disabled"}))}async reconnectWithDesktop(e){return this.connectWithDesktopApp({spawnMainApp:e})}async lockState(){if(this.state.type!=="Connecting"&&this.state.type!=="ValidConnection")throw new Error(`Lock state request failed: ${this.state.type}`);let e=this.state.desktopApp;if(!e)throw new Error("Lock state request failed: No Desktop App connection");return e.lockState()}async offlineStatus(){if(this.state.type!=="ValidConnection")throw new Error(`Offline status request failed: ${this.state.type}`);let{desktopApp:e}=this.state;if(!e)throw new Error("Offline status request failed: No Desktop App connection");return e.offlineStatus()}async requestDsecretProxy(e){if(this.state.type!=="Connecting"&&this.state.type!=="ValidConnection")throw new Error(`DSecret proxy request failed: ${this.state.type}`);let t=this.state.desktopApp;if(!t)throw new Error("DSecret proxy request failed: No Desktop App connection");return t.requestDsecretHmac(e)}async requestUpgradeFromOfflineState(){if(this.state.type!=="Connecting"&&this.state.type!=="ValidConnection")throw new Error(`Request to upgrade connection from offline failed: ${this.state.type}`);let e=this.state.desktopApp;if(!e)throw new Error("Request to upgrade connection from offline failed: No Desktop App connection");return e.requestUpgradeFromOfflineState()}async requestDelegatedSession(e){if(this.state.type!=="Connecting"&&this.state.type!=="ValidConnection")throw new Error(`Delegated session request failed: ${this.state.type}`);let t=this.state.desktopApp;if(!t)throw new Error("Delegated session request failed: No Desktop App connection");return t.requestDelegatedSession(e)}async connectWithDesktopApp(e={spawnMainApp:!1}){let t=this.state;if(t.type==="Connecting"||t.type==="ValidConnection")return vt({numberOfUnlockedAccounts:t.numberOfUnlockedAccounts});if(t.type==="Disabled"||!this.canEnableFeature)return this.canEnableFeature||console.info("Asked to enable Shared Lock State when on browser-ios"),Pe(this._baseDisconnectionReason);this.updateState({type:"Connecting",numberOfUnlockedAccounts:0});let r=await qYA((j,n)=>{this.state.type==="ValidConnection"&&this.state.desktopApp===j&&this.updateStateFromDesktopApp(n)},e.spawnMainApp),a=this.updateState({type:"Connecting",numberOfUnlockedAccounts:r.isOk()?r.value.numberOfUnlockedAccounts:0,desktopApp:r.isOk()?r.value.desktopApp:void 0});return r.isOk()?a?!await r.value.desktopApp.init(e.spawnMainApp)||this.state.type==="Disabled"?(this.updateState({type:"Disconnected",reason:this._baseDisconnectionReason}),r.value.desktopApp.disconnect(),Pe(this._baseDisconnectionReason)):(this.updateState({type:"ValidConnection",numberOfUnlockedAccounts:r.value.numberOfUnlockedAccounts,desktopApp:r.value.desktopApp}),globalThis.dispatchEvent(new Event(Xx)),vt({numberOfUnlockedAccounts:r.value.numberOfUnlockedAccounts})):(r.value.desktopApp.disconnect(),Pe(this._baseDisconnectionReason)):(r.isErr()&&r.error.latestReason===6?this.updateState({type:"Disabled"}):this.updateState({type:"Disconnected",reason:r.error}),Pe(r.error))}updateStateFromDesktopApp(e){e.type==="Disconnected"?this.updateState({type:"Disconnected",reason:{type:"Disconnected",invalidBrowserState:d7A(e),hasEverConnectedToDesktopApp:e.hasEverConnectedToDesktopApp,latestReason:e.latestReason}}):e.type==="Connected"&&this.broadcastState(this.state,this.state)}updateState(e){if(this.state.type==="Disabled"&&(e.type==="Connecting"||e.type==="Disconnected"))return this.broadcastState(this.state,this.state),!1;let t=this.state;return this.state=e,this.broadcastState(t,e),!0}broadcastState(e,t){let r=J7A(e),a=J7A(t);`${JSON.stringify(a)}`,globalThis.dispatchEvent(new CustomEvent(ux,{detail:{state:a,prevState:r}})),_ZA(a);let j=r.type!=="Connected"&&a.type==="Connected",n=r.type==="Connected"&&a.type!=="Connected";(j||n)&&P7A()}onBrowserWindowFocusChange(e){e!==chrome.windows.WINDOW_ID_NONE&&(this.state.type==="ValidConnection"||this.state.type==="Connecting"||this.state.type==="Disabled"||(`${e}`,this.reconnectWithDesktop(!1)))}};function J7A(A){switch(A.type){case"Initial":case"Connecting":return{type:"Connecting"};case"ValidConnection":let e=A.desktopApp.state;return{type:"Connected",accountUuids:e.type==="Connected"?e.accountUuids:[],lockState:e.type==="Connected"?e.lockState:"Locked"};case"Disconnected":return{type:"Disconnected",latestReason:A.reason.latestReason,invalidBrowserState:A.reason.invalidBrowserState,hasEverConnectedToDesktopApp:A.reason.hasEverConnectedToDesktopApp};case"Disabled":return{type:"Disabled"};default:jr(A)}}var L_=class{get desktopConnectionManager(){return this._desktopConnectionManager}initializeDesktopConnectionManager(){this._desktopConnectionManager=new mX({hasAccounts:rA.hasAccountHandlers,useSharedLockState:Re().useSharedLockState,browser:"firefox"})}getDesktopAppState(){return this._desktopConnectionManager?this._desktopConnectionManager.getState():{type:"Disconnected",latestReason:0,invalidBrowserState:2,hasEverConnectedToDesktopApp:vl()}}},Mt=rr.resolve(L_);var eD=AA(cte()),Wut="https://4f3669ef553b434e86845ecd15a92e28:acaac9ba43f34f61917ae843f639604c@b5x-sentry.1passwordservices.com/4505427098533888";function ute(){return tD()}var Jut;function dte(){if(oj())return;let A=ute(),e=A==="stable"?.5:1;F.sentry.init({appVersion:`b5x@${Pp.currentVersion()}-${tD()}`,dsn:Wut,environment:A,sampleRate:e})}var ht=async A=>{if(oj()||ute()==="local"&&(console.error(A),!Vs().sendLocalSentryEnabled()))return;if(A.metaData=(0,eD.default)({},Jut,A.metaData),!F.config.getDevice()){let r=await ir.getBrowserInfo(),a=F.sentry.assertLogSafeAndNormalizeDevice({uuid:"",clientName:M7A,clientVersion:A6(),name:r.name,model:r.version,osName:r.osName,osVersion:r.osVersion,userAgent:navigator.userAgent});A.metaData=(0,eD.default)({},a,A.metaData)}let e={connectivityStatus:TA.assertLogSafe(Yr.getPossiblyOutdatedConnectivityStatus())};Mt.desktopConnectionManager&&(e.ophConnection=TA.assertLogSafe(Mt.desktopConnectionManager.getState().type)),e.hasEverConnectedToOph=G_(vl()),A.tags=(0,eD.default)({},e,A.tags);let t=A.userUuid?rA.findAccountHandlerByUser(A.userUuid.str):rA.numberOfAccountHandlers===1?rA.getAccountHandlers[0]:void 0;if(t){let r={user:{sessionId:TA.assertLogSafe(t.client?.CTX?.session.sessionUuid??""),authMethods:TA.assertLogSafe(JSON.stringify(t.serveraccount.authMethods.map(a=>a.type).sort()))}};A.metaData=(0,eD.default)({},r,A.metaData)}F.reportError(A)};function po(A,e,t,r){ra(A)?(r&&(A.tags=A.tags?{...A.tags,...r}:r),ht(A),console.error(e,A)):(ht(new F.LoggableError({errorClass:TA.assertLogSafe("Error"),message:e,userUuid:t,stackOverrideError:A instanceof Error?A:void 0,tags:r&&A.tags?{...A.tags,...r}:r})),console.error(e))}var rD=class{constructor(){this._itemCachePromise=null,this._itemCache=null,this._itemCacheLogger=new Xa("\u231B\uFE0F Loading item cache")}clearItemCache(){this._itemCachePromise=this._itemCache=null}get itemCache(){return this._itemCache}async loadItemCache(){if(!this._itemCachePromise){console.warn("The item cache has not been initialized yet.");return}return this._itemCachePromise}async loadAndDecryptItemCache(e=!1){try{if(!e)try{cx()}catch(t){let r="Unable to delete restore point";throw console.error(`${r}: ${Dn(t)}`),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("LoadAndDecryptItemCacheError"),message:F.logsafe.assertLogSafe(r)})}return this._itemCachePromise=new Promise(t=>{let r=[];this._itemCacheLogger.info(`${rA.numberOfAccountHandlers} account handlers found.`);for(let a of rA.getAccountHandlers){if(a.isLocked){this._itemCacheLogger.info(`Account with UUID ${a.uuid} is locked and did not append as a promise.`);continue}if(a.mustMigrateAuth){this._itemCacheLogger.info(`Account with UUID ${a.uuid} must migrate authentication methods and did not append as a promise.`);continue}r.push(a.loadAndDecryptItemOverviews())}this._itemCacheLogger.info(`${r?.length} promises created for loading and decrypting item overviews.`),Promise.all(r).then(async()=>{this._itemCacheLogger.info("The promises for loading and decrypting item overviews were resolved.");let a=[],j=[],n={},i={},o={};for(let u of rA.getAccountHandlers){if(u.isLocked){this._itemCacheLogger.info(`Account with UUID ${u.uuid} is locked and was not appended as an account, user, template or vault.`);continue}if(!u.user)throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("LoadAndDecryptItemCacheError"),message:F.logsafe.assertLogSafe("Missing user for unlocked account.")});a=a.concat(u.items||[]),j.push(u.b5account),o[u.b5account.uuid]=u.user,n[u.b5account.uuid]=u.templates??[],i[u.b5account.uuid]=u.vaults}this._itemCacheLogger.info(`Items: ${a?.length}. Accounts: ${j?.length}.`);let s=await rA.getFrozenAccountsInfo(),c=new SU(j,o,a,n,i,s.frozenAccounts);this._itemCache=c,Kr("items-updated",void 0),t(c)})}),this._itemCachePromise}catch(t){let r="Received an error when loading and decrypting the item cache";throw ra(t)?(ht(t),r=`${r}: ${t.name} - ${t.message}`):ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("ItemCacheHandler"),message:F.logsafe.assertLogSafe(r)})),console.error(r),t}}},$t=rr.resolve(rD);function Hs(A){return JSON.stringify({overview:A.overview,details:A.details,createdAt:A.createdAt,updatedAt:A.updatedAt,faveIndex:A.faveIndex,trashed:A.state,templateUuid:A.templateUuid,uuid:A.uuid})}function Yut(A){return JSON.stringify({overview:A.overview,createdAt:A.createdAt,updatedAt:A.updatedAt,faveIndex:A.faveIndex,trashed:A.state,templateUuid:A.templateUuid,uuid:A.uuid})}async function mte(A){let e={};if(!A?.details?.sections)return e;let t=await $t.loadItemCache();if(!t)return e;let r=a=>({itemOverviewJsonString:Yut(a),vaultId:1,vaultUuid:a.vault.uuid,accountId:0,accountUuid:ZE(a),localId:zg(a)});for(let a of A.details.sections)if(a.fields){for(let j of a.fields)if(j.k==="reference"){let n=j.v,i=t.itemWithUUID(n);i&&(e[n]=r(i))}else if(j.k==="ssoLogin"){let n=j.v.item;if(n){let i=t.itemWithUUID(n.itemUuid);i&&(e[n.itemUuid]=r(i))}}}return e}async function pte(A){let e=[];function t(r,a){let j=a.documentId&&a.signingKey;e.push({position:r,status:j?phA.FileStatus.Available:phA.FileStatus.Missing})}return A.details?.documentAttributes&&t({type:"Root",content:void 0},A.details.documentAttributes),A.details?.sections?.forEach(r=>{r.fields?.forEach(a=>{a.k==="file"&&t({type:"Field",content:{sectionId:r.name,fieldId:a.n}},a.v)})}),e}var Yg=AA(OA());var D0="Unknown",kte=async()=>{let A=await ir.getBrowserInfo(),e=await Ii(),t=P7();return{client_name:e.clientName+" for "+A.name,client_build:parseInt(e.clientVersion),client_processor:D0,client_is_locked:Pa(),os_name:A.osName,os_version:A.osVersion??D0,locale:Re().language,total_space:D0,free_space:D0,memory:D0,model_name:D0,jailbroken:!1,features:Object.keys(t).filter(r=>t[r]===!0)}},hte=()=>{let A=BZA();return rA.getAccountHandlers.map(e=>{let t=A.get(e.uuid)?.map(r=>r.name)??[];return{uuid:e.uuid,attr_version:e.b5account.attrVersion,device_uuid:e.deviceJson.uuid,user_uuid:e.user?.uuid||"",account_is_locked:e.isLocked,storage_used:e.b5account.subscription.storageUsed,account_type:e.b5account.type,account_state:e.b5account.state,url:e.client?.signinAddress??D0,vaults:e.vaults.map(r=>({uuid:r.uuid,created_at:r.createdAt?Date.parse(r.createdAt.toString())/1e3:0,vault_type:r.type,updated_at:r.updatedAt?Date.parse(r.updatedAt.toString())/1e3:0,acl:r.getCombinedAcl()||0,content_version:r.contentVersion,items:{active:r.activeItemCount,deleted:0,archived:0,rejected:0,with_offline_changes:[]}})),features:t}})},fX=async A=>{if(A.length===0)return[];let e=new Map,t=[],r;A.forEach(j=>{r!==j.date&&r&&(e.set(r,t),t=[]),t.push({type:j.type,timestamp:j.timestamp,message:j.message}),r=j.date}),r&&!e.has(r)&&t.length>0&&e.set(r,t);let a=[];return e.forEach((j,n)=>{a.push({title:`/1Password_${n}`,content:j.map(i=>`${i.type}  ${new Date(i.timestamp).toISOString().replace("Z","")} ${i.message}`).join(`
`)})}),a},gte=()=>`1password_firefox_${A6()}.stable_${uH()}_${CNA()}.1pdiagnostics`;var gs=AA(Wr());async function Zut(A){if(A.passwordType==="smart"){let r=await ca();return Qut(r)}let e=gs.PasswordType.Characters;switch(A.passwordType){case"pin":e=gs.PasswordType.Pin;break;case"words":e=gs.PasswordType.Words;break}let t;switch(A.separatorType){case"hyphens":t=gs.SeparatorType.Hyphens;break;case"periods":t=gs.SeparatorType.Periods;break;case"commas":t=gs.SeparatorType.Commas;break;case"spaces":t=gs.SeparatorType.Spaces;break;case"underscores":t=gs.SeparatorType.Underscores;break;case"digits":t=gs.SeparatorType.Digits;break;case"digits_and_symbols":t=gs.SeparatorType.DigitsAndSymbols;break}return FA.generatePassword({separatorType:t,passwordType:e,wordListType:A.fullWords?gs.WordListType.FullWords:gs.WordListType.Syllables,size:A.length,capitalizeOne:A.capitalize,requireDigits:A.requireDigits,requireSymbols:A.requireSymbols})}async function Qut(A){let e=A?await dn(A):void 0;return FA.generateSuggestedPassword({url:A?.unparsedUrl,collectedPageDetails:e})}async function fte(){let{generator:A,defaultPassGenType:e}=Re(),t=A.find(r=>r.passwordType===e);return Zut(t)}async function p8(A,e,t,r){let a;if(t)try{a=(await z_(A.id,t))?.URL()?.origin}catch{}let j=bl(A),n=await dn(A);if(!a&&(a=LE.urlComponentsForUnsafeURL(n.unparsedUrl)?.origin,!a))throw new F.LoggableError({errorClass:F.logsafe.assertLogSafe("FillGeneratedPasswordForTab"),message:F.logsafe.assertLogSafe("Unable to get origin from tab URL.")});try{await QT(A,n,{fillTargets:[{type:"Url",data:a}],fields:[{designation:gs.AutofillType.NewPassword,value:r.password,htmlId:"",htmlName:"",fieldTypes:[gs.ElementType.Password],label:"",checked:!1,restricted:!0}]},j)}catch{let o="Error filling the fill object.";throw console.error(o),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("FillGeneratedPasswordForTab"),message:F.logsafe.assertLogSafe(o)})}let{autoSaveEnabled:i}=Re();try{i&&await Ar.anyAccountHasFlag("b5x-autosave-suggested-password")?await UUA(A,r):await Vi(A,$r,{name:"collected-page-details",data:{collectedPageDetails:await dn(A),generatePasswordDetails:r}})}catch{let o="Error showing the save dialog.";throw console.error(o),new F.LoggableError({errorClass:F.logsafe.assertLogSafe("FillGeneratedPasswordForTab"),message:F.logsafe.assertLogSafe(o)})}}var Bte=[{id:"diagnostic",label:"Diagnostic report",shouldRun:G7,targetMs:1e3,numRepeats:1,setup:async()=>{let A=new w7;await A.initDatabase();let e=await Hd.getConsoleLogs();await A.purgeOutdatedConsoleLogs(0);let t={name:"1Password",job:"Company Owner"};for(let a=0;a<1e5;a++)await A.saveConsoleLog(["This is a test log that is somewhat long to be more realistic to what we might see in the real world.",t],"INFO");return async()=>{await A.purgeOutdatedConsoleLogs(0);let a=await A.openDatabase();for(let j of e)await a.saveConsoleLog(j)}},run:async()=>Bx(async()=>{let A=await Hd.getConsoleLogs();await fX(A)})},{id:"diagnostic-raw",label:"Diagnostic report",shouldRun:G7,targetMs:1e3,numRepeats:1,setup:async()=>{let A=new w7;await A.initDatabase();let e=await Hd.getConsoleLogs();await A.purgeOutdatedConsoleLogs(0);let t={name:"1Password",job:"Company Owner"};for(let a=0;a<1e5;a++)await A.saveConsoleLog(["This is a test log that is somewhat long to be more realistic to what we might see in the real world.",t],"INFO");return async()=>{await A.purgeOutdatedConsoleLogs(0);let a=await A.openDatabase();for(let j of e)await a.saveConsoleLog(j)}},run:async()=>Bx(async()=>{await Hd.getConsoleLogs()})},{id:"generating-diagnostic-logs",label:"Generating diagnostic logs",shouldRun:G7,targetMs:300,numRepeats:5,setup:async()=>{let A=new w7;await A.initDatabase();let e=await Hd.getConsoleLogs();await A.purgeOutdatedConsoleLogs(0);let t={name:"1Password",job:"Company Owner"};for(let a=0;a<1e5;a++)await A.saveConsoleLog(["This is a test log that is somewhat long to be more realistic to what we might see in the real world.",t],"INFO");return async()=>{await A.purgeOutdatedConsoleLogs(0);let a=await A.openDatabase();for(let j of e)await a.saveConsoleLog(j)}},run:async()=>{let A=new w7;await A.initDatabase();let e={name:"1Password",job:"Company Owner"},t=[];for(let r=0;r<1e3;r++)t.push(new Promise(async a=>{await A.saveConsoleLog(["This is a test log that is somewhat long to be more realistic to what we might see in the real world.",e],"INFO"),a()}));return Bx(async()=>{await Promise.all(t)})}},{id:"wasm-init",label:"WASM Initialization",targetMs:1e3,run:()=>fx("wasm-init")},{id:"wasm-init-import",label:"WASM Initialization - Import",targetMs:600,run:()=>fx("wasm-init-import")},{id:"wasm-init-ffi",label:"WASM Initialization - ffi",targetMs:600,run:()=>fx("wasm-init-ffi")},{id:"wasm-init-preconfig",label:"WASM Initialization - preconfig",targetMs:600,run:()=>fx("wasm-init-preconfig")},{id:"wasm-init-loadssm",label:"WASM Initialization - ssm",targetMs:100,shouldRun:()=>!1,run:()=>fx("wasm-init-ssm")},{id:"wasm-init-fsm",label:"WASM Initialization - fsm",targetMs:100,shouldRun:()=>$j(),run:()=>fx("wasm-init-fsm")},{id:"wasm-init-uso-fsm",label:"WASM Initialization - uso fsm",targetMs:100,shouldRun:()=>$j(),run:()=>fx("wasm-init-uso-fsm")},{id:"wasm-init-uso-sm",label:"WASM Initialization - uso sm",targetMs:100,shouldRun:()=>$j(),run:()=>fx("wasm-init-uso-sm")},{id:"item-decrypt",label:"Item Decryption",targetMs:1e3,numRepeats:5,run:async()=>Bx(async()=>{await $t.loadAndDecryptItemCache()})},{id:"sync-all-accounts",label:"Sync - All Accounts",targetMs:800,numRepeats:5,run:async()=>Bx(async()=>{await Promise.all(rA.signedInAccounts.map(A=>rA.runSyncerForAccount(A.uuid)))})},{id:"fill-all-fields",label:"Fill - All Fields",targetMs:100,numRepeats:5,run:async()=>{let{id:A}=await ir.openTab({url:"https://fill.dev/all",waitForLoad:!0});if(!A)throw new Error("Tab was missing id!");let e=await xl(A);if(!e)throw new Error("Unable to create tab info!");let t=await Bx(async()=>{await dn(e,!1)});return browser.tabs.remove(e.id),t}},{id:"fill-generated-password",label:"Fill - Generated Password",targetMs:1e3,numRepeats:5,run:async()=>{let{id:A}=await ir.openTab({url:"https://fill.dev/all",waitForLoad:!0});if(!A)throw new Error("Tab was missing id!");let e=await xl(A);if(!e)throw new Error("Unable to create tab info!");oj()&&await new Promise(r=>setTimeout(r,500));let t=await Bx(async()=>{await p8(e,!1,void 0,{password:"password123",entropy:0,strengthPercent:100})});return browser.tabs.remove(e.id),t}},{id:"sls-lock-state-request",label:"SLS - Lock State Request",targetMs:100,numRepeats:5,shouldRun:()=>Mt.getDesktopAppState().type==="Connected",run:async()=>Bx(async()=>{await Mt.desktopConnectionManager?.lockState()})}];function BX(A){performance.mark(`${A}-start`)}function hhA(A){performance.mark(`${A}-end`)}function fx(A){try{let e=performance.measure(A,`${A}-start`,`${A}-end`).duration;return ghA(e)}catch(e){throw e instanceof SyntaxError?new Error(`Unable to find start/end mark for "${A}"`):new Error(`Unable to measure performance for "${A}"`)}}function ghA(A){return Math.round(A*100)/100}async function Bx(A){performance.mark("benchmark-start"),await A();let e=performance.measure("benchmark","benchmark-start").duration;return ghA(e)}var khA=[];async function Ete(){return{benchmarks:Bte.map(({id:A,label:e,shouldRun:t,targetMs:r})=>({id:A,label:e,shouldRun:t?t():!0,targetMs:r}))}}async function xte(A){let e=new Xa("\u{1F4CA} Benchmarks");if(Pa())throw e.error("Couldn't run benchmarks, extension was locked"),new Error("Please unlock to run the benchmark");let t=Bte.find(r=>r.id===A.data.benchmarkId);if(!t)throw new Error("Could not locate benchmark");if(!(typeof t.shouldRun=="function"&&!t.shouldRun()))if(t.numRepeats!==void 0){let r=[];for(let n=0;n<t.numRepeats;n++)try{let i=t.setup&&await t.setup(),o=await t.run();e.log(`[${t.label} - ${n+1}/${t.numRepeats}] Ran in ${o}ms; Target is ${t.targetMs}ms`),r.push(o),i&&await i()}catch(i){e.warn(`[${t.label} - ${n+1}/${t.numRepeats}] ${i}`)}let a=r.reduce((n,i)=>n+i,0),j={id:t.id,label:t.label,shouldRun:t.shouldRun?t.shouldRun():!0,targetMs:t.targetMs,ms:ghA(a/r.length)};return khA.push(j),j}else{let r;try{r=await t.run(),e.log(`[${t.label}] Ran in ${r}ms; Target is ${t.targetMs}ms`)}catch(j){e.warn(`[${t.label}] ${j}`)}let a={id:t.id,label:t.label,shouldRun:t.shouldRun?t.shouldRun():!0,targetMs:t.targetMs,ms:r};return khA.push(a),a}}async function bte(){if(Pa())throw new Error("Please unlock to export the benchmark");let A=await $t.loadItemCache(),e=await yl(!0);await n8("benchmark.json",{userAgent:navigator.userAgent,version:Pp.currentVersion(),accounts:e.map(t=>({id:t.id,vaultCount:t.vaults?.length})),itemCount:A?.items().length,slsState:Mt.desktopConnectionManager?.getState().type,results:khA.map(t=>({label:t.label,ms:t.ms}))})}var fhA={},EX=TA.assertLogSafe("background/core.ts"),$7=Yg.intersection([Yg.partial({uuid:Yg.string}),Yg.type({templateUuid:Yg.string,overview:ZA.VaultItemOverview,details:ZA.VaultItemDetails})],"CoreItem"),BhA=class{constructor(){this.richIconCache=new yU;this.wasmIsInitialized=!1}async init(e){return P0A()||console.error("\u26D4 WebAssembly.instantiate not found. Is WebAssembly supported by your browser and enabled?"),BX("wasm-init"),BX("wasm-init-import"),await g3A(f3A),this.wasmIsInitialized=!0,hhA("wasm-init-import"),BX("wasm-init-ffi"),hhA("wasm-init"),this.setLocale(e)}ensureWasmIsInitialized(){if(!this.wasmIsInitialized)throw new Error("WASM is not initialized, unable to make core call.")}async setLocale(e){return this.sendCoreMessage({name:"set-core-locale",data:e})}async createItem(e,t){let r=await this.sendCoreMessage({name:"create-item",data:{collectedPageDetails:e,itemTemplate:JSON.stringify(t)}});return F.decode(r.item,F.json.pipe($7),{mode:"unsafe_report_only",file:EX,func:F.logsafe.assertLogSafe("createItem")}).unwrap()}async analyzePage(e,t,r){let a=await Ar.anyAccountHasFlag("b5x-ignore-autocomplete-off-identities");return this.sendCoreMessage({name:"analyze-page",data:{collectedPageDetails:e,mode:t?Uj.ResolveMode.ActiveFieldOnly:Uj.ResolveMode.AllFields,integrations:r,debugOptions:{sshKeyAnalysis:!0,enhancedIdentityAnalysis:!0,ignoreAutocompleteOffIdentities:a}}})}async shouldPromptToSave(e){return this.sendCoreMessage({name:"should-prompt-to-save",data:{collectedPageDetails:e}})}async fieldValueByIdentifier(e,t){let r;try{r=e.templateUuid?await Dc(e.templateUuid):void 0}catch{console.warn("Unable to load template for item.")}let a=await this.sendCoreMessage({name:"field-value-by-identifier",data:{item:Hs(e),fieldIdentifier:t,itemTemplateJson:r?JSON.stringify(r):void 0}});return a?vt(a):Pe(void 0)}async unOpaqueFilePosition(e){return this.sendCoreMessage({name:"un-opaque-file-position",data:{filePosition:e}})}async clearFillSession(){return this.sendCoreMessage({name:"clear-fill-session",data:null})}async onLock(){try{this.ensureWasmIsInitialized()}catch{console.error("Calling WASM onLock failed because WASM wasn't initialized")}try{await k3A()}catch(e){console.error("Calling WASM onLock failed:",e)}}async fill(e,t,r){return r||=fhA,this.sendCoreMessage({name:"fill",data:{collectedPageDetails:t,fillObject:e,postFill:r.postFill}})}async fillItem(e,t,r){r||=fhA;let a={collectedPageDetails:t,item:Hs(e),additionalFillTargets:[],postFill:r.postFill,designationFilter:r.designationFilter};return this.sendCoreMessage({name:"fill-item",data:a})}async nextFill(e,t,r,a,j){j||=fhA;let n={itemId:(e.localId??0).toString(),collectedPageDetails:t,item:Hs(e),postFill:j.postFill,sessionAssociation:{type:"BrowserTab",data:{tabId:r.id,tabUrl:r.unparsedUrl}},fillSessionUuid:a};return this.sendCoreMessage({name:"next-fill",data:n})}async fillSessionStatus({id:e,unparsedUrl:t}){let r=await this.sendCoreMessage({name:"fill-session-status",data:{sessionAssociation:{type:"BrowserTab",data:{tabId:e,tabUrl:t}}}}),a;return r.itemId&&!Pa()&&(a=(await $t.loadItemCache())?.itemWithLocalId({type:"databaseId",data:Number.parseInt(r.itemId)})?.uuid),{status:r.status,postFill:r.postFill,itemUuid:a}}nakedDomainForUrl(e){return e?(this.ensureWasmIsInitialized(),p3A(e)):""}async serviceIntegrationForUrl(e){return this.sendCoreMessage({name:"service-integration-for-url",data:e})}async startFillSession(e,t){return this.sendCoreMessage({name:"start-fill-session",data:{itemId:(typeof e.localId=="number"?e.localId??0:0).toString(),sessionAssociation:{type:"BrowserTab",data:{tabId:t.id,tabUrl:t.unparsedUrl}}}})}async createPrivacyCard(e){return this.sendCoreMessage({name:"create-privacy-card",data:e})}async getPrivacyFundingAccounts(e){return this.sendCoreMessage({name:"get-funding-accounts",data:e})}async createItemFromSaveRequest(e){let t=await this.sendCoreMessage({name:"create-item-from-save-request",data:e});return F.decode(t.item,F.json.pipe($7),{mode:"unsafe_report_only",file:EX,func:TA.assertLogSafe("createItemFromSaveRequest")}).unwrap()}async saveUrlsFromSaveRequest(e){return await this.sendCoreMessage({name:"save-urls-from-save-request",data:e})}async validatePrivacyCardParams(e){return this.sendCoreMessage({name:"validate-privacy-card-params",data:e})}async generatePassword(e){return this.sendCoreMessage({name:"generate-password",data:e})}async generateSuggestedPassword(e){return this.sendCoreMessage({name:"generate-suggested-password",data:e})}async compareWatchTowerDiff(e,t){return this.sendCoreMessage({name:"watchtower-diff",data:{existingCompromisedWebsites:e,newCompromisedWebsites:t}})}async handleWatchtowerAction(e,t){let r=await this.sendCoreMessage({name:"handle-watchtower-action",data:{action:e,item:Hs(t)}});return F.decode(r.item,F.json.pipe($7),{mode:"unsafe_report_only",file:EX,func:TA.assertLogSafe("handleWatchtowerItem")}).unwrap()}async generateOneTimePasswordFromUrl(e){return(await this.sendCoreMessage({name:"generate-totp",data:{url:e}})).oneTimePassword}generateRichIconBackgroundColor(e){this.ensureWasmIsInitialized();let t=this.richIconCache.get(e);if(t)return t;let r=m3A(e);return this.richIconCache.set(e,r),r}async generateSharableItemLink(e){return(await this.sendCoreMessage({name:"generate-shareable-item-link",data:e})).url}async getCreditCardType(e){try{return await this.sendCoreMessage({name:"classify-credit-card-number",data:e})}catch{return}}async concealCreditCardNumber(e){return this.sendCoreMessage({name:"conceal-credit-card-number",data:e})}newCompromisedWebsiteItems(e){return this.sendCoreMessage({name:"new-compromised-website-items",data:e})}async parseMarkdown(e){return this.sendCoreMessage({name:"parse-markdown",data:e})}async editItemFilter(e){return this.sendCoreMessage({name:"edit-item-filter",data:e})}async saveManagerCreate(e,t,r,a,j,n,i,o){return this.sendCoreMessage({name:"save-manager-create",data:{tabInfo:{tabId:e.id,tabUrl:e.unparsedUrl},clearOnNavigate:t,isTutorial:bl(e),itemTemplate:JSON.stringify(r),aliasData:a,initializationData:j,initializationOption:n,includeRichIcons:i,locale:o}})}async saveManagerStatus({id:e,unparsedUrl:t}){return this.sendCoreMessage({name:"save-manager-status",data:{tabInfo:{tabId:e,tabUrl:t}}})}async saveManagerConfigure(e,t,r,a){let j;if(r)switch(r.type){case"new":j={type:"new"};break;case"existing":if(!r.data.overview.b5AccountUUID)throw new F.LoggableError({errorClass:TA.assertLogSafe("saveManagerConfigure"),message:TA.assertLogSafe("Attempted to update an item without an associated b5 account.")});j={type:"existing",data:{item:Hs(r.data),existingAccountUuid:r.data.overview.b5AccountUUID}};break;default:jr(r)}return this.sendCoreMessage({name:"save-manager-configure",data:{tabInfo:{tabId:e.id,tabUrl:e.unparsedUrl},vaultSelector:t,item:j,relatedItemData:a??{usernameSuggestions:[],tagSuggestions:[],relatedItems:[],watchtowerAccounts:[]}}})}async saveManagerAction(e){return await this.sendCoreMessage({name:"save-manager-action",data:e})}async saveManagerMatchingItems({id:e,unparsedUrl:t},r,a){return this.sendCoreMessage({name:"save-manager-matching-items",data:{tabInfo:{tabId:e,tabUrl:t},items:r.map(j=>({item:Hs(j),isShellPlugin:!1,rowId:`${j.localId}`})),templateUuid:a}})}async autoSaveMatchingItems(e,t,r){return this.sendCoreMessage({name:"auto-save-matching-items",data:{existingItems:e.map(a=>({item:Hs(a)})),saveObject:t,templateUuid:r}})}async createSaveObject(e,t,r){return this.sendCoreMessage({name:"create-save-object",data:{templateUuid:e,collectedPageDetails:t,generatePasswordDetails:r}})}async mergeSaveObjectWithItem(e,t,r,a){let j=await this.sendCoreMessage({name:"merge-save-object-with-item",data:{template:JSON.stringify(e),item:t?{item:Hs(t)}:void 0,saveObject:r,aliasData:a}});return F.decode(j.item,F.json.pipe($7),{mode:"unsafe_report_only",file:EX,func:F.logsafe.assertLogSafe("createItem")}).unwrap()}parseVaultType(e){switch(e){case"P":return Uj.VaultType.Personal;case"E":return Uj.VaultType.Everyone;case"T":return Uj.VaultType.Transfer;case"U":return Uj.VaultType.UserCreated;case"S":return Uj.VaultType.System;case"G":return Uj.VaultType.GeneratedPasswords;default:return Uj.VaultType.Unsupported}}parseAccountType(e){switch(e){case"I":return Uj.AccountType.Individual;case"F":return Uj.AccountType.Family;case"B":return Uj.AccountType.Team;default:return Uj.AccountType.Unsupported}}parseAccountState(e){switch(e){case"R":return Uj.AccountState.Registered;case"A":return Uj.AccountState.Active;case"S":return Uj.AccountState.Suspended;case"D":return Uj.AccountState.Deleted;case"X":return Uj.AccountState.Purging;case"Z":return Uj.AccountState.Purged;default:return Uj.AccountState.Unsupported}}getB5xBrowser(){switch("firefox"){case"chromium":return Uj.Browser.Chrome;case"firefox":return Uj.Browser.Firefox;case"safari-ios":return Uj.Browser.SafariIos;case"safari-macos":return Uj.Browser.SafariMacos}}buildPermissionBundle(e,t,r){let a=Uj.BillingStatus.Active;return t&&(a=Uj.BillingStatus.Frozen),{vaultAcls:e,userState:r,billingStatus:a}}async getAccountIcon(e,t,r,a){let j={base_avatar_url:e,account_uuid:t,avatar_filename:r,account_type:this.parseAccountType(a)};return this.sendCoreMessage({name:"get-account-icon",data:j})}async getVaultIcon(e,t,r){let a={base_avatar_url:e,account_uuid:t,avatar_filename:r};return this.sendCoreMessage({name:"get-vault-icon",data:a})}async inferBestTitle(e,t){return this.sendCoreMessage({name:"infer-best-title",data:{title:e,url:t}})}async getAppleChangePasswordUrl(e){return this.sendCoreMessage({name:"get-apple-change-password-url",data:e})}async getItemDetails(e,t,r,a,j,n,i,o,s,c,u,p,h,f,G){let w;try{w=e.templateUuid?await Dc(e.templateUuid):void 0}catch{console.warn("Unable to load template for item.")}let y=await kH(e);return y.isErr()&&console.warn(`Unexpected error loading custom icon: ${y.error.type}`),await this.sendCoreMessage({name:"get-item-details",data:{item:Hs(e),vaultInfo:t,accountInfo:r,itemTemplateJson:w?JSON.stringify(w):void 0,downloadRichIcons:i,customIconUrl:y.unwrapOr(void 0),relatedItemOverviews:await mte(e),fileStatuses:await pte(e),permissionBundle:a,watchtowerData:j,aliasStates:c,activeTabUnparsedUrl:n,revealedElementIds:o,devtoolsEnabled:s,isInNewWindow:await sJA(),browser:this.getB5xBrowser(),includeTimestamps:!0,canAutofill:!0,includeLargeType:!0,integrationInformation:G,managesMultipleAccounts:u,familyChildAccountsEnabled:p,isDateTimeLocalizationEnabled:h,autosubmitEnabled:f}})}async getLargeTypeWithClientFormattedString(e,t){return this.sendCoreMessage({name:"large-type",data:{type:"withClientFormattedString",content:{item:Hs(e),clientFormattedString:t}}})}async getLargeTypeWithFieldIdentifier(e,t){let r;try{r=e.templateUuid?await Dc(e.templateUuid):void 0}catch{console.warn("Unable to load template for item.")}return this.sendCoreMessage({name:"large-type",data:{type:"withFieldIdentifier",content:{item:Hs(e),fieldIdentifier:t,itemTemplateJson:r?JSON.stringify(r):void 0}}})}async refreshTotp(e){return this.sendCoreMessage({name:"refresh-totp",data:{...e,includeLargeType:!0}})}async passwordGeneratorViewModel(e){return this.sendCoreMessage({name:"password-generator-view-model",data:e})}async sendCoreMessage(e){this.ensureWasmIsInitialized();let t=await u3A(JSON.stringify(e));return edt(JSON.parse(t))}async startEmailAliasSession(e,t,r){return this.sendCoreMessage({name:"start-email-alias-session",data:{tabId:e.id,tabUrl:e.unparsedUrl,accountUuid:t,fastmailAccountId:r}})}async getEmailAliasSessionStatus(e,t){return this.sendCoreMessage({name:"get-email-alias-session-status",data:{tabId:e,tabUrl:t}})}async generateEmailAlias(e,t){return this.sendCoreMessage({name:"generate-email-alias",data:{tabId:e.id,tabUrl:e.unparsedUrl,accessToken:t}})}async endEmailAliasSession(e,t){return this.sendCoreMessage({name:"end-email-alias-session",data:{tabId:e,accessToken:t}})}async enableEmailAliasSession(e,t){return this.sendCoreMessage({name:"enable-email-alias-session",data:{tabId:e.id,tabUrl:e.unparsedUrl,accessToken:t}})}async getEmailAliasAccountName(e,t){return this.sendCoreMessage({name:"get-email-alias-account-name",data:{accessToken:e,accountId:t}})}async updateEmailAlias(e,t,r){return this.sendCoreMessage({name:"update-email-alias",data:{accessToken:e,aliasId:t,updateObject:r}})}async getEmailAliasState(e,t){return this.sendCoreMessage({name:"get-email-alias-state",data:{accessToken:e,aliasId:t}})}async getCurrentBrexUser(e){return this.sendCoreMessage({name:"get-current-brex-user",data:e})}async getAllCardsForBrexUser(e){return this.sendCoreMessage({name:"get-all-cards-for-brex-user",data:e})}async createBrexVendorCardForUser(e){return this.sendCoreMessage({name:"create-brex-vendor-card-for-user",data:e})}async getOauthAccessToken(e){return this.sendCoreMessage({name:"get-oauth-access-token",data:e})}async enrollTrustedDevice(e){if(!this.wasmIsInitialized)throw new Error("WASM is not loaded, unable to make core call.");await d3A(e.useCase,e.setupCode,e.email,e.signInAddress,e.enrollmentUuid,e.credentialBundle,e.sendMsgA,e.recvMsgB,e.sendAuthA,e.recvAuthB,e.sendCredentials)}async createSshKeyItem(e){return this.sendCoreMessage({name:"create-ssh-key-item",data:e})}async usoProviderConfig(e){return this.sendCoreMessage({name:"uso-provider-config",data:e})}async usoUrlToProvider(e){return this.sendCoreMessage({name:"uso-url-to-provider",data:e})}async usoBrowserEvent(e){return this.sendCoreMessage({name:"uso-browser-event",data:e})}async usoContext(e){return this.sendCoreMessage({name:"uso-context",data:e})}async usoCompleteSession(e){return this.sendCoreMessage({name:"uso-complete-session",data:e})}async usoContextAccount(e){return this.sendCoreMessage({name:"uso-context-account",data:e})}async getRichIconForUrl(e,t,r){return this.sendCoreMessage({name:"get-rich-icon-for-website",data:{url:e,title:t,richIcons:r}})}async usoStartFillSession(e){return this.sendCoreMessage({name:"uso-start-fill-session",data:e})}async webAuthnRegister(e){return this.sendCoreMessage({name:"web-authn-register",data:e})}async webAuthnLogin(e){return this.sendCoreMessage({name:"web-authn-login",data:e})}async webAuthnRPValidate(e){return this.sendCoreMessage({name:"web-authn-validate-relying-party",data:e})}async calculateEffectivePolicies(e){return this.sendCoreMessage({name:"calculate-effective-policies",data:e})}};function edt(A){if(!A)throw new Error("\u26D4 Unable to handle response from op-wasm-b5x, input was falsy");let{result:e,error:t}=A;if(t)throw new Error(`\u26D4 Core error code: ${typeof t=="string"?t:JSON.stringify(t)}`);return e}var FA=new BhA;var tdt=function(A,e){var t=String(A).split("."),r=!t[1];return e?"other":A==1&&r?"one":"other"},EhA=function(A,e){var t=String(A).split("."),r=!t[1],a=Number(t[0])==A,j=a&&t[0].slice(-1),n=a&&t[0].slice(-2);return e?j==1&&n!=11?"one":j==2&&n!=12?"two":j==3&&n!=13?"few":"other":A==1&&r?"one":"other"},rdt=function(A,e){return e?"other":A==1?"one":"other"},adt=function(A,e){return e?A==1?"one":"other":A>=0&&A<2?"one":"other"},jdt=function(A,e){var t=String(A).split("."),r=!t[1];return e?A==11||A==8||A==80||A==800?"many":"other":A==1&&r?"one":"other"},ndt=function(A,e){return"other"},idt=function(A,e){return"other"},odt=function(A,e){var t=String(A).split("."),r=!t[1];return e?"other":A==1&&r?"one":"other"},sdt=function(A,e){var t=String(A).split("."),r=t[0];return e?"other":r==0||r==1?"one":"other"},ldt=function(A,e){var t=String(A).split("."),r=t[0],a=!t[1],j=r.slice(-1),n=r.slice(-2);return e?"other":a&&j==1&&n!=11?"one":a&&j>=2&&j<=4&&(n<12||n>14)?"few":a&&j==0||a&&j>=5&&j<=9||a&&n>=11&&n<=14?"many":"other"},ko=function(A,e,t){if(!t)return A;if(isNaN(A))throw new Error("Can't apply offset:"+t+" to argument `"+e+"` with non-numerical value "+JSON.stringify(A)+".");return A-t},rm=function(A,e,t,r,a){if({}.hasOwnProperty.call(r,A))return r[A];e&&(A-=e);var j=t(A,a);return j in r?r[j]:r.other},xX={de:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'" zu 1Password hinzugef\xFCgt.'},"--itemName---was-saved-in---vaultName---":function(A){return'"'+A.itemName+'" wurde in "'+A.vaultName+'" gespeichert.'},"-accountName--is-offline-":function(A){return A.accountName+" ist offline."},"-count--Items-archived":function(A){return A.count+" Objekte archiviert"},"-count--Items-deleted":function(A){return A.count+" Objekte gel\xF6scht"},"-count--Items-favorited":function(A){return A.count+" Objekte als Favoriten markiert"},"-count--Items-removed-from-favorites":function(A){return A.count+" Objekte aus Favoriten entfernt"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" in der N\xE4he von "+A.location+" versucht, sich bei Ihrem "+A.accountName+"-Konto anzumelden."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" in der N\xE4he von "+A.location+" versucht, sich bei Ihrem "+A.accountName+"-Konto anzumelden. Zum Anzeigen \xF6ffnen Sie bitte 1Password in der Symbolleiste Ihres Browsers."},"-fileName--downloaded":function(A){return"\u201E"+A.fileName+"\u201C heruntergeladen"},"-itemType--saved":function(A){return A.itemType+" gespeichert"},"1Password-8-Required":function(A){return"1Password 8 erforderlich"},"1Password-account-added":function(A){return"1Password-Konto hinzugef\xFCgt"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password kann die Datenbank nicht \xF6ffnen, da nicht gen\xFCgend Speicherplatz f\xFCr "+A.browser+" verf\xFCgbar ist. Um 1Password zu verwenden, geben Sie bitte etwas Speicherplatz frei."},"1Password-is-up-to-date":function(A){return"1Password ist aktuell"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password macht auf dieser Seite keine Vorschl\xE4ge mehr zum automatischen Ausf\xFCllen.

Die Liste verborgener Seiten wird in diesem Webbrowser gespeichert. Sie k\xF6nnen die Liste jederzeit in den Einstellungen l\xF6schen.`},"A-database-error-occurred-":function(A){return"Ein Datenbankfehler ist aufgetreten."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Eine Website wurden in "+A.count+" von Ihren Konten Watchtower hinzugef\xFCgt."},"API-Key":function(A){return"API-Schl\xFCssel"},"Add-account-":function(A){return"Konto hinzuf\xFCgen\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Alle diese Objekte werden sofort entfernt. Sie k\xF6nnen diese jedoch f\xFCr eine begrenzte Zeit auf 1Password.com wiederherstellen."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Bem Generieren der maskierten E-Mail ist ein Fehler aufgetreten."},"An-error-occurred--Please-try-again-":function(A){return"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Beim Aktivieren und Ausf\xFCllen der maskierten E-Mail ist ein Fehler aufgetreten."},"An-unknown-error-has-occurred-":function(A){return"Ein unbekannter Fehler ist aufgetreten."},"Any-Website":function(A){return"Jede Website"},Archive:function(A){return"Archivieren"},"Archive--count--items-":function(A){return A.count+" Elemente archivieren?"},"Archived---title--":function(A){return"\u201E"+A.title+"\u201C archiviert"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Archivierte Objekte werden nicht in F\xFCllvorschl\xE4gen f\xFCr Websites oder in Apps angezeigt."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"Soll \u201E"+A.itemName+"\u201C wirklich archiviert werden?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"Soll \u201E"+A.itemName+"\u201C wirklich gel\xF6scht werden?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"Sind Sie sicher, dass Sie "+rm(A.count,0,tdt,{one:ko(A.count,"count")+" Objekt",other:ko(A.count,"count")+" Objekte"})+" l\xF6schen m\xF6chten?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"Sind Sie sicher, dass Sie dieses Passwort l\xF6schen m\xF6chten?"},"Authentication-Required":function(A){return"Authentifizierung erforderlich"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"Authentifizierung wurde unterbrochen oder hat eine Zeit\xFCberschreitung verursacht. Bitte versuchen Sie es erneut."},Benchmarking:function(A){return"Benchmarking"},"Biometry-is-currently-unavailable-":function(A){return"Biometrie ist derzeit nicht verf\xFCgbar."},Cancel:function(A){return"Abbrechen"},"Collect-Page-Structure":function(A){return"Seitenstruktur sammeln"},"Continue-Signing-In":function(A){return"Anmeldung fortsetzen"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" kopiert"},"Copied-field":function(A){return"Kopiertes Feld"},"Copied-generated-password":function(A){return"Generiertes Passwort kopiert"},"Copied-item-JSON":function(A){return"Objekt-JSON kopiert"},"Copied-item-UUID":function(A){return"Objekt-UUID kopiert"},"Copied-item-link":function(A){return"Objektlink kopiert"},"Copied-one-time-password":function(A){return"Einmal-Passwort kopiert"},"Corporate-Card":function(A){return"Firmenkarte"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"Verbindung zur 1Password-App konnte nicht hergestellt werden. Versuchen Sie erneut, die App zu entsperren."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"Authentifizierung konnte nicht abgeschlossen werden. Aktualisieren Sie die 1Password-Desktop-Version und versuchen Sie es erneut."},"Create-Brex-vendor-card-":function(A){return"Brex-Verk\xE4uferkarte erstellen \u2026"},"Create-Masked-Email-":function(A){return"Verschleierte E-Mail erstellen\u2026"},"Create-Privacy-Card-":function(A){return"Privacy Card erstellen\u2026"},"Create-SSH-Key-":function(A){return"SSH-Key erstellen\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"F\xFCr das Erstellen und Bearbeiten von SSH-Keys ist 1Password 8 erforderlich."},"Credit-Card":function(A){return"Kreditkarte"},"Credit-card":function(A){return"Kreditkarte"},Delete:function(A){return"L\xF6schen"},"Deleted---title--":function(A){return"\u201E"+A.title+"\u201C gel\xF6scht"},"Disabled-sign-in-automatically-on---title--":function(A){return"Automatische Anmeldung f\xFCr \u201E"+A.title+"\u201C deaktiviert"},"Disabled-sign-in-automatically-on--count--items":function(A){return"Automatische Anmeldung f\xFCr "+A.count+" Objekte deaktiviert"},"Disk-space-too-low":function(A){return"Speicherplatz ist zu niedrig"},"Do-you-have-an-existing-account-":function(A){return"Haben Sie ein bestehendes Konto?"},"Don-t-Save-in-1Password":function(A){return"Nicht in 1Password speichern"},"Download-failed":function(A){return"Download fehlgeschlagen"},"Duo-Authentication-Required":function(A){return"Duo-Authentifizierung erforderlich"},"Email-blocked":function(A){return"E-Mail blockiert"},"Email-unblocked":function(A){return"E-Mail nicht mehr blockiert"},Employee:function(A){return"Angestellte"},"Enabled-sign-in-automatically-on---title--":function(A){return"Automatische Anmeldung f\xFCr \u201E"+A.title+"\u201C aktiviert"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Automatische Anmeldung f\xFCr "+A.count+" Objekte aktiviert"},"Enter-Account-Password":function(A){return"Kontopasswort eingeben"},"Failed-to-copy-field":function(A){return"Feld konnte nicht kopiert werden"},"Failed-to-delete-password":function(A){return"Fehler beim L\xF6schen des Passworts"},"Favorited---title--":function(A){return"\u201E"+A.title+"\u201C als Favorit markiert"},"Fill-Masked-Email-":function(A){return"Verschleierte E-Mail ausf\xFCllen \u2026"},"Get-Help":function(A){return"Hilfe anfordern"},Help:function(A){return"Hilfe"},"Hide-on-this-page":function(A){return"Auf dieser Seite ausblenden"},Identity:function(A){return"Identit\xE4t"},Item:function(A){return"Objekt"},"Learn-More-":function(A){return"Erfahren Sie mehr\u2026"},"Link-Existing":function(A){return"Bestehende verkn\xFCpfen"},Lock:function(A){return"Sperren"},Login:function(A){return"Login"},Managed:function(A){return"Verwaltet"},"New-app-or-browser-found":function(A){return"Neue App oder neuer Browser gefunden"},"New-item-saved-in-1Password-":function(A){return"Neues Objekt in 1Password gespeichert."},"No-QR-code-found-for-2FA":function(A){return"Kein QR-Code f\xFCr 2FA gefunden"},"No-accounts-found-":function(A){return"Keine Konten gefunden."},OK:function(A){return"OK"},Ok:function(A){return"OK"},Personal:function(A){return"Pers\xF6nlich"},"Physical-Card":function(A){return"Physische Karte"},Private:function(A){return"Privat"},"Removed---title---from-favorites":function(A){return"\u201E"+A.title+"\u201C aus Favoriten entfernt"},"Report-Issue":function(A){return"Problem melden"},"Report-error-":function(A){return"Fehler melden\u2026"},Save:function(A){return"Speichern"},Security:function(A){return"Sicherheit"},Settings:function(A){return"Einstellungen"},Shared:function(A){return"Geteilt"},"Sign-Up":function(A){return"Anmelden"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Melden Sie sich in Ihrem 1Password-Konto ("+A.accountName+") an und authentifizieren Sie sich mit Duo, um fortzufahren."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Melden Sie sich in Ihrem 1Password-Konto ("+A.accountName+") an, um fortzufahren."},"Sign-in-with--authProvider-":function(A){return"Anmelden mit "+A.authProvider},"Sign-in-with-passkey":function(A){return"Mit Passkey anmelden"},"Stay-Offline":function(A){return"Offline bleiben"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Vielen Dank, dass Sie die neueste Version ("+A.version+") von 1Password nutzen!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"Das hat nicht funktioniert. \xDCberpr\xFCfen Sie Ihr Passwort und versuchen Sie es erneut."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Diese Karte wurde gesperrt/gek\xFCndigt. Bitte verwenden Sie eine andere Karte."},"This-entry-will-be-removed-immediately-":function(A){return"Dieser Eintrag wird sofort entfernt."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Dieses Objekt wird sofort entfernt. Sie k\xF6nnen Objekte f\xFCr eine begrenzte Zeit auf 1Password.com wiederherstellen."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Um ein Objekt in diesem Konto zu speichern, m\xFCssen Sie es mit dem zuvor ausgew\xE4hlten Konto f\xFCr maskierte E-Mails verkn\xFCpfen."},"Unable-to-add-one-time-password-field-to-item":function(A){return"Feld f\xFCr Einmal-Passwort kann dem Objekt nicht hinzugef\xFCgt werden"},"Unable-to-copy-generated-password":function(A){return"Generiertes Passwort konnte nicht kopiert werden"},"Unable-to-fill-generated-password":function(A){return"Generiertes Passwort kann nicht eingetragen werden"},"Unable-to-generate-and-copy-one-time-password":function(A){return"Einmal-Passwort kann nicht generiert und kopiert werden"},"Unable-to-save-generated-password":function(A){return"Generiertes Passwort kann nicht gespeichert werden"},"Unable-to-unlock-account-":function(A){return"Entsperren des Kontos nicht m\xF6glich."},"Unknown-Device":function(A){return"Unbekanntes Ger\xE4t"},Unlock:function(A){return"Entsperren"},"Unlock-account-from-the-desktop-app":function(A){return"Konto von der Desktop-App freischalten"},"Use-Suggested-Password":function(A){return"Empfohlenes Passwort nutzen"},"Vendor-Card":function(A){return"Verk\xE4uferkarte"},"Watchtower-Alert":function(A){return"Watchtower-Alarm"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Sie k\xF6nnen einen Link zu einem bestehenden Familienkonto w\xE4hlen oder ein neues Konto erstellen."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Sie werden gebeten, Ihr Passwort erneut einzugeben, weil f\xFCr "+A.browserName+" ein Update verf\xFCgbar ist."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Sie haben das t\xE4gliche Limit f\xFCr die Erstellung maskierter E-Mails f\xFCr das ausgew\xE4hlte Konto erreicht."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Sie haben das Limit f\xFCr die Erstellung von maskierten E-Mails f\xFCr das ausgew\xE4hlte Konto erreicht."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"Sie k\xF6nnen \xC4nderungen erst dann speichern, wenn Sie angemeldet und online sind."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"Sie k\xF6nnen \xC4nderungen erst speichern, wenn Sie die Anmeldung abgeschlossen haben."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Sie k\xF6nnen ein generiertes Passwort erst dann verwenden, wenn Sie angemeldet und online sind."},"Your-account-is-offline":function(A){return"Ihr Konto ist offline"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Ihr Konto wurde suspendiert. Bitte kontaktieren Sie Ihren Familien- oder Team-Administrator f\xFCr mehr Informationen."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Ihr Konto ist nicht verifiziert. Melden Sie sich bei Fastmail an, um das ausgew\xE4hlte Konto zu verifizieren."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Ihr Sitzung ist abgelaufen. 1Password im Browser m\xF6chte, dass Sie sich erneut anmelden, um sich zu authentifizieren."},"one-time-password":function(A){return"einmaliges Passwort"},"your-browser":function(A){return"Ihren Browser"},"unit.B":function(A){return A.size+" Bytes"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"Login"},"category.002":function(A){return"Kreditkarte"},"category.003":function(A){return"Sichere Notiz"},"category.004":function(A){return"Identit\xE4t"},"category.005":function(A){return"Passwort"},"category.006":function(A){return"Dokument"},"category.100":function(A){return"Softwarelizenz"},"category.101":function(A){return"Bankkonto"},"category.102":function(A){return"Datenbank"},"category.103":function(A){return"F\xFChrerschein"},"category.104":function(A){return"Jagdschein"},"category.105":function(A){return"Mitgliedschaft"},"category.106":function(A){return"Reisepass"},"category.107":function(A){return"Treueprogramm"},"category.108":function(A){return"Sozialversicherungsnummer"},"category.109":function(A){return"WLAN"},"category.110":function(A){return"Server"},"category.111":function(A){return"E-Mail-Konto"},"categories.001":function(A){return"Logins"},"categories.002":function(A){return"Kreditkarten"},"categories.003":function(A){return"Sichere Notizen"},"categories.004":function(A){return"Identit\xE4ten"},"categories.005":function(A){return"Passw\xF6rter"},"categories.006":function(A){return"Dokumente"},"categories.100":function(A){return"Softwarelizenzen"},"categories.101":function(A){return"Bankkonten"},"categories.102":function(A){return"Datenbanken"},"categories.103":function(A){return"F\xFChrerscheine"},"categories.104":function(A){return"Jagdscheine"},"categories.105":function(A){return"Mitgliedschaften"},"categories.106":function(A){return"Reisep\xE4sse"},"categories.107":function(A){return"Treueprogramme"},"categories.108":function(A){return"Sozialversicherungsnummern"},"categories.109":function(A){return"WLANs"},"categories.110":function(A){return"Server"},"categories.111":function(A){return"E-Mail-Konten"},"button.save":function(A){return"Speichern"},"button.cancel":function(A){return"Abbrechen"},"unexpected-error":function(A){return"Es ist ein unerwarteter Fehler aufgetreten. Bitte kontaktieren Sie support@1password.com."}},en:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'" was added to 1Password.'},"--itemName---was-saved-in---vaultName---":function(A){return'"'+A.itemName+'" was saved in "'+A.vaultName+'".'},"-accountName--is-offline-":function(A){return A.accountName+" is offline."},"-count--Items-archived":function(A){return A.count+" Items archived"},"-count--Items-deleted":function(A){return A.count+" Items deleted"},"-count--Items-favorited":function(A){return A.count+" Items favorited"},"-count--Items-removed-from-favorites":function(A){return A.count+" Items removed from favorites"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" near "+A.location+" is trying to sign in to your "+A.accountName+" account."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" near "+A.location+" is trying to sign in to your "+A.accountName+" account. Open 1Password in your browser's toolbar to view."},"-fileName--downloaded":function(A){return A.fileName+" downloaded"},"-itemType--saved":function(A){return A.itemType+" saved"},"1Password-8-Required":function(A){return"1Password 8 Required"},"1Password-account-added":function(A){return"1Password account added"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password can't open its database because there isn't enough disk space available for "+A.browser+". To use 1Password, free up some space."},"1Password-is-up-to-date":function(A){return"1Password is up to date"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password will no longer make autofill suggestions on this page.

The list of hidden pages is remembered in this web browser. You can clear the list at any time in settings.`},"A-database-error-occurred-":function(A){return"A database error occurred."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"A website has been added to Watchtower in "+A.count+" of your accounts."},"API-Key":function(A){return"API Key"},"Add-account-":function(A){return"Add account\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"All of these items will be removed immediately. You can recover items for a limited time on 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"An error has occurred while generating the Masked Email."},"An-error-occurred--Please-try-again-":function(A){return"An error occurred. Please try again."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"An error occurred while enabling and filling the Masked Email."},"An-unknown-error-has-occurred-":function(A){return"An unknown error has occurred."},"Any-Website":function(A){return"Any Website"},Archive:function(A){return"Archive"},"Archive--count--items-":function(A){return"Archive "+A.count+" items?"},"Archived---title--":function(A){return"Archived \u201C"+A.title+"\u201D"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Archived items won\u2019t show up in filling suggestions for websites or in apps."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"Are you sure you want to archive \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"Are you sure you want to delete \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"Are you sure you want to delete "+rm(A.count,0,EhA,{one:ko(A.count,"count")+" item",other:ko(A.count,"count")+" items"})+"?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"Are you sure you want to delete this password?"},"Authentication-Required":function(A){return"Authentication Required"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"Authentication was interrupted or timed out. Please try again."},Benchmarking:function(A){return"Benchmarking"},"Biometry-is-currently-unavailable-":function(A){return"Biometry is currently unavailable."},Cancel:function(A){return"Cancel"},"Collect-Page-Structure":function(A){return"Collect Page Structure"},"Continue-Signing-In":function(A){return"Continue Signing In"},"Copied--fieldTitle-":function(A){return"Copied "+A.fieldTitle},"Copied-field":function(A){return"Copied field"},"Copied-generated-password":function(A){return"Copied generated password"},"Copied-item-JSON":function(A){return"Copied item JSON"},"Copied-item-UUID":function(A){return"Copied item UUID"},"Copied-item-link":function(A){return"Copied item link"},"Copied-one-time-password":function(A){return"Copied one-time password"},"Corporate-Card":function(A){return"Corporate Card"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"Could not connect to the 1Password App. Try unlocking again."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"Couldn't complete authentication. Update 1Password for desktop and try again."},"Create-Brex-vendor-card-":function(A){return"Create Brex vendor card\u2026"},"Create-Masked-Email-":function(A){return"Create Masked Email\u2026"},"Create-Privacy-Card-":function(A){return"Create Privacy Card\u2026"},"Create-SSH-Key-":function(A){return"Create SSH Key\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"Creating and editing SSH keys requires 1Password 8."},"Credit-Card":function(A){return"Credit Card"},"Credit-card":function(A){return"Credit card"},Delete:function(A){return"Delete"},"Deleted---title--":function(A){return"Deleted \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on---title--":function(A){return"Disabled sign in automatically on \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on--count--items":function(A){return"Disabled sign in automatically on "+A.count+" items"},"Disk-space-too-low":function(A){return"Disk space too low"},"Do-you-have-an-existing-account-":function(A){return"Do you have an existing account?"},"Don-t-Save-in-1Password":function(A){return"Don't Save in 1Password"},"Download-failed":function(A){return"Download failed"},"Duo-Authentication-Required":function(A){return"Duo Authentication Required"},"Email-blocked":function(A){return"Email blocked"},"Email-unblocked":function(A){return"Email unblocked"},Employee:function(A){return"Employee"},"Enabled-sign-in-automatically-on---title--":function(A){return"Enabled sign in automatically on \u201C"+A.title+"\u201D"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Enabled sign in automatically on "+A.count+" items"},"Enter-Account-Password":function(A){return"Enter Account Password"},"Failed-to-copy-field":function(A){return"Failed to copy field"},"Failed-to-delete-password":function(A){return"Failed to delete password"},"Favorited---title--":function(A){return"Favorited \u201C"+A.title+"\u201D"},"Fill-Masked-Email-":function(A){return"Fill Masked Email\u2026"},"Get-Help":function(A){return"Get Help"},"Grace-period-for-authentication-method-migration-has-expired--Please-sign-in-again-":function(A){return"Grace period for authentication method migration has expired. Please sign in again."},Help:function(A){return"Help"},"Hide-on-this-page":function(A){return"Hide on this page"},Identity:function(A){return"Identity"},Item:function(A){return"Item"},"Learn-More-":function(A){return"Learn More\u2026"},"Link-Existing":function(A){return"Link Existing"},Lock:function(A){return"Lock"},Login:function(A){return"Login"},Managed:function(A){return"Managed"},"New-app-or-browser-found":function(A){return"New app or browser found"},"New-item-saved-in-1Password-":function(A){return"New item saved in 1Password."},"No-QR-code-found-for-2FA":function(A){return"No QR code found for 2FA"},"No-accounts-found-":function(A){return"No accounts found."},OK:function(A){return"OK"},Ok:function(A){return"Ok"},Personal:function(A){return"Personal"},"Physical-Card":function(A){return"Physical Card"},Private:function(A){return"Private"},"Removed---title---from-favorites":function(A){return"Removed \u201C"+A.title+"\u201D from favorites"},"Report-Issue":function(A){return"Report Issue"},"Report-error-":function(A){return"Report error\u2026"},Save:function(A){return"Save"},Security:function(A){return"Security"},Settings:function(A){return"Settings"},Shared:function(A){return"Shared"},"Sign-Up":function(A){return"Sign Up"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Sign in to your 1Password account ("+A.accountName+") and authenticate with Duo to continue."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Sign in to your 1Password account ("+A.accountName+") to continue."},"Sign-in-with--authProvider-":function(A){return"Sign in with "+A.authProvider},"Sign-in-with-passkey":function(A){return"Sign in with passkey"},"Stay-Offline":function(A){return"Stay Offline"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Thank you for running the latest version ("+A.version+") of 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"That didn't work. Check your password and try again."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"This card has been locked/terminated, please use another card."},"This-entry-will-be-removed-immediately-":function(A){return"This entry will be removed immediately."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"This item will be removed immediately. You can recover items for a limited time on 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"To save an item in this account you need to link it to the previously selected Masked Email account"},"Unable-to-add-one-time-password-field-to-item":function(A){return"Unable to add one-time password field to item"},"Unable-to-copy-generated-password":function(A){return"Unable to copy generated password"},"Unable-to-fill-generated-password":function(A){return"Unable to fill generated password"},"Unable-to-generate-and-copy-one-time-password":function(A){return"Unable to generate and copy one-time password"},"Unable-to-save-generated-password":function(A){return"Unable to save generated password"},"Unable-to-unlock-account-":function(A){return"Unable to unlock account."},"Unknown-Device":function(A){return"Unknown Device"},Unlock:function(A){return"Unlock"},"Unlock-account-from-the-desktop-app":function(A){return"Unlock account from the desktop app"},"Use-Suggested-Password":function(A){return"Use Suggested Password"},"Vendor-Card":function(A){return"Vendor Card"},"Watchtower-Alert":function(A){return"Watchtower Alert"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"You can choose to link an existing family account or create a new one."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"You\u2019re asked to re-enter your password because "+A.browserName+" has an update available."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"You've reached the daily limit for Masked Email creation for the selected account."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"You've reached the maximum Masked Email creation quota for the selected account."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"You won't be able to save changes until you are signed in and online."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"You won't be able to save changes until you finish signing in."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"You won't be able to use a generated password until you are signed in and online."},"Your-account-is-offline":function(A){return"Your account is offline"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Your account is suspended. Contact your family organizer or team administrator for more information."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Your account is unverified. Sign in to Fastmail to verify the selected account."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Your session has expired. 1Password in the browser would like you to sign in again to authenticate."},"one-time-password":function(A){return"one-time password"},"your-browser":function(A){return"your browser"},"unit.B":function(A){return A.size+" bytes"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"Login"},"category.002":function(A){return"Credit Card"},"category.003":function(A){return"Secure Note"},"category.004":function(A){return"Identity"},"category.005":function(A){return"Password"},"category.006":function(A){return"Document"},"category.100":function(A){return"Software License"},"category.101":function(A){return"Bank Account"},"category.102":function(A){return"Database"},"category.103":function(A){return"Driver License"},"category.104":function(A){return"Outdoor License"},"category.105":function(A){return"Membership"},"category.106":function(A){return"Passport"},"category.107":function(A){return"Reward Program"},"category.108":function(A){return"Social Security Number"},"category.109":function(A){return"WiFi Network"},"category.110":function(A){return"Server"},"category.111":function(A){return"Email Account"},"categories.001":function(A){return"Logins"},"categories.002":function(A){return"Credit Cards"},"categories.003":function(A){return"Secure Notes"},"categories.004":function(A){return"Identities"},"categories.005":function(A){return"Passwords"},"categories.006":function(A){return"Documents"},"categories.100":function(A){return"Software Licenses"},"categories.101":function(A){return"Bank Accounts"},"categories.102":function(A){return"Databases"},"categories.103":function(A){return"Driver Licenses"},"categories.104":function(A){return"Outdoor Licenses"},"categories.105":function(A){return"Memberships"},"categories.106":function(A){return"Passports"},"categories.107":function(A){return"Reward Programs"},"categories.108":function(A){return"Social Security Numbers"},"categories.109":function(A){return"WiFi Networks"},"categories.110":function(A){return"Servers"},"categories.111":function(A){return"Email Accounts"},"button.save":function(A){return"Save"},"button.cancel":function(A){return"Cancel"},"unexpected-error":function(A){return"An unexpected error occurred. Please contact support@1password.com"}},es:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'" fue agregada a 1Password.'},"--itemName---was-saved-in---vaultName---":function(A){return'Se guard\xF3 "'+A.itemName+'" en "'+A.vaultName+'".'},"-accountName--is-offline-":function(A){return A.accountName+" no tiene conexi\xF3n."},"-count--Items-archived":function(A){return A.count+" elementos archivados"},"-count--Items-deleted":function(A){return A.count+" elementos eliminados"},"-count--Items-favorited":function(A){return A.count+" elementos favoritos"},"-count--Items-removed-from-favorites":function(A){return A.count+" elementos eliminados de favoritos"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" cerca de "+A.location+" est\xE1 intentando iniciar sesi\xF3n en tu cuenta "+A.accountName+"."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" cerca de "+A.location+" est\xE1 intentando iniciar sesi\xF3n en tu cuenta "+A.accountName+". Abre 1Password en la barra de herramientas del navegador para verlo."},"-fileName--downloaded":function(A){return A.fileName+" descargado"},"-itemType--saved":function(A){return A.itemType+" guardado"},"1Password-8-Required":function(A){return"Se requiere 1Password 8"},"1Password-account-added":function(A){return"Cuenta de 1Password agregada"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password no puede abrir su base de datos porque no hay espacio suficiente en el disco para "+A.browser+". Para usar 1Password, libera espacio."},"1Password-is-up-to-date":function(A){return"1Password se ha actualizado"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password dejar\xE1 de hacer sugerencias de autocompletado en esta p\xE1gina.

La lista de p\xE1ginas ocultas se recuerda en este navegador web. Puedes borrar la lista en cualquier momento desde ajustes.`},"A-database-error-occurred-":function(A){return"Se ha producido un error de la base de datos."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Se ha a\xF1adido una p\xE1gina web a Watchtower en "+A.count+" de tus cuentas."},"API-Key":function(A){return"Clave API"},"Add-account-":function(A){return"A\xF1adir cuenta\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Todos estos elementos se eliminar\xE1n inmediatamente. Puedes recuperar elementos durante un tiempo limitado en 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Se ha producido un error al generar el correo electr\xF3nico enmascarado."},"An-error-occurred--Please-try-again-":function(A){return"Se ha producido un error. Int\xE9ntalo de nuevo."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Se ha producido un error al habilitar y rellenar el correo electr\xF3nico enmascarado."},"An-unknown-error-has-occurred-":function(A){return"Se ha producido un error desconocido."},"Any-Website":function(A){return"Cualquier sitio web"},Archive:function(A){return"Archivar"},"Archive--count--items-":function(A){return"\xBFArchivar "+A.count+" elementos?"},"Archived---title--":function(A){return"\u201C"+A.title+"\u201D archivado"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Los elementos archivados no se mostrar\xE1n en sugerencias de cumplimentaci\xF3n para sitios web y aplicaciones."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\xBFSeguro que quieres archivar \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\xBFSeguro de que quieres eliminar \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"\xBFEst\xE1s seguro de que quieres eliminar "+rm(A.count,0,rdt,{one:ko(A.count,"count")+" elemento",other:ko(A.count,"count")+" elementos"})+"?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\xBFEst\xE1 seguro que desea eliminar esta contrase\xF1a?"},"Authentication-Required":function(A){return"Se requiere autenticaci\xF3n"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"La autenticaci\xF3n se ha interrumpido o ha excedido el l\xEDmite de tiempo. Int\xE9ntalo de nuevo."},Benchmarking:function(A){return"An\xE1lisis comparativo"},"Biometry-is-currently-unavailable-":function(A){return"El desbloqueo biom\xE9trico no est\xE1 disponible en estos momentos."},Cancel:function(A){return"Cancelar"},"Collect-Page-Structure":function(A){return"Recopilar la estructura de la p\xE1gina"},"Continue-Signing-In":function(A){return"Proceder a iniciar sesi\xF3n"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" copiado"},"Copied-field":function(A){return"Campo copiado"},"Copied-generated-password":function(A){return"Contrase\xF1a generada copiada"},"Copied-item-JSON":function(A){return"Elemento JSON copiado"},"Copied-item-UUID":function(A){return"UUID de elemento copiado"},"Copied-item-link":function(A){return"Enlace de elemento copiado"},"Copied-one-time-password":function(A){return"Contrase\xF1a de un solo uso copiada"},"Corporate-Card":function(A){return"Tarjeta corporativa"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"No se ha podido conectar a la aplicaci\xF3n de 1Password. Intenta desbloquearlo de nuevo."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"No se ha podido completar la autenticaci\xF3n. Actualiza 1Password para escritorio e int\xE9ntalo de nuevo."},"Create-Brex-vendor-card-":function(A){return"Crear tarjeta de proveedor de Brex\u2026"},"Create-Masked-Email-":function(A){return"Crear correo electr\xF3nico enmascarado\u2026"},"Create-Privacy-Card-":function(A){return"Crear tarjeta de Privacy\u2026"},"Create-SSH-Key-":function(A){return"Crear clave SSH\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"La creaci\xF3n y edici\xF3n de claves SSH requiere 1Password 8."},"Credit-Card":function(A){return"Tarjeta de cr\xE9dito"},"Credit-card":function(A){return"Tarjeta de cr\xE9dito"},Delete:function(A){return"Eliminar"},"Deleted---title--":function(A){return"\u201C"+A.title+"\u201D eliminado"},"Disabled-sign-in-automatically-on---title--":function(A){return"Inicio de sesi\xF3n deshabilitado autom\xE1ticamente en \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on--count--items":function(A){return"Inicio de sesi\xF3n deshabilitado autom\xE1ticamente en "+A.count+" elementos"},"Disk-space-too-low":function(A){return"Espacio en disco insuficiente"},"Do-you-have-an-existing-account-":function(A){return"\xBFTienes una cuenta existente?"},"Don-t-Save-in-1Password":function(A){return"No guardar en 1Password"},"Download-failed":function(A){return"Fall\xF3 la descarga"},"Duo-Authentication-Required":function(A){return"Se requiere la autenticaci\xF3n Duo"},"Email-blocked":function(A){return"Correo electr\xF3nico bloqueado"},"Email-unblocked":function(A){return"Correo electr\xF3nico desbloqueado"},Employee:function(A){return"Empleado"},"Enabled-sign-in-automatically-on---title--":function(A){return"Inicio de sesi\xF3n habilitado autom\xE1ticamente en \u201C"+A.title+"\u201D"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Inicio de sesi\xF3n habilitado autom\xE1ticamente en "+A.count+" elementos"},"Enter-Account-Password":function(A){return"Introducir la contrase\xF1a de la cuenta"},"Failed-to-copy-field":function(A){return"Error al copiar el campo"},"Failed-to-delete-password":function(A){return"Error al eliminar la contrase\xF1a"},"Favorited---title--":function(A){return"\u201C"+A.title+"\u201D a\xF1adido a favoritos"},"Fill-Masked-Email-":function(A){return"Rellenar correo electr\xF3nico enmascarado\u2026"},"Get-Help":function(A){return"Conseguir ayuda"},Help:function(A){return"Ayuda"},"Hide-on-this-page":function(A){return"Ocultar en esta p\xE1gina"},Identity:function(A){return"Identidad"},Item:function(A){return"Elemento"},"Learn-More-":function(A){return"M\xE1s informaci\xF3n\u2026"},"Link-Existing":function(A){return"Enlazar existente"},Lock:function(A){return"Bloquear"},Login:function(A){return"Inicio de sesi\xF3n"},Managed:function(A){return"Gestionado"},"New-app-or-browser-found":function(A){return"Se ha encontrado una nueva aplicaci\xF3n o navegador"},"New-item-saved-in-1Password-":function(A){return"Nuevo elemento guardado en 1Password."},"No-QR-code-found-for-2FA":function(A){return"No se ha encontrado ning\xFAn c\xF3digo QR para 2FA"},"No-accounts-found-":function(A){return"No se ha encontrado ninguna cuenta."},OK:function(A){return"Aceptar"},Ok:function(A){return"Ok"},Personal:function(A){return"Personal"},"Physical-Card":function(A){return"Tarjeta f\xEDsica"},Private:function(A){return"Privado"},"Removed---title---from-favorites":function(A){return"\u201C"+A.title+"\u201D eliminados de favoritos"},"Report-Issue":function(A){return"Informar del problema"},"Report-error-":function(A){return"Informar de error\u2026"},Save:function(A){return"Guardar"},Security:function(A){return"Seguridad"},Settings:function(A){return"Ajustes"},Shared:function(A){return"Compartido"},"Sign-Up":function(A){return"Crear una cuenta"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Inicia sesi\xF3n en tu cuenta de 1Password ("+A.accountName+") y autent\xEDcate con Duo para continuar."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Inicia sesi\xF3n en tu cuenta de 1Password ("+A.accountName+") para continuar."},"Sign-in-with--authProvider-":function(A){return"Iniciar sesi\xF3n con "+A.authProvider},"Sign-in-with-passkey":function(A){return"Iniciar sesi\xF3n con clave"},"Stay-Offline":function(A){return"Permanecer fuera de l\xEDnea"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"\xA1Gracias por usar la \xFAltima versi\xF3n ("+A.version+") de 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"No ha funcionado. Comprueba tu contrase\xF1a e int\xE9ntalo nuevamente."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Esta tarjeta se ha bloqueado o cancelado, utilice otra tarjeta."},"This-entry-will-be-removed-immediately-":function(A){return"Esta entrada se eliminar\xE1 de inmediato."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Este elemento se eliminar\xE1 inmediatamente. Puedes recuperar elementos durante un tiempo limitado en 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Para guardar un elemento en este cuenta necesitas vincularlo a la cuenta de correo electr\xF3nico enmascarado previamente seleccionada"},"Unable-to-add-one-time-password-field-to-item":function(A){return"No se ha podido a\xF1adir el campo de contrase\xF1a de un solo uso al elemento"},"Unable-to-copy-generated-password":function(A){return"No se ha podido copiar la contrase\xF1a generada"},"Unable-to-fill-generated-password":function(A){return"No se ha podido rellenar la contrase\xF1a generada"},"Unable-to-generate-and-copy-one-time-password":function(A){return"No se ha podido generar ni copiar la contrase\xF1a de un solo uso"},"Unable-to-save-generated-password":function(A){return"No se ha podido guardar la contrase\xF1a generada"},"Unable-to-unlock-account-":function(A){return"No se puede desbloquear la cuenta."},"Unknown-Device":function(A){return"Dispositivo desconocido"},Unlock:function(A){return"Desbloquear"},"Unlock-account-from-the-desktop-app":function(A){return"Desbloquear cuenta desde la aplicaci\xF3n de escritorio"},"Use-Suggested-Password":function(A){return"Usar contrase\xF1a sugerida"},"Vendor-Card":function(A){return"Tarjeta de proveedor"},"Watchtower-Alert":function(A){return"Alerta de Watchtower"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Puedes elegir vincular una cuenta familiar existente o crear una nueva."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Te pedimos que vuelvas a introducir tu contrase\xF1a porque "+A.browserName+" tiene una actualizaci\xF3n disponible."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Has alcanzado el l\xEDmite diario de creaci\xF3n de correos electr\xF3nicos enmascarados para la cuenta seleccionada."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Has alcanzado el l\xEDmite m\xE1ximo de creaci\xF3n de correos electr\xF3nicos enmascarados para la cuenta seleccionada."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"No podr\xE1s guardar los cambios hasta que inicies sesi\xF3n y est\xE9s en l\xEDnea."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"No podr\xE1s guardar cambios hasta que termines de iniciar sesi\xF3n."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Solo podr\xE1s usar una contrase\xF1a generada si inicias sesi\xF3n y est\xE1s en l\xEDnea."},"Your-account-is-offline":function(A){return"Tu cuenta est\xE1 fuera de l\xEDnea"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Tu cuenta se ha suspendido. Ponte en contacto con el organizador de tu familia o el administrador del equipo para m\xE1s informaci\xF3n."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Tu cuenta no se ha verificado. Inicia sesi\xF3n en Fastmail para verificar la cuenta seleccionada."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Tu sesi\xF3n ha caducado. 1Password en el navegador quiere que vuelvas a iniciar sesi\xF3n para autenticarte."},"one-time-password":function(A){return"contrase\xF1a de un solo uso"},"your-browser":function(A){return"tu navegador"},"unit.B":function(A){return A.size+" bytes"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"Inicio de sesi\xF3n"},"category.002":function(A){return"Tarjeta de cr\xE9dito"},"category.003":function(A){return"Nota segura"},"category.004":function(A){return"Identidad"},"category.005":function(A){return"Contrase\xF1a"},"category.006":function(A){return"Documento"},"category.100":function(A){return"Licencia de software"},"category.101":function(A){return"Cuenta bancaria"},"category.102":function(A){return"Base de datos"},"category.103":function(A){return"Licencia de conducir"},"category.104":function(A){return"Licencia de exteriores"},"category.105":function(A){return"Membres\xEDa"},"category.106":function(A){return"Pasaporte"},"category.107":function(A){return"Programa de beneficios"},"category.108":function(A){return"N\xFAmero de la Seguridad Social"},"category.109":function(A){return"Red WiFi"},"category.110":function(A){return"Servidor"},"category.111":function(A){return"Cuenta de correo electr\xF3nico"},"categories.001":function(A){return"Inicios de sesi\xF3n"},"categories.002":function(A){return"Tarjetas de cr\xE9dito"},"categories.003":function(A){return"Notas seguras"},"categories.004":function(A){return"Identidades"},"categories.005":function(A){return"Contrase\xF1as"},"categories.006":function(A){return"Documentos"},"categories.100":function(A){return"Licencias de software"},"categories.101":function(A){return"Cuentas bancarias"},"categories.102":function(A){return"Bases de datos"},"categories.103":function(A){return"Licencias de conducir"},"categories.104":function(A){return"Licencias de exteroriores"},"categories.105":function(A){return"Membres\xEDas"},"categories.106":function(A){return"Pasaportes"},"categories.107":function(A){return"Programas de beneficios"},"categories.108":function(A){return"N\xFAmeros de la Seguridad Social"},"categories.109":function(A){return"Redes WiFi"},"categories.110":function(A){return"Servidores"},"categories.111":function(A){return"Cuentas de correo electr\xF3nico"},"button.save":function(A){return"Guardar"},"button.cancel":function(A){return"Cancelar"},"unexpected-error":function(A){return"Se ha producido un error inesperado. Ponte en contacto con support@1password.com"}},fr:{"--accountName---was-added-to-1Password-":function(A){return"\xAB\xA0"+A.accountName+"\xA0\xBB a \xE9t\xE9 ajout\xE9 \xE0 1Password."},"--itemName---was-saved-in---vaultName---":function(A){return"\xAB\xA0"+A.itemName+"\xA0\xBB a \xE9t\xE9 enregistr\xE9 dans \xAB\xA0"+A.vaultName+"\xA0\xBB."},"-accountName--is-offline-":function(A){return A.accountName+" est hors ligne."},"-count--Items-archived":function(A){return A.count+" \xE9l\xE9ments archiv\xE9s"},"-count--Items-deleted":function(A){return A.count+" \xE9l\xE9ments supprim\xE9s"},"-count--Items-favorited":function(A){return A.count+" \xE9l\xE9ments mis en favori"},"-count--Items-removed-from-favorites":function(A){return A.count+" \xE9l\xE9ments supprim\xE9s des favoris"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" pr\xE8s de "+A.location+" tente de se connecter \xE0 votre compte "+A.accountName+"."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" pr\xE8s de "+A.location+" tente de se connecter \xE0 votre compte "+A.accountName+". Ouvrez 1Password dans la barre d'outils de votre navigateur pour l'afficher."},"-fileName--downloaded":function(A){return A.fileName+" t\xE9l\xE9charg\xE9"},"-itemType--saved":function(A){return A.itemType+" enregistr\xE9"},"1Password-8-Required":function(A){return"1Password 8 requis"},"1Password-account-added":function(A){return"Compte 1Password ajout\xE9"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password n'arrive pas \xE0 ouvrir sa base de donn\xE9es car il n'y a pas suffisament d'espace de disponible sur le disque pour "+A.browser+". Lib\xE9rez de l'espace pour utiliser 1Password."},"1Password-is-up-to-date":function(A){return"1Password est \xE0 jour"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password ne fera plus de suggestions de remplissage automatique sur cette page.

La liste des pages masqu\xE9es est m\xE9moris\xE9e dans ce navigateur web. Vous pouvez effacer cette liste \xE0 tout moment dans les param\xE8tres.`},"A-database-error-occurred-":function(A){return"Une erreur de base de donn\xE9es s'est produite."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Un site web a \xE9t\xE9 ajout\xE9 \xE0 Watchtower dans "+A.count+" de vos comptes."},"API-Key":function(A){return"Cl\xE9 API"},"Add-account-":function(A){return"Ajouter un compte\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Tous ces \xE9l\xE9ments seront supprim\xE9s imm\xE9diatement. Vous pouvez r\xE9cup\xE9rer les \xE9l\xE9ments pour une dur\xE9e limit\xE9e sur 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Une erreur s'est produite lors de la g\xE9n\xE9ration de l'e-mail masqu\xE9."},"An-error-occurred--Please-try-again-":function(A){return"Une erreur s\u2019est produite. Veuillez r\xE9essayer."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Une erreur s'est produite lors de l'activation et du remplissage de l'e-mail masqu\xE9."},"An-unknown-error-has-occurred-":function(A){return"Une erreur inconnue s\u2019est produite."},"Any-Website":function(A){return"Tout site web"},Archive:function(A){return"Archive"},"Archive--count--items-":function(A){return"Archiver "+A.count+" \xE9l\xE9ments ?"},"Archived---title--":function(A){return"\xAB\xA0"+A.title+"\xA0\xBB archiv\xE9"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Les \xE9l\xE9ments archiv\xE9s n'appara\xEEtront pas dans les suggestions de remplissage des sites Web ou des applications."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\xCAtes-vous s\xFBr de vouloir archiver \xAB\xA0"+A.itemName+"\xA0\xBB\xA0?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\xCAtes-vous certain de vouloir supprimer \xAB\xA0"+A.itemName+"\xA0\xBB\xA0?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"\xCAtes-vous s\xFBr de vouloir supprimer "+rm(A.count,0,adt,{one:ko(A.count,"count")+" \xE9l\xE9ment",other:ko(A.count,"count")+" \xE9l\xE9ments"})+"\xA0?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\xCAtes-vous s\xFBr de vouloir supprimer ce mot de passe?"},"Authentication-Required":function(A){return"Authentification requise"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"L'authentification a \xE9t\xE9 interrompue ou a d\xE9pass\xE9 le temps imparti. Veuillez r\xE9essayer."},Benchmarking:function(A){return"Banc d'essai"},"Biometry-is-currently-unavailable-":function(A){return"La biom\xE9trie est actuellement indisponible."},Cancel:function(A){return"Annuler"},"Collect-Page-Structure":function(A){return"Collecter la structure de la page"},"Continue-Signing-In":function(A){return"Continuer \xE0 se connecter"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" copi\xE9"},"Copied-field":function(A){return"Champ copi\xE9"},"Copied-generated-password":function(A){return"Mot de passe g\xE9n\xE9r\xE9 copi\xE9"},"Copied-item-JSON":function(A){return"\xC9l\xE9ment JSON copi\xE9"},"Copied-item-UUID":function(A){return"UUID de l'\xE9l\xE9ment copi\xE9"},"Copied-item-link":function(A){return"Lien de l'\xE9l\xE9ment copi\xE9"},"Copied-one-time-password":function(A){return"Mot de passe \xE0 usage unique copi\xE9"},"Corporate-Card":function(A){return"Carte d'entreprise"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"Impossible de se connecter \xE0 l'application 1Password. Essayez de d\xE9verrouiller \xE0 nouveau."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"L'authentification n'a pas pu \xEAtre effectu\xE9e. Mettez \xE0 jour 1Password pour ordinateur et r\xE9essayez."},"Create-Brex-vendor-card-":function(A){return"Cr\xE9er une carte de vendeur Brex\u2026"},"Create-Masked-Email-":function(A){return"Cr\xE9er un e-mail masqu\xE9\u2026"},"Create-Privacy-Card-":function(A){return"Cr\xE9er une carte Privacy\u2026"},"Create-SSH-Key-":function(A){return"Cr\xE9er une cl\xE9 SSH\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"La cr\xE9ation et la modification des cl\xE9s SSH n\xE9cessitent 1Password 8."},"Credit-Card":function(A){return"Carte de cr\xE9dit"},"Credit-card":function(A){return"Carte de cr\xE9dit"},Delete:function(A){return"Supprimer"},"Deleted---title--":function(A){return"\xAB\xA0"+A.title+"\xA0\xBB supprim\xE9"},"Disabled-sign-in-automatically-on---title--":function(A){return"D\xE9sactivation de la connexion automatique sur \xAB\xA0"+A.title+"\xA0\xBB"},"Disabled-sign-in-automatically-on--count--items":function(A){return"D\xE9sactivation de la connexion automatique sur "+A.count+" \xE9l\xE9ments"},"Disk-space-too-low":function(A){return"Espace disque insuffisant"},"Do-you-have-an-existing-account-":function(A){return"Avez-vous un compte existant\xA0?"},"Don-t-Save-in-1Password":function(A){return"Ne pas enregistrer dans 1Password"},"Download-failed":function(A){return"\xC9chec du t\xE9l\xE9chargement"},"Duo-Authentication-Required":function(A){return"Authentification Duo requise"},"Email-blocked":function(A){return"E-mail bloqu\xE9"},"Email-unblocked":function(A){return"E-mail d\xE9bloqu\xE9"},Employee:function(A){return"Employ\xE9"},"Enabled-sign-in-automatically-on---title--":function(A){return"Activation de la connexion automatique sur \xAB\xA0"+A.title+"\xA0\xBB"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Activation de la connexion automatique sur "+A.count+" \xE9l\xE9ments"},"Enter-Account-Password":function(A){return"Saisir le mot de passe du compte"},"Failed-to-copy-field":function(A){return"\xC9chec de la copie du champ"},"Failed-to-delete-password":function(A){return"Impossible de supprimer le mot de passe"},"Favorited---title--":function(A){return"\xAB\xA0"+A.title+"\xA0\xBB mis en favori"},"Fill-Masked-Email-":function(A){return"Remplir l'e-mail masqu\xE9\u2026"},"Get-Help":function(A){return"Obtenir de l'aide"},Help:function(A){return"Aide"},"Hide-on-this-page":function(A){return"Masquer sur cette page"},Identity:function(A){return"Identit\xE9"},Item:function(A){return"\xC9l\xE9ment"},"Learn-More-":function(A){return"En savoir plus\u2026"},"Link-Existing":function(A){return"Lier au fichier existant"},Lock:function(A){return"Verrouiller"},Login:function(A){return"Connexion"},Managed:function(A){return"G\xE9r\xE9"},"New-app-or-browser-found":function(A){return"Nouvelle application ou nouveau navigateur trouv\xE9"},"New-item-saved-in-1Password-":function(A){return"Nouvel \xE9l\xE9ment enregistr\xE9 dans 1Password."},"No-QR-code-found-for-2FA":function(A){return"Aucun code QR trouv\xE9 pour l'authentification \xE0 deux facteurs"},"No-accounts-found-":function(A){return"Aucun compte trouv\xE9."},OK:function(A){return"OK"},Ok:function(A){return"OK"},Personal:function(A){return"Personnel"},"Physical-Card":function(A){return"Carte physique"},Private:function(A){return"Priv\xE9"},"Removed---title---from-favorites":function(A){return"\xAB\xA0"+A.title+"\xA0\xBB supprim\xE9 des favoris"},"Report-Issue":function(A){return"Signaler un probl\xE8me"},"Report-error-":function(A){return"Rapport d'erreur\u2026"},Save:function(A){return"Enregistrer"},Security:function(A){return"S\xE9curit\xE9"},Settings:function(A){return"Param\xE8tres"},Shared:function(A){return"Partag\xE9"},"Sign-Up":function(A){return"S'inscrire"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Connectez-vous \xE0 votre compte 1Password "+A.accountName+" et authentifiez-vous avec Duo pour continuer."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Connectez-vous \xE0 votre compte 1Password ("+A.accountName+") pour continuer."},"Sign-in-with--authProvider-":function(A){return"Se connecter avec "+A.authProvider},"Sign-in-with-passkey":function(A){return"Se connecter avec la cl\xE9 d'acc\xE8s"},"Stay-Offline":function(A){return"Rester hors ligne"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Merci d'utiliser la derni\xE8re version ("+A.version+") de 1Password\xA0!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"Cette action n\u2019a pas fonctionn\xE9. V\xE9rifiez votre mot de passe et r\xE9essayez."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Cette carte a \xE9t\xE9 verrouill\xE9e ou est expir\xE9e, veuillez utiliser une autre carte."},"This-entry-will-be-removed-immediately-":function(A){return"Cette entr\xE9e sera supprim\xE9e imm\xE9diatement."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Cet \xE9l\xE9ment sera supprim\xE9 imm\xE9diatement. Vous pouvez r\xE9cup\xE9rer les \xE9l\xE9ments pour une dur\xE9e limit\xE9e sur 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Pour enregistrer un \xE9l\xE9ment dans ce compte, vous devez l'associer au compte de l'e-mail masqu\xE9 s\xE9lectionn\xE9 pr\xE9c\xE9demment"},"Unable-to-add-one-time-password-field-to-item":function(A){return"Impossible d'ajouter un champ de mot de passe \xE0 usage unique \xE0 l'\xE9l\xE9ment"},"Unable-to-copy-generated-password":function(A){return"Impossible de copier le mot de passe g\xE9n\xE9r\xE9"},"Unable-to-fill-generated-password":function(A){return"Impossible de remplir le mot de passe g\xE9n\xE9r\xE9"},"Unable-to-generate-and-copy-one-time-password":function(A){return"Impossible de g\xE9n\xE9rer et de copier le mot de passe \xE0 usage unique"},"Unable-to-save-generated-password":function(A){return"Impossible d'enregistrer le mot de passe g\xE9n\xE9r\xE9"},"Unable-to-unlock-account-":function(A){return"Impossible de d\xE9verrouiller le compte."},"Unknown-Device":function(A){return"Appareil inconnu"},Unlock:function(A){return"D\xE9verrouiller"},"Unlock-account-from-the-desktop-app":function(A){return"D\xE9verrouiller le compte \xE0 partir de l'application de bureau"},"Use-Suggested-Password":function(A){return"Utiliser le mot de passe sugg\xE9r\xE9"},"Vendor-Card":function(A){return"Carte de vendeur"},"Watchtower-Alert":function(A){return"Alerte Watchtower"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Vous pouvez choisir d'associer un compte famille existant ou d'en cr\xE9er un nouveau."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Vous devez ressaisir votre mot de passe car une mise \xE0 jour est disponible pour "+A.browserName+"."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Vous avez atteint la limite quotidienne de cr\xE9ation d'e-mail masqu\xE9 pour le compte s\xE9lectionn\xE9."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Vous avez atteint le quota maximum de cr\xE9ation d'e-mail masqu\xE9 pour le compte s\xE9lectionn\xE9."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"Vous ne pourrez pas enregistrer les modifications tant que vous ne serez pas connect\xE9 et en ligne."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"Vous ne pourrez pas enregistrer les modifications tant que vous n'aurez pas fini de vous connecter."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Vous ne pourrez pas utiliser le mot de passe g\xE9n\xE9r\xE9 tant que vous n'\xEAtes pas connect\xE9 et en ligne."},"Your-account-is-offline":function(A){return"Votre compte est hors ligne"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Votre compte est suspendu. Contactez votre organisateur de famille ou administrateur de groupe de travail pour plus d'informations."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Votre compte n'est pas v\xE9rifi\xE9, connectez-vous \xE0 Fastmail pour v\xE9rifier le compte s\xE9lectionn\xE9."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Votre session a expir\xE9. 1Password dans le navigateur vous demande de vous connecter \xE0 nouveau pour vous authentifier."},"one-time-password":function(A){return"mot de passe \xE0 usage unique"},"your-browser":function(A){return"votre navigateur"},"unit.B":function(A){return A.size+" octets"},"unit.KB":function(A){return A.size+" ko"},"unit.MB":function(A){return A.size+" Mo"},"unit.GB":function(A){return A.size+" Go"},"unit.TB":function(A){return A.size+" To"},"unit.PB":function(A){return A.size+" Po"},"category.001":function(A){return"Connexion"},"category.002":function(A){return"Carte de cr\xE9dit"},"category.003":function(A){return"Note s\xE9curis\xE9e"},"category.004":function(A){return"Identit\xE9"},"category.005":function(A){return"Mot de passe"},"category.006":function(A){return"Document"},"category.100":function(A){return"Licence de logiciel"},"category.101":function(A){return"Compte bancaire"},"category.102":function(A){return"Base de donn\xE9es"},"category.103":function(A){return"Permis de conduire"},"category.104":function(A){return"Licence ext\xE9rieure"},"category.105":function(A){return"Abonnement"},"category.106":function(A){return"Passeport"},"category.107":function(A){return"Carte de fid\xE9lit\xE9"},"category.108":function(A){return"Num\xE9ro de s\xE9curit\xE9 sociale"},"category.109":function(A){return"R\xE9seau WiFi"},"category.110":function(A){return"Serveur"},"category.111":function(A){return"Comptes de messagerie"},"categories.001":function(A){return"Identifiants"},"categories.002":function(A){return"Cartes de cr\xE9dit"},"categories.003":function(A){return"Notes s\xE9curis\xE9es"},"categories.004":function(A){return"Identit\xE9s"},"categories.005":function(A){return"Mots de passe"},"categories.006":function(A){return"Documents"},"categories.100":function(A){return"Licences de logiciel"},"categories.101":function(A){return"Comptes bancaires"},"categories.102":function(A){return"Bases de donn\xE9es"},"categories.103":function(A){return"Permis de conduire"},"categories.104":function(A){return"Licences ext\xE9rieures"},"categories.105":function(A){return"Abonnements"},"categories.106":function(A){return"Passeports"},"categories.107":function(A){return"Cartes de fid\xE9lit\xE9"},"categories.108":function(A){return"N\xB0 de s\xE9curit\xE9 sociale"},"categories.109":function(A){return"R\xE9seaux WiFi"},"categories.110":function(A){return"Serveurs"},"categories.111":function(A){return"Comptes de messagerie"},"button.save":function(A){return"Enregistrer"},"button.cancel":function(A){return"Annuler"},"unexpected-error":function(A){return"Une erreur inattendue s'est produite. Veuillez contacter support@1password.com"}},it:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'" \xE8 stato aggiunto a 1Password.'},"--itemName---was-saved-in---vaultName---":function(A){return'"'+A.itemName+'" \xE8 stato salvato in "'+A.vaultName+'".'},"-accountName--is-offline-":function(A){return A.accountName+" \xE8 offline."},"-count--Items-archived":function(A){return A.count+" elementi archiviati"},"-count--Items-deleted":function(A){return A.count+" elementi eliminati"},"-count--Items-favorited":function(A){return A.count+" elementi preferiti"},"-count--Items-removed-from-favorites":function(A){return A.count+" elementi rimossi dai preferiti"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" nei pressi di "+A.location+" sta tentando di accedere al tuo account "+A.accountName+"."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" nei pressi di "+A.location+" sta tentando di accedere al tuo account "+A.accountName+". Apri 1Password nella barra degli strumenti del tuo browser per visualizzare."},"-fileName--downloaded":function(A){return A.fileName+" scaricato"},"-itemType--saved":function(A){return A.itemType+" salvato"},"1Password-8-Required":function(A){return"1Password 8 richiesto"},"1Password-account-added":function(A){return"Account 1Password aggiunto"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password non \xE8 in grado di aprire il database perch\xE9 non c'\xE8 abbastanza spazio su disco disponibile per "+A.browser+". Libera un po' di spazio per utilizzare 1Password."},"1Password-is-up-to-date":function(A){return"1Password \xE8 aggiornato"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password non proporr\xE0 pi\xF9 suggerimenti di riempimento automatico su questa pagina.

L\u2019elenco delle pagine nascoste \xE8 memorizzato in questo browser web. Puoi cancellarlo in qualsiasi momento dalle impostazioni.`},"A-database-error-occurred-":function(A){return"Si \xE8 verificato un errore del database."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Un sito web \xE8 stato aggiunto a Watchtower in "+A.count+" dei tuoi account."},"API-Key":function(A){return"Chiave API"},"Add-account-":function(A){return"Aggiungi account\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Tutti questi elementi saranno immediatamente rimossi. Puoi recuperarli per un periodo di tempo limitato su 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Si \xE8 verificato un errore durante la generazione dell'email mascherata."},"An-error-occurred--Please-try-again-":function(A){return"Si \xE8 verificato un errore. Riprova."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Si \xE8 verificato un errore durante l'abilitazione e la compilazione dell'email mascherata."},"An-unknown-error-has-occurred-":function(A){return"Si \xE8 verificato un errore sconosciuto."},"Any-Website":function(A){return"Qualsiasi sito web"},Archive:function(A){return"Archivio"},"Archive--count--items-":function(A){return"Archiviare "+A.count+" elementi?"},"Archived---title--":function(A){return"\u201C"+A.title+"\u201D archiviato"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Gli elementi archiviati non vengono visualizzati nei suggerimenti di compilazione per i siti web o nelle app."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"Sei sicuro di voler archiviare \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"Sei sicuro di voler eliminare \u201C"+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"Sei sicuro di voler eliminare "+rm(A.count,0,jdt,{one:ko(A.count,"count")+" elemento",other:ko(A.count,"count")+" elementi"})+"?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"Sei sicuro di voler eliminare questa password?"},"Authentication-Required":function(A){return"Autenticazione richiesta"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"L'autenticazione \xE8 stata interrotta o ha superato il limite di tempo. Riprova."},Benchmarking:function(A){return"Analisi comparativa"},"Biometry-is-currently-unavailable-":function(A){return"La biometria non \xE8 al momento disponibile."},Cancel:function(A){return"Annulla"},"Collect-Page-Structure":function(A){return"Raccogli la struttura della pagina"},"Continue-Signing-In":function(A){return"Procedi con l'accesso"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" copiato"},"Copied-field":function(A){return"Campo copiato"},"Copied-generated-password":function(A){return"Password generata copiata"},"Copied-item-JSON":function(A){return"Elemento JSON copiato"},"Copied-item-UUID":function(A){return"Elemento UUID copiato"},"Copied-item-link":function(A){return"Link dell'elemento copiato"},"Copied-one-time-password":function(A){return"Password monouso copiata"},"Corporate-Card":function(A){return"Carta di credito aziendale"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"Impossibile effettuare la connessione all'app 1Password. Prova a sbloccare di nuovo."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"Impossibile completare l'autenticazione. Aggiorna 1Password per desktop e riprova."},"Create-Brex-vendor-card-":function(A){return"Crea carta venditore Brex\u2026"},"Create-Masked-Email-":function(A){return"Crea email mascherata\u2026"},"Create-Privacy-Card-":function(A){return"Crea carta Privacy\u2026"},"Create-SSH-Key-":function(A){return"Crea chiave SSH\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"La creazione e la modifica di chiavi SSH richiede 1Password 8."},"Credit-Card":function(A){return"Carta di credito"},"Credit-card":function(A){return"Carta di credito"},Delete:function(A){return"Elimina"},"Deleted---title--":function(A){return"\u201C"+A.title+"\u201D eliminato"},"Disabled-sign-in-automatically-on---title--":function(A){return"Disabilita l\u2019accesso automatico a \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on--count--items":function(A){return"Disabilita l\u2019accesso automatico a \u201C"+A.count+"\u201D elementi"},"Disk-space-too-low":function(A){return"Spazio su disco insufficiente"},"Do-you-have-an-existing-account-":function(A){return"Hai gi\xE0 un account?"},"Don-t-Save-in-1Password":function(A){return"Non salvare in 1Password"},"Download-failed":function(A){return"Download non riuscito"},"Duo-Authentication-Required":function(A){return"Autenticazione Duo necessaria"},"Email-blocked":function(A){return"Email bloccata"},"Email-unblocked":function(A){return"Email sbloccata"},Employee:function(A){return"Dipendente"},"Enabled-sign-in-automatically-on---title--":function(A){return"Abilita l\u2019accesso automatico a \u201C"+A.title+"\u201D"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Abilita l\u2019accesso automatico a \u201C"+A.count+"\u201D elementi"},"Enter-Account-Password":function(A){return"Inserisci la password dell\u2019account"},"Failed-to-copy-field":function(A){return"Impossibile copiare il campo"},"Failed-to-delete-password":function(A){return"Impossibile eliminare la password"},"Favorited---title--":function(A){return"\u201C"+A.title+"\u201D aggiunto ai preferiti"},"Fill-Masked-Email-":function(A){return"Compila email mascherata\u2026"},"Get-Help":function(A){return"Chiedi aiuto"},Help:function(A){return"Aiuto"},"Hide-on-this-page":function(A){return"Nascondi su questa pagina"},Identity:function(A){return"Identit\xE0"},Item:function(A){return"Elemento"},"Learn-More-":function(A){return"Ulteriori informazioni\u2026"},"Link-Existing":function(A){return"Collega Esistente"},Lock:function(A){return"Blocca"},Login:function(A){return"Accesso"},Managed:function(A){return"Gestito"},"New-app-or-browser-found":function(A){return"Nuova app o browser trovati"},"New-item-saved-in-1Password-":function(A){return"Nuovo elemento salvato in 1Password."},"No-QR-code-found-for-2FA":function(A){return"Nessun codice QR trovato per 2FA"},"No-accounts-found-":function(A){return"Nessun account trovato."},OK:function(A){return"OK"},Ok:function(A){return"Ok"},Personal:function(A){return"Personale"},"Physical-Card":function(A){return"Carta fisica"},Private:function(A){return"Privato"},"Removed---title---from-favorites":function(A){return"\u201C"+A.title+"\u201D rimosso dai preferiti"},"Report-Issue":function(A){return"Segnala il problema"},"Report-error-":function(A){return"Segnala errore\u2026"},Save:function(A){return"Salva"},Security:function(A){return"Sicurezza"},Settings:function(A){return"Impostazioni"},Shared:function(A){return"Condiviso"},"Sign-Up":function(A){return"Registrati"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Accedi al tuo account 1Password ("+A.accountName+") e autenticati con Duo per continuare."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Accedi al tuo account 1Password ("+A.accountName+") per continuare."},"Sign-in-with--authProvider-":function(A){return"Accedi con "+A.authProvider},"Sign-in-with-passkey":function(A){return"Accedi con la chiave"},"Stay-Offline":function(A){return"Rimani offline"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Grazie per aver utilizzato l'ultima versione ("+A.version+") di 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"Qualcosa non ha funzionato. Controlla la tua password e riprova."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Questa carta \xE8 stata bloccata/cancellata, utilizza un'altra carta."},"This-entry-will-be-removed-immediately-":function(A){return"Questa voce verr\xE0 rimossa immediatamente."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Questo elemento sar\xE0 immediatamente rimosso. Puoi recuperare gli elementi per un periodo di tempo limitato su 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Per salvare un elemento in questo account, \xE8 necessario collegarlo all'account dell'email mascherata selezionato in precedenza"},"Unable-to-add-one-time-password-field-to-item":function(A){return"Impossibile aggiungere il campo della password monouso all'elemento"},"Unable-to-copy-generated-password":function(A){return"Impossibile copiare la password generata"},"Unable-to-fill-generated-password":function(A){return"Impossibile inserire la password generata"},"Unable-to-generate-and-copy-one-time-password":function(A){return"Impossibile generare e copiare la password monouso"},"Unable-to-save-generated-password":function(A){return"Impossibile salvare la password generata"},"Unable-to-unlock-account-":function(A){return"Impossibile sbloccare l'account."},"Unknown-Device":function(A){return"Dispositivo sconosciuto"},Unlock:function(A){return"Sblocca"},"Unlock-account-from-the-desktop-app":function(A){return"Sblocca l'account dall'app desktop"},"Use-Suggested-Password":function(A){return"Usa password suggerita"},"Vendor-Card":function(A){return"Carta del venditore"},"Watchtower-Alert":function(A){return"Avviso Watchtower"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Puoi scegliere di collegare un account familiare esistente o crearne uno nuovo."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Ti viene chiesto di inserire nuovamente la password perch\xE9 "+A.browserName+" ha un aggiornamento disponibile."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Hai raggiunto il limite giornaliero per la creazione di email mascherate per l'account selezionato."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Hai raggiunto la quota massima per la creazione di email mascherate per l'account selezionato."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"Non sarai in grado di salvare le modifiche fino a quando non avrai effettuato l'accesso e sarai online."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"Non sarai in grado di salvare le modifiche finch\xE9 non avrai completato l'accesso."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Non potrai usare una password generata finch\xE9 non avrai eseguito l\u2019accesso e sarai online."},"Your-account-is-offline":function(A){return"Il tuo account \xE8 offline"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Il tuo account \xE8 sospeso. Contatta l'organizzatore della famiglia o l'amministratore del team per ulteriori informazioni."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Il tuo account non \xE8 verificato. Accedi a Fastmail per verificare l'account selezionato."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"La tua sessione \xE8 scaduta. Per autenticarti a 1Password nel browser, devi accedere di nuovo."},"one-time-password":function(A){return"password monouso"},"your-browser":function(A){return"il tuo browser"},"unit.B":function(A){return A.size+" byte"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"Login"},"category.002":function(A){return"Carta di credito"},"category.003":function(A){return"Nota sicura"},"category.004":function(A){return"Identit\xE0"},"category.005":function(A){return"Password"},"category.006":function(A){return"Documento"},"category.100":function(A){return"Licenza software"},"category.101":function(A){return"Conto bancario"},"category.102":function(A){return"Database"},"category.103":function(A){return"Patente di guida"},"category.104":function(A){return"Licenza outdoor"},"category.105":function(A){return"Iscrizione"},"category.106":function(A){return"Passaporto"},"category.107":function(A){return"Programma a premi"},"category.108":function(A){return"Codice fiscale"},"category.109":function(A){return"Rete WiFi"},"category.110":function(A){return"Server"},"category.111":function(A){return"Account email"},"categories.001":function(A){return"Login"},"categories.002":function(A){return"Carte di credito"},"categories.003":function(A){return"Note sicure"},"categories.004":function(A){return"Identit\xE0"},"categories.005":function(A){return"Password"},"categories.006":function(A){return"Documenti"},"categories.100":function(A){return"Licenze software"},"categories.101":function(A){return"Conti bancari"},"categories.102":function(A){return"Database"},"categories.103":function(A){return"Patenti di guida"},"categories.104":function(A){return"Licenze outdoor"},"categories.105":function(A){return"Iscrizioni"},"categories.106":function(A){return"Passaporti"},"categories.107":function(A){return"Programmi a premi"},"categories.108":function(A){return"Codici fiscali"},"categories.109":function(A){return"Reti WiFi"},"categories.110":function(A){return"Server"},"categories.111":function(A){return"Account email"},"button.save":function(A){return"Salva"},"button.cancel":function(A){return"Annulla"},"unexpected-error":function(A){return"Si \xE8 verificato un errore imprevisto. Contatta support@1password.com"}},ja:{"--accountName---was-added-to-1Password-":function(A){return"\u300C"+A.accountName+"\u300D\u304C1Password\u306B\u8FFD\u52A0\u3055\u308C\u307E\u3057\u305F\u3002"},"--itemName---was-saved-in---vaultName---":function(A){return"\u300C"+A.itemName+"\u300D\u306F\u300C"+A.vaultName+"\u300D\u306B\u4FDD\u5B58\u3055\u308C\u307E\u3057\u305F\u3002"},"-accountName--is-offline-":function(A){return A.accountName+"\u306F\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u3059\u3002"},"-count--Items-archived":function(A){return A.count+"\u500B\u306E\u30A2\u30A4\u30C6\u30E0\u304C\u30A2\u30FC\u30AB\u30A4\u30D6\u3055\u308C\u307E\u3057\u305F"},"-count--Items-deleted":function(A){return A.count+"\u500B\u306E\u30A2\u30A4\u30C6\u30E0\u304C\u524A\u9664\u3055\u308C\u307E\u3057\u305F"},"-count--Items-favorited":function(A){return A.count+"\u500B\u306E\u30A2\u30A4\u30C6\u30E0\u304C\u304A\u6C17\u306B\u5165\u308A\u306B\u767B\u9332\u3055\u308C\u307E\u3057\u305F"},"-count--Items-removed-from-favorites":function(A){return A.count+"\u500B\u306E\u30A2\u30A4\u30C6\u30E0\u304C\u304A\u6C17\u306B\u5165\u308A\u304B\u3089\u524A\u9664\u3055\u308C\u307E\u3057\u305F"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.location+"\u306E\u8FD1\u304F\u306E"+A.deviceName+"\u304C\u3042\u306A\u305F\u306E"+A.accountName+"\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307E\u3059\u3002"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.location+"\u306E\u8FD1\u304F\u306E"+A.deviceName+"\u304C\u3042\u306A\u305F\u306E"+A.accountName+"\u30A2\u30AB\u30A6\u30F3\u30C8\u306B\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u307E\u3059\u3002\u30D6\u30E9\u30A6\u30B6\u306E\u30C4\u30FC\u30EB\u30D0\u30FC\u30671Password\u3092\u958B\u3044\u3066\u8868\u793A\u3057\u307E\u3059\u3002"},"-fileName--downloaded":function(A){return A.fileName+"\u304C\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u3055\u308C\u307E\u3057\u305F"},"-itemType--saved":function(A){return A.itemType+" \u304C\u4FDD\u5B58\u3055\u308C\u307E\u3057\u305F"},"1Password-8-Required":function(A){return"1Password 8\u5FC5\u9808"},"1Password-account-added":function(A){return"1Password\u30A2\u30AB\u30A6\u30F3\u30C8\u304C\u8FFD\u52A0\u3055\u308C\u307E\u3057\u305F"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password \u304C\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u3092\u958B\u3051\u307E\u305B\u3093\u3002"+A.browser+" \u306B\u5341\u5206\u306A\u7A7A\u304D\u30C7\u30A3\u30B9\u30AF\u5BB9\u91CF\u304C\u3042\u308A\u307E\u305B\u3093\u30021Password \u3092\u4F7F\u7528\u3059\u308B\u306B\u306F\u7A7A\u304D\u5BB9\u91CF\u3092\u5897\u3084\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"1Password-is-up-to-date":function(A){return"1Password \u306F\u6700\u65B0\u306E\u72B6\u614B\u3067\u3059"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password\u306F\u3053\u306E\u30DA\u30FC\u30B8\u3067\u81EA\u52D5\u5165\u529B\u5019\u88DC\u3092\u8868\u793A\u3057\u306A\u304F\u306A\u308A\u307E\u3059\u3002

\u975E\u8868\u793A\u30DA\u30FC\u30B8\u306E\u30EA\u30B9\u30C8\u306F\u3053\u306E\u30A6\u30A7\u30D6\u30D6\u30E9\u30A6\u30B6\u306B\u8A18\u61B6\u3055\u308C\u307E\u3059\u3002\u8A2D\u5B9A\u3067\u3044\u3064\u3067\u3082\u30EA\u30B9\u30C8\u3092\u6D88\u53BB\u3067\u304D\u307E\u3059\u3002`},"A-database-error-occurred-":function(A){return"\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002"},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"\u3042\u306A\u305F\u306E"+A.count+"\u3064\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306EWatchtower\u306B\u30A6\u30A7\u30D6\u30B5\u30A4\u30C8\u304C\u8FFD\u52A0\u3055\u308C\u307E\u3057\u305F\u3002"},"API-Key":function(A){return"API \u30AD\u30FC"},"Add-account-":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8FFD\u52A0\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u3053\u308C\u3089\u306E\u30A2\u30A4\u30C6\u30E0\u306F\u5373\u5EA7\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u30021Password.com\u3067\u671F\u9593\u9650\u5B9A\u3067\u30A2\u30A4\u30C6\u30E0\u3092\u5FA9\u5143\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Masked Email\u306E\u751F\u6210\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002"},"An-error-occurred--Please-try-again-":function(A){return"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Masked Email\u3092\u6709\u52B9\u306B\u3057\u3066\u5165\u529B\u3059\u308B\u969B\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002"},"An-unknown-error-has-occurred-":function(A){return"\u4E0D\u660E\u306A\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002"},"Any-Website":function(A){return"\u3042\u3089\u3086\u308B\u30A6\u30A7\u30D6\u30B5\u30A4\u30C8"},Archive:function(A){return"\u30A2\u30FC\u30AB\u30A4\u30D6"},"Archive--count--items-":function(A){return A.count+"\u30A2\u30A4\u30C6\u30E0\u3092\u30A2\u30FC\u30AB\u30A4\u30D6\u3057\u307E\u3059\u304B\uFF1F"},"Archived---title--":function(A){return"\u300C"+A.title+"\u300D\u3092\u30A2\u30FC\u30AB\u30A4\u30D6\u3057\u307E\u3057\u305F"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"\u30A2\u30FC\u30AB\u30A4\u30D6\u3055\u308C\u305F\u30A2\u30A4\u30C6\u30E0\u306F\u3001\u30A6\u30A7\u30D6\u30B5\u30A4\u30C8\u3084\u30A2\u30D7\u30EA\u306E\u5019\u88DC\u306B\u8868\u793A\u3055\u308C\u306A\u304F\u306A\u308A\u307E\u3059\u3002"},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\u300C"+A.itemName+"\u300D\u3092\u30A2\u30FC\u30AB\u30A4\u30D6\u3057\u307E\u3059\u304B\uFF1F"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\u300C"+A.itemName+" \u300D\u3092\u524A\u9664\u3057\u307E\u3059\u304B\uFF1F"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return rm(A.count,0,ndt,{other:ko(A.count,"count")+"\u4EF6\u306E\u30A2\u30A4\u30C6\u30E0"})+"\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\u3053\u306E\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u524A\u9664\u3057\u3066\u3082\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F"},"Authentication-Required":function(A){return"\u8A8D\u8A3C\u304C\u5FC5\u8981\u3067\u3059"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"\u8A8D\u8A3C\u304C\u4E2D\u65AD\u3055\u308C\u305F\u304B\u3001\u30BF\u30A4\u30E0\u30A2\u30A6\u30C8\u306B\u306A\u308A\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u3084\u308A\u76F4\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},Benchmarking:function(A){return"\u30D9\u30F3\u30C1\u30DE\u30FC\u30AD\u30F3\u30B0"},"Biometry-is-currently-unavailable-":function(A){return"\u751F\u4F53\u8A8D\u8A3C\u306F\u73FE\u5728\u5229\u7528\u3067\u304D\u307E\u305B\u3093\u3002"},Cancel:function(A){return"\u30AD\u30E3\u30F3\u30BB\u30EB"},"Collect-Page-Structure":function(A){return"\u30DA\u30FC\u30B8\u69CB\u9020\u3092\u53CE\u96C6"},"Continue-Signing-In":function(A){return"\u30B5\u30A4\u30F3\u30A4\u30F3\u3092\u7D9A\u3051\u308B"},"Copied--fieldTitle-":function(A){return A.fieldTitle+"\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Copied-field":function(A){return"\u30B3\u30D4\u30FC\u3057\u305F\u30D5\u30A3\u30FC\u30EB\u30C9"},"Copied-generated-password":function(A){return"\u751F\u6210\u3055\u308C\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Copied-item-JSON":function(A){return"\u30A2\u30A4\u30C6\u30E0JSON\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Copied-item-UUID":function(A){return"\u30A2\u30A4\u30C6\u30E0UUID\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Copied-item-link":function(A){return"\u30A2\u30A4\u30C6\u30E0\u30EA\u30F3\u30AF\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Copied-one-time-password":function(A){return"\u30EF\u30F3\u30BF\u30A4\u30E0\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30B3\u30D4\u30FC\u3057\u307E\u3057\u305F"},"Corporate-Card":function(A){return"\u6CD5\u4EBA\u30AB\u30FC\u30C9"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"1Password\u30A2\u30D7\u30EA\u306B\u63A5\u7D9A\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002\u518D\u5EA6\u30ED\u30C3\u30AF\u89E3\u9664\u3092\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002"},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"\u8A8D\u8A3C\u3092\u5B8C\u4E86\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u30021Password for desktop\u3092\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u3057\u3066\u3001\u3082\u3046\u4E00\u5EA6\u8A66\u3057\u3066\u307F\u3066\u304F\u3060\u3055\u3044\u3002"},"Create-Brex-vendor-card-":function(A){return"Brex\u30D9\u30F3\u30C0\u30FC\u30AB\u30FC\u30C9\u3092\u4F5C\u6210\u2026"},"Create-Masked-Email-":function(A){return"\u30DE\u30B9\u30AF\u30A2\u30C9\u30EC\u30B9\u3092\u4F5C\u6210\u2026"},"Create-Privacy-Card-":function(A){return"\u30D7\u30E9\u30A4\u30D0\u30B7\u30FC\u30AB\u30FC\u30C9\u3092\u4F5C\u6210\u2026"},"Create-SSH-Key-":function(A){return"SSH\u30AD\u30FC\u306E\u4F5C\u6210\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"SSH\u30AD\u30FC\u306E\u4F5C\u6210\u30FB\u7DE8\u96C6\u306B\u306F1Password 8\u304C\u5FC5\u8981\u3067\u3059\u3002"},"Credit-Card":function(A){return"\u30AF\u30EC\u30B8\u30C3\u30C8\u30AB\u30FC\u30C9"},"Credit-card":function(A){return"\u30AF\u30EC\u30B8\u30C3\u30C8\u30AB\u30FC\u30C9"},Delete:function(A){return"\u524A\u9664"},"Deleted---title--":function(A){return"\u300C"+A.title+"\u300D\u3092\u524A\u9664\u3057\u307E\u3057\u305F"},"Disabled-sign-in-automatically-on---title--":function(A){return"\u300C"+A.title+"\u300D\u306E\u81EA\u52D5\u30B5\u30A4\u30F3\u30A4\u30F3\u3092\u7121\u52B9\u306B\u3057\u307E\u3057\u305F"},"Disabled-sign-in-automatically-on--count--items":function(A){return A.count+"\u4EF6\u306E\u30A2\u30A4\u30C6\u30E0\u306E\u81EA\u52D5\u30B5\u30A4\u30F3\u30A4\u30F3\u3092\u7121\u52B9\u306B\u3057\u307E\u3057\u305F"},"Disk-space-too-low":function(A){return"\u30C7\u30A3\u30B9\u30AF\u306E\u7A7A\u304D\u5BB9\u91CF\u304C\u5C11\u306A\u3059\u304E\u307E\u3059\u3002"},"Do-you-have-an-existing-account-":function(A){return"\u65E2\u5B58\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u304A\u6301\u3061\u3067\u3059\u304B?"},"Don-t-Save-in-1Password":function(A){return"1Password\u306B\u4FDD\u5B58\u3057\u306A\u3044"},"Download-failed":function(A){return"\u30C0\u30A6\u30F3\u30ED\u30FC\u30C9\u5931\u6557"},"Duo-Authentication-Required":function(A){return"Duo\u8A8D\u8A3C\u304C\u5FC5\u8981\u3067\u3059"},"Email-blocked":function(A){return"\u30E1\u30FC\u30EB\u3092\u30D6\u30ED\u30C3\u30AF\u3057\u307E\u3057\u305F"},"Email-unblocked":function(A){return"\u30E1\u30FC\u30EB\u3092\u30D6\u30ED\u30C3\u30AF\u89E3\u9664\u3057\u307E\u3057\u305F"},Employee:function(A){return"\u5F93\u696D\u54E1"},"Enabled-sign-in-automatically-on---title--":function(A){return"\u300C"+A.title+"\u300D\u306E\u81EA\u52D5\u30B5\u30A4\u30F3\u30A4\u30F3\u3092\u6709\u52B9\u306B\u3057\u307E\u3057\u305F"},"Enabled-sign-in-automatically-on--count--items":function(A){return A.count+"\u4EF6\u306E\u30A2\u30A4\u30C6\u30E0\u306E\u81EA\u52D5\u30B5\u30A4\u30F3\u30A4\u30F3\u3092\u6709\u52B9\u306B\u3057\u307E\u3057\u305F"},"Enter-Account-Password":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B"},"Failed-to-copy-field":function(A){return"\u30D5\u30A3\u30FC\u30EB\u30C9\u3092\u30B3\u30D4\u30FC\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F"},"Failed-to-delete-password":function(A){return"\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u524A\u9664\u3067\u304D\u307E\u305B\u3093\u3067\u3057\u305F"},"Favorited---title--":function(A){return"\u300C"+A.title+"\u300D\u3092\u304A\u6C17\u306B\u5165\u308A\u306B\u767B\u9332\u3057\u307E\u3057\u305F"},"Fill-Masked-Email-":function(A){return"Masked Email\u3092\u5165\u529B\u2026"},"Get-Help":function(A){return"\u30D8\u30EB\u30D7\u3092\u5F97\u308B"},Help:function(A){return"\u30D8\u30EB\u30D7"},"Hide-on-this-page":function(A){return"\u3053\u306E\u30DA\u30FC\u30B8\u306B\u8868\u793A\u3057\u306A\u3044"},Identity:function(A){return"\u500B\u4EBA\u60C5\u5831"},Item:function(A){return"\u30A2\u30A4\u30C6\u30E0"},"Learn-More-":function(A){return"\u8A73\u7D30\u60C5\u5831\u2026"},"Link-Existing":function(A){return"Link Existing"},Lock:function(A){return"\u30ED\u30C3\u30AF"},Login:function(A){return"\u30ED\u30B0\u30A4\u30F3"},Managed:function(A){return"\u7BA1\u7406"},"New-app-or-browser-found":function(A){return"\u65B0\u3057\u3044\u30A2\u30D7\u30EA\u307E\u305F\u306F\u30D6\u30E9\u30A6\u30B6\u304C\u898B\u3064\u304B\u308A\u307E\u3057\u305F"},"New-item-saved-in-1Password-":function(A){return"1Password\u306B\u65B0\u898F\u30A2\u30A4\u30C6\u30E0\u304C\u4FDD\u5B58\u3055\u308C\u307E\u3057\u305F\u3002"},"No-QR-code-found-for-2FA":function(A){return"2FA\u306EQR\u30B3\u30FC\u30C9\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093"},"No-accounts-found-":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F\u3002"},OK:function(A){return"OK"},Ok:function(A){return"OK"},Personal:function(A){return"\u500B\u4EBA"},"Physical-Card":function(A){return"\u7269\u7406\u7684\u30AB\u30FC\u30C9"},Private:function(A){return"\u30D7\u30E9\u30A4\u30D9\u30FC\u30C8"},"Removed---title---from-favorites":function(A){return"\u300C"+A.title+"\u300D\u3092\u304A\u6C17\u306B\u5165\u308A\u304B\u3089\u524A\u9664\u3057\u307E\u3057\u305F"},"Report-Issue":function(A){return"\u554F\u984C\u3092\u5831\u544A"},"Report-error-":function(A){return"\u30A8\u30E9\u30FC\u3092\u5831\u544A\u3059\u308B\u2026"},Save:function(A){return"\u4FDD\u5B58"},Security:function(A){return"\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3"},Settings:function(A){return"\u8A2D\u5B9A"},Shared:function(A){return"\u5171\u6709"},"Sign-Up":function(A){return"\u30B5\u30A4\u30F3\u30A2\u30C3\u30D7"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"\u7D9A\u884C\u3059\u308B\u306B\u306F\u30011Password\u30A2\u30AB\u30A6\u30F3\u30C8\uFF08"+A.accountName+"\uFF09\u306B\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3066\u3001Duo\u3067\u8A8D\u8A3C\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"\u7D9A\u884C\u3059\u308B\u306B\u306F \u7D9A\u884C\u3059\u308B\u306B\u306F \u30A2\u30AB\u30A6\u30F3\u30C8 ("+A.accountName+") \u306B\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"Sign-in-with--authProvider-":function(A){return A.authProvider+"\u3067\u30B5\u30A4\u30F3\u30A4\u30F3"},"Sign-in-with-passkey":function(A){return"\u30D1\u30B9\u30AD\u30FC\u3067\u30B5\u30A4\u30F3\u30A4\u30F3"},"Stay-Offline":function(A){return"\u30AA\u30D5\u30E9\u30A4\u30F3\u306E\u307E\u307E"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"1Password \u306E\u6700\u65B0\u30D0\u30FC\u30B8\u30E7\u30F3 ("+A.version+") \u3092\u3054\u5229\u7528\u3044\u305F\u3060\u304D\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\uFF01"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"\u3046\u307E\u304F\u3044\u304D\u307E\u305B\u3093\u3067\u3057\u305F\u3002\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u78BA\u8A8D\u3057\u3066\u3001\u3082\u3046\u4E00\u5EA6\u8A66\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"\u3053\u306E\u30AB\u30FC\u30C9\u306F\u30ED\u30C3\u30AF/\u89E3\u7D04\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u5225\u306E\u30AB\u30FC\u30C9\u3092\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002"},"This-entry-will-be-removed-immediately-":function(A){return"\u3053\u306E\u30A8\u30F3\u30C8\u30EA\u30FC\u306F\u76F4\u3061\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3002"},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u3053\u308C\u3089\u306E\u30A2\u30A4\u30C6\u30E0\u306F\u5373\u5EA7\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u30021Password.com\u3067\u3001\u671F\u9593\u9650\u5B9A\u3067\u30A2\u30A4\u30C6\u30E0\u3092\u5FA9\u5143\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u3059\u3002"},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"\u3053\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3067\u9805\u76EE\u3092\u4FDD\u5B58\u3059\u308B\u306B\u306F\u3001\u524D\u306B\u9078\u629E\u3057\u305F\u30DE\u30B9\u30AF\u30A2\u30C9\u30EC\u30B9\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u3068\u30EA\u30F3\u30AF\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059"},"Unable-to-add-one-time-password-field-to-item":function(A){return"\u30A2\u30A4\u30C6\u30E0\u306B\u30EF\u30F3\u30BF\u30A4\u30E0\u30D1\u30B9\u30EF\u30FC\u30C9\u30D5\u30A3\u30FC\u30EB\u30C9\u3092\u8FFD\u52A0\u3067\u304D\u307E\u305B\u3093"},"Unable-to-copy-generated-password":function(A){return"\u751F\u6210\u3055\u308C\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u30B3\u30D4\u30FC\u3067\u304D\u307E\u305B\u3093"},"Unable-to-fill-generated-password":function(A){return"\u751F\u6210\u3055\u308C\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u5165\u529B\u3067\u304D\u307E\u305B\u3093"},"Unable-to-generate-and-copy-one-time-password":function(A){return"\u30EF\u30F3\u30BF\u30A4\u30E0\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u751F\u6210\u304A\u3088\u3073\u30B3\u30D4\u30FC\u3067\u304D\u307E\u305B\u3093"},"Unable-to-save-generated-password":function(A){return"\u751F\u6210\u3055\u308C\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u4FDD\u5B58\u3067\u304D\u307E\u305B\u3093"},"Unable-to-unlock-account-":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u30ED\u30C3\u30AF\u3092\u89E3\u9664\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002"},"Unknown-Device":function(A){return"\u4E0D\u660E\u306A\u30C7\u30D0\u30A4\u30B9"},Unlock:function(A){return"\u30ED\u30C3\u30AF\u89E3\u9664"},"Unlock-account-from-the-desktop-app":function(A){return"\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u304B\u3089\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u30ED\u30C3\u30AF\u3092\u89E3\u9664\u3059\u308B"},"Use-Suggested-Password":function(A){return"\u63A8\u5968\u306E\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u4F7F\u7528"},"Vendor-Card":function(A){return"\u30D9\u30F3\u30C0\u30FC\u30AB\u30FC\u30C9"},"Watchtower-Alert":function(A){return"Watchtower\u30A2\u30E9\u30FC\u30C8"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"\u65E2\u5B58\u306E\u30D5\u30A1\u30DF\u30EA\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u30EA\u30F3\u30AF\u3059\u308B\u304B\u3001\u65B0\u3057\u3044\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u4F5C\u6210\u3059\u308B\u304B\u3092\u9078\u629E\u3067\u304D\u307E\u3059\u3002"},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return A.browserName+"\u306B\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u304C\u3042\u308B\u305F\u3081\u3001\u30D1\u30B9\u30EF\u30FC\u30C9\u3092\u518D\u5165\u529B\u3059\u308B\u3088\u3046\u6C42\u3081\u3089\u308C\u307E\u3059\u3002"},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"\u9078\u629E\u3057\u305F\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u30DE\u30B9\u30AF\u30A2\u30C9\u30EC\u30B9\u4F5C\u6210\u306E1\u65E5\u306E\u4E0A\u9650\u306B\u9054\u3057\u307E\u3057\u305F\u3002"},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"\u9078\u629E\u3057\u305F\u30A2\u30AB\u30A6\u30F3\u30C8\u306E\u30DE\u30B9\u30AF\u30A2\u30C9\u30EC\u30B9\u4F5C\u6210\u306E\u4E0A\u9650\u306B\u9054\u3057\u307E\u3057\u305F\u3002"},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3066\u30AA\u30F3\u30E9\u30A4\u30F3\u306B\u306A\u308B\u307E\u3067\u3001\u5909\u66F4\u3092\u4FDD\u5B58\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002"},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"\u30B5\u30A4\u30F3\u30A4\u30F3\u304C\u5B8C\u4E86\u3059\u308B\u307E\u3067\u3001\u5909\u66F4\u3092\u4FDD\u5B58\u3059\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002"},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"\u751F\u6210\u3055\u308C\u305F\u30D1\u30B9\u30EF\u30FC\u30C9\u306F\u3001\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3066\u30AA\u30F3\u30E9\u30A4\u30F3\u306B\u306A\u308B\u307E\u3067\u4F7F\u7528\u3059\u308B\u3053\u3068\u304C\u3067\u304D\u307E\u305B\u3093\u3002"},"Your-account-is-offline":function(A){return"\u3042\u306A\u305F\u306E\u30A2\u30AB\u30A6\u30F3\u30C8\u306F\u30AA\u30D5\u30E9\u30A4\u30F3\u3067\u3059"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u304C\u4E00\u6642\u505C\u6B62\u3055\u308C\u3066\u3044\u307E\u3059\u3002\u8A73\u7D30\u306B\u3064\u3044\u3066\u306F\u3001\u30D5\u30A1\u30DF\u30EA\u30FC\u30AA\u30FC\u30AC\u30CA\u30A4\u30B6\u30FC\u307E\u305F\u306F\u30C1\u30FC\u30E0\u7BA1\u7406\u8005\u307E\u3067\u304A\u554F\u3044\u5408\u308F\u305B\u304F\u3060\u3055\u3044\u3002"},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"\u30A2\u30AB\u30A6\u30F3\u30C8\u304C\u8A8D\u8A3C\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002Fastmail\u306B\u30B5\u30A4\u30F3\u30A4\u30F3\u3057\u3066\u3001\u9078\u629E\u3057\u305F\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8A8D\u8A3C\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"\u30BB\u30C3\u30B7\u30E7\u30F3\u306E\u6709\u52B9\u671F\u9650\u304C\u5207\u308C\u307E\u3057\u305F\u3002\u30D6\u30E9\u30A6\u30B6\u306E1Password\u306F\u3001\u8A8D\u8A3C\u306E\u305F\u3081\u306B\u518D\u5EA6\u30B5\u30A4\u30F3\u30A4\u30F3\u3059\u308B\u3088\u3046\u6C42\u3081\u3066\u3044\u307E\u3059\u3002"},"one-time-password":function(A){return"\u30EF\u30F3\u30BF\u30A4\u30E0\u30D1\u30B9\u30EF\u30FC\u30C9"},"your-browser":function(A){return"\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6"},"unit.B":function(A){return A.size+" \u30D0\u30A4\u30C8"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"\u30ED\u30B0\u30A4\u30F3"},"category.002":function(A){return"\u30AF\u30EC\u30B8\u30C3\u30C8\u30AB\u30FC\u30C9"},"category.003":function(A){return"\u30BB\u30AD\u30E5\u30A2\u30CE\u30FC\u30C8"},"category.004":function(A){return"\u500B\u4EBA\u60C5\u5831"},"category.005":function(A){return"\u30D1\u30B9\u30EF\u30FC\u30C9"},"category.006":function(A){return"\u6587\u66F8"},"category.100":function(A){return"\u30BD\u30D5\u30C8\u30A6\u30A7\u30A2\u30E9\u30A4\u30BB\u30F3\u30B9"},"category.101":function(A){return"\u9280\u884C\u53E3\u5EA7"},"category.102":function(A){return"\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9"},"category.103":function(A){return"\u904B\u8EE2\u514D\u8A31\u8A3C"},"category.104":function(A){return"\u5C4B\u5916\u30E9\u30A4\u30BB\u30F3\u30B9"},"category.105":function(A){return"\u4F1A\u54E1\u6570"},"category.106":function(A){return"\u30D1\u30B9\u30DD\u30FC\u30C8"},"category.107":function(A){return"\u5831\u916C\u30D7\u30ED\u30B0\u30E9\u30E0"},"category.108":function(A){return"\u500B\u4EBA\u756A\u53F7"},"category.109":function(A){return"WiFi\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF"},"category.110":function(A){return"\u30B5\u30FC\u30D0\u30FC"},"category.111":function(A){return"\u30E1\u30FC\u30EB\u30A2\u30AB\u30A6\u30F3\u30C8"},"categories.001":function(A){return"\u30ED\u30B0\u30A4\u30F3"},"categories.002":function(A){return"\u30AF\u30EC\u30B8\u30C3\u30C8\u30AB\u30FC\u30C9"},"categories.003":function(A){return"\u30BB\u30AD\u30E5\u30A2\u30CE\u30FC\u30C8"},"categories.004":function(A){return"\u500B\u4EBA\u60C5\u5831"},"categories.005":function(A){return"\u30D1\u30B9\u30EF\u30FC\u30C9"},"categories.006":function(A){return"\u6587\u66F8"},"categories.100":function(A){return"\u30BD\u30D5\u30C8\u30A6\u30A7\u30A2\u30E9\u30A4\u30BB\u30F3\u30B9"},"categories.101":function(A){return"\u9280\u884C\u53E3\u5EA7"},"categories.102":function(A){return"\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9"},"categories.103":function(A){return"\u904B\u8EE2\u514D\u8A31\u8A3C"},"categories.104":function(A){return"\u5C4B\u5916\u30E9\u30A4\u30BB\u30F3\u30B9"},"categories.105":function(A){return"\u4F1A\u54E1\u6570"},"categories.106":function(A){return"\u30D1\u30B9\u30DD\u30FC\u30C8"},"categories.107":function(A){return"\u5831\u916C\u30D7\u30ED\u30B0\u30E9\u30E0"},"categories.108":function(A){return"\u500B\u4EBA\u756A\u53F7"},"categories.109":function(A){return"WiFi\u30CD\u30C3\u30C8\u30EF\u30FC\u30AF"},"categories.110":function(A){return"\u30B5\u30FC\u30D0\u30FC"},"categories.111":function(A){return"\u30E1\u30FC\u30EB\u30A2\u30AB\u30A6\u30F3\u30C8"},"button.save":function(A){return"\u4FDD\u5B58"},"button.cancel":function(A){return"\u30AD\u30E3\u30F3\u30BB\u30EB"},"unexpected-error":function(A){return"\u4E88\u671F\u305B\u306C\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002support@1password.com\u307E\u3067\u3054\u9023\u7D61\u304F\u3060\u3055\u3044"}},ko:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'"\uC774(\uAC00) 1Password\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.'},"--itemName---was-saved-in---vaultName---":function(A){return'"'+A.itemName+'"\uC774(\uAC00) "'+A.vaultName+'"\uC5D0 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.'},"-accountName--is-offline-":function(A){return A.accountName+"\uC740(\uB294) \uC624\uD504\uB77C\uC778 \uC0C1\uD0DC\uC785\uB2C8\uB2E4."},"-count--Items-archived":function(A){return A.count+"\uAC1C\uC758 \uD56D\uBAA9 \uC544\uCE74\uC774\uBE0C \uC644\uB8CC"},"-count--Items-deleted":function(A){return A.count+"\uAC1C\uC758 \uD56D\uBAA9 \uC0AD\uC81C \uC644\uB8CC"},"-count--Items-favorited":function(A){return A.count+"\uAC1C\uC758 \uD56D\uBAA9 \uC990\uACA8\uCC3E\uAE30 \uCD94\uAC00 \uC644\uB8CC"},"-count--Items-removed-from-favorites":function(A){return A.count+"\uAC1C\uC758 \uD56D\uBAA9 \uC990\uACA8\uCC3E\uAE30\uC5D0\uC11C \uC81C\uAC70 \uC644\uB8CC"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.location+" \uADFC\uCC98\uC758 "+A.deviceName+"\uC774(\uAC00) \uD68C\uC6D0\uB2D8\uC758 "+A.accountName+" \uACC4\uC815\uC5D0 \uB85C\uADF8\uC778\uD558\uB824\uACE0 \uD569\uB2C8\uB2E4."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.location+" \uADFC\uCC98\uC758 "+A.deviceName+"\uC774(\uAC00) \uD68C\uC6D0\uB2D8\uC758 "+A.accountName+" \uACC4\uC815\uC5D0 \uB85C\uADF8\uC778\uD558\uB824\uACE0 \uD569\uB2C8\uB2E4. \uBE0C\uB77C\uC6B0\uC800\uC758 \uB3C4\uAD6C \uBAA8\uC74C\uC5D0\uC11C 1Password\uB97C \uC5F4\uACE0 \uD655\uC778\uD574 \uBCF4\uC138\uC694."},"-fileName--downloaded":function(A){return A.fileName+" \uB2E4\uC6B4\uB85C\uB4DC \uC644\uB8CC"},"-itemType--saved":function(A){return A.itemType+" \uC800\uC7A5 \uC644\uB8CC"},"1Password-8-Required":function(A){return"1Password 8 \uD544\uC694"},"1Password-account-added":function(A){return"1Password \uACC4\uC815\uC774 \uCD94\uAC00\uB428"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return A.browser+"\uC5D0\uC11C \uC0AC\uC6A9\uD560 \uC218 \uC788\uB294 \uB514\uC2A4\uD06C \uACF5\uAC04\uC774 \uCDA9\uBD84\uD558\uC9C0 \uC54A\uC544\uC11C 1Password\uAC00 \uB370\uC774\uD130\uBCA0\uC774\uC2A4\uB97C \uC5F4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. 1Password\uB97C \uC0AC\uC6A9\uD558\uB824\uBA74 \uC5EC\uC720 \uACF5\uAC04\uC744 \uD655\uBCF4\uD558\uC138\uC694."},"1Password-is-up-to-date":function(A){return"1Password\uAC00 \uCD5C\uC2E0 \uC0C1\uD0DC\uC785\uB2C8\uB2E4"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password\uAC00 \uB354 \uC774\uC0C1 \uC774 \uD398\uC774\uC9C0\uC5D0\uC11C \uC790\uB3D9\uC73C\uB85C \uCC44\uC6B0\uAE30 \uC81C\uC548\uC744 \uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.

\uC228\uACA8\uC9C4 \uD398\uC774\uC9C0\uC758 \uBAA9\uB85D\uC740 \uC774 \uC6F9 \uBE0C\uB77C\uC6B0\uC800\uC5D0 \uAE30\uC5B5\uB429\uB2C8\uB2E4. \uC5B8\uC81C\uB4E0\uC9C0 \uC124\uC815\uC5D0\uC11C \uBAA9\uB85D\uC744 \uC9C0\uC6B8 \uC218 \uC788\uC2B5\uB2C8\uB2E4.`},"A-database-error-occurred-":function(A){return"\uB370\uC774\uD130\uBCA0\uC774\uC2A4 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"\uC6F9\uC0AC\uC774\uD2B8\uAC00 \uACC4\uC815 "+A.count+"\uAC1C\uC758 Watchtower\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4."},"API-Key":function(A){return"API \uD0A4"},"Add-account-":function(A){return"\uACC4\uC815 \uCD94\uAC00\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\uC774 \uD56D\uBAA9\uB4E4\uC740 \uBAA8\uB450 \uC601\uAD6C\uC801\uC73C\uB85C \uC81C\uAC70\uB429\uB2C8\uB2E4. \uC81C\uD55C\uB41C \uC2DC\uAC04 \uB3D9\uC548 1Password.com\uC5D0\uC11C \uD56D\uBAA9\uB4E4\uC744 \uBCF5\uAD6C\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"\uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C\uC744 \uC0DD\uC131\uD558\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."},"An-error-occurred--Please-try-again-":function(A){return"\uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC138\uC694."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"\uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C\uC744 \uD65C\uC131\uD654\uD558\uACE0 \uCC44\uC6B0\uB294 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."},"An-unknown-error-has-occurred-":function(A){return"\uC54C \uC218 \uC5C6\uB294 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."},"Any-Website":function(A){return"\uBAA8\uB4E0 \uC6F9\uC0AC\uC774\uD2B8"},Archive:function(A){return"\uC544\uCE74\uC774\uBE0C"},"Archive--count--items-":function(A){return A.count+"\uAC1C \uD56D\uBAA9\uC744 \uC544\uCE74\uC774\uBE0C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"},"Archived---title--":function(A){return"\u201C"+A.title+"\u201D \uC544\uCE74\uC774\uBE0C \uC644\uB8CC"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"\uC544\uCE74\uC774\uBE0C\uB41C \uD56D\uBAA9\uC740 \uC6F9\uC0AC\uC774\uD2B8 \uB610\uB294 \uC571\uC5D0 \uB300\uD55C \uC790\uB3D9 \uC785\uB825 \uC81C\uC548 \uD56D\uBAA9\uC73C\uB85C \uD45C\uC2DC\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\u201C"+A.itemName+"\u201D\uC744(\uB97C) \uC544\uCE74\uC774\uBE0C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\u201C"+A.itemName+"\u201D\uC744(\uB97C) \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return rm(A.count,0,idt,{other:ko(A.count,"count")+"\uAC1C\uC758 \uD56D\uBAA9"})+"\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\uC815\uB9D0\uB85C \uC774 \uC554\uD638\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"},"Authentication-Required":function(A){return"\uC778\uC99D\uC774 \uD544\uC694\uD569\uB2C8\uB2E4"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"\uC778\uC99D\uC774 \uC911\uB2E8\uB418\uC5C8\uAC70\uB098 \uC2DC\uAC04\uC774 \uCD08\uACFC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC138\uC694."},Benchmarking:function(A){return"\uBCA4\uCE58\uB9C8\uD0B9"},"Biometry-is-currently-unavailable-":function(A){return"\uC0DD\uCCB4 \uC778\uC2DD\uC740 \uD604\uC7AC \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},Cancel:function(A){return"\uCDE8\uC18C"},"Collect-Page-Structure":function(A){return"\uD398\uC774\uC9C0 \uAD6C\uC870 \uC218\uC9D1"},"Continue-Signing-In":function(A){return"\uACC4\uC18D \uB85C\uADF8\uC778"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" \uBCF5\uC0AC \uC644\uB8CC"},"Copied-field":function(A){return"\uD544\uB4DC \uBCF5\uC0AC \uC644\uB8CC"},"Copied-generated-password":function(A){return"\uC0DD\uC131\uB41C \uBE44\uBC00\uBC88\uD638 \uBCF5\uC0AC \uC644\uB8CC"},"Copied-item-JSON":function(A){return"\uD56D\uBAA9 JSON \uBCF5\uC0AC \uC644\uB8CC"},"Copied-item-UUID":function(A){return"\uD56D\uBAA9 UUID \uBCF5\uC0AC \uC644\uB8CC"},"Copied-item-link":function(A){return"\uD56D\uBAA9 \uB9C1\uD06C \uBCF5\uC0AC \uC644\uB8CC"},"Copied-one-time-password":function(A){return"\uC77C\uD68C\uC6A9 \uBE44\uBC00\uBC88\uD638 \uBCF5\uC0AC \uC644\uB8CC"},"Corporate-Card":function(A){return"\uBC95\uC778 \uCE74\uB4DC"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"1Password \uC571\uC5D0 \uC5F0\uACB0\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC7A0\uAE08 \uD574\uC81C\uB97C \uC2DC\uB3C4\uD574 \uBCF4\uC138\uC694."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"\uC778\uC99D\uC744 \uC644\uB8CC\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uB370\uC2A4\uD06C\uD1B1\uC6A9 1Password\uB97C \uC5C5\uB370\uC774\uD2B8\uD558\uACE0 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC138\uC694."},"Create-Brex-vendor-card-":function(A){return"Brex \uBCA4\uB354 \uCE74\uB4DC \uB9CC\uB4E4\uAE30\u2026"},"Create-Masked-Email-":function(A){return"\uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C \uC0DD\uC131\u2026"},"Create-Privacy-Card-":function(A){return"Privacy \uCE74\uB4DC \uB9CC\uB4E4\uAE30\u2026"},"Create-SSH-Key-":function(A){return"SSH \uD0A4 \uC0DD\uC131\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"SSH \uD0A4\uB97C \uC0DD\uC131\uD558\uACE0 \uD3B8\uC9D1\uD558\uB824\uBA74 1Password 8\uC774 \uD544\uC694\uD569\uB2C8\uB2E4."},"Credit-Card":function(A){return"\uC2E0\uC6A9 \uCE74\uB4DC"},"Credit-card":function(A){return"\uC2E0\uC6A9\uCE74\uB4DC"},Delete:function(A){return"\uC0AD\uC81C"},"Deleted---title--":function(A){return"\u201C"+A.title+"\u201D \uC0AD\uC81C \uC644\uB8CC"},"Disabled-sign-in-automatically-on---title--":function(A){return"\u201C"+A.title+"\u201D\uC5D0\uC11C \uC790\uB3D9\uC73C\uB85C \uB85C\uADF8\uC778\uC744 \uBE44\uD65C\uC131\uD654\uD568"},"Disabled-sign-in-automatically-on--count--items":function(A){return A.count+"\uAC1C \uD56D\uBAA9\uC5D0\uC11C \uC790\uB3D9\uC73C\uB85C \uB85C\uADF8\uC778\uC744 \uBE44\uD65C\uC131\uD654\uD568"},"Disk-space-too-low":function(A){return"\uB514\uC2A4\uD06C \uACF5\uAC04\uC774 \uB108\uBB34 \uBD80\uC871\uD569\uB2C8\uB2E4"},"Do-you-have-an-existing-account-":function(A){return"\uAE30\uC874 \uACC4\uC815\uC774 \uC788\uC73C\uC138\uC694?"},"Don-t-Save-in-1Password":function(A){return"1Password\uC5D0 \uC800\uC7A5\uD558\uC9C0 \uC54A\uC74C"},"Download-failed":function(A){return"\uB2E4\uC6B4\uB85C\uB4DC \uC2E4\uD328"},"Duo-Authentication-Required":function(A){return"Duo \uC778\uC99D \uD544\uC694"},"Email-blocked":function(A){return"\uC774\uBA54\uC77C\uC774 \uCC28\uB2E8\uB428"},"Email-unblocked":function(A){return"\uC774\uBA54\uC77C\uC774 \uCC28\uB2E8 \uD574\uC81C\uB428"},Employee:function(A){return"\uC9C1\uC6D0"},"Enabled-sign-in-automatically-on---title--":function(A){return"\u201C"+A.title+"\u201D\uC5D0\uC11C \uC790\uB3D9\uC73C\uB85C \uB85C\uADF8\uC778\uC744 \uD65C\uC131\uD654\uD568"},"Enabled-sign-in-automatically-on--count--items":function(A){return A.count+"\uAC1C \uD56D\uBAA9\uC5D0\uC11C \uC790\uB3D9\uC73C\uB85C \uB85C\uADF8\uC778\uC744 \uD65C\uC131\uD654\uD568"},"Enter-Account-Password":function(A){return"\uACC4\uC815 \uBE44\uBC00\uBC88\uD638\uB97C \uC785\uB825\uD558\uC138\uC694"},"Failed-to-copy-field":function(A){return"\uD544\uB4DC\uB97C \uBCF5\uC0AC\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4"},"Failed-to-delete-password":function(A){return"\uBE44\uBC00\uBC88\uD638\uB97C \uC0AD\uC81C\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4"},"Favorited---title--":function(A){return"\uC990\uACA8\uCC3E\uAE30\uC5D0 \u201C"+A.title+"\u201D \uCD94\uAC00 \uC644\uB8CC"},"Fill-Masked-Email-":function(A){return"\uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C \uCC44\uC6B0\uAE30\u2026"},"Get-Help":function(A){return"\uB3C4\uC6C0\uB9D0 \uBCF4\uAE30"},Help:function(A){return"\uB3C4\uC6C0\uB9D0"},"Hide-on-this-page":function(A){return"\uC774 \uD398\uC774\uC9C0\uC5D0\uC11C \uC228\uAE30\uAE30"},Identity:function(A){return"\uC2E0\uBD84 \uC815\uBCF4"},Item:function(A){return"\uD56D\uBAA9"},"Learn-More-":function(A){return"\uC790\uC138\uD788 \uC54C\uC544\uBCF4\uAE30\u2026"},"Link-Existing":function(A){return"\uAE30\uC874 \uB370\uC774\uD130\uC5D0 \uC5F0\uACB0"},Lock:function(A){return"\uC7A0\uAE08"},Login:function(A){return"\uB85C\uADF8\uC778 \uC815\uBCF4"},Managed:function(A){return"\uAD00\uB9AC\uB428"},"New-app-or-browser-found":function(A){return"\uC0C8\uB85C\uC6B4 \uC571 \uB610\uB294 \uBE0C\uB77C\uC6B0\uC800\uAC00 \uBC1C\uACAC\uB418\uC5C8\uC2B5\uB2C8\uB2E4"},"New-item-saved-in-1Password-":function(A){return"1Password\uC5D0 \uC0C8 \uD56D\uBAA9\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4."},"No-QR-code-found-for-2FA":function(A){return"2\uB2E8\uACC4 \uC778\uC99D\uC6A9 QR \uCF54\uB4DC\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"No-accounts-found-":function(A){return"\uACC4\uC815\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},OK:function(A){return"\uD655\uC778"},Ok:function(A){return"\uD655\uC778"},Personal:function(A){return"\uAC1C\uC778"},"Physical-Card":function(A){return"\uC2E4\uBB3C \uCE74\uB4DC"},Private:function(A){return"\uBE44\uACF5\uAC1C"},"Removed---title---from-favorites":function(A){return"\uC990\uACA8\uCC3E\uAE30\uC5D0\uC11C \u201C"+A.title+"\u201D \uC81C\uAC70 \uC644\uB8CC"},"Report-Issue":function(A){return"\uBB38\uC81C \uC2E0\uACE0"},"Report-error-":function(A){return"\uC624\uB958 \uC2E0\uACE0\u2026"},Save:function(A){return"\uC800\uC7A5"},Security:function(A){return"\uBCF4\uC548"},Settings:function(A){return"\uC124\uC815"},Shared:function(A){return"\uACF5\uC720"},"Sign-Up":function(A){return"\uD68C\uC6D0 \uAC00\uC785"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"\uACC4\uC18D\uD558\uB824\uBA74 \uD68C\uC6D0\uB2D8\uC758 1Password \uACC4\uC815("+A.accountName+")\uC5D0 \uB85C\uADF8\uC778\uD558\uACE0 Duo\uB97C \uD1B5\uD574 \uC778\uC99D\uD558\uC138\uC694."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"\uACC4\uC18D\uD558\uB824\uBA74 \uD68C\uC6D0\uB2D8\uC758 1Password \uACC4\uC815("+A.accountName+")\uC5D0 \uB85C\uADF8\uC778\uD558\uC138\uC694."},"Sign-in-with--authProvider-":function(A){return A.authProvider+"(\uC73C)\uB85C \uB85C\uADF8\uC778"},"Sign-in-with-passkey":function(A){return"\uD328\uC2A4 \uD0A4\uB85C \uB85C\uADF8\uC778"},"Stay-Offline":function(A){return"\uC624\uD504\uB77C\uC778 \uC0C1\uD0DC \uC720\uC9C0"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"1Password\uC758 \uCD5C\uC2E0 \uBC84\uC804("+A.version+")\uC744 \uC2E4\uD589\uD574 \uC8FC\uC154\uC11C \uAC10\uC0AC\uD569\uB2C8\uB2E4!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"\uC131\uACF5\uD558\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uBE44\uBC00\uBC88\uD638\uB97C \uD655\uC778\uD55C \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC138\uC694."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"\uC774 \uCE74\uB4DC\uB294 \uC7A0\uAE30\uAC70\uB098 \uD574\uC9C0\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uB2E4\uB978 \uCE74\uB4DC\uB97C \uC0AC\uC6A9\uD558\uC138\uC694."},"This-entry-will-be-removed-immediately-":function(A){return"\uC774 \uD56D\uBAA9\uC740 \uC989\uC2DC \uC81C\uAC70\uB429\uB2C8\uB2E4."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\uC774 \uD56D\uBAA9\uC740 \uC989\uC2DC \uC81C\uAC70\uB429\uB2C8\uB2E4. \uC81C\uD55C\uB41C \uC2DC\uAC04 \uB3D9\uC548 1Password.com\uC5D0\uC11C \uD56D\uBAA9\uC744 \uBCF5\uAD6C\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"\uC774 \uACC4\uC815\uC5D0 \uD56D\uBAA9\uC744 \uC800\uC7A5\uD558\uB824\uBA74 \uC774\uC804\uC5D0 \uC120\uD0DD\uD55C \uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C \uACC4\uC815\uC5D0 \uC5F0\uACB0\uD574\uC57C \uD569\uB2C8\uB2E4"},"Unable-to-add-one-time-password-field-to-item":function(A){return"\uC77C\uD68C\uC6A9 \uBE44\uBC00\uBC88\uD638 \uD544\uB4DC\uB97C \uD56D\uBAA9\uC5D0 \uCD94\uAC00\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"Unable-to-copy-generated-password":function(A){return"\uC0DD\uC131\uB41C \uBE44\uBC00\uBC88\uD638\uB97C \uBCF5\uC0AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"Unable-to-fill-generated-password":function(A){return"\uC0DD\uC131\uB41C \uBE44\uBC00\uBC88\uD638\uB97C \uC790\uB3D9 \uC785\uB825\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"Unable-to-generate-and-copy-one-time-password":function(A){return"\uC77C\uD68C\uC6A9 \uBE44\uBC00\uBC88\uD638\uB97C \uC0DD\uC131 \uBC0F \uBCF5\uC0AC\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"Unable-to-save-generated-password":function(A){return"\uC0DD\uC131\uB41C \uBE44\uBC00\uBC88\uD638\uB97C \uC800\uC7A5\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},"Unable-to-unlock-account-":function(A){return"\uACC4\uC815\uC744 \uC7A0\uAE08 \uD574\uC81C\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},"Unknown-Device":function(A){return"\uC54C \uC218 \uC5C6\uB294 \uC7A5\uCE58"},Unlock:function(A){return"\uC7A0\uAE08 \uD574\uC81C"},"Unlock-account-from-the-desktop-app":function(A){return"\uB370\uC2A4\uD06C\uD1B1 \uC571\uC5D0\uC11C \uACC4\uC815 \uC7A0\uAE08 \uD574\uC81C"},"Use-Suggested-Password":function(A){return"\uC81C\uC548\uB41C \uBE44\uBC00\uBC88\uD638 \uC0AC\uC6A9"},"Vendor-Card":function(A){return"\uBCA4\uB354 \uCE74\uB4DC"},"Watchtower-Alert":function(A){return"Watchtower \uACBD\uACE0"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"\uAE30\uC874 \uAC00\uC871 \uACC4\uC815\uC744 \uC5F0\uACB0\uD558\uAC70\uB098 \uC0C8\uB85C\uC6B4 \uACC4\uC815\uC744 \uB9CC\uB4DC\uC2E4 \uC218 \uC788\uC2B5\uB2C8\uB2E4."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return A.browserName+"\uC5D0 \uC0AC\uC6A9 \uAC00\uB2A5\uD55C \uC5C5\uB370\uC774\uD2B8\uAC00 \uC788\uC5B4\uC11C \uBE44\uBC00\uBC88\uD638\uB97C \uB2E4\uC2DC \uC785\uB825\uD558\uB77C\uB294 \uC694\uCCAD\uC744 \uBC1B\uC558\uC2B5\uB2C8\uB2E4."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"\uC120\uD0DD\uB41C \uACC4\uC815\uC5D0 \uB300\uD558\uC5EC \uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C \uC0DD\uC131 \uC77C\uC77C \uD55C\uB3C4\uC5D0 \uB3C4\uB2EC\uD588\uC2B5\uB2C8\uB2E4."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"\uC120\uD0DD\uB41C \uACC4\uC815\uC5D0 \uB300\uD558\uC5EC \uB9C8\uC2A4\uD0B9\uB41C \uC774\uBA54\uC77C \uC0DD\uC131 \uD55C\uB3C4\uC5D0 \uB3C4\uB2EC\uD588\uC2B5\uB2C8\uB2E4."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"\uB85C\uADF8\uC778\uD558\uACE0 \uC628\uB77C\uC778 \uC0C1\uD0DC\uC77C \uB54C\uAE4C\uC9C0 \uBCC0\uACBD \uB0B4\uC6A9\uC744 \uC800\uC7A5\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"\uB85C\uADF8\uC778\uC744 \uC644\uB8CC\uD560 \uB54C\uAE4C\uC9C0 \uBCC0\uACBD \uC0AC\uD56D\uC744 \uC800\uC7A5\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"\uB85C\uADF8\uC778\uD558\uACE0 \uC628\uB77C\uC778 \uC0C1\uD0DC\uC77C \uB54C\uAE4C\uC9C0 \uC0DD\uC131\uB41C \uBE44\uBC00\uBC88\uD638\uB97C \uC0AC\uC6A9\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."},"Your-account-is-offline":function(A){return"\uACC4\uC815\uC774 \uC624\uD504\uB77C\uC778 \uC0C1\uD0DC\uC785\uB2C8\uB2E4"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"\uD68C\uC6D0\uB2D8\uC758 \uACC4\uC815\uC740 \uC77C\uC2DC \uC911\uC9C0\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC790\uC138\uD55C \uC0AC\uD56D\uC740 \uAC00\uC871 \uAD00\uB9AC\uC790 \uB610\uB294 \uD300 \uAD00\uB9AC\uC790\uC5D0\uAC8C \uBB38\uC758\uD558\uC138\uC694."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"\uADC0\uD558\uC758 \uACC4\uC815\uC740 \uC778\uC99D\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. Fastmail\uC5D0 \uB85C\uADF8\uC778\uD558\uC5EC \uC120\uD0DD\uB41C \uACC4\uC815\uC744 \uC778\uC99D\uD558\uC138\uC694."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"\uC138\uC158\uC774 \uB9CC\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uBE0C\uB77C\uC6B0\uC800\uC5D0\uC11C 1Password\uB97C \uC0AC\uC6A9\uD558\uB824\uBA74 \uB2E4\uC2DC \uB85C\uADF8\uC778\uD558\uACE0 \uC778\uC99D\uD574\uC57C \uD569\uB2C8\uB2E4."},"one-time-password":function(A){return"\uC77C\uD68C\uC6A9 \uBE44\uBC00\uBC88\uD638"},"your-browser":function(A){return"\uC0AC\uC6A9 \uC911\uC778 \uBE0C\uB77C\uC6B0\uC800"},"unit.B":function(A){return A.size+" \uBC14\uC774\uD2B8"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"\uB85C\uADF8\uC778"},"category.002":function(A){return"\uC2E0\uC6A9\uCE74\uB4DC"},"category.003":function(A){return"\uBCF4\uC548 \uB178\uD2B8"},"category.004":function(A){return"\uC2E0\uC6D0 \uC815\uBCF4"},"category.005":function(A){return"\uBE44\uBC00\uBC88\uD638"},"category.006":function(A){return"\uBB38\uC11C"},"category.100":function(A){return"\uC18C\uD504\uD2B8\uC6E8\uC5B4 \uB77C\uC774\uC120\uC2A4"},"category.101":function(A){return"\uC740\uD589 \uACC4\uC88C"},"category.102":function(A){return"\uB370\uC774\uD130\uBCA0\uC774\uC2A4"},"category.103":function(A){return"\uC6B4\uC804 \uBA74\uD5C8"},"category.104":function(A){return"\uC218\uB835 \uBA74\uD5C8"},"category.105":function(A){return"\uD68C\uC6D0\uAD8C"},"category.106":function(A){return"\uC5EC\uAD8C"},"category.107":function(A){return"\uB9C8\uC77C\uB9AC\uC9C0 \uD504\uB85C\uADF8\uB7A8"},"category.108":function(A){return"\uC8FC\uBBFC\uB4F1\uB85D\uBC88\uD638"},"category.109":function(A){return"WiFi \uB124\uD2B8\uC6CC\uD06C"},"category.110":function(A){return"\uC11C\uBC84"},"category.111":function(A){return"\uC774\uBA54\uC77C \uACC4\uC815"},"categories.001":function(A){return"\uB85C\uADF8\uC778 \uC815\uBCF4"},"categories.002":function(A){return"\uC2E0\uC6A9\uCE74\uB4DC"},"categories.003":function(A){return"\uBCF4\uC548 \uB178\uD2B8"},"categories.004":function(A){return"\uC2E0\uC6D0 \uC815\uBCF4"},"categories.005":function(A){return"\uBE44\uBC00\uBC88\uD638"},"categories.006":function(A){return"\uBB38\uC11C"},"categories.100":function(A){return"\uC18C\uD504\uD2B8\uC6E8\uC5B4 \uB77C\uC774\uC120\uC2A4"},"categories.101":function(A){return"\uC740\uD589 \uACC4\uC88C"},"categories.102":function(A){return"\uB370\uC774\uD130\uBCA0\uC774\uC2A4"},"categories.103":function(A){return"\uC6B4\uC804 \uBA74\uD5C8"},"categories.104":function(A){return"\uC218\uB835 \uBA74\uD5C8"},"categories.105":function(A){return"\uD68C\uC6D0\uAD8C"},"categories.106":function(A){return"\uC5EC\uAD8C"},"categories.107":function(A){return"\uB9C8\uC77C\uB9AC\uC9C0 \uD504\uB85C\uADF8\uB7A8"},"categories.108":function(A){return"\uC8FC\uBBFC\uB4F1\uB85D\uBC88\uD638"},"categories.109":function(A){return"WiFi \uB124\uD2B8\uC6CC\uD06C"},"categories.110":function(A){return"\uC11C\uBC84"},"categories.111":function(A){return"\uC774\uBA54\uC77C \uACC4\uC815"},"button.save":function(A){return"\uC800\uC7A5"},"button.cancel":function(A){return"\uCDE8\uC18C"},"unexpected-error":function(A){return"\uC608\uAE30\uCE58 \uC54A\uC740 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4. support@1password.com\uC73C\uB85C \uBB38\uC758\uD574 \uC8FC\uC138\uC694"}},nl:{"--accountName---was-added-to-1Password-":function(A){return A.accountName+" is toegevoegd aan 1Password."},"--itemName---was-saved-in---vaultName---":function(A){return A.itemName+" is opgeslagen in "+A.vaultName+"."},"-accountName--is-offline-":function(A){return A.accountName+" is offline."},"-count--Items-archived":function(A){return A.count+" items gearchiveerd"},"-count--Items-deleted":function(A){return A.count+" items verwijderd"},"-count--Items-favorited":function(A){return A.count+" items als favoriet gemarkeerd"},"-count--Items-removed-from-favorites":function(A){return A.count+" items uit favorieten verwijderd"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" in de buurt van "+A.location+" probeert in te loggen op je "+A.accountName+"-account."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" in de buurt van "+A.location+" probeert in te loggen op je "+A.accountName+"-account. Open 1Password in de werkbalk van je browser om deze poging te bekijken."},"-fileName--downloaded":function(A){return A.fileName+" gedownload"},"-itemType--saved":function(A){return A.itemType+" opgeslagen"},"1Password-8-Required":function(A){return"1Password 8 vereist"},"1Password-account-added":function(A){return"1Password-account toegevoegd"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password kan zijn database niet openen omdat er niet genoeg opslagruimte beschikbaar is voor "+A.browser+". Maak wat ruimte vrij om 1Password te gebruiken."},"1Password-is-up-to-date":function(A){return"1Password is bijgewerkt"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password doet op deze pagina geen suggesties meer voor automatisch aanvullen.

De lijst met verborgen pagina's staat opgeslagen in deze webbrowser. Je kunt deze opschonen onder instellingen.`},"A-database-error-occurred-":function(A){return"Er is een databasefout opgetreden."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Er is een webpagina toegevoegd aan Watchtower in "+A.count+" van van je accounts."},"API-Key":function(A){return"API-sleutel"},"Add-account-":function(A){return"Account toevoegen\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Al deze items worden direct verwijderd. Je kunt items voor een beperkte tijd herstellen op 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Er is een fout opgetreden bij het genereren van de gemaskeerde e-mail."},"An-error-occurred--Please-try-again-":function(A){return"Er is een fout opgetreden. Probeer het nog eens."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Er is een fout opgetreden bij het inschakelen en invullen van de gemaskeerde e-mail."},"An-unknown-error-has-occurred-":function(A){return"Er is een onbekend fout opgetreden."},"Any-Website":function(A){return"Alle websites"},Archive:function(A){return"Archief"},"Archive--count--items-":function(A){return A.count+" items archiveren?"},"Archived---title--":function(A){return"{title} gearchiveerd"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Gearchiveerde items worden niet getoond in invulsuggesties voor websites of in apps."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"Weet je zeker dat je {itemName} wilt archiveren?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"Weet je zeker dat je {itemName} wilt verwijderen?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"Weet je zeker dat je "+rm(A.count,0,odt,{one:ko(A.count,"count")+" item",other:ko(A.count,"count")+" items"})+" wilt verwijderen?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"Weet je zeker dat je dit wachtwoord wilt verwijderen?"},"Authentication-Required":function(A){return"Authenticatie vereist"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"Authenticatie onderbroken of er is een time-out opgetreden. Probeer het opnieuw."},Benchmarking:function(A){return"Benchmarking"},"Biometry-is-currently-unavailable-":function(A){return"Biometrisch ontgrendelen is momenteel niet beschikbaar."},Cancel:function(A){return"Annuleren"},"Collect-Page-Structure":function(A){return"Paginastructuur ophalen"},"Continue-Signing-In":function(A){return"Doorgaan met inloggen"},"Copied--fieldTitle-":function(A){return A.fieldTitle+" gekopieerd"},"Copied-field":function(A){return"Veld gekopieerd"},"Copied-generated-password":function(A){return"Gegenereerd wachtwoord gekopieerd"},"Copied-item-JSON":function(A){return"JSON van item gekopieerd"},"Copied-item-UUID":function(A){return"UUID van item gekopieerd"},"Copied-item-link":function(A){return"Itemlink gekopieerd"},"Copied-one-time-password":function(A){return"Eenmalig wachtwoord gekopieerd"},"Corporate-Card":function(A){return"Bedrijfskaart"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"Kan niet verbinden met de 1Password-app. Probeer opnieuw te ontgrendelen."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"Kon de authenticatiemail niet voltooien. Werk 1Password voor desktop bij en probeer het opnieuw."},"Create-Brex-vendor-card-":function(A){return"Brex-leverancierskaart aanmaken\u2026"},"Create-Masked-Email-":function(A){return"Gemaskeerde e-mail aanmaken\u2026"},"Create-Privacy-Card-":function(A){return"Priv\xE9kaart aanmaken\u2026"},"Create-SSH-Key-":function(A){return"SSH-key aanmaken\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"Je hebt 1Password 8 nodig om SSH-keys aan te maken en te bewerken."},"Credit-Card":function(A){return"Creditcard"},"Credit-card":function(A){return"Creditcard"},Delete:function(A){return"Verwijderen"},"Deleted---title--":function(A){return"{title} verwijderd"},"Disabled-sign-in-automatically-on---title--":function(A){return'Automatisch inloggen uitgeschakeld voor "'+A.title+'"'},"Disabled-sign-in-automatically-on--count--items":function(A){return"Automatisch inloggen uitgeschakeld voor "+A.count+" items"},"Disk-space-too-low":function(A){return"Te weinig schijfruimte"},"Do-you-have-an-existing-account-":function(A){return"Heb je een bestaand account?"},"Don-t-Save-in-1Password":function(A){return"Niet bewaren in 1Password"},"Download-failed":function(A){return"Download mislukt"},"Duo-Authentication-Required":function(A){return"Duo-authenticatie vereist"},"Email-blocked":function(A){return"E-mail geblokkeerd"},"Email-unblocked":function(A){return"E-mail gedeblokkeerd"},Employee:function(A){return"Medewerker"},"Enabled-sign-in-automatically-on---title--":function(A){return'Automatisch inloggen ingeschakeld voor "'+A.title+'"'},"Enabled-sign-in-automatically-on--count--items":function(A){return"Automatisch inloggen ingeschakeld voor "+A.count+" items"},"Enter-Account-Password":function(A){return"Accountwachtwoord invoeren"},"Failed-to-copy-field":function(A){return"Veld kopi\xEBren mislukt"},"Failed-to-delete-password":function(A){return"Wachtwoord verwijderen is mislukt"},"Favorited---title--":function(A){return A.title+" als favoriet toegevoegd"},"Fill-Masked-Email-":function(A){return"Gemaskeerd e-mailadres invullen\u2026"},"Get-Help":function(A){return"Krijg hulp"},Help:function(A){return"Ondersteuning"},"Hide-on-this-page":function(A){return"Verbergen op deze pagina"},Identity:function(A){return"Identiteit"},Item:function(A){return"Item"},"Learn-More-":function(A){return"Meer informatie\u2026"},"Link-Existing":function(A){return"Bestaande koppelen"},Lock:function(A){return"Vergrendelen"},Login:function(A){return"Login"},Managed:function(A){return"Beheerd"},"New-app-or-browser-found":function(A){return"Nieuwe app of browser gevonden"},"New-item-saved-in-1Password-":function(A){return"Nieuw item opgeslagen in 1Password."},"No-QR-code-found-for-2FA":function(A){return"Geen QR-code gevonden voor 2FA"},"No-accounts-found-":function(A){return"Geen accounts gevonden."},OK:function(A){return"OK"},Ok:function(A){return"Ok"},Personal:function(A){return"Persoonlijk"},"Physical-Card":function(A){return"Fysieke kaart"},Private:function(A){return"Priv\xE9"},"Removed---title---from-favorites":function(A){return A.title+" uit favorieten verwijderd"},"Report-Issue":function(A){return"Probleem rapporteren"},"Report-error-":function(A){return"Rapportfout\u2026"},Save:function(A){return"Opslaan"},Security:function(A){return"Beveiliging"},Settings:function(A){return"Instellingen"},Shared:function(A){return"Gedeeld"},"Sign-Up":function(A){return"Aanmelden"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Log in op je 1Password-account ("+A.accountName+") en bevestig met Duo om verder te gaan."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Log in op je 1Password-account ("+A.accountName+") om verder te gaan."},"Sign-in-with--authProvider-":function(A){return"Inloggen met "+A.authProvider},"Sign-in-with-passkey":function(A){return"Log in met passkey"},"Stay-Offline":function(A){return"Offline blijven"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Bedankt voor het gebruiken van de meest recente versie ("+A.version+") van 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"Er gaat iets mis. Controleer je wachtwoord en probeer het opnieuw."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Deze kaart is vergrendeld/opgezegd. Gebruik een andere kaart."},"This-entry-will-be-removed-immediately-":function(A){return"Deze invoer wordt onmiddellijk verwijderd."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Dit item wordt meteen verwijderd. Je kunt items gedurende beperkte tijd herstellen op 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Om een item op te slaan in dit account moet je het linken aan een eerder geselecteerd gemaskeerd e-mail-account"},"Unable-to-add-one-time-password-field-to-item":function(A){return"Kan eenmalig wachtwoordveld niet toevoegen aan item"},"Unable-to-copy-generated-password":function(A){return"Kan gegenereerd wachtwoord niet kopi\xEBren"},"Unable-to-fill-generated-password":function(A){return"Kon gegenereerd wachtwoord niet invullen"},"Unable-to-generate-and-copy-one-time-password":function(A){return"Kan eenmalig wachtwoord niet genereren en kopi\xEBren"},"Unable-to-save-generated-password":function(A){return"Kan gegenereerd wachtwoord niet opslaan"},"Unable-to-unlock-account-":function(A){return"Account ontgrendelen mislukt."},"Unknown-Device":function(A){return"Onbekend apparaat"},Unlock:function(A){return"Ontgrendelen"},"Unlock-account-from-the-desktop-app":function(A){return"Ontgrendel account via de desktopapp"},"Use-Suggested-Password":function(A){return"Voorgesteld wachtwoord gebruiken"},"Vendor-Card":function(A){return"Leverancierskaart"},"Watchtower-Alert":function(A){return"Watchtower-melding"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Je kan ervoor kiezen een bestaand familieaccount te koppelen of om een nieuw account te maken."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Je moet je wachtwoord opnieuw invoeren omdat "+A.browserName+" een update beschikbaar heeft."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Je hebt de dagelijkse limiet voor het aanmaken van gemaskeerde e-mail bereikt voor het geselecteerde account."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Je hebt het dagelijkse maximumquota voor het aanmaken van gemaskeerde e-mail bereikt voor het geselecteerde account."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"Je kunt niets opslaan tot je bent ingelogd en bent verbonden met internet."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"Je kunt je wijzigingen niet opslaan tot je bent ingelogd."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Je kunt een gegenereerd wachtwoord pas gebruiken wanneer je bent ingelogd en online bent."},"Your-account-is-offline":function(A){return"Je account is offline"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Je account is opgeschort. Neem voor meer informatie contact op met je gezinsorganisator of teambeheerder."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Je account is niet geverifieerd. Log in bij Fastmail om het geselecteerde account te verifi\xEBren."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Je sessie is verlopen. Log opnieuw in om 1Password in de browser te verifi\xEBren."},"one-time-password":function(A){return"eenmalig wachtwoord"},"your-browser":function(A){return"jouw browser"},"unit.B":function(A){return A.size+" bytes"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"Login"},"category.002":function(A){return"Creditcard"},"category.003":function(A){return"Beveiligde notitie"},"category.004":function(A){return"Identiteit"},"category.005":function(A){return"Wachtwoord"},"category.006":function(A){return"Document"},"category.100":function(A){return"Softwarelicentie"},"category.101":function(A){return"Bankrekening"},"category.102":function(A){return"Database"},"category.103":function(A){return"Rijbewijs"},"category.104":function(A){return"Jachtvergunning"},"category.105":function(A){return"Lidmaatschap"},"category.106":function(A){return"Paspoort"},"category.107":function(A){return"Beloningsprogramma"},"category.108":function(A){return"Burgerservicenummer"},"category.109":function(A){return"Wifi-netwerk"},"category.110":function(A){return"Server"},"category.111":function(A){return"E-mailaccount"},"categories.001":function(A){return"Logins"},"categories.002":function(A){return"Creditcards"},"categories.003":function(A){return"Beveiligde notities"},"categories.004":function(A){return"Identiteiten"},"categories.005":function(A){return"Wachtwoorden"},"categories.006":function(A){return"Documenten"},"categories.100":function(A){return"Softwarelicenties"},"categories.101":function(A){return"Bankrekeningen"},"categories.102":function(A){return"Databases"},"categories.103":function(A){return"Rijbewijzen"},"categories.104":function(A){return"Jachtvergunningen"},"categories.105":function(A){return"Lidmaatschappen"},"categories.106":function(A){return"Paspoorten"},"categories.107":function(A){return"Beloningsprogramma's"},"categories.108":function(A){return"Burgerservicenummers"},"categories.109":function(A){return"Wifi-netwerken"},"categories.110":function(A){return"Servers"},"categories.111":function(A){return"E-mailaccounts"},"button.save":function(A){return"Opslaan"},"button.cancel":function(A){return"Annuleren"},"unexpected-error":function(A){return"Er is een onverwachte fout opgetreden. Neem contact op met support@1password.com"}},pt:{"--accountName---was-added-to-1Password-":function(A){return'"'+A.accountName+'" foi adicionada ao 1Password.'},"--itemName---was-saved-in---vaultName---":function(A){return'"'+A.itemName+'" foi salvo em "'+A.vaultName+'".'},"-accountName--is-offline-":function(A){return A.accountName+" est\xE1 offline."},"-count--Items-archived":function(A){return A.count+" itens arquivados"},"-count--Items-deleted":function(A){return A.count+" itens exclu\xEDdos"},"-count--Items-favorited":function(A){return A.count+" itens adicionados aos favoritos"},"-count--Items-removed-from-favorites":function(A){return A.count+" itens removidos dos favoritos"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return A.deviceName+" perto de "+A.location+" est\xE1 tentando fazer login na sua conta "+A.accountName+"."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return A.deviceName+" perto de "+A.location+" est\xE1 tentando fazer login na sua conta "+A.accountName+". Abra 1Password na barra de ferramentas do seu navegador para visualizar."},"-fileName--downloaded":function(A){return A.fileName+" downloaded"},"-itemType--saved":function(A){return A.itemType+" salvo"},"1Password-8-Required":function(A){return"\xC9 necess\xE1rio o 1Password 8"},"1Password-account-added":function(A){return"Conta do 1Password adicionada"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"O 1Password n\xE3o pode abrir seu banco de dados porque n\xE3o h\xE1 espa\xE7o em disco suficiente dispon\xEDvel para o "+A.browser+". Para usar o 1Password, libere algum espa\xE7o."},"1Password-is-up-to-date":function(A){return"O 1Password est\xE1 atualizado"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`O 1Password n\xE3o far\xE1 mais sugest\xF5es de preenchimento autom\xE1tico nesta p\xE1gina.

A lista de p\xE1ginas ocultas \xE9 lembrada neste navegador. Voc\xEA pode limpar a lista a qualquer momento nas configura\xE7\xF5es.`},"A-database-error-occurred-":function(A){return"Ocorreu um erro no banco de dados."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"Foi adicionado um site ao Watchtower em "+A.count+" de suas contas."},"API-Key":function(A){return"Chave da API"},"Add-account-":function(A){return"Adicionar conta\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Todos esses itens ser\xE3o removidos imediatamente. Voc\xEA pode recuperar itens por um tempo limitado em 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"Ocorreu um erro na gera\xE7\xE3o do Email Oculto."},"An-error-occurred--Please-try-again-":function(A){return"Ocorreu um erro. Tente novamente."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"Ocorreu um erro na ativa\xE7\xE3o e no preenchimento do Email Oculto."},"An-unknown-error-has-occurred-":function(A){return"Ocorreu um erro desconhecido."},"Any-Website":function(A){return"Qualquer site"},Archive:function(A){return"Arquivar"},"Archive--count--items-":function(A){return"Arquivar "+A.count+" itens?"},"Archived---title--":function(A){return"Arquivou \u201C"+A.title+"\u201D"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"Os itens arquivados n\xE3o ser\xE3o exibidos nas sugest\xF5es de preenchimento em sites e aplicativos."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return'Deseja mesmo arquivar "'+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return'Deseja mesmo excluir "'+A.itemName+"\u201D?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"Deseja mesmo excluir "+rm(A.count,0,sdt,{one:ko(A.count,"count")+" item",other:ko(A.count,"count")+" itens"})+"?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"Voc\xEA tem certeza que deseja excluir esta senha?"},"Authentication-Required":function(A){return"\xC9 necess\xE1rio autenticar"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"A autentica\xE7\xE3o foi interrompida ou o tempo limite se esgotou. Tente novamente."},Benchmarking:function(A){return"An\xE1lise comparativa"},"Biometry-is-currently-unavailable-":function(A){return"A biometria n\xE3o est\xE1 dispon\xEDvel no momento."},Cancel:function(A){return"Cancelar"},"Collect-Page-Structure":function(A){return"Coletar estrutura da p\xE1gina"},"Continue-Signing-In":function(A){return"Prossiga com o acesso"},"Copied--fieldTitle-":function(A){return"Copiou "+A.fieldTitle},"Copied-field":function(A){return"Campo copiado"},"Copied-generated-password":function(A){return"Copiou senha gerada"},"Copied-item-JSON":function(A){return"Copiado JSON do item"},"Copied-item-UUID":function(A){return"Copiada UUID do item"},"Copied-item-link":function(A){return"Copiado link do item"},"Copied-one-time-password":function(A){return"Copiou senha de uso \xFAnico"},"Corporate-Card":function(A){return"Cart\xE3o corporativo"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"N\xE3o foi poss\xEDvel conectar no aplicativo 1Password. Tente desbloquear novamente."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"N\xE3o foi poss\xEDvel concluir a autentica\xE7\xE3o. Atualize o 1Password para desktop e tente novamente."},"Create-Brex-vendor-card-":function(A){return"Criar cart\xE3o de fornecedor Brex\u2026"},"Create-Masked-Email-":function(A){return"Criar email oculto\u2026"},"Create-Privacy-Card-":function(A){return"Criar cart\xE3o Privacy\u2026"},"Create-SSH-Key-":function(A){return"Criar chave SSH\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"A cria\xE7\xE3o e edi\xE7\xE3o de chaves SSH exigem o 1Password 8."},"Credit-Card":function(A){return"Cart\xE3o de cr\xE9dito"},"Credit-card":function(A){return"Cart\xE3o de cr\xE9dito"},Delete:function(A){return"Excluir"},"Deleted---title--":function(A){return"Excluiu \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on---title--":function(A){return"Login autom\xE1tico desativado em \u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on--count--items":function(A){return"Login autom\xE1tico desativado em "+A.count+" itens"},"Disk-space-too-low":function(A){return"Espa\xE7o em disco insuficiente"},"Do-you-have-an-existing-account-":function(A){return"Voc\xEA j\xE1 tem conta?"},"Don-t-Save-in-1Password":function(A){return"N\xE3o salvar no 1Password"},"Download-failed":function(A){return"A transfer\xEAncia falhou"},"Duo-Authentication-Required":function(A){return"\xC9 necess\xE1rio autenticar no Duo"},"Email-blocked":function(A){return"Email bloqueado"},"Email-unblocked":function(A){return"Email desbloqueado"},Employee:function(A){return"Funcion\xE1rio"},"Enabled-sign-in-automatically-on---title--":function(A){return"Login autom\xE1tico ativado em \u201C"+A.title+"\u201D"},"Enabled-sign-in-automatically-on--count--items":function(A){return"Login autom\xE1tico ativado em "+A.count+" itens"},"Enter-Account-Password":function(A){return"Digite a senha da conta"},"Failed-to-copy-field":function(A){return"Falha ao copiar o campo"},"Failed-to-delete-password":function(A){return"N\xE3o foi poss\xEDvel excluir a senha"},"Favorited---title--":function(A){return"Incluiu \u201C"+A.title+"\u201D nos favoritos"},"Fill-Masked-Email-":function(A){return"Preencher email oculto\u2026"},"Get-Help":function(A){return"Receber ajuda"},Help:function(A){return"Ajuda"},"Hide-on-this-page":function(A){return"Ocultar nesta p\xE1gina"},Identity:function(A){return"Identidade"},Item:function(A){return"Item"},"Learn-More-":function(A){return"Saiba mais\u2026"},"Link-Existing":function(A){return"Link existente"},Lock:function(A){return"Bloquear"},Login:function(A){return"Dados de acesso"},Managed:function(A){return"Gerenciou"},"New-app-or-browser-found":function(A){return"Novo aplicativo ou navegador encontrado"},"New-item-saved-in-1Password-":function(A){return"Novo item salvo no 1Password."},"No-QR-code-found-for-2FA":function(A){return"N\xE3o foi encontrado um c\xF3digo QR para 2FA"},"No-accounts-found-":function(A){return"Nenhuma conta encontrada."},OK:function(A){return"OK"},Ok:function(A){return"Ok"},Personal:function(A){return"Pessoal"},"Physical-Card":function(A){return"Cart\xE3o f\xEDsico"},Private:function(A){return"Privado"},"Removed---title---from-favorites":function(A){return"Removeu \u201C"+A.title+"\u201D dos favoritos"},"Report-Issue":function(A){return"Reportar problema"},"Report-error-":function(A){return"Reportar erro\u2026"},Save:function(A){return"Salvar"},Security:function(A){return"Seguran\xE7a"},Settings:function(A){return"Configura\xE7\xF5es"},Shared:function(A){return"Compartilhado"},"Sign-Up":function(A){return"Inscrever-se"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"Acesse sua conta do 1Password ("+A.accountName+") e autentique com o Duo para continuar."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"Acesse sua conta do 1Password ("+A.accountName+") para continuar."},"Sign-in-with--authProvider-":function(A){return"Entrar com "+A.authProvider},"Sign-in-with-passkey":function(A){return"Entrar com passkey"},"Stay-Offline":function(A){return"Ficar offline"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"Obrigado por utilizar a vers\xE3o mais recente ("+A.version+") do 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"N\xE3o funcionou. Verifique a senha e tente novamente."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"Este cart\xE3o foi bloqueado/cancelado. Utilize outro cart\xE3o."},"This-entry-will-be-removed-immediately-":function(A){return"Esta informa\xE7\xE3o ser\xE1 removida imediatamente."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"Este item ser\xE1 removido imediatamente. Voc\xEA pode recuperar itens por tempo limitado em 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"Para salvar um item nessa conta \xE9 preciso vincul\xE1-la \xE0 conta de email oculta selecionada anteriormente"},"Unable-to-add-one-time-password-field-to-item":function(A){return"N\xE3o foi poss\xEDvel incluir um campo de senha de uso \xFAnico no item"},"Unable-to-copy-generated-password":function(A){return"N\xE3o foi poss\xEDvel copiar a senha gerada"},"Unable-to-fill-generated-password":function(A){return"N\xE3o foi poss\xEDvel preencher com a senha gerada"},"Unable-to-generate-and-copy-one-time-password":function(A){return"N\xE3o foi poss\xEDvel gerar e copiar uma senha de uso \xFAnico"},"Unable-to-save-generated-password":function(A){return"N\xE3o foi poss\xEDvel salvar a senha gerada"},"Unable-to-unlock-account-":function(A){return"N\xE3o foi poss\xEDvel desbloquear a conta."},"Unknown-Device":function(A){return"Dispositivo desconhecido"},Unlock:function(A){return"Desbloquear"},"Unlock-account-from-the-desktop-app":function(A){return"Desbloquear conta no aplicativo para computador"},"Use-Suggested-Password":function(A){return"Usar senha sugerida"},"Vendor-Card":function(A){return"Cart\xE3o de fornecedor"},"Watchtower-Alert":function(A){return"Alerta do Watchtower"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"Voc\xEA pode optar por vincular uma conta familiar existente ou criar outra conta."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"Voc\xEA est\xE1 sendo solicitado a reinserir sua senha porque "+A.browserName+" tem uma atualiza\xE7\xE3o dispon\xEDvel."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"Voc\xEA atingiu o limite di\xE1rio de cria\xE7\xE3o de Emails Ocultos na conta selecionada."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"Voc\xEA atingiu a cota m\xE1xima de cria\xE7\xE3o de Emails Ocultos na conta selecionada."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"Voc\xEA n\xE3o poder\xE1 salvar as altera\xE7\xF5es at\xE9 que esteja na conta e online."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"Voc\xEA n\xE3o poder\xE1 salvar as altera\xE7\xF5es at\xE9 concluir o acesso."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"Voc\xEA n\xE3o poder\xE1 utilizar a senha gerada at\xE9 voc\xEA entrar na conta e estar online."},"Your-account-is-offline":function(A){return"Sua conta est\xE1 offline"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"Sua conta est\xE1 suspensa. Entre em contato com o organizador da fam\xEDlia ou o administrador da equipe para mais informa\xE7\xF5es."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"Sua conta n\xE3o foi confirmada. Acesse o Fastmail para confirmar a conta selecionada."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"Sua sess\xE3o expirou. O 1Password no navegador gostaria que voc\xEA entrasse na conta novamente para autenticar."},"one-time-password":function(A){return"senha de uso \xFAnico"},"your-browser":function(A){return"seu navegador"},"unit.B":function(A){return A.size+" bytes"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"In\xEDcio de sess\xE3o"},"category.002":function(A){return"Cart\xE3o de Cr\xE9dito"},"category.003":function(A){return"Nota segura"},"category.004":function(A){return"Identidade"},"category.005":function(A){return"Senha"},"category.006":function(A){return"Documento"},"category.100":function(A){return"Licen\xE7a de software"},"category.101":function(A){return"Conta banc\xE1ria"},"category.102":function(A){return"Banco de dados"},"category.103":function(A){return"Carteira de motorista"},"category.104":function(A){return"Licen\xE7a de ca\xE7a"},"category.105":function(A){return"Subscri\xE7\xE3o"},"category.106":function(A){return"Passaporte"},"category.107":function(A){return"Programa de fidelidade"},"category.108":function(A){return"N\xFAmero da previd\xEAncia social"},"category.109":function(A){return"Rede WiFi"},"category.110":function(A){return"Servidor"},"category.111":function(A){return"Conta de e-mail"},"categories.001":function(A){return"Logins"},"categories.002":function(A){return"Cart\xF5es de cr\xE9dito"},"categories.003":function(A){return"Notas seguras"},"categories.004":function(A){return"Identidades"},"categories.005":function(A){return"Senhas"},"categories.006":function(A){return"Documentos"},"categories.100":function(A){return"Licen\xE7as de software"},"categories.101":function(A){return"Contas banc\xE1rias"},"categories.102":function(A){return"Bancos de dados"},"categories.103":function(A){return"Carteiras de motorista"},"categories.104":function(A){return"Licen\xE7as de ca\xE7a"},"categories.105":function(A){return"Subscri\xE7\xF5es"},"categories.106":function(A){return"Passaportes"},"categories.107":function(A){return"Programas de fidelidade"},"categories.108":function(A){return"N\xFAmeros de Previd\xEAncia Social"},"categories.109":function(A){return"Redes Wi-Fi"},"categories.110":function(A){return"Servidores"},"categories.111":function(A){return"Conta de E-mail"},"button.save":function(A){return"Guardar"},"button.cancel":function(A){return"Cancelar"},"unexpected-error":function(A){return"Ocorreu um erro inesperado. Entre em contato com support@1password.com"}},ru:{"--accountName---was-added-to-1Password-":function(A){return"\u0410\u043A\u043A\u0430\u0443\u043D\u0442 \xAB"+A.accountName+"\xBB \u0431\u044B\u043B \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 1Password."},"--itemName---was-saved-in---vaultName---":function(A){return'\u042D\u043B\u0435\u043C\u0435\u043D\u0442 "'+A.itemName+'" \u0431\u044B\u043B \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D \u0432 \u0441\u0435\u0439\u0444\u0435 "'+A.vaultName+'".'},"-accountName--is-offline-":function(A){return"\u0410\u043A\u043A\u0430\u0443\u043D\u0442 "+A.accountName+" \u2014 \u043D\u0435 \u0432 \u0441\u0435\u0442\u0438."},"-count--Items-archived":function(A){return A.count+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430(\u043E\u0432) \u043F\u043E\u043C\u0435\u0449\u0435\u043D\u044B \u0432 \u0430\u0440\u0445\u0438\u0432"},"-count--Items-deleted":function(A){return A.count+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430(\u043E\u0432) \u0443\u0434\u0430\u043B\u0435\u043D\u044B"},"-count--Items-favorited":function(A){return"\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0432 \u0441\u043F\u0438\u0441\u043A\u0435 \u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435: "+A.count},"-count--Items-removed-from-favorites":function(A){return"\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435: "+A.count},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return"\u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E "+A.deviceName+" (\u043E\u043A\u043E\u043B\u043E \u044D\u0442\u043E\u0433\u043E \u043C\u0435\u0441\u0442\u0430: "+A.location+") \u043F\u044B\u0442\u0430\u0435\u0442\u0441\u044F \u0432\u043E\u0439\u0442\u0438 \u0432 \u0432\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 "+A.accountName+"."},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return"\u0423\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E "+A.deviceName+" (\u043E\u043A\u043E\u043B\u043E \u044D\u0442\u043E\u0433\u043E \u043C\u0435\u0441\u0442\u0430: "+A.location+") \u043F\u044B\u0442\u0430\u0435\u0442\u0441\u044F \u0432\u043E\u0439\u0442\u0438 \u0432 \u0432\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 "+A.accountName+". \u0427\u0442\u043E\u0431\u044B \u043F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u0434\u0435\u0442\u0430\u043B\u0438, \u043E\u0442\u043A\u0440\u043E\u0439\u0442\u0435 1Password \u043D\u0430 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432 \u0441\u0432\u043E\u0435\u0433\u043E \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430."},"-fileName--downloaded":function(A){return"\u0421\u043A\u0430\u0447\u0430\u043D\u043E: "+A.fileName},"-itemType--saved":function(A){return"\u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E: "+A.itemType},"1Password-8-Required":function(A){return"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F 1Password 8"},"1Password-account-added":function(A){return"\u0410\u043A\u043A\u0430\u0443\u043D\u0442 1Password \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u043E\u0442\u043A\u0440\u044B\u0442\u044C \u0431\u0430\u0437\u0443 \u0434\u0430\u043D\u043D\u044B\u0445, \u0442\u0430\u043A \u043A\u0430\u043A \u0434\u043B\u044F "+A.browser+" \u043D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u043C\u0435\u0441\u0442\u0430 \u043D\u0430 \u0434\u0438\u0441\u043A\u0435. \u0414\u043B\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F 1Password \u043E\u0441\u0432\u043E\u0431\u043E\u0434\u0438\u0442\u0435 \u043C\u0435\u0441\u0442\u043E \u043D\u0430 \u0434\u0438\u0441\u043A\u0435."},"1Password-is-up-to-date":function(A){return"\u0412\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0435 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u044E\u044E \u0432\u0435\u0440\u0441\u0438\u044E 1Password"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password \u0431\u043E\u043B\u044C\u0448\u0435 \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u043F\u0440\u0435\u0434\u043B\u0430\u0433\u0430\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435 \u043D\u0430 \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435.

\u0421\u043F\u0438\u0441\u043E\u043A \u0441\u043A\u0440\u044B\u0442\u044B\u0445 \u0441\u0442\u0440\u0430\u043D\u0438\u0446 \u0437\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u0435\u0442\u0441\u044F \u0432 \u044D\u0442\u043E\u043C \u0432\u0435\u0431-\u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435. \u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u043C\u043E\u0436\u043D\u043E \u0432 \u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430\u0445 \u0432 \u043B\u044E\u0431\u043E\u0439 \u043C\u043E\u043C\u0435\u043D\u0442.`},"A-database-error-occurred-":function(A){return"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u0431\u0430\u0437\u044B \u0434\u0430\u043D\u043D\u044B\u0445."},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"\u0421\u0430\u0439\u0442 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u0432 Watchtower \u043D\u0430 "+A.count+" \u0432\u0430\u0448\u0438\u0445 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u043E\u0432."},"API-Key":function(A){return"API-\u043A\u043B\u044E\u0447"},"Add-account-":function(A){return"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u0412\u0441\u0435 \u044D\u0442\u0438 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B \u043F\u0440\u044F\u043C\u043E \u0441\u0435\u0439\u0447\u0430\u0441. \u0412 \u0442\u0435\u0447\u0435\u043D\u0438\u0435 \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0432\u044B \u0435\u0449\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0438\u0445 \u043D\u0430 1Password.com."},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"\u041F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0433\u043E \u0430\u0434\u0440\u0435\u0441\u0430 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430."},"An-error-occurred--Please-try-again-":function(A){return"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043D\u0435\u043F\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"\u041F\u0440\u0438 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0438 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0438 \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0433\u043E \u0430\u0434\u0440\u0435\u0441\u0430 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430."},"An-unknown-error-has-occurred-":function(A){return"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430."},"Any-Website":function(A){return"\u041B\u044E\u0431\u043E\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442"},Archive:function(A){return"\u041F\u043E\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432 \u0430\u0440\u0445\u0438\u0432"},"Archive--count--items-":function(A){return"\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C "+A.count+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432 \u0432 \u0430\u0440\u0445\u0438\u0432?"},"Archived---title--":function(A){return"\u041F\u043E\u043C\u0435\u0449\u0435\u043D\u043E \u0432 \u0430\u0440\u0445\u0438\u0432: \xAB"+A.title+"\xBB"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"\u041F\u043E\u043C\u0435\u0449\u0435\u043D\u043D\u044B\u0435 \u0432 \u0430\u0440\u0445\u0438\u0432 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u043D\u0435 \u0431\u0443\u0434\u0443\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u0432 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F\u0445 \u043F\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E \u0444\u043E\u0440\u043C \u043D\u0430 \u0441\u0430\u0439\u0442\u0430\u0445 \u0438\u043B\u0438 \u0432 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F\u0445."},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043F\u043E\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432 \u0430\u0440\u0445\u0438\u0432 \xAB"+A.itemName+"\xBB?"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\u0412\u044B \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \xAB"+A.itemName+"\xBB?"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C "+rm(A.count,0,ldt,{one:ko(A.count,"count")+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442",few:ko(A.count,"count")+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430",many:ko(A.count,"count")+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432",other:ko(A.count,"count")+" \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430(\u043E\u0432)"})+"?"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u043F\u0430\u0440\u043E\u043B\u044C?"},"Authentication-Required":function(A){return"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0430\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044F"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"\u0418\u0441\u0442\u0435\u043A \u043B\u0438\u043C\u0438\u0442 \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u043D\u0430 \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0430\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u0438\u043B\u0438 \u043F\u0440\u043E\u0446\u0435\u0441\u0441 \u0431\u044B\u043B \u043F\u0440\u0435\u0440\u0432\u0430\u043D. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."},Benchmarking:function(A){return"\u041A\u043E\u043D\u0442\u0440\u043E\u043B\u044C\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B"},"Biometry-is-currently-unavailable-":function(A){return"\u0411\u0438\u043E\u043C\u0435\u0442\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B."},Cancel:function(A){return"\u041E\u0442\u043C\u0435\u043D\u0430"},"Collect-Page-Structure":function(A){return"\u0421\u043E\u0431\u0440\u0430\u0442\u044C \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0443 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B"},"Continue-Signing-In":function(A){return"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u0435 \u0432\u0445\u043E\u0434 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442"},"Copied--fieldTitle-":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043E: "+A.fieldTitle},"Copied-field":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u043F\u043E\u043B\u0435"},"Copied-generated-password":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Copied-item-JSON":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u044D\u043B\u0435\u043C\u0435\u043D\u0442 JSON"},"Copied-item-UUID":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D UUID \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430"},"Copied-item-link":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0441\u0441\u044B\u043B\u043A\u0430 \u043D\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442"},"Copied-one-time-password":function(A){return"\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u043E\u0434\u043D\u043E\u0440\u0430\u0437\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Corporate-Card":function(A){return"\u041A\u043E\u0440\u043F\u043E\u0440\u0430\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u044C\u0441\u044F \u043A \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044E 1Password. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0435\u0449\u0435 \u0440\u0430\u0437."},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C \u0430\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u044E. \u041E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 1Password \u0434\u043B\u044F \u041F\u041A \u0438 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0443."},"Create-Brex-vendor-card-":function(A){return"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043A\u0430\u0440\u0442\u0443 \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430 Brex\u2026"},"Create-Masked-Email-":function(A){return"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B\u2026"},"Create-Privacy-Card-":function(A){return"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043A\u0430\u0440\u0442\u0443 Privacy\u2026"},"Create-SSH-Key-":function(A){return"\u0421\u043E\u0437\u0434\u0430\u0442\u044C SSH-\u043A\u043B\u044E\u0447\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"\u0414\u043B\u044F \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u0438 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F SSH-\u043A\u043B\u044E\u0447\u0435\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F 1Password 8."},"Credit-Card":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0430\u044F \u043A\u0430\u0440\u0442\u0430"},"Credit-card":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0430\u044F \u043A\u0430\u0440\u0442\u0430"},Delete:function(A){return"\u0423\u0434\u0430\u043B\u0438\u0442\u044C"},"Deleted---title--":function(A){return"\u0423\u0434\u0430\u043B\u0435\u043D\u043E: \xAB"+A.title+"\xBB"},"Disabled-sign-in-automatically-on---title--":function(A){return"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0430 \xAB"+A.title+"\xBB"},"Disabled-sign-in-automatically-on--count--items":function(A){return"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u0445 "+A.count},"Disk-space-too-low":function(A){return"\u041D\u0430 \u0434\u0438\u0441\u043A\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u043C\u0430\u043B\u043E \u043C\u0435\u0441\u0442\u0430"},"Do-you-have-an-existing-account-":function(A){return"\u0423 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442?"},"Don-t-Save-in-1Password":function(A){return"\u041D\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0432 1Password"},"Download-failed":function(A){return"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438"},"Duo-Authentication-Required":function(A){return"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F Duo"},"Email-blocked":function(A){return"\u042D\u043B. \u043F\u043E\u0447\u0442\u0430 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u0430"},"Email-unblocked":function(A){return"\u042D\u043B. \u043F\u043E\u0447\u0442\u0430 \u0440\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u0430"},Employee:function(A){return"\u0421\u043E\u0442\u0440\u0443\u0434\u043D\u0438\u043A(-\u0446\u0430)"},"Enabled-sign-in-automatically-on---title--":function(A){return"\u0412\u043A\u043B\u044E\u0447\u0435\u043D \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0430 \xAB"+A.title+"\xBB"},"Enabled-sign-in-automatically-on--count--items":function(A){return"\u0412\u043A\u043B\u044E\u0447\u0435\u043D \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u0445\u043E\u0434 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0430 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u0445 "+A.count},"Enter-Account-Password":function(A){return"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C \u0434\u043B\u044F \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430"},"Failed-to-copy-field":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435"},"Failed-to-delete-password":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C"},"Favorited---title--":function(A){return"\u201C"+A.title+"\u201D: \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E \u0432 \u0441\u043F\u0438\u0441\u043E\u043A \u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435"},"Fill-Masked-Email-":function(A){return"\u0412\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B\u2026"},"Get-Help":function(A){return"\u041F\u043E\u043C\u043E\u0449\u044C"},Help:function(A){return"\u0421\u043F\u0440\u0430\u0432\u043A\u0430"},"Hide-on-this-page":function(A){return"\u0421\u043A\u0440\u044B\u0442\u044C \u043D\u0430 \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435"},Identity:function(A){return"\u041A\u043E\u043D\u0442\u0430\u043A\u0442"},Item:function(A){return"\u042D\u043B\u0435\u043C\u0435\u043D\u0442"},"Learn-More-":function(A){return"\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435\u2026"},"Link-Existing":function(A){return"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439"},Lock:function(A){return"\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C"},Login:function(A){return"\u041B\u043E\u0433\u0438\u043D"},Managed:function(A){return"\u0423\u043F\u0440\u0430\u0432\u043B\u044F\u0435\u043C\u044B\u0439"},"New-app-or-browser-found":function(A){return"\u041D\u0430\u0439\u0434\u0435\u043D\u043E \u043D\u043E\u0432\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440"},"New-item-saved-in-1Password-":function(A){return"\u041D\u043E\u0432\u044B\u0439 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D \u0432 1Password."},"No-QR-code-found-for-2FA":function(A){return"QR \u043A\u043E\u0434 \u0434\u043B\u044F \u0434\u0432\u0443\u0445\u0444\u0430\u043A\u0442\u043E\u0440\u043D\u043E\u0439 \u0430\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D"},"No-accounts-found-":function(A){return"\u0410\u043A\u043A\u0430\u0443\u043D\u0442\u044B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B."},OK:function(A){return"OK"},Ok:function(A){return"\u041E\u041A"},Personal:function(A){return"\u041B\u0438\u0447\u043D\u044B\u0439"},"Physical-Card":function(A){return"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u043A\u0430\u0440\u0442\u0430"},Private:function(A){return"\u0427\u0430\u0441\u0442\u043D\u044B\u0439"},"Removed---title---from-favorites":function(A){return"\u201C"+A.title+"\u201D: \u0443\u0434\u0430\u043B\u0435\u043D \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430 \u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435"},"Report-Issue":function(A){return"\u0421\u043E\u043E\u0431\u0449\u0438\u0442\u044C \u043E \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0435"},"Report-error-":function(A){return"\u041E\u0442\u0447\u0435\u0442 \u043E\u0431 \u043E\u0448\u0438\u0431\u043A\u0435\u2026"},Save:function(A){return"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"},Security:function(A){return"\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u044C"},Settings:function(A){return"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"},Shared:function(A){return"\u041E\u0431\u0449\u0438\u0439"},"Sign-Up":function(A){return"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 1Password ("+A.accountName+") \u0438 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0432 Duo, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C."},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043E\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 1Password ("+A.accountName+"), \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C."},"Sign-in-with--authProvider-":function(A){return"\u0412\u043E\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043C\u0443 c "+A.authProvider},"Sign-in-with-passkey":function(A){return"\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0441 passkey"},"Stay-Offline":function(A){return"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0432 \u0440\u0435\u0436\u0438\u043C\u0435 \u043E\u0444\u043B\u0430\u0439\u043D"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"\u0411\u043B\u0430\u0433\u043E\u0434\u0430\u0440\u0438\u043C \u0437\u0430 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u0435\u0439\u0448\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 ("+A.version+") 1Password!"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"\u042D\u0442\u043E \u043D\u0435 \u0441\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u043E. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C \u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"\u042D\u0442\u0430 \u043A\u0430\u0440\u0442\u0430 \u0437\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u0430/\u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044E \u043A\u0430\u0440\u0442\u0443."},"This-entry-will-be-removed-immediately-":function(A){return"\u042D\u0442\u0430 \u0437\u0430\u043F\u0438\u0441\u044C \u0431\u0443\u0434\u0435\u0442 \u043D\u0435\u043C\u0435\u0434\u043B\u0435\u043D\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D\u0430."},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u042D\u0442\u043E\u0442 \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0431\u0443\u0434\u0435\u0442 \u043D\u0435\u043C\u0435\u0434\u043B\u0435\u043D\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D.\u041D\u0435\u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0435\u0449\u0435 \u043C\u043E\u0436\u043D\u043E \u0431\u0443\u0434\u0435\u0442 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043D\u0430 1Password.com."},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"\u0427\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0435, \u0432\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u0432\u044F\u0437\u0430\u0442\u044C \u0435\u0433\u043E \u0441 \u0440\u0430\u043D\u0435\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u043C \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u043E\u043C \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B"},"Unable-to-add-one-time-password-field-to-item":function(A){return"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0443 \u043F\u043E\u043B\u0435 \u0434\u043B\u044F \u043E\u0434\u043D\u043E\u0440\u0430\u0437\u043E\u0432\u043E\u0433\u043E \u043F\u0430\u0440\u043E\u043B\u044F"},"Unable-to-copy-generated-password":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Unable-to-fill-generated-password":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Unable-to-generate-and-copy-one-time-password":function(A){return"\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043E\u0434\u043D\u043E\u0440\u0430\u0437\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Unable-to-save-generated-password":function(A){return"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Unable-to-unlock-account-":function(A){return"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C."},"Unknown-Device":function(A){return"\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u043E\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u043E"},Unlock:function(A){return"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C"},"Unlock-account-from-the-desktop-app":function(A){return"\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0438\u0437 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0434\u043B\u044F \u041F\u041A"},"Use-Suggested-Password":function(A){return"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"Vendor-Card":function(A){return"\u041A\u0430\u0440\u0442\u0430 \u043F\u043E\u0441\u0442\u0430\u0432\u0449\u0438\u043A\u0430"},"Watchtower-Alert":function(A){return"\u041F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0435\u043D\u0438\u0435 \u043E\u0442 Watchtower"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u0432\u044F\u0437\u0430\u0442\u044C \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u0441\u0435\u043C\u0435\u0439\u043D\u044B\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0438\u043B\u0438 \u0441\u043E\u0437\u0434\u0430\u0442\u044C \u043D\u043E\u0432\u044B\u0439."},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"\u0412\u0430\u043C \u0431\u0443\u0434\u0435\u0442 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u043E \u043F\u043E\u0432\u0442\u043E\u0440\u043D\u043E \u0432\u0432\u0435\u0441\u0442\u0438 \u0441\u0432\u043E\u0439 \u043F\u0430\u0440\u043E\u043B\u044C, \u043F\u043E\u0442\u043E\u043C\u0443 \u0447\u0442\u043E \u0434\u043B\u044F \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 "+A.browserName+" \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435."},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"\u0412\u044B \u0434\u043E\u0441\u0442\u0438\u0433\u043B\u0438 \u0434\u043D\u0435\u0432\u043D\u043E\u0433\u043E \u043B\u0438\u043C\u0438\u0442\u0430 \u043D\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0430\u0434\u0440\u0435\u0441\u043E\u0432 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B \u0434\u043B\u044F \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430."},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"\u0412\u044B \u0434\u043E\u0441\u0442\u0438\u0433\u043B\u0438 \u043B\u0438\u043C\u0438\u0442\u0430 \u043D\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0435 \u0437\u0430\u043C\u0430\u0441\u043A\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0430\u0434\u0440\u0435\u0441\u043E\u0432 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B \u0434\u043B\u044F \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430."},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"\u0412\u044B \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F, \u043F\u043E\u043A\u0430 \u043D\u0435 \u0432\u043E\u0439\u0434\u0435\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0438 \u043D\u0435 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u0441\u044C \u043A \u0441\u0435\u0442\u0438."},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"\u0412\u044B \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F, \u043F\u043E\u043A\u0430 \u043D\u0435 \u0432\u043E\u0439\u0434\u0435\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442."},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"\u0412\u044B \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C, \u043F\u043E\u043A\u0430 \u043D\u0435 \u0432\u043E\u0439\u0434\u0435\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0438 \u043D\u0435 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u0441\u044C \u043A \u0441\u0435\u0442\u0438."},"Your-account-is-offline":function(A){return"\u0412\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0435 \u0432 \u0441\u0435\u0442\u0438"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0432\u0430\u0448\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u0431\u044B\u043B\u043E \u043F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044F\u0436\u0438\u0442\u0435\u0441\u044C \u0441 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0442\u043E\u0440\u043E\u043C \u0441\u0435\u043C\u0435\u0439\u043D\u043E\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u0438\u043B\u0438 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u043E\u043C \u043A\u043E\u043C\u0430\u043D\u0434\u044B \u0434\u043B\u044F \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438."},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"\u0412\u0430\u0448 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u043D\u0435 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D. \u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 Fastmail, \u0447\u0442\u043E\u0431\u044B \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044C \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0430\u043A\u043A\u0430\u0443\u043D\u0442."},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"\u0412\u0440\u0435\u043C\u044F \u0441\u0435\u0430\u043D\u0441\u0430 \u0438\u0441\u0442\u0435\u043A\u043B\u043E. \u041D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0441\u043D\u043E\u0432\u0430 \u0432\u043E\u0439\u0442\u0438 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 1Password \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u0434\u043B\u044F \u0430\u0443\u0442\u0435\u043D\u0442\u0438\u0444\u0438\u043A\u0430\u0446\u0438\u0438."},"one-time-password":function(A){return"\u043E\u0434\u043D\u043E\u0440\u0430\u0437\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"},"your-browser":function(A){return"\u0432\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440"},"unit.B":function(A){return A.size+" B"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"\u041B\u043E\u0433\u0438\u043D"},"category.002":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0430\u044F \u043A\u0430\u0440\u0442\u0430"},"category.003":function(A){return"\u0417\u0430\u0449\u0438\u0449\u0451\u043D\u043D\u0430\u044F \u0437\u0430\u043C\u0435\u0442\u043A\u0430"},"category.004":function(A){return"\u041B\u0438\u0447\u043D\u043E\u0441\u0442\u044C"},"category.005":function(A){return"\u041F\u0430\u0440\u043E\u043B\u044C"},"category.006":function(A){return"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442"},"category.100":function(A){return"\u041B\u0438\u0446\u0435\u043D\u0437\u0438\u044F \u043D\u0430 \u041F\u041E"},"category.101":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0438\u0439 \u0441\u0447\u0451\u0442"},"category.102":function(A){return"\u0411\u0430\u0437\u0430 \u0434\u0430\u043D\u043D\u044B\u0445"},"category.103":function(A){return"\u0412\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0435 \u043F\u0440\u0430\u0432\u0430"},"category.104":function(A){return"\u041E\u0445\u043E\u0442\u043D\u0438\u0447\u044C\u044F \u043B\u0438\u0446\u0435\u043D\u0437\u0438\u044F"},"category.105":function(A){return"\u0427\u043B\u0435\u043D\u0441\u0442\u0432\u043E"},"category.106":function(A){return"\u041F\u0430\u0441\u043F\u043E\u0440\u0442"},"category.107":function(A){return"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u0430 \u043B\u043E\u044F\u043B\u044C\u043D\u043E\u0441\u0442\u0438"},"category.108":function(A){return"\u041D\u043E\u043C\u0435\u0440 \u0441\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0441\u0442\u0440\u0430\u0445\u043E\u0432\u0430\u043D\u0438\u044F"},"category.109":function(A){return"\u0421\u0435\u0442\u044C Wi-Fi"},"category.110":function(A){return"\u0421\u0435\u0440\u0432\u0435\u0440"},"category.111":function(A){return"\u0423\u0447\u0451\u0442\u043D\u0430\u044F \u0437\u0430\u043F\u0438\u0441\u044C \u044D\u043B. \u043F\u043E\u0447\u0442\u044B"},"categories.001":function(A){return"\u041B\u043E\u0433\u0438\u043D\u044B"},"categories.002":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0438\u0435 \u043A\u0430\u0440\u0442\u044B"},"categories.003":function(A){return"\u0417\u0430\u0449\u0438\u0449\u0451\u043D\u043D\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438"},"categories.004":function(A){return"\u041B\u0438\u0447\u043D\u043E\u0441\u0442\u0438"},"categories.005":function(A){return"\u041F\u0430\u0440\u043E\u043B\u0438"},"categories.006":function(A){return"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B"},"categories.100":function(A){return"\u041B\u0438\u0446\u0435\u043D\u0437\u0438\u0438 \u043D\u0430 \u041F\u041E"},"categories.101":function(A){return"\u0411\u0430\u043D\u043A\u043E\u0432\u0441\u043A\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"},"categories.102":function(A){return"\u0411\u0430\u0437\u044B \u0434\u0430\u043D\u043D\u044B\u0445"},"categories.103":function(A){return"\u0412\u043E\u0434\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0435 \u043F\u0440\u0430\u0432\u0430"},"categories.104":function(A){return"\u041E\u0445\u043E\u0442\u043D\u0438\u0447\u044C\u0438 \u043B\u0438\u0446\u0435\u043D\u0437\u0438\u0438"},"categories.105":function(A){return"\u0427\u043B\u0435\u043D\u0441\u0442\u0432\u0430"},"categories.106":function(A){return"\u041F\u0430\u0441\u043F\u043E\u0440\u0442\u0430"},"categories.107":function(A){return"\u041F\u0440\u043E\u0433\u0440\u0430\u043C\u043C\u044B \u043B\u043E\u044F\u043B\u044C\u043D\u043E\u0441\u0442\u0438"},"categories.108":function(A){return"\u041D\u043E\u043C\u0435\u0440\u0430 \u0441\u043E\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0441\u0442\u0440\u0430\u0445\u043E\u0432\u0430\u043D\u0438\u044F"},"categories.109":function(A){return"\u0421\u0435\u0442\u0438 Wi-Fi"},"categories.110":function(A){return"\u0421\u0435\u0440\u0432\u0435\u0440\u044B"},"categories.111":function(A){return"\u0423\u0447\u0451\u0442\u043D\u044B\u0435 \u0437\u0430\u043F\u0438\u0441\u0438 \u044D\u043B. \u043F\u043E\u0447\u0442\u044B"},"button.save":function(A){return"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"},"button.cancel":function(A){return"\u041E\u0442\u043C\u0435\u043D\u0430"},"unexpected-error":function(A){return"\u0412\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043D\u0435\u043F\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0441\u0432\u044F\u0436\u0438\u0442\u0435\u0441\u044C \u0441 \u043D\u0430\u043C\u0438 \u043F\u043E \u0430\u0434\u0440\u0435\u0441\u0443 support@1password.com"}},"zh-CN":{"--accountName---was-added-to-1Password-":function(A){return"\u201C"+A.accountName+"\u201D\u88AB\u6DFB\u52A0\u5230 1Password \u4E2D\u3002"},"--itemName---was-saved-in---vaultName---":function(A){return"\u201C"+A.itemName+"\u201D\u88AB\u4FDD\u5B58\u5728\u201C"+A.vaultName+"\u201D\u4E2D\u3002"},"-accountName--is-offline-":function(A){return A.accountName+" \u5DF2\u79BB\u7EBF\u3002"},"-count--Items-archived":function(A){return A.count+" \u4E2A\u9879\u76EE\u5DF2\u5B58\u6863"},"-count--Items-deleted":function(A){return A.count+" \u4E2A\u9879\u76EE\u5DF2\u5220\u9664"},"-count--Items-favorited":function(A){return A.count+" \u4E2A\u9879\u76EE\u5DF2\u6536\u85CF"},"-count--Items-removed-from-favorites":function(A){return A.count+" \u4E2A\u9879\u76EE\u5DF2\u79FB\u51FA\u6536\u85CF"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return"\u5728 "+A.location+" \u9644\u8FD1\u7684 "+A.deviceName+" \u6B63\u5C1D\u8BD5\u767B\u5F55\u4F60\u7684 "+A.accountName+" \u5E10\u6237\u3002"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return"\u5728 "+A.location+" \u9644\u8FD1\u7684 "+A.deviceName+" \u6B63\u5C1D\u8BD5\u767B\u5F55\u4F60\u7684 "+A.accountName+" \u5E10\u6237\u3002\u5728\u6D4F\u89C8\u5668\u5DE5\u5177\u680F\u4E2D\u6253\u5F00 1Password \u4EE5\u67E5\u770B\u3002"},"-fileName--downloaded":function(A){return A.fileName+" \u5DF2\u4E0B\u8F7D"},"-itemType--saved":function(A){return A.itemType+" \u5DF2\u4FDD\u5B58"},"1Password-8-Required":function(A){return"\u9700\u8981 1Password 8"},"1Password-account-added":function(A){return"1Password \u5E10\u6237\u5DF2\u6DFB\u52A0"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password \u65E0\u6CD5\u6253\u5F00\u6570\u636E\u5E93\uFF0C\u56E0\u4E3A "+A.browser+" \u53EF\u7528\u7684\u78C1\u76D8\u7A7A\u95F4\u4E0D\u8DB3\u3002\u8981\u7EE7\u7EED\u4F7F\u7528 1Password\uFF0C\u8BF7\u91CA\u653E\u66F4\u591A\u7A7A\u95F4\u3002"},"1Password-is-up-to-date":function(A){return"1Password \u5DF2\u662F\u6700\u65B0\u7248\u672C"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password \u5C06\u4E0D\u518D\u5728\u6B64\u9875\u9762\u63D0\u4F9B\u81EA\u52A8\u586B\u5145\u5EFA\u8BAE\u3002

\u6B64\u7F51\u7EDC\u6D4F\u89C8\u5668\u4F1A\u8BB0\u4F4F\u9690\u85CF\u9875\u9762\u7684\u5217\u8868\u3002\u60A8\u53EF\u4EE5\u968F\u65F6\u5728\u8BBE\u7F6E\u4E2D\u6E05\u9664\u8BE5\u5217\u8868\u3002`},"A-database-error-occurred-":function(A){return"\u53D1\u751F\u6570\u636E\u5E93\u9519\u8BEF\u3002"},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"\u4E00\u4E2A\u7F51\u7AD9\u5DF2\u6DFB\u52A0\u5230\u60A8 "+A.count+" \u4E2A\u5E10\u6237\u7684\u77AD\u671B\u5854\u4E2D\u3002"},"API-Key":function(A){return"API Key"},"Add-account-":function(A){return"\u6DFB\u52A0\u5E10\u6237\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u6240\u6709\u8FD9\u4E9B\u9879\u76EE\u5C06\u88AB\u7ACB\u5373\u79FB\u9664\u3002\u60A8\u53EF\u4EE5\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u4ECE 1Password.com \u6062\u590D\u9879\u76EE\u3002"},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"\u751F\u6210\u6B64\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u65F6\u53D1\u751F\u9519\u8BEF\u3002"},"An-error-occurred--Please-try-again-":function(A){return"\u53D1\u751F\u9519\u8BEF\u3002\u8BF7\u91CD\u8BD5\u3002"},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"\u542F\u7528\u5E76\u586B\u5145\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u65F6\u53D1\u751F\u9519\u8BEF\u3002"},"An-unknown-error-has-occurred-":function(A){return"\u53D1\u751F\u672A\u77E5\u9519\u8BEF\u3002"},"Any-Website":function(A){return"\u4EFB\u4F55\u7F51\u7AD9"},Archive:function(A){return"\u5F52\u6863"},"Archive--count--items-":function(A){return"\u5F52\u6863 "+A.count+" \u4E2A\u9879\u76EE\uFF1F"},"Archived---title--":function(A){return"\u5DF2\u5B58\u6863\u201C"+A.title+"\u201D"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"\u5B58\u6863\u7684\u9879\u76EE\u4E0D\u4F1A\u5728\u7F51\u7AD9\u548C\u5E94\u7528\u7684\u586B\u5199\u5EFA\u8BAE\u4E2D\u663E\u793A\u3002"},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\u60A8\u786E\u5B9A\u8981\u5B58\u6863\u201C"+A.itemName+"\u201D\u5417\uFF1F"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u201C"+A.itemName+"\u201D\u5417\uFF1F"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"\u786E\u5B9A\u8981\u5220\u9664 "+rm(A.count,0,EhA,{other:ko(A.count,"count")+" \u4E2A\u9879\u76EE"})+"\u5417\uFF1F"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\u786E\u5B9A\u5220\u9664\u8BE5\u5BC6\u7801\uFF1F"},"Authentication-Required":function(A){return"\u9700\u8981\u8EAB\u4EFD\u9A8C\u8BC1"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"\u9A8C\u8BC1\u4E2D\u65AD\u6216\u8D85\u65F6\u3002\u8BF7\u518D\u8BD5\u4E00\u6B21\u3002"},Benchmarking:function(A){return"\u57FA\u51C6\u5316\u5206\u6790"},"Biometry-is-currently-unavailable-":function(A){return"\u751F\u7269\u8BC6\u522B\u5F53\u524D\u4E0D\u53EF\u7528\u3002"},Cancel:function(A){return"\u53D6\u6D88"},"Collect-Page-Structure":function(A){return"\u6536\u96C6\u9875\u9762\u7ED3\u6784"},"Continue-Signing-In":function(A){return"\u7EE7\u7EED\u767B\u5F55"},"Copied--fieldTitle-":function(A){return"\u5DF2\u590D\u5236 "+A.fieldTitle},"Copied-field":function(A){return"\u590D\u5236\u7684\u5B57\u6BB5"},"Copied-generated-password":function(A){return"\u5DF2\u590D\u5236\u751F\u6210\u7684\u5BC6\u7801"},"Copied-item-JSON":function(A){return"\u5DF2\u590D\u5236\u9879\u76EE JSON"},"Copied-item-UUID":function(A){return"\u5DF2\u590D\u5236\u9879\u76EE UUID"},"Copied-item-link":function(A){return"\u5DF2\u590D\u5236\u9879\u76EE\u94FE\u63A5"},"Copied-one-time-password":function(A){return"\u5DF2\u590D\u5236\u4E00\u6B21\u6027\u5BC6\u7801"},"Corporate-Card":function(A){return"\u516C\u53F8\u5361"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"\u672A\u80FD\u8FDE\u63A5\u5230 1Password \u5E94\u7528\u3002\u8BF7\u518D\u6B21\u5C1D\u8BD5\u89E3\u9501\u3002"},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"\u672A\u80FD\u5B8C\u6210\u9A8C\u8BC1\u3002\u8BF7\u66F4\u65B0\u684C\u9762\u7248 1Password \u540E\u518D\u8BD5\u4E00\u6B21\u3002"},"Create-Brex-vendor-card-":function(A){return"\u521B\u5EFA Brex \u4F9B\u5E94\u5546\u5361\u7247\u2026"},"Create-Masked-Email-":function(A){return"\u521B\u5EFA\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u2026"},"Create-Privacy-Card-":function(A){return"\u521B\u5EFA Privacy \u5361\u7247\u2026"},"Create-SSH-Key-":function(A){return"\u521B\u5EFA SSH \u5BC6\u94A5\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"\u521B\u5EFA\u548C\u7F16\u8F91 SSH \u5BC6\u94A5\u9700\u8981 1Password 8\u3002"},"Credit-Card":function(A){return"\u4FE1\u7528\u5361"},"Credit-card":function(A){return"\u4FE1\u7528\u5361"},Delete:function(A){return"\u5220\u9664"},"Deleted---title--":function(A){return"\u5DF2\u5220\u9664\u201C"+A.title+"\u201D"},"Disabled-sign-in-automatically-on---title--":function(A){return"\u5DF2\u7981\u7528\u201C"+A.title+"\u201D\u7684\u81EA\u52A8\u767B\u5F55\u529F\u80FD"},"Disabled-sign-in-automatically-on--count--items":function(A){return"\u5DF2\u7981\u7528 "+A.count+" \u4E2A\u9879\u76EE\u7684\u81EA\u52A8\u767B\u5F55\u529F\u80FD"},"Disk-space-too-low":function(A){return"\u78C1\u76D8\u7A7A\u95F4\u4E0D\u8DB3"},"Do-you-have-an-existing-account-":function(A){return"\u4F60\u662F\u5426\u62E5\u6709\u5DF2\u5B58\u5728\u7684\u5E10\u6237\uFF1F"},"Don-t-Save-in-1Password":function(A){return"\u4E0D\u8981\u5728 1Password \u4E2D\u4FDD\u5B58"},"Download-failed":function(A){return"\u4E0B\u8F7D\u5931\u8D25"},"Duo-Authentication-Required":function(A){return"\u9700\u8981 Duo \u9A8C\u8BC1"},"Email-blocked":function(A){return"\u7535\u5B50\u90AE\u4EF6\u5DF2\u88AB\u5C01\u9501"},"Email-unblocked":function(A){return"\u7535\u5B50\u90AE\u4EF6\u5DF2\u89E3\u5C01"},Employee:function(A){return"\u5458\u5DE5"},"Enabled-sign-in-automatically-on---title--":function(A){return"\u5DF2\u542F\u7528\u201C"+A.title+"\u201D\u7684\u81EA\u52A8\u767B\u5F55\u529F\u80FD"},"Enabled-sign-in-automatically-on--count--items":function(A){return"\u5DF2\u542F\u7528 "+A.count+" \u4E2A\u9879\u76EE\u7684\u81EA\u52A8\u767B\u5F55\u529F\u80FD"},"Enter-Account-Password":function(A){return"\u8F93\u5165\u5E10\u6237\u5BC6\u7801"},"Failed-to-copy-field":function(A){return"\u590D\u5236\u5B57\u6BB5\u5931\u8D25"},"Failed-to-delete-password":function(A){return"\u5220\u9664\u5BC6\u7801\u5931\u8D25"},"Favorited---title--":function(A){return"\u5DF2\u6536\u85CF\u201C"+A.title+"\u201D"},"Fill-Masked-Email-":function(A){return"\u586B\u5145\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u2026"},"Get-Help":function(A){return"\u83B7\u53D6\u5E2E\u52A9"},Help:function(A){return"\u5E2E\u52A9"},"Hide-on-this-page":function(A){return"\u5728\u6B64\u9875\u9762\u9690\u85CF"},Identity:function(A){return"\u8EAB\u4EFD\u6807\u8BC6"},Item:function(A){return"\u9879\u76EE"},"Learn-More-":function(A){return"\u4E86\u89E3\u66F4\u591A\u2026"},"Link-Existing":function(A){return"\u94FE\u63A5\u73B0\u6709"},Lock:function(A){return"\u9501\u5B9A"},Login:function(A){return"\u767B\u5F55\u4FE1\u606F"},Managed:function(A){return"\u7BA1\u7406\u7684"},"New-app-or-browser-found":function(A){return"\u627E\u5230\u65B0\u5E94\u7528\u6216\u6D4F\u89C8\u5668"},"New-item-saved-in-1Password-":function(A){return"1Password \u4FDD\u5B58\u4E86\u65B0\u9879\u76EE\u3002"},"No-QR-code-found-for-2FA":function(A){return"\u672A\u627E\u5230\u4E24\u6B65\u9A8C\u8BC1\u7684\u4E8C\u7EF4\u7801"},"No-accounts-found-":function(A){return"\u672A\u627E\u5230\u5E10\u6237\u3002"},OK:function(A){return"\u597D"},Ok:function(A){return"\u597D"},Personal:function(A){return"\u4E2A\u4EBA"},"Physical-Card":function(A){return"\u5B9E\u4F53\u5361\u7247"},Private:function(A){return"\u79C1\u4EBA"},"Removed---title---from-favorites":function(A){return"\u5DF2\u5C06\u201C"+A.title+"\u201D\u79FB\u51FA\u6536\u85CF"},"Report-Issue":function(A){return"\u62A5\u544A\u95EE\u9898"},"Report-error-":function(A){return"\u62A5\u544A\u9519\u8BEF\u2026"},Save:function(A){return"\u4FDD\u5B58"},Security:function(A){return"\u5B89\u5168"},Settings:function(A){return"\u8BBE\u7F6E"},Shared:function(A){return"\u5171\u4EAB"},"Sign-Up":function(A){return"\u6CE8\u518C"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"\u767B\u5F55\u60A8\u7684 1Password \u5E10\u6237\uFF08"+A.accountName+"\uFF09\u5E76\u901A\u8FC7 Duo \u9A8C\u8BC1\u4EE5\u7EE7\u7EED\u3002"},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"\u767B\u5F55\u60A8\u7684 1Password \u5E10\u6237\uFF08"+A.accountName+"\uFF09\u4EE5\u7EE7\u7EED\u3002"},"Sign-in-with--authProvider-":function(A){return"\u901A\u8FC7 "+A.authProvider+" \u767B\u5F55"},"Sign-in-with-passkey":function(A){return"\u901A\u8FC7\u5BC6\u94A5\u767B\u5F55"},"Stay-Offline":function(A){return"\u4FDD\u6301\u79BB\u7EBF"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"\u611F\u8C22\u60A8\u4F7F\u7528 1Password \u7684\u6700\u65B0\u7248\u672C\uFF08"+A.version+"\uFF09\uFF01"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"\u6B64\u64CD\u4F5C\u65E0\u6548\u3002\u8BF7\u66F4\u6539\u5BC6\u7801\u5E76\u91CD\u8BD5\u3002"},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"\u8FD9\u5F20\u5361\u7247\u5DF2\u88AB\u9501\u5B9A/\u505C\u7528\uFF0C\u8BF7\u4F7F\u7528\u5176\u4ED6\u5361\u7247\u3002"},"This-entry-will-be-removed-immediately-":function(A){return"\u6B64\u6761\u76EE\u5C06\u88AB\u7ACB\u5373\u79FB\u9664\u3002"},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u6B64\u9879\u76EE\u5C06\u88AB\u7ACB\u5373\u79FB\u9664\u3002\u60A8\u53EF\u4EE5\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u4ECE 1Password.com \u6062\u590D\u9879\u76EE\u3002"},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"\u8981\u5728\u6B64\u5E10\u6237\u4E2D\u4FDD\u5B58\u9879\u76EE\uFF0C\u4F60\u9700\u8981\u5C06\u5176\u94FE\u63A5\u5230\u4E4B\u524D\u9009\u62E9\u7684\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u5E10\u6237"},"Unable-to-add-one-time-password-field-to-item":function(A){return"\u672A\u80FD\u5411\u9879\u76EE\u6DFB\u52A0\u4E00\u6B21\u6027\u5BC6\u7801\u5B57\u6BB5"},"Unable-to-copy-generated-password":function(A){return"\u65E0\u6CD5\u590D\u5236\u751F\u6210\u7684\u5BC6\u7801"},"Unable-to-fill-generated-password":function(A){return"\u65E0\u6CD5\u586B\u5145\u751F\u6210\u7684\u5BC6\u7801"},"Unable-to-generate-and-copy-one-time-password":function(A){return"\u672A\u80FD\u751F\u6210\u5E76\u590D\u5236\u4E00\u6B21\u6027\u5BC6\u7801"},"Unable-to-save-generated-password":function(A){return"\u65E0\u6CD5\u4FDD\u5B58\u751F\u6210\u7684\u5BC6\u7801"},"Unable-to-unlock-account-":function(A){return"\u65E0\u6CD5\u89E3\u9501\u5E10\u6237\u3002"},"Unknown-Device":function(A){return"\u672A\u77E5\u8BBE\u5907"},Unlock:function(A){return"\u89E3\u9501"},"Unlock-account-from-the-desktop-app":function(A){return"\u4ECE\u684C\u9762\u5E94\u7528\u89E3\u9501\u5E10\u6237"},"Use-Suggested-Password":function(A){return"\u4F7F\u7528\u5EFA\u8BAE\u7684\u5BC6\u7801"},"Vendor-Card":function(A){return"\u4F9B\u5E94\u5546\u5361\u7247"},"Watchtower-Alert":function(A){return"\u77AD\u671B\u5854\u8B66\u62A5"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"\u4F60\u53EF\u4EE5\u9009\u62E9\u4E0E\u5DF2\u5B58\u5728\u7684\u5BB6\u5EAD\u7248\u5E10\u6237\u94FE\u63A5\uFF0C\u6216\u521B\u5EFA\u65B0\u5E10\u6237\u3002"},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"\u4F60\u88AB\u8981\u6C42\u518D\u6B21\u8F93\u5165\u5BC6\u7801\uFF0C\u56E0\u4E3A "+A.browserName+" \u6709\u53EF\u7528\u66F4\u65B0\u3002"},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"\u60A8\u5DF2\u8FBE\u5230\u4E3A\u6240\u9009\u5E10\u6237\u521B\u5EFA\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u7684\u6BCF\u65E5\u9650\u5236\u3002"},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"\u60A8\u5DF2\u8FBE\u5230\u4E3A\u6240\u9009\u5E10\u6237\u521B\u5EFA\u8499\u9762\u7535\u5B50\u90AE\u4EF6\u7684\u6570\u91CF\u9650\u5236\u3002"},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"\u4F60\u5728\u767B\u5F55\u5E76\u4E0A\u7EBF\u4E4B\u524D\u5C06\u65E0\u6CD5\u66F4\u6539\u6B64\u9879\u76EE\u3002"},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"\u4F60\u5728\u5B8C\u6210\u767B\u5F55\u4E4B\u524D\u5C06\u65E0\u6CD5\u4FDD\u5B58\u66F4\u6539\u3002"},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"\u5728\u767B\u5F55\u5E76\u4E0A\u7EBF\u4E4B\u524D\u4F60\u65E0\u6CD5\u4F7F\u7528\u751F\u6210\u7684\u5BC6\u7801\u3002"},"Your-account-is-offline":function(A){return"\u60A8\u7684\u5E10\u6237\u5DF2\u79BB\u7EBF"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"\u4F60\u7684\u5E10\u6237\u5DF2\u6682\u505C\u3002\u8BF7\u8054\u7CFB\u5BB6\u5EAD\u7EC4\u7EC7\u8005\u6216\u56E2\u961F\u7BA1\u7406\u5458\u4EE5\u4E86\u89E3\u8BE6\u60C5\u3002"},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"\u4F60\u7684\u5E10\u6237\u672A\u7ECF\u9A8C\u8BC1\u3002\u8BF7\u767B\u5F55 Fastmail \u9A8C\u8BC1\u9009\u62E9\u7684\u5E10\u6237\u3002"},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"\u4F1A\u8BDD\u5DF2\u8D85\u65F6\u3002\u6D4F\u89C8\u5668\u4E2D\u7684 1Password \u8981\u6C42\u4F60\u91CD\u65B0\u767B\u5F55\u4EE5\u9A8C\u8BC1\u8EAB\u4EFD\u3002"},"one-time-password":function(A){return"\u4E00\u6B21\u6027\u5BC6\u7801"},"your-browser":function(A){return"\u4F60\u7684\u6D4F\u89C8\u5668"},"unit.B":function(A){return A.size+" \u5B57\u8282"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"\u767B\u5F55"},"category.002":function(A){return"\u4FE1\u7528\u5361"},"category.003":function(A){return"\u5B89\u5168\u5907\u6CE8"},"category.004":function(A){return"\u8EAB\u4EFD\u6807\u8BC6"},"category.005":function(A){return"\u5BC6\u7801\uFF1A"},"category.006":function(A){return"\u6587\u6863"},"category.100":function(A){return"\u8F6F\u4EF6\u8BB8\u53EF\u8BC1"},"category.101":function(A){return"\u94F6\u884C\u8D26\u6237"},"category.102":function(A){return"\u6570\u636E\u5E93"},"category.103":function(A){return"\u9A7E\u9A76\u6267\u7167"},"category.104":function(A){return"\u6237\u5916\u8BB8\u53EF\u8BC1"},"category.105":function(A){return"\u4F1A\u5458"},"category.106":function(A){return"\u62A4\u7167"},"category.107":function(A){return"\u5956\u52B1\u6D3B\u52A8"},"category.108":function(A){return"\u793E\u4F1A\u4FDD\u9669\u53F7\u7801"},"category.109":function(A){return"WiFi \u7F51\u7EDC"},"category.110":function(A){return"\u670D\u52A1\u5668"},"category.111":function(A){return"\u7535\u5B50\u90AE\u4EF6\u8D26\u6237"},"categories.001":function(A){return"\u767B\u5F55\u4FE1\u606F"},"categories.002":function(A){return"\u4FE1\u7528\u5361"},"categories.003":function(A){return"\u5B89\u5168\u5907\u6CE8"},"categories.004":function(A){return"\u8EAB\u4EFD\u6807\u8BC6"},"categories.005":function(A){return"\u5BC6\u7801"},"categories.006":function(A){return"\u6587\u6863"},"categories.100":function(A){return"\u8F6F\u4EF6\u8BB8\u53EF"},"categories.101":function(A){return"\u94F6\u884C\u8D26\u6237"},"categories.102":function(A){return"\u6570\u636E\u5E93"},"categories.103":function(A){return"\u9A7E\u9A76\u6267\u7167"},"categories.104":function(A){return"\u6237\u5916\u8BB8\u53EF\u8BC1"},"categories.105":function(A){return"\u4F1A\u5458\u4FE1\u606F"},"categories.106":function(A){return"\u62A4\u7167"},"categories.107":function(A){return"\u5956\u52B1\u6D3B\u52A8"},"categories.108":function(A){return"\u793E\u4F1A\u4FDD\u9669\u53F7\u7801"},"categories.109":function(A){return"WiFi \u7F51\u7EDC"},"categories.110":function(A){return"\u670D\u52A1\u5668"},"categories.111":function(A){return"\u7535\u5B50\u90AE\u4EF6\u8D26\u6237"},"button.save":function(A){return"\u4FDD\u5B58"},"button.cancel":function(A){return"\u53D6\u6D88"},"unexpected-error":function(A){return"\u53D1\u751F\u610F\u5916\u9519\u8BEF\u3002\u8BF7\u8054\u7CFB support@1password.com"}},"zh-TW":{"--accountName---was-added-to-1Password-":function(A){return"\u300C"+A.accountName+"\u300D\u88AB\u6DFB\u52A0\u5230 1Password \u4E2D\u3002"},"--itemName---was-saved-in---vaultName---":function(A){return"\u300C"+A.itemName+"\u300D\u88AB\u5132\u5B58\u5728\u300C"+A.vaultName+"\u300D\u4E2D\u3002"},"-accountName--is-offline-":function(A){return A.accountName+" \u5DF2\u96E2\u7DDA\u3002"},"-count--Items-archived":function(A){return A.count+" \u500B\u9805\u76EE\u5DF2\u5C01\u5B58"},"-count--Items-deleted":function(A){return A.count+" \u500B\u9805\u76EE\u5DF2\u522A\u9664"},"-count--Items-favorited":function(A){return A.count+" \u500B\u9805\u76EE\u5DF2\u52A0\u5165\u6700\u611B"},"-count--Items-removed-from-favorites":function(A){return A.count+" \u500B\u9805\u76EE\u5DF2\u5F9E\u6700\u611B\u4E2D\u79FB\u9664"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account-":function(A){return"\u5728 "+A.location+" \u9644\u8FD1\u7684 "+A.deviceName+" \u6B63\u5617\u8A66\u767B\u5165\u4F60\u7684 "+A.accountName+" \u5E33\u865F\u3002"},"-deviceName--near--location--is-trying-to-sign-in-to-your--accountName--account--Open-1Password-in-your-browser-s-toolbar-to-view-":function(A){return"\u5728 "+A.location+" \u9644\u8FD1\u7684 "+A.deviceName+" \u6B63\u5617\u8A66\u767B\u5165\u4F60\u7684 "+A.accountName+" \u5E33\u865F\u3002\u5728\u700F\u89BD\u5668\u5DE5\u5177\u5217\u4E2D\u958B\u555F 1Password \u4EE5\u6AA2\u8996\u3002"},"-fileName--downloaded":function(A){return A.fileName+" \u5DF2\u4E0B\u8F09"},"-itemType--saved":function(A){return A.itemType+" \u5DF2\u5132\u5B58"},"1Password-8-Required":function(A){return"\u9700\u8981 1Password 8"},"1Password-account-added":function(A){return"1Password \u5E33\u865F\u5DF2\u6DFB\u52A0"},"1Password-can-t-open-its-database-because-there-isn-t-enough-disk-space-available-for--browser---To-use-1Password--free-up-some-space-":function(A){return"1Password \u7121\u6CD5\u6253\u958B\u8CC7\u6599\u5EAB\uFF0C\u56E0\u70BA "+A.browser+" \u53EF\u7528\u7684\u78C1\u789F\u7A7A\u9593\u4E0D\u8DB3\u3002\u8981\u7E7C\u7E8C\u4F7F\u7528 1Password\uFF0C\u8ACB\u91CB\u653E\u66F4\u591A\u7A7A\u9593\u3002"},"1Password-is-up-to-date":function(A){return"1Password \u5DF2\u662F\u6700\u65B0\u7248\u672C"},"1Password-will-no-longer-make-autofill-suggestions-on-this-page---The-list-of-hidden-pages-is-remembered-in-this-web-browser--You-can-clear-the-list-at-any-time-in-settings-":function(A){return`1Password \u5C07\u4E0D\u518D\u5728\u6B64\u9801\u9762\u63D0\u4F9B\u81EA\u52D5\u586B\u5165\u5EFA\u8B70\u3002

\u6B64\u7DB2\u9801\u700F\u89BD\u5668\u6703\u8A18\u4F4F\u96B1\u85CF\u9801\u9762\u7684\u6E05\u55AE\u3002\u60A8\u53EF\u4EE5\u96A8\u6642\u5728\u8A2D\u5B9A\u4E2D\u6E05\u9664\u8A72\u6E05\u55AE\u3002`},"A-database-error-occurred-":function(A){return"\u767C\u751F\u8CC7\u6599\u5EAB\u932F\u8AA4\u3002"},"A-website-has-been-added-to-Watchtower-in--count--of-your-accounts-":function(A){return"\u5DF2\u5C07\u7DB2\u7AD9\u65B0\u589E\u81F3\u60A8 "+A.count+" \u500B\u5E33\u865F\u7684 Watchtower\u3002"},"API-Key":function(A){return"API Key"},"Add-account-":function(A){return"\u65B0\u589E\u5E33\u865F\u2026"},"All-of-these-items-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u6240\u6709\u9805\u76EE\u5C07\u88AB\u7ACB\u5373\u79FB\u9664\u3002\u60A8\u53EF\u4EE5\u5728\u4E00\u5B9A\u6642\u9593\u5167\u5F9E 1Password.com \u9084\u539F\u9805\u76EE\u3002"},"An-error-has-occurred-while-generating-the-Masked-Email-":function(A){return"\u7522\u751F\u6B64\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u6642\u767C\u751F\u932F\u8AA4\u3002"},"An-error-occurred--Please-try-again-":function(A){return"\u767C\u751F\u932F\u8AA4\u3002\u8ACB\u91CD\u8A66\u3002"},"An-error-occurred-while-enabling-and-filling-the-Masked-Email-":function(A){return"\u555F\u7528\u4E26\u586B\u5145\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u6642\u767C\u751F\u932F\u8AA4\u3002"},"An-unknown-error-has-occurred-":function(A){return"\u767C\u751F\u672A\u77E5\u932F\u8AA4\u3002"},"Any-Website":function(A){return"\u4EFB\u4F55\u7DB2\u7AD9"},Archive:function(A){return"\u5C01\u5B58"},"Archive--count--items-":function(A){return"\u5C01\u5B58 "+A.count+" \u500B\u9805\u76EE\u55CE\uFF1F"},"Archived---title--":function(A){return"\u5DF2\u5C01\u5B58\u300C"+A.title+"\u300D"},"Archived-items-won-t-show-up-in-filling-suggestions-for-websites-or-in-apps-":function(A){return"\u5C01\u5B58\u7684\u9805\u76EE\u4E0D\u6703\u5728\u7DB2\u7AD9\u548C\u61C9\u7528\u7A0B\u5F0F\u7684\u586B\u5BEB\u5EFA\u8B70\u4E2D\u986F\u793A\u3002"},"Are-you-sure-you-want-to-archive---itemName---":function(A){return"\u60A8\u78BA\u5B9A\u8981\u5C01\u5B58\u300C"+A.itemName+"\u300D\u55CE\uFF1F"},"Are-you-sure-you-want-to-delete---itemName---":function(A){return"\u78BA\u5B9A\u8981\u522A\u9664\u300C"+A.itemName+"\u300D\u55CE\uFF1F"},"Are-you-sure-you-want-to-delete--count--plural--one----item--other----items---":function(A){return"\u78BA\u5B9A\u8981\u522A\u9664 "+rm(A.count,0,EhA,{other:ko(A.count,"count")+" \u500B\u9805\u76EE"})+"\u55CE\uFF1F"},"Are-you-sure-you-want-to-delete-this-password-":function(A){return"\u60A8\u78BA\u5B9A\u8981\u522A\u9664\u6B64\u5BC6\u78BC\u55CE\uFF1F"},"Authentication-Required":function(A){return"\u9700\u8981\u8EAB\u5206\u9A57\u8B49"},"Authentication-was-interrupted-or-timed-out--Please-try-again-":function(A){return"\u9A57\u8B49\u4E2D\u65B7\u6216\u8D85\u6642\u3002\u8ACB\u518D\u8A66\u4E00\u6B21\u3002"},Benchmarking:function(A){return"\u57FA\u6E96\u5316\u5206\u6790"},"Biometry-is-currently-unavailable-":function(A){return"\u751F\u7269\u8FA8\u8B58\u7576\u524D\u4E0D\u53EF\u7528\u3002"},Cancel:function(A){return"\u53D6\u6D88"},"Collect-Page-Structure":function(A){return"\u6536\u96C6\u9801\u9762\u7D50\u69CB"},"Continue-Signing-In":function(A){return"\u7E7C\u7E8C\u767B\u5165"},"Copied--fieldTitle-":function(A){return"\u5DF2\u8907\u88FD "+A.fieldTitle},"Copied-field":function(A){return"\u8907\u88FD\u7684\u6B04\u4F4D"},"Copied-generated-password":function(A){return"\u5DF2\u8907\u88FD\u7522\u751F\u7684\u5BC6\u78BC"},"Copied-item-JSON":function(A){return"\u5DF2\u8907\u88FD\u9805\u76EE JSON"},"Copied-item-UUID":function(A){return"\u5DF2\u8907\u88FD\u9805\u76EE UUID"},"Copied-item-link":function(A){return"\u5DF2\u8907\u88FD\u9805\u76EE\u9023\u7D50"},"Copied-one-time-password":function(A){return"\u5DF2\u8907\u88FD\u4E00\u6B21\u6027\u5BC6\u78BC"},"Corporate-Card":function(A){return"\u516C\u53F8\u5361"},"Could-not-connect-to-the-1Password-App--Try-unlocking-again-":function(A){return"\u672A\u80FD\u9023\u63A5\u5230 1Password \u61C9\u7528\u7A0B\u5F0F\u3002\u8ACB\u518D\u6B21\u5617\u8A66\u89E3\u9396\u3002"},"Couldn-t-complete-authentication--Update-1Password-for-desktop-and-try-again-":function(A){return"\u672A\u80FD\u5B8C\u6210\u9A57\u8B49\u3002\u8ACB\u66F4\u65B0\u684C\u9762\u7248 1Password \u5F8C\u518D\u8A66\u4E00\u6B21\u3002"},"Create-Brex-vendor-card-":function(A){return"\u5EFA\u7ACB Brex \u4F9B\u61C9\u5546\u5361\u7247\u2026"},"Create-Masked-Email-":function(A){return"\u5EFA\u7ACB\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u2026"},"Create-Privacy-Card-":function(A){return"\u5EFA\u7ACB Privacy \u5361\u7247\u2026"},"Create-SSH-Key-":function(A){return"\u5EFA\u7ACB SSH \u91D1\u9470\u2026"},"Creating-and-editing-SSH-keys-requires-1Password-8-":function(A){return"\u5EFA\u7ACB\u548C\u7DE8\u8F2F SSH \u91D1\u9470\u9700\u8981 1Password 8\u3002"},"Credit-Card":function(A){return"\u4FE1\u7528\u5361"},"Credit-card":function(A){return"\u4FE1\u7528\u5361"},Delete:function(A){return"\u522A\u9664"},"Deleted---title--":function(A){return"\u5DF2\u522A\u9664\u300C"+A.title+"\u300D"},"Disabled-sign-in-automatically-on---title--":function(A){return"\u5DF2\u505C\u7528\u300C"+A.title+"\u300D\u7684\u81EA\u52D5\u767B\u5165"},"Disabled-sign-in-automatically-on--count--items":function(A){return"\u5DF2\u505C\u7528 "+A.count+" \u500B\u9805\u76EE\u7684\u81EA\u52D5\u767B\u5165"},"Disk-space-too-low":function(A){return"\u78C1\u789F\u7A7A\u9593\u4E0D\u8DB3"},"Do-you-have-an-existing-account-":function(A){return"\u4F60\u662F\u5426\u64C1\u6709\u5DF2\u5B58\u5728\u7684\u5E33\u865F\uFF1F"},"Don-t-Save-in-1Password":function(A){return"\u4E0D\u8981\u5728 1Password \u4E2D\u5132\u5B58"},"Download-failed":function(A){return"\u4E0B\u8F09\u5931\u6557"},"Duo-Authentication-Required":function(A){return"\u9700\u8981 Duo \u9A57\u8B49"},"Email-blocked":function(A){return"\u96FB\u5B50\u90F5\u4EF6\u5DF2\u88AB\u5C01\u9396"},"Email-unblocked":function(A){return"\u96FB\u5B50\u90F5\u4EF6\u5DF2\u89E3\u5C01"},Employee:function(A){return"\u54E1\u5DE5"},"Enabled-sign-in-automatically-on---title--":function(A){return"\u5DF2\u958B\u555F\u300C"+A.title+"\u300D\u7684\u81EA\u52D5\u767B\u5165"},"Enabled-sign-in-automatically-on--count--items":function(A){return"\u5DF2\u958B\u555F "+A.count+" \u500B\u9805\u76EE\u7684\u81EA\u52D5\u767B\u5165"},"Enter-Account-Password":function(A){return"\u8F38\u5165\u5E33\u865F\u5BC6\u78BC"},"Failed-to-copy-field":function(A){return"\u8907\u88FD\u6B04\u4F4D\u5931\u6557"},"Failed-to-delete-password":function(A){return"\u522A\u9664\u5BC6\u78BC\u5931\u6557"},"Favorited---title--":function(A){return"\u5DF2\u5C07\u300C"+A.title+"\u300D\u52A0\u5165\u6700\u611B"},"Fill-Masked-Email-":function(A){return"\u586B\u5145\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u2026"},"Get-Help":function(A){return"\u53D6\u5F97\u8AAA\u660E"},Help:function(A){return"\u8AAC\u660E"},"Hide-on-this-page":function(A){return"\u5728\u6B64\u9801\u9762\u4E0A\u96B1\u85CF"},Identity:function(A){return"\u8EAB\u4EFD\u8A8D\u8B49"},Item:function(A){return"\u9805\u76EE"},"Learn-More-":function(A){return"\u9032\u4E00\u6B65\u77AD\u89E3\u22EF"},"Link-Existing":function(A){return"\u9023\u7D50\u73FE\u6709\u6587\u4EF6"},Lock:function(A){return"\u4E0A\u9396"},Login:function(A){return"\u767B\u5165\u8CC7\u8A0A"},Managed:function(A){return"\u7BA1\u7406\u7684"},"New-app-or-browser-found":function(A){return"\u627E\u5230\u65B0\u61C9\u7528\u7A0B\u5F0F\u6216\u700F\u89BD\u5668"},"New-item-saved-in-1Password-":function(A){return"1Password \u5132\u5B58\u4E86\u65B0\u9805\u76EE\u3002"},"No-QR-code-found-for-2FA":function(A){return"\u672A\u627E\u5230\u96D9\u56E0\u7D20\u8A8D\u8B49\u7684 QR Code"},"No-accounts-found-":function(A){return"\u672A\u627E\u5230\u5E33\u865F\u3002"},OK:function(A){return"\u597D"},Ok:function(A){return"\u597D"},Personal:function(A){return"\u500B\u4EBA"},"Physical-Card":function(A){return"\u5BE6\u9AD4\u5361\u7247"},Private:function(A){return"\u79C1\u4EBA"},"Removed---title---from-favorites":function(A){return"\u5DF2\u5C07\u300C"+A.title+"\u300D\u5F9E\u6700\u611B\u4E2D\u79FB\u9664"},"Report-Issue":function(A){return"\u56DE\u5831\u554F\u984C"},"Report-error-":function(A){return"\u5831\u544A\u932F\u8AA4\u2026"},Save:function(A){return"\u5132\u5B58"},Security:function(A){return"\u5B89\u5168"},Settings:function(A){return"\u8A2D\u5B9A"},Shared:function(A){return"\u5171\u7528"},"Sign-Up":function(A){return"\u8A3B\u518A"},"Sign-in-to-your-1Password-account---accountName---and-authenticate-with-Duo-to-continue-":function(A){return"\u767B\u5165\u60A8\u7684 1Password \u5E33\u865F\uFF08"+A.accountName+"\uFF09\u4E26\u900F\u904E Duo \u9A57\u8B49\u4EE5\u7E7C\u7E8C\u3002"},"Sign-in-to-your-1Password-account---accountName---to-continue-":function(A){return"\u767B\u5165\u60A8\u7684 1Password \u5E33\u865F\uFF08"+A.accountName+"\uFF09\u4EE5\u7E7C\u7E8C\u3002"},"Sign-in-with--authProvider-":function(A){return"\u900F\u904E "+A.authProvider+" \u767B\u5165"},"Sign-in-with-passkey":function(A){return"\u900F\u904E\u901A\u884C\u5BC6\u9470\u767B\u5165"},"Stay-Offline":function(A){return"\u4FDD\u6301\u96E2\u7DDA"},"Thank-you-for-running-the-latest-version---version---of-1Password-":function(A){return"\u611F\u8B1D\u60A8\u4F7F\u7528 1Password \u7684\u6700\u65B0\u7248\u672C\uFF08"+A.version+"\uFF09\uFF01"},"That-didn-t-work--Check-your-password-and-try-again-":function(A){return"\u6B64\u52D5\u4F5C\u7121\u6548\u3002\u8ACB\u8B8A\u66F4\u5BC6\u78BC\u4E26\u91CD\u8A66\u3002"},"This-card-has-been-locked-terminated--please-use-another-card-":function(A){return"\u9019\u5F35\u5361\u7247\u5DF2\u88AB\u9396\u5B9A/\u505C\u7528\uFF0C\u8ACB\u4F7F\u7528\u5176\u4ED6\u5361\u7247\u3002"},"This-entry-will-be-removed-immediately-":function(A){return"\u6B64\u689D\u76EE\u5C07\u88AB\u7ACB\u5373\u79FB\u9664\u3002"},"This-item-will-be-removed-immediately--You-can-recover-items-for-a-limited-time-on-1Password-com-":function(A){return"\u6B64\u9805\u76EE\u5C07\u88AB\u7ACB\u5373\u79FB\u9664\u3002\u60A8\u53EF\u4EE5\u5728\u4E00\u5B9A\u6642\u9593\u5167\u5F9E 1Password.com \u9084\u539F\u9805\u76EE\u3002"},"To-save-an-item-in-this-account-you-need-to-link-it-to-the-previously-selected-Masked-Email-account":function(A){return"\u8981\u5728\u6B64\u5E33\u865F\u4E2D\u5132\u5B58\u9805\u76EE\uFF0C\u4F60\u9700\u8981\u5C07\u5176\u9023\u7D50\u5230\u4E4B\u524D\u9078\u64C7\u7684\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u5E33\u865F"},"Unable-to-add-one-time-password-field-to-item":function(A){return"\u672A\u80FD\u5411\u9805\u76EE\u6DFB\u52A0\u4E00\u6B21\u6027\u5BC6\u78BC\u6B04\u4F4D"},"Unable-to-copy-generated-password":function(A){return"\u7121\u6CD5\u8907\u88FD\u7522\u751F\u7684\u5BC6\u78BC"},"Unable-to-fill-generated-password":function(A){return"\u7121\u6CD5\u586B\u5165\u7522\u751F\u7684\u5BC6\u78BC"},"Unable-to-generate-and-copy-one-time-password":function(A){return"\u672A\u80FD\u7522\u751F\u4E26\u8907\u5236\u4E00\u6B21\u6027\u5BC6\u78BC"},"Unable-to-save-generated-password":function(A){return"\u7121\u6CD5\u5132\u5B58\u7522\u751F\u7684\u5BC6\u78BC"},"Unable-to-unlock-account-":function(A){return"\u7121\u6CD5\u89E3\u9396\u5E33\u865F\u3002"},"Unknown-Device":function(A){return"\u672A\u77E5\u88DD\u7F6E"},Unlock:function(A){return"\u89E3\u9396"},"Unlock-account-from-the-desktop-app":function(A){return"\u5F9E\u684C\u4E0A\u61C9\u7528\u7A0B\u5F0F\u89E3\u9396\u5E33\u865F"},"Use-Suggested-Password":function(A){return"\u4F7F\u7528\u63A8\u85A6\u7684\u5BC6\u78BC"},"Vendor-Card":function(A){return"\u4F9B\u61C9\u5546\u5361\u7247"},"Watchtower-Alert":function(A){return"Watchtower \u8B66\u544A"},"You-can-choose-to-link-an-existing-family-account-or-create-a-new-one-":function(A){return"\u4F60\u53EF\u4EE5\u9078\u64C7\u8207\u5DF2\u5B58\u5728\u7684\u5BB6\u5EAD\u7248\u5E33\u865F\u9023\u7D50\uFF0C\u6216\u5EFA\u7ACB\u65B0\u5E33\u865F\u3002"},"You-re-asked-to-re-enter-your-password-because--browserName--has-an-update-available-":function(A){return"\u4F60\u88AB\u8981\u6C42\u518D\u6B21\u8F38\u5165\u5BC6\u78BC\uFF0C\u56E0\u70BA "+A.browserName+" \u6709\u53EF\u7528\u66F4\u65B0\u3002"},"You-ve-reached-the-daily-limit-for-Masked-Email-creation-for-the-selected-account-":function(A){return"\u60A8\u5DF2\u9054\u5230\u70BA\u6240\u9078\u5E33\u865F\u5EFA\u7ACB\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u7684\u6BCF\u65E5\u9650\u5236\u3002"},"You-ve-reached-the-maximum-Masked-Email-creation-quota-for-the-selected-account-":function(A){return"\u60A8\u5DF2\u9054\u5230\u70BA\u6240\u9078\u5E33\u865F\u5EFA\u7ACB\u8499\u9762\u96FB\u5B50\u90F5\u4EF6\u7684\u6578\u91CF\u9650\u5236\u3002"},"You-won-t-be-able-to-save-changes-until-you-are-signed-in-and-online-":function(A){return"\u4F60\u5728\u767B\u5165\u4E26\u4E0A\u7DDA\u4E4B\u524D\u5C07\u7121\u6CD5\u8B8A\u66F4\u6B64\u9805\u76EE\u3002"},"You-won-t-be-able-to-save-changes-until-you-finish-signing-in-":function(A){return"\u4F60\u5728\u5B8C\u6210\u767B\u5165\u4E4B\u524D\u5C07\u7121\u6CD5\u5132\u5B58\u8B8A\u66F4\u3002"},"You-won-t-be-able-to-use-a-generated-password-until-you-are-signed-in-and-online-":function(A){return"\u5728\u767B\u5165\u4E26\u4E0A\u7DDA\u4E4B\u524D\u4F60\u7121\u6CD5\u4F7F\u7528\u7522\u751F\u7684\u5BC6\u78BC\u3002"},"Your-account-is-offline":function(A){return"\u60A8\u7684\u5E33\u865F\u5DF2\u96E2\u7DDA"},"Your-account-is-suspended--Contact-your-family-organizer-or-team-administrator-for-more-information-":function(A){return"\u4F60\u7684\u5E33\u865F\u5DF2\u66AB\u505C\u3002\u8ACB\u806F\u7D61\u5BB6\u5EAD\u7D44\u7E54\u8005\u6216\u5718\u968A\u7BA1\u7406\u54E1\u4EE5\u7372\u5F97\u66F4\u591A\u8CC7\u8A0A\u3002"},"Your-account-is-unverified--Sign-in-to-Fastmail-to-verify-the-selected-account-":function(A){return"\u4F60\u7684\u5E33\u865F\u672A\u7D93\u9A57\u8B49\u3002\u8ACB\u767B\u5165\u5230 Fastmail \u9A57\u8B49\u9078\u64C7\u7684\u5E33\u865F\u3002"},"Your-session-has-expired--1Password-in-the-browser-would-like-you-to-sign-in-again-to-authenticate-":function(A){return"\u5DE5\u4F5C\u968E\u6BB5\u5DF2\u904E\u671F\u3002\u700F\u89BD\u5668\u4E2D\u7684 1Password \u8981\u6C42\u4F60\u91CD\u65B0\u767B\u5165\u4EE5\u9A57\u8B49\u8EAB\u4EFD\u3002"},"one-time-password":function(A){return"\u4E00\u6B21\u6027\u5BC6\u78BC"},"your-browser":function(A){return"\u4F60\u7684\u700F\u89BD\u5668"},"unit.B":function(A){return A.size+" B"},"unit.KB":function(A){return A.size+" KB"},"unit.MB":function(A){return A.size+" MB"},"unit.GB":function(A){return A.size+" GB"},"unit.TB":function(A){return A.size+" TB"},"unit.PB":function(A){return A.size+" PB"},"category.001":function(A){return"\u767B\u5165"},"category.002":function(A){return"\u4FE1\u7528\u5361"},"category.003":function(A){return"\u5B89\u5168\u5099\u5FD8\u9304"},"category.004":function(A){return"\u8EAB\u5206\u8A8D\u8B49"},"category.005":function(A){return"\u5BC6\u78BC"},"category.006":function(A){return"\u6587\u4EF6"},"category.100":function(A){return"\u8EDF\u9AD4\u6388\u6B0A"},"category.101":function(A){return"\u9280\u884C\u5E33\u865F"},"category.102":function(A){return"\u8CC7\u6599\u5EAB"},"category.103":function(A){return"\u99D5\u99DB\u57F7\u7167"},"category.104":function(A){return"\u6236\u5916\u8A31\u53EF\u6A19\u8A8C"},"category.105":function(A){return"\u6703\u54E1\u8CC7\u683C"},"category.106":function(A){return"\u8B77\u7167"},"category.107":function(A){return"\u7A4D\u9EDE\u56DE\u994B"},"category.108":function(A){return"\u793E\u6703\u4FDD\u96AA\u865F\u78BC"},"category.109":function(A){return"WiFi \u7DB2\u8DEF"},"category.110":function(A){return"\u4F3A\u670D\u5668"},"category.111":function(A){return"\u96FB\u5B50\u90F5\u4EF6\u5E33\u865F"},"categories.001":function(A){return"\u767B\u5165\u8CC7\u8A0A"},"categories.002":function(A){return"\u4FE1\u7528\u5361"},"categories.003":function(A){return"\u5B89\u5168\u5099\u5FD8\u9304"},"categories.004":function(A){return"\u8EAB\u5206\u8A8D\u8B49"},"categories.005":function(A){return"\u5BC6\u78BC"},"categories.006":function(A){return"\u6587\u4EF6"},"categories.100":function(A){return"\u8EDF\u9AD4\u6388\u6B0A"},"categories.101":function(A){return"\u9280\u884C\u5E33\u865F"},"categories.102":function(A){return"\u8CC7\u6599\u5EAB"},"categories.103":function(A){return"\u99D5\u99DB\u57F7\u7167"},"categories.104":function(A){return"\u6236\u5916\u8A31\u53EF\u6A19\u8A8C"},"categories.105":function(A){return"\u6703\u54E1\u8CC7\u683C"},"categories.106":function(A){return"\u8B77\u7167"},"categories.107":function(A){return"\u7A4D\u9EDE\u56DE\u994B"},"categories.108":function(A){return"\u793E\u6703\u4FDD\u96AA\u865F\u78BC"},"categories.109":function(A){return"WiFi \u7DB2\u8DEF"},"categories.110":function(A){return"\u4F3A\u670D\u5668"},"categories.111":function(A){return"\u96FB\u5B50\u90F5\u4EF6\u5E33\u865F"},"button.save":function(A){return"\u5132\u5B58"},"button.cancel":function(A){return"\u53D6\u6D88"},"unexpected-error":function(A){return"\u767C\u751F\u610F\u5916\u932F\u8AA4\u3002\u8ACB\u806F\u7E6B support@1password.com"}}};var xhA=new Xa("\u{1F527} Popup config");function Re(){let A,e=bm;try{A=JSON.parse(Ze.getItem(AZ)??"{}")}catch{xhA.warn("Unable to retrieve the config from local storage"),A=JSON.parse("{}")}finally{e={...bm,...yte(A)},e!==A&&Ex(e)}return e}function Jo(A){let e=Re();for(let[t,r]of Object.entries(A))e[t]=r;return Object.keys(A).includes("defaultPasswordManager")&&typeof A.defaultPasswordManager=="boolean"&&ddt(A.defaultPasswordManager),Ex(e),e}function Ex(A){try{Ze.setItem(AZ,JSON.stringify(yte(A)))}catch{xhA.warn("Unable to save the config to local storage")}}function yte(A){let e={};function t(r){e[r]=bm[r]}try{for(let r in A){if(typeof A[r]!=typeof bm[r]){t(r);continue}switch(e[r]=A[r],r){case"autoLockMinutes":if(A[r]===J6)break;if(A[r]<eM||A[r]>ZY){t(r);break}e[r]=Math.max(0,Math.min(A.autoLockMinutes,ZY));break;case"defaultPassGenType":bm.generator.find(a=>a.passwordType===A[r])||t(r);break;case"generator":A.generator.filter(a=>!bm.generator.find(j=>a.passwordType===j.passwordType)).length!==0&&t(r),A.generator.length!==bm.generator.length&&t(r);break;case"language":A.language in xX||t(r);break}}return e}catch{return xhA.warn("Unable to validate the config properties"),bm}}var vte,cdt,Fte;async function Gte(){let A=await udt();return vte=A.buildnum+"",cdt=A.builddate,Fte=A.buildchannel,Re()}function A6(){return vte}function tD(){return Fte}function udt(){let A=new Headers({"Content-Type":"text/plain; charset=x-user-defined"});return new Promise(e=>{fetch(chrome.runtime.getURL("./build.info"),{headers:A}).then(t=>e(t.json()))})}var wte="all-vaults";function Ej(){let A=Ze.getItem(wte);A||(A="{}");let e=JSON.parse(A);return new BU(e)}function SV(A){Ze.setItem(wte,JSON.stringify(A))}function EYA(){return new Promise(A=>{sa()&&A(!1),chrome.privacy.services.passwordSavingEnabled.get({},e=>{e.value?A(!0):A(!1)})})}function ddt(A){sa()||(typeof chrome.privacy.services.autofillEnabled<"u"&&(A?chrome.privacy.services.autofillEnabled.set({value:!1}):(chrome.privacy.services.autofillEnabled.clear({}),typeof chrome.privacy.services.autofillCreditCardEnabled<"u"&&chrome.privacy.services.autofillCreditCardEnabled.clear({}),typeof chrome.privacy.services.autofillAddressEnabled<"u"&&chrome.privacy.services.autofillAddressEnabled.clear({}))),typeof chrome.privacy.services.passwordSavingEnabled<"u"&&(A?chrome.privacy.services.passwordSavingEnabled.set({value:!1}):chrome.privacy.services.passwordSavingEnabled.clear({})))}function TWA(A){let e=Jo(A);return new Promise(async t=>{A.useSharedLockState!==void 0&&CZA(e.useSharedLockState),A.slsChannel!==void 0&&OZA(),(A.autoLockEnabled!==void 0||A.autoLockMinutes!==void 0||A.autoLockOnDeviceSleep!==void 0)&&(e.autoLockEnabled&&!rA.allAccountHandlersAreLocked?(await Mc.startAutoLockMonitor(),Mc.lockMonitor?.updateAutoLockSettings(e.autoLockMinutes,e.autoLockOnDeviceSleep)):Mc.stopAutoLockMonitor()),e.languageChanged&&(await FA.setLocale(e.language),rA.runSyncerForAllAccounts()),A.appTheme!==void 0&&Kr("app-theme-changed",{appTheme:A.appTheme}),A.defaultItemList!==void 0&&cx(),t()})}function bhA(A){let e=Re();e.ignoreAccounts.push(A),Ex(e)}function yhA(A){return!!Re().ignoreAccounts.includes(A)}function mdt(){let A=A6();return Number.parseInt(A,10)||0}function e6(A,e){let{host:t}=new URL(A),r=void 0,a=!1;return new he.Context({host:t,shouldResetWhenSessionExpires:!1,server:t.split(".").slice(1).join("."),inWebView:!0,lang:Re().language,opua:{client:{shortCode:F.ClientShortCode.OnePasswordExtension,buildNum:mdt(),channel:a?"dev":r,commitHash:"374a996859c8".substring(0,7)},deviceUuid:e}})}function vhA(){rA.hasAccountHandlers||Jo({defaultPasswordManager:!1})}var qte=AA(y0());var z0=class{constructor(){this._accountHandlers=[]}get getAccountHandlers(){return this._accountHandlers}setAccountHandlers(e){this._accountHandlers=e}addAccountHandler(...e){return this._accountHandlers.push(...e)}get hasAccountHandlers(){return this._accountHandlers.length>0}get numberOfAccountHandlers(){return this._accountHandlers.length}get allAccountHandlersAreLocked(){return this._accountHandlers.every(e=>e.isLocked)}get anyAccountIsSyncing(){return this._accountHandlers.some(e=>e.syncer?.isRunning)}get allAccountHandlersHasUserSuspended(){return this.hasAccountHandlers&&this._accountHandlers.every(e=>e.isUserSuspended)}async lockAccountHandler(e){let t=this._accountHandlers.find(r=>r.uuid===e);if(t)return t.lock(!1)}findAccountHandlerByUuid(e,t){return this._accountHandlers.find(r8(e,t))}findAccountHandlerByUser(e){return this._accountHandlers.find(t=>t.user?.uuid===e)}findAccountHandlerByID(e){return this._accountHandlers.find(t=>t.serveraccount.id===e)}hasAccountHandler(e){return!!this.findAccountHandlerByUuid(e)}accountIsUnlocked(e){let t=this._accountHandlers.find(r8(e));return!!t&&t.isUnlocked}get getUnlockedAccountOverviews(){let e=[];for(let t of this._accountHandlers){if(t.isLocked)continue;let r=t.createAccountVaultOverview();e.push(r)}return e}get signedInAccounts(){let e=[];for(let t of this._accountHandlers)t.isUnlocked&&e.push(new ZA.Account(t.serveraccount));return e}get anyAccountHasUnseenDeviceEnrollments(){return!this.hasAccountHandlers||this.allAccountHandlersAreLocked?!1:this._accountHandlers.some(e=>e.hasUnseenDeviceEnrollments)}markAllDeviceEnrollmentsSeen(){if(!(!this.hasAccountHandlers||this.allAccountHandlersAreLocked))for(let e of this._accountHandlers)e.markAccountDeviceEnrollmentsSeen()}async getPersonItemsForAccounts(){let e=[];for(let t of this._accountHandlers){if(t.isLocked||t.mustMigrateAuth)continue;let r=await t.loadPersonItem().catch(a=>{po(a,F.logsafe.assertLogSafe("Failed to load person item"),t.user?.uuid!==void 0?F.logsafe.assertLogSafe(t.user.uuid):void 0)});r&&e.push(r)}return e}async getFrozenAccountsInfo(){let e=Ej(),t=this._accountHandlers.filter(o=>o.isUnlocked),r=await Promise.all(t.map(o=>o.serveraccount.id===void 0?Promise.resolve(null):Ve.getDatabase().getAllVaultsForAccount(o.serveraccount.id))),a=t.filter((o,s)=>{let c=r[s];return c===null?!1:c.some(u=>![ZA.Vault.TypeGeneratedPasswords,ZA.Vault.TypeSystem].includes(u.type)&&!e.isExcluded(o.uuid,u.uuid))}),j=a.filter(o=>o.serveraccount.billingStatus==="F"),n=j.map(o=>o.uuid),i=j.length>0&&a.length===j.length;return{frozenAccounts:n,areAllAccountsFrozen:i}}findAccountHandlerByVault(e){if(!$t.itemCache)return;let t=$t.itemCache.accountForVaultID(Un(e));if(t)return this.findAccountHandlerByUuid(t.uuid)}async removeAccount(e){let t=Re();e===t.saveNewItemsIn&&(t.saveNewItemsIn=QY,Ex(t));let r=await Ve.getDatabase().findAccountByUUID(e);if(!r)return;if(sa()&&r.deviceCredentials?.deviceKeyId)try{await nx().deleteDeviceKey(r,r.deviceCredentials.deviceKeyId)}catch(j){throw ra(j)?ht(j):ht(new fn({errorClass:TA.assertLogSafe("AccountHandlers"),message:TA.assertLogSafe("Failed to delete device key from the keychain - canceling account removal."),stackOverrideError:j instanceof Error?j:void 0})),new Error("Failed to delete device key from the keychain - canceling account removal.")}await Ve.getDatabase().deleteAccountWithUUID(e);let a=this._accountHandlers.find(r8(e));if(!a){console.warn(`Asked to remove account <${e}> that doesn't exist`);return}this.setAccountHandlers(this._accountHandlers.filter(PYA(e))),await a.lock(),Fp(),vhA(),this.hasAccountHandlers||Xi(),Ar.removeAccount(e),NVA(e),Eo()&&await Rc.removeAccountFromBiometryConfig(a),globalThis.dispatchEvent(new Event(fF))}async deleteAccountPermanently(e){let t=this.findAccountHandlerByUuid(e);return t?t.client?.CTX?.session?RA.deleteAccount(t.client.CTX.session):Promise.reject(new Error("Unable to delete account - no context or session found on account handler.")):Promise.reject(new Error("Unable to delete account - no account found with that uuid"))}async updateAccount(e,t){let r=await Ve.getDatabase().findAccountByUUID(e);if(!r)return Promise.reject(new Error("Unable to update account. Account with the given UUID could not be found."));r={...r,...t},await Ve.getDatabase().saveAccount(r);let a=this.findAccountHandlerByUuid(r.uuid);a&&await a.updateSigninDetails(r)}async updateAccountHandlers(){let e=await Ve.getDatabase().getAllAccounts();if(this.setAccountHandlers(this._accountHandlers.filter(t=>e.some(r=>r.uuid===t.uuid))),globalThis.dispatchEvent(new Event(gF)),!this.allAccountHandlersAreLocked){await $t.loadAndDecryptItemCache();return}Qo(),vhA()}getFirstSsoAccountForKind(e){let t;switch(e.type){case"withoutAccount":t=e.content.provider.providerName;break;case"account":t=e.content.provider?.providerName;break;default:jr(e)}return this._accountHandlers.find(r=>r.serveraccount.authMethods.find(a=>a.type==="OIDC"&&a.provider&&a.provider===t)!==void 0)}getMustMigrateAuthAccount(e){return this._accountHandlers.find(t=>{let r=t.client?.CTX?.session.ssoMigrationGracePeriod?.state===St.State.MustMigrateAuth;return e?t.uuid===e&&r:r})}runSyncerForAccount(e){let t=this.findAccountHandlerByUuid(e);return!t||t.isLocked?Promise.resolve():t.runSyncer([0])}runSyncerForAllAccounts(){let e=this._accountHandlers.map(t=>t.runSyncer([0]));return Promise.all(e)}async updateSuspendedAccounts(e,t,r){let a=e.filter(j=>j.isUserSuspended);for(let j of a)try{let n=j.credentials({accountPassword:r});await j.startSync({type:"Credentials",data:{credentials:n}})}catch{console.info(`Account <${j.uuid}> is suspended.`),await j.lock(!1)}return t.length>0&&a.length>0&&this.allAccountHandlersAreLocked?Pe({type:"SuspendedAccounts"}):vt(void 0)}async updateAccountAuthMethods(){return(await Promise.all(this.getAccountHandlers.map(async t=>{let r=e6(t.serveraccount.signinAddress,await _u()),a=await he.getSignInMethods(r,t.serveraccount.email,t.serveraccount.userUUID);return a.authMethods.length===0||(0,qte.isEqual)(a.authMethods,t.serveraccount.authMethods)?!1:(await this.updateAccount(t.serveraccount.uuid,{authMethods:a.authMethods}).catch(()=>console.error(`Failed update: authMethods for ${t.serveraccount.uuid}`)),(he.CanOnlyPerformOidcAuth(a.authMethods)||he.canOnlyPerformWebauthnAuth(a.authMethods))&&this.updateAccount(t.serveraccount.uuid,{secretKey:void 0}).catch(()=>console.error(`Failed to set secretKey to undefined for ${t.serveraccount.uuid}`)),!0)}))).includes(!0)}bestUnlockedLocation(){for(let e of this._accountHandlers){if(!e.isUnlocked)continue;let t=e.vaults.find(r=>r.isPersonal);return t?[e.b5account,t]:[e.b5account,e.vaults[0]]}throw new Error("Could not find an available account/vault pair to save in.")}defaultSavingLocation(){let e=Re().saveNewItemsIn;if(!e)return this.bestUnlockedLocation();let t=this.findAccountHandlerByUuid(e);if(t){if(t.isUnlocked){let r=t.vaults.find(a=>a.isPersonal)||t.vaults[0];if(r){let a=Re();return a.saveNewItemsIn=r.uuid,Ex(a),[t.b5account,r]}}return this.bestUnlockedLocation()}for(let r of this._accountHandlers)if(r.isUnlocked){let a=r.vaults.find(j=>j.uuid===e);if(a)return[r.b5account,a]}return this.bestUnlockedLocation()}async getSystemVaultForAccount(e){let t=this.findAccountHandlerByUuid(e);if(!t)throw new Error(`Unable to find account handler for account UUID <${e}>`);return t.getOrCreateSystemVault()}getUserStateForAccount(e){let t=this.findAccountHandlerByUuid(e);if(!t)throw new Error(`Unable to get user state, unable to find account handler for account UUID <${e}>`);return Object.values(FhA.UserState).find(r=>r===t.serveraccount.userState)??FhA.UserState.Unsupported}};z0=ed([qu()],z0);var rA=rr.resolve(z0);var zte=AA(Dte()),wX=AA(y7()),ydt="b5x",vdt="b5x",Fdt="b5x-tracker",Gdt="https://telemetry.1passwordservices.com",wdt="com.snowplowanalytics.snowplow/tp2";var qdt=new URL(wdt,Gdt),$dt={appId:ydt,trackerId:Fdt,collectorUrl:qdt,namespace:vdt},Mte=new zte.SnowplowTracker($dt,wX.AllEvents,wX.AllContexts);var am=AA(Wr());var qX=class{async saveObjectHandler(e,t,r){if(t===$r)return YUA(r,e);Vi(r,t,{name:"save-request",data:{data:e,urls:[]}})}};var Lc=AA(Wr());var $X=class{async saveObjectHandler(e,t,r){let a=JSON.parse(e),j=await this.getTypeOfForm(r);if(j===void 0){console.warn("Asked to save a card from ramp.com but was unable to find if it was Marqetta or Stripe");return}let n=j==="stripe"?await this.collectCreditCardFieldsForStripe(r):await this.collectCreditCardFieldsForMarqetta(r);return n.length>0&&a.fields.push(...n),Vi(r,t,{name:"save-request",data:{data:JSON.stringify(a),urls:[],integration:Lc.SaveManagerIntegration.Ramp}})}getTypeOfForm(e){return new Promise(t=>{chrome.scripting.executeScript({target:{tabId:e.id,allFrames:!0},function:()=>{let r=document.querySelector("[data-id='STRIPE'],[data-id='MARQETA']");if(!r)return null;let a=r.getAttribute("data-id");return a!=="STRIPE"&&a!=="MARQETA"?null:a.toLowerCase()}},r=>{let a=r.find(({result:j})=>j!==null);return t(a?a.result:void 0)})})}collectCreditCardFieldsForStripe(e){return new Promise(t=>{chrome.scripting.executeScript({target:{tabId:e.id,allFrames:!0},function:()=>{let r=document.querySelectorAll(".IssuingDisplayElement");return Array.prototype.slice.call(r,0).map(function(j){return j.innerText})}},r=>{(async()=>{let j=[],n=r.find(({result:s})=>s&&s.length===4);if(n){let s=n.result.join(" ");j.push({autocomplete:Lc.AutofillType.CcNumber,value:s}),j.push({autocomplete:Lc.AutofillType.CcType,value:await FA.getCreditCardType(s)??Lc.CcType.Visa})}let i=r.find(({result:s})=>s.find(c=>typeof c=="string"&&!c.includes("/")&&c.length===3));if(i){let s=i.result.join("");j.push({autocomplete:Lc.AutofillType.CcCsc,value:s})}let o=r.find(({result:s})=>s.find(c=>typeof c=="string"&&!c.includes(" ")&&c.includes("/")));if(o){let[s,c]=o.result.join("").split("/");s&&c&&j.push({autocomplete:Lc.AutofillType.CcExp,value:`20${c}${s}`})}t(j)})()})})}collectCreditCardFieldsForMarqetta(e){return new Promise(t=>{chrome.scripting.executeScript({target:{tabId:e.id,allFrames:!0},function:()=>{let r=document.querySelector("span");return r?r.innerText:null}},r=>{(async()=>{let j=[],n=r.find(({result:u})=>typeof u=="string"&&u.includes(" "));n&&(j.push({autocomplete:Lc.AutofillType.CcNumber,value:n.result}),j.push({autocomplete:Lc.AutofillType.CcType,value:await FA.getCreditCardType(n.result)??Lc.CcType.Visa}));let i=r.find(({result:u})=>typeof u=="string"&&!u.includes(" ")&&!u.includes("/")&&u.length===3);i&&j.push({autocomplete:Lc.AutofillType.CcCsc,value:i.result});let o=r.find(({result:u})=>typeof u=="string"&&!u.includes(" ")&&u.includes("/")),[s,c]=o?.result?.split("/");s&&c&&j.push({autocomplete:Lc.AutofillType.CcExp,value:`20${c}${s}`}),t(j)})()})})}};var IX=class{async saveObjectHandler(e,t,r){return Vi(r,t,{name:"save-request",data:{data:e,urls:[]}})}};var qhA=class{async saveObjectHandler(e,t,r,a=[]){Vi(r,t,{name:"save-request",data:{data:e,urls:a}})}},Rte={default:new qhA,privacy:new qX,ramp:new $X,stripe:new IX};var Idt={[am.CreateItemType.CreditCard]:qj,[am.CreateItemType.Login]:$r,[am.CreateItemType.ApiKey]:Zc,[am.CreateItemType.CryptoWallet]:BF};function Kte(A){if(!A.priKey.jwk?.kid&&!A.pubKey.jwk?.kid)throw new Error("Both private and public JWKs are absent from the pair.");if(A.priKey.jwk?.kid){if(!A.pubKey.jwk?.kid)throw new Error("Public JWK absent from the pair.")}else throw new Error("Private JWK absent from the pair.")}var M0=class{constructor(e){this.handleGetSaveObjectPublicKey=async()=>{let e=await this.getOrCreateKeyPair();if(!e.pubKey.jwk?.kid)throw new Error("Unable to retrieve public key for 'Add to 1Password' feature.");return e.pubKey.jwk};this.handleAddSaveObject=async(e,{tab:t})=>{let r=e.data.data,{type:a,encrypted:j}=e.data;if(j){let n=await this.getOrCreateKeyPair();if(!n?.priKey.key)throw new Error("Private key missing for encrypted save object.");let i=await globalThis.crypto.subtle.decrypt("RSA-OAEP",n.priKey.key,F.base64urlToBytes(r));r=new TextDecoder().decode(new Uint8Array(i))}else r=this.decodeBase64Unicode(r);try{let n=await FA.serviceIntegrationForUrl(t.unparsedUrl);if(!n)return!1;let i=Rte[n];if(!i)return!1;if(a===am.CreateItemType.Login){let{urls:o}=await FA.saveUrlsFromSaveRequest({unparsedUrl:t.unparsedUrl,itemType:a});i.saveObjectHandler(await this.processTotpFields(r),this.getUuidForItemType(a),t,o)}else i.saveObjectHandler(r,this.getUuidForItemType(a),t);return!0}catch{return!1}};this.getUuidForItemType=e=>Idt[e];this.getOrCreateKeyPair=async()=>{let e=this._sessionStorage.getItem("keyPair");if(e){let a=JSON.parse(e);return Kte(a),new ZA.EncryptionKeyPair(a.uuid,await new ZA.RSAPublicKey(a.uuid).import(a.pubKey.jwk),await new ZA.RSAPrivateKey(a.uuid).import(a.priKey.jwk))}let t=await ZA.EncryptionKeyPair.generate();Kte(t);let r={priKey:{jwk:t.priKey.jwk},pubKey:{jwk:t.pubKey.jwk},uuid:t.uuid};return this._sessionStorage.setItem("keyPair",JSON.stringify(r)),t};this.decodeBase64Unicode=e=>{let t=atob(e),r=t.length,a=new Uint8Array(r);for(let n=0;n<r;n++)a[n]=t.charCodeAt(n);return new TextDecoder().decode(a)};this.processTotpFields=async e=>{let t=JSON.parse(e),r=t.fields.filter(a=>a.autocomplete===am.AutofillType.OneTimeCode);r.length>1&&console.warn("Attempted to add more than one TOTP field.");for(let a of r)try{if(!qT(a.value)){let j=[am.ValidOtpSchemes.AppleOtpAuth,am.ValidOtpSchemes.OtpAuth,am.ValidOtpSchemes.Yjotp];console.warn(`TOTP URL is invalid, must be one of ${j.join(", ")}`)}}catch{console.warn("Was not able to validate TOTP field.")}return JSON.stringify(t)};this._sessionStorage=e}};M0=ed([qu(),mF(0,Vv("SessionStorage"))],M0);var $hA=()=>rr.resolve(M0);console.info=dH(console.info,"INFO");console.warn=dH(console.warn,"WARN");console.error=dH(console.error,"ERROR");$j()?(rr.register("PersistentStorage",WU,{lifecycle:qi.Singleton}),rr.register("SessionStorage",JU,{lifecycle:qi.Singleton}),rr.register($u,Wv,{lifecycle:qi.Singleton})):(rr.register("PersistentStorage",ZU,{lifecycle:qi.Singleton}),rr.register("SessionStorage",YU,{lifecycle:qi.Singleton}),rr.register($u,Xv,{lifecycle:qi.Singleton}));rr.register("SnowplowTracker",{useValue:Mte});rr.registerSingleton($0);rr.registerSingleton(M0);rr.registerSingleton(z0);rr.registerSingleton(_T);rr.registerSingleton(w7);rr.registerSingleton(L_);rr.registerSingleton(t_);rr.registerSingleton(DT);rr.registerSingleton(rD);rr.registerSingleton(F0);rr.registerSingleton(K_);rr.registerSingleton(k0);var PX=new Xa("Trace Processor Logger:"),SX=(A=fa)=>new EU(A,Pdt,{maxBytes:10240,maxTimeInSeconds:10});async function Lte(A,e){e(A.data)}async function Pdt(A){let e=Ar.getUnlockedAccountHandlersForFlag("b5x-client-performance-tracing");if(!(oj()||e.length===0))try{let t=e[0].client?.CTX;if(!t){PX.error("No account handler");return}let a=[A.filter(j=>j.meta?.entryType==="measure")];try{he.sendPerformanceTraces(t,a),PX.log("Trace sent to datadog: ",t,a)}catch(j){PX.error("Error sending trace to server: ",j)}}catch(t){PX.error("An error occured while processing the trace: ",t)}}var bje=AA(Ln());async function IhA(A,e,t){let r=globalThis.crypto.getRandomValues(new Uint32Array(1))[0],a=await Ka({tabId:A,message:{name:"request-delegated-session",data:{accountUuid:e,userUuid:t,requestId:r}}});return a.requestId?a.requestId===r?vt(a):Pe("got delegated session response with incorrect request ID"):Pe("got delegated session response without a request ID")}var Lu=class extends Error{constructor(e,t){super(e),this.serverErrorReason=t}};async function Nte(A,{code:e,state:t}){let r=e6(A.serveraccount.signinAddress,A.deviceJson.uuid),a;try{a=await he.verifyOidc(r,e,t,A.deviceJson)}catch(j){if(F.errors.isNewServerError(j))switch(j.reason){case F.errors.ServerErrorReason.userSuspended:throw new Lu("User is suspended",j.reason);case F.errors.ServerErrorReason.userDeleted:throw new Lu("User does not exist",j.reason);case F.errors.ServerErrorReason.oidcUserDoesNotMatch:throw new Lu("Identity provided to B5 does not match the user trying to authenticate",F.errors.ServerErrorReason.oidcUserDoesNotMatch);default:throw new Lu("SSO Authentication server request failed")}throw new Lu("SSO Authentication unsuccessful")}if(a.type!=="found")throw new Lu("Extension is not trusted.",F.errors.ServerErrorReason.deviceNotEnrolled);return{unverifiedContext:r,ssoResponse:a}}function Ute(A){if(A instanceof Lu)switch(A.serverErrorReason){case F.errors.ServerErrorReason.userDeleted:return"user-deleted";case F.errors.ServerErrorReason.userSuspended:return"user-suspended";case F.errors.ServerErrorReason.oidcUserDoesNotMatch:return"sso-identity-mismatch";case F.errors.ServerErrorReason.deviceNotEnrolled:return"device-not-trusted"}return F.errors.isNewServerError(A)?A.code===F.errors.HTTPStatusCode.internalServerError?"server-unavailable":"server-error":"unlock-error"}async function Hte(A,e,t){let r=FU(),a=new Promise((i,o)=>{Ka({tabId:t,message:{name:"upgrade-trusted-device",data:{requestId:r,accountUuid:A,userUuid:e}}}).then(s=>{i(s)}).catch(s=>{o(s)})}),j=Symbol(),n;try{n=await pmA(a,500,"background: upgrade-trusted-device",j)}catch(i){return i===j?Pe({type:"TIMEOUT"}):Pe({type:"MESSENGER_ERROR"})}return n?n.requestId?n.requestId!==r?Pe({type:"BAD_REQUEST_ID",data:"requestId from response does not match"}):vt(n):Pe({type:"BAD_REQUEST_ID",data:"requestId missing from response"}):Pe({type:"TIMEOUT"})}var r6=AA(OA()),Odt=r6.type({deviceUuid:r6.string,userInfo:r6.record(r6.string,r6.string),deviceKeys:r6.record(r6.string,r6.string),lastUserUuid:r6.union([r6.string,r6.undefined])},"BackupCredentials"),PhA=m6(Fs.pipe(Odt),()=>({deviceUuid:"",userInfo:{},deviceKeys:{},lastUserUuid:void 0}));var Xte="B5WEB_BACKUP_",Wte=(A,e)=>{Ze.setItem(Xte+e,PhA.encode(A))},Jte=A=>{let e=Ze.getItem(Xte+A);return Ke(e,PhA).unwrap()},Vte=A=>!!A.deviceUuid&&Object.keys(A.userInfo).length>0,Yte=(A,e)=>{let t=Vte(e);return Vte(A)||t&&A.deviceUuid===e.deviceUuid?{restoreRequired:!1,nextBackup:A}:t?{restoreRequired:!0,nextBackup:e}:{restoreRequired:!1,nextBackup:e}};async function Zte(A,{tab:e}){let t=e.URL();if(!t||!$g(t.hostname)||!A.data.deviceInit)return;let r=await Ii();Ka({tabId:e.id,message:{name:"initialize-device",data:{device:r}}})}var Qte=async(A,{tab:e})=>{let t=A.data.details.accountUuid;if(!await Ve.getDatabase().findAccountByUUID(t)){console.error("Unable to create session. Account with the given UUID could not be found.");return}let a=rA.findAccountHandlerByUuid(t);if(!a){console.error(`Unable to find account handler with UUID <${t}`);return}rre(a,A,e.id)},Are=async A=>{let{state:e,code:t,accountUuid:r}=A.data.details;if(!e||!t||!r){console.error("HandleB5SsoSignInComplete: Invalid arguments provided to complete B5 SSO sign in."),ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("UnlockError"),message:F.logsafe.assertLogSafe("Invalid arguments provided to complete B5 SSO sign in."),metaData:{account:{accountUuid:F.logsafe.assertLogSafe(r)}}}));return}let a=rA.findAccountHandlerByUuid(r);if(!a){console.error(`HandleB5SsoSignInComplete: Unable to find account handler for provided account UUID <${r}>.`);return}C_(`https://mocked.1password.com/sso/oidc/redirect/#state=${e}`).catch();try{let j=await Nte(a,{code:t,state:e}),n=await Lg({type:"SingleSignOn",data:j});if(n.isErr())throw new Error(n.error.type)}catch(j){j instanceof Lu&&await Tdt(a,j);let n=Ute(j);await XE(n),ra(j)?ht(j):ht(new F.LoggableError({errorClass:j instanceof Lu?F.logsafe.assertLogSafe("SSOAuthenticationError"):F.logsafe.assertLogSafe("UnlockError"),message:F.logsafe.assertLogSafe("Unable to unlock b5x with SSO."),userUuid:F.logsafe.assertLogSafe(a.serveraccount.userUUID),metaData:{account:{accountUuid:F.logsafe.assertLogSafe(r)}},stackOverrideError:j})),console.error("HandleB5SsoSignInComplete: Unable to unlock b5x with SSO.",ra(j)?`: ${j.name} - ${j.message}`:"");return}},Tdt=async(A,e)=>{switch(e.serverErrorReason){case F.errors.ServerErrorReason.userSuspended:await A.setUserState(St.State.Suspended).catch(t=>{console.error(`Could not update account's user state to ${St.State.Suspended}`,t)});break;case F.errors.ServerErrorReason.userDeleted:A.destroyAccount();break;case F.errors.ServerErrorReason.deviceNotEnrolled:await rA.updateAccount(A.serveraccount.uuid,{deviceCredentials:void 0});break;default:break}},ere=async(A,{tab:e})=>{let t=A.data.details.accountUuid,r=await Ve.getDatabase().findAccountByUUID(t);if(!r){console.error("Unable to create session. Account with the given UUID could not be found.");return}let a=rA.findAccountHandlerByUuid(t);if(!a){console.error(`Unable to find account handler with UUID <${t}`);return}let j=r.userUUID,n=A.data.details.userUuid;if(n&&n!==j){console.error("Unable to create session. Extension user and b5web user do not match.");return}rre(a,A,e.id)},tre=async(A,{frame:e})=>{let t=e.URL();if(!t||!$g(t.hostname))return{restoreRequired:!1,credentials:void 0,host:t?.host||""};let r=t.host;if(!Ar.hasPreRegistrationFlag("b5x-account-hydration"))return{restoreRequired:!1,credentials:void 0,host:r};let{credentials:a}=A.data.details;await Ze.init();let j=Jte(r),{nextBackup:n,restoreRequired:i}=Yte(a,j);return Wte(n,r),{restoreRequired:i,credentials:n,host:r}},rre=async(A,e,t)=>{let r,a=async()=>{A.client||await A.reinitializeClient();let j={name:"auto-sign-in-to-b5",data:{...await A.createDelegateSessionContextInitialization(e.data.details.device),ssoNonce:e.data.type==="B5SessionInit"?e.data.details.ssoNonce:void 0}};Ka({tabId:t,repeat:!1,message:j}),r&&clearTimeout(r)};A.isLocked?(await Ug(),r=setTimeout(()=>{try{uo.unsubscribe(Bo,a)}catch{console.info("Unlock listener was already unsubscribed or was never registered")}},3e4),uo.subscribe(Bo,a,{once:!0})):a()};async function _dt(A,e,t){let r=e.details;if(A)return console.error("Auth Only tabs should not be used when connected to a Desktop app"),chrome.tabs.remove(t);if(yhA(r.accountUuid))return;let a=Vs();if(a.isEnabled()&&!a.addAccountPromptEnabled()||!(await LXA(r.accountUuid)).shouldPrompt)return;let n;r.shouldAddAccountToExtension||await M_(!1)?n="YES":n=await jX(t,r.accountUuid),n==="YES"?GV({components:{emailAddress:r.email,secretKey:e.type==="B5SignInSucceeded"?e.details.accountKey:void 0,server:r.signinAddress,isSsoAccount:e.type!=="B5SignInSucceeded"},accountUuid:r.accountUuid}):n==="IGNORE"&&bhA(r.accountUuid)}async function are(A){chrome.runtime.sendNativeMessage("application.id",{name:"iap",data:A.data.url})}async function jre(A,{tab:e}){Wi();let t=A.data.details,r=t.authOnly??!1;if(Mt.getDesktopAppState().type==="Connected")return _dt(r,A.data,e.id);Fp();let a=await Ve.getDatabase().findAccountByUUID(t.accountUuid);if(a){if(a.userUUID!==t.userUuid)return;let o=jl(a.signinAddress),s=jl(t.signinAddress);if(o.endsWith("/")&&(o=o.slice(0,-1)),s.endsWith("/")&&(s=s.slice(0,-1)),o!==s)return;if(!((A.data.type!=="B5SignInSucceeded"||a.secretKey===A.data.details.accountKey)&&a.signinAddress===t.signinAddress&&a.email===t.email&&a.dSecret===t.dSecret)){let u={signinAddress:t.signinAddress,email:t.email};t.dSecret&&(u.dSecret=t.dSecret),A.data.type==="B5SignInSucceeded"&&(u.secretKey=A.data.details.accountKey),await rA.updateAccount(t.accountUuid,u),await rA.lockAccountHandler(t.accountUuid)}switch(A.data.type){case"B5SignInSucceeded":let u=await V$(A.data.details.masterPassword);u.isErr()&&console.info(`Failed to unlock newly added account: ${u.error.type}`);break;case"B5DelegatedSignInSucceeded":let{accountUuid:p,userUuid:h,masterKey:f,email:G,signinAddress:w}=A.data.details,{session:y}=A.data.details;if(!f){console.warn("Unable to unlock account without master key");return}let E=Ke(JSON.parse(f),Ml);if(E.type==="err"){console.warn("Failed to decode JWK");return}if(!y){let $=await IhA(e.id,p,h);$.isOk()?y=$.value.sessionDetail.session:console.warn(`Failed to get delegated session response when trying to unlock account: ${$.error}`)}if(y){let $=await $_({email:G,signInAddress:w},E.value,{notifier:y.notifier,sessionKey:y.sessionKey},!1),T=await Lg({type:"DelegatedSession",data:{client:$,accountUuid:p,muk:E.value}});if(T.isErr()){console.warn(`Unable to unlock account with delegated session: ${T.error.type}`);return}let O=rA.findAccountHandlerByUuid(a.uuid);if(O?.isUnlocked)try{await zdt($,A,e,O)}catch(I){po(I,F.logsafe.assertLogSafe("Failed upgrading saved account to Trusted Device"),O.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(O.serveraccount.uuid):void 0)}}break}await rA.runSyncerForAccount(t.accountUuid),r&&(chrome.tabs.remove(e.id),await qs(100),mx());return}if(r){let o=await T7();await XkA(A.data),o?chrome.tabs.remove(e.id):w7A(e);return}if(Or()||yhA(t.accountUuid))return;let j=Vs();if(j.isEnabled()&&!j.addAccountPromptEnabled())return;let n=A.data.type==="B5DelegatedSignInSucceeded"&&A.data.details.session===void 0,i;if(t.shouldAddAccountToExtension||await M_(!1)?i="YES":i=await jX(e.id,t.accountUuid),i==="YES"){if(n&&A.data.type==="B5DelegatedSignInSucceeded"){let o=await IhA(e.id,A.data.details.accountUuid,A.data.details.userUuid);o.isOk()?(A.data.details.masterKey=o.value.sessionDetail.masterKey,A.data.details.session=o.value.sessionDetail.session):console.warn(`Failed to get delegated session response when trying to add account: ${o.error}`)}if(A.data.type==="B5DelegatedSignInSucceeded"){let o=await nre(A.data.details,e);o?.srpx&&(A.data.details.srpx=o.srpx)}try{await XkA(A.data)}catch(o){throw o}}i==="IGNORE"&&bhA(t.accountUuid)}async function nre({userUuid:A,accountUuid:e},t){let r=await Hte(e,A,t.id);if(r.isErr()){console.warn(`Failed to get trusted device upgrade response while adding account: ${r.error}`),ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("HandleB5SignInSucceeded"),message:F.logsafe.assertLogSafe(`TrustedDeviceUpgrade request to b5web failed: ${r.error.type}`),userUuid:F.logsafe.assertLogSafe(A)}));return}return r.value}async function Ddt(A,e){if(!he.canPerformTrustedDeviceBasedAuth(e.serveraccount.authMethods))return!1;let r=await e.getDeviceCredentials();if(r.isErr())return!0;if(A?.CTX)try{await he.getEncryptedCredentialBundle(A.CTX,r.value.deviceKeyId)}catch(a){if(F.errors.isServerError(a,Y6.deviceNotEnrolled,F.errors.HTTPStatusCode.notFound))return!0;if(F.errors.isServerError(a)&&a.code===F.errors.HTTPStatusCode.notFound)return!1;po(a,F.logsafe.assertLogSafe(`Error (error: ${a}) while getting encrypted bundle for user ${e.serveraccount.userUUID}.`),e.serveraccount.uuid!==void 0?F.logsafe.assertLogSafe(e.serveraccount.uuid):void 0)}return!1}async function zdt(A,e,t,r){if(A&&await Ddt(A,r)){let a=await nre(e.data.details,t);a?.srpx&&await WH(A,r,a?.srpx)}}var Mdt="aomjjhallfgjeglblehebfpbcfeobpgk",Rdt="phicbbndgmmpogmijjkbmdhpioaieaha";async function ire(){if(Ze.getItem("opxAutomaticallyDisabled")==="Y"||Ze.getItem("accounts")||sa())return;let A=await Kdt();for(let e of A)(e.id===Mdt||e.id===Rdt)&&chrome.management.setEnabled(e.id,!1);Ze.setItem("opxAutomaticallyDisabled","Y")}async function Kdt(){return new Promise(A=>{if(sa())throw new Error("Management API unavailable in Safari.");chrome.management.getAll(A)})}function ore(){return{buildNumber:A6(),setOldAttribute:!O6.hasInsiderAccount()}}var sre=()=>{let[A]=rA.defaultSavingLocation(),e=rA.findAccountHandlerByUuid(A.uuid);return e?{name:e.serveraccount.name,hasSignedInClient:e.hasSignedInClient}:void 0};var lre=A=>Ar.anyAccountHasFlag(A.data),cre=async A=>{let e=[];for(let t of A.data.features){let r=await Ndt(t);e.push(r)}return{features:e}},Ndt=async({name:A,timeout:e})=>{if(e&&e>0){let a;try{a=await Promise.race([Ar.anyAccountHasFlag(A),fl(e)])}catch{a={type:"exception"}}return typeof a=="boolean"?{type:"success",name:A,enabled:a}:(ht(new F.LoggableError({errorClass:sA`GetFeature`,message:sA`Retrieving ${TA.assertLogSafe(A)} flag failed: ${TA.assertLogSafe(a.type)}`})),{name:A,type:"failure",error:a})}let t=Ar.anyAccountHasFlag(A);return{type:"success",name:A,enabled:t}},ure=({data:A})=>{let e={},t=Object.entries(A.tags??{});t.length>0&&t.forEach(([a,j])=>{j&&(e[a]=F.logsafe.assertLogSafe(j))});let r=new Error;r.stack=A.stack;try{ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe(A.name),message:F.logsafe.assertLogSafe(A.message),tags:e,severityLevel:A.severity,stackOverrideError:r}))}catch{console.error(`Could not report event: ${event}`)}};function dre(){Eo()&&browser.runtime.connectNative("application.id").onMessage.addListener(async function(t){t.name==="iap"&&(await Xg()).forEach(a=>{Ka({tabId:a.id,message:{name:"forward-iap-receipt-to-b5",data:t}})})})}var fs=AA(Wr());var R0=AA(Ln());var mre=AA(Wr());var pre=AA(Ln());function kre(A,e,t,r){switch(r.name){case"fill-item":return Vdt(A,r.data.itemId,r.data.designationFilter);case"fill-tutorial-item":return tmt(A);case"fill-generated-password":return Wdt(A,e,r.data);case"save-item":return Jdt(A,t);case"show-privacy-dialog":return Ydt(A,e);case"show-email-alias-dialog":return Zdt(A);case"fill-existing-alias":return Qdt(A);case"show-brex-create-dialog":return Amt(A,e);case"show-ssh-create-dialog":return emt(A);default:jr(r)}}async function Hdt(A){if(!A.cacheInformation)return!1;let e=A.overview.b5AccountUUID;if(!e)return console.error("Item was missing b5AccountUUID in isBrexCardLocked"),!0;let t=(await P$()).find(j=>j.accountUuid===e);if(!t)return console.warn(`Unable to check Brex card is locked for <${e}>`),!0;let r=await Vd(t.accountUuid,t.accountId,"brex");if(!r)return console.warn("Failed to get token when checking if Brex card is locked"),!0;let a=await vHA(Mg(r.context.clientId),A.cacheInformation.cardId,r.accessToken);return a.isOk()&&a.value.status!==mre.BrexCardStatus.Active?(HH(e,a.value.id),!0):a.isErr()?(console.warn(`Unable to get card deatils to check if it's locked for <${e}>`),!0):!1}async function Vdt(A,e,t){if(qZA())return;let r=await Ru(JSON.parse(e));if(r.isErr())throw new Error("Unable to load item with local id");let a=r.value;if(a.templateUuid===qj&&await Hdt(a)){alert((0,pre.T)("This card has been locked/terminated, please use another card."));return}Ng(a,!0,"INLINE",{designationFilter:t})}var Xdt=async A=>A?await Yr.connectivityStatus()!=="online"?{notification:"generatedPasswordUserOffline",message:"User is offline"}:A.isLocked?{notification:"generatedPasswordAccountIsLocked",message:"Account was found to be locked"}:A.hasSignedInClient?await A.hasGeneratedPasswordVault()?{notification:"generatedPasswordUnexpectedError",message:"Unexpected error"}:{notification:"generatedPasswordNoVaultFound",message:"Account has no generated password vault"}:{notification:"generatedPasswordNotSignedIn",message:"Account does not have a signed in client"}:{notification:"generatedPasswordNoDefaultSavingLocation",message:"No default saving location found"},CX="Unable to use the generated password";async function Wdt(A,e,t){try{await h_(t,A),await p8(A,!1,e,t)}catch(r){let a=await ca();if(!a){console.warn("Cannot send message: Failed to resolve information on active tab");return}let[j]=rA.defaultSavingLocation(),n=rA.findAccountHandlerByUuid(j.uuid),i=await Xdt(n);Ka({tabId:a.id,message:{name:"show-notification",data:{type:i.notification}}}),i.notification==="generatedPasswordUserOffline"?console.error(`${CX}: The account is not signed in or appears offline`):ra(r)?(ht(r),console.error(`${CX}: ${r.message}`)):(ht(new F.LoggableError({errorClass:F.logsafe.assertLogSafe("FillGeneratedPassword"),message:F.logsafe.assertLogSafe(`${CX}: ${i.message}`),userUuid:F.logsafe.assertLogSafe(n?.accountIdentifier.userUUID??""),stackOverrideError:r instanceof Error?r:void 0})),console.error(`${CX}: ${i.message}`))}}async function Jdt(A,e){let t;S7A(e)?t=qj:C7A(e)?t=ti:t=$r,Vi(A,t,{name:"collected-page-details",data:{collectedPageDetails:await dn(A)}})}async function Ydt(A,e){vp(A.id,{name:"privacy-create-credit-card",data:{frameIdentifier:e}})}async function Zdt(A){vp(A.id,{name:"create-an-email-alias",data:{frameIdentifier:void 0}})}async function Qdt(A){let e=await FA.getEmailAliasSessionStatus(A.id,A.unparsedUrl);if(e?.alias)switch(e.alias.type){case"Fastmail":await T_(A,e.alias.content.alias);break;default:jr(e.alias.type)}}async function Amt(A,e){vp(A.id,{name:"brex-create-credit-card",data:{frameIdentifier:e}})}async function emt(A){vp(A.id,{name:"create-ssh-key",data:void 0})}async function tmt(A){let e=await kpA(A),t=fa.getItem("tutorial-save");if(t&&e.isOk()){let r=await KH(t);if(r){let a={postFill:{type:"focusNextField"}},j=await FA.fillItem(r,e.value,a);chrome.tabs.sendMessage(A.id,{name:"perform-fill",data:{payload:j,authorizedUnsafeHttp:!0}})}}}var xx=AA(Wr());var rmt=20;async function gre(A,e,t){let r=j=>t.some(n=>n.type==="SuggestedCategory"&&n.data.type===j);if(bl(A)&&e==="username")return pHA();if(r(ti)&&(e===xx.AutofillType.Username||e===xx.AutofillType.Email))return smt(A);let a;return r($r)&&(a=await amt(A)),omt(A,t,a)}async function amt(A){if(A.URL()?.host!=="accounts.google.com")return;let e=await dn(A);return(()=>{for(let r of e.frames)for(let a of r.fields)if(a.type==="email"&&a.htmlName==="identifier"&&a.htmlId==="hiddenEmail"&&a.value)return a.value})()}async function jmt(A,e,t){let r=await $t.loadItemCache();if(!r)return[];let a;switch(e){case $r:a=Qt.logins;break;case qj:a=Qt.creditCards;break;case ti:a=Qt.identities;break;case V6:a=Qt.passwords;break;case Sl:a=Qt.sshKeys;break;default:return[]}let{showRichIcons:j}=Re(),n=Qt.userSelected(Ej(),void 0,void 0,r),i=await rA.getPersonItemsForAccounts(),o=await r.itemsForTab(A,u=>n(u)&&a(u),wi.fieldContextSort(A,t,i));e===$r&&(o=(await Promise.all(o.map(async p=>({decryptedItem:await Oo(p),encryptedItem:p})))).filter(({decryptedItem:p})=>p?nmt(p):!1).map(({encryptedItem:p})=>p));let s=await Promise.all(o.map(u=>iHA(u,{iconSize:120,showRichIcons:j,isPersonItem:c$(u,i)})));if(s.some(u=>u.name==="entry"&&u.data.accessory==="profile")){let u=s.find(p=>p.name==="entry"&&p.data.accessory!=="profile");u&&(u.data.insertDividerBefore=!0)}return s}function nmt(A){if(A.username?.value||A.getPassword())return!0;let e=a=>A.details?.sections?.some(j=>j.fields?.some(n=>a(n))),t=!e(a=>a.k==="ssoLogin"),r=e(a=>a.k!=="ssoLogin");return t||r}async function imt(A){switch(A.type){case"Integration":switch(A.data){case xx.SuggestedIntegration.Brex:return uHA();case xx.SuggestedIntegration.Privacy:return lHA();default:jr(A)}case"SuggestedPassword":let e=await fte();return oHA(e);case"CreateSshKey":return sHA()}}async function omt(A,e,t){let[r,a]=e.reduce((i,o)=>(o.type==="SuggestedAction"?i[0].push(o):i[1].push(o),i),[[],[]]),j=r.map(i=>imt(i.data)),n=(await Promise.all(a.map(i=>jmt(A,i.data.type,t)))).reduce((i,o)=>i.concat(o),[]);return j.length>0&&n.length>0&&(n[0].data.insertDividerBefore=!0),Promise.all([...j,...n])}async function smt(A){let e=await umt(),t=await lmt(e);return await cmt(t,A),t}function lmt(A){let e=new Map,t=[];for(let r of A)for(let a of r.fields){let j=e.get(a.value);j?e.set(a.value,j+1):(e.set(a.value,1),t.push({item:r.item,field:a}))}return t.sort((r,a)=>{let j=p=>(p.faveIndex??0)>0,n=j(r.item),i=j(a.item),o=e.get(r.field.value)??0,s=e.get(a.field.value)??0,c=r.field.value,u=a.field.value;return n&&!i?-1:!n&&i?1:o>s?-1:o<s?1:c.localeCompare(u)}),Promise.all(t.slice(0,rmt).map(({item:r,field:a})=>zpA(r,{title:a.value,secondary:"",designationFilter:[a.designation]})))}var cmt=async(A,e)=>{if(await p0().catch(r=>(po(r,F.logsafe.assertLogSafe("Failed to get fastmail configuration")),!1))){let r=await FA.getEmailAliasSessionStatus(e.id,e.unparsedUrl);A.length>0&&(A[0].data.insertDividerBefore=!0),r?.alias?A.unshift(await dHA()):A.unshift(await cHA())}};async function umt(){let A=await $t.loadItemCache();if(!A)return[];let e=Qt.userSelected(Ej(),void 0,void 0,A),t=j=>e(j)&&Qt.identities(j),r=A.fillableItems(t,wi.faved);return r.length>50&&(r=r.slice(0,50)),(await Promise.all(r.map(async j=>{if(j.templateUuid!==ti)return console.error("Tried to load username suggestions from unsupported item type."),{item:j,fields:[]};let n=await Oo(j);return{item:j,fields:n?dmt(n):[]}}))).filter(j=>j.fields.length>0)}function hre(A,e){if(!(!A.details||!A.details.sections)){for(let t of A.details.sections)if(t.fields){for(let r of t.fields)if(e(r))return r}}}function dmt(A){let e=[],t=hre(A,a=>!!a.v&&(a.k==="string"&&a.n==="email"||a.k==="email"));t&&e.push({value:t.v,designation:xx.AutofillType.Email});let r=hre(A,a=>a.k==="string"&&a.n==="username"&&!!a.v);return r&&e.push({value:r.v,designation:xx.AutofillType.Username}),e}var aD=AA(Wr());var bx=AA(Ln());function mmt(A){switch(A){case"Popup":return"Normal";case"Inline":return"Normal";case"SaveDialog_Ssh":return"SshKeygen";default:return console.error("Unsupported PasswordGeneratorMode"),"Normal"}}async function bre(A){Wi();let e=A.data;switch(e.type){case"initialization":return ShA(wre(e.content));case"generate":let t=_X(e.content.context),r=Re(),{currentPasswordAttrs:a}=TX(r,t.passwordType),j=kmt(e.content.values,t),{currentPasswordAttrs:n}=TX(j,t.passwordType);return t.mode==="SshKeygen"?a.passwordType!==n.passwordType?ShA(t):fre(t):r.defaultPassGenType!==j.defaultPassGenType?pmt(t):a.passwordType!==n.passwordType||a.separatorType!==n.separatorType?ShA(t):fre(t);case"save":return ChA(e.content.context)}}async function yre(A){Wi();let e=_X(A.data.context),t=await ca(),r={password:e.password,entropy:e.entropy,strengthPercent:e.strength_percent};try{if(!t)throw new Error("Unable to fill generated password: Failed to resolve information on active tab");await h_(r,t),await p8(t,!1,A.data.frameIdentifier,r)}catch(a){console.error("Unable to fill generated password");let j=await Yr.connectivityStatus();throw j==="offlineAuthenticationFailed"?hs():j==="networkOffline"?vre():xj({id:"fill-generated-password",message:(0,bx.T)("Unable to fill generated password"),behavior:aD.ToastBehavior.Ephemeral}),a}}var vre=async()=>{let[A]=rA.defaultSavingLocation(),e=rA.findAccountHandlerByUuid(A.uuid);Tc({id:"account-is-offline",title:(0,bx.T)("{accountName} is offline.",{accountName:e?.serveraccount?.name??"Account"}),text:(0,bx.T)("You won't be able to use a generated password until you are signed in and online."),primaryAction:{id:"ok",label:(0,bx.T)("OK"),destructive:!1,action:{type:"Ok",content:void 0}}})};async function Fre(A){Wi();let e=_X(A.data.context),t=await ca(),a=A.data.selectedText===void 0||A.data.selectedText===e.password?{password:e.password,entropy:e.entropy,strengthPercent:e.strength_percent}:{password:A.data.selectedText??"",entropy:0,strengthPercent:0};try{await h_(a,t)}catch(n){console.error("Unable to save generated password");let i=await Yr.connectivityStatus();throw i==="offlineAuthenticationFailed"?hs():i==="networkOffline"?vre():xj({id:"save-generated-password",message:(0,bx.T)("Unable to save generated password"),behavior:aD.ToastBehavior.Ephemeral}),n}let j=A.data.selectedText??e.password;try{await wp(j,!0,A.data.initiator==="tab"?t:void 0),A.data.selectedText||xj({id:"copy-generated-password",message:(0,bx.T)("Copied generated password"),behavior:aD.ToastBehavior.Ephemeral})}catch{xj({id:"copy-generated-password",message:(0,bx.T)("Unable to copy generated password"),behavior:aD.ToastBehavior.Ephemeral})}}async function ShA(A){let e=Re(),t=await Gre(A.passwordType);return FA.passwordGeneratorViewModel({type:"ViewModel",content:{context:OhA(A),config:DX(e,A.passwordType),collected_page_details:t.collectedPageDetails,url:t.url}})}async function pmt(A){let e=Re();return FA.passwordGeneratorViewModel({type:"DefaultPasswordGeneratorChanged",content:{context:OhA(A),config:DX(e,A.passwordType)}})}async function fre(A){let e=Re(),t=await Gre(A.passwordType);return FA.passwordGeneratorViewModel({type:"Preview",content:{context:OhA(A),config:DX(e,A.passwordType),collected_page_details:t.collectedPageDetails,url:t.url}})}function ChA(A){let e=Re(),t=_X(A);return FA.passwordGeneratorViewModel({type:"Password",content:{context:A,config:DX(e,t.passwordType)}})}async function Gre(A){if(A!=="smart")return{};let e=await ca();return{collectedPageDetails:e?await dn(e):void 0,url:e?.unparsedUrl}}function wre(A){let e;switch(A){case"Inline":e="characters";break;case"SaveDialog_Ssh":e="ed25519";break;case"Popup":default:let{defaultPassGenType:r}=Re();e=r}let t=mmt(A);return{password:"",passwordType:e,entropy:0,strength_percent:0,mode:t}}function _X(A){try{return JSON.parse(atob(A))}catch{return wre("Popup")}}function OhA(A){return btoa(JSON.stringify(A))}function kmt(A,e){let t=Re(),{currentPasswordAttrs:r}=TX(t,e.passwordType);for(let a of A)switch(a.type){case"boolean":a.content.elementId==="password-generator-toggle-numbers"?r.requireDigits=a.content.value:a.content.elementId==="password-generator-toggle-symbols"?r.requireSymbols=a.content.value:a.content.elementId==="password-generator-toggle-capitalize"?r.capitalize=a.content.value:a.content.elementId==="password-generator-toggle-full-words"?r.fullWords=a.content.value:a.content.elementId.startsWith("password-generator-toggle-default-suggestions")&&(a.content.value?t.defaultPassGenType=r.passwordType:t.defaultPassGenType="smart");break;case"number":(a.content.elementId==="password-generator-slider-size-random-password"||a.content.elementId==="password-generator-slider-size-memorable-password"||a.content.elementId==="password-generator-slider-size-pin-code"||a.content.elementId==="password-generator-slider-size-answer"||a.content.elementId==="password-generator-slider-size-answer"||a.content.elementId==="ssh-keygen-rsa-bit-length")&&(r.length=a.content.value);break;case"menu":a.content.elementId==="password-generator-menu-separator"?r.separatorType=gmt(a.content.selectedEntryId):(a.content.elementId==="password-generator-menu-type"||a.content.elementId==="ssh-keygen-menu-type")&&(e.passwordType=xre(a.content.selectedEntryId));break}return Ex(t),t}function Bre(A){switch(A){case"characters":return Jz();case"pin":return Yz();case"smart":return Wz();case"words":return Zz();case"rsa":return AM();case"ed25519":return Qz();default:jr(A)}}function TX(A,e){let t=A.generator.find(a=>a.passwordType===A.defaultPassGenType)??Bre(A.defaultPassGenType);return{currentPasswordAttrs:A.generator.find(a=>a.passwordType===e)??Bre(e),defaultPasswordAttrs:t}}function OX(A,e){return A===e.passwordType?e.length:0}function DX(A,e){let{currentPasswordAttrs:t,defaultPasswordAttrs:r}=TX(A,e),a=t.separatorType;return{password_type:Ere(t.passwordType),size_security_question:0,size_ssh_rsa_key:OX("rsa",t),size_characters:OX("characters",t),size_words:OX("words",t),size_pin:OX("pin",t),separator_type:a?hmt(a):void 0,use_full_words:t.fullWords??!1,include_symbols:t.requireSymbols??!1,include_numbers:t.requireDigits??!1,include_capitalize:t.capitalize??!1,default_password_type_for_suggestions:Ere(r.passwordType)}}function Ere(A){switch(A){case"characters":return"password-generator-menu-entry-type-random-password";case"pin":return"password-generator-menu-entry-type-pin-code";case"smart":return"password-generator-menu-entry-type-password-rules";case"words":return"password-generator-menu-entry-type-memorable-password";case"ed25519":return"ssh-keygen-menu-entry-type-ed25519";case"rsa":return"ssh-keygen-menu-entry-type-rsa"}}function xre(A){switch(A){case"password-generator-menu-entry-type-random-password":return"characters";case"password-generator-menu-entry-type-pin-code":return"pin";case"password-generator-menu-entry-type-password-rules":return"smart";case"password-generator-menu-entry-type-memorable-password":return"words";case"ssh-keygen-menu-entry-type-ed25519":return"ed25519";case"ssh-keygen-menu-entry-type-rsa":return"rsa";default:return"pin"}}function hmt(A){switch(A){case"commas":return"password-generator-menu-entry-separator-commas";case"digits":return"password-generator-menu-entry-separator-numbers";case"digits_and_symbols":return"password-generator-menu-entry-separator-numbers-and-symbols";case"hyphens":return"password-generator-menu-entry-separator-hyphens";case"periods":return"password-generator-menu-entry-separator-periods";case"spaces":return"password-generator-menu-entry-separator-spaces";case"underscores":return"password-generator-menu-entry-separator-underscores"}}function gmt(A){switch(A){case"password-generator-menu-entry-separator-commas":return"commas";case"password-generator-menu-entry-separator-numbers":return"digits";case"password-generator-menu-entry-separator-numbers-and-symbols":return"digits_and_symbols";case"password-generator-menu-entry-separator-hyphens":return"hyphens";case"password-generator-menu-entry-separator-periods":return"periods";case"password-generator-menu-entry-separator-spaces":return"spaces";case"password-generator-menu-entry-separator-underscores":return"underscores";default:return"commas"}}var Fl=AA(y7());async function qre(A){let{componentType:e,componentName:t,source:r,category:a}=A,j;try{j=await Cre()}catch{console.error(`Failed to get account uuid to record event: ${r} - aborting`);return}if(!j){console.error(`No account uuid found to record event: ${r} - aborting`);return}tj("View",{component_type:Fl.TelemetryString.assertSafeForTelemetry(e),component_name:Fl.TelemetryString.assertSafeForTelemetry(t),source:r?Fl.TelemetryString.assertSafeForTelemetry(r):void 0,category:a?Fl.TelemetryString.assertSafeForTelemetry(a):void 0},j)}async function $re(A){let{componentType:e,componentName:t,source:r,category:a}=A,j=await yl();Array.from(j).forEach(n=>{tj("View",{component_type:Fl.TelemetryString.assertSafeForTelemetry(e),component_name:Fl.TelemetryString.assertSafeForTelemetry(t),source:r?Fl.TelemetryString.assertSafeForTelemetry(r):void 0,category:a?Fl.TelemetryString.assertSafeForTelemetry(a):void 0},n.uuid)})}async function Ire(A){let{componentType:e,componentName:t,category:r,source:a}=A,j;try{j=await Cre()}catch{console.error(`Failed to get account uuid to record event: ${a} - aborting`);return}if(!j){console.error(`No account uuid found to record event: ${a} - aborting`);return}tj("Click",{component_type:Fl.TelemetryString.assertSafeForTelemetry(e),component_name:Fl.TelemetryString.assertSafeForTelemetry(t),source:a?Fl.TelemetryString.assertSafeForTelemetry(a):void 0,category:r?Fl.TelemetryString.assertSafeForTelemetry(r):void 0},j)}async function Pre(A){let{componentType:e,componentName:t,category:r,source:a}=A,j=await yl();Array.from(j).forEach(n=>{tj("Click",{component_type:Fl.TelemetryString.assertSafeForTelemetry(e),component_name:Fl.TelemetryString.assertSafeForTelemetry(t),source:a?Fl.TelemetryString.assertSafeForTelemetry(a):void 0,category:r?Fl.TelemetryString.assertSafeForTelemetry(r):void 0},n.uuid)})}async function Sre(A){let{overallStatus:e,overallDuration:t,domScanStatus:r,domScanDuration:a,analyzeFrameStatus:j,analyzeFrameDuration:n,renderMenuStatus:i,renderMenuDuration:o}=A,s=await yl();Array.from(s).forEach(c=>{tj("InlineMenuRender",{overall_status:e,overall_duration_ms:t,dom_scan_status:r,dom_scan_duration_ms:a,analyze_frame_status:j,analyze_frame_duration_ms:n,render_menu_status:i,render_menu_duration_ms:o},c.uuid)})}var Cre=async()=>{let A=await yl();return(A.find(t=>t.type===B5)??A.find(t=>t.type===xF)??A.find(t=>t.type===EF))?.uuid};var Bmt=TA.assertLogSafe("background/inline-handler.ts"),ThA=(A,e)=>{let t=A.name.toLowerCase(),r=e.name.toLowerCase();return t<r?-1:t>r?1:0};function Ore(A,{tab:e,frame:t}){return new Promise(async r=>{let a;A.data.targetParent&&(a=await t.parent());let j=typeof a=="number"?{frameId:a}:{};chrome.tabs.sendMessage(e.id,JSON.parse(A.data.message),j,r)})}async function Tre(A,{tab:e}){let t={type:"targeted-inline-message",data:{message:A.data.message}};_c().sendMessage(e.id,TA.assertLogSafe("inline-menu"),t)}async function _re(){}async function Dre(A,{tab:e}){let t=A.data,r=await FA.analyzePage({unparsedUrl:e.unparsedUrl,title:e.title,frames:[t]},!0,await LT()),a=r.designations.fields[0],j=a?.autofillType??fs.AutofillType.None,n=a?.formDesignation??fs.FormDesignation.None,i=a?.correctAutocompleteOff??!1;return{fieldDesignation:j,formDesignation:n,requiresInteractionForMenu:i,suggestions:r.suggestions}}async function zre(A){qre(A.data)}async function Mre(A){Ire(A.data)}async function Rre(A){$re(A.data)}async function Kre(A){Pre(A.data)}async function Lre(A){Sre(A.data)}async function Nre(A,e){X$("inline")}async function Emt(A){if(A.status!==fs.FillStatus.InProgress||A.postFill?.type!=="submit"||!A.itemUuid)return;let e=A.itemUuid,t=await mn(e);if(t)return t.username?.value}async function Ure(A,{tab:e,frame:t}){let r=Re(),a=await T7(),j=await FA.fillSessionStatus(e),i=(await rA.getFrozenAccountsInfo()).areAllAccountsFrozen,o=P7(),s=t.URL()?.toString(),c=s?await FA.usoUrlToProvider(s):void 0,u=c===fs.UsoProvider.Google?await Emt(j):void 0,p=r.inlineSaveEnabled;return{locked:Pa(),basePath:chrome.runtime.getURL("").replace(/\/$/,"")+"/inline",autoshowMenu:r.inlineShowAutomatically,inlineDisabled:!r.inlineEnabled||es.has(e)||!a,inlineSavingEnabled:p,locale:r.language,fillPendingUserInteraction:j.status===fs.FillStatus.InProgress,canRequestUnlock:await dkA(),appTheme:r.appTheme,numberOfItems:Or()?3:4,usoLoginEnabled:r.socialLoginsEnabled,enabledAutosaveTypes:await wpA(),topFrameNakedDomain:await e.nakedDomain(),areAllAccountsFrozen:i,fillSessionAutosubmitGoogleUsername:u,usoLogonPageProvider:c,unleashFeatures:o,autosaveTotpEnabled:r.autoSaveTotpEnabled}}async function Hre(A,{tab:e}){Wi();let{autofillType:t,suggestions:r}=A.data;return gre(e,t,r)}async function Vre(A,{tab:e}){Wi();let{action:t,fieldDesignation:r,frameIdentifier:a}=A.data.request;await kre(e,a,r,t),z$(A.data.contentScriptMetadata)}async function Xre(){let{language:A,appTheme:e}=Re(),t=await yl(),r=t.find(a=>a.type===B5)??t.find(a=>a.type===xF)??t.find(a=>a.type===EF);if(!r)throw new Error("Unable to open enable Privacy dialog when no accounts are present.");return{appTheme:e,locale:A,response:{type:"Success",data:{suggestedAccountUuid:r.uuid,accounts:t.sort(ThA).map(a=>({uuid:a.uuid,name:a.name,icon:{id:"",sources:[{type:"RichIcon",content:{url:a.avatar,masked:!0}}],shape:fs.IconShape.RoundedRect}}))}}}}async function Wre(A,{tab:e}){if(!A.data)return{error:"FailedToCreateApiKey"};if(!rA.accountIsUnlocked(A.data.accountUuid))return{error:"AccountLocked"};try{await ZUA(e,A.data.accountUuid)}catch{return{error:"FailedToCreateApiKey"}}return $$(e,!0),{error:void 0}}async function Jre(A,{tab:e}){let{language:t,appTheme:r}=Re(),{defaultSuggestedVaultId:a,vaultListElements:j}=await E0(void 0,{includeDontSaveOption:!0}),n=await DNA(),i=await FA.inferBestTitle(e.title,e.unparsedUrl);return{locale:t,response:n.length>0?{type:"Success",data:{suggestedVaultId:a,vaultListElements:j,fundingAccounts:n,defaultCardName:i}}:{type:"Error",data:"UnableToGetFundingAccounts"},appTheme:r}}async function Yre(A,{tab:e}){Wi();let{frameIdentifier:t,vaultId:r}=A.data,a=r.vaultUuid!==MH,[j,n]=rA.defaultSavingLocation(),i=r.accountUuid===_pA?j.uuid:r.accountUuid,o=r.vaultUuid===MH?n.uuid:r.vaultUuid;if(!await mH())return{error:{type:"IntegrationDisabled",content:void 0}};if(rA.allAccountHandlersAreLocked)return{error:{type:"AppLocked",content:void 0}};if(a&&!rA.accountIsUnlocked(r.accountUuid))return{error:{type:"VaultLocked",content:void 0}};let c=await FA.validatePrivacyCardParams(A.data.params);if(c.type!=="Success")return{error:c.content};let{authorized:u}=await T0(e,2);if(!u)return{};let p;if(t)try{p=(await z_(e.id,t))?.URL()?.origin}catch{}let h=await FA.createPrivacyCard({params:A.data.params,tabUrl:e.unparsedUrl,frameUrl:p,itemTemplate:JSON.stringify(await Dc("002")),apiKey:A.data.apiKey,useSandboxApi:mpA()});if(h.type!=="Success")return{error:h.content};let f=F.decode(h.content.item,F.json.pipe($7),{mode:"unsafe_report_only",file:Bmt,func:TA.assertLogSafe("handleFillNewPrivacyCard")}).unwrap(),G=await TNA(f,i,o,a);return G.isErr()?{error:{type:"SaveFailed",content:void 0}}:($$(e,!0),j8(e,G.value,!1,"INLINE",{skipItemUsage:!a}),{})}async function Zre(){Wi();let A=[],[e,t]=await Promise.all([await P$(),yl()]);for(let a of e){if(!a.canCreateVendorCard)continue;let j=t.find(n=>n.uuid===a.accountUuid);j&&A.push(j)}if(A.length===0)return{type:"Error"};A.sort(ThA);let r=F.generateUUID();return{type:"Success",data:{accounts:A.map(a=>({uuid:a.uuid,name:a.name,icon:{id:a.uuid,sources:[{type:"RichIcon",content:{url:a.avatar,masked:!0}}],shape:fs.IconShape.RoundedRect}})),idempotentKey:r}}}async function Qre(A,{tab:e}){Wi();let{accountUuid:t}=A.data,r=(await P$()).find(o=>o.accountUuid===t);if(!r)return console.warn(`Unable to create Brex card as credentials are missing from system vault for account uuid <${t}>`),{type:"Error",data:{type:"UnableToGetToken",data:void 0}};if(!r.canCreateVendorCard)return{type:"Error",data:{type:"IntegrationDisabled",data:void 0}};if(rA.allAccountHandlersAreLocked)return{type:"Error",data:{type:"AppLocked",data:void 0}};if(!A.data.title||!A.data.title.length)return{type:"Error",data:{type:"Validation",data:"TitleRequired"}};if(!A.data.spendLimit)return{type:"Error",data:{type:"Validation",data:"SpendLimitRequired"}};if(!A.data.spendLimitDuration)return{type:"Error",data:{type:"Validation",data:"SpendLimitDurationRequired"}};if(!A.data.lockCardType)return{type:"Error",data:{type:"Validation",data:"LockAfterRequired"}};if(!A.data.reasonForCard||!A.data.reasonForCard.length)return{type:"Error",data:{type:"Validation",data:"ReasonForCardRequired"}};let{authorized:a}=await T0(e,0);if(!a)return{type:"Error",data:{type:"DidNotAcceptFill",data:void 0}};let j=new Date;A.data.lockCardType.type==="seven-days"?j.setDate(j.getDate()+7):A.data.lockCardType.type==="one-month"?j.setMonth(j.getMonth()+1):A.data.lockCardType.type==="one-year"?j.setFullYear(j.getFullYear()+1):A.data.lockCardType.type;let n=await Vd(r.accountUuid,r.accountId,"brex");if(!n)return console.warn("Failed to get token when generating a Brex card"),{type:"Error",data:{type:"UnableToGetToken",data:void 0}};let i=await FHA(Mg(n.context.clientId).type,n.accessToken,r.accountId,A.data.title,A.data.spendLimit,A.data.spendLimitDuration,A.data.reasonForCard,A.data.idempotentKey,A.data.lockCardType.type==="none"?void 0:j.toISOString().split("T")[0]);if(i.isOk()){let o=await HH(r.accountUuid,i.value.cardId);if(!o)return console.error("Unable to find created card"),{type:"Error",data:{type:"UnableToCreateCard",data:void 0}};await j8(e,o,!1,"INLINE",{skipItemUsage:!0})}else if(i.isErr())return console.error(i),{type:"Error",data:{type:"UnableToCreateCard",data:void 0}};return{type:"Success",data:void 0}}async function Aae(){return dkA()}async function eae(){if(Mt.getDesktopAppState().type==="Connected")return Ug();if(Or()){let A=await Wg();if(A.isOk()&&A.value.accountsState.type==="allAccountsUnlockable"&&A.value.biometryType!==fs.BiometryType.None)return Wi(),S0(!0).then(()=>{});Q$()}return BV()?(oJA(),mx()):console.error("Unable to request unlock from Desktop app or popup")}var xmt=new px;async function tae(A){return xmt.push(async()=>{let{status:e,itemUuid:t}=await FA.fillSessionStatus(A);if(e==="inProgress"&&t!==void 0)try{let r=await mn(t);return r?(await j8(A,r,!1,void 0,{preserveSession:!0}),!0):(console.error(`Unable to load item by uuid while trying to resolve pending fill for tab <${A.id}>`),!1)}catch{return console.error(`Unable to fulfill resolve pending fill for tab <${A.id}>`),!1}return!1})}async function rae(A,{tab:e}){OYA(e.id,e.unparsedUrl),WXA(e),CVA(e),await NUA(e),await GNA(e),Ar.anyAccountHasFlag("b5x-watchtower-breach-notification")&&await UYA(e),tae(e)}async function aae(A){return FA.clearFillSession()}async function jae(A,{tab:e}){return await tae(e)}async function nae(A,{tab:e}){let{title:t,context:r,accountVaultUuid:a}=A.data,j=await ChA(r);if(j.type!=="password")return console.error("Invalid SPG response type."),!1;let n;try{n=await Dc(Sl)}catch{return console.error("SSH key item template not available."),!1}let{item:i}=await FA.createSshKeyItem({title:t,unparsedUrl:e.unparsedUrl,template:JSON.stringify(n),privateKey:j.content.password}),o=YE(a.accountUuid,a.vaultUuid,JSON.parse(i));if(o.isOk())try{return await un(o.value,!0,void 0),await j8(e,o.value,!1,"INLINE"),!0}catch(s){return console.error("Error saving item:",s),!1}else return console.error("Problem converting core item to b5 item."),!1}async function iae(){let A=[];for(let e of await yl()){if(e.locked)continue;let t=await BH(e.uuid),r=[];for(let{accountId:a}of t)r.push({id:a});r.length&&A.push({...e,fastmailAccounts:r})}if(A.length===0)return{type:"Error",data:"UnknownError"};if(A.length>1||A[0].fastmailAccounts.length>1){let e=[],t={};for(let[r,a]of A.entries()){let j=!1;for(let n of a.fastmailAccounts)try{if(n.id in t)n.name=t[n.id];else{let i=await Vd(a.uuid,n.id,"fastmail");if(!i)throw new Error("Could not obtain access token.");let o=await FA.getEmailAliasAccountName(i.accessToken,n.id);n.name=o,t[n.id]=o}j=!0}catch{console.error(`Unable to obtain alias account name (accountId: ${n.id})`),fH(a.uuid,n.id,"fastmail")}j||e.push(r)}for(let r of e)A.splice(r,1);if(A.length===0)return{type:"Error",data:"UnknownError"}}return{type:"Success",data:{accounts:A.sort(ThA).map(e=>({uuid:e.uuid,name:e.name,icon:{id:"",sources:[{type:"RichIcon",content:{url:e.avatar,masked:!0}}],shape:fs.IconShape.RoundedRect},emailAliasAccounts:e.fastmailAccounts}))}}}async function oae(A,{tab:e}){let{accountUuid:t,emailAliasAccountId:r}=A.data;try{await Og(e.id,e.unparsedUrl,a=>FA.endEmailAliasSession(e.id,a),()=>FA.endEmailAliasSession(e.id))}catch{}try{return await FA.startEmailAliasSession(e,t,r),{type:"Success",data:void 0}}catch{return{type:"Error",data:"Error occurred starting session."}}}function bmt(A){let e=(0,R0.T)("An error has occurred while generating the Masked Email.");switch(A.type){case"AliasError":switch(A.content){case fs.AliasError.UnverifiedUser:return(0,R0.T)("Your account is unverified. Sign in to Fastmail to verify the selected account.");case fs.AliasError.RateLimit:return(0,R0.T)("You've reached the daily limit for Masked Email creation for the selected account.");case fs.AliasError.OverQuota:return(0,R0.T)("You've reached the maximum Masked Email creation quota for the selected account.");default:return e}case"InvalidSession":case"NakedDomainFailed":default:return e}}async function sae(A,{tab:e}){try{let t=await Og(e.id,e.unparsedUrl,async r=>FA.generateEmailAlias(e,r));return t.type==="Success"?{type:"Success",data:t.data}:{type:"Error",data:bmt(t.data)}}catch{return{type:"Error",data:(0,R0.T)("An error has occurred while generating the Masked Email.")}}}async function lae(A,{tab:e}){try{await Og(e.id,e.unparsedUrl,async t=>FA.endEmailAliasSession(e.id,t),()=>FA.endEmailAliasSession(e.id))}catch{console.error("Could not clean up alias session when cancelled.")}}async function cae(A,{tab:e}){let t=(0,R0.T)("An error occurred while enabling and filling the Masked Email."),r=A.data;if(r){try{if((await Og(e.id,e.unparsedUrl,async n=>FA.enableEmailAliasSession(e,n))).type==="Failure")return{type:"Error",data:t}}catch{return{type:"Error",data:t}}T_(e,r)}else return{type:"Error",data:t};return{type:"Success",data:await T_(e,r)}}var f8=AA(Wr());function uae(){if(!Or())return;let A=console.info.bind(console);console.info=(...n)=>{r({message:_hA(n),level:f8.B5xOpiLogLevel.Info}),A(...n)};let e=console.warn.bind(console);console.warn=(...n)=>{r({message:_hA(n),level:f8.B5xOpiLogLevel.Warn}),e(...n)};let t=console.error.bind(console);console.error=(...n)=>{r({message:_hA(n),level:f8.B5xOpiLogLevel.Error}),t(...n)},uo.subscribe("error",a).subscribe("unhandledrejection",j);function r(n){PZA(n).then(i=>{i.isErr()&&t("Failed to send log to native process")})}function a(n){let i=`Uncaught exception: ${n.message} 		  (${n.filename}:${n.lineno}:${n.colno}).`;r({message:i,level:f8.B5xOpiLogLevel.Exception})}function j(n){let i=`Unhandled Promise Rejection: ${n.reason}`;r({message:i,level:f8.B5xOpiLogLevel.Exception})}}function _hA(A){return A.reduce(function(e,t,r){return r>0?e+" "+t.toString():t.toString()},"")}var dae=()=>{se("settings-account-sign-out",FWA),se("can-user-delete-account",GWA),se("delete-account-permanently",wWA,!0),se("get-account-list",QV,!0),se("get-accounts-and-vaults-configuration",nYA,!0),se("open-account-profile-page",IWA),se("open-default-account-profile-page",PWA),se("update-account-exclusion",bWA),se("verify-account-password",CWA,!0),se("validate-account-password",TJA),se("handle-is-active-account-guest",zJA),se("get-user-name-for-account",CJA),se("redeem-free-family",INA)};var mae=()=>{se("get-activation-hub-tasks",lYA),se("complete-activation-hub-task",cYA),se("open-tutorial-in-new-tab",uYA),se("get-activation-hub-tooltip-status",bJA),se("set-activation-hub-tooltip-status",yJA)};function Fmt(A){try{return A?.useChrome||browser?.runtime===void 0?async e=>pae(e):async e=>browser.runtime.sendMessage(e)}catch{return async t=>pae(t)}}async function kae(A,e){let r=await Fmt(e)(A).catch(a=>{let j=a instanceof Error?a.message:String(a);if(j.includes("Receiving end does not exist"))`${A.name}`;else if(j.includes("The message port closed"))`${A.name}`;else if(!j)`${A.name}`;else throw new Error(`Unhandled error response received for message <${A.name}>`)});if(fBA(r))switch(r.type){case"Success":return r.data;case"Error":throw new Error(r.message??`Error response received for message <${A.name}>`)}if(r)throw new Error(`Unknown response type received for message <${A.name}>`);return r}async function pae(A){return new Promise((e,t)=>{chrome.runtime.sendMessage(A,r=>{if(r?.type==="Success")e(r);else{let a=chrome.runtime.lastError;t(new Error(a?.message))}})})}var jD=AA(Hz()),Gmt="background/offscreen.html",wmt="ignored",qmt=new px,hae=async(A,e,t)=>qmt.push(async()=>{await $mt(e);let r=await kae({name:A,data:t});return await Imt(),r}),gae=async()=>{if(!$j())return!1;let A=await eb(),e=(0,jD.coerce)(A.version),t=(0,jD.coerce)("109.0.0");return!e||!t?!1:(0,jD.gte)(e,t)},$mt=async A=>chrome.offscreen.createDocument({url:Gmt,reasons:A,justification:wmt}),Imt=()=>chrome.offscreen.closeDocument();var zX="migrateStorageTimestamp",Smt="\u{1F5C4} window.localStorage migration",Cmt="The migration will only occur for Manifest V3.",fae="No entries found in window.localStorage to migrate.",Omt="Using the app page to migrate window.localStorage",Tmt="Using offscreen documents to migrate window.localStorage",yx=new Xa(Smt),Bae=async()=>{if(!$j()){yx.info(Cmt);return}let{migrateStorageTimestamp:A}=await browser.storage.local.get(zX);if(typeof A=="string"){yx.info(`Migrated on: ${A}`);return}await gae()?(yx.info(Tmt),hae("GetStorageEntries",["LOCAL_STORAGE"]).then(e=>DhA(e))):(yx.info(Omt),F7A())};async function Eae(A){let[e,t,r,a]=await Promise.all([Re().language,Mt.getDesktopAppState(),t8(),A6()]),j=await yl();return z$(A.data),{accounts:j,brainVersion:"374a996859c8",desktopAppState:t,locale:e,version:r,buildNumber:a}}async function xae(A){G7A(),await DhA(A.data)}async function DhA(A){let e=new Map(A);if(e?.size>0){for(let[t,r]of e)await browser.storage.local.set({[t]:r}),yx.info(`Migrated storage entry: ${t}`);await Ze.reconcileItems(),yx.info(`Migrated ${e.size} entries.`),Ze.setItem(zX,new Date().toString()),browser.runtime.reload()}else Ze.setItem(zX,new Date().toString()),yx.info(fae)}var bae=()=>{se("app-ready",Eae)};var yae=()=>{se("get-initial-benchmark-data",Ete),se("run-benchmark",xte),se("export-benchmark",bte)};var vae=()=>{se("get-biometry-config",Rc.getBiometryConfig),se("set-biometry-config",Rc.setBiometryConfig)};var Fae=AA(Pl()),_mt=7*24*60*60*1e3,Gae="outdated-browser-notice-is-dismissed",wae=()=>{let A=Ro.decode(Ze.getItem(Gae));if((0,Fae.isLeft)(A))return!1;let e=A.right.getTime();return new Date().getTime()-e<_mt},qae=()=>Ze.setItem(Gae,new Date().toISOString());var $ae=()=>{se("get-outdated-browser-notice-is-dismissed",wae),se("set-outdated-browser-notice-is-dismissed",qae)};var Iae=()=>{se("trigger-update-connectivity-status",()=>{Yr&&Yr.updateConnectivityStatusHandler()}),se("attempt-reconnect",hs)};var Pae=()=>{se("reset-database",qWA)};var Sae=()=>{se("get-trusted-device-enrollments",eYA),se("start-trusted-device-enrollment",tYA),se("cancel-trusted-device-enrollment",rYA),se("get-active-device-enrollment",aYA),se("set-active-device-enrollment",jYA)};var Cae=async()=>{if(!G7())return console.warn("Diagnostics logging is not enabled."),!1;let A;try{A=await Hd.getConsoleLogs()}catch{A=[]}try{let e=hte(),t={created_at:Date.now()/1e3,uuid:r$(),system:await kte(),accounts:e,logs:await fX(A),crash_report_entries:[]};n8(gte(),t);for(let r of e)tj("ExportDiagnosticsReport",{report_source:"B5X",export_status:"SUCCESSFUL",browser_console_logs_included:A.length},r.uuid);return!0}catch(e){return ra(e)?(console.error("Error generating diagnostics report:",e),ht(e)):(console.error("Unable to generate diagnostics report"),ht(new fn({errorClass:sA`DiagnosticError`,message:sA`Unable to generate diagnostics report`,severityLevel:"error",stackOverrideError:e}))),!1}};var Oae=()=>{se("generate-diagnostic",Cae)};var Tae=()=>{se("heartbeat",IJA)};var _ae=()=>{se("get-contextual-import-dismiss",uJA),se("set-contextual-import-dismiss",dJA)};var Dae=()=>{se("show-virtual-card-dialog",XJA)};var zae=()=>{se("get-privacy-api-key",BWA),se("set-privacy-api-key",EWA)};var Mae=()=>{se("get-item-list-entries",hJA,!0),se("get-core-item-details",gJA,!0),se("get-categories",GJA),se("create-new-item",MJA),se("autofill-item",FJA),se("get-total-number-of-items",AYA),se("item-detail-value-drag-start",HJA),se("item-detail-value-drag-end",VJA),se("item-action",WJA),se("field-action",JJA),se("get-large-type-with-field-identifier",EJA,!0),se("get-large-type-with-client-formatted-string",BJA,!0),se("delete-password-history",NJA,!0),se("copy-to-clipboard",LJA,!0),se("refresh-totp",ZJA,!0),se("get-should-show-new-item-button",RJA),se("render-markdown",KJA),se("get-custom-icon-url",UJA)};var Rae=()=>{se("can-request-unlock",Aae),se("get-extension-locked",Pa),se("request-managed-unlock",eae),se("lock",$JA),se("unlock-with-biometrics",OJA),se("unlock-with-sso",_JA),se("unlock-with-passkey",DJA)};var Kae=()=>{se("complete-duo-mfa-authentication",QJA)};var Lae=()=>{se("account-must-migrate-auth",oYA),se("any-account-must-migrate-auth",sYA)};var Nae=()=>{se("get-desktop-app-status",iYA),se("open-native-app",Q$)};var Uae=()=>{se("get-active-tab",kJA),se("open-help",PJA),se("open-extension-welcome-page",Jg),se("open-migration-enforcement",qJA),se("open-import-page",T7A),se("open-integrations-page",$WA),se("open-settings",wJA),se("open-tab",$7A),se("open-url",SJA),se("open-popup",mx)};var Hae=()=>{se("notification-action",BYA),se("toast-action",YJA)};var Vae=()=>{se("fill-generated-password",yre),se("copy-and-save-password",Fre),se("get-password-generator",bre,!0)};async function Xae(){let A=await $XA();A.sort((t,r)=>new Date(t.timestamp).getTime()-new Date(r.timestamp).getTime());let e={};for(let t of A){let r=new Date(t.timestamp),a=r.toDateString(),j=r.toLocaleString(void 0,{hour:"numeric",minute:"numeric",hour12:!0}).toUpperCase(),n={itemId:t.itemId,label:t.url?`${j} - ${Dmt(t.url)}`:j,url:t.url,styledValue:zmt(t.password),value:t.password};e[a]?e[a].push(n):e[a]=[n]}return{dates:Object.entries(e).map(([t,r])=>({label:new Date(t).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"}),uuid:globalThis.crypto.getRandomValues(new Uint32Array(1))[0].toString(36),passwords:r.reverse()})).reverse()}}function Dmt(A){let e=Sc(A);return e?e.host:A}function zmt(A){let e=[];for(let t of A){let r=e.length>0?e[e.length-1]:void 0;/^\d$/.test(t)?r?.type==="numericText"?r.content.text+=t:e.push({type:"numericText",content:{text:t}}):/^\s$/.test(t)?r?.type==="plainText"?r.content.text+=" ":e.push({type:"plainText",content:{text:" "}}):/^[\u0021-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u007E]$/.test(t)?r?.type==="punctuationText"?r.content.text+=t:e.push({type:"punctuationText",content:{text:t}}):r?.type==="plainText"?r.content.text+=t:e.push({type:"plainText",content:{text:t}})}return e}var Wae=()=>{se("get-new-password-history",Xae,!0)};var Jae=()=>{se("get-popup-config",vJA),se("popup-ready",pJA),se("set-popup-restore-point",mJA),se("get-popup-restore-point",lJA)};var Yae=()=>{se("get-settings-configuration",hWA),se("update-settings-configuration",gWA),se("toggle-feature",fWA),se("show-app-settings-page",SWA),se("update-shortcut",xWA),se("reset-hide-on-this-page",OWA),se("update-account-and-vault-exclusions",vWA)};var Zae=()=>{se("ssh-onboarding-config",wVA),se("dismiss-ssh-onboarding",GVA),se("on-ssh-onboarding-clicked",qVA)};var Qae=()=>{se("app-storage-migration",xae)};var Aje=()=>{let A=SX();se("send-trace",e=>Lte(e,t=>A.send(t)))};var eje=()=>{se("get-vault-exclusions",IV),se("update-vault-exclusion",yWA)};var tje=()=>{se("handle-watchtower-action",fJA)};var rje="whatsnew-features";async function aje(){let A=Ze.getItem(rje);return[...A?JSON.parse(A):[],"autosave-2024"]}function jje(A){return Ze.setItem(rje,JSON.stringify(A.data))}var nje=()=>{se("get-whatsnew-features",aje),se("set-whatsnew-features",jje)};var ije=A=>{mmA(0,A),dae(),mae(),bae(),yae(),vae(),$ae(),Iae(),Pae(),Sae(),Oae(),Tae(),_ae(),Mae(),Rae(),Kae(),Lae(),Nae(),Uae(),Hae(),Vae(),Wae(),Jae(),Yae(),Zae(),Qae(),Aje(),eje(),tje(),nje(),Dae(),zae()};var Mmt=TA.assertLogSafe("background/save-service-handler.ts");async function oje(A,{tab:e}){let t=e.URL();if(!t||!$g(t.hostname))return;let r=Ke(A.data,Fs.pipe($7),{mode:"unsafe_report_only",file:Mmt,func:TA.assertLogSafe("handleSaveItemRequest")}).unwrap(),a=new ZA.VaultItem(new ZA.Vault({name:"",type:"",desc:""}));if(a.details=r.details,a.overview=r.overview,a.templateUuid=r.templateUuid,!a.templateUuid||a.templateUuid===k5){console.error("Unsupported item type.");return}a.details?.passwordHistory&&(a.details.passwordHistory=[]),Vi(e,a.templateUuid,{name:"item",data:{item:Hs(a),isShellPlugin:!1}})}var sje=[{platformName:"ngrok",urlPattern:/^https:\/\/dashboard.ngrok.com\/api/,credentialName:"API Key",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/ngrok",secrets:{secretInPageDetails:[{fieldLabel:"api key",nodeSelector:"div.ant-modal-body code",toBeConcealed:!0,expectedLength:49}]}},{platformName:"GitHub",urlPattern:/^https:\/\/github.com\/settings\/tokens/,credentialName:"Personal Access Token",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/github",secrets:{secretInPageDetails:[{fieldLabel:"token",nodeSelector:"code#new-oauth-token",toBeConcealed:!0,expectedLength:40,expectedPrefix:"ghp_"}]}},{platformName:"AWS",urlPattern:/^https:\/\/(.*).console.aws.amazon.com\/iam/,credentialName:"Access Key",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/aws",secrets:{secretInPageDetails:[{fieldLabel:"access key id",nodeSelector:"div.create-root-access-key-content td:first-of-type div[class^='awsui_child_']:last-of-type",toBeConcealed:!1,expectedLength:20,expectedPrefix:"AKIA"},{fieldLabel:"secret access key",nodeSelector:"div.create-root-access-key-content td:last-of-type div[class^='awsui_child_']:first-of-type > span",toBeConcealed:!0,expectedLength:40}]}},{platformName:"GitLab",urlPattern:/^https:\/\/gitlab.com\/-\/profile\/personal_access_tokens/,credentialName:"Personal Access Token",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/gitlab",secrets:{baseHtmlNode:"div.content-wrapper",secretInPageDetails:[{fieldLabel:"token",nodeSelector:"button[title='Copy personal access token']",attribute:"data-clipboard-text",toBeConcealed:!0,expectedLength:26,expectedPrefix:"glpat-"}]}},{platformName:"CircleCI",urlPattern:/^https:\/\/app.circleci.com\/settings\/user\/tokens/,credentialName:"Personal API Token",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/circleci",secrets:{secretInPageDetails:[{fieldLabel:"token",nodeSelector:"input[class^='css-']",toBeConcealed:!0,expectedLength:40}]}},{platformName:"DigitalOcean",urlPattern:/^https:\/\/cloud.digitalocean.com\/account\/api\/tokens/,credentialName:"Personal Access Token",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/digitalocean",secrets:{secretInPageDetails:[{fieldLabel:"token",nodeSelector:"tr.copy-token.is-sensitive span.click-to-copy-text",toBeConcealed:!0,expectedLength:71,expectedPrefix:"dop_v1_"}]}},{platformName:"OpenAI",urlPattern:/^https:\/\/platform.openai.com\/account\/api-keys/,credentialName:"API Key",learnMoreUrl:"https://developer.1password.com/docs/cli/shell-plugins/openai",secrets:{secretInPageDetails:[{fieldLabel:"api key",nodeSelector:"div.modal-body input[spellcheck='false']",toBeConcealed:!0,expectedLength:51,expectedPrefix:"sk-"}]}}];var Kmt="shell_plugins_prompts_dismissed",Lmt="shell-plugins-save-in-1password-dismissed",lje="shell-plugins-last-detected-credential";function cje(A){return A?Kmt:Lmt}async function Nmt(A){return(await ir.getBrowserInfo()).osName===Fn.Windows||JSON.parse(Ze.getItem(cje(A))??"false")===!0}function uje(A){Ze.setItem(cje(A.data.isFallBackNotification),JSON.stringify(!0))}async function dje(A){if(await Nmt(A.data.isFallBackNotification))return;let e=await ca(),t=MX(e?.unparsedUrl);if(!t)return;let r=new URL(t.learnMoreUrl);return r.searchParams.append("utm_content",A.data.isFallBackNotification?"fallback_notification":"followup_notification"),r.searchParams.append("utm_source","browser_extension"),r.searchParams.append("utm_campaign","shell_plugins_save_in_1password"),{platformName:t.platformName,credentialName:t.credentialName,operatingSystem:(await ir.getBrowserInfo()).osName,learnMoreUrl:r.toString()}}chrome.tabs.onUpdated.addListener((A,e)=>{let t=e.url;if(!t)return;let a=MX(t)?{name:"shell-plugins-url-detected",data:void 0}:{name:"hide-notification",data:{}};Ka({tabId:A,message:a})});async function mje(A,{tab:e}){let[t,r]=rA.defaultSavingLocation(),a=Bje();if(!a)return;let j=MX(e.unparsedUrl);if(!j)return;let n=Umt(t.uuid,r.uuid,`${j.platformName} ${j.credentialName}`,e.unparsedUrl,a.credentials);await Vi(e,Zc,{name:"item",data:{item:Hs(n),isShellPlugin:!0}})}function Umt(A,e,t,r,a){let j=SYA(A,e,Zc);return j.overview.title=t,r&&(j.overview.url=r,j.overview.URLs=[{l:"website",u:r}]),j.details.sections.push({title:"",name:`Section_${F.generateUUID()}`,fields:[]}),a.forEach(n=>{j.details.sections[0].fields&&j.details.sections[0].fields.push({k:n.toBeConcealed?"concealed":"string",n:F.generateUUID(),v:n.value,t:n.fieldLabel,a:{guarded:"yes"}})}),j}async function pje(A,{tab:e}){await Ka({tabId:e.id,message:{name:"show-notification",data:{type:"shellPlugins"}}})}async function kje(A,{tab:e}){await Ka({tabId:e.id,message:{name:"show-notification",data:{type:"shellPluginsFallback"}}})}async function hje(A,{tab:e}){return MX(e.unparsedUrl)}async function gje(A){return Bje()?.credentials??[]}async function fje(A,e){fa.setItem(lje,JSON.stringify(A.data))}function Bje(){let A=fa.getItem(lje);return A?JSON.parse(A):void 0}function MX(A){if(A)return sje.find(e=>e.urlPattern.test(A))}var Eje=async()=>{await Promise.all([Ze.init(),fa.init()])};async function zhA(){if(_g||await Su,rA.hasAccountHandlers){console.error("1Password icon was clicked before popup is ready. Please click icon again to open.");return}Jg()}var _g=!1,yje,Su=new Promise(A=>yje=A).then(()=>{_g=!0});uo.initialize("error","unhandledrejection",ux,jI,aI,fF,rh,gF,rd,Bo,H6,Vx,Xx,lx);$j()?browser.action.onClicked.addListener(zhA):browser.browserAction.onClicked.addListener(zhA),browser.commands.onCommand.addListener(A=>{z7A(A)&&!Pa()&&(Qo(),globalThis.dispatchEvent(new Event(lx)))}),browser.runtime.onInstalled.addListener(Pp.onInstalled),Or()||B_.setContextMenu(Qo,()=>_H($r),()=>_H(qj),()=>_H(ti),O$,I7A,Pp.onUpdateCheck,v7A,y7A,b7A);uae();async function Vmt(){let A=await ir.getBrowserInfo(),e=A.name==="Firefox"||A.name==="Safari"?"":` (${A.osVersion})`;console.info(`channel: ${tD()}
version: ${t8()}
build: ${A6()} (${A.version})
browser: ${A.name} (${A.version})
os: ${A.osName}${e}`)}async function xje(){await Eje(),await Ar.initializeFeatureFlagsCache(),new A$("b5x-background",SX()),Ze.getItem(TT)==="enabled"&&(Ze.removeItem(TT),XE("db-terminated")),Xi({skipIconUpdate:!0});let{language:A}=await Gte();if(dte(),Hd.initDatabase(),console.group("\u{1F44B} Initializing 1Password"),Vmt(),Eo()&&(yYA(),dre()),await FA.init(A),bje.T.set({locale:A,messages:xX}),!await Ve.initDatabase())throw new Error("Unable to initialize the database.");await fZA();let e=await Ii();F.config.setDevice(e);let t=await Ve.getDatabase().getAllAccounts();rA.setAccountHandlers(t.map(a=>new Vg(a,e))),F.crypto.init();let r=rA.updateAccountHandlers.bind(rA);uo.subscribe(Vx,()=>Qo()).subscribe(aI,GZA).subscribe(jI,r).subscribe(ux,TZA).subscribe(H6,()=>{zu("extension-survey-q4-2024"),Xmt()}),Xi({skipIconUpdate:!0}),HV().catch(()=>{console.error("Error loading Watchtower data")}),await SZA(),await hXA().finally(Xi),await zu("extension-survey-q4-2024"),iJA(),pWA(),QYA(),XYA(),zWA(),ire(),O6.enableInsiderIfAppropriate(),lWA(),CXA(),zUA(),B_.initContextMenu(),es.init(),Bae().catch(()=>{console.error("Unable to migrate storage")}),console.info("\u{1F44D} Finished initializing 1Password"),console.groupEnd(),yje()}async function Xmt(){let A=await P7();Kr("unleash-features-changed",{features:A})}$j()?(async()=>await xje())():globalThis.addEventListener("load",async()=>{await xje()});ije(Su);var xpA={"get-account-list":QV};HT({...xpA,b5Ready:Zte,"open-unlock-account-screen":_7A,"open-swe-native-wrapper":are,"sign-in-succeeded":jre,"b5-session-init":Qte,"b5x-request-session-init":ere,"b5-sso-complete":Are,"b5x-credential-hydration":tre,"share-save-item":oje,"get-build-number":ore,"get-default-account-info":sre,"get-user-devices":dYA,"relay-message-to-frames":Ore,"targeted-message-to-inline-menu":Tre,"analyze-frame":Dre,"refresh-can-request-unlock":Nre,"get-frame-manager-configuration":Ure,"get-inline-suggestions":Hre,"perform-inline-action":Vre,"page-ready":rae,"clear-fill-session":aae,"resolve-pending-fill":jae,"frame-manager-heartbeat":_re,"record-view-event-first-account":zre,"record-click-event-first-account":Mre,"record-view-event-all-accounts":Rre,"record-click-event-all-accounts":Kre,"record-inline-menu-render-event-all-accounts":Lre,"get-app-configuration":QUA,"close-save-dialog":AHA,"get-ssh-create-dialog-configuration":tHA,"generate-and-fill-ssh-key":nae,"save-dialog-configuration":hUA,"save-dialog-edit-item":xUA,"save-dialog-new-item-view":fUA,"save-dialog-update-item-view":BUA,"save-dialog-vault-selector":EUA,"save-dialog-edit-item-filter":yUA,"open-support-link":bUA,"add-save-object":$hA().handleAddSaveObject,"get-save-object-public-key":$hA().handleGetSaveObjectPublicKey,"enable-privacy-integration":Wre,"get-privacy-enable-dialog-configuration":Xre,"get-privacy-create-dialog-configuration":Jre,"fill-new-privacy-card":Yre,"get-email-alias-dialog-configuration":iae,"start-email-alias-session":oae,"generate-email-alias":sae,"cancel-email-alias-session":lae,"fill-new-email-alias":cae,"get-brex-dialog-configuration":Zre,"fill-new-brex-card":Qre,"open-settings-page":O$,"open-extension-welcome-page-for-onboarding":q7A,"uso-save-configuration":nWA,"uso-complete-session":iWA,"uso-cancel-session":oWA,"uso-prompt-configuration":AWA,"uso-click-provider":jWA,"uso-context-account":eWA,"uso-collect-buttons":QXA,"uso-devtools-display-buttons-data":ZXA,"autosave-capture":MUA,"autosave-submission":RUA,"autosave-qr-code-detected":KUA,"autosubmit-notification-clear":opA,"on-ssh-key-created":$VA,"ssh-next-steps-notification-config":IVA,"on-ssh-next-steps-confirm":PVA,"ssh-focus-public-key-field":SVA,"shell-plugins-notification-config":dje,"shell-plugins-dismiss-notifications":uje,"shell-plugins-save-in-1password-notification":pje,"shell-plugins-fallback-notification":kje,"shell-plugins-site-config":hje,"shell-plugins-item-saving-prompt":mje,"shell-plugins-get-last-detected-credentials":gje,"shell-plugins-set-last-detected-credentials":fje,"create-credential":lXA,"get-credential":mXA,"should-intercept-webauthn-request":kXA,"feature-is-enabled":lre,"get-features":cre,"report-error":ure,"complete-tutorial-activation-hub-task":MWA,"watchtower-change-password":YYA});globalThis.bg={enableInsiders:O6.enableInsiderDev};export{xpA as b5xHandlers,Vmt as initBuildInfo,_g as initializationHasFinished,Su as initializeFinishedPromise};

//# debugId=db9f5c64-956d-5763-aac1-78e39db931a6

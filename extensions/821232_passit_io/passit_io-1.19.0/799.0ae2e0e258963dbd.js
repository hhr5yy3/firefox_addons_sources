"use strict";(self.webpackChunkpassit=self.webpackChunkpassit||[]).push([[799],{24799:(gt,f,r)=>{r.r(f),r.d(f,{COMPONENTS:()=>st,OrganizationsModule:()=>ct});var d=r(36895),o=r(70430),g=r(31331),c=r(36896),_=r(96298),C=r(33126),x=r(81869),L=r(7185);const w=(0,o.PH)("Organizations] Get Organizations"),v=(0,o.PH)("[Organization List/API] Retrieve Organizations Success",(0,o.Ky)()),b=(0,o.PH)("[Organization] Show Create Organization"),P=(0,o.PH)("[Organization] Hide Create Organization"),M=(0,o.PH)("[Organization Create/API] Create Organization"),m=(0,o.PH)("[Organization Create/API] Create Organization Success",(0,o.Ky)()),h=(0,o.PH)("[Organization] Set Active Organization",(0,o.Ky)()),O={newOrganizationForm:(0,c.j6)("New Organization",{name:""}),editOrganizationForm:(0,c.j6)("Edit Organization",{name:""}),organizations:[],activeOrganizationID:null,firstTimeLoadingComplete:!1,showCreate:!1},k=(0,o.Lq)(O,(0,c.c_)(),(0,o.on)(v,(n,{organizations:a})=>({...n,organizations:a,activeOrganizationID:a.length&&!n.firstTimeLoadingComplete?a[0].id:n.activeOrganizationID,firstTimeLoadingComplete:!0})),(0,o.on)(b,n=>({...n,showCreate:!0})),(0,o.on)(P,n=>({...n,showCreate:!1,newOrganizationForm:O.newOrganizationForm})),(0,o.on)(m,(n,{organization:a})=>({...n,showCreate:!1,activeOrganizationID:a.id,editOrganizationForm:(0,c.sO)(n.editOrganizationForm,{name:a.name}),newOrganizationForm:O.newOrganizationForm})),(0,o.on)(h,(n,{organizationID:a})=>({...n,editOrganizationForm:(0,c.sO)(n.editOrganizationForm,{name:n.organizations.find(i=>i.id===a)?.name||""}),activeOrganizationID:a,showCreate:!1}))),l=(0,o.ZF)("organizations"),y=(0,o.P1)(l,n=>n.newOrganizationForm),E=(0,o.P1)(l,n=>n.editOrganizationForm),u=(0,o.P1)(l,n=>n.organizations),Q=(0,o.P1)(u,n=>n.map(a=>({value:a.id.toString(),label:a.name}))),G=(0,o.P1)(l,n=>n.firstTimeLoadingComplete),R=(0,o.P1)(l,n=>n.showCreate),H=(0,o.P1)(l,n=>n.firstTimeLoadingComplete&&!n.showCreate&&0===n.organizations.length),F=(0,o.P1)(l,n=>n.activeOrganizationID),j=(0,o.P1)(F,u,(n,a)=>a.find(i=>i.id===n));var t=r(94650),S=r(19679);let A=(()=>{class n{constructor(){this.onSubmit=new t.vpe,this.onCancel=new t.vpe}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-organization"]],inputs:{form:"form"},outputs:{onSubmit:"onSubmit",onCancel:"onCancel"},decls:10,vars:3,consts:[["novalidate","",3,"ngrxFormState","submit"],["label","Name",3,"ngrxFormControl","isFormSubmitted"],["type","button",1,"button","button--text","button--text-danger",3,"click"],["type","submit",1,"button","button--primary","group-form__save-btn"]],template:function(i,e){1&i&&(t.TgZ(0,"div")(1,"h1"),t._uU(2,"Create Organization"),t.qZA(),t.TgZ(3,"form",0),t.NdJ("submit",function(){return e.onSubmit.emit()}),t._UZ(4,"app-text-field",1),t.TgZ(5,"div")(6,"button",2),t.NdJ("click",function(){return e.onCancel.emit()}),t._uU(7," Cancel "),t.qZA(),t.TgZ(8,"button",3),t._uU(9," Save Organization "),t.qZA()()()()),2&i&&(t.xp6(3),t.Q6J("ngrxFormState",e.form),t.xp6(1),t.Q6J("ngrxFormControl",e.form.controls.name)("isFormSubmitted",e.form.isSubmitted))},dependencies:[S.a,c.Wz,c.I_],encapsulation:2,changeDetection:0}),n})(),N=(()=>{class n{constructor(){this.onSubmit=new t.vpe}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organization-detail"]],inputs:{form:"form"},outputs:{onSubmit:"onSubmit"},decls:4,vars:3,consts:[["novalidate","",3,"ngrxFormState","submit"],["label","Name",3,"ngrxFormControl","isFormSubmitted"],["type","submit",1,"button","button--primary","group-form__save-btn"]],template:function(i,e){1&i&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return e.onSubmit.emit()}),t._UZ(1,"app-text-field",1),t.TgZ(2,"button",2),t._uU(3," Save Organization "),t.qZA()()),2&i&&(t.Q6J("ngrxFormState",e.form),t.xp6(1),t.Q6J("ngrxFormControl",e.form.controls.name)("isFormSubmitted",e.form.isSubmitted))},dependencies:[S.a,c.Wz,c.I_],encapsulation:2,changeDetection:0}),n})();const K=["activeOrganizationSelect"];function W(n,a){1&n&&(t.TgZ(0,"div",9)(1,"div",10)(2,"h2",11),t._uU(3,"Organizations let you control access."),t.qZA(),t.TgZ(4,"p",12),t._uU(5," Organizations are a paid feature that allows for looking up contacts, restricting access, and enforce policies. "),t.qZA()()())}function X(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"div"),t._uU(1),t.TgZ(2,"ng-select",13,14),t.NdJ("selected",function(s){t.CHM(i);const p=t.oxw();return t.KtG(p.selectActiveOrganization(s))}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(1),t.hij(" ",i.activeOrganizationID," "),t.xp6(1),t.Q6J("options",i.organizationOptions)}}function B(n,a){if(1&n){const i=t.EpF();t.TgZ(0,"app-new-organization",15),t.NdJ("onSubmit",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.createOrganization.emit())})("onCancel",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.cancelNew.emit())}),t.qZA()}if(2&n){const i=t.oxw();t.Q6J("form",i.newForm)}}function V(n,a){if(1&n&&(t.TgZ(0,"div")(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"app-organization-detail",16),t.qZA()),2&n){const i=t.oxw();t.xp6(2),t.hij(" ",i.activeOrganization.name," "),t.xp6(1),t.Q6J("form",i.editForm)}}let T=(()=>{class n{constructor(){this.addNew=new t.vpe,this.cancelNew=new t.vpe,this.createOrganization=new t.vpe,this.setActiveOrganization=new t.vpe}set activeOrganizationID(i){i&&this.activeOrganizationSelect&&this.activeOrganizationSelect.select(i.toString())}selectActiveOrganization(i){this.setActiveOrganization.emit(parseInt(i.value,10))}}return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organizations"]],viewQuery:function(i,e){if(1&i&&t.Gf(K,5),2&i){let s;t.iGM(s=t.CRH())&&(e.activeOrganizationSelect=s.first)}},inputs:{newForm:"newForm",editForm:"editForm",loadingComplete:"loadingComplete",organizations:"organizations",activeOrganization:"activeOrganization",organizationOptions:"organizationOptions",showCreate:"showCreate",showOnboarding:"showOnboarding",activeOrganizationID:"activeOrganizationID"},outputs:{addNew:"addNew",cancelNew:"cancelNew",createOrganization:"createOrganization",setActiveOrganization:"setActiveOrganization"},decls:12,vars:5,consts:[[1,"l-container"],[1,"list-actions"],[1,"list-actions__actions"],["id","showAddOrganizationform","type","button",1,"button","button--gray",3,"click"],[1,"button__icon",3,"inlineSVG"],[1,"u-hidden--all-but-xl"],["class","l-container list-empty-state",4,"ngIf"],[4,"ngIf"],[3,"form","onSubmit","onCancel",4,"ngIf"],[1,"l-container","list-empty-state"],[1,"list-empty-state__copy"],[1,"heading-medium"],[1,"text--large"],["noFilter","5",3,"options","selected"],["activeOrganizationSelect",""],[3,"form","onSubmit","onCancel"],[3,"form"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return e.addNew.emit()}),t._UZ(4,"div",4),t._uU(5," Add New "),t.TgZ(6,"span",5),t._uU(7,"Organization"),t.qZA()()()(),t.YNc(8,W,6,0,"div",6),t.YNc(9,X,4,2,"div",7),t.YNc(10,B,1,1,"app-new-organization",8),t.YNc(11,V,4,2,"div",7),t.qZA()),2&i&&(t.xp6(4),t.Q6J("inlineSVG","../assets/svg/plus.svg"),t.xp6(4),t.Q6J("ngIf",e.showOnboarding),t.xp6(1),t.Q6J("ngIf",!e.showOnboarding&&!e.showCreate),t.xp6(1),t.Q6J("ngIf",e.showCreate),t.xp6(1),t.Q6J("ngIf",!e.showCreate&&e.activeOrganization))},dependencies:[d.O5,C.Hr,_.d$,A,N],styles:['@keyframes pulse{0%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}75%{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}87%{box-shadow:0 9px 6px 2px #00000026,inset 0 0 0 4px #d3f6ff;border-color:#d3f6ff;transform:translateY(-3px)}to{box-shadow:0 6px 3px #0003,inset 0 0 #d3f6ff;border-color:#bed2d2;transform:translateY(0)}}@keyframes pulse-after{0%{background-color:#0092a8;transform:scale(1)}75%{background-color:#0092a8;transform:scale(1)}87%{background-color:#006675;transform:scaleY(1.75)}to{background-color:#0092a8;transform:scale(1)}}@keyframes firefox-has-a-bug{0%{background-color:#ccc;transform:scale(1)}to{background-color:#ccc;transform:scale(1)}}.list-actions[_ngcontent-%COMP%]{max-width:960px;margin-left:auto;margin-right:auto;display:flex;justify-content:flex-end;z-index:1}.list-actions[_ngcontent-%COMP%]:after{content:" ";display:block;clear:both}@media (min-width: 0) and (max-width: 979px){.list-actions[_ngcontent-%COMP%]{padding:0 15px}}.list-actions__search[_ngcontent-%COMP%]{flex:1;margin-right:15px}@media (min-width: 0) and (max-width: 500px){.list-actions__search[_ngcontent-%COMP%]{margin-right:10px}}.list-actions__select[_ngcontent-%COMP%]{position:relative}.list-actions__select-reset[_ngcontent-%COMP%]{position:absolute;top:51%;right:30px;padding:6px 5px 0;color:#0092a8;font-size:21px;transform:translateY(-50%);z-index:16}.list-actions__actions[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.list-actions__button--not-animated[_ngcontent-%COMP%]{animation:none}.list-actions__button--not-animated[_ngcontent-%COMP%]:after{animation:firefox-has-a-bug 5s infinite}.list-actions__button--not-animated[_ngcontent-%COMP%]:hover:after{animation:none}.list-actions__button--animated[_ngcontent-%COMP%]{margin-top:-4px;animation:pulse 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:after{animation:pulse-after 5s infinite}.list-actions__button--animated[_ngcontent-%COMP%]:hover{animation:initial}.list-actions__button--animated[_ngcontent-%COMP%]:hover:after{animation:initial}.list-actions__import-link[_ngcontent-%COMP%]{margin-top:10px;font-size:14px}@media (min-width: 0) and (max-width: 500px){.list-actions__import-link[_ngcontent-%COMP%]{display:none}}.list-empty-state[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:30px}@media (min-width: 0) and (max-width: 500px){.list-empty-state[_ngcontent-%COMP%]{text-align:center;padding-top:40px}}.list-empty-state__copy[_ngcontent-%COMP%]{width:74.5762711864%;float:left;margin-right:1.6949152542%}@media (min-width: 0) and (max-width: 767px){.list-empty-state__copy[_ngcontent-%COMP%]{width:100%;float:left;margin-left:0;margin-right:0}}@keyframes shine{0%{left:0}50%{left:100%}51%{left:-40vh}}.list-placeholders[_ngcontent-%COMP%]{margin:-20px auto 0;z-index:-1;width:100%;overflow:hidden;position:relative;height:40vh}.list-placeholders--empty[_ngcontent-%COMP%]{height:50vh}.list-placeholders--empty[_ngcontent-%COMP%]   .list-placeholder[_ngcontent-%COMP%]:first-child{margin-top:0}.list-placeholders--loading[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;width:50vh;background-image:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.8),transparent 100%);z-index:1;animation:shine 2s linear infinite}.list-placeholders[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:300px;background-image:linear-gradient(0deg,white 0%,rgba(255,255,255,0) 100%)}.list-placeholder[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #DDEEF0;border-bottom:1px solid #DDEEF0}@media (min-width: 0) and (max-width: 979px){.list-placeholder[_ngcontent-%COMP%]{padding:0 15px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:300px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(2n+2)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:175px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:250px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(3n+3)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:125px}}.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:275px}@media (min-width: 0) and (max-width: 500px){.list-placeholder[_ngcontent-%COMP%]:nth-child(4n+4)   .list-placeholder__text--title[_ngcontent-%COMP%]{width:150px}}.list-placeholder__heading[_ngcontent-%COMP%]{display:block;position:relative;max-width:960px;margin:0 auto}.list-placeholder__title[_ngcontent-%COMP%]{margin:2px 0 0;padding:15px 0;font-size:20px;font-weight:600}.list-placeholder__button[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;cursor:default;box-shadow:0 6px 3px #0000001a,inset 0 0 #eefaff}.list-placeholder__text[_ngcontent-%COMP%]{display:inline-block;width:200px;height:9px;background-color:#d0e6e6}@media (min-width: 0) and (max-width: 500px){.list-placeholder__text[_ngcontent-%COMP%]{width:100px}}.list-placeholder__text--button[_ngcontent-%COMP%]{width:60px}.secret-list[_ngcontent-%COMP%]{margin:20px auto}.secret-list-item[_ngcontent-%COMP%]{display:block;position:relative;margin-top:-1px;padding-top:0;border-top:1px solid #D0E6E6;border-bottom:1px solid #D0E6E6;box-shadow:inset 0 0 #41374133,inset 0 0 #41374133;transition:padding .5s,background-color .125s,box-shadow .5s}.secret-list-item[_ngcontent-%COMP%]:hover{background-color:#f0fdfc}.secret-list-item--is-active[_ngcontent-%COMP%]{border:0;padding:15px 0 75px;background-color:#f4fcf7;box-shadow:inset 0 7px 8px -7px #41374133,inset 0 -7px 8px -7px #41374133;z-index:10}.secret-list-item--is-active[_ngcontent-%COMP%]:hover{background-color:#f4fcf7}.secret-list-item--add-form[_ngcontent-%COMP%]{margin-bottom:-20px}.secret-form-component[_ngcontent-%COMP%]{display:block;height:0;opacity:0;transform:translateY(-40px);transition:transform .5s,opacity .5s}.secret-form-component--is-active[_ngcontent-%COMP%]{height:auto;margin-bottom:-75px;opacity:1;transform:translateY(0);z-index:10}']}),n})(),Z=(()=>{class n extends L.C{constructor(i){super(i),this.newForm$=this.store.pipe((0,o.Ys)(y)),this.editForm$=this.store.pipe((0,o.Ys)(E)),this.loadingComplete$=this.store.pipe((0,o.Ys)(G)),this.organizations$=this.store.pipe((0,o.Ys)(u)),this.organizationOptions$=this.store.pipe((0,o.Ys)(Q)),this.showCreate$=this.store.pipe((0,o.Ys)(R)),this.showOnboarding$=this.store.pipe((0,o.Ys)(H)),this.activeOrganizationID$=this.store.pipe((0,o.Ys)(F)),this.activeOrganization$=this.store.pipe((0,o.Ys)(j))}ngOnInit(){super.ngOnInit(),this.store.dispatch(w())}showCreate(){this.store.dispatch(b())}hideCreate(){this.store.dispatch(P())}createOrganization(){this.store.dispatch(M())}setActiveOrganization(i){this.store.dispatch(h({organizationID:i}))}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(o.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t.qOj],decls:10,vars:27,consts:[[3,"newForm","editForm","loadingComplete","organizations","activeOrganization","activeOrganizationID","organizationOptions","showCreate","showOnboarding","addNew","cancelNew","createOrganization","setActiveOrganization"]],template:function(i,e){1&i&&(t.TgZ(0,"app-organizations",0),t.NdJ("addNew",function(){return e.showCreate()})("cancelNew",function(){return e.hideCreate()})("createOrganization",function(){return e.createOrganization()})("setActiveOrganization",function(p){return e.setActiveOrganization(p)}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.ALo(4,"async"),t.ALo(5,"async"),t.ALo(6,"async"),t.ALo(7,"async"),t.ALo(8,"async"),t.ALo(9,"async"),t.qZA()),2&i&&t.Q6J("newForm",t.lcZ(1,9,e.newForm$))("editForm",t.lcZ(2,11,e.editForm$))("loadingComplete",t.lcZ(3,13,e.loadingComplete$))("organizations",t.lcZ(4,15,e.organizations$))("activeOrganization",t.lcZ(5,17,e.activeOrganization$))("activeOrganizationID",t.lcZ(6,19,e.activeOrganizationID$))("organizationOptions",t.lcZ(7,21,e.organizationOptions$))("showCreate",t.lcZ(8,23,e.showCreate$))("showOnboarding",t.lcZ(9,25,e.showOnboarding$))},dependencies:[T,d.Ov],encapsulation:2}),n})();const q=[{path:"",component:Z}];let tt=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.Bz.forChild(q),x.Bz]}),n})();var nt=r(75349),it=r(11365),I=r(36129),D=r(54004),et=r(38249),ot=r(80529);let at=(()=>{class n{constructor(i){this.http=i,this.baseURL=et.T5+"organizations/"}createOrganization(i){return this.http.post(this.baseURL,i)}listOrganizations(){return this.http.get(this.baseURL)}updateOrganization(i,e){return this.http.put(this.detailURL(i),e)}deleteOrganization(i){return this.http.delete(this.detailURL(i))}detailURL(i){return`${this.baseURL}${i}/`}}return n.\u0275fac=function(i){return new(i||n)(t.LFG(ot.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n{constructor(i,e,s){this.actions$=i,this.store=e,this.organizationsService=s,this.createOrganization$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(M),(0,it.M)(this.store.pipe((0,o.Ys)(y))),(0,I.z)(([p,z])=>this.organizationsService.createOrganization({name:z.value.name}).pipe((0,D.U)(lt=>m({organization:lt})))))),this.loadOrganizations$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(w,m,h),(0,I.z)(p=>this.organizationsService.listOrganizations().pipe((0,D.U)(z=>v({organizations:z}))))))}}return n.\u0275fac=function(i){return new(i||n)(t.LFG(g.eX),t.LFG(o.yh),t.LFG(at))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const st=[T,Z,A,N];let ct=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,nt.m,tt,c.j9,C.An,_.vi,o.Aw.forFeature("organizations",k),g.sQ.forFeature([rt])]}),n})()}}]);
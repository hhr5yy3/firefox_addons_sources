"use strict";(globalThis.webpackChunkcsgotrader_app_extension=globalThis.webpackChunkcsgotrader_app_extension||[]).push([[99],{7475:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(7294);const a=({id:e,checked:t,onChange:o})=>n.createElement("div",{className:"flipswitch"},n.createElement("label",{className:"switch"},n.createElement("input",{type:"checkbox",id:e,checked:t,onChange:o}),n.createElement("span",{className:"slider round"})))},3006:(e,t,o)=>{o.d(t,{Z:()=>I});var n,a=o(7294),s=o(4036),r=o.n(s),i=o(9351),c=o(3004),l=o(7216),d=o(99);function u(e){if((!n&&0!==n||e)&&c.Z){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return n}var m=o(6895),g=o(5654);function f(e){var t,o,n=(t=e,(o=(0,a.useRef)(t)).current=t,o);(0,a.useEffect)((function(){return function(){return n.current()}}),[])}var p=o(6914),h=o(3393),b=o(1645),y=o(1068),N=o(4680);const v=(0,N.Z)("modal-body");var w=o(6467),E=o(6792),x=o(5893);const O=a.forwardRef((({bsPrefix:e,className:t,contentClassName:o,centered:n,size:a,fullscreen:s,children:i,scrollable:c,...l},d)=>{const u=`${e=(0,E.vE)(e,"modal")}-dialog`,m="string"==typeof s?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return(0,x.jsx)("div",{...l,ref:d,className:r()(u,t,a&&`${e}-${a}`,n&&`${u}-centered`,c&&`${u}-scrollable`,s&&m),children:(0,x.jsx)("div",{className:r()(`${e}-content`,o),children:i})})}));O.displayName="ModalDialog";const k=O,S=(0,N.Z)("modal-footer");var D=o(2655);const T=a.forwardRef((({bsPrefix:e,className:t,...o},n)=>(e=(0,E.vE)(e,"modal-header"),(0,x.jsx)(D.Z,{ref:n,...o,className:r()(t,e)}))));T.displayName="ModalHeader",T.defaultProps={closeLabel:"Close",closeButton:!1};const C=T;const Z=(0,o(9602).Z)("h4"),R=(0,N.Z)("modal-title",{Component:Z}),$={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:k};function F(e){return(0,x.jsx)(y.Z,{...e,timeout:null})}function A(e){return(0,x.jsx)(y.Z,{...e,timeout:null})}const P=a.forwardRef((({bsPrefix:e,className:t,style:o,dialogClassName:n,contentClassName:s,children:y,dialogAs:N,"aria-labelledby":v,show:O,animation:k,backdrop:S,keyboard:D,onEscapeKeyDown:T,onShow:C,onHide:Z,container:R,autoFocus:$,enforceFocus:P,restoreFocus:_,restoreFocusOptions:H,onEntered:j,onExit:L,onExiting:B,onEnter:I,onEntering:M,onExited:U,backdropClassName:z,manager:K,...W},q)=>{const[V,Y]=(0,a.useState)({}),[J,G]=(0,a.useState)(!1),Q=(0,a.useRef)(!1),X=(0,a.useRef)(!1),ee=(0,a.useRef)(null),[te,oe]=(0,a.useState)(null),ne=(0,g.Z)(q,oe),ae=(0,m.Z)(Z),se=(0,E.SC)();e=(0,E.vE)(e,"modal");const re=(0,a.useMemo)((()=>({onHide:ae})),[ae]);function ie(){return K||(0,b.t)({isRTL:se})}function ce(e){if(!c.Z)return;const t=ie().getScrollbarWidth()>0,o=e.scrollHeight>(0,l.Z)(e).documentElement.clientHeight;Y({paddingRight:t&&!o?u():void 0,paddingLeft:!t&&o?u():void 0})}const le=(0,m.Z)((()=>{te&&ce(te.dialog)}));f((()=>{(0,d.Z)(window,"resize",le),null==ee.current||ee.current()}));const de=()=>{Q.current=!0},ue=e=>{Q.current&&te&&e.target===te.dialog&&(X.current=!0),Q.current=!1},me=()=>{G(!0),ee.current=(0,p.Z)(te.dialog,(()=>{G(!1)}))},ge=e=>{"static"!==S?X.current||e.target!==e.currentTarget?X.current=!1:null==Z||Z():(e=>{e.target===e.currentTarget&&me()})(e)},fe=(0,a.useCallback)((t=>(0,x.jsx)("div",{...t,className:r()(`${e}-backdrop`,z,!k&&"show")})),[k,z,e]),pe={...o,...V};k||(pe.display="block");return(0,x.jsx)(w.Z.Provider,{value:re,children:(0,x.jsx)(h.Z,{show:O,ref:ne,backdrop:S,container:R,keyboard:!0,autoFocus:$,enforceFocus:P,restoreFocus:_,restoreFocusOptions:H,onEscapeKeyDown:e=>{D||"static"!==S?D&&T&&T(e):(e.preventDefault(),me())},onShow:C,onHide:Z,onEnter:(e,t)=>{e&&(e.style.display="block",ce(e)),null==I||I(e,t)},onEntering:(e,t)=>{null==M||M(e,t),(0,i.ZP)(window,"resize",le)},onEntered:j,onExit:e=>{null==ee.current||ee.current(),null==L||L(e)},onExiting:B,onExited:e=>{e&&(e.style.display=""),null==U||U(e),(0,d.Z)(window,"resize",le)},manager:ie(),transition:k?F:void 0,backdropTransition:k?A:void 0,renderBackdrop:fe,renderDialog:o=>(0,x.jsx)("div",{role:"dialog",...o,style:pe,className:r()(t,e,J&&`${e}-static`),onClick:S?ge:void 0,onMouseUp:ue,"aria-labelledby":v,children:(0,x.jsx)(N,{...W,onMouseDown:de,className:n,contentClassName:s,children:y})})})})}));P.displayName="Modal",P.defaultProps=$;const _=Object.assign(P,{Body:v,Header:C,Title:R,Footer:S,Dialog:k,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var H=o(861);const j=a.forwardRef((({as:e,bsPrefix:t,variant:o,size:n,active:a,className:s,...i},c)=>{const l=(0,E.vE)(t,"btn"),[d,{tagName:u}]=(0,H.FT)({tagName:e,...i}),m=u;return(0,x.jsx)(m,{...i,...d,ref:c,className:r()(s,l,a&&"active",o&&`${l}-${o}`,n&&`${l}-${n}`,i.href&&i.disabled&&"disabled")})}));j.displayName="Button",j.defaultProps={variant:"primary",active:!1,disabled:!1};const L=j;var B=o(1650);const I=({modalTitle:e,opener:t,validator:o,children:n})=>{const[s,r]=(0,a.useState)(!1),i=()=>r(!1);return a.createElement(a.Fragment,null,a.createElement(B.Z,{action:()=>r(!0),className:"openModal"},t),a.createElement(_,{show:s,onHide:i},a.createElement(_.Header,{closeButton:!0},a.createElement(_.Title,null,e)),n&&a.createElement(_.Body,null,n),a.createElement(_.Footer,null,a.createElement(L,{className:"button button__cancel",onClick:i},"Close"),a.createElement(L,{className:"button button__save",onClick:()=>{o(i)}},"Save Changes"))))}},1425:(e,t,o)=>{o.d(t,{OE:()=>r,Sn:()=>s,fo:()=>c,s_:()=>i});var n=o(886),a=o(4227);const s=(e,t,o,n)=>{let a=0;"minutes"===t?a=60:"hours"===t&&(a=3600),"before"===n&&(a*=-1);const s=o*a;return new Date(1e3*(parseInt((new Date(e).getTime()/1e3).toFixed(0))+s))},r=(e,t)=>{const o=parseInt(new Date(t).getTime()/1e3).toFixed(0)-parseInt(new Date(e).getTime()/1e3).toFixed(0),n=Math.abs(o);return{numberOfMinutesOrHours:n/60>=60?n/60/60:n/60,minutesOrHours:n/60>=60?"hours":"minutes",beforeOrAfter:o>=0?"after":"before"}},i=()=>{chrome.storage.local.get(["notificationSoundOn","notificationSoundToPlay","notificationVolume","customNotificationURL"],(({notificationSoundOn:e,notificationSoundToPlay:t,notificationVolume:o,customNotificationURL:s})=>{if(e){const e=o/100;t===n.u.custom.key?(0,a.Sk)(s,"remote",e):(0,a.Sk)(`sounds/notification/${t}.mp3`,"local",e)}}))},c=e=>{e?chrome.storage.local.get(["logOutDetected","lastLogoutNotified","notifyAboutBeingLoggedOut","notifyAboutBeingLoggedOutOnDiscord","nickNameOfUser"],(({logOutDetected:e,lastLogoutNotified:t,notifyAboutBeingLoggedOut:o,notifyAboutBeingLoggedOutOnDiscord:n,nickNameOfUser:a})=>{if(chrome.storage.local.set({logOutDetected:!0},(()=>{})),e||(console.log("Session expired? Attempting to refresh a Steam page or open the Steam trade offers page to get a new session."),chrome.permissions.contains({permissions:["tabs"]},(e=>{e&&chrome.tabs.query({url:"https://steamcommunity.com/*"},(e=>{0!==e.length?chrome.tabs.reload(e[0].id,{},(()=>{})):chrome.tabs.create({url:"https://steamcommunity.com/my/tradeoffers?csgotrader_close=true"})}))}))),e&&Date.now()-t>36e5){chrome.storage.local.set({lastLogoutNotified:Date.now()},(()=>{}));const e="You are not signed in on Steam!",t=`Hi, ${a}! You set to be notified if the extension detects that you are not logged in.`;if(o&&chrome.notifications.create("loggedOutOfSteam",{type:"basic",iconUrl:"/images/cstlogo128.png",title:e,message:t},(()=>{i()})),n){(e=>{chrome.storage.local.get(["allowDiscordNotification","discordNotificationHook"],(({allowDiscordNotification:t,discordNotificationHook:o})=>{if(t&&""!==o){const t=new Request(o,{method:"POST",body:JSON.stringify({embeds:[e],username:"CS2TRADER.APP",avatar_url:"https://csgotrader.app/cstlogo48.png"}),headers:{"Content-Type":"application/json"}});fetch(t).then((e=>{e.ok||console.log(`Error code: ${e.status} Status: ${e.statusText}`)})).catch((e=>{console.log(e)}))}}))})({footer:{text:"CS2 Trader",icon_url:"https://csgotrader.app/cstlogo48.png"},title:e,description:t,color:16747520,fields:[],timestamp:new Date(Date.now()).toISOString(),type:"rich"})}}})):chrome.storage.local.set({logOutDetected:!1},(()=>{}))}}}]);
//# sourceMappingURL=99.bundle.js.map
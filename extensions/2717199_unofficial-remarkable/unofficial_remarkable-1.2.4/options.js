(()=>{"use strict";var e={6124:function(e,n){var t,o=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))((function(i,r){function l(e){try{a(o.next(e))}catch(e){r(e)}}function c(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){e.done?i(e.value):new t((function(n){n(e.value)})).then(l,c)}a((o=o.apply(e,n||[])).next())}))},i=this&&this.__generator||function(e,n){var t,o,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(r){return function(c){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,o=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((i=(i=l.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){l.label=r[1];break}if(6===r[0]&&l.label<i[1]){l.label=i[1],i=r;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(r);break}i[2]&&l.ops.pop(),l.trys.pop();continue}r=n.call(e,l)}catch(e){r=[6,e],o=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,c])}}},r=this;Object.defineProperty(n,"__esModule",{value:!0}),(t=n.DeviceType||(n.DeviceType={})).DesktopWindows="desktop-windows",t.DesktopMacOS="desktop-macos",t.DesktopLinux="desktop-linux",t.EmulatorWindows="emulator-windows",t.EmulatorMacOS="emulator-macos",t.EmulatorLinux="emulator-linux",t.MobileAndroid="mobile-android",t.MobileIOS="mobile-ios",t.MobileEmulatorMacOS="mobile-macos",t.MobileEmulatorWindows="mobile-windows",t.MobileEmulatorLinux="mobile-linux",t.BrowserChrome="browser-chrome",t.BrowserFirefox="browser-firefox",t.reMarkable="remarkable",n.isValidToken=function(e){return!!e&&e.startsWith("ey")},n.registerDevice=function(e,t){return o(r,void 0,void 0,(function(){var o,r;return i(this,(function(i){switch(i.label){case 0:if(8!==t.code.length)throw new Error("Invalid One-time-code: Must be 8 characters in length.");return[4,fetch(e+"/token/json/2/device/new",{body:JSON.stringify(t),method:"POST"})];case 1:return[4,(o=i.sent()).text()];case 2:if(r=i.sent(),!o.ok)throw new Error(r||o.statusText||""+o.status);if(!n.isValidToken(r))throw new Error("Did not get a valid device token.");return[2,r]}}))}))},n.disconnectDevice=function(e,n){return o(r,void 0,void 0,(function(){var t,o;return i(this,(function(i){switch(i.label){case 0:return[4,fetch(e+"/token/json/2/device/delete",{headers:{Authorization:"Bearer "+n},method:"POST"})];case 1:return[4,(t=i.sent()).text()];case 2:if(o=i.sent(),!t.ok)throw new Error(o||t.statusText||""+t.status);return[2]}}))}))},n.retrieveUserToken=function(e,t){return o(r,void 0,void 0,(function(){var o,r;return i(this,(function(i){switch(i.label){case 0:if(0===t.length)throw new Error("Invalid device token.");return[4,fetch(e+"/token/json/2/user/new",{headers:{Authorization:"Bearer "+t},method:"POST"})];case 1:return[4,(o=i.sent()).text()];case 2:if(r=i.sent(),!o.ok)throw new Error(r||o.statusText||""+o.status);if(!n.isValidToken(r))throw new Error("Invalid user token.");return[2,r]}}))}))}}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}(()=>{var e,n,o,i,r,l={},c=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(e,n){for(var t in n)e[t]=n[t];return e}function _(e){var n=e.parentNode;n&&n.removeChild(e)}function u(e,t,i,r,l){var c={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==l?++o:l};return null==l&&null!=n.vnode&&n.vnode(c),c}function d(e){return e.children}function h(e,n){this.props=e,this.context=n}function f(e,n){if(null==n)return e.__?f(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?f(e):null}function p(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return p(e)}}function g(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!v.__r++||r!==n.debounceRendering)&&((r=n.debounceRendering)||setTimeout)(v)}function v(){for(var e;v.__r=i.length;)e=i.sort((function(e,n){return e.__v.__b-n.__v.__b})),i=[],e.some((function(e){var n,t,o,i,r,l;e.__d&&(r=(i=(n=e).__v).__e,(l=n.__P)&&(t=[],(o=s({},i)).__v=i.__v+1,x(l,i,o,n.__n,void 0!==l.ownerSVGElement,null!=i.__h?[r]:null,t,null==r?f(i):r,i.__h),k(t,i),i.__e!=r&&p(i)))}))}function m(e,n,t,o,i,r,a,s,_,h){var p,g,v,m,w,b,C,M=o&&o.__k||c,k=M.length;for(t.__k=[],p=0;p<n.length;p++)if(null!=(m=t.__k[p]=null==(m=n[p])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?u(null,m,null,null,m):Array.isArray(m)?u(d,{children:m},null,null,null):m.__b>0?u(m.type,m.props,m.key,null,m.__v):m)){if(m.__=t,m.__b=t.__b+1,null===(v=M[p])||v&&m.key==v.key&&m.type===v.type)M[p]=void 0;else for(g=0;g<k;g++){if((v=M[g])&&m.key==v.key&&m.type===v.type){M[g]=void 0;break}v=null}x(e,m,v=v||l,i,r,a,s,_,h),w=m.__e,(g=m.ref)&&v.ref!=g&&(C||(C=[]),v.ref&&C.push(v.ref,null,m),C.push(g,m.__c||w,m)),null!=w?(null==b&&(b=w),"function"==typeof m.type&&m.__k===v.__k?m.__d=_=y(m,_,e):_=A(e,m,v,M,w,_),"function"==typeof t.type&&(t.__d=_)):_&&v.__e==_&&_.parentNode!=e&&(_=f(v))}for(t.__e=b,p=k;p--;)null!=M[p]&&("function"==typeof t.type&&null!=M[p].__e&&M[p].__e==t.__d&&(t.__d=f(o,p+1)),T(M[p],M[p]));if(C)for(p=0;p<C.length;p++)I(C[p],C[++p],C[++p])}function y(e,n,t){for(var o,i=e.__k,r=0;i&&r<i.length;r++)(o=i[r])&&(o.__=e,n="function"==typeof o.type?y(o,n,t):A(t,o,o,i,o.__e,n));return n}function A(e,n,t,o,i,r){var l,c,a;if(void 0!==n.__d)l=n.__d,n.__d=void 0;else if(null==t||i!=r||null==i.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(i),l=null;else{for(c=r,a=0;(c=c.nextSibling)&&a<o.length;a+=2)if(c==i)break e;e.insertBefore(i,r),l=r}return void 0!==l?l:i.nextSibling}function w(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]=null==t?"":"number"!=typeof t||a.test(n)?t:t+"px"}function b(e,n,t,o,i){var r;e:if("style"===n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||w(e.style,n,"");if(t)for(n in t)o&&t[n]===o[n]||w(e.style,n,t[n])}else if("o"===n[0]&&"n"===n[1])r=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in e?n.toLowerCase().slice(2):n.slice(2),e.l||(e.l={}),e.l[n+r]=t,t?o||e.addEventListener(n,r?M:C,r):e.removeEventListener(n,r?M:C,r);else if("dangerouslySetInnerHTML"!==n){if(i)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==n&&"list"!==n&&"form"!==n&&"tabIndex"!==n&&"download"!==n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null!=t&&(!1!==t||"a"===n[0]&&"r"===n[1])?e.setAttribute(n,t):e.removeAttribute(n))}}function C(e){this.l[e.type+!1](n.event?n.event(e):e)}function M(e){this.l[e.type+!0](n.event?n.event(e):e)}function x(e,t,o,i,r,l,c,a,_){var u,f,p,g,v,y,A,w,b,C,M,x,k,I=t.type;if(void 0!==t.constructor)return null;null!=o.__h&&(_=o.__h,a=t.__e=o.__e,t.__h=null,l=[a]),(u=n.__b)&&u(t);try{e:if("function"==typeof I){if(w=t.props,b=(u=I.contextType)&&i[u.__c],C=u?b?b.props.value:u.__:i,o.__c?A=(f=t.__c=o.__c).__=f.__E:("prototype"in I&&I.prototype.render?t.__c=f=new I(w,C):(t.__c=f=new h(w,C),f.constructor=I,f.render=H),b&&b.sub(f),f.props=w,f.state||(f.state={}),f.context=C,f.__n=i,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=s({},f.__s)),s(f.__s,I.getDerivedStateFromProps(w,f.__s))),g=f.props,v=f.state,p)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==I.getDerivedStateFromProps&&w!==g&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(w,C),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(w,f.__s,C)||t.__v===o.__v){f.props=w,f.state=f.__s,t.__v!==o.__v&&(f.__d=!1),f.__v=t,t.__e=o.__e,t.__k=o.__k,t.__k.forEach((function(e){e&&(e.__=t)})),f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(w,f.__s,C),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(g,v,y)}))}if(f.context=C,f.props=w,f.__v=t,f.__P=e,M=n.__r,x=0,"prototype"in I&&I.prototype.render)f.state=f.__s,f.__d=!1,M&&M(t),u=f.render(f.props,f.state,f.context);else do{f.__d=!1,M&&M(t),u=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++x<25);f.state=f.__s,null!=f.getChildContext&&(i=s(s({},i),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(g,v)),k=null!=u&&u.type===d&&null==u.key?u.props.children:u,m(e,Array.isArray(k)?k:[k],t,o,i,r,l,c,a,_),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),A&&(f.__E=f.__=null),f.__e=!1}else null==l&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=N(o.__e,t,o,i,r,l,c,_);(u=n.diffed)&&u(t)}catch(e){t.__v=null,(_||null!=l)&&(t.__e=a,t.__h=!!_,l[l.indexOf(a)]=null),n.__e(e,t,o)}}function k(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function N(n,t,o,i,r,c,a,s){var u,d,h,p=o.props,g=t.props,v=t.type,y=0;if("svg"===v&&(r=!0),null!=c)for(;y<c.length;y++)if((u=c[y])&&"setAttribute"in u==!!v&&(v?u.localName===v:3===u.nodeType)){n=u,c[y]=null;break}if(null==n){if(null===v)return document.createTextNode(g);n=r?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,g.is&&g),c=null,s=!1}if(null===v)p===g||s&&n.data===g||(n.data=g);else{if(c=c&&e.call(n.childNodes),d=(p=o.props||l).dangerouslySetInnerHTML,h=g.dangerouslySetInnerHTML,!s){if(null!=c)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||""))}if(function(e,n,t,o,i){var r;for(r in t)"children"===r||"key"===r||r in n||b(e,r,null,t[r],o);for(r in n)i&&"function"!=typeof n[r]||"children"===r||"key"===r||"value"===r||"checked"===r||t[r]===n[r]||b(e,r,n[r],t[r],o)}(n,g,p,r,s),h)t.__k=[];else if(y=t.props.children,m(n,Array.isArray(y)?y:[y],t,o,i,r&&"foreignObject"!==v,c,a,c?c[0]:o.__k&&f(o,0),s),null!=c)for(y=c.length;y--;)null!=c[y]&&_(c[y]);s||("value"in g&&void 0!==(y=g.value)&&(y!==n.value||"progress"===v&&!y||"option"===v&&y!==p.value)&&b(n,"value",y,p.value,!1),"checked"in g&&void 0!==(y=g.checked)&&y!==n.checked&&b(n,"checked",y,p.checked,!1))}return n}function I(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function T(e,t,o){var i,r;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||I(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&T(i[r],t,"function"!=typeof e.type);o||null==e.__e||_(e.__e),e.__e=e.__d=void 0}function H(e,n,t){return this.constructor(e,t)}function D(n,t,o){var i,r,l,c=s({},n.props);for(l in t)"key"==l?i=t[l]:"ref"==l?r=t[l]:c[l]=t[l];return arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):o),u(n.type,c,i||n.key,r||n.ref,null)}e=c.slice,n={__e:function(e,n,t,o){for(var i,r,l;n=n.__;)if((i=n.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(e)),l=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,o||{}),l=i.__d),l)return i.__E=i}catch(n){e=n}throw e}},o=0,h.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof e&&(e=e(s({},t),this.props)),e&&s(t,e),null!=e&&this.__v&&(n&&this.__h.push(n),g(this))},h.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),g(this))},h.prototype.render=d,i=[],v.__r=0;var E,L,S,j,P=0,z=[],B=[],U=n.__b,O=n.__r,W=n.diffed,Z=n.__c,F=n.unmount;function X(e,t){n.__h&&n.__h(L,e,P||t),P=0;var o=L.__H||(L.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({__V:B}),o.__[e]}function J(e){return P=1,function(e,n,t){var o=X(E++,2);if(o.t=e,!o.__c&&(o.__=[Q(void 0,n),function(e){var n=o.__N?o.__N[0]:o.__[0],t=o.t(n,e);n!==t&&(o.__N=[t,o.__[1]],o.__c.setState({}))}],o.__c=L,!L.u)){L.u=!0;var i=L.shouldComponentUpdate;L.shouldComponentUpdate=function(e,n,t){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));return(r.every((function(e){return!e.__N}))||!r.every((function(e){if(!e.__N)return!0;var n=e.__[0];return e.__=e.__N,e.__N=void 0,n===e.__[0]})))&&(!i||i.call(this,e,n,t))}}return o.__N||o.__}(Q,e)}function R(e,t){var o=X(E++,3);!n.__s&&K(o.__H,t)&&(o.__=e,o.i=t,L.__H.__h.push(o))}function Y(){for(var e;e=z.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(q),e.__H.__h.forEach(G),e.__H.__h=[]}catch(t){e.__H.__h=[],n.__e(t,e.__v)}}n.__b=function(e){L=null,U&&U(e)},n.__r=function(e){O&&O(e),E=0;var n=(L=e.__c).__H;n&&(S===L?(n.__h=[],L.__h=[],n.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=B,e.__N=e.i=void 0}))):(n.__h.forEach(q),n.__h.forEach(G),n.__h=[])),S=L},n.diffed=function(e){W&&W(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==z.push(t)&&j===n.requestAnimationFrame||((j=n.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(o),V&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,100);V&&(n=requestAnimationFrame(t))})(Y)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==B&&(e.__=e.__V),e.i=void 0,e.__V=B}))),S=L=null},n.__c=function(e,t){t.some((function(e){try{e.__h.forEach(q),e.__h=e.__h.filter((function(e){return!e.__||G(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],n.__e(o,e.__v)}})),Z&&Z(e,t)},n.unmount=function(e){F&&F(e);var t,o=e.__c;o&&o.__H&&(o.__H.__.forEach((function(e){try{q(e)}catch(e){t=e}})),t&&n.__e(t,o.__v))};var V="function"==typeof requestAnimationFrame;function q(e){var n=L,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),L=n}function G(e){var n=L;e.__c=e.__(),L=n}function K(e,n){return!e||e.length!==n.length||n.some((function(n,t){return n!==e[t]}))}function Q(e,n){return"function"==typeof n?n(e):n}var $=t(6124);const ee="deviceToken",ne=async()=>(await chrome.storage.local.get(ee)).deviceToken;function te(e,n){const[t,o]=J(0),[i,r]=J(n),[l,c]=J(null);R((()=>{function t(t){if(t[e]){const{newValue:o}=t[e];r(void 0!==o?o:n)}}return chrome.storage.sync.onChanged.addListener(t),()=>chrome.storage.sync.onChanged.removeListener(t)}),[e]),R((()=>{(async()=>{o((e=>e+1));try{const t=(await chrome.storage.sync.get(e))[e];r(void 0!==t?t:n),c(null)}catch(e){c(e)}finally{o((e=>e-1))}})()}),[e]);const a=function(e,n){return P=8,function(e,n){var t=X(E++,7);return K(t.__H,n)?(t.__V=e(),t.i=n,t.__h=e,t.__V):t.__}((function(){return e}),n)}((async n=>{let t;return r(n),t="function"==typeof n?n((await chrome.storage.sync.get(e))[e]):n,chrome.storage.sync.set({[e]:t})}),[e]);return{value:i,setValue:a,loading:t>0,error:l}}let oe;!function(e){e.EPUB="EPUB",e.PDF="PDF"}(oe||(oe={}));const ie={defaultBehaviour:oe.EPUB,includePageURL:!0,includeImages:!1};var re=0;function le(e,t,o,i,r){var l,c,a={};for(c in t)"ref"==c?l=t[c]:a[c]=t[c];var s={type:e,props:a,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--re,__source:r,__self:i};if("function"==typeof e&&(l=e.defaultProps))for(c in l)void 0===a[c]&&(a[c]=l[c]);return n.vnode&&n.vnode(s),s}const ce=({className:e,children:n,startOpen:t=!1,title:o,titlePrefixIcon:i,titleCenter:r=!0})=>{const[l,c]=J(t);return le("div",{className:"foldable "+(l?"foldable-open":"foldable-closed"),children:[le("div",{style:{display:"flex",justifyContent:r?"center":"initial"},children:[i?le("img",{src:i,style:{height:20,width:20,marginRight:10},alt:""}):"",le("span",{className:`foldable-title ${e||""}`,onClick:()=>c(!l),children:[le("span",{children:o}),le("img",{src:l?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTEuNCAxNS43TDEwIDcuMWw4LjYgOC42IDEuNC0xLjQtMTAtMTAtMTAgMTAgMS40IDEuNHoiLz48L3N2Zz4=":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTE4LjYgNC4zTDEwIDEyLjkgMS40IDQuMyAwIDUuN2wxMCAxMCAxMC0xMC0xLjQtMS40eiIvPjwvc3ZnPg==",alt:l?"˄":"˅"})]})]}),le("div",{className:"foldable-content",children:n})]})},ae=e=>le("div",{className:`row ${e.rowClass||""}`,style:e.style,children:le("div",{className:`col ${e.colClass||""}`,children:e.children})}),se="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTEwIDJjNC40IDAgOCAzLjYgOCA4cy0zLjYgOC04IDgtOC0zLjYtOC04IDMuNi04IDgtOG0wLTJDNC41IDAgMCA0LjUgMCAxMHM0LjUgMTAgMTAgMTAgMTAtNC41IDEwLTEwUzE1LjUgMCAxMCAweiIvPjwvc3ZnPg==",_e=e=>le("div",{className:"row margin-row",children:[le("div",{className:"col col-xs-1 col-xs-offset-1 center-aligned",children:le("div",{className:"pretty p-icon p-toggle",style:{minWidth:20,margin:"5px 0 auto",paddingRight:10},children:[le("input",{type:"radio",value:e.value,name:e.name,checked:e.checked,onChange:e.onChange,disabled:e.disabled}),le("div",{className:"state p-on",children:le("img",{className:"svg",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZD0iTTEwIDJjNC40IDAgOCAzLjYgOCA4cy0zLjYgOC04IDgtOC0zLjYtOC04IDMuNi04IDgtOG0wLTJDNC41IDAgMCA0LjUgMCAxMHM0LjUgMTAgMTAgMTAgMTAtNC41IDEwLTEwUzE1LjUgMCAxMCAweiIvPjxjaXJjbGUgY3g9IjEwIiBjeT0iMTAiIHI9IjUiLz48L3N2Zz4=",alt:"",height:20})}),le("div",{className:"state p-off",children:le("img",{className:"svg",src:se,alt:"",height:20})})]})}),le("div",{className:"col col-xs-10",children:[le("span",{style:{fontSize:14,lineHeight:"21px"},className:"mnBold",children:e.label}),le("br",{}),le("span",{style:{fontSize:12,lineHeight:"21px"},children:e.help})]})]}),ue=e=>{let n;return n=Array.isArray(e.children)?e.children.map((n=>{if(n.type===_e)return D(n,{onChange:()=>e.onChange(n.props.value),checked:e.selected===n.props.value,name:e.name,disabled:e.disabled})})):e.children.type!==_e?void 0:D(e.children,{name:e.name,disabled:e.disabled}),le("div",{children:[le("div",{className:"row margin-row",children:le("div",{className:"col col-xs-10 col-xs-offset-2",style:{marginBottom:20},children:le("span",{className:"mnBold",style:{fontSize:18,lineHeight:"27px"},children:e.label})})}),n]})},de=e=>le("div",{className:"row margin-row",children:[le("div",{className:"col col-xs-1 col-xs-offset-1 center-aligned",children:le("div",{className:"pretty p-icon p-toggle",style:{minWidth:20,margin:"5px 0 auto",paddingRight:10},children:[le("input",{type:"checkbox",checked:e.checked,onChange:e.onChange,disabled:e.disabled}),le("div",{className:"state p-on",children:le("img",{className:"svg",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iTGF5ZXJfMS0yXzU4XyI+CgkJPHBvbHlnb24gcG9pbnRzPSI4LjYsMTMuOSA1LjgsMTEuMSA3LjIsOS42IDguNiwxMS4xIDEyLjgsNi44IDE0LjIsOC4yIAkJIi8+CgkJPHBhdGggZD0iTTEwLDJjNC40LDAsOCwzLjYsOCw4cy0zLjYsOC04LDhzLTgtMy42LTgtOFM1LjYsMiwxMCwyIE0xMCwwQzQuNSwwLDAsNC41LDAsMTBzNC41LDEwLDEwLDEwczEwLTQuNSwxMC0xMFMxNS41LDAsMTAsMHoiCgkJCS8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==",alt:"",height:20})}),le("div",{className:"state p-off",children:le("img",{className:"svg",src:se,alt:"",height:20})})]})}),le("div",{className:"col col-xs-10",children:[le("span",{style:{fontSize:14,lineHeight:"21px"},className:"mnBold",children:e.label}),le("br",{}),le("span",{style:{fontSize:12,lineHeight:"21px"},children:e.help})]})]});!function(t,o,i){var r,c,a;n.__&&n.__(t,o),c=(r="function"==typeof i)?null:i&&i.__k||o.__k,a=[],x(o,t=(!r&&i||o).__k=function(n,t,o){var i,r,l,c={};for(l in t)"key"==l?i=t[l]:"ref"==l?r=t[l]:c[l]=t[l];if(arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):o),"function"==typeof n&&null!=n.defaultProps)for(l in n.defaultProps)void 0===c[l]&&(c[l]=n.defaultProps[l]);return u(n,c,i,r,null)}(d,null,[t]),c||l,l,void 0!==o.ownerSVGElement,!r&&i?[i]:c?null:o.firstChild?e.call(o.childNodes):null,a,!r&&i?i:c?c.__e:o.firstChild,r),k(a,t)}(le((()=>{const{settings:e,setSettings:n,loading:t,error:o}=(()=>{const{value:e,setValue:n,loading:t,error:o}=te("settings",{});return{settings:{...ie,...e},setSettings:n,loading:t,error:o}})(),i=t||null!==o;return R((()=>{(async()=>{await(async()=>!!await ne())()||chrome.tabs.update({url:"setup.html"})})()}),[]),le("div",t?{id:"options-root"}:{id:"options-page",children:[le("div",{id:"options-root",children:le("div",{id:"options-content",children:[o&&le("p",{children:["There was an error loading the settings (",o.message,")"]}),le("div",{className:"row margin-row",children:[le("div",{className:"col col-xs-1 col-xs-offset-1 center-aligned",children:le("img",{style:{height:35,width:35,paddingRight:10},src:"data:image/png;base64,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",alt:"logo"})}),le("div",{className:"col col-xs-10",style:{paddingLeft:5},children:le("span",{className:"mnBold",style:{fontSize:32,lineHeight:"38px"},children:"Read on reMarkable options"})})]}),le(ue,{name:"default-behaviour",label:"By default, clicking the rM icon once sends your article as a text file.",selected:e.defaultBehaviour,onChange:e=>{n((n=>({...n,defaultBehaviour:e})))},disabled:i,children:[le(_e,{value:oe.EPUB,label:"Send as text (single click)",help:"Sending content in text format means you'll be able to easily change the text settings. Pictures won't be included."}),le(_e,{value:oe.PDF,label:"Send as PDF (single click)",help:"This will mean a print dialog box appears each time with a preview, giving you the option to change margins, choose the number of copies, choose which pages are included, or scale your content."})]}),le("div",{children:[le("div",{className:"row margin-row",children:le("div",{className:"col col-xs-10 col-xs-offset-2",style:{marginTop:10},children:le("span",{className:"mnBold",style:{fontSize:18,lineHeight:"27px"},children:"Include page URL in converted article"})})}),le(de,{label:"Include page URL in text version",help:"By default, the page URL is included as a small header on the first page when converting an article to a text file. Not applicable to PDF files.",checked:e.includePageURL??!0,onChange:e=>{const t=e.currentTarget.checked;n((e=>({...e,includePageURL:t})))},disabled:i})]}),le(ae,{rowClass:"margin-row extra-margin-top",colClass:"col-xs-8 col-xs-offset-2",children:le("span",{className:"button button-black",style:{fontSize:14},onClick:()=>{window.close()},children:"DONE"})})]})}),le("div",{className:"disconnect-footer",children:le("div",{style:{margin:"auto",width:"38%",minWidth:410,paddingTop:60},children:[le(ae,{rowClass:"margin-row",colClass:"col-xs-11 col-xs-offset-1",children:le("span",{className:"button button-transparent",style:{fontSize:14},onClick:()=>{confirm("Are you sure you want to disconnect your device from this extension?")&&(async()=>{const e=await ne();if(void 0===e)throw new Error("Device is already unregistered");try{await(0,$.disconnectDevice)("https://webapp-prod.cloud.remarkable.engineering",e)}catch(e){const n=e;if("deleted device"!==n.message.trim())throw n}await chrome.storage.local.remove([ee,"userToken"])})().then((()=>chrome.tabs.update({url:"setup.html"})))},children:"Disconnect from your reMarkable account"})}),le(ae,{rowClass:"margin-row",colClass:"col-xs-offset-1 col-xs-11",children:le(ce,{title:"Learn more",titleCenter:!1,children:[le("br",{}),le("span",{style:{fontSize:9},children:"This means your reMarkable account will be disconnected from the Chrome extension, and you will not be able to export web content to your reMarkable account unless you connect it again."})]})})]})})]})}),{}),document.body)})()})();
"use strict";(self.webpackChunk_dashlane_leeloo=self.webpackChunk_dashlane_leeloo||[]).push([[1038],{11038:(e,t,i)=>{i.r(t),i.d(t,{CollectionsOverview:()=>J});var n=i(96832),l=i(95727),o=i(68593);const r=(0,n.createContext)({}),a=(0,n.createContext)({}),c=({children:e})=>{const[t,i]=(0,n.useState)(""),l={searchValue:t},c=(0,n.useMemo)((()=>({setSearchValue:i})),[]);return(0,o.tZ)(r.Provider,{value:l,children:(0,o.tZ)(a.Provider,{value:c,children:e})})};var s=i(88455),d=i(80742);const u=()=>{const[e,t]=(0,n.useState)(!1);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(s.t,{handleAddNew:()=>t(!0),shouldDisplayAddButton:!0,shouldDisplayNewAccountImportButton:!1}),e&&(0,o.tZ)(d.K7,{onClose:()=>t(!1)})]})};var h=i(26658);const p=e=>(0,o.tZ)("ul",{sx:{listStyle:"none",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(12rem, 1fr))",gap:"16px",padding:"32px 0",overflow:"auto"},...e});var x=i(61468),v=i(92077),m=i(88203),g=i(17276),C=i(33360);const Z=e=>(0,o.tZ)("article",{sx:{display:"flex",flexDirection:"column",gap:"6px",padding:"4px 4px 12px 12px",backgroundColor:"ds.container.expressive.neutral.quiet.idle",boxShadow:"0px 1px 1px 0px lightgrey",borderRadius:"6px","&:hover":{backgroundColor:"ds.container.expressive.neutral.quiet.hover"},cursor:"pointer"},...e}),_=({...e})=>(0,o.tZ)("div",{sx:{display:"flex",flex:"1 0 100%",alignItems:"center",justifyContent:"space-between"},...e});var y;const S=({collection:e})=>{const{translate:t}=(0,m.Z)(),{routes:i}=(0,v.Xo)();return(0,o.BX)(Z,{onClick:t=>{t.stopPropagation(),(0,v.uX)(i.userCollection(e.id))},children:[(0,o.BX)(_,{children:[y||(y=(0,o.tZ)(x.JO,{name:"FolderOutlined",size:"large",color:"ds.text.neutral.quiet"})),(0,o.tZ)("div",{onClick:e=>e.stopPropagation(),children:(0,o.tZ)(g.C,{collection:e,triggerButton:{mood:"neutral"}})})]}),(0,o.tZ)(C.b,{isShared:!!e.isShared,spaceId:e.spaceId,children:(0,o.tZ)(x.X6,{as:"h3",textStyle:"ds.title.block.medium",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:"6px"},children:e.name})}),(0,o.BX)(x.nv,{color:"ds.text.neutral.quiet",style:{fontWeight:"600"},children:[e.vaultItems.length," ",t("collections_overview_items_count")]})]})},w=()=>{const{translate:e}=(0,m.Z)();return(0,o.tZ)(x.X6,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.standard",sx:{borderBottom:"1px solid ds.border.neutral.quiet.idle",margin:"0",padding:"18px 0"},children:e("collections_overview_title")})};var f,b=i(75488);const k=(0,n.memo)((()=>{const{allCollections:e}=(0,l.bA)(),{searchValue:t}=(0,n.useContext)(r),[i,a]=(0,n.useState)(1);return(0,o.BX)(o.HY,{children:[f||(f=(0,o.tZ)(w,{})),(0,o.tZ)(h.C,{onNextPage:t=>{50*(t-1)<=e.length&&a(t)},hasMore:!0,ListComponent:p,children:e.filter((e=>e.name.toLowerCase().includes((0,b.U)(t)))).slice(0,50*i).map((e=>(0,o.tZ)("li",{children:(0,o.tZ)(S,{collection:e})},`collections_overview_${e.name}_${e.id}`)))})]})}));k.displayName="CollectionsGrid";var B=i(39378);const X=({onClick:e,isHidden:t})=>{const{translate:i}=(0,m.Z)();return(0,o.tZ)(x.JO,{"aria-hidden":t,title:i("collections_overview_search_clear_search"),name:"ActionCloseOutlined",onClick:e,sx:{alignSelf:"center",cursor:"pointer","&:hover":{opacity:t?"0":"100%"},visibility:t?"hidden":"visible",opacity:t?"0":"50%",transitionDuration:"200ms",transitionProperty:"opacity, visibility"}})};var O;const A=()=>{const{translate:e}=(0,m.Z)(),{setSearchValue:t}=(0,n.useContext)(a),[i,l]=(0,n.useState)(!1),r=(0,n.useRef)(null),c=(0,n.useCallback)((0,B.debounce)((e=>{t(e),l(!!e)}),200),[]),s=e("collections_overview_search_input_placeholder");return(0,o.tZ)(x.oi,{ref:r,placeholder:s,"aria-label":s,prefixIcon:O||(O=(0,o.tZ)(x.JO,{name:"ActionSearchOutlined",size:"medium"})),onChange:e=>{c(e.target.value)},actionButtons:[(0,o.tZ)(X,{onClick:()=>{r.current&&(r.current.value="",r.current.focus()),t(""),l(!1)},isHidden:!i},"clear-collections-search")],autoFocus:!0,intensity:"quiet",sx:{maxWidth:"300px",margin:"16px 0"}})};var P=i(48062),q=i(97227);const I=()=>{const{canShareCollection:e,hasSharingCollectionPaywall:t,isAdmin:i}=(0,q.Te)();return t&&i?(0,o.tZ)(q.Li,{canShareCollection:e,sx:{margin:"16px 32px"},clickOrigin:e?P.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:P.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null};var L=i(45272);const D=()=>{const{translate:e}=(0,m.Z)(),[t,i]=(0,n.useState)(!1);return(0,o.BX)("div",{sx:{margin:"auto",textAlign:"center",width:"700px",display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.tZ)(x.X6,{as:"h1",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("collections_overview_create_title")}),(0,o.tZ)(x.nv,{color:"ds.text.neutral.quiet",children:e("collections_overview_create_description")}),(0,o.tZ)(x.zx,{layout:"iconLeading",icon:"ActionAddOutlined",onClick:()=>{i(!0),(0,L.Nc)(P.PageView.CollectionCreate)},sx:{margin:"auto"},children:e("collections_dialog_create_header_title")}),t&&(0,o.tZ)(d.K7,{onClose:()=>i(!1)})]})};var H,N,R,V,M,z=i(73501);const J=()=>{const{allCollections:e}=(0,l.bA)(),t=e.length>0;return(0,o.tZ)(z.I,{header:H||(H=(0,o.tZ)(u,{})),children:(0,o.BX)(c,{children:[N||(N=(0,o.tZ)(I,{})),t?(0,o.BX)(o.HY,{children:[R||(R=(0,o.tZ)(A,{})),V||(V=(0,o.tZ)(k,{}))]}):M||(M=(0,o.tZ)(D,{}))]})})}}}]);
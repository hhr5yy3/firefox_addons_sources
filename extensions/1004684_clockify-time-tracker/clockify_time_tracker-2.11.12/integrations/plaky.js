function getProjectTask(){const t=text('.offcanvas-header [role="textbox"] span'),e=text(".main-wrapper > .sticky-header div[role=textbox]")||text("#sidebar-main-wrapper .navigation-item a.active div > span")||document.title.replace(` - ${t}`,""),[n,o]=e?.split(":");return{projectName:n,taskName:o}}async function initializeBodyObserver(){const t=new MutationObserver(addCustomCSS),e=await waitForElement(".icon-sun",document.body);t.observe(e,{childList:!0,attributes:!0})}function addCustomCSS(){$(".clockify-custom-css")?.remove();const t=window.localStorage.theme.includes("light"),e=createTag("style","clockify-custom-css");e.innerHTML=`\n\t\t.clockify-widget-container {\n\t\t\tmargin: 10px 0 10px 20px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\n\t\t.clockify-input {\n\t\t\tborder-color: rgba(121,120,156, 0.3) !important;\n\t\t\tbackground-color: rgba(121,120,156, 0.3) !important;\n\t\t}\n\n\t\t.clockify-button-inactive,  .clockify-input{\n\t\t\tcolor: ${t?"#444 !important;":"rgba(242,242,248,.87) !important;"}\n\t\t}\n\n\t\t#clockifyButton {\n\t\t\tmargin-right: 15px;\n\t\t}\n\t`,document.head.append(e)}clockifyButton.render(".offcanvas__sticky-header .offcanvas-header:not(.clockify)",{observe:!0,onNavigationRerender:!0},(async t=>{await timeout({milliseconds:500}),$(".clockify-widget-container")?.remove();const{projectName:e,taskName:n}=getProjectTask(),o={description:()=>text('.offcanvas-header [role="textbox"] span'),projectName:e,taskName:n},a=clockifyButton.createButton(o),i=clockifyButton.createInput(o),c=createTag("div","clockify-widget-container");c.append(a),c.append(i),t.after(c),addCustomCSS()})),initializeBodyObserver();
!function(W,P){"use strict";var e=document.documentElement,n=e.matches?"matches":e.matchesSelector?"matchesSelector":e.webkitMatches?"webkitMatches":e.webkitMatchesSelector?"webkitMatchesSelector":e.msMatches?"msMatches":e.msMatchesSelector?"msMatchesSelector":e.mozMatches?"mozMatches":e.mozMatchesSelector?"mozMatchesSelector":null,_=P.element.prototype.closest||function(e){for(var t=this[0].parentNode;t!==document.documentElement&&null!=t&&!t[n](e);)t=t.parentNode;return t&&t[n](e)?P.element(t):P.element()};function D(){var e,t,n;return"pageYOffset"in W?{scrollTop:pageYOffset,scrollLeft:pageXOffset}:(e=(t=document).documentElement,t=t.body,n=e.scrollLeft||t.scrollLeft||0,{scrollTop:e.scrollTop||t.scrollTop||0,scrollLeft:n})}function N(e,t){return e===W?"clientWidth"===t?W.innerWidth:W.innerHeight:e[t]}e=P.module("vs-repeat",[]).directive("vsRepeat",["$compile","$parse",function(H,q){return{restrict:"A",scope:!0,compile:function(e,t){var n,R,E,B,O,s=P.isDefined(t.vsRepeatContainer)?P.element(e[0].querySelector(t.vsRepeatContainer)):e,A=(t=s.children().eq(0))[0].outerHTML,k=!1,L={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsScrolledToEndOffset:"scrolledToEndOffset",vsExcess:"excess"};if(t.attr("ng-repeat"))O="ng-repeat",n=t.attr("ng-repeat");else if(t.attr("data-ng-repeat"))O="data-ng-repeat",n=t.attr("data-ng-repeat");else if(t.attr("ng-repeat-start"))k=!0,O="ng-repeat-start",n=t.attr("ng-repeat-start");else{if(!t.attr("data-ng-repeat-start"))throw new Error("angular-vs-repeat: no ng-repeat directive on a child element");k=!0,O="data-ng-repeat-start",n=t.attr("data-ng-repeat-start")}if(e=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(n),R=e[1],E=e[2],B=e[3],k)for(var o=0,r=s.children().eq(0);null==r.attr("ng-repeat-end")&&null==r.attr("data-ng-repeat-end");)o++,r=s.children().eq(o),A+=r[0].outerHTML;return s.empty(),{pre:function(c,e,f){var d,t,u,h,p,m,v=P.isDefined(f.vsRepeatContainer)?P.element(e[0].querySelector(f.vsRepeatContainer)):e,n=(e=P.element(A))[0].tagName.toLowerCase(),g=[],x=void 0!==f.vsHorizontal,$=P.element("<"+n+' class="vs-repeat-before-content"></'+n+">"),z=P.element("<"+n+' class="vs-repeat-after-content"></'+n+">"),r=!f.vsRepeat,S=!!f.vsSize||!!f.vsSizeProperty,M=f.vsScrollParent?"window"===f.vsScrollParent?P.element(W):_.call(v,f.vsScrollParent):v,I="vsOptions"in f?c.$eval(f.vsOptions):{},w=x?"clientWidth":"clientHeight",a=x?"offsetWidth":"offsetHeight",C=x?"scrollLeft":"scrollTop";if(c.totalSize=0,"vsSize"in f||0 in f,0===M.length)throw"Specified scroll parent selector did not match any element";function s(){var s;!g||g.length<1?(c.$vs_collection=[],d=0,c.sizesCumulative=[0]):(d=g.length,S?(c.sizes=g.map(function(e){return e.size||c.elementSize}),s=0,c.sizesCumulative=c.sizes.map(function(e,t){var n=s;return e&&(s+=e),n}),c.sizesCumulative.push(s)):l()),b()}function l(){r&&c.$$postDigest(function(){if(v[0].offsetHeight||v[0].offsetWidth){for(var e=v.children(),t=0,n=!1,s=!1;t<e.length;){if(null!=e[t].attributes[O]||s){if(n||(c.elementSize=0),n=!0,e[t][a]&&(c.elementSize+=e[t][a]),!k)break;if(null!=e[t].attributes["ng-repeat-end"]||null!=e[t].attributes["data-ng-repeat-end"])break;s=!0}t++}n&&(b(),r=!1,c.$root)&&!c.$root.$$phase&&c.$evalAsync()}else var o=c.$watch(function(){(v[0].offsetHeight||v[0].offsetWidth)&&(o(),l())})})}function T(){var e="tr"===n?"":"min-";return x?e+"width":e+"height"}function o(){if(y())try{c.$digest()}catch(e){}}function i(){clearTimeout(t),t=setTimeout(function(){void 0!==f.vsAutoresize&&(r=!0,l(),c.$root)&&!c.$root.$$phase&&c.$evalAsync(),y()&&c.$evalAsync()},200)}function b(){var e;h=u=void 0,p=d,m=0,e=S?c.sizesCumulative[d]:c.elementSize*d,c.totalSize=c.offsetBefore+e+c.offsetAfter,y()}function y(){var e,t,n=M[0],s=C,o=(n===W?D():n)[s],r=N(M[0],w),a=v[0]===M[0]?0:(n=v[0],s=M[0],e=x,n.getBoundingClientRect()[e?"left":"top"]-(s===W?0:s.getBoundingClientRect()[e?"left":"top"])+(s===W?D():s)[e?"scrollLeft":"scrollTop"]),l=c.startIndex,i=c.endIndex;if(S){for(l=0;c.sizesCumulative[l]<o-c.offsetBefore-a;)l++;for(0<l&&l--,i=l=Math.max(Math.floor(l-c.excess/2),0);c.sizesCumulative[i]<o-c.offsetBefore-a+r;)i++;i=Math.min(Math.ceil(i+c.excess/2),d)}else l=Math.max(Math.floor((o-c.offsetBefore-a)/c.elementSize)-c.excess/2,0),i=Math.min(l+Math.ceil(r/c.elementSize)+c.excess,d);return p=Math.min(l,p),m=Math.max(i,m),c.startIndex=I.latch?p:l,c.endIndex=I.latch?m:i,(n=null==u||null==h)||(I.hunked?(Math.abs(c.startIndex-u)>=c.excess/2||0===c.startIndex&&0!==u||Math.abs(c.endIndex-h)>=c.excess/2||c.endIndex===d&&h!==d)&&(n=!0):n=c.startIndex!==u||c.endIndex!==h),n&&(c.$vs_collection=g.slice(c.startIndex,c.endIndex+5),f.vsScrolledToEnd&&(s=g.length-(c.scrolledToEndOffset||0),c.endIndex>=s&&h<s||g.length&&c.endIndex===g.length)&&c.$eval(f.vsScrolledToEnd),u=c.startIndex,h=c.endIndex,s=(e=q(S?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)"))(c,{$index:0}),e=e(c,{$index:c.$vs_collection.length}),t=c.totalSize,$.css(T(),s+"px"),z.css(T(),t-e+"px")),n}c.$scrollParent=M,S&&(c.sizesCumulative=[]),c.elementSize=+f.vsRepeat||N(M[0],w)||50,c.offsetBefore=0,c.offsetAfter=0,c.excess=+f.vsExcess||20,x?($.css("height","100%"),z.css("height","100%")):($.css("width","100%"),z.css("width","100%")),Object.keys(L).forEach(function(t){f[t]&&f.$observe(t,function(e){c[L[t]]=+e,b()})}),c.$watchCollection(E,function(e){g=e||[],s()}),e.eq(0).attr(O,R+" in $vs_collection"+(B?" "+B:"")),e.addClass("vs-repeat-repeated-element"),v.append($),v.append(e),H(e)(c),v.append(z),c.startIndex=0,c.endIndex=0,M.on("scroll",o),P.element(W).on("resize",i),c.$on("$destroy",function(){P.element(W).off("resize",i),M.off("scroll",o),M.off("mousewheel")}),c.$on("vsRepeatTrigger",s),c.$on("vsRepeatResize",function(){r=!0,l()}),c.$on("vsRenderAll",function(){I.latch&&setTimeout(function(){var e=d;m=Math.max(e,m),c.endIndex=I.latch?m:e,c.$vs_collection=g.slice(c.startIndex,c.endIndex),h=c.endIndex,c.$$postDigest(function(){$.css(T(),0),z.css(T(),0)}),c.$apply(function(){})})})}}}}}]),"undefined"!=typeof module&&module.exports&&(module.exports=e.name)}(window,window.angular);
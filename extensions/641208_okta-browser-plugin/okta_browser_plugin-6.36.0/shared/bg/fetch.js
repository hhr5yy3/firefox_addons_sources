const OktaFetch=function(r){const o=Okta.Q,c=Okta.Constants.RequestHeaders.EXTENDED_USER_AGENT_KEY,s="okta-browser-plugin/"+PLUGIN_VERSIONS.currentVersion;return function(e){var t=e.url;const n={method:e.type,headers:e.headers||{}};e.contentType&&(n.headers["content-type"]=e.contentType),n.headers[c]=s,e.data&&("application/json"===n.headers["content-type"]?n.body=e.data:n.body=new URLSearchParams(e.data));const a=o.defer();return r(t,n).then(function(e){return t=(e=e).ok?a.resolve:a.reject,e.text().then(e=>{t(e?JSON.parse(e):{})});var t}).catch(a.reject),a.promise}};Okta.fetch=OktaFetch;
function parseURLString(e){let t="",n="",a="",r="",i="";"/"!==e.slice(-1)&&(e+="/");let s=e.indexOf("://");return-1!==s&&(t=e.substring(0,s),s=(e=e.substring(s+3)).indexOf("/"),n=e.substring(0,s),e=e.substring(s+1)),s=e.indexOf("#"),-1!==s&&(i=e.substring(s+1),e=e.substring(0,s)),s=(e=e.replace(/(:\w+)\?/g,((e,t)=>t+"§")).replace(/\*\?/g,"*§").replace(/\)\?/g,")§")).indexOf("?"),-1!==s?(a=e.substring(0,s).replace("§","?"),r=e.substring(s+1).replace("§","?")):a=e.replace("§","?"),{protocol:t,hostname:n,pathname:a,search:r,hash:i}}function matchPatternAndLink(e,t){let n=!0;if("*"!==e.protocol&&e.protocol!==t.protocol&&(n=!1),"*"!==e.hostname){let a=e.hostname.split("."),r=t.hostname.split(".");if(a.length===r.length)for(let e=0;e<a.length;e++)"*"!==a[e]&&a[e]!==r[e]&&(n=!1);else n=!1}return e.pathname=removeTrailingSlash(e.pathname),t.pathname=removeTrailingSlash(t.pathname),e.pathname&&"*"!==e.pathname&&e.pathname!==t.pathname&&(n=!1),n}function removeTrailingSlash(e){return e.replace(/\/+$/,"")}function isMatchingURL(e,t){let n=parseURLString(t);return!!e.split(",").find((e=>matchPatternAndLink(parseURLString(e),n)))}
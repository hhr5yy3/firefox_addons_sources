(()=>{"use strict";var e={576:function(e,t){var o,n=this&&this.__extends||(o=(e,t)=>(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&((e,t)=>{e.__proto__=t})||((e,t)=>{for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])}),o(e,t)),function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=()=>{};t.Option=r;var a=function(e){function o(t){var o=e.call(this)||this;return o.value=t,o}return n(o,e),o.prototype.exists=function(e){return e(this.value)},o.prototype.filter=function(e){return e(this.value)?this:t.none},o.prototype.filterNot=function(e){return e(this.value)?t.none:this},o.prototype.flatMap=function(e){return e(this.value)},o.prototype.fold=function(){var e=this;return t=>t(e.value)},o.prototype.forAll=function(e){return e(this.value)},o.prototype.forComprehension=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=this,n=0;n<e.length-1;++n)o=o.flatMap(e[n]);return o.map(e[e.length-1])},o.prototype.forEach=function(e){return e(this.value)},Object.defineProperty(o.prototype,"get",{get:function(){return this.value},enumerable:!0,configurable:!0}),o.prototype.getOrElse=function(){return this.value},o.prototype.getOrElseValue=function(){return this.value},Object.defineProperty(o.prototype,"isDefined",{get:()=>!0,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isEmpty",{get:()=>!1,enumerable:!0,configurable:!0}),o.prototype.map=function(e){return s(e(this.value))},o.prototype.match=function(e){return e.some(this.value)},Object.defineProperty(o.prototype,"nonEmpty",{get:()=>!0,enumerable:!0,configurable:!0}),o.prototype.orElse=function(){return this},o.prototype.orElseValue=function(){return this},Object.defineProperty(o.prototype,"orNull",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"orUndefined",{get:function(){return this.value},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"toArray",{get:function(){return[this.value]},enumerable:!0,configurable:!0}),o.prototype.toString=function(){return"Some("+this.value+")"},o}(r);t.Some=a;var i=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return n(o,e),o.prototype.exists=()=>!1,o.prototype.filter=function(){return this},o.prototype.filterNot=function(){return this},o.prototype.flatMap=()=>t.none,o.prototype.fold=e=>()=>e(),o.prototype.forAll=()=>!0,o.prototype.forComprehension=()=>t.none,o.prototype.forEach=()=>{},Object.defineProperty(o.prototype,"get",{get:()=>{throw new Error("No such element.")},enumerable:!0,configurable:!0}),o.prototype.getOrElse=e=>e(),o.prototype.getOrElseValue=e=>e,Object.defineProperty(o.prototype,"isDefined",{get:()=>!1,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isEmpty",{get:()=>!0,enumerable:!0,configurable:!0}),o.prototype.map=()=>t.none,o.prototype.match=e=>e.none(),Object.defineProperty(o.prototype,"nonEmpty",{get:()=>!1,enumerable:!0,configurable:!0}),o.prototype.orElse=e=>e(),o.prototype.orElseValue=e=>e,Object.defineProperty(o.prototype,"orNull",{get:()=>null,enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"orUndefined",{get:()=>{},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"toArray",{get:()=>[],enumerable:!0,configurable:!0}),o.prototype.toString=()=>"None",o}(r);function s(e){return new a(e)}t.None=i,t.some=s,t.none=new i,t.option=function(e){return null==e?t.none:s(e)}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}(()=>{function e(e){let t,o=!1;return(...n)=>o?t:(o=!0,t=e(...n))}const t=e((()=>self.location.href===browser.runtime.getManifest().background.page));const n="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,r=n?Promise.resolve():new Promise((e=>"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",(()=>e()))));var a,i,s,l,c,u,p,f;(e=>{e[e.TEXT=0]="TEXT",e[e.CLICKABLE=1]="CLICKABLE",e[e.LINK=2]="LINK",e[e.OTHER=3]="OTHER"})(a||(a={})),(e=>{e[e.UNIFORM=0]="UNIFORM",e[e.EXPONENTIAL=1]="EXPONENTIAL",e[e.INFINITE=2]="INFINITE"})(i||(i={})),(e=>{e[e.SCROLLBAR=0]="SCROLLBAR",e[e.GRAB_AND_DRAG=1]="GRAB_AND_DRAG",e[e.DYNAMIC_MULTIPLIER=2]="DYNAMIC_MULTIPLIER"})(s||(s={})),(e=>{e[e.SINGLE_CLICK=0]="SINGLE_CLICK",e[e.DOUBLE_CLICK=1]="DOUBLE_CLICK"})(l||(l={})),(e=>{e[e.NORMAL=0]="NORMAL",e[e.THIN=1]="THIN",e[e.HIDDEN=2]="HIDDEN"})(c||(c={})),(e=>{e[e.IF_PRESSED=0]="IF_PRESSED",e[e.NOT_PRESSED=1]="NOT_PRESSED"})(u||(u={})),(e=>{e[e.enabled=0]="enabled",e[e.userDisabled=1]="userDisabled",e[e.browserDisabled=2]="browserDisabled"})(p||(p={})),(e=>{e[e.smart=0]="smart",e[e.strict=1]="strict",e[e.none=2]="none",e[e.y_only=3]="y_only",e[e.x_only=4]="x_only"})(f||(f={}));o(576);function d(e,t){return(e=>{const t=Object.getOwnPropertyNames(e);for(let o=0;o<t.length;o++)delete e[t[o]]})(e),Object.assign(e,t)}const y={},h=async function(e){return browser.storage.onChanged.addListener((t=>{Object.entries(t).forEach((([t,{newValue:o}])=>{e[t]=o}))})),d(e,await browser.storage.local.get())}(y);Object.entries;const b=e=>"string"==typeof e,m=e=>!!e,g=()=>{const e=[];return e.splice(0,0,new Promise(((t,o)=>{e.push(t,o)}))),e};let E=!1;const O=browser.runtime.getPlatformInfo?browser.runtime.getPlatformInfo().then((({os:e})=>E="android"===e)):Promise.resolve(!1);let I=!1;O.then((e=>I=!e));let w=!1,L=!1,_=u.IF_PRESSED;async function v(){var e,t;const o=await h,n=function(e,t=!1){try{const o=new URL(e).hostname;return t&&o.startsWith("www.")?o.substring(4):o}catch(e){return""}}(location.href,!0);var r;L=o.IS_DISABLED||(null===(e=o.DISABLED_DOMAINS)||void 0===e?void 0:e[n])||function(e={},t){const{hostname:o,pathname:n,search:r,hash:a}=new URL(t),i=(o.startsWith("www.")?o.substring(4):o)+n+r+a;return!!Object.keys(e).find((e=>e.endsWith("*")?i.startsWith(e.slice(0,-1)):i===e))}(o.DISABLED_URL,location.href)||!1,_=o.DISABLE_TYPE||u.IF_PRESSED,w=!!(null===(t=o.DISABLED_HORIZONTAL_SCROLLING_DOMAINS)||void 0===t?void 0:t[n]),await(r={type:"updateIcon",status:L?p.userDisabled:p.enabled},browser.runtime.sendMessage(r))}"moz-extension:"!==self.location.protocol&&(h.then(v),browser.storage.onChanged.addListener(v));const D="#cdcdcd",S="#f0f0f0",A=(e=>{let t=!1;return(...o)=>{t||(t=!0,e(...o))}})((()=>{browser.storage.onChanged.addListener(P),P()})),N=t(),R=N?null:new class{constructor(){this._style=document.createElement("style"),this.injectToBody=e((()=>this.onDomLoaded()))}async onDomLoaded(){var e;await r,null===(e=document.head)||void 0===e||e.appendChild(this._style)}async loadRule(e){await this.injectToBody();const t=this._style.sheet;null==t||t.insertRule(e)}async unloadAll(){await this.injectToBody();const e=this._style.sheet;if(e)for(;e.cssRules.length>0;)e.deleteRule(0)}};let C=Array();async function P(){const e=await h;if(N){0,C.forEach((e=>e.unregister()));const t=j().join("\n");C=t?[await browser.contentScripts.register({css:[{code:t}],allFrames:!0,runAt:"document_start",matches:["<all_urls>"],excludeMatches:[[...Object.keys(e.DISABLED_DOMAINS||{}).flatMap((e=>[`*://www.${e}/*`,`*://${e}/*`])),...Object.keys(e.DISABLED_URL||{}).flatMap((e=>[`*://www.${e}`,`*://${e}`]))]].find((e=>e.length>0))})]:[]}else if(R){if(await R.unloadAll(),e.IS_DISABLED||L)return;const t=j();await Promise.all(t.map((e=>R.loadRule(e))))}}function j(){const{SCROLLBARS_WIDTH:e,SCROLLBARS_COLOR:t,SCROLLBARS_BACKGROUND:o,IS_DISABLED:n}=y;if(n)return[];const r=e||c.NORMAL,a=t||D,i=o||S;return[r===c.THIN&&"*:not(select) {scrollbar-width: thin}",r===c.HIDDEN&&"*:not(select) {scrollbar-width: none}",(a!==D||i!==S)&&`* {scrollbar-color: ${a} ${i}}`].filter(m)}const[B,M]=g(),T=Promise.resolve(),x=(e,t)=>e?browser.i18n.getMessage(e,t):"";new Map;r.then((()=>T)).then((function(){const e=document.querySelectorAll("[data-i]");for(let t=0,o=e.length;t<o;t++){const o=e[t],n=o.dataset,r=n.i,a=n.p,i=a?x(r,a.split("|")):x(r);o.appendChild(document.createTextNode(i))}const t=document.querySelectorAll("[data-a]");for(let e=0,o=t.length;e<o;e++){const o=t[e];let[n,r]=o.dataset.a.split("|");r=x(r),n?o.setAttribute(n,r):o.appendChild(document.createTextNode(r))}}));const U=new Set(["svg","path","circle","text"]);function k(e,t,o){const n=U.has(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);if(t){const e=b(t)?{textContent:t}:t;Object.entries(e).forEach((([t,o])=>{switch(t){case"text":case"textContent":n[t]=o;break;case"handlers":Object.assign(n,e.handlers);break;default:n.setAttribute(t,o)}}))}var r;return o&&(r=o,Array.isArray(r)?r:[r]).forEach((e=>{e&&n.appendChild(e)})),n}const G=k("div",{},[k("div",{class:"generated"})]);!async function(){await r;let e=0;var t;(t="click_me_button",document.getElementById(t)).onclick=t=>t.target.textContent="Click Me - "+ ++e,document.body.appendChild(k("div",{style:"display: flex; flex-direction: column; "},[])),document.body.appendChild(G),A()}()})()})();
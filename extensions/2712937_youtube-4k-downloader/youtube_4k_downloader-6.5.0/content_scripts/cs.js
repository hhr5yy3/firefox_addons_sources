!function(){let e=function(){let e=navigator.userAgent.toLowerCase(),t="";return-1<e.indexOf("opera")||-1<e.indexOf("opr")?t="opera":-1<e.indexOf("firefox")?t="firefox":-1<e.indexOf("edg")?t="edge":-1<e.indexOf("chrome")?t="chrome":-1<e.indexOf("safari")?t="safari":(-1<e.indexOf("msie")||1==!!document.documentMode)&&(t="ie"),t}(),D={},k="",U="",L={},S={},h="",a="",p=[],l="yt4k-main-wrapper",F="https://youtube4kdownloader.com/",m=F+"video/download/",f=F+"contact-us.html",v=F+"download-youtube-video.html",t=[],O=0;function u(e){try{D.runtime.sendMessage({command:"icon",data:e})}catch(e){}}async function o(){var e;(h=!!(z(e=document.location.href.match(/(?:v=|v\/|vi=|vi\/|youtu.be\/|embed\/|user\/.*\/.*\/.*\/)([a-zA-Z0-9_-]{11})(?:\/|\&|\?|#)?/i))&&1 in e)&&e[1])&&h==a||(u(0),g(),!h)||0<=p.indexOf(h)||0<=t.indexOf(h)||(p.push(h),a=h,async function(o,t){let e=0,a=!1;var n,i,r=await async function(e){let t=null,a=function(e){var t={};if(z(e=e.match(/ytcfg\.set\(({.*?})\)s*;/i))&&1 in e)try{"object"!=typeof(t=JSON.parse(e[1]))&&(t=JSON.parse(t))}catch(e){t={}}return N(t)?t:{}}(o);return t=N(a)&&!C(a)?await async function(e,n){{var t;let e=x(t=n,"INNERTUBE_CONTEXT_CLIENT_VERSION");e=(e=e||x(t,"INNERTUBE_CLIENT_VERSION"))||"19.29.1"}var t=x(n,"ID_TOKEN"),a=function(e,t){let a="",o=x(n,"DATASYNC_ID");return o||(yt_url=x(t,["responseContext","mainAppWebResponseContext","datasyncId"])),o&&(0<=o.indexOf("||")?1 in(e=o.split("||"))&&e[1]&&(a=e[1]):a=o),a}(0,{}),o=x(n,"SESSION_INDEX"),i=function(e){let t="GL",a=x(e,t);return a||(t="INNERTUBE_CONTEXT_GL",a=x(e,t)),a||(t=["INNERTUBE_CONTEXT","client","gl"],a=x(e,t)),a||(t=["WEB_PLAYER_CONTEXT_CONFIGS","WEB_PLAYER_CONTEXT_CONFIG_ID_KEVLAR_WATCH","contentRegion"],a=x(e,t)),a=(a=a||"US")&&(2===a.length?a.toUpperCase():"")}(n),r=function(e){let t="HL",a=x(e,t);return a||(t="INNERTUBE_CONTEXT_HL",a=x(e,t)),a||(t=["INNERTUBE_CONTEXT","client","hl"],a=x(e,t)),a||(t=["WEB_PLAYER_CONTEXT_CONFIGS","WEB_PLAYER_CONTEXT_CONFIG_ID_KEVLAR_WATCH","hostLanguage"],a=x(e,t)),a=(a=a||"en")&&(2===a.length?a.toLowerCase():"")}(n),c=x(n,["INNERTUBE_CONTEXT","client","timeZone"])||"UTC",i=function(e,t){let a="VISITOR_DATA",o=x(e,a);return o||(a=["INNERTUBE_CONTEXT","client","visitorData"],o=x(e,a)),o||(a=["responseContext","visitorData"],o=x(e,a)),o||(a=["client","visitorData"],o=x(t,a)),o}(n,r={client:{hl:r,gl:i,timeZone:c,userAgent:"com.google.ios.youtube/19.29.1 (iPhone16,2; U; CPU iOS 17_5_1 like Mac OS X;),gzip(gfe)",deviceMake:"Apple",deviceModel:"iPhone16,2",visitorData:"CgtWX0FucUc1WGZwcyiOrL-1BjIKCgJFRxIEGgAgFA%3D%3D",clientName:"iOS",clientVersion:"19.29.1",osName:"iPhone",osVersion:"17.5.1.21F90",originalUrl:"https://www.youtube.com/watch?v="+e+"&bpctr=9999999999&has_verified=1",playerType:"UNIPLAYER",screenPixelDensity:2,platform:"MOBILE",clientFormFactor:"SMALL_FORM_FACTOR",configInfo:{appInstallData:"CI6sv7UGENmlsQUQlqOxBRC5-LAFEParsAUQ4bz_EhC9irAFEMr5sAUQh9SvBRD8hbAFELWx_xIQqJOxBRDqw68FEL2ZsAUQqJqwBRCinbEFEJaVsAUQ2qCxBRCmk7EFEKi3sAUQmZixBRCU_rAFEP-IsQUQndCwBRCDuf8SENnJrwUQjcywBRCPlLEFENPhrwUQ49GwBRDQ-rAFEMnmsAUQ8Z2wBRC36v4SELfvrwUQpPWuBRCSnbEFEKXC_hIQkJKxBRD0q7AFEK-hsQUQsO6wBRCokrEFEI7asAUQ6-j-EhC15LAFENbdsAUQ8ZywBRDM364FENv-tyIQyfevBRCNlLEFEOX0sAUQxvWuBRCI468FENCNsAUQppKxBRCUibEFEL22rgUQzq-vBRCIh7AFEKrYsAUQ3ej-EhDViLAFEKKBsAUQ65mxBRDh7LAFEIeorwUQwaWxBRDvzbAFEJrwrwUQ-vCwBRDajLEFEP6csQUQyNiwBSocQ0FNU0R4VU1vTDJ3RE5Ia0J2emQtZ3NkQnc9PQ%3D%3D"},screenDensityFloat:2,tvAppInfo:{cobaltAppVersion:"19.29.1"},userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",browserName:"com.google.ios.youtube",browserVersion:"19.29.1",acceptHeader:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7",deviceExperimentId:"ChxOek01T1RNMk9EQTJPRGt6TURBeU9UWTNOQT09EI6sv7UGGI6sv7UG",utcOffsetMinutes:0,screenWidthPoints:412,screenHeightPoints:914,memoryTotalKbytes:"8000000",clientScreen:"WATCH",mainAppWebInfo:{graftUrl:"/watch?v="+e+"&pp=YAHIAQE%3D",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:{},consistencyTokenJars:{}}}),d={"Content-Type":"application/json"},s=JSON.stringify({context:r,videoId:e,params:"ygULTFhiM0VLV3NJblE%3D",playbackContext:{contentPlaybackContext:{currentUrl:"/watch?v="+e,vis:0,splay:!1,autoCaptionsDefaultOn:!1,autonavState:"STATE_NONE",html5Preference:"HTML5_PREF_WANTS",signatureTimestamp:19774,referer:"https://www.youtube.com/",lactMilliseconds:"-1",watchAmbientModeContext:{watchAmbientModeEnabled:!0}}},racyCheckOk:!1,contentCheckOk:!1});if(d["x-youtube-client-name"]="5",d["x-youtube-client-version"]="19.29.1",t&&(d["x-youtube-identity-token"]=t),i&&(d["x-goog-visitor-id"]=i),a&&(d["X-Goog-PageId"]=a),a||o){let e=0;o&&!isNaN(o)&&(e=parseInt(o)),d["x-goog-authuser"]=e}let h="",p=0;for(;p<1;){var l=await y("POST","https://www.youtube.com/youtubei/v1/player?prettyPrint=false",s,d);if(l){h=l;break}p++}let m=!1;if(h)try{"object"!=typeof(m=JSON.parse(h))&&(m=JSON.parse(m))}catch(e){}return m}(e,a):t}(t);if((a=r&&N(r)?b(r,t):a)||(r=await async function(h){var p,l,e=h.match(/ytInitialPlayerResponse\s*=\s*({.+?})\s*;/i);if(z(e)&&1 in e){e=e[1];try{"object"!=typeof(p=JSON.parse(e))&&(p=JSON.parse(p))}catch(e){}}return"object"!=typeof p&&(l=0,[{start:"var ytInitialPlayerResponse = ",add_left:"",add_right:""},{start:'player_response":"',add_left:'{"player_response":"',add_right:'"}'}].forEach(function(e){if(!l&&-1<h.indexOf(e.start)){l=1;for(var t=h.split(e.start)[1],a=-1,o=0,n=0,i=0,r=0;!i;){var c=t.indexOf("{",a+1),d=t.indexOf("}",a+1);-1<c&&(c<d||-1===d)&&(o++,a=c),-1<d&&(d<c||-1===c)&&(n++,a=d),(o===n||1e4<=r)&&(i=1),r++}var s=(s=t.substring(0,a+1)).replace(/\n/g," "),s=e.add_left+s+e.add_right;try{"object"!=typeof(p=JSON.parse(s))&&(p=JSON.parse(p))}catch(e){}}})),"object"==typeof p&&p}(o))&&N(r)&&(a=b(r,t)),!(e=a&&a.length&&(a[0],r=a[1],a[2],i=!1,r.forEach(function(e){("cipher"in e||"signatureCipher"in e||"url"in e&&-1<e.url.indexOf("&n="))&&(i=!0)}),!(n=i)||(k=(r=null,z(c=(c=o).match(/<script\s*src="([^"]+player[^"]+\.js)/))&&1 in c&&(r=c[1],c="",0===r.indexOf("//")?c="https:":0===r.indexOf("/")&&(c=document.location.origin),r=c+r),r)))?e:1)){t=await async function(e){const t=await w(e,0,"",0),n={a:[],av:[]};let i=0;if("a"in t&&t.a.length){const r={},c=(t.a.forEach(function(e){!Q(e,"ext")||"webm"!=e.ext&&"mp4"!=e.ext&&"m4a"!=e.ext||Q(r,e.ext)||(r[e.ext]=0,Q(e,"size")&&(r[e.ext]=e.size),n.a.push(e))}),[]);"av"in t&&t.av.length&&t.av.forEach(function(e){Q(e,"quality")&&(e=_(e),c.push(e))}),"v"in t&&t.v.length&&(t.v.forEach(function(a){if(!(i=0<=a.url.indexOf("&gcr=")||"cipher"in a&&0<=a.cipher.indexOf("%26gcr%3D")?1:i)&&Q(a,"quality")){var o=a.quality.replace(/\D/g,""),e=_(a);if(400<=o&&-1===c.indexOf(e)&&Q(a,"ext")&&Q(a,"vcodec")){let e=a.ext,t=0;"mp4"===a.ext?0<=a.vcodec.indexOf("avc1.")&&("mp4"in r||"m4a"in r)?t=1:0<=a.vcodec.indexOf("av01.")&&"webm"in r&&(t=1,e="webm"):"webm"===a.ext&&("vp9.2"===a.vcodec||"vp9"===a.vcodec)&&"webm"in r&&(t=1),t&&(o=Q(a,"size")&&Q(r,e)?parseInt(a.size)+parseInt(r[e]):"",a.orig_size=a.size,a.size=o,a.is_hd=1,a.ext=e,n.av.push(a))}}}),n.av.length?t.av.length&&(n.av=n.av.concat(t.av)):n.a.length&&(n.a=[]),Q(e=e[0],"title")&&(n.title=encodeURIComponent(e.title)),Q(e,"lengthSeconds"))&&(n.duration=e.lengthSeconds)}return n}(a),a[3]=t;var c=await w(a,n,"",1);if(p=function(e,t){e=t.indexOf(e);-1!==e&&t.splice(e,1);return t}(h,p),u(1),O=(r=new Date,r=parseInt(Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())/1e3)),!C(S=c)){var d=c;let e=`
            <section class="${l}" data-ytid="${h}" dir="ltr">
                <div class="yt4k-main-dl-btn"><span>Download</span><span>▼</span></div>
                <div class="yt4k-wrapper yt4k-hidden">
                    <form class="yt4k-form yt4k-hidden" method="post" target="_blank" action="${m}">
                        <input type="hidden" id="yt4k-json-data" name="data" value="">
                        <input type="submit" value="submit">
                    </form>
                    <form class="yt4k-form-get yt4k-hidden" method="get" target="_blank" action="">
                        <input type="submit" value="submit">
                    </form>
                    <header>
                        <div class="yt4k-head-label active" data-panel-id="panel-av"><span>Video</span></div>
                        <div class="yt4k-head-label" data-panel-id="panel-a"><span>Audio</span></div>
                        <div class="yt4k-head-label" data-panel-id="panel-v"><span>Video</span> <span><img src="${D.runtime.getURL("assets/mute.png")}" alt="Muted"></span></div>
                    </header>`;["av","a","v"].forEach(a=>{let o=`<table class="yt4k-links-table${"av"==a?" active":""}" id="panel-${a}"><tbody>`;a in d&&d[a].length?d[a].forEach((e,t)=>{o+=function(e,t,a){var o,n,i=Q(e,"ext")||"N/A",r=Q(e,"size")&&!isNaN(e.size)?e.size:"",c=r?(c=r)<1024?c+" Bytes":c<1048576?Math.round(c/1024)+" KB":c<1073741824?Math.round(c/1048576)+" MB":(c/1073741824).toFixed(1)+" GB":"N/A",d=Q(e,"quality")?((s=e.quality)?(n="av"==t||"v"==t?(0<(n=s).toLowerCase().indexOf("x")&&(n=n.toLowerCase().split("x")[0]),d="",720<=(n=parseInt(n.replace(/\D/g,"")))&&n<1080?d="HD":1080<=n&&n<1440?d="FHD":1440<=n&&n<2160?d="2K":2160<=n&&n<4320?d="4K":4320<=n&&(d="8K"),d):"")&&(s+=`<span class="yt4k-badge-hd">${n}</span>`):s="N/A",s):"N/A",s=Q(e,"hdr")?'<span class="yt4k-badge-hdr" title="'+e.hdr+' Video">'+e.hdr+"</span>":"",s=`<td class="yt4k-badges">${Q(e,"fps")?'<span class="yt4k-badge-fps'+(e.fps<=30?" yt4k-badge-fps-30":"")+'" title="'+e.fps+' FPS Video">'+e.fps+" <span>FPS</span></span>":""}${s}</td>`,i=`<td class="yt4k-format">${i}</td>`,h="",p="a"==t?(o="acodec","Audio"):(o="vcodec","Video");let l;return`
        <tr>
            <td class="yt4k-quality" title="${h=o in e&&e[o]&&"none"!==e[o]?p+" Codec: "+e[o]:h}">${d}</td>
            ${i}
            ${s}
            <td class="yt4k-size">
                <span class="yt4k-span-size">${c}</span>
                <div class="yt4k-btns yt4k-hidden">
                    ${`<a href="${"is_hd"in e||"is_pl"in e||"is_man"in e?(l=" yt4k-se-link","#"):(l="",e.url)}" target="_blank"${""} data-t="${t}" data-s="${r}" data-i="${a}" data-go="1"><span class="yt4k-dl-btn${l}"><span>Download</span><img src="${D.runtime.getURL("assets/dl.png")}" alt="Download"></span></a>`}
                </div>
            </td>
        </tr>
        `}(e,a,t)}):o+='<tr><td class="yt4k-no-links" colspan="3">no links here!</tr>',o+="</tbody></table>",e+=o});r=`
    <footer>
      <div class="icon support">
        <a href="${f}" target="_blank">
          <img width="20" height="20"
            title="Support"
            src="${D.runtime.getURL("assets/support.png")}"
            alt="support"
          />
        </a>
      </div>
      <div class="website">${'<form action="'+v+'" method="POST" target="_blank"><input type="hidden" name="data" value="" /><button type="submit">More Formats</button></form>'}</div>
      <div class="icon donate" style="display: none">
        <a href="#" target="_blank">
          <img width="20" height="20"
            title="Thank you ❤️"
            src="${D.runtime.getURL("assets/donate.png")}"
            alt="donate"
          />
        </a>
      </div>
    </footer>`;e+=r+"</div></section>",g();c=(r=(r=new DOMParser).parseFromString(e,"text/html")).documentElement.querySelector("."+l);if(c){(r=r.documentElement.querySelector("."+l+' footer .website form input[type="hidden"]'))&&(t=function(a){var o={srvName:"youtube",srcURL:document.location.href},i=[];return["id","duration","title","thumbnail","manifest","isLive","isPrivate"].forEach(e=>{var t;e in a&&a.hasOwnProperty(e)&&a[e]&&("isLive"===(t=e)?t="is_live":"isPrivate"===e?t="is_private":"manifest"===e&&(t="manifest_url"),o[t]=a[e])}),["a","v","av"].forEach(n=>{n in a&&a.hasOwnProperty(n)&&a[n].forEach((t,e)=>{if("av"===n&&"acodec"in t&&"none"===t.acodec?0:1){try{var a,o=function e(t){if(null!=t&&"object"==typeof t){if(t instanceof Date)return(a=new Date).setTime(t.getTime()),a;if(t instanceof Array){for(var a=[],o=0,n=t.length;o<n;o++)a[o]=e(t[o]);return a}if(t instanceof Object){var i,a={};for(i in t)t.hasOwnProperty(i)&&(a[i]=e(t[i]));return a}}return t}(t);"hdr"in t&&(o.dynamic_range=t.hdr,delete o.hdr),"size"in t&&(o.filesize=t.size,delete o.size),a="format_id"in t?t.format_id:n+e.toString().repeat(5),o.format_id=a}catch(e){o=t}i.push(o)}})}),o.formats=i,o}(d),r.value=JSON.stringify(t));{var s=c;let t=0,a=setInterval(()=>{var e;(e=E(s,"[id='subscribe-button']","ytd-video-secondary-info-renderer",0)||E(s,"[id='upload-info']","ytd-video-owner-renderer",1))||15<=t?(clearInterval(a),e&&(s.addEventListener("click",e=>{{var a=e.target,o=e;const n={"yt4k-main-dl-btn":A,"yt4k-head-label":R,"yt4k-dl-btn":T},i=l;let t=1;for(;t&&!a.classList.contains(i);)Object.keys(n).forEach(e=>{a.classList.contains(e)&&(n[e](a,o),t=0)}),a=a.parentNode}}),e=document.querySelector(".yt4k-wrapper"))&&e.querySelectorAll("table.yt4k-links-table").forEach(function(e){var t=0;(e=e.querySelectorAll("tbody tr td.yt4k-badges")).forEach(function(e){e.querySelector("span")&&(t=1)}),t||e.forEach(function(e){e.style.display="none"})})):t++},1e3)}}}}}(await q(document.location.origin+"/watch?v="+h),h))}function g(){var e=document.querySelectorAll("."+l);e&&e.length&&e.forEach(e=>{e&&e.parentNode.removeChild(e)})}function b(e,t){return!!(e&&N(e)&&(jsonData_arr=(t=t,o=[],n=[],i=[],r="",c=0,(c=j(e=e,"videoDetails")&&N(o=e.videoDetails)&&j(o,"videoId")&&(a=o.videoId)&&a!==t?1:c)||(j(e,"streamingData")&&(j(a=e.streamingData,"formats")&&(n=a.formats),j(a,"adaptiveFormats")&&(i=a.adaptiveFormats),j(a,"dashManifestUrl"))&&(r=a.dashManifestUrl),z(n)||(n=[]),z(i))||(i=[]),[o,n.concat(i),r]),z(jsonData_arr[1]))&&jsonData_arr[1].length)&&jsonData_arr;var a,o,n,i,r,c}function x(t,e,a=""){let o=0;return(e=z(e)?e:[e]).forEach(e=>{t=!o&&N(t)&&e in t&&t.hasOwnProperty(e)?t[e]:(o=1,a)}),t}async function q(e){return y("GET",e)}function y(i,r,c="",d={}){return new Promise(function(e,t){let a=new XMLHttpRequest;if(a.open(i,r),a.setRequestHeader("Cache-Control","no-cache"),N(d))for(const n in d){var o;Object.hasOwnProperty.call(d,n)&&(o=d[n],a.setRequestHeader(n,o))}a.onload=function(){200<=this.status&&this.status<300?e(a.response):e(null)},a.onerror=function(){e(null)};try{"post"==i.toLowerCase()&&c?a.send(c):a.send()}catch(e){t({error:e})}})}function _(e){var t="",a="",o="";return"quality"in e&&e.quality&&(t=e.quality.replace(/\D/g,"")),"ext"in e&&e.ext&&(a=e.ext),"hdr"in e&&e.hdr&&(o=e.hdr),a+"-"+t+"-"+("fps"in e&&e.fps?e.fps:"")+"-"+o}async function w(e,a,o,t){var n,i=0,r="",c="",d="",s="",h={a:[],av:[]},p=e[0],l=e[1],m=(4<=e.length&&(h=e[3]),j(p,"videoId")&&(r=p.videoId)&&(s="https://i.ytimg.com/vi/"+r+"/hqdefault.jpg"),c=(j(p,"title")?M(p.title):"")||"YouTube video",j(p,"lengthSeconds")&&(d=p.lengthSeconds),{id:r,title:c,thumbnail:s,isLive:j(p,"isLiveContent")&&p.isLiveContent?1:0,isPrivate:j(p,"isPrivate")&&p.isPrivate?1:0,manifest:2<=e.length?e[2]:"",a:[],v:[],av:[]});for(const T of l){var f="",v="",u="",g="",b="",x="",y=0,_=0;if(j(T,"url")||P(T)&&(T.url="url"),j(T,"url")){var w,x=T.url,E=Q(T,"itag"),A=E in(A={5:{ext:"flv",width:400,height:240,acodec:"mp3",abr:64,vcodec:"h263"},6:{ext:"flv",width:450,height:270,acodec:"mp3",abr:64,vcodec:"h263"},13:{ext:"3gp",acodec:"aac",vcodec:"mp4v"},17:{ext:"3gp",width:176,height:144,acodec:"aac",abr:24,vcodec:"mp4v"},18:{ext:"mp4",width:640,height:360,acodec:"aac",abr:96,vcodec:"h264"},22:{ext:"mp4",width:1280,height:720,acodec:"aac",abr:192,vcodec:"h264"},34:{ext:"flv",width:640,height:360,acodec:"aac",abr:128,vcodec:"h264"},35:{ext:"flv",width:854,height:480,acodec:"aac",abr:128,vcodec:"h264"},36:{ext:"3gp",width:320,acodec:"aac",vcodec:"mp4v"},37:{ext:"mp4",width:1920,height:1080,acodec:"aac",abr:192,vcodec:"h264"},38:{ext:"mp4",width:4096,height:3072,acodec:"aac",abr:192,vcodec:"h264"},43:{ext:"webm",width:640,height:360,acodec:"vorbis",abr:128,vcodec:"vp8"},44:{ext:"webm",width:854,height:480,acodec:"vorbis",abr:128,vcodec:"vp8"},45:{ext:"webm",width:1280,height:720,acodec:"vorbis",abr:192,vcodec:"vp8"},46:{ext:"webm",width:1920,height:1080,acodec:"vorbis",abr:192,vcodec:"vp8"},59:{ext:"mp4",width:854,height:480,acodec:"aac",abr:128,vcodec:"h264"},78:{ext:"mp4",width:854,height:480,acodec:"aac",abr:128,vcodec:"h264"},82:{ext:"mp4",height:360,format_note:"3D",acodec:"aac",abr:128,vcodec:"h264",preference:-20},83:{ext:"mp4",height:480,format_note:"3D",acodec:"aac",abr:128,vcodec:"h264",preference:-20},84:{ext:"mp4",height:720,format_note:"3D",acodec:"aac",abr:192,vcodec:"h264",preference:-20},85:{ext:"mp4",height:1080,format_note:"3D",acodec:"aac",abr:192,vcodec:"h264",preference:-20},100:{ext:"webm",height:360,format_note:"3D",acodec:"vorbis",abr:128,vcodec:"vp8",preference:-20},101:{ext:"webm",height:480,format_note:"3D",acodec:"vorbis",abr:192,vcodec:"vp8",preference:-20},102:{ext:"webm",height:720,format_note:"3D",acodec:"vorbis",abr:192,vcodec:"vp8",preference:-20},91:{ext:"mp4",height:144,format_note:"HLS",acodec:"aac",abr:48,vcodec:"h264",preference:-10},92:{ext:"mp4",height:240,format_note:"HLS",acodec:"aac",abr:48,vcodec:"h264",preference:-10},93:{ext:"mp4",height:360,format_note:"HLS",acodec:"aac",abr:128,vcodec:"h264",preference:-10},94:{ext:"mp4",height:480,format_note:"HLS",acodec:"aac",abr:128,vcodec:"h264",preference:-10},95:{ext:"mp4",height:720,format_note:"HLS",acodec:"aac",abr:256,vcodec:"h264",preference:-10},96:{ext:"mp4",height:1080,format_note:"HLS",acodec:"aac",abr:256,vcodec:"h264",preference:-10},132:{ext:"mp4",height:240,format_note:"HLS",acodec:"aac",abr:48,vcodec:"h264",preference:-10},151:{ext:"mp4",height:72,format_note:"HLS",acodec:"aac",abr:24,vcodec:"h264",preference:-10},133:{ext:"mp4",height:240,format_note:"DASH video",vcodec:"h264"},134:{ext:"mp4",height:360,format_note:"DASH video",vcodec:"h264"},135:{ext:"mp4",height:480,format_note:"DASH video",vcodec:"h264"},136:{ext:"mp4",height:720,format_note:"DASH video",vcodec:"h264"},137:{ext:"mp4",height:1080,format_note:"DASH video",vcodec:"h264"},138:{ext:"mp4",format_note:"DASH video",vcodec:"h264"},160:{ext:"mp4",height:144,format_note:"DASH video",vcodec:"h264"},212:{ext:"mp4",height:480,format_note:"DASH video",vcodec:"h264"},264:{ext:"mp4",height:1440,format_note:"DASH video",vcodec:"h264"},298:{ext:"mp4",height:720,format_note:"DASH video",vcodec:"h264",fps:60},299:{ext:"mp4",height:1080,format_note:"DASH video",vcodec:"h264",fps:60},266:{ext:"mp4",height:2160,format_note:"DASH video",vcodec:"h264"},139:{ext:"m4a",format_note:"DASH audio",acodec:"aac",abr:48,container:"m4a_dash"},140:{ext:"m4a",format_note:"DASH audio",acodec:"aac",abr:128,container:"m4a_dash"},141:{ext:"m4a",format_note:"DASH audio",acodec:"aac",abr:256,container:"m4a_dash"},256:{ext:"m4a",format_note:"DASH audio",acodec:"aac",container:"m4a_dash"},258:{ext:"m4a",format_note:"DASH audio",acodec:"aac",container:"m4a_dash"},325:{ext:"m4a",format_note:"DASH audio",acodec:"dtse",container:"m4a_dash"},328:{ext:"m4a",format_note:"DASH audio",acodec:"ec-3",container:"m4a_dash"},167:{ext:"webm",height:360,width:640,format_note:"DASH video",container:"webm",vcodec:"vp8"},168:{ext:"webm",height:480,width:854,format_note:"DASH video",container:"webm",vcodec:"vp8"},169:{ext:"webm",height:720,width:1280,format_note:"DASH video",container:"webm",vcodec:"vp8"},170:{ext:"webm",height:1080,width:1920,format_note:"DASH video",container:"webm",vcodec:"vp8"},218:{ext:"webm",height:480,width:854,format_note:"DASH video",container:"webm",vcodec:"vp8"},219:{ext:"webm",height:480,width:854,format_note:"DASH video",container:"webm",vcodec:"vp8"},278:{ext:"webm",height:144,format_note:"DASH video",container:"webm",vcodec:"vp9"},242:{ext:"webm",height:240,format_note:"DASH video",vcodec:"vp9"},243:{ext:"webm",height:360,format_note:"DASH video",vcodec:"vp9"},244:{ext:"webm",height:480,format_note:"DASH video",vcodec:"vp9"},245:{ext:"webm",height:480,format_note:"DASH video",vcodec:"vp9"},246:{ext:"webm",height:480,format_note:"DASH video",vcodec:"vp9"},247:{ext:"webm",height:720,format_note:"DASH video",vcodec:"vp9"},248:{ext:"webm",height:1080,format_note:"DASH video",vcodec:"vp9"},271:{ext:"webm",height:1440,format_note:"DASH video",vcodec:"vp9"},272:{ext:"webm",height:2160,format_note:"DASH video",vcodec:"vp9"},302:{ext:"webm",height:720,format_note:"DASH video",vcodec:"vp9",fps:60},303:{ext:"webm",height:1080,format_note:"DASH video",vcodec:"vp9",fps:60},308:{ext:"webm",height:1440,format_note:"DASH video",vcodec:"vp9",fps:60},313:{ext:"webm",height:2160,format_note:"DASH video",vcodec:"vp9"},315:{ext:"webm",height:2160,format_note:"DASH video",vcodec:"vp9",fps:60},171:{ext:"webm",acodec:"vorbis",format_note:"DASH audio",abr:128},172:{ext:"webm",acodec:"vorbis",format_note:"DASH audio",abr:256},249:{ext:"webm",format_note:"DASH audio",acodec:"opus",abr:50},250:{ext:"webm",format_note:"DASH audio",acodec:"opus",abr:70},251:{ext:"webm",format_note:"DASH audio",acodec:"opus",abr:160},_rtmp:{protocol:"rtmp"},394:{acodec:"none",vcodec:"av01.0.05M.08"},395:{acodec:"none",vcodec:"av01.0.05M.08"},396:{acodec:"none",vcodec:"av01.0.05M.08"},397:{acodec:"none",vcodec:"av01.0.05M.08"},330:{ext:"webm",height:144,width:256,format_note:"144p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},331:{ext:"webm",height:240,width:426,format_note:"240p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},332:{ext:"webm",height:360,width:640,format_note:"360p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},333:{ext:"webm",height:480,width:854,format_note:"480p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},334:{ext:"webm",height:720,width:1280,format_note:"720p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},335:{ext:"webm",height:1080,width:1920,format_note:"1080p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},336:{ext:"webm",height:1440,width:2560,format_note:"1440p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},337:{ext:"webm",height:2160,width:3840,format_note:"2160p60 HDR",container:"webm",acodec:"none",vcodec:"vp9.2",fps:60},398:{ext:"mp4",height:720,width:1280,format_note:"720p60",container:"mp4",acodec:"none",vcodec:"av01.0.08M.10.0.110.09.16.09.0",fps:60},399:{ext:"mp4",height:1080,width:1920,format_note:"1080p60",container:"mp4",acodec:"none",vcodec:"av01.0.09M.10.0.110.09.16.09.0",fps:60},400:{ext:"mp4",height:1440,width:2560,format_note:"1440p60",container:"mp4",acodec:"none",vcodec:"av01.0.12M.10.0.110.09.16.09.0",fps:60},401:{ext:"mp4",height:2160,width:3840,format_note:"2160p60",container:"mp4",acodec:"none",vcodec:"av01.0.13M.10.0.110.09.16.09.0",fps:60}})?A[E]:{},D=Q(T,"type"),S=Q(T,"protocol");if(Q(T,"mimeType")&&z(O=T.mimeType.match(/(video|audio)\/(.*);\scodecs="(?:(?:(.*?)?,\s(.*?)?)|(.*?)?)"/))&&(g=g||Q(O,2),"audio"==Q(O,1)?f=(f=Q(O,5))||Q(O,4):"video"==Q(O,1)&&(v=(v=Q(O,5))||Q(O,3),f=Q(O,4))),v=v||Q(A,"vcodec")||"none",w="none"===(f=f||Q(A,"acodec")||"none")?"v":"none"===v?"a":"av",C=x,-1===D.indexOf("TYPE_OTF")&&-1===C.indexOf("source=yt_otf")&&-1===C.indexOf("/source/yt_otf/")&&-1===C.indexOf("source%3Dyt_otf")&&-1===C.indexOf("manifest.googlevideo.com/api/manifest/dash")?(C=x,-1===(N=S).indexOf("m3u8")&&-1===N.indexOf("dash_segments")&&-1===C.indexOf("m3u8")&&-1===C.indexOf(".mpd")||(_=1)):y=1,x){a&&o&&(x=B(T,o));var g=g||Q(A,"ext"),O=Q(T,"contentLength"),D=Q(T,"width")||Q(A,"width"),N=S=Q(T,"qualityLabel");N&&(0<N.indexOf("p")&&(N=N.split("p")[0]),isNaN(N)||(u=N+"p")),(N=(N=Q(T,"height"))||Q(A,"height"))&&!u&&(u=N+"p");C=(C=Q(T,"fps")||Q(A,"fps"))&&Math.ceil(parseFloat(C));var C,d=d||Q(T,"approxDurationMs");if(S=(S=S||Q(T,"quality"))||Q(A,"format_note"),"none"!=f&&"none"==v){let e=Q(T,"audioQuality");S=(e=(e=e||Q(T,"quality"))||Q(A,"format_note")).replace("AUDIO_QUALITY_","").toLowerCase()}!(u=S&&!u?S:u)&&"format"in T&&-1!==(A=T.format.indexOf(" - "))&&(u=(u=(u=T.format.substring(A+3)).replace(" (DASH video)","")).replace(" (DASH audio)","")),"format"in T&&-1!==T.format.indexOf(" HDR")||S&&-1!==S.indexOf(" HDR")?b="HDR":("format"in T&&-1!==T.format.indexOf(" SDR")||S&&-1!==S.indexOf(" SDR"))&&(b="SDR"),A={url:x,acodec:f,vcodec:v,width:D,height:N,quality:u,format_note:S,ext:g,size:O,fps:C,hdr:b,format_id:E},y&&(A.is_man=y),_&&(A.is_pl=_),(x=P(T))&&(A.cipher=x),m[w].push(A),i=1}}}if(i){if(h.av.length&&(h.av.forEach(function(e,t){a&&o&&(h.av[t].url=B(e,o))}),m.av=h.av),t)for(const H of["a","v","av"])if(H in m&&m[H].length){let a=0;for(const I of m[H]){if(j(I,"url")&&-1<I.url.indexOf("&n=")){let t=I.url;n="n",R=t,n="n".replace(/[\[\]]/g,"\\$&");var R=(n=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(R))?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null;if(R){let e;R in L?e=L[R]:(e=await async function(e){let t=e;U=U||function(){let e="",t=k.match(/\/player\/(.+)\/player/);return e=z(t)&&1 in t&&t[1].length?t[1]:e}(),e=F+"extension_decoder/"+U+"/"+e;try{var a,o=await q(e);o&&"status"in(a=JSON.parse(o))&&"success"==a.status&&"n"in a&&a.n.length&&(t=a.n)}catch(e){}return t}(R)).length&&(L[R]=e),e.length&&(t=t.replace("&n="+R,"&n="+e),m[H][a].url=t)}}a++}}return m.duration=d,m.a=$(m.a,"quality"),m.v=$(m.v,"quality"),m.av=$(m.av,"quality"),m}return[]}function M(e){var t=e;try{t=decodeURIComponent(e.replace(/\+/g,"%20"))}catch(e){}return t}function B(e,t){var o,a,n=e.url;return(e=P(e))&&"url"in(a={},e.split("&").forEach(function(e){e=e.split("="),a[e[0]]=M(e[1])}),e=a)&&"sp"in e&&"s"in e&&(n=e.url,n+="&"+e.sp+"="+(o=e.s,e=t,o=decodeURIComponent(o),e.forEach(function(e){var t,a=e[0],e=parseInt(e[1]);"sw"==a?(t=e%o.length,o=o[t]+o.substring(1,t)+o[0]+o.substring(1+t)):"sp"==a?o=o.substring(e):"re"==a&&(o=o.split("").reverse().join(""))}),encodeURIComponent(o.trim()))),n}function P(e){var t="";return j(e,"cipher")?t=e.cipher:j(e,"signatureCipher")&&(t=e.signatureCipher),t}function E(a,e,o,n){let i=0,t=document.querySelectorAll(e);return t&&t.length&&t.forEach(e=>{var t;e.classList.contains(o)&&(t=(t=e).getBoundingClientRect()).width&&t.height&&(posElem=n?e.nextSibling:e,e.parentNode.insertBefore(a,posElem),i=1)}),i}function A(e){var t=document.querySelector(".yt4k-wrapper");t&&t.classList.toggle("yt4k-hidden")}function R(e){var t=document.querySelectorAll(".yt4k-head-label");t&&t.length&&t.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),(t=e.getAttribute("data-panel-id"))&&(e=document.querySelector("table#"+t))&&((t=document.querySelectorAll("table.yt4k-links-table"))&&t.length&&t.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"))}function T(e,t){var a=Q(S,"title"),o=e.classList.contains("yt4k-se-link"),n=e.parentNode.getAttribute("data-t"),i=e.parentNode.getAttribute("data-s"),r=e.parentNode.getAttribute("data-i");let c=e.parentNode.getAttribute("data-go"),d=e.parentNode.getAttribute("href"),s="",h,p=0;if(c)if(e.parentNode.setAttribute("data-go",0),o){if(t.preventDefault(),n in S&&r in S[n]){var o=S[n][r],r=Q(S,"id"),l=Q(S,"duration"),m=Q(S,"manifest");if(h={id:r,title:a,duration:l,manifest:m,time:O,[n]:[{url:Q(o,"url"),vcodec:Q(o,"vcodec"),ext:Q(o,"ext"),size:Q(o,"orig_size")}]},p=1,Q(o,"is_hd")&&(h[n][0].is_hd=o.is_hd),Q(o,"is_man")?h[n][0].is_man=o.is_man:Q(o,"is_pl")&&(h[n][0].is_pl=o.is_pl),Q(o,"is_hd")&&Q(o,"ext")&&Q(S,"a")){const v=o.ext;let t=null;S.a.forEach(e=>{t||Q(e,"ext")!=v||(t=e)}),t?(h.a=[{url:Q(t,"url"),ext:Q(t,"ext"),size:Q(t,"size")}],Q(t,"is_man")?h.a[0].is_man=t.is_man:Q(t,"is_pl")&&(h.a[0].is_pl=t.is_pl)):p=0}}p&&(r=document.querySelector("form.yt4k-form"))&&(l=r.querySelector("#yt4k-json-data"))&&(m=JSON.stringify(h),l.value=m,r.submit()),setTimeout(()=>{e.parentNode.setAttribute("data-go",1)},1e3)}else{-1===d.indexOf("&range=")&&(s="&range=0-",i&&!isNaN(i)&&i<10485760&&(s+=i-1),d+=s);const u=0<d.indexOf("webm&")?"webm":0<d.indexOf("3gpp&")||0<d.indexOf("3gp&")?"3gp":"mp4",g=0<d.indexOf("&mime=audio")?"-audio":"",b=document.querySelector("form.yt4k-form-get"),x=a+g,y=encodeURIComponent(x.replace(/[/\\?%*:;|"<>]/g,"-")+"."+u),_=d+"&title="+y;if(n=function(){var t,e;try{"manifest_version"in(e=chrome.runtime.getManifest())?t=e.manifest_version:"manifestVersion"in e&&(t=e.manifestVersion)}catch(e){t=3}return parseInt(t)}(),0<_.indexOf("?")&&0<_.indexOf("&")&&b){t.preventDefault();{for(var f=b,o=_;f.firstChild;)f.removeChild(f.lastChild);const w=o.split("?"),E=w[1].split("&"),A=document.createDocumentFragment();E.forEach(e=>{var e=e.split("="),t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e[0]),t.setAttribute("value",decodeURIComponent(e[1])),A.appendChild(t)}),f.appendChild(A),f.setAttribute("action",w[0])}2==n?b.submit():D.runtime.sendMessage({command:"title",data:y},function(e){"done"===e&&(setTimeout(()=>{b.submit()},1),setTimeout(()=>{D.runtime.sendMessage({command:"remove_title",data:1})},5e3))})}}}function Q(e,t){return t in e&&e[t]?e[t]:""}function j(e){for(var t=Array.prototype.slice.call(arguments),e=t.shift(),a=0;a<t.length;a++){if(null==e||!e.hasOwnProperty(t[a]))return;e=e[t[a]]}return 1}function $(e,a){return e.sort(function(e,t){return parseInt(e[a])<parseInt(t[a])?1:parseInt(e[a])>parseInt(t[a])?-1:0})}function z(e){return"[object Array]"===Object.prototype.toString.apply(e)}function N(e){return"[object Object]"===Object.prototype.toString.apply(e)}function C(e){return 0===Object.keys(e).length}-1<["chrome","edge","opera"].indexOf(e)?D=chrome:-1<["firefox"].indexOf(e)?D=browser:"undefined"!=typeof chrome?D=chrome:"undefined"!=typeof browser&&(D=browser),window.addEventListener("load",async function(){u(0),a="",await o(),document.addEventListener("click",e=>{var t=document.querySelector("."+l);t&&!t.contains(e.target)&&(t=document.querySelector(".yt4k-wrapper"))&&t.classList.add("yt4k-hidden")});var t=document.location.href;setInterval(async()=>{var e=document.location.href;e!=t&&(t=e,await o())},1e3)})}();
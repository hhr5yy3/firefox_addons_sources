const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./cplx-E1EP-vVk.js","./cplx-CejnDNPm.js","./cplx-M4JPizzD.js","./cplx-Cdcyb6EG.js","./cplx-BbAh7E-i.js","./cplx-DEt7CUyc.js","./cplx-CVsLL7Ku.js","./cplx-CzQHx1MX.js","./cplx-DewpVJ-0.js","./cplx-CCGYIZQf.js"])))=>i.map(i=>d[i]);
import{f as m,_ as d,i as p}from"./cplx-CejnDNPm.js";import{m as f,n as h,j as o,Q as y,I as g,l as x,T as P,R as L}from"./cplx-DEt7CUyc.js";import{$ as v}from"./cplx-BbAh7E-i.js";import{A as R}from"./cplx-Cdcyb6EG.js";import{h as E,q as n,E as O,f as S,g as T,e as q}from"./cplx-CVsLL7Ku.js";import{g as _}from"./cplx-BkZI4zpB.js";import"./cplx-M4JPizzD.js";import"./cplx-CzQHx1MX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=a(e);fetch(e.href,s)}})();const u=E("extensionPermissions",{permissions:{queryKey:null,queryFn:()=>chrome.permissions.getAll()}});class j{static setupReactiveListeners(){chrome.permissions.onAdded.addListener(t=>{n.invalidateQueries({queryKey:u.permissions.queryKey})}),chrome.permissions.onRemoved.addListener(t=>{n.invalidateQueries({queryKey:u.permissions.queryKey})})}}function I(){O.initializeReactiveStore(),j.setupReactiveListeners();const r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";v("html").attr("data-color-scheme",r),l(),R.BROWSER==="chrome"&&n.getMutationCache().subscribe(async({mutation:t,type:a})=>{const i=t==null?void 0:t.options.mutationKey;if(!i)return;const e=i[0]==="customTheme"&&t.state.status==="success"&&a==="updated",s=i[0]==="updateExtensionLocalStorage"&&t.state.status==="success"&&a==="updated";(e||s)&&l()})}async function l(){const r=(await S()).theme;_().updateThemeConfig({chosenThemeId:r,css:await T(r)})}await Promise.all([m(),f(),n.prefetchQuery(q.data),I()]);(async()=>{const[{router:r}]=await Promise.all([d(()=>import("./cplx-E1EP-vVk.js").then(t=>t.r),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)]);h.createRoot(document.getElementById("app")).render(o.jsxs(y,{client:n,children:[o.jsxs(g,{i18n:p,children:[o.jsx(x,{router:r}),o.jsx(P,{})]}),o.jsx(L,{})]}))})();export{u as e};

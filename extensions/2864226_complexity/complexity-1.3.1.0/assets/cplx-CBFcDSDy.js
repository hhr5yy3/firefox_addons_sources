import{r as b}from"./cplx-M4JPizzD.js";import{g as Y}from"./cplx-BbAh7E-i.js";import{z as Z}from"./cplx-DEt7CUyc.js";var G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const K=Y(G);var Q=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function W(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(K[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var o=new RegExp(Q),s=null;(s=o.exec(e))!==null;)if(s[0].trim())if(s[1]){var l=s[1].trim(),u=[l,""];l.indexOf("=")>-1&&(u=l.split("=")),n.attrs[u[0]]=u[1],o.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var ee=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,te=/^\s*$/,ne=Object.create(null);function z(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var r=[];for(var o in t)r.push(o+'="'+t[o]+'"');return r.length?" "+r.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(z,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var re={parse:function(e,n){n||(n={}),n.components||(n.components=ne);var t,r=[],o=[],s=-1,l=!1;if(e.indexOf("<")!==0){var u=e.indexOf("<");r.push({type:"text",content:u===-1?e:e.substring(0,u)})}return e.replace(ee,function(h,N){if(l){if(h!=="</"+t.name+">")return;l=!1}var d,g=h.charAt(1)!=="/",$=h.startsWith("<!--"),y=N+h.length,c=e.charAt(y);if($){var T=W(h);return s<0?(r.push(T),r):((d=o[s]).children.push(T),r)}if(g&&(s++,(t=W(h)).type==="tag"&&n.components[t.name]&&(t.type="component",l=!0),t.voidElement||l||!c||c==="<"||t.children.push({type:"text",content:e.slice(y,e.indexOf("<",y))}),s===0&&r.push(t),(d=o[s-1])&&d.children.push(t),o[s]=t),(!g||t.voidElement)&&(s>-1&&(t.voidElement||t.name===h.slice(2,-1))&&(s--,t=s===-1?r:o[s]),!l&&c!=="<"&&c)){d=s===-1?r:o[s].children;var i=e.indexOf("<",y),f=e.slice(y,i===-1?void 0:i);te.test(f)&&(f=" "),(i>-1&&s+d.length>=0||f!==" ")&&d.push({type:"text",content:f})}}),r},stringify:function(e){return e.reduce(function(n,t){return n+z("",t)},"")}};const _=(e,n,t,r)=>{var s,l,u,h;const o=[t,{code:n,...r||{}}];if((l=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&l.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);O(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(h=(u=e==null?void 0:e.services)==null?void 0:u.logger)!=null&&h.warn?e.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},M={},R=(e,n,t,r)=>{O(t)&&M[t]||(O(t)&&(M[t]=new Date),_(e,n,t,r))},O=e=>typeof e=="string",j=e=>typeof e=="object"&&e!==null,se=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ae={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},oe=e=>ae[e],ie=e=>e.replace(se,oe);let ce={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ie};const le=()=>ce;let ue;const q=()=>ue,B=(e,n)=>{var r;if(!e)return!1;const t=((r=e.props)==null?void 0:r.children)??e.children;return n?t.length>0:!!t},P=e=>{var t,r;if(!e)return[];const n=((t=e.props)==null?void 0:t.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?S(n):n},pe=e=>Array.isArray(e)&&e.every(b.isValidElement),S=e=>Array.isArray(e)?e:[e],fe=(e,n)=>{const t={...n};return t.props=Object.assign(e.props,n.props),t},J=(e,n,t,r)=>{if(!e)return"";let o="";const s=S(e),l=n!=null&&n.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((u,h)=>{if(O(u)){o+=`${u}`;return}if(b.isValidElement(u)){const{props:N,type:d}=u,g=Object.keys(N).length,$=l.indexOf(d)>-1,y=N.children;if(!y&&$&&!g){o+=`<${d}/>`;return}if(!y&&(!$||g)||N.i18nIsDynamicList){o+=`<${h}></${h}>`;return}if($&&g===1&&O(y)){o+=`<${d}>${y}</${d}>`;return}const c=J(y,n,t,r);o+=`<${h}>${c}</${h}>`;return}if(u===null){_(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(j(u)){const{format:N,...d}=u,g=Object.keys(d);if(g.length===1){const $=N?`${g[0]}, ${N}`:g[0];o+=`{{${$}}}`;return}_(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:u});return}_(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:u})}),o},me=(e,n,t,r,o,s)=>{if(n==="")return[];const l=r.transKeepBasicHtmlNodesFor||[],u=n&&new RegExp(l.map(i=>`<${i}`).join("|")).test(n);if(!e&&!u&&!s)return[n];const h={},N=i=>{S(i).forEach(p=>{O(p)||(B(p)?N(P(p)):j(p)&&!b.isValidElement(p)&&Object.assign(h,p))})};N(e);const d=re.parse(`<0>${n}</0>`),g={...h,...o},$=(i,f,p)=>{var m;const x=P(i),k=c(x,f.children,p);return pe(x)&&k.length===0||(m=i.props)!=null&&m.i18nIsDynamicList?x:k},y=(i,f,p,x,k)=>{i.dummy?(i.children=f,p.push(b.cloneElement(i,{key:x},k?void 0:f))):p.push(...b.Children.map([i],m=>{const a={...m.props};return delete a.i18nIsDynamicList,b.createElement(m.type,{...a,key:x,ref:m.ref},k?null:f)}))},c=(i,f,p)=>{const x=S(i);return S(f).reduce((m,a,C)=>{var D,V;const w=((V=(D=a.children)==null?void 0:D[0])==null?void 0:V.content)&&t.services.interpolator.interpolate(a.children[0].content,g,t.language);if(a.type==="tag"){let A=x[parseInt(a.name,10)];p.length===1&&!A&&(A=p[0][a.name]),A||(A={});const E=Object.keys(a.attrs).length!==0?fe({props:a.attrs},A):A,I=b.isValidElement(E),L=I&&B(a,!0)&&!a.voidElement,F=u&&j(E)&&E.dummy&&!I,H=j(e)&&Object.hasOwnProperty.call(e,a.name);if(O(E)){const v=t.services.interpolator.interpolate(E,g,t.language);m.push(v)}else if(B(E)||L){const v=$(E,a,p);y(E,v,m,C)}else if(F){const v=c(x,a.children,p);y(E,v,m,C)}else if(Number.isNaN(parseFloat(a.name)))if(H){const v=$(E,a,p);y(E,v,m,C,a.voidElement)}else if(r.transSupportBasicHtmlNodes&&l.indexOf(a.name)>-1)if(a.voidElement)m.push(b.createElement(a.name,{key:`${a.name}-${C}`}));else{const v=c(x,a.children,p);m.push(b.createElement(a.name,{key:`${a.name}-${C}`},v))}else if(a.voidElement)m.push(`<${a.name} />`);else{const v=c(x,a.children,p);m.push(`<${a.name}>${v}</${a.name}>`)}else if(j(E)&&!I){const v=a.children[0]?w:null;v&&m.push(v)}else y(E,w,m,C,a.children.length!==1||!w)}else if(a.type==="text"){const A=r.transWrapTextNodes,E=s?r.unescape(t.services.interpolator.interpolate(a.content,g,t.language)):t.services.interpolator.interpolate(a.content,g,t.language);A?m.push(b.createElement(A,{key:`${a.name}-${C}`},E)):m.push(E)}return m},[])},T=c([{dummy:!0,children:e||[]}],d,S(e||[]));return P(T[0])},X=(e,n,t)=>{const r=e.key||n,o=b.cloneElement(e,{key:r});if(!o.props||!o.props.children||t.indexOf(`${n}/>`)<0&&t.indexOf(`${n} />`)<0)return o;function s(){return b.createElement(b.Fragment,null,o)}return b.createElement(s)},he=(e,n)=>e.map((t,r)=>X(t,r,n)),ge=(e,n)=>{const t={};return Object.keys(e).forEach(r=>{Object.assign(t,{[r]:X(e[r],r,n)})}),t},ye=(e,n,t,r)=>e?Array.isArray(e)?he(e,n):j(e)?ge(e,n):(R(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function de({children:e,count:n,parent:t,i18nKey:r,context:o,tOptions:s={},values:l,defaults:u,components:h,ns:N,i18n:d,t:g,shouldUnescape:$,...y}){var E,I,L,F,H,v;const c=d||q();if(!c)return R(c,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const T=g||c.t.bind(c)||(U=>U),i={...le(),...(E=c.options)==null?void 0:E.react};let f=N||T.ns||((I=c.options)==null?void 0:I.defaultNS);f=O(f)?[f]:f||["translation"];const p=J(e,i,c,r),x=u||p||i.transEmptyNodeValue||r,{hashTransKey:k}=i,m=r||(k?k(p||x):p||x);(F=(L=c.options)==null?void 0:L.interpolation)!=null&&F.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...c.options.interpolation.defaultVariables}:{...c.options.interpolation.defaultVariables});const a=l||n!==void 0&&!((v=(H=c.options)==null?void 0:H.interpolation)!=null&&v.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},C={...s,context:o||s.context,count:n,...l,...a,defaultValue:x,ns:f},w=m?T(m,C):x,D=ye(h,w,c,r),V=me(D||e,w,c,i,C,$),A=t??i.defaultTransParent;return A?b.createElement(A,y,V):V}function be({children:e,count:n,parent:t,i18nKey:r,context:o,tOptions:s={},values:l,defaults:u,components:h,ns:N,i18n:d,t:g,shouldUnescape:$,...y}){var p;const{i18n:c,defaultNS:T}=b.useContext(Z)||{},i=d||c||q(),f=g||(i==null?void 0:i.t.bind(i));return de({children:e,count:n,parent:t,i18nKey:r,context:o,tOptions:s,values:l,defaults:u,components:h,ns:N||(f==null?void 0:f.ns)||T||((p=i==null?void 0:i.options)==null?void 0:p.defaultNS),i18n:i,t:g,shouldUnescape:$,...y})}export{be as T};

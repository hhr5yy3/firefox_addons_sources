(function(){"use strict";const i=(t,m)=>new Promise((d,s)=>{const r=`hook:tests:${t}`;let a;const o=e=>{if(e.data.hook===r){if(self.removeEventListener("message",o),clearTimeout(a),e.data.error){s(e.data.error);return}d(e.data.payload)}},n=60;a=setTimeout(()=>{self.removeEventListener("message",o),s(new Error(`The hook "${t}" timed out after ${n} seconds`))},1e3*n),self.addEventListener("message",o),self.postMessage({emitter:r,hook:`hook:extension:${t}`,payload:m},"*")});self.top.dispatchHook=i})();

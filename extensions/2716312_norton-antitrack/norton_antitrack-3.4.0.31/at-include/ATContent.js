(()=>{let e;var n;(n=e||(e={})).GET_MAINFRAME_SETTINGS="GET_MAINFRAME_SETTINGS",n.GET_SUBFRAME_SETTINGS="GET_SUBFRAME_SETTINGS",n.TRACKER_FINGERPRINTING="TRACKER_FINGERPRINTING",n.NEW_HOSTS_DISCOVERED="NEW_HOSTS_DISCOVERED",n.PROTECTION_APPLIED="PROTECTION_APPLIED";const o=()=>{try{return window.self!==window.top}catch(e){return!0}};void 0===window.browser&&"undefined"!=typeof chrome&&(window.browser=chrome);let t="NONE";window.onmessage=n=>{const i=n.data;i?.id!==e.TRACKER_FINGERPRINTING&&i?.id!==e.PROTECTION_APPLIED||(o()&&(i.trackerDomain=t),window.browser.runtime.sendMessage(i))};(()=>{let n=0;const i=function(){if(n+=1,"about:blank"!=window.self.location.href){if("text/xml"===document.contentType||"application/xml"===document.contentType)return;const T=new URL(window.self.location.href).href,a=o()?e.GET_SUBFRAME_SETTINGS:e.GET_MAINFRAME_SETTINGS,r=false;window.browser.runtime.sendMessage({id:a,frameUrl:T,debuggable:r},(e=>{e?e.isATEnabled?e.hasTabStatus?o()&&(t=e.trackerDomain):window.console.info(`AT-SDK protection not injected. Tab has not been reloaded after extension install. [${o()?"subframe":"main frame"}]`):window.console.warn(`AT-SDK disabled, protection not injected. [${o()?"subframe":"main frame"}]`):setTimeout(i,5*Math.ceil(n/100))}))}else n<1e3&&setTimeout(i,5*Math.ceil(n/100))};i()})()})();
//# sourceMappingURL=ATContent.js.map

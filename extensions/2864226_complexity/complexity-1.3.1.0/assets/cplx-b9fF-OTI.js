import{j as d,c as k}from"./cplx-DEt7CUyc.js";import{r as u}from"./cplx-M4JPizzD.js";import{c as P,m as h,b as p,q as N,s as H,v as R,C as i,k as j,a2 as D,t as F,u as O,aE as V,Y as L,F as q,w as K,x as X,y as $,z as A,A as G,a as B}from"./cplx-CXGk_GMP.js";import{t as M,i as _}from"./cplx-CCS6eJc0.js";import{u as E,t as Y,a as J}from"./cplx-D9K5ecXe.js";const[Q,w]=P({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),U=e=>e.children(w()),x=u.forwardRef((e,n)=>{const o=w(),t=h(o.getControlProps(),e);return d.jsx(p.span,{...t,ref:n})});x.displayName="SwitchControl";const y=u.forwardRef((e,n)=>{const o=w(),t=h(o.getHiddenInputProps(),e),r=E();return d.jsx(p.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...t,ref:n})});y.displayName="SwitchHiddenInput";const I=u.forwardRef((e,n)=>{const o=w(),t=h(o.getLabelProps(),e);return d.jsx(p.span,{...t,ref:n})});I.displayName="SwitchLabel";var W=N("switch").parts("root","label","control","thumb"),b=W.build(),s=H({getRootId:e=>{var n;return((n=e.ids)==null?void 0:n.root)??`switch:${e.id}`},getLabelId:e=>{var n;return((n=e.ids)==null?void 0:n.label)??`switch:${e.id}:label`},getThumbId:e=>{var n;return((n=e.ids)==null?void 0:n.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var n;return((n=e.ids)==null?void 0:n.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var n;return((n=e.ids)==null?void 0:n.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>s.getById(e,s.getRootId(e)),getHiddenInputEl:e=>s.getById(e,s.getHiddenInputId(e))});function Z(e,n,o){const t=e.context.isDisabled,r=e.context.readOnly,a=e.context.checked,l=!t&&e.context.focused,m=!t&&e.context.focusVisible,g={"data-active":i(e.context.active),"data-focus":i(l),"data-focus-visible":i(m),"data-readonly":i(r),"data-hover":i(e.context.hovered),"data-disabled":i(t),"data-state":e.context.checked?"checked":"unchecked","data-invalid":i(e.context.invalid)};return{checked:a,disabled:t,focused:l,setChecked(c){n({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){n({type:"CHECKED.TOGGLE",checked:a,isTrusted:!1})},getRootProps(){return o.label({...b.root.attrs,...g,dir:e.context.dir,id:s.getRootId(e.context),htmlFor:s.getHiddenInputId(e.context),onPointerMove(){t||n({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){t||n({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){if(t)return;j(c)===s.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return o.element({...b.label.attrs,...g,dir:e.context.dir,id:s.getLabelId(e.context)})},getThumbProps(){return o.element({...b.thumb.attrs,...g,dir:e.context.dir,id:s.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return o.element({...b.control.attrs,...g,dir:e.context.dir,id:s.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:s.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:a,disabled:t,"aria-labelledby":s.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:D,onFocus(){const c=_();n({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){n({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(r){c.preventDefault();return}const f=c.currentTarget.checked;n({type:"CHECKED.SET",checked:f,isTrusted:!0})}})}}}var{not:C}=q;function z(e){const n=F(e);return O({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...n,fieldsetDisabled:!1,focusVisible:!1},computed:{isDisabled:o=>o.disabled||o.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:C("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:C("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(o,t)=>!!t.isTrusted},activities:{trackPressEvent(o){if(!o.isDisabled)return V({pointerNode:s.getRootEl(o),keyboardNode:s.getHiddenInputEl(o),isValidKey:t=>t.key===" ",onPress:()=>o.active=!1,onPressStart:()=>o.active=!0,onPressEnd:()=>o.active=!1})},trackFocusVisible(o){if(!o.isDisabled)return M({root:s.getRootNode(o)})},trackFormControlState(o,t,{send:r,initialContext:a}){return Y(s.getHiddenInputEl(o),{onFieldsetDisabledChange(l){o.fieldsetDisabled=l},onFormReset(){r({type:"CHECKED.SET",checked:!!a.checked,src:"form-reset"})}})}},actions:{setContext(o,t){Object.assign(o,t.context)},syncInputElement(o){const t=s.getHiddenInputEl(o);t&&(t.checked=!!o.checked)},removeFocusIfNeeded(o){o.disabled&&o.focused&&(o.focused=!1)},setChecked(o,t){v.checked(o,t.checked)},toggleChecked(o,t){v.checked(o,!o.checked)},dispatchChangeEvent(o){const t=s.getHiddenInputEl(o);J(t,{checked:o.checked})}}})}var ee={change:e=>{var n;(n=e.onCheckedChange)==null||n.call(e,{checked:e.checked})}},v={checked:(e,n)=>{L(e.checked,n)||(e.checked=n,ee.change(e))}};R()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const te=(e={})=>{const{getRootNode:n}=K(),{dir:o}=X(),t=E(),r={id:u.useId(),ids:{label:t==null?void 0:t.ids.label,hiddenInput:t==null?void 0:t.ids.control},dir:o,disabled:t==null?void 0:t.disabled,readOnly:t==null?void 0:t.readOnly,invalid:t==null?void 0:t.invalid,required:t==null?void 0:t.required,getRootNode:n,checked:e.defaultChecked,...e},a={...r,checked:e.checked,onCheckedChange:$(e.onCheckedChange,{sync:!0})},[l,m]=A(z(r),{context:a});return Z(l,m,G)},T=u.forwardRef((e,n)=>{const[o,t]=B()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),r=te(o),a=h(r.getRootProps(),t);return d.jsx(Q,{value:r,children:d.jsx(p.label,{...a,ref:n})})});T.displayName="SwitchRoot";const S=u.forwardRef((e,n)=>{const o=w(),t=h(o.getThumbProps(),e);return d.jsx(p.span,{...t,ref:n})});S.displayName="SwitchThumb";function oe({textLabel:e,labelClassName:n,className:o,...t}){return d.jsx(T,{className:k("tw-flex tw-items-center tw-space-x-2",o),...t,children:d.jsx(U,{children:({checked:r})=>d.jsxs(d.Fragment,{children:[d.jsx(x,{className:"tw-inline-flex tw-h-6 tw-w-11 tw-shrink-0 tw-cursor-pointer tw-items-center tw-space-x-2 tw-rounded-full tw-border tw-border-border tw-bg-transparent tw-transition-all focus-visible:tw-outline-none focus-visible:tw-ring-1 focus-visible:tw-ring-ring focus-visible:tw-ring-offset-2 focus-visible:tw-ring-offset-background data-[disabled]:tw-cursor-not-allowed data-[disabled]:tw-opacity-50 [&>span]:tw-transition-all [&>span]:tw-duration-150 [&>span]:hover:tw-scale-95",children:d.jsx(S,{className:k("tw-pointer-events-none tw-block tw-h-4 tw-w-4 tw-rounded-full tw-bg-muted-foreground tw-shadow-lg tw-ring-0","data-[state=checked]:tw-translate-x-6 data-[state=checked]:tw-bg-primary data-[state=checked]:tw-text-primary","data-[state=unchecked]:tw-translate-x-1")})}),e!=null&&e!==""&&d.jsx(I,{className:k("tw-duration-15 tw-text-sm tw-transition-colors","tw-cursor-pointer data-[disabled]:tw-cursor-not-allowed data-[state=unchecked]:tw-text-muted-foreground data-[disabled]:tw-opacity-50 hover:data-[state=unchecked]:tw-text-foreground",{"tw-text-primary":r},n),children:e}),d.jsx(y,{})]})})})}oe.displayName="Switch";export{oe as S};

{"version":3,"file":"dataConsent.js","sources":["../../src/pages/dataConsent/index.ts"],"sourcesContent":["import { Db } from '@src/lib/db'\n;(() => {\n  if (document !== null) {\n    Db.loadAll()\n\n    document.addEventListener('DOMContentLoaded', async () => {\n      const errorReports = await Db.get('sendErrorReports')\n      const usageStatistics = await Db.get('sendUsageStatistics')\n\n      const errorReportSwitch =\n        document.querySelector<HTMLInputElement>('#error-reports')\n      const usageStatisticsSwitch =\n        document.querySelector<HTMLInputElement>('#usage-statistics')\n\n      if (errorReportSwitch) errorReportSwitch.checked = errorReports\n\n      if (usageStatisticsSwitch) usageStatisticsSwitch.checked = usageStatistics\n    })\n\n    document\n      .querySelector('#request-permissions-btn')\n      ?.addEventListener('click', async () => {\n        const errorReports: HTMLInputElement | null =\n          document.querySelector('#error-reports')\n        const usageStatistics: HTMLInputElement | null =\n          document.querySelector('#usage-statistics')\n        const successMessage: HTMLDivElement | null = document.querySelector(\n          '#settings-submitted-msg'\n        )\n\n        if (errorReports) await Db.set('sendErrorReports', errorReports.checked)\n\n        if (usageStatistics)\n          await Db.set('sendUsageStatistics', usageStatistics.checked)\n\n        if (successMessage) successMessage.style.display = 'block'\n\n        const url = chrome.runtime.getURL('src/pages/postInstallLP/index.html')\n\n        await chrome.tabs.update({ url })\n      })\n  }\n})()\n"],"names":["document","Db","loadAll","addEventListener","errorReports","get","usageStatistics","errorReportSwitch","querySelector","usageStatisticsSwitch","checked","successMessage","set","style","display","url","chrome","runtime","getURL","tabs","update"],"mappings":"2JACE,IAAM,OACFA,WAAa,OACfC,EAAGC,QAAQ,EAEFC,SAAAA,iBAAiB,mBAAoB,SAAY,CACxD,MAAMC,EAAe,MAAMH,EAAGI,IAAI,kBAAkB,EAC9CC,EAAkB,MAAML,EAAGI,IAAI,qBAAqB,EAEpDE,EACJP,SAASQ,cAAgC,gBAAgB,EACrDC,EACJT,SAASQ,cAAgC,mBAAmB,EAE1DD,IAAmBA,EAAkBG,QAAUN,GAE/CK,IAAuBA,EAAsBC,QAAUJ,EAC7D,CAAC,GAEDN,EAAAA,SACGQ,cAAc,0BAA0B,IAD3CR,MAAAA,EAEIG,iBAAiB,QAAS,SAAY,CAChCC,MAAAA,EACJJ,SAASQ,cAAc,gBAAgB,EACnCF,EACJN,SAASQ,cAAc,mBAAmB,EACtCG,EAAwCX,SAASQ,cACrD,yBACF,EAEIJ,GAAc,MAAMH,EAAGW,IAAI,mBAAoBR,EAAaM,OAAO,EAEnEJ,GACF,MAAML,EAAGW,IAAI,sBAAuBN,EAAgBI,OAAO,EAEzDC,IAAgBA,EAAeE,MAAMC,QAAU,SAEnD,MAAMC,EAAMC,OAAOC,QAAQC,OAAO,oCAAoC,EAEhEF,MAAAA,OAAOG,KAAKC,OAAO,CAAEL,IAAAA,CAAI,CAAC,CAClC,GAEN,GAAG"}
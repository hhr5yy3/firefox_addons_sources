(()=>{const n=e=>e?.length>0?e.split(";"):null;const r=async e=>{const t=800;const o=600;const s=Math.round(screen.width/2-t/2);const c=Math.round(screen.height/2-o/2);browser.runtime.sendMessage({message:"share",url:e,width:t,height:o,left:s,top:c});l()};const l=()=>{window.parent.postMessage({action:"closePopup"},"*")};const t=()=>{setTimeout(()=>{document.querySelector(".popup").classList.add("shake");setTimeout(()=>{document.querySelector(".popup").classList.remove("shake");setTimeout(t,1500)},5e3)},1500)};window.onload=()=>{const e=document.querySelector(".popup-container");setTimeout(()=>{e.classList.add("show");t();setTimeout(()=>{document.getElementById("closeBtn").style.display="block"},5e3)},100);document.getElementById("closeBtn").onclick=e=>{l()};["vk","ok","fb"].forEach(c=>{document.getElementById(c).onclick=async e=>{const t={vk:"https://vk.com/share.php?url=",ok:"https://connect.ok.ru/offer?url=",fb:"https://www.facebook.com/sharer.php?u="};const{html:o}=await browser.storage.local.get("html");const s=n(o).pop();r(`${t[c]}${s}&title=Скачивай Яндекс.Музыку бесплатно!&description=Скачать треки и целые альбомы в один клик с Яндекс Музыки.`);browser.storage.local.set({share:1})}})}})();
(self.webpackChunkfirefox=self.webpackChunkfirefox||[]).push([[493],{542:e=>{let t="5",o="0";try{t=parseInt(t)}catch(e){}try{o=parseInt(o)}catch(e){}const a=[["dev-integration.","dev"],["","dev"],["devep.","dev"],["go.",""],["us04web.",""],["",""],["devcolo.","dev"],["deva.","dev"],["local.",""],["ds01.","dev"],["us03web.",""],["devb.","dev"]],n=[["zoom","us"],["zoomgov","com"]],i={extVersion:"2.2.0",get runEnv(){let e=a[t];return void 0===e?a[5]:e},get envIndex(){return t},get multiVersion(){let e=n[o];return void 0===e?n[0]:e},get multiVersionIndex(){return o}};e.exports=i},646:(e,t,o)=>{const a=o(856);let n=null;const i={type:e=>Object.prototype.toString.call(e).replace(/(?:^\[object\s(.*?)\]$)/,"$1").toLowerCase(),endWithStr(e,t){if(e&&t&&"string"==this.type(e)&&"string"==this.type(t)){let o=e.length-t.length;return o>=0&&e.lastIndexOf(t)==o}return!1},inArray:(e,t)=>t.indexOf(e),isEmptyObject:e=>e&&0===Object.keys(e).length&&e.constructor===Object,each(e,t){let o=i.type(e);if("array"===o||"nodeList"===o)[].every.call(e,(function(e,o){return!1!==t.call(e,o,e)}));else if("object"===o)for(let o in e)if(!1===t.call(e[o],o,e[o]))break},trim:function(e){return"string"===i.type(e)?e.trim():e},safeHTML:function(e,t){return e?Array.isArray(t)?a.sanitize(e,{ALLOWED_TAGS:t}):a.sanitize(e):""},switchInfoTipSimple(e,t,o=800){e&&(n&&(clearTimeout(n),n=null),n=t?setTimeout((function(){e.hasClass("updateDom")||i.updateBubblePopDom(e),i.showDomAnimate(e.find(".zoom-info-tip-pop")),n=null}),o):setTimeout((function(){e.hasClass("updateDom")&&i.closeDomAnimate(e.find(".zoom-info-tip-pop")),n=null}),200))},updateBubblePopDom(e){let t=e.attr("info");if(t){let o=`\n\t\t\t\t<div class="zoom-info-tip-pop zoom-bubble-pop-up">\n\t\t\t\t\t<div class="content">${t}</div>\n\t\t\t\t\t<div class="pop-arrow"></div>\n\t\t\t\t</div>`;e.prepend(o).attr("info",null).addClass("updateDom")}},showDomAnimate(e){if(!e.hasClass("show")){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))}},closeDomAnimate(e,t=150){if(e.hasClass("show")){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),t))}},hasQueryParams(e){try{return new URL(e).search.length>0}catch(e){}}};e.exports=i},485:(e,t,o)=>{"use strict";o.d(t,{Z:()=>h});o(528);var a=o(646),n=o(630);let i=0;function l(e){let t=this;t.clickOutsideHandler=function(e){if(!t||!t.$selcont)return;let o=t.$selcont.get(0);if(o){e.target!==o&&!o.contains(e.target)&&p(t)}},document.body.addEventListener("click",t.clickOutsideHandler,!0),t.$selInput.on("focus",(function(e){t.$selcont.addClass("active-state")})),t.$selcont.on("click",".zoom-select-input-cont",(function(e){e.stopPropagation(),t.$selInput.prop("disabled")||r(t)})),t.$selcont.on("click",".zoom-select-option",(function(e){e.stopPropagation(),c(n(this),t),u(t)})),t.$selcont.on("click",".clear-input-btn",(function(e){e.stopPropagation(),e.preventDefault(),function(e){e.$selcont.find(".zoom-select-option.selected").removeClass("selected").attr("aria-selected",!1),e.selectedId="",e.selectedLabel="",e.$selcont.removeClass("show-clear-btn"),e.opt.changeCallback(e.selectedId),e.$selInput.val("").trigger("focus")}(t),u(t)})),t.$selcont.on("click",(function(e){e.stopPropagation()})),t.$selcont.on("click",".no-data",(function(e){e.stopPropagation(),r(t)})),t.$selcont.on("input",".zoom-select-input",(function(e){n(this);!function(e,t,o){let a=e.trim();if(a===o.oldSearchKey)return;o.oldSearchKey=a;let n=[],i=o.opt.groupRender;if(Array.isArray(t)&&t.length)if(""===a)n=t;else if(a){let e=[],s=[];for(var l=0,r=t.length;l<r;l++){let o=t[l],n=o.label.search(new RegExp(a.replace(/([,.+?:()*\[\]^$|{}\\-])/g,"\\$1"),"i"));0===n?e.push(o):n>0&&s.push(o)}n=[...e,...s],!o.opt.inputMode||1===n.length&&n[0].label===a||n.unshift({id:a,label:a}),i=!1}let u=m(o,n,i);o.$dropdown.find(".zoom-scrollbar-view").html(u),function(e,t){if(e){let o=t.$dropdown.find(`.zoom-select-option[value='${e}']`);o.length&&o.addClass("selected").attr("aria-selected",!0)}}(o.selectedId,o),o.$dropdown.hasClass("active-state")||s(o)}(this.value,t.opt.dataList,t)})),t.$selcont.find(".zoom-scrollbar-view").on("mouseover",(function(e){let o=n(e.target);!o.hasClass("in-hover")&&o.hasClass("zoom-select-option")&&(t.$dropdown.find(".zoom-select-option.in-hover").removeClass("in-hover"),o.addClass("in-hover").get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))})),t.$selcont.on("keydown",(function(e){let o=e.keyCode;if(38===o||40===o||13===o||9===o){if(13===o&&(!t.$dropdown.hasClass("active-state")||t.$dropdown.find(".no-data").length)&&"clear-input-btn"!==e.target.className)return void r(t);if(9===o)return void p(t);let a=t.$selcont.find(".zoom-select-option.in-hover");if(a.length&&t.$selInput.is(":focus"))if(e.stopPropagation(),e.preventDefault(),38===o){let e=d(t,a,!0);e.length&&(a.removeClass("in-hover"),e.addClass("in-hover").get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),t.$selInput.attr("aria-activedescendant",e.attr("id")))}else if(40===o){let e=d(t,a,!1);e.length&&(a.removeClass("in-hover"),e.addClass("in-hover").get(0).scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),t.$selInput.attr("aria-activedescendant",e.attr("id")))}else 13===o&&(c(a,t),u(t))}})),function(e){let t=e.dropListFlipDistance,o={root:e.opt.scrollContainer,rootMargin:`60000px 0px -${t}px 0px`,threshold:[0,1]};e.intersectObserver=new IntersectionObserver(((t,o)=>{!function(e){let t=e.opt.scrollContainer,o=e.$selcont.get(0);if(t&&o){let a=t.getBoundingClientRect()?.bottom,n=o.getBoundingClientRect()?.bottom;a-n<e.dropListFlipDistance?e.$selcont.addClass("drop-flip"):e.$selcont.removeClass("drop-flip")}}(e)}),o),e.intersectObserver.observe(e.$selcont.get(0))}(t)}function r(e){e.$dropdown.hasClass("active-state")?(u(e),e.$selInput.val(e.selectedLabel)):(s(e),e.$selInput.val(""),setTimeout((function(){e.$selInput.trigger("input")}),50)),e.$selInput.trigger("focus")}function s(e){e.$dropdown.addClass("active-state"),e.$selInput.attr("aria-activedescendant",e.$dropdown.find(".zoom-select-option.selected").attr("id")).attr("aria-expanded",!0)}function u(e){e.$dropdown.hasClass("active-state")&&(e.$dropdown.removeClass("active-state"),e.$selInput.removeAttr("aria-activedescendant").attr("aria-expanded",!1))}function c(e,t){e.hasClass("selected")||(t.$selcont.find(".zoom-select-option.selected").removeClass("selected").attr("aria-selected",!1),e.addClass("selected").attr("aria-selected",!0),t.selectedId=e.attr("value"),t.selectedLabel=e.attr("data-label"),t.opt.allowClearInput&&(t.selectedId?t.$selcont.addClass("show-clear-btn"):t.$selcont.removeClass("show-clear-btn")),t.opt.changeCallback(t.selectedId)),t.$selInput.val(e.attr("data-label")).trigger("focus")}function d(e,t,o){let a=t.attr("id");if(a){let t=a.split("-"),n=e.$dropdown.find(".zoom-select-option").length,i=t[4];o?(i--,i<1&&(i=n)):(i++,i>n&&(i=1)),t[4]=i;let l=t.join("-");return e.$dropdown.find("#"+l)}return n()}function p(e){e.$selcont.hasClass("active-state")&&(e.$selcont.removeClass("active-state"),u(e),e.$selInput.val(e.selectedLabel))}function m(e,t,o){let a="",n=e.instantIndex,i=e.opt.allowRichTextOption;if(Array.isArray(t)&&t.length){let l=-10;for(let r=0,s=t.length;r<s;r++){let s=t[r];if(o){let o=s.groupTitleIndex;if(o>=0&&o!==l){l>=0&&(a+="</dl></dd>");let t=_(e.opt.groupTitleArr[o]),n=t;i&&(n=f(e.opt.groupTitleArr[o])),a+=`\n                            <dd role="group" aria-label="${t}" class="zoom-select-group-wrap">\n                                <dl role="listbox">\n                                    <dt class="zoom-select-group-title">${n}</dt>\n                        `,l=o}a+=g(n,r,s,i),o>=0&&r===t.length-1&&(a+="</dl></dd>")}else a+=g(n,r,s,i)}}return a||(a='<div class="no-data">No data</div>'),a}function g(e,t,o,a){let n="";if(o.preIcon){n=`<span class="pre-icon">${a?f(o.preIcon):_(o.preIcon)}</span>`}let i=_(o.label),l=i;return a&&(l=f(o.label)),`<dd id="zoom-select-option-${e}-${t+1}" class="zoom-select-option${0===t?" in-hover":""}" role="option" aria-selected="false" value="${_(o.id)}" data-label="${i}">${n}${l}</dd>`}function f(e){return a.safeHTML(e)}function _(e){return a.safeHTML(e,[])}const h=/^[79]98$/.test(o.j)?class{$selcont;$selInput;$dropdown;selectedId="";selectedLabel="";dropListFlipDistance;intersectObserver;instantIndex;clickOutsideHandler;oldSearchKey;miniTextInputMode=!1;constructor(e){const t={ariaLabel:"",groupRender:!1,maxDisplayOption:5,placeholder:"Select",defaultValue:"",scrollContainer:document.body,lockState:!1,scrollContBottomIndent:0,multiParamResults:!1,required:!1,inputMode:!1,allowRichTextOption:!1,textInputMaxlength:200,allowClearInput:!1,dataList:[],groupTitleArr:[],changeCallback:()=>{}};this.opt=Object.assign({},t,e),"boolean"!==a.type(this.opt.required)&&(this.opt.required="true"===this.opt.required),this.instantIndex=++i,this.init()}log(){console.log(this.opt)}get isVisible(){return this.$selInput.is(":visible")}init(){this.opt.jquery&&(n=this.opt.jquery);let e=this.opt.el,t=this.opt.dataList;if(e){if(!t.length&&this.opt.inputMode)return this.miniTextInputMode=!0,void this.createMiniTextInputMenu(e);let o=function(e){let t=e.opt.maxDisplayOption;if(t>0){let o=e.opt.dataList.length;t>o&&(t=o);let a=e.opt.scrollContainer;if(a){let o=Math.floor((n(a).height()-e.opt.scrollContBottomIndent)/64);if(o<1&&(o=1),t>o)return o}return t}return 1}(this);if(this.opt.groupRender&&t.sort(((e,t)=>e?.groupTitleIndex-t?.groupTitleIndex)),this.createMenu(e,t,o),this.$selcont=n(e).find(".zoom-select-cont"),this.$selInput=this.$selcont.find(".zoom-select-input"),this.$dropdown=this.$selcont.find(".zoom-select-dropdown"),this.dropListFlipDistance=32*o+16+this.opt.scrollContBottomIndent,l.call(this,e),this.opt.defaultValue){let e=this.$selcont.find(".zoom-select-option[value='"+this.opt.defaultValue+"']"),t=this;if(e.length)setTimeout((function(){!function(e,t){e.hasClass("selected")||(e.addClass("selected").attr("aria-selected",!0),t.selectedId=e.attr("value"),t.selectedLabel=e.attr("data-label"),t.opt.allowClearInput&&t.selectedId&&t.$selcont.addClass("show-clear-btn"),t.opt.changeCallback(t.selectedId));t.$selInput.val(e.attr("data-label"))}(e,t)}),0);else if(this.opt.inputMode){let e=t.opt.defaultValue;setTimeout((function(){!function(e,t){e=f(e),t.selectedId=e,t.selectedLabel=e,t.opt.allowClearInput&&t.selectedId&&t.$selcont.addClass("show-clear-btn");t.opt.changeCallback(t.selectedId),t.$selInput.val(e)}(e,t)}),0)}}this.opt.lockState&&this.changeLockState(!0)}}createMenu(e,t,o){let a=function(e,t,o){let a=`\n        <div class="zoom-select-cont${e.opt.styleType?" style"+e.opt.styleType:""}">\n            <div class="zoom-select-input-cont">\n                <input type="text" autocomplete="off" aria-label="${_(e.opt.ariaLabel)}" role="combobox" aria-required="${e.opt.required}" aria-controls="zoom-select-listbox-${e.instantIndex}" aria-owns="zoom-select-listbox-${e.instantIndex}" aria-haspopup="true" placeholder="${_(e.opt.placeholder)}" class="zoom-select-input">\n                ${e.opt.allowClearInput?'<button type="button" class="clear-input-btn" aria-label="clear input"></button>':""}<span class="down-arrow"></span>\n            </div>\n            <div class="zoom-select-dropdown">\n                <div class="zoom-scrollbar" style="max-height: ${32*o}px" tabindex="-1">\n                    <dl class="zoom-scrollbar-view" role="listbox" id="zoom-select-listbox-${e.instantIndex}">\n                        ${m(e,t,e.opt.groupRender)}\n                    </dl>\n                </div>\n            </div>\n        </div>\n    `;return a}(this,t,o);n(e).html(a)}createMiniTextInputMenu(e){let t=`\n            <input type="text" autocomplete="off" aria-required="${this.opt.required}" aria-label="${_(this.opt.ariaLabel)}" maxlength="${_(this.opt.textInputMaxlength)}" class="zoom-mini-text-input-menu">\n        `;n(e).html(t),this.$selInput=n(e).find(".zoom-mini-text-input-menu");let o=this;this.$selInput.on("change",(function(e){e.stopPropagation(),o.opt.changeCallback(o.getSelectedResult())})),this.opt.defaultValue&&this.$selInput.val(f(this.opt.defaultValue))}getSelectedResult(){if(this.miniTextInputMode){let e=this.$selInput.val()||"";return e&&(e=f(e.trim())),e}if(!this.opt.multiParamResults)return this.selectedId;let e,t=this.selectedId,o=this.opt.dataList;for(let a=0;a<o.length;a++){let n=o[a];if(n.id===t){e=n;break}}return{id:t,extData:e?.extData}}loseFocus(){this.miniTextInputMode||p(this)}changeLockState(e){this.miniTextInputMode||(this.opt.lockState=!!e,e?(this.$selcont.addClass("is-disabled"),this.$selInput.prop("disabled",!0)):(this.$selcont.removeClass("is-disabled"),this.$selInput.prop("disabled",!1)))}destroy(){this.miniTextInputMode?this.$selInput=null:(this.$selcont=null,this.$selInput=null,this.$dropdown=null,this.intersectObserver&&(this.intersectObserver.disconnect(),this.intersectObserver=null),document.body.removeEventListener("click",this.clickOutsideHandler,!0))}}:null},757:(e,t,o)=>{"use strict";o.d(t,{Z:()=>z});var a=o(911),n=o(100),i=o(646);const l={checkData(e){!function(e){i.inArray(e.option_video_host,["on","off"])<0&&(e.option_video_host="on");i.inArray(e.option_video_participant,["on","off"])<0&&(e.option_video_participant="on");i.inArray(e.option_audio_type,["telephony","voip","both","other"])<0&&(e.option_audio_type="both");i.inArray(e.option_pmi_jbhpwd,[!0,!1])<0&&(e.option_pmi_jbhpwd=!1);i.inArray(e.option_require_jbh,[!0,!1])<0&&(e.option_require_jbh=!1);i.inArray(e.option_use_pmi,[!0,!1])<0&&(e.option_use_pmi=!1);i.inArray(e.option_require_pwd,[!0,!1])<0&&(e.option_require_pwd=!1);i.inArray(e.option_pwd_type,["1","2"])<0&&(e.option_pwd_type="1");i.inArray(e.option_joinurl,[!0,!1])<0&&(e.option_joinurl=!1);i.inArray(e.option_mute_upon_entry,[!0,!1])<0&&(e.option_mute_upon_entry=!1);i.inArray(e.option_waiting_room,[!0,!1])<0&&(e.option_waiting_room=!1);i.inArray(e.option_public_cal,[!0,!1])<0&&(e.option_public_cal=!1);"object"!==i.type(e.scheduleDefaultLockOption)&&(e.scheduleDefaultLockOption={});i.inArray(e.option_fte,[!0,!1])<0&&(e.option_fte=!1);(void 0===e.option_pacindex||i.inArray(e.option_pacindex,["1","2"])<0)&&(e.option_pacindex="1");i.inArray(e.option_enforce_login,[!0,!1])<0&&(e.option_enforce_login=!1);"string"!==i.type(e.option_domain_info)&&(e.option_domain_info="");void 0!==e.alt_hosts&&""!==e.alt_hosts&&"array"!==i.type(e.alt_hosts)&&(e.alt_hosts="");i.inArray(e.option_fixed_popup,[!0,!1])<0&&(e.option_fixed_popup=!1);(null===e._zm_locale||"string"!==i.type(e._zm_locale))&&(e._zm_locale="en_US");i.inArray(e.option_record_type,[-1,0,1,2])<0&&(e.option_record_type=-1);"string"!==i.type(e._zm_cluster)&&(e._zm_cluster="");i.inArray(e.option_require_reg,[!0,!1])<0&&(e.option_require_reg=!1);"string"!==i.type(e.option_pmi_savepwd)&&(e.option_pmi_savepwd="");if("object"!==i.type(e.authenticationV2))e.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]};else{if("array"!==i.type(e.authenticationV2.optionLists))e.authenticationV2.optionLists=[];else{let o=e.authenticationV2.optionLists;for(var t=o.length-1;t>-1;t--){let a=o[t];"object"!==i.type(a)&&e.authenticationV2.optionLists.splice(t,1)}}if("object"!==i.type(e.authenticationV2.pmi))e.authenticationV2.pmi={defaultVal:!1,pmiUpdate:{}};else{let t=e.authenticationV2.pmi;"boolean"!==i.type(t.defaultVal)&&(e.authenticationV2.pmi.defaultVal=!1),"object"!==i.type(t.pmiUpdate)&&(e.authenticationV2.pmi.pmiUpdate={})}if("object"!==i.type(e.authenticationV2.normal))e.authenticationV2.normal={defaultVal:!1};else{let t=e.authenticationV2.normal;"boolean"!==i.type(t.defaultVal)&&(e.authenticationV2.normal.defaultVal=!1)}"boolean"!==i.type(e.authenticationV2.locked)&&(e.authenticationV2.locked=!1),"boolean"!==i.type(e.authenticationV2.support)&&(e.authenticationV2.support=!1),e.authenticationV2.support||(e.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]})}if(null===e.meetingPwdSettingsMap)e.meetingPwdSettingsMap="";else if("object"!==i.type(e.meetingPwdSettingsMap))e.meetingPwdSettingsMap="";else if(i.isEmptyObject(e.meetingPwdSettingsMap))e.meetingPwdSettingsMap="";else{i.each(e.meetingPwdSettingsMap,(function(t,o){"true"===o?e.meetingPwdSettingsMap[t]=!0:"false"!==o&&void 0!==o||(e.meetingPwdSettingsMap[t]=!1)}));try{let t=parseInt(e.meetingPwdSettingsMap.lengthRule);e.meetingPwdSettingsMap.lengthRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.lengthRule=0}try{let t=parseInt(e.meetingPwdSettingsMap.consecutiveRule);e.meetingPwdSettingsMap.consecutiveRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.consecutiveRule=0}}if("object"!==i.type(e.dcOptions))e.dcOptions={support:!1,locked:!0,options:[]};else{let t=e.dcOptions;if("boolean"!==i.type(t.support)&&(t.support=!1),"boolean"!==i.type(t.locked)&&(t.locked=!1),"string"===i.type(t.enableDC))if(t.enableDC)try{t.enableDC=JSON.parse(t.enableDC),"object"!==i.type(t.enableDC)&&(t.enableDC=void 0)}catch(e){t.enableDC=void 0}else t.enableDC=void 0;else void 0!==t.enableDC&&(t.enableDC=void 0);"array"!==i.type(t.options)&&(t.options=[])}"boolean"!==i.type(e.show_unmute_all)&&(e.show_unmute_all=!1);"boolean"!==i.type(e.enable_unmute_all)&&(e.enable_unmute_all=!1);let o=!1;try{let t=e.security,a=[t.newSecurityEnabled.defaultVal,t.normal.passcode.locked,t.normal.passcode.defaultVal,t.normal.waitingroom.locked,t.normal.waitingroom.defaultVal,t.pmi.passcode.locked,t.pmi.passcode.default_all,t.pmi.passcode.default_jbh,t.pmi.waitingroom.locked,t.pmi.waitingroom.defaultVal,t.security3c1];i.each(a,(function(e,t){"boolean"!==i.type(t)&&(o=!0)})),"string"!==i.type(t.pmi.passcode.value)&&(o=!0)}catch(e){o=!0}o&&(e.security={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}});if("object"!==i.type(e.e2ee))e.e2ee={support:!1,locked:!1,normalEnable:!1,pmiEnable:!1};else{let t=e.e2ee;"boolean"!==i.type(t.support)&&(e.e2ee.support=!1),"boolean"!==i.type(t.locked)&&(e.e2ee.locked=!1),"boolean"!==i.type(t.normalEnable)&&(e.e2ee.normalEnable=!1),"boolean"!==i.type(t.pmiEnable)&&(e.e2ee.pmiEnable=!1)}if("object"!==i.type(e.allowDeny))e.allowDeny=l.getAllowDenyDefault();else{let t=e.allowDeny;if("boolean"!==i.type(t.support)&&(e.allowDeny.support=!1),e.allowDeny.support){if("boolean"!==i.type(t.locked)&&(e.allowDeny.locked=!1),Array.isArray(t.regionList)||(e.allowDeny=l.getAllowDenyDefault()),"object"!==i.type(t.defaultRegion)&&(e.allowDeny.defaultRegion={}),"object"!==i.type(t.normal))e.allowDeny.normal={type:"0",defaultVal:!1,selectRegion:[]};else{let t=e.allowDeny.normal;"0"!==t.type&&"1"!==t.type&&(e.allowDeny.normal.type="0"),"boolean"!==i.type(t.defaultVal)&&(e.allowDeny.normal.defaultVal=!1),Array.isArray(t.selectRegion)||(e.allowDeny.normal.selectRegion=[]),e.allowDeny.normal.defaultVal&&!e.allowDeny.normal.selectRegion.length&&(e.allowDeny.normal.defaultVal=!1)}if("object"!==i.type(t.pmi))e.allowDeny.pmi={type:"0",defaultVal:!1,selectRegion:[]};else{let t=e.allowDeny.pmi;"0"!==t.type&&"1"!==t.type&&(e.allowDeny.pmi.type="0"),"boolean"!==i.type(t.defaultVal)&&(e.allowDeny.pmi.defaultVal=!1),Array.isArray(t.selectRegion)||(e.allowDeny.pmi.selectRegion=[]),e.allowDeny.pmi.defaultVal&&!e.allowDeny.pmi.selectRegion.length&&(e.allowDeny.pmi.defaultVal=!1)}}else e.allowDeny=l.getAllowDenyDefault()}if(Array.isArray(e.adminTemplates)){let o=e.adminTemplates;if(o.length)for(t=o.length-1;t>-1;t--){let a=o[t];"object"===i.type(a)&&a.templateId&&a.name||e.adminTemplates.splice(t,1)}}else e.adminTemplates=[];if(Array.isArray(e.blockDomains)){let o=e.blockDomains;if(o.length)for(t=o.length-1;t>-1;t--){let a=o[t];if("string"!==i.type(a))e.blockDomains.splice(t,1);else{let o=a.trim();o!==a&&(o?e.blockDomains[t]=o:e.blockDomains.splice(t,1))}}}else e.blockDomains=[];if("object"!==i.type(e.allowAlternativeHostEditPoll))e.allowAlternativeHostEditPoll={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1}};else{let t=e.allowAlternativeHostEditPoll;"boolean"!==i.type(t.support)&&(e.allowAlternativeHostEditPoll.support=!1),"boolean"!==i.type(t.locked)&&(e.allowAlternativeHostEditPoll.locked=!1),"object"!==i.type(t.normal)?e.allowAlternativeHostEditPoll.normal={defaultVal:!1}:"boolean"!==i.type(t.normal.defaultVal)&&(e.allowAlternativeHostEditPoll.normal.defaultVal=!1),"object"!==i.type(t.pmi)?e.allowAlternativeHostEditPoll.pmi={defaultVal:!1}:"boolean"!==i.type(t.pmi.defaultVal)&&(e.allowAlternativeHostEditPoll.pmi.defaultVal=!1)}if("object"!==i.type(e.watermark))e.watermark={support:!1,defaultVal:!1,locked:!1};else{let t=e.watermark;"boolean"!==i.type(t.support)&&(e.watermark.support=!1),"boolean"!==i.type(t.defaultVal)&&(e.watermark.defaultVal=!1),"boolean"!==i.type(t.locked)&&(e.watermark.locked=!1)}if("object"!==i.type(e.audioWatermark))e.audioWatermark={support:!1,defaultVal:!1,locked:!1};else{let t=e.audioWatermark;"boolean"!==i.type(t.support)&&(e.audioWatermark.support=!1),"boolean"!==i.type(t.defaultVal)&&(e.audioWatermark.defaultVal=!1),"boolean"!==i.type(t.locked)&&(e.audioWatermark.locked=!1)}let a=null;try{a=parseInt(e.maxAttendee)}catch(e){}"number"!==i.type(a)||isNaN(a)?e.maxAttendee=1e3:e.maxAttendee=a;if("object"!==i.type(e.focusMode))e.focusMode={support:!1,pmi:{defaultVal:!1}};else{let t=e.focusMode;"boolean"!==i.type(t.support)&&(e.focusMode.support=!1),"object"!==i.type(t.pmi)?e.focusMode.pmi={defaultVal:!1}:"boolean"!==i.type(t.pmi.defaultVal)&&(e.focusMode.pmi.defaultVal=!1)}"boolean"!==i.type(e.no_meeting_license_user)&&(e.no_meeting_license_user=!1);"object"!==i.type(e.meetingFeatures)&&(e.meetingFeatures={});"object"!==i.type(e.pmiFeatures)&&(e.pmiFeatures={});u(e.meetingFeatures),u(e.pmiFeatures),d(e.meetingFeatures),d(e.pmiFeatures),g(e.meetingFeatures),g(e.pmiFeatures),f(e.meetingFeatures),function(e){let t=e.assistants;if(Array.isArray(t))for(let e=t.length-1;e>-1;e--){let o=t[e];"object"!==i.type(o)||"string"!==i.type(o.id)||"string"!==i.type(o.name)||"string"!==i.type(o.roomid)?t.splice(e,1):f(o)}else e.assistants=[]}(e),function(e){if("string"!==i.type(e.option_schedulefor_host))e.option_schedulefor_host="";else{let t=e.option_schedulefor_host,o=e.assistants;if(t&&Array.isArray(o)&&o.length){o.find((e=>e.id==t))||(e.option_schedulefor_host="")}}}(e),function(e){if("object"!==i.type(e.interpretation))e.interpretation={show:!1,value:!1,disabled:!1,childParams:{fixedLanguageIds:{},interpretationUserSelected:{},maxCustomLanguages:{}},dataOptions:[]};else{let t=e.interpretation;if("boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1),"array"!==i.type(t.dataOptions))t.dataOptions=[];else{let e=t.dataOptions;for(let t=e.length-1;t>-1;t--){let o=e[t];"object"===i.type(o)&&"string"===i.type(o.id)&&"string"===i.type(o.label)&&"string"===i.type(o.ext)||e.splice(t,1)}}"object"!==i.type(t.childParams)?t.childParams={fixedLanguageIds:{},interpretationUserSelected:{},maxCustomLanguages:{}}:function(e,t){if("object"!==i.type(e.fixedLanguageIds))e.fixedLanguageIds={};else{let t=e.fixedLanguageIds;if("array"!==i.type(t.value))t.value=[];else{let e=t.value;for(let t=e.length-1;t>-1;t--){let o=e[t];"string"!==i.type(o)&&e.splice(t,1)}}}if("object"!==i.type(e.interpretationUserSelected))e.interpretationUserSelected={};else{let o=e.interpretationUserSelected;if("array"!==i.type(o.value))o.value=[];else{let e=o.value;for(let o=e.length-1;o>-1;o--)"object"===i.type(e[o])&&_(e[o],t)||e.splice(o,1)}}"object"!==i.type(e.maxCustomLanguages)?e.maxCustomLanguages={}:"number"!==i.type(e.maxCustomLanguages.value)&&(e.maxCustomLanguages.value=5)}(t.childParams,t.dataOptions)}}(e.meetingFeatures),"boolean"!==i.type(e.isPaidAccount)&&(e.isPaidAccount=!1);if("object"!==i.type(e.whiteboard))e.whiteboard={support:!1,nwsDomain:""};else{let t=e.whiteboard;"boolean"!==i.type(t.support)&&(t.support=!1),"string"!==i.type(t.nwsDomain)&&(t.nwsDomain="",t.support=!1)}r(e.meetingFeatures),r(e.pmiFeatures),s(e.meetingFeatures),s(e.pmiFeatures),"boolean"!==i.type(e.enableEmailConsistencyCheck)&&(e.enableEmailConsistencyCheck=!1)}(e)},getAllowDenyDefault:()=>({support:!1,locked:!1,regionList:[],defaultRegion:{},normal:{type:"0",defaultVal:!1,selectRegion:[]},pmi:{type:"0",defaultVal:!1,selectRegion:[]}}),getPmcDefault:()=>({show:!1,value:!1,childParams:{allowAutoAddInvitedExternalUsers:{show:!1,value:!1,disabled:!1}}}),meetingFeaturesValidity:e=>("object"!==i.type(e)&&(e={}),"object"!==i.type(e.autoRec)&&(e.autoRec=c()),m(e)&&"object"!==i.type(e.waitingRoom2)&&(e.waitingRoom2={show:!1,value:!1,disabled:!1,childParams:{auto:{},options:{},manu:{}},dataOptions:null}),"object"!==i.type(e.qa)&&(e.qa={show:!1,value:!1,disabled:!1}),"object"!==i.type(e.pmc)&&(e.pmc=l.getPmcDefault()),"object"!==i.type(e.interpretation)&&(e.interpretation={show:!1,value:!1,disabled:!1,childParams:{fixedLanguageIds:{},interpretationUserSelected:{},maxCustomLanguages:{}},dataOptions:[]}),"object"!==i.type(e.meetingSummary)&&(e.meetingSummary={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null}),"object"!==i.type(e.meetingQuery)&&(e.meetingQuery={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null}),e),pmiFeaturesValidity:e=>("object"!==i.type(e)&&(e={}),"object"!==i.type(e.autoRec)&&(e.autoRec=c()),m(e)&&"object"!==i.type(e.waitingRoom2)&&(e.waitingRoom2={show:!1,value:!1,disabled:!1,childParams:{auto:{},options:{},manu:{}},dataOptions:null}),"object"!==i.type(e.qa)&&(e.qa={show:!1,value:!1,disabled:!1}),"object"!==i.type(e.meetingSummary)&&(e.meetingSummary={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null}),"object"!==i.type(e.meetingQuery)&&(e.meetingQuery={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null}),e)};function r(e){if("object"!==i.type(e.meetingSummary))e.meetingSummary={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null};else{let t=e.meetingSummary;"boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1)}}function s(e){if("object"!==i.type(e.meetingQuery))e.meetingQuery={show:!1,value:!1,disabled:!1,childParams:null,dataOptions:null};else{let t=e.meetingQuery;"boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1)}}function u(e){if("object"!==i.type(e.autoRec))e.autoRec=c();else{let t=e.autoRec;if("boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1),"object"!==i.type(t.childParams))t.childParams={autoRecordingSubSelected:{},exceedMaxStorage:{}};else{let e=t.childParams;"object"!==i.type(e.autoRecordingSubSelected)&&(e.autoRecordingSubSelected={}),"object"!==i.type(e.exceedMaxStorage)&&(e.exceedMaxStorage={})}if(Array.isArray(t.dataOptions)){let e=t.dataOptions;if(e.length)for(let o=e.length-1;o>-1;o--)"object"!==i.type(e[o])&&t.dataOptions.splice(o,1)}else t.dataOptions=[]}}function c(){return{show:!1,value:!1,disabled:!1,childParams:{autoRecordingSubSelected:{},exceedMaxStorage:{}},dataOptions:[]}}function d(e){if(m(e))if("object"!==i.type(e.waitingRoom2))e.waitingRoom2={show:!1,value:!1,disabled:!1,childParams:{auto:{},options:{},manu:{}},dataOptions:null};else{let t=e.waitingRoom2;if("boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1),"object"!==i.type(t.childParams))t.show=!1,t.childParams={auto:{},options:{},manu:{}};else{let e=t.childParams,o=e.auto;"object"!==i.type(o)?(t.show=!1,e.auto={}):p(o,"auto");let a=e.manu;"object"!==i.type(a)?e.manu={show:!1,value:null,dataOptions:null}:p(a,"manu");let n=e.options;"object"!==i.type(n)?(t.show=!1,e.options={}):p(n,"options"),e.auto.show&&e.options.show||(t.show=!1)}}}function p(e,t){if("boolean"!==i.type(e.show)&&(e.show=!1),"string"!==i.type(e.value)&&("auto"===t?e.value="-1":"manu"===t?Array.isArray(e.dataOptions)?e.value="-1":e.value=null:"options"===t&&(e.value="manu")),"boolean"!==i.type(e.disabled)&&(e.disabled=!1),Array.isArray(e.dataOptions)){let o=e.dataOptions,a=!1,n="options"===t?"manu":"-1",l=!1;for(let t=o.length-1;t>-1;t--){let r=o[t];"object"!==i.type(r)||"string"!==i.type(r.id)||"string"!==i.type(r.label)?e.dataOptions.splice(t,1):(r.id===e.value&&(a=!0),r.id===n&&(l=!0))}a||(l?e.value=n:e.show=!1)}else e.show&&(e.show=!1),null!==e.dataOptions&&(e.dataOptions=null)}function m(e){let t=!1;try{let o=e.waitingRoom.childParams.op;"boolean"!==i.type(o.value)?o.value=!1:t=o.value}catch(t){e.waitingRoom=function(){let e={childParams:{op:{value:!1}}};return e}()}return t}function g(e){let t=e.qa;"object"!==i.type(t)?e.qa={show:!1,value:!1,disabled:!1}:("boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"boolean"!==i.type(t.disabled)&&(t.disabled=!1))}function f(e){let t=e.pmc;if("object"!==i.type(t))e.pmc=l.getPmcDefault();else if("boolean"!==i.type(t.show)&&(t.show=!1),"boolean"!==i.type(t.value)&&(t.value=!1),"object"!==i.type(t.childParams?.allowAutoAddInvitedExternalUsers))t.childParams={allowAutoAddInvitedExternalUsers:{show:!1,value:!1,disabled:!1}};else{let e=t.childParams.allowAutoAddInvitedExternalUsers;"boolean"!==i.type(e.show)&&(e.show=!1),"boolean"!==i.type(e.value)&&(e.value=!1),"boolean"!==i.type(e.disabled)&&(e.disabled=!1)}}function _(e,t){let o=h(e.firstLanguage,e.firstLanguageName,t),a=h(e.secondLanguage,e.secondLanguageName,t);return!(!o||!a||null!==e.email&&"string"!==i.type(e.email))}function h(e,t,o){if(null===e&&null===t)return!0;if("string"===i.type(e)){let a=o.find((t=>t.id===e));if(a&&(a.label===t||null===t))return!0}}const y=l;var b=o(542),v=o(630),w=o(646);let V={baseUrl:`https://${b.runEnv[0]}${b.multiVersion[0]}${b.runEnv[1]}.${b.multiVersion[1]}/`,loginUrl:"mimo/login",logoutUrl:"mimo/logout",scheduleMeetingUrl:"mimo/schedule",schedulePMIMeetingUrl:"mimo/pmi",schedulePACMeetingUrl:"mimo/schedule_pac",editMeetingUrl:"mimo/editMeeting",deleteMeetingUrl:"mimo/deleteMeeting",validateTokenURL:"mimo/validtoken",saveSettingURL:"mimo/save_setting",validAlternativeHost:"mimo/valid_althost",syncEidMeetingMapUrl:"mimo/getWebExtMapping",updateTimeAndTimezoneUrl:"mimo/updateScheduleTimeAndTimezone",saveInviteeUrl:"mimo/save_invitee",logUrl:"mimo/log4zm",checkPwdUrl:"mimo/checkMeetingPassword",instantMeetingUrl:"mimo/instant",wbTokenUrl:"mimo/get_wb_token",editWbUrl:"mimo/editWB",deleteWbUrl:"mimo/deleteWB",logTimeDelayer:null,logDataArr:[],remoteCheckPwdCache:[],checkReservedRoomsXhr:null,getWorkspaceTokenXhr:null,getWorkspaceFileTokenXhr:null,populateZak:function(e){var t=V.getZoomZakRequestToken();t&&v.extend(e,{zak:t})},getOAuthURL:function(){return`https://${b.runEnv[0]}${b.multiVersion[0]}${b.runEnv[1]}.${b.multiVersion[1]}/mimo/google_signin`},schedulePACMeeting:function(e,t,o){var a=V.getUserBaseUrl()+V.schedulePACMeetingUrl,n=V.getValue("zoom_config_pacindex")||"1";isNaN(parseInt(n,10))&&(n="1");var i={ext_version:b.extVersion,selectedPAC:n,trackfields:e.trackfields};V.populateZak(i),v.ajax({type:"POST",url:a,data:i,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?(e.result&&(V.saveZoomZakRequestToken(e.result._zm_zak),V.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==V.getValue("zoom_config_joinurl")||!!V.getValue("zoom_config_joinurl")),t(e)):(201!=e.errorCode&&212!=e.errorCode||V.clearAllData(),o(e))},error:function(e){o(e)}})},scheduleMeeting:function(e,t,o){V._scheduleMeeting(!0,e,t,o)},encodeHtml:function(e){return"string"!=typeof e?e:e.replace(/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,(function(e){var t=e.charCodeAt(0),o=["&#"];return t=32==t?160:t,o.push(t),o.push(";"),o.join("")}))},getAllowAlternativeHostEditPollResult:function(e){if("boolean"===V.type(e))return e;let t=V.getAllowAlternativeHostEditPoll(),o=!1;if(t.support){let e=!!V.getValue("zoom_config_pmi");if(o=e?t.pmi.defaultVal:t.normal.defaultVal,o){let t=V.getE2ee(),a=!1;t&&t.support&&(a=e?t.pmiEnable:t.normalEnable,a&&(o=!1))}}return o},getFocusModeResult:function(e){if("boolean"===V.type(e))return e;let t=this.getFocusMode();if(t.support){if(!!V.getValue("zoom_config_pmi"))return t.pmi.defaultVal}return!1},getAutoRecResult:function(e){if("string"===V.type(e))return e;let t;return t=!!V.getValue("zoom_config_pmi")?V.getPmiFeatures().autoRec:V.getMeetingFeatures().autoRec,t.show&&t.childParams.autoRecordingSubSelected.value||""},getAllowDenyResult:function(e){let t=JSON.stringify([]),o=JSON.stringify([]),a=!1;if(e&&"boolean"===V.type(e.defaultVal)&&Array.isArray(e.selRegion))return"0"===e.selType?t=JSON.stringify(e.selRegion||[]):o=JSON.stringify(e.selRegion||[]),a=e.defaultVal,{enable_join_meeting_region:a,white_region_list:t,black_region_list:o};let n=this.getAllowDeny();if(n.support){!!V.getValue("zoom_config_pmi")?(a=n.pmi.defaultVal,"0"===n.pmi.type?t=JSON.stringify(n.pmi.selectRegion||[]):o=JSON.stringify(n.pmi.selectRegion||[])):(a=n.normal.defaultVal,"0"===n.normal.type?t=JSON.stringify(n.normal.selectRegion||[]):o=JSON.stringify(n.normal.selectRegion||[]))}return{enable_join_meeting_region:a,white_region_list:t,black_region_list:o}},getWaitingRoom2Result(e,t,o){if("object"===V.type(e))return null===e.join_time&&(e.join_time=-100),JSON.stringify(e);if("string"===V.type(e))return"";let a=V.getWaitingRoom2();if(!a.show)return"";let n=a.value,i=a.childParams.options.value;if(V.getSecurity().security3c1){let e="manu"===i,l=a.disabled,r=a.childParams.options.disabled;t||o||n&&e||l||r&&!e||(l||(n=!0),r||(i="manu"))}let l,r=V.getE2eeEnable();r&&(n=!0),"auto"===i?l=a.childParams.auto.value:"manu"===i&&(l=a.childParams.manu.value,null===l?l=-100:r&&(l="-1"));let s={enable:n,type:i,join_time:l};return JSON.stringify(s)},getE2eeEnable(e){"boolean"!==V.type(e)&&(e=!!V.getValue("zoom_config_pmi"));let t=V.getE2ee(),o=!1;return t&&t.support&&(o=e?t.pmiEnable:t.normalEnable),o},getWaitingRoom2(e){let t;return"boolean"!==V.type(e)&&(e=!!V.getValue("zoom_config_pmi")),t=e?V.getPmiFeatures().waitingRoom2:V.getMeetingFeatures().waitingRoom2,t},getJBHEnable(){if(V.getWrOp()){let e=V.getWaitingRoom2();if(!e.value)return!0;let t=e.childParams.auto.value,o=e.childParams.manu.value,a=e.childParams.options.value;if("auto"===a){if("-1"!==t)return!0}else if("manu"===a&&"-1"!==o&&null!==o)return!0;return!1}return!!V.getValue("zoom_config_jbh")},getSecurityResult:function(e){if(e&&"boolean"===V.type(e.pwEnable))return{pwEnable:e.pwEnable,wrEnable:e.wrEnable,authEnable:e.authEnable,updateAuthOptionItem:e.updateAuthOptionItem};let t=!!V.getValue("zoom_config_pmi"),o=V.getJBHEnable(),a=V.getSecurity(),n=V.getAuthentication();if(!a||!n)return{pwEnable:void 0,wrEnable:void 0,authEnable:void 0,updateAuthOptionItem:void 0};let i=!1,l=!1,r=!1,s=!1,u=!1,c=(n.locked,null);if(t){let e=a.pmi.passcode;i=e.default_jbh?o:e.default_all,l=e.locked,r=a.pmi.waitingroom.defaultVal,s=a.pmi.waitingroom.locked,u=n.pmi.defaultVal,u&&(c=n.pmi.pmiUpdate,"object"===V.type(c)&&Object.keys(c).length||(c=V.getUpdateAuthOptionItemFromData()))}else i=a.normal.passcode.defaultVal,l=a.normal.passcode.locked,r=a.normal.waitingroom.defaultVal,s=a.normal.waitingroom.locked,u=n.normal.defaultVal,u&&(c=V.getUpdateAuthOptionItemFromData());return a.security3c1&&(i||u||r||s||(r=!0)),{pwEnable:i,wrEnable:r,authEnable:u,updateAuthOptionItem:c}},checkNeedPasswordForPopup:function(){let e=!!V.getValue("zoom_config_pmi"),t=V.getJBHEnable(),o=V.getSecurity();if(!o)return{inputManualPwd:!1,voidable:!1};let a=!1,n=!1,i=!1,l=!1,r=!1;if(e){let e=o.pmi.passcode;a=e.default_jbh?t:e.default_all,n=e.locked,i=o.pmi.waitingroom.defaultVal,l=o.pmi.waitingroom.locked,r=a}else r=!1;return{inputManualPwd:r,voidable:!1}},editNeedPasswordState:function(e){e=!!e;let t=!!V.getValue("zoom_config_pmi"),o=!1;try{o="true"===V.getZoomData().scheduleDefaultLockOption.password}catch(e){}t?o?V.saveValue("zoom_config_jbh_pwd",e):V.saveValue("zoom_config_all_pmi_pwd",e):V.saveValue("zoom_config_one_time_pwd",e)},_scheduleMeeting:function(e,t,o,a){let i=V.getZoomData();var l=!!V.getValue("zoom_config_mute_upon_entry"),r=!!V.getValue("zoom_config_public_cal"),s=V.getValue("zoom_config_video_host")||"off",u=V.getValue("zoom_config_video_participants")||"off",c=V.getValue("zoom_config_audio")||"both",d=V.getValue("zoom_config_schedule_for")||"";let p=!!V.getValue("zoom_config_pmi"),m=V.getE2ee(),g=!1;m&&m.support&&(g=p?m.pmiEnable:m.normalEnable);let{pwEnable:f,wrEnable:_,authEnable:h,updateAuthOptionItem:y}=V.getSecurityResult(t.securityRes);var w="",z=!1,k={};V.populateZak(k);var S=V.getUserBaseUrl()+V.scheduleMeetingUrl;if(f){let e=t.securityRes?t.securityRes.pwd:"";if(e&&""!=e)w=e;else if(!p){let e=i&&i.iSFreeAccount?2:1,t=V.getMeetingPwdSettingsMap();if(t.enhanceDetectionRule)z=!0;else w=new n.Z({}).generateMeetingPassword(t,e)}}if(k.enableAuthentication=!!h,h&&y&&y.id)try{"object"===V.type(y)&&(k.authOptionsJson=JSON.stringify({selectAuthName:y.name,option_enforce_signed_in:parseInt(y.type),selectAuthId:y.id,authDomain:y.domain}),k.option_enforce_signed_in=parseInt(y.type))}catch(e){console.log(e)}let x=V.getAllowDenyResult(t.allowDenyRes);k.enable_join_meeting_region=x.enable_join_meeting_region,k.white_region_list=x.white_region_list,k.black_region_list=x.black_region_list,t.templateRes&&t.templateRes.templateId&&"number"===V.type(t.templateRes.templateType)&&t.templateRes.templateType>-1&&(k.templateId=t.templateRes.templateId,k.templateType=t.templateRes.templateType);var O="Zoom Meeting";if(i){var R=i.assistants;d&&R&&R.length>0?v.each(R,(function(e,t){t.id==d&&(O=V.resolveUserName(t.name)+" Zoom Meeting")})):O=V.resolveUserName(i.displayName)+" Zoom Meeting";let e=i.dcOptions,t=V.getDcEnableOptions(e);t&&(k.dcEnableOptions=t)}let M=V.getValue("zoom_config_althost");if(M&&"string"===V.type(M)&&(k.mtg_alternative_host=M.replace(/,/g,";")),k.enable_alternative_host_edit_poll=V.getAllowAlternativeHostEditPollResult(t.enable_alternative_host_edit_poll),k.focusModeValue=V.getFocusModeResult(t.focusModeValue),k.option_record_id=V.getAutoRecResult(t.record_id),V.getWrOp()){let e=V.getWaitingRoom2Result(t.waiting_room_new,f,h);e&&(k.waiting_room_new=e)}else{let e=!!V.getValue("zoom_config_jbh"),t="",o=i&&i.enableJBHPriorStartMeeting;!p&&e&&o&&(t=V.getJbhTimeMinutes()),k.security_wr=_,k.option_jbh=e,k.jbhTimeMinutes=t}k.qa=V.getQaResult(t.qa);let D=!!V.getValue("zoom_option_require_reg");if(!p&&!g&&!D){let{enablePMC:e,enableAutoAddExternalUser:o}=V.getPmcResult(t.enablePMC,t.enableAutoAddExternalUser,d);k.enablePMC=e,k.enableAutoAddExternalUser=o}if(!p){let{enableInterpretation:e,interpretation:o}=V.getInterpretationResult(t.enableInterpretation,t.interpretation);k.enableInterpretation=e,k.interpretation=o}g||(k.enable_auto_start_meeting_summary=V.getMeetingSummaryResult(t.enable_auto_start_meeting_summary,p),k.enable_auto_start_meeting_query=V.getMeetingQueryResult(t.enable_auto_start_meeting_query,p)),v.extend(k,{ext_version:b.extVersion,topic:O,scheduleTime:t.scheduleTime,mute_upon_entry:l,public_cal:r,security_pwd:w,option_video_host:s,option_video_participants:u,option_schedule_for:d,option_audio_type:c,trackfields:t.trackfields,timezone:t.timezone,use_pmi:p,enable_unmute_all:!!V.getValue("enable_unmute_all"),backendGeneratePwd:z,option_e2ee:g}),V._ajaxScheduleMtg(e,S,k,o,a)},_ajaxScheduleMtg:function(e,t,o,a,n){v.ajax({type:"POST",url:t,data:o,async:e,timeout:15e3,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?(e.result&&(V.saveZoomZakRequestToken(e.result._zm_zak),V.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==V.getValue("zoom_config_joinurl")||!!V.getValue("zoom_config_joinurl")),a(e)):3001==e.errorCode||3068==e.errorCode?n(e):3105==e.errorCode||9002==e.errorCode||9011==e.errorCode?(n({syncState:1,errorMessage:"Zoom meeting settings synchronization in progress..."}),V.toSyncImmediate().done((function(e){n({syncState:2,errorMessage:"Zoom meeting settings synchronization has been done!"})})).fail((function(){n({syncState:3,errorMessage:"Zoom meeting settings synchronization failed. Please try again later!"})}))):3113==e.errorCode?(n({syncState:-1,errorMessage:e.errorMessage}),n({syncState:1,errorMessage:"Zoom meeting settings synchronization in progress..."}),V.toSyncImmediate().done((function(e){n({syncState:2,errorMessage:"Zoom meeting settings synchronization has been done!",noReviveSchedule:!0})})).fail((function(){n({syncState:3,errorMessage:"Zoom meeting settings synchronization failed. Please try again later!"})}))):(3068==e.errorCode?V.editNeedPasswordState(!0):201!=e.errorCode&&212!=e.errorCode||(V.clearAllData(),e.errorMessage="Your Zoom FireFox Extension session has expired. Please login again."),n(e))},error:function(e){let t={};e&&e.statusText&&(t.errorMessage=e.statusText),n(t)}})},editMeeting:function(e,t,o){let a={ext_version:b.extVersion,meetingNumber:e.number,duration:e.duration,scheduleTime:e.startTime,timezone:e.timezone,isRepeat:e.isRepeat,zoomrooms:e.zoomrooms,topic:e.topic,isPrivateEvent:e.isPrivateEvent,zm_eid:e.zm_eid,event_baseid:e.event_baseid||"",eventOwner:e.eventOwner||"",allDay:e.allDay||!1};e.wb_doc_id&&(a.wb_doc_id=e.wb_doc_id,a.wb_permission=e.wb_permission||""),V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.editMeetingUrl,data:a,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e):201==e.errorCode||212==e.errorCode?V.clearAllData():o(e)}})},createMeetingMp:function(e,t,o){let a={ext_version:b.extVersion,meeting_number:e.number,calendarId:e.calendarId,event_baseid:e.event_baseid||""};e.wb_doc_id&&(a.wb_doc_id=e.wb_doc_id,a.scheduleTime=e.scheduleTime||"",a.wb_permission=e.wb_permission||""),V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+"mimo/crmapping",data:a,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e):o(e)}})},removeMeetingMp:function(e,t,o){e={ext_version:b.extVersion,zm_eid:e.calendarId||"",event_baseid:e.event_baseid||""};V.populateZak(e),v.ajax({type:"POST",url:V.getUserBaseUrl()+"mimo/deleteMeeting",data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(a){a.status?((e.zm_eid||e.event_baseid)&&V.updateEidMeetingMap(e.zm_eid,"",e.event_baseid),t(a)):o(a)}})},getMeetingMp:function(e,t,o){var a={calendarId:e};V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+"mimo/getmapping",data:a,async:!1,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e):o(e)}})},deleteMeeting:function(e,t,o){e={ext_version:b.extVersion,number:e.number,zm_eid:e.zm_eid||"",event_baseid:e.event_baseid||""};V.populateZak(e),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.deleteMeetingUrl,data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status||3001==e.errorCode?t(e):o(e)}})},updateMeetingTimeAndTimezone:function(e,t,o){let a={ext_version:b.extVersion,calendarId:e.calendarId,event_baseid:e.event_baseid,scheduleTime:e.startTime,duration:e.duration,timezoneid:e.timezone,topic:e.topic,zoomrooms:e.zoomrooms,eventOwner:e.eventOwner||""};e.number&&(a.mn=e.number),V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.updateTimeAndTimezoneUrl,data:a,headers:V.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},saveInvitee:function(e,t,o){let a={ext_version:b.extVersion,meetingNumber:e.meetingNumber,event_baseid:e.event_baseid,attendeeEmails:e.invitee,eventOwner:e.eventOwner||""};e.wb_doc_id&&(a.wb_doc_id=e.wb_doc_id,a.wb_permission=e.wb_permission||""),V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.saveInviteeUrl,data:a,headers:V.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},getZoomSetting:function(){var e={};let t=V.getZoomData()||{};e.zoom_config_schedule_for=V.getValue("zoom_config_schedule_for"),e.zoom_assistants=V.getAssistants(),e.adminTemplates=t.adminTemplates,e.zoom_config_video_host=V.getValue("zoom_config_video_host")||"off",e.zoom_config_video_participants=V.getValue("zoom_config_video_participants")||"off",e.zoom_config_audio=V.getValue("zoom_config_audio")||"both",e.zoom_config_hasOther=!!t.option_has3rd,e.zoom_config_noBoth=!!t.option_noboth,e.zoom_config_jbh=!!V.getValue("zoom_config_jbh"),e.jbhTimeMinutes=V.getJbhTimeMinutes(),e.enableJBHPriorStartMeeting=!!t.enableJBHPriorStartMeeting,e.JBHPriorStartMeetingList=V.getJBHPriorStartMeetingList(),e.zoom_config_mute_upon_entry=!!V.getValue("zoom_config_mute_upon_entry"),e.zoom_config_hasPubCal=!!t.option_haspublic_cal,e.zoom_config_public_cal=!!V.getValue("zoom_config_public_cal"),e.zoom_config_pmi=!!V.getValue("zoom_config_pmi"),e.zoom_config_pmiNum=t.PMI,e.security=V.getSecurity(),e.showSecurityTip=V.getShowSecurityTip(),e.authentication=V.getAuthentication(),e.zoom_support_althost=!(void 0===t.alt_hosts),e.zoom_config_althost=V.getValue("zoom_config_althost"),e.zoom_config_fixed_popup=!!V.getValue("zoom_config_fixed_popup"),e.watermark=V.getWatermark(),e.audioWatermark=V.getAudioWatermark(),e.zoom_config_joinurl=null==V.getValue("zoom_config_joinurl")||!!V.getValue("zoom_config_joinurl"),e.zoom_trackfields=t.trackfields,e.lockOpts=t.lockedoptions,e.host_email=t.email||"",e.option_enable_reg=Boolean(t.option_enable_reg),e.zoom_option_require_reg=Boolean(V.getValue("zoom_option_require_reg"));var o=!1;return t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.usePMISchedule_locked&&(o=!0),e.schedulePmiLock=o,e.dcOptions=t.dcOptions,e.enableDC=V.getEnableDC(),e.showDisablePmiMsg=V.getShowDisablePmiMsg(),e.show_unmute_all=t.show_unmute_all,e.enable_unmute_all=!!V.getValue("enable_unmute_all"),e.e2ee=V.getE2ee(),e.embedPasscode=!!t.embedPasscode,e.allowDeny=V.getAllowDeny(),e.blockDomains=t.blockDomains,e.mySettingUrl=V.getMySettingUrl(),e.allowAlternativeHostEditPoll=V.getAllowAlternativeHostEditPoll(),e.maxAttendee=t.maxAttendee,e.focusMode=V.getFocusMode(),e.meetingFeatures=V.getMeetingFeatures(),e.pmiFeatures=V.getPmiFeatures(),e},updateZoomSetting:function(e,t,o,a){if(V.saveValue("zoom_config_schedule_for",e.zoom_config_schedule_for),V.saveValue("zoom_config_video_host",e.zoom_config_video_host),V.saveValue("zoom_config_video_participants",e.zoom_config_video_participants),V.saveValue("zoom_config_audio",e.zoom_config_audio),V.saveValue("zoom_config_mute_upon_entry",e.mute_upon_entry),V.saveValue("zoom_config_public_cal",e.public_cal),V.saveValue("zoom_config_pmi",e.zoom_config_pmi),V.updateWatermarkDefault(e.zoom_config_watermark),V.updateAudioWatermarkDefault(e.zoom_config_audiomark),V.getWrOp()){let t=e.waiting_room_new;"object"===V.type(t)&&(null===t.join_time&&(t.join_time=-100),e.waiting_room_new=JSON.stringify(t))}else V.saveValue("zoom_config_jbh",e.zoom_config_jbh),e.jbhTimeMinutes&&(V.setJbhTimeMinutes(e.jbhTimeMinutes),delete e.jbhTimeMinutes);e.zoom_config_pacindex=V.getValue("zoom_config_pacindex"),V.saveValue("zoom_config_althost",e.zoom_config_alternativehost),V.saveValue("zoom_config_joinurl",e.zoom_config_joinurl),V.saveValue("zoom_option_require_reg",e.zoom_option_require_reg),e.zoom_config_fixed_popup=V.getValue("zoom_config_fixed_popup"),e.require_reg=e.zoom_option_require_reg,delete e.zoom_option_require_reg,void 0!==e.enableDC&&V.setEnableDC(e.enableDC),e.enableDC=JSON.stringify(V.getEnableDC()),e.showDisablePmiMsg&&(V.setShowDisablePmiMsg(e.showDisablePmiMsg),delete e.showDisablePmiMsg),e.showSecurityTip&&(V.setShowSecurityTip(e.showSecurityTip),delete e.showSecurityTip),V.saveValue("enable_unmute_all",e.enable_unmute_all),e.e2ee&&(V.setE2ee(e.e2ee),e.option_e2ee_normal=e.e2ee.normalEnable,e.option_e2ee_pmi=e.e2ee.pmiEnable,delete e.e2ee),V.saveZoomSetting(e,t,o,a)},updateSettingForQuick:function(e,t){let o=V.getLocalStorageZoomOptions();if(e.changepwd&&(V.saveValue("zoom_config_pmi_saved_pwd",e.password),o.pmi_saved_pwd=e.password),e.mandatorypwd){let e=!1;try{e="true"===V.getZoomData().scheduleDefaultLockOption.password}catch(e){}e?(V.saveValue("zoom_config_jbh_pwd",!0),o.option_password=!0):(V.saveValue("zoom_config_all_pmi_pwd",!0),o.option_password4PMI=!0)}V.saveZoomSetting(o,t,(function(e){}),(function(){}))},getLocalStorageZoomOptions:function(){let e=V.getE2ee();return{zoom_config_schedule_for:V.getValue("zoom_config_schedule_for"),zoom_config_pmi:!!V.getValue("zoom_config_pmi"),zoom_config_jbh:!!V.getValue("zoom_config_jbh"),public_cal:!!V.getValue("zoom_config_public_cal"),mute_upon_entry:!!V.getValue("zoom_config_mute_upon_entry"),waiting_room:!!V.getValue("zoom_config_waiting_room"),zoom_config_video_host:V.getValue("zoom_config_video_host")||"off",zoom_config_video_participants:V.getValue("zoom_config_video_participants")||"off",zoom_config_audio:V.getValue("zoom_config_audio")||"both",zoom_config_pacindex:V.getValue("zoom_config_pacindex"),zoom_config_alternativehost:V.getValue("zoom_config_althost"),zoom_config_fixed_popup:!!V.getValue("zoom_config_fixed_popup"),zoom_config_joinurl:null==V.getValue("zoom_config_joinurl")||!!V.getValue("zoom_config_joinurl"),require_reg:!!V.getValue("zoom_option_require_reg"),enableDC:JSON.stringify(V.getEnableDC()),option_e2ee_normal:e.normalEnable,option_e2ee_pmi:e.pmiEnable}},validAlternateHost:function(e,t,o){var a={ext_version:b.extVersion,alternativehost:e};V.populateZak(a),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.validAlternativeHost,data:a,timeout:6e3,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){201==e.errorCode||212==e.errorCode?(V.clearAllData(),o(e),V.popupLogin(!0)):t(e)},error:function(e){o(e)}})},checkSyncFoVersionOrTime:function(){return V.hasZoomRqToken()&&V.getValue("extVersion")!=b.extVersion?V.toSyncImmediate():V.toSync()},saveZoomSetting:function(e,t,o,a,n){e.zoom_config_alternativehost=(e.zoom_config_alternativehost||"").replace(/,/g,";");var i={};V.populateZak(i),v.extend(i,e),v.ajax({type:"POST",url:V.getUserBaseUrl()+V.saveSettingURL,timeout:1e4,data:i,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader()},dataType:"json",success:function(e){var n=e.result;e&&e.status?(V.saveZoomZakRequestToken(n._zm_zak),V.saveZoomDataModifiedDate(new Date),V.saveValue("zoom_config_fte",!1),t()):1113==e.errorCode||1114==e.errorCode||1115==e.errorCode||3161==e.errorCode?o(e):201==e.errorCode||212==e.errorCode?(V.clearAllData(),"function"===V.type(a)&&a()):alert("Your Zoom FireFox Extension session has expired. Please login again.")},complete:function(){"function"===V.type(n)&&n()}})},govLogin:function(e,t,o,a,n,i){var l=V.getUserBaseUrl()+V.loginUrl;e&&(l+="?r_uid=1"),t&&(l=t+"/mimo/login"),V._login(l,o,a,n,i)},login:function(e,t,o,a){V._login(V.getUserBaseUrl()+V.loginUrl,e,t,o,a)},_ssologin:function(e,t,o,a,n){var i=e+"/"+V.loginUrl;e||(i=V.getUserBaseUrl()+V.loginUrl),V._login(i,t,o,a,n)},_login:function(e,t,o,a,n){v.ajax({type:"POST",url:e,data:{snstype:1,accesstoken:t,ext_version:b.extVersion},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;V.saveSyncData(t),V.toSyncEidMeetingMap(),a()}else V.clearAllData(),n(e.errorCode)},error:function(){V.clearAllData(),n()}})},_termAndlogin:function(e,t,o,a,n,i){v.ajax({type:"POST",url:o,data:{snstype:1,first_name:e,last_name:t,term:!0,accesstoken:a},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==V.type(t))return;V.saveSyncData(t),V.toSyncEidMeetingMap(),n()}else V.clearAllData(),i()},error:function(){V.clearAllData(),i()}})},signin:function(e,t,o,n,i){let l=e.email;if(l)if(0===b.multiVersionIndex){const r=new a.Z("SHA-256","TEXT",{encoding:"UTF8"});r.update(l);let s=r.getHash("HEX");v.ajax({type:"POST",timeout:15e3,url:V.getUserBaseUrl()+"signin/route",data:{hemail:s,type:e.type},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json"}).done((function(a){a.status&&a.result&&V.signinExecute(e,t,o,n,i,a.result+"/")})).fail((function(e,t){o(t)}))}else 1===b.multiVersionIndex&&V.signinExecute(e,t,o,n,i)},signinExecute:function(e,t,o,a,n,i=V.getUserBaseUrl()){v.ajax({type:"POST",timeout:15e3,url:i+"signin?from=extension",data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(i){i.status?t(i.result):214==i.errorCode?i.result&&V.isURLFormat(i.result)?browser.tabs.create({url:i.result}):o(i.errorMessage):1002==i.errorCode?o("Invalid email address or password."):7301!=i.errorCode||n?1230==i.errorCode&&i.result&&V.isURLFormat(i.result)?V.signByWeb(i.result):o(i.errorMessage):V.signin(e,t,o,a,!0)},complete:function(e,t){a(t)}})},signByWeb:function(e){browser.tabs.create({url:e,active:!1},(function(e){browser.tabs.update(e.id,{active:!0}),V.saveValue("zoom_oauth_tabid",e.id)}))},_signin:function(e,t,o,a,n,i){v.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(l){l.status?o(l.result):1002==l.errorCode?a():7301!=l.errorCode||i?a(l.errorMessage):V._signin(e,t,o,a,n,!0)},complete:function(){n()}})},logout:function(e,t){var o=V.getZoomZakRequestToken(),a={};V.populateZak(a),o?v.ajax({type:"POST",timeout:1e4,url:V.getUserBaseUrl()+V.logoutUrl,data:a,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(t){V.clearAllData(),e()},error:function(){V.clearAllData(),e()}}):(V.clearAllData(),e())},resolveZoomUrl:function(e){return e},getMeetingWithVideoUrl:function(){return V.resolveZoomUrl(V.getUserBaseUrl()+"start/videomeeting")},getMeetingWithoutVideoUrl:function(){return V.resolveZoomUrl(V.getUserBaseUrl()+"start/webmeeting")},startInstantMeeting:function(e,t){let o={ext_version:b.extVersion};return V.populateZak(o),v.ajax({type:"POST",timeout:5e3,url:V.getUserBaseUrl()+V.instantMeetingUrl,data:o,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json"}).done((function(o){o.status?e?browser.tabs.create({url:V.getMeetingWithVideoUrl()}):browser.tabs.create({url:V.getMeetingWithoutVideoUrl()}):201!=o.errorCode&&212!=o.errorCode||(V.clearAllData(),t())}))},getMyMeetingsUrl:function(){return V.getUserBaseUrl()+"profile"},getMySettingUrl:function(){return V.getUserBaseUrl()+"profile/setting"},getAdminTemplateDetailUrl:function(e,t){let o="";return e&&(o+=V.getUserBaseUrl()+`meeting#/template/list?templateId=${e}`),t&&(o+=`&userId=${t}`),o},getMyPMISettingUrl:function(){let e=V.getZoomData();if(e&&e.PMI){let t="";try{t=e.PMI.replace(/\D/g,"")}catch(e){}if(t)return V.getUserBaseUrl()+"meeting/"+t+"/edit"}return""},getUserBaseUrl:function(){var e=V.baseUrl,t=V.getZoomData();return t&&t._zm_baseurl&&""!=t._zm_baseurl&&(e=V.replaceComDomain(t._zm_baseurl+"/")),e},replaceComDomain:function(e){return e},getZoomHeader:function(){return{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION","x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader()}},getClusterHeader:function(){return V.getValue("zoom_cluster")||""},getHaidHeader:function(){return V.getValue("zm_haid")||""},getAidHeader:function(){return V.getValue("zm_aid")||""},getGoogleCalendarUrl:function(e){function t(e){return e.toISOString().replace(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z/gi,"$1$2$3T$4$5$6Z")}Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var o,a,n=new Date;return n.setHours(n.getHours()+1),n.setMinutes(0),n.setSeconds(0),o=t(n),n.setHours(n.getHours()+1),a="http://calendar.google.com/calendar/event?action=TEMPLATE&dates=",a+=o+"/"+t(n),a+="&trp=true",e&&(a+="&zoompmi=true"),V.saveValue("readyToSchedule",!0),a},getReadyToSchedule:function(){let e=!!V.getValue("readyToSchedule");return e&&V.saveValue("readyToSchedule",!1),e},resolveUserName:function(e){return"s"===(e=w.trim(e)).charAt(e.length-1)?e+"'":e+"'s"},getZoomData:function(){let e="";try{e=JSON.parse(V.getValue("zoom_data"))}catch(e){}return e||V.clearAllData(),e},saveSyncData:function(e){V.saveValue("extVersion",b.extVersion),y.checkData(e),V.resetZoomOptions(e),V.saveValue("zoom_data",JSON.stringify(e)),V.saveZoomDataModifiedDate(new Date),V.saveZoomZakRequestToken(e._zm_zak),V.saveValue("zoom_zak_exp",e._zm_zak_exp||""),V.saveValue("zoom_locale",e._zm_locale),V.saveValue("zoom_sso_exp",e._zm_sso_exp||"2592000"),V.saveSyncTime(new Date)},getMeetingFeatures:function(){let e=V.getZoomData();if(e){return y.meetingFeaturesValidity(e.meetingFeatures)}},getPmiFeatures:function(){let e=V.getZoomData();if(e){return y.pmiFeaturesValidity(e.pmiFeatures)}},updateAutoRec:function(e){if("string"===V.type(e)){if(!!V.getValue("zoom_config_pmi"))try{let t=V.getZoomData(),o=!1;if(e){let a=t.pmiFeatures.autoRec.dataOptions;for(let t=0;t<a.length;t++)if(a[t].id===e){o=!0;break}}else o=!0;o&&(t.pmiFeatures.autoRec.childParams.autoRecordingSubSelected.value=e,t.pmiFeatures.autoRec.value=""!==e,V.saveValue("zoom_data",JSON.stringify(t)))}catch(e){}}},getWrOp:function(){let e=!1;try{let t=V.getZoomData().meetingFeatures.waitingRoom.childParams.op.value;"boolean"===V.type(t)&&(e=t)}catch(e){}return e},updateWaitingRoom2:function(e){if("object"!==V.type(e))return;if(!!V.getValue("zoom_config_pmi"))try{let t=V.getZoomData(),o=t.pmiFeatures.waitingRoom2,a=o.childParams.auto,n=o.childParams.manu,i=o.childParams.options,l=e.enable;"boolean"===V.type(l)&&(o.value=l);let r=e.type;"manu"!==r&&"auto"!==r||(t.pmiFeatures.waitingRoom2.childParams.options.value=r);let s=e.join_time,u=[];"auto"===r?u=V.getJoinTimeList(a.dataOptions):"manu"===r&&(u=n.dataOptions?V.getJoinTimeList(n.dataOptions):[null]),u.indexOf(s)>-1&&!i.disabled&&(t.pmiFeatures.waitingRoom2.childParams[e.type].value=s),V.saveValue("zoom_data",JSON.stringify(t))}catch(e){}},getJoinTimeList:function(e){if(!Array.isArray(e))return[];let t=[];for(let o=0;o<e.length;o++)t.push(e[o].id);return t},getType0ItemInAuth:function(e){for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o&&"0"==o.type)return o}return""},convertToString:function(e){if(Object.is(e,NaN)||void 0===e)return String(e);{let t="";try{t=JSON.stringify(e)}catch(e){}return t}},getPmiSavedPwd:function(){try{let e=V.getSecurity();return V.pwdDataValidity(e.pmi.passcode.value)}catch(e){}return""},pwdDataValidity:function(e){return e=w.trim(e).slice(0,10)},resetZoomOptions:function(e){V.saveValue("zoom_config_video_host",e.option_video_host),V.saveValue("zoom_config_video_participants",e.option_video_participant),V.saveValue("zoom_config_audio",e.option_audio_type),V.setSecurity(e.security),V.saveValue("zoom_config_jbh",e.option_require_jbh),V.saveValue("zoom_config_joinurl",!!e.option_joinurl),V.saveValue("zoom_config_mute_upon_entry",e.option_mute_upon_entry),V.saveValue("zoom_config_public_cal",e.option_public_cal),V.saveValue("zoom_config_fte",e.option_fte),V.saveValue("zoom_config_schedule_for",e.option_schedulefor_host),V.saveValue("zoom_config_pacindex",e.option_pacindex),V.saveValue("zoom_config_althost",e.alt_hosts||""),V.saveValue("zoom_config_fixed_popup",!!e.option_fixed_popup),V.saveValue("zoom_locale",e._zm_locale),V.saveValue("zoom_cluster",e._zm_cluster||""),V.saveValue("zm_haid",e._zm_haid||""),V.saveValue("zm_aid",e._zm_aid||""),V.saveValue("zoom_option_require_reg",Boolean(e.option_require_reg)),V.removeValue("zoom_govurl"),V.setAuthentication(e.authenticationV2),delete e.authenticationV2,V.saveValue("meetingPwdSettingsMap",JSON.stringify(e.meetingPwdSettingsMap));let t=e.dcOptions.enableDC;t&&V.setEnableDC(t),V.resetZoomConfigPmi(e),V.saveValue("enable_unmute_all",e.enable_unmute_all),V.setE2ee(e.e2ee),V.setAllowDeny(e.allowDeny),V.setWatermark(e.watermark),V.setAudioWatermark(e.audioWatermark),V.setFocusMode(e.focusMode),V.setAllowAlternativeHostEditPoll(e.allowAlternativeHostEditPoll)},setWatermark:function(e){e=e||"",V.saveValue("watermark",JSON.stringify(e))},getWatermark:function(){let e="";try{e=JSON.parse(V.getValue("watermark"))}catch(e){}return"object"!==V.type(e)&&(e={support:!1,defaultVal:!1,locked:!1},V.setWatermark(e)),e},updateWatermarkDefault:function(e){if("boolean"===V.type(e)){let t=V.getWatermark();t.defaultVal=e,V.setWatermark(t)}},setAudioWatermark:function(e){e=e||"",V.saveValue("audioWatermark",JSON.stringify(e))},getAudioWatermark:function(){let e="";try{e=JSON.parse(V.getValue("audioWatermark"))}catch(e){}return"object"!==V.type(e)&&(e={support:!1,defaultVal:!1,locked:!1},V.setAudioWatermark(e)),e},updateAudioWatermarkDefault:function(e){if("boolean"===V.type(e)){let t=V.getAudioWatermark();t.defaultVal=e,V.setAudioWatermark(t)}},setAllowAlternativeHostEditPoll:function(e){e=e||"",V.saveValue("allowAlternativeHostEditPoll",JSON.stringify(e))},getAllowAlternativeHostEditPoll:function(){let e="";try{e=JSON.parse(V.getValue("allowAlternativeHostEditPoll"))}catch(e){}return"object"!==V.type(e)&&(e={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1}},V.setAllowAlternativeHostEditPoll(e)),e},updateAllowAlternativeHostEditPoll:function(e){if("boolean"===V.type(e)){if(!!V.getValue("zoom_config_pmi")){let t=V.getAllowAlternativeHostEditPoll();t.locked||(t.pmi.defaultVal=e,V.setAllowAlternativeHostEditPoll(t))}}},setFocusMode:function(e){e=e||"",V.saveValue("focusMode",JSON.stringify(e))},getFocusMode:function(){let e="";try{e=JSON.parse(V.getValue("focusMode"))}catch(e){}return"object"!==V.type(e)&&(e={support:!1,pmi:{defaultVal:!1}},V.setFocusMode(e)),e},setE2ee:function(e){e=e||"",V.saveValue("e2ee",JSON.stringify(e))},getE2ee:function(){let e={};try{e=JSON.parse(V.getValue("e2ee")),"object"!==V.type(e)&&(e={})}catch(e){}return e},resetZoomConfigPmi:function(e){let t,o,a=e.option_schedulefor_host;if(a){let t=e.assistants;"array"===V.type(t)&&v.each(t,(function(e,t){if(t.id===a)return o=t.roomid,!1}))}else o=e.PMI;t="0"!==o&&e.option_use_pmi,V.saveValue("zoom_config_pmi",t),V.resetShowDisablePmiMsg(e)},resetShowDisablePmiMsg:function(e){if(!e)return;let t=V.getShowDisablePmiMsg();(void 0===t.me||!1===t.me&&"0"!==e.PMI)&&(t.me=!0);let o=e.assistants;"array"===V.type(o)&&v.each(o,(function(e,o){let a=o.id,n=o.roomid;"000-000-000"===n&&(n="0"),(void 0===t[a]||!1===t[a]&&"0"!==n)&&(t[a]=!0)})),V.setShowDisablePmiMsg(t)},setShowDisablePmiMsg:function(e){e=e||"",V.saveValue("showDisablePmiMsg",JSON.stringify(e))},getShowDisablePmiMsg:function(){let e={};try{e=JSON.parse(V.getValue("showDisablePmiMsg")),"object"!==V.type(e)&&(e={})}catch(e){}return e},setShowSecurityTip:function(e){e=e||"",V.saveValue("showSecurityTip2",JSON.stringify(e))},getShowSecurityTip:function(){let e="";try{e=JSON.parse(V.getValue("showSecurityTip2"))}catch(e){}return"object"!==V.type(e)&&(e={type1:!0,type2:!0,type3:!0},V.setShowSecurityTip(e)),e},setEnableDC:function(e){e=e||"",V.saveValue("enableDC",JSON.stringify(e))},getEnableDC:function(){let e="";try{e=JSON.parse(V.getValue("enableDC")),"object"!==V.type(e)&&(e="")}catch(e){}return e},setAuthentication:function(e){e=e||"",V.saveValue("authentication",JSON.stringify(e))},getAuthentication:function(){let e="";try{e=JSON.parse(V.getValue("authentication"))}catch(e){}return"object"!==V.type(e)&&(e={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]}),e},setAllowDeny:function(e){e=e||"",V.saveValue("allowDeny",JSON.stringify(e))},getAllowDeny:function(){let e="";try{e=JSON.parse(V.getValue("allowDeny"))}catch(e){}return"object"!==V.type(e)&&(e=y.getAllowDenyDefault()),e},setSecurity:function(e){e=e||"",V.saveValue("security",JSON.stringify(e))},getSecurity:function(){let e="";try{e=JSON.parse(V.getValue("security"))}catch(e){}return"object"!==V.type(e)&&(e={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}}),e},updateSecurity:function(e){if(e){let t=e.pwEnable,o=e.wrEnable,a=e.authEnable;if("boolean"===V.type(t)&&"boolean"===V.type(o)&&"boolean"===V.type(a)){let n=V.getSecurity();if(!!V.getValue("zoom_config_pmi")){if(n.newSecurityEnabled.defaultVal)n.pmi.passcode.default_all=t;else{let e=n.pmi.passcode;e.default_all||e.default_jbh||!t||(e.default_all=!0)}void 0!==e.pwd&&(n.pmi.passcode.value=e.pwd),n.pmi.waitingroom.defaultVal=o,V.setSecurity(n);let i=V.getAuthentication();i.pmi.defaultVal=a,e.updateAuthOptionItem&&(i.pmi.pmiUpdate=e.updateAuthOptionItem),V.setAuthentication(i)}}}},updateAllowDeny:function(e){if(e){let t=e.defaultVal,o=e.selRegion,a=e.selType;if("boolean"===V.type(t)&&Array.isArray(o)&&"string"===V.type(a)){let e=V.getAllowDeny();!!V.getValue("zoom_config_pmi")&&e.support&&(e.pmi={type:a,defaultVal:t,selectRegion:o},V.setAllowDeny(e))}}},type:function(e){return Object.prototype.toString.call(e).replace(/(?:^\[object\s(.*?)\]$)/,"$1").toLowerCase()},endWithStr:function(e,t){if(e&&t&&"string"==V.type(e)&&"string"==V.type(t)){let o=e.length-t.length;return o>=0&&e.lastIndexOf(t)==o}return!1},updateFocusMode:function(e){if("boolean"===V.type(e)){if(!!V.getValue("zoom_config_pmi")){let t=V.getFocusMode();t.pmi.defaultVal=e,V.setFocusMode(t)}}},getMeetingPwdSettingsMap:function(){let e="";try{e=JSON.parse(V.getValue("meetingPwdSettingsMap")),"object"!==V.type(e)&&(e="")}catch(e){}return e},setUpdateAuthOptionItem:function(e){e=e||"",V.saveValue("updateAuthOptionItem",JSON.stringify(e))},getUpdateAuthOptionItem:function(){let e="";try{e=JSON.parse(V.getValue("updateAuthOptionItem")),"object"!==V.type(e)&&(e="")}catch(e){}return e},getUpdateAuthOptionItemFromData:function(){let e=V.getAuthentication().optionLists;if(Array.isArray(e)&&e.length)for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o.defaultVal)return o}return null},saveSyncTime:function(e){V.saveValue("zoom_sync_date",e.getTime())},removeZoomData:function(){V.removeValue("zoom_data")},getZoomDataModifiedDate:function(){var e=V.getValue("zoom_token_modified_date");if(e)return new Date(parseInt(e,10))},saveZoomDataModifiedDate:function(e){V.saveValue("zoom_token_modified_date",e.getTime())},removeZoomDataModifiedDate:function(){V.removeValue("zoom_token_modified_date")},getZoomSSOValidDate:function(){var e=V.getValue("zoom_sso_login_time");if(e)return new Date(parseInt(e,10))},saveZoomSSOValidDate:function(e){var t=V.getValue("zoom_sso_exp"),o=e.getTime();o+=t?1e3*t:2592e6,V.saveValue("zoom_sso_login_time",o)},removeZoomSSOValidDate:function(){V.removeValue("zoom_sso_login_time")},hasZoomRqToken:function(){return!!V.getZoomZakRequestToken()},getZoomZakRequestToken:function(){var e=V.getZoomDataModifiedDate(),t=V.getExpirationTime();if(!e||e&&new Date-e>t)V.clearAllData();else{if(!(2==V.getValue("zoom_auth_type")&&V.getValue("zoom_sso_exp")<2592e3&&V.getZoomSSOValidDate()-new Date<0))return V.getValue("zoom_zak");V.clearAllData()}},ssoCheck:function(e,t,o,a){V._ssoCheck(V.getUserBaseUrl()+"mimo/ssocheck",e,t,o,a)},govSsoCheck:function(e,t,o,a,n){V._ssoCheck(e+"/mimo/ssocheck",t,o,a,n,(function(){}))},_ssoCheck:function(e,t,o,a,n){v.ajax({type:"POST",timeout:6e3,url:e,data:t,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status&&e.result&&e.result.ssoVanityUrl?o(e.result.ssoVanityUrl):a()},complete:function(){n()}})},toSync:function(){if(V.hasZoomRqToken()){var e=new Date,t=new Date,o=V.getValue("zoom_sync_date");if(t=o?new Date(parseInt(o,10)):new Date(e.getTime()-1728e5),e-t>=18e5)return V.toSyncImmediate()}return null},toSyncImmediate:function(){let e={ext_version:b.extVersion,snstype:1,accesstoken:""};V.populateZak(e);let t=V.getUserBaseUrl();if(!(0===b.multiVersionIndex&&t.indexOf(`zoomgov${b.runEnv[1]}.com`)>0))return v.ajax({type:"POST",timeout:5e3,url:t+V.loginUrl,data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json"}).done((function(e){if(e.status){let t=e.result;if("object"!==V.type(t))return;V.saveSyncData(t)}else 201!=e.errorCode&&212!=e.errorCode||V.clearAllData()}));V.clearAllData()},remoteCheckPassword:function(e){let t=(new Date).getTime();for(var o=V.remoteCheckPwdCache.length-1;o>-1;o--){let a=V.remoteCheckPwdCache[o];if(t-a.time<3e5){if(a.password==e){let e=function(){let e=v.Deferred();return setTimeout((function(){e.resolve(a.data)}),20),e.promise()};return v.when(e())}}else V.remoteCheckPwdCache.splice(o,1)}return V.remoteCheckPasswordCall(e)},remoteCheckPasswordCall:function(e){let t={ext_version:b.extVersion,password:e};return V.populateZak(t),v.ajax({type:"POST",timeout:5e3,url:V.getUserBaseUrl()+V.checkPwdUrl,data:t,headers:{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":V.getClusterHeader(),"x-zm-haid":V.getHaidHeader(),"x-zm-aid":V.getAidHeader(),"x-requested-browser":"FIREFOX","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json"}).done((function(t){t.status||(-1==t.errorCode?t.status=!0:3403!=t.errorCode&&(t.errorMessage="The password does not meet the requirement")),V.remoteCheckPwdCache.push({password:e,data:t,time:(new Date).getTime()})>10&&V.remoteCheckPwdCache.shift()}))},getEidMeetingMap:function(){return JSON.parse(V.getValue("zoom_eid_meeting_map"))},setEidMeetingMap:function(e){"object"===V.type(e)&&V.saveValue("zoom_eid_meeting_map",JSON.stringify(e))},checkSyncEidMeetingMap:function(){let e=V.getEidMeetingMap();return!(e&&e.synctime&&new Date-e.synctime<432e5)},toSyncEidMeetingMap:function(e,t){},converEidMeetingMap:function(e,t,o){let a={synctime:(new Date).getTime()};v.each(e,(function(e,t){t.calendarId&&t.meetingNumber&&(a[t.calendarId]=t.meetingNumber)})),t&&o&&(a[t]=o),V.setEidMeetingMap(a)},updateEidMeetingMap:function(e,t,o){},saveZoomZakRequestToken:function(e){V.saveValue("zoom_zak",e||"")},getGoogleToken:function(){return V.getValue("google_token")},saveGoogleToken:function(e){V.saveValue("google_token",e)},getExpirationTime:function(){var e=2592e6,t=V.getValue("zoom_zak_exp");return t&&(e=1e3*parseInt(t,10)),e},removeGoogleToken:function(){V.removeValue("google_token")},clearAllData:function(){V.removeGoogleToken(),V.removeZoomData(),V.removeZoomDataModifiedDate(),V.removeValue("zoom_zpk"),V.removeValue("zoom_zak"),V.removeValue("zoom_zpk_exp"),V.removeValue("zoom_zak_exp"),V.removeValue("zoom_sso_exp"),V.removeValue("zoom_govurl"),V.removeValue("zoom_cluster"),V.removeValue("zm_haid"),V.removeValue("zm_aid"),V.removeValue("zoom_eid_meeting_map"),V.removeValue("zoom_config_one_time_pwd"),V.removeValue("zoom_config_jbh_pwd"),V.removeValue("zoom_config_all_pmi_pwd"),V.removeValue("meetingPwdSettingsMap"),V.removeValue("updateAuthOptionItem"),V.removeValue("showDisablePmiMsg"),V.removeValue("enableDC"),V.removeValue("enable_unmute_all"),V.removeValue("zoom_auth_type"),V.removeValue("security"),V.removeValue("extVersion"),V.removeValue("e2ee"),V.removeValue("showSecurityTip"),V.removeValue("authentication"),V.removeValue("audioWatermark"),V.removeValue("watermark")},getValue:function(e){var t=localStorage.getItem(e);return"false"!==t&&("true"===t||t)},saveValue:function(e,t){localStorage.setItem(e,t)},removeValue:function(e){localStorage.removeItem(e)},getJBHPriorStartMeetingList:function(){try{let e=V.getZoomData().scheduleDefaultLockOption,t=JSON.parse(e.JBHPriorStartMeetingList);if("object"===V.type(t))return t}catch(e){}return{5:"5 minutes",10:"10 minutes",15:"15 minutes",0:"Anytime"}},getJbhTimeMinutes:function(){try{let e=V.getZoomData(),t=V.getJBHPriorStartMeetingList();if(!e.lockedoptions||!e.lockedoptions.jbh_locked){let e=V.getValue("jbhTimeMinutes");if(t[e])return e}let o=e.scheduleDefaultLockOption.JBHPriorStartMeeting;if(t[o])return o}catch(e){}return""},setJbhTimeMinutes:function(e){V.getJBHPriorStartMeetingList()[e]?V.saveValue("jbhTimeMinutes",e):console.log("Illegal value of jbhTimeMinutes to be saved.")},getReturnChar:function(){return"Windows"===V.getOS()?"\r\n":"\r"},getOS:function(){var e=navigator.appVersion;return e.indexOf("Win")>=0?"Windows":e.indexOf("Mac")>=0?"Mac":e.indexOf("X11")>=0?"Unix":e.indexOf("Linux")>=0?"Linux":"unknown"},empty:function(){},generateAlphanumeric:function(e){let t=[],o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let a=0;a<e;a++)t.push(o[parseInt(62*Math.random(),10)]);return t.join("")},dataTrans:function(e){let t="";try{let o=V.utf8_to_b64(e),a="",n="";for(let e=0,t=o.length;e<t;e++)e%2==0?a+=o[e]:n+=o[e];let i=Math.floor(7*Math.random())+3;t=V.generateAlphanumeric(i)+V.utf8_to_b64(a+"=#=#"+n)+i}catch(e){console.log("dataTrans failed, data ："+e)}return t},dataUntrans:function(e){let t=e;try{let o=V.b64_to_utf8(e.substring(parseInt(e[e.length-1]),e.length-1)).split("=#=#"),a=o[0],n=o[1],i="";for(let e=0,t=a.length;e<t;e++)i+=a[e],n[e]&&(i+=n[e]);t=V.b64_to_utf8(i)}catch(e){console.log("dataUntrans failed, data ："+e)}return t},utf8_to_b64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64_to_utf8:function(e){return decodeURIComponent(escape(window.atob(e)))},isURLFormat:e=>/^(?:(?:(?:https?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e),getDcEnableOptions:function(e){let t=V.getEnableDC();if(!!V.getValue("zoom_config_pmi")||!e||!e.support||e.locked||!e.options||!e.options.length||!t)return"";let o=[];return v.each(e.options,(function(e,a){t[a.abbr]&&o.push(a.abbr)})),o.length?JSON.stringify(o):""},popupLogin:function(e=!1){let t=parseInt(V.getValue("zoom_login_req_option_tabid")),o=parseInt(V.getValue("zoom_popup_tabpage_tabid"));isNaN(t)||isNaN(o)?V.createPopupPage(e):browser.tabs.update(o,{active:!0},(function(){browser.runtime.lastError&&V.createPopupPage(e)}))},createPopupPage:function(e){browser.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;browser.tabs.create({url:browser.extension.getURL("html/popup.html"),active:!0},(function(t){V.saveValue("zoom_login_req_option_tabid",o),V.saveValue("zoom_popup_tabpage_tabid",t.id),V.saveValue("zoom_login_req_need_reload",e)}))}))},clone:e=>"object"===V.type(e)?JSON.parse(JSON.stringify(e)):"",updateQa(e){if("boolean"!==V.type(e))return;if(!!V.getValue("zoom_config_pmi"))try{let t=V.getZoomData();t.pmiFeatures.qa.value=e,V.saveValue("zoom_data",JSON.stringify(t))}catch(e){}},getQaResult(e){if("boolean"===V.type(e))return e;let t;return t=!!V.getValue("zoom_config_pmi")?V.getPmiFeatures().qa:V.getMeetingFeatures().qa,t.value},getAssistants(){let e=V.getZoomData(),t=[];if(e){let o=e.assistants;Array.isArray(o)&&(t=o)}return t},getPmcResult(e,t,o){if("boolean"===V.type(e)&&"boolean"===V.type(t))return{enablePMC:e,enableAutoAddExternalUser:t};let a=V.getMeetingFeatures().pmc,n=V.getAssistants();if(o){let e=n.find((e=>e.id==o));a=e&&e.pmc?e.pmc:y.getPmcDefault()}return"boolean"!==V.type(e)&&(e=a.value||!1),"boolean"!==V.type(t)&&(t=a?.childParams?.allowAutoAddInvitedExternalUsers?.value||!1),{enablePMC:e,enableAutoAddExternalUser:t}},getInterpretationResult(e,t){let o=V.getMeetingFeatures().interpretation;return"boolean"!==V.type(e)&&(e=o.value||!1),"array"!==V.type(t)&&(t=[]),{enableInterpretation:e,interpretation:t=JSON.stringify(t)}},getWbToken:function(e,t){let o=V.getUserBaseUrl()+V.wbTokenUrl,a={ext_version:b.extVersion};V.populateZak(a),v.ajax({type:"POST",url:o,data:a,timeout:1e4,headers:V.getZoomHeader(),dataType:"json",success:function(o){if(o?.status){let a=o.result?.access_token;a&&"string"===V.type(a)?e(a):t()}else t()},error:function(){t()}})},getWbDetail:function(e,t,o,a,n){let i=V.getNwsDomain();if(!i)return n();let l=`${i}/nws/das/api/v1/documents/${e}`;v.ajax({type:"get",url:l,timeout:1e4,headers:{...V.getZoomHeader(),Authorization:t},dataType:"json",success:function(e){e&&e.docId?a({wbData:e,refreshToken:o,token:t}):n(e)},error:function(t){401!==t?.status||o?n():V.getWbToken((function(t){V.getWbDetail(e,t,!0,a,n)}),n)}})},getNwsDomain(){let e=V.getZoomData();return e?.whiteboard?.nwsDomain||""},editWb(e,t,o){let a=V.getUserBaseUrl()+V.editWbUrl,n={scheduleTime:e.scheduleTime,wb_doc_id:e.wb_doc_id,wb_permission:e.wb_permission,calendarId:e.calendarId,event_baseid:e.event_baseid||"",ext_version:b.extVersion};V.populateZak(n),v.ajax({type:"POST",url:a,data:n,timeout:1e4,headers:V.getZoomHeader(),dataType:"json",success:function(e){e?.result?t(e):o(e)},error:function(e){o(e)}})},deleteWb(e,t,o){let a=V.getUserBaseUrl()+V.deleteWbUrl,n={calendarId:e.calendarId,event_baseid:e.event_baseid||"",ext_version:b.extVersion};V.populateZak(n),v.ajax({type:"POST",url:a,data:n,timeout:1e4,headers:V.getZoomHeader(),dataType:"json",success:function(e){e?.result?t(e):o(e)},error:function(e){o(e)}})},updateWbLastUsedTime(){V.saveValue("zoomWbLastUsedTime",Date.now())},getAllowPreloadWb(){let e=V.getValue("zoomWbLastUsedTime");return!!(e&&Date.now()-e<864e6)},getMeetingSummaryResult(e,t){if("boolean"===w.type(e))return e;let o;return o=t?V.getPmiFeatures().meetingSummary||{}:V.getMeetingFeatures().meetingSummary||{},o.value||!1},getMeetingQueryResult(e,t){if("boolean"===w.type(e))return e;let o;return o=t?V.getPmiFeatures().meetingQuery||{}:V.getMeetingFeatures().meetingQuery||{},o.value||!1},updateMeetingSummary(e){if("boolean"!==w.type(e))return;if(!!V.getValue("zoom_config_pmi"))try{let t=V.getZoomData();t.pmiFeatures.meetingSummary.value=e,V.saveValue("zoom_data",JSON.stringify(t))}catch(e){}},updateMeetingQuery(e){if("boolean"!==w.type(e))return;if(!!V.getValue("zoom_config_pmi"))try{let t=V.getZoomData();t.pmiFeatures.meetingQuery.value=e,V.saveValue("zoom_data",JSON.stringify(t))}catch(e){}},getWorkspaceData(){let e=V.getZoomData(),{enableGoogleWSRExtension:t,enableWSR:o,webDomain:a,accountId:n}=e||{};return"boolean"!==w.type(t)&&(t=!1),"boolean"!==w.type(o)&&(o=!1),a&&"string"===w.type(a)||(a="",t=!1),n&&"string"===w.type(n)||(n="",t=!1),{enableGoogleWSRExtension:t,enableWSR:o,webDomain:a,accountId:n}},getWorkspaceToken(){let{webDomain:e,accountId:t}=V.getWorkspaceData(),o=`${e}/nws/zr/1.0/core/desk/google/u/token`,a={accountId:t};return V.getWorkspaceTokenXhr&&4!==V.getWorkspaceTokenXhr.readyState?V.getWorkspaceTokenXhr:V.getWorkspaceTokenXhr=v.ajax({type:"POST",url:o,data:JSON.stringify(a),contentType:"application/json",timeout:1e4,headers:{Zak:V.getZoomZakRequestToken()},dataType:"json"})},checkReservedRooms(e,t,o,a,n){let i=`${V.getWorkspaceData().webDomain}/nws/zr/1.0/core/desk/plugin/reserve/check`;V.checkReservedRoomsXhr&&4!==V.checkReservedRoomsXhr.readyState&&V.checkReservedRoomsXhr.abort(),V.checkReservedRoomsXhr=v.ajax({type:"POST",url:i,data:JSON.stringify(t),contentType:"application/json",timeout:1e4,headers:{Authorization:`Bearer ${e}`},dataType:"json",success:function(e){e?.success&&a({data:e.data||[],token:o?n:""})},error:function(e){401!==e?.status||o||V.getWorkspaceToken().done((function(e){const o=e?.data?.accessToken;e?.success&&o&&V.checkReservedRooms(o,t,!0,a,e.data)}))}})},saveWorkspace(e,t,o,a,n){let i=`${V.getWorkspaceData().webDomain}/nws/zr/1.0/core/desk/plugin/reservation/save`;v.ajax({type:"POST",url:i,data:JSON.stringify(t),contentType:"application/json",timeout:1e4,headers:{Authorization:`Bearer ${e}`},dataType:"json",success:function(e){e.success&&a({token:o?n:""})},error:function(e){401!==e?.status||o||V.getWorkspaceToken().done((function(e){const o=e?.data?.accessToken;e?.success&&o&&V.saveWorkspace(o,t,!0,a,e.data)}))}})},getReservedRooms(e,t,o,a,n){let i=`${V.getWorkspaceData().webDomain}/nws/zr/1.0/core/desk/plugin/google/event/reservation`,l={eventId:t};v.ajax({type:"POST",url:i,data:l,contentType:"application/x-www-form-urlencoded",timeout:1e4,headers:{Authorization:`Bearer ${e}`},dataType:"json",success:function(e){e?.success&&a({data:e.data,token:o?n:""})},error:function(e){401!==e?.status||o||V.getWorkspaceToken().done((function(e){const o=e?.data?.accessToken;e?.success&&o&&V.getReservedRooms(o,t,!0,a,e.data)}))}})},getWorkspaceFileToken(){const e=`${V.getWorkspaceData().webDomain}/nws/zr/1.0/core/desk/google/file/zak`;return V.getWorkspaceFileTokenXhr&&4!==V.getWorkspaceFileTokenXhr.readyState?V.getWorkspaceFileTokenXhr:V.getWorkspaceFileTokenXhr=v.ajax({type:"post",url:e,timeout:1e4,headers:{Zak:V.getZoomZakRequestToken()},dataType:"json"})},getWorkspaceRoomImg(e,t,o,a){v.ajax({type:"get",url:e,timeout:1e4,xhrFields:{responseType:"arraybuffer"},headers:{Authorization:`Bearer ${t}`},success:function(e){if(e&&e instanceof ArrayBuffer){let n={data:"data:image/png;base64,"+btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))};o&&(n.fileToken=t),a(n)}},error:function(t){401!==t?.status||o||V.getWorkspaceFileToken().done((function(t){t?.success&&t?.data&&V.getWorkspaceRoomImg(e,t.data,!0,a),V.getWorkspaceFileTokenXhr=null})).fail((function(){a({fileToken:""}),V.getWorkspaceFileTokenXhr=null}))}})},setHaveShownWsTips(e){V.saveValue("haveShownWsTips",e)},getHaveShownWsTips:()=>!!V.getValue("haveShownWsTips")};const z=V},100:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});o(979);var a=o(630);let n,i=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];function l(){try{let e=new Uint32Array(1);window.crypto.getRandomValues(e);let t=e[0].toString(),o=Math.floor((t.length-1)*parseFloat("0."+t));return parseFloat("0."+t.substring(o))}catch(e){}return Math.random()}function r(e,t,o=!0){let n=!0;return t.lengthRule>0&&(e.length>=t.lengthRule?o&&c("length"):(n=!1,o&&d("length"))),t.alpabetRule&&(!function(e){return/[A-Za-z]/.test(e)}(e)?(n=!1,o&&d("alpabet")):o&&c("alpabet")),t.numberRule&&(!function(e){return/\d/.test(e)}(e)?(n=!1,o&&d("number")):o&&c("number")),t.specialRule&&(!function(e){return/[~!@#$%^&*()/\|,\.<>?"';:_+\-=\[\]{}]/.test(e)}(e)?(n=!1,o&&d("special")):o&&c("special")),t.onlyNumberRule&&(!function(e){if("string"===a.type(e)&&0===e.length)return!0;return/\D/.test(e)}(e)?o&&c("onlyNumber"):(n=!1,o&&d("onlyNumber"))),t.combineRule&&(!function(e){let t=/[A-Z]/;return/[a-z]/.test(e)&&t.test(e)}(e)?(n=!1,o&&d("upperLowerChar")):o&&c("upperLowerChar")),t.consecutiveRule>0&&(s(e,t.consecutiveRule,!0)?(n=!1,o&&d("consecutive")):o&&c("consecutive")),n}function s(e,t,o){o&&(e=e.toLowerCase());let a,n,i,l=e.length;t=parseInt(t);for(let o=0;o<=l-t;o++){a=0,n=0,i=0;for(let l=0;l<t-1;l++){if(e.charCodeAt(o+l)==e.charCodeAt(o+l+1)&&(a++,a==t-1))return!0;if(e.charCodeAt(o+l+1)-e.charCodeAt(o+l)==1&&(n++,n==t-1))return!0;if(e.charCodeAt(o+l)-e.charCodeAt(o+l+1)==1&&(i++,i==t-1))return!0}if(u(e.substring(o,o+t)))return!0}return!1}function u(e){let t=[...e].reverse().join("");for(var o=0;o<i.length;o++){var a=i[o];if(-1!=a.indexOf(e)||-1!=a.indexOf(t))return!0}return!1}function c(e){n&&n.find("."+e).addClass("tick")}function d(e){n&&n.find("."+e).removeClass("tick")}function p(e){let t=[...e];for(var o=t.length-1;o>0;o--){var a=Math.floor(l()*(o+1)),n=t[o];t[o]=t[a],t[a]=n}return t.join("")}function m(e){if(n.length){let t="Password must:";n.find("div").each((function(){let e=a(this);e.hasClass("tick")?t+=e.text()+", met, ":t+=e.text()+", not met, "})),a("#meetingPwdDescription").text(t),a(e).attr("aria-describedby","meetingPwdDescription")}}const g=function(e){this.opt=Object.assign({},{blurCallback:()=>{},startInputCallback:()=>{},conformRuleCallback:()=>{}},e);let t=e.el,o=e.rule;t&&(function(e,t){let o=function(e){let t='\n    <div class="zoom-pwd-auth-pop">\n        <div class="pop-arrow"></div>\n        ',o=e.lengthRule>0||e.alpabetRule||e.numberRule||e.specialRule||e.onlyNumberRule||e.combineRule;o&&(t+='<div class="pop-title">Password must:</div>\n                <div class="auth-list">');e.lengthRule>0&&(t+=`<div class="length">Have at least ${e.lengthRule} characters</div>`);e.alpabetRule&&(t+='<div class="alpabet">Have at least 1 letter (a, b, c...)</div>');e.numberRule&&(t+='<div class="number">Have at least 1 number (1, 2, 3...)</div>');e.specialRule&&(t+='<div class="special">Have at least 1 special character (!, @, #...)</div>');e.onlyNumberRule&&(t+='<div class="onlyNumber">Only allow numeric password</div>');e.combineRule&&(t+='<div class="upperLowerChar">Include both upper case and lower case characters</div>');o&&(t+="</div>");o=e.consecutiveRule>0,o&&(t+='<div class="pop-title">Password must NOT:</div>\n                <div class="auth-list">');e.consecutiveRule>0&&(t+=`<div class="consecutive">Contain ${e.consecutiveRule} consecutive characters (e.g. "11111", "12345", "abcde", or "qwert")</div>`);o&&(t+="</div>");return t+='\n    </div>\n    <div id="meetingPwdDescription"></div>\n',t}(t);a(e).after(o),n=a(".zoom-pwd-auth-pop .auth-list")}(t,o),function(e,t,o){let i=!0,l="",r="";t.addEventListener("focus",(function(l){o&&(i&&(i=!1,function(e){let t=e.getBoundingClientRect().width/2;a(".zoom-pwd-auth-pop .pop-arrow").css({left:t+"px"})}(t)),n.length&&function(e){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))}(a(".zoom-pwd-auth-pop")),e.checkRules(),m(e)),l.preventDefault(),l.stopPropagation()})),t.addEventListener("blur",(function(t){o&&n.length&&function(e,t=150){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),150))}(a(".zoom-pwd-auth-pop")),e.opt.blurCallback(),t.preventDefault(),t.stopPropagation()})),t.addEventListener("input",(function(t){if(o){let{res:t,msg:o,errortype:a}=e.checkRules();t&&e.opt.conformRuleCallback()}r=this.value,1===r.length&&0===l.length&&e.opt.startInputCallback(),l=r})),t.addEventListener("keyup",(function(e){9!=e.keyCode&&16!=e.keyCode&&(this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,""),a("#meetingPwdDescription").text(""),40===e.keyCode&&m(this))})),t.addEventListener("afterpaste",(function(e){this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,"")}))}(this,t,o)),this.validityPassword=function(e,t){return!(!e||!t)&&r(e,t,!1)},this.generateMeetingPassword=function(e,t=1){if(!e){let e="";return e=2===t?this.generateNumLetterPassword(6):this.generateNumberPassword(6),e}let o=Math.max(6,e.lengthRule);if(e.onlyNumberRule)return this.generateNumberPassword(o);{let t=this.genPwdByActionableRule(e,o);if(e.consecutiveRule>0){let a=20;for(;--a>0&&s(t,e.consecutiveRule,!0);)t=a%5==0?this.genPwdByActionableRule(e,o):p(t)}return t}},this.generateNumberPassword=function(e){let t=[];for(let o=0;o<e;o++)t.push(parseInt(10*l(),10));return t.join("")},this.generateNumLetterPassword=function(e){let t="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=[],a=Math.floor(l()*(e-1))+1;for(let n=0;n<e;n++)a>0?(o.push(t.charAt(parseInt(48*l()))),a--):o.push(parseInt(10*l()));return p(o.join(""))},this.generateComplexPassword=function(e){const t="0123456789abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ!@#$%^&*.?+=";let o=[];for(let a=0;a<e;a++)o.push(t.charAt(parseInt(70*l())));return o.join("")},this.genPwdByActionableRule=function(e,t){let o=[];if(o.push(parseInt(10*l(),10)),t--,e.alpabetRule){let e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(l()*e.length))),t--}if(e.specialRule){let e="!@#$%^&*.?+=";o.push(e.charAt(parseInt(l()*e.length))),t--}if(e.combineRule){let e="ABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(l()*e.length))),t--,e="abcdefghijkmnpqrstuvwxyz",o.push(e.charAt(parseInt(l()*e.length))),t--}return p(o.join("")+this.generateComplexPassword(t))},this.getPassword=function(){let e=this.opt.el,t="";return e&&(t=a(e).val(),t&&(t=t.trim())),t},this.checkRules=function(){let e=this.opt.el,t=this.opt.rule;if(e){let o=a(e).val();if(o=o?o.trim():"",o){if(t){return r(o,t,!0)?{res:!0,msg:""}:{res:!1,msg:"The password does not meet the requirement",errortype:1}}return{res:!0,msg:""}}return r(o,t,!0),{res:!1,msg:"Please enter a meeting password",errortype:2}}return{res:!1,msg:"Password entry box not found",errortype:3}}}}}]);
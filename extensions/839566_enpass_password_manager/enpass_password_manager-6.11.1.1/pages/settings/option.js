!function(){'use strict';const e=()=>{const e=(navigator&&navigator.userAgent||'').toLowerCase(),t=(navigator&&navigator.vendor||'').toLowerCase(),n=null!==e.match(/(?:firefox|fxios)\/(\d+)/),l=null!==e.match(/version\/(\d+).+?safari/),o=null!==e.match(/edge\/(\d+)/)||null!==e.match(/edg\/(\d+)/),i=null!==e.match(/(?:^opera.+?version|opr)\/(\d+)/),r=/google inc/.test(t)?e.match(/(?:chrome|crios)\/(\d+)/):null;return n?'FIREFOX':l?'SAFARI':o?'EDGE':i?'OPERA':null!==r&&!i?'CHROME':void 0},t=e=>e?e.split('+').map((e=>{return(t=e)?(t=t.toLowerCase()).charAt(0).toUpperCase()+t.slice(1):'';var t})).join('+'):'',n=e=>{const n=-1!==navigator.userAgent.indexOf('Mac OS X');if(!e)return'';if(!n)return t(e);if(e.includes('⇧')||e.includes('⌥')||e.includes('⌃')||e.includes('⌘'))return e;e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace('shift','⇧')).replace('alt','⌥')).replace('right','→')).replace('left','←')).replace('right','→')).replace('pagedown','⇟')).replace('pageup','⇞')).replace('end','↘')).replace('home','↖')).replace('insert','Ins')).replace('period','.');const l=(e=(e=(e=n?e.replace('macctrl','⌃'):e.replace('ctrl','⌃')).replace('command','⌘')).replace('meta','⌘')).split('+');return l.includes('comma')&&(e=e.replace('comma',',')),l.includes('down')&&(e=e.replace('down','↓')),l.includes('up')&&(e=e.replace('up','↑')),l.includes('delete')&&(e=e.replace('delete','Del')),l.includes('del')&&(e=e.replace('del','Del')),l.includes('ins')&&(e=e.replace('ins','Ins')),l.includes('ctrl')&&(e=e.replace('ctrl','⌃')),(e=t(e)).split('+').join('')},l=e=>{if(!e)return'';const t=-1!==navigator.userAgent.indexOf('Mac OS X');e=(e=e.replace('alt','Alt')).replace('shift','Shift'),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=t?(e=e.replace('meta','Command')).replace('ctrl','MacCtrl'):e.replace('ctrl','Ctrl')).replace('.','Period')).replace(',','Comma')).replace('pageup','PageUp')).replace('pagedown','PageDown')).replace('space','Space')).replace('home','Home')).replace('end','End')).replace('ins','Insert')).replace('del','Delete')).replace('up','Up')).replace('down','Down')).replace('left','Left')).replace('right','Right');const n=/^[a-z]+$/i,l=/^f[1-9][0-2]?$/;return(e=>{const t=e.split('+'),n=(e,n)=>{let l=-1;l=-1!==navigator.userAgent.indexOf('Mac OS X')?-1==l||l===n?t.indexOf('MacCtrl'):l:-1==l||l===n?t.indexOf('Ctrl'):l,l=-1==l||l===n?t.indexOf('Alt'):l,l=-1==l||l===n?t.indexOf('Command'):l,l=-1==l||l===n?t.indexOf('Shift'):l,l!==n&&-1!==l&&([t[e],t[l]]=[t[l],t[e]])};return['Ctrl','Alt','Command','Shift','MacCtrl'].includes(t[0])||n(0,-1),['Ctrl','Alt','Command','Shift','MacCtrl'].includes(t[1])||n(1,0),t.join('+')})(e=e.split('+').map((e=>1===e.length&&n.test(e)?e.toUpperCase():l.test(e)?e[0].toUpperCase()+e.substr(1):e)).join('+'))};for(var o='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',i='undefined'==typeof Uint8Array?[]:new Uint8Array(256),r=0;r<64;r++)i[o.charCodeAt(r)]=r;let a=null;'SAFARI'!==e()&&(a='undefined'==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype?chrome:browser);const c=(e,t)=>{const n={command:e,payload:t};'object'==typeof safari&&safari.extension?safari.extension.dispatchMessage(e,t):a.runtime.sendMessage(n)},s=(e,t)=>{a.storage.local.get(e,(e=>{t(e)}))},d=e=>{a.storage.local.set(e)},u=(e,t,n)=>{e&&0!==e.indexOf('http')&&0!==e.indexOf('wwww')&&!n&&(e=(e=>'object'==typeof safari&&safari.extension?safari.extension.baseURI+e.substring(e.lastIndexOf('/')+1):a.runtime.getURL(e))(e)),a.tabs.create({url:e,active:!0},(e=>{t&&'function'==typeof t&&a.tabs.onUpdated.addListener((function n(l,o){'complete'===o.status&&l===e.id&&(t(e),a.tabs.onUpdated.removeListener(n))}))}))},_=(e,t,n)=>{a.commands.update({name:e,description:t,shortcut:n})},m=(e,t)=>{(e=>{a.commands.getAll(e)})((n=>{for(let{name:l,shortcut:o}of n)if(l===e){t(o);break}}))},p=(e,t)=>a.i18n.getMessage(e,t);var g,f={exports:{}};g=f,function(e,t,n){if(e){for(var l,o={8:'backspace',9:'tab',13:'enter',16:'shift',17:'ctrl',18:'alt',20:'capslock',27:'esc',32:'space',33:'pageup',34:'pagedown',35:'end',36:'home',37:'left',38:'up',39:'right',40:'down',45:'ins',46:'del',91:'meta',93:'meta',224:'meta'},i={106:'*',107:'+',109:'-',110:'.',111:'/',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\''},r={'~':'`','!':'1','@':'2','#':'3',$:'4','%':'5','^':'6','&':'7','*':'8','(':'9',')':'0',_:'-','+':'=',':':';','"':'\'','<':',','>':'.','?':'/','|':'\\'},a={option:'alt',command:'meta',return:'enter',escape:'esc',plus:'+',mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?'meta':'ctrl'},c=1;c<20;++c)o[111+c]='f'+c;for(c=0;c<=9;++c)o[c+96]=c.toString();f.prototype.bind=function(e,t,n){var l=this;return e=e instanceof Array?e:[e],l._bindMultiple.call(l,e,t,n),l},f.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},f.prototype.trigger=function(e,t){var n=this;return n._directMap[e+':'+t]&&n._directMap[e+':'+t]({},e),n},f.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},f.prototype.stopCallback=function(e,t){if((' '+t.className+' ').indexOf(' mousetrap ')>-1)return!1;if(p(t,this.target))return!1;if('composedPath'in e&&'function'==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return'INPUT'==t.tagName||'SELECT'==t.tagName||'TEXTAREA'==t.tagName||t.isContentEditable},f.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},f.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);l=null},f.init=function(){var e=f(t);for(var n in e)'_'!==n.charAt(0)&&(f[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},f.init(),e.Mousetrap=f,g.exports&&(g.exports=f)}function s(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent('on'+t,n)}function d(e){if('keypress'==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return o[e.which]?o[e.which]:i[e.which]?i[e.which]:String.fromCharCode(e.which).toLowerCase()}function u(e){return'shift'==e||'ctrl'==e||'alt'==e||'meta'==e}function _(e,t,n){return n||(n=function(){if(!l)for(var e in l={},o)e>95&&e<112||o.hasOwnProperty(e)&&(l[o[e]]=e);return l}()[e]?'keydown':'keypress'),'keypress'==n&&t.length&&(n='keydown'),n}function m(e,t){var n,l,o,i=[];for(n=function(e){return'+'===e?['+']:(e=e.replace(/\+{2}/g,'+plus')).split('+')}(e),o=0;o<n.length;++o)l=n[o],a[l]&&(l=a[l]),t&&'keypress'!=t&&r[l]&&(l=r[l],i.push('shift')),u(l)&&i.push(l);return{key:l,modifiers:i,action:t=_(l,i,t)}}function p(e,n){return null!==e&&e!==t&&(e===n||p(e.parentNode,n))}function f(e){var n=this;if(e=e||t,!(n instanceof f))return new f(e);n.target=e,n._callbacks={},n._directMap={};var l,o={},i=!1,r=!1,a=!1;function c(e){e=e||{};var t,n=!1;for(t in o)e[t]?n=!0:o[t]=0;n||(a=!1)}function _(e,t,l,i,r,a){var c,s,d,_,m=[],p=l.type;if(!n._callbacks[e])return[];for('keyup'==p&&u(e)&&(t=[e]),c=0;c<n._callbacks[e].length;++c)if(s=n._callbacks[e][c],(i||!s.seq||o[s.seq]==s.level)&&p==s.action&&('keypress'==p&&!l.metaKey&&!l.ctrlKey||(d=t,_=s.modifiers,d.sort().join(',')===_.sort().join(',')))){var g=!i&&s.combo==r,f=i&&s.seq==i&&s.level==a;(g||f)&&n._callbacks[e].splice(c,1),m.push(s)}return m}function p(e,t,l,o){n.stopCallback(t,t.target||t.srcElement,l,o)||!1===e(t,l)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(t),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(t))}function g(e){'number'!=typeof e.which&&(e.which=e.keyCode);var t=d(e);t&&('keyup'!=e.type||i!==t?n.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push('shift'),e.altKey&&t.push('alt'),e.ctrlKey&&t.push('ctrl'),e.metaKey&&t.push('meta'),t}(e),e):i=!1)}function y(e,t,n,r){function s(t){return function(){a=t,++o[e],clearTimeout(l),l=setTimeout(c,1e3)}}function u(t){p(n,t,e),'keyup'!==r&&(i=d(t)),setTimeout(c,10)}o[e]=0;for(var _=0;_<t.length;++_){var g=_+1===t.length?u:s(r||m(t[_+1]).action);h(t[_],g,r,e,_)}}function h(e,t,l,o,i){n._directMap[e+':'+l]=t;var r,a=(e=e.replace(/\s+/g,' ')).split(' ');a.length>1?y(e,a,t,l):(r=m(e,l),n._callbacks[r.key]=n._callbacks[r.key]||[],_(r.key,r.modifiers,{type:r.action},o,e,i),n._callbacks[r.key][o?'unshift':'push']({callback:t,modifiers:r.modifiers,action:r.action,seq:o,level:i,combo:e}))}n._handleKey=function(e,t,n){var l,o=_(e,t,n),i={},s=0,d=!1;for(l=0;l<o.length;++l)o[l].seq&&(s=Math.max(s,o[l].level));for(l=0;l<o.length;++l)if(o[l].seq){if(o[l].level!=s)continue;d=!0,i[o[l].seq]=1,p(o[l].callback,n,o[l].combo,o[l].seq)}else d||p(o[l].callback,n,o[l].combo);var m='keypress'==n.type&&r;n.type!=a||u(e)||m||c(i),r=d&&'keydown'==n.type},n._bindMultiple=function(e,t,n){for(var l=0;l<e.length;++l)h(e[l],t,n)},s(e,'keypress',g),s(e,'keydown',g),s(e,'keyup',g)}}('undefined'!=typeof window?window:null,'undefined'!=typeof window?document:null);const y=function(e){var t=[],n=null,l=[],o=!1,i=null,r=e.prototype.handleKey;function a(e,t,n){if(this.recording)if('keydown'==n.type){1===e.length&&o&&s();for(var i=0;i<t.length;++i)c(t[i]);c(e)}else'keyup'==n.type&&l.length>0&&s();else r.apply(this,arguments)}function c(e){var t;for(t=0;t<l.length;++t)if(l[t]===e)return;l.push(e),1===e.length&&(o=!0)}function s(){t.push(l),l=[],o=!1,clearTimeout(i),i=setTimeout(d,1e3)}function d(){n&&(!function(e){var t;for(t=0;t<e.length;++t)e[t].sort((function(e,t){return e.length>1&&1===t.length?-1:1===e.length&&t.length>1||e>t?1:-1})),e[t]=e[t].join('+')}(t),n(t)),t=[],n=null,l=[]}return e.prototype.record=function(e){var t=this;t.recording=!0,n=function(){t.recording=!1,e.apply(t,arguments)}},e.prototype.handleKey=function(){a.apply(this,arguments)},e.init(),e}(f.exports),h=document.getElementById('shortcut_input_activate'),v=document.getElementById('shortcut_input_autofill'),b=document.getElementById('shortcut_input_lock'),k=document.querySelector('#inline_url'),E=document.querySelector('#add_inline_url');E.disabled=!0;let x=new Set;var w,C=new Set;function I(e,t){const o=e.target,i=o.value;let r;'_execute_browser_action'===t&&(r='activate'),'autofill'===t&&(r='autofill'),'lock'===t&&(r='lock'),document.getElementById(`shortcut_error_${r}`).style.display='none',o.value='',o.placeholder=p('info_to_enter_new_shortcut'),y.record((function(e){const r=function(e,t){var n=0,l=0;if(-1!==e.indexOf('enter'))return'';e=e.toLowerCase(),n+=-1!==e.indexOf('shift')?1:0,n+=-1!==e.indexOf('ctrl')?1:0,n+=-1!==e.indexOf('alt')?1:0,n+=-1!==e.indexOf('meta')?1:0;var o=e.split('+').length;return l=o-n,o===n||0===n||l>1?(q(t),''):e}(e[e.length-1],t);if(o.setAttribute('dir','ltr'),r){const e=l(r);try{if(C.has(n(e))&&i!==n(e))throw new Error('Shortcut already exist for other operation');_(t,null,e),o.value=n(e),C.delete(i),C.add(o.value)}catch(e){S(t),q(t)}}else o.value=i;o.blur()}))}function L(e,t){e.target.value||S(t)}function B(e,t){let n=p('info_to_enter_new_shortcut');try{_(t,null,''),'_execute_browser_action'===t&&(C.delete(h.value),h.value='',h.placeholder=n),'autofill'===t&&(C.delete(v.value),v.value='',v.placeholder=n),'lock'===t&&(C.delete(b.value),b.value='',b.placeholder=n)}catch(e){S(t)}}function S(e){let t=p('info_to_enter_new_shortcut');m(e,(l=>{'_execute_browser_action'===e&&(h.value=n(l),C.add(h.value),h.placeholder=t),'autofill'===e&&(v.value=n(l),C.add(v.value),v.placeholder=t),'lock'===e&&(b.value=n(l),C.add(b.value),b.placeholder=t)}))}function q(e){let t;'_execute_browser_action'===e&&(t='activate'),'autofill'===e&&(t='autofill'),'lock'===e&&(t='lock'),document.getElementById(`shortcut_error_${t}`).style.display='block',setTimeout((function(){document.getElementById(`shortcut_error_${t}`).style.display='none'}),2e3)}function O(e,t,n){let l=document.getElementById(e),o=p(t);l&&o&&(n?l[n]=o:l.textContent=o)}function A(e){e&&(e.forEach?e.forEach((function(e){e.style.textAlign='right'})):e.style.textAlign='right')}function M(e){if(e){if(-1===e.indexOf('.')&&(e+='.*'),e&&x.has(e))document.getElementById('inline_url_error').textContent=p('label_url_exists'),document.getElementById('inline_url_error').style.display='block',setTimeout((function(){document.getElementById('inline_url_error').style.display='none'}),2e3);else{x.add(e);const t=[...x];R(t),d({inline_blocked_urls:t.join('|')})}E.disabled=!0}}function R(e){document.querySelector('div.list').textContent='';const t=t=>{const n=t.target.parentElement,l=n.querySelector('div').textContent;e.splice(e.indexOf(l),1),x.delete(l),d({inline_blocked_urls:e.join('|')}),document.querySelector('div.list').removeChild(n)};e.length>0&&e.forEach((e=>{!function(e,t){const n=document.createElement('div'),l=document.createElement('div'),o=document.createElement('button');l.textContent=e,l.classList.add('item-url'),o.classList.add('close-btn'),o.textContent='X',n.classList.add('list-item'),n.append(l),n.append(o),document.querySelector('div.list').append(n),o.addEventListener('click',t)}(e,t)}))}'FIREFOX'===e()?(document.getElementById('shortcut_tool').style.display='block',document.getElementById('menu_theme').classList.add('theme_choiceFirefox'),S('_execute_browser_action'),S('autofill'),S('lock')):(document.getElementById('shortcut_link_section').style.display='block',document.getElementById('menu_theme').classList.add('theme_choice'),document.getElementById('shortcut_redirect_link').addEventListener('click',(()=>{u('chrome://extensions/shortcuts',null,!0)}))),function(){let e=a?a.i18n.getUILanguage():'en';!e||'ar'!==e&&'he'!==e||function(){document.body.style.direction='rtl',A(document.getElementById('mainHeader')),e=document.querySelectorAll('.settings-item h3'),e&&(e.forEach?e.forEach((function(e){e.style.textAlign='left'})):e.style.textAlign='left'),A(document.querySelectorAll('.setting__controller-container')),function(e,t){e&&(e.forEach?e.forEach((function(e){e.style.marginLeft='0',e.style.marginRight=t})):(e.style.marginLeft='0',e.style.marginRight=t))}(document.querySelectorAll('.setting__controller'),'17px');var e;let t=document.querySelector('.toggle_component');t.classList.remove('toggle_component'),t.classList.add('toggle_component_rtl');let n=document.querySelector('.toggle_component__background');n.classList.remove('toggle_component__background'),n.classList.add('toggle_component_rtl__background');let l=document.querySelector('.toggle_component__slider');l.classList.remove('toggle_component__slider'),l.classList.add('toggle_component_rtl__slider');let o=document.querySelector('.toggle_component__checkbox');o.classList.remove('toggle_component__checkbox'),o.classList.add('toggle_component_rtl__checkbox')}()}(),w=function(e){e&&'cros'===e.os&&(document.querySelector('#section_override').style.display='none',document.querySelector('#inline_setting').style.display='none',document.querySelector('#autofill_onload_setting').style.display='none',document.querySelector('#inline_dashboard').style.display='none'),e.os},a.runtime.getPlatformInfo((e=>{w(e)})),document.addEventListener('DOMContentLoaded',(function(e){'object'==typeof safari?c('get_stored_shortcut_key'):(t=['privacy'],n=e=>{var t;e?(t=e=>{document.getElementById('override_pwd_manager').checked=!e},a.privacy.services.passwordSavingEnabled.get({},(e=>{'controlled_by_this_extension'!==e.levelOfControl&&'controllable_by_this_extension'!==e.levelOfControl||t(e.value)}))):document.getElementById('override_pwd_manager').checked=!1},a.permissions.contains({permissions:t},n),s(['show_context_menu','enpass_shortcut_key','show_inline_menu','auto_login','inline_blocked_urls','inline_menu_theme','inline_supported','show_log_messages_setting','save_passkey'],(function(e){if(e){if(e.show_context_menu&&(document.getElementById('context_menu_setting').checked='true'===e.show_context_menu),e.show_log_messages_setting){document.getElementById('log_setting').checked='true'===e.show_log_messages_setting;let t=document.getElementById('log-container'),n=document.getElementById('log-section');'true'===e.show_log_messages_setting?(c('get_logs'),n.style.display='block'):(n.style.display='none',t.textContent='')}if(e.show_inline_menu&&(document.getElementById('inline_menu_setting').checked='true'===e.show_inline_menu,'true'===e.show_inline_menu&&'true'===e.inline_supported?document.getElementById('inline_dashboard').style.display='block':document.getElementById('inline_dashboard').style.display='none'),e.auto_login&&(document.getElementById('autofill_setting').checked='true'===e.auto_login),e.inline_blocked_urls){const t=e.inline_blocked_urls.split('|');R(t),x=new Set(t)}e.inline_menu_theme&&(document.getElementById('menu_theme').value=e.inline_menu_theme),e.save_passkey&&(document.getElementById('passkey_toggle').checked='true'===e.save_passkey)}})));var t,n})),h.addEventListener('focus',(e=>{I(e,'_execute_browser_action')})),h.addEventListener('keydown',(e=>{e.preventDefault()})),h.addEventListener('blur',(e=>{L(e,'_execute_browser_action')})),v.addEventListener('keydown',(e=>{e.preventDefault()})),v.addEventListener('focus',(e=>{I(e,'autofill')})),v.addEventListener('blur',(e=>{L(e,'autofill')})),b.addEventListener('keydown',(e=>{e.preventDefault()})),b.addEventListener('focus',(e=>{I(e,'lock')})),b.addEventListener('blur',(e=>{L(e,'lock')})),document.getElementById('reset_btn_activate').addEventListener('click',(e=>{B(e,'_execute_browser_action')})),document.getElementById('default_btn_activate').addEventListener('click',(e=>{var t,n;n=t='_execute_browser_action',a.commands.reset(n),S(t)})),document.getElementById('reset_btn_autofill').addEventListener('click',(e=>{B(e,'autofill')})),document.getElementById('reset_btn_lock').addEventListener('click',(e=>{B(e,'lock')})),document.getElementById('refresh_btn').addEventListener('click',(function(e){let t=document.querySelector('#log-container');t.textContent='';const n=document.createElement('img');n.src='../images/rolling.gif',n.srcset='../images/rolling@2x.gif 2x, ../images/rolling.gif 1x',n.style.marginTop='100px',t.classList.add('text-center'),t.appendChild(n),setTimeout((()=>{t.classList.remove('text-center'),n.remove(),c('get_logs')}),2e3)})),k.addEventListener('keyup',(()=>{k.value.trim()?E.disabled=!1:E.disabled=!0})),k.addEventListener('keydown',(e=>{let t=k?k.value:'';if('Enter'===e.key){try{const e=new URL(t);M(e.origin+e.pathname)}catch(e){M(t.trim())}k.value=''}})),document.getElementById('add_inline_url').addEventListener('click',(function(e){const t=document.querySelector('#inline_url').value;try{const e=new URL(t);M(e.origin+e.pathname)}catch(e){M(t.trim())}document.querySelector('#inline_url').value=''})),document.getElementById('copy_btn').addEventListener('click',(function(e){let t=document.querySelector('.log-container>ul');const n=window.getSelection(),l=document.createRange();l.selectNodeContents(t),n.removeAllRanges(),n.addRange(l);try{document.execCommand('copy'),n.removeAllRanges();const e=t.innerHTML;t.textContent=p('label_copied'),setTimeout((()=>{t.innerHTML=e}),1200)}catch(e){}})),document.getElementById('context_menu_setting').addEventListener('change',(function(e){d({show_context_menu:this.checked.toString()})})),document.getElementById('passkey_toggle').addEventListener('change',(function(e){d({save_passkey:this.checked.toString()})})),document.getElementById('log_setting').addEventListener('change',(function(e){d({show_log_messages_setting:this.checked.toString()});let t=document.getElementById('log-container'),n=document.getElementById('log-section');this.checked?(c('get_logs'),n.style.display='block'):(n.style.display='none',t.textContent='')})),document.getElementById('inline_menu_setting').addEventListener('change',(function(e){d({show_inline_menu:this.checked.toString()}),this.checked?document.getElementById('inline_dashboard').style.display='block':document.getElementById('inline_dashboard').style.display='none'})),document.getElementById('override_pwd_manager').addEventListener('change',(function(e){const t=this;var n,l;this.checked?(t.disabled=!0,n=['privacy'],l=e=>{t.disabled=!1,e?a.privacy.services.passwordSavingEnabled.get({},(e=>{'controlled_by_this_extension'!==e.levelOfControl&&'controllable_by_this_extension'!==e.levelOfControl||(a.privacy.services.passwordSavingEnabled.set({value:!1}),a.privacy.services.autofillCreditCardEnabled&&a.privacy.services.autofillCreditCardEnabled.set({value:!1}),a.privacy.services.autofillAddressEnabled&&a.privacy.services.autofillAddressEnabled.set({value:!1}))})):t.checked=!1},a.permissions.request({permissions:n},l)):(e=>{a.privacy.services.passwordSavingEnabled.get({},(t=>{'controlled_by_this_extension'!==t.levelOfControl&&'controllable_by_this_extension'!==t.levelOfControl||(a.privacy.services.passwordSavingEnabled.clear({}),a.privacy.services.autofillCreditCardEnabled&&a.privacy.services.autofillCreditCardEnabled.clear({}),a.privacy.services.autofillAddressEnabled&&a.privacy.services.autofillAddressEnabled.clear({}),e())}))})((()=>{((e,t)=>{a.permissions.remove({permissions:e},t)})(['privacy'],(e=>{e||(t.checked=!1)}))})),d({is_set_default:t.checked})})),document.getElementById('autofill_setting').addEventListener('change',(function(e){d({auto_login:this.checked.toString()})})),document.getElementById('menu_theme').addEventListener('change',(function(e){d({inline_menu_theme:e.target.value})})),function(){let e=document.getElementById('reset_btn_activate'),t=document.getElementById('reset_btn_autofill'),n=document.getElementById('reset_btn_lock'),l=p('clear');l&&(e&&(e.textContent=l),t&&(t.textContent=l),n&&(n.textContent=l));let o=document.getElementById('default_btn_activate'),i=p('default');i&&o&&(o.textContent=i);let r=document.getElementById('context_menu_setting_label'),a=p('option_context_menu_label');r&&a&&(r.textContent=a);let c=document.getElementById('context_menu_setting_hint'),s=p('context_menu_info');c&&s&&(c.textContent=s);let d=document.getElementById('mainHeader'),u=p('option_header');d&&u&&(d.textContent=u);let _=document.getElementById('shortcut_setting_label'),m=p('option_shortcut_label');_&&m&&(_.textContent=m);O('activate_shortcut_setting_label','label_keyboard_shortcuts',null),O('overrid_hint','info_enpass_as_default',null),O('link_shortcut_setup','link_shortcut_change',null),O('autofill_onload_hint','info_autofill_onload',null),O('block_url_hint','info_inline_menu_blocked_page_list',null),O('autofill_onload_label','label_autofill_onload',null),O('autofill_menu_blocklist','label_inline_menu_blocked_page_list',null),O('menu_setting_label','label_inline_toggle',null),O('inline_menu_theme_setting','label_menu_appearance',null);let g=document.getElementById('shortcut_error_activate'),f=document.getElementById('shortcut_error_autofill'),y=document.getElementById('shortcut_error_lock'),h=p('info_invalid_shortcut');h&&(g&&(g.textContent=h),f&&(f.textContent=h),y&&(y.textContent=h));O('inline_url','placeholder_add_blocked_url','placeholder'),O('log_setting_label','label_enable_logs',null),O('lock_enpass_shortcut','string_shortcut_lock',null),O('autofill_shortcut_label','string_shortcut_autofill',null),O('override_setting','label_enpass_as_default',null),O('label_theme_default','label_system_theme',null),O('label_dark','label_dark',null),O('label_light','label_light',null),O('add_inline_url','label_add',null),O('copy_btn','label_copy',null),O('refresh_btn','label_refresh',null),O('inline_menu_enable','label_autofill_menu_info',null),O('activate_shortcut_label','shortcut_activate_label',null)}(),function(){let e=p('option_title');e&&(document.title=e)}(),(e=>{'object'==typeof safari&&safari.self&&safari.self.addEventListener?safari.self.addEventListener('message',(({name:t,message:n})=>{e(t,n)})):a.runtime.onMessage.addListener(((t,n,l)=>{if(!t)return;const{command:o,payload:i}=t;e(o,i,n,l)}))})((function(e,t,n,l){switch(e){case'set_stored_shortcut_key':break;case'set_context_menu_toggle':'true'===t.toggle?document.getElementById('context_menu_setting').checked=!0:document.getElementById('context_menu_setting').checked=!1;break;case'updated_logs':!function(e){if(e){let t=e.split(';'),n=document.getElementById('log-container');if(n){n.textContent='';let e=document.createElement('UL');t.forEach((function(t){let n=document.createElement('LI');n.textContent=t,e.appendChild(n)})),n.appendChild(e)}}}(t.logs)}})),s(['inline_supported'],(e=>{'false'===e.inline_supported&&(document.querySelector('#section_override').style.display='none',document.querySelector('#inline_setting').style.display='none',document.querySelector('#autofill_onload_setting').style.display='none',document.querySelector('#inline_dashboard').style.display='none')})),s(['passkey_supported'],(e=>{'true'===e.passkey_supported&&(document.querySelector('#passkey_toggle_container').style.display='flex')})),(e=>{a.storage.onChanged.addListener(((t,n)=>{'local'===n&&e(t)}))})((function(e){e.is_set_default&&(document.getElementById('override_pwd_manager').checked=e.is_set_default.newValue),e.inline_supported&&'true'===e.inline_supported.newValue&&(document.querySelector('#inline_setting').style.display='block',document.querySelector('#autofill_onload_setting').style.display='block',document.querySelector('#inline_dashboard').style.display='block')}))}();

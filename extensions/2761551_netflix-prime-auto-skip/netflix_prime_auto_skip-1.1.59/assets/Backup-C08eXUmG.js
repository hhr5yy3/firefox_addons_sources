import{d as y,s as S}from"./gift-DYdWkef2.js";import{b as h,o as v,c as x,a as e,i as a,e as _,F as w,d as b}from"./storeTypes-CGrbvTi_.js";const O={class:"flex flex-col flex-align"},j=["href"],B={class:"flex flex-row flex-align"},J=h({__name:"Backup",setup(N){const u=y(),{settings:n}=S(u);function c(){confirm(`You want to reset the Settings.

Are you sure you want to do this?`)&&(n.value=b)}let f=new Blob([JSON.stringify(n.value)],{type:"text/json"});const p=URL.createObjectURL(f);function g(t){var l;const o=(l=t.target.files)==null?void 0:l[0];if(o===void 0||o.type!=="application/json"){alert("The file you uploaded is not a valid JSON file.");return}else{const i=new FileReader;i.addEventListener("load",m=>{var r;try{const d=JSON.parse((r=m.target)==null?void 0:r.result);n.value=d}catch{alert("The file you uploaded is not a valid JSON file.");return}}),i.readAsText(o)}}return(t,s)=>(v(),x(w,null,[e("div",null,[e("div",O,[e("h2",null,a(t.$t("importSettings")),1),e("div",null,[e("a",{class:"btn btn-secondary rounded-2xl my-2",href:_(p),download:"settings.json"},a(t.$t("saveSettings")),9,j)]),e("div",B,[s[0]||(s[0]=e("p",null,"Upload Settings:",-1)),e("input",{type:"file",name:"settings",accept:"text/json",class:"file-input w-full max-w-xs",onChange:g},null,32)])])]),e("div",{class:"btn btn-secondary rounded-2xl reset my-2",onClick:c},a(t.$t("resetAddon")),1)],64))}});export{J as default};

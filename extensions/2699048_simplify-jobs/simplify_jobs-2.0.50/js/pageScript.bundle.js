(()=>{"use strict";const e=e=>Array.isArray(e)?e:void 0!==e?[e]:[],t=(t={})=>{const{container:n,containerPath:o,containerIndex:r,filter:i=()=>!0}=t;if(n&&document.documentElement.contains(n)&&i(n)&&void 0!==o&&void 0!==r)return t;if(o){const t=e(o);for(let e=0;e<t.length;e+=1)try{const n=document.evaluate(t[e],document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(n.snapshotLength>0){if(void 0!==r){const o=n.snapshotItem(r),u=o instanceof HTMLElement?o:null==o?void 0:o.parentElement;if(u&&i(u))return{container:u,containerPath:t[e],containerIndex:r}}for(let o=0;o<n.snapshotLength;o+=1){const r=n.snapshotItem(o),u=r instanceof HTMLElement?r:null==r?void 0:r.parentElement;if(u&&i(u))return{container:u,containerPath:t[e],containerIndex:o}}}}catch(e){}}return{container:document.documentElement,containerPath:"//html",containerIndex:0}},n=({foundContainer:n=t(),elementPath:o,elementIndex:r,filter:i=()=>!0})=>{n=t(n);const{container:u}=n;if(u&&o){const t=e(o);for(let e=0;e<t.length;e+=1)try{const o=document.evaluate(t[e],u,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(o.snapshotLength>0){if(void 0!==r){const u=o.snapshotItem(r),l=u instanceof HTMLElement?u:null==u?void 0:u.parentElement;if(l&&i(l))return{foundContainer:n,element:l,elementPath:t[e],elementIndex:r}}for(let r=0;r<o.snapshotLength;r+=1){const u=o.snapshotItem(r),l=u instanceof HTMLElement?u:null==u?void 0:u.parentElement;if(l&&i(l))return{foundContainer:n,element:l,elementPath:t[e],elementIndex:r}}}}catch(e){}}return null},o=("undefined"!=typeof window&&(window.top,window.self),e=>{if(!e)return!1;const t=["checkbox","radio"];return!(!("type"in e)||!t.includes(e.type))||"role"in e&&t.includes(e.role||"")}),r=(e,t,n)=>{const o=window.jQuery.Event(e);if(!n)return o;if(n&&"assign"in n&&n.assign&&"object"==typeof n.assign){const e=Object.keys(n.assign);for(let r=0;r<e.length;r+=1){const i=e[r],u=n.assign[i];o[i]="%VALUE%"===u?t:u}}return o},i=(e,t)=>{var n,o;const r=null===(n=Object.getOwnPropertyDescriptor(e,"value"))||void 0===n?void 0:n.set,i=null===(o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"))||void 0===o?void 0:o.set;r&&i&&r!==i?i.call(e,t):r&&r.call(e,t),e.value=t,e.setAttribute("value",t)},u={dijit:async({foundInput:t,value:o})=>{if(!window.dijit)throw new Error("No dijit!");const r=n(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===o)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const u=e(o);for(let e=0;e<u.length;e+=1)if(window.dijit.getEnclosingWidget(i).set("value",u[e]),window.dijit.getEnclosingWidget(i).get("value")===u[e])return!0;return!1},jQuery:async({foundInput:e,foundValueElement:t,event:i,eventOptions:u,value:l})=>{var c;if(!window.jQuery)throw new Error("No jQuery");const a=n(e.foundElement);if(!a)throw new Error("Element not found");const{element:s}=a;if(!s)throw new Error("Input not found");const d=t&&(null===(c=n(t))||void 0===c?void 0:c.element);try{const e=o(d)&&d||o(s)&&s;if(i)window.jQuery(s).trigger(i,u);else if(s instanceof HTMLSelectElement){if(d instanceof HTMLOptionElement&&(l=d.value),void 0===l)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(s).trigger(r("focus",l,u)).trigger(r("click",l,u)).val(l).trigger(r("input",l,u)).trigger(r("change",l,u))}else if(e)window.jQuery(e).trigger(r("focus",l,u)).trigger(r("click",l,u)).prop("checked",Boolean(l)).trigger(r("input",l,u)).trigger(r("change",l,u));else{if(void 0===l)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};window.jQuery(s).trigger(r("focus",l,u)).trigger(r("click",l,u)).trigger(r("keydown",l,u)).trigger(r("keypress",l,u)).val(l).trigger(r("input",l,u)).trigger(r("keyup",l,u)).trigger(r("change",l,u))}}catch(e){if(!i&&window.jQuery(s).val()!==l)return!1;throw e}return!0},react:async({foundInput:e,foundValueElement:t,eventOptions:r,value:u})=>{var l;const c=n(e.foundElement);if(!c)throw new Error("Element not found");const{element:a}=c;if(!a)throw new Error("Input not found");const s=Object.keys(a).find((e=>/^(__reactProps|__reactEventHandlers)/.test(e)));if(!s)throw new Error("No React event handlers");const d=t&&(null===(l=n(t))||void 0===l?void 0:l.element),f=(e,t,n)=>{try{var o;const i=new e(t,r);Object.defineProperty(i,"target",{writable:!1,value:a}),Object.defineProperty(i,"currentTarget",{writable:!1,value:a}),a.dispatchEvent(i),(null===(o=a[s])||void 0===o?void 0:o[n])&&(i.nativeEvent=i,a[s][n](i))}catch(e){}};if(a instanceof HTMLSelectElement)return d instanceof HTMLOptionElement&&(u=d.value),f(FocusEvent,"focus","onFocus"),f(MouseEvent,"click","onClick"),i(a,u),f(InputEvent,"input","onInput"),f(Event,"change","onChange"),f(FocusEvent,"blur","onBlur"),!0;if(a instanceof HTMLButtonElement||["button"].includes("role"in a&&a.role||""))return f(FocusEvent,"focus","onFocus"),f(MouseEvent,"mousedown","onMouseDown"),f(MouseEvent,"mouseup","onMouseUp"),f(MouseEvent,"click","onClick"),f(FocusEvent,"blur","onBlur"),!0;const p=o(d)&&d||o(a)&&a;if(p)return void 0===u&&(u=!0),p instanceof HTMLInputElement?(!u&&!p.checked||u&&p.checked||(f(FocusEvent,"focus","onFocus"),f(MouseEvent,"click","onClick"),p.checked=Boolean(u),f(InputEvent,"input","onInput"),f(Event,"change","onChange"),f(FocusEvent,"blur","onBlur")),!0):(u&&(f(FocusEvent,"focus","onFocus"),f(MouseEvent,"click","onClick"),f(Event,"change","onChange"),f(FocusEvent,"blur","onBlur")),!0);if(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement){const e=()=>{f(FocusEvent,"focus","onFocus"),f(MouseEvent,"click","onClick"),f(KeyboardEvent,"keydown","onKeyDown"),f(KeyboardEvent,"keypress","onKeyPress"),i(a,u),f(InputEvent,"input","onInput"),f(KeyboardEvent,"keyup","onKeyUp"),f(Event,"change","onChange"),f(FocusEvent,"blur","onBlur")};if(e(),r&&"repeat"in r&&"number"==typeof r.repeat)for(let t=0;t<r.repeat;t+=1)e();return!0}throw new Error("Unknown input type")},reactClick:async({foundInput:e,eventOptions:t})=>{const o=n(e.foundElement);if(!o)throw new Error("Element not found");const{element:r}=o;if(!r)throw new Error("Input not found");try{const e=Object.keys(r).find((e=>/^(__reactProps|__reactEventHandlers)/.test(e)));if(!e)throw new Error("React props key not found");if(!r[e].onClick)throw new Error("Click handler not found");const n=new MouseEvent("click",t);Object.defineProperty(n,"target",{writable:!1,value:r}),Object.defineProperty(n,"currentTarget",{writable:!1,value:r}),r[e].onClick(n)}catch(e){r.click()}return!0},tinyMCE:async({foundInput:t,value:o})=>{if(!window.tinyMCE)throw new Error("No tinyMCE");const r=n(t.foundElement);if(!r)throw new Error("Element not found");const{element:i}=r;if(!i)throw new Error("Input not found");if(void 0===o)return{inputFillStatus:"skipped",inputFillMessage:"Value is undefined"};const u=e(o);for(let e=0;e<u.length;e+=1)if(window.tinyMCE.get(i.id).setContent(u[e]),window.tinyMCE.get(i.id).getContent()===u[e])return!0;return!1},tptEnableResume:async()=>{if(!window.tpt)throw new Error("No tpt");return window.tpt.uploadResume.updateAcceptedFieldMode("file"),window.tpt.uploadResume.uploadResumeInputShower("file"),window.tpt.uploadResume.showUploadFileError(!1),window.tpt.uploadResume.checkFilledResumeFile()?window.tpt.uploadResume.toggleUploadResumeNextButton(!0):window.tpt.uploadResume.toggleUploadResumeNextButton(!1),!0}},l={jQuery:async({foundTrackedInput:t,update:r})=>{if(!window.jQuery)throw new Error("No jQuery");const i=n(t.foundFieldElement),u=null==i?void 0:i.element;if(!u)throw new Error("Field not found");const l=t.foundInputElement&&n({foundContainer:{container:i.element,containerPath:i.elementPath,containerIndex:i.elementIndex},elementPath:t.foundInputElement.elementPath,elementIndex:t.foundInputElement.elementIndex}),c=null==l?void 0:l.element,{inputTextPath:a}=t.trackedInputSelector;if(!c)throw new Error("Input not found");return c instanceof HTMLSelectElement?(window.jQuery(c).off("change.__simplify__trackInput"),window.jQuery(c).on("change.__simplify__trackInput",(()=>{null==r||r({inputValue:window.jQuery(c).find(e(a||"option:selected").join(", ")).text().trim()||window.jQuery(c).val()})}))):o(c)?(window.jQuery(c).off("change.__simplify__trackInput"),window.jQuery(c).on("change.__simplify__trackInput",(()=>{null==r||r({inputValue:window.jQuery(u).find(e(a||":checked").join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray(),options:window.jQuery(u).find(e(a||[":checked",":not(:checked)"]).join(", ")).map(((e,t)=>String(window.jQuery(t).val()||window.jQuery(t).text()))).toArray()})}))):(window.jQuery(c).off("change.__simplify__trackInput"),window.jQuery(c).on("change.__simplify__trackInput",(()=>{null==r||r({inputValue:a&&window.jQuery(u).find(e(a).join(", ")).text().trim()||window.jQuery(c).val()})}))),!0}},c=e=>{if(e){if("string"==typeof e)return e;if("object"==typeof e){if("body"in e&&"object"==typeof e.body)return e.body.detail&&"string"==typeof e.body.detail?e.body.detail:Array.isArray(e.body.detail)&&e.body.detail.length>0?e.body.detail.map((e=>{if("object"==typeof e){const t=[];return e.msg?t.push(e.msg):t.push("No error message"),Array.isArray(e.loc)&&e.loc.length>0&&t.push(`(${e.loc.join(".")})`),t.join(" ")}return e})).join(", "):JSON.stringify(e.body);if("code"in e){if("ETIMEDOUT"===e.code)return"Timed out";if("ECONNABORTED"===e.code)return"Connection aborted"}var t;return"response"in e&&e.response&&"object"==typeof e.response?"data"in e.response&&"string"==typeof(null===(t=e.response.data)||void 0===t?void 0:t.error)?e.response.data.error:"string"==typeof e.response.statusText?e.response.statusText:JSON.stringify(e.response):"message"in e&&"string"==typeof e.message?e.message:JSON.stringify(e)}}};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){a(e,t,n[t])}))}return e}({action:"__simplify__updateFilledInput"},e),"*")};function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__fillInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=e.data,{foundInput:o,method:r}=n,{keyPath:i}=o,l=r&&u[r]||u.default;if(l)try{const e=await l(n);if(!e)throw new Error("Fill could not be confirmed");s("object"==typeof e?{keyPath:i,status:e.inputFillStatus,message:e.inputFillMessage}:{keyPath:i,status:"filled"})}catch(e){s({keyPath:i,status:"error",message:c(e)||"Unknown error"})}}catch(e){}}),!1);const f=e=>{window.postMessage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){d(e,t,n[t])}))}return e}({action:"__simplify__updateTrackedInput"},e),"*")};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){p(e,t,n[t])}))}return e}function y(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}window.addEventListener("message",(async e=>{try{var t;if(e.source!==window||"__simplify__trackInput"!==(null===(t=e.data)||void 0===t?void 0:t.action))return;const n=e.data,{trackedInput:o,method:r}=n,{labelText:i}=o,u=r&&l[r]||l.default;if(u)try{if(!await u(y(w({},n),{update:e=>f(y(w({},e),{labelText:i}))})))throw new Error("Tracking could not be confirmed");f({labelText:i,status:"tracking"})}catch(e){f({labelText:i,status:"error",message:c(e)||"Unknown error"})}}catch(e){}}),!1)})();